var vk2=(()=>{var oFe=Object.create;var z1=Object.defineProperty,aFe=Object.defineProperties,sFe=Object.getOwnPropertyDescriptor,lFe=Object.getOwnPropertyDescriptors,uFe=Object.getOwnPropertyNames,$2=Object.getOwnPropertySymbols,cFe=Object.getPrototypeOf,Bq=Object.prototype.hasOwnProperty,LW=Object.prototype.propertyIsEnumerable;var zW=e=>{throw TypeError(e)},dh=Math.pow,jq=(e,t,r)=>t in e?z1(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,tt=(e,t)=>{for(var r in t||(t={}))Bq.call(t,r)&&jq(e,r,t[r]);if($2)for(var r of $2(t))LW.call(t,r)&&jq(e,r,t[r]);return e},Lr=(e,t)=>aFe(e,lFe(t));var wn=(e,t)=>{var r={};for(var n in e)Bq.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&$2)for(var n of $2(e))t.indexOf(n)<0&&LW.call(e,n)&&(r[n]=e[n]);return r};var I=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),pFe=(e,t)=>{for(var r in t)z1(e,r,{get:t[r],enumerable:!0})},FW=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of uFe(t))!Bq.call(e,i)&&i!==r&&z1(e,i,{get:()=>t[i],enumerable:!(n=sFe(t,i))||n.enumerable});return e};var ne=(e,t,r)=>(r=e!=null?oFe(cFe(e)):{},FW(t||!e||!e.__esModule?z1(r,"default",{value:e,enumerable:!0}):r,e)),dFe=e=>FW(z1({},"__esModule",{value:!0}),e);var Pn=(e,t,r)=>jq(e,typeof t!="symbol"?t+"":t,r),Vq=(e,t,r)=>t.has(e)||zW("Cannot "+r);var Uq=(e,t,r)=>(Vq(e,t,"read from private field"),r?r.call(e):t.get(e)),H2=(e,t,r)=>t.has(e)?zW("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),$q=(e,t,r,n)=>(Vq(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Hq=(e,t,r)=>(Vq(e,t,"access private method"),r);var Oi=(e,t,r)=>new Promise((n,i)=>{var o=h=>{try{f(r.next(h))}catch(y){i(y)}},u=h=>{try{f(r.throw(h))}catch(y){i(y)}},f=h=>h.done?n(h.value):Promise.resolve(h.value).then(o,u);f((r=r.apply(e,t)).next())});var Gq=I((XQt,BW)=>{"use strict";var jW=Object.getOwnPropertySymbols,fFe=Object.prototype.hasOwnProperty,hFe=Object.prototype.propertyIsEnumerable;function mFe(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function vFe(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(t).map(function(o){return t[o]});if(n.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(o){i[o]=o}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch(o){return!1}}BW.exports=vFe()?Object.assign:function(e,t){for(var r,n=mFe(e),i,o=1;o<arguments.length;o++){r=Object(arguments[o]);for(var u in r)fFe.call(r,u)&&(n[u]=r[u]);if(jW){i=jW(r);for(var f=0;f<i.length;f++)hFe.call(r,i[f])&&(n[i[f]]=r[i[f]])}}return n}});var nZ=I(dn=>{"use strict";var Zq=Gq(),Nv=60103,$W=60106;dn.Fragment=60107;dn.StrictMode=60108;dn.Profiler=60114;var HW=60109,GW=60110,WW=60112;dn.Suspense=60113;var ZW=60115,KW=60116;typeof Symbol=="function"&&Symbol.for&&(al=Symbol.for,Nv=al("react.element"),$W=al("react.portal"),dn.Fragment=al("react.fragment"),dn.StrictMode=al("react.strict_mode"),dn.Profiler=al("react.profiler"),HW=al("react.provider"),GW=al("react.context"),WW=al("react.forward_ref"),dn.Suspense=al("react.suspense"),ZW=al("react.memo"),KW=al("react.lazy"));var al,VW=typeof Symbol=="function"&&Symbol.iterator;function gFe(e){return e===null||typeof e!="object"?null:(e=VW&&e[VW]||e["@@iterator"],typeof e=="function"?e:null)}function F1(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var YW={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},XW={};function kv(e,t,r){this.props=e,this.context=t,this.refs=XW,this.updater=r||YW}kv.prototype.isReactComponent={};kv.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error(F1(85));this.updater.enqueueSetState(this,e,t,"setState")};kv.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function JW(){}JW.prototype=kv.prototype;function Kq(e,t,r){this.props=e,this.context=t,this.refs=XW,this.updater=r||YW}var Yq=Kq.prototype=new JW;Yq.constructor=Kq;Zq(Yq,kv.prototype);Yq.isPureReactComponent=!0;var Xq={current:null},QW=Object.prototype.hasOwnProperty,eZ={key:!0,ref:!0,__self:!0,__source:!0};function tZ(e,t,r){var n,i={},o=null,u=null;if(t!=null)for(n in t.ref!==void 0&&(u=t.ref),t.key!==void 0&&(o=""+t.key),t)QW.call(t,n)&&!eZ.hasOwnProperty(n)&&(i[n]=t[n]);var f=arguments.length-2;if(f===1)i.children=r;else if(1<f){for(var h=Array(f),y=0;y<f;y++)h[y]=arguments[y+2];i.children=h}if(e&&e.defaultProps)for(n in f=e.defaultProps,f)i[n]===void 0&&(i[n]=f[n]);return{$$typeof:Nv,type:e,key:o,ref:u,props:i,_owner:Xq.current}}function yFe(e,t){return{$$typeof:Nv,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Jq(e){return typeof e=="object"&&e!==null&&e.$$typeof===Nv}function _Fe(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var UW=/\/+/g;function Wq(e,t){return typeof e=="object"&&e!==null&&e.key!=null?_Fe(""+e.key):t.toString(36)}function W2(e,t,r,n,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var u=!1;if(e===null)u=!0;else switch(o){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case Nv:case $W:u=!0;}}if(u)return u=e,i=i(u),e=n===""?"."+Wq(u,0):n,Array.isArray(i)?(r="",e!=null&&(r=e.replace(UW,"$&/")+"/"),W2(i,t,r,"",function(y){return y})):i!=null&&(Jq(i)&&(i=yFe(i,r+(!i.key||u&&u.key===i.key?"":(""+i.key).replace(UW,"$&/")+"/")+e)),t.push(i)),1;if(u=0,n=n===""?".":n+":",Array.isArray(e))for(var f=0;f<e.length;f++){o=e[f];var h=n+Wq(o,f);u+=W2(o,t,r,h,i)}else if(h=gFe(e),typeof h=="function")for(e=h.call(e),f=0;!(o=e.next()).done;)o=o.value,h=n+Wq(o,f++),u+=W2(o,t,r,h,i);else if(o==="object")throw t=""+e,Error(F1(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function G2(e,t,r){if(e==null)return e;var n=[],i=0;return W2(e,n,"","",function(o){return t.call(r,o,i++)}),n}function bFe(e){if(e._status===-1){var t=e._result;t=t(),e._status=0,e._result=t,t.then(function(r){e._status===0&&(r=r.default,e._status=1,e._result=r)},function(r){e._status===0&&(e._status=2,e._result=r)})}if(e._status===1)return e._result;throw e._result}var rZ={current:null};function Dc(){var e=rZ.current;if(e===null)throw Error(F1(321));return e}var xFe={ReactCurrentDispatcher:rZ,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:Xq,IsSomeRendererActing:{current:!1},assign:Zq};dn.Children={map:G2,forEach:function(e,t,r){G2(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return G2(e,function(){t++}),t},toArray:function(e){return G2(e,function(t){return t})||[]},only:function(e){if(!Jq(e))throw Error(F1(143));return e}};dn.Component=kv;dn.PureComponent=Kq;dn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xFe;dn.cloneElement=function(e,t,r){if(e==null)throw Error(F1(267,e));var n=Zq({},e.props),i=e.key,o=e.ref,u=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,u=Xq.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var f=e.type.defaultProps;for(h in t)QW.call(t,h)&&!eZ.hasOwnProperty(h)&&(n[h]=t[h]===void 0&&f!==void 0?f[h]:t[h])}var h=arguments.length-2;if(h===1)n.children=r;else if(1<h){f=Array(h);for(var y=0;y<h;y++)f[y]=arguments[y+2];n.children=f}return{$$typeof:Nv,type:e.type,key:i,ref:o,props:n,_owner:u}};dn.createContext=function(e,t){return t===void 0&&(t=null),e={$$typeof:GW,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider={$$typeof:HW,_context:e},e.Consumer=e};dn.createElement=tZ;dn.createFactory=function(e){var t=tZ.bind(null,e);return t.type=e,t};dn.createRef=function(){return{current:null}};dn.forwardRef=function(e){return{$$typeof:WW,render:e}};dn.isValidElement=Jq;dn.lazy=function(e){return{$$typeof:KW,_payload:{_status:-1,_result:e},_init:bFe}};dn.memo=function(e,t){return{$$typeof:ZW,type:e,compare:t===void 0?null:t}};dn.useCallback=function(e,t){return Dc().useCallback(e,t)};dn.useContext=function(e,t){return Dc().useContext(e,t)};dn.useDebugValue=function(){};dn.useEffect=function(e,t){return Dc().useEffect(e,t)};dn.useImperativeHandle=function(e,t,r){return Dc().useImperativeHandle(e,t,r)};dn.useLayoutEffect=function(e,t){return Dc().useLayoutEffect(e,t)};dn.useMemo=function(e,t){return Dc().useMemo(e,t)};dn.useReducer=function(e,t,r){return Dc().useReducer(e,t,r)};dn.useRef=function(e){return Dc().useRef(e)};dn.useState=function(e){return Dc().useState(e)};dn.version="17.0.2"});var Ve=I((QQt,iZ)=>{"use strict";iZ.exports=nZ()});var cZ=I(En=>{"use strict";var Lv,V1,X2,oN;typeof performance=="object"&&typeof performance.now=="function"?(oZ=performance,En.unstable_now=function(){return oZ.now()}):(Qq=Date,aZ=Qq.now(),En.unstable_now=function(){return Qq.now()-aZ});var oZ,Qq,aZ;typeof window=="undefined"||typeof MessageChannel!="function"?(Dv=null,eN=null,tN=function(){if(Dv!==null)try{var e=En.unstable_now();Dv(!0,e),Dv=null}catch(t){throw setTimeout(tN,0),t}},Lv=function(e){Dv!==null?setTimeout(Lv,0,e):(Dv=e,setTimeout(tN,0))},V1=function(e,t){eN=setTimeout(e,t)},X2=function(){clearTimeout(eN)},En.unstable_shouldYield=function(){return!1},oN=En.unstable_forceFrameRate=function(){}):(sZ=window.setTimeout,lZ=window.clearTimeout,typeof console!="undefined"&&(uZ=window.cancelAnimationFrame,typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof uZ!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")),j1=!1,B1=null,Z2=-1,rN=5,nN=0,En.unstable_shouldYield=function(){return En.unstable_now()>=nN},oN=function(){},En.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):rN=0<e?Math.floor(1e3/e):5},iN=new MessageChannel,K2=iN.port2,iN.port1.onmessage=function(){if(B1!==null){var e=En.unstable_now();nN=e+rN;try{B1(!0,e)?K2.postMessage(null):(j1=!1,B1=null)}catch(t){throw K2.postMessage(null),t}}else j1=!1},Lv=function(e){B1=e,j1||(j1=!0,K2.postMessage(null))},V1=function(e,t){Z2=sZ(function(){e(En.unstable_now())},t)},X2=function(){lZ(Z2),Z2=-1});var Dv,eN,tN,sZ,lZ,uZ,j1,B1,Z2,rN,nN,iN,K2;function aN(e,t){var r=e.length;e.push(t);e:for(;;){var n=r-1>>>1,i=e[n];if(i!==void 0&&0<Y2(i,t))e[n]=t,e[r]=i,r=n;else break e}}function Kl(e){return e=e[0],e===void 0?null:e}function J2(e){var t=e[0];if(t!==void 0){var r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,i=e.length;n<i;){var o=2*(n+1)-1,u=e[o],f=o+1,h=e[f];if(u!==void 0&&0>Y2(u,r))h!==void 0&&0>Y2(h,u)?(e[n]=h,e[f]=r,n=f):(e[n]=u,e[o]=r,n=o);else if(h!==void 0&&0>Y2(h,r))e[n]=h,e[f]=r,n=f;else break e}}return t}return null}function Y2(e,t){var r=e.sortIndex-t.sortIndex;return r!==0?r:e.id-t.id}var Au=[],vd=[],wFe=1,sl=null,na=3,Q2=!1,fh=!1,U1=!1;function sN(e){for(var t=Kl(vd);t!==null;){if(t.callback===null)J2(vd);else if(t.startTime<=e)J2(vd),t.sortIndex=t.expirationTime,aN(Au,t);else break;t=Kl(vd)}}function lN(e){if(U1=!1,sN(e),!fh)if(Kl(Au)!==null)fh=!0,Lv(uN);else{var t=Kl(vd);t!==null&&V1(lN,t.startTime-e)}}function uN(e,t){fh=!1,U1&&(U1=!1,X2()),Q2=!0;var r=na;try{for(sN(t),sl=Kl(Au);sl!==null&&(!(sl.expirationTime>t)||e&&!En.unstable_shouldYield());){var n=sl.callback;if(typeof n=="function"){sl.callback=null,na=sl.priorityLevel;var i=n(sl.expirationTime<=t);t=En.unstable_now(),typeof i=="function"?sl.callback=i:sl===Kl(Au)&&J2(Au),sN(t)}else J2(Au);sl=Kl(Au)}if(sl!==null)var o=!0;else{var u=Kl(vd);u!==null&&V1(lN,u.startTime-t),o=!1}return o}finally{sl=null,na=r,Q2=!1}}var SFe=oN;En.unstable_IdlePriority=5;En.unstable_ImmediatePriority=1;En.unstable_LowPriority=4;En.unstable_NormalPriority=3;En.unstable_Profiling=null;En.unstable_UserBlockingPriority=2;En.unstable_cancelCallback=function(e){e.callback=null};En.unstable_continueExecution=function(){fh||Q2||(fh=!0,Lv(uN))};En.unstable_getCurrentPriorityLevel=function(){return na};En.unstable_getFirstCallbackNode=function(){return Kl(Au)};En.unstable_next=function(e){switch(na){case 1:case 2:case 3:var t=3;break;default:t=na;}var r=na;na=t;try{return e()}finally{na=r}};En.unstable_pauseExecution=function(){};En.unstable_requestPaint=SFe;En.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3;}var r=na;na=e;try{return t()}finally{na=r}};En.unstable_scheduleCallback=function(e,t,r){var n=En.unstable_now();switch(typeof r=="object"&&r!==null?(r=r.delay,r=typeof r=="number"&&0<r?n+r:n):r=n,e){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3;}return i=r+i,e={id:wFe++,callback:t,priorityLevel:e,startTime:r,expirationTime:i,sortIndex:-1},r>n?(e.sortIndex=r,aN(vd,e),Kl(Au)===null&&e===Kl(vd)&&(U1?X2():U1=!0,V1(lN,r-n))):(e.sortIndex=i,aN(Au,e),fh||Q2||(fh=!0,Lv(uN))),e};En.unstable_wrapCallback=function(e){var t=na;return function(){var r=na;na=t;try{return e.apply(this,arguments)}finally{na=r}}}});var dZ=I((ter,pZ)=>{"use strict";pZ.exports=cZ()});var JY=I(fl=>{"use strict";var GI=Ve(),ci=Gq(),fo=dZ();function Mt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!GI)throw Error(Mt(227));var EK=new Set,__={};function Ih(e,t){ig(e,t),ig(e+"Capture",t)}function ig(e,t){for(__[e]=t,e=0;e<t.length;e++)EK.add(t[e])}var Vc=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),IFe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,fZ=Object.prototype.hasOwnProperty,hZ={},mZ={};function EFe(e){return fZ.call(mZ,e)?!0:fZ.call(hZ,e)?!1:IFe.test(e)?mZ[e]=!0:(hZ[e]=!0,!1)}function TFe(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1;}}function AFe(e,t,r,n){if(t===null||typeof t=="undefined"||TFe(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t;}return!1}function Ra(e,t,r,n,i,o,u){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=u}var Mo={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Mo[e]=new Ra(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Mo[t]=new Ra(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Mo[e]=new Ra(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Mo[e]=new Ra(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Mo[e]=new Ra(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Mo[e]=new Ra(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Mo[e]=new Ra(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Mo[e]=new Ra(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Mo[e]=new Ra(e,5,!1,e.toLowerCase(),null,!1,!1)});var yk=/[\-:]([a-z])/g;function _k(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(yk,_k);Mo[t]=new Ra(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(yk,_k);Mo[t]=new Ra(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(yk,_k);Mo[t]=new Ra(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Mo[e]=new Ra(e,1,!1,e.toLowerCase(),null,!1,!1)});Mo.xlinkHref=new Ra("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Mo[e]=new Ra(e,1,!1,e.toLowerCase(),null,!0,!0)});function bk(e,t,r,n){var i=Mo.hasOwnProperty(t)?Mo[t]:null,o=i!==null?i.type===0:n?!1:!(!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N");o||(AFe(t,r,i,n)&&(r=null),n||i===null?EFe(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Eh=GI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,r_=60103,mh=60106,yd=60107,xk=60108,s_=60114,wk=60109,Sk=60110,WI=60112,l_=60113,SI=60120,ZI=60115,Ik=60116,Ek=60121,Tk=60128,TK=60129,Ak=60130,RN=60131;typeof Symbol=="function"&&Symbol.for&&(Xi=Symbol.for,r_=Xi("react.element"),mh=Xi("react.portal"),yd=Xi("react.fragment"),xk=Xi("react.strict_mode"),s_=Xi("react.profiler"),wk=Xi("react.provider"),Sk=Xi("react.context"),WI=Xi("react.forward_ref"),l_=Xi("react.suspense"),SI=Xi("react.suspense_list"),ZI=Xi("react.memo"),Ik=Xi("react.lazy"),Ek=Xi("react.block"),Xi("react.scope"),Tk=Xi("react.opaque.id"),TK=Xi("react.debug_trace_mode"),Ak=Xi("react.offscreen"),RN=Xi("react.legacy_hidden"));var Xi,vZ=typeof Symbol=="function"&&Symbol.iterator;function $1(e){return e===null||typeof e!="object"?null:(e=vZ&&e[vZ]||e["@@iterator"],typeof e=="function"?e:null)}var cN;function n_(e){if(cN===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);cN=t&&t[1]||""}return`
`+cN+e}var pN=!1;function eI(e,t){if(!e||pN)return"";pN=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t){if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(h){var n=h}Reflect.construct(e,[],t)}else{try{t.call()}catch(h){n=h}e.call(t.prototype)}}else{try{throw Error()}catch(h){n=h}e()}}catch(h){if(h&&n&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),o=n.stack.split(`
`),u=i.length-1,f=o.length-1;1<=u&&0<=f&&i[u]!==o[f];)f--;for(;1<=u&&0<=f;u--,f--)if(i[u]!==o[f]){if(u!==1||f!==1)do if(u--,f--,0>f||i[u]!==o[f])return`
`+i[u].replace(" at new "," at ");while(1<=u&&0<=f);break}}}finally{pN=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?n_(e):""}function CFe(e){switch(e.tag){case 5:return n_(e.type);case 16:return n_("Lazy");case 13:return n_("Suspense");case 19:return n_("SuspenseList");case 0:case 2:case 15:return e=eI(e.type,!1),e;case 11:return e=eI(e.type.render,!1),e;case 22:return e=eI(e.type._render,!1),e;case 1:return e=eI(e.type,!0),e;default:return"";}}function Zv(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case yd:return"Fragment";case mh:return"Portal";case s_:return"Profiler";case xk:return"StrictMode";case l_:return"Suspense";case SI:return"SuspenseList";}if(typeof e=="object")switch(e.$$typeof){case Sk:return(e.displayName||"Context")+".Consumer";case wk:return(e._context.displayName||"Context")+".Provider";case WI:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case ZI:return Zv(e.type);case Ek:return Zv(e._render);case Ik:t=e._payload,e=e._init;try{return Zv(e(t))}catch(r){}}return null}function Pd(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return"";}}function AK(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function MFe(e){var t=AK(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r!="undefined"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(u){n=""+u,o.call(this,u)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(u){n=""+u},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function tI(e){e._valueTracker||(e._valueTracker=MFe(e))}function CK(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=AK(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function II(e){if(e=e||(typeof document!="undefined"?document:void 0),typeof e=="undefined")return null;try{return e.activeElement||e.body}catch(t){return e.body}}function qN(e,t){var r=t.checked;return ci({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r!=null?r:e._wrapperState.initialChecked})}function gZ(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Pd(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function MK(e,t){t=t.checked,t!=null&&bk(e,"checked",t,!1)}function NN(e,t){MK(e,t);var r=Pd(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?kN(e,t.type,r):t.hasOwnProperty("defaultValue")&&kN(e,t.type,Pd(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function yZ(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function kN(e,t,r){(t!=="number"||II(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}function PFe(e){var t="";return GI.Children.forEach(e,function(r){r!=null&&(t+=r)}),t}function DN(e,t){return e=ci({children:void 0},t),(t=PFe(t.children))&&(e.children=t),e}function Kv(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Pd(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function LN(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Mt(91));return ci({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function _Z(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Mt(92));if(Array.isArray(r)){if(!(1>=r.length))throw Error(Mt(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Pd(r)}}function PK(e,t){var r=Pd(t.value),n=Pd(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function bZ(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}var zN={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function OK(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml";}}function FN(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?OK(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var rI,RK=function(e){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!==zN.svg||"innerHTML"in e)e.innerHTML=t;else{for(rI=rI||document.createElement("div"),rI.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=rI.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function b_(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var u_={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},OFe=["Webkit","ms","Moz","O"];Object.keys(u_).forEach(function(e){OFe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),u_[t]=u_[e]})});function qK(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||u_.hasOwnProperty(e)&&u_[e]?(""+t).trim():t+"px"}function NK(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=qK(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var RFe=ci({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function jN(e,t){if(t){if(RFe[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Mt(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Mt(60));if(!(typeof t.dangerouslySetInnerHTML=="object"&&"__html"in t.dangerouslySetInnerHTML))throw Error(Mt(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Mt(62))}}function BN(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0;}}function Ck(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var VN=null,Yv=null,Xv=null;function xZ(e){if(e=N_(e)){if(typeof VN!="function")throw Error(Mt(280));var t=e.stateNode;t&&(t=eE(t),VN(e.stateNode,e.type,t))}}function kK(e){Yv?Xv?Xv.push(e):Xv=[e]:Yv=e}function DK(){if(Yv){var e=Yv,t=Xv;if(Xv=Yv=null,xZ(e),t)for(e=0;e<t.length;e++)xZ(t[e])}}function Mk(e,t){return e(t)}function LK(e,t,r,n,i){return e(t,r,n,i)}function Pk(){}var zK=Mk,vh=!1,dN=!1;function Ok(){(Yv!==null||Xv!==null)&&(Pk(),DK())}function qFe(e,t,r){if(dN)return e(t,r);dN=!0;try{return zK(e,t,r)}finally{dN=!1,Ok()}}function x_(e,t){var r=e.stateNode;if(r===null)return null;var n=eE(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1;}if(e)return null;if(r&&typeof r!="function")throw Error(Mt(231,t,typeof r));return r}var UN=!1;if(Vc)try{zv={},Object.defineProperty(zv,"passive",{get:function(){UN=!0}}),window.addEventListener("test",zv,zv),window.removeEventListener("test",zv,zv)}catch(e){UN=!1}var zv;function NFe(e,t,r,n,i,o,u,f,h){var y=Array.prototype.slice.call(arguments,3);try{t.apply(r,y)}catch(w){this.onError(w)}}var c_=!1,EI=null,TI=!1,$N=null,kFe={onError:function(e){c_=!0,EI=e}};function DFe(e,t,r,n,i,o,u,f,h){c_=!1,EI=null,NFe.apply(kFe,arguments)}function LFe(e,t,r,n,i,o,u,f,h){if(DFe.apply(this,arguments),c_){if(c_){var y=EI;c_=!1,EI=null}else throw Error(Mt(198));TI||(TI=!0,$N=y)}}function Th(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&1026&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function FK(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function wZ(e){if(Th(e)!==e)throw Error(Mt(188))}function zFe(e){var t=e.alternate;if(!t){if(t=Th(e),t===null)throw Error(Mt(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var o=i.alternate;if(o===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return wZ(i),e;if(o===n)return wZ(i),t;o=o.sibling}throw Error(Mt(188))}if(r.return!==n.return)r=i,n=o;else{for(var u=!1,f=i.child;f;){if(f===r){u=!0,r=i,n=o;break}if(f===n){u=!0,n=i,r=o;break}f=f.sibling}if(!u){for(f=o.child;f;){if(f===r){u=!0,r=o,n=i;break}if(f===n){u=!0,n=o,r=i;break}f=f.sibling}if(!u)throw Error(Mt(189))}}if(r.alternate!==n)throw Error(Mt(190))}if(r.tag!==3)throw Error(Mt(188));return r.stateNode.current===r?e:t}function jK(e){if(e=zFe(e),!e)return null;for(var t=e;;){if(t.tag===5||t.tag===6)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function SZ(e,t){for(var r=e.alternate;t!==null;){if(t===e||t===r)return!0;t=t.return}return!1}var BK,Rk,VK,UK,HN=!1,Cu=[],wd=null,Sd=null,Id=null,w_=new Map,S_=new Map,H1=[],IZ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function GN(e,t,r,n,i){return{blockedOn:e,domEventName:t,eventSystemFlags:r|16,nativeEvent:i,targetContainers:[n]}}function EZ(e,t){switch(e){case"focusin":case"focusout":wd=null;break;case"dragenter":case"dragleave":Sd=null;break;case"mouseover":case"mouseout":Id=null;break;case"pointerover":case"pointerout":w_.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":S_.delete(t.pointerId);}}function G1(e,t,r,n,i,o){return e===null||e.nativeEvent!==o?(e=GN(t,r,n,i,o),t!==null&&(t=N_(t),t!==null&&Rk(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function FFe(e,t,r,n,i){switch(t){case"focusin":return wd=G1(wd,e,t,r,n,i),!0;case"dragenter":return Sd=G1(Sd,e,t,r,n,i),!0;case"mouseover":return Id=G1(Id,e,t,r,n,i),!0;case"pointerover":var o=i.pointerId;return w_.set(o,G1(w_.get(o)||null,e,t,r,n,i)),!0;case"gotpointercapture":return o=i.pointerId,S_.set(o,G1(S_.get(o)||null,e,t,r,n,i)),!0;}return!1}function jFe(e){var t=gh(e.target);if(t!==null){var r=Th(t);if(r!==null){if(t=r.tag,t===13){if(t=FK(r),t!==null){e.blockedOn=t,UK(e.lanePriority,function(){fo.unstable_runWithPriority(e.priority,function(){VK(r)})});return}}else if(t===3&&r.stateNode.hydrate){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function fI(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Dk(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r!==null)return t=N_(r),t!==null&&Rk(t),e.blockedOn=r,!1;t.shift()}return!0}function TZ(e,t,r){fI(e)&&r.delete(t)}function BFe(){for(HN=!1;0<Cu.length;){var e=Cu[0];if(e.blockedOn!==null){e=N_(e.blockedOn),e!==null&&BK(e);break}for(var t=e.targetContainers;0<t.length;){var r=Dk(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r!==null){e.blockedOn=r;break}t.shift()}e.blockedOn===null&&Cu.shift()}wd!==null&&fI(wd)&&(wd=null),Sd!==null&&fI(Sd)&&(Sd=null),Id!==null&&fI(Id)&&(Id=null),w_.forEach(TZ),S_.forEach(TZ)}function W1(e,t){e.blockedOn===t&&(e.blockedOn=null,HN||(HN=!0,fo.unstable_scheduleCallback(fo.unstable_NormalPriority,BFe)))}function $K(e){function t(i){return W1(i,e)}if(0<Cu.length){W1(Cu[0],e);for(var r=1;r<Cu.length;r++){var n=Cu[r];n.blockedOn===e&&(n.blockedOn=null)}}for(wd!==null&&W1(wd,e),Sd!==null&&W1(Sd,e),Id!==null&&W1(Id,e),w_.forEach(t),S_.forEach(t),r=0;r<H1.length;r++)n=H1[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<H1.length&&(r=H1[0],r.blockedOn===null);)jFe(r),r.blockedOn===null&&H1.shift()}function nI(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Vv={animationend:nI("Animation","AnimationEnd"),animationiteration:nI("Animation","AnimationIteration"),animationstart:nI("Animation","AnimationStart"),transitionend:nI("Transition","TransitionEnd")},fN={},HK={};Vc&&(HK=document.createElement("div").style,"AnimationEvent"in window||(delete Vv.animationend.animation,delete Vv.animationiteration.animation,delete Vv.animationstart.animation),"TransitionEvent"in window||delete Vv.transitionend.transition);function KI(e){if(fN[e])return fN[e];if(!Vv[e])return e;var t=Vv[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in HK)return fN[e]=t[r];return e}var GK=KI("animationend"),WK=KI("animationiteration"),ZK=KI("animationstart"),KK=KI("transitionend"),YK=new Map,qk=new Map,VFe=["abort","abort",GK,"animationEnd",WK,"animationIteration",ZK,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",KK,"transitionEnd","waiting","waiting"];function Nk(e,t){for(var r=0;r<e.length;r+=2){var n=e[r],i=e[r+1];i="on"+(i[0].toUpperCase()+i.slice(1)),qk.set(n,t),YK.set(n,i),Ih(i,[n])}}var UFe=fo.unstable_now;UFe();var Kn=8;function jv(e){if(1&e)return Kn=15,1;if(2&e)return Kn=14,2;if(4&e)return Kn=13,4;var t=24&e;return t!==0?(Kn=12,t):e&32?(Kn=11,32):(t=192&e,t!==0?(Kn=10,t):e&256?(Kn=9,256):(t=3584&e,t!==0?(Kn=8,t):e&4096?(Kn=7,4096):(t=4186112&e,t!==0?(Kn=6,t):(t=62914560&e,t!==0?(Kn=5,t):e&67108864?(Kn=4,67108864):e&134217728?(Kn=3,134217728):(t=805306368&e,t!==0?(Kn=2,t):1073741824&e?(Kn=1,1073741824):(Kn=8,e))))))}function $Fe(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0;}}function HFe(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(Mt(358,e));}}function I_(e,t){var r=e.pendingLanes;if(r===0)return Kn=0;var n=0,i=0,o=e.expiredLanes,u=e.suspendedLanes,f=e.pingedLanes;if(o!==0)n=o,i=Kn=15;else if(o=r&134217727,o!==0){var h=o&~u;h!==0?(n=jv(h),i=Kn):(f&=o,f!==0&&(n=jv(f),i=Kn))}else o=r&~u,o!==0?(n=jv(o),i=Kn):f!==0&&(n=jv(f),i=Kn);if(n===0)return 0;if(n=31-Od(n),n=r&((0>n?0:1<<n)<<1)-1,t!==0&&t!==n&&!(t&u)){if(jv(t),i<=Kn)return t;Kn=i}if(t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Od(t),i=1<<r,n|=e[r],t&=~i;return n}function XK(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function AI(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return e=Bv(24&~t),e===0?AI(10,t):e;case 10:return e=Bv(192&~t),e===0?AI(8,t):e;case 8:return e=Bv(3584&~t),e===0&&(e=Bv(4186112&~t),e===0&&(e=512)),e;case 2:return t=Bv(805306368&~t),t===0&&(t=268435456),t;}throw Error(Mt(358,e))}function Bv(e){return e&-e}function hN(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function YI(e,t,r){e.pendingLanes|=t;var n=t-1;e.suspendedLanes&=n,e.pingedLanes&=n,e=e.eventTimes,t=31-Od(t),e[t]=r}var Od=Math.clz32?Math.clz32:ZFe,GFe=Math.log,WFe=Math.LN2;function ZFe(e){return e===0?32:31-(GFe(e)/WFe|0)|0}var KFe=fo.unstable_UserBlockingPriority,YFe=fo.unstable_runWithPriority,hI=!0;function XFe(e,t,r,n){vh||Pk();var i=kk,o=vh;vh=!0;try{LK(i,e,t,r,n)}finally{(vh=o)||Ok()}}function JFe(e,t,r,n){YFe(KFe,kk.bind(null,e,t,r,n))}function kk(e,t,r,n){if(hI){var i;if((i=(t&4)===0)&&0<Cu.length&&-1<IZ.indexOf(e))e=GN(null,e,t,r,n),Cu.push(e);else{var o=Dk(e,t,r,n);if(o===null)i&&EZ(e,n);else{if(i){if(-1<IZ.indexOf(e)){e=GN(o,e,t,r,n),Cu.push(e);return}if(FFe(o,e,t,r,n))return;EZ(e,n)}cY(e,t,n,null,r)}}}}function Dk(e,t,r,n){var i=Ck(n);if(i=gh(i),i!==null){var o=Th(i);if(o===null)i=null;else{var u=o.tag;if(u===13){if(i=FK(o),i!==null)return i;i=null}else if(u===3){if(o.stateNode.hydrate)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return cY(e,t,n,i,r),null}var _d=null,Lk=null,mI=null;function JK(){if(mI)return mI;var e,t=Lk,r=t.length,n,i="value"in _d?_d.value:_d.textContent,o=i.length;for(e=0;e<r&&t[e]===i[e];e++);var u=r-e;for(n=1;n<=u&&t[r-n]===i[o-n];n++);return mI=i.slice(e,1<n?1-n:void 0)}function vI(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function iI(){return!0}function AZ(){return!1}function Ls(e){function t(r,n,i,o,u){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=o,this.target=u,this.currentTarget=null;for(var f in e)e.hasOwnProperty(f)&&(r=e[f],this[f]=r?r(o):o[f]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?iI:AZ,this.isPropagationStopped=AZ,this}return ci(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=iI)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=iI)},persist:function(){},isPersistent:iI}),t}var lg={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zk=Ls(lg),q_=ci({},lg,{view:0,detail:0}),QFe=Ls(q_),mN,vN,Z1,XI=ci({},q_,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fk,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Z1&&(Z1&&e.type==="mousemove"?(mN=e.screenX-Z1.screenX,vN=e.screenY-Z1.screenY):vN=mN=0,Z1=e),mN)},movementY:function(e){return"movementY"in e?e.movementY:vN}}),CZ=Ls(XI),eje=ci({},XI,{dataTransfer:0}),tje=Ls(eje),rje=ci({},q_,{relatedTarget:0}),gN=Ls(rje),nje=ci({},lg,{animationName:0,elapsedTime:0,pseudoElement:0}),ije=Ls(nje),oje=ci({},lg,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),aje=Ls(oje),sje=ci({},lg,{data:0}),MZ=Ls(sje),lje={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uje={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cje={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pje(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=cje[e])?!!t[e]:!1}function Fk(){return pje}var dje=ci({},q_,{key:function(e){if(e.key){var t=lje[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=vI(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?uje[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fk,charCode:function(e){return e.type==="keypress"?vI(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?vI(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),fje=Ls(dje),hje=ci({},XI,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),PZ=Ls(hje),mje=ci({},q_,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fk}),vje=Ls(mje),gje=ci({},lg,{propertyName:0,elapsedTime:0,pseudoElement:0}),yje=Ls(gje),_je=ci({},XI,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),bje=Ls(_je),xje=[9,13,27,32],jk=Vc&&"CompositionEvent"in window,p_=null;Vc&&"documentMode"in document&&(p_=document.documentMode);var wje=Vc&&"TextEvent"in window&&!p_,QK=Vc&&(!jk||p_&&8<p_&&11>=p_),OZ=" ",RZ=!1;function eY(e,t){switch(e){case"keyup":return xje.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1;}}function tY(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Uv=!1;function Sje(e,t){switch(e){case"compositionend":return tY(t);case"keypress":return t.which!==32?null:(RZ=!0,OZ);case"textInput":return e=t.data,e===OZ&&RZ?null:e;default:return null;}}function Ije(e,t){if(Uv)return e==="compositionend"||!jk&&eY(e,t)?(e=JK(),mI=Lk=_d=null,Uv=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return QK&&t.locale!=="ko"?null:t.data;default:return null;}}var Eje={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qZ(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Eje[e.type]:t==="textarea"}function rY(e,t,r,n){kK(n),t=CI(t,"onChange"),0<t.length&&(r=new zk("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var d_=null,E_=null;function Tje(e){sY(e,0)}function JI(e){var t=Hv(e);if(CK(t))return e}function Aje(e,t){if(e==="change")return t}var nY=!1;Vc&&(Vc?(aI="oninput"in document,aI||(yN=document.createElement("div"),yN.setAttribute("oninput","return;"),aI=typeof yN.oninput=="function"),oI=aI):oI=!1,nY=oI&&(!document.documentMode||9<document.documentMode));var oI,aI,yN;function NZ(){d_&&(d_.detachEvent("onpropertychange",iY),E_=d_=null)}function iY(e){if(e.propertyName==="value"&&JI(E_)){var t=[];if(rY(t,E_,e,Ck(e)),e=Tje,vh)e(t);else{vh=!0;try{Mk(e,t)}finally{vh=!1,Ok()}}}}function Cje(e,t,r){e==="focusin"?(NZ(),d_=t,E_=r,d_.attachEvent("onpropertychange",iY)):e==="focusout"&&NZ()}function Mje(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return JI(E_)}function Pje(e,t){if(e==="click")return JI(t)}function Oje(e,t){if(e==="input"||e==="change")return JI(t)}function Rje(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ll=typeof Object.is=="function"?Object.is:Rje,qje=Object.prototype.hasOwnProperty;function T_(e,t){if(ll(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++)if(!qje.call(t,r[n])||!ll(e[r[n]],t[r[n]]))return!1;return!0}function kZ(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function DZ(e,t){var r=kZ(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=kZ(r)}}function oY(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?oY(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function LZ(){for(var e=window,t=II();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch(n){r=!1}if(r)e=t.contentWindow;else break;t=II(e.document)}return t}function WN(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Nje=Vc&&"documentMode"in document&&11>=document.documentMode,$v=null,ZN=null,f_=null,KN=!1;function zZ(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;KN||$v==null||$v!==II(n)||(n=$v,"selectionStart"in n&&WN(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),f_&&T_(f_,n)||(f_=n,n=CI(ZN,"onSelect"),0<n.length&&(t=new zk("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=$v)))}Nk("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);Nk("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);Nk(VFe,2);for(_N="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),sI=0;sI<_N.length;sI++)qk.set(_N[sI],0);var _N,sI;ig("onMouseEnter",["mouseout","mouseover"]);ig("onMouseLeave",["mouseout","mouseover"]);ig("onPointerEnter",["pointerout","pointerover"]);ig("onPointerLeave",["pointerout","pointerover"]);Ih("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ih("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ih("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ih("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ih("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ih("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var i_="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aY=new Set("cancel close invalid load scroll toggle".split(" ").concat(i_));function FZ(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,LFe(n,t,void 0,e),e.currentTarget=null}function sY(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var u=n.length-1;0<=u;u--){var f=n[u],h=f.instance,y=f.currentTarget;if(f=f.listener,h!==o&&i.isPropagationStopped())break e;FZ(i,f,y),o=h}else for(u=0;u<n.length;u++){if(f=n[u],h=f.instance,y=f.currentTarget,f=f.listener,h!==o&&i.isPropagationStopped())break e;FZ(i,f,y),o=h}}}if(TI)throw e=$N,TI=!1,$N=null,e}function ni(e,t){var r=dY(t),n=e+"__bubble";r.has(n)||(uY(t,e,2,!1),r.add(n))}var jZ="_reactListening"+Math.random().toString(36).slice(2);function lY(e){e[jZ]||(e[jZ]=!0,EK.forEach(function(t){aY.has(t)||BZ(t,!1,e,null),BZ(t,!0,e,null)}))}function BZ(e,t,r,n){var i=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,o=r;if(e==="selectionchange"&&r.nodeType!==9&&(o=r.ownerDocument),n!==null&&!t&&aY.has(e)){if(e!=="scroll")return;i|=2,o=n}var u=dY(o),f=e+"__"+(t?"capture":"bubble");u.has(f)||(t&&(i|=4),uY(o,e,i,t),u.add(f))}function uY(e,t,r,n){var i=qk.get(t);switch(i===void 0?2:i){case 0:i=XFe;break;case 1:i=JFe;break;default:i=kk;}r=i.bind(null,t,r,e),i=void 0,!UN||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function cY(e,t,r,n,i){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var u=n.tag;if(u===3||u===4){var f=n.stateNode.containerInfo;if(f===i||f.nodeType===8&&f.parentNode===i)break;if(u===4)for(u=n.return;u!==null;){var h=u.tag;if((h===3||h===4)&&(h=u.stateNode.containerInfo,h===i||h.nodeType===8&&h.parentNode===i))return;u=u.return}for(;f!==null;){if(u=gh(f),u===null)return;if(h=u.tag,h===5||h===6){n=o=u;continue e}f=f.parentNode}}n=n.return}qFe(function(){var y=o,w=Ck(r),T=[];e:{var A=YK.get(e);if(A!==void 0){var q=zk,z=e;switch(e){case"keypress":if(vI(r)===0)break e;case"keydown":case"keyup":q=fje;break;case"focusin":z="focus",q=gN;break;case"focusout":z="blur",q=gN;break;case"beforeblur":case"afterblur":q=gN;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=CZ;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=tje;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=vje;break;case GK:case WK:case ZK:q=ije;break;case KK:q=yje;break;case"scroll":q=QFe;break;case"wheel":q=bje;break;case"copy":case"cut":case"paste":q=aje;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=PZ;}var F=(t&4)!==0,N=!F&&e==="scroll",L=F?A!==null?A+"Capture":null:A;F=[];for(var B=y,Z;B!==null;){Z=B;var te=Z.stateNode;if(Z.tag===5&&te!==null&&(Z=te,L!==null&&(te=x_(B,L),te!=null&&F.push(A_(B,te,Z)))),N)break;B=B.return}0<F.length&&(A=new q(A,z,null,r,w),T.push({event:A,listeners:F}))}}if(!(t&7)){e:{if(A=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",A&&!(t&16)&&(z=r.relatedTarget||r.fromElement)&&(gh(z)||z[ug]))break e;if((q||A)&&(A=w.window===w?w:(A=w.ownerDocument)?A.defaultView||A.parentWindow:window,q?(z=r.relatedTarget||r.toElement,q=y,z=z?gh(z):null,z!==null&&(N=Th(z),z!==N||z.tag!==5&&z.tag!==6)&&(z=null)):(q=null,z=y),q!==z)){if(F=CZ,te="onMouseLeave",L="onMouseEnter",B="mouse",(e==="pointerout"||e==="pointerover")&&(F=PZ,te="onPointerLeave",L="onPointerEnter",B="pointer"),N=q==null?A:Hv(q),Z=z==null?A:Hv(z),A=new F(te,B+"leave",q,r,w),A.target=N,A.relatedTarget=Z,te=null,gh(w)===y&&(F=new F(L,B+"enter",z,r,w),F.target=Z,F.relatedTarget=N,te=F),N=te,q&&z)t:{for(F=q,L=z,B=0,Z=F;Z;Z=Fv(Z))B++;for(Z=0,te=L;te;te=Fv(te))Z++;for(;0<B-Z;)F=Fv(F),B--;for(;0<Z-B;)L=Fv(L),Z--;for(;B--;){if(F===L||L!==null&&F===L.alternate)break t;F=Fv(F),L=Fv(L)}F=null}else F=null;q!==null&&VZ(T,A,q,F,!1),z!==null&&N!==null&&VZ(T,N,z,F,!0)}}e:{if(A=y?Hv(y):window,q=A.nodeName&&A.nodeName.toLowerCase(),q==="select"||q==="input"&&A.type==="file")var ue=Aje;else if(qZ(A)){if(nY)ue=Oje;else{ue=Mje;var ce=Cje}}else(q=A.nodeName)&&q.toLowerCase()==="input"&&(A.type==="checkbox"||A.type==="radio")&&(ue=Pje);if(ue&&(ue=ue(e,y))){rY(T,ue,r,w);break e}ce&&ce(e,A,y),e==="focusout"&&(ce=A._wrapperState)&&ce.controlled&&A.type==="number"&&kN(A,"number",A.value)}switch(ce=y?Hv(y):window,e){case"focusin":(qZ(ce)||ce.contentEditable==="true")&&($v=ce,ZN=y,f_=null);break;case"focusout":f_=ZN=$v=null;break;case"mousedown":KN=!0;break;case"contextmenu":case"mouseup":case"dragend":KN=!1,zZ(T,r,w);break;case"selectionchange":if(Nje)break;case"keydown":case"keyup":zZ(T,r,w);}var ye;if(jk)e:{switch(e){case"compositionstart":var Ne="onCompositionStart";break e;case"compositionend":Ne="onCompositionEnd";break e;case"compositionupdate":Ne="onCompositionUpdate";break e;}Ne=void 0}else Uv?eY(e,r)&&(Ne="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Ne="onCompositionStart");Ne&&(QK&&r.locale!=="ko"&&(Uv||Ne!=="onCompositionStart"?Ne==="onCompositionEnd"&&Uv&&(ye=JK()):(_d=w,Lk="value"in _d?_d.value:_d.textContent,Uv=!0)),ce=CI(y,Ne),0<ce.length&&(Ne=new MZ(Ne,e,null,r,w),T.push({event:Ne,listeners:ce}),ye?Ne.data=ye:(ye=tY(r),ye!==null&&(Ne.data=ye)))),(ye=wje?Sje(e,r):Ije(e,r))&&(y=CI(y,"onBeforeInput"),0<y.length&&(w=new MZ("onBeforeInput","beforeinput",null,r,w),T.push({event:w,listeners:y}),w.data=ye))}sY(T,t)})}function A_(e,t,r){return{instance:e,listener:t,currentTarget:r}}function CI(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=x_(e,r),o!=null&&n.unshift(A_(e,o,i)),o=x_(e,t),o!=null&&n.push(A_(e,o,i))),e=e.return}return n}function Fv(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function VZ(e,t,r,n,i){for(var o=t._reactName,u=[];r!==null&&r!==n;){var f=r,h=f.alternate,y=f.stateNode;if(h!==null&&h===n)break;f.tag===5&&y!==null&&(f=y,i?(h=x_(r,o),h!=null&&u.unshift(A_(r,h,f))):i||(h=x_(r,o),h!=null&&u.push(A_(r,h,f)))),r=r.return}u.length!==0&&e.push({event:t,listeners:u})}function MI(){}var bN=null,xN=null;function pY(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus;}return!1}function YN(e,t){return e==="textarea"||e==="option"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var UZ=typeof setTimeout=="function"?setTimeout:void 0,kje=typeof clearTimeout=="function"?clearTimeout:void 0;function Bk(e){e.nodeType===1?e.textContent="":e.nodeType===9&&(e=e.body,e!=null&&(e.textContent=""))}function Jv(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break}return e}function $Z(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var wN=0;function Dje(e){return{$$typeof:Tk,toString:e,valueOf:e}}var QI=Math.random().toString(36).slice(2),bd="__reactFiber$"+QI,PI="__reactProps$"+QI,ug="__reactContainer$"+QI,HZ="__reactEvents$"+QI;function gh(e){var t=e[bd];if(t)return t;for(var r=e.parentNode;r;){if(t=r[ug]||r[bd]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=$Z(e);e!==null;){if(r=e[bd])return r;e=$Z(e)}return t}e=r,r=e.parentNode}return null}function N_(e){return e=e[bd]||e[ug],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Hv(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Mt(33))}function eE(e){return e[PI]||null}function dY(e){var t=e[HZ];return t===void 0&&(t=e[HZ]=new Set),t}var XN=[],Gv=-1;function kd(e){return{current:e}}function ii(e){0>Gv||(e.current=XN[Gv],XN[Gv]=null,Gv--)}function Ei(e,t){Gv++,XN[Gv]=e.current,e.current=t}var Rd={},sa=kd(Rd),ts=kd(!1),xh=Rd;function og(e,t){var r=e.type.contextTypes;if(!r)return Rd;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in r)i[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function rs(e){return e=e.childContextTypes,e!=null}function OI(){ii(ts),ii(sa)}function GZ(e,t,r){if(sa.current!==Rd)throw Error(Mt(168));Ei(sa,t),Ei(ts,r)}function fY(e,t,r){var n=e.stateNode;if(e=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(Mt(108,Zv(t)||"Unknown",i));return ci({},r,n)}function gI(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Rd,xh=sa.current,Ei(sa,e),Ei(ts,ts.current),!0}function WZ(e,t,r){var n=e.stateNode;if(!n)throw Error(Mt(169));r?(e=fY(e,t,xh),n.__reactInternalMemoizedMergedChildContext=e,ii(ts),ii(sa),Ei(sa,e)):ii(ts),Ei(ts,r)}var Vk=null,bh=null,Lje=fo.unstable_runWithPriority,Uk=fo.unstable_scheduleCallback,JN=fo.unstable_cancelCallback,zje=fo.unstable_shouldYield,ZZ=fo.unstable_requestPaint,QN=fo.unstable_now,Fje=fo.unstable_getCurrentPriorityLevel,tE=fo.unstable_ImmediatePriority,hY=fo.unstable_UserBlockingPriority,mY=fo.unstable_NormalPriority,vY=fo.unstable_LowPriority,gY=fo.unstable_IdlePriority,SN={},jje=ZZ!==void 0?ZZ:function(){},Lc=null,yI=null,IN=!1,KZ=QN(),oa=1e4>KZ?QN:function(){return QN()-KZ};function ag(){switch(Fje()){case tE:return 99;case hY:return 98;case mY:return 97;case vY:return 96;case gY:return 95;default:throw Error(Mt(332));}}function yY(e){switch(e){case 99:return tE;case 98:return hY;case 97:return mY;case 96:return vY;case 95:return gY;default:throw Error(Mt(332));}}function wh(e,t){return e=yY(e),Lje(e,t)}function C_(e,t,r){return e=yY(e),Uk(e,t,r)}function qu(){if(yI!==null){var e=yI;yI=null,JN(e)}_Y()}function _Y(){if(!IN&&Lc!==null){IN=!0;var e=0;try{var t=Lc;wh(99,function(){for(;e<t.length;e++){var r=t[e];do r=r(!0);while(r!==null)}}),Lc=null}catch(r){throw Lc!==null&&(Lc=Lc.slice(e+1)),Uk(tE,qu),r}finally{IN=!1}}}var Bje=Eh.ReactCurrentBatchConfig;function Yl(e,t){if(e&&e.defaultProps){t=ci({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}var RI=kd(null),qI=null,Wv=null,NI=null;function $k(){NI=Wv=qI=null}function Hk(e){var t=RI.current;ii(RI),e.type._context._currentValue=t}function bY(e,t){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)===t){if(r===null||(r.childLanes&t)===t)break;r.childLanes|=t}else e.childLanes|=t,r!==null&&(r.childLanes|=t);e=e.return}}function Qv(e,t){qI=e,NI=Wv=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Xl=!0),e.firstContext=null)}function pl(e,t){if(NI!==e&&t!==!1&&t!==0)if((typeof t!="number"||t===1073741823)&&(NI=e,t=1073741823),t={context:e,observedBits:t,next:null},Wv===null){if(qI===null)throw Error(Mt(308));Wv=t,qI.dependencies={lanes:0,firstContext:t,responders:null}}else Wv=Wv.next=t;return e._currentValue}var gd=!1;function Gk(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function xY(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ed(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Td(e,t){if(e=e.updateQueue,e!==null){e=e.shared;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}}function YZ(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var u={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?i=o=u:o=o.next=u,r=r.next}while(r!==null);o===null?i=o=t:o=o.next=t}else i=o=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function M_(e,t,r,n){var i=e.updateQueue;gd=!1;var o=i.firstBaseUpdate,u=i.lastBaseUpdate,f=i.shared.pending;if(f!==null){i.shared.pending=null;var h=f,y=h.next;h.next=null,u===null?o=y:u.next=y,u=h;var w=e.alternate;if(w!==null){w=w.updateQueue;var T=w.lastBaseUpdate;T!==u&&(T===null?w.firstBaseUpdate=y:T.next=y,w.lastBaseUpdate=h)}}if(o!==null){T=i.baseState,u=0,w=y=h=null;do{f=o.lane;var A=o.eventTime;if((n&f)===f){w!==null&&(w=w.next={eventTime:A,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var q=e,z=o;switch(f=t,A=r,z.tag){case 1:if(q=z.payload,typeof q=="function"){T=q.call(A,T,f);break e}T=q;break e;case 3:q.flags=q.flags&-4097|64;case 0:if(q=z.payload,f=typeof q=="function"?q.call(A,T,f):q,f==null)break e;T=ci({},T,f);break e;case 2:gd=!0;}}o.callback!==null&&(e.flags|=32,f=i.effects,f===null?i.effects=[o]:f.push(o))}else A={eventTime:A,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},w===null?(y=w=A,h=T):w=w.next=A,u|=f;if(o=o.next,o===null){if(f=i.shared.pending,f===null)break;o=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);w===null&&(h=T),i.baseState=h,i.firstBaseUpdate=y,i.lastBaseUpdate=w,D_|=u,e.lanes=u,e.memoizedState=T}}function XZ(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(Mt(191,i));i.call(n)}}}var wY=new GI.Component().refs;function kI(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ci({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var rE={isMounted:function(e){return(e=e._reactInternals)?Th(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Ds(),i=Ad(e),o=Ed(n,i);o.payload=t,r!=null&&(o.callback=r),Td(e,o),Cd(e,i,n)},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Ds(),i=Ad(e),o=Ed(n,i);o.tag=1,o.payload=t,r!=null&&(o.callback=r),Td(e,o),Cd(e,i,n)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ds(),n=Ad(e),i=Ed(r,n);i.tag=2,t!=null&&(i.callback=t),Td(e,i),Cd(e,n,r)}};function JZ(e,t,r,n,i,o,u){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,u):t.prototype&&t.prototype.isPureReactComponent?!T_(r,n)||!T_(i,o):!0}function SY(e,t,r){var n=!1,i=Rd,o=t.contextType;return typeof o=="object"&&o!==null?o=pl(o):(i=rs(t)?xh:sa.current,n=t.contextTypes,o=(n=n!=null)?og(e,i):Rd),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=rE,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function QZ(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&rE.enqueueReplaceState(t,t.state,null)}function ek(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs=wY,Gk(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=pl(o):(o=rs(t)?xh:sa.current,i.context=og(e,o)),M_(e,r,i,n),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(kI(e,t,o,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&rE.enqueueReplaceState(i,i.state,null),M_(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4)}var lI=Array.isArray;function K1(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Mt(309));var n=r.stateNode}if(!n)throw Error(Mt(147,e));var i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var u=n.refs;u===wY&&(u=n.refs={}),o===null?delete u[i]:u[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(Mt(284));if(!r._owner)throw Error(Mt(290,e))}return e}function uI(e,t){if(e.type!=="textarea")throw Error(Mt(31,Object.prototype.toString.call(t)==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function IY(e){function t(N,L){if(e){var B=N.lastEffect;B!==null?(B.nextEffect=L,N.lastEffect=L):N.firstEffect=N.lastEffect=L,L.nextEffect=null,L.flags=8}}function r(N,L){if(!e)return null;for(;L!==null;)t(N,L),L=L.sibling;return null}function n(N,L){for(N=new Map;L!==null;)L.key!==null?N.set(L.key,L):N.set(L.index,L),L=L.sibling;return N}function i(N,L){return N=Nd(N,L),N.index=0,N.sibling=null,N}function o(N,L,B){return N.index=B,e?(B=N.alternate,B!==null?(B=B.index,B<L?(N.flags=2,L):B):(N.flags=2,L)):L}function u(N){return e&&N.alternate===null&&(N.flags=2),N}function f(N,L,B,Z){return L===null||L.tag!==6?(L=MN(B,N.mode,Z),L.return=N,L):(L=i(L,B),L.return=N,L)}function h(N,L,B,Z){return L!==null&&L.elementType===B.type?(Z=i(L,B.props),Z.ref=K1(N,L,B),Z.return=N,Z):(Z=wI(B.type,B.key,B.props,null,N.mode,Z),Z.ref=K1(N,L,B),Z.return=N,Z)}function y(N,L,B,Z){return L===null||L.tag!==4||L.stateNode.containerInfo!==B.containerInfo||L.stateNode.implementation!==B.implementation?(L=PN(B,N.mode,Z),L.return=N,L):(L=i(L,B.children||[]),L.return=N,L)}function w(N,L,B,Z,te){return L===null||L.tag!==7?(L=ng(B,N.mode,Z,te),L.return=N,L):(L=i(L,B),L.return=N,L)}function T(N,L,B){if(typeof L=="string"||typeof L=="number")return L=MN(""+L,N.mode,B),L.return=N,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case r_:return B=wI(L.type,L.key,L.props,null,N.mode,B),B.ref=K1(N,null,L),B.return=N,B;case mh:return L=PN(L,N.mode,B),L.return=N,L;}if(lI(L)||$1(L))return L=ng(L,N.mode,B,null),L.return=N,L;uI(N,L)}return null}function A(N,L,B,Z){var te=L!==null?L.key:null;if(typeof B=="string"||typeof B=="number")return te!==null?null:f(N,L,""+B,Z);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case r_:return B.key===te?B.type===yd?w(N,L,B.props.children,Z,te):h(N,L,B,Z):null;case mh:return B.key===te?y(N,L,B,Z):null;}if(lI(B)||$1(B))return te!==null?null:w(N,L,B,Z,null);uI(N,B)}return null}function q(N,L,B,Z,te){if(typeof Z=="string"||typeof Z=="number")return N=N.get(B)||null,f(L,N,""+Z,te);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case r_:return N=N.get(Z.key===null?B:Z.key)||null,Z.type===yd?w(L,N,Z.props.children,te,Z.key):h(L,N,Z,te);case mh:return N=N.get(Z.key===null?B:Z.key)||null,y(L,N,Z,te);}if(lI(Z)||$1(Z))return N=N.get(B)||null,w(L,N,Z,te,null);uI(L,Z)}return null}function z(N,L,B,Z){for(var te=null,ue=null,ce=L,ye=L=0,Ne=null;ce!==null&&ye<B.length;ye++){ce.index>ye?(Ne=ce,ce=null):Ne=ce.sibling;var Se=A(N,ce,B[ye],Z);if(Se===null){ce===null&&(ce=Ne);break}e&&ce&&Se.alternate===null&&t(N,ce),L=o(Se,L,ye),ue===null?te=Se:ue.sibling=Se,ue=Se,ce=Ne}if(ye===B.length)return r(N,ce),te;if(ce===null){for(;ye<B.length;ye++)ce=T(N,B[ye],Z),ce!==null&&(L=o(ce,L,ye),ue===null?te=ce:ue.sibling=ce,ue=ce);return te}for(ce=n(N,ce);ye<B.length;ye++)Ne=q(ce,N,ye,B[ye],Z),Ne!==null&&(e&&Ne.alternate!==null&&ce.delete(Ne.key===null?ye:Ne.key),L=o(Ne,L,ye),ue===null?te=Ne:ue.sibling=Ne,ue=Ne);return e&&ce.forEach(function(Be){return t(N,Be)}),te}function F(N,L,B,Z){var te=$1(B);if(typeof te!="function")throw Error(Mt(150));if(B=te.call(B),B==null)throw Error(Mt(151));for(var ue=te=null,ce=L,ye=L=0,Ne=null,Se=B.next();ce!==null&&!Se.done;ye++,Se=B.next()){ce.index>ye?(Ne=ce,ce=null):Ne=ce.sibling;var Be=A(N,ce,Se.value,Z);if(Be===null){ce===null&&(ce=Ne);break}e&&ce&&Be.alternate===null&&t(N,ce),L=o(Be,L,ye),ue===null?te=Be:ue.sibling=Be,ue=Be,ce=Ne}if(Se.done)return r(N,ce),te;if(ce===null){for(;!Se.done;ye++,Se=B.next())Se=T(N,Se.value,Z),Se!==null&&(L=o(Se,L,ye),ue===null?te=Se:ue.sibling=Se,ue=Se);return te}for(ce=n(N,ce);!Se.done;ye++,Se=B.next())Se=q(ce,N,ye,Se.value,Z),Se!==null&&(e&&Se.alternate!==null&&ce.delete(Se.key===null?ye:Se.key),L=o(Se,L,ye),ue===null?te=Se:ue.sibling=Se,ue=Se);return e&&ce.forEach(function(He){return t(N,He)}),te}return function(N,L,B,Z){var te=typeof B=="object"&&B!==null&&B.type===yd&&B.key===null;te&&(B=B.props.children);var ue=typeof B=="object"&&B!==null;if(ue)switch(B.$$typeof){case r_:e:{for(ue=B.key,te=L;te!==null;){if(te.key===ue){switch(te.tag){case 7:if(B.type===yd){r(N,te.sibling),L=i(te,B.props.children),L.return=N,N=L;break e}break;default:if(te.elementType===B.type){r(N,te.sibling),L=i(te,B.props),L.ref=K1(N,te,B),L.return=N,N=L;break e}}r(N,te);break}else t(N,te);te=te.sibling}B.type===yd?(L=ng(B.props.children,N.mode,Z,B.key),L.return=N,N=L):(Z=wI(B.type,B.key,B.props,null,N.mode,Z),Z.ref=K1(N,L,B),Z.return=N,N=Z)}return u(N);case mh:e:{for(te=B.key;L!==null;){if(L.key===te){if(L.tag===4&&L.stateNode.containerInfo===B.containerInfo&&L.stateNode.implementation===B.implementation){r(N,L.sibling),L=i(L,B.children||[]),L.return=N,N=L;break e}else{r(N,L);break}}else t(N,L);L=L.sibling}L=PN(B,N.mode,Z),L.return=N,N=L}return u(N);}if(typeof B=="string"||typeof B=="number")return B=""+B,L!==null&&L.tag===6?(r(N,L.sibling),L=i(L,B),L.return=N,N=L):(r(N,L),L=MN(B,N.mode,Z),L.return=N,N=L),u(N);if(lI(B))return z(N,L,B,Z);if($1(B))return F(N,L,B,Z);if(ue&&uI(N,B),typeof B=="undefined"&&!te)switch(N.tag){case 1:case 22:case 0:case 11:case 15:throw Error(Mt(152,Zv(N.type)||"Component"));}return r(N,L)}}var DI=IY(!0),EY=IY(!1),k_={},Ou=kd(k_),P_=kd(k_),O_=kd(k_);function yh(e){if(e===k_)throw Error(Mt(174));return e}function tk(e,t){switch(Ei(O_,t),Ei(P_,e),Ei(Ou,k_),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:FN(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=FN(t,e);}ii(Ou),Ei(Ou,t)}function sg(){ii(Ou),ii(P_),ii(O_)}function eK(e){yh(O_.current);var t=yh(Ou.current),r=FN(t,e.type);t!==r&&(Ei(P_,e),Ei(Ou,r))}function Wk(e){P_.current===e&&(ii(Ou),ii(P_))}var Ii=kd(0);function LI(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&64)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Fc=null,xd=null,Ru=!1;function TY(e,t){var r=ul(5,null,null,0);r.elementType="DELETED",r.type="DELETED",r.stateNode=t,r.return=e,r.flags=8,e.lastEffect!==null?(e.lastEffect.nextEffect=r,e.lastEffect=r):e.firstEffect=e.lastEffect=r}function tK(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,!0):!1;case 13:return!1;default:return!1;}}function rk(e){if(Ru){var t=xd;if(t){var r=t;if(!tK(e,t)){if(t=Jv(r.nextSibling),!t||!tK(e,t)){e.flags=e.flags&-1025|2,Ru=!1,Fc=e;return}TY(Fc,r)}Fc=e,xd=Jv(t.firstChild)}else e.flags=e.flags&-1025|2,Ru=!1,Fc=e}}function rK(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Fc=e}function cI(e){if(e!==Fc)return!1;if(!Ru)return rK(e),Ru=!0,!1;var t=e.type;if(e.tag!==5||t!=="head"&&t!=="body"&&!YN(t,e.memoizedProps))for(t=xd;t;)TY(e,t),t=Jv(t.nextSibling);if(rK(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Mt(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){xd=Jv(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}xd=null}}else xd=Fc?Jv(e.stateNode.nextSibling):null;return!0}function EN(){xd=Fc=null,Ru=!1}var eg=[];function Zk(){for(var e=0;e<eg.length;e++)eg[e]._workInProgressVersionPrimary=null;eg.length=0}var h_=Eh.ReactCurrentDispatcher,cl=Eh.ReactCurrentBatchConfig,R_=0,Ri=null,ia=null,Ao=null,zI=!1,m_=!1;function Qa(){throw Error(Mt(321))}function Kk(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ll(e[r],t[r]))return!1;return!0}function Yk(e,t,r,n,i,o){if(R_=o,Ri=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,h_.current=e===null||e.memoizedState===null?Uje:$je,e=r(n,i),m_){o=0;do{if(m_=!1,!(25>o))throw Error(Mt(301));o+=1,Ao=ia=null,t.updateQueue=null,h_.current=Hje,e=r(n,i)}while(m_)}if(h_.current=VI,t=ia!==null&&ia.next!==null,R_=0,Ao=ia=Ri=null,zI=!1,t)throw Error(Mt(300));return e}function _h(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ao===null?Ri.memoizedState=Ao=e:Ao=Ao.next=e,Ao}function Ah(){if(ia===null){var e=Ri.alternate;e=e!==null?e.memoizedState:null}else e=ia.next;var t=Ao===null?Ri.memoizedState:Ao.next;if(t!==null)Ao=t,ia=e;else{if(e===null)throw Error(Mt(310));ia=e,e={memoizedState:ia.memoizedState,baseState:ia.baseState,baseQueue:ia.baseQueue,queue:ia.queue,next:null},Ao===null?Ri.memoizedState=Ao=e:Ao=Ao.next=e}return Ao}function Mu(e,t){return typeof t=="function"?t(e):t}function Y1(e){var t=Ah(),r=t.queue;if(r===null)throw Error(Mt(311));r.lastRenderedReducer=e;var n=ia,i=n.baseQueue,o=r.pending;if(o!==null){if(i!==null){var u=i.next;i.next=o.next,o.next=u}n.baseQueue=i=o,r.pending=null}if(i!==null){i=i.next,n=n.baseState;var f=u=o=null,h=i;do{var y=h.lane;if((R_&y)===y)f!==null&&(f=f.next={lane:0,action:h.action,eagerReducer:h.eagerReducer,eagerState:h.eagerState,next:null}),n=h.eagerReducer===e?h.eagerState:e(n,h.action);else{var w={lane:y,action:h.action,eagerReducer:h.eagerReducer,eagerState:h.eagerState,next:null};f===null?(u=f=w,o=n):f=f.next=w,Ri.lanes|=y,D_|=y}h=h.next}while(h!==null&&h!==i);f===null?o=n:f.next=u,ll(n,t.memoizedState)||(Xl=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=f,r.lastRenderedState=n}return[t.memoizedState,r.dispatch]}function X1(e){var t=Ah(),r=t.queue;if(r===null)throw Error(Mt(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,o=t.memoizedState;if(i!==null){r.pending=null;var u=i=i.next;do o=e(o,u.action),u=u.next;while(u!==i);ll(o,t.memoizedState)||(Xl=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function nK(e,t,r){var n=t._getVersion;n=n(t._source);var i=t._workInProgressVersionPrimary;if(i!==null?e=i===n:(e=e.mutableReadLanes,(e=(R_&e)===e)&&(t._workInProgressVersionPrimary=n,eg.push(t))),e)return r(t._source);throw eg.push(t),Error(Mt(350))}function AY(e,t,r,n){var i=Oa;if(i===null)throw Error(Mt(349));var o=t._getVersion,u=o(t._source),f=h_.current,h=f.useState(function(){return nK(i,t,r)}),y=h[1],w=h[0];h=Ao;var T=e.memoizedState,A=T.refs,q=A.getSnapshot,z=T.source;T=T.subscribe;var F=Ri;return e.memoizedState={refs:A,source:t,subscribe:n},f.useEffect(function(){A.getSnapshot=r,A.setSnapshot=y;var N=o(t._source);if(!ll(u,N)){N=r(t._source),ll(w,N)||(y(N),N=Ad(F),i.mutableReadLanes|=N&i.pendingLanes),N=i.mutableReadLanes,i.entangledLanes|=N;for(var L=i.entanglements,B=N;0<B;){var Z=31-Od(B),te=1<<Z;L[Z]|=N,B&=~te}}},[r,t,n]),f.useEffect(function(){return n(t._source,function(){var N=A.getSnapshot,L=A.setSnapshot;try{L(N(t._source));var B=Ad(F);i.mutableReadLanes|=B&i.pendingLanes}catch(Z){L(function(){throw Z})}})},[t,n]),ll(q,r)&&ll(z,t)&&ll(T,n)||(e={pending:null,dispatch:null,lastRenderedReducer:Mu,lastRenderedState:w},e.dispatch=y=Qk.bind(null,Ri,e),h.queue=e,h.baseQueue=null,w=nK(i,t,r),h.memoizedState=h.baseState=w),w}function CY(e,t,r){var n=Ah();return AY(n,e,t,r)}function J1(e){var t=_h();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e=t.queue={pending:null,dispatch:null,lastRenderedReducer:Mu,lastRenderedState:e},e=e.dispatch=Qk.bind(null,Ri,e),[t.memoizedState,e]}function FI(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Ri.updateQueue,t===null?(t={lastEffect:null},Ri.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function iK(e){var t=_h();return e={current:e},t.memoizedState=e}function jI(){return Ah().memoizedState}function nk(e,t,r,n){var i=_h();Ri.flags|=e,i.memoizedState=FI(1|t,r,void 0,n===void 0?null:n)}function Xk(e,t,r,n){var i=Ah();n=n===void 0?null:n;var o=void 0;if(ia!==null){var u=ia.memoizedState;if(o=u.destroy,n!==null&&Kk(n,u.deps)){FI(t,r,o,n);return}}Ri.flags|=e,i.memoizedState=FI(1|t,r,o,n)}function oK(e,t){return nk(516,4,e,t)}function BI(e,t){return Xk(516,4,e,t)}function MY(e,t){return Xk(4,2,e,t)}function PY(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function OY(e,t,r){return r=r!=null?r.concat([e]):null,Xk(4,2,PY.bind(null,t,e),r)}function Jk(){}function RY(e,t){var r=Ah();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Kk(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function qY(e,t){var r=Ah();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Kk(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Vje(e,t){var r=ag();wh(98>r?98:r,function(){e(!0)}),wh(97<r?97:r,function(){var n=cl.transition;cl.transition=1;try{e(!1),t()}finally{cl.transition=n}})}function Qk(e,t,r){var n=Ds(),i=Ad(e),o={lane:i,action:r,eagerReducer:null,eagerState:null,next:null},u=t.pending;if(u===null?o.next=o:(o.next=u.next,u.next=o),t.pending=o,u=e.alternate,e===Ri||u!==null&&u===Ri)m_=zI=!0;else{if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var f=t.lastRenderedState,h=u(f,r);if(o.eagerReducer=u,o.eagerState=h,ll(h,f))return}catch(y){}finally{}Cd(e,i,n)}}var VI={readContext:pl,useCallback:Qa,useContext:Qa,useEffect:Qa,useImperativeHandle:Qa,useLayoutEffect:Qa,useMemo:Qa,useReducer:Qa,useRef:Qa,useState:Qa,useDebugValue:Qa,useDeferredValue:Qa,useTransition:Qa,useMutableSource:Qa,useOpaqueIdentifier:Qa,unstable_isNewReconciler:!1},Uje={readContext:pl,useCallback:function(e,t){return _h().memoizedState=[e,t===void 0?null:t],e},useContext:pl,useEffect:oK,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,nk(4,2,PY.bind(null,t,e),r)},useLayoutEffect:function(e,t){return nk(4,2,e,t)},useMemo:function(e,t){var r=_h();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=_h();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e=n.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},e=e.dispatch=Qk.bind(null,Ri,e),[n.memoizedState,e]},useRef:iK,useState:J1,useDebugValue:Jk,useDeferredValue:function(e){var t=J1(e),r=t[0],n=t[1];return oK(function(){var i=cl.transition;cl.transition=1;try{n(e)}finally{cl.transition=i}},[e]),r},useTransition:function(){var e=J1(!1),t=e[0];return e=Vje.bind(null,e[1]),iK(e),[e,t]},useMutableSource:function(e,t,r){var n=_h();return n.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:r},AY(n,e,t,r)},useOpaqueIdentifier:function(){if(Ru){var e=!1,t=Dje(function(){throw e||(e=!0,r("r:"+(wN++).toString(36))),Error(Mt(355))}),r=J1(t)[1];return!(Ri.mode&2)&&(Ri.flags|=516,FI(5,function(){r("r:"+(wN++).toString(36))},void 0,null)),t}return t="r:"+(wN++).toString(36),J1(t),t},unstable_isNewReconciler:!1},$je={readContext:pl,useCallback:RY,useContext:pl,useEffect:BI,useImperativeHandle:OY,useLayoutEffect:MY,useMemo:qY,useReducer:Y1,useRef:jI,useState:function(){return Y1(Mu)},useDebugValue:Jk,useDeferredValue:function(e){var t=Y1(Mu),r=t[0],n=t[1];return BI(function(){var i=cl.transition;cl.transition=1;try{n(e)}finally{cl.transition=i}},[e]),r},useTransition:function(){var e=Y1(Mu)[0];return[jI().current,e]},useMutableSource:CY,useOpaqueIdentifier:function(){return Y1(Mu)[0]},unstable_isNewReconciler:!1},Hje={readContext:pl,useCallback:RY,useContext:pl,useEffect:BI,useImperativeHandle:OY,useLayoutEffect:MY,useMemo:qY,useReducer:X1,useRef:jI,useState:function(){return X1(Mu)},useDebugValue:Jk,useDeferredValue:function(e){var t=X1(Mu),r=t[0],n=t[1];return BI(function(){var i=cl.transition;cl.transition=1;try{n(e)}finally{cl.transition=i}},[e]),r},useTransition:function(){var e=X1(Mu)[0];return[jI().current,e]},useMutableSource:CY,useOpaqueIdentifier:function(){return X1(Mu)[0]},unstable_isNewReconciler:!1},Gje=Eh.ReactCurrentOwner,Xl=!1;function es(e,t,r,n){t.child=e===null?EY(t,null,r,n):DI(t,e.child,r,n)}function aK(e,t,r,n,i){r=r.render;var o=t.ref;return Qv(t,i),n=Yk(e,t,r,n,o,i),e!==null&&!Xl?(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,jc(e,t,i)):(t.flags|=1,es(e,t,n,i),t.child)}function sK(e,t,r,n,i,o){if(e===null){var u=r.type;return typeof u=="function"&&!oD(u)&&u.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=u,NY(e,t,u,n,i,o)):(e=wI(r.type,null,n,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}return u=e.child,!(i&o)&&(i=u.memoizedProps,r=r.compare,r=r!==null?r:T_,r(i,n)&&e.ref===t.ref)?jc(e,t,o):(t.flags|=1,e=Nd(u,n),e.ref=t.ref,e.return=t,t.child=e)}function NY(e,t,r,n,i,o){if(e!==null&&T_(e.memoizedProps,n)&&e.ref===t.ref)if(Xl=!1,(o&i)!==0)e.flags&16384&&(Xl=!0);else return t.lanes=e.lanes,jc(e,t,o);return ik(e,t,r,n,o)}function TN(e,t,r){var n=t.pendingProps,i=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden"||n.mode==="unstable-defer-without-hiding"){if(!(t.mode&4))t.memoizedState={baseLanes:0},dI(t,r);else if(r&1073741824)t.memoizedState={baseLanes:0},dI(t,o!==null?o.baseLanes:r);else return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},dI(t,e),null;}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,dI(t,n);return es(e,t,i,r),t.child}function kY(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=128)}function ik(e,t,r,n,i){var o=rs(r)?xh:sa.current;return o=og(t,o),Qv(t,i),r=Yk(e,t,r,n,o,i),e!==null&&!Xl?(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,jc(e,t,i)):(t.flags|=1,es(e,t,r,i),t.child)}function lK(e,t,r,n,i){if(rs(r)){var o=!0;gI(t)}else o=!1;if(Qv(t,i),t.stateNode===null)e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),SY(t,r,n),ek(t,r,n,i),n=!0;else if(e===null){var u=t.stateNode,f=t.memoizedProps;u.props=f;var h=u.context,y=r.contextType;typeof y=="object"&&y!==null?y=pl(y):(y=rs(r)?xh:sa.current,y=og(t,y));var w=r.getDerivedStateFromProps,T=typeof w=="function"||typeof u.getSnapshotBeforeUpdate=="function";T||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(f!==n||h!==y)&&QZ(t,u,n,y),gd=!1;var A=t.memoizedState;u.state=A,M_(t,n,u,i),h=t.memoizedState,f!==n||A!==h||ts.current||gd?(typeof w=="function"&&(kI(t,r,w,n),h=t.memoizedState),(f=gd||JZ(t,r,f,n,A,h,y))?(T||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4)):(typeof u.componentDidMount=="function"&&(t.flags|=4),t.memoizedProps=n,t.memoizedState=h),u.props=n,u.state=h,u.context=y,n=f):(typeof u.componentDidMount=="function"&&(t.flags|=4),n=!1)}else{u=t.stateNode,xY(e,t),f=t.memoizedProps,y=t.type===t.elementType?f:Yl(t.type,f),u.props=y,T=t.pendingProps,A=u.context,h=r.contextType,typeof h=="object"&&h!==null?h=pl(h):(h=rs(r)?xh:sa.current,h=og(t,h));var q=r.getDerivedStateFromProps;(w=typeof q=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(f!==T||A!==h)&&QZ(t,u,n,h),gd=!1,A=t.memoizedState,u.state=A,M_(t,n,u,i);var z=t.memoizedState;f!==T||A!==z||ts.current||gd?(typeof q=="function"&&(kI(t,r,q,n),z=t.memoizedState),(y=gd||JZ(t,r,y,n,A,z,h))?(w||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(n,z,h),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(n,z,h)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=256)):(typeof u.componentDidUpdate!="function"||f===e.memoizedProps&&A===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&A===e.memoizedState||(t.flags|=256),t.memoizedProps=n,t.memoizedState=z),u.props=n,u.state=z,u.context=h,n=y):(typeof u.componentDidUpdate!="function"||f===e.memoizedProps&&A===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&A===e.memoizedState||(t.flags|=256),n=!1)}return ok(e,t,r,n,o,i)}function ok(e,t,r,n,i,o){kY(e,t);var u=(t.flags&64)!==0;if(!n&&!u)return i&&WZ(t,r,!1),jc(e,t,o);n=t.stateNode,Gje.current=t;var f=u&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&u?(t.child=DI(t,e.child,null,o),t.child=DI(t,null,f,o)):es(e,t,f,o),t.memoizedState=n.state,i&&WZ(t,r,!0),t.child}function uK(e){var t=e.stateNode;t.pendingContext?GZ(e,t.pendingContext,t.pendingContext!==t.context):t.context&&GZ(e,t.context,!1),tk(e,t.containerInfo)}var pI={dehydrated:null,retryLane:0};function cK(e,t,r){var n=t.pendingProps,i=Ii.current,o=!1,u;return(u=(t.flags&64)!==0)||(u=e!==null&&e.memoizedState===null?!1:(i&2)!==0),u?(o=!0,t.flags&=-65):e!==null&&e.memoizedState===null||n.fallback===void 0||n.unstable_avoidThisFallback===!0||(i|=1),Ei(Ii,i&1),e===null?(n.fallback!==void 0&&rk(t),e=n.children,i=n.fallback,o?(e=pK(t,e,i,r),t.child.memoizedState={baseLanes:r},t.memoizedState=pI,e):typeof n.unstable_expectedLoadTime=="number"?(e=pK(t,e,i,r),t.child.memoizedState={baseLanes:r},t.memoizedState=pI,t.lanes=33554432,e):(r=aD({mode:"visible",children:e},t.mode,r,null),r.return=t,t.child=r)):e.memoizedState!==null?o?(n=fK(e,t,n.children,n.fallback,r),o=t.child,i=e.child.memoizedState,o.memoizedState=i===null?{baseLanes:r}:{baseLanes:i.baseLanes|r},o.childLanes=e.childLanes&~r,t.memoizedState=pI,n):(r=dK(e,t,n.children,r),t.memoizedState=null,r):o?(n=fK(e,t,n.children,n.fallback,r),o=t.child,i=e.child.memoizedState,o.memoizedState=i===null?{baseLanes:r}:{baseLanes:i.baseLanes|r},o.childLanes=e.childLanes&~r,t.memoizedState=pI,n):(r=dK(e,t,n.children,r),t.memoizedState=null,r)}function pK(e,t,r,n){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},!(i&2)&&o!==null?(o.childLanes=0,o.pendingProps=t):o=aD(t,i,0,null),r=ng(r,i,n,null),o.return=e,r.return=e,o.sibling=r,e.child=o,r}function dK(e,t,r,n){var i=e.child;return e=i.sibling,r=Nd(i,{mode:"visible",children:r}),!(t.mode&2)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=r}function fK(e,t,r,n,i){var o=t.mode,u=e.child;e=u.sibling;var f={mode:"hidden",children:r};return!(o&2)&&t.child!==u?(r=t.child,r.childLanes=0,r.pendingProps=f,u=r.lastEffect,u!==null?(t.firstEffect=r.firstEffect,t.lastEffect=u,u.nextEffect=null):t.firstEffect=t.lastEffect=null):r=Nd(u,f),e!==null?n=Nd(e,n):(n=ng(n,o,i,null),n.flags|=2),n.return=t,r.return=t,r.sibling=n,t.child=r,n}function hK(e,t){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),bY(e.return,t)}function AN(e,t,r,n,i,o){var u=e.memoizedState;u===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i,lastEffect:o}:(u.isBackwards=t,u.rendering=null,u.renderingStartTime=0,u.last=n,u.tail=r,u.tailMode=i,u.lastEffect=o)}function mK(e,t,r){var n=t.pendingProps,i=n.revealOrder,o=n.tail;if(es(e,t,n.children,r),n=Ii.current,n&2)n=n&1|2,t.flags|=64;else{if(e!==null&&e.flags&64)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&hK(e,r);else if(e.tag===19)hK(e,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Ei(Ii,n),!(t.mode&2))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&LI(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),AN(t,!1,i,r,o,t.lastEffect);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&LI(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}AN(t,!0,r,null,o,t.lastEffect);break;case"together":AN(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null;}return t.child}function jc(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),D_|=t.lanes,r&t.childLanes){if(e!==null&&t.child!==e.child)throw Error(Mt(153));if(t.child!==null){for(e=t.child,r=Nd(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Nd(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}return null}var DY,ak,LY,zY;DY=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};ak=function(){};LY=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,yh(Ou.current);var o=null;switch(r){case"input":i=qN(e,i),n=qN(e,n),o=[];break;case"option":i=DN(e,i),n=DN(e,n),o=[];break;case"select":i=ci({},i,{value:void 0}),n=ci({},n,{value:void 0}),o=[];break;case"textarea":i=LN(e,i),n=LN(e,n),o=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=MI);}jN(r,n);var u;r=null;for(y in i)if(!n.hasOwnProperty(y)&&i.hasOwnProperty(y)&&i[y]!=null)if(y==="style"){var f=i[y];for(u in f)f.hasOwnProperty(u)&&(r||(r={}),r[u]="")}else y!=="dangerouslySetInnerHTML"&&y!=="children"&&y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(__.hasOwnProperty(y)?o||(o=[]):(o=o||[]).push(y,null));for(y in n){var h=n[y];if(f=i!=null?i[y]:void 0,n.hasOwnProperty(y)&&h!==f&&(h!=null||f!=null))if(y==="style"){if(f){for(u in f)!f.hasOwnProperty(u)||h&&h.hasOwnProperty(u)||(r||(r={}),r[u]="");for(u in h)h.hasOwnProperty(u)&&f[u]!==h[u]&&(r||(r={}),r[u]=h[u])}else r||(o||(o=[]),o.push(y,r)),r=h;}else y==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,f=f?f.__html:void 0,h!=null&&f!==h&&(o=o||[]).push(y,h)):y==="children"?typeof h!="string"&&typeof h!="number"||(o=o||[]).push(y,""+h):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&(__.hasOwnProperty(y)?(h!=null&&y==="onScroll"&&ni("scroll",e),o||f===h||(o=[])):typeof h=="object"&&h!==null&&h.$$typeof===Tk?h.toString():(o=o||[]).push(y,h))}r&&(o=o||[]).push("style",r);var y=o;(t.updateQueue=y)&&(t.flags|=4)}};zY=function(e,t,r,n){r!==n&&(t.flags|=4)};function Q1(e,t){if(!Ru)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null;}}function Wje(e,t,r){var n=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return rs(t.type)&&OI(),null;case 3:return sg(),ii(ts),ii(sa),Zk(),n=t.stateNode,n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(cI(t)?t.flags|=4:n.hydrate||(t.flags|=256)),ak(t),null;case 5:Wk(t);var i=yh(O_.current);if(r=t.type,e!==null&&t.stateNode!=null)LY(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=128);else{if(!n){if(t.stateNode===null)throw Error(Mt(166));return null}if(e=yh(Ou.current),cI(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[bd]=t,n[PI]=o,r){case"dialog":ni("cancel",n),ni("close",n);break;case"iframe":case"object":case"embed":ni("load",n);break;case"video":case"audio":for(e=0;e<i_.length;e++)ni(i_[e],n);break;case"source":ni("error",n);break;case"img":case"image":case"link":ni("error",n),ni("load",n);break;case"details":ni("toggle",n);break;case"input":gZ(n,o),ni("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},ni("invalid",n);break;case"textarea":_Z(n,o),ni("invalid",n);}jN(r,o),e=null;for(var u in o)o.hasOwnProperty(u)&&(i=o[u],u==="children"?typeof i=="string"?n.textContent!==i&&(e=["children",i]):typeof i=="number"&&n.textContent!==""+i&&(e=["children",""+i]):__.hasOwnProperty(u)&&i!=null&&u==="onScroll"&&ni("scroll",n));switch(r){case"input":tI(n),yZ(n,o,!0);break;case"textarea":tI(n),bZ(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=MI);}n=e,t.updateQueue=n,n!==null&&(t.flags|=4)}else{switch(u=i.nodeType===9?i:i.ownerDocument,e===zN.html&&(e=OK(r)),e===zN.html?r==="script"?(e=u.createElement("div"),e.innerHTML="<script></script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=u.createElement(r,{is:n.is}):(e=u.createElement(r),r==="select"&&(u=e,n.multiple?u.multiple=!0:n.size&&(u.size=n.size))):e=u.createElementNS(e,r),e[bd]=t,e[PI]=n,DY(e,t,!1,!1),t.stateNode=e,u=BN(r,n),r){case"dialog":ni("cancel",e),ni("close",e),i=n;break;case"iframe":case"object":case"embed":ni("load",e),i=n;break;case"video":case"audio":for(i=0;i<i_.length;i++)ni(i_[i],e);i=n;break;case"source":ni("error",e),i=n;break;case"img":case"image":case"link":ni("error",e),ni("load",e),i=n;break;case"details":ni("toggle",e),i=n;break;case"input":gZ(e,n),i=qN(e,n),ni("invalid",e);break;case"option":i=DN(e,n);break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=ci({},n,{value:void 0}),ni("invalid",e);break;case"textarea":_Z(e,n),i=LN(e,n),ni("invalid",e);break;default:i=n;}jN(r,i);var f=i;for(o in f)if(f.hasOwnProperty(o)){var h=f[o];o==="style"?NK(e,h):o==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,h!=null&&RK(e,h)):o==="children"?typeof h=="string"?(r!=="textarea"||h!=="")&&b_(e,h):typeof h=="number"&&b_(e,""+h):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(__.hasOwnProperty(o)?h!=null&&o==="onScroll"&&ni("scroll",e):h!=null&&bk(e,o,h,u))}switch(r){case"input":tI(e),yZ(e,n,!1);break;case"textarea":tI(e),bZ(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Pd(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?Kv(e,!!n.multiple,o,!1):n.defaultValue!=null&&Kv(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=MI);}pY(r,n)&&(t.flags|=4)}t.ref!==null&&(t.flags|=128)}return null;case 6:if(e&&t.stateNode!=null)zY(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Mt(166));r=yh(O_.current),yh(Ou.current),cI(t)?(n=t.stateNode,r=t.memoizedProps,n[bd]=t,n.nodeValue!==r&&(t.flags|=4)):(n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[bd]=t,t.stateNode=n)}return null;case 13:return ii(Ii),n=t.memoizedState,t.flags&64?(t.lanes=r,t):(n=n!==null,r=!1,e===null?t.memoizedProps.fallback!==void 0&&cI(t):r=e.memoizedState!==null,n&&!r&&t.mode&2&&(e===null&&t.memoizedProps.unstable_avoidThisFallback!==!0||Ii.current&1?Co===0&&(Co=3):((Co===0||Co===3)&&(Co=4),Oa===null||!(D_&134217727)&&!(pg&134217727)||tg(Oa,aa))),(n||r)&&(t.flags|=4),null);case 4:return sg(),ak(t),e===null&&lY(t.stateNode.containerInfo),null;case 10:return Hk(t),null;case 17:return rs(t.type)&&OI(),null;case 19:if(ii(Ii),n=t.memoizedState,n===null)return null;if(o=(t.flags&64)!==0,u=n.rendering,u===null){if(o)Q1(n,!1);else{if(Co!==0||e!==null&&e.flags&64)for(e=t.child;e!==null;){if(u=LI(e),u!==null){for(t.flags|=64,Q1(n,!1),o=u.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),n.lastEffect===null&&(t.firstEffect=null),t.lastEffect=n.lastEffect,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,u=o.alternate,u===null?(o.childLanes=0,o.lanes=e,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ei(Ii,Ii.current&1|2),t.child}e=e.sibling}n.tail!==null&&oa()>dk&&(t.flags|=64,o=!0,Q1(n,!1),t.lanes=33554432)}}else{if(!o)if(e=LI(u),e!==null){if(t.flags|=64,o=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Q1(n,!0),n.tail===null&&n.tailMode==="hidden"&&!u.alternate&&!Ru)return t=t.lastEffect=n.lastEffect,t!==null&&(t.nextEffect=null),null}else 2*oa()-n.renderingStartTime>dk&&r!==1073741824&&(t.flags|=64,o=!0,Q1(n,!1),t.lanes=33554432);n.isBackwards?(u.sibling=t.child,t.child=u):(r=n.last,r!==null?r.sibling=u:t.child=u,n.last=u)}return n.tail!==null?(r=n.tail,n.rendering=r,n.tail=r.sibling,n.lastEffect=t.lastEffect,n.renderingStartTime=oa(),r.sibling=null,t=Ii.current,Ei(Ii,o?t&1|2:t&1),r):null;case 23:case 24:return iD(),e!==null&&e.memoizedState!==null!=(t.memoizedState!==null)&&n.mode!=="unstable-defer-without-hiding"&&(t.flags|=4),null;}throw Error(Mt(156,t.tag))}function Zje(e){switch(e.tag){case 1:rs(e.type)&&OI();var t=e.flags;return t&4096?(e.flags=t&-4097|64,e):null;case 3:if(sg(),ii(ts),ii(sa),Zk(),t=e.flags,t&64)throw Error(Mt(285));return e.flags=t&-4097|64,e;case 5:return Wk(e),null;case 13:return ii(Ii),t=e.flags,t&4096?(e.flags=t&-4097|64,e):null;case 19:return ii(Ii),null;case 4:return sg(),null;case 10:return Hk(e),null;case 23:case 24:return iD(),null;default:return null;}}function eD(e,t){try{var r="",n=t;do r+=CFe(n),n=n.return;while(n);var i=r}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i}}function sk(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Kje=typeof WeakMap=="function"?WeakMap:Map;function FY(e,t,r){r=Ed(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){$I||($I=!0,fk=n),sk(e,t)},r}function jY(e,t,r){r=Ed(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return sk(e,t),n(i)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){typeof n!="function"&&(Pu===null?Pu=new Set([this]):Pu.add(this),sk(e,t));var u=t.stack;this.componentDidCatch(t.value,{componentStack:u!==null?u:""})}),r}var Yje=typeof WeakSet=="function"?WeakSet:Set;function vK(e){var t=e.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){Md(e,r)}else t.current=null}function Xje(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(t.flags&256&&e!==null){var r=e.memoizedProps,n=e.memoizedState;e=t.stateNode,t=e.getSnapshotBeforeUpdate(t.elementType===t.type?r:Yl(t.type,r),n),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:t.flags&256&&Bk(t.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return;}throw Error(Mt(163))}function Jje(e,t,r){switch(r.tag){case 0:case 11:case 15:case 22:if(t=r.updateQueue,t=t!==null?t.lastEffect:null,t!==null){e=t=t.next;do{if((e.tag&3)===3){var n=e.create;e.destroy=n()}e=e.next}while(e!==t)}if(t=r.updateQueue,t=t!==null?t.lastEffect:null,t!==null){e=t=t.next;do{var i=e;n=i.next,i=i.tag,i&4&&i&1&&(KY(r,e),aBe(r,e)),e=n}while(e!==t)}return;case 1:e=r.stateNode,r.flags&4&&(t===null?e.componentDidMount():(n=r.elementType===r.type?t.memoizedProps:Yl(r.type,t.memoizedProps),e.componentDidUpdate(n,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),t=r.updateQueue,t!==null&&XZ(r,t,e);return;case 3:if(t=r.updateQueue,t!==null){if(e=null,r.child!==null)switch(r.child.tag){case 5:e=r.child.stateNode;break;case 1:e=r.child.stateNode;}XZ(r,t,e)}return;case 5:e=r.stateNode,t===null&&r.flags&4&&pY(r.type,r.memoizedProps)&&e.focus();return;case 6:return;case 4:return;case 12:return;case 13:r.memoizedState===null&&(r=r.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&$K(r))));return;case 19:case 17:case 20:case 21:case 23:case 24:return;}throw Error(Mt(163))}function gK(e,t){for(var r=e;;){if(r.tag===5){var n=r.stateNode;if(t)n=n.style,typeof n.setProperty=="function"?n.setProperty("display","none","important"):n.display="none";else{n=r.stateNode;var i=r.memoizedProps.style;i=i!=null&&i.hasOwnProperty("display")?i.display:null,n.style.display=qK("display",i)}}else if(r.tag===6)r.stateNode.nodeValue=t?"":r.memoizedProps;else if((r.tag!==23&&r.tag!==24||r.memoizedState===null||r===e)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}}function yK(e,t){if(bh&&typeof bh.onCommitFiberUnmount=="function")try{bh.onCommitFiberUnmount(Vk,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(e=t.updateQueue,e!==null&&(e=e.lastEffect,e!==null)){var r=e=e.next;do{var n=r,i=n.destroy;if(n=n.tag,i!==void 0)if(n&4)KY(t,r);else{n=t;try{i()}catch(o){Md(n,o)}}r=r.next}while(r!==e)}break;case 1:if(vK(t),e=t.stateNode,typeof e.componentWillUnmount=="function")try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){Md(t,o)}break;case 5:vK(t);break;case 4:BY(e,t);}}function _K(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function bK(e){return e.tag===5||e.tag===3||e.tag===4}function xK(e){e:{for(var t=e.return;t!==null;){if(bK(t))break e;t=t.return}throw Error(Mt(160))}var r=t;switch(t=r.stateNode,r.tag){case 5:var n=!1;break;case 3:t=t.containerInfo,n=!0;break;case 4:t=t.containerInfo,n=!0;break;default:throw Error(Mt(161));}r.flags&16&&(b_(t,""),r.flags&=-17);e:t:for(r=e;;){for(;r.sibling===null;){if(r.return===null||bK(r.return)){r=null;break e}r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2)){r=r.stateNode;break e}}n?lk(e,r,t):uk(e,r,t)}function lk(e,t,r){var n=e.tag,i=n===5||n===6;if(i)e=i?e.stateNode:e.stateNode.instance,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=MI));else if(n!==4&&(e=e.child,e!==null))for(lk(e,t,r),e=e.sibling;e!==null;)lk(e,t,r),e=e.sibling}function uk(e,t,r){var n=e.tag,i=n===5||n===6;if(i)e=i?e.stateNode:e.stateNode.instance,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(uk(e,t,r),e=e.sibling;e!==null;)uk(e,t,r),e=e.sibling}function BY(e,t){for(var r=t,n=!1,i,o;;){if(!n){n=r.return;e:for(;;){if(n===null)throw Error(Mt(160));switch(i=n.stateNode,n.tag){case 5:o=!1;break e;case 3:i=i.containerInfo,o=!0;break e;case 4:i=i.containerInfo,o=!0;break e;}n=n.return}n=!0}if(r.tag===5||r.tag===6){e:for(var u=e,f=r,h=f;;)if(yK(u,h),h.child!==null&&h.tag!==4)h.child.return=h,h=h.child;else{if(h===f)break e;for(;h.sibling===null;){if(h.return===null||h.return===f)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}o?(u=i,f=r.stateNode,u.nodeType===8?u.parentNode.removeChild(f):u.removeChild(f)):i.removeChild(r.stateNode)}else if(r.tag===4){if(r.child!==null){i=r.stateNode.containerInfo,o=!0,r.child.return=r,r=r.child;continue}}else if(yK(e,r),r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return,r.tag===4&&(n=!1)}r.sibling.return=r.return,r=r.sibling}}function CN(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var n=r=r.next;do(n.tag&3)===3&&(e=n.destroy,n.destroy=void 0,e!==void 0&&e()),n=n.next;while(n!==r)}return;case 1:return;case 5:if(r=t.stateNode,r!=null){n=t.memoizedProps;var i=e!==null?e.memoizedProps:n;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,o!==null){for(r[PI]=n,e==="input"&&n.type==="radio"&&n.name!=null&&MK(r,n),BN(e,i),t=BN(e,n),i=0;i<o.length;i+=2){var u=o[i],f=o[i+1];u==="style"?NK(r,f):u==="dangerouslySetInnerHTML"?RK(r,f):u==="children"?b_(r,f):bk(r,u,f,t)}switch(e){case"input":NN(r,n);break;case"textarea":PK(r,n);break;case"select":e=r._wrapperState.wasMultiple,r._wrapperState.wasMultiple=!!n.multiple,o=n.value,o!=null?Kv(r,!!n.multiple,o,!1):e!==!!n.multiple&&(n.defaultValue!=null?Kv(r,!!n.multiple,n.defaultValue,!0):Kv(r,!!n.multiple,n.multiple?[]:"",!1));}}}return;case 6:if(t.stateNode===null)throw Error(Mt(162));t.stateNode.nodeValue=t.memoizedProps;return;case 3:r=t.stateNode,r.hydrate&&(r.hydrate=!1,$K(r.containerInfo));return;case 12:return;case 13:t.memoizedState!==null&&(nD=oa(),gK(t.child,!0)),wK(t);return;case 19:wK(t);return;case 17:return;case 23:case 24:gK(t,t.memoizedState!==null);return;}throw Error(Mt(163))}function wK(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Yje),t.forEach(function(n){var i=uBe.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Qje(e,t){return e!==null&&(e=e.memoizedState,e===null||e.dehydrated!==null)?(t=t.memoizedState,t!==null&&t.dehydrated===null):!1}var eBe=Math.ceil,UI=Eh.ReactCurrentDispatcher,tD=Eh.ReactCurrentOwner,Ar=0,Oa=null,Ji=null,aa=0,Sh=0,ck=kd(0),Co=0,nE=null,cg=0,D_=0,pg=0,rD=0,pk=null,nD=0,dk=1/0;function dg(){dk=oa()+500}var er=null,$I=!1,fk=null,Pu=null,qd=!1,v_=null,o_=90,hk=[],mk=[],Bc=null,g_=0,vk=null,_I=-1,zc=0,bI=0,y_=null,xI=!1;function Ds(){return Ar&48?oa():_I!==-1?_I:_I=oa()}function Ad(e){if(e=e.mode,!(e&2))return 1;if(!(e&4))return ag()===99?1:2;if(zc===0&&(zc=cg),Bje.transition!==0){bI!==0&&(bI=pk!==null?pk.pendingLanes:0),e=zc;var t=4186112&~bI;return t&=-t,t===0&&(e=4186112&~e,t=e&-e,t===0&&(t=8192)),t}return e=ag(),Ar&4&&e===98?e=AI(12,zc):(e=$Fe(e),e=AI(e,zc)),e}function Cd(e,t,r){if(50<g_)throw g_=0,vk=null,Error(Mt(185));if(e=iE(e,t),e===null)return null;YI(e,t,r),e===Oa&&(pg|=t,Co===4&&tg(e,aa));var n=ag();t===1?Ar&8&&!(Ar&48)?gk(e):(dl(e,r),Ar===0&&(dg(),qu())):(!(Ar&4)||n!==98&&n!==99||(Bc===null?Bc=new Set([e]):Bc.add(e)),dl(e,r)),pk=e}function iE(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}function dl(e,t){for(var r=e.callbackNode,n=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,u=e.pendingLanes;0<u;){var f=31-Od(u),h=1<<f,y=o[f];if(y===-1){if(!(h&n)||h&i){y=t,jv(h);var w=Kn;o[f]=10<=w?y+250:6<=w?y+5e3:-1}}else y<=t&&(e.expiredLanes|=h);u&=~h}if(n=I_(e,e===Oa?aa:0),t=Kn,n===0)r!==null&&(r!==SN&&JN(r),e.callbackNode=null,e.callbackPriority=0);else{if(r!==null){if(e.callbackPriority===t)return;r!==SN&&JN(r)}t===15?(r=gk.bind(null,e),Lc===null?(Lc=[r],yI=Uk(tE,_Y)):Lc.push(r),r=SN):t===14?r=C_(99,gk.bind(null,e)):(r=HFe(t),r=C_(r,VY.bind(null,e))),e.callbackPriority=t,e.callbackNode=r}}function VY(e){if(_I=-1,bI=zc=0,Ar&48)throw Error(Mt(327));var t=e.callbackNode;if(Dd()&&e.callbackNode!==t)return null;var r=I_(e,e===Oa?aa:0);if(r===0)return null;var n=r,i=Ar;Ar|=16;var o=GY();(Oa!==e||aa!==n)&&(dg(),rg(e,n));do try{nBe();break}catch(f){HY(e,f)}while(!0);if($k(),UI.current=o,Ar=i,Ji!==null?n=0:(Oa=null,aa=0,n=Co),cg&pg)rg(e,0);else if(n!==0){if(n===2&&(Ar|=64,e.hydrate&&(e.hydrate=!1,Bk(e.containerInfo)),r=XK(e),r!==0&&(n=a_(e,r))),n===1)throw t=nE,rg(e,0),tg(e,r),dl(e,oa()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=r,n){case 0:case 1:throw Error(Mt(345));case 2:hh(e);break;case 3:if(tg(e,r),(r&62914560)===r&&(n=nD+500-oa(),10<n)){if(I_(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Ds(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=UZ(hh.bind(null,e),n);break}hh(e);break;case 4:if(tg(e,r),(r&4186112)===r)break;for(n=e.eventTimes,i=-1;0<r;){var u=31-Od(r);o=1<<u,u=n[u],u>i&&(i=u),r&=~o}if(r=i,r=oa()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*eBe(r/1960))-r,10<r){e.timeoutHandle=UZ(hh.bind(null,e),r);break}hh(e);break;case 5:hh(e);break;default:throw Error(Mt(329));}}return dl(e,oa()),e.callbackNode===t?VY.bind(null,e):null}function tg(e,t){for(t&=~rD,t&=~pg,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Od(t),n=1<<r;e[r]=-1,t&=~n}}function gk(e){if(Ar&48)throw Error(Mt(327));if(Dd(),e===Oa&&e.expiredLanes&aa){var t=aa,r=a_(e,t);cg&pg&&(t=I_(e,t),r=a_(e,t))}else t=I_(e,0),r=a_(e,t);if(e.tag!==0&&r===2&&(Ar|=64,e.hydrate&&(e.hydrate=!1,Bk(e.containerInfo)),t=XK(e),t!==0&&(r=a_(e,t))),r===1)throw r=nE,rg(e,0),tg(e,t),dl(e,oa()),r;return e.finishedWork=e.current.alternate,e.finishedLanes=t,hh(e),dl(e,oa()),null}function tBe(){if(Bc!==null){var e=Bc;Bc=null,e.forEach(function(t){t.expiredLanes|=24&t.pendingLanes,dl(t,oa())})}qu()}function UY(e,t){var r=Ar;Ar|=1;try{return e(t)}finally{Ar=r,Ar===0&&(dg(),qu())}}function $Y(e,t){var r=Ar;Ar&=-2,Ar|=8;try{return e(t)}finally{Ar=r,Ar===0&&(dg(),qu())}}function dI(e,t){Ei(ck,Sh),Sh|=t,cg|=t}function iD(){Sh=ck.current,ii(ck)}function rg(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,kje(r)),Ji!==null)for(r=Ji.return;r!==null;){var n=r;switch(n.tag){case 1:n=n.type.childContextTypes,n!=null&&OI();break;case 3:sg(),ii(ts),ii(sa),Zk();break;case 5:Wk(n);break;case 4:sg();break;case 13:ii(Ii);break;case 19:ii(Ii);break;case 10:Hk(n);break;case 23:case 24:iD();}r=r.return}Oa=e,Ji=Nd(e.current,null),aa=Sh=cg=t,Co=0,nE=null,rD=pg=D_=0}function HY(e,t){do{var r=Ji;try{if($k(),h_.current=VI,zI){for(var n=Ri.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}zI=!1}if(R_=0,Ao=ia=Ri=null,m_=!1,tD.current=null,r===null||r.return===null){Co=1,nE=t,Ji=null;break}e:{var o=e,u=r.return,f=r,h=t;if(t=aa,f.flags|=2048,f.firstEffect=f.lastEffect=null,h!==null&&typeof h=="object"&&typeof h.then=="function"){var y=h;if(!(f.mode&2)){var w=f.alternate;w?(f.updateQueue=w.updateQueue,f.memoizedState=w.memoizedState,f.lanes=w.lanes):(f.updateQueue=null,f.memoizedState=null)}var T=(Ii.current&1)!==0,A=u;do{var q;if(q=A.tag===13){var z=A.memoizedState;if(z!==null)q=z.dehydrated!==null;else{var F=A.memoizedProps;q=F.fallback===void 0?!1:F.unstable_avoidThisFallback!==!0?!0:!T}}if(q){var N=A.updateQueue;if(N===null){var L=new Set;L.add(y),A.updateQueue=L}else N.add(y);if(!(A.mode&2)){if(A.flags|=64,f.flags|=16384,f.flags&=-2981,f.tag===1)if(f.alternate===null)f.tag=17;else{var B=Ed(-1,1);B.tag=2,Td(f,B)}f.lanes|=1;break e}h=void 0,f=t;var Z=o.pingCache;if(Z===null?(Z=o.pingCache=new Kje,h=new Set,Z.set(y,h)):(h=Z.get(y),h===void 0&&(h=new Set,Z.set(y,h))),!h.has(f)){h.add(f);var te=lBe.bind(null,o,y,f);y.then(te,te)}A.flags|=4096,A.lanes=t;break e}A=A.return}while(A!==null);h=Error((Zv(f.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}Co!==5&&(Co=2),h=eD(h,f),A=u;do{switch(A.tag){case 3:o=h,A.flags|=4096,t&=-t,A.lanes|=t;var ue=FY(A,o,t);YZ(A,ue);break e;case 1:o=h;var ce=A.type,ye=A.stateNode;if(!(A.flags&64)&&(typeof ce.getDerivedStateFromError=="function"||ye!==null&&typeof ye.componentDidCatch=="function"&&(Pu===null||!Pu.has(ye)))){A.flags|=4096,t&=-t,A.lanes|=t;var Ne=jY(A,o,t);YZ(A,Ne);break e}}A=A.return}while(A!==null)}ZY(r)}catch(Se){t=Se,Ji===r&&r!==null&&(Ji=r=r.return);continue}break}while(!0)}function GY(){var e=UI.current;return UI.current=VI,e===null?VI:e}function a_(e,t){var r=Ar;Ar|=16;var n=GY();Oa===e&&aa===t||rg(e,t);do try{rBe();break}catch(i){HY(e,i)}while(!0);if($k(),Ar=r,UI.current=n,Ji!==null)throw Error(Mt(261));return Oa=null,aa=0,Co}function rBe(){for(;Ji!==null;)WY(Ji)}function nBe(){for(;Ji!==null&&!zje();)WY(Ji)}function WY(e){var t=YY(e.alternate,e,Sh);e.memoizedProps=e.pendingProps,t===null?ZY(e):Ji=t,tD.current=null}function ZY(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&2048){if(r=Zje(t),r!==null){r.flags&=2047,Ji=r;return}e!==null&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}else{if(r=Wje(r,t,Sh),r!==null){Ji=r;return}if(r=t,r.tag!==24&&r.tag!==23||r.memoizedState===null||Sh&1073741824||!(r.mode&4)){for(var n=0,i=r.child;i!==null;)n|=i.lanes|i.childLanes,i=i.sibling;r.childLanes=n}e!==null&&!(e.flags&2048)&&(e.firstEffect===null&&(e.firstEffect=t.firstEffect),t.lastEffect!==null&&(e.lastEffect!==null&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(e.lastEffect!==null?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}if(t=t.sibling,t!==null){Ji=t;return}Ji=t=e}while(t!==null);Co===0&&(Co=5)}function hh(e){var t=ag();return wh(99,iBe.bind(null,e,t)),null}function iBe(e,t){do Dd();while(v_!==null);if(Ar&48)throw Error(Mt(327));var r=e.finishedWork;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Mt(177));e.callbackNode=null;var n=r.lanes|r.childLanes,i=n,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var u=e.eventTimes,f=e.expirationTimes;0<o;){var h=31-Od(o),y=1<<h;i[h]=0,u[h]=-1,f[h]=-1,o&=~y}if(Bc!==null&&!(n&24)&&Bc.has(e)&&Bc.delete(e),e===Oa&&(Ji=Oa=null,aa=0),1<r.flags?r.lastEffect!==null?(r.lastEffect.nextEffect=r,n=r.firstEffect):n=r:n=r.firstEffect,n!==null){if(i=Ar,Ar|=32,tD.current=null,bN=hI,u=LZ(),WN(u)){if("selectionStart"in u)f={start:u.selectionStart,end:u.selectionEnd};else e:if(f=(f=u.ownerDocument)&&f.defaultView||window,(y=f.getSelection&&f.getSelection())&&y.rangeCount!==0){f=y.anchorNode,o=y.anchorOffset,h=y.focusNode,y=y.focusOffset;try{f.nodeType,h.nodeType}catch(Se){f=null;break e}var w=0,T=-1,A=-1,q=0,z=0,F=u,N=null;t:for(;;){for(var L;F!==f||o!==0&&F.nodeType!==3||(T=w+o),F!==h||y!==0&&F.nodeType!==3||(A=w+y),F.nodeType===3&&(w+=F.nodeValue.length),(L=F.firstChild)!==null;)N=F,F=L;for(;;){if(F===u)break t;if(N===f&&++q===o&&(T=w),N===h&&++z===y&&(A=w),(L=F.nextSibling)!==null)break;F=N,N=F.parentNode}F=L}f=T===-1||A===-1?null:{start:T,end:A}}else f=null;f=f||{start:0,end:0}}else f=null;xN={focusedElem:u,selectionRange:f},hI=!1,y_=null,xI=!1,er=n;do try{oBe()}catch(Se){if(er===null)throw Error(Mt(330));Md(er,Se),er=er.nextEffect}while(er!==null);y_=null,er=n;do try{for(u=e;er!==null;){var B=er.flags;if(B&16&&b_(er.stateNode,""),B&128){var Z=er.alternate;if(Z!==null){var te=Z.ref;te!==null&&(typeof te=="function"?te(null):te.current=null)}}switch(B&1038){case 2:xK(er),er.flags&=-3;break;case 6:xK(er),er.flags&=-3,CN(er.alternate,er);break;case 1024:er.flags&=-1025;break;case 1028:er.flags&=-1025,CN(er.alternate,er);break;case 4:CN(er.alternate,er);break;case 8:f=er,BY(u,f);var ue=f.alternate;_K(f),ue!==null&&_K(ue);}er=er.nextEffect}}catch(Se){if(er===null)throw Error(Mt(330));Md(er,Se),er=er.nextEffect}while(er!==null);if(te=xN,Z=LZ(),B=te.focusedElem,u=te.selectionRange,Z!==B&&B&&B.ownerDocument&&oY(B.ownerDocument.documentElement,B)){for(u!==null&&WN(B)&&(Z=u.start,te=u.end,te===void 0&&(te=Z),("selectionStart"in B)?(B.selectionStart=Z,B.selectionEnd=Math.min(te,B.value.length)):(te=(Z=B.ownerDocument||document)&&Z.defaultView||window,te.getSelection&&(te=te.getSelection(),f=B.textContent.length,ue=Math.min(u.start,f),u=u.end===void 0?ue:Math.min(u.end,f),!te.extend&&ue>u&&(f=u,u=ue,ue=f),f=DZ(B,ue),o=DZ(B,u),f&&o&&(te.rangeCount!==1||te.anchorNode!==f.node||te.anchorOffset!==f.offset||te.focusNode!==o.node||te.focusOffset!==o.offset)&&(Z=Z.createRange(),Z.setStart(f.node,f.offset),te.removeAllRanges(),ue>u?(te.addRange(Z),te.extend(o.node,o.offset)):(Z.setEnd(o.node,o.offset),te.addRange(Z)))))),Z=[],te=B;te=te.parentNode;)te.nodeType===1&&Z.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof B.focus=="function"&&B.focus(),B=0;B<Z.length;B++)te=Z[B],te.element.scrollLeft=te.left,te.element.scrollTop=te.top}hI=!!bN,xN=bN=null,e.current=r,er=n;do try{for(B=e;er!==null;){var ce=er.flags;if(ce&36&&Jje(B,er.alternate,er),ce&128){Z=void 0;var ye=er.ref;if(ye!==null){var Ne=er.stateNode;switch(er.tag){case 5:Z=Ne;break;default:Z=Ne;}typeof ye=="function"?ye(Z):ye.current=Z}}er=er.nextEffect}}catch(Se){if(er===null)throw Error(Mt(330));Md(er,Se),er=er.nextEffect}while(er!==null);er=null,jje(),Ar=i}else e.current=r;if(qd)qd=!1,v_=e,o_=t;else for(er=n;er!==null;)t=er.nextEffect,er.nextEffect=null,er.flags&8&&(ce=er,ce.sibling=null,ce.stateNode=null),er=t;if(n=e.pendingLanes,n===0&&(Pu=null),n===1?e===vk?g_++:(g_=0,vk=e):g_=0,r=r.stateNode,bh&&typeof bh.onCommitFiberRoot=="function")try{bh.onCommitFiberRoot(Vk,r,void 0,(r.current.flags&64)===64)}catch(Se){}if(dl(e,oa()),$I)throw $I=!1,e=fk,fk=null,e;return Ar&8||qu(),null}function oBe(){for(;er!==null;){var e=er.alternate;xI||y_===null||(er.flags&8?SZ(er,y_)&&(xI=!0):er.tag===13&&Qje(e,er)&&SZ(er,y_)&&(xI=!0));var t=er.flags;t&256&&Xje(e,er),!(t&512)||qd||(qd=!0,C_(97,function(){return Dd(),null})),er=er.nextEffect}}function Dd(){if(o_!==90){var e=97<o_?97:o_;return o_=90,wh(e,sBe)}return!1}function aBe(e,t){hk.push(t,e),qd||(qd=!0,C_(97,function(){return Dd(),null}))}function KY(e,t){mk.push(t,e),qd||(qd=!0,C_(97,function(){return Dd(),null}))}function sBe(){if(v_===null)return!1;var e=v_;if(v_=null,Ar&48)throw Error(Mt(331));var t=Ar;Ar|=32;var r=mk;mk=[];for(var n=0;n<r.length;n+=2){var i=r[n],o=r[n+1],u=i.destroy;if(i.destroy=void 0,typeof u=="function")try{u()}catch(h){if(o===null)throw Error(Mt(330));Md(o,h)}}for(r=hk,hk=[],n=0;n<r.length;n+=2){i=r[n],o=r[n+1];try{var f=i.create;i.destroy=f()}catch(h){if(o===null)throw Error(Mt(330));Md(o,h)}}for(f=e.current.firstEffect;f!==null;)e=f.nextEffect,f.nextEffect=null,f.flags&8&&(f.sibling=null,f.stateNode=null),f=e;return Ar=t,qu(),!0}function SK(e,t,r){t=eD(r,t),t=FY(e,t,1),Td(e,t),t=Ds(),e=iE(e,1),e!==null&&(YI(e,1,t),dl(e,t))}function Md(e,t){if(e.tag===3)SK(e,e,t);else for(var r=e.return;r!==null;){if(r.tag===3){SK(r,e,t);break}else if(r.tag===1){var n=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Pu===null||!Pu.has(n))){e=eD(t,e);var i=jY(r,e,1);if(Td(r,i),i=Ds(),r=iE(r,1),r!==null)YI(r,1,i),dl(r,i);else if(typeof n.componentDidCatch=="function"&&(Pu===null||!Pu.has(n)))try{n.componentDidCatch(t,e)}catch(o){}break}}r=r.return}}function lBe(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Ds(),e.pingedLanes|=e.suspendedLanes&r,Oa===e&&(aa&r)===r&&(Co===4||Co===3&&(aa&62914560)===aa&&500>oa()-nD?rg(e,0):rD|=r),dl(e,t)}function uBe(e,t){var r=e.stateNode;r!==null&&r.delete(t),t=0,t===0&&(t=e.mode,t&2?t&4?(zc===0&&(zc=cg),t=Bv(62914560&~zc),t===0&&(t=4194304)):t=ag()===99?1:2:t=1),r=Ds(),e=iE(e,t),e!==null&&(YI(e,t,r),dl(e,r))}var YY;YY=function(e,t,r){var n=t.lanes;if(e!==null){if(e.memoizedProps!==t.pendingProps||ts.current)Xl=!0;else if(r&n)Xl=!!(e.flags&16384);else{switch(Xl=!1,t.tag){case 3:uK(t),EN();break;case 5:eK(t);break;case 1:rs(t.type)&&gI(t);break;case 4:tk(t,t.stateNode.containerInfo);break;case 10:n=t.memoizedProps.value;var i=t.type._context;Ei(RI,i._currentValue),i._currentValue=n;break;case 13:if(t.memoizedState!==null)return r&t.child.childLanes?cK(e,t,r):(Ei(Ii,Ii.current&1),t=jc(e,t,r),t!==null?t.sibling:null);Ei(Ii,Ii.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&64){if(n)return mK(e,t,r);t.flags|=64}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ei(Ii,Ii.current),n)break;return null;case 23:case 24:return t.lanes=0,TN(e,t,r);}return jc(e,t,r)}}else Xl=!1;switch(t.lanes=0,t.tag){case 2:if(n=t.type,e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=og(t,sa.current),Qv(t,r),i=Yk(null,t,n,e,i,r),t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,rs(n)){var o=!0;gI(t)}else o=!1;t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Gk(t);var u=n.getDerivedStateFromProps;typeof u=="function"&&kI(t,n,u,e),i.updater=rE,t.stateNode=i,i._reactInternals=t,ek(t,n,e,r),t=ok(null,t,n,!0,o,r)}else t.tag=0,es(null,t,i,r),t=t.child;return t;case 16:i=t.elementType;e:{switch(e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,o=i._init,i=o(i._payload),t.type=i,o=t.tag=pBe(i),e=Yl(i,e),o){case 0:t=ik(null,t,i,e,r);break e;case 1:t=lK(null,t,i,e,r);break e;case 11:t=aK(null,t,i,e,r);break e;case 14:t=sK(null,t,i,Yl(i.type,e),n,r);break e;}throw Error(Mt(306,i,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Yl(n,i),ik(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Yl(n,i),lK(e,t,n,i,r);case 3:if(uK(t),n=t.updateQueue,e===null||n===null)throw Error(Mt(282));if(n=t.pendingProps,i=t.memoizedState,i=i!==null?i.element:null,xY(e,t),M_(t,n,null,r),n=t.memoizedState.element,n===i)EN(),t=jc(e,t,r);else{if(i=t.stateNode,(o=i.hydrate)&&(xd=Jv(t.stateNode.containerInfo.firstChild),Fc=t,o=Ru=!0),o){if(e=i.mutableSourceEagerHydrationData,e!=null)for(i=0;i<e.length;i+=2)o=e[i],o._workInProgressVersionPrimary=e[i+1],eg.push(o);for(r=EY(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|1024,r=r.sibling}else es(e,t,n,r),EN();t=t.child}return t;case 5:return eK(t),e===null&&rk(t),n=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,u=i.children,YN(n,i)?u=null:o!==null&&YN(n,o)&&(t.flags|=16),kY(e,t),es(e,t,u,r),t.child;case 6:return e===null&&rk(t),null;case 13:return cK(e,t,r);case 4:return tk(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=DI(t,null,n,r):es(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Yl(n,i),aK(e,t,n,i,r);case 7:return es(e,t,t.pendingProps,r),t.child;case 8:return es(e,t,t.pendingProps.children,r),t.child;case 12:return es(e,t,t.pendingProps.children,r),t.child;case 10:e:{n=t.type._context,i=t.pendingProps,u=t.memoizedProps,o=i.value;var f=t.type._context;if(Ei(RI,f._currentValue),f._currentValue=o,u!==null)if(f=u.value,o=ll(f,o)?0:(typeof n._calculateChangedBits=="function"?n._calculateChangedBits(f,o):1073741823)|0,o===0){if(u.children===i.children&&!ts.current){t=jc(e,t,r);break e}}else for(f=t.child,f!==null&&(f.return=t);f!==null;){var h=f.dependencies;if(h!==null){u=f.child;for(var y=h.firstContext;y!==null;){if(y.context===n&&y.observedBits&o){f.tag===1&&(y=Ed(-1,r&-r),y.tag=2,Td(f,y)),f.lanes|=r,y=f.alternate,y!==null&&(y.lanes|=r),bY(f.return,r),h.lanes|=r;break}y=y.next}}else u=f.tag===10&&f.type===t.type?null:f.child;if(u!==null)u.return=f;else for(u=f;u!==null;){if(u===t){u=null;break}if(f=u.sibling,f!==null){f.return=u.return,u=f;break}u=u.return}f=u}es(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,o=t.pendingProps,n=o.children,Qv(t,r),i=pl(i,o.unstable_observedBits),n=n(i),t.flags|=1,es(e,t,n,r),t.child;case 14:return i=t.type,o=Yl(i,t.pendingProps),o=Yl(i.type,o),sK(e,t,i,o,n,r);case 15:return NY(e,t,t.type,t.pendingProps,n,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Yl(n,i),e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,rs(n)?(e=!0,gI(t)):e=!1,Qv(t,r),SY(t,n,i),ek(t,n,i,r),ok(null,t,n,!0,e,r);case 19:return mK(e,t,r);case 23:return TN(e,t,r);case 24:return TN(e,t,r);}throw Error(Mt(156,t.tag))};function cBe(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function ul(e,t,r,n){return new cBe(e,t,r,n)}function oD(e){return e=e.prototype,!(!e||!e.isReactComponent)}function pBe(e){if(typeof e=="function")return oD(e)?1:0;if(e!=null){if(e=e.$$typeof,e===WI)return 11;if(e===ZI)return 14}return 2}function Nd(e,t){var r=e.alternate;return r===null?(r=ul(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function wI(e,t,r,n,i,o){var u=2;if(n=e,typeof e=="function")oD(e)&&(u=1);else if(typeof e=="string")u=5;else e:switch(e){case yd:return ng(r.children,i,o,t);case TK:u=8,i|=16;break;case xk:u=8,i|=1;break;case s_:return e=ul(12,r,t,i|8),e.elementType=s_,e.type=s_,e.lanes=o,e;case l_:return e=ul(13,r,t,i),e.type=l_,e.elementType=l_,e.lanes=o,e;case SI:return e=ul(19,r,t,i),e.elementType=SI,e.lanes=o,e;case Ak:return aD(r,i,o,t);case RN:return e=ul(24,r,t,i),e.elementType=RN,e.lanes=o,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case wk:u=10;break e;case Sk:u=9;break e;case WI:u=11;break e;case ZI:u=14;break e;case Ik:u=16,n=null;break e;case Ek:u=22;break e;}throw Error(Mt(130,e==null?e:typeof e,""));}return t=ul(u,r,t,i),t.elementType=e,t.type=n,t.lanes=o,t}function ng(e,t,r,n){return e=ul(7,e,n,t),e.lanes=r,e}function aD(e,t,r,n){return e=ul(23,e,n,t),e.elementType=Ak,e.lanes=r,e}function MN(e,t,r){return e=ul(6,e,null,t),e.lanes=r,e}function PN(e,t,r){return t=ul(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function dBe(e,t,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=r,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=hN(0),this.expirationTimes=hN(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hN(0),this.mutableSourceEagerHydrationData=null}function fBe(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:mh,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function HI(e,t,r,n){var i=t.current,o=Ds(),u=Ad(i);e:if(r){r=r._reactInternals;t:{if(Th(r)!==r||r.tag!==1)throw Error(Mt(170));var f=r;do{switch(f.tag){case 3:f=f.stateNode.context;break t;case 1:if(rs(f.type)){f=f.stateNode.__reactInternalMemoizedMergedChildContext;break t}}f=f.return}while(f!==null);throw Error(Mt(171))}if(r.tag===1){var h=r.type;if(rs(h)){r=fY(r,h,f);break e}}r=f}else r=Rd;return t.context===null?t.context=r:t.pendingContext=r,t=Ed(o,u),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),Td(i,t),Cd(i,u,o),u}function ON(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode;}}function IK(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function sD(e,t){IK(e,t),(e=e.alternate)&&IK(e,t)}function hBe(){return null}function lD(e,t,r){var n=r!=null&&r.hydrationOptions!=null&&r.hydrationOptions.mutableSources||null;if(r=new dBe(e,t,r!=null&&r.hydrate===!0),t=ul(3,null,null,t===2?7:t===1?3:0),r.current=t,t.stateNode=r,Gk(t),e[ug]=r.current,lY(e.nodeType===8?e.parentNode:e),n)for(e=0;e<n.length;e++){t=n[e];var i=t._getVersion;i=i(t._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[t,i]:r.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=r}lD.prototype.render=function(e){HI(e,this._internalRoot,null,null)};lD.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;HI(null,e,null,function(){t[ug]=null})};function L_(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function mBe(e,t){if(t||(t=e?e.nodeType===9?e.documentElement:e.firstChild:null,t=!(!t||t.nodeType!==1||!t.hasAttribute("data-reactroot"))),!t)for(var r;r=e.lastChild;)e.removeChild(r);return new lD(e,0,t?{hydrate:!0}:void 0)}function oE(e,t,r,n,i){var o=r._reactRootContainer;if(o){var u=o._internalRoot;if(typeof i=="function"){var f=i;i=function(){var y=ON(u);f.call(y)}}HI(t,u,e,i)}else{if(o=r._reactRootContainer=mBe(r,n),u=o._internalRoot,typeof i=="function"){var h=i;i=function(){var y=ON(u);h.call(y)}}$Y(function(){HI(t,u,e,i)})}return ON(u)}BK=function(e){if(e.tag===13){var t=Ds();Cd(e,4,t),sD(e,4)}};Rk=function(e){if(e.tag===13){var t=Ds();Cd(e,67108864,t),sD(e,67108864)}};VK=function(e){if(e.tag===13){var t=Ds(),r=Ad(e);Cd(e,r,t),sD(e,r)}};UK=function(e,t){return t()};VN=function(e,t,r){switch(t){case"input":if(NN(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+"][type=\"radio\"]"),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=eE(n);if(!i)throw Error(Mt(90));CK(n),NN(n,i)}}}break;case"textarea":PK(e,r);break;case"select":t=r.value,t!=null&&Kv(e,!!r.multiple,t,!1);}};Mk=UY;LK=function(e,t,r,n,i){var o=Ar;Ar|=4;try{return wh(98,e.bind(null,t,r,n,i))}finally{Ar=o,Ar===0&&(dg(),qu())}};Pk=function(){!(Ar&49)&&(tBe(),Dd())};zK=function(e,t){var r=Ar;Ar|=2;try{return e(t)}finally{Ar=r,Ar===0&&(dg(),qu())}};function XY(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!L_(t))throw Error(Mt(200));return fBe(e,t,null,r)}var vBe={Events:[N_,Hv,eE,kK,DK,Dd,{current:!1}]},e_={findFiberByHostInstance:gh,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},gBe={bundleType:e_.bundleType,version:e_.version,rendererPackageName:e_.rendererPackageName,rendererConfig:e_.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Eh.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=jK(e),e===null?null:e.stateNode},findFiberByHostInstance:e_.findFiberByHostInstance||hBe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"&&(t_=__REACT_DEVTOOLS_GLOBAL_HOOK__,!t_.isDisabled&&t_.supportsFiber))try{Vk=t_.inject(gBe),bh=t_}catch(e){}var t_;fl.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vBe;fl.createPortal=XY;fl.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Mt(188)):Error(Mt(268,Object.keys(e)));return e=jK(t),e=e===null?null:e.stateNode,e};fl.flushSync=function(e,t){var r=Ar;if(r&48)return e(t);Ar|=1;try{if(e)return wh(99,e.bind(null,t))}finally{Ar=r,qu()}};fl.hydrate=function(e,t,r){if(!L_(t))throw Error(Mt(200));return oE(null,e,t,!0,r)};fl.render=function(e,t,r){if(!L_(t))throw Error(Mt(200));return oE(null,e,t,!1,r)};fl.unmountComponentAtNode=function(e){if(!L_(e))throw Error(Mt(40));return e._reactRootContainer?($Y(function(){oE(null,null,e,!1,function(){e._reactRootContainer=null,e[ug]=null})}),!0):!1};fl.unstable_batchedUpdates=UY;fl.unstable_createPortal=function(e,t){return XY(e,t,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};fl.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!L_(r))throw Error(Mt(200));if(e==null||e._reactInternals===void 0)throw Error(Mt(38));return oE(e,t,r,!1,n)};fl.version="17.0.2"});var Ti=I((ner,eX)=>{"use strict";function QY(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(QY)}catch(e){console.error(e)}}QY(),eX.exports=JY()});var Kt=I((tX,rX)=>{"use strict";var aE=function(e){return e&&e.Math===Math&&e};rX.exports=aE(typeof globalThis=="object"&&globalThis)||aE(typeof window=="object"&&window)||aE(typeof self=="object"&&self)||aE(typeof global=="object"&&global)||function(){return this}()||tX||Function("return this")()});var gt=I((ier,nX)=>{"use strict";nX.exports=function(e){try{return!!e()}catch(t){return!0}}});var pr=I((oer,iX)=>{"use strict";var yBe=gt();iX.exports=!yBe(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})});var fg=I((aer,oX)=>{"use strict";var _Be=gt();oX.exports=!_Be(function(){var e=function(){}.bind();return typeof e!="function"||e.hasOwnProperty("prototype")})});var Dt=I((ser,aX)=>{"use strict";var bBe=fg(),sE=Function.prototype.call;aX.exports=bBe?sE.bind(sE):function(){return sE.apply(sE,arguments)}});var z_=I(uX=>{"use strict";var sX={}.propertyIsEnumerable,lX=Object.getOwnPropertyDescriptor,xBe=lX&&!sX.call({1:2},1);uX.f=xBe?function(t){var r=lX(this,t);return!!r&&r.enumerable}:sX});var ns=I((uer,cX)=>{"use strict";cX.exports=function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}}});var rt=I((cer,fX)=>{"use strict";var pX=fg(),dX=Function.prototype,uD=dX.call,wBe=pX&&dX.bind.bind(uD,uD);fX.exports=pX?wBe:function(e){return function(){return uD.apply(e,arguments)}}});var Po=I((per,mX)=>{"use strict";var hX=rt(),SBe=hX({}.toString),IBe=hX("".slice);mX.exports=function(e){return IBe(SBe(e),8,-1)}});var Uc=I((der,vX)=>{"use strict";var EBe=rt(),TBe=gt(),ABe=Po(),cD=Object,CBe=EBe("".split);vX.exports=TBe(function(){return!cD("z").propertyIsEnumerable(0)})?function(e){return ABe(e)==="String"?CBe(e,""):cD(e)}:cD});var qi=I((fer,gX)=>{"use strict";gX.exports=function(e){return e==null}});var Yn=I((her,yX)=>{"use strict";var MBe=qi(),PBe=TypeError;yX.exports=function(e){if(MBe(e))throw new PBe("Can't call method on "+e);return e}});var Hi=I((mer,_X)=>{"use strict";var OBe=Uc(),RBe=Yn();_X.exports=function(e){return OBe(RBe(e))}});var dD=I((ver,bX)=>{"use strict";var pD=typeof document=="object"&&document.all,qBe=typeof pD=="undefined"&&pD!==void 0;bX.exports={all:pD,IS_HTMLDDA:qBe}});var Sr=I((ger,wX)=>{"use strict";var xX=dD(),NBe=xX.all;wX.exports=xX.IS_HTMLDDA?function(e){return typeof e=="function"||e===NBe}:function(e){return typeof e=="function"}});var Ir=I((yer,EX)=>{"use strict";var SX=Sr(),IX=dD(),kBe=IX.all;EX.exports=IX.IS_HTMLDDA?function(e){return typeof e=="object"?e!==null:SX(e)||e===kBe}:function(e){return typeof e=="object"?e!==null:SX(e)}});var gr=I((_er,TX)=>{"use strict";var fD=Kt(),DBe=Sr(),LBe=function(e){return DBe(e)?e:void 0};TX.exports=function(e,t){return arguments.length<2?LBe(fD[e]):fD[e]&&fD[e][t]}});var la=I((ber,AX)=>{"use strict";var zBe=rt();AX.exports=zBe({}.isPrototypeOf)});var Nu=I((xer,CX)=>{"use strict";CX.exports=typeof navigator!="undefined"&&String(navigator.userAgent)||""});var ku=I((wer,NX)=>{"use strict";var qX=Kt(),hD=Nu(),MX=qX.process,PX=qX.Deno,OX=MX&&MX.versions||PX&&PX.version,RX=OX&&OX.v8,Jl,lE;RX&&(Jl=RX.split("."),lE=Jl[0]>0&&Jl[0]<4?1:+(Jl[0]+Jl[1]));!lE&&hD&&(Jl=hD.match(/Edge\/(\d+)/),(!Jl||Jl[1]>=74)&&(Jl=hD.match(/Chrome\/(\d+)/),Jl&&(lE=+Jl[1])));NX.exports=lE});var Ld=I((Ser,DX)=>{"use strict";var kX=ku(),FBe=gt(),jBe=Kt(),BBe=jBe.String;DX.exports=!!Object.getOwnPropertySymbols&&!FBe(function(){var e=Symbol("symbol detection");return!BBe(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&kX&&kX<41})});var mD=I((Ier,LX)=>{"use strict";var VBe=Ld();LX.exports=VBe&&!Symbol.sham&&typeof Symbol.iterator=="symbol"});var $c=I((Eer,zX)=>{"use strict";var UBe=gr(),$Be=Sr(),HBe=la(),GBe=mD(),WBe=Object;zX.exports=GBe?function(e){return typeof e=="symbol"}:function(e){var t=UBe("Symbol");return $Be(t)&&HBe(t.prototype,WBe(e))}});var zd=I((Ter,FX)=>{"use strict";var ZBe=String;FX.exports=function(e){try{return ZBe(e)}catch(t){return"Object"}}});var yr=I((Aer,jX)=>{"use strict";var KBe=Sr(),YBe=zd(),XBe=TypeError;jX.exports=function(e){if(KBe(e))return e;throw new XBe(YBe(e)+" is not a function")}});var Ai=I((Cer,BX)=>{"use strict";var JBe=yr(),QBe=qi();BX.exports=function(e,t){var r=e[t];return QBe(r)?void 0:JBe(r)}});var _D=I((Mer,VX)=>{"use strict";var vD=Dt(),gD=Sr(),yD=Ir(),e8e=TypeError;VX.exports=function(e,t){var r,n;if(t==="string"&&gD(r=e.toString)&&!yD(n=vD(r,e))||gD(r=e.valueOf)&&!yD(n=vD(r,e))||t!=="string"&&gD(r=e.toString)&&!yD(n=vD(r,e)))return n;throw new e8e("Can't convert object to primitive value")}});var Vr=I((Per,UX)=>{"use strict";UX.exports=!1});var uE=I((Oer,HX)=>{"use strict";var $X=Kt(),t8e=Object.defineProperty;HX.exports=function(e,t){try{t8e($X,e,{value:t,configurable:!0,writable:!0})}catch(r){$X[e]=t}return t}});var F_=I((Rer,WX)=>{"use strict";var r8e=Kt(),n8e=uE(),GX="__core-js_shared__",i8e=r8e[GX]||n8e(GX,{});WX.exports=i8e});var Du=I((qer,KX)=>{"use strict";var o8e=Vr(),ZX=F_();(KX.exports=function(e,t){return ZX[e]||(ZX[e]=t!==void 0?t:{})})("versions",[]).push({version:"3.33.0",mode:o8e?"pure":"global",copyright:"\xA9 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.0/LICENSE",source:"https://github.com/zloirock/core-js"})});var Ur=I((Ner,YX)=>{"use strict";var a8e=Yn(),s8e=Object;YX.exports=function(e){return s8e(a8e(e))}});var qr=I((ker,XX)=>{"use strict";var l8e=rt(),u8e=Ur(),c8e=l8e({}.hasOwnProperty);XX.exports=Object.hasOwn||function(t,r){return c8e(u8e(t),r)}});var Fd=I((Der,JX)=>{"use strict";var p8e=rt(),d8e=0,f8e=Math.random(),h8e=p8e(1 .toString);JX.exports=function(e){return"Symbol("+(e===void 0?"":e)+")_"+h8e(++d8e+f8e,36)}});var dr=I((Ler,eJ)=>{"use strict";var m8e=Kt(),v8e=Du(),QX=qr(),g8e=Fd(),y8e=Ld(),_8e=mD(),hg=m8e.Symbol,bD=v8e("wks"),b8e=_8e?hg.for||hg:hg&&hg.withoutSetter||g8e;eJ.exports=function(e){return QX(bD,e)||(bD[e]=y8e&&QX(hg,e)?hg[e]:b8e("Symbol."+e)),bD[e]}});var j_=I((zer,nJ)=>{"use strict";var x8e=Dt(),tJ=Ir(),rJ=$c(),w8e=Ai(),S8e=_D(),I8e=dr(),E8e=TypeError,T8e=I8e("toPrimitive");nJ.exports=function(e,t){if(!tJ(e)||rJ(e))return e;var r=w8e(e,T8e),n;if(r){if(t===void 0&&(t="default"),n=x8e(r,e,t),!tJ(n)||rJ(n))return n;throw new E8e("Can't convert object to primitive value")}return t===void 0&&(t="number"),S8e(e,t)}});var Ql=I((Fer,iJ)=>{"use strict";var A8e=j_(),C8e=$c();iJ.exports=function(e){var t=A8e(e,"string");return C8e(t)?t:t+""}});var B_=I((jer,aJ)=>{"use strict";var M8e=Kt(),oJ=Ir(),xD=M8e.document,P8e=oJ(xD)&&oJ(xD.createElement);aJ.exports=function(e){return P8e?xD.createElement(e):{}}});var wD=I((Ber,sJ)=>{"use strict";var O8e=pr(),R8e=gt(),q8e=B_();sJ.exports=!O8e&&!R8e(function(){return Object.defineProperty(q8e("div"),"a",{get:function(){return 7}}).a!==7})});var Qi=I(uJ=>{"use strict";var N8e=pr(),k8e=Dt(),D8e=z_(),L8e=ns(),z8e=Hi(),F8e=Ql(),j8e=qr(),B8e=wD(),lJ=Object.getOwnPropertyDescriptor;uJ.f=N8e?lJ:function(t,r){if(t=z8e(t),r=F8e(r),B8e)try{return lJ(t,r)}catch(n){}if(j8e(t,r))return L8e(!k8e(D8e.f,t,r),t[r])}});var SD=I((Uer,cJ)=>{"use strict";var V8e=pr(),U8e=gt();cJ.exports=V8e&&U8e(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})});var zt=I(($er,pJ)=>{"use strict";var $8e=Ir(),H8e=String,G8e=TypeError;pJ.exports=function(e){if($8e(e))return e;throw new G8e(H8e(e)+" is not an object")}});var Vn=I(fJ=>{"use strict";var W8e=pr(),Z8e=wD(),K8e=SD(),cE=zt(),dJ=Ql(),Y8e=TypeError,ID=Object.defineProperty,X8e=Object.getOwnPropertyDescriptor,ED="enumerable",TD="configurable",AD="writable";fJ.f=W8e?K8e?function(t,r,n){if(cE(t),r=dJ(r),cE(n),typeof t=="function"&&r==="prototype"&&"value"in n&&AD in n&&!n[AD]){var i=X8e(t,r);i&&i[AD]&&(t[r]=n.value,n={configurable:TD in n?n[TD]:i[TD],enumerable:ED in n?n[ED]:i[ED],writable:!1})}return ID(t,r,n)}:ID:function(t,r,n){if(cE(t),r=dJ(r),cE(n),Z8e)try{return ID(t,r,n)}catch(i){}if("get"in n||"set"in n)throw new Y8e("Accessors not supported");return"value"in n&&(t[r]=n.value),t}});var Ni=I((Ger,hJ)=>{"use strict";var J8e=pr(),Q8e=Vn(),e9e=ns();hJ.exports=J8e?function(e,t,r){return Q8e.f(e,t,e9e(1,r))}:function(e,t,r){return e[t]=r,e}});var Ch=I((Wer,vJ)=>{"use strict";var CD=pr(),t9e=qr(),mJ=Function.prototype,r9e=CD&&Object.getOwnPropertyDescriptor,MD=t9e(mJ,"name"),n9e=MD&&function(){}.name==="something",i9e=MD&&(!CD||CD&&r9e(mJ,"name").configurable);vJ.exports={EXISTS:MD,PROPER:n9e,CONFIGURABLE:i9e}});var V_=I((Zer,gJ)=>{"use strict";var o9e=rt(),a9e=Sr(),PD=F_(),s9e=o9e(Function.toString);a9e(PD.inspectSource)||(PD.inspectSource=function(e){return s9e(e)});gJ.exports=PD.inspectSource});var OD=I((Ker,_J)=>{"use strict";var l9e=Kt(),u9e=Sr(),yJ=l9e.WeakMap;_J.exports=u9e(yJ)&&/native code/.test(String(yJ))});var U_=I((Yer,xJ)=>{"use strict";var c9e=Du(),p9e=Fd(),bJ=c9e("keys");xJ.exports=function(e){return bJ[e]||(bJ[e]=p9e(e))}});var mg=I((Xer,wJ)=>{"use strict";wJ.exports={}});var mn=I((Jer,EJ)=>{"use strict";var d9e=OD(),IJ=Kt(),f9e=Ir(),h9e=Ni(),RD=qr(),qD=F_(),m9e=U_(),v9e=mg(),SJ="Object already initialized",ND=IJ.TypeError,g9e=IJ.WeakMap,pE,$_,dE,y9e=function(e){return dE(e)?$_(e):pE(e,{})},_9e=function(e){return function(t){var r;if(!f9e(t)||(r=$_(t)).type!==e)throw new ND("Incompatible receiver, "+e+" required");return r}};d9e||qD.state?(eu=qD.state||(qD.state=new g9e),eu.get=eu.get,eu.has=eu.has,eu.set=eu.set,pE=function(e,t){if(eu.has(e))throw new ND(SJ);return t.facade=e,eu.set(e,t),t},$_=function(e){return eu.get(e)||{}},dE=function(e){return eu.has(e)}):(Mh=m9e("state"),v9e[Mh]=!0,pE=function(e,t){if(RD(e,Mh))throw new ND(SJ);return t.facade=e,h9e(e,Mh,t),t},$_=function(e){return RD(e,Mh)?e[Mh]:{}},dE=function(e){return RD(e,Mh)});var eu,Mh;EJ.exports={set:pE,get:$_,has:dE,enforce:y9e,getterFor:_9e}});var H_=I((Qer,CJ)=>{"use strict";var DD=rt(),b9e=gt(),x9e=Sr(),fE=qr(),kD=pr(),w9e=Ch().CONFIGURABLE,S9e=V_(),AJ=mn(),I9e=AJ.enforce,E9e=AJ.get,TJ=String,hE=Object.defineProperty,T9e=DD("".slice),A9e=DD("".replace),C9e=DD([].join),M9e=kD&&!b9e(function(){return hE(function(){},"length",{value:8}).length!==8}),P9e=String(String).split("String"),O9e=CJ.exports=function(e,t,r){T9e(TJ(t),0,7)==="Symbol("&&(t="["+A9e(TJ(t),/^Symbol\(([^)]*)\)/,"$1")+"]"),r&&r.getter&&(t="get "+t),r&&r.setter&&(t="set "+t),(!fE(e,"name")||w9e&&e.name!==t)&&(kD?hE(e,"name",{value:t,configurable:!0}):e.name=t),M9e&&r&&fE(r,"arity")&&e.length!==r.arity&&hE(e,"length",{value:r.arity});try{r&&fE(r,"constructor")&&r.constructor?kD&&hE(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(i){}var n=I9e(e);return fE(n,"source")||(n.source=C9e(P9e,typeof t=="string"?t:"")),e};Function.prototype.toString=O9e(function(){return x9e(this)&&E9e(this).source||S9e(this)},"toString")});var Sn=I((etr,MJ)=>{"use strict";var R9e=Sr(),q9e=Vn(),N9e=H_(),k9e=uE();MJ.exports=function(e,t,r,n){n||(n={});var i=n.enumerable,o=n.name!==void 0?n.name:t;if(R9e(r)&&N9e(r,o,n),n.global)i?e[t]=r:k9e(t,r);else{try{n.unsafe?e[t]&&(i=!0):delete e[t]}catch(u){}i?e[t]=r:q9e.f(e,t,{value:r,enumerable:!1,configurable:!n.nonConfigurable,writable:!n.nonWritable})}return e}});var LD=I((ttr,PJ)=>{"use strict";var D9e=Math.ceil,L9e=Math.floor;PJ.exports=Math.trunc||function(t){var r=+t;return(r>0?L9e:D9e)(r)}});var Xn=I((rtr,OJ)=>{"use strict";var z9e=LD();OJ.exports=function(e){var t=+e;return t!==t||t===0?0:z9e(t)}});var hl=I((ntr,RJ)=>{"use strict";var F9e=Xn(),j9e=Math.max,B9e=Math.min;RJ.exports=function(e,t){var r=F9e(e);return r<0?j9e(r+t,0):B9e(r,t)}});var is=I((itr,qJ)=>{"use strict";var V9e=Xn(),U9e=Math.min;qJ.exports=function(e){return e>0?U9e(V9e(e),9007199254740991):0}});var Wr=I((otr,NJ)=>{"use strict";var $9e=is();NJ.exports=function(e){return $9e(e.length)}});var vg=I((atr,DJ)=>{"use strict";var H9e=Hi(),G9e=hl(),W9e=Wr(),kJ=function(e){return function(t,r,n){var i=H9e(t),o=W9e(i),u=G9e(n,o),f;if(e&&r!==r){for(;o>u;)if(f=i[u++],f!==f)return!0}else for(;o>u;u++)if((e||u in i)&&i[u]===r)return e||u||0;return!e&&-1}};DJ.exports={includes:kJ(!0),indexOf:kJ(!1)}});var FD=I((str,zJ)=>{"use strict";var Z9e=rt(),zD=qr(),K9e=Hi(),Y9e=vg().indexOf,X9e=mg(),LJ=Z9e([].push);zJ.exports=function(e,t){var r=K9e(e),n=0,i=[],o;for(o in r)!zD(X9e,o)&&zD(r,o)&&LJ(i,o);for(;t.length>n;)zD(r,o=t[n++])&&(~Y9e(i,o)||LJ(i,o));return i}});var mE=I((ltr,FJ)=>{"use strict";FJ.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]});var Hc=I(jJ=>{"use strict";var J9e=FD(),Q9e=mE(),e7e=Q9e.concat("length","prototype");jJ.f=Object.getOwnPropertyNames||function(t){return J9e(t,e7e)}});var G_=I(BJ=>{"use strict";BJ.f=Object.getOwnPropertySymbols});var vE=I((ptr,VJ)=>{"use strict";var t7e=gr(),r7e=rt(),n7e=Hc(),i7e=G_(),o7e=zt(),a7e=r7e([].concat);VJ.exports=t7e("Reflect","ownKeys")||function(t){var r=n7e.f(o7e(t)),n=i7e.f;return n?a7e(r,n(t)):r}});var gg=I((dtr,$J)=>{"use strict";var UJ=qr(),s7e=vE(),l7e=Qi(),u7e=Vn();$J.exports=function(e,t,r){for(var n=s7e(t),i=u7e.f,o=l7e.f,u=0;u<n.length;u++){var f=n[u];!UJ(e,f)&&!(r&&UJ(r,f))&&i(e,f,o(t,f))}}});var yg=I((ftr,HJ)=>{"use strict";var c7e=gt(),p7e=Sr(),d7e=/#|\.prototype\./,W_=function(e,t){var r=h7e[f7e(e)];return r===v7e?!0:r===m7e?!1:p7e(t)?c7e(t):!!t},f7e=W_.normalize=function(e){return String(e).replace(d7e,".").toLowerCase()},h7e=W_.data={},m7e=W_.NATIVE="N",v7e=W_.POLYFILL="P";HJ.exports=W_});var J=I((htr,GJ)=>{"use strict";var jD=Kt(),g7e=Qi().f,y7e=Ni(),_7e=Sn(),b7e=uE(),x7e=gg(),w7e=yg();GJ.exports=function(e,t){var r=e.target,n=e.global,i=e.stat,o,u,f,h,y,w;if(n?u=jD:i?u=jD[r]||b7e(r,{}):u=(jD[r]||{}).prototype,u)for(f in t){if(y=t[f],e.dontCallGetSet?(w=g7e(u,f),h=w&&w.value):h=u[f],o=w7e(n?f:r+(i?".":"#")+f,e.forced),!o&&h!==void 0){if(typeof y==typeof h)continue;x7e(y,h)}(e.sham||h&&h.sham)&&y7e(y,"sham",!0),_7e(u,f,y,e)}}});var gE=I((mtr,ZJ)=>{"use strict";var S7e=dr(),I7e=S7e("toStringTag"),WJ={};WJ[I7e]="z";ZJ.exports=String(WJ)==="[object z]"});var os=I((vtr,KJ)=>{"use strict";var E7e=gE(),T7e=Sr(),yE=Po(),A7e=dr(),C7e=A7e("toStringTag"),M7e=Object,P7e=yE(function(){return arguments}())==="Arguments",O7e=function(e,t){try{return e[t]}catch(r){}};KJ.exports=E7e?yE:function(e){var t,r,n;return e===void 0?"Undefined":e===null?"Null":typeof(r=O7e(t=M7e(e),C7e))=="string"?r:P7e?yE(t):(n=yE(t))==="Object"&&T7e(t.callee)?"Arguments":n}});var br=I((gtr,YJ)=>{"use strict";var R7e=os(),q7e=String;YJ.exports=function(e){if(R7e(e)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return q7e(e)}});var Ph=I((ytr,XJ)=>{"use strict";var N7e=FD(),k7e=mE();XJ.exports=Object.keys||function(t){return N7e(t,k7e)}});var _E=I(JJ=>{"use strict";var D7e=pr(),L7e=SD(),z7e=Vn(),F7e=zt(),j7e=Hi(),B7e=Ph();JJ.f=D7e&&!L7e?Object.defineProperties:function(t,r){F7e(t);for(var n=j7e(r),i=B7e(r),o=i.length,u=0,f;o>u;)z7e.f(t,f=i[u++],n[f]);return t}});var BD=I((btr,QJ)=>{"use strict";var V7e=gr();QJ.exports=V7e("document","documentElement")});var Ci=I((xtr,aQ)=>{"use strict";var U7e=zt(),$7e=_E(),eQ=mE(),H7e=mg(),G7e=BD(),W7e=B_(),Z7e=U_(),tQ=">",rQ="<",UD="prototype",$D="script",iQ=Z7e("IE_PROTO"),VD=function(){},oQ=function(e){return rQ+$D+tQ+e+rQ+"/"+$D+tQ},nQ=function(e){e.write(oQ("")),e.close();var t=e.parentWindow.Object;return e=null,t},K7e=function(){var e=W7e("iframe"),t="java"+$D+":",r;return e.style.display="none",G7e.appendChild(e),e.src=String(t),r=e.contentWindow.document,r.open(),r.write(oQ("document.F=Object")),r.close(),r.F},bE,xE=function(){try{bE=new ActiveXObject("htmlfile")}catch(t){}xE=typeof document!="undefined"?document.domain&&bE?nQ(bE):K7e():nQ(bE);for(var e=eQ.length;e--;)delete xE[UD][eQ[e]];return xE()};H7e[iQ]=!0;aQ.exports=Object.create||function(t,r){var n;return t!==null?(VD[UD]=U7e(t),n=new VD,VD[UD]=null,n[iQ]=t):n=xE(),r===void 0?n:$7e.f(n,r)}});var ml=I((wtr,sQ)=>{"use strict";var Y7e=Ql(),X7e=Vn(),J7e=ns();sQ.exports=function(e,t,r){var n=Y7e(t);n in e?X7e.f(e,n,J7e(0,r)):e[n]=r}});var Oh=I((Str,uQ)=>{"use strict";var lQ=hl(),Q7e=Wr(),eVe=ml(),tVe=Array,rVe=Math.max;uQ.exports=function(e,t,r){for(var n=Q7e(e),i=lQ(t,n),o=lQ(r===void 0?n:r,n),u=tVe(rVe(o-i,0)),f=0;i<o;i++,f++)eVe(u,f,e[i]);return u.length=f,u}});var wE=I((Itr,dQ)=>{"use strict";var nVe=Po(),iVe=Hi(),cQ=Hc().f,oVe=Oh(),pQ=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],aVe=function(e){try{return cQ(e)}catch(t){return oVe(pQ)}};dQ.exports.f=function(t){return pQ&&nVe(t)==="Window"?aVe(t):cQ(iVe(t))}});var oi=I((Etr,hQ)=>{"use strict";var fQ=H_(),sVe=Vn();hQ.exports=function(e,t,r){return r.get&&fQ(r.get,t,{getter:!0}),r.set&&fQ(r.set,t,{setter:!0}),sVe.f(e,t,r)}});var HD=I(mQ=>{"use strict";var lVe=dr();mQ.f=lVe});var SE=I((Atr,vQ)=>{"use strict";var uVe=Kt();vQ.exports=uVe});var vi=I((Ctr,yQ)=>{"use strict";var gQ=SE(),cVe=qr(),pVe=HD(),dVe=Vn().f;yQ.exports=function(e){var t=gQ.Symbol||(gQ.Symbol={});cVe(t,e)||dVe(t,e,{value:pVe.f(e)})}});var GD=I((Mtr,_Q)=>{"use strict";var fVe=Dt(),hVe=gr(),mVe=dr(),vVe=Sn();_Q.exports=function(){var e=hVe("Symbol"),t=e&&e.prototype,r=t&&t.valueOf,n=mVe("toPrimitive");t&&!t[n]&&vVe(t,n,function(i){return fVe(r,this)},{arity:1})}});var as=I((Ptr,xQ)=>{"use strict";var gVe=Vn().f,yVe=qr(),_Ve=dr(),bQ=_Ve("toStringTag");xQ.exports=function(e,t,r){e&&!r&&(e=e.prototype),e&&!yVe(e,bQ)&&gVe(e,bQ,{configurable:!0,value:t})}});var Gc=I((Otr,wQ)=>{"use strict";var bVe=Po(),xVe=rt();wQ.exports=function(e){if(bVe(e)==="Function")return xVe(e)}});var On=I((Rtr,IQ)=>{"use strict";var SQ=Gc(),wVe=yr(),SVe=fg(),IVe=SQ(SQ.bind);IQ.exports=function(e,t){return wVe(e),t===void 0?e:SVe?IVe(e,t):function(){return e.apply(t,arguments)}}});var tu=I((qtr,EQ)=>{"use strict";var EVe=Po();EQ.exports=Array.isArray||function(t){return EVe(t)==="Array"}});var ru=I((Ntr,PQ)=>{"use strict";var TVe=rt(),AVe=gt(),TQ=Sr(),CVe=os(),MVe=gr(),PVe=V_(),AQ=function(){},OVe=[],CQ=MVe("Reflect","construct"),WD=/^\s*(?:class|function)\b/,RVe=TVe(WD.exec),qVe=!WD.test(AQ),Z_=function(t){if(!TQ(t))return!1;try{return CQ(AQ,OVe,t),!0}catch(r){return!1}},MQ=function(t){if(!TQ(t))return!1;switch(CVe(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1;}try{return qVe||!!RVe(WD,PVe(t))}catch(r){return!0}};MQ.sham=!0;PQ.exports=!CQ||AVe(function(){var e;return Z_(Z_.call)||!Z_(Object)||!Z_(function(){e=!0})||e})?MQ:Z_});var NQ=I((ktr,qQ)=>{"use strict";var OQ=tu(),NVe=ru(),kVe=Ir(),DVe=dr(),LVe=DVe("species"),RQ=Array;qQ.exports=function(e){var t;return OQ(e)&&(t=e.constructor,NVe(t)&&(t===RQ||OQ(t.prototype))?t=void 0:kVe(t)&&(t=t[LVe],t===null&&(t=void 0))),t===void 0?RQ:t}});var _g=I((Dtr,kQ)=>{"use strict";var zVe=NQ();kQ.exports=function(e,t){return new(zVe(e))(t===0?0:t)}});var Mi=I((Ltr,LQ)=>{"use strict";var FVe=On(),jVe=rt(),BVe=Uc(),VVe=Ur(),UVe=Wr(),$Ve=_g(),DQ=jVe([].push),jd=function(e){var t=e===1,r=e===2,n=e===3,i=e===4,o=e===6,u=e===7,f=e===5||o;return function(h,y,w,T){for(var A=VVe(h),q=BVe(A),z=FVe(y,w),F=UVe(q),N=0,L=T||$Ve,B=t?L(h,F):r||u?L(h,0):void 0,Z,te;F>N;N++)if((f||N in q)&&(Z=q[N],te=z(Z,N,A),e))if(t)B[N]=te;else if(te)switch(e){case 3:return!0;case 5:return Z;case 6:return N;case 2:DQ(B,Z);}else switch(e){case 4:return!1;case 7:DQ(B,Z);}return o?-1:n||i?i:B}};LQ.exports={forEach:jd(0),map:jd(1),filter:jd(2),some:jd(3),every:jd(4),find:jd(5),findIndex:jd(6),filterReject:jd(7)}});var eee=I(()=>{"use strict";var IE=J(),EE=Kt(),r4=Dt(),HVe=rt(),GVe=Vr(),bg=pr(),xg=Ld(),WVe=gt(),ho=qr(),ZVe=la(),XD=zt(),TE=Hi(),n4=Ql(),KVe=br(),JD=ns(),Y_=Ci(),jQ=Ph(),YVe=Hc(),BQ=wE(),XVe=G_(),VQ=Qi(),UQ=Vn(),JVe=_E(),$Q=z_(),ZD=Sn(),QVe=oi(),i4=Du(),eUe=U_(),HQ=mg(),zQ=Fd(),tUe=dr(),rUe=HD(),nUe=vi(),iUe=GD(),oUe=as(),GQ=mn(),AE=Mi().forEach,ss=eUe("hidden"),CE="Symbol",X_="prototype",aUe=GQ.set,FQ=GQ.getterFor(CE),vl=Object[X_],Rh=EE.Symbol,K_=Rh&&Rh[X_],sUe=EE.RangeError,lUe=EE.TypeError,KD=EE.QObject,WQ=VQ.f,qh=UQ.f,ZQ=BQ.f,uUe=$Q.f,KQ=HVe([].push),Wc=i4("symbols"),J_=i4("op-symbols"),cUe=i4("wks"),QD=!KD||!KD[X_]||!KD[X_].findChild,YQ=function(e,t,r){var n=WQ(vl,t);n&&delete vl[t],qh(e,t,r),n&&e!==vl&&qh(vl,t,n)},e4=bg&&WVe(function(){return Y_(qh({},"a",{get:function(){return qh(this,"a",{value:7}).a}})).a!==7})?YQ:qh,YD=function(e,t){var r=Wc[e]=Y_(K_);return aUe(r,{type:CE,tag:e,description:t}),bg||(r.description=t),r},ME=function(t,r,n){t===vl&&ME(J_,r,n),XD(t);var i=n4(r);return XD(n),ho(Wc,i)?(n.enumerable?(ho(t,ss)&&t[ss][i]&&(t[ss][i]=!1),n=Y_(n,{enumerable:JD(0,!1)})):(ho(t,ss)||qh(t,ss,JD(1,{})),t[ss][i]=!0),e4(t,i,n)):qh(t,i,n)},o4=function(t,r){XD(t);var n=TE(r),i=jQ(n).concat(QQ(n));return AE(i,function(o){(!bg||r4(t4,n,o))&&ME(t,o,n[o])}),t},pUe=function(t,r){return r===void 0?Y_(t):o4(Y_(t),r)},t4=function(t){var r=n4(t),n=r4(uUe,this,r);return this===vl&&ho(Wc,r)&&!ho(J_,r)?!1:n||!ho(this,r)||!ho(Wc,r)||ho(this,ss)&&this[ss][r]?n:!0},XQ=function(t,r){var n=TE(t),i=n4(r);if(!(n===vl&&ho(Wc,i)&&!ho(J_,i))){var o=WQ(n,i);return o&&ho(Wc,i)&&!(ho(n,ss)&&n[ss][i])&&(o.enumerable=!0),o}},JQ=function(t){var r=ZQ(TE(t)),n=[];return AE(r,function(i){!ho(Wc,i)&&!ho(HQ,i)&&KQ(n,i)}),n},QQ=function(e){var t=e===vl,r=ZQ(t?J_:TE(e)),n=[];return AE(r,function(i){ho(Wc,i)&&(!t||ho(vl,i))&&KQ(n,Wc[i])}),n};xg||(Rh=function(){if(ZVe(K_,this))throw new lUe("Symbol is not a constructor");var t=!arguments.length||arguments[0]===void 0?void 0:KVe(arguments[0]),r=zQ(t),n=function(i){this===vl&&r4(n,J_,i),ho(this,ss)&&ho(this[ss],r)&&(this[ss][r]=!1);var o=JD(1,i);try{e4(this,r,o)}catch(u){if(!(u instanceof sUe))throw u;YQ(this,r,o)}};return bg&&QD&&e4(vl,r,{configurable:!0,set:n}),YD(r,t)},K_=Rh[X_],ZD(K_,"toString",function(){return FQ(this).tag}),ZD(Rh,"withoutSetter",function(e){return YD(zQ(e),e)}),$Q.f=t4,UQ.f=ME,JVe.f=o4,VQ.f=XQ,YVe.f=BQ.f=JQ,XVe.f=QQ,rUe.f=function(e){return YD(tUe(e),e)},bg&&(QVe(K_,"description",{configurable:!0,get:function(){return FQ(this).description}}),GVe||ZD(vl,"propertyIsEnumerable",t4,{unsafe:!0})));IE({global:!0,constructor:!0,wrap:!0,forced:!xg,sham:!xg},{Symbol:Rh});AE(jQ(cUe),function(e){nUe(e)});IE({target:CE,stat:!0,forced:!xg},{useSetter:function(){QD=!0},useSimple:function(){QD=!1}});IE({target:"Object",stat:!0,forced:!xg,sham:!bg},{create:pUe,defineProperty:ME,defineProperties:o4,getOwnPropertyDescriptor:XQ});IE({target:"Object",stat:!0,forced:!xg},{getOwnPropertyNames:JQ});iUe();oUe(Rh,CE);HQ[ss]=!0});var a4=I((jtr,tee)=>{"use strict";var dUe=Ld();tee.exports=dUe&&!!Symbol.for&&!!Symbol.keyFor});var nee=I(()=>{"use strict";var fUe=J(),hUe=gr(),mUe=qr(),vUe=br(),ree=Du(),gUe=a4(),s4=ree("string-to-symbol-registry"),yUe=ree("symbol-to-string-registry");fUe({target:"Symbol",stat:!0,forced:!gUe},{for:function(e){var t=vUe(e);if(mUe(s4,t))return s4[t];var r=hUe("Symbol")(t);return s4[t]=r,yUe[r]=t,r}})});var oee=I(()=>{"use strict";var _Ue=J(),bUe=qr(),xUe=$c(),wUe=zd(),SUe=Du(),IUe=a4(),iee=SUe("symbol-to-string-registry");_Ue({target:"Symbol",stat:!0,forced:!IUe},{keyFor:function(t){if(!xUe(t))throw new TypeError(wUe(t)+" is not a symbol");if(bUe(iee,t))return iee[t]}})});var ua=I((Htr,uee)=>{"use strict";var EUe=fg(),lee=Function.prototype,aee=lee.apply,see=lee.call;uee.exports=typeof Reflect=="object"&&Reflect.apply||(EUe?see.bind(aee):function(){return see.apply(aee,arguments)})});var Zc=I((Gtr,cee)=>{"use strict";var TUe=rt();cee.exports=TUe([].slice)});var l4=I((Wtr,hee)=>{"use strict";var AUe=rt(),pee=tu(),CUe=Sr(),dee=Po(),MUe=br(),fee=AUe([].push);hee.exports=function(e){if(CUe(e))return e;if(pee(e)){for(var t=e.length,r=[],n=0;n<t;n++){var i=e[n];typeof i=="string"?fee(r,i):(typeof i=="number"||dee(i)==="Number"||dee(i)==="String")&&fee(r,MUe(i))}var o=r.length,u=!0;return function(f,h){if(u)return u=!1,h;if(pee(this))return h;for(var y=0;y<o;y++)if(r[y]===f)return h}}}});var u4=I(()=>{"use strict";var PUe=J(),wee=gr(),See=ua(),OUe=Dt(),Q_=rt(),Iee=gt(),mee=Sr(),vee=$c(),Eee=Zc(),RUe=l4(),qUe=Ld(),NUe=String,Bd=wee("JSON","stringify"),PE=Q_(/./.exec),gee=Q_("".charAt),kUe=Q_("".charCodeAt),DUe=Q_("".replace),LUe=Q_(1 .toString),zUe=/[\uD800-\uDFFF]/g,yee=/^[\uD800-\uDBFF]$/,_ee=/^[\uDC00-\uDFFF]$/,bee=!qUe||Iee(function(){var e=wee("Symbol")("stringify detection");return Bd([e])!=="[null]"||Bd({a:e})!=="{}"||Bd(Object(e))!=="{}"}),xee=Iee(function(){return Bd("\uDF06\uD834")!=="\"\\udf06\\ud834\""||Bd("\uDEAD")!=="\"\\udead\""}),FUe=function(e,t){var r=Eee(arguments),n=RUe(t);if(!(!mee(n)&&(e===void 0||vee(e))))return r[1]=function(i,o){if(mee(n)&&(o=OUe(n,this,NUe(i),o)),!vee(o))return o},See(Bd,null,r)},jUe=function(e,t,r){var n=gee(r,t-1),i=gee(r,t+1);return PE(yee,e)&&!PE(_ee,i)||PE(_ee,e)&&!PE(yee,n)?"\\u"+LUe(kUe(e,0),16):e};Bd&&PUe({target:"JSON",stat:!0,arity:3,forced:bee||xee},{stringify:function(t,r,n){var i=Eee(arguments),o=See(bee?FUe:Bd,null,i);return xee&&typeof o=="string"?DUe(o,zUe,jUe):o}})});var Aee=I(()=>{"use strict";var BUe=J(),VUe=Ld(),UUe=gt(),Tee=G_(),$Ue=Ur(),HUe=!VUe||UUe(function(){Tee.f(1)});BUe({target:"Object",stat:!0,forced:HUe},{getOwnPropertySymbols:function(t){var r=Tee.f;return r?r($Ue(t)):[]}})});var Cee=I(()=>{"use strict";eee();nee();oee();u4();Aee()});var kee=I(()=>{"use strict";var GUe=J(),WUe=pr(),ZUe=Kt(),OE=rt(),KUe=qr(),YUe=Sr(),XUe=la(),JUe=br(),QUe=oi(),e$e=gg(),Kc=ZUe.Symbol,Nh=Kc&&Kc.prototype;WUe&&YUe(Kc)&&(!("description"in Nh)||Kc().description!==void 0)&&(c4={},eb=function(){var t=arguments.length<1||arguments[0]===void 0?void 0:JUe(arguments[0]),r=XUe(Nh,this)?new Kc(t):t===void 0?Kc():Kc(t);return t===""&&(c4[r]=!0),r},e$e(eb,Kc),eb.prototype=Nh,Nh.constructor=eb,Mee=String(Kc("description detection"))==="Symbol(description detection)",Pee=OE(Nh.valueOf),Oee=OE(Nh.toString),Ree=/^Symbol\((.*)\)[^)]+$/,qee=OE("".replace),Nee=OE("".slice),QUe(Nh,"description",{configurable:!0,get:function(){var t=Pee(this);if(KUe(c4,t))return"";var r=Oee(t),n=Mee?Nee(r,7,-1):qee(r,Ree,"$1");return n===""?void 0:n}}),GUe({global:!0,constructor:!0,forced:!0},{Symbol:eb}));var c4,eb,Mee,Pee,Oee,Ree,qee,Nee});var Dee=I(()=>{"use strict";var t$e=vi();t$e("asyncIterator")});var Lee=I(()=>{"use strict";var r$e=vi();r$e("hasInstance")});var zee=I(()=>{"use strict";var n$e=vi();n$e("isConcatSpreadable")});var Fee=I(()=>{"use strict";var i$e=vi();i$e("iterator")});var jee=I(()=>{"use strict";var o$e=vi();o$e("match")});var Bee=I(()=>{"use strict";var a$e=vi();a$e("matchAll")});var Vee=I(()=>{"use strict";var s$e=vi();s$e("replace")});var Uee=I(()=>{"use strict";var l$e=vi();l$e("search")});var $ee=I(()=>{"use strict";var u$e=vi();u$e("species")});var Hee=I(()=>{"use strict";var c$e=vi();c$e("split")});var Gee=I(()=>{"use strict";var p$e=vi(),d$e=GD();p$e("toPrimitive");d$e()});var Wee=I(()=>{"use strict";var f$e=gr(),h$e=vi(),m$e=as();h$e("toStringTag");m$e(f$e("Symbol"),"Symbol")});var Zee=I(()=>{"use strict";var v$e=vi();v$e("unscopables")});var tb=I((Crr,Kee)=>{"use strict";var g$e=rt(),y$e=yr();Kee.exports=function(e,t,r){try{return g$e(y$e(Object.getOwnPropertyDescriptor(e,t)[r]))}catch(n){}}});var p4=I((Mrr,Yee)=>{"use strict";var _$e=Sr(),b$e=String,x$e=TypeError;Yee.exports=function(e){if(typeof e=="object"||_$e(e))return e;throw new x$e("Can't set "+b$e(e)+" as a prototype")}});var gl=I((Prr,Xee)=>{"use strict";var w$e=tb(),S$e=zt(),I$e=p4();Xee.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e=!1,t={},r;try{r=w$e(Object.prototype,"__proto__","set"),r(t,[]),e=t instanceof Array}catch(n){}return function(i,o){return S$e(i),I$e(o),e?r(i,o):i.__proto__=o,i}}():void 0)});var d4=I((Orr,Jee)=>{"use strict";var E$e=Vn().f;Jee.exports=function(e,t,r){r in e||E$e(e,r,{configurable:!0,get:function(){return t[r]},set:function(n){t[r]=n}})}});var kh=I((Rrr,ete)=>{"use strict";var T$e=Sr(),A$e=Ir(),Qee=gl();ete.exports=function(e,t,r){var n,i;return Qee&&T$e(n=t.constructor)&&n!==r&&A$e(i=n.prototype)&&i!==r.prototype&&Qee(e,i),e}});var Dh=I((qrr,tte)=>{"use strict";var C$e=br();tte.exports=function(e,t){return e===void 0?arguments.length<2?"":t:C$e(e)}});var f4=I((Nrr,rte)=>{"use strict";var M$e=Ir(),P$e=Ni();rte.exports=function(e,t){M$e(t)&&"cause"in t&&P$e(e,"cause",t.cause)}});var RE=I((krr,ote)=>{"use strict";var O$e=rt(),nte=Error,R$e=O$e("".replace),q$e=function(e){return String(new nte(e).stack)}("zxcasd"),ite=/\n\s*at [^:]*:[^\n]*/,N$e=ite.test(q$e);ote.exports=function(e,t){if(N$e&&typeof e=="string"&&!nte.prepareStackTrace)for(;t--;)e=R$e(e,ite,"");return e}});var h4=I((Drr,ate)=>{"use strict";var k$e=gt(),D$e=ns();ate.exports=!k$e(function(){var e=new Error("a");return"stack"in e?(Object.defineProperty(e,"stack",D$e(1,7)),e.stack!==7):!0})});var qE=I((Lrr,lte)=>{"use strict";var L$e=Ni(),z$e=RE(),F$e=h4(),ste=Error.captureStackTrace;lte.exports=function(e,t,r,n){F$e&&(ste?ste(e,t):L$e(e,"stack",z$e(r,n)))}});var m4=I((zrr,mte)=>{"use strict";var ute=gr(),j$e=qr(),cte=Ni(),B$e=la(),pte=gl(),dte=gg(),fte=d4(),V$e=kh(),U$e=Dh(),$$e=f4(),H$e=qE(),G$e=pr(),hte=Vr();mte.exports=function(e,t,r,n){var i="stackTraceLimit",o=n?2:1,u=e.split("."),f=u[u.length-1],h=ute.apply(null,u);if(h){var y=h.prototype;if(!hte&&j$e(y,"cause")&&delete y.cause,!r)return h;var w=ute("Error"),T=t(function(A,q){var z=U$e(n?q:A,void 0),F=n?new h(A):new h;return z!==void 0&&cte(F,"message",z),H$e(F,T,F.stack,2),this&&B$e(y,this)&&V$e(F,this,T),arguments.length>o&&$$e(F,arguments[o]),F});if(T.prototype=y,f!=="Error"?pte?pte(T,w):dte(T,w,{name:!0}):G$e&&i in h&&(fte(T,h,i),fte(T,h,"prepareStackTrace")),dte(T,h),!hte)try{y.name!==f&&cte(y,"name",f),y.constructor=T}catch(A){}return T}}});var _te=I(()=>{"use strict";var gte=J(),W$e=Kt(),Lu=ua(),yte=m4(),v4="WebAssembly",vte=W$e[v4],NE=new Error("e",{cause:7}).cause!==7,Lh=function(e,t){var r={};r[e]=yte(e,t,NE),gte({global:!0,constructor:!0,arity:1,forced:NE},r)},g4=function(e,t){if(vte&&vte[e]){var r={};r[e]=yte(v4+"."+e,t,NE),gte({target:v4,stat:!0,constructor:!0,arity:1,forced:NE},r)}};Lh("Error",function(e){return function(r){return Lu(e,this,arguments)}});Lh("EvalError",function(e){return function(r){return Lu(e,this,arguments)}});Lh("RangeError",function(e){return function(r){return Lu(e,this,arguments)}});Lh("ReferenceError",function(e){return function(r){return Lu(e,this,arguments)}});Lh("SyntaxError",function(e){return function(r){return Lu(e,this,arguments)}});Lh("TypeError",function(e){return function(r){return Lu(e,this,arguments)}});Lh("URIError",function(e){return function(r){return Lu(e,this,arguments)}});g4("CompileError",function(e){return function(r){return Lu(e,this,arguments)}});g4("LinkError",function(e){return function(r){return Lu(e,this,arguments)}});g4("RuntimeError",function(e){return function(r){return Lu(e,this,arguments)}})});var y4=I((Brr,xte)=>{"use strict";var Z$e=pr(),K$e=gt(),Y$e=zt(),X$e=Ci(),bte=Dh(),kE=Error.prototype.toString,J$e=K$e(function(){if(Z$e){var e=X$e(Object.defineProperty({},"name",{get:function(){return this===e}}));if(kE.call(e)!=="true")return!0}return kE.call({message:1,name:2})!=="2: 1"||kE.call({})!=="Error"});xte.exports=J$e?function(){var t=Y$e(this),r=bte(t.name,"Error"),n=bte(t.message);return r?n?r+": "+n:r:n}:kE});var Ite=I(()=>{"use strict";var Q$e=Sn(),wte=y4(),Ste=Error.prototype;Ste.toString!==wte&&Q$e(Ste,"toString",wte)});var DE=I(($rr,Ete)=>{"use strict";var eHe=gt();Ete.exports=!eHe(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})});var ki=I((Hrr,Ate)=>{"use strict";var tHe=qr(),rHe=Sr(),nHe=Ur(),iHe=U_(),oHe=DE(),Tte=iHe("IE_PROTO"),_4=Object,aHe=_4.prototype;Ate.exports=oHe?_4.getPrototypeOf:function(e){var t=nHe(e);if(tHe(t,Tte))return t[Tte];var r=t.constructor;return rHe(r)&&t instanceof r?r.prototype:t instanceof _4?aHe:null}});var zh=I((Grr,Cte)=>{"use strict";Cte.exports={}});var LE=I((Wrr,Mte)=>{"use strict";var sHe=dr(),lHe=zh(),uHe=sHe("iterator"),cHe=Array.prototype;Mte.exports=function(e){return e!==void 0&&(lHe.Array===e||cHe[uHe]===e)}});var Yc=I((Zrr,Ote)=>{"use strict";var pHe=os(),Pte=Ai(),dHe=qi(),fHe=zh(),hHe=dr(),mHe=hHe("iterator");Ote.exports=function(e){if(!dHe(e))return Pte(e,mHe)||Pte(e,"@@iterator")||fHe[pHe(e)]}});var Vd=I((Krr,Rte)=>{"use strict";var vHe=Dt(),gHe=yr(),yHe=zt(),_He=zd(),bHe=Yc(),xHe=TypeError;Rte.exports=function(e,t){var r=arguments.length<2?bHe(e):t;if(gHe(r))return yHe(vHe(r,e));throw new xHe(_He(e)+" is not iterable")}});var Xc=I((Yrr,Nte)=>{"use strict";var wHe=Dt(),qte=zt(),SHe=Ai();Nte.exports=function(e,t,r){var n,i;qte(e);try{if(n=SHe(e,"return"),!n){if(t==="throw")throw r;return r}n=wHe(n,e)}catch(o){i=!0,n=o}if(t==="throw")throw r;if(i)throw n;return qte(n),r}});var gi=I((Xrr,zte)=>{"use strict";var IHe=On(),EHe=Dt(),THe=zt(),AHe=zd(),CHe=LE(),MHe=Wr(),kte=la(),PHe=Vd(),OHe=Yc(),Dte=Xc(),RHe=TypeError,zE=function(e,t){this.stopped=e,this.result=t},Lte=zE.prototype;zte.exports=function(e,t,r){var n=r&&r.that,i=!!(r&&r.AS_ENTRIES),o=!!(r&&r.IS_RECORD),u=!!(r&&r.IS_ITERATOR),f=!!(r&&r.INTERRUPTED),h=IHe(t,n),y,w,T,A,q,z,F,N=function(B){return y&&Dte(y,"normal",B),new zE(!0,B)},L=function(B){return i?(THe(B),f?h(B[0],B[1],N):h(B[0],B[1])):f?h(B,N):h(B)};if(o)y=e.iterator;else if(u)y=e;else{if(w=OHe(e),!w)throw new RHe(AHe(e)+" is not iterable");if(CHe(w)){for(T=0,A=MHe(e);A>T;T++)if(q=L(e[T]),q&&kte(Lte,q))return q;return new zE(!1)}y=PHe(e,w)}for(z=o?e.next:y.next;!(F=EHe(z,y)).done;){try{q=L(F.value)}catch(B){Dte(y,"throw",B)}if(typeof q=="object"&&q&&kte(Lte,q))return q}return new zE(!1)}});var jte=I(()=>{"use strict";var qHe=J(),NHe=la(),kHe=ki(),FE=gl(),DHe=gg(),Fte=Ci(),b4=Ni(),x4=ns(),LHe=f4(),zHe=qE(),FHe=gi(),jHe=Dh(),BHe=dr(),VHe=BHe("toStringTag"),jE=Error,UHe=[].push,wg=function(t,r){var n=NHe(w4,this),i;FE?i=FE(new jE,n?kHe(this):w4):(i=n?this:Fte(w4),b4(i,VHe,"Error")),r!==void 0&&b4(i,"message",jHe(r)),zHe(i,wg,i.stack,1),arguments.length>2&&LHe(i,arguments[2]);var o=[];return FHe(t,UHe,{that:o}),b4(i,"errors",o),i};FE?FE(wg,jE):DHe(wg,jE,{name:!0});var w4=wg.prototype=Fte(jE.prototype,{constructor:x4(1,wg),message:x4(1,""),name:x4(1,"AggregateError")});qHe({global:!0,constructor:!0,arity:2},{AggregateError:wg})});var S4=I(()=>{"use strict";jte()});var $te=I(()=>{"use strict";var $He=J(),HHe=gr(),GHe=ua(),Bte=gt(),WHe=m4(),I4="AggregateError",Vte=HHe(I4),Ute=!Bte(function(){return Vte([1]).errors[0]!==1})&&Bte(function(){return Vte([1],I4,{cause:7}).cause!==7});$He({global:!0,constructor:!0,arity:2,forced:Ute},{AggregateError:WHe(I4,function(e){return function(r,n){return GHe(e,this,arguments)}},Ute,!0)})});var pi=I((inr,Hte)=>{"use strict";var ZHe=dr(),KHe=Ci(),YHe=Vn().f,E4=ZHe("unscopables"),T4=Array.prototype;T4[E4]===void 0&&YHe(T4,E4,{configurable:!0,value:KHe(null)});Hte.exports=function(e){T4[E4][e]=!0}});var A4=I(()=>{"use strict";var XHe=J(),JHe=Ur(),QHe=Wr(),eGe=Xn(),tGe=pi();XHe({target:"Array",proto:!0},{at:function(t){var r=JHe(this),n=QHe(r),i=eGe(t),o=i>=0?i:n+i;return o<0||o>=n?void 0:r[o]}});tGe("at")});var Ud=I((snr,Gte)=>{"use strict";var rGe=TypeError,nGe=9007199254740991;Gte.exports=function(e){if(e>nGe)throw rGe("Maximum allowed index exceeded");return e}});var Sg=I((lnr,Wte)=>{"use strict";var iGe=gt(),oGe=dr(),aGe=ku(),sGe=oGe("species");Wte.exports=function(e){return aGe>=51||!iGe(function(){var t=[],r=t.constructor={};return r[sGe]=function(){return{foo:1}},t[e](Boolean).foo!==1})}});var Xte=I(()=>{"use strict";var lGe=J(),uGe=gt(),cGe=tu(),pGe=Ir(),dGe=Ur(),fGe=Wr(),Zte=Ud(),Kte=ml(),hGe=_g(),mGe=Sg(),vGe=dr(),gGe=ku(),Yte=vGe("isConcatSpreadable"),yGe=gGe>=51||!uGe(function(){var e=[];return e[Yte]=!1,e.concat()[0]!==e}),_Ge=function(e){if(!pGe(e))return!1;var t=e[Yte];return t!==void 0?!!t:cGe(e)},bGe=!yGe||!mGe("concat");lGe({target:"Array",proto:!0,arity:1,forced:bGe},{concat:function(t){var r=dGe(this),n=hGe(r,0),i=0,o,u,f,h,y;for(o=-1,f=arguments.length;o<f;o++)if(y=o===-1?r:arguments[o],_Ge(y))for(h=fGe(y),Zte(i+h),u=0;u<h;u++,i++)u in y&&Kte(n,i,y[u]);else Zte(i+1),Kte(n,i++,y);return n.length=i,n}})});var rb=I((pnr,Qte)=>{"use strict";var Jte=zd(),xGe=TypeError;Qte.exports=function(e,t){if(!delete e[t])throw new xGe("Cannot delete property "+Jte(t)+" of "+Jte(e))}});var M4=I((dnr,ere)=>{"use strict";var wGe=Ur(),C4=hl(),SGe=Wr(),IGe=rb(),EGe=Math.min;ere.exports=[].copyWithin||function(t,r){var n=wGe(this),i=SGe(n),o=C4(t,i),u=C4(r,i),f=arguments.length>2?arguments[2]:void 0,h=EGe((f===void 0?i:C4(f,i))-u,i-o),y=1;for(u<o&&o<u+h&&(y=-1,u+=h-1,o+=h-1);h-->0;)u in n?n[o]=n[u]:IGe(n,o),o+=y,u+=y;return n}});var tre=I(()=>{"use strict";var TGe=J(),AGe=M4(),CGe=pi();TGe({target:"Array",proto:!0},{copyWithin:AGe});CGe("copyWithin")});var yl=I((mnr,rre)=>{"use strict";var MGe=gt();rre.exports=function(e,t){var r=[][e];return!!r&&MGe(function(){r.call(null,t||function(){return 1},1)})}});var nre=I(()=>{"use strict";var PGe=J(),OGe=Mi().every,RGe=yl(),qGe=RGe("every");PGe({target:"Array",proto:!0,forced:!qGe},{every:function(t){return OGe(this,t,arguments.length>1?arguments[1]:void 0)}})});var BE=I((ynr,ore)=>{"use strict";var NGe=Ur(),ire=hl(),kGe=Wr();ore.exports=function(t){for(var r=NGe(this),n=kGe(r),i=arguments.length,o=ire(i>1?arguments[1]:void 0,n),u=i>2?arguments[2]:void 0,f=u===void 0?n:ire(u,n);f>o;)r[o++]=t;return r}});var are=I(()=>{"use strict";var DGe=J(),LGe=BE(),zGe=pi();DGe({target:"Array",proto:!0},{fill:LGe});zGe("fill")});var sre=I(()=>{"use strict";var FGe=J(),jGe=Mi().filter,BGe=Sg(),VGe=BGe("filter");FGe({target:"Array",proto:!0,forced:!VGe},{filter:function(t){return jGe(this,t,arguments.length>1?arguments[1]:void 0)}})});var ure=I(()=>{"use strict";var UGe=J(),$Ge=Mi().find,HGe=pi(),P4="find",lre=!0;P4 in[]&&Array(1)[P4](function(){lre=!1});UGe({target:"Array",proto:!0,forced:lre},{find:function(t){return $Ge(this,t,arguments.length>1?arguments[1]:void 0)}});HGe(P4)});var pre=I(()=>{"use strict";var GGe=J(),WGe=Mi().findIndex,ZGe=pi(),O4="findIndex",cre=!0;O4 in[]&&Array(1)[O4](function(){cre=!1});GGe({target:"Array",proto:!0,forced:cre},{findIndex:function(t){return WGe(this,t,arguments.length>1?arguments[1]:void 0)}});ZGe(O4)});var nb=I((Anr,fre)=>{"use strict";var KGe=On(),YGe=Uc(),XGe=Ur(),JGe=Wr(),dre=function(e){var t=e===1;return function(r,n,i){for(var o=XGe(r),u=YGe(o),f=KGe(n,i),h=JGe(u),y,w;h-->0;)if(y=u[h],w=f(y,h,o),w)switch(e){case 0:return y;case 1:return h;}return t?-1:void 0}};fre.exports={findLast:dre(0),findLastIndex:dre(1)}});var R4=I(()=>{"use strict";var QGe=J(),eWe=nb().findLast,tWe=pi();QGe({target:"Array",proto:!0},{findLast:function(t){return eWe(this,t,arguments.length>1?arguments[1]:void 0)}});tWe("findLast")});var q4=I(()=>{"use strict";var rWe=J(),nWe=nb().findLastIndex,iWe=pi();rWe({target:"Array",proto:!0},{findLastIndex:function(t){return nWe(this,t,arguments.length>1?arguments[1]:void 0)}});iWe("findLastIndex")});var N4=I((Rnr,mre)=>{"use strict";var oWe=tu(),aWe=Wr(),sWe=Ud(),lWe=On(),hre=function(e,t,r,n,i,o,u,f){for(var h=i,y=0,w=u?lWe(u,f):!1,T,A;y<n;)y in r&&(T=w?w(r[y],y,t):r[y],o>0&&oWe(T)?(A=aWe(T),h=hre(e,t,T,A,h,o-1)-1):(sWe(h+1),e[h]=T),h++),y++;return h};mre.exports=hre});var vre=I(()=>{"use strict";var uWe=J(),cWe=N4(),pWe=Ur(),dWe=Wr(),fWe=Xn(),hWe=_g();uWe({target:"Array",proto:!0},{flat:function(){var t=arguments.length?arguments[0]:void 0,r=pWe(this),n=dWe(r),i=hWe(r,0);return i.length=cWe(i,r,r,n,0,t===void 0?1:fWe(t)),i}})});var gre=I(()=>{"use strict";var mWe=J(),vWe=N4(),gWe=yr(),yWe=Ur(),_We=Wr(),bWe=_g();mWe({target:"Array",proto:!0},{flatMap:function(t){var r=yWe(this),n=_We(r),i;return gWe(t),i=bWe(r,0),i.length=vWe(i,r,r,n,0,1,t,arguments.length>1?arguments[1]:void 0),i}})});var k4=I((Lnr,yre)=>{"use strict";var xWe=Mi().forEach,wWe=yl(),SWe=wWe("forEach");yre.exports=SWe?[].forEach:function(t){return xWe(this,t,arguments.length>1?arguments[1]:void 0)}});var bre=I(()=>{"use strict";var IWe=J(),_re=k4();IWe({target:"Array",proto:!0,forced:[].forEach!==_re},{forEach:_re})});var VE=I((jnr,xre)=>{"use strict";var EWe=zt(),TWe=Xc();xre.exports=function(e,t,r,n){try{return n?t(EWe(r)[0],r[1]):t(r)}catch(i){TWe(e,"throw",i)}}});var D4=I((Bnr,Ire)=>{"use strict";var AWe=On(),CWe=Dt(),MWe=Ur(),PWe=VE(),OWe=LE(),RWe=ru(),qWe=Wr(),wre=ml(),NWe=Vd(),kWe=Yc(),Sre=Array;Ire.exports=function(t){var r=MWe(t),n=RWe(this),i=arguments.length,o=i>1?arguments[1]:void 0,u=o!==void 0;u&&(o=AWe(o,i>2?arguments[2]:void 0));var f=kWe(r),h=0,y,w,T,A,q,z;if(f&&!(this===Sre&&OWe(f)))for(A=NWe(r,f),q=A.next,w=n?new this:[];!(T=CWe(q,A)).done;h++)z=u?PWe(A,o,[T.value,h],!0):T.value,wre(w,h,z);else for(y=qWe(r),w=n?new this(y):Sre(y);y>h;h++)z=u?o(r[h],h):r[h],wre(w,h,z);return w.length=h,w}});var ib=I((Vnr,Cre)=>{"use strict";var DWe=dr(),Tre=DWe("iterator"),Are=!1;try{Ere=0,L4={next:function(){return{done:!!Ere++}},return:function(){Are=!0}},L4[Tre]=function(){return this},Array.from(L4,function(){throw 2})}catch(e){}var Ere,L4;Cre.exports=function(e,t){try{if(!t&&!Are)return!1}catch(i){return!1}var r=!1;try{var n={};n[Tre]=function(){return{next:function(){return{done:r=!0}}}},e(n)}catch(i){}return r}});var Mre=I(()=>{"use strict";var LWe=J(),zWe=D4(),FWe=ib(),jWe=!FWe(function(e){Array.from(e)});LWe({target:"Array",stat:!0,forced:jWe},{from:zWe})});var Pre=I(()=>{"use strict";var BWe=J(),VWe=vg().includes,UWe=gt(),$We=pi(),HWe=UWe(function(){return!Array(1).includes()});BWe({target:"Array",proto:!0,forced:HWe},{includes:function(t){return VWe(this,t,arguments.length>1?arguments[1]:void 0)}});$We("includes")});var Rre=I(()=>{"use strict";var GWe=J(),WWe=Gc(),ZWe=vg().indexOf,KWe=yl(),z4=WWe([].indexOf),Ore=!!z4&&1/z4([1],1,-0)<0,YWe=Ore||!KWe("indexOf");GWe({target:"Array",proto:!0,forced:YWe},{indexOf:function(t){var r=arguments.length>1?arguments[1]:void 0;return Ore?z4(this,t,r)||0:ZWe(this,t,r)}})});var qre=I(()=>{"use strict";var XWe=J(),JWe=tu();XWe({target:"Array",stat:!0},{isArray:JWe})});var Fh=I((Xnr,Dre)=>{"use strict";var QWe=gt(),eZe=Sr(),tZe=Ir(),rZe=Ci(),Nre=ki(),nZe=Sn(),iZe=dr(),oZe=Vr(),B4=iZe("iterator"),kre=!1,Jc,F4,j4;[].keys&&(j4=[].keys(),"next"in j4?(F4=Nre(Nre(j4)),F4!==Object.prototype&&(Jc=F4)):kre=!0);var aZe=!tZe(Jc)||QWe(function(){var e={};return Jc[B4].call(e)!==e});aZe?Jc={}:oZe&&(Jc=rZe(Jc));eZe(Jc[B4])||nZe(Jc,B4,function(){return this});Dre.exports={IteratorPrototype:Jc,BUGGY_SAFARI_ITERATORS:kre}});var $d=I((Jnr,Lre)=>{"use strict";var sZe=Fh().IteratorPrototype,lZe=Ci(),uZe=ns(),cZe=as(),pZe=zh(),dZe=function(){return this};Lre.exports=function(e,t,r,n){var i=t+" Iterator";return e.prototype=lZe(sZe,{next:uZe(+!n,r)}),cZe(e,i,!1,!0),pZe[i]=dZe,e}});var HE=I((Qnr,Wre)=>{"use strict";var fZe=J(),hZe=Dt(),UE=Vr(),Hre=Ch(),mZe=Sr(),vZe=$d(),zre=ki(),Fre=gl(),gZe=as(),yZe=Ni(),V4=Sn(),_Ze=dr(),jre=zh(),Gre=Fh(),bZe=Hre.PROPER,xZe=Hre.CONFIGURABLE,Bre=Gre.IteratorPrototype,$E=Gre.BUGGY_SAFARI_ITERATORS,ob=_Ze("iterator"),Vre="keys",ab="values",Ure="entries",$re=function(){return this};Wre.exports=function(e,t,r,n,i,o,u){vZe(r,t,n);var f=function(L){if(L===i&&A)return A;if(!$E&&L&&L in w)return w[L];switch(L){case Vre:return function(){return new r(this,L)};case ab:return function(){return new r(this,L)};case Ure:return function(){return new r(this,L)};}return function(){return new r(this)}},h=t+" Iterator",y=!1,w=e.prototype,T=w[ob]||w["@@iterator"]||i&&w[i],A=!$E&&T||f(i),q=t==="Array"&&w.entries||T,z,F,N;if(q&&(z=zre(q.call(new e)),z!==Object.prototype&&z.next&&(!UE&&zre(z)!==Bre&&(Fre?Fre(z,Bre):mZe(z[ob])||V4(z,ob,$re)),gZe(z,h,!0,!0),UE&&(jre[h]=$re))),bZe&&i===ab&&T&&T.name!==ab&&(!UE&&xZe?yZe(w,"name",ab):(y=!0,A=function(){return hZe(T,this)})),i)if(F={values:f(ab),keys:o?A:f(Vre),entries:f(Ure)},u)for(N in F)($E||y||!(N in w))&&V4(w,N,F[N]);else fZe({target:t,proto:!0,forced:$E||y},F);return(!UE||u)&&w[ob]!==A&&V4(w,ob,A,{name:i}),jre[t]=A,F}});var Oo=I((eir,Zre)=>{"use strict";Zre.exports=function(e,t){return{value:e,done:t}}});var sb=I((tir,Qre)=>{"use strict";var wZe=Hi(),U4=pi(),Kre=zh(),Xre=mn(),SZe=Vn().f,IZe=HE(),GE=Oo(),EZe=Vr(),TZe=pr(),Jre="Array Iterator",AZe=Xre.set,CZe=Xre.getterFor(Jre);Qre.exports=IZe(Array,"Array",function(e,t){AZe(this,{type:Jre,target:wZe(e),index:0,kind:t})},function(){var e=CZe(this),t=e.target,r=e.kind,n=e.index++;if(!t||n>=t.length)return e.target=void 0,GE(void 0,!0);switch(r){case"keys":return GE(n,!1);case"values":return GE(t[n],!1);}return GE([n,t[n]],!1)},"values");var Yre=Kre.Arguments=Kre.Array;U4("keys");U4("values");U4("entries");if(!EZe&&TZe&&Yre.name!=="values")try{SZe(Yre,"name",{value:"values"})}catch(e){}});var ene=I(()=>{"use strict";var MZe=J(),PZe=rt(),OZe=Uc(),RZe=Hi(),qZe=yl(),NZe=PZe([].join),kZe=OZe!==Object,DZe=kZe||!qZe("join",",");MZe({target:"Array",proto:!0,forced:DZe},{join:function(t){return NZe(RZe(this),t===void 0?",":t)}})});var H4=I((iir,rne)=>{"use strict";var LZe=ua(),zZe=Hi(),FZe=Xn(),jZe=Wr(),BZe=yl(),VZe=Math.min,$4=[].lastIndexOf,tne=!!$4&&1/[1].lastIndexOf(1,-0)<0,UZe=BZe("lastIndexOf"),$Ze=tne||!UZe;rne.exports=$Ze?function(t){if(tne)return LZe($4,this,arguments)||0;var r=zZe(this),n=jZe(r),i=n-1;for(arguments.length>1&&(i=VZe(i,FZe(arguments[1]))),i<0&&(i=n+i);i>=0;i--)if(i in r&&r[i]===t)return i||0;return-1}:$4});var ine=I(()=>{"use strict";var HZe=J(),nne=H4();HZe({target:"Array",proto:!0,forced:nne!==[].lastIndexOf},{lastIndexOf:nne})});var one=I(()=>{"use strict";var GZe=J(),WZe=Mi().map,ZZe=Sg(),KZe=ZZe("map");GZe({target:"Array",proto:!0,forced:!KZe},{map:function(t){return WZe(this,t,arguments.length>1?arguments[1]:void 0)}})});var sne=I(()=>{"use strict";var YZe=J(),XZe=gt(),JZe=ru(),QZe=ml(),ane=Array,eKe=XZe(function(){function e(){}return!(ane.of.call(e)instanceof e)});YZe({target:"Array",stat:!0,forced:eKe},{of:function(){for(var t=0,r=arguments.length,n=new(JZe(this)?this:ane)(r);r>t;)QZe(n,t,arguments[t++]);return n.length=r,n}})});var WE=I((pir,lne)=>{"use strict";var tKe=pr(),rKe=tu(),nKe=TypeError,iKe=Object.getOwnPropertyDescriptor,oKe=tKe&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();lne.exports=oKe?function(e,t){if(rKe(e)&&!iKe(e,"length").writable)throw new nKe("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}});var une=I(()=>{"use strict";var aKe=J(),sKe=Ur(),lKe=Wr(),uKe=WE(),cKe=Ud(),pKe=gt(),dKe=pKe(function(){return[].push.call({length:4294967296},1)!==4294967297}),fKe=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}},hKe=dKe||!fKe();aKe({target:"Array",proto:!0,arity:1,forced:hKe},{push:function(t){var r=sKe(this),n=lKe(r),i=arguments.length;cKe(n+i);for(var o=0;o<i;o++)r[n]=arguments[o],n++;return uKe(r,n),n}})});var lb=I((hir,pne)=>{"use strict";var mKe=yr(),vKe=Ur(),gKe=Uc(),yKe=Wr(),_Ke=TypeError,cne=function(e){return function(t,r,n,i){mKe(r);var o=vKe(t),u=gKe(o),f=yKe(o),h=e?f-1:0,y=e?-1:1;if(n<2)for(;;){if(h in u){i=u[h],h+=y;break}if(h+=y,e?h<0:f<=h)throw new _Ke("Reduce of empty array with no initial value")}for(;e?h>=0:f>h;h+=y)h in u&&(i=r(i,u[h],h,o));return i}};pne.exports={left:cne(!1),right:cne(!0)}});var zu=I((mir,dne)=>{"use strict";var bKe=Kt(),xKe=Po();dne.exports=xKe(bKe.process)==="process"});var hne=I(()=>{"use strict";var wKe=J(),SKe=lb().left,IKe=yl(),fne=ku(),EKe=zu(),TKe=!EKe&&fne>79&&fne<83,AKe=TKe||!IKe("reduce");wKe({target:"Array",proto:!0,forced:AKe},{reduce:function(t){var r=arguments.length;return SKe(this,t,r,r>1?arguments[1]:void 0)}})});var vne=I(()=>{"use strict";var CKe=J(),MKe=lb().right,PKe=yl(),mne=ku(),OKe=zu(),RKe=!OKe&&mne>79&&mne<83,qKe=RKe||!PKe("reduceRight");CKe({target:"Array",proto:!0,forced:qKe},{reduceRight:function(t){return MKe(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})});var yne=I(()=>{"use strict";var NKe=J(),kKe=rt(),DKe=tu(),LKe=kKe([].reverse),gne=[1,2];NKe({target:"Array",proto:!0,forced:String(gne)===String(gne.reverse())},{reverse:function(){return DKe(this)&&(this.length=this.length),LKe(this)}})});var xne=I(()=>{"use strict";var zKe=J(),_ne=tu(),FKe=ru(),jKe=Ir(),bne=hl(),BKe=Wr(),VKe=Hi(),UKe=ml(),$Ke=dr(),HKe=Sg(),GKe=Zc(),WKe=HKe("slice"),ZKe=$Ke("species"),G4=Array,KKe=Math.max;zKe({target:"Array",proto:!0,forced:!WKe},{slice:function(t,r){var n=VKe(this),i=BKe(n),o=bne(t,i),u=bne(r===void 0?i:r,i),f,h,y;if(_ne(n)&&(f=n.constructor,FKe(f)&&(f===G4||_ne(f.prototype))?f=void 0:jKe(f)&&(f=f[ZKe],f===null&&(f=void 0)),f===G4||f===void 0))return GKe(n,o,u);for(h=new(f===void 0?G4:f)(KKe(u-o,0)),y=0;o<u;o++,y++)o in n&&UKe(h,y,n[o]);return h.length=y,h}})});var wne=I(()=>{"use strict";var YKe=J(),XKe=Mi().some,JKe=yl(),QKe=JKe("some");YKe({target:"Array",proto:!0,forced:!QKe},{some:function(t){return XKe(this,t,arguments.length>1?arguments[1]:void 0)}})});var ZE=I((Tir,Ine)=>{"use strict";var Sne=Oh(),eYe=Math.floor,W4=function(e,t){var r=e.length,n=eYe(r/2);return r<8?tYe(e,t):rYe(e,W4(Sne(e,0,n),t),W4(Sne(e,n),t),t)},tYe=function(e,t){for(var r=e.length,n=1,i,o;n<r;){for(o=n,i=e[n];o&&t(e[o-1],i)>0;)e[o]=e[--o];o!==n++&&(e[o]=i)}return e},rYe=function(e,t,r,n){for(var i=t.length,o=r.length,u=0,f=0;u<i||f<o;)e[u+f]=u<i&&f<o?n(t[u],r[f])<=0?t[u++]:r[f++]:u<i?t[u++]:r[f++];return e};Ine.exports=W4});var Z4=I((Air,Tne)=>{"use strict";var nYe=Nu(),Ene=nYe.match(/firefox\/(\d+)/i);Tne.exports=!!Ene&&+Ene[1]});var K4=I((Cir,Ane)=>{"use strict";var iYe=Nu();Ane.exports=/MSIE|Trident/.test(iYe)});var KE=I((Mir,Mne)=>{"use strict";var oYe=Nu(),Cne=oYe.match(/AppleWebKit\/(\d+)\./);Mne.exports=!!Cne&&+Cne[1]});var zne=I(()=>{"use strict";var aYe=J(),Dne=rt(),sYe=yr(),lYe=Ur(),Pne=Wr(),uYe=rb(),One=br(),Y4=gt(),cYe=ZE(),pYe=yl(),Rne=Z4(),dYe=K4(),qne=ku(),Nne=KE(),Hd=[],kne=Dne(Hd.sort),fYe=Dne(Hd.push),hYe=Y4(function(){Hd.sort(void 0)}),mYe=Y4(function(){Hd.sort(null)}),vYe=pYe("sort"),Lne=!Y4(function(){if(qne)return qne<70;if(!(Rne&&Rne>3)){if(dYe)return!0;if(Nne)return Nne<603;var e="",t,r,n,i;for(t=65;t<76;t++){switch(r=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2;}for(i=0;i<47;i++)Hd.push({k:r+i,v:n})}for(Hd.sort(function(o,u){return u.v-o.v}),i=0;i<Hd.length;i++)r=Hd[i].k.charAt(0),e.charAt(e.length-1)!==r&&(e+=r);return e!=="DGBEFHACIJK"}}),gYe=hYe||!mYe||!vYe||!Lne,yYe=function(e){return function(t,r){return r===void 0?-1:t===void 0?1:e!==void 0?+e(t,r)||0:One(t)>One(r)?1:-1}};aYe({target:"Array",proto:!0,forced:gYe},{sort:function(t){t!==void 0&&sYe(t);var r=lYe(this);if(Lne)return t===void 0?kne(r):kne(r,t);var n=[],i=Pne(r),o,u;for(u=0;u<i;u++)u in r&&fYe(n,r[u]);for(cYe(n,yYe(t)),o=Pne(n),u=0;u<o;)r[u]=n[u++];for(;u<i;)uYe(r,u++);return r}})});var Gd=I((Rir,jne)=>{"use strict";var _Ye=gr(),bYe=oi(),xYe=dr(),wYe=pr(),Fne=xYe("species");jne.exports=function(e){var t=_Ye(e);wYe&&t&&!t[Fne]&&bYe(t,Fne,{configurable:!0,get:function(){return this}})}});var Bne=I(()=>{"use strict";var SYe=Gd();SYe("Array")});var Vne=I(()=>{"use strict";var IYe=J(),EYe=Ur(),TYe=hl(),AYe=Xn(),CYe=Wr(),MYe=WE(),PYe=Ud(),OYe=_g(),RYe=ml(),X4=rb(),qYe=Sg(),NYe=qYe("splice"),kYe=Math.max,DYe=Math.min;IYe({target:"Array",proto:!0,forced:!NYe},{splice:function(t,r){var n=EYe(this),i=CYe(n),o=TYe(t,i),u=arguments.length,f,h,y,w,T,A;for(u===0?f=h=0:u===1?(f=0,h=i-o):(f=u-2,h=DYe(kYe(AYe(r),0),i-o)),PYe(i+f-h),y=OYe(n,h),w=0;w<h;w++)T=o+w,T in n&&RYe(y,w,n[T]);if(y.length=h,f<h){for(w=o;w<i-h;w++)T=w+h,A=w+f,T in n?n[A]=n[T]:X4(n,A);for(w=i;w>i-h+f;w--)X4(n,w-1)}else if(f>h)for(w=i-h;w>o;w--)T=w+h-1,A=w+f-1,T in n?n[A]=n[T]:X4(n,A);for(w=0;w<f;w++)n[w+o]=arguments[w+2];return MYe(n,i-h+f),y}})});var J4=I((Lir,Une)=>{"use strict";var LYe=Wr();Une.exports=function(e,t){for(var r=LYe(e),n=new t(r),i=0;i<r;i++)n[i]=e[r-i-1];return n}});var Q4=I(()=>{"use strict";var zYe=J(),FYe=J4(),jYe=Hi(),BYe=pi(),VYe=Array;zYe({target:"Array",proto:!0},{toReversed:function(){return FYe(jYe(this),VYe)}});BYe("toReversed")});var jh=I((jir,$ne)=>{"use strict";var UYe=Wr();$ne.exports=function(e,t){for(var r=0,n=UYe(t),i=new e(n);n>r;)i[r]=t[r++];return i}});var e3=I((Bir,Hne)=>{"use strict";var $Ye=Kt();Hne.exports=function(e){return $Ye[e].prototype}});var t3=I(()=>{"use strict";var HYe=J(),GYe=rt(),WYe=yr(),ZYe=Hi(),KYe=jh(),YYe=e3(),XYe=pi(),JYe=Array,QYe=GYe(YYe("Array").sort);HYe({target:"Array",proto:!0},{toSorted:function(t){t!==void 0&&WYe(t);var r=ZYe(this),n=KYe(JYe,r);return QYe(n,t)}});XYe("toSorted")});var r3=I(()=>{"use strict";var eXe=J(),tXe=pi(),rXe=Ud(),nXe=Wr(),iXe=hl(),oXe=Hi(),aXe=Xn(),sXe=Array,lXe=Math.max,uXe=Math.min;eXe({target:"Array",proto:!0},{toSpliced:function(t,r){var n=oXe(this),i=nXe(n),o=iXe(t,i),u=arguments.length,f=0,h,y,w,T;for(u===0?h=y=0:u===1?(h=0,y=i-o):(h=u-2,y=uXe(lXe(aXe(r),0),i-o)),w=rXe(i+h-y),T=sXe(w);f<o;f++)T[f]=n[f];for(;f<o+h;f++)T[f]=arguments[f-o+2];for(;f<w;f++)T[f]=n[f+y-h];return T}});tXe("toSpliced")});var Gne=I(()=>{"use strict";var cXe=pi();cXe("flat")});var Wne=I(()=>{"use strict";var pXe=pi();pXe("flatMap")});var Zne=I(()=>{"use strict";var dXe=J(),fXe=Ur(),hXe=Wr(),mXe=WE(),vXe=rb(),gXe=Ud(),yXe=[].unshift(0)!==1,_Xe=function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(e){return e instanceof TypeError}},bXe=yXe||!_Xe();dXe({target:"Array",proto:!0,arity:1,forced:bXe},{unshift:function(t){var r=fXe(this),n=hXe(r),i=arguments.length;if(i){gXe(n+i);for(var o=n;o--;){var u=o+i;o in r?r[u]=r[o]:vXe(r,u)}for(var f=0;f<i;f++)r[f]=arguments[f]}return mXe(r,n+i)}})});var n3=I((Jir,Kne)=>{"use strict";var xXe=Wr(),wXe=Xn(),SXe=RangeError;Kne.exports=function(e,t,r,n){var i=xXe(e),o=wXe(r),u=o<0?i+o:o;if(u>=i||u<0)throw new SXe("Incorrect index");for(var f=new t(i),h=0;h<i;h++)f[h]=h===u?n:e[h];return f}});var i3=I(()=>{"use strict";var IXe=J(),EXe=n3(),TXe=Hi(),AXe=Array;IXe({target:"Array",proto:!0},{with:function(e,t){return EXe(TXe(this),AXe,e,t)}})});var YE=I((tor,Yne)=>{"use strict";Yne.exports=typeof ArrayBuffer!="undefined"&&typeof DataView!="undefined"});var _l=I((ror,Xne)=>{"use strict";var CXe=Sn();Xne.exports=function(e,t,r){for(var n in t)CXe(e,n,t[n],r);return e}});var ca=I((nor,Jne)=>{"use strict";var MXe=la(),PXe=TypeError;Jne.exports=function(e,t){if(MXe(t,e))return e;throw new PXe("Incorrect invocation")}});var Ig=I((ior,Qne)=>{"use strict";var OXe=Xn(),RXe=is(),qXe=RangeError;Qne.exports=function(e){if(e===void 0)return 0;var t=OXe(e),r=RXe(t);if(t!==r)throw new qXe("Wrong length or index");return r}});var XE=I((oor,eie)=>{"use strict";eie.exports=Math.sign||function(t){var r=+t;return r===0||r!==r?r:r<0?-1:1}});var o3=I((aor,nie)=>{"use strict";var NXe=XE(),kXe=Math.abs,rie=2220446049250313e-31,tie=1/rie,DXe=function(e){return e+tie-tie};nie.exports=function(e,t,r,n){var i=+e,o=kXe(i),u=NXe(i);if(o<n)return u*DXe(o/n/t)*n*t;var f=(1+t/rie)*o,h=f-(f-o);return h>r||h!==h?u*(1/0):u*h}});var JE=I((sor,iie)=>{"use strict";var LXe=o3(),zXe=1.1920928955078125e-7,FXe=34028234663852886e22,jXe=11754943508222875e-54;iie.exports=Math.fround||function(t){return LXe(t,zXe,FXe,jXe)}});var QE=I((lor,oie)=>{"use strict";var BXe=Array,VXe=Math.abs,Qc=Math.pow,UXe=Math.floor,$Xe=Math.log,HXe=Math.LN2,GXe=function(e,t,r){var n=BXe(r),i=r*8-t-1,o=(1<<i)-1,u=o>>1,f=t===23?Qc(2,-24)-Qc(2,-77):0,h=e<0||e===0&&1/e<0?1:0,y=0,w,T,A;for(e=VXe(e),e!==e||e===1/0?(T=e!==e?1:0,w=o):(w=UXe($Xe(e)/HXe),A=Qc(2,-w),e*A<1&&(w--,A*=2),w+u>=1?e+=f/A:e+=f*Qc(2,1-u),e*A>=2&&(w++,A/=2),w+u>=o?(T=0,w=o):w+u>=1?(T=(e*A-1)*Qc(2,t),w+=u):(T=e*Qc(2,u-1)*Qc(2,t),w=0));t>=8;)n[y++]=T&255,T/=256,t-=8;for(w=w<<t|T,i+=t;i>0;)n[y++]=w&255,w/=256,i-=8;return n[--y]|=h*128,n},WXe=function(e,t){var r=e.length,n=r*8-t-1,i=(1<<n)-1,o=i>>1,u=n-7,f=r-1,h=e[f--],y=h&127,w;for(h>>=7;u>0;)y=y*256+e[f--],u-=8;for(w=y&(1<<-u)-1,y>>=-u,u+=t;u>0;)w=w*256+e[f--],u-=8;if(y===0)y=1-o;else{if(y===i)return w?NaN:h?-1/0:1/0;w+=Qc(2,t),y-=o}return(h?-1:1)*w*Qc(2,y-t)};oie.exports={pack:GXe,unpack:WXe}});var pb=I((uor,Sie)=>{"use strict";var oT=Kt(),d3=rt(),a3=pr(),ZXe=YE(),yie=Ch(),aie=Ni(),KXe=oi(),sie=_l(),s3=gt(),eT=ca(),YXe=Xn(),XXe=is(),nT=Ig(),JXe=JE(),_ie=QE(),QXe=ki(),lie=gl(),eJe=Hc().f,tJe=BE(),rJe=Oh(),bie=as(),f3=mn(),nJe=yie.PROPER,uie=yie.CONFIGURABLE,Tg="ArrayBuffer",aT="DataView",Ag="prototype",iJe="Wrong length",xie="Wrong index",cie=f3.getterFor(Tg),cb=f3.getterFor(aT),pie=f3.set,bl=oT[Tg],zs=bl,Eg=zs&&zs[Ag],Fu=oT[aT],Bh=Fu&&Fu[Ag],die=Object.prototype,oJe=oT.Array,iT=oT.RangeError,aJe=d3(tJe),sJe=d3([].reverse),wie=_ie.pack,fie=_ie.unpack,hie=function(e){return[e&255]},mie=function(e){return[e&255,e>>8&255]},vie=function(e){return[e&255,e>>8&255,e>>16&255,e>>24&255]},gie=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},lJe=function(e){return wie(JXe(e),23,4)},uJe=function(e){return wie(e,52,8)},tT=function(e,t,r){KXe(e[Ag],t,{configurable:!0,get:function(){return r(this)[t]}})},Wd=function(e,t,r,n){var i=cb(e),o=nT(r),u=!!n;if(o+t>i.byteLength)throw new iT(xie);var f=i.bytes,h=o+i.byteOffset,y=rJe(f,h,h+t);return u?y:sJe(y)},Zd=function(e,t,r,n,i,o){var u=cb(e),f=nT(r),h=n(+i),y=!!o;if(f+t>u.byteLength)throw new iT(xie);for(var w=u.bytes,T=f+u.byteOffset,A=0;A<t;A++)w[T+A]=h[y?A:t-A-1]};if(!ZXe)zs=function(t){eT(this,Eg);var r=nT(t);pie(this,{type:Tg,bytes:aJe(oJe(r),0),byteLength:r}),a3||(this.byteLength=r,this.detached=!1)},Eg=zs[Ag],Fu=function(t,r,n){eT(this,Bh),eT(t,Eg);var i=cie(t),o=i.byteLength,u=YXe(r);if(u<0||u>o)throw new iT("Wrong offset");if(n=n===void 0?o-u:XXe(n),u+n>o)throw new iT(iJe);pie(this,{type:aT,buffer:t,byteLength:n,byteOffset:u,bytes:i.bytes}),a3||(this.buffer=t,this.byteLength=n,this.byteOffset=u)},Bh=Fu[Ag],a3&&(tT(zs,"byteLength",cie),tT(Fu,"buffer",cb),tT(Fu,"byteLength",cb),tT(Fu,"byteOffset",cb)),sie(Bh,{getInt8:function(t){return Wd(this,1,t)[0]<<24>>24},getUint8:function(t){return Wd(this,1,t)[0]},getInt16:function(t){var r=Wd(this,2,t,arguments.length>1?arguments[1]:!1);return(r[1]<<8|r[0])<<16>>16},getUint16:function(t){var r=Wd(this,2,t,arguments.length>1?arguments[1]:!1);return r[1]<<8|r[0]},getInt32:function(t){return gie(Wd(this,4,t,arguments.length>1?arguments[1]:!1))},getUint32:function(t){return gie(Wd(this,4,t,arguments.length>1?arguments[1]:!1))>>>0},getFloat32:function(t){return fie(Wd(this,4,t,arguments.length>1?arguments[1]:!1),23)},getFloat64:function(t){return fie(Wd(this,8,t,arguments.length>1?arguments[1]:!1),52)},setInt8:function(t,r){Zd(this,1,t,hie,r)},setUint8:function(t,r){Zd(this,1,t,hie,r)},setInt16:function(t,r){Zd(this,2,t,mie,r,arguments.length>2?arguments[2]:!1)},setUint16:function(t,r){Zd(this,2,t,mie,r,arguments.length>2?arguments[2]:!1)},setInt32:function(t,r){Zd(this,4,t,vie,r,arguments.length>2?arguments[2]:!1)},setUint32:function(t,r){Zd(this,4,t,vie,r,arguments.length>2?arguments[2]:!1)},setFloat32:function(t,r){Zd(this,4,t,lJe,r,arguments.length>2?arguments[2]:!1)},setFloat64:function(t,r){Zd(this,8,t,uJe,r,arguments.length>2?arguments[2]:!1)}});else{if(l3=nJe&&bl.name!==Tg,!s3(function(){bl(1)})||!s3(function(){new bl(-1)})||s3(function(){return new bl,new bl(1.5),new bl(NaN),bl.length!==1||l3&&!uie})){for(zs=function(t){return eT(this,Eg),new bl(nT(t))},zs[Ag]=Eg,u3=eJe(bl),c3=0;u3.length>c3;)(rT=u3[c3++])in zs||aie(zs,rT,bl[rT]);Eg.constructor=zs}else l3&&uie&&aie(bl,"name",Tg);lie&&QXe(Bh)!==die&&lie(Bh,die),ub=new Fu(new zs(2)),p3=d3(Bh.setInt8),ub.setInt8(0,2147483648),ub.setInt8(1,2147483649),(ub.getInt8(0)||!ub.getInt8(1))&&sie(Bh,{setInt8:function(t,r){p3(this,t,r<<24>>24)},setUint8:function(t,r){p3(this,t,r<<24>>24)}},{unsafe:!0})}var l3,u3,c3,rT,ub,p3;bie(zs,Tg);bie(Fu,aT);Sie.exports={ArrayBuffer:zs,DataView:Fu}});var Eie=I(()=>{"use strict";var cJe=J(),pJe=Kt(),dJe=pb(),fJe=Gd(),h3="ArrayBuffer",Iie=dJe[h3],hJe=pJe[h3];cJe({global:!0,constructor:!0,forced:hJe!==Iie},{ArrayBuffer:Iie});fJe(h3)});var Nr=I((dor,kie)=>{"use strict";var mJe=YE(),y3=pr(),qa=Kt(),Mie=Sr(),uT=Ir(),Yd=qr(),_3=os(),vJe=zd(),gJe=Ni(),m3=Sn(),yJe=oi(),_Je=la(),cT=ki(),Mg=gl(),bJe=dr(),xJe=Fd(),Pie=mn(),Oie=Pie.enforce,wJe=Pie.get,sT=qa.Int8Array,v3=sT&&sT.prototype,Tie=qa.Uint8ClampedArray,Aie=Tie&&Tie.prototype,ju=sT&&cT(sT),nu=v3&&cT(v3),SJe=Object.prototype,b3=qa.TypeError,Cie=bJe("toStringTag"),g3=xJe("TYPED_ARRAY_TAG"),lT="TypedArrayConstructor",ep=mJe&&!!Mg&&_3(qa.opera)!=="Opera",Rie=!1,ls,Kd,Cg,tp={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},x3={BigInt64Array:8,BigUint64Array:8},IJe=function(t){if(!uT(t))return!1;var r=_3(t);return r==="DataView"||Yd(tp,r)||Yd(x3,r)},qie=function(e){var t=cT(e);if(uT(t)){var r=wJe(t);return r&&Yd(r,lT)?r[lT]:qie(t)}},Nie=function(e){if(!uT(e))return!1;var t=_3(e);return Yd(tp,t)||Yd(x3,t)},EJe=function(e){if(Nie(e))return e;throw new b3("Target is not a typed array")},TJe=function(e){if(Mie(e)&&(!Mg||_Je(ju,e)))return e;throw new b3(vJe(e)+" is not a typed array constructor")},AJe=function(e,t,r,n){if(y3){if(r)for(var i in tp){var o=qa[i];if(o&&Yd(o.prototype,e))try{delete o.prototype[e]}catch(u){try{o.prototype[e]=t}catch(f){}}}(!nu[e]||r)&&m3(nu,e,r?t:ep&&v3[e]||t,n)}},CJe=function(e,t,r){var n,i;if(y3){if(Mg){if(r){for(n in tp)if(i=qa[n],i&&Yd(i,e))try{delete i[e]}catch(o){}}if(!ju[e]||r)try{return m3(ju,e,r?t:ep&&ju[e]||t)}catch(o){}else return}for(n in tp)i=qa[n],i&&(!i[e]||r)&&m3(i,e,t)}};for(ls in tp)Kd=qa[ls],Cg=Kd&&Kd.prototype,Cg?Oie(Cg)[lT]=Kd:ep=!1;for(ls in x3)Kd=qa[ls],Cg=Kd&&Kd.prototype,Cg&&(Oie(Cg)[lT]=Kd);if((!ep||!Mie(ju)||ju===Function.prototype)&&(ju=function(){throw new b3("Incorrect invocation")},ep))for(ls in tp)qa[ls]&&Mg(qa[ls],ju);if((!ep||!nu||nu===SJe)&&(nu=ju.prototype,ep))for(ls in tp)qa[ls]&&Mg(qa[ls].prototype,nu);ep&&cT(Aie)!==nu&&Mg(Aie,nu);if(y3&&!Yd(nu,Cie)){Rie=!0,yJe(nu,Cie,{configurable:!0,get:function(){return uT(this)?this[g3]:void 0}});for(ls in tp)qa[ls]&&gJe(qa[ls],g3,ls)}kie.exports={NATIVE_ARRAY_BUFFER_VIEWS:ep,TYPED_ARRAY_TAG:Rie&&g3,aTypedArray:EJe,aTypedArrayConstructor:TJe,exportTypedArrayMethod:AJe,exportTypedArrayStaticMethod:CJe,getTypedArrayConstructor:qie,isView:IJe,isTypedArray:Nie,TypedArray:ju,TypedArrayPrototype:nu}});var Lie=I(()=>{"use strict";var MJe=J(),Die=Nr(),PJe=Die.NATIVE_ARRAY_BUFFER_VIEWS;MJe({target:"ArrayBuffer",stat:!0,forced:!PJe},{isView:Die.isView})});var Pg=I((vor,zie)=>{"use strict";var OJe=ru(),RJe=zd(),qJe=TypeError;zie.exports=function(e){if(OJe(e))return e;throw new qJe(RJe(e)+" is not a constructor")}});var Vh=I((gor,jie)=>{"use strict";var Fie=zt(),NJe=Pg(),kJe=qi(),DJe=dr(),LJe=DJe("species");jie.exports=function(e,t){var r=Fie(e).constructor,n;return r===void 0||kJe(n=Fie(r)[LJe])?t:NJe(n)}});var Gie=I(()=>{"use strict";var zJe=J(),S3=Gc(),FJe=gt(),$ie=pb(),Bie=zt(),Vie=hl(),jJe=is(),BJe=Vh(),I3=$ie.ArrayBuffer,w3=$ie.DataView,Hie=w3.prototype,Uie=S3(I3.prototype.slice),VJe=S3(Hie.getUint8),UJe=S3(Hie.setUint8),$Je=FJe(function(){return!new I3(2).slice(1,void 0).byteLength});zJe({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:$Je},{slice:function(t,r){if(Uie&&r===void 0)return Uie(Bie(this),t);for(var n=Bie(this).byteLength,i=Vie(t,n),o=Vie(r===void 0?n:r,n),u=new(BJe(this,I3))(jJe(o-i)),f=new w3(this),h=new w3(u),y=0;i<o;)UJe(h,y++,VJe(f,i++));return u}})});var Wie=I(()=>{"use strict";var HJe=J(),GJe=pb(),WJe=YE();HJe({global:!0,constructor:!0,forced:!WJe},{DataView:GJe.DataView})});var Zie=I(()=>{"use strict";Wie()});var Kie=I(()=>{"use strict";var ZJe=J(),KJe=rt(),YJe=gt(),XJe=YJe(function(){return new Date(16e11).getYear()!==120}),JJe=KJe(Date.prototype.getFullYear);ZJe({target:"Date",proto:!0,forced:XJe},{getYear:function(){return JJe(this)-1900}})});var Xie=I(()=>{"use strict";var QJe=J(),eQe=rt(),Yie=Date,tQe=eQe(Yie.prototype.getTime);QJe({target:"Date",stat:!0},{now:function(){return tQe(new Yie)}})});var eoe=I(()=>{"use strict";var rQe=J(),Jie=rt(),nQe=Xn(),Qie=Date.prototype,iQe=Jie(Qie.getTime),oQe=Jie(Qie.setFullYear);rQe({target:"Date",proto:!0},{setYear:function(t){iQe(this);var r=nQe(t),n=r>=0&&r<=99?r+1900:r;return oQe(this,n)}})});var toe=I(()=>{"use strict";var aQe=J();aQe({target:"Date",proto:!0},{toGMTString:Date.prototype.toUTCString})});var db=I((Ror,roe)=>{"use strict";var sQe=Xn(),lQe=br(),uQe=Yn(),cQe=RangeError;roe.exports=function(t){var r=lQe(uQe(this)),n="",i=sQe(t);if(i<0||i===1/0)throw new cQe("Wrong number of repetitions");for(;i>0;(i>>>=1)&&(r+=r))i&1&&(n+=r);return n}});var pT=I((qor,aoe)=>{"use strict";var ooe=rt(),pQe=is(),noe=br(),dQe=db(),fQe=Yn(),hQe=ooe(dQe),mQe=ooe("".slice),vQe=Math.ceil,ioe=function(e){return function(t,r,n){var i=noe(fQe(t)),o=pQe(r),u=i.length,f=n===void 0?" ":noe(n),h,y;return o<=u||f===""?i:(h=o-u,y=hQe(f,vQe(h/f.length)),y.length>h&&(y=mQe(y,0,h)),e?i+y:y+i)}};aoe.exports={start:ioe(!1),end:ioe(!0)}});var uoe=I((Nor,loe)=>{"use strict";var Xd=rt(),soe=gt(),Uh=pT().start,gQe=RangeError,yQe=isFinite,_Qe=Math.abs,rp=Date.prototype,E3=rp.toISOString,bQe=Xd(rp.getTime),xQe=Xd(rp.getUTCDate),wQe=Xd(rp.getUTCFullYear),SQe=Xd(rp.getUTCHours),IQe=Xd(rp.getUTCMilliseconds),EQe=Xd(rp.getUTCMinutes),TQe=Xd(rp.getUTCMonth),AQe=Xd(rp.getUTCSeconds);loe.exports=soe(function(){return E3.call(new Date(-5e13-1))!=="0385-07-25T07:06:39.999Z"})||!soe(function(){E3.call(new Date(NaN))})?function(){if(!yQe(bQe(this)))throw new gQe("Invalid time value");var t=this,r=wQe(t),n=IQe(t),i=r<0?"-":r>9999?"+":"";return i+Uh(_Qe(r),i?6:4,0)+"-"+Uh(TQe(t)+1,2,0)+"-"+Uh(xQe(t),2,0)+"T"+Uh(SQe(t),2,0)+":"+Uh(EQe(t),2,0)+":"+Uh(AQe(t),2,0)+"."+Uh(n,3,0)+"Z"}:E3});var poe=I(()=>{"use strict";var CQe=J(),coe=uoe();CQe({target:"Date",proto:!0,forced:Date.prototype.toISOString!==coe},{toISOString:coe})});var doe=I(()=>{"use strict";var MQe=J(),PQe=gt(),OQe=Ur(),RQe=j_(),qQe=PQe(function(){return new Date(NaN).toJSON()!==null||Date.prototype.toJSON.call({toISOString:function(){return 1}})!==1});MQe({target:"Date",proto:!0,arity:1,forced:qQe},{toJSON:function(t){var r=OQe(this),n=RQe(r,"number");return typeof n=="number"&&!isFinite(n)?null:r.toISOString()}})});var hoe=I((For,foe)=>{"use strict";var NQe=zt(),kQe=_D(),DQe=TypeError;foe.exports=function(e){if(NQe(this),e==="string"||e==="default")e="string";else if(e!=="number")throw new DQe("Incorrect hint");return kQe(this,e)}});var goe=I(()=>{"use strict";var LQe=qr(),zQe=Sn(),FQe=hoe(),jQe=dr(),moe=jQe("toPrimitive"),voe=Date.prototype;LQe(voe,moe)||zQe(voe,moe,FQe)});var xoe=I(()=>{"use strict";var _oe=rt(),BQe=Sn(),T3=Date.prototype,yoe="Invalid Date",boe="toString",VQe=_oe(T3[boe]),UQe=_oe(T3.getTime);String(new Date(NaN))!==yoe&&BQe(T3,boe,function(){var t=UQe(this);return t===t?VQe(this):yoe})});var Soe=I(()=>{"use strict";var $Qe=J(),fb=rt(),HQe=br(),GQe=fb("".charAt),WQe=fb("".charCodeAt),ZQe=fb(/./.exec),KQe=fb(1 .toString),YQe=fb("".toUpperCase),XQe=/[\w*+\-./@]/,woe=function(e,t){for(var r=KQe(e,16);r.length<t;)r="0"+r;return r};$Qe({global:!0},{escape:function(t){for(var r=HQe(t),n="",i=r.length,o=0,u,f;o<i;)u=GQe(r,o++),ZQe(XQe,u)?n+=u:(f=WQe(u,0),f<256?n+="%"+woe(f,2):n+="%u"+YQe(woe(f,4)));return n}})});var C3=I((Gor,Aoe)=>{"use strict";var Eoe=rt(),JQe=yr(),QQe=Ir(),eet=qr(),Ioe=Zc(),tet=fg(),Toe=Function,ret=Eoe([].concat),net=Eoe([].join),A3={},iet=function(e,t,r){if(!eet(A3,t)){for(var n=[],i=0;i<t;i++)n[i]="a["+i+"]";A3[t]=Toe("C,a","return new C("+net(n,",")+")")}return A3[t](e,r)};Aoe.exports=tet?Toe.bind:function(t){var r=JQe(this),n=r.prototype,i=Ioe(arguments,1),o=function(){var f=ret(i,Ioe(arguments));return this instanceof o?iet(r,f.length,f):r.apply(t,f)};return QQe(n)&&(o.prototype=n),o}});var Moe=I(()=>{"use strict";var oet=J(),Coe=C3();oet({target:"Function",proto:!0,forced:Function.bind!==Coe},{bind:Coe})});var Roe=I(()=>{"use strict";var aet=Sr(),Poe=Ir(),set=Vn(),uet=ki(),cet=dr(),pet=H_(),M3=cet("hasInstance"),Ooe=Function.prototype;M3 in Ooe||set.f(Ooe,M3,{value:pet(function(e){if(!aet(this)||!Poe(e))return!1;var t=this.prototype;if(!Poe(t))return e instanceof this;for(;e=uet(e);)if(t===e)return!0;return!1},M3)})});var Doe=I(()=>{"use strict";var det=pr(),fet=Ch().EXISTS,qoe=rt(),het=oi(),Noe=Function.prototype,met=qoe(Noe.toString),koe=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,vet=qoe(koe.exec),get="name";det&&!fet&&het(Noe,get,{configurable:!0,get:function(){try{return vet(koe,met(this))[1]}catch(e){return""}}})});var O3=I(()=>{"use strict";var yet=J(),P3=Kt();yet({global:!0,forced:P3.globalThis!==P3},{globalThis:P3})});var Loe=I(()=>{"use strict";var _et=Kt(),bet=as();bet(_et.JSON,"JSON",!0)});var dT=I((nar,zoe)=>{"use strict";var xet=gt();zoe.exports=xet(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}})});var hT=I((iar,joe)=>{"use strict";var wet=gt(),Iet=Ir(),Eet=Po(),Foe=dT(),fT=Object.isExtensible,Tet=wet(function(){fT(1)});joe.exports=Tet||Foe?function(t){return!Iet(t)||Foe&&Eet(t)==="ArrayBuffer"?!1:fT?fT(t):!0}:fT});var np=I((oar,Boe)=>{"use strict";var Aet=gt();Boe.exports=!Aet(function(){return Object.isExtensible(Object.preventExtensions({}))})});var Jd=I((aar,$oe)=>{"use strict";var Cet=J(),Met=rt(),Pet=mg(),Oet=Ir(),R3=qr(),Ret=Vn().f,Voe=Hc(),qet=wE(),q3=hT(),Net=Fd(),ket=np(),Uoe=!1,ip=Net("meta"),Det=0,N3=function(e){Ret(e,ip,{value:{objectID:"O"+Det++,weakData:{}}})},Let=function(e,t){if(!Oet(e))return typeof e=="symbol"?e:(typeof e=="string"?"S":"P")+e;if(!R3(e,ip)){if(!q3(e))return"F";if(!t)return"E";N3(e)}return e[ip].objectID},zet=function(e,t){if(!R3(e,ip)){if(!q3(e))return!0;if(!t)return!1;N3(e)}return e[ip].weakData},Fet=function(e){return ket&&Uoe&&q3(e)&&!R3(e,ip)&&N3(e),e},jet=function(){Bet.enable=function(){},Uoe=!0;var e=Voe.f,t=Met([].splice),r={};r[ip]=1,e(r).length&&(Voe.f=function(n){for(var i=e(n),o=0,u=i.length;o<u;o++)if(i[o]===ip){t(i,o,1);break}return i},Cet({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:qet.f}))},Bet=$oe.exports={enable:jet,fastKey:Let,getWeakData:zet,onFreeze:Fet};Pet[ip]=!0});var hb=I((sar,Goe)=>{"use strict";var Vet=J(),Uet=Kt(),$et=rt(),Hoe=yg(),Het=Sn(),Get=Jd(),Wet=gi(),Zet=ca(),Ket=Sr(),Yet=qi(),k3=Ir(),D3=gt(),Xet=ib(),Jet=as(),Qet=kh();Goe.exports=function(e,t,r){var n=e.indexOf("Map")!==-1,i=e.indexOf("Weak")!==-1,o=n?"set":"add",u=Uet[e],f=u&&u.prototype,h=u,y={},w=function(L){var B=$et(f[L]);Het(f,L,L==="add"?function(te){return B(this,te===0?0:te),this}:L==="delete"?function(Z){return i&&!k3(Z)?!1:B(this,Z===0?0:Z)}:L==="get"?function(te){return i&&!k3(te)?void 0:B(this,te===0?0:te)}:L==="has"?function(te){return i&&!k3(te)?!1:B(this,te===0?0:te)}:function(te,ue){return B(this,te===0?0:te,ue),this})},T=Hoe(e,!Ket(u)||!(i||f.forEach&&!D3(function(){new u().entries().next()})));if(T)h=r.getConstructor(t,e,n,o),Get.enable();else if(Hoe(e,!0)){var A=new h,q=A[o](i?{}:-0,1)!==A,z=D3(function(){A.has(1)}),F=Xet(function(L){new u(L)}),N=!i&&D3(function(){for(var L=new u,B=5;B--;)L[o](B,B);return!L.has(-0)});F||(h=t(function(L,B){Zet(L,f);var Z=Qet(new u,L,h);return Yet(B)||Wet(B,Z[o],{that:Z,AS_ENTRIES:n}),Z}),h.prototype=f,f.constructor=h),(z||N)&&(w("delete"),w("has"),n&&w("get")),(N||q)&&w(o),i&&f.clear&&delete f.clear}return y[e]=h,Vet({global:!0,constructor:!0,forced:h!==u},y),Jet(h,e),i||r.setStrong(h,e,n),h}});var z3=I((lar,Xoe)=>{"use strict";var ett=Ci(),ttt=oi(),Woe=_l(),rtt=On(),ntt=ca(),itt=qi(),ott=gi(),att=HE(),mT=Oo(),stt=Gd(),mb=pr(),Zoe=Jd().fastKey,Yoe=mn(),Koe=Yoe.set,L3=Yoe.getterFor;Xoe.exports={getConstructor:function(e,t,r,n){var i=e(function(y,w){ntt(y,o),Koe(y,{type:t,index:ett(null),first:void 0,last:void 0,size:0}),mb||(y.size=0),itt(w)||ott(w,y[n],{that:y,AS_ENTRIES:r})}),o=i.prototype,u=L3(t),f=function(y,w,T){var A=u(y),q=h(y,w),z,F;return q?q.value=T:(A.last=q={index:F=Zoe(w,!0),key:w,value:T,previous:z=A.last,next:void 0,removed:!1},A.first||(A.first=q),z&&(z.next=q),mb?A.size++:y.size++,F!=="F"&&(A.index[F]=q)),y},h=function(y,w){var T=u(y),A=Zoe(w),q;if(A!=="F")return T.index[A];for(q=T.first;q;q=q.next)if(q.key===w)return q};return Woe(o,{clear:function(){for(var w=this,T=u(w),A=T.index,q=T.first;q;)q.removed=!0,q.previous&&(q.previous=q.previous.next=void 0),delete A[q.index],q=q.next;T.first=T.last=void 0,mb?T.size=0:w.size=0},delete:function(y){var w=this,T=u(w),A=h(w,y);if(A){var q=A.next,z=A.previous;delete T.index[A.index],A.removed=!0,z&&(z.next=q),q&&(q.previous=z),T.first===A&&(T.first=q),T.last===A&&(T.last=z),mb?T.size--:w.size--}return!!A},forEach:function(w){for(var T=u(this),A=rtt(w,arguments.length>1?arguments[1]:void 0),q;q=q?q.next:T.first;)for(A(q.value,q.key,this);q&&q.removed;)q=q.previous},has:function(w){return!!h(this,w)}}),Woe(o,r?{get:function(w){var T=h(this,w);return T&&T.value},set:function(w,T){return f(this,w===0?0:w,T)}}:{add:function(w){return f(this,w=w===0?0:w,w)}}),mb&&ttt(o,"size",{configurable:!0,get:function(){return u(this).size}}),i},setStrong:function(e,t,r){var n=t+" Iterator",i=L3(t),o=L3(n);att(e,t,function(u,f){Koe(this,{type:n,target:u,state:i(u),kind:f,last:void 0})},function(){for(var u=o(this),f=u.kind,h=u.last;h&&h.removed;)h=h.previous;return!u.target||!(u.last=h=h?h.next:u.state.first)?(u.target=void 0,mT(void 0,!0)):mT(f==="keys"?h.key:f==="values"?h.value:[h.key,h.value],!1)},r?"entries":"values",!r,!0),stt(t)}}});var Joe=I(()=>{"use strict";var ltt=hb(),utt=z3();ltt("Map",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},utt)});var vT=I(()=>{"use strict";Joe()});var F3=I((far,Qoe)=>{"use strict";var ctt=Math.log;Qoe.exports=Math.log1p||function(t){var r=+t;return r>-1e-8&&r<1e-8?r-r*r/2:ctt(1+r)}});var tae=I(()=>{"use strict";var ptt=J(),dtt=F3(),j3=Math.acosh,ftt=Math.log,eae=Math.sqrt,htt=Math.LN2,mtt=!j3||Math.floor(j3(Number.MAX_VALUE))!==710||j3(1/0)!==1/0;ptt({target:"Math",stat:!0,forced:mtt},{acosh:function(t){var r=+t;return r<1?NaN:r>94906265.62425156?ftt(r)+htt:dtt(r-1+eae(r-1)*eae(r+1))}})});var iae=I(()=>{"use strict";var vtt=J(),rae=Math.asinh,gtt=Math.log,ytt=Math.sqrt;function nae(e){var t=+e;return!isFinite(t)||t===0?t:t<0?-nae(-t):gtt(t+ytt(t*t+1))}var _tt=!(rae&&1/rae(0)>0);vtt({target:"Math",stat:!0,forced:_tt},{asinh:nae})});var aae=I(()=>{"use strict";var btt=J(),oae=Math.atanh,xtt=Math.log,wtt=!(oae&&1/oae(-0)<0);btt({target:"Math",stat:!0,forced:wtt},{atanh:function(t){var r=+t;return r===0?r:xtt((1+r)/(1-r))/2}})});var sae=I(()=>{"use strict";var Stt=J(),Itt=XE(),Ett=Math.abs,Ttt=Math.pow;Stt({target:"Math",stat:!0},{cbrt:function(t){var r=+t;return Itt(r)*Ttt(Ett(r),1/3)}})});var lae=I(()=>{"use strict";var Att=J(),Ctt=Math.floor,Mtt=Math.log,Ptt=Math.LOG2E;Att({target:"Math",stat:!0},{clz32:function(t){var r=t>>>0;return r?31-Ctt(Mtt(r+.5)*Ptt):32}})});var gb=I((Ear,uae)=>{"use strict";var vb=Math.expm1,Ott=Math.exp;uae.exports=!vb||vb(10)>22025.465794806718||vb(10)<22025.465794806718||vb(-2e-17)!==-2e-17?function(t){var r=+t;return r===0?r:r>-1e-6&&r<1e-6?r+r*r/2:Ott(r)-1}:vb});var pae=I(()=>{"use strict";var Rtt=J(),qtt=gb(),cae=Math.cosh,Ntt=Math.abs,B3=Math.E,ktt=!cae||cae(710)===1/0;Rtt({target:"Math",stat:!0,forced:ktt},{cosh:function(t){var r=qtt(Ntt(t)-1)+1;return(r+1/(r*B3*B3))*(B3/2)}})});var fae=I(()=>{"use strict";var Dtt=J(),dae=gb();Dtt({target:"Math",stat:!0,forced:dae!==Math.expm1},{expm1:dae})});var hae=I(()=>{"use strict";var Ltt=J(),ztt=JE();Ltt({target:"Math",stat:!0},{fround:ztt})});var vae=I(()=>{"use strict";var Ftt=J(),mae=Math.hypot,jtt=Math.abs,Btt=Math.sqrt,Vtt=!!mae&&mae(1/0,NaN)!==1/0;Ftt({target:"Math",stat:!0,arity:2,forced:Vtt},{hypot:function(t,r){for(var n=0,i=0,o=arguments.length,u=0,f,h;i<o;)f=jtt(arguments[i++]),u<f?(h=u/f,n=n*h*h+1,u=f):f>0?(h=f/u,n+=h*h):n+=f;return u===1/0?1/0:u*Btt(n)}})});var yae=I(()=>{"use strict";var Utt=J(),$tt=gt(),gae=Math.imul,Htt=$tt(function(){return gae(4294967295,5)!==-5||gae.length!==2});Utt({target:"Math",stat:!0,forced:Htt},{imul:function(t,r){var n=65535,i=+t,o=+r,u=n&i,f=n&o;return 0|u*f+((n&i>>>16)*f+u*(n&o>>>16)<<16>>>0)}})});var V3=I((Dar,_ae)=>{"use strict";var Gtt=Math.log,Wtt=Math.LOG10E;_ae.exports=Math.log10||function(t){return Gtt(t)*Wtt}});var bae=I(()=>{"use strict";var Ztt=J(),Ktt=V3();Ztt({target:"Math",stat:!0},{log10:Ktt})});var xae=I(()=>{"use strict";var Ytt=J(),Xtt=F3();Ytt({target:"Math",stat:!0},{log1p:Xtt})});var wae=I(()=>{"use strict";var Jtt=J(),Qtt=Math.log,ert=Math.LN2;Jtt({target:"Math",stat:!0},{log2:function(t){return Qtt(t)/ert}})});var Sae=I(()=>{"use strict";var trt=J(),rrt=XE();trt({target:"Math",stat:!0},{sign:rrt})});var Tae=I(()=>{"use strict";var nrt=J(),irt=gt(),Iae=gb(),ort=Math.abs,Eae=Math.exp,art=Math.E,srt=irt(function(){return Math.sinh(-2e-17)!==-2e-17});nrt({target:"Math",stat:!0,forced:srt},{sinh:function(t){var r=+t;return ort(r)<1?(Iae(r)-Iae(-r))/2:(Eae(r-1)-Eae(-r-1))*(art/2)}})});var Mae=I(()=>{"use strict";var lrt=J(),Aae=gb(),Cae=Math.exp;lrt({target:"Math",stat:!0},{tanh:function(t){var r=+t,n=Aae(r),i=Aae(-r);return n===1/0?1:i===1/0?-1:(n-i)/(Cae(r)+Cae(-r))}})});var Pae=I(()=>{"use strict";var urt=as();urt(Math,"Math",!0)});var Oae=I(()=>{"use strict";var crt=J(),prt=LD();crt({target:"Math",stat:!0},{trunc:prt})});var yb=I((Qar,Rae)=>{"use strict";var drt=rt();Rae.exports=drt(1 .valueOf)});var $h=I((esr,qae)=>{"use strict";qae.exports=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`});var Hh=I((tsr,kae)=>{"use strict";var frt=rt(),hrt=Yn(),mrt=br(),$3=$h(),Nae=frt("".replace),vrt=RegExp("^["+$3+"]+"),grt=RegExp("(^|[^"+$3+"])["+$3+"]+$"),U3=function(e){return function(t){var r=mrt(hrt(t));return e&1&&(r=Nae(r,vrt,"")),e&2&&(r=Nae(r,grt,"$1")),r}};kae.exports={start:U3(1),end:U3(2),trim:U3(3)}});var Vae=I(()=>{"use strict";var yrt=J(),H3=Vr(),_rt=pr(),zae=Kt(),G3=SE(),Fae=rt(),brt=yg(),Dae=qr(),xrt=kh(),wrt=la(),Srt=$c(),jae=j_(),Irt=gt(),Ert=Hc().f,Trt=Qi().f,Art=Vn().f,Crt=yb(),Mrt=Hh().trim,_b="Number",Og=zae[_b],Lae=G3[_b],W3=Og.prototype,Prt=zae.TypeError,Ort=Fae("".slice),gT=Fae("".charCodeAt),Rrt=function(e){var t=jae(e,"number");return typeof t=="bigint"?t:qrt(t)},qrt=function(e){var t=jae(e,"number"),r,n,i,o,u,f,h,y;if(Srt(t))throw new Prt("Cannot convert a Symbol value to a number");if(typeof t=="string"&&t.length>2){if(t=Mrt(t),r=gT(t,0),r===43||r===45){if(n=gT(t,2),n===88||n===120)return NaN}else if(r===48){switch(gT(t,1)){case 66:case 98:i=2,o=49;break;case 79:case 111:i=8,o=55;break;default:return+t;}for(u=Ort(t,2),f=u.length,h=0;h<f;h++)if(y=gT(u,h),y<48||y>o)return NaN;return parseInt(u,i)}}return+t},Z3=brt(_b,!Og(" 0o1")||!Og("0b1")||Og("+0x1")),Nrt=function(e){return wrt(W3,e)&&Irt(function(){Crt(e)})},yT=function(t){var r=arguments.length<1?0:Og(Rrt(t));return Nrt(this)?xrt(Object(r),this,yT):r};yT.prototype=W3;Z3&&!H3&&(W3.constructor=yT);yrt({global:!0,constructor:!0,wrap:!0,forced:Z3},{Number:yT});var Bae=function(e,t){for(var r=_rt?Ert(t):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),n=0,i;r.length>n;n++)Dae(t,i=r[n])&&!Dae(e,i)&&Art(e,i,Trt(t,i))};H3&&Lae&&Bae(G3[_b],Lae);(Z3||H3)&&Bae(G3[_b],Og)});var Uae=I(()=>{"use strict";var krt=J();krt({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{EPSILON:Math.pow(2,-52)})});var K3=I((asr,$ae)=>{"use strict";var Drt=Kt(),Lrt=Drt.isFinite;$ae.exports=Number.isFinite||function(t){return typeof t=="number"&&Lrt(t)}});var Hae=I(()=>{"use strict";var zrt=J(),Frt=K3();zrt({target:"Number",stat:!0},{isFinite:Frt})});var _T=I((usr,Gae)=>{"use strict";var jrt=Ir(),Brt=Math.floor;Gae.exports=Number.isInteger||function(t){return!jrt(t)&&isFinite(t)&&Brt(t)===t}});var Wae=I(()=>{"use strict";var Vrt=J(),Urt=_T();Vrt({target:"Number",stat:!0},{isInteger:Urt})});var Zae=I(()=>{"use strict";var $rt=J();$rt({target:"Number",stat:!0},{isNaN:function(t){return t!==t}})});var Kae=I(()=>{"use strict";var Hrt=J(),Grt=_T(),Wrt=Math.abs;Hrt({target:"Number",stat:!0},{isSafeInteger:function(t){return Grt(t)&&Wrt(t)<=9007199254740991}})});var Yae=I(()=>{"use strict";var Zrt=J();Zrt({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MAX_SAFE_INTEGER:9007199254740991})});var Xae=I(()=>{"use strict";var Krt=J();Krt({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MIN_SAFE_INTEGER:-9007199254740991})});var Y3=I((bsr,tse)=>{"use strict";var ese=Kt(),Yrt=gt(),Xrt=rt(),Jrt=br(),Qrt=Hh().trim,ent=$h(),tnt=Xrt("".charAt),bT=ese.parseFloat,Jae=ese.Symbol,Qae=Jae&&Jae.iterator,rnt=1/bT(ent+"-0")!==-1/0||Qae&&!Yrt(function(){bT(Object(Qae))});tse.exports=rnt?function(t){var r=Qrt(Jrt(t)),n=bT(r);return n===0&&tnt(r,0)==="-"?-0:n}:bT});var nse=I(()=>{"use strict";var nnt=J(),rse=Y3();nnt({target:"Number",stat:!0,forced:Number.parseFloat!==rse},{parseFloat:rse})});var xT=I((Ssr,use)=>{"use strict";var sse=Kt(),int=gt(),ont=rt(),ant=br(),snt=Hh().trim,ise=$h(),bb=sse.parseInt,ose=sse.Symbol,ase=ose&&ose.iterator,lse=/^[+-]?0x/i,lnt=ont(lse.exec),unt=bb(ise+"08")!==8||bb(ise+"0x16")!==22||ase&&!int(function(){bb(Object(ase))});use.exports=unt?function(t,r){var n=snt(ant(t));return bb(n,r>>>0||(lnt(lse,n)?16:10))}:bb});var pse=I(()=>{"use strict";var cnt=J(),cse=xT();cnt({target:"Number",stat:!0,forced:Number.parseInt!==cse},{parseInt:cse})});var vse=I(()=>{"use strict";var pnt=J(),J3=rt(),dnt=Xn(),fnt=yb(),hnt=db(),mnt=V3(),X3=gt(),vnt=RangeError,dse=String,gnt=isFinite,ynt=Math.abs,_nt=Math.floor,fse=Math.pow,bnt=Math.round,Bu=J3(1 .toExponential),xnt=J3(hnt),hse=J3("".slice),mse=Bu(-69e-12,4)==="-6.9000e-11"&&Bu(1.255,2)==="1.25e+0"&&Bu(12345,3)==="1.235e+4"&&Bu(25,0)==="3e+1",wnt=function(){return X3(function(){Bu(1,1/0)})&&X3(function(){Bu(1,-1/0)})},Snt=function(){return!X3(function(){Bu(1/0,1/0),Bu(NaN,1/0)})},Int=!mse||!wnt()||!Snt();pnt({target:"Number",proto:!0,forced:Int},{toExponential:function(t){var r=fnt(this);if(t===void 0)return Bu(r);var n=dnt(t);if(!gnt(r))return String(r);if(n<0||n>20)throw new vnt("Incorrect fraction digits");if(mse)return Bu(r,n);var i="",o="",u=0,f="",h="";if(r<0&&(i="-",r=-r),r===0)u=0,o=xnt("0",n+1);else{var y=mnt(r);u=_nt(y);var w=0,T=fse(10,u-n);w=bnt(r/T),2*r>=(2*w+1)*T&&(w+=1),w>=fse(10,n+1)&&(w/=10,u+=1),o=dse(w)}return n!==0&&(o=hse(o,0,1)+"."+hse(o,1)),u===0?(f="+",h="0"):(f=u>0?"+":"-",h=dse(ynt(u))),o+="e"+f+h,i+o}})});var wse=I(()=>{"use strict";var Ent=J(),tL=rt(),Tnt=Xn(),Ant=yb(),Cnt=db(),gse=gt(),Mnt=RangeError,bse=String,xse=Math.floor,eL=tL(Cnt),yse=tL("".slice),xb=tL(1 .toFixed),qg=function(e,t,r){return t===0?r:t%2===1?qg(e,t-1,r*e):qg(e*e,t/2,r)},Pnt=function(e){for(var t=0,r=e;r>=4096;)t+=12,r/=4096;for(;r>=2;)t+=1,r/=2;return t},Rg=function(e,t,r){for(var n=-1,i=r;++n<6;)i+=t*e[n],e[n]=i%1e7,i=xse(i/1e7)},Q3=function(e,t){for(var r=6,n=0;--r>=0;)n+=e[r],e[r]=xse(n/t),n=n%t*1e7},_se=function(e){for(var t=6,r="";--t>=0;)if(r!==""||t===0||e[t]!==0){var n=bse(e[t]);r=r===""?n:r+eL("0",7-n.length)+n}return r},Ont=gse(function(){return xb(8e-5,3)!=="0.000"||xb(.9,0)!=="1"||xb(1.255,2)!=="1.25"||xb(0xde0b6b3a7640080,0)!=="1000000000000000128"})||!gse(function(){xb({})});Ent({target:"Number",proto:!0,forced:Ont},{toFixed:function(t){var r=Ant(this),n=Tnt(t),i=[0,0,0,0,0,0],o="",u="0",f,h,y,w;if(n<0||n>20)throw new Mnt("Incorrect fraction digits");if(r!==r)return"NaN";if(r<=-1e21||r>=1e21)return bse(r);if(r<0&&(o="-",r=-r),r>1e-21)if(f=Pnt(r*qg(2,69,1))-69,h=f<0?r*qg(2,-f,1):r/qg(2,f,1),h*=4503599627370496,f=52-f,f>0){for(Rg(i,0,h),y=n;y>=7;)Rg(i,1e7,0),y-=7;for(Rg(i,qg(10,y,1),0),y=f-1;y>=23;)Q3(i,1<<23),y-=23;Q3(i,1<<y),Rg(i,1,1),Q3(i,2),u=_se(i)}else Rg(i,0,h),Rg(i,1<<-f,0),u=_se(i)+eL("0",n);return n>0?(w=u.length,u=o+(w<=n?"0."+eL("0",n-w)+u:yse(u,0,w-n)+"."+yse(u,w-n))):u=o+u,u}})});var Ese=I(()=>{"use strict";var Rnt=J(),qnt=rt(),Sse=gt(),Ise=yb(),wT=qnt(1 .toPrecision),Nnt=Sse(function(){return wT(1,void 0)!=="1"})||!Sse(function(){wT({})});Rnt({target:"Number",proto:!0,forced:Nnt},{toPrecision:function(t){return t===void 0?wT(Ise(this)):wT(Ise(this),t)}})});var nL=I((Rsr,Cse)=>{"use strict";var Tse=pr(),knt=rt(),Dnt=Dt(),Lnt=gt(),rL=Ph(),znt=G_(),Fnt=z_(),jnt=Ur(),Bnt=Uc(),Ng=Object.assign,Ase=Object.defineProperty,Vnt=knt([].concat);Cse.exports=!Ng||Lnt(function(){if(Tse&&Ng({b:1},Ng(Ase({},"a",{enumerable:!0,get:function(){Ase(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var e={},t={},r=Symbol("assign detection"),n="abcdefghijklmnopqrst";return e[r]=7,n.split("").forEach(function(i){t[i]=i}),Ng({},e)[r]!==7||rL(Ng({},t)).join("")!==n})?function(t,r){for(var n=jnt(t),i=arguments.length,o=1,u=znt.f,f=Fnt.f;i>o;)for(var h=Bnt(arguments[o++]),y=u?Vnt(rL(h),u(h)):rL(h),w=y.length,T=0,A;w>T;)A=y[T++],(!Tse||Dnt(f,h,A))&&(n[A]=h[A]);return n}:Ng});var Pse=I(()=>{"use strict";var Unt=J(),Mse=nL();Unt({target:"Object",stat:!0,arity:2,forced:Object.assign!==Mse},{assign:Mse})});var Ose=I(()=>{"use strict";var $nt=J(),Hnt=pr(),Gnt=Ci();$nt({target:"Object",stat:!0,sham:!Hnt},{create:Gnt})});var wb=I((Lsr,qse)=>{"use strict";var Wnt=Vr(),Znt=Kt(),Knt=gt(),Rse=KE();qse.exports=Wnt||!Knt(function(){if(!(Rse&&Rse<535)){var e=Math.random();__defineSetter__.call(null,e,function(){}),delete Znt[e]}})});var Nse=I(()=>{"use strict";var Ynt=J(),Xnt=pr(),Jnt=wb(),Qnt=yr(),eit=Ur(),tit=Vn();Xnt&&Ynt({target:"Object",proto:!0,forced:Jnt},{__defineGetter__:function(t,r){tit.f(eit(this),t,{get:Qnt(r),enumerable:!0,configurable:!0})}})});var Dse=I(()=>{"use strict";var rit=J(),nit=pr(),kse=_E().f;rit({target:"Object",stat:!0,forced:Object.defineProperties!==kse,sham:!nit},{defineProperties:kse})});var zse=I(()=>{"use strict";var iit=J(),oit=pr(),Lse=Vn().f;iit({target:"Object",stat:!0,forced:Object.defineProperty!==Lse,sham:!oit},{defineProperty:Lse})});var Fse=I(()=>{"use strict";var ait=J(),sit=pr(),lit=wb(),uit=yr(),cit=Ur(),pit=Vn();sit&&ait({target:"Object",proto:!0,forced:lit},{__defineSetter__:function(t,r){pit.f(cit(this),t,{set:uit(r),enumerable:!0,configurable:!0})}})});var iL=I((Gsr,$se)=>{"use strict";var Bse=pr(),dit=gt(),Vse=rt(),fit=ki(),hit=Ph(),mit=Hi(),vit=z_().f,Use=Vse(vit),git=Vse([].push),yit=Bse&&dit(function(){var e=Object.create(null);return e[2]=2,!Use(e,2)}),jse=function(e){return function(t){for(var r=mit(t),n=hit(r),i=yit&&fit(r)===null,o=n.length,u=0,f=[],h;o>u;)h=n[u++],(!Bse||(i?h in r:Use(r,h)))&&git(f,e?[h,r[h]]:r[h]);return f}};$se.exports={entries:jse(!0),values:jse(!1)}});var Hse=I(()=>{"use strict";var _it=J(),bit=iL().entries;_it({target:"Object",stat:!0},{entries:function(t){return bit(t)}})});var Gse=I(()=>{"use strict";var xit=J(),wit=np(),Sit=gt(),Iit=Ir(),Eit=Jd().onFreeze,oL=Object.freeze,Tit=Sit(function(){oL(1)});xit({target:"Object",stat:!0,forced:Tit,sham:!wit},{freeze:function(t){return oL&&Iit(t)?oL(Eit(t)):t}})});var Wse=I(()=>{"use strict";var Ait=J(),Cit=gi(),Mit=ml();Ait({target:"Object",stat:!0},{fromEntries:function(t){var r={};return Cit(t,function(n,i){Mit(r,n,i)},{AS_ENTRIES:!0}),r}})});var Yse=I(()=>{"use strict";var Pit=J(),Oit=gt(),Rit=Hi(),Zse=Qi().f,Kse=pr(),qit=!Kse||Oit(function(){Zse(1)});Pit({target:"Object",stat:!0,forced:qit,sham:!Kse},{getOwnPropertyDescriptor:function(t,r){return Zse(Rit(t),r)}})});var Xse=I(()=>{"use strict";var Nit=J(),kit=pr(),Dit=vE(),Lit=Hi(),zit=Qi(),Fit=ml();Nit({target:"Object",stat:!0,sham:!kit},{getOwnPropertyDescriptors:function(t){for(var r=Lit(t),n=zit.f,i=Dit(r),o={},u=0,f,h;i.length>u;)h=n(r,f=i[u++]),h!==void 0&&Fit(o,f,h);return o}})});var Jse=I(()=>{"use strict";var jit=J(),Bit=gt(),Vit=wE().f,Uit=Bit(function(){return!Object.getOwnPropertyNames(1)});jit({target:"Object",stat:!0,forced:Uit},{getOwnPropertyNames:Vit})});var ele=I(()=>{"use strict";var $it=J(),Hit=gt(),Git=Ur(),Qse=ki(),Wit=DE(),Zit=Hit(function(){Qse(1)});$it({target:"Object",stat:!0,forced:Zit,sham:!Wit},{getPrototypeOf:function(t){return Qse(Git(t))}})});var aL=I(()=>{"use strict";var Kit=J(),Yit=qr();Kit({target:"Object",stat:!0},{hasOwn:Yit})});var sL=I((ulr,tle)=>{"use strict";tle.exports=Object.is||function(t,r){return t===r?t!==0||1/t===1/r:t!==t&&r!==r}});var rle=I(()=>{"use strict";var Xit=J(),Jit=sL();Xit({target:"Object",stat:!0},{is:Jit})});var ile=I(()=>{"use strict";var Qit=J(),nle=hT();Qit({target:"Object",stat:!0,forced:Object.isExtensible!==nle},{isExtensible:nle})});var ale=I(()=>{"use strict";var eot=J(),tot=gt(),rot=Ir(),not=Po(),ole=dT(),lL=Object.isFrozen,iot=ole||tot(function(){lL(1)});eot({target:"Object",stat:!0,forced:iot},{isFrozen:function(t){return!rot(t)||ole&&not(t)==="ArrayBuffer"?!0:lL?lL(t):!1}})});var lle=I(()=>{"use strict";var oot=J(),aot=gt(),sot=Ir(),lot=Po(),sle=dT(),uL=Object.isSealed,uot=sle||aot(function(){uL(1)});oot({target:"Object",stat:!0,forced:uot},{isSealed:function(t){return!sot(t)||sle&&lot(t)==="ArrayBuffer"?!0:uL?uL(t):!1}})});var cle=I(()=>{"use strict";var cot=J(),pot=Ur(),ule=Ph(),dot=gt(),fot=dot(function(){ule(1)});cot({target:"Object",stat:!0,forced:fot},{keys:function(t){return ule(pot(t))}})});var ple=I(()=>{"use strict";var hot=J(),mot=pr(),vot=wb(),got=Ur(),yot=Ql(),_ot=ki(),bot=Qi().f;mot&&hot({target:"Object",proto:!0,forced:vot},{__lookupGetter__:function(t){var r=got(this),n=yot(t),i;do if(i=bot(r,n))return i.get;while(r=_ot(r))}})});var dle=I(()=>{"use strict";var xot=J(),wot=pr(),Sot=wb(),Iot=Ur(),Eot=Ql(),Tot=ki(),Aot=Qi().f;wot&&xot({target:"Object",proto:!0,forced:Sot},{__lookupSetter__:function(t){var r=Iot(this),n=Eot(t),i;do if(i=Aot(r,n))return i.set;while(r=Tot(r))}})});var fle=I(()=>{"use strict";var Cot=J(),Mot=Ir(),Pot=Jd().onFreeze,Oot=np(),Rot=gt(),cL=Object.preventExtensions,qot=Rot(function(){cL(1)});Cot({target:"Object",stat:!0,forced:qot,sham:!Oot},{preventExtensions:function(t){return cL&&Mot(t)?cL(Pot(t)):t}})});var _le=I(()=>{"use strict";var Not=pr(),kot=oi(),hle=Ir(),Dot=Ur(),Lot=Yn(),mle=Object.getPrototypeOf,vle=Object.setPrototypeOf,gle=Object.prototype,yle="__proto__";if(Not&&mle&&vle&&!(yle in gle))try{kot(gle,yle,{configurable:!0,get:function(){return mle(Dot(this))},set:function(t){var r=Lot(this);!hle(t)&&t!==null||!hle(r)||vle(r,t)}})}catch(e){}});var ble=I(()=>{"use strict";var zot=J(),Fot=Ir(),jot=Jd().onFreeze,Bot=np(),Vot=gt(),pL=Object.seal,Uot=Vot(function(){pL(1)});zot({target:"Object",stat:!0,forced:Uot,sham:!Bot},{seal:function(t){return pL&&Fot(t)?pL(jot(t)):t}})});var xle=I(()=>{"use strict";var $ot=J(),Hot=gl();$ot({target:"Object",stat:!0},{setPrototypeOf:Hot})});var Sle=I((Rlr,wle)=>{"use strict";var Got=gE(),Wot=os();wle.exports=Got?{}.toString:function(){return"[object "+Wot(this)+"]"}});var Ile=I(()=>{"use strict";var Zot=gE(),Kot=Sn(),Yot=Sle();Zot||Kot(Object.prototype,"toString",Yot,{unsafe:!0})});var Ele=I(()=>{"use strict";var Xot=J(),Jot=iL().values;Xot({target:"Object",stat:!0},{values:function(t){return Jot(t)}})});var Ale=I(()=>{"use strict";var Qot=J(),Tle=Y3();Qot({global:!0,forced:parseFloat!==Tle},{parseFloat:Tle})});var Mle=I(()=>{"use strict";var eat=J(),Cle=xT();eat({global:!0,forced:parseInt!==Cle},{parseInt:Cle})});var xl=I((Blr,Ple)=>{"use strict";var tat=TypeError;Ple.exports=function(e,t){if(e<t)throw new tat("Not enough arguments");return e}});var dL=I((Vlr,Ole)=>{"use strict";var rat=Nu();Ole.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(rat)});var Eb=I((Ulr,jle)=>{"use strict";var Fs=Kt(),nat=ua(),iat=On(),Rle=Sr(),oat=qr(),Fle=gt(),qle=BD(),aat=Zc(),Nle=B_(),sat=xl(),lat=dL(),uat=zu(),yL=Fs.setImmediate,_L=Fs.clearImmediate,cat=Fs.process,fL=Fs.Dispatch,pat=Fs.Function,kle=Fs.MessageChannel,dat=Fs.String,hL=0,Sb={},Dle="onreadystatechange",Ib,Gh,mL,vL;Fle(function(){Ib=Fs.location});var bL=function(e){if(oat(Sb,e)){var t=Sb[e];delete Sb[e],t()}},gL=function(e){return function(){bL(e)}},Lle=function(e){bL(e.data)},zle=function(e){Fs.postMessage(dat(e),Ib.protocol+"//"+Ib.host)};(!yL||!_L)&&(yL=function(t){sat(arguments.length,1);var r=Rle(t)?t:pat(t),n=aat(arguments,1);return Sb[++hL]=function(){nat(r,void 0,n)},Gh(hL),hL},_L=function(t){delete Sb[t]},uat?Gh=function(e){cat.nextTick(gL(e))}:fL&&fL.now?Gh=function(e){fL.now(gL(e))}:kle&&!lat?(mL=new kle,vL=mL.port2,mL.port1.onmessage=Lle,Gh=iat(vL.postMessage,vL)):Fs.addEventListener&&Rle(Fs.postMessage)&&!Fs.importScripts&&Ib&&Ib.protocol!=="file:"&&!Fle(zle)?(Gh=zle,Fs.addEventListener("message",Lle,!1)):Dle in Nle("script")?Gh=function(e){qle.appendChild(Nle("script"))[Dle]=function(){qle.removeChild(this),bL(e)}}:Gh=function(e){setTimeout(gL(e),0)});jle.exports={set:yL,clear:_L}});var xL=I(($lr,Vle)=>{"use strict";var Ble=function(){this.head=null,this.tail=null};Ble.prototype={add:function(e){var t={item:e,next:null},r=this.tail;r?r.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e){var t=this.head=e.next;return t===null&&(this.tail=null),e.item}}};Vle.exports=Ble});var $le=I((Hlr,Ule)=>{"use strict";var fat=Nu();Ule.exports=/ipad|iphone|ipod/i.test(fat)&&typeof Pebble!="undefined"});var Gle=I((Glr,Hle)=>{"use strict";var hat=Nu();Hle.exports=/web0s(?!.*chrome)/i.test(hat)});var AL=I((Wlr,Qle)=>{"use strict";var Wh=Kt(),Wle=On(),mat=Qi().f,wL=Eb().set,vat=xL(),gat=dL(),yat=$le(),_at=Gle(),SL=zu(),Zle=Wh.MutationObserver||Wh.WebKitMutationObserver,Kle=Wh.document,Yle=Wh.process,ST=Wh.Promise,Xle=mat(Wh,"queueMicrotask"),TL=Xle&&Xle.value,kg,IL,EL,IT,Jle;TL||(Tb=new vat,Ab=function(){var e,t;for(SL&&(e=Yle.domain)&&e.exit();t=Tb.get();)try{t()}catch(r){throw Tb.head&&kg(),r}e&&e.enter()},!gat&&!SL&&!_at&&Zle&&Kle?(IL=!0,EL=Kle.createTextNode(""),new Zle(Ab).observe(EL,{characterData:!0}),kg=function(){EL.data=IL=!IL}):!yat&&ST&&ST.resolve?(IT=ST.resolve(void 0),IT.constructor=ST,Jle=Wle(IT.then,IT),kg=function(){Jle(Ab)}):SL?kg=function(){Yle.nextTick(Ab)}:(wL=Wle(wL,Wh),kg=function(){wL(Ab)}),TL=function(e){Tb.head||kg(),Tb.add(e)});var Tb,Ab;Qle.exports=TL});var CL=I((Zlr,eue)=>{"use strict";eue.exports=function(e,t){try{arguments.length===1?console.error(e):console.error(e,t)}catch(r){}}});var Qd=I((Klr,tue)=>{"use strict";tue.exports=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}}});var Zh=I((Ylr,rue)=>{"use strict";var bat=Kt();rue.exports=bat.Promise});var ET=I((Xlr,nue)=>{"use strict";nue.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"});var ML=I((Jlr,iue)=>{"use strict";var xat=ET(),wat=zu();iue.exports=!xat&&!wat&&typeof window=="object"&&typeof document=="object"});var Dg=I((Qlr,sue)=>{"use strict";var Sat=Kt(),Cb=Zh(),Iat=Sr(),Eat=yg(),Tat=V_(),Aat=dr(),Cat=ML(),Mat=ET(),Pat=Vr(),PL=ku(),oue=Cb&&Cb.prototype,Oat=Aat("species"),OL=!1,aue=Iat(Sat.PromiseRejectionEvent),Rat=Eat("Promise",function(){var e=Tat(Cb),t=e!==String(Cb);if(!t&&PL===66||Pat&&!(oue.catch&&oue.finally))return!0;if(!PL||PL<51||!/native code/.test(e)){var r=new Cb(function(o){o(1)}),n=function(o){o(function(){},function(){})},i=r.constructor={};if(i[Oat]=n,OL=r.then(function(){})instanceof n,!OL)return!0}return!t&&(Cat||Mat)&&!aue});sue.exports={CONSTRUCTOR:Rat,REJECTION_EVENT:aue,SUBCLASSING:OL}});var Vu=I((eur,uue)=>{"use strict";var lue=yr(),qat=TypeError,Nat=function(e){var t,r;this.promise=new e(function(n,i){if(t!==void 0||r!==void 0)throw new qat("Bad Promise constructor");t=n,r=i}),this.resolve=lue(t),this.reject=lue(r)};uue.exports.f=function(e){return new Nat(e)}});var Cue=I(()=>{"use strict";var kat=J(),Dat=Vr(),MT=zu(),ef=Kt(),jg=Dt(),cue=Sn(),pue=gl(),Lat=as(),zat=Gd(),Fat=yr(),CT=Sr(),jat=Ir(),Bat=ca(),Vat=Vh(),vue=Eb().set,DL=AL(),Uat=CL(),$at=Qd(),Hat=xL(),gue=mn(),PT=Zh(),LL=Dg(),yue=Vu(),OT="Promise",_ue=LL.CONSTRUCTOR,Gat=LL.REJECTION_EVENT,Wat=LL.SUBCLASSING,RL=gue.getterFor(OT),Zat=gue.set,Lg=PT&&PT.prototype,Kh=PT,TT=Lg,bue=ef.TypeError,qL=ef.document,zL=ef.process,NL=yue.f,Kat=NL,Yat=!!(qL&&qL.createEvent&&ef.dispatchEvent),xue="unhandledrejection",Xat="rejectionhandled",due=0,wue=1,Jat=2,FL=1,Sue=2,AT,fue,Qat,hue,Iue=function(e){var t;return jat(e)&&CT(t=e.then)?t:!1},Eue=function(e,t){var r=t.value,n=t.state===wue,i=n?e.ok:e.fail,o=e.resolve,u=e.reject,f=e.domain,h,y,w;try{i?(n||(t.rejection===Sue&&tst(t),t.rejection=FL),i===!0?h=r:(f&&f.enter(),h=i(r),f&&(f.exit(),w=!0)),h===e.promise?u(new bue("Promise-chain cycle")):(y=Iue(h))?jg(y,h,o,u):o(h)):u(r)}catch(T){f&&!w&&f.exit(),u(T)}},Tue=function(e,t){e.notified||(e.notified=!0,DL(function(){for(var r=e.reactions,n;n=r.get();)Eue(n,e);e.notified=!1,t&&!e.rejection&&est(e)}))},Aue=function(e,t,r){var n,i;Yat?(n=qL.createEvent("Event"),n.promise=t,n.reason=r,n.initEvent(e,!1,!0),ef.dispatchEvent(n)):n={promise:t,reason:r},!Gat&&(i=ef["on"+e])?i(n):e===xue&&Uat("Unhandled promise rejection",r)},est=function(e){jg(vue,ef,function(){var t=e.facade,r=e.value,n=mue(e),i;if(n&&(i=$at(function(){MT?zL.emit("unhandledRejection",r,t):Aue(xue,t,r)}),e.rejection=MT||mue(e)?Sue:FL,i.error))throw i.value})},mue=function(e){return e.rejection!==FL&&!e.parent},tst=function(e){jg(vue,ef,function(){var t=e.facade;MT?zL.emit("rejectionHandled",t):Aue(Xat,t,e.value)})},zg=function(e,t,r){return function(n){e(t,n,r)}},Fg=function(e,t,r){e.done||(e.done=!0,r&&(e=r),e.value=t,e.state=Jat,Tue(e,!0))},kL=function(e,t,r){if(!e.done){e.done=!0,r&&(e=r);try{if(e.facade===t)throw new bue("Promise can't be resolved itself");var n=Iue(t);n?DL(function(){var i={done:!1};try{jg(n,t,zg(kL,i,e),zg(Fg,i,e))}catch(o){Fg(i,o,e)}}):(e.value=t,e.state=wue,Tue(e,!1))}catch(i){Fg({done:!1},i,e)}}};if(_ue&&(Kh=function(t){Bat(this,TT),Fat(t),jg(AT,this);var r=RL(this);try{t(zg(kL,r),zg(Fg,r))}catch(n){Fg(r,n)}},TT=Kh.prototype,AT=function(t){Zat(this,{type:OT,done:!1,notified:!1,parent:!1,reactions:new Hat,rejection:!1,state:due,value:void 0})},AT.prototype=cue(TT,"then",function(t,r){var n=RL(this),i=NL(Vat(this,Kh));return n.parent=!0,i.ok=CT(t)?t:!0,i.fail=CT(r)&&r,i.domain=MT?zL.domain:void 0,n.state===due?n.reactions.add(i):DL(function(){Eue(i,n)}),i.promise}),fue=function(){var e=new AT,t=RL(e);this.promise=e,this.resolve=zg(kL,t),this.reject=zg(Fg,t)},yue.f=NL=function(e){return e===Kh||e===Qat?new fue(e):Kat(e)},!Dat&&CT(PT)&&Lg!==Object.prototype)){hue=Lg.then,Wat||cue(Lg,"then",function(t,r){var n=this;return new Kh(function(i,o){jg(hue,n,i,o)}).then(t,r)},{unsafe:!0});try{delete Lg.constructor}catch(e){}pue&&pue(Lg,TT)}kat({global:!0,constructor:!0,wrap:!0,forced:_ue},{Promise:Kh});Lat(Kh,OT,!1,!0);zat(OT)});var Mb=I((nur,Mue)=>{"use strict";var rst=Zh(),nst=ib(),ist=Dg().CONSTRUCTOR;Mue.exports=ist||!nst(function(e){rst.all(e).then(void 0,function(){})})});var Pue=I(()=>{"use strict";var ost=J(),ast=Dt(),sst=yr(),lst=Vu(),ust=Qd(),cst=gi(),pst=Mb();ost({target:"Promise",stat:!0,forced:pst},{all:function(t){var r=this,n=lst.f(r),i=n.resolve,o=n.reject,u=ust(function(){var f=sst(r.resolve),h=[],y=0,w=1;cst(t,function(T){var A=y++,q=!1;w++,ast(f,r,T).then(function(z){q||(q=!0,h[A]=z,--w||i(h))},o)}),--w||i(h)});return u.error&&o(u.value),n.promise}})});var Rue=I(()=>{"use strict";var dst=J(),fst=Vr(),hst=Dg().CONSTRUCTOR,BL=Zh(),mst=gr(),vst=Sr(),gst=Sn(),Oue=BL&&BL.prototype;dst({target:"Promise",proto:!0,forced:hst,real:!0},{catch:function(e){return this.then(void 0,e)}});!fst&&vst(BL)&&(jL=mst("Promise").prototype.catch,Oue.catch!==jL&&gst(Oue,"catch",jL,{unsafe:!0}));var jL});var que=I(()=>{"use strict";var yst=J(),_st=Dt(),bst=yr(),xst=Vu(),wst=Qd(),Sst=gi(),Ist=Mb();yst({target:"Promise",stat:!0,forced:Ist},{race:function(t){var r=this,n=xst.f(r),i=n.reject,o=wst(function(){var u=bst(r.resolve);Sst(t,function(f){_st(u,r,f).then(n.resolve,i)})});return o.error&&i(o.value),n.promise}})});var Nue=I(()=>{"use strict";var Est=J(),Tst=Dt(),Ast=Vu(),Cst=Dg().CONSTRUCTOR;Est({target:"Promise",stat:!0,forced:Cst},{reject:function(t){var r=Ast.f(this);return Tst(r.reject,void 0,t),r.promise}})});var VL=I((dur,kue)=>{"use strict";var Mst=zt(),Pst=Ir(),Ost=Vu();kue.exports=function(e,t){if(Mst(e),Pst(t)&&t.constructor===e)return t;var r=Ost.f(e),n=r.resolve;return n(t),r.promise}});var zue=I(()=>{"use strict";var Rst=J(),qst=gr(),Due=Vr(),Nst=Zh(),Lue=Dg().CONSTRUCTOR,kst=VL(),Dst=qst("Promise"),Lst=Due&&!Lue;Rst({target:"Promise",stat:!0,forced:Due||Lue},{resolve:function(t){return kst(Lst&&this===Dst?Nst:this,t)}})});var Fue=I(()=>{"use strict";Cue();Pue();Rue();que();Nue();zue()});var UL=I(()=>{"use strict";var zst=J(),Fst=Dt(),jst=yr(),Bst=Vu(),Vst=Qd(),Ust=gi(),$st=Mb();zst({target:"Promise",stat:!0,forced:$st},{allSettled:function(t){var r=this,n=Bst.f(r),i=n.resolve,o=n.reject,u=Vst(function(){var f=jst(r.resolve),h=[],y=0,w=1;Ust(t,function(T){var A=y++,q=!1;w++,Fst(f,r,T).then(function(z){q||(q=!0,h[A]={status:"fulfilled",value:z},--w||i(h))},function(z){q||(q=!0,h[A]={status:"rejected",reason:z},--w||i(h))})}),--w||i(h)});return u.error&&o(u.value),n.promise}})});var $L=I(()=>{"use strict";var Hst=J(),Gst=Dt(),Wst=yr(),Zst=gr(),Kst=Vu(),Yst=Qd(),Xst=gi(),Jst=Mb(),jue="No one promise resolved";Hst({target:"Promise",stat:!0,forced:Jst},{any:function(t){var r=this,n=Zst("AggregateError"),i=Kst.f(r),o=i.resolve,u=i.reject,f=Yst(function(){var h=Wst(r.resolve),y=[],w=0,T=1,A=!1;Xst(t,function(q){var z=w++,F=!1;T++,Gst(h,r,q).then(function(N){F||A||(A=!0,o(N))},function(N){F||A||(F=!0,y[z]=N,--T||u(new n(y,jue)))})}),--T||u(new n(y,jue))});return f.error&&u(f.value),i.promise}})});var $ue=I(()=>{"use strict";var Qst=J(),elt=Vr(),RT=Zh(),tlt=gt(),Vue=gr(),Uue=Sr(),rlt=Vh(),Bue=VL(),nlt=Sn(),GL=RT&&RT.prototype,ilt=!!RT&&tlt(function(){GL.finally.call({then:function(){}},function(){})});Qst({target:"Promise",proto:!0,real:!0,forced:ilt},{finally:function(e){var t=rlt(this,Vue("Promise")),r=Uue(e);return this.then(r?function(n){return Bue(t,e()).then(function(){return n})}:e,r?function(n){return Bue(t,e()).then(function(){throw n})}:e)}});!elt&&Uue(RT)&&(HL=Vue("Promise").prototype.finally,GL.finally!==HL&&nlt(GL,"finally",HL,{unsafe:!0}));var HL});var Hue=I(()=>{"use strict";var olt=J(),alt=ua(),slt=yr(),llt=zt(),ult=gt(),clt=!ult(function(){Reflect.apply(function(){})});olt({target:"Reflect",stat:!0,forced:clt},{apply:function(t,r,n){return alt(slt(t),r,llt(n))}})});var Jue=I(()=>{"use strict";var plt=J(),dlt=gr(),WL=ua(),flt=C3(),Gue=Pg(),hlt=zt(),Wue=Ir(),mlt=Ci(),Kue=gt(),ZL=dlt("Reflect","construct"),vlt=Object.prototype,glt=[].push,Yue=Kue(function(){function e(){}return!(ZL(function(){},[],e)instanceof e)}),Xue=!Kue(function(){ZL(function(){})}),Zue=Yue||Xue;plt({target:"Reflect",stat:!0,forced:Zue,sham:Zue},{construct:function(t,r){Gue(t),hlt(r);var n=arguments.length<3?t:Gue(arguments[2]);if(Xue&&!Yue)return ZL(t,r,n);if(t===n){switch(r.length){case 0:return new t;case 1:return new t(r[0]);case 2:return new t(r[0],r[1]);case 3:return new t(r[0],r[1],r[2]);case 4:return new t(r[0],r[1],r[2],r[3]);}var i=[null];return WL(glt,i,r),new(WL(flt,t,i))}var o=n.prototype,u=mlt(Wue(o)?o:vlt),f=WL(t,u,r);return Wue(f)?f:u}})});var tce=I(()=>{"use strict";var ylt=J(),_lt=pr(),Que=zt(),blt=Ql(),ece=Vn(),xlt=gt(),wlt=xlt(function(){Reflect.defineProperty(ece.f({},1,{value:1}),1,{value:2})});ylt({target:"Reflect",stat:!0,forced:wlt,sham:!_lt},{defineProperty:function(t,r,n){Que(t);var i=blt(r);Que(n);try{return ece.f(t,i,n),!0}catch(o){return!1}}})});var rce=I(()=>{"use strict";var Slt=J(),Ilt=zt(),Elt=Qi().f;Slt({target:"Reflect",stat:!0},{deleteProperty:function(t,r){var n=Elt(Ilt(t),r);return n&&!n.configurable?!1:delete t[r]}})});var KL=I((Our,ice)=>{"use strict";var nce=qr();ice.exports=function(e){return e!==void 0&&(nce(e,"value")||nce(e,"writable"))}});var ace=I(()=>{"use strict";var Tlt=J(),Alt=Dt(),Clt=Ir(),Mlt=zt(),Plt=KL(),Olt=Qi(),Rlt=ki();function oce(e,t){var r=arguments.length<3?e:arguments[2],n,i;if(Mlt(e)===r)return e[t];if(n=Olt.f(e,t),n)return Plt(n)?n.value:n.get===void 0?void 0:Alt(n.get,r);if(Clt(i=Rlt(e)))return oce(i,t,r)}Tlt({target:"Reflect",stat:!0},{get:oce})});var sce=I(()=>{"use strict";var qlt=J(),Nlt=pr(),klt=zt(),Dlt=Qi();qlt({target:"Reflect",stat:!0,sham:!Nlt},{getOwnPropertyDescriptor:function(t,r){return Dlt.f(klt(t),r)}})});var lce=I(()=>{"use strict";var Llt=J(),zlt=zt(),Flt=ki(),jlt=DE();Llt({target:"Reflect",stat:!0,sham:!jlt},{getPrototypeOf:function(t){return Flt(zlt(t))}})});var uce=I(()=>{"use strict";var Blt=J();Blt({target:"Reflect",stat:!0},{has:function(t,r){return r in t}})});var cce=I(()=>{"use strict";var Vlt=J(),Ult=zt(),$lt=hT();Vlt({target:"Reflect",stat:!0},{isExtensible:function(t){return Ult(t),$lt(t)}})});var pce=I(()=>{"use strict";var Hlt=J(),Glt=vE();Hlt({target:"Reflect",stat:!0},{ownKeys:Glt})});var dce=I(()=>{"use strict";var Wlt=J(),Zlt=gr(),Klt=zt(),Ylt=np();Wlt({target:"Reflect",stat:!0,sham:!Ylt},{preventExtensions:function(t){Klt(t);try{var r=Zlt("Object","preventExtensions");return r&&r(t),!0}catch(n){return!1}}})});var gce=I(()=>{"use strict";var Xlt=J(),Jlt=Dt(),Qlt=zt(),fce=Ir(),eut=KL(),tut=gt(),YL=Vn(),hce=Qi(),rut=ki(),mce=ns();function vce(e,t,r){var n=arguments.length<4?e:arguments[3],i=hce.f(Qlt(e),t),o,u,f;if(!i){if(fce(u=rut(e)))return vce(u,t,r,n);i=mce(0)}if(eut(i)){if(i.writable===!1||!fce(n))return!1;if(o=hce.f(n,t)){if(o.get||o.set||o.writable===!1)return!1;o.value=r,YL.f(n,t,o)}else YL.f(n,t,mce(0,r))}else{if(f=i.set,f===void 0)return!1;Jlt(f,n,r)}return!0}var nut=tut(function(){var e=function(){},t=YL.f(new e,"a",{configurable:!0});return Reflect.set(e.prototype,"a",1,t)!==!1});Xlt({target:"Reflect",stat:!0,forced:nut},{set:vce})});var _ce=I(()=>{"use strict";var iut=J(),out=zt(),aut=p4(),yce=gl();yce&&iut({target:"Reflect",stat:!0},{setPrototypeOf:function(t,r){out(t),aut(r);try{return yce(t,r),!0}catch(n){return!1}}})});var bce=I(()=>{"use strict";var sut=J(),lut=Kt(),uut=as();sut({global:!0},{Reflect:{}});uut(lut.Reflect,"Reflect",!0)});var Bg=I((Jur,xce)=>{"use strict";var cut=Ir(),put=Po(),dut=dr(),fut=dut("match");xce.exports=function(e){var t;return cut(e)&&((t=e[fut])!==void 0?!!t:put(e)==="RegExp")}});var qT=I((Qur,wce)=>{"use strict";var hut=zt();wce.exports=function(){var e=hut(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}});var Vg=I((ecr,Ice)=>{"use strict";var mut=Dt(),vut=qr(),gut=la(),yut=qT(),Sce=RegExp.prototype;Ice.exports=function(e){var t=e.flags;return t===void 0&&!("flags"in Sce)&&!vut(e,"flags")&&gut(Sce,e)?mut(yut,e):t}});var Pb=I((tcr,Ece)=>{"use strict";var XL=gt(),_ut=Kt(),JL=_ut.RegExp,QL=XL(function(){var e=JL("a","y");return e.lastIndex=2,e.exec("abcd")!==null}),but=QL||XL(function(){return!JL("a","y").sticky}),xut=QL||XL(function(){var e=JL("^r","gy");return e.lastIndex=2,e.exec("str")!==null});Ece.exports={BROKEN_CARET:xut,MISSED_STICKY:but,UNSUPPORTED_Y:QL}});var NT=I((rcr,Tce)=>{"use strict";var wut=gt(),Sut=Kt(),Iut=Sut.RegExp;Tce.exports=wut(function(){var e=Iut(".","s");return!(e.dotAll&&e.test(`
`)&&e.flags==="s")})});var ez=I((ncr,Ace)=>{"use strict";var Eut=gt(),Tut=Kt(),Aut=Tut.RegExp;Ace.exports=Eut(function(){var e=Aut("(?<a>b)","g");return e.exec("b").groups.a!=="b"||"b".replace(e,"$<a>c")!=="bc"})});var Dce=I(()=>{"use strict";var Cut=pr(),iz=Kt(),Ob=rt(),Mut=yg(),Put=kh(),Out=Ni(),Rut=Hc().f,Cce=la(),qut=Bg(),Mce=br(),Nut=Vg(),Rce=Pb(),kut=d4(),Dut=Sn(),Lut=gt(),zut=qr(),Fut=mn().enforce,jut=Gd(),But=dr(),qce=NT(),Nce=ez(),Vut=But("match"),rf=iz.RegExp,Ug=rf.prototype,Uut=iz.SyntaxError,$ut=Ob(Ug.exec),kT=Ob("".charAt),Pce=Ob("".replace),Oce=Ob("".indexOf),Hut=Ob("".slice),Gut=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,Yh=/a/g,tz=/a/g,Wut=new rf(Yh)!==Yh,kce=Rce.MISSED_STICKY,Zut=Rce.UNSUPPORTED_Y,Kut=Cut&&(!Wut||kce||qce||Nce||Lut(function(){return tz[Vut]=!1,rf(Yh)!==Yh||rf(tz)===tz||String(rf(Yh,"i"))!=="/a/i"})),Yut=function(e){for(var t=e.length,r=0,n="",i=!1,o;r<=t;r++){if(o=kT(e,r),o==="\\"){n+=o+kT(e,++r);continue}!i&&o==="."?n+="[\\s\\S]":(o==="["?i=!0:o==="]"&&(i=!1),n+=o)}return n},Xut=function(e){for(var t=e.length,r=0,n="",i=[],o={},u=!1,f=!1,h=0,y="",w;r<=t;r++){if(w=kT(e,r),w==="\\")w+=kT(e,++r);else if(w==="]")u=!1;else if(!u)switch(!0){case w==="[":u=!0;break;case w==="(":$ut(Gut,Hut(e,r+1))&&(r+=2,f=!0),n+=w,h++;continue;case w===">"&&f:if(y===""||zut(o,y))throw new Uut("Invalid capture group name");o[y]=!0,i[i.length]=[y,h],f=!1,y="";continue;}f?y+=w:n+=w}return[n,i]};if(Mut("RegExp",Kut)){for(tf=function(t,r){var n=Cce(Ug,this),i=qut(t),o=r===void 0,u=[],f=t,h,y,w,T,A,q;if(!n&&i&&o&&t.constructor===tf)return t;if((i||Cce(Ug,t))&&(t=t.source,o&&(r=Nut(f))),t=t===void 0?"":Mce(t),r=r===void 0?"":Mce(r),f=t,qce&&("dotAll"in Yh)&&(y=!!r&&Oce(r,"s")>-1,y&&(r=Pce(r,/s/g,""))),h=r,kce&&("sticky"in Yh)&&(w=!!r&&Oce(r,"y")>-1,w&&Zut&&(r=Pce(r,/y/g,""))),Nce&&(T=Xut(t),t=T[0],u=T[1]),A=Put(rf(t,r),n?this:Ug,tf),(y||w||u.length)&&(q=Fut(A),y&&(q.dotAll=!0,q.raw=tf(Yut(t),h)),w&&(q.sticky=!0),u.length&&(q.groups=u)),t!==f)try{Out(A,"source",f===""?"(?:)":f)}catch(z){}return A},rz=Rut(rf),nz=0;rz.length>nz;)kut(tf,rf,rz[nz++]);Ug.constructor=tf,tf.prototype=Ug,Dut(iz,"RegExp",tf,{constructor:!0})}var tf,rz,nz;jut("RegExp")});var zce=I(()=>{"use strict";var Jut=pr(),Qut=NT(),ect=Po(),tct=oi(),rct=mn().get,Lce=RegExp.prototype,nct=TypeError;Jut&&Qut&&tct(Lce,"dotAll",{configurable:!0,get:function(){if(this!==Lce){if(ect(this)==="RegExp")return!!rct(this).dotAll;throw new nct("Incompatible receiver, RegExp required")}}})});var Rb=I((lcr,jce)=>{"use strict";var $g=Dt(),LT=rt(),ict=br(),oct=qT(),act=Pb(),sct=Du(),lct=Ci(),uct=mn().get,cct=NT(),pct=ez(),dct=sct("native-string-replace",String.prototype.replace),DT=RegExp.prototype.exec,az=DT,fct=LT("".charAt),hct=LT("".indexOf),mct=LT("".replace),oz=LT("".slice),sz=function(){var e=/a/,t=/b*/g;return $g(DT,e,"a"),$g(DT,t,"a"),e.lastIndex!==0||t.lastIndex!==0}(),Fce=act.BROKEN_CARET,lz=/()??/.exec("")[1]!==void 0,vct=sz||lz||Fce||cct||pct;vct&&(az=function(t){var r=this,n=uct(r),i=ict(t),o=n.raw,u,f,h,y,w,T,A;if(o)return o.lastIndex=r.lastIndex,u=$g(az,o,i),r.lastIndex=o.lastIndex,u;var q=n.groups,z=Fce&&r.sticky,F=$g(oct,r),N=r.source,L=0,B=i;if(z&&(F=mct(F,"y",""),hct(F,"g")===-1&&(F+="g"),B=oz(i,r.lastIndex),r.lastIndex>0&&(!r.multiline||r.multiline&&fct(i,r.lastIndex-1)!==`
`)&&(N="(?: "+N+")",B=" "+B,L++),f=new RegExp("^(?:"+N+")",F)),lz&&(f=new RegExp("^"+N+"$(?!\\s)",F)),sz&&(h=r.lastIndex),y=$g(DT,z?f:r,B),z?y?(y.input=oz(y.input,L),y[0]=oz(y[0],L),y.index=r.lastIndex,r.lastIndex+=y[0].length):r.lastIndex=0:sz&&y&&(r.lastIndex=r.global?y.index+y[0].length:h),lz&&y&&y.length>1&&$g(dct,y[0],f,function(){for(w=1;w<arguments.length-2;w++)arguments[w]===void 0&&(y[w]=void 0)}),y&&q)for(y.groups=T=lct(null),w=0;w<q.length;w++)A=q[w],T[A[0]]=y[A[1]];return y});jce.exports=az});var zT=I(()=>{"use strict";var gct=J(),Bce=Rb();gct({target:"RegExp",proto:!0,forced:/./.exec!==Bce},{exec:Bce})});var $ce=I(()=>{"use strict";var yct=Kt(),_ct=pr(),bct=oi(),xct=qT(),wct=gt(),Vce=yct.RegExp,Uce=Vce.prototype,Sct=_ct&&wct(function(){var e=!0;try{Vce(".","d")}catch(h){e=!1}var t={},r="",n=e?"dgimsy":"gimsy",i=function(h,y){Object.defineProperty(t,h,{get:function(){return r+=y,!0}})},o={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};e&&(o.hasIndices="d");for(var u in o)i(u,o[u]);var f=Object.getOwnPropertyDescriptor(Uce,"flags").get.call(t);return f!==n||r!==n});Sct&&bct(Uce,"flags",{configurable:!0,get:xct})});var Gce=I(()=>{"use strict";var Ict=pr(),Ect=Pb().MISSED_STICKY,Tct=Po(),Act=oi(),Cct=mn().get,Hce=RegExp.prototype,Mct=TypeError;Ict&&Ect&&Act(Hce,"sticky",{configurable:!0,get:function(){if(this!==Hce){if(Tct(this)==="RegExp")return!!Cct(this).sticky;throw new Mct("Incompatible receiver, RegExp required")}}})});var Kce=I(()=>{"use strict";zT();var Pct=J(),Wce=Dt(),Oct=Sr(),Zce=zt(),Rct=br(),qct=function(){var e=!1,t=/[ac]/;return t.exec=function(){return e=!0,/./.exec.apply(this,arguments)},t.test("abc")===!0&&e}(),Nct=/./.test;Pct({target:"RegExp",proto:!0,forced:!qct},{test:function(e){var t=Zce(this),r=Rct(e),n=t.exec;if(!Oct(n))return Wce(Nct,t,r);var i=Wce(n,t,r);return i===null?!1:(Zce(i),!0)}})});var Jce=I(()=>{"use strict";var kct=Ch().PROPER,Dct=Sn(),Lct=zt(),Yce=br(),zct=gt(),Fct=Vg(),uz="toString",jct=RegExp.prototype,Xce=jct[uz],Bct=zct(function(){return Xce.call({source:"a",flags:"b"})!=="/a/b"}),Vct=kct&&Xce.name!==uz;(Bct||Vct)&&Dct(RegExp.prototype,uz,function(){var t=Lct(this),r=Yce(t.source),n=Yce(Fct(t));return"/"+r+"/"+n},{unsafe:!0})});var Qce=I(()=>{"use strict";var Uct=hb(),$ct=z3();Uct("Set",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},$ct)});var epe=I(()=>{"use strict";Qce()});var tpe=I(()=>{"use strict";var Hct=J(),Gct=rt(),Wct=Yn(),Zct=Xn(),Kct=br(),Yct=gt(),Xct=Gct("".charAt),Jct=Yct(function(){return"\uD842\uDFB7".at(-2)!=="\uD842"});Hct({target:"String",proto:!0,forced:Jct},{at:function(t){var r=Kct(Wct(this)),n=r.length,i=Zct(t),o=i>=0?i:n+i;return o<0||o>=n?void 0:Xct(r,o)}})});var Xh=I((Ecr,ipe)=>{"use strict";var cz=rt(),Qct=Xn(),ept=br(),tpt=Yn(),rpt=cz("".charAt),rpe=cz("".charCodeAt),npt=cz("".slice),npe=function(e){return function(t,r){var n=ept(tpt(t)),i=Qct(r),o=n.length,u,f;return i<0||i>=o?e?"":void 0:(u=rpe(n,i),u<55296||u>56319||i+1===o||(f=rpe(n,i+1))<56320||f>57343?e?rpt(n,i):u:e?npt(n,i,i+2):(u-55296<<10)+(f-56320)+65536)}};ipe.exports={codeAt:npe(!1),charAt:npe(!0)}});var ope=I(()=>{"use strict";var ipt=J(),opt=Xh().codeAt;ipt({target:"String",proto:!0},{codePointAt:function(t){return opt(this,t)}})});var FT=I((Ccr,ape)=>{"use strict";var apt=Bg(),spt=TypeError;ape.exports=function(e){if(apt(e))throw new spt("The method doesn't accept regular expressions");return e}});var jT=I((Mcr,spe)=>{"use strict";var lpt=dr(),upt=lpt("match");spe.exports=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[upt]=!1,"/./"[e](t)}catch(n){}}return!1}});var dpe=I(()=>{"use strict";var cpt=J(),cpe=Gc(),ppt=Qi().f,dpt=is(),lpe=br(),fpt=FT(),hpt=Yn(),mpt=jT(),vpt=Vr(),upe=cpe("".endsWith),gpt=cpe("".slice),ypt=Math.min,ppe=mpt("endsWith"),_pt=!vpt&&!ppe&&!!function(){var e=ppt(String.prototype,"endsWith");return e&&!e.writable}();cpt({target:"String",proto:!0,forced:!_pt&&!ppe},{endsWith:function(t){var r=lpe(hpt(this));fpt(t);var n=arguments.length>1?arguments[1]:void 0,i=r.length,o=n===void 0?i:ypt(dpt(n),i),u=lpe(t);return upe?upe(r,u,o):gpt(r,o-u.length,o)===u}})});var mpe=I(()=>{"use strict";var bpt=J(),xpt=rt(),wpt=hl(),Spt=RangeError,fpe=String.fromCharCode,hpe=String.fromCodePoint,Ipt=xpt([].join),Ept=!!hpe&&hpe.length!==1;bpt({target:"String",stat:!0,arity:1,forced:Ept},{fromCodePoint:function(t){for(var r=[],n=arguments.length,i=0,o;n>i;){if(o=+arguments[i++],wpt(o,1114111)!==o)throw new Spt(o+" is not a valid code point");r[i]=o<65536?fpe(o):fpe(((o-=65536)>>10)+55296,o%1024+56320)}return Ipt(r,"")}})});var gpe=I(()=>{"use strict";var Tpt=J(),Apt=rt(),Cpt=FT(),Mpt=Yn(),vpe=br(),Ppt=jT(),Opt=Apt("".indexOf);Tpt({target:"String",proto:!0,forced:!Ppt("includes")},{includes:function(t){return!!~Opt(vpe(Mpt(this)),vpe(Cpt(t)),arguments.length>1?arguments[1]:void 0)}})});var pz=I(()=>{"use strict";var Rpt=J(),qpt=rt(),Npt=Yn(),kpt=br(),ype=qpt("".charCodeAt);Rpt({target:"String",proto:!0},{isWellFormed:function(){for(var t=kpt(Npt(this)),r=t.length,n=0;n<r;n++){var i=ype(t,n);if((i&63488)===55296&&(i>=56320||++n>=r||(ype(t,n)&64512)!==56320))return!1}return!0}})});var dz=I(()=>{"use strict";var Dpt=Xh().charAt,Lpt=br(),bpe=mn(),zpt=HE(),_pe=Oo(),xpe="String Iterator",Fpt=bpe.set,jpt=bpe.getterFor(xpe);zpt(String,"String",function(e){Fpt(this,{type:xpe,string:Lpt(e),index:0})},function(){var t=jpt(this),r=t.string,n=t.index,i;return n>=r.length?_pe(void 0,!0):(i=Dpt(r,n),t.index+=i.length,_pe(i,!1))})});var qb=I((jcr,Tpe)=>{"use strict";zT();var wpe=Gc(),Spe=Sn(),Bpt=Rb(),Ipe=gt(),Epe=dr(),Vpt=Ni(),Upt=Epe("species"),fz=RegExp.prototype;Tpe.exports=function(e,t,r,n){var i=Epe(e),o=!Ipe(function(){var y={};return y[i]=function(){return 7},""[e](y)!==7}),u=o&&!Ipe(function(){var y=!1,w=/a/;return e==="split"&&(w={},w.constructor={},w.constructor[Upt]=function(){return w},w.flags="",w[i]=/./[i]),w.exec=function(){return y=!0,null},w[i](""),!y});if(!o||!u||r){var f=wpe(/./[i]),h=t(i,""[e],function(y,w,T,A,q){var z=wpe(y),F=w.exec;return F===Bpt||F===fz.exec?o&&!q?{done:!0,value:f(w,T,A)}:{done:!0,value:z(T,w,A)}:{done:!1}});Spe(String.prototype,e,h[0]),Spe(fz,i,h[1])}n&&Vpt(fz[i],"sham",!0)}});var Nb=I((Bcr,Ape)=>{"use strict";var $pt=Xh().charAt;Ape.exports=function(e,t,r){return t+(r?$pt(e,t).length:1)}});var Hg=I((Vcr,Mpe)=>{"use strict";var Cpe=Dt(),Hpt=zt(),Gpt=Sr(),Wpt=Po(),Zpt=Rb(),Kpt=TypeError;Mpe.exports=function(e,t){var r=e.exec;if(Gpt(r)){var n=Cpe(r,e,t);return n!==null&&Hpt(n),n}if(Wpt(e)==="RegExp")return Cpe(Zpt,e,t);throw new Kpt("RegExp#exec called on incompatible receiver")}});var Ope=I(()=>{"use strict";var Ypt=Dt(),Xpt=qb(),Jpt=zt(),Qpt=qi(),edt=is(),hz=br(),tdt=Yn(),rdt=Ai(),ndt=Nb(),Ppe=Hg();Xpt("match",function(e,t,r){return[function(i){var o=tdt(this),u=Qpt(i)?void 0:rdt(i,e);return u?Ypt(u,i,o):new RegExp(i)[e](hz(o))},function(n){var i=Jpt(this),o=hz(n),u=r(t,i,o);if(u.done)return u.value;if(!i.global)return Ppe(i,o);var f=i.unicode;i.lastIndex=0;for(var h=[],y=0,w;(w=Ppe(i,o))!==null;){var T=hz(w[0]);h[y]=T,T===""&&(i.lastIndex=ndt(o,edt(i.lastIndex),f)),y++}return y===0?null:h}]})});var _z=I(()=>{"use strict";var idt=J(),Rpe=Dt(),kpe=Gc(),odt=$d(),BT=Oo(),qpe=Yn(),Dpe=is(),kb=br(),adt=zt(),sdt=qi(),ldt=Po(),udt=Bg(),Lpe=Vg(),cdt=Ai(),pdt=Sn(),ddt=gt(),fdt=dr(),hdt=Vh(),mdt=Nb(),vdt=Hg(),zpe=mn(),vz=Vr(),VT=fdt("matchAll"),Fpe="RegExp String",jpe=Fpe+" Iterator",gdt=zpe.set,ydt=zpe.getterFor(jpe),Npe=RegExp.prototype,_dt=TypeError,gz=kpe("".indexOf),UT=kpe("".matchAll),mz=!!UT&&!ddt(function(){UT("a",/./)}),bdt=odt(function(t,r,n,i){gdt(this,{type:jpe,regexp:t,string:r,global:n,unicode:i,done:!1})},Fpe,function(){var t=ydt(this);if(t.done)return BT(void 0,!0);var r=t.regexp,n=t.string,i=vdt(r,n);return i===null?(t.done=!0,BT(void 0,!0)):t.global?(kb(i[0])===""&&(r.lastIndex=mdt(n,Dpe(r.lastIndex),t.unicode)),BT(i,!1)):(t.done=!0,BT(i,!1))}),yz=function(e){var t=adt(this),r=kb(e),n=hdt(t,RegExp),i=kb(Lpe(t)),o,u,f;return o=new n(n===RegExp?t.source:t,i),u=!!~gz(i,"g"),f=!!~gz(i,"u"),o.lastIndex=Dpe(t.lastIndex),new bdt(o,r,u,f)};idt({target:"String",proto:!0,forced:mz},{matchAll:function(t){var r=qpe(this),n,i,o,u;if(sdt(t)){if(mz)return UT(r,t)}else{if(udt(t)&&(n=kb(qpe(Lpe(t))),!~gz(n,"g")))throw new _dt("`.matchAll` does not allow non-global regexes");if(mz)return UT(r,t);if(o=cdt(t,VT),o===void 0&&vz&&ldt(t)==="RegExp"&&(o=yz),o)return Rpe(o,t,r)}return i=kb(r),u=new RegExp(t,"g"),vz?Rpe(yz,u,i):u[VT](i)}});vz||VT in Npe||pdt(Npe,VT,yz)});var bz=I((Wcr,Bpe)=>{"use strict";var xdt=Nu();Bpe.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(xdt)});var Vpe=I(()=>{"use strict";var wdt=J(),Sdt=pT().end,Idt=bz();wdt({target:"String",proto:!0,forced:Idt},{padEnd:function(t){return Sdt(this,t,arguments.length>1?arguments[1]:void 0)}})});var Upe=I(()=>{"use strict";var Edt=J(),Tdt=pT().start,Adt=bz();Edt({target:"String",proto:!0,forced:Adt},{padStart:function(t){return Tdt(this,t,arguments.length>1?arguments[1]:void 0)}})});var Wpe=I(()=>{"use strict";var Cdt=J(),Gpe=rt(),Mdt=Hi(),Pdt=Ur(),$pe=br(),Odt=Wr(),Hpe=Gpe([].push),Rdt=Gpe([].join);Cdt({target:"String",stat:!0},{raw:function(t){var r=Mdt(Pdt(t).raw),n=Odt(r);if(!n)return"";for(var i=arguments.length,o=[],u=0;;){if(Hpe(o,$pe(r[u++])),u===n)return Rdt(o,"");u<i&&Hpe(o,$pe(arguments[u]))}}})});var Zpe=I(()=>{"use strict";var qdt=J(),Ndt=db();qdt({target:"String",proto:!0},{repeat:Ndt})});var Iz=I((rpr,Kpe)=>{"use strict";var Sz=rt(),kdt=Ur(),Ddt=Math.floor,xz=Sz("".charAt),Ldt=Sz("".replace),wz=Sz("".slice),zdt=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,Fdt=/\$([$&'`]|\d{1,2})/g;Kpe.exports=function(e,t,r,n,i,o){var u=r+e.length,f=n.length,h=Fdt;return i!==void 0&&(i=kdt(i),h=zdt),Ldt(o,h,function(y,w){var T;switch(xz(w,0)){case"$":return"$";case"&":return e;case"`":return wz(t,0,r);case"'":return wz(t,u);case"<":T=i[wz(w,1,-1)];break;default:var A=+w;if(A===0)return y;if(A>f){var q=Ddt(A/10);return q===0?y:q<=f?n[q-1]===void 0?xz(w,1):n[q-1]+xz(w,1):y}T=n[A-1];}return T===void 0?"":T})}});var ede=I(()=>{"use strict";var jdt=ua(),Ype=Dt(),$T=rt(),Bdt=qb(),Vdt=gt(),Udt=zt(),$dt=Sr(),Hdt=qi(),Gdt=Xn(),Wdt=is(),Gg=br(),Zdt=Yn(),Kdt=Nb(),Ydt=Ai(),Xdt=Iz(),Jdt=Hg(),Qdt=dr(),Tz=Qdt("replace"),eft=Math.max,tft=Math.min,rft=$T([].concat),Ez=$T([].push),Xpe=$T("".indexOf),Jpe=$T("".slice),nft=function(e){return e===void 0?e:String(e)},ift=function(){return"a".replace(/./,"$0")==="$0"}(),Qpe=function(){return /./[Tz]?/./[Tz]("a","$0")==="":!1}(),oft=!Vdt(function(){var e=/./;return e.exec=function(){var t=[];return t.groups={a:"7"},t},"".replace(e,"$<a>")!=="7"});Bdt("replace",function(e,t,r){var n=Qpe?"$":"$0";return[function(o,u){var f=Zdt(this),h=Hdt(o)?void 0:Ydt(o,Tz);return h?Ype(h,o,f,u):Ype(t,Gg(f),o,u)},function(i,o){var u=Udt(this),f=Gg(i);if(typeof o=="string"&&Xpe(o,n)===-1&&Xpe(o,"$<")===-1){var h=r(t,u,f,o);if(h.done)return h.value}var y=$dt(o);y||(o=Gg(o));var w=u.global,T;w&&(T=u.unicode,u.lastIndex=0);for(var A=[],q;q=Jdt(u,f),!(q===null||(Ez(A,q),!w));){var z=Gg(q[0]);z===""&&(u.lastIndex=Kdt(f,Wdt(u.lastIndex),T))}for(var F="",N=0,L=0;L<A.length;L++){q=A[L];for(var B=Gg(q[0]),Z=eft(tft(Gdt(q.index),f.length),0),te=[],ue,ce=1;ce<q.length;ce++)Ez(te,nft(q[ce]));var ye=q.groups;if(y){var Ne=rft([B],te,Z,f);ye!==void 0&&Ez(Ne,ye),ue=Gg(jdt(o,void 0,Ne))}else ue=Xdt(B,f,Z,te,ye,o);Z>=N&&(F+=Jpe(f,N,Z)+ue,N=Z+B.length)}return F+Jpe(f,N)}]},!oft||!ift||Qpe)});var Cz=I(()=>{"use strict";var aft=J(),sft=Dt(),Az=rt(),tde=Yn(),lft=Sr(),uft=qi(),cft=Bg(),Wg=br(),pft=Ai(),dft=Vg(),fft=Iz(),hft=dr(),mft=Vr(),vft=hft("replace"),gft=TypeError,ide=Az("".indexOf),yft=Az("".replace),rde=Az("".slice),_ft=Math.max,nde=function(e,t,r){return r>e.length?-1:t===""?r:ide(e,t,r)};aft({target:"String",proto:!0},{replaceAll:function(t,r){var n=tde(this),i,o,u,f,h,y,w,T,A,q=0,z=0,F="";if(!uft(t)){if(i=cft(t),i&&(o=Wg(tde(dft(t))),!~ide(o,"g")))throw new gft("`.replaceAll` does not allow non-global regexes");if(u=pft(t,vft),u)return sft(u,t,n,r);if(mft&&i)return yft(Wg(n),t,r)}for(f=Wg(n),h=Wg(t),y=lft(r),y||(r=Wg(r)),w=h.length,T=_ft(1,w),q=nde(f,h,0);q!==-1;)A=y?Wg(r(h,q,f)):fft(h,f,q,[],void 0,r),F+=rde(f,z,q)+A,z=q+w,q=nde(f,h,q+T);return z<f.length&&(F+=rde(f,z)),F}})});var sde=I(()=>{"use strict";var bft=Dt(),xft=qb(),wft=zt(),Sft=qi(),Ift=Yn(),ode=sL(),ade=br(),Eft=Ai(),Tft=Hg();xft("search",function(e,t,r){return[function(i){var o=Ift(this),u=Sft(i)?void 0:Eft(i,e);return u?bft(u,i,o):new RegExp(i)[e](ade(o))},function(n){var i=wft(this),o=ade(n),u=r(t,i,o);if(u.done)return u.value;var f=i.lastIndex;ode(f,0)||(i.lastIndex=0);var h=Tft(i,o);return ode(i.lastIndex,f)||(i.lastIndex=f),h===null?-1:h.index}]})});var fde=I(()=>{"use strict";var Aft=ua(),Db=Dt(),Pz=rt(),Cft=qb(),Mft=zt(),Pft=qi(),Oft=Bg(),lde=Yn(),Rft=Vh(),qft=Nb(),Nft=is(),Mz=br(),kft=Ai(),ude=Oh(),cde=Hg(),Dft=Rb(),Lft=Pb(),zft=gt(),Zg=Lft.UNSUPPORTED_Y,pde=4294967295,Fft=Math.min,dde=[].push,jft=Pz(/./.exec),Kg=Pz(dde),Lb=Pz("".slice),Bft=!zft(function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r="ab".split(e);return r.length!==2||r[0]!=="a"||r[1]!=="b"});Cft("split",function(e,t,r){var n;return"abbc".split(/(b)*/)[1]==="c"||"test".split(/(?:)/,-1).length!==4||"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||".".split(/()()/).length>1||"".split(/.?/).length?n=function(i,o){var u=Mz(lde(this)),f=o===void 0?pde:o>>>0;if(f===0)return[];if(i===void 0)return[u];if(!Oft(i))return Db(t,u,i,f);for(var h=[],y=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.unicode?"u":"")+(i.sticky?"y":""),w=0,T=new RegExp(i.source,y+"g"),A,q,z;(A=Db(Dft,T,u))&&(q=T.lastIndex,!(q>w&&(Kg(h,Lb(u,w,A.index)),A.length>1&&A.index<u.length&&Aft(dde,h,ude(A,1)),z=A[0].length,w=q,h.length>=f)));)T.lastIndex===A.index&&T.lastIndex++;return w===u.length?(z||!jft(T,""))&&Kg(h,""):Kg(h,Lb(u,w)),h.length>f?ude(h,0,f):h}:"0".split(void 0,0).length?n=function(i,o){return i===void 0&&o===0?[]:Db(t,this,i,o)}:n=t,[function(o,u){var f=lde(this),h=Pft(o)?void 0:kft(o,e);return h?Db(h,o,f,u):Db(n,Mz(f),o,u)},function(i,o){var u=Mft(this),f=Mz(i),h=r(n,u,f,o,n!==t);if(h.done)return h.value;var y=Rft(u,RegExp),w=u.unicode,T=(u.ignoreCase?"i":"")+(u.multiline?"m":"")+(u.unicode?"u":"")+(Zg?"g":"y"),A=new y(Zg?"^(?:"+u.source+")":u,T),q=o===void 0?pde:o>>>0;if(q===0)return[];if(f.length===0)return cde(A,f)===null?[f]:[];for(var z=0,F=0,N=[];F<f.length;){A.lastIndex=Zg?0:F;var L=cde(A,Zg?Lb(f,F):f),B;if(L===null||(B=Fft(Nft(A.lastIndex+(Zg?F:0)),f.length))===z)F=qft(f,F,w);else{if(Kg(N,Lb(f,z,F)),N.length===q)return N;for(var Z=1;Z<=L.length-1;Z++)if(Kg(N,L[Z]),N.length===q)return N;F=z=B}}return Kg(N,Lb(f,z)),N}]},!Bft,Zg)});var yde=I(()=>{"use strict";var Vft=J(),vde=Gc(),Uft=Qi().f,$ft=is(),hde=br(),Hft=FT(),Gft=Yn(),Wft=jT(),Zft=Vr(),mde=vde("".startsWith),Kft=vde("".slice),Yft=Math.min,gde=Wft("startsWith"),Xft=!Zft&&!gde&&!!function(){var e=Uft(String.prototype,"startsWith");return e&&!e.writable}();Vft({target:"String",proto:!0,forced:!Xft&&!gde},{startsWith:function(t){var r=hde(Gft(this));Hft(t);var n=$ft(Yft(arguments.length>1?arguments[1]:void 0,r.length)),i=hde(t);return mde?mde(r,i,n):Kft(r,n,n+i.length)===i}})});var bde=I(()=>{"use strict";var Jft=J(),Qft=rt(),eht=Yn(),_de=Xn(),tht=br(),rht=Qft("".slice),nht=Math.max,iht=Math.min,oht=!"".substr||"ab".substr(-1)!=="b";Jft({target:"String",proto:!0,forced:oht},{substr:function(t,r){var n=tht(eht(this)),i=n.length,o=_de(t),u,f;return o===1/0&&(o=0),o<0&&(o=nht(i+o,0)),u=r===void 0?i:_de(r),u<=0||u===1/0?"":(f=iht(o+u,i),o>=f?"":rht(n,o,f))}})});var Nz=I(()=>{"use strict";var aht=J(),Sde=Dt(),qz=rt(),sht=Yn(),lht=br(),uht=gt(),cht=Array,Oz=qz("".charAt),xde=qz("".charCodeAt),pht=qz([].join),Rz="".toWellFormed,dht="\uFFFD",wde=Rz&&uht(function(){return Sde(Rz,1)!=="1"});aht({target:"String",proto:!0,forced:wde},{toWellFormed:function(){var t=lht(sht(this));if(wde)return Sde(Rz,t);for(var r=t.length,n=cht(r),i=0;i<r;i++){var o=xde(t,i);(o&63488)!==55296?n[i]=Oz(t,i):o>=56320||i+1>=r||(xde(t,i+1)&64512)!==56320?n[i]=dht:(n[i]=Oz(t,i),n[++i]=Oz(t,i))}return pht(n,"")}})});var HT=I((gpr,Tde)=>{"use strict";var fht=Ch().PROPER,hht=gt(),Ide=$h(),Ede="\u200B\x85\u180E";Tde.exports=function(e){return hht(function(){return!!Ide[e]()||Ede[e]()!==Ede||fht&&Ide[e].name!==e})}});var Ade=I(()=>{"use strict";var mht=J(),vht=Hh().trim,ght=HT();mht({target:"String",proto:!0,forced:ght("trim")},{trim:function(){return vht(this)}})});var kz=I((bpr,Cde)=>{"use strict";var yht=Hh().end,_ht=HT();Cde.exports=_ht("trimEnd")?function(){return yht(this)}:"".trimEnd});var Pde=I(()=>{"use strict";var bht=J(),Mde=kz();bht({target:"String",proto:!0,name:"trimEnd",forced:"".trimRight!==Mde},{trimRight:Mde})});var Rde=I(()=>{"use strict";Pde();var xht=J(),Ode=kz();xht({target:"String",proto:!0,name:"trimEnd",forced:"".trimEnd!==Ode},{trimEnd:Ode})});var Dz=I((Epr,qde)=>{"use strict";var wht=Hh().start,Sht=HT();qde.exports=Sht("trimStart")?function(){return wht(this)}:"".trimStart});var kde=I(()=>{"use strict";var Iht=J(),Nde=Dz();Iht({target:"String",proto:!0,name:"trimStart",forced:"".trimLeft!==Nde},{trimLeft:Nde})});var Lde=I(()=>{"use strict";kde();var Eht=J(),Dde=Dz();Eht({target:"String",proto:!0,name:"trimStart",forced:"".trimStart!==Dde},{trimStart:Dde})});var us=I((Ppr,Fde)=>{"use strict";var Tht=rt(),Aht=Yn(),zde=br(),Cht=/"/g,Mht=Tht("".replace);Fde.exports=function(e,t,r,n){var i=zde(Aht(e)),o="<"+t;return r!==""&&(o+=" "+r+"=\""+Mht(zde(n),Cht,"&quot;")+"\""),o+">"+i+"</"+t+">"}});var cs=I((Opr,jde)=>{"use strict";var Pht=gt();jde.exports=function(e){return Pht(function(){var t=""[e]("\"");return t!==t.toLowerCase()||t.split("\"").length>3})}});var Bde=I(()=>{"use strict";var Oht=J(),Rht=us(),qht=cs();Oht({target:"String",proto:!0,forced:qht("anchor")},{anchor:function(t){return Rht(this,"a","name",t)}})});var Vde=I(()=>{"use strict";var Nht=J(),kht=us(),Dht=cs();Nht({target:"String",proto:!0,forced:Dht("big")},{big:function(){return kht(this,"big","","")}})});var Ude=I(()=>{"use strict";var Lht=J(),zht=us(),Fht=cs();Lht({target:"String",proto:!0,forced:Fht("blink")},{blink:function(){return zht(this,"blink","","")}})});var $de=I(()=>{"use strict";var jht=J(),Bht=us(),Vht=cs();jht({target:"String",proto:!0,forced:Vht("bold")},{bold:function(){return Bht(this,"b","","")}})});var Hde=I(()=>{"use strict";var Uht=J(),$ht=us(),Hht=cs();Uht({target:"String",proto:!0,forced:Hht("fixed")},{fixed:function(){return $ht(this,"tt","","")}})});var Gde=I(()=>{"use strict";var Ght=J(),Wht=us(),Zht=cs();Ght({target:"String",proto:!0,forced:Zht("fontcolor")},{fontcolor:function(t){return Wht(this,"font","color",t)}})});var Wde=I(()=>{"use strict";var Kht=J(),Yht=us(),Xht=cs();Kht({target:"String",proto:!0,forced:Xht("fontsize")},{fontsize:function(t){return Yht(this,"font","size",t)}})});var Zde=I(()=>{"use strict";var Jht=J(),Qht=us(),emt=cs();Jht({target:"String",proto:!0,forced:emt("italics")},{italics:function(){return Qht(this,"i","","")}})});var Kde=I(()=>{"use strict";var tmt=J(),rmt=us(),nmt=cs();tmt({target:"String",proto:!0,forced:nmt("link")},{link:function(t){return rmt(this,"a","href",t)}})});var Yde=I(()=>{"use strict";var imt=J(),omt=us(),amt=cs();imt({target:"String",proto:!0,forced:amt("small")},{small:function(){return omt(this,"small","","")}})});var Xde=I(()=>{"use strict";var smt=J(),lmt=us(),umt=cs();smt({target:"String",proto:!0,forced:umt("strike")},{strike:function(){return lmt(this,"strike","","")}})});var Jde=I(()=>{"use strict";var cmt=J(),pmt=us(),dmt=cs();cmt({target:"String",proto:!0,forced:dmt("sub")},{sub:function(){return pmt(this,"sub","","")}})});var Qde=I(()=>{"use strict";var fmt=J(),hmt=us(),mmt=cs();fmt({target:"String",proto:!0,forced:mmt("sup")},{sup:function(){return hmt(this,"sup","","")}})});var GT=I((idr,tfe)=>{"use strict";var efe=Kt(),Lz=gt(),vmt=ib(),gmt=Nr().NATIVE_ARRAY_BUFFER_VIEWS,ymt=efe.ArrayBuffer,Jh=efe.Int8Array;tfe.exports=!gmt||!Lz(function(){Jh(1)})||!Lz(function(){new Jh(-1)})||!vmt(function(e){new Jh,new Jh(null),new Jh(1.5),new Jh(e)},!0)||Lz(function(){return new Jh(new ymt(2),1,void 0).length!==1})});var Yg=I((odr,rfe)=>{"use strict";var _mt=Xn(),bmt=RangeError;rfe.exports=function(e){var t=_mt(e);if(t<0)throw new bmt("The argument can't be less than 0");return t}});var zz=I((adr,nfe)=>{"use strict";var xmt=Yg(),wmt=RangeError;nfe.exports=function(e,t){var r=xmt(e);if(r%t)throw new wmt("Wrong offset");return r}});var Fz=I((sdr,ife)=>{"use strict";var Smt=Math.round;ife.exports=function(e){var t=Smt(e);return t<0?0:t>255?255:t&255}});var WT=I((ldr,ofe)=>{"use strict";var Imt=os();ofe.exports=function(e){var t=Imt(e);return t==="BigInt64Array"||t==="BigUint64Array"}});var zb=I((udr,afe)=>{"use strict";var Emt=j_(),Tmt=TypeError;afe.exports=function(e){var t=Emt(e,"number");if(typeof t=="number")throw new Tmt("Can't convert number to bigint");return BigInt(t)}});var jz=I((cdr,sfe)=>{"use strict";var Amt=On(),Cmt=Dt(),Mmt=Pg(),Pmt=Ur(),Omt=Wr(),Rmt=Vd(),qmt=Yc(),Nmt=LE(),kmt=WT(),Dmt=Nr().aTypedArrayConstructor,Lmt=zb();sfe.exports=function(t){var r=Mmt(this),n=Pmt(t),i=arguments.length,o=i>1?arguments[1]:void 0,u=o!==void 0,f=qmt(n),h,y,w,T,A,q,z,F;if(f&&!Nmt(f))for(z=Rmt(n,f),F=z.next,n=[];!(q=Cmt(F,z)).done;)n.push(q.value);for(u&&i>2&&(o=Amt(o,arguments[2])),y=Omt(n),w=new(Dmt(r))(y),T=kmt(w),h=0;y>h;h++)A=u?o(n[h],h):n[h],w[h]=T?Lmt(A):+A;return w}});var Uu=I((pdr,Wz)=>{"use strict";var lfe=J(),_fe=Kt(),ufe=Dt(),zmt=pr(),Fmt=GT(),Xg=Nr(),bfe=pb(),cfe=ca(),jmt=ns(),Fb=Ni(),Bmt=_T(),Vmt=is(),pfe=Ig(),Bz=zz(),Umt=Fz(),xfe=Ql(),jb=qr(),$mt=os(),$z=Ir(),Hmt=$c(),Gmt=Ci(),Wmt=la(),ZT=gl(),Zmt=Hc().f,dfe=jz(),Kmt=Mi().forEach,Ymt=Gd(),Xmt=oi(),wfe=Vn(),Sfe=Qi(),Zz=mn(),Jmt=kh(),Hz=Zz.get,Qmt=Zz.set,evt=Zz.enforce,Ife=wfe.f,tvt=Sfe.f,Vz=_fe.RangeError,Efe=bfe.ArrayBuffer,rvt=Efe.prototype,nvt=bfe.DataView,KT=Xg.NATIVE_ARRAY_BUFFER_VIEWS,ffe=Xg.TYPED_ARRAY_TAG,hfe=Xg.TypedArray,Bb=Xg.TypedArrayPrototype,ivt=Xg.aTypedArrayConstructor,Gz=Xg.isTypedArray,YT="BYTES_PER_ELEMENT",Uz="Wrong length",mfe=function(e,t){ivt(e);for(var r=0,n=t.length,i=new e(n);n>r;)i[r]=t[r++];return i},XT=function(e,t){Xmt(e,t,{configurable:!0,get:function(){return Hz(this)[t]}})},vfe=function(e){var t;return Wmt(rvt,e)||(t=$mt(e))==="ArrayBuffer"||t==="SharedArrayBuffer"},Tfe=function(e,t){return Gz(e)&&!Hmt(t)&&t in e&&Bmt(+t)&&t>=0},gfe=function(t,r){return r=xfe(r),Tfe(t,r)?jmt(2,t[r]):tvt(t,r)},yfe=function(t,r,n){return r=xfe(r),Tfe(t,r)&&$z(n)&&jb(n,"value")&&!jb(n,"get")&&!jb(n,"set")&&!n.configurable&&(!jb(n,"writable")||n.writable)&&(!jb(n,"enumerable")||n.enumerable)?(t[r]=n.value,t):Ife(t,r,n)};zmt?(KT||(Sfe.f=gfe,wfe.f=yfe,XT(Bb,"buffer"),XT(Bb,"byteOffset"),XT(Bb,"byteLength"),XT(Bb,"length")),lfe({target:"Object",stat:!0,forced:!KT},{getOwnPropertyDescriptor:gfe,defineProperty:yfe}),Wz.exports=function(e,t,r){var n=e.match(/\d+/)[0]/8,i=e+(r?"Clamped":"")+"Array",o="get"+e,u="set"+e,f=_fe[i],h=f,y=h&&h.prototype,w={},T=function(F,N){var L=Hz(F);return L.view[o](N*n+L.byteOffset,!0)},A=function(F,N,L){var B=Hz(F);B.view[u](N*n+B.byteOffset,r?Umt(L):L,!0)},q=function(F,N){Ife(F,N,{get:function(){return T(this,N)},set:function(L){return A(this,N,L)},enumerable:!0})};KT?Fmt&&(h=t(function(F,N,L,B){return cfe(F,y),Jmt(function(){return $z(N)?vfe(N)?B!==void 0?new f(N,Bz(L,n),B):L!==void 0?new f(N,Bz(L,n)):new f(N):Gz(N)?mfe(h,N):ufe(dfe,h,N):new f(pfe(N))}(),F,h)}),ZT&&ZT(h,hfe),Kmt(Zmt(f),function(F){F in h||Fb(h,F,f[F])}),h.prototype=y):(h=t(function(F,N,L,B){cfe(F,y);var Z=0,te=0,ue,ce,ye;if(!$z(N))ye=pfe(N),ce=ye*n,ue=new Efe(ce);else if(vfe(N)){ue=N,te=Bz(L,n);var Ne=N.byteLength;if(B===void 0){if(Ne%n)throw new Vz(Uz);if(ce=Ne-te,ce<0)throw new Vz(Uz)}else if(ce=Vmt(B)*n,ce+te>Ne)throw new Vz(Uz);ye=ce/n}else return Gz(N)?mfe(h,N):ufe(dfe,h,N);for(Qmt(F,{buffer:ue,byteOffset:te,byteLength:ce,length:ye,view:new nvt(ue)});Z<ye;)q(F,Z++)}),ZT&&ZT(h,hfe),y=h.prototype=Gmt(Bb)),y.constructor!==h&&Fb(y,"constructor",h),evt(y).TypedArrayConstructor=h,ffe&&Fb(y,ffe,i);var z=h!==f;w[i]=h,lfe({global:!0,constructor:!0,forced:z,sham:!KT},w),YT in h||Fb(h,YT,n),YT in y||Fb(y,YT,n),Ymt(i)}):Wz.exports=function(){}});var Afe=I(()=>{"use strict";var ovt=Uu();ovt("Float32",function(e){return function(r,n,i){return e(this,r,n,i)}})});var Cfe=I(()=>{"use strict";var avt=Uu();avt("Float64",function(e){return function(r,n,i){return e(this,r,n,i)}})});var Mfe=I(()=>{"use strict";var svt=Uu();svt("Int8",function(e){return function(r,n,i){return e(this,r,n,i)}})});var Pfe=I(()=>{"use strict";var lvt=Uu();lvt("Int16",function(e){return function(r,n,i){return e(this,r,n,i)}})});var Ofe=I(()=>{"use strict";var uvt=Uu();uvt("Int32",function(e){return function(r,n,i){return e(this,r,n,i)}})});var Rfe=I(()=>{"use strict";var cvt=Uu();cvt("Uint8",function(e){return function(r,n,i){return e(this,r,n,i)}})});var qfe=I(()=>{"use strict";var pvt=Uu();pvt("Uint8",function(e){return function(r,n,i){return e(this,r,n,i)}},!0)});var Nfe=I(()=>{"use strict";var dvt=Uu();dvt("Uint16",function(e){return function(r,n,i){return e(this,r,n,i)}})});var kfe=I(()=>{"use strict";var fvt=Uu();fvt("Uint32",function(e){return function(r,n,i){return e(this,r,n,i)}})});var Kz=I(()=>{"use strict";var Dfe=Nr(),hvt=Wr(),mvt=Xn(),vvt=Dfe.aTypedArray,gvt=Dfe.exportTypedArrayMethod;gvt("at",function(t){var r=vvt(this),n=hvt(r),i=mvt(t),o=i>=0?i:n+i;return o<0||o>=n?void 0:r[o]})});var zfe=I(()=>{"use strict";var yvt=rt(),Lfe=Nr(),_vt=M4(),bvt=yvt(_vt),xvt=Lfe.aTypedArray,wvt=Lfe.exportTypedArrayMethod;wvt("copyWithin",function(t,r){return bvt(xvt(this),t,r,arguments.length>2?arguments[2]:void 0)})});var jfe=I(()=>{"use strict";var Ffe=Nr(),Svt=Mi().every,Ivt=Ffe.aTypedArray,Evt=Ffe.exportTypedArrayMethod;Evt("every",function(t){return Svt(Ivt(this),t,arguments.length>1?arguments[1]:void 0)})});var Vfe=I(()=>{"use strict";var Bfe=Nr(),Tvt=BE(),Avt=zb(),Cvt=os(),Mvt=Dt(),Pvt=rt(),Ovt=gt(),Rvt=Bfe.aTypedArray,qvt=Bfe.exportTypedArrayMethod,Nvt=Pvt("".slice),kvt=Ovt(function(){var e=0;return new Int8Array(2).fill({valueOf:function(){return e++}}),e!==1});qvt("fill",function(t){var r=arguments.length;Rvt(this);var n=Nvt(Cvt(this),0,3)==="Big"?Avt(t):+t;return Mvt(Tvt,this,n,r>1?arguments[1]:void 0,r>2?arguments[2]:void 0)},kvt)});var Jg=I((zdr,$fe)=>{"use strict";var Ufe=Nr(),Dvt=Vh(),Lvt=Ufe.aTypedArrayConstructor,zvt=Ufe.getTypedArrayConstructor;$fe.exports=function(e){return Lvt(Dvt(e,zvt(e)))}});var JT=I((Fdr,Hfe)=>{"use strict";var Fvt=jh(),jvt=Jg();Hfe.exports=function(e,t){return Fvt(jvt(e),t)}});var Wfe=I(()=>{"use strict";var Gfe=Nr(),Bvt=Mi().filter,Vvt=JT(),Uvt=Gfe.aTypedArray,$vt=Gfe.exportTypedArrayMethod;$vt("filter",function(t){var r=Bvt(Uvt(this),t,arguments.length>1?arguments[1]:void 0);return Vvt(this,r)})});var Kfe=I(()=>{"use strict";var Zfe=Nr(),Hvt=Mi().find,Gvt=Zfe.aTypedArray,Wvt=Zfe.exportTypedArrayMethod;Wvt("find",function(t){return Hvt(Gvt(this),t,arguments.length>1?arguments[1]:void 0)})});var Xfe=I(()=>{"use strict";var Yfe=Nr(),Zvt=Mi().findIndex,Kvt=Yfe.aTypedArray,Yvt=Yfe.exportTypedArrayMethod;Yvt("findIndex",function(t){return Zvt(Kvt(this),t,arguments.length>1?arguments[1]:void 0)})});var Yz=I(()=>{"use strict";var Jfe=Nr(),Xvt=nb().findLast,Jvt=Jfe.aTypedArray,Qvt=Jfe.exportTypedArrayMethod;Qvt("findLast",function(t){return Xvt(Jvt(this),t,arguments.length>1?arguments[1]:void 0)})});var Xz=I(()=>{"use strict";var Qfe=Nr(),egt=nb().findLastIndex,tgt=Qfe.aTypedArray,rgt=Qfe.exportTypedArrayMethod;rgt("findLastIndex",function(t){return egt(tgt(this),t,arguments.length>1?arguments[1]:void 0)})});var the=I(()=>{"use strict";var ehe=Nr(),ngt=Mi().forEach,igt=ehe.aTypedArray,ogt=ehe.exportTypedArrayMethod;ogt("forEach",function(t){ngt(igt(this),t,arguments.length>1?arguments[1]:void 0)})});var rhe=I(()=>{"use strict";var agt=GT(),sgt=Nr().exportTypedArrayStaticMethod,lgt=jz();sgt("from",lgt,agt)});var ihe=I(()=>{"use strict";var nhe=Nr(),ugt=vg().includes,cgt=nhe.aTypedArray,pgt=nhe.exportTypedArrayMethod;pgt("includes",function(t){return ugt(cgt(this),t,arguments.length>1?arguments[1]:void 0)})});var ahe=I(()=>{"use strict";var ohe=Nr(),dgt=vg().indexOf,fgt=ohe.aTypedArray,hgt=ohe.exportTypedArrayMethod;hgt("indexOf",function(t){return dgt(fgt(this),t,arguments.length>1?arguments[1]:void 0)})});var phe=I(()=>{"use strict";var mgt=Kt(),vgt=gt(),Jz=rt(),lhe=Nr(),Qz=sb(),ggt=dr(),e6=ggt("iterator"),she=mgt.Uint8Array,ygt=Jz(Qz.values),_gt=Jz(Qz.keys),bgt=Jz(Qz.entries),t6=lhe.aTypedArray,QT=lhe.exportTypedArrayMethod,Qg=she&&she.prototype,eA=!vgt(function(){Qg[e6].call([1])}),uhe=!!Qg&&Qg.values&&Qg[e6]===Qg.values&&Qg.values.name==="values",che=function(){return ygt(t6(this))};QT("entries",function(){return bgt(t6(this))},eA);QT("keys",function(){return _gt(t6(this))},eA);QT("values",che,eA||!uhe,{name:"values"});QT(e6,che,eA||!uhe,{name:"values"})});var fhe=I(()=>{"use strict";var dhe=Nr(),xgt=rt(),wgt=dhe.aTypedArray,Sgt=dhe.exportTypedArrayMethod,Igt=xgt([].join);Sgt("join",function(t){return Igt(wgt(this),t)})});var mhe=I(()=>{"use strict";var hhe=Nr(),Egt=ua(),Tgt=H4(),Agt=hhe.aTypedArray,Cgt=hhe.exportTypedArrayMethod;Cgt("lastIndexOf",function(t){var r=arguments.length;return Egt(Tgt,Agt(this),r>1?[t,arguments[1]]:[t])})});var ghe=I(()=>{"use strict";var vhe=Nr(),Mgt=Mi().map,Pgt=Jg(),Ogt=vhe.aTypedArray,Rgt=vhe.exportTypedArrayMethod;Rgt("map",function(t){return Mgt(Ogt(this),t,arguments.length>1?arguments[1]:void 0,function(r,n){return new(Pgt(r))(n)})})});var _he=I(()=>{"use strict";var yhe=Nr(),qgt=GT(),Ngt=yhe.aTypedArrayConstructor,kgt=yhe.exportTypedArrayStaticMethod;kgt("of",function(){for(var t=0,r=arguments.length,n=new(Ngt(this))(r);r>t;)n[t]=arguments[t++];return n},qgt)});var xhe=I(()=>{"use strict";var bhe=Nr(),Dgt=lb().left,Lgt=bhe.aTypedArray,zgt=bhe.exportTypedArrayMethod;zgt("reduce",function(t){var r=arguments.length;return Dgt(Lgt(this),t,r,r>1?arguments[1]:void 0)})});var She=I(()=>{"use strict";var whe=Nr(),Fgt=lb().right,jgt=whe.aTypedArray,Bgt=whe.exportTypedArrayMethod;Bgt("reduceRight",function(t){var r=arguments.length;return Fgt(jgt(this),t,r,r>1?arguments[1]:void 0)})});var Ehe=I(()=>{"use strict";var Ihe=Nr(),Vgt=Ihe.aTypedArray,Ugt=Ihe.exportTypedArrayMethod,$gt=Math.floor;Ugt("reverse",function(){for(var t=this,r=Vgt(t).length,n=$gt(r/2),i=0,o;i<n;)o=t[i],t[i++]=t[--r],t[r]=o;return t})});var Ohe=I(()=>{"use strict";var Ahe=Kt(),Che=Dt(),i6=Nr(),Hgt=Wr(),Ggt=zz(),Wgt=Ur(),Mhe=gt(),Zgt=Ahe.RangeError,r6=Ahe.Int8Array,The=r6&&r6.prototype,Phe=The&&The.set,Kgt=i6.aTypedArray,Ygt=i6.exportTypedArrayMethod,n6=!Mhe(function(){var e=new Uint8ClampedArray(2);return Che(Phe,e,{length:1,0:3},1),e[1]!==3}),Xgt=n6&&i6.NATIVE_ARRAY_BUFFER_VIEWS&&Mhe(function(){var e=new r6(2);return e.set(1),e.set("2",1),e[0]!==0||e[1]!==2});Ygt("set",function(t){Kgt(this);var r=Ggt(arguments.length>1?arguments[1]:void 0,1),n=Wgt(t);if(n6)return Che(Phe,this,n,r);var i=this.length,o=Hgt(n),u=0;if(o+r>i)throw new Zgt("Wrong length");for(;u<o;)this[r+u]=n[u++]},!n6||Xgt)});var qhe=I(()=>{"use strict";var Rhe=Nr(),Jgt=Jg(),Qgt=gt(),eyt=Zc(),tyt=Rhe.aTypedArray,ryt=Rhe.exportTypedArrayMethod,nyt=Qgt(function(){new Int8Array(1).slice()});ryt("slice",function(t,r){for(var n=eyt(tyt(this),t,r),i=Jgt(this),o=0,u=n.length,f=new i(u);u>o;)f[o]=n[o++];return f},nyt)});var khe=I(()=>{"use strict";var Nhe=Nr(),iyt=Mi().some,oyt=Nhe.aTypedArray,ayt=Nhe.exportTypedArrayMethod;ayt("some",function(t){return iyt(oyt(this),t,arguments.length>1?arguments[1]:void 0)})});var Bhe=I(()=>{"use strict";var syt=Kt(),lyt=Gc(),o6=gt(),uyt=yr(),cyt=ZE(),jhe=Nr(),Dhe=Z4(),pyt=K4(),Lhe=ku(),zhe=KE(),dyt=jhe.aTypedArray,fyt=jhe.exportTypedArrayMethod,Vb=syt.Uint16Array,ey=Vb&&lyt(Vb.prototype.sort),hyt=!!ey&&!(o6(function(){ey(new Vb(2),null)})&&o6(function(){ey(new Vb(2),{})})),Fhe=!!ey&&!o6(function(){if(Lhe)return Lhe<74;if(Dhe)return Dhe<67;if(pyt)return!0;if(zhe)return zhe<602;var e=new Vb(516),t=Array(516),r,n;for(r=0;r<516;r++)n=r%4,e[r]=515-r,t[r]=r-2*n+3;for(ey(e,function(i,o){return(i/4|0)-(o/4|0)}),r=0;r<516;r++)if(e[r]!==t[r])return!0}),myt=function(e){return function(t,r){return e!==void 0?+e(t,r)||0:r!==r?-1:t!==t?1:t===0&&r===0?1/t>0&&1/r<0?1:-1:t>r}};fyt("sort",function(t){return t!==void 0&&uyt(t),Fhe?ey(this,t):cyt(dyt(this),myt(t))},!Fhe||hyt)});var $he=I(()=>{"use strict";var Uhe=Nr(),vyt=is(),Vhe=hl(),gyt=Jg(),yyt=Uhe.aTypedArray,_yt=Uhe.exportTypedArrayMethod;_yt("subarray",function(t,r){var n=yyt(this),i=n.length,o=Vhe(t,i),u=gyt(n);return new u(n.buffer,n.byteOffset+o*n.BYTES_PER_ELEMENT,vyt((r===void 0?i:Vhe(r,i))-o))})});var Khe=I(()=>{"use strict";var byt=Kt(),xyt=ua(),Whe=Nr(),a6=gt(),Hhe=Zc(),tA=byt.Int8Array,Ghe=Whe.aTypedArray,wyt=Whe.exportTypedArrayMethod,Zhe=[].toLocaleString,Syt=!!tA&&a6(function(){Zhe.call(new tA(1))}),Iyt=a6(function(){return[1,2].toLocaleString()!==new tA([1,2]).toLocaleString()})||!a6(function(){tA.prototype.toLocaleString.call([1,2])});wyt("toLocaleString",function(){return xyt(Zhe,Syt?Hhe(Ghe(this)):Ghe(this),Hhe(arguments))},Iyt)});var l6=I(()=>{"use strict";var Eyt=J4(),s6=Nr(),Tyt=s6.aTypedArray,Ayt=s6.exportTypedArrayMethod,Cyt=s6.getTypedArrayConstructor;Ayt("toReversed",function(){return Eyt(Tyt(this),Cyt(this))})});var u6=I(()=>{"use strict";var rA=Nr(),Myt=rt(),Pyt=yr(),Oyt=jh(),Ryt=rA.aTypedArray,qyt=rA.getTypedArrayConstructor,Nyt=rA.exportTypedArrayMethod,kyt=Myt(rA.TypedArrayPrototype.sort);Nyt("toSorted",function(t){t!==void 0&&Pyt(t);var r=Ryt(this),n=Oyt(qyt(r),r);return kyt(n,t)})});var Xhe=I(()=>{"use strict";var Dyt=Nr().exportTypedArrayMethod,Lyt=gt(),zyt=Kt(),Fyt=rt(),Yhe=zyt.Uint8Array,jyt=Yhe&&Yhe.prototype||{},nA=[].toString,Byt=Fyt([].join);Lyt(function(){nA.call({})})&&(nA=function(){return Byt(this)});var Vyt=jyt.toString!==nA;Dyt("toString",nA,Vyt)});var p6=I(()=>{"use strict";var Uyt=n3(),c6=Nr(),$yt=WT(),Hyt=Xn(),Gyt=zb(),Wyt=c6.aTypedArray,Zyt=c6.getTypedArrayConstructor,Kyt=c6.exportTypedArrayMethod,Yyt=!!function(){try{new Int8Array(1).with(2,{valueOf:function(){throw 8}})}catch(e){return e===8}}();Kyt("with",function(e,t){var r=Wyt(this),n=Hyt(e),i=$yt(r)?Gyt(t):+t;return Uyt(r,Zyt(r),n,i)},!Yyt)});var rme=I(()=>{"use strict";var Xyt=J(),d6=rt(),Jyt=br(),Jhe=String.fromCharCode,Qhe=d6("".charAt),eme=d6(/./.exec),tme=d6("".slice),Qyt=/^[\da-f]{2}$/i,e0t=/^[\da-f]{4}$/i;Xyt({global:!0},{unescape:function(t){for(var r=Jyt(t),n="",i=r.length,o=0,u,f;o<i;){if(u=Qhe(r,o++),u==="%"){if(Qhe(r,o)==="u"){if(f=tme(r,o+1,o+5),eme(e0t,f)){n+=Jhe(parseInt(f,16)),o+=5;continue}}else if(f=tme(r,o,o+2),eme(Qyt,f)){n+=Jhe(parseInt(f,16)),o+=2;continue}}n+=u}return n}})});var m6=I((Vfr,lme)=>{"use strict";var t0t=rt(),nme=_l(),iA=Jd().getWeakData,r0t=ca(),n0t=zt(),i0t=qi(),f6=Ir(),o0t=gi(),ome=Mi(),ime=qr(),ame=mn(),a0t=ame.set,s0t=ame.getterFor,l0t=ome.find,u0t=ome.findIndex,c0t=t0t([].splice),p0t=0,oA=function(e){return e.frozen||(e.frozen=new sme)},sme=function(){this.entries=[]},h6=function(e,t){return l0t(e.entries,function(r){return r[0]===t})};sme.prototype={get:function(e){var t=h6(this,e);if(t)return t[1]},has:function(e){return!!h6(this,e)},set:function(e,t){var r=h6(this,e);r?r[1]=t:this.entries.push([e,t])},delete:function(e){var t=u0t(this.entries,function(r){return r[0]===e});return~t&&c0t(this.entries,t,1),!!~t}};lme.exports={getConstructor:function(e,t,r,n){var i=e(function(h,y){r0t(h,o),a0t(h,{type:t,id:p0t++,frozen:void 0}),i0t(y)||o0t(y,h[n],{that:h,AS_ENTRIES:r})}),o=i.prototype,u=s0t(t),f=function(h,y,w){var T=u(h),A=iA(n0t(y),!0);return A===!0?oA(T).set(y,w):A[T.id]=w,h};return nme(o,{delete:function(h){var y=u(this);if(!f6(h))return!1;var w=iA(h);return w===!0?oA(y).delete(h):w&&ime(w,y.id)&&delete w[y.id]},has:function(y){var w=u(this);if(!f6(y))return!1;var T=iA(y);return T===!0?oA(w).has(y):T&&ime(T,w.id)}}),nme(o,r?{get:function(y){var w=u(this);if(f6(y)){var T=iA(y);return T===!0?oA(w).get(y):T?T[w.id]:void 0}},set:function(y,w){return f(this,y,w)}}:{add:function(y){return f(this,y,!0)}}),i}}});var yme=I(()=>{"use strict";var d0t=np(),ume=Kt(),uA=rt(),cme=_l(),f0t=Jd(),h0t=hb(),fme=m6(),aA=Ir(),sA=mn().enforce,m0t=gt(),v0t=OD(),Hb=Object,g0t=Array.isArray,lA=Hb.isExtensible,hme=Hb.isFrozen,y0t=Hb.isSealed,mme=Hb.freeze,_0t=Hb.seal,pme={},dme={},b0t=!ume.ActiveXObject&&"ActiveXObject"in ume,Ub,vme=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},gme=h0t("WeakMap",vme,fme),ty=gme.prototype,cA=uA(ty.set),x0t=function(){return d0t&&m0t(function(){var e=mme([]);return cA(new gme,e,1),!hme(e)})};v0t&&(b0t?(Ub=fme.getConstructor(vme,"WeakMap",!0),f0t.enable(),v6=uA(ty.delete),$b=uA(ty.has),g6=uA(ty.get),cme(ty,{delete:function(e){if(aA(e)&&!lA(e)){var t=sA(this);return t.frozen||(t.frozen=new Ub),v6(this,e)||t.frozen.delete(e)}return v6(this,e)},has:function(t){if(aA(t)&&!lA(t)){var r=sA(this);return r.frozen||(r.frozen=new Ub),$b(this,t)||r.frozen.has(t)}return $b(this,t)},get:function(t){if(aA(t)&&!lA(t)){var r=sA(this);return r.frozen||(r.frozen=new Ub),$b(this,t)?g6(this,t):r.frozen.get(t)}return g6(this,t)},set:function(t,r){if(aA(t)&&!lA(t)){var n=sA(this);n.frozen||(n.frozen=new Ub),$b(this,t)?cA(this,t,r):n.frozen.set(t,r)}else cA(this,t,r);return this}})):x0t()&&cme(ty,{set:function(t,r){var n;return g0t(t)&&(hme(t)?n=pme:y0t(t)&&(n=dme)),cA(this,t,r),n===pme&&mme(t),n===dme&&_0t(t),this}}));var v6,$b,g6});var pA=I(()=>{"use strict";yme()});var _me=I(()=>{"use strict";var w0t=hb(),S0t=m6();w0t("WeakSet",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},S0t)});var bme=I(()=>{"use strict";_me()});var xme=I(()=>{"use strict";S4()});var Sme=I(()=>{"use strict";var I0t=J(),E0t=la(),T0t=ki(),fA=gl(),A0t=gg(),wme=Ci(),dA=Ni(),y6=ns(),C0t=qE(),M0t=Dh(),P0t=dr(),O0t=P0t("toStringTag"),hA=Error,ry=function(t,r,n){var i=E0t(_6,this),o;return fA?o=fA(new hA,i?T0t(this):_6):(o=i?this:wme(_6),dA(o,O0t,"Error")),n!==void 0&&dA(o,"message",M0t(n)),C0t(o,ry,o.stack,1),dA(o,"error",t),dA(o,"suppressed",r),o};fA?fA(ry,hA):A0t(ry,hA,{name:!0});var _6=ry.prototype=wme(hA.prototype,{constructor:y6(1,ry),message:y6(1,""),name:y6(1,"SuppressedError")});I0t({global:!0,constructor:!0,arity:3},{SuppressedError:ry})});var ny=I((thr,Ome)=>{"use strict";var Cme=Kt(),Mme=F_(),Pme=Sr(),R0t=Ci(),mA=ki(),q0t=Sn(),N0t=dr(),k0t=Vr(),Ime="USE_FUNCTION_CONSTRUCTOR",Eme=N0t("asyncIterator"),Tme=Cme.AsyncIterator,Ame=Mme.AsyncIteratorPrototype,$u,b6;if(Ame)$u=Ame;else if(Pme(Tme))$u=Tme.prototype;else if(Mme[Ime]||Cme[Ime])try{b6=mA(mA(mA(Function("return async function*(){}()")()))),mA(b6)===Object.prototype&&($u=b6)}catch(e){}$u?k0t&&($u=R0t($u)):$u={};Pme($u[Eme])||q0t($u,Eme,function(){return this});Ome.exports=$u});var Gb=I((rhr,jme)=>{"use strict";var Rme=Dt(),qme=zt(),D0t=Ci(),L0t=Ai(),z0t=_l(),Dme=mn(),F0t=gr(),j0t=ny(),Lme=Oo(),x6=F0t("Promise"),zme="AsyncFromSyncIterator",B0t=Dme.set,Nme=Dme.getterFor(zme),kme=function(e,t,r){var n=e.done;x6.resolve(e.value).then(function(i){t(Lme(i,n))},r)},Fme=function(t){t.type=zme,B0t(this,t)};Fme.prototype=z0t(D0t(j0t),{next:function(){var t=Nme(this);return new x6(function(r,n){var i=qme(Rme(t.next,t.iterator));kme(i,r,n)})},return:function(){var e=Nme(this).iterator;return new x6(function(t,r){var n=L0t(e,"return");if(n===void 0)return t(Lme(void 0,!0));var i=qme(Rme(n,e));kme(i,t,r)})}});jme.exports=Fme});var ai=I((nhr,Bme)=>{"use strict";Bme.exports=function(e){return{iterator:e,next:e.next,done:!1}}});var Ume=I((ihr,Vme)=>{"use strict";var V0t=Dt(),U0t=Gb(),$0t=zt(),H0t=Vd(),G0t=ai(),W0t=Ai(),Z0t=dr(),K0t=Z0t("asyncIterator");Vme.exports=function(e,t){var r=arguments.length<2?W0t(e,K0t):t;return r?$0t(V0t(r,e)):new U0t(G0t(H0t(e)))}});var iy=I((ohr,$me)=>{"use strict";var Y0t=Dt(),X0t=gr(),J0t=Ai();$me.exports=function(e,t,r,n){try{var i=J0t(e,"return");if(i)return X0t("Promise").resolve(Y0t(i,e)).then(function(){t(r)},function(o){n(o)})}catch(o){return n(o)}t(r)}});var Qh=I((ahr,Hme)=>{"use strict";var Q0t=Dt(),e1t=yr(),w6=zt(),t1t=Ir(),r1t=Ud(),n1t=gr(),i1t=ai(),S6=iy(),Wb=function(e){var t=e===0,r=e===1,n=e===2,i=e===3;return function(o,u,f){w6(o);var h=u!==void 0;(h||!t)&&e1t(u);var y=i1t(o),w=n1t("Promise"),T=y.iterator,A=y.next,q=0;return new w(function(z,F){var N=function(B){S6(T,F,B,F)},L=function(){try{if(h)try{r1t(q)}catch(B){N(B)}w.resolve(w6(Q0t(A,T))).then(function(B){try{if(w6(B).done)t?(f.length=q,z(f)):z(i?!1:n||void 0);else{var Z=B.value;try{if(h){var te=u(Z,q),ue=function(ce){if(r)L();else if(n)ce?L():S6(T,z,!1,F);else if(t)try{f[q++]=ce,L()}catch(ye){N(ye)}else ce?S6(T,z,i||Z,F):L()};t1t(te)?w.resolve(te).then(ue,N):ue(te)}else f[q++]=Z,L()}catch(ce){N(ce)}}}catch(ce){F(ce)}},F)}catch(B){F(B)}};L()})}};Hme.exports={toArray:Wb(0),forEach:Wb(1),every:Wb(2),some:Wb(3),find:Wb(4)}});var I6=I((shr,Kme)=>{"use strict";var o1t=On(),Gme=rt(),a1t=Ur(),s1t=ru(),l1t=Ume(),u1t=Vd(),c1t=ai(),p1t=Yc(),d1t=Ai(),f1t=e3(),h1t=gr(),m1t=dr(),v1t=Gb(),g1t=Qh().toArray,y1t=m1t("asyncIterator"),Wme=Gme(f1t("Array").values),_1t=Gme(Wme([]).next),b1t=function(){return new Zme(this)},Zme=function(e){this.iterator=Wme(e)};Zme.prototype.next=function(){return _1t(this.iterator)};Kme.exports=function(t){var r=this,n=arguments.length,i=n>1?arguments[1]:void 0,o=n>2?arguments[2]:void 0;return new(h1t("Promise"))(function(u){var f=a1t(t);i!==void 0&&(i=o1t(i,o));var h=d1t(f,y1t),y=h?void 0:p1t(f)||b1t,w=s1t(r)?new r:[],T=h?l1t(f,h):new v1t(c1t(u1t(f,y)));u(g1t(T,i,w))})}});var Yme=I(()=>{"use strict";var x1t=J(),w1t=I6();x1t({target:"Array",stat:!0},{fromAsync:w1t})});var Xme=I(()=>{"use strict";A4()});var Jme=I(()=>{"use strict";var S1t=J(),I1t=Mi().filterReject,E1t=pi();S1t({target:"Array",proto:!0,forced:!0},{filterOut:function(t){return I1t(this,t,arguments.length>1?arguments[1]:void 0)}});E1t("filterOut")});var Qme=I(()=>{"use strict";var T1t=J(),A1t=Mi().filterReject,C1t=pi();T1t({target:"Array",proto:!0,forced:!0},{filterReject:function(t){return A1t(this,t,arguments.length>1?arguments[1]:void 0)}});C1t("filterReject")});var eve=I(()=>{"use strict";R4()});var tve=I(()=>{"use strict";q4()});var vA=I((bhr,rve)=>{"use strict";var M1t=On(),P1t=rt(),O1t=Uc(),R1t=Ur(),q1t=Ql(),N1t=Wr(),k1t=Ci(),D1t=jh(),L1t=Array,z1t=P1t([].push);rve.exports=function(e,t,r,n){for(var i=R1t(e),o=O1t(i),u=M1t(t,r),f=k1t(null),h=N1t(o),y=0,w,T,A;h>y;y++)A=o[y],T=q1t(u(A,y,i)),T in f?z1t(f[T],A):f[T]=[A];if(n&&(w=n(i),w!==L1t))for(T in f)f[T]=D1t(w,f[T]);return f}});var nve=I(()=>{"use strict";var F1t=J(),j1t=vA(),B1t=pi();F1t({target:"Array",proto:!0},{group:function(t){var r=arguments.length>1?arguments[1]:void 0;return j1t(this,t,r)}});B1t("group")});var ive=I(()=>{"use strict";var V1t=J(),U1t=vA(),$1t=yl(),H1t=pi();V1t({target:"Array",proto:!0,forced:!$1t("groupBy")},{groupBy:function(t){var r=arguments.length>1?arguments[1]:void 0;return U1t(this,t,r)}});H1t("groupBy")});var Na=I((Ehr,ove)=>{"use strict";var gA=rt(),Zb=Map.prototype;ove.exports={Map,set:gA(Zb.set),get:gA(Zb.get),has:gA(Zb.has),remove:gA(Zb.delete),proto:Zb}});var E6=I((Thr,ave)=>{"use strict";var G1t=On(),W1t=rt(),Z1t=Uc(),K1t=Ur(),Y1t=Wr(),yA=Na(),X1t=yA.Map,J1t=yA.get,Q1t=yA.has,e_t=yA.set,t_t=W1t([].push);ave.exports=function(t){for(var r=K1t(this),n=Z1t(r),i=G1t(t,arguments.length>1?arguments[1]:void 0),o=new X1t,u=Y1t(n),f=0,h,y;u>f;f++)y=n[f],h=i(y,f,r),Q1t(o,h)?t_t(J1t(o,h),y):e_t(o,h,[y]);return o}});var sve=I(()=>{"use strict";var r_t=J(),n_t=yl(),i_t=pi(),o_t=E6(),a_t=Vr();r_t({target:"Array",proto:!0,name:"groupToMap",forced:a_t||!n_t("groupByToMap")},{groupByToMap:o_t});i_t("groupByToMap")});var lve=I(()=>{"use strict";var s_t=J(),l_t=pi(),u_t=E6(),c_t=Vr();s_t({target:"Array",proto:!0,forced:c_t},{groupToMap:u_t});l_t("groupToMap")});var pve=I(()=>{"use strict";var p_t=J(),d_t=tu(),uve=Object.isFrozen,cve=function(e,t){if(!uve||!d_t(e)||!uve(e))return!1;for(var r=0,n=e.length,i;r<n;)if(i=e[r++],!(typeof i=="string"||t&&i===void 0))return!1;return n!==0};p_t({target:"Array",stat:!0,sham:!0,forced:!0},{isTemplateObject:function(t){if(!cve(t,!0))return!1;var r=t.raw;return r.length===t.length&&cve(r,!1)}})});var dve=I(()=>{"use strict";var f_t=pr(),h_t=pi(),m_t=Ur(),v_t=Wr(),g_t=oi();f_t&&(g_t(Array.prototype,"lastIndex",{configurable:!0,get:function(){var t=m_t(this),r=v_t(t);return r===0?0:r-1}}),h_t("lastIndex"))});var mve=I(()=>{"use strict";var y_t=pr(),__t=pi(),fve=Ur(),hve=Wr(),b_t=oi();y_t&&(b_t(Array.prototype,"lastItem",{configurable:!0,get:function(){var t=fve(this),r=hve(t);return r===0?void 0:t[r-1]},set:function(t){var r=fve(this),n=hve(r);return r[n===0?0:n-1]=t}}),__t("lastItem"))});var vve=I(()=>{"use strict";Q4()});var gve=I(()=>{"use strict";t3()});var yve=I(()=>{"use strict";r3()});var op=I((Uhr,_ve)=>{"use strict";var x_t=Dt();_ve.exports=function(e,t,r){for(var n=r?e:e.iterator,i=e.next,o,u;!(o=x_t(i,n)).done;)if(u=t(o.value),u!==void 0)return u}});var wl=I(($hr,Ive)=>{"use strict";var bve=rt(),w_t=op(),xve=Na(),S_t=xve.Map,wve=xve.proto,I_t=bve(wve.forEach),Sve=bve(wve.entries),E_t=Sve(new S_t).next;Ive.exports=function(e,t,r){return r?w_t({iterator:Sve(e),next:E_t},function(n){return t(n[1],n[0])}):I_t(e,t)}});var _A=I((Hhr,Eve)=>{"use strict";var T_t=rt(),A_t=yr(),C_t=qi(),M_t=Wr(),P_t=Ur(),T6=Na(),O_t=wl(),R_t=T6.Map,q_t=T6.has,N_t=T6.set,k_t=T_t([].push);Eve.exports=function(t){var r=P_t(this),n=M_t(r),i=[],o=new R_t,u=C_t(t)?function(w){return w}:A_t(t),f,h,y;for(f=0;f<n;f++)h=r[f],y=u(h),q_t(o,y)||N_t(o,y,h);return O_t(o,function(w){k_t(i,w)}),i}});var Tve=I(()=>{"use strict";var D_t=J(),L_t=pi(),z_t=_A();D_t({target:"Array",proto:!0,forced:!0},{uniqueBy:z_t});L_t("uniqueBy")});var Ave=I(()=>{"use strict";i3()});var A6=I((Yhr,Cve)=>{"use strict";var F_t=tb(),j_t=Po(),B_t=TypeError;Cve.exports=F_t(ArrayBuffer.prototype,"byteLength","get")||function(e){if(j_t(e)!=="ArrayBuffer")throw new B_t("ArrayBuffer expected");return e.byteLength}});var C6=I((Xhr,Mve)=>{"use strict";var V_t=rt(),U_t=A6(),$_t=V_t(ArrayBuffer.prototype.slice);Mve.exports=function(e){if(U_t(e)!==0)return!1;try{return $_t(e,0,0),!1}catch(t){return!0}}});var Ove=I(()=>{"use strict";var H_t=pr(),G_t=oi(),W_t=C6(),Pve=ArrayBuffer.prototype;H_t&&!("detached"in Pve)&&G_t(Pve,"detached",{configurable:!0,get:function(){return W_t(this)}})});var M6=I((emr,Rve)=>{"use strict";var Z_t=zu();Rve.exports=function(e){try{if(Z_t)return Function("return require(\""+e+"\")")()}catch(t){}}});var bA=I((tmr,Nve)=>{"use strict";var K_t=Kt(),Y_t=gt(),P6=ku(),X_t=ML(),J_t=ET(),Q_t=zu(),qve=K_t.structuredClone;Nve.exports=!!qve&&!Y_t(function(){if(J_t&&P6>92||Q_t&&P6>94||X_t&&P6>97)return!1;var e=new ArrayBuffer(8),t=qve(e,{transfer:[e]});return e.byteLength!==0||t.byteLength!==8})});var zve=I((rmr,Lve)=>{"use strict";var N6=Kt(),ebt=M6(),tbt=bA(),rbt=N6.structuredClone,kve=N6.ArrayBuffer,xA=N6.MessageChannel,q6=!1,O6,Dve,wA,R6;if(tbt)q6=function(e){rbt(e,{transfer:[e]})};else if(kve)try{xA||(O6=ebt("worker_threads"),O6&&(xA=O6.MessageChannel)),xA&&(Dve=new xA,wA=new kve(2),R6=function(e){Dve.port1.postMessage(null,[e])},wA.byteLength===2&&(R6(wA),wA.byteLength===0&&(q6=R6)))}catch(e){}Lve.exports=q6});var IA=I((nmr,Hve)=>{"use strict";var SA=Kt(),L6=rt(),Vve=tb(),nbt=Ig(),ibt=C6(),obt=A6(),Fve=zve(),k6=bA(),abt=SA.structuredClone,Uve=SA.ArrayBuffer,D6=SA.DataView,sbt=SA.TypeError,lbt=Math.min,z6=Uve.prototype,$ve=D6.prototype,ubt=L6(z6.slice),jve=Vve(z6,"resizable","get"),Bve=Vve(z6,"maxByteLength","get"),cbt=L6($ve.getInt8),pbt=L6($ve.setInt8);Hve.exports=(k6||Fve)&&function(e,t,r){var n=obt(e),i=t===void 0?n:nbt(t),o=!jve||!jve(e),u;if(ibt(e))throw new sbt("ArrayBuffer is detached");if(k6&&(e=abt(e,{transfer:[e]}),n===i&&(r||o)))return e;if(n>=i&&(!r||o))u=ubt(e,0,i);else{var f=r&&!o&&Bve?{maxByteLength:Bve(e)}:void 0;u=new Uve(i,f);for(var h=new D6(e),y=new D6(u),w=lbt(i,n),T=0;T<w;T++)pbt(y,T,cbt(h,T))}return k6||Fve(e),u}});var Wve=I(()=>{"use strict";var dbt=J(),Gve=IA();Gve&&dbt({target:"ArrayBuffer",proto:!0},{transfer:function(){return Gve(this,arguments.length?arguments[0]:void 0,!0)}})});var Kve=I(()=>{"use strict";var fbt=J(),Zve=IA();Zve&&fbt({target:"ArrayBuffer",proto:!0},{transferToFixedLength:function(){return Zve(this,arguments.length?arguments[0]:void 0,!1)}})});var j6=I((lmr,ege)=>{"use strict";var hbt=Dt(),mbt=rt(),vbt=On(),gbt=zt(),ybt=yr(),Jve=qi(),F6=Ai(),Qve=dr(),_bt=Qve("asyncDispose"),Yve=Qve("dispose"),bbt=mbt([].push),xbt=function(e,t){if(t==="async-dispose"){var r=F6(e,_bt);return r!==void 0?r:(r=F6(e,Yve),function(){hbt(r,this)})}return F6(e,Yve)},Xve=function(e,t,r){return arguments.length<3&&!Jve(e)&&(r=ybt(xbt(gbt(e),t))),r===void 0?function(){}:vbt(r,e)};ege.exports=function(e,t,r,n){var i;if(arguments.length<4){if(Jve(t)&&r==="sync-dispose")return;i=Xve(t,r)}else i=Xve(void 0,r,n);bbt(e.stack,i)}});var sge=I(()=>{"use strict";var wbt=J(),TA=pr(),nge=gr(),tge=yr(),Sbt=ca(),ige=Sn(),Ibt=_l(),Ebt=oi(),oge=dr(),age=mn(),B6=j6(),rge=nge("Promise"),Tbt=nge("SuppressedError"),Abt=ReferenceError,Cbt=oge("asyncDispose"),Mbt=oge("toStringTag"),CA="AsyncDisposableStack",Pbt=age.set,AA=age.getterFor(CA),V6="async-dispose",Kb="disposed",Obt="pending",EA=function(e){var t=AA(e);if(t.state===Kb)throw new Abt(CA+" already disposed");return t},U6=function(){Pbt(Sbt(this,oy),{type:CA,state:Obt,stack:[]}),TA||(this.disposed=!1)},oy=U6.prototype;Ibt(oy,{disposeAsync:function(){var t=this;return new rge(function(r,n){var i=AA(t);if(i.state===Kb)return r(void 0);i.state=Kb,TA||(t.disposed=!0);var o=i.stack,u=o.length,f=!1,h,y=function(T){f?h=new Tbt(T,h):(f=!0,h=T),w()},w=function(){if(u){var T=o[--u];o[u]=null;try{rge.resolve(T()).then(w,y)}catch(A){y(A)}}else i.stack=null,f?n(h):r(void 0)};w()})},use:function(t){return B6(EA(this),t,V6),t},adopt:function(t,r){var n=EA(this);return tge(r),B6(n,void 0,V6,function(){return r(t)}),t},defer:function(t){var r=EA(this);tge(t),B6(r,void 0,V6,t)},move:function(){var t=EA(this),r=new U6;return AA(r).stack=t.stack,t.stack=[],t.state=Kb,TA||(this.disposed=!0),r}});TA&&Ebt(oy,"disposed",{configurable:!0,get:function(){return AA(this).state===Kb}});ige(oy,Cbt,oy.disposeAsync,{name:"disposeAsync"});ige(oy,Mbt,CA,{nonWritable:!0});wbt({global:!0,constructor:!0},{AsyncDisposableStack:U6})});var dge=I(()=>{"use strict";var Rbt=J(),qbt=ca(),Nbt=ki(),uge=Ni(),cge=qr(),kbt=dr(),nf=ny(),pge=Vr(),lge=kbt("toStringTag"),Dbt=TypeError,$6=function(){if(qbt(this,nf),Nbt(this)===nf)throw new Dbt("Abstract class AsyncIterator not directly constructable")};$6.prototype=nf;cge(nf,lge)||uge(nf,lge,"AsyncIterator");(pge||!cge(nf,"constructor")||nf.constructor===Object)&&uge(nf,"constructor",$6);Rbt({global:!0,constructor:!0,forced:pge},{AsyncIterator:$6})});var em=I((fmr,bge)=>{"use strict";var Lbt=Dt(),MA=Qd(),fge=zt(),zbt=Ci(),Fbt=Ni(),jbt=_l(),Bbt=dr(),mge=mn(),Vbt=gr(),Ubt=Ai(),$bt=ny(),H6=Oo(),hge=Xc(),Hu=Vbt("Promise"),Hbt=Bbt("toStringTag"),vge="AsyncIteratorHelper",gge="WrapForValidAsyncIterator",Gbt=mge.set,yge=function(e){var t=!e,r=mge.getterFor(e?gge:vge),n=function(i){var o=MA(function(){return r(i)}),u=o.error,f=o.value;return u||t&&f.done?{exit:!0,value:u?Hu.reject(f):Hu.resolve(H6(void 0,!0))}:{exit:!1,value:f}};return jbt(zbt($bt),{next:function(){var o=n(this),u=o.value;if(o.exit)return u;var f=MA(function(){return fge(u.nextHandler(Hu))}),h=f.error,y=f.value;return h&&(u.done=!0),h?Hu.reject(y):Hu.resolve(y)},return:function(){var i=n(this),o=i.value;if(i.exit)return o;o.done=!0;var u=o.iterator,f,h,y=MA(function(){if(o.inner)try{hge(o.inner.iterator,"normal")}catch(w){return hge(u,"throw",w)}return Ubt(u,"return")});return f=h=y.value,y.error?Hu.reject(h):f===void 0?Hu.resolve(H6(void 0,!0)):(y=MA(function(){return Lbt(f,u)}),h=y.value,y.error?Hu.reject(h):e?Hu.resolve(h):Hu.resolve(h).then(function(w){return fge(w),H6(void 0,!0)}))}})},Wbt=yge(!0),_ge=yge(!1);Fbt(_ge,Hbt,"Async Iterator Helper");bge.exports=function(e,t){var r=function(i,o){o?(o.iterator=i.iterator,o.next=i.next):o=i,o.type=t?gge:vge,o.nextHandler=e,o.counter=0,o.done=!1,Gbt(this,o)};return r.prototype=t?Wbt:_ge,r}});var W6=I((hmr,wge)=>{"use strict";var Zbt=Dt(),Kbt=yr(),G6=zt(),Ybt=Ir(),Xbt=ai(),Jbt=em(),xge=Oo(),Qbt=iy(),ext=Jbt(function(e){var t=this,r=t.iterator,n=t.mapper;return new e(function(i,o){var u=function(h){t.done=!0,o(h)},f=function(h){Qbt(r,u,h,u)};e.resolve(G6(Zbt(t.next,r))).then(function(h){try{if(G6(h).done)t.done=!0,i(xge(void 0,!0));else{var y=h.value;try{var w=n(y,t.counter++),T=function(A){i(xge(A,!1))};Ybt(w)?e.resolve(w).then(T,f):T(w)}catch(A){f(A)}}}catch(A){u(A)}},u)})});wge.exports=function(t){return G6(this),Kbt(t),new ext(Xbt(this),{mapper:t})}});var Z6=I((mmr,Sge)=>{"use strict";var txt=Dt(),rxt=W6(),nxt=function(e,t){return[t,e]};Sge.exports=function(){return txt(rxt,this,nxt)}});var Ige=I(()=>{"use strict";var ixt=J(),oxt=Z6();ixt({target:"AsyncIterator",name:"indexed",proto:!0,real:!0,forced:!0},{asIndexedPairs:oxt})});var Cge=I(()=>{"use strict";var axt=Dt(),sxt=Sn(),lxt=gr(),uxt=Ai(),cxt=qr(),pxt=dr(),Ege=ny(),Tge=pxt("asyncDispose"),Age=lxt("Promise");cxt(Ege,Tge)||sxt(Ege,Tge,function(){var e=this;return new Age(function(t,r){var n=uxt(e,"return");n?Age.resolve(axt(n,e)).then(function(){t(void 0)},r):t(void 0)})})});var Yb=I((bmr,Mge)=>{"use strict";var dxt=RangeError;Mge.exports=function(e){if(e===e)return e;throw new dxt("NaN is not allowed")}});var Oge=I(()=>{"use strict";var fxt=J(),hxt=Dt(),K6=zt(),mxt=ai(),vxt=Yb(),gxt=Yg(),yxt=em(),Pge=Oo(),_xt=Vr(),bxt=yxt(function(e){var t=this;return new e(function(r,n){var i=function(u){t.done=!0,n(u)},o=function(){try{e.resolve(K6(hxt(t.next,t.iterator))).then(function(u){try{K6(u).done?(t.done=!0,r(Pge(void 0,!0))):t.remaining?(t.remaining--,o()):r(Pge(u.value,!1))}catch(f){i(f)}},i)}catch(u){i(u)}};o()})});fxt({target:"AsyncIterator",proto:!0,real:!0,forced:_xt},{drop:function(t){K6(this);var r=gxt(vxt(+t));return new bxt(mxt(this),{remaining:r})}})});var Rge=I(()=>{"use strict";var xxt=J(),wxt=Qh().every;xxt({target:"AsyncIterator",proto:!0,real:!0},{every:function(t){return wxt(this,t)}})});var Nge=I(()=>{"use strict";var Sxt=J(),Ixt=Dt(),Ext=yr(),Y6=zt(),Txt=Ir(),Axt=ai(),Cxt=em(),qge=Oo(),Mxt=iy(),Pxt=Vr(),Oxt=Cxt(function(e){var t=this,r=t.iterator,n=t.predicate;return new e(function(i,o){var u=function(y){t.done=!0,o(y)},f=function(y){Mxt(r,u,y,u)},h=function(){try{e.resolve(Y6(Ixt(t.next,r))).then(function(y){try{if(Y6(y).done)t.done=!0,i(qge(void 0,!0));else{var w=y.value;try{var T=n(w,t.counter++),A=function(q){q?i(qge(w,!1)):h()};Txt(T)?e.resolve(T).then(A,f):A(T)}catch(q){f(q)}}}catch(q){u(q)}},u)}catch(y){u(y)}};h()})});Sxt({target:"AsyncIterator",proto:!0,real:!0,forced:Pxt},{filter:function(t){return Y6(this),Ext(t),new Oxt(Axt(this),{predicate:t})}})});var kge=I(()=>{"use strict";var Rxt=J(),qxt=Qh().find;Rxt({target:"AsyncIterator",proto:!0,real:!0},{find:function(t){return qxt(this,t)}})});var X6=I((Mmr,zge)=>{"use strict";var Nxt=Dt(),kxt=Sr(),Dge=zt(),Lge=ai(),Dxt=Yc(),Lxt=Ai(),zxt=dr(),Fxt=Gb(),jxt=zxt("asyncIterator");zge.exports=function(t){var r=Dge(t),n=!0,i=Lxt(r,jxt),o;return kxt(i)||(i=Dxt(r),n=!1),i!==void 0?o=Nxt(i,r):(o=r,n=!0),Dge(o),Lge(n?o:new Fxt(Lge(o)))}});var Bge=I(()=>{"use strict";var Bxt=J(),Fge=Dt(),Vxt=yr(),Xb=zt(),Uxt=Ir(),$xt=ai(),Hxt=em(),jge=Oo(),Gxt=X6(),Wxt=iy(),Zxt=Vr(),Kxt=Hxt(function(e){var t=this,r=t.iterator,n=t.mapper;return new e(function(i,o){var u=function(w){t.done=!0,o(w)},f=function(w){Wxt(r,u,w,u)},h=function(){try{e.resolve(Xb(Fge(t.next,r))).then(function(w){try{if(Xb(w).done)t.done=!0,i(jge(void 0,!0));else{var T=w.value;try{var A=n(T,t.counter++),q=function(z){try{t.inner=Gxt(z),y()}catch(F){f(F)}};Uxt(A)?e.resolve(A).then(q,f):q(A)}catch(z){f(z)}}}catch(z){u(z)}},u)}catch(w){u(w)}},y=function(){var w=t.inner;if(w)try{e.resolve(Xb(Fge(w.next,w.iterator))).then(function(T){try{Xb(T).done?(t.inner=null,h()):i(jge(T.value,!1))}catch(A){f(A)}},f)}catch(T){f(T)}else h()};y()})});Bxt({target:"AsyncIterator",proto:!0,real:!0,forced:Zxt},{flatMap:function(t){return Xb(this),Vxt(t),new Kxt($xt(this),{mapper:t,inner:null})}})});var Vge=I(()=>{"use strict";var Yxt=J(),Xxt=Qh().forEach;Yxt({target:"AsyncIterator",proto:!0,real:!0},{forEach:function(t){return Xxt(this,t)}})});var J6=I((Nmr,Uge)=>{"use strict";var Jxt=Dt(),Qxt=em();Uge.exports=Qxt(function(){return Jxt(this.next,this.iterator)},!0)});var $ge=I(()=>{"use strict";var ewt=J(),twt=Ur(),rwt=la(),nwt=X6(),iwt=ny(),owt=J6(),awt=Vr();ewt({target:"AsyncIterator",stat:!0,forced:awt},{from:function(t){var r=nwt(typeof t=="string"?twt(t):t);return rwt(iwt,r.iterator)?r.iterator:new owt(r)}})});var Hge=I(()=>{"use strict";var swt=J(),lwt=Z6();swt({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{indexed:lwt})});var Gge=I(()=>{"use strict";var uwt=J(),cwt=W6(),pwt=Vr();uwt({target:"AsyncIterator",proto:!0,real:!0,forced:pwt},{map:cwt})});var Wge=I(()=>{"use strict";var dwt=J(),fwt=Dt(),hwt=yr(),Q6=zt(),mwt=Ir(),vwt=gr(),gwt=ai(),ywt=iy(),eF=vwt("Promise"),_wt=TypeError;dwt({target:"AsyncIterator",proto:!0,real:!0},{reduce:function(t){Q6(this),hwt(t);var r=gwt(this),n=r.iterator,i=r.next,o=arguments.length<2,u=o?void 0:arguments[1],f=0;return new eF(function(h,y){var w=function(A){ywt(n,y,A,y)},T=function(){try{eF.resolve(Q6(fwt(i,n))).then(function(A){try{if(Q6(A).done)o?y(new _wt("Reduce of empty iterator with no initial value")):h(u);else{var q=A.value;if(o)o=!1,u=q,T();else try{var z=t(u,q,f),F=function(N){u=N,T()};mwt(z)?eF.resolve(z).then(F,w):F(z)}catch(N){w(N)}}f++}catch(N){y(N)}},y)}catch(A){y(A)}};T()})}})});var Zge=I(()=>{"use strict";var bwt=J(),xwt=Qh().some;bwt({target:"AsyncIterator",proto:!0,real:!0},{some:function(t){return xwt(this,t)}})});var Xge=I(()=>{"use strict";var wwt=J(),Kge=Dt(),Yge=zt(),Swt=ai(),Iwt=Yb(),Ewt=Yg(),Twt=em(),tF=Oo(),Awt=Vr(),Cwt=Twt(function(e){var t=this,r=t.iterator,n;if(!t.remaining--){var i=tF(void 0,!0);return t.done=!0,n=r.return,n!==void 0?e.resolve(Kge(n,r,void 0)).then(function(){return i}):i}return e.resolve(Kge(t.next,r)).then(function(o){return Yge(o).done?(t.done=!0,tF(void 0,!0)):tF(o.value,!1)}).then(null,function(o){throw t.done=!0,o})});wwt({target:"AsyncIterator",proto:!0,real:!0,forced:Awt},{take:function(t){Yge(this);var r=Ewt(Iwt(+t));return new Cwt(Swt(this),{remaining:r})}})});var Jge=I(()=>{"use strict";var Mwt=J(),Pwt=Qh().toArray;Mwt({target:"AsyncIterator",proto:!0,real:!0},{toArray:function(){return Pwt(this,void 0,[])}})});var OA=I((Kmr,iye)=>{"use strict";var eye=mn(),Owt=$d(),rF=Oo(),Rwt=qi(),qwt=Ir(),Nwt=oi(),tye=pr(),Jb="Incorrect Iterator.range arguments",iF="NumericRangeIterator",kwt=eye.set,rye=eye.getterFor(iF),Qge=RangeError,nF=TypeError,nye=Owt(function(t,r,n,i,o,u){if(typeof t!=i||r!==1/0&&r!==-1/0&&typeof r!=i)throw new nF(Jb);if(t===1/0||t===-1/0)throw new Qge(Jb);var f=r>t,h=!1,y;if(n===void 0)y=void 0;else if(qwt(n))y=n.step,h=!!n.inclusive;else if(typeof n==i)y=n;else throw new nF(Jb);if(Rwt(y)&&(y=f?u:-u),typeof y!=i)throw new nF(Jb);if(y===1/0||y===-1/0||y===o&&t!==r)throw new Qge(Jb);var w=t!==t||r!==r||y!==y||r>t!=y>o;kwt(this,{type:iF,start:t,end:r,step:y,inclusive:h,hitsEnd:w,currentCount:o,zero:o}),tye||(this.start=t,this.end=r,this.step=y,this.inclusive=h)},iF,function(){var t=rye(this);if(t.hitsEnd)return rF(void 0,!0);var r=t.start,n=t.end,i=t.step,o=r+i*t.currentCount++;o===n&&(t.hitsEnd=!0);var u=t.inclusive,f;return n>r?f=u?o>n:o>=n:f=u?n>o:n>=o,f?(t.hitsEnd=!0,rF(void 0,!0)):rF(o,!1)}),PA=function(e){Nwt(nye.prototype,e,{get:function(){return rye(this)[e]},set:function(){},configurable:!0,enumerable:!1})};tye&&(PA("start"),PA("end"),PA("inclusive"),PA("step"));iye.exports=nye});var oye=I(()=>{"use strict";var Dwt=J(),Lwt=OA();typeof BigInt=="function"&&Dwt({target:"BigInt",stat:!0,forced:!0},{range:function(t,r,n){return new Lwt(t,r,n,"bigint",BigInt(0),BigInt(1))}})});var oF=I((Jmr,uye)=>{"use strict";vT();pA();var lye=gr(),zwt=Ci(),aye=Ir(),Fwt=Object,jwt=TypeError,Bwt=lye("Map"),Vwt=lye("WeakMap"),RA=function(){this.object=null,this.symbol=null,this.primitives=null,this.objectsByIndex=zwt(null)};RA.prototype.get=function(e,t){return this[e]||(this[e]=t())};RA.prototype.next=function(e,t,r){var n=r?this.objectsByIndex[e]||(this.objectsByIndex[e]=new Vwt):this.primitives||(this.primitives=new Bwt),i=n.get(t);return i||n.set(t,i=new RA),i};var sye=new RA;uye.exports=function(){var e=sye,t=arguments.length,r,n;for(r=0;r<t;r++)aye(n=arguments[r])&&(e=e.next(r,n,!0));if(this===Fwt&&e===sye)throw new jwt("Composite keys must contain a non-primitive component");for(r=0;r<t;r++)aye(n=arguments[r])||(e=e.next(r,n,!1));return e}});var pye=I(()=>{"use strict";var Uwt=J(),$wt=ua(),Hwt=oF(),Gwt=gr(),cye=Ci(),Wwt=Object,Zwt=function(){var e=Gwt("Object","freeze");return e?e(cye(null)):cye(null)};Uwt({global:!0,forced:!0},{compositeKey:function(){return $wt(Hwt,Wwt,arguments).get("object",Zwt)}})});var fye=I(()=>{"use strict";var Kwt=J(),Ywt=oF(),dye=gr(),Xwt=ua();Kwt({global:!0,forced:!0},{compositeSymbol:function(){return arguments.length===1&&typeof arguments[0]=="string"?dye("Symbol").for(arguments[0]):Xwt(Ywt,null,arguments).get("symbol",dye("Symbol"))}})});var hye=I(()=>{"use strict";var Jwt=J(),Qwt=rt(),eSt=QE().unpack,tSt=Qwt(DataView.prototype.getUint16);Jwt({target:"DataView",proto:!0},{getFloat16:function(t){var r=tSt(this,t,arguments.length>1?arguments[1]:!1);return eSt([r&255,r>>8&255],10)}})});var mye=I(()=>{"use strict";var rSt=J(),nSt=rt(),iSt=nSt(DataView.prototype.getUint8);rSt({target:"DataView",proto:!0,forced:!0},{getUint8Clamped:function(t){return iSt(this,t)}})});var aF=I((svr,vye)=>{"use strict";var oSt=o3(),aSt=.0009765625,sSt=65504,lSt=6103515625e-14;vye.exports=Math.f16round||function(t){return oSt(t,aSt,sSt,lSt)}});var gye=I(()=>{"use strict";var uSt=J(),cSt=rt(),pSt=os(),dSt=Ig(),fSt=QE().pack,hSt=aF(),mSt=TypeError,vSt=cSt(DataView.prototype.setUint16);uSt({target:"DataView",proto:!0},{setFloat16:function(t,r){if(pSt(this)!=="DataView")throw new mSt("Incorrect receiver");var n=dSt(t),i=fSt(hSt(r),10,2);return vSt(this,n,i[1]<<8|i[0],arguments.length>2?arguments[2]:!1)}})});var yye=I(()=>{"use strict";var gSt=J(),ySt=rt(),_St=os(),bSt=Ig(),xSt=Fz(),wSt=TypeError,SSt=ySt(DataView.prototype.setUint8);gSt({target:"DataView",proto:!0,forced:!0},{setUint8Clamped:function(t,r){if(_St(this)!=="DataView")throw new wSt("Incorrect receiver");var n=bSt(t);return SSt(this,n,xSt(r))}})});var Sye=I(()=>{"use strict";var ISt=J(),NA=pr(),ESt=gr(),_ye=yr(),TSt=ca(),bye=Sn(),ASt=_l(),CSt=oi(),xye=dr(),wye=mn(),sF=j6(),MSt=ESt("SuppressedError"),PSt=ReferenceError,OSt=xye("dispose"),RSt=xye("toStringTag"),DA="DisposableStack",qSt=wye.set,kA=wye.getterFor(DA),lF="sync-dispose",Qb="disposed",NSt="pending",qA=function(e){var t=kA(e);if(t.state===Qb)throw new PSt(DA+" already disposed");return t},uF=function(){qSt(TSt(this,ay),{type:DA,state:NSt,stack:[]}),NA||(this.disposed=!1)},ay=uF.prototype;ASt(ay,{dispose:function(){var t=kA(this);if(t.state!==Qb){t.state=Qb,NA||(this.disposed=!0);for(var r=t.stack,n=r.length,i=!1,o;n;){var u=r[--n];r[n]=null;try{u()}catch(f){i?o=new MSt(f,o):(i=!0,o=f)}}if(t.stack=null,i)throw o}},use:function(t){return sF(qA(this),t,lF),t},adopt:function(t,r){var n=qA(this);return _ye(r),sF(n,void 0,lF,function(){r(t)}),t},defer:function(t){var r=qA(this);_ye(t),sF(r,void 0,lF,t)},move:function(){var t=qA(this),r=new uF;return kA(r).stack=t.stack,t.stack=[],t.state=Qb,NA||(this.disposed=!0),r}});NA&&CSt(ay,"disposed",{configurable:!0,get:function(){return kA(this).state===Qb}});bye(ay,OSt,ay.dispose,{name:"dispose"});bye(ay,RSt,DA,{nonWritable:!0});ISt({global:!0,constructor:!0},{DisposableStack:uF})});var cF=I((hvr,Iye)=>{"use strict";var kSt=rt(),DSt=yr();Iye.exports=function(){return kSt(DSt(this))}});var Eye=I(()=>{"use strict";var LSt=J(),zSt=cF();LSt({target:"Function",proto:!0,forced:!0},{demethodize:zSt})});var Aye=I(()=>{"use strict";var FSt=J(),jSt=rt(),BSt=Sr(),VSt=V_(),USt=qr(),$St=pr(),HSt=Object.getOwnPropertyDescriptor,Tye=/^\s*class\b/,GSt=jSt(Tye.exec),WSt=function(e){try{if(!$St||!GSt(Tye,VSt(e)))return!1}catch(r){}var t=HSt(e,"prototype");return!!t&&USt(t,"writable")&&!t.writable};FSt({target:"Function",stat:!0,sham:!0,forced:!0},{isCallable:function(t){return BSt(t)&&!WSt(t)}})});var Cye=I(()=>{"use strict";var ZSt=J(),KSt=ru();ZSt({target:"Function",stat:!0,forced:!0},{isConstructor:KSt})});var Oye=I(()=>{"use strict";var YSt=dr(),XSt=Vn().f,Mye=YSt("metadata"),Pye=Function.prototype;Pye[Mye]===void 0&&XSt(Pye,Mye,{value:null})});var Rye=I(()=>{"use strict";var JSt=J(),QSt=cF();JSt({target:"Function",proto:!0,forced:!0,name:"demethodize"},{unThis:QSt})});var qye=I(()=>{"use strict";O3()});var zye=I(()=>{"use strict";var e2t=J(),t2t=Kt(),r2t=ca(),n2t=Sr(),i2t=ki(),kye=Ni(),o2t=gt(),Dye=qr(),a2t=dr(),ap=Fh().IteratorPrototype,s2t=Vr(),Nye=a2t("toStringTag"),l2t=TypeError,pF=t2t.Iterator,Lye=s2t||!n2t(pF)||pF.prototype!==ap||!o2t(function(){pF({})}),dF=function(){if(r2t(this,ap),i2t(this)===ap)throw new l2t("Abstract class Iterator not directly constructable")};Dye(ap,Nye)||kye(ap,Nye,"Iterator");(Lye||!Dye(ap,"constructor")||ap.constructor===Object)&&kye(ap,"constructor",dF);dF.prototype=ap;e2t({global:!0,constructor:!0,forced:Lye},{Iterator:dF})});var tm=I((Mvr,$ye)=>{"use strict";var u2t=Dt(),c2t=Ci(),p2t=Ni(),d2t=_l(),f2t=dr(),Fye=mn(),h2t=Ai(),m2t=Fh().IteratorPrototype,fF=Oo(),hF=Xc(),v2t=f2t("toStringTag"),jye="IteratorHelper",Bye="WrapForValidIterator",g2t=Fye.set,Vye=function(e){var t=Fye.getterFor(e?Bye:jye);return d2t(c2t(m2t),{next:function(){var n=t(this);if(e)return n.nextHandler();try{var i=n.done?void 0:n.nextHandler();return fF(i,n.done)}catch(o){throw n.done=!0,o}},return:function(){var r=t(this),n=r.iterator;if(r.done=!0,e){var i=h2t(n,"return");return i?u2t(i,n):fF(void 0,!0)}if(r.inner)try{hF(r.inner.iterator,"normal")}catch(o){return hF(n,"throw",o)}return hF(n,"normal"),fF(void 0,!0)}})},y2t=Vye(!0),Uye=Vye(!1);p2t(Uye,v2t,"Iterator Helper");$ye.exports=function(e,t){var r=function(i,o){o?(o.iterator=i.iterator,o.next=i.next):o=i,o.type=t?Bye:jye,o.nextHandler=e,o.counter=0,o.done=!1,g2t(this,o)};return r.prototype=t?y2t:Uye,r}});var mF=I((Pvr,Gye)=>{"use strict";var _2t=Dt(),b2t=yr(),Hye=zt(),x2t=ai(),w2t=tm(),S2t=VE(),I2t=w2t(function(){var e=this.iterator,t=Hye(_2t(this.next,e)),r=this.done=!!t.done;if(!r)return S2t(e,this.mapper,[t.value,this.counter++],!0)});Gye.exports=function(t){return Hye(this),b2t(t),new I2t(x2t(this),{mapper:t})}});var vF=I((Ovr,Wye)=>{"use strict";var E2t=Dt(),T2t=mF(),A2t=function(e,t){return[t,e]};Wye.exports=function(){return E2t(T2t,this,A2t)}});var Zye=I(()=>{"use strict";var C2t=J(),M2t=vF();C2t({target:"Iterator",name:"indexed",proto:!0,real:!0,forced:!0},{asIndexedPairs:M2t})});var Xye=I(()=>{"use strict";var P2t=Dt(),O2t=Sn(),R2t=Ai(),q2t=qr(),N2t=dr(),Kye=Fh().IteratorPrototype,Yye=N2t("dispose");q2t(Kye,Yye)||O2t(Kye,Yye,function(){var e=R2t(this,"return");e&&P2t(e,this)})});var Qye=I(()=>{"use strict";var k2t=J(),Jye=Dt(),gF=zt(),D2t=ai(),L2t=Yb(),z2t=Yg(),F2t=tm(),j2t=Vr(),B2t=F2t(function(){for(var e=this.iterator,t=this.next,r,n;this.remaining;)if(this.remaining--,r=gF(Jye(t,e)),n=this.done=!!r.done,n)return;if(r=gF(Jye(t,e)),n=this.done=!!r.done,!n)return r.value});k2t({target:"Iterator",proto:!0,real:!0,forced:j2t},{drop:function(t){gF(this);var r=z2t(L2t(+t));return new B2t(D2t(this),{remaining:r})}})});var e0e=I(()=>{"use strict";var V2t=J(),U2t=gi(),$2t=yr(),H2t=zt(),G2t=ai();V2t({target:"Iterator",proto:!0,real:!0},{every:function(t){H2t(this),$2t(t);var r=G2t(this),n=0;return!U2t(r,function(i,o){if(!t(i,n++))return o()},{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})});var r0e=I(()=>{"use strict";var W2t=J(),Z2t=Dt(),K2t=yr(),t0e=zt(),Y2t=ai(),X2t=tm(),J2t=VE(),Q2t=Vr(),eIt=X2t(function(){for(var e=this.iterator,t=this.predicate,r=this.next,n,i,o;;){if(n=t0e(Z2t(r,e)),i=this.done=!!n.done,i)return;if(o=n.value,J2t(e,t,[o,this.counter++],!0))return o}});W2t({target:"Iterator",proto:!0,real:!0,forced:Q2t},{filter:function(t){return t0e(this),K2t(t),new eIt(Y2t(this),{predicate:t})}})});var n0e=I(()=>{"use strict";var tIt=J(),rIt=gi(),nIt=yr(),iIt=zt(),oIt=ai();tIt({target:"Iterator",proto:!0,real:!0},{find:function(t){iIt(this),nIt(t);var r=oIt(this),n=0;return rIt(r,function(i,o){if(t(i,n++))return o(i)},{IS_RECORD:!0,INTERRUPTED:!0}).result}})});var yF=I(($vr,o0e)=>{"use strict";var aIt=Dt(),i0e=zt(),sIt=ai(),lIt=Yc();o0e.exports=function(e,t){(!t||typeof e!="string")&&i0e(e);var r=lIt(e);return sIt(i0e(r!==void 0?aIt(r,e):e))}});var l0e=I(()=>{"use strict";var uIt=J(),a0e=Dt(),cIt=yr(),_F=zt(),pIt=ai(),dIt=yF(),fIt=tm(),s0e=Xc(),hIt=Vr(),mIt=fIt(function(){for(var e=this.iterator,t=this.mapper,r,n;;){if(n=this.inner)try{if(r=_F(a0e(n.next,n.iterator)),!r.done)return r.value;this.inner=null}catch(i){s0e(e,"throw",i)}if(r=_F(a0e(this.next,e)),this.done=!!r.done)return;try{this.inner=dIt(t(r.value,this.counter++),!1)}catch(i){s0e(e,"throw",i)}}});uIt({target:"Iterator",proto:!0,real:!0,forced:hIt},{flatMap:function(t){return _F(this),cIt(t),new mIt(pIt(this),{mapper:t,inner:null})}})});var u0e=I(()=>{"use strict";var vIt=J(),gIt=gi(),yIt=yr(),_It=zt(),bIt=ai();vIt({target:"Iterator",proto:!0,real:!0},{forEach:function(t){_It(this),yIt(t);var r=bIt(this),n=0;gIt(r,function(i){t(i,n++)},{IS_RECORD:!0})}})});var c0e=I(()=>{"use strict";var xIt=J(),wIt=Dt(),SIt=Ur(),IIt=la(),EIt=Fh().IteratorPrototype,TIt=tm(),AIt=yF(),CIt=Vr(),MIt=TIt(function(){return wIt(this.next,this.iterator)},!0);xIt({target:"Iterator",stat:!0,forced:CIt},{from:function(t){var r=AIt(typeof t=="string"?SIt(t):t,!0);return IIt(EIt,r.iterator)?r.iterator:new MIt(r)}})});var p0e=I(()=>{"use strict";var PIt=J(),OIt=vF();PIt({target:"Iterator",proto:!0,real:!0,forced:!0},{indexed:OIt})});var d0e=I(()=>{"use strict";var RIt=J(),qIt=mF(),NIt=Vr();RIt({target:"Iterator",proto:!0,real:!0,forced:NIt},{map:qIt})});var h0e=I(()=>{"use strict";var kIt=J(),f0e=OA(),DIt=TypeError;kIt({target:"Iterator",stat:!0,forced:!0},{range:function(t,r,n){if(typeof t=="number")return new f0e(t,r,n,"number",0,1);if(typeof t=="bigint")return new f0e(t,r,n,"bigint",BigInt(0),BigInt(1));throw new DIt("Incorrect Iterator.range arguments")}})});var m0e=I(()=>{"use strict";var LIt=J(),zIt=gi(),FIt=yr(),jIt=zt(),BIt=ai(),VIt=TypeError;LIt({target:"Iterator",proto:!0,real:!0},{reduce:function(t){jIt(this),FIt(t);var r=BIt(this),n=arguments.length<2,i=n?void 0:arguments[1],o=0;if(zIt(r,function(u){n?(n=!1,i=u):i=t(i,u,o),o++},{IS_RECORD:!0}),n)throw new VIt("Reduce of empty iterator with no initial value");return i}})});var v0e=I(()=>{"use strict";var UIt=J(),$It=gi(),HIt=yr(),GIt=zt(),WIt=ai();UIt({target:"Iterator",proto:!0,real:!0},{some:function(t){GIt(this),HIt(t);var r=WIt(this),n=0;return $It(r,function(i,o){if(t(i,n++))return o()},{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})});var y0e=I(()=>{"use strict";var ZIt=J(),KIt=Dt(),g0e=zt(),YIt=ai(),XIt=Yb(),JIt=Yg(),QIt=tm(),eEt=Xc(),tEt=Vr(),rEt=QIt(function(){var e=this.iterator;if(!this.remaining--)return this.done=!0,eEt(e,"normal",void 0);var t=g0e(KIt(this.next,e)),r=this.done=!!t.done;if(!r)return t.value});ZIt({target:"Iterator",proto:!0,real:!0,forced:tEt},{take:function(t){g0e(this);var r=JIt(XIt(+t));return new rEt(YIt(this),{remaining:r})}})});var _0e=I(()=>{"use strict";var nEt=J(),iEt=zt(),oEt=gi(),aEt=ai(),sEt=[].push;nEt({target:"Iterator",proto:!0,real:!0},{toArray:function(){var t=[];return oEt(aEt(iEt(this)),sEt,{that:t,IS_RECORD:!0}),t}})});var x0e=I(()=>{"use strict";var lEt=J(),uEt=zt(),cEt=Gb(),pEt=J6(),b0e=ai(),dEt=Vr();lEt({target:"Iterator",proto:!0,real:!0,forced:dEt},{toAsync:function(){return new pEt(b0e(new cEt(b0e(uEt(this)))))}})});var bF=I((fgr,w0e)=>{"use strict";var fEt=gt();w0e.exports=!fEt(function(){var e="9007199254740993",t=JSON.rawJSON(e);return!JSON.isRawJSON(t)||JSON.stringify(t)!==e})});var xF=I((hgr,S0e)=>{"use strict";var hEt=Ir(),mEt=mn().get;S0e.exports=function(t){if(!hEt(t))return!1;var r=mEt(t);return!!r&&r.type==="RawJSON"}});var I0e=I(()=>{"use strict";var vEt=J(),gEt=bF(),yEt=xF();vEt({target:"JSON",stat:!0,forced:!gEt},{isRawJSON:yEt})});var SF=I((ggr,C0e)=>{"use strict";var wF=rt(),_Et=qr(),LA=SyntaxError,bEt=parseInt,xEt=String.fromCharCode,wEt=wF("".charAt),E0e=wF("".slice),T0e=wF(/./.exec),A0e={"\\\"":"\"","\\\\":"\\","\\/":"/","\\b":"\b","\\f":"\f","\\n":`
`,"\\r":"\r","\\t":"\t"},SEt=/^[\da-f]{4}$/i,IEt=/^[\u0000-\u001F]$/;C0e.exports=function(e,t){for(var r=!0,n="";t<e.length;){var i=wEt(e,t);if(i==="\\"){var o=E0e(e,t,t+2);if(_Et(A0e,o))n+=A0e[o],t+=2;else if(o==="\\u"){t+=2;var u=E0e(e,t,t+4);if(!T0e(SEt,u))throw new LA("Bad Unicode escape at: "+t);n+=xEt(bEt(u,16)),t+=4}else throw new LA("Unknown escape sequence: \""+o+"\"")}else if(i==="\""){r=!1,t++;break}else{if(T0e(IEt,i))throw new LA("Bad control character in string literal at: "+t);n+=i,t++}}if(r)throw new LA("Unterminated string at: "+t);return{value:n,end:t}}});var D0e=I(()=>{"use strict";var EEt=J(),TEt=pr(),OF=Kt(),AEt=gr(),zA=rt(),CEt=Dt(),N0e=Sr(),MEt=Ir(),PEt=tu(),OEt=qr(),REt=br(),M0e=Wr(),CF=ml(),k0e=gt(),qEt=SF(),NEt=Ld(),P0e=OF.JSON,kEt=OF.Number,sy=OF.SyntaxError,RF=P0e&&P0e.parse,DEt=AEt("Object","keys"),LEt=Object.getOwnPropertyDescriptor,Ro=zA("".charAt),IF=zA("".slice),EF=zA(/./.exec),O0e=zA([].push),TF=/^\d$/,zEt=/^[1-9]$/,FEt=/^(?:-|\d)$/,ex=/^[\t\n\r ]$/,AF=0,R0e=1,jEt=function(e,t){e=REt(e);var r=new PF(e,0,""),n=r.parse(),i=n.value,o=r.skip(ex,n.end);if(o<e.length)throw new sy("Unexpected extra character: \""+Ro(e,o)+"\" after the parsed data at: "+o);return N0e(t)?MF({"":i},"",t,n):i},MF=function(e,t,r,n){var i=e[t],o=n&&i===n.value,u=o&&typeof n.source=="string"?{source:n.source}:{},f,h,y,w,T;if(MEt(i)){var A=PEt(i),q=o?n.nodes:A?[]:{};if(A)for(f=q.length,y=M0e(i),w=0;w<y;w++)q0e(i,w,MF(i,""+w,r,w<f?q[w]:void 0));else for(h=DEt(i),y=M0e(h),w=0;w<y;w++)T=h[w],q0e(i,T,MF(i,T,r,OEt(q,T)?q[T]:void 0))}return CEt(r,e,t,i,u)},q0e=function(e,t,r){if(TEt){var n=LEt(e,t);if(n&&!n.configurable)return}r===void 0?delete e[t]:CF(e,t,r)},BEt=function(e,t,r,n){this.value=e,this.end=t,this.source=r,this.nodes=n},PF=function(e,t){this.source=e,this.index=t};PF.prototype={fork:function(e){return new PF(this.source,e)},parse:function(){var e=this.source,t=this.skip(ex,this.index),r=this.fork(t),n=Ro(e,t);if(EF(FEt,n))return r.number();switch(n){case"{":return r.object();case"[":return r.array();case"\"":return r.string();case"t":return r.keyword(!0);case"f":return r.keyword(!1);case"n":return r.keyword(null);}throw new sy("Unexpected character: \""+n+"\" at: "+t)},node:function(e,t,r,n,i){return new BEt(t,n,e?null:IF(this.source,r,n),i)},object:function(){for(var e=this.source,t=this.index+1,r=!1,n={},i={};t<e.length;){if(t=this.until(["\"","}"],t),Ro(e,t)==="}"&&!r){t++;break}var o=this.fork(t).string(),u=o.value;t=o.end,t=this.until([":"],t)+1,t=this.skip(ex,t),o=this.fork(t).parse(),CF(i,u,o),CF(n,u,o.value),t=this.until([",","}"],o.end);var f=Ro(e,t);if(f===",")r=!0,t++;else if(f==="}"){t++;break}}return this.node(R0e,n,this.index,t,i)},array:function(){for(var e=this.source,t=this.index+1,r=!1,n=[],i=[];t<e.length;){if(t=this.skip(ex,t),Ro(e,t)==="]"&&!r){t++;break}var o=this.fork(t).parse();if(O0e(i,o),O0e(n,o.value),t=this.until([",","]"],o.end),Ro(e,t)===",")r=!0,t++;else if(Ro(e,t)==="]"){t++;break}}return this.node(R0e,n,this.index,t,i)},string:function(){var e=this.index,t=qEt(this.source,this.index+1);return this.node(AF,t.value,e,t.end)},number:function(){var e=this.source,t=this.index,r=t;if(Ro(e,r)==="-"&&r++,Ro(e,r)==="0")r++;else if(EF(zEt,Ro(e,r)))r=this.skip(TF,++r);else throw new sy("Failed to parse number at: "+r);if(Ro(e,r)==="."&&(r=this.skip(TF,++r)),Ro(e,r)==="e"||Ro(e,r)==="E"){r++,(Ro(e,r)==="+"||Ro(e,r)==="-")&&r++;var n=r;if(r=this.skip(TF,r),n===r)throw new sy("Failed to parse number's exponent value at: "+r)}return this.node(AF,kEt(IF(e,t,r)),t,r)},keyword:function(e){var t=""+e,r=this.index,n=r+t.length;if(IF(this.source,r,n)!==t)throw new sy("Failed to parse value at: "+r);return this.node(AF,e,r,n)},skip:function(e,t){for(var r=this.source;t<r.length&&EF(e,Ro(r,t));t++);return t},until:function(e,t){t=this.skip(ex,t);for(var r=Ro(this.source,t),n=0;n<e.length;n++)if(e[n]===r)return t;throw new sy("Unexpected character: \""+r+"\" at: "+t)}};var VEt=k0e(function(){var e="9007199254740993",t;return RF(e,function(r,n,i){t=i.source}),t!==e}),UEt=NEt&&!k0e(function(){return 1/RF("-0 \t")!==-1/0});EEt({target:"JSON",stat:!0,forced:VEt},{parse:function(t,r){return UEt&&!N0e(r)?RF(t):jEt(t,r)}})});var H0e=I(()=>{"use strict";var U0e=J(),$Et=np(),$0e=bF(),FA=gr(),HEt=Dt(),jA=rt(),GEt=Sr(),WEt=xF(),ZEt=br(),KEt=ml(),YEt=SF(),XEt=l4(),JEt=Fd(),QEt=mn().set,eTt=String,L0e=SyntaxError,tTt=FA("JSON","parse"),z0e=FA("JSON","stringify"),rTt=FA("Object","create"),nTt=FA("Object","freeze"),NF=jA("".charAt),qF=jA("".slice),F0e=jA(/./.exec),iTt=jA([].push),kF=JEt(),j0e=kF.length,B0e="Unacceptable as raw JSON",V0e=/^[\t\n\r ]$/;U0e({target:"JSON",stat:!0,forced:!$0e},{rawJSON:function(t){var r=ZEt(t);if(r===""||F0e(V0e,NF(r,0))||F0e(V0e,NF(r,r.length-1)))throw new L0e(B0e);var n=tTt(r);if(typeof n=="object"&&n!==null)throw new L0e(B0e);var i=rTt(null);return QEt(i,{type:"RawJSON"}),KEt(i,"rawJSON",r),$Et?nTt(i):i}});z0e&&U0e({target:"JSON",stat:!0,arity:3,forced:!$0e},{stringify:function(t,r,n){var i=XEt(r),o=[],u=z0e(t,function(q,z){var F=GEt(i)?HEt(i,this,eTt(q),z):z;return WEt(F)?kF+(iTt(o,F.rawJSON)-1):F},n);if(typeof u!="string")return u;for(var f="",h=u.length,y=0;y<h;y++){var w=NF(u,y);if(w==="\""){var T=YEt(u,++y).end-1,A=qF(u,y,T);f+=qF(A,0,j0e)===kF?o[qF(A,j0e)]:"\""+A+"\"",y=T}else f+=w}return f}})});var ka=I((wgr,G0e)=>{"use strict";var oTt=Na().has;G0e.exports=function(e){return oTt(e),e}});var W0e=I(()=>{"use strict";var aTt=J(),sTt=ka(),lTt=Na().remove;aTt({target:"Map",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var t=sTt(this),r=!0,n,i=0,o=arguments.length;i<o;i++)n=lTt(t,arguments[i]),r=r&&n;return!!r}})});var K0e=I(()=>{"use strict";var uTt=J(),cTt=ka(),DF=Na(),pTt=DF.get,dTt=DF.has,Z0e=DF.set;uTt({target:"Map",proto:!0,real:!0,forced:!0},{emplace:function(t,r){var n=cTt(this),i,o;return dTt(n,t)?(i=pTt(n,t),"update"in r&&(i=r.update(i,t,n),Z0e(n,t,i)),i):(o=r.insert(t,n),Z0e(n,t,o),o)}})});var Y0e=I(()=>{"use strict";var fTt=J(),hTt=On(),mTt=ka(),vTt=wl();fTt({target:"Map",proto:!0,real:!0,forced:!0},{every:function(t){var r=mTt(this),n=hTt(t,arguments.length>1?arguments[1]:void 0);return vTt(r,function(i,o){if(!n(i,o,r))return!1},!0)!==!1}})});var J0e=I(()=>{"use strict";var gTt=J(),yTt=On(),_Tt=ka(),X0e=Na(),bTt=wl(),xTt=X0e.Map,wTt=X0e.set;gTt({target:"Map",proto:!0,real:!0,forced:!0},{filter:function(t){var r=_Tt(this),n=yTt(t,arguments.length>1?arguments[1]:void 0),i=new xTt;return bTt(r,function(o,u){n(o,u,r)&&wTt(i,u,o)}),i}})});var Q0e=I(()=>{"use strict";var STt=J(),ITt=On(),ETt=ka(),TTt=wl();STt({target:"Map",proto:!0,real:!0,forced:!0},{find:function(t){var r=ETt(this),n=ITt(t,arguments.length>1?arguments[1]:void 0),i=TTt(r,function(o,u){if(n(o,u,r))return{value:o}},!0);return i&&i.value}})});var e1e=I(()=>{"use strict";var ATt=J(),CTt=On(),MTt=ka(),PTt=wl();ATt({target:"Map",proto:!0,real:!0,forced:!0},{findKey:function(t){var r=MTt(this),n=CTt(t,arguments.length>1?arguments[1]:void 0),i=PTt(r,function(o,u){if(n(o,u,r))return{key:u}},!0);return i&&i.key}})});var tx=I((kgr,n1e)=>{"use strict";var OTt=On(),RTt=Dt(),qTt=yr(),NTt=Pg(),kTt=qi(),t1e=gi(),r1e=[].push;n1e.exports=function(t){var r=arguments.length,n=r>1?arguments[1]:void 0,i,o,u,f;return NTt(this),i=n!==void 0,i&&qTt(n),kTt(t)?new this:(o=[],i?(u=0,f=OTt(n,r>2?arguments[2]:void 0),t1e(t,function(h){RTt(r1e,o,f(h,u++))})):t1e(t,r1e,{that:o}),new this(o))}});var i1e=I(()=>{"use strict";var DTt=J(),LTt=tx();DTt({target:"Map",stat:!0,forced:!0},{from:LTt})});var o1e=I(()=>{"use strict";var zTt=J(),FTt=rt(),jTt=yr(),BTt=Yn(),VTt=gi(),BA=Na(),UTt=Vr(),$Tt=BA.Map,HTt=BA.has,GTt=BA.get,WTt=BA.set,ZTt=FTt([].push);zTt({target:"Map",stat:!0,forced:UTt},{groupBy:function(t,r){BTt(t),jTt(r);var n=new $Tt,i=0;return VTt(t,function(o){var u=r(o,i++);HTt(n,u)?ZTt(GTt(n,u),o):WTt(n,u,[o])}),n}})});var s1e=I((jgr,a1e)=>{"use strict";a1e.exports=function(e,t){return e===t||e!==e&&t!==t}});var l1e=I(()=>{"use strict";var KTt=J(),YTt=s1e(),XTt=ka(),JTt=wl();KTt({target:"Map",proto:!0,real:!0,forced:!0},{includes:function(t){return JTt(XTt(this),function(r){if(YTt(r,t))return!0},!0)===!0}})});var c1e=I(()=>{"use strict";var QTt=J(),eAt=Dt(),tAt=gi(),rAt=Sr(),u1e=yr(),nAt=Na().Map;QTt({target:"Map",stat:!0,forced:!0},{keyBy:function(t,r){var n=rAt(this)?this:nAt,i=new n;u1e(r);var o=u1e(i.set);return tAt(t,function(u){eAt(o,i,r(u),u)}),i}})});var p1e=I(()=>{"use strict";var iAt=J(),oAt=ka(),aAt=wl();iAt({target:"Map",proto:!0,real:!0,forced:!0},{keyOf:function(t){var r=aAt(oAt(this),function(n,i){if(n===t)return{key:i}},!0);return r&&r.key}})});var f1e=I(()=>{"use strict";var sAt=J(),lAt=On(),uAt=ka(),d1e=Na(),cAt=wl(),pAt=d1e.Map,dAt=d1e.set;sAt({target:"Map",proto:!0,real:!0,forced:!0},{mapKeys:function(t){var r=uAt(this),n=lAt(t,arguments.length>1?arguments[1]:void 0),i=new pAt;return cAt(r,function(o,u){dAt(i,n(o,u,r),o)}),i}})});var m1e=I(()=>{"use strict";var fAt=J(),hAt=On(),mAt=ka(),h1e=Na(),vAt=wl(),gAt=h1e.Map,yAt=h1e.set;fAt({target:"Map",proto:!0,real:!0,forced:!0},{mapValues:function(t){var r=mAt(this),n=hAt(t,arguments.length>1?arguments[1]:void 0),i=new gAt;return vAt(r,function(o,u){yAt(i,u,n(o,u,r))}),i}})});var v1e=I(()=>{"use strict";var _At=J(),bAt=ka(),xAt=gi(),wAt=Na().set;_At({target:"Map",proto:!0,real:!0,arity:1,forced:!0},{merge:function(t){for(var r=bAt(this),n=arguments.length,i=0;i<n;)xAt(arguments[i++],function(o,u){wAt(r,o,u)},{AS_ENTRIES:!0});return r}})});var rx=I((Qgr,g1e)=>{"use strict";var SAt=Zc();g1e.exports=function(){return new this(SAt(arguments))}});var y1e=I(()=>{"use strict";var IAt=J(),EAt=rx();IAt({target:"Map",stat:!0,forced:!0},{of:EAt})});var _1e=I(()=>{"use strict";var TAt=J(),AAt=yr(),CAt=ka(),MAt=wl(),PAt=TypeError;TAt({target:"Map",proto:!0,real:!0,forced:!0},{reduce:function(t){var r=CAt(this),n=arguments.length<2,i=n?void 0:arguments[1];if(AAt(t),MAt(r,function(o,u){n?(n=!1,i=o):i=t(i,o,u,r)}),n)throw new PAt("Reduce of empty map with no initial value");return i}})});var b1e=I(()=>{"use strict";var OAt=J(),RAt=On(),qAt=ka(),NAt=wl();OAt({target:"Map",proto:!0,real:!0,forced:!0},{some:function(t){var r=qAt(this),n=RAt(t,arguments.length>1?arguments[1]:void 0);return NAt(r,function(i,o){if(n(i,o,r))return!0},!0)===!0}})});var w1e=I(()=>{"use strict";var kAt=J(),x1e=yr(),DAt=ka(),LF=Na(),LAt=TypeError,zAt=LF.get,FAt=LF.has,jAt=LF.set;kAt({target:"Map",proto:!0,real:!0,forced:!0},{update:function(t,r){var n=DAt(this),i=arguments.length;x1e(r);var o=FAt(n,t);if(!o&&i<3)throw new LAt("Updating absent value");var u=o?zAt(n,t):x1e(i>2?arguments[2]:void 0)(t,n);return jAt(n,t,r(u,t,n)),n}})});var $A=I((lyr,S1e)=>{"use strict";var VA=Dt(),zF=yr(),UA=Sr(),BAt=zt(),VAt=TypeError;S1e.exports=function(t,r){var n=BAt(this),i=zF(n.get),o=zF(n.has),u=zF(n.set),f=arguments.length>2?arguments[2]:void 0,h;if(!UA(r)&&!UA(f))throw new VAt("At least one callback required");return VA(o,n,t)?(h=VA(i,n,t),UA(r)&&(h=r(h),VA(u,n,t,h))):UA(f)&&(h=f(),VA(u,n,t,h)),h}});var I1e=I(()=>{"use strict";var UAt=J(),$At=$A();UAt({target:"Map",proto:!0,real:!0,name:"upsert",forced:!0},{updateOrInsert:$At})});var E1e=I(()=>{"use strict";var HAt=J(),GAt=$A();HAt({target:"Map",proto:!0,real:!0,forced:!0},{upsert:GAt})});var T1e=I(()=>{"use strict";var WAt=J(),ZAt=Math.min,KAt=Math.max;WAt({target:"Math",stat:!0,forced:!0},{clamp:function(t,r,n){return ZAt(n,KAt(r,t))}})});var A1e=I(()=>{"use strict";var YAt=J();YAt({target:"Math",stat:!0,nonConfigurable:!0,nonWritable:!0},{DEG_PER_RAD:Math.PI/180})});var C1e=I(()=>{"use strict";var XAt=J(),JAt=180/Math.PI;XAt({target:"Math",stat:!0,forced:!0},{degrees:function(t){return t*JAt}})});var FF=I((_yr,M1e)=>{"use strict";M1e.exports=Math.scale||function(t,r,n,i,o){var u=+t,f=+r,h=+n,y=+i,w=+o;return u!==u||f!==f||h!==h||y!==y||w!==w?NaN:u===1/0||u===-1/0?u:(u-f)*(w-y)/(h-f)+y}});var P1e=I(()=>{"use strict";var QAt=J(),eCt=FF(),tCt=JE();QAt({target:"Math",stat:!0,forced:!0},{fscale:function(t,r,n,i,o){return tCt(eCt(t,r,n,i,o))}})});var O1e=I(()=>{"use strict";var rCt=J(),nCt=aF();rCt({target:"Math",stat:!0},{f16round:nCt})});var R1e=I(()=>{"use strict";var iCt=J();iCt({target:"Math",stat:!0,forced:!0},{iaddh:function(t,r,n,i){var o=t>>>0,u=r>>>0,f=n>>>0;return u+(i>>>0)+((o&f|(o|f)&~(o+f>>>0))>>>31)|0}})});var q1e=I(()=>{"use strict";var oCt=J();oCt({target:"Math",stat:!0,forced:!0},{imulh:function(t,r){var n=65535,i=+t,o=+r,u=i&n,f=o&n,h=i>>16,y=o>>16,w=(h*f>>>0)+(u*f>>>16);return h*y+(w>>16)+((u*y>>>0)+(w&n)>>16)}})});var N1e=I(()=>{"use strict";var aCt=J();aCt({target:"Math",stat:!0,forced:!0},{isubh:function(t,r,n,i){var o=t>>>0,u=r>>>0,f=n>>>0;return u-(i>>>0)-((~o&f|~(o^f)&o-f>>>0)>>>31)|0}})});var k1e=I(()=>{"use strict";var sCt=J();sCt({target:"Math",stat:!0,nonConfigurable:!0,nonWritable:!0},{RAD_PER_DEG:180/Math.PI})});var D1e=I(()=>{"use strict";var lCt=J(),uCt=Math.PI/180;lCt({target:"Math",stat:!0,forced:!0},{radians:function(t){return t*uCt}})});var L1e=I(()=>{"use strict";var cCt=J(),pCt=FF();cCt({target:"Math",stat:!0,forced:!0},{scale:pCt})});var B1e=I(()=>{"use strict";var dCt=J(),fCt=zt(),hCt=K3(),mCt=$d(),vCt=Oo(),z1e=mn(),F1e="Seeded Random",j1e=F1e+" Generator",gCt="Math.seededPRNG() argument should have a \"seed\" field with a finite value.",yCt=z1e.set,_Ct=z1e.getterFor(j1e),bCt=TypeError,xCt=mCt(function(t){yCt(this,{type:j1e,seed:t%2147483647})},F1e,function(){var t=_Ct(this),r=t.seed=(t.seed*1103515245+12345)%2147483647;return vCt((r&1073741823)/1073741823,!1)});dCt({target:"Math",stat:!0,forced:!0},{seededPRNG:function(t){var r=fCt(t).seed;if(!hCt(r))throw new bCt(gCt);return new xCt(r)}})});var V1e=I(()=>{"use strict";var wCt=J();wCt({target:"Math",stat:!0,forced:!0},{signbit:function(t){var r=+t;return r===r&&r===0?1/r===-1/0:r<0}})});var U1e=I(()=>{"use strict";var SCt=J();SCt({target:"Math",stat:!0,forced:!0},{umulh:function(t,r){var n=65535,i=+t,o=+r,u=i&n,f=o&n,h=i>>>16,y=o>>>16,w=(h*f>>>0)+(u*f>>>16);return h*y+(w>>>16)+((u*y>>>0)+(w&n)>>>16)}})});var H1e=I(()=>{"use strict";var ICt=J(),GA=rt(),ECt=Xn(),TCt=xT(),HA="Invalid number representation",ACt="Invalid radix",CCt=RangeError,jF=SyntaxError,MCt=TypeError,$1e=/^[\da-z]+$/,PCt=GA("".charAt),OCt=GA($1e.exec),RCt=GA(1 .toString),qCt=GA("".slice);ICt({target:"Number",stat:!0,forced:!0},{fromString:function(t,r){var n=1,i,o;if(typeof t!="string")throw new MCt(HA);if(!t.length)throw new jF(HA);if(PCt(t,0)==="-"&&(n=-1,t=qCt(t,1),!t.length))throw new jF(HA);if(i=r===void 0?10:ECt(r),i<2||i>36)throw new CCt(ACt);if(!OCt($1e,t)||RCt(o=TCt(t,i),i)!==t)throw new jF(HA);return n*o}})});var G1e=I(()=>{"use strict";var NCt=J(),kCt=OA();NCt({target:"Number",stat:!0,forced:!0},{range:function(t,r,n){return new kCt(t,r,n,"number",0,1)}})});var W1e=I(()=>{"use strict";aL()});var ZA=I((Zyr,Y1e)=>{"use strict";var Z1e=mn(),DCt=$d(),WA=Oo(),LCt=qr(),zCt=Ph(),FCt=Ur(),K1e="Object Iterator",jCt=Z1e.set,BCt=Z1e.getterFor(K1e);Y1e.exports=DCt(function(t,r){var n=FCt(t);jCt(this,{type:K1e,mode:r,object:n,keys:zCt(n),index:0})},"Object",function(){for(var t=BCt(this),r=t.keys;;){if(r===null||t.index>=r.length)return t.object=t.keys=null,WA(void 0,!0);var n=r[t.index++],i=t.object;if(LCt(i,n)){switch(t.mode){case"keys":return WA(n,!1);case"values":return WA(i[n],!1);}return WA([n,i[n]],!1)}}})});var X1e=I(()=>{"use strict";var VCt=J(),UCt=ZA();VCt({target:"Object",stat:!0,forced:!0},{iterateEntries:function(t){return new UCt(t,"entries")}})});var J1e=I(()=>{"use strict";var $Ct=J(),HCt=ZA();$Ct({target:"Object",stat:!0,forced:!0},{iterateKeys:function(t){return new HCt(t,"keys")}})});var Q1e=I(()=>{"use strict";var GCt=J(),WCt=ZA();GCt({target:"Object",stat:!0,forced:!0},{iterateValues:function(t){return new WCt(t,"values")}})});var e_e=I(()=>{"use strict";var ZCt=J(),KCt=gr(),YCt=rt(),XCt=yr(),JCt=Yn(),QCt=Ql(),eMt=gi(),tMt=KCt("Object","create"),rMt=YCt([].push);ZCt({target:"Object",stat:!0},{groupBy:function(t,r){JCt(t),XCt(r);var n=tMt(null),i=0;return eMt(t,function(o){var u=QCt(r(o,i++));u in n?rMt(n[u],o):n[u]=[o]}),n}})});var c_e=I(()=>{"use strict";var nMt=J(),KA=Dt(),nx=pr(),iMt=Gd(),t_e=yr(),oMt=zt(),aMt=ca(),r_e=Sr(),sMt=qi(),lMt=Ir(),YA=Ai(),uMt=Sn(),BF=_l(),n_e=oi(),ly=CL(),cMt=dr(),i_e=mn(),pMt=cMt("observable"),VF="Observable",o_e="Subscription",a_e="SubscriptionObserver",UF=i_e.getterFor,$F=i_e.set,dMt=UF(VF),s_e=UF(o_e),XA=UF(a_e),l_e=function(e){this.observer=oMt(e),this.cleanup=void 0,this.subscriptionObserver=void 0};l_e.prototype={type:o_e,clean:function(){var e=this.cleanup;if(e){this.cleanup=void 0;try{e()}catch(t){ly(t)}}},close:function(){if(!nx){var e=this.facade,t=this.subscriptionObserver;e.closed=!0,t&&(t.closed=!0)}this.observer=void 0},isClosed:function(){return this.observer===void 0}};var HF=function(e,t){var r=$F(this,new l_e(e)),n;nx||(this.closed=!1);try{(n=YA(e,"start"))&&KA(n,e,this)}catch(f){ly(f)}if(!r.isClosed()){var i=r.subscriptionObserver=new GF(r);try{var o=t(i),u=o;sMt(o)||(r.cleanup=r_e(o.unsubscribe)?function(){u.unsubscribe()}:t_e(o))}catch(f){i.error(f);return}r.isClosed()&&r.clean()}};HF.prototype=BF({},{unsubscribe:function(){var t=s_e(this);t.isClosed()||(t.close(),t.clean())}});nx&&n_e(HF.prototype,"closed",{configurable:!0,get:function(){return s_e(this).isClosed()}});var GF=function(e){$F(this,{type:a_e,subscriptionState:e}),nx||(this.closed=!1)};GF.prototype=BF({},{next:function(t){var r=XA(this).subscriptionState;if(!r.isClosed()){var n=r.observer;try{var i=YA(n,"next");i&&KA(i,n,t)}catch(o){ly(o)}}},error:function(t){var r=XA(this).subscriptionState;if(!r.isClosed()){var n=r.observer;r.close();try{var i=YA(n,"error");i?KA(i,n,t):ly(t)}catch(o){ly(o)}r.clean()}},complete:function(){var t=XA(this).subscriptionState;if(!t.isClosed()){var r=t.observer;t.close();try{var n=YA(r,"complete");n&&KA(n,r)}catch(i){ly(i)}t.clean()}}});nx&&n_e(GF.prototype,"closed",{configurable:!0,get:function(){return XA(this).subscriptionState.isClosed()}});var u_e=function(t){aMt(this,WF),$F(this,{type:VF,subscriber:t_e(t)})},WF=u_e.prototype;BF(WF,{subscribe:function(t){var r=arguments.length;return new HF(r_e(t)?{next:t,error:r>1?arguments[1]:void 0,complete:r>2?arguments[2]:void 0}:lMt(t)?t:{},dMt(this).subscriber)}});uMt(WF,pMt,function(){return this});nMt({global:!0,constructor:!0,forced:!0},{Observable:u_e});iMt(VF)});var d_e=I(()=>{"use strict";var fMt=J(),hMt=gr(),mMt=Dt(),p_e=zt(),vMt=ru(),gMt=Vd(),yMt=Ai(),_Mt=gi(),bMt=dr(),xMt=bMt("observable");fMt({target:"Observable",stat:!0,forced:!0},{from:function(t){var r=vMt(this)?this:hMt("Observable"),n=yMt(p_e(t),xMt);if(n){var i=p_e(mMt(n,t));return i.constructor===r?i:new r(function(u){return i.subscribe(u)})}var o=gMt(t);return new r(function(u){_Mt(o,function(f,h){if(u.next(f),u.closed)return h()},{IS_ITERATOR:!0,INTERRUPTED:!0}),u.complete()})}})});var h_e=I(()=>{"use strict";var wMt=J(),f_e=gr(),SMt=ru(),IMt=f_e("Array");wMt({target:"Observable",stat:!0,forced:!0},{of:function(){for(var t=SMt(this)?this:f_e("Observable"),r=arguments.length,n=IMt(r),i=0;i<r;)n[i]=arguments[i++];return new t(function(o){for(var u=0;u<r;u++)if(o.next(n[u]),o.closed)return;o.complete()})}})});var m_e=I(()=>{"use strict";c_e();d_e();h_e()});var v_e=I(()=>{"use strict";UL()});var g_e=I(()=>{"use strict";$L()});var y_e=I(()=>{"use strict";var EMt=J(),TMt=Vu(),AMt=Qd();EMt({target:"Promise",stat:!0,forced:!0},{try:function(e){var t=TMt.f(this),r=AMt(e);return(r.error?t.reject:t.resolve)(r.value),t.promise}})});var b_e=I(()=>{"use strict";var CMt=J(),MMt=Vu();CMt({target:"Promise",stat:!0},{withResolvers:function(){var t=MMt.f(this);return{promise:t.promise,resolve:t.resolve,reject:t.reject}}})});var Gu=I((_0r,I_e)=>{"use strict";vT();pA();var S_e=gr(),PMt=rt(),OMt=Du(),x_e=S_e("Map"),RMt=S_e("WeakMap"),qMt=PMt([].push),w_e=OMt("metadata"),ZF=w_e.store||(w_e.store=new RMt),ix=function(e,t,r){var n=ZF.get(e);if(!n){if(!r)return;ZF.set(e,n=new x_e)}var i=n.get(t);if(!i){if(!r)return;n.set(t,i=new x_e)}return i},NMt=function(e,t,r){var n=ix(t,r,!1);return n===void 0?!1:n.has(e)},kMt=function(e,t,r){var n=ix(t,r,!1);return n===void 0?void 0:n.get(e)},DMt=function(e,t,r,n){ix(r,n,!0).set(e,t)},LMt=function(e,t){var r=ix(e,t,!1),n=[];return r&&r.forEach(function(i,o){qMt(n,o)}),n},zMt=function(e){return e===void 0||typeof e=="symbol"?e:String(e)};I_e.exports={store:ZF,getMap:ix,has:NMt,get:kMt,set:DMt,keys:LMt,toKey:zMt}});var T_e=I(()=>{"use strict";var FMt=J(),E_e=Gu(),jMt=zt(),BMt=E_e.toKey,VMt=E_e.set;FMt({target:"Reflect",stat:!0},{defineMetadata:function(t,r,n){var i=arguments.length<4?void 0:BMt(arguments[3]);VMt(t,r,jMt(n),i)}})});var C_e=I(()=>{"use strict";var UMt=J(),KF=Gu(),$Mt=zt(),HMt=KF.toKey,GMt=KF.getMap,A_e=KF.store;UMt({target:"Reflect",stat:!0},{deleteMetadata:function(t,r){var n=arguments.length<3?void 0:HMt(arguments[2]),i=GMt($Mt(r),n,!1);if(i===void 0||!i.delete(t))return!1;if(i.size)return!0;var o=A_e.get(r);return o.delete(n),!!o.size||A_e.delete(r)}})});var P_e=I(()=>{"use strict";var WMt=J(),YF=Gu(),ZMt=zt(),KMt=ki(),YMt=YF.has,XMt=YF.get,JMt=YF.toKey,M_e=function(e,t,r){var n=YMt(e,t,r);if(n)return XMt(e,t,r);var i=KMt(t);return i!==null?M_e(e,i,r):void 0};WMt({target:"Reflect",stat:!0},{getMetadata:function(t,r){var n=arguments.length<3?void 0:JMt(arguments[2]);return M_e(t,ZMt(r),n)}})});var N_e=I(()=>{"use strict";var QMt=J(),O_e=rt(),R_e=Gu(),ePt=zt(),tPt=ki(),rPt=_A(),nPt=O_e(rPt),iPt=O_e([].concat),oPt=R_e.keys,aPt=R_e.toKey,q_e=function(e,t){var r=oPt(e,t),n=tPt(e);if(n===null)return r;var i=q_e(n,t);return i.length?r.length?nPt(iPt(r,i)):i:r};QMt({target:"Reflect",stat:!0},{getMetadataKeys:function(t){var r=arguments.length<2?void 0:aPt(arguments[1]);return q_e(ePt(t),r)}})});var D_e=I(()=>{"use strict";var sPt=J(),k_e=Gu(),lPt=zt(),uPt=k_e.get,cPt=k_e.toKey;sPt({target:"Reflect",stat:!0},{getOwnMetadata:function(t,r){var n=arguments.length<3?void 0:cPt(arguments[2]);return uPt(t,lPt(r),n)}})});var z_e=I(()=>{"use strict";var pPt=J(),L_e=Gu(),dPt=zt(),fPt=L_e.keys,hPt=L_e.toKey;pPt({target:"Reflect",stat:!0},{getOwnMetadataKeys:function(t){var r=arguments.length<2?void 0:hPt(arguments[1]);return fPt(dPt(t),r)}})});var B_e=I(()=>{"use strict";var mPt=J(),F_e=Gu(),vPt=zt(),gPt=ki(),yPt=F_e.has,_Pt=F_e.toKey,j_e=function(e,t,r){var n=yPt(e,t,r);if(n)return!0;var i=gPt(t);return i!==null?j_e(e,i,r):!1};mPt({target:"Reflect",stat:!0},{hasMetadata:function(t,r){var n=arguments.length<3?void 0:_Pt(arguments[2]);return j_e(t,vPt(r),n)}})});var U_e=I(()=>{"use strict";var bPt=J(),V_e=Gu(),xPt=zt(),wPt=V_e.has,SPt=V_e.toKey;bPt({target:"Reflect",stat:!0},{hasOwnMetadata:function(t,r){var n=arguments.length<3?void 0:SPt(arguments[2]);return wPt(t,xPt(r),n)}})});var H_e=I(()=>{"use strict";var IPt=J(),$_e=Gu(),EPt=zt(),TPt=$_e.toKey,APt=$_e.set;IPt({target:"Reflect",stat:!0},{metadata:function(t,r){return function(i,o){APt(t,r,EPt(i),TPt(o))}}})});var W_e=I(()=>{"use strict";var CPt=J(),G_e=rt(),MPt=br(),PPt=$h(),OPt=G_e("".charCodeAt),RPt=G_e("".replace),qPt=RegExp("[!\"#$%&'()*+,\\-./:;<=>?@[\\\\\\]^`{|}~"+PPt+"]","g");CPt({target:"RegExp",stat:!0,forced:!0},{escape:function(t){var r=MPt(t),n=OPt(r,0);return(n>47&&n<58?"\\x3":"")+RPt(r,qPt,"\\$&")}})});var pa=I((j0r,Z_e)=>{"use strict";var XF=rt(),JA=Set.prototype;Z_e.exports={Set,add:XF(JA.add),has:XF(JA.has),remove:XF(JA.delete),proto:JA}});var qo=I((B0r,K_e)=>{"use strict";var NPt=pa().has;K_e.exports=function(e){return NPt(e),e}});var Y_e=I(()=>{"use strict";var kPt=J(),DPt=qo(),LPt=pa().add;kPt({target:"Set",proto:!0,real:!0,forced:!0},{addAll:function(){for(var t=DPt(this),r=0,n=arguments.length;r<n;r++)LPt(t,arguments[r]);return t}})});var X_e=I(()=>{"use strict";var zPt=J(),FPt=qo(),jPt=pa().remove;zPt({target:"Set",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var t=FPt(this),r=!0,n,i=0,o=arguments.length;i<o;i++)n=jPt(t,arguments[i]),r=r&&n;return!!r}})});var js=I((G0r,rbe)=>{"use strict";var J_e=rt(),BPt=op(),Q_e=pa(),VPt=Q_e.Set,ebe=Q_e.proto,UPt=J_e(ebe.forEach),tbe=J_e(ebe.keys),$Pt=tbe(new VPt).next;rbe.exports=function(e,t,r){return r?BPt({iterator:tbe(e),next:$Pt},t):UPt(e,t)}});var QA=I((W0r,ibe)=>{"use strict";var nbe=pa(),HPt=js(),GPt=nbe.Set,WPt=nbe.add;ibe.exports=function(e){var t=new GPt;return HPt(e,function(r){WPt(t,r)}),t}});var uy=I((Z0r,obe)=>{"use strict";var ZPt=tb(),KPt=pa();obe.exports=ZPt(KPt.proto,"size","get")||function(e){return e.size}});var of=I((K0r,pbe)=>{"use strict";var abe=yr(),ube=zt(),sbe=Dt(),YPt=Xn(),XPt=ai(),lbe="Invalid size",JPt=RangeError,QPt=TypeError,e5t=Math.max,cbe=function(e,t,r,n){this.set=e,this.size=t,this.has=r,this.keys=n};cbe.prototype={getIterator:function(){return XPt(ube(sbe(this.keys,this.set)))},includes:function(e){return sbe(this.has,this.set,e)}};pbe.exports=function(e){ube(e);var t=+e.size;if(t!==t)throw new QPt(lbe);var r=YPt(t);if(r<0)throw new JPt(lbe);return new cbe(e,e5t(r,0),abe(e.has),abe(e.keys))}});var JF=I((Y0r,hbe)=>{"use strict";var t5t=qo(),fbe=pa(),r5t=QA(),n5t=uy(),i5t=of(),o5t=js(),a5t=op(),s5t=fbe.has,dbe=fbe.remove;hbe.exports=function(t){var r=t5t(this),n=i5t(t),i=r5t(r);return n5t(r)<=n.size?o5t(r,function(o){n.includes(o)&&dbe(i,o)}):a5t(n.getIterator(),function(o){s5t(r,o)&&dbe(i,o)}),i}});var af=I((X0r,vbe)=>{"use strict";var l5t=gr(),mbe=function(e){return{size:e,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}};vbe.exports=function(e){var t=l5t("Set");try{new t()[e](mbe(0));try{return new t()[e](mbe(-1)),!1}catch(r){return!0}}catch(r){return!1}}});var gbe=I(()=>{"use strict";var u5t=J(),c5t=JF(),p5t=af();u5t({target:"Set",proto:!0,real:!0,forced:!p5t("difference")},{difference:c5t})});var _be=I((e1r,ybe)=>{"use strict";var d5t=os(),f5t=qr(),h5t=qi(),m5t=dr(),v5t=zh(),g5t=m5t("iterator"),y5t=Object;ybe.exports=function(e){if(h5t(e))return!1;var t=y5t(e);return t[g5t]!==void 0||"@@iterator"in t||f5t(v5t,d5t(t))}});var sf=I((t1r,xbe)=>{"use strict";var _5t=gr(),bbe=Sr(),b5t=_be(),x5t=Ir(),w5t=_5t("Set"),S5t=function(e){return x5t(e)&&typeof e.size=="number"&&bbe(e.has)&&bbe(e.keys)};xbe.exports=function(e){return S5t(e)?e:b5t(e)?new w5t(e):e}});var wbe=I(()=>{"use strict";var I5t=J(),E5t=Dt(),T5t=sf(),A5t=JF();I5t({target:"Set",proto:!0,real:!0,forced:!0},{difference:function(t){return E5t(A5t,this,T5t(t))}})});var Sbe=I(()=>{"use strict";var C5t=J(),M5t=On(),P5t=qo(),O5t=js();C5t({target:"Set",proto:!0,real:!0,forced:!0},{every:function(t){var r=P5t(this),n=M5t(t,arguments.length>1?arguments[1]:void 0);return O5t(r,function(i){if(!n(i,i,r))return!1},!0)!==!1}})});var Ebe=I(()=>{"use strict";var R5t=J(),q5t=On(),N5t=qo(),Ibe=pa(),k5t=js(),D5t=Ibe.Set,L5t=Ibe.add;R5t({target:"Set",proto:!0,real:!0,forced:!0},{filter:function(t){var r=N5t(this),n=q5t(t,arguments.length>1?arguments[1]:void 0),i=new D5t;return k5t(r,function(o){n(o,o,r)&&L5t(i,o)}),i}})});var Tbe=I(()=>{"use strict";var z5t=J(),F5t=On(),j5t=qo(),B5t=js();z5t({target:"Set",proto:!0,real:!0,forced:!0},{find:function(t){var r=j5t(this),n=F5t(t,arguments.length>1?arguments[1]:void 0),i=B5t(r,function(o){if(n(o,o,r))return{value:o}},!0);return i&&i.value}})});var Abe=I(()=>{"use strict";var V5t=J(),U5t=tx();V5t({target:"Set",stat:!0,forced:!0},{from:U5t})});var ej=I((d1r,Mbe)=>{"use strict";var $5t=qo(),QF=pa(),H5t=uy(),G5t=of(),W5t=js(),Z5t=op(),K5t=QF.Set,Cbe=QF.add,Y5t=QF.has;Mbe.exports=function(t){var r=$5t(this),n=G5t(t),i=new K5t;return H5t(r)>n.size?Z5t(n.getIterator(),function(o){Y5t(r,o)&&Cbe(i,o)}):W5t(r,function(o){n.includes(o)&&Cbe(i,o)}),i}});var Pbe=I(()=>{"use strict";var X5t=J(),J5t=gt(),Q5t=ej(),eOt=af(),tOt=!eOt("intersection")||J5t(function(){return Array.from(new Set([1,2,3]).intersection(new Set([3,2])))!=="3,2"});X5t({target:"Set",proto:!0,real:!0,forced:tOt},{intersection:Q5t})});var Obe=I(()=>{"use strict";var rOt=J(),nOt=Dt(),iOt=sf(),oOt=ej();rOt({target:"Set",proto:!0,real:!0,forced:!0},{intersection:function(t){return nOt(oOt,this,iOt(t))}})});var tj=I((g1r,Rbe)=>{"use strict";var aOt=qo(),sOt=pa().has,lOt=uy(),uOt=of(),cOt=js(),pOt=op(),dOt=Xc();Rbe.exports=function(t){var r=aOt(this),n=uOt(t);if(lOt(r)<=n.size)return cOt(r,function(o){if(n.includes(o))return!1},!0)!==!1;var i=n.getIterator();return pOt(i,function(o){if(sOt(r,o))return dOt(i,"normal",!1)})!==!1}});var qbe=I(()=>{"use strict";var fOt=J(),hOt=tj(),mOt=af();fOt({target:"Set",proto:!0,real:!0,forced:!mOt("isDisjointFrom")},{isDisjointFrom:hOt})});var Nbe=I(()=>{"use strict";var vOt=J(),gOt=Dt(),yOt=sf(),_Ot=tj();vOt({target:"Set",proto:!0,real:!0,forced:!0},{isDisjointFrom:function(t){return gOt(_Ot,this,yOt(t))}})});var rj=I((w1r,kbe)=>{"use strict";var bOt=qo(),xOt=uy(),wOt=js(),SOt=of();kbe.exports=function(t){var r=bOt(this),n=SOt(t);return xOt(r)>n.size?!1:wOt(r,function(i){if(!n.includes(i))return!1},!0)!==!1}});var Dbe=I(()=>{"use strict";var IOt=J(),EOt=rj(),TOt=af();IOt({target:"Set",proto:!0,real:!0,forced:!TOt("isSubsetOf")},{isSubsetOf:EOt})});var Lbe=I(()=>{"use strict";var AOt=J(),COt=Dt(),MOt=sf(),POt=rj();AOt({target:"Set",proto:!0,real:!0,forced:!0},{isSubsetOf:function(t){return COt(POt,this,MOt(t))}})});var nj=I((A1r,zbe)=>{"use strict";var OOt=qo(),ROt=pa().has,qOt=uy(),NOt=of(),kOt=op(),DOt=Xc();zbe.exports=function(t){var r=OOt(this),n=NOt(t);if(qOt(r)<n.size)return!1;var i=n.getIterator();return kOt(i,function(o){if(!ROt(r,o))return DOt(i,"normal",!1)})!==!1}});var Fbe=I(()=>{"use strict";var LOt=J(),zOt=nj(),FOt=af();LOt({target:"Set",proto:!0,real:!0,forced:!FOt("isSupersetOf")},{isSupersetOf:zOt})});var jbe=I(()=>{"use strict";var jOt=J(),BOt=Dt(),VOt=sf(),UOt=nj();jOt({target:"Set",proto:!0,real:!0,forced:!0},{isSupersetOf:function(t){return BOt(UOt,this,VOt(t))}})});var Vbe=I(()=>{"use strict";var $Ot=J(),Bbe=rt(),HOt=qo(),GOt=js(),WOt=br(),ZOt=Bbe([].join),KOt=Bbe([].push);$Ot({target:"Set",proto:!0,real:!0,forced:!0},{join:function(t){var r=HOt(this),n=t===void 0?",":WOt(t),i=[];return GOt(r,function(o){KOt(i,o)}),ZOt(i,n)}})});var $be=I(()=>{"use strict";var YOt=J(),XOt=On(),JOt=qo(),Ube=pa(),QOt=js(),eRt=Ube.Set,tRt=Ube.add;YOt({target:"Set",proto:!0,real:!0,forced:!0},{map:function(t){var r=JOt(this),n=XOt(t,arguments.length>1?arguments[1]:void 0),i=new eRt;return QOt(r,function(o){tRt(i,n(o,o,r))}),i}})});var Hbe=I(()=>{"use strict";var rRt=J(),nRt=rx();rRt({target:"Set",stat:!0,forced:!0},{of:nRt})});var Gbe=I(()=>{"use strict";var iRt=J(),oRt=yr(),aRt=qo(),sRt=js(),lRt=TypeError;iRt({target:"Set",proto:!0,real:!0,forced:!0},{reduce:function(t){var r=aRt(this),n=arguments.length<2,i=n?void 0:arguments[1];if(oRt(t),sRt(r,function(o){n?(n=!1,i=o):i=t(i,o,o,r)}),n)throw new lRt("Reduce of empty set with no initial value");return i}})});var Wbe=I(()=>{"use strict";var uRt=J(),cRt=On(),pRt=qo(),dRt=js();uRt({target:"Set",proto:!0,real:!0,forced:!0},{some:function(t){var r=pRt(this),n=cRt(t,arguments.length>1?arguments[1]:void 0);return dRt(r,function(i){if(n(i,i,r))return!0},!0)===!0}})});var oj=I((V1r,Zbe)=>{"use strict";var fRt=qo(),ij=pa(),hRt=QA(),mRt=of(),vRt=op(),gRt=ij.add,yRt=ij.has,_Rt=ij.remove;Zbe.exports=function(t){var r=fRt(this),n=mRt(t).getIterator(),i=hRt(r);return vRt(n,function(o){yRt(r,o)?_Rt(i,o):gRt(i,o)}),i}});var Kbe=I(()=>{"use strict";var bRt=J(),xRt=oj(),wRt=af();bRt({target:"Set",proto:!0,real:!0,forced:!wRt("symmetricDifference")},{symmetricDifference:xRt})});var Ybe=I(()=>{"use strict";var SRt=J(),IRt=Dt(),ERt=sf(),TRt=oj();SRt({target:"Set",proto:!0,real:!0,forced:!0},{symmetricDifference:function(t){return IRt(TRt,this,ERt(t))}})});var aj=I((W1r,Xbe)=>{"use strict";var ARt=qo(),CRt=pa().add,MRt=QA(),PRt=of(),ORt=op();Xbe.exports=function(t){var r=ARt(this),n=PRt(t).getIterator(),i=MRt(r);return ORt(n,function(o){CRt(i,o)}),i}});var Jbe=I(()=>{"use strict";var RRt=J(),qRt=aj(),NRt=af();RRt({target:"Set",proto:!0,real:!0,forced:!NRt("union")},{union:qRt})});var Qbe=I(()=>{"use strict";var kRt=J(),DRt=Dt(),LRt=sf(),zRt=aj();kRt({target:"Set",proto:!0,real:!0,forced:!0},{union:function(t){return DRt(zRt,this,LRt(t))}})});var exe=I(()=>{"use strict";var FRt=J(),jRt=Xh().charAt,BRt=Yn(),VRt=Xn(),URt=br();FRt({target:"String",proto:!0,forced:!0},{at:function(t){var r=URt(BRt(this)),n=r.length,i=VRt(t),o=i>=0?i:n+i;return o<0||o>=n?void 0:jRt(r,o)}})});var sj=I((e_r,ixe)=>{"use strict";var nxe=rt(),$Rt=Hi(),txe=br(),HRt=Wr(),GRt=TypeError,rxe=nxe([].push),WRt=nxe([].join);ixe.exports=function(t){var r=$Rt(t),n=HRt(r);if(!n)return"";for(var i=arguments.length,o=[],u=0;;){var f=r[u++];if(f===void 0)throw new GRt("Incorrect template");if(rxe(o,txe(f)),u===n)return WRt(o,"");u<i&&rxe(o,txe(arguments[u]))}}});var oxe=I(()=>{"use strict";var ZRt=J(),KRt=sj();ZRt({target:"String",stat:!0,forced:!0},{cooked:KRt})});var cxe=I(()=>{"use strict";var YRt=J(),XRt=$d(),axe=Oo(),JRt=Yn(),QRt=br(),sxe=mn(),lxe=Xh(),eqt=lxe.codeAt,tqt=lxe.charAt,uxe="String Iterator",rqt=sxe.set,nqt=sxe.getterFor(uxe),iqt=XRt(function(t){rqt(this,{type:uxe,string:t,index:0})},"String",function(){var t=nqt(this),r=t.string,n=t.index,i;return n>=r.length?axe(void 0,!0):(i=tqt(r,n),t.index+=i.length,axe({codePoint:eqt(i,0),position:n},!1))});YRt({target:"String",proto:!0,forced:!0},{codePoints:function(){return new iqt(QRt(JRt(this)))}})});var _xe=I((o_r,yxe)=>{"use strict";var oqt=gr(),eC=rt(),aqt=String.fromCharCode,sqt=oqt("String","fromCodePoint"),lj=eC("".charAt),vxe=eC("".charCodeAt),pxe=eC("".indexOf),dxe=eC("".slice),cj=48,gxe=57,fxe=97,lqt=102,hxe=65,uqt=70,mxe=function(e,t){var r=vxe(e,t);return r>=cj&&r<=gxe},uj=function(e,t,r){if(r>=e.length)return-1;for(var n=0;t<r;t++){var i=cqt(vxe(e,t));if(i===-1)return-1;n=n*16+i}return n},cqt=function(e){return e>=cj&&e<=gxe?e-cj:e>=fxe&&e<=lqt?e-fxe+10:e>=hxe&&e<=uqt?e-hxe+10:-1};yxe.exports=function(e){for(var t="",r=0,n=0,i;(n=pxe(e,"\\",n))>-1;){if(t+=dxe(e,r,n),++n===e.length)return;var o=lj(e,n++);switch(o){case"b":t+="\b";break;case"t":t+="\t";break;case"n":t+=`
`;break;case"v":t+="\x0B";break;case"f":t+="\f";break;case"r":t+="\r";break;case"\r":n<e.length&&lj(e,n)===`
`&&++n;case`
`:case"\u2028":case"\u2029":break;case"0":if(mxe(e,n))return;t+="\0";break;case"x":if(i=uj(e,n,n+2),i===-1)return;n+=2,t+=aqt(i);break;case"u":if(n<e.length&&lj(e,n)==="{"){var u=pxe(e,"}",++n);if(u===-1)return;i=uj(e,n,u),n=u+1}else i=uj(e,n,n+4),n+=4;if(i===-1||i>1114111)return;t+=sqt(i);break;default:if(mxe(o,0))return;t+=o;}r=n}return t+dxe(e,r)}});var Mxe=I(()=>{"use strict";var pqt=np(),dqt=J(),fqt=Du(),hqt=gr(),mqt=H_(),tC=rt(),Ixe=ua(),Exe=zt(),vqt=Ur(),gqt=Sr(),yqt=Wr(),_qt=Vn().f,bqt=Oh(),xqt=sj(),wqt=_xe(),Txe=$h(),Sqt=hqt("WeakMap"),sp=fqt("GlobalDedentRegistry",new Sqt);sp.has=sp.has;sp.get=sp.get;sp.set=sp.set;var pj=Array,ox=TypeError,bxe=Object.freeze||Object,Iqt=Object.isFrozen,Eqt=Math.min,xxe=tC("".charAt),Axe=tC("".slice),Tqt=tC("".split),wxe=tC(/./.exec),Aqt=/([\n\u2028\u2029]|\r\n?)/g,Cqt=RegExp("^["+Txe+"]*"),Mqt=RegExp("[^"+Txe+"]"),Sxe="Invalid tag",Pqt="Invalid opening line",Oqt="Invalid closing line",Rqt=function(e){var t=e.raw;if(pqt&&!Iqt(t))throw new ox("Raw template should be frozen");if(sp.has(t))return sp.get(t);var r=qqt(t),n=kqt(r);return _qt(n,"raw",{value:bxe(r)}),bxe(n),sp.set(t,n),n},qqt=function(e){var t=vqt(e),r=yqt(t),n=pj(r),i=pj(r),o=0,u,f,h,y;if(!r)throw new ox(Sxe);for(;o<r;o++){var w=t[o];if(typeof w=="string")n[o]=Tqt(w,Aqt);else throw new ox(Sxe)}for(o=0;o<r;o++){var T=o+1===r;if(u=n[o],o===0){if(u.length===1||u[0].length>0)throw new ox(Pqt);u[1]=""}if(T){if(u.length===1||wxe(Mqt,u[u.length-1]))throw new ox(Oqt);u[u.length-2]="",u[u.length-1]=""}for(var A=2;A<u.length;A+=2){var q=u[A],z=A+1===u.length&&!T,F=wxe(Cqt,q)[0];if(!z&&F.length===q.length){u[A]="";continue}f=Nqt(F,f)}}var N=f?f.length:0;for(o=0;o<r;o++){for(u=n[o],h=u[0],y=1;y<u.length;y+=2)h+=u[y]+Axe(u[y+1],N);i[o]=h}return i},Nqt=function(e,t){if(t===void 0||e===t)return e;for(var r=0,n=Eqt(e.length,t.length);r<n&&xxe(e,r)===xxe(t,r);r++);return Axe(e,0,r)},kqt=function(e){for(var t=0,r=e.length,n=pj(r);t<r;t++)n[t]=wqt(e[t]);return n},Cxe=function(e){return mqt(function(t){var r=bqt(arguments);return r[0]=Rqt(Exe(t)),Ixe(e,this,r)},"")},Dqt=Cxe(xqt);dqt({target:"String",stat:!0,forced:!0},{dedent:function(t){return Exe(t),gqt(t)?Cxe(t):Ixe(Dqt,this,arguments)}})});var Pxe=I(()=>{"use strict";pz()});var Oxe=I(()=>{"use strict";_z()});var Rxe=I(()=>{"use strict";Cz()});var qxe=I(()=>{"use strict";Nz()});var Nxe=I(()=>{"use strict";var Lqt=Kt(),zqt=vi(),Fqt=Vn().f,jqt=Qi().f,dj=Lqt.Symbol;zqt("asyncDispose");dj&&(ax=jqt(dj,"asyncDispose"),ax.enumerable&&ax.configurable&&ax.writable&&Fqt(dj,"asyncDispose",{value:ax.value,enumerable:!1,configurable:!1,writable:!1}));var ax});var kxe=I(()=>{"use strict";var Bqt=Kt(),Vqt=vi(),Uqt=Vn().f,$qt=Qi().f,fj=Bqt.Symbol;Vqt("dispose");fj&&(sx=$qt(fj,"dispose"),sx.enumerable&&sx.configurable&&sx.writable&&Uqt(fj,"dispose",{value:sx.value,enumerable:!1,configurable:!1,writable:!1}));var sx});var mj=I((b_r,Dxe)=>{"use strict";var Hqt=gr(),Gqt=rt(),hj=Hqt("Symbol"),Wqt=hj.keyFor,Zqt=Gqt(hj.prototype.valueOf);Dxe.exports=hj.isRegisteredSymbol||function(t){try{return Wqt(Zqt(t))!==void 0}catch(r){return!1}}});var Lxe=I(()=>{"use strict";var Kqt=J(),Yqt=mj();Kqt({target:"Symbol",stat:!0},{isRegisteredSymbol:Yqt})});var zxe=I(()=>{"use strict";var Xqt=J(),Jqt=mj();Xqt({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:Jqt})});var yj=I((E_r,$xe)=>{"use strict";var Qqt=Du(),Vxe=gr(),eNt=rt(),tNt=$c(),rNt=dr(),nC=Vxe("Symbol"),Fxe=nC.isWellKnownSymbol,Uxe=Vxe("Object","getOwnPropertyNames"),nNt=eNt(nC.prototype.valueOf),jxe=Qqt("wks");for(rC=0,vj=Uxe(nC),Bxe=vj.length;rC<Bxe;rC++)try{gj=vj[rC],tNt(nC[gj])&&rNt(gj)}catch(e){}var gj,rC,vj,Bxe;$xe.exports=function(t){if(Fxe&&Fxe(t))return!0;try{for(var r=nNt(t),n=0,i=Uxe(jxe),o=i.length;n<o;n++)if(jxe[i[n]]==r)return!0}catch(u){}return!1}});var Hxe=I(()=>{"use strict";var iNt=J(),oNt=yj();iNt({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:oNt})});var Gxe=I(()=>{"use strict";var aNt=J(),sNt=yj();aNt({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:sNt})});var Wxe=I(()=>{"use strict";var lNt=vi();lNt("matcher")});var Zxe=I(()=>{"use strict";var uNt=vi();uNt("metadata")});var Kxe=I(()=>{"use strict";var cNt=vi();cNt("metadataKey")});var Yxe=I(()=>{"use strict";var pNt=vi();pNt("observable")});var Xxe=I(()=>{"use strict";var dNt=vi();dNt("patternMatch")});var Jxe=I(()=>{"use strict";var fNt=vi();fNt("replaceAll")});var ewe=I(()=>{"use strict";var hNt=gr(),mNt=Pg(),vNt=I6(),Qxe=Nr(),gNt=jh(),yNt=Qxe.aTypedArrayConstructor,_Nt=Qxe.exportTypedArrayStaticMethod;_Nt("fromAsync",function(t){var r=this,n=arguments.length,i=n>1?arguments[1]:void 0,o=n>2?arguments[2]:void 0;return new(hNt("Promise"))(function(u){mNt(r),u(vNt(t,i,o))}).then(function(u){return gNt(yNt(r),u)})},!0)});var twe=I(()=>{"use strict";Kz()});var nwe=I(()=>{"use strict";var rwe=Nr(),bNt=Mi().filterReject,xNt=JT(),wNt=rwe.aTypedArray,SNt=rwe.exportTypedArrayMethod;SNt("filterOut",function(t){var r=bNt(wNt(this),t,arguments.length>1?arguments[1]:void 0);return xNt(this,r)},!0)});var owe=I(()=>{"use strict";var iwe=Nr(),INt=Mi().filterReject,ENt=JT(),TNt=iwe.aTypedArray,ANt=iwe.exportTypedArrayMethod;ANt("filterReject",function(t){var r=INt(TNt(this),t,arguments.length>1?arguments[1]:void 0);return ENt(this,r)},!0)});var awe=I(()=>{"use strict";Yz()});var swe=I(()=>{"use strict";Xz()});var uwe=I(()=>{"use strict";var lwe=Nr(),CNt=vA(),MNt=Jg(),PNt=lwe.aTypedArray,ONt=lwe.exportTypedArrayMethod;ONt("groupBy",function(t){var r=arguments.length>1?arguments[1]:void 0;return CNt(PNt(this),t,r,MNt)},!0)});var cwe=I(()=>{"use strict";l6()});var pwe=I(()=>{"use strict";u6()});var dwe=I(()=>{"use strict";var _j=Nr(),RNt=Wr(),qNt=WT(),NNt=hl(),kNt=zb(),DNt=Xn(),LNt=gt(),zNt=_j.aTypedArray,FNt=_j.getTypedArrayConstructor,jNt=_j.exportTypedArrayMethod,BNt=Math.max,VNt=Math.min,UNt=!LNt(function(){var e=new Int8Array([1]),t=e.toSpliced(1,0,{valueOf:function(){return e[0]=2,3}});return t[0]!==2||t[1]!==3});jNt("toSpliced",function(t,r){var n=zNt(this),i=FNt(n),o=RNt(n),u=NNt(t,o),f=arguments.length,h=0,y,w,T,A,q,z,F;if(f===0)y=w=0;else if(f===1)y=0,w=o-u;else if(w=VNt(BNt(DNt(r),0),o-u),y=f-2,y){A=new i(y),T=qNt(A);for(var N=2;N<f;N++)q=arguments[N],A[N-2]=T?kNt(q):+q}for(z=o+y-w,F=new i(z);h<u;h++)F[h]=n[h];for(;h<u+y;h++)F[h]=A[h-u];for(;h<z;h++)F[h]=n[h+w-y];return F},!UNt)});var fwe=I(()=>{"use strict";var $Nt=rt(),bj=Nr(),HNt=jh(),GNt=_A(),WNt=bj.aTypedArray,ZNt=bj.getTypedArrayConstructor,KNt=bj.exportTypedArrayMethod,YNt=$Nt(GNt);KNt("uniqueBy",function(t){return WNt(this),HNt(ZNt(this),YNt(this,t))},!0)});var hwe=I(()=>{"use strict";p6()});var aC=I((dbr,mwe)=>{"use strict";var iC=rt(),oC=WeakMap.prototype;mwe.exports={WeakMap,set:iC(oC.set),get:iC(oC.get),has:iC(oC.has),remove:iC(oC.delete)}});var xj=I((fbr,vwe)=>{"use strict";var XNt=aC().has;vwe.exports=function(e){return XNt(e),e}});var gwe=I(()=>{"use strict";var JNt=J(),QNt=xj(),ekt=aC().remove;JNt({target:"WeakMap",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var t=QNt(this),r=!0,n,i=0,o=arguments.length;i<o;i++)n=ekt(t,arguments[i]),r=r&&n;return!!r}})});var ywe=I(()=>{"use strict";var tkt=J(),rkt=tx();tkt({target:"WeakMap",stat:!0,forced:!0},{from:rkt})});var _we=I(()=>{"use strict";var nkt=J(),ikt=rx();nkt({target:"WeakMap",stat:!0,forced:!0},{of:ikt})});var xwe=I(()=>{"use strict";var okt=J(),akt=xj(),wj=aC(),skt=wj.get,lkt=wj.has,bwe=wj.set;okt({target:"WeakMap",proto:!0,real:!0,forced:!0},{emplace:function(t,r){var n=akt(this),i,o;return lkt(n,t)?(i=skt(n,t),"update"in r&&(i=r.update(i,t,n),bwe(n,t,i)),i):(o=r.insert(t,n),bwe(n,t,o),o)}})});var wwe=I(()=>{"use strict";var ukt=J(),ckt=$A();ukt({target:"WeakMap",proto:!0,real:!0,forced:!0},{upsert:ckt})});var sC=I((Ibr,Swe)=>{"use strict";var Sj=rt(),Ij=WeakSet.prototype;Swe.exports={WeakSet,add:Sj(Ij.add),has:Sj(Ij.has),remove:Sj(Ij.delete)}});var Ej=I((Ebr,Iwe)=>{"use strict";var pkt=sC().has;Iwe.exports=function(e){return pkt(e),e}});var Ewe=I(()=>{"use strict";var dkt=J(),fkt=Ej(),hkt=sC().add;dkt({target:"WeakSet",proto:!0,real:!0,forced:!0},{addAll:function(){for(var t=fkt(this),r=0,n=arguments.length;r<n;r++)hkt(t,arguments[r]);return t}})});var Twe=I(()=>{"use strict";var mkt=J(),vkt=Ej(),gkt=sC().remove;mkt({target:"WeakSet",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var t=vkt(this),r=!0,n,i=0,o=arguments.length;i<o;i++)n=gkt(t,arguments[i]),r=r&&n;return!!r}})});var Awe=I(()=>{"use strict";var ykt=J(),_kt=tx();ykt({target:"WeakSet",stat:!0,forced:!0},{from:_kt})});var Cwe=I(()=>{"use strict";var bkt=J(),xkt=rx();bkt({target:"WeakSet",stat:!0,forced:!0},{of:xkt})});var Tj=I((Nbr,Owe)=>{"use strict";var Mwe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Pwe={};for(lx=0;lx<66;lx++)Pwe[Mwe.charAt(lx)]=lx;var lx;Owe.exports={itoc:Mwe,ctoi:Pwe}});var Lwe=I(()=>{"use strict";var wkt=J(),Skt=Kt(),kwe=gr(),Cj=rt(),Ikt=Dt(),Mj=gt(),Ekt=br(),Tkt=qr(),Akt=xl(),Aj=Tj().ctoi,Dwe=/[^\d+/a-z]/i,Ckt=/[\t\n\f\r ]+/g,Mkt=/[=]{1,2}$/,ux=kwe("atob"),Pkt=String.fromCharCode,Okt=Cj("".charAt),Rwe=Cj("".replace),Rkt=Cj(Dwe.exec),Pj=Mj(function(){return ux(" ")!==""}),Oj=!Mj(function(){ux("a")}),qwe=!Pj&&!Oj&&!Mj(function(){ux()}),Nwe=!Pj&&!Oj&&ux.length!==1;wkt({global:!0,bind:!0,enumerable:!0,forced:Pj||Oj||qwe||Nwe},{atob:function(t){if(Akt(arguments.length,1),qwe||Nwe)return Ikt(ux,Skt,t);var r=Rwe(Ekt(t),Ckt,""),n="",i=0,o=0,u,f;if(r.length%4===0&&(r=Rwe(r,Mkt,"")),r.length%4===1||Rkt(Dwe,r))throw new(kwe("DOMException"))("The string is not correctly encoded","InvalidCharacterError");for(;u=Okt(r,i++);)Tkt(Aj,u)&&(f=o%4?f*64+Aj[u]:Aj[u],o++%4&&(n+=Pkt(255&f>>(-2*o&6))));return n}})});var Gwe=I(()=>{"use strict";var qkt=J(),Nkt=Kt(),Uwe=gr(),$we=rt(),kkt=Dt(),Hwe=gt(),zwe=br(),Dkt=xl(),Lkt=Tj().itoc,rm=Uwe("btoa"),Fwe=$we("".charAt),zkt=$we("".charCodeAt),jwe=!!rm&&!Hwe(function(){rm()}),Bwe=!!rm&&Hwe(function(){return rm(null)!=="bnVsbA=="}),Vwe=!!rm&&rm.length!==1;qkt({global:!0,bind:!0,enumerable:!0,forced:jwe||Bwe||Vwe},{btoa:function(t){if(Dkt(arguments.length,1),jwe||Bwe||Vwe)return kkt(rm,Nkt,zwe(t));for(var r=zwe(t),n="",i=0,o=Lkt,u,f;Fwe(r,i)||(o="=",i%1);){if(f=zkt(r,i+=3/4),f>255)throw new(Uwe("DOMException"))("The string contains characters outside of the Latin1 range","InvalidCharacterError");u=u<<8|f,n+=Fwe(o,63&u>>8-i%1*8)}return n}})});var Rj=I((Fbr,Wwe)=>{"use strict";Wwe.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}});var Nj=I((jbr,Kwe)=>{"use strict";var Fkt=B_(),qj=Fkt("span").classList,Zwe=qj&&qj.constructor&&qj.constructor.prototype;Kwe.exports=Zwe===Object.prototype?void 0:Zwe});var Qwe=I(()=>{"use strict";var Ywe=Kt(),Xwe=Rj(),jkt=Nj(),kj=k4(),Bkt=Ni(),Jwe=function(e){if(e&&e.forEach!==kj)try{Bkt(e,"forEach",kj)}catch(t){e.forEach=kj}};for(lC in Xwe)Xwe[lC]&&Jwe(Ywe[lC]&&Ywe[lC].prototype);var lC;Jwe(jkt)});var oSe=I(()=>{"use strict";var eSe=Kt(),rSe=Rj(),Vkt=Nj(),cx=sb(),Dj=Ni(),nSe=dr(),Lj=nSe("iterator"),tSe=nSe("toStringTag"),zj=cx.values,iSe=function(e,t){if(e){if(e[Lj]!==zj)try{Dj(e,Lj,zj)}catch(n){e[Lj]=zj}if(e[tSe]||Dj(e,tSe,t),rSe[t]){for(var r in cx)if(e[r]!==cx[r])try{Dj(e,r,cx[r])}catch(n){e[r]=cx[r]}}}};for(uC in rSe)iSe(eSe[uC]&&eSe[uC].prototype,uC);var uC;iSe(Vkt,"DOMTokenList")});var Fj=I((Hbr,aSe)=>{"use strict";aSe.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}});var gSe=I(()=>{"use strict";var Ukt=J(),$kt=M6(),dC=gr(),Hj=gt(),Hkt=Ci(),Gj=ns(),fC=Vn().f,Gkt=Sn(),cC=oi(),pC=qr(),Wkt=ca(),Zkt=zt(),uSe=y4(),sSe=Dh(),cy=Fj(),Kkt=RE(),cSe=mn(),Wj=pr(),pSe=Vr(),py="DOMException",$j="DATA_CLONE_ERR",mC=dC("Error"),lp=dC(py)||function(){try{var e=dC("MessageChannel")||$kt("worker_threads").MessageChannel;new e().port1.postMessage(new WeakMap)}catch(t){if(t.name===$j&&t.code===25)return t.constructor}}(),Ykt=lp&&lp.prototype,dSe=mC.prototype,Xkt=cSe.set,Jkt=cSe.getterFor(py),Qkt="stack"in new mC(py),fSe=function(e){return pC(cy,e)&&cy[e].m?cy[e].c:0},Zj=function(){Wkt(this,dx);var t=arguments.length,r=sSe(t<1?void 0:arguments[0]),n=sSe(t<2?void 0:arguments[1],"Error"),i=fSe(n);if(Xkt(this,{type:py,name:n,message:r,code:i}),Wj||(this.name=n,this.message=r,this.code=i),Qkt){var o=new mC(r);o.name=py,fC(this,"stack",Gj(1,Kkt(o.stack,1)))}},dx=Zj.prototype=Hkt(dSe),hSe=function(e){return{enumerable:!0,configurable:!0,get:e}},jj=function(e){return hSe(function(){return Jkt(this)[e]})};Wj&&(cC(dx,"code",jj("code")),cC(dx,"message",jj("message")),cC(dx,"name",jj("name")));fC(dx,"constructor",Gj(1,Zj));var vC=Hj(function(){return!(new lp instanceof mC)}),mSe=vC||Hj(function(){return dSe.toString!==uSe||String(new lp(1,2))!=="2: 1"}),vSe=vC||Hj(function(){return new lp(1,"DataCloneError").code!==25}),eDt=vC||lp[$j]!==25||Ykt[$j]!==25,lSe=pSe?mSe||vSe||eDt:vC;Ukt({global:!0,constructor:!0,forced:lSe},{DOMException:lSe?Zj:lp});var fx=dC(py),hC=fx.prototype;mSe&&(pSe||lp===fx)&&Gkt(hC,"toString",uSe);vSe&&Wj&&lp===fx&&cC(hC,"code",hSe(function(){return fSe(Zkt(this).name)}));for(Bj in cy)pC(cy,Bj)&&(Vj=cy[Bj],px=Vj.s,Uj=Gj(6,Vj.c),pC(fx,px)||fC(fx,px,Uj),pC(hC,px)||fC(hC,px,Uj));var Vj,px,Uj,Bj});var ISe=I(()=>{"use strict";var tDt=J(),rDt=Kt(),rB=gr(),eB=ns(),tB=Vn().f,ySe=qr(),nDt=ca(),iDt=kh(),_Se=Dh(),Kj=Fj(),oDt=RE(),aDt=pr(),wSe=Vr(),mx="DOMException",SSe=rB("Error"),vx=rB(mx),nB=function(){nDt(this,sDt);var t=arguments.length,r=_Se(t<1?void 0:arguments[0]),n=_Se(t<2?void 0:arguments[1],"Error"),i=new vx(r,n),o=new SSe(r);return o.name=mx,tB(i,"stack",eB(1,oDt(o.stack,1))),iDt(i,this,nB),i},sDt=nB.prototype=vx.prototype,lDt="stack"in new SSe(mx),uDt="stack"in new vx(1,2),Yj=vx&&aDt&&Object.getOwnPropertyDescriptor(rDt,mx),cDt=!!Yj&&!(Yj.writable&&Yj.configurable),bSe=lDt&&!cDt&&!uDt;tDt({global:!0,constructor:!0,forced:wSe||bSe},{DOMException:bSe?nB:vx});var hx=rB(mx),xSe=hx.prototype;if(xSe.constructor!==hx){wSe||tB(xSe,"constructor",eB(1,hx));for(Xj in Kj)ySe(Kj,Xj)&&(Jj=Kj[Xj],Qj=Jj.s,ySe(hx,Qj)||tB(hx,Qj,eB(6,Jj.c)))}var Jj,Qj,Xj});var TSe=I(()=>{"use strict";var pDt=gr(),dDt=as(),ESe="DOMException";dDt(pDt(ESe),ESe)});var CSe=I(()=>{"use strict";var fDt=J(),hDt=Kt(),ASe=Eb().clear;fDt({global:!0,bind:!0,enumerable:!0,forced:hDt.clearImmediate!==ASe},{clearImmediate:ASe})});var PSe=I((exr,MSe)=>{"use strict";MSe.exports=typeof Bun=="function"&&Bun&&typeof Bun.version=="string"});var gC=I((txr,RSe)=>{"use strict";var OSe=Kt(),mDt=ua(),vDt=Sr(),gDt=PSe(),yDt=Nu(),_Dt=Zc(),bDt=xl(),xDt=OSe.Function,wDt=/MSIE .\./.test(yDt)||gDt&&function(){var e=OSe.Bun.version.split(".");return e.length<3||e[0]==="0"&&(e[1]<3||e[1]==="3"&&e[2]==="0")}();RSe.exports=function(e,t){var r=t?2:1;return wDt?function(n,i){var o=bDt(arguments.length,1)>r,u=vDt(n)?n:xDt(n),f=o?_Dt(arguments,r):[],h=o?function(){mDt(u,this,f)}:u;return t?e(h,i):e(h)}:e}});var DSe=I(()=>{"use strict";var SDt=J(),kSe=Kt(),qSe=Eb().set,IDt=gC(),NSe=kSe.setImmediate?IDt(qSe,!1):qSe;SDt({global:!0,bind:!0,enumerable:!0,forced:kSe.setImmediate!==NSe},{setImmediate:NSe})});var LSe=I(()=>{"use strict";CSe();DSe()});var zSe=I(()=>{"use strict";var EDt=J(),TDt=Kt(),ADt=AL(),CDt=yr(),MDt=xl(),PDt=zu(),ODt=TDt.process;EDt({global:!0,enumerable:!0,dontCallGetSet:!0},{queueMicrotask:function(t){MDt(arguments.length,1),CDt(t);var r=PDt&&ODt.domain;ADt(r?r.bind(t):t)}})});var jSe=I(()=>{"use strict";var RDt=J(),lf=Kt(),qDt=oi(),NDt=pr(),kDt=TypeError,DDt=Object.defineProperty,FSe=lf.self!==lf;try{NDt?(yC=Object.getOwnPropertyDescriptor(lf,"self"),(FSe||!yC||!yC.get||!yC.enumerable)&&qDt(lf,"self",{get:function(){return lf},set:function(t){if(this!==lf)throw new kDt("Illegal invocation");DDt(lf,"self",{value:t,writable:!0,configurable:!0,enumerable:!0})},configurable:!0,enumerable:!0})):RDt({global:!0,simple:!0,forced:FSe},{self:lf})}catch(e){}var yC});var r2e=I(()=>{"use strict";var LDt=Vr(),zDt=J(),yi=Kt(),uB=gr(),bx=rt(),cB=gt(),FDt=Fd(),bC=Sr(),jDt=ru(),BDt=qi(),xC=Ir(),VDt=$c(),UDt=gi(),$Se=zt(),yx=os(),HSe=qr(),$Dt=ml(),iB=Ni(),nm=Wr(),HDt=xl(),GDt=Vg(),wC=Na(),GSe=pa(),BSe=IA(),WSe=h4(),ZSe=bA(),gx=yi.Object,WDt=yi.Array,KSe=yi.Date,xx=yi.Error,ZDt=yi.EvalError,KDt=yi.RangeError,YDt=yi.ReferenceError,XDt=yi.SyntaxError,YSe=yi.TypeError,JDt=yi.URIError,QDt=yi.PerformanceMark,fy=yi.WebAssembly,e4t=fy&&fy.CompileError||xx,t4t=fy&&fy.LinkError||xx,r4t=fy&&fy.RuntimeError||xx,cf=uB("DOMException"),_x=wC.Map,wx=wC.has,pB=wC.get,im=wC.set,XSe=GSe.Set,JSe=GSe.add,QSe=uB("Object","keys"),VSe=bx([].push),n4t=bx((!0).valueOf),i4t=bx(1 .valueOf),o4t=bx("".valueOf),a4t=bx(KSe.prototype.getTime),sB=FDt("structuredClone"),hy="DataCloneError",_C="Transferring",e2e=function(e){return!cB(function(){var t=new yi.Set([7]),r=e(t),n=e(gx(7));return r===t||!r.has(7)||typeof n!="object"||+n!=7})&&e},USe=function(e,t){return!cB(function(){var r=new t,n=e({a:r,b:r});return!(n&&n.a===n.b&&n.a instanceof t&&n.a.stack===r.stack)})},s4t=function(e){return!cB(function(){var t=e(new yi.AggregateError([1],sB,{cause:3}));return t.name!=="AggregateError"||t.errors[0]!==1||t.message!==sB||t.cause!==3})},dy=yi.structuredClone,l4t=LDt||!USe(dy,xx)||!USe(dy,cf)||!s4t(dy),u4t=!dy&&e2e(function(e){return new QDt(sB,{detail:e}).detail}),uf=e2e(dy)||u4t,oB=function(e){throw new cf("Uncloneable type: "+e,hy)},ps=function(e,t){throw new cf((t||"Cloning")+" of "+e+" cannot be properly polyfilled in this engine",hy)},aB=function(e,t){return uf||ps(t),uf(e)},c4t=function(){var e;try{e=new yi.DataTransfer}catch(t){try{e=new yi.ClipboardEvent("").clipboardData}catch(r){}}return e&&e.items&&e.files?e:null},dB=function(e,t,r){if(wx(t,e))return pB(t,e);var n=r||yx(e),i,o,u,f,h,y;if(n==="SharedArrayBuffer")uf?i=uf(e):i=e;else{var w=yi.DataView;!w&&typeof e.slice!="function"&&ps("ArrayBuffer");try{if(typeof e.slice=="function"&&!e.resizable)i=e.slice(0);else for(o=e.byteLength,u=("maxByteLength"in e)?{maxByteLength:e.maxByteLength}:void 0,i=new ArrayBuffer(o,u),f=new w(e),h=new w(i),y=0;y<o;y++)h.setUint8(y,f.getUint8(y))}catch(T){throw new cf("ArrayBuffer is detached",hy)}}return im(t,e,i),i},t2e=function(e,t,r,n,i){var o=yi[t];return xC(o)||ps(t),new o(dB(e.buffer,i),r,n)},lB=function(e,t,r){this.object=e,this.type=t,this.metadata=r},Da=function(e,t,r){if(VDt(e)&&oB("Symbol"),!xC(e))return e;if(t){if(wx(t,e))return pB(t,e)}else t=new _x;var n=yx(e),i,o,u,f,h,y,w,T;switch(n){case"Array":u=WDt(nm(e));break;case"Object":u={};break;case"Map":u=new _x;break;case"Set":u=new XSe;break;case"RegExp":u=new RegExp(e.source,GDt(e));break;case"Error":switch(o=e.name,o){case"AggregateError":u=new(uB("AggregateError"))([]);break;case"EvalError":u=new ZDt;break;case"RangeError":u=new KDt;break;case"ReferenceError":u=new YDt;break;case"SyntaxError":u=new XDt;break;case"TypeError":u=new YSe;break;case"URIError":u=new JDt;break;case"CompileError":u=new e4t;break;case"LinkError":u=new t4t;break;case"RuntimeError":u=new r4t;break;default:u=new xx;}break;case"DOMException":u=new cf(e.message,e.name);break;case"ArrayBuffer":case"SharedArrayBuffer":u=r?new lB(e,n):dB(e,t,n);break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float16Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":y=n==="DataView"?e.byteLength:e.length,u=r?new lB(e,n,{offset:e.byteOffset,length:y}):t2e(e,n,e.byteOffset,y,t);break;case"DOMQuad":try{u=new DOMQuad(Da(e.p1,t,r),Da(e.p2,t,r),Da(e.p3,t,r),Da(e.p4,t,r))}catch(A){u=aB(e,n)}break;case"File":if(uf)try{u=uf(e),yx(u)!==n&&(u=void 0)}catch(A){}if(!u)try{u=new File([e],e.name,e)}catch(A){}u||ps(n);break;case"FileList":if(f=c4t(),f){for(h=0,y=nm(e);h<y;h++)f.items.add(Da(e[h],t,r));u=f.files}else u=aB(e,n);break;case"ImageData":try{u=new ImageData(Da(e.data,t,r),e.width,e.height,{colorSpace:e.colorSpace})}catch(A){u=aB(e,n)}break;default:if(uf)u=uf(e);else switch(n){case"BigInt":u=gx(e.valueOf());break;case"Boolean":u=gx(n4t(e));break;case"Number":u=gx(i4t(e));break;case"String":u=gx(o4t(e));break;case"Date":u=new KSe(a4t(e));break;case"Blob":try{u=e.slice(0,e.size,e.type)}catch(A){ps(n)}break;case"DOMPoint":case"DOMPointReadOnly":i=yi[n];try{u=i.fromPoint?i.fromPoint(e):new i(e.x,e.y,e.z,e.w)}catch(A){ps(n)}break;case"DOMRect":case"DOMRectReadOnly":i=yi[n];try{u=i.fromRect?i.fromRect(e):new i(e.x,e.y,e.width,e.height)}catch(A){ps(n)}break;case"DOMMatrix":case"DOMMatrixReadOnly":i=yi[n];try{u=i.fromMatrix?i.fromMatrix(e):new i(e)}catch(A){ps(n)}break;case"AudioData":case"VideoFrame":bC(e.clone)||ps(n);try{u=e.clone()}catch(A){oB(n)}break;case"CropTarget":case"CryptoKey":case"FileSystemDirectoryHandle":case"FileSystemFileHandle":case"FileSystemHandle":case"GPUCompilationInfo":case"GPUCompilationMessage":case"ImageBitmap":case"RTCCertificate":case"WebAssembly.Module":ps(n);default:oB(n);}}switch(im(t,e,u),n){case"Array":case"Object":for(w=QSe(e),h=0,y=nm(w);h<y;h++)T=w[h],$Dt(u,T,Da(e[T],t,r));break;case"Map":e.forEach(function(A,q){im(u,Da(q,t,r),Da(A,t,r))});break;case"Set":e.forEach(function(A){JSe(u,Da(A,t,r))});break;case"Error":iB(u,"message",Da(e.message,t,r)),HSe(e,"cause")&&iB(u,"cause",Da(e.cause,t,r)),o==="AggregateError"&&(u.errors=Da(e.errors,t,r));case"DOMException":WSe&&iB(u,"stack",Da(e.stack,t,r));}return u},up=function(e,t){if(!xC(e))return e;if(wx(t,e))return pB(t,e);var r,n,i,o,u,f,h,y;if(e instanceof lB)switch(r=e.type,n=e.object,r){case"ArrayBuffer":case"SharedArrayBuffer":y=dB(n,t,r);break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float16Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":i=e.metadata,y=t2e(n,r,i.offset,i.length,t);}else switch(yx(e)){case"Array":case"Object":for(f=QSe(e),o=0,u=nm(f);o<u;o++)h=f[o],e[h]=up(e[h],t);break;case"Map":y=new _x,e.forEach(function(w,T){im(y,up(T,t),up(w,t))});break;case"Set":y=new XSe,e.forEach(function(w){JSe(y,up(w,t))});break;case"Error":e.message=up(e.message,t),HSe(e,"cause")&&(e.cause=up(e.cause,t)),e.name==="AggregateError"&&(e.errors=up(e.errors,t));case"DOMException":WSe&&(e.stack=up(e.stack,t));}return im(t,e,y||e),y||e},p4t=function(e,t){if(!xC(e))throw new YSe("Transfer option cannot be converted to a sequence");var r=[];UDt(e,function(A){VSe(r,$Se(A))});for(var n=0,i=nm(r),o=[],u,f,h,y,w,T;n<i;){if(u=r[n++],f=yx(u),f==="ArrayBuffer"){VSe(o,u);continue}if(wx(t,u))throw new cf("Duplicate transferable",hy);if(ZSe)y=dy(u,{transfer:[u]});else switch(f){case"ImageBitmap":h=yi.OffscreenCanvas,jDt(h)||ps(f,_C);try{w=new h(u.width,u.height),T=w.getContext("bitmaprenderer"),T.transferFromImageBitmap(u),y=w.transferToImageBitmap()}catch(A){}break;case"AudioData":case"VideoFrame":(!bC(u.clone)||!bC(u.close))&&ps(f,_C);try{y=u.clone(),u.close()}catch(A){}break;case"MediaSourceHandle":case"MessagePort":case"OffscreenCanvas":case"ReadableStream":case"TransformStream":case"WritableStream":ps(f,_C);}if(y===void 0)throw new cf("This object cannot be transferred: "+f,hy);im(t,u,y)}return o},d4t=function(e,t){for(var r=0,n=nm(e),i,o;r<n;){if(i=e[r++],wx(t,i))throw new cf("Duplicate transferable",hy);BSe?o=BSe(i,void 0,!0):(bC(i.transfer)||ps("ArrayBuffer",_C),o=i.transfer()),im(t,i,o)}};zDt({global:!0,enumerable:!0,sham:!ZSe,forced:l4t},{structuredClone:function(t){var r=HDt(arguments.length,1)>1&&!BDt(arguments[1])?$Se(arguments[1]):void 0,n=r?r.transfer:void 0,i=!1,o,u;n!==void 0&&(o=new _x,u=p4t(n,o),i=!!nm(u));var f=Da(t,o,i);return i&&(o=new _x,d4t(n,o),f=up(f,o)),f}})});var o2e=I(()=>{"use strict";var f4t=J(),i2e=Kt(),h4t=gC(),n2e=h4t(i2e.setInterval,!0);f4t({global:!0,bind:!0,forced:i2e.setInterval!==n2e},{setInterval:n2e})});var l2e=I(()=>{"use strict";var m4t=J(),s2e=Kt(),v4t=gC(),a2e=v4t(s2e.setTimeout,!0);m4t({global:!0,bind:!0,forced:s2e.setTimeout!==a2e},{setTimeout:a2e})});var u2e=I(()=>{"use strict";o2e();l2e()});var SC=I((yxr,p2e)=>{"use strict";var g4t=gt(),y4t=dr(),_4t=pr(),c2e=Vr(),b4t=y4t("iterator");p2e.exports=!g4t(function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,r=new URLSearchParams("a=1&a=2&b=3"),n="";return e.pathname="c%20d",t.forEach(function(i,o){t.delete("b"),n+=o+i}),r.delete("a",2),r.delete("b",void 0),c2e&&(!e.toJSON||!r.has("a",1)||r.has("a",2)||!r.has("a",void 0)||r.has("b"))||!t.size&&(c2e||!_4t)||!t.sort||e.href!=="http://a/c%20d?a=1&c=3"||t.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!t[b4t]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://\u0442\u0435\u0441\u0442").host!=="xn--e1aybc"||new URL("http://a#\u0431").hash!=="#%D0%B1"||n!=="a1c3"||new URL("http://x",void 0).host!=="x"})});var b2e=I((_xr,_2e)=>{"use strict";var om=rt(),fB=2147483647,Sx=36,v2e=1,vB=26,x4t=38,w4t=700,S4t=72,I4t=128,E4t="-",T4t=/[^\0-\u007E]/,g2e=/[.\u3002\uFF0E\uFF61]/g,d2e="Overflow: input needs wider integers to process",hB=Sx-v2e,f2e=RangeError,A4t=om(g2e.exec),my=Math.floor,mB=String.fromCharCode,h2e=om("".charCodeAt),y2e=om([].join),pf=om([].push),C4t=om("".replace),M4t=om("".split),P4t=om("".toLowerCase),O4t=function(e){for(var t=[],r=0,n=e.length;r<n;){var i=h2e(e,r++);if(i>=55296&&i<=56319&&r<n){var o=h2e(e,r++);(o&64512)===56320?pf(t,((i&1023)<<10)+(o&1023)+65536):(pf(t,i),r--)}else pf(t,i)}return t},m2e=function(e){return e+22+75*(e<26)},R4t=function(e,t,r){var n=0;for(e=r?my(e/w4t):e>>1,e+=my(e/t);e>hB*vB>>1;)e=my(e/hB),n+=Sx;return my(n+(hB+1)*e/(e+x4t))},q4t=function(e){var t=[];e=O4t(e);var r=e.length,n=I4t,i=0,o=S4t,u,f;for(u=0;u<e.length;u++)f=e[u],f<128&&pf(t,mB(f));var h=t.length,y=h;for(h&&pf(t,E4t);y<r;){var w=fB;for(u=0;u<e.length;u++)f=e[u],f>=n&&f<w&&(w=f);var T=y+1;if(w-n>my((fB-i)/T))throw new f2e(d2e);for(i+=(w-n)*T,n=w,u=0;u<e.length;u++){if(f=e[u],f<n&&++i>fB)throw new f2e(d2e);if(f===n){for(var A=i,q=Sx;;){var z=q<=o?v2e:q>=o+vB?vB:q-o;if(A<z)break;var F=A-z,N=Sx-z;pf(t,mB(m2e(z+F%N))),A=my(F/N),q+=Sx}pf(t,mB(m2e(A))),o=R4t(i,T,y===h),i=0,y++}}i++,n++}return y2e(t,"")};_2e.exports=function(e){var t=[],r=M4t(C4t(P4t(e),g2e,"."),"."),n,i;for(n=0;n<r.length;n++)i=r[n],pf(t,A4t(T4t,i)?"xn--"+q4t(i):i);return y2e(t,".")}});var TB=I((bxr,j2e)=>{"use strict";sb();var xB=J(),yy=Kt(),IC=Dt(),Wu=rt(),gy=pr(),R2e=SC(),q2e=Sn(),N4t=oi(),k4t=_l(),D4t=as(),L4t=$d(),IB=mn(),N2e=ca(),gB=Sr(),z4t=qr(),F4t=On(),j4t=os(),B4t=zt(),k2e=Ir(),La=br(),V4t=Ci(),x2e=ns(),wB=Vd(),U4t=Yc(),vy=xl(),$4t=dr(),H4t=ZE(),G4t=$4t("iterator"),Ex="URLSearchParams",D2e=Ex+"Iterator",L2e=IB.set,Sl=IB.getterFor(Ex),W4t=IB.getterFor(D2e),Z4t=Object.getOwnPropertyDescriptor,EB=function(e){if(!gy)return yy[e];var t=Z4t(yy,e);return t&&t.value},w2e=EB("fetch"),TC=EB("Request"),Ix=EB("Headers"),yB=TC&&TC.prototype,S2e=Ix&&Ix.prototype,K4t=yy.RegExp,Y4t=yy.TypeError,z2e=yy.decodeURIComponent,X4t=yy.encodeURIComponent,J4t=Wu("".charAt),I2e=Wu([].join),am=Wu([].push),SB=Wu("".replace),Q4t=Wu([].shift),E2e=Wu([].splice),T2e=Wu("".split),e3t=Wu("".slice),t3t=/\+/g,A2e=Array(4),r3t=function(e){return A2e[e-1]||(A2e[e-1]=K4t("((?:%[\\da-f]{2}){"+e+"})","gi"))},n3t=function(e){try{return z2e(e)}catch(t){return e}},C2e=function(e){var t=SB(e,t3t," "),r=4;try{return z2e(t)}catch(n){for(;r;)t=SB(t,r3t(r--),n3t);return t}},i3t=/[!'()~]|%20/g,o3t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},a3t=function(e){return o3t[e]},M2e=function(e){return SB(X4t(e),i3t,a3t)},_B=L4t(function(t,r){L2e(this,{type:D2e,iterator:wB(Sl(t).entries),kind:r})},"Iterator",function(){var t=W4t(this),r=t.kind,n=t.iterator.next(),i=n.value;return n.done||(n.value=r==="keys"?i.key:r==="values"?i.value:[i.key,i.value]),n},!0),F2e=function(e){this.entries=[],this.url=null,e!==void 0&&(k2e(e)?this.parseObject(e):this.parseQuery(typeof e=="string"?J4t(e,0)==="?"?e3t(e,1):e:La(e)))};F2e.prototype={type:Ex,bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t=U4t(e),r,n,i,o,u,f,h;if(t)for(r=wB(e,t),n=r.next;!(i=IC(n,r)).done;){if(o=wB(B4t(i.value)),u=o.next,(f=IC(u,o)).done||(h=IC(u,o)).done||!IC(u,o).done)throw new Y4t("Expected sequence with length 2");am(this.entries,{key:La(f.value),value:La(h.value)})}else for(var y in e)z4t(e,y)&&am(this.entries,{key:y,value:La(e[y])})},parseQuery:function(e){if(e)for(var t=T2e(e,"&"),r=0,n,i;r<t.length;)n=t[r++],n.length&&(i=T2e(n,"="),am(this.entries,{key:C2e(Q4t(i)),value:C2e(I2e(i,"="))}))},serialize:function(){for(var e=this.entries,t=[],r=0,n;r<e.length;)n=e[r++],am(t,M2e(n.key)+"="+M2e(n.value));return I2e(t,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var AC=function(){N2e(this,_y);var t=arguments.length>0?arguments[0]:void 0,r=L2e(this,new F2e(t));gy||(this.size=r.entries.length)},_y=AC.prototype;k4t(_y,{append:function(t,r){var n=Sl(this);vy(arguments.length,2),am(n.entries,{key:La(t),value:La(r)}),gy||this.length++,n.updateURL()},delete:function(e){for(var t=Sl(this),r=vy(arguments.length,1),n=t.entries,i=La(e),o=r<2?void 0:arguments[1],u=o===void 0?o:La(o),f=0;f<n.length;){var h=n[f];if(h.key===i&&(u===void 0||h.value===u)){if(E2e(n,f,1),u!==void 0)break}else f++}gy||(this.size=n.length),t.updateURL()},get:function(t){var r=Sl(this).entries;vy(arguments.length,1);for(var n=La(t),i=0;i<r.length;i++)if(r[i].key===n)return r[i].value;return null},getAll:function(t){var r=Sl(this).entries;vy(arguments.length,1);for(var n=La(t),i=[],o=0;o<r.length;o++)r[o].key===n&&am(i,r[o].value);return i},has:function(t){for(var r=Sl(this).entries,n=vy(arguments.length,1),i=La(t),o=n<2?void 0:arguments[1],u=o===void 0?o:La(o),f=0;f<r.length;){var h=r[f++];if(h.key===i&&(u===void 0||h.value===u))return!0}return!1},set:function(t,r){var n=Sl(this);vy(arguments.length,1);for(var i=n.entries,o=!1,u=La(t),f=La(r),h=0,y;h<i.length;h++)y=i[h],y.key===u&&(o?E2e(i,h--,1):(o=!0,y.value=f));o||am(i,{key:u,value:f}),gy||(this.size=i.length),n.updateURL()},sort:function(){var t=Sl(this);H4t(t.entries,function(r,n){return r.key>n.key?1:-1}),t.updateURL()},forEach:function(t){for(var r=Sl(this).entries,n=F4t(t,arguments.length>1?arguments[1]:void 0),i=0,o;i<r.length;)o=r[i++],n(o.value,o.key,this)},keys:function(){return new _B(this,"keys")},values:function(){return new _B(this,"values")},entries:function(){return new _B(this,"entries")}},{enumerable:!0});q2e(_y,G4t,_y.entries,{name:"entries"});q2e(_y,"toString",function(){return Sl(this).serialize()},{enumerable:!0});gy&&N4t(_y,"size",{get:function(){return Sl(this).entries.length},configurable:!0,enumerable:!0});D4t(AC,Ex);xB({global:!0,constructor:!0,forced:!R2e},{URLSearchParams:AC});!R2e&&gB(Ix)&&(P2e=Wu(S2e.has),O2e=Wu(S2e.set),bB=function(e){if(k2e(e)){var t=e.body,r;if(j4t(t)===Ex)return r=e.headers?new Ix(e.headers):new Ix,P2e(r,"content-type")||O2e(r,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),V4t(e,{body:x2e(0,La(t)),headers:x2e(0,r)})}return e},gB(w2e)&&xB({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(t){return w2e(t,arguments.length>1?bB(arguments[1]):{})}}),gB(TC)&&(EC=function(t){return N2e(this,yB),new TC(t,arguments.length>1?bB(arguments[1]):{})},yB.constructor=EC,EC.prototype=yB,xB({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:EC})));var P2e,O2e,bB,EC;j2e.exports={URLSearchParams:AC,getState:Sl}});var iIe=I(()=>{"use strict";dz();var s3t=J(),UB=pr(),l3t=SC(),$B=Kt(),B2e=On(),Cl=rt(),RC=Sn(),Il=oi(),u3t=ca(),jB=qr(),HB=nL(),by=D4(),iu=Oh(),c3t=Xh().codeAt,p3t=b2e(),pp=br(),d3t=as(),f3t=xl(),J2e=TB(),Q2e=mn(),h3t=Q2e.set,qC=Q2e.getterFor("URL"),m3t=J2e.URLSearchParams,v3t=J2e.getState,Tx=$B.URL,BB=$B.TypeError,NC=$B.parseInt,g3t=Math.floor,V2e=Math.pow,Al=Cl("".charAt),ou=Cl(/./.exec),Cx=Cl([].join),y3t=Cl(1 .toString),_3t=Cl([].pop),wy=Cl([].push),AB=Cl("".replace),b3t=Cl([].shift),x3t=Cl("".split),Px=Cl("".slice),kC=Cl("".toLowerCase),w3t=Cl([].unshift),S3t="Invalid authority",CB="Invalid scheme",sm="Invalid host",U2e="Invalid port",eIe=/[a-z]/i,I3t=/[\d+-.a-z]/i,VB=/\d/,E3t=/^0x/i,T3t=/^[0-7]+$/,A3t=/^\d+$/,tIe=/^[\da-f]+$/i,C3t=/[\0\t\n\r #%/:<>?@[\\\]^|]/,M3t=/[\0\t\n\r #/:<>?@[\\\]^|]/,P3t=/^[\u0000-\u0020]+/,O3t=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,R3t=/[\t\n\r]/g,El,q3t=function(e){var t=x3t(e,"."),r,n,i,o,u,f,h;if(t.length&&t[t.length-1]===""&&t.length--,r=t.length,r>4)return e;for(n=[],i=0;i<r;i++){if(o=t[i],o==="")return e;if(u=10,o.length>1&&Al(o,0)==="0"&&(u=ou(E3t,o)?16:8,o=Px(o,u===8?1:2)),o==="")f=0;else{if(!ou(u===10?A3t:u===8?T3t:tIe,o))return e;f=NC(o,u)}wy(n,f)}for(i=0;i<r;i++)if(f=n[i],i===r-1){if(f>=V2e(256,5-r))return null}else if(f>255)return null;for(h=_3t(n),i=0;i<n.length;i++)h+=n[i]*V2e(256,3-i);return h},N3t=function(e){var t=[0,0,0,0,0,0,0,0],r=0,n=null,i=0,o,u,f,h,y,w,T,A=function(){return Al(e,i)};if(A()===":"){if(Al(e,1)!==":")return;i+=2,r++,n=r}for(;A();){if(r===8)return;if(A()===":"){if(n!==null)return;i++,r++,n=r;continue}for(o=u=0;u<4&&ou(tIe,A());)o=o*16+NC(A(),16),i++,u++;if(A()==="."){if(u===0||(i-=u,r>6))return;for(f=0;A();){if(h=null,f>0)if(A()==="."&&f<4)i++;else return;if(!ou(VB,A()))return;for(;ou(VB,A());){if(y=NC(A(),10),h===null)h=y;else{if(h===0)return;h=h*10+y}if(h>255)return;i++}t[r]=t[r]*256+h,f++,(f===2||f===4)&&r++}if(f!==4)return;break}else if(A()===":"){if(i++,!A())return}else if(A())return;t[r++]=o}if(n!==null)for(w=r-n,r=7;r!==0&&w>0;)T=t[r],t[r--]=t[n+w-1],t[n+--w]=T;else if(r!==8)return;return t},k3t=function(e){for(var t=null,r=1,n=null,i=0,o=0;o<8;o++)e[o]!==0?(i>r&&(t=n,r=i),n=null,i=0):(n===null&&(n=o),++i);return i>r&&(t=n,r=i),t},Ax=function(e){var t,r,n,i;if(typeof e=="number"){for(t=[],r=0;r<4;r++)w3t(t,e%256),e=g3t(e/256);return Cx(t,".")}else if(typeof e=="object"){for(t="",n=k3t(e),r=0;r<8;r++)i&&e[r]===0||(i&&(i=!1),n===r?(t+=r?":":"::",i=!0):(t+=y3t(e[r],16),r<7&&(t+=":")));return"["+t+"]"}return e},OC={},rIe=HB({},OC,{" ":1,"\"":1,"<":1,">":1,"`":1}),nIe=HB({},rIe,{"#":1,"?":1,"{":1,"}":1}),MB=HB({},nIe,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),df=function(e,t){var r=c3t(e,0);return r>32&&r<127&&!jB(t,e)?e:encodeURIComponent(e)},CC={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Mx=function(e,t){var r;return e.length===2&&ou(eIe,Al(e,0))&&((r=Al(e,1))===":"||!t&&r==="|")},$2e=function(e){var t;return e.length>1&&Mx(Px(e,0,2))&&(e.length===2||(t=Al(e,2))==="/"||t==="\\"||t==="?"||t==="#")},D3t=function(e){return e==="."||kC(e)==="%2e"},L3t=function(e){return e=kC(e),e===".."||e==="%2e."||e===".%2e"||e==="%2e%2e"},PB={},H2e={},OB={},G2e={},W2e={},RB={},Z2e={},K2e={},MC={},PC={},qB={},NB={},kB={},DB={},Y2e={},LB={},xy={},Zu={},X2e={},lm={},cp={},GB=function(e,t,r){var n=pp(e),i,o,u;if(t){if(o=this.parse(n),o)throw new BB(o);this.searchParams=null}else{if(r!==void 0&&(i=new GB(r,!0)),o=this.parse(n,null,i),o)throw new BB(o);u=v3t(new m3t),u.bindURL(this),this.searchParams=u}};GB.prototype={type:"URL",parse:function(e,t,r){var n=this,i=t||PB,o=0,u="",f=!1,h=!1,y=!1,w,T,A,q;for(e=pp(e),t||(n.scheme="",n.username="",n.password="",n.host=null,n.port=null,n.path=[],n.query=null,n.fragment=null,n.cannotBeABaseURL=!1,e=AB(e,P3t,""),e=AB(e,O3t,"$1")),e=AB(e,R3t,""),w=by(e);o<=w.length;){switch(T=w[o],i){case PB:if(T&&ou(eIe,T))u+=kC(T),i=H2e;else{if(t)return CB;i=OB;continue}break;case H2e:if(T&&(ou(I3t,T)||T==="+"||T==="-"||T==="."))u+=kC(T);else if(T===":"){if(t&&(n.isSpecial()!==jB(CC,u)||u==="file"&&(n.includesCredentials()||n.port!==null)||n.scheme==="file"&&!n.host))return;if(n.scheme=u,t){n.isSpecial()&&CC[n.scheme]===n.port&&(n.port=null);return}u="",n.scheme==="file"?i=DB:n.isSpecial()&&r&&r.scheme===n.scheme?i=G2e:n.isSpecial()?i=K2e:w[o+1]==="/"?(i=W2e,o++):(n.cannotBeABaseURL=!0,wy(n.path,""),i=X2e)}else{if(t)return CB;u="",i=OB,o=0;continue}break;case OB:if(!r||r.cannotBeABaseURL&&T!=="#")return CB;if(r.cannotBeABaseURL&&T==="#"){n.scheme=r.scheme,n.path=iu(r.path),n.query=r.query,n.fragment="",n.cannotBeABaseURL=!0,i=cp;break}i=r.scheme==="file"?DB:RB;continue;case G2e:if(T==="/"&&w[o+1]==="/")i=MC,o++;else{i=RB;continue}break;case W2e:if(T==="/"){i=PC;break}else{i=Zu;continue}case RB:if(n.scheme=r.scheme,T===El)n.username=r.username,n.password=r.password,n.host=r.host,n.port=r.port,n.path=iu(r.path),n.query=r.query;else if(T==="/"||T==="\\"&&n.isSpecial())i=Z2e;else if(T==="?")n.username=r.username,n.password=r.password,n.host=r.host,n.port=r.port,n.path=iu(r.path),n.query="",i=lm;else if(T==="#")n.username=r.username,n.password=r.password,n.host=r.host,n.port=r.port,n.path=iu(r.path),n.query=r.query,n.fragment="",i=cp;else{n.username=r.username,n.password=r.password,n.host=r.host,n.port=r.port,n.path=iu(r.path),n.path.length--,i=Zu;continue}break;case Z2e:if(n.isSpecial()&&(T==="/"||T==="\\"))i=MC;else if(T==="/")i=PC;else{n.username=r.username,n.password=r.password,n.host=r.host,n.port=r.port,i=Zu;continue}break;case K2e:if(i=MC,T!=="/"||Al(u,o+1)!=="/")continue;o++;break;case MC:if(T!=="/"&&T!=="\\"){i=PC;continue}break;case PC:if(T==="@"){f&&(u="%40"+u),f=!0,A=by(u);for(var z=0;z<A.length;z++){var F=A[z];if(F===":"&&!y){y=!0;continue}var N=df(F,MB);y?n.password+=N:n.username+=N}u=""}else if(T===El||T==="/"||T==="?"||T==="#"||T==="\\"&&n.isSpecial()){if(f&&u==="")return S3t;o-=by(u).length+1,u="",i=qB}else u+=T;break;case qB:case NB:if(t&&n.scheme==="file"){i=LB;continue}else if(T===":"&&!h){if(u==="")return sm;if(q=n.parseHost(u),q)return q;if(u="",i=kB,t===NB)return}else if(T===El||T==="/"||T==="?"||T==="#"||T==="\\"&&n.isSpecial()){if(n.isSpecial()&&u==="")return sm;if(t&&u===""&&(n.includesCredentials()||n.port!==null))return;if(q=n.parseHost(u),q)return q;if(u="",i=xy,t)return;continue}else T==="["?h=!0:T==="]"&&(h=!1),u+=T;break;case kB:if(ou(VB,T))u+=T;else if(T===El||T==="/"||T==="?"||T==="#"||T==="\\"&&n.isSpecial()||t){if(u!==""){var L=NC(u,10);if(L>65535)return U2e;n.port=n.isSpecial()&&L===CC[n.scheme]?null:L,u=""}if(t)return;i=xy;continue}else return U2e;break;case DB:if(n.scheme="file",T==="/"||T==="\\")i=Y2e;else if(r&&r.scheme==="file")switch(T){case El:n.host=r.host,n.path=iu(r.path),n.query=r.query;break;case"?":n.host=r.host,n.path=iu(r.path),n.query="",i=lm;break;case"#":n.host=r.host,n.path=iu(r.path),n.query=r.query,n.fragment="",i=cp;break;default:$2e(Cx(iu(w,o),""))||(n.host=r.host,n.path=iu(r.path),n.shortenPath()),i=Zu;continue;}else{i=Zu;continue}break;case Y2e:if(T==="/"||T==="\\"){i=LB;break}r&&r.scheme==="file"&&!$2e(Cx(iu(w,o),""))&&(Mx(r.path[0],!0)?wy(n.path,r.path[0]):n.host=r.host),i=Zu;continue;case LB:if(T===El||T==="/"||T==="\\"||T==="?"||T==="#"){if(!t&&Mx(u))i=Zu;else if(u===""){if(n.host="",t)return;i=xy}else{if(q=n.parseHost(u),q)return q;if(n.host==="localhost"&&(n.host=""),t)return;u="",i=xy}continue}else u+=T;break;case xy:if(n.isSpecial()){if(i=Zu,T!=="/"&&T!=="\\")continue}else if(!t&&T==="?")n.query="",i=lm;else if(!t&&T==="#")n.fragment="",i=cp;else if(T!==El&&(i=Zu,T!=="/"))continue;break;case Zu:if(T===El||T==="/"||T==="\\"&&n.isSpecial()||!t&&(T==="?"||T==="#")){if(L3t(u)?(n.shortenPath(),T!=="/"&&!(T==="\\"&&n.isSpecial())&&wy(n.path,"")):D3t(u)?T!=="/"&&!(T==="\\"&&n.isSpecial())&&wy(n.path,""):(n.scheme==="file"&&!n.path.length&&Mx(u)&&(n.host&&(n.host=""),u=Al(u,0)+":"),wy(n.path,u)),u="",n.scheme==="file"&&(T===El||T==="?"||T==="#"))for(;n.path.length>1&&n.path[0]==="";)b3t(n.path);T==="?"?(n.query="",i=lm):T==="#"&&(n.fragment="",i=cp)}else u+=df(T,nIe);break;case X2e:T==="?"?(n.query="",i=lm):T==="#"?(n.fragment="",i=cp):T!==El&&(n.path[0]+=df(T,OC));break;case lm:!t&&T==="#"?(n.fragment="",i=cp):T!==El&&(T==="'"&&n.isSpecial()?n.query+="%27":T==="#"?n.query+="%23":n.query+=df(T,OC));break;case cp:T!==El&&(n.fragment+=df(T,rIe));break;}o++}},parseHost:function(e){var t,r,n;if(Al(e,0)==="["){if(Al(e,e.length-1)!=="]"||(t=N3t(Px(e,1,-1)),!t))return sm;this.host=t}else if(this.isSpecial()){if(e=p3t(e),ou(C3t,e)||(t=q3t(e),t===null))return sm;this.host=t}else{if(ou(M3t,e))return sm;for(t="",r=by(e),n=0;n<r.length;n++)t+=df(r[n],OC);this.host=t}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||this.scheme==="file"},includesCredentials:function(){return this.username!==""||this.password!==""},isSpecial:function(){return jB(CC,this.scheme)},shortenPath:function(){var e=this.path,t=e.length;t&&(this.scheme!=="file"||t!==1||!Mx(e[0],!0))&&e.length--},serialize:function(){var e=this,t=e.scheme,r=e.username,n=e.password,i=e.host,o=e.port,u=e.path,f=e.query,h=e.fragment,y=t+":";return i!==null?(y+="//",e.includesCredentials()&&(y+=r+(n?":"+n:"")+"@"),y+=Ax(i),o!==null&&(y+=":"+o)):t==="file"&&(y+="//"),y+=e.cannotBeABaseURL?u[0]:u.length?"/"+Cx(u,"/"):"",f!==null&&(y+="?"+f),h!==null&&(y+="#"+h),y},setHref:function(e){var t=this.parse(e);if(t)throw new BB(t);this.searchParams.update()},getOrigin:function(){var e=this.scheme,t=this.port;if(e==="blob")try{return new Sy(e.path[0]).origin}catch(r){return"null"}return e==="file"||!this.isSpecial()?"null":e+"://"+Ax(this.host)+(t!==null?":"+t:"")},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse(pp(e)+":",PB)},getUsername:function(){return this.username},setUsername:function(e){var t=by(pp(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var r=0;r<t.length;r++)this.username+=df(t[r],MB)}},getPassword:function(){return this.password},setPassword:function(e){var t=by(pp(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var r=0;r<t.length;r++)this.password+=df(t[r],MB)}},getHost:function(){var e=this.host,t=this.port;return e===null?"":t===null?Ax(e):Ax(e)+":"+t},setHost:function(e){this.cannotBeABaseURL||this.parse(e,qB)},getHostname:function(){var e=this.host;return e===null?"":Ax(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,NB)},getPort:function(){var e=this.port;return e===null?"":pp(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(e=pp(e),e===""?this.port=null:this.parse(e,kB))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+Cx(e,"/"):""},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,xy))},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){e=pp(e),e===""?this.query=null:(Al(e,0)==="?"&&(e=Px(e,1)),this.query="",this.parse(e,lm)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){if(e=pp(e),e===""){this.fragment=null;return}Al(e,0)==="#"&&(e=Px(e,1)),this.fragment="",this.parse(e,cp)},update:function(){this.query=this.searchParams.serialize()||null}};var Sy=function(t){var r=u3t(this,za),n=f3t(arguments.length,1)>1?arguments[1]:void 0,i=h3t(r,new GB(t,!1,n));UB||(r.href=i.serialize(),r.origin=i.getOrigin(),r.protocol=i.getProtocol(),r.username=i.getUsername(),r.password=i.getPassword(),r.host=i.getHost(),r.hostname=i.getHostname(),r.port=i.getPort(),r.pathname=i.getPathname(),r.search=i.getSearch(),r.searchParams=i.getSearchParams(),r.hash=i.getHash())},za=Sy.prototype,Tl=function(e,t){return{get:function(){return qC(this)[e]()},set:t&&function(r){return qC(this)[t](r)},configurable:!0,enumerable:!0}};UB&&(Il(za,"href",Tl("serialize","setHref")),Il(za,"origin",Tl("getOrigin")),Il(za,"protocol",Tl("getProtocol","setProtocol")),Il(za,"username",Tl("getUsername","setUsername")),Il(za,"password",Tl("getPassword","setPassword")),Il(za,"host",Tl("getHost","setHost")),Il(za,"hostname",Tl("getHostname","setHostname")),Il(za,"port",Tl("getPort","setPort")),Il(za,"pathname",Tl("getPathname","setPathname")),Il(za,"search",Tl("getSearch","setSearch")),Il(za,"searchParams",Tl("getSearchParams")),Il(za,"hash",Tl("getHash","setHash")));RC(za,"toJSON",function(){return qC(this).serialize()},{enumerable:!0});RC(za,"toString",function(){return qC(this).serialize()},{enumerable:!0});Tx&&(zB=Tx.createObjectURL,FB=Tx.revokeObjectURL,zB&&RC(Sy,"createObjectURL",B2e(zB,Tx)),FB&&RC(Sy,"revokeObjectURL",B2e(FB,Tx)));var zB,FB;d3t(Sy,"URL");s3t({global:!0,constructor:!0,forced:!l3t,sham:!UB},{URL:Sy})});var oIe=I(()=>{"use strict";iIe()});var lIe=I(()=>{"use strict";var z3t=J(),F3t=gr(),j3t=gt(),B3t=xl(),aIe=br(),V3t=SC(),sIe=F3t("URL"),U3t=V3t&&j3t(function(){sIe.canParse()});z3t({target:"URL",stat:!0,forced:!U3t},{canParse:function(t){var r=B3t(arguments.length,1),n=aIe(t),i=r<2||arguments[1]===void 0?void 0:aIe(arguments[1]);try{return!!new sIe(n,i)}catch(o){return!1}}})});var uIe=I(()=>{"use strict";var $3t=J(),H3t=Dt();$3t({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return H3t(URL.prototype.toString,this)}})});var cIe=I(()=>{"use strict";TB()});var hIe=I(()=>{"use strict";var G3t=Sn(),DC=rt(),pIe=br(),W3t=xl(),fIe=URLSearchParams,LC=fIe.prototype,Z3t=DC(LC.append),dIe=DC(LC.delete),K3t=DC(LC.forEach),Y3t=DC([].push),WB=new fIe("a=1&a=2&b=3");WB.delete("a",1);WB.delete("b",void 0);WB+""!="a=2"&&G3t(LC,"delete",function(e){var t=arguments.length,r=t<2?void 0:arguments[1];if(t&&r===void 0)return dIe(this,e);var n=[];K3t(this,function(T,A){Y3t(n,{key:A,value:T})}),W3t(t,1);for(var i=pIe(e),o=pIe(r),u=0,f=0,h=!1,y=n.length,w;u<y;)w=n[u++],h||w.key===i?(h=!0,dIe(this,w.key)):f++;for(;f<y;)w=n[f++],w.key===i&&w.value===o||Z3t(this,w.key,w.value)},{enumerable:!0,unsafe:!0})});var yIe=I(()=>{"use strict";var X3t=Sn(),vIe=rt(),J3t=br(),Q3t=xl(),gIe=URLSearchParams,ZB=gIe.prototype,eLt=vIe(ZB.getAll),tLt=vIe(ZB.has),mIe=new gIe("a=1");(mIe.has("a",2)||!mIe.has("a",void 0))&&X3t(ZB,"has",function(t){var r=arguments.length,n=r<2?void 0:arguments[1];if(r&&n===void 0)return tLt(this,t);var i=eLt(this,t);Q3t(r,1);for(var o=J3t(n),u=0;u<i.length;)if(i[u++]===o)return!0;return!1},{enumerable:!0,unsafe:!0})});var _Ie=I(()=>{"use strict";var rLt=pr(),nLt=rt(),iLt=oi(),KB=URLSearchParams.prototype,oLt=nLt(KB.forEach);rLt&&!("size"in KB)&&iLt(KB,"size",{get:function(){var t=0;return oLt(this,function(){t++}),t},configurable:!0,enumerable:!0})});var xIe=I((Lxr,bIe)=>{"use strict";Cee();kee();Dee();Lee();zee();Fee();jee();Bee();Vee();Uee();$ee();Hee();Gee();Wee();Zee();_te();Ite();S4();$te();A4();Xte();tre();nre();are();sre();ure();pre();R4();q4();vre();gre();bre();Mre();Pre();Rre();qre();sb();ene();ine();one();sne();une();hne();vne();yne();xne();wne();zne();Bne();Vne();Q4();t3();r3();Gne();Wne();Zne();i3();Eie();Lie();Gie();Zie();Kie();Xie();eoe();toe();poe();doe();goe();xoe();Soe();Moe();Roe();Doe();O3();u4();Loe();vT();tae();iae();aae();sae();lae();pae();fae();hae();vae();yae();bae();xae();wae();Sae();Tae();Mae();Pae();Oae();Vae();Uae();Hae();Wae();Zae();Kae();Yae();Xae();nse();pse();vse();wse();Ese();Pse();Ose();Nse();Dse();zse();Fse();Hse();Gse();Wse();Yse();Xse();Jse();ele();aL();rle();ile();ale();lle();cle();ple();dle();fle();_le();ble();xle();Ile();Ele();Ale();Mle();Fue();UL();$L();$ue();Hue();Jue();tce();rce();ace();sce();lce();uce();cce();pce();dce();gce();_ce();bce();Dce();zce();zT();$ce();Gce();Kce();Jce();epe();tpe();ope();dpe();mpe();gpe();pz();dz();Ope();_z();Vpe();Upe();Wpe();Zpe();ede();Cz();sde();fde();yde();bde();Nz();Ade();Rde();Lde();Bde();Vde();Ude();$de();Hde();Gde();Wde();Zde();Kde();Yde();Xde();Jde();Qde();Afe();Cfe();Mfe();Pfe();Ofe();Rfe();qfe();Nfe();kfe();Kz();zfe();jfe();Vfe();Wfe();Kfe();Xfe();Yz();Xz();the();rhe();ihe();ahe();phe();fhe();mhe();ghe();_he();xhe();She();Ehe();Ohe();qhe();khe();Bhe();$he();Khe();l6();u6();Xhe();p6();rme();pA();bme();xme();Sme();Yme();Xme();Jme();Qme();eve();tve();nve();ive();sve();lve();pve();dve();mve();vve();gve();yve();Tve();Ave();Ove();Wve();Kve();sge();dge();Ige();Cge();Oge();Rge();Nge();kge();Bge();Vge();$ge();Hge();Gge();Wge();Zge();Xge();Jge();oye();pye();fye();hye();mye();gye();yye();Sye();Eye();Aye();Cye();Oye();Rye();qye();zye();Zye();Xye();Qye();e0e();r0e();n0e();l0e();u0e();c0e();p0e();d0e();h0e();m0e();v0e();y0e();_0e();x0e();I0e();D0e();H0e();W0e();K0e();Y0e();J0e();Q0e();e1e();i1e();o1e();l1e();c1e();p1e();f1e();m1e();v1e();y1e();_1e();b1e();w1e();I1e();E1e();T1e();A1e();C1e();P1e();O1e();R1e();q1e();N1e();k1e();D1e();L1e();B1e();V1e();U1e();H1e();G1e();W1e();X1e();J1e();Q1e();e_e();m_e();v_e();g_e();y_e();b_e();T_e();C_e();P_e();N_e();D_e();z_e();B_e();U_e();H_e();W_e();Y_e();X_e();gbe();wbe();Sbe();Ebe();Tbe();Abe();Pbe();Obe();qbe();Nbe();Dbe();Lbe();Fbe();jbe();Vbe();$be();Hbe();Gbe();Wbe();Kbe();Ybe();Jbe();Qbe();exe();oxe();cxe();Mxe();Pxe();Oxe();Rxe();qxe();Nxe();kxe();Lxe();zxe();Hxe();Gxe();Wxe();Zxe();Kxe();Yxe();Xxe();Jxe();ewe();twe();nwe();owe();awe();swe();uwe();cwe();pwe();dwe();fwe();hwe();gwe();ywe();_we();xwe();wwe();Ewe();Twe();Awe();Cwe();Lwe();Gwe();Qwe();oSe();gSe();ISe();TSe();LSe();zSe();jSe();r2e();u2e();oIe();lIe();uIe();cIe();hIe();yIe();_Ie();bIe.exports=SE()});var SIe=I((zxr,wIe)=>{"use strict";wIe.exports=xIe()});var BEe=I((xwr,jEe)=>{"use strict";var EBt="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";jEe.exports=EBt});var HEe=I((wwr,$Ee)=>{"use strict";var TBt=BEe();function VEe(){}function UEe(){}UEe.resetWarningCache=VEe;$Ee.exports=function(){function e(n,i,o,u,f,h){if(h!==TBt){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:UEe,resetWarningCache:VEe};return r.PropTypes=r,r}});var Xt=I((Ewr,GEe)=>{GEe.exports=HEe()();var Swr,Iwr});var F8=I((Awr,ZEe)=>{"use strict";ZEe.exports=function(t,r){return function(){for(var i=new Array(arguments.length),o=0;o<i.length;o++)i[o]=arguments[o];return t.apply(r,i)}}});var ds=I((Cwr,XEe)=>{"use strict";var CBt=F8(),dm=Object.prototype.toString;function V8(e){return dm.call(e)==="[object Array]"}function j8(e){return typeof e=="undefined"}function MBt(e){return e!==null&&!j8(e)&&e.constructor!==null&&!j8(e.constructor)&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function PBt(e){return dm.call(e)==="[object ArrayBuffer]"}function OBt(e){return typeof FormData!="undefined"&&e instanceof FormData}function RBt(e){var t;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&e.buffer instanceof ArrayBuffer,t}function qBt(e){return typeof e=="string"}function NBt(e){return typeof e=="number"}function KEe(e){return e!==null&&typeof e=="object"}function fM(e){if(dm.call(e)!=="[object Object]")return!1;var t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function kBt(e){return dm.call(e)==="[object Date]"}function DBt(e){return dm.call(e)==="[object File]"}function LBt(e){return dm.call(e)==="[object Blob]"}function YEe(e){return dm.call(e)==="[object Function]"}function zBt(e){return KEe(e)&&YEe(e.pipe)}function FBt(e){return typeof URLSearchParams!="undefined"&&e instanceof URLSearchParams}function jBt(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function BBt(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function U8(e,t){if(!(e===null||typeof e=="undefined"))if(typeof e!="object"&&(e=[e]),V8(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}function B8(){var e={};function t(i,o){fM(e[o])&&fM(i)?e[o]=B8(e[o],i):fM(i)?e[o]=B8({},i):V8(i)?e[o]=i.slice():e[o]=i}for(var r=0,n=arguments.length;r<n;r++)U8(arguments[r],t);return e}function VBt(e,t,r){return U8(t,function(i,o){r&&typeof i=="function"?e[o]=CBt(i,r):e[o]=i}),e}function UBt(e){return e.charCodeAt(0)===65279&&(e=e.slice(1)),e}XEe.exports={isArray:V8,isArrayBuffer:PBt,isBuffer:MBt,isFormData:OBt,isArrayBufferView:RBt,isString:qBt,isNumber:NBt,isObject:KEe,isPlainObject:fM,isUndefined:j8,isDate:kBt,isFile:DBt,isBlob:LBt,isFunction:YEe,isStream:zBt,isURLSearchParams:FBt,isStandardBrowserEnv:BBt,forEach:U8,merge:B8,extend:VBt,trim:jBt,stripBOM:UBt}});var $8=I((Mwr,QEe)=>{"use strict";var Py=ds();function JEe(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}QEe.exports=function(t,r,n){if(!r)return t;var i;if(n)i=n(r);else if(Py.isURLSearchParams(r))i=r.toString();else{var o=[];Py.forEach(r,function(h,y){h===null||typeof h=="undefined"||(Py.isArray(h)?y=y+"[]":h=[h],Py.forEach(h,function(T){Py.isDate(T)?T=T.toISOString():Py.isObject(T)&&(T=JSON.stringify(T)),o.push(JEe(y)+"="+JEe(T))}))}),i=o.join("&")}if(i){var u=t.indexOf("#");u!==-1&&(t=t.slice(0,u)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}});var tTe=I((Pwr,eTe)=>{"use strict";var $Bt=ds();function hM(){this.handlers=[]}hM.prototype.use=function(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1};hM.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)};hM.prototype.forEach=function(t){$Bt.forEach(this.handlers,function(n){n!==null&&t(n)})};eTe.exports=hM});var nTe=I((Owr,rTe)=>{"use strict";var HBt=ds();rTe.exports=function(t,r){HBt.forEach(t,function(i,o){o!==r&&o.toUpperCase()===r.toUpperCase()&&(t[r]=i,delete t[o])})}});var H8=I((Rwr,iTe)=>{"use strict";iTe.exports=function(t,r,n,i,o){return t.config=r,n&&(t.code=n),t.request=i,t.response=o,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},t}});var G8=I((qwr,oTe)=>{"use strict";var GBt=H8();oTe.exports=function(t,r,n,i,o){var u=new Error(t);return GBt(u,r,n,i,o)}});var sTe=I((Nwr,aTe)=>{"use strict";var WBt=G8();aTe.exports=function(t,r,n){var i=n.config.validateStatus;!n.status||!i||i(n.status)?t(n):r(WBt("Request failed with status code "+n.status,n.config,null,n.request,n))}});var uTe=I((kwr,lTe)=>{"use strict";var mM=ds();lTe.exports=mM.isStandardBrowserEnv()?function(){return{write:function(r,n,i,o,u,f){var h=[];h.push(r+"="+encodeURIComponent(n)),mM.isNumber(i)&&h.push("expires="+new Date(i).toGMTString()),mM.isString(o)&&h.push("path="+o),mM.isString(u)&&h.push("domain="+u),f===!0&&h.push("secure"),document.cookie=h.join("; ")},read:function(r){var n=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()});var pTe=I((Dwr,cTe)=>{"use strict";cTe.exports=function(t){return /^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}});var fTe=I((Lwr,dTe)=>{"use strict";dTe.exports=function(t,r){return r?t.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):t}});var mTe=I((zwr,hTe)=>{"use strict";var ZBt=pTe(),KBt=fTe();hTe.exports=function(t,r){return t&&!ZBt(r)?KBt(t,r):r}});var gTe=I((Fwr,vTe)=>{"use strict";var W8=ds(),YBt=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];vTe.exports=function(t){var r={},n,i,o;return t&&W8.forEach(t.split(`
`),function(f){if(o=f.indexOf(":"),n=W8.trim(f.substr(0,o)).toLowerCase(),i=W8.trim(f.substr(o+1)),n){if(r[n]&&YBt.indexOf(n)>=0)return;n==="set-cookie"?r[n]=(r[n]?r[n]:[]).concat([i]):r[n]=r[n]?r[n]+", "+i:i}}),r}});var bTe=I((jwr,_Te)=>{"use strict";var yTe=ds();_Te.exports=yTe.isStandardBrowserEnv()?function(){var t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a"),n;function i(o){var u=o;return t&&(r.setAttribute("href",u),u=r.href),r.setAttribute("href",u),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=i(window.location.href),function(u){var f=yTe.isString(u)?i(u):u;return f.protocol===n.protocol&&f.host===n.host}}():function(){return function(){return!0}}()});var Hx=I((Bwr,xTe)=>{"use strict";function Z8(e){this.message=e}Z8.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")};Z8.prototype.__CANCEL__=!0;xTe.exports=Z8});var Y8=I((Vwr,wTe)=>{"use strict";var vM=ds(),XBt=sTe(),JBt=uTe(),QBt=$8(),e8t=mTe(),t8t=gTe(),r8t=bTe(),K8=G8(),n8t=Gx(),i8t=Hx();wTe.exports=function(t){return new Promise(function(n,i){var o=t.data,u=t.headers,f=t.responseType,h;function y(){t.cancelToken&&t.cancelToken.unsubscribe(h),t.signal&&t.signal.removeEventListener("abort",h)}vM.isFormData(o)&&delete u["Content-Type"];var w=new XMLHttpRequest;if(t.auth){var T=t.auth.username||"",A=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";u.Authorization="Basic "+btoa(T+":"+A)}var q=e8t(t.baseURL,t.url);w.open(t.method.toUpperCase(),QBt(q,t.params,t.paramsSerializer),!0),w.timeout=t.timeout;function z(){if(w){var N="getAllResponseHeaders"in w?t8t(w.getAllResponseHeaders()):null,L=!f||f==="text"||f==="json"?w.responseText:w.response,B={data:L,status:w.status,statusText:w.statusText,headers:N,config:t,request:w};XBt(function(te){n(te),y()},function(te){i(te),y()},B),w=null}}if("onloadend"in w?w.onloadend=z:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(z)},w.onabort=function(){w&&(i(K8("Request aborted",t,"ECONNABORTED",w)),w=null)},w.onerror=function(){i(K8("Network Error",t,null,w)),w=null},w.ontimeout=function(){var L=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded",B=t.transitional||n8t.transitional;t.timeoutErrorMessage&&(L=t.timeoutErrorMessage),i(K8(L,t,B.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",w)),w=null},vM.isStandardBrowserEnv()){var F=(t.withCredentials||r8t(q))&&t.xsrfCookieName?JBt.read(t.xsrfCookieName):void 0;F&&(u[t.xsrfHeaderName]=F)}"setRequestHeader"in w&&vM.forEach(u,function(L,B){typeof o=="undefined"&&B.toLowerCase()==="content-type"?delete u[B]:w.setRequestHeader(B,L)}),vM.isUndefined(t.withCredentials)||(w.withCredentials=!!t.withCredentials),f&&f!=="json"&&(w.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&w.addEventListener("progress",t.onDownloadProgress),typeof t.onUploadProgress=="function"&&w.upload&&w.upload.addEventListener("progress",t.onUploadProgress),(t.cancelToken||t.signal)&&(h=function(N){w&&(i(!N||N&&N.type?new i8t("canceled"):N),w.abort(),w=null)},t.cancelToken&&t.cancelToken.subscribe(h),t.signal&&(t.signal.aborted?h():t.signal.addEventListener("abort",h))),o||(o=null),w.send(o)})}});var Gx=I((Uwr,ETe)=>{"use strict";var No=ds(),STe=nTe(),o8t=H8(),a8t={"Content-Type":"application/x-www-form-urlencoded"};function ITe(e,t){!No.isUndefined(e)&&No.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function s8t(){var e;return typeof XMLHttpRequest!="undefined"?e=Y8():typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]"&&(e=Y8()),e}function l8t(e,t,r){if(No.isString(e))try{return(t||JSON.parse)(e),No.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}var gM={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:s8t(),transformRequest:[function(t,r){return STe(r,"Accept"),STe(r,"Content-Type"),No.isFormData(t)||No.isArrayBuffer(t)||No.isBuffer(t)||No.isStream(t)||No.isFile(t)||No.isBlob(t)?t:No.isArrayBufferView(t)?t.buffer:No.isURLSearchParams(t)?(ITe(r,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):No.isObject(t)||r&&r["Content-Type"]==="application/json"?(ITe(r,"application/json"),l8t(t)):t}],transformResponse:[function(t){var r=this.transitional||gM.transitional,n=r&&r.silentJSONParsing,i=r&&r.forcedJSONParsing,o=!n&&this.responseType==="json";if(o||i&&No.isString(t)&&t.length)try{return JSON.parse(t)}catch(u){if(o)throw u.name==="SyntaxError"?o8t(u,this,"E_JSON_PARSE"):u}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};No.forEach(["delete","get","head"],function(t){gM.headers[t]={}});No.forEach(["post","put","patch"],function(t){gM.headers[t]=No.merge(a8t)});ETe.exports=gM});var ATe=I(($wr,TTe)=>{"use strict";var u8t=ds(),c8t=Gx();TTe.exports=function(t,r,n){var i=this||c8t;return u8t.forEach(n,function(u){t=u.call(i,t,r)}),t}});var X8=I((Hwr,CTe)=>{"use strict";CTe.exports=function(t){return!!(t&&t.__CANCEL__)}});var OTe=I((Gwr,PTe)=>{"use strict";var MTe=ds(),J8=ATe(),p8t=X8(),d8t=Gx(),f8t=Hx();function Q8(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new f8t("canceled")}PTe.exports=function(t){Q8(t),t.headers=t.headers||{},t.data=J8.call(t,t.data,t.headers,t.transformRequest),t.headers=MTe.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),MTe.forEach(["delete","get","head","post","put","patch","common"],function(i){delete t.headers[i]});var r=t.adapter||d8t.adapter;return r(t).then(function(i){return Q8(t),i.data=J8.call(t,i.data,i.headers,t.transformResponse),i},function(i){return p8t(i)||(Q8(t),i&&i.response&&(i.response.data=J8.call(t,i.response.data,i.response.headers,t.transformResponse))),Promise.reject(i)})}});var e9=I((Wwr,RTe)=>{"use strict";var Vs=ds();RTe.exports=function(t,r){r=r||{};var n={};function i(w,T){return Vs.isPlainObject(w)&&Vs.isPlainObject(T)?Vs.merge(w,T):Vs.isPlainObject(T)?Vs.merge({},T):Vs.isArray(T)?T.slice():T}function o(w){if(Vs.isUndefined(r[w])){if(!Vs.isUndefined(t[w]))return i(void 0,t[w])}else return i(t[w],r[w])}function u(w){if(!Vs.isUndefined(r[w]))return i(void 0,r[w])}function f(w){if(Vs.isUndefined(r[w])){if(!Vs.isUndefined(t[w]))return i(void 0,t[w])}else return i(void 0,r[w])}function h(w){if(w in r)return i(t[w],r[w]);if(w in t)return i(void 0,t[w])}var y={url:u,method:u,data:u,baseURL:f,transformRequest:f,transformResponse:f,paramsSerializer:f,timeout:f,timeoutMessage:f,withCredentials:f,adapter:f,responseType:f,xsrfCookieName:f,xsrfHeaderName:f,onUploadProgress:f,onDownloadProgress:f,decompress:f,maxContentLength:f,maxBodyLength:f,transport:f,httpAgent:f,httpsAgent:f,cancelToken:f,socketPath:f,responseEncoding:f,validateStatus:h};return Vs.forEach(Object.keys(t).concat(Object.keys(r)),function(T){var A=y[T]||o,q=A(T);Vs.isUndefined(q)&&A!==h||(n[T]=q)}),n}});var t9=I((Zwr,qTe)=>{qTe.exports={version:"0.24.0"}});var DTe=I((Kwr,kTe)=>{"use strict";var h8t=t9().version,r9={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){r9[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});var NTe={};r9.transitional=function(t,r,n){function i(o,u){return"[Axios v"+h8t+"] Transitional option '"+o+"'"+u+(n?". "+n:"")}return function(o,u,f){if(t===!1)throw new Error(i(u," has been removed"+(r?" in "+r:"")));return r&&!NTe[u]&&(NTe[u]=!0,console.warn(i(u," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(o,u,f):!0}};function m8t(e,t,r){if(typeof e!="object")throw new TypeError("options must be an object");for(var n=Object.keys(e),i=n.length;i-->0;){var o=n[i],u=t[o];if(u){var f=e[o],h=f===void 0||u(f,o,e);if(h!==!0)throw new TypeError("option "+o+" must be "+h);continue}if(r!==!0)throw Error("Unknown option "+o)}}kTe.exports={assertOptions:m8t,validators:r9}});var VTe=I((Ywr,BTe)=>{"use strict";var FTe=ds(),v8t=$8(),LTe=tTe(),zTe=OTe(),yM=e9(),jTe=DTe(),Oy=jTe.validators;function Wx(e){this.defaults=e,this.interceptors={request:new LTe,response:new LTe}}Wx.prototype.request=function(t){typeof t=="string"?(t=arguments[1]||{},t.url=arguments[0]):t=t||{},t=yM(this.defaults,t),t.method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var r=t.transitional;r!==void 0&&jTe.assertOptions(r,{silentJSONParsing:Oy.transitional(Oy.boolean),forcedJSONParsing:Oy.transitional(Oy.boolean),clarifyTimeoutError:Oy.transitional(Oy.boolean)},!1);var n=[],i=!0;this.interceptors.request.forEach(function(A){typeof A.runWhen=="function"&&A.runWhen(t)===!1||(i=i&&A.synchronous,n.unshift(A.fulfilled,A.rejected))});var o=[];this.interceptors.response.forEach(function(A){o.push(A.fulfilled,A.rejected)});var u;if(!i){var f=[zTe,void 0];for(Array.prototype.unshift.apply(f,n),f=f.concat(o),u=Promise.resolve(t);f.length;)u=u.then(f.shift(),f.shift());return u}for(var h=t;n.length;){var y=n.shift(),w=n.shift();try{h=y(h)}catch(T){w(T);break}}try{u=zTe(h)}catch(T){return Promise.reject(T)}for(;o.length;)u=u.then(o.shift(),o.shift());return u};Wx.prototype.getUri=function(t){return t=yM(this.defaults,t),v8t(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")};FTe.forEach(["delete","get","head","options"],function(t){Wx.prototype[t]=function(r,n){return this.request(yM(n||{},{method:t,url:r,data:(n||{}).data}))}});FTe.forEach(["post","put","patch"],function(t){Wx.prototype[t]=function(r,n,i){return this.request(yM(i||{},{method:t,url:r,data:n}))}});BTe.exports=Wx});var $Te=I((Xwr,UTe)=>{"use strict";var g8t=Hx();function Ry(e){if(typeof e!="function")throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(i){t=i});var r=this;this.promise.then(function(n){if(r._listeners){var i,o=r._listeners.length;for(i=0;i<o;i++)r._listeners[i](n);r._listeners=null}}),this.promise.then=function(n){var i,o=new Promise(function(u){r.subscribe(u),i=u}).then(n);return o.cancel=function(){r.unsubscribe(i)},o},e(function(i){r.reason||(r.reason=new g8t(i),t(r.reason))})}Ry.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};Ry.prototype.subscribe=function(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]};Ry.prototype.unsubscribe=function(t){if(this._listeners){var r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}};Ry.source=function(){var t,r=new Ry(function(i){t=i});return{token:r,cancel:t}};UTe.exports=Ry});var GTe=I((Jwr,HTe)=>{"use strict";HTe.exports=function(t){return function(n){return t.apply(null,n)}}});var ZTe=I((Qwr,WTe)=>{"use strict";WTe.exports=function(t){return typeof t=="object"&&t.isAxiosError===!0}});var XTe=I((eSr,n9)=>{"use strict";var KTe=ds(),y8t=F8(),_M=VTe(),_8t=e9(),b8t=Gx();function YTe(e){var t=new _M(e),r=y8t(_M.prototype.request,t);return KTe.extend(r,_M.prototype,t),KTe.extend(r,t),r.create=function(i){return YTe(_8t(e,i))},r}var Yu=YTe(b8t);Yu.Axios=_M;Yu.Cancel=Hx();Yu.CancelToken=$Te();Yu.isCancel=X8();Yu.VERSION=t9().version;Yu.all=function(t){return Promise.all(t)};Yu.spread=GTe();Yu.isAxiosError=ZTe();n9.exports=Yu;n9.exports.default=Yu});var fm=I((tSr,JTe)=>{JTe.exports=XTe()});var pAe=I((aSr,cAe)=>{var a9=1/0,w8t=17976931348623157e292,rAe=NaN,S8t="[object Symbol]",I8t=/^\s+|\s+$/g,E8t=/^[-+]0x[0-9a-f]+$/i,T8t=/^0b[01]+$/i,A8t=/^0o[0-7]+$/i,C8t=parseInt,M8t=typeof global=="object"&&global&&global.Object===Object&&global,P8t=typeof self=="object"&&self&&self.Object===Object&&self,O8t=M8t||P8t||Function("return this")(),R8t=Object.prototype,q8t=R8t.toString,nAe=O8t.Symbol,N8t=Math.min,iAe=nAe?nAe.prototype:void 0,oAe=iAe?iAe.toString:void 0;function k8t(e){if(typeof e=="string")return e;if(lAe(e))return oAe?oAe.call(e):"";var t=e+"";return t=="0"&&1/e==-a9?"-0":t}function D8t(e){var t=Math[e];return function(r,n){if(r=uAe(r),n=N8t(F8t(n),292),n){var i=(sAe(r)+"e").split("e"),o=t(i[0]+"e"+(+i[1]+n));return i=(sAe(o)+"e").split("e"),+(i[0]+"e"+(+i[1]-n))}return t(r)}}function aAe(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function L8t(e){return!!e&&typeof e=="object"}function lAe(e){return typeof e=="symbol"||L8t(e)&&q8t.call(e)==S8t}function z8t(e){if(!e)return e===0?e:0;if(e=uAe(e),e===a9||e===-a9){var t=e<0?-1:1;return t*w8t}return e===e?e:0}function F8t(e){var t=z8t(e),r=t%1;return t===t?r?t-r:t:0}function uAe(e){if(typeof e=="number")return e;if(lAe(e))return rAe;if(aAe(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=aAe(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(I8t,"");var r=T8t.test(e);return r||A8t.test(e)?C8t(e.slice(2),r?2:8):E8t.test(e)?rAe:+e}function sAe(e){return e==null?"":k8t(e)}var j8t=D8t("round");cAe.exports=j8t});var Zx=I((u9,c9)=>{(function(e,t){typeof u9=="object"&&typeof c9!="undefined"?c9.exports=t():typeof define=="function"&&define.amd?define(t):(e=typeof globalThis!="undefined"?globalThis:e||self,e.maplibregl=t())})(u9,function(){"use strict";var e={},t={};function r(i,o,u){if(t[i]=u,i==="index"){var f="var sharedModule = {}; ("+t.shared+")(sharedModule); ("+t.worker+")(sharedModule);",h={};return t.shared(h),t.index(e,h),typeof window!="undefined"&&e.setWorkerUrl(window.URL.createObjectURL(new Blob([f],{type:"text/javascript"}))),e}}r("shared",["exports"],function(i){"use strict";function o(l,s,c,d){return new(c||(c=Promise))(function(g,x){function S(R){try{M(d.next(R))}catch(k){x(k)}}function E(R){try{M(d.throw(R))}catch(k){x(k)}}function M(R){var k;R.done?g(R.value):(k=R.value,k instanceof c?k:new c(function(j){j(k)})).then(S,E)}M((d=d.apply(l,s||[])).next())})}function u(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}typeof SuppressedError=="function"&&SuppressedError;var f=h;function h(l,s){this.x=l,this.y=s}h.prototype={clone:function(){return new h(this.x,this.y)},add:function(l){return this.clone()._add(l)},sub:function(l){return this.clone()._sub(l)},multByPoint:function(l){return this.clone()._multByPoint(l)},divByPoint:function(l){return this.clone()._divByPoint(l)},mult:function(l){return this.clone()._mult(l)},div:function(l){return this.clone()._div(l)},rotate:function(l){return this.clone()._rotate(l)},rotateAround:function(l,s){return this.clone()._rotateAround(l,s)},matMult:function(l){return this.clone()._matMult(l)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(l){return this.x===l.x&&this.y===l.y},dist:function(l){return Math.sqrt(this.distSqr(l))},distSqr:function(l){var s=l.x-this.x,c=l.y-this.y;return s*s+c*c},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(l){return Math.atan2(this.y-l.y,this.x-l.x)},angleWith:function(l){return this.angleWithSep(l.x,l.y)},angleWithSep:function(l,s){return Math.atan2(this.x*s-this.y*l,this.x*l+this.y*s)},_matMult:function(l){var s=l[2]*this.x+l[3]*this.y;return this.x=l[0]*this.x+l[1]*this.y,this.y=s,this},_add:function(l){return this.x+=l.x,this.y+=l.y,this},_sub:function(l){return this.x-=l.x,this.y-=l.y,this},_mult:function(l){return this.x*=l,this.y*=l,this},_div:function(l){return this.x/=l,this.y/=l,this},_multByPoint:function(l){return this.x*=l.x,this.y*=l.y,this},_divByPoint:function(l){return this.x/=l.x,this.y/=l.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var l=this.y;return this.y=this.x,this.x=-l,this},_rotate:function(l){var s=Math.cos(l),c=Math.sin(l),d=c*this.x+s*this.y;return this.x=s*this.x-c*this.y,this.y=d,this},_rotateAround:function(l,s){var c=Math.cos(l),d=Math.sin(l),g=s.y+d*(this.x-s.x)+c*(this.y-s.y);return this.x=s.x+c*(this.x-s.x)-d*(this.y-s.y),this.y=g,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},h.convert=function(l){return l instanceof h?l:Array.isArray(l)?new h(l[0],l[1]):l};var y=u(f),w=T;function T(l,s,c,d){this.cx=3*l,this.bx=3*(c-l)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*s,this.by=3*(d-s)-this.cy,this.ay=1-this.cy-this.by,this.p1x=l,this.p1y=s,this.p2x=c,this.p2y=d}T.prototype={sampleCurveX:function(l){return((this.ax*l+this.bx)*l+this.cx)*l},sampleCurveY:function(l){return((this.ay*l+this.by)*l+this.cy)*l},sampleCurveDerivativeX:function(l){return(3*this.ax*l+2*this.bx)*l+this.cx},solveCurveX:function(l,s){if(s===void 0&&(s=1e-6),l<0)return 0;if(l>1)return 1;for(var c=l,d=0;d<8;d++){var g=this.sampleCurveX(c)-l;if(Math.abs(g)<s)return c;var x=this.sampleCurveDerivativeX(c);if(Math.abs(x)<1e-6)break;c-=g/x}var S=0,E=1;for(c=l,d=0;d<20&&(g=this.sampleCurveX(c),!(Math.abs(g-l)<s));d++)l>g?S=c:E=c,c=.5*(E-S)+S;return c},solve:function(l,s){return this.sampleCurveY(this.solveCurveX(l,s))}};var A=u(w);let q,z;function F(){return q==null&&(q=typeof OffscreenCanvas!="undefined"&&new OffscreenCanvas(1,1).getContext("2d")&&typeof createImageBitmap=="function"),q}function N(){if(z==null&&(z=!1,F())){let s=new OffscreenCanvas(5,5).getContext("2d",{willReadFrequently:!0});if(s){for(let d=0;d<5*5;d++){let g=4*d;s.fillStyle=`rgb(${g},${g+1},${g+2})`,s.fillRect(d%5,Math.floor(d/5),1,1)}let c=s.getImageData(0,0,5,5).data;for(let d=0;d<5*5*4;d++)if(d%4!=3&&c[d]!==d){z=!0;break}}}return z||!1}function L(l,s,c,d){let g=new A(l,s,c,d);return x=>g.solve(x)}let B=L(.25,.1,.25,1);function Z(l,s,c){return Math.min(c,Math.max(s,l))}function te(l,s,c){let d=c-s,g=((l-s)%d+d)%d+s;return g===s?c:g}function ue(l,...s){for(let c of s)for(let d in c)l[d]=c[d];return l}let ce=1;function ye(l,s,c){let d={};for(let g in l)d[g]=s.call(this,l[g],g,l);return d}function Ne(l,s,c){let d={};for(let g in l)s.call(this,l[g],g,l)&&(d[g]=l[g]);return d}function Se(l){return Array.isArray(l)?l.map(Se):typeof l=="object"&&l?ye(l,Se):l}let Be={};function He(l){Be[l]||(typeof console!="undefined"&&console.warn(l),Be[l]=!0)}function Xe(l,s,c){return(c.y-l.y)*(s.x-l.x)>(s.y-l.y)*(c.x-l.x)}function $e(l){return typeof WorkerGlobalScope!="undefined"&&l!==void 0&&l instanceof WorkerGlobalScope}let Qe=null;function ot(l){return typeof ImageBitmap!="undefined"&&l instanceof ImageBitmap}let ze="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function ke(l,s,c,d,g){return o(this,void 0,void 0,function*(){if(typeof VideoFrame=="undefined")throw new Error("VideoFrame not supported");let x=new VideoFrame(l,{timestamp:0});try{let S=x==null?void 0:x.format;if(!S||!S.startsWith("BGR")&&!S.startsWith("RGB"))throw new Error(`Unrecognized format ${S}`);let E=S.startsWith("BGR"),M=new Uint8ClampedArray(d*g*4);if(yield x.copyTo(M,function(R,k,j,G,W){let X=4*Math.max(-k,0),Q=(Math.max(0,j)-j)*G*4+X,se=4*G,pe=Math.max(0,k),Oe=Math.max(0,j);return{rect:{x:pe,y:Oe,width:Math.min(R.width,k+G)-pe,height:Math.min(R.height,j+W)-Oe},layout:[{offset:Q,stride:se}]}}(l,s,c,d,g)),E)for(let R=0;R<M.length;R+=4){let k=M[R];M[R]=M[R+2],M[R+2]=k}return M}finally{x.close()}})}let je,lt,ut="AbortError";function vt(){return new Error(ut)}let Fe={MAX_PARALLEL_IMAGE_REQUESTS:16,MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:8,MAX_TILE_CACHE_ZOOM_LEVELS:5,REGISTERED_PROTOCOLS:{},WORKER_URL:""};function We(l){return Fe.REGISTERED_PROTOCOLS[l.substring(0,l.indexOf("://"))]}let it="global-dispatcher";class Pe extends Error{constructor(s,c,d,g){super(`AJAXError: ${c} (${s}): ${d}`),this.status=s,this.statusText=c,this.url=d,this.body=g}}let he=()=>$e(self)?self.worker&&self.worker.referrer:(window.location.protocol==="blob:"?window.parent:window).location.href,Re=function(l,s){if(/:\/\//.test(l.url)&&!/^https?:|^file:/.test(l.url)){let d=We(l.url);if(d)return d(l,s);if($e(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"GR",data:l,targetMapId:it},s)}if(!(/^file:/.test(c=l.url)||/^file:/.test(he())&&!/^\w+:/.test(c))){if(fetch&&Request&&AbortController&&Object.prototype.hasOwnProperty.call(Request.prototype,"signal"))return function(d,g){return o(this,void 0,void 0,function*(){let x=new Request(d.url,{method:d.method||"GET",body:d.body,credentials:d.credentials,headers:d.headers,cache:d.cache,referrer:he(),signal:g.signal});d.type!=="json"||x.headers.has("Accept")||x.headers.set("Accept","application/json");let S=yield fetch(x);if(!S.ok){let R=yield S.blob();throw new Pe(S.status,S.statusText,d.url,R)}let E;E=d.type==="arrayBuffer"||d.type==="image"?S.arrayBuffer():d.type==="json"?S.json():S.text();let M=yield E;if(g.signal.aborted)throw vt();return{data:M,cacheControl:S.headers.get("Cache-Control"),expires:S.headers.get("Expires")}})}(l,s);if($e(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"GR",data:l,mustQueue:!0,targetMapId:it},s)}var c;return function(d,g){return new Promise((x,S)=>{var E;let M=new XMLHttpRequest;M.open(d.method||"GET",d.url,!0),d.type!=="arrayBuffer"&&d.type!=="image"||(M.responseType="arraybuffer");for(let R in d.headers)M.setRequestHeader(R,d.headers[R]);d.type==="json"&&(M.responseType="text",!((E=d.headers)===null||E===void 0)&&E.Accept||M.setRequestHeader("Accept","application/json")),M.withCredentials=d.credentials==="include",M.onerror=()=>{S(new Error(M.statusText))},M.onload=()=>{if(!g.signal.aborted)if((M.status>=200&&M.status<300||M.status===0)&&M.response!==null){let R=M.response;if(d.type==="json")try{R=JSON.parse(M.response)}catch(k){return void S(k)}x({data:R,cacheControl:M.getResponseHeader("Cache-Control"),expires:M.getResponseHeader("Expires")})}else{let R=new Blob([M.response],{type:M.getResponseHeader("Content-Type")});S(new Pe(M.status,M.statusText,d.url,R))}},g.signal.addEventListener("abort",()=>{M.abort(),S(vt())}),M.send(d.body)})}(l,s)};function Te(l){if(!l||l.indexOf("://")<=0||l.indexOf("data:image/")===0||l.indexOf("blob:")===0)return!0;let s=new URL(l),c=window.location;return s.protocol===c.protocol&&s.host===c.host}function Ke(l,s,c){c[l]&&c[l].indexOf(s)!==-1||(c[l]=c[l]||[],c[l].push(s))}function Ge(l,s,c){if(c&&c[l]){let d=c[l].indexOf(s);d!==-1&&c[l].splice(d,1)}}class wt{constructor(s,c={}){ue(this,c),this.type=s}}class St extends wt{constructor(s,c={}){super("error",ue({error:s},c))}}class Ot{on(s,c){return this._listeners=this._listeners||{},Ke(s,c,this._listeners),this}off(s,c){return Ge(s,c,this._listeners),Ge(s,c,this._oneTimeListeners),this}once(s,c){return c?(this._oneTimeListeners=this._oneTimeListeners||{},Ke(s,c,this._oneTimeListeners),this):new Promise(d=>this.once(s,d))}fire(s,c){typeof s=="string"&&(s=new wt(s,c||{}));let d=s.type;if(this.listens(d)){s.target=this;let g=this._listeners&&this._listeners[d]?this._listeners[d].slice():[];for(let E of g)E.call(this,s);let x=this._oneTimeListeners&&this._oneTimeListeners[d]?this._oneTimeListeners[d].slice():[];for(let E of x)Ge(d,E,this._oneTimeListeners),E.call(this,s);let S=this._eventedParent;S&&(ue(s,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),S.fire(s))}else s instanceof St&&console.error(s.error);return this}listens(s){return this._listeners&&this._listeners[s]&&this._listeners[s].length>0||this._oneTimeListeners&&this._oneTimeListeners[s]&&this._oneTimeListeners[s].length>0||this._eventedParent&&this._eventedParent.listens(s)}setEventedParent(s,c){return this._eventedParent=s,this._eventedParentData=c,this}}var xe={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sky:{type:"sky"},projection:{type:"projection"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"sprite"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{},custom:{}},default:"mapbox"},redFactor:{type:"number",default:1},blueFactor:{type:"number",default:1},greenFactor:{type:"number",default:1},baseShift:{type:"number",default:0},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{required:!0,type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{type:"variableAnchorOffsetCollection",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},sky:{"sky-color":{type:"color","property-type":"data-constant",default:"#88C6FC",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-ground-blend":{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-fog-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"sky-horizon-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"atmosphere-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1}},projection:{type:{type:"enum",default:"mercator",values:{mercator:{},globe:{}}}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};let pt=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function Ut(l,s){let c={};for(let d in l)d!=="ref"&&(c[d]=l[d]);return pt.forEach(d=>{d in s&&(c[d]=s[d])}),c}function ht(l,s){if(Array.isArray(l)){if(!Array.isArray(s)||l.length!==s.length)return!1;for(let c=0;c<l.length;c++)if(!ht(l[c],s[c]))return!1;return!0}if(typeof l=="object"&&l!==null&&s!==null){if(typeof s!="object"||Object.keys(l).length!==Object.keys(s).length)return!1;for(let c in l)if(!ht(l[c],s[c]))return!1;return!0}return l===s}function $t(l,s){l.push(s)}function lr(l,s,c){$t(c,{command:"addSource",args:[l,s[l]]})}function Bt(l,s,c){$t(s,{command:"removeSource",args:[l]}),c[l]=!0}function ur(l,s,c,d){Bt(l,c,d),lr(l,s,c)}function Fr(l,s,c){let d;for(d in l[c])if(Object.prototype.hasOwnProperty.call(l[c],d)&&d!=="data"&&!ht(l[c][d],s[c][d]))return!1;for(d in s[c])if(Object.prototype.hasOwnProperty.call(s[c],d)&&d!=="data"&&!ht(l[c][d],s[c][d]))return!1;return!0}function Dr(l,s,c,d,g,x){l=l||{},s=s||{};for(let S in l)Object.prototype.hasOwnProperty.call(l,S)&&(ht(l[S],s[S])||c.push({command:x,args:[d,S,s[S],g]}));for(let S in s)Object.prototype.hasOwnProperty.call(s,S)&&!Object.prototype.hasOwnProperty.call(l,S)&&(ht(l[S],s[S])||c.push({command:x,args:[d,S,s[S],g]}))}function or(l){return l.id}function Kr(l,s){return l[s.id]=s,l}class nt{constructor(s,c,d,g){this.message=(s?`${s}: `:"")+d,g&&(this.identifier=g),c!=null&&c.__line__&&(this.line=c.__line__)}}function ei(l,...s){for(let c of s)for(let d in c)l[d]=c[d];return l}class pn extends Error{constructor(s,c){super(c),this.message=c,this.key=s}}class $a{constructor(s,c=[]){this.parent=s,this.bindings={};for(let[d,g]of c)this.bindings[d]=g}concat(s){return new $a(this,s)}get(s){if(this.bindings[s])return this.bindings[s];if(this.parent)return this.parent.get(s);throw new Error(`${s} not found in scope.`)}has(s){return!!this.bindings[s]||!!this.parent&&this.parent.has(s)}}let Qs={kind:"null"},bt={kind:"number"},wr={kind:"string"},sr={kind:"boolean"},no={kind:"color"},wa={kind:"object"},we={kind:"value"},Ce={kind:"collator"},st={kind:"formatted"},Rt={kind:"padding"},Pt={kind:"resolvedImage"},re={kind:"variableAnchorOffsetCollection"};function H(l,s){return{kind:"array",itemType:l,N:s}}function $(l){if(l.kind==="array"){let s=$(l.itemType);return typeof l.N=="number"?`array<${s}, ${l.N}>`:l.itemType.kind==="value"?"array":`array<${s}>`}return l.kind}let K=[Qs,bt,wr,sr,no,st,wa,H(we),Rt,Pt,re];function ie(l,s){if(s.kind==="error")return null;if(l.kind==="array"){if(s.kind==="array"&&(s.N===0&&s.itemType.kind==="value"||!ie(l.itemType,s.itemType))&&(typeof l.N!="number"||l.N===s.N))return null}else{if(l.kind===s.kind)return null;if(l.kind==="value"){for(let c of K)if(!ie(c,s))return null}}return`Expected ${$(l)} but found ${$(s)} instead.`}function ve(l,s){return s.some(c=>c.kind===l.kind)}function be(l,s){return s.some(c=>c==="null"?l===null:c==="array"?Array.isArray(l):c==="object"?l&&!Array.isArray(l)&&typeof l=="object":c===typeof l)}function Ee(l,s){return l.kind==="array"&&s.kind==="array"?l.itemType.kind===s.itemType.kind&&typeof l.N=="number":l.kind===s.kind}let fe=.96422,Le=.82521,Ye=4/29,De=6/29,dt=3*De*De,Ht=De*De*De,rr=Math.PI/180,Jr=180/Math.PI;function _r(l){return(l%=360)<0&&(l+=360),l}function Qr([l,s,c,d]){let g,x,S=xi((.2225045*(l=jr(l))+.7168786*(s=jr(s))+.0606169*(c=jr(c)))/1);l===s&&s===c?g=x=S:(g=xi((.4360747*l+.3850649*s+.1430804*c)/fe),x=xi((.0139322*l+.0971045*s+.7141733*c)/Le));let E=116*S-16;return[E<0?0:E,500*(g-S),200*(S-x),d]}function jr(l){return l<=.04045?l/12.92:Math.pow((l+.055)/1.055,2.4)}function xi(l){return l>Ht?Math.pow(l,1/3):l/dt+Ye}function ti([l,s,c,d]){let g=(l+16)/116,x=isNaN(s)?g:g+s/500,S=isNaN(c)?g:g-c/200;return g=1*fn(g),x=fe*fn(x),S=Le*fn(S),[Pr(3.1338561*x-1.6168667*g-.4906146*S),Pr(-.9787684*x+1.9161415*g+.033454*S),Pr(.0719453*x-.2289914*g+1.4052427*S),d]}function Pr(l){return(l=l<=.00304?12.92*l:1.055*Math.pow(l,1/2.4)-.055)<0?0:l>1?1:l}function fn(l){return l>De?l*l*l:dt*(l-Ye)}function Hn(l){return parseInt(l.padEnd(2,l),16)/255}function Bi(l,s){return Zi(s?l/100:l,0,1)}function Zi(l,s,c){return Math.min(Math.max(s,l),c)}function wo(l){return!l.some(Number.isNaN)}let Dp={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};class hn{constructor(s,c,d,g=1,x=!0){this.r=s,this.g=c,this.b=d,this.a=g,x||(this.r*=g,this.g*=g,this.b*=g,g||this.overwriteGetter("rgb",[s,c,d,g]))}static parse(s){if(s instanceof hn)return s;if(typeof s!="string")return;let c=function(d){if((d=d.toLowerCase().trim())==="transparent")return[0,0,0,0];let g=Dp[d];if(g){let[S,E,M]=g;return[S/255,E/255,M/255,1]}if(d.startsWith("#")&&/^#(?:[0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/.test(d)){let S=d.length<6?1:2,E=1;return[Hn(d.slice(E,E+=S)),Hn(d.slice(E,E+=S)),Hn(d.slice(E,E+=S)),Hn(d.slice(E,E+S)||"ff")]}if(d.startsWith("rgb")){let S=d.match(/^rgba?\(\s*([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(S){let[E,M,R,k,j,G,W,X,Q,se,pe,Oe]=S,_e=[k||" ",W||" ",se].join("");if(_e==="  "||_e==="  /"||_e===",,"||_e===",,,"){let Me=[R,G,Q].join(""),Ue=Me==="%%%"?100:Me===""?255:0;if(Ue){let at=[Zi(+M/Ue,0,1),Zi(+j/Ue,0,1),Zi(+X/Ue,0,1),pe?Bi(+pe,Oe):1];if(wo(at))return at}}return}}let x=d.match(/^hsla?\(\s*([\de.+-]+)(?:deg)?(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(x){let[S,E,M,R,k,j,G,W,X]=x,Q=[M||" ",k||" ",G].join("");if(Q==="  "||Q==="  /"||Q===",,"||Q===",,,"){let se=[+E,Zi(+R,0,100),Zi(+j,0,100),W?Bi(+W,X):1];if(wo(se))return function([pe,Oe,_e,Me]){function Ue(at){let kt=(at+pe/30)%12,nr=Oe*Math.min(_e,1-_e);return _e-nr*Math.max(-1,Math.min(kt-3,9-kt,1))}return pe=_r(pe),Oe/=100,_e/=100,[Ue(0),Ue(8),Ue(4),Me]}(se)}}}(s);return c?new hn(...c,!1):void 0}get rgb(){let{r:s,g:c,b:d,a:g}=this,x=g||1/0;return this.overwriteGetter("rgb",[s/x,c/x,d/x,g])}get hcl(){return this.overwriteGetter("hcl",function(s){let[c,d,g,x]=Qr(s),S=Math.sqrt(d*d+g*g);return[Math.round(1e4*S)?_r(Math.atan2(g,d)*Jr):NaN,S,c,x]}(this.rgb))}get lab(){return this.overwriteGetter("lab",Qr(this.rgb))}overwriteGetter(s,c){return Object.defineProperty(this,s,{value:c}),c}toString(){let[s,c,d,g]=this.rgb;return`rgba(${[s,c,d].map(x=>Math.round(255*x)).join(",")},${g})`}}hn.black=new hn(0,0,0,1),hn.white=new hn(1,1,1,1),hn.transparent=new hn(0,0,0,0),hn.red=new hn(1,0,0,1);class P0{constructor(s,c,d){this.sensitivity=s?c?"variant":"case":c?"accent":"base",this.locale=d,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(s,c){return this.collator.compare(s,c)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class O0{constructor(s,c,d,g,x){this.text=s,this.image=c,this.scale=d,this.fontStack=g,this.textColor=x}}class Sa{constructor(s){this.sections=s}static fromString(s){return new Sa([new O0(s,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(s=>s.text.length!==0||s.image&&s.image.name.length!==0)}static factory(s){return s instanceof Sa?s:Sa.fromString(s)}toString(){return this.sections.length===0?"":this.sections.map(s=>s.text).join("")}}class Ia{constructor(s){this.values=s.slice()}static parse(s){if(s instanceof Ia)return s;if(typeof s=="number")return new Ia([s,s,s,s]);if(Array.isArray(s)&&!(s.length<1||s.length>4)){for(let c of s)if(typeof c!="number")return;switch(s.length){case 1:s=[s[0],s[0],s[0],s[0]];break;case 2:s=[s[0],s[1],s[0],s[1]];break;case 3:s=[s[0],s[1],s[2],s[1]];}return new Ia(s)}}toString(){return JSON.stringify(this.values)}}let ER=new Set(["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"]);class Ha{constructor(s){this.values=s.slice()}static parse(s){if(s instanceof Ha)return s;if(Array.isArray(s)&&!(s.length<1)&&s.length%2==0){for(let c=0;c<s.length;c+=2){let d=s[c],g=s[c+1];if(typeof d!="string"||!ER.has(d)||!Array.isArray(g)||g.length!==2||typeof g[0]!="number"||typeof g[1]!="number")return}return new Ha(s)}}toString(){return JSON.stringify(this.values)}}class Ea{constructor(s){this.name=s.name,this.available=s.available}toString(){return this.name}static fromString(s){return s?new Ea({name:s,available:!1}):null}}function Lp(l,s,c,d){return typeof l=="number"&&l>=0&&l<=255&&typeof s=="number"&&s>=0&&s<=255&&typeof c=="number"&&c>=0&&c<=255?d===void 0||typeof d=="number"&&d>=0&&d<=1?null:`Invalid rgba value [${[l,s,c,d].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof d=="number"?[l,s,c,d]:[l,s,c]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function _c(l){if(l===null||typeof l=="string"||typeof l=="boolean"||typeof l=="number"||l instanceof hn||l instanceof P0||l instanceof Sa||l instanceof Ia||l instanceof Ha||l instanceof Ea)return!0;if(Array.isArray(l)){for(let s of l)if(!_c(s))return!1;return!0}if(typeof l=="object"){for(let s in l)if(!_c(l[s]))return!1;return!0}return!1}function wi(l){if(l===null)return Qs;if(typeof l=="string")return wr;if(typeof l=="boolean")return sr;if(typeof l=="number")return bt;if(l instanceof hn)return no;if(l instanceof P0)return Ce;if(l instanceof Sa)return st;if(l instanceof Ia)return Rt;if(l instanceof Ha)return re;if(l instanceof Ea)return Pt;if(Array.isArray(l)){let s=l.length,c;for(let d of l){let g=wi(d);if(c){if(c===g)continue;c=we;break}c=g}return H(c||we,s)}return wa}function jf(l){let s=typeof l;return l===null?"":s==="string"||s==="number"||s==="boolean"?String(l):l instanceof hn||l instanceof Sa||l instanceof Ia||l instanceof Ha||l instanceof Ea?l.toString():JSON.stringify(l)}class Is{constructor(s,c){this.type=s,this.value=c}static parse(s,c){if(s.length!==2)return c.error(`'literal' expression requires exactly one argument, but found ${s.length-1} instead.`);if(!_c(s[1]))return c.error("invalid value");let d=s[1],g=wi(d),x=c.expectedType;return g.kind!=="array"||g.N!==0||!x||x.kind!=="array"||typeof x.N=="number"&&x.N!==0||(g=x),new Is(g,d)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}}class hi{constructor(s){this.name="ExpressionEvaluationError",this.message=s}toJSON(){return this.message}}let jm={string:wr,number:bt,boolean:sr,object:wa};class Es{constructor(s,c){this.type=s,this.args=c}static parse(s,c){if(s.length<2)return c.error("Expected at least one argument.");let d,g=1,x=s[0];if(x==="array"){let E,M;if(s.length>2){let R=s[1];if(typeof R!="string"||!(R in jm)||R==="object")return c.error("The item type argument of \"array\" must be one of string, number, boolean",1);E=jm[R],g++}else E=we;if(s.length>3){if(s[2]!==null&&(typeof s[2]!="number"||s[2]<0||s[2]!==Math.floor(s[2])))return c.error("The length argument to \"array\" must be a positive integer literal",2);M=s[2],g++}d=H(E,M)}else{if(!jm[x])throw new Error(`Types doesn't contain name = ${x}`);d=jm[x]}let S=[];for(;g<s.length;g++){let E=c.parse(s[g],g,we);if(!E)return null;S.push(E)}return new Es(d,S)}evaluate(s){for(let c=0;c<this.args.length;c++){let d=this.args[c].evaluate(s);if(!ie(this.type,wi(d)))return d;if(c===this.args.length-1)throw new hi(`Expected value to be of type ${$(this.type)}, but found ${$(wi(d))} instead.`)}throw new Error}eachChild(s){this.args.forEach(s)}outputDefined(){return this.args.every(s=>s.outputDefined())}}let R0={"to-boolean":sr,"to-color":no,"to-number":bt,"to-string":wr};class Ts{constructor(s,c){this.type=s,this.args=c}static parse(s,c){if(s.length<2)return c.error("Expected at least one argument.");let d=s[0];if(!R0[d])throw new Error(`Can't parse ${d} as it is not part of the known types`);if((d==="to-boolean"||d==="to-string")&&s.length!==2)return c.error("Expected one argument.");let g=R0[d],x=[];for(let S=1;S<s.length;S++){let E=c.parse(s[S],S,we);if(!E)return null;x.push(E)}return new Ts(g,x)}evaluate(s){switch(this.type.kind){case"boolean":return!!this.args[0].evaluate(s);case"color":{let c,d;for(let g of this.args){if(c=g.evaluate(s),d=null,c instanceof hn)return c;if(typeof c=="string"){let x=s.parseColor(c);if(x)return x}else if(Array.isArray(c)&&(d=c.length<3||c.length>4?`Invalid rbga value ${JSON.stringify(c)}: expected an array containing either three or four numeric values.`:Lp(c[0],c[1],c[2],c[3]),!d))return new hn(c[0]/255,c[1]/255,c[2]/255,c[3])}throw new hi(d||`Could not parse color from value '${typeof c=="string"?c:JSON.stringify(c)}'`)}case"padding":{let c;for(let d of this.args){c=d.evaluate(s);let g=Ia.parse(c);if(g)return g}throw new hi(`Could not parse padding from value '${typeof c=="string"?c:JSON.stringify(c)}'`)}case"variableAnchorOffsetCollection":{let c;for(let d of this.args){c=d.evaluate(s);let g=Ha.parse(c);if(g)return g}throw new hi(`Could not parse variableAnchorOffsetCollection from value '${typeof c=="string"?c:JSON.stringify(c)}'`)}case"number":{let c=null;for(let d of this.args){if(c=d.evaluate(s),c===null)return 0;let g=Number(c);if(!isNaN(g))return g}throw new hi(`Could not convert ${JSON.stringify(c)} to number.`)}case"formatted":return Sa.fromString(jf(this.args[0].evaluate(s)));case"resolvedImage":return Ea.fromString(jf(this.args[0].evaluate(s)));default:return jf(this.args[0].evaluate(s));}}eachChild(s){this.args.forEach(s)}outputDefined(){return this.args.every(s=>s.outputDefined())}}let TR=["Unknown","Point","LineString","Polygon"];class Bm{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?TR[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(s){let c=this._parseColorCache[s];return c||(c=this._parseColorCache[s]=hn.parse(s)),c}}class bc{constructor(s,c,d=[],g,x=new $a,S=[]){this.registry=s,this.path=d,this.key=d.map(E=>`[${E}]`).join(""),this.scope=x,this.errors=S,this.expectedType=g,this._isConstant=c}parse(s,c,d,g,x={}){return c?this.concat(c,d,g)._parse(s,x):this._parse(s,x)}_parse(s,c){function d(g,x,S){return S==="assert"?new Es(x,[g]):S==="coerce"?new Ts(x,[g]):g}if(s!==null&&typeof s!="string"&&typeof s!="boolean"&&typeof s!="number"||(s=["literal",s]),Array.isArray(s)){if(s.length===0)return this.error("Expected an array with at least one element. If you wanted a literal array, use [\"literal\", []].");let g=s[0];if(typeof g!="string")return this.error(`Expression name must be a string, but found ${typeof g} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;let x=this.registry[g];if(x){let S=x.parse(s,this);if(!S)return null;if(this.expectedType){let E=this.expectedType,M=S.type;if(E.kind!=="string"&&E.kind!=="number"&&E.kind!=="boolean"&&E.kind!=="object"&&E.kind!=="array"||M.kind!=="value"){if(E.kind!=="color"&&E.kind!=="formatted"&&E.kind!=="resolvedImage"||M.kind!=="value"&&M.kind!=="string"){if(E.kind!=="padding"||M.kind!=="value"&&M.kind!=="number"&&M.kind!=="array"){if(E.kind!=="variableAnchorOffsetCollection"||M.kind!=="value"&&M.kind!=="array"){if(this.checkSubtype(E,M))return null}else S=d(S,E,c.typeAnnotation||"coerce");}else S=d(S,E,c.typeAnnotation||"coerce");}else S=d(S,E,c.typeAnnotation||"coerce");}else S=d(S,E,c.typeAnnotation||"assert")}if(!(S instanceof Is)&&S.type.kind!=="resolvedImage"&&this._isConstant(S)){let E=new Bm;try{S=new Is(S.type,S.evaluate(E))}catch(M){return this.error(M.message),null}}return S}return this.error(`Unknown expression "${g}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(s===void 0?"'undefined' value invalid. Use null instead.":typeof s=="object"?"Bare objects invalid. Use [\"literal\", {...}] instead.":`Expected an array, but found ${typeof s} instead.`)}concat(s,c,d){let g=typeof s=="number"?this.path.concat(s):this.path,x=d?this.scope.concat(d):this.scope;return new bc(this.registry,this._isConstant,g,c||null,x,this.errors)}error(s,...c){let d=`${this.key}${c.map(g=>`[${g}]`).join("")}`;this.errors.push(new pn(d,s))}checkSubtype(s,c){let d=ie(s,c);return d&&this.error(d),d}}class _u{constructor(s,c){this.type=c.type,this.bindings=[].concat(s),this.result=c}evaluate(s){return this.result.evaluate(s)}eachChild(s){for(let c of this.bindings)s(c[1]);s(this.result)}static parse(s,c){if(s.length<4)return c.error(`Expected at least 3 arguments, but found ${s.length-1} instead.`);let d=[];for(let x=1;x<s.length-1;x+=2){let S=s[x];if(typeof S!="string")return c.error(`Expected string, but found ${typeof S} instead.`,x);if(/[^a-zA-Z0-9_]/.test(S))return c.error("Variable names must contain only alphanumeric characters or '_'.",x);let E=c.parse(s[x+1],x+1);if(!E)return null;d.push([S,E])}let g=c.parse(s[s.length-1],s.length-1,c.expectedType,d);return g?new _u(d,g):null}outputDefined(){return this.result.outputDefined()}}class on{constructor(s,c){this.type=c.type,this.name=s,this.boundExpression=c}static parse(s,c){if(s.length!==2||typeof s[1]!="string")return c.error("'var' expression requires exactly one string literal argument.");let d=s[1];return c.scope.has(d)?new on(d,c.scope.get(d)):c.error(`Unknown variable "${d}". Make sure "${d}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(s){return this.boundExpression.evaluate(s)}eachChild(){}outputDefined(){return!1}}class q0{constructor(s,c,d){this.type=s,this.index=c,this.input=d}static parse(s,c){if(s.length!==3)return c.error(`Expected 2 arguments, but found ${s.length-1} instead.`);let d=c.parse(s[1],1,bt),g=c.parse(s[2],2,H(c.expectedType||we));return d&&g?new q0(g.type.itemType,d,g):null}evaluate(s){let c=this.index.evaluate(s),d=this.input.evaluate(s);if(c<0)throw new hi(`Array index out of bounds: ${c} < 0.`);if(c>=d.length)throw new hi(`Array index out of bounds: ${c} > ${d.length-1}.`);if(c!==Math.floor(c))throw new hi(`Array index must be an integer, but found ${c} instead.`);return d[c]}eachChild(s){s(this.index),s(this.input)}outputDefined(){return!1}}class N0{constructor(s,c){this.type=sr,this.needle=s,this.haystack=c}static parse(s,c){if(s.length!==3)return c.error(`Expected 2 arguments, but found ${s.length-1} instead.`);let d=c.parse(s[1],1,we),g=c.parse(s[2],2,we);return d&&g?ve(d.type,[sr,wr,bt,Qs,we])?new N0(d,g):c.error(`Expected first argument to be of type boolean, string, number or null, but found ${$(d.type)} instead`):null}evaluate(s){let c=this.needle.evaluate(s),d=this.haystack.evaluate(s);if(!d)return!1;if(!be(c,["boolean","string","number","null"]))throw new hi(`Expected first argument to be of type boolean, string, number or null, but found ${$(wi(c))} instead.`);if(!be(d,["string","array"]))throw new hi(`Expected second argument to be of type array or string, but found ${$(wi(d))} instead.`);return d.indexOf(c)>=0}eachChild(s){s(this.needle),s(this.haystack)}outputDefined(){return!0}}class zp{constructor(s,c,d){this.type=bt,this.needle=s,this.haystack=c,this.fromIndex=d}static parse(s,c){if(s.length<=2||s.length>=5)return c.error(`Expected 3 or 4 arguments, but found ${s.length-1} instead.`);let d=c.parse(s[1],1,we),g=c.parse(s[2],2,we);if(!d||!g)return null;if(!ve(d.type,[sr,wr,bt,Qs,we]))return c.error(`Expected first argument to be of type boolean, string, number or null, but found ${$(d.type)} instead`);if(s.length===4){let x=c.parse(s[3],3,bt);return x?new zp(d,g,x):null}return new zp(d,g)}evaluate(s){let c=this.needle.evaluate(s),d=this.haystack.evaluate(s);if(!be(c,["boolean","string","number","null"]))throw new hi(`Expected first argument to be of type boolean, string, number or null, but found ${$(wi(c))} instead.`);let g;if(this.fromIndex&&(g=this.fromIndex.evaluate(s)),be(d,["string"])){let x=d.indexOf(c,g);return x===-1?-1:[...d.slice(0,x)].length}if(be(d,["array"]))return d.indexOf(c,g);throw new hi(`Expected second argument to be of type array or string, but found ${$(wi(d))} instead.`)}eachChild(s){s(this.needle),s(this.haystack),this.fromIndex&&s(this.fromIndex)}outputDefined(){return!1}}class k0{constructor(s,c,d,g,x,S){this.inputType=s,this.type=c,this.input=d,this.cases=g,this.outputs=x,this.otherwise=S}static parse(s,c){if(s.length<5)return c.error(`Expected at least 4 arguments, but found only ${s.length-1}.`);if(s.length%2!=1)return c.error("Expected an even number of arguments.");let d,g;c.expectedType&&c.expectedType.kind!=="value"&&(g=c.expectedType);let x={},S=[];for(let R=2;R<s.length-1;R+=2){let k=s[R],j=s[R+1];Array.isArray(k)||(k=[k]);let G=c.concat(R);if(k.length===0)return G.error("Expected at least one branch label.");for(let X of k){if(typeof X!="number"&&typeof X!="string")return G.error("Branch labels must be numbers or strings.");if(typeof X=="number"&&Math.abs(X)>Number.MAX_SAFE_INTEGER)return G.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof X=="number"&&Math.floor(X)!==X)return G.error("Numeric branch labels must be integer values.");if(d){if(G.checkSubtype(d,wi(X)))return null}else d=wi(X);if(x[String(X)]!==void 0)return G.error("Branch labels must be unique.");x[String(X)]=S.length}let W=c.parse(j,R,g);if(!W)return null;g=g||W.type,S.push(W)}let E=c.parse(s[1],1,we);if(!E)return null;let M=c.parse(s[s.length-1],s.length-1,g);return M?E.type.kind!=="value"&&c.concat(1).checkSubtype(d,E.type)?null:new k0(d,g,E,x,S,M):null}evaluate(s){let c=this.input.evaluate(s);return(wi(c)===this.inputType&&this.outputs[this.cases[c]]||this.otherwise).evaluate(s)}eachChild(s){s(this.input),this.outputs.forEach(s),s(this.otherwise)}outputDefined(){return this.outputs.every(s=>s.outputDefined())&&this.otherwise.outputDefined()}}class Vm{constructor(s,c,d){this.type=s,this.branches=c,this.otherwise=d}static parse(s,c){if(s.length<4)return c.error(`Expected at least 3 arguments, but found only ${s.length-1}.`);if(s.length%2!=0)return c.error("Expected an odd number of arguments.");let d;c.expectedType&&c.expectedType.kind!=="value"&&(d=c.expectedType);let g=[];for(let S=1;S<s.length-1;S+=2){let E=c.parse(s[S],S,sr);if(!E)return null;let M=c.parse(s[S+1],S+1,d);if(!M)return null;g.push([E,M]),d=d||M.type}let x=c.parse(s[s.length-1],s.length-1,d);if(!x)return null;if(!d)throw new Error("Can't infer output type");return new Vm(d,g,x)}evaluate(s){for(let[c,d]of this.branches)if(c.evaluate(s))return d.evaluate(s);return this.otherwise.evaluate(s)}eachChild(s){for(let[c,d]of this.branches)s(c),s(d);s(this.otherwise)}outputDefined(){return this.branches.every(([s,c])=>c.outputDefined())&&this.otherwise.outputDefined()}}class Bf{constructor(s,c,d,g){this.type=s,this.input=c,this.beginIndex=d,this.endIndex=g}static parse(s,c){if(s.length<=2||s.length>=5)return c.error(`Expected 3 or 4 arguments, but found ${s.length-1} instead.`);let d=c.parse(s[1],1,we),g=c.parse(s[2],2,bt);if(!d||!g)return null;if(!ve(d.type,[H(we),wr,we]))return c.error(`Expected first argument to be of type array or string, but found ${$(d.type)} instead`);if(s.length===4){let x=c.parse(s[3],3,bt);return x?new Bf(d.type,d,g,x):null}return new Bf(d.type,d,g)}evaluate(s){let c=this.input.evaluate(s),d=this.beginIndex.evaluate(s),g;if(this.endIndex&&(g=this.endIndex.evaluate(s)),be(c,["string"]))return[...c].slice(d,g).join("");if(be(c,["array"]))return c.slice(d,g);throw new hi(`Expected first argument to be of type array or string, but found ${$(wi(c))} instead.`)}eachChild(s){s(this.input),s(this.beginIndex),this.endIndex&&s(this.endIndex)}outputDefined(){return!1}}function Um(l,s){let c=l.length-1,d,g,x=0,S=c,E=0;for(;x<=S;)if(E=Math.floor((x+S)/2),d=l[E],g=l[E+1],d<=s){if(E===c||s<g)return E;x=E+1}else{if(!(d>s))throw new hi("Input is not a number.");S=E-1}return 0}class Fp{constructor(s,c,d){this.type=s,this.input=c,this.labels=[],this.outputs=[];for(let[g,x]of d)this.labels.push(g),this.outputs.push(x)}static parse(s,c){if(s.length-1<4)return c.error(`Expected at least 4 arguments, but found only ${s.length-1}.`);if((s.length-1)%2!=0)return c.error("Expected an even number of arguments.");let d=c.parse(s[1],1,bt);if(!d)return null;let g=[],x=null;c.expectedType&&c.expectedType.kind!=="value"&&(x=c.expectedType);for(let S=1;S<s.length;S+=2){let E=S===1?-1/0:s[S],M=s[S+1],R=S,k=S+1;if(typeof E!="number")return c.error("Input/output pairs for \"step\" expressions must be defined using literal numeric values (not computed expressions) for the input values.",R);if(g.length&&g[g.length-1][0]>=E)return c.error("Input/output pairs for \"step\" expressions must be arranged with input values in strictly ascending order.",R);let j=c.parse(M,k,x);if(!j)return null;x=x||j.type,g.push([E,j])}return new Fp(x,d,g)}evaluate(s){let c=this.labels,d=this.outputs;if(c.length===1)return d[0].evaluate(s);let g=this.input.evaluate(s);if(g<=c[0])return d[0].evaluate(s);let x=c.length;return g>=c[x-1]?d[x-1].evaluate(s):d[Um(c,g)].evaluate(s)}eachChild(s){s(this.input);for(let c of this.outputs)s(c)}outputDefined(){return this.outputs.every(s=>s.outputDefined())}}function VS(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var AR=US;function US(l,s,c,d){this.cx=3*l,this.bx=3*(c-l)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*s,this.by=3*(d-s)-this.cy,this.ay=1-this.cy-this.by,this.p1x=l,this.p1y=s,this.p2x=c,this.p2y=d}US.prototype={sampleCurveX:function(l){return((this.ax*l+this.bx)*l+this.cx)*l},sampleCurveY:function(l){return((this.ay*l+this.by)*l+this.cy)*l},sampleCurveDerivativeX:function(l){return(3*this.ax*l+2*this.bx)*l+this.cx},solveCurveX:function(l,s){if(s===void 0&&(s=1e-6),l<0)return 0;if(l>1)return 1;for(var c=l,d=0;d<8;d++){var g=this.sampleCurveX(c)-l;if(Math.abs(g)<s)return c;var x=this.sampleCurveDerivativeX(c);if(Math.abs(x)<1e-6)break;c-=g/x}var S=0,E=1;for(c=l,d=0;d<20&&(g=this.sampleCurveX(c),!(Math.abs(g-l)<s));d++)l>g?S=c:E=c,c=.5*(E-S)+S;return c},solve:function(l,s){return this.sampleCurveY(this.solveCurveX(l,s))}};var CR=VS(AR);function xc(l,s,c){return l+c*(s-l)}function Vf(l,s,c){return l.map((d,g)=>xc(d,s[g],c))}let Ko={number:xc,color:function(l,s,c,d="rgb"){switch(d){case"rgb":{let[g,x,S,E]=Vf(l.rgb,s.rgb,c);return new hn(g,x,S,E,!1)}case"hcl":{let[g,x,S,E]=l.hcl,[M,R,k,j]=s.hcl,G,W;if(isNaN(g)||isNaN(M))isNaN(g)?isNaN(M)?G=NaN:(G=M,S!==1&&S!==0||(W=R)):(G=g,k!==1&&k!==0||(W=x));else{let Oe=M-g;M>g&&Oe>180?Oe-=360:M<g&&g-M>180&&(Oe+=360),G=g+c*Oe}let[X,Q,se,pe]=function([Oe,_e,Me,Ue]){return Oe=isNaN(Oe)?0:Oe*rr,ti([Me,Math.cos(Oe)*_e,Math.sin(Oe)*_e,Ue])}([G,W!=null?W:xc(x,R,c),xc(S,k,c),xc(E,j,c)]);return new hn(X,Q,se,pe,!1)}case"lab":{let[g,x,S,E]=ti(Vf(l.lab,s.lab,c));return new hn(g,x,S,E,!1)}}},array:Vf,padding:function(l,s,c){return new Ia(Vf(l.values,s.values,c))},variableAnchorOffsetCollection:function(l,s,c){let d=l.values,g=s.values;if(d.length!==g.length)throw new hi(`Cannot interpolate values of different length. from: ${l.toString()}, to: ${s.toString()}`);let x=[];for(let S=0;S<d.length;S+=2){if(d[S]!==g[S])throw new hi(`Cannot interpolate values containing mismatched anchors. from[${S}]: ${d[S]}, to[${S}]: ${g[S]}`);x.push(d[S]);let[E,M]=d[S+1],[R,k]=g[S+1];x.push([xc(E,R,c),xc(M,k,c)])}return new Ha(x)}};class Yo{constructor(s,c,d,g,x){this.type=s,this.operator=c,this.interpolation=d,this.input=g,this.labels=[],this.outputs=[];for(let[S,E]of x)this.labels.push(S),this.outputs.push(E)}static interpolationFactor(s,c,d,g){let x=0;if(s.name==="exponential")x=$m(c,s.base,d,g);else if(s.name==="linear")x=$m(c,1,d,g);else if(s.name==="cubic-bezier"){let S=s.controlPoints;x=new CR(S[0],S[1],S[2],S[3]).solve($m(c,1,d,g))}return x}static parse(s,c){let[d,g,x,...S]=s;if(!Array.isArray(g)||g.length===0)return c.error("Expected an interpolation type expression.",1);if(g[0]==="linear")g={name:"linear"};else if(g[0]==="exponential"){let R=g[1];if(typeof R!="number")return c.error("Exponential interpolation requires a numeric base.",1,1);g={name:"exponential",base:R}}else{if(g[0]!=="cubic-bezier")return c.error(`Unknown interpolation type ${String(g[0])}`,1,0);{let R=g.slice(1);if(R.length!==4||R.some(k=>typeof k!="number"||k<0||k>1))return c.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);g={name:"cubic-bezier",controlPoints:R}}}if(s.length-1<4)return c.error(`Expected at least 4 arguments, but found only ${s.length-1}.`);if((s.length-1)%2!=0)return c.error("Expected an even number of arguments.");if(x=c.parse(x,2,bt),!x)return null;let E=[],M=null;d==="interpolate-hcl"||d==="interpolate-lab"?M=no:c.expectedType&&c.expectedType.kind!=="value"&&(M=c.expectedType);for(let R=0;R<S.length;R+=2){let k=S[R],j=S[R+1],G=R+3,W=R+4;if(typeof k!="number")return c.error("Input/output pairs for \"interpolate\" expressions must be defined using literal numeric values (not computed expressions) for the input values.",G);if(E.length&&E[E.length-1][0]>=k)return c.error("Input/output pairs for \"interpolate\" expressions must be arranged with input values in strictly ascending order.",G);let X=c.parse(j,W,M);if(!X)return null;M=M||X.type,E.push([k,X])}return Ee(M,bt)||Ee(M,no)||Ee(M,Rt)||Ee(M,re)||Ee(M,H(bt))?new Yo(M,d,g,x,E):c.error(`Type ${$(M)} is not interpolatable.`)}evaluate(s){let c=this.labels,d=this.outputs;if(c.length===1)return d[0].evaluate(s);let g=this.input.evaluate(s);if(g<=c[0])return d[0].evaluate(s);let x=c.length;if(g>=c[x-1])return d[x-1].evaluate(s);let S=Um(c,g),E=Yo.interpolationFactor(this.interpolation,g,c[S],c[S+1]),M=d[S].evaluate(s),R=d[S+1].evaluate(s);switch(this.operator){case"interpolate":return Ko[this.type.kind](M,R,E);case"interpolate-hcl":return Ko.color(M,R,E,"hcl");case"interpolate-lab":return Ko.color(M,R,E,"lab");}}eachChild(s){s(this.input);for(let c of this.outputs)s(c)}outputDefined(){return this.outputs.every(s=>s.outputDefined())}}function $m(l,s,c,d){let g=d-c,x=l-c;return g===0?0:s===1?x/g:(Math.pow(s,x)-1)/(Math.pow(s,g)-1)}class Hm{constructor(s,c){this.type=s,this.args=c}static parse(s,c){if(s.length<2)return c.error("Expectected at least one argument.");let d=null,g=c.expectedType;g&&g.kind!=="value"&&(d=g);let x=[];for(let E of s.slice(1)){let M=c.parse(E,1+x.length,d,void 0,{typeAnnotation:"omit"});if(!M)return null;d=d||M.type,x.push(M)}if(!d)throw new Error("No output type");let S=g&&x.some(E=>ie(g,E.type));return new Hm(S?we:d,x)}evaluate(s){let c,d=null,g=0;for(let x of this.args)if(g++,d=x.evaluate(s),d&&d instanceof Ea&&!d.available&&(c||(c=d.name),d=null,g===this.args.length&&(d=c)),d!==null)break;return d}eachChild(s){this.args.forEach(s)}outputDefined(){return this.args.every(s=>s.outputDefined())}}function Gm(l,s){return l==="=="||l==="!="?s.kind==="boolean"||s.kind==="string"||s.kind==="number"||s.kind==="null"||s.kind==="value":s.kind==="string"||s.kind==="number"||s.kind==="value"}function $S(l,s,c,d){return d.compare(s,c)===0}function jp(l,s,c){let d=l!=="=="&&l!=="!=";return class gAe{constructor(x,S,E){this.type=sr,this.lhs=x,this.rhs=S,this.collator=E,this.hasUntypedArgument=x.type.kind==="value"||S.type.kind==="value"}static parse(x,S){if(x.length!==3&&x.length!==4)return S.error("Expected two or three arguments.");let E=x[0],M=S.parse(x[1],1,we);if(!M)return null;if(!Gm(E,M.type))return S.concat(1).error(`"${E}" comparisons are not supported for type '${$(M.type)}'.`);let R=S.parse(x[2],2,we);if(!R)return null;if(!Gm(E,R.type))return S.concat(2).error(`"${E}" comparisons are not supported for type '${$(R.type)}'.`);if(M.type.kind!==R.type.kind&&M.type.kind!=="value"&&R.type.kind!=="value")return S.error(`Cannot compare types '${$(M.type)}' and '${$(R.type)}'.`);d&&(M.type.kind==="value"&&R.type.kind!=="value"?M=new Es(R.type,[M]):M.type.kind!=="value"&&R.type.kind==="value"&&(R=new Es(M.type,[R])));let k=null;if(x.length===4){if(M.type.kind!=="string"&&R.type.kind!=="string"&&M.type.kind!=="value"&&R.type.kind!=="value")return S.error("Cannot use collator to compare non-string types.");if(k=S.parse(x[3],3,Ce),!k)return null}return new gAe(M,R,k)}evaluate(x){let S=this.lhs.evaluate(x),E=this.rhs.evaluate(x);if(d&&this.hasUntypedArgument){let M=wi(S),R=wi(E);if(M.kind!==R.kind||M.kind!=="string"&&M.kind!=="number")throw new hi(`Expected arguments for "${l}" to be (string, string) or (number, number), but found (${M.kind}, ${R.kind}) instead.`)}if(this.collator&&!d&&this.hasUntypedArgument){let M=wi(S),R=wi(E);if(M.kind!=="string"||R.kind!=="string")return s(x,S,E)}return this.collator?c(x,S,E,this.collator.evaluate(x)):s(x,S,E)}eachChild(x){x(this.lhs),x(this.rhs),this.collator&&x(this.collator)}outputDefined(){return!0}}}let MR=jp("==",function(l,s,c){return s===c},$S),HS=jp("!=",function(l,s,c){return s!==c},function(l,s,c,d){return!$S(0,s,c,d)}),GS=jp("<",function(l,s,c){return s<c},function(l,s,c,d){return d.compare(s,c)<0}),PR=jp(">",function(l,s,c){return s>c},function(l,s,c,d){return d.compare(s,c)>0}),OR=jp("<=",function(l,s,c){return s<=c},function(l,s,c,d){return d.compare(s,c)<=0}),WS=jp(">=",function(l,s,c){return s>=c},function(l,s,c,d){return d.compare(s,c)>=0});class Uf{constructor(s,c,d){this.type=Ce,this.locale=d,this.caseSensitive=s,this.diacriticSensitive=c}static parse(s,c){if(s.length!==2)return c.error("Expected one argument.");let d=s[1];if(typeof d!="object"||Array.isArray(d))return c.error("Collator options argument must be an object.");let g=c.parse(d["case-sensitive"]!==void 0&&d["case-sensitive"],1,sr);if(!g)return null;let x=c.parse(d["diacritic-sensitive"]!==void 0&&d["diacritic-sensitive"],1,sr);if(!x)return null;let S=null;return d.locale&&(S=c.parse(d.locale,1,wr),!S)?null:new Uf(g,x,S)}evaluate(s){return new P0(this.caseSensitive.evaluate(s),this.diacriticSensitive.evaluate(s),this.locale?this.locale.evaluate(s):null)}eachChild(s){s(this.caseSensitive),s(this.diacriticSensitive),this.locale&&s(this.locale)}outputDefined(){return!1}}class D0{constructor(s,c,d,g,x){this.type=wr,this.number=s,this.locale=c,this.currency=d,this.minFractionDigits=g,this.maxFractionDigits=x}static parse(s,c){if(s.length!==3)return c.error("Expected two arguments.");let d=c.parse(s[1],1,bt);if(!d)return null;let g=s[2];if(typeof g!="object"||Array.isArray(g))return c.error("NumberFormat options argument must be an object.");let x=null;if(g.locale&&(x=c.parse(g.locale,1,wr),!x))return null;let S=null;if(g.currency&&(S=c.parse(g.currency,1,wr),!S))return null;let E=null;if(g["min-fraction-digits"]&&(E=c.parse(g["min-fraction-digits"],1,bt),!E))return null;let M=null;return g["max-fraction-digits"]&&(M=c.parse(g["max-fraction-digits"],1,bt),!M)?null:new D0(d,x,S,E,M)}evaluate(s){return new Intl.NumberFormat(this.locale?this.locale.evaluate(s):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(s):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(s):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(s):void 0}).format(this.number.evaluate(s))}eachChild(s){s(this.number),this.locale&&s(this.locale),this.currency&&s(this.currency),this.minFractionDigits&&s(this.minFractionDigits),this.maxFractionDigits&&s(this.maxFractionDigits)}outputDefined(){return!1}}class Wm{constructor(s){this.type=st,this.sections=s}static parse(s,c){if(s.length<2)return c.error("Expected at least one argument.");let d=s[1];if(!Array.isArray(d)&&typeof d=="object")return c.error("First argument must be an image or text section.");let g=[],x=!1;for(let S=1;S<=s.length-1;++S){let E=s[S];if(x&&typeof E=="object"&&!Array.isArray(E)){x=!1;let M=null;if(E["font-scale"]&&(M=c.parse(E["font-scale"],1,bt),!M))return null;let R=null;if(E["text-font"]&&(R=c.parse(E["text-font"],1,H(wr)),!R))return null;let k=null;if(E["text-color"]&&(k=c.parse(E["text-color"],1,no),!k))return null;let j=g[g.length-1];j.scale=M,j.font=R,j.textColor=k}else{let M=c.parse(s[S],1,we);if(!M)return null;let R=M.type.kind;if(R!=="string"&&R!=="value"&&R!=="null"&&R!=="resolvedImage")return c.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");x=!0,g.push({content:M,scale:null,font:null,textColor:null})}}return new Wm(g)}evaluate(s){return new Sa(this.sections.map(c=>{let d=c.content.evaluate(s);return wi(d)===Pt?new O0("",d,null,null,null):new O0(jf(d),null,c.scale?c.scale.evaluate(s):null,c.font?c.font.evaluate(s).join(","):null,c.textColor?c.textColor.evaluate(s):null)}))}eachChild(s){for(let c of this.sections)s(c.content),c.scale&&s(c.scale),c.font&&s(c.font),c.textColor&&s(c.textColor)}outputDefined(){return!1}}class L0{constructor(s){this.type=Pt,this.input=s}static parse(s,c){if(s.length!==2)return c.error("Expected two arguments.");let d=c.parse(s[1],1,wr);return d?new L0(d):c.error("No image name provided.")}evaluate(s){let c=this.input.evaluate(s),d=Ea.fromString(c);return d&&s.availableImages&&(d.available=s.availableImages.indexOf(c)>-1),d}eachChild(s){s(this.input)}outputDefined(){return!1}}class z0{constructor(s){this.type=bt,this.input=s}static parse(s,c){if(s.length!==2)return c.error(`Expected 1 argument, but found ${s.length-1} instead.`);let d=c.parse(s[1],1);return d?d.type.kind!=="array"&&d.type.kind!=="string"&&d.type.kind!=="value"?c.error(`Expected argument of type string or array, but found ${$(d.type)} instead.`):new z0(d):null}evaluate(s){let c=this.input.evaluate(s);if(typeof c=="string")return[...c].length;if(Array.isArray(c))return c.length;throw new hi(`Expected value to be of type string or array, but found ${$(wi(c))} instead.`)}eachChild(s){s(this.input)}outputDefined(){return!1}}let el=8192;function RR(l,s){let c=(180+l[0])/360,d=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+l[1]*Math.PI/360)))/360,g=Math.pow(2,s.z);return[Math.round(c*g*el),Math.round(d*g*el)]}function F0(l,s){let c=Math.pow(2,s.z);return[(g=(l[0]/el+s.x)/c,360*g-180),(d=(l[1]/el+s.y)/c,360/Math.PI*Math.atan(Math.exp((180-360*d)*Math.PI/180))-90)];var d,g}function wc(l,s){l[0]=Math.min(l[0],s[0]),l[1]=Math.min(l[1],s[1]),l[2]=Math.max(l[2],s[0]),l[3]=Math.max(l[3],s[1])}function bu(l,s){return!(l[0]<=s[0]||l[2]>=s[2]||l[1]<=s[1]||l[3]>=s[3])}function ln(l,s,c){let d=l[0]-s[0],g=l[1]-s[1],x=l[0]-c[0],S=l[1]-c[1];return d*S-x*g==0&&d*x<=0&&g*S<=0}function Zm(l,s,c,d){return(g=[d[0]-c[0],d[1]-c[1]])[0]*(x=[s[0]-l[0],s[1]-l[1]])[1]-g[1]*x[0]!=0&&!(!KS(l,s,c,d)||!KS(c,d,l,s));var g,x}function qR(l,s,c){for(let d of c)for(let g=0;g<d.length-1;++g)if(Zm(l,s,d[g],d[g+1]))return!0;return!1}function Bp(l,s,c=!1){let d=!1;for(let E of s)for(let M=0;M<E.length-1;M++){if(ln(l,E[M],E[M+1]))return c;(x=E[M])[1]>(g=l)[1]!=(S=E[M+1])[1]>g[1]&&g[0]<(S[0]-x[0])*(g[1]-x[1])/(S[1]-x[1])+x[0]&&(d=!d)}var g,x,S;return d}function NR(l,s){for(let c of s)if(Bp(l,c))return!0;return!1}function ZS(l,s){for(let c of l)if(!Bp(c,s))return!1;for(let c=0;c<l.length-1;++c)if(qR(l[c],l[c+1],s))return!1;return!0}function kR(l,s){for(let c of s)if(ZS(l,c))return!0;return!1}function KS(l,s,c,d){let g=d[0]-c[0],x=d[1]-c[1],S=(l[0]-c[0])*x-g*(l[1]-c[1]),E=(s[0]-c[0])*x-g*(s[1]-c[1]);return S>0&&E<0||S<0&&E>0}function j0(l,s,c){let d=[];for(let g=0;g<l.length;g++){let x=[];for(let S=0;S<l[g].length;S++){let E=RR(l[g][S],c);wc(s,E),x.push(E)}d.push(x)}return d}function YS(l,s,c){let d=[];for(let g=0;g<l.length;g++){let x=j0(l[g],s,c);d.push(x)}return d}function XS(l,s,c,d){if(l[0]<c[0]||l[0]>c[2]){let g=.5*d,x=l[0]-c[0]>g?-d:c[0]-l[0]>g?d:0;x===0&&(x=l[0]-c[2]>g?-d:c[2]-l[0]>g?d:0),l[0]+=x}wc(s,l)}function JS(l,s,c,d){let g=Math.pow(2,d.z)*el,x=[d.x*el,d.y*el],S=[];for(let E of l)for(let M of E){let R=[M.x+x[0],M.y+x[1]];XS(R,s,c,g),S.push(R)}return S}function QS(l,s,c,d){let g=Math.pow(2,d.z)*el,x=[d.x*el,d.y*el],S=[];for(let M of l){let R=[];for(let k of M){let j=[k.x+x[0],k.y+x[1]];wc(s,j),R.push(j)}S.push(R)}if(s[2]-s[0]<=g/2){(E=s)[0]=E[1]=1/0,E[2]=E[3]=-1/0;for(let M of S)for(let R of M)XS(R,s,c,g)}var E;return S}class Sc{constructor(s,c){this.type=sr,this.geojson=s,this.geometries=c}static parse(s,c){if(s.length!==2)return c.error(`'within' expression requires exactly one argument, but found ${s.length-1} instead.`);if(_c(s[1])){let d=s[1];if(d.type==="FeatureCollection"){let g=[];for(let x of d.features){let{type:S,coordinates:E}=x.geometry;S==="Polygon"&&g.push(E),S==="MultiPolygon"&&g.push(...E)}if(g.length)return new Sc(d,{type:"MultiPolygon",coordinates:g})}else if(d.type==="Feature"){let g=d.geometry.type;if(g==="Polygon"||g==="MultiPolygon")return new Sc(d,d.geometry)}else if(d.type==="Polygon"||d.type==="MultiPolygon")return new Sc(d,d)}return c.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(s){if(s.geometry()!=null&&s.canonicalID()!=null){if(s.geometryType()==="Point")return function(c,d){let g=[1/0,1/0,-1/0,-1/0],x=[1/0,1/0,-1/0,-1/0],S=c.canonicalID();if(d.type==="Polygon"){let E=j0(d.coordinates,x,S),M=JS(c.geometry(),g,x,S);if(!bu(g,x))return!1;for(let R of M)if(!Bp(R,E))return!1}if(d.type==="MultiPolygon"){let E=YS(d.coordinates,x,S),M=JS(c.geometry(),g,x,S);if(!bu(g,x))return!1;for(let R of M)if(!NR(R,E))return!1}return!0}(s,this.geometries);if(s.geometryType()==="LineString")return function(c,d){let g=[1/0,1/0,-1/0,-1/0],x=[1/0,1/0,-1/0,-1/0],S=c.canonicalID();if(d.type==="Polygon"){let E=j0(d.coordinates,x,S),M=QS(c.geometry(),g,x,S);if(!bu(g,x))return!1;for(let R of M)if(!ZS(R,E))return!1}if(d.type==="MultiPolygon"){let E=YS(d.coordinates,x,S),M=QS(c.geometry(),g,x,S);if(!bu(g,x))return!1;for(let R of M)if(!kR(R,E))return!1}return!0}(s,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}}let e2=class{constructor(l=[],s=(c,d)=>c<d?-1:c>d?1:0){if(this.data=l,this.length=this.data.length,this.compare=s,this.length>0)for(let c=(this.length>>1)-1;c>=0;c--)this._down(c)}push(l){this.data.push(l),this._up(this.length++)}pop(){if(this.length===0)return;let l=this.data[0],s=this.data.pop();return--this.length>0&&(this.data[0]=s,this._down(0)),l}peek(){return this.data[0]}_up(l){let{data:s,compare:c}=this,d=s[l];for(;l>0;){let g=l-1>>1,x=s[g];if(c(d,x)>=0)break;s[l]=x,l=g}s[l]=d}_down(l){let{data:s,compare:c}=this,d=this.length>>1,g=s[l];for(;l<d;){let x=1+(l<<1),S=x+1;if(S<this.length&&c(s[S],s[x])<0&&(x=S),c(s[x],g)>=0)break;s[l]=s[x],l=x}s[l]=g}};function DR(l,s,c,d,g){t2(l,s,c,d||l.length-1,g||LR)}function t2(l,s,c,d,g){for(;d>c;){if(d-c>600){var x=d-c+1,S=s-c+1,E=Math.log(x),M=.5*Math.exp(2*E/3),R=.5*Math.sqrt(E*M*(x-M)/x)*(S-x/2<0?-1:1);t2(l,s,Math.max(c,Math.floor(s-S*M/x+R)),Math.min(d,Math.floor(s+(x-S)*M/x+R)),g)}var k=l[s],j=c,G=d;for($f(l,c,s),g(l[d],k)>0&&$f(l,c,d);j<G;){for($f(l,j,G),j++,G--;g(l[j],k)<0;)j++;for(;g(l[G],k)>0;)G--}g(l[c],k)===0?$f(l,c,G):$f(l,++G,d),G<=s&&(c=G+1),s<=G&&(d=G-1)}}function $f(l,s,c){var d=l[s];l[s]=l[c],l[c]=d}function LR(l,s){return l<s?-1:l>s?1:0}function Km(l,s){if(l.length<=1)return[l];let c=[],d,g;for(let x of l){let S=FR(x);S!==0&&(x.area=Math.abs(S),g===void 0&&(g=S<0),g===S<0?(d&&c.push(d),d=[x]):d.push(x))}if(d&&c.push(d),s>1)for(let x=0;x<c.length;x++)c[x].length<=s||(DR(c[x],s,1,c[x].length-1,zR),c[x]=c[x].slice(0,s));return c}function zR(l,s){return s.area-l.area}function FR(l){let s=0;for(let c,d,g=0,x=l.length,S=x-1;g<x;S=g++)c=l[g],d=l[S],s+=(d.x-c.x)*(c.y+d.y);return s}let r2=1/298.257223563,n2=r2*(2-r2),i2=Math.PI/180;class B0{constructor(s){let c=6378.137*i2*1e3,d=Math.cos(s*i2),g=1/(1-n2*(1-d*d)),x=Math.sqrt(g);this.kx=c*x*d,this.ky=c*x*g*(1-n2)}distance(s,c){let d=this.wrap(s[0]-c[0])*this.kx,g=(s[1]-c[1])*this.ky;return Math.sqrt(d*d+g*g)}pointOnLine(s,c){let d,g,x,S,E=1/0;for(let M=0;M<s.length-1;M++){let R=s[M][0],k=s[M][1],j=this.wrap(s[M+1][0]-R)*this.kx,G=(s[M+1][1]-k)*this.ky,W=0;j===0&&G===0||(W=(this.wrap(c[0]-R)*this.kx*j+(c[1]-k)*this.ky*G)/(j*j+G*G),W>1?(R=s[M+1][0],k=s[M+1][1]):W>0&&(R+=j/this.kx*W,k+=G/this.ky*W)),j=this.wrap(c[0]-R)*this.kx,G=(c[1]-k)*this.ky;let X=j*j+G*G;X<E&&(E=X,d=R,g=k,x=M,S=W)}return{point:[d,g],index:x,t:Math.max(0,Math.min(1,S))}}wrap(s){for(;s<-180;)s+=360;for(;s>180;)s-=360;return s}}function o2(l,s){return s[0]-l[0]}function Ym(l){return l[1]-l[0]+1}function $l(l,s){return l[1]>=l[0]&&l[1]<s}function V0(l,s){if(l[0]>l[1])return[null,null];let c=Ym(l);if(s){if(c===2)return[l,null];let g=Math.floor(c/2);return[[l[0],l[0]+g],[l[0]+g,l[1]]]}if(c===1)return[l,null];let d=Math.floor(c/2)-1;return[[l[0],l[0]+d],[l[0]+d+1,l[1]]]}function U0(l,s){if(!$l(s,l.length))return[1/0,1/0,-1/0,-1/0];let c=[1/0,1/0,-1/0,-1/0];for(let d=s[0];d<=s[1];++d)wc(c,l[d]);return c}function $0(l){let s=[1/0,1/0,-1/0,-1/0];for(let c of l)for(let d of c)wc(s,d);return s}function Xm(l){return l[0]!==-1/0&&l[1]!==-1/0&&l[2]!==1/0&&l[3]!==1/0}function H0(l,s,c){if(!Xm(l)||!Xm(s))return NaN;let d=0,g=0;return l[2]<s[0]&&(d=s[0]-l[2]),l[0]>s[2]&&(d=l[0]-s[2]),l[1]>s[3]&&(g=l[1]-s[3]),l[3]<s[1]&&(g=s[1]-l[3]),c.distance([0,0],[d,g])}function Ic(l,s,c){let d=c.pointOnLine(s,l);return c.distance(l,d.point)}function G0(l,s,c,d,g){let x=Math.min(Ic(l,[c,d],g),Ic(s,[c,d],g)),S=Math.min(Ic(c,[l,s],g),Ic(d,[l,s],g));return Math.min(x,S)}function jR(l,s,c,d,g){if(!$l(s,l.length)||!$l(d,c.length))return 1/0;let x=1/0;for(let S=s[0];S<s[1];++S){let E=l[S],M=l[S+1];for(let R=d[0];R<d[1];++R){let k=c[R],j=c[R+1];if(Zm(E,M,k,j))return 0;x=Math.min(x,G0(E,M,k,j,g))}}return x}function si(l,s,c,d,g){if(!$l(s,l.length)||!$l(d,c.length))return NaN;let x=1/0;for(let S=s[0];S<=s[1];++S)for(let E=d[0];E<=d[1];++E)if(x=Math.min(x,g.distance(l[S],c[E])),x===0)return x;return x}function BR(l,s,c){if(Bp(l,s,!0))return 0;let d=1/0;for(let g of s){let x=g[0],S=g[g.length-1];if(x!==S&&(d=Math.min(d,Ic(l,[S,x],c)),d===0))return d;let E=c.pointOnLine(g,l);if(d=Math.min(d,c.distance(l,E.point)),d===0)return d}return d}function Rr(l,s,c,d){if(!$l(s,l.length))return NaN;for(let x=s[0];x<=s[1];++x)if(Bp(l[x],c,!0))return 0;let g=1/0;for(let x=s[0];x<s[1];++x){let S=l[x],E=l[x+1];for(let M of c)for(let R=0,k=M.length,j=k-1;R<k;j=R++){let G=M[j],W=M[R];if(Zm(S,E,G,W))return 0;g=Math.min(g,G0(S,E,G,W,d))}}return g}function Jm(l,s){for(let c of l)for(let d of c)if(Bp(d,s,!0))return!0;return!1}function Cn(l,s,c,d=1/0){let g=$0(l),x=$0(s);if(d!==1/0&&H0(g,x,c)>=d)return d;if(bu(g,x)){if(Jm(l,s))return 0}else if(Jm(s,l))return 0;let S=1/0;for(let E of l)for(let M=0,R=E.length,k=R-1;M<R;k=M++){let j=E[k],G=E[M];for(let W of s)for(let X=0,Q=W.length,se=Q-1;X<Q;se=X++){let pe=W[se],Oe=W[X];if(Zm(j,G,pe,Oe))return 0;S=Math.min(S,G0(j,G,pe,Oe,c))}}return S}function _n(l,s,c,d,g,x){if(!x)return;let S=H0(U0(d,x),g,c);S<s&&l.push([S,x,[0,0]])}function Ec(l,s,c,d,g,x,S){if(!x||!S)return;let E=H0(U0(d,x),U0(g,S),c);E<s&&l.push([E,x,S])}function Hf(l,s,c,d,g=1/0){let x=Math.min(d.distance(l[0],c[0][0]),g);if(x===0)return x;let S=new e2([[0,[0,l.length-1],[0,0]]],o2),E=$0(c);for(;S.length>0;){let M=S.pop();if(M[0]>=x)continue;let R=M[1],k=s?50:100;if(Ym(R)<=k){if(!$l(R,l.length))return NaN;if(s){let j=Rr(l,R,c,d);if(isNaN(j)||j===0)return j;x=Math.min(x,j)}else for(let j=R[0];j<=R[1];++j){let G=BR(l[j],c,d);if(x=Math.min(x,G),x===0)return 0}}else{let j=V0(R,s);_n(S,x,d,l,E,j[0]),_n(S,x,d,l,E,j[1])}}return x}function Gf(l,s,c,d,g,x=1/0){let S=Math.min(x,g.distance(l[0],c[0]));if(S===0)return S;let E=new e2([[0,[0,l.length-1],[0,c.length-1]]],o2);for(;E.length>0;){let M=E.pop();if(M[0]>=S)continue;let R=M[1],k=M[2],j=s?50:100,G=d?50:100;if(Ym(R)<=j&&Ym(k)<=G){if(!$l(R,l.length)&&$l(k,c.length))return NaN;let W;if(s&&d)W=jR(l,R,c,k,g),S=Math.min(S,W);else if(s&&!d){let X=l.slice(R[0],R[1]+1);for(let Q=k[0];Q<=k[1];++Q)if(W=Ic(c[Q],X,g),S=Math.min(S,W),S===0)return S}else if(!s&&d){let X=c.slice(k[0],k[1]+1);for(let Q=R[0];Q<=R[1];++Q)if(W=Ic(l[Q],X,g),S=Math.min(S,W),S===0)return S}else W=si(l,R,c,k,g),S=Math.min(S,W)}else{let W=V0(R,s),X=V0(k,d);Ec(E,S,g,l,c,W[0],X[0]),Ec(E,S,g,l,c,W[0],X[1]),Ec(E,S,g,l,c,W[1],X[0]),Ec(E,S,g,l,c,W[1],X[1])}}return S}function W0(l){return l.type==="MultiPolygon"?l.coordinates.map(s=>({type:"Polygon",coordinates:s})):l.type==="MultiLineString"?l.coordinates.map(s=>({type:"LineString",coordinates:s})):l.type==="MultiPoint"?l.coordinates.map(s=>({type:"Point",coordinates:s})):[l]}class Tc{constructor(s,c){this.type=bt,this.geojson=s,this.geometries=c}static parse(s,c){if(s.length!==2)return c.error(`'distance' expression requires exactly one argument, but found ${s.length-1} instead.`);if(_c(s[1])){let d=s[1];if(d.type==="FeatureCollection")return new Tc(d,d.features.map(g=>W0(g.geometry)).flat());if(d.type==="Feature")return new Tc(d,W0(d.geometry));if("type"in d&&"coordinates"in d)return new Tc(d,W0(d))}return c.error("'distance' expression requires valid geojson object that contains polygon geometry type.")}evaluate(s){if(s.geometry()!=null&&s.canonicalID()!=null){if(s.geometryType()==="Point")return function(c,d){let g=c.geometry(),x=g.flat().map(M=>F0([M.x,M.y],c.canonical));if(g.length===0)return NaN;let S=new B0(x[0][1]),E=1/0;for(let M of d){switch(M.type){case"Point":E=Math.min(E,Gf(x,!1,[M.coordinates],!1,S,E));break;case"LineString":E=Math.min(E,Gf(x,!1,M.coordinates,!0,S,E));break;case"Polygon":E=Math.min(E,Hf(x,!1,M.coordinates,S,E));}if(E===0)return E}return E}(s,this.geometries);if(s.geometryType()==="LineString")return function(c,d){let g=c.geometry(),x=g.flat().map(M=>F0([M.x,M.y],c.canonical));if(g.length===0)return NaN;let S=new B0(x[0][1]),E=1/0;for(let M of d){switch(M.type){case"Point":E=Math.min(E,Gf(x,!0,[M.coordinates],!1,S,E));break;case"LineString":E=Math.min(E,Gf(x,!0,M.coordinates,!0,S,E));break;case"Polygon":E=Math.min(E,Hf(x,!0,M.coordinates,S,E));}if(E===0)return E}return E}(s,this.geometries);if(s.geometryType()==="Polygon")return function(c,d){let g=c.geometry();if(g.length===0||g[0].length===0)return NaN;let x=Km(g,0).map(M=>M.map(R=>R.map(k=>F0([k.x,k.y],c.canonical)))),S=new B0(x[0][0][0][1]),E=1/0;for(let M of d)for(let R of x){switch(M.type){case"Point":E=Math.min(E,Hf([M.coordinates],!1,R,S,E));break;case"LineString":E=Math.min(E,Hf(M.coordinates,!0,R,S,E));break;case"Polygon":E=Math.min(E,Cn(R,M.coordinates,S,E));}if(E===0)return E}return E}(s,this.geometries)}return NaN}eachChild(){}outputDefined(){return!0}}let Vp={"==":MR,"!=":HS,">":PR,"<":GS,">=":WS,"<=":OR,array:Es,at:q0,boolean:Es,case:Vm,coalesce:Hm,collator:Uf,format:Wm,image:L0,in:N0,"index-of":zp,interpolate:Yo,"interpolate-hcl":Yo,"interpolate-lab":Yo,length:z0,let:_u,literal:Is,match:k0,number:Es,"number-format":D0,object:Es,slice:Bf,step:Fp,string:Es,"to-boolean":Ts,"to-color":Ts,"to-number":Ts,"to-string":Ts,var:on,within:Sc,distance:Tc};class Ga{constructor(s,c,d,g){this.name=s,this.type=c,this._evaluate=d,this.args=g}evaluate(s){return this._evaluate(s,this.args)}eachChild(s){this.args.forEach(s)}outputDefined(){return!1}static parse(s,c){let d=s[0],g=Ga.definitions[d];if(!g)return c.error(`Unknown expression "${d}". If you wanted a literal array, use ["literal", [...]].`,0);let x=Array.isArray(g)?g[0]:g.type,S=Array.isArray(g)?[[g[1],g[2]]]:g.overloads,E=S.filter(([R])=>!Array.isArray(R)||R.length===s.length-1),M=null;for(let[R,k]of E){M=new bc(c.registry,Wf,c.path,null,c.scope);let j=[],G=!1;for(let W=1;W<s.length;W++){let X=s[W],Q=Array.isArray(R)?R[W-1]:R.type,se=M.parse(X,1+j.length,Q);if(!se){G=!0;break}j.push(se)}if(!G)if(Array.isArray(R)&&R.length!==j.length)M.error(`Expected ${R.length} arguments, but found ${j.length} instead.`);else{for(let W=0;W<j.length;W++){let X=Array.isArray(R)?R[W]:R.type,Q=j[W];M.concat(W+1).checkSubtype(X,Q.type)}if(M.errors.length===0)return new Ga(d,x,k,j)}}if(E.length===1)c.errors.push(...M.errors);else{let R=(E.length?E:S).map(([j])=>{return G=j,Array.isArray(G)?`(${G.map($).join(", ")})`:`(${$(G.type)}...)`;var G}).join(" | "),k=[];for(let j=1;j<s.length;j++){let G=c.parse(s[j],1+k.length);if(!G)return null;k.push($(G.type))}c.error(`Expected arguments of type ${R}, but found (${k.join(", ")}) instead.`)}return null}static register(s,c){Ga.definitions=c;for(let d in c)s[d]=Ga}}function Z0(l,[s,c,d,g]){s=s.evaluate(l),c=c.evaluate(l),d=d.evaluate(l);let x=g?g.evaluate(l):1,S=Lp(s,c,d,x);if(S)throw new hi(S);return new hn(s/255,c/255,d/255,x,!1)}function K0(l,s){return l in s}function Y0(l,s){let c=s[l];return c===void 0?null:c}function Ac(l){return{type:l}}function Wf(l){if(l instanceof on)return Wf(l.boundExpression);if(l instanceof Ga&&l.name==="error"||l instanceof Uf||l instanceof Sc||l instanceof Tc)return!1;let s=l instanceof Ts||l instanceof Es,c=!0;return l.eachChild(d=>{c=s?c&&Wf(d):c&&d instanceof Is}),!!c&&Zf(l)&&Kf(l,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}function Zf(l){if(l instanceof Ga&&(l.name==="get"&&l.args.length===1||l.name==="feature-state"||l.name==="has"&&l.args.length===1||l.name==="properties"||l.name==="geometry-type"||l.name==="id"||/^filter-/.test(l.name))||l instanceof Sc||l instanceof Tc)return!1;let s=!0;return l.eachChild(c=>{s&&!Zf(c)&&(s=!1)}),s}function Up(l){if(l instanceof Ga&&l.name==="feature-state")return!1;let s=!0;return l.eachChild(c=>{s&&!Up(c)&&(s=!1)}),s}function Kf(l,s){if(l instanceof Ga&&s.indexOf(l.name)>=0)return!1;let c=!0;return l.eachChild(d=>{c&&!Kf(d,s)&&(c=!1)}),c}function Qm(l){return{result:"success",value:l}}function $p(l){return{result:"error",value:l}}function Hp(l){return l["property-type"]==="data-driven"||l["property-type"]==="cross-faded-data-driven"}function a2(l){return!!l.expression&&l.expression.parameters.indexOf("zoom")>-1}function X0(l){return!!l.expression&&l.expression.interpolated}function rn(l){return l instanceof Number?"number":l instanceof String?"string":l instanceof Boolean?"boolean":Array.isArray(l)?"array":l===null?"null":typeof l}function ev(l){return typeof l=="object"&&l!==null&&!Array.isArray(l)}function VR(l){return l}function s2(l,s){let c=s.type==="color",d=l.stops&&typeof l.stops[0][0]=="object",g=d||!(d||l.property!==void 0),x=l.type||(X0(s)?"exponential":"interval");if(c||s.type==="padding"){let k=c?hn.parse:Ia.parse;(l=ei({},l)).stops&&(l.stops=l.stops.map(j=>[j[0],k(j[1])])),l.default=k(l.default?l.default:s.default)}if(l.colorSpace&&(S=l.colorSpace)!=="rgb"&&S!=="hcl"&&S!=="lab")throw new Error(`Unknown color space: "${l.colorSpace}"`);var S;let E,M,R;if(x==="exponential")E=u2;else if(x==="interval")E=tv;else if(x==="categorical"){E=l2,M=Object.create(null);for(let k of l.stops)M[k[0]]=k[1];R=typeof l.stops[0][0]}else{if(x!=="identity")throw new Error(`Unknown function type "${x}"`);E=c2}if(d){let k={},j=[];for(let X=0;X<l.stops.length;X++){let Q=l.stops[X],se=Q[0].zoom;k[se]===void 0&&(k[se]={zoom:se,type:l.type,property:l.property,default:l.default,stops:[]},j.push(se)),k[se].stops.push([Q[0].value,Q[1]])}let G=[];for(let X of j)G.push([k[X].zoom,s2(k[X],s)]);let W={name:"linear"};return{kind:"composite",interpolationType:W,interpolationFactor:Yo.interpolationFactor.bind(void 0,W),zoomStops:G.map(X=>X[0]),evaluate:({zoom:X},Q)=>u2({stops:G,base:l.base},s,X).evaluate(X,Q)}}if(g){let k=x==="exponential"?{name:"exponential",base:l.base!==void 0?l.base:1}:null;return{kind:"camera",interpolationType:k,interpolationFactor:Yo.interpolationFactor.bind(void 0,k),zoomStops:l.stops.map(j=>j[0]),evaluate:({zoom:j})=>E(l,s,j,M,R)}}return{kind:"source",evaluate(k,j){let G=j&&j.properties?j.properties[l.property]:void 0;return G===void 0?Gp(l.default,s.default):E(l,s,G,M,R)}}}function Gp(l,s,c){return l!==void 0?l:s!==void 0?s:c!==void 0?c:void 0}function l2(l,s,c,d,g){return Gp(typeof c===g?d[c]:void 0,l.default,s.default)}function tv(l,s,c){if(rn(c)!=="number")return Gp(l.default,s.default);let d=l.stops.length;if(d===1||c<=l.stops[0][0])return l.stops[0][1];if(c>=l.stops[d-1][0])return l.stops[d-1][1];let g=Um(l.stops.map(x=>x[0]),c);return l.stops[g][1]}function u2(l,s,c){let d=l.base!==void 0?l.base:1;if(rn(c)!=="number")return Gp(l.default,s.default);let g=l.stops.length;if(g===1||c<=l.stops[0][0])return l.stops[0][1];if(c>=l.stops[g-1][0])return l.stops[g-1][1];let x=Um(l.stops.map(k=>k[0]),c),S=function(k,j,G,W){let X=W-G,Q=k-G;return X===0?0:j===1?Q/X:(Math.pow(j,Q)-1)/(Math.pow(j,X)-1)}(c,d,l.stops[x][0],l.stops[x+1][0]),E=l.stops[x][1],M=l.stops[x+1][1],R=Ko[s.type]||VR;return typeof E.evaluate=="function"?{evaluate(...k){let j=E.evaluate.apply(void 0,k),G=M.evaluate.apply(void 0,k);if(j!==void 0&&G!==void 0)return R(j,G,S,l.colorSpace)}}:R(E,M,S,l.colorSpace)}function c2(l,s,c){switch(s.type){case"color":c=hn.parse(c);break;case"formatted":c=Sa.fromString(c.toString());break;case"resolvedImage":c=Ea.fromString(c.toString());break;case"padding":c=Ia.parse(c);break;default:rn(c)===s.type||s.type==="enum"&&s.values[c]||(c=void 0);}return Gp(c,l.default,s.default)}Ga.register(Vp,{error:[{kind:"error"},[wr],(l,[s])=>{throw new hi(s.evaluate(l))}],typeof:[wr,[we],(l,[s])=>$(wi(s.evaluate(l)))],"to-rgba":[H(bt,4),[no],(l,[s])=>{let[c,d,g,x]=s.evaluate(l).rgb;return[255*c,255*d,255*g,x]}],rgb:[no,[bt,bt,bt],Z0],rgba:[no,[bt,bt,bt,bt],Z0],has:{type:sr,overloads:[[[wr],(l,[s])=>K0(s.evaluate(l),l.properties())],[[wr,wa],(l,[s,c])=>K0(s.evaluate(l),c.evaluate(l))]]},get:{type:we,overloads:[[[wr],(l,[s])=>Y0(s.evaluate(l),l.properties())],[[wr,wa],(l,[s,c])=>Y0(s.evaluate(l),c.evaluate(l))]]},"feature-state":[we,[wr],(l,[s])=>Y0(s.evaluate(l),l.featureState||{})],properties:[wa,[],l=>l.properties()],"geometry-type":[wr,[],l=>l.geometryType()],id:[we,[],l=>l.id()],zoom:[bt,[],l=>l.globals.zoom],"heatmap-density":[bt,[],l=>l.globals.heatmapDensity||0],"line-progress":[bt,[],l=>l.globals.lineProgress||0],accumulated:[we,[],l=>l.globals.accumulated===void 0?null:l.globals.accumulated],"+":[bt,Ac(bt),(l,s)=>{let c=0;for(let d of s)c+=d.evaluate(l);return c}],"*":[bt,Ac(bt),(l,s)=>{let c=1;for(let d of s)c*=d.evaluate(l);return c}],"-":{type:bt,overloads:[[[bt,bt],(l,[s,c])=>s.evaluate(l)-c.evaluate(l)],[[bt],(l,[s])=>-s.evaluate(l)]]},"/":[bt,[bt,bt],(l,[s,c])=>s.evaluate(l)/c.evaluate(l)],"%":[bt,[bt,bt],(l,[s,c])=>s.evaluate(l)%c.evaluate(l)],ln2:[bt,[],()=>Math.LN2],pi:[bt,[],()=>Math.PI],e:[bt,[],()=>Math.E],"^":[bt,[bt,bt],(l,[s,c])=>Math.pow(s.evaluate(l),c.evaluate(l))],sqrt:[bt,[bt],(l,[s])=>Math.sqrt(s.evaluate(l))],log10:[bt,[bt],(l,[s])=>Math.log(s.evaluate(l))/Math.LN10],ln:[bt,[bt],(l,[s])=>Math.log(s.evaluate(l))],log2:[bt,[bt],(l,[s])=>Math.log(s.evaluate(l))/Math.LN2],sin:[bt,[bt],(l,[s])=>Math.sin(s.evaluate(l))],cos:[bt,[bt],(l,[s])=>Math.cos(s.evaluate(l))],tan:[bt,[bt],(l,[s])=>Math.tan(s.evaluate(l))],asin:[bt,[bt],(l,[s])=>Math.asin(s.evaluate(l))],acos:[bt,[bt],(l,[s])=>Math.acos(s.evaluate(l))],atan:[bt,[bt],(l,[s])=>Math.atan(s.evaluate(l))],min:[bt,Ac(bt),(l,s)=>Math.min(...s.map(c=>c.evaluate(l)))],max:[bt,Ac(bt),(l,s)=>Math.max(...s.map(c=>c.evaluate(l)))],abs:[bt,[bt],(l,[s])=>Math.abs(s.evaluate(l))],round:[bt,[bt],(l,[s])=>{let c=s.evaluate(l);return c<0?-Math.round(-c):Math.round(c)}],floor:[bt,[bt],(l,[s])=>Math.floor(s.evaluate(l))],ceil:[bt,[bt],(l,[s])=>Math.ceil(s.evaluate(l))],"filter-==":[sr,[wr,we],(l,[s,c])=>l.properties()[s.value]===c.value],"filter-id-==":[sr,[we],(l,[s])=>l.id()===s.value],"filter-type-==":[sr,[wr],(l,[s])=>l.geometryType()===s.value],"filter-<":[sr,[wr,we],(l,[s,c])=>{let d=l.properties()[s.value],g=c.value;return typeof d==typeof g&&d<g}],"filter-id-<":[sr,[we],(l,[s])=>{let c=l.id(),d=s.value;return typeof c==typeof d&&c<d}],"filter->":[sr,[wr,we],(l,[s,c])=>{let d=l.properties()[s.value],g=c.value;return typeof d==typeof g&&d>g}],"filter-id->":[sr,[we],(l,[s])=>{let c=l.id(),d=s.value;return typeof c==typeof d&&c>d}],"filter-<=":[sr,[wr,we],(l,[s,c])=>{let d=l.properties()[s.value],g=c.value;return typeof d==typeof g&&d<=g}],"filter-id-<=":[sr,[we],(l,[s])=>{let c=l.id(),d=s.value;return typeof c==typeof d&&c<=d}],"filter->=":[sr,[wr,we],(l,[s,c])=>{let d=l.properties()[s.value],g=c.value;return typeof d==typeof g&&d>=g}],"filter-id->=":[sr,[we],(l,[s])=>{let c=l.id(),d=s.value;return typeof c==typeof d&&c>=d}],"filter-has":[sr,[we],(l,[s])=>s.value in l.properties()],"filter-has-id":[sr,[],l=>l.id()!==null&&l.id()!==void 0],"filter-type-in":[sr,[H(wr)],(l,[s])=>s.value.indexOf(l.geometryType())>=0],"filter-id-in":[sr,[H(we)],(l,[s])=>s.value.indexOf(l.id())>=0],"filter-in-small":[sr,[wr,H(we)],(l,[s,c])=>c.value.indexOf(l.properties()[s.value])>=0],"filter-in-large":[sr,[wr,H(we)],(l,[s,c])=>function(d,g,x,S){for(;x<=S;){let E=x+S>>1;if(g[E]===d)return!0;g[E]>d?S=E-1:x=E+1}return!1}(l.properties()[s.value],c.value,0,c.value.length-1)],all:{type:sr,overloads:[[[sr,sr],(l,[s,c])=>s.evaluate(l)&&c.evaluate(l)],[Ac(sr),(l,s)=>{for(let c of s)if(!c.evaluate(l))return!1;return!0}]]},any:{type:sr,overloads:[[[sr,sr],(l,[s,c])=>s.evaluate(l)||c.evaluate(l)],[Ac(sr),(l,s)=>{for(let c of s)if(c.evaluate(l))return!0;return!1}]]},"!":[sr,[sr],(l,[s])=>!s.evaluate(l)],"is-supported-script":[sr,[wr],(l,[s])=>{let c=l.globals&&l.globals.isSupportedScript;return!c||c(s.evaluate(l))}],upcase:[wr,[wr],(l,[s])=>s.evaluate(l).toUpperCase()],downcase:[wr,[wr],(l,[s])=>s.evaluate(l).toLowerCase()],concat:[wr,Ac(we),(l,s)=>s.map(c=>jf(c.evaluate(l))).join("")],"resolved-locale":[wr,[Ce],(l,[s])=>s.evaluate(l).resolvedLocale()]});class rv{constructor(s,c){var d;this.expression=s,this._warningHistory={},this._evaluator=new Bm,this._defaultValue=c?(d=c).type==="color"&&ev(d.default)?new hn(0,0,0,0):d.type==="color"?hn.parse(d.default)||null:d.type==="padding"?Ia.parse(d.default)||null:d.type==="variableAnchorOffsetCollection"?Ha.parse(d.default)||null:d.default===void 0?null:d.default:null,this._enumValues=c&&c.type==="enum"?c.values:null}evaluateWithoutErrorHandling(s,c,d,g,x,S){return this._evaluator.globals=s,this._evaluator.feature=c,this._evaluator.featureState=d,this._evaluator.canonical=g,this._evaluator.availableImages=x||null,this._evaluator.formattedSection=S,this.expression.evaluate(this._evaluator)}evaluate(s,c,d,g,x,S){this._evaluator.globals=s,this._evaluator.feature=c||null,this._evaluator.featureState=d||null,this._evaluator.canonical=g,this._evaluator.availableImages=x||null,this._evaluator.formattedSection=S||null;try{let E=this.expression.evaluate(this._evaluator);if(E==null||typeof E=="number"&&E!=E)return this._defaultValue;if(this._enumValues&&!(E in this._enumValues))throw new hi(`Expected value to be one of ${Object.keys(this._enumValues).map(M=>JSON.stringify(M)).join(", ")}, but found ${JSON.stringify(E)} instead.`);return E}catch(E){return this._warningHistory[E.message]||(this._warningHistory[E.message]=!0,typeof console!="undefined"&&console.warn(E.message)),this._defaultValue}}}function nv(l){return Array.isArray(l)&&l.length>0&&typeof l[0]=="string"&&l[0]in Vp}function Wp(l,s){let c=new bc(Vp,Wf,[],s?function(g){let x={color:no,string:wr,number:bt,enum:wr,boolean:sr,formatted:st,padding:Rt,resolvedImage:Pt,variableAnchorOffsetCollection:re};return g.type==="array"?H(x[g.value]||we,g.length):x[g.type]}(s):void 0),d=c.parse(l,void 0,void 0,void 0,s&&s.type==="string"?{typeAnnotation:"coerce"}:void 0);return d?Qm(new rv(d,s)):$p(c.errors)}class Zp{constructor(s,c){this.kind=s,this._styleExpression=c,this.isStateDependent=s!=="constant"&&!Up(c.expression)}evaluateWithoutErrorHandling(s,c,d,g,x,S){return this._styleExpression.evaluateWithoutErrorHandling(s,c,d,g,x,S)}evaluate(s,c,d,g,x,S){return this._styleExpression.evaluate(s,c,d,g,x,S)}}class Kp{constructor(s,c,d,g){this.kind=s,this.zoomStops=d,this._styleExpression=c,this.isStateDependent=s!=="camera"&&!Up(c.expression),this.interpolationType=g}evaluateWithoutErrorHandling(s,c,d,g,x,S){return this._styleExpression.evaluateWithoutErrorHandling(s,c,d,g,x,S)}evaluate(s,c,d,g,x,S){return this._styleExpression.evaluate(s,c,d,g,x,S)}interpolationFactor(s,c,d){return this.interpolationType?Yo.interpolationFactor(this.interpolationType,s,c,d):0}}function J0(l,s){let c=Wp(l,s);if(c.result==="error")return c;let d=c.value.expression,g=Zf(d);if(!g&&!Hp(s))return $p([new pn("","data expressions not supported")]);let x=Kf(d,["zoom"]);if(!x&&!a2(s))return $p([new pn("","zoom expressions not supported")]);let S=Yf(d);return S||x?S instanceof pn?$p([S]):S instanceof Yo&&!X0(s)?$p([new pn("","\"interpolate\" expressions cannot be used with this property")]):Qm(S?new Kp(g?"camera":"composite",c.value,S.labels,S instanceof Yo?S.interpolation:void 0):new Zp(g?"constant":"source",c.value)):$p([new pn("","\"zoom\" expression may only be used as input to a top-level \"step\" or \"interpolate\" expression.")])}class Yp{constructor(s,c){this._parameters=s,this._specification=c,ei(this,s2(this._parameters,this._specification))}static deserialize(s){return new Yp(s._parameters,s._specification)}static serialize(s){return{_parameters:s._parameters,_specification:s._specification}}}function Yf(l){let s=null;if(l instanceof _u)s=Yf(l.result);else if(l instanceof Hm){for(let c of l.args)if(s=Yf(c),s)break}else(l instanceof Fp||l instanceof Yo)&&l.input instanceof Ga&&l.input.name==="zoom"&&(s=l);return s instanceof pn||l.eachChild(c=>{let d=Yf(c);d instanceof pn?s=d:!s&&d?s=new pn("","\"zoom\" expression may only be used as input to a top-level \"step\" or \"interpolate\" expression."):s&&d&&s!==d&&(s=new pn("","Only one zoom-based \"step\" or \"interpolate\" subexpression may be used in an expression."))}),s}function iv(l){if(l===!0||l===!1)return!0;if(!Array.isArray(l)||l.length===0)return!1;switch(l[0]){case"has":return l.length>=2&&l[1]!=="$id"&&l[1]!=="$type";case"in":return l.length>=3&&(typeof l[1]!="string"||Array.isArray(l[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return l.length!==3||Array.isArray(l[1])||Array.isArray(l[2]);case"any":case"all":for(let s of l.slice(1))if(!iv(s)&&typeof s!="boolean")return!1;return!0;default:return!0;}}let ov={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function Q0(l){if(l==null)return{filter:()=>!0,needGeometry:!1};iv(l)||(l=av(l));let s=Wp(l,ov);if(s.result==="error")throw new Error(s.value.map(c=>`${c.key}: ${c.message}`).join(", "));return{filter:(c,d,g)=>s.value.evaluate(c,d,{},g),needGeometry:p2(l)}}function UR(l,s){return l<s?-1:l>s?1:0}function p2(l){if(!Array.isArray(l))return!1;if(l[0]==="within"||l[0]==="distance")return!0;for(let s=1;s<l.length;s++)if(p2(l[s]))return!0;return!1}function av(l){if(!l)return!0;let s=l[0];return l.length<=1?s!=="any":s==="=="?e1(l[1],l[2],"=="):s==="!="?io(e1(l[1],l[2],"==")):s==="<"||s===">"||s==="<="||s===">="?e1(l[1],l[2],s):s==="any"?(c=l.slice(1),["any"].concat(c.map(av))):s==="all"?["all"].concat(l.slice(1).map(av)):s==="none"?["all"].concat(l.slice(1).map(av).map(io)):s==="in"?Xf(l[1],l.slice(2)):s==="!in"?io(Xf(l[1],l.slice(2))):s==="has"?Jf(l[1]):s!=="!has"||io(Jf(l[1]));var c}function e1(l,s,c){switch(l){case"$type":return[`filter-type-${c}`,s];case"$id":return[`filter-id-${c}`,s];default:return[`filter-${c}`,l,s];}}function Xf(l,s){if(s.length===0)return!1;switch(l){case"$type":return["filter-type-in",["literal",s]];case"$id":return["filter-id-in",["literal",s]];default:return s.length>200&&!s.some(c=>typeof c!=typeof s[0])?["filter-in-large",l,["literal",s.sort(UR)]]:["filter-in-small",l,["literal",s]];}}function Jf(l){switch(l){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",l];}}function io(l){return["!",l]}function Cc(l){let s=typeof l;if(s==="number"||s==="boolean"||s==="string"||l==null)return JSON.stringify(l);if(Array.isArray(l)){let g="[";for(let x of l)g+=`${Cc(x)},`;return`${g}]`}let c=Object.keys(l).sort(),d="{";for(let g=0;g<c.length;g++)d+=`${JSON.stringify(c[g])}:${Cc(l[c[g]])},`;return`${d}}`}function d2(l){let s="";for(let c of pt)s+=`/${Cc(l[c])}`;return s}function f2(l){let s=l.value;return s?[new nt(l.key,s,"constants have been deprecated as of v8")]:[]}function li(l){return l instanceof Number||l instanceof String||l instanceof Boolean?l.valueOf():l}function As(l){if(Array.isArray(l))return l.map(As);if(l instanceof Object&&!(l instanceof Number||l instanceof String||l instanceof Boolean)){let s={};for(let c in l)s[c]=As(l[c]);return s}return li(l)}function Ta(l){let s=l.key,c=l.value,d=l.valueSpec||{},g=l.objectElementValidators||{},x=l.style,S=l.styleSpec,E=l.validateSpec,M=[],R=rn(c);if(R!=="object")return[new nt(s,c,`object expected, ${R} found`)];for(let k in c){let j=k.split(".")[0],G=d[j]||d["*"],W;if(g[j])W=g[j];else if(d[j])W=E;else if(g["*"])W=g["*"];else{if(!d["*"]){M.push(new nt(s,c[k],`unknown property "${k}"`));continue}W=E}M=M.concat(W({key:(s&&`${s}.`)+k,value:c[k],valueSpec:G,style:x,styleSpec:S,object:c,objectKey:k,validateSpec:E},c))}for(let k in d)g[k]||d[k].required&&d[k].default===void 0&&c[k]===void 0&&M.push(new nt(s,c,`missing required property "${k}"`));return M}function Qf(l){let s=l.value,c=l.valueSpec,d=l.style,g=l.styleSpec,x=l.key,S=l.arrayElementValidator||l.validateSpec;if(rn(s)!=="array")return[new nt(x,s,`array expected, ${rn(s)} found`)];if(c.length&&s.length!==c.length)return[new nt(x,s,`array length ${c.length} expected, length ${s.length} found`)];if(c["min-length"]&&s.length<c["min-length"])return[new nt(x,s,`array length at least ${c["min-length"]} expected, length ${s.length} found`)];let E={type:c.value,values:c.values};g.$version<7&&(E.function=c.function),rn(c.value)==="object"&&(E=c.value);let M=[];for(let R=0;R<s.length;R++)M=M.concat(S({array:s,arrayIndex:R,value:s[R],valueSpec:E,validateSpec:l.validateSpec,style:d,styleSpec:g,key:`${x}[${R}]`}));return M}function t1(l){let s=l.key,c=l.value,d=l.valueSpec,g=rn(c);return g==="number"&&c!=c&&(g="NaN"),g!=="number"?[new nt(s,c,`number expected, ${g} found`)]:"minimum"in d&&c<d.minimum?[new nt(s,c,`${c} is less than the minimum value ${d.minimum}`)]:"maximum"in d&&c>d.maximum?[new nt(s,c,`${c} is greater than the maximum value ${d.maximum}`)]:[]}function sv(l){let s=l.valueSpec,c=li(l.value.type),d,g,x,S={},E=c!=="categorical"&&l.value.property===void 0,M=!E,R=rn(l.value.stops)==="array"&&rn(l.value.stops[0])==="array"&&rn(l.value.stops[0][0])==="object",k=Ta({key:l.key,value:l.value,valueSpec:l.styleSpec.function,validateSpec:l.validateSpec,style:l.style,styleSpec:l.styleSpec,objectElementValidators:{stops:function(W){if(c==="identity")return[new nt(W.key,W.value,"identity function may not have a \"stops\" property")];let X=[],Q=W.value;return X=X.concat(Qf({key:W.key,value:Q,valueSpec:W.valueSpec,validateSpec:W.validateSpec,style:W.style,styleSpec:W.styleSpec,arrayElementValidator:j})),rn(Q)==="array"&&Q.length===0&&X.push(new nt(W.key,Q,"array must have at least one stop")),X},default:function(W){return W.validateSpec({key:W.key,value:W.value,valueSpec:s,validateSpec:W.validateSpec,style:W.style,styleSpec:W.styleSpec})}}});return c==="identity"&&E&&k.push(new nt(l.key,l.value,"missing required property \"property\"")),c==="identity"||l.value.stops||k.push(new nt(l.key,l.value,"missing required property \"stops\"")),c==="exponential"&&l.valueSpec.expression&&!X0(l.valueSpec)&&k.push(new nt(l.key,l.value,"exponential functions not supported")),l.styleSpec.$version>=8&&(M&&!Hp(l.valueSpec)?k.push(new nt(l.key,l.value,"property functions not supported")):E&&!a2(l.valueSpec)&&k.push(new nt(l.key,l.value,"zoom functions not supported"))),c!=="categorical"&&!R||l.value.property!==void 0||k.push(new nt(l.key,l.value,"\"property\" property is required")),k;function j(W){let X=[],Q=W.value,se=W.key;if(rn(Q)!=="array")return[new nt(se,Q,`array expected, ${rn(Q)} found`)];if(Q.length!==2)return[new nt(se,Q,`array length 2 expected, length ${Q.length} found`)];if(R){if(rn(Q[0])!=="object")return[new nt(se,Q,`object expected, ${rn(Q[0])} found`)];if(Q[0].zoom===void 0)return[new nt(se,Q,"object stop key must have zoom")];if(Q[0].value===void 0)return[new nt(se,Q,"object stop key must have value")];if(x&&x>li(Q[0].zoom))return[new nt(se,Q[0].zoom,"stop zoom values must appear in ascending order")];li(Q[0].zoom)!==x&&(x=li(Q[0].zoom),g=void 0,S={}),X=X.concat(Ta({key:`${se}[0]`,value:Q[0],valueSpec:{zoom:{}},validateSpec:W.validateSpec,style:W.style,styleSpec:W.styleSpec,objectElementValidators:{zoom:t1,value:G}}))}else X=X.concat(G({key:`${se}[0]`,value:Q[0],valueSpec:{},validateSpec:W.validateSpec,style:W.style,styleSpec:W.styleSpec},Q));return nv(As(Q[1]))?X.concat([new nt(`${se}[1]`,Q[1],"expressions are not allowed in function stops.")]):X.concat(W.validateSpec({key:`${se}[1]`,value:Q[1],valueSpec:s,validateSpec:W.validateSpec,style:W.style,styleSpec:W.styleSpec}))}function G(W,X){let Q=rn(W.value),se=li(W.value),pe=W.value!==null?W.value:X;if(d){if(Q!==d)return[new nt(W.key,pe,`${Q} stop domain type must match previous stop domain type ${d}`)]}else d=Q;if(Q!=="number"&&Q!=="string"&&Q!=="boolean")return[new nt(W.key,pe,"stop domain value must be a number, string, or boolean")];if(Q!=="number"&&c!=="categorical"){let Oe=`number expected, ${Q} found`;return Hp(s)&&c===void 0&&(Oe+="\nIf you intended to use a categorical function, specify `\"type\": \"categorical\"`."),[new nt(W.key,pe,Oe)]}return c!=="categorical"||Q!=="number"||isFinite(se)&&Math.floor(se)===se?c!=="categorical"&&Q==="number"&&g!==void 0&&se<g?[new nt(W.key,pe,"stop domain values must appear in ascending order")]:(g=se,c==="categorical"&&se in S?[new nt(W.key,pe,"stop domain values must be unique")]:(S[se]=!0,[])):[new nt(W.key,pe,`integer expected, found ${se}`)]}}function Xp(l){let s=(l.expressionContext==="property"?J0:Wp)(As(l.value),l.valueSpec);if(s.result==="error")return s.value.map(d=>new nt(`${l.key}${d.key}`,l.value,d.message));let c=s.value.expression||s.value._styleExpression.expression;if(l.expressionContext==="property"&&l.propertyKey==="text-font"&&!c.outputDefined())return[new nt(l.key,l.value,`Invalid data expression for "${l.propertyKey}". Output values must be contained as literals within the expression.`)];if(l.expressionContext==="property"&&l.propertyType==="layout"&&!Up(c))return[new nt(l.key,l.value,"\"feature-state\" data expressions are not supported with layout properties.")];if(l.expressionContext==="filter"&&!Up(c))return[new nt(l.key,l.value,"\"feature-state\" data expressions are not supported with filters.")];if(l.expressionContext&&l.expressionContext.indexOf("cluster")===0){if(!Kf(c,["zoom","feature-state"]))return[new nt(l.key,l.value,"\"zoom\" and \"feature-state\" expressions are not supported with cluster properties.")];if(l.expressionContext==="cluster-initial"&&!Zf(c))return[new nt(l.key,l.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Hl(l){let s=l.key,c=l.value,d=l.valueSpec,g=[];return Array.isArray(d.values)?d.values.indexOf(li(c))===-1&&g.push(new nt(s,c,`expected one of [${d.values.join(", ")}], ${JSON.stringify(c)} found`)):Object.keys(d.values).indexOf(li(c))===-1&&g.push(new nt(s,c,`expected one of [${Object.keys(d.values).join(", ")}], ${JSON.stringify(c)} found`)),g}function r1(l){return iv(As(l.value))?Xp(ei({},l,{expressionContext:"filter",valueSpec:{value:"boolean"}})):lv(l)}function lv(l){let s=l.value,c=l.key;if(rn(s)!=="array")return[new nt(c,s,`array expected, ${rn(s)} found`)];let d=l.styleSpec,g,x=[];if(s.length<1)return[new nt(c,s,"filter array must have at least 1 element")];switch(x=x.concat(Hl({key:`${c}[0]`,value:s[0],valueSpec:d.filter_operator,style:l.style,styleSpec:l.styleSpec})),li(s[0])){case"<":case"<=":case">":case">=":s.length>=2&&li(s[1])==="$type"&&x.push(new nt(c,s,`"$type" cannot be use with operator "${s[0]}"`));case"==":case"!=":s.length!==3&&x.push(new nt(c,s,`filter array for operator "${s[0]}" must have 3 elements`));case"in":case"!in":s.length>=2&&(g=rn(s[1]),g!=="string"&&x.push(new nt(`${c}[1]`,s[1],`string expected, ${g} found`)));for(let S=2;S<s.length;S++)g=rn(s[S]),li(s[1])==="$type"?x=x.concat(Hl({key:`${c}[${S}]`,value:s[S],valueSpec:d.geometry_type,style:l.style,styleSpec:l.styleSpec})):g!=="string"&&g!=="number"&&g!=="boolean"&&x.push(new nt(`${c}[${S}]`,s[S],`string, number, or boolean expected, ${g} found`));break;case"any":case"all":case"none":for(let S=1;S<s.length;S++)x=x.concat(lv({key:`${c}[${S}]`,value:s[S],style:l.style,styleSpec:l.styleSpec}));break;case"has":case"!has":g=rn(s[1]),s.length!==2?x.push(new nt(c,s,`filter array for "${s[0]}" operator must have 2 elements`)):g!=="string"&&x.push(new nt(`${c}[1]`,s[1],`string expected, ${g} found`));}return x}function n1(l,s){let c=l.key,d=l.validateSpec,g=l.style,x=l.styleSpec,S=l.value,E=l.objectKey,M=x[`${s}_${l.layerType}`];if(!M)return[];let R=E.match(/^(.*)-transition$/);if(s==="paint"&&R&&M[R[1]]&&M[R[1]].transition)return d({key:c,value:S,valueSpec:x.transition,style:g,styleSpec:x});let k=l.valueSpec||M[E];if(!k)return[new nt(c,S,`unknown property "${E}"`)];let j;if(rn(S)==="string"&&Hp(k)&&!k.tokens&&(j=/^{([^}]+)}$/.exec(S)))return[new nt(c,S,`"${E}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(j[1])} }\`.`)];let G=[];return l.layerType==="symbol"&&(E==="text-field"&&g&&!g.glyphs&&G.push(new nt(c,S,"use of \"text-field\" requires a style \"glyphs\" property")),E==="text-font"&&ev(As(S))&&li(S.type)==="identity"&&G.push(new nt(c,S,"\"text-font\" does not support identity functions"))),G.concat(d({key:l.key,value:S,valueSpec:k,style:g,styleSpec:x,expressionContext:"property",propertyType:s,propertyKey:E}))}function uv(l){return n1(l,"paint")}function i1(l){return n1(l,"layout")}function o1(l){let s=[],c=l.value,d=l.key,g=l.style,x=l.styleSpec;c.type||c.ref||s.push(new nt(d,c,"either \"type\" or \"ref\" is required"));let S=li(c.type),E=li(c.ref);if(c.id){let M=li(c.id);for(let R=0;R<l.arrayIndex;R++){let k=g.layers[R];li(k.id)===M&&s.push(new nt(d,c.id,`duplicate layer id "${c.id}", previously used at line ${k.id.__line__}`))}}if("ref"in c){let M;["type","source","source-layer","filter","layout"].forEach(R=>{R in c&&s.push(new nt(d,c[R],`"${R}" is prohibited for ref layers`))}),g.layers.forEach(R=>{li(R.id)===E&&(M=R)}),M?M.ref?s.push(new nt(d,c.ref,"ref cannot reference another ref layer")):S=li(M.type):s.push(new nt(d,c.ref,`ref layer "${E}" not found`))}else if(S!=="background")if(c.source){let M=g.sources&&g.sources[c.source],R=M&&li(M.type);M?R==="vector"&&S==="raster"?s.push(new nt(d,c.source,`layer "${c.id}" requires a raster source`)):R!=="raster-dem"&&S==="hillshade"?s.push(new nt(d,c.source,`layer "${c.id}" requires a raster-dem source`)):R==="raster"&&S!=="raster"?s.push(new nt(d,c.source,`layer "${c.id}" requires a vector source`)):R!=="vector"||c["source-layer"]?R==="raster-dem"&&S!=="hillshade"?s.push(new nt(d,c.source,"raster-dem source can only be used with layer type 'hillshade'.")):S!=="line"||!c.paint||!c.paint["line-gradient"]||R==="geojson"&&M.lineMetrics||s.push(new nt(d,c,`layer "${c.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):s.push(new nt(d,c,`layer "${c.id}" must specify a "source-layer"`)):s.push(new nt(d,c.source,`source "${c.source}" not found`))}else s.push(new nt(d,c,"missing required property \"source\""));return s=s.concat(Ta({key:d,value:c,valueSpec:x.layer,style:l.style,styleSpec:l.styleSpec,validateSpec:l.validateSpec,objectElementValidators:{"*":()=>[],type:()=>l.validateSpec({key:`${d}.type`,value:c.type,valueSpec:x.layer.type,style:l.style,styleSpec:l.styleSpec,validateSpec:l.validateSpec,object:c,objectKey:"type"}),filter:r1,layout:M=>Ta({layer:c,key:M.key,value:M.value,style:M.style,styleSpec:M.styleSpec,validateSpec:M.validateSpec,objectElementValidators:{"*":R=>i1(ei({layerType:S},R))}}),paint:M=>Ta({layer:c,key:M.key,value:M.value,style:M.style,styleSpec:M.styleSpec,validateSpec:M.validateSpec,objectElementValidators:{"*":R=>uv(ei({layerType:S},R))}})}})),s}function Mc(l){let s=l.value,c=l.key,d=rn(s);return d!=="string"?[new nt(c,s,`string expected, ${d} found`)]:[]}let cv={promoteId:function({key:l,value:s}){if(rn(s)==="string")return Mc({key:l,value:s});{let c=[];for(let d in s)c.push(...Mc({key:`${l}.${d}`,value:s[d]}));return c}}};function eh(l){let s=l.value,c=l.key,d=l.styleSpec,g=l.style,x=l.validateSpec;if(!s.type)return[new nt(c,s,"\"type\" is required")];let S=li(s.type),E;switch(S){case"vector":case"raster":return E=Ta({key:c,value:s,valueSpec:d[`source_${S.replace("-","_")}`],style:l.style,styleSpec:d,objectElementValidators:cv,validateSpec:x}),E;case"raster-dem":return E=function(M){var R;let k=(R=M.sourceName)!==null&&R!==void 0?R:"",j=M.value,G=M.styleSpec,W=G.source_raster_dem,X=M.style,Q=[],se=rn(j);if(j===void 0)return Q;if(se!=="object")return Q.push(new nt("source_raster_dem",j,`object expected, ${se} found`)),Q;let pe=li(j.encoding)==="custom",Oe=["redFactor","greenFactor","blueFactor","baseShift"],_e=M.value.encoding?`"${M.value.encoding}"`:"Default";for(let Me in j)!pe&&Oe.includes(Me)?Q.push(new nt(Me,j[Me],`In "${k}": "${Me}" is only valid when "encoding" is set to "custom". ${_e} encoding found`)):W[Me]?Q=Q.concat(M.validateSpec({key:Me,value:j[Me],valueSpec:W[Me],validateSpec:M.validateSpec,style:X,styleSpec:G})):Q.push(new nt(Me,j[Me],`unknown property "${Me}"`));return Q}({sourceName:c,value:s,style:l.style,styleSpec:d,validateSpec:x}),E;case"geojson":if(E=Ta({key:c,value:s,valueSpec:d.source_geojson,style:g,styleSpec:d,validateSpec:x,objectElementValidators:cv}),s.cluster)for(let M in s.clusterProperties){let[R,k]=s.clusterProperties[M],j=typeof R=="string"?[R,["accumulated"],["get",M]]:R;E.push(...Xp({key:`${c}.${M}.map`,value:k,validateSpec:x,expressionContext:"cluster-map"})),E.push(...Xp({key:`${c}.${M}.reduce`,value:j,validateSpec:x,expressionContext:"cluster-reduce"}))}return E;case"video":return Ta({key:c,value:s,valueSpec:d.source_video,style:g,validateSpec:x,styleSpec:d});case"image":return Ta({key:c,value:s,valueSpec:d.source_image,style:g,validateSpec:x,styleSpec:d});case"canvas":return[new nt(c,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Hl({key:`${c}.type`,value:s.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:g,validateSpec:x,styleSpec:d});}}function a1(l){let s=l.value,c=l.styleSpec,d=c.light,g=l.style,x=[],S=rn(s);if(s===void 0)return x;if(S!=="object")return x=x.concat([new nt("light",s,`object expected, ${S} found`)]),x;for(let E in s){let M=E.match(/^(.*)-transition$/);x=x.concat(M&&d[M[1]]&&d[M[1]].transition?l.validateSpec({key:E,value:s[E],valueSpec:c.transition,validateSpec:l.validateSpec,style:g,styleSpec:c}):d[E]?l.validateSpec({key:E,value:s[E],valueSpec:d[E],validateSpec:l.validateSpec,style:g,styleSpec:c}):[new nt(E,s[E],`unknown property "${E}"`)])}return x}function s1(l){let s=l.value,c=l.styleSpec,d=c.sky,g=l.style,x=rn(s);if(s===void 0)return[];if(x!=="object")return[new nt("sky",s,`object expected, ${x} found`)];let S=[];for(let E in s)S=S.concat(d[E]?l.validateSpec({key:E,value:s[E],valueSpec:d[E],style:g,styleSpec:c}):[new nt(E,s[E],`unknown property "${E}"`)]);return S}function l1(l){let s=l.value,c=l.styleSpec,d=c.terrain,g=l.style,x=[],S=rn(s);if(s===void 0)return x;if(S!=="object")return x=x.concat([new nt("terrain",s,`object expected, ${S} found`)]),x;for(let E in s)x=x.concat(d[E]?l.validateSpec({key:E,value:s[E],valueSpec:d[E],validateSpec:l.validateSpec,style:g,styleSpec:c}):[new nt(E,s[E],`unknown property "${E}"`)]);return x}function u1(l){let s=[],c=l.value,d=l.key;if(Array.isArray(c)){let g=[],x=[];for(let S in c)c[S].id&&g.includes(c[S].id)&&s.push(new nt(d,c,`all the sprites' ids must be unique, but ${c[S].id} is duplicated`)),g.push(c[S].id),c[S].url&&x.includes(c[S].url)&&s.push(new nt(d,c,`all the sprites' URLs must be unique, but ${c[S].url} is duplicated`)),x.push(c[S].url),s=s.concat(Ta({key:`${d}[${S}]`,value:c[S],valueSpec:{id:{type:"string",required:!0},url:{type:"string",required:!0}},validateSpec:l.validateSpec}));return s}return Mc({key:d,value:c})}let pv={"*":()=>[],array:Qf,boolean:function(l){let s=l.value,c=l.key,d=rn(s);return d!=="boolean"?[new nt(c,s,`boolean expected, ${d} found`)]:[]},number:t1,color:function(l){let s=l.key,c=l.value,d=rn(c);return d!=="string"?[new nt(s,c,`color expected, ${d} found`)]:hn.parse(String(c))?[]:[new nt(s,c,`color expected, "${c}" found`)]},constants:f2,enum:Hl,filter:r1,function:sv,layer:o1,object:Ta,source:eh,light:a1,sky:s1,terrain:l1,projection:function(l){let s=l.value,c=l.styleSpec,d=c.projection,g=l.style,x=rn(s);if(s===void 0)return[];if(x!=="object")return[new nt("projection",s,`object expected, ${x} found`)];let S=[];for(let E in s)S=S.concat(d[E]?l.validateSpec({key:E,value:s[E],valueSpec:d[E],style:g,styleSpec:c}):[new nt(E,s[E],`unknown property "${E}"`)]);return S},string:Mc,formatted:function(l){return Mc(l).length===0?[]:Xp(l)},resolvedImage:function(l){return Mc(l).length===0?[]:Xp(l)},padding:function(l){let s=l.key,c=l.value;if(rn(c)==="array"){if(c.length<1||c.length>4)return[new nt(s,c,`padding requires 1 to 4 values; ${c.length} values found`)];let d={type:"number"},g=[];for(let x=0;x<c.length;x++)g=g.concat(l.validateSpec({key:`${s}[${x}]`,value:c[x],validateSpec:l.validateSpec,valueSpec:d}));return g}return t1({key:s,value:c,valueSpec:{}})},variableAnchorOffsetCollection:function(l){let s=l.key,c=l.value,d=rn(c),g=l.styleSpec;if(d!=="array"||c.length<1||c.length%2!=0)return[new nt(s,c,"variableAnchorOffsetCollection requires a non-empty array of even length")];let x=[];for(let S=0;S<c.length;S+=2)x=x.concat(Hl({key:`${s}[${S}]`,value:c[S],valueSpec:g.layout_symbol["text-anchor"]})),x=x.concat(Qf({key:`${s}[${S+1}]`,value:c[S+1],valueSpec:{length:2,value:"number"},validateSpec:l.validateSpec,style:l.style,styleSpec:g}));return x},sprite:u1};function Jp(l){let s=l.value,c=l.valueSpec,d=l.styleSpec;return l.validateSpec=Jp,c.expression&&ev(li(s))?sv(l):c.expression&&nv(As(s))?Xp(l):c.type&&pv[c.type]?pv[c.type](l):Ta(ei({},l,{valueSpec:c.type?d[c.type]:c}))}function h2(l){let s=l.value,c=l.key,d=Mc(l);return d.length||(s.indexOf("{fontstack}")===-1&&d.push(new nt(c,s,"\"glyphs\" url must include a \"{fontstack}\" token")),s.indexOf("{range}")===-1&&d.push(new nt(c,s,"\"glyphs\" url must include a \"{range}\" token"))),d}function Wa(l,s=xe){let c=[];return c=c.concat(Jp({key:"",value:l,valueSpec:s.$root,styleSpec:s,style:l,validateSpec:Jp,objectElementValidators:{glyphs:h2,"*":()=>[]}})),l.constants&&(c=c.concat(f2({key:"constants",value:l.constants,style:l,styleSpec:s,validateSpec:Jp}))),c1(c)}function tl(l){return function(s){return l(Lr(tt({},s),{validateSpec:Jp}))}}function c1(l){return[].concat(l).sort((s,c)=>s.line-c.line)}function Cs(l){return function(...s){return c1(l.apply(this,s))}}Wa.source=Cs(tl(eh)),Wa.sprite=Cs(tl(u1)),Wa.glyphs=Cs(tl(h2)),Wa.light=Cs(tl(a1)),Wa.sky=Cs(tl(s1)),Wa.terrain=Cs(tl(l1)),Wa.layer=Cs(tl(o1)),Wa.filter=Cs(tl(r1)),Wa.paintProperty=Cs(tl(uv)),Wa.layoutProperty=Cs(tl(i1));let Pc=Wa,$R=Pc.light,HR=Pc.sky,m2=Pc.paintProperty,v2=Pc.layoutProperty;function p1(l,s){let c=!1;if(s&&s.length)for(let d of s)l.fire(new St(new Error(d.message))),c=!0;return c}class Qp{constructor(s,c,d){let g=this.cells=[];if(s instanceof ArrayBuffer){this.arrayBuffer=s;let S=new Int32Array(this.arrayBuffer);s=S[0],this.d=(c=S[1])+2*(d=S[2]);for(let M=0;M<this.d*this.d;M++){let R=S[3+M],k=S[3+M+1];g.push(R===k?null:S.subarray(R,k))}let E=S[3+g.length+1];this.keys=S.subarray(S[3+g.length],E),this.bboxes=S.subarray(E),this.insert=this._insertReadonly}else{this.d=c+2*d;for(let S=0;S<this.d*this.d;S++)g.push([]);this.keys=[],this.bboxes=[]}this.n=c,this.extent=s,this.padding=d,this.scale=c/s,this.uid=0;let x=d/c*s;this.min=-x,this.max=s+x}insert(s,c,d,g,x){this._forEachCell(c,d,g,x,this._insertCell,this.uid++,void 0,void 0),this.keys.push(s),this.bboxes.push(c),this.bboxes.push(d),this.bboxes.push(g),this.bboxes.push(x)}_insertReadonly(){throw new Error("Cannot insert into a GridIndex created from an ArrayBuffer.")}_insertCell(s,c,d,g,x,S){this.cells[x].push(S)}query(s,c,d,g,x){let S=this.min,E=this.max;if(s<=S&&c<=S&&E<=d&&E<=g&&!x)return Array.prototype.slice.call(this.keys);{let M=[];return this._forEachCell(s,c,d,g,this._queryCell,M,{},x),M}}_queryCell(s,c,d,g,x,S,E,M){let R=this.cells[x];if(R!==null){let k=this.keys,j=this.bboxes;for(let G=0;G<R.length;G++){let W=R[G];if(E[W]===void 0){let X=4*W;(M?M(j[X+0],j[X+1],j[X+2],j[X+3]):s<=j[X+2]&&c<=j[X+3]&&d>=j[X+0]&&g>=j[X+1])?(E[W]=!0,S.push(k[W])):E[W]=!1}}}}_forEachCell(s,c,d,g,x,S,E,M){let R=this._convertToCellCoord(s),k=this._convertToCellCoord(c),j=this._convertToCellCoord(d),G=this._convertToCellCoord(g);for(let W=R;W<=j;W++)for(let X=k;X<=G;X++){let Q=this.d*X+W;if((!M||M(this._convertFromCellCoord(W),this._convertFromCellCoord(X),this._convertFromCellCoord(W+1),this._convertFromCellCoord(X+1)))&&x.call(this,s,c,d,g,Q,S,E,M))return}}_convertFromCellCoord(s){return(s-this.padding)/this.scale}_convertToCellCoord(s){return Math.max(0,Math.min(this.d-1,Math.floor(s*this.scale)+this.padding))}toArrayBuffer(){if(this.arrayBuffer)return this.arrayBuffer;let s=this.cells,c=3+this.cells.length+1+1,d=0;for(let S=0;S<this.cells.length;S++)d+=this.cells[S].length;let g=new Int32Array(c+d+this.keys.length+this.bboxes.length);g[0]=this.extent,g[1]=this.n,g[2]=this.padding;let x=c;for(let S=0;S<s.length;S++){let E=s[S];g[3+S]=x,g.set(E,x),x+=E.length}return g[3+s.length]=x,g.set(this.keys,x),x+=this.keys.length,g[3+s.length+1]=x,g.set(this.bboxes,x),x+=this.bboxes.length,g.buffer}static serialize(s,c){let d=s.toArrayBuffer();return c&&c.push(d),{buffer:d}}static deserialize(s){return new Qp(s.buffer)}}let Za={};function jt(l,s,c={}){if(Za[l])throw new Error(`${l} is already registered.`);Object.defineProperty(s,"_classRegistryKey",{value:l,writeable:!1}),Za[l]={klass:s,omit:c.omit||[],shallow:c.shallow||[]}}jt("Object",Object),jt("TransferableGridIndex",Qp),jt("Color",hn),jt("Error",Error),jt("AJAXError",Pe),jt("ResolvedImage",Ea),jt("StylePropertyFunction",Yp),jt("StyleExpression",rv,{omit:["_evaluator"]}),jt("ZoomDependentExpression",Kp),jt("ZoomConstantExpression",Zp),jt("CompoundExpression",Ga,{omit:["_evaluate"]});for(let l in Vp)Vp[l]._classRegistryKey||jt(`Expression_${l}`,Vp[l]);function dv(l){return l&&typeof ArrayBuffer!="undefined"&&(l instanceof ArrayBuffer||l.constructor&&l.constructor.name==="ArrayBuffer")}function d1(l){return l.$name||l.constructor._classRegistryKey}function g2(l){return!function(s){if(s===null||typeof s!="object")return!1;let c=d1(s);return!(!c||c==="Object")}(l)&&(l==null||typeof l=="boolean"||typeof l=="number"||typeof l=="string"||l instanceof Boolean||l instanceof Number||l instanceof String||l instanceof Date||l instanceof RegExp||l instanceof Blob||l instanceof Error||dv(l)||ot(l)||ArrayBuffer.isView(l)||l instanceof ImageData)}function ed(l,s){if(g2(l))return(dv(l)||ot(l))&&s&&s.push(l),ArrayBuffer.isView(l)&&s&&s.push(l.buffer),l instanceof ImageData&&s&&s.push(l.data.buffer),l;if(Array.isArray(l)){let x=[];for(let S of l)x.push(ed(S,s));return x}if(typeof l!="object")throw new Error("can't serialize object of type "+typeof l);let c=d1(l);if(!c)throw new Error(`can't serialize object of unregistered class ${l.constructor.name}`);if(!Za[c])throw new Error(`${c} is not registered.`);let{klass:d}=Za[c],g=d.serialize?d.serialize(l,s):{};if(d.serialize){if(s&&g===s[s.length-1])throw new Error("statically serialized object won't survive transfer of $name property")}else{for(let x in l){if(!l.hasOwnProperty(x)||Za[c].omit.indexOf(x)>=0)continue;let S=l[x];g[x]=Za[c].shallow.indexOf(x)>=0?S:ed(S,s)}l instanceof Error&&(g.message=l.message)}if(g.$name)throw new Error("$name property is reserved for worker serialization logic.");return c!=="Object"&&(g.$name=c),g}function td(l){if(g2(l))return l;if(Array.isArray(l))return l.map(td);if(typeof l!="object")throw new Error("can't deserialize object of type "+typeof l);let s=d1(l)||"Object";if(!Za[s])throw new Error(`can't deserialize unregistered class ${s}`);let{klass:c}=Za[s];if(!c)throw new Error(`can't deserialize unregistered class ${s}`);if(c.deserialize)return c.deserialize(l);let d=Object.create(c.prototype);for(let g of Object.keys(l)){if(g==="$name")continue;let x=l[g];d[g]=Za[s].shallow.indexOf(g)>=0?x:td(x)}return d}class f1{constructor(){this.first=!0}update(s,c){let d=Math.floor(s);return this.first?(this.first=!1,this.lastIntegerZoom=d,this.lastIntegerZoomTime=0,this.lastZoom=s,this.lastFloorZoom=d,!0):(this.lastFloorZoom>d?(this.lastIntegerZoom=d+1,this.lastIntegerZoomTime=c):this.lastFloorZoom<d&&(this.lastIntegerZoom=d,this.lastIntegerZoomTime=c),s!==this.lastZoom&&(this.lastZoom=s,this.lastFloorZoom=d,!0))}}let Hr={"Latin-1 Supplement":l=>l>=128&&l<=255,"Hangul Jamo":l=>l>=4352&&l<=4607,Khmer:l=>l>=6016&&l<=6143,"General Punctuation":l=>l>=8192&&l<=8303,"Letterlike Symbols":l=>l>=8448&&l<=8527,"Number Forms":l=>l>=8528&&l<=8591,"Miscellaneous Technical":l=>l>=8960&&l<=9215,"Control Pictures":l=>l>=9216&&l<=9279,"Optical Character Recognition":l=>l>=9280&&l<=9311,"Enclosed Alphanumerics":l=>l>=9312&&l<=9471,"Geometric Shapes":l=>l>=9632&&l<=9727,"Miscellaneous Symbols":l=>l>=9728&&l<=9983,"Miscellaneous Symbols and Arrows":l=>l>=11008&&l<=11263,"Ideographic Description Characters":l=>l>=12272&&l<=12287,"CJK Symbols and Punctuation":l=>l>=12288&&l<=12351,Katakana:l=>l>=12448&&l<=12543,Kanbun:l=>l>=12688&&l<=12703,"CJK Strokes":l=>l>=12736&&l<=12783,"Enclosed CJK Letters and Months":l=>l>=12800&&l<=13055,"CJK Compatibility":l=>l>=13056&&l<=13311,"Yijing Hexagram Symbols":l=>l>=19904&&l<=19967,"Private Use Area":l=>l>=57344&&l<=63743,"Vertical Forms":l=>l>=65040&&l<=65055,"CJK Compatibility Forms":l=>l>=65072&&l<=65103,"Small Form Variants":l=>l>=65104&&l<=65135,"Halfwidth and Fullwidth Forms":l=>l>=65280&&l<=65519};function h1(l){for(let s of l)if(v1(s.charCodeAt(0)))return!0;return!1}function GR(l){for(let s of l)if(!rd(s.charCodeAt(0)))return!1;return!0}function m1(l){let s=l.map(c=>{try{return new RegExp(`\\p{sc=${c}}`,"u").source}catch(d){return null}}).filter(c=>c);return new RegExp(s.join("|"),"u")}let WR=m1(["Arab","Dupl","Mong","Ougr","Syrc"]);function rd(l){return!WR.test(String.fromCodePoint(l))}let y2=m1(["Bopo","Hani","Hira","Kana","Kits","Nshu","Tang","Yiii"]);function v1(l){return!(l!==746&&l!==747&&(l<4352||!(Hr["CJK Compatibility Forms"](l)&&!(l>=65097&&l<=65103)||Hr["CJK Compatibility"](l)||Hr["CJK Strokes"](l)||!(!Hr["CJK Symbols and Punctuation"](l)||l>=12296&&l<=12305||l>=12308&&l<=12319||l===12336)||Hr["Enclosed CJK Letters and Months"](l)||Hr["Ideographic Description Characters"](l)||Hr.Kanbun(l)||Hr.Katakana(l)&&l!==12540||!(!Hr["Halfwidth and Fullwidth Forms"](l)||l===65288||l===65289||l===65293||l>=65306&&l<=65310||l===65339||l===65341||l===65343||l>=65371&&l<=65503||l===65507||l>=65512&&l<=65519)||!(!Hr["Small Form Variants"](l)||l>=65112&&l<=65118||l>=65123&&l<=65126)||Hr["Vertical Forms"](l)||Hr["Yijing Hexagram Symbols"](l)||new RegExp("\\p{sc=Cans}","u").test(String.fromCodePoint(l))||new RegExp("\\p{sc=Hang}","u").test(String.fromCodePoint(l))||y2.test(String.fromCodePoint(l)))))}function _2(l){return!(v1(l)||function(s){return!!(Hr["Latin-1 Supplement"](s)&&(s===167||s===169||s===174||s===177||s===188||s===189||s===190||s===215||s===247)||Hr["General Punctuation"](s)&&(s===8214||s===8224||s===8225||s===8240||s===8241||s===8251||s===8252||s===8258||s===8263||s===8264||s===8265||s===8273)||Hr["Letterlike Symbols"](s)||Hr["Number Forms"](s)||Hr["Miscellaneous Technical"](s)&&(s>=8960&&s<=8967||s>=8972&&s<=8991||s>=8996&&s<=9e3||s===9003||s>=9085&&s<=9114||s>=9150&&s<=9165||s===9167||s>=9169&&s<=9179||s>=9186&&s<=9215)||Hr["Control Pictures"](s)&&s!==9251||Hr["Optical Character Recognition"](s)||Hr["Enclosed Alphanumerics"](s)||Hr["Geometric Shapes"](s)||Hr["Miscellaneous Symbols"](s)&&!(s>=9754&&s<=9759)||Hr["Miscellaneous Symbols and Arrows"](s)&&(s>=11026&&s<=11055||s>=11088&&s<=11097||s>=11192&&s<=11243)||Hr["CJK Symbols and Punctuation"](s)||Hr.Katakana(s)||Hr["Private Use Area"](s)||Hr["CJK Compatibility Forms"](s)||Hr["Small Form Variants"](s)||Hr["Halfwidth and Fullwidth Forms"](s)||s===8734||s===8756||s===8757||s>=9984&&s<=10087||s>=10102&&s<=10131||s===65532||s===65533)}(l))}let ZR=m1(["Adlm","Arab","Armi","Avst","Chrs","Cprt","Egyp","Elym","Gara","Hatr","Hebr","Hung","Khar","Lydi","Mand","Mani","Mend","Merc","Mero","Narb","Nbat","Nkoo","Orkh","Palm","Phli","Phlp","Phnx","Prti","Rohg","Samr","Sarb","Sogo","Syrc","Thaa","Todr","Yezi"]);function g1(l){return ZR.test(String.fromCodePoint(l))}function KR(l,s){return!(!s&&g1(l)||l>=2304&&l<=3583||l>=3840&&l<=4255||Hr.Khmer(l))}function YR(l){for(let s of l)if(g1(s.charCodeAt(0)))return!0;return!1}let Aa=new class{constructor(){this.applyArabicShaping=null,this.processBidirectionalText=null,this.processStyledBidirectionalText=null,this.pluginStatus="unavailable",this.pluginURL=null}setState(l){this.pluginStatus=l.pluginStatus,this.pluginURL=l.pluginURL}getState(){return{pluginStatus:this.pluginStatus,pluginURL:this.pluginURL}}setMethods(l){this.applyArabicShaping=l.applyArabicShaping,this.processBidirectionalText=l.processBidirectionalText,this.processStyledBidirectionalText=l.processStyledBidirectionalText}isParsed(){return this.applyArabicShaping!=null&&this.processBidirectionalText!=null&&this.processStyledBidirectionalText!=null}getPluginURL(){return this.pluginURL}getRTLTextPluginStatus(){return this.pluginStatus}};class Ln{constructor(s,c){this.zoom=s,c?(this.now=c.now,this.fadeDuration=c.fadeDuration,this.zoomHistory=c.zoomHistory,this.transition=c.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new f1,this.transition={})}isSupportedScript(s){return function(c,d){for(let g of c)if(!KR(g.charCodeAt(0),d))return!1;return!0}(s,Aa.getRTLTextPluginStatus()==="loaded")}crossFadingFactor(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){let s=this.zoom,c=s-Math.floor(s),d=this.crossFadingFactor();return s>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:c+(1-c)*d}:{fromScale:.5,toScale:1,t:1-(1-d)*c}}}class nd{constructor(s,c){this.property=s,this.value=c,this.expression=function(d,g){if(ev(d))return new Yp(d,g);if(nv(d)){let x=J0(d,g);if(x.result==="error")throw new Error(x.value.map(S=>`${S.key}: ${S.message}`).join(", "));return x.value}{let x=d;return g.type==="color"&&typeof d=="string"?x=hn.parse(d):g.type!=="padding"||typeof d!="number"&&!Array.isArray(d)?g.type==="variableAnchorOffsetCollection"&&Array.isArray(d)&&(x=Ha.parse(d)):x=Ia.parse(d),{kind:"constant",evaluate:()=>x}}}(c===void 0?s.specification.default:c,s.specification)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}possiblyEvaluate(s,c,d){return this.property.possiblyEvaluate(this,s,c,d)}}class fv{constructor(s){this.property=s,this.value=new nd(s,void 0)}transitioned(s,c){return new b2(this.property,this.value,c,ue({},s.transition,this.transition),s.now)}untransitioned(){return new b2(this.property,this.value,null,{},0)}}class hv{constructor(s){this._properties=s,this._values=Object.create(s.defaultTransitionablePropertyValues)}getValue(s){return Se(this._values[s].value.value)}setValue(s,c){Object.prototype.hasOwnProperty.call(this._values,s)||(this._values[s]=new fv(this._values[s].property)),this._values[s].value=new nd(this._values[s].property,c===null?void 0:Se(c))}getTransition(s){return Se(this._values[s].transition)}setTransition(s,c){Object.prototype.hasOwnProperty.call(this._values,s)||(this._values[s]=new fv(this._values[s].property)),this._values[s].transition=Se(c)||void 0}serialize(){let s={};for(let c of Object.keys(this._values)){let d=this.getValue(c);d!==void 0&&(s[c]=d);let g=this.getTransition(c);g!==void 0&&(s[`${c}-transition`]=g)}return s}transitioned(s,c){let d=new th(this._properties);for(let g of Object.keys(this._values))d._values[g]=this._values[g].transitioned(s,c._values[g]);return d}untransitioned(){let s=new th(this._properties);for(let c of Object.keys(this._values))s._values[c]=this._values[c].untransitioned();return s}}class b2{constructor(s,c,d,g,x){this.property=s,this.value=c,this.begin=x+g.delay||0,this.end=this.begin+g.duration||0,s.specification.transition&&(g.delay||g.duration)&&(this.prior=d)}possiblyEvaluate(s,c,d){let g=s.now||0,x=this.value.possiblyEvaluate(s,c,d),S=this.prior;if(S){if(g>this.end)return this.prior=null,x;if(this.value.isDataDriven())return this.prior=null,x;if(g<this.begin)return S.possiblyEvaluate(s,c,d);{let E=(g-this.begin)/(this.end-this.begin);return this.property.interpolate(S.possiblyEvaluate(s,c,d),x,function(M){if(M<=0)return 0;if(M>=1)return 1;let R=M*M,k=R*M;return 4*(M<.5?k:3*(M-R)+k-.75)}(E))}}return x}}class th{constructor(s){this._properties=s,this._values=Object.create(s.defaultTransitioningPropertyValues)}possiblyEvaluate(s,c,d){let g=new nh(this._properties);for(let x of Object.keys(this._values))g._values[x]=this._values[x].possiblyEvaluate(s,c,d);return g}hasTransition(){for(let s of Object.keys(this._values))if(this._values[s].prior)return!0;return!1}}class rh{constructor(s){this._properties=s,this._values=Object.create(s.defaultPropertyValues)}hasValue(s){return this._values[s].value!==void 0}getValue(s){return Se(this._values[s].value)}setValue(s,c){this._values[s]=new nd(this._values[s].property,c===null?void 0:Se(c))}serialize(){let s={};for(let c of Object.keys(this._values)){let d=this.getValue(c);d!==void 0&&(s[c]=d)}return s}possiblyEvaluate(s,c,d){let g=new nh(this._properties);for(let x of Object.keys(this._values))g._values[x]=this._values[x].possiblyEvaluate(s,c,d);return g}}class rl{constructor(s,c,d){this.property=s,this.value=c,this.parameters=d}isConstant(){return this.value.kind==="constant"}constantOr(s){return this.value.kind==="constant"?this.value.value:s}evaluate(s,c,d,g){return this.property.evaluate(this.value,this.parameters,s,c,d,g)}}class nh{constructor(s){this._properties=s,this._values=Object.create(s.defaultPossiblyEvaluatedValues)}get(s){return this._values[s]}}class Gt{constructor(s){this.specification=s}possiblyEvaluate(s,c){if(s.isDataDriven())throw new Error("Value should not be data driven");return s.expression.evaluate(c)}interpolate(s,c,d){let g=Ko[this.specification.type];return g?g(s,c,d):s}}class ar{constructor(s,c){this.specification=s,this.overrides=c}possiblyEvaluate(s,c,d,g){return new rl(this,s.expression.kind==="constant"||s.expression.kind==="camera"?{kind:"constant",value:s.expression.evaluate(c,null,{},d,g)}:s.expression,c)}interpolate(s,c,d){if(s.value.kind!=="constant"||c.value.kind!=="constant")return s;if(s.value.value===void 0||c.value.value===void 0)return new rl(this,{kind:"constant",value:void 0},s.parameters);let g=Ko[this.specification.type];if(g){let x=g(s.value.value,c.value.value,d);return new rl(this,{kind:"constant",value:x},s.parameters)}return s}evaluate(s,c,d,g,x,S){return s.kind==="constant"?s.value:s.evaluate(c,d,g,x,S)}}class mv extends ar{possiblyEvaluate(s,c,d,g){if(s.value===void 0)return new rl(this,{kind:"constant",value:void 0},c);if(s.expression.kind==="constant"){let x=s.expression.evaluate(c,null,{},d,g),S=s.property.specification.type==="resolvedImage"&&typeof x!="string"?x.name:x,E=this._calculate(S,S,S,c);return new rl(this,{kind:"constant",value:E},c)}if(s.expression.kind==="camera"){let x=this._calculate(s.expression.evaluate({zoom:c.zoom-1}),s.expression.evaluate({zoom:c.zoom}),s.expression.evaluate({zoom:c.zoom+1}),c);return new rl(this,{kind:"constant",value:x},c)}return new rl(this,s.expression,c)}evaluate(s,c,d,g,x,S){if(s.kind==="source"){let E=s.evaluate(c,d,g,x,S);return this._calculate(E,E,E,c)}return s.kind==="composite"?this._calculate(s.evaluate({zoom:Math.floor(c.zoom)-1},d,g),s.evaluate({zoom:Math.floor(c.zoom)},d,g),s.evaluate({zoom:Math.floor(c.zoom)+1},d,g),c):s.value}_calculate(s,c,d,g){return g.zoom>g.zoomHistory.lastIntegerZoom?{from:s,to:c}:{from:d,to:c}}interpolate(s){return s}}class vv{constructor(s){this.specification=s}possiblyEvaluate(s,c,d,g){if(s.value!==void 0){if(s.expression.kind==="constant"){let x=s.expression.evaluate(c,null,{},d,g);return this._calculate(x,x,x,c)}return this._calculate(s.expression.evaluate(new Ln(Math.floor(c.zoom-1),c)),s.expression.evaluate(new Ln(Math.floor(c.zoom),c)),s.expression.evaluate(new Ln(Math.floor(c.zoom+1),c)),c)}}_calculate(s,c,d,g){return g.zoom>g.zoomHistory.lastIntegerZoom?{from:s,to:c}:{from:d,to:c}}interpolate(s){return s}}class y1{constructor(s){this.specification=s}possiblyEvaluate(s,c,d,g){return!!s.expression.evaluate(c,null,{},d,g)}interpolate(){return!1}}class b{constructor(s){this.properties=s,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(let c in s){let d=s[c];d.specification.overridable&&this.overridableProperties.push(c);let g=this.defaultPropertyValues[c]=new nd(d,void 0),x=this.defaultTransitionablePropertyValues[c]=new fv(d);this.defaultTransitioningPropertyValues[c]=x.untransitioned(),this.defaultPossiblyEvaluatedValues[c]=g.possiblyEvaluate({})}}}jt("DataDrivenProperty",ar),jt("DataConstantProperty",Gt),jt("CrossFadedDataDrivenProperty",mv),jt("CrossFadedProperty",vv),jt("ColorRampProperty",y1);let a="-transition";class p extends Ot{constructor(s,c){if(super(),this.id=s.id,this.type=s.type,this._featureFilter={filter:()=>!0,needGeometry:!1},s.type!=="custom"&&(this.metadata=s.metadata,this.minzoom=s.minzoom,this.maxzoom=s.maxzoom,s.type!=="background"&&(this.source=s.source,this.sourceLayer=s["source-layer"],this.filter=s.filter),c.layout&&(this._unevaluatedLayout=new rh(c.layout)),c.paint)){this._transitionablePaint=new hv(c.paint);for(let d in s.paint)this.setPaintProperty(d,s.paint[d],{validate:!1});for(let d in s.layout)this.setLayoutProperty(d,s.layout[d],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new nh(c.paint)}}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(s){return s==="visibility"?this.visibility:this._unevaluatedLayout.getValue(s)}setLayoutProperty(s,c,d={}){c!=null&&this._validate(v2,`layers.${this.id}.layout.${s}`,s,c,d)||(s!=="visibility"?this._unevaluatedLayout.setValue(s,c):this.visibility=c)}getPaintProperty(s){return s.endsWith(a)?this._transitionablePaint.getTransition(s.slice(0,-11)):this._transitionablePaint.getValue(s)}setPaintProperty(s,c,d={}){if(c!=null&&this._validate(m2,`layers.${this.id}.paint.${s}`,s,c,d))return!1;if(s.endsWith(a))return this._transitionablePaint.setTransition(s.slice(0,-11),c||void 0),!1;{let g=this._transitionablePaint._values[s],x=g.property.specification["property-type"]==="cross-faded-data-driven",S=g.value.isDataDriven(),E=g.value;this._transitionablePaint.setValue(s,c),this._handleSpecialPaintPropertyUpdate(s);let M=this._transitionablePaint._values[s].value;return M.isDataDriven()||S||x||this._handleOverridablePaintPropertyUpdate(s,E,M)}}_handleSpecialPaintPropertyUpdate(s){}_handleOverridablePaintPropertyUpdate(s,c,d){return!1}isHidden(s){return!!(this.minzoom&&s<this.minzoom)||!!(this.maxzoom&&s>=this.maxzoom)||this.visibility==="none"}updateTransitions(s){this._transitioningPaint=this._transitionablePaint.transitioned(s,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(s,c){s.getCrossfadeParameters&&(this._crossfadeParameters=s.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(s,void 0,c)),this.paint=this._transitioningPaint.possiblyEvaluate(s,void 0,c)}serialize(){let s={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(s.layout=s.layout||{},s.layout.visibility=this.visibility),Ne(s,(c,d)=>!(c===void 0||d==="layout"&&!Object.keys(c).length||d==="paint"&&!Object.keys(c).length))}_validate(s,c,d,g,x={}){return(!x||x.validate!==!1)&&p1(this,s.call(Pc,{key:c,layerType:this.type,objectKey:d,value:g,styleSpec:xe,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(let s in this.paint._values){let c=this.paint.get(s);if(c instanceof rl&&Hp(c.property.specification)&&(c.value.kind==="source"||c.value.kind==="composite")&&c.value.isStateDependent)return!0}return!1}}let m={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class v{constructor(s,c){this._structArray=s,this._pos1=c*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class _{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(s,c){return s._trim(),c&&(s.isTransferred=!0,c.push(s.arrayBuffer)),{length:s.length,arrayBuffer:s.arrayBuffer}}static deserialize(s){let c=Object.create(this.prototype);return c.arrayBuffer=s.arrayBuffer,c.length=s.length,c.capacity=s.arrayBuffer.byteLength/c.bytesPerElement,c._refreshViews(),c}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(s){this.reserve(s),this.length=s}reserve(s){if(s>this.capacity){this.capacity=Math.max(s,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);let c=this.uint8;this._refreshViews(),c&&this.uint8.set(c)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function C(l,s=1){let c=0,d=0;return{members:l.map(g=>{let x=m[g.type].BYTES_PER_ELEMENT,S=c=P(c,Math.max(s,x)),E=g.components||1;return d=Math.max(d,x),c+=x*E,{name:g.name,type:g.type,components:E,offset:S}}),size:P(c,Math.max(d,s)),alignment:s}}function P(l,s){return Math.ceil(l/s)*s}class O extends _{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(s,c){let d=this.length;return this.resize(d+1),this.emplace(d,s,c)}emplace(s,c,d){let g=2*s;return this.int16[g+0]=c,this.int16[g+1]=d,s}}O.prototype.bytesPerElement=4,jt("StructArrayLayout2i4",O);class D extends _{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(s,c,d){let g=this.length;return this.resize(g+1),this.emplace(g,s,c,d)}emplace(s,c,d,g){let x=3*s;return this.int16[x+0]=c,this.int16[x+1]=d,this.int16[x+2]=g,s}}D.prototype.bytesPerElement=6,jt("StructArrayLayout3i6",D);class V extends _{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(s,c,d,g){let x=this.length;return this.resize(x+1),this.emplace(x,s,c,d,g)}emplace(s,c,d,g,x){let S=4*s;return this.int16[S+0]=c,this.int16[S+1]=d,this.int16[S+2]=g,this.int16[S+3]=x,s}}V.prototype.bytesPerElement=8,jt("StructArrayLayout4i8",V);class U extends _{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(s,c,d,g,x,S){let E=this.length;return this.resize(E+1),this.emplace(E,s,c,d,g,x,S)}emplace(s,c,d,g,x,S,E){let M=6*s;return this.int16[M+0]=c,this.int16[M+1]=d,this.int16[M+2]=g,this.int16[M+3]=x,this.int16[M+4]=S,this.int16[M+5]=E,s}}U.prototype.bytesPerElement=12,jt("StructArrayLayout2i4i12",U);class Y extends _{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(s,c,d,g,x,S){let E=this.length;return this.resize(E+1),this.emplace(E,s,c,d,g,x,S)}emplace(s,c,d,g,x,S,E){let M=4*s,R=8*s;return this.int16[M+0]=c,this.int16[M+1]=d,this.uint8[R+4]=g,this.uint8[R+5]=x,this.uint8[R+6]=S,this.uint8[R+7]=E,s}}Y.prototype.bytesPerElement=8,jt("StructArrayLayout2i4ub8",Y);class ee extends _{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(s,c){let d=this.length;return this.resize(d+1),this.emplace(d,s,c)}emplace(s,c,d){let g=2*s;return this.float32[g+0]=c,this.float32[g+1]=d,s}}ee.prototype.bytesPerElement=8,jt("StructArrayLayout2f8",ee);class oe extends _{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(s,c,d,g,x,S,E,M,R,k){let j=this.length;return this.resize(j+1),this.emplace(j,s,c,d,g,x,S,E,M,R,k)}emplace(s,c,d,g,x,S,E,M,R,k,j){let G=10*s;return this.uint16[G+0]=c,this.uint16[G+1]=d,this.uint16[G+2]=g,this.uint16[G+3]=x,this.uint16[G+4]=S,this.uint16[G+5]=E,this.uint16[G+6]=M,this.uint16[G+7]=R,this.uint16[G+8]=k,this.uint16[G+9]=j,s}}oe.prototype.bytesPerElement=20,jt("StructArrayLayout10ui20",oe);class le extends _{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(s,c,d,g,x,S,E,M,R,k,j,G){let W=this.length;return this.resize(W+1),this.emplace(W,s,c,d,g,x,S,E,M,R,k,j,G)}emplace(s,c,d,g,x,S,E,M,R,k,j,G,W){let X=12*s;return this.int16[X+0]=c,this.int16[X+1]=d,this.int16[X+2]=g,this.int16[X+3]=x,this.uint16[X+4]=S,this.uint16[X+5]=E,this.uint16[X+6]=M,this.uint16[X+7]=R,this.int16[X+8]=k,this.int16[X+9]=j,this.int16[X+10]=G,this.int16[X+11]=W,s}}le.prototype.bytesPerElement=24,jt("StructArrayLayout4i4ui4i24",le);class de extends _{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(s,c,d){let g=this.length;return this.resize(g+1),this.emplace(g,s,c,d)}emplace(s,c,d,g){let x=3*s;return this.float32[x+0]=c,this.float32[x+1]=d,this.float32[x+2]=g,s}}de.prototype.bytesPerElement=12,jt("StructArrayLayout3f12",de);class me extends _{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(s){let c=this.length;return this.resize(c+1),this.emplace(c,s)}emplace(s,c){return this.uint32[1*s+0]=c,s}}me.prototype.bytesPerElement=4,jt("StructArrayLayout1ul4",me);class ge extends _{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(s,c,d,g,x,S,E,M,R){let k=this.length;return this.resize(k+1),this.emplace(k,s,c,d,g,x,S,E,M,R)}emplace(s,c,d,g,x,S,E,M,R,k){let j=10*s,G=5*s;return this.int16[j+0]=c,this.int16[j+1]=d,this.int16[j+2]=g,this.int16[j+3]=x,this.int16[j+4]=S,this.int16[j+5]=E,this.uint32[G+3]=M,this.uint16[j+8]=R,this.uint16[j+9]=k,s}}ge.prototype.bytesPerElement=20,jt("StructArrayLayout6i1ul2ui20",ge);class ae extends _{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(s,c,d,g,x,S){let E=this.length;return this.resize(E+1),this.emplace(E,s,c,d,g,x,S)}emplace(s,c,d,g,x,S,E){let M=6*s;return this.int16[M+0]=c,this.int16[M+1]=d,this.int16[M+2]=g,this.int16[M+3]=x,this.int16[M+4]=S,this.int16[M+5]=E,s}}ae.prototype.bytesPerElement=12,jt("StructArrayLayout2i2i2i12",ae);class Ie extends _{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(s,c,d,g,x){let S=this.length;return this.resize(S+1),this.emplace(S,s,c,d,g,x)}emplace(s,c,d,g,x,S){let E=4*s,M=8*s;return this.float32[E+0]=c,this.float32[E+1]=d,this.float32[E+2]=g,this.int16[M+6]=x,this.int16[M+7]=S,s}}Ie.prototype.bytesPerElement=16,jt("StructArrayLayout2f1f2i16",Ie);class Ae extends _{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(s,c,d,g,x,S){let E=this.length;return this.resize(E+1),this.emplace(E,s,c,d,g,x,S)}emplace(s,c,d,g,x,S,E){let M=16*s,R=4*s,k=8*s;return this.uint8[M+0]=c,this.uint8[M+1]=d,this.float32[R+1]=g,this.float32[R+2]=x,this.int16[k+6]=S,this.int16[k+7]=E,s}}Ae.prototype.bytesPerElement=16,jt("StructArrayLayout2ub2f2i16",Ae);class qe extends _{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(s,c,d){let g=this.length;return this.resize(g+1),this.emplace(g,s,c,d)}emplace(s,c,d,g){let x=3*s;return this.uint16[x+0]=c,this.uint16[x+1]=d,this.uint16[x+2]=g,s}}qe.prototype.bytesPerElement=6,jt("StructArrayLayout3ui6",qe);class Je extends _{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(s,c,d,g,x,S,E,M,R,k,j,G,W,X,Q,se,pe){let Oe=this.length;return this.resize(Oe+1),this.emplace(Oe,s,c,d,g,x,S,E,M,R,k,j,G,W,X,Q,se,pe)}emplace(s,c,d,g,x,S,E,M,R,k,j,G,W,X,Q,se,pe,Oe){let _e=24*s,Me=12*s,Ue=48*s;return this.int16[_e+0]=c,this.int16[_e+1]=d,this.uint16[_e+2]=g,this.uint16[_e+3]=x,this.uint32[Me+2]=S,this.uint32[Me+3]=E,this.uint32[Me+4]=M,this.uint16[_e+10]=R,this.uint16[_e+11]=k,this.uint16[_e+12]=j,this.float32[Me+7]=G,this.float32[Me+8]=W,this.uint8[Ue+36]=X,this.uint8[Ue+37]=Q,this.uint8[Ue+38]=se,this.uint32[Me+10]=pe,this.int16[_e+22]=Oe,s}}Je.prototype.bytesPerElement=48,jt("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",Je);class ct extends _{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(s,c,d,g,x,S,E,M,R,k,j,G,W,X,Q,se,pe,Oe,_e,Me,Ue,at,kt,nr,qt,Tt,Yt,Vt){let Ft=this.length;return this.resize(Ft+1),this.emplace(Ft,s,c,d,g,x,S,E,M,R,k,j,G,W,X,Q,se,pe,Oe,_e,Me,Ue,at,kt,nr,qt,Tt,Yt,Vt)}emplace(s,c,d,g,x,S,E,M,R,k,j,G,W,X,Q,se,pe,Oe,_e,Me,Ue,at,kt,nr,qt,Tt,Yt,Vt,Ft){let Ze=32*s,Jt=16*s;return this.int16[Ze+0]=c,this.int16[Ze+1]=d,this.int16[Ze+2]=g,this.int16[Ze+3]=x,this.int16[Ze+4]=S,this.int16[Ze+5]=E,this.int16[Ze+6]=M,this.int16[Ze+7]=R,this.uint16[Ze+8]=k,this.uint16[Ze+9]=j,this.uint16[Ze+10]=G,this.uint16[Ze+11]=W,this.uint16[Ze+12]=X,this.uint16[Ze+13]=Q,this.uint16[Ze+14]=se,this.uint16[Ze+15]=pe,this.uint16[Ze+16]=Oe,this.uint16[Ze+17]=_e,this.uint16[Ze+18]=Me,this.uint16[Ze+19]=Ue,this.uint16[Ze+20]=at,this.uint16[Ze+21]=kt,this.uint16[Ze+22]=nr,this.uint32[Jt+12]=qt,this.float32[Jt+13]=Tt,this.float32[Jt+14]=Yt,this.uint16[Ze+30]=Vt,this.uint16[Ze+31]=Ft,s}}ct.prototype.bytesPerElement=64,jt("StructArrayLayout8i15ui1ul2f2ui64",ct);class Ct extends _{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(s){let c=this.length;return this.resize(c+1),this.emplace(c,s)}emplace(s,c){return this.float32[1*s+0]=c,s}}Ct.prototype.bytesPerElement=4,jt("StructArrayLayout1f4",Ct);class Lt extends _{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(s,c,d){let g=this.length;return this.resize(g+1),this.emplace(g,s,c,d)}emplace(s,c,d,g){let x=3*s;return this.uint16[6*s+0]=c,this.float32[x+1]=d,this.float32[x+2]=g,s}}Lt.prototype.bytesPerElement=12,jt("StructArrayLayout1ui2f12",Lt);class xt extends _{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(s,c,d){let g=this.length;return this.resize(g+1),this.emplace(g,s,c,d)}emplace(s,c,d,g){let x=4*s;return this.uint32[2*s+0]=c,this.uint16[x+2]=d,this.uint16[x+3]=g,s}}xt.prototype.bytesPerElement=8,jt("StructArrayLayout1ul2ui8",xt);class _t extends _{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(s,c){let d=this.length;return this.resize(d+1),this.emplace(d,s,c)}emplace(s,c,d){let g=2*s;return this.uint16[g+0]=c,this.uint16[g+1]=d,s}}_t.prototype.bytesPerElement=4,jt("StructArrayLayout2ui4",_t);class Wt extends _{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(s){let c=this.length;return this.resize(c+1),this.emplace(c,s)}emplace(s,c){return this.uint16[1*s+0]=c,s}}Wt.prototype.bytesPerElement=2,jt("StructArrayLayout1ui2",Wt);class mr extends _{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(s,c,d,g){let x=this.length;return this.resize(x+1),this.emplace(x,s,c,d,g)}emplace(s,c,d,g,x){let S=4*s;return this.float32[S+0]=c,this.float32[S+1]=d,this.float32[S+2]=g,this.float32[S+3]=x,s}}mr.prototype.bytesPerElement=16,jt("StructArrayLayout4f16",mr);class It extends v{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.int16[this._pos2+2]}get y1(){return this._structArray.int16[this._pos2+3]}get x2(){return this._structArray.int16[this._pos2+4]}get y2(){return this._structArray.int16[this._pos2+5]}get featureIndex(){return this._structArray.uint32[this._pos4+3]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+8]}get bucketIndex(){return this._structArray.uint16[this._pos2+9]}get anchorPoint(){return new y(this.anchorPointX,this.anchorPointY)}}It.prototype.size=20;class Nt extends ge{get(s){return new It(this,s)}}jt("CollisionBoxArray",Nt);class fr extends v{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+2]}get numGlyphs(){return this._structArray.uint16[this._pos2+3]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+2]}get lineStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineLength(){return this._structArray.uint32[this._pos4+4]}get segment(){return this._structArray.uint16[this._pos2+10]}get lowerSize(){return this._structArray.uint16[this._pos2+11]}get upperSize(){return this._structArray.uint16[this._pos2+12]}get lineOffsetX(){return this._structArray.float32[this._pos4+7]}get lineOffsetY(){return this._structArray.float32[this._pos4+8]}get writingMode(){return this._structArray.uint8[this._pos1+36]}get placedOrientation(){return this._structArray.uint8[this._pos1+37]}set placedOrientation(s){this._structArray.uint8[this._pos1+37]=s}get hidden(){return this._structArray.uint8[this._pos1+38]}set hidden(s){this._structArray.uint8[this._pos1+38]=s}get crossTileID(){return this._structArray.uint32[this._pos4+10]}set crossTileID(s){this._structArray.uint32[this._pos4+10]=s}get associatedIconIndex(){return this._structArray.int16[this._pos2+22]}}fr.prototype.size=48;class zn extends Je{get(s){return new fr(this,s)}}jt("PlacedSymbolArray",zn);class Tr extends v{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+2]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+3]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+7]}get key(){return this._structArray.uint16[this._pos2+8]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+9]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+10]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get featureIndex(){return this._structArray.uint16[this._pos2+17]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+18]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+19]}get numIconVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+21]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+22]}get crossTileID(){return this._structArray.uint32[this._pos4+12]}set crossTileID(s){this._structArray.uint32[this._pos4+12]=s}get textBoxScale(){return this._structArray.float32[this._pos4+13]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+14]}get textAnchorOffsetStartIndex(){return this._structArray.uint16[this._pos2+30]}get textAnchorOffsetEndIndex(){return this._structArray.uint16[this._pos2+31]}}Tr.prototype.size=64;class Br extends ct{get(s){return new Tr(this,s)}}jt("SymbolInstanceArray",Br);class Fn extends Ct{getoffsetX(s){return this.float32[1*s+0]}}jt("GlyphOffsetArray",Fn);class oo extends D{getx(s){return this.int16[3*s+0]}gety(s){return this.int16[3*s+1]}gettileUnitDistanceFromAnchor(s){return this.int16[3*s+2]}}jt("SymbolLineVertexArray",oo);class Ms extends v{get textAnchor(){return this._structArray.uint16[this._pos2+0]}get textOffset0(){return this._structArray.float32[this._pos4+1]}get textOffset1(){return this._structArray.float32[this._pos4+2]}}Ms.prototype.size=12;class jn extends Lt{get(s){return new Ms(this,s)}}jt("TextAnchorOffsetArray",jn);class Xo extends v{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}}Xo.prototype.size=8;class So extends xt{get(s){return new Xo(this,s)}}jt("FeatureIndexArray",So);class ao extends O{}class Io extends O{}class nl extends O{}class id extends U{}class gv extends Y{}class od extends ee{}class Ka extends oe{}class yv extends le{}class _1 extends de{}class Ya extends me{}class Xa extends ae{}class xu extends Ae{}class Ps extends qe{}class Ki extends _t{}let so=C([{name:"a_pos",components:2,type:"Int16"}],4),{members:Ca}=so;class Gr{constructor(s=[]){this.segments=s}prepareSegment(s,c,d,g){let x=this.segments[this.segments.length-1];return s>Gr.MAX_VERTEX_ARRAY_LENGTH&&He(`Max vertices per segment is ${Gr.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${s}`),(!x||x.vertexLength+s>Gr.MAX_VERTEX_ARRAY_LENGTH||x.sortKey!==g)&&(x={vertexOffset:c.length,primitiveOffset:d.length,vertexLength:0,primitiveLength:0},g!==void 0&&(x.sortKey=g),this.segments.push(x)),x}get(){return this.segments}destroy(){for(let s of this.segments)for(let c in s.vaos)s.vaos[c].destroy()}static simpleSegment(s,c,d,g){return new Gr([{vertexOffset:s,primitiveOffset:c,vertexLength:d,primitiveLength:g,vaos:{},sortKey:0}])}}function Oc(l,s){return 256*(l=Z(Math.floor(l),0,255))+Z(Math.floor(s),0,255)}Gr.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,jt("SegmentVector",Gr);let ad=C([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]);var sd={exports:{}},x2={exports:{}};x2.exports=function(l,s){var c,d,g,x,S,E,M,R;for(d=l.length-(c=3&l.length),g=s,S=3432918353,E=461845907,R=0;R<d;)M=255&l.charCodeAt(R)|(255&l.charCodeAt(++R))<<8|(255&l.charCodeAt(++R))<<16|(255&l.charCodeAt(++R))<<24,++R,g=27492+(65535&(x=5*(65535&(g=(g^=M=(65535&(M=(M=(65535&M)*S+(((M>>>16)*S&65535)<<16)&4294967295)<<15|M>>>17))*E+(((M>>>16)*E&65535)<<16)&4294967295)<<13|g>>>19))+((5*(g>>>16)&65535)<<16)&4294967295))+((58964+(x>>>16)&65535)<<16);switch(M=0,c){case 3:M^=(255&l.charCodeAt(R+2))<<16;case 2:M^=(255&l.charCodeAt(R+1))<<8;case 1:g^=M=(65535&(M=(M=(65535&(M^=255&l.charCodeAt(R)))*S+(((M>>>16)*S&65535)<<16)&4294967295)<<15|M>>>17))*E+(((M>>>16)*E&65535)<<16)&4294967295;}return g^=l.length,g=2246822507*(65535&(g^=g>>>16))+((2246822507*(g>>>16)&65535)<<16)&4294967295,g=3266489909*(65535&(g^=g>>>13))+((3266489909*(g>>>16)&65535)<<16)&4294967295,(g^=g>>>16)>>>0};var XR=x2.exports,w2={exports:{}};w2.exports=function(l,s){for(var c,d=l.length,g=s^d,x=0;d>=4;)c=1540483477*(65535&(c=255&l.charCodeAt(x)|(255&l.charCodeAt(++x))<<8|(255&l.charCodeAt(++x))<<16|(255&l.charCodeAt(++x))<<24))+((1540483477*(c>>>16)&65535)<<16),g=1540483477*(65535&g)+((1540483477*(g>>>16)&65535)<<16)^(c=1540483477*(65535&(c^=c>>>24))+((1540483477*(c>>>16)&65535)<<16)),d-=4,++x;switch(d){case 3:g^=(255&l.charCodeAt(x+2))<<16;case 2:g^=(255&l.charCodeAt(x+1))<<8;case 1:g=1540483477*(65535&(g^=255&l.charCodeAt(x)))+((1540483477*(g>>>16)&65535)<<16);}return g=1540483477*(65535&(g^=g>>>13))+((1540483477*(g>>>16)&65535)<<16),(g^=g>>>15)>>>0};var wu=XR,S2=w2.exports;sd.exports=wu,sd.exports.murmur3=wu,sd.exports.murmur2=S2;var _v=u(sd.exports);class ih{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(s,c,d,g){this.ids.push(bv(s)),this.positions.push(c,d,g)}getPositions(s){if(!this.indexed)throw new Error("Trying to get index, but feature positions are not indexed");let c=bv(s),d=0,g=this.ids.length-1;for(;d<g;){let S=d+g>>1;this.ids[S]>=c?g=S:d=S+1}let x=[];for(;this.ids[d]===c;)x.push({index:this.positions[3*d],start:this.positions[3*d+1],end:this.positions[3*d+2]}),d++;return x}static serialize(s,c){let d=new Float64Array(s.ids),g=new Uint32Array(s.positions);return xv(d,g,0,d.length-1),c&&c.push(d.buffer,g.buffer),{ids:d,positions:g}}static deserialize(s){let c=new ih;return c.ids=s.ids,c.positions=s.positions,c.indexed=!0,c}}function bv(l){let s=+l;return!isNaN(s)&&s<=Number.MAX_SAFE_INTEGER?s:_v(String(l))}function xv(l,s,c,d){for(;c<d;){let g=l[c+d>>1],x=c-1,S=d+1;for(;;){do x++;while(l[x]<g);do S--;while(l[S]>g);if(x>=S)break;ld(l,x,S),ld(s,3*x,3*S),ld(s,3*x+1,3*S+1),ld(s,3*x+2,3*S+2)}S-c<d-S?(xv(l,s,c,S),c=S+1):(xv(l,s,S+1,d),d=S)}}function ld(l,s,c){let d=l[s];l[s]=l[c],l[c]=d}jt("FeaturePositionMap",ih);class oh{constructor(s,c){this.gl=s.gl,this.location=c}}class I2 extends oh{constructor(s,c){super(s,c),this.current=0}set(s){this.current!==s&&(this.current=s,this.gl.uniform1f(this.location,s))}}class eG extends oh{constructor(s,c){super(s,c),this.current=[0,0,0,0]}set(s){s[0]===this.current[0]&&s[1]===this.current[1]&&s[2]===this.current[2]&&s[3]===this.current[3]||(this.current=s,this.gl.uniform4f(this.location,s[0],s[1],s[2],s[3]))}}class tG extends oh{constructor(s,c){super(s,c),this.current=hn.transparent}set(s){s.r===this.current.r&&s.g===this.current.g&&s.b===this.current.b&&s.a===this.current.a||(this.current=s,this.gl.uniform4f(this.location,s.r,s.g,s.b,s.a))}}let fze=new Float32Array(16);function JR(l){return[Oc(255*l.r,255*l.g),Oc(255*l.b,255*l.a)]}class b1{constructor(s,c,d){this.value=s,this.uniformNames=c.map(g=>`u_${g}`),this.type=d}setUniform(s,c,d){s.set(d.constantOr(this.value))}getBinding(s,c,d){return this.type==="color"?new tG(s,c):new I2(s,c)}}class wv{constructor(s,c){this.uniformNames=c.map(d=>`u_${d}`),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(s,c){this.pixelRatioFrom=c.pixelRatio,this.pixelRatioTo=s.pixelRatio,this.patternFrom=c.tlbr,this.patternTo=s.tlbr}setUniform(s,c,d,g){let x=g==="u_pattern_to"?this.patternTo:g==="u_pattern_from"?this.patternFrom:g==="u_pixel_ratio_to"?this.pixelRatioTo:g==="u_pixel_ratio_from"?this.pixelRatioFrom:null;x&&s.set(x)}getBinding(s,c,d){return d.substr(0,9)==="u_pattern"?new eG(s,c):new I2(s,c)}}class Rc{constructor(s,c,d,g){this.expression=s,this.type=d,this.maxValue=0,this.paintVertexAttributes=c.map(x=>({name:`a_${x}`,type:"Float32",components:d==="color"?2:1,offset:0})),this.paintVertexArray=new g}populatePaintArray(s,c,d,g,x){let S=this.paintVertexArray.length,E=this.expression.evaluate(new Ln(0),c,{},g,[],x);this.paintVertexArray.resize(s),this._setPaintValue(S,s,E)}updatePaintArray(s,c,d,g){let x=this.expression.evaluate({zoom:0},d,g);this._setPaintValue(s,c,x)}_setPaintValue(s,c,d){if(this.type==="color"){let g=JR(d);for(let x=s;x<c;x++)this.paintVertexArray.emplace(x,g[0],g[1])}else{for(let g=s;g<c;g++)this.paintVertexArray.emplace(g,d);this.maxValue=Math.max(this.maxValue,Math.abs(d))}}upload(s){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=s.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class Gl{constructor(s,c,d,g,x,S){this.expression=s,this.uniformNames=c.map(E=>`u_${E}_t`),this.type=d,this.useIntegerZoom=g,this.zoom=x,this.maxValue=0,this.paintVertexAttributes=c.map(E=>({name:`a_${E}`,type:"Float32",components:d==="color"?4:2,offset:0})),this.paintVertexArray=new S}populatePaintArray(s,c,d,g,x){let S=this.expression.evaluate(new Ln(this.zoom),c,{},g,[],x),E=this.expression.evaluate(new Ln(this.zoom+1),c,{},g,[],x),M=this.paintVertexArray.length;this.paintVertexArray.resize(s),this._setPaintValue(M,s,S,E)}updatePaintArray(s,c,d,g){let x=this.expression.evaluate({zoom:this.zoom},d,g),S=this.expression.evaluate({zoom:this.zoom+1},d,g);this._setPaintValue(s,c,x,S)}_setPaintValue(s,c,d,g){if(this.type==="color"){let x=JR(d),S=JR(g);for(let E=s;E<c;E++)this.paintVertexArray.emplace(E,x[0],x[1],S[0],S[1])}else{for(let x=s;x<c;x++)this.paintVertexArray.emplace(x,d,g);this.maxValue=Math.max(this.maxValue,Math.abs(d),Math.abs(g))}}upload(s){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=s.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(s,c){let d=this.useIntegerZoom?Math.floor(c.zoom):c.zoom,g=Z(this.expression.interpolationFactor(d,this.zoom,this.zoom+1),0,1);s.set(g)}getBinding(s,c,d){return new I2(s,c)}}class ud{constructor(s,c,d,g,x,S){this.expression=s,this.type=c,this.useIntegerZoom=d,this.zoom=g,this.layerId=S,this.zoomInPaintVertexArray=new x,this.zoomOutPaintVertexArray=new x}populatePaintArray(s,c,d){let g=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(s),this.zoomOutPaintVertexArray.resize(s),this._setPaintValues(g,s,c.patterns&&c.patterns[this.layerId],d)}updatePaintArray(s,c,d,g,x){this._setPaintValues(s,c,d.patterns&&d.patterns[this.layerId],x)}_setPaintValues(s,c,d,g){if(!g||!d)return;let{min:x,mid:S,max:E}=d,M=g[x],R=g[S],k=g[E];if(M&&R&&k)for(let j=s;j<c;j++)this.zoomInPaintVertexArray.emplace(j,R.tl[0],R.tl[1],R.br[0],R.br[1],M.tl[0],M.tl[1],M.br[0],M.br[1],R.pixelRatio,M.pixelRatio),this.zoomOutPaintVertexArray.emplace(j,R.tl[0],R.tl[1],R.br[0],R.br[1],k.tl[0],k.tl[1],k.br[0],k.br[1],R.pixelRatio,k.pixelRatio)}upload(s){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=s.createVertexBuffer(this.zoomInPaintVertexArray,ad.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=s.createVertexBuffer(this.zoomOutPaintVertexArray,ad.members,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class rG{constructor(s,c,d){this.binders={},this._buffers=[];let g=[];for(let x in s.paint._values){if(!d(x))continue;let S=s.paint.get(x);if(!(S instanceof rl&&Hp(S.property.specification)))continue;let E=hze(x,s.type),M=S.value,R=S.property.specification.type,k=S.property.useIntegerZoom,j=S.property.specification["property-type"],G=j==="cross-faded"||j==="cross-faded-data-driven";if(M.kind==="constant")this.binders[x]=G?new wv(M.value,E):new b1(M.value,E,R),g.push(`/u_${x}`);else if(M.kind==="source"||G){let W=nG(x,R,"source");this.binders[x]=G?new ud(M,R,k,c,W,s.id):new Rc(M,E,R,W),g.push(`/a_${x}`)}else{let W=nG(x,R,"composite");this.binders[x]=new Gl(M,E,R,k,c,W),g.push(`/z_${x}`)}}this.cacheKey=g.sort().join("")}getMaxValue(s){let c=this.binders[s];return c instanceof Rc||c instanceof Gl?c.maxValue:0}populatePaintArrays(s,c,d,g,x){for(let S in this.binders){let E=this.binders[S];(E instanceof Rc||E instanceof Gl||E instanceof ud)&&E.populatePaintArray(s,c,d,g,x)}}setConstantPatternPositions(s,c){for(let d in this.binders){let g=this.binders[d];g instanceof wv&&g.setConstantPatternPositions(s,c)}}updatePaintArrays(s,c,d,g,x){let S=!1;for(let E in s){let M=c.getPositions(E);for(let R of M){let k=d.feature(R.index);for(let j in this.binders){let G=this.binders[j];if((G instanceof Rc||G instanceof Gl||G instanceof ud)&&G.expression.isStateDependent===!0){let W=g.paint.get(j);G.expression=W.value,G.updatePaintArray(R.start,R.end,k,s[E],x),S=!0}}}}return S}defines(){let s=[];for(let c in this.binders){let d=this.binders[c];(d instanceof b1||d instanceof wv)&&s.push(...d.uniformNames.map(g=>`#define HAS_UNIFORM_${g}`))}return s}getBinderAttributes(){let s=[];for(let c in this.binders){let d=this.binders[c];if(d instanceof Rc||d instanceof Gl)for(let g=0;g<d.paintVertexAttributes.length;g++)s.push(d.paintVertexAttributes[g].name);else if(d instanceof ud)for(let g=0;g<ad.members.length;g++)s.push(ad.members[g].name)}return s}getBinderUniforms(){let s=[];for(let c in this.binders){let d=this.binders[c];if(d instanceof b1||d instanceof wv||d instanceof Gl)for(let g of d.uniformNames)s.push(g)}return s}getPaintVertexBuffers(){return this._buffers}getUniforms(s,c){let d=[];for(let g in this.binders){let x=this.binders[g];if(x instanceof b1||x instanceof wv||x instanceof Gl){for(let S of x.uniformNames)if(c[S]){let E=x.getBinding(s,c[S],S);d.push({name:S,property:g,binding:E})}}}return d}setUniforms(s,c,d,g){for(let{name:x,property:S,binding:E}of c)this.binders[S].setUniform(E,g,d.get(S),x)}updatePaintBuffers(s){this._buffers=[];for(let c in this.binders){let d=this.binders[c];if(s&&d instanceof ud){let g=s.fromScale===2?d.zoomInPaintVertexBuffer:d.zoomOutPaintVertexBuffer;g&&this._buffers.push(g)}else(d instanceof Rc||d instanceof Gl)&&d.paintVertexBuffer&&this._buffers.push(d.paintVertexBuffer)}}upload(s){for(let c in this.binders){let d=this.binders[c];(d instanceof Rc||d instanceof Gl||d instanceof ud)&&d.upload(s)}this.updatePaintBuffers()}destroy(){for(let s in this.binders){let c=this.binders[s];(c instanceof Rc||c instanceof Gl||c instanceof ud)&&c.destroy()}}}class ah{constructor(s,c,d=()=>!0){this.programConfigurations={};for(let g of s)this.programConfigurations[g.id]=new rG(g,c,d);this.needsUpload=!1,this._featureMap=new ih,this._bufferOffset=0}populatePaintArrays(s,c,d,g,x,S){for(let E in this.programConfigurations)this.programConfigurations[E].populatePaintArrays(s,c,g,x,S);c.id!==void 0&&this._featureMap.add(c.id,d,this._bufferOffset,s),this._bufferOffset=s,this.needsUpload=!0}updatePaintArrays(s,c,d,g){for(let x of d)this.needsUpload=this.programConfigurations[x.id].updatePaintArrays(s,this._featureMap,c,x,g)||this.needsUpload}get(s){return this.programConfigurations[s]}upload(s){if(this.needsUpload){for(let c in this.programConfigurations)this.programConfigurations[c].upload(s);this.needsUpload=!1}}destroy(){for(let s in this.programConfigurations)this.programConfigurations[s].destroy()}}function hze(l,s){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[l]||[l.replace(`${s}-`,"").replace(/-/g,"_")]}function nG(l,s,c){let d={color:{source:ee,composite:mr},number:{source:Ct,composite:ee}},g=function(x){return{"line-pattern":{source:Ka,composite:Ka},"fill-pattern":{source:Ka,composite:Ka},"fill-extrusion-pattern":{source:Ka,composite:Ka}}[x]}(l);return g&&g[c]||d[s][c]}jt("ConstantBinder",b1),jt("CrossFadedConstantBinder",wv),jt("SourceExpressionBinder",Rc),jt("CrossFadedCompositeBinder",ud),jt("CompositeExpressionBinder",Gl),jt("ProgramConfiguration",rG,{omit:["_buffers"]}),jt("ProgramConfigurationSet",ah);let Si=8192,QR=Math.pow(2,14)-1,iG=-QR-1;function sh(l){let s=Si/l.extent,c=l.loadGeometry();for(let d=0;d<c.length;d++){let g=c[d];for(let x=0;x<g.length;x++){let S=g[x],E=Math.round(S.x*s),M=Math.round(S.y*s);S.x=Z(E,iG,QR),S.y=Z(M,iG,QR),(E<S.x||E>S.x+1||M<S.y||M>S.y+1)&&He("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return c}function lh(l,s){return{type:l.type,id:l.id,properties:l.properties,geometry:s?sh(l):[]}}function E2(l,s,c,d,g){l.emplaceBack(2*s+(d+1)/2,2*c+(g+1)/2)}class eq{constructor(s){this.zoom=s.zoom,this.overscaling=s.overscaling,this.layers=s.layers,this.layerIds=this.layers.map(c=>c.id),this.index=s.index,this.hasPattern=!1,this.layoutVertexArray=new Io,this.indexArray=new Ps,this.segments=new Gr,this.programConfigurations=new ah(s.layers,s.zoom),this.stateDependentLayerIds=this.layers.filter(c=>c.isStateDependent()).map(c=>c.id)}populate(s,c,d){let g=this.layers[0],x=[],S=null,E=!1;g.type==="circle"&&(S=g.layout.get("circle-sort-key"),E=!S.isConstant());for(let{feature:M,id:R,index:k,sourceLayerIndex:j}of s){let G=this.layers[0]._featureFilter.needGeometry,W=lh(M,G);if(!this.layers[0]._featureFilter.filter(new Ln(this.zoom),W,d))continue;let X=E?S.evaluate(W,{},d):void 0,Q={id:R,properties:M.properties,type:M.type,sourceLayerIndex:j,index:k,geometry:G?W.geometry:sh(M),patterns:{},sortKey:X};x.push(Q)}E&&x.sort((M,R)=>M.sortKey-R.sortKey);for(let M of x){let{geometry:R,index:k,sourceLayerIndex:j}=M,G=s[k].feature;this.addFeature(M,R,k,d),c.featureIndex.insert(G,R,k,j,this.index)}}update(s,c,d){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(s,c,this.stateDependentLayers,d)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(s){this.uploaded||(this.layoutVertexBuffer=s.createVertexBuffer(this.layoutVertexArray,Ca),this.indexBuffer=s.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(s),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(s,c,d,g){for(let x of c)for(let S of x){let E=S.x,M=S.y;if(E<0||E>=Si||M<0||M>=Si)continue;let R=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,s.sortKey),k=R.vertexLength;E2(this.layoutVertexArray,E,M,-1,-1),E2(this.layoutVertexArray,E,M,1,-1),E2(this.layoutVertexArray,E,M,1,1),E2(this.layoutVertexArray,E,M,-1,1),this.indexArray.emplaceBack(k,k+1,k+2),this.indexArray.emplaceBack(k,k+3,k+2),R.vertexLength+=4,R.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,s,d,{},g)}}function oG(l,s){for(let c=0;c<l.length;c++)if(Sv(s,l[c]))return!0;for(let c=0;c<s.length;c++)if(Sv(l,s[c]))return!0;return!!tq(l,s)}function mze(l,s,c){return!!Sv(l,s)||!!rq(s,l,c)}function aG(l,s){if(l.length===1)return lG(s,l[0]);for(let c=0;c<s.length;c++){let d=s[c];for(let g=0;g<d.length;g++)if(Sv(l,d[g]))return!0}for(let c=0;c<l.length;c++)if(lG(s,l[c]))return!0;for(let c=0;c<s.length;c++)if(tq(l,s[c]))return!0;return!1}function vze(l,s,c){if(l.length>1){if(tq(l,s))return!0;for(let d=0;d<s.length;d++)if(rq(s[d],l,c))return!0}for(let d=0;d<l.length;d++)if(rq(l[d],s,c))return!0;return!1}function tq(l,s){if(l.length===0||s.length===0)return!1;for(let c=0;c<l.length-1;c++){let d=l[c],g=l[c+1];for(let x=0;x<s.length-1;x++)if(gze(d,g,s[x],s[x+1]))return!0}return!1}function gze(l,s,c,d){return Xe(l,c,d)!==Xe(s,c,d)&&Xe(l,s,c)!==Xe(l,s,d)}function rq(l,s,c){let d=c*c;if(s.length===1)return l.distSqr(s[0])<d;for(let g=1;g<s.length;g++)if(sG(l,s[g-1],s[g])<d)return!0;return!1}function sG(l,s,c){let d=s.distSqr(c);if(d===0)return l.distSqr(s);let g=((l.x-s.x)*(c.x-s.x)+(l.y-s.y)*(c.y-s.y))/d;return l.distSqr(g<0?s:g>1?c:c.sub(s)._mult(g)._add(s))}function lG(l,s){let c,d,g,x=!1;for(let S=0;S<l.length;S++){c=l[S];for(let E=0,M=c.length-1;E<c.length;M=E++)d=c[E],g=c[M],d.y>s.y!=g.y>s.y&&s.x<(g.x-d.x)*(s.y-d.y)/(g.y-d.y)+d.x&&(x=!x)}return x}function Sv(l,s){let c=!1;for(let d=0,g=l.length-1;d<l.length;g=d++){let x=l[d],S=l[g];x.y>s.y!=S.y>s.y&&s.x<(S.x-x.x)*(s.y-x.y)/(S.y-x.y)+x.x&&(c=!c)}return c}function yze(l,s,c){let d=c[0],g=c[2];if(l.x<d.x&&s.x<d.x||l.x>g.x&&s.x>g.x||l.y<d.y&&s.y<d.y||l.y>g.y&&s.y>g.y)return!1;let x=Xe(l,s,c[0]);return x!==Xe(l,s,c[1])||x!==Xe(l,s,c[2])||x!==Xe(l,s,c[3])}function x1(l,s,c){let d=s.paint.get(l).value;return d.kind==="constant"?d.value:c.programConfigurations.get(s.id).getMaxValue(l)}function T2(l){return Math.sqrt(l[0]*l[0]+l[1]*l[1])}function A2(l,s,c,d,g){if(!s[0]&&!s[1])return l;let x=y.convert(s)._mult(g);c==="viewport"&&x._rotate(-d);let S=[];for(let E=0;E<l.length;E++)S.push(l[E].sub(x));return S}let uG,cG;jt("CircleBucket",eq,{omit:["layers"]});var _ze={get paint(){return cG=cG||new b({"circle-radius":new ar(xe.paint_circle["circle-radius"]),"circle-color":new ar(xe.paint_circle["circle-color"]),"circle-blur":new ar(xe.paint_circle["circle-blur"]),"circle-opacity":new ar(xe.paint_circle["circle-opacity"]),"circle-translate":new Gt(xe.paint_circle["circle-translate"]),"circle-translate-anchor":new Gt(xe.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Gt(xe.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Gt(xe.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new ar(xe.paint_circle["circle-stroke-width"]),"circle-stroke-color":new ar(xe.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new ar(xe.paint_circle["circle-stroke-opacity"])})},get layout(){return uG=uG||new b({"circle-sort-key":new ar(xe.layout_circle["circle-sort-key"])})}},Jo=1e-6,Iv=typeof Float32Array!="undefined"?Float32Array:Array;function nq(l){return l[0]=1,l[1]=0,l[2]=0,l[3]=0,l[4]=0,l[5]=1,l[6]=0,l[7]=0,l[8]=0,l[9]=0,l[10]=1,l[11]=0,l[12]=0,l[13]=0,l[14]=0,l[15]=1,l}function pG(l,s,c){var d=s[0],g=s[1],x=s[2],S=s[3],E=s[4],M=s[5],R=s[6],k=s[7],j=s[8],G=s[9],W=s[10],X=s[11],Q=s[12],se=s[13],pe=s[14],Oe=s[15],_e=c[0],Me=c[1],Ue=c[2],at=c[3];return l[0]=_e*d+Me*E+Ue*j+at*Q,l[1]=_e*g+Me*M+Ue*G+at*se,l[2]=_e*x+Me*R+Ue*W+at*pe,l[3]=_e*S+Me*k+Ue*X+at*Oe,l[4]=(_e=c[4])*d+(Me=c[5])*E+(Ue=c[6])*j+(at=c[7])*Q,l[5]=_e*g+Me*M+Ue*G+at*se,l[6]=_e*x+Me*R+Ue*W+at*pe,l[7]=_e*S+Me*k+Ue*X+at*Oe,l[8]=(_e=c[8])*d+(Me=c[9])*E+(Ue=c[10])*j+(at=c[11])*Q,l[9]=_e*g+Me*M+Ue*G+at*se,l[10]=_e*x+Me*R+Ue*W+at*pe,l[11]=_e*S+Me*k+Ue*X+at*Oe,l[12]=(_e=c[12])*d+(Me=c[13])*E+(Ue=c[14])*j+(at=c[15])*Q,l[13]=_e*g+Me*M+Ue*G+at*se,l[14]=_e*x+Me*R+Ue*W+at*pe,l[15]=_e*S+Me*k+Ue*X+at*Oe,l}Math.hypot||(Math.hypot=function(){for(var l=0,s=arguments.length;s--;)l+=arguments[s]*arguments[s];return Math.sqrt(l)});var w1,bze=pG;function C2(l,s,c){var d=s[0],g=s[1],x=s[2],S=s[3];return l[0]=c[0]*d+c[4]*g+c[8]*x+c[12]*S,l[1]=c[1]*d+c[5]*g+c[9]*x+c[13]*S,l[2]=c[2]*d+c[6]*g+c[10]*x+c[14]*S,l[3]=c[3]*d+c[7]*g+c[11]*x+c[15]*S,l}w1=new Iv(4),Iv!=Float32Array&&(w1[0]=0,w1[1]=0,w1[2]=0,w1[3]=0);class xze extends p{constructor(s){super(s,_ze)}createBucket(s){return new eq(s)}queryRadius(s){let c=s;return x1("circle-radius",this,c)+x1("circle-stroke-width",this,c)+T2(this.paint.get("circle-translate"))}queryIntersectsFeature(s,c,d,g,x,S,E,M){let R=A2(s,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),S.angle,E),k=this.paint.get("circle-radius").evaluate(c,d)+this.paint.get("circle-stroke-width").evaluate(c,d),j=this.paint.get("circle-pitch-alignment")==="map",G=j?R:function(X,Q){return X.map(se=>dG(se,Q))}(R,M),W=j?k*E:k;for(let X of g)for(let Q of X){let se=j?Q:dG(Q,M),pe=W,Oe=C2([],[Q.x,Q.y,0,1],M);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?pe*=Oe[3]/S.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(pe*=S.cameraToCenterDistance/Oe[3]),mze(G,se,pe))return!0}return!1}}function dG(l,s){let c=C2([],[l.x,l.y,0,1],s);return new y(c[0]/c[3],c[1]/c[3])}class fG extends eq{}let hG;jt("HeatmapBucket",fG,{omit:["layers"]});var wze={get paint(){return hG=hG||new b({"heatmap-radius":new ar(xe.paint_heatmap["heatmap-radius"]),"heatmap-weight":new ar(xe.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Gt(xe.paint_heatmap["heatmap-intensity"]),"heatmap-color":new y1(xe.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Gt(xe.paint_heatmap["heatmap-opacity"])})}};function iq(l,{width:s,height:c},d,g){if(g){if(g instanceof Uint8ClampedArray)g=new Uint8Array(g.buffer);else if(g.length!==s*c*d)throw new RangeError(`mismatched image size. expected: ${g.length} but got: ${s*c*d}`)}else g=new Uint8Array(s*c*d);return l.width=s,l.height=c,l.data=g,l}function mG(l,{width:s,height:c},d){if(s===l.width&&c===l.height)return;let g=iq({},{width:s,height:c},d);oq(l,g,{x:0,y:0},{x:0,y:0},{width:Math.min(l.width,s),height:Math.min(l.height,c)},d),l.width=s,l.height=c,l.data=g.data}function oq(l,s,c,d,g,x){if(g.width===0||g.height===0)return s;if(g.width>l.width||g.height>l.height||c.x>l.width-g.width||c.y>l.height-g.height)throw new RangeError("out of range source coordinates for image copy");if(g.width>s.width||g.height>s.height||d.x>s.width-g.width||d.y>s.height-g.height)throw new RangeError("out of range destination coordinates for image copy");let S=l.data,E=s.data;if(S===E)throw new Error("srcData equals dstData, so image is already copied");for(let M=0;M<g.height;M++){let R=((c.y+M)*l.width+c.x)*x,k=((d.y+M)*s.width+d.x)*x;for(let j=0;j<g.width*x;j++)E[k+j]=S[R+j]}return s}class S1{constructor(s,c){iq(this,s,1,c)}resize(s){mG(this,s,1)}clone(){return new S1({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(s,c,d,g,x){oq(s,c,d,g,x,1)}}class Os{constructor(s,c){iq(this,s,4,c)}resize(s){mG(this,s,4)}replace(s,c){c?this.data.set(s):this.data=s instanceof Uint8ClampedArray?new Uint8Array(s.buffer):s}clone(){return new Os({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(s,c,d,g,x){oq(s,c,d,g,x,4)}}function vG(l){let s={},c=l.resolution||256,d=l.clips?l.clips.length:1,g=l.image||new Os({width:c,height:d});if(Math.log(c)/Math.LN2%1!=0)throw new Error(`width is not a power of 2 - ${c}`);let x=(S,E,M)=>{s[l.evaluationKey]=M;let R=l.expression.evaluate(s);g.data[S+E+0]=Math.floor(255*R.r/R.a),g.data[S+E+1]=Math.floor(255*R.g/R.a),g.data[S+E+2]=Math.floor(255*R.b/R.a),g.data[S+E+3]=Math.floor(255*R.a)};if(l.clips)for(let S=0,E=0;S<d;++S,E+=4*c)for(let M=0,R=0;M<c;M++,R+=4){let k=M/(c-1),{start:j,end:G}=l.clips[S];x(E,R,j*(1-k)+G*k)}else for(let S=0,E=0;S<c;S++,E+=4)x(0,E,S/(c-1));return g}jt("AlphaImage",S1),jt("RGBAImage",Os);let aq="big-fb";class Sze extends p{createBucket(s){return new fG(s)}constructor(s){super(s,wze),this.heatmapFbos=new Map,this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(s){s==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=vG({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbos.has(aq)&&this.heatmapFbos.delete(aq)}queryRadius(){return 0}queryIntersectsFeature(){return!1}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}}let gG;var Ize={get paint(){return gG=gG||new b({"hillshade-illumination-direction":new Gt(xe.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Gt(xe.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Gt(xe.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Gt(xe.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Gt(xe.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Gt(xe.paint_hillshade["hillshade-accent-color"])})}};class Eze extends p{constructor(s){super(s,Ize)}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}}let Tze=C([{name:"a_pos",components:2,type:"Int16"}],4),{members:Aze}=Tze;function yG(l,s,c=2){let d=s&&s.length,g=d?s[0]*c:l.length,x=_G(l,0,g,c,!0),S=[];if(!x||x.next===x.prev)return S;let E,M,R;if(d&&(x=function(k,j,G,W){let X=[];for(let Q=0,se=j.length;Q<se;Q++){let pe=_G(k,j[Q]*W,Q<se-1?j[Q+1]*W:k.length,W,!1);pe===pe.next&&(pe.steiner=!0),X.push(kze(pe))}X.sort(Rze);for(let Q=0;Q<X.length;Q++)G=qze(X[Q],G);return G}(l,s,x,c)),l.length>80*c){E=1/0,M=1/0;let k=-1/0,j=-1/0;for(let G=c;G<g;G+=c){let W=l[G],X=l[G+1];W<E&&(E=W),X<M&&(M=X),W>k&&(k=W),X>j&&(j=X)}R=Math.max(k-E,j-M),R=R!==0?32767/R:0}return I1(x,S,c,E,M,R,0),S}function _G(l,s,c,d,g){let x;if(g===function(S,E,M,R){let k=0;for(let j=E,G=M-R;j<M;j+=R)k+=(S[G]-S[j])*(S[j+1]+S[G+1]),G=j;return k}(l,s,c,d)>0)for(let S=s;S<c;S+=d)x=wG(S/d|0,l[S],l[S+1],x);else for(let S=c-d;S>=s;S-=d)x=wG(S/d|0,l[S],l[S+1],x);return x&&M2(x,x.next)&&(T1(x),x=x.next),x}function uh(l,s){if(!l)return l;s||(s=l);let c,d=l;do if(c=!1,d.steiner||!M2(d,d.next)&&mi(d.prev,d,d.next)!==0)d=d.next;else{if(T1(d),d=s=d.prev,d===d.next)break;c=!0}while(c||d!==s);return s}function I1(l,s,c,d,g,x,S){if(!l)return;!S&&x&&function(M,R,k,j){let G=M;do G.z===0&&(G.z=sq(G.x,G.y,R,k,j)),G.prevZ=G.prev,G.nextZ=G.next,G=G.next;while(G!==M);G.prevZ.nextZ=null,G.prevZ=null,function(W){let X,Q=1;do{let se,pe=W;W=null;let Oe=null;for(X=0;pe;){X++;let _e=pe,Me=0;for(let at=0;at<Q&&(Me++,_e=_e.nextZ,_e);at++);let Ue=Q;for(;Me>0||Ue>0&&_e;)Me!==0&&(Ue===0||!_e||pe.z<=_e.z)?(se=pe,pe=pe.nextZ,Me--):(se=_e,_e=_e.nextZ,Ue--),Oe?Oe.nextZ=se:W=se,se.prevZ=Oe,Oe=se;pe=_e}Oe.nextZ=null,Q*=2}while(X>1)}(G)}(l,d,g,x);let E=l;for(;l.prev!==l.next;){let M=l.prev,R=l.next;if(x?Mze(l,d,g,x):Cze(l))s.push(M.i,l.i,R.i),T1(l),l=R.next,E=R.next;else if((l=R)===E){S?S===1?I1(l=Pze(uh(l),s),s,c,d,g,x,2):S===2&&Oze(l,s,c,d,g,x):I1(uh(l),s,c,d,g,x,1);break}}}function Cze(l){let s=l.prev,c=l,d=l.next;if(mi(s,c,d)>=0)return!1;let g=s.x,x=c.x,S=d.x,E=s.y,M=c.y,R=d.y,k=g<x?g<S?g:S:x<S?x:S,j=E<M?E<R?E:R:M<R?M:R,G=g>x?g>S?g:S:x>S?x:S,W=E>M?E>R?E:R:M>R?M:R,X=d.next;for(;X!==s;){if(X.x>=k&&X.x<=G&&X.y>=j&&X.y<=W&&Ev(g,E,x,M,S,R,X.x,X.y)&&mi(X.prev,X,X.next)>=0)return!1;X=X.next}return!0}function Mze(l,s,c,d){let g=l.prev,x=l,S=l.next;if(mi(g,x,S)>=0)return!1;let E=g.x,M=x.x,R=S.x,k=g.y,j=x.y,G=S.y,W=E<M?E<R?E:R:M<R?M:R,X=k<j?k<G?k:G:j<G?j:G,Q=E>M?E>R?E:R:M>R?M:R,se=k>j?k>G?k:G:j>G?j:G,pe=sq(W,X,s,c,d),Oe=sq(Q,se,s,c,d),_e=l.prevZ,Me=l.nextZ;for(;_e&&_e.z>=pe&&Me&&Me.z<=Oe;){if(_e.x>=W&&_e.x<=Q&&_e.y>=X&&_e.y<=se&&_e!==g&&_e!==S&&Ev(E,k,M,j,R,G,_e.x,_e.y)&&mi(_e.prev,_e,_e.next)>=0||(_e=_e.prevZ,Me.x>=W&&Me.x<=Q&&Me.y>=X&&Me.y<=se&&Me!==g&&Me!==S&&Ev(E,k,M,j,R,G,Me.x,Me.y)&&mi(Me.prev,Me,Me.next)>=0))return!1;Me=Me.nextZ}for(;_e&&_e.z>=pe;){if(_e.x>=W&&_e.x<=Q&&_e.y>=X&&_e.y<=se&&_e!==g&&_e!==S&&Ev(E,k,M,j,R,G,_e.x,_e.y)&&mi(_e.prev,_e,_e.next)>=0)return!1;_e=_e.prevZ}for(;Me&&Me.z<=Oe;){if(Me.x>=W&&Me.x<=Q&&Me.y>=X&&Me.y<=se&&Me!==g&&Me!==S&&Ev(E,k,M,j,R,G,Me.x,Me.y)&&mi(Me.prev,Me,Me.next)>=0)return!1;Me=Me.nextZ}return!0}function Pze(l,s){let c=l;do{let d=c.prev,g=c.next.next;!M2(d,g)&&bG(d,c,c.next,g)&&E1(d,g)&&E1(g,d)&&(s.push(d.i,c.i,g.i),T1(c),T1(c.next),c=l=g),c=c.next}while(c!==l);return uh(c)}function Oze(l,s,c,d,g,x){let S=l;do{let E=S.next.next;for(;E!==S.prev;){if(S.i!==E.i&&Dze(S,E)){let M=xG(S,E);return S=uh(S,S.next),M=uh(M,M.next),I1(S,s,c,d,g,x,0),void I1(M,s,c,d,g,x,0)}E=E.next}S=S.next}while(S!==l)}function Rze(l,s){return l.x-s.x}function qze(l,s){let c=function(g,x){let S=x,E=g.x,M=g.y,R,k=-1/0;do{if(M<=S.y&&M>=S.next.y&&S.next.y!==S.y){let Q=S.x+(M-S.y)*(S.next.x-S.x)/(S.next.y-S.y);if(Q<=E&&Q>k&&(k=Q,R=S.x<S.next.x?S:S.next,Q===E))return R}S=S.next}while(S!==x);if(!R)return null;let j=R,G=R.x,W=R.y,X=1/0;S=R;do{if(E>=S.x&&S.x>=G&&E!==S.x&&Ev(M<W?E:k,M,G,W,M<W?k:E,M,S.x,S.y)){let Q=Math.abs(M-S.y)/(E-S.x);E1(S,g)&&(Q<X||Q===X&&(S.x>R.x||S.x===R.x&&Nze(R,S)))&&(R=S,X=Q)}S=S.next}while(S!==j);return R}(l,s);if(!c)return s;let d=xG(c,l);return uh(d,d.next),uh(c,c.next)}function Nze(l,s){return mi(l.prev,l,s.prev)<0&&mi(s.next,l,l.next)<0}function sq(l,s,c,d,g){return(l=1431655765&((l=858993459&((l=252645135&((l=16711935&((l=(l-c)*g|0)|l<<8))|l<<4))|l<<2))|l<<1))|(s=1431655765&((s=858993459&((s=252645135&((s=16711935&((s=(s-d)*g|0)|s<<8))|s<<4))|s<<2))|s<<1))<<1}function kze(l){let s=l,c=l;do(s.x<c.x||s.x===c.x&&s.y<c.y)&&(c=s),s=s.next;while(s!==l);return c}function Ev(l,s,c,d,g,x,S,E){return(g-S)*(s-E)>=(l-S)*(x-E)&&(l-S)*(d-E)>=(c-S)*(s-E)&&(c-S)*(x-E)>=(g-S)*(d-E)}function Dze(l,s){return l.next.i!==s.i&&l.prev.i!==s.i&&!function(c,d){let g=c;do{if(g.i!==c.i&&g.next.i!==c.i&&g.i!==d.i&&g.next.i!==d.i&&bG(g,g.next,c,d))return!0;g=g.next}while(g!==c);return!1}(l,s)&&(E1(l,s)&&E1(s,l)&&function(c,d){let g=c,x=!1,S=(c.x+d.x)/2,E=(c.y+d.y)/2;do g.y>E!=g.next.y>E&&g.next.y!==g.y&&S<(g.next.x-g.x)*(E-g.y)/(g.next.y-g.y)+g.x&&(x=!x),g=g.next;while(g!==c);return x}(l,s)&&(mi(l.prev,l,s.prev)||mi(l,s.prev,s))||M2(l,s)&&mi(l.prev,l,l.next)>0&&mi(s.prev,s,s.next)>0)}function mi(l,s,c){return(s.y-l.y)*(c.x-s.x)-(s.x-l.x)*(c.y-s.y)}function M2(l,s){return l.x===s.x&&l.y===s.y}function bG(l,s,c,d){let g=O2(mi(l,s,c)),x=O2(mi(l,s,d)),S=O2(mi(c,d,l)),E=O2(mi(c,d,s));return g!==x&&S!==E||!(g!==0||!P2(l,c,s))||!(x!==0||!P2(l,d,s))||!(S!==0||!P2(c,l,d))||!(E!==0||!P2(c,s,d))}function P2(l,s,c){return s.x<=Math.max(l.x,c.x)&&s.x>=Math.min(l.x,c.x)&&s.y<=Math.max(l.y,c.y)&&s.y>=Math.min(l.y,c.y)}function O2(l){return l>0?1:l<0?-1:0}function E1(l,s){return mi(l.prev,l,l.next)<0?mi(l,s,l.next)>=0&&mi(l,l.prev,s)>=0:mi(l,s,l.prev)<0||mi(l,l.next,s)<0}function xG(l,s){let c=lq(l.i,l.x,l.y),d=lq(s.i,s.x,s.y),g=l.next,x=s.prev;return l.next=s,s.prev=l,c.next=g,g.prev=c,d.next=c,c.prev=d,x.next=d,d.prev=x,d}function wG(l,s,c,d){let g=lq(l,s,c);return d?(g.next=d.next,g.prev=d,d.next.prev=g,d.next=g):(g.prev=g,g.next=g),g}function T1(l){l.next.prev=l.prev,l.prev.next=l.next,l.prevZ&&(l.prevZ.nextZ=l.nextZ),l.nextZ&&(l.nextZ.prevZ=l.prevZ)}function lq(l,s,c){return{i:l,x:s,y:c,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function uq(l,s,c){let d=c.patternDependencies,g=!1;for(let x of s){let S=x.paint.get(`${l}-pattern`);S.isConstant()||(g=!0);let E=S.constantOr(null);E&&(g=!0,d[E.to]=!0,d[E.from]=!0)}return g}function cq(l,s,c,d,g){let x=g.patternDependencies;for(let S of s){let E=S.paint.get(`${l}-pattern`).value;if(E.kind!=="constant"){let M=E.evaluate({zoom:d-1},c,{},g.availableImages),R=E.evaluate({zoom:d},c,{},g.availableImages),k=E.evaluate({zoom:d+1},c,{},g.availableImages);M=M&&M.name?M.name:M,R=R&&R.name?R.name:R,k=k&&k.name?k.name:k,x[M]=!0,x[R]=!0,x[k]=!0,c.patterns[S.id]={min:M,mid:R,max:k}}}return c}class pq{constructor(s){this.zoom=s.zoom,this.overscaling=s.overscaling,this.layers=s.layers,this.layerIds=this.layers.map(c=>c.id),this.index=s.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new nl,this.indexArray=new Ps,this.indexArray2=new Ki,this.programConfigurations=new ah(s.layers,s.zoom),this.segments=new Gr,this.segments2=new Gr,this.stateDependentLayerIds=this.layers.filter(c=>c.isStateDependent()).map(c=>c.id)}populate(s,c,d){this.hasPattern=uq("fill",this.layers,c);let g=this.layers[0].layout.get("fill-sort-key"),x=!g.isConstant(),S=[];for(let{feature:E,id:M,index:R,sourceLayerIndex:k}of s){let j=this.layers[0]._featureFilter.needGeometry,G=lh(E,j);if(!this.layers[0]._featureFilter.filter(new Ln(this.zoom),G,d))continue;let W=x?g.evaluate(G,{},d,c.availableImages):void 0,X={id:M,properties:E.properties,type:E.type,sourceLayerIndex:k,index:R,geometry:j?G.geometry:sh(E),patterns:{},sortKey:W};S.push(X)}x&&S.sort((E,M)=>E.sortKey-M.sortKey);for(let E of S){let{geometry:M,index:R,sourceLayerIndex:k}=E;if(this.hasPattern){let j=cq("fill",this.layers,E,this.zoom,c);this.patternFeatures.push(j)}else this.addFeature(E,M,R,d,{});c.featureIndex.insert(s[R].feature,M,R,k,this.index)}}update(s,c,d){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(s,c,this.stateDependentLayers,d)}addFeatures(s,c,d){for(let g of this.patternFeatures)this.addFeature(g,g.geometry,g.index,c,d)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(s){this.uploaded||(this.layoutVertexBuffer=s.createVertexBuffer(this.layoutVertexArray,Aze),this.indexBuffer=s.createIndexBuffer(this.indexArray),this.indexBuffer2=s.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(s),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(s,c,d,g,x){for(let S of Km(c,500)){let E=0;for(let W of S)E+=W.length;let M=this.segments.prepareSegment(E,this.layoutVertexArray,this.indexArray),R=M.vertexLength,k=[],j=[];for(let W of S){if(W.length===0)continue;W!==S[0]&&j.push(k.length/2);let X=this.segments2.prepareSegment(W.length,this.layoutVertexArray,this.indexArray2),Q=X.vertexLength;this.layoutVertexArray.emplaceBack(W[0].x,W[0].y),this.indexArray2.emplaceBack(Q+W.length-1,Q),k.push(W[0].x),k.push(W[0].y);for(let se=1;se<W.length;se++)this.layoutVertexArray.emplaceBack(W[se].x,W[se].y),this.indexArray2.emplaceBack(Q+se-1,Q+se),k.push(W[se].x),k.push(W[se].y);X.vertexLength+=W.length,X.primitiveLength+=W.length}let G=yG(k,j);for(let W=0;W<G.length;W+=3)this.indexArray.emplaceBack(R+G[W],R+G[W+1],R+G[W+2]);M.vertexLength+=E,M.primitiveLength+=G.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,s,d,x,g)}}let SG,IG;jt("FillBucket",pq,{omit:["layers","patternFeatures"]});var Lze={get paint(){return IG=IG||new b({"fill-antialias":new Gt(xe.paint_fill["fill-antialias"]),"fill-opacity":new ar(xe.paint_fill["fill-opacity"]),"fill-color":new ar(xe.paint_fill["fill-color"]),"fill-outline-color":new ar(xe.paint_fill["fill-outline-color"]),"fill-translate":new Gt(xe.paint_fill["fill-translate"]),"fill-translate-anchor":new Gt(xe.paint_fill["fill-translate-anchor"]),"fill-pattern":new mv(xe.paint_fill["fill-pattern"])})},get layout(){return SG=SG||new b({"fill-sort-key":new ar(xe.layout_fill["fill-sort-key"])})}};class zze extends p{constructor(s){super(s,Lze)}recalculate(s,c){super.recalculate(s,c);let d=this.paint._values["fill-outline-color"];d.value.kind==="constant"&&d.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(s){return new pq(s)}queryRadius(){return T2(this.paint.get("fill-translate"))}queryIntersectsFeature(s,c,d,g,x,S,E){return aG(A2(s,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),S.angle,E),g)}isTileClipped(){return!0}}let Fze=C([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),jze=C([{name:"a_centroid",components:2,type:"Int16"}],4),{members:Bze}=Fze;var cd={},Vze=f,EG=Tv;function Tv(l,s,c,d,g){this.properties={},this.extent=c,this.type=0,this._pbf=l,this._geometry=-1,this._keys=d,this._values=g,l.readFields(Uze,this,s)}function Uze(l,s,c){l==1?s.id=c.readVarint():l==2?function(d,g){for(var x=d.readVarint()+d.pos;d.pos<x;){var S=g._keys[d.readVarint()],E=g._values[d.readVarint()];g.properties[S]=E}}(c,s):l==3?s.type=c.readVarint():l==4&&(s._geometry=c.pos)}function $ze(l){for(var s,c,d=0,g=0,x=l.length,S=x-1;g<x;S=g++)d+=((c=l[S]).x-(s=l[g]).x)*(s.y+c.y);return d}Tv.types=["Unknown","Point","LineString","Polygon"],Tv.prototype.loadGeometry=function(){var l=this._pbf;l.pos=this._geometry;for(var s,c=l.readVarint()+l.pos,d=1,g=0,x=0,S=0,E=[];l.pos<c;){if(g<=0){var M=l.readVarint();d=7&M,g=M>>3}if(g--,d===1||d===2)x+=l.readSVarint(),S+=l.readSVarint(),d===1&&(s&&E.push(s),s=[]),s.push(new Vze(x,S));else{if(d!==7)throw new Error("unknown command "+d);s&&s.push(s[0].clone())}}return s&&E.push(s),E},Tv.prototype.bbox=function(){var l=this._pbf;l.pos=this._geometry;for(var s=l.readVarint()+l.pos,c=1,d=0,g=0,x=0,S=1/0,E=-1/0,M=1/0,R=-1/0;l.pos<s;){if(d<=0){var k=l.readVarint();c=7&k,d=k>>3}if(d--,c===1||c===2)(g+=l.readSVarint())<S&&(S=g),g>E&&(E=g),(x+=l.readSVarint())<M&&(M=x),x>R&&(R=x);else if(c!==7)throw new Error("unknown command "+c)}return[S,M,E,R]},Tv.prototype.toGeoJSON=function(l,s,c){var d,g,x=this.extent*Math.pow(2,c),S=this.extent*l,E=this.extent*s,M=this.loadGeometry(),R=Tv.types[this.type];function k(W){for(var X=0;X<W.length;X++){var Q=W[X];W[X]=[360*(Q.x+S)/x-180,360/Math.PI*Math.atan(Math.exp((180-360*(Q.y+E)/x)*Math.PI/180))-90]}}switch(this.type){case 1:var j=[];for(d=0;d<M.length;d++)j[d]=M[d][0];k(M=j);break;case 2:for(d=0;d<M.length;d++)k(M[d]);break;case 3:for(M=function(W){var X=W.length;if(X<=1)return[W];for(var Q,se,pe=[],Oe=0;Oe<X;Oe++){var _e=$ze(W[Oe]);_e!==0&&(se===void 0&&(se=_e<0),se===_e<0?(Q&&pe.push(Q),Q=[W[Oe]]):Q.push(W[Oe]))}return Q&&pe.push(Q),pe}(M),d=0;d<M.length;d++)for(g=0;g<M[d].length;g++)k(M[d][g]);}M.length===1?M=M[0]:R="Multi"+R;var G={type:"Feature",geometry:{type:R,coordinates:M},properties:this.properties};return"id"in this&&(G.id=this.id),G};var Hze=EG,TG=AG;function AG(l,s){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=l,this._keys=[],this._values=[],this._features=[],l.readFields(Gze,this,s),this.length=this._features.length}function Gze(l,s,c){l===15?s.version=c.readVarint():l===1?s.name=c.readString():l===5?s.extent=c.readVarint():l===2?s._features.push(c.pos):l===3?s._keys.push(c.readString()):l===4&&s._values.push(function(d){for(var g=null,x=d.readVarint()+d.pos;d.pos<x;){var S=d.readVarint()>>3;g=S===1?d.readString():S===2?d.readFloat():S===3?d.readDouble():S===4?d.readVarint64():S===5?d.readVarint():S===6?d.readSVarint():S===7?d.readBoolean():null}return g}(c))}AG.prototype.feature=function(l){if(l<0||l>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[l];var s=this._pbf.readVarint()+this._pbf.pos;return new Hze(this._pbf,s,this.extent,this._keys,this._values)};var Wze=TG;function Zze(l,s,c){if(l===3){var d=new Wze(c,c.readVarint()+c.pos);d.length&&(s[d.name]=d)}}cd.VectorTile=function(l,s){this.layers=l.readFields(Zze,{},s)},cd.VectorTileFeature=EG,cd.VectorTileLayer=TG;let Kze=cd.VectorTileFeature.types,dq=Math.pow(2,13);function A1(l,s,c,d,g,x,S,E){l.emplaceBack(s,c,2*Math.floor(d*dq)+S,g*dq*2,x*dq*2,Math.round(E))}class fq{constructor(s){this.zoom=s.zoom,this.overscaling=s.overscaling,this.layers=s.layers,this.layerIds=this.layers.map(c=>c.id),this.index=s.index,this.hasPattern=!1,this.layoutVertexArray=new id,this.centroidVertexArray=new ao,this.indexArray=new Ps,this.programConfigurations=new ah(s.layers,s.zoom),this.segments=new Gr,this.stateDependentLayerIds=this.layers.filter(c=>c.isStateDependent()).map(c=>c.id)}populate(s,c,d){this.features=[],this.hasPattern=uq("fill-extrusion",this.layers,c);for(let{feature:g,id:x,index:S,sourceLayerIndex:E}of s){let M=this.layers[0]._featureFilter.needGeometry,R=lh(g,M);if(!this.layers[0]._featureFilter.filter(new Ln(this.zoom),R,d))continue;let k={id:x,sourceLayerIndex:E,index:S,geometry:M?R.geometry:sh(g),properties:g.properties,type:g.type,patterns:{}};this.hasPattern?this.features.push(cq("fill-extrusion",this.layers,k,this.zoom,c)):this.addFeature(k,k.geometry,S,d,{}),c.featureIndex.insert(g,k.geometry,S,E,this.index,!0)}}addFeatures(s,c,d){for(let g of this.features){let{geometry:x}=g;this.addFeature(g,x,g.index,c,d)}}update(s,c,d){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(s,c,this.stateDependentLayers,d)}isEmpty(){return this.layoutVertexArray.length===0&&this.centroidVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(s){this.uploaded||(this.layoutVertexBuffer=s.createVertexBuffer(this.layoutVertexArray,Bze),this.centroidVertexBuffer=s.createVertexBuffer(this.centroidVertexArray,jze.members,!0),this.indexBuffer=s.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(s),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.centroidVertexBuffer.destroy())}addFeature(s,c,d,g,x){for(let S of Km(c,500)){let E={x:0,y:0,vertexCount:0},M=0;for(let X of S)M+=X.length;let R=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray);for(let X of S){if(X.length===0||Xze(X))continue;let Q=0;for(let se=0;se<X.length;se++){let pe=X[se];if(se>=1){let Oe=X[se-1];if(!Yze(pe,Oe)){R.vertexLength+4>Gr.MAX_VERTEX_ARRAY_LENGTH&&(R=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));let _e=pe.sub(Oe)._perp()._unit(),Me=Oe.dist(pe);Q+Me>32768&&(Q=0),A1(this.layoutVertexArray,pe.x,pe.y,_e.x,_e.y,0,0,Q),A1(this.layoutVertexArray,pe.x,pe.y,_e.x,_e.y,0,1,Q),E.x+=2*pe.x,E.y+=2*pe.y,E.vertexCount+=2,Q+=Me,A1(this.layoutVertexArray,Oe.x,Oe.y,_e.x,_e.y,0,0,Q),A1(this.layoutVertexArray,Oe.x,Oe.y,_e.x,_e.y,0,1,Q),E.x+=2*Oe.x,E.y+=2*Oe.y,E.vertexCount+=2;let Ue=R.vertexLength;this.indexArray.emplaceBack(Ue,Ue+2,Ue+1),this.indexArray.emplaceBack(Ue+1,Ue+2,Ue+3),R.vertexLength+=4,R.primitiveLength+=2}}}}if(R.vertexLength+M>Gr.MAX_VERTEX_ARRAY_LENGTH&&(R=this.segments.prepareSegment(M,this.layoutVertexArray,this.indexArray)),Kze[s.type]!=="Polygon")continue;let k=[],j=[],G=R.vertexLength;for(let X of S)if(X.length!==0){X!==S[0]&&j.push(k.length/2);for(let Q=0;Q<X.length;Q++){let se=X[Q];A1(this.layoutVertexArray,se.x,se.y,0,0,1,1,0),E.x+=se.x,E.y+=se.y,E.vertexCount+=1,k.push(se.x),k.push(se.y)}}let W=yG(k,j);for(let X=0;X<W.length;X+=3)this.indexArray.emplaceBack(G+W[X],G+W[X+2],G+W[X+1]);R.primitiveLength+=W.length/3,R.vertexLength+=M;for(let X=0;X<E.vertexCount;X++){let Q=Math.floor(E.x/E.vertexCount),se=Math.floor(E.y/E.vertexCount);this.centroidVertexArray.emplaceBack(Q,se)}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,s,d,x,g)}}function Yze(l,s){return l.x===s.x&&(l.x<0||l.x>Si)||l.y===s.y&&(l.y<0||l.y>Si)}function Xze(l){return l.every(s=>s.x<0)||l.every(s=>s.x>Si)||l.every(s=>s.y<0)||l.every(s=>s.y>Si)}let CG;jt("FillExtrusionBucket",fq,{omit:["layers","features"]});var Jze={get paint(){return CG=CG||new b({"fill-extrusion-opacity":new Gt(xe["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new ar(xe["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Gt(xe["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Gt(xe["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new mv(xe["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new ar(xe["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new ar(xe["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Gt(xe["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})}};class Qze extends p{constructor(s){super(s,Jze)}createBucket(s){return new fq(s)}queryRadius(){return T2(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}queryIntersectsFeature(s,c,d,g,x,S,E,M){let R=A2(s,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),S.angle,E),k=this.paint.get("fill-extrusion-height").evaluate(c,d),j=this.paint.get("fill-extrusion-base").evaluate(c,d),G=function(X,Q,se,pe){let Oe=[];for(let _e of X){let Me=[_e.x,_e.y,0,1];C2(Me,Me,Q),Oe.push(new y(Me[0]/Me[3],Me[1]/Me[3]))}return Oe}(R,M),W=function(X,Q,se,pe){let Oe=[],_e=[],Me=pe[8]*Q,Ue=pe[9]*Q,at=pe[10]*Q,kt=pe[11]*Q,nr=pe[8]*se,qt=pe[9]*se,Tt=pe[10]*se,Yt=pe[11]*se;for(let Vt of X){let Ft=[],Ze=[];for(let Jt of Vt){let Zt=Jt.x,hr=Jt.y,In=pe[0]*Zt+pe[4]*hr+pe[12],xn=pe[1]*Zt+pe[5]*hr+pe[13],Vi=pe[2]*Zt+pe[6]*hr+pe[14],il=pe[3]*Zt+pe[7]*hr+pe[15],uo=Vi+at,Ui=il+kt,Qo=In+nr,ea=xn+qt,ta=Vi+Tt,ui=il+Yt,$i=new y((In+Me)/Ui,(xn+Ue)/Ui);$i.z=uo/Ui,Ft.push($i);let Eo=new y(Qo/ui,ea/ui);Eo.z=ta/ui,Ze.push(Eo)}Oe.push(Ft),_e.push(Ze)}return[Oe,_e]}(g,j,k,M);return function(X,Q,se){let pe=1/0;aG(se,Q)&&(pe=MG(se,Q[0]));for(let Oe=0;Oe<Q.length;Oe++){let _e=Q[Oe],Me=X[Oe];for(let Ue=0;Ue<_e.length-1;Ue++){let at=_e[Ue],kt=[at,_e[Ue+1],Me[Ue+1],Me[Ue],at];oG(se,kt)&&(pe=Math.min(pe,MG(se,kt)))}}return pe!==1/0&&pe}(W[0],W[1],G)}}function C1(l,s){return l.x*s.x+l.y*s.y}function MG(l,s){if(l.length===1){let c=0,d=s[c++],g;for(;!g||d.equals(g);)if(g=s[c++],!g)return 1/0;for(;c<s.length;c++){let x=s[c],S=l[0],E=g.sub(d),M=x.sub(d),R=S.sub(d),k=C1(E,E),j=C1(E,M),G=C1(M,M),W=C1(R,E),X=C1(R,M),Q=k*G-j*j,se=(G*W-j*X)/Q,pe=(k*X-j*W)/Q,Oe=d.z*(1-se-pe)+g.z*se+x.z*pe;if(isFinite(Oe))return Oe}return 1/0}{let c=1/0;for(let d of s)c=Math.min(c,d.z);return c}}let e6e=C([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),{members:t6e}=e6e,r6e=C([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),{members:n6e}=r6e,i6e=cd.VectorTileFeature.types,o6e=Math.cos(Math.PI/180*37.5),PG=Math.pow(2,14)/.5;class hq{constructor(s){this.zoom=s.zoom,this.overscaling=s.overscaling,this.layers=s.layers,this.layerIds=this.layers.map(c=>c.id),this.index=s.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(c=>{this.gradients[c.id]={}}),this.layoutVertexArray=new gv,this.layoutVertexArray2=new od,this.indexArray=new Ps,this.programConfigurations=new ah(s.layers,s.zoom),this.segments=new Gr,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(c=>c.isStateDependent()).map(c=>c.id)}populate(s,c,d){this.hasPattern=uq("line",this.layers,c);let g=this.layers[0].layout.get("line-sort-key"),x=!g.isConstant(),S=[];for(let{feature:E,id:M,index:R,sourceLayerIndex:k}of s){let j=this.layers[0]._featureFilter.needGeometry,G=lh(E,j);if(!this.layers[0]._featureFilter.filter(new Ln(this.zoom),G,d))continue;let W=x?g.evaluate(G,{},d):void 0,X={id:M,properties:E.properties,type:E.type,sourceLayerIndex:k,index:R,geometry:j?G.geometry:sh(E),patterns:{},sortKey:W};S.push(X)}x&&S.sort((E,M)=>E.sortKey-M.sortKey);for(let E of S){let{geometry:M,index:R,sourceLayerIndex:k}=E;if(this.hasPattern){let j=cq("line",this.layers,E,this.zoom,c);this.patternFeatures.push(j)}else this.addFeature(E,M,R,d,{});c.featureIndex.insert(s[R].feature,M,R,k,this.index)}}update(s,c,d){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(s,c,this.stateDependentLayers,d)}addFeatures(s,c,d){for(let g of this.patternFeatures)this.addFeature(g,g.geometry,g.index,c,d)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(s){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=s.createVertexBuffer(this.layoutVertexArray2,n6e)),this.layoutVertexBuffer=s.createVertexBuffer(this.layoutVertexArray,t6e),this.indexBuffer=s.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(s),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(s){if(s.properties&&Object.prototype.hasOwnProperty.call(s.properties,"mapbox_clip_start")&&Object.prototype.hasOwnProperty.call(s.properties,"mapbox_clip_end"))return{start:+s.properties.mapbox_clip_start,end:+s.properties.mapbox_clip_end}}addFeature(s,c,d,g,x){let S=this.layers[0].layout,E=S.get("line-join").evaluate(s,{}),M=S.get("line-cap"),R=S.get("line-miter-limit"),k=S.get("line-round-limit");this.lineClips=this.lineFeatureClips(s);for(let j of c)this.addLine(j,s,E,M,R,k);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,s,d,x,g)}addLine(s,c,d,g,x,S){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let pe=0;pe<s.length-1;pe++)this.totalDistance+=s[pe].dist(s[pe+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}let E=i6e[c.type]==="Polygon",M=s.length;for(;M>=2&&s[M-1].equals(s[M-2]);)M--;let R=0;for(;R<M-1&&s[R].equals(s[R+1]);)R++;if(M<(E?3:2))return;d==="bevel"&&(x=1.05);let k=this.overscaling<=16?15*Si/(512*this.overscaling):0,j=this.segments.prepareSegment(10*M,this.layoutVertexArray,this.indexArray),G,W,X,Q,se;this.e1=this.e2=-1,E&&(G=s[M-2],se=s[R].sub(G)._unit()._perp());for(let pe=R;pe<M;pe++){if(X=pe===M-1?E?s[R+1]:void 0:s[pe+1],X&&s[pe].equals(X))continue;se&&(Q=se),G&&(W=G),G=s[pe],se=X?X.sub(G)._unit()._perp():Q,Q=Q||se;let Oe=Q.add(se);Oe.x===0&&Oe.y===0||Oe._unit();let _e=Q.x*se.x+Q.y*se.y,Me=Oe.x*se.x+Oe.y*se.y,Ue=Me!==0?1/Me:1/0,at=2*Math.sqrt(2-2*Me),kt=Me<o6e&&W&&X,nr=Q.x*se.y-Q.y*se.x>0;if(kt&&pe>R){let Yt=G.dist(W);if(Yt>2*k){let Vt=G.sub(G.sub(W)._mult(k/Yt)._round());this.updateDistance(W,Vt),this.addCurrentVertex(Vt,Q,0,0,j),W=Vt}}let qt=W&&X,Tt=qt?d:E?"butt":g;if(qt&&Tt==="round"&&(Ue<S?Tt="miter":Ue<=2&&(Tt="fakeround")),Tt==="miter"&&Ue>x&&(Tt="bevel"),Tt==="bevel"&&(Ue>2&&(Tt="flipbevel"),Ue<x&&(Tt="miter")),W&&this.updateDistance(W,G),Tt==="miter")Oe._mult(Ue),this.addCurrentVertex(G,Oe,0,0,j);else if(Tt==="flipbevel"){if(Ue>100)Oe=se.mult(-1);else{let Yt=Ue*Q.add(se).mag()/Q.sub(se).mag();Oe._perp()._mult(Yt*(nr?-1:1))}this.addCurrentVertex(G,Oe,0,0,j),this.addCurrentVertex(G,Oe.mult(-1),0,0,j)}else if(Tt==="bevel"||Tt==="fakeround"){let Yt=-Math.sqrt(Ue*Ue-1),Vt=nr?Yt:0,Ft=nr?0:Yt;if(W&&this.addCurrentVertex(G,Q,Vt,Ft,j),Tt==="fakeround"){let Ze=Math.round(180*at/Math.PI/20);for(let Jt=1;Jt<Ze;Jt++){let Zt=Jt/Ze;if(Zt!==.5){let In=Zt-.5;Zt+=Zt*In*(Zt-1)*((1.0904+_e*(_e*(3.55645-1.43519*_e)-3.2452))*In*In+(.848013+_e*(.215638*_e-1.06021)))}let hr=se.sub(Q)._mult(Zt)._add(Q)._unit()._mult(nr?-1:1);this.addHalfVertex(G,hr.x,hr.y,!1,nr,0,j)}}X&&this.addCurrentVertex(G,se,-Vt,-Ft,j)}else if(Tt==="butt")this.addCurrentVertex(G,Oe,0,0,j);else if(Tt==="square"){let Yt=W?1:-1;this.addCurrentVertex(G,Oe,Yt,Yt,j)}else Tt==="round"&&(W&&(this.addCurrentVertex(G,Q,0,0,j),this.addCurrentVertex(G,Q,1,1,j,!0)),X&&(this.addCurrentVertex(G,se,-1,-1,j,!0),this.addCurrentVertex(G,se,0,0,j)));if(kt&&pe<M-1){let Yt=G.dist(X);if(Yt>2*k){let Vt=G.add(X.sub(G)._mult(k/Yt)._round());this.updateDistance(G,Vt),this.addCurrentVertex(Vt,se,0,0,j),G=Vt}}}}addCurrentVertex(s,c,d,g,x,S=!1){let E=c.y*g-c.x,M=-c.y-c.x*g;this.addHalfVertex(s,c.x+c.y*d,c.y-c.x*d,S,!1,d,x),this.addHalfVertex(s,E,M,S,!0,-g,x),this.distance>PG/2&&this.totalDistance===0&&(this.distance=0,this.updateScaledDistance(),this.addCurrentVertex(s,c,d,g,x,S))}addHalfVertex({x:s,y:c},d,g,x,S,E,M){let R=.5*(this.lineClips?this.scaledDistance*(PG-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((s<<1)+(x?1:0),(c<<1)+(S?1:0),Math.round(63*d)+128,Math.round(63*g)+128,1+(E===0?0:E<0?-1:1)|(63&R)<<2,R>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);let k=M.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,k),M.primitiveLength++),S?this.e2=k:this.e1=k}updateScaledDistance(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance}updateDistance(s,c){this.distance+=s.dist(c),this.updateScaledDistance()}}let OG,RG;jt("LineBucket",hq,{omit:["layers","patternFeatures"]});var qG={get paint(){return RG=RG||new b({"line-opacity":new ar(xe.paint_line["line-opacity"]),"line-color":new ar(xe.paint_line["line-color"]),"line-translate":new Gt(xe.paint_line["line-translate"]),"line-translate-anchor":new Gt(xe.paint_line["line-translate-anchor"]),"line-width":new ar(xe.paint_line["line-width"]),"line-gap-width":new ar(xe.paint_line["line-gap-width"]),"line-offset":new ar(xe.paint_line["line-offset"]),"line-blur":new ar(xe.paint_line["line-blur"]),"line-dasharray":new vv(xe.paint_line["line-dasharray"]),"line-pattern":new mv(xe.paint_line["line-pattern"]),"line-gradient":new y1(xe.paint_line["line-gradient"])})},get layout(){return OG=OG||new b({"line-cap":new Gt(xe.layout_line["line-cap"]),"line-join":new ar(xe.layout_line["line-join"]),"line-miter-limit":new Gt(xe.layout_line["line-miter-limit"]),"line-round-limit":new Gt(xe.layout_line["line-round-limit"]),"line-sort-key":new ar(xe.layout_line["line-sort-key"])})}};class a6e extends ar{possiblyEvaluate(s,c){return c=new Ln(Math.floor(c.zoom),{now:c.now,fadeDuration:c.fadeDuration,zoomHistory:c.zoomHistory,transition:c.transition}),super.possiblyEvaluate(s,c)}evaluate(s,c,d,g){return c=ue({},c,{zoom:Math.floor(c.zoom)}),super.evaluate(s,c,d,g)}}let R2;class s6e extends p{constructor(s){super(s,qG),this.gradientVersion=0,R2||(R2=new a6e(qG.paint.properties["line-width"].specification),R2.useIntegerZoom=!0)}_handleSpecialPaintPropertyUpdate(s){if(s==="line-gradient"){let c=this.gradientExpression();this.stepInterpolant=!!function(d){return d._styleExpression!==void 0}(c)&&c._styleExpression.expression instanceof Fp,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(s,c){super.recalculate(s,c),this.paint._values["line-floorwidth"]=R2.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,s)}createBucket(s){return new hq(s)}queryRadius(s){let c=s,d=NG(x1("line-width",this,c),x1("line-gap-width",this,c)),g=x1("line-offset",this,c);return d/2+Math.abs(g)+T2(this.paint.get("line-translate"))}queryIntersectsFeature(s,c,d,g,x,S,E){let M=A2(s,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),S.angle,E),R=E/2*NG(this.paint.get("line-width").evaluate(c,d),this.paint.get("line-gap-width").evaluate(c,d)),k=this.paint.get("line-offset").evaluate(c,d);return k&&(g=function(j,G){let W=[];for(let X=0;X<j.length;X++){let Q=j[X],se=[];for(let pe=0;pe<Q.length;pe++){let Oe=Q[pe-1],_e=Q[pe],Me=Q[pe+1],Ue=pe===0?new y(0,0):_e.sub(Oe)._unit()._perp(),at=pe===Q.length-1?new y(0,0):Me.sub(_e)._unit()._perp(),kt=Ue._add(at)._unit(),nr=kt.x*at.x+kt.y*at.y;nr!==0&&kt._mult(1/nr),se.push(kt._mult(G)._add(_e))}W.push(se)}return W}(g,k*E)),function(j,G,W){for(let X=0;X<G.length;X++){let Q=G[X];if(j.length>=3){for(let se=0;se<Q.length;se++)if(Sv(j,Q[se]))return!0}if(vze(j,Q,W))return!0}return!1}(M,g,R)}isTileClipped(){return!0}}function NG(l,s){return s>0?s+2*l:l}let l6e=C([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),u6e=C([{name:"a_projected_pos",components:3,type:"Float32"}],4);C([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);let c6e=C([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"},{name:"a_box_real",components:2,type:"Int16"}]);C([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);let kG=C([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),p6e=C([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function d6e(l,s,c){return l.sections.forEach(d=>{d.text=function(g,x,S){let E=x.layout.get("text-transform").evaluate(S,{});return E==="uppercase"?g=g.toLocaleUpperCase():E==="lowercase"&&(g=g.toLocaleLowerCase()),Aa.applyArabicShaping&&(g=Aa.applyArabicShaping(g)),g}(d.text,s,c)}),l}C([{name:"triangle",components:3,type:"Uint16"}]),C([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),C([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",name:"collisionCircleDiameter"},{type:"Uint16",name:"textAnchorOffsetStartIndex"},{type:"Uint16",name:"textAnchorOffsetEndIndex"}]),C([{type:"Float32",name:"offsetX"}]),C([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]),C([{type:"Uint16",name:"textAnchor"},{type:"Float32",components:2,name:"textOffset"}]);let M1={"!":"\uFE15","#":"\uFF03",$:"\uFF04","%":"\uFF05","&":"\uFF06","(":"\uFE35",")":"\uFE36","*":"\uFF0A","+":"\uFF0B",",":"\uFE10","-":"\uFE32",".":"\u30FB","/":"\uFF0F",":":"\uFE13",";":"\uFE14","<":"\uFE3F","=":"\uFF1D",">":"\uFE40","?":"\uFE16","@":"\uFF20","[":"\uFE47","\\":"\uFF3C","]":"\uFE48","^":"\uFF3E",_:"\uFE33","`":"\uFF40","{":"\uFE37","|":"\u2015","}":"\uFE38","~":"\uFF5E","\xA2":"\uFFE0","\xA3":"\uFFE1","\xA5":"\uFFE5","\xA6":"\uFFE4","\xAC":"\uFFE2","\xAF":"\uFFE3","\u2013":"\uFE32","\u2014":"\uFE31","\u2018":"\uFE43","\u2019":"\uFE44","\u201C":"\uFE41","\u201D":"\uFE42","\u2026":"\uFE19","\u2027":"\u30FB","\u20A9":"\uFFE6","\u3001":"\uFE11","\u3002":"\uFE12","\u3008":"\uFE3F","\u3009":"\uFE40","\u300A":"\uFE3D","\u300B":"\uFE3E","\u300C":"\uFE41","\u300D":"\uFE42","\u300E":"\uFE43","\u300F":"\uFE44","\u3010":"\uFE3B","\u3011":"\uFE3C","\u3014":"\uFE39","\u3015":"\uFE3A","\u3016":"\uFE17","\u3017":"\uFE18","\uFF01":"\uFE15","\uFF08":"\uFE35","\uFF09":"\uFE36","\uFF0C":"\uFE10","\uFF0D":"\uFE32","\uFF0E":"\u30FB","\uFF1A":"\uFE13","\uFF1B":"\uFE14","\uFF1C":"\uFE3F","\uFF1E":"\uFE40","\uFF1F":"\uFE16","\uFF3B":"\uFE47","\uFF3D":"\uFE48","\uFF3F":"\uFE33","\uFF5B":"\uFE37","\uFF5C":"\u2015","\uFF5D":"\uFE38","\uFF5F":"\uFE35","\uFF60":"\uFE36","\uFF61":"\uFE12","\uFF62":"\uFE41","\uFF63":"\uFE42"};var Pi=24,DG=bn,LG=function(l,s,c,d,g){var x,S,E=8*g-d-1,M=(1<<E)-1,R=M>>1,k=-7,j=c?g-1:0,G=c?-1:1,W=l[s+j];for(j+=G,x=W&(1<<-k)-1,W>>=-k,k+=E;k>0;x=256*x+l[s+j],j+=G,k-=8);for(S=x&(1<<-k)-1,x>>=-k,k+=d;k>0;S=256*S+l[s+j],j+=G,k-=8);if(x===0)x=1-R;else{if(x===M)return S?NaN:1/0*(W?-1:1);S+=Math.pow(2,d),x-=R}return(W?-1:1)*S*Math.pow(2,x-d)},zG=function(l,s,c,d,g,x){var S,E,M,R=8*x-g-1,k=(1<<R)-1,j=k>>1,G=g===23?Math.pow(2,-24)-Math.pow(2,-77):0,W=d?0:x-1,X=d?1:-1,Q=s<0||s===0&&1/s<0?1:0;for(s=Math.abs(s),isNaN(s)||s===1/0?(E=isNaN(s)?1:0,S=k):(S=Math.floor(Math.log(s)/Math.LN2),s*(M=Math.pow(2,-S))<1&&(S--,M*=2),(s+=S+j>=1?G/M:G*Math.pow(2,1-j))*M>=2&&(S++,M/=2),S+j>=k?(E=0,S=k):S+j>=1?(E=(s*M-1)*Math.pow(2,g),S+=j):(E=s*Math.pow(2,j-1)*Math.pow(2,g),S=0));g>=8;l[c+W]=255&E,W+=X,E/=256,g-=8);for(S=S<<g|E,R+=g;R>0;l[c+W]=255&S,W+=X,S/=256,R-=8);l[c+W-X]|=128*Q};function bn(l){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(l)?l:new Uint8Array(l||0),this.pos=0,this.type=0,this.length=this.buf.length}bn.Varint=0,bn.Fixed64=1,bn.Bytes=2,bn.Fixed32=5;var mq=4294967296,FG=1/mq,jG=typeof TextDecoder=="undefined"?null:new TextDecoder("utf-8");function qc(l){return l.type===bn.Bytes?l.readVarint()+l.pos:l.pos+1}function Av(l,s,c){return c?4294967296*s+(l>>>0):4294967296*(s>>>0)+(l>>>0)}function BG(l,s,c){var d=s<=16383?1:s<=2097151?2:s<=268435455?3:Math.floor(Math.log(s)/(7*Math.LN2));c.realloc(d);for(var g=c.pos-1;g>=l;g--)c.buf[g+d]=c.buf[g]}function f6e(l,s){for(var c=0;c<l.length;c++)s.writeVarint(l[c])}function h6e(l,s){for(var c=0;c<l.length;c++)s.writeSVarint(l[c])}function m6e(l,s){for(var c=0;c<l.length;c++)s.writeFloat(l[c])}function v6e(l,s){for(var c=0;c<l.length;c++)s.writeDouble(l[c])}function g6e(l,s){for(var c=0;c<l.length;c++)s.writeBoolean(l[c])}function y6e(l,s){for(var c=0;c<l.length;c++)s.writeFixed32(l[c])}function _6e(l,s){for(var c=0;c<l.length;c++)s.writeSFixed32(l[c])}function b6e(l,s){for(var c=0;c<l.length;c++)s.writeFixed64(l[c])}function x6e(l,s){for(var c=0;c<l.length;c++)s.writeSFixed64(l[c])}function q2(l,s){return(l[s]|l[s+1]<<8|l[s+2]<<16)+16777216*l[s+3]}function Cv(l,s,c){l[c]=s,l[c+1]=s>>>8,l[c+2]=s>>>16,l[c+3]=s>>>24}function VG(l,s){return(l[s]|l[s+1]<<8|l[s+2]<<16)+(l[s+3]<<24)}bn.prototype={destroy:function(){this.buf=null},readFields:function(l,s,c){for(c=c||this.length;this.pos<c;){var d=this.readVarint(),g=d>>3,x=this.pos;this.type=7&d,l(g,s,this),this.pos===x&&this.skip(d)}return s},readMessage:function(l,s){return this.readFields(l,s,this.readVarint()+this.pos)},readFixed32:function(){var l=q2(this.buf,this.pos);return this.pos+=4,l},readSFixed32:function(){var l=VG(this.buf,this.pos);return this.pos+=4,l},readFixed64:function(){var l=q2(this.buf,this.pos)+q2(this.buf,this.pos+4)*mq;return this.pos+=8,l},readSFixed64:function(){var l=q2(this.buf,this.pos)+VG(this.buf,this.pos+4)*mq;return this.pos+=8,l},readFloat:function(){var l=LG(this.buf,this.pos,!0,23,4);return this.pos+=4,l},readDouble:function(){var l=LG(this.buf,this.pos,!0,52,8);return this.pos+=8,l},readVarint:function(l){var s,c,d=this.buf;return s=127&(c=d[this.pos++]),c<128?s:(s|=(127&(c=d[this.pos++]))<<7,c<128?s:(s|=(127&(c=d[this.pos++]))<<14,c<128?s:(s|=(127&(c=d[this.pos++]))<<21,c<128?s:function(g,x,S){var E,M,R=S.buf;if(E=(112&(M=R[S.pos++]))>>4,M<128||(E|=(127&(M=R[S.pos++]))<<3,M<128)||(E|=(127&(M=R[S.pos++]))<<10,M<128)||(E|=(127&(M=R[S.pos++]))<<17,M<128)||(E|=(127&(M=R[S.pos++]))<<24,M<128)||(E|=(1&(M=R[S.pos++]))<<31,M<128))return Av(g,E,x);throw new Error("Expected varint not more than 10 bytes")}(s|=(15&(c=d[this.pos]))<<28,l,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var l=this.readVarint();return l%2==1?(l+1)/-2:l/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var l=this.readVarint()+this.pos,s=this.pos;return this.pos=l,l-s>=12&&jG?function(c,d,g){return jG.decode(c.subarray(d,g))}(this.buf,s,l):function(c,d,g){for(var x="",S=d;S<g;){var E,M,R,k=c[S],j=null,G=k>239?4:k>223?3:k>191?2:1;if(S+G>g)break;G===1?k<128&&(j=k):G===2?(192&(E=c[S+1]))==128&&(j=(31&k)<<6|63&E)<=127&&(j=null):G===3?(M=c[S+2],(192&(E=c[S+1]))==128&&(192&M)==128&&((j=(15&k)<<12|(63&E)<<6|63&M)<=2047||j>=55296&&j<=57343)&&(j=null)):G===4&&(M=c[S+2],R=c[S+3],(192&(E=c[S+1]))==128&&(192&M)==128&&(192&R)==128&&((j=(15&k)<<18|(63&E)<<12|(63&M)<<6|63&R)<=65535||j>=1114112)&&(j=null)),j===null?(j=65533,G=1):j>65535&&(j-=65536,x+=String.fromCharCode(j>>>10&1023|55296),j=56320|1023&j),x+=String.fromCharCode(j),S+=G}return x}(this.buf,s,l)},readBytes:function(){var l=this.readVarint()+this.pos,s=this.buf.subarray(this.pos,l);return this.pos=l,s},readPackedVarint:function(l,s){if(this.type!==bn.Bytes)return l.push(this.readVarint(s));var c=qc(this);for(l=l||[];this.pos<c;)l.push(this.readVarint(s));return l},readPackedSVarint:function(l){if(this.type!==bn.Bytes)return l.push(this.readSVarint());var s=qc(this);for(l=l||[];this.pos<s;)l.push(this.readSVarint());return l},readPackedBoolean:function(l){if(this.type!==bn.Bytes)return l.push(this.readBoolean());var s=qc(this);for(l=l||[];this.pos<s;)l.push(this.readBoolean());return l},readPackedFloat:function(l){if(this.type!==bn.Bytes)return l.push(this.readFloat());var s=qc(this);for(l=l||[];this.pos<s;)l.push(this.readFloat());return l},readPackedDouble:function(l){if(this.type!==bn.Bytes)return l.push(this.readDouble());var s=qc(this);for(l=l||[];this.pos<s;)l.push(this.readDouble());return l},readPackedFixed32:function(l){if(this.type!==bn.Bytes)return l.push(this.readFixed32());var s=qc(this);for(l=l||[];this.pos<s;)l.push(this.readFixed32());return l},readPackedSFixed32:function(l){if(this.type!==bn.Bytes)return l.push(this.readSFixed32());var s=qc(this);for(l=l||[];this.pos<s;)l.push(this.readSFixed32());return l},readPackedFixed64:function(l){if(this.type!==bn.Bytes)return l.push(this.readFixed64());var s=qc(this);for(l=l||[];this.pos<s;)l.push(this.readFixed64());return l},readPackedSFixed64:function(l){if(this.type!==bn.Bytes)return l.push(this.readSFixed64());var s=qc(this);for(l=l||[];this.pos<s;)l.push(this.readSFixed64());return l},skip:function(l){var s=7&l;if(s===bn.Varint)for(;this.buf[this.pos++]>127;);else if(s===bn.Bytes)this.pos=this.readVarint()+this.pos;else if(s===bn.Fixed32)this.pos+=4;else{if(s!==bn.Fixed64)throw new Error("Unimplemented type: "+s);this.pos+=8}},writeTag:function(l,s){this.writeVarint(l<<3|s)},realloc:function(l){for(var s=this.length||16;s<this.pos+l;)s*=2;if(s!==this.length){var c=new Uint8Array(s);c.set(this.buf),this.buf=c,this.length=s}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(l){this.realloc(4),Cv(this.buf,l,this.pos),this.pos+=4},writeSFixed32:function(l){this.realloc(4),Cv(this.buf,l,this.pos),this.pos+=4},writeFixed64:function(l){this.realloc(8),Cv(this.buf,-1&l,this.pos),Cv(this.buf,Math.floor(l*FG),this.pos+4),this.pos+=8},writeSFixed64:function(l){this.realloc(8),Cv(this.buf,-1&l,this.pos),Cv(this.buf,Math.floor(l*FG),this.pos+4),this.pos+=8},writeVarint:function(l){(l=+l||0)>268435455||l<0?function(s,c){var d,g;if(s>=0?(d=s%4294967296|0,g=s/4294967296|0):(g=~(-s/4294967296),4294967295^(d=~(-s%4294967296))?d=d+1|0:(d=0,g=g+1|0)),s>=18446744073709552e3||s<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");c.realloc(10),function(x,S,E){E.buf[E.pos++]=127&x|128,x>>>=7,E.buf[E.pos++]=127&x|128,x>>>=7,E.buf[E.pos++]=127&x|128,x>>>=7,E.buf[E.pos++]=127&x|128,E.buf[E.pos]=127&(x>>>=7)}(d,0,c),function(x,S){var E=(7&x)<<4;S.buf[S.pos++]|=E|((x>>>=3)?128:0),x&&(S.buf[S.pos++]=127&x|((x>>>=7)?128:0),x&&(S.buf[S.pos++]=127&x|((x>>>=7)?128:0),x&&(S.buf[S.pos++]=127&x|((x>>>=7)?128:0),x&&(S.buf[S.pos++]=127&x|((x>>>=7)?128:0),x&&(S.buf[S.pos++]=127&x)))))}(g,c)}(l,this):(this.realloc(4),this.buf[this.pos++]=127&l|(l>127?128:0),l<=127||(this.buf[this.pos++]=127&(l>>>=7)|(l>127?128:0),l<=127||(this.buf[this.pos++]=127&(l>>>=7)|(l>127?128:0),l<=127||(this.buf[this.pos++]=l>>>7&127))))},writeSVarint:function(l){this.writeVarint(l<0?2*-l-1:2*l)},writeBoolean:function(l){this.writeVarint(!!l)},writeString:function(l){l=String(l),this.realloc(4*l.length),this.pos++;var s=this.pos;this.pos=function(d,g,x){for(var S,E,M=0;M<g.length;M++){if((S=g.charCodeAt(M))>55295&&S<57344){if(!E){S>56319||M+1===g.length?(d[x++]=239,d[x++]=191,d[x++]=189):E=S;continue}if(S<56320){d[x++]=239,d[x++]=191,d[x++]=189,E=S;continue}S=E-55296<<10|S-56320|65536,E=null}else E&&(d[x++]=239,d[x++]=191,d[x++]=189,E=null);S<128?d[x++]=S:(S<2048?d[x++]=S>>6|192:(S<65536?d[x++]=S>>12|224:(d[x++]=S>>18|240,d[x++]=S>>12&63|128),d[x++]=S>>6&63|128),d[x++]=63&S|128)}return x}(this.buf,l,this.pos);var c=this.pos-s;c>=128&&BG(s,c,this),this.pos=s-1,this.writeVarint(c),this.pos+=c},writeFloat:function(l){this.realloc(4),zG(this.buf,l,this.pos,!0,23,4),this.pos+=4},writeDouble:function(l){this.realloc(8),zG(this.buf,l,this.pos,!0,52,8),this.pos+=8},writeBytes:function(l){var s=l.length;this.writeVarint(s),this.realloc(s);for(var c=0;c<s;c++)this.buf[this.pos++]=l[c]},writeRawMessage:function(l,s){this.pos++;var c=this.pos;l(s,this);var d=this.pos-c;d>=128&&BG(c,d,this),this.pos=c-1,this.writeVarint(d),this.pos+=d},writeMessage:function(l,s,c){this.writeTag(l,bn.Bytes),this.writeRawMessage(s,c)},writePackedVarint:function(l,s){s.length&&this.writeMessage(l,f6e,s)},writePackedSVarint:function(l,s){s.length&&this.writeMessage(l,h6e,s)},writePackedBoolean:function(l,s){s.length&&this.writeMessage(l,g6e,s)},writePackedFloat:function(l,s){s.length&&this.writeMessage(l,m6e,s)},writePackedDouble:function(l,s){s.length&&this.writeMessage(l,v6e,s)},writePackedFixed32:function(l,s){s.length&&this.writeMessage(l,y6e,s)},writePackedSFixed32:function(l,s){s.length&&this.writeMessage(l,_6e,s)},writePackedFixed64:function(l,s){s.length&&this.writeMessage(l,b6e,s)},writePackedSFixed64:function(l,s){s.length&&this.writeMessage(l,x6e,s)},writeBytesField:function(l,s){this.writeTag(l,bn.Bytes),this.writeBytes(s)},writeFixed32Field:function(l,s){this.writeTag(l,bn.Fixed32),this.writeFixed32(s)},writeSFixed32Field:function(l,s){this.writeTag(l,bn.Fixed32),this.writeSFixed32(s)},writeFixed64Field:function(l,s){this.writeTag(l,bn.Fixed64),this.writeFixed64(s)},writeSFixed64Field:function(l,s){this.writeTag(l,bn.Fixed64),this.writeSFixed64(s)},writeVarintField:function(l,s){this.writeTag(l,bn.Varint),this.writeVarint(s)},writeSVarintField:function(l,s){this.writeTag(l,bn.Varint),this.writeSVarint(s)},writeStringField:function(l,s){this.writeTag(l,bn.Bytes),this.writeString(s)},writeFloatField:function(l,s){this.writeTag(l,bn.Fixed32),this.writeFloat(s)},writeDoubleField:function(l,s){this.writeTag(l,bn.Fixed64),this.writeDouble(s)},writeBooleanField:function(l,s){this.writeVarintField(l,!!s)}};var vq=u(DG);let gq=3;function w6e(l,s,c){l===1&&c.readMessage(S6e,s)}function S6e(l,s,c){if(l===3){let{id:d,bitmap:g,width:x,height:S,left:E,top:M,advance:R}=c.readMessage(I6e,{});s.push({id:d,bitmap:new S1({width:x+2*gq,height:S+2*gq},g),metrics:{width:x,height:S,left:E,top:M,advance:R}})}}function I6e(l,s,c){l===1?s.id=c.readVarint():l===2?s.bitmap=c.readBytes():l===3?s.width=c.readVarint():l===4?s.height=c.readVarint():l===5?s.left=c.readSVarint():l===6?s.top=c.readSVarint():l===7&&(s.advance=c.readVarint())}let UG=gq;function $G(l){let s=0,c=0;for(let S of l)s+=S.w*S.h,c=Math.max(c,S.w);l.sort((S,E)=>E.h-S.h);let d=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(s/.95)),c),h:1/0}],g=0,x=0;for(let S of l)for(let E=d.length-1;E>=0;E--){let M=d[E];if(!(S.w>M.w||S.h>M.h)){if(S.x=M.x,S.y=M.y,x=Math.max(x,S.y+S.h),g=Math.max(g,S.x+S.w),S.w===M.w&&S.h===M.h){let R=d.pop();E<d.length&&(d[E]=R)}else S.h===M.h?(M.x+=S.w,M.w-=S.w):S.w===M.w?(M.y+=S.h,M.h-=S.h):(d.push({x:M.x+S.w,y:M.y,w:M.w-S.w,h:S.h}),M.y+=S.h,M.h-=S.h);break}}return{w:g,h:x,fill:s/(g*x)||0}}let Ma=1;class yq{constructor(s,{pixelRatio:c,version:d,stretchX:g,stretchY:x,content:S,textFitWidth:E,textFitHeight:M}){this.paddedRect=s,this.pixelRatio=c,this.stretchX=g,this.stretchY=x,this.content=S,this.version=d,this.textFitWidth=E,this.textFitHeight=M}get tl(){return[this.paddedRect.x+Ma,this.paddedRect.y+Ma]}get br(){return[this.paddedRect.x+this.paddedRect.w-Ma,this.paddedRect.y+this.paddedRect.h-Ma]}get tlbr(){return this.tl.concat(this.br)}get displaySize(){return[(this.paddedRect.w-2*Ma)/this.pixelRatio,(this.paddedRect.h-2*Ma)/this.pixelRatio]}}class HG{constructor(s,c){let d={},g={};this.haveRenderCallbacks=[];let x=[];this.addImages(s,d,x),this.addImages(c,g,x);let{w:S,h:E}=$G(x),M=new Os({width:S||1,height:E||1});for(let R in s){let k=s[R],j=d[R].paddedRect;Os.copy(k.data,M,{x:0,y:0},{x:j.x+Ma,y:j.y+Ma},k.data)}for(let R in c){let k=c[R],j=g[R].paddedRect,G=j.x+Ma,W=j.y+Ma,X=k.data.width,Q=k.data.height;Os.copy(k.data,M,{x:0,y:0},{x:G,y:W},k.data),Os.copy(k.data,M,{x:0,y:Q-1},{x:G,y:W-1},{width:X,height:1}),Os.copy(k.data,M,{x:0,y:0},{x:G,y:W+Q},{width:X,height:1}),Os.copy(k.data,M,{x:X-1,y:0},{x:G-1,y:W},{width:1,height:Q}),Os.copy(k.data,M,{x:0,y:0},{x:G+X,y:W},{width:1,height:Q})}this.image=M,this.iconPositions=d,this.patternPositions=g}addImages(s,c,d){for(let g in s){let x=s[g],S={x:0,y:0,w:x.data.width+2*Ma,h:x.data.height+2*Ma};d.push(S),c[g]=new yq(S,x),x.hasRenderCallback&&this.haveRenderCallbacks.push(g)}}patchUpdatedImages(s,c){s.dispatchRenderCallbacks(this.haveRenderCallbacks);for(let d in s.updatedImages)this.patchUpdatedImage(this.iconPositions[d],s.getImage(d),c),this.patchUpdatedImage(this.patternPositions[d],s.getImage(d),c)}patchUpdatedImage(s,c,d){if(!s||!c||s.version===c.version)return;s.version=c.version;let[g,x]=s.tl;d.update(c.data,void 0,{x:g,y:x})}}var pd;jt("ImagePosition",yq),jt("ImageAtlas",HG),i.ah=void 0,(pd=i.ah||(i.ah={}))[pd.none=0]="none",pd[pd.horizontal=1]="horizontal",pd[pd.vertical=2]="vertical",pd[pd.horizontalOnly=3]="horizontalOnly";let P1=-17;class O1{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(s,c){let d=new O1;return d.scale=s||1,d.fontStack=c,d}static forImage(s){let c=new O1;return c.imageName=s,c}}class Mv{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(s,c){let d=new Mv;for(let g=0;g<s.sections.length;g++){let x=s.sections[g];x.image?d.addImageSection(x):d.addTextSection(x,c)}return d}length(){return this.text.length}getSection(s){return this.sections[this.sectionIndex[s]]}getSectionIndex(s){return this.sectionIndex[s]}getCharCode(s){return this.text.charCodeAt(s)}verticalizePunctuation(){this.text=function(s){let c="";for(let d=0;d<s.length;d++){let g=s.charCodeAt(d+1)||null,x=s.charCodeAt(d-1)||null;c+=g&&_2(g)&&!M1[s[d+1]]||x&&_2(x)&&!M1[s[d-1]]||!M1[s[d]]?s[d]:M1[s[d]]}return c}(this.text)}trim(){let s=0;for(let d=0;d<this.text.length&&k2[this.text.charCodeAt(d)];d++)s++;let c=this.text.length;for(let d=this.text.length-1;d>=0&&d>=s&&k2[this.text.charCodeAt(d)];d--)c--;this.text=this.text.substring(s,c),this.sectionIndex=this.sectionIndex.slice(s,c)}substring(s,c){let d=new Mv;return d.text=this.text.substring(s,c),d.sectionIndex=this.sectionIndex.slice(s,c),d.sections=this.sections,d}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((s,c)=>Math.max(s,this.sections[c].scale),0)}addTextSection(s,c){this.text+=s.text,this.sections.push(O1.forText(s.scale,s.fontStack||c));let d=this.sections.length-1;for(let g=0;g<s.text.length;++g)this.sectionIndex.push(d)}addImageSection(s){let c=s.image?s.image.name:"";if(c.length===0)return void He("Can't add FormattedSection with an empty image.");let d=this.getNextImageSectionCharCode();d?(this.text+=String.fromCharCode(d),this.sections.push(O1.forImage(c)),this.sectionIndex.push(this.sections.length-1)):He("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function N2(l,s,c,d,g,x,S,E,M,R,k,j,G,W,X){let Q=Mv.fromFeature(l,g),se;j===i.ah.vertical&&Q.verticalizePunctuation();let{processBidirectionalText:pe,processStyledBidirectionalText:Oe}=Aa;if(pe&&Q.sections.length===1){se=[];let Ue=pe(Q.toString(),_q(Q,R,x,s,d,W));for(let at of Ue){let kt=new Mv;kt.text=at,kt.sections=Q.sections;for(let nr=0;nr<at.length;nr++)kt.sectionIndex.push(0);se.push(kt)}}else if(Oe){se=[];let Ue=Oe(Q.text,Q.sectionIndex,_q(Q,R,x,s,d,W));for(let at of Ue){let kt=new Mv;kt.text=at[0],kt.sectionIndex=at[1],kt.sections=Q.sections,se.push(kt)}}else se=function(Ue,at){let kt=[],nr=Ue.text,qt=0;for(let Tt of at)kt.push(Ue.substring(qt,Tt)),qt=Tt;return qt<nr.length&&kt.push(Ue.substring(qt,nr.length)),kt}(Q,_q(Q,R,x,s,d,W));let _e=[],Me={positionedLines:_e,text:Q.toString(),top:k[1],bottom:k[1],left:k[0],right:k[0],writingMode:j,iconsInText:!1,verticalizable:!1};return function(Ue,at,kt,nr,qt,Tt,Yt,Vt,Ft,Ze,Jt,Zt){let hr=0,In=P1,xn=0,Vi=0,il=Vt==="right"?1:Vt==="left"?0:.5,uo=0;for(let ui of qt){ui.trim();let $i=ui.getMaxScale(),Eo=($i-1)*Pi,co={positionedGlyphs:[],lineOffset:0};Ue.positionedLines[uo]=co;let ra=co.positionedGlyphs,po=0;if(!ui.length()){In+=Tt,++uo;continue}for(let Pa=0;Pa<ui.length();Pa++){let nn=ui.getSection(Pa),Mn=ui.getSectionIndex(Pa),Bn=ui.getCharCode(Pa),Ja=0,ri=null,qv=null,Iu=null,Eu=Pi,ol=!(Ft===i.ah.horizontal||!Jt&&!v1(Bn)||Jt&&(k2[Bn]||(Ui=Bn,new RegExp("\\p{sc=Arab}","u").test(String.fromCodePoint(Ui)))));if(nn.imageName){let Ns=nr[nn.imageName];if(!Ns)continue;Iu=nn.imageName,Ue.iconsInText=Ue.iconsInText||!0,qv=Ns.paddedRect;let Yi=Ns.displaySize;nn.scale=nn.scale*Pi/Zt,ri={width:Yi[0],height:Yi[1],left:Ma,top:-UG,advance:ol?Yi[1]:Yi[0]},Ja=Eo+(Pi-Yi[1]*nn.scale),Eu=ri.advance;let Nc=ol?Yi[0]*nn.scale-Pi*$i:Yi[1]*nn.scale-Pi*$i;Nc>0&&Nc>po&&(po=Nc)}else{let Ns=kt[nn.fontStack],Yi=Ns&&Ns[Bn];if(Yi&&Yi.rect)qv=Yi.rect,ri=Yi.metrics;else{let Nc=at[nn.fontStack],L1=Nc&&Nc[Bn];if(!L1)continue;ri=L1.metrics}Ja=($i-nn.scale)*Pi}ol?(Ue.verticalizable=!0,ra.push({glyph:Bn,imageName:Iu,x:hr,y:In+Ja,vertical:ol,scale:nn.scale,fontStack:nn.fontStack,sectionIndex:Mn,metrics:ri,rect:qv}),hr+=Eu*nn.scale+Ze):(ra.push({glyph:Bn,imageName:Iu,x:hr,y:In+Ja,vertical:ol,scale:nn.scale,fontStack:nn.fontStack,sectionIndex:Mn,metrics:ri,rect:qv}),hr+=ri.advance*nn.scale+Ze)}ra.length!==0&&(xn=Math.max(hr-Ze,xn),C6e(ra,0,ra.length-1,il,po)),hr=0;let qs=Tt*$i+po;co.lineOffset=Math.max(po,Eo),In+=qs,Vi=Math.max(qs,Vi),++uo}var Ui;let Qo=In-P1,{horizontalAlign:ea,verticalAlign:ta}=bq(Yt);(function(ui,$i,Eo,co,ra,po,qs,Pa,nn){let Mn=($i-Eo)*ra,Bn=0;Bn=po!==qs?-Pa*co-P1:(-co*nn+.5)*qs;for(let Ja of ui)for(let ri of Ja.positionedGlyphs)ri.x+=Mn,ri.y+=Bn})(Ue.positionedLines,il,ea,ta,xn,Vi,Tt,Qo,qt.length),Ue.top+=-ta*Qo,Ue.bottom=Ue.top+Qo,Ue.left+=-ea*xn,Ue.right=Ue.left+xn}(Me,s,c,d,se,S,E,M,j,R,G,X),!function(Ue){for(let at of Ue)if(at.positionedGlyphs.length!==0)return!1;return!0}(_e)&&Me}let k2={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},E6e={10:!0,32:!0,38:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0},T6e={40:!0};function GG(l,s,c,d,g,x){if(s.imageName){let S=d[s.imageName];return S?S.displaySize[0]*s.scale*Pi/x+g:0}{let S=c[s.fontStack],E=S&&S[l];return E?E.metrics.advance*s.scale+g:0}}function WG(l,s,c,d){let g=Math.pow(l-s,2);return d?l<s?g/2:2*g:g+Math.abs(c)*c}function A6e(l,s,c){let d=0;return l===10&&(d-=1e4),c&&(d+=150),l!==40&&l!==65288||(d+=50),s!==41&&s!==65289||(d+=50),d}function ZG(l,s,c,d,g,x){let S=null,E=WG(s,c,g,x);for(let M of d){let R=WG(s-M.x,c,g,x)+M.badness;R<=E&&(S=M,E=R)}return{index:l,x:s,priorBreak:S,badness:E}}function KG(l){return l?KG(l.priorBreak).concat(l.index):[]}function _q(l,s,c,d,g,x){if(!l)return[];let S=[],E=function(j,G,W,X,Q,se){let pe=0;for(let Oe=0;Oe<j.length();Oe++){let _e=j.getSection(Oe);pe+=GG(j.getCharCode(Oe),_e,X,Q,G,se)}return pe/Math.max(1,Math.ceil(pe/W))}(l,s,c,d,g,x),M=l.text.indexOf("\u200B")>=0,R=0;for(let j=0;j<l.length();j++){let G=l.getSection(j),W=l.getCharCode(j);if(k2[W]||(R+=GG(W,G,d,g,s,x)),j<l.length()-1){let X=!((k=W)<11904)&&(!!Hr["CJK Compatibility Forms"](k)||!!Hr["CJK Compatibility"](k)||!!Hr["CJK Strokes"](k)||!!Hr["CJK Symbols and Punctuation"](k)||!!Hr["Enclosed CJK Letters and Months"](k)||!!Hr["Halfwidth and Fullwidth Forms"](k)||!!Hr["Ideographic Description Characters"](k)||!!Hr["Vertical Forms"](k)||y2.test(String.fromCodePoint(k)));(E6e[W]||X||G.imageName||j!==l.length()-2&&T6e[l.getCharCode(j+1)])&&S.push(ZG(j+1,R,E,S,A6e(W,l.getCharCode(j+1),X&&M),!1))}}var k;return KG(ZG(l.length(),R,E,S,0,!0))}function bq(l){let s=.5,c=.5;switch(l){case"right":case"top-right":case"bottom-right":s=1;break;case"left":case"top-left":case"bottom-left":s=0;}switch(l){case"bottom":case"bottom-right":case"bottom-left":c=1;break;case"top":case"top-right":case"top-left":c=0;}return{horizontalAlign:s,verticalAlign:c}}function C6e(l,s,c,d,g){if(!d&&!g)return;let x=l[c],S=(l[c].x+x.metrics.advance*x.scale)*d;for(let E=s;E<=c;E++)l[E].x-=S,l[E].y+=g}function M6e(l,s,c){let{horizontalAlign:d,verticalAlign:g}=bq(c),x=s[0]-l.displaySize[0]*d,S=s[1]-l.displaySize[1]*g;return{image:l,top:S,bottom:S+l.displaySize[1],left:x,right:x+l.displaySize[0]}}function YG(l){var s,c;let d=l.left,g=l.top,x=l.right-d,S=l.bottom-g,E=(s=l.image.textFitWidth)!==null&&s!==void 0?s:"stretchOrShrink",M=(c=l.image.textFitHeight)!==null&&c!==void 0?c:"stretchOrShrink",R=(l.image.content[2]-l.image.content[0])/(l.image.content[3]-l.image.content[1]);if(M==="proportional"){if(E==="stretchOnly"&&x/S<R||E==="proportional"){let k=Math.ceil(S*R);d*=k/x,x=k}}else if(E==="proportional"&&M==="stretchOnly"&&R!==0&&x/S>R){let k=Math.ceil(x/R);g*=k/S,S=k}return{x1:d,y1:g,x2:d+x,y2:g+S}}function XG(l,s,c,d,g,x){let S=l.image,E;if(S.content){let se=S.content,pe=S.pixelRatio||1;E=[se[0]/pe,se[1]/pe,S.displaySize[0]-se[2]/pe,S.displaySize[1]-se[3]/pe]}let M=s.left*x,R=s.right*x,k,j,G,W;c==="width"||c==="both"?(W=g[0]+M-d[3],j=g[0]+R+d[1]):(W=g[0]+(M+R-S.displaySize[0])/2,j=W+S.displaySize[0]);let X=s.top*x,Q=s.bottom*x;return c==="height"||c==="both"?(k=g[1]+X-d[0],G=g[1]+Q+d[2]):(k=g[1]+(X+Q-S.displaySize[1])/2,G=k+S.displaySize[1]),{image:S,top:k,right:j,bottom:G,left:W,collisionPadding:E}}let R1=255,Su=128,dd=R1*Su;function JG(l,s){let{expression:c}=s;if(c.kind==="constant")return{kind:"constant",layoutSize:c.evaluate(new Ln(l+1))};if(c.kind==="source")return{kind:"source"};{let{zoomStops:d,interpolationType:g}=c,x=0;for(;x<d.length&&d[x]<=l;)x++;x=Math.max(0,x-1);let S=x;for(;S<d.length&&d[S]<l+1;)S++;S=Math.min(d.length-1,S);let E=d[x],M=d[S];return c.kind==="composite"?{kind:"composite",minZoom:E,maxZoom:M,interpolationType:g}:{kind:"camera",minZoom:E,maxZoom:M,minSize:c.evaluate(new Ln(E)),maxSize:c.evaluate(new Ln(M)),interpolationType:g}}}function xq(l,s,c){let d="never",g=l.get(s);return g?d=g:l.get(c)&&(d="always"),d}let P6e=cd.VectorTileFeature.types,O6e=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function D2(l,s,c,d,g,x,S,E,M,R,k,j,G){let W=E?Math.min(dd,Math.round(E[0])):0,X=E?Math.min(dd,Math.round(E[1])):0;l.emplaceBack(s,c,Math.round(32*d),Math.round(32*g),x,S,(W<<1)+(M?1:0),X,16*R,16*k,256*j,256*G)}function wq(l,s,c){l.emplaceBack(s.x,s.y,c),l.emplaceBack(s.x,s.y,c),l.emplaceBack(s.x,s.y,c),l.emplaceBack(s.x,s.y,c)}function R6e(l){for(let s of l.sections)if(YR(s.text))return!0;return!1}class Sq{constructor(s){this.layoutVertexArray=new yv,this.indexArray=new Ps,this.programConfigurations=s,this.segments=new Gr,this.dynamicLayoutVertexArray=new _1,this.opacityVertexArray=new Ya,this.hasVisibleVertices=!1,this.placedSymbolArray=new zn}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(s,c,d,g){this.isEmpty()||(d&&(this.layoutVertexBuffer=s.createVertexBuffer(this.layoutVertexArray,l6e.members),this.indexBuffer=s.createIndexBuffer(this.indexArray,c),this.dynamicLayoutVertexBuffer=s.createVertexBuffer(this.dynamicLayoutVertexArray,u6e.members,!0),this.opacityVertexBuffer=s.createVertexBuffer(this.opacityVertexArray,O6e,!0),this.opacityVertexBuffer.itemSize=1),(d||g)&&this.programConfigurations.upload(s))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}jt("SymbolBuffers",Sq);class Iq{constructor(s,c,d){this.layoutVertexArray=new s,this.layoutAttributes=c,this.indexArray=new d,this.segments=new Gr,this.collisionVertexArray=new xu}upload(s){this.layoutVertexBuffer=s.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=s.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=s.createVertexBuffer(this.collisionVertexArray,c6e.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())}}jt("CollisionBuffers",Iq);class Pv{constructor(s){this.collisionBoxArray=s.collisionBoxArray,this.zoom=s.zoom,this.overscaling=s.overscaling,this.layers=s.layers,this.layerIds=this.layers.map(S=>S.id),this.index=s.index,this.pixelRatio=s.pixelRatio,this.sourceLayerIndex=s.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=nq([]),this.placementViewportMatrix=nq([]);let c=this.layers[0]._unevaluatedLayout._values;this.textSizeData=JG(this.zoom,c["text-size"]),this.iconSizeData=JG(this.zoom,c["icon-size"]);let d=this.layers[0].layout,g=d.get("symbol-sort-key"),x=d.get("symbol-z-order");this.canOverlap=xq(d,"text-overlap","text-allow-overlap")!=="never"||xq(d,"icon-overlap","icon-allow-overlap")!=="never"||d.get("text-ignore-placement")||d.get("icon-ignore-placement"),this.sortFeaturesByKey=x!=="viewport-y"&&!g.isConstant(),this.sortFeaturesByY=(x==="viewport-y"||x==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,d.get("symbol-placement")==="point"&&(this.writingModes=d.get("text-writing-mode").map(S=>i.ah[S])),this.stateDependentLayerIds=this.layers.filter(S=>S.isStateDependent()).map(S=>S.id),this.sourceID=s.sourceID}createArrays(){this.text=new Sq(new ah(this.layers,this.zoom,s=>/^text/.test(s))),this.icon=new Sq(new ah(this.layers,this.zoom,s=>/^icon/.test(s))),this.glyphOffsetArray=new Fn,this.lineVertexArray=new oo,this.symbolInstances=new Br,this.textAnchorOffsets=new jn}calculateGlyphDependencies(s,c,d,g,x){for(let S=0;S<s.length;S++)if(c[s.charCodeAt(S)]=!0,(d||g)&&x){let E=M1[s.charAt(S)];E&&(c[E.charCodeAt(0)]=!0)}}populate(s,c,d){let g=this.layers[0],x=g.layout,S=x.get("text-font"),E=x.get("text-field"),M=x.get("icon-image"),R=(E.value.kind!=="constant"||E.value.value instanceof Sa&&!E.value.value.isEmpty()||E.value.value.toString().length>0)&&(S.value.kind!=="constant"||S.value.value.length>0),k=M.value.kind!=="constant"||!!M.value.value||Object.keys(M.parameters).length>0,j=x.get("symbol-sort-key");if(this.features=[],!R&&!k)return;let G=c.iconDependencies,W=c.glyphDependencies,X=c.availableImages,Q=new Ln(this.zoom);for(let{feature:se,id:pe,index:Oe,sourceLayerIndex:_e}of s){let Me=g._featureFilter.needGeometry,Ue=lh(se,Me);if(!g._featureFilter.filter(Q,Ue,d))continue;let at,kt;if(Me||(Ue.geometry=sh(se)),R){let qt=g.getValueAndResolveTokens("text-field",Ue,d,X),Tt=Sa.factory(qt),Yt=this.hasRTLText=this.hasRTLText||R6e(Tt);(!Yt||Aa.getRTLTextPluginStatus()==="unavailable"||Yt&&Aa.isParsed())&&(at=d6e(Tt,g,Ue))}if(k){let qt=g.getValueAndResolveTokens("icon-image",Ue,d,X);kt=qt instanceof Ea?qt:Ea.fromString(qt)}if(!at&&!kt)continue;let nr=this.sortFeaturesByKey?j.evaluate(Ue,{},d):void 0;if(this.features.push({id:pe,text:at,icon:kt,index:Oe,sourceLayerIndex:_e,geometry:Ue.geometry,properties:se.properties,type:P6e[se.type],sortKey:nr}),kt&&(G[kt.name]=!0),at){let qt=S.evaluate(Ue,{},d).join(","),Tt=x.get("text-rotation-alignment")!=="viewport"&&x.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(i.ah.vertical)>=0;for(let Yt of at.sections)if(Yt.image)G[Yt.image.name]=!0;else{let Vt=h1(at.toString()),Ft=Yt.fontStack||qt,Ze=W[Ft]=W[Ft]||{};this.calculateGlyphDependencies(Yt.text,Ze,Tt,this.allowVerticalPlacement,Vt)}}}x.get("symbol-placement")==="line"&&(this.features=function(se){let pe={},Oe={},_e=[],Me=0;function Ue(qt){_e.push(se[qt]),Me++}function at(qt,Tt,Yt){let Vt=Oe[qt];return delete Oe[qt],Oe[Tt]=Vt,_e[Vt].geometry[0].pop(),_e[Vt].geometry[0]=_e[Vt].geometry[0].concat(Yt[0]),Vt}function kt(qt,Tt,Yt){let Vt=pe[Tt];return delete pe[Tt],pe[qt]=Vt,_e[Vt].geometry[0].shift(),_e[Vt].geometry[0]=Yt[0].concat(_e[Vt].geometry[0]),Vt}function nr(qt,Tt,Yt){let Vt=Yt?Tt[0][Tt[0].length-1]:Tt[0][0];return`${qt}:${Vt.x}:${Vt.y}`}for(let qt=0;qt<se.length;qt++){let Tt=se[qt],Yt=Tt.geometry,Vt=Tt.text?Tt.text.toString():null;if(!Vt){Ue(qt);continue}let Ft=nr(Vt,Yt),Ze=nr(Vt,Yt,!0);if(Ft in Oe&&Ze in pe&&Oe[Ft]!==pe[Ze]){let Jt=kt(Ft,Ze,Yt),Zt=at(Ft,Ze,_e[Jt].geometry);delete pe[Ft],delete Oe[Ze],Oe[nr(Vt,_e[Zt].geometry,!0)]=Zt,_e[Jt].geometry=null}else Ft in Oe?at(Ft,Ze,Yt):Ze in pe?kt(Ft,Ze,Yt):(Ue(qt),pe[Ft]=Me-1,Oe[Ze]=Me-1)}return _e.filter(qt=>qt.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((se,pe)=>se.sortKey-pe.sortKey)}update(s,c,d){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(s,c,this.layers,d),this.icon.programConfigurations.updatePaintArrays(s,c,this.layers,d))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(s){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(s),this.iconCollisionBox.upload(s)),this.text.upload(s,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(s,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(s,c){let d=this.lineVertexArray.length;if(s.segment!==void 0){let g=s.dist(c[s.segment+1]),x=s.dist(c[s.segment]),S={};for(let E=s.segment+1;E<c.length;E++)S[E]={x:c[E].x,y:c[E].y,tileUnitDistanceFromAnchor:g},E<c.length-1&&(g+=c[E+1].dist(c[E]));for(let E=s.segment||0;E>=0;E--)S[E]={x:c[E].x,y:c[E].y,tileUnitDistanceFromAnchor:x},E>0&&(x+=c[E-1].dist(c[E]));for(let E=0;E<c.length;E++){let M=S[E];this.lineVertexArray.emplaceBack(M.x,M.y,M.tileUnitDistanceFromAnchor)}}return{lineStartIndex:d,lineLength:this.lineVertexArray.length-d}}addSymbols(s,c,d,g,x,S,E,M,R,k,j,G){let W=s.indexArray,X=s.layoutVertexArray,Q=s.segments.prepareSegment(4*c.length,X,W,this.canOverlap?S.sortKey:void 0),se=this.glyphOffsetArray.length,pe=Q.vertexLength,Oe=this.allowVerticalPlacement&&E===i.ah.vertical?Math.PI/2:0,_e=S.text&&S.text.sections;for(let Me=0;Me<c.length;Me++){let{tl:Ue,tr:at,bl:kt,br:nr,tex:qt,pixelOffsetTL:Tt,pixelOffsetBR:Yt,minFontScaleX:Vt,minFontScaleY:Ft,glyphOffset:Ze,isSDF:Jt,sectionIndex:Zt}=c[Me],hr=Q.vertexLength,In=Ze[1];D2(X,M.x,M.y,Ue.x,In+Ue.y,qt.x,qt.y,d,Jt,Tt.x,Tt.y,Vt,Ft),D2(X,M.x,M.y,at.x,In+at.y,qt.x+qt.w,qt.y,d,Jt,Yt.x,Tt.y,Vt,Ft),D2(X,M.x,M.y,kt.x,In+kt.y,qt.x,qt.y+qt.h,d,Jt,Tt.x,Yt.y,Vt,Ft),D2(X,M.x,M.y,nr.x,In+nr.y,qt.x+qt.w,qt.y+qt.h,d,Jt,Yt.x,Yt.y,Vt,Ft),wq(s.dynamicLayoutVertexArray,M,Oe),W.emplaceBack(hr,hr+1,hr+2),W.emplaceBack(hr+1,hr+2,hr+3),Q.vertexLength+=4,Q.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(Ze[0]),Me!==c.length-1&&Zt===c[Me+1].sectionIndex||s.programConfigurations.populatePaintArrays(X.length,S,S.index,{},G,_e&&_e[Zt])}s.placedSymbolArray.emplaceBack(M.x,M.y,se,this.glyphOffsetArray.length-se,pe,R,k,M.segment,d?d[0]:0,d?d[1]:0,g[0],g[1],E,0,!1,0,j)}_addCollisionDebugVertex(s,c,d,g,x,S){return c.emplaceBack(0,0),s.emplaceBack(d.x,d.y,g,x,Math.round(S.x),Math.round(S.y))}addCollisionDebugVertices(s,c,d,g,x,S,E){let M=x.segments.prepareSegment(4,x.layoutVertexArray,x.indexArray),R=M.vertexLength,k=x.layoutVertexArray,j=x.collisionVertexArray,G=E.anchorX,W=E.anchorY;this._addCollisionDebugVertex(k,j,S,G,W,new y(s,c)),this._addCollisionDebugVertex(k,j,S,G,W,new y(d,c)),this._addCollisionDebugVertex(k,j,S,G,W,new y(d,g)),this._addCollisionDebugVertex(k,j,S,G,W,new y(s,g)),M.vertexLength+=4;let X=x.indexArray;X.emplaceBack(R,R+1),X.emplaceBack(R+1,R+2),X.emplaceBack(R+2,R+3),X.emplaceBack(R+3,R),M.primitiveLength+=4}addDebugCollisionBoxes(s,c,d,g){for(let x=s;x<c;x++){let S=this.collisionBoxArray.get(x);this.addCollisionDebugVertices(S.x1,S.y1,S.x2,S.y2,g?this.textCollisionBox:this.iconCollisionBox,S.anchorPoint,d)}}generateCollisionDebugBuffers(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new Iq(Xa,kG.members,Ki),this.iconCollisionBox=new Iq(Xa,kG.members,Ki);for(let s=0;s<this.symbolInstances.length;s++){let c=this.symbolInstances.get(s);this.addDebugCollisionBoxes(c.textBoxStartIndex,c.textBoxEndIndex,c,!0),this.addDebugCollisionBoxes(c.verticalTextBoxStartIndex,c.verticalTextBoxEndIndex,c,!0),this.addDebugCollisionBoxes(c.iconBoxStartIndex,c.iconBoxEndIndex,c,!1),this.addDebugCollisionBoxes(c.verticalIconBoxStartIndex,c.verticalIconBoxEndIndex,c,!1)}}_deserializeCollisionBoxesForSymbol(s,c,d,g,x,S,E,M,R){let k={};for(let j=c;j<d;j++){let G=s.get(j);k.textBox={x1:G.x1,y1:G.y1,x2:G.x2,y2:G.y2,anchorPointX:G.anchorPointX,anchorPointY:G.anchorPointY},k.textFeatureIndex=G.featureIndex;break}for(let j=g;j<x;j++){let G=s.get(j);k.verticalTextBox={x1:G.x1,y1:G.y1,x2:G.x2,y2:G.y2,anchorPointX:G.anchorPointX,anchorPointY:G.anchorPointY},k.verticalTextFeatureIndex=G.featureIndex;break}for(let j=S;j<E;j++){let G=s.get(j);k.iconBox={x1:G.x1,y1:G.y1,x2:G.x2,y2:G.y2,anchorPointX:G.anchorPointX,anchorPointY:G.anchorPointY},k.iconFeatureIndex=G.featureIndex;break}for(let j=M;j<R;j++){let G=s.get(j);k.verticalIconBox={x1:G.x1,y1:G.y1,x2:G.x2,y2:G.y2,anchorPointX:G.anchorPointX,anchorPointY:G.anchorPointY},k.verticalIconFeatureIndex=G.featureIndex;break}return k}deserializeCollisionBoxes(s){this.collisionArrays=[];for(let c=0;c<this.symbolInstances.length;c++){let d=this.symbolInstances.get(c);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(s,d.textBoxStartIndex,d.textBoxEndIndex,d.verticalTextBoxStartIndex,d.verticalTextBoxEndIndex,d.iconBoxStartIndex,d.iconBoxEndIndex,d.verticalIconBoxStartIndex,d.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(s,c){let d=s.placedSymbolArray.get(c),g=d.vertexStartIndex+4*d.numGlyphs;for(let x=d.vertexStartIndex;x<g;x+=4)s.indexArray.emplaceBack(x,x+1,x+2),s.indexArray.emplaceBack(x+1,x+2,x+3)}getSortedSymbolIndexes(s){if(this.sortedAngle===s&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;let c=Math.sin(s),d=Math.cos(s),g=[],x=[],S=[];for(let E=0;E<this.symbolInstances.length;++E){S.push(E);let M=this.symbolInstances.get(E);g.push(0|Math.round(c*M.anchorX+d*M.anchorY)),x.push(M.featureIndex)}return S.sort((E,M)=>g[E]-g[M]||x[M]-x[E]),S}addToSortKeyRanges(s,c){let d=this.sortKeyRanges[this.sortKeyRanges.length-1];d&&d.sortKey===c?d.symbolInstanceEnd=s+1:this.sortKeyRanges.push({sortKey:c,symbolInstanceStart:s,symbolInstanceEnd:s+1})}sortFeatures(s){if(this.sortFeaturesByY&&this.sortedAngle!==s&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(s),this.sortedAngle=s,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(let c of this.symbolInstanceIndexes){let d=this.symbolInstances.get(c);this.featureSortOrder.push(d.featureIndex),[d.rightJustifiedTextSymbolIndex,d.centerJustifiedTextSymbolIndex,d.leftJustifiedTextSymbolIndex].forEach((g,x,S)=>{g>=0&&S.indexOf(g)===x&&this.addIndicesForPlacedSymbol(this.text,g)}),d.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,d.verticalPlacedTextSymbolIndex),d.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,d.placedIconSymbolIndex),d.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,d.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}let QG,eW;jt("SymbolBucket",Pv,{omit:["layers","collisionBoxArray","features","compareText"]}),Pv.MAX_GLYPHS=65535,Pv.addDynamicAttributes=wq;var Eq={get paint(){return eW=eW||new b({"icon-opacity":new ar(xe.paint_symbol["icon-opacity"]),"icon-color":new ar(xe.paint_symbol["icon-color"]),"icon-halo-color":new ar(xe.paint_symbol["icon-halo-color"]),"icon-halo-width":new ar(xe.paint_symbol["icon-halo-width"]),"icon-halo-blur":new ar(xe.paint_symbol["icon-halo-blur"]),"icon-translate":new Gt(xe.paint_symbol["icon-translate"]),"icon-translate-anchor":new Gt(xe.paint_symbol["icon-translate-anchor"]),"text-opacity":new ar(xe.paint_symbol["text-opacity"]),"text-color":new ar(xe.paint_symbol["text-color"],{runtimeType:no,getOverride:l=>l.textColor,hasOverride:l=>!!l.textColor}),"text-halo-color":new ar(xe.paint_symbol["text-halo-color"]),"text-halo-width":new ar(xe.paint_symbol["text-halo-width"]),"text-halo-blur":new ar(xe.paint_symbol["text-halo-blur"]),"text-translate":new Gt(xe.paint_symbol["text-translate"]),"text-translate-anchor":new Gt(xe.paint_symbol["text-translate-anchor"])})},get layout(){return QG=QG||new b({"symbol-placement":new Gt(xe.layout_symbol["symbol-placement"]),"symbol-spacing":new Gt(xe.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Gt(xe.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new ar(xe.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Gt(xe.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Gt(xe.layout_symbol["icon-allow-overlap"]),"icon-overlap":new Gt(xe.layout_symbol["icon-overlap"]),"icon-ignore-placement":new Gt(xe.layout_symbol["icon-ignore-placement"]),"icon-optional":new Gt(xe.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Gt(xe.layout_symbol["icon-rotation-alignment"]),"icon-size":new ar(xe.layout_symbol["icon-size"]),"icon-text-fit":new Gt(xe.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Gt(xe.layout_symbol["icon-text-fit-padding"]),"icon-image":new ar(xe.layout_symbol["icon-image"]),"icon-rotate":new ar(xe.layout_symbol["icon-rotate"]),"icon-padding":new ar(xe.layout_symbol["icon-padding"]),"icon-keep-upright":new Gt(xe.layout_symbol["icon-keep-upright"]),"icon-offset":new ar(xe.layout_symbol["icon-offset"]),"icon-anchor":new ar(xe.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Gt(xe.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Gt(xe.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Gt(xe.layout_symbol["text-rotation-alignment"]),"text-field":new ar(xe.layout_symbol["text-field"]),"text-font":new ar(xe.layout_symbol["text-font"]),"text-size":new ar(xe.layout_symbol["text-size"]),"text-max-width":new ar(xe.layout_symbol["text-max-width"]),"text-line-height":new Gt(xe.layout_symbol["text-line-height"]),"text-letter-spacing":new ar(xe.layout_symbol["text-letter-spacing"]),"text-justify":new ar(xe.layout_symbol["text-justify"]),"text-radial-offset":new ar(xe.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Gt(xe.layout_symbol["text-variable-anchor"]),"text-variable-anchor-offset":new ar(xe.layout_symbol["text-variable-anchor-offset"]),"text-anchor":new ar(xe.layout_symbol["text-anchor"]),"text-max-angle":new Gt(xe.layout_symbol["text-max-angle"]),"text-writing-mode":new Gt(xe.layout_symbol["text-writing-mode"]),"text-rotate":new ar(xe.layout_symbol["text-rotate"]),"text-padding":new Gt(xe.layout_symbol["text-padding"]),"text-keep-upright":new Gt(xe.layout_symbol["text-keep-upright"]),"text-transform":new ar(xe.layout_symbol["text-transform"]),"text-offset":new ar(xe.layout_symbol["text-offset"]),"text-allow-overlap":new Gt(xe.layout_symbol["text-allow-overlap"]),"text-overlap":new Gt(xe.layout_symbol["text-overlap"]),"text-ignore-placement":new Gt(xe.layout_symbol["text-ignore-placement"]),"text-optional":new Gt(xe.layout_symbol["text-optional"])})}};class tW{constructor(s){if(s.property.overrides===void 0)throw new Error("overrides must be provided to instantiate FormatSectionOverride class");this.type=s.property.overrides?s.property.overrides.runtimeType:Qs,this.defaultValue=s}evaluate(s){if(s.formattedSection){let c=this.defaultValue.property.overrides;if(c&&c.hasOverride(s.formattedSection))return c.getOverride(s.formattedSection)}return s.feature&&s.featureState?this.defaultValue.evaluate(s.feature,s.featureState):this.defaultValue.property.specification.default}eachChild(s){this.defaultValue.isConstant()||s(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}jt("FormatSectionOverride",tW,{omit:["defaultValue"]});class L2 extends p{constructor(s){super(s,Eq)}recalculate(s,c){if(super.recalculate(s,c),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")==="map"?"map":"viewport"),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){let d=this.layout.get("text-writing-mode");if(d){let g=[];for(let x of d)g.indexOf(x)<0&&g.push(x);this.layout._values["text-writing-mode"]=g}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()}getValueAndResolveTokens(s,c,d,g){let x=this.layout.get(s).evaluate(c,{},d,g),S=this._unevaluatedLayout._values[s];return S.isDataDriven()||nv(S.value)||!x?x:function(E,M){return M.replace(/{([^{}]+)}/g,(R,k)=>E&&k in E?String(E[k]):"")}(c.properties,x)}createBucket(s){return new Pv(s)}queryRadius(){return 0}queryIntersectsFeature(){throw new Error("Should take a different path in FeatureIndex")}_setPaintOverrides(){for(let s of Eq.paint.overridableProperties){if(!L2.hasPaintOverride(this.layout,s))continue;let c=this.paint.get(s),d=new tW(c),g=new rv(d,c.property.specification),x=null;x=c.value.kind==="constant"||c.value.kind==="source"?new Zp("source",g):new Kp("composite",g,c.value.zoomStops),this.paint._values[s]=new rl(c.property,x,c.parameters)}}_handleOverridablePaintPropertyUpdate(s,c,d){return!(!this.layout||c.isDataDriven()||d.isDataDriven())&&L2.hasPaintOverride(this.layout,s)}static hasPaintOverride(s,c){let d=s.get("text-field"),g=Eq.paint.properties[c],x=!1,S=E=>{for(let M of E)if(g.overrides&&g.overrides.hasOverride(M))return void(x=!0)};if(d.value.kind==="constant"&&d.value.value instanceof Sa)S(d.value.value.sections);else if(d.value.kind==="source"){let E=R=>{x||(R instanceof Is&&wi(R.value)===st?S(R.value.sections):R instanceof Wm?S(R.sections):R.eachChild(E))},M=d.value;M._styleExpression&&E(M._styleExpression.expression)}return x}}let rW;var q6e={get paint(){return rW=rW||new b({"background-color":new Gt(xe.paint_background["background-color"]),"background-pattern":new vv(xe.paint_background["background-pattern"]),"background-opacity":new Gt(xe.paint_background["background-opacity"])})}};class N6e extends p{constructor(s){super(s,q6e)}}let nW;var k6e={get paint(){return nW=nW||new b({"raster-opacity":new Gt(xe.paint_raster["raster-opacity"]),"raster-hue-rotate":new Gt(xe.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Gt(xe.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Gt(xe.paint_raster["raster-brightness-max"]),"raster-saturation":new Gt(xe.paint_raster["raster-saturation"]),"raster-contrast":new Gt(xe.paint_raster["raster-contrast"]),"raster-resampling":new Gt(xe.paint_raster["raster-resampling"]),"raster-fade-duration":new Gt(xe.paint_raster["raster-fade-duration"])})}};class D6e extends p{constructor(s){super(s,k6e)}}class L6e extends p{constructor(s){super(s,{}),this.onAdd=c=>{this.implementation.onAdd&&this.implementation.onAdd(c,c.painter.context.gl)},this.onRemove=c=>{this.implementation.onRemove&&this.implementation.onRemove(c,c.painter.context.gl)},this.implementation=s}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){throw new Error("Custom layers cannot be serialized")}}class z6e{constructor(s){this._methodToThrottle=s,this._triggered=!1,typeof MessageChannel!="undefined"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._methodToThrottle()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._methodToThrottle()},0))}remove(){delete this._channel,this._methodToThrottle=()=>{}}}let Tq=6371008.8;class fd{constructor(s,c){if(isNaN(s)||isNaN(c))throw new Error(`Invalid LngLat object: (${s}, ${c})`);if(this.lng=+s,this.lat=+c,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new fd(te(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(s){let c=Math.PI/180,d=this.lat*c,g=s.lat*c,x=Math.sin(d)*Math.sin(g)+Math.cos(d)*Math.cos(g)*Math.cos((s.lng-this.lng)*c);return Tq*Math.acos(Math.min(x,1))}static convert(s){if(s instanceof fd)return s;if(Array.isArray(s)&&(s.length===2||s.length===3))return new fd(Number(s[0]),Number(s[1]));if(!Array.isArray(s)&&typeof s=="object"&&s!==null)return new fd(Number("lng"in s?s.lng:s.lon),Number(s.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}let iW=2*Math.PI*Tq;function oW(l){return iW*Math.cos(l*Math.PI/180)}function aW(l){return(180+l)/360}function sW(l){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+l*Math.PI/360)))/360}function lW(l,s){return l/oW(s)}function Aq(l){return 360/Math.PI*Math.atan(Math.exp((180-360*l)*Math.PI/180))-90}class q1{constructor(s,c,d=0){this.x=+s,this.y=+c,this.z=+d}static fromLngLat(s,c=0){let d=fd.convert(s);return new q1(aW(d.lng),sW(d.lat),lW(c,d.lat))}toLngLat(){return new fd(360*this.x-180,Aq(this.y))}toAltitude(){return this.z*oW(Aq(this.y))}meterInMercatorCoordinateUnits(){return 1/iW*(s=Aq(this.y),1/Math.cos(s*Math.PI/180));var s}}function uW(l,s,c){var d=2*Math.PI*6378137/256/Math.pow(2,c);return[l*d-2*Math.PI*6378137/2,s*d-2*Math.PI*6378137/2]}class Cq{constructor(s,c,d){if(!function(g,x,S){return!(g<0||g>25||S<0||S>=Math.pow(2,g)||x<0||x>=Math.pow(2,g))}(s,c,d))throw new Error(`x=${c}, y=${d}, z=${s} outside of bounds. 0<=x<${Math.pow(2,s)}, 0<=y<${Math.pow(2,s)} 0<=z<=25 `);this.z=s,this.x=c,this.y=d,this.key=N1(0,s,s,c,d)}equals(s){return this.z===s.z&&this.x===s.x&&this.y===s.y}url(s,c,d){let g=(S=this.y,E=this.z,M=uW(256*(x=this.x),256*(S=Math.pow(2,E)-S-1),E),R=uW(256*(x+1),256*(S+1),E),M[0]+","+M[1]+","+R[0]+","+R[1]);var x,S,E,M,R;let k=function(j,G,W){let X,Q="";for(let se=j;se>0;se--)X=1<<se-1,Q+=(G&X?1:0)+(W&X?2:0);return Q}(this.z,this.x,this.y);return s[(this.x+this.y)%s.length].replace(/{prefix}/g,(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(d==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace(/{ratio}/g,c>1?"@2x":"").replace(/{quadkey}/g,k).replace(/{bbox-epsg-3857}/g,g)}isChildOf(s){let c=this.z-s.z;return c>0&&s.x===this.x>>c&&s.y===this.y>>c}getTilePoint(s){let c=Math.pow(2,this.z);return new y((s.x*c-this.x)*Si,(s.y*c-this.y)*Si)}toString(){return`${this.z}/${this.x}/${this.y}`}}class cW{constructor(s,c){this.wrap=s,this.canonical=c,this.key=N1(s,c.z,c.z,c.x,c.y)}}class Rs{constructor(s,c,d,g,x){if(s<d)throw new Error(`overscaledZ should be >= z; overscaledZ = ${s}; z = ${d}`);this.overscaledZ=s,this.wrap=c,this.canonical=new Cq(d,+g,+x),this.key=N1(c,s,d,g,x)}clone(){return new Rs(this.overscaledZ,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)}equals(s){return this.overscaledZ===s.overscaledZ&&this.wrap===s.wrap&&this.canonical.equals(s.canonical)}scaledTo(s){if(s>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${s}; overscaledZ = ${this.overscaledZ}`);let c=this.canonical.z-s;return s>this.canonical.z?new Rs(s,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Rs(s,this.wrap,s,this.canonical.x>>c,this.canonical.y>>c)}calculateScaledKey(s,c){if(s>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${s}; overscaledZ = ${this.overscaledZ}`);let d=this.canonical.z-s;return s>this.canonical.z?N1(this.wrap*+c,s,this.canonical.z,this.canonical.x,this.canonical.y):N1(this.wrap*+c,s,s,this.canonical.x>>d,this.canonical.y>>d)}isChildOf(s){if(s.wrap!==this.wrap)return!1;let c=this.canonical.z-s.canonical.z;return s.overscaledZ===0||s.overscaledZ<this.overscaledZ&&s.canonical.x===this.canonical.x>>c&&s.canonical.y===this.canonical.y>>c}children(s){if(this.overscaledZ>=s)return[new Rs(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];let c=this.canonical.z+1,d=2*this.canonical.x,g=2*this.canonical.y;return[new Rs(c,this.wrap,c,d,g),new Rs(c,this.wrap,c,d+1,g),new Rs(c,this.wrap,c,d,g+1),new Rs(c,this.wrap,c,d+1,g+1)]}isLessThan(s){return this.wrap<s.wrap||!(this.wrap>s.wrap)&&(this.overscaledZ<s.overscaledZ||!(this.overscaledZ>s.overscaledZ)&&(this.canonical.x<s.canonical.x||!(this.canonical.x>s.canonical.x)&&this.canonical.y<s.canonical.y))}wrapped(){return new Rs(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(s){return new Rs(this.overscaledZ,s,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new cW(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}getTilePoint(s){return this.canonical.getTilePoint(new q1(s.x-this.wrap,s.y))}}function N1(l,s,c,d,g){(l*=2)<0&&(l=-1*l-1);let x=1<<c;return(x*x*l+x*g+d).toString(36)+c.toString(36)+s.toString(36)}jt("CanonicalTileID",Cq),jt("OverscaledTileID",Rs,{omit:["posMatrix"]});class pW{constructor(s,c,d,g=1,x=1,S=1,E=0){if(this.uid=s,c.height!==c.width)throw new RangeError("DEM tiles must be square");if(d&&!["mapbox","terrarium","custom"].includes(d))return void He(`"${d}" is not a valid encoding type. Valid types include "mapbox", "terrarium" and "custom".`);this.stride=c.height;let M=this.dim=c.height-2;switch(this.data=new Uint32Array(c.data.buffer),d){case"terrarium":this.redFactor=256,this.greenFactor=1,this.blueFactor=1/256,this.baseShift=32768;break;case"custom":this.redFactor=g,this.greenFactor=x,this.blueFactor=S,this.baseShift=E;break;default:this.redFactor=6553.6,this.greenFactor=25.6,this.blueFactor=.1,this.baseShift=1e4;}for(let R=0;R<M;R++)this.data[this._idx(-1,R)]=this.data[this._idx(0,R)],this.data[this._idx(M,R)]=this.data[this._idx(M-1,R)],this.data[this._idx(R,-1)]=this.data[this._idx(R,0)],this.data[this._idx(R,M)]=this.data[this._idx(R,M-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(M,-1)]=this.data[this._idx(M-1,0)],this.data[this._idx(-1,M)]=this.data[this._idx(0,M-1)],this.data[this._idx(M,M)]=this.data[this._idx(M-1,M-1)],this.min=Number.MAX_SAFE_INTEGER,this.max=Number.MIN_SAFE_INTEGER;for(let R=0;R<M;R++)for(let k=0;k<M;k++){let j=this.get(R,k);j>this.max&&(this.max=j),j<this.min&&(this.min=j)}}get(s,c){let d=new Uint8Array(this.data.buffer),g=4*this._idx(s,c);return this.unpack(d[g],d[g+1],d[g+2])}getUnpackVector(){return[this.redFactor,this.greenFactor,this.blueFactor,this.baseShift]}_idx(s,c){if(s<-1||s>=this.dim+1||c<-1||c>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(c+1)*this.stride+(s+1)}unpack(s,c,d){return s*this.redFactor+c*this.greenFactor+d*this.blueFactor-this.baseShift}getPixels(){return new Os({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(s,c,d){if(this.dim!==s.dim)throw new Error("dem dimension mismatch");let g=c*this.dim,x=c*this.dim+this.dim,S=d*this.dim,E=d*this.dim+this.dim;switch(c){case-1:g=x-1;break;case 1:x=g+1;}switch(d){case-1:S=E-1;break;case 1:E=S+1;}let M=-c*this.dim,R=-d*this.dim;for(let k=S;k<E;k++)for(let j=g;j<x;j++)this.data[this._idx(j,k)]=s.data[this._idx(j+M,k+R)]}}jt("DEMData",pW);class dW{constructor(s){this._stringToNumber={},this._numberToString=[];for(let c=0;c<s.length;c++){let d=s[c];this._stringToNumber[d]=c,this._numberToString[c]=d}}encode(s){return this._stringToNumber[s]}decode(s){if(s>=this._numberToString.length)throw new Error(`Out of bounds. Index requested n=${s} can't be >= this._numberToString.length ${this._numberToString.length}`);return this._numberToString[s]}}class fW{constructor(s,c,d,g,x){this.type="Feature",this._vectorTileFeature=s,s._z=c,s._x=d,s._y=g,this.properties=s.properties,this.id=x}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry}set geometry(s){this._geometry=s}toJSON(){let s={geometry:this.geometry};for(let c in this)c!=="_geometry"&&c!=="_vectorTileFeature"&&(s[c]=this[c]);return s}}class hW{constructor(s,c){this.tileID=s,this.x=s.canonical.x,this.y=s.canonical.y,this.z=s.canonical.z,this.grid=new Qp(Si,16,0),this.grid3D=new Qp(Si,16,0),this.featureIndexArray=new So,this.promoteId=c}insert(s,c,d,g,x,S){let E=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(d,g,x);let M=S?this.grid3D:this.grid;for(let R=0;R<c.length;R++){let k=c[R],j=[1/0,1/0,-1/0,-1/0];for(let G=0;G<k.length;G++){let W=k[G];j[0]=Math.min(j[0],W.x),j[1]=Math.min(j[1],W.y),j[2]=Math.max(j[2],W.x),j[3]=Math.max(j[3],W.y)}j[0]<Si&&j[1]<Si&&j[2]>=0&&j[3]>=0&&M.insert(E,j[0],j[1],j[2],j[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=new cd.VectorTile(new vq(this.rawTileData)).layers,this.sourceLayerCoder=new dW(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers}query(s,c,d,g){this.loadVTLayers();let x=s.params||{},S=Si/s.tileSize/s.scale,E=Q0(x.filter),M=s.queryGeometry,R=s.queryPadding*S,k=vW(M),j=this.grid.query(k.minX-R,k.minY-R,k.maxX+R,k.maxY+R),G=vW(s.cameraQueryGeometry),W=this.grid3D.query(G.minX-R,G.minY-R,G.maxX+R,G.maxY+R,(se,pe,Oe,_e)=>function(Me,Ue,at,kt,nr){for(let Tt of Me)if(Ue<=Tt.x&&at<=Tt.y&&kt>=Tt.x&&nr>=Tt.y)return!0;let qt=[new y(Ue,at),new y(Ue,nr),new y(kt,nr),new y(kt,at)];if(Me.length>2){for(let Tt of qt)if(Sv(Me,Tt))return!0}for(let Tt=0;Tt<Me.length-1;Tt++)if(yze(Me[Tt],Me[Tt+1],qt))return!0;return!1}(s.cameraQueryGeometry,se-R,pe-R,Oe+R,_e+R));for(let se of W)j.push(se);j.sort(F6e);let X={},Q;for(let se=0;se<j.length;se++){let pe=j[se];if(pe===Q)continue;Q=pe;let Oe=this.featureIndexArray.get(pe),_e=null;this.loadMatchingFeature(X,Oe.bucketIndex,Oe.sourceLayerIndex,Oe.featureIndex,E,x.layers,x.availableImages,c,d,g,(Me,Ue,at)=>(_e||(_e=sh(Me)),Ue.queryIntersectsFeature(M,Me,at,_e,this.z,s.transform,S,s.pixelPosMatrix)))}return X}loadMatchingFeature(s,c,d,g,x,S,E,M,R,k,j){let G=this.bucketLayerIDs[c];if(S&&!function(se,pe){for(let Oe=0;Oe<se.length;Oe++)if(pe.indexOf(se[Oe])>=0)return!0;return!1}(S,G))return;let W=this.sourceLayerCoder.decode(d),X=this.vtLayers[W].feature(g);if(x.needGeometry){let se=lh(X,!0);if(!x.filter(new Ln(this.tileID.overscaledZ),se,this.tileID.canonical))return}else if(!x.filter(new Ln(this.tileID.overscaledZ),X))return;let Q=this.getId(X,W);for(let se=0;se<G.length;se++){let pe=G[se];if(S&&S.indexOf(pe)<0)continue;let Oe=M[pe];if(!Oe)continue;let _e={};Q&&k&&(_e=k.getState(Oe.sourceLayer||"_geojsonTileLayer",Q));let Me=ue({},R[pe]);Me.paint=mW(Me.paint,Oe.paint,X,_e,E),Me.layout=mW(Me.layout,Oe.layout,X,_e,E);let Ue=!j||j(X,Oe,_e);if(!Ue)continue;let at=new fW(X,this.z,this.x,this.y,Q);at.layer=Me;let kt=s[pe];kt===void 0&&(kt=s[pe]=[]),kt.push({featureIndex:g,feature:at,intersectionZ:Ue})}}lookupSymbolFeatures(s,c,d,g,x,S,E,M){let R={};this.loadVTLayers();let k=Q0(x);for(let j of s)this.loadMatchingFeature(R,d,g,j,k,S,E,M,c);return R}hasLayer(s){for(let c of this.bucketLayerIDs)for(let d of c)if(s===d)return!0;return!1}getId(s,c){let d=s.id;return this.promoteId&&(d=s.properties[typeof this.promoteId=="string"?this.promoteId:this.promoteId[c]],typeof d=="boolean"&&(d=Number(d))),d}}function mW(l,s,c,d,g){return ye(l,(x,S)=>{let E=s instanceof nh?s.get(S):null;return E&&E.evaluate?E.evaluate(c,d,g):E})}function vW(l){let s=1/0,c=1/0,d=-1/0,g=-1/0;for(let x of l)s=Math.min(s,x.x),c=Math.min(c,x.y),d=Math.max(d,x.x),g=Math.max(g,x.y);return{minX:s,minY:c,maxX:d,maxY:g}}function F6e(l,s){return s-l}function gW(l,s,c,d,g){let x=[];for(let S=0;S<l.length;S++){let E=l[S],M;for(let R=0;R<E.length-1;R++){let k=E[R],j=E[R+1];k.x<s&&j.x<s||(k.x<s?k=new y(s,k.y+(s-k.x)/(j.x-k.x)*(j.y-k.y))._round():j.x<s&&(j=new y(s,k.y+(s-k.x)/(j.x-k.x)*(j.y-k.y))._round()),k.y<c&&j.y<c||(k.y<c?k=new y(k.x+(c-k.y)/(j.y-k.y)*(j.x-k.x),c)._round():j.y<c&&(j=new y(k.x+(c-k.y)/(j.y-k.y)*(j.x-k.x),c)._round()),k.x>=d&&j.x>=d||(k.x>=d?k=new y(d,k.y+(d-k.x)/(j.x-k.x)*(j.y-k.y))._round():j.x>=d&&(j=new y(d,k.y+(d-k.x)/(j.x-k.x)*(j.y-k.y))._round()),k.y>=g&&j.y>=g||(k.y>=g?k=new y(k.x+(g-k.y)/(j.y-k.y)*(j.x-k.x),g)._round():j.y>=g&&(j=new y(k.x+(g-k.y)/(j.y-k.y)*(j.x-k.x),g)._round()),M&&k.equals(M[M.length-1])||(M=[k],x.push(M)),M.push(j)))))}}return x}jt("FeatureIndex",hW,{omit:["rawTileData","sourceLayerCoder"]});class hd extends y{constructor(s,c,d,g){super(s,c),this.angle=d,g!==void 0&&(this.segment=g)}clone(){return new hd(this.x,this.y,this.angle,this.segment)}}function yW(l,s,c,d,g){if(s.segment===void 0||c===0)return!0;let x=s,S=s.segment+1,E=0;for(;E>-c/2;){if(S--,S<0)return!1;E-=l[S].dist(x),x=l[S]}E+=l[S].dist(l[S+1]),S++;let M=[],R=0;for(;E<c/2;){let k=l[S],j=l[S+1];if(!j)return!1;let G=l[S-1].angleTo(k)-k.angleTo(j);for(G=Math.abs((G+3*Math.PI)%(2*Math.PI)-Math.PI),M.push({distance:E,angleDelta:G}),R+=G;E-M[0].distance>d;)R-=M.shift().angleDelta;if(R>g)return!1;S++,E+=k.dist(j)}return!0}function _W(l){let s=0;for(let c=0;c<l.length-1;c++)s+=l[c].dist(l[c+1]);return s}function bW(l,s,c){return l?.6*s*c:0}function xW(l,s){return Math.max(l?l.right-l.left:0,s?s.right-s.left:0)}function j6e(l,s,c,d,g,x){let S=bW(c,g,x),E=xW(c,d)*x,M=0,R=_W(l)/2;for(let k=0;k<l.length-1;k++){let j=l[k],G=l[k+1],W=j.dist(G);if(M+W>R){let X=(R-M)/W,Q=Ko.number(j.x,G.x,X),se=Ko.number(j.y,G.y,X),pe=new hd(Q,se,G.angleTo(j),k);return pe._round(),!S||yW(l,pe,E,S,s)?pe:void 0}M+=W}}function B6e(l,s,c,d,g,x,S,E,M){let R=bW(d,x,S),k=xW(d,g),j=k*S,G=l[0].x===0||l[0].x===M||l[0].y===0||l[0].y===M;return s-j<s/4&&(s=j+s/4),wW(l,G?s/2*E%s:(k/2+2*x)*S*E%s,s,R,c,j,G,!1,M)}function wW(l,s,c,d,g,x,S,E,M){let R=x/2,k=_W(l),j=0,G=s-c,W=[];for(let X=0;X<l.length-1;X++){let Q=l[X],se=l[X+1],pe=Q.dist(se),Oe=se.angleTo(Q);for(;G+c<j+pe;){G+=c;let _e=(G-j)/pe,Me=Ko.number(Q.x,se.x,_e),Ue=Ko.number(Q.y,se.y,_e);if(Me>=0&&Me<M&&Ue>=0&&Ue<M&&G-R>=0&&G+R<=k){let at=new hd(Me,Ue,Oe,X);at._round(),d&&!yW(l,at,x,d,g)||W.push(at)}}j+=pe}return E||W.length||S||(W=wW(l,j/2,c,d,g,x,S,!0,M)),W}jt("Anchor",hd);let Ov=Ma;function SW(l,s,c,d){let g=[],x=l.image,S=x.pixelRatio,E=x.paddedRect.w-2*Ov,M=x.paddedRect.h-2*Ov,R={x1:l.left,y1:l.top,x2:l.right,y2:l.bottom},k=x.stretchX||[[0,E]],j=x.stretchY||[[0,M]],G=(Ze,Jt)=>Ze+Jt[1]-Jt[0],W=k.reduce(G,0),X=j.reduce(G,0),Q=E-W,se=M-X,pe=0,Oe=W,_e=0,Me=X,Ue=0,at=Q,kt=0,nr=se;if(x.content&&d){let Ze=x.content,Jt=Ze[2]-Ze[0],Zt=Ze[3]-Ze[1];(x.textFitWidth||x.textFitHeight)&&(R=YG(l)),pe=z2(k,0,Ze[0]),_e=z2(j,0,Ze[1]),Oe=z2(k,Ze[0],Ze[2]),Me=z2(j,Ze[1],Ze[3]),Ue=Ze[0]-pe,kt=Ze[1]-_e,at=Jt-Oe,nr=Zt-Me}let qt=R.x1,Tt=R.y1,Yt=R.x2-qt,Vt=R.y2-Tt,Ft=(Ze,Jt,Zt,hr)=>{let In=F2(Ze.stretch-pe,Oe,Yt,qt),xn=j2(Ze.fixed-Ue,at,Ze.stretch,W),Vi=F2(Jt.stretch-_e,Me,Vt,Tt),il=j2(Jt.fixed-kt,nr,Jt.stretch,X),uo=F2(Zt.stretch-pe,Oe,Yt,qt),Ui=j2(Zt.fixed-Ue,at,Zt.stretch,W),Qo=F2(hr.stretch-_e,Me,Vt,Tt),ea=j2(hr.fixed-kt,nr,hr.stretch,X),ta=new y(In,Vi),ui=new y(uo,Vi),$i=new y(uo,Qo),Eo=new y(In,Qo),co=new y(xn/S,il/S),ra=new y(Ui/S,ea/S),po=s*Math.PI/180;if(po){let nn=Math.sin(po),Mn=Math.cos(po),Bn=[Mn,-nn,nn,Mn];ta._matMult(Bn),ui._matMult(Bn),Eo._matMult(Bn),$i._matMult(Bn)}let qs=Ze.stretch+Ze.fixed,Pa=Jt.stretch+Jt.fixed;return{tl:ta,tr:ui,bl:Eo,br:$i,tex:{x:x.paddedRect.x+Ov+qs,y:x.paddedRect.y+Ov+Pa,w:Zt.stretch+Zt.fixed-qs,h:hr.stretch+hr.fixed-Pa},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:co,pixelOffsetBR:ra,minFontScaleX:at/S/Yt,minFontScaleY:nr/S/Vt,isSDF:c}};if(d&&(x.stretchX||x.stretchY)){let Ze=IW(k,Q,W),Jt=IW(j,se,X);for(let Zt=0;Zt<Ze.length-1;Zt++){let hr=Ze[Zt],In=Ze[Zt+1];for(let xn=0;xn<Jt.length-1;xn++)g.push(Ft(hr,Jt[xn],In,Jt[xn+1]))}}else g.push(Ft({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:E+1},{fixed:0,stretch:M+1}));return g}function z2(l,s,c){let d=0;for(let g of l)d+=Math.max(s,Math.min(c,g[1]))-Math.max(s,Math.min(c,g[0]));return d}function IW(l,s,c){let d=[{fixed:-Ov,stretch:0}];for(let[g,x]of l){let S=d[d.length-1];d.push({fixed:g-S.stretch,stretch:S.stretch}),d.push({fixed:g-S.stretch,stretch:S.stretch+(x-g)})}return d.push({fixed:s+Ov,stretch:c}),d}function F2(l,s,c,d){return l/s*c+d}function j2(l,s,c,d){return l-s*c/d}class B2{constructor(s,c,d,g,x,S,E,M,R,k){var j;if(this.boxStartIndex=s.length,R){let G=S.top,W=S.bottom,X=S.collisionPadding;X&&(G-=X[1],W+=X[3]);let Q=W-G;Q>0&&(Q=Math.max(10,Q),this.circleDiameter=Q)}else{let G=!((j=S.image)===null||j===void 0)&&j.content&&(S.image.textFitWidth||S.image.textFitHeight)?YG(S):{x1:S.left,y1:S.top,x2:S.right,y2:S.bottom};G.y1=G.y1*E-M[0],G.y2=G.y2*E+M[2],G.x1=G.x1*E-M[3],G.x2=G.x2*E+M[1];let W=S.collisionPadding;if(W&&(G.x1-=W[0]*E,G.y1-=W[1]*E,G.x2+=W[2]*E,G.y2+=W[3]*E),k){let X=new y(G.x1,G.y1),Q=new y(G.x2,G.y1),se=new y(G.x1,G.y2),pe=new y(G.x2,G.y2),Oe=k*Math.PI/180;X._rotate(Oe),Q._rotate(Oe),se._rotate(Oe),pe._rotate(Oe),G.x1=Math.min(X.x,Q.x,se.x,pe.x),G.x2=Math.max(X.x,Q.x,se.x,pe.x),G.y1=Math.min(X.y,Q.y,se.y,pe.y),G.y2=Math.max(X.y,Q.y,se.y,pe.y)}s.emplaceBack(c.x,c.y,G.x1,G.y1,G.x2,G.y2,d,g,x)}this.boxEndIndex=s.length}}class V6e{constructor(s=[],c=(d,g)=>d<g?-1:d>g?1:0){if(this.data=s,this.length=this.data.length,this.compare=c,this.length>0)for(let d=(this.length>>1)-1;d>=0;d--)this._down(d)}push(s){this.data.push(s),this._up(this.length++)}pop(){if(this.length===0)return;let s=this.data[0],c=this.data.pop();return--this.length>0&&(this.data[0]=c,this._down(0)),s}peek(){return this.data[0]}_up(s){let{data:c,compare:d}=this,g=c[s];for(;s>0;){let x=s-1>>1,S=c[x];if(d(g,S)>=0)break;c[s]=S,s=x}c[s]=g}_down(s){let{data:c,compare:d}=this,g=this.length>>1,x=c[s];for(;s<g;){let S=1+(s<<1),E=S+1;if(E<this.length&&d(c[E],c[S])<0&&(S=E),d(c[S],x)>=0)break;c[s]=c[S],s=S}c[s]=x}}function U6e(l,s=1,c=!1){let d=1/0,g=1/0,x=-1/0,S=-1/0,E=l[0];for(let W=0;W<E.length;W++){let X=E[W];(!W||X.x<d)&&(d=X.x),(!W||X.y<g)&&(g=X.y),(!W||X.x>x)&&(x=X.x),(!W||X.y>S)&&(S=X.y)}let M=Math.min(x-d,S-g),R=M/2,k=new V6e([],$6e);if(M===0)return new y(d,g);for(let W=d;W<x;W+=M)for(let X=g;X<S;X+=M)k.push(new Rv(W+R,X+R,R,l));let j=function(W){let X=0,Q=0,se=0,pe=W[0];for(let Oe=0,_e=pe.length,Me=_e-1;Oe<_e;Me=Oe++){let Ue=pe[Oe],at=pe[Me],kt=Ue.x*at.y-at.x*Ue.y;Q+=(Ue.x+at.x)*kt,se+=(Ue.y+at.y)*kt,X+=3*kt}return new Rv(Q/X,se/X,0,W)}(l),G=k.length;for(;k.length;){let W=k.pop();(W.d>j.d||!j.d)&&(j=W,c&&console.log("found best %d after %d probes",Math.round(1e4*W.d)/1e4,G)),W.max-j.d<=s||(R=W.h/2,k.push(new Rv(W.p.x-R,W.p.y-R,R,l)),k.push(new Rv(W.p.x+R,W.p.y-R,R,l)),k.push(new Rv(W.p.x-R,W.p.y+R,R,l)),k.push(new Rv(W.p.x+R,W.p.y+R,R,l)),G+=4)}return c&&(console.log(`num probes: ${G}`),console.log(`best distance: ${j.d}`)),j.p}function $6e(l,s){return s.max-l.max}function Rv(l,s,c,d){this.p=new y(l,s),this.h=c,this.d=function(g,x){let S=!1,E=1/0;for(let M=0;M<x.length;M++){let R=x[M];for(let k=0,j=R.length,G=j-1;k<j;G=k++){let W=R[k],X=R[G];W.y>g.y!=X.y>g.y&&g.x<(X.x-W.x)*(g.y-W.y)/(X.y-W.y)+W.x&&(S=!S),E=Math.min(E,sG(g,W,X))}}return(S?1:-1)*Math.sqrt(E)}(this.p,d),this.max=this.d+this.h*Math.SQRT2}var lo;i.aq=void 0,(lo=i.aq||(i.aq={}))[lo.center=1]="center",lo[lo.left=2]="left",lo[lo.right=3]="right",lo[lo.top=4]="top",lo[lo.bottom=5]="bottom",lo[lo["top-left"]=6]="top-left",lo[lo["top-right"]=7]="top-right",lo[lo["bottom-left"]=8]="bottom-left",lo[lo["bottom-right"]=9]="bottom-right";let md=7,Mq=Number.POSITIVE_INFINITY;function EW(l,s){return s[1]!==Mq?function(c,d,g){let x=0,S=0;switch(d=Math.abs(d),g=Math.abs(g),c){case"top-right":case"top-left":case"top":S=g-md;break;case"bottom-right":case"bottom-left":case"bottom":S=-g+md;}switch(c){case"top-right":case"bottom-right":case"right":x=-d;break;case"top-left":case"bottom-left":case"left":x=d;}return[x,S]}(l,s[0],s[1]):function(c,d){let g=0,x=0;d<0&&(d=0);let S=d/Math.SQRT2;switch(c){case"top-right":case"top-left":x=S-md;break;case"bottom-right":case"bottom-left":x=-S+md;break;case"bottom":x=-d+md;break;case"top":x=d-md;}switch(c){case"top-right":case"bottom-right":g=-S;break;case"top-left":case"bottom-left":g=S;break;case"left":g=d;break;case"right":g=-d;}return[g,x]}(l,s[0])}function TW(l,s,c){var d;let g=l.layout,x=(d=g.get("text-variable-anchor-offset"))===null||d===void 0?void 0:d.evaluate(s,{},c);if(x){let E=x.values,M=[];for(let R=0;R<E.length;R+=2){let k=M[R]=E[R],j=E[R+1].map(G=>G*Pi);k.startsWith("top")?j[1]-=md:k.startsWith("bottom")&&(j[1]+=md),M[R+1]=j}return new Ha(M)}let S=g.get("text-variable-anchor");if(S){let E;E=l._unevaluatedLayout.getValue("text-radial-offset")!==void 0?[g.get("text-radial-offset").evaluate(s,{},c)*Pi,Mq]:g.get("text-offset").evaluate(s,{},c).map(R=>R*Pi);let M=[];for(let R of S)M.push(R,EW(R,E));return new Ha(M)}return null}function Pq(l){switch(l){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left";}return"center"}function H6e(l,s,c,d,g,x,S,E,M,R,k){let j=x.textMaxSize.evaluate(s,{});j===void 0&&(j=S);let G=l.layers[0].layout,W=G.get("icon-offset").evaluate(s,{},k),X=CW(c.horizontal),Q=S/24,se=l.tilePixelRatio*Q,pe=l.tilePixelRatio*j/24,Oe=l.tilePixelRatio*E,_e=l.tilePixelRatio*G.get("symbol-spacing"),Me=G.get("text-padding")*l.tilePixelRatio,Ue=function(Ze,Jt,Zt,hr=1){let In=Ze.get("icon-padding").evaluate(Jt,{},Zt),xn=In&&In.values;return[xn[0]*hr,xn[1]*hr,xn[2]*hr,xn[3]*hr]}(G,s,k,l.tilePixelRatio),at=G.get("text-max-angle")/180*Math.PI,kt=G.get("text-rotation-alignment")!=="viewport"&&G.get("symbol-placement")!=="point",nr=G.get("icon-rotation-alignment")==="map"&&G.get("symbol-placement")!=="point",qt=G.get("symbol-placement"),Tt=_e/2,Yt=G.get("icon-text-fit"),Vt;d&&Yt!=="none"&&(l.allowVerticalPlacement&&c.vertical&&(Vt=XG(d,c.vertical,Yt,G.get("icon-text-fit-padding"),W,Q)),X&&(d=XG(d,X,Yt,G.get("icon-text-fit-padding"),W,Q)));let Ft=(Ze,Jt)=>{Jt.x<0||Jt.x>=Si||Jt.y<0||Jt.y>=Si||function(Zt,hr,In,xn,Vi,il,uo,Ui,Qo,ea,ta,ui,$i,Eo,co,ra,po,qs,Pa,nn,Mn,Bn,Ja,ri,qv){let Iu=Zt.addToLineVertexArray(hr,In),Eu,ol,Ns,Yi,Nc=0,L1=0,RW=0,qW=0,zq=-1,Fq=-1,kc={},NW=_v("");if(Zt.allowVerticalPlacement&&xn.vertical){let To=Ui.layout.get("text-rotate").evaluate(Mn,{},ri)+90;Ns=new B2(Qo,hr,ea,ta,ui,xn.vertical,$i,Eo,co,To),uo&&(Yi=new B2(Qo,hr,ea,ta,ui,uo,po,qs,co,To))}if(Vi){let To=Ui.layout.get("icon-rotate").evaluate(Mn,{}),ks=Ui.layout.get("icon-text-fit")!=="none",ch=SW(Vi,To,Ja,ks),Zl=uo?SW(uo,To,Ja,ks):void 0;ol=new B2(Qo,hr,ea,ta,ui,Vi,po,qs,!1,To),Nc=4*ch.length;let ph=Zt.iconSizeData,Tu=null;ph.kind==="source"?(Tu=[Su*Ui.layout.get("icon-size").evaluate(Mn,{})],Tu[0]>dd&&He(`${Zt.layerIds[0]}: Value for "icon-size" is >= ${R1}. Reduce your "icon-size".`)):ph.kind==="composite"&&(Tu=[Su*Bn.compositeIconSizes[0].evaluate(Mn,{},ri),Su*Bn.compositeIconSizes[1].evaluate(Mn,{},ri)],(Tu[0]>dd||Tu[1]>dd)&&He(`${Zt.layerIds[0]}: Value for "icon-size" is >= ${R1}. Reduce your "icon-size".`)),Zt.addSymbols(Zt.icon,ch,Tu,nn,Pa,Mn,i.ah.none,hr,Iu.lineStartIndex,Iu.lineLength,-1,ri),zq=Zt.icon.placedSymbolArray.length-1,Zl&&(L1=4*Zl.length,Zt.addSymbols(Zt.icon,Zl,Tu,nn,Pa,Mn,i.ah.vertical,hr,Iu.lineStartIndex,Iu.lineLength,-1,ri),Fq=Zt.icon.placedSymbolArray.length-1)}let kW=Object.keys(xn.horizontal);for(let To of kW){let ks=xn.horizontal[To];if(!Eu){NW=_v(ks.text);let Zl=Ui.layout.get("text-rotate").evaluate(Mn,{},ri);Eu=new B2(Qo,hr,ea,ta,ui,ks,$i,Eo,co,Zl)}let ch=ks.positionedLines.length===1;if(RW+=AW(Zt,hr,ks,il,Ui,co,Mn,ra,Iu,xn.vertical?i.ah.horizontal:i.ah.horizontalOnly,ch?kW:[To],kc,zq,Bn,ri),ch)break}xn.vertical&&(qW+=AW(Zt,hr,xn.vertical,il,Ui,co,Mn,ra,Iu,i.ah.vertical,["vertical"],kc,Fq,Bn,ri));let Z6e=Eu?Eu.boxStartIndex:Zt.collisionBoxArray.length,K6e=Eu?Eu.boxEndIndex:Zt.collisionBoxArray.length,Y6e=Ns?Ns.boxStartIndex:Zt.collisionBoxArray.length,X6e=Ns?Ns.boxEndIndex:Zt.collisionBoxArray.length,J6e=ol?ol.boxStartIndex:Zt.collisionBoxArray.length,Q6e=ol?ol.boxEndIndex:Zt.collisionBoxArray.length,eFe=Yi?Yi.boxStartIndex:Zt.collisionBoxArray.length,tFe=Yi?Yi.boxEndIndex:Zt.collisionBoxArray.length,Wl=-1,U2=(To,ks)=>To&&To.circleDiameter?Math.max(To.circleDiameter,ks):ks;Wl=U2(Eu,Wl),Wl=U2(Ns,Wl),Wl=U2(ol,Wl),Wl=U2(Yi,Wl);let DW=Wl>-1?1:0;DW&&(Wl*=qv/Pi),Zt.glyphOffsetArray.length>=Pv.MAX_GLYPHS&&He("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),Mn.sortKey!==void 0&&Zt.addToSortKeyRanges(Zt.symbolInstances.length,Mn.sortKey);let rFe=TW(Ui,Mn,ri),[nFe,iFe]=function(To,ks){let ch=To.length,Zl=ks==null?void 0:ks.values;if((Zl==null?void 0:Zl.length)>0)for(let ph=0;ph<Zl.length;ph+=2){let Tu=Zl[ph+1];To.emplaceBack(i.aq[Zl[ph]],Tu[0],Tu[1])}return[ch,To.length]}(Zt.textAnchorOffsets,rFe);Zt.symbolInstances.emplaceBack(hr.x,hr.y,kc.right>=0?kc.right:-1,kc.center>=0?kc.center:-1,kc.left>=0?kc.left:-1,kc.vertical||-1,zq,Fq,NW,Z6e,K6e,Y6e,X6e,J6e,Q6e,eFe,tFe,ea,RW,qW,Nc,L1,DW,0,$i,Wl,nFe,iFe)}(l,Jt,Ze,c,d,g,Vt,l.layers[0],l.collisionBoxArray,s.index,s.sourceLayerIndex,l.index,se,[Me,Me,Me,Me],kt,M,Oe,Ue,nr,W,s,x,R,k,S)};if(qt==="line")for(let Ze of gW(s.geometry,0,0,Si,Si)){let Jt=B6e(Ze,_e,at,c.vertical||X,d,24,pe,l.overscaling,Si);for(let Zt of Jt)X&&G6e(l,X.text,Tt,Zt)||Ft(Ze,Zt)}else if(qt==="line-center"){for(let Ze of s.geometry)if(Ze.length>1){let Jt=j6e(Ze,at,c.vertical||X,d,24,pe);Jt&&Ft(Ze,Jt)}}else if(s.type==="Polygon")for(let Ze of Km(s.geometry,0)){let Jt=U6e(Ze,16);Ft(Ze[0],new hd(Jt.x,Jt.y,0))}else if(s.type==="LineString")for(let Ze of s.geometry)Ft(Ze,new hd(Ze[0].x,Ze[0].y,0));else if(s.type==="Point")for(let Ze of s.geometry)for(let Jt of Ze)Ft([Jt],new hd(Jt.x,Jt.y,0))}function AW(l,s,c,d,g,x,S,E,M,R,k,j,G,W,X){let Q=function(Oe,_e,Me,Ue,at,kt,nr,qt){let Tt=Ue.layout.get("text-rotate").evaluate(kt,{})*Math.PI/180,Yt=[];for(let Vt of _e.positionedLines)for(let Ft of Vt.positionedGlyphs){if(!Ft.rect)continue;let Ze=Ft.rect||{},Jt=UG+1,Zt=!0,hr=1,In=0,xn=(at||qt)&&Ft.vertical,Vi=Ft.metrics.advance*Ft.scale/2;if(qt&&_e.verticalizable&&(In=Vt.lineOffset/2-(Ft.imageName?-(Pi-Ft.metrics.width*Ft.scale)/2:(Ft.scale-1)*Pi)),Ft.imageName){let nn=nr[Ft.imageName];Zt=nn.sdf,hr=nn.pixelRatio,Jt=Ma/hr}let il=at?[Ft.x+Vi,Ft.y]:[0,0],uo=at?[0,0]:[Ft.x+Vi+Me[0],Ft.y+Me[1]-In],Ui=[0,0];xn&&(Ui=uo,uo=[0,0]);let Qo=Ft.metrics.isDoubleResolution?2:1,ea=(Ft.metrics.left-Jt)*Ft.scale-Vi+uo[0],ta=(-Ft.metrics.top-Jt)*Ft.scale+uo[1],ui=ea+Ze.w/Qo*Ft.scale/hr,$i=ta+Ze.h/Qo*Ft.scale/hr,Eo=new y(ea,ta),co=new y(ui,ta),ra=new y(ea,$i),po=new y(ui,$i);if(xn){let nn=new y(-Vi,Vi-P1),Mn=-Math.PI/2,Bn=Pi/2-Vi,Ja=new y(5-P1-Bn,-(Ft.imageName?Bn:0)),ri=new y(...Ui);Eo._rotateAround(Mn,nn)._add(Ja)._add(ri),co._rotateAround(Mn,nn)._add(Ja)._add(ri),ra._rotateAround(Mn,nn)._add(Ja)._add(ri),po._rotateAround(Mn,nn)._add(Ja)._add(ri)}if(Tt){let nn=Math.sin(Tt),Mn=Math.cos(Tt),Bn=[Mn,-nn,nn,Mn];Eo._matMult(Bn),co._matMult(Bn),ra._matMult(Bn),po._matMult(Bn)}let qs=new y(0,0),Pa=new y(0,0);Yt.push({tl:Eo,tr:co,bl:ra,br:po,tex:Ze,writingMode:_e.writingMode,glyphOffset:il,sectionIndex:Ft.sectionIndex,isSDF:Zt,pixelOffsetTL:qs,pixelOffsetBR:Pa,minFontScaleX:0,minFontScaleY:0})}return Yt}(0,c,E,g,x,S,d,l.allowVerticalPlacement),se=l.textSizeData,pe=null;se.kind==="source"?(pe=[Su*g.layout.get("text-size").evaluate(S,{})],pe[0]>dd&&He(`${l.layerIds[0]}: Value for "text-size" is >= ${R1}. Reduce your "text-size".`)):se.kind==="composite"&&(pe=[Su*W.compositeTextSizes[0].evaluate(S,{},X),Su*W.compositeTextSizes[1].evaluate(S,{},X)],(pe[0]>dd||pe[1]>dd)&&He(`${l.layerIds[0]}: Value for "text-size" is >= ${R1}. Reduce your "text-size".`)),l.addSymbols(l.text,Q,pe,E,x,S,R,s,M.lineStartIndex,M.lineLength,G,X);for(let Oe of k)j[Oe]=l.text.placedSymbolArray.length-1;return 4*Q.length}function CW(l){for(let s in l)return l[s];return null}function G6e(l,s,c,d){let g=l.compareText;if(s in g){let x=g[s];for(let S=x.length-1;S>=0;S--)if(d.dist(x[S])<c)return!0}else g[s]=[];return g[s].push(d),!1}let MW=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class Oq{static from(s){if(!(s instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");let[c,d]=new Uint8Array(s,0,2);if(c!==219)throw new Error("Data does not appear to be in a KDBush format.");let g=d>>4;if(g!==1)throw new Error(`Got v${g} data when expected v1.`);let x=MW[15&d];if(!x)throw new Error("Unrecognized array type.");let[S]=new Uint16Array(s,2,1),[E]=new Uint32Array(s,4,1);return new Oq(E,S,x,s)}constructor(s,c=64,d=Float64Array,g){if(isNaN(s)||s<0)throw new Error(`Unpexpected numItems value: ${s}.`);this.numItems=+s,this.nodeSize=Math.min(Math.max(+c,2),65535),this.ArrayType=d,this.IndexArrayType=s<65536?Uint16Array:Uint32Array;let x=MW.indexOf(this.ArrayType),S=2*s*this.ArrayType.BYTES_PER_ELEMENT,E=s*this.IndexArrayType.BYTES_PER_ELEMENT,M=(8-E%8)%8;if(x<0)throw new Error(`Unexpected typed array class: ${d}.`);g&&g instanceof ArrayBuffer?(this.data=g,this.ids=new this.IndexArrayType(this.data,8,s),this.coords=new this.ArrayType(this.data,8+E+M,2*s),this._pos=2*s,this._finished=!0):(this.data=new ArrayBuffer(8+S+E+M),this.ids=new this.IndexArrayType(this.data,8,s),this.coords=new this.ArrayType(this.data,8+E+M,2*s),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+x]),new Uint16Array(this.data,2,1)[0]=c,new Uint32Array(this.data,4,1)[0]=s)}add(s,c){let d=this._pos>>1;return this.ids[d]=d,this.coords[this._pos++]=s,this.coords[this._pos++]=c,d}finish(){let s=this._pos>>1;if(s!==this.numItems)throw new Error(`Added ${s} items when expected ${this.numItems}.`);return Rq(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(s,c,d,g){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");let{ids:x,coords:S,nodeSize:E}=this,M=[0,x.length-1,0],R=[];for(;M.length;){let k=M.pop()||0,j=M.pop()||0,G=M.pop()||0;if(j-G<=E){for(let se=G;se<=j;se++){let pe=S[2*se],Oe=S[2*se+1];pe>=s&&pe<=d&&Oe>=c&&Oe<=g&&R.push(x[se])}continue}let W=G+j>>1,X=S[2*W],Q=S[2*W+1];X>=s&&X<=d&&Q>=c&&Q<=g&&R.push(x[W]),(k===0?s<=X:c<=Q)&&(M.push(G),M.push(W-1),M.push(1-k)),(k===0?d>=X:g>=Q)&&(M.push(W+1),M.push(j),M.push(1-k))}return R}within(s,c,d){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");let{ids:g,coords:x,nodeSize:S}=this,E=[0,g.length-1,0],M=[],R=d*d;for(;E.length;){let k=E.pop()||0,j=E.pop()||0,G=E.pop()||0;if(j-G<=S){for(let se=G;se<=j;se++)OW(x[2*se],x[2*se+1],s,c)<=R&&M.push(g[se]);continue}let W=G+j>>1,X=x[2*W],Q=x[2*W+1];OW(X,Q,s,c)<=R&&M.push(g[W]),(k===0?s-d<=X:c-d<=Q)&&(E.push(G),E.push(W-1),E.push(1-k)),(k===0?s+d>=X:c+d>=Q)&&(E.push(W+1),E.push(j),E.push(1-k))}return M}}function Rq(l,s,c,d,g,x){if(g-d<=c)return;let S=d+g>>1;PW(l,s,S,d,g,x),Rq(l,s,c,d,S-1,1-x),Rq(l,s,c,S+1,g,1-x)}function PW(l,s,c,d,g,x){for(;g>d;){if(g-d>600){let R=g-d+1,k=c-d+1,j=Math.log(R),G=.5*Math.exp(2*j/3),W=.5*Math.sqrt(j*G*(R-G)/R)*(k-R/2<0?-1:1);PW(l,s,c,Math.max(d,Math.floor(c-k*G/R+W)),Math.min(g,Math.floor(c+(R-k)*G/R+W)),x)}let S=s[2*c+x],E=d,M=g;for(k1(l,s,d,c),s[2*g+x]>S&&k1(l,s,d,g);E<M;){for(k1(l,s,E,M),E++,M--;s[2*E+x]<S;)E++;for(;s[2*M+x]>S;)M--}s[2*d+x]===S?k1(l,s,d,M):(M++,k1(l,s,M,g)),M<=c&&(d=M+1),c<=M&&(g=M-1)}}function k1(l,s,c,d){qq(l,c,d),qq(s,2*c,2*d),qq(s,2*c+1,2*d+1)}function qq(l,s,c){let d=l[s];l[s]=l[c],l[c]=d}function OW(l,s,c,d){let g=l-c,x=s-d;return g*g+x*x}var Nq;i.bg=void 0,(Nq=i.bg||(i.bg={})).create="create",Nq.load="load",Nq.fullLoad="fullLoad";let V2=null,D1=[],kq=1e3/60,Dq="loadTime",Lq="fullLoadTime",W6e={mark(l){performance.mark(l)},frame(l){let s=l;V2!=null&&D1.push(s-V2),V2=s},clearMetrics(){V2=null,D1=[],performance.clearMeasures(Dq),performance.clearMeasures(Lq);for(let l in i.bg)performance.clearMarks(i.bg[l])},getPerformanceMetrics(){performance.measure(Dq,i.bg.create,i.bg.load),performance.measure(Lq,i.bg.create,i.bg.fullLoad);let l=performance.getEntriesByName(Dq)[0].duration,s=performance.getEntriesByName(Lq)[0].duration,c=D1.length,d=1/(D1.reduce((x,S)=>x+S,0)/c/1e3),g=D1.filter(x=>x>kq).reduce((x,S)=>x+(S-kq)/kq,0);return{loadTime:l,fullLoadTime:s,fps:d,percentDroppedFrames:g/(c+g)*100,totalFrames:c}}};i.$=class extends V{},i.A=Iv,i.B=HR,i.C=function(l){if(Qe==null){let s=l.navigator?l.navigator.userAgent:null;Qe=!!l.safari||!(!s||!(/\b(iPad|iPhone|iPod)\b/.test(s)||s.match("Safari")&&!s.match("Chrome")))}return Qe},i.D=Gt,i.E=Ot,i.F=class{constructor(l,s){this.target=l,this.mapId=s,this.resolveRejects={},this.tasks={},this.taskQueue=[],this.abortControllers={},this.messageHandlers={},this.invoker=new z6e(()=>this.process()),this.subscription=function(c,d,g,x){return c.addEventListener(d,g,!1),{unsubscribe:()=>{c.removeEventListener(d,g,!1)}}}(this.target,"message",c=>this.receive(c)),this.globalScope=$e(self)?l:window}registerMessageHandler(l,s){this.messageHandlers[l]=s}sendAsync(l,s){return new Promise((c,d)=>{let g=Math.round(1e18*Math.random()).toString(36).substring(0,10);this.resolveRejects[g]={resolve:c,reject:d},s&&s.signal.addEventListener("abort",()=>{delete this.resolveRejects[g];let E={id:g,type:"<cancel>",origin:location.origin,targetMapId:l.targetMapId,sourceMapId:this.mapId};this.target.postMessage(E)},{once:!0});let x=[],S=Object.assign(Object.assign({},l),{id:g,sourceMapId:this.mapId,origin:location.origin,data:ed(l.data,x)});this.target.postMessage(S,{transfer:x})})}receive(l){let s=l.data,c=s.id;if(!(s.origin!=="file://"&&location.origin!=="file://"&&s.origin!=="resource://android"&&location.origin!=="resource://android"&&s.origin!==location.origin||s.targetMapId&&this.mapId!==s.targetMapId)){if(s.type==="<cancel>"){delete this.tasks[c];let d=this.abortControllers[c];return delete this.abortControllers[c],void(d&&d.abort())}if($e(self)||s.mustQueue)return this.tasks[c]=s,this.taskQueue.push(c),void this.invoker.trigger();this.processTask(c,s)}}process(){if(this.taskQueue.length===0)return;let l=this.taskQueue.shift(),s=this.tasks[l];delete this.tasks[l],this.taskQueue.length>0&&this.invoker.trigger(),s&&this.processTask(l,s)}processTask(l,s){return o(this,void 0,void 0,function*(){if(s.type==="<response>"){let g=this.resolveRejects[l];return delete this.resolveRejects[l],g?void(s.error?g.reject(td(s.error)):g.resolve(td(s.data))):void 0}if(!this.messageHandlers[s.type])return void this.completeTask(l,new Error(`Could not find a registered handler for ${s.type}, map ID: ${this.mapId}, available handlers: ${Object.keys(this.messageHandlers).join(", ")}`));let c=td(s.data),d=new AbortController;this.abortControllers[l]=d;try{let g=yield this.messageHandlers[s.type](s.sourceMapId,c,d);this.completeTask(l,null,g)}catch(g){this.completeTask(l,g)}})}completeTask(l,s,c){let d=[];delete this.abortControllers[l];let g={id:l,type:"<response>",sourceMapId:this.mapId,origin:location.origin,error:s?ed(s):null,data:ed(c,d)};this.target.postMessage(g,{transfer:d})}remove(){this.invoker.remove(),this.subscription.unsubscribe()}},i.G=it,i.H=function(){var l=new Iv(16);return Iv!=Float32Array&&(l[1]=0,l[2]=0,l[3]=0,l[4]=0,l[6]=0,l[7]=0,l[8]=0,l[9]=0,l[11]=0,l[12]=0,l[13]=0,l[14]=0),l[0]=1,l[5]=1,l[10]=1,l[15]=1,l},i.I=yq,i.J=function(l,s,c){var d,g,x,S,E,M,R,k,j,G,W,X,Q=c[0],se=c[1],pe=c[2];return s===l?(l[12]=s[0]*Q+s[4]*se+s[8]*pe+s[12],l[13]=s[1]*Q+s[5]*se+s[9]*pe+s[13],l[14]=s[2]*Q+s[6]*se+s[10]*pe+s[14],l[15]=s[3]*Q+s[7]*se+s[11]*pe+s[15]):(g=s[1],x=s[2],S=s[3],E=s[4],M=s[5],R=s[6],k=s[7],j=s[8],G=s[9],W=s[10],X=s[11],l[0]=d=s[0],l[1]=g,l[2]=x,l[3]=S,l[4]=E,l[5]=M,l[6]=R,l[7]=k,l[8]=j,l[9]=G,l[10]=W,l[11]=X,l[12]=d*Q+E*se+j*pe+s[12],l[13]=g*Q+M*se+G*pe+s[13],l[14]=x*Q+R*se+W*pe+s[14],l[15]=S*Q+k*se+X*pe+s[15]),l},i.K=function(l,s,c){var d=c[0],g=c[1],x=c[2];return l[0]=s[0]*d,l[1]=s[1]*d,l[2]=s[2]*d,l[3]=s[3]*d,l[4]=s[4]*g,l[5]=s[5]*g,l[6]=s[6]*g,l[7]=s[7]*g,l[8]=s[8]*x,l[9]=s[9]*x,l[10]=s[10]*x,l[11]=s[11]*x,l[12]=s[12],l[13]=s[13],l[14]=s[14],l[15]=s[15],l},i.L=pG,i.M=function(l,s){let c={};for(let d=0;d<s.length;d++){let g=s[d];g in l&&(c[g]=l[g])}return c},i.N=fd,i.O=aW,i.P=y,i.Q=sW,i.R=Os,i.S=Rs,i.T=hv,i.U=F,i.V=N,i.W=ke,i.X=Si,i.Y=C,i.Z=q1,i._=o,i.a=Fe,i.a$=function(l,s){var c=l[0],d=l[1],g=l[2],x=l[3],S=l[4],E=l[5],M=l[6],R=l[7],k=l[8],j=l[9],G=l[10],W=l[11],X=l[12],Q=l[13],se=l[14],pe=l[15],Oe=s[0],_e=s[1],Me=s[2],Ue=s[3],at=s[4],kt=s[5],nr=s[6],qt=s[7],Tt=s[8],Yt=s[9],Vt=s[10],Ft=s[11],Ze=s[12],Jt=s[13],Zt=s[14],hr=s[15];return Math.abs(c-Oe)<=Jo*Math.max(1,Math.abs(c),Math.abs(Oe))&&Math.abs(d-_e)<=Jo*Math.max(1,Math.abs(d),Math.abs(_e))&&Math.abs(g-Me)<=Jo*Math.max(1,Math.abs(g),Math.abs(Me))&&Math.abs(x-Ue)<=Jo*Math.max(1,Math.abs(x),Math.abs(Ue))&&Math.abs(S-at)<=Jo*Math.max(1,Math.abs(S),Math.abs(at))&&Math.abs(E-kt)<=Jo*Math.max(1,Math.abs(E),Math.abs(kt))&&Math.abs(M-nr)<=Jo*Math.max(1,Math.abs(M),Math.abs(nr))&&Math.abs(R-qt)<=Jo*Math.max(1,Math.abs(R),Math.abs(qt))&&Math.abs(k-Tt)<=Jo*Math.max(1,Math.abs(k),Math.abs(Tt))&&Math.abs(j-Yt)<=Jo*Math.max(1,Math.abs(j),Math.abs(Yt))&&Math.abs(G-Vt)<=Jo*Math.max(1,Math.abs(G),Math.abs(Vt))&&Math.abs(W-Ft)<=Jo*Math.max(1,Math.abs(W),Math.abs(Ft))&&Math.abs(X-Ze)<=Jo*Math.max(1,Math.abs(X),Math.abs(Ze))&&Math.abs(Q-Jt)<=Jo*Math.max(1,Math.abs(Q),Math.abs(Jt))&&Math.abs(se-Zt)<=Jo*Math.max(1,Math.abs(se),Math.abs(Zt))&&Math.abs(pe-hr)<=Jo*Math.max(1,Math.abs(pe),Math.abs(hr))},i.a0=Gr,i.a1=Cq,i.a2=nt,i.a3=l=>{let s=window.document.createElement("video");return s.muted=!0,new Promise(c=>{s.onloadstart=()=>{c(s)};for(let d of l){let g=window.document.createElement("source");Te(d)||(s.crossOrigin="Anonymous"),g.src=d,s.appendChild(g)}})},i.a4=function(){return ce++},i.a5=Nt,i.a6=Pv,i.a7=Q0,i.a8=lh,i.a9=fW,i.aA=function(l){if(l.type==="custom")return new L6e(l);switch(l.type){case"background":return new N6e(l);case"circle":return new xze(l);case"fill":return new zze(l);case"fill-extrusion":return new Qze(l);case"heatmap":return new Sze(l);case"hillshade":return new Eze(l);case"line":return new s6e(l);case"raster":return new D6e(l);case"symbol":return new L2(l);}},i.aB=Se,i.aC=function(l,s){if(!l)return[{command:"setStyle",args:[s]}];let c=[];try{if(!ht(l.version,s.version))return[{command:"setStyle",args:[s]}];ht(l.center,s.center)||c.push({command:"setCenter",args:[s.center]}),ht(l.zoom,s.zoom)||c.push({command:"setZoom",args:[s.zoom]}),ht(l.bearing,s.bearing)||c.push({command:"setBearing",args:[s.bearing]}),ht(l.pitch,s.pitch)||c.push({command:"setPitch",args:[s.pitch]}),ht(l.sprite,s.sprite)||c.push({command:"setSprite",args:[s.sprite]}),ht(l.glyphs,s.glyphs)||c.push({command:"setGlyphs",args:[s.glyphs]}),ht(l.transition,s.transition)||c.push({command:"setTransition",args:[s.transition]}),ht(l.light,s.light)||c.push({command:"setLight",args:[s.light]}),ht(l.terrain,s.terrain)||c.push({command:"setTerrain",args:[s.terrain]}),ht(l.sky,s.sky)||c.push({command:"setSky",args:[s.sky]}),ht(l.projection,s.projection)||c.push({command:"setProjection",args:[s.projection]});let d={},g=[];(function(S,E,M,R){let k;for(k in E=E||{},S=S||{})Object.prototype.hasOwnProperty.call(S,k)&&(Object.prototype.hasOwnProperty.call(E,k)||Bt(k,M,R));for(k in E)Object.prototype.hasOwnProperty.call(E,k)&&(Object.prototype.hasOwnProperty.call(S,k)?ht(S[k],E[k])||(S[k].type==="geojson"&&E[k].type==="geojson"&&Fr(S,E,k)?$t(M,{command:"setGeoJSONSourceData",args:[k,E[k].data]}):ur(k,E,M,R)):lr(k,E,M))})(l.sources,s.sources,g,d);let x=[];l.layers&&l.layers.forEach(S=>{"source"in S&&d[S.source]?c.push({command:"removeLayer",args:[S.id]}):x.push(S)}),c=c.concat(g),function(S,E,M){E=E||[];let R=(S=S||[]).map(or),k=E.map(or),j=S.reduce(Kr,{}),G=E.reduce(Kr,{}),W=R.slice(),X=Object.create(null),Q,se,pe,Oe,_e;for(let Me=0,Ue=0;Me<R.length;Me++)Q=R[Me],Object.prototype.hasOwnProperty.call(G,Q)?Ue++:($t(M,{command:"removeLayer",args:[Q]}),W.splice(W.indexOf(Q,Ue),1));for(let Me=0,Ue=0;Me<k.length;Me++)Q=k[k.length-1-Me],W[W.length-1-Me]!==Q&&(Object.prototype.hasOwnProperty.call(j,Q)?($t(M,{command:"removeLayer",args:[Q]}),W.splice(W.lastIndexOf(Q,W.length-Ue),1)):Ue++,Oe=W[W.length-Me],$t(M,{command:"addLayer",args:[G[Q],Oe]}),W.splice(W.length-Me,0,Q),X[Q]=!0);for(let Me=0;Me<k.length;Me++)if(Q=k[Me],se=j[Q],pe=G[Q],!X[Q]&&!ht(se,pe))if(ht(se.source,pe.source)&&ht(se["source-layer"],pe["source-layer"])&&ht(se.type,pe.type)){for(_e in Dr(se.layout,pe.layout,M,Q,null,"setLayoutProperty"),Dr(se.paint,pe.paint,M,Q,null,"setPaintProperty"),ht(se.filter,pe.filter)||$t(M,{command:"setFilter",args:[Q,pe.filter]}),ht(se.minzoom,pe.minzoom)&&ht(se.maxzoom,pe.maxzoom)||$t(M,{command:"setLayerZoomRange",args:[Q,pe.minzoom,pe.maxzoom]}),se)Object.prototype.hasOwnProperty.call(se,_e)&&_e!=="layout"&&_e!=="paint"&&_e!=="filter"&&_e!=="metadata"&&_e!=="minzoom"&&_e!=="maxzoom"&&(_e.indexOf("paint.")===0?Dr(se[_e],pe[_e],M,Q,_e.slice(6),"setPaintProperty"):ht(se[_e],pe[_e])||$t(M,{command:"setLayerProperty",args:[Q,_e,pe[_e]]}));for(_e in pe)Object.prototype.hasOwnProperty.call(pe,_e)&&!Object.prototype.hasOwnProperty.call(se,_e)&&_e!=="layout"&&_e!=="paint"&&_e!=="filter"&&_e!=="metadata"&&_e!=="minzoom"&&_e!=="maxzoom"&&(_e.indexOf("paint.")===0?Dr(se[_e],pe[_e],M,Q,_e.slice(6),"setPaintProperty"):ht(se[_e],pe[_e])||$t(M,{command:"setLayerProperty",args:[Q,_e,pe[_e]]}))}else $t(M,{command:"removeLayer",args:[Q]}),Oe=W[W.lastIndexOf(Q)+1],$t(M,{command:"addLayer",args:[pe,Oe]})}(x,s.layers,c)}catch(d){console.warn("Unable to compute style diff:",d),c=[{command:"setStyle",args:[s]}]}return c},i.aD=function(l){let s=[],c=l.id;return c===void 0&&s.push({message:`layers.${c}: missing required property "id"`}),l.render===void 0&&s.push({message:`layers.${c}: missing required method "render"`}),l.renderingMode&&l.renderingMode!=="2d"&&l.renderingMode!=="3d"&&s.push({message:`layers.${c}: property "renderingMode" must be either "2d" or "3d"`}),s},i.aE=function l(s,c){if(Array.isArray(s)){if(!Array.isArray(c)||s.length!==c.length)return!1;for(let d=0;d<s.length;d++)if(!l(s[d],c[d]))return!1;return!0}if(typeof s=="object"&&s!==null&&c!==null){if(typeof c!="object"||Object.keys(s).length!==Object.keys(c).length)return!1;for(let d in s)if(!l(s[d],c[d]))return!1;return!0}return s===c},i.aF=ye,i.aG=Ne,i.aH=class extends oh{constructor(l,s){super(l,s),this.current=0}set(l){this.current!==l&&(this.current=l,this.gl.uniform1i(this.location,l))}},i.aI=I2,i.aJ=class extends oh{constructor(l,s){super(l,s),this.current=fze}set(l){if(l[12]!==this.current[12]||l[0]!==this.current[0])return this.current=l,void this.gl.uniformMatrix4fv(this.location,!1,l);for(let s=1;s<16;s++)if(l[s]!==this.current[s]){this.current=l,this.gl.uniformMatrix4fv(this.location,!1,l);break}}},i.aK=eG,i.aL=tG,i.aM=hn,i.aN=class extends oh{constructor(l,s){super(l,s),this.current=[0,0,0]}set(l){l[0]===this.current[0]&&l[1]===this.current[1]&&l[2]===this.current[2]||(this.current=l,this.gl.uniform3f(this.location,l[0],l[1],l[2]))}},i.aO=class extends oh{constructor(l,s){super(l,s),this.current=[0,0]}set(l){l[0]===this.current[0]&&l[1]===this.current[1]||(this.current=l,this.gl.uniform2f(this.location,l[0],l[1]))}},i.aP=function(l,s,c,d,g,x,S){var E=1/(s-c),M=1/(d-g),R=1/(x-S);return l[0]=-2*E,l[1]=0,l[2]=0,l[3]=0,l[4]=0,l[5]=-2*M,l[6]=0,l[7]=0,l[8]=0,l[9]=0,l[10]=2*R,l[11]=0,l[12]=(s+c)*E,l[13]=(g+d)*M,l[14]=(S+x)*R,l[15]=1,l},i.aQ=bze,i.aR=class extends Ie{},i.aS=p6e,i.aT=class extends qe{},i.aU=aq,i.aV=function(l){return l<=1?1:Math.pow(2,Math.ceil(Math.log(l)/Math.LN2))},i.aW=vG,i.aX=ao,i.aY=Ps,i.aZ=class extends Wt{},i.a_=function(l,s){return l[0]===s[0]&&l[1]===s[1]&&l[2]===s[2]&&l[3]===s[3]&&l[4]===s[4]&&l[5]===s[5]&&l[6]===s[6]&&l[7]===s[7]&&l[8]===s[8]&&l[9]===s[9]&&l[10]===s[10]&&l[11]===s[11]&&l[12]===s[12]&&l[13]===s[13]&&l[14]===s[14]&&l[15]===s[15]},i.aa=function(l){let s={};if(l.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(c,d,g,x)=>{let S=g||x;return s[d]=!S||S.toLowerCase(),""}),s["max-age"]){let c=parseInt(s["max-age"],10);isNaN(c)?delete s["max-age"]:s["max-age"]=c}return s},i.ab=function(l,s){let c=[];for(let d in l)d in s||c.push(d);return c},i.ac=Z,i.ad=function(l,s,c){var d=Math.sin(c),g=Math.cos(c),x=s[0],S=s[1],E=s[2],M=s[3],R=s[4],k=s[5],j=s[6],G=s[7];return s!==l&&(l[8]=s[8],l[9]=s[9],l[10]=s[10],l[11]=s[11],l[12]=s[12],l[13]=s[13],l[14]=s[14],l[15]=s[15]),l[0]=x*g+R*d,l[1]=S*g+k*d,l[2]=E*g+j*d,l[3]=M*g+G*d,l[4]=R*g-x*d,l[5]=k*g-S*d,l[6]=j*g-E*d,l[7]=G*g-M*d,l},i.ae=function(l){var s=new Iv(16);return s[0]=l[0],s[1]=l[1],s[2]=l[2],s[3]=l[3],s[4]=l[4],s[5]=l[5],s[6]=l[6],s[7]=l[7],s[8]=l[8],s[9]=l[9],s[10]=l[10],s[11]=l[11],s[12]=l[12],s[13]=l[13],s[14]=l[14],s[15]=l[15],s},i.af=C2,i.ag=function(l,s){let c=0,d=0;if(l.kind==="constant")d=l.layoutSize;else if(l.kind!=="source"){let{interpolationType:g,minZoom:x,maxZoom:S}=l,E=g?Z(Yo.interpolationFactor(g,s,x,S),0,1):0;l.kind==="camera"?d=Ko.number(l.minSize,l.maxSize,E):c=E}return{uSizeT:c,uSize:d}},i.ai=function(l,{uSize:s,uSizeT:c},{lowerSize:d,upperSize:g}){return l.kind==="source"?d/Su:l.kind==="composite"?Ko.number(d/Su,g/Su,c):s},i.aj=wq,i.ak=function(l,s,c,d){let g=s.y-l.y,x=s.x-l.x,S=d.y-c.y,E=d.x-c.x,M=S*x-E*g;if(M===0)return null;let R=(E*(l.y-c.y)-S*(l.x-c.x))/M;return new y(l.x+R*x,l.y+R*g)},i.al=gW,i.am=oG,i.an=nq,i.ao=function(l){let s=1/0,c=1/0,d=-1/0,g=-1/0;for(let x of l)s=Math.min(s,x.x),c=Math.min(c,x.y),d=Math.max(d,x.x),g=Math.max(g,x.y);return[s,c,d,g]},i.ap=Pi,i.ar=xq,i.as=function(l,s){var c=s[0],d=s[1],g=s[2],x=s[3],S=s[4],E=s[5],M=s[6],R=s[7],k=s[8],j=s[9],G=s[10],W=s[11],X=s[12],Q=s[13],se=s[14],pe=s[15],Oe=c*E-d*S,_e=c*M-g*S,Me=c*R-x*S,Ue=d*M-g*E,at=d*R-x*E,kt=g*R-x*M,nr=k*Q-j*X,qt=k*se-G*X,Tt=k*pe-W*X,Yt=j*se-G*Q,Vt=j*pe-W*Q,Ft=G*pe-W*se,Ze=Oe*Ft-_e*Vt+Me*Yt+Ue*Tt-at*qt+kt*nr;return Ze?(l[0]=(E*Ft-M*Vt+R*Yt)*(Ze=1/Ze),l[1]=(g*Vt-d*Ft-x*Yt)*Ze,l[2]=(Q*kt-se*at+pe*Ue)*Ze,l[3]=(G*at-j*kt-W*Ue)*Ze,l[4]=(M*Tt-S*Ft-R*qt)*Ze,l[5]=(c*Ft-g*Tt+x*qt)*Ze,l[6]=(se*Me-X*kt-pe*_e)*Ze,l[7]=(k*kt-G*Me+W*_e)*Ze,l[8]=(S*Vt-E*Tt+R*nr)*Ze,l[9]=(d*Tt-c*Vt-x*nr)*Ze,l[10]=(X*at-Q*Me+pe*Oe)*Ze,l[11]=(j*Me-k*at-W*Oe)*Ze,l[12]=(E*qt-S*Yt-M*nr)*Ze,l[13]=(c*Yt-d*qt+g*nr)*Ze,l[14]=(Q*_e-X*Ue-se*Oe)*Ze,l[15]=(k*Ue-j*_e+G*Oe)*Ze,l):null},i.at=Pq,i.au=bq,i.av=Oq,i.aw=function(){let l={},s=xe.$version;for(let c in xe.$root){let d=xe.$root[c];if(d.required){let g=null;g=c==="version"?s:d.type==="array"?[]:{},g!=null&&(l[c]=g)}}return l},i.ax=f1,i.ay=he,i.az=function(l){l=l.slice();let s=Object.create(null);for(let c=0;c<l.length;c++)s[l[c].id]=l[c];for(let c=0;c<l.length;c++)"ref"in l[c]&&(l[c]=Ut(l[c],s[l[c].ref]));return l},i.b=ot,i.b0=function(l,s){return l[0]=s[0],l[1]=s[1],l[2]=s[2],l[3]=s[3],l[4]=s[4],l[5]=s[5],l[6]=s[6],l[7]=s[7],l[8]=s[8],l[9]=s[9],l[10]=s[10],l[11]=s[11],l[12]=s[12],l[13]=s[13],l[14]=s[14],l[15]=s[15],l},i.b1=function(l,s,c){return l[0]=s[0]*c[0],l[1]=s[1]*c[1],l[2]=s[2]*c[2],l[3]=s[3]*c[3],l},i.b2=function(l,s){return l[0]*s[0]+l[1]*s[1]+l[2]*s[2]+l[3]*s[3]},i.b3=te,i.b4=cW,i.b5=lW,i.b6=function(l,s,c,d,g){var x,S=1/Math.tan(s/2);return l[0]=S/c,l[1]=0,l[2]=0,l[3]=0,l[4]=0,l[5]=S,l[6]=0,l[7]=0,l[8]=0,l[9]=0,l[11]=-1,l[12]=0,l[13]=0,l[15]=0,g!=null&&g!==1/0?(l[10]=(g+d)*(x=1/(d-g)),l[14]=2*g*d*x):(l[10]=-1,l[14]=-2*d),l},i.b7=function(l,s,c){var d=Math.sin(c),g=Math.cos(c),x=s[4],S=s[5],E=s[6],M=s[7],R=s[8],k=s[9],j=s[10],G=s[11];return s!==l&&(l[0]=s[0],l[1]=s[1],l[2]=s[2],l[3]=s[3],l[12]=s[12],l[13]=s[13],l[14]=s[14],l[15]=s[15]),l[4]=x*g+R*d,l[5]=S*g+k*d,l[6]=E*g+j*d,l[7]=M*g+G*d,l[8]=R*g-x*d,l[9]=k*g-S*d,l[10]=j*g-E*d,l[11]=G*g-M*d,l},i.b8=L,i.b9=B,i.bA=DG,i.bB=function(l){return l.message===ut},i.bC=Wp,i.bD=Aa,i.ba=function(l){return l*Math.PI/180},i.bb=function(l,s){let{x:c,y:d}=q1.fromLngLat(s);return!(l<0||l>25||d<0||d>=1||c<0||c>=1)},i.bc=function(l,s){return l[0]=s[0],l[1]=0,l[2]=0,l[3]=0,l[4]=0,l[5]=s[1],l[6]=0,l[7]=0,l[8]=0,l[9]=0,l[10]=s[2],l[11]=0,l[12]=0,l[13]=0,l[14]=0,l[15]=1,l},i.bd=class extends D{},i.be=Tq,i.bf=W6e,i.bh=Pe,i.bi=function(l,s){Fe.REGISTERED_PROTOCOLS[l]=s},i.bj=function(l){delete Fe.REGISTERED_PROTOCOLS[l]},i.bk=function(l,s){let c={};for(let g=0;g<l.length;g++){let x=s&&s[l[g].id]||d2(l[g]);s&&(s[l[g].id]=x);let S=c[x];S||(S=c[x]=[]),S.push(l[g])}let d=[];for(let g in c)d.push(c[g]);return d},i.bl=jt,i.bm=dW,i.bn=hW,i.bo=HG,i.bp=function(l){l.bucket.createArrays(),l.bucket.tilePixelRatio=Si/(512*l.bucket.overscaling),l.bucket.compareText={},l.bucket.iconsNeedLinear=!1;let s=l.bucket.layers[0],c=s.layout,d=s._unevaluatedLayout._values,g={layoutIconSize:d["icon-size"].possiblyEvaluate(new Ln(l.bucket.zoom+1),l.canonical),layoutTextSize:d["text-size"].possiblyEvaluate(new Ln(l.bucket.zoom+1),l.canonical),textMaxSize:d["text-size"].possiblyEvaluate(new Ln(18))};if(l.bucket.textSizeData.kind==="composite"){let{minZoom:R,maxZoom:k}=l.bucket.textSizeData;g.compositeTextSizes=[d["text-size"].possiblyEvaluate(new Ln(R),l.canonical),d["text-size"].possiblyEvaluate(new Ln(k),l.canonical)]}if(l.bucket.iconSizeData.kind==="composite"){let{minZoom:R,maxZoom:k}=l.bucket.iconSizeData;g.compositeIconSizes=[d["icon-size"].possiblyEvaluate(new Ln(R),l.canonical),d["icon-size"].possiblyEvaluate(new Ln(k),l.canonical)]}let x=c.get("text-line-height")*Pi,S=c.get("text-rotation-alignment")!=="viewport"&&c.get("symbol-placement")!=="point",E=c.get("text-keep-upright"),M=c.get("text-size");for(let R of l.bucket.features){let k=c.get("text-font").evaluate(R,{},l.canonical).join(","),j=M.evaluate(R,{},l.canonical),G=g.layoutTextSize.evaluate(R,{},l.canonical),W=g.layoutIconSize.evaluate(R,{},l.canonical),X={horizontal:{},vertical:void 0},Q=R.text,se,pe=[0,0];if(Q){let Me=Q.toString(),Ue=c.get("text-letter-spacing").evaluate(R,{},l.canonical)*Pi,at=GR(Me)?Ue:0,kt=c.get("text-anchor").evaluate(R,{},l.canonical),nr=TW(s,R,l.canonical);if(!nr){let Vt=c.get("text-radial-offset").evaluate(R,{},l.canonical);pe=Vt?EW(kt,[Vt*Pi,Mq]):c.get("text-offset").evaluate(R,{},l.canonical).map(Ft=>Ft*Pi)}let qt=S?"center":c.get("text-justify").evaluate(R,{},l.canonical),Tt=c.get("symbol-placement")==="point"?c.get("text-max-width").evaluate(R,{},l.canonical)*Pi:1/0,Yt=()=>{l.bucket.allowVerticalPlacement&&h1(Me)&&(X.vertical=N2(Q,l.glyphMap,l.glyphPositions,l.imagePositions,k,Tt,x,kt,"left",at,pe,i.ah.vertical,!0,G,j))};if(!S&&nr){let Vt=new Set;if(qt==="auto")for(let Ze=0;Ze<nr.values.length;Ze+=2)Vt.add(Pq(nr.values[Ze]));else Vt.add(qt);let Ft=!1;for(let Ze of Vt)if(!X.horizontal[Ze])if(Ft)X.horizontal[Ze]=X.horizontal[0];else{let Jt=N2(Q,l.glyphMap,l.glyphPositions,l.imagePositions,k,Tt,x,"center",Ze,at,pe,i.ah.horizontal,!1,G,j);Jt&&(X.horizontal[Ze]=Jt,Ft=Jt.positionedLines.length===1)}Yt()}else{qt==="auto"&&(qt=Pq(kt));let Vt=N2(Q,l.glyphMap,l.glyphPositions,l.imagePositions,k,Tt,x,kt,qt,at,pe,i.ah.horizontal,!1,G,j);Vt&&(X.horizontal[qt]=Vt),Yt(),h1(Me)&&S&&E&&(X.vertical=N2(Q,l.glyphMap,l.glyphPositions,l.imagePositions,k,Tt,x,kt,qt,at,pe,i.ah.vertical,!1,G,j))}}let Oe=!1;if(R.icon&&R.icon.name){let Me=l.imageMap[R.icon.name];Me&&(se=M6e(l.imagePositions[R.icon.name],c.get("icon-offset").evaluate(R,{},l.canonical),c.get("icon-anchor").evaluate(R,{},l.canonical)),Oe=!!Me.sdf,l.bucket.sdfIcons===void 0?l.bucket.sdfIcons=Oe:l.bucket.sdfIcons!==Oe&&He("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(Me.pixelRatio!==l.bucket.pixelRatio||c.get("icon-rotate").constantOr(1)!==0)&&(l.bucket.iconsNeedLinear=!0))}let _e=CW(X.horizontal)||X.vertical;l.bucket.iconsInText=!!_e&&_e.iconsInText,(_e||se)&&H6e(l.bucket,R,X,se,l.imageMap,g,G,W,pe,Oe,l.canonical)}l.showCollisionBoxes&&l.bucket.generateCollisionDebugBuffers()},i.bq=hq,i.br=pq,i.bs=fq,i.bt=cd,i.bu=vq,i.bv=class{constructor(l){this._marks={start:[l.url,"start"].join("#"),end:[l.url,"end"].join("#"),measure:l.url.toString()},performance.mark(this._marks.start)}finish(){performance.mark(this._marks.end);let l=performance.getEntriesByName(this._marks.measure);return l.length===0&&(performance.measure(this._marks.measure,this._marks.start,this._marks.end),l=performance.getEntriesByName(this._marks.measure),performance.clearMarks(this._marks.start),performance.clearMarks(this._marks.end),performance.clearMeasures(this._marks.measure)),l}},i.bw=function(l,s,c,d,g){return o(this,void 0,void 0,function*(){if(N())try{return yield ke(l,s,c,d,g)}catch(x){}return function(x,S,E,M,R){let k=x.width,j=x.height;je&&lt||(je=new OffscreenCanvas(k,j),lt=je.getContext("2d",{willReadFrequently:!0})),je.width=k,je.height=j,lt.drawImage(x,0,0,k,j);let G=lt.getImageData(S,E,M,R);return lt.clearRect(0,0,k,j),G.data}(l,s,c,d,g)})},i.bx=pW,i.by=u,i.bz=f,i.c=vt,i.d=l=>o(void 0,void 0,void 0,function*(){if(l.byteLength===0)return createImageBitmap(new ImageData(1,1));let s=new Blob([new Uint8Array(l)],{type:"image/png"});try{return createImageBitmap(s)}catch(c){throw new Error(`Could not load image because of ${c.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`)}}),i.e=ue,i.f=l=>new Promise((s,c)=>{let d=new Image;d.onload=()=>{s(d),URL.revokeObjectURL(d.src),d.onload=null,window.requestAnimationFrame(()=>{d.src=ze})},d.onerror=()=>c(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));let g=new Blob([new Uint8Array(l)],{type:"image/png"});d.src=l.byteLength?URL.createObjectURL(g):ze}),i.g=We,i.h=(l,s)=>Re(ue(l,{type:"json"}),s),i.i=$e,i.j=St,i.k=wt,i.l=(l,s)=>Re(ue(l,{type:"arrayBuffer"}),s),i.m=Re,i.n=function(l){return new vq(l).readFields(w6e,[])},i.o=S1,i.p=$G,i.q=b,i.r=$R,i.s=Te,i.t=p1,i.u=Pc,i.v=xe,i.w=He,i.x=function([l,s,c]){return s+=90,s*=Math.PI/180,c*=Math.PI/180,{x:l*Math.cos(s)*Math.sin(c),y:l*Math.sin(s)*Math.sin(c),z:l*Math.cos(c)}},i.y=Ko,i.z=Ln}),r("worker",["./shared"],function(i){"use strict";class o{constructor(H){this.keyCache={},H&&this.replace(H)}replace(H){this._layerConfigs={},this._layers={},this.update(H,[])}update(H,$){for(let ie of H){this._layerConfigs[ie.id]=ie;let ve=this._layers[ie.id]=i.aA(ie);ve._featureFilter=i.a7(ve.filter),this.keyCache[ie.id]&&delete this.keyCache[ie.id]}for(let ie of $)delete this.keyCache[ie],delete this._layerConfigs[ie],delete this._layers[ie];this.familiesBySource={};let K=i.bk(Object.values(this._layerConfigs),this.keyCache);for(let ie of K){let ve=ie.map(De=>this._layers[De.id]),be=ve[0];if(be.visibility==="none")continue;let Ee=be.source||"",fe=this.familiesBySource[Ee];fe||(fe=this.familiesBySource[Ee]={});let Le=be.sourceLayer||"_geojsonTileLayer",Ye=fe[Le];Ye||(Ye=fe[Le]=[]),Ye.push(ve)}}}class u{constructor(H){let $={},K=[];for(let Ee in H){let fe=H[Ee],Le=$[Ee]={};for(let Ye in fe){let De=fe[+Ye];if(!De||De.bitmap.width===0||De.bitmap.height===0)continue;let dt={x:0,y:0,w:De.bitmap.width+2,h:De.bitmap.height+2};K.push(dt),Le[Ye]={rect:dt,metrics:De.metrics}}}let{w:ie,h:ve}=i.p(K),be=new i.o({width:ie||1,height:ve||1});for(let Ee in H){let fe=H[Ee];for(let Le in fe){let Ye=fe[+Le];if(!Ye||Ye.bitmap.width===0||Ye.bitmap.height===0)continue;let De=$[Ee][Le].rect;i.o.copy(Ye.bitmap,be,{x:0,y:0},{x:De.x+1,y:De.y+1},Ye.bitmap)}}this.image=be,this.positions=$}}i.bl("GlyphAtlas",u);class f{constructor(H){this.tileID=new i.S(H.tileID.overscaledZ,H.tileID.wrap,H.tileID.canonical.z,H.tileID.canonical.x,H.tileID.canonical.y),this.uid=H.uid,this.zoom=H.zoom,this.pixelRatio=H.pixelRatio,this.tileSize=H.tileSize,this.source=H.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=H.showCollisionBoxes,this.collectResourceTiming=!!H.collectResourceTiming,this.returnDependencies=!!H.returnDependencies,this.promoteId=H.promoteId,this.inFlightDependencies=[]}parse(H,$,K,ie){return i._(this,void 0,void 0,function*(){this.status="parsing",this.data=H,this.collisionBoxArray=new i.a5;let ve=new i.bm(Object.keys(H.layers).sort()),be=new i.bn(this.tileID,this.promoteId);be.bucketLayerIDs=[];let Ee={},fe={featureIndex:be,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:K},Le=$.familiesBySource[this.source];for(let Pr in Le){let fn=H.layers[Pr];if(!fn)continue;fn.version===1&&i.w(`Vector tile source "${this.source}" layer "${Pr}" does not use vector tile spec v2 and therefore may have some rendering errors.`);let Hn=ve.encode(Pr),Bi=[];for(let Zi=0;Zi<fn.length;Zi++){let wo=fn.feature(Zi),Dp=be.getId(wo,Pr);Bi.push({feature:wo,id:Dp,index:Zi,sourceLayerIndex:Hn})}for(let Zi of Le[Pr]){let wo=Zi[0];wo.source!==this.source&&i.w(`layer.source = ${wo.source} does not equal this.source = ${this.source}`),wo.minzoom&&this.zoom<Math.floor(wo.minzoom)||wo.maxzoom&&this.zoom>=wo.maxzoom||wo.visibility!=="none"&&(h(Zi,this.zoom,K),(Ee[wo.id]=wo.createBucket({index:be.bucketLayerIDs.length,layers:Zi,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Hn,sourceID:this.source})).populate(Bi,fe,this.tileID.canonical),be.bucketLayerIDs.push(Zi.map(Dp=>Dp.id)))}}let Ye=i.aF(fe.glyphDependencies,Pr=>Object.keys(Pr).map(Number));this.inFlightDependencies.forEach(Pr=>Pr==null?void 0:Pr.abort()),this.inFlightDependencies=[];let De=Promise.resolve({});if(Object.keys(Ye).length){let Pr=new AbortController;this.inFlightDependencies.push(Pr),De=ie.sendAsync({type:"GG",data:{stacks:Ye,source:this.source,tileID:this.tileID,type:"glyphs"}},Pr)}let dt=Object.keys(fe.iconDependencies),Ht=Promise.resolve({});if(dt.length){let Pr=new AbortController;this.inFlightDependencies.push(Pr),Ht=ie.sendAsync({type:"GI",data:{icons:dt,source:this.source,tileID:this.tileID,type:"icons"}},Pr)}let rr=Object.keys(fe.patternDependencies),Jr=Promise.resolve({});if(rr.length){let Pr=new AbortController;this.inFlightDependencies.push(Pr),Jr=ie.sendAsync({type:"GI",data:{icons:rr,source:this.source,tileID:this.tileID,type:"patterns"}},Pr)}let[_r,Qr,jr]=yield Promise.all([De,Ht,Jr]),xi=new u(_r),ti=new i.bo(Qr,jr);for(let Pr in Ee){let fn=Ee[Pr];fn instanceof i.a6?(h(fn.layers,this.zoom,K),i.bp({bucket:fn,glyphMap:_r,glyphPositions:xi.positions,imageMap:Qr,imagePositions:ti.iconPositions,showCollisionBoxes:this.showCollisionBoxes,canonical:this.tileID.canonical})):fn.hasPattern&&(fn instanceof i.bq||fn instanceof i.br||fn instanceof i.bs)&&(h(fn.layers,this.zoom,K),fn.addFeatures(fe,this.tileID.canonical,ti.patternPositions))}return this.status="done",{buckets:Object.values(Ee).filter(Pr=>!Pr.isEmpty()),featureIndex:be,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:xi.image,imageAtlas:ti,glyphMap:this.returnDependencies?_r:null,iconMap:this.returnDependencies?Qr:null,glyphPositions:this.returnDependencies?xi.positions:null}})}}function h(re,H,$){let K=new i.z(H);for(let ie of re)ie.recalculate(K,$)}class y{constructor(H,$,K){this.actor=H,this.layerIndex=$,this.availableImages=K,this.fetching={},this.loading={},this.loaded={}}loadVectorTile(H,$){return i._(this,void 0,void 0,function*(){let K=yield i.l(H.request,$);try{return{vectorTile:new i.bt.VectorTile(new i.bu(K.data)),rawData:K.data,cacheControl:K.cacheControl,expires:K.expires}}catch(ie){let ve=new Uint8Array(K.data),be=`Unable to parse the tile at ${H.request.url}, `;throw be+=ve[0]===31&&ve[1]===139?"please make sure the data is not gzipped and that you have configured the relevant header in the server":`got error: ${ie.message}`,new Error(be)}})}loadTile(H){return i._(this,void 0,void 0,function*(){let $=H.uid,K=!!(H&&H.request&&H.request.collectResourceTiming)&&new i.bv(H.request),ie=new f(H);this.loading[$]=ie;let ve=new AbortController;ie.abort=ve;try{let be=yield this.loadVectorTile(H,ve);if(delete this.loading[$],!be)return null;let Ee=be.rawData,fe={};be.expires&&(fe.expires=be.expires),be.cacheControl&&(fe.cacheControl=be.cacheControl);let Le={};if(K){let De=K.finish();De&&(Le.resourceTiming=JSON.parse(JSON.stringify(De)))}ie.vectorTile=be.vectorTile;let Ye=ie.parse(be.vectorTile,this.layerIndex,this.availableImages,this.actor);this.loaded[$]=ie,this.fetching[$]={rawTileData:Ee,cacheControl:fe,resourceTiming:Le};try{let De=yield Ye;return i.e({rawTileData:Ee.slice(0)},De,fe,Le)}finally{delete this.fetching[$]}}catch(be){throw delete this.loading[$],ie.status="done",this.loaded[$]=ie,be}})}reloadTile(H){return i._(this,void 0,void 0,function*(){let $=H.uid;if(!this.loaded||!this.loaded[$])throw new Error("Should not be trying to reload a tile that was never loaded or has been removed");let K=this.loaded[$];if(K.showCollisionBoxes=H.showCollisionBoxes,K.status==="parsing"){let ie=yield K.parse(K.vectorTile,this.layerIndex,this.availableImages,this.actor),ve;if(this.fetching[$]){let{rawTileData:be,cacheControl:Ee,resourceTiming:fe}=this.fetching[$];delete this.fetching[$],ve=i.e({rawTileData:be.slice(0)},ie,Ee,fe)}else ve=ie;return ve}if(K.status==="done"&&K.vectorTile)return K.parse(K.vectorTile,this.layerIndex,this.availableImages,this.actor)})}abortTile(H){return i._(this,void 0,void 0,function*(){let $=this.loading,K=H.uid;$&&$[K]&&$[K].abort&&($[K].abort.abort(),delete $[K])})}removeTile(H){return i._(this,void 0,void 0,function*(){this.loaded&&this.loaded[H.uid]&&delete this.loaded[H.uid]})}}class w{constructor(){this.loaded={}}loadTile(H){return i._(this,void 0,void 0,function*(){let{uid:$,encoding:K,rawImageData:ie,redFactor:ve,greenFactor:be,blueFactor:Ee,baseShift:fe}=H,Le=ie.width+2,Ye=ie.height+2,De=i.b(ie)?new i.R({width:Le,height:Ye},(yield i.bw(ie,-1,-1,Le,Ye))):ie,dt=new i.bx($,De,K,ve,be,Ee,fe);return this.loaded=this.loaded||{},this.loaded[$]=dt,dt})}removeTile(H){let $=this.loaded,K=H.uid;$&&$[K]&&delete $[K]}}function T(re,H){if(re.length!==0){A(re[0],H);for(var $=1;$<re.length;$++)A(re[$],!H)}}function A(re,H){for(var $=0,K=0,ie=0,ve=re.length,be=ve-1;ie<ve;be=ie++){var Ee=(re[ie][0]-re[be][0])*(re[be][1]+re[ie][1]),fe=$+Ee;K+=Math.abs($)>=Math.abs(Ee)?$-fe+Ee:Ee-fe+$,$=fe}$+K>=0!=!!H&&re.reverse()}var q=i.by(function re(H,$){var K,ie=H&&H.type;if(ie==="FeatureCollection")for(K=0;K<H.features.length;K++)re(H.features[K],$);else if(ie==="GeometryCollection")for(K=0;K<H.geometries.length;K++)re(H.geometries[K],$);else if(ie==="Feature")re(H.geometry,$);else if(ie==="Polygon")T(H.coordinates,$);else if(ie==="MultiPolygon")for(K=0;K<H.coordinates.length;K++)T(H.coordinates[K],$);return H});let z=i.bt.VectorTileFeature.prototype.toGeoJSON;var F={exports:{}},N=i.bz,L=i.bt.VectorTileFeature,B=Z;function Z(re,H){this.options=H||{},this.features=re,this.length=re.length}function te(re,H){this.id=typeof re.id=="number"?re.id:void 0,this.type=re.type,this.rawGeometry=re.type===1?[re.geometry]:re.geometry,this.properties=re.tags,this.extent=H||4096}Z.prototype.feature=function(re){return new te(this.features[re],this.options.extent)},te.prototype.loadGeometry=function(){var re=this.rawGeometry;this.geometry=[];for(var H=0;H<re.length;H++){for(var $=re[H],K=[],ie=0;ie<$.length;ie++)K.push(new N($[ie][0],$[ie][1]));this.geometry.push(K)}return this.geometry},te.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var re=this.geometry,H=1/0,$=-1/0,K=1/0,ie=-1/0,ve=0;ve<re.length;ve++)for(var be=re[ve],Ee=0;Ee<be.length;Ee++){var fe=be[Ee];H=Math.min(H,fe.x),$=Math.max($,fe.x),K=Math.min(K,fe.y),ie=Math.max(ie,fe.y)}return[H,K,$,ie]},te.prototype.toGeoJSON=L.prototype.toGeoJSON;var ue=i.bA,ce=B;function ye(re){var H=new ue;return function($,K){for(var ie in $.layers)K.writeMessage(3,Ne,$.layers[ie])}(re,H),H.finish()}function Ne(re,H){var $;H.writeVarintField(15,re.version||1),H.writeStringField(1,re.name||""),H.writeVarintField(5,re.extent||4096);var K={keys:[],values:[],keycache:{},valuecache:{}};for($=0;$<re.length;$++)K.feature=re.feature($),H.writeMessage(2,Se,K);var ie=K.keys;for($=0;$<ie.length;$++)H.writeStringField(3,ie[$]);var ve=K.values;for($=0;$<ve.length;$++)H.writeMessage(4,Qe,ve[$])}function Se(re,H){var $=re.feature;$.id!==void 0&&H.writeVarintField(1,$.id),H.writeMessage(2,Be,re),H.writeVarintField(3,$.type),H.writeMessage(4,$e,$)}function Be(re,H){var $=re.feature,K=re.keys,ie=re.values,ve=re.keycache,be=re.valuecache;for(var Ee in $.properties){var fe=$.properties[Ee],Le=ve[Ee];if(fe!==null){Le===void 0&&(K.push(Ee),ve[Ee]=Le=K.length-1),H.writeVarint(Le);var Ye=typeof fe;Ye!=="string"&&Ye!=="boolean"&&Ye!=="number"&&(fe=JSON.stringify(fe));var De=Ye+":"+fe,dt=be[De];dt===void 0&&(ie.push(fe),be[De]=dt=ie.length-1),H.writeVarint(dt)}}}function He(re,H){return(H<<3)+(7&re)}function Xe(re){return re<<1^re>>31}function $e(re,H){for(var $=re.loadGeometry(),K=re.type,ie=0,ve=0,be=$.length,Ee=0;Ee<be;Ee++){var fe=$[Ee],Le=1;K===1&&(Le=fe.length),H.writeVarint(He(1,Le));for(var Ye=K===3?fe.length-1:fe.length,De=0;De<Ye;De++){De===1&&K!==1&&H.writeVarint(He(2,Ye-1));var dt=fe[De].x-ie,Ht=fe[De].y-ve;H.writeVarint(Xe(dt)),H.writeVarint(Xe(Ht)),ie+=dt,ve+=Ht}K===3&&H.writeVarint(He(7,1))}}function Qe(re,H){var $=typeof re;$==="string"?H.writeStringField(1,re):$==="boolean"?H.writeBooleanField(7,re):$==="number"&&(re%1!=0?H.writeDoubleField(3,re):re<0?H.writeSVarintField(6,re):H.writeVarintField(5,re))}F.exports=ye,F.exports.fromVectorTileJs=ye,F.exports.fromGeojsonVt=function(re,H){H=H||{};var $={};for(var K in re)$[K]=new ce(re[K].features,H),$[K].name=K,$[K].version=H.version,$[K].extent=H.extent;return ye({layers:$})},F.exports.GeoJSONWrapper=ce;var ot=i.by(F.exports);let ze={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:re=>re},ke=Math.fround||(je=new Float32Array(1),re=>(je[0]=+re,je[0]));var je;let lt=3,ut=5,vt=6;class Fe{constructor(H){this.options=Object.assign(Object.create(ze),H),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(H){let{log:$,minZoom:K,maxZoom:ie}=this.options;$&&console.time("total time");let ve=`prepare ${H.length} points`;$&&console.time(ve),this.points=H;let be=[];for(let fe=0;fe<H.length;fe++){let Le=H[fe];if(!Le.geometry)continue;let[Ye,De]=Le.geometry.coordinates,dt=ke(Pe(Ye)),Ht=ke(he(De));be.push(dt,Ht,1/0,fe,-1,1),this.options.reduce&&be.push(0)}let Ee=this.trees[ie+1]=this._createTree(be);$&&console.timeEnd(ve);for(let fe=ie;fe>=K;fe--){let Le=+Date.now();Ee=this.trees[fe]=this._createTree(this._cluster(Ee,fe)),$&&console.log("z%d: %d clusters in %dms",fe,Ee.numItems,+Date.now()-Le)}return $&&console.timeEnd("total time"),this}getClusters(H,$){let K=((H[0]+180)%360+360)%360-180,ie=Math.max(-90,Math.min(90,H[1])),ve=H[2]===180?180:((H[2]+180)%360+360)%360-180,be=Math.max(-90,Math.min(90,H[3]));if(H[2]-H[0]>=360)K=-180,ve=180;else if(K>ve){let De=this.getClusters([K,ie,180,be],$),dt=this.getClusters([-180,ie,ve,be],$);return De.concat(dt)}let Ee=this.trees[this._limitZoom($)],fe=Ee.range(Pe(K),he(be),Pe(ve),he(ie)),Le=Ee.data,Ye=[];for(let De of fe){let dt=this.stride*De;Ye.push(Le[dt+ut]>1?We(Le,dt,this.clusterProps):this.points[Le[dt+lt]])}return Ye}getChildren(H){let $=this._getOriginId(H),K=this._getOriginZoom(H),ie="No cluster with the specified id.",ve=this.trees[K];if(!ve)throw new Error(ie);let be=ve.data;if($*this.stride>=be.length)throw new Error(ie);let Ee=this.options.radius/(this.options.extent*Math.pow(2,K-1)),fe=ve.within(be[$*this.stride],be[$*this.stride+1],Ee),Le=[];for(let Ye of fe){let De=Ye*this.stride;be[De+4]===H&&Le.push(be[De+ut]>1?We(be,De,this.clusterProps):this.points[be[De+lt]])}if(Le.length===0)throw new Error(ie);return Le}getLeaves(H,$,K){let ie=[];return this._appendLeaves(ie,H,$=$||10,K=K||0,0),ie}getTile(H,$,K){let ie=this.trees[this._limitZoom(H)],ve=Math.pow(2,H),{extent:be,radius:Ee}=this.options,fe=Ee/be,Le=(K-fe)/ve,Ye=(K+1+fe)/ve,De={features:[]};return this._addTileFeatures(ie.range(($-fe)/ve,Le,($+1+fe)/ve,Ye),ie.data,$,K,ve,De),$===0&&this._addTileFeatures(ie.range(1-fe/ve,Le,1,Ye),ie.data,ve,K,ve,De),$===ve-1&&this._addTileFeatures(ie.range(0,Le,fe/ve,Ye),ie.data,-1,K,ve,De),De.features.length?De:null}getClusterExpansionZoom(H){let $=this._getOriginZoom(H)-1;for(;$<=this.options.maxZoom;){let K=this.getChildren(H);if($++,K.length!==1)break;H=K[0].properties.cluster_id}return $}_appendLeaves(H,$,K,ie,ve){let be=this.getChildren($);for(let Ee of be){let fe=Ee.properties;if(fe&&fe.cluster?ve+fe.point_count<=ie?ve+=fe.point_count:ve=this._appendLeaves(H,fe.cluster_id,K,ie,ve):ve<ie?ve++:H.push(Ee),H.length===K)break}return ve}_createTree(H){let $=new i.av(H.length/this.stride|0,this.options.nodeSize,Float32Array);for(let K=0;K<H.length;K+=this.stride)$.add(H[K],H[K+1]);return $.finish(),$.data=H,$}_addTileFeatures(H,$,K,ie,ve,be){for(let Ee of H){let fe=Ee*this.stride,Le=$[fe+ut]>1,Ye,De,dt;if(Le)Ye=it($,fe,this.clusterProps),De=$[fe],dt=$[fe+1];else{let Jr=this.points[$[fe+lt]];Ye=Jr.properties;let[_r,Qr]=Jr.geometry.coordinates;De=Pe(_r),dt=he(Qr)}let Ht={type:1,geometry:[[Math.round(this.options.extent*(De*ve-K)),Math.round(this.options.extent*(dt*ve-ie))]],tags:Ye},rr;rr=Le||this.options.generateId?$[fe+lt]:this.points[$[fe+lt]].id,rr!==void 0&&(Ht.id=rr),be.features.push(Ht)}}_limitZoom(H){return Math.max(this.options.minZoom,Math.min(Math.floor(+H),this.options.maxZoom+1))}_cluster(H,$){let{radius:K,extent:ie,reduce:ve,minPoints:be}=this.options,Ee=K/(ie*Math.pow(2,$)),fe=H.data,Le=[],Ye=this.stride;for(let De=0;De<fe.length;De+=Ye){if(fe[De+2]<=$)continue;fe[De+2]=$;let dt=fe[De],Ht=fe[De+1],rr=H.within(fe[De],fe[De+1],Ee),Jr=fe[De+ut],_r=Jr;for(let Qr of rr){let jr=Qr*Ye;fe[jr+2]>$&&(_r+=fe[jr+ut])}if(_r>Jr&&_r>=be){let Qr,jr=dt*Jr,xi=Ht*Jr,ti=-1,Pr=((De/Ye|0)<<5)+($+1)+this.points.length;for(let fn of rr){let Hn=fn*Ye;if(fe[Hn+2]<=$)continue;fe[Hn+2]=$;let Bi=fe[Hn+ut];jr+=fe[Hn]*Bi,xi+=fe[Hn+1]*Bi,fe[Hn+4]=Pr,ve&&(Qr||(Qr=this._map(fe,De,!0),ti=this.clusterProps.length,this.clusterProps.push(Qr)),ve(Qr,this._map(fe,Hn)))}fe[De+4]=Pr,Le.push(jr/_r,xi/_r,1/0,Pr,-1,_r),ve&&Le.push(ti)}else{for(let Qr=0;Qr<Ye;Qr++)Le.push(fe[De+Qr]);if(_r>1)for(let Qr of rr){let jr=Qr*Ye;if(!(fe[jr+2]<=$)){fe[jr+2]=$;for(let xi=0;xi<Ye;xi++)Le.push(fe[jr+xi])}}}}return Le}_getOriginId(H){return H-this.points.length>>5}_getOriginZoom(H){return(H-this.points.length)%32}_map(H,$,K){if(H[$+ut]>1){let be=this.clusterProps[H[$+vt]];return K?Object.assign({},be):be}let ie=this.points[H[$+lt]].properties,ve=this.options.map(ie);return K&&ve===ie?Object.assign({},ve):ve}}function We(re,H,$){return{type:"Feature",id:re[H+lt],properties:it(re,H,$),geometry:{type:"Point",coordinates:[(K=re[H],360*(K-.5)),Re(re[H+1])]}};var K}function it(re,H,$){let K=re[H+ut],ie=K>=1e4?`${Math.round(K/1e3)}k`:K>=1e3?Math.round(K/100)/10+"k":K,ve=re[H+vt],be=ve===-1?{}:Object.assign({},$[ve]);return Object.assign(be,{cluster:!0,cluster_id:re[H+lt],point_count:K,point_count_abbreviated:ie})}function Pe(re){return re/360+.5}function he(re){let H=Math.sin(re*Math.PI/180),$=.5-.25*Math.log((1+H)/(1-H))/Math.PI;return $<0?0:$>1?1:$}function Re(re){let H=(180-360*re)*Math.PI/180;return 360*Math.atan(Math.exp(H))/Math.PI-90}function Te(re,H,$,K){let ie=K,ve=H+($-H>>1),be,Ee=$-H,fe=re[H],Le=re[H+1],Ye=re[$],De=re[$+1];for(let dt=H+3;dt<$;dt+=3){let Ht=Ke(re[dt],re[dt+1],fe,Le,Ye,De);if(Ht>ie)be=dt,ie=Ht;else if(Ht===ie){let rr=Math.abs(dt-ve);rr<Ee&&(be=dt,Ee=rr)}}ie>K&&(be-H>3&&Te(re,H,be,K),re[be+2]=ie,$-be>3&&Te(re,be,$,K))}function Ke(re,H,$,K,ie,ve){let be=ie-$,Ee=ve-K;if(be!==0||Ee!==0){let fe=((re-$)*be+(H-K)*Ee)/(be*be+Ee*Ee);fe>1?($=ie,K=ve):fe>0&&($+=be*fe,K+=Ee*fe)}return be=re-$,Ee=H-K,be*be+Ee*Ee}function Ge(re,H,$,K){let ie={id:re==null?null:re,type:H,geometry:$,tags:K,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};if(H==="Point"||H==="MultiPoint"||H==="LineString")wt(ie,$);else if(H==="Polygon")wt(ie,$[0]);else if(H==="MultiLineString")for(let ve of $)wt(ie,ve);else if(H==="MultiPolygon")for(let ve of $)wt(ie,ve[0]);return ie}function wt(re,H){for(let $=0;$<H.length;$+=3)re.minX=Math.min(re.minX,H[$]),re.minY=Math.min(re.minY,H[$+1]),re.maxX=Math.max(re.maxX,H[$]),re.maxY=Math.max(re.maxY,H[$+1])}function St(re,H,$,K){if(!H.geometry)return;let ie=H.geometry.coordinates;if(ie&&ie.length===0)return;let ve=H.geometry.type,be=Math.pow($.tolerance/((1<<$.maxZoom)*$.extent),2),Ee=[],fe=H.id;if($.promoteId?fe=H.properties[$.promoteId]:$.generateId&&(fe=K||0),ve==="Point")Ot(ie,Ee);else if(ve==="MultiPoint")for(let Le of ie)Ot(Le,Ee);else if(ve==="LineString")xe(ie,Ee,be,!1);else if(ve==="MultiLineString"){if($.lineMetrics){for(let Le of ie)Ee=[],xe(Le,Ee,be,!1),re.push(Ge(fe,"LineString",Ee,H.properties));return}pt(ie,Ee,be,!1)}else if(ve==="Polygon")pt(ie,Ee,be,!0);else{if(ve!=="MultiPolygon"){if(ve==="GeometryCollection"){for(let Le of H.geometry.geometries)St(re,{id:fe,geometry:Le,properties:H.properties},$,K);return}throw new Error("Input data is not a valid GeoJSON object.")}for(let Le of ie){let Ye=[];pt(Le,Ye,be,!0),Ee.push(Ye)}}re.push(Ge(fe,ve,Ee,H.properties))}function Ot(re,H){H.push(Ut(re[0]),ht(re[1]),0)}function xe(re,H,$,K){let ie,ve,be=0;for(let fe=0;fe<re.length;fe++){let Le=Ut(re[fe][0]),Ye=ht(re[fe][1]);H.push(Le,Ye,0),fe>0&&(be+=K?(ie*Ye-Le*ve)/2:Math.sqrt(Math.pow(Le-ie,2)+Math.pow(Ye-ve,2))),ie=Le,ve=Ye}let Ee=H.length-3;H[2]=1,Te(H,0,Ee,$),H[Ee+2]=1,H.size=Math.abs(be),H.start=0,H.end=H.size}function pt(re,H,$,K){for(let ie=0;ie<re.length;ie++){let ve=[];xe(re[ie],ve,$,K),H.push(ve)}}function Ut(re){return re/360+.5}function ht(re){let H=Math.sin(re*Math.PI/180),$=.5-.25*Math.log((1+H)/(1-H))/Math.PI;return $<0?0:$>1?1:$}function $t(re,H,$,K,ie,ve,be,Ee){if(K/=H,ve>=($/=H)&&be<K)return re;if(be<$||ve>=K)return null;let fe=[];for(let Le of re){let Ye=Le.geometry,De=Le.type,dt=ie===0?Le.minX:Le.minY,Ht=ie===0?Le.maxX:Le.maxY;if(dt>=$&&Ht<K){fe.push(Le);continue}if(Ht<$||dt>=K)continue;let rr=[];if(De==="Point"||De==="MultiPoint")lr(Ye,rr,$,K,ie);else if(De==="LineString")Bt(Ye,rr,$,K,ie,!1,Ee.lineMetrics);else if(De==="MultiLineString")Fr(Ye,rr,$,K,ie,!1);else if(De==="Polygon")Fr(Ye,rr,$,K,ie,!0);else if(De==="MultiPolygon")for(let Jr of Ye){let _r=[];Fr(Jr,_r,$,K,ie,!0),_r.length&&rr.push(_r)}if(rr.length){if(Ee.lineMetrics&&De==="LineString"){for(let Jr of rr)fe.push(Ge(Le.id,De,Jr,Le.tags));continue}De!=="LineString"&&De!=="MultiLineString"||(rr.length===1?(De="LineString",rr=rr[0]):De="MultiLineString"),De!=="Point"&&De!=="MultiPoint"||(De=rr.length===3?"Point":"MultiPoint"),fe.push(Ge(Le.id,De,rr,Le.tags))}}return fe.length?fe:null}function lr(re,H,$,K,ie){for(let ve=0;ve<re.length;ve+=3){let be=re[ve+ie];be>=$&&be<=K&&Dr(H,re[ve],re[ve+1],re[ve+2])}}function Bt(re,H,$,K,ie,ve,be){let Ee=ur(re),fe=ie===0?or:Kr,Le,Ye,De=re.start;for(let _r=0;_r<re.length-3;_r+=3){let Qr=re[_r],jr=re[_r+1],xi=re[_r+2],ti=re[_r+3],Pr=re[_r+4],fn=ie===0?Qr:jr,Hn=ie===0?ti:Pr,Bi=!1;be&&(Le=Math.sqrt(Math.pow(Qr-ti,2)+Math.pow(jr-Pr,2))),fn<$?Hn>$&&(Ye=fe(Ee,Qr,jr,ti,Pr,$),be&&(Ee.start=De+Le*Ye)):fn>K?Hn<K&&(Ye=fe(Ee,Qr,jr,ti,Pr,K),be&&(Ee.start=De+Le*Ye)):Dr(Ee,Qr,jr,xi),Hn<$&&fn>=$&&(Ye=fe(Ee,Qr,jr,ti,Pr,$),Bi=!0),Hn>K&&fn<=K&&(Ye=fe(Ee,Qr,jr,ti,Pr,K),Bi=!0),!ve&&Bi&&(be&&(Ee.end=De+Le*Ye),H.push(Ee),Ee=ur(re)),be&&(De+=Le)}let dt=re.length-3,Ht=re[dt],rr=re[dt+1],Jr=ie===0?Ht:rr;Jr>=$&&Jr<=K&&Dr(Ee,Ht,rr,re[dt+2]),dt=Ee.length-3,ve&&dt>=3&&(Ee[dt]!==Ee[0]||Ee[dt+1]!==Ee[1])&&Dr(Ee,Ee[0],Ee[1],Ee[2]),Ee.length&&H.push(Ee)}function ur(re){let H=[];return H.size=re.size,H.start=re.start,H.end=re.end,H}function Fr(re,H,$,K,ie,ve){for(let be of re)Bt(be,H,$,K,ie,ve,!1)}function Dr(re,H,$,K){re.push(H,$,K)}function or(re,H,$,K,ie,ve){let be=(ve-H)/(K-H);return Dr(re,ve,$+(ie-$)*be,1),be}function Kr(re,H,$,K,ie,ve){let be=(ve-$)/(ie-$);return Dr(re,H+(K-H)*be,ve,1),be}function nt(re,H){let $=[];for(let K=0;K<re.length;K++){let ie=re[K],ve=ie.type,be;if(ve==="Point"||ve==="MultiPoint"||ve==="LineString")be=ei(ie.geometry,H);else if(ve==="MultiLineString"||ve==="Polygon"){be=[];for(let Ee of ie.geometry)be.push(ei(Ee,H))}else if(ve==="MultiPolygon"){be=[];for(let Ee of ie.geometry){let fe=[];for(let Le of Ee)fe.push(ei(Le,H));be.push(fe)}}$.push(Ge(ie.id,ve,be,ie.tags))}return $}function ei(re,H){let $=[];$.size=re.size,re.start!==void 0&&($.start=re.start,$.end=re.end);for(let K=0;K<re.length;K+=3)$.push(re[K]+H,re[K+1],re[K+2]);return $}function pn(re,H){if(re.transformed)return re;let $=1<<re.z,K=re.x,ie=re.y;for(let ve of re.features){let be=ve.geometry,Ee=ve.type;if(ve.geometry=[],Ee===1)for(let fe=0;fe<be.length;fe+=2)ve.geometry.push($a(be[fe],be[fe+1],H,$,K,ie));else for(let fe=0;fe<be.length;fe++){let Le=[];for(let Ye=0;Ye<be[fe].length;Ye+=2)Le.push($a(be[fe][Ye],be[fe][Ye+1],H,$,K,ie));ve.geometry.push(Le)}}return re.transformed=!0,re}function $a(re,H,$,K,ie,ve){return[Math.round($*(re*K-ie)),Math.round($*(H*K-ve))]}function Qs(re,H,$,K,ie){let ve=H===ie.maxZoom?0:ie.tolerance/((1<<H)*ie.extent),be={features:[],numPoints:0,numSimplified:0,numFeatures:re.length,source:null,x:$,y:K,z:H,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0};for(let Ee of re)bt(be,Ee,ve,ie);return be}function bt(re,H,$,K){let ie=H.geometry,ve=H.type,be=[];if(re.minX=Math.min(re.minX,H.minX),re.minY=Math.min(re.minY,H.minY),re.maxX=Math.max(re.maxX,H.maxX),re.maxY=Math.max(re.maxY,H.maxY),ve==="Point"||ve==="MultiPoint")for(let Ee=0;Ee<ie.length;Ee+=3)be.push(ie[Ee],ie[Ee+1]),re.numPoints++,re.numSimplified++;else if(ve==="LineString")wr(be,ie,re,$,!1,!1);else if(ve==="MultiLineString"||ve==="Polygon")for(let Ee=0;Ee<ie.length;Ee++)wr(be,ie[Ee],re,$,ve==="Polygon",Ee===0);else if(ve==="MultiPolygon")for(let Ee=0;Ee<ie.length;Ee++){let fe=ie[Ee];for(let Le=0;Le<fe.length;Le++)wr(be,fe[Le],re,$,!0,Le===0)}if(be.length){let Ee=H.tags||null;if(ve==="LineString"&&K.lineMetrics){Ee={};for(let Le in H.tags)Ee[Le]=H.tags[Le];Ee.mapbox_clip_start=ie.start/ie.size,Ee.mapbox_clip_end=ie.end/ie.size}let fe={geometry:be,type:ve==="Polygon"||ve==="MultiPolygon"?3:ve==="LineString"||ve==="MultiLineString"?2:1,tags:Ee};H.id!==null&&(fe.id=H.id),re.features.push(fe)}}function wr(re,H,$,K,ie,ve){let be=K*K;if(K>0&&H.size<(ie?be:K))return void($.numPoints+=H.length/3);let Ee=[];for(let fe=0;fe<H.length;fe+=3)(K===0||H[fe+2]>be)&&($.numSimplified++,Ee.push(H[fe],H[fe+1])),$.numPoints++;ie&&function(fe,Le){let Ye=0;for(let De=0,dt=fe.length,Ht=dt-2;De<dt;Ht=De,De+=2)Ye+=(fe[De]-fe[Ht])*(fe[De+1]+fe[Ht+1]);if(Ye>0===Le)for(let De=0,dt=fe.length;De<dt/2;De+=2){let Ht=fe[De],rr=fe[De+1];fe[De]=fe[dt-2-De],fe[De+1]=fe[dt-1-De],fe[dt-2-De]=Ht,fe[dt-1-De]=rr}}(Ee,ve),re.push(Ee)}let sr={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0};class no{constructor(H,$){let K=($=this.options=function(ve,be){for(let Ee in be)ve[Ee]=be[Ee];return ve}(Object.create(sr),$)).debug;if(K&&console.time("preprocess data"),$.maxZoom<0||$.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if($.promoteId&&$.generateId)throw new Error("promoteId and generateId cannot be used together.");let ie=function(ve,be){let Ee=[];if(ve.type==="FeatureCollection")for(let fe=0;fe<ve.features.length;fe++)St(Ee,ve.features[fe],be,fe);else St(Ee,ve.type==="Feature"?ve:{geometry:ve},be);return Ee}(H,$);this.tiles={},this.tileCoords=[],K&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",$.indexMaxZoom,$.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),ie=function(ve,be){let Ee=be.buffer/be.extent,fe=ve,Le=$t(ve,1,-1-Ee,Ee,0,-1,2,be),Ye=$t(ve,1,1-Ee,2+Ee,0,-1,2,be);return(Le||Ye)&&(fe=$t(ve,1,-Ee,1+Ee,0,-1,2,be)||[],Le&&(fe=nt(Le,1).concat(fe)),Ye&&(fe=fe.concat(nt(Ye,-1)))),fe}(ie,$),ie.length&&this.splitTile(ie,0,0,0),K&&(ie.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}splitTile(H,$,K,ie,ve,be,Ee){let fe=[H,$,K,ie],Le=this.options,Ye=Le.debug;for(;fe.length;){ie=fe.pop(),K=fe.pop(),$=fe.pop(),H=fe.pop();let De=1<<$,dt=wa($,K,ie),Ht=this.tiles[dt];if(!Ht&&(Ye>1&&console.time("creation"),Ht=this.tiles[dt]=Qs(H,$,K,ie,Le),this.tileCoords.push({z:$,x:K,y:ie}),Ye)){Ye>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",$,K,ie,Ht.numFeatures,Ht.numPoints,Ht.numSimplified),console.timeEnd("creation"));let Bi=`z${$}`;this.stats[Bi]=(this.stats[Bi]||0)+1,this.total++}if(Ht.source=H,ve==null){if($===Le.indexMaxZoom||Ht.numPoints<=Le.indexMaxPoints)continue}else{if($===Le.maxZoom||$===ve)continue;if(ve!=null){let Bi=ve-$;if(K!==be>>Bi||ie!==Ee>>Bi)continue}}if(Ht.source=null,H.length===0)continue;Ye>1&&console.time("clipping");let rr=.5*Le.buffer/Le.extent,Jr=.5-rr,_r=.5+rr,Qr=1+rr,jr=null,xi=null,ti=null,Pr=null,fn=$t(H,De,K-rr,K+_r,0,Ht.minX,Ht.maxX,Le),Hn=$t(H,De,K+Jr,K+Qr,0,Ht.minX,Ht.maxX,Le);H=null,fn&&(jr=$t(fn,De,ie-rr,ie+_r,1,Ht.minY,Ht.maxY,Le),xi=$t(fn,De,ie+Jr,ie+Qr,1,Ht.minY,Ht.maxY,Le),fn=null),Hn&&(ti=$t(Hn,De,ie-rr,ie+_r,1,Ht.minY,Ht.maxY,Le),Pr=$t(Hn,De,ie+Jr,ie+Qr,1,Ht.minY,Ht.maxY,Le),Hn=null),Ye>1&&console.timeEnd("clipping"),fe.push(jr||[],$+1,2*K,2*ie),fe.push(xi||[],$+1,2*K,2*ie+1),fe.push(ti||[],$+1,2*K+1,2*ie),fe.push(Pr||[],$+1,2*K+1,2*ie+1)}}getTile(H,$,K){H=+H,$=+$,K=+K;let ie=this.options,{extent:ve,debug:be}=ie;if(H<0||H>24)return null;let Ee=1<<H,fe=wa(H,$=$+Ee&Ee-1,K);if(this.tiles[fe])return pn(this.tiles[fe],ve);be>1&&console.log("drilling down to z%d-%d-%d",H,$,K);let Le,Ye=H,De=$,dt=K;for(;!Le&&Ye>0;)Ye--,De>>=1,dt>>=1,Le=this.tiles[wa(Ye,De,dt)];return Le&&Le.source?(be>1&&(console.log("found parent tile z%d-%d-%d",Ye,De,dt),console.time("drilling down")),this.splitTile(Le.source,Ye,De,dt,H,$,K),be>1&&console.timeEnd("drilling down"),this.tiles[fe]?pn(this.tiles[fe],ve):null):null}}function wa(re,H,$){return 32*((1<<re)*$+H)+re}function we(re,H){return H?re.properties[H]:re.id}function Ce(re,H){if(re==null)return!0;if(re.type==="Feature")return we(re,H)!=null;if(re.type==="FeatureCollection"){let $=new Set;for(let K of re.features){let ie=we(K,H);if(ie==null||$.has(ie))return!1;$.add(ie)}return!0}return!1}function st(re,H){let $=new Map;if(re!=null)if(re.type==="Feature")$.set(we(re,H),re);else for(let K of re.features)$.set(we(K,H),K);return $}class Rt extends y{constructor(){super(...arguments),this._dataUpdateable=new Map}loadVectorTile(H,$){return i._(this,void 0,void 0,function*(){let K=H.tileID.canonical;if(!this._geoJSONIndex)throw new Error("Unable to parse the data into a cluster or geojson");let ie=this._geoJSONIndex.getTile(K.z,K.x,K.y);if(!ie)return null;let ve=new class{constructor(Ee){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=i.X,this.length=Ee.length,this._features=Ee}feature(Ee){return new class{constructor(fe){this._feature=fe,this.extent=i.X,this.type=fe.type,this.properties=fe.tags,"id"in fe&&!isNaN(fe.id)&&(this.id=parseInt(fe.id,10))}loadGeometry(){if(this._feature.type===1){let fe=[];for(let Le of this._feature.geometry)fe.push([new i.P(Le[0],Le[1])]);return fe}{let fe=[];for(let Le of this._feature.geometry){let Ye=[];for(let De of Le)Ye.push(new i.P(De[0],De[1]));fe.push(Ye)}return fe}}toGeoJSON(fe,Le,Ye){return z.call(this,fe,Le,Ye)}}(this._features[Ee])}}(ie.features),be=ot(ve);return be.byteOffset===0&&be.byteLength===be.buffer.byteLength||(be=new Uint8Array(be)),{vectorTile:ve,rawData:be.buffer}})}loadData(H){return i._(this,void 0,void 0,function*(){var $;($=this._pendingRequest)===null||$===void 0||$.abort();let K=!!(H&&H.request&&H.request.collectResourceTiming)&&new i.bv(H.request);this._pendingRequest=new AbortController;try{this._pendingData=this.loadAndProcessGeoJSON(H,this._pendingRequest),this._geoJSONIndex=H.cluster?new Fe(function({superclusterOptions:be,clusterProperties:Ee}){if(!Ee||!be)return be;let fe={},Le={},Ye={accumulated:null,zoom:0},De={properties:null},dt=Object.keys(Ee);for(let Ht of dt){let[rr,Jr]=Ee[Ht],_r=i.bC(Jr),Qr=i.bC(typeof rr=="string"?[rr,["accumulated"],["get",Ht]]:rr);fe[Ht]=_r.value,Le[Ht]=Qr.value}return be.map=Ht=>{De.properties=Ht;let rr={};for(let Jr of dt)rr[Jr]=fe[Jr].evaluate(Ye,De);return rr},be.reduce=(Ht,rr)=>{De.properties=rr;for(let Jr of dt)Ye.accumulated=Ht[Jr],Ht[Jr]=Le[Jr].evaluate(Ye,De)},be}(H)).load((yield this._pendingData).features):(ie=yield this._pendingData,new no(ie,H.geojsonVtOptions)),this.loaded={};let ve={};if(K){let be=K.finish();be&&(ve.resourceTiming={},ve.resourceTiming[H.source]=JSON.parse(JSON.stringify(be)))}return ve}catch(ve){if(delete this._pendingRequest,i.bB(ve))return{abandoned:!0};throw ve}var ie})}getData(){return i._(this,void 0,void 0,function*(){return this._pendingData})}reloadTile(H){let $=this.loaded;return $&&$[H.uid]?super.reloadTile(H):this.loadTile(H)}loadAndProcessGeoJSON(H,$){return i._(this,void 0,void 0,function*(){let K=yield this.loadGeoJSON(H,$);if(delete this._pendingRequest,typeof K!="object")throw new Error(`Input data given to '${H.source}' is not a valid GeoJSON object.`);if(q(K,!0),H.filter){let ie=i.bC(H.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(ie.result==="error")throw new Error(ie.value.map(be=>`${be.key}: ${be.message}`).join(", "));K={type:"FeatureCollection",features:K.features.filter(be=>ie.value.evaluate({zoom:0},be))}}return K})}loadGeoJSON(H,$){return i._(this,void 0,void 0,function*(){let{promoteId:K}=H;if(H.request){let ie=yield i.h(H.request,$);return this._dataUpdateable=Ce(ie.data,K)?st(ie.data,K):void 0,ie.data}if(typeof H.data=="string")try{let ie=JSON.parse(H.data);return this._dataUpdateable=Ce(ie,K)?st(ie,K):void 0,ie}catch(ie){throw new Error(`Input data given to '${H.source}' is not a valid GeoJSON object.`)}if(!H.dataDiff)throw new Error(`Input data given to '${H.source}' is not a valid GeoJSON object.`);if(!this._dataUpdateable)throw new Error(`Cannot update existing geojson data in ${H.source}`);return function(ie,ve,be){var Ee,fe,Le,Ye;if(ve.removeAll&&ie.clear(),ve.remove)for(let De of ve.remove)ie.delete(De);if(ve.add)for(let De of ve.add){let dt=we(De,be);dt!=null&&ie.set(dt,De)}if(ve.update)for(let De of ve.update){let dt=ie.get(De.id);if(dt==null)continue;let Ht=!De.removeAllProperties&&(((Ee=De.removeProperties)===null||Ee===void 0?void 0:Ee.length)>0||((fe=De.addOrUpdateProperties)===null||fe===void 0?void 0:fe.length)>0);if((De.newGeometry||De.removeAllProperties||Ht)&&(dt=Object.assign({},dt),ie.set(De.id,dt),Ht&&(dt.properties=Object.assign({},dt.properties))),De.newGeometry&&(dt.geometry=De.newGeometry),De.removeAllProperties)dt.properties={};else if(((Le=De.removeProperties)===null||Le===void 0?void 0:Le.length)>0)for(let rr of De.removeProperties)Object.prototype.hasOwnProperty.call(dt.properties,rr)&&delete dt.properties[rr];if(((Ye=De.addOrUpdateProperties)===null||Ye===void 0?void 0:Ye.length)>0)for(let{key:rr,value:Jr}of De.addOrUpdateProperties)dt.properties[rr]=Jr}}(this._dataUpdateable,H.dataDiff,K),{type:"FeatureCollection",features:Array.from(this._dataUpdateable.values())}})}removeSource(H){return i._(this,void 0,void 0,function*(){this._pendingRequest&&this._pendingRequest.abort()})}getClusterExpansionZoom(H){return this._geoJSONIndex.getClusterExpansionZoom(H.clusterId)}getClusterChildren(H){return this._geoJSONIndex.getChildren(H.clusterId)}getClusterLeaves(H){return this._geoJSONIndex.getLeaves(H.clusterId,H.limit,H.offset)}}class Pt{constructor(H){this.self=H,this.actor=new i.F(H),this.layerIndexes={},this.availableImages={},this.workerSources={},this.demWorkerSources={},this.externalWorkerSourceTypes={},this.self.registerWorkerSource=($,K)=>{if(this.externalWorkerSourceTypes[$])throw new Error(`Worker source with name "${$}" already registered.`);this.externalWorkerSourceTypes[$]=K},this.self.addProtocol=i.bi,this.self.removeProtocol=i.bj,this.self.registerRTLTextPlugin=$=>{if(i.bD.isParsed())throw new Error("RTL text plugin already registered.");i.bD.setMethods($)},this.actor.registerMessageHandler("LDT",($,K)=>this._getDEMWorkerSource($,K.source).loadTile(K)),this.actor.registerMessageHandler("RDT",($,K)=>i._(this,void 0,void 0,function*(){this._getDEMWorkerSource($,K.source).removeTile(K)})),this.actor.registerMessageHandler("GCEZ",($,K)=>i._(this,void 0,void 0,function*(){return this._getWorkerSource($,K.type,K.source).getClusterExpansionZoom(K)})),this.actor.registerMessageHandler("GCC",($,K)=>i._(this,void 0,void 0,function*(){return this._getWorkerSource($,K.type,K.source).getClusterChildren(K)})),this.actor.registerMessageHandler("GCL",($,K)=>i._(this,void 0,void 0,function*(){return this._getWorkerSource($,K.type,K.source).getClusterLeaves(K)})),this.actor.registerMessageHandler("LD",($,K)=>this._getWorkerSource($,K.type,K.source).loadData(K)),this.actor.registerMessageHandler("GD",($,K)=>this._getWorkerSource($,K.type,K.source).getData()),this.actor.registerMessageHandler("LT",($,K)=>this._getWorkerSource($,K.type,K.source).loadTile(K)),this.actor.registerMessageHandler("RT",($,K)=>this._getWorkerSource($,K.type,K.source).reloadTile(K)),this.actor.registerMessageHandler("AT",($,K)=>this._getWorkerSource($,K.type,K.source).abortTile(K)),this.actor.registerMessageHandler("RMT",($,K)=>this._getWorkerSource($,K.type,K.source).removeTile(K)),this.actor.registerMessageHandler("RS",($,K)=>i._(this,void 0,void 0,function*(){if(!this.workerSources[$]||!this.workerSources[$][K.type]||!this.workerSources[$][K.type][K.source])return;let ie=this.workerSources[$][K.type][K.source];delete this.workerSources[$][K.type][K.source],ie.removeSource!==void 0&&ie.removeSource(K)})),this.actor.registerMessageHandler("RM",$=>i._(this,void 0,void 0,function*(){delete this.layerIndexes[$],delete this.availableImages[$],delete this.workerSources[$],delete this.demWorkerSources[$]})),this.actor.registerMessageHandler("SR",($,K)=>i._(this,void 0,void 0,function*(){this.referrer=K})),this.actor.registerMessageHandler("SRPS",($,K)=>this._syncRTLPluginState($,K)),this.actor.registerMessageHandler("IS",($,K)=>i._(this,void 0,void 0,function*(){this.self.importScripts(K)})),this.actor.registerMessageHandler("SI",($,K)=>this._setImages($,K)),this.actor.registerMessageHandler("UL",($,K)=>i._(this,void 0,void 0,function*(){this._getLayerIndex($).update(K.layers,K.removedIds)})),this.actor.registerMessageHandler("SL",($,K)=>i._(this,void 0,void 0,function*(){this._getLayerIndex($).replace(K)}))}_setImages(H,$){return i._(this,void 0,void 0,function*(){this.availableImages[H]=$;for(let K in this.workerSources[H]){let ie=this.workerSources[H][K];for(let ve in ie)ie[ve].availableImages=$}})}_syncRTLPluginState(H,$){return i._(this,void 0,void 0,function*(){if(i.bD.isParsed())return i.bD.getState();if($.pluginStatus!=="loading")return i.bD.setState($),$;let K=$.pluginURL;if(this.self.importScripts(K),i.bD.isParsed()){let ie={pluginStatus:"loaded",pluginURL:K};return i.bD.setState(ie),ie}throw i.bD.setState({pluginStatus:"error",pluginURL:""}),new Error(`RTL Text Plugin failed to import scripts from ${K}`)})}_getAvailableImages(H){let $=this.availableImages[H];return $||($=[]),$}_getLayerIndex(H){let $=this.layerIndexes[H];return $||($=this.layerIndexes[H]=new o),$}_getWorkerSource(H,$,K){if(this.workerSources[H]||(this.workerSources[H]={}),this.workerSources[H][$]||(this.workerSources[H][$]={}),!this.workerSources[H][$][K]){let ie={sendAsync:(ve,be)=>(ve.targetMapId=H,this.actor.sendAsync(ve,be))};switch($){case"vector":this.workerSources[H][$][K]=new y(ie,this._getLayerIndex(H),this._getAvailableImages(H));break;case"geojson":this.workerSources[H][$][K]=new Rt(ie,this._getLayerIndex(H),this._getAvailableImages(H));break;default:this.workerSources[H][$][K]=new this.externalWorkerSourceTypes[$](ie,this._getLayerIndex(H),this._getAvailableImages(H));}}return this.workerSources[H][$][K]}_getDEMWorkerSource(H,$){return this.demWorkerSources[H]||(this.demWorkerSources[H]={}),this.demWorkerSources[H][$]||(this.demWorkerSources[H][$]=new w),this.demWorkerSources[H][$]}}return i.i(self)&&(self.worker=new Pt(self)),Pt}),r("index",["exports","./shared"],function(i,o){"use strict";var u="4.7.0";let f,h,y={now:typeof performance!="undefined"&&performance&&performance.now?performance.now.bind(performance):Date.now.bind(Date),frameAsync:b=>new Promise((a,p)=>{let m=requestAnimationFrame(a);b.signal.addEventListener("abort",()=>{cancelAnimationFrame(m),p(o.c())})}),getImageData(b,a=0){return this.getImageCanvasContext(b).getImageData(-a,-a,b.width+2*a,b.height+2*a)},getImageCanvasContext(b){let a=window.document.createElement("canvas"),p=a.getContext("2d",{willReadFrequently:!0});if(!p)throw new Error("failed to create canvas 2d context");return a.width=b.width,a.height=b.height,p.drawImage(b,0,0,b.width,b.height),p},resolveURL:b=>(f||(f=document.createElement("a")),f.href=b,f.href),hardwareConcurrency:typeof navigator!="undefined"&&navigator.hardwareConcurrency||4,get prefersReducedMotion(){return!!matchMedia&&(h==null&&(h=matchMedia("(prefers-reduced-motion: reduce)")),h.matches)}};class w{static testProp(a){if(!w.docStyle)return a[0];for(let p=0;p<a.length;p++)if(a[p]in w.docStyle)return a[p];return a[0]}static create(a,p,m){let v=window.document.createElement(a);return p!==void 0&&(v.className=p),m&&m.appendChild(v),v}static createNS(a,p){return window.document.createElementNS(a,p)}static disableDrag(){w.docStyle&&w.selectProp&&(w.userSelect=w.docStyle[w.selectProp],w.docStyle[w.selectProp]="none")}static enableDrag(){w.docStyle&&w.selectProp&&(w.docStyle[w.selectProp]=w.userSelect)}static setTransform(a,p){a.style[w.transformProp]=p}static addEventListener(a,p,m,v={}){a.addEventListener(p,m,"passive"in v?v:v.capture)}static removeEventListener(a,p,m,v={}){a.removeEventListener(p,m,"passive"in v?v:v.capture)}static suppressClickInternal(a){a.preventDefault(),a.stopPropagation(),window.removeEventListener("click",w.suppressClickInternal,!0)}static suppressClick(){window.addEventListener("click",w.suppressClickInternal,!0),window.setTimeout(()=>{window.removeEventListener("click",w.suppressClickInternal,!0)},0)}static getScale(a){let p=a.getBoundingClientRect();return{x:p.width/a.offsetWidth||1,y:p.height/a.offsetHeight||1,boundingClientRect:p}}static getPoint(a,p,m){let v=p.boundingClientRect;return new o.P((m.clientX-v.left)/p.x-a.clientLeft,(m.clientY-v.top)/p.y-a.clientTop)}static mousePos(a,p){let m=w.getScale(a);return w.getPoint(a,m,p)}static touchPos(a,p){let m=[],v=w.getScale(a);for(let _=0;_<p.length;_++)m.push(w.getPoint(a,v,p[_]));return m}static mouseButton(a){return a.button}static remove(a){a.parentNode&&a.parentNode.removeChild(a)}}w.docStyle=typeof window!="undefined"&&window.document&&window.document.documentElement.style,w.selectProp=w.testProp(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),w.transformProp=w.testProp(["transform","WebkitTransform"]);let T={supported:!1,testSupport:function(b){!z&&q&&(F?N(b):A=b)}},A,q,z=!1,F=!1;function N(b){let a=b.createTexture();b.bindTexture(b.TEXTURE_2D,a);try{if(b.texImage2D(b.TEXTURE_2D,0,b.RGBA,b.RGBA,b.UNSIGNED_BYTE,q),b.isContextLost())return;T.supported=!0}catch(p){}b.deleteTexture(a),z=!0}var L;typeof document!="undefined"&&(q=document.createElement("img"),q.onload=()=>{A&&N(A),A=null,F=!0},q.onerror=()=>{z=!0,A=null},q.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="),function(b){let a,p,m,v;b.resetRequestQueue=()=>{a=[],p=0,m=0,v={}},b.addThrottleControl=O=>{let D=m++;return v[D]=O,D},b.removeThrottleControl=O=>{delete v[O],C()},b.getImage=(O,D,V=!0)=>new Promise((U,Y)=>{T.supported&&(O.headers||(O.headers={}),O.headers.accept="image/webp,*/*"),o.e(O,{type:"image"}),a.push({abortController:D,requestParameters:O,supportImageRefresh:V,state:"queued",onError:ee=>{Y(ee)},onSuccess:ee=>{U(ee)}}),C()});let _=O=>o._(this,void 0,void 0,function*(){O.state="running";let{requestParameters:D,supportImageRefresh:V,onError:U,onSuccess:Y,abortController:ee}=O,oe=V===!1&&!o.i(self)&&!o.g(D.url)&&(!D.headers||Object.keys(D.headers).reduce((me,ge)=>me&&ge==="accept",!0));p++;let le=oe?P(D,ee):o.m(D,ee);try{let me=yield le;delete O.abortController,O.state="completed",me.data instanceof HTMLImageElement||o.b(me.data)?Y(me):me.data&&Y({data:yield(de=me.data,typeof createImageBitmap=="function"?o.d(de):o.f(de)),cacheControl:me.cacheControl,expires:me.expires})}catch(me){delete O.abortController,U(me)}finally{p--,C()}var de}),C=()=>{let O=(()=>{for(let D of Object.keys(v))if(v[D]())return!0;return!1})()?o.a.MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:o.a.MAX_PARALLEL_IMAGE_REQUESTS;for(let D=p;D<O&&a.length>0;D++){let V=a.shift();V.abortController.signal.aborted?D--:_(V)}},P=(O,D)=>new Promise((V,U)=>{let Y=new Image,ee=O.url,oe=O.credentials;oe&&oe==="include"?Y.crossOrigin="use-credentials":(oe&&oe==="same-origin"||!o.s(ee))&&(Y.crossOrigin="anonymous"),D.signal.addEventListener("abort",()=>{Y.src="",U(o.c())}),Y.fetchPriority="high",Y.onload=()=>{Y.onerror=Y.onload=null,V({data:Y})},Y.onerror=()=>{Y.onerror=Y.onload=null,D.signal.aborted||U(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))},Y.src=ee})}(L||(L={})),L.resetRequestQueue();class B{constructor(a){this._transformRequestFn=a}transformRequest(a,p){return this._transformRequestFn&&this._transformRequestFn(a,p)||{url:a}}setTransformRequest(a){this._transformRequestFn=a}}function Z(b){var a=new o.A(3);return a[0]=b[0],a[1]=b[1],a[2]=b[2],a}var te,ue=function(b,a,p){return b[0]=a[0]-p[0],b[1]=a[1]-p[1],b[2]=a[2]-p[2],b};te=new o.A(3),o.A!=Float32Array&&(te[0]=0,te[1]=0,te[2]=0);var ce=function(b){var a=b[0],p=b[1];return a*a+p*p};function ye(b){let a=[];if(typeof b=="string")a.push({id:"default",url:b});else if(b&&b.length>0){let p=[];for(let{id:m,url:v}of b){let _=`${m}${v}`;p.indexOf(_)===-1&&(p.push(_),a.push({id:m,url:v}))}}return a}function Ne(b,a,p){let m=b.split("?");return m[0]+=`${a}${p}`,m.join("?")}(function(){var b=new o.A(2);o.A!=Float32Array&&(b[0]=0,b[1]=0)})();class Se{constructor(a,p,m,v){this.context=a,this.format=m,this.texture=a.gl.createTexture(),this.update(p,v)}update(a,p,m){let{width:v,height:_}=a,C=!(this.size&&this.size[0]===v&&this.size[1]===_||m),{context:P}=this,{gl:O}=P;if(this.useMipmap=!!(p&&p.useMipmap),O.bindTexture(O.TEXTURE_2D,this.texture),P.pixelStoreUnpackFlipY.set(!1),P.pixelStoreUnpack.set(1),P.pixelStoreUnpackPremultiplyAlpha.set(this.format===O.RGBA&&(!p||p.premultiply!==!1)),C)this.size=[v,_],a instanceof HTMLImageElement||a instanceof HTMLCanvasElement||a instanceof HTMLVideoElement||a instanceof ImageData||o.b(a)?O.texImage2D(O.TEXTURE_2D,0,this.format,this.format,O.UNSIGNED_BYTE,a):O.texImage2D(O.TEXTURE_2D,0,this.format,v,_,0,this.format,O.UNSIGNED_BYTE,a.data);else{let{x:D,y:V}=m||{x:0,y:0};a instanceof HTMLImageElement||a instanceof HTMLCanvasElement||a instanceof HTMLVideoElement||a instanceof ImageData||o.b(a)?O.texSubImage2D(O.TEXTURE_2D,0,D,V,O.RGBA,O.UNSIGNED_BYTE,a):O.texSubImage2D(O.TEXTURE_2D,0,D,V,v,_,O.RGBA,O.UNSIGNED_BYTE,a.data)}this.useMipmap&&this.isSizePowerOfTwo()&&O.generateMipmap(O.TEXTURE_2D)}bind(a,p,m){let{context:v}=this,{gl:_}=v;_.bindTexture(_.TEXTURE_2D,this.texture),m!==_.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(m=_.LINEAR),a!==this.filter&&(_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MAG_FILTER,a),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MIN_FILTER,m||a),this.filter=a),p!==this.wrap&&(_.texParameteri(_.TEXTURE_2D,_.TEXTURE_WRAP_S,p),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_WRAP_T,p),this.wrap=p)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){let{gl:a}=this.context;a.deleteTexture(this.texture),this.texture=null}}function Be(b){let{userImage:a}=b;return!!(a&&a.render&&a.render())&&(b.data.replace(new Uint8Array(a.data.buffer)),!0)}class He extends o.E{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new o.R({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(a){if(this.loaded!==a&&(this.loaded=a,a)){for(let{ids:p,promiseResolve:m}of this.requestors)m(this._getImagesForIds(p));this.requestors=[]}}getImage(a){let p=this.images[a];if(p&&!p.data&&p.spriteData){let m=p.spriteData;p.data=new o.R({width:m.width,height:m.height},m.context.getImageData(m.x,m.y,m.width,m.height).data),p.spriteData=null}return p}addImage(a,p){if(this.images[a])throw new Error(`Image id ${a} already exist, use updateImage instead`);this._validate(a,p)&&(this.images[a]=p)}_validate(a,p){let m=!0,v=p.data||p.spriteData;return this._validateStretch(p.stretchX,v&&v.width)||(this.fire(new o.j(new Error(`Image "${a}" has invalid "stretchX" value`))),m=!1),this._validateStretch(p.stretchY,v&&v.height)||(this.fire(new o.j(new Error(`Image "${a}" has invalid "stretchY" value`))),m=!1),this._validateContent(p.content,p)||(this.fire(new o.j(new Error(`Image "${a}" has invalid "content" value`))),m=!1),m}_validateStretch(a,p){if(!a)return!0;let m=0;for(let v of a){if(v[0]<m||v[1]<v[0]||p<v[1])return!1;m=v[1]}return!0}_validateContent(a,p){if(!a)return!0;if(a.length!==4)return!1;let m=p.spriteData,v=m&&m.width||p.data.width,_=m&&m.height||p.data.height;return!(a[0]<0||v<a[0]||a[1]<0||_<a[1]||a[2]<0||v<a[2]||a[3]<0||_<a[3]||a[2]<a[0]||a[3]<a[1])}updateImage(a,p,m=!0){let v=this.getImage(a);if(m&&(v.data.width!==p.data.width||v.data.height!==p.data.height))throw new Error(`size mismatch between old image (${v.data.width}x${v.data.height}) and new image (${p.data.width}x${p.data.height}).`);p.version=v.version+1,this.images[a]=p,this.updatedImages[a]=!0}removeImage(a){let p=this.images[a];delete this.images[a],delete this.patterns[a],p.userImage&&p.userImage.onRemove&&p.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(a){return new Promise((p,m)=>{let v=!0;if(!this.isLoaded())for(let _ of a)this.images[_]||(v=!1);this.isLoaded()||v?p(this._getImagesForIds(a)):this.requestors.push({ids:a,promiseResolve:p})})}_getImagesForIds(a){let p={};for(let m of a){let v=this.getImage(m);v||(this.fire(new o.k("styleimagemissing",{id:m})),v=this.getImage(m)),v?p[m]={data:v.data.clone(),pixelRatio:v.pixelRatio,sdf:v.sdf,version:v.version,stretchX:v.stretchX,stretchY:v.stretchY,content:v.content,textFitWidth:v.textFitWidth,textFitHeight:v.textFitHeight,hasRenderCallback:!!(v.userImage&&v.userImage.render)}:o.w(`Image "${m}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}return p}getPixelSize(){let{width:a,height:p}=this.atlasImage;return{width:a,height:p}}getPattern(a){let p=this.patterns[a],m=this.getImage(a);if(!m)return null;if(p&&p.position.version===m.version)return p.position;if(p)p.position.version=m.version;else{let v={w:m.data.width+2,h:m.data.height+2,x:0,y:0},_=new o.I(v,m);this.patterns[a]={bin:v,position:_}}return this._updatePatternAtlas(),this.patterns[a].position}bind(a){let p=a.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new Se(a,this.atlasImage,p.RGBA),this.atlasTexture.bind(p.LINEAR,p.CLAMP_TO_EDGE)}_updatePatternAtlas(){let a=[];for(let _ in this.patterns)a.push(this.patterns[_].bin);let{w:p,h:m}=o.p(a),v=this.atlasImage;v.resize({width:p||1,height:m||1});for(let _ in this.patterns){let{bin:C}=this.patterns[_],P=C.x+1,O=C.y+1,D=this.getImage(_).data,V=D.width,U=D.height;o.R.copy(D,v,{x:0,y:0},{x:P,y:O},{width:V,height:U}),o.R.copy(D,v,{x:0,y:U-1},{x:P,y:O-1},{width:V,height:1}),o.R.copy(D,v,{x:0,y:0},{x:P,y:O+U},{width:V,height:1}),o.R.copy(D,v,{x:V-1,y:0},{x:P-1,y:O},{width:1,height:U}),o.R.copy(D,v,{x:0,y:0},{x:P+V,y:O},{width:1,height:U})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(a){for(let p of a){if(this.callbackDispatchedThisFrame[p])continue;this.callbackDispatchedThisFrame[p]=!0;let m=this.getImage(p);m||o.w(`Image with ID: "${p}" was not found`),Be(m)&&this.updateImage(p,m)}}}let Xe=1e20;function $e(b,a,p,m,v,_,C,P,O){for(let D=a;D<a+m;D++)Qe(b,p*_+D,_,v,C,P,O);for(let D=p;D<p+v;D++)Qe(b,D*_+a,1,m,C,P,O)}function Qe(b,a,p,m,v,_,C){_[0]=0,C[0]=-Xe,C[1]=Xe,v[0]=b[a];for(let P=1,O=0,D=0;P<m;P++){v[P]=b[a+P*p];let V=P*P;do{let U=_[O];D=(v[P]-v[U]+V-U*U)/(P-U)/2}while(D<=C[O]&&--O>-1);O++,_[O]=P,C[O]=D,C[O+1]=Xe}for(let P=0,O=0;P<m;P++){for(;C[O+1]<P;)O++;let D=_[O],V=P-D;b[a+P*p]=v[D]+V*V}}class ot{constructor(a,p){this.requestManager=a,this.localIdeographFontFamily=p,this.entries={}}setURL(a){this.url=a}getGlyphs(a){return o._(this,void 0,void 0,function*(){let p=[];for(let _ in a)for(let C of a[_])p.push(this._getAndCacheGlyphsPromise(_,C));let m=yield Promise.all(p),v={};for(let{stack:_,id:C,glyph:P}of m)v[_]||(v[_]={}),v[_][C]=P&&{id:P.id,bitmap:P.bitmap.clone(),metrics:P.metrics};return v})}_getAndCacheGlyphsPromise(a,p){return o._(this,void 0,void 0,function*(){let m=this.entries[a];m||(m=this.entries[a]={glyphs:{},requests:{},ranges:{}});let v=m.glyphs[p];if(v!==void 0)return{stack:a,id:p,glyph:v};if(v=this._tinySDF(m,a,p),v)return m.glyphs[p]=v,{stack:a,id:p,glyph:v};let _=Math.floor(p/256);if(256*_>65535)throw new Error("glyphs > 65535 not supported");if(m.ranges[_])return{stack:a,id:p,glyph:v};if(!this.url)throw new Error("glyphsUrl is not set");if(!m.requests[_]){let P=ot.loadGlyphRange(a,_,this.url,this.requestManager);m.requests[_]=P}let C=yield m.requests[_];for(let P in C)this._doesCharSupportLocalGlyph(+P)||(m.glyphs[+P]=C[+P]);return m.ranges[_]=!0,{stack:a,id:p,glyph:C[p]||null}})}_doesCharSupportLocalGlyph(a){return!!this.localIdeographFontFamily&&new RegExp("\\p{Ideo}|\\p{sc=Hang}|\\p{sc=Hira}|\\p{sc=Kana}","u").test(String.fromCodePoint(a))}_tinySDF(a,p,m){let v=this.localIdeographFontFamily;if(!v||!this._doesCharSupportLocalGlyph(m))return;let _=a.tinySDF;if(!_){let P="400";/bold/i.test(p)?P="900":/medium/i.test(p)?P="500":/light/i.test(p)&&(P="200"),_=a.tinySDF=new ot.TinySDF({fontSize:48,buffer:6,radius:16,cutoff:.25,fontFamily:v,fontWeight:P})}let C=_.draw(String.fromCharCode(m));return{id:m,bitmap:new o.o({width:C.width||60,height:C.height||60},C.data),metrics:{width:C.glyphWidth/2||24,height:C.glyphHeight/2||24,left:C.glyphLeft/2+.5||0,top:C.glyphTop/2-27.5||-8,advance:C.glyphAdvance/2||24,isDoubleResolution:!0}}}}ot.loadGlyphRange=function(b,a,p,m){return o._(this,void 0,void 0,function*(){let v=256*a,_=v+255,C=m.transformRequest(p.replace("{fontstack}",b).replace("{range}",`${v}-${_}`),"Glyphs"),P=yield o.l(C,new AbortController);if(!P||!P.data)throw new Error(`Could not load glyph range. range: ${a}, ${v}-${_}`);let O={};for(let D of o.n(P.data))O[D.id]=D;return O})},ot.TinySDF=class{constructor({fontSize:b=24,buffer:a=3,radius:p=8,cutoff:m=.25,fontFamily:v="sans-serif",fontWeight:_="normal",fontStyle:C="normal"}={}){this.buffer=a,this.cutoff=m,this.radius=p;let P=this.size=b+4*a,O=this._createCanvas(P),D=this.ctx=O.getContext("2d",{willReadFrequently:!0});D.font=`${C} ${_} ${b}px ${v}`,D.textBaseline="alphabetic",D.textAlign="left",D.fillStyle="black",this.gridOuter=new Float64Array(P*P),this.gridInner=new Float64Array(P*P),this.f=new Float64Array(P),this.z=new Float64Array(P+1),this.v=new Uint16Array(P)}_createCanvas(b){let a=document.createElement("canvas");return a.width=a.height=b,a}draw(b){let{width:a,actualBoundingBoxAscent:p,actualBoundingBoxDescent:m,actualBoundingBoxLeft:v,actualBoundingBoxRight:_}=this.ctx.measureText(b),C=Math.ceil(p),P=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(_-v))),O=Math.min(this.size-this.buffer,C+Math.ceil(m)),D=P+2*this.buffer,V=O+2*this.buffer,U=Math.max(D*V,0),Y=new Uint8ClampedArray(U),ee={data:Y,width:D,height:V,glyphWidth:P,glyphHeight:O,glyphTop:C,glyphLeft:0,glyphAdvance:a};if(P===0||O===0)return ee;let{ctx:oe,buffer:le,gridInner:de,gridOuter:me}=this;oe.clearRect(le,le,P,O),oe.fillText(b,le,le+C);let ge=oe.getImageData(le,le,P,O);me.fill(Xe,0,U),de.fill(0,0,U);for(let ae=0;ae<O;ae++)for(let Ie=0;Ie<P;Ie++){let Ae=ge.data[4*(ae*P+Ie)+3]/255;if(Ae===0)continue;let qe=(ae+le)*D+Ie+le;if(Ae===1)me[qe]=0,de[qe]=Xe;else{let Je=.5-Ae;me[qe]=Je>0?Je*Je:0,de[qe]=Je<0?Je*Je:0}}$e(me,0,0,D,V,D,this.f,this.v,this.z),$e(de,le,le,P,O,D,this.f,this.v,this.z);for(let ae=0;ae<U;ae++){let Ie=Math.sqrt(me[ae])-Math.sqrt(de[ae]);Y[ae]=Math.round(255-255*(Ie/this.radius+this.cutoff))}return ee}};class ze{constructor(){this.specification=o.v.light.position}possiblyEvaluate(a,p){return o.x(a.expression.evaluate(p))}interpolate(a,p,m){return{x:o.y.number(a.x,p.x,m),y:o.y.number(a.y,p.y,m),z:o.y.number(a.z,p.z,m)}}}let ke;class je extends o.E{constructor(a){super(),ke=ke||new o.q({anchor:new o.D(o.v.light.anchor),position:new ze,color:new o.D(o.v.light.color),intensity:new o.D(o.v.light.intensity)}),this._transitionable=new o.T(ke),this.setLight(a),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(a,p={}){if(!this._validate(o.r,a,p))for(let m in a){let v=a[m];m.endsWith("-transition")?this._transitionable.setTransition(m.slice(0,-11),v):this._transitionable.setValue(m,v)}}updateTransitions(a){this._transitioning=this._transitionable.transitioned(a,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(a){this.properties=this._transitioning.possiblyEvaluate(a)}_validate(a,p,m){return(!m||m.validate!==!1)&&o.t(this,a.call(o.u,{value:p,style:{glyphs:!0,sprite:!0},styleSpec:o.v}))}}let lt=new o.q({"sky-color":new o.D(o.v.sky["sky-color"]),"horizon-color":new o.D(o.v.sky["horizon-color"]),"fog-color":new o.D(o.v.sky["fog-color"]),"fog-ground-blend":new o.D(o.v.sky["fog-ground-blend"]),"horizon-fog-blend":new o.D(o.v.sky["horizon-fog-blend"]),"sky-horizon-blend":new o.D(o.v.sky["sky-horizon-blend"]),"atmosphere-blend":new o.D(o.v.sky["atmosphere-blend"])});class ut extends o.E{constructor(a){super(),this._transitionable=new o.T(lt),this.setSky(a),this._transitioning=this._transitionable.untransitioned(),this.recalculate(new o.z(0))}setSky(a,p={}){if(!this._validate(o.B,a,p)){a||(a={"sky-color":"transparent","horizon-color":"transparent","fog-color":"transparent","fog-ground-blend":1,"atmosphere-blend":0});for(let m in a){let v=a[m];m.endsWith("-transition")?this._transitionable.setTransition(m.slice(0,-11),v):this._transitionable.setValue(m,v)}}}getSky(){return this._transitionable.serialize()}updateTransitions(a){this._transitioning=this._transitionable.transitioned(a,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(a){this.properties=this._transitioning.possiblyEvaluate(a)}_validate(a,p,m={}){return(m==null?void 0:m.validate)!==!1&&o.t(this,a.call(o.u,o.e({value:p,style:{glyphs:!0,sprite:!0},styleSpec:o.v})))}calculateFogBlendOpacity(a){return a<60?0:a<70?(a-60)/10:1}}class vt{constructor(a,p){this.width=a,this.height=p,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}}getDash(a,p){let m=a.join(",")+String(p);return this.dashEntry[m]||(this.dashEntry[m]=this.addDash(a,p)),this.dashEntry[m]}getDashRanges(a,p,m){let v=[],_=a.length%2==1?-a[a.length-1]*m:0,C=a[0]*m,P=!0;v.push({left:_,right:C,isDash:P,zeroLength:a[0]===0});let O=a[0];for(let D=1;D<a.length;D++){P=!P;let V=a[D];_=O*m,O+=V,C=O*m,v.push({left:_,right:C,isDash:P,zeroLength:V===0})}return v}addRoundDash(a,p,m){let v=p/2;for(let _=-m;_<=m;_++){let C=this.width*(this.nextRow+m+_),P=0,O=a[P];for(let D=0;D<this.width;D++){D/O.right>1&&(O=a[++P]);let V=Math.abs(D-O.left),U=Math.abs(D-O.right),Y=Math.min(V,U),ee,oe=_/m*(v+1);if(O.isDash){let le=v-Math.abs(oe);ee=Math.sqrt(Y*Y+le*le)}else ee=v-Math.sqrt(Y*Y+oe*oe);this.data[C+D]=Math.max(0,Math.min(255,ee+128))}}}addRegularDash(a){for(let P=a.length-1;P>=0;--P){let O=a[P],D=a[P+1];O.zeroLength?a.splice(P,1):D&&D.isDash===O.isDash&&(D.left=O.left,a.splice(P,1))}let p=a[0],m=a[a.length-1];p.isDash===m.isDash&&(p.left=m.left-this.width,m.right=p.right+this.width);let v=this.width*this.nextRow,_=0,C=a[_];for(let P=0;P<this.width;P++){P/C.right>1&&(C=a[++_]);let O=Math.abs(P-C.left),D=Math.abs(P-C.right),V=Math.min(O,D);this.data[v+P]=Math.max(0,Math.min(255,(C.isDash?V:-V)+128))}}addDash(a,p){let m=p?7:0,v=2*m+1;if(this.nextRow+v>this.height)return o.w("LineAtlas out of space"),null;let _=0;for(let P=0;P<a.length;P++)_+=a[P];if(_!==0){let P=this.width/_,O=this.getDashRanges(a,this.width,P);p?this.addRoundDash(O,P,m):this.addRegularDash(O)}let C={y:(this.nextRow+m+.5)/this.height,height:2*m/this.height,width:_};return this.nextRow+=v,this.dirty=!0,C}bind(a){let p=a.gl;this.texture?(p.bindTexture(p.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,p.texSubImage2D(p.TEXTURE_2D,0,0,0,this.width,this.height,p.ALPHA,p.UNSIGNED_BYTE,this.data))):(this.texture=p.createTexture(),p.bindTexture(p.TEXTURE_2D,this.texture),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_S,p.REPEAT),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_T,p.REPEAT),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,p.LINEAR),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,p.LINEAR),p.texImage2D(p.TEXTURE_2D,0,p.ALPHA,this.width,this.height,0,p.ALPHA,p.UNSIGNED_BYTE,this.data))}}let Fe="maplibre_preloaded_worker_pool";class We{constructor(){this.active={}}acquire(a){if(!this.workers)for(this.workers=[];this.workers.length<We.workerCount;)this.workers.push(new Worker(o.a.WORKER_URL));return this.active[a]=!0,this.workers.slice()}release(a){delete this.active[a],this.numActive()===0&&(this.workers.forEach(p=>{p.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[Fe]}numActive(){return Object.keys(this.active).length}}let it=Math.floor(y.hardwareConcurrency/2),Pe,he;function Re(){return Pe||(Pe=new We),Pe}We.workerCount=o.C(globalThis)?Math.max(Math.min(it,3),1):1;class Te{constructor(a,p){this.workerPool=a,this.actors=[],this.currentActor=0,this.id=p;let m=this.workerPool.acquire(p);for(let v=0;v<m.length;v++){let _=new o.F(m[v],p);_.name=`Worker ${v}`,this.actors.push(_)}if(!this.actors.length)throw new Error("No actors found")}broadcast(a,p){let m=[];for(let v of this.actors)m.push(v.sendAsync({type:a,data:p}));return Promise.all(m)}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(a=!0){this.actors.forEach(p=>{p.remove()}),this.actors=[],a&&this.workerPool.release(this.id)}registerMessageHandler(a,p){for(let m of this.actors)m.registerMessageHandler(a,p)}}function Ke(){return he||(he=new Te(Re(),o.G),he.registerMessageHandler("GR",(b,a,p)=>o.m(a,p))),he}function Ge(b,a){let p=o.H();return o.J(p,p,[1,1,0]),o.K(p,p,[.5*b.width,.5*b.height,1]),o.L(p,p,b.calculatePosMatrix(a.toUnwrapped()))}function wt(b,a,p,m,v,_){let C=function(U,Y,ee){if(U)for(let oe of U){let le=Y[oe];if(le&&le.source===ee&&le.type==="fill-extrusion")return!0}else for(let oe in Y){let le=Y[oe];if(le.source===ee&&le.type==="fill-extrusion")return!0}return!1}(v&&v.layers,a,b.id),P=_.maxPitchScaleFactor(),O=b.tilesIn(m,P,C);O.sort(St);let D=[];for(let U of O)D.push({wrappedTileID:U.tileID.wrapped().key,queryResults:U.tile.queryRenderedFeatures(a,p,b._state,U.queryGeometry,U.cameraQueryGeometry,U.scale,v,_,P,Ge(b.transform,U.tileID))});let V=function(U){let Y={},ee={};for(let oe of U){let le=oe.queryResults,de=oe.wrappedTileID,me=ee[de]=ee[de]||{};for(let ge in le){let ae=le[ge],Ie=me[ge]=me[ge]||{},Ae=Y[ge]=Y[ge]||[];for(let qe of ae)Ie[qe.featureIndex]||(Ie[qe.featureIndex]=!0,Ae.push(qe))}}return Y}(D);for(let U in V)V[U].forEach(Y=>{let ee=Y.feature,oe=b.getFeatureState(ee.layer["source-layer"],ee.id);ee.source=ee.layer.source,ee.layer["source-layer"]&&(ee.sourceLayer=ee.layer["source-layer"]),ee.state=oe});return V}function St(b,a){let p=b.tileID,m=a.tileID;return p.overscaledZ-m.overscaledZ||p.canonical.y-m.canonical.y||p.wrap-m.wrap||p.canonical.x-m.canonical.x}function Ot(b,a,p){return o._(this,void 0,void 0,function*(){let m=b;if(b.url?m=(yield o.h(a.transformRequest(b.url,"Source"),p)).data:yield y.frameAsync(p),!m)return null;let v=o.M(o.e(m,b),["tiles","minzoom","maxzoom","attribution","bounds","scheme","tileSize","encoding"]);return"vector_layers"in m&&m.vector_layers&&(v.vectorLayerIds=m.vector_layers.map(_=>_.id)),v})}class xe{constructor(a,p){a&&(p?this.setSouthWest(a).setNorthEast(p):Array.isArray(a)&&(a.length===4?this.setSouthWest([a[0],a[1]]).setNorthEast([a[2],a[3]]):this.setSouthWest(a[0]).setNorthEast(a[1])))}setNorthEast(a){return this._ne=a instanceof o.N?new o.N(a.lng,a.lat):o.N.convert(a),this}setSouthWest(a){return this._sw=a instanceof o.N?new o.N(a.lng,a.lat):o.N.convert(a),this}extend(a){let p=this._sw,m=this._ne,v,_;if(a instanceof o.N)v=a,_=a;else{if(!(a instanceof xe))return Array.isArray(a)?a.length===4||a.every(Array.isArray)?this.extend(xe.convert(a)):this.extend(o.N.convert(a)):a&&("lng"in a||"lon"in a)&&"lat"in a?this.extend(o.N.convert(a)):this;if(v=a._sw,_=a._ne,!v||!_)return this}return p||m?(p.lng=Math.min(v.lng,p.lng),p.lat=Math.min(v.lat,p.lat),m.lng=Math.max(_.lng,m.lng),m.lat=Math.max(_.lat,m.lat)):(this._sw=new o.N(v.lng,v.lat),this._ne=new o.N(_.lng,_.lat)),this}getCenter(){return new o.N((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new o.N(this.getWest(),this.getNorth())}getSouthEast(){return new o.N(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(a){let{lng:p,lat:m}=o.N.convert(a),v=this._sw.lng<=p&&p<=this._ne.lng;return this._sw.lng>this._ne.lng&&(v=this._sw.lng>=p&&p>=this._ne.lng),this._sw.lat<=m&&m<=this._ne.lat&&v}static convert(a){return a instanceof xe?a:a&&new xe(a)}static fromLngLat(a,p=0){let m=360*p/40075017,v=m/Math.cos(Math.PI/180*a.lat);return new xe(new o.N(a.lng-v,a.lat-m),new o.N(a.lng+v,a.lat+m))}adjustAntiMeridian(){let a=new o.N(this._sw.lng,this._sw.lat),p=new o.N(this._ne.lng,this._ne.lat);return new xe(a,a.lng>p.lng?new o.N(p.lng+360,p.lat):p)}}class pt{constructor(a,p,m){this.bounds=xe.convert(this.validateBounds(a)),this.minzoom=p||0,this.maxzoom=m||24}validateBounds(a){return Array.isArray(a)&&a.length===4?[Math.max(-180,a[0]),Math.max(-90,a[1]),Math.min(180,a[2]),Math.min(90,a[3])]:[-180,-90,180,90]}contains(a){let p=Math.pow(2,a.z),m=Math.floor(o.O(this.bounds.getWest())*p),v=Math.floor(o.Q(this.bounds.getNorth())*p),_=Math.ceil(o.O(this.bounds.getEast())*p),C=Math.ceil(o.Q(this.bounds.getSouth())*p);return a.x>=m&&a.x<_&&a.y>=v&&a.y<C}}class Ut extends o.E{constructor(a,p,m,v){if(super(),this.id=a,this.dispatcher=m,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,o.e(this,o.M(p,["url","scheme","tileSize","promoteId"])),this._options=o.e({type:"vector"},p),this._collectResourceTiming=p.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(v)}load(){return o._(this,void 0,void 0,function*(){this._loaded=!1,this.fire(new o.k("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{let a=yield Ot(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,this.map.style.sourceCaches[this.id].clearTiles(),a&&(o.e(this,a),a.bounds&&(this.tileBounds=new pt(a.bounds,this.minzoom,this.maxzoom)),this.fire(new o.k("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new o.k("data",{dataType:"source",sourceDataType:"content"})))}catch(a){this._tileJSONRequest=null,this.fire(new o.j(a))}})}loaded(){return this._loaded}hasTile(a){return!this.tileBounds||this.tileBounds.contains(a.canonical)}onAdd(a){this.map=a,this.load()}setSourceProperty(a){this._tileJSONRequest&&this._tileJSONRequest.abort(),a(),this.load()}setTiles(a){return this.setSourceProperty(()=>{this._options.tiles=a}),this}setUrl(a){return this.setSourceProperty(()=>{this.url=a,this._options.url=a}),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null)}serialize(){return o.e({},this._options)}loadTile(a){return o._(this,void 0,void 0,function*(){let p=a.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),m={request:this.map._requestManager.transformRequest(p,"Tile"),uid:a.uid,tileID:a.tileID,zoom:a.tileID.overscaledZ,tileSize:this.tileSize*a.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};m.request.collectResourceTiming=this._collectResourceTiming;let v="RT";if(a.actor&&a.state!=="expired"){if(a.state==="loading")return new Promise((_,C)=>{a.reloadPromise={resolve:_,reject:C}})}else a.actor=this.dispatcher.getActor(),v="LT";a.abortController=new AbortController;try{let _=yield a.actor.sendAsync({type:v,data:m},a.abortController);if(delete a.abortController,a.aborted)return;this._afterTileLoadWorkerResponse(a,_)}catch(_){if(delete a.abortController,a.aborted)return;if(_&&_.status!==404)throw _;this._afterTileLoadWorkerResponse(a,null)}})}_afterTileLoadWorkerResponse(a,p){if(p&&p.resourceTiming&&(a.resourceTiming=p.resourceTiming),p&&this.map._refreshExpiredTiles&&a.setExpiryData(p),a.loadVectorData(p,this.map.painter),a.reloadPromise){let m=a.reloadPromise;a.reloadPromise=null,this.loadTile(a).then(m.resolve).catch(m.reject)}}abortTile(a){return o._(this,void 0,void 0,function*(){a.abortController&&(a.abortController.abort(),delete a.abortController),a.actor&&(yield a.actor.sendAsync({type:"AT",data:{uid:a.uid,type:this.type,source:this.id}}))})}unloadTile(a){return o._(this,void 0,void 0,function*(){a.unloadVectorData(),a.actor&&(yield a.actor.sendAsync({type:"RMT",data:{uid:a.uid,type:this.type,source:this.id}}))})}hasTransition(){return!1}}class ht extends o.E{constructor(a,p,m,v){super(),this.id=a,this.dispatcher=m,this.setEventedParent(v),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=o.e({type:"raster"},p),o.e(this,o.M(p,["url","scheme","tileSize"]))}load(){return o._(this,void 0,void 0,function*(){this._loaded=!1,this.fire(new o.k("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{let a=yield Ot(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,a&&(o.e(this,a),a.bounds&&(this.tileBounds=new pt(a.bounds,this.minzoom,this.maxzoom)),this.fire(new o.k("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new o.k("data",{dataType:"source",sourceDataType:"content"})))}catch(a){this._tileJSONRequest=null,this.fire(new o.j(a))}})}loaded(){return this._loaded}onAdd(a){this.map=a,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null)}setSourceProperty(a){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null),a(),this.load()}setTiles(a){return this.setSourceProperty(()=>{this._options.tiles=a}),this}setUrl(a){return this.setSourceProperty(()=>{this.url=a,this._options.url=a}),this}serialize(){return o.e({},this._options)}hasTile(a){return!this.tileBounds||this.tileBounds.contains(a.canonical)}loadTile(a){return o._(this,void 0,void 0,function*(){let p=a.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);a.abortController=new AbortController;try{let m=yield L.getImage(this.map._requestManager.transformRequest(p,"Tile"),a.abortController,this.map._refreshExpiredTiles);if(delete a.abortController,a.aborted)return void(a.state="unloaded");if(m&&m.data){this.map._refreshExpiredTiles&&m.cacheControl&&m.expires&&a.setExpiryData({cacheControl:m.cacheControl,expires:m.expires});let v=this.map.painter.context,_=v.gl,C=m.data;a.texture=this.map.painter.getTileTexture(C.width),a.texture?a.texture.update(C,{useMipmap:!0}):(a.texture=new Se(v,C,_.RGBA,{useMipmap:!0}),a.texture.bind(_.LINEAR,_.CLAMP_TO_EDGE,_.LINEAR_MIPMAP_NEAREST)),a.state="loaded"}}catch(m){if(delete a.abortController,a.aborted)a.state="unloaded";else if(m)throw a.state="errored",m}})}abortTile(a){return o._(this,void 0,void 0,function*(){a.abortController&&(a.abortController.abort(),delete a.abortController)})}unloadTile(a){return o._(this,void 0,void 0,function*(){a.texture&&this.map.painter.saveTileTexture(a.texture)})}hasTransition(){return!1}}class $t extends ht{constructor(a,p,m,v){super(a,p,m,v),this.type="raster-dem",this.maxzoom=22,this._options=o.e({type:"raster-dem"},p),this.encoding=p.encoding||"mapbox",this.redFactor=p.redFactor,this.greenFactor=p.greenFactor,this.blueFactor=p.blueFactor,this.baseShift=p.baseShift}loadTile(a){return o._(this,void 0,void 0,function*(){let p=a.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),m=this.map._requestManager.transformRequest(p,"Tile");a.neighboringTiles=this._getNeighboringTiles(a.tileID),a.abortController=new AbortController;try{let v=yield L.getImage(m,a.abortController,this.map._refreshExpiredTiles);if(delete a.abortController,a.aborted)return void(a.state="unloaded");if(v&&v.data){let _=v.data;this.map._refreshExpiredTiles&&v.cacheControl&&v.expires&&a.setExpiryData({cacheControl:v.cacheControl,expires:v.expires});let C=o.b(_)&&o.U()?_:yield this.readImageNow(_),P={type:this.type,uid:a.uid,source:this.id,rawImageData:C,encoding:this.encoding,redFactor:this.redFactor,greenFactor:this.greenFactor,blueFactor:this.blueFactor,baseShift:this.baseShift};if(!a.actor||a.state==="expired"){a.actor=this.dispatcher.getActor();let O=yield a.actor.sendAsync({type:"LDT",data:P});a.dem=O,a.needsHillshadePrepare=!0,a.needsTerrainPrepare=!0,a.state="loaded"}}}catch(v){if(delete a.abortController,a.aborted)a.state="unloaded";else if(v)throw a.state="errored",v}})}readImageNow(a){return o._(this,void 0,void 0,function*(){if(typeof VideoFrame!="undefined"&&o.V()){let p=a.width+2,m=a.height+2;try{return new o.R({width:p,height:m},(yield o.W(a,-1,-1,p,m)))}catch(v){}}return y.getImageData(a,1)})}_getNeighboringTiles(a){let p=a.canonical,m=Math.pow(2,p.z),v=(p.x-1+m)%m,_=p.x===0?a.wrap-1:a.wrap,C=(p.x+1+m)%m,P=p.x+1===m?a.wrap+1:a.wrap,O={};return O[new o.S(a.overscaledZ,_,p.z,v,p.y).key]={backfilled:!1},O[new o.S(a.overscaledZ,P,p.z,C,p.y).key]={backfilled:!1},p.y>0&&(O[new o.S(a.overscaledZ,_,p.z,v,p.y-1).key]={backfilled:!1},O[new o.S(a.overscaledZ,a.wrap,p.z,p.x,p.y-1).key]={backfilled:!1},O[new o.S(a.overscaledZ,P,p.z,C,p.y-1).key]={backfilled:!1}),p.y+1<m&&(O[new o.S(a.overscaledZ,_,p.z,v,p.y+1).key]={backfilled:!1},O[new o.S(a.overscaledZ,a.wrap,p.z,p.x,p.y+1).key]={backfilled:!1},O[new o.S(a.overscaledZ,P,p.z,C,p.y+1).key]={backfilled:!1}),O}unloadTile(a){return o._(this,void 0,void 0,function*(){a.demTexture&&this.map.painter.saveTileTexture(a.demTexture),a.fbo&&(a.fbo.destroy(),delete a.fbo),a.dem&&delete a.dem,delete a.neighboringTiles,a.state="unloaded",a.actor&&(yield a.actor.sendAsync({type:"RDT",data:{type:this.type,uid:a.uid,source:this.id}}))})}}class lr extends o.E{constructor(a,p,m,v){super(),this.id=a,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._pendingLoads=0,this.actor=m.getActor(),this.setEventedParent(v),this._data=p.data,this._options=o.e({},p),this._collectResourceTiming=p.collectResourceTiming,p.maxzoom!==void 0&&(this.maxzoom=p.maxzoom),p.type&&(this.type=p.type),p.attribution&&(this.attribution=p.attribution),this.promoteId=p.promoteId;let _=o.X/this.tileSize;p.clusterMaxZoom!==void 0&&this.maxzoom<=p.clusterMaxZoom&&o.w(`The maxzoom value "${this.maxzoom}" is expected to be greater than the clusterMaxZoom value "${p.clusterMaxZoom}".`),this.workerOptions=o.e({source:this.id,cluster:p.cluster||!1,geojsonVtOptions:{buffer:(p.buffer!==void 0?p.buffer:128)*_,tolerance:(p.tolerance!==void 0?p.tolerance:.375)*_,extent:o.X,maxZoom:this.maxzoom,lineMetrics:p.lineMetrics||!1,generateId:p.generateId||!1},superclusterOptions:{maxZoom:p.clusterMaxZoom!==void 0?p.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,p.clusterMinPoints||2),extent:o.X,radius:(p.clusterRadius||50)*_,log:!1,generateId:p.generateId||!1},clusterProperties:p.clusterProperties,filter:p.filter},p.workerOptions),typeof this.promoteId=="string"&&(this.workerOptions.promoteId=this.promoteId)}load(){return o._(this,void 0,void 0,function*(){yield this._updateWorkerData()})}onAdd(a){this.map=a,this.load()}setData(a){return this._data=a,this._updateWorkerData(),this}updateData(a){return this._updateWorkerData(a),this}getData(){return o._(this,void 0,void 0,function*(){let a=o.e({type:this.type},this.workerOptions);return this.actor.sendAsync({type:"GD",data:a})})}setClusterOptions(a){return this.workerOptions.cluster=a.cluster,a&&(a.clusterRadius!==void 0&&(this.workerOptions.superclusterOptions.radius=a.clusterRadius),a.clusterMaxZoom!==void 0&&(this.workerOptions.superclusterOptions.maxZoom=a.clusterMaxZoom)),this._updateWorkerData(),this}getClusterExpansionZoom(a){return this.actor.sendAsync({type:"GCEZ",data:{type:this.type,clusterId:a,source:this.id}})}getClusterChildren(a){return this.actor.sendAsync({type:"GCC",data:{type:this.type,clusterId:a,source:this.id}})}getClusterLeaves(a,p,m){return this.actor.sendAsync({type:"GCL",data:{type:this.type,source:this.id,clusterId:a,limit:p,offset:m}})}_updateWorkerData(a){return o._(this,void 0,void 0,function*(){let p=o.e({type:this.type},this.workerOptions);a?p.dataDiff=a:typeof this._data=="string"?(p.request=this.map._requestManager.transformRequest(y.resolveURL(this._data),"Source"),p.request.collectResourceTiming=this._collectResourceTiming):p.data=JSON.stringify(this._data),this._pendingLoads++,this.fire(new o.k("dataloading",{dataType:"source"}));try{let m=yield this.actor.sendAsync({type:"LD",data:p});if(this._pendingLoads--,this._removed||m.abandoned)return void this.fire(new o.k("dataabort",{dataType:"source"}));let v=null;m.resourceTiming&&m.resourceTiming[this.id]&&(v=m.resourceTiming[this.id].slice(0));let _={dataType:"source"};this._collectResourceTiming&&v&&v.length>0&&o.e(_,{resourceTiming:v}),this.fire(new o.k("data",Object.assign(Object.assign({},_),{sourceDataType:"metadata"}))),this.fire(new o.k("data",Object.assign(Object.assign({},_),{sourceDataType:"content"})))}catch(m){if(this._pendingLoads--,this._removed)return void this.fire(new o.k("dataabort",{dataType:"source"}));this.fire(new o.j(m))}})}loaded(){return this._pendingLoads===0}loadTile(a){return o._(this,void 0,void 0,function*(){let p=a.actor?"RT":"LT";a.actor=this.actor;let m={type:this.type,uid:a.uid,tileID:a.tileID,zoom:a.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};a.abortController=new AbortController;let v=yield this.actor.sendAsync({type:p,data:m},a.abortController);delete a.abortController,a.unloadVectorData(),a.aborted||a.loadVectorData(v,this.map.painter,p==="RT")})}abortTile(a){return o._(this,void 0,void 0,function*(){a.abortController&&(a.abortController.abort(),delete a.abortController),a.aborted=!0})}unloadTile(a){return o._(this,void 0,void 0,function*(){a.unloadVectorData(),yield this.actor.sendAsync({type:"RMT",data:{uid:a.uid,type:this.type,source:this.id}})})}onRemove(){this._removed=!0,this.actor.sendAsync({type:"RS",data:{type:this.type,source:this.id}})}serialize(){return o.e({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}}var Bt=o.Y([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class ur extends o.E{constructor(a,p,m,v){super(),this.id=a,this.dispatcher=m,this.coordinates=p.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(v),this.options=p}load(a){return o._(this,void 0,void 0,function*(){this._loaded=!1,this.fire(new o.k("dataloading",{dataType:"source"})),this.url=this.options.url,this._request=new AbortController;try{let p=yield L.getImage(this.map._requestManager.transformRequest(this.url,"Image"),this._request);this._request=null,this._loaded=!0,p&&p.data&&(this.image=p.data,a&&(this.coordinates=a),this._finishLoading())}catch(p){this._request=null,this._loaded=!0,this.fire(new o.j(p))}})}loaded(){return this._loaded}updateImage(a){return a.url?(this._request&&(this._request.abort(),this._request=null),this.options.url=a.url,this.load(a.coordinates).finally(()=>{this.texture=null}),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new o.k("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(a){this.map=a,this.load()}onRemove(){this._request&&(this._request.abort(),this._request=null)}setCoordinates(a){this.coordinates=a;let p=a.map(o.Z.fromLngLat);this.tileID=function(v){let _=1/0,C=1/0,P=-1/0,O=-1/0;for(let Y of v)_=Math.min(_,Y.x),C=Math.min(C,Y.y),P=Math.max(P,Y.x),O=Math.max(O,Y.y);let D=Math.max(P-_,O-C),V=Math.max(0,Math.floor(-Math.log(D)/Math.LN2)),U=Math.pow(2,V);return new o.a1(V,Math.floor((_+P)/2*U),Math.floor((C+O)/2*U))}(p),this.minzoom=this.maxzoom=this.tileID.z;let m=p.map(v=>this.tileID.getTilePoint(v)._round());return this._boundsArray=new o.$,this._boundsArray.emplaceBack(m[0].x,m[0].y,0,0),this._boundsArray.emplaceBack(m[1].x,m[1].y,o.X,0),this._boundsArray.emplaceBack(m[3].x,m[3].y,0,o.X),this._boundsArray.emplaceBack(m[2].x,m[2].y,o.X,o.X),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new o.k("data",{dataType:"source",sourceDataType:"content"})),this}prepare(){if(Object.keys(this.tiles).length===0||!this.image)return;let a=this.map.painter.context,p=a.gl;this.boundsBuffer||(this.boundsBuffer=a.createVertexBuffer(this._boundsArray,Bt.members)),this.boundsSegments||(this.boundsSegments=o.a0.simpleSegment(0,0,4,2)),this.texture||(this.texture=new Se(a,this.image,p.RGBA),this.texture.bind(p.LINEAR,p.CLAMP_TO_EDGE));let m=!1;for(let v in this.tiles){let _=this.tiles[v];_.state!=="loaded"&&(_.state="loaded",_.texture=this.texture,m=!0)}m&&this.fire(new o.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}loadTile(a){return o._(this,void 0,void 0,function*(){this.tileID&&this.tileID.equals(a.tileID.canonical)?(this.tiles[String(a.tileID.wrap)]=a,a.buckets={}):a.state="errored"})}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}}class Fr extends ur{constructor(a,p,m,v){super(a,p,m,v),this.roundZoom=!0,this.type="video",this.options=p}load(){return o._(this,void 0,void 0,function*(){this._loaded=!1;let a=this.options;this.urls=[];for(let p of a.urls)this.urls.push(this.map._requestManager.transformRequest(p,"Source").url);try{let p=yield o.a3(this.urls);if(this._loaded=!0,!p)return;this.video=p,this.video.loop=!0,this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading()}catch(p){this.fire(new o.j(p))}})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(a){if(this.video){let p=this.video.seekable;a<p.start(0)||a>p.end(0)?this.fire(new o.j(new o.a2(`sources.${this.id}`,null,`Playback for this video can be set only between the ${p.start(0)} and ${p.end(0)}-second mark.`))):this.video.currentTime=a}}getVideo(){return this.video}onAdd(a){this.map||(this.map=a,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;let a=this.map.painter.context,p=a.gl;this.boundsBuffer||(this.boundsBuffer=a.createVertexBuffer(this._boundsArray,Bt.members)),this.boundsSegments||(this.boundsSegments=o.a0.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(p.LINEAR,p.CLAMP_TO_EDGE),p.texSubImage2D(p.TEXTURE_2D,0,0,0,p.RGBA,p.UNSIGNED_BYTE,this.video)):(this.texture=new Se(a,this.video,p.RGBA),this.texture.bind(p.LINEAR,p.CLAMP_TO_EDGE));let m=!1;for(let v in this.tiles){let _=this.tiles[v];_.state!=="loaded"&&(_.state="loaded",_.texture=this.texture,m=!0)}m&&this.fire(new o.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}}class Dr extends ur{constructor(a,p,m,v){super(a,p,m,v),p.coordinates?Array.isArray(p.coordinates)&&p.coordinates.length===4&&!p.coordinates.some(_=>!Array.isArray(_)||_.length!==2||_.some(C=>typeof C!="number"))||this.fire(new o.j(new o.a2(`sources.${a}`,null,"\"coordinates\" property must be an array of 4 longitude/latitude array pairs"))):this.fire(new o.j(new o.a2(`sources.${a}`,null,"missing required property \"coordinates\""))),p.animate&&typeof p.animate!="boolean"&&this.fire(new o.j(new o.a2(`sources.${a}`,null,"optional \"animate\" property must be a boolean value"))),p.canvas?typeof p.canvas=="string"||p.canvas instanceof HTMLCanvasElement||this.fire(new o.j(new o.a2(`sources.${a}`,null,"\"canvas\" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance"))):this.fire(new o.j(new o.a2(`sources.${a}`,null,"missing required property \"canvas\""))),this.options=p,this.animate=p.animate===void 0||p.animate}load(){return o._(this,void 0,void 0,function*(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new o.j(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())})}getCanvas(){return this.canvas}onAdd(a){this.map=a,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let a=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,a=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,a=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;let p=this.map.painter.context,m=p.gl;this.boundsBuffer||(this.boundsBuffer=p.createVertexBuffer(this._boundsArray,Bt.members)),this.boundsSegments||(this.boundsSegments=o.a0.simpleSegment(0,0,4,2)),this.texture?(a||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new Se(p,this.canvas,m.RGBA,{premultiply:!0});let v=!1;for(let _ in this.tiles){let C=this.tiles[_];C.state!=="loaded"&&(C.state="loaded",C.texture=this.texture,v=!0)}v&&this.fire(new o.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(let a of[this.canvas.width,this.canvas.height])if(isNaN(a)||a<=0)return!0;return!1}}let or={},Kr=b=>{switch(b){case"geojson":return lr;case"image":return ur;case"raster":return ht;case"raster-dem":return $t;case"vector":return Ut;case"video":return Fr;case"canvas":return Dr;}return or[b]},nt="RTLPluginLoaded";class ei extends o.E{constructor(){super(...arguments),this.status="unavailable",this.url=null,this.dispatcher=Ke()}_syncState(a){return this.status=a,this.dispatcher.broadcast("SRPS",{pluginStatus:a,pluginURL:this.url}).catch(p=>{throw this.status="error",p})}getRTLTextPluginStatus(){return this.status}clearRTLTextPlugin(){this.status="unavailable",this.url=null}setRTLTextPlugin(a){return o._(this,arguments,void 0,function*(p,m=!1){if(this.url)throw new Error("setRTLTextPlugin cannot be called multiple times.");if(this.url=y.resolveURL(p),!this.url)throw new Error(`requested url ${p} is invalid`);if(this.status==="unavailable"){if(!m)return this._requestImport();this.status="deferred",this._syncState(this.status)}else if(this.status==="requested")return this._requestImport()})}_requestImport(){return o._(this,void 0,void 0,function*(){yield this._syncState("loading"),this.status="loaded",this.fire(new o.k(nt))})}lazyLoad(){this.status==="unavailable"?this.status="requested":this.status==="deferred"&&this._requestImport()}}let pn=null;function $a(){return pn||(pn=new ei),pn}class Qs{constructor(a,p){this.timeAdded=0,this.fadeEndTime=0,this.tileID=a,this.uid=o.a4(),this.uses=0,this.tileSize=p,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.rtt=[],this.rttCoords={},this.expiredRequestCount=0,this.state="loading"}registerFadeDuration(a){let p=a+this.timeAdded;p<this.fadeEndTime||(this.fadeEndTime=p)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}clearTextures(a){this.demTexture&&a.saveTileTexture(this.demTexture),this.demTexture=null}loadVectorData(a,p,m){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",a){a.featureIndex&&(this.latestFeatureIndex=a.featureIndex,a.rawTileData?(this.latestRawTileData=a.rawTileData,this.latestFeatureIndex.rawTileData=a.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=a.collisionBoxArray,this.buckets=function(v,_){let C={};if(!_)return C;for(let P of v){let O=P.layerIds.map(D=>_.getLayer(D)).filter(Boolean);if(O.length!==0){P.layers=O,P.stateDependentLayerIds&&(P.stateDependentLayers=P.stateDependentLayerIds.map(D=>O.filter(V=>V.id===D)[0]));for(let D of O)C[D.id]=P}}return C}(a.buckets,p.style),this.hasSymbolBuckets=!1;for(let v in this.buckets){let _=this.buckets[v];if(_ instanceof o.a6){if(this.hasSymbolBuckets=!0,!m)break;_.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(let v in this.buckets){let _=this.buckets[v];if(_ instanceof o.a6&&_.hasRTLText){this.hasRTLText=!0,$a().lazyLoad();break}}this.queryPadding=0;for(let v in this.buckets){let _=this.buckets[v];this.queryPadding=Math.max(this.queryPadding,p.style.getLayer(v).queryRadius(_))}a.imageAtlas&&(this.imageAtlas=a.imageAtlas),a.glyphAtlasImage&&(this.glyphAtlasImage=a.glyphAtlasImage)}else this.collisionBoxArray=new o.a5}unloadVectorData(){for(let a in this.buckets)this.buckets[a].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(a){return this.buckets[a.id]}upload(a){for(let m in this.buckets){let v=this.buckets[m];v.uploadPending()&&v.upload(a)}let p=a.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Se(a,this.imageAtlas.image,p.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Se(a,this.glyphAtlasImage,p.ALPHA),this.glyphAtlasImage=null)}prepare(a){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(a,this.imageAtlasTexture)}queryRenderedFeatures(a,p,m,v,_,C,P,O,D,V){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:v,cameraQueryGeometry:_,scale:C,tileSize:this.tileSize,pixelPosMatrix:V,transform:O,params:P,queryPadding:this.queryPadding*D},a,p,m):{}}querySourceFeatures(a,p){let m=this.latestFeatureIndex;if(!m||!m.rawTileData)return;let v=m.loadVTLayers(),_=p&&p.sourceLayer?p.sourceLayer:"",C=v._geojsonTileLayer||v[_];if(!C)return;let P=o.a7(p&&p.filter),{z:O,x:D,y:V}=this.tileID.canonical,U={z:O,x:D,y:V};for(let Y=0;Y<C.length;Y++){let ee=C.feature(Y);if(P.needGeometry){let de=o.a8(ee,!0);if(!P.filter(new o.z(this.tileID.overscaledZ),de,this.tileID.canonical))continue}else if(!P.filter(new o.z(this.tileID.overscaledZ),ee))continue;let oe=m.getId(ee,_),le=new o.a9(ee,O,D,V,oe);le.tile=U,a.push(le)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(a){let p=this.expirationTime;if(a.cacheControl){let m=o.aa(a.cacheControl);m["max-age"]&&(this.expirationTime=Date.now()+1e3*m["max-age"])}else a.expires&&(this.expirationTime=new Date(a.expires).getTime());if(this.expirationTime){let m=Date.now(),v=!1;if(this.expirationTime>m)v=!1;else if(p){if(this.expirationTime<p)v=!0;else{let _=this.expirationTime-p;_?this.expirationTime=m+Math.max(_,3e4):v=!0}}else v=!0;v?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(a,p){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(a).length===0)return;let m=this.latestFeatureIndex.loadVTLayers();for(let v in this.buckets){if(!p.style.hasLayer(v))continue;let _=this.buckets[v],C=_.layers[0].sourceLayer||"_geojsonTileLayer",P=m[C],O=a[C];if(!P||!O||Object.keys(O).length===0)continue;_.update(O,P,this.imageAtlas&&this.imageAtlas.patternPositions||{});let D=p&&p.style&&p.style.getLayer(v);D&&(this.queryPadding=Math.max(this.queryPadding,D.queryRadius(_)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<y.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(a){this.symbolFadeHoldUntil=y.now()+a}setDependencies(a,p){let m={};for(let v of p)m[v]=!0;this.dependencies[a]=m}hasDependency(a,p){for(let m of a){let v=this.dependencies[m];if(v){for(let _ of p)if(v[_])return!0}}return!1}}class bt{constructor(a,p){this.max=a,this.onRemove=p,this.reset()}reset(){for(let a in this.data)for(let p of this.data[a])p.timeout&&clearTimeout(p.timeout),this.onRemove(p.value);return this.data={},this.order=[],this}add(a,p,m){let v=a.wrapped().key;this.data[v]===void 0&&(this.data[v]=[]);let _={value:p,timeout:void 0};if(m!==void 0&&(_.timeout=setTimeout(()=>{this.remove(a,_)},m)),this.data[v].push(_),this.order.push(v),this.order.length>this.max){let C=this._getAndRemoveByKey(this.order[0]);C&&this.onRemove(C)}return this}has(a){return a.wrapped().key in this.data}getAndRemove(a){return this.has(a)?this._getAndRemoveByKey(a.wrapped().key):null}_getAndRemoveByKey(a){let p=this.data[a].shift();return p.timeout&&clearTimeout(p.timeout),this.data[a].length===0&&delete this.data[a],this.order.splice(this.order.indexOf(a),1),p.value}getByKey(a){let p=this.data[a];return p?p[0].value:null}get(a){return this.has(a)?this.data[a.wrapped().key][0].value:null}remove(a,p){if(!this.has(a))return this;let m=a.wrapped().key,v=p===void 0?0:this.data[m].indexOf(p),_=this.data[m][v];return this.data[m].splice(v,1),_.timeout&&clearTimeout(_.timeout),this.data[m].length===0&&delete this.data[m],this.onRemove(_.value),this.order.splice(this.order.indexOf(m),1),this}setMaxSize(a){for(this.max=a;this.order.length>this.max;){let p=this._getAndRemoveByKey(this.order[0]);p&&this.onRemove(p)}return this}filter(a){let p=[];for(let m in this.data)for(let v of this.data[m])a(v.value)||p.push(v);for(let m of p)this.remove(m.value.tileID,m)}}class wr{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(a,p,m){let v=String(p);if(this.stateChanges[a]=this.stateChanges[a]||{},this.stateChanges[a][v]=this.stateChanges[a][v]||{},o.e(this.stateChanges[a][v],m),this.deletedStates[a]===null){this.deletedStates[a]={};for(let _ in this.state[a])_!==v&&(this.deletedStates[a][_]=null)}else if(this.deletedStates[a]&&this.deletedStates[a][v]===null){this.deletedStates[a][v]={};for(let _ in this.state[a][v])m[_]||(this.deletedStates[a][v][_]=null)}else for(let _ in m)this.deletedStates[a]&&this.deletedStates[a][v]&&this.deletedStates[a][v][_]===null&&delete this.deletedStates[a][v][_]}removeFeatureState(a,p,m){if(this.deletedStates[a]===null)return;let v=String(p);if(this.deletedStates[a]=this.deletedStates[a]||{},m&&p!==void 0)this.deletedStates[a][v]!==null&&(this.deletedStates[a][v]=this.deletedStates[a][v]||{},this.deletedStates[a][v][m]=null);else if(p!==void 0){if(this.stateChanges[a]&&this.stateChanges[a][v])for(m in this.deletedStates[a][v]={},this.stateChanges[a][v])this.deletedStates[a][v][m]=null;else this.deletedStates[a][v]=null;}else this.deletedStates[a]=null}getState(a,p){let m=String(p),v=o.e({},(this.state[a]||{})[m],(this.stateChanges[a]||{})[m]);if(this.deletedStates[a]===null)return{};if(this.deletedStates[a]){let _=this.deletedStates[a][p];if(_===null)return{};for(let C in _)delete v[C]}return v}initializeTileState(a,p){a.setFeatureState(this.state,p)}coalesceChanges(a,p){let m={};for(let v in this.stateChanges){this.state[v]=this.state[v]||{};let _={};for(let C in this.stateChanges[v])this.state[v][C]||(this.state[v][C]={}),o.e(this.state[v][C],this.stateChanges[v][C]),_[C]=this.state[v][C];m[v]=_}for(let v in this.deletedStates){this.state[v]=this.state[v]||{};let _={};if(this.deletedStates[v]===null)for(let C in this.state[v])_[C]={},this.state[v][C]={};else for(let C in this.deletedStates[v]){if(this.deletedStates[v][C]===null)this.state[v][C]={};else for(let P of Object.keys(this.deletedStates[v][C]))delete this.state[v][C][P];_[C]=this.state[v][C]}m[v]=m[v]||{},o.e(m[v],_)}if(this.stateChanges={},this.deletedStates={},Object.keys(m).length!==0)for(let v in a)a[v].setFeatureState(m,p)}}class sr extends o.E{constructor(a,p,m){super(),this.id=a,this.dispatcher=m,this.on("data",v=>this._dataHandler(v)),this.on("dataloading",()=>{this._sourceErrored=!1}),this.on("error",()=>{this._sourceErrored=this._source.loaded()}),this._source=((v,_,C,P)=>{let O=new(Kr(_.type))(v,_,C,P);if(O.id!==v)throw new Error(`Expected Source id to be ${v} instead of ${O.id}`);return O})(a,p,m,this),this._tiles={},this._cache=new bt(0,v=>this._unloadTile(v)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._maxTileCacheZoomLevels=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new wr,this._didEmitContent=!1,this._updated=!1}onAdd(a){this.map=a,this._maxTileCacheSize=a?a._maxTileCacheSize:null,this._maxTileCacheZoomLevels=a?a._maxTileCacheZoomLevels:null,this._source&&this._source.onAdd&&this._source.onAdd(a)}onRemove(a){this.clearTiles(),this._source&&this._source.onRemove&&this._source.onRemove(a)}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;if(!(this.used===void 0&&this.usedForTerrain===void 0||this.used||this.usedForTerrain))return!0;if(!this._updated)return!1;for(let a in this._tiles){let p=this._tiles[a];if(p.state!=="loaded"&&p.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;let a=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,a&&this.reload(),this.transform&&this.update(this.transform,this.terrain)}_loadTile(a,p,m){return o._(this,void 0,void 0,function*(){try{yield this._source.loadTile(a),this._tileLoaded(a,p,m)}catch(v){a.state="errored",v.status!==404?this._source.fire(new o.j(v,{tile:a})):this.update(this.transform,this.terrain)}})}_unloadTile(a){this._source.unloadTile&&this._source.unloadTile(a)}_abortTile(a){this._source.abortTile&&this._source.abortTile(a),this._source.fire(new o.k("dataabort",{tile:a,coord:a.tileID,dataType:"source"}))}serialize(){return this._source.serialize()}prepare(a){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(let p in this._tiles){let m=this._tiles[p];m.upload(a),m.prepare(this.map.style.imageManager)}}getIds(){return Object.values(this._tiles).map(a=>a.tileID).sort(no).map(a=>a.key)}getRenderableIds(a){let p=[];for(let m in this._tiles)this._isIdRenderable(m,a)&&p.push(this._tiles[m]);return a?p.sort((m,v)=>{let _=m.tileID,C=v.tileID,P=new o.P(_.canonical.x,_.canonical.y)._rotate(this.transform.angle),O=new o.P(C.canonical.x,C.canonical.y)._rotate(this.transform.angle);return _.overscaledZ-C.overscaledZ||O.y-P.y||O.x-P.x}).map(m=>m.tileID.key):p.map(m=>m.tileID).sort(no).map(m=>m.key)}hasRenderableParent(a){let p=this.findLoadedParent(a,0);return!!p&&this._isIdRenderable(p.tileID.key)}_isIdRenderable(a,p){return this._tiles[a]&&this._tiles[a].hasData()&&!this._coveredTiles[a]&&(p||!this._tiles[a].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(let a in this._tiles)this._tiles[a].state!=="errored"&&this._reloadTile(a,"reloading")}}_reloadTile(a,p){return o._(this,void 0,void 0,function*(){let m=this._tiles[a];m&&(m.state!=="loading"&&(m.state=p),yield this._loadTile(m,a,p))})}_tileLoaded(a,p,m){a.timeAdded=y.now(),m==="expired"&&(a.refreshedUponExpiration=!0),this._setTileReloadTimer(p,a),this.getSource().type==="raster-dem"&&a.dem&&this._backfillDEM(a),this._state.initializeTileState(a,this.map?this.map.painter:null),a.aborted||this._source.fire(new o.k("data",{dataType:"source",tile:a,coord:a.tileID}))}_backfillDEM(a){let p=this.getRenderableIds();for(let v=0;v<p.length;v++){let _=p[v];if(a.neighboringTiles&&a.neighboringTiles[_]){let C=this.getTileByID(_);m(a,C),m(C,a)}}function m(v,_){v.needsHillshadePrepare=!0,v.needsTerrainPrepare=!0;let C=_.tileID.canonical.x-v.tileID.canonical.x,P=_.tileID.canonical.y-v.tileID.canonical.y,O=Math.pow(2,v.tileID.canonical.z),D=_.tileID.key;C===0&&P===0||Math.abs(P)>1||(Math.abs(C)>1&&(Math.abs(C+O)===1?C+=O:Math.abs(C-O)===1&&(C-=O)),_.dem&&v.dem&&(v.dem.backfillBorder(_.dem,C,P),v.neighboringTiles&&v.neighboringTiles[D]&&(v.neighboringTiles[D].backfilled=!0)))}}getTile(a){return this.getTileByID(a.key)}getTileByID(a){return this._tiles[a]}_retainLoadedChildren(a,p,m,v){for(let _ in this._tiles){let C=this._tiles[_];if(v[_]||!C.hasData()||C.tileID.overscaledZ<=p||C.tileID.overscaledZ>m)continue;let P=C.tileID;for(;C&&C.tileID.overscaledZ>p+1;){let D=C.tileID.scaledTo(C.tileID.overscaledZ-1);C=this._tiles[D.key],C&&C.hasData()&&(P=D)}let O=P;for(;O.overscaledZ>p;)if(O=O.scaledTo(O.overscaledZ-1),a[O.key]){v[P.key]=P;break}}}findLoadedParent(a,p){if(a.key in this._loadedParentTiles){let m=this._loadedParentTiles[a.key];return m&&m.tileID.overscaledZ>=p?m:null}for(let m=a.overscaledZ-1;m>=p;m--){let v=a.scaledTo(m),_=this._getLoadedTile(v);if(_)return _}}findLoadedSibling(a){return this._getLoadedTile(a)}_getLoadedTile(a){let p=this._tiles[a.key];return p&&p.hasData()?p:this._cache.getByKey(a.wrapped().key)}updateCacheSize(a){let p=Math.ceil(a.width/this._source.tileSize)+1,m=Math.ceil(a.height/this._source.tileSize)+1,v=Math.floor(p*m*(this._maxTileCacheZoomLevels===null?o.a.MAX_TILE_CACHE_ZOOM_LEVELS:this._maxTileCacheZoomLevels)),_=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,v):v;this._cache.setMaxSize(_)}handleWrapJump(a){let p=Math.round((a-(this._prevLng===void 0?a:this._prevLng))/360);if(this._prevLng=a,p){let m={};for(let v in this._tiles){let _=this._tiles[v];_.tileID=_.tileID.unwrapTo(_.tileID.wrap+p),m[_.tileID.key]=_}this._tiles=m;for(let v in this._timers)clearTimeout(this._timers[v]),delete this._timers[v];for(let v in this._tiles)this._setTileReloadTimer(v,this._tiles[v])}}_updateCoveredAndRetainedTiles(a,p,m,v,_,C){let P={},O={},D=Object.keys(a),V=y.now();for(let U of D){let Y=a[U],ee=this._tiles[U];if(!ee||ee.fadeEndTime!==0&&ee.fadeEndTime<=V)continue;let oe=this.findLoadedParent(Y,p),le=this.findLoadedSibling(Y),de=oe||le||null;de&&(this._addTile(de.tileID),P[de.tileID.key]=de.tileID),O[U]=Y}this._retainLoadedChildren(O,v,m,a);for(let U in P)a[U]||(this._coveredTiles[U]=!0,a[U]=P[U]);if(C){let U={},Y={};for(let ee of _)this._tiles[ee.key].hasData()?U[ee.key]=ee:Y[ee.key]=ee;for(let ee in Y){let oe=Y[ee].children(this._source.maxzoom);this._tiles[oe[0].key]&&this._tiles[oe[1].key]&&this._tiles[oe[2].key]&&this._tiles[oe[3].key]&&(U[oe[0].key]=a[oe[0].key]=oe[0],U[oe[1].key]=a[oe[1].key]=oe[1],U[oe[2].key]=a[oe[2].key]=oe[2],U[oe[3].key]=a[oe[3].key]=oe[3],delete Y[ee])}for(let ee in Y){let oe=Y[ee],le=this.findLoadedParent(oe,this._source.minzoom),de=this.findLoadedSibling(oe),me=le||de||null;if(me){U[me.tileID.key]=a[me.tileID.key]=me.tileID;for(let ge in U)U[ge].isChildOf(me.tileID)&&delete U[ge]}}for(let ee in this._tiles)U[ee]||(this._coveredTiles[ee]=!0)}}update(a,p){if(!this._sourceLoaded||this._paused)return;let m;this.transform=a,this.terrain=p,this.updateCacheSize(a),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?m=a.getVisibleUnwrappedCoordinates(this._source.tileID).map(V=>new o.S(V.canonical.z,V.wrap,V.canonical.z,V.canonical.x,V.canonical.y)):(m=a.coveringTiles({tileSize:this.usedForTerrain?this.tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:!this.usedForTerrain&&this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled,terrain:p}),this._source.hasTile&&(m=m.filter(V=>this._source.hasTile(V)))):m=[];let v=a.coveringZoomLevel(this._source),_=Math.max(v-sr.maxOverzooming,this._source.minzoom),C=Math.max(v+sr.maxUnderzooming,this._source.minzoom);if(this.usedForTerrain){let V={};for(let U of m)if(U.canonical.z>this._source.minzoom){let Y=U.scaledTo(U.canonical.z-1);V[Y.key]=Y;let ee=U.scaledTo(Math.max(this._source.minzoom,Math.min(U.canonical.z,5)));V[ee.key]=ee}m=m.concat(Object.values(V))}let P=m.length===0&&!this._updated&&this._didEmitContent;this._updated=!0,P&&this.fire(new o.k("data",{sourceDataType:"idle",dataType:"source",sourceId:this.id}));let O=this._updateRetainedTiles(m,v);wa(this._source.type)&&this._updateCoveredAndRetainedTiles(O,_,C,v,m,p);for(let V in O)this._tiles[V].clearFadeHold();let D=o.ab(this._tiles,O);for(let V of D){let U=this._tiles[V];U.hasSymbolBuckets&&!U.holdingForFade()?U.setHoldDuration(this.map._fadeDuration):U.hasSymbolBuckets&&!U.symbolFadeFinished()||this._removeTile(V)}this._updateLoadedParentTileCache(),this._updateLoadedSiblingTileCache()}releaseSymbolFadeTiles(){for(let a in this._tiles)this._tiles[a].holdingForFade()&&this._removeTile(a)}_updateRetainedTiles(a,p){var m;let v={},_={},C=Math.max(p-sr.maxOverzooming,this._source.minzoom),P=Math.max(p+sr.maxUnderzooming,this._source.minzoom),O={};for(let D of a){let V=this._addTile(D);v[D.key]=D,V.hasData()||p<this._source.maxzoom&&(O[D.key]=D)}this._retainLoadedChildren(O,p,P,v);for(let D of a){let V=this._tiles[D.key];if(V.hasData())continue;if(p+1>this._source.maxzoom){let Y=D.children(this._source.maxzoom)[0],ee=this.getTile(Y);if(ee&&ee.hasData()){v[Y.key]=Y;continue}}else{let Y=D.children(this._source.maxzoom);if(v[Y[0].key]&&v[Y[1].key]&&v[Y[2].key]&&v[Y[3].key])continue}let U=V.wasRequested();for(let Y=D.overscaledZ-1;Y>=C;--Y){let ee=D.scaledTo(Y);if(_[ee.key])break;if(_[ee.key]=!0,V=this.getTile(ee),!V&&U&&(V=this._addTile(ee)),V){let oe=V.hasData();if((oe||!(!((m=this.map)===null||m===void 0)&&m.cancelPendingTileRequestsWhileZooming)||U)&&(v[ee.key]=ee),U=V.wasRequested(),oe)break}}}return v}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(let a in this._tiles){let p=[],m,v=this._tiles[a].tileID;for(;v.overscaledZ>0;){if(v.key in this._loadedParentTiles){m=this._loadedParentTiles[v.key];break}p.push(v.key);let _=v.scaledTo(v.overscaledZ-1);if(m=this._getLoadedTile(_),m)break;v=_}for(let _ of p)this._loadedParentTiles[_]=m}}_updateLoadedSiblingTileCache(){this._loadedSiblingTiles={};for(let a in this._tiles){let p=this._tiles[a].tileID,m=this._getLoadedTile(p);this._loadedSiblingTiles[p.key]=m}}_addTile(a){let p=this._tiles[a.key];if(p)return p;p=this._cache.getAndRemove(a),p&&(this._setTileReloadTimer(a.key,p),p.tileID=a,this._state.initializeTileState(p,this.map?this.map.painter:null),this._cacheTimers[a.key]&&(clearTimeout(this._cacheTimers[a.key]),delete this._cacheTimers[a.key],this._setTileReloadTimer(a.key,p)));let m=p;return p||(p=new Qs(a,this._source.tileSize*a.overscaleFactor()),this._loadTile(p,a.key,p.state)),p.uses++,this._tiles[a.key]=p,m||this._source.fire(new o.k("dataloading",{tile:p,coord:p.tileID,dataType:"source"})),p}_setTileReloadTimer(a,p){a in this._timers&&(clearTimeout(this._timers[a]),delete this._timers[a]);let m=p.getExpiryTimeout();m&&(this._timers[a]=setTimeout(()=>{this._reloadTile(a,"expired"),delete this._timers[a]},m))}_removeTile(a){let p=this._tiles[a];p&&(p.uses--,delete this._tiles[a],this._timers[a]&&(clearTimeout(this._timers[a]),delete this._timers[a]),p.uses>0||(p.hasData()&&p.state!=="reloading"?this._cache.add(p.tileID,p,p.getExpiryTimeout()):(p.aborted=!0,this._abortTile(p),this._unloadTile(p))))}_dataHandler(a){let p=a.sourceDataType;a.dataType==="source"&&p==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&a.dataType==="source"&&p==="content"&&(this.reload(),this.transform&&this.update(this.transform,this.terrain),this._didEmitContent=!0)}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(let a in this._tiles)this._removeTile(a);this._cache.reset()}tilesIn(a,p,m){let v=[],_=this.transform;if(!_)return v;let C=m?_.getCameraQueryGeometry(a):a,P=a.map(oe=>_.pointCoordinate(oe,this.terrain)),O=C.map(oe=>_.pointCoordinate(oe,this.terrain)),D=this.getIds(),V=1/0,U=1/0,Y=-1/0,ee=-1/0;for(let oe of O)V=Math.min(V,oe.x),U=Math.min(U,oe.y),Y=Math.max(Y,oe.x),ee=Math.max(ee,oe.y);for(let oe=0;oe<D.length;oe++){let le=this._tiles[D[oe]];if(le.holdingForFade())continue;let de=le.tileID,me=Math.pow(2,_.zoom-le.tileID.overscaledZ),ge=p*le.queryPadding*o.X/le.tileSize/me,ae=[de.getTilePoint(new o.Z(V,U)),de.getTilePoint(new o.Z(Y,ee))];if(ae[0].x-ge<o.X&&ae[0].y-ge<o.X&&ae[1].x+ge>=0&&ae[1].y+ge>=0){let Ie=P.map(qe=>de.getTilePoint(qe)),Ae=O.map(qe=>de.getTilePoint(qe));v.push({tile:le,tileID:de,queryGeometry:Ie,cameraQueryGeometry:Ae,scale:me})}}return v}getVisibleCoordinates(a){let p=this.getRenderableIds(a).map(m=>this._tiles[m].tileID);for(let m of p)m.posMatrix=this.transform.calculatePosMatrix(m.toUnwrapped());return p}hasTransition(){if(this._source.hasTransition())return!0;if(wa(this._source.type)){let a=y.now();for(let p in this._tiles)if(this._tiles[p].fadeEndTime>=a)return!0}return!1}setFeatureState(a,p,m){this._state.updateState(a=a||"_geojsonTileLayer",p,m)}removeFeatureState(a,p,m){this._state.removeFeatureState(a=a||"_geojsonTileLayer",p,m)}getFeatureState(a,p){return this._state.getState(a=a||"_geojsonTileLayer",p)}setDependencies(a,p,m){let v=this._tiles[a];v&&v.setDependencies(p,m)}reloadTilesForDependencies(a,p){for(let m in this._tiles)this._tiles[m].hasDependency(a,p)&&this._reloadTile(m,"reloading");this._cache.filter(m=>!m.hasDependency(a,p))}}function no(b,a){let p=Math.abs(2*b.wrap)-+(b.wrap<0),m=Math.abs(2*a.wrap)-+(a.wrap<0);return b.overscaledZ-a.overscaledZ||m-p||a.canonical.y-b.canonical.y||a.canonical.x-b.canonical.x}function wa(b){return b==="raster"||b==="image"||b==="video"}sr.maxOverzooming=10,sr.maxUnderzooming=3;class we{constructor(a,p){this.reset(a,p)}reset(a,p){this.points=a||[],this._distances=[0];for(let m=1;m<this.points.length;m++)this._distances[m]=this._distances[m-1]+this.points[m].dist(this.points[m-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(p||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(a){if(this.points.length===1)return this.points[0];a=o.ac(a,0,1);let p=1,m=this._distances[p],v=a*this.paddedLength+this.padding;for(;m<v&&p<this._distances.length;)m=this._distances[++p];let _=p-1,C=this._distances[_],P=m-C,O=P>0?(v-C)/P:0;return this.points[_].mult(1-O).add(this.points[p].mult(O))}}function Ce(b,a){let p=!0;return b==="always"||b!=="never"&&a!=="never"||(p=!1),p}class st{constructor(a,p,m){let v=this.boxCells=[],_=this.circleCells=[];this.xCellCount=Math.ceil(a/m),this.yCellCount=Math.ceil(p/m);for(let C=0;C<this.xCellCount*this.yCellCount;C++)v.push([]),_.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=a,this.height=p,this.xScale=this.xCellCount/a,this.yScale=this.yCellCount/p,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(a,p,m,v,_){this._forEachCell(p,m,v,_,this._insertBoxCell,this.boxUid++),this.boxKeys.push(a),this.bboxes.push(p),this.bboxes.push(m),this.bboxes.push(v),this.bboxes.push(_)}insertCircle(a,p,m,v){this._forEachCell(p-v,m-v,p+v,m+v,this._insertCircleCell,this.circleUid++),this.circleKeys.push(a),this.circles.push(p),this.circles.push(m),this.circles.push(v)}_insertBoxCell(a,p,m,v,_,C){this.boxCells[_].push(C)}_insertCircleCell(a,p,m,v,_,C){this.circleCells[_].push(C)}_query(a,p,m,v,_,C,P){if(m<0||a>this.width||v<0||p>this.height)return[];let O=[];if(a<=0&&p<=0&&this.width<=m&&this.height<=v){if(_)return[{key:null,x1:a,y1:p,x2:m,y2:v}];for(let D=0;D<this.boxKeys.length;D++)O.push({key:this.boxKeys[D],x1:this.bboxes[4*D],y1:this.bboxes[4*D+1],x2:this.bboxes[4*D+2],y2:this.bboxes[4*D+3]});for(let D=0;D<this.circleKeys.length;D++){let V=this.circles[3*D],U=this.circles[3*D+1],Y=this.circles[3*D+2];O.push({key:this.circleKeys[D],x1:V-Y,y1:U-Y,x2:V+Y,y2:U+Y})}}else this._forEachCell(a,p,m,v,this._queryCell,O,{hitTest:_,overlapMode:C,seenUids:{box:{},circle:{}}},P);return O}query(a,p,m,v){return this._query(a,p,m,v,!1,null)}hitTest(a,p,m,v,_,C){return this._query(a,p,m,v,!0,_,C).length>0}hitTestCircle(a,p,m,v,_){let C=a-m,P=a+m,O=p-m,D=p+m;if(P<0||C>this.width||D<0||O>this.height)return!1;let V=[];return this._forEachCell(C,O,P,D,this._queryCellCircle,V,{hitTest:!0,overlapMode:v,circle:{x:a,y:p,radius:m},seenUids:{box:{},circle:{}}},_),V.length>0}_queryCell(a,p,m,v,_,C,P,O){let{seenUids:D,hitTest:V,overlapMode:U}=P,Y=this.boxCells[_];if(Y!==null){let oe=this.bboxes;for(let le of Y)if(!D.box[le]){D.box[le]=!0;let de=4*le,me=this.boxKeys[le];if(a<=oe[de+2]&&p<=oe[de+3]&&m>=oe[de+0]&&v>=oe[de+1]&&(!O||O(me))&&(!V||!Ce(U,me.overlapMode))&&(C.push({key:me,x1:oe[de],y1:oe[de+1],x2:oe[de+2],y2:oe[de+3]}),V))return!0}}let ee=this.circleCells[_];if(ee!==null){let oe=this.circles;for(let le of ee)if(!D.circle[le]){D.circle[le]=!0;let de=3*le,me=this.circleKeys[le];if(this._circleAndRectCollide(oe[de],oe[de+1],oe[de+2],a,p,m,v)&&(!O||O(me))&&(!V||!Ce(U,me.overlapMode))){let ge=oe[de],ae=oe[de+1],Ie=oe[de+2];if(C.push({key:me,x1:ge-Ie,y1:ae-Ie,x2:ge+Ie,y2:ae+Ie}),V)return!0}}}return!1}_queryCellCircle(a,p,m,v,_,C,P,O){let{circle:D,seenUids:V,overlapMode:U}=P,Y=this.boxCells[_];if(Y!==null){let oe=this.bboxes;for(let le of Y)if(!V.box[le]){V.box[le]=!0;let de=4*le,me=this.boxKeys[le];if(this._circleAndRectCollide(D.x,D.y,D.radius,oe[de+0],oe[de+1],oe[de+2],oe[de+3])&&(!O||O(me))&&!Ce(U,me.overlapMode))return C.push(!0),!0}}let ee=this.circleCells[_];if(ee!==null){let oe=this.circles;for(let le of ee)if(!V.circle[le]){V.circle[le]=!0;let de=3*le,me=this.circleKeys[le];if(this._circlesCollide(oe[de],oe[de+1],oe[de+2],D.x,D.y,D.radius)&&(!O||O(me))&&!Ce(U,me.overlapMode))return C.push(!0),!0}}}_forEachCell(a,p,m,v,_,C,P,O){let D=this._convertToXCellCoord(a),V=this._convertToYCellCoord(p),U=this._convertToXCellCoord(m),Y=this._convertToYCellCoord(v);for(let ee=D;ee<=U;ee++)for(let oe=V;oe<=Y;oe++)if(_.call(this,a,p,m,v,this.xCellCount*oe+ee,C,P,O))return}_convertToXCellCoord(a){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(a*this.xScale)))}_convertToYCellCoord(a){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(a*this.yScale)))}_circlesCollide(a,p,m,v,_,C){let P=v-a,O=_-p,D=m+C;return D*D>P*P+O*O}_circleAndRectCollide(a,p,m,v,_,C,P){let O=(C-v)/2,D=Math.abs(a-(v+O));if(D>O+m)return!1;let V=(P-_)/2,U=Math.abs(p-(_+V));if(U>V+m)return!1;if(D<=O||U<=V)return!0;let Y=D-O,ee=U-V;return Y*Y+ee*ee<=m*m}}function Rt(b,a,p,m,v){let _=o.H();return a?(o.K(_,_,[1/v,1/v,1]),p||o.ad(_,_,m.angle)):o.L(_,m.labelPlaneMatrix,b),_}function Pt(b,a,p,m,v){if(a){let _=o.ae(b);return o.K(_,_,[v,v,1]),p||o.ad(_,_,-m.angle),_}return m.glCoordMatrix}function re(b,a,p,m){let v;m?(v=[b,a,m(b,a),1],o.af(v,v,p)):(v=[b,a,0,1],Jr(v,v,p));let _=v[3];return{point:new o.P(v[0]/_,v[1]/_),signedDistanceFromCamera:_,isOccluded:!1}}function H(b,a){return .5+b/a*.5}function $(b,a){return b.x>=-a[0]&&b.x<=a[0]&&b.y>=-a[1]&&b.y<=a[1]}function K(b,a,p,m,v,_,C,P,O,D,V,U,Y,ee,oe){let le=m?b.textSizeData:b.iconSizeData,de=o.ag(le,p.transform.zoom),me=[256/p.width*2+1,256/p.height*2+1],ge=m?b.text.dynamicLayoutVertexArray:b.icon.dynamicLayoutVertexArray;ge.clear();let ae=b.lineVertexArray,Ie=m?b.text.placedSymbolArray:b.icon.placedSymbolArray,Ae=p.transform.width/p.transform.height,qe=!1;for(let Je=0;Je<Ie.length;Je++){let ct=Ie.get(Je);if(ct.hidden||ct.writingMode===o.ah.vertical&&!qe){rr(ct.numGlyphs,ge);continue}qe=!1;let Ct=re(ct.anchorX,ct.anchorY,a,oe);if(!$(Ct.point,me)){rr(ct.numGlyphs,ge);continue}let Lt=H(p.transform.cameraToCenterDistance,Ct.signedDistanceFromCamera),xt=o.ai(le,de,ct),_t=C?xt/Lt:xt*Lt,Wt={getElevation:oe,labelPlaneMatrix:v,lineVertexArray:ae,pitchWithMap:C,projectionCache:{projections:{},offsets:{},cachedAnchorPoint:void 0,anyProjectionOccluded:!1},projection:D,tileAnchorPoint:new o.P(ct.anchorX,ct.anchorY),unwrappedTileID:V,width:U,height:Y,translation:ee},mr=be(Wt,ct,_t,!1,P,a,_,b.glyphOffsetArray,ge,Ae,O);qe=mr.useVertical,(mr.notEnoughRoom||qe||mr.needsFlipping&&be(Wt,ct,_t,!0,P,a,_,b.glyphOffsetArray,ge,Ae,O).notEnoughRoom)&&rr(ct.numGlyphs,ge)}m?b.text.dynamicLayoutVertexBuffer.updateData(ge):b.icon.dynamicLayoutVertexBuffer.updateData(ge)}function ie(b,a,p,m,v,_,C,P){let O=_.glyphStartIndex+_.numGlyphs,D=_.lineStartIndex,V=_.lineStartIndex+_.lineLength,U=a.getoffsetX(_.glyphStartIndex),Y=a.getoffsetX(O-1),ee=dt(b*U,p,m,v,_.segment,D,V,P,C);if(!ee)return null;let oe=dt(b*Y,p,m,v,_.segment,D,V,P,C);return oe?P.projectionCache.anyProjectionOccluded?null:{first:ee,last:oe}:null}function ve(b,a,p,m){return b===o.ah.horizontal&&Math.abs(p.y-a.y)>Math.abs(p.x-a.x)*m?{useVertical:!0}:(b===o.ah.vertical?a.y<p.y:a.x>p.x)?{needsFlipping:!0}:null}function be(b,a,p,m,v,_,C,P,O,D,V){let U=p/24,Y=a.lineOffsetX*U,ee=a.lineOffsetY*U,oe;if(a.numGlyphs>1){let le=a.glyphStartIndex+a.numGlyphs,de=a.lineStartIndex,me=a.lineStartIndex+a.lineLength,ge=ie(U,P,Y,ee,m,a,V,b);if(!ge)return{notEnoughRoom:!0};let ae=re(ge.first.point.x,ge.first.point.y,C,b.getElevation).point,Ie=re(ge.last.point.x,ge.last.point.y,C,b.getElevation).point;if(v&&!m){let Ae=ve(a.writingMode,ae,Ie,D);if(Ae)return Ae}oe=[ge.first];for(let Ae=a.glyphStartIndex+1;Ae<le-1;Ae++)oe.push(dt(U*P.getoffsetX(Ae),Y,ee,m,a.segment,de,me,b,V));oe.push(ge.last)}else{if(v&&!m){let de=re(b.tileAnchorPoint.x,b.tileAnchorPoint.y,_,b.getElevation).point,me=a.lineStartIndex+a.segment+1,ge=new o.P(b.lineVertexArray.getx(me),b.lineVertexArray.gety(me)),ae=re(ge.x,ge.y,_,b.getElevation),Ie=ae.signedDistanceFromCamera>0?ae.point:function(qe,Je,ct,Ct,Lt,xt){return Ee(qe,Je,ct,1,Lt,xt)}(b.tileAnchorPoint,ge,de,0,_,b),Ae=ve(a.writingMode,de,Ie,D);if(Ae)return Ae}let le=dt(U*P.getoffsetX(a.glyphStartIndex),Y,ee,m,a.segment,a.lineStartIndex,a.lineStartIndex+a.lineLength,b,V);if(!le||b.projectionCache.anyProjectionOccluded)return{notEnoughRoom:!0};oe=[le]}for(let le of oe)o.aj(O,le.point,le.angle);return{}}function Ee(b,a,p,m,v,_){let C=b.add(b.sub(a)._unit()),P=v!==void 0?re(C.x,C.y,v,_.getElevation).point:Le(C.x,C.y,_).point,O=p.sub(P);return p.add(O._mult(m/O.mag()))}function fe(b,a,p){let m=a.projectionCache;if(m.projections[b])return m.projections[b];let v=new o.P(a.lineVertexArray.getx(b),a.lineVertexArray.gety(b)),_=Le(v.x,v.y,a);if(_.signedDistanceFromCamera>0)return m.projections[b]=_.point,m.anyProjectionOccluded=m.anyProjectionOccluded||_.isOccluded,_.point;let C=b-p.direction;return function(P,O,D,V,U){return Ee(P,O,D,V,void 0,U)}(p.distanceFromAnchor===0?a.tileAnchorPoint:new o.P(a.lineVertexArray.getx(C),a.lineVertexArray.gety(C)),v,p.previousVertex,p.absOffsetX-p.distanceFromAnchor+1,a)}function Le(b,a,p){let m=b+p.translation[0],v=a+p.translation[1],_;return!p.pitchWithMap&&p.projection.useSpecialProjectionForSymbols?(_=p.projection.projectTileCoordinates(m,v,p.unwrappedTileID,p.getElevation),_.point.x=(.5*_.point.x+.5)*p.width,_.point.y=(.5*-_.point.y+.5)*p.height):(_=re(m,v,p.labelPlaneMatrix,p.getElevation),_.isOccluded=!1),_}function Ye(b,a,p){return b._unit()._perp()._mult(a*p)}function De(b,a,p,m,v,_,C,P,O){if(P.projectionCache.offsets[b])return P.projectionCache.offsets[b];let D=p.add(a);if(b+O.direction<m||b+O.direction>=v)return P.projectionCache.offsets[b]=D,D;let V=fe(b+O.direction,P,O),U=Ye(V.sub(p),C,O.direction),Y=p.add(U),ee=V.add(U);return P.projectionCache.offsets[b]=o.ak(_,D,Y,ee)||D,P.projectionCache.offsets[b]}function dt(b,a,p,m,v,_,C,P,O){let D=m?b-a:b+a,V=D>0?1:-1,U=0;m&&(V*=-1,U=Math.PI),V<0&&(U+=Math.PI);let Y,ee=V>0?_+v:_+v+1;P.projectionCache.cachedAnchorPoint?Y=P.projectionCache.cachedAnchorPoint:(Y=Le(P.tileAnchorPoint.x,P.tileAnchorPoint.y,P).point,P.projectionCache.cachedAnchorPoint=Y);let oe,le,de=Y,me=Y,ge=0,ae=0,Ie=Math.abs(D),Ae=[],qe;for(;ge+ae<=Ie;){if(ee+=V,ee<_||ee>=C)return null;ge+=ae,me=de,le=oe;let Ct={absOffsetX:Ie,direction:V,distanceFromAnchor:ge,previousVertex:me};if(de=fe(ee,P,Ct),p===0)Ae.push(me),qe=de.sub(me);else{let Lt,xt=de.sub(me);Lt=xt.mag()===0?Ye(fe(ee+V,P,Ct).sub(de),p,V):Ye(xt,p,V),le||(le=me.add(Lt)),oe=De(ee,Lt,de,_,C,le,p,P,Ct),Ae.push(le),qe=oe.sub(le)}ae=qe.mag()}let Je=qe._mult((Ie-ge)/ae)._add(le||me),ct=U+Math.atan2(de.y-me.y,de.x-me.x);return Ae.push(Je),{point:Je,angle:O?ct:0,path:Ae}}let Ht=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function rr(b,a){for(let p=0;p<b;p++){let m=a.length;a.resize(m+4),a.float32.set(Ht,3*m)}}function Jr(b,a,p){let m=a[0],v=a[1];return b[0]=p[0]*m+p[4]*v+p[12],b[1]=p[1]*m+p[5]*v+p[13],b[3]=p[3]*m+p[7]*v+p[15],b}let _r=100;class Qr{constructor(a,p,m=new st(a.width+200,a.height+200,25),v=new st(a.width+200,a.height+200,25)){this.transform=a,this.mapProjection=p,this.grid=m,this.ignoredGrid=v,this.pitchFactor=Math.cos(a._pitch)*a.cameraToCenterDistance,this.screenRightBoundary=a.width+_r,this.screenBottomBoundary=a.height+_r,this.gridRightBoundary=a.width+200,this.gridBottomBoundary=a.height+200,this.perspectiveRatioCutoff=.6}placeCollisionBox(a,p,m,v,_,C,P,O,D,V,U){let Y=a.anchorPointX+O[0],ee=a.anchorPointY+O[1],oe=this.projectAndGetPerspectiveRatio(v,Y,ee,_,V),le=m*oe.perspectiveRatio,de;if(C||P)de=this._projectCollisionBox(a,le,v,_,C,P,O,oe,V,U);else{let Ae=oe.point.x+(U?U.x*le:0),qe=oe.point.y+(U?U.y*le:0);de={allPointsOccluded:!1,box:[Ae+a.x1*le,qe+a.y1*le,Ae+a.x2*le,qe+a.y2*le]}}let[me,ge,ae,Ie]=de.box;return this.mapProjection.useSpecialProjectionForSymbols&&(C?de.allPointsOccluded:this.mapProjection.isOccluded(Y,ee,_))||oe.perspectiveRatio<this.perspectiveRatioCutoff||!this.isInsideGrid(me,ge,ae,Ie)||p!=="always"&&this.grid.hitTest(me,ge,ae,Ie,p,D)?{box:[me,ge,ae,Ie],placeable:!1,offscreen:!1}:{box:[me,ge,ae,Ie],placeable:!0,offscreen:this.isOffscreen(me,ge,ae,Ie)}}placeCollisionCircles(a,p,m,v,_,C,P,O,D,V,U,Y,ee,oe,le,de){let me=[],ge=new o.P(p.anchorX,p.anchorY),ae=this.getPerspectiveRatio(C,ge.x,ge.y,P,de),Ie=(U?_/ae:_*ae)/o.ap,Ae={getElevation:de,labelPlaneMatrix:O,lineVertexArray:m,pitchWithMap:U,projectionCache:{projections:{},offsets:{},cachedAnchorPoint:void 0,anyProjectionOccluded:!1},projection:this.mapProjection,tileAnchorPoint:ge,unwrappedTileID:P,width:this.transform.width,height:this.transform.height,translation:le},qe=ie(Ie,v,p.lineOffsetX*Ie,p.lineOffsetY*Ie,!1,p,!1,Ae),Je=!1,ct=!1,Ct=!0;if(qe){let Lt=.5*ee*ae+oe,xt=new o.P(-100,-100),_t=new o.P(this.screenRightBoundary,this.screenBottomBoundary),Wt=new we,mr=qe.first,It=qe.last,Nt=[];for(let Tr=mr.path.length-1;Tr>=1;Tr--)Nt.push(mr.path[Tr]);for(let Tr=1;Tr<It.path.length;Tr++)Nt.push(It.path[Tr]);let fr=2.5*Lt;if(D){let Tr=this.projectPathToScreenSpace(Nt,Ae,D);Nt=Tr.some(Br=>Br.signedDistanceFromCamera<=0)?[]:Tr.map(Br=>Br.point)}let zn=[];if(Nt.length>0){let Tr=Nt[0].clone(),Br=Nt[0].clone();for(let Fn=1;Fn<Nt.length;Fn++)Tr.x=Math.min(Tr.x,Nt[Fn].x),Tr.y=Math.min(Tr.y,Nt[Fn].y),Br.x=Math.max(Br.x,Nt[Fn].x),Br.y=Math.max(Br.y,Nt[Fn].y);zn=Tr.x>=xt.x&&Br.x<=_t.x&&Tr.y>=xt.y&&Br.y<=_t.y?[Nt]:Br.x<xt.x||Tr.x>_t.x||Br.y<xt.y||Tr.y>_t.y?[]:o.al([Nt],xt.x,xt.y,_t.x,_t.y)}for(let Tr of zn){Wt.reset(Tr,.25*Lt);let Br=0;Br=Wt.length<=.5*Lt?1:Math.ceil(Wt.paddedLength/fr)+1;for(let Fn=0;Fn<Br;Fn++){let oo=Fn/Math.max(Br-1,1),Ms=Wt.lerp(oo),jn=Ms.x+_r,Xo=Ms.y+_r;me.push(jn,Xo,Lt,0);let So=jn-Lt,ao=Xo-Lt,Io=jn+Lt,nl=Xo+Lt;if(Ct=Ct&&this.isOffscreen(So,ao,Io,nl),ct=ct||this.isInsideGrid(So,ao,Io,nl),a!=="always"&&this.grid.hitTestCircle(jn,Xo,Lt,a,Y)&&(Je=!0,!V))return{circles:[],offscreen:!1,collisionDetected:Je}}}}return{circles:!V&&Je||!ct||ae<this.perspectiveRatioCutoff?[]:me,offscreen:Ct,collisionDetected:Je}}projectPathToScreenSpace(a,p,m){return a.map(v=>re(v.x,v.y,m,p.getElevation))}queryRenderedSymbols(a){if(a.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};let p=[],m=1/0,v=1/0,_=-1/0,C=-1/0;for(let V of a){let U=new o.P(V.x+_r,V.y+_r);m=Math.min(m,U.x),v=Math.min(v,U.y),_=Math.max(_,U.x),C=Math.max(C,U.y),p.push(U)}let P=this.grid.query(m,v,_,C).concat(this.ignoredGrid.query(m,v,_,C)),O={},D={};for(let V of P){let U=V.key;if(O[U.bucketInstanceId]===void 0&&(O[U.bucketInstanceId]={}),O[U.bucketInstanceId][U.featureIndex])continue;let Y=[new o.P(V.x1,V.y1),new o.P(V.x2,V.y1),new o.P(V.x2,V.y2),new o.P(V.x1,V.y2)];o.am(p,Y)&&(O[U.bucketInstanceId][U.featureIndex]=!0,D[U.bucketInstanceId]===void 0&&(D[U.bucketInstanceId]=[]),D[U.bucketInstanceId].push(U.featureIndex))}return D}insertCollisionBox(a,p,m,v,_,C){(m?this.ignoredGrid:this.grid).insert({bucketInstanceId:v,featureIndex:_,collisionGroupID:C,overlapMode:p},a[0],a[1],a[2],a[3])}insertCollisionCircles(a,p,m,v,_,C){let P=m?this.ignoredGrid:this.grid,O={bucketInstanceId:v,featureIndex:_,collisionGroupID:C,overlapMode:p};for(let D=0;D<a.length;D+=4)P.insertCircle(O,a[D],a[D+1],a[D+2])}projectAndGetPerspectiveRatio(a,p,m,v,_){let C;_?(C=[p,m,_(p,m),1],o.af(C,C,a)):(C=[p,m,0,1],Jr(C,C,a));let P=C[3];return{point:new o.P((C[0]/P+1)/2*this.transform.width+_r,(-C[1]/P+1)/2*this.transform.height+_r),perspectiveRatio:.5+this.transform.cameraToCenterDistance/P*.5,isOccluded:!1,signedDistanceFromCamera:P}}getPerspectiveRatio(a,p,m,v,_){let C=this.mapProjection.useSpecialProjectionForSymbols?this.mapProjection.projectTileCoordinates(p,m,v,_):re(p,m,a,_);return .5+this.transform.cameraToCenterDistance/C.signedDistanceFromCamera*.5}isOffscreen(a,p,m,v){return m<_r||a>=this.screenRightBoundary||v<_r||p>this.screenBottomBoundary}isInsideGrid(a,p,m,v){return m>=0&&a<this.gridRightBoundary&&v>=0&&p<this.gridBottomBoundary}getViewportMatrix(){let a=o.an([]);return o.J(a,a,[-100,-100,0]),a}_projectCollisionBox(a,p,m,v,_,C,P,O,D,V){let U=new o.P(1,0),Y=new o.P(0,1),ee=new o.P(a.anchorPointX+P[0],a.anchorPointY+P[1]);if(C&&!_){let Ct=this.projectAndGetPerspectiveRatio(m,ee.x+1,ee.y,v,D).point.sub(O.point).unit(),Lt=Math.atan(Ct.y/Ct.x)+(Ct.x<0?Math.PI:0),xt=Math.sin(Lt),_t=Math.cos(Lt);U=new o.P(_t,xt),Y=new o.P(-xt,_t)}else if(!C&&_){let Ct=-this.transform.angle,Lt=Math.sin(Ct),xt=Math.cos(Ct);U=new o.P(xt,Lt),Y=new o.P(-Lt,xt)}let oe=O.point,le=p;if(_){oe=ee;let Ct=this.transform.zoom-Math.floor(this.transform.zoom);le=Math.pow(2,-Ct),le*=this.mapProjection.getPitchedTextCorrection(this.transform,ee,v),V||(le*=o.ac(.5+O.signedDistanceFromCamera/this.transform.cameraToCenterDistance*.5,0,4))}V&&(oe=oe.add(U.mult(V.x*le)).add(Y.mult(V.y*le)));let de=a.x1*le,me=a.x2*le,ge=(de+me)/2,ae=a.y1*le,Ie=a.y2*le,Ae=(ae+Ie)/2,qe=[{offsetX:de,offsetY:ae},{offsetX:ge,offsetY:ae},{offsetX:me,offsetY:ae},{offsetX:me,offsetY:Ae},{offsetX:me,offsetY:Ie},{offsetX:ge,offsetY:Ie},{offsetX:de,offsetY:Ie},{offsetX:de,offsetY:Ae}],Je=[];for(let{offsetX:Ct,offsetY:Lt}of qe)Je.push(new o.P(oe.x+U.x*Ct+Y.x*Lt,oe.y+U.y*Ct+Y.y*Lt));let ct=!1;if(_){let Ct=Je.map(Lt=>this.projectAndGetPerspectiveRatio(m,Lt.x,Lt.y,v,D));ct=Ct.some(Lt=>!Lt.isOccluded),Je=Ct.map(Lt=>Lt.point)}else ct=!0;return{box:o.ao(Je),allPointsOccluded:!ct}}}function jr(b,a,p){return a*(o.X/(b.tileSize*Math.pow(2,p-b.tileID.overscaledZ)))}class xi{constructor(a,p,m,v){this.opacity=a?Math.max(0,Math.min(1,a.opacity+(a.placed?p:-p))):v&&m?1:0,this.placed=m}isHidden(){return this.opacity===0&&!this.placed}}class ti{constructor(a,p,m,v,_){this.text=new xi(a?a.text:null,p,m,_),this.icon=new xi(a?a.icon:null,p,v,_)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class Pr{constructor(a,p,m){this.text=a,this.icon=p,this.skipFade=m}}class fn{constructor(){this.invProjMatrix=o.H(),this.viewportMatrix=o.H(),this.circles=[]}}class Hn{constructor(a,p,m,v,_){this.bucketInstanceId=a,this.featureIndex=p,this.sourceLayerIndex=m,this.bucketIndex=v,this.tileID=_}}class Bi{constructor(a){this.crossSourceCollisions=a,this.maxGroupID=0,this.collisionGroups={}}get(a){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[a]){let p=++this.maxGroupID;this.collisionGroups[a]={ID:p,predicate:m=>m.collisionGroupID===p}}return this.collisionGroups[a]}}function Zi(b,a,p,m,v){let{horizontalAlign:_,verticalAlign:C}=o.au(b);return new o.P(-(_-.5)*a+m[0]*v,-(C-.5)*p+m[1]*v)}class wo{constructor(a,p,m,v,_,C){this.transform=a.clone(),this.terrain=m,this.collisionIndex=new Qr(this.transform,p),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=v,this.retainedQueryData={},this.collisionGroups=new Bi(_),this.collisionCircleArrays={},this.collisionBoxArrays=new Map,this.prevPlacement=C,C&&(C.prevPlacement=void 0),this.placedOrientations={}}_getTerrainElevationFunc(a){let p=this.terrain;return p?(m,v)=>p.getElevation(a,m,v):null}getBucketParts(a,p,m,v){let _=m.getBucket(p),C=m.latestFeatureIndex;if(!_||!C||p.id!==_.layerIds[0])return;let P=m.collisionBoxArray,O=_.layers[0].layout,D=_.layers[0].paint,V=Math.pow(2,this.transform.zoom-m.tileID.overscaledZ),U=m.tileSize/o.X,Y=m.tileID.toUnwrapped(),ee=this.transform.calculatePosMatrix(Y),oe=O.get("text-pitch-alignment")==="map",le=O.get("text-rotation-alignment")==="map",de=jr(m,1,this.transform.zoom),me=this.collisionIndex.mapProjection.translatePosition(this.transform,m,D.get("text-translate"),D.get("text-translate-anchor")),ge=this.collisionIndex.mapProjection.translatePosition(this.transform,m,D.get("icon-translate"),D.get("icon-translate-anchor")),ae=Rt(ee,oe,le,this.transform,de),Ie=null;if(oe){let qe=Pt(ee,oe,le,this.transform,de);Ie=o.L([],this.transform.labelPlaneMatrix,qe)}this.retainedQueryData[_.bucketInstanceId]=new Hn(_.bucketInstanceId,C,_.sourceLayerIndex,_.index,m.tileID);let Ae={bucket:_,layout:O,translationText:me,translationIcon:ge,posMatrix:ee,unwrappedTileID:Y,textLabelPlaneMatrix:ae,labelToScreenMatrix:Ie,scale:V,textPixelRatio:U,holdingForFade:m.holdingForFade(),collisionBoxArray:P,partiallyEvaluatedTextSize:o.ag(_.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(_.sourceID)};if(v)for(let qe of _.sortKeyRanges){let{sortKey:Je,symbolInstanceStart:ct,symbolInstanceEnd:Ct}=qe;a.push({sortKey:Je,symbolInstanceStart:ct,symbolInstanceEnd:Ct,parameters:Ae})}else a.push({symbolInstanceStart:0,symbolInstanceEnd:_.symbolInstances.length,parameters:Ae})}attemptAnchorPlacement(a,p,m,v,_,C,P,O,D,V,U,Y,ee,oe,le,de,me,ge,ae){let Ie=o.aq[a.textAnchor],Ae=[a.textOffset0,a.textOffset1],qe=Zi(Ie,m,v,Ae,_),Je=this.collisionIndex.placeCollisionBox(p,Y,O,D,V,P,C,de,U.predicate,ae,qe);if((!ge||this.collisionIndex.placeCollisionBox(ge,Y,O,D,V,P,C,me,U.predicate,ae,qe).placeable)&&Je.placeable){let ct;if(this.prevPlacement&&this.prevPlacement.variableOffsets[ee.crossTileID]&&this.prevPlacement.placements[ee.crossTileID]&&this.prevPlacement.placements[ee.crossTileID].text&&(ct=this.prevPlacement.variableOffsets[ee.crossTileID].anchor),ee.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");return this.variableOffsets[ee.crossTileID]={textOffset:Ae,width:m,height:v,anchor:Ie,textBoxScale:_,prevAnchor:ct},this.markUsedJustification(oe,Ie,ee,le),oe.allowVerticalPlacement&&(this.markUsedOrientation(oe,le,ee),this.placedOrientations[ee.crossTileID]=le),{shift:qe,placedGlyphBoxes:Je}}}placeLayerBucketPart(a,p,m){let{bucket:v,layout:_,translationText:C,translationIcon:P,posMatrix:O,unwrappedTileID:D,textLabelPlaneMatrix:V,labelToScreenMatrix:U,textPixelRatio:Y,holdingForFade:ee,collisionBoxArray:oe,partiallyEvaluatedTextSize:le,collisionGroup:de}=a.parameters,me=_.get("text-optional"),ge=_.get("icon-optional"),ae=o.ar(_,"text-overlap","text-allow-overlap"),Ie=ae==="always",Ae=o.ar(_,"icon-overlap","icon-allow-overlap"),qe=Ae==="always",Je=_.get("text-rotation-alignment")==="map",ct=_.get("text-pitch-alignment")==="map",Ct=_.get("icon-text-fit")!=="none",Lt=_.get("symbol-z-order")==="viewport-y",xt=Ie&&(qe||!v.hasIconData()||ge),_t=qe&&(Ie||!v.hasTextData()||me);!v.collisionArrays&&oe&&v.deserializeCollisionBoxes(oe);let Wt=this._getTerrainElevationFunc(this.retainedQueryData[v.bucketInstanceId].tileID),mr=(It,Nt,fr)=>{var zn,Tr;if(p[It.crossTileID])return;if(ee)return void(this.placements[It.crossTileID]=new Pr(!1,!1,!1));let Br=!1,Fn=!1,oo=!0,Ms=null,jn={box:null,placeable:!1,offscreen:null},Xo={box:null,placeable:!1,offscreen:null},So=null,ao=null,Io=null,nl=0,id=0,gv=0;Nt.textFeatureIndex?nl=Nt.textFeatureIndex:It.useRuntimeCollisionCircles&&(nl=It.featureIndex),Nt.verticalTextFeatureIndex&&(id=Nt.verticalTextFeatureIndex);let od=Nt.textBox;if(od){let Ya=Ki=>{let so=o.ah.horizontal;if(v.allowVerticalPlacement&&!Ki&&this.prevPlacement){let Ca=this.prevPlacement.placedOrientations[It.crossTileID];Ca&&(this.placedOrientations[It.crossTileID]=Ca,so=Ca,this.markUsedOrientation(v,so,It))}return so},Xa=(Ki,so)=>{if(v.allowVerticalPlacement&&It.numVerticalGlyphVertices>0&&Nt.verticalTextBox){for(let Ca of v.writingModes)if(Ca===o.ah.vertical?(jn=so(),Xo=jn):jn=Ki(),jn&&jn.placeable)break}else jn=Ki()},xu=It.textAnchorOffsetStartIndex,Ps=It.textAnchorOffsetEndIndex;if(Ps===xu){let Ki=(so,Ca)=>{let Gr=this.collisionIndex.placeCollisionBox(so,ae,Y,O,D,ct,Je,C,de.predicate,Wt);return Gr&&Gr.placeable&&(this.markUsedOrientation(v,Ca,It),this.placedOrientations[It.crossTileID]=Ca),Gr};Xa(()=>Ki(od,o.ah.horizontal),()=>{let so=Nt.verticalTextBox;return v.allowVerticalPlacement&&It.numVerticalGlyphVertices>0&&so?Ki(so,o.ah.vertical):{box:null,offscreen:null}}),Ya(jn&&jn.placeable)}else{let Ki=o.aq[(Tr=(zn=this.prevPlacement)===null||zn===void 0?void 0:zn.variableOffsets[It.crossTileID])===null||Tr===void 0?void 0:Tr.anchor],so=(Gr,Oc,ad)=>{let sd=Gr.x2-Gr.x1,x2=Gr.y2-Gr.y1,XR=It.textBoxScale,w2=Ct&&Ae==="never"?Oc:null,wu=null,S2=ae==="never"?1:2,_v="never";Ki&&S2++;for(let ih=0;ih<S2;ih++){for(let bv=xu;bv<Ps;bv++){let xv=v.textAnchorOffsets.get(bv);if(Ki&&xv.textAnchor!==Ki)continue;let ld=this.attemptAnchorPlacement(xv,Gr,sd,x2,XR,Je,ct,Y,O,D,de,_v,It,v,ad,C,P,w2,Wt);if(ld&&(wu=ld.placedGlyphBoxes,wu&&wu.placeable))return Br=!0,Ms=ld.shift,wu}Ki?Ki=null:_v=ae}return m&&!wu&&(wu={box:this.collisionIndex.placeCollisionBox(od,"always",Y,O,D,ct,Je,C,de.predicate,Wt,new o.P(0,0)).box,offscreen:!1,placeable:!1}),wu};Xa(()=>so(od,Nt.iconBox,o.ah.horizontal),()=>{let Gr=Nt.verticalTextBox;return v.allowVerticalPlacement&&(!jn||!jn.placeable)&&It.numVerticalGlyphVertices>0&&Gr?so(Gr,Nt.verticalIconBox,o.ah.vertical):{box:null,occluded:!0,offscreen:null}}),jn&&(Br=jn.placeable,oo=jn.offscreen);let Ca=Ya(jn&&jn.placeable);if(!Br&&this.prevPlacement){let Gr=this.prevPlacement.variableOffsets[It.crossTileID];Gr&&(this.variableOffsets[It.crossTileID]=Gr,this.markUsedJustification(v,Gr.anchor,It,Ca))}}}if(So=jn,Br=So&&So.placeable,oo=So&&So.offscreen,It.useRuntimeCollisionCircles){let Ya=v.text.placedSymbolArray.get(It.centerJustifiedTextSymbolIndex),Xa=o.ai(v.textSizeData,le,Ya),xu=_.get("text-padding");ao=this.collisionIndex.placeCollisionCircles(ae,Ya,v.lineVertexArray,v.glyphOffsetArray,Xa,O,D,V,U,m,ct,de.predicate,It.collisionCircleDiameter,xu,C,Wt),ao.circles.length&&ao.collisionDetected&&!m&&o.w("Collisions detected, but collision boxes are not shown"),Br=Ie||ao.circles.length>0&&!ao.collisionDetected,oo=oo&&ao.offscreen}if(Nt.iconFeatureIndex&&(gv=Nt.iconFeatureIndex),Nt.iconBox){let Ya=Xa=>this.collisionIndex.placeCollisionBox(Xa,Ae,Y,O,D,ct,Je,P,de.predicate,Wt,Ct&&Ms?Ms:void 0);Xo&&Xo.placeable&&Nt.verticalIconBox?(Io=Ya(Nt.verticalIconBox),Fn=Io.placeable):(Io=Ya(Nt.iconBox),Fn=Io.placeable),oo=oo&&Io.offscreen}let Ka=me||It.numHorizontalGlyphVertices===0&&It.numVerticalGlyphVertices===0,yv=ge||It.numIconVertices===0;Ka||yv?yv?Ka||(Fn=Fn&&Br):Br=Fn&&Br:Fn=Br=Fn&&Br;let _1=Fn&&Io.placeable;if(Br&&So.placeable&&this.collisionIndex.insertCollisionBox(So.box,ae,_.get("text-ignore-placement"),v.bucketInstanceId,Xo&&Xo.placeable&&id?id:nl,de.ID),_1&&this.collisionIndex.insertCollisionBox(Io.box,Ae,_.get("icon-ignore-placement"),v.bucketInstanceId,gv,de.ID),ao&&Br&&this.collisionIndex.insertCollisionCircles(ao.circles,ae,_.get("text-ignore-placement"),v.bucketInstanceId,nl,de.ID),m&&this.storeCollisionData(v.bucketInstanceId,fr,Nt,So,Io,ao),It.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");if(v.bucketInstanceId===0)throw new Error("bucket.bucketInstanceId can't be 0");this.placements[It.crossTileID]=new Pr(Br||xt,Fn||_t,oo||v.justReloaded),p[It.crossTileID]=!0};if(Lt){if(a.symbolInstanceStart!==0)throw new Error("bucket.bucketInstanceId should be 0");let It=v.getSortedSymbolIndexes(this.transform.angle);for(let Nt=It.length-1;Nt>=0;--Nt){let fr=It[Nt];mr(v.symbolInstances.get(fr),v.collisionArrays[fr],fr)}}else for(let It=a.symbolInstanceStart;It<a.symbolInstanceEnd;It++)mr(v.symbolInstances.get(It),v.collisionArrays[It],It);if(m&&v.bucketInstanceId in this.collisionCircleArrays){let It=this.collisionCircleArrays[v.bucketInstanceId];o.as(It.invProjMatrix,O),It.viewportMatrix=this.collisionIndex.getViewportMatrix()}v.justReloaded=!1}storeCollisionData(a,p,m,v,_,C){if(m.textBox||m.iconBox){let P,O;this.collisionBoxArrays.has(a)?P=this.collisionBoxArrays.get(a):(P=new Map,this.collisionBoxArrays.set(a,P)),P.has(p)?O=P.get(p):(O={text:null,icon:null},P.set(p,O)),m.textBox&&(O.text=v.box),m.iconBox&&(O.icon=_.box)}if(C){let P=this.collisionCircleArrays[a];P===void 0&&(P=this.collisionCircleArrays[a]=new fn);for(let O=0;O<C.circles.length;O+=4)P.circles.push(C.circles[O+0]),P.circles.push(C.circles[O+1]),P.circles.push(C.circles[O+2]),P.circles.push(C.collisionDetected?1:0)}}markUsedJustification(a,p,m,v){let _;_=v===o.ah.vertical?m.verticalPlacedTextSymbolIndex:{left:m.leftJustifiedTextSymbolIndex,center:m.centerJustifiedTextSymbolIndex,right:m.rightJustifiedTextSymbolIndex}[o.at(p)];let C=[m.leftJustifiedTextSymbolIndex,m.centerJustifiedTextSymbolIndex,m.rightJustifiedTextSymbolIndex,m.verticalPlacedTextSymbolIndex];for(let P of C)P>=0&&(a.text.placedSymbolArray.get(P).crossTileID=_>=0&&P!==_?0:m.crossTileID)}markUsedOrientation(a,p,m){let v=p===o.ah.horizontal||p===o.ah.horizontalOnly?p:0,_=p===o.ah.vertical?p:0,C=[m.leftJustifiedTextSymbolIndex,m.centerJustifiedTextSymbolIndex,m.rightJustifiedTextSymbolIndex];for(let P of C)a.text.placedSymbolArray.get(P).placedOrientation=v;m.verticalPlacedTextSymbolIndex&&(a.text.placedSymbolArray.get(m.verticalPlacedTextSymbolIndex).placedOrientation=_)}commit(a){this.commitTime=a,this.zoomAtLastRecencyCheck=this.transform.zoom;let p=this.prevPlacement,m=!1;this.prevZoomAdjustment=p?p.zoomAdjustment(this.transform.zoom):0;let v=p?p.symbolFadeChange(a):1,_=p?p.opacities:{},C=p?p.variableOffsets:{},P=p?p.placedOrientations:{};for(let O in this.placements){let D=this.placements[O],V=_[O];V?(this.opacities[O]=new ti(V,v,D.text,D.icon),m=m||D.text!==V.text.placed||D.icon!==V.icon.placed):(this.opacities[O]=new ti(null,v,D.text,D.icon,D.skipFade),m=m||D.text||D.icon)}for(let O in _){let D=_[O];if(!this.opacities[O]){let V=new ti(D,v,!1,!1);V.isHidden()||(this.opacities[O]=V,m=m||D.text.placed||D.icon.placed)}}for(let O in C)this.variableOffsets[O]||!this.opacities[O]||this.opacities[O].isHidden()||(this.variableOffsets[O]=C[O]);for(let O in P)this.placedOrientations[O]||!this.opacities[O]||this.opacities[O].isHidden()||(this.placedOrientations[O]=P[O]);if(p&&p.lastPlacementChangeTime===void 0)throw new Error("Last placement time for previous placement is not defined");m?this.lastPlacementChangeTime=a:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=p?p.lastPlacementChangeTime:a)}updateLayerOpacities(a,p){let m={};for(let v of p){let _=v.getBucket(a);_&&v.latestFeatureIndex&&a.id===_.layerIds[0]&&this.updateBucketOpacities(_,v.tileID,m,v.collisionBoxArray)}}updateBucketOpacities(a,p,m,v){a.hasTextData()&&(a.text.opacityVertexArray.clear(),a.text.hasVisibleVertices=!1),a.hasIconData()&&(a.icon.opacityVertexArray.clear(),a.icon.hasVisibleVertices=!1),a.hasIconCollisionBoxData()&&a.iconCollisionBox.collisionVertexArray.clear(),a.hasTextCollisionBoxData()&&a.textCollisionBox.collisionVertexArray.clear();let _=a.layers[0],C=_.layout,P=new ti(null,0,!1,!1,!0),O=C.get("text-allow-overlap"),D=C.get("icon-allow-overlap"),V=_._unevaluatedLayout.hasValue("text-variable-anchor")||_._unevaluatedLayout.hasValue("text-variable-anchor-offset"),U=C.get("text-rotation-alignment")==="map",Y=C.get("text-pitch-alignment")==="map",ee=C.get("icon-text-fit")!=="none",oe=new ti(null,0,O&&(D||!a.hasIconData()||C.get("icon-optional")),D&&(O||!a.hasTextData()||C.get("text-optional")),!0);!a.collisionArrays&&v&&(a.hasIconCollisionBoxData()||a.hasTextCollisionBoxData())&&a.deserializeCollisionBoxes(v);let le=(me,ge,ae)=>{for(let Ie=0;Ie<ge/4;Ie++)me.opacityVertexArray.emplaceBack(ae);me.hasVisibleVertices=me.hasVisibleVertices||ae!==Lp},de=this.collisionBoxArrays.get(a.bucketInstanceId);for(let me=0;me<a.symbolInstances.length;me++){let ge=a.symbolInstances.get(me),{numHorizontalGlyphVertices:ae,numVerticalGlyphVertices:Ie,crossTileID:Ae}=ge,qe=this.opacities[Ae];m[Ae]?qe=P:qe||(qe=oe,this.opacities[Ae]=qe),m[Ae]=!0;let Je=ge.numIconVertices>0,ct=this.placedOrientations[ge.crossTileID],Ct=ct===o.ah.vertical,Lt=ct===o.ah.horizontal||ct===o.ah.horizontalOnly;if(ae>0||Ie>0){let _t=Ea(qe.text);le(a.text,ae,Ct?Lp:_t),le(a.text,Ie,Lt?Lp:_t);let Wt=qe.text.isHidden();[ge.rightJustifiedTextSymbolIndex,ge.centerJustifiedTextSymbolIndex,ge.leftJustifiedTextSymbolIndex].forEach(Nt=>{Nt>=0&&(a.text.placedSymbolArray.get(Nt).hidden=Wt||Ct?1:0)}),ge.verticalPlacedTextSymbolIndex>=0&&(a.text.placedSymbolArray.get(ge.verticalPlacedTextSymbolIndex).hidden=Wt||Lt?1:0);let mr=this.variableOffsets[ge.crossTileID];mr&&this.markUsedJustification(a,mr.anchor,ge,ct);let It=this.placedOrientations[ge.crossTileID];It&&(this.markUsedJustification(a,"left",ge,It),this.markUsedOrientation(a,It,ge))}if(Je){let _t=Ea(qe.icon),Wt=!(ee&&ge.verticalPlacedIconSymbolIndex&&Ct);ge.placedIconSymbolIndex>=0&&(le(a.icon,ge.numIconVertices,Wt?_t:Lp),a.icon.placedSymbolArray.get(ge.placedIconSymbolIndex).hidden=qe.icon.isHidden()),ge.verticalPlacedIconSymbolIndex>=0&&(le(a.icon,ge.numVerticalIconVertices,Wt?Lp:_t),a.icon.placedSymbolArray.get(ge.verticalPlacedIconSymbolIndex).hidden=qe.icon.isHidden())}let xt=de&&de.has(me)?de.get(me):{text:null,icon:null};if(a.hasIconCollisionBoxData()||a.hasTextCollisionBoxData()){let _t=a.collisionArrays[me];if(_t){let Wt=new o.P(0,0);if(_t.textBox||_t.verticalTextBox){let mr=!0;if(V){let It=this.variableOffsets[Ae];It?(Wt=Zi(It.anchor,It.width,It.height,It.textOffset,It.textBoxScale),U&&Wt._rotate(Y?this.transform.angle:-this.transform.angle)):mr=!1}if(_t.textBox||_t.verticalTextBox){let It;_t.textBox&&(It=Ct),_t.verticalTextBox&&(It=Lt),Dp(a.textCollisionBox.collisionVertexArray,qe.text.placed,!mr||It,xt.text,Wt.x,Wt.y)}}if(_t.iconBox||_t.verticalIconBox){let mr=!!(!Lt&&_t.verticalIconBox),It;_t.iconBox&&(It=mr),_t.verticalIconBox&&(It=!mr),Dp(a.iconCollisionBox.collisionVertexArray,qe.icon.placed,It,xt.icon,ee?Wt.x:0,ee?Wt.y:0)}}}}if(a.sortFeatures(this.transform.angle),this.retainedQueryData[a.bucketInstanceId]&&(this.retainedQueryData[a.bucketInstanceId].featureSortOrder=a.featureSortOrder),a.hasTextData()&&a.text.opacityVertexBuffer&&a.text.opacityVertexBuffer.updateData(a.text.opacityVertexArray),a.hasIconData()&&a.icon.opacityVertexBuffer&&a.icon.opacityVertexBuffer.updateData(a.icon.opacityVertexArray),a.hasIconCollisionBoxData()&&a.iconCollisionBox.collisionVertexBuffer&&a.iconCollisionBox.collisionVertexBuffer.updateData(a.iconCollisionBox.collisionVertexArray),a.hasTextCollisionBoxData()&&a.textCollisionBox.collisionVertexBuffer&&a.textCollisionBox.collisionVertexBuffer.updateData(a.textCollisionBox.collisionVertexArray),a.text.opacityVertexArray.length!==a.text.layoutVertexArray.length/4)throw new Error(`bucket.text.opacityVertexArray.length (= ${a.text.opacityVertexArray.length}) !== bucket.text.layoutVertexArray.length (= ${a.text.layoutVertexArray.length}) / 4`);if(a.icon.opacityVertexArray.length!==a.icon.layoutVertexArray.length/4)throw new Error(`bucket.icon.opacityVertexArray.length (= ${a.icon.opacityVertexArray.length}) !== bucket.icon.layoutVertexArray.length (= ${a.icon.layoutVertexArray.length}) / 4`);if(a.bucketInstanceId in this.collisionCircleArrays){let me=this.collisionCircleArrays[a.bucketInstanceId];a.placementInvProjMatrix=me.invProjMatrix,a.placementViewportMatrix=me.viewportMatrix,a.collisionCircleArray=me.circles,delete this.collisionCircleArrays[a.bucketInstanceId]}}symbolFadeChange(a){return this.fadeDuration===0?1:(a-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(a){return Math.max(0,(this.transform.zoom-a)/1.5)}hasTransitions(a){return this.stale||a-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(a,p){let m=this.zoomAtLastRecencyCheck===p?1-this.zoomAdjustment(p):1;return this.zoomAtLastRecencyCheck=p,this.commitTime+this.fadeDuration*m>a}setStale(){this.stale=!0}}function Dp(b,a,p,m,v,_){m&&m.length!==0||(m=[0,0,0,0]);let C=m[0]-_r,P=m[1]-_r,O=m[2]-_r,D=m[3]-_r;b.emplaceBack(a?1:0,p?1:0,v||0,_||0,C,P),b.emplaceBack(a?1:0,p?1:0,v||0,_||0,O,P),b.emplaceBack(a?1:0,p?1:0,v||0,_||0,O,D),b.emplaceBack(a?1:0,p?1:0,v||0,_||0,C,D)}let hn=Math.pow(2,25),P0=Math.pow(2,24),O0=Math.pow(2,17),Sa=Math.pow(2,16),Ia=Math.pow(2,9),ER=Math.pow(2,8),Ha=Math.pow(2,1);function Ea(b){if(b.opacity===0&&!b.placed)return 0;if(b.opacity===1&&b.placed)return 4294967295;let a=b.placed?1:0,p=Math.floor(127*b.opacity);return p*hn+a*P0+p*O0+a*Sa+p*Ia+a*ER+p*Ha+a}let Lp=0;function _c(){return{isOccluded:(b,a,p)=>!1,getPitchedTextCorrection:(b,a,p)=>1,get useSpecialProjectionForSymbols(){return!1},projectTileCoordinates(b,a,p,m){throw new Error("Not implemented.")},translatePosition:(b,a,p,m)=>function(v,_,C,P,O=!1){if(!C[0]&&!C[1])return[0,0];let D=O?P==="map"?v.angle:0:P==="viewport"?-v.angle:0;if(D){let V=Math.sin(D),U=Math.cos(D);C=[C[0]*U-C[1]*V,C[0]*V+C[1]*U]}return[O?C[0]:jr(_,C[0],v.zoom),O?C[1]:jr(_,C[1],v.zoom)]}(b,a,p,m),getCircleRadiusCorrection:b=>1}}class wi{constructor(a){this._sortAcrossTiles=a.layout.get("symbol-z-order")!=="viewport-y"&&!a.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(a,p,m,v,_){let C=this._bucketParts;for(;this._currentTileIndex<a.length;)if(p.getBucketParts(C,v,a[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,_())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,C.sort((P,O)=>P.sortKey-O.sortKey));this._currentPartIndex<C.length;)if(p.placeLayerBucketPart(C[this._currentPartIndex],this._seenCrossTileIDs,m),this._currentPartIndex++,_())return!0;return!1}}class jf{constructor(a,p,m,v,_,C,P,O){this.placement=new wo(a,_c(),p,C,P,O),this._currentPlacementIndex=m.length-1,this._forceFullPlacement=v,this._showCollisionBoxes=_,this._done=!1}isDone(){return this._done}continuePlacement(a,p,m){let v=y.now(),_=()=>!this._forceFullPlacement&&y.now()-v>2;for(;this._currentPlacementIndex>=0;){let C=p[a[this._currentPlacementIndex]],P=this.placement.collisionIndex.transform.zoom;if(C.type==="symbol"&&(!C.minzoom||C.minzoom<=P)&&(!C.maxzoom||C.maxzoom>P)){if(this._inProgressLayer||(this._inProgressLayer=new wi(C)),this._inProgressLayer.continuePlacement(m[C.source],this.placement,this._showCollisionBoxes,C,_))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(a){return this.placement.commit(a),this.placement}}let Is=512/o.X/2;class hi{constructor(a,p,m){this.tileID=a,this.bucketInstanceId=m,this._symbolsByKey={};let v=new Map;for(let _=0;_<p.length;_++){let C=p.get(_),P=C.key,O=v.get(P);O?O.push(C):v.set(P,[C])}for(let[_,C]of v){let P={positions:C.map(O=>({x:Math.floor(O.anchorX*Is),y:Math.floor(O.anchorY*Is)})),crossTileIDs:C.map(O=>O.crossTileID)};if(P.positions.length>128){let O=new o.av(P.positions.length,16,Uint16Array);for(let{x:D,y:V}of P.positions)O.add(D,V);O.finish(),delete P.positions,P.index=O}this._symbolsByKey[_]=P}}getScaledCoordinates(a,p){let{x:m,y:v,z:_}=this.tileID.canonical,{x:C,y:P,z:O}=p.canonical,D=Is/Math.pow(2,O-_),V=(P*o.X+a.anchorY)*D,U=v*o.X*Is;return{x:Math.floor((C*o.X+a.anchorX)*D-m*o.X*Is),y:Math.floor(V-U)}}findMatches(a,p,m){let v=this.tileID.canonical.z<p.canonical.z?1:Math.pow(2,this.tileID.canonical.z-p.canonical.z);for(let _=0;_<a.length;_++){let C=a.get(_);if(C.crossTileID)continue;let P=this._symbolsByKey[C.key];if(!P)continue;let O=this.getScaledCoordinates(C,p);if(P.index){let D=P.index.range(O.x-v,O.y-v,O.x+v,O.y+v).sort();for(let V of D){let U=P.crossTileIDs[V];if(!m[U]){m[U]=!0,C.crossTileID=U;break}}}else if(P.positions)for(let D=0;D<P.positions.length;D++){let V=P.positions[D],U=P.crossTileIDs[D];if(Math.abs(V.x-O.x)<=v&&Math.abs(V.y-O.y)<=v&&!m[U]){m[U]=!0,C.crossTileID=U;break}}}}getCrossTileIDsLists(){return Object.values(this._symbolsByKey).map(({crossTileIDs:a})=>a)}}class jm{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class Es{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(a){let p=Math.round((a-this.lng)/360);if(p!==0)for(let m in this.indexes){let v=this.indexes[m],_={};for(let C in v){let P=v[C];P.tileID=P.tileID.unwrapTo(P.tileID.wrap+p),_[P.tileID.key]=P}this.indexes[m]=_}this.lng=a}addBucket(a,p,m){if(this.indexes[a.overscaledZ]&&this.indexes[a.overscaledZ][a.key]){if(this.indexes[a.overscaledZ][a.key].bucketInstanceId===p.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(a.overscaledZ,this.indexes[a.overscaledZ][a.key])}for(let _=0;_<p.symbolInstances.length;_++)p.symbolInstances.get(_).crossTileID=0;this.usedCrossTileIDs[a.overscaledZ]||(this.usedCrossTileIDs[a.overscaledZ]={});let v=this.usedCrossTileIDs[a.overscaledZ];for(let _ in this.indexes){let C=this.indexes[_];if(Number(_)>a.overscaledZ)for(let P in C){let O=C[P];O.tileID.isChildOf(a)&&O.findMatches(p.symbolInstances,a,v)}else{let P=C[a.scaledTo(Number(_)).key];P&&P.findMatches(p.symbolInstances,a,v)}}for(let _=0;_<p.symbolInstances.length;_++){let C=p.symbolInstances.get(_);C.crossTileID||(C.crossTileID=m.generate(),v[C.crossTileID]=!0)}return this.indexes[a.overscaledZ]===void 0&&(this.indexes[a.overscaledZ]={}),this.indexes[a.overscaledZ][a.key]=new hi(a,p.symbolInstances,p.bucketInstanceId),!0}removeBucketCrossTileIDs(a,p){for(let m of p.getCrossTileIDsLists())for(let v of m)delete this.usedCrossTileIDs[a][v]}removeStaleBuckets(a){let p=!1;for(let m in this.indexes){let v=this.indexes[m];for(let _ in v)a[v[_].bucketInstanceId]||(this.removeBucketCrossTileIDs(m,v[_]),delete v[_],p=!0)}return p}}class R0{constructor(){this.layerIndexes={},this.crossTileIDs=new jm,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(a,p,m){let v=this.layerIndexes[a.id];v===void 0&&(v=this.layerIndexes[a.id]=new Es);let _=!1,C={};v.handleWrapJump(m);for(let P of p){let O=P.getBucket(a);O&&a.id===O.layerIds[0]&&(O.bucketInstanceId||(O.bucketInstanceId=++this.maxBucketInstanceId),v.addBucket(P.tileID,O,this.crossTileIDs)&&(_=!0),C[O.bucketInstanceId]=!0)}return v.removeStaleBuckets(C)&&(_=!0),_}pruneUnusedLayers(a){let p={};a.forEach(m=>{p[m]=!0});for(let m in this.layerIndexes)p[m]||delete this.layerIndexes[m]}}let Ts=(b,a)=>o.t(b,a&&a.filter(p=>p.identifier!=="source.canvas")),TR=o.aw();class Bm extends o.E{constructor(a,p={}){super(),this._rtlPluginLoaded=()=>{for(let m in this.sourceCaches){let v=this.sourceCaches[m].getSource().type;v!=="vector"&&v!=="geojson"||this.sourceCaches[m].reload()}},this.map=a,this.dispatcher=new Te(Re(),a._getMapId()),this.dispatcher.registerMessageHandler("GG",(m,v)=>this.getGlyphs(m,v)),this.dispatcher.registerMessageHandler("GI",(m,v)=>this.getImages(m,v)),this.imageManager=new He,this.imageManager.setEventedParent(this),this.glyphManager=new ot(a._requestManager,p.localIdeographFontFamily),this.lineAtlas=new vt(256,512),this.crossTileSymbolIndex=new R0,this._spritesImagesIds={},this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new o.ax,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("SR",o.ay()),$a().on(nt,this._rtlPluginLoaded),this.on("data",m=>{if(m.dataType!=="source"||m.sourceDataType!=="metadata")return;let v=this.sourceCaches[m.sourceId];if(!v)return;let _=v.getSource();if(_&&_.vectorLayerIds)for(let C in this._layers){let P=this._layers[C];P.source===_.id&&this._validateLayer(P)}})}loadURL(a,p={},m){this.fire(new o.k("dataloading",{dataType:"style"})),p.validate=typeof p.validate!="boolean"||p.validate;let v=this.map._requestManager.transformRequest(a,"Style");this._loadStyleRequest=new AbortController;let _=this._loadStyleRequest;o.h(v,this._loadStyleRequest).then(C=>{this._loadStyleRequest=null,this._load(C.data,p,m)}).catch(C=>{this._loadStyleRequest=null,C&&!_.signal.aborted&&this.fire(new o.j(C))})}loadJSON(a,p={},m){this.fire(new o.k("dataloading",{dataType:"style"})),this._frameRequest=new AbortController,y.frameAsync(this._frameRequest).then(()=>{this._frameRequest=null,p.validate=p.validate!==!1,this._load(a,p,m)}).catch(()=>{})}loadEmpty(){this.fire(new o.k("dataloading",{dataType:"style"})),this._load(TR,{validate:!1})}_load(a,p,m){var v;let _=p.transformStyle?p.transformStyle(m,a):a;if(!p.validate||!Ts(this,o.u(_))){this._loaded=!0,this.stylesheet=_;for(let C in _.sources)this.addSource(C,_.sources[C],{validate:!1});_.sprite?this._loadSprite(_.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(_.glyphs),this._createLayers(),this.light=new je(this.stylesheet.light),this.sky=new ut(this.stylesheet.sky),this.map.setTerrain((v=this.stylesheet.terrain)!==null&&v!==void 0?v:null),this.fire(new o.k("data",{dataType:"style"})),this.fire(new o.k("style.load"))}}_createLayers(){let a=o.az(this.stylesheet.layers);this.dispatcher.broadcast("SL",a),this._order=a.map(p=>p.id),this._layers={},this._serializedLayers=null;for(let p of a){let m=o.aA(p);m.setEventedParent(this,{layer:{id:p.id}}),this._layers[p.id]=m}}_loadSprite(a,p=!1,m=void 0){let v;this.imageManager.setLoaded(!1),this._spriteRequest=new AbortController,function(_,C,P,O){return o._(this,void 0,void 0,function*(){let D=ye(_),V=P>1?"@2x":"",U={},Y={};for(let{id:ee,url:oe}of D){let le=C.transformRequest(Ne(oe,V,".json"),"SpriteJSON");U[ee]=o.h(le,O);let de=C.transformRequest(Ne(oe,V,".png"),"SpriteImage");Y[ee]=L.getImage(de,O)}return yield Promise.all([...Object.values(U),...Object.values(Y)]),function(ee,oe){return o._(this,void 0,void 0,function*(){let le={};for(let de in ee){le[de]={};let me=y.getImageCanvasContext((yield oe[de]).data),ge=(yield ee[de]).data;for(let ae in ge){let{width:Ie,height:Ae,x:qe,y:Je,sdf:ct,pixelRatio:Ct,stretchX:Lt,stretchY:xt,content:_t,textFitWidth:Wt,textFitHeight:mr}=ge[ae];le[de][ae]={data:null,pixelRatio:Ct,sdf:ct,stretchX:Lt,stretchY:xt,content:_t,textFitWidth:Wt,textFitHeight:mr,spriteData:{width:Ie,height:Ae,x:qe,y:Je,context:me}}}}return le})}(U,Y)})}(a,this.map._requestManager,this.map.getPixelRatio(),this._spriteRequest).then(_=>{if(this._spriteRequest=null,_)for(let C in _){this._spritesImagesIds[C]=[];let P=this._spritesImagesIds[C]?this._spritesImagesIds[C].filter(O=>!(O in _)):[];for(let O of P)this.imageManager.removeImage(O),this._changedImages[O]=!0;for(let O in _[C]){let D=C==="default"?O:`${C}:${O}`;this._spritesImagesIds[C].push(D),D in this.imageManager.images?this.imageManager.updateImage(D,_[C][O],!1):this.imageManager.addImage(D,_[C][O]),p&&(this._changedImages[D]=!0)}}}).catch(_=>{this._spriteRequest=null,v=_,this.fire(new o.j(v))}).finally(()=>{this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),p&&(this._changed=!0),this.dispatcher.broadcast("SI",this._availableImages),this.fire(new o.k("data",{dataType:"style"})),m&&m(v)})}_unloadSprite(){for(let a of Object.values(this._spritesImagesIds).flat())this.imageManager.removeImage(a),this._changedImages[a]=!0;this._spritesImagesIds={},this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new o.k("data",{dataType:"style"}))}_validateLayer(a){let p=this.sourceCaches[a.source];if(!p)return;let m=a.sourceLayer;if(!m)return;let v=p.getSource();(v.type==="geojson"||v.vectorLayerIds&&v.vectorLayerIds.indexOf(m)===-1)&&this.fire(new o.j(new Error(`Source layer "${m}" does not exist on source "${v.id}" as specified by style layer "${a.id}".`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(let a in this.sourceCaches)if(!this.sourceCaches[a].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeByIds(a,p=!1){let m=this._serializedAllLayers();if(!a||a.length===0)return Object.values(p?o.aB(m):m);let v=[];for(let _ of a)if(m[_]){let C=p?o.aB(m[_]):m[_];v.push(C)}return v}_serializedAllLayers(){let a=this._serializedLayers;if(a)return a;a=this._serializedLayers={};let p=Object.keys(this._layers);for(let m of p){let v=this._layers[m];v.type!=="custom"&&(a[m]=v.serialize())}return a}hasTransitions(){if(this.light&&this.light.hasTransition()||this.sky&&this.sky.hasTransition())return!0;for(let a in this.sourceCaches)if(this.sourceCaches[a].hasTransition())return!0;for(let a in this._layers)if(this._layers[a].hasTransition())return!0;return!1}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading.")}update(a){if(!this._loaded)return;let p=this._changed;if(p){let v=Object.keys(this._updatedLayers),_=Object.keys(this._removedLayers);(v.length||_.length)&&this._updateWorkerLayers(v,_);for(let C in this._updatedSources){let P=this._updatedSources[C];if(P==="reload")this._reloadSource(C);else{if(P!=="clear")throw new Error(`Invalid action ${P}`);this._clearSource(C)}}this._updateTilesForChangedImages(),this._updateTilesForChangedGlyphs();for(let C in this._updatedPaintProps)this._layers[C].updateTransitions(a);this.light.updateTransitions(a),this.sky.updateTransitions(a),this._resetUpdates()}let m={};for(let v in this.sourceCaches){let _=this.sourceCaches[v];m[v]=_.used,_.used=!1}for(let v of this._order){let _=this._layers[v];_.recalculate(a,this._availableImages),!_.isHidden(a.zoom)&&_.source&&(this.sourceCaches[_.source].used=!0)}for(let v in m){let _=this.sourceCaches[v];!!m[v]!=!!_.used&&_.fire(new o.k("data",{sourceDataType:"visibility",dataType:"source",sourceId:v}))}this.light.recalculate(a),this.sky.recalculate(a),this.z=a.zoom,p&&this.fire(new o.k("data",{dataType:"style"}))}_updateTilesForChangedImages(){let a=Object.keys(this._changedImages);if(a.length){for(let p in this.sourceCaches)this.sourceCaches[p].reloadTilesForDependencies(["icons","patterns"],a);this._changedImages={}}}_updateTilesForChangedGlyphs(){if(this._glyphsDidChange){for(let a in this.sourceCaches)this.sourceCaches[a].reloadTilesForDependencies(["glyphs"],[""]);this._glyphsDidChange=!1}}_updateWorkerLayers(a,p){this.dispatcher.broadcast("UL",{layers:this._serializeByIds(a,!1),removedIds:p})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={},this._glyphsDidChange=!1}setState(a,p={}){var m;this._checkLoaded();let v=this.serialize();if(a=p.transformStyle?p.transformStyle(v,a):a,((m=p.validate)===null||m===void 0||m)&&Ts(this,o.u(a)))return!1;(a=o.aB(a)).layers=o.az(a.layers);let _=o.aC(v,a),C=this._getOperationsToPerform(_);if(C.unimplemented.length>0)throw new Error(`Unimplemented: ${C.unimplemented.join(", ")}.`);if(C.operations.length===0)return!1;for(let P of C.operations)P();return this.stylesheet=a,this._serializedLayers=null,!0}_getOperationsToPerform(a){let p=[],m=[];for(let v of a)switch(v.command){case"setCenter":case"setZoom":case"setBearing":case"setPitch":continue;case"addLayer":p.push(()=>this.addLayer.apply(this,v.args));break;case"removeLayer":p.push(()=>this.removeLayer.apply(this,v.args));break;case"setPaintProperty":p.push(()=>this.setPaintProperty.apply(this,v.args));break;case"setLayoutProperty":p.push(()=>this.setLayoutProperty.apply(this,v.args));break;case"setFilter":p.push(()=>this.setFilter.apply(this,v.args));break;case"addSource":p.push(()=>this.addSource.apply(this,v.args));break;case"removeSource":p.push(()=>this.removeSource.apply(this,v.args));break;case"setLayerZoomRange":p.push(()=>this.setLayerZoomRange.apply(this,v.args));break;case"setLight":p.push(()=>this.setLight.apply(this,v.args));break;case"setGeoJSONSourceData":p.push(()=>this.setGeoJSONSourceData.apply(this,v.args));break;case"setGlyphs":p.push(()=>this.setGlyphs.apply(this,v.args));break;case"setSprite":p.push(()=>this.setSprite.apply(this,v.args));break;case"setSky":p.push(()=>this.setSky.apply(this,v.args));break;case"setTerrain":p.push(()=>this.map.setTerrain.apply(this,v.args));break;case"setTransition":p.push(()=>{});break;default:m.push(v.command);}return{operations:p,unimplemented:m}}addImage(a,p){if(this.getImage(a))return this.fire(new o.j(new Error(`An image named "${a}" already exists.`)));this.imageManager.addImage(a,p),this._afterImageUpdated(a)}updateImage(a,p){this.imageManager.updateImage(a,p)}getImage(a){return this.imageManager.getImage(a)}removeImage(a){if(!this.getImage(a))return this.fire(new o.j(new Error(`An image named "${a}" does not exist.`)));this.imageManager.removeImage(a),this._afterImageUpdated(a)}_afterImageUpdated(a){this._availableImages=this.imageManager.listImages(),this._changedImages[a]=!0,this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new o.k("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(a,p,m={}){if(this._checkLoaded(),this.sourceCaches[a]!==void 0)throw new Error(`Source "${a}" already exists.`);if(!p.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(p).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(p.type)>=0&&this._validate(o.u.source,`sources.${a}`,p,null,m))return;this.map&&this.map._collectResourceTiming&&(p.collectResourceTiming=!0);let v=this.sourceCaches[a]=new sr(a,p,this.dispatcher);v.style=this,v.setEventedParent(this,()=>({isSourceLoaded:v.loaded(),source:v.serialize(),sourceId:a})),v.onAdd(this.map),this._changed=!0}removeSource(a){if(this._checkLoaded(),this.sourceCaches[a]===void 0)throw new Error("There is no source with this ID");for(let m in this._layers)if(this._layers[m].source===a)return this.fire(new o.j(new Error(`Source "${a}" cannot be removed while layer "${m}" is using it.`)));let p=this.sourceCaches[a];delete this.sourceCaches[a],delete this._updatedSources[a],p.fire(new o.k("data",{sourceDataType:"metadata",dataType:"source",sourceId:a})),p.setEventedParent(null),p.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(a,p){if(this._checkLoaded(),this.sourceCaches[a]===void 0)throw new Error(`There is no source with this ID=${a}`);let m=this.sourceCaches[a].getSource();if(m.type!=="geojson")throw new Error(`geojsonSource.type is ${m.type}, which is !== 'geojson`);m.setData(p),this._changed=!0}getSource(a){return this.sourceCaches[a]&&this.sourceCaches[a].getSource()}addLayer(a,p,m={}){this._checkLoaded();let v=a.id;if(this.getLayer(v))return void this.fire(new o.j(new Error(`Layer "${v}" already exists on this map.`)));let _;if(a.type==="custom"){if(Ts(this,o.aD(a)))return;_=o.aA(a)}else{if("source"in a&&typeof a.source=="object"&&(this.addSource(v,a.source),a=o.aB(a),a=o.e(a,{source:v})),this._validate(o.u.layer,`layers.${v}`,a,{arrayIndex:-1},m))return;_=o.aA(a),this._validateLayer(_),_.setEventedParent(this,{layer:{id:v}})}let C=p?this._order.indexOf(p):this._order.length;if(p&&C===-1)this.fire(new o.j(new Error(`Cannot add layer "${v}" before non-existing layer "${p}".`)));else{if(this._order.splice(C,0,v),this._layerOrderChanged=!0,this._layers[v]=_,this._removedLayers[v]&&_.source&&_.type!=="custom"){let P=this._removedLayers[v];delete this._removedLayers[v],P.type!==_.type?this._updatedSources[_.source]="clear":(this._updatedSources[_.source]="reload",this.sourceCaches[_.source].pause())}this._updateLayer(_),_.onAdd&&_.onAdd(this.map)}}moveLayer(a,p){if(this._checkLoaded(),this._changed=!0,!this._layers[a])return void this.fire(new o.j(new Error(`The layer '${a}' does not exist in the map's style and cannot be moved.`)));if(a===p)return;let m=this._order.indexOf(a);this._order.splice(m,1);let v=p?this._order.indexOf(p):this._order.length;p&&v===-1?this.fire(new o.j(new Error(`Cannot move layer "${a}" before non-existing layer "${p}".`))):(this._order.splice(v,0,a),this._layerOrderChanged=!0)}removeLayer(a){this._checkLoaded();let p=this._layers[a];if(!p)return void this.fire(new o.j(new Error(`Cannot remove non-existing layer "${a}".`)));p.setEventedParent(null);let m=this._order.indexOf(a);this._order.splice(m,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[a]=p,delete this._layers[a],this._serializedLayers&&delete this._serializedLayers[a],delete this._updatedLayers[a],delete this._updatedPaintProps[a],p.onRemove&&p.onRemove(this.map)}getLayer(a){return this._layers[a]}getLayersOrder(){return[...this._order]}hasLayer(a){return a in this._layers}setLayerZoomRange(a,p,m){this._checkLoaded();let v=this.getLayer(a);v?v.minzoom===p&&v.maxzoom===m||(p!=null&&(v.minzoom=p),m!=null&&(v.maxzoom=m),this._updateLayer(v)):this.fire(new o.j(new Error(`Cannot set the zoom range of non-existing layer "${a}".`)))}setFilter(a,p,m={}){this._checkLoaded();let v=this.getLayer(a);if(v){if(!o.aE(v.filter,p))return p==null?(v.filter=void 0,void this._updateLayer(v)):void(this._validate(o.u.filter,`layers.${v.id}.filter`,p,null,m)||(v.filter=o.aB(p),this._updateLayer(v)))}else this.fire(new o.j(new Error(`Cannot filter non-existing layer "${a}".`)))}getFilter(a){return o.aB(this.getLayer(a).filter)}setLayoutProperty(a,p,m,v={}){this._checkLoaded();let _=this.getLayer(a);_?o.aE(_.getLayoutProperty(p),m)||(_.setLayoutProperty(p,m,v),this._updateLayer(_)):this.fire(new o.j(new Error(`Cannot style non-existing layer "${a}".`)))}getLayoutProperty(a,p){let m=this.getLayer(a);if(m)return m.getLayoutProperty(p);this.fire(new o.j(new Error(`Cannot get style of non-existing layer "${a}".`)))}setPaintProperty(a,p,m,v={}){this._checkLoaded();let _=this.getLayer(a);_?o.aE(_.getPaintProperty(p),m)||(_.setPaintProperty(p,m,v)&&this._updateLayer(_),this._changed=!0,this._updatedPaintProps[a]=!0,this._serializedLayers=null):this.fire(new o.j(new Error(`Cannot style non-existing layer "${a}".`)))}getPaintProperty(a,p){return this.getLayer(a).getPaintProperty(p)}setFeatureState(a,p){this._checkLoaded();let m=a.source,v=a.sourceLayer,_=this.sourceCaches[m];if(_===void 0)return void this.fire(new o.j(new Error(`The source '${m}' does not exist in the map's style.`)));let C=_.getSource().type;C==="geojson"&&v?this.fire(new o.j(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):C!=="vector"||v?(a.id===void 0&&this.fire(new o.j(new Error("The feature id parameter must be provided."))),_.setFeatureState(v,a.id,p)):this.fire(new o.j(new Error("The sourceLayer parameter must be provided for vector source types.")))}removeFeatureState(a,p){this._checkLoaded();let m=a.source,v=this.sourceCaches[m];if(v===void 0)return void this.fire(new o.j(new Error(`The source '${m}' does not exist in the map's style.`)));let _=v.getSource().type,C=_==="vector"?a.sourceLayer:void 0;_!=="vector"||C?p&&typeof a.id!="string"&&typeof a.id!="number"?this.fire(new o.j(new Error("A feature id is required to remove its specific state property."))):v.removeFeatureState(C,a.id,p):this.fire(new o.j(new Error("The sourceLayer parameter must be provided for vector source types.")))}getFeatureState(a){this._checkLoaded();let p=a.source,m=a.sourceLayer,v=this.sourceCaches[p];if(v!==void 0)return v.getSource().type!=="vector"||m?(a.id===void 0&&this.fire(new o.j(new Error("The feature id parameter must be provided."))),v.getFeatureState(m,a.id)):void this.fire(new o.j(new Error("The sourceLayer parameter must be provided for vector source types.")));this.fire(new o.j(new Error(`The source '${p}' does not exist in the map's style.`)))}getTransition(){return o.e({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){if(!this._loaded)return;let a=o.aF(this.sourceCaches,_=>_.serialize()),p=this._serializeByIds(this._order,!0),m=this.map.getTerrain()||void 0,v=this.stylesheet;return o.aG({version:v.version,name:v.name,metadata:v.metadata,light:v.light,sky:v.sky,center:v.center,zoom:v.zoom,bearing:v.bearing,pitch:v.pitch,sprite:v.sprite,glyphs:v.glyphs,transition:v.transition,sources:a,layers:p,terrain:m},_=>_!==void 0)}_updateLayer(a){this._updatedLayers[a.id]=!0,a.source&&!this._updatedSources[a.source]&&this.sourceCaches[a.source].getSource().type!=="raster"&&(this._updatedSources[a.source]="reload",this.sourceCaches[a.source].pause()),this._serializedLayers=null,this._changed=!0}_flattenAndSortRenderedFeatures(a){let p=C=>this._layers[C].type==="fill-extrusion",m={},v=[];for(let C=this._order.length-1;C>=0;C--){let P=this._order[C];if(p(P)){m[P]=C;for(let O of a){let D=O[P];if(D)for(let V of D)v.push(V)}}}v.sort((C,P)=>P.intersectionZ-C.intersectionZ);let _=[];for(let C=this._order.length-1;C>=0;C--){let P=this._order[C];if(p(P))for(let O=v.length-1;O>=0;O--){let D=v[O].feature;if(m[D.layer.id]<C)break;_.push(D),v.pop()}else for(let O of a){let D=O[P];if(D)for(let V of D)_.push(V.feature)}}return _}queryRenderedFeatures(a,p,m){p&&p.filter&&this._validate(o.u.filter,"queryRenderedFeatures.filter",p.filter,null,p);let v={};if(p&&p.layers){if(!Array.isArray(p.layers))return this.fire(new o.j(new Error("parameters.layers must be an Array."))),[];for(let P of p.layers){let O=this._layers[P];if(!O)return this.fire(new o.j(new Error(`The layer '${P}' does not exist in the map's style and cannot be queried for features.`))),[];v[O.source]=!0}}let _=[];p.availableImages=this._availableImages;let C=this._serializedAllLayers();for(let P in this.sourceCaches)p.layers&&!v[P]||_.push(wt(this.sourceCaches[P],this._layers,C,a,p,m));return this.placement&&_.push(function(P,O,D,V,U,Y,ee){let oe={},le=Y.queryRenderedSymbols(V),de=[];for(let me of Object.keys(le).map(Number))de.push(ee[me]);de.sort(St);for(let me of de){let ge=me.featureIndex.lookupSymbolFeatures(le[me.bucketInstanceId],O,me.bucketIndex,me.sourceLayerIndex,U.filter,U.layers,U.availableImages,P);for(let ae in ge){let Ie=oe[ae]=oe[ae]||[],Ae=ge[ae];Ae.sort((qe,Je)=>{let ct=me.featureSortOrder;if(ct){let Ct=ct.indexOf(qe.featureIndex);return ct.indexOf(Je.featureIndex)-Ct}return Je.featureIndex-qe.featureIndex});for(let qe of Ae)Ie.push(qe)}}for(let me in oe)oe[me].forEach(ge=>{let ae=ge.feature,Ie=D[P[me].source].getFeatureState(ae.layer["source-layer"],ae.id);ae.source=ae.layer.source,ae.layer["source-layer"]&&(ae.sourceLayer=ae.layer["source-layer"]),ae.state=Ie});return oe}(this._layers,C,this.sourceCaches,a,p,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(_)}querySourceFeatures(a,p){p&&p.filter&&this._validate(o.u.filter,"querySourceFeatures.filter",p.filter,null,p);let m=this.sourceCaches[a];return m?function(v,_){let C=v.getRenderableIds().map(D=>v.getTileByID(D)),P=[],O={};for(let D=0;D<C.length;D++){let V=C[D],U=V.tileID.canonical.key;O[U]||(O[U]=!0,V.querySourceFeatures(P,_))}return P}(m,p):[]}getLight(){return this.light.getLight()}setLight(a,p={}){this._checkLoaded();let m=this.light.getLight(),v=!1;for(let C in a)if(!o.aE(a[C],m[C])){v=!0;break}if(!v)return;let _={now:y.now(),transition:o.e({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(a,p),this.light.updateTransitions(_)}getSky(){var a;return(a=this.stylesheet)===null||a===void 0?void 0:a.sky}setSky(a,p={}){let m=this.getSky(),v=!1;if(!a&&!m)return;if(a&&!m)v=!0;else if(!a&&m)v=!0;else for(let C in a)if(!o.aE(a[C],m[C])){v=!0;break}if(!v)return;let _={now:y.now(),transition:o.e({duration:300,delay:0},this.stylesheet.transition)};this.stylesheet.sky=a,this.sky.setSky(a,p),this.sky.updateTransitions(_)}_validate(a,p,m,v,_={}){return(!_||_.validate!==!1)&&Ts(this,a.call(o.u,o.e({key:p,style:this.serialize(),value:m,styleSpec:o.v},v)))}_remove(a=!0){this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._loadStyleRequest&&(this._loadStyleRequest.abort(),this._loadStyleRequest=null),this._spriteRequest&&(this._spriteRequest.abort(),this._spriteRequest=null),$a().off(nt,this._rtlPluginLoaded);for(let p in this._layers)this._layers[p].setEventedParent(null);for(let p in this.sourceCaches){let m=this.sourceCaches[p];m.setEventedParent(null),m.onRemove(this.map)}this.imageManager.setEventedParent(null),this.setEventedParent(null),a&&this.dispatcher.broadcast("RM",void 0),this.dispatcher.remove(a)}_clearSource(a){this.sourceCaches[a].clearTiles()}_reloadSource(a){this.sourceCaches[a].resume(),this.sourceCaches[a].reload()}_updateSources(a){for(let p in this.sourceCaches)this.sourceCaches[p].update(a,this.map.terrain)}_generateCollisionBoxes(){for(let a in this.sourceCaches)this._reloadSource(a)}_updatePlacement(a,p,m,v,_=!1){let C=!1,P=!1,O={};for(let D of this._order){let V=this._layers[D];if(V.type!=="symbol")continue;if(!O[V.source]){let Y=this.sourceCaches[V.source];O[V.source]=Y.getRenderableIds(!0).map(ee=>Y.getTileByID(ee)).sort((ee,oe)=>oe.tileID.overscaledZ-ee.tileID.overscaledZ||(ee.tileID.isLessThan(oe.tileID)?-1:1))}let U=this.crossTileSymbolIndex.addLayer(V,O[V.source],a.center.lng);C=C||U}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((_=_||this._layerOrderChanged||m===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(y.now(),a.zoom))&&(this.pauseablePlacement=new jf(a,this.map.terrain,this._order,_,p,m,v,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,O),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(y.now()),P=!0),C&&this.pauseablePlacement.placement.setStale()),P||C)for(let D of this._order){let V=this._layers[D];V.type==="symbol"&&this.placement.updateLayerOpacities(V,O[V.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(y.now())}_releaseSymbolFadeTiles(){for(let a in this.sourceCaches)this.sourceCaches[a].releaseSymbolFadeTiles()}getImages(a,p){return o._(this,void 0,void 0,function*(){let m=yield this.imageManager.getImages(p.icons);this._updateTilesForChangedImages();let v=this.sourceCaches[p.source];return v&&v.setDependencies(p.tileID.key,p.type,p.icons),m})}getGlyphs(a,p){return o._(this,void 0,void 0,function*(){let m=yield this.glyphManager.getGlyphs(p.stacks),v=this.sourceCaches[p.source];return v&&v.setDependencies(p.tileID.key,p.type,[""]),m})}getGlyphsUrl(){return this.stylesheet.glyphs||null}setGlyphs(a,p={}){this._checkLoaded(),a&&this._validate(o.u.glyphs,"glyphs",a,null,p)||(this._glyphsDidChange=!0,this.stylesheet.glyphs=a,this.glyphManager.entries={},this.glyphManager.setURL(a))}addSprite(a,p,m={},v){this._checkLoaded();let _=[{id:a,url:p}],C=[...ye(this.stylesheet.sprite),..._];this._validate(o.u.sprite,"sprite",C,null,m)||(this.stylesheet.sprite=C,this._loadSprite(_,!0,v))}removeSprite(a){this._checkLoaded();let p=ye(this.stylesheet.sprite);if(p.find(m=>m.id===a)){if(this._spritesImagesIds[a])for(let m of this._spritesImagesIds[a])this.imageManager.removeImage(m),this._changedImages[m]=!0;p.splice(p.findIndex(m=>m.id===a),1),this.stylesheet.sprite=p.length>0?p:void 0,delete this._spritesImagesIds[a],this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new o.k("data",{dataType:"style"}))}else this.fire(new o.j(new Error(`Sprite "${a}" doesn't exists on this map.`)))}getSprite(){return ye(this.stylesheet.sprite)}setSprite(a,p={},m){this._checkLoaded(),a&&this._validate(o.u.sprite,"sprite",a,null,p)||(this.stylesheet.sprite=a,a?this._loadSprite(a,!0,m):(this._unloadSprite(),m&&m(null)))}}var bc=o.Y([{name:"a_pos",type:"Int16",components:2}]);let _u={prelude:on(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}
#ifdef TERRAIN3D
uniform sampler2D u_terrain;uniform float u_terrain_dim;uniform mat4 u_terrain_matrix;uniform vec4 u_terrain_unpack;uniform float u_terrain_exaggeration;uniform highp sampler2D u_depth;
#endif
const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitShifts=vec4(1.)/bitSh;highp float unpack(highp vec4 color) {return dot(color,bitShifts);}highp float depthOpacity(vec3 frag) {
#ifdef TERRAIN3D
highp float d=unpack(texture2D(u_depth,frag.xy*0.5+0.5))+0.0001-frag.z;return 1.0-max(0.0,min(1.0,-d*500.0));
#else
return 1.0;
#endif
}float calculate_visibility(vec4 pos) {
#ifdef TERRAIN3D
vec3 frag=pos.xyz/pos.w;highp float d=depthOpacity(frag);if (d > 0.95) return 1.0;return (d+depthOpacity(frag+vec3(0.0,0.01,0.0)))/2.0;
#else
return 1.0;
#endif
}float ele(vec2 pos) {
#ifdef TERRAIN3D
vec4 rgb=(texture2D(u_terrain,pos)*255.0)*u_terrain_unpack;return rgb.r+rgb.g+rgb.b-u_terrain_unpack.a;
#else
return 0.0;
#endif
}float get_elevation(vec2 pos) {
#ifdef TERRAIN3D
vec2 coord=(u_terrain_matrix*vec4(pos,0.0,1.0)).xy*u_terrain_dim+1.0;vec2 f=fract(coord);vec2 c=(floor(coord)+0.5)/(u_terrain_dim+2.0);float d=1.0/(u_terrain_dim+2.0);float tl=ele(c);float tr=ele(c+vec2(d,0.0));float bl=ele(c+vec2(0.0,d));float br=ele(c+vec2(d,d));float elevation=mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);return elevation*u_terrain_exaggeration;
#else
return 0.0;
#endif
}`),background:on(`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),backgroundPattern:on(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),circle:on(`varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=v_visibility*opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);float ele=get_elevation(circle_center);v_visibility=calculate_visibility(u_matrix*vec4(circle_center,ele,1.0));if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,ele,1);} else {gl_Position=u_matrix*vec4(circle_center,ele,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),clippingMask:on("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:on(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,get_elevation(floor(a_pos*0.5)),1);gl_Position=u_matrix*pos;}`),heatmapTexture:on(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),collisionBox:on("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_anchor_pos;attribute vec2 a_placed;attribute vec2 a_box_real;uniform mat4 u_matrix;uniform vec2 u_pixel_extrude_scale;varying float v_placed;varying float v_notUsed;vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return u_matrix*vec4(posInTile,elevation,1.0);}void main() {gl_Position=projectTileWithElevation(a_anchor_pos,get_elevation(a_anchor_pos));gl_Position.xy=((a_box_real+0.5)*u_pixel_extrude_scale*2.0-1.0)*vec2(1.0,-1.0)*gl_Position.w;if (gl_Position.z/gl_Position.w < 1.1) {gl_Position.z=0.5;}v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:on("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:on("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,get_elevation(a_pos),1);}"),fill:on(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`),fillOutline:on(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),fillOutlinePattern:on(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),fillPattern:on(`#ifdef GL_ES
precision highp float;
#endif
uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),fillExtrusion:on(`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;
#ifdef TERRAIN3D
attribute vec2 a_centroid;
#endif
varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),fillExtrusionPattern:on(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;
#ifdef TERRAIN3D
attribute vec2 a_centroid;
#endif
varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),hillshadePrepare:on(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:on(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),line:on(`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),lineGradient:on(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),linePattern:on(`#ifdef GL_ES
precision highp float;
#endif
uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`),lineSDF:on(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`),raster:on(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),symbolIcon:on(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform vec2 u_translation;uniform float u_pitched_scale;varying vec2 v_tex;varying float v_fade_opacity;vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return u_matrix*vec4(posInTile,elevation,1.0);}
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}gl_Position=finalPos;v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float visibility=calculate_visibility(projectedPoint);v_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));}`),symbolSDF:on(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float inner_edge=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);inner_edge=inner_edge+gamma*gamma_scale;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(inner_edge-gamma_scaled,inner_edge+gamma_scaled,dist);if (u_is_halo) {lowp float halo_edge=(6.0-halo_width/fontScale)/SDF_PX;alpha=min(smoothstep(halo_edge-gamma_scaled,halo_edge+gamma_scaled,dist),1.0-alpha);}gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_translation;uniform float u_pitched_scale;varying vec2 v_data0;varying vec3 v_data1;vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return u_matrix*vec4(posInTile,elevation,1.0);}
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}float gamma_scale=finalPos.w;gl_Position=finalPos;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),symbolTextAndIcon:on(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform vec2 u_translation;uniform float u_pitched_scale;varying vec4 v_data0;varying vec4 v_data1;vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return u_matrix*vec4(posInTile,elevation,1.0);}
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}float gamma_scale=finalPos.w;gl_Position=finalPos;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`),terrain:on("uniform sampler2D u_texture;uniform vec4 u_fog_color;uniform vec4 u_horizon_color;uniform float u_fog_ground_blend;uniform float u_fog_ground_blend_opacity;uniform float u_horizon_fog_blend;varying vec2 v_texture_pos;varying float v_fog_depth;const float gamma=2.2;vec4 gammaToLinear(vec4 color) {return pow(color,vec4(gamma));}vec4 linearToGamma(vec4 color) {return pow(color,vec4(1.0/gamma));}void main() {vec4 surface_color=texture2D(u_texture,v_texture_pos);if (v_fog_depth > u_fog_ground_blend) {vec4 surface_color_linear=gammaToLinear(surface_color);float blend_color=smoothstep(0.0,1.0,max((v_fog_depth-u_horizon_fog_blend)/(1.0-u_horizon_fog_blend),0.0));vec4 fog_horizon_color_linear=mix(gammaToLinear(u_fog_color),gammaToLinear(u_horizon_color),blend_color);float factor_fog=max(v_fog_depth-u_fog_ground_blend,0.0)/(1.0-u_fog_ground_blend);gl_FragColor=linearToGamma(mix(surface_color_linear,fog_horizon_color_linear,pow(factor_fog,2.0)*u_fog_ground_blend_opacity));} else {gl_FragColor=surface_color;}}","attribute vec3 a_pos3d;uniform mat4 u_matrix;uniform mat4 u_fog_matrix;uniform float u_ele_delta;varying vec2 v_texture_pos;varying float v_fog_depth;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/8192.0;gl_Position=u_matrix*vec4(a_pos3d.xy,ele-ele_delta,1.0);vec4 pos=u_fog_matrix*vec4(a_pos3d.xy,ele,1.0);v_fog_depth=pos.z/pos.w*0.5+0.5;}"),terrainDepth:on("varying float v_depth;const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitMsk=vec4(0.,vec3(1./256.0));highp vec4 pack(highp float value) {highp vec4 comp=fract(value*bitSh);comp-=comp.xxyz*bitMsk;return comp;}void main() {gl_FragColor=pack(v_depth);}","attribute vec3 a_pos3d;uniform mat4 u_matrix;uniform float u_ele_delta;varying float v_depth;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;gl_Position=u_matrix*vec4(a_pos3d.xy,ele-ele_delta,1.0);v_depth=gl_Position.z/gl_Position.w;}"),terrainCoords:on("precision mediump float;uniform sampler2D u_texture;uniform float u_terrain_coords_id;varying vec2 v_texture_pos;void main() {vec4 rgba=texture2D(u_texture,v_texture_pos);gl_FragColor=vec4(rgba.r,rgba.g,rgba.b,u_terrain_coords_id);}","attribute vec3 a_pos3d;uniform mat4 u_matrix;uniform float u_ele_delta;varying vec2 v_texture_pos;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/8192.0;gl_Position=u_matrix*vec4(a_pos3d.xy,ele-ele_delta,1.0);}"),sky:on("uniform vec4 u_sky_color;uniform vec4 u_horizon_color;uniform float u_horizon;uniform float u_sky_horizon_blend;void main() {float y=gl_FragCoord.y;if (y > u_horizon) {float blend=y-u_horizon;if (blend < u_sky_horizon_blend) {gl_FragColor=mix(u_sky_color,u_horizon_color,pow(1.0-blend/u_sky_horizon_blend,2.0));} else {gl_FragColor=u_sky_color;}}}","attribute vec2 a_pos;void main() {gl_Position=vec4(a_pos,1.0,1.0);}")};function on(b,a){let p=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,m=a.match(/attribute ([\w]+) ([\w]+)/g),v=b.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),_=a.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),C=_?_.concat(v):v,P={};return{fragmentSource:b=b.replace(p,(O,D,V,U,Y)=>(P[Y]=!0,D==="define"?`
#ifndef HAS_UNIFORM_u_${Y}
varying ${V} ${U} ${Y};
#else
uniform ${V} ${U} u_${Y};
#endif
`:`
#ifdef HAS_UNIFORM_u_${Y}
    ${V} ${U} ${Y} = u_${Y};
#endif
`)),vertexSource:a=a.replace(p,(O,D,V,U,Y)=>{let ee=U==="float"?"vec2":"vec4",oe=Y.match(/color/)?"color":ee;return P[Y]?D==="define"?`
#ifndef HAS_UNIFORM_u_${Y}
uniform lowp float u_${Y}_t;
attribute ${V} ${ee} a_${Y};
varying ${V} ${U} ${Y};
#else
uniform ${V} ${U} u_${Y};
#endif
`:oe==="vec4"?`
#ifndef HAS_UNIFORM_u_${Y}
    ${Y} = a_${Y};
#else
    ${V} ${U} ${Y} = u_${Y};
#endif
`:`
#ifndef HAS_UNIFORM_u_${Y}
    ${Y} = unpack_mix_${oe}(a_${Y}, u_${Y}_t);
#else
    ${V} ${U} ${Y} = u_${Y};
#endif
`:D==="define"?`
#ifndef HAS_UNIFORM_u_${Y}
uniform lowp float u_${Y}_t;
attribute ${V} ${ee} a_${Y};
#else
uniform ${V} ${U} u_${Y};
#endif
`:oe==="vec4"?`
#ifndef HAS_UNIFORM_u_${Y}
    ${V} ${U} ${Y} = a_${Y};
#else
    ${V} ${U} ${Y} = u_${Y};
#endif
`:`
#ifndef HAS_UNIFORM_u_${Y}
    ${V} ${U} ${Y} = unpack_mix_${oe}(a_${Y}, u_${Y}_t);
#else
    ${V} ${U} ${Y} = u_${Y};
#endif
`}),staticAttributes:m,staticUniforms:C}}class q0{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(a,p,m,v,_,C,P,O,D){this.context=a;let V=this.boundPaintVertexBuffers.length!==v.length;for(let U=0;!V&&U<v.length;U++)this.boundPaintVertexBuffers[U]!==v[U]&&(V=!0);!this.vao||this.boundProgram!==p||this.boundLayoutVertexBuffer!==m||V||this.boundIndexBuffer!==_||this.boundVertexOffset!==C||this.boundDynamicVertexBuffer!==P||this.boundDynamicVertexBuffer2!==O||this.boundDynamicVertexBuffer3!==D?this.freshBind(p,m,v,_,C,P,O,D):(a.bindVertexArray.set(this.vao),P&&P.bind(),_&&_.dynamicDraw&&_.bind(),O&&O.bind(),D&&D.bind())}freshBind(a,p,m,v,_,C,P,O){let D=a.numAttributes,V=this.context,U=V.gl;this.vao&&this.destroy(),this.vao=V.createVertexArray(),V.bindVertexArray.set(this.vao),this.boundProgram=a,this.boundLayoutVertexBuffer=p,this.boundPaintVertexBuffers=m,this.boundIndexBuffer=v,this.boundVertexOffset=_,this.boundDynamicVertexBuffer=C,this.boundDynamicVertexBuffer2=P,this.boundDynamicVertexBuffer3=O,p.enableAttributes(U,a);for(let Y of m)Y.enableAttributes(U,a);C&&C.enableAttributes(U,a),P&&P.enableAttributes(U,a),O&&O.enableAttributes(U,a),p.bind(),p.setVertexAttribPointers(U,a,_);for(let Y of m)Y.bind(),Y.setVertexAttribPointers(U,a,_);C&&(C.bind(),C.setVertexAttribPointers(U,a,_)),v&&v.bind(),P&&(P.bind(),P.setVertexAttribPointers(U,a,_)),O&&(O.bind(),O.setVertexAttribPointers(U,a,_)),V.currentNumAttributes=D}destroy(){this.vao&&(this.context.deleteVertexArray(this.vao),this.vao=null)}}let N0=(b,a,p,m,v)=>({u_matrix:b,u_texture:0,u_ele_delta:a,u_fog_matrix:p,u_fog_color:m?m.properties.get("fog-color"):o.aM.white,u_fog_ground_blend:m?m.properties.get("fog-ground-blend"):1,u_fog_ground_blend_opacity:m?m.calculateFogBlendOpacity(v):0,u_horizon_color:m?m.properties.get("horizon-color"):o.aM.white,u_horizon_fog_blend:m?m.properties.get("horizon-fog-blend"):1});function zp(b){let a=[];for(let p=0;p<b.length;p++){if(b[p]===null)continue;let m=b[p].split(" ");a.push(m.pop())}return a}class k0{constructor(a,p,m,v,_,C){let P=a.gl;this.program=P.createProgram();let O=zp(p.staticAttributes),D=m?m.getBinderAttributes():[],V=O.concat(D),U=_u.prelude.staticUniforms?zp(_u.prelude.staticUniforms):[],Y=p.staticUniforms?zp(p.staticUniforms):[],ee=m?m.getBinderUniforms():[],oe=U.concat(Y).concat(ee),le=[];for(let qe of oe)le.indexOf(qe)<0&&le.push(qe);let de=m?m.defines():[];_&&de.push("#define OVERDRAW_INSPECTOR;"),C&&de.push("#define TERRAIN3D;");let me=de.concat(_u.prelude.fragmentSource,p.fragmentSource).join(`
`),ge=de.concat(_u.prelude.vertexSource,p.vertexSource).join(`
`),ae=P.createShader(P.FRAGMENT_SHADER);if(P.isContextLost())return void(this.failedToCreate=!0);if(P.shaderSource(ae,me),P.compileShader(ae),!P.getShaderParameter(ae,P.COMPILE_STATUS))throw new Error(`Could not compile fragment shader: ${P.getShaderInfoLog(ae)}`);P.attachShader(this.program,ae);let Ie=P.createShader(P.VERTEX_SHADER);if(P.isContextLost())return void(this.failedToCreate=!0);if(P.shaderSource(Ie,ge),P.compileShader(Ie),!P.getShaderParameter(Ie,P.COMPILE_STATUS))throw new Error(`Could not compile vertex shader: ${P.getShaderInfoLog(Ie)}`);P.attachShader(this.program,Ie),this.attributes={};let Ae={};this.numAttributes=V.length;for(let qe=0;qe<this.numAttributes;qe++)V[qe]&&(P.bindAttribLocation(this.program,qe,V[qe]),this.attributes[V[qe]]=qe);if(P.linkProgram(this.program),!P.getProgramParameter(this.program,P.LINK_STATUS))throw new Error(`Program failed to link: ${P.getProgramInfoLog(this.program)}`);P.deleteShader(Ie),P.deleteShader(ae);for(let qe=0;qe<le.length;qe++){let Je=le[qe];if(Je&&!Ae[Je]){let ct=P.getUniformLocation(this.program,Je);ct&&(Ae[Je]=ct)}}this.fixedUniforms=v(a,Ae),this.terrainUniforms=((qe,Je)=>({u_depth:new o.aH(qe,Je.u_depth),u_terrain:new o.aH(qe,Je.u_terrain),u_terrain_dim:new o.aI(qe,Je.u_terrain_dim),u_terrain_matrix:new o.aJ(qe,Je.u_terrain_matrix),u_terrain_unpack:new o.aK(qe,Je.u_terrain_unpack),u_terrain_exaggeration:new o.aI(qe,Je.u_terrain_exaggeration)}))(a,Ae),this.binderUniforms=m?m.getUniforms(a,Ae):[]}draw(a,p,m,v,_,C,P,O,D,V,U,Y,ee,oe,le,de,me,ge){let ae=a.gl;if(this.failedToCreate)return;if(a.program.set(this.program),a.setDepthMode(m),a.setStencilMode(v),a.setColorMode(_),a.setCullFace(C),O){a.activeTexture.set(ae.TEXTURE2),ae.bindTexture(ae.TEXTURE_2D,O.depthTexture),a.activeTexture.set(ae.TEXTURE3),ae.bindTexture(ae.TEXTURE_2D,O.texture);for(let Ae in this.terrainUniforms)this.terrainUniforms[Ae].set(O[Ae])}for(let Ae in this.fixedUniforms)this.fixedUniforms[Ae].set(P[Ae]);le&&le.setUniforms(a,this.binderUniforms,ee,{zoom:oe});let Ie=0;switch(p){case ae.LINES:Ie=2;break;case ae.TRIANGLES:Ie=3;break;case ae.LINE_STRIP:Ie=1;}for(let Ae of Y.get()){let qe=Ae.vaos||(Ae.vaos={});(qe[D]||(qe[D]=new q0)).bind(a,this,V,le?le.getPaintVertexBuffers():[],U,Ae.vertexOffset,de,me,ge),ae.drawElements(p,Ae.primitiveLength*Ie,ae.UNSIGNED_SHORT,Ae.primitiveOffset*Ie*2)}}}function Vm(b,a,p){let m=1/jr(p,1,a.transform.tileZoom),v=Math.pow(2,p.tileID.overscaledZ),_=p.tileSize*Math.pow(2,a.transform.tileZoom)/v,C=_*(p.tileID.canonical.x+p.tileID.wrap*v),P=_*p.tileID.canonical.y;return{u_image:0,u_texsize:p.imageAtlasTexture.size,u_scale:[m,b.fromScale,b.toScale],u_fade:b.t,u_pixel_coord_upper:[C>>16,P>>16],u_pixel_coord_lower:[65535&C,65535&P]}}let Bf=(b,a,p,m)=>{let v=a.style.light,_=v.properties.get("position"),C=[_.x,_.y,_.z],P=function(){var D=new o.A(9);return o.A!=Float32Array&&(D[1]=0,D[2]=0,D[3]=0,D[5]=0,D[6]=0,D[7]=0),D[0]=1,D[4]=1,D[8]=1,D}();v.properties.get("anchor")==="viewport"&&function(D,V){var U=Math.sin(V),Y=Math.cos(V);D[0]=Y,D[1]=U,D[2]=0,D[3]=-U,D[4]=Y,D[5]=0,D[6]=0,D[7]=0,D[8]=1}(P,-a.transform.angle),function(D,V,U){var Y=V[0],ee=V[1],oe=V[2];D[0]=Y*U[0]+ee*U[3]+oe*U[6],D[1]=Y*U[1]+ee*U[4]+oe*U[7],D[2]=Y*U[2]+ee*U[5]+oe*U[8]}(C,C,P);let O=v.properties.get("color");return{u_matrix:b,u_lightpos:C,u_lightintensity:v.properties.get("intensity"),u_lightcolor:[O.r,O.g,O.b],u_vertical_gradient:+p,u_opacity:m}},Um=(b,a,p,m,v,_,C)=>o.e(Bf(b,a,p,m),Vm(_,a,C),{u_height_factor:-Math.pow(2,v.overscaledZ)/C.tileSize/8}),Fp=b=>({u_matrix:b}),VS=(b,a,p,m)=>o.e(Fp(b),Vm(p,a,m)),AR=(b,a)=>({u_matrix:b,u_world:a}),US=(b,a,p,m,v)=>o.e(VS(b,a,p,m),{u_world:v}),CR=(b,a,p,m)=>{let v=b.transform,_,C;if(m.paint.get("circle-pitch-alignment")==="map"){let P=jr(p,1,v.zoom);_=!0,C=[P,P]}else _=!1,C=v.pixelsToGLUnits;return{u_camera_to_center_distance:v.cameraToCenterDistance,u_scale_with_map:+(m.paint.get("circle-pitch-scale")==="map"),u_matrix:b.translatePosMatrix(a.posMatrix,p,m.paint.get("circle-translate"),m.paint.get("circle-translate-anchor")),u_pitch_with_map:+_,u_device_pixel_ratio:b.pixelRatio,u_extrude_scale:C}},xc=(b,a,p)=>({u_matrix:b,u_inv_matrix:a,u_camera_to_center_distance:p.cameraToCenterDistance,u_viewport_size:[p.width,p.height]}),Vf=(b,a,p=1)=>({u_matrix:b,u_color:a,u_overlay:0,u_overlay_scale:p}),Ko=b=>({u_matrix:b}),Yo=(b,a,p,m)=>({u_matrix:b,u_extrude_scale:jr(a,1,p),u_intensity:m}),$m=(b,a,p,m)=>{let v=o.H();o.aP(v,0,b.width,b.height,0,0,1);let _=b.context.gl;return{u_matrix:v,u_world:[_.drawingBufferWidth,_.drawingBufferHeight],u_image:p,u_color_ramp:m,u_opacity:a.paint.get("heatmap-opacity")}};function Hm(b,a){let p=Math.pow(2,a.canonical.z),m=a.canonical.y;return[new o.Z(0,m/p).toLngLat().lat,new o.Z(0,(m+1)/p).toLngLat().lat]}let Gm=(b,a,p,m)=>{let v=b.transform;return{u_matrix:GS(b,a,p,m),u_ratio:1/jr(a,1,v.zoom),u_device_pixel_ratio:b.pixelRatio,u_units_to_pixels:[1/v.pixelsToGLUnits[0],1/v.pixelsToGLUnits[1]]}},$S=(b,a,p,m,v)=>o.e(Gm(b,a,p,v),{u_image:0,u_image_height:m}),jp=(b,a,p,m,v)=>{let _=b.transform,C=HS(a,_);return{u_matrix:GS(b,a,p,v),u_texsize:a.imageAtlasTexture.size,u_ratio:1/jr(a,1,_.zoom),u_device_pixel_ratio:b.pixelRatio,u_image:0,u_scale:[C,m.fromScale,m.toScale],u_fade:m.t,u_units_to_pixels:[1/_.pixelsToGLUnits[0],1/_.pixelsToGLUnits[1]]}},MR=(b,a,p,m,v,_)=>{let C=b.lineAtlas,P=HS(a,b.transform),O=p.layout.get("line-cap")==="round",D=C.getDash(m.from,O),V=C.getDash(m.to,O),U=D.width*v.fromScale,Y=V.width*v.toScale;return o.e(Gm(b,a,p,_),{u_patternscale_a:[P/U,-D.height/2],u_patternscale_b:[P/Y,-V.height/2],u_sdfgamma:C.width/(256*Math.min(U,Y)*b.pixelRatio)/2,u_image:0,u_tex_y_a:D.y,u_tex_y_b:V.y,u_mix:v.t})};function HS(b,a){return 1/jr(b,1,a.tileZoom)}function GS(b,a,p,m){return b.translatePosMatrix(m?m.posMatrix:a.tileID.posMatrix,a,p.paint.get("line-translate"),p.paint.get("line-translate-anchor"))}let PR=(b,a,p,m,v)=>{return{u_matrix:b,u_tl_parent:a,u_scale_parent:p,u_buffer_scale:1,u_fade_t:m.mix,u_opacity:m.opacity*v.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:v.paint.get("raster-brightness-min"),u_brightness_high:v.paint.get("raster-brightness-max"),u_saturation_factor:(C=v.paint.get("raster-saturation"),C>0?1-1/(1.001-C):-C),u_contrast_factor:(_=v.paint.get("raster-contrast"),_>0?1/(1-_):1+_),u_spin_weights:OR(v.paint.get("raster-hue-rotate"))};var _,C};function OR(b){b*=Math.PI/180;let a=Math.sin(b),p=Math.cos(b);return[(2*p+1)/3,(-Math.sqrt(3)*a-p+1)/3,(Math.sqrt(3)*a-p+1)/3]}let WS=(b,a,p,m,v,_,C,P,O,D,V,U,Y,ee)=>{let oe=C.transform;return{u_is_size_zoom_constant:+(b==="constant"||b==="source"),u_is_size_feature_constant:+(b==="constant"||b==="camera"),u_size_t:a?a.uSizeT:0,u_size:a?a.uSize:0,u_camera_to_center_distance:oe.cameraToCenterDistance,u_pitch:oe.pitch/360*2*Math.PI,u_rotate_symbol:+p,u_aspect_ratio:oe.width/oe.height,u_fade_change:C.options.fadeDuration?C.symbolFadeChange:1,u_matrix:P,u_label_plane_matrix:O,u_coord_matrix:D,u_is_text:+U,u_pitch_with_map:+m,u_is_along_line:v,u_is_variable_anchor:_,u_texsize:Y,u_texture:0,u_translation:V,u_pitched_scale:ee}},Uf=(b,a,p,m,v,_,C,P,O,D,V,U,Y,ee,oe)=>{let le=C.transform;return o.e(WS(b,a,p,m,v,_,C,P,O,D,V,U,Y,oe),{u_gamma_scale:m?Math.cos(le._pitch)*le.cameraToCenterDistance:1,u_device_pixel_ratio:C.pixelRatio,u_is_halo:+ee})},D0=(b,a,p,m,v,_,C,P,O,D,V,U,Y,ee)=>o.e(Uf(b,a,p,m,v,_,C,P,O,D,V,!0,U,!0,ee),{u_texsize_icon:Y,u_texture_icon:1}),Wm=(b,a,p)=>({u_matrix:b,u_opacity:a,u_color:p}),L0=(b,a,p,m,v,_)=>o.e(function(C,P,O,D){let V=O.imageManager.getPattern(C.from.toString()),U=O.imageManager.getPattern(C.to.toString()),{width:Y,height:ee}=O.imageManager.getPixelSize(),oe=Math.pow(2,D.tileID.overscaledZ),le=D.tileSize*Math.pow(2,O.transform.tileZoom)/oe,de=le*(D.tileID.canonical.x+D.tileID.wrap*oe),me=le*D.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:V.tl,u_pattern_br_a:V.br,u_pattern_tl_b:U.tl,u_pattern_br_b:U.br,u_texsize:[Y,ee],u_mix:P.t,u_pattern_size_a:V.displaySize,u_pattern_size_b:U.displaySize,u_scale_a:P.fromScale,u_scale_b:P.toScale,u_tile_units_to_pixels:1/jr(D,1,O.transform.tileZoom),u_pixel_coord_upper:[de>>16,me>>16],u_pixel_coord_lower:[65535&de,65535&me]}}(m,_,p,v),{u_matrix:b,u_opacity:a}),z0={fillExtrusion:(b,a)=>({u_matrix:new o.aJ(b,a.u_matrix),u_lightpos:new o.aN(b,a.u_lightpos),u_lightintensity:new o.aI(b,a.u_lightintensity),u_lightcolor:new o.aN(b,a.u_lightcolor),u_vertical_gradient:new o.aI(b,a.u_vertical_gradient),u_opacity:new o.aI(b,a.u_opacity)}),fillExtrusionPattern:(b,a)=>({u_matrix:new o.aJ(b,a.u_matrix),u_lightpos:new o.aN(b,a.u_lightpos),u_lightintensity:new o.aI(b,a.u_lightintensity),u_lightcolor:new o.aN(b,a.u_lightcolor),u_vertical_gradient:new o.aI(b,a.u_vertical_gradient),u_height_factor:new o.aI(b,a.u_height_factor),u_image:new o.aH(b,a.u_image),u_texsize:new o.aO(b,a.u_texsize),u_pixel_coord_upper:new o.aO(b,a.u_pixel_coord_upper),u_pixel_coord_lower:new o.aO(b,a.u_pixel_coord_lower),u_scale:new o.aN(b,a.u_scale),u_fade:new o.aI(b,a.u_fade),u_opacity:new o.aI(b,a.u_opacity)}),fill:(b,a)=>({u_matrix:new o.aJ(b,a.u_matrix)}),fillPattern:(b,a)=>({u_matrix:new o.aJ(b,a.u_matrix),u_image:new o.aH(b,a.u_image),u_texsize:new o.aO(b,a.u_texsize),u_pixel_coord_upper:new o.aO(b,a.u_pixel_coord_upper),u_pixel_coord_lower:new o.aO(b,a.u_pixel_coord_lower),u_scale:new o.aN(b,a.u_scale),u_fade:new o.aI(b,a.u_fade)}),fillOutline:(b,a)=>({u_matrix:new o.aJ(b,a.u_matrix),u_world:new o.aO(b,a.u_world)}),fillOutlinePattern:(b,a)=>({u_matrix:new o.aJ(b,a.u_matrix),u_world:new o.aO(b,a.u_world),u_image:new o.aH(b,a.u_image),u_texsize:new o.aO(b,a.u_texsize),u_pixel_coord_upper:new o.aO(b,a.u_pixel_coord_upper),u_pixel_coord_lower:new o.aO(b,a.u_pixel_coord_lower),u_scale:new o.aN(b,a.u_scale),u_fade:new o.aI(b,a.u_fade)}),circle:(b,a)=>({u_camera_to_center_distance:new o.aI(b,a.u_camera_to_center_distance),u_scale_with_map:new o.aH(b,a.u_scale_with_map),u_pitch_with_map:new o.aH(b,a.u_pitch_with_map),u_extrude_scale:new o.aO(b,a.u_extrude_scale),u_device_pixel_ratio:new o.aI(b,a.u_device_pixel_ratio),u_matrix:new o.aJ(b,a.u_matrix)}),collisionBox:(b,a)=>({u_matrix:new o.aJ(b,a.u_matrix),u_pixel_extrude_scale:new o.aO(b,a.u_pixel_extrude_scale)}),collisionCircle:(b,a)=>({u_matrix:new o.aJ(b,a.u_matrix),u_inv_matrix:new o.aJ(b,a.u_inv_matrix),u_camera_to_center_distance:new o.aI(b,a.u_camera_to_center_distance),u_viewport_size:new o.aO(b,a.u_viewport_size)}),debug:(b,a)=>({u_color:new o.aL(b,a.u_color),u_matrix:new o.aJ(b,a.u_matrix),u_overlay:new o.aH(b,a.u_overlay),u_overlay_scale:new o.aI(b,a.u_overlay_scale)}),clippingMask:(b,a)=>({u_matrix:new o.aJ(b,a.u_matrix)}),heatmap:(b,a)=>({u_extrude_scale:new o.aI(b,a.u_extrude_scale),u_intensity:new o.aI(b,a.u_intensity),u_matrix:new o.aJ(b,a.u_matrix)}),heatmapTexture:(b,a)=>({u_matrix:new o.aJ(b,a.u_matrix),u_world:new o.aO(b,a.u_world),u_image:new o.aH(b,a.u_image),u_color_ramp:new o.aH(b,a.u_color_ramp),u_opacity:new o.aI(b,a.u_opacity)}),hillshade:(b,a)=>({u_matrix:new o.aJ(b,a.u_matrix),u_image:new o.aH(b,a.u_image),u_latrange:new o.aO(b,a.u_latrange),u_light:new o.aO(b,a.u_light),u_shadow:new o.aL(b,a.u_shadow),u_highlight:new o.aL(b,a.u_highlight),u_accent:new o.aL(b,a.u_accent)}),hillshadePrepare:(b,a)=>({u_matrix:new o.aJ(b,a.u_matrix),u_image:new o.aH(b,a.u_image),u_dimension:new o.aO(b,a.u_dimension),u_zoom:new o.aI(b,a.u_zoom),u_unpack:new o.aK(b,a.u_unpack)}),line:(b,a)=>({u_matrix:new o.aJ(b,a.u_matrix),u_ratio:new o.aI(b,a.u_ratio),u_device_pixel_ratio:new o.aI(b,a.u_device_pixel_ratio),u_units_to_pixels:new o.aO(b,a.u_units_to_pixels)}),lineGradient:(b,a)=>({u_matrix:new o.aJ(b,a.u_matrix),u_ratio:new o.aI(b,a.u_ratio),u_device_pixel_ratio:new o.aI(b,a.u_device_pixel_ratio),u_units_to_pixels:new o.aO(b,a.u_units_to_pixels),u_image:new o.aH(b,a.u_image),u_image_height:new o.aI(b,a.u_image_height)}),linePattern:(b,a)=>({u_matrix:new o.aJ(b,a.u_matrix),u_texsize:new o.aO(b,a.u_texsize),u_ratio:new o.aI(b,a.u_ratio),u_device_pixel_ratio:new o.aI(b,a.u_device_pixel_ratio),u_image:new o.aH(b,a.u_image),u_units_to_pixels:new o.aO(b,a.u_units_to_pixels),u_scale:new o.aN(b,a.u_scale),u_fade:new o.aI(b,a.u_fade)}),lineSDF:(b,a)=>({u_matrix:new o.aJ(b,a.u_matrix),u_ratio:new o.aI(b,a.u_ratio),u_device_pixel_ratio:new o.aI(b,a.u_device_pixel_ratio),u_units_to_pixels:new o.aO(b,a.u_units_to_pixels),u_patternscale_a:new o.aO(b,a.u_patternscale_a),u_patternscale_b:new o.aO(b,a.u_patternscale_b),u_sdfgamma:new o.aI(b,a.u_sdfgamma),u_image:new o.aH(b,a.u_image),u_tex_y_a:new o.aI(b,a.u_tex_y_a),u_tex_y_b:new o.aI(b,a.u_tex_y_b),u_mix:new o.aI(b,a.u_mix)}),raster:(b,a)=>({u_matrix:new o.aJ(b,a.u_matrix),u_tl_parent:new o.aO(b,a.u_tl_parent),u_scale_parent:new o.aI(b,a.u_scale_parent),u_buffer_scale:new o.aI(b,a.u_buffer_scale),u_fade_t:new o.aI(b,a.u_fade_t),u_opacity:new o.aI(b,a.u_opacity),u_image0:new o.aH(b,a.u_image0),u_image1:new o.aH(b,a.u_image1),u_brightness_low:new o.aI(b,a.u_brightness_low),u_brightness_high:new o.aI(b,a.u_brightness_high),u_saturation_factor:new o.aI(b,a.u_saturation_factor),u_contrast_factor:new o.aI(b,a.u_contrast_factor),u_spin_weights:new o.aN(b,a.u_spin_weights)}),symbolIcon:(b,a)=>({u_is_size_zoom_constant:new o.aH(b,a.u_is_size_zoom_constant),u_is_size_feature_constant:new o.aH(b,a.u_is_size_feature_constant),u_size_t:new o.aI(b,a.u_size_t),u_size:new o.aI(b,a.u_size),u_camera_to_center_distance:new o.aI(b,a.u_camera_to_center_distance),u_pitch:new o.aI(b,a.u_pitch),u_rotate_symbol:new o.aH(b,a.u_rotate_symbol),u_aspect_ratio:new o.aI(b,a.u_aspect_ratio),u_fade_change:new o.aI(b,a.u_fade_change),u_matrix:new o.aJ(b,a.u_matrix),u_label_plane_matrix:new o.aJ(b,a.u_label_plane_matrix),u_coord_matrix:new o.aJ(b,a.u_coord_matrix),u_is_text:new o.aH(b,a.u_is_text),u_pitch_with_map:new o.aH(b,a.u_pitch_with_map),u_is_along_line:new o.aH(b,a.u_is_along_line),u_is_variable_anchor:new o.aH(b,a.u_is_variable_anchor),u_texsize:new o.aO(b,a.u_texsize),u_texture:new o.aH(b,a.u_texture),u_translation:new o.aO(b,a.u_translation),u_pitched_scale:new o.aI(b,a.u_pitched_scale)}),symbolSDF:(b,a)=>({u_is_size_zoom_constant:new o.aH(b,a.u_is_size_zoom_constant),u_is_size_feature_constant:new o.aH(b,a.u_is_size_feature_constant),u_size_t:new o.aI(b,a.u_size_t),u_size:new o.aI(b,a.u_size),u_camera_to_center_distance:new o.aI(b,a.u_camera_to_center_distance),u_pitch:new o.aI(b,a.u_pitch),u_rotate_symbol:new o.aH(b,a.u_rotate_symbol),u_aspect_ratio:new o.aI(b,a.u_aspect_ratio),u_fade_change:new o.aI(b,a.u_fade_change),u_matrix:new o.aJ(b,a.u_matrix),u_label_plane_matrix:new o.aJ(b,a.u_label_plane_matrix),u_coord_matrix:new o.aJ(b,a.u_coord_matrix),u_is_text:new o.aH(b,a.u_is_text),u_pitch_with_map:new o.aH(b,a.u_pitch_with_map),u_is_along_line:new o.aH(b,a.u_is_along_line),u_is_variable_anchor:new o.aH(b,a.u_is_variable_anchor),u_texsize:new o.aO(b,a.u_texsize),u_texture:new o.aH(b,a.u_texture),u_gamma_scale:new o.aI(b,a.u_gamma_scale),u_device_pixel_ratio:new o.aI(b,a.u_device_pixel_ratio),u_is_halo:new o.aH(b,a.u_is_halo),u_translation:new o.aO(b,a.u_translation),u_pitched_scale:new o.aI(b,a.u_pitched_scale)}),symbolTextAndIcon:(b,a)=>({u_is_size_zoom_constant:new o.aH(b,a.u_is_size_zoom_constant),u_is_size_feature_constant:new o.aH(b,a.u_is_size_feature_constant),u_size_t:new o.aI(b,a.u_size_t),u_size:new o.aI(b,a.u_size),u_camera_to_center_distance:new o.aI(b,a.u_camera_to_center_distance),u_pitch:new o.aI(b,a.u_pitch),u_rotate_symbol:new o.aH(b,a.u_rotate_symbol),u_aspect_ratio:new o.aI(b,a.u_aspect_ratio),u_fade_change:new o.aI(b,a.u_fade_change),u_matrix:new o.aJ(b,a.u_matrix),u_label_plane_matrix:new o.aJ(b,a.u_label_plane_matrix),u_coord_matrix:new o.aJ(b,a.u_coord_matrix),u_is_text:new o.aH(b,a.u_is_text),u_pitch_with_map:new o.aH(b,a.u_pitch_with_map),u_is_along_line:new o.aH(b,a.u_is_along_line),u_is_variable_anchor:new o.aH(b,a.u_is_variable_anchor),u_texsize:new o.aO(b,a.u_texsize),u_texsize_icon:new o.aO(b,a.u_texsize_icon),u_texture:new o.aH(b,a.u_texture),u_texture_icon:new o.aH(b,a.u_texture_icon),u_gamma_scale:new o.aI(b,a.u_gamma_scale),u_device_pixel_ratio:new o.aI(b,a.u_device_pixel_ratio),u_is_halo:new o.aH(b,a.u_is_halo),u_translation:new o.aO(b,a.u_translation),u_pitched_scale:new o.aI(b,a.u_pitched_scale)}),background:(b,a)=>({u_matrix:new o.aJ(b,a.u_matrix),u_opacity:new o.aI(b,a.u_opacity),u_color:new o.aL(b,a.u_color)}),backgroundPattern:(b,a)=>({u_matrix:new o.aJ(b,a.u_matrix),u_opacity:new o.aI(b,a.u_opacity),u_image:new o.aH(b,a.u_image),u_pattern_tl_a:new o.aO(b,a.u_pattern_tl_a),u_pattern_br_a:new o.aO(b,a.u_pattern_br_a),u_pattern_tl_b:new o.aO(b,a.u_pattern_tl_b),u_pattern_br_b:new o.aO(b,a.u_pattern_br_b),u_texsize:new o.aO(b,a.u_texsize),u_mix:new o.aI(b,a.u_mix),u_pattern_size_a:new o.aO(b,a.u_pattern_size_a),u_pattern_size_b:new o.aO(b,a.u_pattern_size_b),u_scale_a:new o.aI(b,a.u_scale_a),u_scale_b:new o.aI(b,a.u_scale_b),u_pixel_coord_upper:new o.aO(b,a.u_pixel_coord_upper),u_pixel_coord_lower:new o.aO(b,a.u_pixel_coord_lower),u_tile_units_to_pixels:new o.aI(b,a.u_tile_units_to_pixels)}),terrain:(b,a)=>({u_matrix:new o.aJ(b,a.u_matrix),u_texture:new o.aH(b,a.u_texture),u_ele_delta:new o.aI(b,a.u_ele_delta),u_fog_matrix:new o.aJ(b,a.u_fog_matrix),u_fog_color:new o.aL(b,a.u_fog_color),u_fog_ground_blend:new o.aI(b,a.u_fog_ground_blend),u_fog_ground_blend_opacity:new o.aI(b,a.u_fog_ground_blend_opacity),u_horizon_color:new o.aL(b,a.u_horizon_color),u_horizon_fog_blend:new o.aI(b,a.u_horizon_fog_blend)}),terrainDepth:(b,a)=>({u_matrix:new o.aJ(b,a.u_matrix),u_ele_delta:new o.aI(b,a.u_ele_delta)}),terrainCoords:(b,a)=>({u_matrix:new o.aJ(b,a.u_matrix),u_texture:new o.aH(b,a.u_texture),u_terrain_coords_id:new o.aI(b,a.u_terrain_coords_id),u_ele_delta:new o.aI(b,a.u_ele_delta)}),sky:(b,a)=>({u_sky_color:new o.aL(b,a.u_sky_color),u_horizon_color:new o.aL(b,a.u_horizon_color),u_horizon:new o.aI(b,a.u_horizon),u_sky_horizon_blend:new o.aI(b,a.u_sky_horizon_blend)})};class el{constructor(a,p,m){this.context=a;let v=a.gl;this.buffer=v.createBuffer(),this.dynamicDraw=!!m,this.context.unbindVAO(),a.bindElementBuffer.set(this.buffer),v.bufferData(v.ELEMENT_ARRAY_BUFFER,p.arrayBuffer,this.dynamicDraw?v.DYNAMIC_DRAW:v.STATIC_DRAW),this.dynamicDraw||delete p.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(a){let p=this.context.gl;if(!this.dynamicDraw)throw new Error("Attempted to update data while not in dynamic mode.");this.context.unbindVAO(),this.bind(),p.bufferSubData(p.ELEMENT_ARRAY_BUFFER,0,a.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}let RR={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class F0{constructor(a,p,m,v){this.length=p.length,this.attributes=m,this.itemSize=p.bytesPerElement,this.dynamicDraw=v,this.context=a;let _=a.gl;this.buffer=_.createBuffer(),a.bindVertexBuffer.set(this.buffer),_.bufferData(_.ARRAY_BUFFER,p.arrayBuffer,this.dynamicDraw?_.DYNAMIC_DRAW:_.STATIC_DRAW),this.dynamicDraw||delete p.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(a){if(a.length!==this.length)throw new Error(`Length of new data is ${a.length}, which doesn't match current length of ${this.length}`);let p=this.context.gl;this.bind(),p.bufferSubData(p.ARRAY_BUFFER,0,a.arrayBuffer)}enableAttributes(a,p){for(let m=0;m<this.attributes.length;m++){let v=p.attributes[this.attributes[m].name];v!==void 0&&a.enableVertexAttribArray(v)}}setVertexAttribPointers(a,p,m){for(let v=0;v<this.attributes.length;v++){let _=this.attributes[v],C=p.attributes[_.name];C!==void 0&&a.vertexAttribPointer(C,_.components,a[RR[_.type]],!1,this.itemSize,_.offset+this.itemSize*(m||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}let wc=new WeakMap;function bu(b){var a;if(wc.has(b))return wc.get(b);{let p=(a=b.getParameter(b.VERSION))===null||a===void 0?void 0:a.startsWith("WebGL 2.0");return wc.set(b,p),p}}class ln{constructor(a){this.gl=a.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(a){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class Zm extends ln{getDefault(){return o.aM.transparent}set(a){let p=this.current;(a.r!==p.r||a.g!==p.g||a.b!==p.b||a.a!==p.a||this.dirty)&&(this.gl.clearColor(a.r,a.g,a.b,a.a),this.current=a,this.dirty=!1)}}class qR extends ln{getDefault(){return 1}set(a){(a!==this.current||this.dirty)&&(this.gl.clearDepth(a),this.current=a,this.dirty=!1)}}class Bp extends ln{getDefault(){return 0}set(a){(a!==this.current||this.dirty)&&(this.gl.clearStencil(a),this.current=a,this.dirty=!1)}}class NR extends ln{getDefault(){return[!0,!0,!0,!0]}set(a){let p=this.current;(a[0]!==p[0]||a[1]!==p[1]||a[2]!==p[2]||a[3]!==p[3]||this.dirty)&&(this.gl.colorMask(a[0],a[1],a[2],a[3]),this.current=a,this.dirty=!1)}}class ZS extends ln{getDefault(){return!0}set(a){(a!==this.current||this.dirty)&&(this.gl.depthMask(a),this.current=a,this.dirty=!1)}}class kR extends ln{getDefault(){return 255}set(a){(a!==this.current||this.dirty)&&(this.gl.stencilMask(a),this.current=a,this.dirty=!1)}}class KS extends ln{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(a){let p=this.current;(a.func!==p.func||a.ref!==p.ref||a.mask!==p.mask||this.dirty)&&(this.gl.stencilFunc(a.func,a.ref,a.mask),this.current=a,this.dirty=!1)}}class j0 extends ln{getDefault(){let a=this.gl;return[a.KEEP,a.KEEP,a.KEEP]}set(a){let p=this.current;(a[0]!==p[0]||a[1]!==p[1]||a[2]!==p[2]||this.dirty)&&(this.gl.stencilOp(a[0],a[1],a[2]),this.current=a,this.dirty=!1)}}class YS extends ln{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;let p=this.gl;a?p.enable(p.STENCIL_TEST):p.disable(p.STENCIL_TEST),this.current=a,this.dirty=!1}}class XS extends ln{getDefault(){return[0,1]}set(a){let p=this.current;(a[0]!==p[0]||a[1]!==p[1]||this.dirty)&&(this.gl.depthRange(a[0],a[1]),this.current=a,this.dirty=!1)}}class JS extends ln{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;let p=this.gl;a?p.enable(p.DEPTH_TEST):p.disable(p.DEPTH_TEST),this.current=a,this.dirty=!1}}class QS extends ln{getDefault(){return this.gl.LESS}set(a){(a!==this.current||this.dirty)&&(this.gl.depthFunc(a),this.current=a,this.dirty=!1)}}class Sc extends ln{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;let p=this.gl;a?p.enable(p.BLEND):p.disable(p.BLEND),this.current=a,this.dirty=!1}}class e2 extends ln{getDefault(){let a=this.gl;return[a.ONE,a.ZERO]}set(a){let p=this.current;(a[0]!==p[0]||a[1]!==p[1]||this.dirty)&&(this.gl.blendFunc(a[0],a[1]),this.current=a,this.dirty=!1)}}class DR extends ln{getDefault(){return o.aM.transparent}set(a){let p=this.current;(a.r!==p.r||a.g!==p.g||a.b!==p.b||a.a!==p.a||this.dirty)&&(this.gl.blendColor(a.r,a.g,a.b,a.a),this.current=a,this.dirty=!1)}}class t2 extends ln{getDefault(){return this.gl.FUNC_ADD}set(a){(a!==this.current||this.dirty)&&(this.gl.blendEquation(a),this.current=a,this.dirty=!1)}}class $f extends ln{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;let p=this.gl;a?p.enable(p.CULL_FACE):p.disable(p.CULL_FACE),this.current=a,this.dirty=!1}}class LR extends ln{getDefault(){return this.gl.BACK}set(a){(a!==this.current||this.dirty)&&(this.gl.cullFace(a),this.current=a,this.dirty=!1)}}class Km extends ln{getDefault(){return this.gl.CCW}set(a){(a!==this.current||this.dirty)&&(this.gl.frontFace(a),this.current=a,this.dirty=!1)}}class zR extends ln{getDefault(){return null}set(a){(a!==this.current||this.dirty)&&(this.gl.useProgram(a),this.current=a,this.dirty=!1)}}class FR extends ln{getDefault(){return this.gl.TEXTURE0}set(a){(a!==this.current||this.dirty)&&(this.gl.activeTexture(a),this.current=a,this.dirty=!1)}}class r2 extends ln{getDefault(){let a=this.gl;return[0,0,a.drawingBufferWidth,a.drawingBufferHeight]}set(a){let p=this.current;(a[0]!==p[0]||a[1]!==p[1]||a[2]!==p[2]||a[3]!==p[3]||this.dirty)&&(this.gl.viewport(a[0],a[1],a[2],a[3]),this.current=a,this.dirty=!1)}}class n2 extends ln{getDefault(){return null}set(a){if(a===this.current&&!this.dirty)return;let p=this.gl;p.bindFramebuffer(p.FRAMEBUFFER,a),this.current=a,this.dirty=!1}}class i2 extends ln{getDefault(){return null}set(a){if(a===this.current&&!this.dirty)return;let p=this.gl;p.bindRenderbuffer(p.RENDERBUFFER,a),this.current=a,this.dirty=!1}}class B0 extends ln{getDefault(){return null}set(a){if(a===this.current&&!this.dirty)return;let p=this.gl;p.bindTexture(p.TEXTURE_2D,a),this.current=a,this.dirty=!1}}class o2 extends ln{getDefault(){return null}set(a){if(a===this.current&&!this.dirty)return;let p=this.gl;p.bindBuffer(p.ARRAY_BUFFER,a),this.current=a,this.dirty=!1}}class Ym extends ln{getDefault(){return null}set(a){let p=this.gl;p.bindBuffer(p.ELEMENT_ARRAY_BUFFER,a),this.current=a,this.dirty=!1}}class $l extends ln{getDefault(){return null}set(a){var p;if(a===this.current&&!this.dirty)return;let m=this.gl;bu(m)?m.bindVertexArray(a):(p=m.getExtension("OES_vertex_array_object"))===null||p===void 0||p.bindVertexArrayOES(a),this.current=a,this.dirty=!1}}class V0 extends ln{getDefault(){return 4}set(a){if(a===this.current&&!this.dirty)return;let p=this.gl;p.pixelStorei(p.UNPACK_ALIGNMENT,a),this.current=a,this.dirty=!1}}class U0 extends ln{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;let p=this.gl;p.pixelStorei(p.UNPACK_PREMULTIPLY_ALPHA_WEBGL,a),this.current=a,this.dirty=!1}}class $0 extends ln{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;let p=this.gl;p.pixelStorei(p.UNPACK_FLIP_Y_WEBGL,a),this.current=a,this.dirty=!1}}class Xm extends ln{constructor(a,p){super(a),this.context=a,this.parent=p}getDefault(){return null}}class H0 extends Xm{setDirty(){this.dirty=!0}set(a){if(a===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);let p=this.gl;p.framebufferTexture2D(p.FRAMEBUFFER,p.COLOR_ATTACHMENT0,p.TEXTURE_2D,a,0),this.current=a,this.dirty=!1}}class Ic extends Xm{set(a){if(a===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);let p=this.gl;p.framebufferRenderbuffer(p.FRAMEBUFFER,p.DEPTH_ATTACHMENT,p.RENDERBUFFER,a),this.current=a,this.dirty=!1}}class G0 extends Xm{set(a){if(a===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);let p=this.gl;p.framebufferRenderbuffer(p.FRAMEBUFFER,p.DEPTH_STENCIL_ATTACHMENT,p.RENDERBUFFER,a),this.current=a,this.dirty=!1}}class jR{constructor(a,p,m,v,_){this.context=a,this.width=p,this.height=m;let C=a.gl,P=this.framebuffer=C.createFramebuffer();if(this.colorAttachment=new H0(a,P),v)this.depthAttachment=_?new G0(a,P):new Ic(a,P);else if(_)throw new Error("Stencil cannot be set without depth");if(C.checkFramebufferStatus(C.FRAMEBUFFER)!==C.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer is not complete")}destroy(){let a=this.context.gl,p=this.colorAttachment.get();if(p&&a.deleteTexture(p),this.depthAttachment){let m=this.depthAttachment.get();m&&a.deleteRenderbuffer(m)}a.deleteFramebuffer(this.framebuffer)}}class si{constructor(a,p,m){this.blendFunction=a,this.blendColor=p,this.mask=m}}si.Replace=[1,0],si.disabled=new si(si.Replace,o.aM.transparent,[!1,!1,!1,!1]),si.unblended=new si(si.Replace,o.aM.transparent,[!0,!0,!0,!0]),si.alphaBlended=new si([1,771],o.aM.transparent,[!0,!0,!0,!0]);class BR{constructor(a){var p,m;if(this.gl=a,this.clearColor=new Zm(this),this.clearDepth=new qR(this),this.clearStencil=new Bp(this),this.colorMask=new NR(this),this.depthMask=new ZS(this),this.stencilMask=new kR(this),this.stencilFunc=new KS(this),this.stencilOp=new j0(this),this.stencilTest=new YS(this),this.depthRange=new XS(this),this.depthTest=new JS(this),this.depthFunc=new QS(this),this.blend=new Sc(this),this.blendFunc=new e2(this),this.blendColor=new DR(this),this.blendEquation=new t2(this),this.cullFace=new $f(this),this.cullFaceSide=new LR(this),this.frontFace=new Km(this),this.program=new zR(this),this.activeTexture=new FR(this),this.viewport=new r2(this),this.bindFramebuffer=new n2(this),this.bindRenderbuffer=new i2(this),this.bindTexture=new B0(this),this.bindVertexBuffer=new o2(this),this.bindElementBuffer=new Ym(this),this.bindVertexArray=new $l(this),this.pixelStoreUnpack=new V0(this),this.pixelStoreUnpackPremultiplyAlpha=new U0(this),this.pixelStoreUnpackFlipY=new $0(this),this.extTextureFilterAnisotropic=a.getExtension("EXT_texture_filter_anisotropic")||a.getExtension("MOZ_EXT_texture_filter_anisotropic")||a.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=a.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.maxTextureSize=a.getParameter(a.MAX_TEXTURE_SIZE),bu(a)){this.HALF_FLOAT=a.HALF_FLOAT;let v=a.getExtension("EXT_color_buffer_half_float");this.RGBA16F=(p=a.RGBA16F)!==null&&p!==void 0?p:v==null?void 0:v.RGBA16F_EXT,this.RGB16F=(m=a.RGB16F)!==null&&m!==void 0?m:v==null?void 0:v.RGB16F_EXT,a.getExtension("EXT_color_buffer_float")}else{a.getExtension("EXT_color_buffer_half_float"),a.getExtension("OES_texture_half_float_linear");let v=a.getExtension("OES_texture_half_float");this.HALF_FLOAT=v==null?void 0:v.HALF_FLOAT_OES}}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.bindVertexArray.dirty=!0,this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(a,p){return new el(this,a,p)}createVertexBuffer(a,p,m){return new F0(this,a,p,m)}createRenderbuffer(a,p,m){let v=this.gl,_=v.createRenderbuffer();return this.bindRenderbuffer.set(_),v.renderbufferStorage(v.RENDERBUFFER,a,p,m),this.bindRenderbuffer.set(null),_}createFramebuffer(a,p,m,v){return new jR(this,a,p,m,v)}clear({color:a,depth:p,stencil:m}){let v=this.gl,_=0;a&&(_|=v.COLOR_BUFFER_BIT,this.clearColor.set(a),this.colorMask.set([!0,!0,!0,!0])),p!==void 0&&(_|=v.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(p),this.depthMask.set(!0)),m!==void 0&&(_|=v.STENCIL_BUFFER_BIT,this.clearStencil.set(m),this.stencilMask.set(255)),v.clear(_)}setCullFace(a){a.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(a.mode),this.frontFace.set(a.frontFace))}setDepthMode(a){a.func!==this.gl.ALWAYS||a.mask?(this.depthTest.set(!0),this.depthFunc.set(a.func),this.depthMask.set(a.mask),this.depthRange.set(a.range)):this.depthTest.set(!1)}setStencilMode(a){a.test.func!==this.gl.ALWAYS||a.mask?(this.stencilTest.set(!0),this.stencilMask.set(a.mask),this.stencilOp.set([a.fail,a.depthFail,a.pass]),this.stencilFunc.set({func:a.test.func,ref:a.ref,mask:a.test.mask})):this.stencilTest.set(!1)}setColorMode(a){o.aE(a.blendFunction,si.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(a.blendFunction),this.blendColor.set(a.blendColor)),this.colorMask.set(a.mask)}createVertexArray(){var a;return bu(this.gl)?this.gl.createVertexArray():(a=this.gl.getExtension("OES_vertex_array_object"))===null||a===void 0?void 0:a.createVertexArrayOES()}deleteVertexArray(a){var p;return bu(this.gl)?this.gl.deleteVertexArray(a):(p=this.gl.getExtension("OES_vertex_array_object"))===null||p===void 0?void 0:p.deleteVertexArrayOES(a)}unbindVAO(){this.bindVertexArray.set(null)}}class Rr{constructor(a,p,m){this.func=a,this.mask=p,this.range=m}}Rr.ReadOnly=!1,Rr.ReadWrite=!0,Rr.disabled=new Rr(519,Rr.ReadOnly,[0,1]);let Jm=7680;class Cn{constructor(a,p,m,v,_,C){this.test=a,this.ref=p,this.mask=m,this.fail=v,this.depthFail=_,this.pass=C}}Cn.disabled=new Cn({func:519,mask:0},0,0,Jm,Jm,Jm);class _n{constructor(a,p,m){this.enable=a,this.mode=p,this.frontFace=m}}let Ec;function Hf(b,a,p,m,v){let _=b.context,C=_.gl,P=b.useProgram("collisionBox"),O=[],D=0,V=0;for(let me=0;me<m.length;me++){let ge=m[me],ae=a.getTile(ge).getBucket(p);if(!ae)continue;let Ie=v?ae.textCollisionBox:ae.iconCollisionBox,Ae=ae.collisionCircleArray;if(Ae.length>0){let qe=o.H();o.aQ(qe,ae.placementInvProjMatrix,b.transform.glCoordMatrix),o.aQ(qe,qe,ae.placementViewportMatrix),O.push({circleArray:Ae,circleOffset:V,transform:ge.posMatrix,invTransform:qe,coord:ge}),D+=Ae.length/4,V=D}Ie&&P.draw(_,C.LINES,Rr.disabled,Cn.disabled,b.colorModeForRenderPass(),_n.disabled,{u_matrix:ge.posMatrix,u_pixel_extrude_scale:[1/(U=b.transform).width,1/U.height]},b.style.map.terrain&&b.style.map.terrain.getTerrainData(ge),p.id,Ie.layoutVertexBuffer,Ie.indexBuffer,Ie.segments,null,b.transform.zoom,null,null,Ie.collisionVertexBuffer)}var U;if(!v||!O.length)return;let Y=b.useProgram("collisionCircle"),ee=new o.aR;ee.resize(4*D),ee._trim();let oe=0;for(let me of O)for(let ge=0;ge<me.circleArray.length/4;ge++){let ae=4*ge,Ie=me.circleArray[ae+0],Ae=me.circleArray[ae+1],qe=me.circleArray[ae+2],Je=me.circleArray[ae+3];ee.emplace(oe++,Ie,Ae,qe,Je,0),ee.emplace(oe++,Ie,Ae,qe,Je,1),ee.emplace(oe++,Ie,Ae,qe,Je,2),ee.emplace(oe++,Ie,Ae,qe,Je,3)}(!Ec||Ec.length<2*D)&&(Ec=function(me){let ge=2*me,ae=new o.aT;ae.resize(ge),ae._trim();for(let Ie=0;Ie<ge;Ie++){let Ae=6*Ie;ae.uint16[Ae+0]=4*Ie+0,ae.uint16[Ae+1]=4*Ie+1,ae.uint16[Ae+2]=4*Ie+2,ae.uint16[Ae+3]=4*Ie+2,ae.uint16[Ae+4]=4*Ie+3,ae.uint16[Ae+5]=4*Ie+0}return ae}(D));let le=_.createIndexBuffer(Ec,!0),de=_.createVertexBuffer(ee,o.aS.members,!0);for(let me of O){let ge=xc(me.transform,me.invTransform,b.transform);Y.draw(_,C.TRIANGLES,Rr.disabled,Cn.disabled,b.colorModeForRenderPass(),_n.disabled,ge,b.style.map.terrain&&b.style.map.terrain.getTerrainData(me.coord),p.id,de,le,o.a0.simpleSegment(0,2*me.circleOffset,me.circleArray.length,me.circleArray.length/2),null,b.transform.zoom,null,null,null)}de.destroy(),le.destroy()}_n.disabled=new _n(!1,1029,2305),_n.backCCW=new _n(!0,1029,2305);let Gf=o.an(new Float32Array(16));function W0(b,a,p,m,v,_){let{horizontalAlign:C,verticalAlign:P}=o.au(b);return new o.P((-(C-.5)*a/v+m[0])*_,(-(P-.5)*p/v+m[1])*_)}function Tc(b,a,p,m,v,_){let C=a.tileAnchorPoint.add(new o.P(a.translation[0],a.translation[1]));if(a.pitchWithMap){let P=m.mult(_);p||(P=P.rotate(-v));let O=C.add(P);return re(O.x,O.y,a.labelPlaneMatrix,a.getElevation).point}if(p){let P=Le(a.tileAnchorPoint.x+1,a.tileAnchorPoint.y,a).point.sub(b),O=Math.atan(P.y/P.x)+(P.x<0?Math.PI:0);return b.add(m.rotate(O))}return b.add(m)}function Vp(b,a,p,m,v,_,C,P,O,D,V,U,Y,ee){let oe=b.text.placedSymbolArray,le=b.text.dynamicLayoutVertexArray,de=b.icon.dynamicLayoutVertexArray,me={};le.clear();for(let ge=0;ge<oe.length;ge++){let ae=oe.get(ge),Ie=ae.hidden||!ae.crossTileID||b.allowVerticalPlacement&&!ae.placedOrientation?null:m[ae.crossTileID];if(Ie){let Ae=new o.P(ae.anchorX,ae.anchorY),qe={getElevation:ee,width:v.width,height:v.height,labelPlaneMatrix:_,lineVertexArray:null,pitchWithMap:p,projection:V,projectionCache:null,tileAnchorPoint:Ae,translation:U,unwrappedTileID:Y},Je=p?re(Ae.x,Ae.y,C,ee):Le(Ae.x,Ae.y,qe),ct=H(v.cameraToCenterDistance,Je.signedDistanceFromCamera),Ct=o.ai(b.textSizeData,O,ae)*ct/o.ap;p&&(Ct*=b.tilePixelRatio/P);let{width:Lt,height:xt,anchor:_t,textOffset:Wt,textBoxScale:mr}=Ie,It=W0(_t,Lt,xt,Wt,mr,Ct),Nt=V.getPitchedTextCorrection(v,Ae.add(new o.P(U[0],U[1])),Y),fr=Tc(Je.point,qe,a,It,v.angle,Nt),zn=b.allowVerticalPlacement&&ae.placedOrientation===o.ah.vertical?Math.PI/2:0;for(let Tr=0;Tr<ae.numGlyphs;Tr++)o.aj(le,fr,zn);D&&ae.associatedIconIndex>=0&&(me[ae.associatedIconIndex]={shiftedAnchor:fr,angle:zn})}else rr(ae.numGlyphs,le)}if(D){de.clear();let ge=b.icon.placedSymbolArray;for(let ae=0;ae<ge.length;ae++){let Ie=ge.get(ae);if(Ie.hidden)rr(Ie.numGlyphs,de);else{let Ae=me[ae];if(Ae)for(let qe=0;qe<Ie.numGlyphs;qe++)o.aj(de,Ae.shiftedAnchor,Ae.angle);else rr(Ie.numGlyphs,de)}}b.icon.dynamicLayoutVertexBuffer.updateData(de)}b.text.dynamicLayoutVertexBuffer.updateData(le)}function Ga(b,a,p){return p.iconsInText&&a?"symbolTextAndIcon":b?"symbolSDF":"symbolIcon"}function Z0(b,a,p,m,v,_,C,P,O,D,V,U){let Y=b.context,ee=Y.gl,oe=b.transform,le=_c(),de=P==="map",me=O==="map",ge=P!=="viewport"&&p.layout.get("symbol-placement")!=="point",ae=de&&!me&&!ge,Ie=!me&&ge,Ae=!p.layout.get("symbol-sort-key").isConstant(),qe=!1,Je=b.depthModeForSublayer(0,Rr.ReadOnly),ct=p._unevaluatedLayout.hasValue("text-variable-anchor")||p._unevaluatedLayout.hasValue("text-variable-anchor-offset"),Ct=[],Lt=le.getCircleRadiusCorrection(oe);for(let xt of m){let _t=a.getTile(xt),Wt=_t.getBucket(p);if(!Wt)continue;let mr=v?Wt.text:Wt.icon;if(!mr||!mr.segments.get().length||!mr.hasVisibleVertices)continue;let It=mr.programConfigurations.get(p.id),Nt=v||Wt.sdfIcons,fr=v?Wt.textSizeData:Wt.iconSizeData,zn=me||oe.pitch!==0,Tr=b.useProgram(Ga(Nt,v,Wt),It),Br=o.ag(fr,oe.zoom),Fn=b.style.map.terrain&&b.style.map.terrain.getTerrainData(xt),oo,Ms,jn,Xo,So=[0,0],ao=null;if(v)Ms=_t.glyphAtlasTexture,jn=ee.LINEAR,oo=_t.glyphAtlasTexture.size,Wt.iconsInText&&(So=_t.imageAtlasTexture.size,ao=_t.imageAtlasTexture,Xo=zn||b.options.rotating||b.options.zooming||fr.kind==="composite"||fr.kind==="camera"?ee.LINEAR:ee.NEAREST);else{let Gr=p.layout.get("icon-size").constantOr(0)!==1||Wt.iconsNeedLinear;Ms=_t.imageAtlasTexture,jn=Nt||b.options.rotating||b.options.zooming||Gr||zn?ee.LINEAR:ee.NEAREST,oo=_t.imageAtlasTexture.size}let Io=jr(_t,1,b.transform.zoom),nl=Ie?xt.posMatrix:Gf,id=Rt(nl,me,de,b.transform,Io),gv=Pt(nl,me,de,b.transform,Io),od=Pt(xt.posMatrix,me,de,b.transform,Io),Ka=le.translatePosition(b.transform,_t,_,C),yv=ct&&Wt.hasTextData(),_1=p.layout.get("icon-text-fit")!=="none"&&yv&&Wt.hasIconData();if(ge){let Gr=b.style.map.terrain?(ad,sd)=>b.style.map.terrain.getElevation(xt,ad,sd):null,Oc=p.layout.get("text-rotation-alignment")==="map";K(Wt,xt.posMatrix,b,v,id,od,me,D,Oc,le,xt.toUnwrapped(),oe.width,oe.height,Ka,Gr)}let Ya=xt.posMatrix,Xa=v&&ct||_1,xu=ge||Xa?Gf:id,Ps=gv,Ki=Nt&&p.paint.get(v?"text-halo-width":"icon-halo-width").constantOr(1)!==0,so;so=Nt?Wt.iconsInText?D0(fr.kind,Br,ae,me,ge,Xa,b,Ya,xu,Ps,Ka,oo,So,Lt):Uf(fr.kind,Br,ae,me,ge,Xa,b,Ya,xu,Ps,Ka,v,oo,!0,Lt):WS(fr.kind,Br,ae,me,ge,Xa,b,Ya,xu,Ps,Ka,v,oo,Lt);let Ca={program:Tr,buffers:mr,uniformValues:so,atlasTexture:Ms,atlasTextureIcon:ao,atlasInterpolation:jn,atlasInterpolationIcon:Xo,isSDF:Nt,hasHalo:Ki};if(Ae&&Wt.canOverlap){qe=!0;let Gr=mr.segments.get();for(let Oc of Gr)Ct.push({segments:new o.a0([Oc]),sortKey:Oc.sortKey,state:Ca,terrainData:Fn})}else Ct.push({segments:mr.segments,sortKey:0,state:Ca,terrainData:Fn})}qe&&Ct.sort((xt,_t)=>xt.sortKey-_t.sortKey);for(let xt of Ct){let _t=xt.state;if(Y.activeTexture.set(ee.TEXTURE0),_t.atlasTexture.bind(_t.atlasInterpolation,ee.CLAMP_TO_EDGE),_t.atlasTextureIcon&&(Y.activeTexture.set(ee.TEXTURE1),_t.atlasTextureIcon&&_t.atlasTextureIcon.bind(_t.atlasInterpolationIcon,ee.CLAMP_TO_EDGE)),_t.isSDF){let Wt=_t.uniformValues;_t.hasHalo&&(Wt.u_is_halo=1,K0(_t.buffers,xt.segments,p,b,_t.program,Je,V,U,Wt,xt.terrainData)),Wt.u_is_halo=0}K0(_t.buffers,xt.segments,p,b,_t.program,Je,V,U,_t.uniformValues,xt.terrainData)}}function K0(b,a,p,m,v,_,C,P,O,D){let V=m.context;v.draw(V,V.gl.TRIANGLES,_,C,P,_n.disabled,O,D,p.id,b.layoutVertexBuffer,b.indexBuffer,a,p.paint,m.transform.zoom,b.programConfigurations.get(p.id),b.dynamicLayoutVertexBuffer,b.opacityVertexBuffer)}function Y0(b,a,p,m){let v=b.context,_=v.gl,C=Cn.disabled,P=new si([_.ONE,_.ONE],o.aM.transparent,[!0,!0,!0,!0]),O=a.getBucket(p);if(!O)return;let D=m.key,V=p.heatmapFbos.get(D);V||(V=Wf(v,a.tileSize,a.tileSize),p.heatmapFbos.set(D,V)),v.bindFramebuffer.set(V.framebuffer),v.viewport.set([0,0,a.tileSize,a.tileSize]),v.clear({color:o.aM.transparent});let U=O.programConfigurations.get(p.id),Y=b.useProgram("heatmap",U),ee=b.style.map.terrain.getTerrainData(m);Y.draw(v,_.TRIANGLES,Rr.disabled,C,P,_n.disabled,Yo(m.posMatrix,a,b.transform.zoom,p.paint.get("heatmap-intensity")),ee,p.id,O.layoutVertexBuffer,O.indexBuffer,O.segments,p.paint,b.transform.zoom,U)}function Ac(b,a,p){let m=b.context,v=m.gl;m.setColorMode(b.colorModeForRenderPass());let _=Zf(m,a),C=p.key,P=a.heatmapFbos.get(C);P&&(m.activeTexture.set(v.TEXTURE0),v.bindTexture(v.TEXTURE_2D,P.colorAttachment.get()),m.activeTexture.set(v.TEXTURE1),_.bind(v.LINEAR,v.CLAMP_TO_EDGE),b.useProgram("heatmapTexture").draw(m,v.TRIANGLES,Rr.disabled,Cn.disabled,b.colorModeForRenderPass(),_n.disabled,$m(b,a,0,1),null,a.id,b.rasterBoundsBuffer,b.quadTriangleIndexBuffer,b.rasterBoundsSegments,a.paint,b.transform.zoom),P.destroy(),a.heatmapFbos.delete(C))}function Wf(b,a,p){var m,v;let _=b.gl,C=_.createTexture();_.bindTexture(_.TEXTURE_2D,C),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_WRAP_S,_.CLAMP_TO_EDGE),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_WRAP_T,_.CLAMP_TO_EDGE),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MIN_FILTER,_.LINEAR),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MAG_FILTER,_.LINEAR);let P=(m=b.HALF_FLOAT)!==null&&m!==void 0?m:_.UNSIGNED_BYTE,O=(v=b.RGBA16F)!==null&&v!==void 0?v:_.RGBA;_.texImage2D(_.TEXTURE_2D,0,O,a,p,0,_.RGBA,P,null);let D=b.createFramebuffer(a,p,!1,!1);return D.colorAttachment.set(C),D}function Zf(b,a){return a.colorRampTexture||(a.colorRampTexture=new Se(b,a.colorRamp,b.gl.RGBA)),a.colorRampTexture}function Up(b,a,p,m,v){if(!p||!m||!m.imageAtlas)return;let _=m.imageAtlas.patternPositions,C=_[p.to.toString()],P=_[p.from.toString()];if(!C&&P&&(C=P),!P&&C&&(P=C),!C||!P){let O=v.getPaintProperty(a);C=_[O],P=_[O]}C&&P&&b.setConstantPatternPositions(C,P)}function Kf(b,a,p,m,v,_,C){let P=b.context.gl,O="fill-pattern",D=p.paint.get(O),V=D&&D.constantOr(1),U=p.getCrossfadeParameters(),Y,ee,oe,le,de;C?(ee=V&&!p.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",Y=P.LINES):(ee=V?"fillPattern":"fill",Y=P.TRIANGLES);let me=D.constantOr(null);for(let ge of m){let ae=a.getTile(ge);if(V&&!ae.patternsLoaded())continue;let Ie=ae.getBucket(p);if(!Ie)continue;let Ae=Ie.programConfigurations.get(p.id),qe=b.useProgram(ee,Ae),Je=b.style.map.terrain&&b.style.map.terrain.getTerrainData(ge);V&&(b.context.activeTexture.set(P.TEXTURE0),ae.imageAtlasTexture.bind(P.LINEAR,P.CLAMP_TO_EDGE),Ae.updatePaintBuffers(U)),Up(Ae,O,me,ae,p);let ct=Je?ge:null,Ct=b.translatePosMatrix(ct?ct.posMatrix:ge.posMatrix,ae,p.paint.get("fill-translate"),p.paint.get("fill-translate-anchor"));if(C){le=Ie.indexBuffer2,de=Ie.segments2;let Lt=[P.drawingBufferWidth,P.drawingBufferHeight];oe=ee==="fillOutlinePattern"&&V?US(Ct,b,U,ae,Lt):AR(Ct,Lt)}else le=Ie.indexBuffer,de=Ie.segments,oe=V?VS(Ct,b,U,ae):Fp(Ct);qe.draw(b.context,Y,v,b.stencilModeForClipping(ge),_,_n.disabled,oe,Je,p.id,Ie.layoutVertexBuffer,le,de,p.paint,b.transform.zoom,Ae)}}function Qm(b,a,p,m,v,_,C){let P=b.context,O=P.gl,D="fill-extrusion-pattern",V=p.paint.get(D),U=V.constantOr(1),Y=p.getCrossfadeParameters(),ee=p.paint.get("fill-extrusion-opacity"),oe=V.constantOr(null);for(let le of m){let de=a.getTile(le),me=de.getBucket(p);if(!me)continue;let ge=b.style.map.terrain&&b.style.map.terrain.getTerrainData(le),ae=me.programConfigurations.get(p.id),Ie=b.useProgram(U?"fillExtrusionPattern":"fillExtrusion",ae);U&&(b.context.activeTexture.set(O.TEXTURE0),de.imageAtlasTexture.bind(O.LINEAR,O.CLAMP_TO_EDGE),ae.updatePaintBuffers(Y)),Up(ae,D,oe,de,p);let Ae=b.translatePosMatrix(le.posMatrix,de,p.paint.get("fill-extrusion-translate"),p.paint.get("fill-extrusion-translate-anchor")),qe=p.paint.get("fill-extrusion-vertical-gradient"),Je=U?Um(Ae,b,qe,ee,le,Y,de):Bf(Ae,b,qe,ee);Ie.draw(P,P.gl.TRIANGLES,v,_,C,_n.backCCW,Je,ge,p.id,me.layoutVertexBuffer,me.indexBuffer,me.segments,p.paint,b.transform.zoom,ae,b.style.map.terrain&&me.centroidVertexBuffer)}}function $p(b,a,p,m,v,_,C){let P=b.context,O=P.gl,D=p.fbo;if(!D)return;let V=b.useProgram("hillshade"),U=b.style.map.terrain&&b.style.map.terrain.getTerrainData(a);P.activeTexture.set(O.TEXTURE0),O.bindTexture(O.TEXTURE_2D,D.colorAttachment.get()),V.draw(P,O.TRIANGLES,v,_,C,_n.disabled,((Y,ee,oe,le)=>{let de=oe.paint.get("hillshade-shadow-color"),me=oe.paint.get("hillshade-highlight-color"),ge=oe.paint.get("hillshade-accent-color"),ae=oe.paint.get("hillshade-illumination-direction")*(Math.PI/180);oe.paint.get("hillshade-illumination-anchor")==="viewport"&&(ae-=Y.transform.angle);let Ie=!Y.options.moving;return{u_matrix:le?le.posMatrix:Y.transform.calculatePosMatrix(ee.tileID.toUnwrapped(),Ie),u_image:0,u_latrange:Hm(0,ee.tileID),u_light:[oe.paint.get("hillshade-exaggeration"),ae],u_shadow:de,u_highlight:me,u_accent:ge}})(b,p,m,U?a:null),U,m.id,b.rasterBoundsBuffer,b.quadTriangleIndexBuffer,b.rasterBoundsSegments)}function Hp(b,a,p,m,v,_){let C=b.context,P=C.gl,O=a.dem;if(O&&O.data){let D=O.dim,V=O.stride,U=O.getPixels();if(C.activeTexture.set(P.TEXTURE1),C.pixelStoreUnpackPremultiplyAlpha.set(!1),a.demTexture=a.demTexture||b.getTileTexture(V),a.demTexture){let ee=a.demTexture;ee.update(U,{premultiply:!1}),ee.bind(P.NEAREST,P.CLAMP_TO_EDGE)}else a.demTexture=new Se(C,U,P.RGBA,{premultiply:!1}),a.demTexture.bind(P.NEAREST,P.CLAMP_TO_EDGE);C.activeTexture.set(P.TEXTURE0);let Y=a.fbo;if(!Y){let ee=new Se(C,{width:D,height:D,data:null},P.RGBA);ee.bind(P.LINEAR,P.CLAMP_TO_EDGE),Y=a.fbo=C.createFramebuffer(D,D,!0,!1),Y.colorAttachment.set(ee.texture)}C.bindFramebuffer.set(Y.framebuffer),C.viewport.set([0,0,D,D]),b.useProgram("hillshadePrepare").draw(C,P.TRIANGLES,m,v,_,_n.disabled,((ee,oe)=>{let le=oe.stride,de=o.H();return o.aP(de,0,o.X,-o.X,0,0,1),o.J(de,de,[0,-o.X,0]),{u_matrix:de,u_image:1,u_dimension:[le,le],u_zoom:ee.overscaledZ,u_unpack:oe.getUnpackVector()}})(a.tileID,O),null,p.id,b.rasterBoundsBuffer,b.quadTriangleIndexBuffer,b.rasterBoundsSegments),a.needsHillshadePrepare=!1}}function a2(b,a,p,m,v,_){let C=m.paint.get("raster-fade-duration");if(!_&&C>0){let P=y.now(),O=(P-b.timeAdded)/C,D=a?(P-a.timeAdded)/C:-1,V=p.getSource(),U=v.coveringZoomLevel({tileSize:V.tileSize,roundZoom:V.roundZoom}),Y=!a||Math.abs(a.tileID.overscaledZ-U)>Math.abs(b.tileID.overscaledZ-U),ee=Y&&b.refreshedUponExpiration?1:o.ac(Y?O:1-D,0,1);return b.refreshedUponExpiration&&O>=1&&(b.refreshedUponExpiration=!1),a?{opacity:1,mix:1-ee}:{opacity:ee,mix:0}}return{opacity:1,mix:0}}let X0=new o.aM(1,0,0,1),rn=new o.aM(0,1,0,1),ev=new o.aM(0,0,1,1),VR=new o.aM(1,0,1,1),s2=new o.aM(0,1,1,1);function Gp(b,a,p,m){tv(b,0,a+p/2,b.transform.width,p,m)}function l2(b,a,p,m){tv(b,a-p/2,0,p,b.transform.height,m)}function tv(b,a,p,m,v,_){let C=b.context,P=C.gl;P.enable(P.SCISSOR_TEST),P.scissor(a*b.pixelRatio,p*b.pixelRatio,m*b.pixelRatio,v*b.pixelRatio),C.clear({color:_}),P.disable(P.SCISSOR_TEST)}function u2(b,a,p){let m=b.context,v=m.gl,_=p.posMatrix,C=b.useProgram("debug"),P=Rr.disabled,O=Cn.disabled,D=b.colorModeForRenderPass(),V="$debug",U=b.style.map.terrain&&b.style.map.terrain.getTerrainData(p);m.activeTexture.set(v.TEXTURE0);let Y=a.getTileByID(p.key).latestRawTileData,ee=Math.floor((Y&&Y.byteLength||0)/1024),oe=a.getTile(p).tileSize,le=512/Math.min(oe,512)*(p.overscaledZ/b.transform.zoom)*.5,de=p.canonical.toString();p.overscaledZ!==p.canonical.z&&(de+=` => ${p.overscaledZ}`),function(me,ge){me.initDebugOverlayCanvas();let ae=me.debugOverlayCanvas,Ie=me.context.gl,Ae=me.debugOverlayCanvas.getContext("2d");Ae.clearRect(0,0,ae.width,ae.height),Ae.shadowColor="white",Ae.shadowBlur=2,Ae.lineWidth=1.5,Ae.strokeStyle="white",Ae.textBaseline="top",Ae.font="bold 36px Open Sans, sans-serif",Ae.fillText(ge,5,5),Ae.strokeText(ge,5,5),me.debugOverlayTexture.update(ae),me.debugOverlayTexture.bind(Ie.LINEAR,Ie.CLAMP_TO_EDGE)}(b,`${de} ${ee}kB`),C.draw(m,v.TRIANGLES,P,O,si.alphaBlended,_n.disabled,Vf(_,o.aM.transparent,le),null,V,b.debugBuffer,b.quadTriangleIndexBuffer,b.debugSegments),C.draw(m,v.LINE_STRIP,P,O,D,_n.disabled,Vf(_,o.aM.red),U,V,b.debugBuffer,b.tileBorderIndexBuffer,b.debugSegments)}function c2(b,a,p){let m=b.context,v=m.gl,_=b.colorModeForRenderPass(),C=new Rr(v.LEQUAL,Rr.ReadWrite,b.depthRangeFor3D),P=b.useProgram("terrain"),O=a.getTerrainMesh();m.bindFramebuffer.set(null),m.viewport.set([0,0,b.width,b.height]);for(let D of p){let V=b.renderToTexture.getTexture(D),U=a.getTerrainData(D.tileID);m.activeTexture.set(v.TEXTURE0),v.bindTexture(v.TEXTURE_2D,V.texture);let Y=b.transform.calculatePosMatrix(D.tileID.toUnwrapped()),ee=a.getMeshFrameDelta(b.transform.zoom),oe=b.transform.calculateFogMatrix(D.tileID.toUnwrapped()),le=N0(Y,ee,oe,b.style.sky,b.transform.pitch);P.draw(m,v.TRIANGLES,C,Cn.disabled,_,_n.backCCW,le,U,"terrain",O.vertexBuffer,O.indexBuffer,O.segments)}}class rv{constructor(a,p,m){this.vertexBuffer=a,this.indexBuffer=p,this.segments=m}destroy(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.vertexBuffer=null,this.indexBuffer=null,this.segments=null}}class nv{constructor(a,p){this.context=new BR(a),this.transform=p,this._tileTextures={},this.terrainFacilitator={dirty:!0,matrix:o.an(new Float64Array(16)),renderTime:0},this.setup(),this.numSublayers=sr.maxUnderzooming+sr.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new R0}resize(a,p,m){if(this.width=Math.floor(a*m),this.height=Math.floor(p*m),this.pixelRatio=m,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(let v of this.style._order)this.style._layers[v].resize()}setup(){let a=this.context,p=new o.aX;p.emplaceBack(0,0),p.emplaceBack(o.X,0),p.emplaceBack(0,o.X),p.emplaceBack(o.X,o.X),this.tileExtentBuffer=a.createVertexBuffer(p,bc.members),this.tileExtentSegments=o.a0.simpleSegment(0,0,4,2);let m=new o.aX;m.emplaceBack(0,0),m.emplaceBack(o.X,0),m.emplaceBack(0,o.X),m.emplaceBack(o.X,o.X),this.debugBuffer=a.createVertexBuffer(m,bc.members),this.debugSegments=o.a0.simpleSegment(0,0,4,5);let v=new o.$;v.emplaceBack(0,0,0,0),v.emplaceBack(o.X,0,o.X,0),v.emplaceBack(0,o.X,0,o.X),v.emplaceBack(o.X,o.X,o.X,o.X),this.rasterBoundsBuffer=a.createVertexBuffer(v,Bt.members),this.rasterBoundsSegments=o.a0.simpleSegment(0,0,4,2);let _=new o.aX;_.emplaceBack(0,0),_.emplaceBack(1,0),_.emplaceBack(0,1),_.emplaceBack(1,1),this.viewportBuffer=a.createVertexBuffer(_,bc.members),this.viewportSegments=o.a0.simpleSegment(0,0,4,2);let C=new o.aZ;C.emplaceBack(0),C.emplaceBack(1),C.emplaceBack(3),C.emplaceBack(2),C.emplaceBack(0),this.tileBorderIndexBuffer=a.createIndexBuffer(C);let P=new o.aY;P.emplaceBack(0,1,2),P.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=a.createIndexBuffer(P);let O=this.context.gl;this.stencilClearMode=new Cn({func:O.ALWAYS,mask:0},0,255,O.ZERO,O.ZERO,O.ZERO)}clearStencil(){let a=this.context,p=a.gl;this.nextStencilID=1,this.currentStencilSource=void 0;let m=o.H();o.aP(m,0,this.width,this.height,0,0,1),o.K(m,m,[p.drawingBufferWidth,p.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(a,p.TRIANGLES,Rr.disabled,this.stencilClearMode,si.disabled,_n.disabled,Ko(m),null,"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(a,p){if(this.currentStencilSource===a.source||!a.isTileClipped()||!p||!p.length)return;this.currentStencilSource=a.source;let m=this.context,v=m.gl;this.nextStencilID+p.length>256&&this.clearStencil(),m.setColorMode(si.disabled),m.setDepthMode(Rr.disabled);let _=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(let C of p){let P=this._tileClippingMaskIDs[C.key]=this.nextStencilID++,O=this.style.map.terrain&&this.style.map.terrain.getTerrainData(C);_.draw(m,v.TRIANGLES,Rr.disabled,new Cn({func:v.ALWAYS,mask:0},P,255,v.KEEP,v.KEEP,v.REPLACE),si.disabled,_n.disabled,Ko(C.posMatrix),O,"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();let a=this.nextStencilID++,p=this.context.gl;return new Cn({func:p.NOTEQUAL,mask:255},a,255,p.KEEP,p.KEEP,p.REPLACE)}stencilModeForClipping(a){let p=this.context.gl;return new Cn({func:p.EQUAL,mask:255},this._tileClippingMaskIDs[a.key],0,p.KEEP,p.KEEP,p.REPLACE)}stencilConfigForOverlap(a){let p=this.context.gl,m=a.sort((C,P)=>P.overscaledZ-C.overscaledZ),v=m[m.length-1].overscaledZ,_=m[0].overscaledZ-v+1;if(_>1){this.currentStencilSource=void 0,this.nextStencilID+_>256&&this.clearStencil();let C={};for(let P=0;P<_;P++)C[P+v]=new Cn({func:p.GEQUAL,mask:255},P+this.nextStencilID,255,p.KEEP,p.KEEP,p.REPLACE);return this.nextStencilID+=_,[C,m]}return[{[v]:Cn.disabled},m]}colorModeForRenderPass(){let a=this.context.gl;return this._showOverdrawInspector?new si([a.CONSTANT_COLOR,a.ONE],new o.aM(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?si.unblended:si.alphaBlended}depthModeForSublayer(a,p,m){if(!this.opaquePassEnabledForLayer())return Rr.disabled;let v=1-((1+this.currentLayer)*this.numSublayers+a)*this.depthEpsilon;return new Rr(m||this.context.gl.LEQUAL,p,[v,v])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(a,p){this.style=a,this.options=p,this.lineAtlas=a.lineAtlas,this.imageManager=a.imageManager,this.glyphManager=a.glyphManager,this.symbolFadeChange=a.placement.symbolFadeChange(y.now()),this.imageManager.beginFrame();let m=this.style._order,v=this.style.sourceCaches,_={},C={},P={};for(let O in v){let D=v[O];D.used&&D.prepare(this.context),_[O]=D.getVisibleCoordinates(),C[O]=_[O].slice().reverse(),P[O]=D.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let O=0;O<m.length;O++)if(this.style._layers[m[O]].is3D()){this.opaquePassCutoff=O;break}this.maybeDrawDepthAndCoords(!1),this.renderToTexture&&(this.renderToTexture.prepareForRender(this.style,this.transform.zoom),this.opaquePassCutoff=0),this.renderPass="offscreen";for(let O of m){let D=this.style._layers[O];if(!D.hasOffscreenPass()||D.isHidden(this.transform.zoom))continue;let V=C[D.source];(D.type==="custom"||V.length)&&this.renderLayer(this,v[D.source],D,V)}if(this.context.bindFramebuffer.set(null),this.context.clear({color:p.showOverdrawInspector?o.aM.black:o.aM.transparent,depth:1}),this.clearStencil(),this.style.sky&&function(O,D){let V=O.context,U=V.gl,Y=((me,ge,ae)=>({u_sky_color:me.properties.get("sky-color"),u_horizon_color:me.properties.get("horizon-color"),u_horizon:(ge.height/2+ge.getHorizon())*ae,u_sky_horizon_blend:me.properties.get("sky-horizon-blend")*ge.height/2*ae}))(D,O.style.map.transform,O.pixelRatio),ee=new Rr(U.LEQUAL,Rr.ReadWrite,[0,1]),oe=Cn.disabled,le=O.colorModeForRenderPass(),de=O.useProgram("sky");if(!D.mesh){let me=new o.aX;me.emplaceBack(-1,-1),me.emplaceBack(1,-1),me.emplaceBack(1,1),me.emplaceBack(-1,1);let ge=new o.aY;ge.emplaceBack(0,1,2),ge.emplaceBack(0,2,3),D.mesh=new rv(V.createVertexBuffer(me,bc.members),V.createIndexBuffer(ge),o.a0.simpleSegment(0,0,me.length,ge.length))}de.draw(V,U.TRIANGLES,ee,oe,le,_n.disabled,Y,void 0,"sky",D.mesh.vertexBuffer,D.mesh.indexBuffer,D.mesh.segments)}(this,this.style.sky),this._showOverdrawInspector=p.showOverdrawInspector,this.depthRangeFor3D=[0,1-(a._order.length+2)*this.numSublayers*this.depthEpsilon],!this.renderToTexture)for(this.renderPass="opaque",this.currentLayer=m.length-1;this.currentLayer>=0;this.currentLayer--){let O=this.style._layers[m[this.currentLayer]],D=v[O.source],V=_[O.source];this._renderTileClippingMasks(O,V),this.renderLayer(this,D,O,V)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<m.length;this.currentLayer++){let O=this.style._layers[m[this.currentLayer]],D=v[O.source];if(this.renderToTexture&&this.renderToTexture.renderLayer(O))continue;let V=(O.type==="symbol"?P:C)[O.source];this._renderTileClippingMasks(O,_[O.source]),this.renderLayer(this,D,O,V)}if(this.options.showTileBoundaries){let O=function(D,V){let U=null,Y=Object.values(D._layers).flatMap(de=>de.source&&!de.isHidden(V)?[D.sourceCaches[de.source]]:[]),ee=Y.filter(de=>de.getSource().type==="vector"),oe=Y.filter(de=>de.getSource().type!=="vector"),le=de=>{(!U||U.getSource().maxzoom<de.getSource().maxzoom)&&(U=de)};return ee.forEach(de=>le(de)),U||oe.forEach(de=>le(de)),U}(this.style,this.transform.zoom);O&&function(D,V,U){for(let Y=0;Y<U.length;Y++)u2(D,V,U[Y])}(this,O,O.getVisibleCoordinates())}this.options.showPadding&&function(O){let D=O.transform.padding;Gp(O,O.transform.height-(D.top||0),3,X0),Gp(O,D.bottom||0,3,rn),l2(O,D.left||0,3,ev),l2(O,O.transform.width-(D.right||0),3,VR);let V=O.transform.centerPoint;(function(U,Y,ee,oe){tv(U,Y-1,ee-10,2,20,oe),tv(U,Y-10,ee-1,20,2,oe)})(O,V.x,O.transform.height-V.y,s2)}(this),this.context.setDefault()}maybeDrawDepthAndCoords(a){if(!this.style||!this.style.map||!this.style.map.terrain)return;let p=this.terrainFacilitator.matrix,m=this.transform.modelViewProjectionMatrix,v=this.terrainFacilitator.dirty;v||(v=a?!o.a_(p,m):!o.a$(p,m)),v||(v=this.style.map.terrain.sourceCache.tilesAfterTime(this.terrainFacilitator.renderTime).length>0),v&&(o.b0(p,m),this.terrainFacilitator.renderTime=Date.now(),this.terrainFacilitator.dirty=!1,function(_,C){let P=_.context,O=P.gl,D=si.unblended,V=new Rr(O.LEQUAL,Rr.ReadWrite,[0,1]),U=C.getTerrainMesh(),Y=C.sourceCache.getRenderableTiles(),ee=_.useProgram("terrainDepth");P.bindFramebuffer.set(C.getFramebuffer("depth").framebuffer),P.viewport.set([0,0,_.width/devicePixelRatio,_.height/devicePixelRatio]),P.clear({color:o.aM.transparent,depth:1});for(let oe of Y){let le=C.getTerrainData(oe.tileID),de={u_matrix:_.transform.calculatePosMatrix(oe.tileID.toUnwrapped()),u_ele_delta:C.getMeshFrameDelta(_.transform.zoom)};ee.draw(P,O.TRIANGLES,V,Cn.disabled,D,_n.backCCW,de,le,"terrain",U.vertexBuffer,U.indexBuffer,U.segments)}P.bindFramebuffer.set(null),P.viewport.set([0,0,_.width,_.height])}(this,this.style.map.terrain),function(_,C){let P=_.context,O=P.gl,D=si.unblended,V=new Rr(O.LEQUAL,Rr.ReadWrite,[0,1]),U=C.getTerrainMesh(),Y=C.getCoordsTexture(),ee=C.sourceCache.getRenderableTiles(),oe=_.useProgram("terrainCoords");P.bindFramebuffer.set(C.getFramebuffer("coords").framebuffer),P.viewport.set([0,0,_.width/devicePixelRatio,_.height/devicePixelRatio]),P.clear({color:o.aM.transparent,depth:1}),C.coordsIndex=[];for(let le of ee){let de=C.getTerrainData(le.tileID);P.activeTexture.set(O.TEXTURE0),O.bindTexture(O.TEXTURE_2D,Y.texture);let me={u_matrix:_.transform.calculatePosMatrix(le.tileID.toUnwrapped()),u_terrain_coords_id:(255-C.coordsIndex.length)/255,u_texture:0,u_ele_delta:C.getMeshFrameDelta(_.transform.zoom)};oe.draw(P,O.TRIANGLES,V,Cn.disabled,D,_n.backCCW,me,de,"terrain",U.vertexBuffer,U.indexBuffer,U.segments),C.coordsIndex.push(le.tileID.key)}P.bindFramebuffer.set(null),P.viewport.set([0,0,_.width,_.height])}(this,this.style.map.terrain))}renderLayer(a,p,m,v){if(!m.isHidden(this.transform.zoom)&&(m.type==="background"||m.type==="custom"||(v||[]).length))switch(this.id=m.id,m.type){case"symbol":(function(_,C,P,O,D){if(_.renderPass!=="translucent")return;let V=Cn.disabled,U=_.colorModeForRenderPass();(P._unevaluatedLayout.hasValue("text-variable-anchor")||P._unevaluatedLayout.hasValue("text-variable-anchor-offset"))&&function(Y,ee,oe,le,de,me,ge,ae,Ie){let Ae=ee.transform,qe=_c(),Je=de==="map",ct=me==="map";for(let Ct of Y){let Lt=le.getTile(Ct),xt=Lt.getBucket(oe);if(!xt||!xt.text||!xt.text.segments.get().length)continue;let _t=o.ag(xt.textSizeData,Ae.zoom),Wt=jr(Lt,1,ee.transform.zoom),mr=Rt(Ct.posMatrix,ct,Je,ee.transform,Wt),It=oe.layout.get("icon-text-fit")!=="none"&&xt.hasIconData();if(_t){let Nt=Math.pow(2,Ae.zoom-Lt.tileID.overscaledZ),fr=ee.style.map.terrain?(Tr,Br)=>ee.style.map.terrain.getElevation(Ct,Tr,Br):null,zn=qe.translatePosition(Ae,Lt,ge,ae);Vp(xt,Je,ct,Ie,Ae,mr,Ct.posMatrix,Nt,_t,It,qe,zn,Ct.toUnwrapped(),fr)}}}(O,_,P,C,P.layout.get("text-rotation-alignment"),P.layout.get("text-pitch-alignment"),P.paint.get("text-translate"),P.paint.get("text-translate-anchor"),D),P.paint.get("icon-opacity").constantOr(1)!==0&&Z0(_,C,P,O,!1,P.paint.get("icon-translate"),P.paint.get("icon-translate-anchor"),P.layout.get("icon-rotation-alignment"),P.layout.get("icon-pitch-alignment"),P.layout.get("icon-keep-upright"),V,U),P.paint.get("text-opacity").constantOr(1)!==0&&Z0(_,C,P,O,!0,P.paint.get("text-translate"),P.paint.get("text-translate-anchor"),P.layout.get("text-rotation-alignment"),P.layout.get("text-pitch-alignment"),P.layout.get("text-keep-upright"),V,U),C.map.showCollisionBoxes&&(Hf(_,C,P,O,!0),Hf(_,C,P,O,!1))})(a,p,m,v,this.style.placement.variableOffsets);break;case"circle":(function(_,C,P,O){if(_.renderPass!=="translucent")return;let D=P.paint.get("circle-opacity"),V=P.paint.get("circle-stroke-width"),U=P.paint.get("circle-stroke-opacity"),Y=!P.layout.get("circle-sort-key").isConstant();if(D.constantOr(1)===0&&(V.constantOr(1)===0||U.constantOr(1)===0))return;let ee=_.context,oe=ee.gl,le=_.depthModeForSublayer(0,Rr.ReadOnly),de=Cn.disabled,me=_.colorModeForRenderPass(),ge=[];for(let ae=0;ae<O.length;ae++){let Ie=O[ae],Ae=C.getTile(Ie),qe=Ae.getBucket(P);if(!qe)continue;let Je=qe.programConfigurations.get(P.id),ct=_.useProgram("circle",Je),Ct=qe.layoutVertexBuffer,Lt=qe.indexBuffer,xt=_.style.map.terrain&&_.style.map.terrain.getTerrainData(Ie),_t={programConfiguration:Je,program:ct,layoutVertexBuffer:Ct,indexBuffer:Lt,uniformValues:CR(_,Ie,Ae,P),terrainData:xt};if(Y){let Wt=qe.segments.get();for(let mr of Wt)ge.push({segments:new o.a0([mr]),sortKey:mr.sortKey,state:_t})}else ge.push({segments:qe.segments,sortKey:0,state:_t})}Y&&ge.sort((ae,Ie)=>ae.sortKey-Ie.sortKey);for(let ae of ge){let{programConfiguration:Ie,program:Ae,layoutVertexBuffer:qe,indexBuffer:Je,uniformValues:ct,terrainData:Ct}=ae.state;Ae.draw(ee,oe.TRIANGLES,le,de,me,_n.disabled,ct,Ct,P.id,qe,Je,ae.segments,P.paint,_.transform.zoom,Ie)}})(a,p,m,v);break;case"heatmap":(function(_,C,P,O){if(P.paint.get("heatmap-opacity")===0)return;let D=_.context;if(_.style.map.terrain){for(let V of O){let U=C.getTile(V);C.hasRenderableParent(V)||(_.renderPass==="offscreen"?Y0(_,U,P,V):_.renderPass==="translucent"&&Ac(_,P,V))}D.viewport.set([0,0,_.width,_.height])}else _.renderPass==="offscreen"?function(V,U,Y,ee){let oe=V.context,le=oe.gl,de=Cn.disabled,me=new si([le.ONE,le.ONE],o.aM.transparent,[!0,!0,!0,!0]);(function(ge,ae,Ie){let Ae=ge.gl;ge.activeTexture.set(Ae.TEXTURE1),ge.viewport.set([0,0,ae.width/4,ae.height/4]);let qe=Ie.heatmapFbos.get(o.aU);qe?(Ae.bindTexture(Ae.TEXTURE_2D,qe.colorAttachment.get()),ge.bindFramebuffer.set(qe.framebuffer)):(qe=Wf(ge,ae.width/4,ae.height/4),Ie.heatmapFbos.set(o.aU,qe))})(oe,V,Y),oe.clear({color:o.aM.transparent});for(let ge=0;ge<ee.length;ge++){let ae=ee[ge];if(U.hasRenderableParent(ae))continue;let Ie=U.getTile(ae),Ae=Ie.getBucket(Y);if(!Ae)continue;let qe=Ae.programConfigurations.get(Y.id),Je=V.useProgram("heatmap",qe),{zoom:ct}=V.transform;Je.draw(oe,le.TRIANGLES,Rr.disabled,de,me,_n.disabled,Yo(ae.posMatrix,Ie,ct,Y.paint.get("heatmap-intensity")),null,Y.id,Ae.layoutVertexBuffer,Ae.indexBuffer,Ae.segments,Y.paint,V.transform.zoom,qe)}oe.viewport.set([0,0,V.width,V.height])}(_,C,P,O):_.renderPass==="translucent"&&function(V,U){let Y=V.context,ee=Y.gl;Y.setColorMode(V.colorModeForRenderPass());let oe=U.heatmapFbos.get(o.aU);oe&&(Y.activeTexture.set(ee.TEXTURE0),ee.bindTexture(ee.TEXTURE_2D,oe.colorAttachment.get()),Y.activeTexture.set(ee.TEXTURE1),Zf(Y,U).bind(ee.LINEAR,ee.CLAMP_TO_EDGE),V.useProgram("heatmapTexture").draw(Y,ee.TRIANGLES,Rr.disabled,Cn.disabled,V.colorModeForRenderPass(),_n.disabled,$m(V,U,0,1),null,U.id,V.viewportBuffer,V.quadTriangleIndexBuffer,V.viewportSegments,U.paint,V.transform.zoom))}(_,P)})(a,p,m,v);break;case"line":(function(_,C,P,O){if(_.renderPass!=="translucent")return;let D=P.paint.get("line-opacity"),V=P.paint.get("line-width");if(D.constantOr(1)===0||V.constantOr(1)===0)return;let U=_.depthModeForSublayer(0,Rr.ReadOnly),Y=_.colorModeForRenderPass(),ee=P.paint.get("line-dasharray"),oe=P.paint.get("line-pattern"),le=oe.constantOr(1),de=P.paint.get("line-gradient"),me=P.getCrossfadeParameters(),ge=le?"linePattern":ee?"lineSDF":de?"lineGradient":"line",ae=_.context,Ie=ae.gl,Ae=!0;for(let qe of O){let Je=C.getTile(qe);if(le&&!Je.patternsLoaded())continue;let ct=Je.getBucket(P);if(!ct)continue;let Ct=ct.programConfigurations.get(P.id),Lt=_.context.program.get(),xt=_.useProgram(ge,Ct),_t=Ae||xt.program!==Lt,Wt=_.style.map.terrain&&_.style.map.terrain.getTerrainData(qe),mr=oe.constantOr(null);if(mr&&Je.imageAtlas){let fr=Je.imageAtlas,zn=fr.patternPositions[mr.to.toString()],Tr=fr.patternPositions[mr.from.toString()];zn&&Tr&&Ct.setConstantPatternPositions(zn,Tr)}let It=Wt?qe:null,Nt=le?jp(_,Je,P,me,It):ee?MR(_,Je,P,ee,me,It):de?$S(_,Je,P,ct.lineClipsArray.length,It):Gm(_,Je,P,It);if(le)ae.activeTexture.set(Ie.TEXTURE0),Je.imageAtlasTexture.bind(Ie.LINEAR,Ie.CLAMP_TO_EDGE),Ct.updatePaintBuffers(me);else if(ee&&(_t||_.lineAtlas.dirty))ae.activeTexture.set(Ie.TEXTURE0),_.lineAtlas.bind(ae);else if(de){let fr=ct.gradients[P.id],zn=fr.texture;if(P.gradientVersion!==fr.version){let Tr=256;if(P.stepInterpolant){let Br=C.getSource().maxzoom,Fn=qe.canonical.z===Br?Math.ceil(1<<_.transform.maxZoom-qe.canonical.z):1;Tr=o.ac(o.aV(ct.maxLineLength/o.X*1024*Fn),256,ae.maxTextureSize)}fr.gradient=o.aW({expression:P.gradientExpression(),evaluationKey:"lineProgress",resolution:Tr,image:fr.gradient||void 0,clips:ct.lineClipsArray}),fr.texture?fr.texture.update(fr.gradient):fr.texture=new Se(ae,fr.gradient,Ie.RGBA),fr.version=P.gradientVersion,zn=fr.texture}ae.activeTexture.set(Ie.TEXTURE0),zn.bind(P.stepInterpolant?Ie.NEAREST:Ie.LINEAR,Ie.CLAMP_TO_EDGE)}xt.draw(ae,Ie.TRIANGLES,U,_.stencilModeForClipping(qe),Y,_n.disabled,Nt,Wt,P.id,ct.layoutVertexBuffer,ct.indexBuffer,ct.segments,P.paint,_.transform.zoom,Ct,ct.layoutVertexBuffer2),Ae=!1}})(a,p,m,v);break;case"fill":(function(_,C,P,O){let D=P.paint.get("fill-color"),V=P.paint.get("fill-opacity");if(V.constantOr(1)===0)return;let U=_.colorModeForRenderPass(),Y=P.paint.get("fill-pattern"),ee=_.opaquePassEnabledForLayer()&&!Y.constantOr(1)&&D.constantOr(o.aM.transparent).a===1&&V.constantOr(0)===1?"opaque":"translucent";if(_.renderPass===ee){let oe=_.depthModeForSublayer(1,_.renderPass==="opaque"?Rr.ReadWrite:Rr.ReadOnly);Kf(_,C,P,O,oe,U,!1)}if(_.renderPass==="translucent"&&P.paint.get("fill-antialias")){let oe=_.depthModeForSublayer(P.getPaintProperty("fill-outline-color")?2:0,Rr.ReadOnly);Kf(_,C,P,O,oe,U,!0)}})(a,p,m,v);break;case"fill-extrusion":(function(_,C,P,O){let D=P.paint.get("fill-extrusion-opacity");if(D!==0&&_.renderPass==="translucent"){let V=new Rr(_.context.gl.LEQUAL,Rr.ReadWrite,_.depthRangeFor3D);if(D!==1||P.paint.get("fill-extrusion-pattern").constantOr(1))Qm(_,C,P,O,V,Cn.disabled,si.disabled),Qm(_,C,P,O,V,_.stencilModeFor3D(),_.colorModeForRenderPass());else{let U=_.colorModeForRenderPass();Qm(_,C,P,O,V,Cn.disabled,U)}}})(a,p,m,v);break;case"hillshade":(function(_,C,P,O){if(_.renderPass!=="offscreen"&&_.renderPass!=="translucent")return;let D=_.context,V=_.depthModeForSublayer(0,Rr.ReadOnly),U=_.colorModeForRenderPass(),[Y,ee]=_.renderPass==="translucent"?_.stencilConfigForOverlap(O):[{},O];for(let oe of ee){let le=C.getTile(oe);le.needsHillshadePrepare!==void 0&&le.needsHillshadePrepare&&_.renderPass==="offscreen"?Hp(_,le,P,V,Cn.disabled,U):_.renderPass==="translucent"&&$p(_,oe,le,P,V,Y[oe.overscaledZ],U)}D.viewport.set([0,0,_.width,_.height])})(a,p,m,v);break;case"raster":(function(_,C,P,O){if(_.renderPass!=="translucent"||P.paint.get("raster-opacity")===0||!O.length)return;let D=_.context,V=D.gl,U=C.getSource(),Y=_.useProgram("raster"),ee=_.colorModeForRenderPass(),[oe,le]=U instanceof ur?[{},O]:_.stencilConfigForOverlap(O),de=le[le.length-1].overscaledZ,me=!_.options.moving;for(let ge of le){let ae=_.depthModeForSublayer(ge.overscaledZ-de,P.paint.get("raster-opacity")===1?Rr.ReadWrite:Rr.ReadOnly,V.LESS),Ie=C.getTile(ge);Ie.registerFadeDuration(P.paint.get("raster-fade-duration"));let Ae=C.findLoadedParent(ge,0),qe=C.findLoadedSibling(ge),Je=a2(Ie,Ae||qe||null,C,P,_.transform,_.style.map.terrain),ct,Ct,Lt=P.paint.get("raster-resampling")==="nearest"?V.NEAREST:V.LINEAR;D.activeTexture.set(V.TEXTURE0),Ie.texture.bind(Lt,V.CLAMP_TO_EDGE,V.LINEAR_MIPMAP_NEAREST),D.activeTexture.set(V.TEXTURE1),Ae?(Ae.texture.bind(Lt,V.CLAMP_TO_EDGE,V.LINEAR_MIPMAP_NEAREST),ct=Math.pow(2,Ae.tileID.overscaledZ-Ie.tileID.overscaledZ),Ct=[Ie.tileID.canonical.x*ct%1,Ie.tileID.canonical.y*ct%1]):Ie.texture.bind(Lt,V.CLAMP_TO_EDGE,V.LINEAR_MIPMAP_NEAREST),Ie.texture.useMipmap&&D.extTextureFilterAnisotropic&&_.transform.pitch>20&&V.texParameterf(V.TEXTURE_2D,D.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,D.extTextureFilterAnisotropicMax);let xt=_.style.map.terrain&&_.style.map.terrain.getTerrainData(ge),_t=xt?ge:null,Wt=_t?_t.posMatrix:_.transform.calculatePosMatrix(ge.toUnwrapped(),me),mr=PR(Wt,Ct||[0,0],ct||1,Je,P);U instanceof ur?Y.draw(D,V.TRIANGLES,ae,Cn.disabled,ee,_n.disabled,mr,xt,P.id,U.boundsBuffer,_.quadTriangleIndexBuffer,U.boundsSegments):Y.draw(D,V.TRIANGLES,ae,oe[ge.overscaledZ],ee,_n.disabled,mr,xt,P.id,_.rasterBoundsBuffer,_.quadTriangleIndexBuffer,_.rasterBoundsSegments)}})(a,p,m,v);break;case"background":(function(_,C,P,O){let D=P.paint.get("background-color"),V=P.paint.get("background-opacity");if(V===0)return;let U=_.context,Y=U.gl,ee=_.transform,oe=ee.tileSize,le=P.paint.get("background-pattern");if(_.isPatternMissing(le))return;let de=!le&&D.a===1&&V===1&&_.opaquePassEnabledForLayer()?"opaque":"translucent";if(_.renderPass!==de)return;let me=Cn.disabled,ge=_.depthModeForSublayer(0,de==="opaque"?Rr.ReadWrite:Rr.ReadOnly),ae=_.colorModeForRenderPass(),Ie=_.useProgram(le?"backgroundPattern":"background"),Ae=O||ee.coveringTiles({tileSize:oe,terrain:_.style.map.terrain});le&&(U.activeTexture.set(Y.TEXTURE0),_.imageManager.bind(_.context));let qe=P.getCrossfadeParameters();for(let Je of Ae){let ct=O?Je.posMatrix:_.transform.calculatePosMatrix(Je.toUnwrapped()),Ct=le?L0(ct,V,_,le,{tileID:Je,tileSize:oe},qe):Wm(ct,V,D),Lt=_.style.map.terrain&&_.style.map.terrain.getTerrainData(Je);Ie.draw(U,Y.TRIANGLES,ge,me,ae,_n.disabled,Ct,Lt,P.id,_.tileExtentBuffer,_.quadTriangleIndexBuffer,_.tileExtentSegments)}})(a,0,m,v);break;case"custom":(function(_,C,P){let O=_.context,D=P.implementation;if(_.renderPass==="offscreen"){let V=D.prerender;V&&(_.setCustomLayerDefaults(),O.setColorMode(_.colorModeForRenderPass()),V.call(D,O.gl,_.transform.customLayerMatrix()),O.setDirty(),_.setBaseState())}else if(_.renderPass==="translucent"){_.setCustomLayerDefaults(),O.setColorMode(_.colorModeForRenderPass()),O.setStencilMode(Cn.disabled);let V=D.renderingMode==="3d"?new Rr(_.context.gl.LEQUAL,Rr.ReadWrite,_.depthRangeFor3D):_.depthModeForSublayer(0,Rr.ReadOnly);O.setDepthMode(V),D.render(O.gl,_.transform.customLayerMatrix(),{farZ:_.transform.farZ,nearZ:_.transform.nearZ,fov:_.transform._fov,modelViewProjectionMatrix:_.transform.modelViewProjectionMatrix,projectionMatrix:_.transform.projectionMatrix}),O.setDirty(),_.setBaseState(),O.bindFramebuffer.set(null)}})(a,0,m);}}translatePosMatrix(a,p,m,v,_){if(!m[0]&&!m[1])return a;let C=_?v==="map"?this.transform.angle:0:v==="viewport"?-this.transform.angle:0;if(C){let D=Math.sin(C),V=Math.cos(C);m=[m[0]*V-m[1]*D,m[0]*D+m[1]*V]}let P=[_?m[0]:jr(p,m[0],this.transform.zoom),_?m[1]:jr(p,m[1],this.transform.zoom),0],O=new Float32Array(16);return o.J(O,a,P),O}saveTileTexture(a){let p=this._tileTextures[a.size[0]];p?p.push(a):this._tileTextures[a.size[0]]=[a]}getTileTexture(a){let p=this._tileTextures[a];return p&&p.length>0?p.pop():null}isPatternMissing(a){if(!a)return!1;if(!a.from||!a.to)return!0;let p=this.imageManager.getPattern(a.from.toString()),m=this.imageManager.getPattern(a.to.toString());return!p||!m}useProgram(a,p){this.cache=this.cache||{};let m=a+(p?p.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"")+(this.style.map.terrain?"/terrain":"");return this.cache[m]||(this.cache[m]=new k0(this.context,_u[a],p,z0[a],this._showOverdrawInspector,this.style.map.terrain)),this.cache[m]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){let a=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(a.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new Se(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}overLimit(){let{drawingBufferWidth:a,drawingBufferHeight:p}=this.context.gl;return this.width!==a||this.height!==p}}class Wp{constructor(a,p){this.points=a,this.planes=p}static fromInvProjectionMatrix(a,p,m){let v=Math.pow(2,m),_=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(P=>{let O=1/(P=o.af([],P,a))[3]/p*v;return o.b1(P,P,[O,O,1/P[3],O])}),C=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(P=>{let O=function(Y,ee){var oe=ee[0],le=ee[1],de=ee[2],me=oe*oe+le*le+de*de;return me>0&&(me=1/Math.sqrt(me)),Y[0]=ee[0]*me,Y[1]=ee[1]*me,Y[2]=ee[2]*me,Y}([],function(Y,ee,oe){var le=ee[0],de=ee[1],me=ee[2],ge=oe[0],ae=oe[1],Ie=oe[2];return Y[0]=de*Ie-me*ae,Y[1]=me*ge-le*Ie,Y[2]=le*ae-de*ge,Y}([],ue([],_[P[0]],_[P[1]]),ue([],_[P[2]],_[P[1]]))),D=-((V=O)[0]*(U=_[P[1]])[0]+V[1]*U[1]+V[2]*U[2]);var V,U;return O.concat(D)});return new Wp(_,C)}}class Zp{constructor(a,p){this.min=a,this.max=p,this.center=function(m,v,_){return m[0]=.5*v[0],m[1]=.5*v[1],m[2]=.5*v[2],m}([],function(m,v,_){return m[0]=v[0]+_[0],m[1]=v[1]+_[1],m[2]=v[2]+_[2],m}([],this.min,this.max))}quadrant(a){let p=[a%2==0,a<2],m=Z(this.min),v=Z(this.max);for(let _=0;_<p.length;_++)m[_]=p[_]?this.min[_]:this.center[_],v[_]=p[_]?this.center[_]:this.max[_];return v[2]=this.max[2],new Zp(m,v)}distanceX(a){return Math.max(Math.min(this.max[0],a[0]),this.min[0])-a[0]}distanceY(a){return Math.max(Math.min(this.max[1],a[1]),this.min[1])-a[1]}intersects(a){let p=[[this.min[0],this.min[1],this.min[2],1],[this.max[0],this.min[1],this.min[2],1],[this.max[0],this.max[1],this.min[2],1],[this.min[0],this.max[1],this.min[2],1],[this.min[0],this.min[1],this.max[2],1],[this.max[0],this.min[1],this.max[2],1],[this.max[0],this.max[1],this.max[2],1],[this.min[0],this.max[1],this.max[2],1]],m=!0;for(let v=0;v<a.planes.length;v++){let _=a.planes[v],C=0;for(let P=0;P<p.length;P++)o.b2(_,p[P])>=0&&C++;if(C===0)return 0;C!==p.length&&(m=!1)}if(m)return 2;for(let v=0;v<3;v++){let _=Number.MAX_VALUE,C=-Number.MAX_VALUE;for(let P=0;P<a.points.length;P++){let O=a.points[P][v]-this.min[v];_=Math.min(_,O),C=Math.max(C,O)}if(C<0||_>this.max[v]-this.min[v])return 0}return 1}}class Kp{constructor(a=0,p=0,m=0,v=0){if(isNaN(a)||a<0||isNaN(p)||p<0||isNaN(m)||m<0||isNaN(v)||v<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=a,this.bottom=p,this.left=m,this.right=v}interpolate(a,p,m){return p.top!=null&&a.top!=null&&(this.top=o.y.number(a.top,p.top,m)),p.bottom!=null&&a.bottom!=null&&(this.bottom=o.y.number(a.bottom,p.bottom,m)),p.left!=null&&a.left!=null&&(this.left=o.y.number(a.left,p.left,m)),p.right!=null&&a.right!=null&&(this.right=o.y.number(a.right,p.right,m)),this}getCenter(a,p){let m=o.ac((this.left+a-this.right)/2,0,a),v=o.ac((this.top+p-this.bottom)/2,0,p);return new o.P(m,v)}equals(a){return this.top===a.top&&this.bottom===a.bottom&&this.left===a.left&&this.right===a.right}clone(){return new Kp(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}let J0=85.051129;class Yp{constructor(a,p,m,v,_){this.tileSize=512,this._renderWorldCopies=_===void 0||!!_,this._minZoom=a||0,this._maxZoom=p||22,this._minPitch=m==null?0:m,this._maxPitch=v==null?60:v,this.setMaxBounds(),this.width=0,this.height=0,this._center=new o.N(0,0),this._elevation=0,this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new Kp,this._posMatrixCache={},this._alignedPosMatrixCache={},this._fogMatrixCache={},this.minElevationForCurrentTile=0}clone(){let a=new Yp(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return a.apply(this),a}apply(a){this.tileSize=a.tileSize,this.latRange=a.latRange,this.lngRange=a.lngRange,this.width=a.width,this.height=a.height,this._center=a._center,this._elevation=a._elevation,this.minElevationForCurrentTile=a.minElevationForCurrentTile,this.zoom=a.zoom,this.angle=a.angle,this._fov=a._fov,this._pitch=a._pitch,this._unmodified=a._unmodified,this._edgeInsets=a._edgeInsets.clone(),this._calcMatrices()}get minZoom(){return this._minZoom}set minZoom(a){this._minZoom!==a&&(this._minZoom=a,this.zoom=Math.max(this.zoom,a))}get maxZoom(){return this._maxZoom}set maxZoom(a){this._maxZoom!==a&&(this._maxZoom=a,this.zoom=Math.min(this.zoom,a))}get minPitch(){return this._minPitch}set minPitch(a){this._minPitch!==a&&(this._minPitch=a,this.pitch=Math.max(this.pitch,a))}get maxPitch(){return this._maxPitch}set maxPitch(a){this._maxPitch!==a&&(this._maxPitch=a,this.pitch=Math.min(this.pitch,a))}get renderWorldCopies(){return this._renderWorldCopies}set renderWorldCopies(a){a===void 0?a=!0:a===null&&(a=!1),this._renderWorldCopies=a}get worldSize(){return this.tileSize*this.scale}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new o.P(this.width,this.height)}get bearing(){return-this.angle/Math.PI*180}set bearing(a){let p=-o.b3(a,-180,180)*Math.PI/180;this.angle!==p&&(this._unmodified=!1,this.angle=p,this._calcMatrices(),this.rotationMatrix=function(){var m=new o.A(4);return o.A!=Float32Array&&(m[1]=0,m[2]=0),m[0]=1,m[3]=1,m}(),function(m,v,_){var C=v[0],P=v[1],O=v[2],D=v[3],V=Math.sin(_),U=Math.cos(_);m[0]=C*U+O*V,m[1]=P*U+D*V,m[2]=C*-V+O*U,m[3]=P*-V+D*U}(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(a){let p=o.ac(a,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==p&&(this._unmodified=!1,this._pitch=p,this._calcMatrices())}get fov(){return this._fov/Math.PI*180}set fov(a){a=Math.max(.01,Math.min(60,a)),this._fov!==a&&(this._unmodified=!1,this._fov=a/180*Math.PI,this._calcMatrices())}get zoom(){return this._zoom}set zoom(a){let p=Math.min(Math.max(a,this.minZoom),this.maxZoom);this._zoom!==p&&(this._unmodified=!1,this._zoom=p,this.tileZoom=Math.max(0,Math.floor(p)),this.scale=this.zoomScale(p),this._constrain(),this._calcMatrices())}get center(){return this._center}set center(a){a.lat===this._center.lat&&a.lng===this._center.lng||(this._unmodified=!1,this._center=a,this._constrain(),this._calcMatrices())}get elevation(){return this._elevation}set elevation(a){a!==this._elevation&&(this._elevation=a,this._constrain(),this._calcMatrices())}get padding(){return this._edgeInsets.toJSON()}set padding(a){this._edgeInsets.equals(a)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,a,1),this._calcMatrices())}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}isPaddingEqual(a){return this._edgeInsets.equals(a)}interpolatePadding(a,p,m){this._unmodified=!1,this._edgeInsets.interpolate(a,p,m),this._constrain(),this._calcMatrices()}coveringZoomLevel(a){let p=(a.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/a.tileSize));return Math.max(0,p)}getVisibleUnwrappedCoordinates(a){let p=[new o.b4(0,a)];if(this._renderWorldCopies){let m=this.pointCoordinate(new o.P(0,0)),v=this.pointCoordinate(new o.P(this.width,0)),_=this.pointCoordinate(new o.P(this.width,this.height)),C=this.pointCoordinate(new o.P(0,this.height)),P=Math.floor(Math.min(m.x,v.x,_.x,C.x)),O=Math.floor(Math.max(m.x,v.x,_.x,C.x)),D=1;for(let V=P-D;V<=O+D;V++)V!==0&&p.push(new o.b4(V,a))}return p}coveringTiles(a){var p,m;let v=this.coveringZoomLevel(a),_=v;if(a.minzoom!==void 0&&v<a.minzoom)return[];a.maxzoom!==void 0&&v>a.maxzoom&&(v=a.maxzoom);let C=this.pointCoordinate(this.getCameraPoint()),P=o.Z.fromLngLat(this.center),O=Math.pow(2,v),D=[O*C.x,O*C.y,0],V=[O*P.x,O*P.y,0],U=Wp.fromInvProjectionMatrix(this.invModelViewProjectionMatrix,this.worldSize,v),Y=a.minzoom||0;!a.terrain&&this.pitch<=60&&this._edgeInsets.top<.1&&(Y=v);let ee=a.terrain?2/Math.min(this.tileSize,a.tileSize)*this.tileSize:3,oe=ae=>({aabb:new Zp([ae*O,0,0],[(ae+1)*O,O,0]),zoom:0,x:0,y:0,wrap:ae,fullyVisible:!1}),le=[],de=[],me=v,ge=a.reparseOverscaled?_:v;if(this._renderWorldCopies)for(let ae=1;ae<=3;ae++)le.push(oe(-ae)),le.push(oe(ae));for(le.push(oe(0));le.length>0;){let ae=le.pop(),Ie=ae.x,Ae=ae.y,qe=ae.fullyVisible;if(!qe){let xt=ae.aabb.intersects(U);if(xt===0)continue;qe=xt===2}let Je=a.terrain?D:V,ct=ae.aabb.distanceX(Je),Ct=ae.aabb.distanceY(Je),Lt=Math.max(Math.abs(ct),Math.abs(Ct));if(ae.zoom===me||Lt>ee+(1<<me-ae.zoom)-2&&ae.zoom>=Y){let xt=me-ae.zoom,_t=D[0]-.5-(Ie<<xt),Wt=D[1]-.5-(Ae<<xt);de.push({tileID:new o.S(ae.zoom===me?ge:ae.zoom,ae.wrap,ae.zoom,Ie,Ae),distanceSq:ce([V[0]-.5-Ie,V[1]-.5-Ae]),tileDistanceToCamera:Math.sqrt(_t*_t+Wt*Wt)})}else for(let xt=0;xt<4;xt++){let _t=(Ie<<1)+xt%2,Wt=(Ae<<1)+(xt>>1),mr=ae.zoom+1,It=ae.aabb.quadrant(xt);if(a.terrain){let Nt=new o.S(mr,ae.wrap,mr,_t,Wt),fr=a.terrain.getMinMaxElevation(Nt),zn=(p=fr.minElevation)!==null&&p!==void 0?p:this.elevation,Tr=(m=fr.maxElevation)!==null&&m!==void 0?m:this.elevation;It=new Zp([It.min[0],It.min[1],zn],[It.max[0],It.max[1],Tr])}le.push({aabb:It,zoom:mr,x:_t,y:Wt,wrap:ae.wrap,fullyVisible:qe})}}return de.sort((ae,Ie)=>ae.distanceSq-Ie.distanceSq).map(ae=>ae.tileID)}resize(a,p){this.width=a,this.height=p,this.pixelsToGLUnits=[2/a,-2/p],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(a){return Math.pow(2,a)}scaleZoom(a){return Math.log(a)/Math.LN2}project(a){let p=o.ac(a.lat,-85.051129,J0);return new o.P(o.O(a.lng)*this.worldSize,o.Q(p)*this.worldSize)}unproject(a){return new o.Z(a.x/this.worldSize,a.y/this.worldSize).toLngLat()}get point(){return this.project(this.center)}getCameraPosition(){return{lngLat:this.pointLocation(this.getCameraPoint()),altitude:Math.cos(this._pitch)*this.cameraToCenterDistance/this._pixelPerMeter+this.elevation}}recalculateZoom(a){let p=this.elevation,m=Math.cos(this._pitch)*this.cameraToCenterDistance/this._pixelPerMeter,v=this.pointLocation(this.centerPoint,a),_=a.getElevationForLngLatZoom(v,this.tileZoom);if(!(this.elevation-_))return;let C=m+p-_,P=Math.cos(this._pitch)*this.cameraToCenterDistance/C/o.b5(1,v.lat),O=this.scaleZoom(P/this.tileSize);this._elevation=_,this._center=v,this.zoom=O}setLocationAtPoint(a,p){let m=this.pointCoordinate(p),v=this.pointCoordinate(this.centerPoint),_=this.locationCoordinate(a),C=new o.Z(_.x-(m.x-v.x),_.y-(m.y-v.y));this.center=this.coordinateLocation(C),this._renderWorldCopies&&(this.center=this.center.wrap())}locationPoint(a,p){return p?this.coordinatePoint(this.locationCoordinate(a),p.getElevationForLngLatZoom(a,this.tileZoom),this.pixelMatrix3D):this.coordinatePoint(this.locationCoordinate(a))}pointLocation(a,p){return this.coordinateLocation(this.pointCoordinate(a,p))}locationCoordinate(a){return o.Z.fromLngLat(a)}coordinateLocation(a){return a&&a.toLngLat()}pointCoordinate(a,p){if(p){let Y=p.pointCoordinate(a);if(Y!=null)return Y}let m=[a.x,a.y,0,1],v=[a.x,a.y,1,1];o.af(m,m,this.pixelMatrixInverse),o.af(v,v,this.pixelMatrixInverse);let _=m[3],C=v[3],P=m[1]/_,O=v[1]/C,D=m[2]/_,V=v[2]/C,U=D===V?0:(0-D)/(V-D);return new o.Z(o.y.number(m[0]/_,v[0]/C,U)/this.worldSize,o.y.number(P,O,U)/this.worldSize)}coordinatePoint(a,p=0,m=this.pixelMatrix){let v=[a.x*this.worldSize,a.y*this.worldSize,p,1];return o.af(v,v,m),new o.P(v[0]/v[3],v[1]/v[3])}getBounds(){let a=Math.max(0,this.height/2-this.getHorizon());return new xe().extend(this.pointLocation(new o.P(0,a))).extend(this.pointLocation(new o.P(this.width,a))).extend(this.pointLocation(new o.P(this.width,this.height))).extend(this.pointLocation(new o.P(0,this.height)))}getMaxBounds(){return this.latRange&&this.latRange.length===2&&this.lngRange&&this.lngRange.length===2?new xe([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null}getHorizon(){return Math.tan(Math.PI/2-this._pitch)*this.cameraToCenterDistance*.85}setMaxBounds(a){a?(this.lngRange=[a.getWest(),a.getEast()],this.latRange=[a.getSouth(),a.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-85.051129,J0])}calculateTileMatrix(a){let p=a.canonical,m=this.worldSize/this.zoomScale(p.z),v=p.x+Math.pow(2,p.z)*a.wrap,_=o.an(new Float64Array(16));return o.J(_,_,[v*m,p.y*m,0]),o.K(_,_,[m/o.X,m/o.X,1]),_}calculatePosMatrix(a,p=!1){let m=a.key,v=p?this._alignedPosMatrixCache:this._posMatrixCache;if(v[m])return v[m];let _=this.calculateTileMatrix(a);return o.L(_,p?this.alignedModelViewProjectionMatrix:this.modelViewProjectionMatrix,_),v[m]=new Float32Array(_),v[m]}calculateFogMatrix(a){let p=a.key,m=this._fogMatrixCache;if(m[p])return m[p];let v=this.calculateTileMatrix(a);return o.L(v,this.fogMatrix,v),m[p]=new Float32Array(v),m[p]}customLayerMatrix(){return this.mercatorMatrix.slice()}getConstrained(a,p){p=o.ac(+p,this.minZoom,this.maxZoom);let m={center:new o.N(a.lng,a.lat),zoom:p},v=this.lngRange;if(!this._renderWorldCopies&&v===null){let ae=179.9999999999;v=[-ae,ae]}let _=this.tileSize*this.zoomScale(m.zoom),C=0,P=_,O=0,D=_,V=0,U=0,{x:Y,y:ee}=this.size;if(this.latRange){let ae=this.latRange;C=o.Q(ae[1])*_,P=o.Q(ae[0])*_,P-C<ee&&(V=ee/(P-C))}v&&(O=o.b3(o.O(v[0])*_,0,_),D=o.b3(o.O(v[1])*_,0,_),D<O&&(D+=_),D-O<Y&&(U=Y/(D-O)));let{x:oe,y:le}=this.project.call({worldSize:_},a),de,me,ge=Math.max(U||0,V||0);if(ge){let ae=new o.P(U?(D+O)/2:oe,V?(P+C)/2:le);return m.center=this.unproject.call({worldSize:_},ae).wrap(),m.zoom+=this.scaleZoom(ge),m}if(this.latRange){let ae=ee/2;le-ae<C&&(me=C+ae),le+ae>P&&(me=P-ae)}if(v){let ae=(O+D)/2,Ie=oe;this._renderWorldCopies&&(Ie=o.b3(oe,ae-_/2,ae+_/2));let Ae=Y/2;Ie-Ae<O&&(de=O+Ae),Ie+Ae>D&&(de=D-Ae)}if(de!==void 0||me!==void 0){let ae=new o.P(de!=null?de:oe,me!=null?me:le);m.center=this.unproject.call({worldSize:_},ae).wrap()}return m}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;let a=this._unmodified,{center:p,zoom:m}=this.getConstrained(this.center,this.zoom);this.center=p,this.zoom=m,this._unmodified=a,this._constraining=!1}_calcMatrices(){if(!this.height)return;let a=this.centerOffset,p=this.point.x,m=this.point.y;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height,this._pixelPerMeter=o.b5(1,this.center.lat)*this.worldSize;let v=o.an(new Float64Array(16));o.K(v,v,[this.width/2,-this.height/2,1]),o.J(v,v,[1,-1,0]),this.labelPlaneMatrix=v,v=o.an(new Float64Array(16)),o.K(v,v,[1,-1,1]),o.J(v,v,[-1,-1,0]),o.K(v,v,[2/this.width,2/this.height,1]),this.glCoordMatrix=v;let _=this.cameraToCenterDistance+this._elevation*this._pixelPerMeter/Math.cos(this._pitch),C=Math.min(this.elevation,this.minElevationForCurrentTile),P=_-C*this._pixelPerMeter/Math.cos(this._pitch),O=C<0?P:_,D=Math.PI/2+this._pitch,V=this._fov*(.5+a.y/this.height),U=Math.sin(V)*O/Math.sin(o.ac(Math.PI-D-V,.01,Math.PI-.01)),Y=this.getHorizon(),ee=2*Math.atan(Y/this.cameraToCenterDistance)*(.5+a.y/(2*Y)),oe=Math.sin(ee)*O/Math.sin(o.ac(Math.PI-D-ee,.01,Math.PI-.01)),le=Math.min(U,oe);this.farZ=1.01*(Math.cos(Math.PI/2-this._pitch)*le+O),this.nearZ=this.height/50,v=new Float64Array(16),o.b6(v,this._fov,this.width/this.height,this.nearZ,this.farZ),v[8]=2*-a.x/this.width,v[9]=2*a.y/this.height,this.projectionMatrix=o.ae(v),o.K(v,v,[1,-1,1]),o.J(v,v,[0,0,-this.cameraToCenterDistance]),o.b7(v,v,this._pitch),o.ad(v,v,this.angle),o.J(v,v,[-p,-m,0]),this.mercatorMatrix=o.K([],v,[this.worldSize,this.worldSize,this.worldSize]),o.K(v,v,[1,1,this._pixelPerMeter]),this.pixelMatrix=o.L(new Float64Array(16),this.labelPlaneMatrix,v),o.J(v,v,[0,0,-this.elevation]),this.modelViewProjectionMatrix=v,this.invModelViewProjectionMatrix=o.as([],v),this.fogMatrix=new Float64Array(16),o.b6(this.fogMatrix,this._fov,this.width/this.height,_,this.farZ),this.fogMatrix[8]=2*-a.x/this.width,this.fogMatrix[9]=2*a.y/this.height,o.K(this.fogMatrix,this.fogMatrix,[1,-1,1]),o.J(this.fogMatrix,this.fogMatrix,[0,0,-this.cameraToCenterDistance]),o.b7(this.fogMatrix,this.fogMatrix,this._pitch),o.ad(this.fogMatrix,this.fogMatrix,this.angle),o.J(this.fogMatrix,this.fogMatrix,[-p,-m,0]),o.K(this.fogMatrix,this.fogMatrix,[1,1,this._pixelPerMeter]),o.J(this.fogMatrix,this.fogMatrix,[0,0,-this.elevation]),this.pixelMatrix3D=o.L(new Float64Array(16),this.labelPlaneMatrix,v);let de=this.width%2/2,me=this.height%2/2,ge=Math.cos(this.angle),ae=Math.sin(this.angle),Ie=p-Math.round(p)+ge*de+ae*me,Ae=m-Math.round(m)+ge*me+ae*de,qe=new Float64Array(v);if(o.J(qe,qe,[Ie>.5?Ie-1:Ie,Ae>.5?Ae-1:Ae,0]),this.alignedModelViewProjectionMatrix=qe,v=o.as(new Float64Array(16),this.pixelMatrix),!v)throw new Error("failed to invert matrix");this.pixelMatrixInverse=v,this._posMatrixCache={},this._alignedPosMatrixCache={},this._fogMatrixCache={}}maxPitchScaleFactor(){if(!this.pixelMatrixInverse)return 1;let a=this.pointCoordinate(new o.P(0,0)),p=[a.x*this.worldSize,a.y*this.worldSize,0,1];return o.af(p,p,this.pixelMatrix)[3]/this.cameraToCenterDistance}getCameraPoint(){let a=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new o.P(0,a))}getCameraQueryGeometry(a){let p=this.getCameraPoint();if(a.length===1)return[a[0],p];{let m=p.x,v=p.y,_=p.x,C=p.y;for(let P of a)m=Math.min(m,P.x),v=Math.min(v,P.y),_=Math.max(_,P.x),C=Math.max(C,P.y);return[new o.P(m,v),new o.P(_,v),new o.P(_,C),new o.P(m,C),new o.P(m,v)]}}lngLatToCameraDepth(a,p){let m=this.locationCoordinate(a),v=[m.x*this.worldSize,m.y*this.worldSize,p,1];return o.af(v,v,this.modelViewProjectionMatrix),v[2]/v[3]}}function Yf(b,a){let p,m=!1,v=null,_=null,C=()=>{v=null,m&&(b.apply(_,p),v=setTimeout(C,a),m=!1)};return(...P)=>(m=!0,_=this,p=P,v||C(),v)}class iv{constructor(a){this._getCurrentHash=()=>{let p=window.location.hash.replace("#","");if(this._hashName){let m;return p.split("&").map(v=>v.split("=")).forEach(v=>{v[0]===this._hashName&&(m=v)}),(m&&m[1]||"").split("/")}return p.split("/")},this._onHashChange=()=>{let p=this._getCurrentHash();if(p.length>=3&&!p.some(m=>isNaN(m))){let m=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(p[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+p[2],+p[1]],zoom:+p[0],bearing:m,pitch:+(p[4]||0)}),!0}return!1},this._updateHashUnthrottled=()=>{let p=window.location.href.replace(/(#.+)?$/,this.getHashString());window.history.replaceState(window.history.state,null,p)},this._removeHash=()=>{let p=this._getCurrentHash();if(p.length===0)return;let m=p.join("/"),v=m;v.split("&").length>0&&(v=v.split("&")[0]),this._hashName&&(v=`${this._hashName}=${m}`);let _=window.location.hash.replace(v,"");_.startsWith("#&")?_=_.slice(0,1)+_.slice(2):_==="#"&&(_="");let C=window.location.href.replace(/(#.+)?$/,_);C=C.replace("&&","&"),window.history.replaceState(window.history.state,null,C)},this._updateHash=Yf(this._updateHashUnthrottled,300),this._hashName=a&&encodeURIComponent(a)}addTo(a){return this._map=a,addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),this._removeHash(),delete this._map,this}getHashString(a){let p=this._map.getCenter(),m=Math.round(100*this._map.getZoom())/100,v=Math.ceil((m*Math.LN2+Math.log(512/360/.5))/Math.LN10),_=Math.pow(10,v),C=Math.round(p.lng*_)/_,P=Math.round(p.lat*_)/_,O=this._map.getBearing(),D=this._map.getPitch(),V="";if(V+=a?`/${C}/${P}/${m}`:`${m}/${P}/${C}`,(O||D)&&(V+="/"+Math.round(10*O)/10),D&&(V+=`/${Math.round(D)}`),this._hashName){let U=this._hashName,Y=!1,ee=window.location.hash.slice(1).split("&").map(oe=>{let le=oe.split("=")[0];return le===U?(Y=!0,`${le}=${V}`):oe}).filter(oe=>oe);return Y||ee.push(`${U}=${V}`),`#${ee.join("&")}`}return`#${V}`}}let ov={linearity:.3,easing:o.b8(0,0,.3,1)},Q0=o.e({deceleration:2500,maxSpeed:1400},ov),UR=o.e({deceleration:20,maxSpeed:1400},ov),p2=o.e({deceleration:1e3,maxSpeed:360},ov),av=o.e({deceleration:1e3,maxSpeed:90},ov);class e1{constructor(a){this._map=a,this.clear()}clear(){this._inertiaBuffer=[]}record(a){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:y.now(),settings:a})}_drainInertiaBuffer(){let a=this._inertiaBuffer,p=y.now();for(;a.length>0&&p-a[0].time>160;)a.shift()}_onMoveEnd(a){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;let p={zoom:0,bearing:0,pitch:0,pan:new o.P(0,0),pinchAround:void 0,around:void 0};for(let{settings:_}of this._inertiaBuffer)p.zoom+=_.zoomDelta||0,p.bearing+=_.bearingDelta||0,p.pitch+=_.pitchDelta||0,_.panDelta&&p.pan._add(_.panDelta),_.around&&(p.around=_.around),_.pinchAround&&(p.pinchAround=_.pinchAround);let m=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,v={};if(p.pan.mag()){let _=Jf(p.pan.mag(),m,o.e({},Q0,a||{}));v.offset=p.pan.mult(_.amount/p.pan.mag()),v.center=this._map.transform.center,Xf(v,_)}if(p.zoom){let _=Jf(p.zoom,m,UR);v.zoom=this._map.transform.zoom+_.amount,Xf(v,_)}if(p.bearing){let _=Jf(p.bearing,m,p2);v.bearing=this._map.transform.bearing+o.ac(_.amount,-179,179),Xf(v,_)}if(p.pitch){let _=Jf(p.pitch,m,av);v.pitch=this._map.transform.pitch+_.amount,Xf(v,_)}if(v.zoom||v.bearing){let _=p.pinchAround===void 0?p.around:p.pinchAround;v.around=_?this._map.unproject(_):this._map.getCenter()}return this.clear(),o.e(v,{noMoveStart:!0})}}function Xf(b,a){(!b.duration||b.duration<a.duration)&&(b.duration=a.duration,b.easing=a.easing)}function Jf(b,a,p){let{maxSpeed:m,linearity:v,deceleration:_}=p,C=o.ac(b*v/(a/1e3),-m,m),P=Math.abs(C)/(_*v);return{easing:p.easing,duration:1e3*P,amount:C*(P/2)}}class io extends o.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(a,p,m,v={}){let _=w.mousePos(p.getCanvas(),m),C=p.unproject(_);super(a,o.e({point:_,lngLat:C,originalEvent:m},v)),this._defaultPrevented=!1,this.target=p}}class Cc extends o.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(a,p,m){let v=a==="touchend"?m.changedTouches:m.touches,_=w.touchPos(p.getCanvasContainer(),v),C=_.map(O=>p.unproject(O)),P=_.reduce((O,D,V,U)=>O.add(D.div(U.length)),new o.P(0,0));super(a,{points:_,point:P,lngLats:C,lngLat:p.unproject(P),originalEvent:m}),this._defaultPrevented=!1}}class d2 extends o.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(a,p,m){super(a,{originalEvent:m}),this._defaultPrevented=!1}}class f2{constructor(a,p){this._map=a,this._clickTolerance=p.clickTolerance}reset(){delete this._mousedownPos}wheel(a){return this._firePreventable(new d2(a.type,this._map,a))}mousedown(a,p){return this._mousedownPos=p,this._firePreventable(new io(a.type,this._map,a))}mouseup(a){this._map.fire(new io(a.type,this._map,a))}click(a,p){this._mousedownPos&&this._mousedownPos.dist(p)>=this._clickTolerance||this._map.fire(new io(a.type,this._map,a))}dblclick(a){return this._firePreventable(new io(a.type,this._map,a))}mouseover(a){this._map.fire(new io(a.type,this._map,a))}mouseout(a){this._map.fire(new io(a.type,this._map,a))}touchstart(a){return this._firePreventable(new Cc(a.type,this._map,a))}touchmove(a){this._map.fire(new Cc(a.type,this._map,a))}touchend(a){this._map.fire(new Cc(a.type,this._map,a))}touchcancel(a){this._map.fire(new Cc(a.type,this._map,a))}_firePreventable(a){if(this._map.fire(a),a.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class li{constructor(a){this._map=a}reset(){this._delayContextMenu=!1,this._ignoreContextMenu=!0,delete this._contextMenuEvent}mousemove(a){this._map.fire(new io(a.type,this._map,a))}mousedown(){this._delayContextMenu=!0,this._ignoreContextMenu=!1}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new io("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(a){this._delayContextMenu?this._contextMenuEvent=a:this._ignoreContextMenu||this._map.fire(new io(a.type,this._map,a)),this._map.listens("contextmenu")&&a.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class As{constructor(a){this._map=a}get transform(){return this._map._requestedCameraState||this._map.transform}get center(){return{lng:this.transform.center.lng,lat:this.transform.center.lat}}get zoom(){return this.transform.zoom}get pitch(){return this.transform.pitch}get bearing(){return this.transform.bearing}unproject(a){return this.transform.pointLocation(o.P.convert(a),this._map.terrain)}}class Ta{constructor(a,p){this._map=a,this._tr=new As(a),this._el=a.getCanvasContainer(),this._container=a.getContainer(),this._clickTolerance=p.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(a,p){this.isEnabled()&&a.shiftKey&&a.button===0&&(w.disableDrag(),this._startPos=this._lastPos=p,this._active=!0)}mousemoveWindow(a,p){if(!this._active)return;let m=p;if(this._lastPos.equals(m)||!this._box&&m.dist(this._startPos)<this._clickTolerance)return;let v=this._startPos;this._lastPos=m,this._box||(this._box=w.create("div","maplibregl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair"),this._fireEvent("boxzoomstart",a));let _=Math.min(v.x,m.x),C=Math.max(v.x,m.x),P=Math.min(v.y,m.y),O=Math.max(v.y,m.y);w.setTransform(this._box,`translate(${_}px,${P}px)`),this._box.style.width=C-_+"px",this._box.style.height=O-P+"px"}mouseupWindow(a,p){if(!this._active||a.button!==0)return;let m=this._startPos,v=p;if(this.reset(),w.suppressClick(),m.x!==v.x||m.y!==v.y)return this._map.fire(new o.k("boxzoomend",{originalEvent:a})),{cameraAnimation:_=>_.fitScreenCoordinates(m,v,this._tr.bearing,{linear:!0})};this._fireEvent("boxzoomcancel",a)}keydown(a){this._active&&a.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",a))}reset(){this._active=!1,this._container.classList.remove("maplibregl-crosshair"),this._box&&(w.remove(this._box),this._box=null),w.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(a,p){return this._map.fire(new o.k(a,{originalEvent:p}))}}function Qf(b,a){if(b.length!==a.length)throw new Error(`The number of touches and points are not equal - touches ${b.length}, points ${a.length}`);let p={};for(let m=0;m<b.length;m++)p[b[m].identifier]=a[m];return p}class t1{constructor(a){this.reset(),this.numTouches=a.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(a,p,m){(this.centroid||m.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=a.timeStamp),m.length===this.numTouches&&(this.centroid=function(v){let _=new o.P(0,0);for(let C of v)_._add(C);return _.div(v.length)}(p),this.touches=Qf(m,p)))}touchmove(a,p,m){if(this.aborted||!this.centroid)return;let v=Qf(m,p);for(let _ in this.touches){let C=v[_];(!C||C.dist(this.touches[_])>30)&&(this.aborted=!0)}}touchend(a,p,m){if((!this.centroid||a.timeStamp-this.startTime>500)&&(this.aborted=!0),m.length===0){let v=!this.aborted&&this.centroid;if(this.reset(),v)return v}}}class sv{constructor(a){this.singleTap=new t1(a),this.numTaps=a.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(a,p,m){this.singleTap.touchstart(a,p,m)}touchmove(a,p,m){this.singleTap.touchmove(a,p,m)}touchend(a,p,m){let v=this.singleTap.touchend(a,p,m);if(v){let _=a.timeStamp-this.lastTime<500,C=!this.lastTap||this.lastTap.dist(v)<30;if(_&&C||this.reset(),this.count++,this.lastTime=a.timeStamp,this.lastTap=v,this.count===this.numTaps)return this.reset(),v}}}class Xp{constructor(a){this._tr=new As(a),this._zoomIn=new sv({numTouches:1,numTaps:2}),this._zoomOut=new sv({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(a,p,m){this._zoomIn.touchstart(a,p,m),this._zoomOut.touchstart(a,p,m)}touchmove(a,p,m){this._zoomIn.touchmove(a,p,m),this._zoomOut.touchmove(a,p,m)}touchend(a,p,m){let v=this._zoomIn.touchend(a,p,m),_=this._zoomOut.touchend(a,p,m),C=this._tr;return v?(this._active=!0,a.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:P=>P.easeTo({duration:300,zoom:C.zoom+1,around:C.unproject(v)},{originalEvent:a})}):_?(this._active=!0,a.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:P=>P.easeTo({duration:300,zoom:C.zoom-1,around:C.unproject(_)},{originalEvent:a})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Hl{constructor(a){this._enabled=!!a.enable,this._moveStateManager=a.moveStateManager,this._clickTolerance=a.clickTolerance||1,this._moveFunction=a.move,this._activateOnStart=!!a.activateOnStart,a.assignEvents(this),this.reset()}reset(a){this._active=!1,this._moved=!1,delete this._lastPoint,this._moveStateManager.endMove(a)}_move(...a){let p=this._moveFunction(...a);if(p.bearingDelta||p.pitchDelta||p.around||p.panDelta)return this._active=!0,p}dragStart(a,p){this.isEnabled()&&!this._lastPoint&&this._moveStateManager.isValidStartEvent(a)&&(this._moveStateManager.startMove(a),this._lastPoint=p.length?p[0]:p,this._activateOnStart&&this._lastPoint&&(this._active=!0))}dragMove(a,p){if(!this.isEnabled())return;let m=this._lastPoint;if(!m)return;if(a.preventDefault(),!this._moveStateManager.isValidMoveEvent(a))return void this.reset(a);let v=p.length?p[0]:p;return!this._moved&&v.dist(m)<this._clickTolerance?void 0:(this._moved=!0,this._lastPoint=v,this._move(m,v))}dragEnd(a){this.isEnabled()&&this._lastPoint&&this._moveStateManager.isValidEndEvent(a)&&(this._moved&&w.suppressClick(),this.reset(a))}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}getClickTolerance(){return this._clickTolerance}}let r1={0:1,2:2};class lv{constructor(a){this._correctEvent=a.checkCorrectEvent}startMove(a){let p=w.mouseButton(a);this._eventButton=p}endMove(a){delete this._eventButton}isValidStartEvent(a){return this._correctEvent(a)}isValidMoveEvent(a){return!function(p,m){let v=r1[m];return p.buttons===void 0||(p.buttons&v)!==v}(a,this._eventButton)}isValidEndEvent(a){return w.mouseButton(a)===this._eventButton}}class n1{constructor(){this._firstTouch=void 0}_isOneFingerTouch(a){return a.targetTouches.length===1}_isSameTouchEvent(a){return a.targetTouches[0].identifier===this._firstTouch}startMove(a){this._firstTouch=a.targetTouches[0].identifier}endMove(a){delete this._firstTouch}isValidStartEvent(a){return this._isOneFingerTouch(a)}isValidMoveEvent(a){return this._isOneFingerTouch(a)&&this._isSameTouchEvent(a)}isValidEndEvent(a){return this._isOneFingerTouch(a)&&this._isSameTouchEvent(a)}}let uv=b=>{b.mousedown=b.dragStart,b.mousemoveWindow=b.dragMove,b.mouseup=b.dragEnd,b.contextmenu=a=>{a.preventDefault()}},i1=({enable:b,clickTolerance:a,bearingDegreesPerPixelMoved:p=.8})=>{let m=new lv({checkCorrectEvent:v=>w.mouseButton(v)===0&&v.ctrlKey||w.mouseButton(v)===2});return new Hl({clickTolerance:a,move:(v,_)=>({bearingDelta:(_.x-v.x)*p}),moveStateManager:m,enable:b,assignEvents:uv})},o1=({enable:b,clickTolerance:a,pitchDegreesPerPixelMoved:p=-.5})=>{let m=new lv({checkCorrectEvent:v=>w.mouseButton(v)===0&&v.ctrlKey||w.mouseButton(v)===2});return new Hl({clickTolerance:a,move:(v,_)=>({pitchDelta:(_.y-v.y)*p}),moveStateManager:m,enable:b,assignEvents:uv})};class Mc{constructor(a,p){this._clickTolerance=a.clickTolerance||1,this._map=p,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new o.P(0,0)}_shouldBePrevented(a){return a<(this._map.cooperativeGestures.isEnabled()?2:1)}touchstart(a,p,m){return this._calculateTransform(a,p,m)}touchmove(a,p,m){if(this._active){if(!this._shouldBePrevented(m.length))return a.preventDefault(),this._calculateTransform(a,p,m);this._map.cooperativeGestures.notifyGestureBlocked("touch_pan",a)}}touchend(a,p,m){this._calculateTransform(a,p,m),this._active&&this._shouldBePrevented(m.length)&&this.reset()}touchcancel(){this.reset()}_calculateTransform(a,p,m){m.length>0&&(this._active=!0);let v=Qf(m,p),_=new o.P(0,0),C=new o.P(0,0),P=0;for(let D in v){let V=v[D],U=this._touches[D];U&&(_._add(V),C._add(V.sub(U)),P++,v[D]=V)}if(this._touches=v,this._shouldBePrevented(P)||!C.mag())return;let O=C.div(P);return this._sum._add(O),this._sum.mag()<this._clickTolerance?void 0:{around:_.div(P),panDelta:O}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class cv{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}touchstart(a,p,m){this._firstTwoTouches||m.length<2||(this._firstTwoTouches=[m[0].identifier,m[1].identifier],this._start([p[0],p[1]]))}touchmove(a,p,m){if(!this._firstTwoTouches)return;a.preventDefault();let[v,_]=this._firstTwoTouches,C=eh(m,p,v),P=eh(m,p,_);if(!C||!P)return;let O=this._aroundCenter?null:C.add(P).div(2);return this._move([C,P],O,a)}touchend(a,p,m){if(!this._firstTwoTouches)return;let[v,_]=this._firstTwoTouches,C=eh(m,p,v),P=eh(m,p,_);C&&P||(this._active&&w.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(a){this._enabled=!0,this._aroundCenter=!!a&&a.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}}function eh(b,a,p){for(let m=0;m<b.length;m++)if(b[m].identifier===p)return a[m]}function a1(b,a){return Math.log(b/a)/Math.LN2}class s1 extends cv{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(a){this._startDistance=this._distance=a[0].dist(a[1])}_move(a,p){let m=this._distance;if(this._distance=a[0].dist(a[1]),this._active||!(Math.abs(a1(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:a1(this._distance,m),pinchAround:p}}}function l1(b,a){return 180*b.angleWith(a)/Math.PI}class u1 extends cv{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(a){this._startVector=this._vector=a[0].sub(a[1]),this._minDiameter=a[0].dist(a[1])}_move(a,p,m){let v=this._vector;if(this._vector=a[0].sub(a[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:l1(this._vector,v),pinchAround:p}}_isBelowThreshold(a){this._minDiameter=Math.min(this._minDiameter,a.mag());let p=25/(Math.PI*this._minDiameter)*360,m=l1(a,this._startVector);return Math.abs(m)<p}}function pv(b){return Math.abs(b.y)>Math.abs(b.x)}class Jp extends cv{constructor(a){super(),this._currentTouchCount=0,this._map=a}reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}touchstart(a,p,m){super.touchstart(a,p,m),this._currentTouchCount=m.length}_start(a){this._lastPoints=a,pv(a[0].sub(a[1]))&&(this._valid=!1)}_move(a,p,m){if(this._map.cooperativeGestures.isEnabled()&&this._currentTouchCount<3)return;let v=a[0].sub(this._lastPoints[0]),_=a[1].sub(this._lastPoints[1]);return this._valid=this.gestureBeginsVertically(v,_,m.timeStamp),this._valid?(this._lastPoints=a,this._active=!0,{pitchDelta:(v.y+_.y)/2*-.5}):void 0}gestureBeginsVertically(a,p,m){if(this._valid!==void 0)return this._valid;let v=a.mag()>=2,_=p.mag()>=2;if(!v&&!_)return;if(!v||!_)return this._firstMove===void 0&&(this._firstMove=m),m-this._firstMove<100&&void 0;let C=a.y>0==p.y>0;return pv(a)&&pv(p)&&C}}let h2={panStep:100,bearingStep:15,pitchStep:10};class Wa{constructor(a){this._tr=new As(a);let p=h2;this._panStep=p.panStep,this._bearingStep=p.bearingStep,this._pitchStep=p.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(a){if(a.altKey||a.ctrlKey||a.metaKey)return;let p=0,m=0,v=0,_=0,C=0;switch(a.keyCode){case 61:case 107:case 171:case 187:p=1;break;case 189:case 109:case 173:p=-1;break;case 37:a.shiftKey?m=-1:(a.preventDefault(),_=-1);break;case 39:a.shiftKey?m=1:(a.preventDefault(),_=1);break;case 38:a.shiftKey?v=1:(a.preventDefault(),C=-1);break;case 40:a.shiftKey?v=-1:(a.preventDefault(),C=1);break;default:return;}return this._rotationDisabled&&(m=0,v=0),{cameraAnimation:P=>{let O=this._tr;P.easeTo({duration:300,easeId:"keyboardHandler",easing:tl,zoom:p?Math.round(O.zoom)+p*(a.shiftKey?2:1):O.zoom,bearing:O.bearing+m*this._bearingStep,pitch:O.pitch+v*this._pitchStep,offset:[-_*this._panStep,-C*this._panStep],center:O.center},{originalEvent:a})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function tl(b){return b*(2-b)}let c1=4.000244140625;class Cs{constructor(a,p){this._onTimeout=m=>{this._type="wheel",this._delta-=this._lastValue,this._active||this._start(m)},this._map=a,this._tr=new As(a),this._triggerRenderFrame=p,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222}setZoomRate(a){this._defaultZoomRate=a}setWheelZoomRate(a){this._wheelZoomRate=a}isEnabled(){return!!this._enabled}isActive(){return!!this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(a){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!a&&a.around==="center")}disable(){this.isEnabled()&&(this._enabled=!1)}_shouldBePrevented(a){return!!this._map.cooperativeGestures.isEnabled()&&!(a.ctrlKey||this._map.cooperativeGestures.isBypassed(a))}wheel(a){if(!this.isEnabled())return;if(this._shouldBePrevented(a))return void this._map.cooperativeGestures.notifyGestureBlocked("wheel_zoom",a);let p=a.deltaMode===WheelEvent.DOM_DELTA_LINE?40*a.deltaY:a.deltaY,m=y.now(),v=m-(this._lastWheelEventTime||0);this._lastWheelEventTime=m,p!==0&&p%c1==0?this._type="wheel":p!==0&&Math.abs(p)<4?this._type="trackpad":v>400?(this._type=null,this._lastValue=p,this._timeout=setTimeout(this._onTimeout,40,a)):this._type||(this._type=Math.abs(v*p)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,p+=this._lastValue)),a.shiftKey&&p&&(p/=4),this._type&&(this._lastWheelEvent=a,this._delta-=p,this._active||this._start(a)),a.preventDefault()}_start(a){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);let p=w.mousePos(this._map.getCanvas(),a),m=this._tr;this._around=p.y>m.transform.height/2-m.transform.getHorizon()?o.N.convert(this._aroundCenter?m.center:m.unproject(p)):o.N.convert(m.center),this._aroundPoint=m.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;let a=this._tr.transform;if(this._delta!==0){let O=this._type==="wheel"&&Math.abs(this._delta)>c1?this._wheelZoomRate:this._defaultZoomRate,D=2/(1+Math.exp(-Math.abs(this._delta*O)));this._delta<0&&D!==0&&(D=1/D);let V=typeof this._targetZoom=="number"?a.zoomScale(this._targetZoom):a.scale;this._targetZoom=Math.min(a.maxZoom,Math.max(a.minZoom,a.scaleZoom(V*D))),this._type==="wheel"&&(this._startZoom=a.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}let p=typeof this._targetZoom=="number"?this._targetZoom:a.zoom,m=this._startZoom,v=this._easing,_,C=!1,P=y.now()-this._lastWheelEventTime;if(this._type==="wheel"&&m&&v&&P){let O=Math.min(P/200,1),D=v(O);_=o.y.number(m,p,D),O<1?this._frameId||(this._frameId=!0):C=!0}else _=p,C=!0;return this._active=!0,C&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!C,zoomDelta:_-a.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}_smoothOutEasing(a){let p=o.b9;if(this._prevEase){let m=this._prevEase,v=(y.now()-m.start)/m.duration,_=m.easing(v+.01)-m.easing(v),C=.27/Math.sqrt(_*_+1e-4)*.01,P=Math.sqrt(.0729-C*C);p=o.b8(C,P,.25,1)}return this._prevEase={start:y.now(),duration:a,easing:p},p}reset(){this._active=!1,this._zooming=!1,delete this._targetZoom,this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout)}}class Pc{constructor(a,p){this._clickZoom=a,this._tapZoom=p}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class $R{constructor(a){this._tr=new As(a),this.reset()}reset(){this._active=!1}dblclick(a,p){return a.preventDefault(),{cameraAnimation:m=>{m.easeTo({duration:300,zoom:this._tr.zoom+(a.shiftKey?-1:1),around:this._tr.unproject(p)},{originalEvent:a})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class HR{constructor(){this._tap=new sv({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,delete this._tapPoint,this._tap.reset()}touchstart(a,p,m){if(!this._swipePoint)if(this._tapTime){let v=p[0],_=a.timeStamp-this._tapTime<500,C=this._tapPoint.dist(v)<30;_&&C?m.length>0&&(this._swipePoint=v,this._swipeTouch=m[0].identifier):this.reset()}else this._tap.touchstart(a,p,m)}touchmove(a,p,m){if(this._tapTime){if(this._swipePoint){if(m[0].identifier!==this._swipeTouch)return;let v=p[0],_=v.y-this._swipePoint.y;return this._swipePoint=v,a.preventDefault(),this._active=!0,{zoomDelta:_/128}}}else this._tap.touchmove(a,p,m)}touchend(a,p,m){if(this._tapTime)this._swipePoint&&m.length===0&&this.reset();else{let v=this._tap.touchend(a,p,m);v&&(this._tapTime=a.timeStamp,this._tapPoint=v)}}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class m2{constructor(a,p,m){this._el=a,this._mousePan=p,this._touchPan=m}enable(a){this._inertiaOptions=a||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class v2{constructor(a,p,m){this._pitchWithRotate=a.pitchWithRotate,this._mouseRotate=p,this._mousePitch=m}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class p1{constructor(a,p,m,v){this._el=a,this._touchZoom=p,this._touchRotate=m,this._tapDragZoom=v,this._rotationDisabled=!1,this._enabled=!0}enable(a){this._touchZoom.enable(a),this._rotationDisabled||this._touchRotate.enable(a),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}class Qp{constructor(a,p){this._bypassKey=navigator.userAgent.indexOf("Mac")!==-1?"metaKey":"ctrlKey",this._map=a,this._options=p,this._enabled=!1}isActive(){return!1}reset(){}_setupUI(){if(this._container)return;let a=this._map.getCanvasContainer();a.classList.add("maplibregl-cooperative-gestures"),this._container=w.create("div","maplibregl-cooperative-gesture-screen",a);let p=this._map._getUIString("CooperativeGesturesHandler.WindowsHelpText");this._bypassKey==="metaKey"&&(p=this._map._getUIString("CooperativeGesturesHandler.MacHelpText"));let m=this._map._getUIString("CooperativeGesturesHandler.MobileHelpText"),v=document.createElement("div");v.className="maplibregl-desktop-message",v.textContent=p,this._container.appendChild(v);let _=document.createElement("div");_.className="maplibregl-mobile-message",_.textContent=m,this._container.appendChild(_),this._container.setAttribute("aria-hidden","true")}_destroyUI(){this._container&&(w.remove(this._container),this._map.getCanvasContainer().classList.remove("maplibregl-cooperative-gestures")),delete this._container}enable(){this._setupUI(),this._enabled=!0}disable(){this._enabled=!1,this._destroyUI()}isEnabled(){return this._enabled}isBypassed(a){return a[this._bypassKey]}notifyGestureBlocked(a,p){this._enabled&&(this._map.fire(new o.k("cooperativegestureprevented",{gestureType:a,originalEvent:p})),this._container.classList.add("maplibregl-show"),setTimeout(()=>{this._container.classList.remove("maplibregl-show")},100))}}let Za=b=>b.zoom||b.drag||b.pitch||b.rotate;class jt extends o.k{}function dv(b){return b.panDelta&&b.panDelta.mag()||b.zoomDelta||b.bearingDelta||b.pitchDelta}class d1{constructor(a,p){this.handleWindowEvent=v=>{this.handleEvent(v,`${v.type}Window`)},this.handleEvent=(v,_)=>{if(v.type==="blur")return void this.stop(!0);this._updatingCamera=!0;let C=v.type==="renderFrame"?void 0:v,P={needsRenderFrame:!1},O={},D={},V=v.touches,U=V?this._getMapTouches(V):void 0,Y=U?w.touchPos(this._map.getCanvas(),U):w.mousePos(this._map.getCanvas(),v);for(let{handlerName:le,handler:de,allowed:me}of this._handlers){if(!de.isEnabled())continue;let ge;this._blockedByActive(D,me,le)?de.reset():de[_||v.type]&&(ge=de[_||v.type](v,Y,U),this.mergeHandlerResult(P,O,ge,le,C),ge&&ge.needsRenderFrame&&this._triggerRenderFrame()),(ge||de.isActive())&&(D[le]=de)}let ee={};for(let le in this._previousActiveHandlers)D[le]||(ee[le]=C);this._previousActiveHandlers=D,(Object.keys(ee).length||dv(P))&&(this._changes.push([P,O,ee]),this._triggerRenderFrame()),(Object.keys(D).length||dv(P))&&this._map._stop(!0),this._updatingCamera=!1;let{cameraAnimation:oe}=P;oe&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],oe(this._map))},this._map=a,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new e1(a),this._bearingSnap=p.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(p);let m=this._el;this._listeners=[[m,"touchstart",{passive:!0}],[m,"touchmove",{passive:!1}],[m,"touchend",void 0],[m,"touchcancel",void 0],[m,"mousedown",void 0],[m,"mousemove",void 0],[m,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[m,"mouseover",void 0],[m,"mouseout",void 0],[m,"dblclick",void 0],[m,"click",void 0],[m,"keydown",{capture:!1}],[m,"keyup",void 0],[m,"wheel",{passive:!1}],[m,"contextmenu",void 0],[window,"blur",void 0]];for(let[v,_,C]of this._listeners)w.addEventListener(v,_,v===document?this.handleWindowEvent:this.handleEvent,C)}destroy(){for(let[a,p,m]of this._listeners)w.removeEventListener(a,p,a===document?this.handleWindowEvent:this.handleEvent,m)}_addDefaultHandlers(a){let p=this._map,m=p.getCanvasContainer();this._add("mapEvent",new f2(p,a));let v=p.boxZoom=new Ta(p,a);this._add("boxZoom",v),a.interactive&&a.boxZoom&&v.enable();let _=p.cooperativeGestures=new Qp(p,a.cooperativeGestures);this._add("cooperativeGestures",_),a.cooperativeGestures&&_.enable();let C=new Xp(p),P=new $R(p);p.doubleClickZoom=new Pc(P,C),this._add("tapZoom",C),this._add("clickZoom",P),a.interactive&&a.doubleClickZoom&&p.doubleClickZoom.enable();let O=new HR;this._add("tapDragZoom",O);let D=p.touchPitch=new Jp(p);this._add("touchPitch",D),a.interactive&&a.touchPitch&&p.touchPitch.enable(a.touchPitch);let V=i1(a),U=o1(a);p.dragRotate=new v2(a,V,U),this._add("mouseRotate",V,["mousePitch"]),this._add("mousePitch",U,["mouseRotate"]),a.interactive&&a.dragRotate&&p.dragRotate.enable();let Y=(({enable:ge,clickTolerance:ae})=>{let Ie=new lv({checkCorrectEvent:Ae=>w.mouseButton(Ae)===0&&!Ae.ctrlKey});return new Hl({clickTolerance:ae,move:(Ae,qe)=>({around:qe,panDelta:qe.sub(Ae)}),activateOnStart:!0,moveStateManager:Ie,enable:ge,assignEvents:uv})})(a),ee=new Mc(a,p);p.dragPan=new m2(m,Y,ee),this._add("mousePan",Y),this._add("touchPan",ee,["touchZoom","touchRotate"]),a.interactive&&a.dragPan&&p.dragPan.enable(a.dragPan);let oe=new u1,le=new s1;p.touchZoomRotate=new p1(m,le,oe,O),this._add("touchRotate",oe,["touchPan","touchZoom"]),this._add("touchZoom",le,["touchPan","touchRotate"]),a.interactive&&a.touchZoomRotate&&p.touchZoomRotate.enable(a.touchZoomRotate);let de=p.scrollZoom=new Cs(p,()=>this._triggerRenderFrame());this._add("scrollZoom",de,["mousePan"]),a.interactive&&a.scrollZoom&&p.scrollZoom.enable(a.scrollZoom);let me=p.keyboard=new Wa(p);this._add("keyboard",me),a.interactive&&a.keyboard&&p.keyboard.enable(),this._add("blockableMapEvent",new li(p))}_add(a,p,m){this._handlers.push({handlerName:a,handler:p,allowed:m}),this._handlersById[a]=p}stop(a){if(!this._updatingCamera){for(let{handler:p}of this._handlers)p.reset();this._inertia.clear(),this._fireEvents({},{},a),this._changes=[]}}isActive(){for(let{handler:a}of this._handlers)if(a.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!Za(this._eventsInProgress)||this.isZooming()}_blockedByActive(a,p,m){for(let v in a)if(v!==m&&(!p||p.indexOf(v)<0))return!0;return!1}_getMapTouches(a){let p=[];for(let m of a)this._el.contains(m.target)&&p.push(m);return p}mergeHandlerResult(a,p,m,v,_){if(!m)return;o.e(a,m);let C={handlerName:v,originalEvent:m.originalEvent||_};m.zoomDelta!==void 0&&(p.zoom=C),m.panDelta!==void 0&&(p.drag=C),m.pitchDelta!==void 0&&(p.pitch=C),m.bearingDelta!==void 0&&(p.rotate=C)}_applyChanges(){let a={},p={},m={};for(let[v,_,C]of this._changes)v.panDelta&&(a.panDelta=(a.panDelta||new o.P(0,0))._add(v.panDelta)),v.zoomDelta&&(a.zoomDelta=(a.zoomDelta||0)+v.zoomDelta),v.bearingDelta&&(a.bearingDelta=(a.bearingDelta||0)+v.bearingDelta),v.pitchDelta&&(a.pitchDelta=(a.pitchDelta||0)+v.pitchDelta),v.around!==void 0&&(a.around=v.around),v.pinchAround!==void 0&&(a.pinchAround=v.pinchAround),v.noInertia&&(a.noInertia=v.noInertia),o.e(p,_),o.e(m,C);this._updateMapTransform(a,p,m),this._changes=[]}_updateMapTransform(a,p,m){let v=this._map,_=v._getTransformForUpdate(),C=v.terrain;if(!(dv(a)||C&&this._terrainMovement))return this._fireEvents(p,m,!0);let{panDelta:P,zoomDelta:O,bearingDelta:D,pitchDelta:V,around:U,pinchAround:Y}=a;Y!==void 0&&(U=Y),v._stop(!0),U=U||v.transform.centerPoint;let ee=_.pointLocation(P?U.sub(P):U);D&&(_.bearing+=D),V&&(_.pitch+=V),O&&(_.zoom+=O),C?this._terrainMovement||!p.drag&&!p.zoom?p.drag&&this._terrainMovement?_.center=_.pointLocation(_.centerPoint.sub(P)):_.setLocationAtPoint(ee,U):(this._terrainMovement=!0,this._map._elevationFreeze=!0,_.setLocationAtPoint(ee,U)):_.setLocationAtPoint(ee,U),v._applyUpdatedTransform(_),this._map._update(),a.noInertia||this._inertia.record(a),this._fireEvents(p,m,!0)}_fireEvents(a,p,m){let v=Za(this._eventsInProgress),_=Za(a),C={};for(let U in a){let{originalEvent:Y}=a[U];this._eventsInProgress[U]||(C[`${U}start`]=Y),this._eventsInProgress[U]=a[U]}!v&&_&&this._fireEvent("movestart",_.originalEvent);for(let U in C)this._fireEvent(U,C[U]);_&&this._fireEvent("move",_.originalEvent);for(let U in a){let{originalEvent:Y}=a[U];this._fireEvent(U,Y)}let P={},O;for(let U in this._eventsInProgress){let{handlerName:Y,originalEvent:ee}=this._eventsInProgress[U];this._handlersById[Y].isActive()||(delete this._eventsInProgress[U],O=p[Y]||ee,P[`${U}end`]=O)}for(let U in P)this._fireEvent(U,P[U]);let D=Za(this._eventsInProgress),V=(v||_)&&!D;if(V&&this._terrainMovement){this._map._elevationFreeze=!1,this._terrainMovement=!1;let U=this._map._getTransformForUpdate();U.recalculateZoom(this._map.terrain),this._map._applyUpdatedTransform(U)}if(m&&V){this._updatingCamera=!0;let U=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),Y=ee=>ee!==0&&-this._bearingSnap<ee&&ee<this._bearingSnap;!U||!U.essential&&y.prefersReducedMotion?(this._map.fire(new o.k("moveend",{originalEvent:O})),Y(this._map.getBearing())&&this._map.resetNorth()):(Y(U.bearing||this._map.getBearing())&&(U.bearing=0),U.freezeElevation=!0,this._map.easeTo(U,{originalEvent:O})),this._updatingCamera=!1}}_fireEvent(a,p){this._map.fire(new o.k(a,p?{originalEvent:p}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(a=>{delete this._frameId,this.handleEvent(new jt("renderFrame",{timeStamp:a})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}class g2 extends o.E{constructor(a,p){super(),this._renderFrameCallback=()=>{let m=Math.min((y.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(m)),m<1&&this._easeFrameId?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},this._moving=!1,this._zooming=!1,this.transform=a,this._bearingSnap=p.bearingSnap,this.on("moveend",()=>{delete this._requestedCameraState})}getCenter(){return new o.N(this.transform.center.lng,this.transform.center.lat)}setCenter(a,p){return this.jumpTo({center:a},p)}panBy(a,p,m){return a=o.P.convert(a).mult(-1),this.panTo(this.transform.center,o.e({offset:a},p),m)}panTo(a,p,m){return this.easeTo(o.e({center:a},p),m)}getZoom(){return this.transform.zoom}setZoom(a,p){return this.jumpTo({zoom:a},p),this}zoomTo(a,p,m){return this.easeTo(o.e({zoom:a},p),m)}zoomIn(a,p){return this.zoomTo(this.getZoom()+1,a,p),this}zoomOut(a,p){return this.zoomTo(this.getZoom()-1,a,p),this}getBearing(){return this.transform.bearing}setBearing(a,p){return this.jumpTo({bearing:a},p),this}getPadding(){return this.transform.padding}setPadding(a,p){return this.jumpTo({padding:a},p),this}rotateTo(a,p,m){return this.easeTo(o.e({bearing:a},p),m)}resetNorth(a,p){return this.rotateTo(0,o.e({duration:1e3},a),p),this}resetNorthPitch(a,p){return this.easeTo(o.e({bearing:0,pitch:0,duration:1e3},a),p),this}snapToNorth(a,p){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(a,p):this}getPitch(){return this.transform.pitch}setPitch(a,p){return this.jumpTo({pitch:a},p),this}cameraForBounds(a,p){a=xe.convert(a).adjustAntiMeridian();let m=p&&p.bearing||0;return this._cameraForBoxAndBearing(a.getNorthWest(),a.getSouthEast(),m,p)}_cameraForBoxAndBearing(a,p,m,v){let _={top:0,bottom:0,right:0,left:0};if(typeof(v=o.e({padding:_,offset:[0,0],maxZoom:this.transform.maxZoom},v)).padding=="number"){let xt=v.padding;v.padding={top:xt,bottom:xt,right:xt,left:xt}}v.padding=o.e(_,v.padding);let C=this.transform,P=C.padding,O=new xe(a,p),D=C.project(O.getNorthWest()),V=C.project(O.getNorthEast()),U=C.project(O.getSouthEast()),Y=C.project(O.getSouthWest()),ee=o.ba(-m),oe=D.rotate(ee),le=V.rotate(ee),de=U.rotate(ee),me=Y.rotate(ee),ge=new o.P(Math.max(oe.x,le.x,me.x,de.x),Math.max(oe.y,le.y,me.y,de.y)),ae=new o.P(Math.min(oe.x,le.x,me.x,de.x),Math.min(oe.y,le.y,me.y,de.y)),Ie=ge.sub(ae),Ae=(C.width-(P.left+P.right+v.padding.left+v.padding.right))/Ie.x,qe=(C.height-(P.top+P.bottom+v.padding.top+v.padding.bottom))/Ie.y;if(qe<0||Ae<0)return void o.w("Map cannot fit within canvas with the given bounds, padding, and/or offset.");let Je=Math.min(C.scaleZoom(C.scale*Math.min(Ae,qe)),v.maxZoom),ct=o.P.convert(v.offset),Ct=new o.P((v.padding.left-v.padding.right)/2,(v.padding.top-v.padding.bottom)/2).rotate(o.ba(m)),Lt=ct.add(Ct).mult(C.scale/C.zoomScale(Je));return{center:C.unproject(D.add(U).div(2).sub(Lt)),zoom:Je,bearing:m}}fitBounds(a,p,m){return this._fitInternal(this.cameraForBounds(a,p),p,m)}fitScreenCoordinates(a,p,m,v,_){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(o.P.convert(a)),this.transform.pointLocation(o.P.convert(p)),m,v),v,_)}_fitInternal(a,p,m){return a?(delete(p=o.e(a,p)).padding,p.linear?this.easeTo(p,m):this.flyTo(p,m)):this}jumpTo(a,p){this.stop();let m=this._getTransformForUpdate(),v=!1,_=!1,C=!1;return"zoom"in a&&m.zoom!==+a.zoom&&(v=!0,m.zoom=+a.zoom),a.center!==void 0&&(m.center=o.N.convert(a.center)),"bearing"in a&&m.bearing!==+a.bearing&&(_=!0,m.bearing=+a.bearing),"pitch"in a&&m.pitch!==+a.pitch&&(C=!0,m.pitch=+a.pitch),a.padding==null||m.isPaddingEqual(a.padding)||(m.padding=a.padding),this._applyUpdatedTransform(m),this.fire(new o.k("movestart",p)).fire(new o.k("move",p)),v&&this.fire(new o.k("zoomstart",p)).fire(new o.k("zoom",p)).fire(new o.k("zoomend",p)),_&&this.fire(new o.k("rotatestart",p)).fire(new o.k("rotate",p)).fire(new o.k("rotateend",p)),C&&this.fire(new o.k("pitchstart",p)).fire(new o.k("pitch",p)).fire(new o.k("pitchend",p)),this.fire(new o.k("moveend",p))}calculateCameraOptionsFromTo(a,p,m,v=0){let _=o.Z.fromLngLat(a,p),C=o.Z.fromLngLat(m,v),P=C.x-_.x,O=C.y-_.y,D=C.z-_.z,V=Math.hypot(P,O,D);if(V===0)throw new Error("Can't calculate camera options with same From and To");let U=Math.hypot(P,O),Y=this.transform.scaleZoom(this.transform.cameraToCenterDistance/V/this.transform.tileSize),ee=180*Math.atan2(P,-O)/Math.PI,oe=180*Math.acos(U/V)/Math.PI;return oe=D<0?90-oe:90+oe,{center:C.toLngLat(),zoom:Y,pitch:oe,bearing:ee}}easeTo(a,p){var m;this._stop(!1,a.easeId),((a=o.e({offset:[0,0],duration:500,easing:o.b9},a)).animate===!1||!a.essential&&y.prefersReducedMotion)&&(a.duration=0);let v=this._getTransformForUpdate(),_=v.zoom,C=v.bearing,P=v.pitch,O=v.padding,D="bearing"in a?this._normalizeBearing(a.bearing,C):C,V="pitch"in a?+a.pitch:P,U="padding"in a?a.padding:v.padding,Y=o.P.convert(a.offset),ee=v.centerPoint.add(Y),oe=v.pointLocation(ee),{center:le,zoom:de}=v.getConstrained(o.N.convert(a.center||oe),(m=a.zoom)!==null&&m!==void 0?m:_);this._normalizeCenter(le,v);let me=v.project(oe),ge=v.project(le).sub(me),ae=v.zoomScale(de-_),Ie,Ae;a.around&&(Ie=o.N.convert(a.around),Ae=v.locationPoint(Ie));let qe={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||de!==_,this._rotating=this._rotating||C!==D,this._pitching=this._pitching||V!==P,this._padding=!v.isPaddingEqual(U),this._easeId=a.easeId,this._prepareEase(p,a.noMoveStart,qe),this.terrain&&this._prepareElevation(le),this._ease(Je=>{if(this._zooming&&(v.zoom=o.y.number(_,de,Je)),this._rotating&&(v.bearing=o.y.number(C,D,Je)),this._pitching&&(v.pitch=o.y.number(P,V,Je)),this._padding&&(v.interpolatePadding(O,U,Je),ee=v.centerPoint.add(Y)),this.terrain&&!a.freezeElevation&&this._updateElevation(Je),Ie)v.setLocationAtPoint(Ie,Ae);else{let ct=v.zoomScale(v.zoom-_),Ct=de>_?Math.min(2,ae):Math.max(.5,ae),Lt=Math.pow(Ct,1-Je),xt=v.unproject(me.add(ge.mult(Je*Lt)).mult(ct));v.setLocationAtPoint(v.renderWorldCopies?xt.wrap():xt,ee)}this._applyUpdatedTransform(v),this._fireMoveEvents(p)},Je=>{this.terrain&&a.freezeElevation&&this._finalizeElevation(),this._afterEase(p,Je)},a),this}_prepareEase(a,p,m={}){this._moving=!0,p||m.moving||this.fire(new o.k("movestart",a)),this._zooming&&!m.zooming&&this.fire(new o.k("zoomstart",a)),this._rotating&&!m.rotating&&this.fire(new o.k("rotatestart",a)),this._pitching&&!m.pitching&&this.fire(new o.k("pitchstart",a))}_prepareElevation(a){this._elevationCenter=a,this._elevationStart=this.transform.elevation,this._elevationTarget=this.terrain.getElevationForLngLatZoom(a,this.transform.tileZoom),this._elevationFreeze=!0}_updateElevation(a){this.transform.minElevationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);let p=this.terrain.getElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);if(a<1&&p!==this._elevationTarget){let m=this._elevationTarget-this._elevationStart;this._elevationStart+=a*(m-(p-(m*a+this._elevationStart))/(1-a)),this._elevationTarget=p}this.transform.elevation=o.y.number(this._elevationStart,this._elevationTarget,a)}_finalizeElevation(){this._elevationFreeze=!1,this.transform.recalculateZoom(this.terrain)}_getTransformForUpdate(){return this.transformCameraUpdate||this.terrain?(this._requestedCameraState||(this._requestedCameraState=this.transform.clone()),this._requestedCameraState):this.transform}_elevateCameraIfInsideTerrain(a){let p=a.getCameraPosition(),m=this.terrain.getElevationForLngLatZoom(p.lngLat,a.zoom);if(p.altitude<m){let v=this.calculateCameraOptionsFromTo(p.lngLat,m,a.center,a.elevation);return{pitch:v.pitch,zoom:v.zoom}}return{}}_applyUpdatedTransform(a){let p=[];if(this.terrain&&p.push(v=>this._elevateCameraIfInsideTerrain(v)),this.transformCameraUpdate&&p.push(v=>this.transformCameraUpdate(v)),!p.length)return;let m=a.clone();for(let v of p){let _=m.clone(),{center:C,zoom:P,pitch:O,bearing:D,elevation:V}=v(_);C&&(_.center=C),P!==void 0&&(_.zoom=P),O!==void 0&&(_.pitch=O),D!==void 0&&(_.bearing=D),V!==void 0&&(_.elevation=V),m.apply(_)}this.transform.apply(m)}_fireMoveEvents(a){this.fire(new o.k("move",a)),this._zooming&&this.fire(new o.k("zoom",a)),this._rotating&&this.fire(new o.k("rotate",a)),this._pitching&&this.fire(new o.k("pitch",a))}_afterEase(a,p){if(this._easeId&&p&&this._easeId===p)return;delete this._easeId;let m=this._zooming,v=this._rotating,_=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,m&&this.fire(new o.k("zoomend",a)),v&&this.fire(new o.k("rotateend",a)),_&&this.fire(new o.k("pitchend",a)),this.fire(new o.k("moveend",a))}flyTo(a,p){var m;if(!a.essential&&y.prefersReducedMotion){let Nt=o.M(a,["center","zoom","bearing","pitch","around"]);return this.jumpTo(Nt,p)}this.stop(),a=o.e({offset:[0,0],speed:1.2,curve:1.42,easing:o.b9},a);let v=this._getTransformForUpdate(),_=v.zoom,C=v.bearing,P=v.pitch,O=v.padding,D="bearing"in a?this._normalizeBearing(a.bearing,C):C,V="pitch"in a?+a.pitch:P,U="padding"in a?a.padding:v.padding,Y=o.P.convert(a.offset),ee=v.centerPoint.add(Y),oe=v.pointLocation(ee),{center:le,zoom:de}=v.getConstrained(o.N.convert(a.center||oe),(m=a.zoom)!==null&&m!==void 0?m:_);this._normalizeCenter(le,v);let me=v.zoomScale(de-_),ge=v.project(oe),ae=v.project(le).sub(ge),Ie=a.curve,Ae=Math.max(v.width,v.height),qe=Ae/me,Je=ae.mag();if("minZoom"in a){let Nt=o.ac(Math.min(a.minZoom,_,de),v.minZoom,v.maxZoom),fr=Ae/v.zoomScale(Nt-_);Ie=Math.sqrt(fr/Je*2)}let ct=Ie*Ie;function Ct(Nt){let fr=(qe*qe-Ae*Ae+(Nt?-1:1)*ct*ct*Je*Je)/(2*(Nt?qe:Ae)*ct*Je);return Math.log(Math.sqrt(fr*fr+1)-fr)}function Lt(Nt){return(Math.exp(Nt)-Math.exp(-Nt))/2}function xt(Nt){return(Math.exp(Nt)+Math.exp(-Nt))/2}let _t=Ct(!1),Wt=function(Nt){return xt(_t)/xt(_t+Ie*Nt)},mr=function(Nt){return Ae*((xt(_t)*(Lt(fr=_t+Ie*Nt)/xt(fr))-Lt(_t))/ct)/Je;var fr},It=(Ct(!0)-_t)/Ie;if(Math.abs(Je)<1e-6||!isFinite(It)){if(Math.abs(Ae-qe)<1e-6)return this.easeTo(a,p);let Nt=qe<Ae?-1:1;It=Math.abs(Math.log(qe/Ae))/Ie,mr=()=>0,Wt=fr=>Math.exp(Nt*Ie*fr)}return a.duration="duration"in a?+a.duration:1e3*It/("screenSpeed"in a?+a.screenSpeed/Ie:+a.speed),a.maxDuration&&a.duration>a.maxDuration&&(a.duration=0),this._zooming=!0,this._rotating=C!==D,this._pitching=V!==P,this._padding=!v.isPaddingEqual(U),this._prepareEase(p,!1),this.terrain&&this._prepareElevation(le),this._ease(Nt=>{let fr=Nt*It,zn=1/Wt(fr);v.zoom=Nt===1?de:_+v.scaleZoom(zn),this._rotating&&(v.bearing=o.y.number(C,D,Nt)),this._pitching&&(v.pitch=o.y.number(P,V,Nt)),this._padding&&(v.interpolatePadding(O,U,Nt),ee=v.centerPoint.add(Y)),this.terrain&&!a.freezeElevation&&this._updateElevation(Nt);let Tr=Nt===1?le:v.unproject(ge.add(ae.mult(mr(fr))).mult(zn));v.setLocationAtPoint(v.renderWorldCopies?Tr.wrap():Tr,ee),this._applyUpdatedTransform(v),this._fireMoveEvents(p)},()=>{this.terrain&&a.freezeElevation&&this._finalizeElevation(),this._afterEase(p)},a),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(a,p){var m;if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){let v=this._onEaseEnd;delete this._onEaseEnd,v.call(this,p)}return a||(m=this.handlers)===null||m===void 0||m.stop(!1),this}_ease(a,p,m){m.animate===!1||m.duration===0?(a(1),p()):(this._easeStart=y.now(),this._easeOptions=m,this._onEaseFrame=a,this._onEaseEnd=p,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_normalizeBearing(a,p){a=o.b3(a,-180,180);let m=Math.abs(a-p);return Math.abs(a-360-p)<m&&(a-=360),Math.abs(a+360-p)<m&&(a+=360),a}_normalizeCenter(a,p){if(!p.renderWorldCopies||p.lngRange)return;let m=a.lng-p.center.lng;a.lng+=m>180?-360:m<-180?360:0}queryTerrainElevation(a){return this.terrain?this.terrain.getElevationForLngLatZoom(o.N.convert(a),this.transform.tileZoom)-this.transform.elevation:null}}let ed={compact:!0,customAttribution:"<a href=\"https://maplibre.org/\" target=\"_blank\">MapLibre</a>"};class td{constructor(a=ed){this._toggleAttribution=()=>{this._container.classList.contains("maplibregl-compact")&&(this._container.classList.contains("maplibregl-compact-show")?(this._container.setAttribute("open",""),this._container.classList.remove("maplibregl-compact-show")):(this._container.classList.add("maplibregl-compact-show"),this._container.removeAttribute("open")))},this._updateData=p=>{!p||p.sourceDataType!=="metadata"&&p.sourceDataType!=="visibility"&&p.dataType!=="style"&&p.type!=="terrain"||this._updateAttributions()},this._updateCompact=()=>{this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact===!1?this._container.setAttribute("open",""):this._container.classList.contains("maplibregl-compact")||this._container.classList.contains("maplibregl-attrib-empty")||(this._container.setAttribute("open",""),this._container.classList.add("maplibregl-compact","maplibregl-compact-show")):(this._container.setAttribute("open",""),this._container.classList.contains("maplibregl-compact")&&this._container.classList.remove("maplibregl-compact","maplibregl-compact-show"))},this._updateCompactMinimize=()=>{this._container.classList.contains("maplibregl-compact")&&this._container.classList.contains("maplibregl-compact-show")&&this._container.classList.remove("maplibregl-compact-show")},this.options=a}getDefaultPosition(){return"bottom-right"}onAdd(a){return this._map=a,this._compact=this.options.compact,this._container=w.create("details","maplibregl-ctrl maplibregl-ctrl-attrib"),this._compactButton=w.create("summary","maplibregl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=w.create("div","maplibregl-ctrl-attrib-inner",this._container),this._updateAttributions(),this._updateCompact(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("terrain",this._updateData),this._map.on("resize",this._updateCompact),this._map.on("drag",this._updateCompactMinimize),this._container}onRemove(){w.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("terrain",this._updateData),this._map.off("resize",this._updateCompact),this._map.off("drag",this._updateCompactMinimize),this._map=void 0,this._compact=void 0,this._attribHTML=void 0}_setElementTitle(a,p){let m=this._map._getUIString(`AttributionControl.${p}`);a.title=m,a.setAttribute("aria-label",m)}_updateAttributions(){if(!this._map.style)return;let a=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?a=a.concat(this.options.customAttribution.map(v=>typeof v!="string"?"":v)):typeof this.options.customAttribution=="string"&&a.push(this.options.customAttribution)),this._map.style.stylesheet){let v=this._map.style.stylesheet;this.styleOwner=v.owner,this.styleId=v.id}let p=this._map.style.sourceCaches;for(let v in p){let _=p[v];if(_.used||_.usedForTerrain){let C=_.getSource();C.attribution&&a.indexOf(C.attribution)<0&&a.push(C.attribution)}}a=a.filter(v=>String(v).trim()),a.sort((v,_)=>v.length-_.length),a=a.filter((v,_)=>{for(let C=_+1;C<a.length;C++)if(a[C].indexOf(v)>=0)return!1;return!0});let m=a.join(" | ");m!==this._attribHTML&&(this._attribHTML=m,a.length?(this._innerContainer.innerHTML=m,this._container.classList.remove("maplibregl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty"),this._updateCompact(),this._editLink=null)}}class f1{constructor(a={}){this._updateCompact=()=>{let p=this._container.children;if(p.length){let m=p[0];this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact!==!1&&m.classList.add("maplibregl-compact"):m.classList.remove("maplibregl-compact")}},this.options=a}getDefaultPosition(){return"bottom-left"}onAdd(a){this._map=a,this._compact=this.options&&this.options.compact,this._container=w.create("div","maplibregl-ctrl");let p=w.create("a","maplibregl-ctrl-logo");return p.target="_blank",p.rel="noopener nofollow",p.href="https://maplibre.org/",p.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),p.setAttribute("rel","noopener nofollow"),this._container.appendChild(p),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){w.remove(this._container),this._map.off("resize",this._updateCompact),this._map=void 0,this._compact=void 0}}class Hr{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(a){let p=++this._id;return this._queue.push({callback:a,id:p,cancelled:!1}),p}remove(a){let p=this._currentlyRunning,m=p?this._queue.concat(p):this._queue;for(let v of m)if(v.id===a)return void(v.cancelled=!0)}run(a=0){if(this._currentlyRunning)throw new Error("Attempting to run(), but is already running.");let p=this._currentlyRunning=this._queue;this._queue=[];for(let m of p)if(!m.cancelled&&(m.callback(a),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}var h1=o.Y([{name:"a_pos3d",type:"Int16",components:3}]);class GR extends o.E{constructor(a){super(),this.sourceCache=a,this._tiles={},this._renderableTilesKeys=[],this._sourceTileCache={},this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.deltaZoom=1,a.usedForTerrain=!0,a.tileSize=this.tileSize*dh(2,this.deltaZoom)}destruct(){this.sourceCache.usedForTerrain=!1,this.sourceCache.tileSize=null}update(a,p){this.sourceCache.update(a,p),this._renderableTilesKeys=[];let m={};for(let v of a.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,reparseOverscaled:!1,terrain:p}))m[v.key]=!0,this._renderableTilesKeys.push(v.key),this._tiles[v.key]||(v.posMatrix=new Float64Array(16),o.aP(v.posMatrix,0,o.X,0,o.X,0,1),this._tiles[v.key]=new Qs(v,this.tileSize));for(let v in this._tiles)m[v]||delete this._tiles[v]}freeRtt(a){for(let p in this._tiles){let m=this._tiles[p];(!a||m.tileID.equals(a)||m.tileID.isChildOf(a)||a.isChildOf(m.tileID))&&(m.rtt=[])}}getRenderableTiles(){return this._renderableTilesKeys.map(a=>this.getTileByID(a))}getTileByID(a){return this._tiles[a]}getTerrainCoords(a){let p={};for(let m of this._renderableTilesKeys){let v=this._tiles[m].tileID;if(v.canonical.equals(a.canonical)){let _=a.clone();_.posMatrix=new Float64Array(16),o.aP(_.posMatrix,0,o.X,0,o.X,0,1),p[m]=_}else if(v.canonical.isChildOf(a.canonical)){let _=a.clone();_.posMatrix=new Float64Array(16);let C=v.canonical.z-a.canonical.z,P=v.canonical.x-(v.canonical.x>>C<<C),O=v.canonical.y-(v.canonical.y>>C<<C),D=o.X>>C;o.aP(_.posMatrix,0,D,0,D,0,1),o.J(_.posMatrix,_.posMatrix,[-P*D,-O*D,0]),p[m]=_}else if(a.canonical.isChildOf(v.canonical)){let _=a.clone();_.posMatrix=new Float64Array(16);let C=a.canonical.z-v.canonical.z,P=a.canonical.x-(a.canonical.x>>C<<C),O=a.canonical.y-(a.canonical.y>>C<<C),D=o.X>>C;o.aP(_.posMatrix,0,o.X,0,o.X,0,1),o.J(_.posMatrix,_.posMatrix,[P*D,O*D,0]),o.K(_.posMatrix,_.posMatrix,[1/dh(2,C),1/dh(2,C),0]),p[m]=_}}return p}getSourceTile(a,p){let m=this.sourceCache._source,v=a.overscaledZ-this.deltaZoom;if(v>m.maxzoom&&(v=m.maxzoom),v<m.minzoom)return null;this._sourceTileCache[a.key]||(this._sourceTileCache[a.key]=a.scaledTo(v).key);let _=this.sourceCache.getTileByID(this._sourceTileCache[a.key]);if((!_||!_.dem)&&p)for(;v>=m.minzoom&&(!_||!_.dem);)_=this.sourceCache.getTileByID(a.scaledTo(v--).key);return _}tilesAfterTime(a=Date.now()){return Object.values(this._tiles).filter(p=>p.timeAdded>=a)}}class m1{constructor(a,p,m){this.painter=a,this.sourceCache=new GR(p),this.options=m,this.exaggeration=typeof m.exaggeration=="number"?m.exaggeration:1,this.qualityFactor=2,this.meshSize=128,this._demMatrixCache={},this.coordsIndex=[],this._coordsTextureSize=1024}getDEMElevation(a,p,m,v=o.X){var _;if(!(p>=0&&p<v&&m>=0&&m<v))return 0;let C=this.getTerrainData(a),P=(_=C.tile)===null||_===void 0?void 0:_.dem;if(!P)return 0;let O=function(oe,le,de){var me=le[0],ge=le[1];return oe[0]=de[0]*me+de[4]*ge+de[12],oe[1]=de[1]*me+de[5]*ge+de[13],oe}([],[p/v*o.X,m/v*o.X],C.u_terrain_matrix),D=[O[0]*P.dim,O[1]*P.dim],V=Math.floor(D[0]),U=Math.floor(D[1]),Y=D[0]-V,ee=D[1]-U;return P.get(V,U)*(1-Y)*(1-ee)+P.get(V+1,U)*Y*(1-ee)+P.get(V,U+1)*(1-Y)*ee+P.get(V+1,U+1)*Y*ee}getElevationForLngLatZoom(a,p){if(!o.bb(p,a.wrap()))return 0;let{tileID:m,mercatorX:v,mercatorY:_}=this._getOverscaledTileIDFromLngLatZoom(a,p);return this.getElevation(m,v%o.X,_%o.X,o.X)}getElevation(a,p,m,v=o.X){return this.getDEMElevation(a,p,m,v)*this.exaggeration}getTerrainData(a){if(!this._emptyDemTexture){let v=this.painter.context,_=new o.R({width:1,height:1},new Uint8Array(4));this._emptyDepthTexture=new Se(v,_,v.gl.RGBA,{premultiply:!1}),this._emptyDemUnpack=[0,0,0,0],this._emptyDemTexture=new Se(v,new o.R({width:1,height:1}),v.gl.RGBA,{premultiply:!1}),this._emptyDemTexture.bind(v.gl.NEAREST,v.gl.CLAMP_TO_EDGE),this._emptyDemMatrix=o.an([])}let p=this.sourceCache.getSourceTile(a,!0);if(p&&p.dem&&(!p.demTexture||p.needsTerrainPrepare)){let v=this.painter.context;p.demTexture=this.painter.getTileTexture(p.dem.stride),p.demTexture?p.demTexture.update(p.dem.getPixels(),{premultiply:!1}):p.demTexture=new Se(v,p.dem.getPixels(),v.gl.RGBA,{premultiply:!1}),p.demTexture.bind(v.gl.NEAREST,v.gl.CLAMP_TO_EDGE),p.needsTerrainPrepare=!1}let m=p&&p+p.tileID.key+a.key;if(m&&!this._demMatrixCache[m]){let v=this.sourceCache.sourceCache._source.maxzoom,_=a.canonical.z-p.tileID.canonical.z;a.overscaledZ>a.canonical.z&&(a.canonical.z>=v?_=a.canonical.z-v:o.w("cannot calculate elevation if elevation maxzoom > source.maxzoom"));let C=a.canonical.x-(a.canonical.x>>_<<_),P=a.canonical.y-(a.canonical.y>>_<<_),O=o.bc(new Float64Array(16),[1/(o.X<<_),1/(o.X<<_),0]);o.J(O,O,[C*o.X,P*o.X,0]),this._demMatrixCache[a.key]={matrix:O,coord:a}}return{u_depth:2,u_terrain:3,u_terrain_dim:p&&p.dem&&p.dem.dim||1,u_terrain_matrix:m?this._demMatrixCache[a.key].matrix:this._emptyDemMatrix,u_terrain_unpack:p&&p.dem&&p.dem.getUnpackVector()||this._emptyDemUnpack,u_terrain_exaggeration:this.exaggeration,texture:(p&&p.demTexture||this._emptyDemTexture).texture,depthTexture:(this._fboDepthTexture||this._emptyDepthTexture).texture,tile:p}}getFramebuffer(a){let p=this.painter,m=p.width/devicePixelRatio,v=p.height/devicePixelRatio;return!this._fbo||this._fbo.width===m&&this._fbo.height===v||(this._fbo.destroy(),this._fboCoordsTexture.destroy(),this._fboDepthTexture.destroy(),delete this._fbo,delete this._fboDepthTexture,delete this._fboCoordsTexture),this._fboCoordsTexture||(this._fboCoordsTexture=new Se(p.context,{width:m,height:v,data:null},p.context.gl.RGBA,{premultiply:!1}),this._fboCoordsTexture.bind(p.context.gl.NEAREST,p.context.gl.CLAMP_TO_EDGE)),this._fboDepthTexture||(this._fboDepthTexture=new Se(p.context,{width:m,height:v,data:null},p.context.gl.RGBA,{premultiply:!1}),this._fboDepthTexture.bind(p.context.gl.NEAREST,p.context.gl.CLAMP_TO_EDGE)),this._fbo||(this._fbo=p.context.createFramebuffer(m,v,!0,!1),this._fbo.depthAttachment.set(p.context.createRenderbuffer(p.context.gl.DEPTH_COMPONENT16,m,v))),this._fbo.colorAttachment.set(a==="coords"?this._fboCoordsTexture.texture:this._fboDepthTexture.texture),this._fbo}getCoordsTexture(){let a=this.painter.context;if(this._coordsTexture)return this._coordsTexture;let p=new Uint8Array(this._coordsTextureSize*this._coordsTextureSize*4);for(let _=0,C=0;_<this._coordsTextureSize;_++)for(let P=0;P<this._coordsTextureSize;P++,C+=4)p[C+0]=255&P,p[C+1]=255&_,p[C+2]=P>>8<<4|_>>8,p[C+3]=0;let m=new o.R({width:this._coordsTextureSize,height:this._coordsTextureSize},new Uint8Array(p.buffer)),v=new Se(a,m,a.gl.RGBA,{premultiply:!1});return v.bind(a.gl.NEAREST,a.gl.CLAMP_TO_EDGE),this._coordsTexture=v,v}pointCoordinate(a){this.painter.maybeDrawDepthAndCoords(!0);let p=new Uint8Array(4),m=this.painter.context,v=m.gl,_=Math.round(a.x*this.painter.pixelRatio/devicePixelRatio),C=Math.round(a.y*this.painter.pixelRatio/devicePixelRatio),P=Math.round(this.painter.height/devicePixelRatio);m.bindFramebuffer.set(this.getFramebuffer("coords").framebuffer),v.readPixels(_,P-C-1,1,1,v.RGBA,v.UNSIGNED_BYTE,p),m.bindFramebuffer.set(null);let O=p[0]+(p[2]>>4<<8),D=p[1]+((15&p[2])<<8),V=this.coordsIndex[255-p[3]],U=V&&this.sourceCache.getTileByID(V);if(!U)return null;let Y=this._coordsTextureSize,ee=(1<<U.tileID.canonical.z)*Y;return new o.Z((U.tileID.canonical.x*Y+O)/ee+U.tileID.wrap,(U.tileID.canonical.y*Y+D)/ee,this.getElevation(U.tileID,O,D,Y))}depthAtPoint(a){let p=new Uint8Array(4),m=this.painter.context,v=m.gl;return m.bindFramebuffer.set(this.getFramebuffer("depth").framebuffer),v.readPixels(a.x,this.painter.height/devicePixelRatio-a.y-1,1,1,v.RGBA,v.UNSIGNED_BYTE,p),m.bindFramebuffer.set(null),(p[0]/16777216+p[1]/65536+p[2]/256+p[3])/256}getTerrainMesh(){if(this._mesh)return this._mesh;let a=this.painter.context,p=new o.bd,m=new o.aY,v=this.meshSize,_=o.X/v,C=v*v;for(let U=0;U<=v;U++)for(let Y=0;Y<=v;Y++)p.emplaceBack(Y*_,U*_,0);for(let U=0;U<C;U+=v+1)for(let Y=0;Y<v;Y++)m.emplaceBack(Y+U,v+Y+U+1,v+Y+U+2),m.emplaceBack(Y+U,v+Y+U+2,Y+U+1);let P=p.length,O=P+2*(v+1);for(let U of[0,1])for(let Y=0;Y<=v;Y++)for(let ee of[0,1])p.emplaceBack(Y*_,U*o.X,ee);for(let U=0;U<2*v;U+=2)m.emplaceBack(O+U,O+U+1,O+U+3),m.emplaceBack(O+U,O+U+3,O+U+2),m.emplaceBack(P+U,P+U+3,P+U+1),m.emplaceBack(P+U,P+U+2,P+U+3);let D=p.length,V=D+2*(v+1);for(let U of[0,1])for(let Y=0;Y<=v;Y++)for(let ee of[0,1])p.emplaceBack(U*o.X,Y*_,ee);for(let U=0;U<2*v;U+=2)m.emplaceBack(D+U,D+U+1,D+U+3),m.emplaceBack(D+U,D+U+3,D+U+2),m.emplaceBack(V+U,V+U+3,V+U+1),m.emplaceBack(V+U,V+U+2,V+U+3);return this._mesh=new rv(a.createVertexBuffer(p,h1.members),a.createIndexBuffer(m),o.a0.simpleSegment(0,0,p.length,m.length)),this._mesh}getMeshFrameDelta(a){return 2*Math.PI*o.be/Math.pow(2,a)/5}getMinTileElevationForLngLatZoom(a,p){var m;let{tileID:v}=this._getOverscaledTileIDFromLngLatZoom(a,p);return(m=this.getMinMaxElevation(v).minElevation)!==null&&m!==void 0?m:0}getMinMaxElevation(a){let p=this.getTerrainData(a).tile,m={minElevation:null,maxElevation:null};return p&&p.dem&&(m.minElevation=p.dem.min*this.exaggeration,m.maxElevation=p.dem.max*this.exaggeration),m}_getOverscaledTileIDFromLngLatZoom(a,p){let m=o.Z.fromLngLat(a.wrap()),v=(1<<p)*o.X,_=m.x*v,C=m.y*v,P=Math.floor(_/o.X),O=Math.floor(C/o.X);return{tileID:new o.S(p,0,p,P,O),mercatorX:_,mercatorY:C}}}class WR{constructor(a,p,m){this._context=a,this._size=p,this._tileSize=m,this._objects=[],this._recentlyUsed=[],this._stamp=0}destruct(){for(let a of this._objects)a.texture.destroy(),a.fbo.destroy()}_createObject(a){let p=this._context.createFramebuffer(this._tileSize,this._tileSize,!0,!0),m=new Se(this._context,{width:this._tileSize,height:this._tileSize,data:null},this._context.gl.RGBA);return m.bind(this._context.gl.LINEAR,this._context.gl.CLAMP_TO_EDGE),p.depthAttachment.set(this._context.createRenderbuffer(this._context.gl.DEPTH_STENCIL,this._tileSize,this._tileSize)),p.colorAttachment.set(m.texture),{id:a,fbo:p,texture:m,stamp:-1,inUse:!1}}getObjectForId(a){return this._objects[a]}useObject(a){a.inUse=!0,this._recentlyUsed=this._recentlyUsed.filter(p=>a.id!==p),this._recentlyUsed.push(a.id)}stampObject(a){a.stamp=++this._stamp}getOrCreateFreeObject(){for(let p of this._recentlyUsed)if(!this._objects[p].inUse)return this._objects[p];if(this._objects.length>=this._size)throw new Error("No free RenderPool available, call freeAllObjects() required!");let a=this._createObject(this._objects.length);return this._objects.push(a),a}freeObject(a){a.inUse=!1}freeAllObjects(){for(let a of this._objects)this.freeObject(a)}isFull(){return!(this._objects.length<this._size)&&this._objects.some(a=>!a.inUse)===!1}}let rd={background:!0,fill:!0,line:!0,raster:!0,hillshade:!0};class y2{constructor(a,p){this.painter=a,this.terrain=p,this.pool=new WR(a.context,30,p.sourceCache.tileSize*p.qualityFactor)}destruct(){this.pool.destruct()}getTexture(a){return this.pool.getObjectForId(a.rtt[this._stacks.length-1].id).texture}prepareForRender(a,p){this._stacks=[],this._prevType=null,this._rttTiles=[],this._renderableTiles=this.terrain.sourceCache.getRenderableTiles(),this._renderableLayerIds=a._order.filter(m=>!a._layers[m].isHidden(p)),this._coordsDescendingInv={};for(let m in a.sourceCaches){this._coordsDescendingInv[m]={};let v=a.sourceCaches[m].getVisibleCoordinates();for(let _ of v){let C=this.terrain.sourceCache.getTerrainCoords(_);for(let P in C)this._coordsDescendingInv[m][P]||(this._coordsDescendingInv[m][P]=[]),this._coordsDescendingInv[m][P].push(C[P])}}this._coordsDescendingInvStr={};for(let m of a._order){let v=a._layers[m],_=v.source;if(rd[v.type]&&!this._coordsDescendingInvStr[_]){this._coordsDescendingInvStr[_]={};for(let C in this._coordsDescendingInv[_])this._coordsDescendingInvStr[_][C]=this._coordsDescendingInv[_][C].map(P=>P.key).sort().join()}}for(let m of this._renderableTiles)for(let v in this._coordsDescendingInvStr){let _=this._coordsDescendingInvStr[v][m.tileID.key];_&&_!==m.rttCoords[v]&&(m.rtt=[])}}renderLayer(a){if(a.isHidden(this.painter.transform.zoom))return!1;let p=a.type,m=this.painter,v=this._renderableLayerIds[this._renderableLayerIds.length-1]===a.id;if(rd[p]&&(this._prevType&&rd[this._prevType]||this._stacks.push([]),this._prevType=p,this._stacks[this._stacks.length-1].push(a.id),!v))return!0;if(rd[this._prevType]||rd[p]&&v){this._prevType=p;let _=this._stacks.length-1,C=this._stacks[_]||[];for(let P of this._renderableTiles){if(this.pool.isFull()&&(c2(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects()),this._rttTiles.push(P),P.rtt[_]){let D=this.pool.getObjectForId(P.rtt[_].id);if(D.stamp===P.rtt[_].stamp){this.pool.useObject(D);continue}}let O=this.pool.getOrCreateFreeObject();this.pool.useObject(O),this.pool.stampObject(O),P.rtt[_]={id:O.id,stamp:O.stamp},m.context.bindFramebuffer.set(O.fbo.framebuffer),m.context.clear({color:o.aM.transparent,stencil:0}),m.currentStencilSource=void 0;for(let D=0;D<C.length;D++){let V=m.style._layers[C[D]],U=V.source?this._coordsDescendingInv[V.source][P.tileID.key]:[P.tileID];m.context.viewport.set([0,0,O.fbo.width,O.fbo.height]),m._renderTileClippingMasks(V,U),m.renderLayer(m,m.style.sourceCaches[V.source],V,U),V.source&&(P.rttCoords[V.source]=this._coordsDescendingInvStr[V.source][P.tileID.key])}}return c2(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects(),rd[p]}return!1}}let v1={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"MapLibre logo","Map.Title":"Map","Marker.Title":"Map marker","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","Popup.Close":"Close popup","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm","TerrainControl.Enable":"Enable terrain","TerrainControl.Disable":"Disable terrain","CooperativeGesturesHandler.WindowsHelpText":"Use Ctrl + scroll to zoom the map","CooperativeGesturesHandler.MacHelpText":"Use \u2318 + scroll to zoom the map","CooperativeGesturesHandler.MobileHelpText":"Use two fingers to move the map"},_2=u,ZR={hash:!1,interactive:!0,bearingSnap:7,attributionControl:ed,maplibreLogo:!1,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,refreshExpiredTiles:!0,scrollZoom:!0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,trackResize:!0,center:[0,0],zoom:0,bearing:0,pitch:0,renderWorldCopies:!0,maxTileCacheSize:null,maxTileCacheZoomLevels:o.a.MAX_TILE_CACHE_ZOOM_LEVELS,transformRequest:null,transformCameraUpdate:null,fadeDuration:300,crossSourceCollisions:!0,clickTolerance:3,localIdeographFontFamily:"sans-serif",pitchWithRotate:!0,validateStyle:!0,maxCanvasSize:[4096,4096],cancelPendingTileRequestsWhileZooming:!0},g1=b=>{b.touchstart=b.dragStart,b.touchmoveWindow=b.dragMove,b.touchend=b.dragEnd},KR={showCompass:!0,showZoom:!0,visualizePitch:!1};class YR{constructor(a,p,m=!1){this.mousedown=C=>{this.startMouse(o.e({},C,{ctrlKey:!0,preventDefault:()=>C.preventDefault()}),w.mousePos(this.element,C)),w.addEventListener(window,"mousemove",this.mousemove),w.addEventListener(window,"mouseup",this.mouseup)},this.mousemove=C=>{this.moveMouse(C,w.mousePos(this.element,C))},this.mouseup=C=>{this.mouseRotate.dragEnd(C),this.mousePitch&&this.mousePitch.dragEnd(C),this.offTemp()},this.touchstart=C=>{C.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=w.touchPos(this.element,C.targetTouches)[0],this.startTouch(C,this._startPos),w.addEventListener(window,"touchmove",this.touchmove,{passive:!1}),w.addEventListener(window,"touchend",this.touchend))},this.touchmove=C=>{C.targetTouches.length!==1?this.reset():(this._lastPos=w.touchPos(this.element,C.targetTouches)[0],this.moveTouch(C,this._lastPos))},this.touchend=C=>{C.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),delete this._startPos,delete this._lastPos,this.offTemp()},this.reset=()=>{this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),this.touchRotate.reset(),this.touchPitch&&this.touchPitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()},this._clickTolerance=10;let v=a.dragRotate._mouseRotate.getClickTolerance(),_=a.dragRotate._mousePitch.getClickTolerance();this.element=p,this.mouseRotate=i1({clickTolerance:v,enable:!0}),this.touchRotate=(({enable:C,clickTolerance:P,bearingDegreesPerPixelMoved:O=.8})=>{let D=new n1;return new Hl({clickTolerance:P,move:(V,U)=>({bearingDelta:(U.x-V.x)*O}),moveStateManager:D,enable:C,assignEvents:g1})})({clickTolerance:v,enable:!0}),this.map=a,m&&(this.mousePitch=o1({clickTolerance:_,enable:!0}),this.touchPitch=(({enable:C,clickTolerance:P,pitchDegreesPerPixelMoved:O=-.5})=>{let D=new n1;return new Hl({clickTolerance:P,move:(V,U)=>({pitchDelta:(U.y-V.y)*O}),moveStateManager:D,enable:C,assignEvents:g1})})({clickTolerance:_,enable:!0})),w.addEventListener(p,"mousedown",this.mousedown),w.addEventListener(p,"touchstart",this.touchstart,{passive:!1}),w.addEventListener(p,"touchcancel",this.reset)}startMouse(a,p){this.mouseRotate.dragStart(a,p),this.mousePitch&&this.mousePitch.dragStart(a,p),w.disableDrag()}startTouch(a,p){this.touchRotate.dragStart(a,p),this.touchPitch&&this.touchPitch.dragStart(a,p),w.disableDrag()}moveMouse(a,p){let m=this.map,{bearingDelta:v}=this.mouseRotate.dragMove(a,p)||{};if(v&&m.setBearing(m.getBearing()+v),this.mousePitch){let{pitchDelta:_}=this.mousePitch.dragMove(a,p)||{};_&&m.setPitch(m.getPitch()+_)}}moveTouch(a,p){let m=this.map,{bearingDelta:v}=this.touchRotate.dragMove(a,p)||{};if(v&&m.setBearing(m.getBearing()+v),this.touchPitch){let{pitchDelta:_}=this.touchPitch.dragMove(a,p)||{};_&&m.setPitch(m.getPitch()+_)}}off(){let a=this.element;w.removeEventListener(a,"mousedown",this.mousedown),w.removeEventListener(a,"touchstart",this.touchstart,{passive:!1}),w.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),w.removeEventListener(window,"touchend",this.touchend),w.removeEventListener(a,"touchcancel",this.reset),this.offTemp()}offTemp(){w.enableDrag(),w.removeEventListener(window,"mousemove",this.mousemove),w.removeEventListener(window,"mouseup",this.mouseup),w.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),w.removeEventListener(window,"touchend",this.touchend)}}let Aa;function Ln(b,a,p){let m=new o.N(b.lng,b.lat);if(b=new o.N(b.lng,b.lat),a){let v=new o.N(b.lng-360,b.lat),_=new o.N(b.lng+360,b.lat),C=p.locationPoint(b).distSqr(a);p.locationPoint(v).distSqr(a)<C?b=v:p.locationPoint(_).distSqr(a)<C&&(b=_)}for(;Math.abs(b.lng-p.center.lng)>180;){let v=p.locationPoint(b);if(v.x>=0&&v.y>=0&&v.x<=p.width&&v.y<=p.height)break;b.lng>p.center.lng?b.lng-=360:b.lng+=360}return b.lng!==m.lng&&p.locationPoint(b).y>p.height/2-p.getHorizon()?b:m}let nd={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function fv(b,a,p){let m=b.classList;for(let v in nd)m.remove(`maplibregl-${p}-anchor-${v}`);m.add(`maplibregl-${p}-anchor-${a}`)}class hv extends o.E{constructor(a){if(super(),this._onKeyPress=p=>{let m=p.code,v=p.charCode||p.keyCode;m!=="Space"&&m!=="Enter"&&v!==32&&v!==13||this.togglePopup()},this._onMapClick=p=>{let m=p.originalEvent.target,v=this._element;this._popup&&(m===v||v.contains(m))&&this.togglePopup()},this._update=p=>{var m;if(!this._map)return;let v=this._map.loaded()&&!this._map.isMoving();((p==null?void 0:p.type)==="terrain"||(p==null?void 0:p.type)==="render"&&!v)&&this._map.once("render",this._update),this._lngLat=this._map.transform.renderWorldCopies?Ln(this._lngLat,this._flatPos,this._map.transform):(m=this._lngLat)===null||m===void 0?void 0:m.wrap(),this._flatPos=this._pos=this._map.project(this._lngLat)._add(this._offset),this._map.terrain&&(this._flatPos=this._map.transform.locationPoint(this._lngLat)._add(this._offset));let _="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?_=`rotateZ(${this._rotation}deg)`:this._rotationAlignment==="map"&&(_=`rotateZ(${this._rotation-this._map.getBearing()}deg)`);let C="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?C="rotateX(0deg)":this._pitchAlignment==="map"&&(C=`rotateX(${this._map.getPitch()}deg)`),this._subpixelPositioning||p&&p.type!=="moveend"||(this._pos=this._pos.round()),w.setTransform(this._element,`${nd[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${C} ${_}`),y.frameAsync(new AbortController).then(()=>{this._updateOpacity(p&&p.type==="moveend")}).catch(()=>{})},this._onMove=p=>{if(!this._isDragging){let m=this._clickTolerance||this._map._clickTolerance;this._isDragging=p.point.dist(this._pointerdownPos)>=m}this._isDragging&&(this._pos=p.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new o.k("dragstart"))),this.fire(new o.k("drag")))},this._onUp=()=>{this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new o.k("dragend")),this._state="inactive"},this._addDragHandler=p=>{this._element.contains(p.originalEvent.target)&&(p.preventDefault(),this._positionDelta=p.point.sub(this._pos).add(this._offset),this._pointerdownPos=p.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},this._anchor=a&&a.anchor||"center",this._color=a&&a.color||"#3FB1CE",this._scale=a&&a.scale||1,this._draggable=a&&a.draggable||!1,this._clickTolerance=a&&a.clickTolerance||0,this._subpixelPositioning=a&&a.subpixelPositioning||!1,this._isDragging=!1,this._state="inactive",this._rotation=a&&a.rotation||0,this._rotationAlignment=a&&a.rotationAlignment||"auto",this._pitchAlignment=a&&a.pitchAlignment&&a.pitchAlignment!=="auto"?a.pitchAlignment:this._rotationAlignment,this.setOpacity(),this.setOpacity(a==null?void 0:a.opacity,a==null?void 0:a.opacityWhenCovered),a&&a.element)this._element=a.element,this._offset=o.P.convert(a&&a.offset||[0,0]);else{this._defaultMarker=!0,this._element=w.create("div");let p=w.createNS("http://www.w3.org/2000/svg","svg"),m=41,v=27;p.setAttributeNS(null,"display","block"),p.setAttributeNS(null,"height",`${m}px`),p.setAttributeNS(null,"width",`${v}px`),p.setAttributeNS(null,"viewBox",`0 0 ${v} ${m}`);let _=w.createNS("http://www.w3.org/2000/svg","g");_.setAttributeNS(null,"stroke","none"),_.setAttributeNS(null,"stroke-width","1"),_.setAttributeNS(null,"fill","none"),_.setAttributeNS(null,"fill-rule","evenodd");let C=w.createNS("http://www.w3.org/2000/svg","g");C.setAttributeNS(null,"fill-rule","nonzero");let P=w.createNS("http://www.w3.org/2000/svg","g");P.setAttributeNS(null,"transform","translate(3.0, 29.0)"),P.setAttributeNS(null,"fill","#000000");let O=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(let me of O){let ge=w.createNS("http://www.w3.org/2000/svg","ellipse");ge.setAttributeNS(null,"opacity","0.04"),ge.setAttributeNS(null,"cx","10.5"),ge.setAttributeNS(null,"cy","5.80029008"),ge.setAttributeNS(null,"rx",me.rx),ge.setAttributeNS(null,"ry",me.ry),P.appendChild(ge)}let D=w.createNS("http://www.w3.org/2000/svg","g");D.setAttributeNS(null,"fill",this._color);let V=w.createNS("http://www.w3.org/2000/svg","path");V.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),D.appendChild(V);let U=w.createNS("http://www.w3.org/2000/svg","g");U.setAttributeNS(null,"opacity","0.25"),U.setAttributeNS(null,"fill","#000000");let Y=w.createNS("http://www.w3.org/2000/svg","path");Y.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),U.appendChild(Y);let ee=w.createNS("http://www.w3.org/2000/svg","g");ee.setAttributeNS(null,"transform","translate(6.0, 7.0)"),ee.setAttributeNS(null,"fill","#FFFFFF");let oe=w.createNS("http://www.w3.org/2000/svg","g");oe.setAttributeNS(null,"transform","translate(8.0, 8.0)");let le=w.createNS("http://www.w3.org/2000/svg","circle");le.setAttributeNS(null,"fill","#000000"),le.setAttributeNS(null,"opacity","0.25"),le.setAttributeNS(null,"cx","5.5"),le.setAttributeNS(null,"cy","5.5"),le.setAttributeNS(null,"r","5.4999962");let de=w.createNS("http://www.w3.org/2000/svg","circle");de.setAttributeNS(null,"fill","#FFFFFF"),de.setAttributeNS(null,"cx","5.5"),de.setAttributeNS(null,"cy","5.5"),de.setAttributeNS(null,"r","5.4999962"),oe.appendChild(le),oe.appendChild(de),C.appendChild(P),C.appendChild(D),C.appendChild(U),C.appendChild(ee),C.appendChild(oe),p.appendChild(C),p.setAttributeNS(null,"height",m*this._scale+"px"),p.setAttributeNS(null,"width",v*this._scale+"px"),this._element.appendChild(p),this._offset=o.P.convert(a&&a.offset||[0,-14])}if(this._element.classList.add("maplibregl-marker"),this._element.addEventListener("dragstart",p=>{p.preventDefault()}),this._element.addEventListener("mousedown",p=>{p.preventDefault()}),fv(this._element,this._anchor,"marker"),a&&a.className)for(let p of a.className.split(" "))this._element.classList.add(p);this._popup=null}addTo(a){return this.remove(),this._map=a,this._element.setAttribute("aria-label",a._getUIString("Marker.Title")),a.getCanvasContainer().appendChild(this._element),a.on("move",this._update),a.on("moveend",this._update),a.on("terrain",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._opacityTimeout&&(clearTimeout(this._opacityTimeout),delete this._opacityTimeout),this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("terrain",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),w.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(a){return this._lngLat=o.N.convert(a),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(a){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),a){if(!("offset"in a.options)){let v=Math.abs(13.5)/Math.SQRT2;a.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[v,-1*(38.1-13.5+v)],"bottom-right":[-v,-1*(38.1-13.5+v)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=a,this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}setSubpixelPositioning(a){return this._subpixelPositioning=a,this}getPopup(){return this._popup}togglePopup(){let a=this._popup;return this._element.style.opacity===this._opacityWhenCovered?this:a?(a.isOpen()?a.remove():(a.setLngLat(this._lngLat),a.addTo(this._map)),this):this}_updateOpacity(a=!1){var p,m;if(!(!((p=this._map)===null||p===void 0)&&p.terrain))return void(this._element.style.opacity!==this._opacity&&(this._element.style.opacity=this._opacity));if(a)this._opacityTimeout=null;else{if(this._opacityTimeout)return;this._opacityTimeout=setTimeout(()=>{this._opacityTimeout=null},100)}let v=this._map,_=v.terrain.depthAtPoint(this._pos),C=v.terrain.getElevationForLngLatZoom(this._lngLat,v.transform.tileZoom);if(v.transform.lngLatToCameraDepth(this._lngLat,C)-_<.006)return void(this._element.style.opacity=this._opacity);let P=-this._offset.y/v.transform._pixelPerMeter,O=Math.sin(v.getPitch()*Math.PI/180)*P,D=v.terrain.depthAtPoint(new o.P(this._pos.x,this._pos.y-this._offset.y)),V=v.transform.lngLatToCameraDepth(this._lngLat,C+O)-D>.006;!((m=this._popup)===null||m===void 0)&&m.isOpen()&&V&&this._popup.remove(),this._element.style.opacity=V?this._opacityWhenCovered:this._opacity}getOffset(){return this._offset}setOffset(a){return this._offset=o.P.convert(a),this._update(),this}addClassName(a){this._element.classList.add(a)}removeClassName(a){this._element.classList.remove(a)}toggleClassName(a){return this._element.classList.toggle(a)}setDraggable(a){return this._draggable=!!a,this._map&&(a?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(a){return this._rotation=a||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(a){return this._rotationAlignment=a||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(a){return this._pitchAlignment=a&&a!=="auto"?a:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}setOpacity(a,p){return a===void 0&&p===void 0&&(this._opacity="1",this._opacityWhenCovered="0.2"),a!==void 0&&(this._opacity=a),p!==void 0&&(this._opacityWhenCovered=p),this._map&&this._updateOpacity(!0),this}}let b2={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},th=0,rh=!1,rl={maxWidth:100,unit:"metric"};function nh(b,a,p){let m=p&&p.maxWidth||100,v=b._container.clientHeight/2,_=b.unproject([0,v]),C=b.unproject([m,v]),P=_.distanceTo(C);if(p&&p.unit==="imperial"){let O=3.2808*P;O>5280?Gt(a,m,O/5280,b._getUIString("ScaleControl.Miles")):Gt(a,m,O,b._getUIString("ScaleControl.Feet"))}else p&&p.unit==="nautical"?Gt(a,m,P/1852,b._getUIString("ScaleControl.NauticalMiles")):P>=1e3?Gt(a,m,P/1e3,b._getUIString("ScaleControl.Kilometers")):Gt(a,m,P,b._getUIString("ScaleControl.Meters"))}function Gt(b,a,p,m){let v=function(_){let C=Math.pow(10,`${Math.floor(_)}`.length-1),P=_/C;return P=P>=10?10:P>=5?5:P>=3?3:P>=2?2:P>=1?1:function(O){let D=Math.pow(10,Math.ceil(-Math.log(O)/Math.LN10));return Math.round(O*D)/D}(P),C*P}(p);b.style.width=a*(v/p)+"px",b.innerHTML=`${v}&nbsp;${m}`}let ar={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px",subpixelPositioning:!1},mv=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function vv(b){if(b){if(typeof b=="number"){let a=Math.round(Math.abs(b)/Math.SQRT2);return{center:new o.P(0,0),top:new o.P(0,b),"top-left":new o.P(a,a),"top-right":new o.P(-a,a),bottom:new o.P(0,-b),"bottom-left":new o.P(a,-a),"bottom-right":new o.P(-a,-a),left:new o.P(b,0),right:new o.P(-b,0)}}if(b instanceof o.P||Array.isArray(b)){let a=o.P.convert(b);return{center:a,top:a,"top-left":a,"top-right":a,bottom:a,"bottom-left":a,"bottom-right":a,left:a,right:a}}return{center:o.P.convert(b.center||[0,0]),top:o.P.convert(b.top||[0,0]),"top-left":o.P.convert(b["top-left"]||[0,0]),"top-right":o.P.convert(b["top-right"]||[0,0]),bottom:o.P.convert(b.bottom||[0,0]),"bottom-left":o.P.convert(b["bottom-left"]||[0,0]),"bottom-right":o.P.convert(b["bottom-right"]||[0,0]),left:o.P.convert(b.left||[0,0]),right:o.P.convert(b.right||[0,0])}}return vv(new o.P(0,0))}let y1=u;i.AJAXError=o.bh,i.Evented=o.E,i.LngLat=o.N,i.MercatorCoordinate=o.Z,i.Point=o.P,i.addProtocol=o.bi,i.config=o.a,i.removeProtocol=o.bj,i.AttributionControl=td,i.BoxZoomHandler=Ta,i.CanvasSource=Dr,i.CooperativeGesturesHandler=Qp,i.DoubleClickZoomHandler=Pc,i.DragPanHandler=m2,i.DragRotateHandler=v2,i.EdgeInsets=Kp,i.FullscreenControl=class extends o.E{constructor(b={}){super(),this._onFullscreenChange=()=>{var a;let p=window.document.fullscreenElement||window.document.mozFullScreenElement||window.document.webkitFullscreenElement||window.document.msFullscreenElement;for(;!((a=p==null?void 0:p.shadowRoot)===null||a===void 0)&&a.fullscreenElement;)p=p.shadowRoot.fullscreenElement;p===this._container!==this._fullscreen&&this._handleFullscreenChange()},this._onClickFullscreen=()=>{this._isFullscreen()?this._exitFullscreen():this._requestFullscreen()},this._fullscreen=!1,b&&b.container&&(b.container instanceof HTMLElement?this._container=b.container:o.w("Full screen control 'container' must be a DOM element.")),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in document&&(this._fullscreenchange="MSFullscreenChange")}onAdd(b){return this._map=b,this._container||(this._container=this._map.getContainer()),this._controlContainer=w.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),this._controlContainer}onRemove(){w.remove(this._controlContainer),this._map=null,window.document.removeEventListener(this._fullscreenchange,this._onFullscreenChange)}_setupUI(){let b=this._fullscreenButton=w.create("button","maplibregl-ctrl-fullscreen",this._controlContainer);w.create("span","maplibregl-ctrl-icon",b).setAttribute("aria-hidden","true"),b.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),window.document.addEventListener(this._fullscreenchange,this._onFullscreenChange)}_updateTitle(){let b=this._getTitle();this._fullscreenButton.setAttribute("aria-label",b),this._fullscreenButton.title=b}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_handleFullscreenChange(){this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._updateTitle(),this._fullscreen?(this.fire(new o.k("fullscreenstart")),this._prevCooperativeGesturesEnabled=this._map.cooperativeGestures.isEnabled(),this._map.cooperativeGestures.disable()):(this.fire(new o.k("fullscreenend")),this._prevCooperativeGesturesEnabled&&this._map.cooperativeGestures.enable())}_exitFullscreen(){window.document.exitFullscreen?window.document.exitFullscreen():window.document.mozCancelFullScreen?window.document.mozCancelFullScreen():window.document.msExitFullscreen?window.document.msExitFullscreen():window.document.webkitCancelFullScreen?window.document.webkitCancelFullScreen():this._togglePseudoFullScreen()}_requestFullscreen(){this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen?this._container.webkitRequestFullscreen():this._togglePseudoFullScreen()}_togglePseudoFullScreen(){this._container.classList.toggle("maplibregl-pseudo-fullscreen"),this._handleFullscreenChange(),this._map.resize()}},i.GeoJSONSource=lr,i.GeolocateControl=class extends o.E{constructor(b){super(),this._onSuccess=a=>{if(this._map){if(this._isOutOfMapMaxBounds(a))return this._setErrorState(),this.fire(new o.k("outofmaxbounds",a)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=a,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background");break;default:throw new Error(`Unexpected watchState ${this._watchState}`);}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(a),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(a),this.options.showUserLocation&&this._dotElement.classList.remove("maplibregl-user-location-dot-stale"),this.fire(new o.k("geolocate",a)),this._finish()}},this._updateCamera=a=>{let p=new o.N(a.coords.longitude,a.coords.latitude),m=a.coords.accuracy,v=this._map.getBearing(),_=o.e({bearing:v},this.options.fitBoundsOptions),C=xe.fromLngLat(p,m);this._map.fitBounds(C,_,{geolocateSource:!0})},this._updateMarker=a=>{if(a){let p=new o.N(a.coords.longitude,a.coords.latitude);this._accuracyCircleMarker.setLngLat(p).addTo(this._map),this._userLocationDotMarker.setLngLat(p).addTo(this._map),this._accuracy=a.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},this._onZoom=()=>{this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},this._onError=a=>{if(this._map){if(this.options.trackUserLocation)if(a.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;let p=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=p,this._geolocateButton.setAttribute("aria-label",p),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(a.code===3&&rh)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("maplibregl-user-location-dot-stale"),this.fire(new o.k("error",a)),this._finish()}},this._finish=()=>{this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},this._setupUI=()=>{this._map&&(this._container.addEventListener("contextmenu",a=>a.preventDefault()),this._geolocateButton=w.create("button","maplibregl-ctrl-geolocate",this._container),w.create("span","maplibregl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",this._geolocateButton.disabled=!0)},this._finishSetupUI=a=>{if(this._map){if(a===!1){o.w("Geolocation support is not available so the GeolocateControl will be disabled.");let p=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=p,this._geolocateButton.setAttribute("aria-label",p)}else{let p=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.disabled=!1,this._geolocateButton.title=p,this._geolocateButton.setAttribute("aria-label",p)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=w.create("div","maplibregl-user-location-dot"),this._userLocationDotMarker=new hv({element:this._dotElement}),this._circleElement=w.create("div","maplibregl-user-location-accuracy-circle"),this._accuracyCircleMarker=new hv({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",()=>this.trigger()),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",p=>{p.geolocateSource||this._watchState!=="ACTIVE_LOCK"||p.originalEvent&&p.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this.fire(new o.k("trackuserlocationend")),this.fire(new o.k("userlocationlostfocus")))})}},this.options=o.e({},b2,b)}onAdd(b){return this._map=b,this._container=w.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),function(){return o._(this,arguments,void 0,function*(a=!1){if(Aa!==void 0&&!a)return Aa;if(window.navigator.permissions===void 0)return Aa=!!window.navigator.geolocation,Aa;try{Aa=(yield window.navigator.permissions.query({name:"geolocation"})).state!=="denied"}catch(p){Aa=!!window.navigator.geolocation}return Aa})}().then(a=>this._finishSetupUI(a)),this._container}onRemove(){this._geolocationWatchID!==void 0&&(window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),w.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,th=0,rh=!1}_isOutOfMapMaxBounds(b){let a=this._map.getMaxBounds(),p=b.coords;return a&&(p.longitude<a.getWest()||p.longitude>a.getEast()||p.latitude<a.getSouth()||p.latitude>a.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"ACTIVE_ERROR":break;default:throw new Error(`Unexpected watchState ${this._watchState}`);}}_updateCircleRadius(){let b=this._map.getBounds(),a=b.getSouthEast(),p=b.getNorthEast(),m=a.distanceTo(p),v=Math.ceil(this._accuracy/(m/this._map._container.clientHeight)*2);this._circleElement.style.width=`${v}px`,this._circleElement.style.height=`${v}px`}trigger(){if(!this._setup)return o.w("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new o.k("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":th--,rh=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this.fire(new o.k("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new o.k("trackuserlocationstart")),this.fire(new o.k("userlocationfocus"));break;default:throw new Error(`Unexpected watchState ${this._watchState}`);}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"OFF":break;default:throw new Error(`Unexpected watchState ${this._watchState}`);}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let b;this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),th++,th>1?(b={maximumAge:6e5,timeout:0},rh=!0):(b=this.options.positionOptions,rh=!1),this._geolocationWatchID=window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,b)}}else window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_clearWatch(){window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},i.Hash=iv,i.ImageSource=ur,i.KeyboardHandler=Wa,i.LngLatBounds=xe,i.LogoControl=f1,i.Map=class extends g2{constructor(b){o.bf.mark(o.bg.create);let a=Object.assign(Object.assign({},ZR),b);if(a.minZoom!=null&&a.maxZoom!=null&&a.minZoom>a.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(a.minPitch!=null&&a.maxPitch!=null&&a.minPitch>a.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(a.minPitch!=null&&a.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(a.maxPitch!=null&&a.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(super(new Yp(a.minZoom,a.maxZoom,a.minPitch,a.maxPitch,a.renderWorldCopies),{bearingSnap:a.bearingSnap}),this._idleTriggered=!1,this._crossFadingFactor=1,this._renderTaskQueue=new Hr,this._controls=[],this._mapId=o.a4(),this._contextLost=p=>{p.preventDefault(),this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this.fire(new o.k("webglcontextlost",{originalEvent:p}))},this._contextRestored=p=>{this._setupPainter(),this.resize(),this._update(),this.fire(new o.k("webglcontextrestored",{originalEvent:p}))},this._onMapScroll=p=>{if(p.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},this._onWindowOnline=()=>{this._update()},this._interactive=a.interactive,this._maxTileCacheSize=a.maxTileCacheSize,this._maxTileCacheZoomLevels=a.maxTileCacheZoomLevels,this._failIfMajorPerformanceCaveat=a.failIfMajorPerformanceCaveat===!0,this._preserveDrawingBuffer=a.preserveDrawingBuffer===!0,this._antialias=a.antialias===!0,this._trackResize=a.trackResize===!0,this._bearingSnap=a.bearingSnap,this._refreshExpiredTiles=a.refreshExpiredTiles===!0,this._fadeDuration=a.fadeDuration,this._crossSourceCollisions=a.crossSourceCollisions===!0,this._collectResourceTiming=a.collectResourceTiming===!0,this._locale=Object.assign(Object.assign({},v1),a.locale),this._clickTolerance=a.clickTolerance,this._overridePixelRatio=a.pixelRatio,this._maxCanvasSize=a.maxCanvasSize,this.transformCameraUpdate=a.transformCameraUpdate,this.cancelPendingTileRequestsWhileZooming=a.cancelPendingTileRequestsWhileZooming===!0,this._imageQueueHandle=L.addThrottleControl(()=>this.isMoving()),this._requestManager=new B(a.transformRequest),typeof a.container=="string"){if(this._container=document.getElementById(a.container),!this._container)throw new Error(`Container '${a.container}' not found.`)}else{if(!(a.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=a.container}if(a.maxBounds&&this.setMaxBounds(a.maxBounds),this._setupContainer(),this._setupPainter(),this.on("move",()=>this._update(!1)).on("moveend",()=>this._update(!1)).on("zoom",()=>this._update(!0)).on("terrain",()=>{this.painter.terrainFacilitator.dirty=!0,this._update(!0)}).once("idle",()=>{this._idleTriggered=!0}),typeof window!="undefined"){addEventListener("online",this._onWindowOnline,!1);let p=!1,m=Yf(v=>{this._trackResize&&!this._removed&&(this.resize(v),this.redraw())},50);this._resizeObserver=new ResizeObserver(v=>{p?m(v):p=!0}),this._resizeObserver.observe(this._container)}this.handlers=new d1(this,a),this._hash=a.hash&&new iv(typeof a.hash=="string"&&a.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:a.center,zoom:a.zoom,bearing:a.bearing,pitch:a.pitch}),a.bounds&&(this.resize(),this.fitBounds(a.bounds,o.e({},a.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=a.localIdeographFontFamily,this._validateStyle=a.validateStyle,a.style&&this.setStyle(a.style,{localIdeographFontFamily:a.localIdeographFontFamily}),a.attributionControl&&this.addControl(new td(typeof a.attributionControl=="boolean"?void 0:a.attributionControl)),a.maplibreLogo&&this.addControl(new f1,a.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",p=>{this._update(p.dataType==="style"),this.fire(new o.k(`${p.dataType}data`,p))}),this.on("dataloading",p=>{this.fire(new o.k(`${p.dataType}dataloading`,p))}),this.on("dataabort",p=>{this.fire(new o.k("sourcedataabort",p))})}_getMapId(){return this._mapId}addControl(b,a){if(a===void 0&&(a=b.getDefaultPosition?b.getDefaultPosition():"top-right"),!b||!b.onAdd)return this.fire(new o.j(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));let p=b.onAdd(this);this._controls.push(b);let m=this._controlPositions[a];return a.indexOf("bottom")!==-1?m.insertBefore(p,m.firstChild):m.appendChild(p),this}removeControl(b){if(!b||!b.onRemove)return this.fire(new o.j(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));let a=this._controls.indexOf(b);return a>-1&&this._controls.splice(a,1),b.onRemove(this),this}hasControl(b){return this._controls.indexOf(b)>-1}calculateCameraOptionsFromTo(b,a,p,m){return m==null&&this.terrain&&(m=this.terrain.getElevationForLngLatZoom(p,this.transform.tileZoom)),super.calculateCameraOptionsFromTo(b,a,p,m)}resize(b){var a;let p=this._containerDimensions(),m=p[0],v=p[1],_=this._getClampedPixelRatio(m,v);if(this._resizeCanvas(m,v,_),this.painter.resize(m,v,_),this.painter.overLimit()){let P=this.painter.context.gl;this._maxCanvasSize=[P.drawingBufferWidth,P.drawingBufferHeight];let O=this._getClampedPixelRatio(m,v);this._resizeCanvas(m,v,O),this.painter.resize(m,v,O)}this.transform.resize(m,v),(a=this._requestedCameraState)===null||a===void 0||a.resize(m,v);let C=!this._moving;return C&&(this.stop(),this.fire(new o.k("movestart",b)).fire(new o.k("move",b))),this.fire(new o.k("resize",b)),C&&this.fire(new o.k("moveend",b)),this}_getClampedPixelRatio(b,a){let{0:p,1:m}=this._maxCanvasSize,v=this.getPixelRatio(),_=b*v,C=a*v;return Math.min(_>p?p/_:1,C>m?m/C:1)*v}getPixelRatio(){var b;return(b=this._overridePixelRatio)!==null&&b!==void 0?b:devicePixelRatio}setPixelRatio(b){this._overridePixelRatio=b,this.resize()}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(b){return this.transform.setMaxBounds(xe.convert(b)),this._update()}setMinZoom(b){if((b=b==null?-2:b)>=-2&&b<=this.transform.maxZoom)return this.transform.minZoom=b,this._update(),this.getZoom()<b&&this.setZoom(b),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(b){if((b=b==null?22:b)>=this.transform.minZoom)return this.transform.maxZoom=b,this._update(),this.getZoom()>b&&this.setZoom(b),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(b){if((b=b==null?0:b)<0)throw new Error("minPitch must be greater than or equal to 0");if(b>=0&&b<=this.transform.maxPitch)return this.transform.minPitch=b,this._update(),this.getPitch()<b&&this.setPitch(b),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(b){if((b=b==null?60:b)>85)throw new Error("maxPitch must be less than or equal to 85");if(b>=this.transform.minPitch)return this.transform.maxPitch=b,this._update(),this.getPitch()>b&&this.setPitch(b),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(b){return this.transform.renderWorldCopies=b,this._update()}project(b){return this.transform.locationPoint(o.N.convert(b),this.style&&this.terrain)}unproject(b){return this.transform.pointLocation(o.P.convert(b),this.terrain)}isMoving(){var b;return this._moving||((b=this.handlers)===null||b===void 0?void 0:b.isMoving())}isZooming(){var b;return this._zooming||((b=this.handlers)===null||b===void 0?void 0:b.isZooming())}isRotating(){var b;return this._rotating||((b=this.handlers)===null||b===void 0?void 0:b.isRotating())}_createDelegatedListener(b,a,p){if(b==="mouseenter"||b==="mouseover"){let m=!1;return{layers:a,listener:p,delegates:{mousemove:_=>{let C=a.filter(O=>this.getLayer(O)),P=C.length!==0?this.queryRenderedFeatures(_.point,{layers:C}):[];P.length?m||(m=!0,p.call(this,new io(b,this,_.originalEvent,{features:P}))):m=!1},mouseout:()=>{m=!1}}}}if(b==="mouseleave"||b==="mouseout"){let m=!1;return{layers:a,listener:p,delegates:{mousemove:C=>{let P=a.filter(O=>this.getLayer(O));(P.length!==0?this.queryRenderedFeatures(C.point,{layers:P}):[]).length?m=!0:m&&(m=!1,p.call(this,new io(b,this,C.originalEvent)))},mouseout:C=>{m&&(m=!1,p.call(this,new io(b,this,C.originalEvent)))}}}}{let m=v=>{let _=a.filter(P=>this.getLayer(P)),C=_.length!==0?this.queryRenderedFeatures(v.point,{layers:_}):[];C.length&&(v.features=C,p.call(this,v),delete v.features)};return{layers:a,listener:p,delegates:{[b]:m}}}}_saveDelegatedListener(b,a){this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[b]=this._delegatedListeners[b]||[],this._delegatedListeners[b].push(a)}_removeDelegatedListener(b,a,p){if(!this._delegatedListeners||!this._delegatedListeners[b])return;let m=this._delegatedListeners[b];for(let v=0;v<m.length;v++){let _=m[v];if(_.listener===p&&_.layers.length===a.length&&_.layers.every(C=>a.includes(C))){for(let C in _.delegates)this.off(C,_.delegates[C]);return void m.splice(v,1)}}}on(b,a,p){if(p===void 0)return super.on(b,a);let m=this._createDelegatedListener(b,typeof a=="string"?[a]:a,p);this._saveDelegatedListener(b,m);for(let v in m.delegates)this.on(v,m.delegates[v]);return this}once(b,a,p){if(p===void 0)return super.once(b,a);let m=typeof a=="string"?[a]:a,v=this._createDelegatedListener(b,m,p);for(let _ in v.delegates){let C=v.delegates[_];v.delegates[_]=(...P)=>{this._removeDelegatedListener(b,m,p),C(...P)}}this._saveDelegatedListener(b,v);for(let _ in v.delegates)this.once(_,v.delegates[_]);return this}off(b,a,p){return p===void 0?super.off(b,a):(this._removeDelegatedListener(b,typeof a=="string"?[a]:a,p),this)}queryRenderedFeatures(b,a){if(!this.style)return[];let p,m=b instanceof o.P||Array.isArray(b),v=m?b:[[0,0],[this.transform.width,this.transform.height]];if(a=a||(m?{}:b)||{},v instanceof o.P||typeof v[0]=="number")p=[o.P.convert(v)];else{let _=o.P.convert(v[0]),C=o.P.convert(v[1]);p=[_,new o.P(C.x,_.y),C,new o.P(_.x,C.y),_]}return this.style.queryRenderedFeatures(p,a,this.transform)}querySourceFeatures(b,a){return this.style.querySourceFeatures(b,a)}setStyle(b,a){return(a=o.e({},{localIdeographFontFamily:this._localIdeographFontFamily,validate:this._validateStyle},a)).diff!==!1&&a.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&b?(this._diffStyle(b,a),this):(this._localIdeographFontFamily=a.localIdeographFontFamily,this._updateStyle(b,a))}setTransformRequest(b){return this._requestManager.setTransformRequest(b),this}_getUIString(b){let a=this._locale[b];if(a==null)throw new Error(`Missing UI string '${b}'`);return a}_updateStyle(b,a){if(a.transformStyle&&this.style&&!this.style._loaded)return void this.style.once("style.load",()=>this._updateStyle(b,a));let p=this.style&&a.transformStyle?this.style.serialize():void 0;return this.style&&(this.style.setEventedParent(null),this.style._remove(!b)),b?(this.style=new Bm(this,a||{}),this.style.setEventedParent(this,{style:this.style}),typeof b=="string"?this.style.loadURL(b,a,p):this.style.loadJSON(b,a,p),this):(delete this.style,this)}_lazyInitEmptyStyle(){this.style||(this.style=new Bm(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(b,a){if(typeof b=="string"){let p=this._requestManager.transformRequest(b,"Style");o.h(p,new AbortController).then(m=>{this._updateDiff(m.data,a)}).catch(m=>{m&&this.fire(new o.j(m))})}else typeof b=="object"&&this._updateDiff(b,a)}_updateDiff(b,a){try{this.style.setState(b,a)&&this._update(!0)}catch(p){o.w(`Unable to perform style diff: ${p.message||p.error||p}.  Rebuilding the style from scratch.`),this._updateStyle(b,a)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():o.w("There is no style added to the map.")}addSource(b,a){return this._lazyInitEmptyStyle(),this.style.addSource(b,a),this._update(!0)}isSourceLoaded(b){let a=this.style&&this.style.sourceCaches[b];if(a!==void 0)return a.loaded();this.fire(new o.j(new Error(`There is no source with ID '${b}'`)))}setTerrain(b){if(this.style._checkLoaded(),this._terrainDataCallback&&this.style.off("data",this._terrainDataCallback),b){let a=this.style.sourceCaches[b.source];if(!a)throw new Error(`cannot load terrain, because there exists no source with ID: ${b.source}`);this.terrain===null&&a.reload();for(let p in this.style._layers){let m=this.style._layers[p];m.type==="hillshade"&&m.source===b.source&&o.w("You are using the same source for a hillshade layer and for 3D terrain. Please consider using two separate sources to improve rendering quality.")}this.terrain=new m1(this.painter,a,b),this.painter.renderToTexture=new y2(this.painter,this.terrain),this.transform.minElevationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this._terrainDataCallback=p=>{p.dataType==="style"?this.terrain.sourceCache.freeRtt():p.dataType==="source"&&p.tile&&(p.sourceId!==b.source||this._elevationFreeze||(this.transform.minElevationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this.terrain.sourceCache.freeRtt(p.tile.tileID))},this.style.on("data",this._terrainDataCallback)}else this.terrain&&this.terrain.sourceCache.destruct(),this.terrain=null,this.painter.renderToTexture&&this.painter.renderToTexture.destruct(),this.painter.renderToTexture=null,this.transform.minElevationForCurrentTile=0,this.transform.elevation=0;return this.fire(new o.k("terrain",{terrain:b})),this}getTerrain(){var b,a;return(a=(b=this.terrain)===null||b===void 0?void 0:b.options)!==null&&a!==void 0?a:null}areTilesLoaded(){let b=this.style&&this.style.sourceCaches;for(let a in b){let p=b[a]._tiles;for(let m in p){let v=p[m];if(v.state!=="loaded"&&v.state!=="errored")return!1}}return!0}removeSource(b){return this.style.removeSource(b),this._update(!0)}getSource(b){return this.style.getSource(b)}addImage(b,a,p={}){let{pixelRatio:m=1,sdf:v=!1,stretchX:_,stretchY:C,content:P,textFitWidth:O,textFitHeight:D}=p;if(this._lazyInitEmptyStyle(),!(a instanceof HTMLImageElement||o.b(a))){if(a.width===void 0||a.height===void 0)return this.fire(new o.j(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{let{width:V,height:U,data:Y}=a,ee=a;return this.style.addImage(b,{data:new o.R({width:V,height:U},new Uint8Array(Y)),pixelRatio:m,stretchX:_,stretchY:C,content:P,textFitWidth:O,textFitHeight:D,sdf:v,version:0,userImage:ee}),ee.onAdd&&ee.onAdd(this,b),this}}{let{width:V,height:U,data:Y}=y.getImageData(a);this.style.addImage(b,{data:new o.R({width:V,height:U},Y),pixelRatio:m,stretchX:_,stretchY:C,content:P,textFitWidth:O,textFitHeight:D,sdf:v,version:0})}}updateImage(b,a){let p=this.style.getImage(b);if(!p)return this.fire(new o.j(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));let m=a instanceof HTMLImageElement||o.b(a)?y.getImageData(a):a,{width:v,height:_,data:C}=m;if(v===void 0||_===void 0)return this.fire(new o.j(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(v!==p.data.width||_!==p.data.height)return this.fire(new o.j(new Error("The width and height of the updated image must be that same as the previous version of the image")));let P=!(a instanceof HTMLImageElement||o.b(a));return p.data.replace(C,P),this.style.updateImage(b,p),this}getImage(b){return this.style.getImage(b)}hasImage(b){return b?!!this.style.getImage(b):(this.fire(new o.j(new Error("Missing required image id"))),!1)}removeImage(b){this.style.removeImage(b)}loadImage(b){return L.getImage(this._requestManager.transformRequest(b,"Image"),new AbortController)}listImages(){return this.style.listImages()}addLayer(b,a){return this._lazyInitEmptyStyle(),this.style.addLayer(b,a),this._update(!0)}moveLayer(b,a){return this.style.moveLayer(b,a),this._update(!0)}removeLayer(b){return this.style.removeLayer(b),this._update(!0)}getLayer(b){return this.style.getLayer(b)}getLayersOrder(){return this.style.getLayersOrder()}setLayerZoomRange(b,a,p){return this.style.setLayerZoomRange(b,a,p),this._update(!0)}setFilter(b,a,p={}){return this.style.setFilter(b,a,p),this._update(!0)}getFilter(b){return this.style.getFilter(b)}setPaintProperty(b,a,p,m={}){return this.style.setPaintProperty(b,a,p,m),this._update(!0)}getPaintProperty(b,a){return this.style.getPaintProperty(b,a)}setLayoutProperty(b,a,p,m={}){return this.style.setLayoutProperty(b,a,p,m),this._update(!0)}getLayoutProperty(b,a){return this.style.getLayoutProperty(b,a)}setGlyphs(b,a={}){return this._lazyInitEmptyStyle(),this.style.setGlyphs(b,a),this._update(!0)}getGlyphs(){return this.style.getGlyphsUrl()}addSprite(b,a,p={}){return this._lazyInitEmptyStyle(),this.style.addSprite(b,a,p,m=>{m||this._update(!0)}),this}removeSprite(b){return this._lazyInitEmptyStyle(),this.style.removeSprite(b),this._update(!0)}getSprite(){return this.style.getSprite()}setSprite(b,a={}){return this._lazyInitEmptyStyle(),this.style.setSprite(b,a,p=>{p||this._update(!0)}),this}setLight(b,a={}){return this._lazyInitEmptyStyle(),this.style.setLight(b,a),this._update(!0)}getLight(){return this.style.getLight()}setSky(b){return this._lazyInitEmptyStyle(),this.style.setSky(b),this._update(!0)}getSky(){return this.style.getSky()}setFeatureState(b,a){return this.style.setFeatureState(b,a),this._update()}removeFeatureState(b,a){return this.style.removeFeatureState(b,a),this._update()}getFeatureState(b){return this.style.getFeatureState(b)}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}_containerDimensions(){let b=0,a=0;return this._container&&(b=this._container.clientWidth||400,a=this._container.clientHeight||300),[b,a]}_setupContainer(){let b=this._container;b.classList.add("maplibregl-map");let a=this._canvasContainer=w.create("div","maplibregl-canvas-container",b);this._interactive&&a.classList.add("maplibregl-interactive"),this._canvas=w.create("canvas","maplibregl-canvas",a),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex",this._interactive?"0":"-1"),this._canvas.setAttribute("aria-label",this._getUIString("Map.Title")),this._canvas.setAttribute("role","region");let p=this._containerDimensions(),m=this._getClampedPixelRatio(p[0],p[1]);this._resizeCanvas(p[0],p[1],m);let v=this._controlContainer=w.create("div","maplibregl-control-container",b),_=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(C=>{_[C]=w.create("div",`maplibregl-ctrl-${C} `,v)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(b,a,p){this._canvas.width=Math.floor(p*b),this._canvas.height=Math.floor(p*a),this._canvas.style.width=`${b}px`,this._canvas.style.height=`${a}px`}_setupPainter(){let b={alpha:!0,stencil:!0,depth:!0,failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1},a=null;this._canvas.addEventListener("webglcontextcreationerror",m=>{a={requestedAttributes:b},m&&(a.statusMessage=m.statusMessage,a.type=m.type)},{once:!0});let p=this._canvas.getContext("webgl2",b)||this._canvas.getContext("webgl",b);if(!p){let m="Failed to initialize WebGL";throw a?(a.message=m,new Error(JSON.stringify(a))):new Error(m)}this.painter=new nv(p,this.transform),T.testSupport(p)}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(b){return this.style&&this.style._loaded?(this._styleDirty=this._styleDirty||b,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(b){return this._update(),this._renderTaskQueue.add(b)}_cancelRenderFrame(b){this._renderTaskQueue.remove(b)}_render(b){let a=this._idleTriggered?this._fadeDuration:0;if(this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(b),this._removed)return;let p=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;let v=this.transform.zoom,_=y.now();this.style.zoomHistory.update(v,_);let C=new o.z(v,{now:_,fadeDuration:a,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),P=C.crossFadingFactor();P===1&&P===this._crossFadingFactor||(p=!0,this._crossFadingFactor=P),this.style.update(C)}this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.terrain?(this.terrain.sourceCache.update(this.transform,this.terrain),this.transform.minElevationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this._elevationFreeze||(this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))):(this.transform.minElevationForCurrentTile=0,this.transform.elevation=0),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,a,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:a,showPadding:this.showPadding}),this.fire(new o.k("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,o.bf.mark(o.bg.load),this.fire(new o.k("load"))),this.style&&(this.style.hasTransitions()||p)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles();let m=this._sourcesDirty||this._styleDirty||this._placementDirty;return m||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new o.k("idle")),!this._loaded||this._fullyLoaded||m||(this._fullyLoaded=!0,o.bf.mark(o.bg.fullLoad)),this}redraw(){return this.style&&(this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._render(0)),this}remove(){var b;this._hash&&this._hash.remove();for(let p of this._controls)p.onRemove(this);this._controls=[],this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof window!="undefined"&&removeEventListener("online",this._onWindowOnline,!1),L.removeThrottleControl(this._imageQueueHandle),(b=this._resizeObserver)===null||b===void 0||b.disconnect();let a=this.painter.context.gl.getExtension("WEBGL_lose_context");a!=null&&a.loseContext&&a.loseContext(),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),w.remove(this._canvasContainer),w.remove(this._controlContainer),this._container.classList.remove("maplibregl-map"),o.bf.clearMetrics(),this._removed=!0,this.fire(new o.k("remove"))}triggerRepaint(){this.style&&!this._frameRequest&&(this._frameRequest=new AbortController,y.frameAsync(this._frameRequest).then(b=>{o.bf.frame(b),this._frameRequest=null,this._render(b)}).catch(()=>{}))}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(b){this._showTileBoundaries!==b&&(this._showTileBoundaries=b,this._update())}get showPadding(){return!!this._showPadding}set showPadding(b){this._showPadding!==b&&(this._showPadding=b,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(b){this._showCollisionBoxes!==b&&(this._showCollisionBoxes=b,b?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(b){this._showOverdrawInspector!==b&&(this._showOverdrawInspector=b,this._update())}get repaint(){return!!this._repaint}set repaint(b){this._repaint!==b&&(this._repaint=b,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(b){this._vertices=b,this._update()}get version(){return _2}getCameraTargetElevation(){return this.transform.elevation}},i.MapMouseEvent=io,i.MapTouchEvent=Cc,i.MapWheelEvent=d2,i.Marker=hv,i.NavigationControl=class{constructor(b){this._updateZoomButtons=()=>{let a=this._map.getZoom(),p=a===this._map.getMaxZoom(),m=a===this._map.getMinZoom();this._zoomInButton.disabled=p,this._zoomOutButton.disabled=m,this._zoomInButton.setAttribute("aria-disabled",p.toString()),this._zoomOutButton.setAttribute("aria-disabled",m.toString())},this._rotateCompassArrow=()=>{let a=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${this._map.transform.angle*(180/Math.PI)}deg)`:`rotate(${this._map.transform.angle*(180/Math.PI)}deg)`;this._compassIcon.style.transform=a},this._setButtonTitle=(a,p)=>{let m=this._map._getUIString(`NavigationControl.${p}`);a.title=m,a.setAttribute("aria-label",m)},this.options=o.e({},KR,b),this._container=w.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._container.addEventListener("contextmenu",a=>a.preventDefault()),this.options.showZoom&&(this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in",a=>this._map.zoomIn({},{originalEvent:a})),w.create("span","maplibregl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out",a=>this._map.zoomOut({},{originalEvent:a})),w.create("span","maplibregl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(this._compass=this._createButton("maplibregl-ctrl-compass",a=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:a}):this._map.resetNorth({},{originalEvent:a})}),this._compassIcon=w.create("span","maplibregl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}onAdd(b){return this._map=b,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new YR(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){w.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(b,a){let p=w.create("button",b,this._container);return p.type="button",p.addEventListener("click",a),p}},i.Popup=class extends o.E{constructor(b){super(),this.remove=()=>(this._content&&w.remove(this._content),this._container&&(w.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),this._map._canvasContainer.classList.remove("maplibregl-track-pointer"),delete this._map,this.fire(new o.k("close"))),this),this._onMouseUp=a=>{this._update(a.point)},this._onMouseMove=a=>{this._update(a.point)},this._onDrag=a=>{this._update(a.point)},this._update=a=>{var p;if(!this._map||!this._lngLat&&!this._trackPointer||!this._content)return;if(!this._container){if(this._container=w.create("div","maplibregl-popup",this._map.getContainer()),this._tip=w.create("div","maplibregl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className)for(let P of this.options.className.split(" "))this._container.classList.add(P);this._closeButton&&this._closeButton.setAttribute("aria-label",this._map._getUIString("Popup.Close")),this._trackPointer&&this._container.classList.add("maplibregl-popup-track-pointer")}if(this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._lngLat=this._map.transform.renderWorldCopies&&!this._trackPointer?Ln(this._lngLat,this._flatPos,this._map.transform):(p=this._lngLat)===null||p===void 0?void 0:p.wrap(),this._trackPointer&&!a)return;let m=this._flatPos=this._pos=this._trackPointer&&a?a:this._map.project(this._lngLat);this._map.terrain&&(this._flatPos=this._trackPointer&&a?a:this._map.transform.locationPoint(this._lngLat));let v=this.options.anchor,_=vv(this.options.offset);if(!v){let P=this._container.offsetWidth,O=this._container.offsetHeight,D;D=m.y+_.bottom.y<O?["top"]:m.y>this._map.transform.height-O?["bottom"]:[],m.x<P/2?D.push("left"):m.x>this._map.transform.width-P/2&&D.push("right"),v=D.length===0?"bottom":D.join("-")}let C=m.add(_[v]);this.options.subpixelPositioning||(C=C.round()),w.setTransform(this._container,`${nd[v]} translate(${C.x}px,${C.y}px)`),fv(this._container,v,"popup")},this._onClose=()=>{this.remove()},this.options=o.e(Object.create(ar),b)}addTo(b){return this._map&&this.remove(),this._map=b,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")):this._map.on("move",this._update),this.fire(new o.k("open")),this}isOpen(){return!!this._map}getLngLat(){return this._lngLat}setLngLat(b){return this._lngLat=o.N.convert(b),this._pos=null,this._flatPos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._flatPos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")),this}getElement(){return this._container}setText(b){return this.setDOMContent(document.createTextNode(b))}setHTML(b){let a=document.createDocumentFragment(),p=document.createElement("body"),m;for(p.innerHTML=b;m=p.firstChild,m;)a.appendChild(m);return this.setDOMContent(a)}getMaxWidth(){var b;return(b=this._container)===null||b===void 0?void 0:b.style.maxWidth}setMaxWidth(b){return this.options.maxWidth=b,this._update(),this}setDOMContent(b){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=w.create("div","maplibregl-popup-content",this._container);return this._content.appendChild(b),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(b){return this._container&&this._container.classList.add(b),this}removeClassName(b){return this._container&&this._container.classList.remove(b),this}setOffset(b){return this.options.offset=b,this._update(),this}toggleClassName(b){if(this._container)return this._container.classList.toggle(b)}setSubpixelPositioning(b){this.options.subpixelPositioning=b}_createCloseButton(){this.options.closeButton&&(this._closeButton=w.create("button","maplibregl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;let b=this._container.querySelector(mv);b&&b.focus()}},i.RasterDEMTileSource=$t,i.RasterTileSource=ht,i.ScaleControl=class{constructor(b){this._onMove=()=>{nh(this._map,this._container,this.options)},this.setUnit=a=>{this.options.unit=a,nh(this._map,this._container,this.options)},this.options=Object.assign(Object.assign({},rl),b)}getDefaultPosition(){return"bottom-left"}onAdd(b){return this._map=b,this._container=w.create("div","maplibregl-ctrl maplibregl-ctrl-scale",b.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){w.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}},i.ScrollZoomHandler=Cs,i.Style=Bm,i.TerrainControl=class{constructor(b){this._toggleTerrain=()=>{this._map.getTerrain()?this._map.setTerrain(null):this._map.setTerrain(this.options),this._updateTerrainIcon()},this._updateTerrainIcon=()=>{this._terrainButton.classList.remove("maplibregl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled"),this._map.terrain?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.Disable")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.Enable"))},this.options=b}onAdd(b){return this._map=b,this._container=w.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._terrainButton=w.create("button","maplibregl-ctrl-terrain",this._container),w.create("span","maplibregl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){w.remove(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}},i.TwoFingersTouchPitchHandler=Jp,i.TwoFingersTouchRotateHandler=u1,i.TwoFingersTouchZoomHandler=s1,i.TwoFingersTouchZoomRotateHandler=p1,i.VectorTileSource=Ut,i.VideoSource=Fr,i.addSourceType=(b,a)=>o._(void 0,void 0,void 0,function*(){if(Kr(b))throw new Error(`A source type called "${b}" already exists.`);((p,m)=>{or[p]=m})(b,a)}),i.clearPrewarmedResources=function(){let b=Pe;b&&(b.isPreloaded()&&b.numActive()===1?(b.release(Fe),Pe=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},i.getMaxParallelImageRequests=function(){return o.a.MAX_PARALLEL_IMAGE_REQUESTS},i.getRTLTextPluginStatus=function(){return $a().getRTLTextPluginStatus()},i.getVersion=function(){return y1},i.getWorkerCount=function(){return We.workerCount},i.getWorkerUrl=function(){return o.a.WORKER_URL},i.importScriptInWorkers=function(b){return Ke().broadcast("IS",b)},i.prewarm=function(){Re().acquire(Fe)},i.setMaxParallelImageRequests=function(b){o.a.MAX_PARALLEL_IMAGE_REQUESTS=b},i.setRTLTextPlugin=function(b,a){return $a().setRTLTextPlugin(b,a)},i.setWorkerCount=function(b){We.workerCount=b},i.setWorkerUrl=function(b){o.a.WORKER_URL=b}});var n=e;return n})});var Dy=I((qIr,KAe)=>{var n9t=KAe.exports=typeof window!="undefined"&&window.Math==Math?window:typeof self!="undefined"&&self.Math==Math?self:Function("return this")();typeof __g=="number"&&(__g=n9t)});var Ol=I((NIr,YAe)=>{var i9t=YAe.exports={version:"2.6.12"};typeof __e=="number"&&(__e=i9t)});var JAe=I((kIr,XAe)=>{XAe.exports=function(e){if(typeof e!="function")throw TypeError(e+" is not a function!");return e}});var jM=I((DIr,QAe)=>{var o9t=JAe();QAe.exports=function(e,t,r){if(o9t(e),t===void 0)return e;switch(r){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,o){return e.call(t,n,i,o)};}return function(){return e.apply(t,arguments)}}});var Xx=I((LIr,eCe)=>{eCe.exports=function(e){return typeof e=="object"?e!==null:typeof e=="function"}});var Ly=I((zIr,tCe)=>{var a9t=Xx();tCe.exports=function(e){if(!a9t(e))throw TypeError(e+" is not an object!");return e}});var Jx=I((FIr,rCe)=>{rCe.exports=function(e){try{return!!e()}catch(t){return!0}}});var _f=I((jIr,nCe)=>{nCe.exports=!Jx()(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7})});var E9=I((BIr,oCe)=>{var iCe=Xx(),I9=Dy().document,s9t=iCe(I9)&&iCe(I9.createElement);oCe.exports=function(e){return s9t?I9.createElement(e):{}}});var T9=I((VIr,aCe)=>{aCe.exports=!_f()&&!Jx()(function(){return Object.defineProperty(E9()("div"),"a",{get:function(){return 7}}).a!=7})});var A9=I((UIr,sCe)=>{var BM=Xx();sCe.exports=function(e,t){if(!BM(e))return e;var r,n;if(t&&typeof(r=e.toString)=="function"&&!BM(n=r.call(e))||typeof(r=e.valueOf)=="function"&&!BM(n=r.call(e))||!t&&typeof(r=e.toString)=="function"&&!BM(n=r.call(e)))return n;throw TypeError("Can't convert object to primitive value")}});var Qx=I(uCe=>{var lCe=Ly(),l9t=T9(),u9t=A9(),c9t=Object.defineProperty;uCe.f=_f()?Object.defineProperty:function(t,r,n){if(lCe(t),r=u9t(r,!0),lCe(n),l9t)try{return c9t(t,r,n)}catch(i){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[r]=n.value),t}});var ew=I((HIr,cCe)=>{cCe.exports=function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}}});var tw=I((GIr,pCe)=>{var p9t=Qx(),d9t=ew();pCe.exports=_f()?function(e,t,r){return p9t.f(e,t,d9t(1,r))}:function(e,t,r){return e[t]=r,e}});var zy=I((WIr,dCe)=>{var f9t={}.hasOwnProperty;dCe.exports=function(e,t){return f9t.call(e,t)}});var fp=I((ZIr,hCe)=>{var VM=Dy(),C9=Ol(),fCe=jM(),h9t=tw(),m9t=zy(),UM="prototype",fa=function(e,t,r){var n=e&fa.F,i=e&fa.G,o=e&fa.S,u=e&fa.P,f=e&fa.B,h=e&fa.W,y=i?C9:C9[t]||(C9[t]={}),w=y[UM],T=i?VM:o?VM[t]:(VM[t]||{})[UM],A,q,z;i&&(r=t);for(A in r)q=!n&&T&&T[A]!==void 0,!(q&&m9t(y,A))&&(z=q?T[A]:r[A],y[A]=i&&typeof T[A]!="function"?r[A]:f&&q?fCe(z,VM):h&&T[A]==z?function(F){var N=function(L,B,Z){if(this instanceof F){switch(arguments.length){case 0:return new F;case 1:return new F(L);case 2:return new F(L,B);}return new F(L,B,Z)}return F.apply(this,arguments)};return N[UM]=F[UM],N}(z):u&&typeof z=="function"?fCe(Function.call,z):z,u&&((y.virtual||(y.virtual={}))[A]=z,e&fa.R&&w&&!w[A]&&h9t(w,A,z)))};fa.F=1;fa.G=2;fa.S=4;fa.P=8;fa.B=16;fa.W=32;fa.U=64;fa.R=128;hCe.exports=fa});var M9=I((KIr,mCe)=>{var v9t={}.toString;mCe.exports=function(e){return v9t.call(e).slice(8,-1)}});var P9=I((YIr,vCe)=>{var g9t=M9();vCe.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return g9t(e)=="String"?e.split(""):Object(e)}});var $M=I((XIr,gCe)=>{gCe.exports=function(e){if(e==null)throw TypeError("Can't call method on  "+e);return e}});var rw=I((JIr,yCe)=>{var y9t=P9(),_9t=$M();yCe.exports=function(e){return y9t(_9t(e))}});var HM=I((QIr,_Ce)=>{var b9t=Math.ceil,x9t=Math.floor;_Ce.exports=function(e){return isNaN(e=+e)?0:(e>0?x9t:b9t)(e)}});var O9=I((eEr,bCe)=>{var w9t=HM(),S9t=Math.min;bCe.exports=function(e){return e>0?S9t(w9t(e),9007199254740991):0}});var wCe=I((tEr,xCe)=>{var I9t=HM(),E9t=Math.max,T9t=Math.min;xCe.exports=function(e,t){return e=I9t(e),e<0?E9t(e+t,0):T9t(e,t)}});var ICe=I((rEr,SCe)=>{var A9t=rw(),C9t=O9(),M9t=wCe();SCe.exports=function(e){return function(t,r,n){var i=A9t(t),o=C9t(i.length),u=M9t(n,o),f;if(e&&r!=r){for(;o>u;)if(f=i[u++],f!=f)return!0}else for(;o>u;u++)if((e||u in i)&&i[u]===r)return e||u||0;return!e&&-1}}});var R9=I((nEr,ECe)=>{ECe.exports=!0});var q9=I((iEr,MCe)=>{var P9t=Ol(),TCe=Dy(),ACe="__core-js_shared__",CCe=TCe[ACe]||(TCe[ACe]={});(MCe.exports=function(e,t){return CCe[e]||(CCe[e]=t!==void 0?t:{})})("versions",[]).push({version:P9t.version,mode:R9()?"pure":"global",copyright:"\xA9 2020 Denis Pushkarev (zloirock.ru)"})});var N9=I((oEr,PCe)=>{var O9t=0,R9t=Math.random();PCe.exports=function(e){return"Symbol(".concat(e===void 0?"":e,")_",(++O9t+R9t).toString(36))}});var GM=I((aEr,RCe)=>{var OCe=q9()("keys"),q9t=N9();RCe.exports=function(e){return OCe[e]||(OCe[e]=q9t(e))}});var kCe=I((sEr,NCe)=>{var qCe=zy(),N9t=rw(),k9t=ICe()(!1),D9t=GM()("IE_PROTO");NCe.exports=function(e,t){var r=N9t(e),n=0,i=[],o;for(o in r)o!=D9t&&qCe(r,o)&&i.push(o);for(;t.length>n;)qCe(r,o=t[n++])&&(~k9t(i,o)||i.push(o));return i}});var k9=I((lEr,DCe)=>{DCe.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")});var nw=I((uEr,LCe)=>{var L9t=kCe(),z9t=k9();LCe.exports=Object.keys||function(t){return L9t(t,z9t)}});var FCe=I(zCe=>{zCe.f=Object.getOwnPropertySymbols});var WM=I(jCe=>{jCe.f={}.propertyIsEnumerable});var iw=I((dEr,BCe)=>{var F9t=$M();BCe.exports=function(e){return Object(F9t(e))}});var $Ce=I((fEr,UCe)=>{"use strict";var j9t=_f(),VCe=nw(),B9t=FCe(),V9t=WM(),U9t=iw(),$9t=P9(),ZM=Object.assign;UCe.exports=!ZM||Jx()(function(){var e={},t={},r=Symbol(),n="abcdefghijklmnopqrst";return e[r]=7,n.split("").forEach(function(i){t[i]=i}),ZM({},e)[r]!=7||Object.keys(ZM({},t)).join("")!=n})?function(t,r){for(var n=U9t(t),i=arguments.length,o=1,u=B9t.f,f=V9t.f;i>o;)for(var h=$9t(arguments[o++]),y=u?VCe(h).concat(u(h)):VCe(h),w=y.length,T=0,A;w>T;)A=y[T++],(!j9t||f.call(h,A))&&(n[A]=h[A]);return n}:ZM});var HCe=I(()=>{var D9=fp();D9(D9.S+D9.F,"Object",{assign:$Ce()})});var WCe=I((vEr,GCe)=>{HCe();GCe.exports=Ol().Object.assign});var KCe=I((yEr,ZCe)=>{var H9t=Qx(),G9t=Ly(),W9t=nw();ZCe.exports=_f()?Object.defineProperties:function(t,r){G9t(t);for(var n=W9t(r),i=n.length,o=0,u;i>o;)H9t.f(t,u=n[o++],r[u]);return t}});var JCe=I((_Er,XCe)=>{var YCe=Dy().document;XCe.exports=YCe&&YCe.documentElement});var j9=I((bEr,eMe)=>{var Z9t=Ly(),K9t=KCe(),QCe=k9(),Y9t=GM()("IE_PROTO"),z9=function(){},F9="prototype",KM=function(){var e=E9()("iframe"),t=QCe.length,r="<",n=">",i;for(e.style.display="none",JCe().appendChild(e),e.src="javascript:",i=e.contentWindow.document,i.open(),i.write(r+"script"+n+"document.F=Object"+r+"/script"+n),i.close(),KM=i.F;t--;)delete KM[F9][QCe[t]];return KM()};eMe.exports=Object.create||function(t,r){var n;return t!==null?(z9[F9]=Z9t(t),n=new z9,z9[F9]=null,n[Y9t]=t):n=KM(),r===void 0?n:K9t(n,r)}});var rMe=I(()=>{var tMe=fp();tMe(tMe.S,"Object",{create:j9()})});var iMe=I((SEr,nMe)=>{rMe();var X9t=Ol().Object;nMe.exports=function(t,r){return X9t.create(t,r)}});var sMe=I(aMe=>{var J9t=WM(),Q9t=ew(),e7t=rw(),t7t=A9(),r7t=zy(),n7t=T9(),oMe=Object.getOwnPropertyDescriptor;aMe.f=_f()?oMe:function(t,r){if(t=e7t(t),r=t7t(r,!0),n7t)try{return oMe(t,r)}catch(n){}if(r7t(t,r))return Q9t(!J9t.f.call(t,r),t[r])}});var cMe=I((EEr,uMe)=>{var i7t=Xx(),o7t=Ly(),lMe=function(e,t){if(o7t(e),!i7t(t)&&t!==null)throw TypeError(t+": can't set as prototype!")};uMe.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{r=jM()(Function.call,sMe().f(Object.prototype,"__proto__").set,2),r(e,[]),t=!(e instanceof Array)}catch(n){t=!0}return function(i,o){return lMe(i,o),t?i.__proto__=o:r(i,o),i}}({},!1):void 0),check:lMe}});var dMe=I(()=>{var pMe=fp();pMe(pMe.S,"Object",{setPrototypeOf:cMe().set})});var hMe=I((CEr,fMe)=>{dMe();fMe.exports=Ol().Object.setPrototypeOf});var gMe=I((REr,vMe)=>{var V9=fp(),a7t=Ol(),s7t=Jx();vMe.exports=function(e,t){var r=(a7t.Object||{})[e]||Object[e],n={};n[e]=t(r),V9(V9.S+V9.F*s7t(function(){r(1)}),"Object",n)}});var yMe=I(()=>{var l7t=iw(),u7t=nw();gMe()("keys",function(){return function(t){return u7t(l7t(t))}})});var bMe=I((kEr,_Me)=>{yMe();_Me.exports=Ol().Object.keys});var $r=I((LEr,YM)=>{(function(){"use strict";var e={}.hasOwnProperty,t="[native code]";function r(){for(var n=[],i=0;i<arguments.length;i++){var o=arguments[i];if(o){var u=typeof o;if(u==="string"||u==="number")n.push(o);else if(Array.isArray(o)){if(o.length){var f=r.apply(null,o);f&&n.push(f)}}else if(u==="object"){if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]")){n.push(o.toString());continue}for(var h in o)e.call(o,h)&&o[h]&&n.push(h)}}}return n.join(" ")}typeof YM!="undefined"&&YM.exports?(r.default=r,YM.exports=r):typeof define=="function"&&typeof define.amd=="object"&&define.amd?define("classnames",[],function(){return r}):window.classNames=r})()});var XM=I((jEr,wMe)=>{"use strict";var c7t=function(e,t,r,n,i,o,u,f){if(!e){var h;if(t===void 0)h=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var y=[r,n,i,o,u,f],w=0;h=new Error(t.replace(/%s/g,function(){return y[w++]})),h.name="Invariant Violation"}throw h.framesToPop=1,h}};wMe.exports=c7t});var G9=I(H9=>{"use strict";Object.defineProperty(H9,"__esModule",{value:!0});function TMe(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);e!=null&&this.setState(e)}function AMe(e){function t(r){var n=this.constructor.getDerivedStateFromProps(e,r);return n!=null?n:null}this.setState(t.bind(this))}function CMe(e,t){try{var r=this.props,n=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(r,n)}finally{this.props=r,this.state=n}}TMe.__suppressDeprecationWarning=!0;AMe.__suppressDeprecationWarning=!0;CMe.__suppressDeprecationWarning=!0;function d7t(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if(typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function")return e;var r=null,n=null,i=null;if(typeof t.componentWillMount=="function"?r="componentWillMount":typeof t.UNSAFE_componentWillMount=="function"&&(r="UNSAFE_componentWillMount"),typeof t.componentWillReceiveProps=="function"?n="componentWillReceiveProps":typeof t.UNSAFE_componentWillReceiveProps=="function"&&(n="UNSAFE_componentWillReceiveProps"),typeof t.componentWillUpdate=="function"?i="componentWillUpdate":typeof t.UNSAFE_componentWillUpdate=="function"&&(i="UNSAFE_componentWillUpdate"),r!==null||n!==null||i!==null){var o=e.displayName||e.name,u=typeof e.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+o+" uses "+u+" but also contains the following legacy lifecycles:"+(r!==null?`
  `+r:"")+(n!==null?`
  `+n:"")+(i!==null?`
  `+i:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof e.getDerivedStateFromProps=="function"&&(t.componentWillMount=TMe,t.componentWillReceiveProps=AMe),typeof t.getSnapshotBeforeUpdate=="function"){if(typeof t.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=CMe;var f=t.componentDidUpdate;t.componentDidUpdate=function(y,w,T){var A=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:T;f.call(this,y,w,A)}}return e}H9.polyfill=d7t});var W9=I((oTr,OMe)=>{var h7t=_f(),m7t=nw(),v7t=rw(),g7t=WM().f;OMe.exports=function(e){return function(t){for(var r=v7t(t),n=m7t(r),i=n.length,o=0,u=[],f;i>o;)f=n[o++],(!h7t||g7t.call(r,f))&&u.push(e?[f,r[f]]:r[f]);return u}}});var qMe=I(()=>{var RMe=fp(),y7t=W9()(!0);RMe(RMe.S,"Object",{entries:function(t){return y7t(t)}})});var kMe=I((lTr,NMe)=>{qMe();NMe.exports=Ol().Object.entries});var Z9=I((uTr,DMe)=>{DMe.exports=kMe()});var uw=I((eP,BMe)=>{"use strict";Object.defineProperty(eP,"__esModule",{value:!0});eP.default=A7t;function A7t(e){function t(n,i,o,u,f,h){var y=u||"<<anonymous>>",w=h||o;if(i[o]==null)return n?new Error("Required "+f+" `"+w+"` was not specified "+("in `"+y+"`.")):null;for(var T=arguments.length,A=Array(T>6?T-6:0),q=6;q<T;q++)A[q-6]=arguments[q];return e.apply(void 0,[i,o,y,f,w].concat(A))}var r=t.bind(null,!1);return r.isRequired=t.bind(null,!0),r}BMe.exports=eP.default});var HMe=I(()=>{var $Me=fp(),C7t=W9()(!1);$Me($Me.S,"Object",{values:function(t){return C7t(t)}})});var WMe=I((bTr,GMe)=>{HMe();GMe.exports=Ol().Object.values});var KMe=I((xTr,ZMe)=>{ZMe.exports=WMe()});var JMe=I(Rn=>{"use strict";var vo=typeof Symbol=="function"&&Symbol.for,e7=vo?Symbol.for("react.element"):60103,t7=vo?Symbol.for("react.portal"):60106,rP=vo?Symbol.for("react.fragment"):60107,nP=vo?Symbol.for("react.strict_mode"):60108,iP=vo?Symbol.for("react.profiler"):60114,oP=vo?Symbol.for("react.provider"):60109,aP=vo?Symbol.for("react.context"):60110,r7=vo?Symbol.for("react.async_mode"):60111,sP=vo?Symbol.for("react.concurrent_mode"):60111,lP=vo?Symbol.for("react.forward_ref"):60112,uP=vo?Symbol.for("react.suspense"):60113,O7t=vo?Symbol.for("react.suspense_list"):60120,cP=vo?Symbol.for("react.memo"):60115,pP=vo?Symbol.for("react.lazy"):60116,R7t=vo?Symbol.for("react.block"):60121,q7t=vo?Symbol.for("react.fundamental"):60117,N7t=vo?Symbol.for("react.responder"):60118,k7t=vo?Symbol.for("react.scope"):60119;function Us(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case e7:switch(e=e.type,e){case r7:case sP:case rP:case iP:case nP:case uP:return e;default:switch(e=e&&e.$$typeof,e){case aP:case lP:case pP:case cP:case oP:return e;default:return t;}}case t7:return t;}}}function XMe(e){return Us(e)===sP}Rn.AsyncMode=r7;Rn.ConcurrentMode=sP;Rn.ContextConsumer=aP;Rn.ContextProvider=oP;Rn.Element=e7;Rn.ForwardRef=lP;Rn.Fragment=rP;Rn.Lazy=pP;Rn.Memo=cP;Rn.Portal=t7;Rn.Profiler=iP;Rn.StrictMode=nP;Rn.Suspense=uP;Rn.isAsyncMode=function(e){return XMe(e)||Us(e)===r7};Rn.isConcurrentMode=XMe;Rn.isContextConsumer=function(e){return Us(e)===aP};Rn.isContextProvider=function(e){return Us(e)===oP};Rn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===e7};Rn.isForwardRef=function(e){return Us(e)===lP};Rn.isFragment=function(e){return Us(e)===rP};Rn.isLazy=function(e){return Us(e)===pP};Rn.isMemo=function(e){return Us(e)===cP};Rn.isPortal=function(e){return Us(e)===t7};Rn.isProfiler=function(e){return Us(e)===iP};Rn.isStrictMode=function(e){return Us(e)===nP};Rn.isSuspense=function(e){return Us(e)===uP};Rn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===rP||e===sP||e===iP||e===nP||e===uP||e===O7t||typeof e=="object"&&e!==null&&(e.$$typeof===pP||e.$$typeof===cP||e.$$typeof===oP||e.$$typeof===aP||e.$$typeof===lP||e.$$typeof===q7t||e.$$typeof===N7t||e.$$typeof===k7t||e.$$typeof===R7t)};Rn.typeOf=Us});var ePe=I((TTr,QMe)=>{"use strict";QMe.exports=JMe()});var Do=I((dP,rPe)=>{"use strict";Object.defineProperty(dP,"__esModule",{value:!0});var D7t=Ve(),L7t=tPe(D7t),z7t=ePe(),F7t=uw(),j7t=tPe(F7t);function tPe(e){return e&&e.__esModule?e:{default:e}}function B7t(e,t,r,n,i){var o=e[t];return L7t.default.isValidElement(o)?new Error("Invalid "+n+" `"+i+"` of type ReactElement "+("supplied to `"+r+"`,expected an element type (a string ")+", component class, or function component)."):(0,z7t.isValidElementType)(o)?null:new Error("Invalid "+n+" `"+i+"` of value `"+o+"` "+("supplied to `"+r+"`, expected an element type (a string ")+", component class, or function component).")}dP.default=(0,j7t.default)(B7t);rPe.exports=dP.default});var pw=I((hP,sPe)=>{"use strict";Object.defineProperty(hP,"__esModule",{value:!0});hP.default=Y7t;var W7t=uw(),Z7t=K7t(W7t);function K7t(e){return e&&e.__esModule?e:{default:e}}function Y7t(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];function n(){for(var i=arguments.length,o=Array(i),u=0;u<i;u++)o[u]=arguments[u];var f=null;return t.forEach(function(h){if(f==null){var y=h.apply(void 0,o);y!=null&&(f=y)}}),f}return(0,Z7t.default)(n)}sPe.exports=hP.default});var xf=I((JTr,hPe)=>{"use strict";var eVt=function(){};hPe.exports=eVt});var Li=I((aAr,dw)=>{function iVt(e){return e&&e.__esModule?e:{default:e}}dw.exports=iVt,dw.exports.__esModule=!0,dw.exports.default=dw.exports});var gPe=I((yP,vPe)=>{"use strict";yP.__esModule=!0;yP.default=aVt;var oVt=/-(.)/g;function aVt(e){return e.replace(oVt,function(t,r){return r.toUpperCase()})}vPe.exports=yP.default});var d7=I((_P,yPe)=>{"use strict";var sVt=Li();_P.__esModule=!0;_P.default=cVt;var lVt=sVt(gPe()),uVt=/^-ms-/;function cVt(e){return(0,lVt.default)(e.replace(uVt,"ms-"))}yPe.exports=_P.default});var bPe=I((bP,_Pe)=>{"use strict";bP.__esModule=!0;bP.default=dVt;var pVt=/([A-Z])/g;function dVt(e){return e.replace(pVt,"-$1").toLowerCase()}_Pe.exports=bP.default});var wPe=I((xP,xPe)=>{"use strict";var fVt=Li();xP.__esModule=!0;xP.default=vVt;var hVt=fVt(bPe()),mVt=/^ms-/;function vVt(e){return(0,hVt.default)(e).replace(mVt,"-ms-")}xPe.exports=xP.default});var IPe=I((wP,SPe)=>{"use strict";var gVt=Li();wP.__esModule=!0;wP.default=xVt;var yVt=gVt(d7()),_Vt=/^(top|right|bottom|left)$/,bVt=/^([+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|))(?!px)[a-z%]+$/i;function xVt(e){if(!e)throw new TypeError("No Element passed to `getComputedStyle()`");var t=e.ownerDocument;return"defaultView"in t?t.defaultView.opener?e.ownerDocument.defaultView.getComputedStyle(e,null):window.getComputedStyle(e,null):{getPropertyValue:function(n){var i=e.style;n=(0,yVt.default)(n),n=="float"&&(n="styleFloat");var o=e.currentStyle[n]||null;if(o==null&&i&&i[n]&&(o=i[n]),bVt.test(o)&&!_Vt.test(n)){var u=i.left,f=e.runtimeStyle,h=f&&f.left;h&&(f.left=e.currentStyle.left),i.left=n==="fontSize"?"1em":o,o=i.pixelLeft+"px",i.left=u,h&&(f.left=h)}return o}}}SPe.exports=wP.default});var TPe=I((SP,EPe)=>{"use strict";SP.__esModule=!0;SP.default=wVt;function wVt(e,t){return"removeProperty"in e.style?e.style.removeProperty(t):e.style.removeAttribute(t)}EPe.exports=SP.default});var nc=I((fw,APe)=>{"use strict";fw.__esModule=!0;fw.default=void 0;var SVt=!!(typeof window!="undefined"&&window.document&&window.document.createElement);fw.default=SVt;APe.exports=fw.default});var qPe=I(en=>{"use strict";var IVt=Li();en.__esModule=!0;en.default=en.animationEnd=en.animationDelay=en.animationTiming=en.animationDuration=en.animationName=en.transitionEnd=en.transitionDuration=en.transitionDelay=en.transitionTiming=en.transitionProperty=en.transform=void 0;var EVt=IVt(nc()),EP="transform";en.transform=EP;var ic,f7,CPe;en.animationEnd=CPe;en.transitionEnd=f7;var h7,m7,v7,g7;en.transitionDelay=g7;en.transitionTiming=v7;en.transitionDuration=m7;en.transitionProperty=h7;var MPe,PPe,OPe,RPe;en.animationDelay=RPe;en.animationTiming=OPe;en.animationDuration=PPe;en.animationName=MPe;EVt.default&&(IP=AVt(),ic=IP.prefix,en.transitionEnd=f7=IP.transitionEnd,en.animationEnd=CPe=IP.animationEnd,en.transform=EP=ic+"-"+EP,en.transitionProperty=h7=ic+"-transition-property",en.transitionDuration=m7=ic+"-transition-duration",en.transitionDelay=g7=ic+"-transition-delay",en.transitionTiming=v7=ic+"-transition-timing-function",en.animationName=MPe=ic+"-animation-name",en.animationDuration=PPe=ic+"-animation-duration",en.animationTiming=OPe=ic+"-animation-delay",en.animationDelay=RPe=ic+"-animation-timing-function");var IP,TVt={transform:EP,end:f7,property:h7,timing:v7,delay:g7,duration:m7};en.default=TVt;function AVt(){for(var e=document.createElement("div").style,t={O:function(y){return"o"+y.toLowerCase()},Moz:function(y){return y.toLowerCase()},Webkit:function(y){return"webkit"+y},ms:function(y){return"MS"+y}},r=Object.keys(t),n,i,o="",u=0;u<r.length;u++){var f=r[u];if(f+"TransitionProperty"in e){o="-"+f.toLowerCase(),n=t[f]("TransitionEnd"),i=t[f]("AnimationEnd");break}}return!n&&"transitionProperty"in e&&(n="transitionend"),!i&&"animationName"in e&&(i="animationend"),e=null,{animationEnd:i,transitionEnd:n,prefix:o}}});var kPe=I((TP,NPe)=>{"use strict";TP.__esModule=!0;TP.default=MVt;var CVt=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function MVt(e){return!!(e&&CVt.test(e))}NPe.exports=TP.default});var CP=I((AP,DPe)=>{"use strict";var hw=Li();AP.__esModule=!0;AP.default=kVt;var PVt=hw(d7()),y7=hw(wPe()),OVt=hw(IPe()),RVt=hw(TPe()),qVt=qPe(),NVt=hw(kPe());function kVt(e,t,r){var n="",i="",o=t;if(typeof t=="string"){if(r===void 0)return e.style[(0,PVt.default)(t)]||(0,OVt.default)(e).getPropertyValue((0,y7.default)(t));(o={})[t]=r}Object.keys(o).forEach(function(u){var f=o[u];!f&&f!==0?(0,RVt.default)(e,(0,y7.default)(u)):(0,NVt.default)(u)?i+=u+"("+f+") ":n+=(0,y7.default)(u)+": "+f+";"}),i&&(n+=qVt.transform+": "+i+";"),e.style.cssText+=";"+n}DPe.exports=AP.default});var LPe=I(By=>{"use strict";By.__esModule=!0;By.classNamesShape=By.timeoutsShape=void 0;var lAr=DVt(Xt());function DVt(e){return e&&e.__esModule?e:{default:e}}var LVt=null;By.timeoutsShape=LVt;var zVt=null;By.classNamesShape=zVt});var FPe=I(ms=>{"use strict";ms.__esModule=!0;ms.default=ms.EXITING=ms.ENTERED=ms.ENTERING=ms.EXITED=ms.UNMOUNTED=void 0;var FVt=VVt(Xt()),_7=zPe(Ve()),jVt=zPe(Ti()),BVt=G9(),cAr=LPe();function zPe(e){return e&&e.__esModule?e:{default:e}}function VVt(e){if(e&&e.__esModule)return e;var t={};if(e!=null){for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}}return t.default=e,t}function UVt(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function $Vt(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var mw="unmounted";ms.UNMOUNTED=mw;var bm="exited";ms.EXITED=bm;var xm="entering";ms.ENTERING=xm;var Uy="entered";ms.ENTERED=Uy;var b7="exiting";ms.EXITING=b7;var oc=function(e){$Vt(t,e);function t(n,i){var o;o=e.call(this,n,i)||this;var u=i.transitionGroup,f=u&&!u.isMounting?n.enter:n.appear,h;return o.appearStatus=null,n.in?f?(h=bm,o.appearStatus=xm):h=Uy:n.unmountOnExit||n.mountOnEnter?h=mw:h=bm,o.state={status:h},o.nextCallback=null,o}var r=t.prototype;return r.getChildContext=function(){return{transitionGroup:null}},t.getDerivedStateFromProps=function(i,o){var u=i.in;return u&&o.status===mw?{status:bm}:null},r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(i){var o=null;if(i!==this.props){var u=this.state.status;this.props.in?u!==xm&&u!==Uy&&(o=xm):(u===xm||u===Uy)&&(o=b7)}this.updateStatus(!1,o)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var i=this.props.timeout,o,u,f;return o=u=f=i,i!=null&&typeof i!="number"&&(o=i.exit,u=i.enter,f=i.appear!==void 0?i.appear:u),{exit:o,enter:u,appear:f}},r.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null){this.cancelNextCallback();var u=jVt.default.findDOMNode(this);o===xm?this.performEnter(u,i):this.performExit(u)}else this.props.unmountOnExit&&this.state.status===bm&&this.setState({status:mw})},r.performEnter=function(i,o){var u=this,f=this.props.enter,h=this.context.transitionGroup?this.context.transitionGroup.isMounting:o,y=this.getTimeouts(),w=h?y.appear:y.enter;if(!o&&!f){this.safeSetState({status:Uy},function(){u.props.onEntered(i)});return}this.props.onEnter(i,h),this.safeSetState({status:xm},function(){u.props.onEntering(i,h),u.onTransitionEnd(i,w,function(){u.safeSetState({status:Uy},function(){u.props.onEntered(i,h)})})})},r.performExit=function(i){var o=this,u=this.props.exit,f=this.getTimeouts();if(!u){this.safeSetState({status:bm},function(){o.props.onExited(i)});return}this.props.onExit(i),this.safeSetState({status:b7},function(){o.props.onExiting(i),o.onTransitionEnd(i,f.exit,function(){o.safeSetState({status:bm},function(){o.props.onExited(i)})})})},r.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},r.setNextCallback=function(i){var o=this,u=!0;return this.nextCallback=function(f){u&&(u=!1,o.nextCallback=null,i(f))},this.nextCallback.cancel=function(){u=!1},this.nextCallback},r.onTransitionEnd=function(i,o,u){this.setNextCallback(u);var f=o==null&&!this.props.addEndListener;if(!i||f){setTimeout(this.nextCallback,0);return}this.props.addEndListener&&this.props.addEndListener(i,this.nextCallback),o!=null&&setTimeout(this.nextCallback,o)},r.render=function(){var i=this.state.status;if(i===mw)return null;var o=this.props,u=o.children,f=UVt(o,["children"]);if(delete f.in,delete f.mountOnEnter,delete f.unmountOnExit,delete f.appear,delete f.enter,delete f.exit,delete f.timeout,delete f.addEndListener,delete f.onEnter,delete f.onEntering,delete f.onEntered,delete f.onExit,delete f.onExiting,delete f.onExited,typeof u=="function")return u(i,f);var h=_7.default.Children.only(u);return _7.default.cloneElement(h,f)},t}(_7.default.Component);oc.contextTypes={transitionGroup:FVt.object};oc.childContextTypes={transitionGroup:function(){}};oc.propTypes={};function Vy(){}oc.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Vy,onEntering:Vy,onEntered:Vy,onExit:Vy,onExiting:Vy,onExited:Vy};oc.UNMOUNTED=0;oc.EXITED=1;oc.ENTERING=2;oc.ENTERED=3;oc.EXITING=4;var HVt=(0,BVt.polyfill)(oc);ms.default=HVt});var wm=I((MP,jPe)=>{"use strict";MP.__esModule=!0;MP.default=GVt;function GVt(e){return e&&e.ownerDocument||document}jPe.exports=MP.default});var x7=I((PP,BPe)=>{"use strict";var WVt=Li();PP.__esModule=!0;PP.default=KVt;var ZVt=WVt(wm());function KVt(e){e===void 0&&(e=(0,ZVt.default)());try{return e.activeElement}catch(t){}}BPe.exports=PP.default});var $y=I((vw,UPe)=>{"use strict";var YVt=Li();vw.__esModule=!0;vw.default=void 0;var XVt=YVt(nc()),JVt=function(){return XVt.default?function(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(e.compareDocumentPosition(t)&16):VPe(e,t)}:VPe}();vw.default=JVt;function VPe(e,t){if(t)do if(t===e)return!0;while(t=t.parentNode);return!1}UPe.exports=vw.default});var RP=I((Sm,GPe)=>{function $Pe(e){if(e&&typeof e=="object"){var t=e.which||e.keyCode||e.charCode;t&&(e=t)}if(typeof e=="number")return HPe[e];var r=String(e),n=vp[r.toLowerCase()];if(n)return n;var n=OP[r.toLowerCase()];if(n)return n;if(r.length===1)return r.charCodeAt(0)}$Pe.isEventKey=function(t,r){if(t&&typeof t=="object"){var n=t.which||t.keyCode||t.charCode;if(n==null)return!1;if(typeof r=="string"){var i=vp[r.toLowerCase()];if(i)return i===n;var i=OP[r.toLowerCase()];if(i)return i===n}else if(typeof r=="number")return r===n;return!1}};Sm=GPe.exports=$Pe;var vp=Sm.code=Sm.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},OP=Sm.aliases={windows:91,"\u21E7":16,"\u2325":18,"\u2303":17,"\u2318":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};for(bi=97;bi<123;bi++)vp[String.fromCharCode(bi)]=bi-32;for(bi=48;bi<58;bi++)vp[bi-48]=bi;var bi;for(bi=1;bi<13;bi++)vp["f"+bi]=bi+111;for(bi=0;bi<10;bi++)vp["numpad "+bi]=bi+96;var HPe=Sm.names=Sm.title={};for(bi in vp)HPe[vp[bi]]=bi;for(w7 in OP)vp[w7]=OP[w7];var w7});var NP=I((qP,WPe)=>{"use strict";Object.defineProperty(qP,"__esModule",{value:!0});qP.default=QVt;function QVt(e){return function(r,n,i,o,u){var f=i||"<<anonymous>>",h=u||n;if(r[n]==null)return new Error("The "+o+" `"+h+"` is required to make "+("`"+f+"` accessible for users of assistive ")+"technologies such as screen readers.");for(var y=arguments.length,w=Array(y>5?y-5:0),T=5;T<y;T++)w[T-5]=arguments[T];return e.apply(void 0,[r,n,i,o,u].concat(w))}}WPe.exports=qP.default});var KPe=I((dAr,ZPe)=>{var eUt=HM(),tUt=$M();ZPe.exports=function(e){return function(t,r){var n=String(tUt(t)),i=eUt(r),o=n.length,u,f;return i<0||i>=o?e?"":void 0:(u=n.charCodeAt(i),u<55296||u>56319||i+1===o||(f=n.charCodeAt(i+1))<56320||f>57343?e?n.charAt(i):u:e?n.slice(i,i+2):(u-55296<<10)+(f-56320)+65536)}}});var XPe=I((fAr,YPe)=>{YPe.exports=tw()});var kP=I((hAr,JPe)=>{JPe.exports={}});var wf=I((mAr,e5e)=>{var S7=q9()("wks"),rUt=N9(),I7=Dy().Symbol,QPe=typeof I7=="function",nUt=e5e.exports=function(e){return S7[e]||(S7[e]=QPe&&I7[e]||(QPe?I7:rUt)("Symbol."+e))};nUt.store=S7});var E7=I((vAr,r5e)=>{var iUt=Qx().f,oUt=zy(),t5e=wf()("toStringTag");r5e.exports=function(e,t,r){e&&!oUt(e=r?e:e.prototype,t5e)&&iUt(e,t5e,{configurable:!0,value:t})}});var o5e=I((gAr,i5e)=>{"use strict";var aUt=j9(),sUt=ew(),lUt=E7(),n5e={};tw()(n5e,wf()("iterator"),function(){return this});i5e.exports=function(e,t,r){e.prototype=aUt(n5e,{next:sUt(1,r)}),lUt(e,t+" Iterator")}});var l5e=I((yAr,s5e)=>{var uUt=zy(),cUt=iw(),a5e=GM()("IE_PROTO"),pUt=Object.prototype;s5e.exports=Object.getPrototypeOf||function(e){return e=cUt(e),uUt(e,a5e)?e[a5e]:typeof e.constructor=="function"&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?pUt:null}});var m5e=I((_Ar,h5e)=>{"use strict";var u5e=R9(),T7=fp(),dUt=XPe(),c5e=tw(),p5e=kP(),fUt=o5e(),hUt=E7(),mUt=l5e(),gw=wf()("iterator"),A7=!([].keys&&"next"in[].keys()),vUt="@@iterator",d5e="keys",DP="values",f5e=function(){return this};h5e.exports=function(e,t,r,n,i,o,u){fUt(r,t,n);var f=function(Z){if(!A7&&Z in T)return T[Z];switch(Z){case d5e:return function(){return new r(this,Z)};case DP:return function(){return new r(this,Z)};}return function(){return new r(this,Z)}},h=t+" Iterator",y=i==DP,w=!1,T=e.prototype,A=T[gw]||T[vUt]||i&&T[i],q=A||f(i),z=i?y?f("entries"):q:void 0,F=t=="Array"&&T.entries||A,N,L,B;if(F&&(B=mUt(F.call(new e)),B!==Object.prototype&&B.next&&(hUt(B,h,!0),!u5e&&typeof B[gw]!="function"&&c5e(B,gw,f5e))),y&&A&&A.name!==DP&&(w=!0,q=function(){return A.call(this)}),(!u5e||u)&&(A7||w||!T[gw])&&c5e(T,gw,q),p5e[t]=q,p5e[h]=f5e,i)if(N={values:y?q:f(DP),keys:o?q:f(d5e),entries:z},u)for(L in N)L in T||dUt(T,L,N[L]);else T7(T7.P+T7.F*(A7||w),t,N);return N}});var v5e=I(()=>{"use strict";var gUt=KPe()(!0);m5e()(String,"String",function(e){this._t=String(e),this._i=0},function(){var e=this._t,t=this._i,r;return t>=e.length?{value:void 0,done:!0}:(r=gUt(e,t),this._i+=r.length,{value:r,done:!1})})});var _5e=I((wAr,y5e)=>{var g5e=Ly();y5e.exports=function(e,t,r,n){try{return n?t(g5e(r)[0],r[1]):t(r)}catch(o){var i=e.return;throw i!==void 0&&g5e(i.call(e)),o}}});var x5e=I((SAr,b5e)=>{var yUt=kP(),_Ut=wf()("iterator"),bUt=Array.prototype;b5e.exports=function(e){return e!==void 0&&(yUt.Array===e||bUt[_Ut]===e)}});var S5e=I((IAr,w5e)=>{"use strict";var xUt=Qx(),wUt=ew();w5e.exports=function(e,t,r){t in e?xUt.f(e,t,wUt(0,r)):e[t]=r}});var E5e=I((EAr,I5e)=>{var C7=M9(),SUt=wf()("toStringTag"),IUt=C7(function(){return arguments}())=="Arguments",EUt=function(e,t){try{return e[t]}catch(r){}};I5e.exports=function(e){var t,r,n;return e===void 0?"Undefined":e===null?"Null":typeof(r=EUt(t=Object(e),SUt))=="string"?r:IUt?C7(t):(n=C7(t))=="Object"&&typeof t.callee=="function"?"Arguments":n}});var A5e=I((TAr,T5e)=>{var TUt=E5e(),AUt=wf()("iterator"),CUt=kP();T5e.exports=Ol().getIteratorMethod=function(e){if(e!=null)return e[AUt]||e["@@iterator"]||CUt[TUt(e)]}});var P5e=I((AAr,M5e)=>{var P7=wf()("iterator"),C5e=!1;try{M7=[7][P7](),M7.return=function(){C5e=!0},Array.from(M7,function(){throw 2})}catch(e){}var M7;M5e.exports=function(e,t){if(!t&&!C5e)return!1;var r=!1;try{var n=[7],i=n[P7]();i.next=function(){return{done:r=!0}},n[P7]=function(){return i},e(n)}catch(o){}return r}});var R5e=I(()=>{"use strict";var MUt=jM(),O7=fp(),PUt=iw(),OUt=_5e(),RUt=x5e(),qUt=O9(),O5e=S5e(),NUt=A5e();O7(O7.S+O7.F*!P5e()(function(e){Array.from(e)}),"Array",{from:function(t){var r=PUt(t),n=typeof this=="function"?this:Array,i=arguments.length,o=i>1?arguments[1]:void 0,u=o!==void 0,f=0,h=NUt(r),y,w,T,A;if(u&&(o=MUt(o,i>2?arguments[2]:void 0,2)),h!=null&&!(n==Array&&RUt(h)))for(A=h.call(r),w=new n;!(T=A.next()).done;f++)O5e(w,f,u?OUt(A,o,[T.value,f],!0):T.value);else for(y=qUt(r.length),w=new n(y);y>f;f++)O5e(w,f,u?o(r[f],f):r[f]);return w.length=f,w}})});var N5e=I((PAr,q5e)=>{v5e();R5e();q5e.exports=Ol().Array.from});var D5e=I((OAr,k5e)=>{k5e.exports=N5e()});var LP=I((yw,z5e)=>{"use strict";var kUt=Li();yw.__esModule=!0;yw.default=void 0;var DUt=kUt(nc()),L5e=function(){};DUt.default&&(L5e=function(){if(document.addEventListener)return function(e,t,r,n){return e.addEventListener(t,r,n||!1)};if(document.attachEvent)return function(e,t,r){return e.attachEvent("on"+t,function(n){n=n||window.event,n.target=n.target||n.srcElement,n.currentTarget=e,r.call(e,n)})}}());var LUt=L5e;yw.default=LUt;z5e.exports=yw.default});var zP=I((_w,j5e)=>{"use strict";var zUt=Li();_w.__esModule=!0;_w.default=void 0;var FUt=zUt(nc()),F5e=function(){};FUt.default&&(F5e=function(){if(document.addEventListener)return function(e,t,r,n){return e.removeEventListener(t,r,n||!1)};if(document.attachEvent)return function(e,t,r){return e.detachEvent("on"+t,r)}}());var jUt=F5e;_w.default=jUt;j5e.exports=_w.default});var R7=I((FP,V5e)=>{"use strict";FP.__esModule=!0;FP.default=function(e,t,r,n){return(0,VUt.default)(e,t,r,n),{remove:function(){(0,$Ut.default)(e,t,r,n)}}};var BUt=LP(),VUt=B5e(BUt),UUt=zP(),$Ut=B5e(UUt);function B5e(e){return e&&e.__esModule?e:{default:e}}V5e.exports=FP.default});var Im=I((jP,$5e)=>{"use strict";jP.__esModule=!0;jP.default=function(e){return(0,ZUt.default)(GUt.default.findDOMNode(e))};var HUt=Ti(),GUt=U5e(HUt),WUt=wm(),ZUt=U5e(WUt);function U5e(e){return e&&e.__esModule?e:{default:e}}$5e.exports=jP.default});var N7=I((UP,H5e)=>{"use strict";UP.__esModule=!0;var KUt=$y(),YUt=Hy(KUt),XUt=Xt(),BP=Hy(XUt),JUt=Ve(),QUt=Hy(JUt),e$t=Ti(),t$t=Hy(e$t),r$t=R7(),q7=Hy(r$t),n$t=Im(),i$t=Hy(n$t);function Hy(e){return e&&e.__esModule?e:{default:e}}function o$t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a$t(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function s$t(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l$t=27;function u$t(e){return e.button===0}function c$t(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}var VP=function(e){s$t(t,e);function t(r,n){o$t(this,t);var i=a$t(this,e.call(this,r,n));return i.addEventListeners=function(){i.currentEvent=window.event;var o=i.props.event,u=(0,i$t.default)(i);i.documentMouseCaptureListener=(0,q7.default)(u,o,i.handleMouseCapture,!0),i.documentMouseListener=(0,q7.default)(u,o,i.handleMouse),i.documentKeyupListener=(0,q7.default)(u,"keyup",i.handleKeyUp)},i.removeEventListeners=function(){i.documentMouseCaptureListener&&i.documentMouseCaptureListener.remove(),i.documentMouseListener&&i.documentMouseListener.remove(),i.documentKeyupListener&&i.documentKeyupListener.remove()},i.handleMouseCapture=function(o){i.preventMouseRootClose=c$t(o)||!u$t(o)||(0,YUt.default)(t$t.default.findDOMNode(i),o.target)},i.handleMouse=function(o){if(o===i.currentEvent){i.currentEvent=void 0;return}!i.preventMouseRootClose&&i.props.onRootClose&&i.props.onRootClose(o)},i.handleKeyUp=function(o){if(o===i.currentEvent){i.currentEvent=void 0;return}o.keyCode===l$t&&i.props.onRootClose&&i.props.onRootClose(o)},i.preventMouseRootClose=!1,i}return t.prototype.componentDidMount=function(){this.props.disabled||this.addEventListeners()},t.prototype.componentDidUpdate=function(n){!this.props.disabled&&n.disabled?this.addEventListeners():this.props.disabled&&!n.disabled&&this.removeEventListeners()},t.prototype.componentWillUnmount=function(){this.props.disabled||this.removeEventListeners()},t.prototype.render=function(){return this.props.children},t}(QUt.default.Component);VP.displayName="RootCloseWrapper";VP.propTypes={onRootClose:BP.default.func,children:BP.default.element,disabled:BP.default.bool,event:BP.default.oneOf(["click","mousedown"])};VP.defaultProps={event:"click"};UP.default=VP;H5e.exports=UP.default});var _Oe=I((XP,yOe)=>{"use strict";XP.__esModule=!0;XP.default=k$t;var N$t=/^[\w-]*$/,sV=Function.prototype.bind.call(Function.prototype.call,[].slice);function k$t(e,t){var r=t[0]==="#",n=t[0]===".",i=r||n?t.slice(1):t,o=N$t.test(i),u;return o?r?(e=e.getElementById?e:document,(u=e.getElementById(i))?[u]:[]):e.getElementsByClassName&&n?sV(e.getElementsByClassName(i)):sV(e.getElementsByTagName(t)):sV(e.querySelectorAll(t))}yOe.exports=XP.default});var wOe=I((JP,xOe)=>{"use strict";var bOe=Li();JP.__esModule=!0;JP.default=z$t;var D$t=bOe($y()),L$t=bOe(_Oe());function z$t(e,t){return function(n){var i=n.currentTarget,o=n.target,u=(0,L$t.default)(i,e);u.some(function(f){return(0,D$t.default)(f,o)})&&t.call(this,n)}}xOe.exports=JP.default});var EOe=I((Tw,IOe)=>{"use strict";var lV=Li();Tw.__esModule=!0;Tw.default=void 0;var F$t=lV(nc()),j$t=lV(LP()),B$t=lV(zP()),SOe=function(){};F$t.default&&(SOe=function(t,r,n,i){return(0,j$t.default)(t,r,n,i),function(){(0,B$t.default)(t,r,n,i)}});var V$t=SOe;Tw.default=V$t;IOe.exports=Tw.default});var POe=I(If=>{"use strict";var QP=Li();If.__esModule=!0;If.default=void 0;var TOe=QP(LP());If.on=TOe.default;var AOe=QP(zP());If.off=AOe.default;var COe=QP(wOe());If.filter=COe.default;var MOe=QP(EOe());If.listen=MOe.default;var U$t={on:TOe.default,off:AOe.default,filter:COe.default,listen:MOe.default};If.default=U$t});var uV=I((t5,OOe)=>{"use strict";var $$t=Li();t5.__esModule=!0;t5.default=G$t;var H$t=$$t(nc()),e5;function G$t(e){if((!e5&&e5!==0||e)&&H$t.default){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),e5=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return e5}OOe.exports=t5.default});var Aw=I((r5,qOe)=>{"use strict";Object.defineProperty(r5,"__esModule",{value:!0});var W$t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Z$t=Ve(),K$t=ROe(Z$t),Y$t=uw(),X$t=ROe(Y$t);function ROe(e){return e&&e.__esModule?e:{default:e}}function J$t(e,t,r,n,i){var o=e[t],u=typeof o=="undefined"?"undefined":W$t(o);return K$t.default.isValidElement(o)?new Error("Invalid "+n+" `"+i+"` of type ReactElement "+("supplied to `"+r+"`, expected a ReactComponent or a ")+"DOMElement. You can usually obtain a ReactComponent or DOMElement from a ReactElement by attaching a ref to it."):(u!=="object"||typeof o.render!="function")&&o.nodeType!==1?new Error("Invalid "+n+" `"+i+"` of value `"+o+"` "+("supplied to `"+r+"`, expected a ReactComponent or a ")+"DOMElement."):null}r5.default=(0,X$t.default)(J$t);qOe.exports=r5.default});var LOe=I((aMr,DOe)=>{"use strict";var Q$t=!1,kOe=function(){};Q$t&&(NOe=function(t,r){var n=arguments.length;r=new Array(n>1?n-1:0);for(var i=1;i<n;i++)r[i-1]=arguments[i];var o=0,u="Warning: "+t.replace(/%s/g,function(){return r[o++]});typeof console!="undefined"&&console.error(u);try{throw new Error(u)}catch(f){}},kOe=function(e,t,r){var n=arguments.length;r=new Array(n>2?n-2:0);for(var i=2;i<n;i++)r[i-2]=arguments[i];if(t===void 0)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");e||NOe.apply(null,[t].concat(r))});var NOe;DOe.exports=kOe});var jOe=I((n5,FOe)=>{"use strict";Object.defineProperty(n5,"__esModule",{value:!0});n5.default=zOe;var eHt=LOe(),tHt=rHt(eHt);function rHt(e){return e&&e.__esModule?e:{default:e}}var cV={};function zOe(e,t){return function(n,i,o,u,f){var h=o||"<<anonymous>>",y=f||i;if(n[i]!=null){var w=o+"."+i;(0,tHt.default)(cV[w],"The "+u+" `"+y+"` of "+("`"+h+"` is deprecated. "+t+".")),cV[w]=!0}for(var T=arguments.length,A=Array(T>5?T-5:0),q=5;q<T;q++)A[q-5]=arguments[q];return e.apply(void 0,[n,i,o,u,f].concat(A))}}function nHt(){cV={}}zOe._resetWarned=nHt;FOe.exports=n5.default});var pV=I((i5,BOe)=>{"use strict";i5.__esModule=!0;i5.default=iHt;function iHt(e,t){return e.classList?!!t&&e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}BOe.exports=i5.default});var UOe=I((o5,VOe)=>{"use strict";var oHt=Li();o5.__esModule=!0;o5.default=sHt;var aHt=oHt(pV());function sHt(e,t){e.classList?e.classList.add(t):(0,aHt.default)(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}VOe.exports=o5.default});var GOe=I((sMr,HOe)=>{"use strict";function $Oe(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}HOe.exports=function(t,r){t.classList?t.classList.remove(r):typeof t.className=="string"?t.className=$Oe(t.className,r):t.setAttribute("class",$Oe(t.className&&t.className.baseVal||"",r))}});var YOe=I(Em=>{"use strict";var dV=Li();Em.__esModule=!0;Em.default=void 0;var WOe=dV(UOe());Em.addClass=WOe.default;var ZOe=dV(GOe());Em.removeClass=ZOe.default;var KOe=dV(pV());Em.hasClass=KOe.default;var lHt={addClass:WOe.default,removeClass:ZOe.default,hasClass:KOe.default};Em.default=lHt});var Cw=I((a5,XOe)=>{"use strict";a5.__esModule=!0;a5.default=uHt;function uHt(e){return e===e.window?e:e.nodeType===9?e.defaultView||e.parentWindow:!1}XOe.exports=a5.default});var fV=I((s5,eRe)=>{"use strict";s5.__esModule=!0;s5.default=mHt;var cHt=Cw(),JOe=QOe(cHt),pHt=wm(),dHt=QOe(pHt);function QOe(e){return e&&e.__esModule?e:{default:e}}function fHt(e){return e&&e.tagName.toLowerCase()==="body"}function hHt(e){var t=(0,dHt.default)(e),r=(0,JOe.default)(t),n=r.innerWidth;if(!n){var i=t.documentElement.getBoundingClientRect();n=i.right-Math.abs(i.left)}return t.body.clientWidth<n}function mHt(e){var t=(0,JOe.default)(e);return t||fHt(e)?hHt(e):e.scrollHeight>e.clientHeight}eRe.exports=s5.default});var rRe=I(Mw=>{"use strict";Mw.__esModule=!0;Mw.ariaHidden=hV;Mw.hideSiblings=yHt;Mw.showSiblings=_Ht;var vHt=["template","script","style"],gHt=function(t){var r=t.nodeType,n=t.tagName;return r===1&&vHt.indexOf(n.toLowerCase())===-1},tRe=function(t,r,n){r=[].concat(r),[].forEach.call(t.children,function(i){r.indexOf(i)===-1&&gHt(i)&&n(i)})};function hV(e,t){t&&(e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden"))}function yHt(e,t){tRe(e,t,function(r){return hV(!0,r)})}function _Ht(e,t){tRe(e,t,function(r){return hV(!1,r)})}});var aRe=I((u5,oRe)=>{"use strict";u5.__esModule=!0;var bHt=YOe(),nRe=l5(bHt),xHt=CP(),iRe=l5(xHt),wHt=uV(),SHt=l5(wHt),IHt=fV(),EHt=l5(IHt),mV=rRe();function l5(e){return e&&e.__esModule?e:{default:e}}function THt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function AHt(e,t){var r=-1;return e.some(function(n,i){if(t(n,i))return r=i,!0}),r}function CHt(e,t){return AHt(e,function(r){return r.modals.indexOf(t)!==-1})}function MHt(e,t){var r={overflow:"hidden"};e.style={overflow:t.style.overflow,paddingRight:t.style.paddingRight},e.overflowing&&(r.paddingRight=parseInt((0,iRe.default)(t,"paddingRight")||0,10)+(0,SHt.default)()+"px"),(0,iRe.default)(t,r)}function PHt(e,t){var r=e.style;Object.keys(r).forEach(function(n){return t.style[n]=r[n]})}var OHt=function e(){var t=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=r.hideSiblingNodes,i=n===void 0?!0:n,o=r.handleContainerOverflow,u=o===void 0?!0:o;THt(this,e),this.add=function(f,h,y){var w=t.modals.indexOf(f),T=t.containers.indexOf(h);if(w!==-1)return w;if(w=t.modals.length,t.modals.push(f),t.hideSiblingNodes&&(0,mV.hideSiblings)(h,f.modalNode),T!==-1)return t.data[T].modals.push(f),w;var A={modals:[f],classes:y?y.split(/\s+/):[],overflowing:(0,EHt.default)(h)};return t.handleContainerOverflow&&MHt(A,h),A.classes.forEach(nRe.default.addClass.bind(null,h)),t.containers.push(h),t.data.push(A),w},this.remove=function(f){var h=t.modals.indexOf(f);if(h!==-1){var y=CHt(t.data,f),w=t.data[y],T=t.containers[y];w.modals.splice(w.modals.indexOf(f),1),t.modals.splice(h,1),w.modals.length===0?(w.classes.forEach(nRe.default.removeClass.bind(null,T)),t.handleContainerOverflow&&PHt(w,T),t.hideSiblingNodes&&(0,mV.showSiblings)(T,f.modalNode),t.containers.splice(y,1),t.data.splice(y,1)):t.hideSiblingNodes&&(0,mV.ariaHidden)(!1,w.modals[w.modals.length-1].modalNode)}},this.isTopModal=function(f){return!!t.modals.length&&t.modals[t.modals.length-1]===f},this.hideSiblingNodes=i,this.handleContainerOverflow=u,this.modals=[],this.containers=[],this.data=[]};u5.default=OHt;oRe.exports=u5.default});var Pw=I((c5,sRe)=>{"use strict";c5.__esModule=!0;c5.default=kHt;var RHt=Ti(),qHt=NHt(RHt);function NHt(e){return e&&e.__esModule?e:{default:e}}function kHt(e,t){return e=typeof e=="function"?e():e,qHt.default.findDOMNode(e)||t}sRe.exports=c5.default});var hRe=I((p5,fRe)=>{"use strict";p5.__esModule=!0;var DHt=Xt(),vV=Yy(DHt),LHt=Aw(),zHt=Yy(LHt),FHt=Ve(),lRe=Yy(FHt),jHt=Ti(),uRe=Yy(jHt),BHt=Pw(),cRe=Yy(BHt),VHt=Im(),pRe=Yy(VHt);function Yy(e){return e&&e.__esModule?e:{default:e}}function UHt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dRe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function $Ht(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var gV=function(e){$Ht(t,e);function t(){var r,n,i;UHt(this,t);for(var o=arguments.length,u=Array(o),f=0;f<o;f++)u[f]=arguments[f];return i=(r=(n=dRe(this,e.call.apply(e,[this].concat(u))),n),n._mountOverlayTarget=function(){n._overlayTarget||(n._overlayTarget=document.createElement("div"),n._portalContainerNode=(0,cRe.default)(n.props.container,(0,pRe.default)(n).body),n._portalContainerNode.appendChild(n._overlayTarget))},n._unmountOverlayTarget=function(){n._overlayTarget&&(n._portalContainerNode.removeChild(n._overlayTarget),n._overlayTarget=null),n._portalContainerNode=null},n._renderOverlay=function(){var h=n.props.children?lRe.default.Children.only(n.props.children):null;if(h!==null){n._mountOverlayTarget();var y=!n._overlayInstance;n._overlayInstance=uRe.default.unstable_renderSubtreeIntoContainer(n,h,n._overlayTarget,function(){y&&n.props.onRendered&&n.props.onRendered()})}else n._unrenderOverlay(),n._unmountOverlayTarget()},n._unrenderOverlay=function(){n._overlayTarget&&(uRe.default.unmountComponentAtNode(n._overlayTarget),n._overlayInstance=null)},n.getMountNode=function(){return n._overlayTarget},r),dRe(n,i)}return t.prototype.componentDidMount=function(){this._isMounted=!0,this._renderOverlay()},t.prototype.componentDidUpdate=function(){this._renderOverlay()},t.prototype.UNSAFE_componentWillReceiveProps=function(n){this._overlayTarget&&n.container!==this.props.container&&(this._portalContainerNode.removeChild(this._overlayTarget),this._portalContainerNode=(0,cRe.default)(n.container,(0,pRe.default)(this).body),this._portalContainerNode.appendChild(this._overlayTarget))},t.prototype.componentWillUnmount=function(){this._isMounted=!1,this._unrenderOverlay(),this._unmountOverlayTarget()},t.prototype.render=function(){return null},t}(lRe.default.Component);gV.displayName="Portal";gV.propTypes={container:vV.default.oneOfType([zHt.default,vV.default.func]),onRendered:vV.default.func};p5.default=gV;fRe.exports=p5.default});var xV=I((d5,vRe)=>{"use strict";d5.__esModule=!0;var HHt=nc(),GHt=Ef(HHt),WHt=Xt(),yV=Ef(WHt),ZHt=Aw(),KHt=Ef(ZHt),YHt=Ve(),XHt=Ef(YHt),JHt=Ti(),_V=Ef(JHt),QHt=Pw(),eGt=Ef(QHt),tGt=Im(),rGt=Ef(tGt),nGt=hRe(),iGt=Ef(nGt);function Ef(e){return e&&e.__esModule?e:{default:e}}function oGt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mRe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function aGt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var bV=function(e){aGt(t,e);function t(){var r,n,i;oGt(this,t);for(var o=arguments.length,u=Array(o),f=0;f<o;f++)u[f]=arguments[f];return i=(r=(n=mRe(this,e.call.apply(e,[this].concat(u))),n),n.getMountNode=function(){return n._portalContainerNode},r),mRe(n,i)}return t.prototype.UNSAFE_componentWillMount=function(){if(GHt.default){var n=this.props.container;typeof n=="function"&&(n=n()),!(n&&!_V.default.findDOMNode(n))&&this.setContainer(n)}},t.prototype.componentDidMount=function(){this._portalContainerNode?this.props.onRendered&&this.props.onRendered():(this.setContainer(this.props.container),this.forceUpdate(this.props.onRendered))},t.prototype.UNSAFE_componentWillReceiveProps=function(n){n.container!==this.props.container&&this.setContainer(n.container)},t.prototype.componentWillUnmount=function(){this._portalContainerNode=null},t.prototype.setContainer=function(n){this._portalContainerNode=(0,eGt.default)(n,(0,rGt.default)(this).body)},t.prototype.render=function(){return this.props.children&&this._portalContainerNode?_V.default.createPortal(this.props.children,this._portalContainerNode):null},t}(XHt.default.Component);bV.displayName="Portal";bV.propTypes={container:yV.default.oneOfType([KHt.default,yV.default.func]),onRendered:yV.default.func};d5.default=_V.default.createPortal?bV:iGt.default;vRe.exports=d5.default});var bRe=I((f5,_Re)=>{"use strict";f5.__esModule=!0;var sGt=Xt(),lGt=gRe(sGt),uGt=Ve(),cGt=gRe(uGt);function gRe(e){return e&&e.__esModule?e:{default:e}}function pGt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dGt(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function fGt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var hGt={children:lGt.default.node},yRe=function(e){fGt(t,e);function t(){return pGt(this,t),dGt(this,e.apply(this,arguments))}return t.prototype.render=function(){return this.props.children},t}(cGt.default.Component);yRe.propTypes=hGt;f5.default=yRe;_Re.exports=f5.default});var wRe=I((h5,xRe)=>{"use strict";h5.__esModule=!0;h5.default=mGt;function mGt(e){var t=!document.addEventListener,r=void 0;return t?(document.attachEvent("onfocusin",e),r=function(){return document.detachEvent("onfocusin",e)}):(document.addEventListener("focus",e,!0),r=function(){return document.removeEventListener("focus",e,!0)}),{remove:r}}xRe.exports=h5.default});var RRe=I((v5,ORe)=>{"use strict";v5.__esModule=!0;var TRe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vGt=x7(),wV=Lo(vGt),gGt=$y(),ARe=Lo(gGt),yGt=nc(),_Gt=Lo(yGt),bGt=Xt(),Jn=Lo(bGt),xGt=Aw(),wGt=Lo(xGt),SGt=jOe(),IGt=Lo(SGt),EGt=Do(),SRe=Lo(EGt),CRe=Ve(),Tf=Lo(CRe),TGt=Ti(),AGt=Lo(TGt),CGt=xf(),MGt=Lo(CGt),PGt=aRe(),MRe=Lo(PGt),OGt=xV(),PRe=Lo(OGt),RGt=bRe(),qGt=Lo(RGt),NGt=R7(),IRe=Lo(NGt),kGt=wRe(),DGt=Lo(kGt),LGt=Pw(),zGt=Lo(LGt),FGt=Im(),SV=Lo(FGt);function Lo(e){return e&&e.__esModule?e:{default:e}}function jGt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ERe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function BGt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var VGt=new MRe.default,m5=function(e){BGt(t,e);function t(){var r,n,i;jGt(this,t);for(var o=arguments.length,u=Array(o),f=0;f<o;f++)u[f]=arguments[f];return i=(r=(n=ERe(this,e.call.apply(e,[this].concat(u))),n),UGt.call(n),r),ERe(n,i)}return t.prototype.omitProps=function(n,i){var o=Object.keys(n),u={};return o.map(function(f){Object.prototype.hasOwnProperty.call(i,f)||(u[f]=n[f])}),u},t.prototype.render=function(){var n=this.props,i=n.show,o=n.container,u=n.children,f=n.transition,h=n.backdrop,y=n.className,w=n.style,T=n.onExit,A=n.onExiting,q=n.onEnter,z=n.onEntering,F=n.onEntered,N=Tf.default.Children.only(u),L=this.omitProps(this.props,t.propTypes),B=i||f&&!this.state.exited;if(!B)return null;var Z=N.props,te=Z.role,ue=Z.tabIndex;return(te===void 0||ue===void 0)&&(N=(0,CRe.cloneElement)(N,{role:te===void 0?"document":te,tabIndex:ue==null?"-1":ue})),f&&(N=Tf.default.createElement(f,{appear:!0,unmountOnExit:!0,in:i,onExit:T,onExiting:A,onExited:this.handleHidden,onEnter:q,onEntering:z,onEntered:F},N)),Tf.default.createElement(PRe.default,{ref:this.setMountNode,container:o,onRendered:this.onPortalRendered},Tf.default.createElement("div",TRe({ref:this.setModalNodeRef,role:te||"dialog"},L,{style:w,className:y}),h&&this.renderBackdrop(),Tf.default.createElement(qGt.default,{ref:this.setDialogRef},N)))},t.prototype.UNSAFE_componentWillReceiveProps=function(n){n.show?this.setState({exited:!1}):n.transition||this.setState({exited:!0})},t.prototype.UNSAFE_componentWillUpdate=function(n){!this.props.show&&n.show&&this.checkForFocus()},t.prototype.componentDidMount=function(){this._isMounted=!0,this.props.show&&this.onShow()},t.prototype.componentDidUpdate=function(n){var i=this.props.transition;n.show&&!this.props.show&&!i?this.onHide():!n.show&&this.props.show&&this.onShow()},t.prototype.componentWillUnmount=function(){var n=this.props,i=n.show,o=n.transition;this._isMounted=!1,(i||o&&!this.state.exited)&&this.onHide()},t.prototype.autoFocus=function(){if(this.props.autoFocus){var n=this.getDialogElement(),i=(0,wV.default)((0,SV.default)(this));n&&!(0,ARe.default)(n,i)&&(this.lastFocus=i,n.hasAttribute("tabIndex")||((0,MGt.default)(!1,"The modal content node does not accept focus. For the benefit of assistive technologies, the tabIndex of the node is being set to \"-1\"."),n.setAttribute("tabIndex",-1)),n.focus())}},t.prototype.restoreLastFocus=function(){this.lastFocus&&this.lastFocus.focus&&(this.lastFocus.focus(),this.lastFocus=null)},t.prototype.getDialogElement=function(){return AGt.default.findDOMNode(this.dialog)},t.prototype.isTopModal=function(){return this.props.manager.isTopModal(this)},t}(Tf.default.Component);m5.propTypes=TRe({},PRe.default.propTypes,{show:Jn.default.bool,container:Jn.default.oneOfType([wGt.default,Jn.default.func]),onShow:Jn.default.func,onHide:Jn.default.func,backdrop:Jn.default.oneOfType([Jn.default.bool,Jn.default.oneOf(["static"])]),renderBackdrop:Jn.default.func,onEscapeKeyDown:Jn.default.func,onEscapeKeyUp:(0,IGt.default)(Jn.default.func,"Please use onEscapeKeyDown instead for consistency"),onBackdropClick:Jn.default.func,backdropStyle:Jn.default.object,backdropClassName:Jn.default.string,containerClassName:Jn.default.string,keyboard:Jn.default.bool,transition:SRe.default,backdropTransition:SRe.default,autoFocus:Jn.default.bool,enforceFocus:Jn.default.bool,restoreFocus:Jn.default.bool,onEnter:Jn.default.func,onEntering:Jn.default.func,onEntered:Jn.default.func,onExit:Jn.default.func,onExiting:Jn.default.func,onExited:Jn.default.func,manager:Jn.default.object.isRequired});m5.defaultProps={show:!1,backdrop:!0,keyboard:!0,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,onHide:function(){},manager:VGt,renderBackdrop:function(t){return Tf.default.createElement("div",t)}};var UGt=function(){var t=this;this.state={exited:!this.props.show},this.renderBackdrop=function(){var r=t.props,n=r.backdropStyle,i=r.backdropClassName,o=r.renderBackdrop,u=r.backdropTransition,f=function(w){return t.backdrop=w},h=o({ref:f,style:n,className:i,onClick:t.handleBackdropClick});return u&&(h=Tf.default.createElement(u,{appear:!0,in:t.props.show},h)),h},this.onPortalRendered=function(){t.autoFocus(),t.props.onShow&&t.props.onShow()},this.onShow=function(){var r=(0,SV.default)(t),n=(0,zGt.default)(t.props.container,r.body);t.props.manager.add(t,n,t.props.containerClassName),t._onDocumentKeydownListener=(0,IRe.default)(r,"keydown",t.handleDocumentKeyDown),t._onDocumentKeyupListener=(0,IRe.default)(r,"keyup",t.handleDocumentKeyUp),t._onFocusinListener=(0,DGt.default)(t.enforceFocus)},this.onHide=function(){t.props.manager.remove(t),t._onDocumentKeydownListener.remove(),t._onDocumentKeyupListener.remove(),t._onFocusinListener.remove(),t.props.restoreFocus&&t.restoreLastFocus()},this.setMountNode=function(r){t.mountNode=r&&r.getMountNode()},this.setModalNodeRef=function(r){t.modalNode=r},this.setDialogRef=function(r){t.dialog=r},this.handleHidden=function(){if(t.setState({exited:!0}),t.onHide(),t.props.onExited){var r;(r=t.props).onExited.apply(r,arguments)}},this.handleBackdropClick=function(r){r.target===r.currentTarget&&(t.props.onBackdropClick&&t.props.onBackdropClick(r),t.props.backdrop===!0&&t.props.onHide())},this.handleDocumentKeyDown=function(r){t.props.keyboard&&r.keyCode===27&&t.isTopModal()&&(t.props.onEscapeKeyDown&&t.props.onEscapeKeyDown(r),t.props.onHide())},this.handleDocumentKeyUp=function(r){t.props.keyboard&&r.keyCode===27&&t.isTopModal()&&t.props.onEscapeKeyUp&&t.props.onEscapeKeyUp(r)},this.checkForFocus=function(){_Gt.default&&(t.lastFocus=(0,wV.default)())},this.enforceFocus=function(){if(!(!t.props.enforceFocus||!t._isMounted||!t.isTopModal())){var r=t.getDialogElement(),n=(0,wV.default)((0,SV.default)(t));r&&!(0,ARe.default)(r,n)&&r.focus()}}};m5.Manager=MRe.default;v5.default=m5;ORe.exports=v5.default});var DV=I((w5,nqe)=>{"use strict";var kV=Li();w5.__esModule=!0;w5.default=fWt;var cWt=kV($y()),pWt=kV(Cw()),dWt=kV(wm());function fWt(e){var t=(0,dWt.default)(e),r=(0,pWt.default)(t),n=t&&t.documentElement,i={top:0,left:0,height:0,width:0};if(t)return(0,cWt.default)(n,e)&&(e.getBoundingClientRect!==void 0&&(i=e.getBoundingClientRect()),i={top:i.top+(r.pageYOffset||n.scrollTop)-(n.clientTop||0),left:i.left+(r.pageXOffset||n.scrollLeft)-(n.clientLeft||0),width:(i.width==null?e.offsetWidth:i.width)||0,height:(i.height==null?e.offsetHeight:i.height)||0}),i}nqe.exports=w5.default});var iqe=I((mPr,_p)=>{function LV(){return _p.exports=LV=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_p.exports.__esModule=!0,_p.exports.default=_p.exports,LV.apply(this,arguments)}_p.exports=LV,_p.exports.__esModule=!0,_p.exports.default=_p.exports});var sqe=I((S5,aqe)=>{"use strict";var oqe=Li();S5.__esModule=!0;S5.default=gWt;var hWt=oqe(wm()),mWt=oqe(CP());function vWt(e){return e.nodeName&&e.nodeName.toLowerCase()}function gWt(e){for(var t=(0,hWt.default)(e),r=e&&e.offsetParent;r&&vWt(e)!=="html"&&(0,mWt.default)(r,"position")==="static";)r=r.offsetParent;return r||t.documentElement}aqe.exports=S5.default});var zV=I((I5,lqe)=>{"use strict";var yWt=Li();I5.__esModule=!0;I5.default=bWt;var _Wt=yWt(Cw());function bWt(e,t){var r=(0,_Wt.default)(e);if(t===void 0)return r?"pageYOffset"in r?r.pageYOffset:r.document.documentElement.scrollTop:e.scrollTop;r?r.scrollTo("pageXOffset"in r?r.pageXOffset:r.document.documentElement.scrollLeft,t):e.scrollTop=t}lqe.exports=I5.default});var cqe=I((E5,uqe)=>{"use strict";var xWt=Li();E5.__esModule=!0;E5.default=SWt;var wWt=xWt(Cw());function SWt(e,t){var r=(0,wWt.default)(e);if(t===void 0)return r?"pageXOffset"in r?r.pageXOffset:r.document.documentElement.scrollLeft:e.scrollLeft;r?r.scrollTo(t,"pageYOffset"in r?r.pageYOffset:r.document.documentElement.scrollTop):e.scrollLeft=t}uqe.exports=E5.default});var fqe=I((T5,dqe)=>{"use strict";var e0=Li();T5.__esModule=!0;T5.default=MWt;var IWt=e0(iqe()),pqe=e0(DV()),EWt=e0(sqe()),TWt=e0(zV()),AWt=e0(cqe()),Nw=e0(CP());function CWt(e){return e.nodeName&&e.nodeName.toLowerCase()}function MWt(e,t){var r={top:0,left:0},n;return(0,Nw.default)(e,"position")==="fixed"?n=e.getBoundingClientRect():(t=t||(0,EWt.default)(e),n=(0,pqe.default)(e),CWt(t)!=="html"&&(r=(0,pqe.default)(t)),r.top+=parseInt((0,Nw.default)(t,"borderTopWidth"),10)-(0,TWt.default)(t)||0,r.left+=parseInt((0,Nw.default)(t,"borderLeftWidth"),10)-(0,AWt.default)(t)||0),(0,IWt.default)({},n,{top:n.top-r.top-(parseInt((0,Nw.default)(e,"marginTop"),10)||0),left:n.left-r.left-(parseInt((0,Nw.default)(e,"marginLeft"),10)||0)})}dqe.exports=T5.default});var vqe=I((C5,mqe)=>{"use strict";C5.__esModule=!0;C5.default=zWt;var PWt=DV(),jV=A5(PWt),OWt=fqe(),RWt=A5(OWt),qWt=zV(),FV=A5(qWt),NWt=Im(),kWt=A5(NWt);function A5(e){return e&&e.__esModule?e:{default:e}}function hqe(e){var t=void 0,r=void 0,n=void 0;if(e.tagName==="BODY")t=window.innerWidth,r=window.innerHeight,n=(0,FV.default)((0,kWt.default)(e).documentElement)||(0,FV.default)(e);else{var i=(0,jV.default)(e);t=i.width,r=i.height,n=(0,FV.default)(e)}return{width:t,height:r,scroll:n}}function DWt(e,t,r,n){var i=hqe(r),o=i.scroll,u=i.height,f=e-n-o,h=e+n-o+t;return f<0?-f:h>u?u-h:0}function LWt(e,t,r,n){var i=hqe(r),o=i.width,u=e-n,f=e+n+t;return u<0?-u:f>o?o-f:0}function zWt(e,t,r,n,i){var o=n.tagName==="BODY"?(0,jV.default)(r):(0,RWt.default)(r,n),u=(0,jV.default)(t),f=u.height,h=u.width,y=void 0,w=void 0,T=void 0,A=void 0;if(e==="left"||e==="right"){w=o.top+(o.height-f)/2,e==="left"?y=o.left-h:y=o.left+o.width;var q=DWt(w,f,n,i);w+=q,A=50*(1-2*q/f)+"%",T=void 0}else if(e==="top"||e==="bottom"){y=o.left+(o.width-h)/2,e==="top"?w=o.top-f:w=o.top+o.height;var z=LWt(y,h,n,i);y+=z,T=50*(1-2*z/h)+"%",A=void 0}else throw new Error("calcOverlayPosition(): No such placement of \""+e+"\" found.");return{positionLeft:y,positionTop:w,arrowOffsetLeft:T,arrowOffsetTop:A}}mqe.exports=C5.default});var Iqe=I((P5,Sqe)=>{"use strict";P5.__esModule=!0;var gqe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},FWt=$r(),jWt=Cf(FWt),BWt=Xt(),Tm=Cf(BWt),VWt=Aw(),yqe=Cf(VWt),wqe=Ve(),_qe=Cf(wqe),UWt=Ti(),bqe=Cf(UWt),$Wt=vqe(),HWt=Cf($Wt),GWt=Pw(),WWt=Cf(GWt),ZWt=Im(),KWt=Cf(ZWt);function Cf(e){return e&&e.__esModule?e:{default:e}}function xqe(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}function YWt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XWt(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function JWt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var M5=function(e){JWt(t,e);function t(r,n){YWt(this,t);var i=XWt(this,e.call(this,r,n));return i.getTarget=function(){var o=i.props.target,u=typeof o=="function"?o():o;return u&&bqe.default.findDOMNode(u)||null},i.maybeUpdatePosition=function(o){var u=i.getTarget();!i.props.shouldUpdatePosition&&u===i._lastTarget&&!o||i.updatePosition(u)},i.state={positionLeft:0,positionTop:0,arrowOffsetLeft:null,arrowOffsetTop:null},i._needsFlush=!1,i._lastTarget=null,i}return t.prototype.componentDidMount=function(){this.updatePosition(this.getTarget())},t.prototype.UNSAFE_componentWillReceiveProps=function(){this._needsFlush=!0},t.prototype.componentDidUpdate=function(n){this._needsFlush&&(this._needsFlush=!1,this.maybeUpdatePosition(this.props.placement!==n.placement))},t.prototype.render=function(){var n=this.props,i=n.children,o=n.className,u=xqe(n,["children","className"]),f=this.state,h=f.positionLeft,y=f.positionTop,w=xqe(f,["positionLeft","positionTop"]);delete u.target,delete u.container,delete u.containerPadding,delete u.shouldUpdatePosition;var T=_qe.default.Children.only(i);return(0,wqe.cloneElement)(T,gqe({},u,w,{positionLeft:h,positionTop:y,className:(0,jWt.default)(o,T.props.className),style:gqe({},T.props.style,{left:h,top:y})}))},t.prototype.updatePosition=function(n){if(this._lastTarget=n,!n){this.setState({positionLeft:0,positionTop:0,arrowOffsetLeft:null,arrowOffsetTop:null});return}var i=bqe.default.findDOMNode(this),o=(0,WWt.default)(this.props.container,(0,KWt.default)(this).body);this.setState((0,HWt.default)(this.props.placement,i,n,o,this.props.containerPadding))},t}(_qe.default.Component);M5.propTypes={target:Tm.default.oneOfType([yqe.default,Tm.default.func]),container:Tm.default.oneOfType([yqe.default,Tm.default.func]),containerPadding:Tm.default.number,placement:Tm.default.oneOf(["top","right","bottom","left"]),shouldUpdatePosition:Tm.default.bool};M5.displayName="Position";M5.defaultProps={containerPadding:0,placement:"right",shouldUpdatePosition:!1};P5.default=M5;Sqe.exports=P5.default});var Pqe=I((O5,Mqe)=>{"use strict";O5.__esModule=!0;var QWt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},eZt=Xt(),bp=t0(eZt),tZt=Do(),rZt=t0(tZt),nZt=Ve(),kw=t0(nZt),iZt=xV(),Eqe=t0(iZt),oZt=Iqe(),Tqe=t0(oZt),aZt=N7(),Aqe=t0(aZt);function t0(e){return e&&e.__esModule?e:{default:e}}function sZt(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}function lZt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uZt(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function cZt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Cqe=function(e){cZt(t,e);function t(r,n){lZt(this,t);var i=uZt(this,e.call(this,r,n));return i.handleHidden=function(){if(i.setState({exited:!0}),i.props.onExited){var o;(o=i.props).onExited.apply(o,arguments)}},i.state={exited:!r.show},i.onHiddenListener=i.handleHidden.bind(i),i}return t.prototype.UNSAFE_componentWillReceiveProps=function(n){n.show?this.setState({exited:!1}):n.transition||this.setState({exited:!0})},t.prototype.render=function(){var n=this.props,i=n.container,o=n.containerPadding,u=n.target,f=n.placement,h=n.shouldUpdatePosition,y=n.rootClose,w=n.children,T=n.transition,A=sZt(n,["container","containerPadding","target","placement","shouldUpdatePosition","rootClose","children","transition"]),q=A.show||T&&!this.state.exited;if(!q)return null;var z=w;if(z=kw.default.createElement(Tqe.default,{container:i,containerPadding:o,target:u,placement:f,shouldUpdatePosition:h},z),T){var F=A.onExit,N=A.onExiting,L=A.onEnter,B=A.onEntering,Z=A.onEntered;z=kw.default.createElement(T,{in:A.show,appear:!0,onExit:F,onExiting:N,onExited:this.onHiddenListener,onEnter:L,onEntering:B,onEntered:Z},z)}return y&&(z=kw.default.createElement(Aqe.default,{onRootClose:A.onHide,event:A.rootCloseEvent},z)),kw.default.createElement(Eqe.default,{container:i},z)},t}(kw.default.Component);Cqe.propTypes=QWt({},Eqe.default.propTypes,Tqe.default.propTypes,{show:bp.default.bool,rootClose:bp.default.bool,rootCloseEvent:Aqe.default.propTypes.event,onHide:function(t){var r=bp.default.func;t.rootClose&&(r=r.isRequired);for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return r.apply(void 0,[t].concat(i))},transition:rZt.default,onEnter:bp.default.func,onEntering:bp.default.func,onEntered:bp.default.func,onExit:bp.default.func,onExiting:bp.default.func,onExited:bp.default.func});O5.default=Cqe;Mqe.exports=O5.default});var ONe=I((WRr,PNe)=>{"use strict";PNe.exports=e=>encodeURIComponent(e).replace(/[!'()*]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`)});var DNe=I((ZRr,kNe)=>{"use strict";var NNe="%[a-f0-9]{2}",RNe=new RegExp("("+NNe+")|([^%]+?)","gi"),qNe=new RegExp("("+NNe+")+","gi");function dU(e,t){try{return[decodeURIComponent(e.join(""))]}catch(i){}if(e.length===1)return e;t=t||1;var r=e.slice(0,t),n=e.slice(t);return Array.prototype.concat.call([],dU(r),dU(n))}function qKt(e){try{return decodeURIComponent(e)}catch(n){for(var t=e.match(RNe)||[],r=1;r<t.length;r++)e=dU(t,r).join(""),t=e.match(RNe)||[];return e}}function NKt(e){for(var t={"%FE%FF":"\uFFFD\uFFFD","%FF%FE":"\uFFFD\uFFFD"},r=qNe.exec(e);r;){try{t[r[0]]=decodeURIComponent(r[0])}catch(f){var n=qKt(r[0]);n!==r[0]&&(t[r[0]]=n)}r=qNe.exec(e)}t["%C2"]="\uFFFD";for(var i=Object.keys(t),o=0;o<i.length;o++){var u=i[o];e=e.replace(new RegExp(u,"g"),t[u])}return e}kNe.exports=function(e){if(typeof e!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return NKt(e)}}});var zNe=I((KRr,LNe)=>{"use strict";LNe.exports=(e,t)=>{if(!(typeof e=="string"&&typeof t=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(t==="")return[e];let r=e.indexOf(t);return r===-1?[e]:[e.slice(0,r),e.slice(r+t.length)]}});var jNe=I((YRr,FNe)=>{"use strict";FNe.exports=function(e,t){for(var r={},n=Object.keys(e),i=Array.isArray(t),o=0;o<n.length;o++){var u=n[o],f=e[u];(i?t.indexOf(u)!==-1:t(u,f,e))&&(r[u]=f)}return r}});var ZNe=I(gs=>{"use strict";var kKt=ONe(),DKt=DNe(),VNe=zNe(),LKt=jNe(),zKt=e=>e==null,fU=Symbol("encodeFragmentIdentifier");function FKt(e){switch(e.arrayFormat){case"index":return t=>(r,n)=>{let i=r.length;return n===void 0||e.skipNull&&n===null||e.skipEmptyString&&n===""?r:n===null?[...r,[zi(t,e),"[",i,"]"].join("")]:[...r,[zi(t,e),"[",zi(i,e),"]=",zi(n,e)].join("")]};case"bracket":return t=>(r,n)=>n===void 0||e.skipNull&&n===null||e.skipEmptyString&&n===""?r:n===null?[...r,[zi(t,e),"[]"].join("")]:[...r,[zi(t,e),"[]=",zi(n,e)].join("")];case"colon-list-separator":return t=>(r,n)=>n===void 0||e.skipNull&&n===null||e.skipEmptyString&&n===""?r:n===null?[...r,[zi(t,e),":list="].join("")]:[...r,[zi(t,e),":list=",zi(n,e)].join("")];case"comma":case"separator":case"bracket-separator":{let t=e.arrayFormat==="bracket-separator"?"[]=":"=";return r=>(n,i)=>i===void 0||e.skipNull&&i===null||e.skipEmptyString&&i===""?n:(i=i===null?"":i,n.length===0?[[zi(r,e),t,zi(i,e)].join("")]:[[n,zi(i,e)].join(e.arrayFormatSeparator)])}default:return t=>(r,n)=>n===void 0||e.skipNull&&n===null||e.skipEmptyString&&n===""?r:n===null?[...r,zi(t,e)]:[...r,[zi(t,e),"=",zi(n,e)].join("")];}}function jKt(e){let t;switch(e.arrayFormat){case"index":return(r,n,i)=>{if(t=/\[(\d*)\]$/.exec(r),r=r.replace(/\[\d*\]$/,""),!t){i[r]=n;return}i[r]===void 0&&(i[r]={}),i[r][t[1]]=n};case"bracket":return(r,n,i)=>{if(t=/(\[\])$/.exec(r),r=r.replace(/\[\]$/,""),!t){i[r]=n;return}if(i[r]===void 0){i[r]=[n];return}i[r]=[].concat(i[r],n)};case"colon-list-separator":return(r,n,i)=>{if(t=/(:list)$/.exec(r),r=r.replace(/:list$/,""),!t){i[r]=n;return}if(i[r]===void 0){i[r]=[n];return}i[r]=[].concat(i[r],n)};case"comma":case"separator":return(r,n,i)=>{let o=typeof n=="string"&&n.includes(e.arrayFormatSeparator),u=typeof n=="string"&&!o&&Sp(n,e).includes(e.arrayFormatSeparator);n=u?Sp(n,e):n;let f=o||u?n.split(e.arrayFormatSeparator).map(h=>Sp(h,e)):n===null?n:Sp(n,e);i[r]=f};case"bracket-separator":return(r,n,i)=>{let o=/(\[\])$/.test(r);if(r=r.replace(/\[\]$/,""),!o){i[r]=n&&Sp(n,e);return}let u=n===null?[]:n.split(e.arrayFormatSeparator).map(f=>Sp(f,e));if(i[r]===void 0){i[r]=u;return}i[r]=[].concat(i[r],u)};default:return(r,n,i)=>{if(i[r]===void 0){i[r]=n;return}i[r]=[].concat(i[r],n)};}}function UNe(e){if(typeof e!="string"||e.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function zi(e,t){return t.encode?t.strict?kKt(e):encodeURIComponent(e):e}function Sp(e,t){return t.decode?DKt(e):e}function $Ne(e){return Array.isArray(e)?e.sort():typeof e=="object"?$Ne(Object.keys(e)).sort((t,r)=>Number(t)-Number(r)).map(t=>e[t]):e}function HNe(e){let t=e.indexOf("#");return t!==-1&&(e=e.slice(0,t)),e}function BKt(e){let t="",r=e.indexOf("#");return r!==-1&&(t=e.slice(r)),t}function GNe(e){e=HNe(e);let t=e.indexOf("?");return t===-1?"":e.slice(t+1)}function BNe(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&typeof e=="string"&&e.trim()!==""?e=Number(e):t.parseBooleans&&e!==null&&(e.toLowerCase()==="true"||e.toLowerCase()==="false")&&(e=e.toLowerCase()==="true"),e}function WNe(e,t){t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t),UNe(t.arrayFormatSeparator);let r=jKt(t),n=Object.create(null);if(typeof e!="string"||(e=e.trim().replace(/^[?#&]/,""),!e))return n;for(let i of e.split("&")){if(i==="")continue;let[o,u]=VNe(t.decode?i.replace(/\+/g," "):i,"=");u=u===void 0?null:["comma","separator","bracket-separator"].includes(t.arrayFormat)?u:Sp(u,t),r(Sp(o,t),u,n)}for(let i of Object.keys(n)){let o=n[i];if(typeof o=="object"&&o!==null)for(let u of Object.keys(o))o[u]=BNe(o[u],t);else n[i]=BNe(o,t)}return t.sort===!1?n:(t.sort===!0?Object.keys(n).sort():Object.keys(n).sort(t.sort)).reduce((i,o)=>{let u=n[o];return u&&typeof u=="object"&&!Array.isArray(u)?i[o]=$Ne(u):i[o]=u,i},Object.create(null))}gs.extract=GNe;gs.parse=WNe;gs.stringify=(e,t)=>{if(!e)return"";t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t),UNe(t.arrayFormatSeparator);let r=u=>t.skipNull&&zKt(e[u])||t.skipEmptyString&&e[u]==="",n=FKt(t),i={};for(let u of Object.keys(e))r(u)||(i[u]=e[u]);let o=Object.keys(i);return t.sort!==!1&&o.sort(t.sort),o.map(u=>{let f=e[u];return f===void 0?"":f===null?zi(u,t):Array.isArray(f)?f.length===0&&t.arrayFormat==="bracket-separator"?zi(u,t)+"[]":f.reduce(n(u),[]).join("&"):zi(u,t)+"="+zi(f,t)}).filter(u=>u.length>0).join("&")};gs.parseUrl=(e,t)=>{t=Object.assign({decode:!0},t);let[r,n]=VNe(e,"#");return Object.assign({url:r.split("?")[0]||"",query:WNe(GNe(e),t)},t&&t.parseFragmentIdentifier&&n?{fragmentIdentifier:Sp(n,t)}:{})};gs.stringifyUrl=(e,t)=>{t=Object.assign({encode:!0,strict:!0,[fU]:!0},t);let r=HNe(e.url).split("?")[0]||"",n=gs.extract(e.url),i=gs.parse(n,{sort:!1}),o=Object.assign(i,e.query),u=gs.stringify(o,t);u&&(u=`?${u}`);let f=BKt(e.url);return e.fragmentIdentifier&&(f=`#${t[fU]?zi(e.fragmentIdentifier,t):e.fragmentIdentifier}`),`${r}${u}${f}`};gs.pick=(e,t,r)=>{r=Object.assign({parseFragmentIdentifier:!0,[fU]:!1},r);let{url:n,query:i,fragmentIdentifier:o}=gs.parseUrl(e,r);return gs.stringifyUrl({url:n,query:LKt(i,t),fragmentIdentifier:o},r)};gs.exclude=(e,t,r)=>{let n=Array.isArray(t)?i=>!t.includes(i):(i,o)=>!t(i,o);return gs.pick(e,n,r)}});var wke=I((YNr,Ip)=>{function gU(e,t){return Ip.exports=gU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Ip.exports.__esModule=!0,Ip.exports.default=Ip.exports,gU(e,t)}Ip.exports=gU,Ip.exports.__esModule=!0,Ip.exports.default=Ip.exports});var yU=I((XNr,tS)=>{var pYt=wke();function dYt(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,pYt(e,t)}tS.exports=dYt,tS.exports.__esModule=!0,tS.exports.default=tS.exports});var bU=I(_U=>{"use strict";Object.defineProperty(_U,"__esModule",{value:!0});function fYt(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function hYt(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t}var mYt=function(){function e(r){this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.before=null}var t=e.prototype;return t.insert=function(n){if(this.ctr%(this.isSpeedy?65e3:1)===0){var i=hYt(this),o;this.tags.length===0?o=this.before:o=this.tags[this.tags.length-1].nextSibling,this.container.insertBefore(i,o),this.tags.push(i)}var u=this.tags[this.tags.length-1];if(this.isSpeedy){var f=fYt(u);try{var h=n.charCodeAt(1)===105&&n.charCodeAt(0)===64;f.insertRule(n,h?0:f.cssRules.length)}catch(y){}}else u.appendChild(document.createTextNode(n));this.ctr++},t.flush=function(){this.tags.forEach(function(n){return n.parentNode.removeChild(n)}),this.tags=[],this.ctr=0},e}();_U.StyleSheet=mYt});var Ske=I(xU=>{"use strict";Object.defineProperty(xU,"__esModule",{value:!0});function vYt(e){function t(Fe,We,it,Pe,he){for(var Re=0,Te=0,Ke=0,Ge=0,wt,St,Ot=0,xe=0,pt,Ut=pt=wt=0,ht=0,$t=0,lr=0,Bt=0,ur=it.length,Fr=ur-1,Dr,or="",Kr="",nt="",ei="",pn;ht<ur;){if(St=it.charCodeAt(ht),ht===Fr&&Te+Ge+Ke+Re!==0&&(Te!==0&&(St=Te===47?10:47),Ge=Ke=Re=0,ur++,Fr++),Te+Ge+Ke+Re===0){if(ht===Fr&&(0<$t&&(or=or.replace(A,"")),0<or.trim().length)){switch(St){case 32:case 9:case 59:case 13:case 10:break;default:or+=it.charAt(ht);}St=59}switch(St){case 123:for(or=or.trim(),wt=or.charCodeAt(0),pt=1,Bt=++ht;ht<ur;){switch(St=it.charCodeAt(ht)){case 123:pt++;break;case 125:pt--;break;case 47:switch(St=it.charCodeAt(ht+1)){case 42:case 47:e:{for(Ut=ht+1;Ut<Fr;++Ut)switch(it.charCodeAt(Ut)){case 47:if(St===42&&it.charCodeAt(Ut-1)===42&&ht+2!==Ut){ht=Ut+1;break e}break;case 10:if(St===47){ht=Ut+1;break e}}ht=Ut}}break;case 91:St++;case 40:St++;case 34:case 39:for(;ht++<Fr&&it.charCodeAt(ht)!==St;);}if(pt===0)break;ht++}switch(pt=it.substring(Bt,ht),wt===0&&(wt=(or=or.replace(T,"").trim()).charCodeAt(0)),wt){case 64:switch(0<$t&&(or=or.replace(A,"")),St=or.charCodeAt(1),St){case 100:case 109:case 115:case 45:$t=We;break;default:$t=ze;}if(pt=t(We,$t,pt,St,he+1),Bt=pt.length,0<je&&($t=r(ze,or,lr),pn=f(3,pt,$t,We,$e,Xe,Bt,St,he,Pe),or=$t.join(""),pn!==void 0&&(Bt=(pt=pn.trim()).length)===0&&(St=0,pt="")),0<Bt)switch(St){case 115:or=or.replace(ce,u);case 100:case 109:case 45:pt=or+"{"+pt+"}";break;case 107:or=or.replace(B,"$1 $2"),pt=or+"{"+pt+"}",pt=ot===1||ot===2&&o("@"+pt,3)?"@-webkit-"+pt+"@"+pt:"@"+pt;break;default:pt=or+pt,Pe===112&&(pt=(Kr+=pt,""));}else pt="";break;default:pt=t(We,r(We,or,lr),pt,Pe,he+1);}nt+=pt,pt=lr=$t=Ut=wt=0,or="",St=it.charCodeAt(++ht);break;case 125:case 59:if(or=(0<$t?or.replace(A,""):or).trim(),1<(Bt=or.length))switch(Ut===0&&(wt=or.charCodeAt(0),wt===45||96<wt&&123>wt)&&(Bt=(or=or.replace(" ",":")).length),0<je&&(pn=f(1,or,We,Fe,$e,Xe,Kr.length,Pe,he,Pe))!==void 0&&(Bt=(or=pn.trim()).length)===0&&(or="\0\0"),wt=or.charCodeAt(0),St=or.charCodeAt(1),wt){case 0:break;case 64:if(St===105||St===99){ei+=or+it.charAt(ht);break}default:or.charCodeAt(Bt-1)!==58&&(Kr+=i(or,wt,St,or.charCodeAt(2)));}lr=$t=Ut=wt=0,or="",St=it.charCodeAt(++ht);}}switch(St){case 13:case 10:Te===47?Te=0:1+wt===0&&Pe!==107&&0<or.length&&($t=1,or+="\0"),0<je*ut&&f(0,or,We,Fe,$e,Xe,Kr.length,Pe,he,Pe),Xe=1,$e++;break;case 59:case 125:if(Te+Ge+Ke+Re===0){Xe++;break}default:switch(Xe++,Dr=it.charAt(ht),St){case 9:case 32:if(Ge+Re+Te===0)switch(Ot){case 44:case 58:case 9:case 32:Dr="";break;default:St!==32&&(Dr=" ");}break;case 0:Dr="\\0";break;case 12:Dr="\\f";break;case 11:Dr="\\v";break;case 38:Ge+Te+Re===0&&($t=lr=1,Dr="\f"+Dr);break;case 108:if(Ge+Te+Re+Qe===0&&0<Ut)switch(ht-Ut){case 2:Ot===112&&it.charCodeAt(ht-3)===58&&(Qe=Ot);case 8:xe===111&&(Qe=xe);}break;case 58:Ge+Te+Re===0&&(Ut=ht);break;case 44:Te+Ke+Ge+Re===0&&($t=1,Dr+="\r");break;case 34:case 39:Te===0&&(Ge=Ge===St?0:Ge===0?St:Ge);break;case 91:Ge+Te+Ke===0&&Re++;break;case 93:Ge+Te+Ke===0&&Re--;break;case 41:Ge+Te+Re===0&&Ke--;break;case 40:if(Ge+Te+Re===0){if(wt===0)switch(2*Ot+3*xe){case 533:break;default:wt=1;}Ke++}break;case 64:Te+Ke+Ge+Re+Ut+pt===0&&(pt=1);break;case 42:case 47:if(!(0<Ge+Re+Ke))switch(Te){case 0:switch(2*St+3*it.charCodeAt(ht+1)){case 235:Te=47;break;case 220:Bt=ht,Te=42;}break;case 42:St===47&&Ot===42&&Bt+2!==ht&&(it.charCodeAt(Bt+2)===33&&(Kr+=it.substring(Bt,ht+1)),Dr="",Te=0);}}Te===0&&(or+=Dr);}xe=Ot,Ot=St,ht++}if(Bt=Kr.length,0<Bt){if($t=We,0<je&&(pn=f(2,Kr,$t,Fe,$e,Xe,Bt,Pe,he,Pe),pn!==void 0&&(Kr=pn).length===0))return ei+Kr+nt;if(Kr=$t.join(",")+"{"+Kr+"}",ot*Qe!==0){switch(ot!==2||o(Kr,2)||(Qe=0),Qe){case 111:Kr=Kr.replace(te,":-moz-$1")+Kr;break;case 112:Kr=Kr.replace(Z,"::-webkit-input-$1")+Kr.replace(Z,"::-moz-$1")+Kr.replace(Z,":-ms-input-$1")+Kr;}Qe=0}}return ei+Kr+nt}function r(Fe,We,it){var Pe=We.trim().split(N);We=Pe;var he=Pe.length,Re=Fe.length;switch(Re){case 0:case 1:var Te=0;for(Fe=Re===0?"":Fe[0]+" ";Te<he;++Te)We[Te]=n(Fe,We[Te],it).trim();break;default:var Ke=Te=0;for(We=[];Te<he;++Te)for(var Ge=0;Ge<Re;++Ge)We[Ke++]=n(Fe[Ge]+" ",Pe[Te],it).trim();}return We}function n(Fe,We,it){var Pe=We.charCodeAt(0);switch(33>Pe&&(Pe=(We=We.trim()).charCodeAt(0)),Pe){case 38:return We.replace(L,"$1"+Fe.trim());case 58:return Fe.trim()+We.replace(L,"$1"+Fe.trim());default:if(0<1*it&&0<We.indexOf("\f"))return We.replace(L,(Fe.charCodeAt(0)===58?"":"$1")+Fe.trim());}return Fe+We}function i(Fe,We,it,Pe){var he=Fe+";",Re=2*We+3*it+4*Pe;if(Re===944){Fe=he.indexOf(":",9)+1;var Te=he.substring(Fe,he.length-1).trim();return Te=he.substring(0,Fe).trim()+Te+";",ot===1||ot===2&&o(Te,1)?"-webkit-"+Te+Te:Te}if(ot===0||ot===2&&!o(he,1))return he;switch(Re){case 1015:return he.charCodeAt(10)===97?"-webkit-"+he+he:he;case 951:return he.charCodeAt(3)===116?"-webkit-"+he+he:he;case 963:return he.charCodeAt(5)===110?"-webkit-"+he+he:he;case 1009:if(he.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+he+he;case 978:return"-webkit-"+he+"-moz-"+he+he;case 1019:case 983:return"-webkit-"+he+"-moz-"+he+"-ms-"+he+he;case 883:if(he.charCodeAt(8)===45)return"-webkit-"+he+he;if(0<he.indexOf("image-set(",11))return he.replace(He,"$1-webkit-$2")+he;break;case 932:if(he.charCodeAt(4)===45)switch(he.charCodeAt(5)){case 103:return"-webkit-box-"+he.replace("-grow","")+"-webkit-"+he+"-ms-"+he.replace("grow","positive")+he;case 115:return"-webkit-"+he+"-ms-"+he.replace("shrink","negative")+he;case 98:return"-webkit-"+he+"-ms-"+he.replace("basis","preferred-size")+he;}return"-webkit-"+he+"-ms-"+he+he;case 964:return"-webkit-"+he+"-ms-flex-"+he+he;case 1023:if(he.charCodeAt(8)!==99)break;return Te=he.substring(he.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+Te+"-webkit-"+he+"-ms-flex-pack"+Te+he;case 1005:return z.test(he)?he.replace(q,":-webkit-")+he.replace(q,":-moz-")+he:he;case 1e3:switch(Te=he.substring(13).trim(),We=Te.indexOf("-")+1,Te.charCodeAt(0)+Te.charCodeAt(We)){case 226:Te=he.replace(ue,"tb");break;case 232:Te=he.replace(ue,"tb-rl");break;case 220:Te=he.replace(ue,"lr");break;default:return he;}return"-webkit-"+he+"-ms-"+Te+he;case 1017:if(he.indexOf("sticky",9)===-1)break;case 975:switch(We=(he=Fe).length-10,Te=(he.charCodeAt(We)===33?he.substring(0,We):he).substring(Fe.indexOf(":",7)+1).trim(),Re=Te.charCodeAt(0)+(Te.charCodeAt(7)|0)){case 203:if(111>Te.charCodeAt(8))break;case 115:he=he.replace(Te,"-webkit-"+Te)+";"+he;break;case 207:case 102:he=he.replace(Te,"-webkit-"+(102<Re?"inline-":"")+"box")+";"+he.replace(Te,"-webkit-"+Te)+";"+he.replace(Te,"-ms-"+Te+"box")+";"+he;}return he+";";case 938:if(he.charCodeAt(5)===45)switch(he.charCodeAt(6)){case 105:return Te=he.replace("-items",""),"-webkit-"+he+"-webkit-box-"+Te+"-ms-flex-"+Te+he;case 115:return"-webkit-"+he+"-ms-flex-item-"+he.replace(Ne,"")+he;default:return"-webkit-"+he+"-ms-flex-line-pack"+he.replace("align-content","").replace(Ne,"")+he;}break;case 973:case 989:if(he.charCodeAt(3)!==45||he.charCodeAt(4)===122)break;case 931:case 953:if(Be.test(Fe)===!0)return(Te=Fe.substring(Fe.indexOf(":")+1)).charCodeAt(0)===115?i(Fe.replace("stretch","fill-available"),We,it,Pe).replace(":fill-available",":stretch"):he.replace(Te,"-webkit-"+Te)+he.replace(Te,"-moz-"+Te.replace("fill-",""))+he;break;case 962:if(he="-webkit-"+he+(he.charCodeAt(5)===102?"-ms-"+he:"")+he,it+Pe===211&&he.charCodeAt(13)===105&&0<he.indexOf("transform",10))return he.substring(0,he.indexOf(";",27)+1).replace(F,"$1-webkit-$2")+he;}return he}function o(Fe,We){var it=Fe.indexOf(We===1?":":"{"),Pe=Fe.substring(0,We!==3?it:10);return it=Fe.substring(it+1,Fe.length-1),lt(We!==2?Pe:Pe.replace(Se,"$1"),it,We)}function u(Fe,We){var it=i(We,We.charCodeAt(0),We.charCodeAt(1),We.charCodeAt(2));return it!==We+";"?it.replace(ye," or ($1)").substring(4):"("+We+")"}function f(Fe,We,it,Pe,he,Re,Te,Ke,Ge,wt){for(var St=0,Ot=We,xe;St<je;++St)switch(xe=ke[St].call(w,Fe,Ot,it,Pe,he,Re,Te,Ke,Ge,wt)){case void 0:case!1:case!0:case null:break;default:Ot=xe;}if(Ot!==We)return Ot}function h(Fe){switch(Fe){case void 0:case null:je=ke.length=0;break;default:if(typeof Fe=="function")ke[je++]=Fe;else if(typeof Fe=="object")for(var We=0,it=Fe.length;We<it;++We)h(Fe[We]);else ut=!!Fe|0;}return h}function y(Fe){return Fe=Fe.prefix,Fe!==void 0&&(lt=null,Fe?typeof Fe!="function"?ot=1:(ot=2,lt=Fe):ot=0),y}function w(Fe,We){var it=Fe;if(33>it.charCodeAt(0)&&(it=it.trim()),vt=it,it=[vt],0<je){var Pe=f(-1,We,it,it,$e,Xe,0,0,0,0);Pe!==void 0&&typeof Pe=="string"&&(We=Pe)}var he=t(ze,it,We,0,0);return 0<je&&(Pe=f(-2,he,it,it,$e,Xe,he.length,0,0,0),Pe!==void 0&&(he=Pe)),vt="",Qe=0,Xe=$e=1,he}var T=/^\0+/g,A=/[\0\r\f]/g,q=/: */g,z=/zoo|gra/,F=/([,: ])(transform)/g,N=/,\r+?/g,L=/([\t\r\n ])*\f?&/g,B=/@(k\w+)\s*(\S*)\s*/,Z=/::(place)/g,te=/:(read-only)/g,ue=/[svh]\w+-[tblr]{2}/,ce=/\(\s*(.*)\s*\)/g,ye=/([\s\S]*?);/g,Ne=/-self|flex-/g,Se=/[^]*?(:[rp][el]a[\w-]+)[^]*/,Be=/stretch|:\s*\w+\-(?:conte|avail)/,He=/([^-])(image-set\()/,Xe=1,$e=1,Qe=0,ot=1,ze=[],ke=[],je=0,lt=null,ut=0,vt="";return w.use=h,w.set=y,e!==void 0&&y(e),w}xU.default=vYt});var Ike=I(wU=>{"use strict";Object.defineProperty(wU,"__esModule",{value:!0});var gYt=function(t){var r=new WeakMap;return function(n){if(r.has(n))return r.get(n);var i=t(n);return r.set(n,i),i}};wU.default=gYt});var EU=I(IU=>{"use strict";Object.defineProperty(IU,"__esModule",{value:!0});function yYt(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var _Yt=bU(),bYt=yYt(Ske());Ike();var SU="/*|*/",xYt=SU+"}";function wYt(e){e&&oO.current.insert(e+"}")}var oO={current:null},SYt=function(t,r,n,i,o,u,f,h,y,w){switch(t){case 1:{switch(r.charCodeAt(0)){case 64:return oO.current.insert(r+";"),"";case 108:if(r.charCodeAt(2)===98)return"";}break}case 2:{if(h===0)return r+SU;break}case 3:switch(h){case 102:case 112:return oO.current.insert(n[0]+r),"";default:return r+(w===0?SU:"");}case-2:r.split(xYt).forEach(wYt);}},IYt=function(t){t===void 0&&(t={});var r=t.key||"css",n;t.prefix!==void 0&&(n={prefix:t.prefix});var i=new bYt(n),o={},u;{u=t.container||document.head;var f=document.querySelectorAll("style[data-emotion-"+r+"]");Array.prototype.forEach.call(f,function(A){var q=A.getAttribute("data-emotion-"+r);q.split(" ").forEach(function(z){o[z]=!0}),A.parentNode!==u&&u.appendChild(A)})}var h;if(i.use(t.stylisPlugins)(SYt),h=function(q,z,F,N){var L=z.name;if(oO.current=F,0)var B;i(q,z.styles),N&&(T.inserted[L]=!0)},0)var y,w;var T={key:r,sheet:new _Yt.StyleSheet({key:r,container:u,nonce:t.nonce,speedy:t.speedy}),nonce:t.nonce,inserted:o,registered:{},insert:h};return T};IU.default=IYt});var TU=I(aO=>{"use strict";Object.defineProperty(aO,"__esModule",{value:!0});var EYt=!0;function TYt(e,t,r){var n="";return r.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]):n+=i+" "}),n}var AYt=function(t,r,n){var i=t.key+"-"+r.name;if((n===!1||EYt===!1&&t.compat!==void 0)&&t.registered[i]===void 0&&(t.registered[i]=r.styles),t.inserted[r.name]===void 0){var o=r;do{var u=t.insert("."+i,o,t.sheet,!0);o=o.next}while(o!==void 0)}};aO.getRegisteredStyles=TYt;aO.insertStyles=AYt});var Eke=I(AU=>{"use strict";Object.defineProperty(AU,"__esModule",{value:!0});function CYt(e){for(var t=0,r,n=0,i=e.length;i>=4;++n,i-=4)r=e.charCodeAt(n)&255|(e.charCodeAt(++n)&255)<<8|(e.charCodeAt(++n)&255)<<16|(e.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,t=(r&65535)*1540483477+((r>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(n+2)&255)<<16;case 2:t^=(e.charCodeAt(n+1)&255)<<8;case 1:t^=e.charCodeAt(n)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16);}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}AU.default=CYt});var Tke=I(CU=>{"use strict";Object.defineProperty(CU,"__esModule",{value:!0});var MYt={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};CU.default=MYt});var Ake=I(MU=>{"use strict";Object.defineProperty(MU,"__esModule",{value:!0});function PYt(e){var t={};return function(r){return t[r]===void 0&&(t[r]=e(r)),t[r]}}MU.default=PYt});var sO=I(RU=>{"use strict";Object.defineProperty(RU,"__esModule",{value:!0});function OU(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var OYt=OU(Eke()),RYt=OU(Tke()),qYt=OU(Ake()),NYt=/[A-Z]|^ms/g,kYt=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Oke=function(t){return t.charCodeAt(1)===45},Cke=function(t){return t!=null&&typeof t!="boolean"},PU=qYt(function(e){return Oke(e)?e:e.replace(NYt,"-$&").toLowerCase()}),Mke=function(t,r){switch(t){case"animation":case"animationName":if(typeof r=="string")return r.replace(kYt,function(n,i,o){return uc={name:i,styles:o,next:uc},i});}return RYt[t]!==1&&!Oke(t)&&typeof r=="number"&&r!==0?r+"px":r};function rS(e,t,r,n){if(r==null)return"";if(r.__emotion_styles!==void 0)return r;switch(typeof r){case"boolean":return"";case"object":{if(r.anim===1)return uc={name:r.name,styles:r.styles,next:uc},r.name;if(r.styles!==void 0){var i=r.next;if(i!==void 0)for(;i!==void 0;)uc={name:i.name,styles:i.styles,next:uc},i=i.next;var o=r.styles+";";return o}return DYt(e,t,r)}case"function":{if(e!==void 0){var u=uc,f=r(e);return uc=u,rS(e,t,f,n)}break}case"string":if(0)var h,y;break;}if(t==null)return r;var w=t[r];return w!==void 0&&!n?w:r}function DYt(e,t,r){var n="";if(Array.isArray(r))for(var i=0;i<r.length;i++)n+=rS(e,t,r[i],!1);else for(var o in r){var u=r[o];if(typeof u!="object")t!=null&&t[u]!==void 0?n+=o+"{"+t[u]+"}":Cke(u)&&(n+=PU(o)+":"+Mke(o,u)+";");else if(Array.isArray(u)&&typeof u[0]=="string"&&(t==null||t[u[0]]===void 0))for(var f=0;f<u.length;f++)Cke(u[f])&&(n+=PU(o)+":"+Mke(o,u[f])+";");else{var h=rS(e,t,u,!1);switch(o){case"animation":case"animationName":{n+=PU(o)+":"+h+";";break}default:n+=o+"{"+h+"}";}}}return n}var Pke=/label:\s*([^\s;\n{]+)\s*;/g,uc,LYt=function(t,r,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var i=!0,o="";uc=void 0;var u=t[0];u==null||u.raw===void 0?(i=!1,o+=rS(n,r,u,!1)):o+=u[0];for(var f=1;f<t.length;f++)o+=rS(n,r,t[f],o.charCodeAt(o.length-1)===46),i&&(o+=u[f]);var h;Pke.lastIndex=0;for(var y="",w;(w=Pke.exec(o))!==null;)y+="-"+w[1];var T=OYt(o)+y;return{name:T,styles:o,next:uc}};RU.serializeStyles=LYt});var Lke=I(Pm=>{"use strict";yU();var Ep=Ve(),zYt=EU(),Rke=TU(),FYt=sO();function jYt(e){return e&&e.__esModule?e:{default:e}}var BYt=jYt(zYt),NU=Object.prototype.hasOwnProperty,Nke=Ep.createContext(typeof HTMLElement!="undefined"?BYt.default():null),kke=Ep.createContext({}),VYt=Nke.Provider,Dke=function(t){var r=function(i,o){return Ep.createElement(Nke.Consumer,null,function(u){return t(i,u,o)})};return Ep.forwardRef(r)},qU="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",UYt=function(t,r){var n={};for(var i in r)NU.call(r,i)&&(n[i]=r[i]);if(n[qU]=t,0){var o;if(o.stack)var u}return n},$Yt=function(){return null},qke=function(t,r,n,i){var o=n===null?r.css:r.css(n);typeof o=="string"&&t.registered[o]!==void 0&&(o=t.registered[o]);var u=r[qU],f=[o],h="";typeof r.className=="string"?h=Rke.getRegisteredStyles(t.registered,f,r.className):r.className!=null&&(h=r.className+" ");var y=FYt.serializeStyles(f);if(0)var w;var T=Rke.insertStyles(t,y,typeof u=="string");h+=t.key+"-"+y.name;var A={};for(var q in r)NU.call(r,q)&&q!=="css"&&q!==qU&&(A[q]=r[q]);A.ref=i,A.className=h;var z=Ep.createElement(u,A),F=Ep.createElement($Yt,null);return Ep.createElement(Ep.Fragment,null,F,z)},HYt=Dke(function(e,t,r){return typeof e.css=="function"?Ep.createElement(kke.Consumer,null,function(n){return qke(t,e,n,r)}):qke(t,e,null,r)});Pm.CacheProvider=VYt;Pm.Emotion=HYt;Pm.ThemeContext=kke;Pm.createEmotionProps=UYt;Pm.hasOwnProperty=NU;Pm.withEmotionCache=Dke});var zke=I(kU=>{"use strict";Object.defineProperty(kU,"__esModule",{value:!0});var GYt=sO();function WYt(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return GYt.serializeStyles(t)}kU.default=WYt});var Uke=I(du=>{"use strict";Object.defineProperty(du,"__esModule",{value:!0});var ZYt=yU(),cc=Ve();EU();var pc=Lke(),LU=TU(),DU=sO(),KYt=bU(),YYt=zke();function jke(e){return e&&e.__esModule?e:{default:e}}var XYt=jke(ZYt),Bke=jke(YYt),Vke=function(t,r){var n=arguments;if(r==null||!pc.hasOwnProperty.call(r,"css"))return cc.createElement.apply(void 0,n);var i=n.length,o=new Array(i);o[0]=pc.Emotion,o[1]=pc.createEmotionProps(t,r);for(var u=2;u<i;u++)o[u]=n[u];return cc.createElement.apply(null,o)},JYt=pc.withEmotionCache(function(e,t){var r=e.styles;if(typeof r=="function")return cc.createElement(pc.ThemeContext.Consumer,null,function(i){var o=DU.serializeStyles([r(i)]);return cc.createElement(Fke,{serialized:o,cache:t})});var n=DU.serializeStyles([r]);return cc.createElement(Fke,{serialized:n,cache:t})}),Fke=function(e){XYt.default(t,e);function t(n,i,o){return e.call(this,n,i,o)||this}var r=t.prototype;return r.componentDidMount=function(){this.sheet=new KYt.StyleSheet({key:this.props.cache.key+"-global",nonce:this.props.cache.sheet.nonce,container:this.props.cache.sheet.container});var i=document.querySelector("style[data-emotion-"+this.props.cache.key+"=\""+this.props.serialized.name+"\"]");i!==null&&this.sheet.tags.push(i),this.props.cache.sheet.tags.length&&(this.sheet.before=this.props.cache.sheet.tags[0]),this.insertStyles()},r.componentDidUpdate=function(i){i.serialized.name!==this.props.serialized.name&&this.insertStyles()},r.insertStyles=function(){if(this.props.serialized.next!==void 0&&LU.insertStyles(this.props.cache,this.props.serialized.next,!0),this.sheet.tags.length){var i=this.sheet.tags[this.sheet.tags.length-1].nextElementSibling;this.sheet.before=i,this.sheet.flush()}this.props.cache.insert("",this.props.serialized,this.sheet,!1)},r.componentWillUnmount=function(){this.sheet.flush()},r.render=function(){return null},t}(cc.Component),QYt=function(){var t=Bke.default.apply(void 0,arguments),r="animation-"+t.name;return{name:r,styles:"@keyframes "+r+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},eXt=function e(t){for(var r=t.length,n=0,i="";n<r;n++){var o=t[n];if(o!=null){var u=void 0;switch(typeof o){case"boolean":break;case"object":{if(Array.isArray(o))u=e(o);else{u="";for(var f in o)o[f]&&f&&(u&&(u+=" "),u+=f)}break}default:u=o;}u&&(i&&(i+=" "),i+=u)}}return i};function tXt(e,t,r){var n=[],i=LU.getRegisteredStyles(e,n,r);return n.length<2?r:i+t(n)}var rXt=function(){return null},nXt=pc.withEmotionCache(function(e,t){return cc.createElement(pc.ThemeContext.Consumer,null,function(r){var n=!1,i=function(){for(var w=arguments.length,T=new Array(w),A=0;A<w;A++)T[A]=arguments[A];var q=DU.serializeStyles(T,t.registered);return LU.insertStyles(t,q,!1),t.key+"-"+q.name},o=function(){for(var w=arguments.length,T=new Array(w),A=0;A<w;A++)T[A]=arguments[A];return tXt(t.registered,i,eXt(T))},u={css:i,cx:o,theme:r},f=e.children(u);n=!0;var h=cc.createElement(rXt,null);return cc.createElement(cc.Fragment,null,h,f)})});du.CacheProvider=pc.CacheProvider;du.ThemeContext=pc.ThemeContext;du.withEmotionCache=pc.withEmotionCache;Object.defineProperty(du,"css",{enumerable:!0,get:function(){return Bke.default}});du.ClassNames=nXt;du.Global=JYt;du.createElement=Vke;du.jsx=Vke;du.keyframes=QYt});var zU=I(fu=>{"use strict";Object.defineProperty(fu,"__esModule",{value:!0});fu.default=Kke;fu.skeletonStyles=fu.skeletonKeyframes=fu.defaultHighlightColor=fu.defaultBaseColor=void 0;var ckr=iXt(Ve()),p0=Uke();function iXt(e){return e&&e.__esModule?e:{default:e}}function $ke(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function oXt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$ke(r,!0).forEach(function(n){aXt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$ke(r).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aXt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hke(){var e=sXt([`
  0% {
    background-position: -200px 0;
  }
  `,`
  100% {
    background-position: calc(200px + 100%) 0;
  }
`]);return Hke=function(){return e},e}function sXt(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var lO="#eee";fu.defaultBaseColor=lO;var Gke="#f5f5f5";fu.defaultHighlightColor=Gke;var Wke=function(t,r){return(0,p0.keyframes)(Hke(),r>0?"".concat(Math.floor(1/(t+r)*t*100),`% {
    background-position: calc(200px + 100%) 0;
  }`):void 0)};fu.skeletonKeyframes=Wke;var Zke=(0,p0.css)("background-color:",lO,";background-image:linear-gradient( 90deg,",lO,",",Gke,",",lO," );background-size:200px 100%;background-repeat:no-repeat;border-radius:4px;display:inline-block;line-height:1;width:100%;;label:skeletonStyles;");fu.skeletonStyles=Zke;function Kke(e){for(var t=e.count,r=e.duration,n=e.width,i=e.wrapper,o=e.height,u=e.circle,f=e.delay,h=e.style,y=e.className,w=[],T=0;T<t;T++){var A={};n!==null&&(A.width=n),o!==null&&(A.height=o),n!==null&&o!==null&&u&&(A.borderRadius="50%");var q="react-loading-skeleton";y&&(q+=" "+y),w.push((0,p0.jsx)("span",{key:T,className:q,css:(0,p0.css)(Zke," animation:",Wke(r,f)," ",r+f,"s ease-in-out infinite;label:Skeleton;"),style:oXt({},h,{},A)},"\u200C"))}return(0,p0.jsx)("span",null,i?w.map(function(z,F){return(0,p0.jsx)(i,{key:F},z,"\u200C")}):w)}Kke.defaultProps={count:1,duration:1.2,width:null,wrapper:null,height:null,circle:!1,delay:0}});var zDe=I(kn=>{"use strict";var bo=typeof Symbol=="function"&&Symbol.for,m$=bo?Symbol.for("react.element"):60103,v$=bo?Symbol.for("react.portal"):60106,wO=bo?Symbol.for("react.fragment"):60107,SO=bo?Symbol.for("react.strict_mode"):60108,IO=bo?Symbol.for("react.profiler"):60114,EO=bo?Symbol.for("react.provider"):60109,TO=bo?Symbol.for("react.context"):60110,g$=bo?Symbol.for("react.async_mode"):60111,AO=bo?Symbol.for("react.concurrent_mode"):60111,CO=bo?Symbol.for("react.forward_ref"):60112,MO=bo?Symbol.for("react.suspense"):60113,IXt=bo?Symbol.for("react.suspense_list"):60120,PO=bo?Symbol.for("react.memo"):60115,OO=bo?Symbol.for("react.lazy"):60116,EXt=bo?Symbol.for("react.block"):60121,TXt=bo?Symbol.for("react.fundamental"):60117,AXt=bo?Symbol.for("react.responder"):60118,CXt=bo?Symbol.for("react.scope"):60119;function Ws(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case m$:switch(e=e.type,e){case g$:case AO:case wO:case IO:case SO:case MO:return e;default:switch(e=e&&e.$$typeof,e){case TO:case CO:case OO:case PO:case EO:return e;default:return t;}}case v$:return t;}}}function LDe(e){return Ws(e)===AO}kn.AsyncMode=g$;kn.ConcurrentMode=AO;kn.ContextConsumer=TO;kn.ContextProvider=EO;kn.Element=m$;kn.ForwardRef=CO;kn.Fragment=wO;kn.Lazy=OO;kn.Memo=PO;kn.Portal=v$;kn.Profiler=IO;kn.StrictMode=SO;kn.Suspense=MO;kn.isAsyncMode=function(e){return LDe(e)||Ws(e)===g$};kn.isConcurrentMode=LDe;kn.isContextConsumer=function(e){return Ws(e)===TO};kn.isContextProvider=function(e){return Ws(e)===EO};kn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===m$};kn.isForwardRef=function(e){return Ws(e)===CO};kn.isFragment=function(e){return Ws(e)===wO};kn.isLazy=function(e){return Ws(e)===OO};kn.isMemo=function(e){return Ws(e)===PO};kn.isPortal=function(e){return Ws(e)===v$};kn.isProfiler=function(e){return Ws(e)===IO};kn.isStrictMode=function(e){return Ws(e)===SO};kn.isSuspense=function(e){return Ws(e)===MO};kn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===wO||e===AO||e===IO||e===SO||e===MO||e===IXt||typeof e=="object"&&e!==null&&(e.$$typeof===OO||e.$$typeof===PO||e.$$typeof===EO||e.$$typeof===TO||e.$$typeof===CO||e.$$typeof===TXt||e.$$typeof===AXt||e.$$typeof===CXt||e.$$typeof===EXt)};kn.typeOf=Ws});var jDe=I((B3r,FDe)=>{"use strict";FDe.exports=zDe()});var w3e=I(Wn=>{"use strict";var uR=60103,cR=60106,SS=60107,IS=60108,ES=60114,TS=60109,AS=60110,CS=60112,MS=60113,iH=60120,PS=60115,OS=60116,g3e=60121,y3e=60122,_3e=60117,b3e=60129,x3e=60131;typeof Symbol=="function"&&Symbol.for&&(xo=Symbol.for,uR=xo("react.element"),cR=xo("react.portal"),SS=xo("react.fragment"),IS=xo("react.strict_mode"),ES=xo("react.profiler"),TS=xo("react.provider"),AS=xo("react.context"),CS=xo("react.forward_ref"),MS=xo("react.suspense"),iH=xo("react.suspense_list"),PS=xo("react.memo"),OS=xo("react.lazy"),g3e=xo("react.block"),y3e=xo("react.server.block"),_3e=xo("react.fundamental"),b3e=xo("react.debug_trace_mode"),x3e=xo("react.legacy_hidden"));var xo;function mu(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case uR:switch(e=e.type,e){case SS:case ES:case IS:case MS:case iH:return e;default:switch(e=e&&e.$$typeof,e){case AS:case CS:case OS:case PS:case TS:return e;default:return t;}}case cR:return t;}}}var ZJt=TS,KJt=uR,YJt=CS,XJt=SS,JJt=OS,QJt=PS,eQt=cR,tQt=ES,rQt=IS,nQt=MS;Wn.ContextConsumer=AS;Wn.ContextProvider=ZJt;Wn.Element=KJt;Wn.ForwardRef=YJt;Wn.Fragment=XJt;Wn.Lazy=JJt;Wn.Memo=QJt;Wn.Portal=eQt;Wn.Profiler=tQt;Wn.StrictMode=rQt;Wn.Suspense=nQt;Wn.isAsyncMode=function(){return!1};Wn.isConcurrentMode=function(){return!1};Wn.isContextConsumer=function(e){return mu(e)===AS};Wn.isContextProvider=function(e){return mu(e)===TS};Wn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===uR};Wn.isForwardRef=function(e){return mu(e)===CS};Wn.isFragment=function(e){return mu(e)===SS};Wn.isLazy=function(e){return mu(e)===OS};Wn.isMemo=function(e){return mu(e)===PS};Wn.isPortal=function(e){return mu(e)===cR};Wn.isProfiler=function(e){return mu(e)===ES};Wn.isStrictMode=function(e){return mu(e)===IS};Wn.isSuspense=function(e){return mu(e)===MS};Wn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===SS||e===ES||e===b3e||e===IS||e===MS||e===iH||e===x3e||typeof e=="object"&&e!==null&&(e.$$typeof===OS||e.$$typeof===PS||e.$$typeof===TS||e.$$typeof===AS||e.$$typeof===CS||e.$$typeof===_3e||e.$$typeof===g3e||e[0]===y3e)};Wn.typeOf=mu});var I3e=I((HFr,S3e)=>{"use strict";S3e.exports=w3e()});var JLe=I((Q8r,XLe)=>{"use strict";XLe.exports=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,i,o;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(i=n;i--!==0;)if(!e(t[i],r[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(o=Object.keys(t),n=o.length,n!==Object.keys(r).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(r,o[i]))return!1;for(i=n;i--!==0;){var u=o[i];if(!e(t[u],r[u]))return!1}return!0}return t!==t&&r!==r}});var KQt={};pFe(KQt,{SettingsProvider:()=>WQt,renderMosaicMapApp:()=>ZQt});var pze=ne(Ve(),1),dze=ne(Ti(),1),x7r=ne(SIe(),1);var Ua=ne(Ve(),1);var da=ne(Ve()),BIe=ne(Ti());function aLt(e){return!!e&&typeof e.then=="function"}var Di=aLt;function sLt(e,t){if(e!=null)return e;throw new Error(t!=null?t:"Got unexpected null or undefined")}var Tn=sLt,VC=class{},lLt=new VC,v8={valueMaybe(){},valueOrThrow(){throw new Error(`Loadable expected value, but in "${this.state}" state`)},errorMaybe(){},errorOrThrow(){throw new Error(`Loadable expected error, but in "${this.state}" state`)},promiseMaybe(){},promiseOrThrow(){throw new Error(`Loadable expected promise, but in "${this.state}" state`)},is(e){return e.state===this.state&&e.contents===this.contents},map(e){if(this.state==="hasError")return this;if(this.state==="hasValue")try{let r=e(this.contents);return Di(r)?Ey(r.then(n=>({__value:n}))):g8(r)}catch(r){return Di(r)?Ey(r.next(()=>e(this.contents))):y8(r)}if(this.state==="loading")return Ey(this.contents.then(r=>({__value:e(r.__value)})).catch(r=>{if(Di(r))return r.then(()=>e(this.contents));throw r}));throw new Error("Invalid Loadable state")}};function g8(e){return Object.freeze(Lr(tt({state:"hasValue",contents:e},v8),{getValue(){return this.contents},toPromise(){return Promise.resolve(this.contents)},valueMaybe(){return this.contents},valueOrThrow(){return this.contents}}))}function y8(e){return Object.freeze(Lr(tt({state:"hasError",contents:e},v8),{getValue(){throw this.contents},toPromise(){return Promise.reject(this.contents)},errorMaybe(){return this.contents},errorOrThrow(){return this.contents}}))}function Ey(e){return Object.freeze(Lr(tt({state:"loading",contents:e},v8),{getValue(){throw this.contents.then(({__value:t})=>t)},toPromise(){return this.contents.then(({__value:t})=>t)},promiseMaybe(){return this.contents.then(({__value:t})=>t)},promiseOrThrow(){return this.contents.then(({__value:t})=>t)}}))}function uLt(){return Ey(new Promise(()=>{}))}function cLt(e){return e.every(t=>t.state==="hasValue")?g8(e.map(t=>t.contents)):e.some(t=>t.state==="hasError")?y8(Tn(e.find(t=>t.state==="hasError"),"Invalid loadable passed to loadableAll").contents):Ey(Promise.all(e.map(t=>t.contents)).then(t=>({__value:t})))}var Vx={loadableWithValue:g8,loadableWithError:y8,loadableWithPromise:Ey,loadableLoading:uLt,loadableAll:cLt,Canceled:VC,CANCELED:lLt},YB,VIe=(YB=da.default.useMutableSource)!==null&&YB!==void 0?YB:da.default.unstable_useMutableSource;function pLt(){return VIe&&!(typeof window!="undefined"&&window.$disableRecoilValueMutableSource_TEMP_HACK_DO_NOT_USE)}var UIe={mutableSourceExists:pLt,useMutableSource:VIe},{mutableSourceExists:dLt}=UIe,_8=new Map().set("recoil_hamt_2020",!0).set("recoil_memory_managament_2020",!0).set("recoil_suppress_rerender_in_callback",!0);function b8(e){var t;return e==="recoil_early_rendering_2021"&&!dLt()?!1:(t=_8.get(e))!==null&&t!==void 0?t:!1}b8.setPass=e=>{_8.set(e,!0)};b8.setFail=e=>{_8.set(e,!1)};var Un=b8;function fLt(e,t,{error:r}={}){return null}var hLt=fLt,Ku=hLt;function mLt(e,t){let r=new Set(e);return r.add(t),r}function vLt(e,t){let r=new Set(e);return r.delete(t),r}function gLt(e,t,r){let n=new Map(e);return n.set(t,r),n}function yLt(e,t,r){let n=new Map(e);return n.set(t,r(n.get(t))),n}function _Lt(e,t){let r=new Map(e);return r.delete(t),r}function bLt(e,t){let r=new Map(e);return t.forEach(n=>r.delete(n)),r}var $Ie={setByAddingToSet:mLt,setByDeletingFromSet:vLt,mapBySettingInMap:gLt,mapByUpdatingInMap:yLt,mapByDeletingFromMap:_Lt,mapByDeletingMultipleFromMap:bLt};function*xLt(e,t){let r=0;for(let n of e)t(n,r++)&&(yield n)}var HIe=xLt;function wLt(e,t){return function*(){let r=0;for(let n of e)yield t(n,r++)}()}var GIe=wLt;function SLt(e,...t){}var ILt=SLt,x8=ILt;function un(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Fx=class{constructor(t){un(this,"key",void 0),this.key=t}},UC=class extends Fx{},$C=class extends Fx{};function ELt(e){return e instanceof UC||e instanceof $C}var tM={AbstractRecoilValue:Fx,RecoilState:UC,RecoilValueReadOnly:$C,isRecoilValue:ELt},TLt=tM.AbstractRecoilValue,ALt=tM.RecoilState,CLt=tM.RecoilValueReadOnly,MLt=tM.isRecoilValue,hf=Object.freeze({__proto__:null,AbstractRecoilValue:TLt,RecoilState:ALt,RecoilValueReadOnly:CLt,isRecoilValue:MLt}),HC=class{},PLt=new HC,e8=class extends Error{constructor(t){super(`Tried to set the value of Recoil selector ${t} using an updater function, but it is an async selector in a pending or error state; this is not supported.`)}},cm=new Map,w8=new Map;function OLt(e){return GIe(e,t=>Tn(w8.get(t)))}function RLt(e){if(cm.has(e.key)){let r=`Duplicate atom key "${e.key}". This is a FATAL ERROR in
      production. But it is safe to ignore this warning if it occurred because of
      hot module replacement.`;console.warn(r)}cm.set(e.key,e);let t=e.set==null?new hf.RecoilValueReadOnly(e.key):new hf.RecoilState(e.key);return w8.set(e.key,t),t}var GC=class extends Error{};function qLt(e){let t=cm.get(e);if(t==null)throw new GC(`Missing definition for RecoilValue: "${e}""`);return t}function NLt(e){return cm.get(e)}var WC=new Map;function kLt(e){var t;if(!Un("recoil_memory_managament_2020"))return;let r=cm.get(e);if(!(r==null||(t=r.shouldDeleteConfigOnRelease)===null||t===void 0)&&t.call(r)){var n;cm.delete(e),(n=WIe(e))===null||n===void 0||n(),WC.delete(e)}}function DLt(e,t){Un("recoil_memory_managament_2020")&&(t===void 0?WC.delete(e):WC.set(e,t))}function WIe(e){return WC.get(e)}var Ml={nodes:cm,recoilValues:w8,registerNode:RLt,getNode:qLt,getNodeMaybe:NLt,deleteNodeConfigIfPossible:kLt,setConfigDeletionHandler:DLt,getConfigDeletionHandler:WIe,recoilValuesForKeys:OLt,NodeMissingError:GC,DefaultValue:HC,DEFAULT_VALUE:PLt,RecoilValueNotReady:e8},ZC=class{};function LLt(){return new ZC}var rM={RetentionZone:ZC,retentionZone:LLt},{setByAddingToSet:zLt}=$Ie,{getNode:nM,getNodeMaybe:FLt,recoilValuesForKeys:IIe}=Ml,{RetentionZone:EIe}=rM,jLt=Object.freeze(new Set),t8=class extends Error{};function BLt(e,t,r){if(!Un("recoil_memory_managament_2020"))return()=>{};let{nodesRetainedByZone:n}=e.getState().retention;function i(o){let u=n.get(o);u||n.set(o,u=new Set),u.add(t)}if(r instanceof EIe)i(r);else if(Array.isArray(r))for(let o of r)i(o);return()=>{if(!Un("recoil_memory_managament_2020"))return;let o=e.getState().retention.nodesRetainedByZone;function u(f){let h=o.get(f);h&&h.delete(t),h&&h.size===0&&o.delete(f)}if(r instanceof EIe)u(r);else if(Array.isArray(r))for(let f of r)u(f)}}function S8(e,t,r,n){let i=e.getState();if(i.nodeCleanupFunctions.has(r))return;let o=nM(r),u=BLt(e,r,o.retainedBy),f=o.init(e,t,n);i.nodeCleanupFunctions.set(r,()=>{f(),u()})}function VLt(e,t){var r;let n=e.getState();(r=n.nodeCleanupFunctions.get(t))===null||r===void 0||r(),n.nodeCleanupFunctions.delete(t)}function ULt(e,t,r){return S8(e,t,r,"get"),nM(r).get(e,t)}function ZIe(e,t,r){return nM(r).peek(e,t)}function $Lt(e,t,r){var n;let i=FLt(t);return i==null||(n=i.invalidate)===null||n===void 0||n.call(i,e),Lr(tt({},e),{atomValues:e.atomValues.clone().delete(t),nonvalidatedAtoms:e.nonvalidatedAtoms.clone().set(t,r),dirtyAtoms:zLt(e.dirtyAtoms,t)})}function HLt(e,t,r,n){let i=nM(r);if(i.set==null)throw new t8(`Attempt to set read-only RecoilValue: ${r}`);let o=i.set;return S8(e,t,r,"set"),o(e,t,n)}function GLt(e,t,r){var n,i,o;let u=e.getState(),f=e.getGraph(t.version),h=u.knownAtoms.has(r)?"atom":u.knownSelectors.has(r)?"selector":void 0,y=HIe(KIe(e,t,new Set([r])),w=>w!==r);return{loadable:ZIe(e,t,r),isActive:u.knownAtoms.has(r)||u.knownSelectors.has(r),isSet:h==="selector"?!1:t.atomValues.has(r),isModified:t.dirtyAtoms.has(r),type:h,deps:IIe((n=f.nodeDeps.get(r))!==null&&n!==void 0?n:[]),subscribers:{nodes:IIe(y),components:GIe((i=(o=u.nodeToComponentSubscriptions.get(r))===null||o===void 0?void 0:o.values())!==null&&i!==void 0?i:[],([w])=>({name:w}))}}}function KIe(e,t,r){let n=new Set,i=Array.from(r),o=e.getGraph(t.version);for(let f=i.pop();f;f=i.pop()){var u;n.add(f);let h=(u=o.nodeToNodeSubscriptions.get(f))!==null&&u!==void 0?u:jLt;for(let y of h)n.has(y)||i.push(y)}return n}var My={getNodeLoadable:ULt,peekNodeLoadable:ZIe,setNodeValue:HLt,cleanUpNode:VLt,setUnvalidatedAtomValue_DEPRECATED:$Lt,peekNodeInfo:GLt,getDownstreamNodes:KIe,initializeNodeIfNewToStore:S8},{CANCELED:WLt}=Vx,{getDownstreamNodes:ZLt,getNodeLoadable:YIe,setNodeValue:KLt}=My,{getNodeMaybe:XIe}=Ml,{DefaultValue:I8,RecoilValueNotReady:YLt}=Ml,{AbstractRecoilValue:XLt,RecoilState:JLt,RecoilValueReadOnly:QLt,isRecoilValue:ezt}=hf;function tzt(e,{key:t},r=e.getState().currentTree){var n,i;let o=e.getState();r.version===o.currentTree.version||r.version===((n=o.nextTree)===null||n===void 0?void 0:n.version)||r.version===((i=o.previousTree)===null||i===void 0?void 0:i.version)||Ku("Tried to read from a discarded tree");let u=YIe(e,r,t);return u.state==="loading"&&u.contents.catch(()=>WLt),u}function rzt(e,t){let r=e.clone();return t.forEach((n,i)=>{n.state==="hasValue"&&n.contents instanceof I8?r.delete(i):r.set(i,n)}),r}function nzt(e,t,{key:r},n){if(typeof n=="function"){let i=YIe(e,t,r);if(i.state==="loading")throw new YLt(r);if(i.state==="hasError")throw i.contents;return n(i.contents)}else return n}function izt(e,t,r){if(r.type==="set"){let{recoilValue:i,valueOrUpdater:o}=r,u=nzt(e,t,i,o),f=KLt(e,t,i.key,u);for(let[h,y]of f.entries())r8(t,h,y)}else if(r.type==="setLoadable"){let{recoilValue:{key:i},loadable:o}=r;r8(t,i,o)}else if(r.type==="markModified"){let{recoilValue:{key:i}}=r;t.dirtyAtoms.add(i)}else if(r.type==="setUnvalidated"){var n;let{recoilValue:{key:i},unvalidatedValue:o}=r,u=XIe(i);u==null||(n=u.invalidate)===null||n===void 0||n.call(u,t),t.atomValues.delete(i),t.nonvalidatedAtoms.set(i,o),t.dirtyAtoms.add(i)}else Ku(`Unknown action ${r.type}`)}function r8(e,t,r){r.state==="hasValue"&&r.contents instanceof I8?e.atomValues.delete(t):e.atomValues.set(t,r),e.dirtyAtoms.add(t),e.nonvalidatedAtoms.delete(t)}function JIe(e,t){e.replaceState(r=>{let n=QIe(r);for(let i of t)izt(e,n,i);return n8(e,n),n})}function iM(e,t){if(Lx.length){let r=Lx[Lx.length-1],n=r.get(e);n||r.set(e,n=[]),n.push(t)}else JIe(e,[t])}var Lx=[];function ozt(){let e=new Map;return Lx.push(e),()=>{for(let[r,n]of e)JIe(r,n);Lx.pop()!==e&&Ku("Incorrect order of batch popping")}}function QIe(e){return Lr(tt({},e),{atomValues:e.atomValues.clone(),nonvalidatedAtoms:e.nonvalidatedAtoms.clone(),dirtyAtoms:new Set(e.dirtyAtoms)})}function n8(e,t){let r=ZLt(e,t,t.dirtyAtoms);for(let o of r){var n,i;(n=XIe(o))===null||n===void 0||(i=n.invalidate)===null||i===void 0||i.call(n,t)}}function eEe(e,t,r){iM(e,{type:"set",recoilValue:t,valueOrUpdater:r})}function azt(e,t,r){if(r instanceof I8)return eEe(e,t,r);iM(e,{type:"setLoadable",recoilValue:t,loadable:r})}function szt(e,t){iM(e,{type:"markModified",recoilValue:t})}function lzt(e,t,r){iM(e,{type:"setUnvalidated",recoilValue:t,unvalidatedValue:r})}var uzt=0;function czt(e,{key:t},r,n=null){let i=uzt++,o=e.getState();if(o.nodeToComponentSubscriptions.has(t)||o.nodeToComponentSubscriptions.set(t,new Map),Tn(o.nodeToComponentSubscriptions.get(t)).set(i,[n!=null?n:"<not captured>",r]),Un("recoil_early_rendering_2021")){let u=e.getState().nextTree;u&&u.dirtyAtoms.has(t)&&r(u)}return{release:()=>{let u=e.getState(),f=u.nodeToComponentSubscriptions.get(t);if(f===void 0||!f.has(i)){Ku(`Subscription missing at release time for atom ${t}. This is a bug in Recoil.`);return}f.delete(i),f.size===0&&u.nodeToComponentSubscriptions.delete(t)}}}var pm={RecoilValueReadOnly:QLt,AbstractRecoilValue:XLt,RecoilState:JLt,getRecoilValueAsLoadable:tzt,setRecoilValue:eEe,setRecoilValueLoadable:azt,markRecoilValueModified:szt,setUnvalidatedRecoilValue:lzt,subscribeToRecoilValue:czt,isRecoilValue:ezt,applyAtomValueWrites:rzt,batchStart:ozt,writeLoadableToTreeState:r8,invalidateDownstreams:n8,copyTreeState:QIe,invalidateDownstreams_FOR_TESTING:n8},{unstable_batchedUpdates:pzt}=BIe.default,dzt={unstable_batchedUpdates:pzt},{unstable_batchedUpdates:fzt}=dzt,hzt={unstable_batchedUpdates:fzt},{batchStart:mzt}=pm,{unstable_batchedUpdates:vzt}=hzt,E8=vzt,gzt=e=>{E8=e},yzt=()=>E8,_zt=e=>{E8(()=>{let t=()=>{};try{t=mzt(),e()}finally{t()}})},T8={getBatcher:yzt,setBatcher:gzt,batchUpdates:_zt};function bzt(e,t){t()}var xzt={enqueueExecution:bzt};function wzt(e,...t){let r=new Set;e:for(let n of e){for(let i of t)if(i.has(n))continue e;r.add(n)}return r}var KC=wzt;function Szt(e,t){let r=new Map;return e.forEach((n,i)=>{r.set(i,t(n,i))}),r}var YC=Szt;function Izt(){return{nodeDeps:new Map,nodeToNodeSubscriptions:new Map}}function Ezt(e){return{nodeDeps:YC(e.nodeDeps,t=>new Set(t)),nodeToNodeSubscriptions:YC(e.nodeToNodeSubscriptions,t=>new Set(t))}}function XB(e,t,r){let{nodeDeps:n,nodeToNodeSubscriptions:i}=t;e.forEach((o,u)=>{let f=n.get(u);if(f&&r&&f!==r.nodeDeps.get(u))return;n.set(u,new Set(o)),(f==null?o:KC(o,f)).forEach(y=>{i.has(y)||i.set(y,new Set),Tn(i.get(y)).add(u)}),f&&KC(f,o).forEach(w=>{if(!i.has(w))return;let T=Tn(i.get(w));T.delete(u),T.size===0&&i.delete(w)})})}function Tzt(e,t,r){var n,i,o,u;let f=t.getState();r===f.currentTree.version||r===((n=f.nextTree)===null||n===void 0?void 0:n.version)||r===((i=f.previousTree)===null||i===void 0?void 0:i.version)||Ku("Tried to save dependencies to a discarded tree");let h=t.getGraph(r);if(XB(e,h),r===((o=f.previousTree)===null||o===void 0?void 0:o.version)){let w=t.getGraph(f.currentTree.version);XB(e,w,h)}if(r===((u=f.previousTree)===null||u===void 0?void 0:u.version)||r===f.currentTree.version){var y;let w=(y=f.nextTree)===null||y===void 0?void 0:y.version;if(w!==void 0){let T=t.getGraph(w);XB(e,T,h)}}}function Azt(e,t){e.forEach((r,n)=>{t.has(n)||t.set(n,new Set);let i=Tn(t.get(n));r.forEach(o=>i.add(o))})}function Czt(e,t,r){r.has(e)||r.set(e,new Set),Tn(r.get(e)).add(t)}var Ux={addToDependencyMap:Czt,cloneGraph:Ezt,graph:Izt,mergeDepsIntoDependencyMap:Azt,saveDependencyMapToStore:Tzt};function Mzt(e,t){return t={exports:{}},e(t,t.exports),t.exports}var Pzt=Mzt(function(e){var t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(we){return typeof we}:function(we){return we&&typeof Symbol=="function"&&we.constructor===Symbol&&we!==Symbol.prototype?"symbol":typeof we},r={},n=5,i=Math.pow(2,n),o=i-1,u=i/2,f=i/4,h={},y=function(Ce){return function(){return Ce}},w=r.hash=function(we){var Ce=typeof we=="undefined"?"undefined":t(we);if(Ce==="number")return we;Ce!=="string"&&(we+="");for(var st=0,Rt=0,Pt=we.length;Rt<Pt;++Rt){var re=we.charCodeAt(Rt);st=(st<<5)-st+re|0}return st},T=function(Ce){return Ce-=Ce>>1&1431655765,Ce=(Ce&858993459)+(Ce>>2&858993459),Ce=Ce+(Ce>>4)&252645135,Ce+=Ce>>8,Ce+=Ce>>16,Ce&127},A=function(Ce,st){return st>>>Ce&o},q=function(Ce){return 1<<Ce},z=function(Ce,st){return T(Ce&st-1)},F=function(Ce,st,Rt,Pt){var re=Pt;if(!Ce){var H=Pt.length;re=new Array(H);for(var $=0;$<H;++$)re[$]=Pt[$]}return re[st]=Rt,re},N=function(Ce,st,Rt){var Pt=Rt.length-1,re=0,H=0,$=Rt;if(Ce)re=H=st;else for($=new Array(Pt);re<st;)$[H++]=Rt[re++];for(++re;re<=Pt;)$[H++]=Rt[re++];return Ce&&($.length=Pt),$},L=function(Ce,st,Rt,Pt){var re=Pt.length;if(Ce){for(var H=re;H>=st;)Pt[H--]=Pt[H];return Pt[st]=Rt,Pt}for(var $=0,K=0,ie=new Array(re+1);$<st;)ie[K++]=Pt[$++];for(ie[st]=Rt;$<re;)ie[++K]=Pt[$++];return ie},B=1,Z=2,te=3,ue=4,ce={__hamt_isEmpty:!0},ye=function(Ce){return Ce===ce||Ce&&Ce.__hamt_isEmpty},Ne=function(Ce,st,Rt,Pt){return{type:B,edit:Ce,hash:st,key:Rt,value:Pt,_modify:je}},Se=function(Ce,st,Rt){return{type:Z,edit:Ce,hash:st,children:Rt,_modify:lt}},Be=function(Ce,st,Rt){return{type:te,edit:Ce,mask:st,children:Rt,_modify:ut}},He=function(Ce,st,Rt){return{type:ue,edit:Ce,size:st,children:Rt,_modify:vt}},Xe=function(Ce){return Ce===ce||Ce.type===B||Ce.type===Z},$e=function(Ce,st,Rt,Pt,re){for(var H=[],$=Pt,K=0,ie=0;$;++ie)$&1&&(H[ie]=re[K++]),$>>>=1;return H[st]=Rt,He(Ce,K+1,H)},Qe=function(Ce,st,Rt,Pt){for(var re=new Array(st-1),H=0,$=0,K=0,ie=Pt.length;K<ie;++K)if(K!==Rt){var ve=Pt[K];ve&&!ye(ve)&&(re[H++]=ve,$|=1<<K)}return Be(Ce,$,re)},ot=function we(Ce,st,Rt,Pt,re,H){if(Rt===re)return Se(Ce,Rt,[H,Pt]);var $=A(st,Rt),K=A(st,re);return Be(Ce,q($)|q(K),$===K?[we(Ce,st+n,Rt,Pt,re,H)]:$<K?[Pt,H]:[H,Pt])},ze=function(Ce,st,Rt,Pt,re,H,$,K){for(var ie=re.length,ve=0;ve<ie;++ve){var be=re[ve];if(Rt($,be.key)){var Ee=be.value,fe=H(Ee);return fe===Ee?re:fe===h?(--K.value,N(Ce,ve,re)):F(Ce,ve,Ne(st,Pt,$,fe),re)}}var Le=H();return Le===h?re:(++K.value,F(Ce,ie,Ne(st,Pt,$,Le),re))},ke=function(Ce,st){return Ce===st.edit},je=function(Ce,st,Rt,Pt,re,H,$){if(st(H,this.key)){var K=Pt(this.value);return K===this.value?this:K===h?(--$.value,ce):ke(Ce,this)?(this.value=K,this):Ne(Ce,re,H,K)}var ie=Pt();return ie===h?this:(++$.value,ot(Ce,Rt,this.hash,this,re,Ne(Ce,re,H,ie)))},lt=function(Ce,st,Rt,Pt,re,H,$){if(re===this.hash){var K=ke(Ce,this),ie=ze(K,Ce,st,this.hash,this.children,Pt,H,$);return ie===this.children?this:ie.length>1?Se(Ce,this.hash,ie):ie[0]}var ve=Pt();return ve===h?this:(++$.value,ot(Ce,Rt,this.hash,this,re,Ne(Ce,re,H,ve)))},ut=function(Ce,st,Rt,Pt,re,H,$){var K=this.mask,ie=this.children,ve=A(Rt,re),be=q(ve),Ee=z(K,be),fe=K&be,Le=fe?ie[Ee]:ce,Ye=Le._modify(Ce,st,Rt+n,Pt,re,H,$);if(Le===Ye)return this;var De=ke(Ce,this),dt=K,Ht=void 0;if(fe&&ye(Ye)){if(dt&=~be,!dt)return ce;if(ie.length<=2&&Xe(ie[Ee^1]))return ie[Ee^1];Ht=N(De,Ee,ie)}else if(!fe&&!ye(Ye)){if(ie.length>=u)return $e(Ce,ve,Ye,K,ie);dt|=be,Ht=L(De,Ee,Ye,ie)}else Ht=F(De,Ee,Ye,ie);return De?(this.mask=dt,this.children=Ht,this):Be(Ce,dt,Ht)},vt=function(Ce,st,Rt,Pt,re,H,$){var K=this.size,ie=this.children,ve=A(Rt,re),be=ie[ve],Ee=(be||ce)._modify(Ce,st,Rt+n,Pt,re,H,$);if(be===Ee)return this;var fe=ke(Ce,this),Le=void 0;if(ye(be)&&!ye(Ee))++K,Le=F(fe,ve,Ee,ie);else if(!ye(be)&&ye(Ee)){if(--K,K<=f)return Qe(Ce,K,ve,ie);Le=F(fe,ve,ce,ie)}else Le=F(fe,ve,Ee,ie);return fe?(this.size=K,this.children=Le,this):He(Ce,K,Le)};ce._modify=function(we,Ce,st,Rt,Pt,re,H){var $=Rt();return $===h?ce:(++H.value,Ne(we,Pt,re,$))};function Fe(we,Ce,st,Rt,Pt){this._editable=we,this._edit=Ce,this._config=st,this._root=Rt,this._size=Pt}Fe.prototype.setTree=function(we,Ce){return this._editable?(this._root=we,this._size=Ce,this):we===this._root?this:new Fe(this._editable,this._edit,this._config,we,Ce)};var We=r.tryGetHash=function(we,Ce,st,Rt){for(var Pt=Rt._root,re=0,H=Rt._config.keyEq;;)switch(Pt.type){case B:return H(st,Pt.key)?Pt.value:we;case Z:{if(Ce===Pt.hash)for(var $=Pt.children,K=0,ie=$.length;K<ie;++K){var ve=$[K];if(H(st,ve.key))return ve.value}return we}case te:{var be=A(re,Ce),Ee=q(be);if(Pt.mask&Ee){Pt=Pt.children[z(Pt.mask,Ee)],re+=n;break}return we}case ue:{if(Pt=Pt.children[A(re,Ce)],Pt){re+=n;break}return we}default:return we;}};Fe.prototype.tryGetHash=function(we,Ce,st){return We(we,Ce,st,this)};var it=r.tryGet=function(we,Ce,st){return We(we,st._config.hash(Ce),Ce,st)};Fe.prototype.tryGet=function(we,Ce){return it(we,Ce,this)};var Pe=r.getHash=function(we,Ce,st){return We(void 0,we,Ce,st)};Fe.prototype.getHash=function(we,Ce){return Pe(we,Ce,this)};var he=r.get=function(we,Ce){return We(void 0,Ce._config.hash(we),we,Ce)};Fe.prototype.get=function(we,Ce){return it(Ce,we,this)};var Re=r.has=function(we,Ce,st){return We(h,we,Ce,st)!==h};Fe.prototype.hasHash=function(we,Ce){return Re(we,Ce,this)};var Te=r.has=function(we,Ce){return Re(Ce._config.hash(we),we,Ce)};Fe.prototype.has=function(we){return Te(we,this)};var Ke=function(Ce,st){return Ce===st};r.make=function(we){return new Fe(0,0,{keyEq:we&&we.keyEq||Ke,hash:we&&we.hash||w},ce,0)},r.empty=r.make();var Ge=r.isEmpty=function(we){return we&&!!ye(we._root)};Fe.prototype.isEmpty=function(){return Ge(this)};var wt=r.modifyHash=function(we,Ce,st,Rt){var Pt={value:Rt._size},re=Rt._root._modify(Rt._editable?Rt._edit:NaN,Rt._config.keyEq,0,we,Ce,st,Pt);return Rt.setTree(re,Pt.value)};Fe.prototype.modifyHash=function(we,Ce,st){return wt(st,we,Ce,this)};var St=r.modify=function(we,Ce,st){return wt(we,st._config.hash(Ce),Ce,st)};Fe.prototype.modify=function(we,Ce){return St(Ce,we,this)};var Ot=r.setHash=function(we,Ce,st,Rt){return wt(y(st),we,Ce,Rt)};Fe.prototype.setHash=function(we,Ce,st){return Ot(we,Ce,st,this)};var xe=r.set=function(we,Ce,st){return Ot(st._config.hash(we),we,Ce,st)};Fe.prototype.set=function(we,Ce){return xe(we,Ce,this)};var pt=y(h),Ut=r.removeHash=function(we,Ce,st){return wt(pt,we,Ce,st)};Fe.prototype.removeHash=Fe.prototype.deleteHash=function(we,Ce){return Ut(we,Ce,this)};var ht=r.remove=function(we,Ce){return Ut(Ce._config.hash(we),we,Ce)};Fe.prototype.remove=Fe.prototype.delete=function(we){return ht(we,this)};var $t=r.beginMutation=function(we){return new Fe(we._editable+1,we._edit+1,we._config,we._root,we._size)};Fe.prototype.beginMutation=function(){return $t(this)};var lr=r.endMutation=function(we){return we._editable=we._editable&&we._editable-1,we};Fe.prototype.endMutation=function(){return lr(this)};var Bt=r.mutate=function(we,Ce){var st=$t(Ce);return we(st),lr(st)};Fe.prototype.mutate=function(we){return Bt(we,this)};var ur=function(Ce){return Ce&&Fr(Ce[0],Ce[1],Ce[2],Ce[3],Ce[4])},Fr=function(Ce,st,Rt,Pt,re){for(;Rt<Ce;){var H=st[Rt++];if(H&&!ye(H))return Dr(H,Pt,[Ce,st,Rt,Pt,re])}return ur(re)},Dr=function(Ce,st,Rt){switch(Ce.type){case B:return{value:st(Ce),rest:Rt};case Z:case ue:case te:var Pt=Ce.children;return Fr(Pt.length,Pt,0,st,Rt);default:return ur(Rt);}},or={done:!0};function Kr(we){this.v=we}Kr.prototype.next=function(){if(!this.v)return or;var we=this.v;return this.v=ur(we.rest),we},Kr.prototype[Symbol.iterator]=function(){return this};var nt=function(Ce,st){return new Kr(Dr(Ce._root,st))},ei=function(Ce){return[Ce.key,Ce.value]},pn=r.entries=function(we){return nt(we,ei)};Fe.prototype.entries=Fe.prototype[Symbol.iterator]=function(){return pn(this)};var $a=function(Ce){return Ce.key},Qs=r.keys=function(we){return nt(we,$a)};Fe.prototype.keys=function(){return Qs(this)};var bt=function(Ce){return Ce.value},wr=r.values=Fe.prototype.values=function(we){return nt(we,bt)};Fe.prototype.values=function(){return wr(this)};var sr=r.fold=function(we,Ce,st){var Rt=st._root;if(Rt.type===B)return we(Ce,Rt.value,Rt.key);for(var Pt=[Rt.children],re=void 0;re=Pt.pop();)for(var H=0,$=re.length;H<$;){var K=re[H++];K&&K.type&&(K.type===B?Ce=we(Ce,K.value,K.key):Pt.push(K.children))}return Ce};Fe.prototype.fold=function(we,Ce){return sr(we,Ce,this)};var no=r.forEach=function(we,Ce){return sr(function(st,Rt,Pt){return we(Rt,Pt,Ce)},null,Ce)};Fe.prototype.forEach=function(we){return no(we,this)};var wa=r.count=function(we){return we._size};Fe.prototype.count=function(){return wa(this)},Object.defineProperty(Fe.prototype,"size",{get:Fe.prototype.count}),e.exports?e.exports=r:(void 0).hamt=r}),i8=class{constructor(t){un(this,"_map",void 0),this._map=new Map(t==null?void 0:t.entries())}keys(){return this._map.keys()}entries(){return this._map.entries()}get(t){return this._map.get(t)}has(t){return this._map.has(t)}set(t,r){return this._map.set(t,r),this}delete(t){return this._map.delete(t),this}clone(){return A8(this)}toMap(){return new Map(this._map)}},o8=class e{constructor(t){if(un(this,"_hamt",Pzt.empty.beginMutation()),t instanceof e){let r=t._hamt.endMutation();t._hamt=r.beginMutation(),this._hamt=r.beginMutation()}else if(t)for(let[r,n]of t.entries())this._hamt.set(r,n)}keys(){return this._hamt.keys()}entries(){return this._hamt.entries()}get(t){return this._hamt.get(t)}has(t){return this._hamt.has(t)}set(t,r){return this._hamt.set(t,r),this}delete(t){return this._hamt.delete(t),this}clone(){return A8(this)}toMap(){return new Map(this._hamt)}};function A8(e){return Un("recoil_hamt_2020")?new o8(e):new i8(e)}var Ozt={persistentMap:A8},Rzt=Ozt.persistentMap,qzt=Object.freeze({__proto__:null,persistentMap:Rzt}),{graph:Nzt}=Ux,{persistentMap:TIe}=qzt,kzt=0,tEe=()=>kzt++;function rEe(){let e=tEe();return{version:e,stateID:e,transactionMetadata:{},dirtyAtoms:new Set,atomValues:TIe(),nonvalidatedAtoms:TIe()}}function Dzt(){let e=rEe();return{currentTree:e,nextTree:null,previousTree:null,commitDepth:0,knownAtoms:new Set,knownSelectors:new Set,transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(e.version,Nzt()),versionsUsedByComponent:new Map,retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}}var nEe={makeEmptyTreeState:rEe,makeEmptyStoreState:Dzt,getNextTreeStateVersion:tEe};function Lzt(...e){let t=new Set;for(let r of e)for(let n of r)t.add(n);return t}var zzt=Lzt;function Fzt(e,t,r){let n=e.entries(),i=n.next();for(;!i.done;){let o=i.value;if(t.call(r,o[1],o[0],e))return!0;i=n.next()}return!1}var jzt=Fzt,{cleanUpNode:Bzt}=My,{deleteNodeConfigIfPossible:Vzt,getNode:iEe}=Ml,{RetentionZone:oEe}=rM,aEe=new Set;function sEe(e,t){let r=e.getState(),n=r.currentTree;if(r.nextTree){Ku("releaseNodesNowOnCurrentTree should only be called at the end of a batch");return}let i=new Set;for(let u of t)if(u instanceof oEe)for(let f of Gzt(r,u))i.add(f);else i.add(u);let o=Uzt(e,i);for(let u of o)Hzt(e,n,u)}function Uzt(e,t){let r=e.getState(),n=r.currentTree,i=e.getGraph(n.version),o=new Set,u=new Set;return f(t),o;function f(h){let y=new Set,w=$zt(e,n,h,o,u);for(let z of w){var T;if(iEe(z).retainedBy==="recoilRoot"){u.add(z);continue}if(((T=r.retention.referenceCounts.get(z))!==null&&T!==void 0?T:0)>0){u.add(z);continue}if(lEe(z).some(N=>r.retention.referenceCounts.get(N))){u.add(z);continue}let F=i.nodeToNodeSubscriptions.get(z);if(F&&jzt(F,N=>u.has(N))){u.add(z);continue}o.add(z),y.add(z)}let A=new Set;for(let z of y)for(let F of(q=i.nodeDeps.get(z))!==null&&q!==void 0?q:aEe){var q;o.has(F)||A.add(F)}A.size&&f(A)}}function $zt(e,t,r,n,i){let o=e.getGraph(t.version),u=[],f=new Set;for(;r.size>0;)h(Tn(r.values().next().value));return u;function h(y){if(n.has(y)||i.has(y)){r.delete(y);return}if(f.has(y))return;let w=o.nodeToNodeSubscriptions.get(y);if(w)for(let T of w)h(T);f.add(y),r.delete(y),u.push(y)}}function Hzt(e,t,r){if(!Un("recoil_memory_managament_2020"))return;Bzt(e,r);let n=e.getState();n.knownAtoms.delete(r),n.knownSelectors.delete(r),n.nodeTransactionSubscriptions.delete(r),n.retention.referenceCounts.delete(r);let i=lEe(r);for(let h of i){var o;(o=n.retention.nodesRetainedByZone.get(h))===null||o===void 0||o.delete(r)}t.atomValues.delete(r),t.dirtyAtoms.delete(r),t.nonvalidatedAtoms.delete(r);let u=n.graphsByVersion.get(t.version);if(u){let h=u.nodeDeps.get(r);if(h!==void 0){u.nodeDeps.delete(r);for(let y of h){var f;(f=u.nodeToNodeSubscriptions.get(y))===null||f===void 0||f.delete(r)}}u.nodeToNodeSubscriptions.delete(r)}Vzt(r)}function Gzt(e,t){var r;return(r=e.retention.nodesRetainedByZone.get(t))!==null&&r!==void 0?r:aEe}function lEe(e){let t=iEe(e).retainedBy;return t===void 0||t==="components"||t==="recoilRoot"?[]:t instanceof oEe?[t]:t}function Wzt(e,t){let r=e.getState();r.nextTree?r.retention.retainablesToCheckForRelease.add(t):sEe(e,new Set([t]))}function Zzt(e,t,r){var n;if(!Un("recoil_memory_managament_2020"))return;let i=e.getState().retention.referenceCounts,o=((n=i.get(t))!==null&&n!==void 0?n:0)+r;o===0?uEe(e,t):i.set(t,o)}function uEe(e,t){if(!Un("recoil_memory_managament_2020"))return;e.getState().retention.referenceCounts.delete(t),Wzt(e,t)}function Kzt(e){if(!Un("recoil_memory_managament_2020"))return;let t=e.getState();sEe(e,t.retention.retainablesToCheckForRelease),t.retention.retainablesToCheckForRelease.clear()}function Yzt(e){return e===void 0?"recoilRoot":e}var $x={updateRetainCount:Zzt,updateRetainCountToZero:uEe,releaseScheduledRetainablesNow:Kzt,retainedByOptionWithDefault:Yzt};function*Xzt(e){for(let t of e)for(let r of t)yield r}var Jzt=Xzt,Qzt=typeof window=="undefined",e6t=typeof navigator!="undefined"&&navigator.product==="ReactNative",C8={isSSR:Qzt,isReactNative:e6t},{isSSR:t6t}=C8,{batchUpdates:a8}=T8,{initializeNodeIfNewToStore:r6t,peekNodeInfo:n6t}=My,{graph:i6t}=Ux,{DEFAULT_VALUE:o6t,recoilValues:AIe,recoilValuesForKeys:CIe}=Ml,{AbstractRecoilValue:a6t,getRecoilValueAsLoadable:s6t,setRecoilValue:MIe,setUnvalidatedRecoilValue:l6t}=pm,{updateRetainCount:BC}=$x,{getNextTreeStateVersion:u6t,makeEmptyStoreState:c6t}=nEe;var Ay=class{constructor(t){un(this,"_store",void 0),un(this,"_refCount",0),un(this,"getLoadable",r=>(this.checkRefCount_INTERNAL(),s6t(this._store,r))),un(this,"getPromise",r=>(this.checkRefCount_INTERNAL(),this.getLoadable(r).toPromise())),un(this,"getNodes_UNSTABLE",r=>{if(this.checkRefCount_INTERNAL(),(r==null?void 0:r.isModified)===!0){if((r==null?void 0:r.isInitialized)===!1)return[];let o=this._store.getState().currentTree;return CIe(o.dirtyAtoms)}let n=this._store.getState().knownAtoms,i=this._store.getState().knownSelectors;return(r==null?void 0:r.isInitialized)==null?AIe.values():r.isInitialized===!0?CIe(Jzt([this._store.getState().knownAtoms,this._store.getState().knownSelectors])):HIe(AIe.values(),({key:o})=>!n.has(o)&&!i.has(o))}),un(this,"getInfo_UNSTABLE",({key:r})=>(this.checkRefCount_INTERNAL(),n6t(this._store,this._store.getState().currentTree,r))),un(this,"map",r=>{this.checkRefCount_INTERNAL();let n=new jx(this,a8);return r(n),s8(n.getStore_INTERNAL())}),un(this,"asyncMap",r=>Oi(this,null,function*(){this.checkRefCount_INTERNAL();let n=new jx(this,a8);return yield r(n),s8(n.getStore_INTERNAL())})),this._store={getState:()=>t,replaceState:r=>{t.currentTree=r(t.currentTree)},getGraph:r=>{let n=t.graphsByVersion;if(n.has(r))return Tn(n.get(r));let i=i6t();return n.set(r,i),i},subscribeToTransactions:()=>({release:()=>{}}),addTransactionMetadata:()=>{throw new Error("Cannot subscribe to Snapshots")}};for(let r of this._store.getState().nodeCleanupFunctions.keys())r6t(this._store,t.currentTree,r,"get"),BC(this._store,r,1);this.retain(),this.autorelease_INTERNAL()}retain(){if(!Un("recoil_memory_managament_2020"))return()=>{};this._refCount++;let t=!1;return()=>{t||(t=!0,this.release_INTERNAL())}}autorelease_INTERNAL(){Un("recoil_memory_managament_2020")&&(t6t||window.setTimeout(()=>this.release_INTERNAL(),0))}release_INTERNAL(){Un("recoil_memory_managament_2020")&&(this._refCount--,this._refCount)}checkRefCount_INTERNAL(){Un("recoil_memory_managament_2020")&&this._refCount<=0}getStore_INTERNAL(){return this.checkRefCount_INTERNAL(),this._store}getID(){return this.checkRefCount_INTERNAL(),this.getID_INTERNAL()}getID_INTERNAL(){return this.checkRefCount_INTERNAL(),this._store.getState().currentTree.stateID}};function cEe(e,t,r=!1){let n=e.getState(),i=r?u6t():t.version;return{currentTree:r?{version:i,stateID:i,transactionMetadata:tt({},t.transactionMetadata),dirtyAtoms:new Set(t.dirtyAtoms),atomValues:t.atomValues.clone(),nonvalidatedAtoms:t.nonvalidatedAtoms.clone()}:t,commitDepth:0,nextTree:null,previousTree:null,knownAtoms:new Set(n.knownAtoms),knownSelectors:new Set(n.knownSelectors),transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(i,e.getGraph(t.version)),versionsUsedByComponent:new Map,retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}}function p6t(e){let t=new Ay(c6t());return e!=null?t.map(e):t}function s8(e,t="current"){let r=e.getState(),n=t==="current"?r.currentTree:Tn(r.previousTree);return new Ay(cEe(e,n))}var jx=class extends Ay{constructor(t,r){super(cEe(t.getStore_INTERNAL(),t.getStore_INTERNAL().getState().currentTree,!0)),un(this,"_batch",void 0),un(this,"set",(n,i)=>{this.checkRefCount_INTERNAL();let o=this.getStore_INTERNAL();this._batch(()=>{BC(o,n.key,1),MIe(this.getStore_INTERNAL(),n,i)})}),un(this,"reset",n=>{this.checkRefCount_INTERNAL();let i=this.getStore_INTERNAL();this._batch(()=>{BC(i,n.key,1),MIe(this.getStore_INTERNAL(),n,o6t)})}),un(this,"setUnvalidatedAtomValues_DEPRECATED",n=>{this.checkRefCount_INTERNAL();let i=this.getStore_INTERNAL();a8(()=>{for(let[o,u]of n.entries())BC(i,o,1),l6t(i,new a6t(o),u)})}),this._batch=r}},oM={Snapshot:Ay,MutableSnapshot:jx,freshSnapshot:p6t,cloneSnapshot:s8},d6t=oM.Snapshot,f6t=oM.MutableSnapshot,h6t=oM.freshSnapshot,m6t=oM.cloneSnapshot,aM=Object.freeze({__proto__:null,Snapshot:d6t,MutableSnapshot:f6t,freshSnapshot:h6t,cloneSnapshot:m6t}),{getNextTreeStateVersion:v6t,makeEmptyStoreState:pEe}=nEe,{cleanUpNode:g6t,getDownstreamNodes:y6t,setNodeValue:_6t,setUnvalidatedAtomValue_DEPRECATED:b6t}=My,{graph:x6t}=Ux,{cloneGraph:w6t}=Ux,{applyAtomValueWrites:S6t}=pm,{releaseScheduledRetainablesNow:dEe}=$x,{freshSnapshot:I6t}=aM,{useCallback:E6t,useContext:fEe,useEffect:l8,useMemo:T6t,useRef:JB,useState:A6t}=da.default;function Ox(){throw new Error("This component must be used inside a <RecoilRoot> component.")}var hEe=Object.freeze({getState:Ox,replaceState:Ox,getGraph:Ox,subscribeToTransactions:Ox,addTransactionMetadata:Ox}),u8=!1;function PIe(e){if(u8)throw new Error("An atom update was triggered within the execution of a state updater function. State updater functions provided to Recoil must be pure functions.");let t=e.getState();if(t.nextTree===null){Un("recoil_memory_managament_2020")&&Un("recoil_release_on_cascading_update_killswitch_2021")&&t.commitDepth>0&&dEe(e);let r=t.currentTree.version,n=v6t();t.nextTree=Lr(tt({},t.currentTree),{version:n,stateID:n,dirtyAtoms:new Set,transactionMetadata:{}}),t.graphsByVersion.set(n,w6t(Tn(t.graphsByVersion.get(r))))}}var mEe=da.default.createContext({current:hEe}),M8=()=>fEe(mEe),vEe=da.default.createContext(null);function C6t(){let e=fEe(vEe);return e==null&&x8("Attempted to use a Recoil hook outside of a <RecoilRoot>. <RecoilRoot> must be an ancestor of any component that uses Recoil hooks."),e}function P8(e,t,r){let n=y6t(e,r,r.dirtyAtoms);for(let i of n){let o=t.nodeToComponentSubscriptions.get(i);if(o)for(let[u,[f,h]]of o)h(r)}}function gEe(e){let t=e.getState(),r=t.currentTree,n=r.dirtyAtoms;if(n.size){for(let[i,o]of t.nodeTransactionSubscriptions)if(n.has(i))for(let[u,f]of o)f(e);for(let[i,o]of t.transactionSubscriptions)o(e);(!Un("recoil_early_rendering_2021")||t.suspendedComponentResolvers.size)&&(P8(e,t,r),t.suspendedComponentResolvers.forEach(i=>i()),t.suspendedComponentResolvers.clear())}t.queuedComponentCallbacks_DEPRECATED.forEach(i=>i(r)),t.queuedComponentCallbacks_DEPRECATED.splice(0,t.queuedComponentCallbacks_DEPRECATED.length)}function M6t(e){let t=e.current.getState();t.commitDepth++;try{let{nextTree:r}=t;if(r===null)return;t.previousTree=t.currentTree,t.currentTree=r,t.nextTree=null,gEe(e.current),t.previousTree!=null?t.graphsByVersion.delete(t.previousTree.version):Ku("Ended batch with no previous state, which is unexpected","recoil"),t.previousTree=null,Un("recoil_memory_managament_2020")&&dEe(e.current)}finally{t.commitDepth--}}function P6t({setNotifyBatcherOfChange:e}){let t=M8(),[r,n]=A6t([]);return e(()=>n({})),l8(()=>{xzt.enqueueExecution("Batcher",()=>{M6t(t)})}),l8(()=>()=>{e(()=>{})},[e]),null}function O6t(e,t){let r=pEe();return t({set:(n,i)=>{let o=r.currentTree,u=_6t(e,o,n.key,i),f=new Set(u.keys()),h=o.nonvalidatedAtoms.clone();for(let y of f)h.delete(y);r.currentTree=Lr(tt({},o),{dirtyAtoms:zzt(o.dirtyAtoms,f),atomValues:S6t(o.atomValues,u),nonvalidatedAtoms:h})},setUnvalidatedAtomValues:n=>{n.forEach((i,o)=>{r.currentTree=b6t(r.currentTree,o,i)})}}),r}function R6t(e){return I6t().map(e).getStore_INTERNAL().getState()}var OIe=0;function q6t({initializeState_DEPRECATED:e,initializeState:t,store_INTERNAL:r,children:n}){var i;let o,u=N=>{let L=o.current.graphsByVersion;if(L.has(N))return Tn(L.get(N));let B=x6t();return L.set(N,B),B},f=(N,L)=>{if(L==null){let{transactionSubscriptions:B}=z.current.getState(),Z=OIe++;return B.set(Z,N),{release:()=>{B.delete(Z)}}}else{let{nodeTransactionSubscriptions:B}=z.current.getState();B.has(L)||B.set(L,new Map);let Z=OIe++;return Tn(B.get(L)).set(Z,N),{release:()=>{let te=B.get(L);te&&(te.delete(Z),te.size===0&&B.delete(L))}}}},h=N=>{PIe(z.current);for(let L of Object.keys(N))Tn(z.current.getState().nextTree).transactionMetadata[L]=N[L]},y=N=>{let L=z.current.getState();PIe(z.current);let B=Tn(L.nextTree),Z;try{u8=!0,Z=N(B)}finally{u8=!1}Z!==B&&(L.nextTree=Z,Un("recoil_early_rendering_2021")&&P8(q,L,Z),Tn(w.current)())},w=JB(null),T=E6t(N=>{w.current=N},[w]),A=(i=da.default.createMutableSource)!==null&&i!==void 0?i:da.default.unstable_createMutableSource,q=r!=null?r:{getState:()=>o.current,replaceState:y,getGraph:u,subscribeToTransactions:f,addTransactionMetadata:h},z=JB(q);o=JB(e!=null?O6t(q,e):t!=null?R6t(t):pEe());let F=T6t(()=>A?A(o,()=>o.current.currentTree.version):null,[A,o]);return l8(()=>()=>{for(let N of z.current.getState().knownAtoms)g6t(z.current,N)},[]),da.default.createElement(mEe.Provider,{value:z},da.default.createElement(vEe.Provider,{value:F},da.default.createElement(P6t,{setNotifyBatcherOfChange:T}),n))}function N6t(e){let i=e,{override:t}=i,r=wn(i,["override"]),n=M8();return t===!1&&n.current!==hEe?e.children:da.default.createElement(q6t,r)}var sM={useStoreRef:M8,useRecoilMutableSource:C6t,RecoilRoot:N6t,notifyComponents_FOR_TESTING:P8,sendEndOfBatchNotifications_FOR_TESTING:gEe},{loadableWithValue:k6t}=Vx,{DEFAULT_VALUE:D6t,getNode:L6t}=Ml,{copyTreeState:z6t,getRecoilValueAsLoadable:F6t,invalidateDownstreams:j6t,writeLoadableToTreeState:B6t}=pm;function RIe(e){return L6t(e.key).nodeType==="atom"}var c8=class{constructor(t,r){un(this,"_store",void 0),un(this,"_treeState",void 0),un(this,"_changes",void 0),un(this,"get",n=>{if(this._changes.has(n.key))return this._changes.get(n.key);if(!RIe(n))throw new Error("Reading selectors within atomicUpdate is not supported");let i=F6t(this._store,n,this._treeState);if(i.state==="hasValue")return i.contents;throw i.state==="hasError"?i.contents:new Error(`Expected Recoil atom ${n.key} to have a value, but it is in a loading state.`)}),un(this,"set",(n,i)=>{if(!RIe(n))throw new Error("Setting selectors within atomicUpdate is not supported");if(typeof i=="function"){let o=this.get(n);this._changes.set(n.key,i(o))}else this._changes.set(n.key,i)}),un(this,"reset",n=>{this.set(n,D6t)}),this._store=t,this._treeState=r,this._changes=new Map}newTreeState_INTERNAL(){if(this._changes.size===0)return this._treeState;let t=z6t(this._treeState);for(let[r,n]of this._changes)B6t(t,r,k6t(n));return j6t(this._store,t),t}};function V6t(e){return t=>{e.replaceState(r=>{let n=new c8(e,r);return t(n),n.newTreeState_INTERNAL()})}}var U6t={atomicUpdater:V6t},$6t=U6t.atomicUpdater,H6t=Object.freeze({__proto__:null,atomicUpdater:$6t});function G6t(e,t){let r=new Map;for(let[n,i]of e)t(i,n)&&r.set(n,i);return r}var W6t=G6t;function Z6t(e,t){let r=new Set;for(let n of e)t(n)&&r.add(n);return r}var K6t=Z6t;function Y6t(e,t){if(!e)throw new Error(t)}var X6t=Y6t,XC=X6t;function J6t(...e){let t=new Map;for(let r=0;r<e.length;r++){let n=e[r].keys(),i;for(;!(i=n.next()).done;)t.set(i.value,e[r].get(i.value))}return t}var Q6t=J6t;function eFt(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let r=0,n=e.length;r<n;r++)if(e[r]!==t[r])return!1;return!0}var tFt=eFt;var{useRef:rFt}=da.default;function nFt(){let e=rFt();if(0&&Un("recoil_infer_component_names"))var t;return"<component name not available>"}var O8=nFt,{atomicUpdater:yEe}=H6t,{batchUpdates:R8}=T8,{DEFAULT_VALUE:lM,getNode:_Ee,nodes:iFt}=Ml,{useRecoilMutableSource:oFt,useStoreRef:Bs}=sM,{isRecoilValue:Fxr}=hf,{AbstractRecoilValue:q8,getRecoilValueAsLoadable:zx,setRecoilValue:Cy,setRecoilValueLoadable:aFt,setUnvalidatedRecoilValue:sFt,subscribeToRecoilValue:N8}=pm,{updateRetainCount:Rx}=$x,{RetentionZone:lFt}=rM,{Snapshot:jxr,cloneSnapshot:Bx}=aM,{setByAddingToSet:uFt}=$Ie,{isSSR:JC}=C8,{mutableSourceExists:cFt,useMutableSource:pFt}=UIe,{useCallback:su,useEffect:dp,useMemo:bEe,useRef:ff,useState:k8}=da.default,xEe=12e4;function wEe(e,t,r){if(e.state==="hasValue")return e.contents;throw e.state==="loading"?new Promise(i=>{r.current.getState().suspendedComponentResolvers.add(i)}):e.state==="hasError"?e.contents:new Error(`Invalid value of loadable atom "${t.key}"`)}function dFt(){let e=Bs(),[t,r]=k8([]),n=ff(new Set);n.current=new Set;let i=ff(new Set),o=ff(new Map),u=su(h=>{let y=o.current.get(h);y&&(y.release(),o.current.delete(h))},[o]),f=O8();return dp(()=>{let h=e.current;function y(w,T){o.current.has(T)&&r([])}KC(n.current,i.current).forEach(w=>{if(o.current.has(w)){x8(`Double subscription to RecoilValue "${w}"`);return}let T=N8(h,new q8(w),q=>{y(q,w)},f);o.current.set(w,T),h.getState().nextTree?h.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{y(h.getState(),w)}):y(h.getState(),w)}),KC(i.current,n.current).forEach(w=>{u(w)}),i.current=n.current}),dp(()=>{let h=o.current;return()=>h.forEach((y,w)=>u(w))},[u]),bEe(()=>{function h(z){return F=>{Cy(e.current,z,F)}}function y(z){return()=>Cy(e.current,z,lM)}function w(z){var F;n.current.has(z.key)||(n.current=uFt(n.current,z.key));let N=e.current.getState();return zx(e.current,z,Un("recoil_early_rendering_2021")&&(F=N.nextTree)!==null&&F!==void 0?F:N.currentTree)}function T(z){let F=w(z);return wEe(F,z,e)}function A(z){return[T(z),h(z)]}function q(z){return[w(z),h(z)]}return{getRecoilValue:T,getRecoilValueLoadable:w,getRecoilState:A,getRecoilStateLoadable:q,getSetRecoilState:h,getResetRecoilState:y}},[n,e])}var fFt={current:0};function hFt(e){let t=Bs(),r=su(()=>{var y;let w=t.current,T=w.getState(),A=Un("recoil_early_rendering_2021")&&(y=T.nextTree)!==null&&y!==void 0?y:T.currentTree;return zx(w,e,A)},[t,e]),n=su(()=>r(),[r]),i=O8(),o=su((y,w)=>{let T=t.current;return N8(T,e,()=>{if(!Un("recoil_suppress_rerender_in_callback"))return w();let q=r();h.current.is(q)||w(),h.current=q},i).release},[t,e,i,r]),u=oFt(),f=pFt(u,n,o),h=ff(f);return dp(()=>{h.current=f}),f}function mFt(e){let t=Bs(),[r,n]=k8([]),i=O8();dp(()=>{let f=t.current,h=f.getState(),y=N8(f,e,T=>{var A;if(!Un("recoil_suppress_rerender_in_callback"))return n([]);let q=zx(f,e,f.getState().currentTree);!((A=u.current)===null||A===void 0)&&A.is(q)||n(q),u.current=q},i);if(h.nextTree)f.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{u.current=null,n([])});else{var w;if(!Un("recoil_suppress_rerender_in_callback"))return n([]);let T=zx(f,e,f.getState().currentTree);!((w=u.current)===null||w===void 0)&&w.is(T)||n(T),u.current=T}return y.release},[i,e,t]);let o=zx(t.current,e),u=ff(o);return dp(()=>{u.current=o}),o}function D8(e){return Un("recoil_memory_managament_2020")&&TEe(e),cFt()?hFt(e):mFt(e)}function SEe(e){let t=Bs(),r=D8(e);return wEe(r,e,t)}function L8(e){let t=Bs();return su(r=>{Cy(t.current,e,r)},[t,e])}function vFt(e){let t=Bs();return su(()=>{Cy(t.current,e,lM)},[t,e])}function gFt(e){return[SEe(e),L8(e)]}function yFt(e){return[D8(e),L8(e)]}function uM(e){let t=Bs();dp(()=>t.current.subscribeToTransactions(e).release,[e,t])}function qIe(e){let t=e.atomValues.toMap(),r=YC(W6t(t,(n,i)=>{let u=_Ee(i).persistence_UNSTABLE;return u!=null&&u.type!=="none"&&n.state==="hasValue"}),n=>n.contents);return Q6t(e.nonvalidatedAtoms.toMap(),r)}function _Ft(e){uM(su(t=>{let r=t.getState().previousTree,n=t.getState().currentTree;r||(Ku("Transaction subscribers notified without a previous tree being present -- this is a bug in Recoil"),r=t.getState().currentTree);let i=qIe(n),o=qIe(r),u=YC(iFt,h=>{var y,w,T,A;return{persistence_UNSTABLE:{type:(y=(w=h.persistence_UNSTABLE)===null||w===void 0?void 0:w.type)!==null&&y!==void 0?y:"none",backButton:(T=(A=h.persistence_UNSTABLE)===null||A===void 0?void 0:A.backButton)!==null&&T!==void 0?T:!1}}}),f=K6t(n.dirtyAtoms,h=>i.has(h)||o.has(h));e({atomValues:i,previousAtomValues:o,atomInfo:u,modifiedAtoms:f,transactionMetadata:tt({},n.transactionMetadata)})},[e]))}function bFt(e){uM(su(t=>{let r=Bx(t,"current"),n=Bx(t,"previous");e({snapshot:r,previousSnapshot:n})},[e]))}function IEe(e){let t=ff();return dp(()=>{t.current=e}),t.current}function xFt(){let e=Bs(),[t,r]=k8(()=>Bx(e.current)),n=IEe(t),i=ff();return dp(()=>(i.current&&!JC&&window.clearTimeout(i.current),t.retain()),[t]),uM(su(o=>r(Bx(o)),[])),n!==t&&!JC&&(i.current&&(n==null||n.release_INTERNAL(),window.clearTimeout(i.current)),t.retain(),i.current=window.setTimeout(()=>{t.release_INTERNAL(),i.current=null},xEe)),t}function EEe(){let e=Bs();return su(t=>{var r;let n=e.current.getState(),i=(r=n.nextTree)!==null&&r!==void 0?r:n.currentTree,o=t.getStore_INTERNAL().getState().currentTree;R8(()=>{let u=new Set;for(let y of[i.atomValues.keys(),o.atomValues.keys()])for(let w of y){var f,h;((f=i.atomValues.get(w))===null||f===void 0?void 0:f.contents)!==((h=o.atomValues.get(w))===null||h===void 0?void 0:h.contents)&&_Ee(w).shouldRestoreFromSnapshots&&u.add(w)}u.forEach(y=>{aFt(e.current,new q8(y),o.atomValues.has(y)?Tn(o.atomValues.get(y)):lM)}),e.current.replaceState(y=>Lr(tt({},y),{stateID:t.getID_INTERNAL()}))})},[e])}function wFt(){let e=Bs();return(t,r={})=>{R8(()=>{e.current.addTransactionMetadata(r),t.forEach((n,i)=>sFt(e.current,new q8(i),n))})}}var QC=class{},SFt=new QC;function IFt(e,t){let r=Bs(),n=EEe();return su((...i)=>{function o(w,T){Cy(r.current,w,T)}function u(w){Cy(r.current,w,lM)}let f=Bx(r.current),h=yEe(r.current),y=SFt;return R8(()=>{let w="useRecoilCallback expects a function that returns a function: it accepts a function of the type (RecoilInterface) => T = R and returns a callback function T => R, where RecoilInterface is an object {snapshot, set, ...} and T and R are the argument and return types of the callback you want to create.  Please see the docs at recoiljs.org for details.";if(typeof e!="function")throw new Error(w);let T=e({set:o,reset:u,snapshot:f,gotoSnapshot:n,transact_UNSTABLE:h});if(typeof T!="function")throw new Error(w);y=T(...i)}),y instanceof QC&&XC(!1),y},t!=null?[...t,r]:void 0)}function TEe(e){if(Un("recoil_memory_managament_2020"))return EFt(e)}function EFt(e){let r=(Array.isArray(e)?e:[e]).map(u=>u instanceof lFt?u:u.key),n=Bs();dp(()=>{if(!Un("recoil_memory_managament_2020"))return;let u=n.current;if(i.current&&!JC)window.clearTimeout(i.current),i.current=null;else for(let f of r)Rx(u,f,1);return()=>{for(let f of r)Rx(u,f,-1)}},[n,...r]);let i=ff(),o=IEe(r);if(!JC&&(o===void 0||!tFt(o,r))){let u=n.current;for(let f of r)Rx(u,f,1);if(o)for(let f of o)Rx(u,f,-1);i.current&&window.clearTimeout(i.current),i.current=window.setTimeout(()=>{i.current=null;for(let f of r)Rx(u,f,-1)},xEe)}}function TFt(e,t){let r=Bs();return bEe(()=>(...n)=>{yEe(r.current)(o=>{e(o)(...n)})},t!=null?[...t,r]:void 0)}var AFt={recoilComponentGetRecoilValueCount_FOR_TESTING:fFt,useGotoRecoilSnapshot:EEe,useRecoilCallback:IFt,useRecoilInterface:dFt,useRecoilSnapshot:xFt,useRecoilState:gFt,useRecoilStateLoadable:yFt,useRecoilTransaction:TFt,useRecoilTransactionObserver:bFt,useRecoilValue:SEe,useRecoilValueLoadable:D8,useRetain:TEe,useResetRecoilState:vFt,useSetRecoilState:L8,useSetUnvalidatedAtomValues:wFt,useTransactionObservation_DEPRECATED:_Ft,useTransactionSubscription_DEPRECATED:uM},{peekNodeInfo:CFt}=My,{useStoreRef:MFt}=sM;function PFt(){let e=MFt();return({key:t})=>CFt(e.current,e.current.getState().currentTree,t)}var OFt=PFt,{RecoilRoot:RFt,useStoreRef:qFt}=sM,{useMemo:NFt}=da.default;function kFt(){let e=qFt().current;return NFt(()=>{function t({children:r}){return da.default.createElement(RFt,{store_INTERNAL:e},r)}return t},[e])}var DFt=kFt;var{isReactNative:Bxr,isSSR:Vxr}=C8;function au(e,t,r){if(typeof e=="string"&&!e.includes("\"")&&!e.includes("\\"))return`"${e}"`;switch(typeof e){case"undefined":return"";case"boolean":return e?"true":"false";case"number":case"symbol":return String(e);case"string":return JSON.stringify(e);case"function":if((t==null?void 0:t.allowFunctions)!==!0)throw new Error("Attempt to serialize function in a Recoil cache key");return`__FUNCTION(${e.name})__`;}if(e===null)return"null";if(typeof e!="object"){var n;return(n=JSON.stringify(e))!==null&&n!==void 0?n:""}if(Di(e))return"__PROMISE__";if(Array.isArray(e))return`[${e.map((i,o)=>au(i,t,o.toString()))}]`;if(typeof e.toJSON=="function")return au(e.toJSON(r),t,r);if(e instanceof Map){let i={};for(let[o,u]of e)i[typeof o=="string"?o:au(o,t)]=u;return au(i,t,r)}return e instanceof Set?au(Array.from(e).sort((i,o)=>au(i,t).localeCompare(au(o,t))),t,r):Symbol!==void 0&&e[Symbol.iterator]!=null&&typeof e[Symbol.iterator]=="function"?au(Array.from(e),t,r):`{${Object.keys(e).filter(i=>e[i]!==void 0).sort().map(i=>`${au(i,t)}:${au(e[i],t,i)}`).join(",")}}`}function LFt(e,t={allowFunctions:!1}){return au(e,t)}var cM=LFt,p8=class{constructor(t){var r,n,i;un(this,"_numLeafs",void 0),un(this,"_root",void 0),un(this,"_onHit",void 0),un(this,"_onSet",void 0),un(this,"_mapNodeValue",void 0),this._numLeafs=0,this._root=null,this._onHit=(r=t==null?void 0:t.onHit)!==null&&r!==void 0?r:()=>{},this._onSet=(n=t==null?void 0:t.onSet)!==null&&n!==void 0?n:()=>{},this._mapNodeValue=(i=t==null?void 0:t.mapNodeValue)!==null&&i!==void 0?i:o=>o}size(){return this._numLeafs}root(){return this._root}get(t,r){var n;return(n=this.getLeafNode(t,r))===null||n===void 0?void 0:n.value}getLeafNode(t,r){return AEe(this.root(),n=>this._mapNodeValue(t(n)),{onNodeVisit:n=>{r==null||r.onNodeVisit(n),n.type==="leaf"&&this._onHit(n)}})}set(t,r,n){let i,o=d8(this.root(),t.map(([u,f])=>[u,this._mapNodeValue(f)]),null,r,null,{onNodeVisit:u=>{n==null||n.onNodeVisit(u),u.type==="leaf"&&(i=u)}});this.root()||(this._root=o),this._numLeafs++,this._onSet(Tn(i))}delete(t){if(!this.root())return!1;let r=Tn(this.root());return zFt(r,t,t.parent)?t===r||r.type==="branch"&&!r.branches.size?(this._root=null,this._numLeafs=0,!0):(this._numLeafs-=MEe(t),!0):!1}clear(){this._numLeafs=0,this._root=null}},AEe=(e,t,r)=>{var n;if(e==null)return;if(r==null||(n=r.onNodeVisit)===null||n===void 0||n.call(r,e),e.type==="leaf")return e;let i=t(e.nodeKey);return AEe(e.branches.get(i),t,r)},d8=(e,t,r,n,i,o)=>{var u;let f;if(e==null){if(t.length===0)f={type:"leaf",value:n,parent:r,branchKey:i};else{let[h,...y]=t,[w,T]=h;f={type:"branch",nodeKey:w,parent:r,branches:new Map,branchKey:i},f.branches.set(T,d8(null,y,f,n,T,o))}}else if(f=e,t.length){let[h,...y]=t,[w,T]=h;e.type==="branch"&&e.nodeKey===w||XC(!1),e.branches.set(T,d8(e.branches.get(T),y,e,n,T,o))}return o==null||(u=o.onNodeVisit)===null||u===void 0||u.call(o,f),f},zFt=(e,t,r)=>r?(r.branches.delete(t.branchKey),CEe(e,r,r.parent)):e===t,CEe=(e,t,r)=>r?(t.branches.size===0&&r.branches.delete(t.branchKey),CEe(e,r,r.parent)):e===t,MEe=e=>e.type==="leaf"?1:Array.from(e.branches.values()).reduce((t,r)=>t+MEe(r),0),FFt={TreeCache:p8},jFt=FFt.TreeCache,PEe=Object.freeze({__proto__:null,TreeCache:jFt}),f8=class{constructor(t){var r;un(this,"_maxSize",void 0),un(this,"_size",void 0),un(this,"_head",void 0),un(this,"_tail",void 0),un(this,"_map",void 0),un(this,"_keyMapper",void 0),this._maxSize=t.maxSize,this._size=0,this._head=null,this._tail=null,this._map=new Map,this._keyMapper=(r=t.mapKey)!==null&&r!==void 0?r:n=>n}head(){return this._head}tail(){return this._tail}size(){return this._size}maxSize(){return this._maxSize}has(t){return this._map.has(this._keyMapper(t))}get(t){let r=this._keyMapper(t),n=this._map.get(r);if(n)return this.set(t,n.value),n.value}set(t,r){let n=this._keyMapper(t);this._map.get(n)&&this.delete(t);let o=this.head(),u={key:t,right:o,left:null,value:r};o?o.left=u:this._tail=u,this._map.set(n,u),this._head=u,this._size++,this._maybeDeleteLRU()}_maybeDeleteLRU(){this.size()>this.maxSize()&&this.deleteLru()}deleteLru(){let t=this.tail();t&&this.delete(t.key)}delete(t){let r=this._keyMapper(t);if(!this._size||!this._map.has(r))return;let n=Tn(this._map.get(r)),i=n.right,o=n.left;i&&(i.left=n.left),o&&(o.right=n.right),n===this.head()&&(this._head=i),n===this.tail()&&(this._tail=o),this._map.delete(r),this._size--}clear(){this._size=0,this._head=null,this._tail=null,this._map=new Map}},BFt={LRUCache:f8},VFt=BFt.LRUCache,OEe=Object.freeze({__proto__:null,LRUCache:VFt}),{LRUCache:UFt}=OEe,{TreeCache:$Ft}=PEe;function HFt(e,t=r=>r){let r=new UFt({maxSize:e}),n=new $Ft({mapNodeValue:t,onHit:i=>{r.set(i,!0)},onSet:i=>{let o=r.tail();r.set(i,!0),o&&n.size()>e&&n.delete(o.key)}});return n}var NIe=HFt,{TreeCache:GFt}=PEe,zC={equality:"reference",eviction:"keep-all",maxSize:1/0};function WFt({equality:e=zC.equality,eviction:t=zC.eviction,maxSize:r=zC.maxSize}=zC){let n=ZFt(e);return KFt(t,r,n)}function ZFt(e){switch(e){case"reference":return t=>t;case"value":return t=>cM(t);}throw new Error(`Unrecognized equality policy ${e}`)}function KFt(e,t,r){switch(e){case"keep-all":return new GFt({mapNodeValue:r});case"lru":return NIe(Tn(t),r);case"most-recent":return NIe(1,r);}throw new Error(`Unrecognized eviction policy ${e}`)}var YFt=WFt;function XFt(e){return()=>null}var JFt={startPerfBlock:XFt},{CANCELED:qx,Canceled:QFt,loadableWithError:Nx,loadableWithPromise:ejt,loadableWithValue:QB}=Vx,{getNodeLoadable:kIe,peekNodeLoadable:tjt,setNodeValue:rjt}=My,{saveDependencyMapToStore:njt}=Ux,{DEFAULT_VALUE:ijt,RecoilValueNotReady:ojt,getConfigDeletionHandler:ajt,registerNode:DIe}=Ml,{isRecoilValue:sjt}=hf,{AbstractRecoilValue:ljt}=hf,{setRecoilValueLoadable:ujt}=pm,{retainedByOptionWithDefault:cjt}=$x,{cloneSnapshot:pjt}=aM,{startPerfBlock:djt}=JFt,kx=[],FC=new Map,fjt=(()=>{let e=0;return()=>e++})();function hjt(){return{depValuesDiscoveredSoFarDuringAsyncWork:null,latestLoadable:null,latestExecutionId:null,stateVersion:null}}function mjt(e){let{key:t,get:r,cachePolicy_UNSTABLE:n}=e,i=e.set!=null?e.set:void 0,o=YFt(n!=null?n:{equality:"reference",eviction:"keep-all"}),u=cjt(e.retainedBy_UNSTABLE),f=new Map,h=0;function y(){return!Un("recoil_memory_managament_2020")||h>0}function w(Pe){return f.has(Pe)||f.set(Pe,hjt()),Tn(f.get(Pe))}function T(Pe){return h++,Pe.getState().knownSelectors.add(t),()=>{h--,Pe.getState().knownSelectors.delete(t),f.delete(Pe)}}function A(){return ajt(t)!==void 0&&!y()}function q(Pe,he,Re){if(he.state==="loading"){let Te=FC.get(Re);Te==null&&FC.set(Re,Te=new Set),Te.add(Pe)}}function z(Pe,he){let Re=FC.get(he);if(Re!==void 0){for(let Te of Re)ujt(Te,new ljt(t),Pe);FC.delete(he)}}function F(Pe,he,Re){let Te=Pe.getState().knownSelectors.has(Re);if(Te&&he.atomValues.has(Re))return Tn(he.atomValues.get(Re));let Ke=kIe(Pe,he,Re);return Ke.state!=="loading"&&Te&&he.atomValues.set(Re,Ke),Ke}function N(Pe,he,Re,Te,Ke){return he.then(Ge=>{if(!y())return ze(Pe,Ke),qx;let wt=QB(Ge);return ut(Re,ye(Te),wt),Z(Pe,Re,new Set(Te.keys()),Ke),B(Pe,wt,Ke),{__value:Ge,__key:t}}).catch(Ge=>{if(!y())return ze(Pe,Ke),qx;if(ke(Pe,Ke)&&ot(Te,Pe,Ke),Di(Ge))return L(Pe,Ge,Re,Te,Ke);let wt=Nx(Ge);throw ut(Re,ye(Te),wt),Z(Pe,Re,new Set(Te.keys()),Ke),B(Pe,wt,Ke),Ge})}function L(Pe,he,Re,Te,Ke){return he.then(Ge=>{if(!y())return ze(Pe,Ke),qx;if(Ge instanceof QFt)return Ku("Selector was released while it had dependencies"),qx;let{__key:wt,__value:St}=Ge!=null?Ge:{},Ot=!0;wt!=null&&(Re.atomValues.set(wt,QB(St)),Ot=!1);let xe=ce(Pe,Re);if(xe&&xe.state==="hasValue")return $e(xe,Pe),{__value:xe.contents,__key:t};if(!ke(Pe,Ke)){var pt;let $t=Be(Re);if(($t==null||(pt=$t.latestLoadable)===null||pt===void 0?void 0:pt.state)==="loading")return $t.latestLoadable.contents}let[Ut,ht]=ue(Pe,Re,Ke,Ot);if(ke(Pe,Ke)&&ot(ht,Pe,Ke),je(Ut),Ut.state!=="loading"&&(ut(Re,ye(ht),Ut),Z(Pe,Re,new Set(ht.keys()),Ke),B(Pe,Ut,Ke)),Ut.state==="hasError")throw Ut.contents;return Ut.state==="hasValue"?{__value:Ut.contents,__key:t}:Ut.contents}).catch(Ge=>{if(!y())return ze(Pe,Ke),qx;let wt=Nx(Ge);throw ut(Re,ye(Te),Nx(Ge)),Z(Pe,Re,new Set(Te.keys()),Ke),B(Pe,wt,Ke),Ge})}function B(Pe,he,Re){ke(Pe,Re)&&($e(he,Pe),z(he,Re))}function Z(Pe,he,Re,Te){var Ke,Ge,wt,St;if(ke(Pe,Te)||he.version===((Ke=Pe.getState())===null||Ke===void 0||(Ge=Ke.currentTree)===null||Ge===void 0?void 0:Ge.version)||he.version===((wt=Pe.getState())===null||wt===void 0||(St=wt.nextTree)===null||St===void 0?void 0:St.version)){var Ot,xe,pt;njt(new Map([[t,Re]]),Pe,(Ot=(xe=Pe.getState())===null||xe===void 0||(pt=xe.nextTree)===null||pt===void 0?void 0:pt.version)!==null&&Ot!==void 0?Ot:Pe.getState().currentTree.version)}}function te(Pe,he,Re,Te,Ke){Re.add(Te),Z(Pe,he,Re,Ke)}function ue(Pe,he,Re,Te=!1){let Ke=djt(t),Ge,wt=!1,St,Ot=new Map,xe=new Set;Z(Pe,he,xe,Re);function pt($t){let{key:lr}=$t;te(Pe,he,xe,lr,Re);let Bt=Te?kIe(Pe,he,lr):F(Pe,he,lr);if(je(Bt),Ot.set(lr,Bt),Bt.state==="hasValue")return Bt.contents;throw Bt.contents}let Ut=!1,ht=$t=>(...lr)=>{if(!Ut)throw new Error("getCallback() should only be called asynchronously after the selector is evalutated.  It can be used for selectors to return objects with callbacks that can obtain the current Recoil state without a subscription.");let Bt=pjt(Pe),ur=$t({snapshot:Bt});if(typeof ur!="function")throw new Error("getCallback() expects a function that returns a function.");return ur(...lr)};try{Ge=r({get:pt,getCallback:ht}),Ge=sjt(Ge)?pt(Ge):Ge,Ut=!0,Di(Ge)?Ge=N(Pe,Ge,he,Ot,Re).finally(Ke):Ke()}catch($t){Ge=$t,Di(Ge)?Ge=L(Pe,Ge,he,Ot,Re).finally(Ke):(wt=!0,Ke())}return wt?St=Nx(Ge):Di(Ge)?St=ejt(Ge):St=QB(Ge),je(St),[St,Ot]}function ce(Pe,he){let Re=new Set,Te=w(Pe),Ke=o.get(Ge=>(typeof Ge!="string"&&XC(!1),F(Pe,he,Ge).contents),{onNodeVisit:Ge=>{Ge.type==="branch"&&Ge.nodeKey!==t&&typeof Ge.nodeKey=="string"&&Re.add(Ge.nodeKey)}});return Ke&&Z(Pe,he,Re,Te.latestExecutionId),Ke}function ye(Pe){return Array.from(Pe.entries()).map(([he,Re])=>[he,Re.contents])}function Ne(Pe,he){let Re=fjt(),[Te,Ke]=ue(Pe,he,Re);return $e(Te,Pe,Ke,Re,he),Qe(he,ye(Ke),Te),q(Pe,Te,Re),Te}function Se(Pe,he){let Re=ce(Pe,he);if(Re!=null)return $e(Re,Pe),Re;let Te=Be(he);if(Te){let Ke=Te;return q(Pe,Tn(Ke.latestLoadable),Tn(Ke.latestExecutionId)),Tn(Ke.latestLoadable)}return Ne(Pe,he)}function Be(Pe){var he;let[,Re]=(he=Array.from(f.entries()).find(([Te,Ke])=>Ke.latestLoadable!=null&&Ke.latestExecutionId!=null&&!Xe(Te,Pe)))!==null&&he!==void 0?he:[];return Re}let He=new Map;function Xe(Pe,he){var Re,Te;let Ke=w(Pe),Ge=(Re=Ke.depValuesDiscoveredSoFarDuringAsyncWork)!==null&&Re!==void 0?Re:new Map,wt=Array(((Te=He.get(he.version))!==null&&Te!==void 0?Te:new Map).entries()),St=He.has(he.version)&&wt.length===Ge.size&&wt.every(([Ot,xe])=>Ge.get(Ot)===xe);return Ge==null||he.version===Ke.stateVersion||St?!1:(He.set(he.version,new Map(Ge)),Array.from(Ge).some(([Ot,xe])=>F(Pe,he,Ot).contents!==xe.contents))}function $e(Pe,he,Re,Te,Ke){let Ge=w(he);Pe.state==="loading"?(Ge.depValuesDiscoveredSoFarDuringAsyncWork=Re,Ge.latestExecutionId=Te,Ge.latestLoadable=Pe,Ge.stateVersion=Ke==null?void 0:Ke.version):(Ge.depValuesDiscoveredSoFarDuringAsyncWork=null,Ge.latestExecutionId=null,Ge.latestLoadable=null,Ge.stateVersion=null)}function Qe(Pe,he,Re){Re.state!=="loading"&&ut(Pe,he,Re)}function ot(Pe,he,Re){let Te=w(he);ke(he,Re)&&(Te.depValuesDiscoveredSoFarDuringAsyncWork=Pe)}function ze(Pe,he){ke(Pe,he)&&f.delete(Pe)}function ke(Pe,he){let Re=w(Pe);return he===Re.latestExecutionId}function je(Pe){Pe.state!=="loading"&&(Pe.contents,void 0)}function lt(Pe){}function ut(Pe,he,Re){Pe.atomValues.set(t,Re),o.set(he,Re)}function vt(Pe){if(kx.includes(t)){let he=`Recoil selector has circular dependencies: ${kx.slice(kx.indexOf(t)).join(" \u2192 ")}`;return Nx(new Error(he))}kx.push(t);try{return Pe()}finally{kx.pop()}}function Fe(Pe,he){return o.get(Te=>{typeof Te!="string"&&XC(!1);let Ke=tjt(Pe,he,Te);return Ke==null?void 0:Ke.contents})}function We(Pe,he){return vt(()=>Se(Pe,he))}function it(Pe){Pe.atomValues.delete(t)}return i!=null?DIe({key:t,nodeType:"selector",peek:Fe,get:We,set:(he,Re,Te)=>{let Ke=!1,Ge=new Map;function wt({key:pt}){if(Ke)throw new Error("Recoil: Async selector sets are not currently supported.");let Ut=F(he,Re,pt);if(je(Ut),Ut.state==="hasValue")return Ut.contents;throw Ut.state==="loading"?new ojt(pt):Ut.contents}function St(pt,Ut){if(Ke)throw new Error("Recoil: Async selector sets are not currently supported.");let ht=typeof Ut=="function"?Ut(wt(pt)):Ut;rjt(he,Re,pt.key,ht).forEach((lr,Bt)=>Ge.set(Bt,lr))}function Ot(pt){St(pt,ijt)}let xe=i({set:St,get:wt,reset:Ot},Te);if(xe!==void 0)throw Di(xe)?new Error("Recoil: Async selector sets are not currently supported."):new Error("Recoil: selector set should be a void function.");return Ke=!0,Ge},init:T,invalidate:it,shouldDeleteConfigOnRelease:A,dangerouslyAllowMutability:e.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:u}):DIe({key:t,nodeType:"selector",peek:Fe,get:We,init:T,invalidate:it,shouldDeleteConfigOnRelease:A,dangerouslyAllowMutability:e.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:u})}var eM=mjt,{loadableWithError:LIe,loadableWithPromise:zIe,loadableWithValue:Dx}=Vx,{DEFAULT_VALUE:um,DefaultValue:Iy,getConfigDeletionHandler:REe,registerNode:vjt,setConfigDeletionHandler:gjt}=Ml,{isRecoilValue:yjt}=hf,{markRecoilValueModified:_jt,setRecoilValue:FIe,setRecoilValueLoadable:bjt}=pm,{retainedByOptionWithDefault:xjt}=$x;function wjt(e){let{key:t,persistence_UNSTABLE:r}=e,n=xjt(e.retainedBy_UNSTABLE),i=0,o=Di(e.default)?zIe(e.default.then(N=>(o=Dx(N),{__key:t,__value:N})).catch(N=>{throw o=LIe(N),N})):Dx(e.default),u,f=new Map;function h(N,L){let B=L.then(Z=>{var te,ue;return((ue=((te=N.getState().nextTree)!==null&&te!==void 0?te:N.getState().currentTree).atomValues.get(t))===null||ue===void 0?void 0:ue.contents)===B&&FIe(N,F,Z),{__key:t,__value:Z}}).catch(Z=>{var te,ue;throw((ue=((te=N.getState().nextTree)!==null&&te!==void 0?te:N.getState().currentTree).atomValues.get(t))===null||ue===void 0?void 0:ue.contents)===B&&bjt(N,F,LIe(Z)),Z});return B}function y(N,L,B){i++;let Z=N.getState().knownAtoms.has(t);if(N.getState().knownAtoms.add(t),o.state==="loading"){let Se=()=>{var Be;((Be=N.getState().nextTree)!==null&&Be!==void 0?Be:N.getState().currentTree).atomValues.has(t)||_jt(N,F)};o.contents.then(Se).catch(Se)}let te=um,ue=null;if(e.effects_UNSTABLE!=null&&!Z){let Se=!0,Be=$e=>Qe=>{if(Se){let ot=te instanceof Iy||Di(te)?o.state==="hasValue"?o.contents:um:te;te=typeof Qe=="function"?Qe(ot):Qe,Di(te)&&(te=te.then(ze=>(ue={effect:$e,value:ze},ze)))}else{if(Di(Qe))throw new Error("Setting atoms to async values is not implemented.");typeof Qe!="function"&&(ue={effect:$e,value:Qe}),FIe(N,F,typeof Qe=="function"?ot=>{let ze=Qe(ot);return ue={effect:$e,value:ze},ze}:Qe)}},He=$e=>()=>Be($e)(um),Xe=$e=>Qe=>{N.subscribeToTransactions(ot=>{var ze;let{currentTree:ke,previousTree:je}=ot.getState();je||(Ku("Transaction subscribers notified without a next tree being present -- this is a bug in Recoil"),je=ke);let lt=(ze=ke.atomValues.get(t))!==null&&ze!==void 0?ze:o;if(lt.state==="hasValue"){var ut,vt,Fe,We;let it=lt.contents,Pe=(ut=je.atomValues.get(t))!==null&&ut!==void 0?ut:o,he=Pe.state==="hasValue"?Pe.contents:um;((vt=ue)===null||vt===void 0?void 0:vt.effect)!==$e||((Fe=ue)===null||Fe===void 0?void 0:Fe.value)!==it?Qe(it,he):((We=ue)===null||We===void 0?void 0:We.effect)===$e&&(ue=null)}},t)};for(let $e of(ce=e.effects_UNSTABLE)!==null&&ce!==void 0?ce:[]){var ce;let Qe=$e({node:F,trigger:B,setSelf:Be($e),resetSelf:He($e),onSet:Xe($e)});if(Qe!=null){var ye;f.set(N,[...((ye=f.get(N))!==null&&ye!==void 0?ye:[]),Qe])}}Se=!1}if(!(te instanceof Iy)){var Ne;let Se=Di(te)?zIe(h(N,te)):Dx(te);L.atomValues.set(t,Se),(Ne=N.getState().nextTree)===null||Ne===void 0||Ne.atomValues.set(t,Se)}return()=>{var Se;i--,(Se=f.get(N))===null||Se===void 0||Se.forEach(Be=>Be()),f.delete(N),N.getState().knownAtoms.delete(t)}}function w(N,L){var B,Z,te;return(B=(Z=L.atomValues.get(t))!==null&&Z!==void 0?Z:(te=u)===null||te===void 0?void 0:te[1])!==null&&B!==void 0?B:o}function T(N,L){if(L.atomValues.has(t))return Tn(L.atomValues.get(t));if(L.nonvalidatedAtoms.has(t)){if(u!=null)return u;if(r==null)return x8(`Tried to restore a persisted value for atom ${t} but it has no persistence settings.`),o;let B=L.nonvalidatedAtoms.get(t),Z=r.validator(B,um);return u=Z instanceof Iy?o:Dx(Z),u}else return o}function A(){u=void 0}function q(N,L,B){if(L.atomValues.has(t)){let Z=Tn(L.atomValues.get(t));if(Z.state==="hasValue"&&B===Z.contents)return new Map}else if(!L.nonvalidatedAtoms.has(t)&&B instanceof Iy)return new Map;return u=void 0,new Map().set(t,Dx(B))}function z(){return REe(t)!==void 0&&i<=0}let F=vjt({key:t,nodeType:"atom",peek:w,get:T,set:q,init:y,invalidate:A,shouldDeleteConfigOnRelease:z,dangerouslyAllowMutability:e.dangerouslyAllowMutability,persistence_UNSTABLE:e.persistence_UNSTABLE?{type:e.persistence_UNSTABLE.type,backButton:e.persistence_UNSTABLE.backButton}:void 0,shouldRestoreFromSnapshots:!0,retainedBy:n});return F}function qEe(e){let n=e,{default:t}=n,r=wn(n,["default"]);return yjt(t)?Sjt(Lr(tt({},r),{default:t})):wjt(Lr(tt({},r),{default:t}))}function Sjt(e){let t=qEe(Lr(tt({},e),{default:um,persistence_UNSTABLE:e.persistence_UNSTABLE===void 0?void 0:Lr(tt({},e.persistence_UNSTABLE),{validator:n=>n instanceof Iy?n:Tn(e.persistence_UNSTABLE).validator(n,um)}),effects_UNSTABLE:e.effects_UNSTABLE})),r=eM({key:`${e.key}__withFallback`,get:({get:n})=>{let i=n(t);return i instanceof Iy?e.default:i},set:({set:n},i)=>n(t,i),dangerouslyAllowMutability:e.dangerouslyAllowMutability});return gjt(r.key,REe(e.key)),r}var NEe=qEe,h8=class{constructor(t){var r;un(this,"_map",void 0),un(this,"_keyMapper",void 0),this._map=new Map,this._keyMapper=(r=t==null?void 0:t.mapKey)!==null&&r!==void 0?r:n=>n}size(){return this._map.size}has(t){return this._map.has(this._keyMapper(t))}get(t){return this._map.get(this._keyMapper(t))}set(t,r){this._map.set(this._keyMapper(t),r)}delete(t){this._map.delete(this._keyMapper(t))}clear(){this._map.clear()}},Ijt={MapCache:h8},Ejt=Ijt.MapCache,Tjt=Object.freeze({__proto__:null,MapCache:Ejt}),{LRUCache:jIe}=OEe,{MapCache:Ajt}=Tjt,jC={equality:"reference",eviction:"none",maxSize:1/0};function Cjt({equality:e=jC.equality,eviction:t=jC.eviction,maxSize:r=jC.maxSize}=jC){let n=Mjt(e);return Pjt(t,r,n)}function Mjt(e){switch(e){case"reference":return t=>t;case"value":return t=>cM(t);}throw new Error(`Unrecognized equality policy ${e}`)}function Pjt(e,t,r){switch(e){case"keep-all":return new Ajt({mapKey:r});case"lru":return new jIe({mapKey:r,maxSize:Tn(t)});case"most-recent":return new jIe({mapKey:r,maxSize:1});}throw new Error(`Unrecognized eviction policy ${e}`)}var kEe=Cjt,{setConfigDeletionHandler:Ojt}=Ml;function Rjt(e){var t,r;let n=kEe({equality:(t=(r=e.cachePolicyForParams_UNSTABLE)===null||r===void 0?void 0:r.equality)!==null&&t!==void 0?t:"value",eviction:"keep-all"});return i=>{var o;let u=n.get(i);if(u!=null)return u;let w=e,{cachePolicyForParams_UNSTABLE:f}=w,h=wn(w,["cachePolicyForParams_UNSTABLE"]),y=NEe(Lr(tt({},h),{key:`${e.key}__${(o=cM(i))!==null&&o!==void 0?o:"void"}`,default:typeof e.default=="function"?e.default(i):e.default,retainedBy_UNSTABLE:typeof e.retainedBy_UNSTABLE=="function"?e.retainedBy_UNSTABLE(i):e.retainedBy_UNSTABLE,effects_UNSTABLE:typeof e.effects_UNSTABLE=="function"?e.effects_UNSTABLE(i):e.effects_UNSTABLE}));return n.set(i,y),Ojt(y.key,()=>{n.delete(i)}),y}}var qjt=Rjt,{setConfigDeletionHandler:Njt}=Ml,kjt=0;function Djt(e){var t,r;let n=kEe({equality:(t=(r=e.cachePolicyForParams_UNSTABLE)===null||r===void 0?void 0:r.equality)!==null&&t!==void 0?t:"value",eviction:"keep-all"});return i=>{var o;let u=n.get(i);if(u!=null)return u;let f=`${e.key}__selectorFamily/${(o=cM(i,{allowFunctions:!0}))!==null&&o!==void 0?o:"void"}/${kjt++}`,h=A=>e.get(i)(A),y=e.cachePolicy_UNSTABLE,w=typeof e.retainedBy_UNSTABLE=="function"?e.retainedBy_UNSTABLE(i):e.retainedBy_UNSTABLE,T;if(e.set!=null){let A=e.set;T=eM({key:f,get:h,set:(z,F)=>A(i)(z,F),cachePolicy_UNSTABLE:y,dangerouslyAllowMutability:e.dangerouslyAllowMutability,retainedBy_UNSTABLE:w})}else T=eM({key:f,get:h,cachePolicy_UNSTABLE:y,dangerouslyAllowMutability:e.dangerouslyAllowMutability,retainedBy_UNSTABLE:w});return n.set(i,T),Njt(T.key,()=>{n.delete(i)}),T}}var mf=Djt,Ljt=mf({key:"__constant",get:e=>()=>e,cachePolicyForParams_UNSTABLE:{equality:"reference"}});function zjt(e){return Ljt(e)}var Fjt=zjt,jjt=mf({key:"__error",get:e=>()=>{throw new Error(e)},cachePolicyForParams_UNSTABLE:{equality:"reference"}});function Bjt(e){return jjt(e)}var Vjt=Bjt;function Ujt(e){return e}var $jt=Ujt,{loadableWithError:DEe,loadableWithPromise:LEe,loadableWithValue:zEe}=Vx;function pM(e,t){let r=Array(t.length).fill(void 0),n=Array(t.length).fill(void 0);for(let[i,o]of t.entries())try{r[i]=e(o)}catch(u){n[i]=u}return[r,n]}function Hjt(e){return e!=null&&!Di(e)}function dM(e){return Array.isArray(e)?e:Object.getOwnPropertyNames(e).map(t=>e[t])}function z8(e){return e!=null&&typeof e=="object"&&e.hasOwnProperty("__value")?e.__value:e}function m8(e,t){return Array.isArray(e)?t:Object.getOwnPropertyNames(e).reduce((r,n,i)=>Lr(tt({},r),{[n]:t[i]}),{})}function Ty(e,t,r){let n=r.map((i,o)=>i==null?zEe(t[o]):Di(i)?LEe(i):DEe(i));return m8(e,n)}function Gjt(e,t){return t.map((r,n)=>r===void 0?e[n]:r)}var Wjt=mf({key:"__waitForNone",get:e=>({get:t})=>{let r=dM(e),[n,i]=pM(t,r);return Ty(e,n,i)},dangerouslyAllowMutability:!0}),Zjt=mf({key:"__waitForAny",get:e=>({get:t})=>{let r=dM(e),[n,i]=pM(t,r);return i.some(o=>!Di(o))?Ty(e,n,i):new Promise(o=>{for(let[u,f]of i.entries())Di(f)&&f.then(h=>{n[u]=z8(h),i[u]=void 0,o(Ty(e,n,i))}).catch(h=>{i[u]=h,o(Ty(e,n,i))})})},dangerouslyAllowMutability:!0}),Kjt=mf({key:"__waitForAll",get:e=>({get:t})=>{let r=dM(e),[n,i]=pM(t,r);if(i.every(u=>u==null))return m8(e,n);let o=i.find(Hjt);if(o!=null)throw o;return Promise.all(i).then(u=>m8(e,Gjt(n,u).map(z8)))},dangerouslyAllowMutability:!0}),Yjt=mf({key:"__waitForAllSettled",get:e=>({get:t})=>{let r=dM(e),[n,i]=pM(t,r);return i.every(o=>!Di(o))?Ty(e,n,i):Promise.all(i.map((o,u)=>Di(o)?o.then(f=>{n[u]=z8(f),i[u]=void 0}).catch(f=>{n[u]=void 0,i[u]=f}):null)).then(()=>Ty(e,n,i))},dangerouslyAllowMutability:!0}),Xjt=mf({key:"__noWait",get:e=>({get:t})=>{try{return zEe(t(e))}catch(r){return Di(r)?LEe(r):DEe(r)}},dangerouslyAllowMutability:!0}),Jjt={waitForNone:Wjt,waitForAny:Zjt,waitForAll:Kjt,waitForAllSettled:Yjt,noWait:Xjt},{batchUpdates:Qjt,setBatcher:eBt}=T8,{DefaultValue:tBt}=Ml,{RecoilRoot:rBt}=sM,{isRecoilValue:nBt}=hf,{retentionZone:iBt}=rM,{freshSnapshot:oBt}=aM,{useGotoRecoilSnapshot:aBt,useRecoilCallback:sBt,useRecoilSnapshot:lBt,useRecoilState:uBt,useRecoilStateLoadable:cBt,useRecoilTransaction:pBt,useRecoilTransactionObserver:dBt,useRecoilValue:fBt,useRecoilValueLoadable:hBt,useResetRecoilState:mBt,useRetain:vBt,useSetRecoilState:gBt,useSetUnvalidatedAtomValues:yBt,useTransactionObservation_DEPRECATED:_Bt}=AFt,{noWait:bBt,waitForAll:xBt,waitForAllSettled:wBt,waitForAny:SBt,waitForNone:IBt}=Jjt,an={DefaultValue:tBt,RecoilRoot:rBt,useRecoilBridgeAcrossReactRoots_UNSTABLE:DFt,atom:NEe,selector:eM,retentionZone:iBt,atomFamily:qjt,selectorFamily:mf,constSelector:Fjt,errorSelector:Vjt,readOnlySelector:$jt,useRecoilValue:fBt,useRecoilValueLoadable:hBt,useRecoilState:uBt,useRecoilStateLoadable:cBt,useSetRecoilState:gBt,useResetRecoilState:mBt,useGetRecoilValueInfo_UNSTABLE:OFt,useRetain:vBt,useRecoilCallback:sBt,useRecoilTransaction_UNSTABLE:pBt,useGotoRecoilSnapshot:aBt,useRecoilSnapshot:lBt,useRecoilTransactionObserver_UNSTABLE:dBt,useTransactionObservation_UNSTABLE:_Bt,useSetUnvalidatedAtomValues_UNSTABLE:yBt,noWait:bBt,waitForNone:IBt,waitForAny:SBt,waitForAll:xBt,waitForAllSettled:wBt,isRecoilValue:nBt,batchUpdates:Qjt,setBatcher:eBt,snapshot_UNSTABLE:oBt},Uxr=an.DefaultValue,FEe=an.RecoilRoot,$xr=an.useRecoilBridgeAcrossReactRoots_UNSTABLE,_i=an.atom,Hxr=an.selector,Gxr=an.retentionZone,Wxr=an.atomFamily,Zxr=an.selectorFamily,Kxr=an.constSelector,Yxr=an.errorSelector,Xxr=an.readOnlySelector,cr=an.useRecoilValue,Jxr=an.useRecoilValueLoadable,sn=an.useRecoilState,Qxr=an.useRecoilStateLoadable,di=an.useSetRecoilState,ewr=an.useResetRecoilState,twr=an.useGetRecoilValueInfo_UNSTABLE,rwr=an.useRetain,nwr=an.useRecoilCallback,iwr=an.useRecoilTransaction_UNSTABLE,owr=an.useGotoRecoilSnapshot,awr=an.useRecoilSnapshot,swr=an.useRecoilTransactionObserver_UNSTABLE,lwr=an.useTransactionObservation_UNSTABLE,uwr=an.useSetUnvalidatedAtomValues_UNSTABLE,cwr=an.noWait,pwr=an.waitForNone,dwr=an.waitForAny,fwr=an.waitForAll,hwr=an.waitForAllSettled,mwr=an.isRecoilValue,vwr=an.batchUpdates,gwr=an.setBatcher,ywr=an.snapshot_UNSTABLE;var Dl=ne(Ve(),1),kl=ne(Xt(),1);function WEe(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=WEe(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function ABt(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=WEe(e))&&(n&&(n+=" "),n+=t);return n}var kr=ABt;var QTe=ne(fm(),1);var fs={BASEMAPS:[{id:"slub-osm",label:"SLUB OSM",urls:["https://tile-2.kartenforum.slub-dresden.de/styles/maptiler-basic-v2/style.json"],type:"vector",tileSize:512},{id:"bkg-topoplus",label:"BKG TopPlusOpen",urls:["https://sgx.geodatenzentrum.de/wms_topplus_open"],type:"wms",layers:"web",tileSize:512}],ENABLE_TILE_PRELOADING:!1,LANGUAGE_CODE:"en",MARKER_IMAGE_ID:"marker",USERNAME:"anonymous",USER_ISAUTHENTICATED:!1},Zr={axiosApiInstance:null,appendSettings(e){fs=Object.assign({},fs,e)},getSettings(){return fs},getBaseMaps(){return fs.BASEMAPS},getDefaultBaseMapUrls(){return["https://tile-1.kartenforum.slub-dresden.de/styles/maptiler-basic-v2/{z}/{x}/{y}.png","https://tile-2.kartenforum.slub-dresden.de/styles/maptiler-basic-v2/{z}/{x}/{y}.png"]},getDefaultMapView(){return Object.assign({center:[14.9928,51.1463],zoom:6.3,maxZoom:19,minZoom:0},fs.MAPVIEW_PARAMS)},getLanguageDict(){return fs.dictionary},getMin3DZoomLevel(){return 9},getNominatimUrl(){return fs.NOMINATIM_URL},getTerrain(){return Object.assign({url:"https://terrain.kartenforum.slub-dresden.de/v2/{z}/{x}/{y}.png",attribution:"<a href='https://kartenforum.slub-dresden.de/attribution' target='_blank'>\xA9 U.S. Geological Survey and others</a>",exaggeration:1,minZoom:0,maxZoom:12},fs.TERRAIN_TILES)},getUsername(){return fs.USERNAME},isUserAuthenticated(){return fs.USER_ISAUTHENTICATED===!0},updateSettings(e){fs=e},_initAxiosApiInstance(){let e=fs.API_GEOREFERENCE_BASEURL,t=eAe(e)&&e.length===0;if(!vn(e)||t)throw new Error("The URL for the georeference service is not set.");let r={"Dev-Mode-Secret":"","Dev-Mode-Name":""},n=Object.assign({baseURL:e,withCredentials:!0},r?{headers:{get:r,post:r,put:r,delete:r}}:{});this.axiosApiInstance=QTe.default.create(n)},getGeoreferenceApiClient(){return vn(this.axiosApiInstance)?this.axiosApiInstance:(this._initAxiosApiInstance(),this.axiosApiInstance)},getMarkerSettings(){let e=fs.MARKER_URL;if(!vn(e))throw new Error("The marker icon url is not set.");return{id:fs.MARKER_IMAGE_ID,url:e}}};var x8t="vkf-unique-control-panel",o9="basemap-selector",i9=class{constructor(){Pn(this,"id",o9)}onAdd(t){this._map=t;let r=`maplibregl-ctrl maplibregl-ctrl-group basemap-selector ${x8t}`,n=document.createElement("div");return n.className=r,this._container=n,n}onRemove(){this._container.parentNode.removeChild(this._container),this._map=void 0}},tAe=i9;var hm=ne(pAe(),1);var dAe=(e,t="control-feedback-container")=>{let r=document.getElementById(t);if(r===null){let n=e.getCanvasContainer();r=document.createElement("div"),r.id=t,n.appendChild(r)}return r};var bM=3,fAe=e=>`${(0,hm.default)(e[0],7)},${(0,hm.default)(e[1],7)}`,xM=class{constructor(){Pn(this,"buttonCopyPosition");Pn(this,"textElCurrentPosition");Pn(this,"textElSavedPosition");Pn(this,"targetEl");Pn(this,"_container");Pn(this,"_button");Pn(this,"savedPosition");Pn(this,"generateSavedText",()=>{if(this.savedPosition===void 0)return this.buttonCopyPosition!==void 0&&(this.buttonCopyPosition.style.display="none"),et("control-mouseposition-save-helper");{let t=et("control-mouseposition-saved-label");return this.buttonCopyPosition!==void 0&&(this.buttonCopyPosition.style.display="block"),t+": Lon: "+(0,hm.default)(this.savedPosition[0],bM)+" Lat: "+(0,hm.default)(this.savedPosition[1],bM)}});Pn(this,"savePosition",t=>{if(this._map){let r=t.lngLat.toArray();this.savedPosition=r.slice(),navigator.clipboard.writeText(fAe(r)),this.updatePosition(t)}});Pn(this,"updatePosition",t=>{let r=this.textElCurrentPosition,n=this.textElSavedPosition,{lngLat:i}=t;r.innerHTML="Lon: "+(0,hm.default)(i.lng,bM)+", Lat: "+(0,hm.default)(i.lat,bM),n.innerHTML=this.generateSavedText()});Pn(this,"handleCopyButtonClick",t=>{t.preventDefault(),t.stopPropagation();let r=this.savedPosition;r!==void 0&&navigator.clipboard.writeText(fAe(r)),t.target.blur()});Pn(this,"toggleMousePosition",t=>{t.preventDefault();let r="active",n=this._button.classList.contains(r),i=this._map;if(!i)return;this._button.classList.toggle(r);let o=this.targetEl,u=dAe(i);if(this.targetEl===void 0){o=document.createElement("div"),o.className="ol-control ol-mouse-position-box";let f=document.createElement("p");this.textElCurrentPosition=f;let h=document.createElement("p");this.textElSavedPosition=h;let y=document.createElement("button");y.id="position-copy-to-clipboard",y.innerHTML="<span class=\"glyphicon glyphicon-copy\"></span>",y.title=et("control-mouseposition-button-title"),this.buttonCopyPosition=y,y.addEventListener("click",this.handleCopyButtonClick);let w=document.createElement("div");w.className="saved-position-container",w.appendChild(h),w.appendChild(y),o.appendChild(f),o.appendChild(w),u.appendChild(o),this.targetEl=o}else this.textElCurrentPosition.innerHTML="",this.textElSavedPosition.innerHTML="";n?(i.off("mousemove",this.updatePosition),i.off("click",this.savePosition)):(this.savedPosition=void 0,i.on("mousemove",this.updatePosition),i.on("click",this.savePosition)),this.updatePosition({lngLat:i.unproject([t.clientX,t.clientY])}),o.classList.toggle(r),u.classList.toggle(`mouseposition-${r}`)})}onAdd(t){this._map=t;let r=document.createElement("div");r.className="maplibregl-ctrl maplibregl-ctrl-group";let n=document.createElement("button");return n.title=et("control-mouseposition-title"),n.className="maplibregl-ctrl-mouse-position",n.type="button",r.appendChild(n),this._container=r,this._button=n,n.addEventListener("click",this.toggleMousePosition,!1),this._container}onRemove(){this._map.off("mousemove",this.updatePosition),this._map.off("click",this.savePosition),this._map=null,this._container.parentNode.removeChild(this._container)}};function hAe(e,t){for(let r of e)typeof t[r]=="function"&&(t[r]=t[r].bind(t))}function qy(e,t,r){let n=window.document.createElement(e);return t!==void 0&&(n.className=t),r&&r.appendChild(n),n}function mAe(e){e.parentNode&&e.parentNode.removeChild(e)}var l9="permalink-control",s9=class{constructor(){Pn(this,"id",l9)}onAdd(t){return this._map=t,this._container=qy("div","maplibregl-ctrl maplibregl-ctrl-group permalink-control"),this._container}onRemove(){this._container.parentNode.removeChild(this._container),this._map=void 0}},vAe=s9;var lu=ne(Zx(),1);var wM=class{constructor(){Pn(this,"_map");Pn(this,"_container");Pn(this,"_terrainButton");hAe(["_toggleTerrain","_updateTerrainIcon"],this)}onAdd(t){return this._map=t,this._container=qy("div","maplibregl-ctrl maplibregl-ctrl-group"),this._terrainButton=qy("button","maplibregl-ctrl-terrain",this._container),qy("span","maplibregl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){mAe(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}_toggleTerrain(){this._map.hasTerrain()?this._map.disableTerrain():this._map.enableTerrain(),this._updateTerrainIcon()}_updateTerrainIcon(){this._terrainButton.classList.remove("maplibregl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled"),this._map.hasTerrain()?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.Disable")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.Enable"))}};function vn(e){return e!=null}function eAe(e){return typeof e=="string"||e instanceof String}function et(e){let t=Zr.getLanguageDict();if(t===void 0)throw new Error("Dictionary is undefined.");let r=t[e];return r===void 0?(console.warn(`Translation for key "${e}" was not found in dictionary.`),""):r}var yAe=()=>[{position:"top-left",control:new lu.NavigationControl({showZoom:!0,showCompass:!1,visualizePitch:!1})},{position:"top-left",control:new lu.FullscreenControl},{position:"top-left",control:new lu.NavigationControl({showZoom:!1,showCompass:!0,visualizePitch:!0})},{position:"top-left",control:new xM},{position:"top-left",control:new wM},{position:"top-left",control:new tAe},{position:"top-left",control:new lu.GeolocateControl({trackUserLocation:!0})},{position:"top-left",control:new vAe},{position:"bottom-right",control:new lu.AttributionControl({compact:!0})},{position:"bottom-right",control:new lu.ScaleControl({maxWidth:137})}];var vf="vkf-terrain";var _Ae=new Set(["fill-opacity","line-opacity","circle-opacity","icon-opacity","text-opacity","raster-opacity"]),bAe=new Set(["visibility"]),hs={None:"NONE",BasemapSelector:"BASEMAP_SELECTOR",Permalink:"PERMALINK"},Xu={controlAdded:"controlAdded",controlRemoved:"controlRemoved",opacityChanged:"opacityChanged",visibilityChanged:"visibilityChanged"};var gf={HORIZONTAL:"HORIZONTAL",VERTICAL:"VERTICAL"};var xAe=e=>{switch(e){case gf.HORIZONTAL:default:return"ol-map-large";case gf.VERTICAL:return"ol-map-small";}};var Ny=_i({key:"activeBasemapId",default:Zr.getSettings().BASEMAPS[0].id}),wAe=_i({key:"currentApplicationState",default:void 0}),SM=_i({key:"elementScreenSize",default:{map:{height:0,width:0},layermanagement:{height:0,width:0},padding:{height:15,width:15},offset:{height:15,width:0},spatialtemporalsearch:{height:0,width:0}}}),SAe={facets:[],georeference:!1},yf=_i({key:"facetState",default:{facets:[],georeference:!1}}),IAe=_i({key:"layoutState",default:gf.VERTICAL}),$n=_i({key:"mapState",default:void 0,dangerouslyAllowMutability:!0}),EAe=_i({key:"map3dState",default:!1}),IM=_i({key:"mapCountState",default:10}),EM=_i({key:"searchIsLoadingState",default:!1}),Ju=_i({key:"selectedLayersState",default:[],dangerouslyAllowMutability:!0}),i2r=_i({key:"selectedOriginalMapIdState",default:void 0}),TM=_i({key:"timeExtentState",default:[1850,1970]}),p9=[1850,1970],AM=_i({key:"timeRangeState",default:p9}),CM=_i({key:"baseMapStyleLayersState",default:[]}),TAe=_i({key:"activeDialogState",default:hs.None});var cu=ne(Ve(),1);var Pl=[];var AAe=function(){return Pl.some(function(e){return e.activeTargets.length>0})};var CAe=function(){return Pl.some(function(e){return e.skippedTargets.length>0})};var MAe="ResizeObserver loop completed with undelivered notifications.",PAe=function(){var e;typeof ErrorEvent=="function"?e=new ErrorEvent("error",{message:MAe}):(e=document.createEvent("Event"),e.initEvent("error",!1,!1),e.message=MAe),window.dispatchEvent(e)};var mm;(function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(mm||(mm={}));var uu=function(e){return Object.freeze(e)};var d9=function(){function e(t,r){this.inlineSize=t,this.blockSize=r,uu(this)}return e}();var f9=function(){function e(t,r,n,i){return this.x=t,this.y=r,this.width=n,this.height=i,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,uu(this)}return e.prototype.toJSON=function(){var t=this,r=t.x,n=t.y,i=t.top,o=t.right,u=t.bottom,f=t.left,h=t.width,y=t.height;return{x:r,y:n,top:i,right:o,bottom:u,left:f,width:h,height:y}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}();var Kx=function(e){return e instanceof SVGElement&&"getBBox"in e},MM=function(e){if(Kx(e)){var t=e.getBBox(),r=t.width,n=t.height;return!r&&!n}var i=e,o=i.offsetWidth,u=i.offsetHeight;return!(o||u||e.getClientRects().length)},h9=function(e){var t;if(e instanceof Element)return!0;var r=(t=e==null?void 0:e.ownerDocument)===null||t===void 0?void 0:t.defaultView;return!!(r&&e instanceof r.Element)},OAe=function(e){switch(e.tagName){case"INPUT":if(e.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0;}return!1};var vm=typeof window!="undefined"?window:{};var PM=new WeakMap,RAe=/auto|scroll/,B8t=/^tb|vertical/,V8t=/msie|trident/i.test(vm.navigator&&vm.navigator.userAgent),Qu=function(e){return parseFloat(e||"0")},ky=function(e,t,r){return e===void 0&&(e=0),t===void 0&&(t=0),r===void 0&&(r=!1),new d9((r?t:e)||0,(r?e:t)||0)},qAe=uu({devicePixelContentBoxSize:ky(),borderBoxSize:ky(),contentBoxSize:ky(),contentRect:new f9(0,0,0,0)}),m9=function(e,t){if(t===void 0&&(t=!1),PM.has(e)&&!t)return PM.get(e);if(MM(e))return PM.set(e,qAe),qAe;var r=getComputedStyle(e),n=Kx(e)&&e.ownerSVGElement&&e.getBBox(),i=!V8t&&r.boxSizing==="border-box",o=B8t.test(r.writingMode||""),u=!n&&RAe.test(r.overflowY||""),f=!n&&RAe.test(r.overflowX||""),h=n?0:Qu(r.paddingTop),y=n?0:Qu(r.paddingRight),w=n?0:Qu(r.paddingBottom),T=n?0:Qu(r.paddingLeft),A=n?0:Qu(r.borderTopWidth),q=n?0:Qu(r.borderRightWidth),z=n?0:Qu(r.borderBottomWidth),F=n?0:Qu(r.borderLeftWidth),N=T+y,L=h+w,B=F+q,Z=A+z,te=f?e.offsetHeight-Z-e.clientHeight:0,ue=u?e.offsetWidth-B-e.clientWidth:0,ce=i?N+B:0,ye=i?L+Z:0,Ne=n?n.width:Qu(r.width)-ce-ue,Se=n?n.height:Qu(r.height)-ye-te,Be=Ne+N+ue+B,He=Se+L+te+Z,Xe=uu({devicePixelContentBoxSize:ky(Math.round(Ne*devicePixelRatio),Math.round(Se*devicePixelRatio),o),borderBoxSize:ky(Be,He,o),contentBoxSize:ky(Ne,Se,o),contentRect:new f9(T,h,Ne,Se)});return PM.set(e,Xe),Xe},OM=function(e,t,r){var n=m9(e,r),i=n.borderBoxSize,o=n.contentBoxSize,u=n.devicePixelContentBoxSize;switch(t){case mm.DEVICE_PIXEL_CONTENT_BOX:return u;case mm.BORDER_BOX:return i;default:return o;}};var v9=function(){function e(t){var r=m9(t);this.target=t,this.contentRect=r.contentRect,this.borderBoxSize=uu([r.borderBoxSize]),this.contentBoxSize=uu([r.contentBoxSize]),this.devicePixelContentBoxSize=uu([r.devicePixelContentBoxSize])}return e}();var RM=function(e){if(MM(e))return 1/0;for(var t=0,r=e.parentNode;r;)t+=1,r=r.parentNode;return t};var NAe=function(){var e=1/0,t=[];Pl.forEach(function(u){if(u.activeTargets.length!==0){var f=[];u.activeTargets.forEach(function(y){var w=new v9(y.target),T=RM(y.target);f.push(w),y.lastReportedSize=OM(y.target,y.observedBox),T<e&&(e=T)}),t.push(function(){u.callback.call(u.observer,f,u.observer)}),u.activeTargets.splice(0,u.activeTargets.length)}});for(var r=0,n=t;r<n.length;r++){var i=n[r];i()}return e};var g9=function(e){Pl.forEach(function(r){r.activeTargets.splice(0,r.activeTargets.length),r.skippedTargets.splice(0,r.skippedTargets.length),r.observationTargets.forEach(function(i){i.isActive()&&(RM(i.target)>e?r.activeTargets.push(i):r.skippedTargets.push(i))})})};var kAe=function(){var e=0;for(g9(e);AAe();)e=NAe(),g9(e);return CAe()&&PAe(),e>0};var y9,DAe=[],U8t=function(){return DAe.splice(0).forEach(function(e){return e()})},LAe=function(e){if(!y9){var t=0,r=document.createTextNode(""),n={characterData:!0};new MutationObserver(function(){return U8t()}).observe(r,n),y9=function(){r.textContent="".concat(t?t--:t++)}}DAe.push(e),y9()};var zAe=function(e){LAe(function(){requestAnimationFrame(e)})};var qM=0,$8t=function(){return!!qM},H8t=250,G8t={attributes:!0,characterData:!0,childList:!0,subtree:!0},FAe=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],jAe=function(e){return e===void 0&&(e=0),Date.now()+e},_9=!1,W8t=function(){function e(){var t=this;this.stopped=!0,this.listener=function(){return t.schedule()}}return e.prototype.run=function(t){var r=this;if(t===void 0&&(t=H8t),!_9){_9=!0;var n=jAe(t);zAe(function(){var i=!1;try{i=kAe()}finally{if(_9=!1,t=n-jAe(),!$8t())return;i?r.run(1e3):t>0?r.run(t):r.start()}})}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var t=this,r=function(){return t.observer&&t.observer.observe(document.body,G8t)};document.body?r():vm.addEventListener("DOMContentLoaded",r)},e.prototype.start=function(){var t=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),FAe.forEach(function(r){return vm.addEventListener(r,t.listener,!0)}))},e.prototype.stop=function(){var t=this;this.stopped||(this.observer&&this.observer.disconnect(),FAe.forEach(function(r){return vm.removeEventListener(r,t.listener,!0)}),this.stopped=!0)},e}(),NM=new W8t,b9=function(e){!qM&&e>0&&NM.start(),qM+=e,!qM&&NM.stop()};var Z8t=function(e){return!Kx(e)&&!OAe(e)&&getComputedStyle(e).display==="inline"},BAe=function(){function e(t,r){this.target=t,this.observedBox=r||mm.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var t=OM(this.target,this.observedBox,!0);return Z8t(this.target)&&(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}();var VAe=function(){function e(t,r){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=t,this.callback=r}return e}();var kM=new WeakMap,UAe=function(e,t){for(var r=0;r<e.length;r+=1)if(e[r].target===t)return r;return-1},Yx=function(){function e(){}return e.connect=function(t,r){var n=new VAe(t,r);kM.set(t,n)},e.observe=function(t,r,n){var i=kM.get(t),o=i.observationTargets.length===0;UAe(i.observationTargets,r)<0&&(o&&Pl.push(i),i.observationTargets.push(new BAe(r,n&&n.box)),b9(1),NM.schedule())},e.unobserve=function(t,r){var n=kM.get(t),i=UAe(n.observationTargets,r),o=n.observationTargets.length===1;i>=0&&(o&&Pl.splice(Pl.indexOf(n),1),n.observationTargets.splice(i,1),b9(-1))},e.disconnect=function(t){var r=this,n=kM.get(t);n.observationTargets.slice().forEach(function(i){return r.unobserve(t,i.target)}),n.activeTargets.splice(0,n.activeTargets.length)},e}();var x9=function(){function e(t){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof t!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");Yx.connect(this,t)}return e.prototype.observe=function(t,r){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!h9(t))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");Yx.observe(this,t,r)},e.prototype.unobserve=function(t){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!h9(t))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");Yx.unobserve(this,t)},e.prototype.disconnect=function(){Yx.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}();var $Ae=ne(Ve()),K8t=$Ae.default[typeof document!="undefined"&&document.createElement!==void 0?"useLayoutEffect":"useEffect"],HAe=K8t;var DM=ne(Ve()),Y8t=e=>{let t=DM.useRef(e);return DM.useEffect(()=>{t.current=e}),t},GAe=Y8t;var X8t=typeof window!="undefined"&&"ResizeObserver"in window?window.ResizeObserver:x9;function J8t(){}function Q8t(e,t){let r=t9t(),n=GAe(t);return HAe(()=>{let i=!1,o=e&&"current"in e?e.current:e;if(!o)return J8t;function u(f,h){i||n.current(f,h)}return r.subscribe(o,u),()=>{i=!0,r.unsubscribe(o,u)}},[e,r,n]),r.observer}function e9t(){let e=!1,t=[],r=new Map,n=new X8t((i,o)=>{t=t.concat(i);function u(){let f=new Set;for(let h=0;h<t.length;h++){if(f.has(t[h].target))continue;f.add(t[h].target);let y=r.get(t[h].target);y==null||y.forEach(w=>w(t[h],o))}t=[],e=!1}e||window.requestAnimationFrame(u),e=!0});return{observer:n,subscribe(i,o){var u;n.observe(i);let f=(u=r.get(i))!==null&&u!==void 0?u:[];f.push(o),r.set(i,f)},unsubscribe(i,o){var u;let f=(u=r.get(i))!==null&&u!==void 0?u:[];if(f.length===1){n.unobserve(i),r.delete(i);return}let h=f.indexOf(o);h!==-1&&f.splice(h,1),r.set(i,f)}}}var w9,t9t=()=>w9||(w9=e9t()),WAe=Q8t;function ZAe(e,t=250){let r=(0,cu.useRef)();return(0,cu.useEffect)(()=>{clearTimeout(r.current)},[e]),(...n)=>{r.current=window.setTimeout(()=>{e.apply(this,n)},t)}}function LM(e){let[t,r]=(0,cu.useState)(e);return(0,cu.useEffect)(()=>{r(e)},[e]),t}function zM(e,t){let r=di(SM),n=S9(e);(0,cu.useEffect)(()=>{let{height:i,width:o}=n;r(u=>Object.assign({},u,{[t]:{height:i,width:o}}))},[n])}var S9=e=>{let[t,r]=(0,cu.useState)({height:0,width:0});return(0,cu.useLayoutEffect)(()=>{r(e.current.getBoundingClientRect())},[e]),WAe(e,n=>r(n.contentRect)),t};var Yw=ne(Ve(),1),_Ne=ne(Ti(),1);var ec=ne(Ve(),1);var r9t=(e,t)=>{let r=cr($n),[n,i]=(0,ec.useState)(null),[o,u]=sn(TAe),f=(0,ec.useRef)(null),h=(0,ec.useCallback)(w=>{f.current&&!f.current.contains(w.target)&&u(hs.None)},[]),y=(0,ec.useCallback)(()=>{u(w=>w===t?hs.None:t)},[t]);return(0,ec.useEffect)(()=>{if(vn(r)){let w=A=>{var q;((q=A.control)==null?void 0:q.id)===e&&i(A.control._container)},T=A=>{var q;((q=A.control)==null?void 0:q.id)===e&&i(null)};return r.on(Xu.controlAdded,w),r.on(Xu.controlRemoved,T),()=>{r.off(Xu.controlAdded,w),r.off(Xu.controlRemoved,T)}}},[r]),(0,ec.useEffect)(()=>(o===t?document.addEventListener("mousedown",h):document.removeEventListener("mousedown",h),()=>{document.removeEventListener("mousedown",h)}),[o,t,h]),{baseMapControlEl:n,activeDialog:o,toggleDialog:y,dialogRef:f}},FM=r9t;var ga=ne(Ve(),1);var L9=ne(WCe(),1);function mt(){return mt=L9.default?L9.default.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mt.apply(this,arguments)}var mMe=ne(iMe(),1);var B9=ne(hMe(),1);function ow(e,t){return ow=B9.default?B9.default.bind():function(n,i){return n.__proto__=i,n},ow(e,t)}function Qt(e,t){e.prototype=(0,mMe.default)(t.prototype),e.prototype.constructor=e,ow(e,t)}var xMe=ne(bMe(),1);function tr(e,t){if(e==null)return{};var r={},n=(0,xMe.default)(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function Yr(){return Yr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yr.apply(this,arguments)}function gm(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var $9=ne(Ve());var BEr=ne(XM()),p7t=function(){};function SMe(e,t){var r={};return Object.keys(e).forEach(function(n){if(r[Fy(n)]=p7t,0)var i}),r}function U9(e,t){return e[t]!==void 0}function Fy(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function IMe(e){return!!e&&(typeof e!="function"||e.prototype&&e.prototype.isReactComponent)}function ym(e,t){return ym=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ym(e,t)}function aw(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,ym(e,t)}var jy=ne(Ve()),MMe=ne(G9()),PMe=ne(XM());var f7t="/Users/jquense/src/uncontrollable/src/uncontrollable.js";function hp(e,t,r){r===void 0&&(r=[]);var n=e.displayName||e.name||"Component",i=IMe(e),o=Object.keys(t),u=o.map(Fy);i||!r.length||(0,PMe.default)(!1);var f=function(y){aw(w,y);function w(){for(var A,q=arguments.length,z=new Array(q),F=0;F<q;F++)z[F]=arguments[F];A=y.call.apply(y,[this].concat(z))||this,A.handlers=Object.create(null),o.forEach(function(L){var B=t[L],Z=function(ue){if(A.props[B]){var ce;A._notifying=!0;for(var ye=arguments.length,Ne=new Array(ye>1?ye-1:0),Se=1;Se<ye;Se++)Ne[Se-1]=arguments[Se];(ce=A.props)[B].apply(ce,[ue].concat(Ne)),A._notifying=!1}A.unmounted||A.setState(function(Be){var He,Xe=Be.values;return{values:Yr(Object.create(null),Xe,(He={},He[L]=ue,He))}})};A.handlers[B]=Z}),r.length&&(A.attachRef=function(L){A.inner=L});var N=Object.create(null);return o.forEach(function(L){N[L]=A.props[Fy(L)]}),A.state={values:N,prevProps:{}},A}var T=w.prototype;return T.shouldComponentUpdate=function(){return!this._notifying},w.getDerivedStateFromProps=function(q,z){var F=z.values,N=z.prevProps,L={values:Yr(Object.create(null),F),prevProps:{}};return o.forEach(function(B){L.prevProps[B]=q[B],!U9(q,B)&&U9(N,B)&&(L.values[B]=q[Fy(B)])}),L},T.componentWillUnmount=function(){this.unmounted=!0},T.render=function(){var q=this,z=this.props,F=z.innerRef,N=gm(z,["innerRef"]);u.forEach(function(B){delete N[B]});var L={};return o.forEach(function(B){var Z=q.props[B];L[B]=Z!==void 0?Z:q.state.values[B]}),jy.default.createElement(e,Yr({},N,L,this.handlers,{ref:F||this.attachRef}))},w}(jy.default.Component);(0,MMe.polyfill)(f),f.displayName="Uncontrolled("+n+")",f.propTypes=Yr({innerRef:function(){}},SMe(t,n)),r.forEach(function(y){f.prototype[y]=function(){var T;return(T=this.inner)[y].apply(T,arguments)}});var h=f;return jy.default.forwardRef&&(h=jy.default.forwardRef(function(y,w){return jy.default.createElement(f,Yr({},y,{innerRef:w,__source:{fileName:f7t,lineNumber:128},__self:this}))}),h.propTypes=f.propTypes),h.ControlledComponent=e,h.deferControlTo=function(y,w,T){return w===void 0&&(w={}),hp(y,Yr({},t,w),T)},h}var K9=ne(Z9());var zMe=ne(XM()),JM=ne(Xt());var ha={LARGE:"large",SMALL:"small",XSMALL:"xsmall"},sw={large:"lg",medium:"md",small:"sm",xsmall:"xs",lg:"lg",md:"md",sm:"sm",xs:"xs"};var LMe={SUCCESS:"success",WARNING:"warning",DANGER:"danger",INFO:"info"},lw={DEFAULT:"default",PRIMARY:"primary",LINK:"link",INVERSE:"inverse"};function Y9(e){return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[r.length-1];return typeof i=="function"?e.apply(void 0,r):function(o){return e.apply(void 0,r.concat([o]))}}}function Cr(e,t){var r=(e.bsClass||"").trim();return r==null&&(0,zMe.default)(!1),r+(t?"-"+t:"")}var vr=Y9(function(e,t){var r=t.propTypes||(t.propTypes={}),n=t.defaultProps||(t.defaultProps={});return r.bsClass=JM.default.string,n.bsClass=e,t}),QM=Y9(function(e,t,r){typeof t!="string"&&(r=t,t=void 0);var n=r.STYLES||[],i=r.propTypes||{};e.forEach(function(f){n.indexOf(f)===-1&&n.push(f)});var o=JM.default.oneOf(n);if(r.STYLES=n,o._values=n,r.propTypes=mt({},i,{bsStyle:o}),t!==void 0){var u=r.defaultProps||(r.defaultProps={});u.bsStyle=t}return r}),tc=Y9(function(e,t,r){typeof t!="string"&&(r=t,t=void 0);var n=r.SIZES||[],i=r.propTypes||{};e.forEach(function(f){n.indexOf(f)===-1&&n.push(f)});var o=[];n.forEach(function(f){var h=sw[f];h&&h!==f&&o.push(h),o.push(f)});var u=JM.default.oneOf(o);return u._values=o,r.SIZES=n,r.propTypes=mt({},i,{bsSize:u}),t!==void 0&&(r.defaultProps||(r.defaultProps={}),r.defaultProps.bsSize=t),r});function Xr(e){var t,r=(t={},t[Cr(e)]=!0,t);if(e.bsSize){var n=sw[e.bsSize]||e.bsSize;r[Cr(e,n)]=!0}return e.bsStyle&&(r[Cr(e,e.bsStyle)]=!0),r}function FMe(e){return{bsClass:e.bsClass,bsSize:e.bsSize,bsStyle:e.bsStyle,bsRole:e.bsRole}}function jMe(e){return e==="bsClass"||e==="bsSize"||e==="bsStyle"||e==="bsRole"}function cn(e){var t={};return(0,K9.default)(e).forEach(function(r){var n=r[0],i=r[1];jMe(n)||(t[n]=i)}),[FMe(e),t]}function rc(e,t){var r={};t.forEach(function(i){r[i]=!0});var n={};return(0,K9.default)(e).forEach(function(i){var o=i[0],u=i[1];!jMe(o)&&!r[o]&&(n[o]=u)}),[FMe(e),n]}var ko=ne(Ve());function _7t(e,t,r){var n=0;return ko.default.Children.map(e,function(i){return ko.default.isValidElement(i)?t.call(r,i,n++):i})}function b7t(e,t,r){var n=0;ko.default.Children.forEach(e,function(i){ko.default.isValidElement(i)&&t.call(r,i,n++)})}function x7t(e){var t=0;return ko.default.Children.forEach(e,function(r){ko.default.isValidElement(r)&&++t}),t}function w7t(e,t,r){var n=0,i=[];return ko.default.Children.forEach(e,function(o){ko.default.isValidElement(o)&&t.call(r,o,n++)&&i.push(o)}),i}function S7t(e,t,r){var n=0,i;return ko.default.Children.forEach(e,function(o){i||ko.default.isValidElement(o)&&t.call(r,o,n++)&&(i=o)}),i}function I7t(e,t,r){var n=0,i=!0;return ko.default.Children.forEach(e,function(o){i&&ko.default.isValidElement(o)&&(t.call(r,o,n++)||(i=!1))}),i}function E7t(e,t,r){var n=0,i=!1;return ko.default.Children.forEach(e,function(o){i||ko.default.isValidElement(o)&&t.call(r,o,n++)&&(i=!0)}),i}function T7t(e){var t=[];return ko.default.Children.forEach(e,function(r){ko.default.isValidElement(r)&&t.push(r)}),t}var mo={map:_7t,forEach:b7t,count:x7t,find:S7t,filter:w7t,every:I7t,some:E7t,toArray:T7t};var tP=ne(Xt()),X9=ne(uw());var vTr=tP.default.oneOfType([tP.default.string,tP.default.number]);function VMe(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,X9.default)(function(n,i,o){var u;return t.every(function(f){return mo.some(n.children,function(h){return h.props.bsRole===f})?!0:(u=f,!1)}),u?new Error("(children) "+o+" - Missing a required child with bsRole: "+(u+". "+o+" must have at least one child of each of ")+("the following bsRoles: "+t.join(", "))):null})}function UMe(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,X9.default)(function(n,i,o){var u;return t.every(function(f){var h=mo.filter(n.children,function(y){return y.props.bsRole===f});return h.length>1?(u=f,!1):!0}),u?new Error("(children) "+o+" - Duplicate children detected of bsRole: "+(u+". Only one child each allowed with the following ")+("bsRoles: "+t.join(", "))):null})}var J9=ne(Xt()),cw=ne(Ve()),M7t={label:J9.default.string.isRequired,onClick:J9.default.func},P7t={label:"Close"},Q9=function(e){Qt(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this.props,o=i.label,u=i.onClick;return cw.default.createElement("button",{type:"button",className:"close",onClick:u},cw.default.createElement("span",{"aria-hidden":"true"},"\xD7"),cw.default.createElement("span",{className:"sr-only"},o))},t}(cw.default.Component);Q9.propTypes=M7t;Q9.defaultProps=P7t;var YMe=Q9;function Mr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var n7=ne(Ve()),mp=ne(Xt()),iPe=ne(Do());function V7t(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter(function(n){return n!=null}).reduce(function(n,i){if(typeof i!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return n===null?i:function(){for(var u=arguments.length,f=new Array(u),h=0;h<u;h++)f[h]=arguments[h];n.apply(this,f),i.apply(this,f)}},null)}var Gn=V7t;var U7t={href:mp.default.string,onClick:mp.default.func,onKeyDown:mp.default.func,disabled:mp.default.bool,role:mp.default.string,tabIndex:mp.default.oneOfType([mp.default.number,mp.default.string]),componentClass:iPe.default},$7t={componentClass:"a"};function nPe(e){return!e||e.trim()==="#"}var i7=function(e){Qt(t,e);function t(n,i){var o;return o=e.call(this,n,i)||this,o.handleClick=o.handleClick.bind(Mr(Mr(o))),o.handleKeyDown=o.handleKeyDown.bind(Mr(Mr(o))),o}var r=t.prototype;return r.handleClick=function(i){var o=this.props,u=o.disabled,f=o.href,h=o.onClick;if((u||nPe(f))&&i.preventDefault(),u){i.stopPropagation();return}h&&h(i)},r.handleKeyDown=function(i){i.key===" "&&(i.preventDefault(),this.handleClick(i))},r.render=function(){var i=this.props,o=i.componentClass,u=i.disabled,f=i.onKeyDown,h=tr(i,["componentClass","disabled","onKeyDown"]);return nPe(h.href)&&(h.role=h.role||"button",h.href=h.href||"#"),u&&(h.tabIndex=-1,h.style=mt({pointerEvents:"none"},h.style)),n7.default.createElement(o,mt({},h,{onClick:this.handleClick,onKeyDown:Gn(this.handleKeyDown,f)}))},t}(n7.default.Component);i7.propTypes=U7t;i7.defaultProps=$7t;var bf=i7;var oPe=ne(KMe());var o7=ne($r()),fP=ne(Ve()),_m=ne(Xt()),aPe=ne(Do());var H7t={active:_m.default.bool,disabled:_m.default.bool,block:_m.default.bool,onClick:_m.default.func,componentClass:aPe.default,href:_m.default.string,type:_m.default.oneOf(["button","reset","submit"])},G7t={active:!1,block:!1,disabled:!1},a7=function(e){Qt(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.renderAnchor=function(i,o){return fP.default.createElement(bf,mt({},i,{className:(0,o7.default)(o,i.disabled&&"disabled")}))},r.renderButton=function(i,o){var u=i.componentClass,f=tr(i,["componentClass"]),h=u||"button";return fP.default.createElement(h,mt({},f,{type:f.type||"button",className:o}))},r.render=function(){var i,o=this.props,u=o.active,f=o.block,h=o.className,y=tr(o,["active","block","className"]),w=cn(y),T=w[0],A=w[1],q=mt({},Xr(T),(i={active:u},i[Cr(T,"block")]=f,i)),z=(0,o7.default)(h,q);return A.href?this.renderAnchor(A,z):this.renderButton(A,z)},t}(fP.default.Component);a7.propTypes=H7t;a7.defaultProps=G7t;var ma=vr("btn",tc([ha.LARGE,ha.SMALL,ha.XSMALL],QM((0,oPe.default)(LMe).concat([lw.DEFAULT,lw.PRIMARY,lw.LINK]),lw.DEFAULT,a7)));var lPe=ne($r()),s7=ne(Ve()),mP=ne(Xt()),uPe=ne(pw());var X7t={vertical:mP.default.bool,justified:mP.default.bool,block:(0,uPe.default)(mP.default.bool,function(e){var t=e.block,r=e.vertical;return t&&!r?new Error("`block` requires `vertical` to be set to have any effect"):null})},J7t={block:!1,justified:!1,vertical:!1},l7=function(e){Qt(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i,o=this.props,u=o.block,f=o.justified,h=o.vertical,y=o.className,w=tr(o,["block","justified","vertical","className"]),T=cn(w),A=T[0],q=T[1],z=mt({},Xr(A),(i={},i[Cr(A)]=!h,i[Cr(A,"vertical")]=h,i[Cr(A,"justified")]=f,i[Cr(ma.defaultProps,"block")]=u,i));return s7.default.createElement("div",mt({},q,{className:(0,lPe.default)(y,z)}))},t}(s7.default.Component);l7.propTypes=X7t;l7.defaultProps=J7t;var cPe=vr("btn-group",l7);var pPe=ne($r()),u7=ne(Ve()),dPe=ne(Xt());var Q7t={glyph:dPe.default.string.isRequired},fPe=function(e){Qt(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i,o=this.props,u=o.glyph,f=o.className,h=tr(o,["glyph","className"]),y=cn(h),w=y[0],T=y[1],A=mt({},Xr(w),(i={},i[Cr(w,u)]=!0,i));return u7.default.createElement("span",mt({},T,{className:(0,pPe.default)(f,A)}))},t}(u7.default.Component);fPe.propTypes=Q7t;var Gi=vr("glyphicon",fPe);var mPe=ne($r()),c7=ne(Ve()),vP=ne(Xt()),rAr=ne(xf());var tVt={htmlFor:vP.default.string,srOnly:vP.default.bool},rVt={srOnly:!1},nVt={$bs_formGroup:vP.default.object},gP=function(e){Qt(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this.context.$bs_formGroup,o=i&&i.controlId,u=this.props,f=u.htmlFor,h=f===void 0?o:f,y=u.srOnly,w=u.className,T=tr(u,["htmlFor","srOnly","className"]),A=cn(T),q=A[0],z=A[1],F=mt({},Xr(q),{"sr-only":y});return c7.default.createElement("label",mt({},z,{htmlFor:h,className:(0,mPe.default)(w,F)}))},t}(c7.default.Component);gP.propTypes=tVt;gP.defaultProps=rVt;gP.contextTypes=nVt;var p7=vr("control-label",gP);var X5e=ne($r()),J5e=ne(x7()),Q5e=ne($y()),HP=ne(RP()),Gy=ne(Ve()),Fa=ne(Xt()),F7=ne(Ti()),eOe=ne(pw()),tOe=ne(Do()),rOe=ne(NP());var JAr=ne(xf());var G5e=ne(D5e());var W5e=ne($r()),bw=ne(RP()),xw=ne(Ve()),gp=ne(Xt()),Z5e=ne(Ti()),K5e=ne(N7());var p$t={open:gp.default.bool,pullRight:gp.default.bool,onClose:gp.default.func,labelledBy:gp.default.oneOfType([gp.default.string,gp.default.number]),onSelect:gp.default.func,rootCloseEvent:gp.default.oneOf(["click","mousedown"])},d$t={bsRole:"menu",pullRight:!1},k7=function(e){Qt(t,e);function t(n){var i;return i=e.call(this,n)||this,i.handleRootClose=i.handleRootClose.bind(Mr(Mr(i))),i.handleKeyDown=i.handleKeyDown.bind(Mr(Mr(i))),i}var r=t.prototype;return r.getFocusableMenuItems=function(){var i=Z5e.default.findDOMNode(this);return i?(0,G5e.default)(i.querySelectorAll("[tabIndex=\"-1\"]")):[]},r.getItemsAndActiveIndex=function(){var i=this.getFocusableMenuItems(),o=i.indexOf(document.activeElement);return{items:i,activeIndex:o}},r.focusNext=function(){var i=this.getItemsAndActiveIndex(),o=i.items,u=i.activeIndex;if(o.length!==0){var f=u===o.length-1?0:u+1;o[f].focus()}},r.focusPrevious=function(){var i=this.getItemsAndActiveIndex(),o=i.items,u=i.activeIndex;if(o.length!==0){var f=u===0?o.length-1:u-1;o[f].focus()}},r.handleKeyDown=function(i){switch(i.keyCode){case bw.default.codes.down:this.focusNext(),i.preventDefault();break;case bw.default.codes.up:this.focusPrevious(),i.preventDefault();break;case bw.default.codes.esc:case bw.default.codes.tab:this.props.onClose(i,{source:"keydown"});break;default:}},r.handleRootClose=function(i){this.props.onClose(i,{source:"rootClose"})},r.render=function(){var i,o=this,u=this.props,f=u.open,h=u.pullRight,y=u.labelledBy,w=u.onSelect,T=u.className,A=u.rootCloseEvent,q=u.children,z=tr(u,["open","pullRight","labelledBy","onSelect","className","rootCloseEvent","children"]),F=rc(z,["onClose"]),N=F[0],L=F[1],B=mt({},Xr(N),(i={},i[Cr(N,"right")]=h,i));return xw.default.createElement(K5e.default,{disabled:!f,onRootClose:this.handleRootClose,event:A},xw.default.createElement("ul",mt({},L,{role:"menu",className:(0,W5e.default)(T,B),"aria-labelledby":y}),mo.map(q,function(Z){return xw.default.cloneElement(Z,{onKeyDown:Gn(Z.props.onKeyDown,o.handleKeyDown),onSelect:Gn(Z.props.onSelect,w)})})))},t}(xw.default.Component);k7.propTypes=p$t;k7.defaultProps=d$t;var D7=vr("dropdown-menu",k7);var $P=ne(Ve()),ww=ne(Xt()),Y5e=ne($r());var f$t={noCaret:ww.default.bool,open:ww.default.bool,title:ww.default.string,useAnchor:ww.default.bool},h$t={open:!1,useAnchor:!1,bsRole:"toggle"},L7=function(e){Qt(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this.props,o=i.noCaret,u=i.open,f=i.useAnchor,h=i.bsClass,y=i.className,w=i.children,T=tr(i,["noCaret","open","useAnchor","bsClass","className","children"]);delete T.bsRole;var A=f?bf:ma,q=!o;return $P.default.createElement(A,mt({},T,{role:"button",className:(0,Y5e.default)(y,h),"aria-haspopup":!0,"aria-expanded":u}),w||T.title,q&&" ",q&&$P.default.createElement("span",{className:"caret"}))},t}($P.default.Component);L7.propTypes=f$t;L7.defaultProps=h$t;var z7=vr("dropdown-toggle",L7);var nOe=z7.defaultProps.bsRole,j7=D7.defaultProps.bsRole,m$t={dropup:Fa.default.bool,id:(0,rOe.default)(Fa.default.oneOfType([Fa.default.string,Fa.default.number])),componentClass:tOe.default,children:(0,eOe.default)(VMe(nOe,j7),UMe(j7)),disabled:Fa.default.bool,pullRight:Fa.default.bool,open:Fa.default.bool,defaultOpen:Fa.default.bool,onToggle:Fa.default.func,onSelect:Fa.default.func,role:Fa.default.string,rootCloseEvent:Fa.default.oneOf(["click","mousedown"]),onMouseEnter:Fa.default.func,onMouseLeave:Fa.default.func},v$t={componentClass:cPe},GP=function(e){Qt(t,e);function t(n,i){var o;return o=e.call(this,n,i)||this,o.handleClick=o.handleClick.bind(Mr(Mr(o))),o.handleKeyDown=o.handleKeyDown.bind(Mr(Mr(o))),o.handleClose=o.handleClose.bind(Mr(Mr(o))),o._focusInDropdown=!1,o.lastOpenEventType=null,o}var r=t.prototype;return r.componentDidMount=function(){this.focusNextOnOpen()},r.UNSAFE_componentWillUpdate=function(i){!i.open&&this.props.open&&(this._focusInDropdown=(0,Q5e.default)(F7.default.findDOMNode(this.menu),(0,J5e.default)(document)))},r.componentDidUpdate=function(i){var o=this.props.open,u=i.open;o&&!u&&this.focusNextOnOpen(),!o&&u&&this._focusInDropdown&&(this._focusInDropdown=!1,this.focus())},r.focus=function(){var i=F7.default.findDOMNode(this.toggle);i&&i.focus&&i.focus()},r.focusNextOnOpen=function(){var i=this.menu;!i||!i.focusNext||(this.lastOpenEventType==="keydown"||this.props.role==="menuitem")&&i.focusNext()},r.handleClick=function(i){this.props.disabled||this.toggleOpen(i,{source:"click"})},r.handleClose=function(i,o){this.props.open&&this.toggleOpen(i,o)},r.handleKeyDown=function(i){if(!this.props.disabled)switch(i.keyCode){case HP.default.codes.down:this.props.open?this.menu.focusNext&&this.menu.focusNext():this.toggleOpen(i,{source:"keydown"}),i.preventDefault();break;case HP.default.codes.esc:case HP.default.codes.tab:this.handleClose(i,{source:"keydown"});break;default:}},r.toggleOpen=function(i,o){var u=!this.props.open;u&&(this.lastOpenEventType=o.source),this.props.onToggle&&this.props.onToggle(u,i,o)},r.renderMenu=function(i,o){var u=this,f=o.id,h=o.onSelect,y=o.rootCloseEvent,w=tr(o,["id","onSelect","rootCloseEvent"]),T=function(q){u.menu=q};return typeof i.ref=="string"||(T=Gn(i.ref,T)),(0,Gy.cloneElement)(i,mt({},w,{ref:T,labelledBy:f,bsClass:Cr(w,"menu"),onClose:Gn(i.props.onClose,this.handleClose),onSelect:Gn(i.props.onSelect,h,function(A,q){return u.handleClose(q,{source:"select"})}),rootCloseEvent:y}))},r.renderToggle=function(i,o){var u=this,f=function(y){u.toggle=y};return typeof i.ref=="string"||(f=Gn(i.ref,f)),(0,Gy.cloneElement)(i,mt({},o,{ref:f,bsClass:Cr(o,"toggle"),onClick:Gn(i.props.onClick,this.handleClick),onKeyDown:Gn(i.props.onKeyDown,this.handleKeyDown)}))},r.render=function(){var i,o=this,u=this.props,f=u.componentClass,h=u.id,y=u.dropup,w=u.disabled,T=u.pullRight,A=u.open,q=u.onSelect,z=u.role,F=u.bsClass,N=u.className,L=u.rootCloseEvent,B=u.children,Z=tr(u,["componentClass","id","dropup","disabled","pullRight","open","onSelect","role","bsClass","className","rootCloseEvent","children"]);delete Z.onToggle;var te=(i={},i[F]=!0,i.open=A,i.disabled=w,i);return y&&(te[F]=!1,te.dropup=!0),Gy.default.createElement(f,mt({},Z,{className:(0,X5e.default)(N,te)}),mo.map(B,function(ue){switch(ue.props.bsRole){case nOe:return o.renderToggle(ue,{id:h,disabled:w,open:A,role:z,bsClass:F});case j7:return o.renderMenu(ue,{id:h,open:A,pullRight:T,bsClass:F,onSelect:q,rootCloseEvent:L});default:return ue;}}))},t}(Gy.default.Component);GP.propTypes=m$t;GP.defaultProps=v$t;vr("dropdown",GP);var B7=hp(GP,{open:"onToggle"});B7.Toggle=z7;B7.Menu=D7;var Sw=B7;var iOe=ne(Z9());function V7(e,t){var r=t.propTypes,n={},i={};return(0,iOe.default)(e).forEach(function(o){var u=o[0],f=o[1];r[u]?n[u]=f:i[u]=f}),[n,i]}var oOe=ne($r()),ZP=ne(Ve()),Rl=ne(Xt()),Wy=ne(FPe()),WP,g$t={in:Rl.default.bool,mountOnEnter:Rl.default.bool,unmountOnExit:Rl.default.bool,appear:Rl.default.bool,timeout:Rl.default.number,onEnter:Rl.default.func,onEntering:Rl.default.func,onEntered:Rl.default.func,onExit:Rl.default.func,onExiting:Rl.default.func,onExited:Rl.default.func},y$t={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},_$t=(WP={},WP[Wy.ENTERING]="in",WP[Wy.ENTERED]="in",WP),U7=function(e){Qt(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this.props,o=i.className,u=i.children,f=tr(i,["className","children"]);return ZP.default.createElement(Wy.default,f,function(h,y){return ZP.default.cloneElement(u,mt({},y,{className:(0,oOe.default)("fade",o,u.props.className,_$t[h])}))})},t}(ZP.default.Component);U7.propTypes=g$t;U7.defaultProps=y$t;var Sf=U7;var aOe=ne($r()),$7=ne(Ve()),H7=ne(Xt()),sOe=ne(Do());var b$t={horizontal:H7.default.bool,inline:H7.default.bool,componentClass:sOe.default},x$t={horizontal:!1,inline:!1,componentClass:"form"},G7=function(e){Qt(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this.props,o=i.horizontal,u=i.inline,f=i.componentClass,h=i.className,y=tr(i,["horizontal","inline","componentClass","className"]),w=cn(y),T=w[0],A=w[1],q=[];return o&&q.push(Cr(T,"horizontal")),u&&q.push(Cr(T,"inline")),$7.default.createElement(f,mt({},A,{className:(0,aOe.default)(h,q)}))},t}($7.default.Component);G7.propTypes=b$t;G7.defaultProps=x$t;var W7=vr("form",G7);var fOe=ne($r()),J7=ne(Ve()),Ew=ne(Xt()),hOe=ne(Do()),RCr=ne(xf());var Z7=ne($r()),Iw=ne(Ve()),lOe=ne(Xt());var w$t={bsRole:"feedback"},S$t={$bs_formGroup:lOe.default.object},K7=function(e){Qt(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.getGlyph=function(i){switch(i){case"success":return"ok";case"warning":return"warning-sign";case"error":return"remove";default:return null;}},r.renderDefaultFeedback=function(i,o,u,f){var h=this.getGlyph(i&&i.validationState);return h?Iw.default.createElement(Gi,mt({},f,{glyph:h,className:(0,Z7.default)(o,u)})):null},r.render=function(){var i=this.props,o=i.className,u=i.children,f=tr(i,["className","children"]),h=cn(f),y=h[0],w=h[1],T=Xr(y);if(!u)return this.renderDefaultFeedback(this.context.$bs_formGroup,o,T,w);var A=Iw.default.Children.only(u);return Iw.default.cloneElement(A,mt({},w,{className:(0,Z7.default)(A.props.className,o,T)}))},t}(Iw.default.Component);K7.defaultProps=w$t;K7.contextTypes=S$t;var uOe=vr("form-control-feedback",K7);var cOe=ne($r()),Y7=ne(Ve()),pOe=ne(Do());var I$t={componentClass:pOe.default},E$t={componentClass:"p"},X7=function(e){Qt(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this.props,o=i.componentClass,u=i.className,f=tr(i,["componentClass","className"]),h=cn(f),y=h[0],w=h[1],T=Xr(y);return Y7.default.createElement(o,mt({},w,{className:(0,cOe.default)(u,T)}))},t}(Y7.default.Component);X7.propTypes=I$t;X7.defaultProps=E$t;var dOe=vr("form-control-static",X7);var T$t={componentClass:hOe.default,type:Ew.default.string,id:Ew.default.string,inputRef:Ew.default.func},A$t={componentClass:"input"},C$t={$bs_formGroup:Ew.default.object},Zy=function(e){Qt(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this.context.$bs_formGroup,o=i&&i.controlId,u=this.props,f=u.componentClass,h=u.type,y=u.id,w=y===void 0?o:y,T=u.inputRef,A=u.className,q=u.bsSize,z=tr(u,["componentClass","type","id","inputRef","className","bsSize"]),F=cn(z),N=F[0],L=F[1],B;if(h!=="file"&&(B=Xr(N)),q){var Z=sw[q]||q;B[Cr({bsClass:"input"},Z)]=!0}return J7.default.createElement(f,mt({},L,{type:h,id:w,ref:T,className:(0,fOe.default)(A,B)}))},t}(J7.default.Component);Zy.propTypes=T$t;Zy.defaultProps=A$t;Zy.contextTypes=C$t;Zy.Feedback=uOe;Zy.Static=dOe;var Q7=vr("form-control",tc([ha.SMALL,ha.LARGE],Zy));var mOe=ne($r()),eV=ne(Ve()),KP=ne(Xt());var M$t={controlId:KP.default.string,validationState:KP.default.oneOf(["success","warning","error",null])},P$t={$bs_formGroup:KP.default.object.isRequired},tV=function(e){Qt(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.getChildContext=function(){var i=this.props,o=i.controlId,u=i.validationState;return{$bs_formGroup:{controlId:o,validationState:u}}},r.hasFeedback=function(i){var o=this;return mo.some(i,function(u){return u.props.bsRole==="feedback"||u.props.children&&o.hasFeedback(u.props.children)})},r.render=function(){var i=this.props,o=i.validationState,u=i.className,f=i.children,h=tr(i,["validationState","className","children"]),y=rc(h,["controlId"]),w=y[0],T=y[1],A=mt({},Xr(w),{"has-feedback":this.hasFeedback(f)});return o&&(A["has-"+o]=!0),eV.default.createElement("div",mt({},T,{className:(0,mOe.default)(u,A)}),f)},t}(eV.default.Component);tV.propTypes=M$t;tV.childContextTypes=P$t;var rV=vr("form-group",tc([ha.LARGE,ha.SMALL],tV));var vOe=ne($r()),nV=ne(Ve());var O$t=function(e){Qt(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this.props,o=i.className,u=tr(i,["className"]),f=cn(u),h=f[0],y=f[1],w=Xr(h);return nV.default.createElement("span",mt({},y,{className:(0,vOe.default)(o,w)}))},t}(nV.default.Component),iV=vr("help-block",O$t);var YP=ne($r()),Ky=ne(Ve()),yp=ne(Xt()),gOe=ne(pw());var R$t={active:yp.default.bool,disabled:yp.default.bool,divider:(0,gOe.default)(yp.default.bool,function(e){var t=e.divider,r=e.children;return t&&r?new Error("Children will not be rendered for dividers"):null}),eventKey:yp.default.any,header:yp.default.bool,href:yp.default.string,onClick:yp.default.func,onSelect:yp.default.func},q$t={divider:!1,disabled:!1,header:!1},oV=function(e){Qt(t,e);function t(n,i){var o;return o=e.call(this,n,i)||this,o.handleClick=o.handleClick.bind(Mr(Mr(o))),o}var r=t.prototype;return r.handleClick=function(i){var o=this.props,u=o.href,f=o.disabled,h=o.onSelect,y=o.eventKey;(!u||f)&&i.preventDefault(),!f&&h&&h(y,i)},r.render=function(){var i=this.props,o=i.active,u=i.disabled,f=i.divider,h=i.header,y=i.onClick,w=i.className,T=i.style,A=tr(i,["active","disabled","divider","header","onClick","className","style"]),q=rc(A,["eventKey","onSelect"]),z=q[0],F=q[1];return f?(F.children=void 0,Ky.default.createElement("li",mt({},F,{role:"separator",className:(0,YP.default)(w,"divider"),style:T}))):h?Ky.default.createElement("li",mt({},F,{role:"heading",className:(0,YP.default)(w,Cr(z,"header")),style:T})):Ky.default.createElement("li",{role:"presentation",className:(0,YP.default)(w,{active:o,disabled:u}),style:T},Ky.default.createElement(bf,mt({},F,{role:"menuitem",tabIndex:"-1",onClick:Gn(y,this.handleClick)})))},t}(Ky.default.Component);oV.propTypes=R$t;oV.defaultProps=q$t;var aV=vr("dropdown",oV);var OV=ne($r()),RV=ne(POe()),GRe=ne(wm()),WRe=ne(nc()),qV=ne(uV()),Jy=ne(Ve()),go=ne(Xt()),ZRe=ne(Ti()),Qy=ne(RRe()),KRe=ne(fV()),YRe=ne(Do());var qRe=ne($r()),IV=ne(Ve()),NRe=ne(Do());var $Gt={componentClass:NRe.default},HGt={componentClass:"div"},EV=function(e){Qt(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this.props,o=i.componentClass,u=i.className,f=tr(i,["componentClass","className"]),h=cn(f),y=h[0],w=h[1],T=Xr(y);return IV.default.createElement(o,mt({},w,{className:(0,qRe.default)(u,T)}))},t}(IV.default.Component);EV.propTypes=$Gt;EV.defaultProps=HGt;var kRe=vr("modal-body",EV);var TV=ne($r()),Ow=ne(Ve()),DRe=ne(Xt());var GGt={dialogClassName:DRe.default.string},LRe=function(e){Qt(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i,o=this.props,u=o.dialogClassName,f=o.className,h=o.style,y=o.children,w=o.onMouseDownDialog,T=tr(o,["dialogClassName","className","style","children","onMouseDownDialog"]),A=cn(T),q=A[0],z=A[1],F=Cr(q),N=mt({display:"block"},h),L=mt({},Xr(q),(i={},i[F]=!1,i[Cr(q,"dialog")]=!0,i));return Ow.default.createElement("div",mt({},z,{tabIndex:"-1",role:"dialog",style:N,className:(0,TV.default)(f,F)}),Ow.default.createElement("div",{className:(0,TV.default)(u,L),onMouseDown:w},Ow.default.createElement("div",{className:Cr(q,"content"),role:"document"},y)))},t}(Ow.default.Component);LRe.propTypes=GGt;var g5=vr("modal",tc([ha.LARGE,ha.SMALL],LRe));var zRe=ne($r()),AV=ne(Ve()),FRe=ne(Do());var WGt={componentClass:FRe.default},ZGt={componentClass:"div"},CV=function(e){Qt(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this.props,o=i.componentClass,u=i.className,f=tr(i,["componentClass","className"]),h=cn(f),y=h[0],w=h[1],T=Xr(y);return AV.default.createElement(o,mt({},w,{className:(0,zRe.default)(u,T)}))},t}(AV.default.Component);CV.propTypes=WGt;CV.defaultProps=ZGt;var jRe=vr("modal-footer",CV);var BRe=ne($r()),Xy=ne(Xt()),y5=ne(Ve());var KGt={closeLabel:Xy.default.string,closeButton:Xy.default.bool,onHide:Xy.default.func},YGt={closeLabel:"Close",closeButton:!1},XGt={$bs_modal:Xy.default.shape({onHide:Xy.default.func})},_5=function(e){Qt(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this.props,o=i.closeLabel,u=i.closeButton,f=i.onHide,h=i.className,y=i.children,w=tr(i,["closeLabel","closeButton","onHide","className","children"]),T=this.context.$bs_modal,A=cn(w),q=A[0],z=A[1],F=Xr(q);return y5.default.createElement("div",mt({},z,{className:(0,BRe.default)(h,F)}),u&&y5.default.createElement(YMe,{label:o,onClick:Gn(T&&T.onHide,f)}),y)},t}(y5.default.Component);_5.propTypes=KGt;_5.defaultProps=YGt;_5.contextTypes=XGt;var VRe=vr("modal-header",_5);var URe=ne($r()),MV=ne(Ve()),$Re=ne(Do());var JGt={componentClass:$Re.default},QGt={componentClass:"h4"},PV=function(e){Qt(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this.props,o=i.componentClass,u=i.className,f=tr(i,["componentClass","className"]),h=cn(f),y=h[0],w=h[1],T=Xr(y);return MV.default.createElement(o,mt({},w,{className:(0,URe.default)(u,T)}))},t}(MV.default.Component);PV.propTypes=JGt;PV.defaultProps=QGt;var HRe=vr("modal-title",PV);var eWt=mt({},Qy.default.propTypes,g5.propTypes,{backdrop:go.default.oneOf(["static",!0,!1]),backdropClassName:go.default.string,keyboard:go.default.bool,animation:go.default.bool,dialogComponentClass:YRe.default,autoFocus:go.default.bool,enforceFocus:go.default.bool,restoreFocus:go.default.bool,show:go.default.bool,onHide:go.default.func,onEnter:go.default.func,onEntering:go.default.func,onEntered:go.default.func,onExit:go.default.func,onExiting:go.default.func,onExited:go.default.func,container:Qy.default.propTypes.container}),tWt=mt({},Qy.default.defaultProps,{animation:!0,dialogComponentClass:g5}),rWt={$bs_modal:go.default.shape({onHide:go.default.func})};function nWt(e){return Jy.default.createElement(Sf,mt({},e,{timeout:$s.TRANSITION_DURATION}))}function iWt(e){return Jy.default.createElement(Sf,mt({},e,{timeout:$s.BACKDROP_TRANSITION_DURATION}))}var $s=function(e){Qt(t,e);function t(n,i){var o;return o=e.call(this,n,i)||this,o.handleDialogBackdropMouseDown=function(){o._waitingForMouseUp=!0},o.handleMouseUp=function(u){var f=o._modal.getDialogElement();o._waitingForMouseUp&&u.target===f&&(o._ignoreBackdropClick=!0),o._waitingForMouseUp=!1},o.handleEntering=o.handleEntering.bind(Mr(Mr(o))),o.handleExited=o.handleExited.bind(Mr(Mr(o))),o.handleWindowResize=o.handleWindowResize.bind(Mr(Mr(o))),o.handleDialogClick=o.handleDialogClick.bind(Mr(Mr(o))),o.setModalRef=o.setModalRef.bind(Mr(Mr(o))),o.state={style:{}},o}var r=t.prototype;return r.getChildContext=function(){return{$bs_modal:{onHide:this.props.onHide}}},r.componentWillUnmount=function(){this.handleExited()},r.setModalRef=function(i){this._modal=i},r.handleDialogClick=function(i){if(this._ignoreBackdropClick||i.target!==i.currentTarget){this._ignoreBackdropClick=!1;return}this.props.onHide()},r.handleEntering=function(){RV.default.on(window,"resize",this.handleWindowResize),this.updateStyle()},r.handleExited=function(){RV.default.off(window,"resize",this.handleWindowResize)},r.handleWindowResize=function(){this.updateStyle()},r.updateStyle=function(){if(WRe.default){var i=this._modal.getDialogElement(),o=i.scrollHeight,u=(0,GRe.default)(i),f=(0,KRe.default)(ZRe.default.findDOMNode(this.props.container||u.body)),h=o>u.documentElement.clientHeight;this.setState({style:{paddingRight:f&&!h?(0,qV.default)():void 0,paddingLeft:!f&&h?(0,qV.default)():void 0}})}},r.render=function(){var i=this.props,o=i.backdrop,u=i.backdropClassName,f=i.animation,h=i.show,y=i.dialogComponentClass,w=i.className,T=i.style,A=i.children,q=i.onEntering,z=i.onExited,F=tr(i,["backdrop","backdropClassName","animation","show","dialogComponentClass","className","style","children","onEntering","onExited"]),N=V7(F,Qy.default),L=N[0],B=N[1],Z=h&&!f&&"in";return Jy.default.createElement(Qy.default,mt({},L,{ref:this.setModalRef,show:h,containerClassName:Cr(F,"open"),transition:f?nWt:void 0,backdrop:o,backdropTransition:f?iWt:void 0,backdropClassName:(0,OV.default)(Cr(F,"backdrop"),u,Z),onEntering:Gn(q,this.handleEntering),onExited:Gn(z,this.handleExited),onMouseUp:this.handleMouseUp}),Jy.default.createElement(y,mt({},B,{style:mt({},this.state.style,T),className:(0,OV.default)(w,Z),onClick:o===!0?this.handleDialogClick:null,onMouseDownDialog:this.handleDialogBackdropMouseDown}),A))},t}(Jy.default.Component);$s.propTypes=eWt;$s.defaultProps=tWt;$s.childContextTypes=rWt;$s.Body=kRe;$s.Header=VRe;$s.Title=HRe;$s.Footer=jRe;$s.Dialog=g5;$s.TRANSITION_DURATION=300;$s.BACKDROP_TRANSITION_DURATION=150;var ql=vr("modal",tc([ha.LARGE,ha.SMALL],$s));var XRe=ne($r()),Rw=ne(RP()),qw=ne(Ve()),yo=ne(Xt()),JRe=ne(Ti()),QRe=ne(pw()),rPr=ne(xf());var oWt={activeKey:yo.default.any,activeHref:yo.default.string,stacked:yo.default.bool,justified:(0,QRe.default)(yo.default.bool,function(e){var t=e.justified,r=e.navbar;return t&&r?Error("justified navbar `Nav`s are not supported"):null}),onSelect:yo.default.func,role:yo.default.string,navbar:yo.default.bool,pullRight:yo.default.bool,pullLeft:yo.default.bool},aWt={justified:!1,pullRight:!1,pullLeft:!1,stacked:!1},sWt={$bs_navbar:yo.default.shape({bsClass:yo.default.string,onSelect:yo.default.func}),$bs_tabContainer:yo.default.shape({activeKey:yo.default.any,onSelect:yo.default.func.isRequired,getTabId:yo.default.func.isRequired,getPaneId:yo.default.func.isRequired})},b5=function(e){Qt(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.componentDidUpdate=function(){var i=this;if(this._needsRefocus){this._needsRefocus=!1;var o=this.props.children,u=this.getActiveProps(),f=u.activeKey,h=u.activeHref,y=mo.find(o,function(z){return i.isActive(z,f,h)}),w=mo.toArray(o),T=w.indexOf(y),A=JRe.default.findDOMNode(this).children,q=A&&A[T];!q||!q.firstChild||q.firstChild.focus()}},r.getActiveProps=function(){var i=this.context.$bs_tabContainer;return i||this.props},r.getNextActiveChild=function(i){var o=this,u=this.props.children,f=mo.filter(u,function(F){return F.props.eventKey!=null&&!F.props.disabled}),h=this.getActiveProps(),y=h.activeKey,w=h.activeHref,T=mo.find(u,function(F){return o.isActive(F,y,w)}),A=f.indexOf(T);if(A===-1)return f[0];var q=A+i,z=f.length;return q>=z?q=0:q<0&&(q=z-1),f[q]},r.getTabProps=function(i,o,u,f,h){var y=this;if(!o&&u!=="tablist")return null;var w=i.props,T=w.id,A=w["aria-controls"],q=w.eventKey,z=w.role,F=w.onKeyDown,N=w.tabIndex;return o&&(T=o.getTabId(q),A=o.getPaneId(q)),u==="tablist"&&(z=z||"tab",F=Gn(function(L){return y.handleTabKeyDown(h,L)},F),N=f?N:-1),{id:T,role:z,onKeyDown:F,"aria-controls":A,tabIndex:N}},r.handleTabKeyDown=function(i,o){var u;switch(o.keyCode){case Rw.default.codes.left:case Rw.default.codes.up:u=this.getNextActiveChild(-1);break;case Rw.default.codes.right:case Rw.default.codes.down:u=this.getNextActiveChild(1);break;default:return;}o.preventDefault(),i&&u&&u.props.eventKey!=null&&i(u.props.eventKey),this._needsRefocus=!0},r.isActive=function(i,o,u){var f=i.props;return f.active||o!=null&&f.eventKey===o||u&&f.href===u?!0:f.active},r.render=function(){var i,o=this,u=this.props,f=u.stacked,h=u.justified,y=u.onSelect,w=u.role,T=u.navbar,A=u.pullRight,q=u.pullLeft,z=u.className,F=u.children,N=tr(u,["stacked","justified","onSelect","role","navbar","pullRight","pullLeft","className","children"]),L=this.context.$bs_tabContainer,B=w||(L?"tablist":null),Z=this.getActiveProps(),te=Z.activeKey,ue=Z.activeHref;delete N.activeKey,delete N.activeHref;var ce=cn(N),ye=ce[0],Ne=ce[1],Se=mt({},Xr(ye),(i={},i[Cr(ye,"stacked")]=f,i[Cr(ye,"justified")]=h,i)),Be=T!=null?T:this.context.$bs_navbar,He,Xe;if(Be){var $e=this.context.$bs_navbar||{bsClass:"navbar"};Se[Cr($e,"nav")]=!0,Xe=Cr($e,"right"),He=Cr($e,"left")}else Xe="pull-right",He="pull-left";return Se[Xe]=A,Se[He]=q,qw.default.createElement("ul",mt({},Ne,{role:B,className:(0,XRe.default)(z,Se)}),mo.map(F,function(Qe){var ot=o.isActive(Qe,te,ue),ze=Gn(Qe.props.onSelect,y,Be&&Be.onSelect,L&&L.onSelect);return(0,qw.cloneElement)(Qe,mt({},o.getTabProps(Qe,L,B,ot,ze),{active:ot,activeKey:te,activeHref:ue,onSelect:ze}))}))},t}(qw.default.Component);b5.propTypes=oWt;b5.defaultProps=aWt;b5.contextTypes=sWt;var eqe=vr("nav",QM(["tabs","pills"],b5));var tqe=ne($r()),x5=ne(Ve()),Af=ne(Xt());var lWt={active:Af.default.bool,disabled:Af.default.bool,role:Af.default.string,href:Af.default.string,onClick:Af.default.func,onSelect:Af.default.func,eventKey:Af.default.any},uWt={active:!1,disabled:!1},NV=function(e){Qt(t,e);function t(n,i){var o;return o=e.call(this,n,i)||this,o.handleClick=o.handleClick.bind(Mr(Mr(o))),o}var r=t.prototype;return r.handleClick=function(i){if(this.props.disabled){i.preventDefault();return}this.props.onSelect&&this.props.onSelect(this.props.eventKey,i)},r.render=function(){var i=this.props,o=i.active,u=i.disabled,f=i.onClick,h=i.className,y=i.style,w=tr(i,["active","disabled","onClick","className","style"]);return delete w.onSelect,delete w.eventKey,delete w.activeKey,delete w.activeHref,w.role?w.role==="tab"&&(w["aria-selected"]=o):w.href==="#"&&(w.role="button"),x5.default.createElement("li",{role:"presentation",className:(0,tqe.default)(h,{active:o,disabled:u}),style:y},x5.default.createElement(bf,mt({},w,{disabled:u,onClick:Gn(f,this.handleClick)})))},t}(x5.default.Component);NV.propTypes=lWt;NV.defaultProps=uWt;var rqe=NV;var Oqe=ne($r()),Dw=ne(Ve()),Hs=ne(Xt()),BV=ne(Pqe()),Rqe=ne(Do());var pZt=mt({},BV.default.propTypes,{show:Hs.default.bool,rootClose:Hs.default.bool,onHide:Hs.default.func,animation:Hs.default.oneOfType([Hs.default.bool,Rqe.default]),onEnter:Hs.default.func,onEntering:Hs.default.func,onEntered:Hs.default.func,onExit:Hs.default.func,onExiting:Hs.default.func,onExited:Hs.default.func,placement:Hs.default.oneOf(["top","right","bottom","left"])}),dZt={animation:Sf,rootClose:!1,show:!1,placement:"right"},VV=function(e){Qt(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this.props,o=i.animation,u=i.children,f=tr(i,["animation","children"]),h=o===!0?Sf:o||null,y;return h?y=u:y=(0,Dw.cloneElement)(u,{className:(0,Oqe.default)(u.props.className,"in")}),Dw.default.createElement(BV.default,mt({},f,{transition:h}),y)},t}(Dw.default.Component);VV.propTypes=pZt;VV.defaultProps=dZt;var UV=VV;var $V=ne($r()),r0=ne(Ve()),n0=ne(Xt()),IPr=ne(xf());var fZt={inline:n0.default.bool,disabled:n0.default.bool,title:n0.default.string,validationState:n0.default.oneOf(["success","warning","error",null]),inputRef:n0.default.func},hZt={inline:!1,disabled:!1,title:""},HV=function(e){Qt(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this.props,o=i.inline,u=i.disabled,f=i.validationState,h=i.inputRef,y=i.className,w=i.style,T=i.title,A=i.children,q=tr(i,["inline","disabled","validationState","inputRef","className","style","title","children"]),z=cn(q),F=z[0],N=z[1],L=r0.default.createElement("input",mt({},N,{ref:h,type:"radio",disabled:u}));if(o){var B,Z=(B={},B[Cr(F,"inline")]=!0,B.disabled=u,B);return r0.default.createElement("label",{className:(0,$V.default)(y,Z),style:w,title:T},L,A)}var te=mt({},Xr(F),{disabled:u});return f&&(te["has-"+f]=!0),r0.default.createElement("div",{className:(0,$V.default)(y,te),style:w},r0.default.createElement("label",{title:T},L,A))},t}(r0.default.Component);HV.propTypes=fZt;HV.defaultProps=hZt;var GV=vr("radio",HV);var YV=ne(Ve()),F5=ne(Xt());var R5=ne(Ve()),Nl=ne(Xt());var mZt="tab",vZt="pane",gZt=Nl.default.oneOfType([Nl.default.string,Nl.default.number]),yZt={id:function(t){var r=null;if(!t.generateChildId){for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];r=gZt.apply(void 0,[t].concat(i)),!r&&!t.id&&(r=new Error("In order to properly initialize Tabs in a way that is accessible to assistive technologies (such as screen readers) an `id` or a `generateChildId` prop to TabContainer is required"))}return r},generateChildId:Nl.default.func,onSelect:Nl.default.func,activeKey:Nl.default.any},_Zt={$bs_tabContainer:Nl.default.shape({activeKey:Nl.default.any,onSelect:Nl.default.func.isRequired,getTabId:Nl.default.func.isRequired,getPaneId:Nl.default.func.isRequired})},WV=function(e){Qt(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.getChildContext=function(){var i=this.props,o=i.activeKey,u=i.onSelect,f=i.generateChildId,h=i.id,y=f||function(w,T){return h?h+"-"+T+"-"+w:null};return{$bs_tabContainer:{activeKey:o,onSelect:u,getTabId:function(T){return y(T,mZt)},getPaneId:function(T){return y(T,vZt)}}}},r.render=function(){var i=this.props,o=i.children,u=tr(i,["children"]);return delete u.generateChildId,delete u.onSelect,delete u.activeKey,R5.default.cloneElement(R5.default.Children.only(o),u)},t}(R5.default.Component);WV.propTypes=yZt;WV.childContextTypes=_Zt;var q5=hp(WV,{activeKey:"onSelect"});var qqe=ne($r()),ZV=ne(Ve()),zo=ne(Xt()),N5=ne(Do());var bZt={componentClass:N5.default,animation:zo.default.oneOfType([zo.default.bool,N5.default]),mountOnEnter:zo.default.bool,unmountOnExit:zo.default.bool},xZt={componentClass:"div",animation:!0,mountOnEnter:!1,unmountOnExit:!1},wZt={$bs_tabContainer:zo.default.shape({activeKey:zo.default.any})},SZt={$bs_tabContent:zo.default.shape({bsClass:zo.default.string,animation:zo.default.oneOfType([zo.default.bool,N5.default]),activeKey:zo.default.any,mountOnEnter:zo.default.bool,unmountOnExit:zo.default.bool,onPaneEnter:zo.default.func.isRequired,onPaneExited:zo.default.func.isRequired,exiting:zo.default.bool.isRequired})},Lw=function(e){Qt(t,e);function t(n,i){var o;return o=e.call(this,n,i)||this,o.handlePaneEnter=o.handlePaneEnter.bind(Mr(Mr(o))),o.handlePaneExited=o.handlePaneExited.bind(Mr(Mr(o))),o.state={activeKey:null,activeChild:null},o}var r=t.prototype;return r.getChildContext=function(){var i=this.props,o=i.bsClass,u=i.animation,f=i.mountOnEnter,h=i.unmountOnExit,y=this.state.activeKey,w=this.getContainerActiveKey(),T=y!=null?y:w,A=y!=null&&y!==w;return{$bs_tabContent:{bsClass:o,animation:u,activeKey:T,mountOnEnter:f,unmountOnExit:h,onPaneEnter:this.handlePaneEnter,onPaneExited:this.handlePaneExited,exiting:A}}},r.UNSAFE_componentWillReceiveProps=function(i){!i.animation&&this.state.activeChild&&this.setState({activeKey:null,activeChild:null})},r.componentWillUnmount=function(){this.isUnmounted=!0},r.getContainerActiveKey=function(){var i=this.context.$bs_tabContainer;return i&&i.activeKey},r.handlePaneEnter=function(i,o){return!this.props.animation||o!==this.getContainerActiveKey()?!1:(this.setState({activeKey:o,activeChild:i}),!0)},r.handlePaneExited=function(i){this.isUnmounted||this.setState(function(o){var u=o.activeChild;return u!==i?null:{activeKey:null,activeChild:null}})},r.render=function(){var i=this.props,o=i.componentClass,u=i.className,f=tr(i,["componentClass","className"]),h=rc(f,["animation","mountOnEnter","unmountOnExit"]),y=h[0],w=h[1];return ZV.default.createElement(o,mt({},w,{className:(0,qqe.default)(u,Cr(y,"content"))}))},t}(ZV.default.Component);Lw.propTypes=bZt;Lw.defaultProps=xZt;Lw.contextTypes=wZt;Lw.childContextTypes=SZt;var k5=vr("tab",Lw);var Nqe=ne($r()),D5=ne(Ve()),qn=ne(Xt()),KV=ne(Do()),VPr=ne(xf());var IZt={eventKey:qn.default.any,animation:qn.default.oneOfType([qn.default.bool,KV.default]),id:qn.default.string,"aria-labelledby":qn.default.string,bsClass:qn.default.string,onEnter:qn.default.func,onEntering:qn.default.func,onEntered:qn.default.func,onExit:qn.default.func,onExiting:qn.default.func,onExited:qn.default.func,mountOnEnter:qn.default.bool,unmountOnExit:qn.default.bool},EZt={$bs_tabContainer:qn.default.shape({getTabId:qn.default.func,getPaneId:qn.default.func}),$bs_tabContent:qn.default.shape({bsClass:qn.default.string,animation:qn.default.oneOfType([qn.default.bool,KV.default]),activeKey:qn.default.any,mountOnEnter:qn.default.bool,unmountOnExit:qn.default.bool,onPaneEnter:qn.default.func.isRequired,onPaneExited:qn.default.func.isRequired,exiting:qn.default.bool.isRequired})},TZt={$bs_tabContainer:qn.default.oneOf([null])},L5=function(e){Qt(t,e);function t(n,i){var o;return o=e.call(this,n,i)||this,o.handleEnter=o.handleEnter.bind(Mr(Mr(o))),o.handleExited=o.handleExited.bind(Mr(Mr(o))),o.in=!1,o}var r=t.prototype;return r.getChildContext=function(){return{$bs_tabContainer:null}},r.componentDidMount=function(){this.shouldBeIn()&&this.handleEnter()},r.componentDidUpdate=function(){this.in?this.shouldBeIn()||this.handleExited():this.shouldBeIn()&&this.handleEnter()},r.componentWillUnmount=function(){this.in&&this.handleExited()},r.getAnimation=function(){if(this.props.animation!=null)return this.props.animation;var i=this.context.$bs_tabContent;return i&&i.animation},r.handleEnter=function(){var i=this.context.$bs_tabContent;i&&(this.in=i.onPaneEnter(this,this.props.eventKey))},r.handleExited=function(){var i=this.context.$bs_tabContent;i&&(i.onPaneExited(this),this.in=!1)},r.isActive=function(){var i=this.context.$bs_tabContent,o=i&&i.activeKey;return this.props.eventKey===o},r.shouldBeIn=function(){return this.getAnimation()&&this.isActive()},r.render=function(){var i=this.props,o=i.eventKey,u=i.className,f=i.onEnter,h=i.onEntering,y=i.onEntered,w=i.onExit,T=i.onExiting,A=i.onExited,q=i.mountOnEnter,z=i.unmountOnExit,F=tr(i,["eventKey","className","onEnter","onEntering","onEntered","onExit","onExiting","onExited","mountOnEnter","unmountOnExit"]),N=this.context,L=N.$bs_tabContent,B=N.$bs_tabContainer,Z=rc(F,["animation"]),te=Z[0],ue=Z[1],ce=this.isActive(),ye=this.getAnimation(),Ne=q!=null?q:L&&L.mountOnEnter,Se=z!=null?z:L&&L.unmountOnExit;if(!ce&&!ye&&Se)return null;var Be=ye===!0?Sf:ye||null;L&&(te.bsClass=Cr(L,"pane"));var He=mt({},Xr(te),{active:ce});B&&(ue.id=B.getPaneId(o),ue["aria-labelledby"]=B.getTabId(o));var Xe=D5.default.createElement("div",mt({},ue,{role:"tabpanel","aria-hidden":!ce,className:(0,Nqe.default)(u,He)}));if(Be){var $e=L&&L.exiting;return D5.default.createElement(Be,{in:ce&&!$e,onEnter:Gn(this.handleEnter,f),onEntering:h,onEntered:y,onExit:w,onExiting:T,onExited:Gn(this.handleExited,A),mountOnEnter:Ne,unmountOnExit:Se},Xe)}return Xe},t}(D5.default.Component);L5.propTypes=IZt;L5.contextTypes=EZt;L5.childContextTypes=TZt;var z5=vr("tab-pane",L5);var AZt=mt({},z5.propTypes,{disabled:F5.default.bool,title:F5.default.node,tabClassName:F5.default.string}),zw=function(e){Qt(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=mt({},this.props);return delete i.title,delete i.disabled,delete i.tabClassName,YV.default.createElement(z5,i)},t}(YV.default.Component);zw.propTypes=AZt;zw.Container=q5;zw.Content=k5;zw.Pane=z5;var j5=zw;var Am=ne(Ve()),pu=ne(Xt()),kqe=ne(NP());var Dqe=ne(Do());var CZt=q5.ControlledComponent,MZt={activeKey:pu.default.any,bsStyle:pu.default.oneOf(["tabs","pills"]),animation:pu.default.oneOfType([pu.default.bool,Dqe.default]),id:(0,kqe.default)(pu.default.oneOfType([pu.default.string,pu.default.number])),onSelect:pu.default.func,mountOnEnter:pu.default.bool,unmountOnExit:pu.default.bool},PZt={bsStyle:"tabs",animation:!0,mountOnEnter:!1,unmountOnExit:!1};function OZt(e){var t;return mo.forEach(e,function(r){t==null&&(t=r.props.eventKey)}),t}var B5=function(e){Qt(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.renderTab=function(i){var o=i.props,u=o.title,f=o.eventKey,h=o.disabled,y=o.tabClassName;return u==null?null:Am.default.createElement(rqe,{eventKey:f,disabled:h,className:y},u)},r.render=function(){var i=this.props,o=i.id,u=i.onSelect,f=i.animation,h=i.mountOnEnter,y=i.unmountOnExit,w=i.bsClass,T=i.className,A=i.style,q=i.children,z=i.activeKey,F=z===void 0?OZt(q):z,N=tr(i,["id","onSelect","animation","mountOnEnter","unmountOnExit","bsClass","className","style","children","activeKey"]);return Am.default.createElement(CZt,{id:o,activeKey:F,onSelect:u,className:T,style:A},Am.default.createElement("div",null,Am.default.createElement(eqe,mt({},N,{role:"tablist"}),mo.map(q,this.renderTab)),Am.default.createElement(k5,{bsClass:w,animation:f,mountOnEnter:h,unmountOnExit:y},q)))},t}(Am.default.Component);B5.propTypes=MZt;B5.defaultProps=PZt;vr("tab",B5);var XV=hp(B5,{activeKey:"onSelect"});var Lqe=ne($r()),Fw=ne(Ve()),Fo=ne(Xt()),zqe=ne(NP());var RZt={id:(0,zqe.default)(Fo.default.oneOfType([Fo.default.string,Fo.default.number])),placement:Fo.default.oneOf(["top","right","bottom","left"]),positionTop:Fo.default.oneOfType([Fo.default.number,Fo.default.string]),positionLeft:Fo.default.oneOfType([Fo.default.number,Fo.default.string]),arrowOffsetTop:Fo.default.oneOfType([Fo.default.number,Fo.default.string]),arrowOffsetLeft:Fo.default.oneOfType([Fo.default.number,Fo.default.string])},qZt={placement:"right"},JV=function(e){Qt(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i,o=this.props,u=o.placement,f=o.positionTop,h=o.positionLeft,y=o.arrowOffsetTop,w=o.arrowOffsetLeft,T=o.className,A=o.style,q=o.children,z=tr(o,["placement","positionTop","positionLeft","arrowOffsetTop","arrowOffsetLeft","className","style","children"]),F=cn(z),N=F[0],L=F[1],B=mt({},Xr(N),(i={},i[u]=!0,i)),Z=mt({top:f,left:h},A),te={top:y,left:w};return Fw.default.createElement("div",mt({},L,{role:"tooltip",className:(0,Lqe.default)(T,B),style:Z}),Fw.default.createElement("div",{className:Cr(N,"arrow"),style:te}),Fw.default.createElement("div",{className:Cr(N,"inner")},q))},t}(Fw.default.Component);JV.propTypes=RZt;JV.defaultProps=qZt;var QV=vr("tooltip",JV);var Zw=ne(Xt(),1);var Ww=ne(Ve(),1);var zr={id:"id",timePublished:"time_published",timeChanged:"time_changed",title:"title",thumbnailUrl:"thumb_url",bounds:"bounds",type:"type",hasGeoReference:"has_georeference",tmsUrls:"tms_urls",onlineResources:"online_resources",mapScale:"map_scale",rawMapIds:"raw_map_ids",name:"name"},i0={id:"vkf:layer_id"},o0={GEOJSON:"geojson",HISTORIC_MAP:"historic_map"};var jw=class e{constructor({metadata:t,geometry:r}){Pn(this,"metadata",{});Pn(this,"geometry",{});if(this.constructor===e)throw new Error(`Abstract class '${this.constructor}' cannot be instantiated.`);this.metadata=t,this.geometry=r}getGeometry(){return this.geometry}getId(){return this.metadata.id}getMetadata(t){return vn(t)?this.metadata[t]:this.metadata}updateMetadata(t,r){if(!vn(t)||!vn(r)){console.warn("Trying to update metadata without key or value");return}if(!vn(zr[t])){console.warn(`Trying to update metadata with invalid key '${t}'`);return}this.metadata[t]=r}isDisplayedInMap(){throw new Error("Method 'isDisplayedInMap' must be implemented.")}getType(){throw new Error("Method 'getType' must be implemented.")}setOpacity(){throw new Error("Method 'setOpacity' must be implemented.")}getOpacity(){throw new Error("Method 'getOpacity' must be implemented.")}moveToTop(){throw new Error("Method 'moveToTop' must be implemented.")}move(){throw new Error("Method 'move' must be implemented.")}getMapLibreLayerId(){throw new Error("Method 'getMapLibreLayerId' must be implemented.")}removeLayer(){throw new Error("Method 'removeLayer' must be implemented.")}setVisibility(){throw new Error("Method 'setVisibility' must be implemented.")}isVisible(){throw new Error("Method 'isVisible' must be implemented.")}serialize(){throw new Error("Method 'serialize' must be implemented.")}};var Wqe=ne(fm(),1);var tn=e=>e!==void 0,Fqe=(e,t,r)=>t in e?e[t]:e[t]=r,Bw={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12},rU=class{constructor(t){this._parser=new t}toDocument(t){return this._parser.parseFromString(t,"application/xml")}getAllTextContent(t,r){return $5(t,r).join("")}};function $5(e,t){return jqe(e,t,[]).join("")}function jqe(e,t,r){if(e.nodeType===Bw.CDATA_SECTION||e.nodeType===Bw.TEXT)t?r.push(String(e.nodeValue).replace(/(\r\n|\r|\n)/g,"")):r.push(e.nodeValue);else{var n;for(n=e.firstChild;n;n=n.nextSibling)jqe(n,t,r)}return r}function NZt(e,t,r,n){for(var i=kZt(t);i;i=DZt(i)){var o=i.namespaceURI||null,u=e[o];if(tn(u)){var f=u[i.localName];tn(f)&&f.call(n,i,r)}}}function kZt(e){let t=e.firstElementChild||e.firstChild;for(;t&&t.nodeType!==Bw.ELEMENT;)t=t.nextSibling;return t}function DZt(e){let t=e.nextElementSibling||e.nextSibling;for(;t&&t.nodeType!==Bw.ELEMENT;)t=t.nextSibling;return t}function jo(e,t,r){return LZt(e,t,r)}function LZt(e,t,r){var n=tn(r)?r:{},i,o;for(i=0,o=e.length;i<o;++i)n[e[i]]=t;return n}function Bqe(e,t){return function(r,n){var i=e.call(tn(t)?t:this,r,n);if(tn(i)){var o=n[n.length-1];o.push(i)}}}function _o(e,t,r,n,i){return n.push(e),NZt(t,r,n,i),n.pop()}function ir(e,t,r){return function(n,i){let o=e.call(tn(r)?r:this,n,i);if(tn(o)){var u=i[i.length-1],f=tn(t)?t:n.localName;u[f]=o}}}function vs(e,t,r){return function(n,i){var o=e.call(tn(r)?r:this,n,i);if(tn(o)){var u=i[i.length-1],f=tn(t)?t:n.localName,h=Fqe(u,f,[]);h.push(o)}}}var zZt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function FZt(e){return e.replace(zZt,"")}function Cm(e){let t=/^\s*(true|1)|(false|0)\s*$/.exec(e);if(t)return tn(t[1])||!1}function a0(e){return xp($5(e,!1))}function xp(e){let t=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(e);if(t)return parseFloat(t[1])}function eU(e){return V5($5(e,!1))}function V5(e){let t=/^\s*(\d+)\s*$/.exec(e);if(t)return parseInt(t[1],10)}function gn(e){return FZt($5(e,!1))}var jZt="http://www.w3.org/1999/xlink";function nU(e){return e.getAttributeNS(jZt,"href")}function BZt(e,t){return _o({},hKt,e,t)}function Vqe(e){return[xp(e.getAttribute("minx")),xp(e.getAttribute("miny")),xp(e.getAttribute("maxx")),xp(e.getAttribute("maxy"))]}function VZt(e,t){let r=Vqe(e),n=[xp(e.getAttribute("resx")),xp(e.getAttribute("resy"))];return{crs:e.getAttribute("CRS")||e.getAttribute("SRS"),extent:r,res:n}}function UZt(e,t){let r=Vqe(e);if(!(!tn(r[0])||!tn(r[1])||!tn(r[2])||!tn(r[3])))return r}function $Zt(e,t){let r=parseFloat(e.getAttribute("min")),n=parseFloat(e.getAttribute("max"));return{min:r,max:n}}function HZt(e,t){let r=_o({},mKt,e,t);if(!tn(r))return;let n=r.westBoundLongitude,i=r.southBoundLatitude,o=r.eastBoundLongitude,u=r.northBoundLatitude;if(!(!tn(n)||!tn(i)||!tn(o)||!tn(u)))return[n,i,o,u]}function GZt(e,t){return _o({},lKt,e,t)}function WZt(e,t){return _o({},uKt,e,t)}function ZZt(e,t){return _o({},cKt,e,t)}function KZt(e,t){return _o({},pKt,e,t)}function YZt(e,t){return _o({},dKt,e,t)}function XZt(e,t){return _o([],fKt,e,t)}function JZt(e,t){let r=Cm(e.getAttribute("queryable"));return _o({queryable:tn(r)?r:!1},Hqe,e,t)}function QZt(e,t){var r=t[t.length-1];let n=_o({},Hqe,e,t);if(!tn(n))return;let i=Cm(e.getAttribute("queryable"));tn(i)||(i=r.queryable),n.queryable=tn(i)?i:!1;let o=V5(e.getAttribute("cascaded"));tn(o)||(o=r.cascaded),n.cascaded=o;let u=Cm(e.getAttribute("opaque"));tn(u)||(u=r.opaque),n.opaque=tn(u)?u:!1;let f=Cm(e.getAttribute("noSubsets"));tn(f)||(f=r.noSubsets),n.noSubsets=tn(f)?f:!1;let h=xp(e.getAttribute("fixedWidth"));tn(h)||(h=r.fixedWidth),n.fixedWidth=h;let y=xp(e.getAttribute("fixedHeight"));tn(y)||(y=r.fixedHeight),n.fixedHeight=y;let w=["Style","CRS","AuthorityURL"];for(let A=0,q=w.length;A<q;A++){let z=w[A],F=r[z];if(tn(F)){let N=Fqe(n,z,[]);N=N.concat(F),n[z]=N}}let T=["EX_GeographicBoundingBox","BoundingBox","Dimension","Attribution","MinScaleDenominator","MaxScaleDenominator"];for(let A=0,q=T.length;A<q;A++){let z=T[A],F=n[z];if(!tn(F)){let N=r[z];n[z]=N}}return n}function eKt(e,t){return{name:e.getAttribute("name"),units:e.getAttribute("units"),unitSymbol:e.getAttribute("unitSymbol"),default:e.getAttribute("default"),multipleValues:Cm(e.getAttribute("multipleValues")),nearestValue:Cm(e.getAttribute("nearestValue")),current:Cm(e.getAttribute("current")),values:gn(e)}}function wp(e,t){return _o({},xKt,e,t)}function tKt(e,t){return _o({},vKt,e,t)}function rKt(e,t){return _o({},yKt,e,t)}function nKt(e,t){return _o({},_Kt,e,t)}function tU(e,t){return _o({},gKt,e,t)}function Uqe(e,t){var r=wp(e,t);if(tn(r)){let n=[V5(e.getAttribute("width")),V5(e.getAttribute("height"))];return r.size=n,r}}function iKt(e,t){var r=wp(e,t);if(tn(r))return r.name=e.getAttribute("name"),r}function oKt(e,t){var r=wp(e,t);if(tn(r))return r.type=e.getAttribute("type"),r}function aKt(e,t){return _o({},bKt,e,t)}function $qe(e,t){return _o([],wKt,e,t)}var Bo=[null,"http://www.opengis.net/wms"],sKt=jo(Bo,{Service:ir(WZt),Capability:ir(GZt)}),lKt=jo(Bo,{Request:ir(tKt),Exception:ir(XZt),Layer:ir(JZt)}),uKt=jo(Bo,{Name:ir(gn),Title:ir(gn),Abstract:ir(gn),KeywordList:ir($qe),OnlineResource:ir(nU),ContactInformation:ir(ZZt),Fees:ir(gn),AccessConstraints:ir(gn),LayerLimit:ir(eU),MaxWidth:ir(eU),MaxHeight:ir(eU)}),cKt=jo(Bo,{ContactPersonPrimary:ir(KZt),ContactPosition:ir(gn),ContactAddress:ir(YZt),ContactVoiceTelephone:ir(gn),ContactFacsimileTelephone:ir(gn),ContactElectronicMailAddress:ir(gn)}),pKt=jo(Bo,{ContactPerson:ir(gn),ContactOrganization:ir(gn)}),dKt=jo(Bo,{AddressType:ir(gn),Address:ir(gn),City:ir(gn),StateOrProvince:ir(gn),PostCode:ir(gn),Country:ir(gn)}),fKt=jo(Bo,{Format:Bqe(gn)}),Hqe=jo(Bo,{Name:ir(gn),Title:ir(gn),Abstract:ir(gn),KeywordList:ir($qe),CRS:vs(gn),SRS:vs(gn),EX_GeographicBoundingBox:ir(HZt),LatLonBoundingBox:ir(UZt),BoundingBox:vs(VZt),Dimension:vs(eKt),Attribution:ir(BZt),AuthorityURL:vs(iKt),Identifier:vs(gn),MetadataURL:vs(oKt),DataURL:vs(wp),FeatureListURL:vs(wp),Style:vs(aKt),MinScaleDenominator:ir(a0),MaxScaleDenominator:ir(a0),ScaleHint:ir($Zt),Layer:vs(QZt)}),hKt=jo(Bo,{Title:ir(gn),OnlineResource:ir(nU),LogoURL:ir(Uqe)}),mKt=jo(Bo,{westBoundLongitude:ir(a0),eastBoundLongitude:ir(a0),southBoundLatitude:ir(a0),northBoundLatitude:ir(a0)}),vKt=jo(Bo,{GetCapabilities:ir(tU),GetMap:ir(tU),GetFeatureInfo:ir(tU)}),gKt=jo(Bo,{Format:vs(gn),DCPType:vs(rKt)}),yKt=jo(Bo,{HTTP:ir(nKt)}),_Kt=jo(Bo,{Get:ir(wp),Post:ir(wp)}),bKt=jo(Bo,{Name:ir(gn),Title:ir(gn),Abstract:ir(gn),LegendURL:vs(Uqe),StyleSheetURL:ir(wp),StyleURL:ir(wp)}),xKt=jo(Bo,{Format:ir(gn),OnlineResource:ir(nU)}),wKt=jo(Bo,{Keyword:Bqe(gn)}),U5=class{constructor(t,r){!r&&typeof window!="undefined"&&(r=window.DOMParser),this.version=void 0,this._parser=new rU(r),this._data=t}data(t){return this._data=t,this}toJSON(t){return t=t||this._data,this.parse(t)}parse(t){return this.readFromDocument(this._parser.toDocument(t))}readFromDocument(t){for(let r=t.firstChild;r;r=r.nextSibling)if(r.nodeType==Bw.ELEMENT)return this.readFromNode(r);return null}readFromNode(t){return this.version=t.getAttribute("version"),_o({version:this.version},sKt,t,[])||null}};var H5="wms-base-map-layer",Vw="wms-base-map-source",Uw="xyz-base-map-layer",G5="xyz-base-map-source";function Zqe(e){let t;try{t=new URL(e)}catch(r){return!1}return t.protocol==="http:"||t.protocol==="https:"}function Gqe(e,t){return t.Capability.Layer.Layer.filter(r=>r.CRS.includes("EPSG:3857")).map(r=>{let i=r.Name;return{id:r.Title,label:r.Title,urls:[`${e}?bbox={bbox-epsg-3857}&format=image/png&service=WMS&version=1.1.0&request=GetMap&srs=EPSG:3857&transparent=true&width=512&height=512&layers=${i}`],type:"wms",layers:i,tileSize:512}})}function W5(e){return Oi(this,null,function*(){let t=yield Wqe.default.get(e);if(t.status===200){let r=new U5().parse(t.data);return console.log("parse",Gqe(e.split("?")[0],r)),Gqe(e.split("?")[0],r)}else throw new Error(`Could not fetch wms capabilities document at ${e}`)})}var Kqe=(e,t,r)=>{if(!t)return!1;if(Jqe(e,r),!e.getSource(Vw)){let n={type:"raster",tiles:[`${t.urls[0]}?bbox={bbox-epsg-3857}&format=image/png&service=WMS&version=2.0.0&request=GetMap&CRS=EPSG:3857&transparent=true&width=512&height=512&layers=${t.layers}&STYLES=`]};t.attribution&&(n.attribution=t.attribution),e.addSource(Vw,n);let i=e.getStyle().layers[0].id;e.addLayer({id:H5,type:"raster",source:Vw,paint:{}},i)}},Yqe=e=>{for(let{id:t}of e.getStyle().layers)(t===H5||t===Uw)&&e.setLayoutProperty(t,"visibility","visible")},$w=e=>{Yqe(e),e.getLayer(H5)&&e.removeLayer(H5),e.getSource(Vw)&&e.removeSource(Vw)},Xqe=(e,t)=>{t.forEach(r=>{e.setLayoutProperty(r.id,"visibility","visible")})},Jqe=(e,t)=>{t.forEach(r=>{e.setLayoutProperty(r.id,"visibility","none")})},Qqe=(e,t,r)=>{if(!t)return!1;if(Jqe(e,r),$w(e),!e.getSource(Uw)){e.addSource(G5,{type:"raster",tiles:[t.urls[0]],attribution:t.attribution});let n=e.getStyle().layers[0].id;e.addLayer({id:Uw,type:"raster",source:G5,paint:{}},n)}},eNe=e=>{Yqe(e),e.getLayer(Uw)&&e.removeLayer(Uw),e.getSource(G5)&&e.removeSource(G5)};var sNe=ne(fm(),1);var Y5=ne(Ve(),1);var Hw=ne(Ve(),1);var Z5=ne(Xt(),1);var tNe=(e,{sourceId:t,fillId:r,outlineId:n})=>{e.addSource(t,{type:"geojson",data:{type:"FeatureCollection",features:[]}}),e.addLayer({id:r,type:"fill",source:t,paint:{"fill-color":"#ff0000","fill-opacity":.2}}),e.addLayer({id:n,type:"line",source:t,paint:{"line-color":"#ff0000","line-width":1}})},SKt=(e,{sourceId:t,fillId:r,outlineId:n})=>{e.getLayer(r)&&e.removeLayer(r),e.getLayer(n)&&e.removeLayer(n),e.getSource(t)&&e.removeSource(t)},rNe=e=>{let t=cr($n);return(0,Hw.useEffect)(()=>{if(vn(t)){let r=()=>{tNe(t,tt({},e))};return t._loaded?tNe(t,tt({},e)):t.once("load",r),()=>{SKt(t,tt({},e)),t.off("load",r)}}},[t]),Hw.default.createElement(Hw.default.Fragment,null)};rNe.propTypes={sourceId:Z5.default.string.isRequired,fillId:Z5.default.string.isRequired,outlineId:Z5.default.string.isRequired};var nNe=rNe;var K5=nNe;var iNe="vkf-map-overlay-source",Mf="vkf-map-overlay-fill",IKt="vkf-map-overlay-outline",iU=(e,t)=>{let r=e.getSource(iNe);r&&r.setData(t)},oNe=()=>Y5.default.createElement(Y5.default.Fragment,null,Y5.default.createElement(K5,{sourceId:iNe,fillId:Mf,outlineId:IKt}));oNe.propTypes={};var aNe=oNe;var EKt=e=>Oi(void 0,null,function*(){var t;try{let r=yield sNe.default.get(`${e}/tilemapresource.xml`),n=new DOMParser().parseFromString(r.data,"text/xml"),i=n.getElementsByTagName("BoundingBox")[0],o=[i.getAttribute("minx"),i.getAttribute("miny"),i.getAttribute("maxx"),i.getAttribute("maxy")].map(parseFloat),u=n.getElementsByTagName("TileSet"),f=(t=parseInt(n.getElementsByTagName("TileFormat")[0].getAttribute("width")))!=null?t:256;return{bounds:o,maxZoom:u.length-1,tileSize:f}}catch(r){return console.error("Error fetching or parsing XML:",r),null}}),lNe=(e,t,r)=>Oi(void 0,null,function*(){let n=e.getId(),i=e.getMetadata(zr.tmsUrls),o=e.getMetadata(zr.onlineResources).find(y=>y.type==="WMS").url,u=Array.isArray(i)&&i.length>0,f;if(u){let{maxZoom:y,bounds:w,tileSize:T}=yield EKt(i[0]);f={bounds:w,tileSize:T,maxzoom:y,tiles:i.map(A=>`${A}/{z}/{x}/{y}.png`),scheme:"tms"}}else f={tiles:(yield W5(o))[0].urls};t.addSource(n,Lr(tt({type:"raster"},f),{bounds:e.getMetadata(zr.bounds)}));let h=t.getLayer(Mf)!==void 0?Mf:void 0;t.addLayer({id:n,type:"raster",metadata:{[i0.id]:n},source:n,layout:{visibility:r.visibility},paint:{"raster-opacity":r.opacity}},h)});function oU(e,t,r){if(e!==null)for(var n,i,o,u,f,h,y,w=0,T=0,A,q=e.type,z=q==="FeatureCollection",F=q==="Feature",N=z?e.features.length:1,L=0;L<N;L++){y=z?e.features[L].geometry:F?e.geometry:e,A=y?y.type==="GeometryCollection":!1,f=A?y.geometries.length:1;for(var B=0;B<f;B++){var Z=0,te=0;if(u=A?y.geometries[B]:y,u!==null){h=u.coordinates;var ue=u.type;switch(w=r&&(ue==="Polygon"||ue==="MultiPolygon")?1:0,ue){case null:break;case"Point":if(t(h,T,L,Z,te)===!1)return!1;T++,Z++;break;case"LineString":case"MultiPoint":for(n=0;n<h.length;n++){if(t(h[n],T,L,Z,te)===!1)return!1;T++,ue==="MultiPoint"&&Z++}ue==="LineString"&&Z++;break;case"Polygon":case"MultiLineString":for(n=0;n<h.length;n++){for(i=0;i<h[n].length-w;i++){if(t(h[n][i],T,L,Z,te)===!1)return!1;T++}ue==="MultiLineString"&&Z++,ue==="Polygon"&&te++}ue==="Polygon"&&Z++;break;case"MultiPolygon":for(n=0;n<h.length;n++){for(te=0,i=0;i<h[n].length;i++){for(o=0;o<h[n][i].length-w;o++){if(t(h[n][i][o],T,L,Z,te)===!1)return!1;T++}te++}Z++}break;case"GeometryCollection":for(n=0;n<u.geometries.length;n++)if(oU(u.geometries[n],t,r)===!1)return!1;break;default:throw new Error("Unknown Geometry Type");}}}}}function uNe(e,t={}){if(e.bbox!=null&&t.recompute!==!0)return e.bbox;let r=[1/0,1/0,-1/0,-1/0];return oU(e,n=>{r[0]>n[0]&&(r[0]=n[0]),r[1]>n[1]&&(r[1]=n[1]),r[2]<n[0]&&(r[2]=n[0]),r[3]<n[1]&&(r[3]=n[1])}),r}var Gw,X5,cNe,aU=class extends jw{constructor({metadata:r,geometry:n}){super({metadata:r,geometry:n});H2(this,X5);H2(this,Gw,!1);Hq(this,X5,cNe).call(this)}addLayerToMap(r,n={visibility:"visible",opacity:1}){return r.getSource(this.getId())?Promise.reject(`Source with id '${this.getId()}' exists already in map.`):lNe(this,r,n)}addToOverlay(r,n){let i=r.getSource(n);if(i){let o=this.toGeoJSON();o.id=this.getId();let u=[o];i.updateData({add:u})}}removeFromOverlay(r,n){let i=r.getSource(n);if(i){let o=[this.getId()];i.updateData({remove:o})}}toGeoJSON(){return{type:"Feature",properties:{},geometry:this.geometry}}isDisplayedInMap(r){return r.getSource(this.getId())!==void 0&&r.getLayer(this.getId())!==void 0}getType(){return o0.HISTORIC_MAP}setOpacity(r,n){r.getLayer(this.getId())&&r.setPaintProperty(this.getId(),"raster-opacity",n)}getOpacity(r){var n;return r.getLayer(this.getId())?(n=r.getPaintProperty(this.getId(),"raster-opacity"))!=null?n:1:null}moveToTop(r){this.move(r,null)}move(r,n){r.moveLayer(this.getId(),n!=null?n:Mf)}getMapLibreLayerId(){return this.getId()}removeMapLibreLayers(r){r.getLayer(this.getMapLibreLayerId())&&r.removeLayer(this.getMapLibreLayerId()),r.getSource(this.getId())&&r.removeSource(this.getId())}setVisibility(r,n){r.setLayoutProperty(this.getMapLibreLayerId(),"visibility",n)}isVisible(r){return r.getLayoutProperty(this.getMapLibreLayerId(),"visibility")==="visible"}isMissing(){return Uq(this,Gw)}setIsMissing(r){$q(this,Gw,r)}};Gw=new WeakMap,X5=new WeakSet,cNe=function(){let r=this.geometry?uNe(this.geometry):void 0;this.metadata[zr.bounds]=r};var pNe=aU;var Pf=pNe;var fi={SYMBOL:"symbol",LINE:"line",FILL:"fill",OUTLINE:"outline"},TKt={[fi.LINE]:"line-opacity",[fi.FILL]:"fill-opacity",[fi.OUTLINE]:"outline-opacity"},AKt={[fi.LINE]:"stroke-opacity",[fi.FILL]:"fill-opacity",[fi.OUTLINE]:"stroke-opacity"};var ac={[fi.SYMBOL]:{COLOR:"#0000FF"},[fi.LINE]:{COLOR:"#00FF00",WIDTH:3,OPACITY:1},[fi.OUTLINE]:{COLOR:"#0000FF",WIDTH:1,OPACITY:1},[fi.FILL]:{COLOR:"#FFFF00",OPACITY:.27}},CKt={[fi.SYMBOL]:{type:"symbol",layout:{"icon-image":Zr.getSettings().MARKER_IMAGE_ID,"icon-size":.5,"icon-anchor":"bottom"},paint:{"icon-color":["to-color",["feature-state","marker"],["get","marker"],ac[fi.SYMBOL].COLOR],"icon-halo-color":"#FFF","icon-halo-width":1},filter:["in","$type","Point"]},[fi.LINE]:{type:"line",paint:{"line-color":["coalesce",["feature-state","stroke"],["get","stroke"],ac[fi.LINE].COLOR],"line-width":["coalesce",["feature-state","stroke-width"],["get","stroke-width"],ac[fi.LINE].WIDTH],"line-opacity":["coalesce",["feature-state","stroke-opacity"],["get","stroke-opacity"],ac[fi.LINE].OPACITY]},filter:["in","$type","LineString"]},[fi.OUTLINE]:{type:"line",paint:{"line-color":["coalesce",["feature-state","stroke"],["get","stroke"],ac[fi.OUTLINE].COLOR],"line-width":["coalesce",["feature-state","stroke-width"],["get","stroke-width"],ac[fi.OUTLINE].WIDTH],"line-opacity":["coalesce",["feature-state","stroke-opacity"],["get","stroke-opacity"],ac[fi.OUTLINE].OPACITY]},filter:["in","$type","Polygon"]},[fi.FILL]:{type:"fill",paint:{"fill-color":["coalesce",["feature-state","fill"],["get","fill"],ac[fi.FILL].COLOR],"fill-opacity":["coalesce",["feature-state","fill-opacity"],["get","fill-opacity"],ac[fi.FILL].OPACITY]},filter:["in","$type","Polygon"]}};var dNe=ne(Zx(),1);var sU=(e,t=4)=>{if(Array.isArray(e))return e.map(r=>sU(r,t));if(typeof e=="object"&&e!==null){let r={};return Object.entries(e).forEach(([n,i])=>{r[n]=sU(i)}),r}else return isNaN(e)||e===null?e:e.toFixed(Math.min(OKt(e),t))},PKt=(e,t=4)=>{let r={};return Object.entries(e).forEach(([n,i])=>{r[n]=sU(i,t)}),r},OKt=e=>Math.floor(e)===e?0:e.toString().split(".")[1].length||0;var fNe=(e,t)=>{let r;t.forEach(n=>{let i=n.getMetadata(zr.bounds);r=r===void 0?new dNe.LngLatBounds(i):r.extend(i)}),r!==void 0&&e.fitBounds(r,{animate:!1,padding:{left:350,right:350,top:50,bottom:50}})};var hNe=(e,t=!1)=>{let r={center:e.getCenter().toArray(),bearing:e.getBearing(),pitch:e.getPitch(),zoom:e.getZoom()};return t?PKt(r,5):r};function s0(e,t){let r=()=>{if(typeof window=="undefined")return t;try{let u=window.localStorage.getItem(e);return u?JSON.parse(u):t}catch(u){return console.warn(`Error reading localStorage key \u201C${e}\u201D:`,u),t}},[n,i]=(0,Ww.useState)(r),o=u=>{typeof window=="undefined"&&console.warn(`Tried setting localStorage key \u201C${e}\u201D even though environment is not a client`);try{let f=u instanceof Function?u(n):u;window.localStorage.setItem(e,JSON.stringify(f)),i(f),window.dispatchEvent(new Event("local-storage"))}catch(f){console.warn(`Error setting localStorage key \u201C${e}\u201D:`,f)}};return(0,Ww.useEffect)(()=>{i(r())},[]),(0,Ww.useEffect)(()=>{let u=()=>{i(r())};return window.addEventListener("storage",u),window.addEventListener("local-storage",u),()=>{window.removeEventListener("storage",u),window.removeEventListener("local-storage",u)}},[]),[n,o]}var Nn=ne(Ve(),1);var lU=ne(Xt(),1);var va=_i({key:"notificationState",default:null});var mNe=e=>{let{onClose:t,onSubmit:r}=e,[n,i]=(0,Nn.useState)(""),[o,u]=(0,Nn.useState)(!1),[f,h]=(0,Nn.useState)([]),[y,w]=(0,Nn.useState)(null),T=di(va),A=(0,Nn.useRef)(),q=(0,Nn.useRef)(),z=ue=>{h([]),w(null),T({id:"dialog-add-wms",type:"danger",text:ue})},F=()=>{t()},N=()=>{r(y),F()},L=()=>Oi(void 0,null,function*(){if(!Zqe(n)){u(!0);return}try{let ue=yield W5(n);ue.length!==0&&(h(ue),w(ue[0]))}catch(ue){z(et("dialog.add-wms.error.invalid-url"))}}),B=ue=>{i(ue.target.value)},Z=ue=>{ue.code==="Enter"&&L()},te=ue=>{let ce=f.find(ye=>ye.id===ue.target.value);w(ce)};return Nn.default.createElement("div",null,Nn.default.createElement(ql,{className:"vkf-dialog-addwms",show:!0,onHide:F},Nn.default.createElement(ql.Header,null,Nn.default.createElement(ql.Title,null,et("control-basemapselector-addwms-title"))),Nn.default.createElement(ql.Body,null,Nn.default.createElement("div",{className:"dialog-content"},Nn.default.createElement("div",{className:kr("form-group","set-url",o?"has-warning":"")},Nn.default.createElement("label",{htmlFor:A.current},et("control-basemapselector-addwms-input-label")),Nn.default.createElement("div",{className:"form-group-capabilities"},Nn.default.createElement("input",{type:"url",className:"form-control",ref:A,placeholder:"https://meinwms.de?Request=GetCapabilities&Service=WMS&Version=1.3.0",value:n,onChange:B,onKeyDown:Z}),Nn.default.createElement("button",{type:"submit",className:"btn",onClick:L},et("control-basemapselector-addwms-btn-load-capabilities"))),Nn.default.createElement("p",{className:"help-block"},et("control-basemapselector-addwms-input-description"))),f.length>0&&y!==null&&Nn.default.createElement("div",{className:kr("form-group","set-layer")},Nn.default.createElement("label",{htmlFor:q.current},et("control-basemapselector-addwms-select-label")),Nn.default.createElement("select",{ref:q,value:y.id,onChange:te,className:"form-control"},f.map(ue=>Nn.default.createElement("option",{key:ue.id,value:ue.id},ue.label))),Nn.default.createElement("p",{className:"help-block"},et("control-basemapselector-addwms-select-description"))))),Nn.default.createElement(ql.Footer,null,Nn.default.createElement(ma,{onClick:F},et("control-basemapselector-addwms-btn-canel")),Nn.default.createElement(ma,{onClick:N,bsStyle:"primary",className:kr(y===null?"disabled":"")},et("control-basemapselector-addwms-btn-submit")))))};mNe.propTypes={onClose:lU.default.func.isRequired,onSubmit:lU.default.func.isRequired};var vNe=mNe;var Kw="vkf-custom-basemaps",gNe=e=>{let{map:t}=e,[r,n]=sn(Ny),[i,o]=s0(Kw,[]),u=Zr.getBaseMaps(),f=di(va),[h,y]=(0,ga.useState)(!1),w=z=>{n(z.id)},T=()=>{y(!0)},A=z=>{z.type==="wms"&&$w(t,z),r===z.id&&n(u[0].id),o(F=>F.filter(N=>N.id!==z.id))},q=z=>{if([...u,...i].find(N=>N.id===z.id||N.label===z.label))f({id:"basemapSelector",type:"danger",text:et("control-basemapselector-error-initializiation")});else{let N=Lr(tt({},z),{allowDeletion:!0});o(L=>[...L,N])}};return ga.default.createElement(ga.default.Fragment,null,r!==void 0&&ga.default.createElement(ga.default.Fragment,null,ga.default.createElement("h2",null,et("control-basemapselector-label"),":"),ga.default.createElement("ul",{className:"wms-entries"},[...u,...i].map(z=>ga.default.createElement("li",{key:z.id,className:"basemap-selector-entry"},ga.default.createElement(GV,{onChange:()=>w(z),name:z.id,value:z.id,checked:r===z.id},z.label),z.allowDeletion&&ga.default.createElement("button",{className:"delete-basemap-button",onClick:F=>{F.preventDefault(),F.stopPropagation(),A(z)},title:"Remove basemap"},ga.default.createElement(Gi,{glyph:"remove"}))))),ga.default.createElement("div",{className:"controls-container"},ga.default.createElement("button",{className:"add-wms-button",onClick:T},et("control-basemapselector-btn-addwms")))),h&&ga.default.createElement(vNe,{onClose:()=>y(!1),onSubmit:q}))};gNe.propTypes={map:Zw.default.object,onBasemapChange:Zw.default.func,onSetNotification:Zw.default.func,activeBasemapId:Zw.default.string};var yNe=gNe;var RKt=()=>{let{baseMapControlEl:e,activeDialog:t,toggleDialog:r,dialogRef:n}=FM(o9,hs.BasemapSelector);return e!==null?(0,_Ne.createPortal)(Yw.default.createElement("div",{ref:n},Yw.default.createElement("button",{onClick:r,title:et("control-basemapselector-open"),className:kr("maplibregl-ctrl-basemap-selector",t===hs.BasemapSelector&&"active")}),t===hs.BasemapSelector&&Yw.default.createElement("div",{className:kr("basemap-selector-modal",t===hs.BasemapSelector&&"active")},Yw.default.createElement(yNe,null))),e):null},bNe=RKt;var xNe=bNe;function uU(e,t){return new Promise(function(r){let n=()=>{r(!1)},i=()=>{t.signal.removeEventListener("abort",n)};t.signal.addEventListener("abort",n,{once:!0}),e.once("moveend",()=>{r(!0),i()}),e.once("touchstart",()=>{r(!1),i()}),e.once("mousedown",()=>{r(!1),i()}),e.flyTo(t)})}function wNe(e){return new Promise(t=>setTimeout(t,e))}var SNe=ne(Zx(),1);var J5=class extends SNe.Map{constructor(){super(...arguments);Pn(this,"terrainConfiguration",Zr.getTerrain());Pn(this,"terrainExaggeration",this.terrainConfiguration.exaggeration);Pn(this,"isTerrainEnabled",!1);Pn(this,"abortController",new AbortController)}getTerrainExaggeration(){return this.terrainExaggeration}hasTerrain(){return this.isTerrainEnabled}growTerrain(r,n=1e3){if(!this.terrain)return;let i=performance.now(),o=this.terrain.exaggeration,u=r-o,f=()=>{if(!this.terrain||this.terrainFlattening)return;let h=(performance.now()-i)/n;if(h<.99){let y=1-dh(1-h,4),w=o+y*u;this.terrain.exaggeration=w,requestAnimationFrame(f)}else this.terrainGrowing=!1,this.terrainFlattening=!1,this.terrain.exaggeration=r;this._elevationFreeze=!1,this.triggerRepaint()};this.terrainGrowing=!0,this.terrainFlattening=!1,requestAnimationFrame(f)}enableTerrain(r=this.terrainExaggeration){if(r<0){console.warn("Terrain exaggeration cannot be negative.");return}let n=o=>Oi(this,null,function*(){!this.terrain||o.type!=="data"||o.dataType!=="source"||!("source"in o)||o.sourceId!==vf||o.source.type!=="raster-dem"||o.isSourceLoaded&&(this.off("data",n),this.growTerrain(r))}),i=()=>{this.isTerrainEnabled=!0,this.terrainExaggeration=r,this.addSource(vf,{attribution:this.terrainConfiguration.attribution,type:"raster-dem",tiles:[this.terrainConfiguration.url],tileSize:256,minzoom:this.terrainConfiguration.minZoom,maxzoom:this.terrainConfiguration.maxZoom,encoding:"terrarium"}),this.setTerrain({source:vf,exaggeration:0}),this.abortController.abort(),this.abortController=new AbortController,uU(this,{signal:this.abortController.signal,pitch:60,duration:700}).then(()=>wNe(500)).then(()=>{this.getSource(vf).loaded()?this.growTerrain(r):this.on("data",n)})};if(this.getTerrain()){this.isTerrainEnabled=!0,this.growTerrain(r);return}this.loaded()||this.isTerrainEnabled?i():this.once("load",()=>{this.getTerrain()&&this.getSource(vf)||i()})}disableTerrain(){return Oi(this,null,function*(){if(!this.terrain)return;this.isTerrainEnabled=!1;let r=1*1e3,n=performance.now(),i=this.terrain.exaggeration,o=()=>{if(!this.terrain||this.terrainGrowing)return;let u=(performance.now()-n)/r;if(this._elevationFreeze=!1,u<.99){let f=dh(1-u,4),h=i*f;this.terrain.exaggeration=h,requestAnimationFrame(o)}else this.terrain.exaggeration=0,this.terrainGrowing=!1,this.terrainFlattening=!1,this.setTerrain(),this.getSource(vf)&&this.removeSource(vf),this.abortController.abort(),this.abortController=new AbortController,uU(this,{pitch:0,signal:this.abortController.signal,duration:700});this.triggerRepaint()};this.terrainGrowing=!1,this.terrainFlattening=!0,requestAnimationFrame(o)})}setTerrainExaggeration(r,n=!0){!n&&this.terrain?(this.terrainExaggeration=r,this.terrain.exaggeration=r,this.triggerRepaint()):this.enableTerrain(r)}};var cU=class extends J5{addControl(t,r){let n=super.addControl(t,r);return this.fire(Xu.controlAdded,{control:t}),n}removeControl(t){let r=super.removeControl(t);return this.fire(Xu.controlRemoved,{control:t}),r}setPaintProperty(t,r,n,i){var h;let o=super.setPaintProperty(t,r,n,i),u=this.getLayer(t),f=(h=u==null?void 0:u.metadata)==null?void 0:h[i0.id];return _Ae.has(r)&&f&&this.fire(Xu.opacityChanged,{layerId:f,property:r,value:n}),o}setLayoutProperty(t,r,n,i){var h;let o=super.setLayoutProperty(t,r,n,i),u=this.getLayer(t),f=(h=u==null?void 0:u.metadata)==null?void 0:h[i0.id];return bAe.has(r)&&f&&this.fire(Xu.visibilityChanged,{layerId:f,property:r,value:n}),o}},INe=cU;var ENe=INe;var Xw=ne(Ve(),1),eke=ne(Ti(),1);var lc=ne(Ve(),1);var Vo=ne(Ve(),1);var pU={"2D":0,"3D":1};var TNe=e=>{let{center:t,bearing:r,pitch:n,zoom:i}=e;return Object.assign({},t===void 0?null:{c:t},r===void 0?null:{be:r},n===void 0?null:{p:n},i===void 0?null:{z:i})},ANe=e=>Zr.getBaseMaps().filter(n=>n.id===e).length>0?{b:e}:{},CNe=e=>({map_id:e.filter(t=>t.getType()===o0.HISTORIC_MAP).map(t=>t.getId())}),MNe=e=>({v:e?pU["3D"]:pU["2D"]});var YNe=ne(ZNe(),1);var ya=ne(Ve(),1),hU=ne(Xt(),1);var KNe=({onClick:e,value:t})=>{let[r,n]=(0,ya.useState)(!1),i=(0,ya.useRef)(),o=(0,ya.useRef)(),u=(0,ya.useCallback)(()=>{(e!==void 0&&t===""?e():new Promise(h=>h())).then(h=>{clearTimeout(o.current),navigator.clipboard.writeText(h!==void 0?h:t),n(!0)})},[e,t]);return(0,ya.useEffect)(()=>(r&&(o.current=setTimeout(()=>{n(!1)},1e3)),()=>{clearTimeout(o.current)}),[r]),ya.default.createElement(ya.default.Fragment,null,ya.default.createElement("button",{className:"copy-button",onClick:u,ref:i,title:et("control-permalink-exporter-copy-title")},ya.default.createElement(Gi,{glyph:"copy"})),ya.default.createElement(UV,{placement:"right",target:i.current,show:r},ya.default.createElement(QV,{id:"copy-state-indicator"},et("control-permalink-exporter-copy"))))};KNe.propTypes={onClick:hU.default.func,value:hU.default.string};var Q5=KNe;var VKt=()=>{let e=cr($n),t=cr(Ju),r=cr(Ny),[n,i]=(0,Vo.useState)(""),o=(0,Vo.useRef)(),u=(0,Vo.useCallback)(()=>{if(!vn(e))return;let f=TNe(hNe(e,!0)),h=MNe(e.hasTerrain()),y=CNe(t),w=ANe(r),T=(0,YNe.stringify)(Object.assign({},f,h,y,w),{arrayFormat:"comma"});i(eO(T))},[e]);return(0,Vo.useEffect)(()=>{if(e)return u(),e.on("moveend",u),()=>{e.off("moveend",u)}},[e,u]),Vo.default.createElement(Vo.default.Fragment,null,Vo.default.createElement("div",{className:"action-content"},Vo.default.createElement("label",{htmlFor:"permalink-value",className:"visually-hidden"},"Permalink"),Vo.default.createElement("input",{readOnly:!0,ref:o,value:n,id:"permalink-value"}),Vo.default.createElement(Q5,{value:n})),Vo.default.createElement("div",{className:"description"},Vo.default.createElement("p",null,et("control-permalink-exporter-permalink-description"))))},XNe=VKt;var Uo=ne(Ve(),1);var sc=ne(Ve(),1);var UKt=()=>sc.default.createElement("div",{className:"lds-roller"},sc.default.createElement("div",null),sc.default.createElement("div",null),sc.default.createElement("div",null),sc.default.createElement("div",null),sc.default.createElement("div",null),sc.default.createElement("div",null),sc.default.createElement("div",null),sc.default.createElement("div",null)),l0=UKt;var JNe=()=>{let[e]=s0(Kw,[]),[t,r]=(0,Uo.useState)(!1),[n,i]=(0,Uo.useState)(""),o=cr(wAe),u=Zr.getGeoreferenceApiClient(),f="/map_view/",h=(0,Uo.useCallback)(()=>{if(o!==void 0){let y=o(),{searchOptions:w}=y,T=wn(y,["searchOptions"]),A=e.filter(z=>z.id===T.activeBasemapId),q=Object.assign({},T,A.length>0?{customBasemaps:A}:null);return r(!0),u.post(f,{map_view_json:q}).then(z=>{if(z.status===200&&z.data!==void 0){let{map_view_id:F}=z.data,N=eO(`map_view_id=${F}`);return i(N),r(!1),N}})}},[e,o]);return Uo.default.createElement(Uo.default.Fragment,null,Uo.default.createElement("div",{className:"action-content"},Uo.default.createElement("label",{htmlFor:"permalink-mapview",className:"visually-hidden"},"Permalink"),Uo.default.createElement("input",{placeholder:et("control-permalink-input-mapview-placeholder"),readOnly:!0,value:n,id:"permalink-mapview"}),Uo.default.createElement(Q5,{onClick:h,value:n}),Uo.default.createElement("button",{className:kr("upload-button",t&&"loading"),onClick:h},t?Uo.default.createElement(l0,null):Uo.default.createElement(Gi,{glyph:"upload"}),"Upload")),Uo.default.createElement("div",{className:"description"},Uo.default.createElement("p",null,et("control-permalink-exporter-mapview-description"))))};var eO=e=>`${window.location.origin}${window.location.pathname}?${e}`,$Kt=()=>{let e=!Zr.isUserAuthenticated();return lc.default.createElement("div",{className:"vkf-permalink-exporter"},lc.default.createElement(XV,{defaultActiveKey:1,id:"permalink-exporter-tabs"},lc.default.createElement(j5,{eventKey:1,title:et("control-permalink-title-permalink")},lc.default.createElement("div",{className:"permalink-exporter-content"},lc.default.createElement(XNe,null))),lc.default.createElement(j5,{disabled:e,eventKey:2,title:et("control-permalink-title-map-view")},lc.default.createElement("div",{className:"permalink-exporter-content"},!e&&lc.default.createElement(JNe,null)))))},QNe=lc.default.memo($Kt);var HKt=()=>{let{baseMapControlEl:e,activeDialog:t,toggleDialog:r,dialogRef:n}=FM(l9,hs.Permalink);return e!==null?(0,eke.createPortal)(Xw.default.createElement("div",{ref:n},Xw.default.createElement("button",{className:kr("maplibregl-ctrl-permalink",t===hs.Permalink&&"active"),onClick:r,title:et("control-permalink-open")}),t===hs.Permalink&&Xw.default.createElement("div",{className:"content-container"},Xw.default.createElement(QNe,null))),e):null},tke=HKt;var tO=ne(Ve(),1);var GKt=()=>{let e=cr($n),t=cr(Ny),r=cr(CM),[n]=s0(Kw,[]),i=Zr.getBaseMaps(),o=(0,tO.useMemo)(()=>[...i,...n],[n,i]);return(0,tO.useEffect)(()=>{if(vn(e)){let u=o.find(h=>h.id===t);if(u===void 0)return;let f=u;if($w(e),eNe(e),f.type==="vector")Xqe(e,r);else if(f.type==="wms")Kqe(e,f,r);else if(f.type==="xyz")Qqe(e,f,r);else throw new Error("Unknown layer type")}},[t,e,r]),null},rke=GKt;function nke(){return{"NavigationControl.ZoomIn":et("control-zoom-in"),"NavigationControl.ZoomOut":et("control-zoom-out"),"FullscreenControl.Enter":et("control-fullscreen-Enter"),"FullscreenControl.Exit":et("control-fullscreen-Exit"),"NavigationControl.ResetBearing":et("control-rotate"),"TerrainControl.Enable":et("control-toggleviewmode-title"),"TerrainControl.Disable":et("control-toggleviewmode-title"),"GeolocateControl.FindMyLocation":et("control-locateme-title"),"GeolocateControl.LocationNotAvailable":et("control-locateme-location-not-available")}}var WKt="https://tile-2.kartenforum.slub-dresden.de/styles/maptiler-basic-v2/style.json";function ike(e){let{ChildComponent:t,layout:r,mapViewSettings:n={center:[13.5981217,59.562795],projection:"EPSG:3857",zoom:2},onAddGeoJson:i,loadMarkerIcon:o=!0}=e,[u,f]=sn($n),h=di(CM),y=(0,Dl.useRef)();return zM(y,"map"),(0,Dl.useEffect)(()=>{let w=new ENe({container:y.current,center:n.center,zoom:n.zoom,maxZoom:n.maxZoom,style:WKt,locale:nke(),attributionControl:!1}),T=()=>{if(f(w),h(w.getStyle().layers),o===!0){let{id:A,url:q}=Zr.getMarkerSettings();w.loadImage(q).then(z=>{w.addImage(A,z.data,{sdf:!0})})}};return w.on("style.load",T),()=>{w.off("style.load",T),f(void 0),w.remove()}},[]),(0,Dl.useEffect)(()=>{if(vn(u)){let w=yAe();return w.forEach(({control:T,position:A})=>{u.addControl(T,A)}),()=>{w.forEach(({control:T})=>{u.removeControl(T)})}}},[u]),Dl.default.createElement("div",{className:"map-container"},Dl.default.createElement("div",{ref:y,className:kr("map-div","olMap",xAe(r)),tabIndex:0},vn(u)&&Dl.default.createElement(t,{onAddGeoJson:i}),Dl.default.createElement(xNe,null),Dl.default.createElement(tke,null),Dl.default.createElement(rke,null)))}var ZKt={baseMapUrl:kl.default.arrayOf(kl.default.string),ChildComponent:kl.default.func,layout:kl.default.string,mapViewSettings:kl.default.shape({center:kl.default.arrayOf(kl.default.number),projection:kl.default.string,zoom:kl.default.number}),onAddGeoJson:kl.default.func,loadMarkerIcon:kl.default.bool};ike.propTypes=ZKt;var oke=ike;var yu=ne(Ve(),1),VLe=ne(Xt(),1);var zm=ne(Ve(),1);var _R=ne(Xt(),1);var Wi=ne(Ve(),1);var Qw=ne(Ve(),1),mU=ne(Xt(),1);var Mm=ne(Ve(),1),Jw=ne(Xt(),1);var ake=({checked:e,georeferenceMode:t,id:r,onClick:n})=>{let i=et(`facet-${r.toLowerCase()}`);return r!=="ToGeoref"||r==="toGeoref"&&t?Mm.default.createElement("li",null,Mm.default.createElement("label",{htmlFor:r},Mm.default.createElement("input",{checked:e,className:"facet-search-el",onChange:()=>{n(r)},id:r,title:i,type:"checkbox"}),Mm.default.createElement("span",{dangerouslySetInnerHTML:{__html:i}}))):Mm.default.createElement(Mm.default.Fragment,null)};ake.propTypes={checked:Jw.default.bool,georeferenceMode:Jw.default.bool,id:Jw.default.string,onClick:Jw.default.func};var ske=ake;var lke={AE:"map_type-ae",AK:"map_type-ak",CM:"map_type-cm",GL:"map_type-gl",MB:"map_type-mb",MTB:"map_type-mtb",TK:"map_type-tk",TKX:"map_type-tkx",MM:"type-mosaic"},KKt={};Object.keys(lke).forEach(e=>{KKt[e]=!1});var uke=({georeferenceMode:e,mosaicMode:t})=>{let[r,n]=sn(yf),i=(0,Qw.useMemo)(()=>{let u=tt({},lke);return t&&delete u.MM,u},[t]),o=u=>{n(f=>{let{facets:h,georeference:y}=f;if(u==="ToGeoref")return{facets:h,georeference:!y};{let w=h.slice(),T=w.findIndex(A=>A.id===u);if(T>-1)w.splice(T,1);else{let[A,q]=i[u].split("-");w.push({key:A,value:q,id:u})}return{facets:w,georeference:y}}})};return Qw.default.createElement("ul",{className:"search-facet"},Object.keys(i).map(u=>Qw.default.createElement(ske,{checked:r.facets.findIndex(f=>f.id===u)!==-1,key:u,georeferenceMode:e,onClick:o,id:u})))};uke.propTypes={georeferenceMode:mU.default.bool,mosaicMode:mU.default.bool};var cke=uke;var rO=cke;var Tp=ne(Ve(),1);var BU=ne(Xt(),1);var Fi=ne(Ve(),1),ys=ne(Xt(),1);function Er(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var pke=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function YKt(e,t){return!!(e===t||pke(e)&&pke(t))}function XKt(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!YKt(e[r],t[r]))return!1;return!0}function JKt(e,t){t===void 0&&(t=XKt);var r,n=[],i,o=!1;function u(){for(var f=[],h=0;h<arguments.length;h++)f[h]=arguments[h];return o&&r===this&&t(f,n)||(i=e.apply(this,f),o=!0,r=this,n=f),i}return u}var nO=JKt;var c0=ne(Ve());var QKt=typeof performance=="object"&&typeof performance.now=="function",dke=QKt?function(){return performance.now()}:function(){return Date.now()};function fke(e){cancelAnimationFrame(e.id)}function eYt(e,t){var r=dke();function n(){dke()-r>=t?e.call(null):i.id=requestAnimationFrame(n)}var i={id:requestAnimationFrame(n)};return i}var vU=-1;function hke(e){if(e===void 0&&(e=!1),vU===-1||e){var t=document.createElement("div"),r=t.style;r.width="50px",r.height="50px",r.overflow="scroll",document.body.appendChild(t),vU=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return vU}var u0=null;function mke(e){if(e===void 0&&(e=!1),u0===null||e){var t=document.createElement("div"),r=t.style;r.width="50px",r.height="50px",r.overflow="scroll",r.direction="rtl";var n=document.createElement("div"),i=n.style;return i.width="100px",i.height="100px",t.appendChild(n),document.body.appendChild(t),t.scrollLeft>0?u0="positive-descending":(t.scrollLeft=1,t.scrollLeft===0?u0="negative":u0="positive-ascending"),document.body.removeChild(t),u0}return u0}var tYt=150,rYt=function(t,r){return t};function nYt(e){var t,r=e.getItemOffset,n=e.getEstimatedTotalSize,i=e.getItemSize,o=e.getOffsetForIndexAndAlignment,u=e.getStartIndexForOffset,f=e.getStopIndexForStartIndex,h=e.initInstanceProps,y=e.shouldResetStyleCacheOnItemSizeChange,w=e.validateProps;return t=function(T){aw(A,T);function A(z){var F;return F=T.call(this,z)||this,F._instanceProps=h(F.props,Er(F)),F._outerRef=void 0,F._resetIsScrollingTimeoutId=null,F.state={instance:Er(F),isScrolling:!1,scrollDirection:"forward",scrollOffset:typeof F.props.initialScrollOffset=="number"?F.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},F._callOnItemsRendered=void 0,F._callOnItemsRendered=nO(function(N,L,B,Z){return F.props.onItemsRendered({overscanStartIndex:N,overscanStopIndex:L,visibleStartIndex:B,visibleStopIndex:Z})}),F._callOnScroll=void 0,F._callOnScroll=nO(function(N,L,B){return F.props.onScroll({scrollDirection:N,scrollOffset:L,scrollUpdateWasRequested:B})}),F._getItemStyle=void 0,F._getItemStyle=function(N){var L=F.props,B=L.direction,Z=L.itemSize,te=L.layout,ue=F._getItemStyleCache(y&&Z,y&&te,y&&B),ce;if(ue.hasOwnProperty(N))ce=ue[N];else{var ye=r(F.props,N,F._instanceProps),Ne=i(F.props,N,F._instanceProps),Se=B==="horizontal"||te==="horizontal",Be=B==="rtl",He=Se?ye:0;ue[N]=ce={position:"absolute",left:Be?void 0:He,right:Be?He:void 0,top:Se?0:ye,height:Se?"100%":Ne,width:Se?Ne:"100%"}}return ce},F._getItemStyleCache=void 0,F._getItemStyleCache=nO(function(N,L,B){return{}}),F._onScrollHorizontal=function(N){var L=N.currentTarget,B=L.clientWidth,Z=L.scrollLeft,te=L.scrollWidth;F.setState(function(ue){if(ue.scrollOffset===Z)return null;var ce=F.props.direction,ye=Z;if(ce==="rtl")switch(mke()){case"negative":ye=-Z;break;case"positive-descending":ye=te-B-Z;break;}return ye=Math.max(0,Math.min(ye,te-B)),{isScrolling:!0,scrollDirection:ue.scrollOffset<Z?"forward":"backward",scrollOffset:ye,scrollUpdateWasRequested:!1}},F._resetIsScrollingDebounced)},F._onScrollVertical=function(N){var L=N.currentTarget,B=L.clientHeight,Z=L.scrollHeight,te=L.scrollTop;F.setState(function(ue){if(ue.scrollOffset===te)return null;var ce=Math.max(0,Math.min(te,Z-B));return{isScrolling:!0,scrollDirection:ue.scrollOffset<ce?"forward":"backward",scrollOffset:ce,scrollUpdateWasRequested:!1}},F._resetIsScrollingDebounced)},F._outerRefSetter=function(N){var L=F.props.outerRef;F._outerRef=N,typeof L=="function"?L(N):L!=null&&typeof L=="object"&&L.hasOwnProperty("current")&&(L.current=N)},F._resetIsScrollingDebounced=function(){F._resetIsScrollingTimeoutId!==null&&fke(F._resetIsScrollingTimeoutId),F._resetIsScrollingTimeoutId=eYt(F._resetIsScrolling,tYt)},F._resetIsScrolling=function(){F._resetIsScrollingTimeoutId=null,F.setState({isScrolling:!1},function(){F._getItemStyleCache(-1,null)})},F}A.getDerivedStateFromProps=function(F,N){return iYt(F,N),w(F),null};var q=A.prototype;return q.scrollTo=function(F){F=Math.max(0,F),this.setState(function(N){return N.scrollOffset===F?null:{scrollDirection:N.scrollOffset<F?"forward":"backward",scrollOffset:F,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},q.scrollToItem=function(F,N){N===void 0&&(N="auto");var L=this.props,B=L.itemCount,Z=L.layout,te=this.state.scrollOffset;F=Math.max(0,Math.min(F,B-1));var ue=0;if(this._outerRef){var ce=this._outerRef;Z==="vertical"?ue=ce.scrollWidth>ce.clientWidth?hke():0:ue=ce.scrollHeight>ce.clientHeight?hke():0}this.scrollTo(o(this.props,F,N,te,this._instanceProps,ue))},q.componentDidMount=function(){var F=this.props,N=F.direction,L=F.initialScrollOffset,B=F.layout;if(typeof L=="number"&&this._outerRef!=null){var Z=this._outerRef;N==="horizontal"||B==="horizontal"?Z.scrollLeft=L:Z.scrollTop=L}this._callPropsCallbacks()},q.componentDidUpdate=function(){var F=this.props,N=F.direction,L=F.layout,B=this.state,Z=B.scrollOffset,te=B.scrollUpdateWasRequested;if(te&&this._outerRef!=null){var ue=this._outerRef;if(N==="horizontal"||L==="horizontal"){if(N==="rtl")switch(mke()){case"negative":ue.scrollLeft=-Z;break;case"positive-ascending":ue.scrollLeft=Z;break;default:var ce=ue.clientWidth,ye=ue.scrollWidth;ue.scrollLeft=ye-ce-Z;break;}else ue.scrollLeft=Z;}else ue.scrollTop=Z}this._callPropsCallbacks()},q.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&fke(this._resetIsScrollingTimeoutId)},q.render=function(){var F=this.props,N=F.children,L=F.className,B=F.direction,Z=F.height,te=F.innerRef,ue=F.innerElementType,ce=F.innerTagName,ye=F.itemCount,Ne=F.itemData,Se=F.itemKey,Be=Se===void 0?rYt:Se,He=F.layout,Xe=F.outerElementType,$e=F.outerTagName,Qe=F.style,ot=F.useIsScrolling,ze=F.width,ke=this.state.isScrolling,je=B==="horizontal"||He==="horizontal",lt=je?this._onScrollHorizontal:this._onScrollVertical,ut=this._getRangeToRender(),vt=ut[0],Fe=ut[1],We=[];if(ye>0)for(var it=vt;it<=Fe;it++)We.push((0,c0.createElement)(N,{data:Ne,key:Be(it,Ne),index:it,isScrolling:ot?ke:void 0,style:this._getItemStyle(it)}));var Pe=n(this.props,this._instanceProps);return(0,c0.createElement)(Xe||$e||"div",{className:L,onScroll:lt,ref:this._outerRefSetter,style:Yr({position:"relative",height:Z,width:ze,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:B},Qe)},(0,c0.createElement)(ue||ce||"div",{children:We,ref:te,style:{height:je?"100%":Pe,pointerEvents:ke?"none":void 0,width:je?Pe:"100%"}}))},q._callPropsCallbacks=function(){if(typeof this.props.onItemsRendered=="function"){var F=this.props.itemCount;if(F>0){var N=this._getRangeToRender(),L=N[0],B=N[1],Z=N[2],te=N[3];this._callOnItemsRendered(L,B,Z,te)}}if(typeof this.props.onScroll=="function"){var ue=this.state,ce=ue.scrollDirection,ye=ue.scrollOffset,Ne=ue.scrollUpdateWasRequested;this._callOnScroll(ce,ye,Ne)}},q._getRangeToRender=function(){var F=this.props,N=F.itemCount,L=F.overscanCount,B=this.state,Z=B.isScrolling,te=B.scrollDirection,ue=B.scrollOffset;if(N===0)return[0,0,0,0];var ce=u(this.props,ue,this._instanceProps),ye=f(this.props,ce,ue,this._instanceProps),Ne=!Z||te==="backward"?Math.max(1,L):1,Se=!Z||te==="forward"?Math.max(1,L):1;return[Math.max(0,ce-Ne),Math.max(0,Math.min(N-1,ye+Se)),ce,ye]},A}(c0.PureComponent),t.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},t}var iYt=function(t,r){var n=t.children,i=t.direction,o=t.height,u=t.layout,f=t.innerTagName,h=t.outerTagName,y=t.width,w=r.instance;if(0)var T};var vke=nYt({getItemOffset:function(t,r){var n=t.itemSize;return r*n},getItemSize:function(t,r){var n=t.itemSize;return n},getEstimatedTotalSize:function(t){var r=t.itemCount,n=t.itemSize;return n*r},getOffsetForIndexAndAlignment:function(t,r,n,i,o,u){var f=t.direction,h=t.height,y=t.itemCount,w=t.itemSize,T=t.layout,A=t.width,q=f==="horizontal"||T==="horizontal",z=q?A:h,F=Math.max(0,y*w-z),N=Math.min(F,r*w),L=Math.max(0,r*w-z+w+u);switch(n==="smart"&&(i>=L-z&&i<=N+z?n="auto":n="center"),n){case"start":return N;case"end":return L;case"center":{var B=Math.round(L+(N-L)/2);return B<Math.ceil(z/2)?0:B>F+Math.floor(z/2)?F:B}case"auto":default:return i>=L&&i<=N?i:i<L?L:N;}},getStartIndexForOffset:function(t,r){var n=t.itemCount,i=t.itemSize;return Math.max(0,Math.min(n-1,Math.floor(r/i)))},getStopIndexForStartIndex:function(t,r,n){var i=t.direction,o=t.height,u=t.itemCount,f=t.itemSize,h=t.layout,y=t.width,w=i==="horizontal"||h==="horizontal",T=r*f,A=w?y:o,q=Math.ceil((A+n-T)/f);return Math.max(0,Math.min(u-1,r+q-1))},initInstanceProps:function(t){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(t){var r=t.itemSize}});var yke=ne(Ve());function oYt(e){var t=e.lastRenderedStartIndex,r=e.lastRenderedStopIndex,n=e.startIndex,i=e.stopIndex;return!(n>r||i<t)}function aYt(e){for(var t=e.isItemLoaded,r=e.itemCount,n=e.minimumBatchSize,i=e.startIndex,o=e.stopIndex,u=[],f=null,h=null,y=i;y<=o;y++){var w=t(y);w?h!==null&&(u.push(f,h),f=h=null):(h=y,f===null&&(f=y))}if(h!==null){for(var T=Math.min(Math.max(h,f+n-1),r-1),A=h+1;A<=T&&!t(A);A++)h=A;u.push(f,h)}if(u.length)for(;u[1]-u[0]+1<n&&u[0]>0;){var q=u[0]-1;if(!t(q))u[0]=q;else break}return u}var sYt=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},lYt=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),uYt=function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},gke=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e},cYt=function(e){uYt(t,e);function t(){var r,n,i,o;sYt(this,t);for(var u=arguments.length,f=Array(u),h=0;h<u;h++)f[h]=arguments[h];return o=(n=(i=gke(this,(r=t.__proto__||Object.getPrototypeOf(t)).call.apply(r,[this].concat(f))),i),i._lastRenderedStartIndex=-1,i._lastRenderedStopIndex=-1,i._memoizedUnloadedRanges=[],i._onItemsRendered=function(y){var w=y.visibleStartIndex,T=y.visibleStopIndex;i._lastRenderedStartIndex=w,i._lastRenderedStopIndex=T,i._ensureRowsLoaded(w,T)},i._setRef=function(y){i._listRef=y},n),gke(i,o)}return lYt(t,[{key:"resetloadMoreItemsCache",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this._memoizedUnloadedRanges=[],n&&this._ensureRowsLoaded(this._lastRenderedStartIndex,this._lastRenderedStopIndex)}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var n=this.props.children;return n({onItemsRendered:this._onItemsRendered,ref:this._setRef})}},{key:"_ensureRowsLoaded",value:function(n,i){var o=this.props,u=o.isItemLoaded,f=o.itemCount,h=o.minimumBatchSize,y=h===void 0?10:h,w=o.threshold,T=w===void 0?15:w,A=aYt({isItemLoaded:u,itemCount:f,minimumBatchSize:y,startIndex:Math.max(0,n-T),stopIndex:Math.min(f-1,i+T)});(this._memoizedUnloadedRanges.length!==A.length||this._memoizedUnloadedRanges.some(function(q,z){return A[z]!==q}))&&(this._memoizedUnloadedRanges=A,this._loadUnloadedRanges(A))}},{key:"_loadUnloadedRanges",value:function(n){for(var i=this,o=this.props.loadMoreItems||this.props.loadMoreRows,u=function(y){var w=n[y],T=n[y+1],A=o(w,T);A!=null&&A.then(function(){if(oYt({lastRenderedStartIndex:i._lastRenderedStartIndex,lastRenderedStopIndex:i._lastRenderedStopIndex,startIndex:w,stopIndex:T})){if(i._listRef==null)return;typeof i._listRef.resetAfterIndex=="function"?i._listRef.resetAfterIndex(w,!0):(typeof i._listRef._getItemStyleCache=="function"&&i._listRef._getItemStyleCache(-1),i._listRef.forceUpdate())}})},f=0;f<n.length;f+=2)u(f)}}]),t}(yke.PureComponent),_ke=cYt;var eS=ne(Ve(),1);var iO=ne(Xt(),1);var bke=({onClick:e,sortOrder:t,type:r})=>{let n=()=>{e(r)},i=u=>{u.keyCode===13&&n()},o=et(`mapsearch-${r}`)===""?et(r):et(`mapsearch-${r}`);return eS.default.createElement("div",{className:kr("inner-col",r)},eS.default.createElement("div",{className:kr("sort-element",r,t),onClick:n,onKeyDown:i,tabIndex:0},o,eS.default.createElement("span",{className:"caret-container"},eS.default.createElement("span",{className:"caret caret-reversed"}))))};bke.propTypes={onClick:iO.default.func,sortOrder:iO.default.string,type:iO.default.string};var xke=bke;var Qke=ne(Ve(),1);var Of=(e,t)=>e.findIndex(r=>r.getId()===t.getId())!==-1;var nS=ne(Ve(),1);var Qn=ne(Ve(),1),Gs=ne(Xt(),1);var d0=ne(zU(),1);var Yke="http://www.deutschefotothek.de/images/noimage/image120.jpg",Xke=({children:e,data:t,index:r,onClick:n,onMouseEnter:i,onMouseLeave:o,style:u})=>{var ue;let{direction:f,maps:h}=t,y=(ue=h[r])!=null?ue:dc,w=cr(Ju),[T,A]=(0,Qn.useState)(y.getMetadata(zr.thumbnailUrl)===void 0?"":y.getMetadata(zr.thumbnailUrl).replace("http:","")),q=()=>{n(y)},z=ce=>{ce.key==="Enter"&&q()},F=()=>{T!==""&&T!==Yke&&A(Yke)};(0,Qn.useEffect)(()=>{A(y.getMetadata(zr.thumbnailUrl))},[y]);let N=y===dc,L=Of(w,y)&&!N,B=y.getMetadata(zr.mapScale)==="0"||y.getMetadata(zr.mapScale)===0?et("mapsearch-listelement-unknown"):`1:${y.getMetadata(zr.mapScale)}`,Z=parseInt(y.getMetadata(zr.timePublished),0),te=y.getMetadata(zr.type)==="mosaic";return Qn.default.createElement("li",{tabIndex:0,style:u,className:kr("vkf-mapsearch-record",y.getMetadata(zr.type),L&&"selected",f,N&&"loading"),id:y.getMetadata(zr.id),onClick:N?void 0:q,onKeyDown:N?void 0:z,onMouseEnter:i,onMouseLeave:o},e,Qn.default.createElement("span",{className:"data-col time"},isNaN(Z)?"":Z),Qn.default.createElement("span",{className:"data-col title"},y.getMetadata(zr.title)),Qn.default.createElement("span",{className:"data-col time"},"1"),Qn.default.createElement("div",{className:"view-item"},Qn.default.createElement("span",{className:"thumbnail",href:"#"},T===""?Qn.default.createElement(d0.default.default,{height:"calc(100% - 6px)"}):Qn.default.createElement("img",{alt:`Thumbnail Image of Map ${y.getMetadata(zr.title)} ${y.getMetadata(zr.timePublished)}`,onError:F,src:T}),L&&Qn.default.createElement("span",{className:"badge selected-badge"},Qn.default.createElement("span",{className:"glyphicon glyphicon-ok"})," ")),Qn.default.createElement("div",{className:"overview"},Qn.default.createElement("h2",null,N?Qn.default.createElement(d0.default.default,null):y.getMetadata(zr.title)),Qn.default.createElement("div",{className:"details"},Qn.default.createElement("div",{className:"timestamp"},N?Qn.default.createElement(d0.default.default,null):`${et("mapsearch-listelement-time")} ${y.getMetadata(zr.timePublished)}`),Qn.default.createElement("div",{className:"scale"},N?Qn.default.createElement(d0.default.default,null):`${et("mapsearch-listelement-scale")} ${B}`),te&&Qn.default.createElement("div",{className:"type"},N?Qn.default.createElement(d0.default.default,null):`${et("originalview-title-mosaic")}`),!y.getMetadata(zr.hasGeoReference)&&Qn.default.createElement("div",{className:"georeference"},et("mapsearch-listelement-no-georef"))))))};Xke.propTypes={children:Gs.default.element,data:Gs.default.shape({direction:Gs.default.oneOf(["horizontal","vertical"]),feature:Gs.default.object,is3d:Gs.default.bool,maps:Gs.default.object,selected:Gs.default.bool}),onClick:Gs.default.func,onMouseEnter:Gs.default.func,onMouseLeave:Gs.default.func,index:Gs.default.number,style:Gs.default.object};var FU=Xke;var Jke=e=>{var h;let{data:t,index:r}=e,{maps:n}=t,i=cr($n),o=(h=n[r])!=null?h:dc,u=(0,nS.useCallback)(()=>{vn(i)&&iU(i,o.toGeoJSON())},[i,o]),f=(0,nS.useCallback)(()=>{vn(i)&&iU(i,{type:"FeatureCollection",features:[]})},[i,o]);return nS.default.createElement(FU,tt({onMouseEnter:u,onMouseLeave:f},e))};Jke.propTypes=tt({},FU.propTypes);var jU=Jke;var eDe=e=>{let t=cr($n),[r,n]=sn(Ju);return Qke.default.createElement(jU,tt({onClick:o=>{Of(r,o)?(n(f=>f.filter(h=>h.getId()!==o.getId())),o.removeMapLibreLayers(t)):o.addLayerToMap(t).then(()=>{n(f=>[...f,o])})}},e))};eDe.propTypes=tt({},jU.propTypes);var iS=eDe;var lXt=["map_scale","time_published","title","georeference"],dc=new Pf({metadata:{has_georeference:!0,map_scale:"0",thumb_url:"",time_published:"",title:"Loading"}}),uO=({direction:e="vertical",itemSize:t=110,ListItemComponent:r=iS,minimumBatchSize:n,onFetchResults:i,onUpdateSortType:o,renderHeader:u=!0,searchResultDescriptor:{itemCount:f,id:h},sortSettings:y})=>{let{activeType:w,sortOrder:T}=y,A=cr(EAe),[q,z]=(0,Fi.useState)({}),F=(0,Fi.useRef)(!1),N=(0,Fi.useRef)(),L=(0,Fi.useRef)(),{height:B,width:Z}=S9(L),te=(0,Fi.useCallback)(ce=>!F.current&&q[ce]!==void 0&&q[ce]!==dc,[q]),ue=(0,Fi.useCallback)((ce,ye)=>{if(ce!==void 0&&ye!==void 0){let Ne=ye-ce+1;return i(ce,Ne).then(Se=>{Se&&z(Be=>{let He=F.current?{}:Object.assign({},Be);return F.current=!1,Se.forEach((Xe,$e)=>{He[ce+$e]=Xe}),He})})}},[i]);return(0,Fi.useEffect)(()=>{dc.updateMetadata("title",et("mapsearch-listelement-loading"))},[]),(0,Fi.useEffect)(()=>{F.current=!0,N.current.resetloadMoreItemsCache(!0)},[h]),Fi.default.createElement("div",{className:kr("vkf-mapsearch-result-list",e)},u&&Fi.default.createElement("div",{className:"list-header"},Fi.default.createElement("strong",{className:"list-label"},et("mapsearch-sorting"),":"),Fi.default.createElement("div",{className:"inner-columns"},lXt.map(ce=>Fi.default.createElement(xke,{key:ce,onClick:o,sortOrder:w===ce?T:"",type:ce})))),Fi.default.createElement("div",{className:"mapsearch-contentlist-container",ref:L},Fi.default.createElement(_ke,{isItemLoaded:te,itemCount:f,loadMoreItems:ue,minimumBatchSize:n,ref:N},({onItemsRendered:ce,ref:ye})=>Fi.default.createElement(vke,{height:B,innerElementType:"ul",itemCount:f,itemSize:t,itemData:{direction:e,maps:q,is3d:A},layout:e,onItemsRendered:ce,ref:ye,width:Z},r))))};uO.propTypes={direction:ys.default.oneOf(["horizontal","vertical"]),itemSize:ys.default.number,minimumBatchSize:ys.default.number,ListItemComponent:ys.default.elementType,renderHeader:ys.default.bool,onFetchResults:ys.default.func,onUpdateSortType:ys.default.func,searchResultDescriptor:ys.default.shape({id:ys.default.number,itemCount:ys.default.number}),sortSettings:ys.default.shape({activeType:ys.default.string,sortOrder:ys.default.string})};var uXt="title",oS={ASCENDING:"ascending",DESCENDING:"descending"},tDe=i=>{var o=i,{customQuery:e,DataProvider:t,enableOverlayLayer:r=!0}=o,n=wn(o,["customQuery","DataProvider","enableOverlayLayer"]);let[u,f]=(0,Tp.useState)({activeType:uXt,sortOrder:oS.ASCENDING}),{activeType:h,sortOrder:y}=u,w=A=>{let q=A===h&&y===oS.ASCENDING?oS.DESCENDING:oS.ASCENDING;f({sortOrder:q,activeType:A})};return Tp.default.createElement(Tp.Fragment,null,r&&Tp.default.createElement(aNe,{sortSettings:u}),Tp.default.createElement(t,{customQuery:e,renderConsumer:A=>Tp.default.createElement(uO,tt(tt({onUpdateSortType:w,sortSettings:u},n),A)),sortSettings:u}))};tDe.propTypes=tt({DataProvider:BU.default.elementType.isRequired,enableOverlayLayer:BU.default.bool},uO.propTypes);var cO=tDe;var UU=ne(Ve(),1),$U=ne(Xt(),1);var VU=ne(Ve(),1),pO=ne(Xt(),1);var rDe=({name:e,color:t,size:r})=>VU.default.createElement("svg",{viewBox:"0 0 24 24",className:`icon ${e}`,fill:t,width:r,height:r},VU.default.createElement("use",{xlinkHref:`${Zr.getSettings().ICON_SPRITE}#${e}`}));rDe.propTypes={name:pO.default.string.isRequired,color:pO.default.string,size:pO.default.number};var f0=rDe;var nDe=({onClick:e,isOpen:t})=>{let r=cr(yf);return UU.default.createElement("button",{className:kr("vkf-toggle-facets",r.facets.length>0&&"active"),onClick:e,title:et(`mapsearch-facetedsearch-${t?"close":"open"}`)},UU.default.createElement(f0,{name:"icon-filter"}))};nDe.propTypes={isOpen:$U.default.bool,onClick:$U.default.func};var iDe=nDe;var _a=ne(Ve(),1),Rf=ne(Xt(),1);var WU=ne(fm(),1);function oDe(e,t){return e[0]==t[0]&&e[2]==t[2]&&e[1]==t[1]&&e[3]==t[3]}var cXt=function(e){let t=[],r={bool:{should:t}};for(let n=0;n<e.length;n++){let i=e[n],o={term:{}};o.term[i.key]=i.value.toLowerCase(),t.push(o)}return r},aDe=function(e){return{aggs:{summary:{stats:{field:e}}}}},sDe=function(e,t,r,n,i,o,u,f){return{query:{bool:{filter:[{range:{[e]:{gte:t[0],lte:t[1]}}},{geo_shape:{[r]:{relation:"intersects",shape:{type:"envelope",coordinates:n}}}},cXt(u),{term:{has_georeference:!0}},...(f||[])],must:[{match_all:{}}]}},sort:{[i]:{order:o}}}};var HU=function(e,t){let r="geometry"in t?t.geometry:void 0,n={};delete t.geometry;for(let i in t)if(Object.hasOwn(t,i))if(i==="time_published"){let o=t[i].split("-")[0];n[i]=o}else n[i]=t[i];return n.id=e,new Pf({metadata:n,geometry:r})},lDe=function(e){let t=[];for(let r=0,n=e.length;r<n;r++)t.push(HU(e[r]._id,e[r]._source));return t},dO=e=>{let n=e,{time_of_publication:t}=n,r=wn(n,["time_of_publication"]);return tt({time_of_publication:parseInt(t.split("-")[0])},r)},GU=e=>{let n=e,{time_of_publication:t}=n,r=wn(n,["time_of_publication"]);return tt({time_of_publication:`${t}-01-01T00:00:00`},r)};var uDe=(e,t)=>{let{padding:r,offset:n,layermanagement:i,map:o,spatialtemporalsearch:u}=e,f,h,y,w;return t===gf.VERTICAL?(f=0,h=o.height,y=o.width,w=0):(f=0+u.width+r.width,h=o.height-n.height-r.height,y=o.width-i.width-r.width,w=n.height+r.height),[[f,h],[f,w],[y,h],[y,w]]},cDe=(e,t=[[-180,85.06],[180,-85.06]])=>{let[[r,n],[i,o]]=e,[[u,f],[h,y]]=t;return[[Math.max(u,r),Math.min(n,f)],[Math.min(h,i),Math.max(o,y)]]};var pDe=ne(Zx(),1),dDe=({customQuery:e,minimumBatchSize:t=20,renderConsumer:r,sortSettings:n})=>{let{activeType:i,sortOrder:o}=n,u=cr(SM),{facets:f}=cr(yf),h=cr(IAe),y=cr($n),[w,T]=(0,_a.useState)(void 0),A=di(EM),q=di(IM),[z,F]=sn(AM),[N,L]=sn(TM),[B,Z]=(0,_a.useState)({itemCount:10,id:Date.now()}),ue=Zr.getSettings().API_SEARCH,ce=(0,_a.useCallback)(He=>{let Xe=o==="ascending"?"asc":"desc",$e=cDe([[He[0],He[3]],[He[2],He[1]]]);return sDe("time_published",N.map(Qe=>`${Qe}-01-01`),"geometry",$e,i,Xe,f,e)},[f,i,o,N]),ye=(0,_a.useCallback)((He,Xe,$e=!1)=>{if(w===void 0)return A(!1),new Promise(ze=>ze([]));let Qe=ce(w,"ESPG:4326"),ot=ue+"/_search?from="+He+"&size="+Xe;return A(!0),WU.default.post(ot,Qe).then(ze=>{if(ze.status===200){let ke=ze.data;return $e?ke:lDe(ke.hits.hits)}}).catch(ze=>{console.warn(ze)}).finally(()=>{A(!1)})},[ce,w]),Ne=(0,_a.useCallback)(()=>{ye(0,0,!0).then(He=>{let Xe=He.hits.total.value;q(Xe),Z({itemCount:Xe,id:Date.now()})})},[ye]),Se=ZAe(Ne,30),Be=(0,_a.useCallback)(()=>{if(vn(y)){let He=uDe(u,h),Xe=new pDe.LngLatBounds;He.forEach(Qe=>{let ot=y.unproject(Qe);Xe.extend(ot)});let $e=Xe.toArray().flat();(w===void 0||!oDe($e,w))&&T($e)}},[y,w,u]);return(0,_a.useEffect)(()=>{if(vn(y))return y.on("moveend",Be),()=>{y.off("moveend",Be)}},[y,Be]),(0,_a.useEffect)(()=>{Se()},[f,Ne,w,i,o,N]),(0,_a.useEffect)(()=>{Be()},[u,y]),(0,_a.useEffect)(()=>{let He=`${ue}/_search?`,Xe=aDe("time_published");WU.default.post(He,Xe,{}).then($e=>{if($e.status===200){let Qe=$e.data,ot=new Date(Qe.aggregations.summary.max),ke=[new Date(Qe.aggregations.summary.min).getUTCFullYear(),ot.getUTCFullYear()];(z===void 0||p9===z||ke[0]!==z[0]||ke[1]!==z[1])&&(F(ke),L(ke))}})},[]),_a.default.createElement(_a.default.Fragment,null,r({minimumBatchSize:t,onRefresh:Ne,onFetchResults:ye,searchResultDescriptor:B}))};dDe.propTypes={customQuery:Rf.default.array,minimumBatchSize:Rf.default.number,projection:Rf.default.string,renderConsumer:Rf.default.func,sortSettings:Rf.default.shape({activeType:Rf.default.string,sortOrder:Rf.default.string})};var fDe=dDe;var fO=ne(Xt(),1);var hDe=({customQuery:e,MapSearchListItemComponent:t,mosaicMode:r})=>{let[n,i]=sn(yf),[o,u]=(0,Wi.useState)(!1),[f,h]=(0,Wi.useState)(!1),y=cr(EM),w=cr(IM),T=()=>{u(q=>!q)},A=()=>{i(SAe)};return(0,Wi.useEffect)(()=>{h(y)},[y]),Wi.default.createElement("div",{className:kr("mapsearch-container",o&&"facetedsearch-open")},Wi.default.createElement("div",{className:"panel panel-default searchTablePanel"},Wi.default.createElement("div",{className:"panel-heading"},Wi.default.createElement("div",{className:"content"},Wi.default.createElement("div",null,w===0?et("mapsearch-found-no-maps"):`${w} ${et("mapsearch-found-maps")}`),n.facets.length>0&&Wi.default.createElement("button",{className:"remove-filter",onClick:A},Wi.default.createElement(f0,{name:"icon-filter"})),f&&Wi.default.createElement("div",{className:"loading-spinner"},Wi.default.createElement(l0,null)),Wi.default.createElement(iDe,{onClick:T,isOpen:o})),Wi.default.createElement("div",{className:"facet-container"},Wi.default.createElement(rO,{georeferenceMode:!1,mosaicMode:r}))),Wi.default.createElement("div",{className:"panel-body"},Wi.default.createElement(cO,{customQuery:e,DataProvider:fDe,ListItemComponent:t}))))};hDe.propTypes={customQuery:fO.default.array,MapSearchListItemComponent:fO.default.elementType,mosaicMode:fO.default.bool};var mDe=hDe;var eo=ne(Ve(),1),rH=ne(Xt(),1);function An(e){"@babel/helpers - typeof";return An=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},An(e)}function ZU(e,t){if(An(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(An(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aS(e){var t=ZU(e,"string");return An(t)==="symbol"?t:String(t)}function ft(e,t,r){return t=aS(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vDe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Et(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vDe(Object(r),!0).forEach(function(n){ft(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vDe(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gDe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,aS(n.key),n)}}function Ho(e,t,r){return t&&gDe(e.prototype,t),r&&gDe(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Go(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ym(e,t)}function Ll(e){return Ll=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ll(e)}function KU(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function YU(e,t){if(t&&(An(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Er(e)}function Wo(e){var t=KU();return function(){var n=Ll(e),i;if(t){var o=Ll(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return YU(this,i)}}var c$=ne(Ve());var XU={},pXt=[],dXt=function(t){pXt.push(t)};function fXt(e,t){if(0)var r}function hXt(e,t){if(0)var r}function mXt(){XU={}}function yDe(e,t,r){!t&&!XU[r]&&(e(!1,r),XU[r]=!0)}function hO(e,t){yDe(fXt,e,t)}function vXt(e,t){yDe(hXt,e,t)}hO.preMessage=dXt;hO.resetWarned=mXt;hO.noteOnce=vXt;var Ap=hO;var _De=ne(Ve()),gXt=function(t){var r,n,i=t.className,o=t.included,u=t.vertical,f=t.style,h=t.length,y=t.offset,w=t.reverse;h<0&&(w=!w,h=Math.abs(h),y=100-y);var T=u?(r={},ft(r,w?"top":"bottom","".concat(y,"%")),ft(r,w?"bottom":"top","auto"),ft(r,"height","".concat(h,"%")),r):(n={},ft(n,w?"right":"left","".concat(y,"%")),ft(n,w?"left":"right","auto"),ft(n,"width","".concat(h,"%")),n),A=Et(Et({},f),T);return o?_De.default.createElement("div",{className:i,style:A}):null},mO=gXt;function ba(e,t){if(e==null)return{};var r=gm(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function h0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function JU(e){if(Array.isArray(e))return h0(e)}function QU(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function sS(e,t){if(e){if(typeof e=="string")return h0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h0(e,t)}}function e$(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zl(e){return JU(e)||QU(e)||sS(e)||e$()}function t$(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=Ll(e),e!==null););return e}function qf(){return typeof Reflect!="undefined"&&Reflect.get?qf=Reflect.get.bind():qf=function(t,r,n){var i=t$(t,r);if(i){var o=Object.getOwnPropertyDescriptor(i,r);return o.get?o.get.call(arguments.length<3?t:n):o.value}},qf.apply(this,arguments)}var v0=ne(Ve());var r$=ne(Ti());function ja(e,t,r,n){var i=r$.default.unstable_batchedUpdates?function(u){r$.default.unstable_batchedUpdates(r,u)}:r;return e!=null&&e.addEventListener&&e.addEventListener(t,i,n),{remove:function(){e!=null&&e.removeEventListener&&e.removeEventListener(t,i,n)}}}var CDe=ne($r());var n$=ne(Ve()),bDe=ne($r());var yXt=function(t,r,n,i,o,u){Ap(n?i>0:!0,"`Slider[step]` should be a positive number in order to make Slider[dots] work.");var f=Object.keys(r).map(parseFloat).sort(function(y,w){return y-w});if(n&&i)for(var h=o;h<=u;h+=i)f.indexOf(h)===-1&&f.push(h);return f},_Xt=function(t){var r=t.prefixCls,n=t.vertical,i=t.reverse,o=t.marks,u=t.dots,f=t.step,h=t.included,y=t.lowerBound,w=t.upperBound,T=t.max,A=t.min,q=t.dotStyle,z=t.activeDotStyle,F=T-A,N=yXt(n,o,u,f,A,T).map(function(L){var B,Z="".concat(Math.abs(L-A)/F*100,"%"),te=!h&&L===w||h&&L<=w&&L>=y,ue=n?Et(Et({},q),{},ft({},i?"top":"bottom",Z)):Et(Et({},q),{},ft({},i?"right":"left",Z));te&&(ue=Et(Et({},ue),z));var ce=(0,bDe.default)((B={},ft(B,"".concat(r,"-dot"),!0),ft(B,"".concat(r,"-dot-active"),te),ft(B,"".concat(r,"-dot-reverse"),i),B));return n$.default.createElement("span",{className:ce,style:ue,key:L})});return n$.default.createElement("div",{className:"".concat(r,"-step")},N)},xDe=_Xt;var vO=ne(Ve()),wDe=ne($r()),bXt=function(t){var r=t.className,n=t.vertical,i=t.reverse,o=t.marks,u=t.included,f=t.upperBound,h=t.lowerBound,y=t.max,w=t.min,T=t.onClickLabel,A=Object.keys(o),q=y-w,z=A.map(parseFloat).sort(function(F,N){return F-N}).map(function(F){var N,L=o[F],B=An(L)==="object"&&!vO.default.isValidElement(L),Z=B?L.label:L;if(!Z&&Z!==0)return null;var te=!u&&F===f||u&&F<=f&&F>=h,ue=(0,wDe.default)((N={},ft(N,"".concat(r,"-text"),!0),ft(N,"".concat(r,"-text-active"),te),N)),ce=ft({marginBottom:"-50%"},i?"top":"bottom","".concat((F-w)/q*100,"%")),ye=ft({transform:"translateX(".concat(i?"50%":"-50%",")"),msTransform:"translateX(".concat(i?"50%":"-50%",")")},i?"right":"left","".concat((F-w)/q*100,"%")),Ne=n?ce:ye,Se=B?Et(Et({},Ne),L.style):Ne;return vO.default.createElement("span",{className:ue,style:Se,key:F,onMouseDown:function(He){return T(He,F)},onTouchStart:function(He){return T(He,F)}},Z)});return vO.default.createElement("div",{className:r},z)},SDe=bXt;var i$=ne(Ve()),IDe=ne($r());var m0=function(e){Go(r,e);var t=Wo(r);function r(){var n;return $o(this,r),n=t.apply(this,arguments),n.state={clickFocused:!1},n.setHandleRef=function(i){n.handle=i},n.handleMouseUp=function(){document.activeElement===n.handle&&n.setClickFocus(!0)},n.handleMouseDown=function(i){i.preventDefault(),n.focus()},n.handleBlur=function(){n.setClickFocus(!1)},n.handleKeyDown=function(){n.setClickFocus(!1)},n}return Ho(r,[{key:"componentDidMount",value:function(){this.onMouseUpListener=ja(document,"mouseup",this.handleMouseUp)}},{key:"componentWillUnmount",value:function(){this.onMouseUpListener&&this.onMouseUpListener.remove()}},{key:"setClickFocus",value:function(i){this.setState({clickFocused:i})}},{key:"clickFocus",value:function(){this.setClickFocus(!0),this.focus()}},{key:"focus",value:function(){this.handle.focus()}},{key:"blur",value:function(){this.handle.blur()}},{key:"render",value:function(){var i,o,u=this.props,f=u.prefixCls,h=u.vertical,y=u.reverse,w=u.offset,T=u.style,A=u.disabled,q=u.min,z=u.max,F=u.value,N=u.tabIndex,L=u.ariaLabel,B=u.ariaLabelledBy,Z=u.ariaValueTextFormatter,te=ba(u,["prefixCls","vertical","reverse","offset","style","disabled","min","max","value","tabIndex","ariaLabel","ariaLabelledBy","ariaValueTextFormatter"]),ue=(0,IDe.default)(this.props.className,ft({},"".concat(f,"-handle-click-focused"),this.state.clickFocused)),ce=h?(i={},ft(i,y?"top":"bottom","".concat(w,"%")),ft(i,y?"bottom":"top","auto"),ft(i,"transform",y?null:"translateY(+50%)"),i):(o={},ft(o,y?"right":"left","".concat(w,"%")),ft(o,y?"left":"right","auto"),ft(o,"transform","translateX(".concat(y?"+":"-","50%)")),o),ye=Et(Et({},T),ce),Ne=N||0;(A||N===null)&&(Ne=null);var Se;return Z&&(Se=Z(F)),i$.default.createElement("div",Yr({ref:this.setHandleRef,tabIndex:Ne},te,{className:ue,style:ye,onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,onMouseDown:this.handleMouseDown,role:"slider","aria-valuemin":q,"aria-valuemax":z,"aria-valuenow":F,"aria-disabled":!!A,"aria-label":L,"aria-labelledby":B,"aria-valuetext":Se}))}}]),r}(i$.default.Component);var TDe=ne(Ti());var xr={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(t){var r=t.keyCode;if(t.altKey&&!t.ctrlKey||t.metaKey||r>=xr.F1&&r<=xr.F12)return!1;switch(r){case xr.ALT:case xr.CAPS_LOCK:case xr.CONTEXT_MENU:case xr.CTRL:case xr.DOWN:case xr.END:case xr.ESC:case xr.HOME:case xr.INSERT:case xr.LEFT:case xr.MAC_FF_META:case xr.META:case xr.NUMLOCK:case xr.NUM_CENTER:case xr.PAGE_DOWN:case xr.PAGE_UP:case xr.PAUSE:case xr.PRINT_SCREEN:case xr.RIGHT:case xr.SHIFT:case xr.UP:case xr.WIN_KEY:case xr.WIN_KEY_RIGHT:return!1;default:return!0;}},isCharacterKey:function(t){if(t>=xr.ZERO&&t<=xr.NINE||t>=xr.NUM_ZERO&&t<=xr.NUM_MULTIPLY||t>=xr.A&&t<=xr.Z||window.navigator.userAgent.indexOf("WebKit")!==-1&&t===0)return!0;switch(t){case xr.SPACE:case xr.QUESTION_MARK:case xr.NUM_PLUS:case xr.NUM_MINUS:case xr.NUM_PERIOD:case xr.NUM_DIVISION:case xr.SEMICOLON:case xr.DASH:case xr.EQUALS:case xr.COMMA:case xr.PERIOD:case xr.SLASH:case xr.APOSTROPHE:case xr.SINGLE_QUOTE:case xr.OPEN_SQUARE_BRACKET:case xr.BACKSLASH:case xr.CLOSE_SQUARE_BRACKET:return!0;default:return!1;}}},Cp=xr;function gO(e,t){try{return Object.keys(t).some(function(r){return e.target===(0,TDe.findDOMNode)(t[r])})}catch(r){return!1}}function yO(e,t){var r=t.min,n=t.max;return e<r||e>n}function o$(e){return e.touches.length>1||e.type.toLowerCase()==="touchend"&&e.touches.length>0}function EDe(e,t){var r=t.marks,n=t.step,i=t.min,o=t.max,u=Object.keys(r).map(parseFloat);if(n!==null){var f=Math.pow(10,ADe(n)),h=Math.floor((o*f-i*f)/(n*f)),y=Math.min((e-i)/n,h),w=Math.round(y)*n+i;u.push(w)}var T=u.map(function(A){return Math.abs(e-A)});return u[T.indexOf(Math.min.apply(Math,zl(T)))]}function ADe(e){var t=e.toString(),r=0;return t.indexOf(".")>=0&&(r=t.length-t.indexOf(".")-1),r}function a$(e,t){return e?t.clientY:t.pageX}function s$(e,t){return e?t.touches[0].clientY:t.touches[0].pageX}function l$(e,t){var r=t.getBoundingClientRect();return e?r.top+r.height*.5:window.pageXOffset+r.left+r.width*.5}function lS(e,t){var r=t.max,n=t.min;return e<=n?n:e>=r?r:e}function _O(e,t){var r=t.step,n=isFinite(EDe(e,t))?EDe(e,t):0;return r===null?n:parseFloat(n.toFixed(ADe(r)))}function Mp(e){e.stopPropagation(),e.preventDefault()}function xXt(e,t,r){var n={increase:function(f,h){return f+h},decrease:function(f,h){return f-h}},i=n[e](Object.keys(r.marks).indexOf(JSON.stringify(t)),1),o=Object.keys(r.marks)[i];return r.step?n[e](t,r.step):Object.keys(r.marks).length&&r.marks[o]?r.marks[o]:t}function bO(e,t,r){var n="increase",i="decrease",o=n;switch(e.keyCode){case Cp.UP:o=t&&r?i:n;break;case Cp.RIGHT:o=!t&&r?i:n;break;case Cp.DOWN:o=t&&r?n:i;break;case Cp.LEFT:o=!t&&r?n:i;break;case Cp.END:return function(u,f){return f.max};case Cp.HOME:return function(u,f){return f.min};case Cp.PAGE_UP:return function(u,f){return u+f.step*2};case Cp.PAGE_DOWN:return function(u,f){return u-f.step*2};default:return;}return function(u,f){return xXt(o,u,f)}}function fc(){}function uS(e){var t;return t=function(r){Go(i,r);var n=Wo(i);function i(o){var u;$o(this,i),u=n.call(this,o),u.onDown=function(T,A){var q=A,z=u.props,F=z.draggableTrack,N=z.vertical,L=u.state.bounds,B=F&&u.positionGetValue?u.positionGetValue(q)||[]:[],Z=gO(T,u.handlesRefs);if(u.dragTrack=F&&L.length>=2&&!Z&&!B.map(function(ue,ce){var ye=ce?!0:ue>=L[ce];return ce===B.length-1?ue<=L[ce]:ye}).some(function(ue){return!ue}),u.dragTrack)u.dragOffset=q,u.startBounds=zl(L);else{if(!Z)u.dragOffset=0;else{var te=l$(N,T.target);u.dragOffset=q-te,q=te}u.onStart(q)}},u.onMouseDown=function(T){if(T.button===0){u.removeDocumentEvents();var A=u.props.vertical,q=a$(A,T);u.onDown(T,q),u.addDocumentMouseEvents()}},u.onTouchStart=function(T){if(!o$(T)){var A=u.props.vertical,q=s$(A,T);u.onDown(T,q),u.addDocumentTouchEvents(),Mp(T)}},u.onFocus=function(T){var A=u.props,q=A.onFocus,z=A.vertical;if(gO(T,u.handlesRefs)&&!u.dragTrack){var F=l$(z,T.target);u.dragOffset=0,u.onStart(F),Mp(T),q&&q(T)}},u.onBlur=function(T){var A=u.props.onBlur;u.dragTrack||u.onEnd(),A&&A(T)},u.onMouseUp=function(){u.handlesRefs[u.prevMovedHandleIndex]&&u.handlesRefs[u.prevMovedHandleIndex].clickFocus()},u.onMouseMove=function(T){if(!u.sliderRef){u.onEnd();return}var A=a$(u.props.vertical,T);u.onMove(T,A-u.dragOffset,u.dragTrack,u.startBounds)},u.onTouchMove=function(T){if(o$(T)||!u.sliderRef){u.onEnd();return}var A=s$(u.props.vertical,T);u.onMove(T,A-u.dragOffset,u.dragTrack,u.startBounds)},u.onKeyDown=function(T){u.sliderRef&&gO(T,u.handlesRefs)&&u.onKeyboard(T)},u.onClickMarkLabel=function(T,A){T.stopPropagation(),u.onChange({value:A}),u.setState({value:A},function(){return u.onEnd(!0)})},u.saveSlider=function(T){u.sliderRef=T};var f=o.step,h=o.max,y=o.min,w=isFinite(h-y)?(h-y)%f===0:!0;return Ap(f&&Math.floor(f)===f?w:!0,"Slider[max] - Slider[min] (".concat(h-y,") should be a multiple of Slider[step] (").concat(f,")")),u.handlesRefs={},u}return Ho(i,[{key:"componentDidMount",value:function(){this.document=this.sliderRef&&this.sliderRef.ownerDocument;var u=this.props,f=u.autoFocus,h=u.disabled;f&&!h&&this.focus()}},{key:"componentWillUnmount",value:function(){qf(Ll(i.prototype),"componentWillUnmount",this)&&qf(Ll(i.prototype),"componentWillUnmount",this).call(this),this.removeDocumentEvents()}},{key:"getSliderStart",value:function(){var u=this.sliderRef,f=this.props,h=f.vertical,y=f.reverse,w=u.getBoundingClientRect();return h?y?w.bottom:w.top:window.pageXOffset+(y?w.right:w.left)}},{key:"getSliderLength",value:function(){var u=this.sliderRef;if(!u)return 0;var f=u.getBoundingClientRect();return this.props.vertical?f.height:f.width}},{key:"addDocumentTouchEvents",value:function(){this.onTouchMoveListener=ja(this.document,"touchmove",this.onTouchMove),this.onTouchUpListener=ja(this.document,"touchend",this.onEnd)}},{key:"addDocumentMouseEvents",value:function(){this.onMouseMoveListener=ja(this.document,"mousemove",this.onMouseMove),this.onMouseUpListener=ja(this.document,"mouseup",this.onEnd)}},{key:"removeDocumentEvents",value:function(){this.onTouchMoveListener&&this.onTouchMoveListener.remove(),this.onTouchUpListener&&this.onTouchUpListener.remove(),this.onMouseMoveListener&&this.onMouseMoveListener.remove(),this.onMouseUpListener&&this.onMouseUpListener.remove()}},{key:"focus",value:function(){var u;this.props.disabled||(u=this.handlesRefs[0])===null||u===void 0||u.focus()}},{key:"blur",value:function(){var u=this;this.props.disabled||Object.keys(this.handlesRefs).forEach(function(f){var h,y;(h=u.handlesRefs[f])===null||h===void 0||(y=h.blur)===null||y===void 0||y.call(h)})}},{key:"calcValue",value:function(u){var f=this.props,h=f.vertical,y=f.min,w=f.max,T=Math.abs(Math.max(u,0)/this.getSliderLength()),A=h?(1-T)*(w-y)+y:T*(w-y)+y;return A}},{key:"calcValueByPos",value:function(u){var f=this.props.reverse?-1:1,h=f*(u-this.getSliderStart()),y=this.trimAlignValue(this.calcValue(h));return y}},{key:"calcOffset",value:function(u){var f=this.props,h=f.min,y=f.max,w=(u-h)/(y-h);return Math.max(0,w*100)}},{key:"saveHandle",value:function(u,f){this.handlesRefs[u]=f}},{key:"render",value:function(){var u,f=this.props,h=f.prefixCls,y=f.className,w=f.marks,T=f.dots,A=f.step,q=f.included,z=f.disabled,F=f.vertical,N=f.reverse,L=f.min,B=f.max,Z=f.children,te=f.maximumTrackStyle,ue=f.style,ce=f.railStyle,ye=f.dotStyle,Ne=f.activeDotStyle,Se=qf(Ll(i.prototype),"render",this).call(this),Be=Se.tracks,He=Se.handles,Xe=(0,CDe.default)(h,(u={},ft(u,"".concat(h,"-with-marks"),Object.keys(w).length),ft(u,"".concat(h,"-disabled"),z),ft(u,"".concat(h,"-vertical"),F),ft(u,y,y),u));return v0.default.createElement("div",{ref:this.saveSlider,className:Xe,onTouchStart:z?fc:this.onTouchStart,onMouseDown:z?fc:this.onMouseDown,onMouseUp:z?fc:this.onMouseUp,onKeyDown:z?fc:this.onKeyDown,onFocus:z?fc:this.onFocus,onBlur:z?fc:this.onBlur,style:ue},v0.default.createElement("div",{className:"".concat(h,"-rail"),style:Et(Et({},te),ce)}),Be,v0.default.createElement(xDe,{prefixCls:h,vertical:F,reverse:N,marks:w,dots:T,step:A,included:q,lowerBound:this.getLowerBound(),upperBound:this.getUpperBound(),max:B,min:L,dotStyle:ye,activeDotStyle:Ne}),He,v0.default.createElement(SDe,{className:"".concat(h,"-mark"),onClickLabel:z?fc:this.onClickMarkLabel,vertical:F,marks:w,included:q,lowerBound:this.getLowerBound(),upperBound:this.getUpperBound(),max:B,min:L,reverse:N}),Z)}}]),i}(e),t.displayName="ComponentEnhancer(".concat(e.displayName,")"),t.defaultProps=Et(Et({},e.defaultProps),{},{prefixCls:"rc-slider",className:"",min:0,max:100,step:1,marks:{},handle:function(n){var i=n.index,o=ba(n,["index"]);return delete o.dragging,o.value===null?null:v0.default.createElement(m0,Yr({},o,{key:i}))},onBeforeChange:fc,onChange:fc,onAfterChange:fc,included:!0,disabled:!1,dots:!1,vertical:!1,reverse:!1,trackStyle:[{}],handleStyle:[{}],railStyle:{},dotStyle:{},activeDotStyle:{}}),t}var wXt=function(e){Go(r,e);var t=Wo(r);function r(n){var i;$o(this,r),i=t.call(this,n),i.positionGetValue=function(f){return[]},i.onEnd=function(f){var h=i.state.dragging;i.removeDocumentEvents(),(h||f)&&i.props.onAfterChange(i.getValue()),i.setState({dragging:!1})};var o=n.defaultValue!==void 0?n.defaultValue:n.min,u=n.value!==void 0?n.value:o;return i.state={value:i.trimAlignValue(u),dragging:!1},Ap(!("minimumTrackStyle"in n),"minimumTrackStyle will be deprecated, please use trackStyle instead."),Ap(!("maximumTrackStyle"in n),"maximumTrackStyle will be deprecated, please use railStyle instead."),i}return Ho(r,[{key:"calcValueByPos",value:function(i){return 0}},{key:"calcOffset",value:function(i){return 0}},{key:"saveHandle",value:function(i,o){}},{key:"removeDocumentEvents",value:function(){}},{key:"componentDidUpdate",value:function(i,o){var u=this.props,f=u.min,h=u.max,y=u.value,w=u.onChange;if("min"in this.props||"max"in this.props){var T=y!==void 0?y:o.value,A=this.trimAlignValue(T,this.props);A!==o.value&&(this.setState({value:A}),!(f===i.min&&h===i.max)&&yO(T,this.props)&&w(A))}}},{key:"onChange",value:function(i){var o=this.props,u=!("value"in o),f=i.value>this.props.max?Et(Et({},i),{},{value:this.props.max}):i;u&&this.setState(f);var h=f.value;o.onChange(h)}},{key:"onStart",value:function(i){this.setState({dragging:!0});var o=this.props,u=this.getValue();o.onBeforeChange(u);var f=this.calcValueByPos(i);this.startValue=f,this.startPosition=i,f!==u&&(this.prevMovedHandleIndex=0,this.onChange({value:f}))}},{key:"onMove",value:function(i,o){Mp(i);var u=this.state.value,f=this.calcValueByPos(o);f!==u&&this.onChange({value:f})}},{key:"onKeyboard",value:function(i){var o=this.props,u=o.reverse,f=o.vertical,h=bO(i,f,u);if(h){Mp(i);var y=this.state,w=y.value,T=h(w,this.props),A=this.trimAlignValue(T);if(A===w)return;this.onChange({value:A}),this.props.onAfterChange(A),this.onEnd()}}},{key:"getValue",value:function(){return this.state.value}},{key:"getLowerBound",value:function(){var i=this.props.startPoint||this.props.min;return this.state.value>i?i:this.state.value}},{key:"getUpperBound",value:function(){return this.state.value<this.props.startPoint?this.props.startPoint:this.state.value}},{key:"trimAlignValue",value:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(i===null)return null;var u=Et(Et({},this.props),o),f=lS(i,u);return _O(f,u)}},{key:"render",value:function(){var i=this,o=this.props,u=o.prefixCls,f=o.vertical,h=o.included,y=o.disabled,w=o.minimumTrackStyle,T=o.trackStyle,A=o.handleStyle,q=o.tabIndex,z=o.ariaLabelForHandle,F=o.ariaLabelledByForHandle,N=o.ariaValueTextFormatterForHandle,L=o.min,B=o.max,Z=o.startPoint,te=o.reverse,ue=o.handle,ce=this.state,ye=ce.value,Ne=ce.dragging,Se=this.calcOffset(ye),Be=ue({className:"".concat(u,"-handle"),prefixCls:u,vertical:f,offset:Se,value:ye,dragging:Ne,disabled:y,min:L,max:B,reverse:te,index:0,tabIndex:q,ariaLabel:z,ariaLabelledBy:F,ariaValueTextFormatter:N,style:A[0]||A,ref:function(ot){return i.saveHandle(0,ot)}}),He=Z!==void 0?this.calcOffset(Z):0,Xe=T[0]||T,$e=c$.default.createElement(mO,{className:"".concat(u,"-track"),vertical:f,included:h,offset:He,reverse:te,length:Se-He,style:Et(Et({},w),Xe)});return{tracks:$e,handles:Be}}}]),r}(c$.default.Component),MDe=uS(wXt);var p$=ne(Ve()),d$=ne($r());var cS=function(t){var r=t.value,n=t.handle,i=t.bounds,o=t.props,u=o.allowCross,f=o.pushable,h=Number(f),y=lS(r,o),w=y;return!u&&n!=null&&i!==void 0&&(n>0&&y<=i[n-1]+h&&(w=i[n-1]+h),n<i.length-1&&y>=i[n+1]-h&&(w=i[n+1]-h)),_O(w,o)},f$=function(e){Go(r,e);var t=Wo(r);function r(n){var i;$o(this,r),i=t.call(this,n),i.positionGetValue=function(q){var z=i.getValue(),F=i.calcValueByPos(q),N=i.getClosestBound(F),L=i.getBoundNeedMoving(F,N),B=z[L];if(F===B)return null;var Z=zl(z);return Z[L]=F,Z},i.onEnd=function(q){var z=i.state.handle;i.removeDocumentEvents(),z||(i.dragTrack=!1),(z!==null||q)&&i.props.onAfterChange(i.getValue()),i.setState({handle:null})};var o=n.count,u=n.min,f=n.max,h=Array.apply(void 0,zl(Array(o+1))).map(function(){return u}),y="defaultValue"in n?n.defaultValue:h,w=n.value!==void 0?n.value:y,T=w.map(function(q,z){return cS({value:q,handle:z,props:n})}),A=T[0]===f?0:T.length-1;return i.state={handle:null,recent:A,bounds:T},i}return Ho(r,[{key:"calcValueByPos",value:function(i){return 0}},{key:"getSliderLength",value:function(){return 0}},{key:"calcOffset",value:function(i){return 0}},{key:"saveHandle",value:function(i,o){}},{key:"removeDocumentEvents",value:function(){}},{key:"componentDidUpdate",value:function(i,o){var u=this,f=this.props,h=f.onChange,y=f.value,w=f.min,T=f.max;if(("min"in this.props||"max"in this.props)&&!(w===i.min&&T===i.max)){var A=y||o.bounds;if(A.some(function(z){return yO(z,u.props)})){var q=A.map(function(z){return lS(z,u.props)});h(q)}}}},{key:"onChange",value:function(i){var o=this.props,u=!("value"in o);if(u)this.setState(i);else{var f={};["handle","recent"].forEach(function(w){i[w]!==void 0&&(f[w]=i[w])}),Object.keys(f).length&&this.setState(f)}var h=Et(Et({},this.state),i),y=h.bounds;o.onChange(y)}},{key:"onStart",value:function(i){var o=this.props,u=this.state,f=this.getValue();o.onBeforeChange(f);var h=this.calcValueByPos(i);this.startValue=h,this.startPosition=i;var y=this.getClosestBound(h);this.prevMovedHandleIndex=this.getBoundNeedMoving(h,y),this.setState({handle:this.prevMovedHandleIndex,recent:this.prevMovedHandleIndex});var w=f[this.prevMovedHandleIndex];if(h!==w){var T=zl(u.bounds);T[this.prevMovedHandleIndex]=h,this.onChange({bounds:T})}}},{key:"onMove",value:function(i,o,u,f){Mp(i);var h=this.state,y=this.props,w=y.max||100,T=y.min||0;if(u){var A=y.vertical?-o:o;A=y.reverse?-A:A;var q=w-Math.max.apply(Math,zl(f)),z=T-Math.min.apply(Math,zl(f)),F=Math.min(Math.max(A/(this.getSliderLength()/(w-T)),z),q),N=f.map(function(Z){return Math.floor(Math.max(Math.min(Z+F,w),T))});h.bounds.map(function(Z,te){return Z===N[te]}).some(function(Z){return!Z})&&this.onChange({bounds:N});return}var L=this.calcValueByPos(o),B=h.bounds[h.handle];L!==B&&this.moveTo(L)}},{key:"onKeyboard",value:function(i){var o=this.props,u=o.reverse,f=o.vertical,h=bO(i,f,u);if(h){Mp(i);var y=this.state,w=this.props,T=y.bounds,A=y.handle,q=T[A===null?y.recent:A],z=h(q,w),F=cS({value:z,handle:A,bounds:y.bounds,props:w});if(F===q)return;var N=!0;this.moveTo(F,N)}}},{key:"getValue",value:function(){return this.state.bounds}},{key:"getClosestBound",value:function(i){for(var o=this.state.bounds,u=0,f=1;f<o.length-1;f+=1)i>=o[f]&&(u=f);return Math.abs(o[u+1]-i)<Math.abs(o[u]-i)&&(u+=1),u}},{key:"getBoundNeedMoving",value:function(i,o){var u=this.state,f=u.bounds,h=u.recent,y=o,w=f[o+1]===f[o];return w&&f[h]===f[o]&&(y=h),w&&i!==f[o+1]&&(y=i<f[o+1]?o:o+1),y}},{key:"getLowerBound",value:function(){return this.state.bounds[0]}},{key:"getUpperBound",value:function(){var i=this.state.bounds;return i[i.length-1]}},{key:"getPoints",value:function(){var i=this.props,o=i.marks,u=i.step,f=i.min,h=i.max,y=this.internalPointsCache;if(!y||y.marks!==o||y.step!==u){var w=Et({},o);if(u!==null)for(var T=f;T<=h;T+=u)w[T]=T;var A=Object.keys(w).map(parseFloat);A.sort(function(q,z){return q-z}),this.internalPointsCache={marks:o,step:u,points:A}}return this.internalPointsCache.points}},{key:"moveTo",value:function(i,o){var u=this,f=this.state,h=this.props,y=zl(f.bounds),w=f.handle===null?f.recent:f.handle;y[w]=i;var T=w;h.pushable!==!1?this.pushSurroundingHandles(y,T):h.allowCross&&(y.sort(function(A,q){return A-q}),T=y.indexOf(i)),this.onChange({recent:T,handle:T,bounds:y}),o&&(this.props.onAfterChange(y),this.setState({},function(){u.handlesRefs[T].focus()}),this.onEnd())}},{key:"pushSurroundingHandles",value:function(i,o){var u=i[o],f=this.props.pushable,h=Number(f),y=0;if(i[o+1]-u<h&&(y=1),u-i[o-1]<h&&(y=-1),y!==0){var w=o+y,T=y*(i[w]-u);this.pushHandle(i,w,y,h-T)||(i[o]=i[w]-y*h)}}},{key:"pushHandle",value:function(i,o,u,f){for(var h=i[o],y=i[o];u*(y-h)<f;){if(!this.pushHandleOnePoint(i,o,u))return i[o]=h,!1;y=i[o]}return!0}},{key:"pushHandleOnePoint",value:function(i,o,u){var f=this.getPoints(),h=f.indexOf(i[o]),y=h+u;if(y>=f.length||y<0)return!1;var w=o+u,T=f[y],A=this.props.pushable,q=Number(A),z=u*(i[w]-T);return this.pushHandle(i,w,u,q-z)?(i[o]=T,!0):!1}},{key:"trimAlignValue",value:function(i){var o=this.state,u=o.handle,f=o.bounds;return cS({value:i,handle:u,bounds:f,props:this.props})}},{key:"render",value:function(){var i=this,o=this.state,u=o.handle,f=o.bounds,h=this.props,y=h.prefixCls,w=h.vertical,T=h.included,A=h.disabled,q=h.min,z=h.max,F=h.reverse,N=h.handle,L=h.trackStyle,B=h.handleStyle,Z=h.tabIndex,te=h.ariaLabelGroupForHandles,ue=h.ariaLabelledByGroupForHandles,ce=h.ariaValueTextFormatterGroupForHandles,ye=f.map(function(He){return i.calcOffset(He)}),Ne="".concat(y,"-handle"),Se=f.map(function(He,Xe){var $e,Qe=Z[Xe]||0;(A||Z[Xe]===null)&&(Qe=null);var ot=u===Xe;return N({className:(0,d$.default)(($e={},ft($e,Ne,!0),ft($e,"".concat(Ne,"-").concat(Xe+1),!0),ft($e,"".concat(Ne,"-dragging"),ot),$e)),prefixCls:y,vertical:w,dragging:ot,offset:ye[Xe],value:He,index:Xe,tabIndex:Qe,min:q,max:z,reverse:F,disabled:A,style:B[Xe],ref:function(ke){return i.saveHandle(Xe,ke)},ariaLabel:te[Xe],ariaLabelledBy:ue[Xe],ariaValueTextFormatter:ce[Xe]})}),Be=f.slice(0,-1).map(function(He,Xe){var $e,Qe=Xe+1,ot=(0,d$.default)(($e={},ft($e,"".concat(y,"-track"),!0),ft($e,"".concat(y,"-track-").concat(Qe),!0),$e));return p$.default.createElement(mO,{className:ot,vertical:w,reverse:F,included:T,offset:ye[Qe-1],length:ye[Qe]-ye[Qe-1],style:L[Xe],key:Qe})});return{tracks:Be,handles:Se}}}],[{key:"getDerivedStateFromProps",value:function(i,o){if(!("value"in i||"min"in i||"max"in i))return null;var u=i.value||o.bounds,f=u.map(function(h,y){return cS({value:h,handle:y,bounds:o.bounds,props:i})});if(o.bounds.length===f.length){if(f.every(function(h,y){return h===o.bounds[y]}))return null}else f=u.map(function(h,y){return cS({value:h,handle:y,props:i})});return Et(Et({},o),{},{bounds:f})}}]),r}(p$.default.Component);f$.displayName="Range";f$.defaultProps={count:1,allowCross:!0,pushable:!1,draggableTrack:!1,tabIndex:[],ariaLabelGroupForHandles:[],ariaLabelledByGroupForHandles:[],ariaValueTextFormatterGroupForHandles:[]};var xO=uS(f$);var wS=ne(Ve());var qp=ne(Ve());var J$=ne(Ve()),I0=ne(Ve());var Ks=ne(Ve()),u3e=ne(Ti());var ODe=function(t){return+setTimeout(t,16)},RDe=function(t){return clearTimeout(t)};typeof window!="undefined"&&"requestAnimationFrame"in window&&(ODe=function(t){return window.requestAnimationFrame(t)},RDe=function(t){return window.cancelAnimationFrame(t)});var PDe=0,h$=new Map;function qDe(e){h$.delete(e)}var NDe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;PDe+=1;var n=PDe;function i(o){if(o===0)qDe(n),t();else{var u=ODe(function(){i(o-1)});h$.set(n,u)}}return i(r),n};NDe.cancel=function(e){var t=h$.get(e);return qDe(t),RDe(t)};var _s=NDe;function Om(e,t){if(!e)return!1;if(e.contains)return e.contains(t);for(var r=t;r;){if(r===e)return!0;r=r.parentNode}return!1}var kDe=ne(Ve()),DDe=ne(Ti());function SXt(e){return e instanceof HTMLElement||e instanceof SVGElement}function pS(e){return SXt(e)?e:e instanceof kDe.default.Component?DDe.default.findDOMNode(e):null}var PXt=ne(Ve()),y$=ne(jDe());var MXt=ne(Ve());function _$(e,t){typeof e=="function"?e(t):An(e)==="object"&&e&&"current"in e&&(e.current=t)}function g0(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t.filter(function(i){return i});return n.length<=1?n[0]:function(i){t.forEach(function(o){_$(o,i)})}}function RO(e){var t,r,n=(0,y$.isMemo)(e)?e.type.type:e.type;return!(typeof n=="function"&&!((t=n.prototype)!==null&&t!==void 0&&t.render)||typeof e=="function"&&!((r=e.prototype)!==null&&r!==void 0&&r.render))}var hu=ne(Ve()),BDe=ne(Ti());function hc(){return!!(typeof window!="undefined"&&window.document&&window.document.createElement)}var OXt=(0,hu.forwardRef)(function(e,t){var r=e.didUpdate,n=e.getContainer,i=e.children,o=(0,hu.useRef)(),u=(0,hu.useRef)();(0,hu.useImperativeHandle)(t,function(){return{}});var f=(0,hu.useRef)(!1);return!f.current&&hc()&&(u.current=n(),o.current=u.current.parentNode,f.current=!0),(0,hu.useEffect)(function(){r==null||r(e)}),(0,hu.useEffect)(function(){return u.current.parentNode===null&&o.current!==null&&o.current.appendChild(u.current),function(){var h,y;(h=u.current)===null||h===void 0||(y=h.parentNode)===null||y===void 0||y.removeChild(u.current)}},[]),u.current?BDe.default.createPortal(i,u.current):null}),VDe=OXt;var c3e=ne($r());function RXt(e,t,r){return r?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}function UDe(e,t,r){var n=e[t]||{};return Et(Et({},n),r)}function $De(e,t,r,n){for(var i=r.points,o=Object.keys(e),u=0;u<o.length;u+=1){var f=o[u];if(RXt(e[f].points,i,n))return"".concat(t,"-placement-").concat(f)}return""}function b$(e){if(Array.isArray(e))return e}function x$(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,u,f=[],h=!0,y=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;h=!1}else for(;!(h=(n=o.call(r)).done)&&(f.push(n.value),f.length!==t);h=!0);}catch(w){y=!0,i=w}finally{try{if(!h&&r.return!=null&&(u=r.return(),Object(u)!==u))return}finally{if(y)throw i}}return f}}function w$(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yn(e,t){return b$(e)||x$(e,t)||sS(e,t)||w$()}var km=ne(Ve()),xS=ne(Ve());var HDe=function(){if(typeof navigator=="undefined"||typeof window=="undefined")return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return /(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(e==null?void 0:e.substr(0,4))};var R$=ne(Ve()),l4e=ne($r());var a4e=ne($r());var xs=ne(Ve()),O$=ne(Ve());var S$=ne(Ve());var GDe=S$.createContext({});var WDe=ne(Ve()),qXt=function(e){Go(r,e);var t=Wo(r);function r(){return $o(this,r),t.apply(this,arguments)}return Ho(r,[{key:"render",value:function(){return this.props.children}}]),r}(WDe.Component),ZDe=qXt;var y0=ne(Ve());function Pp(e){var t=y0.useRef(!1),r=y0.useState(e),n=yn(r,2),i=n[0],o=n[1];y0.useEffect(function(){return t.current=!1,function(){t.current=!0}},[]);function u(f,h){h&&t.current||o(f)}return[i,u]}var VO=ne(Ve()),kf=ne(Ve());var Op="none",dS="appear",fS="enter",hS="leave",I$="none",bs="prepare",Rp="start",Nf="active",qO="end",NO="prepared";var LO=ne(Ve()),C$=ne(Ve());function KDe(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit".concat(e)]="webkit".concat(t),r["Moz".concat(e)]="moz".concat(t),r["ms".concat(e)]="MS".concat(t),r["O".concat(e)]="o".concat(t.toLowerCase()),r}function NXt(e,t){var r={animationend:KDe("Animation","AnimationEnd"),transitionend:KDe("Transition","TransitionEnd")};return e&&("AnimationEvent"in t||delete r.animationend.animation,"TransitionEvent"in t||delete r.transitionend.transition),r}var kXt=NXt(hc(),typeof window!="undefined"?window:{}),XDe={};hc()&&(YDe=document.createElement("div"),XDe=YDe.style);var YDe,kO={};function JDe(e){if(kO[e])return kO[e];var t=kXt[e];if(t)for(var r=Object.keys(t),n=r.length,i=0;i<n;i+=1){var o=r[i];if(Object.prototype.hasOwnProperty.call(t,o)&&o in XDe)return kO[e]=t[o],kO[e]}return""}var QDe=JDe("animationend"),e4e=JDe("transitionend"),DO=!!(QDe&&e4e),E$=QDe||"animationend",T$=e4e||"transitionend";function A$(e,t){if(!e)return null;if(An(e)==="object"){var r=t.replace(/-\w/g,function(n){return n[1].toUpperCase()});return e[r]}return"".concat(e,"-").concat(t)}var t4e=function(e){var t=(0,C$.useRef)(),r=(0,C$.useRef)(e);r.current=e;var n=LO.useCallback(function(u){r.current(u)},[]);function i(u){u&&(u.removeEventListener(T$,n),u.removeEventListener(E$,n))}function o(u){t.current&&t.current!==u&&i(t.current),u&&u!==t.current&&(u.addEventListener(T$,n),u.addEventListener(E$,n),t.current=u)}return LO.useEffect(function(){return function(){i(t.current)}},[]),[o,i]};var zO=ne(Ve()),DXt=hc()?zO.useLayoutEffect:zO.useEffect,FO=DXt;var n4e=ne(Ve());var jO=ne(Ve()),r4e=function(){var e=jO.useRef(null);function t(){_s.cancel(e.current)}function r(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;t();var o=_s(function(){i<=1?n({isCanceled:function(){return o!==e.current}}):r(n,i-1)});e.current=o}return jO.useEffect(function(){return function(){t()}},[]),[r,t]};var LXt=[bs,Rp,Nf,qO],zXt=[bs,NO],M$=!1,i4e=!0;function BO(e){return e===Nf||e===qO}var o4e=function(e,t,r){var n=Pp(I$),i=yn(n,2),o=i[0],u=i[1],f=r4e(),h=yn(f,2),y=h[0],w=h[1];function T(){u(bs,!0)}var A=t?zXt:LXt;return FO(function(){if(o!==I$&&o!==qO){var q=A.indexOf(o),z=A[q+1],F=r(o);F===M$?u(z,!0):z&&y(function(N){function L(){N.isCanceled()||u(z,!0)}F===!0?L():Promise.resolve(F).then(L)})}},[e,o]),n4e.useEffect(function(){return function(){w()}},[]),[T,o]};function P$(e,t,r,n){var i=n.motionEnter,o=i===void 0?!0:i,u=n.motionAppear,f=u===void 0?!0:u,h=n.motionLeave,y=h===void 0?!0:h,w=n.motionDeadline,T=n.motionLeaveImmediately,A=n.onAppearPrepare,q=n.onEnterPrepare,z=n.onLeavePrepare,F=n.onAppearStart,N=n.onEnterStart,L=n.onLeaveStart,B=n.onAppearActive,Z=n.onEnterActive,te=n.onLeaveActive,ue=n.onAppearEnd,ce=n.onEnterEnd,ye=n.onLeaveEnd,Ne=n.onVisibleChanged,Se=Pp(),Be=yn(Se,2),He=Be[0],Xe=Be[1],$e=Pp(Op),Qe=yn($e,2),ot=Qe[0],ze=Qe[1],ke=Pp(null),je=yn(ke,2),lt=je[0],ut=je[1],vt=(0,kf.useRef)(!1),Fe=(0,kf.useRef)(null);function We(){return r()}var it=(0,kf.useRef)(!1);function Pe(){ze(Op,!0),ut(null,!0)}function he(lr){var Bt=We();if(!(lr&&!lr.deadline&&lr.target!==Bt)){var ur=it.current,Fr;ot===dS&&ur?Fr=ue==null?void 0:ue(Bt,lr):ot===fS&&ur?Fr=ce==null?void 0:ce(Bt,lr):ot===hS&&ur&&(Fr=ye==null?void 0:ye(Bt,lr)),ot!==Op&&ur&&Fr!==!1&&Pe()}}var Re=t4e(he),Te=yn(Re,1),Ke=Te[0],Ge=function(Bt){var ur,Fr,Dr;switch(Bt){case dS:return ur={},ft(ur,bs,A),ft(ur,Rp,F),ft(ur,Nf,B),ur;case fS:return Fr={},ft(Fr,bs,q),ft(Fr,Rp,N),ft(Fr,Nf,Z),Fr;case hS:return Dr={},ft(Dr,bs,z),ft(Dr,Rp,L),ft(Dr,Nf,te),Dr;default:return{};}},wt=VO.useMemo(function(){return Ge(ot)},[ot]),St=o4e(ot,!e,function(lr){if(lr===bs){var Bt=wt[bs];return Bt?Bt(We()):M$}if(pt in wt){var ur;ut(((ur=wt[pt])===null||ur===void 0?void 0:ur.call(wt,We(),null))||null)}return pt===Nf&&(Ke(We()),w>0&&(clearTimeout(Fe.current),Fe.current=setTimeout(function(){he({deadline:!0})},w))),pt===NO&&Pe(),i4e}),Ot=yn(St,2),xe=Ot[0],pt=Ot[1],Ut=BO(pt);it.current=Ut,FO(function(){Xe(t);var lr=vt.current;vt.current=!0;var Bt;!lr&&t&&f&&(Bt=dS),lr&&t&&o&&(Bt=fS),(lr&&!t&&y||!lr&&T&&!t&&y)&&(Bt=hS);var ur=Ge(Bt);Bt&&(e||ur[bs])?(ze(Bt),xe()):ze(Op)},[t]),(0,kf.useEffect)(function(){(ot===dS&&!f||ot===fS&&!o||ot===hS&&!y)&&ze(Op)},[f,o,y]),(0,kf.useEffect)(function(){return function(){vt.current=!1,clearTimeout(Fe.current)}},[]);var ht=VO.useRef(!1);(0,kf.useEffect)(function(){He&&(ht.current=!0),He!==void 0&&ot===Op&&((ht.current||He)&&(Ne==null||Ne(He)),ht.current=!0)},[He,ot]);var $t=lt;return wt[bs]&&pt===Rp&&($t=Et({transition:"none"},$t)),[ot,pt,$t,He!=null?He:t]}function FXt(e){var t=e;An(e)==="object"&&(t=e.transitionSupport);function r(i,o){return!!(i.motionName&&t&&o!==!1)}var n=xs.forwardRef(function(i,o){var u=i.visible,f=u===void 0?!0:u,h=i.removeOnLeave,y=h===void 0?!0:h,w=i.forceRender,T=i.children,A=i.motionName,q=i.leavedClassName,z=i.eventProps,F=xs.useContext(GDe),N=F.motion,L=r(i,N),B=(0,O$.useRef)(),Z=(0,O$.useRef)();function te(){try{return B.current instanceof HTMLElement?B.current:pS(Z.current)}catch(ut){return null}}var ue=P$(L,f,te,i),ce=yn(ue,4),ye=ce[0],Ne=ce[1],Se=ce[2],Be=ce[3],He=xs.useRef(Be);Be&&(He.current=!0);var Xe=xs.useCallback(function(ut){B.current=ut,_$(o,ut)},[o]),$e,Qe=Et(Et({},z),{},{visible:f});if(!T)$e=null;else if(ye===Op)Be?$e=T(Et({},Qe),Xe):!y&&He.current&&q?$e=T(Et(Et({},Qe),{},{className:q}),Xe):w||!y&&!q?$e=T(Et(Et({},Qe),{},{style:{display:"none"}}),Xe):$e=null;else{var ot,ze;Ne===bs?ze="prepare":BO(Ne)?ze="active":Ne===Rp&&(ze="start");var ke=A$(A,"".concat(ye,"-").concat(ze));$e=T(Et(Et({},Qe),{},{className:(0,a4e.default)(A$(A,ye),(ot={},ft(ot,ke,ke&&ze),ft(ot,A,typeof A=="string"),ot)),style:Se}),Xe)}if(xs.isValidElement($e)&&RO($e)){var je=$e,lt=je.ref;lt||($e=xs.cloneElement($e,{ref:Xe}))}return xs.createElement(ZDe,{ref:Z},$e)});return n.displayName="CSSMotion",n}var UO=FXt(DO);var Rm=ne(Ve());var $O="add",HO="keep",GO="remove",ZO="removed";function jXt(e){var t;return e&&An(e)==="object"&&"key"in e?t=e:t={key:e},Et(Et({},t),{},{key:String(t.key)})}function WO(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return e.map(jXt)}function s4e(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=[],n=0,i=t.length,o=WO(e),u=WO(t);o.forEach(function(y){for(var w=!1,T=n;T<i;T+=1){var A=u[T];if(A.key===y.key){n<T&&(r=r.concat(u.slice(n,T).map(function(q){return Et(Et({},q),{},{status:$O})})),n=T),r.push(Et(Et({},A),{},{status:HO})),n+=1,w=!0;break}}w||r.push(Et(Et({},y),{},{status:GO}))}),n<i&&(r=r.concat(u.slice(n).map(function(y){return Et(Et({},y),{},{status:$O})})));var f={};r.forEach(function(y){var w=y.key;f[w]=(f[w]||0)+1});var h=Object.keys(f).filter(function(y){return f[y]>1});return h.forEach(function(y){r=r.filter(function(w){var T=w.key,A=w.status;return T!==y||A!==GO}),r.forEach(function(w){w.key===y&&(w.status=HO)})}),r}var BXt=["component","children","onVisibleChanged","onAllRemoved"],VXt=["status"],UXt=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearPrepare","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];function $Xt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:UO,r=function(n){Go(o,n);var i=Wo(o);function o(){var u;$o(this,o);for(var f=arguments.length,h=new Array(f),y=0;y<f;y++)h[y]=arguments[y];return u=i.call.apply(i,[this].concat(h)),ft(Er(u),"state",{keyEntities:[]}),ft(Er(u),"removeKey",function(w){var T=u.state.keyEntities,A=T.map(function(q){return q.key!==w?q:Et(Et({},q),{},{status:ZO})});return u.setState({keyEntities:A}),A.filter(function(q){var z=q.status;return z!==ZO}).length}),u}return Ho(o,[{key:"render",value:function(){var f=this,h=this.state.keyEntities,y=this.props,w=y.component,T=y.children,A=y.onVisibleChanged,q=y.onAllRemoved,z=ba(y,BXt),F=w||Rm.Fragment,N={};return UXt.forEach(function(L){N[L]=z[L],delete z[L]}),delete z.keys,Rm.createElement(F,z,h.map(function(L,B){var Z=L.status,te=ba(L,VXt),ue=Z===$O||Z===HO;return Rm.createElement(t,Yr({},N,{key:te.key,visible:ue,eventProps:te,onVisibleChanged:function(ye){if(A==null||A(ye,{key:te.key}),!ye){var Ne=f.removeKey(te.key);Ne===0&&q&&q()}}}),function(ce,ye){return T(Et(Et({},ce),{},{index:B}),ye)})}))}}],[{key:"getDerivedStateFromProps",value:function(f,h){var y=f.keys,w=h.keyEntities,T=WO(y),A=s4e(w,T);return{keyEntities:A.filter(function(q){var z=w.find(function(F){var N=F.key;return q.key===N});return!(z&&z.status===ZO&&q.status===GO)})}}}]),o}(Rm.Component);return ft(r,"defaultProps",{component:"div"}),r}var HXt=$Xt(DO);var _0=UO;function KO(e){var t=e.prefixCls,r=e.motion,n=e.animation,i=e.transitionName;return r||(n?{motionName:"".concat(t,"-").concat(n)}:i?{motionName:i}:null)}function q$(e){var t=e.prefixCls,r=e.visible,n=e.zIndex,i=e.mask,o=e.maskMotion,u=e.maskAnimation,f=e.maskTransitionName;if(!i)return null;var h={};return(o||f||u)&&(h=Et({motionAppear:!0},KO({motion:o,prefixCls:t,transitionName:f,animation:u}))),R$.createElement(_0,Yr({},h,{visible:r,removeOnLeave:!0}),function(y){var w=y.className;return R$.createElement("div",{style:{zIndex:n},className:(0,l4e.default)("".concat(t,"-mask"),w)})})}var Zs=ne(Ve()),Nm=ne(Ve());function u4e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function c4e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u4e(Object(r),!0).forEach(function(n){GXt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u4e(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function z$(e){"@babel/helpers - typeof";return z$=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},z$(e)}function GXt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var mS,WXt={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-",O:"-o-"};function eR(){if(mS!==void 0)return mS;mS="";var e=document.createElement("p").style,t="Transform";for(var r in WXt)r+t in e&&(mS=r);return mS}function S4e(){return eR()?"".concat(eR(),"TransitionProperty"):"transitionProperty"}function tR(){return eR()?"".concat(eR(),"Transform"):"transform"}function p4e(e,t){var r=S4e();r&&(e.style[r]=t,r!=="transitionProperty"&&(e.style.transitionProperty=t))}function N$(e,t){var r=tR();r&&(e.style[r]=t,r!=="transform"&&(e.style.transform=t))}function ZXt(e){return e.style.transitionProperty||e.style[S4e()]}function KXt(e){var t=window.getComputedStyle(e,null),r=t.getPropertyValue("transform")||t.getPropertyValue(tR());if(r&&r!=="none"){var n=r.replace(/[^0-9\-.,]/g,"").split(",");return{x:parseFloat(n[12]||n[4],0),y:parseFloat(n[13]||n[5],0)}}return{x:0,y:0}}var YXt=/matrix\((.*)\)/,XXt=/matrix3d\((.*)\)/;function JXt(e,t){var r=window.getComputedStyle(e,null),n=r.getPropertyValue("transform")||r.getPropertyValue(tR());if(n&&n!=="none"){var i,o=n.match(YXt);if(o)o=o[1],i=o.split(",").map(function(f){return parseFloat(f,10)}),i[4]=t.x,i[5]=t.y,N$(e,"matrix(".concat(i.join(","),")"));else{var u=n.match(XXt)[1];i=u.split(",").map(function(f){return parseFloat(f,10)}),i[12]=t.x,i[13]=t.y,N$(e,"matrix3d(".concat(i.join(","),")"))}}else N$(e,"translateX(".concat(t.x,"px) translateY(").concat(t.y,"px) translateZ(0)"))}var QXt=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,yS;function d4e(e){var t=e.style.display;e.style.display="none",e.offsetHeight,e.style.display=t}function b0(e,t,r){var n=r;if(z$(t)==="object"){for(var i in t)t.hasOwnProperty(i)&&b0(e,i,t[i]);return}if(typeof n!="undefined"){typeof n=="number"&&(n="".concat(n,"px")),e.style[t]=n;return}return yS(e,t)}function eJt(e){var t,r,n,i=e.ownerDocument,o=i.body,u=i&&i.documentElement;return t=e.getBoundingClientRect(),r=Math.floor(t.left),n=Math.floor(t.top),r-=u.clientLeft||o.clientLeft||0,n-=u.clientTop||o.clientTop||0,{left:r,top:n}}function I4e(e,t){var r=e["page".concat(t?"Y":"X","Offset")],n="scroll".concat(t?"Top":"Left");if(typeof r!="number"){var i=e.document;r=i.documentElement[n],typeof r!="number"&&(r=i.body[n])}return r}function E4e(e){return I4e(e)}function T4e(e){return I4e(e,!0)}function gS(e){var t=eJt(e),r=e.ownerDocument,n=r.defaultView||r.parentWindow;return t.left+=E4e(n),t.top+=T4e(n),t}function V$(e){return e!=null&&e==e.window}function A4e(e){return V$(e)?e.document:e.nodeType===9?e:e.ownerDocument}function tJt(e,t,r){var n=r,i="",o=A4e(e);return n=n||o.defaultView.getComputedStyle(e,null),n&&(i=n.getPropertyValue(t)||n[t]),i}var rJt=new RegExp("^(".concat(QXt,")(?!px)[a-z%]+$"),"i"),nJt=/^(top|right|bottom|left)$/,k$="currentStyle",D$="runtimeStyle",qm="left",iJt="px";function oJt(e,t){var r=e[k$]&&e[k$][t];if(rJt.test(r)&&!nJt.test(t)){var n=e.style,i=n[qm],o=e[D$][qm];e[D$][qm]=e[k$][qm],n[qm]=t==="fontSize"?"1em":r||0,r=n.pixelLeft+iJt,n[qm]=i,e[D$][qm]=o}return r===""?"auto":r}typeof window!="undefined"&&(yS=window.getComputedStyle?tJt:oJt);function YO(e,t){return e==="left"?t.useCssRight?"right":e:t.useCssBottom?"bottom":e}function f4e(e){if(e==="left")return"right";if(e==="right")return"left";if(e==="top")return"bottom";if(e==="bottom")return"top"}function h4e(e,t,r){b0(e,"position")==="static"&&(e.style.position="relative");var n=-999,i=-999,o=YO("left",r),u=YO("top",r),f=f4e(o),h=f4e(u);o!=="left"&&(n=999),u!=="top"&&(i=999);var y="",w=gS(e);("left"in t||"top"in t)&&(y=ZXt(e)||"",p4e(e,"none")),"left"in t&&(e.style[f]="",e.style[o]="".concat(n,"px")),"top"in t&&(e.style[h]="",e.style[u]="".concat(i,"px")),d4e(e);var T=gS(e),A={};for(var q in t)if(t.hasOwnProperty(q)){var z=YO(q,r),F=q==="left"?n:i,N=w[q]-T[q];z===q?A[z]=F+N:A[z]=F-N}b0(e,A),d4e(e),("left"in t||"top"in t)&&p4e(e,y);var L={};for(var B in t)if(t.hasOwnProperty(B)){var Z=YO(B,r),te=t[B]-w[B];B===Z?L[Z]=A[Z]+te:L[Z]=A[Z]-te}b0(e,L)}function aJt(e,t){var r=gS(e),n=KXt(e),i={x:n.x,y:n.y};"left"in t&&(i.x=n.x+t.left-r.left),"top"in t&&(i.y=n.y+t.top-r.top),JXt(e,i)}function sJt(e,t,r){if(r.ignoreShake){var n=gS(e),i=n.left.toFixed(0),o=n.top.toFixed(0),u=t.left.toFixed(0),f=t.top.toFixed(0);if(i===u&&o===f)return}r.useCssRight||r.useCssBottom?h4e(e,t,r):r.useCssTransform&&tR()in document.body.style?aJt(e,t):h4e(e,t,r)}function U$(e,t){for(var r=0;r<e.length;r++)t(e[r])}function C4e(e){return yS(e,"boxSizing")==="border-box"}var lJt=["margin","border","padding"],F$=-1,uJt=2,j$=1,cJt=0;function pJt(e,t,r){var n={},i=e.style,o;for(o in t)t.hasOwnProperty(o)&&(n[o]=i[o],i[o]=t[o]);r.call(e);for(o in t)t.hasOwnProperty(o)&&(i[o]=n[o])}function vS(e,t,r){var n=0,i,o,u;for(o=0;o<t.length;o++)if(i=t[o],i)for(u=0;u<r.length;u++){var f=void 0;i==="border"?f="".concat(i).concat(r[u],"Width"):f=i+r[u],n+=parseFloat(yS(e,f))||0}return n}var mc={getParent:function(t){var r=t;do r.nodeType===11&&r.host?r=r.host:r=r.parentNode;while(r&&r.nodeType!==1&&r.nodeType!==9);return r}};U$(["Width","Height"],function(e){mc["doc".concat(e)]=function(t){var r=t.document;return Math.max(r.documentElement["scroll".concat(e)],r.body["scroll".concat(e)],mc["viewport".concat(e)](r))},mc["viewport".concat(e)]=function(t){var r="client".concat(e),n=t.document,i=n.body,o=n.documentElement,u=o[r];return n.compatMode==="CSS1Compat"&&u||i&&i[r]||u}});function m4e(e,t,r){var n=r;if(V$(e))return t==="width"?mc.viewportWidth(e):mc.viewportHeight(e);if(e.nodeType===9)return t==="width"?mc.docWidth(e):mc.docHeight(e);var i=t==="width"?["Left","Right"]:["Top","Bottom"],o=Math.floor(t==="width"?e.getBoundingClientRect().width:e.getBoundingClientRect().height),u=C4e(e),f=0;(o==null||o<=0)&&(o=void 0,f=yS(e,t),(f==null||Number(f)<0)&&(f=e.style[t]||0),f=Math.floor(parseFloat(f))||0),n===void 0&&(n=u?j$:F$);var h=o!==void 0||u,y=o||f;return n===F$?h?y-vS(e,["border","padding"],i):f:h?n===j$?y:y+(n===uJt?-vS(e,["border"],i):vS(e,["margin"],i)):f+vS(e,lJt.slice(n),i)}var dJt={position:"absolute",visibility:"hidden",display:"block"};function v4e(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,i=t[0];return i.offsetWidth!==0?n=m4e.apply(void 0,t):pJt(i,dJt,function(){n=m4e.apply(void 0,t)}),n}U$(["width","height"],function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);mc["outer".concat(t)]=function(n,i){return n&&v4e(n,e,i?cJt:j$)};var r=e==="width"?["Left","Right"]:["Top","Bottom"];mc[e]=function(n,i){var o=i;if(o!==void 0){if(n){var u=C4e(n);return u&&(o+=vS(n,["padding","border"],r)),b0(n,e,o)}return}return n&&v4e(n,e,F$)}});function M4e(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}var Or={getWindow:function(t){if(t&&t.document&&t.setTimeout)return t;var r=t.ownerDocument||t;return r.defaultView||r.parentWindow},getDocument:A4e,offset:function(t,r,n){if(typeof r!="undefined")sJt(t,r,n||{});else return gS(t)},isWindow:V$,each:U$,css:b0,clone:function(t){var r,n={};for(r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);var i=t.overflow;if(i)for(r in t)t.hasOwnProperty(r)&&(n.overflow[r]=t.overflow[r]);return n},mix:M4e,getWindowScrollLeft:function(t){return E4e(t)},getWindowScrollTop:function(t){return T4e(t)},merge:function(){for(var t={},r=0;r<arguments.length;r++)Or.mix(t,r<0||arguments.length<=r?void 0:arguments[r]);return t},viewportWidth:0,viewportHeight:0};M4e(Or,mc);var L$=Or.getParent;function B$(e){if(Or.isWindow(e)||e.nodeType===9)return null;var t=Or.getDocument(e),r=t.body,n,i=Or.css(e,"position"),o=i==="fixed"||i==="absolute";if(!o)return e.nodeName.toLowerCase()==="html"?null:L$(e);for(n=L$(e);n&&n!==r&&n.nodeType!==9;n=L$(n))if(i=Or.css(n,"position"),i!=="static")return n;return null}var g4e=Or.getParent;function fJt(e){if(Or.isWindow(e)||e.nodeType===9)return!1;var t=Or.getDocument(e),r=t.body,n=null;for(n=g4e(e);n&&n!==r&&n!==t;n=g4e(n)){var i=Or.css(n,"position");if(i==="fixed")return!0}return!1}function $$(e,t){for(var r={left:0,right:1/0,top:0,bottom:1/0},n=B$(e),i=Or.getDocument(e),o=i.defaultView||i.parentWindow,u=i.body,f=i.documentElement;n;){if((navigator.userAgent.indexOf("MSIE")===-1||n.clientWidth!==0)&&n!==u&&n!==f&&Or.css(n,"overflow")!=="visible"){var h=Or.offset(n);h.left+=n.clientLeft,h.top+=n.clientTop,r.top=Math.max(r.top,h.top),r.right=Math.min(r.right,h.left+n.clientWidth),r.bottom=Math.min(r.bottom,h.top+n.clientHeight),r.left=Math.max(r.left,h.left)}else if(n===u||n===f)break;n=B$(n)}var y=null;if(!Or.isWindow(e)&&e.nodeType!==9){y=e.style.position;var w=Or.css(e,"position");w==="absolute"&&(e.style.position="fixed")}var T=Or.getWindowScrollLeft(o),A=Or.getWindowScrollTop(o),q=Or.viewportWidth(o),z=Or.viewportHeight(o),F=f.scrollWidth,N=f.scrollHeight,L=window.getComputedStyle(u);if(L.overflowX==="hidden"&&(F=o.innerWidth),L.overflowY==="hidden"&&(N=o.innerHeight),e.style&&(e.style.position=y),t||fJt(e))r.left=Math.max(r.left,T),r.top=Math.max(r.top,A),r.right=Math.min(r.right,T+q),r.bottom=Math.min(r.bottom,A+z);else{var B=Math.max(F,T+q);r.right=Math.min(r.right,B);var Z=Math.max(N,A+z);r.bottom=Math.min(r.bottom,Z)}return r.top>=0&&r.left>=0&&r.bottom>r.top&&r.right>r.left?r:null}function hJt(e,t,r,n){var i=Or.clone(e),o={width:t.width,height:t.height};return n.adjustX&&i.left<r.left&&(i.left=r.left),n.resizeWidth&&i.left>=r.left&&i.left+o.width>r.right&&(o.width-=i.left+o.width-r.right),n.adjustX&&i.left+o.width>r.right&&(i.left=Math.max(r.right-o.width,r.left)),n.adjustY&&i.top<r.top&&(i.top=r.top),n.resizeHeight&&i.top>=r.top&&i.top+o.height>r.bottom&&(o.height-=i.top+o.height-r.bottom),n.adjustY&&i.top+o.height>r.bottom&&(i.top=Math.max(r.bottom-o.height,r.top)),Or.mix(i,o)}function H$(e){var t,r,n;if(!Or.isWindow(e)&&e.nodeType!==9)t=Or.offset(e),r=Or.outerWidth(e),n=Or.outerHeight(e);else{var i=Or.getWindow(e);t={left:Or.getWindowScrollLeft(i),top:Or.getWindowScrollTop(i)},r=Or.viewportWidth(i),n=Or.viewportHeight(i)}return t.width=r,t.height=n,t}function y4e(e,t){var r=t.charAt(0),n=t.charAt(1),i=e.width,o=e.height,u=e.left,f=e.top;return r==="c"?f+=o/2:r==="b"&&(f+=o),n==="c"?u+=i/2:n==="r"&&(u+=i),{left:u,top:f}}function XO(e,t,r,n,i){var o=y4e(t,r[1]),u=y4e(e,r[0]),f=[u.left-o.left,u.top-o.top];return{left:Math.round(e.left-f[0]+n[0]-i[0]),top:Math.round(e.top-f[1]+n[1]-i[1])}}function _4e(e,t,r){return e.left<r.left||e.left+t.width>r.right}function b4e(e,t,r){return e.top<r.top||e.top+t.height>r.bottom}function mJt(e,t,r){return e.left>r.right||e.left+t.width<r.left}function vJt(e,t,r){return e.top>r.bottom||e.top+t.height<r.top}function JO(e,t,r){var n=[];return Or.each(e,function(i){n.push(i.replace(t,function(o){return r[o]}))}),n}function QO(e,t){return e[t]=-e[t],e}function x4e(e,t){var r;return /%$/.test(e)?r=parseInt(e.substring(0,e.length-1),10)/100*t:r=parseInt(e,10),r||0}function w4e(e,t){e[0]=x4e(e[0],t.width),e[1]=x4e(e[1],t.height)}function P4e(e,t,r,n){var i=r.points,o=r.offset||[0,0],u=r.targetOffset||[0,0],f=r.overflow,h=r.source||e;o=[].concat(o),u=[].concat(u),f=f||{};var y={},w=0,T=!!(f&&f.alwaysByViewport),A=$$(h,T),q=H$(h);w4e(o,q),w4e(u,t);var z=XO(q,t,i,o,u),F=Or.merge(q,z);if(A&&(f.adjustX||f.adjustY)&&n){if(f.adjustX&&_4e(z,q,A)){var N=JO(i,/[lr]/gi,{l:"r",r:"l"}),L=QO(o,0),B=QO(u,0),Z=XO(q,t,N,L,B);mJt(Z,q,A)||(w=1,i=N,o=L,u=B)}if(f.adjustY&&b4e(z,q,A)){var te=JO(i,/[tb]/gi,{t:"b",b:"t"}),ue=QO(o,1),ce=QO(u,1),ye=XO(q,t,te,ue,ce);vJt(ye,q,A)||(w=1,i=te,o=ue,u=ce)}w&&(z=XO(q,t,i,o,u),Or.mix(F,z));var Ne=_4e(z,q,A),Se=b4e(z,q,A);if(Ne||Se){var Be=i;Ne&&(Be=JO(i,/[lr]/gi,{l:"r",r:"l"})),Se&&(Be=JO(i,/[tb]/gi,{t:"b",b:"t"})),i=Be,o=r.offset||[0,0],u=r.targetOffset||[0,0]}y.adjustX=f.adjustX&&Ne,y.adjustY=f.adjustY&&Se,(y.adjustX||y.adjustY)&&(F=hJt(z,q,A,y))}return F.width!==q.width&&Or.css(h,"width",Or.width(h)+F.width-q.width),F.height!==q.height&&Or.css(h,"height",Or.height(h)+F.height-q.height),Or.offset(h,{left:F.left,top:F.top},{useCssRight:r.useCssRight,useCssBottom:r.useCssBottom,useCssTransform:r.useCssTransform,ignoreShake:r.ignoreShake}),{points:i,offset:o,targetOffset:u,overflow:y}}function gJt(e,t){var r=$$(e,t),n=H$(e);return!r||n.left+n.width<=r.left||n.top+n.height<=r.top||n.left>=r.right||n.top>=r.bottom}function rR(e,t,r){var n=r.target||t,i=H$(n),o=!gJt(n,r.overflow&&r.overflow.alwaysByViewport);return P4e(e,i,r,o)}rR.__getOffsetParent=B$;rR.__getVisibleRectForElement=$$;function O4e(e,t,r){var n,i,o=Or.getDocument(e),u=o.defaultView||o.parentWindow,f=Or.getWindowScrollLeft(u),h=Or.getWindowScrollTop(u),y=Or.viewportWidth(u),w=Or.viewportHeight(u);"pageX"in t?n=t.pageX:n=f+t.clientX,"pageY"in t?i=t.pageY:i=h+t.clientY;var T={left:n,top:i,width:0,height:0},A=n>=0&&n<=f+y&&i>=0&&i<=h+w,q=[r.points[0],"cc"];return P4e(e,T,c4e(c4e({},r),{},{points:q}),A)}function yJt(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=new Set;function i(o,u){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,h=n.has(o);if(Ap(!h,"Warning: There may be circular references"),h)return!1;if(o===u)return!0;if(r&&f>1)return!1;n.add(o);var y=f+1;if(Array.isArray(o)){if(!Array.isArray(u)||o.length!==u.length)return!1;for(var w=0;w<o.length;w++)if(!i(o[w],u[w],y))return!1;return!0}if(o&&u&&An(o)==="object"&&An(u)==="object"){var T=Object.keys(o);return T.length!==Object.keys(u).length?!1:T.every(function(A){return i(o[A],u[A],y)})}return!1}return i(e,t)}var R4e=yJt;var q4e=function(e){if(!e)return!1;if(e instanceof Element){if(e.offsetParent)return!0;if(e.getBBox){var t=e.getBBox(),r=t.width,n=t.height;if(r||n)return!0}if(e.getBoundingClientRect){var i=e.getBoundingClientRect(),o=i.width,u=i.height;if(o||u)return!0}}return!1};var x0=ne(Ve());var N4e=hc()?x0.useLayoutEffect:x0.useEffect,_Jt=function(t,r){var n=x0.useRef(!0);N4e(function(){return t(n.current)},r),N4e(function(){return n.current=!1,function(){n.current=!0}},[])};var _S=_Jt;var Zo=ne(Ve());var G$=ne(Ve()),k4e=function(e,t){var r=G$.default.useRef(!1),n=G$.default.useRef(null);function i(){window.clearTimeout(n.current)}function o(u){if(i(),!r.current||u===!0){if(e(u)===!1)return;r.current=!0,n.current=window.setTimeout(function(){r.current=!1},t)}else n.current=window.setTimeout(function(){r.current=!1,o()},t)}return[o,function(){r.current=!1,i()}]};var L4e=function(){if(typeof Map!="undefined")return Map;function e(t,r){var n=-1;return t.some(function(i,o){return i[0]===r?(n=o,!0):!1}),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(r){var n=e(this.__entries__,r),i=this.__entries__[n];return i&&i[1]},t.prototype.set=function(r,n){var i=e(this.__entries__,r);~i?this.__entries__[i][1]=n:this.__entries__.push([r,n])},t.prototype.delete=function(r){var n=this.__entries__,i=e(n,r);~i&&n.splice(i,1)},t.prototype.has=function(r){return!!~e(this.__entries__,r)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(r,n){n===void 0&&(n=null);for(var i=0,o=this.__entries__;i<o.length;i++){var u=o[i];r.call(n,u[1],u[0])}},t}()}(),W$=typeof window!="undefined"&&typeof document!="undefined"&&window.document===document,nR=function(){return typeof global!="undefined"&&global.Math===Math?global:typeof self!="undefined"&&self.Math===Math?self:typeof window!="undefined"&&window.Math===Math?window:Function("return this")()}(),bJt=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(nR):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)}}(),xJt=2;function wJt(e,t){var r=!1,n=!1,i=0;function o(){r&&(r=!1,e()),n&&f()}function u(){bJt(o)}function f(){var h=Date.now();if(r){if(h-i<xJt)return;n=!0}else r=!0,n=!1,setTimeout(u,t);i=h}return f}var SJt=20,IJt=["top","right","bottom","left","width","height","size","weight"],EJt=typeof MutationObserver!="undefined",TJt=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=wJt(this.refresh.bind(this),SJt)}return e.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},e.prototype.removeObserver=function(t){var r=this.observers_,n=r.indexOf(t);~n&&r.splice(n,1),!r.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){var t=this.updateObservers_();t&&this.refresh()},e.prototype.updateObservers_=function(){var t=this.observers_.filter(function(r){return r.gatherActive(),r.hasActive()});return t.forEach(function(r){return r.broadcastActive()}),t.length>0},e.prototype.connect_=function(){!W$||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),EJt?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){!W$||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(t){var r=t.propertyName,n=r===void 0?"":r,i=IJt.some(function(o){return!!~n.indexOf(o)});i&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),z4e=function(e,t){for(var r=0,n=Object.keys(t);r<n.length;r++){var i=n[r];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},w0=function(e){var t=e&&e.ownerDocument&&e.ownerDocument.defaultView;return t||nR},F4e=oR(0,0,0,0);function iR(e){return parseFloat(e)||0}function D4e(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return t.reduce(function(n,i){var o=e["border-"+i+"-width"];return n+iR(o)},0)}function AJt(e){for(var t=["top","right","bottom","left"],r={},n=0,i=t;n<i.length;n++){var o=i[n],u=e["padding-"+o];r[o]=iR(u)}return r}function CJt(e){var t=e.getBBox();return oR(0,0,t.width,t.height)}function MJt(e){var t=e.clientWidth,r=e.clientHeight;if(!t&&!r)return F4e;var n=w0(e).getComputedStyle(e),i=AJt(n),o=i.left+i.right,u=i.top+i.bottom,f=iR(n.width),h=iR(n.height);if(n.boxSizing==="border-box"&&(Math.round(f+o)!==t&&(f-=D4e(n,"left","right")+o),Math.round(h+u)!==r&&(h-=D4e(n,"top","bottom")+u)),!OJt(e)){var y=Math.round(f+o)-t,w=Math.round(h+u)-r;Math.abs(y)!==1&&(f-=y),Math.abs(w)!==1&&(h-=w)}return oR(i.left,i.top,f,h)}var PJt=function(){return typeof SVGGraphicsElement!="undefined"?function(e){return e instanceof w0(e).SVGGraphicsElement}:function(e){return e instanceof w0(e).SVGElement&&typeof e.getBBox=="function"}}();function OJt(e){return e===w0(e).document.documentElement}function RJt(e){return W$?PJt(e)?CJt(e):MJt(e):F4e}function qJt(e){var t=e.x,r=e.y,n=e.width,i=e.height,o=typeof DOMRectReadOnly!="undefined"?DOMRectReadOnly:Object,u=Object.create(o.prototype);return z4e(u,{x:t,y:r,width:n,height:i,top:r,right:t+n,bottom:i+r,left:t}),u}function oR(e,t,r,n){return{x:e,y:t,width:r,height:n}}var NJt=function(){function e(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=oR(0,0,0,0),this.target=t}return e.prototype.isActive=function(){var t=RJt(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},e}(),kJt=function(){function e(t,r){var n=qJt(r);z4e(this,{target:t,contentRect:n})}return e}(),DJt=function(){function e(t,r,n){if(this.activeObservations_=[],this.observations_=new L4e,typeof t!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=r,this.callbackCtx_=n}return e.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element=="undefined"||!(Element instanceof Object))){if(!(t instanceof w0(t).Element))throw new TypeError("parameter 1 is not of type \"Element\".");var r=this.observations_;r.has(t)||(r.set(t,new NJt(t)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element=="undefined"||!(Element instanceof Object))){if(!(t instanceof w0(t).Element))throw new TypeError("parameter 1 is not of type \"Element\".");var r=this.observations_;r.has(t)&&(r.delete(t),r.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(r){r.isActive()&&t.activeObservations_.push(r)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,r=this.activeObservations_.map(function(n){return new kJt(n.target,n.broadcastRect())});this.callback_.call(t,r,t),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),j4e=typeof WeakMap!="undefined"?new WeakMap:new L4e,B4e=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var r=TJt.getInstance(),n=new DJt(t,r,this);j4e.set(this,n)}return e}();["observe","unobserve","disconnect"].forEach(function(e){B4e.prototype[e]=function(){var t;return(t=j4e.get(this))[e].apply(t,arguments)}});var LJt=function(){return typeof nR.ResizeObserver!="undefined"?nR.ResizeObserver:B4e}(),V4e=LJt;function U4e(e,t){return e===t?!0:!e||!t?!1:"pageX"in t&&"pageY"in t?e.pageX===t.pageX&&e.pageY===t.pageY:"clientX"in t&&"clientY"in t?e.clientX===t.clientX&&e.clientY===t.clientY:!1}function $4e(e,t){e!==document.activeElement&&Om(t,e)&&typeof e.focus=="function"&&e.focus()}function Z$(e,t){var r=null,n=null;function i(u){var f=yn(u,1),h=f[0].target;if(document.documentElement.contains(h)){var y=h.getBoundingClientRect(),w=y.width,T=y.height,A=Math.floor(w),q=Math.floor(T);(r!==A||n!==q)&&Promise.resolve().then(function(){t({width:A,height:q})}),r=A,n=q}}var o=new V4e(i);return e&&o.observe(e),function(){o.disconnect()}}function H4e(e){return typeof e!="function"?null:e()}function G4e(e){return An(e)!=="object"||!e?null:e}var zJt=function(t,r){var n=t.children,i=t.disabled,o=t.target,u=t.align,f=t.onAlign,h=t.monitorWindowResize,y=t.monitorBufferTime,w=y===void 0?0:y,T=Zo.default.useRef({}),A=Zo.default.useRef(),q=Zo.default.Children.only(n),z=Zo.default.useRef({});z.current.disabled=i,z.current.target=o,z.current.align=u,z.current.onAlign=f;var F=k4e(function(){var He=z.current,Xe=He.disabled,$e=He.target,Qe=He.align,ot=He.onAlign,ze=A.current;if(!Xe&&$e&&ze){var ke,je=H4e($e),lt=G4e($e);T.current.element=je,T.current.point=lt,T.current.align=Qe;var ut=document,vt=ut.activeElement;return je&&q4e(je)?ke=rR(ze,je,Qe):lt&&(ke=O4e(ze,lt,Qe)),$4e(vt,ze),ot&&ke&&ot(ze,ke),!0}return!1},w),N=yn(F,2),L=N[0],B=N[1],Z=Zo.default.useState(),te=yn(Z,2),ue=te[0],ce=te[1],ye=Zo.default.useState(),Ne=yn(ye,2),Se=Ne[0],Be=Ne[1];return _S(function(){ce(H4e(o)),Be(G4e(o))}),Zo.default.useEffect(function(){(T.current.element!==ue||!U4e(T.current.point,Se)||!R4e(T.current.align,u))&&L()}),Zo.default.useEffect(function(){var He=Z$(A.current,L);return He},[A.current]),Zo.default.useEffect(function(){var He=Z$(ue,L);return He},[ue]),Zo.default.useEffect(function(){i?B():L()},[i]),Zo.default.useEffect(function(){if(h){var He=ja(window,"resize",L);return He.remove}},[h]),Zo.default.useEffect(function(){return function(){B()}},[]),Zo.default.useImperativeHandle(r,function(){return{forceAlign:function(){return L(!0)}}}),Zo.default.isValidElement(q)&&(q=Zo.default.cloneElement(q,{ref:g0(q.ref,A)})),q},W4e=Zo.default.forwardRef(zJt);W4e.displayName="Align";var Z4e=W4e;var K4e=Z4e;var e3e=ne($r());function bS(){"use strict";bS=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(ze,ke,je){ze[ke]=je.value},o=typeof Symbol=="function"?Symbol:{},u=o.iterator||"@@iterator",f=o.asyncIterator||"@@asyncIterator",h=o.toStringTag||"@@toStringTag";function y(ze,ke,je){return Object.defineProperty(ze,ke,{value:je,enumerable:!0,configurable:!0,writable:!0}),ze[ke]}try{y({},"")}catch(ze){y=function(je,lt,ut){return je[lt]=ut}}function w(ze,ke,je,lt){var ut=ke&&ke.prototype instanceof L?ke:L,vt=Object.create(ut.prototype),Fe=new Qe(lt||[]);return i(vt,"_invoke",{value:Be(ze,je,Fe)}),vt}function T(ze,ke,je){try{return{type:"normal",arg:ze.call(ke,je)}}catch(lt){return{type:"throw",arg:lt}}}t.wrap=w;var A="suspendedStart",q="suspendedYield",z="executing",F="completed",N={};function L(){}function B(){}function Z(){}var te={};y(te,u,function(){return this});var ue=Object.getPrototypeOf,ce=ue&&ue(ue(ot([])));ce&&ce!==r&&n.call(ce,u)&&(te=ce);var ye=Z.prototype=L.prototype=Object.create(te);function Ne(ze){["next","throw","return"].forEach(function(ke){y(ze,ke,function(je){return this._invoke(ke,je)})})}function Se(ze,ke){function je(ut,vt,Fe,We){var it=T(ze[ut],ze,vt);if(it.type!=="throw"){var Pe=it.arg,he=Pe.value;return he&&An(he)=="object"&&n.call(he,"__await")?ke.resolve(he.__await).then(function(Re){je("next",Re,Fe,We)},function(Re){je("throw",Re,Fe,We)}):ke.resolve(he).then(function(Re){Pe.value=Re,Fe(Pe)},function(Re){return je("throw",Re,Fe,We)})}We(it.arg)}var lt;i(this,"_invoke",{value:function(vt,Fe){function We(){return new ke(function(it,Pe){je(vt,Fe,it,Pe)})}return lt=lt?lt.then(We,We):We()}})}function Be(ze,ke,je){var lt=A;return function(ut,vt){if(lt===z)throw new Error("Generator is already running");if(lt===F){if(ut==="throw")throw vt;return{value:e,done:!0}}for(je.method=ut,je.arg=vt;;){var Fe=je.delegate;if(Fe){var We=He(Fe,je);if(We){if(We===N)continue;return We}}if(je.method==="next")je.sent=je._sent=je.arg;else if(je.method==="throw"){if(lt===A)throw lt=F,je.arg;je.dispatchException(je.arg)}else je.method==="return"&&je.abrupt("return",je.arg);lt=z;var it=T(ze,ke,je);if(it.type==="normal"){if(lt=je.done?F:q,it.arg===N)continue;return{value:it.arg,done:je.done}}it.type==="throw"&&(lt=F,je.method="throw",je.arg=it.arg)}}}function He(ze,ke){var je=ke.method,lt=ze.iterator[je];if(lt===e)return ke.delegate=null,je==="throw"&&ze.iterator.return&&(ke.method="return",ke.arg=e,He(ze,ke),ke.method==="throw")||je!=="return"&&(ke.method="throw",ke.arg=new TypeError("The iterator does not provide a '"+je+"' method")),N;var ut=T(lt,ze.iterator,ke.arg);if(ut.type==="throw")return ke.method="throw",ke.arg=ut.arg,ke.delegate=null,N;var vt=ut.arg;return vt?vt.done?(ke[ze.resultName]=vt.value,ke.next=ze.nextLoc,ke.method!=="return"&&(ke.method="next",ke.arg=e),ke.delegate=null,N):vt:(ke.method="throw",ke.arg=new TypeError("iterator result is not an object"),ke.delegate=null,N)}function Xe(ze){var ke={tryLoc:ze[0]};1 in ze&&(ke.catchLoc=ze[1]),2 in ze&&(ke.finallyLoc=ze[2],ke.afterLoc=ze[3]),this.tryEntries.push(ke)}function $e(ze){var ke=ze.completion||{};ke.type="normal",delete ke.arg,ze.completion=ke}function Qe(ze){this.tryEntries=[{tryLoc:"root"}],ze.forEach(Xe,this),this.reset(!0)}function ot(ze){if(ze||ze===""){var ke=ze[u];if(ke)return ke.call(ze);if(typeof ze.next=="function")return ze;if(!isNaN(ze.length)){var je=-1,lt=function ut(){for(;++je<ze.length;)if(n.call(ze,je))return ut.value=ze[je],ut.done=!1,ut;return ut.value=e,ut.done=!0,ut};return lt.next=lt}}throw new TypeError(An(ze)+" is not iterable")}return B.prototype=Z,i(ye,"constructor",{value:Z,configurable:!0}),i(Z,"constructor",{value:B,configurable:!0}),B.displayName=y(Z,h,"GeneratorFunction"),t.isGeneratorFunction=function(ze){var ke=typeof ze=="function"&&ze.constructor;return!!ke&&(ke===B||(ke.displayName||ke.name)==="GeneratorFunction")},t.mark=function(ze){return Object.setPrototypeOf?Object.setPrototypeOf(ze,Z):(ze.__proto__=Z,y(ze,h,"GeneratorFunction")),ze.prototype=Object.create(ye),ze},t.awrap=function(ze){return{__await:ze}},Ne(Se.prototype),y(Se.prototype,f,function(){return this}),t.AsyncIterator=Se,t.async=function(ze,ke,je,lt,ut){ut===void 0&&(ut=Promise);var vt=new Se(w(ze,ke,je,lt),ut);return t.isGeneratorFunction(ke)?vt:vt.next().then(function(Fe){return Fe.done?Fe.value:vt.next()})},Ne(ye),y(ye,h,"Generator"),y(ye,u,function(){return this}),y(ye,"toString",function(){return"[object Generator]"}),t.keys=function(ze){var ke=Object(ze),je=[];for(var lt in ke)je.push(lt);return je.reverse(),function ut(){for(;je.length;){var vt=je.pop();if(vt in ke)return ut.value=vt,ut.done=!1,ut}return ut.done=!0,ut}},t.values=ot,Qe.prototype={constructor:Qe,reset:function(ke){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach($e),!ke)for(var je in this)je.charAt(0)==="t"&&n.call(this,je)&&!isNaN(+je.slice(1))&&(this[je]=e)},stop:function(){this.done=!0;var ke=this.tryEntries[0].completion;if(ke.type==="throw")throw ke.arg;return this.rval},dispatchException:function(ke){if(this.done)throw ke;var je=this;function lt(Pe,he){return Fe.type="throw",Fe.arg=ke,je.next=Pe,he&&(je.method="next",je.arg=e),!!he}for(var ut=this.tryEntries.length-1;ut>=0;--ut){var vt=this.tryEntries[ut],Fe=vt.completion;if(vt.tryLoc==="root")return lt("end");if(vt.tryLoc<=this.prev){var We=n.call(vt,"catchLoc"),it=n.call(vt,"finallyLoc");if(We&&it){if(this.prev<vt.catchLoc)return lt(vt.catchLoc,!0);if(this.prev<vt.finallyLoc)return lt(vt.finallyLoc)}else if(We){if(this.prev<vt.catchLoc)return lt(vt.catchLoc,!0)}else{if(!it)throw new Error("try statement without catch or finally");if(this.prev<vt.finallyLoc)return lt(vt.finallyLoc)}}}},abrupt:function(ke,je){for(var lt=this.tryEntries.length-1;lt>=0;--lt){var ut=this.tryEntries[lt];if(ut.tryLoc<=this.prev&&n.call(ut,"finallyLoc")&&this.prev<ut.finallyLoc){var vt=ut;break}}vt&&(ke==="break"||ke==="continue")&&vt.tryLoc<=je&&je<=vt.finallyLoc&&(vt=null);var Fe=vt?vt.completion:{};return Fe.type=ke,Fe.arg=je,vt?(this.method="next",this.next=vt.finallyLoc,N):this.complete(Fe)},complete:function(ke,je){if(ke.type==="throw")throw ke.arg;return ke.type==="break"||ke.type==="continue"?this.next=ke.arg:ke.type==="return"?(this.rval=this.arg=ke.arg,this.method="return",this.next="end"):ke.type==="normal"&&je&&(this.next=je),N},finish:function(ke){for(var je=this.tryEntries.length-1;je>=0;--je){var lt=this.tryEntries[je];if(lt.finallyLoc===ke)return this.complete(lt.completion,lt.afterLoc),$e(lt),N}},catch:function(ke){for(var je=this.tryEntries.length-1;je>=0;--je){var lt=this.tryEntries[je];if(lt.tryLoc===ke){var ut=lt.completion;if(ut.type==="throw"){var vt=ut.arg;$e(lt)}return vt}}throw new Error("illegal catch attempt")},delegateYield:function(ke,je,lt){return this.delegate={iterator:ot(ke),resultName:je,nextLoc:lt},this.method==="next"&&(this.arg=e),N}},t}function Y4e(e,t,r,n,i,o,u){try{var f=e[o](u),h=f.value}catch(y){r(y);return}f.done?t(h):Promise.resolve(h).then(n,i)}function K$(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function u(h){Y4e(o,n,i,u,f,"next",h)}function f(h){Y4e(o,n,i,u,f,"throw",h)}u(void 0)})}}var S0=ne(Ve());var X4e=["measure","alignPre","align",null,"motion"],J4e=function(e,t){var r=Pp(null),n=yn(r,2),i=n[0],o=n[1],u=(0,S0.useRef)();function f(w){o(w,!0)}function h(){_s.cancel(u.current)}function y(w){h(),u.current=_s(function(){f(function(T){switch(i){case"align":return"motion";case"motion":return"stable";default:}return T}),w==null||w()})}return(0,S0.useEffect)(function(){f("measure")},[e]),(0,S0.useEffect)(function(){switch(i){case"measure":t();break;default:}i&&(u.current=_s(K$(bS().mark(function w(){var T,A;return bS().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:T=X4e.indexOf(i),A=X4e[T+1],A&&T!==-1&&f(A);case 3:case"end":return z.stop();}},w)}))))},[i]),(0,S0.useEffect)(function(){return function(){h()}},[]),[i,y]};var aR=ne(Ve()),Q4e=function(e){var t=aR.useState({width:0,height:0}),r=yn(t,2),n=r[0],i=r[1];function o(f){var h=f.offsetWidth,y=f.offsetHeight,w=f.getBoundingClientRect(),T=w.width,A=w.height;Math.abs(h-T)<1&&Math.abs(y-A)<1&&(h=T,y=A),i({width:h,height:y})}var u=aR.useMemo(function(){var f={};if(e){var h=n.width,y=n.height;e.indexOf("height")!==-1&&y?f.height=y:e.indexOf("minHeight")!==-1&&y&&(f.minHeight=y),e.indexOf("width")!==-1&&h?f.width=h:e.indexOf("minWidth")!==-1&&h&&(f.minWidth=h)}return f},[e,n]);return[u,o]};var t3e=Zs.forwardRef(function(e,t){var r=e.visible,n=e.prefixCls,i=e.className,o=e.style,u=e.children,f=e.zIndex,h=e.stretch,y=e.destroyPopupOnHide,w=e.forceRender,T=e.align,A=e.point,q=e.getRootDomNode,z=e.getClassNameFromAlign,F=e.onAlign,N=e.onMouseEnter,L=e.onMouseLeave,B=e.onMouseDown,Z=e.onTouchStart,te=e.onClick,ue=(0,Nm.useRef)(),ce=(0,Nm.useRef)(),ye=(0,Nm.useState)(),Ne=yn(ye,2),Se=Ne[0],Be=Ne[1],He=Q4e(h),Xe=yn(He,2),$e=Xe[0],Qe=Xe[1];function ot(){h&&Qe(q())}var ze=J4e(r,ot),ke=yn(ze,2),je=ke[0],lt=ke[1],ut=(0,Nm.useState)(0),vt=yn(ut,2),Fe=vt[0],We=vt[1],it=(0,Nm.useRef)();_S(function(){je==="alignPre"&&We(0)},[je]);function Pe(){return A||q}function he(){var Ot;(Ot=ue.current)===null||Ot===void 0||Ot.forceAlign()}function Re(Ot,xe){var pt=z(xe);Se!==pt&&Be(pt),We(function(Ut){return Ut+1}),je==="align"&&(F==null||F(Ot,xe))}_S(function(){je==="align"&&(Fe<3?he():lt(function(){var Ot;(Ot=it.current)===null||Ot===void 0||Ot.call(it)}))},[Fe]);var Te=Et({},KO(e));["onAppearEnd","onEnterEnd","onLeaveEnd"].forEach(function(Ot){var xe=Te[Ot];Te[Ot]=function(pt,Ut){return lt(),xe==null?void 0:xe(pt,Ut)}});function Ke(){return new Promise(function(Ot){it.current=Ot})}Zs.useEffect(function(){!Te.motionName&&je==="motion"&&lt()},[Te.motionName,je]),Zs.useImperativeHandle(t,function(){return{forceAlign:he,getElement:function(){return ce.current}}});var Ge=Et(Et({},$e),{},{zIndex:f,opacity:je==="motion"||je==="stable"||!r?void 0:0,pointerEvents:!r&&je!=="stable"?"none":void 0},o),wt=!0;T!=null&&T.points&&(je==="align"||je==="stable")&&(wt=!1);var St=u;return Zs.Children.count(u)>1&&(St=Zs.createElement("div",{className:"".concat(n,"-content")},u)),Zs.createElement(_0,Yr({visible:r,ref:ce,leavedClassName:"".concat(n,"-hidden")},Te,{onAppearPrepare:Ke,onEnterPrepare:Ke,removeOnLeave:y,forceRender:w}),function(Ot,xe){var pt=Ot.className,Ut=Ot.style,ht=(0,e3e.default)(n,i,Se,pt);return Zs.createElement(K4e,{target:Pe(),key:"popup",ref:ue,monitorWindowResize:!0,disabled:wt,align:T,onAlign:Re},Zs.createElement("div",{ref:xe,className:ht,onMouseEnter:N,onMouseLeave:L,onMouseDownCapture:B,onTouchStartCapture:Z,onClick:te,style:Et(Et({},Ut),Ge)},St))})});t3e.displayName="PopupInner";var r3e=t3e;var Fl=ne(Ve());var n3e=ne($r()),i3e=Fl.forwardRef(function(e,t){var r=e.prefixCls,n=e.visible,i=e.zIndex,o=e.children,u=e.mobile;u=u===void 0?{}:u;var f=u.popupClassName,h=u.popupStyle,y=u.popupMotion,w=y===void 0?{}:y,T=u.popupRender,A=e.onClick,q=Fl.useRef();Fl.useImperativeHandle(t,function(){return{forceAlign:function(){},getElement:function(){return q.current}}});var z=Et({zIndex:i},h),F=o;return Fl.Children.count(o)>1&&(F=Fl.createElement("div",{className:"".concat(r,"-content")},o)),T&&(F=T(F)),Fl.createElement(_0,Yr({visible:n,ref:q,removeOnLeave:!0},w),function(N,L){var B=N.className,Z=N.style,te=(0,n3e.default)(r,f,B);return Fl.createElement("div",{ref:L,className:te,onClick:A,style:Et(Et({},Z),z)},F)})});i3e.displayName="MobilePopupInner";var o3e=i3e;var FJt=["visible","mobile"],a3e=km.forwardRef(function(e,t){var r=e.visible,n=e.mobile,i=ba(e,FJt),o=(0,xS.useState)(r),u=yn(o,2),f=u[0],h=u[1],y=(0,xS.useState)(!1),w=yn(y,2),T=w[0],A=w[1],q=Et(Et({},i),{},{visible:f});(0,xS.useEffect)(function(){h(r),r&&n&&A(HDe())},[r,n]);var z=T?km.createElement(o3e,Yr({},q,{mobile:n,ref:t})):km.createElement(r3e,Yr({},q,{ref:t}));return km.createElement("div",null,km.createElement(q$,q),z)});a3e.displayName="Popup";var s3e=a3e;var l3e=ne(Ve()),jJt=l3e.createContext(null),Y$=jJt;function X$(){}function BJt(){return""}function VJt(e){return e?e.ownerDocument:window.document}var UJt=["onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur","onContextMenu"];function $Jt(e){var t=function(r){Go(i,r);var n=Wo(i);function i(o){var u;$o(this,i),u=n.call(this,o),ft(Er(u),"popupRef",Ks.createRef()),ft(Er(u),"triggerRef",Ks.createRef()),ft(Er(u),"portalContainer",void 0),ft(Er(u),"attachId",void 0),ft(Er(u),"clickOutsideHandler",void 0),ft(Er(u),"touchOutsideHandler",void 0),ft(Er(u),"contextMenuOutsideHandler1",void 0),ft(Er(u),"contextMenuOutsideHandler2",void 0),ft(Er(u),"mouseDownTimeout",void 0),ft(Er(u),"focusTime",void 0),ft(Er(u),"preClickTime",void 0),ft(Er(u),"preTouchTime",void 0),ft(Er(u),"delayTimer",void 0),ft(Er(u),"hasPopupMouseDown",void 0),ft(Er(u),"onMouseEnter",function(h){var y=u.props.mouseEnterDelay;u.fireEvents("onMouseEnter",h),u.delaySetPopupVisible(!0,y,y?null:h)}),ft(Er(u),"onMouseMove",function(h){u.fireEvents("onMouseMove",h),u.setPoint(h)}),ft(Er(u),"onMouseLeave",function(h){u.fireEvents("onMouseLeave",h),u.delaySetPopupVisible(!1,u.props.mouseLeaveDelay)}),ft(Er(u),"onPopupMouseEnter",function(){u.clearDelayTimer()}),ft(Er(u),"onPopupMouseLeave",function(h){var y;h.relatedTarget&&!h.relatedTarget.setTimeout&&Om((y=u.popupRef.current)===null||y===void 0?void 0:y.getElement(),h.relatedTarget)||u.delaySetPopupVisible(!1,u.props.mouseLeaveDelay)}),ft(Er(u),"onFocus",function(h){u.fireEvents("onFocus",h),u.clearDelayTimer(),u.isFocusToShow()&&(u.focusTime=Date.now(),u.delaySetPopupVisible(!0,u.props.focusDelay))}),ft(Er(u),"onMouseDown",function(h){u.fireEvents("onMouseDown",h),u.preClickTime=Date.now()}),ft(Er(u),"onTouchStart",function(h){u.fireEvents("onTouchStart",h),u.preTouchTime=Date.now()}),ft(Er(u),"onBlur",function(h){u.fireEvents("onBlur",h),u.clearDelayTimer(),u.isBlurToHide()&&u.delaySetPopupVisible(!1,u.props.blurDelay)}),ft(Er(u),"onContextMenu",function(h){h.preventDefault(),u.fireEvents("onContextMenu",h),u.setPopupVisible(!0,h)}),ft(Er(u),"onContextMenuClose",function(){u.isContextMenuToShow()&&u.close()}),ft(Er(u),"onClick",function(h){if(u.fireEvents("onClick",h),u.focusTime){var y;if(u.preClickTime&&u.preTouchTime?y=Math.min(u.preClickTime,u.preTouchTime):u.preClickTime?y=u.preClickTime:u.preTouchTime&&(y=u.preTouchTime),Math.abs(y-u.focusTime)<20)return;u.focusTime=0}u.preClickTime=0,u.preTouchTime=0,u.isClickToShow()&&(u.isClickToHide()||u.isBlurToHide())&&h&&h.preventDefault&&h.preventDefault();var w=!u.state.popupVisible;(u.isClickToHide()&&!w||w&&u.isClickToShow())&&u.setPopupVisible(!u.state.popupVisible,h)}),ft(Er(u),"onPopupMouseDown",function(){if(u.hasPopupMouseDown=!0,clearTimeout(u.mouseDownTimeout),u.mouseDownTimeout=window.setTimeout(function(){u.hasPopupMouseDown=!1},0),u.context){var h;(h=u.context).onPopupMouseDown.apply(h,arguments)}}),ft(Er(u),"onDocumentClick",function(h){if(!(u.props.mask&&!u.props.maskClosable)){var y=h.target,w=u.getRootDomNode(),T=u.getPopupDomNode();(!Om(w,y)||u.isContextMenuOnly())&&!Om(T,y)&&!u.hasPopupMouseDown&&u.close()}}),ft(Er(u),"getRootDomNode",function(){var h=u.props.getTriggerDOMNode;if(h)return h(u.triggerRef.current);try{var y=pS(u.triggerRef.current);if(y)return y}catch(w){}return u3e.default.findDOMNode(Er(u))}),ft(Er(u),"getPopupClassNameFromAlign",function(h){var y=[],w=u.props,T=w.popupPlacement,A=w.builtinPlacements,q=w.prefixCls,z=w.alignPoint,F=w.getPopupClassNameFromAlign;return T&&A&&y.push($De(A,q,h,z)),F&&y.push(F(h)),y.join(" ")}),ft(Er(u),"getComponent",function(){var h=u.props,y=h.prefixCls,w=h.destroyPopupOnHide,T=h.popupClassName,A=h.onPopupAlign,q=h.popupMotion,z=h.popupAnimation,F=h.popupTransitionName,N=h.popupStyle,L=h.mask,B=h.maskAnimation,Z=h.maskTransitionName,te=h.maskMotion,ue=h.zIndex,ce=h.popup,ye=h.stretch,Ne=h.alignPoint,Se=h.mobile,Be=h.forceRender,He=h.onPopupClick,Xe=u.state,$e=Xe.popupVisible,Qe=Xe.point,ot=u.getPopupAlign(),ze={};return u.isMouseEnterToShow()&&(ze.onMouseEnter=u.onPopupMouseEnter),u.isMouseLeaveToHide()&&(ze.onMouseLeave=u.onPopupMouseLeave),ze.onMouseDown=u.onPopupMouseDown,ze.onTouchStart=u.onPopupMouseDown,Ks.createElement(s3e,Yr({prefixCls:y,destroyPopupOnHide:w,visible:$e,point:Ne&&Qe,className:T,align:ot,onAlign:A,animation:z,getClassNameFromAlign:u.getPopupClassNameFromAlign},ze,{stretch:ye,getRootDomNode:u.getRootDomNode,style:N,mask:L,zIndex:ue,transitionName:F,maskAnimation:B,maskTransitionName:Z,maskMotion:te,ref:u.popupRef,motion:q,mobile:Se,forceRender:Be,onClick:He}),typeof ce=="function"?ce():ce)}),ft(Er(u),"attachParent",function(h){_s.cancel(u.attachId);var y=u.props,w=y.getPopupContainer,T=y.getDocument,A=u.getRootDomNode(),q;w?(A||w.length===0)&&(q=w(A)):q=T(u.getRootDomNode()).body,q?q.appendChild(h):u.attachId=_s(function(){u.attachParent(h)})}),ft(Er(u),"getContainer",function(){if(!u.portalContainer){var h=u.props.getDocument,y=h(u.getRootDomNode()).createElement("div");y.style.position="absolute",y.style.top="0",y.style.left="0",y.style.width="100%",u.portalContainer=y}return u.attachParent(u.portalContainer),u.portalContainer}),ft(Er(u),"setPoint",function(h){var y=u.props.alignPoint;!y||!h||u.setState({point:{pageX:h.pageX,pageY:h.pageY}})}),ft(Er(u),"handlePortalUpdate",function(){u.state.prevPopupVisible!==u.state.popupVisible&&u.props.afterPopupVisibleChange(u.state.popupVisible)}),ft(Er(u),"triggerContextValue",{onPopupMouseDown:u.onPopupMouseDown});var f;return"popupVisible"in o?f=!!o.popupVisible:f=!!o.defaultPopupVisible,u.state={prevPopupVisible:f,popupVisible:f},UJt.forEach(function(h){u["fire".concat(h)]=function(y){u.fireEvents(h,y)}}),u}return Ho(i,[{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){var u=this.props,f=this.state;if(f.popupVisible){var h;!this.clickOutsideHandler&&(this.isClickToHide()||this.isContextMenuToShow())&&(h=u.getDocument(this.getRootDomNode()),this.clickOutsideHandler=ja(h,"mousedown",this.onDocumentClick)),this.touchOutsideHandler||(h=h||u.getDocument(this.getRootDomNode()),this.touchOutsideHandler=ja(h,"touchstart",this.onDocumentClick)),!this.contextMenuOutsideHandler1&&this.isContextMenuToShow()&&(h=h||u.getDocument(this.getRootDomNode()),this.contextMenuOutsideHandler1=ja(h,"scroll",this.onContextMenuClose)),!this.contextMenuOutsideHandler2&&this.isContextMenuToShow()&&(this.contextMenuOutsideHandler2=ja(window,"blur",this.onContextMenuClose));return}this.clearOutsideHandler()}},{key:"componentWillUnmount",value:function(){this.clearDelayTimer(),this.clearOutsideHandler(),clearTimeout(this.mouseDownTimeout),_s.cancel(this.attachId)}},{key:"getPopupDomNode",value:function(){var u;return((u=this.popupRef.current)===null||u===void 0?void 0:u.getElement())||null}},{key:"getPopupAlign",value:function(){var u=this.props,f=u.popupPlacement,h=u.popupAlign,y=u.builtinPlacements;return f&&y?UDe(y,f,h):h}},{key:"setPopupVisible",value:function(u,f){var h=this.props.alignPoint,y=this.state.popupVisible;this.clearDelayTimer(),y!==u&&("popupVisible"in this.props||this.setState({popupVisible:u,prevPopupVisible:y}),this.props.onPopupVisibleChange(u)),h&&f&&u&&this.setPoint(f)}},{key:"delaySetPopupVisible",value:function(u,f,h){var y=this,w=f*1e3;if(this.clearDelayTimer(),w){var T=h?{pageX:h.pageX,pageY:h.pageY}:null;this.delayTimer=window.setTimeout(function(){y.setPopupVisible(u,T),y.clearDelayTimer()},w)}else this.setPopupVisible(u,h)}},{key:"clearDelayTimer",value:function(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)}},{key:"clearOutsideHandler",value:function(){this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.clickOutsideHandler=null),this.contextMenuOutsideHandler1&&(this.contextMenuOutsideHandler1.remove(),this.contextMenuOutsideHandler1=null),this.contextMenuOutsideHandler2&&(this.contextMenuOutsideHandler2.remove(),this.contextMenuOutsideHandler2=null),this.touchOutsideHandler&&(this.touchOutsideHandler.remove(),this.touchOutsideHandler=null)}},{key:"createTwoChains",value:function(u){var f=this.props.children.props,h=this.props;return f[u]&&h[u]?this["fire".concat(u)]:f[u]||h[u]}},{key:"isClickToShow",value:function(){var u=this.props,f=u.action,h=u.showAction;return f.indexOf("click")!==-1||h.indexOf("click")!==-1}},{key:"isContextMenuOnly",value:function(){var u=this.props.action;return u==="contextMenu"||u.length===1&&u[0]==="contextMenu"}},{key:"isContextMenuToShow",value:function(){var u=this.props,f=u.action,h=u.showAction;return f.indexOf("contextMenu")!==-1||h.indexOf("contextMenu")!==-1}},{key:"isClickToHide",value:function(){var u=this.props,f=u.action,h=u.hideAction;return f.indexOf("click")!==-1||h.indexOf("click")!==-1}},{key:"isMouseEnterToShow",value:function(){var u=this.props,f=u.action,h=u.showAction;return f.indexOf("hover")!==-1||h.indexOf("mouseEnter")!==-1}},{key:"isMouseLeaveToHide",value:function(){var u=this.props,f=u.action,h=u.hideAction;return f.indexOf("hover")!==-1||h.indexOf("mouseLeave")!==-1}},{key:"isFocusToShow",value:function(){var u=this.props,f=u.action,h=u.showAction;return f.indexOf("focus")!==-1||h.indexOf("focus")!==-1}},{key:"isBlurToHide",value:function(){var u=this.props,f=u.action,h=u.hideAction;return f.indexOf("focus")!==-1||h.indexOf("blur")!==-1}},{key:"forcePopupAlign",value:function(){if(this.state.popupVisible){var u;(u=this.popupRef.current)===null||u===void 0||u.forceAlign()}}},{key:"fireEvents",value:function(u,f){var h=this.props.children.props[u];h&&h(f);var y=this.props[u];y&&y(f)}},{key:"close",value:function(){this.setPopupVisible(!1)}},{key:"render",value:function(){var u=this.state.popupVisible,f=this.props,h=f.children,y=f.forceRender,w=f.alignPoint,T=f.className,A=f.autoDestroy,q=Ks.Children.only(h),z={key:"trigger"};this.isContextMenuToShow()?z.onContextMenu=this.onContextMenu:z.onContextMenu=this.createTwoChains("onContextMenu"),this.isClickToHide()||this.isClickToShow()?(z.onClick=this.onClick,z.onMouseDown=this.onMouseDown,z.onTouchStart=this.onTouchStart):(z.onClick=this.createTwoChains("onClick"),z.onMouseDown=this.createTwoChains("onMouseDown"),z.onTouchStart=this.createTwoChains("onTouchStart")),this.isMouseEnterToShow()?(z.onMouseEnter=this.onMouseEnter,w&&(z.onMouseMove=this.onMouseMove)):z.onMouseEnter=this.createTwoChains("onMouseEnter"),this.isMouseLeaveToHide()?z.onMouseLeave=this.onMouseLeave:z.onMouseLeave=this.createTwoChains("onMouseLeave"),this.isFocusToShow()||this.isBlurToHide()?(z.onFocus=this.onFocus,z.onBlur=this.onBlur):(z.onFocus=this.createTwoChains("onFocus"),z.onBlur=this.createTwoChains("onBlur"));var F=(0,c3e.default)(q&&q.props&&q.props.className,T);F&&(z.className=F);var N=Et({},z);RO(q)&&(N.ref=g0(this.triggerRef,q.ref));var L=Ks.cloneElement(q,N),B;return(u||this.popupRef.current||y)&&(B=Ks.createElement(e,{key:"portal",getContainer:this.getContainer,didUpdate:this.handlePortalUpdate},this.getComponent())),!u&&A&&(B=null),Ks.createElement(Y$.Provider,{value:this.triggerContextValue},L,B)}}],[{key:"getDerivedStateFromProps",value:function(u,f){var h=u.popupVisible,y={};return h!==void 0&&f.popupVisible!==h&&(y.popupVisible=h,y.prevPopupVisible=f.popupVisible),y}}]),i}(Ks.Component);return ft(t,"contextType",Y$),ft(t,"defaultProps",{prefixCls:"rc-trigger-popup",getPopupClassNameFromAlign:BJt,getDocument:VJt,onPopupVisibleChange:X$,afterPopupVisibleChange:X$,onPopupAlign:X$,popupClassName:"",mouseEnterDelay:0,mouseLeaveDelay:.1,focusDelay:0,blurDelay:.15,popupStyle:{},destroyPopupOnHide:!1,popupAlign:{},defaultPopupVisible:!1,mask:!1,maskClosable:!0,action:[],showAction:[],hideAction:[],autoDestroy:!1}),t}var p3e=$Jt(VDe);var jl={adjustX:1,adjustY:1},Bl=[0,0],d3e={left:{points:["cr","cl"],overflow:jl,offset:[-4,0],targetOffset:Bl},right:{points:["cl","cr"],overflow:jl,offset:[4,0],targetOffset:Bl},top:{points:["bc","tc"],overflow:jl,offset:[0,-4],targetOffset:Bl},bottom:{points:["tc","bc"],overflow:jl,offset:[0,4],targetOffset:Bl},topLeft:{points:["bl","tl"],overflow:jl,offset:[0,-4],targetOffset:Bl},leftTop:{points:["tr","tl"],overflow:jl,offset:[-4,0],targetOffset:Bl},topRight:{points:["br","tr"],overflow:jl,offset:[0,-4],targetOffset:Bl},rightTop:{points:["tl","tr"],overflow:jl,offset:[4,0],targetOffset:Bl},bottomRight:{points:["tr","br"],overflow:jl,offset:[0,4],targetOffset:Bl},rightBottom:{points:["bl","br"],overflow:jl,offset:[4,0],targetOffset:Bl},bottomLeft:{points:["tl","bl"],overflow:jl,offset:[0,4],targetOffset:Bl},leftBottom:{points:["br","bl"],overflow:jl,offset:[-4,0],targetOffset:Bl}};var sR=ne(Ve()),f3e=ne($r());function lR(e){var t=e.showArrow,r=e.arrowContent,n=e.children,i=e.prefixCls,o=e.id,u=e.overlayInnerStyle,f=e.className,h=e.style;return sR.createElement("div",{className:(0,f3e.default)("".concat(i,"-content"),f),style:h},t!==!1&&sR.createElement("div",{className:"".concat(i,"-arrow"),key:"arrow"},r),sR.createElement("div",{className:"".concat(i,"-inner"),id:o,role:"tooltip",style:u},typeof n=="function"?n():n))}var HJt=["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle","arrowContent","overlay","id","showArrow"],GJt=function(t,r){var n=t.overlayClassName,i=t.trigger,o=i===void 0?["hover"]:i,u=t.mouseEnterDelay,f=u===void 0?0:u,h=t.mouseLeaveDelay,y=h===void 0?.1:h,w=t.overlayStyle,T=t.prefixCls,A=T===void 0?"rc-tooltip":T,q=t.children,z=t.onVisibleChange,F=t.afterVisibleChange,N=t.transitionName,L=t.animation,B=t.motion,Z=t.placement,te=Z===void 0?"right":Z,ue=t.align,ce=ue===void 0?{}:ue,ye=t.destroyTooltipOnHide,Ne=ye===void 0?!1:ye,Se=t.defaultVisible,Be=t.getTooltipContainer,He=t.overlayInnerStyle,Xe=t.arrowContent,$e=t.overlay,Qe=t.id,ot=t.showArrow,ze=ot===void 0?!0:ot,ke=ba(t,HJt),je=(0,I0.useRef)(null);(0,I0.useImperativeHandle)(r,function(){return je.current});var lt=Et({},ke);"visible"in t&&(lt.popupVisible=t.visible);var ut=function(){return J$.createElement(lR,{showArrow:ze,arrowContent:Xe,key:"content",prefixCls:A,id:Qe,overlayInnerStyle:He},$e)},vt=!1,Fe=!1;if(typeof Ne=="boolean")vt=Ne;else if(Ne&&An(Ne)==="object"){var We=Ne.keepParent;vt=We===!0,Fe=We===!1}return J$.createElement(p3e,Yr({popupClassName:n,prefixCls:A,popup:ut,action:o,builtinPlacements:d3e,popupPlacement:te,ref:je,popupAlign:ce,getPopupContainer:Be,onPopupVisibleChange:z,afterPopupVisibleChange:F,popupTransitionName:N,popupAnimation:L,popupMotion:B,defaultPopupVisible:Se,destroyPopupOnHide:vt,autoDestroy:Fe,mouseLeaveDelay:y,popupStyle:w,mouseEnterDelay:f},lt),q)},h3e=(0,I0.forwardRef)(GJt);var m3e=h3e;var WJt=qp.forwardRef(function(e,t){var r=e.visible,n=e.overlay,i=qp.useRef(null),o=g0(t,i),u=qp.useRef(null);function f(){_s.cancel(u.current)}function h(){u.current=_s(function(){var y;(y=i.current)===null||y===void 0||y.forcePopupAlign()})}return qp.useEffect(function(){return r?h():f(),f},[r,n]),qp.createElement(m3e,Yr({ref:o},e))}),Q$=WJt;function eH(e){var t;return t=function(r){Go(i,r);var n=Wo(i);function i(){var o;return $o(this,i),o=n.apply(this,arguments),o.state={visibles:{}},o.handleTooltipVisibleChange=function(u,f){o.setState(function(h){return{visibles:Et(Et({},h.visibles),{},ft({},u,f))}})},o.handleWithTooltip=function(u){var f=u.value,h=u.dragging,y=u.index,w=u.disabled,T=ba(u,["value","dragging","index","disabled"]),A=o.props,q=A.tipFormatter,z=A.tipProps,F=A.handleStyle,N=A.getTooltipContainer,L=z.prefixCls,B=L===void 0?"rc-slider-tooltip":L,Z=z.overlay,te=Z===void 0?q(f):Z,ue=z.placement,ce=ue===void 0?"top":ue,ye=z.visible,Ne=ye===void 0?!1:ye,Se=ba(z,["prefixCls","overlay","placement","visible"]),Be;return Array.isArray(F)?Be=F[y]||F[0]:Be=F,wS.default.createElement(Q$,Yr({},Se,{getTooltipContainer:N,prefixCls:B,overlay:te,placement:ce,visible:!w&&(o.state.visibles[y]||h)||Ne,key:y}),wS.default.createElement(m0,Yr({},T,{style:Et({},Be),value:f,onMouseEnter:function(){return o.handleTooltipVisibleChange(y,!0)},onMouseLeave:function(){return o.handleTooltipVisibleChange(y,!1)}})))},o}return Ho(i,[{key:"render",value:function(){return wS.default.createElement(e,Yr({},this.props,{handle:this.handleWithTooltip}))}}]),i}(wS.default.Component),t.defaultProps={tipFormatter:function(n){return n},handleStyle:[{}],tipProps:{},getTooltipContainer:function(n){return n.parentNode}},t}var tH=MDe;tH.Range=xO;tH.Handle=m0;tH.createSliderWithTooltip=eH;var nH=e=>{let{timeRange:t}=e,[r,n]=sn(TM),[i,o]=(0,eo.useState)(t),[u,f]=(0,eo.useState)(!1),h=(0,eo.useRef)(),y=(0,eo.useRef)(),w=(0,eo.useRef)(),T=[y,h],A=(0,eo.useCallback)(function(){let q;T.forEach((z,F)=>{let N=z.current,L=i[F],B=(L-t[0])/(t[1]-t[0])*100;N.style.left=B+"%",N.innerHTML=L,q!==void 0&&Math.abs(B-q)<12?f(!0):f(!1),q=B})},[i,t]);return(0,eo.useEffect)(()=>{A()},[A,i]),(0,eo.useEffect)(()=>{(r[0]!==i[0]||r[1]!==i[1])&&o(r)},[r]),eo.default.createElement("div",{className:"timeslider-container"},eo.default.createElement("label",null,et("timeslider-adjust-timeperiod")),eo.default.createElement("div",{className:`slider-container ${u?"labels-too-close":""}`},eo.default.createElement(xO,{allowCross:!1,ariaLabelledByGroupForHandles:["min-value","max-value"],min:t[0],max:t[1],onChange:q=>{o(q)},onAfterChange:q=>{o(q),n(q)},ref:w,value:i}),eo.default.createElement("div",{className:"tooltip min-value",id:"min-value",ref:y},i[0]),eo.default.createElement("div",{className:"tooltip max-value",id:"max-value",ref:h},i[1])))};nH.defaultProps={timeRange:[1850,1970]};nH.propTypes={timeRange:rH.default.arrayOf(rH.default.number)};var v3e=nH;var yR=ne(Ve(),1);var Lm=ne(Ve(),1),YH=ne(Xt(),1);var Va=ne(Ve(),1);var At=ne(Xt()),yt=ne(Ve()),iQt=ne(I3e());function E3e(e){return typeof e=="object"&&e!=null&&e.nodeType===1}function T3e(e,t){return(!t||e!=="hidden")&&e!=="visible"&&e!=="clip"}function oH(e,t){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var r=getComputedStyle(e,null);return T3e(r.overflowY,t)||T3e(r.overflowX,t)||function(n){var i=function(o){if(!o.ownerDocument||!o.ownerDocument.defaultView)return null;try{return o.ownerDocument.defaultView.frameElement}catch(u){return null}}(n);return!!i&&(i.clientHeight<n.scrollHeight||i.clientWidth<n.scrollWidth)}(e)}return!1}function pR(e,t,r,n,i,o,u,f){return o<e&&u>t||o>e&&u<t?0:o<=e&&f<=r||u>=t&&f>=r?o-e-n:u>t&&f<r||o<e&&f>r?u-t+i:0}var A3e=function(e,t){var r=window,n=t.scrollMode,i=t.block,o=t.inline,u=t.boundary,f=t.skipOverflowHiddenElements,h=typeof u=="function"?u:function(xe){return xe!==u};if(!E3e(e))throw new TypeError("Invalid target");for(var y,w,T=document.scrollingElement||document.documentElement,A=[],q=e;E3e(q)&&h(q);){if((q=(w=(y=q).parentElement)==null?y.getRootNode().host||null:w)===T){A.push(q);break}q!=null&&q===document.body&&oH(q)&&!oH(document.documentElement)||q!=null&&oH(q,f)&&A.push(q)}for(var z=r.visualViewport?r.visualViewport.width:innerWidth,F=r.visualViewport?r.visualViewport.height:innerHeight,N=window.scrollX||pageXOffset,L=window.scrollY||pageYOffset,B=e.getBoundingClientRect(),Z=B.height,te=B.width,ue=B.top,ce=B.right,ye=B.bottom,Ne=B.left,Se=i==="start"||i==="nearest"?ue:i==="end"?ye:ue+Z/2,Be=o==="center"?Ne+te/2:o==="end"?ce:Ne,He=[],Xe=0;Xe<A.length;Xe++){var $e=A[Xe],Qe=$e.getBoundingClientRect(),ot=Qe.height,ze=Qe.width,ke=Qe.top,je=Qe.right,lt=Qe.bottom,ut=Qe.left;if(n==="if-needed"&&ue>=0&&Ne>=0&&ye<=F&&ce<=z&&ue>=ke&&ye<=lt&&Ne>=ut&&ce<=je)return He;var vt=getComputedStyle($e),Fe=parseInt(vt.borderLeftWidth,10),We=parseInt(vt.borderTopWidth,10),it=parseInt(vt.borderRightWidth,10),Pe=parseInt(vt.borderBottomWidth,10),he=0,Re=0,Te="offsetWidth"in $e?$e.offsetWidth-$e.clientWidth-Fe-it:0,Ke="offsetHeight"in $e?$e.offsetHeight-$e.clientHeight-We-Pe:0,Ge="offsetWidth"in $e?$e.offsetWidth===0?0:ze/$e.offsetWidth:0,wt="offsetHeight"in $e?$e.offsetHeight===0?0:ot/$e.offsetHeight:0;if(T===$e)he=i==="start"?Se:i==="end"?Se-F:i==="nearest"?pR(L,L+F,F,We,Pe,L+Se,L+Se+Z,Z):Se-F/2,Re=o==="start"?Be:o==="center"?Be-z/2:o==="end"?Be-z:pR(N,N+z,z,Fe,it,N+Be,N+Be+te,te),he=Math.max(0,he+L),Re=Math.max(0,Re+N);else{he=i==="start"?Se-ke-We:i==="end"?Se-lt+Pe+Ke:i==="nearest"?pR(ke,lt,ot,We,Pe+Ke,Se,Se+Z,Z):Se-(ke+ot/2)+Ke/2,Re=o==="start"?Be-ut-Fe:o==="center"?Be-(ut+ze/2)+Te/2:o==="end"?Be-je+it+Te:pR(ut,je,ze,Fe,it+Te,Be,Be+te,te);var St=$e.scrollLeft,Ot=$e.scrollTop;Se+=Ot-(he=Math.max(0,Math.min(Ot+he/wt,$e.scrollHeight-ot/wt+Ke))),Be+=St-(Re=Math.max(0,Math.min(St+Re/Ge,$e.scrollWidth-ze/Ge+Te)))}He.push({el:$e,top:he,left:Re})}return He};var RS=function(){return RS=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},RS.apply(this,arguments)};var oQt=0;function LS(){}function aQt(e,t){if(!e)return;A3e(e,{boundary:t,block:"nearest",scrollMode:"if-needed"}).forEach(n=>{let{el:i,top:o,left:u}=n;i.scrollTop=o,i.scrollLeft=u})}function C3e(e,t,r){return e===t||t instanceof r.Node&&e.contains&&e.contains(t)}function sH(e,t){let r;function n(){r&&clearTimeout(r)}function i(){for(var o=arguments.length,u=new Array(o),f=0;f<o;f++)u[f]=arguments[f];n(),r=setTimeout(()=>{r=null,e(...u)},t)}return i.cancel=n,i}function to(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){for(var i=arguments.length,o=new Array(i>1?i-1:0),u=1;u<i;u++)o[u-1]=arguments[u];return t.some(f=>(f&&f(n,...o),n.preventDownshiftDefault||n.hasOwnProperty("nativeEvent")&&n.nativeEvent.preventDownshiftDefault))}}function vc(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n=>{t.forEach(i=>{typeof i=="function"?i(n):i&&(i.current=n)})}}function sQt(){return String(oQt++)}function lQt(e){let{isOpen:t,resultCount:r,previousResultCount:n}=e;return t?r?r!==n?`${r} result${r===1?" is":"s are"} available, use up and down arrow keys to navigate. Press Enter key to select.`:"":"No results are available.":""}function dR(e,t){return Object.keys(e).reduce((r,n)=>(r[n]=k3e(t,n)?t[n]:e[n],r),{})}function k3e(e,t){return e[t]!==void 0}function kS(e){let{key:t,keyCode:r}=e;return r>=37&&r<=40&&t.indexOf("Arrow")!==0?`Arrow${t}`:t}function DS(e,t,r,n,i){if(i===void 0&&(i=!0),r===0)return-1;let o=r-1;(typeof t!="number"||t<0||t>=r)&&(t=e>0?-1:o+1);let u=t+e;u<0?u=i?o:0:u>o&&(u=i?0:o);let f=Dm(e,u,r,n,i);return f===-1?t>=r?-1:t:f}function Dm(e,t,r,n,i){let o=n(t);if(!o||!o.hasAttribute("disabled"))return t;if(e>0){for(let u=t+1;u<r;u++)if(!n(u).hasAttribute("disabled"))return u}else for(let u=t-1;u>=0;u--)if(!n(u).hasAttribute("disabled"))return u;return i?e>0?Dm(1,0,r,n,!1):Dm(-1,r-1,r,n,!1):-1}function M3e(e,t,r,n){return n===void 0&&(n=!0),t.some(i=>i&&(C3e(i,e,r)||n&&C3e(i,r.document.activeElement,r)))}var uQt=sH(e=>{L3e(e).textContent=""},500);function D3e(e,t){let r=L3e(t);e&&(r.textContent=e,uQt(t))}function L3e(e){e===void 0&&(e=document);let t=e.getElementById("a11y-status-message");return t||(t=e.createElement("div"),t.setAttribute("id","a11y-status-message"),t.setAttribute("role","status"),t.setAttribute("aria-live","polite"),t.setAttribute("aria-relevant","additions text"),Object.assign(t.style,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px"}),e.body.appendChild(t),t)}var z3e={highlightedIndex:-1,isOpen:!1,selectedItem:null,inputValue:""};function cQt(e,t,r){let{props:n,type:i}=e,o={};Object.keys(t).forEach(u=>{pQt(u,e,t,r),r[u]!==t[u]&&(o[u]=r[u])}),n.onStateChange&&Object.keys(o).length&&n.onStateChange(tt({type:i},o))}function pQt(e,t,r,n){let{props:i,type:o}=t,u=`on${uH(e)}Change`;i[u]&&n[e]!==void 0&&n[e]!==r[e]&&i[u](tt({type:o},n))}function dQt(e,t){return t.changes}function fQt(e){let{selectedItem:t,itemToString:r}=e;return t?`${r(t)} has been selected.`:""}var hQt=sH((e,t)=>{D3e(e(),t)},200),mQt=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined"?yt.useLayoutEffect:yt.useEffect;function F3e(e){let{id:t=`downshift-${sQt()}`,labelId:r,menuId:n,getItemId:i,toggleButtonId:o,inputId:u}=e;return(0,yt.useRef)({labelId:r||`${t}-label`,menuId:n||`${t}-menu`,getItemId:i||(h=>`${t}-item-${h}`),toggleButtonId:o||`${t}-toggle-button`,inputId:u||`${t}-input`}).current}function lH(e,t,r){return e!==void 0?e:r.length===0?-1:r.indexOf(t)}function vQt(e){return e?String(e):""}function P3e(e){return /^\S{1}$/.test(e)}function uH(e){return`${e.slice(0,1).toUpperCase()}${e.slice(1)}`}function vR(e){let t=(0,yt.useRef)(e);return t.current=e,t}function j3e(e,t,r){let n=(0,yt.useRef)(),i=(0,yt.useRef)(),o=(0,yt.useCallback)((T,A)=>{i.current=A,T=dR(T,A.props);let q=e(T,A);return A.props.stateReducer(T,Lr(tt({},A),{changes:q}))},[e]),[u,f]=(0,yt.useReducer)(o,t),h=vR(r),y=(0,yt.useCallback)(T=>f(tt({props:h.current},T)),[h]),w=i.current;return(0,yt.useEffect)(()=>{w&&n.current&&n.current!==u&&cQt(w,dR(n.current,w.props),u),n.current=u},[u,r,w]),[u,y]}function B3e(e,t,r){let[n,i]=j3e(e,t,r);return[dR(n,r),i]}var NS={itemToString:vQt,stateReducer:dQt,getA11ySelectionMessage:fQt,scrollIntoView:aQt,circularNavigation:!1,environment:typeof window=="undefined"?{}:window};function Ba(e,t,r){r===void 0&&(r=z3e);let n=e[`default${uH(t)}`];return n!==void 0?n:r[t]}function qS(e,t,r){r===void 0&&(r=z3e);let n=e[t];if(n!==void 0)return n;let i=e[`initial${uH(t)}`];return i!==void 0?i:Ba(e,t,r)}function V3e(e){let t=qS(e,"selectedItem"),r=qS(e,"isOpen"),n=qS(e,"highlightedIndex"),i=qS(e,"inputValue");return{highlightedIndex:n<0&&t&&r?e.items.indexOf(t):n,isOpen:r,selectedItem:t,inputValue:i}}function E0(e,t,r,n){let{items:i,initialHighlightedIndex:o,defaultHighlightedIndex:u}=e,{selectedItem:f,highlightedIndex:h}=t;return i.length===0?-1:o!==void 0&&h===o?o:u!==void 0?u:f?r===0?i.indexOf(f):DS(r,i.indexOf(f),i.length,n,!1):r===0?-1:r<0?i.length-1:0}function U3e(e,t,r,n){let i=(0,yt.useRef)({isMouseDown:!1,isTouchMove:!1});return(0,yt.useEffect)(()=>{let o=()=>{i.current.isMouseDown=!0},u=w=>{i.current.isMouseDown=!1,e&&!M3e(w.target,t.map(T=>T.current),r)&&n()},f=()=>{i.current.isTouchMove=!1},h=()=>{i.current.isTouchMove=!0},y=w=>{e&&!i.current.isTouchMove&&!M3e(w.target,t.map(T=>T.current),r,!1)&&n()};return r.addEventListener("mousedown",o),r.addEventListener("mouseup",u),r.addEventListener("touchstart",f),r.addEventListener("touchmove",h),r.addEventListener("touchend",y),function(){r.removeEventListener("mousedown",o),r.removeEventListener("mouseup",u),r.removeEventListener("touchstart",f),r.removeEventListener("touchmove",h),r.removeEventListener("touchend",y)}},[e,r]),i}var cH=()=>LS;function fR(e,t,r){let h=r,{isInitialMount:n,highlightedIndex:i,items:o,environment:u}=h,f=wn(h,["isInitialMount","highlightedIndex","items","environment"]);(0,yt.useEffect)(()=>{n||hQt(()=>e(tt({highlightedIndex:i,highlightedItem:o[i],resultCount:o.length},f)),u.document)},t)}function $3e(e){let{highlightedIndex:t,isOpen:r,itemRefs:n,getItemNodeFromIndex:i,menuElement:o,scrollIntoView:u}=e,f=(0,yt.useRef)(!0);return mQt(()=>{t<0||!r||!Object.keys(n.current).length||(f.current===!1?f.current=!0:u(i(t),o))},[t]),f}var pH=LS;function H3e(e,t,r){let{type:n,props:i}=t,o;switch(n){case r.ItemMouseMove:o={highlightedIndex:t.disabled?-1:t.index};break;case r.MenuMouseLeave:o={highlightedIndex:-1};break;case r.ToggleButtonClick:case r.FunctionToggleMenu:o={isOpen:!e.isOpen,highlightedIndex:e.isOpen?-1:E0(i,e,0)};break;case r.FunctionOpenMenu:o={isOpen:!0,highlightedIndex:E0(i,e,0)};break;case r.FunctionCloseMenu:o={isOpen:!1};break;case r.FunctionSetHighlightedIndex:o={highlightedIndex:t.highlightedIndex};break;case r.FunctionSetInputValue:o={inputValue:t.inputValue};break;case r.FunctionReset:o={highlightedIndex:Ba(i,"highlightedIndex"),isOpen:Ba(i,"isOpen"),selectedItem:Ba(i,"selectedItem"),inputValue:Ba(i,"inputValue")};break;default:throw new Error("Reducer called without proper action type.");}return tt(tt({},e),o)}function O3e(e){for(var t=e.keysSoFar,r=e.highlightedIndex,n=e.items,i=e.itemToString,o=e.getItemNodeFromIndex,u=t.toLowerCase(),f=0;f<n.length;f++){var h=(f+r+1)%n.length,y=n[h];if(y!==void 0&&i(y).toLowerCase().startsWith(u)){var w=o(h);if(!(w!=null&&w.hasAttribute("disabled")))return h}}return r}var YFr={items:At.default.array.isRequired,itemToString:At.default.func,getA11yStatusMessage:At.default.func,getA11ySelectionMessage:At.default.func,circularNavigation:At.default.bool,highlightedIndex:At.default.number,defaultHighlightedIndex:At.default.number,initialHighlightedIndex:At.default.number,isOpen:At.default.bool,defaultIsOpen:At.default.bool,initialIsOpen:At.default.bool,selectedItem:At.default.any,initialSelectedItem:At.default.any,defaultSelectedItem:At.default.any,id:At.default.string,labelId:At.default.string,menuId:At.default.string,getItemId:At.default.func,toggleButtonId:At.default.string,stateReducer:At.default.func,onSelectedItemChange:At.default.func,onHighlightedIndexChange:At.default.func,onStateChange:At.default.func,onIsOpenChange:At.default.func,environment:At.default.shape({addEventListener:At.default.func,removeEventListener:At.default.func,document:At.default.shape({getElementById:At.default.func,activeElement:At.default.any,body:At.default.any})})};function gQt(e){var t=e.isOpen,r=e.resultCount,n=e.previousResultCount;return t?r?r!==n?"".concat(r," result").concat(r===1?" is":"s are"," available, use up and down arrow keys to navigate. Press Enter or Space Bar keys to select."):"":"No results are available.":""}var yQt=RS(RS({},NS),{getA11yStatusMessage:gQt}),_Qt=LS,dH=0,fH=1,hH=2,mH=3,vH=4,gH=5,yH=6,_H=7,hR=8,G3e=9,W3e=10,bH=11,Z3e=12,xH=13,wH=14,SH=15,K3e=16,Y3e=17,X3e=18,J3e=19,IH=20,aH=21,Q3e=22,eLe=Object.freeze({__proto__:null,MenuKeyDownArrowDown:dH,MenuKeyDownArrowUp:fH,MenuKeyDownEscape:hH,MenuKeyDownHome:mH,MenuKeyDownEnd:vH,MenuKeyDownEnter:gH,MenuKeyDownSpaceButton:yH,MenuKeyDownCharacter:_H,MenuBlur:hR,MenuMouseLeave:G3e,ItemMouseMove:W3e,ItemClick:bH,ToggleButtonClick:Z3e,ToggleButtonKeyDownArrowDown:xH,ToggleButtonKeyDownArrowUp:wH,ToggleButtonKeyDownCharacter:SH,FunctionToggleMenu:K3e,FunctionOpenMenu:Y3e,FunctionCloseMenu:X3e,FunctionSetHighlightedIndex:J3e,FunctionSelectItem:IH,FunctionSetInputValue:aH,FunctionReset:Q3e});function bQt(e,t){let{type:r,props:n,shiftKey:i}=t,o;switch(r){case bH:o={isOpen:Ba(n,"isOpen"),highlightedIndex:Ba(n,"highlightedIndex"),selectedItem:n.items[t.index]};break;case SH:{let u=t.key,f=`${e.inputValue}${u}`,h=O3e({keysSoFar:f,highlightedIndex:e.selectedItem?n.items.indexOf(e.selectedItem):-1,items:n.items,itemToString:n.itemToString,getItemNodeFromIndex:t.getItemNodeFromIndex});o=tt({inputValue:f},h>=0&&{selectedItem:n.items[h]})}break;case xH:o={highlightedIndex:E0(n,e,1,t.getItemNodeFromIndex),isOpen:!0};break;case wH:o={highlightedIndex:E0(n,e,-1,t.getItemNodeFromIndex),isOpen:!0};break;case gH:case yH:o=tt({isOpen:Ba(n,"isOpen"),highlightedIndex:Ba(n,"highlightedIndex")},e.highlightedIndex>=0&&{selectedItem:n.items[e.highlightedIndex]});break;case mH:o={highlightedIndex:Dm(1,0,n.items.length,t.getItemNodeFromIndex,!1)};break;case vH:o={highlightedIndex:Dm(-1,n.items.length-1,n.items.length,t.getItemNodeFromIndex,!1)};break;case hH:o={isOpen:!1,highlightedIndex:-1};break;case hR:o={isOpen:!1,highlightedIndex:-1};break;case _H:{let u=t.key,f=`${e.inputValue}${u}`,h=O3e({keysSoFar:f,highlightedIndex:e.highlightedIndex,items:n.items,itemToString:n.itemToString,getItemNodeFromIndex:t.getItemNodeFromIndex});o=tt({inputValue:f},h>=0&&{highlightedIndex:h})}break;case dH:o={highlightedIndex:DS(i?5:1,e.highlightedIndex,n.items.length,t.getItemNodeFromIndex,n.circularNavigation)};break;case fH:o={highlightedIndex:DS(i?-5:-1,e.highlightedIndex,n.items.length,t.getItemNodeFromIndex,n.circularNavigation)};break;case IH:o={selectedItem:t.selectedItem};break;default:return H3e(e,t,eLe);}return tt(tt({},e),o)}tLe.stateChangeTypes=eLe;function tLe(e){e===void 0&&(e={}),_Qt(e,tLe);let t=tt(tt({},yQt),e),{items:r,scrollIntoView:n,environment:i,initialIsOpen:o,defaultIsOpen:u,itemToString:f,getA11ySelectionMessage:h,getA11yStatusMessage:y}=t,w=V3e(t),[T,A]=B3e(bQt,w,t),{isOpen:q,highlightedIndex:z,selectedItem:F,inputValue:N}=T,L=(0,yt.useRef)(null),B=(0,yt.useRef)(null),Z=(0,yt.useRef)({}),te=(0,yt.useRef)(!0),ue=(0,yt.useRef)(null),ce=F3e(t),ye=(0,yt.useRef)(),Ne=(0,yt.useRef)(!0),Se=vR({state:T,props:t}),Be=(0,yt.useCallback)(Re=>Z.current[ce.getItemId(Re)],[ce]);fR(y,[q,z,N,r],tt({isInitialMount:Ne.current,previousResultCount:ye.current,items:r,environment:i,itemToString:f},T)),fR(h,[F],tt({isInitialMount:Ne.current,previousResultCount:ye.current,items:r,environment:i,itemToString:f},T));let He=$3e({menuElement:B.current,highlightedIndex:z,isOpen:q,itemRefs:Z,scrollIntoView:n,getItemNodeFromIndex:Be});(0,yt.useEffect)(()=>(ue.current=sH(Re=>{Re({type:aH,inputValue:""})},500),()=>{ue.current.cancel()}),[]),(0,yt.useEffect)(()=>{N&&ue.current(A)},[A,N]),pH({isInitialMount:Ne.current,props:t,state:T}),(0,yt.useEffect)(()=>{if(Ne.current){(o||u||q)&&B.current&&B.current.focus();return}if(q){B.current&&B.current.focus();return}i.document.activeElement===B.current&&L.current&&(te.current=!1,L.current.focus())},[q]),(0,yt.useEffect)(()=>{Ne.current||(ye.current=r.length)});let Xe=U3e(q,[B,L],i,()=>{A({type:hR})}),$e=cH("getMenuProps","getToggleButtonProps");(0,yt.useEffect)(()=>{Ne.current=!1},[]),(0,yt.useEffect)(()=>{q||(Z.current={})},[q]);let Qe=(0,yt.useMemo)(()=>({ArrowDown(Re){Re.preventDefault(),A({type:xH,getItemNodeFromIndex:Be,shiftKey:Re.shiftKey})},ArrowUp(Re){Re.preventDefault(),A({type:wH,getItemNodeFromIndex:Be,shiftKey:Re.shiftKey})}}),[A,Be]),ot=(0,yt.useMemo)(()=>({ArrowDown(Re){Re.preventDefault(),A({type:dH,getItemNodeFromIndex:Be,shiftKey:Re.shiftKey})},ArrowUp(Re){Re.preventDefault(),A({type:fH,getItemNodeFromIndex:Be,shiftKey:Re.shiftKey})},Home(Re){Re.preventDefault(),A({type:mH,getItemNodeFromIndex:Be})},End(Re){Re.preventDefault(),A({type:vH,getItemNodeFromIndex:Be})},Escape(){A({type:hH})},Enter(Re){Re.preventDefault(),A({type:gH})}," "(Re){Re.preventDefault(),A({type:yH})}}),[A,Be]),ze=(0,yt.useCallback)(()=>{A({type:K3e})},[A]),ke=(0,yt.useCallback)(()=>{A({type:X3e})},[A]),je=(0,yt.useCallback)(()=>{A({type:Y3e})},[A]),lt=(0,yt.useCallback)(Re=>{A({type:J3e,highlightedIndex:Re})},[A]),ut=(0,yt.useCallback)(Re=>{A({type:IH,selectedItem:Re})},[A]),vt=(0,yt.useCallback)(()=>{A({type:Q3e})},[A]),Fe=(0,yt.useCallback)(Re=>{A({type:aH,inputValue:Re})},[A]),We=(0,yt.useCallback)(Re=>tt({id:ce.labelId,htmlFor:ce.toggleButtonId},Re),[ce]),it=(0,yt.useCallback)(function(Re,Te){let Bt=Re===void 0?{}:Re,{onMouseLeave:Ke,refKey:Ge="ref",onKeyDown:wt,onBlur:St,ref:Ot}=Bt,xe=wn(Bt,["onMouseLeave","refKey","onKeyDown","onBlur","ref"]),{suppressRefError:pt=!1}=Te===void 0?{}:Te,Ut=Se.current.state,ht=ur=>{let Fr=kS(ur);Fr&&ot[Fr]?ot[Fr](ur):P3e(Fr)&&A({type:_H,key:Fr,getItemNodeFromIndex:Be})},$t=()=>{if(te.current===!1){te.current=!0;return}!Xe.current.isMouseDown&&A({type:hR})},lr=()=>{A({type:G3e})};return $e("getMenuProps",pt,Ge,B),tt(Lr(tt({[Ge]:vc(Ot,ur=>{B.current=ur}),id:ce.menuId,role:"listbox","aria-labelledby":ce.labelId,tabIndex:-1},Ut.isOpen&&Ut.highlightedIndex>-1&&{"aria-activedescendant":ce.getItemId(Ut.highlightedIndex)}),{onMouseLeave:to(Ke,lr),onKeyDown:to(wt,ht),onBlur:to(St,$t)}),xe)},[A,Se,ot,Xe,$e,ce,Be]),Pe=(0,yt.useCallback)(function(Re,Te){let $t=Re===void 0?{}:Re,{onClick:Ke,onKeyDown:Ge,refKey:wt="ref",ref:St}=$t,Ot=wn($t,["onClick","onKeyDown","refKey","ref"]),{suppressRefError:xe=!1}=Te===void 0?{}:Te,pt=()=>{A({type:Z3e})},Ut=lr=>{let Bt=kS(lr);Bt&&Qe[Bt]?Qe[Bt](lr):P3e(Bt)&&A({type:SH,key:Bt,getItemNodeFromIndex:Be})},ht=tt({[wt]:vc(St,lr=>{L.current=lr}),id:ce.toggleButtonId,"aria-haspopup":"listbox","aria-expanded":Se.current.state.isOpen,"aria-labelledby":`${ce.labelId} ${ce.toggleButtonId}`},Ot);return Ot.disabled||(ht.onClick=to(Ke,pt),ht.onKeyDown=to(Ge,Ut)),$e("getToggleButtonProps",xe,wt,L),ht},[A,Se,Qe,$e,ce,Be]),he=(0,yt.useCallback)(function(Re){let Fr=Re===void 0?{}:Re,{item:Te,index:Ke,onMouseMove:Ge,onClick:wt,refKey:St="ref",ref:Ot,disabled:xe}=Fr,pt=wn(Fr,["item","index","onMouseMove","onClick","refKey","ref","disabled"]),{state:Ut,props:ht}=Se.current,$t=()=>{Ke!==Ut.highlightedIndex&&(He.current=!1,A({type:W3e,index:Ke,disabled:xe}))},lr=()=>{A({type:bH,index:Ke})},Bt=lH(Ke,Te,ht.items);if(Bt<0)throw new Error("Pass either item or item index in getItemProps!");let ur=tt({disabled:xe,role:"option","aria-selected":`${Bt===Ut.highlightedIndex}`,id:ce.getItemId(Bt),[St]:vc(Ot,Dr=>{Dr&&(Z.current[ce.getItemId(Bt)]=Dr)})},pt);return xe||(ur.onClick=to(wt,lr)),ur.onMouseMove=to(Ge,$t),ur},[A,Se,He,ce]);return{getToggleButtonProps:Pe,getLabelProps:We,getMenuProps:it,getItemProps:he,toggleMenu:ze,openMenu:je,closeMenu:ke,setHighlightedIndex:lt,selectItem:ut,reset:vt,setInputValue:Fe,highlightedIndex:z,isOpen:q,selectedItem:F,inputValue:N}}var EH=0,TH=1,AH=2,CH=3,MH=4,PH=5,OH=6,mR=7,rLe=8,nLe=9,RH=10,iLe=11,oLe=12,aLe=13,sLe=14,lLe=15,qH=16,uLe=17,cLe=18,NH=19,pLe=Object.freeze({__proto__:null,InputKeyDownArrowDown:EH,InputKeyDownArrowUp:TH,InputKeyDownEscape:AH,InputKeyDownHome:CH,InputKeyDownEnd:MH,InputKeyDownEnter:PH,InputChange:OH,InputBlur:mR,MenuMouseLeave:rLe,ItemMouseMove:nLe,ItemClick:RH,ToggleButtonClick:iLe,FunctionToggleMenu:oLe,FunctionOpenMenu:aLe,FunctionCloseMenu:sLe,FunctionSetHighlightedIndex:lLe,FunctionSelectItem:qH,FunctionSetInputValue:uLe,FunctionReset:cLe,ControlledPropUpdatedSelectedItem:NH});function xQt(e){let t=V3e(e),{selectedItem:r}=t,{inputValue:n}=t;return n===""&&r&&e.defaultInputValue===void 0&&e.initialInputValue===void 0&&e.inputValue===void 0&&(n=e.itemToString(r)),Lr(tt({},t),{inputValue:n})}var XFr={items:At.default.array.isRequired,itemToString:At.default.func,getA11yStatusMessage:At.default.func,getA11ySelectionMessage:At.default.func,circularNavigation:At.default.bool,highlightedIndex:At.default.number,defaultHighlightedIndex:At.default.number,initialHighlightedIndex:At.default.number,isOpen:At.default.bool,defaultIsOpen:At.default.bool,initialIsOpen:At.default.bool,selectedItem:At.default.any,initialSelectedItem:At.default.any,defaultSelectedItem:At.default.any,inputValue:At.default.string,defaultInputValue:At.default.string,initialInputValue:At.default.string,id:At.default.string,labelId:At.default.string,menuId:At.default.string,getItemId:At.default.func,inputId:At.default.string,toggleButtonId:At.default.string,stateReducer:At.default.func,onSelectedItemChange:At.default.func,onHighlightedIndexChange:At.default.func,onStateChange:At.default.func,onIsOpenChange:At.default.func,onInputValueChange:At.default.func,environment:At.default.shape({addEventListener:At.default.func,removeEventListener:At.default.func,document:At.default.shape({getElementById:At.default.func,activeElement:At.default.any,body:At.default.any})})};function wQt(e,t,r){let n=(0,yt.useRef)(),[i,o]=j3e(e,t,r);return(0,yt.useEffect)(()=>{k3e(r,"selectedItem")&&(n.current!==r.selectedItem&&o({type:NH,inputValue:r.itemToString(r.selectedItem)}),n.current=i.selectedItem===n.current?r.selectedItem:i.selectedItem)}),[dR(i,r),o]}var SQt=LS,IQt=Lr(tt({},NS),{getA11yStatusMessage:lQt,circularNavigation:!0});function EQt(e,t){let{type:r,props:n,shiftKey:i}=t,o;switch(r){case RH:o={isOpen:Ba(n,"isOpen"),highlightedIndex:Ba(n,"highlightedIndex"),selectedItem:n.items[t.index],inputValue:n.itemToString(n.items[t.index])};break;case EH:e.isOpen?o={highlightedIndex:DS(i?5:1,e.highlightedIndex,n.items.length,t.getItemNodeFromIndex,n.circularNavigation)}:o={highlightedIndex:E0(n,e,1,t.getItemNodeFromIndex),isOpen:n.items.length>=0};break;case TH:e.isOpen?o={highlightedIndex:DS(i?-5:-1,e.highlightedIndex,n.items.length,t.getItemNodeFromIndex,n.circularNavigation)}:o={highlightedIndex:E0(n,e,-1,t.getItemNodeFromIndex),isOpen:n.items.length>=0};break;case PH:o=tt({},e.isOpen&&e.highlightedIndex>=0&&{selectedItem:n.items[e.highlightedIndex],isOpen:Ba(n,"isOpen"),highlightedIndex:Ba(n,"highlightedIndex"),inputValue:n.itemToString(n.items[e.highlightedIndex])});break;case AH:o=tt({isOpen:!1,highlightedIndex:-1},!e.isOpen&&{selectedItem:null,inputValue:""});break;case CH:o={highlightedIndex:Dm(1,0,n.items.length,t.getItemNodeFromIndex,!1)};break;case MH:o={highlightedIndex:Dm(-1,n.items.length-1,n.items.length,t.getItemNodeFromIndex,!1)};break;case mR:o=tt({isOpen:!1,highlightedIndex:-1},e.highlightedIndex>=0&&t.selectItem&&{selectedItem:n.items[e.highlightedIndex],inputValue:n.itemToString(n.items[e.highlightedIndex])});break;case OH:o={isOpen:!0,highlightedIndex:Ba(n,"highlightedIndex"),inputValue:t.inputValue};break;case qH:o={selectedItem:t.selectedItem,inputValue:n.itemToString(t.selectedItem)};break;case NH:o={inputValue:t.inputValue};break;default:return H3e(e,t,pLe);}return tt(tt({},e),o)}gR.stateChangeTypes=pLe;function gR(e){e===void 0&&(e={}),SQt(e,gR);let t=tt(tt({},IQt),e),{initialIsOpen:r,defaultIsOpen:n,items:i,scrollIntoView:o,environment:u,getA11yStatusMessage:f,getA11ySelectionMessage:h,itemToString:y}=t,w=xQt(t),[T,A]=wQt(EQt,w,t),{isOpen:q,highlightedIndex:z,selectedItem:F,inputValue:N}=T,L=(0,yt.useRef)(null),B=(0,yt.useRef)({}),Z=(0,yt.useRef)(null),te=(0,yt.useRef)(null),ue=(0,yt.useRef)(null),ce=(0,yt.useRef)(!0),ye=F3e(t),Ne=(0,yt.useRef)(),Se=vR({state:T,props:t}),Be=(0,yt.useCallback)(Te=>B.current[ye.getItemId(Te)],[ye]);fR(f,[q,z,N,i],tt({isInitialMount:ce.current,previousResultCount:Ne.current,items:i,environment:u,itemToString:y},T)),fR(h,[F],tt({isInitialMount:ce.current,previousResultCount:Ne.current,items:i,environment:u,itemToString:y},T));let He=$3e({menuElement:L.current,highlightedIndex:z,isOpen:q,itemRefs:B,scrollIntoView:o,getItemNodeFromIndex:Be});pH({isInitialMount:ce.current,props:t,state:T}),(0,yt.useEffect)(()=>{(r||n||q)&&Z.current&&Z.current.focus()},[]),(0,yt.useEffect)(()=>{ce.current||(Ne.current=i.length)});let Xe=U3e(q,[ue,L,te],u,()=>{A({type:mR,selectItem:!1})}),$e=cH("getInputProps","getComboboxProps","getMenuProps");(0,yt.useEffect)(()=>{ce.current=!1},[]),(0,yt.useEffect)(()=>{q||(B.current={})},[q]);let Qe=(0,yt.useMemo)(()=>({ArrowDown(Te){Te.preventDefault(),A({type:EH,shiftKey:Te.shiftKey,getItemNodeFromIndex:Be})},ArrowUp(Te){Te.preventDefault(),A({type:TH,shiftKey:Te.shiftKey,getItemNodeFromIndex:Be})},Home(Te){Se.current.state.isOpen&&(Te.preventDefault(),A({type:CH,getItemNodeFromIndex:Be}))},End(Te){Se.current.state.isOpen&&(Te.preventDefault(),A({type:MH,getItemNodeFromIndex:Be}))},Escape(Te){let Ke=Se.current.state;(Ke.isOpen||Ke.inputValue||Ke.selectedItem||Ke.highlightedIndex>-1)&&(Te.preventDefault(),A({type:AH}))},Enter(Te){let Ke=Se.current.state;!Ke.isOpen||Ke.highlightedIndex<0||Te.which===229||(Te.preventDefault(),A({type:PH,getItemNodeFromIndex:Be}))}}),[A,Se,Be]),ot=(0,yt.useCallback)(Te=>tt({id:ye.labelId,htmlFor:ye.inputId},Te),[ye]),ze=(0,yt.useCallback)(function(Te,Ke){let pt=Te===void 0?{}:Te,{onMouseLeave:Ge,refKey:wt="ref",ref:St}=pt,Ot=wn(pt,["onMouseLeave","refKey","ref"]),{suppressRefError:xe=!1}=Ke===void 0?{}:Ke;return $e("getMenuProps",xe,wt,L),tt({[wt]:vc(St,Ut=>{L.current=Ut}),id:ye.menuId,role:"listbox","aria-labelledby":ye.labelId,onMouseLeave:to(Ge,()=>{A({type:rLe})})},Ot)},[A,$e,ye]),ke=(0,yt.useCallback)(function(Te){let ei=Te===void 0?{}:Te,{item:Ke,index:Ge,refKey:wt="ref",ref:St,onMouseMove:Ot,onMouseDown:xe,onClick:pt,onPress:Ut,disabled:ht}=ei,$t=wn(ei,["item","index","refKey","ref","onMouseMove","onMouseDown","onClick","onPress","disabled"]),{props:lr,state:Bt}=Se.current,ur=lH(Ge,Ke,lr.items);if(ur<0)throw new Error("Pass either item or item index in getItemProps!");let Fr="onClick",Dr=pt,or=()=>{Ge!==Bt.highlightedIndex&&(He.current=!1,A({type:nLe,index:Ge,disabled:ht}))},Kr=()=>{A({type:RH,index:Ge})},nt=pn=>pn.preventDefault();return tt(Lr(tt({[wt]:vc(St,pn=>{pn&&(B.current[ye.getItemId(ur)]=pn)}),disabled:ht,role:"option","aria-selected":`${ur===Bt.highlightedIndex}`,id:ye.getItemId(ur)},!ht&&{[Fr]:to(Dr,Kr)}),{onMouseMove:to(Ot,or),onMouseDown:to(xe,nt)}),$t)},[A,Se,He,ye]),je=(0,yt.useCallback)(function(Te){let pt=Te===void 0?{}:Te,{onClick:Ke,onPress:Ge,refKey:wt="ref",ref:St}=pt,Ot=wn(pt,["onClick","onPress","refKey","ref"]),xe=()=>{A({type:iLe}),!Se.current.state.isOpen&&Z.current&&Z.current.focus()};return tt(tt({[wt]:vc(St,Ut=>{te.current=Ut}),id:ye.toggleButtonId,tabIndex:-1},!Ot.disabled&&{onClick:to(Ke,xe)}),Ot)},[A,Se,ye]),lt=(0,yt.useCallback)(function(Te,Ke){let Kr=Te===void 0?{}:Te,{onKeyDown:Ge,onChange:wt,onInput:St,onBlur:Ot,onChangeText:xe,refKey:pt="ref",ref:Ut}=Kr,ht=wn(Kr,["onKeyDown","onChange","onInput","onBlur","onChangeText","refKey","ref"]),{suppressRefError:$t=!1}=Ke===void 0?{}:Ke;$e("getInputProps",$t,pt,Z);let lr=Se.current.state,Bt=nt=>{let ei=kS(nt);ei&&Qe[ei]&&Qe[ei](nt)},ur=nt=>{A({type:OH,inputValue:nt.target.value})},Fr=()=>{lr.isOpen&&!Xe.current.isMouseDown&&A({type:mR,selectItem:!0})},Dr="onChange",or={};return ht.disabled||(or={[Dr]:to(wt,St,ur),onKeyDown:to(Ge,Bt),onBlur:to(Ot,Fr)}),tt(tt(Lr(tt({[pt]:vc(Ut,nt=>{Z.current=nt}),id:ye.inputId,"aria-autocomplete":"list","aria-controls":ye.menuId},lr.isOpen&&lr.highlightedIndex>-1&&{"aria-activedescendant":ye.getItemId(lr.highlightedIndex)}),{"aria-labelledby":ye.labelId,autoComplete:"off",value:lr.inputValue}),or),ht)},[A,Qe,Se,Xe,$e,ye]),ut=(0,yt.useCallback)(function(Te,Ke){let xe=Te===void 0?{}:Te,{refKey:Ge="ref",ref:wt}=xe,St=wn(xe,["refKey","ref"]),{suppressRefError:Ot=!1}=Ke===void 0?{}:Ke;return $e("getComboboxProps",Ot,Ge,ue),tt({[Ge]:vc(wt,pt=>{ue.current=pt}),role:"combobox","aria-haspopup":"listbox","aria-owns":ye.menuId,"aria-expanded":Se.current.state.isOpen},St)},[Se,$e,ye]),vt=(0,yt.useCallback)(()=>{A({type:oLe})},[A]),Fe=(0,yt.useCallback)(()=>{A({type:sLe})},[A]),We=(0,yt.useCallback)(()=>{A({type:aLe})},[A]),it=(0,yt.useCallback)(Te=>{A({type:lLe,highlightedIndex:Te})},[A]),Pe=(0,yt.useCallback)(Te=>{A({type:qH,selectedItem:Te})},[A]),he=(0,yt.useCallback)(Te=>{A({type:uLe,inputValue:Te})},[A]),Re=(0,yt.useCallback)(()=>{A({type:cLe})},[A]);return{getItemProps:ke,getLabelProps:ot,getMenuProps:ze,getInputProps:lt,getComboboxProps:ut,getToggleButtonProps:je,toggleMenu:vt,openMenu:We,closeMenu:Fe,setHighlightedIndex:it,setInputValue:he,selectItem:Pe,reset:Re,highlightedIndex:z,isOpen:q,selectedItem:F,inputValue:N}}var dLe={activeIndex:-1,selectedItems:[]};function R3e(e,t){return qS(e,t,dLe)}function q3e(e,t){return Ba(e,t,dLe)}function TQt(e){let t=R3e(e,"activeIndex"),r=R3e(e,"selectedItems");return{activeIndex:t,selectedItems:r}}function N3e(e){if(e.shiftKey||e.metaKey||e.ctrlKey||e.altKey)return!1;let t=e.target;return!(t instanceof HTMLInputElement&&t.value!==""&&(t.selectionStart!==0||t.selectionEnd!==0))}function AQt(e){let{removedSelectedItem:t,itemToString:r}=e;return`${r(t)} has been removed.`}var JFr={selectedItems:At.default.array,initialSelectedItems:At.default.array,defaultSelectedItems:At.default.array,itemToString:At.default.func,getA11yRemovalMessage:At.default.func,stateReducer:At.default.func,activeIndex:At.default.number,initialActiveIndex:At.default.number,defaultActiveIndex:At.default.number,onActiveIndexChange:At.default.func,onSelectedItemsChange:At.default.func,keyNavigationNext:At.default.string,keyNavigationPrevious:At.default.string,environment:At.default.shape({addEventListener:At.default.func,removeEventListener:At.default.func,document:At.default.shape({getElementById:At.default.func,activeElement:At.default.any,body:At.default.any})})},CQt={itemToString:NS.itemToString,stateReducer:NS.stateReducer,environment:NS.environment,getA11yRemovalMessage:AQt,keyNavigationNext:"ArrowRight",keyNavigationPrevious:"ArrowLeft"},MQt=LS,kH=0,DH=1,LH=2,zH=3,FH=4,jH=5,BH=6,VH=7,UH=8,$H=9,HH=10,GH=11,WH=12,PQt=Object.freeze({__proto__:null,SelectedItemClick:kH,SelectedItemKeyDownDelete:DH,SelectedItemKeyDownBackspace:LH,SelectedItemKeyDownNavigationNext:zH,SelectedItemKeyDownNavigationPrevious:FH,DropdownKeyDownNavigationPrevious:jH,DropdownKeyDownBackspace:BH,DropdownClick:VH,FunctionAddSelectedItem:UH,FunctionRemoveSelectedItem:$H,FunctionSetSelectedItems:HH,FunctionSetActiveIndex:GH,FunctionReset:WH});function OQt(e,t){let{type:r,index:n,props:i,selectedItem:o}=t,{activeIndex:u,selectedItems:f}=e,h;switch(r){case kH:h={activeIndex:n};break;case FH:h={activeIndex:u-1<0?0:u-1};break;case zH:h={activeIndex:u+1>=f.length?-1:u+1};break;case LH:case DH:{let y=u;f.length===1?y=-1:u===f.length-1&&(y=f.length-2),h={selectedItems:[...f.slice(0,u),...f.slice(u+1)],activeIndex:y};break}case jH:h={activeIndex:f.length-1};break;case BH:h={selectedItems:f.slice(0,f.length-1)};break;case UH:h={selectedItems:[...f,o]};break;case VH:h={activeIndex:-1};break;case $H:{let y=u,w=f.indexOf(o);w>=0&&(f.length===1?y=-1:w===f.length-1&&(y=f.length-2),h={selectedItems:[...f.slice(0,w),...f.slice(w+1)],activeIndex:y});break}case HH:{let{selectedItems:y}=t;h={selectedItems:y};break}case GH:{let{activeIndex:y}=t;h={activeIndex:y};break}case WH:h={activeIndex:q3e(i,"activeIndex"),selectedItems:q3e(i,"selectedItems")};break;default:throw new Error("Reducer called without proper action type.");}return tt(tt({},e),h)}fLe.stateChangeTypes=PQt;function fLe(e){e===void 0&&(e={}),MQt(e,fLe);let t=tt(tt({},CQt),e),{getA11yRemovalMessage:r,itemToString:n,environment:i,keyNavigationNext:o,keyNavigationPrevious:u}=t,[f,h]=B3e(OQt,TQt(t),t),{activeIndex:y,selectedItems:w}=f,T=(0,yt.useRef)(!0),A=(0,yt.useRef)(null),q=(0,yt.useRef)(w),z=(0,yt.useRef)();z.current=[];let F=vR({state:f,props:t});(0,yt.useEffect)(()=>{if(!T.current){if(w.length<q.current.length){let Be=q.current.find(He=>w.indexOf(He)<0);D3e(r({itemToString:n,resultCount:w.length,removedSelectedItem:Be,activeIndex:y,activeSelectedItem:w[y]}),i.document)}q.current=w}},[w.length]),(0,yt.useEffect)(()=>{T.current||(y===-1&&A.current?A.current.focus():z.current[y]&&z.current[y].focus())},[y]),pH({isInitialMount:T.current,props:t,state:f});let N=cH("getDropdownProps");(0,yt.useEffect)(()=>{T.current=!1},[]);let L=(0,yt.useMemo)(()=>({[u](){h({type:FH})},[o](){h({type:zH})},Delete(){h({type:DH})},Backspace(){h({type:LH})}}),[h,o,u]),B=(0,yt.useMemo)(()=>({[u](Be){N3e(Be)&&h({type:jH})},Backspace(Be){N3e(Be)&&h({type:BH})}}),[h,u]),Z=(0,yt.useCallback)(function(Be){let Fe=Be===void 0?{}:Be,{refKey:He="ref",ref:Xe,onClick:$e,onKeyDown:Qe,selectedItem:ot,index:ze}=Fe,ke=wn(Fe,["refKey","ref","onClick","onKeyDown","selectedItem","index"]),{state:je}=F.current;if(lH(ze,ot,je.selectedItems)<0)throw new Error("Pass either selectedItem or index in getSelectedItemProps!");let ut=()=>{h({type:kH,index:ze})},vt=We=>{let it=kS(We);it&&L[it]&&L[it](We)};return tt({[He]:vc(Xe,We=>{We&&z.current.push(We)}),tabIndex:ze===je.activeIndex?0:-1,onClick:to($e,ut),onKeyDown:to(Qe,vt)},ke)},[h,F,L]),te=(0,yt.useCallback)(function(Be,He){let vt=Be===void 0?{}:Be,{refKey:Xe="ref",ref:$e,onKeyDown:Qe,onClick:ot,preventKeyAction:ze=!1}=vt,ke=wn(vt,["refKey","ref","onKeyDown","onClick","preventKeyAction"]),{suppressRefError:je=!1}=He===void 0?{}:He;N("getDropdownProps",je,Xe,A);let lt=Fe=>{let We=kS(Fe);We&&B[We]&&B[We](Fe)},ut=()=>{h({type:VH})};return tt(tt({[Xe]:vc($e,Fe=>{Fe&&(A.current=Fe)})},!ze&&{onKeyDown:to(Qe,lt),onClick:to(ot,ut)}),ke)},[h,B,N]),ue=(0,yt.useCallback)(Be=>{h({type:UH,selectedItem:Be})},[h]),ce=(0,yt.useCallback)(Be=>{h({type:$H,selectedItem:Be})},[h]),ye=(0,yt.useCallback)(Be=>{h({type:HH,selectedItems:Be})},[h]),Ne=(0,yt.useCallback)(Be=>{h({type:GH,activeIndex:Be})},[h]),Se=(0,yt.useCallback)(()=>{h({type:WH})},[h]);return{getSelectedItemProps:Z,getDropdownProps:te,addSelectedItem:ue,removeSelectedItem:ce,setSelectedItems:ye,setActiveIndex:Ne,reset:Se,selectedItems:w,activeIndex:y}}var Df=ne(Xt(),1);function ZH({buttonProps:e,fetchInputItems:t,label:r,itemToString:n,inputProps:i,onSelectedItemChange:o,timeout:u=300}){let[f,h]=(0,Va.useState)([]),[y,w]=(0,Va.useState)(void 0),T=(0,Va.useRef)(),A=(0,Va.useRef)(null),q=Qe=>{clearTimeout(A.current),A.current=setTimeout(()=>{t(Qe).then(ot=>h(ot))},u)},z=({inputValue:Qe})=>{y!==void 0&&w(void 0),q(Qe)},F=({selectedItem:Qe})=>{o!==void 0&&o(Qe),w(Qe)},{isOpen:N,getToggleButtonProps:L,getLabelProps:B,getMenuProps:Z,getInputProps:te,getComboboxProps:ue,getItemProps:ce,highlightedIndex:ye}=gR({items:f,itemToString:n,onInputValueChange:z,onSelectedItemChange:F}),Xe=e!=null?e:{},{onClick:Ne}=Xe,Se=wn(Xe,["onClick"]),$e=te(),{ref:Be}=$e,He=wn($e,["ref"]);return Va.default.createElement("div",{className:"vkf-autocomplete-container"},Va.default.createElement("label",Lr(tt({},B()),{id:He["aria-labelledby"],className:"visually-hidden"}),r!==void 0?r:i.placeholder),Va.default.createElement("div",tt({className:"form-group"},ue()),Va.default.createElement("input",tt(Lr(tt({},He),{ref:Qe=>{Be(Qe),T.current=Qe},type:"text"}),i)),Va.default.createElement("button",tt(tt(Lr(tt({type:"button"},L()),{"aria-label":"toggle menu"}),Se),Ne!==void 0?{onClick:()=>{Ne(y,T.current!==null?T.current.value:"")}}:{}),"\u2193")),Va.default.createElement("div",{className:"autocomplete-dropdown"},Va.default.createElement("ul",Lr(tt({className:"autocomplete-result-list"},Z()),{id:He["aria-controls"]}),N&&f.map((Qe,ot)=>Va.default.createElement("li",tt({className:kr("ui-menu-item",ye===ot&&"highlighted",y===Qe&&"selected"),key:`${Qe.label}${ot}`},ce({item:Qe,index:ot})),Qe.label)))))}ZH.propTypes={buttonProps:Df.default.object,fetchInputItems:Df.default.func,label:Df.default.string,inputProps:Df.default.object,itemToString:Df.default.func,onSelectedItemChange:Df.default.func,timeout:Df.default.number};var hLe=ne(fm(),1),KH=(e,t,r)=>{let n=e+"?format=json&q="+t;return hLe.default.get(n).then(i=>{let u=i.data.map(f=>({label:f.display_name,value:f.display_name,lonlat:{x:parseFloat(f.lon),y:parseFloat(f.lat)},type:f.type}));return r!==void 0&&r(),u})};var RQt=e=>e?e.label:"",mLe=e=>{let{onSelectPosition:t,searchUrl:r}=e,[n,i]=(0,Lm.useState)(!1),o=di(va),u=(0,Lm.useCallback)(h=>(i(!0),KH(r,h,()=>{i(!1)})),[r]),f=(h,y)=>{h!==void 0?t(h):KH(r,y).then(w=>{if(w.length>0)t(w[0]);else throw new Error(et("placenamesearch-unknown-placename"))}).catch(()=>{o({id:"placenamesearch",type:"warning",text:et("placenamesearch-unknown-placename")})})};return Lm.default.createElement("div",{className:"gazetteersearch-container"},Lm.default.createElement(ZH,{buttonProps:{className:"form-control gazetteersearch-submit",onClick:f,"aria-label":et("placenamesearch-submit"),title:et("placenamesearch-submit")},fetchInputItems:u,inputProps:{className:`form-control gazetteersearch-input ${n?"loading":""}`,placeholder:et("placenamesearch-placeholder")},itemToString:RQt,onSelectedItemChange:f}))};mLe.propTypes={onSelectPosition:YH.default.func.isRequired,searchUrl:YH.default.string.isRequired};var vLe=mLe;var gLe=ne(Xt(),1),yLe=({searchUrl:e})=>{let t=cr($n),r=(0,yR.useCallback)(n=>{if(t){let i=[n.lonlat.x,n.lonlat.y];t.flyTo({center:i,zoom:12})}},[t]);return yR.default.createElement(vLe,{onSelectPosition:r,searchUrl:e})};yLe.propTypes={searchUrl:gLe.default.string.isRequired};var _Le=yLe;var bLe=({customQuery:e,MapSearchListItemComponent:t,mosaicMode:r})=>{let n=cr(AM);return zm.default.createElement("div",{className:"spatialsearch-inner-container"},zm.default.createElement("div",{className:"spatialsearch-content-panel"},zm.default.createElement("div",{className:"body-container"},zm.default.createElement(_Le,{searchUrl:Zr.getNominatimUrl()}),zm.default.createElement(v3e,{timeRange:n}),zm.default.createElement(mDe,{customQuery:e,MapSearchListItemComponent:t,mosaicMode:r}))))};bLe.propTypes={customQuery:_R.default.array,MapSearchListItemComponent:_R.default.elementType,mosaicMode:_R.default.bool};var xLe=bLe;var Zn=ne(Ve(),1);var gc=ne(Ve(),1);var A0=ne(Xt(),1);var Lf=ne(Ve(),1);var vu=ne(Ve(),1),ws=ne(Xt(),1);var zS=f0;var XH={NONE:"control-none-gcp",ADD:"control-add-gcp",MOVE:"control-move-gcp",DEL:"control-del-gcp"},wLe=e=>{let{id:t,activeControl:r,className:n="",parentIconClassName:i,defaultTitle:o="unknown",disableActiveBehavior:u=!1,IconComponent:f,options:h=[{id:XH.ADD,title:et("georef-setgcp"),iconClassName:"icon-point-add"},{id:XH.MOVE,title:et("georef-movegcp"),iconClassName:"icon-point-move"},{id:XH.DEL,title:et("georef-delgcp"),iconClassName:"icon-point-remove"}],onClick:y}=e,w=h.find(A=>A.id===r),T=A=>{y(A)};return vu.default.createElement("div",{className:kr("vkf-control-dropdown",w&&!u?"active":"",n)},vu.default.createElement(Sw,{id:t,className:"btn-dropdown-vkf-control",bsStyle:"default",key:w?w.id:null},vu.default.createElement(Sw.Toggle,null,f===void 0?vu.default.createElement(zS,{name:i,size:24}):vu.default.createElement(f,{glyph:i}),w?w.title:o),vu.default.createElement(Sw.Menu,null,h.map(A=>vu.default.createElement(aV,{key:A.id,eventKey:A.id,onClick:()=>T(A.id),className:kr("control-option",A.id)},f===void 0?vu.default.createElement(zS,{name:`${A.iconClassName}`,size:24}):vu.default.createElement(f,{glyph:A.iconClassName}),vu.default.createElement("span",{className:"text"},A.title))))))};wLe.propTypes={activeControl:ws.default.string,className:ws.default.string,defaultTitle:ws.default.string,disableActiveBehavior:ws.default.bool,IconComponent:ws.default.elementType,id:ws.default.string,parentIconClassName:ws.default.string,options:ws.default.arrayOf(ws.default.shape({id:ws.default.string.isRequired,title:ws.default.string.isRequired,iconClassName:ws.default.string.isRequired})),onClick:ws.default.func.isRequired};var SLe=wLe;var ILe=SLe;var ELe=e=>Oi(void 0,null,function*(){let t=Zr.getGeoreferenceApiClient(),r=`/mosaic_maps/${e}`,n=yield t.delete(r);if(n.status===200)return n.data;throw console.error("Something went wrong while trying to delete the mosaic map."),new Error("Something went wrong while trying to delete the mosaic map.")}),TLe=()=>Oi(void 0,null,function*(){let r=yield Zr.getGeoreferenceApiClient().get("/mosaic_maps/");if(r.status===200)return r.data.map(dO);throw console.error("Something went wrong while trying to fetch the mosaic maps."),new Error("Something went wrong while trying to fetch the mosaic maps.")}),ALe=e=>Oi(void 0,null,function*(){let t=Zr.getGeoreferenceApiClient(),r=`/mosaic_maps/${e}/refresh`,n=yield t.post(r);if(n.status===200)return n.data;throw console.error("Something went wrong while trying to refresh the mosaic maps overview."),new Error("Something went wrong while trying to refresh the mosaic maps overview.")}),CLe=e=>Oi(void 0,null,function*(){if(e.id===void 0||e.id===ro){let t=e,{id:r}=t,n=wn(t,["id"]);return yield qQt(n)}else return yield NQt(e)}),qQt=e=>Oi(void 0,null,function*(){let t=Zr.getGeoreferenceApiClient(),r="/mosaic_maps/",n=GU(e),i=yield t.post(r,n);if(i.status===200)return dO(i.data);throw console.error("Something went wrong while trying to create the mosaic map."),new Error("Something went wrong while trying to create the mosaic map.")}),NQt=e=>Oi(void 0,null,function*(){let t=Zr.getGeoreferenceApiClient(),{id:r}=e,n=`/mosaic_maps/${r}`,i=GU(e),o=yield t.post(n,i);if(o.status===200)return dO(o.data);throw console.error("Something went wrong while trying to update the mosaic map."),new Error("Something went wrong while trying to update the mosaic map.")});var MLe=ne(fm(),1);function PLe(e){return Oi(this,null,function*(){let t=Zr.getSettings().API_SEARCH;if(t===void 0)throw new Error("The url for the search endpoint is not set.");let r=yield MLe.default.get(`${t}/_doc/${e}`);if(r.status===200)return r.data._source;console.error("Something went wrong while trying to fetch search document.")})}var OLe=e=>PLe(e).then(t=>HU(e,t)).catch(()=>{let t=new Pf({metadata:{id:e,has_georeference:!1}});return t.setIsMissing(!0),t});var bR=ne(Ve(),1);var gu="mosaic-map-overlay-source",kQt="mosaic-map-overlay-fill",RLe="mosaic-map-overlay-outline",xR=e=>{e.moveLayer(RLe)},T0=e=>{let t={type:"FeatureCollection",features:[]},r=e.getSource(gu);r&&r.setData(t)},qLe=()=>bR.default.createElement(bR.default.Fragment,null,bR.default.createElement(K5,{sourceId:gu,fillId:kQt,outlineId:RLe}));qLe.propTypes={};var NLe=qLe;var ro="create-new-mosaic-map",DQt=()=>{let[e,t]=sn(zf),[r,n]=(0,Lf.useState)(e===xa.DOWNLOADING_LIST),i=cr($n),[o,u]=Lf.default.useState([]),[f,h]=sn(Vl),y=di(Ss),w=di(va),T=()=>{n(!0),TLe().then(q=>{u(q),n(!1),t(z=>z===xa.DOWNLOADING_LIST?xa.NOT_LOADING:z)}).catch(q=>{console.error(q),w({id:"mosaic-map-failed-load-list",type:"danger",text:et("mosaic-map-error-messages-failed-load-list")})})},A=q=>{var F;let z=(F=o.find(N=>N.id===q))!=null?F:{id:ro};if(h(z),z.raw_map_ids!==void 0){let N=z.raw_map_ids.map(L=>OLe(L));Promise.all(N).then(L=>{i!==void 0&&fNe(i,L),y(L),L.forEach(B=>B.addToOverlay(i,gu))}).catch(L=>{console.error(L)})}else y([]),T0(i)};return(0,Lf.useEffect)(()=>{e===xa.DOWNLOADING_LIST&&r===!1&&T()},[e]),(0,Lf.useEffect)(()=>{T()},[]),Lf.default.createElement(ILe,{id:"control-toggle-transformation",activeControl:f.id,className:"control-toggle-mosaic-map",disableActiveBehavior:!0,IconComponent:Gi,options:[...o.map(q=>Lr(tt({},q),{iconClassName:"th-large"})),{iconClassName:"plus",id:ro,title:et("mosaic-maps-create-new")}],onClick:A,parentIconClassName:f.id===ro?"plus":"th-large"})},kLe=DQt;var Ss=_i({key:"mosaicMapSelectedLayersState",default:[],dangerouslyAllowMutability:!0}),wBr=_i({key:"mosaicMapGeometryLayerState",default:void 0,dangerouslyAllowMutability:!0}),Vl=_i({key:"mosaicMapSelectedMosaicMapState",default:{id:ro}}),xa={NOT_LOADING:0,UPLOADING_CHANGES:1,DOWNLOADING_LIST:2},zf=_i({key:"mosaicMapLoadingState",default:xa.NOT_LOADING});function LQt(e,t){return e.sort(function(r,n){let i=r.getMetadata(t),o=n.getMetadata(t);return typeof i=="string"&&(i=(""+i).toLowerCase()),typeof o=="string"&&(o=(""+o).toLowerCase()),i<o?-1:i>o?1:0})}var JH=({minimumBatchSize:e=20,renderConsumer:t,sortSettings:r})=>{let{activeType:n,sortOrder:i}=r,[o,u]=(0,gc.useState)({itemCount:10,id:Date.now()}),f=cr(Ss),h=(0,gc.useCallback)((w,T)=>f===void 0?new Promise(A=>A([])):new Promise(A=>{let q=LQt(f.slice(w,w+T),n);i==="descending"&&q.reverse(),A(q)}),[f,i,n]),y=(0,gc.useCallback)(()=>{u({itemCount:f.length,id:Date.now()})},[h]);return(0,gc.useEffect)(()=>{y()},[f,n,i]),gc.default.createElement(gc.default.Fragment,null,t({minimumBatchSize:e,onRefresh:y,onFetchResults:h,searchResultDescriptor:o}))};JH.propTypes={minimumBatchSize:A0.default.number,renderConsumer:A0.default.func,sortSettings:A0.default.shape({activeType:A0.default.string,sortOrder:A0.default.string})};var Dn=ne(Ve(),1),Ul=ne(Xt(),1);var FS=ne(zU(),1);var DLe="http://www.deutschefotothek.de/images/noimage/image120.jpg",LLe=({children:e,data:t,index:r,onMouseEnter:n,onMouseLeave:i,style:o})=>{var Se;let{direction:u,maps:f}=t,h=cr($n),[y,w]=sn(Ss),[T,A]=sn(Ju),q=(Se=f[r])!=null?Se:dc,z=y.find(Be=>Be.getId()===q.getId()),[F,N]=(0,Dn.useState)(q.getMetadata(zr.thumbnailUrl)===void 0?"":q.getMetadata(zr.thumbnailUrl).replace("http:","")),L=q===dc,B=q.isMissing(),Z=z==null?void 0:z.isDisplayedInMap(h),te=q.getMetadata(zr.mapScale)==="0"||q.getMetadata(zr.mapScale)===0?et("mapsearch-listelement-unknown"):`1:${q.getMetadata(zr.mapScale)}`,ue=parseInt(q.getMetadata(zr.timePublished),0),ce=Be=>{Be.stopPropagation(),Of(T,z)?(A(Xe=>Xe.filter($e=>$e.getId()!==z.getId())),z.removeMapLibreLayers(h)):z.addLayerToMap(h).then(()=>{A(Xe=>[...Xe,z])})},ye=()=>{F!==""&&F!==DLe&&N(DLe)},Ne=Be=>{Be.stopPropagation(),w(He=>He.filter(Xe=>Xe.getId()!==q.getId())),z.removeFromOverlay(h,gu)};return(0,Dn.useEffect)(()=>{N(q.getMetadata(zr.thumbnailUrl))},[q]),Dn.default.createElement("li",{tabIndex:0,style:o,className:kr("vkf-mapsearch-record","vkf-mosaic-map-selected-list-element",q.getType(),Z&&"selected",u,L&&"loading",B&&"missing"),id:q.getId(),onMouseEnter:n,onMouseLeave:i},e,Dn.default.createElement("span",{className:"data-col time"},isNaN(ue)?"":ue),Dn.default.createElement("span",{className:"data-col title"},q.getMetadata(zr.title)),Dn.default.createElement("span",{className:"data-col time"},"1"),Dn.default.createElement("div",{className:"view-item"},!B&&Dn.default.createElement("span",{className:"thumbnail"},F===""?Dn.default.createElement(FS.default.default,{height:"calc(100% - 6px)"}):Dn.default.createElement("img",{alt:`Thumbnail Image of Map ${q.getMetadata(zr.title)} ${q.getMetadata(zr.timePublished)}`,onError:ye,src:F})),Dn.default.createElement("div",{className:"overview"},Dn.default.createElement("h2",null,L?Dn.default.createElement(FS.default.default,null):B?`${et("mosaic-map-missing-sheet")}: ${q.getId()}`:q.getMetadata(zr.title)),Dn.default.createElement("div",{className:"details"},!B&&Dn.default.createElement(Dn.default.Fragment,null,Dn.default.createElement("div",{className:"timestamp"},L?Dn.default.createElement(FS.default.default,null):`${et("mapsearch-listelement-time")} ${q.getMetadata(zr.timePublished)}`),Dn.default.createElement("div",{className:"scale"},L?Dn.default.createElement(FS.default.default,null):`${et("mapsearch-listelement-scale")} ${te}`)),!q.getMetadata(zr.hasGeoReference)&&Dn.default.createElement("div",{className:"georeference"},et("mapsearch-listelement-no-georef")))),Dn.default.createElement("div",{className:"actions"},!B&&Dn.default.createElement("button",{className:"vkf-mosaic-map-preview",onClick:ce},Dn.default.createElement(Gi,{glyph:Z?"eye-open":"eye-close"})),Dn.default.createElement("button",{className:"vkf-mosaic-map-delete",onClick:Ne},Dn.default.createElement(Gi,{glyph:"trash"})))))};LLe.propTypes={children:Ul.default.element,data:Ul.default.shape({direction:Ul.default.oneOf(["horizontal","vertical"]),feature:Ul.default.object,maps:Ul.default.object,selected:Ul.default.bool}),onClick:Ul.default.func,onMouseEnter:Ul.default.func,onMouseLeave:Ul.default.func,index:Ul.default.number,style:Ul.default.object};var zLe=LLe;var zQt=()=>{let e=cr($n),[t,r]=sn(Ju),[n,i]=sn(Ss),o=n.length===0,u=!o&&n.every(T=>T.isDisplayedInMap(e)),f=t.length===0||t.filter(T=>n.find(A=>A.getId()===T.getId())!==void 0).length===t.length,h=()=>{t.forEach(T=>{let A=T.getId();n.find(q=>q.getId()===A)===void 0&&(i(q=>[...q,T]),T.addToOverlay(e,gu))})},y=()=>{let T=n.map(A=>A.getId());if(u){r(A=>A.filter(q=>!T.includes(q.getId()))),n.forEach(A=>A.removeMapLibreLayers(e));return}n.filter(A=>!A.isDisplayedInMap(e)).forEach(A=>A.addLayerToMap(e).then(()=>{r(q=>[...q,A])})),xR(e)},w=()=>{i([]),T0(e)};return Zn.default.createElement("div",{className:kr("mapsearch-container")},Zn.default.createElement("div",{className:"spatialsearch-inner-container"},Zn.default.createElement("div",{className:"spatialsearch-content-panel"},Zn.default.createElement("div",{className:"body-container"},Zn.default.createElement("div",{className:"header-container"},Zn.default.createElement("div",{className:"title"},Zn.default.createElement("h4",null,et("mosaic-maps-refresh-selected-list-title")),Zn.default.createElement(Gi,{glyph:"th-large"})),Zn.default.createElement("div",{className:"actions"},Zn.default.createElement("div",{className:"add-all-selected"},Zn.default.createElement(ma,{disabled:f,onClick:h},et("mosaic-maps-add-all-selected"))),Zn.default.createElement("div",{className:"action-container"},Zn.default.createElement("div",{className:"view-all-toggle control"},Zn.default.createElement("button",{className:kr(!u&&"selected"),disabled:o,onClick:y},Zn.default.createElement(Gi,{glyph:u?"eye-open":"eye-close"}))),Zn.default.createElement("div",{className:"select-all-toggle control"},Zn.default.createElement("button",{disabled:o,onClick:w},Zn.default.createElement(Gi,{glyph:"trash"})))))),Zn.default.createElement("div",{className:"panel panel-default searchTablePanel"},Zn.default.createElement("div",{className:"panel-heading"},Zn.default.createElement("div",{className:"content"},Zn.default.createElement("div",null,n.length===0?et("mosaic-maps-selected-no-maps"):`${n.length} ${et("mosaic-maps-selected-maps")}`)),Zn.default.createElement("div",{className:"facet-container"},Zn.default.createElement(rO,{georeferenceMode:!1}))),Zn.default.createElement("div",{className:"panel-body"},Zn.default.createElement(cO,{enableOverlayLayer:!1,DataProvider:JH,ListItemComponent:zLe})))))))},FLe=zQt;var jS=ne(Ve(),1);var jLe=({data:e,index:t,style:r})=>{let[n,i]=sn(Ss),o=cr($n),u=e.maps[t],f=vn(u)&&Of(n,u),h=w=>{vn(w)&&(w.stopPropagation(),w.preventDefault()),vn(u)&&(f?(i(T=>T.filter(A=>A.getId()!==u.getId())),u.removeFromOverlay(o,gu)):(i(T=>[...T,u]),u.addToOverlay(o,gu),xR(o)))},y=w=>{w.key==="Enter"&&h()};return jS.default.createElement("div",{className:kr("vkf-mosaic-map-result-list-element",f&&"selected")},jS.default.createElement(iS,{index:t,data:e,style:r},jS.default.createElement("button",{className:"vkf-add-to-mosaic-map-button",onKeyDown:y,onClick:h},jS.default.createElement("i",{className:"arrow right"}))))};jLe.propTypes=tt({},iS.propTypes);var BLe=jLe;var ULe=()=>{let e=(0,yu.useRef)(null);return zM(e,"spatialtemporalsearch"),yu.default.createElement(yu.default.Fragment,null,yu.default.createElement(NLe,null),yu.default.createElement("div",{className:"vkf-horizontal-layout"},yu.default.createElement("div",{className:"spatialsearch-container",id:"spatialsearch-container",ref:e},yu.default.createElement(xLe,{customQuery:[{term:{type:"single_sheet"}}],MapSearchListItemComponent:BLe,mosaicMode:!0})),yu.default.createElement("div",{className:"selected-maps-container"},yu.default.createElement(FLe,null))))};ULe.propTypes={onAddGeoJson:VLe.default.func};var $Le=ULe;var WLe=ne(Ve(),1);var BS=ne(Ve(),1),Np=ne(Xt(),1);var HLe=e=>{let{activeControl:t=null,className:r="",disabled:n=!1,iconClassName:i="",IconComponent:o,id:u="unknown",onClick:f,title:h="unknown"}=e;return BS.default.createElement("button",{onClick:()=>{f(u)},className:kr("vkf-control-button",r,t===u&&"active",n&&"disabled"),disabled:n},o===void 0?BS.default.createElement(zS,{name:i,size:24}):BS.default.createElement(o,{glyph:i}),BS.default.createElement("span",{className:"text"},h))};HLe.propTypes={activeControl:Np.default.string,className:Np.default.string,disabled:Np.default.bool,id:Np.default.string.isRequired,iconClassName:Np.default.string,IconComponent:Np.default.elementType,onClick:Np.default.func.isRequired,title:Np.default.string};var GLe=HLe;var C0=GLe;var FQt=()=>{let e=cr(Vl),t=di(va),r=()=>{e!==void 0&&ALe(e.id).then(()=>{t({id:"mosaic-map-refresh-overview-button",type:"success",text:et("mosaic-map-success-messages-updated-overview")})}).catch(n=>{console.error(n),t({id:"mosaic-map-refresh-overview-button",type:"danger",text:et("mosaic-map-error-messages-failed-update-overview")})})};return WLe.default.createElement(C0,{disabled:e.id===ro,id:"recalculate-overview",iconClassName:"icon-reload",onClick:r,title:et("mosaic-maps-refresh-overview")})},ZLe=FQt;var Ys=ne(Ve(),1);var Ff=ne(Ve(),1),Fm=ne(Xt(),1);var KLe=({isOpen:e,onClose:t,modalClassName:r,renderContent:n,renderFooter:i,title:o})=>Ff.default.createElement(ql,{className:"vkf-modal",onHide:t,show:e,dialogClassName:r},Ff.default.createElement(ql.Header,null,Ff.default.createElement("p",null,o),Ff.default.createElement("button",{onClick:t},Ff.default.createElement("span",null,"+"))),Ff.default.createElement(ql.Body,null,n()),i!==void 0&&Ff.default.createElement(ql.Footer,null,i()));KLe.propTypes={isOpen:Fm.default.bool,onClose:Fm.default.func,modalClassName:Fm.default.string,renderContent:Fm.default.func,renderFooter:Fm.default.func,title:Fm.default.string};var YLe=KLe;var wR=YLe;var yc=ne(Ve(),1);var QLe=ne(JLe(),1);var kp={LOADING:0,SAVED:1,CHANGED:2},QH=()=>{let e=cr(Vl),[t,r]=(0,yc.useState)(e),n=cr(zf),i=LM(n);(0,yc.useEffect)(()=>{r(e)},[e.id]),(0,yc.useEffect)(()=>{n!==xa.UPLOADING_CHANGES&&i===xa.UPLOADING_CHANGES&&r(e)},[n]);let o;return n===xa.UPLOADING_CHANGES?o=kp.LOADING:t.id!==ro&&(0,QLe.default)(t,e)?o=kp.SAVED:o=kp.CHANGED,o},jQt=()=>{let e=QH();return yc.default.createElement("div",{className:"vkf-mosaic-map-save-indicator"},yc.default.createElement("label",null,e===kp.SAVED?et("mosaic-map-saved-indicator-saved"):et("mosaic-map-saved-indicator-not-saved")),kp.LOADING===e?yc.default.createElement(l0,null):yc.default.createElement("div",{className:kr("indicator",e===kp.SAVED&&"saved",e===kp.CHANGED&&"changed")}))},eze=jQt;var BQt=e=>e!==void 0&&e.length>0,tze=e=>Number.isSafeInteger(e),SR=e=>e!==void 0&&e.length>0,VQt=e=>{let{name:t,raw_map_ids:r,title:n,title_short:i,time_of_publication:o,link_thumb:u,map_scale:f}=e;return SR(t)&&BQt(r)&&SR(n)&&SR(i)&&tze(o)&&SR(u)&&tze(f)},UQt=()=>{let[e,t]=(0,Ys.useState)(!1),[r,n]=sn(zf),i=di(va),[o,u]=sn(Vl),f=QH(),h=o.id!==ro,y=()=>{t(!1)},w=()=>{t(!0)},T=()=>{o!==void 0&&(n(xa.UPLOADING_CHANGES),CLe(o).then(A=>{n(xa.DOWNLOADING_LIST),u(Lr(tt({},A),{raw_map_ids:o.raw_map_ids})),i({id:"mosaic-map-save-button",type:"success",text:et("mosaic-map-success-messages-saved")})}).catch(A=>{console.error(A),i({id:"mosaic-map-save-button",type:"danger",text:et("mosaic-map-error-messages-failed-upload")})}).finally(()=>{y()}))};return Ys.default.createElement(Ys.default.Fragment,null,Ys.default.createElement(wR,{bs:!0,isOpen:e,onClose:y,title:et("mosaic-map-save-modal-title"),renderContent:()=>Ys.default.createElement("div",{className:"vkf-modal-description-container"},Ys.default.createElement("p",null,et("mosaic-map-save-modal-content"))),renderFooter:()=>Ys.default.createElement(Ys.default.Fragment,null,Ys.default.createElement(ma,{bsStyle:"warning",bsSize:"large",onClick:y},et("mosaic-map-delete-modal-buttonCancel")),Ys.default.createElement(ma,{bsStyle:"success",bsSize:"large",onClick:T},et("mosaic-map-save-modal-buttonSave")))}),Ys.default.createElement(C0,{disabled:!VQt(o)||r===xa.UPLOADING_CHANGES||h&&f!==kp.CHANGED,id:"save-mosaic-map",iconClassName:"icon-save",onClick:h?w:T,title:et("mosaic-maps-save")}))},rze=UQt;var Xs=ne(Ve(),1);var $Qt=()=>{let[e,t]=(0,Xs.useState)(!1),[r,n]=sn(Vl),i=di(zf),o=di(va),u=di(Ss),f=cr($n),h=()=>{ELe(r.id).then(()=>{y(),n({id:ro}),u([]),T0(f),i(xa.DOWNLOADING_LIST),o({id:"mosaic-map-delete-button",type:"success",text:et("mosaic-map-success-messages-delete")})}).catch(()=>{y(),o({id:"mosaic-map-delete-button",type:"danger",text:et("mosaic-map-error-messages-delete-failed")})})},y=()=>{t(!1)},w=()=>{t(!0)};return Xs.default.createElement(Xs.default.Fragment,null,Xs.default.createElement(wR,{bs:!0,isOpen:e,onClose:y,title:et("mosaic-map-delete-modal-title"),renderContent:()=>Xs.default.createElement("div",{className:"vkf-modal-description-container"},Xs.default.createElement("p",null,et("mosaic-map-delete-modal-content"))),renderFooter:()=>Xs.default.createElement(Xs.default.Fragment,null,Xs.default.createElement(ma,{bsStyle:"warning",bsSize:"large",onClick:y},et("mosaic-map-delete-modal-buttonCancel")),Xs.default.createElement(ma,{bsStyle:"danger",bsSize:"large",onClick:h},et("mosaic-map-delete-modal-buttonDelete")))}),Xs.default.createElement(C0,{className:"delete-mosaic-map-button",disabled:r.id===ro,id:"delete-mosaic-map",iconClassName:"trash",IconComponent:Gi,onClick:w,title:et("mosaic-maps-delete")}))},nze=$Qt;var ji=ne(Ve(),1);var M0=ne(Xt(),1);var ize=[{id:"name"},{className:"form-group grow",id:"title"},{id:"title_short",className:"small-input"},{className:"small-input",id:"time_of_publication",type:"number",extraProps:{min:0,max:2100}},{id:"link_thumb"},{className:"description",id:"description",extraProps:{allowEmpty:!0}},{className:"small-input",id:"map_scale",type:"number",extraProps:{min:0,max:2e10}}],HQt=()=>{let e=cr(Ss),[t,r]=sn(Vl),[,n]=(0,ji.useState)(0),i=(f,h)=>{var q;let{allowEmpty:y,min:w,max:T}=(q=h.extraProps)!=null?q:{allowEmpty:!1,min:Number.MIN_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER},A=document.getElementById(f);if(A!==null&&t[f]!==void 0){if(h.type==="string")return A.value.length>0||y?"success":"error";if(h.type==="number"){let z=A.valueAsNumber;return z>=w&&z<=T?"success":"error"}}return null},o=f=>{let h=f.target.id,y=ize.find(T=>T.id===h).type,w;y==="number"?w=f.target.valueAsNumber:w=f.target.value,r(T=>Lr(tt({},T),{[h]:w}))},u=f=>{f.key==="Enter"&&f.target.blur()};return(0,ji.useEffect)(()=>{n(Date.now())},[t.id]),(0,ji.useEffect)(()=>{r(f=>{var h;return Lr(tt({},f),{raw_map_ids:(h=e==null?void 0:e.map(y=>y.getId()))!=null?h:[]})})},[e]),ji.default.createElement("div",{className:"vk-mosaic-map-input-panel-content"},ji.default.createElement("div",{className:"vk-mosaic-map-input-panel-header"},ji.default.createElement("div",{className:"vk-mosaic-map-title"},ji.default.createElement("h3",null,t.title===void 0||t.title===""&&t.id===ro?et("mosaic-maps-input-panel-title"):t.title),ji.default.createElement("div",{className:"divider"}),ji.default.createElement("h4",{className:"subtitle"},"ID:"," ",t.id===ro?"undefined":t.id)),ji.default.createElement(eze,null)),ji.default.createElement("div",{className:"input-container"},ji.default.createElement(W7,null,ize.map((f,h)=>ji.default.createElement(oze,{bsClass:f.className,defaultValue:t[f.id],key:`${t.id}_${h}`,id:f.id,type:f.type,label:et(`mosaic-maps-input-panel-field_${f.id}`),placeholder:f.id==="name"?et(`mosaic-maps-input-panel-help_${f.id}`):void 0,onBlur:o,onKeyDown:u,validationState:i(f.id,f)})))))};function oze(u){var f=u,{id:e,label:t,help:r,bsClass:n,validationState:i}=f,o=wn(f,["id","label","help","bsClass","validationState"]);return ji.default.createElement(rV,{bsClass:n,controlId:e,validationState:i},ji.default.createElement("div",{className:"label-container"},ji.default.createElement(p7,null,t)),ji.default.createElement(Q7,tt({},o)),r&&ji.default.createElement(iV,null,r))}oze.propTypes={bsClass:M0.default.string,id:M0.default.string,label:M0.default.string,help:M0.default.string,validationState:M0.default.string};var aze=HQt;var Js=ne(Ve(),1);var IR=ne(Xt(),1);var sze=e=>{let{onClose:t,text:r,type:n}=e;return Js.default.createElement("div",{className:"notification-item"},Js.default.createElement("div",{className:kr("alert","alert-"+n),role:"alert"},Js.default.createElement("div",{className:"close"},Js.default.createElement("button",{type:"button",className:"close","aria-label":"Close",onClick:t},Js.default.createElement("span",{"aria-hidden":"true"},"\xD7"))),Js.default.createElement("div",{className:"text"},r)))};sze.propTypes={onClose:IR.default.func,text:IR.default.string,type:IR.default.string};var GQt=()=>{let e=cr(va),t=LM(e),[r,n]=(0,Js.useState)([]);return(0,Js.useEffect)(()=>{if(e!==null&&e.id!==null&&e!==t){let i=[...r],o=r.findIndex(u=>u.id===e.id);o>-1?i.splice(o,1,e.text!==null?e:void 0):i.splice(0,0,e),n(i.filter(u=>u!==void 0))}},[e,r,t]),Js.default.createElement("div",{className:kr("vkf-notifications",r.length===0?"hide":"")},r.map(({type:i,text:o},u)=>Js.default.createElement(sze,{key:u,onClose:()=>{let f=[...r];f.splice(u,1),n(f)},type:i,text:o})))},lze=GQt;var uze=()=>Ua.default.createElement(FEe,null,Ua.default.createElement("div",{className:"vkf-app-mosaic-map-container"},Ua.default.createElement(lze,null),Ua.default.createElement("div",{className:"vkf-mosaic-map-toolbar"},Ua.default.createElement("div",null,Ua.default.createElement(kLe,null)),Ua.default.createElement("div",null,Ua.default.createElement(ZLe,null),Ua.default.createElement(rze,null),Ua.default.createElement(nze,null))),Ua.default.createElement("div",{className:"vk-mosaic-map-input-panel"},Ua.default.createElement(aze,null)),Ua.default.createElement("div",{className:"vkf-plugin-map-mosaic",id:"map-container"},Ua.default.createElement(oke,{baseMapUrl:Zr.getDefaultBaseMapUrls(),layout:gf.HORIZONTAL,mapViewSettings:Zr.getDefaultMapView(),ChildComponent:$Le,loadMarkerIcon:!1}))));uze.propTypes={};var cze=uze;var WQt=Zr;function ZQt(e){dze.default.render(pze.default.createElement(cze,null),e)}return dFe(KQt)})();/*! Bundled license information:

object-assign/index.js:
  (*
  object-assign
  (c) Sindre Sorhus
  @license MIT
  *)

react/cjs/react.production.min.js:
  (** @license React v17.0.2
   * react.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

scheduler/cjs/scheduler.production.min.js:
  (** @license React v0.20.2
   * scheduler.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-dom/cjs/react-dom.production.min.js:
  (** @license React v17.0.2
   * react-dom.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

maplibre-gl/dist/maplibre-gl.js:
  (**
   * MapLibre GL JS
   * @license 3-Clause BSD. Full text of license: https://github.com/maplibre/maplibre-gl-js/blob/v4.7.0/LICENSE.txt
   *)

classnames/index.js:
  (*!
  	Copyright (c) 2018 Jed Watson.
  	Licensed under the MIT License (MIT), see
  	http://jedwatson.github.io/classnames
  *)

react-is/cjs/react-is.production.min.js:
  (** @license React v16.13.1
   * react-is.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

keycode/index.js:
  (*!
   * Programatically add the following
   *)

react-is/cjs/react-is.production.min.js:
  (** @license React v16.13.1
   * react-is.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-is/cjs/react-is.production.min.js:
  (** @license React v17.0.2
   * react-is.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

wms-capabilities/dist/wms-capabilities.mjs:
  (**
   * wms-capabilities @0.6.0
   * @description WMS service Capabilities > JSON, based on openlayers 
   * @license BSD-2-Clause
   * @preserve
   *)

@babel/runtime/helpers/esm/regeneratorRuntime.js:
  (*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE *)
*/