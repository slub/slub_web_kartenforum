var vk2=(()=>{var PBe=Object.create;var D_=Object.defineProperty,OBe=Object.defineProperties,DBe=Object.getOwnPropertyDescriptor,NBe=Object.getOwnPropertyDescriptors,kBe=Object.getOwnPropertyNames,iE=Object.getOwnPropertySymbols,LBe=Object.getPrototypeOf,dk=Object.prototype.hasOwnProperty,hX=Object.prototype.propertyIsEnumerable;var mX=e=>{throw TypeError(e)},Vh=Math.pow,ck=(e,t,r)=>t in e?D_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Ze=(e,t)=>{for(var r in t||(t={}))dk.call(t,r)&&ck(e,r,t[r]);if(iE)for(var r of iE(t))hX.call(t,r)&&ck(e,r,t[r]);return e},xr=(e,t)=>OBe(e,NBe(t));var Rn=(e,t)=>{var r={};for(var n in e)dk.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&iE)for(var n of iE(e))t.indexOf(n)<0&&hX.call(e,n)&&(r[n]=e[n]);return r};var I=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),qBe=(e,t)=>{for(var r in t)D_(e,r,{get:t[r],enumerable:!0})},gX=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of kBe(t))!dk.call(e,i)&&i!==r&&D_(e,i,{get:()=>t[i],enumerable:!(n=DBe(t,i))||n.enumerable});return e};var re=(e,t,r)=>(r=e!=null?PBe(LBe(e)):{},gX(t||!e||!e.__esModule?D_(r,"default",{value:e,enumerable:!0}):r,e)),RBe=e=>gX(D_({},"__esModule",{value:!0}),e);var Xe=(e,t,r)=>ck(e,typeof t!="symbol"?t+"":t,r),pk=(e,t,r)=>t.has(e)||mX("Cannot "+r);var Yu=(e,t,r)=>(pk(e,t,"read from private field"),r?r.call(e):t.get(e)),Up=(e,t,r)=>t.has(e)?mX("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),$h=(e,t,r,n)=>(pk(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),fs=(e,t,r)=>(pk(e,t,"access private method"),r);var gi=(e,t,r)=>new Promise((n,i)=>{var o=h=>{try{p(r.next(h))}catch(y){i(y)}},u=h=>{try{p(r.throw(h))}catch(y){i(y)}},p=h=>h.done?n(h.value):Promise.resolve(h.value).then(o,u);p((r=r.apply(e,t)).next())});var fk=I((Klr,yX)=>{"use strict";var vX=Object.getOwnPropertySymbols,zBe=Object.prototype.hasOwnProperty,jBe=Object.prototype.propertyIsEnumerable;function FBe(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function BBe(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(t).map(function(o){return t[o]});if(n.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(o){i[o]=o}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch(o){return!1}}yX.exports=BBe()?Object.assign:function(e,t){for(var r,n=FBe(e),i,o=1;o<arguments.length;o++){r=Object(arguments[o]);for(var u in r)zBe.call(r,u)&&(n[u]=r[u]);if(vX){i=vX(r);for(var p=0;p<i.length;p++)jBe.call(r,i[p])&&(n[i[p]]=r[i[p]])}}return n}});var kX=I(Sn=>{"use strict";var mk=fk(),hv=60103,xX=60106;Sn.Fragment=60107;Sn.StrictMode=60108;Sn.Profiler=60114;var wX=60109,SX=60110,IX=60112;Sn.Suspense=60113;var EX=60115,TX=60116;typeof Symbol=="function"&&Symbol.for&&(Sl=Symbol.for,hv=Sl("react.element"),xX=Sl("react.portal"),Sn.Fragment=Sl("react.fragment"),Sn.StrictMode=Sl("react.strict_mode"),Sn.Profiler=Sl("react.profiler"),wX=Sl("react.provider"),SX=Sl("react.context"),IX=Sl("react.forward_ref"),Sn.Suspense=Sl("react.suspense"),EX=Sl("react.memo"),TX=Sl("react.lazy"));var Sl,_X=typeof Symbol=="function"&&Symbol.iterator;function UBe(e){return e===null||typeof e!="object"?null:(e=_X&&e[_X]||e["@@iterator"],typeof e=="function"?e:null)}function N_(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var MX={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},CX={};function mv(e,t,r){this.props=e,this.context=t,this.refs=CX,this.updater=r||MX}mv.prototype.isReactComponent={};mv.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error(N_(85));this.updater.enqueueSetState(this,e,t,"setState")};mv.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function AX(){}AX.prototype=mv.prototype;function gk(e,t,r){this.props=e,this.context=t,this.refs=CX,this.updater=r||MX}var vk=gk.prototype=new AX;vk.constructor=gk;mk(vk,mv.prototype);vk.isPureReactComponent=!0;var yk={current:null},PX=Object.prototype.hasOwnProperty,OX={key:!0,ref:!0,__self:!0,__source:!0};function DX(e,t,r){var n,i={},o=null,u=null;if(t!=null)for(n in t.ref!==void 0&&(u=t.ref),t.key!==void 0&&(o=""+t.key),t)PX.call(t,n)&&!OX.hasOwnProperty(n)&&(i[n]=t[n]);var p=arguments.length-2;if(p===1)i.children=r;else if(1<p){for(var h=Array(p),y=0;y<p;y++)h[y]=arguments[y+2];i.children=h}if(e&&e.defaultProps)for(n in p=e.defaultProps,p)i[n]===void 0&&(i[n]=p[n]);return{$$typeof:hv,type:e,key:o,ref:u,props:i,_owner:yk.current}}function VBe(e,t){return{$$typeof:hv,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function _k(e){return typeof e=="object"&&e!==null&&e.$$typeof===hv}function $Be(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var bX=/\/+/g;function hk(e,t){return typeof e=="object"&&e!==null&&e.key!=null?$Be(""+e.key):t.toString(36)}function aE(e,t,r,n,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var u=!1;if(e===null)u=!0;else switch(o){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case hv:case xX:u=!0;}}if(u)return u=e,i=i(u),e=n===""?"."+hk(u,0):n,Array.isArray(i)?(r="",e!=null&&(r=e.replace(bX,"$&/")+"/"),aE(i,t,r,"",function(y){return y})):i!=null&&(_k(i)&&(i=VBe(i,r+(!i.key||u&&u.key===i.key?"":(""+i.key).replace(bX,"$&/")+"/")+e)),t.push(i)),1;if(u=0,n=n===""?".":n+":",Array.isArray(e))for(var p=0;p<e.length;p++){o=e[p];var h=n+hk(o,p);u+=aE(o,t,r,h,i)}else if(h=UBe(e),typeof h=="function")for(e=h.call(e),p=0;!(o=e.next()).done;)o=o.value,h=n+hk(o,p++),u+=aE(o,t,r,h,i);else if(o==="object")throw t=""+e,Error(N_(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function oE(e,t,r){if(e==null)return e;var n=[],i=0;return aE(e,n,"","",function(o){return t.call(r,o,i++)}),n}function HBe(e){if(e._status===-1){var t=e._result;t=t(),e._status=0,e._result=t,t.then(function(r){e._status===0&&(r=r.default,e._status=1,e._result=r)},function(r){e._status===0&&(e._status=2,e._result=r)})}if(e._status===1)return e._result;throw e._result}var NX={current:null};function ad(){var e=NX.current;if(e===null)throw Error(N_(321));return e}var WBe={ReactCurrentDispatcher:NX,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:yk,IsSomeRendererActing:{current:!1},assign:mk};Sn.Children={map:oE,forEach:function(e,t,r){oE(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return oE(e,function(){t++}),t},toArray:function(e){return oE(e,function(t){return t})||[]},only:function(e){if(!_k(e))throw Error(N_(143));return e}};Sn.Component=mv;Sn.PureComponent=gk;Sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WBe;Sn.cloneElement=function(e,t,r){if(e==null)throw Error(N_(267,e));var n=mk({},e.props),i=e.key,o=e.ref,u=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,u=yk.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var p=e.type.defaultProps;for(h in t)PX.call(t,h)&&!OX.hasOwnProperty(h)&&(n[h]=t[h]===void 0&&p!==void 0?p[h]:t[h])}var h=arguments.length-2;if(h===1)n.children=r;else if(1<h){p=Array(h);for(var y=0;y<h;y++)p[y]=arguments[y+2];n.children=p}return{$$typeof:hv,type:e.type,key:i,ref:o,props:n,_owner:u}};Sn.createContext=function(e,t){return t===void 0&&(t=null),e={$$typeof:SX,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider={$$typeof:wX,_context:e},e.Consumer=e};Sn.createElement=DX;Sn.createFactory=function(e){var t=DX.bind(null,e);return t.type=e,t};Sn.createRef=function(){return{current:null}};Sn.forwardRef=function(e){return{$$typeof:IX,render:e}};Sn.isValidElement=_k;Sn.lazy=function(e){return{$$typeof:TX,_payload:{_status:-1,_result:e},_init:HBe}};Sn.memo=function(e,t){return{$$typeof:EX,type:e,compare:t===void 0?null:t}};Sn.useCallback=function(e,t){return ad().useCallback(e,t)};Sn.useContext=function(e,t){return ad().useContext(e,t)};Sn.useDebugValue=function(){};Sn.useEffect=function(e,t){return ad().useEffect(e,t)};Sn.useImperativeHandle=function(e,t,r){return ad().useImperativeHandle(e,t,r)};Sn.useLayoutEffect=function(e,t){return ad().useLayoutEffect(e,t)};Sn.useMemo=function(e,t){return ad().useMemo(e,t)};Sn.useReducer=function(e,t,r){return ad().useReducer(e,t,r)};Sn.useRef=function(e){return ad().useRef(e)};Sn.useState=function(e){return ad().useState(e)};Sn.version="17.0.2"});var Be=I((Qlr,LX)=>{"use strict";LX.exports=kX()});var BX=I(zn=>{"use strict";var vv,q_,cE,Tk;typeof performance=="object"&&typeof performance.now=="function"?(qX=performance,zn.unstable_now=function(){return qX.now()}):(bk=Date,RX=bk.now(),zn.unstable_now=function(){return bk.now()-RX});var qX,bk,RX;typeof window=="undefined"||typeof MessageChannel!="function"?(gv=null,xk=null,wk=function(){if(gv!==null)try{var e=zn.unstable_now();gv(!0,e),gv=null}catch(t){throw setTimeout(wk,0),t}},vv=function(e){gv!==null?setTimeout(vv,0,e):(gv=e,setTimeout(wk,0))},q_=function(e,t){xk=setTimeout(e,t)},cE=function(){clearTimeout(xk)},zn.unstable_shouldYield=function(){return!1},Tk=zn.unstable_forceFrameRate=function(){}):(zX=window.setTimeout,jX=window.clearTimeout,typeof console!="undefined"&&(FX=window.cancelAnimationFrame,typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof FX!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")),k_=!1,L_=null,sE=-1,Sk=5,Ik=0,zn.unstable_shouldYield=function(){return zn.unstable_now()>=Ik},Tk=function(){},zn.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Sk=0<e?Math.floor(1e3/e):5},Ek=new MessageChannel,lE=Ek.port2,Ek.port1.onmessage=function(){if(L_!==null){var e=zn.unstable_now();Ik=e+Sk;try{L_(!0,e)?lE.postMessage(null):(k_=!1,L_=null)}catch(t){throw lE.postMessage(null),t}}else k_=!1},vv=function(e){L_=e,k_||(k_=!0,lE.postMessage(null))},q_=function(e,t){sE=zX(function(){e(zn.unstable_now())},t)},cE=function(){jX(sE),sE=-1});var gv,xk,wk,zX,jX,FX,k_,L_,sE,Sk,Ik,Ek,lE;function Mk(e,t){var r=e.length;e.push(t);e:for(;;){var n=r-1>>>1,i=e[n];if(i!==void 0&&0<uE(i,t))e[n]=t,e[r]=i,r=n;else break e}}function du(e){return e=e[0],e===void 0?null:e}function dE(e){var t=e[0];if(t!==void 0){var r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,i=e.length;n<i;){var o=2*(n+1)-1,u=e[o],p=o+1,h=e[p];if(u!==void 0&&0>uE(u,r))h!==void 0&&0>uE(h,u)?(e[n]=h,e[p]=r,n=p):(e[n]=u,e[o]=r,n=o);else if(h!==void 0&&0>uE(h,r))e[n]=h,e[p]=r,n=p;else break e}}return t}return null}function uE(e,t){var r=e.sortIndex-t.sortIndex;return r!==0?r:e.id-t.id}var Zu=[],Vp=[],GBe=1,Il=null,ma=3,pE=!1,Hh=!1,R_=!1;function Ck(e){for(var t=du(Vp);t!==null;){if(t.callback===null)dE(Vp);else if(t.startTime<=e)dE(Vp),t.sortIndex=t.expirationTime,Mk(Zu,t);else break;t=du(Vp)}}function Ak(e){if(R_=!1,Ck(e),!Hh)if(du(Zu)!==null)Hh=!0,vv(Pk);else{var t=du(Vp);t!==null&&q_(Ak,t.startTime-e)}}function Pk(e,t){Hh=!1,R_&&(R_=!1,cE()),pE=!0;var r=ma;try{for(Ck(t),Il=du(Zu);Il!==null&&(!(Il.expirationTime>t)||e&&!zn.unstable_shouldYield());){var n=Il.callback;if(typeof n=="function"){Il.callback=null,ma=Il.priorityLevel;var i=n(Il.expirationTime<=t);t=zn.unstable_now(),typeof i=="function"?Il.callback=i:Il===du(Zu)&&dE(Zu),Ck(t)}else dE(Zu);Il=du(Zu)}if(Il!==null)var o=!0;else{var u=du(Vp);u!==null&&q_(Ak,u.startTime-t),o=!1}return o}finally{Il=null,ma=r,pE=!1}}var YBe=Tk;zn.unstable_IdlePriority=5;zn.unstable_ImmediatePriority=1;zn.unstable_LowPriority=4;zn.unstable_NormalPriority=3;zn.unstable_Profiling=null;zn.unstable_UserBlockingPriority=2;zn.unstable_cancelCallback=function(e){e.callback=null};zn.unstable_continueExecution=function(){Hh||pE||(Hh=!0,vv(Pk))};zn.unstable_getCurrentPriorityLevel=function(){return ma};zn.unstable_getFirstCallbackNode=function(){return du(Zu)};zn.unstable_next=function(e){switch(ma){case 1:case 2:case 3:var t=3;break;default:t=ma;}var r=ma;ma=t;try{return e()}finally{ma=r}};zn.unstable_pauseExecution=function(){};zn.unstable_requestPaint=YBe;zn.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3;}var r=ma;ma=e;try{return t()}finally{ma=r}};zn.unstable_scheduleCallback=function(e,t,r){var n=zn.unstable_now();switch(typeof r=="object"&&r!==null?(r=r.delay,r=typeof r=="number"&&0<r?n+r:n):r=n,e){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3;}return i=r+i,e={id:GBe++,callback:t,priorityLevel:e,startTime:r,expirationTime:i,sortIndex:-1},r>n?(e.sortIndex=r,Mk(Vp,e),du(Zu)===null&&e===du(Vp)&&(R_?cE():R_=!0,q_(Ak,r-n))):(e.sortIndex=i,Mk(Zu,e),Hh||pE||(Hh=!0,vv(Pk))),e};zn.unstable_wrapCallback=function(e){var t=ma;return function(){var r=ma;ma=t;try{return e.apply(this,arguments)}finally{ma=r}}}});var VX=I((eur,UX)=>{"use strict";UX.exports=BX()});var Aee=I(Pl=>{"use strict";var oT=Be(),Ii=fk(),wo=VX();function Pt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!oT)throw Error(Pt(227));var rJ=new Set,fb={};function rm(e,t){zv(e,t),zv(e+"Capture",t)}function zv(e,t){for(fb[e]=t,e=0;e<t.length;e++)rJ.add(t[e])}var pd=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),ZBe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$X=Object.prototype.hasOwnProperty,HX={},WX={};function KBe(e){return $X.call(WX,e)?!0:$X.call(HX,e)?!1:ZBe.test(e)?WX[e]=!0:(HX[e]=!0,!1)}function XBe(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1;}}function QBe(e,t,r,n){if(t===null||typeof t=="undefined"||XBe(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t;}return!1}function Wa(e,t,r,n,i,o,u){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=u}var Bo={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Bo[e]=new Wa(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Bo[t]=new Wa(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Bo[e]=new Wa(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Bo[e]=new Wa(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Bo[e]=new Wa(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Bo[e]=new Wa(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Bo[e]=new Wa(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Bo[e]=new Wa(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Bo[e]=new Wa(e,5,!1,e.toLowerCase(),null,!1,!1)});var j6=/[\-:]([a-z])/g;function F6(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(j6,F6);Bo[t]=new Wa(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(j6,F6);Bo[t]=new Wa(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(j6,F6);Bo[t]=new Wa(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Bo[e]=new Wa(e,1,!1,e.toLowerCase(),null,!1,!1)});Bo.xlinkHref=new Wa("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Bo[e]=new Wa(e,1,!1,e.toLowerCase(),null,!0,!0)});function B6(e,t,r,n){var i=Bo.hasOwnProperty(t)?Bo[t]:null,o=i!==null?i.type===0:n?!1:!(!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N");o||(QBe(t,r,i,n)&&(r=null),n||i===null?KBe(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var nm=oT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,K_=60103,Gh=60106,Hp=60107,U6=60108,tb=60114,V6=60109,$6=60110,aT=60112,rb=60113,qE=60120,sT=60115,H6=60116,W6=60121,G6=60128,nJ=60129,Y6=60130,Jk=60131;typeof Symbol=="function"&&Symbol.for&&(so=Symbol.for,K_=so("react.element"),Gh=so("react.portal"),Hp=so("react.fragment"),U6=so("react.strict_mode"),tb=so("react.profiler"),V6=so("react.provider"),$6=so("react.context"),aT=so("react.forward_ref"),rb=so("react.suspense"),qE=so("react.suspense_list"),sT=so("react.memo"),H6=so("react.lazy"),W6=so("react.block"),so("react.scope"),G6=so("react.opaque.id"),nJ=so("react.debug_trace_mode"),Y6=so("react.offscreen"),Jk=so("react.legacy_hidden"));var so,GX=typeof Symbol=="function"&&Symbol.iterator;function z_(e){return e===null||typeof e!="object"?null:(e=GX&&e[GX]||e["@@iterator"],typeof e=="function"?e:null)}var Ok;function X_(e){if(Ok===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Ok=t&&t[1]||""}return`
`+Ok+e}var Dk=!1;function fE(e,t){if(!e||Dk)return"";Dk=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t){if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(h){var n=h}Reflect.construct(e,[],t)}else{try{t.call()}catch(h){n=h}e.call(t.prototype)}}else{try{throw Error()}catch(h){n=h}e()}}catch(h){if(h&&n&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),o=n.stack.split(`
`),u=i.length-1,p=o.length-1;1<=u&&0<=p&&i[u]!==o[p];)p--;for(;1<=u&&0<=p;u--,p--)if(i[u]!==o[p]){if(u!==1||p!==1)do if(u--,p--,0>p||i[u]!==o[p])return`
`+i[u].replace(" at new "," at ");while(1<=u&&0<=p);break}}}finally{Dk=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?X_(e):""}function JBe(e){switch(e.tag){case 5:return X_(e.type);case 16:return X_("Lazy");case 13:return X_("Suspense");case 19:return X_("SuspenseList");case 0:case 2:case 15:return e=fE(e.type,!1),e;case 11:return e=fE(e.type.render,!1),e;case 22:return e=fE(e.type._render,!1),e;case 1:return e=fE(e.type,!0),e;default:return"";}}function Cv(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Hp:return"Fragment";case Gh:return"Portal";case tb:return"Profiler";case U6:return"StrictMode";case rb:return"Suspense";case qE:return"SuspenseList";}if(typeof e=="object")switch(e.$$typeof){case $6:return(e.displayName||"Context")+".Consumer";case V6:return(e._context.displayName||"Context")+".Provider";case aT:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case sT:return Cv(e.type);case W6:return Cv(e._render);case H6:t=e._payload,e=e._init;try{return Cv(e(t))}catch(r){}}return null}function nf(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return"";}}function iJ(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function eUe(e){var t=iJ(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r!="undefined"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(u){n=""+u,o.call(this,u)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(u){n=""+u},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function hE(e){e._valueTracker||(e._valueTracker=eUe(e))}function oJ(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=iJ(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function RE(e){if(e=e||(typeof document!="undefined"?document:void 0),typeof e=="undefined")return null;try{return e.activeElement||e.body}catch(t){return e.body}}function e6(e,t){var r=t.checked;return Ii({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r!=null?r:e._wrapperState.initialChecked})}function YX(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=nf(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function aJ(e,t){t=t.checked,t!=null&&B6(e,"checked",t,!1)}function t6(e,t){aJ(e,t);var r=nf(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?r6(e,t.type,r):t.hasOwnProperty("defaultValue")&&r6(e,t.type,nf(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ZX(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function r6(e,t,r){(t!=="number"||RE(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}function tUe(e){var t="";return oT.Children.forEach(e,function(r){r!=null&&(t+=r)}),t}function n6(e,t){return e=Ii({children:void 0},t),(t=tUe(t.children))&&(e.children=t),e}function Av(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+nf(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function i6(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Pt(91));return Ii({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function KX(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Pt(92));if(Array.isArray(r)){if(!(1>=r.length))throw Error(Pt(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:nf(r)}}function sJ(e,t){var r=nf(t.value),n=nf(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function XX(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}var o6={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function lJ(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml";}}function a6(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?lJ(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var mE,uJ=function(e){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!==o6.svg||"innerHTML"in e)e.innerHTML=t;else{for(mE=mE||document.createElement("div"),mE.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=mE.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function hb(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var nb={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rUe=["Webkit","ms","Moz","O"];Object.keys(nb).forEach(function(e){rUe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),nb[t]=nb[e]})});function cJ(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||nb.hasOwnProperty(e)&&nb[e]?(""+t).trim():t+"px"}function dJ(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=cJ(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var nUe=Ii({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function s6(e,t){if(t){if(nUe[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Pt(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Pt(60));if(!(typeof t.dangerouslySetInnerHTML=="object"&&"__html"in t.dangerouslySetInnerHTML))throw Error(Pt(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Pt(62))}}function l6(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0;}}function Z6(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var u6=null,Pv=null,Ov=null;function QX(e){if(e=Cb(e)){if(typeof u6!="function")throw Error(Pt(280));var t=e.stateNode;t&&(t=fT(t),u6(e.stateNode,e.type,t))}}function pJ(e){Pv?Ov?Ov.push(e):Ov=[e]:Pv=e}function fJ(){if(Pv){var e=Pv,t=Ov;if(Ov=Pv=null,QX(e),t)for(e=0;e<t.length;e++)QX(t[e])}}function K6(e,t){return e(t)}function hJ(e,t,r,n,i){return e(t,r,n,i)}function X6(){}var mJ=K6,Yh=!1,Nk=!1;function Q6(){(Pv!==null||Ov!==null)&&(X6(),fJ())}function iUe(e,t,r){if(Nk)return e(t,r);Nk=!0;try{return mJ(e,t,r)}finally{Nk=!1,Q6()}}function mb(e,t){var r=e.stateNode;if(r===null)return null;var n=fT(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1;}if(e)return null;if(r&&typeof r!="function")throw Error(Pt(231,t,typeof r));return r}var c6=!1;if(pd)try{yv={},Object.defineProperty(yv,"passive",{get:function(){c6=!0}}),window.addEventListener("test",yv,yv),window.removeEventListener("test",yv,yv)}catch(e){c6=!1}var yv;function oUe(e,t,r,n,i,o,u,p,h){var y=Array.prototype.slice.call(arguments,3);try{t.apply(r,y)}catch(_){this.onError(_)}}var ib=!1,zE=null,jE=!1,d6=null,aUe={onError:function(e){ib=!0,zE=e}};function sUe(e,t,r,n,i,o,u,p,h){ib=!1,zE=null,oUe.apply(aUe,arguments)}function lUe(e,t,r,n,i,o,u,p,h){if(sUe.apply(this,arguments),ib){if(ib){var y=zE;ib=!1,zE=null}else throw Error(Pt(198));jE||(jE=!0,d6=y)}}function im(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&1026&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function gJ(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function JX(e){if(im(e)!==e)throw Error(Pt(188))}function uUe(e){var t=e.alternate;if(!t){if(t=im(e),t===null)throw Error(Pt(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var o=i.alternate;if(o===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return JX(i),e;if(o===n)return JX(i),t;o=o.sibling}throw Error(Pt(188))}if(r.return!==n.return)r=i,n=o;else{for(var u=!1,p=i.child;p;){if(p===r){u=!0,r=i,n=o;break}if(p===n){u=!0,n=i,r=o;break}p=p.sibling}if(!u){for(p=o.child;p;){if(p===r){u=!0,r=o,n=i;break}if(p===n){u=!0,n=o,r=i;break}p=p.sibling}if(!u)throw Error(Pt(189))}}if(r.alternate!==n)throw Error(Pt(190))}if(r.tag!==3)throw Error(Pt(188));return r.stateNode.current===r?e:t}function vJ(e){if(e=uUe(e),!e)return null;for(var t=e;;){if(t.tag===5||t.tag===6)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function eQ(e,t){for(var r=e.alternate;t!==null;){if(t===e||t===r)return!0;t=t.return}return!1}var yJ,J6,_J,bJ,p6=!1,Ku=[],Zp=null,Kp=null,Xp=null,gb=new Map,vb=new Map,j_=[],tQ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function f6(e,t,r,n,i){return{blockedOn:e,domEventName:t,eventSystemFlags:r|16,nativeEvent:i,targetContainers:[n]}}function rQ(e,t){switch(e){case"focusin":case"focusout":Zp=null;break;case"dragenter":case"dragleave":Kp=null;break;case"mouseover":case"mouseout":Xp=null;break;case"pointerover":case"pointerout":gb.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":vb.delete(t.pointerId);}}function F_(e,t,r,n,i,o){return e===null||e.nativeEvent!==o?(e=f6(t,r,n,i,o),t!==null&&(t=Cb(t),t!==null&&J6(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function cUe(e,t,r,n,i){switch(t){case"focusin":return Zp=F_(Zp,e,t,r,n,i),!0;case"dragenter":return Kp=F_(Kp,e,t,r,n,i),!0;case"mouseover":return Xp=F_(Xp,e,t,r,n,i),!0;case"pointerover":var o=i.pointerId;return gb.set(o,F_(gb.get(o)||null,e,t,r,n,i)),!0;case"gotpointercapture":return o=i.pointerId,vb.set(o,F_(vb.get(o)||null,e,t,r,n,i)),!0;}return!1}function dUe(e){var t=Zh(e.target);if(t!==null){var r=im(t);if(r!==null){if(t=r.tag,t===13){if(t=gJ(r),t!==null){e.blockedOn=t,bJ(e.lanePriority,function(){wo.unstable_runWithPriority(e.priority,function(){_J(r)})});return}}else if(t===3&&r.stateNode.hydrate){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function TE(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=nL(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r!==null)return t=Cb(r),t!==null&&J6(t),e.blockedOn=r,!1;t.shift()}return!0}function nQ(e,t,r){TE(e)&&r.delete(t)}function pUe(){for(p6=!1;0<Ku.length;){var e=Ku[0];if(e.blockedOn!==null){e=Cb(e.blockedOn),e!==null&&yJ(e);break}for(var t=e.targetContainers;0<t.length;){var r=nL(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r!==null){e.blockedOn=r;break}t.shift()}e.blockedOn===null&&Ku.shift()}Zp!==null&&TE(Zp)&&(Zp=null),Kp!==null&&TE(Kp)&&(Kp=null),Xp!==null&&TE(Xp)&&(Xp=null),gb.forEach(nQ),vb.forEach(nQ)}function B_(e,t){e.blockedOn===t&&(e.blockedOn=null,p6||(p6=!0,wo.unstable_scheduleCallback(wo.unstable_NormalPriority,pUe)))}function xJ(e){function t(i){return B_(i,e)}if(0<Ku.length){B_(Ku[0],e);for(var r=1;r<Ku.length;r++){var n=Ku[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Zp!==null&&B_(Zp,e),Kp!==null&&B_(Kp,e),Xp!==null&&B_(Xp,e),gb.forEach(t),vb.forEach(t),r=0;r<j_.length;r++)n=j_[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<j_.length&&(r=j_[0],r.blockedOn===null);)dUe(r),r.blockedOn===null&&j_.shift()}function gE(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var wv={animationend:gE("Animation","AnimationEnd"),animationiteration:gE("Animation","AnimationIteration"),animationstart:gE("Animation","AnimationStart"),transitionend:gE("Transition","TransitionEnd")},kk={},wJ={};pd&&(wJ=document.createElement("div").style,"AnimationEvent"in window||(delete wv.animationend.animation,delete wv.animationiteration.animation,delete wv.animationstart.animation),"TransitionEvent"in window||delete wv.transitionend.transition);function lT(e){if(kk[e])return kk[e];if(!wv[e])return e;var t=wv[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in wJ)return kk[e]=t[r];return e}var SJ=lT("animationend"),IJ=lT("animationiteration"),EJ=lT("animationstart"),TJ=lT("transitionend"),MJ=new Map,eL=new Map,fUe=["abort","abort",SJ,"animationEnd",IJ,"animationIteration",EJ,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",TJ,"transitionEnd","waiting","waiting"];function tL(e,t){for(var r=0;r<e.length;r+=2){var n=e[r],i=e[r+1];i="on"+(i[0].toUpperCase()+i.slice(1)),eL.set(n,t),MJ.set(n,i),rm(i,[n])}}var hUe=wo.unstable_now;hUe();var ui=8;function bv(e){if(1&e)return ui=15,1;if(2&e)return ui=14,2;if(4&e)return ui=13,4;var t=24&e;return t!==0?(ui=12,t):e&32?(ui=11,32):(t=192&e,t!==0?(ui=10,t):e&256?(ui=9,256):(t=3584&e,t!==0?(ui=8,t):e&4096?(ui=7,4096):(t=4186112&e,t!==0?(ui=6,t):(t=62914560&e,t!==0?(ui=5,t):e&67108864?(ui=4,67108864):e&134217728?(ui=3,134217728):(t=805306368&e,t!==0?(ui=2,t):1073741824&e?(ui=1,1073741824):(ui=8,e))))))}function mUe(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0;}}function gUe(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(Pt(358,e));}}function yb(e,t){var r=e.pendingLanes;if(r===0)return ui=0;var n=0,i=0,o=e.expiredLanes,u=e.suspendedLanes,p=e.pingedLanes;if(o!==0)n=o,i=ui=15;else if(o=r&134217727,o!==0){var h=o&~u;h!==0?(n=bv(h),i=ui):(p&=o,p!==0&&(n=bv(p),i=ui))}else o=r&~u,o!==0?(n=bv(o),i=ui):p!==0&&(n=bv(p),i=ui);if(n===0)return 0;if(n=31-of(n),n=r&((0>n?0:1<<n)<<1)-1,t!==0&&t!==n&&!(t&u)){if(bv(t),i<=ui)return t;ui=i}if(t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-of(t),i=1<<r,n|=e[r],t&=~i;return n}function CJ(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function FE(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return e=xv(24&~t),e===0?FE(10,t):e;case 10:return e=xv(192&~t),e===0?FE(8,t):e;case 8:return e=xv(3584&~t),e===0&&(e=xv(4186112&~t),e===0&&(e=512)),e;case 2:return t=xv(805306368&~t),t===0&&(t=268435456),t;}throw Error(Pt(358,e))}function xv(e){return e&-e}function Lk(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function uT(e,t,r){e.pendingLanes|=t;var n=t-1;e.suspendedLanes&=n,e.pingedLanes&=n,e=e.eventTimes,t=31-of(t),e[t]=r}var of=Math.clz32?Math.clz32:_Ue,vUe=Math.log,yUe=Math.LN2;function _Ue(e){return e===0?32:31-(vUe(e)/yUe|0)|0}var bUe=wo.unstable_UserBlockingPriority,xUe=wo.unstable_runWithPriority,ME=!0;function wUe(e,t,r,n){Yh||X6();var i=rL,o=Yh;Yh=!0;try{hJ(i,e,t,r,n)}finally{(Yh=o)||Q6()}}function SUe(e,t,r,n){xUe(bUe,rL.bind(null,e,t,r,n))}function rL(e,t,r,n){if(ME){var i;if((i=(t&4)===0)&&0<Ku.length&&-1<tQ.indexOf(e))e=f6(null,e,t,r,n),Ku.push(e);else{var o=nL(e,t,r,n);if(o===null)i&&rQ(e,n);else{if(i){if(-1<tQ.indexOf(e)){e=f6(o,e,t,r,n),Ku.push(e);return}if(cUe(o,e,t,r,n))return;rQ(e,n)}BJ(e,t,n,null,r)}}}}function nL(e,t,r,n){var i=Z6(n);if(i=Zh(i),i!==null){var o=im(i);if(o===null)i=null;else{var u=o.tag;if(u===13){if(i=gJ(o),i!==null)return i;i=null}else if(u===3){if(o.stateNode.hydrate)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return BJ(e,t,n,i,r),null}var Wp=null,iL=null,CE=null;function AJ(){if(CE)return CE;var e,t=iL,r=t.length,n,i="value"in Wp?Wp.value:Wp.textContent,o=i.length;for(e=0;e<r&&t[e]===i[e];e++);var u=r-e;for(n=1;n<=u&&t[r-n]===i[o-n];n++);return CE=i.slice(e,1<n?1-n:void 0)}function AE(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function vE(){return!0}function iQ(){return!1}function tl(e){function t(r,n,i,o,u){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=o,this.target=u,this.currentTarget=null;for(var p in e)e.hasOwnProperty(p)&&(r=e[p],this[p]=r?r(o):o[p]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?vE:iQ,this.isPropagationStopped=iQ,this}return Ii(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=vE)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=vE)},persist:function(){},isPersistent:vE}),t}var Uv={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},oL=tl(Uv),Mb=Ii({},Uv,{view:0,detail:0}),IUe=tl(Mb),qk,Rk,U_,cT=Ii({},Mb,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:aL,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==U_&&(U_&&e.type==="mousemove"?(qk=e.screenX-U_.screenX,Rk=e.screenY-U_.screenY):Rk=qk=0,U_=e),qk)},movementY:function(e){return"movementY"in e?e.movementY:Rk}}),oQ=tl(cT),EUe=Ii({},cT,{dataTransfer:0}),TUe=tl(EUe),MUe=Ii({},Mb,{relatedTarget:0}),zk=tl(MUe),CUe=Ii({},Uv,{animationName:0,elapsedTime:0,pseudoElement:0}),AUe=tl(CUe),PUe=Ii({},Uv,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),OUe=tl(PUe),DUe=Ii({},Uv,{data:0}),aQ=tl(DUe),NUe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kUe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},LUe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qUe(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=LUe[e])?!!t[e]:!1}function aL(){return qUe}var RUe=Ii({},Mb,{key:function(e){if(e.key){var t=NUe[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=AE(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?kUe[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:aL,charCode:function(e){return e.type==="keypress"?AE(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?AE(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),zUe=tl(RUe),jUe=Ii({},cT,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sQ=tl(jUe),FUe=Ii({},Mb,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:aL}),BUe=tl(FUe),UUe=Ii({},Uv,{propertyName:0,elapsedTime:0,pseudoElement:0}),VUe=tl(UUe),$Ue=Ii({},cT,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),HUe=tl($Ue),WUe=[9,13,27,32],sL=pd&&"CompositionEvent"in window,ob=null;pd&&"documentMode"in document&&(ob=document.documentMode);var GUe=pd&&"TextEvent"in window&&!ob,PJ=pd&&(!sL||ob&&8<ob&&11>=ob),lQ=" ",uQ=!1;function OJ(e,t){switch(e){case"keyup":return WUe.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1;}}function DJ(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Sv=!1;function YUe(e,t){switch(e){case"compositionend":return DJ(t);case"keypress":return t.which!==32?null:(uQ=!0,lQ);case"textInput":return e=t.data,e===lQ&&uQ?null:e;default:return null;}}function ZUe(e,t){if(Sv)return e==="compositionend"||!sL&&OJ(e,t)?(e=AJ(),CE=iL=Wp=null,Sv=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return PJ&&t.locale!=="ko"?null:t.data;default:return null;}}var KUe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cQ(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!KUe[e.type]:t==="textarea"}function NJ(e,t,r,n){pJ(n),t=BE(t,"onChange"),0<t.length&&(r=new oL("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var ab=null,_b=null;function XUe(e){zJ(e,0)}function dT(e){var t=Ev(e);if(oJ(t))return e}function QUe(e,t){if(e==="change")return t}var kJ=!1;pd&&(pd?(_E="oninput"in document,_E||(jk=document.createElement("div"),jk.setAttribute("oninput","return;"),_E=typeof jk.oninput=="function"),yE=_E):yE=!1,kJ=yE&&(!document.documentMode||9<document.documentMode));var yE,_E,jk;function dQ(){ab&&(ab.detachEvent("onpropertychange",LJ),_b=ab=null)}function LJ(e){if(e.propertyName==="value"&&dT(_b)){var t=[];if(NJ(t,_b,e,Z6(e)),e=XUe,Yh)e(t);else{Yh=!0;try{K6(e,t)}finally{Yh=!1,Q6()}}}}function JUe(e,t,r){e==="focusin"?(dQ(),ab=t,_b=r,ab.attachEvent("onpropertychange",LJ)):e==="focusout"&&dQ()}function eVe(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return dT(_b)}function tVe(e,t){if(e==="click")return dT(t)}function rVe(e,t){if(e==="input"||e==="change")return dT(t)}function nVe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var El=typeof Object.is=="function"?Object.is:nVe,iVe=Object.prototype.hasOwnProperty;function bb(e,t){if(El(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++)if(!iVe.call(t,r[n])||!El(e[r[n]],t[r[n]]))return!1;return!0}function pQ(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fQ(e,t){var r=pQ(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=pQ(r)}}function qJ(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?qJ(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function hQ(){for(var e=window,t=RE();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch(n){r=!1}if(r)e=t.contentWindow;else break;t=RE(e.document)}return t}function h6(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var oVe=pd&&"documentMode"in document&&11>=document.documentMode,Iv=null,m6=null,sb=null,g6=!1;function mQ(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;g6||Iv==null||Iv!==RE(n)||(n=Iv,"selectionStart"in n&&h6(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),sb&&bb(sb,n)||(sb=n,n=BE(m6,"onSelect"),0<n.length&&(t=new oL("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Iv)))}tL("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);tL("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);tL(fUe,2);for(Fk="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),bE=0;bE<Fk.length;bE++)eL.set(Fk[bE],0);var Fk,bE;zv("onMouseEnter",["mouseout","mouseover"]);zv("onMouseLeave",["mouseout","mouseover"]);zv("onPointerEnter",["pointerout","pointerover"]);zv("onPointerLeave",["pointerout","pointerover"]);rm("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));rm("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));rm("onBeforeInput",["compositionend","keypress","textInput","paste"]);rm("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));rm("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));rm("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Q_="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),RJ=new Set("cancel close invalid load scroll toggle".split(" ").concat(Q_));function gQ(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,lUe(n,t,void 0,e),e.currentTarget=null}function zJ(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var u=n.length-1;0<=u;u--){var p=n[u],h=p.instance,y=p.currentTarget;if(p=p.listener,h!==o&&i.isPropagationStopped())break e;gQ(i,p,y),o=h}else for(u=0;u<n.length;u++){if(p=n[u],h=p.instance,y=p.currentTarget,p=p.listener,h!==o&&i.isPropagationStopped())break e;gQ(i,p,y),o=h}}}if(jE)throw e=d6,jE=!1,d6=null,e}function vi(e,t){var r=VJ(t),n=e+"__bubble";r.has(n)||(FJ(t,e,2,!1),r.add(n))}var vQ="_reactListening"+Math.random().toString(36).slice(2);function jJ(e){e[vQ]||(e[vQ]=!0,rJ.forEach(function(t){RJ.has(t)||yQ(t,!1,e,null),yQ(t,!0,e,null)}))}function yQ(e,t,r,n){var i=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,o=r;if(e==="selectionchange"&&r.nodeType!==9&&(o=r.ownerDocument),n!==null&&!t&&RJ.has(e)){if(e!=="scroll")return;i|=2,o=n}var u=VJ(o),p=e+"__"+(t?"capture":"bubble");u.has(p)||(t&&(i|=4),FJ(o,e,i,t),u.add(p))}function FJ(e,t,r,n){var i=eL.get(t);switch(i===void 0?2:i){case 0:i=wUe;break;case 1:i=SUe;break;default:i=rL;}r=i.bind(null,t,r,e),i=void 0,!c6||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function BJ(e,t,r,n,i){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var u=n.tag;if(u===3||u===4){var p=n.stateNode.containerInfo;if(p===i||p.nodeType===8&&p.parentNode===i)break;if(u===4)for(u=n.return;u!==null;){var h=u.tag;if((h===3||h===4)&&(h=u.stateNode.containerInfo,h===i||h.nodeType===8&&h.parentNode===i))return;u=u.return}for(;p!==null;){if(u=Zh(p),u===null)return;if(h=u.tag,h===5||h===6){n=o=u;continue e}p=p.parentNode}}n=n.return}iUe(function(){var y=o,_=Z6(r),E=[];e:{var T=MJ.get(e);if(T!==void 0){var N=oL,R=e;switch(e){case"keypress":if(AE(r)===0)break e;case"keydown":case"keyup":N=zUe;break;case"focusin":R="focus",N=zk;break;case"focusout":R="blur",N=zk;break;case"beforeblur":case"afterblur":N=zk;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":N=oQ;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":N=TUe;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":N=BUe;break;case SJ:case IJ:case EJ:N=AUe;break;case TJ:N=VUe;break;case"scroll":N=IUe;break;case"wheel":N=HUe;break;case"copy":case"cut":case"paste":N=OUe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":N=sQ;}var j=(t&4)!==0,k=!j&&e==="scroll",L=j?T!==null?T+"Capture":null:T;j=[];for(var F=y,G;F!==null;){G=F;var ee=G.stateNode;if(G.tag===5&&ee!==null&&(G=ee,L!==null&&(ee=mb(F,L),ee!=null&&j.push(xb(F,ee,G)))),k)break;F=F.return}0<j.length&&(T=new N(T,R,null,r,_),E.push({event:T,listeners:j}))}}if(!(t&7)){e:{if(T=e==="mouseover"||e==="pointerover",N=e==="mouseout"||e==="pointerout",T&&!(t&16)&&(R=r.relatedTarget||r.fromElement)&&(Zh(R)||R[Vv]))break e;if((N||T)&&(T=_.window===_?_:(T=_.ownerDocument)?T.defaultView||T.parentWindow:window,N?(R=r.relatedTarget||r.toElement,N=y,R=R?Zh(R):null,R!==null&&(k=im(R),R!==k||R.tag!==5&&R.tag!==6)&&(R=null)):(N=null,R=y),N!==R)){if(j=oQ,ee="onMouseLeave",L="onMouseEnter",F="mouse",(e==="pointerout"||e==="pointerover")&&(j=sQ,ee="onPointerLeave",L="onPointerEnter",F="pointer"),k=N==null?T:Ev(N),G=R==null?T:Ev(R),T=new j(ee,F+"leave",N,r,_),T.target=k,T.relatedTarget=G,ee=null,Zh(_)===y&&(j=new j(L,F+"enter",R,r,_),j.target=G,j.relatedTarget=k,ee=j),k=ee,N&&R)t:{for(j=N,L=R,F=0,G=j;G;G=_v(G))F++;for(G=0,ee=L;ee;ee=_v(ee))G++;for(;0<F-G;)j=_v(j),F--;for(;0<G-F;)L=_v(L),G--;for(;F--;){if(j===L||L!==null&&j===L.alternate)break t;j=_v(j),L=_v(L)}j=null}else j=null;N!==null&&_Q(E,T,N,j,!1),R!==null&&k!==null&&_Q(E,k,R,j,!0)}}e:{if(T=y?Ev(y):window,N=T.nodeName&&T.nodeName.toLowerCase(),N==="select"||N==="input"&&T.type==="file")var ae=QUe;else if(cQ(T)){if(kJ)ae=rVe;else{ae=eVe;var ue=JUe}}else(N=T.nodeName)&&N.toLowerCase()==="input"&&(T.type==="checkbox"||T.type==="radio")&&(ae=tVe);if(ae&&(ae=ae(e,y))){NJ(E,ae,r,_);break e}ue&&ue(e,T,y),e==="focusout"&&(ue=T._wrapperState)&&ue.controlled&&T.type==="number"&&r6(T,"number",T.value)}switch(ue=y?Ev(y):window,e){case"focusin":(cQ(ue)||ue.contentEditable==="true")&&(Iv=ue,m6=y,sb=null);break;case"focusout":sb=m6=Iv=null;break;case"mousedown":g6=!0;break;case"contextmenu":case"mouseup":case"dragend":g6=!1,mQ(E,r,_);break;case"selectionchange":if(oVe)break;case"keydown":case"keyup":mQ(E,r,_);}var ge;if(sL)e:{switch(e){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e;}Oe=void 0}else Sv?OJ(e,r)&&(Oe="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Oe="onCompositionStart");Oe&&(PJ&&r.locale!=="ko"&&(Sv||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&Sv&&(ge=AJ()):(Wp=_,iL="value"in Wp?Wp.value:Wp.textContent,Sv=!0)),ue=BE(y,Oe),0<ue.length&&(Oe=new aQ(Oe,e,null,r,_),E.push({event:Oe,listeners:ue}),ge?Oe.data=ge:(ge=DJ(r),ge!==null&&(Oe.data=ge)))),(ge=GUe?YUe(e,r):ZUe(e,r))&&(y=BE(y,"onBeforeInput"),0<y.length&&(_=new aQ("onBeforeInput","beforeinput",null,r,_),E.push({event:_,listeners:y}),_.data=ge))}zJ(E,t)})}function xb(e,t,r){return{instance:e,listener:t,currentTarget:r}}function BE(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=mb(e,r),o!=null&&n.unshift(xb(e,o,i)),o=mb(e,t),o!=null&&n.push(xb(e,o,i))),e=e.return}return n}function _v(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function _Q(e,t,r,n,i){for(var o=t._reactName,u=[];r!==null&&r!==n;){var p=r,h=p.alternate,y=p.stateNode;if(h!==null&&h===n)break;p.tag===5&&y!==null&&(p=y,i?(h=mb(r,o),h!=null&&u.unshift(xb(r,h,p))):i||(h=mb(r,o),h!=null&&u.push(xb(r,h,p)))),r=r.return}u.length!==0&&e.push({event:t,listeners:u})}function UE(){}var Bk=null,Uk=null;function UJ(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus;}return!1}function v6(e,t){return e==="textarea"||e==="option"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var bQ=typeof setTimeout=="function"?setTimeout:void 0,aVe=typeof clearTimeout=="function"?clearTimeout:void 0;function lL(e){e.nodeType===1?e.textContent="":e.nodeType===9&&(e=e.body,e!=null&&(e.textContent=""))}function Dv(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break}return e}function xQ(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Vk=0;function sVe(e){return{$$typeof:G6,toString:e,valueOf:e}}var pT=Math.random().toString(36).slice(2),Gp="__reactFiber$"+pT,VE="__reactProps$"+pT,Vv="__reactContainer$"+pT,wQ="__reactEvents$"+pT;function Zh(e){var t=e[Gp];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Vv]||r[Gp]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=xQ(e);e!==null;){if(r=e[Gp])return r;e=xQ(e)}return t}e=r,r=e.parentNode}return null}function Cb(e){return e=e[Gp]||e[Vv],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ev(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Pt(33))}function fT(e){return e[VE]||null}function VJ(e){var t=e[wQ];return t===void 0&&(t=e[wQ]=new Set),t}var y6=[],Tv=-1;function uf(e){return{current:e}}function yi(e){0>Tv||(e.current=y6[Tv],y6[Tv]=null,Tv--)}function qi(e,t){Tv++,y6[Tv]=e.current,e.current=t}var af={},_a=uf(af),gs=uf(!1),Jh=af;function jv(e,t){var r=e.type.contextTypes;if(!r)return af;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in r)i[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function vs(e){return e=e.childContextTypes,e!=null}function $E(){yi(gs),yi(_a)}function SQ(e,t,r){if(_a.current!==af)throw Error(Pt(168));qi(_a,t),qi(gs,r)}function $J(e,t,r){var n=e.stateNode;if(e=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(Pt(108,Cv(t)||"Unknown",i));return Ii({},r,n)}function PE(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||af,Jh=_a.current,qi(_a,e),qi(gs,gs.current),!0}function IQ(e,t,r){var n=e.stateNode;if(!n)throw Error(Pt(169));r?(e=$J(e,t,Jh),n.__reactInternalMemoizedMergedChildContext=e,yi(gs),yi(_a),qi(_a,e)):yi(gs),qi(gs,r)}var uL=null,Qh=null,lVe=wo.unstable_runWithPriority,cL=wo.unstable_scheduleCallback,_6=wo.unstable_cancelCallback,uVe=wo.unstable_shouldYield,EQ=wo.unstable_requestPaint,b6=wo.unstable_now,cVe=wo.unstable_getCurrentPriorityLevel,hT=wo.unstable_ImmediatePriority,HJ=wo.unstable_UserBlockingPriority,WJ=wo.unstable_NormalPriority,GJ=wo.unstable_LowPriority,YJ=wo.unstable_IdlePriority,$k={},dVe=EQ!==void 0?EQ:function(){},sd=null,OE=null,Hk=!1,TQ=b6(),va=1e4>TQ?b6:function(){return b6()-TQ};function Fv(){switch(cVe()){case hT:return 99;case HJ:return 98;case WJ:return 97;case GJ:return 96;case YJ:return 95;default:throw Error(Pt(332));}}function ZJ(e){switch(e){case 99:return hT;case 98:return HJ;case 97:return WJ;case 96:return GJ;case 95:return YJ;default:throw Error(Pt(332));}}function em(e,t){return e=ZJ(e),lVe(e,t)}function wb(e,t,r){return e=ZJ(e),cL(e,t,r)}function tc(){if(OE!==null){var e=OE;OE=null,_6(e)}KJ()}function KJ(){if(!Hk&&sd!==null){Hk=!0;var e=0;try{var t=sd;em(99,function(){for(;e<t.length;e++){var r=t[e];do r=r(!0);while(r!==null)}}),sd=null}catch(r){throw sd!==null&&(sd=sd.slice(e+1)),cL(hT,tc),r}finally{Hk=!1}}}var pVe=nm.ReactCurrentBatchConfig;function pu(e,t){if(e&&e.defaultProps){t=Ii({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}var HE=uf(null),WE=null,Mv=null,GE=null;function dL(){GE=Mv=WE=null}function pL(e){var t=HE.current;yi(HE),e.type._context._currentValue=t}function XJ(e,t){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)===t){if(r===null||(r.childLanes&t)===t)break;r.childLanes|=t}else e.childLanes|=t,r!==null&&(r.childLanes|=t);e=e.return}}function Nv(e,t){WE=e,GE=Mv=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(fu=!0),e.firstContext=null)}function Cl(e,t){if(GE!==e&&t!==!1&&t!==0)if((typeof t!="number"||t===1073741823)&&(GE=e,t=1073741823),t={context:e,observedBits:t,next:null},Mv===null){if(WE===null)throw Error(Pt(308));Mv=t,WE.dependencies={lanes:0,firstContext:t,responders:null}}else Mv=Mv.next=t;return e._currentValue}var $p=!1;function fL(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function QJ(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Qp(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Jp(e,t){if(e=e.updateQueue,e!==null){e=e.shared;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}}function MQ(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var u={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?i=o=u:o=o.next=u,r=r.next}while(r!==null);o===null?i=o=t:o=o.next=t}else i=o=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Sb(e,t,r,n){var i=e.updateQueue;$p=!1;var o=i.firstBaseUpdate,u=i.lastBaseUpdate,p=i.shared.pending;if(p!==null){i.shared.pending=null;var h=p,y=h.next;h.next=null,u===null?o=y:u.next=y,u=h;var _=e.alternate;if(_!==null){_=_.updateQueue;var E=_.lastBaseUpdate;E!==u&&(E===null?_.firstBaseUpdate=y:E.next=y,_.lastBaseUpdate=h)}}if(o!==null){E=i.baseState,u=0,_=y=h=null;do{p=o.lane;var T=o.eventTime;if((n&p)===p){_!==null&&(_=_.next={eventTime:T,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var N=e,R=o;switch(p=t,T=r,R.tag){case 1:if(N=R.payload,typeof N=="function"){E=N.call(T,E,p);break e}E=N;break e;case 3:N.flags=N.flags&-4097|64;case 0:if(N=R.payload,p=typeof N=="function"?N.call(T,E,p):N,p==null)break e;E=Ii({},E,p);break e;case 2:$p=!0;}}o.callback!==null&&(e.flags|=32,p=i.effects,p===null?i.effects=[o]:p.push(o))}else T={eventTime:T,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},_===null?(y=_=T,h=E):_=_.next=T,u|=p;if(o=o.next,o===null){if(p=i.shared.pending,p===null)break;o=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);_===null&&(h=E),i.baseState=h,i.firstBaseUpdate=y,i.lastBaseUpdate=_,Pb|=u,e.lanes=u,e.memoizedState=E}}function CQ(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(Pt(191,i));i.call(n)}}}var JJ=new oT.Component().refs;function YE(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Ii({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var mT={isMounted:function(e){return(e=e._reactInternals)?im(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=el(),i=ef(e),o=Qp(n,i);o.payload=t,r!=null&&(o.callback=r),Jp(e,o),tf(e,i,n)},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=el(),i=ef(e),o=Qp(n,i);o.tag=1,o.payload=t,r!=null&&(o.callback=r),Jp(e,o),tf(e,i,n)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=el(),n=ef(e),i=Qp(r,n);i.tag=2,t!=null&&(i.callback=t),Jp(e,i),tf(e,n,r)}};function AQ(e,t,r,n,i,o,u){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,u):t.prototype&&t.prototype.isPureReactComponent?!bb(r,n)||!bb(i,o):!0}function eee(e,t,r){var n=!1,i=af,o=t.contextType;return typeof o=="object"&&o!==null?o=Cl(o):(i=vs(t)?Jh:_a.current,n=t.contextTypes,o=(n=n!=null)?jv(e,i):af),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=mT,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function PQ(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&mT.enqueueReplaceState(t,t.state,null)}function x6(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs=JJ,fL(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=Cl(o):(o=vs(t)?Jh:_a.current,i.context=jv(e,o)),Sb(e,r,i,n),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(YE(e,t,o,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&mT.enqueueReplaceState(i,i.state,null),Sb(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4)}var xE=Array.isArray;function V_(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Pt(309));var n=r.stateNode}if(!n)throw Error(Pt(147,e));var i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var u=n.refs;u===JJ&&(u=n.refs={}),o===null?delete u[i]:u[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(Pt(284));if(!r._owner)throw Error(Pt(290,e))}return e}function wE(e,t){if(e.type!=="textarea")throw Error(Pt(31,Object.prototype.toString.call(t)==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function tee(e){function t(k,L){if(e){var F=k.lastEffect;F!==null?(F.nextEffect=L,k.lastEffect=L):k.firstEffect=k.lastEffect=L,L.nextEffect=null,L.flags=8}}function r(k,L){if(!e)return null;for(;L!==null;)t(k,L),L=L.sibling;return null}function n(k,L){for(k=new Map;L!==null;)L.key!==null?k.set(L.key,L):k.set(L.index,L),L=L.sibling;return k}function i(k,L){return k=lf(k,L),k.index=0,k.sibling=null,k}function o(k,L,F){return k.index=F,e?(F=k.alternate,F!==null?(F=F.index,F<L?(k.flags=2,L):F):(k.flags=2,L)):L}function u(k){return e&&k.alternate===null&&(k.flags=2),k}function p(k,L,F,G){return L===null||L.tag!==6?(L=Kk(F,k.mode,G),L.return=k,L):(L=i(L,F),L.return=k,L)}function h(k,L,F,G){return L!==null&&L.elementType===F.type?(G=i(L,F.props),G.ref=V_(k,L,F),G.return=k,G):(G=LE(F.type,F.key,F.props,null,k.mode,G),G.ref=V_(k,L,F),G.return=k,G)}function y(k,L,F,G){return L===null||L.tag!==4||L.stateNode.containerInfo!==F.containerInfo||L.stateNode.implementation!==F.implementation?(L=Xk(F,k.mode,G),L.return=k,L):(L=i(L,F.children||[]),L.return=k,L)}function _(k,L,F,G,ee){return L===null||L.tag!==7?(L=Rv(F,k.mode,G,ee),L.return=k,L):(L=i(L,F),L.return=k,L)}function E(k,L,F){if(typeof L=="string"||typeof L=="number")return L=Kk(""+L,k.mode,F),L.return=k,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case K_:return F=LE(L.type,L.key,L.props,null,k.mode,F),F.ref=V_(k,null,L),F.return=k,F;case Gh:return L=Xk(L,k.mode,F),L.return=k,L;}if(xE(L)||z_(L))return L=Rv(L,k.mode,F,null),L.return=k,L;wE(k,L)}return null}function T(k,L,F,G){var ee=L!==null?L.key:null;if(typeof F=="string"||typeof F=="number")return ee!==null?null:p(k,L,""+F,G);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case K_:return F.key===ee?F.type===Hp?_(k,L,F.props.children,G,ee):h(k,L,F,G):null;case Gh:return F.key===ee?y(k,L,F,G):null;}if(xE(F)||z_(F))return ee!==null?null:_(k,L,F,G,null);wE(k,F)}return null}function N(k,L,F,G,ee){if(typeof G=="string"||typeof G=="number")return k=k.get(F)||null,p(L,k,""+G,ee);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case K_:return k=k.get(G.key===null?F:G.key)||null,G.type===Hp?_(L,k,G.props.children,ee,G.key):h(L,k,G,ee);case Gh:return k=k.get(G.key===null?F:G.key)||null,y(L,k,G,ee);}if(xE(G)||z_(G))return k=k.get(F)||null,_(L,k,G,ee,null);wE(L,G)}return null}function R(k,L,F,G){for(var ee=null,ae=null,ue=L,ge=L=0,Oe=null;ue!==null&&ge<F.length;ge++){ue.index>ge?(Oe=ue,ue=null):Oe=ue.sibling;var _e=T(k,ue,F[ge],G);if(_e===null){ue===null&&(ue=Oe);break}e&&ue&&_e.alternate===null&&t(k,ue),L=o(_e,L,ge),ae===null?ee=_e:ae.sibling=_e,ae=_e,ue=Oe}if(ge===F.length)return r(k,ue),ee;if(ue===null){for(;ge<F.length;ge++)ue=E(k,F[ge],G),ue!==null&&(L=o(ue,L,ge),ae===null?ee=ue:ae.sibling=ue,ae=ue);return ee}for(ue=n(k,ue);ge<F.length;ge++)Oe=N(ue,k,ge,F[ge],G),Oe!==null&&(e&&Oe.alternate!==null&&ue.delete(Oe.key===null?ge:Oe.key),L=o(Oe,L,ge),ae===null?ee=Oe:ae.sibling=Oe,ae=Oe);return e&&ue.forEach(function(ze){return t(k,ze)}),ee}function j(k,L,F,G){var ee=z_(F);if(typeof ee!="function")throw Error(Pt(150));if(F=ee.call(F),F==null)throw Error(Pt(151));for(var ae=ee=null,ue=L,ge=L=0,Oe=null,_e=F.next();ue!==null&&!_e.done;ge++,_e=F.next()){ue.index>ge?(Oe=ue,ue=null):Oe=ue.sibling;var ze=T(k,ue,_e.value,G);if(ze===null){ue===null&&(ue=Oe);break}e&&ue&&ze.alternate===null&&t(k,ue),L=o(ze,L,ge),ae===null?ee=ze:ae.sibling=ze,ae=ze,ue=Oe}if(_e.done)return r(k,ue),ee;if(ue===null){for(;!_e.done;ge++,_e=F.next())_e=E(k,_e.value,G),_e!==null&&(L=o(_e,L,ge),ae===null?ee=_e:ae.sibling=_e,ae=_e);return ee}for(ue=n(k,ue);!_e.done;ge++,_e=F.next())_e=N(ue,k,ge,_e.value,G),_e!==null&&(e&&_e.alternate!==null&&ue.delete(_e.key===null?ge:_e.key),L=o(_e,L,ge),ae===null?ee=_e:ae.sibling=_e,ae=_e);return e&&ue.forEach(function(We){return t(k,We)}),ee}return function(k,L,F,G){var ee=typeof F=="object"&&F!==null&&F.type===Hp&&F.key===null;ee&&(F=F.props.children);var ae=typeof F=="object"&&F!==null;if(ae)switch(F.$$typeof){case K_:e:{for(ae=F.key,ee=L;ee!==null;){if(ee.key===ae){switch(ee.tag){case 7:if(F.type===Hp){r(k,ee.sibling),L=i(ee,F.props.children),L.return=k,k=L;break e}break;default:if(ee.elementType===F.type){r(k,ee.sibling),L=i(ee,F.props),L.ref=V_(k,ee,F),L.return=k,k=L;break e}}r(k,ee);break}else t(k,ee);ee=ee.sibling}F.type===Hp?(L=Rv(F.props.children,k.mode,G,F.key),L.return=k,k=L):(G=LE(F.type,F.key,F.props,null,k.mode,G),G.ref=V_(k,L,F),G.return=k,k=G)}return u(k);case Gh:e:{for(ee=F.key;L!==null;){if(L.key===ee){if(L.tag===4&&L.stateNode.containerInfo===F.containerInfo&&L.stateNode.implementation===F.implementation){r(k,L.sibling),L=i(L,F.children||[]),L.return=k,k=L;break e}else{r(k,L);break}}else t(k,L);L=L.sibling}L=Xk(F,k.mode,G),L.return=k,k=L}return u(k);}if(typeof F=="string"||typeof F=="number")return F=""+F,L!==null&&L.tag===6?(r(k,L.sibling),L=i(L,F),L.return=k,k=L):(r(k,L),L=Kk(F,k.mode,G),L.return=k,k=L),u(k);if(xE(F))return R(k,L,F,G);if(z_(F))return j(k,L,F,G);if(ae&&wE(k,F),typeof F=="undefined"&&!ee)switch(k.tag){case 1:case 22:case 0:case 11:case 15:throw Error(Pt(152,Cv(k.type)||"Component"));}return r(k,L)}}var ZE=tee(!0),ree=tee(!1),Ab={},Ju=uf(Ab),Ib=uf(Ab),Eb=uf(Ab);function Kh(e){if(e===Ab)throw Error(Pt(174));return e}function w6(e,t){switch(qi(Eb,t),qi(Ib,e),qi(Ju,Ab),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:a6(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=a6(t,e);}yi(Ju),qi(Ju,t)}function Bv(){yi(Ju),yi(Ib),yi(Eb)}function OQ(e){Kh(Eb.current);var t=Kh(Ju.current),r=a6(t,e.type);t!==r&&(qi(Ib,e),qi(Ju,r))}function hL(e){Ib.current===e&&(yi(Ju),yi(Ib))}var Li=uf(0);function KE(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&64)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ud=null,Yp=null,ec=!1;function nee(e,t){var r=Tl(5,null,null,0);r.elementType="DELETED",r.type="DELETED",r.stateNode=t,r.return=e,r.flags=8,e.lastEffect!==null?(e.lastEffect.nextEffect=r,e.lastEffect=r):e.firstEffect=e.lastEffect=r}function DQ(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,!0):!1;case 13:return!1;default:return!1;}}function S6(e){if(ec){var t=Yp;if(t){var r=t;if(!DQ(e,t)){if(t=Dv(r.nextSibling),!t||!DQ(e,t)){e.flags=e.flags&-1025|2,ec=!1,ud=e;return}nee(ud,r)}ud=e,Yp=Dv(t.firstChild)}else e.flags=e.flags&-1025|2,ec=!1,ud=e}}function NQ(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ud=e}function SE(e){if(e!==ud)return!1;if(!ec)return NQ(e),ec=!0,!1;var t=e.type;if(e.tag!==5||t!=="head"&&t!=="body"&&!v6(t,e.memoizedProps))for(t=Yp;t;)nee(e,t),t=Dv(t.nextSibling);if(NQ(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Pt(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Yp=Dv(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Yp=null}}else Yp=ud?Dv(e.stateNode.nextSibling):null;return!0}function Wk(){Yp=ud=null,ec=!1}var kv=[];function mL(){for(var e=0;e<kv.length;e++)kv[e]._workInProgressVersionPrimary=null;kv.length=0}var lb=nm.ReactCurrentDispatcher,Ml=nm.ReactCurrentBatchConfig,Tb=0,Ui=null,ga=null,jo=null,XE=!1,ub=!1;function hs(){throw Error(Pt(321))}function gL(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!El(e[r],t[r]))return!1;return!0}function vL(e,t,r,n,i,o){if(Tb=o,Ui=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,lb.current=e===null||e.memoizedState===null?hVe:mVe,e=r(n,i),ub){o=0;do{if(ub=!1,!(25>o))throw Error(Pt(301));o+=1,jo=ga=null,t.updateQueue=null,lb.current=gVe,e=r(n,i)}while(ub)}if(lb.current=tT,t=ga!==null&&ga.next!==null,Tb=0,jo=ga=Ui=null,XE=!1,t)throw Error(Pt(300));return e}function Xh(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jo===null?Ui.memoizedState=jo=e:jo=jo.next=e,jo}function om(){if(ga===null){var e=Ui.alternate;e=e!==null?e.memoizedState:null}else e=ga.next;var t=jo===null?Ui.memoizedState:jo.next;if(t!==null)jo=t,ga=e;else{if(e===null)throw Error(Pt(310));ga=e,e={memoizedState:ga.memoizedState,baseState:ga.baseState,baseQueue:ga.baseQueue,queue:ga.queue,next:null},jo===null?Ui.memoizedState=jo=e:jo=jo.next=e}return jo}function Xu(e,t){return typeof t=="function"?t(e):t}function $_(e){var t=om(),r=t.queue;if(r===null)throw Error(Pt(311));r.lastRenderedReducer=e;var n=ga,i=n.baseQueue,o=r.pending;if(o!==null){if(i!==null){var u=i.next;i.next=o.next,o.next=u}n.baseQueue=i=o,r.pending=null}if(i!==null){i=i.next,n=n.baseState;var p=u=o=null,h=i;do{var y=h.lane;if((Tb&y)===y)p!==null&&(p=p.next={lane:0,action:h.action,eagerReducer:h.eagerReducer,eagerState:h.eagerState,next:null}),n=h.eagerReducer===e?h.eagerState:e(n,h.action);else{var _={lane:y,action:h.action,eagerReducer:h.eagerReducer,eagerState:h.eagerState,next:null};p===null?(u=p=_,o=n):p=p.next=_,Ui.lanes|=y,Pb|=y}h=h.next}while(h!==null&&h!==i);p===null?o=n:p.next=u,El(n,t.memoizedState)||(fu=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=p,r.lastRenderedState=n}return[t.memoizedState,r.dispatch]}function H_(e){var t=om(),r=t.queue;if(r===null)throw Error(Pt(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,o=t.memoizedState;if(i!==null){r.pending=null;var u=i=i.next;do o=e(o,u.action),u=u.next;while(u!==i);El(o,t.memoizedState)||(fu=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function kQ(e,t,r){var n=t._getVersion;n=n(t._source);var i=t._workInProgressVersionPrimary;if(i!==null?e=i===n:(e=e.mutableReadLanes,(e=(Tb&e)===e)&&(t._workInProgressVersionPrimary=n,kv.push(t))),e)return r(t._source);throw kv.push(t),Error(Pt(350))}function iee(e,t,r,n){var i=Ha;if(i===null)throw Error(Pt(349));var o=t._getVersion,u=o(t._source),p=lb.current,h=p.useState(function(){return kQ(i,t,r)}),y=h[1],_=h[0];h=jo;var E=e.memoizedState,T=E.refs,N=T.getSnapshot,R=E.source;E=E.subscribe;var j=Ui;return e.memoizedState={refs:T,source:t,subscribe:n},p.useEffect(function(){T.getSnapshot=r,T.setSnapshot=y;var k=o(t._source);if(!El(u,k)){k=r(t._source),El(_,k)||(y(k),k=ef(j),i.mutableReadLanes|=k&i.pendingLanes),k=i.mutableReadLanes,i.entangledLanes|=k;for(var L=i.entanglements,F=k;0<F;){var G=31-of(F),ee=1<<G;L[G]|=k,F&=~ee}}},[r,t,n]),p.useEffect(function(){return n(t._source,function(){var k=T.getSnapshot,L=T.setSnapshot;try{L(k(t._source));var F=ef(j);i.mutableReadLanes|=F&i.pendingLanes}catch(G){L(function(){throw G})}})},[t,n]),El(N,r)&&El(R,t)&&El(E,n)||(e={pending:null,dispatch:null,lastRenderedReducer:Xu,lastRenderedState:_},e.dispatch=y=bL.bind(null,Ui,e),h.queue=e,h.baseQueue=null,_=kQ(i,t,r),h.memoizedState=h.baseState=_),_}function oee(e,t,r){var n=om();return iee(n,e,t,r)}function W_(e){var t=Xh();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e=t.queue={pending:null,dispatch:null,lastRenderedReducer:Xu,lastRenderedState:e},e=e.dispatch=bL.bind(null,Ui,e),[t.memoizedState,e]}function QE(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Ui.updateQueue,t===null?(t={lastEffect:null},Ui.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function LQ(e){var t=Xh();return e={current:e},t.memoizedState=e}function JE(){return om().memoizedState}function I6(e,t,r,n){var i=Xh();Ui.flags|=e,i.memoizedState=QE(1|t,r,void 0,n===void 0?null:n)}function yL(e,t,r,n){var i=om();n=n===void 0?null:n;var o=void 0;if(ga!==null){var u=ga.memoizedState;if(o=u.destroy,n!==null&&gL(n,u.deps)){QE(t,r,o,n);return}}Ui.flags|=e,i.memoizedState=QE(1|t,r,o,n)}function qQ(e,t){return I6(516,4,e,t)}function eT(e,t){return yL(516,4,e,t)}function aee(e,t){return yL(4,2,e,t)}function see(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function lee(e,t,r){return r=r!=null?r.concat([e]):null,yL(4,2,see.bind(null,t,e),r)}function _L(){}function uee(e,t){var r=om();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&gL(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function cee(e,t){var r=om();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&gL(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function fVe(e,t){var r=Fv();em(98>r?98:r,function(){e(!0)}),em(97<r?97:r,function(){var n=Ml.transition;Ml.transition=1;try{e(!1),t()}finally{Ml.transition=n}})}function bL(e,t,r){var n=el(),i=ef(e),o={lane:i,action:r,eagerReducer:null,eagerState:null,next:null},u=t.pending;if(u===null?o.next=o:(o.next=u.next,u.next=o),t.pending=o,u=e.alternate,e===Ui||u!==null&&u===Ui)ub=XE=!0;else{if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var p=t.lastRenderedState,h=u(p,r);if(o.eagerReducer=u,o.eagerState=h,El(h,p))return}catch(y){}finally{}tf(e,i,n)}}var tT={readContext:Cl,useCallback:hs,useContext:hs,useEffect:hs,useImperativeHandle:hs,useLayoutEffect:hs,useMemo:hs,useReducer:hs,useRef:hs,useState:hs,useDebugValue:hs,useDeferredValue:hs,useTransition:hs,useMutableSource:hs,useOpaqueIdentifier:hs,unstable_isNewReconciler:!1},hVe={readContext:Cl,useCallback:function(e,t){return Xh().memoizedState=[e,t===void 0?null:t],e},useContext:Cl,useEffect:qQ,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,I6(4,2,see.bind(null,t,e),r)},useLayoutEffect:function(e,t){return I6(4,2,e,t)},useMemo:function(e,t){var r=Xh();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Xh();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e=n.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},e=e.dispatch=bL.bind(null,Ui,e),[n.memoizedState,e]},useRef:LQ,useState:W_,useDebugValue:_L,useDeferredValue:function(e){var t=W_(e),r=t[0],n=t[1];return qQ(function(){var i=Ml.transition;Ml.transition=1;try{n(e)}finally{Ml.transition=i}},[e]),r},useTransition:function(){var e=W_(!1),t=e[0];return e=fVe.bind(null,e[1]),LQ(e),[e,t]},useMutableSource:function(e,t,r){var n=Xh();return n.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:r},iee(n,e,t,r)},useOpaqueIdentifier:function(){if(ec){var e=!1,t=sVe(function(){throw e||(e=!0,r("r:"+(Vk++).toString(36))),Error(Pt(355))}),r=W_(t)[1];return!(Ui.mode&2)&&(Ui.flags|=516,QE(5,function(){r("r:"+(Vk++).toString(36))},void 0,null)),t}return t="r:"+(Vk++).toString(36),W_(t),t},unstable_isNewReconciler:!1},mVe={readContext:Cl,useCallback:uee,useContext:Cl,useEffect:eT,useImperativeHandle:lee,useLayoutEffect:aee,useMemo:cee,useReducer:$_,useRef:JE,useState:function(){return $_(Xu)},useDebugValue:_L,useDeferredValue:function(e){var t=$_(Xu),r=t[0],n=t[1];return eT(function(){var i=Ml.transition;Ml.transition=1;try{n(e)}finally{Ml.transition=i}},[e]),r},useTransition:function(){var e=$_(Xu)[0];return[JE().current,e]},useMutableSource:oee,useOpaqueIdentifier:function(){return $_(Xu)[0]},unstable_isNewReconciler:!1},gVe={readContext:Cl,useCallback:uee,useContext:Cl,useEffect:eT,useImperativeHandle:lee,useLayoutEffect:aee,useMemo:cee,useReducer:H_,useRef:JE,useState:function(){return H_(Xu)},useDebugValue:_L,useDeferredValue:function(e){var t=H_(Xu),r=t[0],n=t[1];return eT(function(){var i=Ml.transition;Ml.transition=1;try{n(e)}finally{Ml.transition=i}},[e]),r},useTransition:function(){var e=H_(Xu)[0];return[JE().current,e]},useMutableSource:oee,useOpaqueIdentifier:function(){return H_(Xu)[0]},unstable_isNewReconciler:!1},vVe=nm.ReactCurrentOwner,fu=!1;function ms(e,t,r,n){t.child=e===null?ree(t,null,r,n):ZE(t,e.child,r,n)}function RQ(e,t,r,n,i){r=r.render;var o=t.ref;return Nv(t,i),n=vL(e,t,r,n,o,i),e!==null&&!fu?(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,cd(e,t,i)):(t.flags|=1,ms(e,t,n,i),t.child)}function zQ(e,t,r,n,i,o){if(e===null){var u=r.type;return typeof u=="function"&&!TL(u)&&u.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=u,dee(e,t,u,n,i,o)):(e=LE(r.type,null,n,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}return u=e.child,!(i&o)&&(i=u.memoizedProps,r=r.compare,r=r!==null?r:bb,r(i,n)&&e.ref===t.ref)?cd(e,t,o):(t.flags|=1,e=lf(u,n),e.ref=t.ref,e.return=t,t.child=e)}function dee(e,t,r,n,i,o){if(e!==null&&bb(e.memoizedProps,n)&&e.ref===t.ref)if(fu=!1,(o&i)!==0)e.flags&16384&&(fu=!0);else return t.lanes=e.lanes,cd(e,t,o);return E6(e,t,r,n,o)}function Gk(e,t,r){var n=t.pendingProps,i=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden"||n.mode==="unstable-defer-without-hiding"){if(!(t.mode&4))t.memoizedState={baseLanes:0},EE(t,r);else if(r&1073741824)t.memoizedState={baseLanes:0},EE(t,o!==null?o.baseLanes:r);else return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},EE(t,e),null;}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,EE(t,n);return ms(e,t,i,r),t.child}function pee(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=128)}function E6(e,t,r,n,i){var o=vs(r)?Jh:_a.current;return o=jv(t,o),Nv(t,i),r=vL(e,t,r,n,o,i),e!==null&&!fu?(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,cd(e,t,i)):(t.flags|=1,ms(e,t,r,i),t.child)}function jQ(e,t,r,n,i){if(vs(r)){var o=!0;PE(t)}else o=!1;if(Nv(t,i),t.stateNode===null)e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),eee(t,r,n),x6(t,r,n,i),n=!0;else if(e===null){var u=t.stateNode,p=t.memoizedProps;u.props=p;var h=u.context,y=r.contextType;typeof y=="object"&&y!==null?y=Cl(y):(y=vs(r)?Jh:_a.current,y=jv(t,y));var _=r.getDerivedStateFromProps,E=typeof _=="function"||typeof u.getSnapshotBeforeUpdate=="function";E||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(p!==n||h!==y)&&PQ(t,u,n,y),$p=!1;var T=t.memoizedState;u.state=T,Sb(t,n,u,i),h=t.memoizedState,p!==n||T!==h||gs.current||$p?(typeof _=="function"&&(YE(t,r,_,n),h=t.memoizedState),(p=$p||AQ(t,r,p,n,T,h,y))?(E||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4)):(typeof u.componentDidMount=="function"&&(t.flags|=4),t.memoizedProps=n,t.memoizedState=h),u.props=n,u.state=h,u.context=y,n=p):(typeof u.componentDidMount=="function"&&(t.flags|=4),n=!1)}else{u=t.stateNode,QJ(e,t),p=t.memoizedProps,y=t.type===t.elementType?p:pu(t.type,p),u.props=y,E=t.pendingProps,T=u.context,h=r.contextType,typeof h=="object"&&h!==null?h=Cl(h):(h=vs(r)?Jh:_a.current,h=jv(t,h));var N=r.getDerivedStateFromProps;(_=typeof N=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(p!==E||T!==h)&&PQ(t,u,n,h),$p=!1,T=t.memoizedState,u.state=T,Sb(t,n,u,i);var R=t.memoizedState;p!==E||T!==R||gs.current||$p?(typeof N=="function"&&(YE(t,r,N,n),R=t.memoizedState),(y=$p||AQ(t,r,y,n,T,R,h))?(_||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(n,R,h),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(n,R,h)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=256)):(typeof u.componentDidUpdate!="function"||p===e.memoizedProps&&T===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&T===e.memoizedState||(t.flags|=256),t.memoizedProps=n,t.memoizedState=R),u.props=n,u.state=R,u.context=h,n=y):(typeof u.componentDidUpdate!="function"||p===e.memoizedProps&&T===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&T===e.memoizedState||(t.flags|=256),n=!1)}return T6(e,t,r,n,o,i)}function T6(e,t,r,n,i,o){pee(e,t);var u=(t.flags&64)!==0;if(!n&&!u)return i&&IQ(t,r,!1),cd(e,t,o);n=t.stateNode,vVe.current=t;var p=u&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&u?(t.child=ZE(t,e.child,null,o),t.child=ZE(t,null,p,o)):ms(e,t,p,o),t.memoizedState=n.state,i&&IQ(t,r,!0),t.child}function FQ(e){var t=e.stateNode;t.pendingContext?SQ(e,t.pendingContext,t.pendingContext!==t.context):t.context&&SQ(e,t.context,!1),w6(e,t.containerInfo)}var IE={dehydrated:null,retryLane:0};function BQ(e,t,r){var n=t.pendingProps,i=Li.current,o=!1,u;return(u=(t.flags&64)!==0)||(u=e!==null&&e.memoizedState===null?!1:(i&2)!==0),u?(o=!0,t.flags&=-65):e!==null&&e.memoizedState===null||n.fallback===void 0||n.unstable_avoidThisFallback===!0||(i|=1),qi(Li,i&1),e===null?(n.fallback!==void 0&&S6(t),e=n.children,i=n.fallback,o?(e=UQ(t,e,i,r),t.child.memoizedState={baseLanes:r},t.memoizedState=IE,e):typeof n.unstable_expectedLoadTime=="number"?(e=UQ(t,e,i,r),t.child.memoizedState={baseLanes:r},t.memoizedState=IE,t.lanes=33554432,e):(r=ML({mode:"visible",children:e},t.mode,r,null),r.return=t,t.child=r)):e.memoizedState!==null?o?(n=$Q(e,t,n.children,n.fallback,r),o=t.child,i=e.child.memoizedState,o.memoizedState=i===null?{baseLanes:r}:{baseLanes:i.baseLanes|r},o.childLanes=e.childLanes&~r,t.memoizedState=IE,n):(r=VQ(e,t,n.children,r),t.memoizedState=null,r):o?(n=$Q(e,t,n.children,n.fallback,r),o=t.child,i=e.child.memoizedState,o.memoizedState=i===null?{baseLanes:r}:{baseLanes:i.baseLanes|r},o.childLanes=e.childLanes&~r,t.memoizedState=IE,n):(r=VQ(e,t,n.children,r),t.memoizedState=null,r)}function UQ(e,t,r,n){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},!(i&2)&&o!==null?(o.childLanes=0,o.pendingProps=t):o=ML(t,i,0,null),r=Rv(r,i,n,null),o.return=e,r.return=e,o.sibling=r,e.child=o,r}function VQ(e,t,r,n){var i=e.child;return e=i.sibling,r=lf(i,{mode:"visible",children:r}),!(t.mode&2)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=r}function $Q(e,t,r,n,i){var o=t.mode,u=e.child;e=u.sibling;var p={mode:"hidden",children:r};return!(o&2)&&t.child!==u?(r=t.child,r.childLanes=0,r.pendingProps=p,u=r.lastEffect,u!==null?(t.firstEffect=r.firstEffect,t.lastEffect=u,u.nextEffect=null):t.firstEffect=t.lastEffect=null):r=lf(u,p),e!==null?n=lf(e,n):(n=Rv(n,o,i,null),n.flags|=2),n.return=t,r.return=t,r.sibling=n,t.child=r,n}function HQ(e,t){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),XJ(e.return,t)}function Yk(e,t,r,n,i,o){var u=e.memoizedState;u===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i,lastEffect:o}:(u.isBackwards=t,u.rendering=null,u.renderingStartTime=0,u.last=n,u.tail=r,u.tailMode=i,u.lastEffect=o)}function WQ(e,t,r){var n=t.pendingProps,i=n.revealOrder,o=n.tail;if(ms(e,t,n.children,r),n=Li.current,n&2)n=n&1|2,t.flags|=64;else{if(e!==null&&e.flags&64)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&HQ(e,r);else if(e.tag===19)HQ(e,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(qi(Li,n),!(t.mode&2))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&KE(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),Yk(t,!1,i,r,o,t.lastEffect);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&KE(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}Yk(t,!0,r,null,o,t.lastEffect);break;case"together":Yk(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null;}return t.child}function cd(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Pb|=t.lanes,r&t.childLanes){if(e!==null&&t.child!==e.child)throw Error(Pt(153));if(t.child!==null){for(e=t.child,r=lf(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=lf(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}return null}var fee,M6,hee,mee;fee=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};M6=function(){};hee=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Kh(Ju.current);var o=null;switch(r){case"input":i=e6(e,i),n=e6(e,n),o=[];break;case"option":i=n6(e,i),n=n6(e,n),o=[];break;case"select":i=Ii({},i,{value:void 0}),n=Ii({},n,{value:void 0}),o=[];break;case"textarea":i=i6(e,i),n=i6(e,n),o=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=UE);}s6(r,n);var u;r=null;for(y in i)if(!n.hasOwnProperty(y)&&i.hasOwnProperty(y)&&i[y]!=null)if(y==="style"){var p=i[y];for(u in p)p.hasOwnProperty(u)&&(r||(r={}),r[u]="")}else y!=="dangerouslySetInnerHTML"&&y!=="children"&&y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(fb.hasOwnProperty(y)?o||(o=[]):(o=o||[]).push(y,null));for(y in n){var h=n[y];if(p=i!=null?i[y]:void 0,n.hasOwnProperty(y)&&h!==p&&(h!=null||p!=null))if(y==="style"){if(p){for(u in p)!p.hasOwnProperty(u)||h&&h.hasOwnProperty(u)||(r||(r={}),r[u]="");for(u in h)h.hasOwnProperty(u)&&p[u]!==h[u]&&(r||(r={}),r[u]=h[u])}else r||(o||(o=[]),o.push(y,r)),r=h;}else y==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,p=p?p.__html:void 0,h!=null&&p!==h&&(o=o||[]).push(y,h)):y==="children"?typeof h!="string"&&typeof h!="number"||(o=o||[]).push(y,""+h):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&(fb.hasOwnProperty(y)?(h!=null&&y==="onScroll"&&vi("scroll",e),o||p===h||(o=[])):typeof h=="object"&&h!==null&&h.$$typeof===G6?h.toString():(o=o||[]).push(y,h))}r&&(o=o||[]).push("style",r);var y=o;(t.updateQueue=y)&&(t.flags|=4)}};mee=function(e,t,r,n){r!==n&&(t.flags|=4)};function G_(e,t){if(!ec)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null;}}function yVe(e,t,r){var n=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return vs(t.type)&&$E(),null;case 3:return Bv(),yi(gs),yi(_a),mL(),n=t.stateNode,n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(SE(t)?t.flags|=4:n.hydrate||(t.flags|=256)),M6(t),null;case 5:hL(t);var i=Kh(Eb.current);if(r=t.type,e!==null&&t.stateNode!=null)hee(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=128);else{if(!n){if(t.stateNode===null)throw Error(Pt(166));return null}if(e=Kh(Ju.current),SE(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[Gp]=t,n[VE]=o,r){case"dialog":vi("cancel",n),vi("close",n);break;case"iframe":case"object":case"embed":vi("load",n);break;case"video":case"audio":for(e=0;e<Q_.length;e++)vi(Q_[e],n);break;case"source":vi("error",n);break;case"img":case"image":case"link":vi("error",n),vi("load",n);break;case"details":vi("toggle",n);break;case"input":YX(n,o),vi("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},vi("invalid",n);break;case"textarea":KX(n,o),vi("invalid",n);}s6(r,o),e=null;for(var u in o)o.hasOwnProperty(u)&&(i=o[u],u==="children"?typeof i=="string"?n.textContent!==i&&(e=["children",i]):typeof i=="number"&&n.textContent!==""+i&&(e=["children",""+i]):fb.hasOwnProperty(u)&&i!=null&&u==="onScroll"&&vi("scroll",n));switch(r){case"input":hE(n),ZX(n,o,!0);break;case"textarea":hE(n),XX(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=UE);}n=e,t.updateQueue=n,n!==null&&(t.flags|=4)}else{switch(u=i.nodeType===9?i:i.ownerDocument,e===o6.html&&(e=lJ(r)),e===o6.html?r==="script"?(e=u.createElement("div"),e.innerHTML="<script></script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=u.createElement(r,{is:n.is}):(e=u.createElement(r),r==="select"&&(u=e,n.multiple?u.multiple=!0:n.size&&(u.size=n.size))):e=u.createElementNS(e,r),e[Gp]=t,e[VE]=n,fee(e,t,!1,!1),t.stateNode=e,u=l6(r,n),r){case"dialog":vi("cancel",e),vi("close",e),i=n;break;case"iframe":case"object":case"embed":vi("load",e),i=n;break;case"video":case"audio":for(i=0;i<Q_.length;i++)vi(Q_[i],e);i=n;break;case"source":vi("error",e),i=n;break;case"img":case"image":case"link":vi("error",e),vi("load",e),i=n;break;case"details":vi("toggle",e),i=n;break;case"input":YX(e,n),i=e6(e,n),vi("invalid",e);break;case"option":i=n6(e,n);break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=Ii({},n,{value:void 0}),vi("invalid",e);break;case"textarea":KX(e,n),i=i6(e,n),vi("invalid",e);break;default:i=n;}s6(r,i);var p=i;for(o in p)if(p.hasOwnProperty(o)){var h=p[o];o==="style"?dJ(e,h):o==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,h!=null&&uJ(e,h)):o==="children"?typeof h=="string"?(r!=="textarea"||h!=="")&&hb(e,h):typeof h=="number"&&hb(e,""+h):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(fb.hasOwnProperty(o)?h!=null&&o==="onScroll"&&vi("scroll",e):h!=null&&B6(e,o,h,u))}switch(r){case"input":hE(e),ZX(e,n,!1);break;case"textarea":hE(e),XX(e);break;case"option":n.value!=null&&e.setAttribute("value",""+nf(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?Av(e,!!n.multiple,o,!1):n.defaultValue!=null&&Av(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=UE);}UJ(r,n)&&(t.flags|=4)}t.ref!==null&&(t.flags|=128)}return null;case 6:if(e&&t.stateNode!=null)mee(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Pt(166));r=Kh(Eb.current),Kh(Ju.current),SE(t)?(n=t.stateNode,r=t.memoizedProps,n[Gp]=t,n.nodeValue!==r&&(t.flags|=4)):(n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Gp]=t,t.stateNode=n)}return null;case 13:return yi(Li),n=t.memoizedState,t.flags&64?(t.lanes=r,t):(n=n!==null,r=!1,e===null?t.memoizedProps.fallback!==void 0&&SE(t):r=e.memoizedState!==null,n&&!r&&t.mode&2&&(e===null&&t.memoizedProps.unstable_avoidThisFallback!==!0||Li.current&1?Fo===0&&(Fo=3):((Fo===0||Fo===3)&&(Fo=4),Ha===null||!(Pb&134217727)&&!(Hv&134217727)||Lv(Ha,ya))),(n||r)&&(t.flags|=4),null);case 4:return Bv(),M6(t),e===null&&jJ(t.stateNode.containerInfo),null;case 10:return pL(t),null;case 17:return vs(t.type)&&$E(),null;case 19:if(yi(Li),n=t.memoizedState,n===null)return null;if(o=(t.flags&64)!==0,u=n.rendering,u===null){if(o)G_(n,!1);else{if(Fo!==0||e!==null&&e.flags&64)for(e=t.child;e!==null;){if(u=KE(e),u!==null){for(t.flags|=64,G_(n,!1),o=u.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),n.lastEffect===null&&(t.firstEffect=null),t.lastEffect=n.lastEffect,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,u=o.alternate,u===null?(o.childLanes=0,o.lanes=e,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return qi(Li,Li.current&1|2),t.child}e=e.sibling}n.tail!==null&&va()>N6&&(t.flags|=64,o=!0,G_(n,!1),t.lanes=33554432)}}else{if(!o)if(e=KE(u),e!==null){if(t.flags|=64,o=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),G_(n,!0),n.tail===null&&n.tailMode==="hidden"&&!u.alternate&&!ec)return t=t.lastEffect=n.lastEffect,t!==null&&(t.nextEffect=null),null}else 2*va()-n.renderingStartTime>N6&&r!==1073741824&&(t.flags|=64,o=!0,G_(n,!1),t.lanes=33554432);n.isBackwards?(u.sibling=t.child,t.child=u):(r=n.last,r!==null?r.sibling=u:t.child=u,n.last=u)}return n.tail!==null?(r=n.tail,n.rendering=r,n.tail=r.sibling,n.lastEffect=t.lastEffect,n.renderingStartTime=va(),r.sibling=null,t=Li.current,qi(Li,o?t&1|2:t&1),r):null;case 23:case 24:return EL(),e!==null&&e.memoizedState!==null!=(t.memoizedState!==null)&&n.mode!=="unstable-defer-without-hiding"&&(t.flags|=4),null;}throw Error(Pt(156,t.tag))}function _Ve(e){switch(e.tag){case 1:vs(e.type)&&$E();var t=e.flags;return t&4096?(e.flags=t&-4097|64,e):null;case 3:if(Bv(),yi(gs),yi(_a),mL(),t=e.flags,t&64)throw Error(Pt(285));return e.flags=t&-4097|64,e;case 5:return hL(e),null;case 13:return yi(Li),t=e.flags,t&4096?(e.flags=t&-4097|64,e):null;case 19:return yi(Li),null;case 4:return Bv(),null;case 10:return pL(e),null;case 23:case 24:return EL(),null;default:return null;}}function xL(e,t){try{var r="",n=t;do r+=JBe(n),n=n.return;while(n);var i=r}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i}}function C6(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var bVe=typeof WeakMap=="function"?WeakMap:Map;function gee(e,t,r){r=Qp(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){nT||(nT=!0,k6=n),C6(e,t)},r}function vee(e,t,r){r=Qp(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return C6(e,t),n(i)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){typeof n!="function"&&(Qu===null?Qu=new Set([this]):Qu.add(this),C6(e,t));var u=t.stack;this.componentDidCatch(t.value,{componentStack:u!==null?u:""})}),r}var xVe=typeof WeakSet=="function"?WeakSet:Set;function GQ(e){var t=e.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){rf(e,r)}else t.current=null}function wVe(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(t.flags&256&&e!==null){var r=e.memoizedProps,n=e.memoizedState;e=t.stateNode,t=e.getSnapshotBeforeUpdate(t.elementType===t.type?r:pu(t.type,r),n),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:t.flags&256&&lL(t.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return;}throw Error(Pt(163))}function SVe(e,t,r){switch(r.tag){case 0:case 11:case 15:case 22:if(t=r.updateQueue,t=t!==null?t.lastEffect:null,t!==null){e=t=t.next;do{if((e.tag&3)===3){var n=e.create;e.destroy=n()}e=e.next}while(e!==t)}if(t=r.updateQueue,t=t!==null?t.lastEffect:null,t!==null){e=t=t.next;do{var i=e;n=i.next,i=i.tag,i&4&&i&1&&(Tee(r,e),OVe(r,e)),e=n}while(e!==t)}return;case 1:e=r.stateNode,r.flags&4&&(t===null?e.componentDidMount():(n=r.elementType===r.type?t.memoizedProps:pu(r.type,t.memoizedProps),e.componentDidUpdate(n,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),t=r.updateQueue,t!==null&&CQ(r,t,e);return;case 3:if(t=r.updateQueue,t!==null){if(e=null,r.child!==null)switch(r.child.tag){case 5:e=r.child.stateNode;break;case 1:e=r.child.stateNode;}CQ(r,t,e)}return;case 5:e=r.stateNode,t===null&&r.flags&4&&UJ(r.type,r.memoizedProps)&&e.focus();return;case 6:return;case 4:return;case 12:return;case 13:r.memoizedState===null&&(r=r.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&xJ(r))));return;case 19:case 17:case 20:case 21:case 23:case 24:return;}throw Error(Pt(163))}function YQ(e,t){for(var r=e;;){if(r.tag===5){var n=r.stateNode;if(t)n=n.style,typeof n.setProperty=="function"?n.setProperty("display","none","important"):n.display="none";else{n=r.stateNode;var i=r.memoizedProps.style;i=i!=null&&i.hasOwnProperty("display")?i.display:null,n.style.display=cJ("display",i)}}else if(r.tag===6)r.stateNode.nodeValue=t?"":r.memoizedProps;else if((r.tag!==23&&r.tag!==24||r.memoizedState===null||r===e)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}}function ZQ(e,t){if(Qh&&typeof Qh.onCommitFiberUnmount=="function")try{Qh.onCommitFiberUnmount(uL,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(e=t.updateQueue,e!==null&&(e=e.lastEffect,e!==null)){var r=e=e.next;do{var n=r,i=n.destroy;if(n=n.tag,i!==void 0)if(n&4)Tee(t,r);else{n=t;try{i()}catch(o){rf(n,o)}}r=r.next}while(r!==e)}break;case 1:if(GQ(t),e=t.stateNode,typeof e.componentWillUnmount=="function")try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){rf(t,o)}break;case 5:GQ(t);break;case 4:yee(e,t);}}function KQ(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function XQ(e){return e.tag===5||e.tag===3||e.tag===4}function QQ(e){e:{for(var t=e.return;t!==null;){if(XQ(t))break e;t=t.return}throw Error(Pt(160))}var r=t;switch(t=r.stateNode,r.tag){case 5:var n=!1;break;case 3:t=t.containerInfo,n=!0;break;case 4:t=t.containerInfo,n=!0;break;default:throw Error(Pt(161));}r.flags&16&&(hb(t,""),r.flags&=-17);e:t:for(r=e;;){for(;r.sibling===null;){if(r.return===null||XQ(r.return)){r=null;break e}r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2)){r=r.stateNode;break e}}n?A6(e,r,t):P6(e,r,t)}function A6(e,t,r){var n=e.tag,i=n===5||n===6;if(i)e=i?e.stateNode:e.stateNode.instance,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=UE));else if(n!==4&&(e=e.child,e!==null))for(A6(e,t,r),e=e.sibling;e!==null;)A6(e,t,r),e=e.sibling}function P6(e,t,r){var n=e.tag,i=n===5||n===6;if(i)e=i?e.stateNode:e.stateNode.instance,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(P6(e,t,r),e=e.sibling;e!==null;)P6(e,t,r),e=e.sibling}function yee(e,t){for(var r=t,n=!1,i,o;;){if(!n){n=r.return;e:for(;;){if(n===null)throw Error(Pt(160));switch(i=n.stateNode,n.tag){case 5:o=!1;break e;case 3:i=i.containerInfo,o=!0;break e;case 4:i=i.containerInfo,o=!0;break e;}n=n.return}n=!0}if(r.tag===5||r.tag===6){e:for(var u=e,p=r,h=p;;)if(ZQ(u,h),h.child!==null&&h.tag!==4)h.child.return=h,h=h.child;else{if(h===p)break e;for(;h.sibling===null;){if(h.return===null||h.return===p)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}o?(u=i,p=r.stateNode,u.nodeType===8?u.parentNode.removeChild(p):u.removeChild(p)):i.removeChild(r.stateNode)}else if(r.tag===4){if(r.child!==null){i=r.stateNode.containerInfo,o=!0,r.child.return=r,r=r.child;continue}}else if(ZQ(e,r),r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return,r.tag===4&&(n=!1)}r.sibling.return=r.return,r=r.sibling}}function Zk(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var n=r=r.next;do(n.tag&3)===3&&(e=n.destroy,n.destroy=void 0,e!==void 0&&e()),n=n.next;while(n!==r)}return;case 1:return;case 5:if(r=t.stateNode,r!=null){n=t.memoizedProps;var i=e!==null?e.memoizedProps:n;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,o!==null){for(r[VE]=n,e==="input"&&n.type==="radio"&&n.name!=null&&aJ(r,n),l6(e,i),t=l6(e,n),i=0;i<o.length;i+=2){var u=o[i],p=o[i+1];u==="style"?dJ(r,p):u==="dangerouslySetInnerHTML"?uJ(r,p):u==="children"?hb(r,p):B6(r,u,p,t)}switch(e){case"input":t6(r,n);break;case"textarea":sJ(r,n);break;case"select":e=r._wrapperState.wasMultiple,r._wrapperState.wasMultiple=!!n.multiple,o=n.value,o!=null?Av(r,!!n.multiple,o,!1):e!==!!n.multiple&&(n.defaultValue!=null?Av(r,!!n.multiple,n.defaultValue,!0):Av(r,!!n.multiple,n.multiple?[]:"",!1));}}}return;case 6:if(t.stateNode===null)throw Error(Pt(162));t.stateNode.nodeValue=t.memoizedProps;return;case 3:r=t.stateNode,r.hydrate&&(r.hydrate=!1,xJ(r.containerInfo));return;case 12:return;case 13:t.memoizedState!==null&&(IL=va(),YQ(t.child,!0)),JQ(t);return;case 19:JQ(t);return;case 17:return;case 23:case 24:YQ(t,t.memoizedState!==null);return;}throw Error(Pt(163))}function JQ(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new xVe),t.forEach(function(n){var i=kVe.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function IVe(e,t){return e!==null&&(e=e.memoizedState,e===null||e.dehydrated!==null)?(t=t.memoizedState,t!==null&&t.dehydrated===null):!1}var EVe=Math.ceil,rT=nm.ReactCurrentDispatcher,wL=nm.ReactCurrentOwner,Nr=0,Ha=null,lo=null,ya=0,tm=0,O6=uf(0),Fo=0,gT=null,$v=0,Pb=0,Hv=0,SL=0,D6=null,IL=0,N6=1/0;function Wv(){N6=va()+500}var nr=null,nT=!1,k6=null,Qu=null,sf=!1,cb=null,J_=90,L6=[],q6=[],dd=null,db=0,R6=null,DE=-1,ld=0,NE=0,pb=null,kE=!1;function el(){return Nr&48?va():DE!==-1?DE:DE=va()}function ef(e){if(e=e.mode,!(e&2))return 1;if(!(e&4))return Fv()===99?1:2;if(ld===0&&(ld=$v),pVe.transition!==0){NE!==0&&(NE=D6!==null?D6.pendingLanes:0),e=ld;var t=4186112&~NE;return t&=-t,t===0&&(e=4186112&~e,t=e&-e,t===0&&(t=8192)),t}return e=Fv(),Nr&4&&e===98?e=FE(12,ld):(e=mUe(e),e=FE(e,ld)),e}function tf(e,t,r){if(50<db)throw db=0,R6=null,Error(Pt(185));if(e=vT(e,t),e===null)return null;uT(e,t,r),e===Ha&&(Hv|=t,Fo===4&&Lv(e,ya));var n=Fv();t===1?Nr&8&&!(Nr&48)?z6(e):(Al(e,r),Nr===0&&(Wv(),tc())):(!(Nr&4)||n!==98&&n!==99||(dd===null?dd=new Set([e]):dd.add(e)),Al(e,r)),D6=e}function vT(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}function Al(e,t){for(var r=e.callbackNode,n=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,u=e.pendingLanes;0<u;){var p=31-of(u),h=1<<p,y=o[p];if(y===-1){if(!(h&n)||h&i){y=t,bv(h);var _=ui;o[p]=10<=_?y+250:6<=_?y+5e3:-1}}else y<=t&&(e.expiredLanes|=h);u&=~h}if(n=yb(e,e===Ha?ya:0),t=ui,n===0)r!==null&&(r!==$k&&_6(r),e.callbackNode=null,e.callbackPriority=0);else{if(r!==null){if(e.callbackPriority===t)return;r!==$k&&_6(r)}t===15?(r=z6.bind(null,e),sd===null?(sd=[r],OE=cL(hT,KJ)):sd.push(r),r=$k):t===14?r=wb(99,z6.bind(null,e)):(r=gUe(t),r=wb(r,_ee.bind(null,e))),e.callbackPriority=t,e.callbackNode=r}}function _ee(e){if(DE=-1,NE=ld=0,Nr&48)throw Error(Pt(327));var t=e.callbackNode;if(cf()&&e.callbackNode!==t)return null;var r=yb(e,e===Ha?ya:0);if(r===0)return null;var n=r,i=Nr;Nr|=16;var o=See();(Ha!==e||ya!==n)&&(Wv(),qv(e,n));do try{CVe();break}catch(p){wee(e,p)}while(!0);if(dL(),rT.current=o,Nr=i,lo!==null?n=0:(Ha=null,ya=0,n=Fo),$v&Hv)qv(e,0);else if(n!==0){if(n===2&&(Nr|=64,e.hydrate&&(e.hydrate=!1,lL(e.containerInfo)),r=CJ(e),r!==0&&(n=eb(e,r))),n===1)throw t=gT,qv(e,0),Lv(e,r),Al(e,va()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=r,n){case 0:case 1:throw Error(Pt(345));case 2:Wh(e);break;case 3:if(Lv(e,r),(r&62914560)===r&&(n=IL+500-va(),10<n)){if(yb(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){el(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=bQ(Wh.bind(null,e),n);break}Wh(e);break;case 4:if(Lv(e,r),(r&4186112)===r)break;for(n=e.eventTimes,i=-1;0<r;){var u=31-of(r);o=1<<u,u=n[u],u>i&&(i=u),r&=~o}if(r=i,r=va()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*EVe(r/1960))-r,10<r){e.timeoutHandle=bQ(Wh.bind(null,e),r);break}Wh(e);break;case 5:Wh(e);break;default:throw Error(Pt(329));}}return Al(e,va()),e.callbackNode===t?_ee.bind(null,e):null}function Lv(e,t){for(t&=~SL,t&=~Hv,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-of(t),n=1<<r;e[r]=-1,t&=~n}}function z6(e){if(Nr&48)throw Error(Pt(327));if(cf(),e===Ha&&e.expiredLanes&ya){var t=ya,r=eb(e,t);$v&Hv&&(t=yb(e,t),r=eb(e,t))}else t=yb(e,0),r=eb(e,t);if(e.tag!==0&&r===2&&(Nr|=64,e.hydrate&&(e.hydrate=!1,lL(e.containerInfo)),t=CJ(e),t!==0&&(r=eb(e,t))),r===1)throw r=gT,qv(e,0),Lv(e,t),Al(e,va()),r;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Wh(e),Al(e,va()),null}function TVe(){if(dd!==null){var e=dd;dd=null,e.forEach(function(t){t.expiredLanes|=24&t.pendingLanes,Al(t,va())})}tc()}function bee(e,t){var r=Nr;Nr|=1;try{return e(t)}finally{Nr=r,Nr===0&&(Wv(),tc())}}function xee(e,t){var r=Nr;Nr&=-2,Nr|=8;try{return e(t)}finally{Nr=r,Nr===0&&(Wv(),tc())}}function EE(e,t){qi(O6,tm),tm|=t,$v|=t}function EL(){tm=O6.current,yi(O6)}function qv(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,aVe(r)),lo!==null)for(r=lo.return;r!==null;){var n=r;switch(n.tag){case 1:n=n.type.childContextTypes,n!=null&&$E();break;case 3:Bv(),yi(gs),yi(_a),mL();break;case 5:hL(n);break;case 4:Bv();break;case 13:yi(Li);break;case 19:yi(Li);break;case 10:pL(n);break;case 23:case 24:EL();}r=r.return}Ha=e,lo=lf(e.current,null),ya=tm=$v=t,Fo=0,gT=null,SL=Hv=Pb=0}function wee(e,t){do{var r=lo;try{if(dL(),lb.current=tT,XE){for(var n=Ui.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}XE=!1}if(Tb=0,jo=ga=Ui=null,ub=!1,wL.current=null,r===null||r.return===null){Fo=1,gT=t,lo=null;break}e:{var o=e,u=r.return,p=r,h=t;if(t=ya,p.flags|=2048,p.firstEffect=p.lastEffect=null,h!==null&&typeof h=="object"&&typeof h.then=="function"){var y=h;if(!(p.mode&2)){var _=p.alternate;_?(p.updateQueue=_.updateQueue,p.memoizedState=_.memoizedState,p.lanes=_.lanes):(p.updateQueue=null,p.memoizedState=null)}var E=(Li.current&1)!==0,T=u;do{var N;if(N=T.tag===13){var R=T.memoizedState;if(R!==null)N=R.dehydrated!==null;else{var j=T.memoizedProps;N=j.fallback===void 0?!1:j.unstable_avoidThisFallback!==!0?!0:!E}}if(N){var k=T.updateQueue;if(k===null){var L=new Set;L.add(y),T.updateQueue=L}else k.add(y);if(!(T.mode&2)){if(T.flags|=64,p.flags|=16384,p.flags&=-2981,p.tag===1)if(p.alternate===null)p.tag=17;else{var F=Qp(-1,1);F.tag=2,Jp(p,F)}p.lanes|=1;break e}h=void 0,p=t;var G=o.pingCache;if(G===null?(G=o.pingCache=new bVe,h=new Set,G.set(y,h)):(h=G.get(y),h===void 0&&(h=new Set,G.set(y,h))),!h.has(p)){h.add(p);var ee=NVe.bind(null,o,y,p);y.then(ee,ee)}T.flags|=4096,T.lanes=t;break e}T=T.return}while(T!==null);h=Error((Cv(p.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}Fo!==5&&(Fo=2),h=xL(h,p),T=u;do{switch(T.tag){case 3:o=h,T.flags|=4096,t&=-t,T.lanes|=t;var ae=gee(T,o,t);MQ(T,ae);break e;case 1:o=h;var ue=T.type,ge=T.stateNode;if(!(T.flags&64)&&(typeof ue.getDerivedStateFromError=="function"||ge!==null&&typeof ge.componentDidCatch=="function"&&(Qu===null||!Qu.has(ge)))){T.flags|=4096,t&=-t,T.lanes|=t;var Oe=vee(T,o,t);MQ(T,Oe);break e}}T=T.return}while(T!==null)}Eee(r)}catch(_e){t=_e,lo===r&&r!==null&&(lo=r=r.return);continue}break}while(!0)}function See(){var e=rT.current;return rT.current=tT,e===null?tT:e}function eb(e,t){var r=Nr;Nr|=16;var n=See();Ha===e&&ya===t||qv(e,t);do try{MVe();break}catch(i){wee(e,i)}while(!0);if(dL(),Nr=r,rT.current=n,lo!==null)throw Error(Pt(261));return Ha=null,ya=0,Fo}function MVe(){for(;lo!==null;)Iee(lo)}function CVe(){for(;lo!==null&&!uVe();)Iee(lo)}function Iee(e){var t=Mee(e.alternate,e,tm);e.memoizedProps=e.pendingProps,t===null?Eee(e):lo=t,wL.current=null}function Eee(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&2048){if(r=_Ve(t),r!==null){r.flags&=2047,lo=r;return}e!==null&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}else{if(r=yVe(r,t,tm),r!==null){lo=r;return}if(r=t,r.tag!==24&&r.tag!==23||r.memoizedState===null||tm&1073741824||!(r.mode&4)){for(var n=0,i=r.child;i!==null;)n|=i.lanes|i.childLanes,i=i.sibling;r.childLanes=n}e!==null&&!(e.flags&2048)&&(e.firstEffect===null&&(e.firstEffect=t.firstEffect),t.lastEffect!==null&&(e.lastEffect!==null&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(e.lastEffect!==null?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}if(t=t.sibling,t!==null){lo=t;return}lo=t=e}while(t!==null);Fo===0&&(Fo=5)}function Wh(e){var t=Fv();return em(99,AVe.bind(null,e,t)),null}function AVe(e,t){do cf();while(cb!==null);if(Nr&48)throw Error(Pt(327));var r=e.finishedWork;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Pt(177));e.callbackNode=null;var n=r.lanes|r.childLanes,i=n,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var u=e.eventTimes,p=e.expirationTimes;0<o;){var h=31-of(o),y=1<<h;i[h]=0,u[h]=-1,p[h]=-1,o&=~y}if(dd!==null&&!(n&24)&&dd.has(e)&&dd.delete(e),e===Ha&&(lo=Ha=null,ya=0),1<r.flags?r.lastEffect!==null?(r.lastEffect.nextEffect=r,n=r.firstEffect):n=r:n=r.firstEffect,n!==null){if(i=Nr,Nr|=32,wL.current=null,Bk=ME,u=hQ(),h6(u)){if("selectionStart"in u)p={start:u.selectionStart,end:u.selectionEnd};else e:if(p=(p=u.ownerDocument)&&p.defaultView||window,(y=p.getSelection&&p.getSelection())&&y.rangeCount!==0){p=y.anchorNode,o=y.anchorOffset,h=y.focusNode,y=y.focusOffset;try{p.nodeType,h.nodeType}catch(_e){p=null;break e}var _=0,E=-1,T=-1,N=0,R=0,j=u,k=null;t:for(;;){for(var L;j!==p||o!==0&&j.nodeType!==3||(E=_+o),j!==h||y!==0&&j.nodeType!==3||(T=_+y),j.nodeType===3&&(_+=j.nodeValue.length),(L=j.firstChild)!==null;)k=j,j=L;for(;;){if(j===u)break t;if(k===p&&++N===o&&(E=_),k===h&&++R===y&&(T=_),(L=j.nextSibling)!==null)break;j=k,k=j.parentNode}j=L}p=E===-1||T===-1?null:{start:E,end:T}}else p=null;p=p||{start:0,end:0}}else p=null;Uk={focusedElem:u,selectionRange:p},ME=!1,pb=null,kE=!1,nr=n;do try{PVe()}catch(_e){if(nr===null)throw Error(Pt(330));rf(nr,_e),nr=nr.nextEffect}while(nr!==null);pb=null,nr=n;do try{for(u=e;nr!==null;){var F=nr.flags;if(F&16&&hb(nr.stateNode,""),F&128){var G=nr.alternate;if(G!==null){var ee=G.ref;ee!==null&&(typeof ee=="function"?ee(null):ee.current=null)}}switch(F&1038){case 2:QQ(nr),nr.flags&=-3;break;case 6:QQ(nr),nr.flags&=-3,Zk(nr.alternate,nr);break;case 1024:nr.flags&=-1025;break;case 1028:nr.flags&=-1025,Zk(nr.alternate,nr);break;case 4:Zk(nr.alternate,nr);break;case 8:p=nr,yee(u,p);var ae=p.alternate;KQ(p),ae!==null&&KQ(ae);}nr=nr.nextEffect}}catch(_e){if(nr===null)throw Error(Pt(330));rf(nr,_e),nr=nr.nextEffect}while(nr!==null);if(ee=Uk,G=hQ(),F=ee.focusedElem,u=ee.selectionRange,G!==F&&F&&F.ownerDocument&&qJ(F.ownerDocument.documentElement,F)){for(u!==null&&h6(F)&&(G=u.start,ee=u.end,ee===void 0&&(ee=G),("selectionStart"in F)?(F.selectionStart=G,F.selectionEnd=Math.min(ee,F.value.length)):(ee=(G=F.ownerDocument||document)&&G.defaultView||window,ee.getSelection&&(ee=ee.getSelection(),p=F.textContent.length,ae=Math.min(u.start,p),u=u.end===void 0?ae:Math.min(u.end,p),!ee.extend&&ae>u&&(p=u,u=ae,ae=p),p=fQ(F,ae),o=fQ(F,u),p&&o&&(ee.rangeCount!==1||ee.anchorNode!==p.node||ee.anchorOffset!==p.offset||ee.focusNode!==o.node||ee.focusOffset!==o.offset)&&(G=G.createRange(),G.setStart(p.node,p.offset),ee.removeAllRanges(),ae>u?(ee.addRange(G),ee.extend(o.node,o.offset)):(G.setEnd(o.node,o.offset),ee.addRange(G)))))),G=[],ee=F;ee=ee.parentNode;)ee.nodeType===1&&G.push({element:ee,left:ee.scrollLeft,top:ee.scrollTop});for(typeof F.focus=="function"&&F.focus(),F=0;F<G.length;F++)ee=G[F],ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}ME=!!Bk,Uk=Bk=null,e.current=r,nr=n;do try{for(F=e;nr!==null;){var ue=nr.flags;if(ue&36&&SVe(F,nr.alternate,nr),ue&128){G=void 0;var ge=nr.ref;if(ge!==null){var Oe=nr.stateNode;switch(nr.tag){case 5:G=Oe;break;default:G=Oe;}typeof ge=="function"?ge(G):ge.current=G}}nr=nr.nextEffect}}catch(_e){if(nr===null)throw Error(Pt(330));rf(nr,_e),nr=nr.nextEffect}while(nr!==null);nr=null,dVe(),Nr=i}else e.current=r;if(sf)sf=!1,cb=e,J_=t;else for(nr=n;nr!==null;)t=nr.nextEffect,nr.nextEffect=null,nr.flags&8&&(ue=nr,ue.sibling=null,ue.stateNode=null),nr=t;if(n=e.pendingLanes,n===0&&(Qu=null),n===1?e===R6?db++:(db=0,R6=e):db=0,r=r.stateNode,Qh&&typeof Qh.onCommitFiberRoot=="function")try{Qh.onCommitFiberRoot(uL,r,void 0,(r.current.flags&64)===64)}catch(_e){}if(Al(e,va()),nT)throw nT=!1,e=k6,k6=null,e;return Nr&8||tc(),null}function PVe(){for(;nr!==null;){var e=nr.alternate;kE||pb===null||(nr.flags&8?eQ(nr,pb)&&(kE=!0):nr.tag===13&&IVe(e,nr)&&eQ(nr,pb)&&(kE=!0));var t=nr.flags;t&256&&wVe(e,nr),!(t&512)||sf||(sf=!0,wb(97,function(){return cf(),null})),nr=nr.nextEffect}}function cf(){if(J_!==90){var e=97<J_?97:J_;return J_=90,em(e,DVe)}return!1}function OVe(e,t){L6.push(t,e),sf||(sf=!0,wb(97,function(){return cf(),null}))}function Tee(e,t){q6.push(t,e),sf||(sf=!0,wb(97,function(){return cf(),null}))}function DVe(){if(cb===null)return!1;var e=cb;if(cb=null,Nr&48)throw Error(Pt(331));var t=Nr;Nr|=32;var r=q6;q6=[];for(var n=0;n<r.length;n+=2){var i=r[n],o=r[n+1],u=i.destroy;if(i.destroy=void 0,typeof u=="function")try{u()}catch(h){if(o===null)throw Error(Pt(330));rf(o,h)}}for(r=L6,L6=[],n=0;n<r.length;n+=2){i=r[n],o=r[n+1];try{var p=i.create;i.destroy=p()}catch(h){if(o===null)throw Error(Pt(330));rf(o,h)}}for(p=e.current.firstEffect;p!==null;)e=p.nextEffect,p.nextEffect=null,p.flags&8&&(p.sibling=null,p.stateNode=null),p=e;return Nr=t,tc(),!0}function eJ(e,t,r){t=xL(r,t),t=gee(e,t,1),Jp(e,t),t=el(),e=vT(e,1),e!==null&&(uT(e,1,t),Al(e,t))}function rf(e,t){if(e.tag===3)eJ(e,e,t);else for(var r=e.return;r!==null;){if(r.tag===3){eJ(r,e,t);break}else if(r.tag===1){var n=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Qu===null||!Qu.has(n))){e=xL(t,e);var i=vee(r,e,1);if(Jp(r,i),i=el(),r=vT(r,1),r!==null)uT(r,1,i),Al(r,i);else if(typeof n.componentDidCatch=="function"&&(Qu===null||!Qu.has(n)))try{n.componentDidCatch(t,e)}catch(o){}break}}r=r.return}}function NVe(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=el(),e.pingedLanes|=e.suspendedLanes&r,Ha===e&&(ya&r)===r&&(Fo===4||Fo===3&&(ya&62914560)===ya&&500>va()-IL?qv(e,0):SL|=r),Al(e,t)}function kVe(e,t){var r=e.stateNode;r!==null&&r.delete(t),t=0,t===0&&(t=e.mode,t&2?t&4?(ld===0&&(ld=$v),t=xv(62914560&~ld),t===0&&(t=4194304)):t=Fv()===99?1:2:t=1),r=el(),e=vT(e,t),e!==null&&(uT(e,t,r),Al(e,r))}var Mee;Mee=function(e,t,r){var n=t.lanes;if(e!==null){if(e.memoizedProps!==t.pendingProps||gs.current)fu=!0;else if(r&n)fu=!!(e.flags&16384);else{switch(fu=!1,t.tag){case 3:FQ(t),Wk();break;case 5:OQ(t);break;case 1:vs(t.type)&&PE(t);break;case 4:w6(t,t.stateNode.containerInfo);break;case 10:n=t.memoizedProps.value;var i=t.type._context;qi(HE,i._currentValue),i._currentValue=n;break;case 13:if(t.memoizedState!==null)return r&t.child.childLanes?BQ(e,t,r):(qi(Li,Li.current&1),t=cd(e,t,r),t!==null?t.sibling:null);qi(Li,Li.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&64){if(n)return WQ(e,t,r);t.flags|=64}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),qi(Li,Li.current),n)break;return null;case 23:case 24:return t.lanes=0,Gk(e,t,r);}return cd(e,t,r)}}else fu=!1;switch(t.lanes=0,t.tag){case 2:if(n=t.type,e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=jv(t,_a.current),Nv(t,r),i=vL(null,t,n,e,i,r),t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,vs(n)){var o=!0;PE(t)}else o=!1;t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,fL(t);var u=n.getDerivedStateFromProps;typeof u=="function"&&YE(t,n,u,e),i.updater=mT,t.stateNode=i,i._reactInternals=t,x6(t,n,e,r),t=T6(null,t,n,!0,o,r)}else t.tag=0,ms(null,t,i,r),t=t.child;return t;case 16:i=t.elementType;e:{switch(e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,o=i._init,i=o(i._payload),t.type=i,o=t.tag=qVe(i),e=pu(i,e),o){case 0:t=E6(null,t,i,e,r);break e;case 1:t=jQ(null,t,i,e,r);break e;case 11:t=RQ(null,t,i,e,r);break e;case 14:t=zQ(null,t,i,pu(i.type,e),n,r);break e;}throw Error(Pt(306,i,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:pu(n,i),E6(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:pu(n,i),jQ(e,t,n,i,r);case 3:if(FQ(t),n=t.updateQueue,e===null||n===null)throw Error(Pt(282));if(n=t.pendingProps,i=t.memoizedState,i=i!==null?i.element:null,QJ(e,t),Sb(t,n,null,r),n=t.memoizedState.element,n===i)Wk(),t=cd(e,t,r);else{if(i=t.stateNode,(o=i.hydrate)&&(Yp=Dv(t.stateNode.containerInfo.firstChild),ud=t,o=ec=!0),o){if(e=i.mutableSourceEagerHydrationData,e!=null)for(i=0;i<e.length;i+=2)o=e[i],o._workInProgressVersionPrimary=e[i+1],kv.push(o);for(r=ree(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|1024,r=r.sibling}else ms(e,t,n,r),Wk();t=t.child}return t;case 5:return OQ(t),e===null&&S6(t),n=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,u=i.children,v6(n,i)?u=null:o!==null&&v6(n,o)&&(t.flags|=16),pee(e,t),ms(e,t,u,r),t.child;case 6:return e===null&&S6(t),null;case 13:return BQ(e,t,r);case 4:return w6(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=ZE(t,null,n,r):ms(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:pu(n,i),RQ(e,t,n,i,r);case 7:return ms(e,t,t.pendingProps,r),t.child;case 8:return ms(e,t,t.pendingProps.children,r),t.child;case 12:return ms(e,t,t.pendingProps.children,r),t.child;case 10:e:{n=t.type._context,i=t.pendingProps,u=t.memoizedProps,o=i.value;var p=t.type._context;if(qi(HE,p._currentValue),p._currentValue=o,u!==null)if(p=u.value,o=El(p,o)?0:(typeof n._calculateChangedBits=="function"?n._calculateChangedBits(p,o):1073741823)|0,o===0){if(u.children===i.children&&!gs.current){t=cd(e,t,r);break e}}else for(p=t.child,p!==null&&(p.return=t);p!==null;){var h=p.dependencies;if(h!==null){u=p.child;for(var y=h.firstContext;y!==null;){if(y.context===n&&y.observedBits&o){p.tag===1&&(y=Qp(-1,r&-r),y.tag=2,Jp(p,y)),p.lanes|=r,y=p.alternate,y!==null&&(y.lanes|=r),XJ(p.return,r),h.lanes|=r;break}y=y.next}}else u=p.tag===10&&p.type===t.type?null:p.child;if(u!==null)u.return=p;else for(u=p;u!==null;){if(u===t){u=null;break}if(p=u.sibling,p!==null){p.return=u.return,u=p;break}u=u.return}p=u}ms(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,o=t.pendingProps,n=o.children,Nv(t,r),i=Cl(i,o.unstable_observedBits),n=n(i),t.flags|=1,ms(e,t,n,r),t.child;case 14:return i=t.type,o=pu(i,t.pendingProps),o=pu(i.type,o),zQ(e,t,i,o,n,r);case 15:return dee(e,t,t.type,t.pendingProps,n,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:pu(n,i),e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,vs(n)?(e=!0,PE(t)):e=!1,Nv(t,r),eee(t,n,i),x6(t,n,i,r),T6(null,t,n,!0,e,r);case 19:return WQ(e,t,r);case 23:return Gk(e,t,r);case 24:return Gk(e,t,r);}throw Error(Pt(156,t.tag))};function LVe(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Tl(e,t,r,n){return new LVe(e,t,r,n)}function TL(e){return e=e.prototype,!(!e||!e.isReactComponent)}function qVe(e){if(typeof e=="function")return TL(e)?1:0;if(e!=null){if(e=e.$$typeof,e===aT)return 11;if(e===sT)return 14}return 2}function lf(e,t){var r=e.alternate;return r===null?(r=Tl(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function LE(e,t,r,n,i,o){var u=2;if(n=e,typeof e=="function")TL(e)&&(u=1);else if(typeof e=="string")u=5;else e:switch(e){case Hp:return Rv(r.children,i,o,t);case nJ:u=8,i|=16;break;case U6:u=8,i|=1;break;case tb:return e=Tl(12,r,t,i|8),e.elementType=tb,e.type=tb,e.lanes=o,e;case rb:return e=Tl(13,r,t,i),e.type=rb,e.elementType=rb,e.lanes=o,e;case qE:return e=Tl(19,r,t,i),e.elementType=qE,e.lanes=o,e;case Y6:return ML(r,i,o,t);case Jk:return e=Tl(24,r,t,i),e.elementType=Jk,e.lanes=o,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case V6:u=10;break e;case $6:u=9;break e;case aT:u=11;break e;case sT:u=14;break e;case H6:u=16,n=null;break e;case W6:u=22;break e;}throw Error(Pt(130,e==null?e:typeof e,""));}return t=Tl(u,r,t,i),t.elementType=e,t.type=n,t.lanes=o,t}function Rv(e,t,r,n){return e=Tl(7,e,n,t),e.lanes=r,e}function ML(e,t,r,n){return e=Tl(23,e,n,t),e.elementType=Y6,e.lanes=r,e}function Kk(e,t,r){return e=Tl(6,e,null,t),e.lanes=r,e}function Xk(e,t,r){return t=Tl(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function RVe(e,t,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=r,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Lk(0),this.expirationTimes=Lk(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lk(0),this.mutableSourceEagerHydrationData=null}function zVe(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Gh,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function iT(e,t,r,n){var i=t.current,o=el(),u=ef(i);e:if(r){r=r._reactInternals;t:{if(im(r)!==r||r.tag!==1)throw Error(Pt(170));var p=r;do{switch(p.tag){case 3:p=p.stateNode.context;break t;case 1:if(vs(p.type)){p=p.stateNode.__reactInternalMemoizedMergedChildContext;break t}}p=p.return}while(p!==null);throw Error(Pt(171))}if(r.tag===1){var h=r.type;if(vs(h)){r=$J(r,h,p);break e}}r=p}else r=af;return t.context===null?t.context=r:t.pendingContext=r,t=Qp(o,u),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),Jp(i,t),tf(i,u,o),u}function Qk(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode;}}function tJ(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function CL(e,t){tJ(e,t),(e=e.alternate)&&tJ(e,t)}function jVe(){return null}function AL(e,t,r){var n=r!=null&&r.hydrationOptions!=null&&r.hydrationOptions.mutableSources||null;if(r=new RVe(e,t,r!=null&&r.hydrate===!0),t=Tl(3,null,null,t===2?7:t===1?3:0),r.current=t,t.stateNode=r,fL(t),e[Vv]=r.current,jJ(e.nodeType===8?e.parentNode:e),n)for(e=0;e<n.length;e++){t=n[e];var i=t._getVersion;i=i(t._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[t,i]:r.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=r}AL.prototype.render=function(e){iT(e,this._internalRoot,null,null)};AL.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;iT(null,e,null,function(){t[Vv]=null})};function Ob(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function FVe(e,t){if(t||(t=e?e.nodeType===9?e.documentElement:e.firstChild:null,t=!(!t||t.nodeType!==1||!t.hasAttribute("data-reactroot"))),!t)for(var r;r=e.lastChild;)e.removeChild(r);return new AL(e,0,t?{hydrate:!0}:void 0)}function yT(e,t,r,n,i){var o=r._reactRootContainer;if(o){var u=o._internalRoot;if(typeof i=="function"){var p=i;i=function(){var y=Qk(u);p.call(y)}}iT(t,u,e,i)}else{if(o=r._reactRootContainer=FVe(r,n),u=o._internalRoot,typeof i=="function"){var h=i;i=function(){var y=Qk(u);h.call(y)}}xee(function(){iT(t,u,e,i)})}return Qk(u)}yJ=function(e){if(e.tag===13){var t=el();tf(e,4,t),CL(e,4)}};J6=function(e){if(e.tag===13){var t=el();tf(e,67108864,t),CL(e,67108864)}};_J=function(e){if(e.tag===13){var t=el(),r=ef(e);tf(e,r,t),CL(e,r)}};bJ=function(e,t){return t()};u6=function(e,t,r){switch(t){case"input":if(t6(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+"][type=\"radio\"]"),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=fT(n);if(!i)throw Error(Pt(90));oJ(n),t6(n,i)}}}break;case"textarea":sJ(e,r);break;case"select":t=r.value,t!=null&&Av(e,!!r.multiple,t,!1);}};K6=bee;hJ=function(e,t,r,n,i){var o=Nr;Nr|=4;try{return em(98,e.bind(null,t,r,n,i))}finally{Nr=o,Nr===0&&(Wv(),tc())}};X6=function(){!(Nr&49)&&(TVe(),cf())};mJ=function(e,t){var r=Nr;Nr|=2;try{return e(t)}finally{Nr=r,Nr===0&&(Wv(),tc())}};function Cee(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ob(t))throw Error(Pt(200));return zVe(e,t,null,r)}var BVe={Events:[Cb,Ev,fT,pJ,fJ,cf,{current:!1}]},Y_={findFiberByHostInstance:Zh,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},UVe={bundleType:Y_.bundleType,version:Y_.version,rendererPackageName:Y_.rendererPackageName,rendererConfig:Y_.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:nm.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=vJ(e),e===null?null:e.stateNode},findFiberByHostInstance:Y_.findFiberByHostInstance||jVe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"&&(Z_=__REACT_DEVTOOLS_GLOBAL_HOOK__,!Z_.isDisabled&&Z_.supportsFiber))try{uL=Z_.inject(UVe),Qh=Z_}catch(e){}var Z_;Pl.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=BVe;Pl.createPortal=Cee;Pl.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Pt(188)):Error(Pt(268,Object.keys(e)));return e=vJ(t),e=e===null?null:e.stateNode,e};Pl.flushSync=function(e,t){var r=Nr;if(r&48)return e(t);Nr|=1;try{if(e)return em(99,e.bind(null,t))}finally{Nr=r,tc()}};Pl.hydrate=function(e,t,r){if(!Ob(t))throw Error(Pt(200));return yT(null,e,t,!0,r)};Pl.render=function(e,t,r){if(!Ob(t))throw Error(Pt(200));return yT(null,e,t,!1,r)};Pl.unmountComponentAtNode=function(e){if(!Ob(e))throw Error(Pt(40));return e._reactRootContainer?(xee(function(){yT(null,null,e,!1,function(){e._reactRootContainer=null,e[Vv]=null})}),!0):!1};Pl.unstable_batchedUpdates=bee;Pl.unstable_createPortal=function(e,t){return Cee(e,t,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};Pl.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Ob(r))throw Error(Pt(200));if(e==null||e._reactInternals===void 0)throw Error(Pt(38));return yT(e,t,r,!1,n)};Pl.version="17.0.2"});var Ri=I((rur,Oee)=>{"use strict";function Pee(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Pee)}catch(e){console.error(e)}}Pee(),Oee.exports=Aee()});var Dt=I((PL,Dee)=>{"use strict";var Db=function(e){return e&&e.Math===Math&&e};Dee.exports=Db(typeof globalThis=="object"&&globalThis)||Db(typeof window=="object"&&window)||Db(typeof self=="object"&&self)||Db(typeof global=="object"&&global)||Db(typeof PL=="object"&&PL)||function(){return this}()||Function("return this")()});var ft=I((nur,Nee)=>{"use strict";Nee.exports=function(e){try{return!!e()}catch(t){return!0}}});var cr=I((iur,kee)=>{"use strict";var VVe=ft();kee.exports=!VVe(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})});var Gv=I((our,Lee)=>{"use strict";var $Ve=ft();Lee.exports=!$Ve(function(){var e=function(){}.bind();return typeof e!="function"||e.hasOwnProperty("prototype")})});var jt=I((aur,qee)=>{"use strict";var HVe=Gv(),_T=Function.prototype.call;qee.exports=HVe?_T.bind(_T):function(){return _T.apply(_T,arguments)}});var Nb=I(jee=>{"use strict";var Ree={}.propertyIsEnumerable,zee=Object.getOwnPropertyDescriptor,WVe=zee&&!Ree.call({1:2},1);jee.f=WVe?function(t){var r=zee(this,t);return!!r&&r.enumerable}:Ree});var ys=I((lur,Fee)=>{"use strict";Fee.exports=function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}}});var nt=I((uur,Vee)=>{"use strict";var Bee=Gv(),Uee=Function.prototype,OL=Uee.call,GVe=Bee&&Uee.bind.bind(OL,OL);Vee.exports=Bee?GVe:function(e){return function(){return OL.apply(e,arguments)}}});var Uo=I((cur,Hee)=>{"use strict";var $ee=nt(),YVe=$ee({}.toString),ZVe=$ee("".slice);Hee.exports=function(e){return ZVe(YVe(e),8,-1)}});var fd=I((dur,Wee)=>{"use strict";var KVe=nt(),XVe=ft(),QVe=Uo(),DL=Object,JVe=KVe("".split);Wee.exports=XVe(function(){return!DL("z").propertyIsEnumerable(0)})?function(e){return QVe(e)==="String"?JVe(e,""):DL(e)}:DL});var Qi=I((pur,Gee)=>{"use strict";Gee.exports=function(e){return e==null}});var oi=I((fur,Yee)=>{"use strict";var e$e=Qi(),t$e=TypeError;Yee.exports=function(e){if(e$e(e))throw new t$e("Can't call method on "+e);return e}});var Ji=I((hur,Zee)=>{"use strict";var r$e=fd(),n$e=oi();Zee.exports=function(e){return r$e(n$e(e))}});var kr=I((mur,Kee)=>{"use strict";var NL=typeof document=="object"&&document.all;Kee.exports=typeof NL=="undefined"&&NL!==void 0?function(e){return typeof e=="function"||e===NL}:function(e){return typeof e=="function"}});var Er=I((gur,Xee)=>{"use strict";var i$e=kr();Xee.exports=function(e){return typeof e=="object"?e!==null:i$e(e)}});var Ir=I((vur,Qee)=>{"use strict";var kL=Dt(),o$e=kr(),a$e=function(e){return o$e(e)?e:void 0};Qee.exports=function(e,t){return arguments.length<2?a$e(kL[e]):kL[e]&&kL[e][t]}});var Vo=I((yur,Jee)=>{"use strict";var s$e=nt();Jee.exports=s$e({}.isPrototypeOf)});var hu=I((_ur,rte)=>{"use strict";var l$e=Dt(),ete=l$e.navigator,tte=ete&&ete.userAgent;rte.exports=tte?String(tte):""});var rc=I((bur,lte)=>{"use strict";var ste=Dt(),LL=hu(),nte=ste.process,ite=ste.Deno,ote=nte&&nte.versions||ite&&ite.version,ate=ote&&ote.v8,mu,bT;ate&&(mu=ate.split("."),bT=mu[0]>0&&mu[0]<4?1:+(mu[0]+mu[1]));!bT&&LL&&(mu=LL.match(/Edge\/(\d+)/),(!mu||mu[1]>=74)&&(mu=LL.match(/Chrome\/(\d+)/),mu&&(bT=+mu[1])));lte.exports=bT});var df=I((xur,cte)=>{"use strict";var ute=rc(),u$e=ft(),c$e=Dt(),d$e=c$e.String;cte.exports=!!Object.getOwnPropertySymbols&&!u$e(function(){var e=Symbol("symbol detection");return!d$e(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&ute&&ute<41})});var qL=I((wur,dte)=>{"use strict";var p$e=df();dte.exports=p$e&&!Symbol.sham&&typeof Symbol.iterator=="symbol"});var hd=I((Sur,pte)=>{"use strict";var f$e=Ir(),h$e=kr(),m$e=Vo(),g$e=qL(),v$e=Object;pte.exports=g$e?function(e){return typeof e=="symbol"}:function(e){var t=f$e("Symbol");return h$e(t)&&m$e(t.prototype,v$e(e))}});var pf=I((Iur,fte)=>{"use strict";var y$e=String;fte.exports=function(e){try{return y$e(e)}catch(t){return"Object"}}});var wr=I((Eur,hte)=>{"use strict";var _$e=kr(),b$e=pf(),x$e=TypeError;hte.exports=function(e){if(_$e(e))return e;throw new x$e(b$e(e)+" is not a function")}});var zi=I((Tur,mte)=>{"use strict";var w$e=wr(),S$e=Qi();mte.exports=function(e,t){var r=e[t];return S$e(r)?void 0:w$e(r)}});var FL=I((Mur,gte)=>{"use strict";var RL=jt(),zL=kr(),jL=Er(),I$e=TypeError;gte.exports=function(e,t){var r,n;if(t==="string"&&zL(r=e.toString)&&!jL(n=RL(r,e))||zL(r=e.valueOf)&&!jL(n=RL(r,e))||t!=="string"&&zL(r=e.toString)&&!jL(n=RL(r,e)))return n;throw new I$e("Can't convert object to primitive value")}});var $r=I((Cur,vte)=>{"use strict";vte.exports=!1});var xT=I((Aur,_te)=>{"use strict";var yte=Dt(),E$e=Object.defineProperty;_te.exports=function(e,t){try{E$e(yte,e,{value:t,configurable:!0,writable:!0})}catch(r){yte[e]=t}return t}});var kb=I((Pur,wte)=>{"use strict";var T$e=$r(),M$e=Dt(),C$e=xT(),bte="__core-js_shared__",xte=wte.exports=M$e[bte]||C$e(bte,{});(xte.versions||(xte.versions=[])).push({version:"3.39.0",mode:T$e?"pure":"global",copyright:"\xA9 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.39.0/LICENSE",source:"https://github.com/zloirock/core-js"})});var md=I((Our,Ite)=>{"use strict";var Ste=kb();Ite.exports=function(e,t){return Ste[e]||(Ste[e]=t||{})}});var Hr=I((Dur,Ete)=>{"use strict";var A$e=oi(),P$e=Object;Ete.exports=function(e){return P$e(A$e(e))}});var zr=I((Nur,Tte)=>{"use strict";var O$e=nt(),D$e=Hr(),N$e=O$e({}.hasOwnProperty);Tte.exports=Object.hasOwn||function(t,r){return N$e(D$e(t),r)}});var ff=I((kur,Mte)=>{"use strict";var k$e=nt(),L$e=0,q$e=Math.random(),R$e=k$e(1 .toString);Mte.exports=function(e){return"Symbol("+(e===void 0?"":e)+")_"+R$e(++L$e+q$e,36)}});var gr=I((Lur,Ate)=>{"use strict";var z$e=Dt(),j$e=md(),Cte=zr(),F$e=ff(),B$e=df(),U$e=qL(),Yv=z$e.Symbol,BL=j$e("wks"),V$e=U$e?Yv.for||Yv:Yv&&Yv.withoutSetter||F$e;Ate.exports=function(e){return Cte(BL,e)||(BL[e]=B$e&&Cte(Yv,e)?Yv[e]:V$e("Symbol."+e)),BL[e]}});var Lb=I((qur,Dte)=>{"use strict";var $$e=jt(),Pte=Er(),Ote=hd(),H$e=zi(),W$e=FL(),G$e=gr(),Y$e=TypeError,Z$e=G$e("toPrimitive");Dte.exports=function(e,t){if(!Pte(e)||Ote(e))return e;var r=H$e(e,Z$e),n;if(r){if(t===void 0&&(t="default"),n=$$e(r,e,t),!Pte(n)||Ote(n))return n;throw new Y$e("Can't convert object to primitive value")}return t===void 0&&(t="number"),W$e(e,t)}});var nc=I((Rur,Nte)=>{"use strict";var K$e=Lb(),X$e=hd();Nte.exports=function(e){var t=K$e(e,"string");return X$e(t)?t:t+""}});var qb=I((zur,Lte)=>{"use strict";var Q$e=Dt(),kte=Er(),UL=Q$e.document,J$e=kte(UL)&&kte(UL.createElement);Lte.exports=function(e){return J$e?UL.createElement(e):{}}});var VL=I((jur,qte)=>{"use strict";var eHe=cr(),tHe=ft(),rHe=qb();qte.exports=!eHe&&!tHe(function(){return Object.defineProperty(rHe("div"),"a",{get:function(){return 7}}).a!==7})});var So=I(zte=>{"use strict";var nHe=cr(),iHe=jt(),oHe=Nb(),aHe=ys(),sHe=Ji(),lHe=nc(),uHe=zr(),cHe=VL(),Rte=Object.getOwnPropertyDescriptor;zte.f=nHe?Rte:function(t,r){if(t=sHe(t),r=lHe(r),cHe)try{return Rte(t,r)}catch(n){}if(uHe(t,r))return aHe(!iHe(oHe.f,t,r),t[r])}});var $L=I((Bur,jte)=>{"use strict";var dHe=cr(),pHe=ft();jte.exports=dHe&&pHe(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})});var Rt=I((Uur,Fte)=>{"use strict";var fHe=Er(),hHe=String,mHe=TypeError;Fte.exports=function(e){if(fHe(e))return e;throw new mHe(hHe(e)+" is not an object")}});var ti=I(Ute=>{"use strict";var gHe=cr(),vHe=VL(),yHe=$L(),wT=Rt(),Bte=nc(),_He=TypeError,HL=Object.defineProperty,bHe=Object.getOwnPropertyDescriptor,WL="enumerable",GL="configurable",YL="writable";Ute.f=gHe?yHe?function(t,r,n){if(wT(t),r=Bte(r),wT(n),typeof t=="function"&&r==="prototype"&&"value"in n&&YL in n&&!n[YL]){var i=bHe(t,r);i&&i[YL]&&(t[r]=n.value,n={configurable:GL in n?n[GL]:i[GL],enumerable:WL in n?n[WL]:i[WL],writable:!1})}return HL(t,r,n)}:HL:function(t,r,n){if(wT(t),r=Bte(r),wT(n),vHe)try{return HL(t,r,n)}catch(i){}if("get"in n||"set"in n)throw new _He("Accessors not supported");return"value"in n&&(t[r]=n.value),t}});var eo=I(($ur,Vte)=>{"use strict";var xHe=cr(),wHe=ti(),SHe=ys();Vte.exports=xHe?function(e,t,r){return wHe.f(e,t,SHe(1,r))}:function(e,t,r){return e[t]=r,e}});var am=I((Hur,Hte)=>{"use strict";var ZL=cr(),IHe=zr(),$te=Function.prototype,EHe=ZL&&Object.getOwnPropertyDescriptor,KL=IHe($te,"name"),THe=KL&&function(){}.name==="something",MHe=KL&&(!ZL||ZL&&EHe($te,"name").configurable);Hte.exports={EXISTS:KL,PROPER:THe,CONFIGURABLE:MHe}});var Rb=I((Wur,Wte)=>{"use strict";var CHe=nt(),AHe=kr(),XL=kb(),PHe=CHe(Function.toString);AHe(XL.inspectSource)||(XL.inspectSource=function(e){return PHe(e)});Wte.exports=XL.inspectSource});var QL=I((Gur,Yte)=>{"use strict";var OHe=Dt(),DHe=kr(),Gte=OHe.WeakMap;Yte.exports=DHe(Gte)&&/native code/.test(String(Gte))});var zb=I((Yur,Kte)=>{"use strict";var NHe=md(),kHe=ff(),Zte=NHe("keys");Kte.exports=function(e){return Zte[e]||(Zte[e]=kHe(e))}});var Zv=I((Zur,Xte)=>{"use strict";Xte.exports={}});var An=I((Kur,ere)=>{"use strict";var LHe=QL(),Jte=Dt(),qHe=Er(),RHe=eo(),JL=zr(),eq=kb(),zHe=zb(),jHe=Zv(),Qte="Object already initialized",tq=Jte.TypeError,FHe=Jte.WeakMap,ST,jb,IT,BHe=function(e){return IT(e)?jb(e):ST(e,{})},UHe=function(e){return function(t){var r;if(!qHe(t)||(r=jb(t)).type!==e)throw new tq("Incompatible receiver, "+e+" required");return r}};LHe||eq.state?(gu=eq.state||(eq.state=new FHe),gu.get=gu.get,gu.has=gu.has,gu.set=gu.set,ST=function(e,t){if(gu.has(e))throw new tq(Qte);return t.facade=e,gu.set(e,t),t},jb=function(e){return gu.get(e)||{}},IT=function(e){return gu.has(e)}):(sm=zHe("state"),jHe[sm]=!0,ST=function(e,t){if(JL(e,sm))throw new tq(Qte);return t.facade=e,RHe(e,sm,t),t},jb=function(e){return JL(e,sm)?e[sm]:{}},IT=function(e){return JL(e,sm)});var gu,sm;ere.exports={set:ST,get:jb,has:IT,enforce:BHe,getterFor:UHe}});var Fb=I((Xur,nre)=>{"use strict";var nq=nt(),VHe=ft(),$He=kr(),ET=zr(),rq=cr(),HHe=am().CONFIGURABLE,WHe=Rb(),rre=An(),GHe=rre.enforce,YHe=rre.get,tre=String,TT=Object.defineProperty,ZHe=nq("".slice),KHe=nq("".replace),XHe=nq([].join),QHe=rq&&!VHe(function(){return TT(function(){},"length",{value:8}).length!==8}),JHe=String(String).split("String"),eWe=nre.exports=function(e,t,r){ZHe(tre(t),0,7)==="Symbol("&&(t="["+KHe(tre(t),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),r&&r.getter&&(t="get "+t),r&&r.setter&&(t="set "+t),(!ET(e,"name")||HHe&&e.name!==t)&&(rq?TT(e,"name",{value:t,configurable:!0}):e.name=t),QHe&&r&&ET(r,"arity")&&e.length!==r.arity&&TT(e,"length",{value:r.arity});try{r&&ET(r,"constructor")&&r.constructor?rq&&TT(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(i){}var n=GHe(e);return ET(n,"source")||(n.source=XHe(JHe,typeof t=="string"?t:"")),e};Function.prototype.toString=eWe(function(){return $He(this)&&YHe(this).source||WHe(this)},"toString")});var Ln=I((Qur,ire)=>{"use strict";var tWe=kr(),rWe=ti(),nWe=Fb(),iWe=xT();ire.exports=function(e,t,r,n){n||(n={});var i=n.enumerable,o=n.name!==void 0?n.name:t;if(tWe(r)&&nWe(r,o,n),n.global)i?e[t]=r:iWe(t,r);else{try{n.unsafe?e[t]&&(i=!0):delete e[t]}catch(u){}i?e[t]=r:rWe.f(e,t,{value:r,enumerable:!1,configurable:!n.nonConfigurable,writable:!n.nonWritable})}return e}});var iq=I((Jur,ore)=>{"use strict";var oWe=Math.ceil,aWe=Math.floor;ore.exports=Math.trunc||function(t){var r=+t;return(r>0?aWe:oWe)(r)}});var ci=I((ecr,are)=>{"use strict";var sWe=iq();are.exports=function(e){var t=+e;return t!==t||t===0?0:sWe(t)}});var vu=I((tcr,sre)=>{"use strict";var lWe=ci(),uWe=Math.max,cWe=Math.min;sre.exports=function(e,t){var r=lWe(e);return r<0?uWe(r+t,0):cWe(r,t)}});var _s=I((rcr,lre)=>{"use strict";var dWe=ci(),pWe=Math.min;lre.exports=function(e){var t=dWe(e);return t>0?pWe(t,9007199254740991):0}});var rn=I((ncr,ure)=>{"use strict";var fWe=_s();ure.exports=function(e){return fWe(e.length)}});var Kv=I((icr,dre)=>{"use strict";var hWe=Ji(),mWe=vu(),gWe=rn(),cre=function(e){return function(t,r,n){var i=hWe(t),o=gWe(i);if(o===0)return!e&&-1;var u=mWe(n,o),p;if(e&&r!==r){for(;o>u;)if(p=i[u++],p!==p)return!0}else for(;o>u;u++)if((e||u in i)&&i[u]===r)return e||u||0;return!e&&-1}};dre.exports={includes:cre(!0),indexOf:cre(!1)}});var aq=I((ocr,fre)=>{"use strict";var vWe=nt(),oq=zr(),yWe=Ji(),_We=Kv().indexOf,bWe=Zv(),pre=vWe([].push);fre.exports=function(e,t){var r=yWe(e),n=0,i=[],o;for(o in r)!oq(bWe,o)&&oq(r,o)&&pre(i,o);for(;t.length>n;)oq(r,o=t[n++])&&(~_We(i,o)||pre(i,o));return i}});var MT=I((acr,hre)=>{"use strict";hre.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]});var hf=I(mre=>{"use strict";var xWe=aq(),wWe=MT(),SWe=wWe.concat("length","prototype");mre.f=Object.getOwnPropertyNames||function(t){return xWe(t,SWe)}});var Bb=I(gre=>{"use strict";gre.f=Object.getOwnPropertySymbols});var CT=I((ucr,vre)=>{"use strict";var IWe=Ir(),EWe=nt(),TWe=hf(),MWe=Bb(),CWe=Rt(),AWe=EWe([].concat);vre.exports=IWe("Reflect","ownKeys")||function(t){var r=TWe.f(CWe(t)),n=MWe.f;return n?AWe(r,n(t)):r}});var lm=I((ccr,_re)=>{"use strict";var yre=zr(),PWe=CT(),OWe=So(),DWe=ti();_re.exports=function(e,t,r){for(var n=PWe(t),i=DWe.f,o=OWe.f,u=0;u<n.length;u++){var p=n[u];!yre(e,p)&&!(r&&yre(r,p))&&i(e,p,o(t,p))}}});var Xv=I((dcr,bre)=>{"use strict";var NWe=ft(),kWe=kr(),LWe=/#|\.prototype\./,Ub=function(e,t){var r=RWe[qWe(e)];return r===jWe?!0:r===zWe?!1:kWe(t)?NWe(t):!!t},qWe=Ub.normalize=function(e){return String(e).replace(LWe,".").toLowerCase()},RWe=Ub.data={},zWe=Ub.NATIVE="N",jWe=Ub.POLYFILL="P";bre.exports=Ub});var Q=I((pcr,xre)=>{"use strict";var AT=Dt(),FWe=So().f,BWe=eo(),UWe=Ln(),VWe=xT(),$We=lm(),HWe=Xv();xre.exports=function(e,t){var r=e.target,n=e.global,i=e.stat,o,u,p,h,y,_;if(n?u=AT:i?u=AT[r]||VWe(r,{}):u=AT[r]&&AT[r].prototype,u)for(p in t){if(y=t[p],e.dontCallGetSet?(_=FWe(u,p),h=_&&_.value):h=u[p],o=HWe(n?p:r+(i?".":"#")+p,e.forced),!o&&h!==void 0){if(typeof y==typeof h)continue;$We(y,h)}(e.sham||h&&h.sham)&&BWe(y,"sham",!0),UWe(u,p,y,e)}}});var PT=I((fcr,Sre)=>{"use strict";var WWe=gr(),GWe=WWe("toStringTag"),wre={};wre[GWe]="z";Sre.exports=String(wre)==="[object z]"});var bs=I((hcr,Ire)=>{"use strict";var YWe=PT(),ZWe=kr(),OT=Uo(),KWe=gr(),XWe=KWe("toStringTag"),QWe=Object,JWe=OT(function(){return arguments}())==="Arguments",eGe=function(e,t){try{return e[t]}catch(r){}};Ire.exports=YWe?OT:function(e){var t,r,n;return e===void 0?"Undefined":e===null?"Null":typeof(r=eGe(t=QWe(e),XWe))=="string"?r:JWe?OT(t):(n=OT(t))==="Object"&&ZWe(t.callee)?"Arguments":n}});var Mr=I((mcr,Ere)=>{"use strict";var tGe=bs(),rGe=String;Ere.exports=function(e){if(tGe(e)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return rGe(e)}});var um=I((gcr,Tre)=>{"use strict";var nGe=aq(),iGe=MT();Tre.exports=Object.keys||function(t){return nGe(t,iGe)}});var DT=I(Mre=>{"use strict";var oGe=cr(),aGe=$L(),sGe=ti(),lGe=Rt(),uGe=Ji(),cGe=um();Mre.f=oGe&&!aGe?Object.defineProperties:function(t,r){lGe(t);for(var n=uGe(r),i=cGe(r),o=i.length,u=0,p;o>u;)sGe.f(t,p=i[u++],n[p]);return t}});var sq=I((ycr,Cre)=>{"use strict";var dGe=Ir();Cre.exports=dGe("document","documentElement")});var ji=I((_cr,Lre)=>{"use strict";var pGe=Rt(),fGe=DT(),Are=MT(),hGe=Zv(),mGe=sq(),gGe=qb(),vGe=zb(),Pre=">",Ore="<",uq="prototype",cq="script",Nre=vGe("IE_PROTO"),lq=function(){},kre=function(e){return Ore+cq+Pre+e+Ore+"/"+cq+Pre},Dre=function(e){e.write(kre("")),e.close();var t=e.parentWindow.Object;return e=null,t},yGe=function(){var e=gGe("iframe"),t="java"+cq+":",r;return e.style.display="none",mGe.appendChild(e),e.src=String(t),r=e.contentWindow.document,r.open(),r.write(kre("document.F=Object")),r.close(),r.F},NT,kT=function(){try{NT=new ActiveXObject("htmlfile")}catch(t){}kT=typeof document!="undefined"?document.domain&&NT?Dre(NT):yGe():Dre(NT);for(var e=Are.length;e--;)delete kT[uq][Are[e]];return kT()};hGe[Nre]=!0;Lre.exports=Object.create||function(t,r){var n;return t!==null?(lq[uq]=pGe(t),n=new lq,lq[uq]=null,n[Nre]=t):n=kT(),r===void 0?n:fGe.f(n,r)}});var xs=I((bcr,qre)=>{"use strict";var _Ge=nt();qre.exports=_Ge([].slice)});var LT=I((xcr,jre)=>{"use strict";var bGe=Uo(),xGe=Ji(),Rre=hf().f,wGe=xs(),zre=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],SGe=function(e){try{return Rre(e)}catch(t){return wGe(zre)}};jre.exports.f=function(t){return zre&&bGe(t)==="Window"?SGe(t):Rre(xGe(t))}});var di=I((wcr,Bre)=>{"use strict";var Fre=Fb(),IGe=ti();Bre.exports=function(e,t,r){return r.get&&Fre(r.get,t,{getter:!0}),r.set&&Fre(r.set,t,{setter:!0}),IGe.f(e,t,r)}});var dq=I(Ure=>{"use strict";var EGe=gr();Ure.f=EGe});var qT=I((Icr,Vre)=>{"use strict";var TGe=Dt();Vre.exports=TGe});var Ei=I((Ecr,Hre)=>{"use strict";var $re=qT(),MGe=zr(),CGe=dq(),AGe=ti().f;Hre.exports=function(e){var t=$re.Symbol||($re.Symbol={});MGe(t,e)||AGe(t,e,{value:CGe.f(e)})}});var pq=I((Tcr,Wre)=>{"use strict";var PGe=jt(),OGe=Ir(),DGe=gr(),NGe=Ln();Wre.exports=function(){var e=OGe("Symbol"),t=e&&e.prototype,r=t&&t.valueOf,n=DGe("toPrimitive");t&&!t[n]&&NGe(t,n,function(i){return PGe(r,this)},{arity:1})}});var Ga=I((Mcr,Yre)=>{"use strict";var kGe=ti().f,LGe=zr(),qGe=gr(),Gre=qGe("toStringTag");Yre.exports=function(e,t,r){e&&!r&&(e=e.prototype),e&&!LGe(e,Gre)&&kGe(e,Gre,{configurable:!0,value:t})}});var gd=I((Ccr,Zre)=>{"use strict";var RGe=Uo(),zGe=nt();Zre.exports=function(e){if(RGe(e)==="Function")return zGe(e)}});var Un=I((Acr,Xre)=>{"use strict";var Kre=gd(),jGe=wr(),FGe=Gv(),BGe=Kre(Kre.bind);Xre.exports=function(e,t){return jGe(e),t===void 0?e:FGe?BGe(e,t):function(){return e.apply(t,arguments)}}});var yu=I((Pcr,Qre)=>{"use strict";var UGe=Uo();Qre.exports=Array.isArray||function(t){return UGe(t)==="Array"}});var _u=I((Ocr,nne)=>{"use strict";var VGe=nt(),$Ge=ft(),Jre=kr(),HGe=bs(),WGe=Ir(),GGe=Rb(),ene=function(){},tne=WGe("Reflect","construct"),fq=/^\s*(?:class|function)\b/,YGe=VGe(fq.exec),ZGe=!fq.test(ene),Vb=function(t){if(!Jre(t))return!1;try{return tne(ene,[],t),!0}catch(r){return!1}},rne=function(t){if(!Jre(t))return!1;switch(HGe(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1;}try{return ZGe||!!YGe(fq,GGe(t))}catch(r){return!0}};rne.sham=!0;nne.exports=!tne||$Ge(function(){var e;return Vb(Vb.call)||!Vb(Object)||!Vb(function(){e=!0})||e})?rne:Vb});var sne=I((Dcr,ane)=>{"use strict";var ine=yu(),KGe=_u(),XGe=Er(),QGe=gr(),JGe=QGe("species"),one=Array;ane.exports=function(e){var t;return ine(e)&&(t=e.constructor,KGe(t)&&(t===one||ine(t.prototype))?t=void 0:XGe(t)&&(t=t[JGe],t===null&&(t=void 0))),t===void 0?one:t}});var Qv=I((Ncr,lne)=>{"use strict";var eYe=sne();lne.exports=function(e,t){return new(eYe(e))(t===0?0:t)}});var Fi=I((kcr,cne)=>{"use strict";var tYe=Un(),rYe=nt(),nYe=fd(),iYe=Hr(),oYe=rn(),aYe=Qv(),une=rYe([].push),mf=function(e){var t=e===1,r=e===2,n=e===3,i=e===4,o=e===6,u=e===7,p=e===5||o;return function(h,y,_,E){for(var T=iYe(h),N=nYe(T),R=oYe(N),j=tYe(y,_),k=0,L=E||aYe,F=t?L(h,R):r||u?L(h,0):void 0,G,ee;R>k;k++)if((p||k in N)&&(G=N[k],ee=j(G,k,T),e))if(t)F[k]=ee;else if(ee)switch(e){case 3:return!0;case 5:return G;case 6:return k;case 2:une(F,G);}else switch(e){case 4:return!1;case 7:une(F,G);}return o?-1:n||i?i:F}};cne.exports={forEach:mf(0),map:mf(1),filter:mf(2),some:mf(3),every:mf(4),find:mf(5),findIndex:mf(6),filterReject:mf(7)}});var Mne=I(()=>{"use strict";var RT=Q(),Wb=Dt(),wq=jt(),sYe=nt(),lYe=$r(),Jv=cr(),ey=df(),uYe=ft(),Io=zr(),cYe=Vo(),vq=Rt(),zT=Ji(),Sq=nc(),dYe=Mr(),yq=ys(),ty=ji(),fne=um(),pYe=hf(),hne=LT(),fYe=Bb(),mne=So(),gne=ti(),hYe=DT(),vne=Nb(),hq=Ln(),mYe=di(),Iq=md(),gYe=zb(),yne=Zv(),dne=ff(),vYe=gr(),yYe=dq(),_Ye=Ei(),bYe=pq(),xYe=Ga(),_ne=An(),jT=Fi().forEach,ws=gYe("hidden"),FT="Symbol",Hb="prototype",wYe=_ne.set,pne=_ne.getterFor(FT),Ol=Object[Hb],cm=Wb.Symbol,$b=cm&&cm[Hb],SYe=Wb.RangeError,IYe=Wb.TypeError,mq=Wb.QObject,bne=mne.f,dm=gne.f,xne=hne.f,EYe=vne.f,wne=sYe([].push),vd=Iq("symbols"),Gb=Iq("op-symbols"),TYe=Iq("wks"),_q=!mq||!mq[Hb]||!mq[Hb].findChild,Sne=function(e,t,r){var n=bne(Ol,t);n&&delete Ol[t],dm(e,t,r),n&&e!==Ol&&dm(Ol,t,n)},bq=Jv&&uYe(function(){return ty(dm({},"a",{get:function(){return dm(this,"a",{value:7}).a}})).a!==7})?Sne:dm,gq=function(e,t){var r=vd[e]=ty($b);return wYe(r,{type:FT,tag:e,description:t}),Jv||(r.description=t),r},BT=function(t,r,n){t===Ol&&BT(Gb,r,n),vq(t);var i=Sq(r);return vq(n),Io(vd,i)?(n.enumerable?(Io(t,ws)&&t[ws][i]&&(t[ws][i]=!1),n=ty(n,{enumerable:yq(0,!1)})):(Io(t,ws)||dm(t,ws,yq(1,ty(null))),t[ws][i]=!0),bq(t,i,n)):dm(t,i,n)},Eq=function(t,r){vq(t);var n=zT(r),i=fne(n).concat(Tne(n));return jT(i,function(o){(!Jv||wq(xq,n,o))&&BT(t,o,n[o])}),t},MYe=function(t,r){return r===void 0?ty(t):Eq(ty(t),r)},xq=function(t){var r=Sq(t),n=wq(EYe,this,r);return this===Ol&&Io(vd,r)&&!Io(Gb,r)?!1:n||!Io(this,r)||!Io(vd,r)||Io(this,ws)&&this[ws][r]?n:!0},Ine=function(t,r){var n=zT(t),i=Sq(r);if(!(n===Ol&&Io(vd,i)&&!Io(Gb,i))){var o=bne(n,i);return o&&Io(vd,i)&&!(Io(n,ws)&&n[ws][i])&&(o.enumerable=!0),o}},Ene=function(t){var r=xne(zT(t)),n=[];return jT(r,function(i){!Io(vd,i)&&!Io(yne,i)&&wne(n,i)}),n},Tne=function(e){var t=e===Ol,r=xne(t?Gb:zT(e)),n=[];return jT(r,function(i){Io(vd,i)&&(!t||Io(Ol,i))&&wne(n,vd[i])}),n};ey||(cm=function(){if(cYe($b,this))throw new IYe("Symbol is not a constructor");var t=!arguments.length||arguments[0]===void 0?void 0:dYe(arguments[0]),r=dne(t),n=function(i){var o=this===void 0?Wb:this;o===Ol&&wq(n,Gb,i),Io(o,ws)&&Io(o[ws],r)&&(o[ws][r]=!1);var u=yq(1,i);try{bq(o,r,u)}catch(p){if(!(p instanceof SYe))throw p;Sne(o,r,u)}};return Jv&&_q&&bq(Ol,r,{configurable:!0,set:n}),gq(r,t)},$b=cm[Hb],hq($b,"toString",function(){return pne(this).tag}),hq(cm,"withoutSetter",function(e){return gq(dne(e),e)}),vne.f=xq,gne.f=BT,hYe.f=Eq,mne.f=Ine,pYe.f=hne.f=Ene,fYe.f=Tne,yYe.f=function(e){return gq(vYe(e),e)},Jv&&(mYe($b,"description",{configurable:!0,get:function(){return pne(this).description}}),lYe||hq(Ol,"propertyIsEnumerable",xq,{unsafe:!0})));RT({global:!0,constructor:!0,wrap:!0,forced:!ey,sham:!ey},{Symbol:cm});jT(fne(TYe),function(e){_Ye(e)});RT({target:FT,stat:!0,forced:!ey},{useSetter:function(){_q=!0},useSimple:function(){_q=!1}});RT({target:"Object",stat:!0,forced:!ey,sham:!Jv},{create:MYe,defineProperty:BT,defineProperties:Eq,getOwnPropertyDescriptor:Ine});RT({target:"Object",stat:!0,forced:!ey},{getOwnPropertyNames:Ene});bYe();xYe(cm,FT);yne[ws]=!0});var Tq=I((Rcr,Cne)=>{"use strict";var CYe=df();Cne.exports=CYe&&!!Symbol.for&&!!Symbol.keyFor});var Pne=I(()=>{"use strict";var AYe=Q(),PYe=Ir(),OYe=zr(),DYe=Mr(),Ane=md(),NYe=Tq(),Mq=Ane("string-to-symbol-registry"),kYe=Ane("symbol-to-string-registry");AYe({target:"Symbol",stat:!0,forced:!NYe},{for:function(e){var t=DYe(e);if(OYe(Mq,t))return Mq[t];var r=PYe("Symbol")(t);return Mq[t]=r,kYe[r]=t,r}})});var Dne=I(()=>{"use strict";var LYe=Q(),qYe=zr(),RYe=hd(),zYe=pf(),jYe=md(),FYe=Tq(),One=jYe("symbol-to-string-registry");LYe({target:"Symbol",stat:!0,forced:!FYe},{keyFor:function(t){if(!RYe(t))throw new TypeError(zYe(t)+" is not a symbol");if(qYe(One,t))return One[t]}})});var ba=I((Ucr,qne)=>{"use strict";var BYe=Gv(),Lne=Function.prototype,Nne=Lne.apply,kne=Lne.call;qne.exports=typeof Reflect=="object"&&Reflect.apply||(BYe?kne.bind(Nne):function(){return kne.apply(Nne,arguments)})});var Cq=I((Vcr,Fne)=>{"use strict";var UYe=nt(),Rne=yu(),VYe=kr(),zne=Uo(),$Ye=Mr(),jne=UYe([].push);Fne.exports=function(e){if(VYe(e))return e;if(Rne(e)){for(var t=e.length,r=[],n=0;n<t;n++){var i=e[n];typeof i=="string"?jne(r,i):(typeof i=="number"||zne(i)==="Number"||zne(i)==="String")&&jne(r,$Ye(i))}var o=r.length,u=!0;return function(p,h){if(u)return u=!1,h;if(Rne(this))return h;for(var y=0;y<o;y++)if(r[y]===p)return h}}}});var Aq=I(()=>{"use strict";var HYe=Q(),Yne=Ir(),Zne=ba(),WYe=jt(),Yb=nt(),Kne=ft(),Bne=kr(),Une=hd(),Xne=xs(),GYe=Cq(),YYe=df(),ZYe=String,gf=Yne("JSON","stringify"),UT=Yb(/./.exec),Vne=Yb("".charAt),KYe=Yb("".charCodeAt),XYe=Yb("".replace),QYe=Yb(1 .toString),JYe=/[\uD800-\uDFFF]/g,$ne=/^[\uD800-\uDBFF]$/,Hne=/^[\uDC00-\uDFFF]$/,Wne=!YYe||Kne(function(){var e=Yne("Symbol")("stringify detection");return gf([e])!=="[null]"||gf({a:e})!=="{}"||gf(Object(e))!=="{}"}),Gne=Kne(function(){return gf("\uDF06\uD834")!=="\"\\udf06\\ud834\""||gf("\uDEAD")!=="\"\\udead\""}),eZe=function(e,t){var r=Xne(arguments),n=GYe(t);if(!(!Bne(n)&&(e===void 0||Une(e))))return r[1]=function(i,o){if(Bne(n)&&(o=WYe(n,this,ZYe(i),o)),!Une(o))return o},Zne(gf,null,r)},tZe=function(e,t,r){var n=Vne(r,t-1),i=Vne(r,t+1);return UT($ne,e)&&!UT(Hne,i)||UT(Hne,e)&&!UT($ne,n)?"\\u"+QYe(KYe(e,0),16):e};gf&&HYe({target:"JSON",stat:!0,arity:3,forced:Wne||Gne},{stringify:function(t,r,n){var i=Xne(arguments),o=Zne(Wne?eZe:gf,null,i);return Gne&&typeof o=="string"?XYe(o,JYe,tZe):o}})});var Jne=I(()=>{"use strict";var rZe=Q(),nZe=df(),iZe=ft(),Qne=Bb(),oZe=Hr(),aZe=!nZe||iZe(function(){Qne.f(1)});rZe({target:"Object",stat:!0,forced:aZe},{getOwnPropertySymbols:function(t){var r=Qne.f;return r?r(oZe(t)):[]}})});var eie=I(()=>{"use strict";Mne();Pne();Dne();Aq();Jne()});var sie=I(()=>{"use strict";var sZe=Q(),lZe=cr(),uZe=Dt(),VT=nt(),cZe=zr(),dZe=kr(),pZe=Vo(),fZe=Mr(),hZe=di(),mZe=lm(),yd=uZe.Symbol,pm=yd&&yd.prototype;lZe&&dZe(yd)&&(!("description"in pm)||yd().description!==void 0)&&(Pq={},Zb=function(){var t=arguments.length<1||arguments[0]===void 0?void 0:fZe(arguments[0]),r=pZe(pm,this)?new yd(t):t===void 0?yd():yd(t);return t===""&&(Pq[r]=!0),r},mZe(Zb,yd),Zb.prototype=pm,pm.constructor=Zb,tie=String(yd("description detection"))==="Symbol(description detection)",rie=VT(pm.valueOf),nie=VT(pm.toString),iie=/^Symbol\((.*)\)[^)]+$/,oie=VT("".replace),aie=VT("".slice),hZe(pm,"description",{configurable:!0,get:function(){var t=rie(this);if(cZe(Pq,t))return"";var r=nie(t),n=tie?aie(r,7,-1):oie(r,iie,"$1");return n===""?void 0:n}}),sZe({global:!0,constructor:!0,forced:!0},{Symbol:Zb}));var Pq,Zb,tie,rie,nie,iie,oie,aie});var lie=I(()=>{"use strict";var gZe=Ei();gZe("asyncIterator")});var uie=I(()=>{"use strict";var vZe=Ei();vZe("hasInstance")});var cie=I(()=>{"use strict";var yZe=Ei();yZe("isConcatSpreadable")});var die=I(()=>{"use strict";var _Ze=Ei();_Ze("iterator")});var pie=I(()=>{"use strict";var bZe=Ei();bZe("match")});var fie=I(()=>{"use strict";var xZe=Ei();xZe("matchAll")});var hie=I(()=>{"use strict";var wZe=Ei();wZe("replace")});var mie=I(()=>{"use strict";var SZe=Ei();SZe("search")});var gie=I(()=>{"use strict";var IZe=Ei();IZe("species")});var vie=I(()=>{"use strict";var EZe=Ei();EZe("split")});var yie=I(()=>{"use strict";var TZe=Ei(),MZe=pq();TZe("toPrimitive");MZe()});var _ie=I(()=>{"use strict";var CZe=Ir(),AZe=Ei(),PZe=Ga();AZe("toStringTag");PZe(CZe("Symbol"),"Symbol")});var bie=I(()=>{"use strict";var OZe=Ei();OZe("unscopables")});var Kb=I((Idr,xie)=>{"use strict";var DZe=nt(),NZe=wr();xie.exports=function(e,t,r){try{return DZe(NZe(Object.getOwnPropertyDescriptor(e,t)[r]))}catch(n){}}});var Oq=I((Edr,wie)=>{"use strict";var kZe=Er();wie.exports=function(e){return kZe(e)||e===null}});var Dq=I((Tdr,Sie)=>{"use strict";var LZe=Oq(),qZe=String,RZe=TypeError;Sie.exports=function(e){if(LZe(e))return e;throw new RZe("Can't set "+qZe(e)+" as a prototype")}});var Dl=I((Mdr,Iie)=>{"use strict";var zZe=Kb(),jZe=Er(),FZe=oi(),BZe=Dq();Iie.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e=!1,t={},r;try{r=zZe(Object.prototype,"__proto__","set"),r(t,[]),e=t instanceof Array}catch(n){}return function(i,o){return FZe(i),BZe(o),jZe(i)&&(e?r(i,o):i.__proto__=o),i}}():void 0)});var Nq=I((Cdr,Eie)=>{"use strict";var UZe=ti().f;Eie.exports=function(e,t,r){r in e||UZe(e,r,{configurable:!0,get:function(){return t[r]},set:function(n){t[r]=n}})}});var vf=I((Adr,Mie)=>{"use strict";var VZe=kr(),$Ze=Er(),Tie=Dl();Mie.exports=function(e,t,r){var n,i;return Tie&&VZe(n=t.constructor)&&n!==r&&$Ze(i=n.prototype)&&i!==r.prototype&&Tie(e,i),e}});var fm=I((Pdr,Cie)=>{"use strict";var HZe=Mr();Cie.exports=function(e,t){return e===void 0?arguments.length<2?"":t:HZe(e)}});var kq=I((Odr,Aie)=>{"use strict";var WZe=Er(),GZe=eo();Aie.exports=function(e,t){WZe(t)&&"cause"in t&&GZe(e,"cause",t.cause)}});var $T=I((Ddr,Die)=>{"use strict";var YZe=nt(),Pie=Error,ZZe=YZe("".replace),KZe=function(e){return String(new Pie(e).stack)}("zxcasd"),Oie=/\n\s*at [^:]*:[^\n]*/,XZe=Oie.test(KZe);Die.exports=function(e,t){if(XZe&&typeof e=="string"&&!Pie.prepareStackTrace)for(;t--;)e=ZZe(e,Oie,"");return e}});var Lq=I((Ndr,Nie)=>{"use strict";var QZe=ft(),JZe=ys();Nie.exports=!QZe(function(){var e=new Error("a");return"stack"in e?(Object.defineProperty(e,"stack",JZe(1,7)),e.stack!==7):!0})});var HT=I((kdr,Lie)=>{"use strict";var eKe=eo(),tKe=$T(),rKe=Lq(),kie=Error.captureStackTrace;Lie.exports=function(e,t,r,n){rKe&&(kie?kie(e,t):eKe(e,"stack",tKe(r,n)))}});var qq=I((Ldr,Uie)=>{"use strict";var qie=Ir(),nKe=zr(),Rie=eo(),iKe=Vo(),zie=Dl(),jie=lm(),Fie=Nq(),oKe=vf(),aKe=fm(),sKe=kq(),lKe=HT(),uKe=cr(),Bie=$r();Uie.exports=function(e,t,r,n){var i="stackTraceLimit",o=n?2:1,u=e.split("."),p=u[u.length-1],h=qie.apply(null,u);if(h){var y=h.prototype;if(!Bie&&nKe(y,"cause")&&delete y.cause,!r)return h;var _=qie("Error"),E=t(function(T,N){var R=aKe(n?N:T,void 0),j=n?new h(T):new h;return R!==void 0&&Rie(j,"message",R),lKe(j,E,j.stack,2),this&&iKe(y,this)&&oKe(j,this,E),arguments.length>o&&sKe(j,arguments[o]),j});if(E.prototype=y,p!=="Error"?zie?zie(E,_):jie(E,_,{name:!0}):uKe&&i in h&&(Fie(E,h,i),Fie(E,h,"prepareStackTrace")),jie(E,h),!Bie)try{y.name!==p&&Rie(y,"name",p),y.constructor=E}catch(T){}return E}}});var Wie=I(()=>{"use strict";var $ie=Q(),cKe=Dt(),ic=ba(),Hie=qq(),Rq="WebAssembly",Vie=cKe[Rq],WT=new Error("e",{cause:7}).cause!==7,hm=function(e,t){var r={};r[e]=Hie(e,t,WT),$ie({global:!0,constructor:!0,arity:1,forced:WT},r)},zq=function(e,t){if(Vie&&Vie[e]){var r={};r[e]=Hie(Rq+"."+e,t,WT),$ie({target:Rq,stat:!0,constructor:!0,arity:1,forced:WT},r)}};hm("Error",function(e){return function(r){return ic(e,this,arguments)}});hm("EvalError",function(e){return function(r){return ic(e,this,arguments)}});hm("RangeError",function(e){return function(r){return ic(e,this,arguments)}});hm("ReferenceError",function(e){return function(r){return ic(e,this,arguments)}});hm("SyntaxError",function(e){return function(r){return ic(e,this,arguments)}});hm("TypeError",function(e){return function(r){return ic(e,this,arguments)}});hm("URIError",function(e){return function(r){return ic(e,this,arguments)}});zq("CompileError",function(e){return function(r){return ic(e,this,arguments)}});zq("LinkError",function(e){return function(r){return ic(e,this,arguments)}});zq("RuntimeError",function(e){return function(r){return ic(e,this,arguments)}})});var jq=I((zdr,Yie)=>{"use strict";var dKe=cr(),pKe=ft(),fKe=Rt(),Gie=fm(),GT=Error.prototype.toString,hKe=pKe(function(){if(dKe){var e=Object.create(Object.defineProperty({},"name",{get:function(){return this===e}}));if(GT.call(e)!=="true")return!0}return GT.call({message:1,name:2})!=="2: 1"||GT.call({})!=="Error"});Yie.exports=hKe?function(){var t=fKe(this),r=Gie(t.name,"Error"),n=Gie(t.message);return r?n?r+": "+n:r:n}:GT});var Xie=I(()=>{"use strict";var mKe=Ln(),Zie=jq(),Kie=Error.prototype;Kie.toString!==Zie&&mKe(Kie,"toString",Zie)});var YT=I((Bdr,Qie)=>{"use strict";var gKe=ft();Qie.exports=!gKe(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})});var to=I((Udr,eoe)=>{"use strict";var vKe=zr(),yKe=kr(),_Ke=Hr(),bKe=zb(),xKe=YT(),Jie=bKe("IE_PROTO"),Fq=Object,wKe=Fq.prototype;eoe.exports=xKe?Fq.getPrototypeOf:function(e){var t=_Ke(e);if(vKe(t,Jie))return t[Jie];var r=t.constructor;return yKe(r)&&t instanceof r?r.prototype:t instanceof Fq?wKe:null}});var mm=I((Vdr,toe)=>{"use strict";toe.exports={}});var ZT=I(($dr,roe)=>{"use strict";var SKe=gr(),IKe=mm(),EKe=SKe("iterator"),TKe=Array.prototype;roe.exports=function(e){return e!==void 0&&(IKe.Array===e||TKe[EKe]===e)}});var oc=I((Hdr,ioe)=>{"use strict";var MKe=bs(),noe=zi(),CKe=Qi(),AKe=mm(),PKe=gr(),OKe=PKe("iterator");ioe.exports=function(e){if(!CKe(e))return noe(e,OKe)||noe(e,"@@iterator")||AKe[MKe(e)]}});var yf=I((Wdr,ooe)=>{"use strict";var DKe=jt(),NKe=wr(),kKe=Rt(),LKe=pf(),qKe=oc(),RKe=TypeError;ooe.exports=function(e,t){var r=arguments.length<2?qKe(e):t;if(NKe(r))return kKe(DKe(r,e));throw new RKe(LKe(e)+" is not iterable")}});var _d=I((Gdr,soe)=>{"use strict";var zKe=jt(),aoe=Rt(),jKe=zi();soe.exports=function(e,t,r){var n,i;aoe(e);try{if(n=jKe(e,"return"),!n){if(t==="throw")throw r;return r}n=zKe(n,e)}catch(o){i=!0,n=o}if(t==="throw")throw r;if(i)throw n;return aoe(n),r}});var Ti=I((Ydr,doe)=>{"use strict";var FKe=Un(),BKe=jt(),UKe=Rt(),VKe=pf(),$Ke=ZT(),HKe=rn(),loe=Vo(),WKe=yf(),GKe=oc(),uoe=_d(),YKe=TypeError,KT=function(e,t){this.stopped=e,this.result=t},coe=KT.prototype;doe.exports=function(e,t,r){var n=r&&r.that,i=!!(r&&r.AS_ENTRIES),o=!!(r&&r.IS_RECORD),u=!!(r&&r.IS_ITERATOR),p=!!(r&&r.INTERRUPTED),h=FKe(t,n),y,_,E,T,N,R,j,k=function(F){return y&&uoe(y,"normal",F),new KT(!0,F)},L=function(F){return i?(UKe(F),p?h(F[0],F[1],k):h(F[0],F[1])):p?h(F,k):h(F)};if(o)y=e.iterator;else if(u)y=e;else{if(_=GKe(e),!_)throw new YKe(VKe(e)+" is not iterable");if($Ke(_)){for(E=0,T=HKe(e);T>E;E++)if(N=L(e[E]),N&&loe(coe,N))return N;return new KT(!1)}y=WKe(e,_)}for(R=o?e.next:y.next;!(j=BKe(R,y)).done;){try{N=L(j.value)}catch(F){uoe(y,"throw",F)}if(typeof N=="object"&&N&&loe(coe,N))return N}return new KT(!1)}});var foe=I(()=>{"use strict";var ZKe=Q(),KKe=Vo(),XKe=to(),XT=Dl(),QKe=lm(),poe=ji(),Bq=eo(),Uq=ys(),JKe=kq(),eXe=HT(),tXe=Ti(),rXe=fm(),nXe=gr(),iXe=nXe("toStringTag"),QT=Error,oXe=[].push,ry=function(t,r){var n=KKe(Vq,this),i;XT?i=XT(new QT,n?XKe(this):Vq):(i=n?this:poe(Vq),Bq(i,iXe,"Error")),r!==void 0&&Bq(i,"message",rXe(r)),eXe(i,ry,i.stack,1),arguments.length>2&&JKe(i,arguments[2]);var o=[];return tXe(t,oXe,{that:o}),Bq(i,"errors",o),i};XT?XT(ry,QT):QKe(ry,QT,{name:!0});var Vq=ry.prototype=poe(QT.prototype,{constructor:Uq(1,ry),message:Uq(1,""),name:Uq(1,"AggregateError")});ZKe({global:!0,constructor:!0,arity:2},{AggregateError:ry})});var $q=I(()=>{"use strict";foe()});var voe=I(()=>{"use strict";var aXe=Q(),sXe=Ir(),lXe=ba(),hoe=ft(),uXe=qq(),Hq="AggregateError",moe=sXe(Hq),goe=!hoe(function(){return moe([1]).errors[0]!==1})&&hoe(function(){return moe([1],Hq,{cause:7}).cause!==7});aXe({global:!0,constructor:!0,arity:2,forced:goe},{AggregateError:uXe(Hq,function(e){return function(r,n){return lXe(e,this,arguments)}},goe,!0)})});var Mi=I((tpr,yoe)=>{"use strict";var cXe=gr(),dXe=ji(),pXe=ti().f,Wq=cXe("unscopables"),Gq=Array.prototype;Gq[Wq]===void 0&&pXe(Gq,Wq,{configurable:!0,value:dXe(null)});yoe.exports=function(e){Gq[Wq][e]=!0}});var Yq=I(()=>{"use strict";var fXe=Q(),hXe=Hr(),mXe=rn(),gXe=ci(),vXe=Mi();fXe({target:"Array",proto:!0},{at:function(t){var r=hXe(this),n=mXe(r),i=gXe(t),o=i>=0?i:n+i;return o<0||o>=n?void 0:r[o]}});vXe("at")});var _f=I((ipr,_oe)=>{"use strict";var yXe=TypeError,_Xe=9007199254740991;_oe.exports=function(e){if(e>_Xe)throw yXe("Maximum allowed index exceeded");return e}});var Nl=I((opr,boe)=>{"use strict";var bXe=cr(),xXe=ti(),wXe=ys();boe.exports=function(e,t,r){bXe?xXe.f(e,t,wXe(0,r)):e[t]=r}});var ny=I((apr,xoe)=>{"use strict";var SXe=ft(),IXe=gr(),EXe=rc(),TXe=IXe("species");xoe.exports=function(e){return EXe>=51||!SXe(function(){var t=[],r=t.constructor={};return r[TXe]=function(){return{foo:1}},t[e](Boolean).foo!==1})}});var Eoe=I(()=>{"use strict";var MXe=Q(),CXe=ft(),AXe=yu(),PXe=Er(),OXe=Hr(),DXe=rn(),woe=_f(),Soe=Nl(),NXe=Qv(),kXe=ny(),LXe=gr(),qXe=rc(),Ioe=LXe("isConcatSpreadable"),RXe=qXe>=51||!CXe(function(){var e=[];return e[Ioe]=!1,e.concat()[0]!==e}),zXe=function(e){if(!PXe(e))return!1;var t=e[Ioe];return t!==void 0?!!t:AXe(e)},jXe=!RXe||!kXe("concat");MXe({target:"Array",proto:!0,arity:1,forced:jXe},{concat:function(t){var r=OXe(this),n=NXe(r,0),i=0,o,u,p,h,y;for(o=-1,p=arguments.length;o<p;o++)if(y=o===-1?r:arguments[o],zXe(y))for(h=DXe(y),woe(i+h),u=0;u<h;u++,i++)u in y&&Soe(n,i,y[u]);else woe(i+1),Soe(n,i++,y);return n.length=i,n}})});var Xb=I((upr,Moe)=>{"use strict";var Toe=pf(),FXe=TypeError;Moe.exports=function(e,t){if(!delete e[t])throw new FXe("Cannot delete property "+Toe(t)+" of "+Toe(e))}});var Kq=I((cpr,Coe)=>{"use strict";var BXe=Hr(),Zq=vu(),UXe=rn(),VXe=Xb(),$Xe=Math.min;Coe.exports=[].copyWithin||function(t,r){var n=BXe(this),i=UXe(n),o=Zq(t,i),u=Zq(r,i),p=arguments.length>2?arguments[2]:void 0,h=$Xe((p===void 0?i:Zq(p,i))-u,i-o),y=1;for(u<o&&o<u+h&&(y=-1,u+=h-1,o+=h-1);h-->0;)u in n?n[o]=n[u]:VXe(n,o),o+=y,u+=y;return n}});var Aoe=I(()=>{"use strict";var HXe=Q(),WXe=Kq(),GXe=Mi();HXe({target:"Array",proto:!0},{copyWithin:WXe});GXe("copyWithin")});var kl=I((fpr,Poe)=>{"use strict";var YXe=ft();Poe.exports=function(e,t){var r=[][e];return!!r&&YXe(function(){r.call(null,t||function(){return 1},1)})}});var Ooe=I(()=>{"use strict";var ZXe=Q(),KXe=Fi().every,XXe=kl(),QXe=XXe("every");ZXe({target:"Array",proto:!0,forced:!QXe},{every:function(t){return KXe(this,t,arguments.length>1?arguments[1]:void 0)}})});var JT=I((gpr,Noe)=>{"use strict";var JXe=Hr(),Doe=vu(),eQe=rn();Noe.exports=function(t){for(var r=JXe(this),n=eQe(r),i=arguments.length,o=Doe(i>1?arguments[1]:void 0,n),u=i>2?arguments[2]:void 0,p=u===void 0?n:Doe(u,n);p>o;)r[o++]=t;return r}});var koe=I(()=>{"use strict";var tQe=Q(),rQe=JT(),nQe=Mi();tQe({target:"Array",proto:!0},{fill:rQe});nQe("fill")});var Loe=I(()=>{"use strict";var iQe=Q(),oQe=Fi().filter,aQe=ny(),sQe=aQe("filter");iQe({target:"Array",proto:!0,forced:!sQe},{filter:function(t){return oQe(this,t,arguments.length>1?arguments[1]:void 0)}})});var Roe=I(()=>{"use strict";var lQe=Q(),uQe=Fi().find,cQe=Mi(),Xq="find",qoe=!0;Xq in[]&&Array(1)[Xq](function(){qoe=!1});lQe({target:"Array",proto:!0,forced:qoe},{find:function(t){return uQe(this,t,arguments.length>1?arguments[1]:void 0)}});cQe(Xq)});var joe=I(()=>{"use strict";var dQe=Q(),pQe=Fi().findIndex,fQe=Mi(),Qq="findIndex",zoe=!0;Qq in[]&&Array(1)[Qq](function(){zoe=!1});dQe({target:"Array",proto:!0,forced:zoe},{findIndex:function(t){return pQe(this,t,arguments.length>1?arguments[1]:void 0)}});fQe(Qq)});var Qb=I((Epr,Boe)=>{"use strict";var hQe=Un(),mQe=fd(),gQe=Hr(),vQe=rn(),Foe=function(e){var t=e===1;return function(r,n,i){for(var o=gQe(r),u=mQe(o),p=vQe(u),h=hQe(n,i),y,_;p-->0;)if(y=u[p],_=h(y,p,o),_)switch(e){case 0:return y;case 1:return p;}return t?-1:void 0}};Boe.exports={findLast:Foe(0),findLastIndex:Foe(1)}});var Jq=I(()=>{"use strict";var yQe=Q(),_Qe=Qb().findLast,bQe=Mi();yQe({target:"Array",proto:!0},{findLast:function(t){return _Qe(this,t,arguments.length>1?arguments[1]:void 0)}});bQe("findLast")});var eR=I(()=>{"use strict";var xQe=Q(),wQe=Qb().findLastIndex,SQe=Mi();xQe({target:"Array",proto:!0},{findLastIndex:function(t){return wQe(this,t,arguments.length>1?arguments[1]:void 0)}});SQe("findLastIndex")});var tR=I((Ppr,Voe)=>{"use strict";var IQe=yu(),EQe=rn(),TQe=_f(),MQe=Un(),Uoe=function(e,t,r,n,i,o,u,p){for(var h=i,y=0,_=u?MQe(u,p):!1,E,T;y<n;)y in r&&(E=_?_(r[y],y,t):r[y],o>0&&IQe(E)?(T=EQe(E),h=Uoe(e,t,E,T,h,o-1)-1):(TQe(h+1),e[h]=E),h++),y++;return h};Voe.exports=Uoe});var $oe=I(()=>{"use strict";var CQe=Q(),AQe=tR(),PQe=Hr(),OQe=rn(),DQe=ci(),NQe=Qv();CQe({target:"Array",proto:!0},{flat:function(){var t=arguments.length?arguments[0]:void 0,r=PQe(this),n=OQe(r),i=NQe(r,0);return i.length=AQe(i,r,r,n,0,t===void 0?1:DQe(t)),i}})});var Hoe=I(()=>{"use strict";var kQe=Q(),LQe=tR(),qQe=wr(),RQe=Hr(),zQe=rn(),jQe=Qv();kQe({target:"Array",proto:!0},{flatMap:function(t){var r=RQe(this),n=zQe(r),i;return qQe(t),i=jQe(r,0),i.length=LQe(i,r,r,n,0,1,t,arguments.length>1?arguments[1]:void 0),i}})});var rR=I((Lpr,Woe)=>{"use strict";var FQe=Fi().forEach,BQe=kl(),UQe=BQe("forEach");Woe.exports=UQe?[].forEach:function(t){return FQe(this,t,arguments.length>1?arguments[1]:void 0)}});var Yoe=I(()=>{"use strict";var VQe=Q(),Goe=rR();VQe({target:"Array",proto:!0,forced:[].forEach!==Goe},{forEach:Goe})});var eM=I((zpr,Zoe)=>{"use strict";var $Qe=Rt(),HQe=_d();Zoe.exports=function(e,t,r,n){try{return n?t($Qe(r)[0],r[1]):t(r)}catch(i){HQe(e,"throw",i)}}});var nR=I((jpr,Qoe)=>{"use strict";var WQe=Un(),GQe=jt(),YQe=Hr(),ZQe=eM(),KQe=ZT(),XQe=_u(),QQe=rn(),Koe=Nl(),JQe=yf(),eJe=oc(),Xoe=Array;Qoe.exports=function(t){var r=YQe(t),n=XQe(this),i=arguments.length,o=i>1?arguments[1]:void 0,u=o!==void 0;u&&(o=WQe(o,i>2?arguments[2]:void 0));var p=eJe(r),h=0,y,_,E,T,N,R;if(p&&!(this===Xoe&&KQe(p)))for(_=n?new this:[],T=JQe(r,p),N=T.next;!(E=GQe(N,T)).done;h++)R=u?ZQe(T,o,[E.value,h],!0):E.value,Koe(_,h,R);else for(y=QQe(r),_=n?new this(y):Xoe(y);y>h;h++)R=u?o(r[h],h):r[h],Koe(_,h,R);return _.length=h,_}});var Jb=I((Fpr,rae)=>{"use strict";var tJe=gr(),eae=tJe("iterator"),tae=!1;try{Joe=0,iR={next:function(){return{done:!!Joe++}},return:function(){tae=!0}},iR[eae]=function(){return this},Array.from(iR,function(){throw 2})}catch(e){}var Joe,iR;rae.exports=function(e,t){try{if(!t&&!tae)return!1}catch(i){return!1}var r=!1;try{var n={};n[eae]=function(){return{next:function(){return{done:r=!0}}}},e(n)}catch(i){}return r}});var nae=I(()=>{"use strict";var rJe=Q(),nJe=nR(),iJe=Jb(),oJe=!iJe(function(e){Array.from(e)});rJe({target:"Array",stat:!0,forced:oJe},{from:nJe})});var iae=I(()=>{"use strict";var aJe=Q(),sJe=Kv().includes,lJe=ft(),uJe=Mi(),cJe=lJe(function(){return!Array(1).includes()});aJe({target:"Array",proto:!0,forced:cJe},{includes:function(t){return sJe(this,t,arguments.length>1?arguments[1]:void 0)}});uJe("includes")});var aae=I(()=>{"use strict";var dJe=Q(),pJe=gd(),fJe=Kv().indexOf,hJe=kl(),oR=pJe([].indexOf),oae=!!oR&&1/oR([1],1,-0)<0,mJe=oae||!hJe("indexOf");dJe({target:"Array",proto:!0,forced:mJe},{indexOf:function(t){var r=arguments.length>1?arguments[1]:void 0;return oae?oR(this,t,r)||0:fJe(this,t,r)}})});var sae=I(()=>{"use strict";var gJe=Q(),vJe=yu();gJe({target:"Array",stat:!0},{isArray:vJe})});var gm=I((Zpr,cae)=>{"use strict";var yJe=ft(),_Je=kr(),bJe=Er(),xJe=ji(),lae=to(),wJe=Ln(),SJe=gr(),IJe=$r(),lR=SJe("iterator"),uae=!1,bd,aR,sR;[].keys&&(sR=[].keys(),"next"in sR?(aR=lae(lae(sR)),aR!==Object.prototype&&(bd=aR)):uae=!0);var EJe=!bJe(bd)||yJe(function(){var e={};return bd[lR].call(e)!==e});EJe?bd={}:IJe&&(bd=xJe(bd));_Je(bd[lR])||wJe(bd,lR,function(){return this});cae.exports={IteratorPrototype:bd,BUGGY_SAFARI_ITERATORS:uae}});var bf=I((Kpr,dae)=>{"use strict";var TJe=gm().IteratorPrototype,MJe=ji(),CJe=ys(),AJe=Ga(),PJe=mm(),OJe=function(){return this};dae.exports=function(e,t,r,n){var i=t+" Iterator";return e.prototype=MJe(TJe,{next:CJe(+!n,r)}),AJe(e,i,!1,!0),PJe[i]=OJe,e}});var nM=I((Xpr,xae)=>{"use strict";var DJe=Q(),NJe=jt(),tM=$r(),_ae=am(),kJe=kr(),LJe=bf(),pae=to(),fae=Dl(),qJe=Ga(),RJe=eo(),uR=Ln(),zJe=gr(),hae=mm(),bae=gm(),jJe=_ae.PROPER,FJe=_ae.CONFIGURABLE,mae=bae.IteratorPrototype,rM=bae.BUGGY_SAFARI_ITERATORS,ex=zJe("iterator"),gae="keys",tx="values",vae="entries",yae=function(){return this};xae.exports=function(e,t,r,n,i,o,u){LJe(r,t,n);var p=function(L){if(L===i&&T)return T;if(!rM&&L&&L in _)return _[L];switch(L){case gae:return function(){return new r(this,L)};case tx:return function(){return new r(this,L)};case vae:return function(){return new r(this,L)};}return function(){return new r(this)}},h=t+" Iterator",y=!1,_=e.prototype,E=_[ex]||_["@@iterator"]||i&&_[i],T=!rM&&E||p(i),N=t==="Array"&&_.entries||E,R,j,k;if(N&&(R=pae(N.call(new e)),R!==Object.prototype&&R.next&&(!tM&&pae(R)!==mae&&(fae?fae(R,mae):kJe(R[ex])||uR(R,ex,yae)),qJe(R,h,!0,!0),tM&&(hae[h]=yae))),jJe&&i===tx&&E&&E.name!==tx&&(!tM&&FJe?RJe(_,"name",tx):(y=!0,T=function(){return NJe(E,this)})),i)if(j={values:p(tx),keys:o?T:p(gae),entries:p(vae)},u)for(k in j)(rM||y||!(k in _))&&uR(_,k,j[k]);else DJe({target:t,proto:!0,forced:rM||y},j);return(!tM||u)&&_[ex]!==T&&uR(_,ex,T,{name:i}),hae[t]=T,j}});var Eo=I((Qpr,wae)=>{"use strict";wae.exports=function(e,t){return{value:e,done:t}}});var rx=I((Jpr,Mae)=>{"use strict";var BJe=Ji(),cR=Mi(),Sae=mm(),Eae=An(),UJe=ti().f,VJe=nM(),iM=Eo(),$Je=$r(),HJe=cr(),Tae="Array Iterator",WJe=Eae.set,GJe=Eae.getterFor(Tae);Mae.exports=VJe(Array,"Array",function(e,t){WJe(this,{type:Tae,target:BJe(e),index:0,kind:t})},function(){var e=GJe(this),t=e.target,r=e.index++;if(!t||r>=t.length)return e.target=null,iM(void 0,!0);switch(e.kind){case"keys":return iM(r,!1);case"values":return iM(t[r],!1);}return iM([r,t[r]],!1)},"values");var Iae=Sae.Arguments=Sae.Array;cR("keys");cR("values");cR("entries");if(!$Je&&HJe&&Iae.name!=="values")try{UJe(Iae,"name",{value:"values"})}catch(e){}});var Cae=I(()=>{"use strict";var YJe=Q(),ZJe=nt(),KJe=fd(),XJe=Ji(),QJe=kl(),JJe=ZJe([].join),eet=KJe!==Object,tet=eet||!QJe("join",",");YJe({target:"Array",proto:!0,forced:tet},{join:function(t){return JJe(XJe(this),t===void 0?",":t)}})});var pR=I((rfr,Pae)=>{"use strict";var ret=ba(),net=Ji(),iet=ci(),oet=rn(),aet=kl(),set=Math.min,dR=[].lastIndexOf,Aae=!!dR&&1/[1].lastIndexOf(1,-0)<0,uet=aet("lastIndexOf"),cet=Aae||!uet;Pae.exports=cet?function(t){if(Aae)return ret(dR,this,arguments)||0;var r=net(this),n=oet(r);if(n===0)return-1;var i=n-1;for(arguments.length>1&&(i=set(i,iet(arguments[1]))),i<0&&(i=n+i);i>=0;i--)if(i in r&&r[i]===t)return i||0;return-1}:dR});var Dae=I(()=>{"use strict";var det=Q(),Oae=pR();det({target:"Array",proto:!0,forced:Oae!==[].lastIndexOf},{lastIndexOf:Oae})});var Nae=I(()=>{"use strict";var pet=Q(),fet=Fi().map,het=ny(),met=het("map");pet({target:"Array",proto:!0,forced:!met},{map:function(t){return fet(this,t,arguments.length>1?arguments[1]:void 0)}})});var Lae=I(()=>{"use strict";var get=Q(),vet=ft(),yet=_u(),_et=Nl(),kae=Array,bet=vet(function(){function e(){}return!(kae.of.call(e)instanceof e)});get({target:"Array",stat:!0,forced:bet},{of:function(){for(var t=0,r=arguments.length,n=new(yet(this)?this:kae)(r);r>t;)_et(n,t,arguments[t++]);return n.length=r,n}})});var oM=I((ufr,qae)=>{"use strict";var xet=cr(),wet=yu(),Iet=TypeError,Eet=Object.getOwnPropertyDescriptor,Tet=xet&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();qae.exports=Tet?function(e,t){if(wet(e)&&!Eet(e,"length").writable)throw new Iet("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}});var Rae=I(()=>{"use strict";var Met=Q(),Cet=Hr(),Aet=rn(),Pet=oM(),Oet=_f(),Det=ft(),Net=Det(function(){return[].push.call({length:4294967296},1)!==4294967297}),ket=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}},Let=Net||!ket();Met({target:"Array",proto:!0,arity:1,forced:Let},{push:function(t){var r=Cet(this),n=Aet(r),i=arguments.length;Oet(n+i);for(var o=0;o<i;o++)r[n]=arguments[o],n++;return Pet(r,n),n}})});var nx=I((pfr,Bae)=>{"use strict";var qet=wr(),Ret=Hr(),zet=fd(),jet=rn(),zae=TypeError,jae="Reduce of empty array with no initial value",Fae=function(e){return function(t,r,n,i){var o=Ret(t),u=zet(o),p=jet(o);if(qet(r),p===0&&n<2)throw new zae(jae);var h=e?p-1:0,y=e?-1:1;if(n<2)for(;;){if(h in u){i=u[h],h+=y;break}if(h+=y,e?h<0:p<=h)throw new zae(jae)}for(;e?h>=0:p>h;h+=y)h in u&&(i=r(i,u[h],h,o));return i}};Bae.exports={left:Fae(!1),right:Fae(!0)}});var ox=I((ffr,Uae)=>{"use strict";var ix=Dt(),Fet=hu(),Bet=Uo(),aM=function(e){return Fet.slice(0,e.length)===e};Uae.exports=function(){return aM("Bun/")?"BUN":aM("Cloudflare-Workers")?"CLOUDFLARE":aM("Deno/")?"DENO":aM("Node.js/")?"NODE":ix.Bun&&typeof Bun.version=="string"?"BUN":ix.Deno&&typeof Deno.version=="object"?"DENO":Bet(ix.process)==="process"?"NODE":ix.window&&ix.document?"BROWSER":"REST"}()});var vm=I((hfr,Vae)=>{"use strict";var Uet=ox();Vae.exports=Uet==="NODE"});var Hae=I(()=>{"use strict";var Vet=Q(),$et=nx().left,Het=kl(),$ae=rc(),Wet=vm(),Get=!Wet&&$ae>79&&$ae<83,Yet=Get||!Het("reduce");Vet({target:"Array",proto:!0,forced:Yet},{reduce:function(t){var r=arguments.length;return $et(this,t,r,r>1?arguments[1]:void 0)}})});var Gae=I(()=>{"use strict";var Zet=Q(),Ket=nx().right,Xet=kl(),Wae=rc(),Qet=vm(),Jet=!Qet&&Wae>79&&Wae<83,ett=Jet||!Xet("reduceRight");Zet({target:"Array",proto:!0,forced:ett},{reduceRight:function(t){return Ket(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})});var Zae=I(()=>{"use strict";var ttt=Q(),rtt=nt(),ntt=yu(),itt=rtt([].reverse),Yae=[1,2];ttt({target:"Array",proto:!0,forced:String(Yae)===String(Yae.reverse())},{reverse:function(){return ntt(this)&&(this.length=this.length),itt(this)}})});var Qae=I(()=>{"use strict";var ott=Q(),Kae=yu(),att=_u(),stt=Er(),Xae=vu(),ltt=rn(),utt=Ji(),ctt=Nl(),dtt=gr(),ptt=ny(),ftt=xs(),htt=ptt("slice"),mtt=dtt("species"),fR=Array,gtt=Math.max;ott({target:"Array",proto:!0,forced:!htt},{slice:function(t,r){var n=utt(this),i=ltt(n),o=Xae(t,i),u=Xae(r===void 0?i:r,i),p,h,y;if(Kae(n)&&(p=n.constructor,att(p)&&(p===fR||Kae(p.prototype))?p=void 0:stt(p)&&(p=p[mtt],p===null&&(p=void 0)),p===fR||p===void 0))return ftt(n,o,u);for(h=new(p===void 0?fR:p)(gtt(u-o,0)),y=0;o<u;o++,y++)o in n&&ctt(h,y,n[o]);return h.length=y,h}})});var Jae=I(()=>{"use strict";var vtt=Q(),ytt=Fi().some,_tt=kl(),btt=_tt("some");vtt({target:"Array",proto:!0,forced:!btt},{some:function(t){return ytt(this,t,arguments.length>1?arguments[1]:void 0)}})});var sM=I((Efr,tse)=>{"use strict";var ese=xs(),xtt=Math.floor,hR=function(e,t){var r=e.length;if(r<8)for(var n=1,i,o;n<r;){for(o=n,i=e[n];o&&t(e[o-1],i)>0;)e[o]=e[--o];o!==n++&&(e[o]=i)}else for(var u=xtt(r/2),p=hR(ese(e,0,u),t),h=hR(ese(e,u),t),y=p.length,_=h.length,E=0,T=0;E<y||T<_;)e[E+T]=E<y&&T<_?t(p[E],h[T])<=0?p[E++]:h[T++]:E<y?p[E++]:h[T++];return e};tse.exports=hR});var mR=I((Tfr,nse)=>{"use strict";var wtt=hu(),rse=wtt.match(/firefox\/(\d+)/i);nse.exports=!!rse&&+rse[1]});var gR=I((Mfr,ise)=>{"use strict";var Stt=hu();ise.exports=/MSIE|Trident/.test(Stt)});var lM=I((Cfr,ase)=>{"use strict";var Itt=hu(),ose=Itt.match(/AppleWebKit\/(\d+)\./);ase.exports=!!ose&&+ose[1]});var mse=I(()=>{"use strict";var Ett=Q(),fse=nt(),Ttt=wr(),Mtt=Hr(),sse=rn(),Ctt=Xb(),lse=Mr(),vR=ft(),Att=sM(),Ptt=kl(),use=mR(),Ott=gR(),cse=rc(),dse=lM(),xf=[],pse=fse(xf.sort),Dtt=fse(xf.push),Ntt=vR(function(){xf.sort(void 0)}),ktt=vR(function(){xf.sort(null)}),Ltt=Ptt("sort"),hse=!vR(function(){if(cse)return cse<70;if(!(use&&use>3)){if(Ott)return!0;if(dse)return dse<603;var e="",t,r,n,i;for(t=65;t<76;t++){switch(r=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2;}for(i=0;i<47;i++)xf.push({k:r+i,v:n})}for(xf.sort(function(o,u){return u.v-o.v}),i=0;i<xf.length;i++)r=xf[i].k.charAt(0),e.charAt(e.length-1)!==r&&(e+=r);return e!=="DGBEFHACIJK"}}),qtt=Ntt||!ktt||!Ltt||!hse,Rtt=function(e){return function(t,r){return r===void 0?-1:t===void 0?1:e!==void 0?+e(t,r)||0:lse(t)>lse(r)?1:-1}};Ett({target:"Array",proto:!0,forced:qtt},{sort:function(t){t!==void 0&&Ttt(t);var r=Mtt(this);if(hse)return t===void 0?pse(r):pse(r,t);var n=[],i=sse(r),o,u;for(u=0;u<i;u++)u in r&&Dtt(n,r[u]);for(Att(n,Rtt(t)),o=sse(n),u=0;u<o;)r[u]=n[u++];for(;u<i;)Ctt(r,u++);return r}})});var wf=I((Ofr,vse)=>{"use strict";var ztt=Ir(),jtt=di(),Ftt=gr(),Btt=cr(),gse=Ftt("species");vse.exports=function(e){var t=ztt(e);Btt&&t&&!t[gse]&&jtt(t,gse,{configurable:!0,get:function(){return this}})}});var yse=I(()=>{"use strict";var Utt=wf();Utt("Array")});var _se=I(()=>{"use strict";var Vtt=Q(),$tt=Hr(),Htt=vu(),Wtt=ci(),Gtt=rn(),Ytt=oM(),Ztt=_f(),Ktt=Qv(),Xtt=Nl(),yR=Xb(),Qtt=ny(),Jtt=Qtt("splice"),ert=Math.max,trt=Math.min;Vtt({target:"Array",proto:!0,forced:!Jtt},{splice:function(t,r){var n=$tt(this),i=Gtt(n),o=Htt(t,i),u=arguments.length,p,h,y,_,E,T;for(u===0?p=h=0:u===1?(p=0,h=i-o):(p=u-2,h=trt(ert(Wtt(r),0),i-o)),Ztt(i+p-h),y=Ktt(n,h),_=0;_<h;_++)E=o+_,E in n&&Xtt(y,_,n[E]);if(y.length=h,p<h){for(_=o;_<i-h;_++)E=_+h,T=_+p,E in n?n[T]=n[E]:yR(n,T);for(_=i;_>i-h+p;_--)yR(n,_-1)}else if(p>h)for(_=i-h;_>o;_--)E=_+h-1,T=_+p-1,E in n?n[T]=n[E]:yR(n,T);for(_=0;_<p;_++)n[_+o]=arguments[_+2];return Ytt(n,i-h+p),y}})});var _R=I((qfr,bse)=>{"use strict";var rrt=rn();bse.exports=function(e,t){for(var r=rrt(e),n=new t(r),i=0;i<r;i++)n[i]=e[r-i-1];return n}});var bR=I(()=>{"use strict";var nrt=Q(),irt=_R(),ort=Ji(),art=Mi(),srt=Array;nrt({target:"Array",proto:!0},{toReversed:function(){return irt(ort(this),srt)}});art("toReversed")});var xd=I((jfr,xse)=>{"use strict";var lrt=rn();xse.exports=function(e,t,r){for(var n=0,i=arguments.length>2?r:lrt(t),o=new e(i);i>n;)o[n]=t[n++];return o}});var xR=I((Ffr,wse)=>{"use strict";var urt=Dt();wse.exports=function(e,t){var r=urt[e],n=r&&r.prototype;return n&&n[t]}});var wR=I(()=>{"use strict";var crt=Q(),drt=nt(),prt=wr(),frt=Ji(),hrt=xd(),mrt=xR(),grt=Mi(),vrt=Array,yrt=drt(mrt("Array","sort"));crt({target:"Array",proto:!0},{toSorted:function(t){t!==void 0&&prt(t);var r=frt(this),n=hrt(vrt,r);return yrt(n,t)}});grt("toSorted")});var SR=I(()=>{"use strict";var _rt=Q(),brt=Mi(),xrt=_f(),wrt=rn(),Srt=vu(),Irt=Ji(),Ert=ci(),Trt=Array,Mrt=Math.max,Crt=Math.min;_rt({target:"Array",proto:!0},{toSpliced:function(t,r){var n=Irt(this),i=wrt(n),o=Srt(t,i),u=arguments.length,p=0,h,y,_,E;for(u===0?h=y=0:u===1?(h=0,y=i-o):(h=u-2,y=Crt(Mrt(Ert(r),0),i-o)),_=xrt(i+h-y),E=Trt(_);p<o;p++)E[p]=n[p];for(;p<o+h;p++)E[p]=arguments[p-o+2];for(;p<_;p++)E[p]=n[p+y-h];return E}});brt("toSpliced")});var Sse=I(()=>{"use strict";var Art=Mi();Art("flat")});var Ise=I(()=>{"use strict";var Prt=Mi();Prt("flatMap")});var Ese=I(()=>{"use strict";var Ort=Q(),Drt=Hr(),Nrt=rn(),krt=oM(),Lrt=Xb(),qrt=_f(),Rrt=[].unshift(0)!==1,zrt=function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(e){return e instanceof TypeError}},jrt=Rrt||!zrt();Ort({target:"Array",proto:!0,arity:1,forced:jrt},{unshift:function(t){var r=Drt(this),n=Nrt(r),i=arguments.length;if(i){qrt(n+i);for(var o=n;o--;){var u=o+i;o in r?r[u]=r[o]:Lrt(r,u)}for(var p=0;p<i;p++)r[p]=arguments[p]}return krt(r,n+i)}})});var IR=I((Xfr,Tse)=>{"use strict";var Frt=rn(),Brt=ci(),Urt=RangeError;Tse.exports=function(e,t,r,n){var i=Frt(e),o=Brt(r),u=o<0?i+o:o;if(u>=i||u<0)throw new Urt("Incorrect index");for(var p=new t(i),h=0;h<i;h++)p[h]=h===u?n:e[h];return p}});var ER=I(()=>{"use strict";var Vrt=Q(),$rt=IR(),Hrt=Ji(),Wrt=Array;Vrt({target:"Array",proto:!0},{with:function(e,t){return $rt(Hrt(this),Wrt,e,t)}})});var uM=I((ehr,Mse)=>{"use strict";Mse.exports=typeof ArrayBuffer!="undefined"&&typeof DataView!="undefined"});var Ll=I((thr,Cse)=>{"use strict";var Grt=Ln();Cse.exports=function(e,t,r){for(var n in t)Grt(e,n,t[n],r);return e}});var xa=I((rhr,Ase)=>{"use strict";var Yrt=Vo(),Zrt=TypeError;Ase.exports=function(e,t){if(Yrt(t,e))return e;throw new Zrt("Incorrect invocation")}});var iy=I((nhr,Pse)=>{"use strict";var Krt=ci(),Xrt=_s(),Qrt=RangeError;Pse.exports=function(e){if(e===void 0)return 0;var t=Krt(e),r=Xrt(t);if(t!==r)throw new Qrt("Wrong length or index");return r}});var cM=I((ihr,Ose)=>{"use strict";Ose.exports=Math.sign||function(t){var r=+t;return r===0||r!==r?r:r<0?-1:1}});var TR=I((ohr,kse)=>{"use strict";var Jrt=cM(),ent=Math.abs,Nse=2220446049250313e-31,Dse=1/Nse,tnt=function(e){return e+Dse-Dse};kse.exports=function(e,t,r,n){var i=+e,o=ent(i),u=Jrt(i);if(o<n)return u*tnt(o/n/t)*n*t;var p=(1+t/Nse)*o,h=p-(p-o);return h>r||h!==h?u*(1/0):u*h}});var dM=I((ahr,Lse)=>{"use strict";var rnt=TR(),nnt=1.1920928955078125e-7,int=34028234663852886e22,ont=11754943508222875e-54;Lse.exports=Math.fround||function(t){return rnt(t,nnt,int,ont)}});var pM=I((shr,qse)=>{"use strict";var ant=Array,snt=Math.abs,wd=Math.pow,lnt=Math.floor,unt=Math.log,cnt=Math.LN2,dnt=function(e,t,r){var n=ant(r),i=r*8-t-1,o=(1<<i)-1,u=o>>1,p=t===23?wd(2,-24)-wd(2,-77):0,h=e<0||e===0&&1/e<0?1:0,y=0,_,E,T;for(e=snt(e),e!==e||e===1/0?(E=e!==e?1:0,_=o):(_=lnt(unt(e)/cnt),T=wd(2,-_),e*T<1&&(_--,T*=2),_+u>=1?e+=p/T:e+=p*wd(2,1-u),e*T>=2&&(_++,T/=2),_+u>=o?(E=0,_=o):_+u>=1?(E=(e*T-1)*wd(2,t),_+=u):(E=e*wd(2,u-1)*wd(2,t),_=0));t>=8;)n[y++]=E&255,E/=256,t-=8;for(_=_<<t|E,i+=t;i>0;)n[y++]=_&255,_/=256,i-=8;return n[y-1]|=h*128,n},pnt=function(e,t){var r=e.length,n=r*8-t-1,i=(1<<n)-1,o=i>>1,u=n-7,p=r-1,h=e[p--],y=h&127,_;for(h>>=7;u>0;)y=y*256+e[p--],u-=8;for(_=y&(1<<-u)-1,y>>=-u,u+=t;u>0;)_=_*256+e[p--],u-=8;if(y===0)y=1-o;else{if(y===i)return _?NaN:h?-1/0:1/0;_+=wd(2,t),y-=o}return(h?-1:1)*_*wd(2,y-t)};qse.exports={pack:dnt,unpack:pnt}});var lx=I((lhr,Jse)=>{"use strict";var vM=Dt(),OR=nt(),MR=cr(),fnt=uM(),Yse=am(),hnt=eo(),mnt=di(),Rse=Ll(),CR=ft(),fM=xa(),gnt=ci(),vnt=_s(),mM=iy(),ynt=dM(),Zse=pM(),_nt=to(),zse=Dl(),bnt=JT(),xnt=xs(),wnt=vf(),Snt=lm(),Kse=Ga(),DR=An(),Int=Yse.PROPER,jse=Yse.CONFIGURABLE,ay="ArrayBuffer",yM="DataView",sy="prototype",Ent="Wrong length",Xse="Wrong index",Fse=DR.getterFor(ay),sx=DR.getterFor(yM),Bse=DR.set,bu=vM[ay],rl=bu,oy=rl&&rl[sy],ac=vM[yM],ym=ac&&ac[sy],Use=Object.prototype,Tnt=vM.Array,gM=vM.RangeError,Mnt=OR(bnt),Cnt=OR([].reverse),Qse=Zse.pack,Vse=Zse.unpack,$se=function(e){return[e&255]},Hse=function(e){return[e&255,e>>8&255]},Wse=function(e){return[e&255,e>>8&255,e>>16&255,e>>24&255]},Gse=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},Ant=function(e){return Qse(ynt(e),23,4)},Pnt=function(e){return Qse(e,52,8)},hM=function(e,t,r){mnt(e[sy],t,{configurable:!0,get:function(){return r(this)[t]}})},Sf=function(e,t,r,n){var i=sx(e),o=mM(r),u=!!n;if(o+t>i.byteLength)throw new gM(Xse);var p=i.bytes,h=o+i.byteOffset,y=xnt(p,h,h+t);return u?y:Cnt(y)},If=function(e,t,r,n,i,o){var u=sx(e),p=mM(r),h=n(+i),y=!!o;if(p+t>u.byteLength)throw new gM(Xse);for(var _=u.bytes,E=p+u.byteOffset,T=0;T<t;T++)_[E+T]=h[y?T:t-T-1]};fnt?(AR=Int&&bu.name!==ay,!CR(function(){bu(1)})||!CR(function(){new bu(-1)})||CR(function(){return new bu,new bu(1.5),new bu(NaN),bu.length!==1||AR&&!jse})?(rl=function(t){return fM(this,oy),wnt(new bu(mM(t)),this,rl)},rl[sy]=oy,oy.constructor=rl,Snt(rl,bu)):AR&&jse&&hnt(bu,"name",ay),zse&&_nt(ym)!==Use&&zse(ym,Use),ax=new ac(new rl(2)),PR=OR(ym.setInt8),ax.setInt8(0,2147483648),ax.setInt8(1,2147483649),(ax.getInt8(0)||!ax.getInt8(1))&&Rse(ym,{setInt8:function(t,r){PR(this,t,r<<24>>24)},setUint8:function(t,r){PR(this,t,r<<24>>24)}},{unsafe:!0})):(rl=function(t){fM(this,oy);var r=mM(t);Bse(this,{type:ay,bytes:Mnt(Tnt(r),0),byteLength:r}),MR||(this.byteLength=r,this.detached=!1)},oy=rl[sy],ac=function(t,r,n){fM(this,ym),fM(t,oy);var i=Fse(t),o=i.byteLength,u=gnt(r);if(u<0||u>o)throw new gM("Wrong offset");if(n=n===void 0?o-u:vnt(n),u+n>o)throw new gM(Ent);Bse(this,{type:yM,buffer:t,byteLength:n,byteOffset:u,bytes:i.bytes}),MR||(this.buffer=t,this.byteLength=n,this.byteOffset=u)},ym=ac[sy],MR&&(hM(rl,"byteLength",Fse),hM(ac,"buffer",sx),hM(ac,"byteLength",sx),hM(ac,"byteOffset",sx)),Rse(ym,{getInt8:function(t){return Sf(this,1,t)[0]<<24>>24},getUint8:function(t){return Sf(this,1,t)[0]},getInt16:function(t){var r=Sf(this,2,t,arguments.length>1?arguments[1]:!1);return(r[1]<<8|r[0])<<16>>16},getUint16:function(t){var r=Sf(this,2,t,arguments.length>1?arguments[1]:!1);return r[1]<<8|r[0]},getInt32:function(t){return Gse(Sf(this,4,t,arguments.length>1?arguments[1]:!1))},getUint32:function(t){return Gse(Sf(this,4,t,arguments.length>1?arguments[1]:!1))>>>0},getFloat32:function(t){return Vse(Sf(this,4,t,arguments.length>1?arguments[1]:!1),23)},getFloat64:function(t){return Vse(Sf(this,8,t,arguments.length>1?arguments[1]:!1),52)},setInt8:function(t,r){If(this,1,t,$se,r)},setUint8:function(t,r){If(this,1,t,$se,r)},setInt16:function(t,r){If(this,2,t,Hse,r,arguments.length>2?arguments[2]:!1)},setUint16:function(t,r){If(this,2,t,Hse,r,arguments.length>2?arguments[2]:!1)},setInt32:function(t,r){If(this,4,t,Wse,r,arguments.length>2?arguments[2]:!1)},setUint32:function(t,r){If(this,4,t,Wse,r,arguments.length>2?arguments[2]:!1)},setFloat32:function(t,r){If(this,4,t,Ant,r,arguments.length>2?arguments[2]:!1)},setFloat64:function(t,r){If(this,8,t,Pnt,r,arguments.length>2?arguments[2]:!1)}}));var AR,ax,PR;Kse(rl,ay);Kse(ac,yM);Jse.exports={ArrayBuffer:rl,DataView:ac}});var tle=I(()=>{"use strict";var Ont=Q(),Dnt=Dt(),Nnt=lx(),knt=wf(),NR="ArrayBuffer",ele=Nnt[NR],Lnt=Dnt[NR];Ont({global:!0,constructor:!0,forced:Lnt!==ele},{ArrayBuffer:ele});knt(NR)});var Ur=I((dhr,dle)=>{"use strict";var qnt=uM(),RR=cr(),Ya=Dt(),ole=kr(),xM=Er(),Tf=zr(),zR=bs(),Rnt=pf(),znt=eo(),kR=Ln(),jnt=di(),Fnt=Vo(),wM=to(),uy=Dl(),Bnt=gr(),Unt=ff(),ale=An(),sle=ale.enforce,Vnt=ale.get,_M=Ya.Int8Array,LR=_M&&_M.prototype,rle=Ya.Uint8ClampedArray,nle=rle&&rle.prototype,sc=_M&&wM(_M),xu=LR&&wM(LR),$nt=Object.prototype,jR=Ya.TypeError,ile=Bnt("toStringTag"),qR=Unt("TYPED_ARRAY_TAG"),bM="TypedArrayConstructor",Sd=qnt&&!!uy&&zR(Ya.opera)!=="Opera",lle=!1,Ss,Ef,ly,Id={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},FR={BigInt64Array:8,BigUint64Array:8},Hnt=function(t){if(!xM(t))return!1;var r=zR(t);return r==="DataView"||Tf(Id,r)||Tf(FR,r)},ule=function(e){var t=wM(e);if(xM(t)){var r=Vnt(t);return r&&Tf(r,bM)?r[bM]:ule(t)}},cle=function(e){if(!xM(e))return!1;var t=zR(e);return Tf(Id,t)||Tf(FR,t)},Wnt=function(e){if(cle(e))return e;throw new jR("Target is not a typed array")},Gnt=function(e){if(ole(e)&&(!uy||Fnt(sc,e)))return e;throw new jR(Rnt(e)+" is not a typed array constructor")},Ynt=function(e,t,r,n){if(RR){if(r)for(var i in Id){var o=Ya[i];if(o&&Tf(o.prototype,e))try{delete o.prototype[e]}catch(u){try{o.prototype[e]=t}catch(p){}}}(!xu[e]||r)&&kR(xu,e,r?t:Sd&&LR[e]||t,n)}},Znt=function(e,t,r){var n,i;if(RR){if(uy){if(r){for(n in Id)if(i=Ya[n],i&&Tf(i,e))try{delete i[e]}catch(o){}}if(!sc[e]||r)try{return kR(sc,e,r?t:Sd&&sc[e]||t)}catch(o){}else return}for(n in Id)i=Ya[n],i&&(!i[e]||r)&&kR(i,e,t)}};for(Ss in Id)Ef=Ya[Ss],ly=Ef&&Ef.prototype,ly?sle(ly)[bM]=Ef:Sd=!1;for(Ss in FR)Ef=Ya[Ss],ly=Ef&&Ef.prototype,ly&&(sle(ly)[bM]=Ef);if((!Sd||!ole(sc)||sc===Function.prototype)&&(sc=function(){throw new jR("Incorrect invocation")},Sd))for(Ss in Id)Ya[Ss]&&uy(Ya[Ss],sc);if((!Sd||!xu||xu===$nt)&&(xu=sc.prototype,Sd))for(Ss in Id)Ya[Ss]&&uy(Ya[Ss].prototype,xu);Sd&&wM(nle)!==xu&&uy(nle,xu);if(RR&&!Tf(xu,ile)){lle=!0,jnt(xu,ile,{configurable:!0,get:function(){return xM(this)?this[qR]:void 0}});for(Ss in Id)Ya[Ss]&&znt(Ya[Ss],qR,Ss)}dle.exports={NATIVE_ARRAY_BUFFER_VIEWS:Sd,TYPED_ARRAY_TAG:lle&&qR,aTypedArray:Wnt,aTypedArrayConstructor:Gnt,exportTypedArrayMethod:Ynt,exportTypedArrayStaticMethod:Znt,getTypedArrayConstructor:ule,isView:Hnt,isTypedArray:cle,TypedArray:sc,TypedArrayPrototype:xu}});var fle=I(()=>{"use strict";var Knt=Q(),ple=Ur(),Xnt=ple.NATIVE_ARRAY_BUFFER_VIEWS;Knt({target:"ArrayBuffer",stat:!0,forced:!Xnt},{isView:ple.isView})});var _le=I(()=>{"use strict";var Qnt=Q(),UR=gd(),Jnt=ft(),vle=lx(),hle=Rt(),mle=vu(),eit=_s(),VR=vle.ArrayBuffer,BR=vle.DataView,yle=BR.prototype,gle=UR(VR.prototype.slice),tit=UR(yle.getUint8),rit=UR(yle.setUint8),nit=Jnt(function(){return!new VR(2).slice(1,void 0).byteLength});Qnt({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:nit},{slice:function(t,r){if(gle&&r===void 0)return gle(hle(this),t);for(var n=hle(this).byteLength,i=mle(t,n),o=mle(r===void 0?n:r,n),u=new VR(eit(o-i)),p=new BR(this),h=new BR(u),y=0;i<o;)rit(h,y++,tit(p,i++));return u}})});var ble=I(()=>{"use strict";var iit=Q(),oit=lx(),ait=uM();iit({global:!0,constructor:!0,forced:!ait},{DataView:oit.DataView})});var xle=I(()=>{"use strict";ble()});var $R=I((bhr,Ile)=>{"use strict";var Sle=Dt(),sit=Kb(),lit=Uo(),wle=Sle.ArrayBuffer,uit=Sle.TypeError;Ile.exports=wle&&sit(wle.prototype,"byteLength","get")||function(e){if(lit(e)!=="ArrayBuffer")throw new uit("ArrayBuffer expected");return e.byteLength}});var HR=I((xhr,Cle)=>{"use strict";var cit=Dt(),dit=gd(),pit=$R(),Ele=cit.ArrayBuffer,Tle=Ele&&Ele.prototype,Mle=Tle&&dit(Tle.slice);Cle.exports=function(e){if(pit(e)!==0||!Mle)return!1;try{return Mle(e,0,0),!1}catch(t){return!0}}});var WR=I(()=>{"use strict";var fit=cr(),hit=di(),mit=HR(),Ale=ArrayBuffer.prototype;fit&&!("detached"in Ale)&&hit(Ale,"detached",{configurable:!0,get:function(){return mit(this)}})});var cy=I((Ihr,Ple)=>{"use strict";var git=HR(),vit=TypeError;Ple.exports=function(e){if(git(e))throw new vit("ArrayBuffer is detached");return e}});var GR=I((Ehr,Ole)=>{"use strict";var yit=Dt(),_it=vm();Ole.exports=function(e){if(_it){try{return yit.process.getBuiltinModule(e)}catch(t){}try{return Function("return require(\""+e+"\")")()}catch(t){}}}});var SM=I((Thr,Nle)=>{"use strict";var bit=Dt(),xit=ft(),YR=rc(),ZR=ox(),Dle=bit.structuredClone;Nle.exports=!!Dle&&!xit(function(){if(ZR==="DENO"&&YR>92||ZR==="NODE"&&YR>94||ZR==="BROWSER"&&YR>97)return!1;var e=new ArrayBuffer(8),t=Dle(e,{transfer:[e]});return e.byteLength!==0||t.byteLength!==8})});var e8=I((Mhr,qle)=>{"use strict";var JR=Dt(),wit=GR(),Sit=SM(),Iit=JR.structuredClone,kle=JR.ArrayBuffer,IM=JR.MessageChannel,QR=!1,KR,Lle,EM,XR;if(Sit)QR=function(e){Iit(e,{transfer:[e]})};else if(kle)try{IM||(KR=wit("worker_threads"),KR&&(IM=KR.MessageChannel)),IM&&(Lle=new IM,EM=new kle(2),XR=function(e){Lle.port1.postMessage(null,[e])},EM.byteLength===2&&(XR(EM),EM.byteLength===0&&(QR=XR)))}catch(e){}qle.exports=QR});var a8=I((Chr,Vle)=>{"use strict";var n8=Dt(),i8=nt(),Fle=Kb(),Eit=iy(),Tit=cy(),Mit=$R(),Rle=e8(),t8=SM(),Cit=n8.structuredClone,Ble=n8.ArrayBuffer,r8=n8.DataView,Ait=Math.min,o8=Ble.prototype,Ule=r8.prototype,Pit=i8(o8.slice),zle=Fle(o8,"resizable","get"),jle=Fle(o8,"maxByteLength","get"),Oit=i8(Ule.getInt8),Dit=i8(Ule.setInt8);Vle.exports=(t8||Rle)&&function(e,t,r){var n=Mit(e),i=t===void 0?n:Eit(t),o=!zle||!zle(e),u;if(Tit(e),t8&&(e=Cit(e,{transfer:[e]}),n===i&&(r||o)))return e;if(n>=i&&(!r||o))u=Pit(e,0,i);else{var p=r&&!o&&jle?{maxByteLength:jle(e)}:void 0;u=new Ble(i,p);for(var h=new r8(e),y=new r8(u),_=Ait(i,n),E=0;E<_;E++)Dit(y,E,Oit(h,E))}return t8||Rle(e),u}});var s8=I(()=>{"use strict";var Nit=Q(),$le=a8();$le&&Nit({target:"ArrayBuffer",proto:!0},{transfer:function(){return $le(this,arguments.length?arguments[0]:void 0,!0)}})});var l8=I(()=>{"use strict";var kit=Q(),Hle=a8();Hle&&kit({target:"ArrayBuffer",proto:!0},{transferToFixedLength:function(){return Hle(this,arguments.length?arguments[0]:void 0,!1)}})});var Wle=I(()=>{"use strict";var Lit=Q(),qit=nt(),Rit=ft(),zit=Rit(function(){return new Date(16e11).getYear()!==120}),jit=qit(Date.prototype.getFullYear);Lit({target:"Date",proto:!0,forced:zit},{getYear:function(){return jit(this)-1900}})});var Yle=I(()=>{"use strict";var Fit=Q(),Bit=nt(),Gle=Date,Uit=Bit(Gle.prototype.getTime);Fit({target:"Date",stat:!0},{now:function(){return Uit(new Gle)}})});var Xle=I(()=>{"use strict";var Vit=Q(),Zle=nt(),$it=ci(),Kle=Date.prototype,Hit=Zle(Kle.getTime),Wit=Zle(Kle.setFullYear);Vit({target:"Date",proto:!0},{setYear:function(t){Hit(this);var r=$it(t),n=r>=0&&r<=99?r+1900:r;return Wit(this,n)}})});var Qle=I(()=>{"use strict";var Git=Q();Git({target:"Date",proto:!0},{toGMTString:Date.prototype.toUTCString})});var ux=I((Bhr,Jle)=>{"use strict";var Yit=ci(),Zit=Mr(),Kit=oi(),Xit=RangeError;Jle.exports=function(t){var r=Zit(Kit(this)),n="",i=Yit(t);if(i<0||i===1/0)throw new Xit("Wrong number of repetitions");for(;i>0;(i>>>=1)&&(r+=r))i&1&&(n+=r);return n}});var cx=I((Uhr,nue)=>{"use strict";var rue=nt(),Qit=_s(),eue=Mr(),Jit=ux(),eot=oi(),tot=rue(Jit),rot=rue("".slice),not=Math.ceil,tue=function(e){return function(t,r,n){var i=eue(eot(t)),o=Qit(r),u=i.length,p=n===void 0?" ":eue(n),h,y;return o<=u||p===""?i:(h=o-u,y=tot(p,not(h/p.length)),y.length>h&&(y=rot(y,0,h)),e?i+y:y+i)}};nue.exports={start:tue(!1),end:tue(!0)}});var aue=I((Vhr,oue)=>{"use strict";var Mf=nt(),iue=ft(),_m=cx().start,iot=RangeError,oot=isFinite,aot=Math.abs,Ed=Date.prototype,u8=Ed.toISOString,sot=Mf(Ed.getTime),lot=Mf(Ed.getUTCDate),uot=Mf(Ed.getUTCFullYear),cot=Mf(Ed.getUTCHours),dot=Mf(Ed.getUTCMilliseconds),pot=Mf(Ed.getUTCMinutes),fot=Mf(Ed.getUTCMonth),hot=Mf(Ed.getUTCSeconds);oue.exports=iue(function(){return u8.call(new Date(-5e13-1))!=="0385-07-25T07:06:39.999Z"})||!iue(function(){u8.call(new Date(NaN))})?function(){if(!oot(sot(this)))throw new iot("Invalid time value");var t=this,r=uot(t),n=dot(t),i=r<0?"-":r>9999?"+":"";return i+_m(aot(r),i?6:4,0)+"-"+_m(fot(t)+1,2,0)+"-"+_m(lot(t),2,0)+"T"+_m(cot(t),2,0)+":"+_m(pot(t),2,0)+":"+_m(hot(t),2,0)+"."+_m(n,3,0)+"Z"}:u8});var lue=I(()=>{"use strict";var mot=Q(),sue=aue();mot({target:"Date",proto:!0,forced:Date.prototype.toISOString!==sue},{toISOString:sue})});var uue=I(()=>{"use strict";var got=Q(),vot=ft(),yot=Hr(),_ot=Lb(),bot=vot(function(){return new Date(NaN).toJSON()!==null||Date.prototype.toJSON.call({toISOString:function(){return 1}})!==1});got({target:"Date",proto:!0,arity:1,forced:bot},{toJSON:function(t){var r=yot(this),n=_ot(r,"number");return typeof n=="number"&&!isFinite(n)?null:r.toISOString()}})});var due=I((Yhr,cue)=>{"use strict";var xot=Rt(),wot=FL(),Sot=TypeError;cue.exports=function(e){if(xot(this),e==="string"||e==="default")e="string";else if(e!=="number")throw new Sot("Incorrect hint");return wot(this,e)}});var hue=I(()=>{"use strict";var Iot=zr(),Eot=Ln(),Tot=due(),Mot=gr(),pue=Mot("toPrimitive"),fue=Date.prototype;Iot(fue,pue)||Eot(fue,pue,Tot)});var yue=I(()=>{"use strict";var gue=nt(),Cot=Ln(),c8=Date.prototype,mue="Invalid Date",vue="toString",Aot=gue(c8[vue]),Pot=gue(c8.getTime);String(new Date(NaN))!==mue&&Cot(c8,vue,function(){var t=Pot(this);return t===t?Aot(this):mue})});var bue=I(()=>{"use strict";var Oot=Q(),dx=nt(),Dot=Mr(),Not=dx("".charAt),kot=dx("".charCodeAt),Lot=dx(/./.exec),qot=dx(1 .toString),Rot=dx("".toUpperCase),zot=/[\w*+\-./@]/,_ue=function(e,t){for(var r=qot(e,16);r.length<t;)r="0"+r;return r};Oot({global:!0},{escape:function(t){for(var r=Dot(t),n="",i=r.length,o=0,u,p;o<i;)u=Not(r,o++),Lot(zot,u)?n+=u:(p=kot(u,0),p<256?n+="%"+_ue(p,2):n+="%u"+Rot(_ue(p,4)));return n}})});var p8=I((tmr,Iue)=>{"use strict";var wue=nt(),jot=wr(),Fot=Er(),Bot=zr(),xue=xs(),Uot=Gv(),Sue=Function,Vot=wue([].concat),$ot=wue([].join),d8={},Hot=function(e,t,r){if(!Bot(d8,t)){for(var n=[],i=0;i<t;i++)n[i]="a["+i+"]";d8[t]=Sue("C,a","return new C("+$ot(n,",")+")")}return d8[t](e,r)};Iue.exports=Uot?Sue.bind:function(t){var r=jot(this),n=r.prototype,i=xue(arguments,1),o=function(){var p=Vot(i,xue(arguments));return this instanceof o?Hot(r,p.length,p):r.apply(t,p)};return Fot(n)&&(o.prototype=n),o}});var Tue=I(()=>{"use strict";var Wot=Q(),Eue=p8();Wot({target:"Function",proto:!0,forced:Function.bind!==Eue},{bind:Eue})});var Aue=I(()=>{"use strict";var Got=kr(),Mue=Er(),Yot=ti(),Zot=Vo(),Kot=gr(),Xot=Fb(),f8=Kot("hasInstance"),Cue=Function.prototype;f8 in Cue||Yot.f(Cue,f8,{value:Xot(function(e){if(!Got(this)||!Mue(e))return!1;var t=this.prototype;return Mue(t)?Zot(t,e):e instanceof this},f8)})});var Nue=I(()=>{"use strict";var Qot=cr(),Jot=am().EXISTS,Pue=nt(),eat=di(),Oue=Function.prototype,tat=Pue(Oue.toString),Due=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,rat=Pue(Due.exec),nat="name";Qot&&!Jot&&eat(Oue,nat,{configurable:!0,get:function(){try{return rat(Due,tat(this))[1]}catch(e){return""}}})});var m8=I(()=>{"use strict";var iat=Q(),h8=Dt();iat({global:!0,forced:h8.globalThis!==h8},{globalThis:h8})});var b8=I(()=>{"use strict";var oat=Q(),aat=Dt(),sat=xa(),lat=Rt(),uat=kr(),cat=to(),dat=di(),pat=Nl(),fat=ft(),y8=zr(),hat=gr(),lc=gm().IteratorPrototype,mat=cr(),gat=$r(),g8="constructor",Lue="Iterator",kue=hat("toStringTag"),que=TypeError,v8=aat[Lue],Rue=gat||!uat(v8)||v8.prototype!==lc||!fat(function(){v8({})}),_8=function(){if(sat(this,lc),cat(this)===lc)throw new que("Abstract class Iterator not directly constructable")},zue=function(e,t){mat?dat(lc,e,{configurable:!0,get:function(){return t},set:function(r){if(lat(this),this===lc)throw new que("You can't redefine this property");y8(this,e)?this[e]=r:pat(this,e,r)}}):lc[e]=t};y8(lc,kue)||zue(kue,Lue);(Rue||!y8(lc,g8)||lc[g8]===Object)&&zue(g8,_8);_8.prototype=lc;oat({global:!0,constructor:!0,forced:Rue},{Iterator:_8})});var _i=I((pmr,jue)=>{"use strict";jue.exports=function(e){return{iterator:e,next:e.next,done:!1}}});var px=I((fmr,Fue)=>{"use strict";var vat=RangeError;Fue.exports=function(e){if(e===e)return e;throw new vat("NaN is not allowed")}});var dy=I((hmr,Bue)=>{"use strict";var yat=ci(),_at=RangeError;Bue.exports=function(e){var t=yat(e);if(t<0)throw new _at("The argument can't be less than 0");return t}});var Cf=I((mmr,Gue)=>{"use strict";var bat=jt(),xat=ji(),wat=eo(),Sat=Ll(),Iat=gr(),Uue=An(),Eat=zi(),Tat=gm().IteratorPrototype,x8=Eo(),w8=_d(),Mat=Iat("toStringTag"),Vue="IteratorHelper",$ue="WrapForValidIterator",Cat=Uue.set,Hue=function(e){var t=Uue.getterFor(e?$ue:Vue);return Sat(xat(Tat),{next:function(){var n=t(this);if(e)return n.nextHandler();try{var i=n.done?void 0:n.nextHandler();return x8(i,n.done)}catch(o){throw n.done=!0,o}},return:function(){var r=t(this),n=r.iterator;if(r.done=!0,e){var i=Eat(n,"return");return i?bat(i,n):x8(void 0,!0)}if(r.inner)try{w8(r.inner.iterator,"normal")}catch(o){return w8(n,"throw",o)}return n&&w8(n,"normal"),x8(void 0,!0)}})},Aat=Hue(!0),Wue=Hue(!1);wat(Wue,Mat,"Iterator Helper");Gue.exports=function(e,t){var r=function(i,o){o?(o.iterator=i.iterator,o.next=i.next):o=i,o.type=t?$ue:Vue,o.nextHandler=e,o.counter=0,o.done=!1,Cat(this,o)};return r.prototype=t?Aat:Wue,r}});var I8=I(()=>{"use strict";var Pat=Q(),Yue=jt(),S8=Rt(),Oat=_i(),Dat=px(),Nat=dy(),kat=Cf(),Lat=$r(),qat=kat(function(){for(var e=this.iterator,t=this.next,r,n;this.remaining;)if(this.remaining--,r=S8(Yue(t,e)),n=this.done=!!r.done,n)return;if(r=S8(Yue(t,e)),n=this.done=!!r.done,!n)return r.value});Pat({target:"Iterator",proto:!0,real:!0,forced:Lat},{drop:function(t){S8(this);var r=Nat(Dat(+t));return new qat(Oat(this),{remaining:r})}})});var E8=I(()=>{"use strict";var Rat=Q(),zat=Ti(),jat=wr(),Fat=Rt(),Bat=_i();Rat({target:"Iterator",proto:!0,real:!0},{every:function(t){Fat(this),jat(t);var r=Bat(this),n=0;return!zat(r,function(i,o){if(!t(i,n++))return o()},{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})});var T8=I(()=>{"use strict";var Uat=Q(),Vat=jt(),$at=wr(),Zue=Rt(),Hat=_i(),Wat=Cf(),Gat=eM(),Yat=$r(),Zat=Wat(function(){for(var e=this.iterator,t=this.predicate,r=this.next,n,i,o;;){if(n=Zue(Vat(r,e)),i=this.done=!!n.done,i)return;if(o=n.value,Gat(e,t,[o,this.counter++],!0))return o}});Uat({target:"Iterator",proto:!0,real:!0,forced:Yat},{filter:function(t){return Zue(this),$at(t),new Zat(Hat(this),{predicate:t})}})});var M8=I(()=>{"use strict";var Kat=Q(),Xat=Ti(),Qat=wr(),Jat=Rt(),est=_i();Kat({target:"Iterator",proto:!0,real:!0},{find:function(t){Jat(this),Qat(t);var r=est(this),n=0;return Xat(r,function(i,o){if(t(i,n++))return o(i)},{IS_RECORD:!0,INTERRUPTED:!0}).result}})});var C8=I((Imr,Xue)=>{"use strict";var tst=jt(),Kue=Rt(),rst=_i(),nst=oc();Xue.exports=function(e,t){(!t||typeof e!="string")&&Kue(e);var r=nst(e);return rst(Kue(r!==void 0?tst(r,e):e))}});var P8=I(()=>{"use strict";var ist=Q(),Que=jt(),ost=wr(),A8=Rt(),ast=_i(),sst=C8(),lst=Cf(),Jue=_d(),ust=$r(),cst=lst(function(){for(var e=this.iterator,t=this.mapper,r,n;;){if(n=this.inner)try{if(r=A8(Que(n.next,n.iterator)),!r.done)return r.value;this.inner=null}catch(i){Jue(e,"throw",i)}if(r=A8(Que(this.next,e)),this.done=!!r.done)return;try{this.inner=sst(t(r.value,this.counter++),!1)}catch(i){Jue(e,"throw",i)}}});ist({target:"Iterator",proto:!0,real:!0,forced:ust},{flatMap:function(t){return A8(this),ost(t),new cst(ast(this),{mapper:t,inner:null})}})});var O8=I(()=>{"use strict";var dst=Q(),pst=Ti(),fst=wr(),hst=Rt(),mst=_i();dst({target:"Iterator",proto:!0,real:!0},{forEach:function(t){hst(this),fst(t);var r=mst(this),n=0;pst(r,function(i){t(i,n++)},{IS_RECORD:!0})}})});var D8=I(()=>{"use strict";var gst=Q(),vst=jt(),yst=Hr(),_st=Vo(),bst=gm().IteratorPrototype,xst=Cf(),wst=C8(),Sst=$r(),Ist=xst(function(){return vst(this.next,this.iterator)},!0);gst({target:"Iterator",stat:!0,forced:Sst},{from:function(t){var r=wst(typeof t=="string"?yst(t):t,!0);return _st(bst,r.iterator)?r.iterator:new Ist(r)}})});var N8=I((Omr,tce)=>{"use strict";var Est=jt(),Tst=wr(),ece=Rt(),Mst=_i(),Cst=Cf(),Ast=eM(),Pst=Cst(function(){var e=this.iterator,t=ece(Est(this.next,e)),r=this.done=!!t.done;if(!r)return Ast(e,this.mapper,[t.value,this.counter++],!0)});tce.exports=function(t){return ece(this),Tst(t),new Pst(Mst(this),{mapper:t})}});var k8=I(()=>{"use strict";var Ost=Q(),Dst=N8(),Nst=$r();Ost({target:"Iterator",proto:!0,real:!0,forced:Nst},{map:Dst})});var L8=I(()=>{"use strict";var kst=Q(),Lst=Ti(),qst=wr(),Rst=Rt(),zst=_i(),jst=TypeError;kst({target:"Iterator",proto:!0,real:!0},{reduce:function(t){Rst(this),qst(t);var r=zst(this),n=arguments.length<2,i=n?void 0:arguments[1],o=0;if(Lst(r,function(u){n?(n=!1,i=u):i=t(i,u,o),o++},{IS_RECORD:!0}),n)throw new jst("Reduce of empty iterator with no initial value");return i}})});var q8=I(()=>{"use strict";var Fst=Q(),Bst=Ti(),Ust=wr(),Vst=Rt(),$st=_i();Fst({target:"Iterator",proto:!0,real:!0},{some:function(t){Vst(this),Ust(t);var r=$st(this),n=0;return Bst(r,function(i,o){if(t(i,n++))return o()},{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})});var R8=I(()=>{"use strict";var Hst=Q(),Wst=jt(),rce=Rt(),Gst=_i(),Yst=px(),Zst=dy(),Kst=Cf(),Xst=_d(),Qst=$r(),Jst=Kst(function(){var e=this.iterator;if(!this.remaining--)return this.done=!0,Xst(e,"normal",void 0);var t=rce(Wst(this.next,e)),r=this.done=!!t.done;if(!r)return t.value});Hst({target:"Iterator",proto:!0,real:!0,forced:Qst},{take:function(t){rce(this);var r=Zst(Yst(+t));return new Jst(Gst(this),{remaining:r})}})});var z8=I(()=>{"use strict";var elt=Q(),tlt=Rt(),rlt=Ti(),nlt=_i(),ilt=[].push;elt({target:"Iterator",proto:!0,real:!0},{toArray:function(){var t=[];return rlt(nlt(tlt(this)),ilt,{that:t,IS_RECORD:!0}),t}})});var nce=I(()=>{"use strict";var olt=Dt(),alt=Ga();alt(olt.JSON,"JSON",!0)});var TM=I(($mr,ice)=>{"use strict";var slt=ft();ice.exports=slt(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}})});var CM=I((Hmr,ace)=>{"use strict";var llt=ft(),ult=Er(),clt=Uo(),oce=TM(),MM=Object.isExtensible,dlt=llt(function(){MM(1)});ace.exports=dlt||oce?function(t){return!ult(t)||oce&&clt(t)==="ArrayBuffer"?!1:MM?MM(t):!0}:MM});var Td=I((Wmr,sce)=>{"use strict";var plt=ft();sce.exports=!plt(function(){return Object.isExtensible(Object.preventExtensions({}))})});var Af=I((Gmr,cce)=>{"use strict";var flt=Q(),hlt=nt(),mlt=Zv(),glt=Er(),j8=zr(),vlt=ti().f,lce=hf(),ylt=LT(),F8=CM(),_lt=ff(),blt=Td(),uce=!1,Md=_lt("meta"),xlt=0,B8=function(e){vlt(e,Md,{value:{objectID:"O"+xlt++,weakData:{}}})},wlt=function(e,t){if(!glt(e))return typeof e=="symbol"?e:(typeof e=="string"?"S":"P")+e;if(!j8(e,Md)){if(!F8(e))return"F";if(!t)return"E";B8(e)}return e[Md].objectID},Slt=function(e,t){if(!j8(e,Md)){if(!F8(e))return!0;if(!t)return!1;B8(e)}return e[Md].weakData},Ilt=function(e){return blt&&uce&&F8(e)&&!j8(e,Md)&&B8(e),e},Elt=function(){Tlt.enable=function(){},uce=!0;var e=lce.f,t=hlt([].splice),r={};r[Md]=1,e(r).length&&(lce.f=function(n){for(var i=e(n),o=0,u=i.length;o<u;o++)if(i[o]===Md){t(i,o,1);break}return i},flt({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:ylt.f}))},Tlt=cce.exports={enable:Elt,fastKey:wlt,getWeakData:Slt,onFreeze:Ilt};mlt[Md]=!0});var fx=I((Ymr,pce)=>{"use strict";var Mlt=Q(),Clt=Dt(),Alt=nt(),dce=Xv(),Plt=Ln(),Olt=Af(),Dlt=Ti(),Nlt=xa(),klt=kr(),Llt=Qi(),U8=Er(),V8=ft(),qlt=Jb(),Rlt=Ga(),zlt=vf();pce.exports=function(e,t,r){var n=e.indexOf("Map")!==-1,i=e.indexOf("Weak")!==-1,o=n?"set":"add",u=Clt[e],p=u&&u.prototype,h=u,y={},_=function(L){var F=Alt(p[L]);Plt(p,L,L==="add"?function(ee){return F(this,ee===0?0:ee),this}:L==="delete"?function(G){return i&&!U8(G)?!1:F(this,G===0?0:G)}:L==="get"?function(ee){return i&&!U8(ee)?void 0:F(this,ee===0?0:ee)}:L==="has"?function(ee){return i&&!U8(ee)?!1:F(this,ee===0?0:ee)}:function(ee,ae){return F(this,ee===0?0:ee,ae),this})},E=dce(e,!klt(u)||!(i||p.forEach&&!V8(function(){new u().entries().next()})));if(E)h=r.getConstructor(t,e,n,o),Olt.enable();else if(dce(e,!0)){var T=new h,N=T[o](i?{}:-0,1)!==T,R=V8(function(){T.has(1)}),j=qlt(function(L){new u(L)}),k=!i&&V8(function(){for(var L=new u,F=5;F--;)L[o](F,F);return!L.has(-0)});j||(h=t(function(L,F){Nlt(L,p);var G=zlt(new u,L,h);return Llt(F)||Dlt(F,G[o],{that:G,AS_ENTRIES:n}),G}),h.prototype=p,p.constructor=h),(R||k)&&(_("delete"),_("has"),n&&_("get")),(k||N)&&_(o),i&&p.clear&&delete p.clear}return y[e]=h,Mlt({global:!0,constructor:!0,forced:h!==u},y),Rlt(h,e),i||r.setStrong(h,e,n),h}});var H8=I((Zmr,yce)=>{"use strict";var fce=ji(),jlt=di(),hce=Ll(),Flt=Un(),Blt=xa(),Ult=Qi(),Vlt=Ti(),$lt=nM(),AM=Eo(),Hlt=wf(),hx=cr(),mce=Af().fastKey,vce=An(),gce=vce.set,$8=vce.getterFor;yce.exports={getConstructor:function(e,t,r,n){var i=e(function(y,_){Blt(y,o),gce(y,{type:t,index:fce(null),first:null,last:null,size:0}),hx||(y.size=0),Ult(_)||Vlt(_,y[n],{that:y,AS_ENTRIES:r})}),o=i.prototype,u=$8(t),p=function(y,_,E){var T=u(y),N=h(y,_),R,j;return N?N.value=E:(T.last=N={index:j=mce(_,!0),key:_,value:E,previous:R=T.last,next:null,removed:!1},T.first||(T.first=N),R&&(R.next=N),hx?T.size++:y.size++,j!=="F"&&(T.index[j]=N)),y},h=function(y,_){var E=u(y),T=mce(_),N;if(T!=="F")return E.index[T];for(N=E.first;N;N=N.next)if(N.key===_)return N};return hce(o,{clear:function(){for(var _=this,E=u(_),T=E.first;T;)T.removed=!0,T.previous&&(T.previous=T.previous.next=null),T=T.next;E.first=E.last=null,E.index=fce(null),hx?E.size=0:_.size=0},delete:function(y){var _=this,E=u(_),T=h(_,y);if(T){var N=T.next,R=T.previous;delete E.index[T.index],T.removed=!0,R&&(R.next=N),N&&(N.previous=R),E.first===T&&(E.first=N),E.last===T&&(E.last=R),hx?E.size--:_.size--}return!!T},forEach:function(_){for(var E=u(this),T=Flt(_,arguments.length>1?arguments[1]:void 0),N;N=N?N.next:E.first;)for(T(N.value,N.key,this);N&&N.removed;)N=N.previous},has:function(_){return!!h(this,_)}}),hce(o,r?{get:function(_){var E=h(this,_);return E&&E.value},set:function(_,E){return p(this,_===0?0:_,E)}}:{add:function(_){return p(this,_=_===0?0:_,_)}}),hx&&jlt(o,"size",{configurable:!0,get:function(){return u(this).size}}),i},setStrong:function(e,t,r){var n=t+" Iterator",i=$8(t),o=$8(n);$lt(e,t,function(u,p){gce(this,{type:n,target:u,state:i(u),kind:p,last:null})},function(){for(var u=o(this),p=u.kind,h=u.last;h&&h.removed;)h=h.previous;return!u.target||!(u.last=h=h?h.next:u.state.first)?(u.target=null,AM(void 0,!0)):AM(p==="keys"?h.key:p==="values"?h.value:[h.key,h.value],!1)},r?"entries":"values",!r,!0),Hlt(t)}}});var _ce=I(()=>{"use strict";var Wlt=fx(),Glt=H8();Wlt("Map",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},Glt)});var PM=I(()=>{"use strict";_ce()});var uo=I((egr,bce)=>{"use strict";var OM=nt(),mx=Map.prototype;bce.exports={Map,set:OM(mx.set),get:OM(mx.get),has:OM(mx.has),remove:OM(mx.delete),proto:mx}});var W8=I(()=>{"use strict";var Ylt=Q(),Zlt=nt(),Klt=wr(),Xlt=oi(),Qlt=Ti(),DM=uo(),xce=$r(),Jlt=ft(),wce=DM.Map,eut=DM.has,tut=DM.get,rut=DM.set,nut=Zlt([].push),iut=xce||Jlt(function(){return wce.groupBy("ab",function(e){return e}).get("a").length!==1});Ylt({target:"Map",stat:!0,forced:xce||iut},{groupBy:function(t,r){Xlt(t),Klt(r);var n=new wce,i=0;return Qlt(t,function(o){var u=r(o,i++);eut(n,u)?nut(tut(n,u),o):rut(n,u,[o])}),n}})});var G8=I((ngr,Sce)=>{"use strict";var out=Math.log;Sce.exports=Math.log1p||function(t){var r=+t;return r>-1e-8&&r<1e-8?r-r*r/2:out(1+r)}});var Ece=I(()=>{"use strict";var aut=Q(),sut=G8(),Y8=Math.acosh,lut=Math.log,Ice=Math.sqrt,uut=Math.LN2,cut=!Y8||Math.floor(Y8(Number.MAX_VALUE))!==710||Y8(1/0)!==1/0;aut({target:"Math",stat:!0,forced:cut},{acosh:function(t){var r=+t;return r<1?NaN:r>94906265.62425156?lut(r)+uut:sut(r-1+Ice(r-1)*Ice(r+1))}})});var Cce=I(()=>{"use strict";var dut=Q(),Tce=Math.asinh,put=Math.log,fut=Math.sqrt;function Mce(e){var t=+e;return!isFinite(t)||t===0?t:t<0?-Mce(-t):put(t+fut(t*t+1))}var hut=!(Tce&&1/Tce(0)>0);dut({target:"Math",stat:!0,forced:hut},{asinh:Mce})});var Pce=I(()=>{"use strict";var mut=Q(),Ace=Math.atanh,gut=Math.log,vut=!(Ace&&1/Ace(-0)<0);mut({target:"Math",stat:!0,forced:vut},{atanh:function(t){var r=+t;return r===0?r:gut((1+r)/(1-r))/2}})});var Oce=I(()=>{"use strict";var yut=Q(),_ut=cM(),but=Math.abs,xut=Math.pow;yut({target:"Math",stat:!0},{cbrt:function(t){var r=+t;return _ut(r)*xut(but(r),1/3)}})});var Dce=I(()=>{"use strict";var wut=Q(),Sut=Math.floor,Iut=Math.log,Eut=Math.LOG2E;wut({target:"Math",stat:!0},{clz32:function(t){var r=t>>>0;return r?31-Sut(Iut(r+.5)*Eut):32}})});var vx=I((hgr,Nce)=>{"use strict";var gx=Math.expm1,Tut=Math.exp;Nce.exports=!gx||gx(10)>22025.465794806718||gx(10)<22025.465794806718||gx(-2e-17)!==-2e-17?function(t){var r=+t;return r===0?r:r>-1e-6&&r<1e-6?r+r*r/2:Tut(r)-1}:gx});var Lce=I(()=>{"use strict";var Mut=Q(),Cut=vx(),kce=Math.cosh,Aut=Math.abs,Z8=Math.E,Put=!kce||kce(710)===1/0;Mut({target:"Math",stat:!0,forced:Put},{cosh:function(t){var r=Cut(Aut(t)-1)+1;return(r+1/(r*Z8*Z8))*(Z8/2)}})});var Rce=I(()=>{"use strict";var Out=Q(),qce=vx();Out({target:"Math",stat:!0,forced:qce!==Math.expm1},{expm1:qce})});var zce=I(()=>{"use strict";var Dut=Q(),Nut=dM();Dut({target:"Math",stat:!0},{fround:Nut})});var Fce=I(()=>{"use strict";var kut=Q(),jce=Math.hypot,Lut=Math.abs,qut=Math.sqrt,Rut=!!jce&&jce(1/0,NaN)!==1/0;kut({target:"Math",stat:!0,arity:2,forced:Rut},{hypot:function(t,r){for(var n=0,i=0,o=arguments.length,u=0,p,h;i<o;)p=Lut(arguments[i++]),u<p?(h=u/p,n=n*h*h+1,u=p):p>0?(h=p/u,n+=h*h):n+=p;return u===1/0?1/0:u*qut(n)}})});var Uce=I(()=>{"use strict";var zut=Q(),jut=ft(),Bce=Math.imul,Fut=jut(function(){return Bce(4294967295,5)!==-5||Bce.length!==2});zut({target:"Math",stat:!0,forced:Fut},{imul:function(t,r){var n=65535,i=+t,o=+r,u=n&i,p=n&o;return 0|u*p+((n&i>>>16)*p+u*(n&o>>>16)<<16>>>0)}})});var K8=I((Egr,Vce)=>{"use strict";var But=Math.log,Uut=Math.LOG10E;Vce.exports=Math.log10||function(t){return But(t)*Uut}});var $ce=I(()=>{"use strict";var Vut=Q(),$ut=K8();Vut({target:"Math",stat:!0},{log10:$ut})});var Hce=I(()=>{"use strict";var Hut=Q(),Wut=G8();Hut({target:"Math",stat:!0},{log1p:Wut})});var Wce=I(()=>{"use strict";var Gut=Q(),Yut=Math.log,Zut=Math.LN2;Gut({target:"Math",stat:!0},{log2:function(t){return Yut(t)/Zut}})});var Gce=I(()=>{"use strict";var Kut=Q(),Xut=cM();Kut({target:"Math",stat:!0},{sign:Xut})});var Kce=I(()=>{"use strict";var Qut=Q(),Jut=ft(),Yce=vx(),ect=Math.abs,Zce=Math.exp,tct=Math.E,rct=Jut(function(){return Math.sinh(-2e-17)!==-2e-17});Qut({target:"Math",stat:!0,forced:rct},{sinh:function(t){var r=+t;return ect(r)<1?(Yce(r)-Yce(-r))/2:(Zce(r-1)-Zce(-r-1))*(tct/2)}})});var Jce=I(()=>{"use strict";var nct=Q(),Xce=vx(),Qce=Math.exp;nct({target:"Math",stat:!0},{tanh:function(t){var r=+t,n=Xce(r),i=Xce(-r);return n===1/0?1:i===1/0?-1:(n-i)/(Qce(r)+Qce(-r))}})});var ede=I(()=>{"use strict";var ict=Ga();ict(Math,"Math",!0)});var tde=I(()=>{"use strict";var oct=Q(),act=iq();oct({target:"Math",stat:!0},{trunc:act})});var yx=I((Ugr,rde)=>{"use strict";var sct=nt();rde.exports=sct(1 .valueOf)});var bm=I((Vgr,nde)=>{"use strict";nde.exports=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`});var xm=I(($gr,ode)=>{"use strict";var lct=nt(),uct=oi(),cct=Mr(),Q8=bm(),ide=lct("".replace),dct=RegExp("^["+Q8+"]+"),pct=RegExp("(^|[^"+Q8+"])["+Q8+"]+$"),X8=function(e){return function(t){var r=cct(uct(t));return e&1&&(r=ide(r,dct,"")),e&2&&(r=ide(r,pct,"$1")),r}};ode.exports={start:X8(1),end:X8(2),trim:X8(3)}});var pde=I(()=>{"use strict";var fct=Q(),J8=$r(),hct=cr(),lde=Dt(),e9=qT(),ude=nt(),mct=Xv(),ade=zr(),gct=vf(),vct=Vo(),yct=hd(),cde=Lb(),_ct=ft(),bct=hf().f,xct=So().f,wct=ti().f,Sct=yx(),Ict=xm().trim,_x="Number",py=lde[_x],sde=e9[_x],t9=py.prototype,Ect=lde.TypeError,Tct=ude("".slice),NM=ude("".charCodeAt),Mct=function(e){var t=cde(e,"number");return typeof t=="bigint"?t:Cct(t)},Cct=function(e){var t=cde(e,"number"),r,n,i,o,u,p,h,y;if(yct(t))throw new Ect("Cannot convert a Symbol value to a number");if(typeof t=="string"&&t.length>2){if(t=Ict(t),r=NM(t,0),r===43||r===45){if(n=NM(t,2),n===88||n===120)return NaN}else if(r===48){switch(NM(t,1)){case 66:case 98:i=2,o=49;break;case 79:case 111:i=8,o=55;break;default:return+t;}for(u=Tct(t,2),p=u.length,h=0;h<p;h++)if(y=NM(u,h),y<48||y>o)return NaN;return parseInt(u,i)}}return+t},r9=mct(_x,!py(" 0o1")||!py("0b1")||py("+0x1")),Act=function(e){return vct(t9,e)&&_ct(function(){Sct(e)})},kM=function(t){var r=arguments.length<1?0:py(Mct(t));return Act(this)?gct(Object(r),this,kM):r};kM.prototype=t9;r9&&!J8&&(t9.constructor=kM);fct({global:!0,constructor:!0,wrap:!0,forced:r9},{Number:kM});var dde=function(e,t){for(var r=hct?bct(t):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),n=0,i;r.length>n;n++)ade(t,i=r[n])&&!ade(e,i)&&wct(e,i,xct(t,i))};J8&&sde&&dde(e9[_x],sde);(r9||J8)&&dde(e9[_x],py)});var fde=I(()=>{"use strict";var Pct=Q();Pct({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{EPSILON:Math.pow(2,-52)})});var n9=I((Zgr,hde)=>{"use strict";var Oct=Dt(),Dct=Oct.isFinite;hde.exports=Number.isFinite||function(t){return typeof t=="number"&&Dct(t)}});var mde=I(()=>{"use strict";var Nct=Q(),kct=n9();Nct({target:"Number",stat:!0},{isFinite:kct})});var LM=I((Qgr,gde)=>{"use strict";var Lct=Er(),qct=Math.floor;gde.exports=Number.isInteger||function(t){return!Lct(t)&&isFinite(t)&&qct(t)===t}});var vde=I(()=>{"use strict";var Rct=Q(),zct=LM();Rct({target:"Number",stat:!0},{isInteger:zct})});var yde=I(()=>{"use strict";var jct=Q();jct({target:"Number",stat:!0},{isNaN:function(t){return t!==t}})});var _de=I(()=>{"use strict";var Fct=Q(),Bct=LM(),Uct=Math.abs;Fct({target:"Number",stat:!0},{isSafeInteger:function(t){return Bct(t)&&Uct(t)<=9007199254740991}})});var bde=I(()=>{"use strict";var Vct=Q();Vct({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MAX_SAFE_INTEGER:9007199254740991})});var xde=I(()=>{"use strict";var $ct=Q();$ct({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MIN_SAFE_INTEGER:-9007199254740991})});var i9=I((uvr,Ede)=>{"use strict";var Ide=Dt(),Hct=ft(),Wct=nt(),Gct=Mr(),Yct=xm().trim,Zct=bm(),Kct=Wct("".charAt),qM=Ide.parseFloat,wde=Ide.Symbol,Sde=wde&&wde.iterator,Xct=1/qM(Zct+"-0")!==-1/0||Sde&&!Hct(function(){qM(Object(Sde))});Ede.exports=Xct?function(t){var r=Yct(Gct(t)),n=qM(r);return n===0&&Kct(r,0)==="-"?-0:n}:qM});var Mde=I(()=>{"use strict";var Qct=Q(),Tde=i9();Qct({target:"Number",stat:!0,forced:Number.parseFloat!==Tde},{parseFloat:Tde})});var o9=I((pvr,Nde)=>{"use strict";var Ode=Dt(),Jct=ft(),edt=nt(),tdt=Mr(),rdt=xm().trim,Cde=bm(),bx=Ode.parseInt,Ade=Ode.Symbol,Pde=Ade&&Ade.iterator,Dde=/^[+-]?0x/i,ndt=edt(Dde.exec),idt=bx(Cde+"08")!==8||bx(Cde+"0x16")!==22||Pde&&!Jct(function(){bx(Object(Pde))});Nde.exports=idt?function(t,r){var n=rdt(tdt(t));return bx(n,r>>>0||(ndt(Dde,n)?16:10))}:bx});var Lde=I(()=>{"use strict";var odt=Q(),kde=o9();odt({target:"Number",stat:!0,forced:Number.parseInt!==kde},{parseInt:kde})});var Fde=I(()=>{"use strict";var adt=Q(),s9=nt(),sdt=ci(),ldt=yx(),udt=ux(),cdt=K8(),a9=ft(),ddt=RangeError,qde=String,pdt=isFinite,fdt=Math.abs,hdt=Math.floor,Rde=Math.pow,mdt=Math.round,uc=s9(1 .toExponential),gdt=s9(udt),zde=s9("".slice),jde=uc(-69e-12,4)==="-6.9000e-11"&&uc(1.255,2)==="1.25e+0"&&uc(12345,3)==="1.235e+4"&&uc(25,0)==="3e+1",vdt=function(){return a9(function(){uc(1,1/0)})&&a9(function(){uc(1,-1/0)})},ydt=function(){return!a9(function(){uc(1/0,1/0),uc(NaN,1/0)})},_dt=!jde||!vdt()||!ydt();adt({target:"Number",proto:!0,forced:_dt},{toExponential:function(t){var r=ldt(this);if(t===void 0)return uc(r);var n=sdt(t);if(!pdt(r))return String(r);if(n<0||n>20)throw new ddt("Incorrect fraction digits");if(jde)return uc(r,n);var i="",o,u,p,h;if(r<0&&(i="-",r=-r),r===0)u=0,o=gdt("0",n+1);else{var y=cdt(r);u=hdt(y);var _=Rde(10,u-n),E=mdt(r/_);2*r>=(2*E+1)*_&&(E+=1),E>=Rde(10,n+1)&&(E/=10,u+=1),o=qde(E)}return n!==0&&(o=zde(o,0,1)+"."+zde(o,1)),u===0?(p="+",h="0"):(p=u>0?"+":"-",h=qde(fdt(u))),o+="e"+p+h,i+o}})});var Wde=I(()=>{"use strict";var bdt=Q(),c9=nt(),xdt=ci(),wdt=yx(),Sdt=ux(),Bde=ft(),Idt=RangeError,$de=String,Hde=Math.floor,u9=c9(Sdt),Ude=c9("".slice),xx=c9(1 .toFixed),hy=function(e,t,r){return t===0?r:t%2===1?hy(e,t-1,r*e):hy(e*e,t/2,r)},Edt=function(e){for(var t=0,r=e;r>=4096;)t+=12,r/=4096;for(;r>=2;)t+=1,r/=2;return t},fy=function(e,t,r){for(var n=-1,i=r;++n<6;)i+=t*e[n],e[n]=i%1e7,i=Hde(i/1e7)},l9=function(e,t){for(var r=6,n=0;--r>=0;)n+=e[r],e[r]=Hde(n/t),n=n%t*1e7},Vde=function(e){for(var t=6,r="";--t>=0;)if(r!==""||t===0||e[t]!==0){var n=$de(e[t]);r=r===""?n:r+u9("0",7-n.length)+n}return r},Tdt=Bde(function(){return xx(8e-5,3)!=="0.000"||xx(.9,0)!=="1"||xx(1.255,2)!=="1.25"||xx(0xde0b6b3a7640080,0)!=="1000000000000000128"})||!Bde(function(){xx({})});bdt({target:"Number",proto:!0,forced:Tdt},{toFixed:function(t){var r=wdt(this),n=xdt(t),i=[0,0,0,0,0,0],o="",u="0",p,h,y,_;if(n<0||n>20)throw new Idt("Incorrect fraction digits");if(r!==r)return"NaN";if(r<=-1e21||r>=1e21)return $de(r);if(r<0&&(o="-",r=-r),r>1e-21)if(p=Edt(r*hy(2,69,1))-69,h=p<0?r*hy(2,-p,1):r/hy(2,p,1),h*=4503599627370496,p=52-p,p>0){for(fy(i,0,h),y=n;y>=7;)fy(i,1e7,0),y-=7;for(fy(i,hy(10,y,1),0),y=p-1;y>=23;)l9(i,1<<23),y-=23;l9(i,1<<y),fy(i,1,1),l9(i,2),u=Vde(i)}else fy(i,0,h),fy(i,1<<-p,0),u=Vde(i)+u9("0",n);return n>0?(_=u.length,u=o+(_<=n?"0."+u9("0",n-_)+u:Ude(u,0,_-n)+"."+Ude(u,_-n))):u=o+u,u}})});var Zde=I(()=>{"use strict";var Mdt=Q(),Cdt=nt(),Gde=ft(),Yde=yx(),RM=Cdt(1 .toPrecision),Adt=Gde(function(){return RM(1,void 0)!=="1"})||!Gde(function(){RM({})});Mdt({target:"Number",proto:!0,forced:Adt},{toPrecision:function(t){return t===void 0?RM(Yde(this)):RM(Yde(this),t)}})});var p9=I((xvr,Qde)=>{"use strict";var Kde=cr(),Pdt=nt(),Odt=jt(),Ddt=ft(),d9=um(),Ndt=Bb(),kdt=Nb(),Ldt=Hr(),qdt=fd(),my=Object.assign,Xde=Object.defineProperty,Rdt=Pdt([].concat);Qde.exports=!my||Ddt(function(){if(Kde&&my({b:1},my(Xde({},"a",{enumerable:!0,get:function(){Xde(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var e={},t={},r=Symbol("assign detection"),n="abcdefghijklmnopqrst";return e[r]=7,n.split("").forEach(function(i){t[i]=i}),my({},e)[r]!==7||d9(my({},t)).join("")!==n})?function(t,r){for(var n=Ldt(t),i=arguments.length,o=1,u=Ndt.f,p=kdt.f;i>o;)for(var h=qdt(arguments[o++]),y=u?Rdt(d9(h),u(h)):d9(h),_=y.length,E=0,T;_>E;)T=y[E++],(!Kde||Odt(p,h,T))&&(n[T]=h[T]);return n}:my});var epe=I(()=>{"use strict";var zdt=Q(),Jde=p9();zdt({target:"Object",stat:!0,arity:2,forced:Object.assign!==Jde},{assign:Jde})});var tpe=I(()=>{"use strict";var jdt=Q(),Fdt=cr(),Bdt=ji();jdt({target:"Object",stat:!0,sham:!Fdt},{create:Bdt})});var wx=I((Tvr,npe)=>{"use strict";var Udt=$r(),Vdt=Dt(),$dt=ft(),rpe=lM();npe.exports=Udt||!$dt(function(){if(!(rpe&&rpe<535)){var e=Math.random();__defineSetter__.call(null,e,function(){}),delete Vdt[e]}})});var ipe=I(()=>{"use strict";var Hdt=Q(),Wdt=cr(),Gdt=wx(),Ydt=wr(),Zdt=Hr(),Kdt=ti();Wdt&&Hdt({target:"Object",proto:!0,forced:Gdt},{__defineGetter__:function(t,r){Kdt.f(Zdt(this),t,{get:Ydt(r),enumerable:!0,configurable:!0})}})});var ape=I(()=>{"use strict";var Xdt=Q(),Qdt=cr(),ope=DT().f;Xdt({target:"Object",stat:!0,forced:Object.defineProperties!==ope,sham:!Qdt},{defineProperties:ope})});var lpe=I(()=>{"use strict";var Jdt=Q(),ept=cr(),spe=ti().f;Jdt({target:"Object",stat:!0,forced:Object.defineProperty!==spe,sham:!ept},{defineProperty:spe})});var upe=I(()=>{"use strict";var tpt=Q(),rpt=cr(),npt=wx(),ipt=wr(),opt=Hr(),apt=ti();rpt&&tpt({target:"Object",proto:!0,forced:npt},{__defineSetter__:function(t,r){apt.f(opt(this),t,{set:ipt(r),enumerable:!0,configurable:!0})}})});var f9=I((Lvr,hpe)=>{"use strict";var dpe=cr(),spt=ft(),ppe=nt(),lpt=to(),upt=um(),cpt=Ji(),dpt=Nb().f,fpe=ppe(dpt),ppt=ppe([].push),fpt=dpe&&spt(function(){var e=Object.create(null);return e[2]=2,!fpe(e,2)}),cpe=function(e){return function(t){for(var r=cpt(t),n=upt(r),i=fpt&&lpt(r)===null,o=n.length,u=0,p=[],h;o>u;)h=n[u++],(!dpe||(i?h in r:fpe(r,h)))&&ppt(p,e?[h,r[h]]:r[h]);return p}};hpe.exports={entries:cpe(!0),values:cpe(!1)}});var mpe=I(()=>{"use strict";var hpt=Q(),mpt=f9().entries;hpt({target:"Object",stat:!0},{entries:function(t){return mpt(t)}})});var gpe=I(()=>{"use strict";var gpt=Q(),vpt=Td(),ypt=ft(),_pt=Er(),bpt=Af().onFreeze,h9=Object.freeze,xpt=ypt(function(){h9(1)});gpt({target:"Object",stat:!0,forced:xpt,sham:!vpt},{freeze:function(t){return h9&&_pt(t)?h9(bpt(t)):t}})});var vpe=I(()=>{"use strict";var wpt=Q(),Spt=Ti(),Ipt=Nl();wpt({target:"Object",stat:!0},{fromEntries:function(t){var r={};return Spt(t,function(n,i){Ipt(r,n,i)},{AS_ENTRIES:!0}),r}})});var bpe=I(()=>{"use strict";var Ept=Q(),Tpt=ft(),Mpt=Ji(),ype=So().f,_pe=cr(),Cpt=!_pe||Tpt(function(){ype(1)});Ept({target:"Object",stat:!0,forced:Cpt,sham:!_pe},{getOwnPropertyDescriptor:function(t,r){return ype(Mpt(t),r)}})});var xpe=I(()=>{"use strict";var Apt=Q(),Ppt=cr(),Opt=CT(),Dpt=Ji(),Npt=So(),kpt=Nl();Apt({target:"Object",stat:!0,sham:!Ppt},{getOwnPropertyDescriptors:function(t){for(var r=Dpt(t),n=Npt.f,i=Opt(r),o={},u=0,p,h;i.length>u;)h=n(r,p=i[u++]),h!==void 0&&kpt(o,p,h);return o}})});var wpe=I(()=>{"use strict";var Lpt=Q(),qpt=ft(),Rpt=LT().f,zpt=qpt(function(){return!Object.getOwnPropertyNames(1)});Lpt({target:"Object",stat:!0,forced:zpt},{getOwnPropertyNames:Rpt})});var Ipe=I(()=>{"use strict";var jpt=Q(),Fpt=ft(),Bpt=Hr(),Spe=to(),Upt=YT(),Vpt=Fpt(function(){Spe(1)});jpt({target:"Object",stat:!0,forced:Vpt,sham:!Upt},{getPrototypeOf:function(t){return Spe(Bpt(t))}})});var m9=I(()=>{"use strict";var $pt=Q(),Hpt=Ir(),Wpt=nt(),Gpt=wr(),Ypt=oi(),Zpt=nc(),Kpt=Ti(),Xpt=ft(),Epe=Object.groupBy,Qpt=Hpt("Object","create"),Jpt=Wpt([].push),eft=!Epe||Xpt(function(){return Epe("ab",function(e){return e}).a.length!==1});$pt({target:"Object",stat:!0,forced:eft},{groupBy:function(t,r){Ypt(t),Gpt(r);var n=Qpt(null),i=0;return Kpt(t,function(o){var u=Zpt(r(o,i++));u in n?Jpt(n[u],o):n[u]=[o]}),n}})});var g9=I(()=>{"use strict";var tft=Q(),rft=zr();tft({target:"Object",stat:!0},{hasOwn:rft})});var v9=I((eyr,Tpe)=>{"use strict";Tpe.exports=Object.is||function(t,r){return t===r?t!==0||1/t===1/r:t!==t&&r!==r}});var Mpe=I(()=>{"use strict";var nft=Q(),ift=v9();nft({target:"Object",stat:!0},{is:ift})});var Ape=I(()=>{"use strict";var oft=Q(),Cpe=CM();oft({target:"Object",stat:!0,forced:Object.isExtensible!==Cpe},{isExtensible:Cpe})});var Ope=I(()=>{"use strict";var aft=Q(),sft=ft(),lft=Er(),uft=Uo(),Ppe=TM(),y9=Object.isFrozen,cft=Ppe||sft(function(){y9(1)});aft({target:"Object",stat:!0,forced:cft},{isFrozen:function(t){return!lft(t)||Ppe&&uft(t)==="ArrayBuffer"?!0:y9?y9(t):!1}})});var Npe=I(()=>{"use strict";var dft=Q(),pft=ft(),fft=Er(),hft=Uo(),Dpe=TM(),_9=Object.isSealed,mft=Dpe||pft(function(){_9(1)});dft({target:"Object",stat:!0,forced:mft},{isSealed:function(t){return!fft(t)||Dpe&&hft(t)==="ArrayBuffer"?!0:_9?_9(t):!1}})});var Lpe=I(()=>{"use strict";var gft=Q(),vft=Hr(),kpe=um(),yft=ft(),_ft=yft(function(){kpe(1)});gft({target:"Object",stat:!0,forced:_ft},{keys:function(t){return kpe(vft(t))}})});var qpe=I(()=>{"use strict";var bft=Q(),xft=cr(),wft=wx(),Sft=Hr(),Ift=nc(),Eft=to(),Tft=So().f;xft&&bft({target:"Object",proto:!0,forced:wft},{__lookupGetter__:function(t){var r=Sft(this),n=Ift(t),i;do if(i=Tft(r,n))return i.get;while(r=Eft(r))}})});var Rpe=I(()=>{"use strict";var Mft=Q(),Cft=cr(),Aft=wx(),Pft=Hr(),Oft=nc(),Dft=to(),Nft=So().f;Cft&&Mft({target:"Object",proto:!0,forced:Aft},{__lookupSetter__:function(t){var r=Pft(this),n=Oft(t),i;do if(i=Nft(r,n))return i.set;while(r=Dft(r))}})});var zpe=I(()=>{"use strict";var kft=Q(),Lft=Er(),qft=Af().onFreeze,Rft=Td(),zft=ft(),b9=Object.preventExtensions,jft=zft(function(){b9(1)});kft({target:"Object",stat:!0,forced:jft,sham:!Rft},{preventExtensions:function(t){return b9&&Lft(t)?b9(qft(t)):t}})});var Vpe=I(()=>{"use strict";var Fft=cr(),Bft=di(),Uft=Er(),Vft=Oq(),$ft=Hr(),Hft=oi(),jpe=Object.getPrototypeOf,Fpe=Object.setPrototypeOf,Bpe=Object.prototype,Upe="__proto__";if(Fft&&jpe&&Fpe&&!(Upe in Bpe))try{Bft(Bpe,Upe,{configurable:!0,get:function(){return jpe($ft(this))},set:function(t){var r=Hft(this);Vft(t)&&Uft(r)&&Fpe(r,t)}})}catch(e){}});var $pe=I(()=>{"use strict";var Wft=Q(),Gft=Er(),Yft=Af().onFreeze,Zft=Td(),Kft=ft(),x9=Object.seal,Xft=Kft(function(){x9(1)});Wft({target:"Object",stat:!0,forced:Xft,sham:!Zft},{seal:function(t){return x9&&Gft(t)?x9(Yft(t)):t}})});var Hpe=I(()=>{"use strict";var Qft=Q(),Jft=Dl();Qft({target:"Object",stat:!0},{setPrototypeOf:Jft})});var Gpe=I((Syr,Wpe)=>{"use strict";var eht=PT(),tht=bs();Wpe.exports=eht?{}.toString:function(){return"[object "+tht(this)+"]"}});var Ype=I(()=>{"use strict";var rht=PT(),nht=Ln(),iht=Gpe();rht||nht(Object.prototype,"toString",iht,{unsafe:!0})});var Zpe=I(()=>{"use strict";var oht=Q(),aht=f9().values;oht({target:"Object",stat:!0},{values:function(t){return aht(t)}})});var Xpe=I(()=>{"use strict";var sht=Q(),Kpe=i9();sht({global:!0,forced:parseFloat!==Kpe},{parseFloat:Kpe})});var Jpe=I(()=>{"use strict";var lht=Q(),Qpe=o9();lht({global:!0,forced:parseInt!==Qpe},{parseInt:Qpe})});var Sx=I((Dyr,efe)=>{"use strict";var uht=_u(),cht=pf(),dht=TypeError;efe.exports=function(e){if(uht(e))return e;throw new dht(cht(e)+" is not a constructor")}});var Ix=I((Nyr,rfe)=>{"use strict";var tfe=Rt(),pht=Sx(),fht=Qi(),hht=gr(),mht=hht("species");rfe.exports=function(e,t){var r=tfe(e).constructor,n;return r===void 0||fht(n=tfe(r)[mht])?t:pht(n)}});var nl=I((kyr,nfe)=>{"use strict";var ght=TypeError;nfe.exports=function(e,t){if(e<t)throw new ght("Not enough arguments");return e}});var w9=I((Lyr,ife)=>{"use strict";var vht=hu();ife.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(vht)});var Mx=I((qyr,ffe)=>{"use strict";var il=Dt(),yht=ba(),_ht=Un(),ofe=kr(),bht=zr(),pfe=ft(),afe=sq(),xht=xs(),sfe=qb(),wht=nl(),Sht=w9(),Iht=vm(),C9=il.setImmediate,A9=il.clearImmediate,Eht=il.process,S9=il.Dispatch,Tht=il.Function,lfe=il.MessageChannel,Mht=il.String,I9=0,Ex={},ufe="onreadystatechange",Tx,wm,E9,T9;pfe(function(){Tx=il.location});var P9=function(e){if(bht(Ex,e)){var t=Ex[e];delete Ex[e],t()}},M9=function(e){return function(){P9(e)}},cfe=function(e){P9(e.data)},dfe=function(e){il.postMessage(Mht(e),Tx.protocol+"//"+Tx.host)};(!C9||!A9)&&(C9=function(t){wht(arguments.length,1);var r=ofe(t)?t:Tht(t),n=xht(arguments,1);return Ex[++I9]=function(){yht(r,void 0,n)},wm(I9),I9},A9=function(t){delete Ex[t]},Iht?wm=function(e){Eht.nextTick(M9(e))}:S9&&S9.now?wm=function(e){S9.now(M9(e))}:lfe&&!Sht?(E9=new lfe,T9=E9.port2,E9.port1.onmessage=cfe,wm=_ht(T9.postMessage,T9)):il.addEventListener&&ofe(il.postMessage)&&!il.importScripts&&Tx&&Tx.protocol!=="file:"&&!pfe(dfe)?(wm=dfe,il.addEventListener("message",cfe,!1)):ufe in sfe("script")?wm=function(e){afe.appendChild(sfe("script"))[ufe]=function(){afe.removeChild(this),P9(e)}}:wm=function(e){setTimeout(M9(e),0)});ffe.exports={set:C9,clear:A9}});var O9=I((Ryr,mfe)=>{"use strict";var hfe=Dt(),Cht=cr(),Aht=Object.getOwnPropertyDescriptor;mfe.exports=function(e){if(!Cht)return hfe[e];var t=Aht(hfe,e);return t&&t.value}});var D9=I((zyr,vfe)=>{"use strict";var gfe=function(){this.head=null,this.tail=null};gfe.prototype={add:function(e){var t={item:e,next:null},r=this.tail;r?r.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e){var t=this.head=e.next;return t===null&&(this.tail=null),e.item}}};vfe.exports=gfe});var _fe=I((jyr,yfe)=>{"use strict";var Pht=hu();yfe.exports=/ipad|iphone|ipod/i.test(Pht)&&typeof Pebble!="undefined"});var xfe=I((Fyr,bfe)=>{"use strict";var Oht=hu();bfe.exports=/web0s(?!.*chrome)/i.test(Oht)});var z9=I((Byr,Mfe)=>{"use strict";var vy=Dt(),Dht=O9(),wfe=Un(),N9=Mx().set,Nht=D9(),kht=w9(),Lht=_fe(),qht=xfe(),k9=vm(),Sfe=vy.MutationObserver||vy.WebKitMutationObserver,Ife=vy.document,Efe=vy.process,zM=vy.Promise,R9=Dht("queueMicrotask"),gy,L9,q9,jM,Tfe;R9||(Cx=new Nht,Ax=function(){var e,t;for(k9&&(e=Efe.domain)&&e.exit();t=Cx.get();)try{t()}catch(r){throw Cx.head&&gy(),r}e&&e.enter()},!kht&&!k9&&!qht&&Sfe&&Ife?(L9=!0,q9=Ife.createTextNode(""),new Sfe(Ax).observe(q9,{characterData:!0}),gy=function(){q9.data=L9=!L9}):!Lht&&zM&&zM.resolve?(jM=zM.resolve(void 0),jM.constructor=zM,Tfe=wfe(jM.then,jM),gy=function(){Tfe(Ax)}):k9?gy=function(){Efe.nextTick(Ax)}:(N9=wfe(N9,vy),gy=function(){N9(Ax)}),R9=function(e){Cx.head||gy(),Cx.add(e)});var Cx,Ax;Mfe.exports=R9});var j9=I((Uyr,Cfe)=>{"use strict";Cfe.exports=function(e,t){try{arguments.length===1?console.error(e):console.error(e,t)}catch(r){}}});var Pf=I((Vyr,Afe)=>{"use strict";Afe.exports=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}}});var Sm=I(($yr,Pfe)=>{"use strict";var Rht=Dt();Pfe.exports=Rht.Promise});var yy=I((Hyr,kfe)=>{"use strict";var zht=Dt(),Px=Sm(),jht=kr(),Fht=Xv(),Bht=Rb(),Uht=gr(),Ofe=ox(),Vht=$r(),F9=rc(),Dfe=Px&&Px.prototype,$ht=Uht("species"),B9=!1,Nfe=jht(zht.PromiseRejectionEvent),Hht=Fht("Promise",function(){var e=Bht(Px),t=e!==String(Px);if(!t&&F9===66||Vht&&!(Dfe.catch&&Dfe.finally))return!0;if(!F9||F9<51||!/native code/.test(e)){var r=new Px(function(o){o(1)}),n=function(o){o(function(){},function(){})},i=r.constructor={};if(i[$ht]=n,B9=r.then(function(){})instanceof n,!B9)return!0}return!t&&(Ofe==="BROWSER"||Ofe==="DENO")&&!Nfe});kfe.exports={CONSTRUCTOR:Hht,REJECTION_EVENT:Nfe,SUBCLASSING:B9}});var cc=I((Wyr,qfe)=>{"use strict";var Lfe=wr(),Wht=TypeError,Ght=function(e){var t,r;this.promise=new e(function(n,i){if(t!==void 0||r!==void 0)throw new Wht("Bad Promise constructor");t=n,r=i}),this.resolve=Lfe(t),this.reject=Lfe(r)};qfe.exports.f=function(e){return new Ght(e)}});var the=I(()=>{"use strict";var Yht=Q(),Zht=$r(),VM=vm(),Of=Dt(),wy=jt(),Rfe=Ln(),zfe=Dl(),Kht=Ga(),Xht=wf(),Qht=wr(),UM=kr(),Jht=Er(),emt=xa(),tmt=Ix(),Vfe=Mx().set,W9=z9(),rmt=j9(),nmt=Pf(),imt=D9(),$fe=An(),$M=Sm(),G9=yy(),Hfe=cc(),HM="Promise",Wfe=G9.CONSTRUCTOR,omt=G9.REJECTION_EVENT,amt=G9.SUBCLASSING,U9=$fe.getterFor(HM),smt=$fe.set,_y=$M&&$M.prototype,Im=$M,FM=_y,Gfe=Of.TypeError,V9=Of.document,Y9=Of.process,$9=Hfe.f,lmt=$9,umt=!!(V9&&V9.createEvent&&Of.dispatchEvent),Yfe="unhandledrejection",cmt="rejectionhandled",jfe=0,Zfe=1,dmt=2,Z9=1,Kfe=2,BM,Ffe,pmt,Bfe,Xfe=function(e){var t;return Jht(e)&&UM(t=e.then)?t:!1},Qfe=function(e,t){var r=t.value,n=t.state===Zfe,i=n?e.ok:e.fail,o=e.resolve,u=e.reject,p=e.domain,h,y,_;try{i?(n||(t.rejection===Kfe&&hmt(t),t.rejection=Z9),i===!0?h=r:(p&&p.enter(),h=i(r),p&&(p.exit(),_=!0)),h===e.promise?u(new Gfe("Promise-chain cycle")):(y=Xfe(h))?wy(y,h,o,u):o(h)):u(r)}catch(E){p&&!_&&p.exit(),u(E)}},Jfe=function(e,t){e.notified||(e.notified=!0,W9(function(){for(var r=e.reactions,n;n=r.get();)Qfe(n,e);e.notified=!1,t&&!e.rejection&&fmt(e)}))},ehe=function(e,t,r){var n,i;umt?(n=V9.createEvent("Event"),n.promise=t,n.reason=r,n.initEvent(e,!1,!0),Of.dispatchEvent(n)):n={promise:t,reason:r},!omt&&(i=Of["on"+e])?i(n):e===Yfe&&rmt("Unhandled promise rejection",r)},fmt=function(e){wy(Vfe,Of,function(){var t=e.facade,r=e.value,n=Ufe(e),i;if(n&&(i=nmt(function(){VM?Y9.emit("unhandledRejection",r,t):ehe(Yfe,t,r)}),e.rejection=VM||Ufe(e)?Kfe:Z9,i.error))throw i.value})},Ufe=function(e){return e.rejection!==Z9&&!e.parent},hmt=function(e){wy(Vfe,Of,function(){var t=e.facade;VM?Y9.emit("rejectionHandled",t):ehe(cmt,t,e.value)})},by=function(e,t,r){return function(n){e(t,n,r)}},xy=function(e,t,r){e.done||(e.done=!0,r&&(e=r),e.value=t,e.state=dmt,Jfe(e,!0))},H9=function(e,t,r){if(!e.done){e.done=!0,r&&(e=r);try{if(e.facade===t)throw new Gfe("Promise can't be resolved itself");var n=Xfe(t);n?W9(function(){var i={done:!1};try{wy(n,t,by(H9,i,e),by(xy,i,e))}catch(o){xy(i,o,e)}}):(e.value=t,e.state=Zfe,Jfe(e,!1))}catch(i){xy({done:!1},i,e)}}};if(Wfe&&(Im=function(t){emt(this,FM),Qht(t),wy(BM,this);var r=U9(this);try{t(by(H9,r),by(xy,r))}catch(n){xy(r,n)}},FM=Im.prototype,BM=function(t){smt(this,{type:HM,done:!1,notified:!1,parent:!1,reactions:new imt,rejection:!1,state:jfe,value:null})},BM.prototype=Rfe(FM,"then",function(t,r){var n=U9(this),i=$9(tmt(this,Im));return n.parent=!0,i.ok=UM(t)?t:!0,i.fail=UM(r)&&r,i.domain=VM?Y9.domain:void 0,n.state===jfe?n.reactions.add(i):W9(function(){Qfe(i,n)}),i.promise}),Ffe=function(){var e=new BM,t=U9(e);this.promise=e,this.resolve=by(H9,t),this.reject=by(xy,t)},Hfe.f=$9=function(e){return e===Im||e===pmt?new Ffe(e):lmt(e)},!Zht&&UM($M)&&_y!==Object.prototype)){Bfe=_y.then,amt||Rfe(_y,"then",function(t,r){var n=this;return new Im(function(i,o){wy(Bfe,n,i,o)}).then(t,r)},{unsafe:!0});try{delete _y.constructor}catch(e){}zfe&&zfe(_y,FM)}Yht({global:!0,constructor:!0,wrap:!0,forced:Wfe},{Promise:Im});Kht(Im,HM,!1,!0);Xht(HM)});var Ox=I((Zyr,rhe)=>{"use strict";var mmt=Sm(),gmt=Jb(),vmt=yy().CONSTRUCTOR;rhe.exports=vmt||!gmt(function(e){mmt.all(e).then(void 0,function(){})})});var nhe=I(()=>{"use strict";var ymt=Q(),_mt=jt(),bmt=wr(),xmt=cc(),wmt=Pf(),Smt=Ti(),Imt=Ox();ymt({target:"Promise",stat:!0,forced:Imt},{all:function(t){var r=this,n=xmt.f(r),i=n.resolve,o=n.reject,u=wmt(function(){var p=bmt(r.resolve),h=[],y=0,_=1;Smt(t,function(E){var T=y++,N=!1;_++,_mt(p,r,E).then(function(R){N||(N=!0,h[T]=R,--_||i(h))},o)}),--_||i(h)});return u.error&&o(u.value),n.promise}})});var ohe=I(()=>{"use strict";var Emt=Q(),Tmt=$r(),Mmt=yy().CONSTRUCTOR,X9=Sm(),Cmt=Ir(),Amt=kr(),Pmt=Ln(),ihe=X9&&X9.prototype;Emt({target:"Promise",proto:!0,forced:Mmt,real:!0},{catch:function(e){return this.then(void 0,e)}});!Tmt&&Amt(X9)&&(K9=Cmt("Promise").prototype.catch,ihe.catch!==K9&&Pmt(ihe,"catch",K9,{unsafe:!0}));var K9});var ahe=I(()=>{"use strict";var Omt=Q(),Dmt=jt(),Nmt=wr(),kmt=cc(),Lmt=Pf(),qmt=Ti(),Rmt=Ox();Omt({target:"Promise",stat:!0,forced:Rmt},{race:function(t){var r=this,n=kmt.f(r),i=n.reject,o=Lmt(function(){var u=Nmt(r.resolve);qmt(t,function(p){Dmt(u,r,p).then(n.resolve,i)})});return o.error&&i(o.value),n.promise}})});var she=I(()=>{"use strict";var zmt=Q(),jmt=cc(),Fmt=yy().CONSTRUCTOR;zmt({target:"Promise",stat:!0,forced:Fmt},{reject:function(t){var r=jmt.f(this),n=r.reject;return n(t),r.promise}})});var Q9=I((i0r,lhe)=>{"use strict";var Bmt=Rt(),Umt=Er(),Vmt=cc();lhe.exports=function(e,t){if(Bmt(e),Umt(t)&&t.constructor===e)return t;var r=Vmt.f(e),n=r.resolve;return n(t),r.promise}});var dhe=I(()=>{"use strict";var $mt=Q(),Hmt=Ir(),uhe=$r(),Wmt=Sm(),che=yy().CONSTRUCTOR,Gmt=Q9(),Ymt=Hmt("Promise"),Zmt=uhe&&!che;$mt({target:"Promise",stat:!0,forced:uhe||che},{resolve:function(t){return Gmt(Zmt&&this===Ymt?Wmt:this,t)}})});var phe=I(()=>{"use strict";the();nhe();ohe();ahe();she();dhe()});var J9=I(()=>{"use strict";var Kmt=Q(),Xmt=jt(),Qmt=wr(),Jmt=cc(),egt=Pf(),tgt=Ti(),rgt=Ox();Kmt({target:"Promise",stat:!0,forced:rgt},{allSettled:function(t){var r=this,n=Jmt.f(r),i=n.resolve,o=n.reject,u=egt(function(){var p=Qmt(r.resolve),h=[],y=0,_=1;tgt(t,function(E){var T=y++,N=!1;_++,Xmt(p,r,E).then(function(R){N||(N=!0,h[T]={status:"fulfilled",value:R},--_||i(h))},function(R){N||(N=!0,h[T]={status:"rejected",reason:R},--_||i(h))})}),--_||i(h)});return u.error&&o(u.value),n.promise}})});var e7=I(()=>{"use strict";var ngt=Q(),igt=jt(),ogt=wr(),agt=Ir(),sgt=cc(),lgt=Pf(),ugt=Ti(),cgt=Ox(),fhe="No one promise resolved";ngt({target:"Promise",stat:!0,forced:cgt},{any:function(t){var r=this,n=agt("AggregateError"),i=sgt.f(r),o=i.resolve,u=i.reject,p=lgt(function(){var h=ogt(r.resolve),y=[],_=0,E=1,T=!1;ugt(t,function(N){var R=_++,j=!1;E++,igt(h,r,N).then(function(k){j||T||(T=!0,o(k))},function(k){j||T||(j=!0,y[R]=k,--E||u(new n(y,fhe)))})}),--E||u(new n(y,fhe))});return p.error&&u(p.value),i.promise}})});var vhe=I(()=>{"use strict";var dgt=Q(),pgt=$r(),WM=Sm(),fgt=ft(),mhe=Ir(),ghe=kr(),hgt=Ix(),hhe=Q9(),mgt=Ln(),r7=WM&&WM.prototype,ggt=!!WM&&fgt(function(){r7.finally.call({then:function(){}},function(){})});dgt({target:"Promise",proto:!0,real:!0,forced:ggt},{finally:function(e){var t=hgt(this,mhe("Promise")),r=ghe(e);return this.then(r?function(n){return hhe(t,e()).then(function(){return n})}:e,r?function(n){return hhe(t,e()).then(function(){throw n})}:e)}});!pgt&&ghe(WM)&&(t7=mhe("Promise").prototype.finally,r7.finally!==t7&&mgt(r7,"finally",t7,{unsafe:!0}));var t7});var i7=I(()=>{"use strict";var vgt=Q(),ygt=Dt(),_gt=ba(),bgt=xs(),xgt=cc(),wgt=wr(),_he=Pf(),n7=ygt.Promise,yhe=!1,Sgt=!n7||!n7.try||_he(function(){n7.try(function(e){yhe=e===8},8)}).error||!yhe;vgt({target:"Promise",stat:!0,forced:Sgt},{try:function(e){var t=arguments.length>1?bgt(arguments,1):[],r=xgt.f(this),n=_he(function(){return _gt(wgt(e),void 0,t)});return(n.error?r.reject:r.resolve)(n.value),r.promise}})});var o7=I(()=>{"use strict";var Igt=Q(),Egt=cc();Igt({target:"Promise",stat:!0},{withResolvers:function(){var t=Egt.f(this);return{promise:t.promise,resolve:t.resolve,reject:t.reject}}})});var bhe=I(()=>{"use strict";var Tgt=Q(),Mgt=ba(),Cgt=wr(),Agt=Rt(),Pgt=ft(),Ogt=!Pgt(function(){Reflect.apply(function(){})});Tgt({target:"Reflect",stat:!0,forced:Ogt},{apply:function(t,r,n){return Mgt(Cgt(t),r,Agt(n))}})});var Mhe=I(()=>{"use strict";var Dgt=Q(),Ngt=Ir(),a7=ba(),kgt=p8(),xhe=Sx(),Lgt=Rt(),whe=Er(),qgt=ji(),Ihe=ft(),s7=Ngt("Reflect","construct"),Rgt=Object.prototype,zgt=[].push,Ehe=Ihe(function(){function e(){}return!(s7(function(){},[],e)instanceof e)}),The=!Ihe(function(){s7(function(){})}),She=Ehe||The;Dgt({target:"Reflect",stat:!0,forced:She,sham:She},{construct:function(t,r){xhe(t),Lgt(r);var n=arguments.length<3?t:xhe(arguments[2]);if(The&&!Ehe)return s7(t,r,n);if(t===n){switch(r.length){case 0:return new t;case 1:return new t(r[0]);case 2:return new t(r[0],r[1]);case 3:return new t(r[0],r[1],r[2]);case 4:return new t(r[0],r[1],r[2],r[3]);}var i=[null];return a7(zgt,i,r),new(a7(kgt,t,i))}var o=n.prototype,u=qgt(whe(o)?o:Rgt),p=a7(t,u,r);return whe(p)?p:u}})});var Phe=I(()=>{"use strict";var jgt=Q(),Fgt=cr(),Che=Rt(),Bgt=nc(),Ahe=ti(),Ugt=ft(),Vgt=Ugt(function(){Reflect.defineProperty(Ahe.f({},1,{value:1}),1,{value:2})});jgt({target:"Reflect",stat:!0,forced:Vgt,sham:!Fgt},{defineProperty:function(t,r,n){Che(t);var i=Bgt(r);Che(n);try{return Ahe.f(t,i,n),!0}catch(o){return!1}}})});var Ohe=I(()=>{"use strict";var $gt=Q(),Hgt=Rt(),Wgt=So().f;$gt({target:"Reflect",stat:!0},{deleteProperty:function(t,r){var n=Wgt(Hgt(t),r);return n&&!n.configurable?!1:delete t[r]}})});var l7=I((M0r,Nhe)=>{"use strict";var Dhe=zr();Nhe.exports=function(e){return e!==void 0&&(Dhe(e,"value")||Dhe(e,"writable"))}});var Lhe=I(()=>{"use strict";var Ggt=Q(),Ygt=jt(),Zgt=Er(),Kgt=Rt(),Xgt=l7(),Qgt=So(),Jgt=to();function khe(e,t){var r=arguments.length<3?e:arguments[2],n,i;if(Kgt(e)===r)return e[t];if(n=Qgt.f(e,t),n)return Xgt(n)?n.value:n.get===void 0?void 0:Ygt(n.get,r);if(Zgt(i=Jgt(e)))return khe(i,t,r)}Ggt({target:"Reflect",stat:!0},{get:khe})});var qhe=I(()=>{"use strict";var evt=Q(),tvt=cr(),rvt=Rt(),nvt=So();evt({target:"Reflect",stat:!0,sham:!tvt},{getOwnPropertyDescriptor:function(t,r){return nvt.f(rvt(t),r)}})});var Rhe=I(()=>{"use strict";var ivt=Q(),ovt=Rt(),avt=to(),svt=YT();ivt({target:"Reflect",stat:!0,sham:!svt},{getPrototypeOf:function(t){return avt(ovt(t))}})});var zhe=I(()=>{"use strict";var lvt=Q();lvt({target:"Reflect",stat:!0},{has:function(t,r){return r in t}})});var jhe=I(()=>{"use strict";var uvt=Q(),cvt=Rt(),dvt=CM();uvt({target:"Reflect",stat:!0},{isExtensible:function(t){return cvt(t),dvt(t)}})});var Fhe=I(()=>{"use strict";var pvt=Q(),fvt=CT();pvt({target:"Reflect",stat:!0},{ownKeys:fvt})});var Bhe=I(()=>{"use strict";var hvt=Q(),mvt=Ir(),gvt=Rt(),vvt=Td();hvt({target:"Reflect",stat:!0,sham:!vvt},{preventExtensions:function(t){gvt(t);try{var r=mvt("Object","preventExtensions");return r&&r(t),!0}catch(n){return!1}}})});var Whe=I(()=>{"use strict";var yvt=Q(),_vt=jt(),bvt=Rt(),Uhe=Er(),xvt=l7(),wvt=ft(),u7=ti(),Vhe=So(),Svt=to(),$he=ys();function Hhe(e,t,r){var n=arguments.length<4?e:arguments[3],i=Vhe.f(bvt(e),t),o,u,p;if(!i){if(Uhe(u=Svt(e)))return Hhe(u,t,r,n);i=$he(0)}if(xvt(i)){if(i.writable===!1||!Uhe(n))return!1;if(o=Vhe.f(n,t)){if(o.get||o.set||o.writable===!1)return!1;o.value=r,u7.f(n,t,o)}else u7.f(n,t,$he(0,r))}else{if(p=i.set,p===void 0)return!1;_vt(p,n,r)}return!0}var Ivt=wvt(function(){var e=function(){},t=u7.f(new e,"a",{configurable:!0});return Reflect.set(e.prototype,"a",1,t)!==!1});yvt({target:"Reflect",stat:!0,forced:Ivt},{set:Hhe})});var Yhe=I(()=>{"use strict";var Evt=Q(),Tvt=Rt(),Mvt=Dq(),Ghe=Dl();Ghe&&Evt({target:"Reflect",stat:!0},{setPrototypeOf:function(t,r){Tvt(t),Mvt(r);try{return Ghe(t,r),!0}catch(n){return!1}}})});var Zhe=I(()=>{"use strict";var Cvt=Q(),Avt=Dt(),Pvt=Ga();Cvt({global:!0},{Reflect:{}});Pvt(Avt.Reflect,"Reflect",!0)});var Dx=I((Y0r,Khe)=>{"use strict";var Ovt=Er(),Dvt=Uo(),Nvt=gr(),kvt=Nvt("match");Khe.exports=function(e){var t;return Ovt(e)&&((t=e[kvt])!==void 0?!!t:Dvt(e)==="RegExp")}});var GM=I((Z0r,Xhe)=>{"use strict";var Lvt=Rt();Xhe.exports=function(){var e=Lvt(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}});var Sy=I((K0r,Jhe)=>{"use strict";var qvt=jt(),Rvt=zr(),zvt=Vo(),jvt=GM(),Qhe=RegExp.prototype;Jhe.exports=function(e){var t=e.flags;return t===void 0&&!("flags"in Qhe)&&!Rvt(e,"flags")&&zvt(Qhe,e)?qvt(jvt,e):t}});var Nx=I((X0r,eme)=>{"use strict";var c7=ft(),Fvt=Dt(),d7=Fvt.RegExp,p7=c7(function(){var e=d7("a","y");return e.lastIndex=2,e.exec("abcd")!==null}),Bvt=p7||c7(function(){return!d7("a","y").sticky}),Uvt=p7||c7(function(){var e=d7("^r","gy");return e.lastIndex=2,e.exec("str")!==null});eme.exports={BROKEN_CARET:Uvt,MISSED_STICKY:Bvt,UNSUPPORTED_Y:p7}});var YM=I((Q0r,tme)=>{"use strict";var Vvt=ft(),$vt=Dt(),Hvt=$vt.RegExp;tme.exports=Vvt(function(){var e=Hvt(".","s");return!(e.dotAll&&e.test(`
`)&&e.flags==="s")})});var f7=I((J0r,rme)=>{"use strict";var Wvt=ft(),Gvt=Dt(),Yvt=Gvt.RegExp;rme.exports=Wvt(function(){var e=Yvt("(?<a>b)","g");return e.exec("b").groups.a!=="b"||"b".replace(e,"$<a>c")!=="bc"})});var pme=I(()=>{"use strict";var Zvt=cr(),v7=Dt(),kx=nt(),Kvt=Xv(),Xvt=vf(),Qvt=eo(),Jvt=ji(),eyt=hf().f,nme=Vo(),tyt=Dx(),ime=Mr(),ryt=Sy(),lme=Nx(),nyt=Nq(),iyt=Ln(),oyt=ft(),ayt=zr(),syt=An().enforce,lyt=wf(),uyt=gr(),ume=YM(),cme=f7(),cyt=uyt("match"),Nf=v7.RegExp,Iy=Nf.prototype,dyt=v7.SyntaxError,pyt=kx(Iy.exec),ZM=kx("".charAt),ome=kx("".replace),ame=kx("".indexOf),sme=kx("".slice),fyt=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,Em=/a/g,h7=/a/g,hyt=new Nf(Em)!==Em,dme=lme.MISSED_STICKY,myt=lme.UNSUPPORTED_Y,gyt=Zvt&&(!hyt||dme||ume||cme||oyt(function(){return h7[cyt]=!1,Nf(Em)!==Em||Nf(h7)===h7||String(Nf(Em,"i"))!=="/a/i"})),vyt=function(e){for(var t=e.length,r=0,n="",i=!1,o;r<=t;r++){if(o=ZM(e,r),o==="\\"){n+=o+ZM(e,++r);continue}!i&&o==="."?n+="[\\s\\S]":(o==="["?i=!0:o==="]"&&(i=!1),n+=o)}return n},yyt=function(e){for(var t=e.length,r=0,n="",i=[],o=Jvt(null),u=!1,p=!1,h=0,y="",_;r<=t;r++){if(_=ZM(e,r),_==="\\")_+=ZM(e,++r);else if(_==="]")u=!1;else if(!u)switch(!0){case _==="[":u=!0;break;case _==="(":if(n+=_,sme(e,r+1,r+3)==="?:")continue;pyt(fyt,sme(e,r+1))&&(r+=2,p=!0),h++;continue;case _===">"&&p:if(y===""||ayt(o,y))throw new dyt("Invalid capture group name");o[y]=!0,i[i.length]=[y,h],p=!1,y="";continue;}p?y+=_:n+=_}return[n,i]};if(Kvt("RegExp",gyt)){for(Df=function(t,r){var n=nme(Iy,this),i=tyt(t),o=r===void 0,u=[],p=t,h,y,_,E,T,N;if(!n&&i&&o&&t.constructor===Df)return t;if((i||nme(Iy,t))&&(t=t.source,o&&(r=ryt(p))),t=t===void 0?"":ime(t),r=r===void 0?"":ime(r),p=t,ume&&("dotAll"in Em)&&(y=!!r&&ame(r,"s")>-1,y&&(r=ome(r,/s/g,""))),h=r,dme&&("sticky"in Em)&&(_=!!r&&ame(r,"y")>-1,_&&myt&&(r=ome(r,/y/g,""))),cme&&(E=yyt(t),t=E[0],u=E[1]),T=Xvt(Nf(t,r),n?this:Iy,Df),(y||_||u.length)&&(N=syt(T),y&&(N.dotAll=!0,N.raw=Df(vyt(t),h)),_&&(N.sticky=!0),u.length&&(N.groups=u)),t!==p)try{Qvt(T,"source",p===""?"(?:)":p)}catch(R){}return T},m7=eyt(Nf),g7=0;m7.length>g7;)nyt(Df,Nf,m7[g7++]);Iy.constructor=Df,Df.prototype=Iy,iyt(v7,"RegExp",Df,{constructor:!0})}var Df,m7,g7;lyt("RegExp")});var hme=I(()=>{"use strict";var _yt=cr(),byt=YM(),xyt=Uo(),wyt=di(),Syt=An().get,fme=RegExp.prototype,Iyt=TypeError;_yt&&byt&&wyt(fme,"dotAll",{configurable:!0,get:function(){if(this!==fme){if(xyt(this)==="RegExp")return!!Syt(this).dotAll;throw new Iyt("Incompatible receiver, RegExp required")}}})});var QM=I((i1r,gme)=>{"use strict";var Ey=jt(),XM=nt(),Eyt=Mr(),Tyt=GM(),Myt=Nx(),Cyt=md(),Ayt=ji(),Pyt=An().get,Oyt=YM(),Dyt=f7(),Nyt=Cyt("native-string-replace",String.prototype.replace),KM=RegExp.prototype.exec,_7=KM,kyt=XM("".charAt),Lyt=XM("".indexOf),qyt=XM("".replace),y7=XM("".slice),b7=function(){var e=/a/,t=/b*/g;return Ey(KM,e,"a"),Ey(KM,t,"a"),e.lastIndex!==0||t.lastIndex!==0}(),mme=Myt.BROKEN_CARET,x7=/()??/.exec("")[1]!==void 0,Ryt=b7||x7||mme||Oyt||Dyt;Ryt&&(_7=function(t){var r=this,n=Pyt(r),i=Eyt(t),o=n.raw,u,p,h,y,_,E,T;if(o)return o.lastIndex=r.lastIndex,u=Ey(_7,o,i),r.lastIndex=o.lastIndex,u;var N=n.groups,R=mme&&r.sticky,j=Ey(Tyt,r),k=r.source,L=0,F=i;if(R&&(j=qyt(j,"y",""),Lyt(j,"g")===-1&&(j+="g"),F=y7(i,r.lastIndex),r.lastIndex>0&&(!r.multiline||r.multiline&&kyt(i,r.lastIndex-1)!==`
`)&&(k="(?: "+k+")",F=" "+F,L++),p=new RegExp("^(?:"+k+")",j)),x7&&(p=new RegExp("^"+k+"$(?!\\s)",j)),b7&&(h=r.lastIndex),y=Ey(KM,R?p:r,F),R?y?(y.input=y7(y.input,L),y[0]=y7(y[0],L),y.index=r.lastIndex,r.lastIndex+=y[0].length):r.lastIndex=0:b7&&y&&(r.lastIndex=r.global?y.index+y[0].length:h),x7&&y&&y.length>1&&Ey(Nyt,y[0],p,function(){for(_=1;_<arguments.length-2;_++)arguments[_]===void 0&&(y[_]=void 0)}),y&&N)for(y.groups=E=Ayt(null),_=0;_<N.length;_++)T=N[_],E[T[0]]=y[T[1]];return y});gme.exports=_7});var JM=I(()=>{"use strict";var zyt=Q(),vme=QM();zyt({target:"RegExp",proto:!0,forced:/./.exec!==vme},{exec:vme})});var bme=I(()=>{"use strict";var jyt=Dt(),Fyt=cr(),Byt=di(),Uyt=GM(),Vyt=ft(),yme=jyt.RegExp,_me=yme.prototype,$yt=Fyt&&Vyt(function(){var e=!0;try{yme(".","d")}catch(h){e=!1}var t={},r="",n=e?"dgimsy":"gimsy",i=function(h,y){Object.defineProperty(t,h,{get:function(){return r+=y,!0}})},o={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};e&&(o.hasIndices="d");for(var u in o)i(u,o[u]);var p=Object.getOwnPropertyDescriptor(_me,"flags").get.call(t);return p!==n||r!==n});$yt&&Byt(_me,"flags",{configurable:!0,get:Uyt})});var wme=I(()=>{"use strict";var Hyt=cr(),Wyt=Nx().MISSED_STICKY,Gyt=Uo(),Yyt=di(),Zyt=An().get,xme=RegExp.prototype,Kyt=TypeError;Hyt&&Wyt&&Yyt(xme,"sticky",{configurable:!0,get:function(){if(this!==xme){if(Gyt(this)==="RegExp")return!!Zyt(this).sticky;throw new Kyt("Incompatible receiver, RegExp required")}}})});var Eme=I(()=>{"use strict";JM();var Xyt=Q(),Sme=jt(),Qyt=kr(),Ime=Rt(),Jyt=Mr(),e0t=function(){var e=!1,t=/[ac]/;return t.exec=function(){return e=!0,/./.exec.apply(this,arguments)},t.test("abc")===!0&&e}(),t0t=/./.test;Xyt({target:"RegExp",proto:!0,forced:!e0t},{test:function(e){var t=Ime(this),r=Jyt(e),n=t.exec;if(!Qyt(n))return Sme(t0t,t,r);var i=Sme(n,t,r);return i===null?!1:(Ime(i),!0)}})});var Ame=I(()=>{"use strict";var r0t=am().PROPER,n0t=Ln(),i0t=Rt(),Tme=Mr(),o0t=ft(),a0t=Sy(),w7="toString",Mme=RegExp.prototype,Cme=Mme[w7],s0t=o0t(function(){return Cme.call({source:"a",flags:"b"})!=="/a/b"}),l0t=r0t&&Cme.name!==w7;(s0t||l0t)&&n0t(Mme,w7,function(){var t=i0t(this),r=Tme(t.source),n=Tme(a0t(t));return"/"+r+"/"+n},{unsafe:!0})});var Pme=I(()=>{"use strict";var u0t=fx(),c0t=H8();u0t("Set",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},c0t)});var Ome=I(()=>{"use strict";Pme()});var To=I((_1r,Dme)=>{"use strict";var S7=nt(),eC=Set.prototype;Dme.exports={Set,add:S7(eC.add),has:S7(eC.has),remove:S7(eC.delete),proto:eC}});var $o=I((b1r,Nme)=>{"use strict";var d0t=To().has;Nme.exports=function(e){return d0t(e),e}});var Cd=I((x1r,kme)=>{"use strict";var p0t=jt();kme.exports=function(e,t,r){for(var n=r?e:e.iterator,i=e.next,o,u;!(o=p0t(i,n)).done;)if(u=t(o.value),u!==void 0)return u}});var Is=I((w1r,jme)=>{"use strict";var Lme=nt(),f0t=Cd(),qme=To(),h0t=qme.Set,Rme=qme.proto,m0t=Lme(Rme.forEach),zme=Lme(Rme.keys),g0t=zme(new h0t).next;jme.exports=function(e,t,r){return r?f0t({iterator:zme(e),next:g0t},t):m0t(e,t)}});var tC=I((S1r,Bme)=>{"use strict";var Fme=To(),v0t=Is(),y0t=Fme.Set,_0t=Fme.add;Bme.exports=function(e){var t=new y0t;return v0t(e,function(r){_0t(t,r)}),t}});var Ty=I((I1r,Ume)=>{"use strict";var b0t=Kb(),x0t=To();Ume.exports=b0t(x0t.proto,"size","get")||function(e){return e.size}});var kf=I((E1r,Yme)=>{"use strict";var Vme=wr(),Wme=Rt(),$me=jt(),w0t=ci(),S0t=_i(),Hme="Invalid size",I0t=RangeError,E0t=TypeError,T0t=Math.max,Gme=function(e,t){this.set=e,this.size=T0t(t,0),this.has=Vme(e.has),this.keys=Vme(e.keys)};Gme.prototype={getIterator:function(){return S0t(Wme($me(this.keys,this.set)))},includes:function(e){return $me(this.has,this.set,e)}};Yme.exports=function(e){Wme(e);var t=+e.size;if(t!==t)throw new E0t(Hme);var r=w0t(t);if(r<0)throw new I0t(Hme);return new Gme(e,r)}});var I7=I((T1r,Xme)=>{"use strict";var M0t=$o(),Kme=To(),C0t=tC(),A0t=Ty(),P0t=kf(),O0t=Is(),D0t=Cd(),N0t=Kme.has,Zme=Kme.remove;Xme.exports=function(t){var r=M0t(this),n=P0t(t),i=C0t(r);return A0t(r)<=n.size?O0t(r,function(o){n.includes(o)&&Zme(i,o)}):D0t(n.getIterator(),function(o){N0t(r,o)&&Zme(i,o)}),i}});var Lf=I((M1r,Jme)=>{"use strict";var k0t=Ir(),Qme=function(e){return{size:e,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}};Jme.exports=function(e){var t=k0t("Set");try{new t()[e](Qme(0));try{return new t()[e](Qme(-1)),!1}catch(r){return!0}}catch(r){return!1}}});var E7=I(()=>{"use strict";var L0t=Q(),q0t=I7(),R0t=Lf();L0t({target:"Set",proto:!0,real:!0,forced:!R0t("difference")},{difference:q0t})});var M7=I((P1r,tge)=>{"use strict";var z0t=$o(),T7=To(),j0t=Ty(),F0t=kf(),B0t=Is(),U0t=Cd(),V0t=T7.Set,ege=T7.add,$0t=T7.has;tge.exports=function(t){var r=z0t(this),n=F0t(t),i=new V0t;return j0t(r)>n.size?U0t(n.getIterator(),function(o){$0t(r,o)&&ege(i,o)}):B0t(r,function(o){n.includes(o)&&ege(i,o)}),i}});var C7=I(()=>{"use strict";var H0t=Q(),W0t=ft(),G0t=M7(),Y0t=Lf(),Z0t=!Y0t("intersection")||W0t(function(){return String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))!=="3,2"});H0t({target:"Set",proto:!0,real:!0,forced:Z0t},{intersection:G0t})});var A7=I((N1r,rge)=>{"use strict";var K0t=$o(),X0t=To().has,Q0t=Ty(),J0t=kf(),e1t=Is(),t1t=Cd(),r1t=_d();rge.exports=function(t){var r=K0t(this),n=J0t(t);if(Q0t(r)<=n.size)return e1t(r,function(o){if(n.includes(o))return!1},!0)!==!1;var i=n.getIterator();return t1t(i,function(o){if(X0t(r,o))return r1t(i,"normal",!1)})!==!1}});var P7=I(()=>{"use strict";var n1t=Q(),i1t=A7(),o1t=Lf();n1t({target:"Set",proto:!0,real:!0,forced:!o1t("isDisjointFrom")},{isDisjointFrom:i1t})});var O7=I((q1r,nge)=>{"use strict";var a1t=$o(),s1t=Ty(),l1t=Is(),u1t=kf();nge.exports=function(t){var r=a1t(this),n=u1t(t);return s1t(r)>n.size?!1:l1t(r,function(i){if(!n.includes(i))return!1},!0)!==!1}});var D7=I(()=>{"use strict";var c1t=Q(),d1t=O7(),p1t=Lf();c1t({target:"Set",proto:!0,real:!0,forced:!p1t("isSubsetOf")},{isSubsetOf:d1t})});var N7=I((j1r,ige)=>{"use strict";var f1t=$o(),h1t=To().has,m1t=Ty(),g1t=kf(),v1t=Cd(),y1t=_d();ige.exports=function(t){var r=f1t(this),n=g1t(t);if(m1t(r)<n.size)return!1;var i=n.getIterator();return v1t(i,function(o){if(!h1t(r,o))return y1t(i,"normal",!1)})!==!1}});var k7=I(()=>{"use strict";var _1t=Q(),b1t=N7(),x1t=Lf();_1t({target:"Set",proto:!0,real:!0,forced:!x1t("isSupersetOf")},{isSupersetOf:b1t})});var q7=I((U1r,oge)=>{"use strict";var w1t=$o(),L7=To(),S1t=tC(),I1t=kf(),E1t=Cd(),T1t=L7.add,M1t=L7.has,C1t=L7.remove;oge.exports=function(t){var r=w1t(this),n=I1t(t).getIterator(),i=S1t(r);return E1t(n,function(o){M1t(r,o)?C1t(i,o):T1t(i,o)}),i}});var R7=I(()=>{"use strict";var A1t=Q(),P1t=q7(),O1t=Lf();A1t({target:"Set",proto:!0,real:!0,forced:!O1t("symmetricDifference")},{symmetricDifference:P1t})});var z7=I((H1r,age)=>{"use strict";var D1t=$o(),N1t=To().add,k1t=tC(),L1t=kf(),q1t=Cd();age.exports=function(t){var r=D1t(this),n=L1t(t).getIterator(),i=k1t(r);return q1t(n,function(o){N1t(i,o)}),i}});var j7=I(()=>{"use strict";var R1t=Q(),z1t=z7(),j1t=Lf();R1t({target:"Set",proto:!0,real:!0,forced:!j1t("union")},{union:z1t})});var sge=I(()=>{"use strict";var F1t=Q(),B1t=nt(),U1t=oi(),V1t=ci(),$1t=Mr(),H1t=ft(),W1t=B1t("".charAt),G1t=H1t(function(){return"\uD842\uDFB7".at(-2)!=="\uD842"});F1t({target:"String",proto:!0,forced:G1t},{at:function(t){var r=$1t(U1t(this)),n=r.length,i=V1t(t),o=i>=0?i:n+i;return o<0||o>=n?void 0:W1t(r,o)}})});var Tm=I((K1r,cge)=>{"use strict";var F7=nt(),Y1t=ci(),Z1t=Mr(),K1t=oi(),X1t=F7("".charAt),lge=F7("".charCodeAt),Q1t=F7("".slice),uge=function(e){return function(t,r){var n=Z1t(K1t(t)),i=Y1t(r),o=n.length,u,p;return i<0||i>=o?e?"":void 0:(u=lge(n,i),u<55296||u>56319||i+1===o||(p=lge(n,i+1))<56320||p>57343?e?X1t(n,i):u:e?Q1t(n,i,i+2):(u-55296<<10)+(p-56320)+65536)}};cge.exports={codeAt:uge(!1),charAt:uge(!0)}});var dge=I(()=>{"use strict";var J1t=Q(),e_t=Tm().codeAt;J1t({target:"String",proto:!0},{codePointAt:function(t){return e_t(this,t)}})});var rC=I((J1r,pge)=>{"use strict";var t_t=Dx(),r_t=TypeError;pge.exports=function(e){if(t_t(e))throw new r_t("The method doesn't accept regular expressions");return e}});var nC=I((e_r,fge)=>{"use strict";var n_t=gr(),i_t=n_t("match");fge.exports=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[i_t]=!1,"/./"[e](t)}catch(n){}}return!1}});var gge=I(()=>{"use strict";var o_t=Q(),a_t=gd(),s_t=So().f,l_t=_s(),hge=Mr(),u_t=rC(),c_t=oi(),d_t=nC(),p_t=$r(),f_t=a_t("".slice),h_t=Math.min,mge=d_t("endsWith"),m_t=!p_t&&!mge&&!!function(){var e=s_t(String.prototype,"endsWith");return e&&!e.writable}();o_t({target:"String",proto:!0,forced:!m_t&&!mge},{endsWith:function(t){var r=hge(c_t(this));u_t(t);var n=arguments.length>1?arguments[1]:void 0,i=r.length,o=n===void 0?i:h_t(l_t(n),i),u=hge(t);return f_t(r,o-u.length,o)===u}})});var B7=I(()=>{"use strict";var g_t=Q(),v_t=nt(),y_t=vu(),__t=RangeError,vge=String.fromCharCode,yge=String.fromCodePoint,b_t=v_t([].join),x_t=!!yge&&yge.length!==1;g_t({target:"String",stat:!0,arity:1,forced:x_t},{fromCodePoint:function(t){for(var r=[],n=arguments.length,i=0,o;n>i;){if(o=+arguments[i++],y_t(o,1114111)!==o)throw new __t(o+" is not a valid code point");r[i]=o<65536?vge(o):vge(((o-=65536)>>10)+55296,o%1024+56320)}return b_t(r,"")}})});var bge=I(()=>{"use strict";var w_t=Q(),S_t=nt(),I_t=rC(),E_t=oi(),_ge=Mr(),T_t=nC(),M_t=S_t("".indexOf);w_t({target:"String",proto:!0,forced:!T_t("includes")},{includes:function(t){return!!~M_t(_ge(E_t(this)),_ge(I_t(t)),arguments.length>1?arguments[1]:void 0)}})});var U7=I(()=>{"use strict";var C_t=Q(),A_t=nt(),P_t=oi(),O_t=Mr(),xge=A_t("".charCodeAt);C_t({target:"String",proto:!0},{isWellFormed:function(){for(var t=O_t(P_t(this)),r=t.length,n=0;n<r;n++){var i=xge(t,n);if((i&63488)===55296&&(i>=56320||++n>=r||(xge(t,n)&64512)!==56320))return!1}return!0}})});var V7=I(()=>{"use strict";var D_t=Tm().charAt,N_t=Mr(),Sge=An(),k_t=nM(),wge=Eo(),Ige="String Iterator",L_t=Sge.set,q_t=Sge.getterFor(Ige);k_t(String,"String",function(e){L_t(this,{type:Ige,string:N_t(e),index:0})},function(){var t=q_t(this),r=t.string,n=t.index,i;return n>=r.length?wge(void 0,!0):(i=D_t(r,n),t.index+=i.length,wge(i,!1))})});var Lx=I((d_r,Age)=>{"use strict";JM();var Ege=jt(),Tge=Ln(),R_t=QM(),Mge=ft(),Cge=gr(),z_t=eo(),j_t=Cge("species"),$7=RegExp.prototype;Age.exports=function(e,t,r,n){var i=Cge(e),o=!Mge(function(){var y={};return y[i]=function(){return 7},""[e](y)!==7}),u=o&&!Mge(function(){var y=!1,_=/a/;return e==="split"&&(_={},_.constructor={},_.constructor[j_t]=function(){return _},_.flags="",_[i]=/./[i]),_.exec=function(){return y=!0,null},_[i](""),!y});if(!o||!u||r){var p=/./[i],h=t(i,""[e],function(y,_,E,T,N){var R=_.exec;return R===R_t||R===$7.exec?o&&!N?{done:!0,value:Ege(p,_,E,T)}:{done:!0,value:Ege(y,E,_,T)}:{done:!1}});Tge(String.prototype,e,h[0]),Tge($7,i,h[1])}n&&z_t($7[i],"sham",!0)}});var qx=I((p_r,Pge)=>{"use strict";var F_t=Tm().charAt;Pge.exports=function(e,t,r){return t+(r?F_t(e,t).length:1)}});var My=I((f_r,Dge)=>{"use strict";var Oge=jt(),B_t=Rt(),U_t=kr(),V_t=Uo(),$_t=QM(),H_t=TypeError;Dge.exports=function(e,t){var r=e.exec;if(U_t(r)){var n=Oge(r,e,t);return n!==null&&B_t(n),n}if(V_t(e)==="RegExp")return Oge($_t,e,t);throw new H_t("RegExp#exec called on incompatible receiver")}});var kge=I(()=>{"use strict";var W_t=jt(),G_t=Lx(),Y_t=Rt(),Z_t=Qi(),K_t=_s(),H7=Mr(),X_t=oi(),Q_t=zi(),J_t=qx(),Nge=My();G_t("match",function(e,t,r){return[function(i){var o=X_t(this),u=Z_t(i)?void 0:Q_t(i,e);return u?W_t(u,i,o):new RegExp(i)[e](H7(o))},function(n){var i=Y_t(this),o=H7(n),u=r(t,i,o);if(u.done)return u.value;if(!i.global)return Nge(i,o);var p=i.unicode;i.lastIndex=0;for(var h=[],y=0,_;(_=Nge(i,o))!==null;){var E=H7(_[0]);h[y]=E,E===""&&(i.lastIndex=J_t(o,K_t(i.lastIndex),p)),y++}return y===0?null:h}]})});var K7=I(()=>{"use strict";var ebt=Q(),Lge=jt(),zge=gd(),tbt=bf(),iC=Eo(),qge=oi(),jge=_s(),Rx=Mr(),rbt=Rt(),nbt=Qi(),ibt=Uo(),obt=Dx(),Fge=Sy(),abt=zi(),sbt=Ln(),lbt=ft(),ubt=gr(),cbt=Ix(),dbt=qx(),pbt=My(),Bge=An(),G7=$r(),oC=ubt("matchAll"),Uge="RegExp String",Vge=Uge+" Iterator",fbt=Bge.set,hbt=Bge.getterFor(Vge),Rge=RegExp.prototype,mbt=TypeError,Y7=zge("".indexOf),aC=zge("".matchAll),W7=!!aC&&!lbt(function(){aC("a",/./)}),gbt=tbt(function(t,r,n,i){fbt(this,{type:Vge,regexp:t,string:r,global:n,unicode:i,done:!1})},Uge,function(){var t=hbt(this);if(t.done)return iC(void 0,!0);var r=t.regexp,n=t.string,i=pbt(r,n);return i===null?(t.done=!0,iC(void 0,!0)):t.global?(Rx(i[0])===""&&(r.lastIndex=dbt(n,jge(r.lastIndex),t.unicode)),iC(i,!1)):(t.done=!0,iC(i,!1))}),Z7=function(e){var t=rbt(this),r=Rx(e),n=cbt(t,RegExp),i=Rx(Fge(t)),o,u,p;return o=new n(n===RegExp?t.source:t,i),u=!!~Y7(i,"g"),p=!!~Y7(i,"u"),o.lastIndex=jge(t.lastIndex),new gbt(o,r,u,p)};ebt({target:"String",proto:!0,forced:W7},{matchAll:function(t){var r=qge(this),n,i,o,u;if(nbt(t)){if(W7)return aC(r,t)}else{if(obt(t)&&(n=Rx(qge(Fge(t))),!~Y7(n,"g")))throw new mbt("`.matchAll` does not allow non-global regexes");if(W7)return aC(r,t);if(o=abt(t,oC),o===void 0&&G7&&ibt(t)==="RegExp"&&(o=Z7),o)return Lge(o,t,r)}return i=Rx(r),u=new RegExp(t,"g"),G7?Lge(Z7,u,i):u[oC](i)}});G7||oC in Rge||sbt(Rge,oC,Z7)});var X7=I((y_r,$ge)=>{"use strict";var vbt=hu();$ge.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(vbt)});var Hge=I(()=>{"use strict";var ybt=Q(),_bt=cx().end,bbt=X7();ybt({target:"String",proto:!0,forced:bbt},{padEnd:function(t){return _bt(this,t,arguments.length>1?arguments[1]:void 0)}})});var Wge=I(()=>{"use strict";var xbt=Q(),wbt=cx().start,Sbt=X7();xbt({target:"String",proto:!0,forced:Sbt},{padStart:function(t){return wbt(this,t,arguments.length>1?arguments[1]:void 0)}})});var Kge=I(()=>{"use strict";var Ibt=Q(),Zge=nt(),Ebt=Ji(),Tbt=Hr(),Gge=Mr(),Mbt=rn(),Yge=Zge([].push),Cbt=Zge([].join);Ibt({target:"String",stat:!0},{raw:function(t){var r=Ebt(Tbt(t).raw),n=Mbt(r);if(!n)return"";for(var i=arguments.length,o=[],u=0;;){if(Yge(o,Gge(r[u++])),u===n)return Cbt(o,"");u<i&&Yge(o,Gge(arguments[u]))}}})});var Xge=I(()=>{"use strict";var Abt=Q(),Pbt=ux();Abt({target:"String",proto:!0},{repeat:Pbt})});var tz=I((M_r,Qge)=>{"use strict";var ez=nt(),Obt=Hr(),Dbt=Math.floor,Q7=ez("".charAt),Nbt=ez("".replace),J7=ez("".slice),kbt=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,Lbt=/\$([$&'`]|\d{1,2})/g;Qge.exports=function(e,t,r,n,i,o){var u=r+e.length,p=n.length,h=Lbt;return i!==void 0&&(i=Obt(i),h=kbt),Nbt(o,h,function(y,_){var E;switch(Q7(_,0)){case"$":return"$";case"&":return e;case"`":return J7(t,0,r);case"'":return J7(t,u);case"<":E=i[J7(_,1,-1)];break;default:var T=+_;if(T===0)return y;if(T>p){var N=Dbt(T/10);return N===0?y:N<=p?n[N-1]===void 0?Q7(_,1):n[N-1]+Q7(_,1):y}E=n[T-1];}return E===void 0?"":E})}});var nve=I(()=>{"use strict";var qbt=ba(),Jge=jt(),sC=nt(),Rbt=Lx(),zbt=ft(),jbt=Rt(),Fbt=kr(),Bbt=Qi(),Ubt=ci(),Vbt=_s(),Cy=Mr(),$bt=oi(),Hbt=qx(),Wbt=zi(),Gbt=tz(),Ybt=My(),Zbt=gr(),nz=Zbt("replace"),Kbt=Math.max,Xbt=Math.min,Qbt=sC([].concat),rz=sC([].push),eve=sC("".indexOf),tve=sC("".slice),Jbt=function(e){return e===void 0?e:String(e)},ext=function(){return"a".replace(/./,"$0")==="$0"}(),rve=function(){return /./[nz]?/./[nz]("a","$0")==="":!1}(),txt=!zbt(function(){var e=/./;return e.exec=function(){var t=[];return t.groups={a:"7"},t},"".replace(e,"$<a>")!=="7"});Rbt("replace",function(e,t,r){var n=rve?"$":"$0";return[function(o,u){var p=$bt(this),h=Bbt(o)?void 0:Wbt(o,nz);return h?Jge(h,o,p,u):Jge(t,Cy(p),o,u)},function(i,o){var u=jbt(this),p=Cy(i);if(typeof o=="string"&&eve(o,n)===-1&&eve(o,"$<")===-1){var h=r(t,u,p,o);if(h.done)return h.value}var y=Fbt(o);y||(o=Cy(o));var _=u.global,E;_&&(E=u.unicode,u.lastIndex=0);for(var T=[],N;N=Ybt(u,p),!(N===null||(rz(T,N),!_));){var R=Cy(N[0]);R===""&&(u.lastIndex=Hbt(p,Vbt(u.lastIndex),E))}for(var j="",k=0,L=0;L<T.length;L++){N=T[L];for(var F=Cy(N[0]),G=Kbt(Xbt(Ubt(N.index),p.length),0),ee=[],ae,ue=1;ue<N.length;ue++)rz(ee,Jbt(N[ue]));var ge=N.groups;if(y){var Oe=Qbt([F],ee,G,p);ge!==void 0&&rz(Oe,ge),ae=Cy(qbt(o,void 0,Oe))}else ae=Gbt(F,p,G,ee,ge,o);G>=k&&(j+=tve(p,k,G)+ae,k=G+F.length)}return j+tve(p,k)}]},!txt||!ext||rve)});var az=I(()=>{"use strict";var rxt=Q(),nxt=jt(),oz=nt(),ive=oi(),ixt=kr(),oxt=Qi(),axt=Dx(),Ay=Mr(),sxt=zi(),lxt=Sy(),uxt=tz(),cxt=gr(),dxt=$r(),pxt=cxt("replace"),fxt=TypeError,iz=oz("".indexOf),hxt=oz("".replace),ove=oz("".slice),mxt=Math.max;rxt({target:"String",proto:!0},{replaceAll:function(t,r){var n=ive(this),i,o,u,p,h,y,_,E,T,N,R=0,j="";if(!oxt(t)){if(i=axt(t),i&&(o=Ay(ive(lxt(t))),!~iz(o,"g")))throw new fxt("`.replaceAll` does not allow non-global regexes");if(u=sxt(t,pxt),u)return nxt(u,t,n,r);if(dxt&&i)return hxt(Ay(n),t,r)}for(p=Ay(n),h=Ay(t),y=ixt(r),y||(r=Ay(r)),_=h.length,E=mxt(1,_),T=iz(p,h);T!==-1;)N=y?Ay(r(h,T,p)):uxt(h,p,T,[],void 0,r),j+=ove(p,R,T)+N,R=T+_,T=T+E>p.length?-1:iz(p,h,T+E);return R<p.length&&(j+=ove(p,R)),j}})});var lve=I(()=>{"use strict";var gxt=jt(),vxt=Lx(),yxt=Rt(),_xt=Qi(),bxt=oi(),ave=v9(),sve=Mr(),xxt=zi(),wxt=My();vxt("search",function(e,t,r){return[function(i){var o=bxt(this),u=_xt(i)?void 0:xxt(i,e);return u?gxt(u,i,o):new RegExp(i)[e](sve(o))},function(n){var i=yxt(this),o=sve(n),u=r(t,i,o);if(u.done)return u.value;var p=i.lastIndex;ave(p,0)||(i.lastIndex=0);var h=wxt(i,o);return ave(i.lastIndex,p)||(i.lastIndex=p),h===null?-1:h.index}]})});var fve=I(()=>{"use strict";var sz=jt(),pve=nt(),Sxt=Lx(),Ixt=Rt(),Ext=Qi(),Txt=oi(),Mxt=Ix(),Cxt=qx(),Axt=_s(),uve=Mr(),Pxt=zi(),cve=My(),Oxt=Nx(),Dxt=ft(),Py=Oxt.UNSUPPORTED_Y,Nxt=4294967295,kxt=Math.min,lz=pve([].push),uz=pve("".slice),Lxt=!Dxt(function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r="ab".split(e);return r.length!==2||r[0]!=="a"||r[1]!=="b"}),dve="abbc".split(/(b)*/)[1]==="c"||"test".split(/(?:)/,-1).length!==4||"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||".".split(/()()/).length>1||"".split(/.?/).length;Sxt("split",function(e,t,r){var n="0".split(void 0,0).length?function(i,o){return i===void 0&&o===0?[]:sz(t,this,i,o)}:t;return[function(o,u){var p=Txt(this),h=Ext(o)?void 0:Pxt(o,e);return h?sz(h,o,p,u):sz(n,uve(p),o,u)},function(i,o){var u=Ixt(this),p=uve(i);if(!dve){var h=r(n,u,p,o,n!==t);if(h.done)return h.value}var y=Mxt(u,RegExp),_=u.unicode,E=(u.ignoreCase?"i":"")+(u.multiline?"m":"")+(u.unicode?"u":"")+(Py?"g":"y"),T=new y(Py?"^(?:"+u.source+")":u,E),N=o===void 0?Nxt:o>>>0;if(N===0)return[];if(p.length===0)return cve(T,p)===null?[p]:[];for(var R=0,j=0,k=[];j<p.length;){T.lastIndex=Py?0:j;var L=cve(T,Py?uz(p,j):p),F;if(L===null||(F=kxt(Axt(T.lastIndex+(Py?j:0)),p.length))===R)j=Cxt(p,j,_);else{if(lz(k,uz(p,R,j)),k.length===N)return k;for(var G=1;G<=L.length-1;G++)if(lz(k,L[G]),k.length===N)return k;j=R=F}}return lz(k,uz(p,R)),k}]},dve||!Lxt,Py)});var gve=I(()=>{"use strict";var qxt=Q(),Rxt=gd(),zxt=So().f,jxt=_s(),hve=Mr(),Fxt=rC(),Bxt=oi(),Uxt=nC(),Vxt=$r(),$xt=Rxt("".slice),Hxt=Math.min,mve=Uxt("startsWith"),Wxt=!Vxt&&!mve&&!!function(){var e=zxt(String.prototype,"startsWith");return e&&!e.writable}();qxt({target:"String",proto:!0,forced:!Wxt&&!mve},{startsWith:function(t){var r=hve(Bxt(this));Fxt(t);var n=jxt(Hxt(arguments.length>1?arguments[1]:void 0,r.length)),i=hve(t);return $xt(r,n,n+i.length)===i}})});var yve=I(()=>{"use strict";var Gxt=Q(),Yxt=nt(),Zxt=oi(),vve=ci(),Kxt=Mr(),Xxt=Yxt("".slice),Qxt=Math.max,Jxt=Math.min,ewt=!"".substr||"ab".substr(-1)!=="b";Gxt({target:"String",proto:!0,forced:ewt},{substr:function(t,r){var n=Kxt(Zxt(this)),i=n.length,o=vve(t),u,p;return o===1/0&&(o=0),o<0&&(o=Qxt(i+o,0)),u=r===void 0?i:vve(r),u<=0||u===1/0?"":(p=Jxt(o+u,i),o>=p?"":Xxt(n,o,p))}})});var fz=I(()=>{"use strict";var twt=Q(),xve=jt(),pz=nt(),rwt=oi(),nwt=Mr(),iwt=ft(),owt=Array,cz=pz("".charAt),_ve=pz("".charCodeAt),awt=pz([].join),dz="".toWellFormed,swt="\uFFFD",bve=dz&&iwt(function(){return xve(dz,1)!=="1"});twt({target:"String",proto:!0,forced:bve},{toWellFormed:function(){var t=nwt(rwt(this));if(bve)return xve(dz,t);for(var r=t.length,n=owt(r),i=0;i<r;i++){var o=_ve(t,i);(o&63488)!==55296?n[i]=cz(t,i):o>=56320||i+1>=r||(_ve(t,i+1)&64512)!==56320?n[i]=swt:(n[i]=cz(t,i),n[++i]=cz(t,i))}return awt(n,"")}})});var lC=I((U_r,Ive)=>{"use strict";var lwt=am().PROPER,uwt=ft(),wve=bm(),Sve="\u200B\x85\u180E";Ive.exports=function(e){return uwt(function(){return!!wve[e]()||Sve[e]()!==Sve||lwt&&wve[e].name!==e})}});var Eve=I(()=>{"use strict";var cwt=Q(),dwt=xm().trim,pwt=lC();cwt({target:"String",proto:!0,forced:pwt("trim")},{trim:function(){return dwt(this)}})});var hz=I((H_r,Tve)=>{"use strict";var fwt=xm().end,hwt=lC();Tve.exports=hwt("trimEnd")?function(){return fwt(this)}:"".trimEnd});var Cve=I(()=>{"use strict";var mwt=Q(),Mve=hz();mwt({target:"String",proto:!0,name:"trimEnd",forced:"".trimRight!==Mve},{trimRight:Mve})});var Pve=I(()=>{"use strict";Cve();var gwt=Q(),Ave=hz();gwt({target:"String",proto:!0,name:"trimEnd",forced:"".trimEnd!==Ave},{trimEnd:Ave})});var mz=I((K_r,Ove)=>{"use strict";var vwt=xm().start,ywt=lC();Ove.exports=ywt("trimStart")?function(){return vwt(this)}:"".trimStart});var Nve=I(()=>{"use strict";var _wt=Q(),Dve=mz();_wt({target:"String",proto:!0,name:"trimStart",forced:"".trimLeft!==Dve},{trimLeft:Dve})});var Lve=I(()=>{"use strict";Nve();var bwt=Q(),kve=mz();bwt({target:"String",proto:!0,name:"trimStart",forced:"".trimStart!==kve},{trimStart:kve})});var Es=I((tbr,Rve)=>{"use strict";var xwt=nt(),wwt=oi(),qve=Mr(),Swt=/"/g,Iwt=xwt("".replace);Rve.exports=function(e,t,r,n){var i=qve(wwt(e)),o="<"+t;return r!==""&&(o+=" "+r+"=\""+Iwt(qve(n),Swt,"&quot;")+"\""),o+">"+i+"</"+t+">"}});var Ts=I((rbr,zve)=>{"use strict";var Ewt=ft();zve.exports=function(e){return Ewt(function(){var t=""[e]("\"");return t!==t.toLowerCase()||t.split("\"").length>3})}});var jve=I(()=>{"use strict";var Twt=Q(),Mwt=Es(),Cwt=Ts();Twt({target:"String",proto:!0,forced:Cwt("anchor")},{anchor:function(t){return Mwt(this,"a","name",t)}})});var Fve=I(()=>{"use strict";var Awt=Q(),Pwt=Es(),Owt=Ts();Awt({target:"String",proto:!0,forced:Owt("big")},{big:function(){return Pwt(this,"big","","")}})});var Bve=I(()=>{"use strict";var Dwt=Q(),Nwt=Es(),kwt=Ts();Dwt({target:"String",proto:!0,forced:kwt("blink")},{blink:function(){return Nwt(this,"blink","","")}})});var Uve=I(()=>{"use strict";var Lwt=Q(),qwt=Es(),Rwt=Ts();Lwt({target:"String",proto:!0,forced:Rwt("bold")},{bold:function(){return qwt(this,"b","","")}})});var Vve=I(()=>{"use strict";var zwt=Q(),jwt=Es(),Fwt=Ts();zwt({target:"String",proto:!0,forced:Fwt("fixed")},{fixed:function(){return jwt(this,"tt","","")}})});var $ve=I(()=>{"use strict";var Bwt=Q(),Uwt=Es(),Vwt=Ts();Bwt({target:"String",proto:!0,forced:Vwt("fontcolor")},{fontcolor:function(t){return Uwt(this,"font","color",t)}})});var Hve=I(()=>{"use strict";var $wt=Q(),Hwt=Es(),Wwt=Ts();$wt({target:"String",proto:!0,forced:Wwt("fontsize")},{fontsize:function(t){return Hwt(this,"font","size",t)}})});var Wve=I(()=>{"use strict";var Gwt=Q(),Ywt=Es(),Zwt=Ts();Gwt({target:"String",proto:!0,forced:Zwt("italics")},{italics:function(){return Ywt(this,"i","","")}})});var Gve=I(()=>{"use strict";var Kwt=Q(),Xwt=Es(),Qwt=Ts();Kwt({target:"String",proto:!0,forced:Qwt("link")},{link:function(t){return Xwt(this,"a","href",t)}})});var Yve=I(()=>{"use strict";var Jwt=Q(),e2t=Es(),t2t=Ts();Jwt({target:"String",proto:!0,forced:t2t("small")},{small:function(){return e2t(this,"small","","")}})});var Zve=I(()=>{"use strict";var r2t=Q(),n2t=Es(),i2t=Ts();r2t({target:"String",proto:!0,forced:i2t("strike")},{strike:function(){return n2t(this,"strike","","")}})});var Kve=I(()=>{"use strict";var o2t=Q(),a2t=Es(),s2t=Ts();o2t({target:"String",proto:!0,forced:s2t("sub")},{sub:function(){return a2t(this,"sub","","")}})});var Xve=I(()=>{"use strict";var l2t=Q(),u2t=Es(),c2t=Ts();l2t({target:"String",proto:!0,forced:c2t("sup")},{sup:function(){return u2t(this,"sup","","")}})});var uC=I((Abr,Jve)=>{"use strict";var Qve=Dt(),gz=ft(),d2t=Jb(),p2t=Ur().NATIVE_ARRAY_BUFFER_VIEWS,f2t=Qve.ArrayBuffer,Mm=Qve.Int8Array;Jve.exports=!p2t||!gz(function(){Mm(1)})||!gz(function(){new Mm(-1)})||!d2t(function(e){new Mm,new Mm(null),new Mm(1.5),new Mm(e)},!0)||gz(function(){return new Mm(new f2t(2),1,void 0).length!==1})});var vz=I((Pbr,eye)=>{"use strict";var h2t=dy(),m2t=RangeError;eye.exports=function(e,t){var r=h2t(e);if(r%t)throw new m2t("Wrong offset");return r}});var yz=I((Obr,tye)=>{"use strict";var g2t=Math.round;tye.exports=function(e){var t=g2t(e);return t<0?0:t>255?255:t&255}});var cC=I((Dbr,rye)=>{"use strict";var v2t=bs();rye.exports=function(e){var t=v2t(e);return t==="BigInt64Array"||t==="BigUint64Array"}});var zx=I((Nbr,nye)=>{"use strict";var y2t=Lb(),_2t=TypeError;nye.exports=function(e){var t=y2t(e,"number");if(typeof t=="number")throw new _2t("Can't convert number to bigint");return BigInt(t)}});var _z=I((kbr,iye)=>{"use strict";var b2t=Un(),x2t=jt(),w2t=Sx(),S2t=Hr(),I2t=rn(),E2t=yf(),T2t=oc(),M2t=ZT(),C2t=cC(),A2t=Ur().aTypedArrayConstructor,P2t=zx();iye.exports=function(t){var r=w2t(this),n=S2t(t),i=arguments.length,o=i>1?arguments[1]:void 0,u=o!==void 0,p=T2t(n),h,y,_,E,T,N,R,j;if(p&&!M2t(p))for(R=E2t(n,p),j=R.next,n=[];!(N=x2t(j,R)).done;)n.push(N.value);for(u&&i>2&&(o=b2t(o,arguments[2])),y=I2t(n),_=new(A2t(r))(y),E=C2t(_),h=0;y>h;h++)T=u?o(n[h],h):n[h],_[h]=E?P2t(T):+T;return _}});var dc=I((Lbr,Tz)=>{"use strict";var oye=Q(),gye=Dt(),aye=jt(),O2t=cr(),D2t=uC(),Ux=Ur(),vye=lx(),sye=xa(),N2t=ys(),jx=eo(),k2t=LM(),L2t=_s(),lye=iy(),bz=vz(),q2t=yz(),yye=nc(),Fx=zr(),R2t=bs(),Sz=Er(),z2t=hd(),j2t=ji(),F2t=Vo(),dC=Dl(),B2t=hf().f,uye=_z(),U2t=Fi().forEach,V2t=wf(),$2t=di(),_ye=ti(),bye=So(),cye=xd(),Mz=An(),H2t=vf(),Iz=Mz.get,W2t=Mz.set,G2t=Mz.enforce,xye=_ye.f,Y2t=bye.f,xz=gye.RangeError,wye=vye.ArrayBuffer,Z2t=wye.prototype,K2t=vye.DataView,pC=Ux.NATIVE_ARRAY_BUFFER_VIEWS,dye=Ux.TYPED_ARRAY_TAG,pye=Ux.TypedArray,Bx=Ux.TypedArrayPrototype,Ez=Ux.isTypedArray,fC="BYTES_PER_ELEMENT",wz="Wrong length",hC=function(e,t){$2t(e,t,{configurable:!0,get:function(){return Iz(this)[t]}})},fye=function(e){var t;return F2t(Z2t,e)||(t=R2t(e))==="ArrayBuffer"||t==="SharedArrayBuffer"},Sye=function(e,t){return Ez(e)&&!z2t(t)&&t in e&&k2t(+t)&&t>=0},hye=function(t,r){return r=yye(r),Sye(t,r)?N2t(2,t[r]):Y2t(t,r)},mye=function(t,r,n){return r=yye(r),Sye(t,r)&&Sz(n)&&Fx(n,"value")&&!Fx(n,"get")&&!Fx(n,"set")&&!n.configurable&&(!Fx(n,"writable")||n.writable)&&(!Fx(n,"enumerable")||n.enumerable)?(t[r]=n.value,t):xye(t,r,n)};O2t?(pC||(bye.f=hye,_ye.f=mye,hC(Bx,"buffer"),hC(Bx,"byteOffset"),hC(Bx,"byteLength"),hC(Bx,"length")),oye({target:"Object",stat:!0,forced:!pC},{getOwnPropertyDescriptor:hye,defineProperty:mye}),Tz.exports=function(e,t,r){var n=e.match(/\d+/)[0]/8,i=e+(r?"Clamped":"")+"Array",o="get"+e,u="set"+e,p=gye[i],h=p,y=h&&h.prototype,_={},E=function(j,k){var L=Iz(j);return L.view[o](k*n+L.byteOffset,!0)},T=function(j,k,L){var F=Iz(j);F.view[u](k*n+F.byteOffset,r?q2t(L):L,!0)},N=function(j,k){xye(j,k,{get:function(){return E(this,k)},set:function(L){return T(this,k,L)},enumerable:!0})};pC?D2t&&(h=t(function(j,k,L,F){return sye(j,y),H2t(function(){return Sz(k)?fye(k)?F!==void 0?new p(k,bz(L,n),F):L!==void 0?new p(k,bz(L,n)):new p(k):Ez(k)?cye(h,k):aye(uye,h,k):new p(lye(k))}(),j,h)}),dC&&dC(h,pye),U2t(B2t(p),function(j){j in h||jx(h,j,p[j])}),h.prototype=y):(h=t(function(j,k,L,F){sye(j,y);var G=0,ee=0,ae,ue,ge;if(!Sz(k))ge=lye(k),ue=ge*n,ae=new wye(ue);else if(fye(k)){ae=k,ee=bz(L,n);var Oe=k.byteLength;if(F===void 0){if(Oe%n)throw new xz(wz);if(ue=Oe-ee,ue<0)throw new xz(wz)}else if(ue=L2t(F)*n,ue+ee>Oe)throw new xz(wz);ge=ue/n}else return Ez(k)?cye(h,k):aye(uye,h,k);for(W2t(j,{buffer:ae,byteOffset:ee,byteLength:ue,length:ge,view:new K2t(ae)});G<ge;)N(j,G++)}),dC&&dC(h,pye),y=h.prototype=j2t(Bx)),y.constructor!==h&&jx(y,"constructor",h),G2t(y).TypedArrayConstructor=h,dye&&jx(y,dye,i);var R=h!==p;_[i]=h,oye({global:!0,constructor:!0,forced:R,sham:!pC},_),fC in h||jx(h,fC,n),fC in y||jx(y,fC,n),V2t(i)}):Tz.exports=function(){}});var Iye=I(()=>{"use strict";var X2t=dc();X2t("Float32",function(e){return function(r,n,i){return e(this,r,n,i)}})});var Eye=I(()=>{"use strict";var Q2t=dc();Q2t("Float64",function(e){return function(r,n,i){return e(this,r,n,i)}})});var Tye=I(()=>{"use strict";var J2t=dc();J2t("Int8",function(e){return function(r,n,i){return e(this,r,n,i)}})});var Mye=I(()=>{"use strict";var eSt=dc();eSt("Int16",function(e){return function(r,n,i){return e(this,r,n,i)}})});var Cye=I(()=>{"use strict";var tSt=dc();tSt("Int32",function(e){return function(r,n,i){return e(this,r,n,i)}})});var Aye=I(()=>{"use strict";var rSt=dc();rSt("Uint8",function(e){return function(r,n,i){return e(this,r,n,i)}})});var Pye=I(()=>{"use strict";var nSt=dc();nSt("Uint8",function(e){return function(r,n,i){return e(this,r,n,i)}},!0)});var Oye=I(()=>{"use strict";var iSt=dc();iSt("Uint16",function(e){return function(r,n,i){return e(this,r,n,i)}})});var Dye=I(()=>{"use strict";var oSt=dc();oSt("Uint32",function(e){return function(r,n,i){return e(this,r,n,i)}})});var Cz=I(()=>{"use strict";var Nye=Ur(),aSt=rn(),sSt=ci(),lSt=Nye.aTypedArray,uSt=Nye.exportTypedArrayMethod;uSt("at",function(t){var r=lSt(this),n=aSt(r),i=sSt(t),o=i>=0?i:n+i;return o<0||o>=n?void 0:r[o]})});var Lye=I(()=>{"use strict";var cSt=nt(),kye=Ur(),dSt=Kq(),pSt=cSt(dSt),fSt=kye.aTypedArray,hSt=kye.exportTypedArrayMethod;hSt("copyWithin",function(t,r){return pSt(fSt(this),t,r,arguments.length>2?arguments[2]:void 0)})});var Rye=I(()=>{"use strict";var qye=Ur(),mSt=Fi().every,gSt=qye.aTypedArray,vSt=qye.exportTypedArrayMethod;vSt("every",function(t){return mSt(gSt(this),t,arguments.length>1?arguments[1]:void 0)})});var jye=I(()=>{"use strict";var zye=Ur(),ySt=JT(),_St=zx(),bSt=bs(),xSt=jt(),wSt=nt(),SSt=ft(),ISt=zye.aTypedArray,ESt=zye.exportTypedArrayMethod,TSt=wSt("".slice),MSt=SSt(function(){var e=0;return new Int8Array(2).fill({valueOf:function(){return e++}}),e!==1});ESt("fill",function(t){var r=arguments.length;ISt(this);var n=TSt(bSt(this),0,3)==="Big"?_St(t):+t;return xSt(ySt,this,n,r>1?arguments[1]:void 0,r>2?arguments[2]:void 0)},MSt)});var mC=I((lxr,Fye)=>{"use strict";var CSt=xd(),ASt=Ur().getTypedArrayConstructor;Fye.exports=function(e,t){return CSt(ASt(e),t)}});var Uye=I(()=>{"use strict";var Bye=Ur(),PSt=Fi().filter,OSt=mC(),DSt=Bye.aTypedArray,NSt=Bye.exportTypedArrayMethod;NSt("filter",function(t){var r=PSt(DSt(this),t,arguments.length>1?arguments[1]:void 0);return OSt(this,r)})});var $ye=I(()=>{"use strict";var Vye=Ur(),kSt=Fi().find,LSt=Vye.aTypedArray,qSt=Vye.exportTypedArrayMethod;qSt("find",function(t){return kSt(LSt(this),t,arguments.length>1?arguments[1]:void 0)})});var Wye=I(()=>{"use strict";var Hye=Ur(),RSt=Fi().findIndex,zSt=Hye.aTypedArray,jSt=Hye.exportTypedArrayMethod;jSt("findIndex",function(t){return RSt(zSt(this),t,arguments.length>1?arguments[1]:void 0)})});var Az=I(()=>{"use strict";var Gye=Ur(),FSt=Qb().findLast,BSt=Gye.aTypedArray,USt=Gye.exportTypedArrayMethod;USt("findLast",function(t){return FSt(BSt(this),t,arguments.length>1?arguments[1]:void 0)})});var Pz=I(()=>{"use strict";var Yye=Ur(),VSt=Qb().findLastIndex,$St=Yye.aTypedArray,HSt=Yye.exportTypedArrayMethod;HSt("findLastIndex",function(t){return VSt($St(this),t,arguments.length>1?arguments[1]:void 0)})});var Kye=I(()=>{"use strict";var Zye=Ur(),WSt=Fi().forEach,GSt=Zye.aTypedArray,YSt=Zye.exportTypedArrayMethod;YSt("forEach",function(t){WSt(GSt(this),t,arguments.length>1?arguments[1]:void 0)})});var Xye=I(()=>{"use strict";var ZSt=uC(),KSt=Ur().exportTypedArrayStaticMethod,XSt=_z();KSt("from",XSt,ZSt)});var Jye=I(()=>{"use strict";var Qye=Ur(),QSt=Kv().includes,JSt=Qye.aTypedArray,eIt=Qye.exportTypedArrayMethod;eIt("includes",function(t){return QSt(JSt(this),t,arguments.length>1?arguments[1]:void 0)})});var t0e=I(()=>{"use strict";var e0e=Ur(),tIt=Kv().indexOf,rIt=e0e.aTypedArray,nIt=e0e.exportTypedArrayMethod;nIt("indexOf",function(t){return tIt(rIt(this),t,arguments.length>1?arguments[1]:void 0)})});var a0e=I(()=>{"use strict";var iIt=Dt(),oIt=ft(),Oz=nt(),n0e=Ur(),Dz=rx(),aIt=gr(),Nz=aIt("iterator"),r0e=iIt.Uint8Array,sIt=Oz(Dz.values),lIt=Oz(Dz.keys),uIt=Oz(Dz.entries),kz=n0e.aTypedArray,gC=n0e.exportTypedArrayMethod,Oy=r0e&&r0e.prototype,vC=!oIt(function(){Oy[Nz].call([1])}),i0e=!!Oy&&Oy.values&&Oy[Nz]===Oy.values&&Oy.values.name==="values",o0e=function(){return sIt(kz(this))};gC("entries",function(){return uIt(kz(this))},vC);gC("keys",function(){return lIt(kz(this))},vC);gC("values",o0e,vC||!i0e,{name:"values"});gC(Nz,o0e,vC||!i0e,{name:"values"})});var l0e=I(()=>{"use strict";var s0e=Ur(),cIt=nt(),dIt=s0e.aTypedArray,pIt=s0e.exportTypedArrayMethod,fIt=cIt([].join);pIt("join",function(t){return fIt(dIt(this),t)})});var c0e=I(()=>{"use strict";var u0e=Ur(),hIt=ba(),mIt=pR(),gIt=u0e.aTypedArray,vIt=u0e.exportTypedArrayMethod;vIt("lastIndexOf",function(t){var r=arguments.length;return hIt(mIt,gIt(this),r>1?[t,arguments[1]]:[t])})});var d0e=I(()=>{"use strict";var Lz=Ur(),yIt=Fi().map,_It=Lz.aTypedArray,bIt=Lz.getTypedArrayConstructor,xIt=Lz.exportTypedArrayMethod;xIt("map",function(t){return yIt(_It(this),t,arguments.length>1?arguments[1]:void 0,function(r,n){return new(bIt(r))(n)})})});var f0e=I(()=>{"use strict";var p0e=Ur(),wIt=uC(),SIt=p0e.aTypedArrayConstructor,IIt=p0e.exportTypedArrayStaticMethod;IIt("of",function(){for(var t=0,r=arguments.length,n=new(SIt(this))(r);r>t;)n[t]=arguments[t++];return n},wIt)});var m0e=I(()=>{"use strict";var h0e=Ur(),EIt=nx().left,TIt=h0e.aTypedArray,MIt=h0e.exportTypedArrayMethod;MIt("reduce",function(t){var r=arguments.length;return EIt(TIt(this),t,r,r>1?arguments[1]:void 0)})});var v0e=I(()=>{"use strict";var g0e=Ur(),CIt=nx().right,AIt=g0e.aTypedArray,PIt=g0e.exportTypedArrayMethod;PIt("reduceRight",function(t){var r=arguments.length;return CIt(AIt(this),t,r,r>1?arguments[1]:void 0)})});var _0e=I(()=>{"use strict";var y0e=Ur(),OIt=y0e.aTypedArray,DIt=y0e.exportTypedArrayMethod,NIt=Math.floor;DIt("reverse",function(){for(var t=this,r=OIt(t).length,n=NIt(r/2),i=0,o;i<n;)o=t[i],t[i++]=t[--r],t[r]=o;return t})});var E0e=I(()=>{"use strict";var x0e=Dt(),w0e=jt(),zz=Ur(),kIt=rn(),LIt=vz(),qIt=Hr(),S0e=ft(),RIt=x0e.RangeError,qz=x0e.Int8Array,b0e=qz&&qz.prototype,I0e=b0e&&b0e.set,zIt=zz.aTypedArray,jIt=zz.exportTypedArrayMethod,Rz=!S0e(function(){var e=new Uint8ClampedArray(2);return w0e(I0e,e,{length:1,0:3},1),e[1]!==3}),FIt=Rz&&zz.NATIVE_ARRAY_BUFFER_VIEWS&&S0e(function(){var e=new qz(2);return e.set(1),e.set("2",1),e[0]!==0||e[1]!==2});jIt("set",function(t){zIt(this);var r=LIt(arguments.length>1?arguments[1]:void 0,1),n=qIt(t);if(Rz)return w0e(I0e,this,n,r);var i=this.length,o=kIt(n),u=0;if(o+r>i)throw new RIt("Wrong length");for(;u<o;)this[r+u]=n[u++]},!Rz||FIt)});var T0e=I(()=>{"use strict";var jz=Ur(),BIt=ft(),UIt=xs(),VIt=jz.aTypedArray,$It=jz.getTypedArrayConstructor,HIt=jz.exportTypedArrayMethod,WIt=BIt(function(){new Int8Array(1).slice()});HIt("slice",function(t,r){for(var n=UIt(VIt(this),t,r),i=$It(this),o=0,u=n.length,p=new i(u);u>o;)p[o]=n[o++];return p},WIt)});var C0e=I(()=>{"use strict";var M0e=Ur(),GIt=Fi().some,YIt=M0e.aTypedArray,ZIt=M0e.exportTypedArrayMethod;ZIt("some",function(t){return GIt(YIt(this),t,arguments.length>1?arguments[1]:void 0)})});var k0e=I(()=>{"use strict";var KIt=Dt(),XIt=gd(),Fz=ft(),QIt=wr(),JIt=sM(),N0e=Ur(),A0e=mR(),eEt=gR(),P0e=rc(),O0e=lM(),tEt=N0e.aTypedArray,rEt=N0e.exportTypedArrayMethod,Vx=KIt.Uint16Array,Dy=Vx&&XIt(Vx.prototype.sort),nEt=!!Dy&&!(Fz(function(){Dy(new Vx(2),null)})&&Fz(function(){Dy(new Vx(2),{})})),D0e=!!Dy&&!Fz(function(){if(P0e)return P0e<74;if(A0e)return A0e<67;if(eEt)return!0;if(O0e)return O0e<602;var e=new Vx(516),t=Array(516),r,n;for(r=0;r<516;r++)n=r%4,e[r]=515-r,t[r]=r-2*n+3;for(Dy(e,function(i,o){return(i/4|0)-(o/4|0)}),r=0;r<516;r++)if(e[r]!==t[r])return!0}),iEt=function(e){return function(t,r){return e!==void 0?+e(t,r)||0:r!==r?-1:t!==t?1:t===0&&r===0?1/t>0&&1/r<0?1:-1:t>r}};rEt("sort",function(t){return t!==void 0&&QIt(t),D0e?Dy(this,t):JIt(tEt(this),iEt(t))},!D0e||nEt)});var q0e=I(()=>{"use strict";var Bz=Ur(),oEt=_s(),L0e=vu(),aEt=Bz.aTypedArray,sEt=Bz.getTypedArrayConstructor,lEt=Bz.exportTypedArrayMethod;lEt("subarray",function(t,r){var n=aEt(this),i=n.length,o=L0e(t,i),u=sEt(n);return new u(n.buffer,n.byteOffset+o*n.BYTES_PER_ELEMENT,oEt((r===void 0?i:L0e(r,i))-o))})});var B0e=I(()=>{"use strict";var uEt=Dt(),cEt=ba(),j0e=Ur(),Uz=ft(),R0e=xs(),yC=uEt.Int8Array,z0e=j0e.aTypedArray,dEt=j0e.exportTypedArrayMethod,F0e=[].toLocaleString,pEt=!!yC&&Uz(function(){F0e.call(new yC(1))}),fEt=Uz(function(){return[1,2].toLocaleString()!==new yC([1,2]).toLocaleString()})||!Uz(function(){yC.prototype.toLocaleString.call([1,2])});dEt("toLocaleString",function(){return cEt(F0e,pEt?R0e(z0e(this)):z0e(this),R0e(arguments))},fEt)});var $z=I(()=>{"use strict";var hEt=_R(),Vz=Ur(),mEt=Vz.aTypedArray,gEt=Vz.exportTypedArrayMethod,vEt=Vz.getTypedArrayConstructor;gEt("toReversed",function(){return hEt(mEt(this),vEt(this))})});var Hz=I(()=>{"use strict";var _C=Ur(),yEt=nt(),_Et=wr(),bEt=xd(),xEt=_C.aTypedArray,wEt=_C.getTypedArrayConstructor,SEt=_C.exportTypedArrayMethod,IEt=yEt(_C.TypedArrayPrototype.sort);SEt("toSorted",function(t){t!==void 0&&_Et(t);var r=xEt(this),n=bEt(wEt(r),r);return IEt(n,t)})});var V0e=I(()=>{"use strict";var EEt=Ur().exportTypedArrayMethod,TEt=ft(),MEt=Dt(),CEt=nt(),U0e=MEt.Uint8Array,AEt=U0e&&U0e.prototype||{},bC=[].toString,PEt=CEt([].join);TEt(function(){bC.call({})})&&(bC=function(){return PEt(this)});var OEt=AEt.toString!==bC;EEt("toString",bC,OEt)});var Gz=I(()=>{"use strict";var DEt=IR(),Wz=Ur(),NEt=cC(),kEt=ci(),LEt=zx(),qEt=Wz.aTypedArray,REt=Wz.getTypedArrayConstructor,zEt=Wz.exportTypedArrayMethod,jEt=!!function(){try{new Int8Array(1).with(2,{valueOf:function(){throw 8}})}catch(e){return e===8}}();zEt("with",function(e,t){var r=qEt(this),n=kEt(e),i=NEt(r)?LEt(t):+t;return DEt(r,REt(r),n,i)},!jEt)});var Y0e=I(()=>{"use strict";var FEt=Q(),Yz=nt(),BEt=Mr(),$0e=String.fromCharCode,H0e=Yz("".charAt),W0e=Yz(/./.exec),G0e=Yz("".slice),UEt=/^[\da-f]{2}$/i,VEt=/^[\da-f]{4}$/i;FEt({global:!0},{unescape:function(t){for(var r=BEt(t),n="",i=r.length,o=0,u,p;o<i;){if(u=H0e(r,o++),u==="%"){if(H0e(r,o)==="u"){if(p=G0e(r,o+1,o+5),W0e(VEt,p)){n+=$0e(parseInt(p,16)),o+=5;continue}}else if(p=G0e(r,o,o+2),W0e(UEt,p)){n+=$0e(parseInt(p,16)),o+=2;continue}}n+=u}return n}})});var Xz=I((dwr,e1e)=>{"use strict";var $Et=nt(),Z0e=Ll(),xC=Af().getWeakData,HEt=xa(),WEt=Rt(),GEt=Qi(),Zz=Er(),YEt=Ti(),X0e=Fi(),K0e=zr(),Q0e=An(),ZEt=Q0e.set,KEt=Q0e.getterFor,XEt=X0e.find,QEt=X0e.findIndex,JEt=$Et([].splice),eTt=0,wC=function(e){return e.frozen||(e.frozen=new J0e)},J0e=function(){this.entries=[]},Kz=function(e,t){return XEt(e.entries,function(r){return r[0]===t})};J0e.prototype={get:function(e){var t=Kz(this,e);if(t)return t[1]},has:function(e){return!!Kz(this,e)},set:function(e,t){var r=Kz(this,e);r?r[1]=t:this.entries.push([e,t])},delete:function(e){var t=QEt(this.entries,function(r){return r[0]===e});return~t&&JEt(this.entries,t,1),!!~t}};e1e.exports={getConstructor:function(e,t,r,n){var i=e(function(h,y){HEt(h,o),ZEt(h,{type:t,id:eTt++,frozen:null}),GEt(y)||YEt(y,h[n],{that:h,AS_ENTRIES:r})}),o=i.prototype,u=KEt(t),p=function(h,y,_){var E=u(h),T=xC(WEt(y),!0);return T===!0?wC(E).set(y,_):T[E.id]=_,h};return Z0e(o,{delete:function(h){var y=u(this);if(!Zz(h))return!1;var _=xC(h);return _===!0?wC(y).delete(h):_&&K0e(_,y.id)&&delete _[y.id]},has:function(y){var _=u(this);if(!Zz(y))return!1;var E=xC(y);return E===!0?wC(_).has(y):E&&K0e(E,_.id)}}),Z0e(o,r?{get:function(y){var _=u(this);if(Zz(y)){var E=xC(y);if(E===!0)return wC(_).get(y);if(E)return E[_.id]}},set:function(y,_){return p(this,y,_)}}:{add:function(y){return p(this,y,!0)}}),i}}});var l1e=I(()=>{"use strict";var tTt=Td(),t1e=Dt(),TC=nt(),r1e=Ll(),rTt=Af(),nTt=fx(),n1e=Xz(),SC=Er(),IC=An().enforce,iTt=ft(),oTt=QL(),Wx=Object,aTt=Array.isArray,EC=Wx.isExtensible,i1e=Wx.isFrozen,sTt=Wx.isSealed,o1e=Wx.freeze,lTt=Wx.seal,uTt=!t1e.ActiveXObject&&"ActiveXObject"in t1e,$x,a1e=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},s1e=nTt("WeakMap",a1e,n1e),Ny=s1e.prototype,MC=TC(Ny.set),cTt=function(){return tTt&&iTt(function(){var e=o1e([]);return MC(new s1e,e,1),!i1e(e)})};oTt&&(uTt?($x=n1e.getConstructor(a1e,"WeakMap",!0),rTt.enable(),Qz=TC(Ny.delete),Hx=TC(Ny.has),Jz=TC(Ny.get),r1e(Ny,{delete:function(e){if(SC(e)&&!EC(e)){var t=IC(this);return t.frozen||(t.frozen=new $x),Qz(this,e)||t.frozen.delete(e)}return Qz(this,e)},has:function(t){if(SC(t)&&!EC(t)){var r=IC(this);return r.frozen||(r.frozen=new $x),Hx(this,t)||r.frozen.has(t)}return Hx(this,t)},get:function(t){if(SC(t)&&!EC(t)){var r=IC(this);return r.frozen||(r.frozen=new $x),Hx(this,t)?Jz(this,t):r.frozen.get(t)}return Jz(this,t)},set:function(t,r){if(SC(t)&&!EC(t)){var n=IC(this);n.frozen||(n.frozen=new $x),Hx(this,t)?MC(this,t,r):n.frozen.set(t,r)}else MC(this,t,r);return this}})):cTt()&&r1e(Ny,{set:function(t,r){var n;return aTt(t)&&(i1e(t)?n=o1e:sTt(t)&&(n=lTt)),MC(this,t,r),n&&n(t),this}}));var Qz,Hx,Jz});var CC=I(()=>{"use strict";l1e()});var u1e=I(()=>{"use strict";var dTt=fx(),pTt=Xz();dTt("WeakSet",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},pTt)});var c1e=I(()=>{"use strict";u1e()});var d1e=I(()=>{"use strict";$q()});var h1e=I(()=>{"use strict";var fTt=Q(),hTt=Dt(),mTt=Vo(),p1e=to(),PC=Dl(),gTt=lm(),f1e=ji(),AC=eo(),ej=ys(),vTt=HT(),yTt=fm(),_Tt=gr(),bTt=ft(),xTt=$r(),ky=hTt.SuppressedError,wTt=_Tt("toStringTag"),OC=Error,STt=!!ky&&ky.length!==3,ITt=!!ky&&bTt(function(){return new ky(1,2,3,{cause:4}).cause===4}),DC=STt||ITt,Cm=function(t,r,n){var i=mTt(Gx,this),o;return PC?o=DC&&(!i||p1e(this)===Gx)?new ky:PC(new OC,i?p1e(this):Gx):(o=i?this:f1e(Gx),AC(o,wTt,"Error")),n!==void 0&&AC(o,"message",yTt(n)),vTt(o,Cm,o.stack,1),AC(o,"error",t),AC(o,"suppressed",r),o};PC?PC(Cm,OC):gTt(Cm,OC,{name:!0});var Gx=Cm.prototype=DC?ky.prototype:f1e(OC.prototype,{constructor:ej(1,Cm),message:ej(1,""),name:ej(1,"SuppressedError")});DC&&!xTt&&(Gx.constructor=Cm);fTt({global:!0,constructor:!0,arity:3,forced:DC},{SuppressedError:Cm})});var Ly=I((Iwr,w1e)=>{"use strict";var _1e=Dt(),b1e=kb(),x1e=kr(),ETt=ji(),NC=to(),TTt=Ln(),MTt=gr(),CTt=$r(),m1e="USE_FUNCTION_CONSTRUCTOR",g1e=MTt("asyncIterator"),v1e=_1e.AsyncIterator,y1e=b1e.AsyncIteratorPrototype,pc,tj;if(y1e)pc=y1e;else if(x1e(v1e))pc=v1e.prototype;else if(b1e[m1e]||_1e[m1e])try{tj=NC(NC(NC(Function("return async function*(){}()")()))),NC(tj)===Object.prototype&&(pc=tj)}catch(e){}pc?CTt&&(pc=ETt(pc)):pc={};x1e(pc[g1e])||TTt(pc,g1e,function(){return this});w1e.exports=pc});var Yx=I((Ewr,O1e)=>{"use strict";var S1e=jt(),I1e=Rt(),ATt=ji(),PTt=zi(),OTt=Ll(),M1e=An(),DTt=Ir(),NTt=Ly(),C1e=Eo(),rj=DTt("Promise"),A1e="AsyncFromSyncIterator",kTt=M1e.set,E1e=M1e.getterFor(A1e),T1e=function(e,t,r){var n=e.done;rj.resolve(e.value).then(function(i){t(C1e(i,n))},r)},P1e=function(t){t.type=A1e,kTt(this,t)};P1e.prototype=OTt(ATt(NTt),{next:function(){var t=E1e(this);return new rj(function(r,n){var i=I1e(S1e(t.next,t.iterator));T1e(i,r,n)})},return:function(){var e=E1e(this).iterator;return new rj(function(t,r){var n=PTt(e,"return");if(n===void 0)return t(C1e(void 0,!0));var i=I1e(S1e(n,e));T1e(i,t,r)})}});O1e.exports=P1e});var N1e=I((Twr,D1e)=>{"use strict";var LTt=jt(),qTt=Yx(),RTt=Rt(),zTt=yf(),jTt=_i(),FTt=zi(),BTt=gr(),UTt=BTt("asyncIterator");D1e.exports=function(e,t){var r=arguments.length<2?FTt(e,UTt):t;return r?RTt(LTt(r,e)):new qTt(jTt(zTt(e)))}});var qy=I((Mwr,k1e)=>{"use strict";var VTt=jt(),$Tt=Ir(),HTt=zi();k1e.exports=function(e,t,r,n){try{var i=HTt(e,"return");if(i)return $Tt("Promise").resolve(VTt(i,e)).then(function(){t(r)},function(o){n(o)})}catch(o){return n(o)}t(r)}});var Am=I((Cwr,L1e)=>{"use strict";var WTt=jt(),GTt=wr(),nj=Rt(),YTt=Er(),ZTt=_f(),KTt=Ir(),XTt=_i(),ij=qy(),Zx=function(e){var t=e===0,r=e===1,n=e===2,i=e===3;return function(o,u,p){nj(o);var h=u!==void 0;(h||!t)&&GTt(u);var y=XTt(o),_=KTt("Promise"),E=y.iterator,T=y.next,N=0;return new _(function(R,j){var k=function(F){ij(E,j,F,j)},L=function(){try{if(h)try{ZTt(N)}catch(F){k(F)}_.resolve(nj(WTt(T,E))).then(function(F){try{if(nj(F).done)t?(p.length=N,R(p)):R(i?!1:n||void 0);else{var G=F.value;try{if(h){var ee=u(G,N),ae=function(ue){if(r)L();else if(n)ue?L():ij(E,R,!1,j);else if(t)try{p[N++]=ue,L()}catch(ge){k(ge)}else ue?ij(E,R,i||G,j):L()};YTt(ee)?_.resolve(ee).then(ae,k):ae(ee)}else p[N++]=G,L()}catch(ue){k(ue)}}}catch(ue){j(ue)}},j)}catch(F){j(F)}};L()})}};L1e.exports={toArray:Zx(0),forEach:Zx(1),every:Zx(2),some:Zx(3),find:Zx(4)}});var oj=I((Awr,j1e)=>{"use strict";var QTt=Un(),q1e=nt(),JTt=Hr(),eMt=_u(),tMt=N1e(),rMt=yf(),nMt=_i(),iMt=oc(),oMt=zi(),aMt=Ir(),sMt=xR(),lMt=gr(),uMt=Yx(),cMt=Am().toArray,dMt=lMt("asyncIterator"),R1e=q1e(sMt("Array","values")),pMt=q1e(R1e([]).next),fMt=function(){return new z1e(this)},z1e=function(e){this.iterator=R1e(e)};z1e.prototype.next=function(){return pMt(this.iterator)};j1e.exports=function(t){var r=this,n=arguments.length,i=n>1?arguments[1]:void 0,o=n>2?arguments[2]:void 0;return new(aMt("Promise"))(function(u){var p=JTt(t);i!==void 0&&(i=QTt(i,o));var h=oMt(p,dMt),y=h?void 0:iMt(p)||fMt,_=eMt(r)?new r:[],E=h?tMt(p,h):new uMt(nMt(rMt(p,y)));u(cMt(E,i,_))})}});var B1e=I(()=>{"use strict";var hMt=Q(),mMt=oj(),gMt=ft(),F1e=Array.fromAsync,vMt=!F1e||gMt(function(){var e=0;return F1e.call(function(){return e++,[]},{length:0}),e!==1});hMt({target:"Array",stat:!0,forced:vMt},{fromAsync:mMt})});var U1e=I(()=>{"use strict";Yq()});var V1e=I(()=>{"use strict";var yMt=Q(),_Mt=Fi().filterReject,bMt=Mi();yMt({target:"Array",proto:!0,forced:!0},{filterOut:function(t){return _Mt(this,t,arguments.length>1?arguments[1]:void 0)}});bMt("filterOut")});var $1e=I(()=>{"use strict";var xMt=Q(),wMt=Fi().filterReject,SMt=Mi();xMt({target:"Array",proto:!0,forced:!0},{filterReject:function(t){return wMt(this,t,arguments.length>1?arguments[1]:void 0)}});SMt("filterReject")});var H1e=I(()=>{"use strict";Jq()});var W1e=I(()=>{"use strict";eR()});var kC=I((Uwr,G1e)=>{"use strict";var IMt=Un(),EMt=nt(),TMt=fd(),MMt=Hr(),CMt=nc(),AMt=rn(),PMt=ji(),OMt=xd(),DMt=Array,NMt=EMt([].push);G1e.exports=function(e,t,r,n){for(var i=MMt(e),o=TMt(i),u=IMt(t,r),p=PMt(null),h=AMt(o),y=0,_,E,T;h>y;y++)T=o[y],E=CMt(u(T,y,i)),E in p?NMt(p[E],T):p[E]=[T];if(n&&(_=n(i),_!==DMt))for(E in p)p[E]=OMt(_,p[E]);return p}});var Y1e=I(()=>{"use strict";var kMt=Q(),LMt=kC(),qMt=Mi();kMt({target:"Array",proto:!0},{group:function(t){var r=arguments.length>1?arguments[1]:void 0;return LMt(this,t,r)}});qMt("group")});var Z1e=I(()=>{"use strict";var RMt=Q(),zMt=kC(),jMt=kl(),FMt=Mi();RMt({target:"Array",proto:!0,forced:!jMt("groupBy")},{groupBy:function(t){var r=arguments.length>1?arguments[1]:void 0;return zMt(this,t,r)}});FMt("groupBy")});var aj=I((Gwr,K1e)=>{"use strict";var BMt=Un(),UMt=nt(),VMt=fd(),$Mt=Hr(),HMt=rn(),LC=uo(),WMt=LC.Map,GMt=LC.get,YMt=LC.has,ZMt=LC.set,KMt=UMt([].push);K1e.exports=function(t){for(var r=$Mt(this),n=VMt(r),i=BMt(t,arguments.length>1?arguments[1]:void 0),o=new WMt,u=HMt(n),p=0,h,y;u>p;p++)y=n[p],h=i(y,p,r),YMt(o,h)?KMt(GMt(o,h),y):ZMt(o,h,[y]);return o}});var X1e=I(()=>{"use strict";var XMt=Q(),QMt=kl(),JMt=Mi(),eCt=aj(),tCt=$r();XMt({target:"Array",proto:!0,name:"groupToMap",forced:tCt||!QMt("groupByToMap")},{groupByToMap:eCt});JMt("groupByToMap")});var Q1e=I(()=>{"use strict";var rCt=Q(),nCt=Mi(),iCt=aj(),oCt=$r();rCt({target:"Array",proto:!0,forced:oCt},{groupToMap:iCt});nCt("groupToMap")});var t_e=I(()=>{"use strict";var aCt=Q(),sCt=yu(),J1e=Object.isFrozen,e_e=function(e,t){if(!J1e||!sCt(e)||!J1e(e))return!1;for(var r=0,n=e.length,i;r<n;)if(i=e[r++],!(typeof i=="string"||t&&i===void 0))return!1;return n!==0};aCt({target:"Array",stat:!0,sham:!0,forced:!0},{isTemplateObject:function(t){if(!e_e(t,!0))return!1;var r=t.raw;return r.length===t.length&&e_e(r,!1)}})});var r_e=I(()=>{"use strict";var lCt=cr(),uCt=Mi(),cCt=Hr(),dCt=rn(),pCt=di();lCt&&(pCt(Array.prototype,"lastIndex",{configurable:!0,get:function(){var t=cCt(this),r=dCt(t);return r===0?0:r-1}}),uCt("lastIndex"))});var o_e=I(()=>{"use strict";var fCt=cr(),hCt=Mi(),n_e=Hr(),i_e=rn(),mCt=di();fCt&&(mCt(Array.prototype,"lastItem",{configurable:!0,get:function(){var t=n_e(this),r=i_e(t);return r===0?void 0:t[r-1]},set:function(t){var r=n_e(this),n=i_e(r);return r[n===0?0:n-1]=t}}),hCt("lastItem"))});var a_e=I(()=>{"use strict";bR()});var s_e=I(()=>{"use strict";wR()});var l_e=I(()=>{"use strict";SR()});var ql=I((c2r,f_e)=>{"use strict";var u_e=nt(),gCt=Cd(),c_e=uo(),vCt=c_e.Map,d_e=c_e.proto,yCt=u_e(d_e.forEach),p_e=u_e(d_e.entries),_Ct=p_e(new vCt).next;f_e.exports=function(e,t,r){return r?gCt({iterator:p_e(e),next:_Ct},function(n){return t(n[1],n[0])}):yCt(e,t)}});var qC=I((d2r,h_e)=>{"use strict";var bCt=nt(),xCt=wr(),wCt=Qi(),SCt=rn(),ICt=Hr(),sj=uo(),ECt=ql(),TCt=sj.Map,MCt=sj.has,CCt=sj.set,ACt=bCt([].push);h_e.exports=function(t){var r=ICt(this),n=SCt(r),i=[],o=new TCt,u=wCt(t)?function(_){return _}:xCt(t),p,h,y;for(p=0;p<n;p++)h=r[p],y=u(h),MCt(o,y)||CCt(o,y,h);return ECt(o,function(_){ACt(i,_)}),i}});var m_e=I(()=>{"use strict";var PCt=Q(),OCt=Mi(),DCt=qC();PCt({target:"Array",proto:!0,forced:!0},{uniqueBy:DCt});OCt("uniqueBy")});var g_e=I(()=>{"use strict";ER()});var v_e=I(()=>{"use strict";WR()});var y_e=I(()=>{"use strict";s8()});var b_e=I(()=>{"use strict";l8()});var uj=I((w2r,E_e)=>{"use strict";var NCt=jt(),kCt=nt(),LCt=Un(),qCt=Rt(),RCt=wr(),S_e=Qi(),lj=zi(),I_e=gr(),zCt=I_e("asyncDispose"),x_e=I_e("dispose"),jCt=kCt([].push),FCt=function(e,t){if(t==="async-dispose"){var r=lj(e,zCt);return r!==void 0||(r=lj(e,x_e),r===void 0)?r:function(){NCt(r,this)}}return lj(e,x_e)},w_e=function(e,t,r){return arguments.length<3&&!S_e(e)&&(r=RCt(FCt(qCt(e),t))),r===void 0?function(){}:LCt(r,e)};E_e.exports=function(e,t,r,n){var i;if(arguments.length<4){if(S_e(t)&&r==="sync-dispose")return;i=w_e(t,r)}else i=w_e(void 0,r,n);jCt(e.stack,i)}});var D_e=I(()=>{"use strict";var BCt=Q(),zC=cr(),C_e=Ir(),T_e=wr(),UCt=xa(),A_e=Ln(),VCt=Ll(),$Ct=di(),P_e=gr(),O_e=An(),cj=uj(),M_e=C_e("Promise"),HCt=C_e("SuppressedError"),WCt=ReferenceError,GCt=P_e("asyncDispose"),YCt=P_e("toStringTag"),FC="AsyncDisposableStack",ZCt=O_e.set,jC=O_e.getterFor(FC),dj="async-dispose",Kx="disposed",KCt="pending",RC=function(e){var t=jC(e);if(t.state===Kx)throw new WCt(FC+" already disposed");return t},pj=function(){ZCt(UCt(this,Ry),{type:FC,state:KCt,stack:[]}),zC||(this.disposed=!1)},Ry=pj.prototype;VCt(Ry,{disposeAsync:function(){var t=this;return new M_e(function(r,n){var i=jC(t);if(i.state===Kx)return r(void 0);i.state=Kx,zC||(t.disposed=!0);var o=i.stack,u=o.length,p=!1,h,y=function(E){p?h=new HCt(E,h):(p=!0,h=E),_()},_=function(){if(u){var E=o[--u];o[u]=null;try{M_e.resolve(E()).then(_,y)}catch(T){y(T)}}else i.stack=null,p?n(h):r(void 0)};_()})},use:function(t){return cj(RC(this),t,dj),t},adopt:function(t,r){var n=RC(this);return T_e(r),cj(n,void 0,dj,function(){return r(t)}),t},defer:function(t){var r=RC(this);T_e(t),cj(r,void 0,dj,t)},move:function(){var t=RC(this),r=new pj;return jC(r).stack=t.stack,t.stack=[],t.state=Kx,zC||(this.disposed=!0),r}});zC&&$Ct(Ry,"disposed",{configurable:!0,get:function(){return jC(this).state===Kx}});A_e(Ry,GCt,Ry.disposeAsync,{name:"disposeAsync"});A_e(Ry,YCt,FC,{nonWritable:!0});BCt({global:!0,constructor:!0},{AsyncDisposableStack:pj})});var R_e=I(()=>{"use strict";var XCt=Q(),QCt=xa(),JCt=to(),k_e=eo(),L_e=zr(),e5t=gr(),qf=Ly(),q_e=$r(),N_e=e5t("toStringTag"),t5t=TypeError,fj=function(){if(QCt(this,qf),JCt(this)===qf)throw new t5t("Abstract class AsyncIterator not directly constructable")};fj.prototype=qf;L_e(qf,N_e)||k_e(qf,N_e,"AsyncIterator");(q_e||!L_e(qf,"constructor")||qf.constructor===Object)&&k_e(qf,"constructor",fj);XCt({global:!0,constructor:!0,forced:q_e},{AsyncIterator:fj})});var Pm=I((M2r,H_e)=>{"use strict";var r5t=jt(),BC=Pf(),z_e=Rt(),n5t=ji(),i5t=eo(),o5t=Ll(),a5t=gr(),F_e=An(),s5t=Ir(),l5t=zi(),u5t=Ly(),hj=Eo(),j_e=_d(),fc=s5t("Promise"),c5t=a5t("toStringTag"),B_e="AsyncIteratorHelper",U_e="WrapForValidAsyncIterator",d5t=F_e.set,V_e=function(e){var t=!e,r=F_e.getterFor(e?U_e:B_e),n=function(i){var o=BC(function(){return r(i)}),u=o.error,p=o.value;return u||t&&p.done?{exit:!0,value:u?fc.reject(p):fc.resolve(hj(void 0,!0))}:{exit:!1,value:p}};return o5t(n5t(u5t),{next:function(){var o=n(this),u=o.value;if(o.exit)return u;var p=BC(function(){return z_e(u.nextHandler(fc))}),h=p.error,y=p.value;return h&&(u.done=!0),h?fc.reject(y):fc.resolve(y)},return:function(){var i=n(this),o=i.value;if(i.exit)return o;o.done=!0;var u=o.iterator,p,h,y=BC(function(){if(o.inner)try{j_e(o.inner.iterator,"normal")}catch(_){return j_e(u,"throw",_)}return l5t(u,"return")});return p=h=y.value,y.error?fc.reject(h):p===void 0?fc.resolve(hj(void 0,!0)):(y=BC(function(){return r5t(p,u)}),h=y.value,y.error?fc.reject(h):e?fc.resolve(h):fc.resolve(h).then(function(_){return z_e(_),hj(void 0,!0)}))}})},p5t=V_e(!0),$_e=V_e(!1);i5t($_e,c5t,"Async Iterator Helper");H_e.exports=function(e,t){var r=function(i,o){o?(o.iterator=i.iterator,o.next=i.next):o=i,o.type=t?U_e:B_e,o.nextHandler=e,o.counter=0,o.done=!1,d5t(this,o)};return r.prototype=t?p5t:$_e,r}});var gj=I((C2r,G_e)=>{"use strict";var f5t=jt(),h5t=wr(),mj=Rt(),m5t=Er(),g5t=_i(),v5t=Pm(),W_e=Eo(),y5t=qy(),_5t=v5t(function(e){var t=this,r=t.iterator,n=t.mapper;return new e(function(i,o){var u=function(h){t.done=!0,o(h)},p=function(h){y5t(r,u,h,u)};e.resolve(mj(f5t(t.next,r))).then(function(h){try{if(mj(h).done)t.done=!0,i(W_e(void 0,!0));else{var y=h.value;try{var _=n(y,t.counter++),E=function(T){i(W_e(T,!1))};m5t(_)?e.resolve(_).then(E,p):E(_)}catch(T){p(T)}}}catch(T){u(T)}},u)})});G_e.exports=function(t){return mj(this),h5t(t),new _5t(g5t(this),{mapper:t})}});var vj=I((A2r,Y_e)=>{"use strict";var b5t=jt(),x5t=gj(),w5t=function(e,t){return[t,e]};Y_e.exports=function(){return b5t(x5t,this,w5t)}});var Z_e=I(()=>{"use strict";var S5t=Q(),I5t=vj();S5t({target:"AsyncIterator",name:"indexed",proto:!0,real:!0,forced:!0},{asIndexedPairs:I5t})});var J_e=I(()=>{"use strict";var E5t=jt(),T5t=Ln(),M5t=Ir(),C5t=zi(),A5t=zr(),P5t=gr(),K_e=Ly(),X_e=P5t("asyncDispose"),Q_e=M5t("Promise");A5t(K_e,X_e)||T5t(K_e,X_e,function(){var e=this;return new Q_e(function(t,r){var n=C5t(e,"return");n?Q_e.resolve(E5t(n,e)).then(function(){t(void 0)},r):t(void 0)})})});var tbe=I(()=>{"use strict";var O5t=Q(),D5t=jt(),yj=Rt(),N5t=_i(),k5t=px(),L5t=dy(),q5t=Pm(),ebe=Eo(),R5t=$r(),z5t=q5t(function(e){var t=this;return new e(function(r,n){var i=function(u){t.done=!0,n(u)},o=function(){try{e.resolve(yj(D5t(t.next,t.iterator))).then(function(u){try{yj(u).done?(t.done=!0,r(ebe(void 0,!0))):t.remaining?(t.remaining--,o()):r(ebe(u.value,!1))}catch(p){i(p)}},i)}catch(u){i(u)}};o()})});O5t({target:"AsyncIterator",proto:!0,real:!0,forced:R5t},{drop:function(t){yj(this);var r=L5t(k5t(+t));return new z5t(N5t(this),{remaining:r})}})});var rbe=I(()=>{"use strict";var j5t=Q(),F5t=Am().every;j5t({target:"AsyncIterator",proto:!0,real:!0},{every:function(t){return F5t(this,t)}})});var ibe=I(()=>{"use strict";var B5t=Q(),U5t=jt(),V5t=wr(),_j=Rt(),$5t=Er(),H5t=_i(),W5t=Pm(),nbe=Eo(),G5t=qy(),Y5t=$r(),Z5t=W5t(function(e){var t=this,r=t.iterator,n=t.predicate;return new e(function(i,o){var u=function(y){t.done=!0,o(y)},p=function(y){G5t(r,u,y,u)},h=function(){try{e.resolve(_j(U5t(t.next,r))).then(function(y){try{if(_j(y).done)t.done=!0,i(nbe(void 0,!0));else{var _=y.value;try{var E=n(_,t.counter++),T=function(N){N?i(nbe(_,!1)):h()};$5t(E)?e.resolve(E).then(T,p):T(E)}catch(N){p(N)}}}catch(N){u(N)}},u)}catch(y){u(y)}};h()})});B5t({target:"AsyncIterator",proto:!0,real:!0,forced:Y5t},{filter:function(t){return _j(this),V5t(t),new Z5t(H5t(this),{predicate:t})}})});var obe=I(()=>{"use strict";var K5t=Q(),X5t=Am().find;K5t({target:"AsyncIterator",proto:!0,real:!0},{find:function(t){return X5t(this,t)}})});var bj=I((U2r,lbe)=>{"use strict";var Q5t=jt(),J5t=kr(),abe=Rt(),sbe=_i(),eAt=oc(),tAt=zi(),rAt=gr(),nAt=Yx(),iAt=rAt("asyncIterator");lbe.exports=function(e){var t=abe(e),r=!0,n=tAt(t,iAt),i;return J5t(n)||(n=eAt(t),r=!1),n!==void 0?i=Q5t(n,t):(i=t,r=!0),abe(i),sbe(r?i:new nAt(sbe(i)))}});var dbe=I(()=>{"use strict";var oAt=Q(),ube=jt(),aAt=wr(),Xx=Rt(),sAt=Er(),lAt=_i(),uAt=Pm(),cbe=Eo(),cAt=bj(),dAt=qy(),pAt=$r(),fAt=uAt(function(e){var t=this,r=t.iterator,n=t.mapper;return new e(function(i,o){var u=function(_){t.done=!0,o(_)},p=function(_){dAt(r,u,_,u)},h=function(){try{e.resolve(Xx(ube(t.next,r))).then(function(_){try{if(Xx(_).done)t.done=!0,i(cbe(void 0,!0));else{var E=_.value;try{var T=n(E,t.counter++),N=function(R){try{t.inner=cAt(R),y()}catch(j){p(j)}};sAt(T)?e.resolve(T).then(N,p):N(T)}catch(R){p(R)}}}catch(R){u(R)}},u)}catch(_){u(_)}},y=function(){var _=t.inner;if(_)try{e.resolve(Xx(ube(_.next,_.iterator))).then(function(E){try{Xx(E).done?(t.inner=null,h()):i(cbe(E.value,!1))}catch(T){p(T)}},p)}catch(E){p(E)}else h()};y()})});oAt({target:"AsyncIterator",proto:!0,real:!0,forced:pAt},{flatMap:function(t){return Xx(this),aAt(t),new fAt(lAt(this),{mapper:t,inner:null})}})});var pbe=I(()=>{"use strict";var hAt=Q(),mAt=Am().forEach;hAt({target:"AsyncIterator",proto:!0,real:!0},{forEach:function(t){return mAt(this,t)}})});var xj=I((G2r,fbe)=>{"use strict";var gAt=jt(),vAt=Pm();fbe.exports=vAt(function(){return gAt(this.next,this.iterator)},!0)});var hbe=I(()=>{"use strict";var yAt=Q(),_At=Hr(),bAt=Vo(),xAt=bj(),wAt=Ly(),SAt=xj(),IAt=$r();yAt({target:"AsyncIterator",stat:!0,forced:IAt},{from:function(t){var r=xAt(typeof t=="string"?_At(t):t);return bAt(wAt,r.iterator)?r.iterator:new SAt(r)}})});var mbe=I(()=>{"use strict";var EAt=Q(),TAt=vj();EAt({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{indexed:TAt})});var gbe=I(()=>{"use strict";var MAt=Q(),CAt=gj(),AAt=$r();MAt({target:"AsyncIterator",proto:!0,real:!0,forced:AAt},{map:CAt})});var vbe=I(()=>{"use strict";var PAt=Q(),OAt=jt(),DAt=wr(),wj=Rt(),NAt=Er(),kAt=Ir(),LAt=_i(),qAt=qy(),Sj=kAt("Promise"),RAt=TypeError;PAt({target:"AsyncIterator",proto:!0,real:!0},{reduce:function(t){wj(this),DAt(t);var r=LAt(this),n=r.iterator,i=r.next,o=arguments.length<2,u=o?void 0:arguments[1],p=0;return new Sj(function(h,y){var _=function(T){qAt(n,y,T,y)},E=function(){try{Sj.resolve(wj(OAt(i,n))).then(function(T){try{if(wj(T).done)o?y(new RAt("Reduce of empty iterator with no initial value")):h(u);else{var N=T.value;if(o)o=!1,u=N,E();else try{var R=t(u,N,p),j=function(k){u=k,E()};NAt(R)?Sj.resolve(R).then(j,_):j(R)}catch(k){_(k)}}p++}catch(k){y(k)}},y)}catch(T){y(T)}};E()})}})});var ybe=I(()=>{"use strict";var zAt=Q(),jAt=Am().some;zAt({target:"AsyncIterator",proto:!0,real:!0},{some:function(t){return jAt(this,t)}})});var xbe=I(()=>{"use strict";var FAt=Q(),_be=jt(),bbe=Rt(),BAt=_i(),UAt=px(),VAt=dy(),$At=Pm(),Ij=Eo(),HAt=$r(),WAt=$At(function(e){var t=this,r=t.iterator,n;if(!t.remaining--){var i=Ij(void 0,!0);return t.done=!0,n=r.return,n!==void 0?e.resolve(_be(n,r,void 0)).then(function(){return i}):i}return e.resolve(_be(t.next,r)).then(function(o){return bbe(o).done?(t.done=!0,Ij(void 0,!0)):Ij(o.value,!1)}).then(null,function(o){throw t.done=!0,o})});FAt({target:"AsyncIterator",proto:!0,real:!0,forced:HAt},{take:function(t){bbe(this);var r=VAt(UAt(+t));return new WAt(BAt(this),{remaining:r})}})});var wbe=I(()=>{"use strict";var GAt=Q(),YAt=Am().toArray;GAt({target:"AsyncIterator",proto:!0,real:!0},{toArray:function(){return YAt(this,void 0,[])}})});var VC=I((lSr,Cbe)=>{"use strict";var Ibe=An(),ZAt=bf(),Ej=Eo(),KAt=Qi(),XAt=Er(),QAt=di(),Ebe=cr(),Qx="Incorrect Iterator.range arguments",Mj="NumericRangeIterator",JAt=Ibe.set,Tbe=Ibe.getterFor(Mj),Sbe=RangeError,Tj=TypeError,Mbe=ZAt(function(t,r,n,i,o,u){if(typeof t!=i||r!==1/0&&r!==-1/0&&typeof r!=i)throw new Tj(Qx);if(t===1/0||t===-1/0)throw new Sbe(Qx);var p=r>t,h=!1,y;if(n===void 0)y=void 0;else if(XAt(n))y=n.step,h=!!n.inclusive;else if(typeof n==i)y=n;else throw new Tj(Qx);if(KAt(y)&&(y=p?u:-u),typeof y!=i)throw new Tj(Qx);if(y===1/0||y===-1/0||y===o&&t!==r)throw new Sbe(Qx);var _=t!==t||r!==r||y!==y||r>t!=y>o;JAt(this,{type:Mj,start:t,end:r,step:y,inclusive:h,hitsEnd:_,currentCount:o,zero:o}),Ebe||(this.start=t,this.end=r,this.step=y,this.inclusive=h)},Mj,function(){var t=Tbe(this);if(t.hitsEnd)return Ej(void 0,!0);var r=t.start,n=t.end,i=t.step,o=r+i*t.currentCount++;o===n&&(t.hitsEnd=!0);var u=t.inclusive,p;return n>r?p=u?o>n:o>=n:p=u?n>o:n>=o,p?(t.hitsEnd=!0,Ej(void 0,!0)):Ej(o,!1)}),UC=function(e){QAt(Mbe.prototype,e,{get:function(){return Tbe(this)[e]},set:function(){},configurable:!0,enumerable:!1})};Ebe&&(UC("start"),UC("end"),UC("inclusive"),UC("step"));Cbe.exports=Mbe});var Abe=I(()=>{"use strict";var e3t=Q(),t3t=VC();typeof BigInt=="function"&&e3t({target:"BigInt",stat:!0,forced:!0},{range:function(t,r,n){return new t3t(t,r,n,"bigint",BigInt(0),BigInt(1))}})});var Cj=I((dSr,Nbe)=>{"use strict";PM();CC();var Dbe=Ir(),r3t=ji(),Pbe=Er(),n3t=Object,i3t=TypeError,o3t=Dbe("Map"),a3t=Dbe("WeakMap"),$C=function(){this.object=null,this.symbol=null,this.primitives=null,this.objectsByIndex=r3t(null)};$C.prototype.get=function(e,t){return this[e]||(this[e]=t())};$C.prototype.next=function(e,t,r){var n=r?this.objectsByIndex[e]||(this.objectsByIndex[e]=new a3t):this.primitives||(this.primitives=new o3t),i=n.get(t);return i||n.set(t,i=new $C),i};var Obe=new $C;Nbe.exports=function(){var e=Obe,t=arguments.length,r,n;for(r=0;r<t;r++)Pbe(n=arguments[r])&&(e=e.next(r,n,!0));if(this===n3t&&e===Obe)throw new i3t("Composite keys must contain a non-primitive component");for(r=0;r<t;r++)Pbe(n=arguments[r])||(e=e.next(r,n,!1));return e}});var Lbe=I(()=>{"use strict";var s3t=Q(),l3t=ba(),u3t=Cj(),c3t=Ir(),kbe=ji(),d3t=Object,p3t=function(){var e=c3t("Object","freeze");return e?e(kbe(null)):kbe(null)};s3t({global:!0,forced:!0},{compositeKey:function(){return l3t(u3t,d3t,arguments).get("object",p3t)}})});var Rbe=I(()=>{"use strict";var f3t=Q(),h3t=Cj(),qbe=Ir(),m3t=ba();f3t({global:!0,forced:!0},{compositeSymbol:function(){return arguments.length===1&&typeof arguments[0]=="string"?qbe("Symbol").for(arguments[0]):m3t(h3t,null,arguments).get("symbol",qbe("Symbol"))}})});var zbe=I(()=>{"use strict";var g3t=Q(),v3t=nt(),y3t=pM().unpack,_3t=v3t(DataView.prototype.getUint16);g3t({target:"DataView",proto:!0},{getFloat16:function(t){var r=_3t(this,t,arguments.length>1?arguments[1]:!1);return y3t([r&255,r>>8&255],10)}})});var jbe=I(()=>{"use strict";var b3t=Q(),x3t=nt(),w3t=x3t(DataView.prototype.getUint8);b3t({target:"DataView",proto:!0,forced:!0},{getUint8Clamped:function(t){return w3t(this,t)}})});var Aj=I((bSr,Fbe)=>{"use strict";var S3t=bs(),I3t=TypeError;Fbe.exports=function(e){if(S3t(e)==="DataView")return e;throw new I3t("Argument is not a DataView")}});var Pj=I((xSr,Bbe)=>{"use strict";var E3t=TR(),T3t=.0009765625,M3t=65504,C3t=6103515625e-14;Bbe.exports=Math.f16round||function(t){return E3t(t,T3t,M3t,C3t)}});var Ube=I(()=>{"use strict";var A3t=Q(),P3t=nt(),O3t=Aj(),D3t=iy(),N3t=pM().pack,k3t=Pj(),L3t=P3t(DataView.prototype.setUint16);A3t({target:"DataView",proto:!0},{setFloat16:function(t,r){O3t(this);var n=D3t(t),i=N3t(k3t(r),10,2);return L3t(this,n,i[1]<<8|i[0],arguments.length>2?arguments[2]:!1)}})});var Vbe=I(()=>{"use strict";var q3t=Q(),R3t=nt(),z3t=Aj(),j3t=iy(),F3t=yz(),B3t=R3t(DataView.prototype.setUint8);q3t({target:"DataView",proto:!0,forced:!0},{setUint8Clamped:function(t,r){z3t(this);var n=j3t(t);return B3t(this,n,F3t(r))}})});var Ybe=I(()=>{"use strict";var U3t=Q(),WC=cr(),V3t=Ir(),$be=wr(),$3t=xa(),Hbe=Ln(),H3t=Ll(),W3t=di(),Wbe=gr(),Gbe=An(),Oj=uj(),G3t=V3t("SuppressedError"),Y3t=ReferenceError,Z3t=Wbe("dispose"),K3t=Wbe("toStringTag"),YC="DisposableStack",X3t=Gbe.set,GC=Gbe.getterFor(YC),Dj="sync-dispose",Jx="disposed",Q3t="pending",HC=function(e){var t=GC(e);if(t.state===Jx)throw new Y3t(YC+" already disposed");return t},Nj=function(){X3t($3t(this,zy),{type:YC,state:Q3t,stack:[]}),WC||(this.disposed=!1)},zy=Nj.prototype;H3t(zy,{dispose:function(){var t=GC(this);if(t.state!==Jx){t.state=Jx,WC||(this.disposed=!0);for(var r=t.stack,n=r.length,i=!1,o;n;){var u=r[--n];r[n]=null;try{u()}catch(p){i?o=new G3t(p,o):(i=!0,o=p)}}if(t.stack=null,i)throw o}},use:function(t){return Oj(HC(this),t,Dj),t},adopt:function(t,r){var n=HC(this);return $be(r),Oj(n,void 0,Dj,function(){r(t)}),t},defer:function(t){var r=HC(this);$be(t),Oj(r,void 0,Dj,t)},move:function(){var t=HC(this),r=new Nj;return GC(r).stack=t.stack,t.stack=[],t.state=Jx,WC||(this.disposed=!0),r}});WC&&W3t(zy,"disposed",{configurable:!0,get:function(){return GC(this).state===Jx}});Hbe(zy,Z3t,zy.dispose,{name:"dispose"});Hbe(zy,K3t,YC,{nonWritable:!0});U3t({global:!0,constructor:!0},{DisposableStack:Nj})});var kj=I((CSr,Zbe)=>{"use strict";var J3t=nt(),e4t=wr();Zbe.exports=function(){return J3t(e4t(this))}});var Kbe=I(()=>{"use strict";var t4t=Q(),r4t=kj();t4t({target:"Function",proto:!0,forced:!0},{demethodize:r4t})});var Qbe=I(()=>{"use strict";var n4t=Q(),i4t=nt(),o4t=kr(),a4t=Rb(),s4t=zr(),l4t=cr(),u4t=Object.getOwnPropertyDescriptor,Xbe=/^\s*class\b/,c4t=i4t(Xbe.exec),d4t=function(e){try{if(!l4t||!c4t(Xbe,a4t(e)))return!1}catch(r){}var t=u4t(e,"prototype");return!!t&&s4t(t,"writable")&&!t.writable};n4t({target:"Function",stat:!0,sham:!0,forced:!0},{isCallable:function(t){return o4t(t)&&!d4t(t)}})});var Jbe=I(()=>{"use strict";var p4t=Q(),f4t=_u();p4t({target:"Function",stat:!0,forced:!0},{isConstructor:f4t})});var rxe=I(()=>{"use strict";var h4t=gr(),m4t=ti().f,exe=h4t("metadata"),txe=Function.prototype;txe[exe]===void 0&&m4t(txe,exe,{value:null})});var nxe=I(()=>{"use strict";var g4t=Q(),v4t=kj();g4t({target:"Function",proto:!0,forced:!0,name:"demethodize"},{unThis:v4t})});var ixe=I(()=>{"use strict";m8()});var oxe=I(()=>{"use strict";b8()});var Lj=I((VSr,axe)=>{"use strict";var y4t=jt(),_4t=N8(),b4t=function(e,t){return[t,e]};axe.exports=function(){return y4t(_4t,this,b4t)}});var sxe=I(()=>{"use strict";var x4t=Q(),w4t=Lj();x4t({target:"Iterator",name:"indexed",proto:!0,real:!0,forced:!0},{asIndexedPairs:w4t})});var cxe=I(()=>{"use strict";var S4t=Q(),lxe=jt(),I4t=wr(),uxe=Rt(),E4t=oc(),T4t=Cf(),M4t=Array,C4t=T4t(function(){for(;;){var e=this.iterator;if(!e){var t=this.nextIterableIndex++,r=this.iterables;if(t>=r.length){this.done=!0;return}var n=r[t];this.iterables[t]=null,e=this.iterator=lxe(n.method,n.iterable),this.next=e.next}var i=uxe(lxe(this.next,e));if(i.done){this.iterator=null,this.next=null;continue}return i.value}});S4t({target:"Iterator",stat:!0,forced:!0},{concat:function(){for(var t=arguments.length,r=M4t(t),n=0;n<t;n++){var i=uxe(arguments[n]);r[n]={iterable:i,method:I4t(E4t(i))}}return new C4t({iterables:r,nextIterableIndex:0,iterator:null,next:null})}})});var fxe=I(()=>{"use strict";var A4t=jt(),P4t=Ln(),O4t=zi(),D4t=zr(),N4t=gr(),dxe=gm().IteratorPrototype,pxe=N4t("dispose");D4t(dxe,pxe)||P4t(dxe,pxe,function(){var e=O4t(this,"return");e&&A4t(e,this)})});var hxe=I(()=>{"use strict";I8()});var mxe=I(()=>{"use strict";E8()});var gxe=I(()=>{"use strict";T8()});var vxe=I(()=>{"use strict";M8()});var yxe=I(()=>{"use strict";P8()});var _xe=I(()=>{"use strict";O8()});var bxe=I(()=>{"use strict";D8()});var xxe=I(()=>{"use strict";var k4t=Q(),L4t=Lj();k4t({target:"Iterator",proto:!0,real:!0,forced:!0},{indexed:L4t})});var wxe=I(()=>{"use strict";k8()});var Ixe=I(()=>{"use strict";var q4t=Q(),Sxe=VC(),R4t=TypeError;q4t({target:"Iterator",stat:!0,forced:!0},{range:function(t,r,n){if(typeof t=="number")return new Sxe(t,r,n,"number",0,1);if(typeof t=="bigint")return new Sxe(t,r,n,"bigint",BigInt(0),BigInt(1));throw new R4t("Incorrect Iterator.range arguments")}})});var Exe=I(()=>{"use strict";L8()});var Txe=I(()=>{"use strict";q8()});var Mxe=I(()=>{"use strict";R8()});var Cxe=I(()=>{"use strict";z8()});var Pxe=I(()=>{"use strict";var z4t=Q(),j4t=Rt(),F4t=Yx(),B4t=xj(),Axe=_i(),U4t=$r();z4t({target:"Iterator",proto:!0,real:!0,forced:U4t},{toAsync:function(){return new B4t(Axe(new F4t(Axe(j4t(this)))))}})});var qj=I((TIr,Oxe)=>{"use strict";var V4t=ft();Oxe.exports=!V4t(function(){var e="9007199254740993",t=JSON.rawJSON(e);return!JSON.isRawJSON(t)||JSON.stringify(t)!==e})});var Rj=I((MIr,Dxe)=>{"use strict";var $4t=Er(),H4t=An().get;Dxe.exports=function(t){if(!$4t(t))return!1;var r=H4t(t);return!!r&&r.type==="RawJSON"}});var Nxe=I(()=>{"use strict";var W4t=Q(),G4t=qj(),Y4t=Rj();W4t({target:"JSON",stat:!0,forced:!G4t},{isRawJSON:Y4t})});var jj=I((PIr,Rxe)=>{"use strict";var zj=nt(),Z4t=zr(),ZC=SyntaxError,K4t=parseInt,X4t=String.fromCharCode,Q4t=zj("".charAt),kxe=zj("".slice),Lxe=zj(/./.exec),qxe={"\\\"":"\"","\\\\":"\\","\\/":"/","\\b":"\b","\\f":"\f","\\n":`
`,"\\r":"\r","\\t":"\t"},J4t=/^[\da-f]{4}$/i,ePt=/^[\u0000-\u001F]$/;Rxe.exports=function(e,t){for(var r=!0,n="";t<e.length;){var i=Q4t(e,t);if(i==="\\"){var o=kxe(e,t,t+2);if(Z4t(qxe,o))n+=qxe[o],t+=2;else if(o==="\\u"){t+=2;var u=kxe(e,t,t+4);if(!Lxe(J4t,u))throw new ZC("Bad Unicode escape at: "+t);n+=X4t(K4t(u,16)),t+=4}else throw new ZC("Unknown escape sequence: \""+o+"\"")}else if(i==="\""){r=!1,t++;break}else{if(Lxe(ePt,i))throw new ZC("Bad control character in string literal at: "+t);n+=i,t++}}if(r)throw new ZC("Unterminated string at: "+t);return{value:n,end:t}}});var Hxe=I(()=>{"use strict";var tPt=Q(),rPt=cr(),Gj=Dt(),nPt=Ir(),KC=nt(),iPt=jt(),Vxe=kr(),oPt=Er(),aPt=yu(),sPt=zr(),lPt=Mr(),zxe=rn(),$j=Nl(),$xe=ft(),uPt=jj(),cPt=df(),jxe=Gj.JSON,dPt=Gj.Number,jy=Gj.SyntaxError,Yj=jxe&&jxe.parse,pPt=nPt("Object","keys"),fPt=Object.getOwnPropertyDescriptor,Ho=KC("".charAt),Fj=KC("".slice),Bj=KC(/./.exec),Fxe=KC([].push),Uj=/^\d$/,hPt=/^[1-9]$/,mPt=/^[\d-]$/,ew=/^[\t\n\r ]$/,Vj=0,Bxe=1,gPt=function(e,t){e=lPt(e);var r=new Wj(e,0,""),n=r.parse(),i=n.value,o=r.skip(ew,n.end);if(o<e.length)throw new jy("Unexpected extra character: \""+Ho(e,o)+"\" after the parsed data at: "+o);return Vxe(t)?Hj({"":i},"",t,n):i},Hj=function(e,t,r,n){var i=e[t],o=n&&i===n.value,u=o&&typeof n.source=="string"?{source:n.source}:{},p,h,y,_,E;if(oPt(i)){var T=aPt(i),N=o?n.nodes:T?[]:{};if(T)for(p=N.length,y=zxe(i),_=0;_<y;_++)Uxe(i,_,Hj(i,""+_,r,_<p?N[_]:void 0));else for(h=pPt(i),y=zxe(h),_=0;_<y;_++)E=h[_],Uxe(i,E,Hj(i,E,r,sPt(N,E)?N[E]:void 0))}return iPt(r,e,t,i,u)},Uxe=function(e,t,r){if(rPt){var n=fPt(e,t);if(n&&!n.configurable)return}r===void 0?delete e[t]:$j(e,t,r)},vPt=function(e,t,r,n){this.value=e,this.end=t,this.source=r,this.nodes=n},Wj=function(e,t){this.source=e,this.index=t};Wj.prototype={fork:function(e){return new Wj(this.source,e)},parse:function(){var e=this.source,t=this.skip(ew,this.index),r=this.fork(t),n=Ho(e,t);if(Bj(mPt,n))return r.number();switch(n){case"{":return r.object();case"[":return r.array();case"\"":return r.string();case"t":return r.keyword(!0);case"f":return r.keyword(!1);case"n":return r.keyword(null);}throw new jy("Unexpected character: \""+n+"\" at: "+t)},node:function(e,t,r,n,i){return new vPt(t,n,e?null:Fj(this.source,r,n),i)},object:function(){for(var e=this.source,t=this.index+1,r=!1,n={},i={};t<e.length;){if(t=this.until(["\"","}"],t),Ho(e,t)==="}"&&!r){t++;break}var o=this.fork(t).string(),u=o.value;t=o.end,t=this.until([":"],t)+1,t=this.skip(ew,t),o=this.fork(t).parse(),$j(i,u,o),$j(n,u,o.value),t=this.until([",","}"],o.end);var p=Ho(e,t);if(p===",")r=!0,t++;else if(p==="}"){t++;break}}return this.node(Bxe,n,this.index,t,i)},array:function(){for(var e=this.source,t=this.index+1,r=!1,n=[],i=[];t<e.length;){if(t=this.skip(ew,t),Ho(e,t)==="]"&&!r){t++;break}var o=this.fork(t).parse();if(Fxe(i,o),Fxe(n,o.value),t=this.until([",","]"],o.end),Ho(e,t)===",")r=!0,t++;else if(Ho(e,t)==="]"){t++;break}}return this.node(Bxe,n,this.index,t,i)},string:function(){var e=this.index,t=uPt(this.source,this.index+1);return this.node(Vj,t.value,e,t.end)},number:function(){var e=this.source,t=this.index,r=t;if(Ho(e,r)==="-"&&r++,Ho(e,r)==="0")r++;else if(Bj(hPt,Ho(e,r)))r=this.skip(Uj,r+1);else throw new jy("Failed to parse number at: "+r);if(Ho(e,r)==="."&&(r=this.skip(Uj,r+1)),Ho(e,r)==="e"||Ho(e,r)==="E"){r++,(Ho(e,r)==="+"||Ho(e,r)==="-")&&r++;var n=r;if(r=this.skip(Uj,r),n===r)throw new jy("Failed to parse number's exponent value at: "+r)}return this.node(Vj,dPt(Fj(e,t,r)),t,r)},keyword:function(e){var t=""+e,r=this.index,n=r+t.length;if(Fj(this.source,r,n)!==t)throw new jy("Failed to parse value at: "+r);return this.node(Vj,e,r,n)},skip:function(e,t){for(var r=this.source;t<r.length&&Bj(e,Ho(r,t));t++);return t},until:function(e,t){t=this.skip(ew,t);for(var r=Ho(this.source,t),n=0;n<e.length;n++)if(e[n]===r)return t;throw new jy("Unexpected character: \""+r+"\" at: "+t)}};var yPt=$xe(function(){var e="9007199254740993",t;return Yj(e,function(r,n,i){t=i.source}),t!==e}),_Pt=cPt&&!$xe(function(){return 1/Yj("-0 \t")!==-1/0});tPt({target:"JSON",stat:!0,forced:yPt},{parse:function(t,r){return _Pt&&!Vxe(r)?Yj(t):gPt(t,r)}})});var Jxe=I(()=>{"use strict";var Xxe=Q(),bPt=Td(),Qxe=qj(),XC=Ir(),xPt=jt(),Qj=nt(),wPt=kr(),SPt=Rj(),IPt=Mr(),EPt=Nl(),TPt=jj(),MPt=Cq(),CPt=ff(),APt=An().set,PPt=String,Wxe=SyntaxError,OPt=XC("JSON","parse"),Gxe=XC("JSON","stringify"),DPt=XC("Object","create"),NPt=XC("Object","freeze"),Kj=Qj("".charAt),Zj=Qj("".slice),kPt=Qj([].push),Xj=CPt(),Yxe=Xj.length,Zxe="Unacceptable as raw JSON",Kxe=function(e){return e===" "||e==="\t"||e===`
`||e==="\r"};Xxe({target:"JSON",stat:!0,forced:!Qxe},{rawJSON:function(t){var r=IPt(t);if(r===""||Kxe(Kj(r,0))||Kxe(Kj(r,r.length-1)))throw new Wxe(Zxe);var n=OPt(r);if(typeof n=="object"&&n!==null)throw new Wxe(Zxe);var i=DPt(null);return APt(i,{type:"RawJSON"}),EPt(i,"rawJSON",r),bPt?NPt(i):i}});Gxe&&Xxe({target:"JSON",stat:!0,arity:3,forced:!Qxe},{stringify:function(t,r,n){var i=MPt(r),o=[],u=Gxe(t,function(N,R){var j=wPt(i)?xPt(i,this,PPt(N),R):R;return SPt(j)?Xj+(kPt(o,j.rawJSON)-1):j},n);if(typeof u!="string")return u;for(var p="",h=u.length,y=0;y<h;y++){var _=Kj(u,y);if(_==="\""){var E=TPt(u,++y).end-1,T=Zj(u,y,E);p+=Zj(T,0,Yxe)===Xj?o[Zj(T,Yxe)]:"\""+T+"\"",y=E}else p+=_}return p}})});var Wo=I((LIr,ewe)=>{"use strict";var LPt=uo().has;ewe.exports=function(e){return LPt(e),e}});var twe=I(()=>{"use strict";var qPt=Q(),RPt=Wo(),zPt=uo().remove;qPt({target:"Map",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var t=RPt(this),r=!0,n,i=0,o=arguments.length;i<o;i++)n=zPt(t,arguments[i]),r=r&&n;return!!r}})});var nwe=I(()=>{"use strict";var jPt=Q(),FPt=Wo(),Jj=uo(),BPt=Jj.get,UPt=Jj.has,rwe=Jj.set;jPt({target:"Map",proto:!0,real:!0,forced:!0},{emplace:function(t,r){var n=FPt(this),i,o;return UPt(n,t)?(i=BPt(n,t),"update"in r&&(i=r.update(i,t,n),rwe(n,t,i)),i):(o=r.insert(t,n),rwe(n,t,o),o)}})});var iwe=I(()=>{"use strict";var VPt=Q(),$Pt=Un(),HPt=Wo(),WPt=ql();VPt({target:"Map",proto:!0,real:!0,forced:!0},{every:function(t){var r=HPt(this),n=$Pt(t,arguments.length>1?arguments[1]:void 0);return WPt(r,function(i,o){if(!n(i,o,r))return!1},!0)!==!1}})});var awe=I(()=>{"use strict";var GPt=Q(),YPt=Un(),ZPt=Wo(),owe=uo(),KPt=ql(),XPt=owe.Map,QPt=owe.set;GPt({target:"Map",proto:!0,real:!0,forced:!0},{filter:function(t){var r=ZPt(this),n=YPt(t,arguments.length>1?arguments[1]:void 0),i=new XPt;return KPt(r,function(o,u){n(o,u,r)&&QPt(i,u,o)}),i}})});var swe=I(()=>{"use strict";var JPt=Q(),eOt=Un(),tOt=Wo(),rOt=ql();JPt({target:"Map",proto:!0,real:!0,forced:!0},{find:function(t){var r=tOt(this),n=eOt(t,arguments.length>1?arguments[1]:void 0),i=rOt(r,function(o,u){if(n(o,u,r))return{value:o}},!0);return i&&i.value}})});var lwe=I(()=>{"use strict";var nOt=Q(),iOt=Un(),oOt=Wo(),aOt=ql();nOt({target:"Map",proto:!0,real:!0,forced:!0},{findKey:function(t){var r=oOt(this),n=iOt(t,arguments.length>1?arguments[1]:void 0),i=aOt(r,function(o,u){if(n(o,u,r))return{key:u}},!0);return i&&i.key}})});var tw=I((YIr,uwe)=>{"use strict";var sOt=Un(),lOt=Rt(),uOt=Hr(),cOt=Ti();uwe.exports=function(e,t,r){return function(i){var o=uOt(i),u=arguments.length,p=u>1?arguments[1]:void 0,h=p!==void 0,y=h?sOt(p,u>2?arguments[2]:void 0):void 0,_=new e,E=0;return cOt(o,function(T){var N=h?y(T,E++):T;r?t(_,lOt(N)[0],N[1]):t(_,N)}),_}}});var dwe=I(()=>{"use strict";var dOt=Q(),cwe=uo(),pOt=tw();dOt({target:"Map",stat:!0,forced:!0},{from:pOt(cwe.Map,cwe.set,!0)})});var pwe=I(()=>{"use strict";var fOt=Q(),hOt=Wo(),eF=uo(),mOt=eF.get,gOt=eF.has,vOt=eF.set;fOt({target:"Map",proto:!0,real:!0,forced:!0},{getOrInsert:function(t,r){return gOt(hOt(this),t)?mOt(this,t):(vOt(this,t,r),r)}})});var fwe=I(()=>{"use strict";var yOt=Q(),_Ot=wr(),bOt=Wo(),tF=uo(),xOt=tF.get,wOt=tF.has,SOt=tF.set;yOt({target:"Map",proto:!0,real:!0,forced:!0},{getOrInsertComputed:function(t,r){if(bOt(this),_Ot(r),wOt(this,t))return xOt(this,t);t===0&&1/t===-1/0&&(t=0);var n=r(t);return SOt(this,t,n),n}})});var hwe=I(()=>{"use strict";W8()});var gwe=I((nEr,mwe)=>{"use strict";mwe.exports=function(e,t){return e===t||e!==e&&t!==t}});var vwe=I(()=>{"use strict";var IOt=Q(),EOt=gwe(),TOt=Wo(),MOt=ql();IOt({target:"Map",proto:!0,real:!0,forced:!0},{includes:function(t){return MOt(TOt(this),function(r){if(EOt(r,t))return!0},!0)===!0}})});var _we=I(()=>{"use strict";var COt=Q(),AOt=jt(),POt=Ti(),OOt=kr(),ywe=wr(),DOt=uo().Map;COt({target:"Map",stat:!0,forced:!0},{keyBy:function(t,r){var n=OOt(this)?this:DOt,i=new n;ywe(r);var o=ywe(i.set);return POt(t,function(u){AOt(o,i,r(u),u)}),i}})});var bwe=I(()=>{"use strict";var NOt=Q(),kOt=Wo(),LOt=ql();NOt({target:"Map",proto:!0,real:!0,forced:!0},{keyOf:function(t){var r=LOt(kOt(this),function(n,i){if(n===t)return{key:i}},!0);return r&&r.key}})});var wwe=I(()=>{"use strict";var qOt=Q(),ROt=Un(),zOt=Wo(),xwe=uo(),jOt=ql(),FOt=xwe.Map,BOt=xwe.set;qOt({target:"Map",proto:!0,real:!0,forced:!0},{mapKeys:function(t){var r=zOt(this),n=ROt(t,arguments.length>1?arguments[1]:void 0),i=new FOt;return jOt(r,function(o,u){BOt(i,n(o,u,r),o)}),i}})});var Iwe=I(()=>{"use strict";var UOt=Q(),VOt=Un(),$Ot=Wo(),Swe=uo(),HOt=ql(),WOt=Swe.Map,GOt=Swe.set;UOt({target:"Map",proto:!0,real:!0,forced:!0},{mapValues:function(t){var r=$Ot(this),n=VOt(t,arguments.length>1?arguments[1]:void 0),i=new WOt;return HOt(r,function(o,u){GOt(i,u,n(o,u,r))}),i}})});var Ewe=I(()=>{"use strict";var YOt=Q(),ZOt=Wo(),KOt=Ti(),XOt=uo().set;YOt({target:"Map",proto:!0,real:!0,arity:1,forced:!0},{merge:function(t){for(var r=ZOt(this),n=arguments.length,i=0;i<n;)KOt(arguments[i++],function(o,u){XOt(r,o,u)},{AS_ENTRIES:!0});return r}})});var rw=I((gEr,Twe)=>{"use strict";var QOt=Rt();Twe.exports=function(e,t,r){return function(){for(var i=new e,o=arguments.length,u=0;u<o;u++){var p=arguments[u];r?t(i,QOt(p)[0],p[1]):t(i,p)}return i}}});var Cwe=I(()=>{"use strict";var JOt=Q(),Mwe=uo(),eDt=rw();JOt({target:"Map",stat:!0,forced:!0},{of:eDt(Mwe.Map,Mwe.set,!0)})});var Awe=I(()=>{"use strict";var tDt=Q(),rDt=wr(),nDt=Wo(),iDt=ql(),oDt=TypeError;tDt({target:"Map",proto:!0,real:!0,forced:!0},{reduce:function(t){var r=nDt(this),n=arguments.length<2,i=n?void 0:arguments[1];if(rDt(t),iDt(r,function(o,u){n?(n=!1,i=o):i=t(i,o,u,r)}),n)throw new oDt("Reduce of empty map with no initial value");return i}})});var Pwe=I(()=>{"use strict";var aDt=Q(),sDt=Un(),lDt=Wo(),uDt=ql();aDt({target:"Map",proto:!0,real:!0,forced:!0},{some:function(t){var r=lDt(this),n=sDt(t,arguments.length>1?arguments[1]:void 0);return uDt(r,function(i,o){if(n(i,o,r))return!0},!0)===!0}})});var Dwe=I(()=>{"use strict";var cDt=Q(),Owe=wr(),dDt=Wo(),rF=uo(),pDt=TypeError,fDt=rF.get,hDt=rF.has,mDt=rF.set;cDt({target:"Map",proto:!0,real:!0,forced:!0},{update:function(t,r){var n=dDt(this),i=arguments.length;Owe(r);var o=hDt(n,t);if(!o&&i<3)throw new pDt("Updating absent value");var u=o?fDt(n,t):Owe(i>2?arguments[2]:void 0)(t,n);return mDt(n,t,r(u,t,n)),n}})});var e5=I((EEr,Nwe)=>{"use strict";var QC=jt(),nF=wr(),JC=kr(),gDt=Rt(),vDt=TypeError;Nwe.exports=function(t,r){var n=gDt(this),i=nF(n.get),o=nF(n.has),u=nF(n.set),p=arguments.length>2?arguments[2]:void 0,h;if(!JC(r)&&!JC(p))throw new vDt("At least one callback required");return QC(o,n,t)?(h=QC(i,n,t),JC(r)&&(h=r(h),QC(u,n,t,h))):JC(p)&&(h=p(),QC(u,n,t,h)),h}});var kwe=I(()=>{"use strict";var yDt=Q(),_Dt=e5();yDt({target:"Map",proto:!0,real:!0,name:"upsert",forced:!0},{updateOrInsert:_Dt})});var Lwe=I(()=>{"use strict";var bDt=Q(),xDt=e5();bDt({target:"Map",proto:!0,real:!0,forced:!0},{upsert:xDt})});var qwe=I(()=>{"use strict";var wDt=Q(),SDt=Math.min,IDt=Math.max;wDt({target:"Math",stat:!0,forced:!0},{clamp:function(t,r,n){return SDt(n,IDt(r,t))}})});var Rwe=I(()=>{"use strict";var EDt=Q();EDt({target:"Math",stat:!0,nonConfigurable:!0,nonWritable:!0},{DEG_PER_RAD:Math.PI/180})});var zwe=I(()=>{"use strict";var TDt=Q(),MDt=180/Math.PI;TDt({target:"Math",stat:!0,forced:!0},{degrees:function(t){return t*MDt}})});var iF=I((qEr,jwe)=>{"use strict";jwe.exports=Math.scale||function(t,r,n,i,o){var u=+t,p=+r,h=+n,y=+i,_=+o;return u!==u||p!==p||h!==h||y!==y||_!==_?NaN:u===1/0||u===-1/0?u:(u-p)*(_-y)/(h-p)+y}});var Fwe=I(()=>{"use strict";var CDt=Q(),ADt=iF(),PDt=dM();CDt({target:"Math",stat:!0,forced:!0},{fscale:function(t,r,n,i,o){return PDt(ADt(t,r,n,i,o))}})});var Bwe=I(()=>{"use strict";var ODt=Q(),DDt=Pj();ODt({target:"Math",stat:!0},{f16round:DDt})});var Uwe=I(()=>{"use strict";var NDt=Q();NDt({target:"Math",stat:!0,forced:!0},{iaddh:function(t,r,n,i){var o=t>>>0,u=r>>>0,p=n>>>0;return u+(i>>>0)+((o&p|(o|p)&~(o+p>>>0))>>>31)|0}})});var Vwe=I(()=>{"use strict";var kDt=Q();kDt({target:"Math",stat:!0,forced:!0},{imulh:function(t,r){var n=65535,i=+t,o=+r,u=i&n,p=o&n,h=i>>16,y=o>>16,_=(h*p>>>0)+(u*p>>>16);return h*y+(_>>16)+((u*y>>>0)+(_&n)>>16)}})});var $we=I(()=>{"use strict";var LDt=Q();LDt({target:"Math",stat:!0,forced:!0},{isubh:function(t,r,n,i){var o=t>>>0,u=r>>>0,p=n>>>0;return u-(i>>>0)-((~o&p|~(o^p)&o-p>>>0)>>>31)|0}})});var Hwe=I(()=>{"use strict";var qDt=Q();qDt({target:"Math",stat:!0,nonConfigurable:!0,nonWritable:!0},{RAD_PER_DEG:180/Math.PI})});var Wwe=I(()=>{"use strict";var RDt=Q(),zDt=Math.PI/180;RDt({target:"Math",stat:!0,forced:!0},{radians:function(t){return t*zDt}})});var Gwe=I(()=>{"use strict";var jDt=Q(),FDt=iF();jDt({target:"Math",stat:!0,forced:!0},{scale:FDt})});var Xwe=I(()=>{"use strict";var BDt=Q(),UDt=Rt(),VDt=n9(),$Dt=bf(),HDt=Eo(),Ywe=An(),Zwe="Seeded Random",Kwe=Zwe+" Generator",WDt="Math.seededPRNG() argument should have a \"seed\" field with a finite value.",GDt=Ywe.set,YDt=Ywe.getterFor(Kwe),ZDt=TypeError,KDt=$Dt(function(t){GDt(this,{type:Kwe,seed:t%2147483647})},Zwe,function(){var t=YDt(this),r=t.seed=(t.seed*1103515245+12345)%2147483647;return HDt((r&1073741823)/1073741823,!1)});BDt({target:"Math",stat:!0,forced:!0},{seededPRNG:function(t){var r=UDt(t).seed;if(!VDt(r))throw new ZDt(WDt);return new KDt(r)}})});var Qwe=I(()=>{"use strict";var XDt=Q();XDt({target:"Math",stat:!0,forced:!0},{signbit:function(t){var r=+t;return r===r&&r===0?1/r===-1/0:r<0}})});var n2e=I(()=>{"use strict";var QDt=Q(),JDt=nt(),eNt=Ti(),tNt=RangeError,rNt=TypeError,Rl=1/0,nNt=NaN,Om=Math.abs,lF=Math.pow,Jwe=JDt([].push),nw=lF(2,1023),iNt=lF(2,53)-1,e2e=Number.MAX_VALUE,t2e=lF(2,971),iw={},oF={},aF={},sF={},r2e={},t5=function(e,t){var r=e+t,n=t-(r-e);return{hi:r,lo:n}};QDt({target:"Math",stat:!0},{sumPrecise:function(t){var r=[],n=0,i=sF;switch(eNt(t,function(G){if(++n>=iNt)throw new tNt("Maximum allowed index exceeded");if(typeof G!="number")throw new rNt("Value is not a number");i!==iw&&(G!==G?i=iw:G===Rl?i=i===oF?iw:aF:G===-Rl?i=i===aF?iw:oF:(G!==0||1/G===Rl)&&(i===sF||i===r2e)&&(i=r2e,Jwe(r,G)))}),i){case iw:return nNt;case oF:return-Rl;case aF:return Rl;case sF:return-0;}for(var o=[],u=0,p,h,y,_,E,T,N=0;N<r.length;N++){p=r[N];for(var R=0,j=0;j<o.length;j++){if(h=o[j],Om(p)<Om(h)&&(T=p,p=h,h=T),y=t5(p,h),_=y.hi,E=y.lo,Om(_)===Rl){var k=_===Rl?1:-1;u+=k,p=p-k*nw-k*nw,Om(p)<Om(h)&&(T=p,p=h,h=T),y=t5(p,h),_=y.hi,E=y.lo}E!==0&&(o[R++]=E),p=_}o.length=R,p!==0&&Jwe(o,p)}var L=o.length-1;if(_=0,E=0,u!==0){var F=L>=0?o[L]:0;if(L--,Om(u)>1||u>0&&F>0||u<0&&F<0)return u>0?Rl:-Rl;if(y=t5(u*nw,F/2),_=y.hi,E=y.lo,E*=2,Om(2*_)===Rl)return _>0?_===nw&&E===-(t2e/2)&&L>=0&&o[L]<0?e2e:Rl:_===-nw&&E===t2e/2&&L>=0&&o[L]>0?-e2e:-Rl;E!==0&&(o[++L]=E,E=0),_*=2}for(;L>=0&&(y=t5(_,o[L--]),_=y.hi,E=y.lo,E===0););return L>=0&&(E<0&&o[L]<0||E>0&&o[L]>0)&&(h=E*2,p=_+h,h===p-_&&(_=p)),_}})});var i2e=I(()=>{"use strict";var oNt=Q();oNt({target:"Math",stat:!0,forced:!0},{umulh:function(t,r){var n=65535,i=+t,o=+r,u=i&n,p=o&n,h=i>>>16,y=o>>>16,_=(h*p>>>0)+(u*p>>>16);return h*y+(_>>>16)+((u*y>>>0)+(_&n)>>>16)}})});var s2e=I(()=>{"use strict";var aNt=Q(),aw=nt(),sNt=ci(),ow="Invalid number representation",lNt="Invalid radix",uNt=RangeError,r5=SyntaxError,cNt=TypeError,o2e=parseInt,dNt=Math.pow,a2e=/^[\d.a-z]+$/,pNt=aw("".charAt),fNt=aw(a2e.exec),hNt=aw(1 .toString),mNt=aw("".slice),gNt=aw("".split);aNt({target:"Number",stat:!0,forced:!0},{fromString:function(t,r){var n=1;if(typeof t!="string")throw new cNt(ow);if(!t.length)throw new r5(ow);if(pNt(t,0)==="-"&&(n=-1,t=mNt(t,1),!t.length))throw new r5(ow);var i=r===void 0?10:sNt(r);if(i<2||i>36)throw new uNt(lNt);if(!fNt(a2e,t))throw new r5(ow);var o=gNt(t,"."),u=o2e(o[0],i);if(o.length>1&&(u+=o2e(o[1],i)/dNt(i,o[1].length)),i===10&&hNt(u,i)!==t)throw new r5(ow);return n*u}})});var l2e=I(()=>{"use strict";var vNt=Q(),yNt=VC();vNt({target:"Number",stat:!0,forced:!0},{range:function(t,r,n){return new yNt(t,r,n,"number",0,1)}})});var u2e=I(()=>{"use strict";g9()});var i5=I((fTr,p2e)=>{"use strict";var c2e=An(),_Nt=bf(),n5=Eo(),bNt=zr(),xNt=um(),wNt=Hr(),d2e="Object Iterator",SNt=c2e.set,INt=c2e.getterFor(d2e);p2e.exports=_Nt(function(t,r){var n=wNt(t);SNt(this,{type:d2e,mode:r,object:n,keys:xNt(n),index:0})},"Object",function(){for(var t=INt(this),r=t.keys;;){if(r===null||t.index>=r.length)return t.object=t.keys=null,n5(void 0,!0);var n=r[t.index++],i=t.object;if(bNt(i,n)){switch(t.mode){case"keys":return n5(n,!1);case"values":return n5(i[n],!1);}return n5([n,i[n]],!1)}}})});var f2e=I(()=>{"use strict";var ENt=Q(),TNt=i5();ENt({target:"Object",stat:!0,forced:!0},{iterateEntries:function(t){return new TNt(t,"entries")}})});var h2e=I(()=>{"use strict";var MNt=Q(),CNt=i5();MNt({target:"Object",stat:!0,forced:!0},{iterateKeys:function(t){return new CNt(t,"keys")}})});var m2e=I(()=>{"use strict";var ANt=Q(),PNt=i5();ANt({target:"Object",stat:!0,forced:!0},{iterateValues:function(t){return new PNt(t,"values")}})});var g2e=I(()=>{"use strict";m9()});var T2e=I(()=>{"use strict";var ONt=Q(),o5=jt(),sw=cr(),DNt=wf(),v2e=wr(),NNt=Rt(),kNt=xa(),y2e=kr(),LNt=Qi(),qNt=Er(),a5=zi(),RNt=Ln(),uF=Ll(),_2e=di(),Fy=j9(),zNt=gr(),b2e=An(),jNt=zNt("observable"),cF="Observable",x2e="Subscription",w2e="SubscriptionObserver",dF=b2e.getterFor,pF=b2e.set,FNt=dF(cF),S2e=dF(x2e),s5=dF(w2e),I2e=function(e){this.observer=NNt(e),this.cleanup=null,this.subscriptionObserver=null};I2e.prototype={type:x2e,clean:function(){var e=this.cleanup;if(e){this.cleanup=null;try{e()}catch(t){Fy(t)}}},close:function(){if(!sw){var e=this.facade,t=this.subscriptionObserver;e.closed=!0,t&&(t.closed=!0)}this.observer=null},isClosed:function(){return this.observer===null}};var fF=function(e,t){var r=pF(this,new I2e(e)),n;sw||(this.closed=!1);try{(n=a5(e,"start"))&&o5(n,e,this)}catch(p){Fy(p)}if(!r.isClosed()){var i=r.subscriptionObserver=new hF(r);try{var o=t(i),u=o;LNt(o)||(r.cleanup=y2e(o.unsubscribe)?function(){u.unsubscribe()}:v2e(o))}catch(p){i.error(p);return}r.isClosed()&&r.clean()}};fF.prototype=uF({},{unsubscribe:function(){var t=S2e(this);t.isClosed()||(t.close(),t.clean())}});sw&&_2e(fF.prototype,"closed",{configurable:!0,get:function(){return S2e(this).isClosed()}});var hF=function(e){pF(this,{type:w2e,subscriptionState:e}),sw||(this.closed=!1)};hF.prototype=uF({},{next:function(t){var r=s5(this).subscriptionState;if(!r.isClosed()){var n=r.observer;try{var i=a5(n,"next");i&&o5(i,n,t)}catch(o){Fy(o)}}},error:function(t){var r=s5(this).subscriptionState;if(!r.isClosed()){var n=r.observer;r.close();try{var i=a5(n,"error");i?o5(i,n,t):Fy(t)}catch(o){Fy(o)}r.clean()}},complete:function(){var t=s5(this).subscriptionState;if(!t.isClosed()){var r=t.observer;t.close();try{var n=a5(r,"complete");n&&o5(n,r)}catch(i){Fy(i)}t.clean()}}});sw&&_2e(hF.prototype,"closed",{configurable:!0,get:function(){return s5(this).subscriptionState.isClosed()}});var E2e=function(t){kNt(this,mF),pF(this,{type:cF,subscriber:v2e(t)})},mF=E2e.prototype;uF(mF,{subscribe:function(t){var r=arguments.length;return new fF(y2e(t)?{next:t,error:r>1?arguments[1]:void 0,complete:r>2?arguments[2]:void 0}:qNt(t)?t:{},FNt(this).subscriber)}});RNt(mF,jNt,function(){return this});ONt({global:!0,constructor:!0,forced:!0},{Observable:E2e});DNt(cF)});var C2e=I(()=>{"use strict";var BNt=Q(),UNt=Ir(),VNt=jt(),M2e=Rt(),$Nt=_u(),HNt=yf(),WNt=zi(),GNt=Ti(),YNt=gr(),ZNt=YNt("observable");BNt({target:"Observable",stat:!0,forced:!0},{from:function(t){var r=$Nt(this)?this:UNt("Observable"),n=WNt(M2e(t),ZNt);if(n){var i=M2e(VNt(n,t));return i.constructor===r?i:new r(function(u){return i.subscribe(u)})}var o=HNt(t);return new r(function(u){GNt(o,function(p,h){if(u.next(p),u.closed)return h()},{IS_ITERATOR:!0,INTERRUPTED:!0}),u.complete()})}})});var P2e=I(()=>{"use strict";var KNt=Q(),A2e=Ir(),XNt=_u(),QNt=A2e("Array");KNt({target:"Observable",stat:!0,forced:!0},{of:function(){for(var t=XNt(this)?this:A2e("Observable"),r=arguments.length,n=QNt(r),i=0;i<r;)n[i]=arguments[i++];return new t(function(o){for(var u=0;u<r;u++)if(o.next(n[u]),o.closed)return;o.complete()})}})});var O2e=I(()=>{"use strict";T2e();C2e();P2e()});var D2e=I(()=>{"use strict";J9()});var N2e=I(()=>{"use strict";e7()});var k2e=I(()=>{"use strict";i7()});var L2e=I(()=>{"use strict";o7()});var hc=I((zTr,j2e)=>{"use strict";PM();CC();var z2e=Ir(),JNt=nt(),ekt=md(),q2e=z2e("Map"),tkt=z2e("WeakMap"),rkt=JNt([].push),R2e=ekt("metadata"),gF=R2e.store||(R2e.store=new tkt),lw=function(e,t,r){var n=gF.get(e);if(!n){if(!r)return;gF.set(e,n=new q2e)}var i=n.get(t);if(!i){if(!r)return;n.set(t,i=new q2e)}return i},nkt=function(e,t,r){var n=lw(t,r,!1);return n===void 0?!1:n.has(e)},ikt=function(e,t,r){var n=lw(t,r,!1);return n===void 0?void 0:n.get(e)},okt=function(e,t,r,n){lw(r,n,!0).set(e,t)},akt=function(e,t){var r=lw(e,t,!1),n=[];return r&&r.forEach(function(i,o){rkt(n,o)}),n},skt=function(e){return e===void 0||typeof e=="symbol"?e:String(e)};j2e.exports={store:gF,getMap:lw,has:nkt,get:ikt,set:okt,keys:akt,toKey:skt}});var B2e=I(()=>{"use strict";var lkt=Q(),F2e=hc(),ukt=Rt(),ckt=F2e.toKey,dkt=F2e.set;lkt({target:"Reflect",stat:!0},{defineMetadata:function(t,r,n){var i=arguments.length<4?void 0:ckt(arguments[3]);dkt(t,r,ukt(n),i)}})});var V2e=I(()=>{"use strict";var pkt=Q(),vF=hc(),fkt=Rt(),hkt=vF.toKey,mkt=vF.getMap,U2e=vF.store;pkt({target:"Reflect",stat:!0},{deleteMetadata:function(t,r){var n=arguments.length<3?void 0:hkt(arguments[2]),i=mkt(fkt(r),n,!1);if(i===void 0||!i.delete(t))return!1;if(i.size)return!0;var o=U2e.get(r);return o.delete(n),!!o.size||U2e.delete(r)}})});var H2e=I(()=>{"use strict";var gkt=Q(),yF=hc(),vkt=Rt(),ykt=to(),_kt=yF.has,bkt=yF.get,xkt=yF.toKey,$2e=function(e,t,r){var n=_kt(e,t,r);if(n)return bkt(e,t,r);var i=ykt(t);return i!==null?$2e(e,i,r):void 0};gkt({target:"Reflect",stat:!0},{getMetadata:function(t,r){var n=arguments.length<3?void 0:xkt(arguments[2]);return $2e(t,vkt(r),n)}})});var Z2e=I(()=>{"use strict";var wkt=Q(),W2e=nt(),G2e=hc(),Skt=Rt(),Ikt=to(),Ekt=qC(),Tkt=W2e(Ekt),Mkt=W2e([].concat),Ckt=G2e.keys,Akt=G2e.toKey,Y2e=function(e,t){var r=Ckt(e,t),n=Ikt(e);if(n===null)return r;var i=Y2e(n,t);return i.length?r.length?Tkt(Mkt(r,i)):i:r};wkt({target:"Reflect",stat:!0},{getMetadataKeys:function(t){var r=arguments.length<2?void 0:Akt(arguments[1]);return Y2e(Skt(t),r)}})});var X2e=I(()=>{"use strict";var Pkt=Q(),K2e=hc(),Okt=Rt(),Dkt=K2e.get,Nkt=K2e.toKey;Pkt({target:"Reflect",stat:!0},{getOwnMetadata:function(t,r){var n=arguments.length<3?void 0:Nkt(arguments[2]);return Dkt(t,Okt(r),n)}})});var J2e=I(()=>{"use strict";var kkt=Q(),Q2e=hc(),Lkt=Rt(),qkt=Q2e.keys,Rkt=Q2e.toKey;kkt({target:"Reflect",stat:!0},{getOwnMetadataKeys:function(t){var r=arguments.length<2?void 0:Rkt(arguments[1]);return qkt(Lkt(t),r)}})});var rSe=I(()=>{"use strict";var zkt=Q(),eSe=hc(),jkt=Rt(),Fkt=to(),Bkt=eSe.has,Ukt=eSe.toKey,tSe=function(e,t,r){var n=Bkt(e,t,r);if(n)return!0;var i=Fkt(t);return i!==null?tSe(e,i,r):!1};zkt({target:"Reflect",stat:!0},{hasMetadata:function(t,r){var n=arguments.length<3?void 0:Ukt(arguments[2]);return tSe(t,jkt(r),n)}})});var iSe=I(()=>{"use strict";var Vkt=Q(),nSe=hc(),$kt=Rt(),Hkt=nSe.has,Wkt=nSe.toKey;Vkt({target:"Reflect",stat:!0},{hasOwnMetadata:function(t,r){var n=arguments.length<3?void 0:Wkt(arguments[2]);return Hkt(t,$kt(r),n)}})});var aSe=I(()=>{"use strict";var Gkt=Q(),oSe=hc(),Ykt=Rt(),Zkt=oSe.toKey,Kkt=oSe.set;Gkt({target:"Reflect",stat:!0},{metadata:function(t,r){return function(i,o){Kkt(t,r,Ykt(i),Zkt(o))}}})});var uw=I((nMr,sSe)=>{"use strict";var Xkt=TypeError;sSe.exports=function(e){if(typeof e=="string")return e;throw new Xkt("Argument is not a string")}});var fSe=I(()=>{"use strict";var Qkt=Q(),cw=nt(),Jkt=uw(),e6t=zr(),lSe=cx().start,t6t=bm(),r6t=Array,uSe=RegExp.escape,cSe=cw("".charAt),xF=cw("".charCodeAt),n6t=cw(1.1.toString),i6t=cw([].join),pSe=/^[0-9a-z]/i,o6t=/^[$()*+./?[\\\]^{|}]/,a6t=RegExp("^[!\"#%&',\\-:;<=>@`~"+t6t+"]"),_F=cw(pSe.exec),dSe={"\t":"t","\n":"n","\x0B":"v","\f":"f","\r":"r"},bF=function(e){var t=n6t(xF(e,0),16);return t.length<3?"\\x"+lSe(t,2,"0"):"\\u"+lSe(t,4,"0")},s6t=!uSe||uSe("ab")!=="\\x61b";Qkt({target:"RegExp",stat:!0,forced:s6t},{escape:function(t){Jkt(t);for(var r=t.length,n=r6t(r),i=0;i<r;i++){var o=cSe(t,i);if(i===0&&_F(pSe,o))n[i]=bF(o);else if(e6t(dSe,o))n[i]="\\"+dSe[o];else if(_F(o6t,o))n[i]="\\"+o;else if(_F(a6t,o))n[i]=bF(o);else{var u=xF(o,0);(u&63488)!==55296?n[i]=o:u>=56320||i+1>=r||(xF(t,i+1)&64512)!==56320?n[i]=bF(o):(n[i]=o,n[++i]=cSe(t,i))}}return i6t(n,"")}})});var hSe=I(()=>{"use strict";var l6t=Q(),u6t=$o(),c6t=To().add;l6t({target:"Set",proto:!0,real:!0,forced:!0},{addAll:function(){for(var t=u6t(this),r=0,n=arguments.length;r<n;r++)c6t(t,arguments[r]);return t}})});var mSe=I(()=>{"use strict";var d6t=Q(),p6t=$o(),f6t=To().remove;d6t({target:"Set",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var t=p6t(this),r=!0,n,i=0,o=arguments.length;i<o;i++)n=f6t(t,arguments[i]),r=r&&n;return!!r}})});var gSe=I(()=>{"use strict";E7()});var ySe=I((pMr,vSe)=>{"use strict";var h6t=bs(),m6t=zr(),g6t=Qi(),v6t=gr(),y6t=mm(),_6t=v6t("iterator"),b6t=Object;vSe.exports=function(e){if(g6t(e))return!1;var t=b6t(e);return t[_6t]!==void 0||"@@iterator"in t||m6t(y6t,h6t(t))}});var Rf=I((fMr,bSe)=>{"use strict";var x6t=Ir(),_Se=kr(),w6t=ySe(),S6t=Er(),I6t=x6t("Set"),E6t=function(e){return S6t(e)&&typeof e.size=="number"&&_Se(e.has)&&_Se(e.keys)};bSe.exports=function(e){return E6t(e)?e:w6t(e)?new I6t(e):e}});var xSe=I(()=>{"use strict";var T6t=Q(),M6t=jt(),C6t=Rf(),A6t=I7();T6t({target:"Set",proto:!0,real:!0,forced:!0},{difference:function(t){return M6t(A6t,this,C6t(t))}})});var wSe=I(()=>{"use strict";var P6t=Q(),O6t=Un(),D6t=$o(),N6t=Is();P6t({target:"Set",proto:!0,real:!0,forced:!0},{every:function(t){var r=D6t(this),n=O6t(t,arguments.length>1?arguments[1]:void 0);return N6t(r,function(i){if(!n(i,i,r))return!1},!0)!==!1}})});var ISe=I(()=>{"use strict";var k6t=Q(),L6t=Un(),q6t=$o(),SSe=To(),R6t=Is(),z6t=SSe.Set,j6t=SSe.add;k6t({target:"Set",proto:!0,real:!0,forced:!0},{filter:function(t){var r=q6t(this),n=L6t(t,arguments.length>1?arguments[1]:void 0),i=new z6t;return R6t(r,function(o){n(o,o,r)&&j6t(i,o)}),i}})});var ESe=I(()=>{"use strict";var F6t=Q(),B6t=Un(),U6t=$o(),V6t=Is();F6t({target:"Set",proto:!0,real:!0,forced:!0},{find:function(t){var r=U6t(this),n=B6t(t,arguments.length>1?arguments[1]:void 0),i=V6t(r,function(o){if(n(o,o,r))return{value:o}},!0);return i&&i.value}})});var MSe=I(()=>{"use strict";var $6t=Q(),TSe=To(),H6t=tw();$6t({target:"Set",stat:!0,forced:!0},{from:H6t(TSe.Set,TSe.add,!1)})});var CSe=I(()=>{"use strict";C7()});var ASe=I(()=>{"use strict";var W6t=Q(),G6t=jt(),Y6t=Rf(),Z6t=M7();W6t({target:"Set",proto:!0,real:!0,forced:!0},{intersection:function(t){return G6t(Z6t,this,Y6t(t))}})});var PSe=I(()=>{"use strict";P7()});var OSe=I(()=>{"use strict";var K6t=Q(),X6t=jt(),Q6t=Rf(),J6t=A7();K6t({target:"Set",proto:!0,real:!0,forced:!0},{isDisjointFrom:function(t){return X6t(J6t,this,Q6t(t))}})});var DSe=I(()=>{"use strict";D7()});var NSe=I(()=>{"use strict";var eLt=Q(),tLt=jt(),rLt=Rf(),nLt=O7();eLt({target:"Set",proto:!0,real:!0,forced:!0},{isSubsetOf:function(t){return tLt(nLt,this,rLt(t))}})});var kSe=I(()=>{"use strict";k7()});var LSe=I(()=>{"use strict";var iLt=Q(),oLt=jt(),aLt=Rf(),sLt=N7();iLt({target:"Set",proto:!0,real:!0,forced:!0},{isSupersetOf:function(t){return oLt(sLt,this,aLt(t))}})});var RSe=I(()=>{"use strict";var lLt=Q(),qSe=nt(),uLt=$o(),cLt=Is(),dLt=Mr(),pLt=qSe([].join),fLt=qSe([].push);lLt({target:"Set",proto:!0,real:!0,forced:!0},{join:function(t){var r=uLt(this),n=t===void 0?",":dLt(t),i=[];return cLt(r,function(o){fLt(i,o)}),pLt(i,n)}})});var jSe=I(()=>{"use strict";var hLt=Q(),mLt=Un(),gLt=$o(),zSe=To(),vLt=Is(),yLt=zSe.Set,_Lt=zSe.add;hLt({target:"Set",proto:!0,real:!0,forced:!0},{map:function(t){var r=gLt(this),n=mLt(t,arguments.length>1?arguments[1]:void 0),i=new yLt;return vLt(r,function(o){_Lt(i,n(o,o,r))}),i}})});var BSe=I(()=>{"use strict";var bLt=Q(),FSe=To(),xLt=rw();bLt({target:"Set",stat:!0,forced:!0},{of:xLt(FSe.Set,FSe.add,!1)})});var USe=I(()=>{"use strict";var wLt=Q(),SLt=wr(),ILt=$o(),ELt=Is(),TLt=TypeError;wLt({target:"Set",proto:!0,real:!0,forced:!0},{reduce:function(t){var r=ILt(this),n=arguments.length<2,i=n?void 0:arguments[1];if(SLt(t),ELt(r,function(o){n?(n=!1,i=o):i=t(i,o,o,r)}),n)throw new TLt("Reduce of empty set with no initial value");return i}})});var VSe=I(()=>{"use strict";var MLt=Q(),CLt=Un(),ALt=$o(),PLt=Is();MLt({target:"Set",proto:!0,real:!0,forced:!0},{some:function(t){var r=ALt(this),n=CLt(t,arguments.length>1?arguments[1]:void 0);return PLt(r,function(i){if(n(i,i,r))return!0},!0)===!0}})});var $Se=I(()=>{"use strict";R7()});var HSe=I(()=>{"use strict";var OLt=Q(),DLt=jt(),NLt=Rf(),kLt=q7();OLt({target:"Set",proto:!0,real:!0,forced:!0},{symmetricDifference:function(t){return DLt(kLt,this,NLt(t))}})});var WSe=I(()=>{"use strict";j7()});var GSe=I(()=>{"use strict";var LLt=Q(),qLt=jt(),RLt=Rf(),zLt=z7();LLt({target:"Set",proto:!0,real:!0,forced:!0},{union:function(t){return qLt(zLt,this,RLt(t))}})});var YSe=I(()=>{"use strict";var jLt=Q(),FLt=Tm().charAt,BLt=oi(),ULt=ci(),VLt=Mr();jLt({target:"String",proto:!0,forced:!0},{at:function(t){var r=VLt(BLt(this)),n=r.length,i=ULt(t),o=i>=0?i:n+i;return o<0||o>=n?void 0:FLt(r,o)}})});var wF=I((aCr,QSe)=>{"use strict";var XSe=nt(),$Lt=Ji(),ZSe=Mr(),HLt=rn(),WLt=TypeError,KSe=XSe([].push),GLt=XSe([].join);QSe.exports=function(t){var r=$Lt(t),n=HLt(r);if(!n)return"";for(var i=arguments.length,o=[],u=0;;){var p=r[u++];if(p===void 0)throw new WLt("Incorrect template");if(KSe(o,ZSe(p)),u===n)return GLt(o,"");u<i&&KSe(o,ZSe(arguments[u]))}}});var JSe=I(()=>{"use strict";var YLt=Q(),ZLt=wF();YLt({target:"String",stat:!0,forced:!0},{cooked:ZLt})});var iIe=I(()=>{"use strict";var KLt=Q(),XLt=bf(),eIe=Eo(),QLt=oi(),JLt=Mr(),tIe=An(),rIe=Tm(),eqt=rIe.codeAt,tqt=rIe.charAt,nIe="String Iterator",rqt=tIe.set,nqt=tIe.getterFor(nIe),iqt=XLt(function(t){rqt(this,{type:nIe,string:t,index:0})},"String",function(){var t=nqt(this),r=t.string,n=t.index,i;return n>=r.length?eIe(void 0,!0):(i=tqt(r,n),t.index+=i.length,eIe({codePoint:eqt(i,0),position:n},!1))});KLt({target:"String",proto:!0,forced:!0},{codePoints:function(){return new iqt(JLt(QLt(this)))}})});var Ad=I((dCr,oIe)=>{"use strict";var l5=nt(),u5=WeakMap.prototype;oIe.exports={WeakMap,set:l5(u5.set),get:l5(u5.get),has:l5(u5.has),remove:l5(u5.delete)}});var hIe=I((pCr,fIe)=>{"use strict";var oqt=Ir(),c5=nt(),aqt=String.fromCharCode,sqt=oqt("String","fromCodePoint"),SF=c5("".charAt),dIe=c5("".charCodeAt),aIe=c5("".indexOf),sIe=c5("".slice),EF=48,pIe=57,lIe=97,lqt=102,uIe=65,uqt=70,cIe=function(e,t){var r=dIe(e,t);return r>=EF&&r<=pIe},IF=function(e,t,r){if(r>=e.length)return-1;for(var n=0;t<r;t++){var i=cqt(dIe(e,t));if(i===-1)return-1;n=n*16+i}return n},cqt=function(e){return e>=EF&&e<=pIe?e-EF:e>=lIe&&e<=lqt?e-lIe+10:e>=uIe&&e<=uqt?e-uIe+10:-1};fIe.exports=function(e){for(var t="",r=0,n=0,i;(n=aIe(e,"\\",n))>-1;){if(t+=sIe(e,r,n),++n===e.length)return;var o=SF(e,n++);switch(o){case"b":t+="\b";break;case"t":t+="\t";break;case"n":t+=`
`;break;case"v":t+="\x0B";break;case"f":t+="\f";break;case"r":t+="\r";break;case"\r":n<e.length&&SF(e,n)===`
`&&++n;case`
`:case"\u2028":case"\u2029":break;case"0":if(cIe(e,n))return;t+="\0";break;case"x":if(i=IF(e,n,n+2),i===-1)return;n+=2,t+=aqt(i);break;case"u":if(n<e.length&&SF(e,n)==="{"){var u=aIe(e,"}",++n);if(u===-1)return;i=IF(e,n,u),n=u+1}else i=IF(e,n,n+4),n+=4;if(i===-1||i>1114111)return;t+=sqt(i);break;default:if(cIe(o,0))return;t+=o;}r=n}return t+sIe(e,r)}});var IIe=I(()=>{"use strict";var dqt=Td(),pqt=Q(),fqt=Fb(),d5=nt(),_Ie=ba(),bIe=Rt(),hqt=Hr(),mqt=kr(),gqt=rn(),vqt=ti().f,yqt=xs(),p5=Ad(),_qt=wF(),bqt=hIe(),xIe=bm(),TF=new p5.WeakMap,xqt=p5.get,wqt=p5.has,Sqt=p5.set,MF=Array,dw=TypeError,mIe=Object.freeze||Object,Iqt=Object.isFrozen,Eqt=Math.min,gIe=d5("".charAt),wIe=d5("".slice),Tqt=d5("".split),vIe=d5(/./.exec),Mqt=/([\n\u2028\u2029]|\r\n?)/g,Cqt=RegExp("^["+xIe+"]*"),Aqt=RegExp("[^"+xIe+"]"),yIe="Invalid tag",Pqt="Invalid opening line",Oqt="Invalid closing line",Dqt=function(e){var t=e.raw;if(dqt&&!Iqt(t))throw new dw("Raw template should be frozen");if(wqt(TF,t))return xqt(TF,t);var r=Nqt(t),n=Lqt(r);return vqt(n,"raw",{value:mIe(r)}),mIe(n),Sqt(TF,t,n),n},Nqt=function(e){var t=hqt(e),r=gqt(t),n=MF(r),i=MF(r),o=0,u,p,h,y;if(!r)throw new dw(yIe);for(;o<r;o++){var _=t[o];if(typeof _=="string")n[o]=Tqt(_,Mqt);else throw new dw(yIe)}for(o=0;o<r;o++){var E=o+1===r;if(u=n[o],o===0){if(u.length===1||u[0].length>0)throw new dw(Pqt);u[1]=""}if(E){if(u.length===1||vIe(Aqt,u[u.length-1]))throw new dw(Oqt);u[u.length-2]="",u[u.length-1]=""}for(var T=2;T<u.length;T+=2){var N=u[T],R=T+1===u.length&&!E,j=vIe(Cqt,N)[0];if(!R&&j.length===N.length){u[T]="";continue}p=kqt(j,p)}}var k=p?p.length:0;for(o=0;o<r;o++){for(u=n[o],h=u[0],y=1;y<u.length;y+=2)h+=u[y]+wIe(u[y+1],k);i[o]=h}return i},kqt=function(e,t){if(t===void 0||e===t)return e;for(var r=0,n=Eqt(e.length,t.length);r<n&&gIe(e,r)===gIe(t,r);r++);return wIe(e,0,r)},Lqt=function(e){for(var t=0,r=e.length,n=MF(r);t<r;t++)n[t]=bqt(e[t]);return n},SIe=function(e){return fqt(function(t){var r=yqt(arguments);return r[0]=Dqt(bIe(t)),_Ie(e,this,r)},"")},qqt=SIe(_qt);pqt({target:"String",stat:!0,forced:!0},{dedent:function(t){return bIe(t),mqt(t)?SIe(t):_Ie(qqt,this,arguments)}})});var EIe=I(()=>{"use strict";U7()});var TIe=I(()=>{"use strict";K7()});var MIe=I(()=>{"use strict";az()});var CIe=I(()=>{"use strict";fz()});var AIe=I(()=>{"use strict";var Rqt=Dt(),zqt=Ei(),jqt=ti().f,Fqt=So().f,CF=Rqt.Symbol;zqt("asyncDispose");CF&&(pw=Fqt(CF,"asyncDispose"),pw.enumerable&&pw.configurable&&pw.writable&&jqt(CF,"asyncDispose",{value:pw.value,enumerable:!1,configurable:!1,writable:!1}));var pw});var PIe=I(()=>{"use strict";var Bqt=Ei();Bqt("customMatcher")});var OIe=I(()=>{"use strict";var Uqt=Dt(),Vqt=Ei(),$qt=ti().f,Hqt=So().f,AF=Uqt.Symbol;Vqt("dispose");AF&&(fw=Hqt(AF,"dispose"),fw.enumerable&&fw.configurable&&fw.writable&&$qt(AF,"dispose",{value:fw.value,enumerable:!1,configurable:!1,writable:!1}));var fw});var OF=I((ACr,DIe)=>{"use strict";var Wqt=Ir(),Gqt=nt(),PF=Wqt("Symbol"),Yqt=PF.keyFor,Zqt=Gqt(PF.prototype.valueOf);DIe.exports=PF.isRegisteredSymbol||function(t){try{return Yqt(Zqt(t))!==void 0}catch(r){return!1}}});var NIe=I(()=>{"use strict";var Kqt=Q(),Xqt=OF();Kqt({target:"Symbol",stat:!0},{isRegisteredSymbol:Xqt})});var kIe=I(()=>{"use strict";var Qqt=Q(),Jqt=OF();Qqt({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:Jqt})});var kF=I((kCr,FIe)=>{"use strict";var eRt=md(),zIe=Ir(),tRt=nt(),rRt=hd(),nRt=gr(),h5=zIe("Symbol"),LIe=h5.isWellKnownSymbol,jIe=zIe("Object","getOwnPropertyNames"),iRt=tRt(h5.prototype.valueOf),qIe=eRt("wks");for(f5=0,DF=jIe(h5),RIe=DF.length;f5<RIe;f5++)try{NF=DF[f5],rRt(h5[NF])&&nRt(NF)}catch(e){}var NF,f5,DF,RIe;FIe.exports=function(t){if(LIe&&LIe(t))return!0;try{for(var r=iRt(t),n=0,i=jIe(qIe),o=i.length;n<o;n++)if(qIe[i[n]]==r)return!0}catch(u){}return!1}});var BIe=I(()=>{"use strict";var oRt=Q(),aRt=kF();oRt({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:aRt})});var UIe=I(()=>{"use strict";var sRt=Q(),lRt=kF();sRt({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:lRt})});var VIe=I(()=>{"use strict";var uRt=Ei();uRt("matcher")});var $Ie=I(()=>{"use strict";var cRt=Ei();cRt("metadata")});var HIe=I(()=>{"use strict";var dRt=Ei();dRt("metadataKey")});var WIe=I(()=>{"use strict";var pRt=Ei();pRt("observable")});var GIe=I(()=>{"use strict";var fRt=Ei();fRt("patternMatch")});var YIe=I(()=>{"use strict";var hRt=Ei();hRt("replaceAll")});var KIe=I(()=>{"use strict";var mRt=Ir(),gRt=Sx(),vRt=oj(),ZIe=Ur(),yRt=xd(),_Rt=ZIe.aTypedArrayConstructor,bRt=ZIe.exportTypedArrayStaticMethod;bRt("fromAsync",function(t){var r=this,n=arguments.length,i=n>1?arguments[1]:void 0,o=n>2?arguments[2]:void 0;return new(mRt("Promise"))(function(u){gRt(r),u(vRt(t,i,o))}).then(function(u){return yRt(_Rt(r),u)})},!0)});var XIe=I(()=>{"use strict";Cz()});var JIe=I(()=>{"use strict";var QIe=Ur(),xRt=Fi().filterReject,wRt=mC(),SRt=QIe.aTypedArray,IRt=QIe.exportTypedArrayMethod;IRt("filterOut",function(t){var r=xRt(SRt(this),t,arguments.length>1?arguments[1]:void 0);return wRt(this,r)},!0)});var tEe=I(()=>{"use strict";var eEe=Ur(),ERt=Fi().filterReject,TRt=mC(),MRt=eEe.aTypedArray,CRt=eEe.exportTypedArrayMethod;CRt("filterReject",function(t){var r=ERt(MRt(this),t,arguments.length>1?arguments[1]:void 0);return TRt(this,r)},!0)});var rEe=I(()=>{"use strict";Az()});var nEe=I(()=>{"use strict";Pz()});var iEe=I(()=>{"use strict";var LF=Ur(),ARt=kC(),PRt=LF.aTypedArray,ORt=LF.getTypedArrayConstructor,DRt=LF.exportTypedArrayMethod;DRt("groupBy",function(t){var r=arguments.length>1?arguments[1]:void 0;return ARt(PRt(this),t,r,ORt)},!0)});var oEe=I(()=>{"use strict";$z()});var aEe=I(()=>{"use strict";Hz()});var sEe=I(()=>{"use strict";var qF=Ur(),NRt=rn(),kRt=cC(),LRt=vu(),qRt=zx(),RRt=ci(),zRt=ft(),jRt=qF.aTypedArray,FRt=qF.getTypedArrayConstructor,BRt=qF.exportTypedArrayMethod,URt=Math.max,VRt=Math.min,$Rt=!zRt(function(){var e=new Int8Array([1]),t=e.toSpliced(1,0,{valueOf:function(){return e[0]=2,3}});return t[0]!==2||t[1]!==3});BRt("toSpliced",function(t,r){var n=jRt(this),i=FRt(n),o=NRt(n),u=LRt(t,o),p=arguments.length,h=0,y,_,E,T,N,R,j;if(p===0)y=_=0;else if(p===1)y=0,_=o-u;else if(_=VRt(URt(RRt(r),0),o-u),y=p-2,y){T=new i(y),E=kRt(T);for(var k=2;k<p;k++)N=arguments[k],T[k-2]=E?qRt(N):+N}for(R=o+y-_,j=new i(R);h<u;h++)j[h]=n[h];for(;h<u+y;h++)j[h]=T[h-u];for(;h<R;h++)j[h]=n[h+_-y];return j},!$Rt)});var lEe=I(()=>{"use strict";var HRt=nt(),RF=Ur(),WRt=xd(),GRt=qC(),YRt=RF.aTypedArray,ZRt=RF.getTypedArrayConstructor,KRt=RF.exportTypedArrayMethod,XRt=HRt(GRt);KRt("uniqueBy",function(t){return YRt(this),WRt(ZRt(this),XRt(this,t))},!0)});var uEe=I(()=>{"use strict";Gz()});var zF=I((x5r,cEe)=>{"use strict";var QRt=Er(),JRt=String,e8t=TypeError;cEe.exports=function(e){if(e===void 0||QRt(e))return e;throw new e8t(JRt(e)+" is not an object or undefined")}});var hw=I((w5r,mEe)=>{"use strict";var hEe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",dEe=hEe+"+/",pEe=hEe+"-_",fEe=function(e){for(var t={},r=0;r<64;r++)t[e.charAt(r)]=r;return t};mEe.exports={i2c:dEe,c2i:fEe(dEe),i2cUrl:pEe,c2iUrl:fEe(pEe)}});var jF=I((S5r,gEe)=>{"use strict";var t8t=TypeError;gEe.exports=function(e){var t=e&&e.alphabet;if(t===void 0||t==="base64"||t==="base64url")return t||"base64";throw new t8t("Incorrect `alphabet` option")}});var VF=I((I5r,_Ee)=>{"use strict";var vEe=Dt(),r8t=nt(),n8t=zF(),i8t=uw(),o8t=zr(),yEe=hw(),a8t=jF(),s8t=cy(),l8t=yEe.c2i,u8t=yEe.c2iUrl,zf=vEe.SyntaxError,c8t=vEe.TypeError,Dm=r8t("".charAt),FF=function(e,t){for(var r=e.length;t<r;t++){var n=Dm(e,t);if(n!==" "&&n!=="\t"&&n!==`
`&&n!=="\f"&&n!=="\r")break}return t},BF=function(e,t,r){var n=e.length;n<4&&(e+=n===2?"AA":"A");var i=(t[Dm(e,0)]<<18)+(t[Dm(e,1)]<<12)+(t[Dm(e,2)]<<6)+t[Dm(e,3)],o=[i>>16&255,i>>8&255,i&255];if(n===2){if(r&&o[1]!==0)throw new zf("Extra bits");return[o[0]]}if(n===3){if(r&&o[2]!==0)throw new zf("Extra bits");return[o[0],o[1]]}return o},UF=function(e,t,r){for(var n=t.length,i=0;i<n;i++)e[r+i]=t[i];return r+n};_Ee.exports=function(e,t,r,n){i8t(e),n8t(t);var i=a8t(t)==="base64"?l8t:u8t,o=t?t.lastChunkHandling:void 0;if(o===void 0&&(o="loose"),o!=="loose"&&o!=="strict"&&o!=="stop-before-partial")throw new c8t("Incorrect `lastChunkHandling` option");r&&s8t(r.buffer);var u=r||[],p=0,h=0,y="",_=0;if(n)for(;;){if(_=FF(e,_),_===e.length){if(y.length>0){if(o==="stop-before-partial")break;if(o==="loose"){if(y.length===1)throw new zf("Malformed padding: exactly one additional character");p=UF(u,BF(y,i,!1),p)}else throw new zf("Missing padding")}h=e.length;break}var E=Dm(e,_);if(++_,E==="="){if(y.length<2)throw new zf("Padding is too early");if(_=FF(e,_),y.length===2){if(_===e.length){if(o==="stop-before-partial")break;throw new zf("Malformed padding: only one =")}Dm(e,_)==="="&&(++_,_=FF(e,_))}if(_<e.length)throw new zf("Unexpected character after padding");p=UF(u,BF(y,i,o==="strict"),p),h=e.length;break}if(!o8t(i,E))throw new zf("Unexpected character");var T=n-p;if(T===1&&y.length===2||T===2&&y.length===3||(y+=E,y.length===4&&(p=UF(u,BF(y,i,!1),p),y="",h=_,p===n)))break}return{bytes:u,read:h,written:p}}});var xEe=I(()=>{"use strict";var d8t=Q(),p8t=Dt(),f8t=xd(),h8t=VF(),bEe=p8t.Uint8Array;bEe&&d8t({target:"Uint8Array",stat:!0},{fromBase64:function(t){var r=h8t(t,arguments.length>1?arguments[1]:void 0,null,9007199254740991);return f8t(bEe,r.bytes)}})});var HF=I((M5r,EEe)=>{"use strict";var $F=Dt(),SEe=nt(),m8t=$F.Uint8Array,wEe=$F.SyntaxError,g8t=$F.parseInt,v8t=Math.min,IEe=/[^\da-f]/i,y8t=SEe(IEe.exec),_8t=SEe("".slice);EEe.exports=function(e,t){var r=e.length;if(r%2!==0)throw new wEe("String should be an even number of characters");for(var n=t?v8t(t.length,r/2):r/2,i=t||new m8t(n),o=0,u=0;u<n;){var p=_8t(e,o,o+=2);if(y8t(IEe,p))throw new wEe("String should only contain hex characters");i[u++]=g8t(p,16)}return{bytes:i,read:o}}});var TEe=I(()=>{"use strict";var b8t=Q(),x8t=Dt(),w8t=uw(),S8t=HF();x8t.Uint8Array&&b8t({target:"Uint8Array",stat:!0},{fromHex:function(t){return S8t(w8t(t)).bytes}})});var mw=I((P5r,MEe)=>{"use strict";var I8t=bs(),E8t=TypeError;MEe.exports=function(e){if(I8t(e)==="Uint8Array")return e;throw new E8t("Argument is not an Uint8Array")}});var CEe=I(()=>{"use strict";var T8t=Q(),M8t=Dt(),C8t=VF(),A8t=mw(),P8t=M8t.Uint8Array;P8t&&T8t({target:"Uint8Array",proto:!0},{setFromBase64:function(t){A8t(this);var r=C8t(t,arguments.length>1?arguments[1]:void 0,this,this.length);return{read:r.read,written:r.written}}})});var AEe=I(()=>{"use strict";var O8t=Q(),D8t=Dt(),N8t=uw(),k8t=mw(),L8t=cy(),q8t=HF();D8t.Uint8Array&&O8t({target:"Uint8Array",proto:!0},{setFromHex:function(t){k8t(this),N8t(t),L8t(this.buffer);var r=q8t(t,this).read;return{read:r,written:r/2}}})});var OEe=I(()=>{"use strict";var R8t=Q(),z8t=Dt(),j8t=nt(),F8t=zF(),B8t=mw(),U8t=cy(),PEe=hw(),V8t=jF(),$8t=PEe.i2c,H8t=PEe.i2cUrl,W8t=j8t("".charAt);z8t.Uint8Array&&R8t({target:"Uint8Array",proto:!0},{toBase64:function(){var t=B8t(this),r=arguments.length?F8t(arguments[0]):void 0,n=V8t(r)==="base64"?$8t:H8t,i=!!r&&!!r.omitPadding;U8t(this.buffer);for(var o="",u=0,p=t.length,h,y=function(_){return W8t(n,h>>6*_&63)};u+2<p;u+=3)h=(t[u]<<16)+(t[u+1]<<8)+t[u+2],o+=y(3)+y(2)+y(1)+y(0);return u+2===p?(h=(t[u]<<16)+(t[u+1]<<8),o+=y(3)+y(2)+y(1)+(i?"":"=")):u+1===p&&(h=t[u]<<16,o+=y(3)+y(2)+(i?"":"==")),o}})});var DEe=I(()=>{"use strict";var G8t=Q(),Y8t=Dt(),Z8t=nt(),K8t=mw(),X8t=cy(),Q8t=Z8t(1 .toString);Y8t.Uint8Array&&G8t({target:"Uint8Array",proto:!0},{toHex:function(){K8t(this),X8t(this.buffer);for(var t="",r=0,n=this.length;r<n;r++){var i=Q8t(this[r],16);t+=i.length===1?"0"+i:i}return t}})});var gw=I((j5r,NEe)=>{"use strict";var J8t=Ad().has;NEe.exports=function(e){return J8t(e),e}});var kEe=I(()=>{"use strict";var e9t=Q(),t9t=gw(),r9t=Ad().remove;e9t({target:"WeakMap",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var t=t9t(this),r=!0,n,i=0,o=arguments.length;i<o;i++)n=r9t(t,arguments[i]),r=r&&n;return!!r}})});var qEe=I(()=>{"use strict";var n9t=Q(),LEe=Ad(),i9t=tw();n9t({target:"WeakMap",stat:!0,forced:!0},{from:i9t(LEe.WeakMap,LEe.set,!0)})});var zEe=I(()=>{"use strict";var o9t=Q(),REe=Ad(),a9t=rw();o9t({target:"WeakMap",stat:!0,forced:!0},{of:a9t(REe.WeakMap,REe.set,!0)})});var FEe=I(()=>{"use strict";var s9t=Q(),l9t=gw(),WF=Ad(),u9t=WF.get,c9t=WF.has,jEe=WF.set;s9t({target:"WeakMap",proto:!0,real:!0,forced:!0},{emplace:function(t,r){var n=l9t(this),i,o;return c9t(n,t)?(i=u9t(n,t),"update"in r&&(i=r.update(i,t,n),jEe(n,t,i)),i):(o=r.insert(t,n),jEe(n,t,o),o)}})});var BEe=I(()=>{"use strict";var d9t=Q(),p9t=gw(),GF=Ad(),f9t=GF.get,h9t=GF.has,m9t=GF.set;d9t({target:"WeakMap",proto:!0,real:!0,forced:!0},{getOrInsert:function(t,r){return h9t(p9t(this),t)?f9t(this,t):(m9t(this,t,r),r)}})});var VEe=I(()=>{"use strict";var g9t=Q(),v9t=wr(),y9t=gw(),YF=Ad(),_9t=YF.get,b9t=YF.has,UEe=YF.set;g9t({target:"WeakMap",proto:!0,real:!0,forced:!0},{getOrInsertComputed:function(t,r){if(y9t(this),v9t(r),b9t(this,t))return _9t(this,t);UEe(this,t);var n=r(t);return UEe(this,t,n),n}})});var $Ee=I(()=>{"use strict";var x9t=Q(),w9t=e5();x9t({target:"WeakMap",proto:!0,real:!0,forced:!0},{upsert:w9t})});var By=I((eAr,HEe)=>{"use strict";var ZF=nt(),KF=WeakSet.prototype;HEe.exports={WeakSet,add:ZF(KF.add),has:ZF(KF.has),remove:ZF(KF.delete)}});var XF=I((tAr,WEe)=>{"use strict";var S9t=By().has;WEe.exports=function(e){return S9t(e),e}});var GEe=I(()=>{"use strict";var I9t=Q(),E9t=XF(),T9t=By().add;I9t({target:"WeakSet",proto:!0,real:!0,forced:!0},{addAll:function(){for(var t=E9t(this),r=0,n=arguments.length;r<n;r++)T9t(t,arguments[r]);return t}})});var YEe=I(()=>{"use strict";var M9t=Q(),C9t=XF(),A9t=By().remove;M9t({target:"WeakSet",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var t=C9t(this),r=!0,n,i=0,o=arguments.length;i<o;i++)n=A9t(t,arguments[i]),r=r&&n;return!!r}})});var KEe=I(()=>{"use strict";var P9t=Q(),ZEe=By(),O9t=tw();P9t({target:"WeakSet",stat:!0,forced:!0},{from:O9t(ZEe.WeakSet,ZEe.add,!1)})});var QEe=I(()=>{"use strict";var D9t=Q(),XEe=By(),N9t=rw();D9t({target:"WeakSet",stat:!0,forced:!0},{of:N9t(XEe.WeakSet,XEe.add,!1)})});var oTe=I(()=>{"use strict";var k9t=Q(),L9t=Dt(),tTe=Ir(),QF=nt(),q9t=jt(),m5=ft(),R9t=Mr(),z9t=nl(),JEe=hw().c2i,rTe=/[^\d+/a-z]/i,j9t=/[\t\n\f\r ]+/g,F9t=/[=]{1,2}$/,Nm=tTe("atob"),B9t=String.fromCharCode,U9t=QF("".charAt),eTe=QF("".replace),V9t=QF(rTe.exec),Uy=!!Nm&&!m5(function(){return Nm("aGk=")!=="hi"}),nTe=Uy&&m5(function(){return Nm(" ")!==""}),iTe=Uy&&!m5(function(){Nm("a")}),$9t=Uy&&!m5(function(){Nm()}),H9t=Uy&&Nm.length!==1,W9t=!Uy||nTe||iTe||$9t||H9t;k9t({global:!0,bind:!0,enumerable:!0,forced:W9t},{atob:function(t){if(z9t(arguments.length,1),Uy&&!nTe&&!iTe)return q9t(Nm,L9t,t);var r=eTe(R9t(t),j9t,""),n="",i=0,o=0,u,p,h;if(r.length%4===0&&(r=eTe(r,F9t,"")),u=r.length,u%4===1||V9t(rTe,r))throw new(tTe("DOMException"))("The string is not correctly encoded","InvalidCharacterError");for(;i<u;)p=U9t(r,i++),h=o%4?h*64+JEe[p]:JEe[p],o++%4&&(n+=B9t(255&h>>(-2*o&6)));return n}})});var cTe=I(()=>{"use strict";var G9t=Q(),Y9t=Dt(),lTe=Ir(),uTe=nt(),Z9t=jt(),JF=ft(),aTe=Mr(),K9t=nl(),X9t=hw().i2c,Vy=lTe("btoa"),sTe=uTe("".charAt),Q9t=uTe("".charCodeAt),vw=!!Vy&&!JF(function(){return Vy("hi")!=="aGk="}),J9t=vw&&!JF(function(){Vy()}),e7t=vw&&JF(function(){return Vy(null)!=="bnVsbA=="}),t7t=vw&&Vy.length!==1;G9t({global:!0,bind:!0,enumerable:!0,forced:!vw||J9t||e7t||t7t},{btoa:function(t){if(K9t(arguments.length,1),vw)return Z9t(Vy,Y9t,aTe(t));for(var r=aTe(t),n="",i=0,o=X9t,u,p;sTe(r,i)||(o="=",i%1);){if(p=Q9t(r,i+=3/4),p>255)throw new(lTe("DOMException"))("The string contains characters outside of the Latin1 range","InvalidCharacterError");u=u<<8|p,n+=sTe(o,63&u>>8-i%1*8)}return n}})});var eB=I((hAr,dTe)=>{"use strict";dTe.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}});var rB=I((mAr,fTe)=>{"use strict";var r7t=qb(),tB=r7t("span").classList,pTe=tB&&tB.constructor&&tB.constructor.prototype;fTe.exports=pTe===Object.prototype?void 0:pTe});var vTe=I(()=>{"use strict";var hTe=Dt(),mTe=eB(),n7t=rB(),nB=rR(),i7t=eo(),gTe=function(e){if(e&&e.forEach!==nB)try{i7t(e,"forEach",nB)}catch(t){e.forEach=nB}};for(g5 in mTe)mTe[g5]&&gTe(hTe[g5]&&hTe[g5].prototype);var g5;gTe(n7t)});var wTe=I(()=>{"use strict";var yTe=Dt(),bTe=eB(),o7t=rB(),yw=rx(),_Te=eo(),a7t=Ga(),s7t=gr(),iB=s7t("iterator"),oB=yw.values,xTe=function(e,t){if(e){if(e[iB]!==oB)try{_Te(e,iB,oB)}catch(n){e[iB]=oB}if(a7t(e,t,!0),bTe[t]){for(var r in yw)if(e[r]!==yw[r])try{_Te(e,r,yw[r])}catch(n){e[r]=yw[r]}}}};for(v5 in bTe)xTe(yTe[v5]&&yTe[v5].prototype,v5);var v5;xTe(o7t,"DOMTokenList")});var aB=I((bAr,STe)=>{"use strict";STe.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}});var kTe=I(()=>{"use strict";var l7t=Q(),b5=Ir(),u7t=GR(),pB=ft(),c7t=ji(),fB=ys(),x5=ti().f,d7t=Ln(),y5=di(),_5=zr(),p7t=xa(),f7t=Rt(),TTe=jq(),ITe=fm(),$y=aB(),h7t=$T(),MTe=An(),hB=cr(),CTe=$r(),Hy="DOMException",dB="DATA_CLONE_ERR",S5=b5("Error"),Pd=b5(Hy)||function(){try{var e=b5("MessageChannel")||u7t("worker_threads").MessageChannel;new e().port1.postMessage(new WeakMap)}catch(t){if(t.name===dB&&t.code===25)return t.constructor}}(),m7t=Pd&&Pd.prototype,ATe=S5.prototype,g7t=MTe.set,v7t=MTe.getterFor(Hy),y7t="stack"in new S5(Hy),PTe=function(e){return _5($y,e)&&$y[e].m?$y[e].c:0},mB=function(){p7t(this,bw);var t=arguments.length,r=ITe(t<1?void 0:arguments[0]),n=ITe(t<2?void 0:arguments[1],"Error"),i=PTe(n);if(g7t(this,{type:Hy,name:n,message:r,code:i}),hB||(this.name=n,this.message=r,this.code=i),y7t){var o=new S5(r);o.name=Hy,x5(this,"stack",fB(1,h7t(o.stack,1)))}},bw=mB.prototype=c7t(ATe),OTe=function(e){return{enumerable:!0,configurable:!0,get:e}},sB=function(e){return OTe(function(){return v7t(this)[e]})};hB&&(y5(bw,"code",sB("code")),y5(bw,"message",sB("message")),y5(bw,"name",sB("name")));x5(bw,"constructor",fB(1,mB));var I5=pB(function(){return!(new Pd instanceof S5)}),DTe=I5||pB(function(){return ATe.toString!==TTe||String(new Pd(1,2))!=="2: 1"}),NTe=I5||pB(function(){return new Pd(1,"DataCloneError").code!==25}),_7t=I5||Pd[dB]!==25||m7t[dB]!==25,ETe=CTe?DTe||NTe||_7t:I5;l7t({global:!0,constructor:!0,forced:ETe},{DOMException:ETe?mB:Pd});var xw=b5(Hy),w5=xw.prototype;DTe&&(CTe||Pd===xw)&&d7t(w5,"toString",TTe);NTe&&hB&&Pd===xw&&y5(w5,"code",OTe(function(){return PTe(f7t(this).name)}));for(lB in $y)_5($y,lB)&&(uB=$y[lB],_w=uB.s,cB=fB(6,uB.c),_5(xw,_w)||x5(xw,_w,cB),_5(w5,_w)||x5(w5,_w,cB));var uB,_w,cB,lB});var BTe=I(()=>{"use strict";var b7t=Q(),x7t=Dt(),SB=Ir(),xB=ys(),wB=ti().f,LTe=zr(),w7t=xa(),S7t=vf(),qTe=fm(),gB=aB(),I7t=$T(),E7t=cr(),jTe=$r(),Sw="DOMException",FTe=SB("Error"),Iw=SB(Sw),IB=function(){w7t(this,T7t);var t=arguments.length,r=qTe(t<1?void 0:arguments[0]),n=qTe(t<2?void 0:arguments[1],"Error"),i=new Iw(r,n),o=new FTe(r);return o.name=Sw,wB(i,"stack",xB(1,I7t(o.stack,1))),S7t(i,this,IB),i},T7t=IB.prototype=Iw.prototype,M7t="stack"in new FTe(Sw),C7t="stack"in new Iw(1,2),vB=Iw&&E7t&&Object.getOwnPropertyDescriptor(x7t,Sw),A7t=!!vB&&!(vB.writable&&vB.configurable),RTe=M7t&&!A7t&&!C7t;b7t({global:!0,constructor:!0,forced:jTe||RTe},{DOMException:RTe?IB:Iw});var ww=SB(Sw),zTe=ww.prototype;if(zTe.constructor!==ww){jTe||wB(zTe,"constructor",xB(1,ww));for(yB in gB)LTe(gB,yB)&&(_B=gB[yB],bB=_B.s,LTe(ww,bB)||wB(ww,bB,xB(6,_B.c)))}var _B,bB,yB});var VTe=I(()=>{"use strict";var P7t=Ir(),O7t=Ga(),UTe="DOMException";O7t(P7t(UTe),UTe)});var HTe=I(()=>{"use strict";var D7t=Q(),N7t=Dt(),$Te=Mx().clear;D7t({global:!0,bind:!0,enumerable:!0,forced:N7t.clearImmediate!==$Te},{clearImmediate:$Te})});var E5=I((AAr,GTe)=>{"use strict";var WTe=Dt(),k7t=ba(),L7t=kr(),q7t=ox(),R7t=hu(),z7t=xs(),j7t=nl(),F7t=WTe.Function,B7t=/MSIE .\./.test(R7t)||q7t==="BUN"&&function(){var e=WTe.Bun.version.split(".");return e.length<3||e[0]==="0"&&(e[1]<3||e[1]==="3"&&e[2]==="0")}();GTe.exports=function(e,t){var r=t?2:1;return B7t?function(n,i){var o=j7t(arguments.length,1)>r,u=L7t(n)?n:F7t(n),p=o?z7t(arguments,r):[],h=o?function(){k7t(u,this,p)}:u;return t?e(h,i):e(h)}:e}});var XTe=I(()=>{"use strict";var U7t=Q(),KTe=Dt(),YTe=Mx().set,V7t=E5(),ZTe=KTe.setImmediate?V7t(YTe,!1):YTe;U7t({global:!0,bind:!0,enumerable:!0,forced:KTe.setImmediate!==ZTe},{setImmediate:ZTe})});var QTe=I(()=>{"use strict";HTe();XTe()});var JTe=I(()=>{"use strict";var $7t=Q(),H7t=Dt(),W7t=z9(),G7t=wr(),Y7t=nl(),Z7t=ft(),K7t=cr(),X7t=Z7t(function(){return K7t&&Object.getOwnPropertyDescriptor(H7t,"queueMicrotask").value.length!==1});$7t({global:!0,enumerable:!0,dontCallGetSet:!0,forced:X7t},{queueMicrotask:function(t){Y7t(arguments.length,1),W7t(G7t(t))}})});var tMe=I(()=>{"use strict";var Q7t=Q(),jf=Dt(),J7t=di(),ezt=cr(),tzt=TypeError,rzt=Object.defineProperty,eMe=jf.self!==jf;try{ezt?(T5=Object.getOwnPropertyDescriptor(jf,"self"),(eMe||!T5||!T5.get||!T5.enumerable)&&J7t(jf,"self",{get:function(){return jf},set:function(t){if(this!==jf)throw new tzt("Illegal invocation");rzt(jf,"self",{value:t,writable:!0,configurable:!0,enumerable:!0})},configurable:!0,enumerable:!0})):Q7t({global:!0,simple:!0,forced:eMe},{self:jf})}catch(e){}var T5});var pMe=I(()=>{"use strict";var nzt=$r(),izt=Q(),Yo=Dt(),Tw=Ir(),Cw=nt(),PB=ft(),ozt=ff(),Gy=kr(),azt=_u(),szt=Qi(),O5=Er(),lzt=hd(),uzt=Ti(),iMe=Rt(),A5=bs(),czt=zr(),dzt=Nl(),EB=eo(),M5=rn(),pzt=nl(),fzt=Sy(),D5=uo(),OB=To(),hzt=Is(),rMe=e8(),mzt=Lq(),DB=SM(),Ew=Yo.Object,gzt=Yo.Array,oMe=Yo.Date,aMe=Yo.Error,vzt=Yo.TypeError,yzt=Yo.PerformanceMark,km=Tw("DOMException"),CB=D5.Map,NB=D5.has,sMe=D5.get,P5=D5.set,lMe=OB.Set,uMe=OB.add,_zt=OB.has,bzt=Tw("Object","keys"),xzt=Cw([].push),wzt=Cw((!0).valueOf),Szt=Cw(1 .valueOf),Izt=Cw("".valueOf),Ezt=Cw(oMe.prototype.getTime),AB=ozt("structuredClone"),Mw="DataCloneError",C5="Transferring",cMe=function(e){return!PB(function(){var t=new Yo.Set([7]),r=e(t),n=e(Ew(7));return r===t||!r.has(7)||!O5(n)||+n!=7})&&e},nMe=function(e,t){return!PB(function(){var r=new t,n=e({a:r,b:r});return!(n&&n.a===n.b&&n.a instanceof t&&n.a.stack===r.stack)})},Tzt=function(e){return!PB(function(){var t=e(new Yo.AggregateError([1],AB,{cause:3}));return t.name!=="AggregateError"||t.errors[0]!==1||t.message!==AB||t.cause!==3})},Wy=Yo.structuredClone,Mzt=nzt||!nMe(Wy,aMe)||!nMe(Wy,km)||!Tzt(Wy),Czt=!Wy&&cMe(function(e){return new yzt(AB,{detail:e}).detail}),Od=cMe(Wy)||Czt,TB=function(e){throw new km("Uncloneable type: "+e,Mw)},Ms=function(e,t){throw new km((t||"Cloning")+" of "+e+" cannot be properly polyfilled in this engine",Mw)},MB=function(e,t){return Od||Ms(t),Od(e)},Azt=function(){var e;try{e=new Yo.DataTransfer}catch(t){try{e=new Yo.ClipboardEvent("").clipboardData}catch(r){}}return e&&e.items&&e.files?e:null},dMe=function(e,t,r){if(NB(t,e))return sMe(t,e);var n=r||A5(e),i,o,u,p,h,y;if(n==="SharedArrayBuffer")Od?i=Od(e):i=e;else{var _=Yo.DataView;!_&&!Gy(e.slice)&&Ms("ArrayBuffer");try{if(Gy(e.slice)&&!e.resizable)i=e.slice(0);else for(o=e.byteLength,u=("maxByteLength"in e)?{maxByteLength:e.maxByteLength}:void 0,i=new ArrayBuffer(o,u),p=new _(e),h=new _(i),y=0;y<o;y++)h.setUint8(y,p.getUint8(y))}catch(E){throw new km("ArrayBuffer is detached",Mw)}}return P5(t,e,i),i},Pzt=function(e,t,r,n,i){var o=Yo[t];return O5(o)||Ms(t),new o(dMe(e.buffer,i),r,n)},Go=function(e,t){if(lzt(e)&&TB("Symbol"),!O5(e))return e;if(t){if(NB(t,e))return sMe(t,e)}else t=new CB;var r=A5(e),n,i,o,u,p,h,y,_;switch(r){case"Array":o=gzt(M5(e));break;case"Object":o={};break;case"Map":o=new CB;break;case"Set":o=new lMe;break;case"RegExp":o=new RegExp(e.source,fzt(e));break;case"Error":switch(i=e.name,i){case"AggregateError":o=new(Tw(i))([]);break;case"EvalError":case"RangeError":case"ReferenceError":case"SuppressedError":case"SyntaxError":case"TypeError":case"URIError":o=new(Tw(i));break;case"CompileError":case"LinkError":case"RuntimeError":o=new(Tw("WebAssembly",i));break;default:o=new aMe;}break;case"DOMException":o=new km(e.message,e.name);break;case"ArrayBuffer":case"SharedArrayBuffer":o=dMe(e,t,r);break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float16Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":h=r==="DataView"?e.byteLength:e.length,o=Pzt(e,r,e.byteOffset,h,t);break;case"DOMQuad":try{o=new DOMQuad(Go(e.p1,t),Go(e.p2,t),Go(e.p3,t),Go(e.p4,t))}catch(E){o=MB(e,r)}break;case"File":if(Od)try{o=Od(e),A5(o)!==r&&(o=void 0)}catch(E){}if(!o)try{o=new File([e],e.name,e)}catch(E){}o||Ms(r);break;case"FileList":if(u=Azt(),u){for(p=0,h=M5(e);p<h;p++)u.items.add(Go(e[p],t));o=u.files}else o=MB(e,r);break;case"ImageData":try{o=new ImageData(Go(e.data,t),e.width,e.height,{colorSpace:e.colorSpace})}catch(E){o=MB(e,r)}break;default:if(Od)o=Od(e);else switch(r){case"BigInt":o=Ew(e.valueOf());break;case"Boolean":o=Ew(wzt(e));break;case"Number":o=Ew(Szt(e));break;case"String":o=Ew(Izt(e));break;case"Date":o=new oMe(Ezt(e));break;case"Blob":try{o=e.slice(0,e.size,e.type)}catch(E){Ms(r)}break;case"DOMPoint":case"DOMPointReadOnly":n=Yo[r];try{o=n.fromPoint?n.fromPoint(e):new n(e.x,e.y,e.z,e.w)}catch(E){Ms(r)}break;case"DOMRect":case"DOMRectReadOnly":n=Yo[r];try{o=n.fromRect?n.fromRect(e):new n(e.x,e.y,e.width,e.height)}catch(E){Ms(r)}break;case"DOMMatrix":case"DOMMatrixReadOnly":n=Yo[r];try{o=n.fromMatrix?n.fromMatrix(e):new n(e)}catch(E){Ms(r)}break;case"AudioData":case"VideoFrame":Gy(e.clone)||Ms(r);try{o=e.clone()}catch(E){TB(r)}break;case"CropTarget":case"CryptoKey":case"FileSystemDirectoryHandle":case"FileSystemFileHandle":case"FileSystemHandle":case"GPUCompilationInfo":case"GPUCompilationMessage":case"ImageBitmap":case"RTCCertificate":case"WebAssembly.Module":Ms(r);default:TB(r);}}switch(P5(t,e,o),r){case"Array":case"Object":for(y=bzt(e),p=0,h=M5(y);p<h;p++)_=y[p],dzt(o,_,Go(e[_],t));break;case"Map":e.forEach(function(E,T){P5(o,Go(T,t),Go(E,t))});break;case"Set":e.forEach(function(E){uMe(o,Go(E,t))});break;case"Error":EB(o,"message",Go(e.message,t)),czt(e,"cause")&&EB(o,"cause",Go(e.cause,t)),i==="AggregateError"?o.errors=Go(e.errors,t):i==="SuppressedError"&&(o.error=Go(e.error,t),o.suppressed=Go(e.suppressed,t));case"DOMException":mzt&&EB(o,"stack",Go(e.stack,t));}return o},Ozt=function(e,t){if(!O5(e))throw new vzt("Transfer option cannot be converted to a sequence");var r=[];uzt(e,function(T){xzt(r,iMe(T))});for(var n=0,i=M5(r),o=new lMe,u,p,h,y,_,E;n<i;){if(u=r[n++],p=A5(u),p==="ArrayBuffer"?_zt(o,u):NB(t,u))throw new km("Duplicate transferable",Mw);if(p==="ArrayBuffer"){uMe(o,u);continue}if(DB)y=Wy(u,{transfer:[u]});else switch(p){case"ImageBitmap":h=Yo.OffscreenCanvas,azt(h)||Ms(p,C5);try{_=new h(u.width,u.height),E=_.getContext("bitmaprenderer"),E.transferFromImageBitmap(u),y=_.transferToImageBitmap()}catch(T){}break;case"AudioData":case"VideoFrame":(!Gy(u.clone)||!Gy(u.close))&&Ms(p,C5);try{y=u.clone(),u.close()}catch(T){}break;case"MediaSourceHandle":case"MessagePort":case"MIDIAccess":case"OffscreenCanvas":case"ReadableStream":case"RTCDataChannel":case"TransformStream":case"WebTransportReceiveStream":case"WebTransportSendStream":case"WritableStream":Ms(p,C5);}if(y===void 0)throw new km("This object cannot be transferred: "+p,Mw);P5(t,u,y)}return o},Dzt=function(e){hzt(e,function(t){DB?Od(t,{transfer:[t]}):Gy(t.transfer)?t.transfer():rMe?rMe(t):Ms("ArrayBuffer",C5)})};izt({global:!0,enumerable:!0,sham:!DB,forced:Mzt},{structuredClone:function(t){var r=pzt(arguments.length,1)>1&&!szt(arguments[1])?iMe(arguments[1]):void 0,n=r?r.transfer:void 0,i,o;n!==void 0&&(i=new CB,o=Ozt(n,i));var u=Go(t,i);return o&&Dzt(o),u}})});var mMe=I(()=>{"use strict";var Nzt=Q(),hMe=Dt(),kzt=E5(),fMe=kzt(hMe.setInterval,!0);Nzt({global:!0,bind:!0,forced:hMe.setInterval!==fMe},{setInterval:fMe})});var yMe=I(()=>{"use strict";var Lzt=Q(),vMe=Dt(),qzt=E5(),gMe=qzt(vMe.setTimeout,!0);Lzt({global:!0,bind:!0,forced:vMe.setTimeout!==gMe},{setTimeout:gMe})});var _Me=I(()=>{"use strict";mMe();yMe()});var Aw=I((WAr,xMe)=>{"use strict";var Rzt=ft(),zzt=gr(),jzt=cr(),bMe=$r(),Fzt=zzt("iterator");xMe.exports=!Rzt(function(){var e=new URL("b?a=1&b=2&c=3","https://a"),t=e.searchParams,r=new URLSearchParams("a=1&a=2&b=3"),n="";return e.pathname="c%20d",t.forEach(function(i,o){t.delete("b"),n+=o+i}),r.delete("a",2),r.delete("b",void 0),bMe&&(!e.toJSON||!r.has("a",1)||r.has("a",2)||!r.has("a",void 0)||r.has("b"))||!t.size&&(bMe||!jzt)||!t.sort||e.href!=="https://a/c%20d?a=1&c=3"||t.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!t[Fzt]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("https://\u0442\u0435\u0441\u0442").host!=="xn--e1aybc"||new URL("https://a#\u0431").hash!=="#%D0%B1"||n!=="a1c3"||new URL("https://x",void 0).host!=="x"})});var PMe=I((GAr,AMe)=>{"use strict";var Lm=nt(),kB=2147483647,Pw=36,TMe=1,RB=26,Bzt=38,Uzt=700,Vzt=72,$zt=128,Hzt="-",Wzt=/[^\0-\u007E]/,MMe=/[.\u3002\uFF0E\uFF61]/g,wMe="Overflow: input needs wider integers to process",LB=Pw-TMe,SMe=RangeError,Gzt=Lm(MMe.exec),Yy=Math.floor,qB=String.fromCharCode,IMe=Lm("".charCodeAt),CMe=Lm([].join),Ff=Lm([].push),Yzt=Lm("".replace),Zzt=Lm("".split),Kzt=Lm("".toLowerCase),Xzt=function(e){for(var t=[],r=0,n=e.length;r<n;){var i=IMe(e,r++);if(i>=55296&&i<=56319&&r<n){var o=IMe(e,r++);(o&64512)===56320?Ff(t,((i&1023)<<10)+(o&1023)+65536):(Ff(t,i),r--)}else Ff(t,i)}return t},EMe=function(e){return e+22+75*(e<26)},Qzt=function(e,t,r){var n=0;for(e=r?Yy(e/Uzt):e>>1,e+=Yy(e/t);e>LB*RB>>1;)e=Yy(e/LB),n+=Pw;return Yy(n+(LB+1)*e/(e+Bzt))},Jzt=function(e){var t=[];e=Xzt(e);var r=e.length,n=$zt,i=0,o=Vzt,u,p;for(u=0;u<e.length;u++)p=e[u],p<128&&Ff(t,qB(p));var h=t.length,y=h;for(h&&Ff(t,Hzt);y<r;){var _=kB;for(u=0;u<e.length;u++)p=e[u],p>=n&&p<_&&(_=p);var E=y+1;if(_-n>Yy((kB-i)/E))throw new SMe(wMe);for(i+=(_-n)*E,n=_,u=0;u<e.length;u++){if(p=e[u],p<n&&++i>kB)throw new SMe(wMe);if(p===n){for(var T=i,N=Pw;;){var R=N<=o?TMe:N>=o+RB?RB:N-o;if(T<R)break;var j=T-R,k=Pw-R;Ff(t,qB(EMe(R+j%k))),T=Yy(j/k),N+=Pw}Ff(t,qB(EMe(T))),o=Qzt(i,E,y===h),i=0,y++}}i++,n++}return CMe(t,"")};AMe.exports=function(e){var t=[],r=Zzt(Yzt(Kzt(e),MMe,"."),"."),n,i;for(n=0;n<r.length;n++)i=r[n],Ff(t,Gzt(Wzt,i)?"xn--"+Jzt(i):i);return CMe(t,".")}});var WB=I((YAr,JMe)=>{"use strict";rx();B7();var VB=Q(),VMe=Dt(),$B=O9(),ejt=Ir(),N5=jt(),wu=nt(),Ow=cr(),$Me=Aw(),HMe=Ln(),tjt=di(),rjt=Ll(),njt=Ga(),ijt=bf(),HB=An(),WMe=xa(),zB=kr(),ojt=zr(),ajt=Un(),sjt=bs(),ljt=Rt(),GMe=Er(),Za=Mr(),ujt=ji(),OMe=ys(),DMe=yf(),cjt=oc(),k5=Eo(),Zy=nl(),djt=gr(),pjt=sM(),fjt=djt("iterator"),Xy="URLSearchParams",YMe=Xy+"Iterator",ZMe=HB.set,zl=HB.getterFor(Xy),hjt=HB.getterFor(YMe),NMe=$B("fetch"),R5=$B("Request"),Dw=$B("Headers"),jB=R5&&R5.prototype,kMe=Dw&&Dw.prototype,mjt=VMe.TypeError,gjt=VMe.encodeURIComponent,vjt=String.fromCharCode,yjt=ejt("String","fromCodePoint"),_jt=parseInt,q5=wu("".charAt),LMe=wu([].join),Bf=wu([].push),KMe=wu("".replace),bjt=wu([].shift),qMe=wu([].splice),RMe=wu("".split),XMe=wu("".slice),xjt=wu(/./.exec),wjt=/\+/g,FB="\uFFFD",Sjt=/^[0-9a-f]+$/i,zMe=function(e,t){var r=XMe(e,t,t+2);return xjt(Sjt,r)?_jt(r,16):NaN},Ijt=function(e){for(var t=0,r=128;r>0&&e&r;r>>=1)t++;return t},Ejt=function(e){var t=null;switch(e.length){case 1:t=e[0];break;case 2:t=(e[0]&31)<<6|e[1]&63;break;case 3:t=(e[0]&15)<<12|(e[1]&63)<<6|e[2]&63;break;case 4:t=(e[0]&7)<<18|(e[1]&63)<<12|(e[2]&63)<<6|e[3]&63;break;}return t>1114111?null:t},jMe=function(e){e=KMe(e,wjt," ");for(var t=e.length,r="",n=0;n<t;){var i=q5(e,n);if(i==="%"){if(q5(e,n+1)==="%"||n+3>t){r+="%",n++;continue}var o=zMe(e,n+1);if(o!==o){r+=i,n++;continue}n+=2;var u=Ijt(o);if(u===0)i=vjt(o);else{if(u===1||u>4){r+=FB,n++;continue}for(var p=[o],h=1;h<u&&(n++,!(n+3>t||q5(e,n)!=="%"));){var y=zMe(e,n+1);if(y!==y){n+=3;break}if(y>191||y<128)break;Bf(p,y),n+=2,h++}if(p.length!==u){r+=FB;continue}var _=Ejt(p);_===null?r+=FB:i=yjt(_)}}r+=i,n++}return r},Tjt=/[!'()~]|%20/g,Mjt={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},Cjt=function(e){return Mjt[e]},FMe=function(e){return KMe(gjt(e),Tjt,Cjt)},BB=ijt(function(t,r){ZMe(this,{type:YMe,target:zl(t).entries,index:0,kind:r})},Xy,function(){var t=hjt(this),r=t.target,n=t.index++;if(!r||n>=r.length)return t.target=null,k5(void 0,!0);var i=r[n];switch(t.kind){case"keys":return k5(i.key,!1);case"values":return k5(i.value,!1);}return k5([i.key,i.value],!1)},!0),QMe=function(e){this.entries=[],this.url=null,e!==void 0&&(GMe(e)?this.parseObject(e):this.parseQuery(typeof e=="string"?q5(e,0)==="?"?XMe(e,1):e:Za(e)))};QMe.prototype={type:Xy,bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t=this.entries,r=cjt(e),n,i,o,u,p,h,y;if(r)for(n=DMe(e,r),i=n.next;!(o=N5(i,n)).done;){if(u=DMe(ljt(o.value)),p=u.next,(h=N5(p,u)).done||(y=N5(p,u)).done||!N5(p,u).done)throw new mjt("Expected sequence with length 2");Bf(t,{key:Za(h.value),value:Za(y.value)})}else for(var _ in e)ojt(e,_)&&Bf(t,{key:_,value:Za(e[_])})},parseQuery:function(e){if(e)for(var t=this.entries,r=RMe(e,"&"),n=0,i,o;n<r.length;)i=r[n++],i.length&&(o=RMe(i,"="),Bf(t,{key:jMe(bjt(o)),value:jMe(LMe(o,"="))}))},serialize:function(){for(var e=this.entries,t=[],r=0,n;r<e.length;)n=e[r++],Bf(t,FMe(n.key)+"="+FMe(n.value));return LMe(t,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var z5=function(){WMe(this,Ky);var t=arguments.length>0?arguments[0]:void 0,r=ZMe(this,new QMe(t));Ow||(this.size=r.entries.length)},Ky=z5.prototype;rjt(Ky,{append:function(t,r){var n=zl(this);Zy(arguments.length,2),Bf(n.entries,{key:Za(t),value:Za(r)}),Ow||this.length++,n.updateURL()},delete:function(e){for(var t=zl(this),r=Zy(arguments.length,1),n=t.entries,i=Za(e),o=r<2?void 0:arguments[1],u=o===void 0?o:Za(o),p=0;p<n.length;){var h=n[p];if(h.key===i&&(u===void 0||h.value===u)){if(qMe(n,p,1),u!==void 0)break}else p++}Ow||(this.size=n.length),t.updateURL()},get:function(t){var r=zl(this).entries;Zy(arguments.length,1);for(var n=Za(t),i=0;i<r.length;i++)if(r[i].key===n)return r[i].value;return null},getAll:function(t){var r=zl(this).entries;Zy(arguments.length,1);for(var n=Za(t),i=[],o=0;o<r.length;o++)r[o].key===n&&Bf(i,r[o].value);return i},has:function(t){for(var r=zl(this).entries,n=Zy(arguments.length,1),i=Za(t),o=n<2?void 0:arguments[1],u=o===void 0?o:Za(o),p=0;p<r.length;){var h=r[p++];if(h.key===i&&(u===void 0||h.value===u))return!0}return!1},set:function(t,r){var n=zl(this);Zy(arguments.length,1);for(var i=n.entries,o=!1,u=Za(t),p=Za(r),h=0,y;h<i.length;h++)y=i[h],y.key===u&&(o?qMe(i,h--,1):(o=!0,y.value=p));o||Bf(i,{key:u,value:p}),Ow||(this.size=i.length),n.updateURL()},sort:function(){var t=zl(this);pjt(t.entries,function(r,n){return r.key>n.key?1:-1}),t.updateURL()},forEach:function(t){for(var r=zl(this).entries,n=ajt(t,arguments.length>1?arguments[1]:void 0),i=0,o;i<r.length;)o=r[i++],n(o.value,o.key,this)},keys:function(){return new BB(this,"keys")},values:function(){return new BB(this,"values")},entries:function(){return new BB(this,"entries")}},{enumerable:!0});HMe(Ky,fjt,Ky.entries,{name:"entries"});HMe(Ky,"toString",function(){return zl(this).serialize()},{enumerable:!0});Ow&&tjt(Ky,"size",{get:function(){return zl(this).entries.length},configurable:!0,enumerable:!0});njt(z5,Xy);VB({global:!0,constructor:!0,forced:!$Me},{URLSearchParams:z5});!$Me&&zB(Dw)&&(BMe=wu(kMe.has),UMe=wu(kMe.set),UB=function(e){if(GMe(e)){var t=e.body,r;if(sjt(t)===Xy)return r=e.headers?new Dw(e.headers):new Dw,BMe(r,"content-type")||UMe(r,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),ujt(e,{body:OMe(0,Za(t)),headers:OMe(0,r)})}return e},zB(NMe)&&VB({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(t){return NMe(t,arguments.length>1?UB(arguments[1]):{})}}),zB(R5)&&(L5=function(t){return WMe(this,jB),new R5(t,arguments.length>1?UB(arguments[1]):{})},jB.constructor=L5,L5.prototype=jB,VB({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:L5})));var BMe,UMe,UB,L5;JMe.exports={URLSearchParams:z5,getState:zl}});var vCe=I(()=>{"use strict";V7();var Ajt=Q(),uU=cr(),Pjt=Aw(),cU=Dt(),eCe=Un(),Vl=nt(),V5=Ln(),jl=di(),Ojt=xa(),aU=zr(),dU=p9(),Qy=nR(),Su=xs(),Djt=Tm().codeAt,Njt=PMe(),Nd=Mr(),kjt=Ga(),Ljt=nl(),dCe=WB(),pCe=An(),qjt=pCe.set,$5=pCe.getterFor("URL"),Rjt=dCe.URLSearchParams,zjt=dCe.getState,Nw=cU.URL,sU=cU.TypeError,H5=cU.parseInt,jjt=Math.floor,tCe=Math.pow,Ul=Vl("".charAt),Iu=Vl(/./.exec),Lw=Vl([].join),Fjt=Vl(1 .toString),Bjt=Vl([].pop),e0=Vl([].push),GB=Vl("".replace),Ujt=Vl([].shift),Vjt=Vl("".split),Rw=Vl("".slice),W5=Vl("".toLowerCase),$jt=Vl([].unshift),Hjt="Invalid authority",YB="Invalid scheme",qm="Invalid host",rCe="Invalid port",fCe=/[a-z]/i,Wjt=/[\d+-.a-z]/i,lU=/\d/,Gjt=/^0x/i,Yjt=/^[0-7]+$/,Zjt=/^\d+$/,hCe=/^[\da-f]+$/i,Kjt=/[\0\t\n\r #%/:<>?@[\\\]^|]/,Xjt=/[\0\t\n\r #/:<>?@[\\\]^|]/,Qjt=/^[\u0000-\u0020]+/,Jjt=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,eFt=/[\t\n\r]/g,Fl,tFt=function(e){var t=Vjt(e,"."),r,n,i,o,u,p,h;if(t.length&&t[t.length-1]===""&&t.length--,r=t.length,r>4)return e;for(n=[],i=0;i<r;i++){if(o=t[i],o==="")return e;if(u=10,o.length>1&&Ul(o,0)==="0"&&(u=Iu(Gjt,o)?16:8,o=Rw(o,u===8?1:2)),o==="")p=0;else{if(!Iu(u===10?Zjt:u===8?Yjt:hCe,o))return e;p=H5(o,u)}e0(n,p)}for(i=0;i<r;i++)if(p=n[i],i===r-1){if(p>=tCe(256,5-r))return null}else if(p>255)return null;for(h=Bjt(n),i=0;i<n.length;i++)h+=n[i]*tCe(256,3-i);return h},rFt=function(e){var t=[0,0,0,0,0,0,0,0],r=0,n=null,i=0,o,u,p,h,y,_,E,T=function(){return Ul(e,i)};if(T()===":"){if(Ul(e,1)!==":")return;i+=2,r++,n=r}for(;T();){if(r===8)return;if(T()===":"){if(n!==null)return;i++,r++,n=r;continue}for(o=u=0;u<4&&Iu(hCe,T());)o=o*16+H5(T(),16),i++,u++;if(T()==="."){if(u===0||(i-=u,r>6))return;for(p=0;T();){if(h=null,p>0)if(T()==="."&&p<4)i++;else return;if(!Iu(lU,T()))return;for(;Iu(lU,T());){if(y=H5(T(),10),h===null)h=y;else{if(h===0)return;h=h*10+y}if(h>255)return;i++}t[r]=t[r]*256+h,p++,(p===2||p===4)&&r++}if(p!==4)return;break}else if(T()===":"){if(i++,!T())return}else if(T())return;t[r++]=o}if(n!==null)for(_=r-n,r=7;r!==0&&_>0;)E=t[r],t[r--]=t[n+_-1],t[n+--_]=E;else if(r!==8)return;return t},nFt=function(e){for(var t=null,r=1,n=null,i=0,o=0;o<8;o++)e[o]!==0?(i>r&&(t=n,r=i),n=null,i=0):(n===null&&(n=o),++i);return i>r?n:t},kw=function(e){var t,r,n,i;if(typeof e=="number"){for(t=[],r=0;r<4;r++)$jt(t,e%256),e=jjt(e/256);return Lw(t,".")}if(typeof e=="object"){for(t="",n=nFt(e),r=0;r<8;r++)i&&e[r]===0||(i&&(i=!1),n===r?(t+=r?":":"::",i=!0):(t+=Fjt(e[r],16),r<7&&(t+=":")));return"["+t+"]"}return e},U5={},mCe=dU({},U5,{" ":1,"\"":1,"<":1,">":1,"`":1}),gCe=dU({},mCe,{"#":1,"?":1,"{":1,"}":1}),ZB=dU({},gCe,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Uf=function(e,t){var r=Djt(e,0);return r>32&&r<127&&!aU(t,e)?e:encodeURIComponent(e)},j5={ftp:21,file:null,http:80,https:443,ws:80,wss:443},qw=function(e,t){var r;return e.length===2&&Iu(fCe,Ul(e,0))&&((r=Ul(e,1))===":"||!t&&r==="|")},nCe=function(e){var t;return e.length>1&&qw(Rw(e,0,2))&&(e.length===2||(t=Ul(e,2))==="/"||t==="\\"||t==="?"||t==="#")},iFt=function(e){return e==="."||W5(e)==="%2e"},oFt=function(e){return e=W5(e),e===".."||e==="%2e."||e===".%2e"||e==="%2e%2e"},KB={},iCe={},XB={},oCe={},aCe={},QB={},sCe={},lCe={},F5={},B5={},JB={},eU={},tU={},rU={},uCe={},nU={},Jy={},mc={},cCe={},Rm={},Dd={},pU=function(e,t,r){var n=Nd(e),i,o,u;if(t){if(o=this.parse(n),o)throw new sU(o);this.searchParams=null}else{if(r!==void 0&&(i=new pU(r,!0)),o=this.parse(n,null,i),o)throw new sU(o);u=zjt(new Rjt),u.bindURL(this),this.searchParams=u}};pU.prototype={type:"URL",parse:function(e,t,r){var n=this,i=t||KB,o=0,u="",p=!1,h=!1,y=!1,_,E,T,N;for(e=Nd(e),t||(n.scheme="",n.username="",n.password="",n.host=null,n.port=null,n.path=[],n.query=null,n.fragment=null,n.cannotBeABaseURL=!1,e=GB(e,Qjt,""),e=GB(e,Jjt,"$1")),e=GB(e,eFt,""),_=Qy(e);o<=_.length;){switch(E=_[o],i){case KB:if(E&&Iu(fCe,E))u+=W5(E),i=iCe;else{if(t)return YB;i=XB;continue}break;case iCe:if(E&&(Iu(Wjt,E)||E==="+"||E==="-"||E==="."))u+=W5(E);else if(E===":"){if(t&&(n.isSpecial()!==aU(j5,u)||u==="file"&&(n.includesCredentials()||n.port!==null)||n.scheme==="file"&&!n.host))return;if(n.scheme=u,t){n.isSpecial()&&j5[n.scheme]===n.port&&(n.port=null);return}u="",n.scheme==="file"?i=rU:n.isSpecial()&&r&&r.scheme===n.scheme?i=oCe:n.isSpecial()?i=lCe:_[o+1]==="/"?(i=aCe,o++):(n.cannotBeABaseURL=!0,e0(n.path,""),i=cCe)}else{if(t)return YB;u="",i=XB,o=0;continue}break;case XB:if(!r||r.cannotBeABaseURL&&E!=="#")return YB;if(r.cannotBeABaseURL&&E==="#"){n.scheme=r.scheme,n.path=Su(r.path),n.query=r.query,n.fragment="",n.cannotBeABaseURL=!0,i=Dd;break}i=r.scheme==="file"?rU:QB;continue;case oCe:if(E==="/"&&_[o+1]==="/")i=F5,o++;else{i=QB;continue}break;case aCe:if(E==="/"){i=B5;break}else{i=mc;continue}case QB:if(n.scheme=r.scheme,E===Fl)n.username=r.username,n.password=r.password,n.host=r.host,n.port=r.port,n.path=Su(r.path),n.query=r.query;else if(E==="/"||E==="\\"&&n.isSpecial())i=sCe;else if(E==="?")n.username=r.username,n.password=r.password,n.host=r.host,n.port=r.port,n.path=Su(r.path),n.query="",i=Rm;else if(E==="#")n.username=r.username,n.password=r.password,n.host=r.host,n.port=r.port,n.path=Su(r.path),n.query=r.query,n.fragment="",i=Dd;else{n.username=r.username,n.password=r.password,n.host=r.host,n.port=r.port,n.path=Su(r.path),n.path.length--,i=mc;continue}break;case sCe:if(n.isSpecial()&&(E==="/"||E==="\\"))i=F5;else if(E==="/")i=B5;else{n.username=r.username,n.password=r.password,n.host=r.host,n.port=r.port,i=mc;continue}break;case lCe:if(i=F5,E!=="/"||Ul(u,o+1)!=="/")continue;o++;break;case F5:if(E!=="/"&&E!=="\\"){i=B5;continue}break;case B5:if(E==="@"){p&&(u="%40"+u),p=!0,T=Qy(u);for(var R=0;R<T.length;R++){var j=T[R];if(j===":"&&!y){y=!0;continue}var k=Uf(j,ZB);y?n.password+=k:n.username+=k}u=""}else if(E===Fl||E==="/"||E==="?"||E==="#"||E==="\\"&&n.isSpecial()){if(p&&u==="")return Hjt;o-=Qy(u).length+1,u="",i=JB}else u+=E;break;case JB:case eU:if(t&&n.scheme==="file"){i=nU;continue}else if(E===":"&&!h){if(u==="")return qm;if(N=n.parseHost(u),N)return N;if(u="",i=tU,t===eU)return}else if(E===Fl||E==="/"||E==="?"||E==="#"||E==="\\"&&n.isSpecial()){if(n.isSpecial()&&u==="")return qm;if(t&&u===""&&(n.includesCredentials()||n.port!==null))return;if(N=n.parseHost(u),N)return N;if(u="",i=Jy,t)return;continue}else E==="["?h=!0:E==="]"&&(h=!1),u+=E;break;case tU:if(Iu(lU,E))u+=E;else if(E===Fl||E==="/"||E==="?"||E==="#"||E==="\\"&&n.isSpecial()||t){if(u!==""){var L=H5(u,10);if(L>65535)return rCe;n.port=n.isSpecial()&&L===j5[n.scheme]?null:L,u=""}if(t)return;i=Jy;continue}else return rCe;break;case rU:if(n.scheme="file",E==="/"||E==="\\")i=uCe;else if(r&&r.scheme==="file")switch(E){case Fl:n.host=r.host,n.path=Su(r.path),n.query=r.query;break;case"?":n.host=r.host,n.path=Su(r.path),n.query="",i=Rm;break;case"#":n.host=r.host,n.path=Su(r.path),n.query=r.query,n.fragment="",i=Dd;break;default:nCe(Lw(Su(_,o),""))||(n.host=r.host,n.path=Su(r.path),n.shortenPath()),i=mc;continue;}else{i=mc;continue}break;case uCe:if(E==="/"||E==="\\"){i=nU;break}r&&r.scheme==="file"&&!nCe(Lw(Su(_,o),""))&&(qw(r.path[0],!0)?e0(n.path,r.path[0]):n.host=r.host),i=mc;continue;case nU:if(E===Fl||E==="/"||E==="\\"||E==="?"||E==="#"){if(!t&&qw(u))i=mc;else if(u===""){if(n.host="",t)return;i=Jy}else{if(N=n.parseHost(u),N)return N;if(n.host==="localhost"&&(n.host=""),t)return;u="",i=Jy}continue}else u+=E;break;case Jy:if(n.isSpecial()){if(i=mc,E!=="/"&&E!=="\\")continue}else if(!t&&E==="?")n.query="",i=Rm;else if(!t&&E==="#")n.fragment="",i=Dd;else if(E!==Fl&&(i=mc,E!=="/"))continue;break;case mc:if(E===Fl||E==="/"||E==="\\"&&n.isSpecial()||!t&&(E==="?"||E==="#")){if(oFt(u)?(n.shortenPath(),E!=="/"&&!(E==="\\"&&n.isSpecial())&&e0(n.path,"")):iFt(u)?E!=="/"&&!(E==="\\"&&n.isSpecial())&&e0(n.path,""):(n.scheme==="file"&&!n.path.length&&qw(u)&&(n.host&&(n.host=""),u=Ul(u,0)+":"),e0(n.path,u)),u="",n.scheme==="file"&&(E===Fl||E==="?"||E==="#"))for(;n.path.length>1&&n.path[0]==="";)Ujt(n.path);E==="?"?(n.query="",i=Rm):E==="#"&&(n.fragment="",i=Dd)}else u+=Uf(E,gCe);break;case cCe:E==="?"?(n.query="",i=Rm):E==="#"?(n.fragment="",i=Dd):E!==Fl&&(n.path[0]+=Uf(E,U5));break;case Rm:!t&&E==="#"?(n.fragment="",i=Dd):E!==Fl&&(E==="'"&&n.isSpecial()?n.query+="%27":E==="#"?n.query+="%23":n.query+=Uf(E,U5));break;case Dd:E!==Fl&&(n.fragment+=Uf(E,mCe));break;}o++}},parseHost:function(e){var t,r,n;if(Ul(e,0)==="["){if(Ul(e,e.length-1)!=="]"||(t=rFt(Rw(e,1,-1)),!t))return qm;this.host=t}else if(this.isSpecial()){if(e=Njt(e),Iu(Kjt,e)||(t=tFt(e),t===null))return qm;this.host=t}else{if(Iu(Xjt,e))return qm;for(t="",r=Qy(e),n=0;n<r.length;n++)t+=Uf(r[n],U5);this.host=t}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||this.scheme==="file"},includesCredentials:function(){return this.username!==""||this.password!==""},isSpecial:function(){return aU(j5,this.scheme)},shortenPath:function(){var e=this.path,t=e.length;t&&(this.scheme!=="file"||t!==1||!qw(e[0],!0))&&e.length--},serialize:function(){var e=this,t=e.scheme,r=e.username,n=e.password,i=e.host,o=e.port,u=e.path,p=e.query,h=e.fragment,y=t+":";return i!==null?(y+="//",e.includesCredentials()&&(y+=r+(n?":"+n:"")+"@"),y+=kw(i),o!==null&&(y+=":"+o)):t==="file"&&(y+="//"),y+=e.cannotBeABaseURL?u[0]:u.length?"/"+Lw(u,"/"):"",p!==null&&(y+="?"+p),h!==null&&(y+="#"+h),y},setHref:function(e){var t=this.parse(e);if(t)throw new sU(t);this.searchParams.update()},getOrigin:function(){var e=this.scheme,t=this.port;if(e==="blob")try{return new t0(e.path[0]).origin}catch(r){return"null"}return e==="file"||!this.isSpecial()?"null":e+"://"+kw(this.host)+(t!==null?":"+t:"")},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse(Nd(e)+":",KB)},getUsername:function(){return this.username},setUsername:function(e){var t=Qy(Nd(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var r=0;r<t.length;r++)this.username+=Uf(t[r],ZB)}},getPassword:function(){return this.password},setPassword:function(e){var t=Qy(Nd(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var r=0;r<t.length;r++)this.password+=Uf(t[r],ZB)}},getHost:function(){var e=this.host,t=this.port;return e===null?"":t===null?kw(e):kw(e)+":"+t},setHost:function(e){this.cannotBeABaseURL||this.parse(e,JB)},getHostname:function(){var e=this.host;return e===null?"":kw(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,eU)},getPort:function(){var e=this.port;return e===null?"":Nd(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(e=Nd(e),e===""?this.port=null:this.parse(e,tU))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+Lw(e,"/"):""},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,Jy))},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){e=Nd(e),e===""?this.query=null:(Ul(e,0)==="?"&&(e=Rw(e,1)),this.query="",this.parse(e,Rm)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){if(e=Nd(e),e===""){this.fragment=null;return}Ul(e,0)==="#"&&(e=Rw(e,1)),this.fragment="",this.parse(e,Dd)},update:function(){this.query=this.searchParams.serialize()||null}};var t0=function(t){var r=Ojt(this,Ka),n=Ljt(arguments.length,1)>1?arguments[1]:void 0,i=qjt(r,new pU(t,!1,n));uU||(r.href=i.serialize(),r.origin=i.getOrigin(),r.protocol=i.getProtocol(),r.username=i.getUsername(),r.password=i.getPassword(),r.host=i.getHost(),r.hostname=i.getHostname(),r.port=i.getPort(),r.pathname=i.getPathname(),r.search=i.getSearch(),r.searchParams=i.getSearchParams(),r.hash=i.getHash())},Ka=t0.prototype,Bl=function(e,t){return{get:function(){return $5(this)[e]()},set:t&&function(r){return $5(this)[t](r)},configurable:!0,enumerable:!0}};uU&&(jl(Ka,"href",Bl("serialize","setHref")),jl(Ka,"origin",Bl("getOrigin")),jl(Ka,"protocol",Bl("getProtocol","setProtocol")),jl(Ka,"username",Bl("getUsername","setUsername")),jl(Ka,"password",Bl("getPassword","setPassword")),jl(Ka,"host",Bl("getHost","setHost")),jl(Ka,"hostname",Bl("getHostname","setHostname")),jl(Ka,"port",Bl("getPort","setPort")),jl(Ka,"pathname",Bl("getPathname","setPathname")),jl(Ka,"search",Bl("getSearch","setSearch")),jl(Ka,"searchParams",Bl("getSearchParams")),jl(Ka,"hash",Bl("getHash","setHash")));V5(Ka,"toJSON",function(){return $5(this).serialize()},{enumerable:!0});V5(Ka,"toString",function(){return $5(this).serialize()},{enumerable:!0});Nw&&(iU=Nw.createObjectURL,oU=Nw.revokeObjectURL,iU&&V5(t0,"createObjectURL",eCe(iU,Nw)),oU&&V5(t0,"revokeObjectURL",eCe(oU,Nw)));var iU,oU;kjt(t0,"URL");Ajt({global:!0,constructor:!0,forced:!Pjt,sham:!uU},{URL:t0})});var yCe=I(()=>{"use strict";vCe()});var xCe=I(()=>{"use strict";var aFt=Q(),sFt=Ir(),bCe=ft(),lFt=nl(),_Ce=Mr(),uFt=Aw(),fU=sFt("URL"),cFt=uFt&&bCe(function(){fU.canParse()}),dFt=bCe(function(){return fU.canParse.length!==1});aFt({target:"URL",stat:!0,forced:!cFt||dFt},{canParse:function(t){var r=lFt(arguments.length,1),n=_Ce(t),i=r<2||arguments[1]===void 0?void 0:_Ce(arguments[1]);try{return!!new fU(n,i)}catch(o){return!1}}})});var SCe=I(()=>{"use strict";var pFt=Q(),fFt=Ir(),hFt=nl(),wCe=Mr(),mFt=Aw(),gFt=fFt("URL");pFt({target:"URL",stat:!0,forced:!mFt},{parse:function(t){var r=hFt(arguments.length,1),n=wCe(t),i=r<2||arguments[1]===void 0?void 0:wCe(arguments[1]);try{return new gFt(n,i)}catch(o){return null}}})});var ICe=I(()=>{"use strict";var vFt=Q(),yFt=jt();vFt({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return yFt(URL.prototype.toString,this)}})});var ECe=I(()=>{"use strict";WB()});var ACe=I(()=>{"use strict";var _Ft=Ln(),G5=nt(),TCe=Mr(),bFt=nl(),CCe=URLSearchParams,Y5=CCe.prototype,xFt=G5(Y5.append),MCe=G5(Y5.delete),wFt=G5(Y5.forEach),SFt=G5([].push),hU=new CCe("a=1&a=2&b=3");hU.delete("a",1);hU.delete("b",void 0);hU+""!="a=2"&&_Ft(Y5,"delete",function(e){var t=arguments.length,r=t<2?void 0:arguments[1];if(t&&r===void 0)return MCe(this,e);var n=[];wFt(this,function(E,T){SFt(n,{key:T,value:E})}),bFt(t,1);for(var i=TCe(e),o=TCe(r),u=0,p=0,h=!1,y=n.length,_;u<y;)_=n[u++],h||_.key===i?(h=!0,MCe(this,_.key)):p++;for(;p<y;)_=n[p++],_.key===i&&_.value===o||xFt(this,_.key,_.value)},{enumerable:!0,unsafe:!0})});var NCe=I(()=>{"use strict";var IFt=Ln(),OCe=nt(),EFt=Mr(),TFt=nl(),DCe=URLSearchParams,mU=DCe.prototype,MFt=OCe(mU.getAll),CFt=OCe(mU.has),PCe=new DCe("a=1");(PCe.has("a",2)||!PCe.has("a",void 0))&&IFt(mU,"has",function(t){var r=arguments.length,n=r<2?void 0:arguments[1];if(r&&n===void 0)return CFt(this,t);var i=MFt(this,t);TFt(r,1);for(var o=EFt(n),u=0;u<i.length;)if(i[u++]===o)return!0;return!1},{enumerable:!0,unsafe:!0})});var kCe=I(()=>{"use strict";var AFt=cr(),PFt=nt(),OFt=di(),gU=URLSearchParams.prototype,DFt=PFt(gU.forEach);AFt&&!("size"in gU)&&OFt(gU,"size",{get:function(){var t=0;return DFt(this,function(){t++}),t},configurable:!0,enumerable:!0})});var qCe=I((f3r,LCe)=>{"use strict";eie();sie();lie();uie();cie();die();pie();fie();hie();mie();gie();vie();yie();_ie();bie();Wie();Xie();$q();voe();Yq();Eoe();Aoe();Ooe();koe();Loe();Roe();joe();Jq();eR();$oe();Hoe();Yoe();nae();iae();aae();sae();rx();Cae();Dae();Nae();Lae();Rae();Hae();Gae();Zae();Qae();Jae();mse();yse();_se();bR();wR();SR();Sse();Ise();Ese();ER();tle();fle();_le();xle();WR();s8();l8();Wle();Yle();Xle();Qle();lue();uue();hue();yue();bue();Tue();Aue();Nue();m8();b8();I8();E8();T8();M8();P8();O8();D8();k8();L8();q8();R8();z8();Aq();nce();PM();W8();Ece();Cce();Pce();Oce();Dce();Lce();Rce();zce();Fce();Uce();$ce();Hce();Wce();Gce();Kce();Jce();ede();tde();pde();fde();mde();vde();yde();_de();bde();xde();Mde();Lde();Fde();Wde();Zde();epe();tpe();ipe();ape();lpe();upe();mpe();gpe();vpe();bpe();xpe();wpe();Ipe();m9();g9();Mpe();Ape();Ope();Npe();Lpe();qpe();Rpe();zpe();Vpe();$pe();Hpe();Ype();Zpe();Xpe();Jpe();phe();J9();e7();vhe();i7();o7();bhe();Mhe();Phe();Ohe();Lhe();qhe();Rhe();zhe();jhe();Fhe();Bhe();Whe();Yhe();Zhe();pme();hme();JM();bme();wme();Eme();Ame();Ome();E7();C7();P7();D7();k7();R7();j7();sge();dge();gge();B7();bge();U7();V7();kge();K7();Hge();Wge();Kge();Xge();nve();az();lve();fve();gve();yve();fz();Eve();Pve();Lve();jve();Fve();Bve();Uve();Vve();$ve();Hve();Wve();Gve();Yve();Zve();Kve();Xve();Iye();Eye();Tye();Mye();Cye();Aye();Pye();Oye();Dye();Cz();Lye();Rye();jye();Uye();$ye();Wye();Az();Pz();Kye();Xye();Jye();t0e();a0e();l0e();c0e();d0e();f0e();m0e();v0e();_0e();E0e();T0e();C0e();k0e();q0e();B0e();$z();Hz();V0e();Gz();Y0e();CC();c1e();d1e();h1e();B1e();U1e();V1e();$1e();H1e();W1e();Y1e();Z1e();X1e();Q1e();t_e();r_e();o_e();a_e();s_e();l_e();m_e();g_e();v_e();y_e();b_e();D_e();R_e();Z_e();J_e();tbe();rbe();ibe();obe();dbe();pbe();hbe();mbe();gbe();vbe();ybe();xbe();wbe();Abe();Lbe();Rbe();zbe();jbe();Ube();Vbe();Ybe();Kbe();Qbe();Jbe();rxe();nxe();ixe();oxe();sxe();cxe();fxe();hxe();mxe();gxe();vxe();yxe();_xe();bxe();xxe();wxe();Ixe();Exe();Txe();Mxe();Cxe();Pxe();Nxe();Hxe();Jxe();twe();nwe();iwe();awe();swe();lwe();dwe();pwe();fwe();hwe();vwe();_we();bwe();wwe();Iwe();Ewe();Cwe();Awe();Pwe();Dwe();kwe();Lwe();qwe();Rwe();zwe();Fwe();Bwe();Uwe();Vwe();$we();Hwe();Wwe();Gwe();Xwe();Qwe();n2e();i2e();s2e();l2e();u2e();f2e();h2e();m2e();g2e();O2e();D2e();N2e();k2e();L2e();B2e();V2e();H2e();Z2e();X2e();J2e();rSe();iSe();aSe();fSe();hSe();mSe();gSe();xSe();wSe();ISe();ESe();MSe();CSe();ASe();PSe();OSe();DSe();NSe();kSe();LSe();RSe();jSe();BSe();USe();VSe();$Se();HSe();WSe();GSe();YSe();JSe();iIe();IIe();EIe();TIe();MIe();CIe();AIe();PIe();OIe();NIe();kIe();BIe();UIe();VIe();$Ie();HIe();WIe();GIe();YIe();KIe();XIe();JIe();tEe();rEe();nEe();iEe();oEe();aEe();sEe();lEe();uEe();xEe();TEe();CEe();AEe();OEe();DEe();kEe();qEe();zEe();FEe();BEe();VEe();$Ee();GEe();YEe();KEe();QEe();oTe();cTe();vTe();wTe();kTe();BTe();VTe();QTe();JTe();tMe();pMe();_Me();yCe();xCe();SCe();ICe();ECe();ACe();NCe();kCe();LCe.exports=qT()});var zCe=I((h3r,RCe)=>{"use strict";RCe.exports=qCe()});var nAe=I((Z3r,rAe)=>{"use strict";var QHt="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";rAe.exports=QHt});var sAe=I((K3r,aAe)=>{"use strict";var JHt=nAe();function iAe(){}function oAe(){}oAe.resetWarningCache=iAe;aAe.exports=function(){function e(n,i,o,u,p,h){if(h!==JHt){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:oAe,resetWarningCache:iAe};return r.PropTypes=r,r}});var Gt=I((J3r,lAe)=>{lAe.exports=sAe()();var X3r,Q3r});var Qw=I((aV,sV)=>{(function(e,t){typeof aV=="object"&&typeof sV!="undefined"?sV.exports=t():typeof define=="function"&&define.amd?define(t):(e=typeof globalThis!="undefined"?globalThis:e||self,e.maplibregl=t())})(aV,function(){"use strict";var e={},t={};function r(i,o,u){if(t[i]=u,i==="index"){var p="var sharedModule = {}; ("+t.shared+")(sharedModule); ("+t.worker+")(sharedModule);",h={};return t.shared(h),t.index(e,h),typeof window!="undefined"&&e.setWorkerUrl(window.URL.createObjectURL(new Blob([p],{type:"text/javascript"}))),e}}r("shared",["exports"],function(i){"use strict";function o(l,s,c,f){return new(c||(c=Promise))(function(v,w){function S(D){try{A(f.next(D))}catch(q){w(q)}}function M(D){try{A(f.throw(D))}catch(q){w(q)}}function A(D){var q;D.done?v(D.value):(q=D.value,q instanceof c?q:new c(function(B){B(q)})).then(S,M)}A((f=f.apply(l,s||[])).next())})}function u(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}typeof SuppressedError=="function"&&SuppressedError;var p=h;function h(l,s){this.x=l,this.y=s}h.prototype={clone:function(){return new h(this.x,this.y)},add:function(l){return this.clone()._add(l)},sub:function(l){return this.clone()._sub(l)},multByPoint:function(l){return this.clone()._multByPoint(l)},divByPoint:function(l){return this.clone()._divByPoint(l)},mult:function(l){return this.clone()._mult(l)},div:function(l){return this.clone()._div(l)},rotate:function(l){return this.clone()._rotate(l)},rotateAround:function(l,s){return this.clone()._rotateAround(l,s)},matMult:function(l){return this.clone()._matMult(l)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(l){return this.x===l.x&&this.y===l.y},dist:function(l){return Math.sqrt(this.distSqr(l))},distSqr:function(l){var s=l.x-this.x,c=l.y-this.y;return s*s+c*c},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(l){return Math.atan2(this.y-l.y,this.x-l.x)},angleWith:function(l){return this.angleWithSep(l.x,l.y)},angleWithSep:function(l,s){return Math.atan2(this.x*s-this.y*l,this.x*l+this.y*s)},_matMult:function(l){var s=l[2]*this.x+l[3]*this.y;return this.x=l[0]*this.x+l[1]*this.y,this.y=s,this},_add:function(l){return this.x+=l.x,this.y+=l.y,this},_sub:function(l){return this.x-=l.x,this.y-=l.y,this},_mult:function(l){return this.x*=l,this.y*=l,this},_div:function(l){return this.x/=l,this.y/=l,this},_multByPoint:function(l){return this.x*=l.x,this.y*=l.y,this},_divByPoint:function(l){return this.x/=l.x,this.y/=l.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var l=this.y;return this.y=this.x,this.x=-l,this},_rotate:function(l){var s=Math.cos(l),c=Math.sin(l),f=c*this.x+s*this.y;return this.x=s*this.x-c*this.y,this.y=f,this},_rotateAround:function(l,s){var c=Math.cos(l),f=Math.sin(l),v=s.y+f*(this.x-s.x)+c*(this.y-s.y);return this.x=s.x+c*(this.x-s.x)-f*(this.y-s.y),this.y=v,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},h.convert=function(l){return l instanceof h?l:Array.isArray(l)?new h(l[0],l[1]):l};var y=u(p),_=E;function E(l,s,c,f){this.cx=3*l,this.bx=3*(c-l)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*s,this.by=3*(f-s)-this.cy,this.ay=1-this.cy-this.by,this.p1x=l,this.p1y=s,this.p2x=c,this.p2y=f}E.prototype={sampleCurveX:function(l){return((this.ax*l+this.bx)*l+this.cx)*l},sampleCurveY:function(l){return((this.ay*l+this.by)*l+this.cy)*l},sampleCurveDerivativeX:function(l){return(3*this.ax*l+2*this.bx)*l+this.cx},solveCurveX:function(l,s){if(s===void 0&&(s=1e-6),l<0)return 0;if(l>1)return 1;for(var c=l,f=0;f<8;f++){var v=this.sampleCurveX(c)-l;if(Math.abs(v)<s)return c;var w=this.sampleCurveDerivativeX(c);if(Math.abs(w)<1e-6)break;c-=v/w}var S=0,M=1;for(c=l,f=0;f<20&&(v=this.sampleCurveX(c),!(Math.abs(v-l)<s));f++)l>v?S=c:M=c,c=.5*(M-S)+S;return c},solve:function(l,s){return this.sampleCurveY(this.solveCurveX(l,s))}};var T=u(_);let N,R;function j(){return N==null&&(N=typeof OffscreenCanvas!="undefined"&&new OffscreenCanvas(1,1).getContext("2d")&&typeof createImageBitmap=="function"),N}function k(){if(R==null&&(R=!1,j())){let s=new OffscreenCanvas(5,5).getContext("2d",{willReadFrequently:!0});if(s){for(let f=0;f<5*5;f++){let v=4*f;s.fillStyle=`rgb(${v},${v+1},${v+2})`,s.fillRect(f%5,Math.floor(f/5),1,1)}let c=s.getImageData(0,0,5,5).data;for(let f=0;f<5*5*4;f++)if(f%4!=3&&c[f]!==f){R=!0;break}}}return R||!1}function L(l,s,c,f){let v=new T(l,s,c,f);return w=>v.solve(w)}let F=L(.25,.1,.25,1);function G(l,s,c){return Math.min(c,Math.max(s,l))}function ee(l,s,c){let f=c-s,v=((l-s)%f+f)%f+s;return v===s?c:v}function ae(l,...s){for(let c of s)for(let f in c)l[f]=c[f];return l}let ue=1;function ge(l,s,c){let f={};for(let v in l)f[v]=s.call(this,l[v],v,l);return f}function Oe(l,s,c){let f={};for(let v in l)s.call(this,l[v],v,l)&&(f[v]=l[v]);return f}function _e(l){return Array.isArray(l)?l.map(_e):typeof l=="object"&&l?ge(l,_e):l}let ze={};function We(l){ze[l]||(typeof console!="undefined"&&console.warn(l),ze[l]=!0)}function $e(l,s,c){return(c.y-l.y)*(s.x-l.x)>(s.y-l.y)*(c.x-l.x)}function qe(l){return typeof WorkerGlobalScope!="undefined"&&l!==void 0&&l instanceof WorkerGlobalScope}let Je=null;function dt(l){return typeof ImageBitmap!="undefined"&&l instanceof ImageBitmap}let Ue="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function Re(l,s,c,f,v){return o(this,void 0,void 0,function*(){if(typeof VideoFrame=="undefined")throw new Error("VideoFrame not supported");let w=new VideoFrame(l,{timestamp:0});try{let S=w==null?void 0:w.format;if(!S||!S.startsWith("BGR")&&!S.startsWith("RGB"))throw new Error(`Unrecognized format ${S}`);let M=S.startsWith("BGR"),A=new Uint8ClampedArray(f*v*4);if(yield w.copyTo(A,function(D,q,B,W,Y){let X=4*Math.max(-q,0),J=(Math.max(0,B)-B)*W*4+X,le=4*W,de=Math.max(0,q),Ne=Math.max(0,B);return{rect:{x:de,y:Ne,width:Math.min(D.width,q+W)-de,height:Math.min(D.height,B+Y)-Ne},layout:[{offset:J,stride:le}]}}(l,s,c,f,v)),M)for(let D=0;D<A.length;D+=4){let q=A[D];A[D]=A[D+2],A[D+2]=q}return A}finally{w.close()}})}let Pe,et,lt="AbortError";function ut(){return new Error(lt)}let Fe={MAX_PARALLEL_IMAGE_REQUESTS:16,MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:8,MAX_TILE_CACHE_ZOOM_LEVELS:5,REGISTERED_PROTOCOLS:{},WORKER_URL:""};function Ge(l){return Fe.REGISTERED_PROTOCOLS[l.substring(0,l.indexOf("://"))]}let ot="global-dispatcher";class De extends Error{constructor(s,c,f,v){super(`AJAXError: ${c} (${s}): ${f}`),this.status=s,this.statusText=c,this.url=f,this.body=v}}let he=()=>qe(self)?self.worker&&self.worker.referrer:(window.location.protocol==="blob:"?window.parent:window).location.href,ke=function(l,s){if(/:\/\//.test(l.url)&&!/^https?:|^file:/.test(l.url)){let f=Ge(l.url);if(f)return f(l,s);if(qe(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"GR",data:l,targetMapId:ot},s)}if(!(/^file:/.test(c=l.url)||/^file:/.test(he())&&!/^\w+:/.test(c))){if(fetch&&Request&&AbortController&&Object.prototype.hasOwnProperty.call(Request.prototype,"signal"))return function(f,v){return o(this,void 0,void 0,function*(){let w=new Request(f.url,{method:f.method||"GET",body:f.body,credentials:f.credentials,headers:f.headers,cache:f.cache,referrer:he(),signal:v.signal});f.type!=="json"||w.headers.has("Accept")||w.headers.set("Accept","application/json");let S=yield fetch(w);if(!S.ok){let D=yield S.blob();throw new De(S.status,S.statusText,f.url,D)}let M;M=f.type==="arrayBuffer"||f.type==="image"?S.arrayBuffer():f.type==="json"?S.json():S.text();let A=yield M;if(v.signal.aborted)throw ut();return{data:A,cacheControl:S.headers.get("Cache-Control"),expires:S.headers.get("Expires")}})}(l,s);if(qe(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"GR",data:l,mustQueue:!0,targetMapId:ot},s)}var c;return function(f,v){return new Promise((w,S)=>{var M;let A=new XMLHttpRequest;A.open(f.method||"GET",f.url,!0),f.type!=="arrayBuffer"&&f.type!=="image"||(A.responseType="arraybuffer");for(let D in f.headers)A.setRequestHeader(D,f.headers[D]);f.type==="json"&&(A.responseType="text",!((M=f.headers)===null||M===void 0)&&M.Accept||A.setRequestHeader("Accept","application/json")),A.withCredentials=f.credentials==="include",A.onerror=()=>{S(new Error(A.statusText))},A.onload=()=>{if(!v.signal.aborted)if((A.status>=200&&A.status<300||A.status===0)&&A.response!==null){let D=A.response;if(f.type==="json")try{D=JSON.parse(A.response)}catch(q){return void S(q)}w({data:D,cacheControl:A.getResponseHeader("Cache-Control"),expires:A.getResponseHeader("Expires")})}else{let D=new Blob([A.response],{type:A.getResponseHeader("Content-Type")});S(new De(A.status,A.statusText,f.url,D))}},v.signal.addEventListener("abort",()=>{A.abort(),S(ut())}),A.send(f.body)})}(l,s)};function Te(l){if(!l||l.indexOf("://")<=0||l.indexOf("data:image/")===0||l.indexOf("blob:")===0)return!0;let s=new URL(l),c=window.location;return s.protocol===c.protocol&&s.host===c.host}function Qe(l,s,c){c[l]&&c[l].indexOf(s)!==-1||(c[l]=c[l]||[],c[l].push(s))}function Ye(l,s,c){if(c&&c[l]){let f=c[l].indexOf(s);f!==-1&&c[l].splice(f,1)}}class Ct{constructor(s,c={}){ae(this,c),this.type=s}}class yt extends Ct{constructor(s,c={}){super("error",ae({error:s},c))}}class Nt{on(s,c){return this._listeners=this._listeners||{},Qe(s,c,this._listeners),this}off(s,c){return Ye(s,c,this._listeners),Ye(s,c,this._oneTimeListeners),this}once(s,c){return c?(this._oneTimeListeners=this._oneTimeListeners||{},Qe(s,c,this._oneTimeListeners),this):new Promise(f=>this.once(s,f))}fire(s,c){typeof s=="string"&&(s=new Ct(s,c||{}));let f=s.type;if(this.listens(f)){s.target=this;let v=this._listeners&&this._listeners[f]?this._listeners[f].slice():[];for(let M of v)M.call(this,s);let w=this._oneTimeListeners&&this._oneTimeListeners[f]?this._oneTimeListeners[f].slice():[];for(let M of w)Ye(f,M,this._oneTimeListeners),M.call(this,s);let S=this._eventedParent;S&&(ae(s,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),S.fire(s))}else s instanceof yt&&console.error(s.error);return this}listens(s){return this._listeners&&this._listeners[s]&&this._listeners[s].length>0||this._oneTimeListeners&&this._oneTimeListeners[s]&&this._oneTimeListeners[s].length>0||this._eventedParent&&this._eventedParent.listens(s)}setEventedParent(s,c){return this._eventedParent=s,this._eventedParentData=c,this}}var we={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sky:{type:"sky"},projection:{type:"projection"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"sprite"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{},custom:{}},default:"mapbox"},redFactor:{type:"number",default:1},blueFactor:{type:"number",default:1},greenFactor:{type:"number",default:1},baseShift:{type:"number",default:0},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{required:!0,type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{type:"variableAnchorOffsetCollection",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},sky:{"sky-color":{type:"color","property-type":"data-constant",default:"#88C6FC",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-ground-blend":{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-fog-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"sky-horizon-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"atmosphere-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1}},projection:{type:{type:"enum",default:"mercator",values:{mercator:{},globe:{}}}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};let bt=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function Ft(l,s){let c={};for(let f in l)f!=="ref"&&(c[f]=l[f]);return bt.forEach(f=>{f in s&&(c[f]=s[f])}),c}function vt(l,s){if(Array.isArray(l)){if(!Array.isArray(s)||l.length!==s.length)return!1;for(let c=0;c<l.length;c++)if(!vt(l[c],s[c]))return!1;return!0}if(typeof l=="object"&&l!==null&&s!==null){if(typeof s!="object"||Object.keys(l).length!==Object.keys(s).length)return!1;for(let c in l)if(!vt(l[c],s[c]))return!1;return!0}return l===s}function Yt(l,s){l.push(s)}function Or(l,s,c){Yt(c,{command:"addSource",args:[l,s[l]]})}function Wt(l,s,c){Yt(s,{command:"removeSource",args:[l]}),c[l]=!0}function hr(l,s,c,f){Wt(l,c,f),Or(l,s,c)}function Gr(l,s,c){let f;for(f in l[c])if(Object.prototype.hasOwnProperty.call(l[c],f)&&f!=="data"&&!vt(l[c][f],s[c][f]))return!1;for(f in s[c])if(Object.prototype.hasOwnProperty.call(s[c],f)&&f!=="data"&&!vt(l[c][f],s[c][f]))return!1;return!0}function Yr(l,s,c,f,v,w){l=l||{},s=s||{};for(let S in l)Object.prototype.hasOwnProperty.call(l,S)&&(vt(l[S],s[S])||c.push({command:w,args:[f,S,s[S],v]}));for(let S in s)Object.prototype.hasOwnProperty.call(s,S)&&!Object.prototype.hasOwnProperty.call(l,S)&&(vt(l[S],s[S])||c.push({command:w,args:[f,S,s[S],v]}))}function ir(l){return l.id}function tn(l,s){return l[s.id]=s,l}class at{constructor(s,c,f,v){this.message=(s?`${s}: `:"")+f,v&&(this.identifier=v),c!=null&&c.__line__&&(this.line=c.__line__)}}function fi(l,...s){for(let c of s)for(let f in c)l[f]=c[f];return l}class wn extends Error{constructor(s,c){super(c),this.message=c,this.key=s}}class is{constructor(s,c=[]){this.parent=s,this.bindings={};for(let[f,v]of c)this.bindings[f]=v}concat(s){return new is(this,s)}get(s){if(this.bindings[s])return this.bindings[s];if(this.parent)return this.parent.get(s);throw new Error(`${s} not found in scope.`)}has(s){return!!this.bindings[s]||!!this.parent&&this.parent.has(s)}}let gl={kind:"null"},wt={kind:"number"},Pr={kind:"string"},fr={kind:"boolean"},fo={kind:"color"},qa={kind:"object"},Se={kind:"value"},Ce={kind:"collator"},ct={kind:"formatted"},kt={kind:"padding"},Ot={kind:"resolvedImage"},ne={kind:"variableAnchorOffsetCollection"};function H(l,s){return{kind:"array",itemType:l,N:s}}function $(l){if(l.kind==="array"){let s=$(l.itemType);return typeof l.N=="number"?`array<${s}, ${l.N}>`:l.itemType.kind==="value"?"array":`array<${s}>`}return l.kind}let Z=[gl,wt,Pr,fr,fo,ct,qa,H(Se),kt,Ot,ne];function ie(l,s){if(s.kind==="error")return null;if(l.kind==="array"){if(s.kind==="array"&&(s.N===0&&s.itemType.kind==="value"||!ie(l.itemType,s.itemType))&&(typeof l.N!="number"||l.N===s.N))return null}else{if(l.kind===s.kind)return null;if(l.kind==="value"){for(let c of Z)if(!ie(c,s))return null}}return`Expected ${$(l)} but found ${$(s)} instead.`}function ve(l,s){return s.some(c=>c.kind===l.kind)}function xe(l,s){return s.some(c=>c==="null"?l===null:c==="array"?Array.isArray(l):c==="object"?l&&!Array.isArray(l)&&typeof l=="object":c===typeof l)}function Ee(l,s){return l.kind==="array"&&s.kind==="array"?l.itemType.kind===s.itemType.kind&&typeof l.N=="number":l.kind===s.kind}let fe=.96422,Ve=.82521,tt=4/29,je=6/29,ht=3*je*je,Zt=je*je*je,lr=Math.PI/180,on=180/Math.PI;function Tr(l){return(l%=360)<0&&(l+=360),l}function an([l,s,c,f]){let v,w,S=Di((.2225045*(l=Zr(l))+.7168786*(s=Zr(s))+.0606169*(c=Zr(c)))/1);l===s&&s===c?v=w=S:(v=Di((.4360747*l+.3850649*s+.1430804*c)/fe),w=Di((.0139322*l+.0971045*s+.7141733*c)/Ve));let M=116*S-16;return[M<0?0:M,500*(v-S),200*(S-w),f]}function Zr(l){return l<=.04045?l/12.92:Math.pow((l+.055)/1.055,2.4)}function Di(l){return l>Zt?Math.pow(l,1/3):l/ht+tt}function hi([l,s,c,f]){let v=(l+16)/116,w=isNaN(s)?v:v+s/500,S=isNaN(c)?v:v-c/200;return v=1*Mn(v),w=fe*Mn(w),S=Ve*Mn(S),[Rr(3.1338561*w-1.6168667*v-.4906146*S),Rr(-.9787684*w+1.9161415*v+.033454*S),Rr(.0719453*w-.2289914*v+1.4052427*S),f]}function Rr(l){return(l=l<=.00304?12.92*l:1.055*Math.pow(l,1/2.4)-.055)<0?0:l>1?1:l}function Mn(l){return l>je?l*l*l:ht*(l-tt)}function ii(l){return parseInt(l.padEnd(2,l),16)/255}function Yi(l,s){return io(s?l/100:l,0,1)}function io(l,s,c){return Math.min(Math.max(s,l),c)}function ko(l){return!l.some(Number.isNaN)}let lp={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};class Cn{constructor(s,c,f,v=1,w=!0){this.r=s,this.g=c,this.b=f,this.a=v,w||(this.r*=v,this.g*=v,this.b*=v,v||this.overwriteGetter("rgb",[s,c,f,v]))}static parse(s){if(s instanceof Cn)return s;if(typeof s!="string")return;let c=function(f){if((f=f.toLowerCase().trim())==="transparent")return[0,0,0,0];let v=lp[f];if(v){let[S,M,A]=v;return[S/255,M/255,A/255,1]}if(f.startsWith("#")&&/^#(?:[0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/.test(f)){let S=f.length<6?1:2,M=1;return[ii(f.slice(M,M+=S)),ii(f.slice(M,M+=S)),ii(f.slice(M,M+=S)),ii(f.slice(M,M+S)||"ff")]}if(f.startsWith("rgb")){let S=f.match(/^rgba?\(\s*([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(S){let[M,A,D,q,B,W,Y,X,J,le,de,Ne]=S,be=[q||" ",Y||" ",le].join("");if(be==="  "||be==="  /"||be===",,"||be===",,,"){let Ae=[D,W,J].join(""),He=Ae==="%%%"?100:Ae===""?255:0;if(He){let st=[io(+A/He,0,1),io(+B/He,0,1),io(+X/He,0,1),de?Yi(+de,Ne):1];if(ko(st))return st}}return}}let w=f.match(/^hsla?\(\s*([\de.+-]+)(?:deg)?(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(w){let[S,M,A,D,q,B,W,Y,X]=w,J=[A||" ",q||" ",W].join("");if(J==="  "||J==="  /"||J===",,"||J===",,,"){let le=[+M,io(+D,0,100),io(+B,0,100),Y?Yi(+Y,X):1];if(ko(le))return function([de,Ne,be,Ae]){function He(st){let zt=(st+de/30)%12,ur=Ne*Math.min(be,1-be);return be-ur*Math.max(-1,Math.min(zt-3,9-zt,1))}return de=Tr(de),Ne/=100,be/=100,[He(0),He(8),He(4),Ae]}(le)}}}(s);return c?new Cn(...c,!1):void 0}get rgb(){let{r:s,g:c,b:f,a:v}=this,w=v||1/0;return this.overwriteGetter("rgb",[s/w,c/w,f/w,v])}get hcl(){return this.overwriteGetter("hcl",function(s){let[c,f,v,w]=an(s),S=Math.sqrt(f*f+v*v);return[Math.round(1e4*S)?Tr(Math.atan2(v,f)*on):NaN,S,c,w]}(this.rgb))}get lab(){return this.overwriteGetter("lab",an(this.rgb))}overwriteGetter(s,c){return Object.defineProperty(this,s,{value:c}),c}toString(){let[s,c,f,v]=this.rgb;return`rgba(${[s,c,f].map(w=>Math.round(255*w)).join(",")},${v})`}}Cn.black=new Cn(0,0,0,1),Cn.white=new Cn(1,1,1,1),Cn.transparent=new Cn(0,0,0,0),Cn.red=new Cn(1,0,0,1);class I1{constructor(s,c,f){this.sensitivity=s?c?"variant":"case":c?"accent":"base",this.locale=f,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(s,c){return this.collator.compare(s,c)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class E1{constructor(s,c,f,v,w){this.text=s,this.image=c,this.scale=f,this.fontStack=v,this.textColor=w}}class Ra{constructor(s){this.sections=s}static fromString(s){return new Ra([new E1(s,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(s=>s.text.length!==0||s.image&&s.image.name.length!==0)}static factory(s){return s instanceof Ra?s:Ra.fromString(s)}toString(){return this.sections.length===0?"":this.sections.map(s=>s.text).join("")}}class za{constructor(s){this.values=s.slice()}static parse(s){if(s instanceof za)return s;if(typeof s=="number")return new za([s,s,s,s]);if(Array.isArray(s)&&!(s.length<1||s.length>4)){for(let c of s)if(typeof c!="number")return;switch(s.length){case 1:s=[s[0],s[0],s[0],s[0]];break;case 2:s=[s[0],s[1],s[0],s[1]];break;case 3:s=[s[0],s[1],s[2],s[1]];}return new za(s)}}toString(){return JSON.stringify(this.values)}}let ZD=new Set(["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"]);class os{constructor(s){this.values=s.slice()}static parse(s){if(s instanceof os)return s;if(Array.isArray(s)&&!(s.length<1)&&s.length%2==0){for(let c=0;c<s.length;c+=2){let f=s[c],v=s[c+1];if(typeof f!="string"||!ZD.has(f)||!Array.isArray(v)||v.length!==2||typeof v[0]!="number"||typeof v[1]!="number")return}return new os(s)}}toString(){return JSON.stringify(this.values)}}class ja{constructor(s){this.name=s.name,this.available=s.available}toString(){return this.name}static fromString(s){return s?new ja({name:s,available:!1}):null}}function up(l,s,c,f){return typeof l=="number"&&l>=0&&l<=255&&typeof s=="number"&&s>=0&&s<=255&&typeof c=="number"&&c>=0&&c<=255?f===void 0||typeof f=="number"&&f>=0&&f<=1?null:`Invalid rgba value [${[l,s,c,f].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof f=="number"?[l,s,c,f]:[l,s,c]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function Vc(l){if(l===null||typeof l=="string"||typeof l=="boolean"||typeof l=="number"||l instanceof Cn||l instanceof I1||l instanceof Ra||l instanceof za||l instanceof os||l instanceof ja)return!0;if(Array.isArray(l)){for(let s of l)if(!Vc(s))return!1;return!0}if(typeof l=="object"){for(let s in l)if(!Vc(l[s]))return!1;return!0}return!1}function Ni(l){if(l===null)return gl;if(typeof l=="string")return Pr;if(typeof l=="boolean")return fr;if(typeof l=="number")return wt;if(l instanceof Cn)return fo;if(l instanceof I1)return Ce;if(l instanceof Ra)return ct;if(l instanceof za)return kt;if(l instanceof os)return ne;if(l instanceof ja)return Ot;if(Array.isArray(l)){let s=l.length,c;for(let f of l){let v=Ni(f);if(c){if(c===v)continue;c=Se;break}c=v}return H(c||Se,s)}return qa}function vh(l){let s=typeof l;return l===null?"":s==="string"||s==="number"||s==="boolean"?String(l):l instanceof Cn||l instanceof Ra||l instanceof za||l instanceof os||l instanceof ja?l.toString():JSON.stringify(l)}class Us{constructor(s,c){this.type=s,this.value=c}static parse(s,c){if(s.length!==2)return c.error(`'literal' expression requires exactly one argument, but found ${s.length-1} instead.`);if(!Vc(s[1]))return c.error("invalid value");let f=s[1],v=Ni(f),w=c.expectedType;return v.kind!=="array"||v.N!==0||!w||w.kind!=="array"||typeof w.N=="number"&&w.N!==0||(v=w),new Us(v,f)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}}class Ai{constructor(s){this.name="ExpressionEvaluationError",this.message=s}toJSON(){return this.message}}let bg={string:Pr,number:wt,boolean:fr,object:qa};class Vs{constructor(s,c){this.type=s,this.args=c}static parse(s,c){if(s.length<2)return c.error("Expected at least one argument.");let f,v=1,w=s[0];if(w==="array"){let M,A;if(s.length>2){let D=s[1];if(typeof D!="string"||!(D in bg)||D==="object")return c.error("The item type argument of \"array\" must be one of string, number, boolean",1);M=bg[D],v++}else M=Se;if(s.length>3){if(s[2]!==null&&(typeof s[2]!="number"||s[2]<0||s[2]!==Math.floor(s[2])))return c.error("The length argument to \"array\" must be a positive integer literal",2);A=s[2],v++}f=H(M,A)}else{if(!bg[w])throw new Error(`Types doesn't contain name = ${w}`);f=bg[w]}let S=[];for(;v<s.length;v++){let M=c.parse(s[v],v,Se);if(!M)return null;S.push(M)}return new Vs(f,S)}evaluate(s){for(let c=0;c<this.args.length;c++){let f=this.args[c].evaluate(s);if(!ie(this.type,Ni(f)))return f;if(c===this.args.length-1)throw new Ai(`Expected value to be of type ${$(this.type)}, but found ${$(Ni(f))} instead.`)}throw new Error}eachChild(s){this.args.forEach(s)}outputDefined(){return this.args.every(s=>s.outputDefined())}}let T1={"to-boolean":fr,"to-color":fo,"to-number":wt,"to-string":Pr};class $s{constructor(s,c){this.type=s,this.args=c}static parse(s,c){if(s.length<2)return c.error("Expected at least one argument.");let f=s[0];if(!T1[f])throw new Error(`Can't parse ${f} as it is not part of the known types`);if((f==="to-boolean"||f==="to-string")&&s.length!==2)return c.error("Expected one argument.");let v=T1[f],w=[];for(let S=1;S<s.length;S++){let M=c.parse(s[S],S,Se);if(!M)return null;w.push(M)}return new $s(v,w)}evaluate(s){switch(this.type.kind){case"boolean":return!!this.args[0].evaluate(s);case"color":{let c,f;for(let v of this.args){if(c=v.evaluate(s),f=null,c instanceof Cn)return c;if(typeof c=="string"){let w=s.parseColor(c);if(w)return w}else if(Array.isArray(c)&&(f=c.length<3||c.length>4?`Invalid rbga value ${JSON.stringify(c)}: expected an array containing either three or four numeric values.`:up(c[0],c[1],c[2],c[3]),!f))return new Cn(c[0]/255,c[1]/255,c[2]/255,c[3])}throw new Ai(f||`Could not parse color from value '${typeof c=="string"?c:JSON.stringify(c)}'`)}case"padding":{let c;for(let f of this.args){c=f.evaluate(s);let v=za.parse(c);if(v)return v}throw new Ai(`Could not parse padding from value '${typeof c=="string"?c:JSON.stringify(c)}'`)}case"variableAnchorOffsetCollection":{let c;for(let f of this.args){c=f.evaluate(s);let v=os.parse(c);if(v)return v}throw new Ai(`Could not parse variableAnchorOffsetCollection from value '${typeof c=="string"?c:JSON.stringify(c)}'`)}case"number":{let c=null;for(let f of this.args){if(c=f.evaluate(s),c===null)return 0;let v=Number(c);if(!isNaN(v))return v}throw new Ai(`Could not convert ${JSON.stringify(c)} to number.`)}case"formatted":return Ra.fromString(vh(this.args[0].evaluate(s)));case"resolvedImage":return ja.fromString(vh(this.args[0].evaluate(s)));default:return vh(this.args[0].evaluate(s));}}eachChild(s){this.args.forEach(s)}outputDefined(){return this.args.every(s=>s.outputDefined())}}let KD=["Unknown","Point","LineString","Polygon"];class xg{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?KD[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(s){let c=this._parseColorCache[s];return c||(c=this._parseColorCache[s]=Cn.parse(s)),c}}class $c{constructor(s,c,f=[],v,w=new is,S=[]){this.registry=s,this.path=f,this.key=f.map(M=>`[${M}]`).join(""),this.scope=w,this.errors=S,this.expectedType=v,this._isConstant=c}parse(s,c,f,v,w={}){return c?this.concat(c,f,v)._parse(s,w):this._parse(s,w)}_parse(s,c){function f(v,w,S){return S==="assert"?new Vs(w,[v]):S==="coerce"?new $s(w,[v]):v}if(s!==null&&typeof s!="string"&&typeof s!="boolean"&&typeof s!="number"||(s=["literal",s]),Array.isArray(s)){if(s.length===0)return this.error("Expected an array with at least one element. If you wanted a literal array, use [\"literal\", []].");let v=s[0];if(typeof v!="string")return this.error(`Expression name must be a string, but found ${typeof v} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;let w=this.registry[v];if(w){let S=w.parse(s,this);if(!S)return null;if(this.expectedType){let M=this.expectedType,A=S.type;if(M.kind!=="string"&&M.kind!=="number"&&M.kind!=="boolean"&&M.kind!=="object"&&M.kind!=="array"||A.kind!=="value"){if(M.kind!=="color"&&M.kind!=="formatted"&&M.kind!=="resolvedImage"||A.kind!=="value"&&A.kind!=="string"){if(M.kind!=="padding"||A.kind!=="value"&&A.kind!=="number"&&A.kind!=="array"){if(M.kind!=="variableAnchorOffsetCollection"||A.kind!=="value"&&A.kind!=="array"){if(this.checkSubtype(M,A))return null}else S=f(S,M,c.typeAnnotation||"coerce");}else S=f(S,M,c.typeAnnotation||"coerce");}else S=f(S,M,c.typeAnnotation||"coerce");}else S=f(S,M,c.typeAnnotation||"assert")}if(!(S instanceof Us)&&S.type.kind!=="resolvedImage"&&this._isConstant(S)){let M=new xg;try{S=new Us(S.type,S.evaluate(M))}catch(A){return this.error(A.message),null}}return S}return this.error(`Unknown expression "${v}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(s===void 0?"'undefined' value invalid. Use null instead.":typeof s=="object"?"Bare objects invalid. Use [\"literal\", {...}] instead.":`Expected an array, but found ${typeof s} instead.`)}concat(s,c,f){let v=typeof s=="number"?this.path.concat(s):this.path,w=f?this.scope.concat(f):this.scope;return new $c(this.registry,this._isConstant,v,c||null,w,this.errors)}error(s,...c){let f=`${this.key}${c.map(v=>`[${v}]`).join("")}`;this.errors.push(new wn(f,s))}checkSubtype(s,c){let f=ie(s,c);return f&&this.error(f),f}}class Fu{constructor(s,c){this.type=c.type,this.bindings=[].concat(s),this.result=c}evaluate(s){return this.result.evaluate(s)}eachChild(s){for(let c of this.bindings)s(c[1]);s(this.result)}static parse(s,c){if(s.length<4)return c.error(`Expected at least 3 arguments, but found ${s.length-1} instead.`);let f=[];for(let w=1;w<s.length-1;w+=2){let S=s[w];if(typeof S!="string")return c.error(`Expected string, but found ${typeof S} instead.`,w);if(/[^a-zA-Z0-9_]/.test(S))return c.error("Variable names must contain only alphanumeric characters or '_'.",w);let M=c.parse(s[w+1],w+1);if(!M)return null;f.push([S,M])}let v=c.parse(s[s.length-1],s.length-1,c.expectedType,f);return v?new Fu(f,v):null}outputDefined(){return this.result.outputDefined()}}class fn{constructor(s,c){this.type=c.type,this.name=s,this.boundExpression=c}static parse(s,c){if(s.length!==2||typeof s[1]!="string")return c.error("'var' expression requires exactly one string literal argument.");let f=s[1];return c.scope.has(f)?new fn(f,c.scope.get(f)):c.error(`Unknown variable "${f}". Make sure "${f}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(s){return this.boundExpression.evaluate(s)}eachChild(){}outputDefined(){return!1}}class M1{constructor(s,c,f){this.type=s,this.index=c,this.input=f}static parse(s,c){if(s.length!==3)return c.error(`Expected 2 arguments, but found ${s.length-1} instead.`);let f=c.parse(s[1],1,wt),v=c.parse(s[2],2,H(c.expectedType||Se));return f&&v?new M1(v.type.itemType,f,v):null}evaluate(s){let c=this.index.evaluate(s),f=this.input.evaluate(s);if(c<0)throw new Ai(`Array index out of bounds: ${c} < 0.`);if(c>=f.length)throw new Ai(`Array index out of bounds: ${c} > ${f.length-1}.`);if(c!==Math.floor(c))throw new Ai(`Array index must be an integer, but found ${c} instead.`);return f[c]}eachChild(s){s(this.index),s(this.input)}outputDefined(){return!1}}class C1{constructor(s,c){this.type=fr,this.needle=s,this.haystack=c}static parse(s,c){if(s.length!==3)return c.error(`Expected 2 arguments, but found ${s.length-1} instead.`);let f=c.parse(s[1],1,Se),v=c.parse(s[2],2,Se);return f&&v?ve(f.type,[fr,Pr,wt,gl,Se])?new C1(f,v):c.error(`Expected first argument to be of type boolean, string, number or null, but found ${$(f.type)} instead`):null}evaluate(s){let c=this.needle.evaluate(s),f=this.haystack.evaluate(s);if(!f)return!1;if(!xe(c,["boolean","string","number","null"]))throw new Ai(`Expected first argument to be of type boolean, string, number or null, but found ${$(Ni(c))} instead.`);if(!xe(f,["string","array"]))throw new Ai(`Expected second argument to be of type array or string, but found ${$(Ni(f))} instead.`);return f.indexOf(c)>=0}eachChild(s){s(this.needle),s(this.haystack)}outputDefined(){return!0}}class cp{constructor(s,c,f){this.type=wt,this.needle=s,this.haystack=c,this.fromIndex=f}static parse(s,c){if(s.length<=2||s.length>=5)return c.error(`Expected 3 or 4 arguments, but found ${s.length-1} instead.`);let f=c.parse(s[1],1,Se),v=c.parse(s[2],2,Se);if(!f||!v)return null;if(!ve(f.type,[fr,Pr,wt,gl,Se]))return c.error(`Expected first argument to be of type boolean, string, number or null, but found ${$(f.type)} instead`);if(s.length===4){let w=c.parse(s[3],3,wt);return w?new cp(f,v,w):null}return new cp(f,v)}evaluate(s){let c=this.needle.evaluate(s),f=this.haystack.evaluate(s);if(!xe(c,["boolean","string","number","null"]))throw new Ai(`Expected first argument to be of type boolean, string, number or null, but found ${$(Ni(c))} instead.`);let v;if(this.fromIndex&&(v=this.fromIndex.evaluate(s)),xe(f,["string"])){let w=f.indexOf(c,v);return w===-1?-1:[...f.slice(0,w)].length}if(xe(f,["array"]))return f.indexOf(c,v);throw new Ai(`Expected second argument to be of type array or string, but found ${$(Ni(f))} instead.`)}eachChild(s){s(this.needle),s(this.haystack),this.fromIndex&&s(this.fromIndex)}outputDefined(){return!1}}class A1{constructor(s,c,f,v,w,S){this.inputType=s,this.type=c,this.input=f,this.cases=v,this.outputs=w,this.otherwise=S}static parse(s,c){if(s.length<5)return c.error(`Expected at least 4 arguments, but found only ${s.length-1}.`);if(s.length%2!=1)return c.error("Expected an even number of arguments.");let f,v;c.expectedType&&c.expectedType.kind!=="value"&&(v=c.expectedType);let w={},S=[];for(let D=2;D<s.length-1;D+=2){let q=s[D],B=s[D+1];Array.isArray(q)||(q=[q]);let W=c.concat(D);if(q.length===0)return W.error("Expected at least one branch label.");for(let X of q){if(typeof X!="number"&&typeof X!="string")return W.error("Branch labels must be numbers or strings.");if(typeof X=="number"&&Math.abs(X)>Number.MAX_SAFE_INTEGER)return W.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof X=="number"&&Math.floor(X)!==X)return W.error("Numeric branch labels must be integer values.");if(f){if(W.checkSubtype(f,Ni(X)))return null}else f=Ni(X);if(w[String(X)]!==void 0)return W.error("Branch labels must be unique.");w[String(X)]=S.length}let Y=c.parse(B,D,v);if(!Y)return null;v=v||Y.type,S.push(Y)}let M=c.parse(s[1],1,Se);if(!M)return null;let A=c.parse(s[s.length-1],s.length-1,v);return A?M.type.kind!=="value"&&c.concat(1).checkSubtype(f,M.type)?null:new A1(f,v,M,w,S,A):null}evaluate(s){let c=this.input.evaluate(s);return(Ni(c)===this.inputType&&this.outputs[this.cases[c]]||this.otherwise).evaluate(s)}eachChild(s){s(this.input),this.outputs.forEach(s),s(this.otherwise)}outputDefined(){return this.outputs.every(s=>s.outputDefined())&&this.otherwise.outputDefined()}}class wg{constructor(s,c,f){this.type=s,this.branches=c,this.otherwise=f}static parse(s,c){if(s.length<4)return c.error(`Expected at least 3 arguments, but found only ${s.length-1}.`);if(s.length%2!=0)return c.error("Expected an odd number of arguments.");let f;c.expectedType&&c.expectedType.kind!=="value"&&(f=c.expectedType);let v=[];for(let S=1;S<s.length-1;S+=2){let M=c.parse(s[S],S,fr);if(!M)return null;let A=c.parse(s[S+1],S+1,f);if(!A)return null;v.push([M,A]),f=f||A.type}let w=c.parse(s[s.length-1],s.length-1,f);if(!w)return null;if(!f)throw new Error("Can't infer output type");return new wg(f,v,w)}evaluate(s){for(let[c,f]of this.branches)if(c.evaluate(s))return f.evaluate(s);return this.otherwise.evaluate(s)}eachChild(s){for(let[c,f]of this.branches)s(c),s(f);s(this.otherwise)}outputDefined(){return this.branches.every(([s,c])=>c.outputDefined())&&this.otherwise.outputDefined()}}class yh{constructor(s,c,f,v){this.type=s,this.input=c,this.beginIndex=f,this.endIndex=v}static parse(s,c){if(s.length<=2||s.length>=5)return c.error(`Expected 3 or 4 arguments, but found ${s.length-1} instead.`);let f=c.parse(s[1],1,Se),v=c.parse(s[2],2,wt);if(!f||!v)return null;if(!ve(f.type,[H(Se),Pr,Se]))return c.error(`Expected first argument to be of type array or string, but found ${$(f.type)} instead`);if(s.length===4){let w=c.parse(s[3],3,wt);return w?new yh(f.type,f,v,w):null}return new yh(f.type,f,v)}evaluate(s){let c=this.input.evaluate(s),f=this.beginIndex.evaluate(s),v;if(this.endIndex&&(v=this.endIndex.evaluate(s)),xe(c,["string"]))return[...c].slice(f,v).join("");if(xe(c,["array"]))return c.slice(f,v);throw new Ai(`Expected first argument to be of type array or string, but found ${$(Ni(c))} instead.`)}eachChild(s){s(this.input),s(this.beginIndex),this.endIndex&&s(this.endIndex)}outputDefined(){return!1}}function Sg(l,s){let c=l.length-1,f,v,w=0,S=c,M=0;for(;w<=S;)if(M=Math.floor((w+S)/2),f=l[M],v=l[M+1],f<=s){if(M===c||s<v)return M;w=M+1}else{if(!(f>s))throw new Ai("Input is not a number.");S=M-1}return 0}class dp{constructor(s,c,f){this.type=s,this.input=c,this.labels=[],this.outputs=[];for(let[v,w]of f)this.labels.push(v),this.outputs.push(w)}static parse(s,c){if(s.length-1<4)return c.error(`Expected at least 4 arguments, but found only ${s.length-1}.`);if((s.length-1)%2!=0)return c.error("Expected an even number of arguments.");let f=c.parse(s[1],1,wt);if(!f)return null;let v=[],w=null;c.expectedType&&c.expectedType.kind!=="value"&&(w=c.expectedType);for(let S=1;S<s.length;S+=2){let M=S===1?-1/0:s[S],A=s[S+1],D=S,q=S+1;if(typeof M!="number")return c.error("Input/output pairs for \"step\" expressions must be defined using literal numeric values (not computed expressions) for the input values.",D);if(v.length&&v[v.length-1][0]>=M)return c.error("Input/output pairs for \"step\" expressions must be arranged with input values in strictly ascending order.",D);let B=c.parse(A,q,w);if(!B)return null;w=w||B.type,v.push([M,B])}return new dp(w,f,v)}evaluate(s){let c=this.labels,f=this.outputs;if(c.length===1)return f[0].evaluate(s);let v=this.input.evaluate(s);if(v<=c[0])return f[0].evaluate(s);let w=c.length;return v>=c[w-1]?f[w-1].evaluate(s):f[Sg(c,v)].evaluate(s)}eachChild(s){s(this.input);for(let c of this.outputs)s(c)}outputDefined(){return this.outputs.every(s=>s.outputDefined())}}function rI(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var XD=nI;function nI(l,s,c,f){this.cx=3*l,this.bx=3*(c-l)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*s,this.by=3*(f-s)-this.cy,this.ay=1-this.cy-this.by,this.p1x=l,this.p1y=s,this.p2x=c,this.p2y=f}nI.prototype={sampleCurveX:function(l){return((this.ax*l+this.bx)*l+this.cx)*l},sampleCurveY:function(l){return((this.ay*l+this.by)*l+this.cy)*l},sampleCurveDerivativeX:function(l){return(3*this.ax*l+2*this.bx)*l+this.cx},solveCurveX:function(l,s){if(s===void 0&&(s=1e-6),l<0)return 0;if(l>1)return 1;for(var c=l,f=0;f<8;f++){var v=this.sampleCurveX(c)-l;if(Math.abs(v)<s)return c;var w=this.sampleCurveDerivativeX(c);if(Math.abs(w)<1e-6)break;c-=v/w}var S=0,M=1;for(c=l,f=0;f<20&&(v=this.sampleCurveX(c),!(Math.abs(v-l)<s));f++)l>v?S=c:M=c,c=.5*(M-S)+S;return c},solve:function(l,s){return this.sampleCurveY(this.solveCurveX(l,s))}};var QD=rI(XD);function Hc(l,s,c){return l+c*(s-l)}function _h(l,s,c){return l.map((f,v)=>Hc(f,s[v],c))}let sa={number:Hc,color:function(l,s,c,f="rgb"){switch(f){case"rgb":{let[v,w,S,M]=_h(l.rgb,s.rgb,c);return new Cn(v,w,S,M,!1)}case"hcl":{let[v,w,S,M]=l.hcl,[A,D,q,B]=s.hcl,W,Y;if(isNaN(v)||isNaN(A))isNaN(v)?isNaN(A)?W=NaN:(W=A,S!==1&&S!==0||(Y=D)):(W=v,q!==1&&q!==0||(Y=w));else{let Ne=A-v;A>v&&Ne>180?Ne-=360:A<v&&v-A>180&&(Ne+=360),W=v+c*Ne}let[X,J,le,de]=function([Ne,be,Ae,He]){return Ne=isNaN(Ne)?0:Ne*lr,hi([Ae,Math.cos(Ne)*be,Math.sin(Ne)*be,He])}([W,Y!=null?Y:Hc(w,D,c),Hc(S,q,c),Hc(M,B,c)]);return new Cn(X,J,le,de,!1)}case"lab":{let[v,w,S,M]=hi(_h(l.lab,s.lab,c));return new Cn(v,w,S,M,!1)}}},array:_h,padding:function(l,s,c){return new za(_h(l.values,s.values,c))},variableAnchorOffsetCollection:function(l,s,c){let f=l.values,v=s.values;if(f.length!==v.length)throw new Ai(`Cannot interpolate values of different length. from: ${l.toString()}, to: ${s.toString()}`);let w=[];for(let S=0;S<f.length;S+=2){if(f[S]!==v[S])throw new Ai(`Cannot interpolate values containing mismatched anchors. from[${S}]: ${f[S]}, to[${S}]: ${v[S]}`);w.push(f[S]);let[M,A]=f[S+1],[D,q]=v[S+1];w.push([Hc(M,D,c),Hc(A,q,c)])}return new os(w)}};class la{constructor(s,c,f,v,w){this.type=s,this.operator=c,this.interpolation=f,this.input=v,this.labels=[],this.outputs=[];for(let[S,M]of w)this.labels.push(S),this.outputs.push(M)}static interpolationFactor(s,c,f,v){let w=0;if(s.name==="exponential")w=Ig(c,s.base,f,v);else if(s.name==="linear")w=Ig(c,1,f,v);else if(s.name==="cubic-bezier"){let S=s.controlPoints;w=new QD(S[0],S[1],S[2],S[3]).solve(Ig(c,1,f,v))}return w}static parse(s,c){let[f,v,w,...S]=s;if(!Array.isArray(v)||v.length===0)return c.error("Expected an interpolation type expression.",1);if(v[0]==="linear")v={name:"linear"};else if(v[0]==="exponential"){let D=v[1];if(typeof D!="number")return c.error("Exponential interpolation requires a numeric base.",1,1);v={name:"exponential",base:D}}else{if(v[0]!=="cubic-bezier")return c.error(`Unknown interpolation type ${String(v[0])}`,1,0);{let D=v.slice(1);if(D.length!==4||D.some(q=>typeof q!="number"||q<0||q>1))return c.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);v={name:"cubic-bezier",controlPoints:D}}}if(s.length-1<4)return c.error(`Expected at least 4 arguments, but found only ${s.length-1}.`);if((s.length-1)%2!=0)return c.error("Expected an even number of arguments.");if(w=c.parse(w,2,wt),!w)return null;let M=[],A=null;f==="interpolate-hcl"||f==="interpolate-lab"?A=fo:c.expectedType&&c.expectedType.kind!=="value"&&(A=c.expectedType);for(let D=0;D<S.length;D+=2){let q=S[D],B=S[D+1],W=D+3,Y=D+4;if(typeof q!="number")return c.error("Input/output pairs for \"interpolate\" expressions must be defined using literal numeric values (not computed expressions) for the input values.",W);if(M.length&&M[M.length-1][0]>=q)return c.error("Input/output pairs for \"interpolate\" expressions must be arranged with input values in strictly ascending order.",W);let X=c.parse(B,Y,A);if(!X)return null;A=A||X.type,M.push([q,X])}return Ee(A,wt)||Ee(A,fo)||Ee(A,kt)||Ee(A,ne)||Ee(A,H(wt))?new la(A,f,v,w,M):c.error(`Type ${$(A)} is not interpolatable.`)}evaluate(s){let c=this.labels,f=this.outputs;if(c.length===1)return f[0].evaluate(s);let v=this.input.evaluate(s);if(v<=c[0])return f[0].evaluate(s);let w=c.length;if(v>=c[w-1])return f[w-1].evaluate(s);let S=Sg(c,v),M=la.interpolationFactor(this.interpolation,v,c[S],c[S+1]),A=f[S].evaluate(s),D=f[S+1].evaluate(s);switch(this.operator){case"interpolate":return sa[this.type.kind](A,D,M);case"interpolate-hcl":return sa.color(A,D,M,"hcl");case"interpolate-lab":return sa.color(A,D,M,"lab");}}eachChild(s){s(this.input);for(let c of this.outputs)s(c)}outputDefined(){return this.outputs.every(s=>s.outputDefined())}}function Ig(l,s,c,f){let v=f-c,w=l-c;return v===0?0:s===1?w/v:(Math.pow(s,w)-1)/(Math.pow(s,v)-1)}class Eg{constructor(s,c){this.type=s,this.args=c}static parse(s,c){if(s.length<2)return c.error("Expectected at least one argument.");let f=null,v=c.expectedType;v&&v.kind!=="value"&&(f=v);let w=[];for(let M of s.slice(1)){let A=c.parse(M,1+w.length,f,void 0,{typeAnnotation:"omit"});if(!A)return null;f=f||A.type,w.push(A)}if(!f)throw new Error("No output type");let S=v&&w.some(M=>ie(v,M.type));return new Eg(S?Se:f,w)}evaluate(s){let c,f=null,v=0;for(let w of this.args)if(v++,f=w.evaluate(s),f&&f instanceof ja&&!f.available&&(c||(c=f.name),f=null,v===this.args.length&&(f=c)),f!==null)break;return f}eachChild(s){this.args.forEach(s)}outputDefined(){return this.args.every(s=>s.outputDefined())}}function Tg(l,s){return l==="=="||l==="!="?s.kind==="boolean"||s.kind==="string"||s.kind==="number"||s.kind==="null"||s.kind==="value":s.kind==="string"||s.kind==="number"||s.kind==="value"}function iI(l,s,c,f){return f.compare(s,c)===0}function pp(l,s,c){let f=l!=="=="&&l!=="!=";return class cAe{constructor(w,S,M){this.type=fr,this.lhs=w,this.rhs=S,this.collator=M,this.hasUntypedArgument=w.type.kind==="value"||S.type.kind==="value"}static parse(w,S){if(w.length!==3&&w.length!==4)return S.error("Expected two or three arguments.");let M=w[0],A=S.parse(w[1],1,Se);if(!A)return null;if(!Tg(M,A.type))return S.concat(1).error(`"${M}" comparisons are not supported for type '${$(A.type)}'.`);let D=S.parse(w[2],2,Se);if(!D)return null;if(!Tg(M,D.type))return S.concat(2).error(`"${M}" comparisons are not supported for type '${$(D.type)}'.`);if(A.type.kind!==D.type.kind&&A.type.kind!=="value"&&D.type.kind!=="value")return S.error(`Cannot compare types '${$(A.type)}' and '${$(D.type)}'.`);f&&(A.type.kind==="value"&&D.type.kind!=="value"?A=new Vs(D.type,[A]):A.type.kind!=="value"&&D.type.kind==="value"&&(D=new Vs(A.type,[D])));let q=null;if(w.length===4){if(A.type.kind!=="string"&&D.type.kind!=="string"&&A.type.kind!=="value"&&D.type.kind!=="value")return S.error("Cannot use collator to compare non-string types.");if(q=S.parse(w[3],3,Ce),!q)return null}return new cAe(A,D,q)}evaluate(w){let S=this.lhs.evaluate(w),M=this.rhs.evaluate(w);if(f&&this.hasUntypedArgument){let A=Ni(S),D=Ni(M);if(A.kind!==D.kind||A.kind!=="string"&&A.kind!=="number")throw new Ai(`Expected arguments for "${l}" to be (string, string) or (number, number), but found (${A.kind}, ${D.kind}) instead.`)}if(this.collator&&!f&&this.hasUntypedArgument){let A=Ni(S),D=Ni(M);if(A.kind!=="string"||D.kind!=="string")return s(w,S,M)}return this.collator?c(w,S,M,this.collator.evaluate(w)):s(w,S,M)}eachChild(w){w(this.lhs),w(this.rhs),this.collator&&w(this.collator)}outputDefined(){return!0}}}let JD=pp("==",function(l,s,c){return s===c},iI),oI=pp("!=",function(l,s,c){return s!==c},function(l,s,c,f){return!iI(0,s,c,f)}),aI=pp("<",function(l,s,c){return s<c},function(l,s,c,f){return f.compare(s,c)<0}),eN=pp(">",function(l,s,c){return s>c},function(l,s,c,f){return f.compare(s,c)>0}),tN=pp("<=",function(l,s,c){return s<=c},function(l,s,c,f){return f.compare(s,c)<=0}),sI=pp(">=",function(l,s,c){return s>=c},function(l,s,c,f){return f.compare(s,c)>=0});class bh{constructor(s,c,f){this.type=Ce,this.locale=f,this.caseSensitive=s,this.diacriticSensitive=c}static parse(s,c){if(s.length!==2)return c.error("Expected one argument.");let f=s[1];if(typeof f!="object"||Array.isArray(f))return c.error("Collator options argument must be an object.");let v=c.parse(f["case-sensitive"]!==void 0&&f["case-sensitive"],1,fr);if(!v)return null;let w=c.parse(f["diacritic-sensitive"]!==void 0&&f["diacritic-sensitive"],1,fr);if(!w)return null;let S=null;return f.locale&&(S=c.parse(f.locale,1,Pr),!S)?null:new bh(v,w,S)}evaluate(s){return new I1(this.caseSensitive.evaluate(s),this.diacriticSensitive.evaluate(s),this.locale?this.locale.evaluate(s):null)}eachChild(s){s(this.caseSensitive),s(this.diacriticSensitive),this.locale&&s(this.locale)}outputDefined(){return!1}}class P1{constructor(s,c,f,v,w){this.type=Pr,this.number=s,this.locale=c,this.currency=f,this.minFractionDigits=v,this.maxFractionDigits=w}static parse(s,c){if(s.length!==3)return c.error("Expected two arguments.");let f=c.parse(s[1],1,wt);if(!f)return null;let v=s[2];if(typeof v!="object"||Array.isArray(v))return c.error("NumberFormat options argument must be an object.");let w=null;if(v.locale&&(w=c.parse(v.locale,1,Pr),!w))return null;let S=null;if(v.currency&&(S=c.parse(v.currency,1,Pr),!S))return null;let M=null;if(v["min-fraction-digits"]&&(M=c.parse(v["min-fraction-digits"],1,wt),!M))return null;let A=null;return v["max-fraction-digits"]&&(A=c.parse(v["max-fraction-digits"],1,wt),!A)?null:new P1(f,w,S,M,A)}evaluate(s){return new Intl.NumberFormat(this.locale?this.locale.evaluate(s):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(s):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(s):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(s):void 0}).format(this.number.evaluate(s))}eachChild(s){s(this.number),this.locale&&s(this.locale),this.currency&&s(this.currency),this.minFractionDigits&&s(this.minFractionDigits),this.maxFractionDigits&&s(this.maxFractionDigits)}outputDefined(){return!1}}class Mg{constructor(s){this.type=ct,this.sections=s}static parse(s,c){if(s.length<2)return c.error("Expected at least one argument.");let f=s[1];if(!Array.isArray(f)&&typeof f=="object")return c.error("First argument must be an image or text section.");let v=[],w=!1;for(let S=1;S<=s.length-1;++S){let M=s[S];if(w&&typeof M=="object"&&!Array.isArray(M)){w=!1;let A=null;if(M["font-scale"]&&(A=c.parse(M["font-scale"],1,wt),!A))return null;let D=null;if(M["text-font"]&&(D=c.parse(M["text-font"],1,H(Pr)),!D))return null;let q=null;if(M["text-color"]&&(q=c.parse(M["text-color"],1,fo),!q))return null;let B=v[v.length-1];B.scale=A,B.font=D,B.textColor=q}else{let A=c.parse(s[S],1,Se);if(!A)return null;let D=A.type.kind;if(D!=="string"&&D!=="value"&&D!=="null"&&D!=="resolvedImage")return c.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");w=!0,v.push({content:A,scale:null,font:null,textColor:null})}}return new Mg(v)}evaluate(s){return new Ra(this.sections.map(c=>{let f=c.content.evaluate(s);return Ni(f)===Ot?new E1("",f,null,null,null):new E1(vh(f),null,c.scale?c.scale.evaluate(s):null,c.font?c.font.evaluate(s).join(","):null,c.textColor?c.textColor.evaluate(s):null)}))}eachChild(s){for(let c of this.sections)s(c.content),c.scale&&s(c.scale),c.font&&s(c.font),c.textColor&&s(c.textColor)}outputDefined(){return!1}}class O1{constructor(s){this.type=Ot,this.input=s}static parse(s,c){if(s.length!==2)return c.error("Expected two arguments.");let f=c.parse(s[1],1,Pr);return f?new O1(f):c.error("No image name provided.")}evaluate(s){let c=this.input.evaluate(s),f=ja.fromString(c);return f&&s.availableImages&&(f.available=s.availableImages.indexOf(c)>-1),f}eachChild(s){s(this.input)}outputDefined(){return!1}}class D1{constructor(s){this.type=wt,this.input=s}static parse(s,c){if(s.length!==2)return c.error(`Expected 1 argument, but found ${s.length-1} instead.`);let f=c.parse(s[1],1);return f?f.type.kind!=="array"&&f.type.kind!=="string"&&f.type.kind!=="value"?c.error(`Expected argument of type string or array, but found ${$(f.type)} instead.`):new D1(f):null}evaluate(s){let c=this.input.evaluate(s);if(typeof c=="string")return[...c].length;if(Array.isArray(c))return c.length;throw new Ai(`Expected value to be of type string or array, but found ${$(Ni(c))} instead.`)}eachChild(s){s(this.input)}outputDefined(){return!1}}let vl=8192;function rN(l,s){let c=(180+l[0])/360,f=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+l[1]*Math.PI/360)))/360,v=Math.pow(2,s.z);return[Math.round(c*v*vl),Math.round(f*v*vl)]}function N1(l,s){let c=Math.pow(2,s.z);return[(v=(l[0]/vl+s.x)/c,360*v-180),(f=(l[1]/vl+s.y)/c,360/Math.PI*Math.atan(Math.exp((180-360*f)*Math.PI/180))-90)];var f,v}function Wc(l,s){l[0]=Math.min(l[0],s[0]),l[1]=Math.min(l[1],s[1]),l[2]=Math.max(l[2],s[0]),l[3]=Math.max(l[3],s[1])}function Bu(l,s){return!(l[0]<=s[0]||l[2]>=s[2]||l[1]<=s[1]||l[3]>=s[3])}function vn(l,s,c){let f=l[0]-s[0],v=l[1]-s[1],w=l[0]-c[0],S=l[1]-c[1];return f*S-w*v==0&&f*w<=0&&v*S<=0}function Cg(l,s,c,f){return(v=[f[0]-c[0],f[1]-c[1]])[0]*(w=[s[0]-l[0],s[1]-l[1]])[1]-v[1]*w[0]!=0&&!(!uI(l,s,c,f)||!uI(c,f,l,s));var v,w}function nN(l,s,c){for(let f of c)for(let v=0;v<f.length-1;++v)if(Cg(l,s,f[v],f[v+1]))return!0;return!1}function fp(l,s,c=!1){let f=!1;for(let M of s)for(let A=0;A<M.length-1;A++){if(vn(l,M[A],M[A+1]))return c;(w=M[A])[1]>(v=l)[1]!=(S=M[A+1])[1]>v[1]&&v[0]<(S[0]-w[0])*(v[1]-w[1])/(S[1]-w[1])+w[0]&&(f=!f)}var v,w,S;return f}function iN(l,s){for(let c of s)if(fp(l,c))return!0;return!1}function lI(l,s){for(let c of l)if(!fp(c,s))return!1;for(let c=0;c<l.length-1;++c)if(nN(l[c],l[c+1],s))return!1;return!0}function oN(l,s){for(let c of s)if(lI(l,c))return!0;return!1}function uI(l,s,c,f){let v=f[0]-c[0],w=f[1]-c[1],S=(l[0]-c[0])*w-v*(l[1]-c[1]),M=(s[0]-c[0])*w-v*(s[1]-c[1]);return S>0&&M<0||S<0&&M>0}function k1(l,s,c){let f=[];for(let v=0;v<l.length;v++){let w=[];for(let S=0;S<l[v].length;S++){let M=rN(l[v][S],c);Wc(s,M),w.push(M)}f.push(w)}return f}function cI(l,s,c){let f=[];for(let v=0;v<l.length;v++){let w=k1(l[v],s,c);f.push(w)}return f}function dI(l,s,c,f){if(l[0]<c[0]||l[0]>c[2]){let v=.5*f,w=l[0]-c[0]>v?-f:c[0]-l[0]>v?f:0;w===0&&(w=l[0]-c[2]>v?-f:c[2]-l[0]>v?f:0),l[0]+=w}Wc(s,l)}function pI(l,s,c,f){let v=Math.pow(2,f.z)*vl,w=[f.x*vl,f.y*vl],S=[];for(let M of l)for(let A of M){let D=[A.x+w[0],A.y+w[1]];dI(D,s,c,v),S.push(D)}return S}function fI(l,s,c,f){let v=Math.pow(2,f.z)*vl,w=[f.x*vl,f.y*vl],S=[];for(let A of l){let D=[];for(let q of A){let B=[q.x+w[0],q.y+w[1]];Wc(s,B),D.push(B)}S.push(D)}if(s[2]-s[0]<=v/2){(M=s)[0]=M[1]=1/0,M[2]=M[3]=-1/0;for(let A of S)for(let D of A)dI(D,s,c,v)}var M;return S}class Gc{constructor(s,c){this.type=fr,this.geojson=s,this.geometries=c}static parse(s,c){if(s.length!==2)return c.error(`'within' expression requires exactly one argument, but found ${s.length-1} instead.`);if(Vc(s[1])){let f=s[1];if(f.type==="FeatureCollection"){let v=[];for(let w of f.features){let{type:S,coordinates:M}=w.geometry;S==="Polygon"&&v.push(M),S==="MultiPolygon"&&v.push(...M)}if(v.length)return new Gc(f,{type:"MultiPolygon",coordinates:v})}else if(f.type==="Feature"){let v=f.geometry.type;if(v==="Polygon"||v==="MultiPolygon")return new Gc(f,f.geometry)}else if(f.type==="Polygon"||f.type==="MultiPolygon")return new Gc(f,f)}return c.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(s){if(s.geometry()!=null&&s.canonicalID()!=null){if(s.geometryType()==="Point")return function(c,f){let v=[1/0,1/0,-1/0,-1/0],w=[1/0,1/0,-1/0,-1/0],S=c.canonicalID();if(f.type==="Polygon"){let M=k1(f.coordinates,w,S),A=pI(c.geometry(),v,w,S);if(!Bu(v,w))return!1;for(let D of A)if(!fp(D,M))return!1}if(f.type==="MultiPolygon"){let M=cI(f.coordinates,w,S),A=pI(c.geometry(),v,w,S);if(!Bu(v,w))return!1;for(let D of A)if(!iN(D,M))return!1}return!0}(s,this.geometries);if(s.geometryType()==="LineString")return function(c,f){let v=[1/0,1/0,-1/0,-1/0],w=[1/0,1/0,-1/0,-1/0],S=c.canonicalID();if(f.type==="Polygon"){let M=k1(f.coordinates,w,S),A=fI(c.geometry(),v,w,S);if(!Bu(v,w))return!1;for(let D of A)if(!lI(D,M))return!1}if(f.type==="MultiPolygon"){let M=cI(f.coordinates,w,S),A=fI(c.geometry(),v,w,S);if(!Bu(v,w))return!1;for(let D of A)if(!oN(D,M))return!1}return!0}(s,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}}let hI=class{constructor(l=[],s=(c,f)=>c<f?-1:c>f?1:0){if(this.data=l,this.length=this.data.length,this.compare=s,this.length>0)for(let c=(this.length>>1)-1;c>=0;c--)this._down(c)}push(l){this.data.push(l),this._up(this.length++)}pop(){if(this.length===0)return;let l=this.data[0],s=this.data.pop();return--this.length>0&&(this.data[0]=s,this._down(0)),l}peek(){return this.data[0]}_up(l){let{data:s,compare:c}=this,f=s[l];for(;l>0;){let v=l-1>>1,w=s[v];if(c(f,w)>=0)break;s[l]=w,l=v}s[l]=f}_down(l){let{data:s,compare:c}=this,f=this.length>>1,v=s[l];for(;l<f;){let w=1+(l<<1),S=w+1;if(S<this.length&&c(s[S],s[w])<0&&(w=S),c(s[w],v)>=0)break;s[l]=s[w],l=w}s[l]=v}};function aN(l,s,c,f,v){mI(l,s,c,f||l.length-1,v||sN)}function mI(l,s,c,f,v){for(;f>c;){if(f-c>600){var w=f-c+1,S=s-c+1,M=Math.log(w),A=.5*Math.exp(2*M/3),D=.5*Math.sqrt(M*A*(w-A)/w)*(S-w/2<0?-1:1);mI(l,s,Math.max(c,Math.floor(s-S*A/w+D)),Math.min(f,Math.floor(s+(w-S)*A/w+D)),v)}var q=l[s],B=c,W=f;for(xh(l,c,s),v(l[f],q)>0&&xh(l,c,f);B<W;){for(xh(l,B,W),B++,W--;v(l[B],q)<0;)B++;for(;v(l[W],q)>0;)W--}v(l[c],q)===0?xh(l,c,W):xh(l,++W,f),W<=s&&(c=W+1),s<=W&&(f=W-1)}}function xh(l,s,c){var f=l[s];l[s]=l[c],l[c]=f}function sN(l,s){return l<s?-1:l>s?1:0}function Ag(l,s){if(l.length<=1)return[l];let c=[],f,v;for(let w of l){let S=uN(w);S!==0&&(w.area=Math.abs(S),v===void 0&&(v=S<0),v===S<0?(f&&c.push(f),f=[w]):f.push(w))}if(f&&c.push(f),s>1)for(let w=0;w<c.length;w++)c[w].length<=s||(aN(c[w],s,1,c[w].length-1,lN),c[w]=c[w].slice(0,s));return c}function lN(l,s){return s.area-l.area}function uN(l){let s=0;for(let c,f,v=0,w=l.length,S=w-1;v<w;S=v++)c=l[v],f=l[S],s+=(f.x-c.x)*(c.y+f.y);return s}let gI=1/298.257223563,vI=gI*(2-gI),yI=Math.PI/180;class L1{constructor(s){let c=6378.137*yI*1e3,f=Math.cos(s*yI),v=1/(1-vI*(1-f*f)),w=Math.sqrt(v);this.kx=c*w*f,this.ky=c*w*v*(1-vI)}distance(s,c){let f=this.wrap(s[0]-c[0])*this.kx,v=(s[1]-c[1])*this.ky;return Math.sqrt(f*f+v*v)}pointOnLine(s,c){let f,v,w,S,M=1/0;for(let A=0;A<s.length-1;A++){let D=s[A][0],q=s[A][1],B=this.wrap(s[A+1][0]-D)*this.kx,W=(s[A+1][1]-q)*this.ky,Y=0;B===0&&W===0||(Y=(this.wrap(c[0]-D)*this.kx*B+(c[1]-q)*this.ky*W)/(B*B+W*W),Y>1?(D=s[A+1][0],q=s[A+1][1]):Y>0&&(D+=B/this.kx*Y,q+=W/this.ky*Y)),B=this.wrap(c[0]-D)*this.kx,W=(c[1]-q)*this.ky;let X=B*B+W*W;X<M&&(M=X,f=D,v=q,w=A,S=Y)}return{point:[f,v],index:w,t:Math.max(0,Math.min(1,S))}}wrap(s){for(;s<-180;)s+=360;for(;s>180;)s-=360;return s}}function _I(l,s){return s[0]-l[0]}function Pg(l){return l[1]-l[0]+1}function au(l,s){return l[1]>=l[0]&&l[1]<s}function q1(l,s){if(l[0]>l[1])return[null,null];let c=Pg(l);if(s){if(c===2)return[l,null];let v=Math.floor(c/2);return[[l[0],l[0]+v],[l[0]+v,l[1]]]}if(c===1)return[l,null];let f=Math.floor(c/2)-1;return[[l[0],l[0]+f],[l[0]+f+1,l[1]]]}function R1(l,s){if(!au(s,l.length))return[1/0,1/0,-1/0,-1/0];let c=[1/0,1/0,-1/0,-1/0];for(let f=s[0];f<=s[1];++f)Wc(c,l[f]);return c}function z1(l){let s=[1/0,1/0,-1/0,-1/0];for(let c of l)for(let f of c)Wc(s,f);return s}function Og(l){return l[0]!==-1/0&&l[1]!==-1/0&&l[2]!==1/0&&l[3]!==1/0}function j1(l,s,c){if(!Og(l)||!Og(s))return NaN;let f=0,v=0;return l[2]<s[0]&&(f=s[0]-l[2]),l[0]>s[2]&&(f=l[0]-s[2]),l[1]>s[3]&&(v=l[1]-s[3]),l[3]<s[1]&&(v=s[1]-l[3]),c.distance([0,0],[f,v])}function Yc(l,s,c){let f=c.pointOnLine(s,l);return c.distance(l,f.point)}function F1(l,s,c,f,v){let w=Math.min(Yc(l,[c,f],v),Yc(s,[c,f],v)),S=Math.min(Yc(c,[l,s],v),Yc(f,[l,s],v));return Math.min(w,S)}function cN(l,s,c,f,v){if(!au(s,l.length)||!au(f,c.length))return 1/0;let w=1/0;for(let S=s[0];S<s[1];++S){let M=l[S],A=l[S+1];for(let D=f[0];D<f[1];++D){let q=c[D],B=c[D+1];if(Cg(M,A,q,B))return 0;w=Math.min(w,F1(M,A,q,B,v))}}return w}function xi(l,s,c,f,v){if(!au(s,l.length)||!au(f,c.length))return NaN;let w=1/0;for(let S=s[0];S<=s[1];++S)for(let M=f[0];M<=f[1];++M)if(w=Math.min(w,v.distance(l[S],c[M])),w===0)return w;return w}function dN(l,s,c){if(fp(l,s,!0))return 0;let f=1/0;for(let v of s){let w=v[0],S=v[v.length-1];if(w!==S&&(f=Math.min(f,Yc(l,[S,w],c)),f===0))return f;let M=c.pointOnLine(v,l);if(f=Math.min(f,c.distance(l,M.point)),f===0)return f}return f}function Br(l,s,c,f){if(!au(s,l.length))return NaN;for(let w=s[0];w<=s[1];++w)if(fp(l[w],c,!0))return 0;let v=1/0;for(let w=s[0];w<s[1];++w){let S=l[w],M=l[w+1];for(let A of c)for(let D=0,q=A.length,B=q-1;D<q;B=D++){let W=A[B],Y=A[D];if(Cg(S,M,W,Y))return 0;v=Math.min(v,F1(S,M,W,Y,f))}}return v}function Dg(l,s){for(let c of l)for(let f of c)if(fp(f,s,!0))return!0;return!1}function Fn(l,s,c,f=1/0){let v=z1(l),w=z1(s);if(f!==1/0&&j1(v,w,c)>=f)return f;if(Bu(v,w)){if(Dg(l,s))return 0}else if(Dg(s,l))return 0;let S=1/0;for(let M of l)for(let A=0,D=M.length,q=D-1;A<D;q=A++){let B=M[q],W=M[A];for(let Y of s)for(let X=0,J=Y.length,le=J-1;X<J;le=X++){let de=Y[le],Ne=Y[X];if(Cg(B,W,de,Ne))return 0;S=Math.min(S,F1(B,W,de,Ne,c))}}return S}function Dn(l,s,c,f,v,w){if(!w)return;let S=j1(R1(f,w),v,c);S<s&&l.push([S,w,[0,0]])}function Zc(l,s,c,f,v,w,S){if(!w||!S)return;let M=j1(R1(f,w),R1(v,S),c);M<s&&l.push([M,w,S])}function wh(l,s,c,f,v=1/0){let w=Math.min(f.distance(l[0],c[0][0]),v);if(w===0)return w;let S=new hI([[0,[0,l.length-1],[0,0]]],_I),M=z1(c);for(;S.length>0;){let A=S.pop();if(A[0]>=w)continue;let D=A[1],q=s?50:100;if(Pg(D)<=q){if(!au(D,l.length))return NaN;if(s){let B=Br(l,D,c,f);if(isNaN(B)||B===0)return B;w=Math.min(w,B)}else for(let B=D[0];B<=D[1];++B){let W=dN(l[B],c,f);if(w=Math.min(w,W),w===0)return 0}}else{let B=q1(D,s);Dn(S,w,f,l,M,B[0]),Dn(S,w,f,l,M,B[1])}}return w}function Sh(l,s,c,f,v,w=1/0){let S=Math.min(w,v.distance(l[0],c[0]));if(S===0)return S;let M=new hI([[0,[0,l.length-1],[0,c.length-1]]],_I);for(;M.length>0;){let A=M.pop();if(A[0]>=S)continue;let D=A[1],q=A[2],B=s?50:100,W=f?50:100;if(Pg(D)<=B&&Pg(q)<=W){if(!au(D,l.length)&&au(q,c.length))return NaN;let Y;if(s&&f)Y=cN(l,D,c,q,v),S=Math.min(S,Y);else if(s&&!f){let X=l.slice(D[0],D[1]+1);for(let J=q[0];J<=q[1];++J)if(Y=Yc(c[J],X,v),S=Math.min(S,Y),S===0)return S}else if(!s&&f){let X=c.slice(q[0],q[1]+1);for(let J=D[0];J<=D[1];++J)if(Y=Yc(l[J],X,v),S=Math.min(S,Y),S===0)return S}else Y=xi(l,D,c,q,v),S=Math.min(S,Y)}else{let Y=q1(D,s),X=q1(q,f);Zc(M,S,v,l,c,Y[0],X[0]),Zc(M,S,v,l,c,Y[0],X[1]),Zc(M,S,v,l,c,Y[1],X[0]),Zc(M,S,v,l,c,Y[1],X[1])}}return S}function B1(l){return l.type==="MultiPolygon"?l.coordinates.map(s=>({type:"Polygon",coordinates:s})):l.type==="MultiLineString"?l.coordinates.map(s=>({type:"LineString",coordinates:s})):l.type==="MultiPoint"?l.coordinates.map(s=>({type:"Point",coordinates:s})):[l]}class Kc{constructor(s,c){this.type=wt,this.geojson=s,this.geometries=c}static parse(s,c){if(s.length!==2)return c.error(`'distance' expression requires exactly one argument, but found ${s.length-1} instead.`);if(Vc(s[1])){let f=s[1];if(f.type==="FeatureCollection")return new Kc(f,f.features.map(v=>B1(v.geometry)).flat());if(f.type==="Feature")return new Kc(f,B1(f.geometry));if("type"in f&&"coordinates"in f)return new Kc(f,B1(f))}return c.error("'distance' expression requires valid geojson object that contains polygon geometry type.")}evaluate(s){if(s.geometry()!=null&&s.canonicalID()!=null){if(s.geometryType()==="Point")return function(c,f){let v=c.geometry(),w=v.flat().map(A=>N1([A.x,A.y],c.canonical));if(v.length===0)return NaN;let S=new L1(w[0][1]),M=1/0;for(let A of f){switch(A.type){case"Point":M=Math.min(M,Sh(w,!1,[A.coordinates],!1,S,M));break;case"LineString":M=Math.min(M,Sh(w,!1,A.coordinates,!0,S,M));break;case"Polygon":M=Math.min(M,wh(w,!1,A.coordinates,S,M));}if(M===0)return M}return M}(s,this.geometries);if(s.geometryType()==="LineString")return function(c,f){let v=c.geometry(),w=v.flat().map(A=>N1([A.x,A.y],c.canonical));if(v.length===0)return NaN;let S=new L1(w[0][1]),M=1/0;for(let A of f){switch(A.type){case"Point":M=Math.min(M,Sh(w,!0,[A.coordinates],!1,S,M));break;case"LineString":M=Math.min(M,Sh(w,!0,A.coordinates,!0,S,M));break;case"Polygon":M=Math.min(M,wh(w,!0,A.coordinates,S,M));}if(M===0)return M}return M}(s,this.geometries);if(s.geometryType()==="Polygon")return function(c,f){let v=c.geometry();if(v.length===0||v[0].length===0)return NaN;let w=Ag(v,0).map(A=>A.map(D=>D.map(q=>N1([q.x,q.y],c.canonical)))),S=new L1(w[0][0][0][1]),M=1/0;for(let A of f)for(let D of w){switch(A.type){case"Point":M=Math.min(M,wh([A.coordinates],!1,D,S,M));break;case"LineString":M=Math.min(M,wh(A.coordinates,!0,D,S,M));break;case"Polygon":M=Math.min(M,Fn(D,A.coordinates,S,M));}if(M===0)return M}return M}(s,this.geometries)}return NaN}eachChild(){}outputDefined(){return!0}}let hp={"==":JD,"!=":oI,">":eN,"<":aI,">=":sI,"<=":tN,array:Vs,at:M1,boolean:Vs,case:wg,coalesce:Eg,collator:bh,format:Mg,image:O1,in:C1,"index-of":cp,interpolate:la,"interpolate-hcl":la,"interpolate-lab":la,length:D1,let:Fu,literal:Us,match:A1,number:Vs,"number-format":P1,object:Vs,slice:yh,step:dp,string:Vs,"to-boolean":$s,"to-color":$s,"to-number":$s,"to-string":$s,var:fn,within:Gc,distance:Kc};class as{constructor(s,c,f,v){this.name=s,this.type=c,this._evaluate=f,this.args=v}evaluate(s){return this._evaluate(s,this.args)}eachChild(s){this.args.forEach(s)}outputDefined(){return!1}static parse(s,c){let f=s[0],v=as.definitions[f];if(!v)return c.error(`Unknown expression "${f}". If you wanted a literal array, use ["literal", [...]].`,0);let w=Array.isArray(v)?v[0]:v.type,S=Array.isArray(v)?[[v[1],v[2]]]:v.overloads,M=S.filter(([D])=>!Array.isArray(D)||D.length===s.length-1),A=null;for(let[D,q]of M){A=new $c(c.registry,Ih,c.path,null,c.scope);let B=[],W=!1;for(let Y=1;Y<s.length;Y++){let X=s[Y],J=Array.isArray(D)?D[Y-1]:D.type,le=A.parse(X,1+B.length,J);if(!le){W=!0;break}B.push(le)}if(!W)if(Array.isArray(D)&&D.length!==B.length)A.error(`Expected ${D.length} arguments, but found ${B.length} instead.`);else{for(let Y=0;Y<B.length;Y++){let X=Array.isArray(D)?D[Y]:D.type,J=B[Y];A.concat(Y+1).checkSubtype(X,J.type)}if(A.errors.length===0)return new as(f,w,q,B)}}if(M.length===1)c.errors.push(...A.errors);else{let D=(M.length?M:S).map(([B])=>{return W=B,Array.isArray(W)?`(${W.map($).join(", ")})`:`(${$(W.type)}...)`;var W}).join(" | "),q=[];for(let B=1;B<s.length;B++){let W=c.parse(s[B],1+q.length);if(!W)return null;q.push($(W.type))}c.error(`Expected arguments of type ${D}, but found (${q.join(", ")}) instead.`)}return null}static register(s,c){as.definitions=c;for(let f in c)s[f]=as}}function U1(l,[s,c,f,v]){s=s.evaluate(l),c=c.evaluate(l),f=f.evaluate(l);let w=v?v.evaluate(l):1,S=up(s,c,f,w);if(S)throw new Ai(S);return new Cn(s/255,c/255,f/255,w,!1)}function V1(l,s){return l in s}function $1(l,s){let c=s[l];return c===void 0?null:c}function Xc(l){return{type:l}}function Ih(l){if(l instanceof fn)return Ih(l.boundExpression);if(l instanceof as&&l.name==="error"||l instanceof bh||l instanceof Gc||l instanceof Kc)return!1;let s=l instanceof $s||l instanceof Vs,c=!0;return l.eachChild(f=>{c=s?c&&Ih(f):c&&f instanceof Us}),!!c&&Eh(l)&&Th(l,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}function Eh(l){if(l instanceof as&&(l.name==="get"&&l.args.length===1||l.name==="feature-state"||l.name==="has"&&l.args.length===1||l.name==="properties"||l.name==="geometry-type"||l.name==="id"||/^filter-/.test(l.name))||l instanceof Gc||l instanceof Kc)return!1;let s=!0;return l.eachChild(c=>{s&&!Eh(c)&&(s=!1)}),s}function mp(l){if(l instanceof as&&l.name==="feature-state")return!1;let s=!0;return l.eachChild(c=>{s&&!mp(c)&&(s=!1)}),s}function Th(l,s){if(l instanceof as&&s.indexOf(l.name)>=0)return!1;let c=!0;return l.eachChild(f=>{c&&!Th(f,s)&&(c=!1)}),c}function Ng(l){return{result:"success",value:l}}function gp(l){return{result:"error",value:l}}function vp(l){return l["property-type"]==="data-driven"||l["property-type"]==="cross-faded-data-driven"}function bI(l){return!!l.expression&&l.expression.parameters.indexOf("zoom")>-1}function H1(l){return!!l.expression&&l.expression.interpolated}function cn(l){return l instanceof Number?"number":l instanceof String?"string":l instanceof Boolean?"boolean":Array.isArray(l)?"array":l===null?"null":typeof l}function kg(l){return typeof l=="object"&&l!==null&&!Array.isArray(l)}function pN(l){return l}function xI(l,s){let c=s.type==="color",f=l.stops&&typeof l.stops[0][0]=="object",v=f||!(f||l.property!==void 0),w=l.type||(H1(s)?"exponential":"interval");if(c||s.type==="padding"){let q=c?Cn.parse:za.parse;(l=fi({},l)).stops&&(l.stops=l.stops.map(B=>[B[0],q(B[1])])),l.default=q(l.default?l.default:s.default)}if(l.colorSpace&&(S=l.colorSpace)!=="rgb"&&S!=="hcl"&&S!=="lab")throw new Error(`Unknown color space: "${l.colorSpace}"`);var S;let M,A,D;if(w==="exponential")M=SI;else if(w==="interval")M=Lg;else if(w==="categorical"){M=wI,A=Object.create(null);for(let q of l.stops)A[q[0]]=q[1];D=typeof l.stops[0][0]}else{if(w!=="identity")throw new Error(`Unknown function type "${w}"`);M=II}if(f){let q={},B=[];for(let X=0;X<l.stops.length;X++){let J=l.stops[X],le=J[0].zoom;q[le]===void 0&&(q[le]={zoom:le,type:l.type,property:l.property,default:l.default,stops:[]},B.push(le)),q[le].stops.push([J[0].value,J[1]])}let W=[];for(let X of B)W.push([q[X].zoom,xI(q[X],s)]);let Y={name:"linear"};return{kind:"composite",interpolationType:Y,interpolationFactor:la.interpolationFactor.bind(void 0,Y),zoomStops:W.map(X=>X[0]),evaluate:({zoom:X},J)=>SI({stops:W,base:l.base},s,X).evaluate(X,J)}}if(v){let q=w==="exponential"?{name:"exponential",base:l.base!==void 0?l.base:1}:null;return{kind:"camera",interpolationType:q,interpolationFactor:la.interpolationFactor.bind(void 0,q),zoomStops:l.stops.map(B=>B[0]),evaluate:({zoom:B})=>M(l,s,B,A,D)}}return{kind:"source",evaluate(q,B){let W=B&&B.properties?B.properties[l.property]:void 0;return W===void 0?yp(l.default,s.default):M(l,s,W,A,D)}}}function yp(l,s,c){return l!==void 0?l:s!==void 0?s:c!==void 0?c:void 0}function wI(l,s,c,f,v){return yp(typeof c===v?f[c]:void 0,l.default,s.default)}function Lg(l,s,c){if(cn(c)!=="number")return yp(l.default,s.default);let f=l.stops.length;if(f===1||c<=l.stops[0][0])return l.stops[0][1];if(c>=l.stops[f-1][0])return l.stops[f-1][1];let v=Sg(l.stops.map(w=>w[0]),c);return l.stops[v][1]}function SI(l,s,c){let f=l.base!==void 0?l.base:1;if(cn(c)!=="number")return yp(l.default,s.default);let v=l.stops.length;if(v===1||c<=l.stops[0][0])return l.stops[0][1];if(c>=l.stops[v-1][0])return l.stops[v-1][1];let w=Sg(l.stops.map(q=>q[0]),c),S=function(q,B,W,Y){let X=Y-W,J=q-W;return X===0?0:B===1?J/X:(Math.pow(B,J)-1)/(Math.pow(B,X)-1)}(c,f,l.stops[w][0],l.stops[w+1][0]),M=l.stops[w][1],A=l.stops[w+1][1],D=sa[s.type]||pN;return typeof M.evaluate=="function"?{evaluate(...q){let B=M.evaluate.apply(void 0,q),W=A.evaluate.apply(void 0,q);if(B!==void 0&&W!==void 0)return D(B,W,S,l.colorSpace)}}:D(M,A,S,l.colorSpace)}function II(l,s,c){switch(s.type){case"color":c=Cn.parse(c);break;case"formatted":c=Ra.fromString(c.toString());break;case"resolvedImage":c=ja.fromString(c.toString());break;case"padding":c=za.parse(c);break;default:cn(c)===s.type||s.type==="enum"&&s.values[c]||(c=void 0);}return yp(c,l.default,s.default)}as.register(hp,{error:[{kind:"error"},[Pr],(l,[s])=>{throw new Ai(s.evaluate(l))}],typeof:[Pr,[Se],(l,[s])=>$(Ni(s.evaluate(l)))],"to-rgba":[H(wt,4),[fo],(l,[s])=>{let[c,f,v,w]=s.evaluate(l).rgb;return[255*c,255*f,255*v,w]}],rgb:[fo,[wt,wt,wt],U1],rgba:[fo,[wt,wt,wt,wt],U1],has:{type:fr,overloads:[[[Pr],(l,[s])=>V1(s.evaluate(l),l.properties())],[[Pr,qa],(l,[s,c])=>V1(s.evaluate(l),c.evaluate(l))]]},get:{type:Se,overloads:[[[Pr],(l,[s])=>$1(s.evaluate(l),l.properties())],[[Pr,qa],(l,[s,c])=>$1(s.evaluate(l),c.evaluate(l))]]},"feature-state":[Se,[Pr],(l,[s])=>$1(s.evaluate(l),l.featureState||{})],properties:[qa,[],l=>l.properties()],"geometry-type":[Pr,[],l=>l.geometryType()],id:[Se,[],l=>l.id()],zoom:[wt,[],l=>l.globals.zoom],"heatmap-density":[wt,[],l=>l.globals.heatmapDensity||0],"line-progress":[wt,[],l=>l.globals.lineProgress||0],accumulated:[Se,[],l=>l.globals.accumulated===void 0?null:l.globals.accumulated],"+":[wt,Xc(wt),(l,s)=>{let c=0;for(let f of s)c+=f.evaluate(l);return c}],"*":[wt,Xc(wt),(l,s)=>{let c=1;for(let f of s)c*=f.evaluate(l);return c}],"-":{type:wt,overloads:[[[wt,wt],(l,[s,c])=>s.evaluate(l)-c.evaluate(l)],[[wt],(l,[s])=>-s.evaluate(l)]]},"/":[wt,[wt,wt],(l,[s,c])=>s.evaluate(l)/c.evaluate(l)],"%":[wt,[wt,wt],(l,[s,c])=>s.evaluate(l)%c.evaluate(l)],ln2:[wt,[],()=>Math.LN2],pi:[wt,[],()=>Math.PI],e:[wt,[],()=>Math.E],"^":[wt,[wt,wt],(l,[s,c])=>Math.pow(s.evaluate(l),c.evaluate(l))],sqrt:[wt,[wt],(l,[s])=>Math.sqrt(s.evaluate(l))],log10:[wt,[wt],(l,[s])=>Math.log(s.evaluate(l))/Math.LN10],ln:[wt,[wt],(l,[s])=>Math.log(s.evaluate(l))],log2:[wt,[wt],(l,[s])=>Math.log(s.evaluate(l))/Math.LN2],sin:[wt,[wt],(l,[s])=>Math.sin(s.evaluate(l))],cos:[wt,[wt],(l,[s])=>Math.cos(s.evaluate(l))],tan:[wt,[wt],(l,[s])=>Math.tan(s.evaluate(l))],asin:[wt,[wt],(l,[s])=>Math.asin(s.evaluate(l))],acos:[wt,[wt],(l,[s])=>Math.acos(s.evaluate(l))],atan:[wt,[wt],(l,[s])=>Math.atan(s.evaluate(l))],min:[wt,Xc(wt),(l,s)=>Math.min(...s.map(c=>c.evaluate(l)))],max:[wt,Xc(wt),(l,s)=>Math.max(...s.map(c=>c.evaluate(l)))],abs:[wt,[wt],(l,[s])=>Math.abs(s.evaluate(l))],round:[wt,[wt],(l,[s])=>{let c=s.evaluate(l);return c<0?-Math.round(-c):Math.round(c)}],floor:[wt,[wt],(l,[s])=>Math.floor(s.evaluate(l))],ceil:[wt,[wt],(l,[s])=>Math.ceil(s.evaluate(l))],"filter-==":[fr,[Pr,Se],(l,[s,c])=>l.properties()[s.value]===c.value],"filter-id-==":[fr,[Se],(l,[s])=>l.id()===s.value],"filter-type-==":[fr,[Pr],(l,[s])=>l.geometryType()===s.value],"filter-<":[fr,[Pr,Se],(l,[s,c])=>{let f=l.properties()[s.value],v=c.value;return typeof f==typeof v&&f<v}],"filter-id-<":[fr,[Se],(l,[s])=>{let c=l.id(),f=s.value;return typeof c==typeof f&&c<f}],"filter->":[fr,[Pr,Se],(l,[s,c])=>{let f=l.properties()[s.value],v=c.value;return typeof f==typeof v&&f>v}],"filter-id->":[fr,[Se],(l,[s])=>{let c=l.id(),f=s.value;return typeof c==typeof f&&c>f}],"filter-<=":[fr,[Pr,Se],(l,[s,c])=>{let f=l.properties()[s.value],v=c.value;return typeof f==typeof v&&f<=v}],"filter-id-<=":[fr,[Se],(l,[s])=>{let c=l.id(),f=s.value;return typeof c==typeof f&&c<=f}],"filter->=":[fr,[Pr,Se],(l,[s,c])=>{let f=l.properties()[s.value],v=c.value;return typeof f==typeof v&&f>=v}],"filter-id->=":[fr,[Se],(l,[s])=>{let c=l.id(),f=s.value;return typeof c==typeof f&&c>=f}],"filter-has":[fr,[Se],(l,[s])=>s.value in l.properties()],"filter-has-id":[fr,[],l=>l.id()!==null&&l.id()!==void 0],"filter-type-in":[fr,[H(Pr)],(l,[s])=>s.value.indexOf(l.geometryType())>=0],"filter-id-in":[fr,[H(Se)],(l,[s])=>s.value.indexOf(l.id())>=0],"filter-in-small":[fr,[Pr,H(Se)],(l,[s,c])=>c.value.indexOf(l.properties()[s.value])>=0],"filter-in-large":[fr,[Pr,H(Se)],(l,[s,c])=>function(f,v,w,S){for(;w<=S;){let M=w+S>>1;if(v[M]===f)return!0;v[M]>f?S=M-1:w=M+1}return!1}(l.properties()[s.value],c.value,0,c.value.length-1)],all:{type:fr,overloads:[[[fr,fr],(l,[s,c])=>s.evaluate(l)&&c.evaluate(l)],[Xc(fr),(l,s)=>{for(let c of s)if(!c.evaluate(l))return!1;return!0}]]},any:{type:fr,overloads:[[[fr,fr],(l,[s,c])=>s.evaluate(l)||c.evaluate(l)],[Xc(fr),(l,s)=>{for(let c of s)if(c.evaluate(l))return!0;return!1}]]},"!":[fr,[fr],(l,[s])=>!s.evaluate(l)],"is-supported-script":[fr,[Pr],(l,[s])=>{let c=l.globals&&l.globals.isSupportedScript;return!c||c(s.evaluate(l))}],upcase:[Pr,[Pr],(l,[s])=>s.evaluate(l).toUpperCase()],downcase:[Pr,[Pr],(l,[s])=>s.evaluate(l).toLowerCase()],concat:[Pr,Xc(Se),(l,s)=>s.map(c=>vh(c.evaluate(l))).join("")],"resolved-locale":[Pr,[Ce],(l,[s])=>s.evaluate(l).resolvedLocale()]});class qg{constructor(s,c){var f;this.expression=s,this._warningHistory={},this._evaluator=new xg,this._defaultValue=c?(f=c).type==="color"&&kg(f.default)?new Cn(0,0,0,0):f.type==="color"?Cn.parse(f.default)||null:f.type==="padding"?za.parse(f.default)||null:f.type==="variableAnchorOffsetCollection"?os.parse(f.default)||null:f.default===void 0?null:f.default:null,this._enumValues=c&&c.type==="enum"?c.values:null}evaluateWithoutErrorHandling(s,c,f,v,w,S){return this._evaluator.globals=s,this._evaluator.feature=c,this._evaluator.featureState=f,this._evaluator.canonical=v,this._evaluator.availableImages=w||null,this._evaluator.formattedSection=S,this.expression.evaluate(this._evaluator)}evaluate(s,c,f,v,w,S){this._evaluator.globals=s,this._evaluator.feature=c||null,this._evaluator.featureState=f||null,this._evaluator.canonical=v,this._evaluator.availableImages=w||null,this._evaluator.formattedSection=S||null;try{let M=this.expression.evaluate(this._evaluator);if(M==null||typeof M=="number"&&M!=M)return this._defaultValue;if(this._enumValues&&!(M in this._enumValues))throw new Ai(`Expected value to be one of ${Object.keys(this._enumValues).map(A=>JSON.stringify(A)).join(", ")}, but found ${JSON.stringify(M)} instead.`);return M}catch(M){return this._warningHistory[M.message]||(this._warningHistory[M.message]=!0,typeof console!="undefined"&&console.warn(M.message)),this._defaultValue}}}function Rg(l){return Array.isArray(l)&&l.length>0&&typeof l[0]=="string"&&l[0]in hp}function _p(l,s){let c=new $c(hp,Ih,[],s?function(v){let w={color:fo,string:Pr,number:wt,enum:Pr,boolean:fr,formatted:ct,padding:kt,resolvedImage:Ot,variableAnchorOffsetCollection:ne};return v.type==="array"?H(w[v.value]||Se,v.length):w[v.type]}(s):void 0),f=c.parse(l,void 0,void 0,void 0,s&&s.type==="string"?{typeAnnotation:"coerce"}:void 0);return f?Ng(new qg(f,s)):gp(c.errors)}class bp{constructor(s,c){this.kind=s,this._styleExpression=c,this.isStateDependent=s!=="constant"&&!mp(c.expression)}evaluateWithoutErrorHandling(s,c,f,v,w,S){return this._styleExpression.evaluateWithoutErrorHandling(s,c,f,v,w,S)}evaluate(s,c,f,v,w,S){return this._styleExpression.evaluate(s,c,f,v,w,S)}}class xp{constructor(s,c,f,v){this.kind=s,this.zoomStops=f,this._styleExpression=c,this.isStateDependent=s!=="camera"&&!mp(c.expression),this.interpolationType=v}evaluateWithoutErrorHandling(s,c,f,v,w,S){return this._styleExpression.evaluateWithoutErrorHandling(s,c,f,v,w,S)}evaluate(s,c,f,v,w,S){return this._styleExpression.evaluate(s,c,f,v,w,S)}interpolationFactor(s,c,f){return this.interpolationType?la.interpolationFactor(this.interpolationType,s,c,f):0}}function W1(l,s){let c=_p(l,s);if(c.result==="error")return c;let f=c.value.expression,v=Eh(f);if(!v&&!vp(s))return gp([new wn("","data expressions not supported")]);let w=Th(f,["zoom"]);if(!w&&!bI(s))return gp([new wn("","zoom expressions not supported")]);let S=Mh(f);return S||w?S instanceof wn?gp([S]):S instanceof la&&!H1(s)?gp([new wn("","\"interpolate\" expressions cannot be used with this property")]):Ng(S?new xp(v?"camera":"composite",c.value,S.labels,S instanceof la?S.interpolation:void 0):new bp(v?"constant":"source",c.value)):gp([new wn("","\"zoom\" expression may only be used as input to a top-level \"step\" or \"interpolate\" expression.")])}class wp{constructor(s,c){this._parameters=s,this._specification=c,fi(this,xI(this._parameters,this._specification))}static deserialize(s){return new wp(s._parameters,s._specification)}static serialize(s){return{_parameters:s._parameters,_specification:s._specification}}}function Mh(l){let s=null;if(l instanceof Fu)s=Mh(l.result);else if(l instanceof Eg){for(let c of l.args)if(s=Mh(c),s)break}else(l instanceof dp||l instanceof la)&&l.input instanceof as&&l.input.name==="zoom"&&(s=l);return s instanceof wn||l.eachChild(c=>{let f=Mh(c);f instanceof wn?s=f:!s&&f?s=new wn("","\"zoom\" expression may only be used as input to a top-level \"step\" or \"interpolate\" expression."):s&&f&&s!==f&&(s=new wn("","Only one zoom-based \"step\" or \"interpolate\" subexpression may be used in an expression."))}),s}function zg(l){if(l===!0||l===!1)return!0;if(!Array.isArray(l)||l.length===0)return!1;switch(l[0]){case"has":return l.length>=2&&l[1]!=="$id"&&l[1]!=="$type";case"in":return l.length>=3&&(typeof l[1]!="string"||Array.isArray(l[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return l.length!==3||Array.isArray(l[1])||Array.isArray(l[2]);case"any":case"all":for(let s of l.slice(1))if(!zg(s)&&typeof s!="boolean")return!1;return!0;default:return!0;}}let jg={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function G1(l){if(l==null)return{filter:()=>!0,needGeometry:!1};zg(l)||(l=Fg(l));let s=_p(l,jg);if(s.result==="error")throw new Error(s.value.map(c=>`${c.key}: ${c.message}`).join(", "));return{filter:(c,f,v)=>s.value.evaluate(c,f,{},v),needGeometry:EI(l)}}function fN(l,s){return l<s?-1:l>s?1:0}function EI(l){if(!Array.isArray(l))return!1;if(l[0]==="within"||l[0]==="distance")return!0;for(let s=1;s<l.length;s++)if(EI(l[s]))return!0;return!1}function Fg(l){if(!l)return!0;let s=l[0];return l.length<=1?s!=="any":s==="=="?Y1(l[1],l[2],"=="):s==="!="?ho(Y1(l[1],l[2],"==")):s==="<"||s===">"||s==="<="||s===">="?Y1(l[1],l[2],s):s==="any"?(c=l.slice(1),["any"].concat(c.map(Fg))):s==="all"?["all"].concat(l.slice(1).map(Fg)):s==="none"?["all"].concat(l.slice(1).map(Fg).map(ho)):s==="in"?Ch(l[1],l.slice(2)):s==="!in"?ho(Ch(l[1],l.slice(2))):s==="has"?Ah(l[1]):s!=="!has"||ho(Ah(l[1]));var c}function Y1(l,s,c){switch(l){case"$type":return[`filter-type-${c}`,s];case"$id":return[`filter-id-${c}`,s];default:return[`filter-${c}`,l,s];}}function Ch(l,s){if(s.length===0)return!1;switch(l){case"$type":return["filter-type-in",["literal",s]];case"$id":return["filter-id-in",["literal",s]];default:return s.length>200&&!s.some(c=>typeof c!=typeof s[0])?["filter-in-large",l,["literal",s.sort(fN)]]:["filter-in-small",l,["literal",s]];}}function Ah(l){switch(l){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",l];}}function ho(l){return["!",l]}function Qc(l){let s=typeof l;if(s==="number"||s==="boolean"||s==="string"||l==null)return JSON.stringify(l);if(Array.isArray(l)){let v="[";for(let w of l)v+=`${Qc(w)},`;return`${v}]`}let c=Object.keys(l).sort(),f="{";for(let v=0;v<c.length;v++)f+=`${JSON.stringify(c[v])}:${Qc(l[c[v]])},`;return`${f}}`}function TI(l){let s="";for(let c of bt)s+=`/${Qc(l[c])}`;return s}function MI(l){let s=l.value;return s?[new at(l.key,s,"constants have been deprecated as of v8")]:[]}function wi(l){return l instanceof Number||l instanceof String||l instanceof Boolean?l.valueOf():l}function Hs(l){if(Array.isArray(l))return l.map(Hs);if(l instanceof Object&&!(l instanceof Number||l instanceof String||l instanceof Boolean)){let s={};for(let c in l)s[c]=Hs(l[c]);return s}return wi(l)}function Fa(l){let s=l.key,c=l.value,f=l.valueSpec||{},v=l.objectElementValidators||{},w=l.style,S=l.styleSpec,M=l.validateSpec,A=[],D=cn(c);if(D!=="object")return[new at(s,c,`object expected, ${D} found`)];for(let q in c){let B=q.split(".")[0],W=f[B]||f["*"],Y;if(v[B])Y=v[B];else if(f[B])Y=M;else if(v["*"])Y=v["*"];else{if(!f["*"]){A.push(new at(s,c[q],`unknown property "${q}"`));continue}Y=M}A=A.concat(Y({key:(s&&`${s}.`)+q,value:c[q],valueSpec:W,style:w,styleSpec:S,object:c,objectKey:q,validateSpec:M},c))}for(let q in f)v[q]||f[q].required&&f[q].default===void 0&&c[q]===void 0&&A.push(new at(s,c,`missing required property "${q}"`));return A}function Ph(l){let s=l.value,c=l.valueSpec,f=l.style,v=l.styleSpec,w=l.key,S=l.arrayElementValidator||l.validateSpec;if(cn(s)!=="array")return[new at(w,s,`array expected, ${cn(s)} found`)];if(c.length&&s.length!==c.length)return[new at(w,s,`array length ${c.length} expected, length ${s.length} found`)];if(c["min-length"]&&s.length<c["min-length"])return[new at(w,s,`array length at least ${c["min-length"]} expected, length ${s.length} found`)];let M={type:c.value,values:c.values};v.$version<7&&(M.function=c.function),cn(c.value)==="object"&&(M=c.value);let A=[];for(let D=0;D<s.length;D++)A=A.concat(S({array:s,arrayIndex:D,value:s[D],valueSpec:M,validateSpec:l.validateSpec,style:f,styleSpec:v,key:`${w}[${D}]`}));return A}function Z1(l){let s=l.key,c=l.value,f=l.valueSpec,v=cn(c);return v==="number"&&c!=c&&(v="NaN"),v!=="number"?[new at(s,c,`number expected, ${v} found`)]:"minimum"in f&&c<f.minimum?[new at(s,c,`${c} is less than the minimum value ${f.minimum}`)]:"maximum"in f&&c>f.maximum?[new at(s,c,`${c} is greater than the maximum value ${f.maximum}`)]:[]}function Bg(l){let s=l.valueSpec,c=wi(l.value.type),f,v,w,S={},M=c!=="categorical"&&l.value.property===void 0,A=!M,D=cn(l.value.stops)==="array"&&cn(l.value.stops[0])==="array"&&cn(l.value.stops[0][0])==="object",q=Fa({key:l.key,value:l.value,valueSpec:l.styleSpec.function,validateSpec:l.validateSpec,style:l.style,styleSpec:l.styleSpec,objectElementValidators:{stops:function(Y){if(c==="identity")return[new at(Y.key,Y.value,"identity function may not have a \"stops\" property")];let X=[],J=Y.value;return X=X.concat(Ph({key:Y.key,value:J,valueSpec:Y.valueSpec,validateSpec:Y.validateSpec,style:Y.style,styleSpec:Y.styleSpec,arrayElementValidator:B})),cn(J)==="array"&&J.length===0&&X.push(new at(Y.key,J,"array must have at least one stop")),X},default:function(Y){return Y.validateSpec({key:Y.key,value:Y.value,valueSpec:s,validateSpec:Y.validateSpec,style:Y.style,styleSpec:Y.styleSpec})}}});return c==="identity"&&M&&q.push(new at(l.key,l.value,"missing required property \"property\"")),c==="identity"||l.value.stops||q.push(new at(l.key,l.value,"missing required property \"stops\"")),c==="exponential"&&l.valueSpec.expression&&!H1(l.valueSpec)&&q.push(new at(l.key,l.value,"exponential functions not supported")),l.styleSpec.$version>=8&&(A&&!vp(l.valueSpec)?q.push(new at(l.key,l.value,"property functions not supported")):M&&!bI(l.valueSpec)&&q.push(new at(l.key,l.value,"zoom functions not supported"))),c!=="categorical"&&!D||l.value.property!==void 0||q.push(new at(l.key,l.value,"\"property\" property is required")),q;function B(Y){let X=[],J=Y.value,le=Y.key;if(cn(J)!=="array")return[new at(le,J,`array expected, ${cn(J)} found`)];if(J.length!==2)return[new at(le,J,`array length 2 expected, length ${J.length} found`)];if(D){if(cn(J[0])!=="object")return[new at(le,J,`object expected, ${cn(J[0])} found`)];if(J[0].zoom===void 0)return[new at(le,J,"object stop key must have zoom")];if(J[0].value===void 0)return[new at(le,J,"object stop key must have value")];if(w&&w>wi(J[0].zoom))return[new at(le,J[0].zoom,"stop zoom values must appear in ascending order")];wi(J[0].zoom)!==w&&(w=wi(J[0].zoom),v=void 0,S={}),X=X.concat(Fa({key:`${le}[0]`,value:J[0],valueSpec:{zoom:{}},validateSpec:Y.validateSpec,style:Y.style,styleSpec:Y.styleSpec,objectElementValidators:{zoom:Z1,value:W}}))}else X=X.concat(W({key:`${le}[0]`,value:J[0],valueSpec:{},validateSpec:Y.validateSpec,style:Y.style,styleSpec:Y.styleSpec},J));return Rg(Hs(J[1]))?X.concat([new at(`${le}[1]`,J[1],"expressions are not allowed in function stops.")]):X.concat(Y.validateSpec({key:`${le}[1]`,value:J[1],valueSpec:s,validateSpec:Y.validateSpec,style:Y.style,styleSpec:Y.styleSpec}))}function W(Y,X){let J=cn(Y.value),le=wi(Y.value),de=Y.value!==null?Y.value:X;if(f){if(J!==f)return[new at(Y.key,de,`${J} stop domain type must match previous stop domain type ${f}`)]}else f=J;if(J!=="number"&&J!=="string"&&J!=="boolean")return[new at(Y.key,de,"stop domain value must be a number, string, or boolean")];if(J!=="number"&&c!=="categorical"){let Ne=`number expected, ${J} found`;return vp(s)&&c===void 0&&(Ne+="\nIf you intended to use a categorical function, specify `\"type\": \"categorical\"`."),[new at(Y.key,de,Ne)]}return c!=="categorical"||J!=="number"||isFinite(le)&&Math.floor(le)===le?c!=="categorical"&&J==="number"&&v!==void 0&&le<v?[new at(Y.key,de,"stop domain values must appear in ascending order")]:(v=le,c==="categorical"&&le in S?[new at(Y.key,de,"stop domain values must be unique")]:(S[le]=!0,[])):[new at(Y.key,de,`integer expected, found ${le}`)]}}function Sp(l){let s=(l.expressionContext==="property"?W1:_p)(Hs(l.value),l.valueSpec);if(s.result==="error")return s.value.map(f=>new at(`${l.key}${f.key}`,l.value,f.message));let c=s.value.expression||s.value._styleExpression.expression;if(l.expressionContext==="property"&&l.propertyKey==="text-font"&&!c.outputDefined())return[new at(l.key,l.value,`Invalid data expression for "${l.propertyKey}". Output values must be contained as literals within the expression.`)];if(l.expressionContext==="property"&&l.propertyType==="layout"&&!mp(c))return[new at(l.key,l.value,"\"feature-state\" data expressions are not supported with layout properties.")];if(l.expressionContext==="filter"&&!mp(c))return[new at(l.key,l.value,"\"feature-state\" data expressions are not supported with filters.")];if(l.expressionContext&&l.expressionContext.indexOf("cluster")===0){if(!Th(c,["zoom","feature-state"]))return[new at(l.key,l.value,"\"zoom\" and \"feature-state\" expressions are not supported with cluster properties.")];if(l.expressionContext==="cluster-initial"&&!Eh(c))return[new at(l.key,l.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function su(l){let s=l.key,c=l.value,f=l.valueSpec,v=[];return Array.isArray(f.values)?f.values.indexOf(wi(c))===-1&&v.push(new at(s,c,`expected one of [${f.values.join(", ")}], ${JSON.stringify(c)} found`)):Object.keys(f.values).indexOf(wi(c))===-1&&v.push(new at(s,c,`expected one of [${Object.keys(f.values).join(", ")}], ${JSON.stringify(c)} found`)),v}function K1(l){return zg(Hs(l.value))?Sp(fi({},l,{expressionContext:"filter",valueSpec:{value:"boolean"}})):Ug(l)}function Ug(l){let s=l.value,c=l.key;if(cn(s)!=="array")return[new at(c,s,`array expected, ${cn(s)} found`)];let f=l.styleSpec,v,w=[];if(s.length<1)return[new at(c,s,"filter array must have at least 1 element")];switch(w=w.concat(su({key:`${c}[0]`,value:s[0],valueSpec:f.filter_operator,style:l.style,styleSpec:l.styleSpec})),wi(s[0])){case"<":case"<=":case">":case">=":s.length>=2&&wi(s[1])==="$type"&&w.push(new at(c,s,`"$type" cannot be use with operator "${s[0]}"`));case"==":case"!=":s.length!==3&&w.push(new at(c,s,`filter array for operator "${s[0]}" must have 3 elements`));case"in":case"!in":s.length>=2&&(v=cn(s[1]),v!=="string"&&w.push(new at(`${c}[1]`,s[1],`string expected, ${v} found`)));for(let S=2;S<s.length;S++)v=cn(s[S]),wi(s[1])==="$type"?w=w.concat(su({key:`${c}[${S}]`,value:s[S],valueSpec:f.geometry_type,style:l.style,styleSpec:l.styleSpec})):v!=="string"&&v!=="number"&&v!=="boolean"&&w.push(new at(`${c}[${S}]`,s[S],`string, number, or boolean expected, ${v} found`));break;case"any":case"all":case"none":for(let S=1;S<s.length;S++)w=w.concat(Ug({key:`${c}[${S}]`,value:s[S],style:l.style,styleSpec:l.styleSpec}));break;case"has":case"!has":v=cn(s[1]),s.length!==2?w.push(new at(c,s,`filter array for "${s[0]}" operator must have 2 elements`)):v!=="string"&&w.push(new at(`${c}[1]`,s[1],`string expected, ${v} found`));}return w}function X1(l,s){let c=l.key,f=l.validateSpec,v=l.style,w=l.styleSpec,S=l.value,M=l.objectKey,A=w[`${s}_${l.layerType}`];if(!A)return[];let D=M.match(/^(.*)-transition$/);if(s==="paint"&&D&&A[D[1]]&&A[D[1]].transition)return f({key:c,value:S,valueSpec:w.transition,style:v,styleSpec:w});let q=l.valueSpec||A[M];if(!q)return[new at(c,S,`unknown property "${M}"`)];let B;if(cn(S)==="string"&&vp(q)&&!q.tokens&&(B=/^{([^}]+)}$/.exec(S)))return[new at(c,S,`"${M}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(B[1])} }\`.`)];let W=[];return l.layerType==="symbol"&&(M==="text-field"&&v&&!v.glyphs&&W.push(new at(c,S,"use of \"text-field\" requires a style \"glyphs\" property")),M==="text-font"&&kg(Hs(S))&&wi(S.type)==="identity"&&W.push(new at(c,S,"\"text-font\" does not support identity functions"))),W.concat(f({key:l.key,value:S,valueSpec:q,style:v,styleSpec:w,expressionContext:"property",propertyType:s,propertyKey:M}))}function Vg(l){return X1(l,"paint")}function Q1(l){return X1(l,"layout")}function J1(l){let s=[],c=l.value,f=l.key,v=l.style,w=l.styleSpec;c.type||c.ref||s.push(new at(f,c,"either \"type\" or \"ref\" is required"));let S=wi(c.type),M=wi(c.ref);if(c.id){let A=wi(c.id);for(let D=0;D<l.arrayIndex;D++){let q=v.layers[D];wi(q.id)===A&&s.push(new at(f,c.id,`duplicate layer id "${c.id}", previously used at line ${q.id.__line__}`))}}if("ref"in c){let A;["type","source","source-layer","filter","layout"].forEach(D=>{D in c&&s.push(new at(f,c[D],`"${D}" is prohibited for ref layers`))}),v.layers.forEach(D=>{wi(D.id)===M&&(A=D)}),A?A.ref?s.push(new at(f,c.ref,"ref cannot reference another ref layer")):S=wi(A.type):s.push(new at(f,c.ref,`ref layer "${M}" not found`))}else if(S!=="background")if(c.source){let A=v.sources&&v.sources[c.source],D=A&&wi(A.type);A?D==="vector"&&S==="raster"?s.push(new at(f,c.source,`layer "${c.id}" requires a raster source`)):D!=="raster-dem"&&S==="hillshade"?s.push(new at(f,c.source,`layer "${c.id}" requires a raster-dem source`)):D==="raster"&&S!=="raster"?s.push(new at(f,c.source,`layer "${c.id}" requires a vector source`)):D!=="vector"||c["source-layer"]?D==="raster-dem"&&S!=="hillshade"?s.push(new at(f,c.source,"raster-dem source can only be used with layer type 'hillshade'.")):S!=="line"||!c.paint||!c.paint["line-gradient"]||D==="geojson"&&A.lineMetrics||s.push(new at(f,c,`layer "${c.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):s.push(new at(f,c,`layer "${c.id}" must specify a "source-layer"`)):s.push(new at(f,c.source,`source "${c.source}" not found`))}else s.push(new at(f,c,"missing required property \"source\""));return s=s.concat(Fa({key:f,value:c,valueSpec:w.layer,style:l.style,styleSpec:l.styleSpec,validateSpec:l.validateSpec,objectElementValidators:{"*":()=>[],type:()=>l.validateSpec({key:`${f}.type`,value:c.type,valueSpec:w.layer.type,style:l.style,styleSpec:l.styleSpec,validateSpec:l.validateSpec,object:c,objectKey:"type"}),filter:K1,layout:A=>Fa({layer:c,key:A.key,value:A.value,style:A.style,styleSpec:A.styleSpec,validateSpec:A.validateSpec,objectElementValidators:{"*":D=>Q1(fi({layerType:S},D))}}),paint:A=>Fa({layer:c,key:A.key,value:A.value,style:A.style,styleSpec:A.styleSpec,validateSpec:A.validateSpec,objectElementValidators:{"*":D=>Vg(fi({layerType:S},D))}})}})),s}function Jc(l){let s=l.value,c=l.key,f=cn(s);return f!=="string"?[new at(c,s,`string expected, ${f} found`)]:[]}let $g={promoteId:function({key:l,value:s}){if(cn(s)==="string")return Jc({key:l,value:s});{let c=[];for(let f in s)c.push(...Jc({key:`${l}.${f}`,value:s[f]}));return c}}};function Oh(l){let s=l.value,c=l.key,f=l.styleSpec,v=l.style,w=l.validateSpec;if(!s.type)return[new at(c,s,"\"type\" is required")];let S=wi(s.type),M;switch(S){case"vector":case"raster":return M=Fa({key:c,value:s,valueSpec:f[`source_${S.replace("-","_")}`],style:l.style,styleSpec:f,objectElementValidators:$g,validateSpec:w}),M;case"raster-dem":return M=function(A){var D;let q=(D=A.sourceName)!==null&&D!==void 0?D:"",B=A.value,W=A.styleSpec,Y=W.source_raster_dem,X=A.style,J=[],le=cn(B);if(B===void 0)return J;if(le!=="object")return J.push(new at("source_raster_dem",B,`object expected, ${le} found`)),J;let de=wi(B.encoding)==="custom",Ne=["redFactor","greenFactor","blueFactor","baseShift"],be=A.value.encoding?`"${A.value.encoding}"`:"Default";for(let Ae in B)!de&&Ne.includes(Ae)?J.push(new at(Ae,B[Ae],`In "${q}": "${Ae}" is only valid when "encoding" is set to "custom". ${be} encoding found`)):Y[Ae]?J=J.concat(A.validateSpec({key:Ae,value:B[Ae],valueSpec:Y[Ae],validateSpec:A.validateSpec,style:X,styleSpec:W})):J.push(new at(Ae,B[Ae],`unknown property "${Ae}"`));return J}({sourceName:c,value:s,style:l.style,styleSpec:f,validateSpec:w}),M;case"geojson":if(M=Fa({key:c,value:s,valueSpec:f.source_geojson,style:v,styleSpec:f,validateSpec:w,objectElementValidators:$g}),s.cluster)for(let A in s.clusterProperties){let[D,q]=s.clusterProperties[A],B=typeof D=="string"?[D,["accumulated"],["get",A]]:D;M.push(...Sp({key:`${c}.${A}.map`,value:q,validateSpec:w,expressionContext:"cluster-map"})),M.push(...Sp({key:`${c}.${A}.reduce`,value:B,validateSpec:w,expressionContext:"cluster-reduce"}))}return M;case"video":return Fa({key:c,value:s,valueSpec:f.source_video,style:v,validateSpec:w,styleSpec:f});case"image":return Fa({key:c,value:s,valueSpec:f.source_image,style:v,validateSpec:w,styleSpec:f});case"canvas":return[new at(c,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return su({key:`${c}.type`,value:s.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:v,validateSpec:w,styleSpec:f});}}function e_(l){let s=l.value,c=l.styleSpec,f=c.light,v=l.style,w=[],S=cn(s);if(s===void 0)return w;if(S!=="object")return w=w.concat([new at("light",s,`object expected, ${S} found`)]),w;for(let M in s){let A=M.match(/^(.*)-transition$/);w=w.concat(A&&f[A[1]]&&f[A[1]].transition?l.validateSpec({key:M,value:s[M],valueSpec:c.transition,validateSpec:l.validateSpec,style:v,styleSpec:c}):f[M]?l.validateSpec({key:M,value:s[M],valueSpec:f[M],validateSpec:l.validateSpec,style:v,styleSpec:c}):[new at(M,s[M],`unknown property "${M}"`)])}return w}function t_(l){let s=l.value,c=l.styleSpec,f=c.sky,v=l.style,w=cn(s);if(s===void 0)return[];if(w!=="object")return[new at("sky",s,`object expected, ${w} found`)];let S=[];for(let M in s)S=S.concat(f[M]?l.validateSpec({key:M,value:s[M],valueSpec:f[M],style:v,styleSpec:c}):[new at(M,s[M],`unknown property "${M}"`)]);return S}function r_(l){let s=l.value,c=l.styleSpec,f=c.terrain,v=l.style,w=[],S=cn(s);if(s===void 0)return w;if(S!=="object")return w=w.concat([new at("terrain",s,`object expected, ${S} found`)]),w;for(let M in s)w=w.concat(f[M]?l.validateSpec({key:M,value:s[M],valueSpec:f[M],validateSpec:l.validateSpec,style:v,styleSpec:c}):[new at(M,s[M],`unknown property "${M}"`)]);return w}function n_(l){let s=[],c=l.value,f=l.key;if(Array.isArray(c)){let v=[],w=[];for(let S in c)c[S].id&&v.includes(c[S].id)&&s.push(new at(f,c,`all the sprites' ids must be unique, but ${c[S].id} is duplicated`)),v.push(c[S].id),c[S].url&&w.includes(c[S].url)&&s.push(new at(f,c,`all the sprites' URLs must be unique, but ${c[S].url} is duplicated`)),w.push(c[S].url),s=s.concat(Fa({key:`${f}[${S}]`,value:c[S],valueSpec:{id:{type:"string",required:!0},url:{type:"string",required:!0}},validateSpec:l.validateSpec}));return s}return Jc({key:f,value:c})}let Hg={"*":()=>[],array:Ph,boolean:function(l){let s=l.value,c=l.key,f=cn(s);return f!=="boolean"?[new at(c,s,`boolean expected, ${f} found`)]:[]},number:Z1,color:function(l){let s=l.key,c=l.value,f=cn(c);return f!=="string"?[new at(s,c,`color expected, ${f} found`)]:Cn.parse(String(c))?[]:[new at(s,c,`color expected, "${c}" found`)]},constants:MI,enum:su,filter:K1,function:Bg,layer:J1,object:Fa,source:Oh,light:e_,sky:t_,terrain:r_,projection:function(l){let s=l.value,c=l.styleSpec,f=c.projection,v=l.style,w=cn(s);if(s===void 0)return[];if(w!=="object")return[new at("projection",s,`object expected, ${w} found`)];let S=[];for(let M in s)S=S.concat(f[M]?l.validateSpec({key:M,value:s[M],valueSpec:f[M],style:v,styleSpec:c}):[new at(M,s[M],`unknown property "${M}"`)]);return S},string:Jc,formatted:function(l){return Jc(l).length===0?[]:Sp(l)},resolvedImage:function(l){return Jc(l).length===0?[]:Sp(l)},padding:function(l){let s=l.key,c=l.value;if(cn(c)==="array"){if(c.length<1||c.length>4)return[new at(s,c,`padding requires 1 to 4 values; ${c.length} values found`)];let f={type:"number"},v=[];for(let w=0;w<c.length;w++)v=v.concat(l.validateSpec({key:`${s}[${w}]`,value:c[w],validateSpec:l.validateSpec,valueSpec:f}));return v}return Z1({key:s,value:c,valueSpec:{}})},variableAnchorOffsetCollection:function(l){let s=l.key,c=l.value,f=cn(c),v=l.styleSpec;if(f!=="array"||c.length<1||c.length%2!=0)return[new at(s,c,"variableAnchorOffsetCollection requires a non-empty array of even length")];let w=[];for(let S=0;S<c.length;S+=2)w=w.concat(su({key:`${s}[${S}]`,value:c[S],valueSpec:v.layout_symbol["text-anchor"]})),w=w.concat(Ph({key:`${s}[${S+1}]`,value:c[S+1],valueSpec:{length:2,value:"number"},validateSpec:l.validateSpec,style:l.style,styleSpec:v}));return w},sprite:n_};function Ip(l){let s=l.value,c=l.valueSpec,f=l.styleSpec;return l.validateSpec=Ip,c.expression&&kg(wi(s))?Bg(l):c.expression&&Rg(Hs(s))?Sp(l):c.type&&Hg[c.type]?Hg[c.type](l):Fa(fi({},l,{valueSpec:c.type?f[c.type]:c}))}function CI(l){let s=l.value,c=l.key,f=Jc(l);return f.length||(s.indexOf("{fontstack}")===-1&&f.push(new at(c,s,"\"glyphs\" url must include a \"{fontstack}\" token")),s.indexOf("{range}")===-1&&f.push(new at(c,s,"\"glyphs\" url must include a \"{range}\" token"))),f}function ss(l,s=we){let c=[];return c=c.concat(Ip({key:"",value:l,valueSpec:s.$root,styleSpec:s,style:l,validateSpec:Ip,objectElementValidators:{glyphs:CI,"*":()=>[]}})),l.constants&&(c=c.concat(MI({key:"constants",value:l.constants,style:l,styleSpec:s,validateSpec:Ip}))),i_(c)}function yl(l){return function(s){return l(xr(Ze({},s),{validateSpec:Ip}))}}function i_(l){return[].concat(l).sort((s,c)=>s.line-c.line)}function Ws(l){return function(...s){return i_(l.apply(this,s))}}ss.source=Ws(yl(Oh)),ss.sprite=Ws(yl(n_)),ss.glyphs=Ws(yl(CI)),ss.light=Ws(yl(e_)),ss.sky=Ws(yl(t_)),ss.terrain=Ws(yl(r_)),ss.layer=Ws(yl(J1)),ss.filter=Ws(yl(K1)),ss.paintProperty=Ws(yl(Vg)),ss.layoutProperty=Ws(yl(Q1));let ed=ss,hN=ed.light,mN=ed.sky,AI=ed.paintProperty,PI=ed.layoutProperty;function o_(l,s){let c=!1;if(s&&s.length)for(let f of s)l.fire(new yt(new Error(f.message))),c=!0;return c}class Ep{constructor(s,c,f){let v=this.cells=[];if(s instanceof ArrayBuffer){this.arrayBuffer=s;let S=new Int32Array(this.arrayBuffer);s=S[0],this.d=(c=S[1])+2*(f=S[2]);for(let A=0;A<this.d*this.d;A++){let D=S[3+A],q=S[3+A+1];v.push(D===q?null:S.subarray(D,q))}let M=S[3+v.length+1];this.keys=S.subarray(S[3+v.length],M),this.bboxes=S.subarray(M),this.insert=this._insertReadonly}else{this.d=c+2*f;for(let S=0;S<this.d*this.d;S++)v.push([]);this.keys=[],this.bboxes=[]}this.n=c,this.extent=s,this.padding=f,this.scale=c/s,this.uid=0;let w=f/c*s;this.min=-w,this.max=s+w}insert(s,c,f,v,w){this._forEachCell(c,f,v,w,this._insertCell,this.uid++,void 0,void 0),this.keys.push(s),this.bboxes.push(c),this.bboxes.push(f),this.bboxes.push(v),this.bboxes.push(w)}_insertReadonly(){throw new Error("Cannot insert into a GridIndex created from an ArrayBuffer.")}_insertCell(s,c,f,v,w,S){this.cells[w].push(S)}query(s,c,f,v,w){let S=this.min,M=this.max;if(s<=S&&c<=S&&M<=f&&M<=v&&!w)return Array.prototype.slice.call(this.keys);{let A=[];return this._forEachCell(s,c,f,v,this._queryCell,A,{},w),A}}_queryCell(s,c,f,v,w,S,M,A){let D=this.cells[w];if(D!==null){let q=this.keys,B=this.bboxes;for(let W=0;W<D.length;W++){let Y=D[W];if(M[Y]===void 0){let X=4*Y;(A?A(B[X+0],B[X+1],B[X+2],B[X+3]):s<=B[X+2]&&c<=B[X+3]&&f>=B[X+0]&&v>=B[X+1])?(M[Y]=!0,S.push(q[Y])):M[Y]=!1}}}}_forEachCell(s,c,f,v,w,S,M,A){let D=this._convertToCellCoord(s),q=this._convertToCellCoord(c),B=this._convertToCellCoord(f),W=this._convertToCellCoord(v);for(let Y=D;Y<=B;Y++)for(let X=q;X<=W;X++){let J=this.d*X+Y;if((!A||A(this._convertFromCellCoord(Y),this._convertFromCellCoord(X),this._convertFromCellCoord(Y+1),this._convertFromCellCoord(X+1)))&&w.call(this,s,c,f,v,J,S,M,A))return}}_convertFromCellCoord(s){return(s-this.padding)/this.scale}_convertToCellCoord(s){return Math.max(0,Math.min(this.d-1,Math.floor(s*this.scale)+this.padding))}toArrayBuffer(){if(this.arrayBuffer)return this.arrayBuffer;let s=this.cells,c=3+this.cells.length+1+1,f=0;for(let S=0;S<this.cells.length;S++)f+=this.cells[S].length;let v=new Int32Array(c+f+this.keys.length+this.bboxes.length);v[0]=this.extent,v[1]=this.n,v[2]=this.padding;let w=c;for(let S=0;S<s.length;S++){let M=s[S];v[3+S]=w,v.set(M,w),w+=M.length}return v[3+s.length]=w,v.set(this.keys,w),w+=this.keys.length,v[3+s.length+1]=w,v.set(this.bboxes,w),w+=this.bboxes.length,v.buffer}static serialize(s,c){let f=s.toArrayBuffer();return c&&c.push(f),{buffer:f}}static deserialize(s){return new Ep(s.buffer)}}let ls={};function Vt(l,s,c={}){if(ls[l])throw new Error(`${l} is already registered.`);Object.defineProperty(s,"_classRegistryKey",{value:l,writeable:!1}),ls[l]={klass:s,omit:c.omit||[],shallow:c.shallow||[]}}Vt("Object",Object),Vt("TransferableGridIndex",Ep),Vt("Color",Cn),Vt("Error",Error),Vt("AJAXError",De),Vt("ResolvedImage",ja),Vt("StylePropertyFunction",wp),Vt("StyleExpression",qg,{omit:["_evaluator"]}),Vt("ZoomDependentExpression",xp),Vt("ZoomConstantExpression",bp),Vt("CompoundExpression",as,{omit:["_evaluate"]});for(let l in hp)hp[l]._classRegistryKey||Vt(`Expression_${l}`,hp[l]);function Wg(l){return l&&typeof ArrayBuffer!="undefined"&&(l instanceof ArrayBuffer||l.constructor&&l.constructor.name==="ArrayBuffer")}function a_(l){return l.$name||l.constructor._classRegistryKey}function OI(l){return!function(s){if(s===null||typeof s!="object")return!1;let c=a_(s);return!(!c||c==="Object")}(l)&&(l==null||typeof l=="boolean"||typeof l=="number"||typeof l=="string"||l instanceof Boolean||l instanceof Number||l instanceof String||l instanceof Date||l instanceof RegExp||l instanceof Blob||l instanceof Error||Wg(l)||dt(l)||ArrayBuffer.isView(l)||l instanceof ImageData)}function Tp(l,s){if(OI(l))return(Wg(l)||dt(l))&&s&&s.push(l),ArrayBuffer.isView(l)&&s&&s.push(l.buffer),l instanceof ImageData&&s&&s.push(l.data.buffer),l;if(Array.isArray(l)){let w=[];for(let S of l)w.push(Tp(S,s));return w}if(typeof l!="object")throw new Error("can't serialize object of type "+typeof l);let c=a_(l);if(!c)throw new Error(`can't serialize object of unregistered class ${l.constructor.name}`);if(!ls[c])throw new Error(`${c} is not registered.`);let{klass:f}=ls[c],v=f.serialize?f.serialize(l,s):{};if(f.serialize){if(s&&v===s[s.length-1])throw new Error("statically serialized object won't survive transfer of $name property")}else{for(let w in l){if(!l.hasOwnProperty(w)||ls[c].omit.indexOf(w)>=0)continue;let S=l[w];v[w]=ls[c].shallow.indexOf(w)>=0?S:Tp(S,s)}l instanceof Error&&(v.message=l.message)}if(v.$name)throw new Error("$name property is reserved for worker serialization logic.");return c!=="Object"&&(v.$name=c),v}function Mp(l){if(OI(l))return l;if(Array.isArray(l))return l.map(Mp);if(typeof l!="object")throw new Error("can't deserialize object of type "+typeof l);let s=a_(l)||"Object";if(!ls[s])throw new Error(`can't deserialize unregistered class ${s}`);let{klass:c}=ls[s];if(!c)throw new Error(`can't deserialize unregistered class ${s}`);if(c.deserialize)return c.deserialize(l);let f=Object.create(c.prototype);for(let v of Object.keys(l)){if(v==="$name")continue;let w=l[v];f[v]=ls[s].shallow.indexOf(v)>=0?w:Mp(w)}return f}class s_{constructor(){this.first=!0}update(s,c){let f=Math.floor(s);return this.first?(this.first=!1,this.lastIntegerZoom=f,this.lastIntegerZoomTime=0,this.lastZoom=s,this.lastFloorZoom=f,!0):(this.lastFloorZoom>f?(this.lastIntegerZoom=f+1,this.lastIntegerZoomTime=c):this.lastFloorZoom<f&&(this.lastIntegerZoom=f,this.lastIntegerZoomTime=c),s!==this.lastZoom&&(this.lastZoom=s,this.lastFloorZoom=f,!0))}}let Qr={"Latin-1 Supplement":l=>l>=128&&l<=255,"Hangul Jamo":l=>l>=4352&&l<=4607,Khmer:l=>l>=6016&&l<=6143,"General Punctuation":l=>l>=8192&&l<=8303,"Letterlike Symbols":l=>l>=8448&&l<=8527,"Number Forms":l=>l>=8528&&l<=8591,"Miscellaneous Technical":l=>l>=8960&&l<=9215,"Control Pictures":l=>l>=9216&&l<=9279,"Optical Character Recognition":l=>l>=9280&&l<=9311,"Enclosed Alphanumerics":l=>l>=9312&&l<=9471,"Geometric Shapes":l=>l>=9632&&l<=9727,"Miscellaneous Symbols":l=>l>=9728&&l<=9983,"Miscellaneous Symbols and Arrows":l=>l>=11008&&l<=11263,"Ideographic Description Characters":l=>l>=12272&&l<=12287,"CJK Symbols and Punctuation":l=>l>=12288&&l<=12351,Katakana:l=>l>=12448&&l<=12543,Kanbun:l=>l>=12688&&l<=12703,"CJK Strokes":l=>l>=12736&&l<=12783,"Enclosed CJK Letters and Months":l=>l>=12800&&l<=13055,"CJK Compatibility":l=>l>=13056&&l<=13311,"Yijing Hexagram Symbols":l=>l>=19904&&l<=19967,"Private Use Area":l=>l>=57344&&l<=63743,"Vertical Forms":l=>l>=65040&&l<=65055,"CJK Compatibility Forms":l=>l>=65072&&l<=65103,"Small Form Variants":l=>l>=65104&&l<=65135,"Halfwidth and Fullwidth Forms":l=>l>=65280&&l<=65519};function l_(l){for(let s of l)if(c_(s.charCodeAt(0)))return!0;return!1}function gN(l){for(let s of l)if(!Cp(s.charCodeAt(0)))return!1;return!0}function u_(l){let s=l.map(c=>{try{return new RegExp(`\\p{sc=${c}}`,"u").source}catch(f){return null}}).filter(c=>c);return new RegExp(s.join("|"),"u")}let vN=u_(["Arab","Dupl","Mong","Ougr","Syrc"]);function Cp(l){return!vN.test(String.fromCodePoint(l))}let DI=u_(["Bopo","Hani","Hira","Kana","Kits","Nshu","Tang","Yiii"]);function c_(l){return!(l!==746&&l!==747&&(l<4352||!(Qr["CJK Compatibility Forms"](l)&&!(l>=65097&&l<=65103)||Qr["CJK Compatibility"](l)||Qr["CJK Strokes"](l)||!(!Qr["CJK Symbols and Punctuation"](l)||l>=12296&&l<=12305||l>=12308&&l<=12319||l===12336)||Qr["Enclosed CJK Letters and Months"](l)||Qr["Ideographic Description Characters"](l)||Qr.Kanbun(l)||Qr.Katakana(l)&&l!==12540||!(!Qr["Halfwidth and Fullwidth Forms"](l)||l===65288||l===65289||l===65293||l>=65306&&l<=65310||l===65339||l===65341||l===65343||l>=65371&&l<=65503||l===65507||l>=65512&&l<=65519)||!(!Qr["Small Form Variants"](l)||l>=65112&&l<=65118||l>=65123&&l<=65126)||Qr["Vertical Forms"](l)||Qr["Yijing Hexagram Symbols"](l)||new RegExp("\\p{sc=Cans}","u").test(String.fromCodePoint(l))||new RegExp("\\p{sc=Hang}","u").test(String.fromCodePoint(l))||DI.test(String.fromCodePoint(l)))))}function NI(l){return!(c_(l)||function(s){return!!(Qr["Latin-1 Supplement"](s)&&(s===167||s===169||s===174||s===177||s===188||s===189||s===190||s===215||s===247)||Qr["General Punctuation"](s)&&(s===8214||s===8224||s===8225||s===8240||s===8241||s===8251||s===8252||s===8258||s===8263||s===8264||s===8265||s===8273)||Qr["Letterlike Symbols"](s)||Qr["Number Forms"](s)||Qr["Miscellaneous Technical"](s)&&(s>=8960&&s<=8967||s>=8972&&s<=8991||s>=8996&&s<=9e3||s===9003||s>=9085&&s<=9114||s>=9150&&s<=9165||s===9167||s>=9169&&s<=9179||s>=9186&&s<=9215)||Qr["Control Pictures"](s)&&s!==9251||Qr["Optical Character Recognition"](s)||Qr["Enclosed Alphanumerics"](s)||Qr["Geometric Shapes"](s)||Qr["Miscellaneous Symbols"](s)&&!(s>=9754&&s<=9759)||Qr["Miscellaneous Symbols and Arrows"](s)&&(s>=11026&&s<=11055||s>=11088&&s<=11097||s>=11192&&s<=11243)||Qr["CJK Symbols and Punctuation"](s)||Qr.Katakana(s)||Qr["Private Use Area"](s)||Qr["CJK Compatibility Forms"](s)||Qr["Small Form Variants"](s)||Qr["Halfwidth and Fullwidth Forms"](s)||s===8734||s===8756||s===8757||s>=9984&&s<=10087||s>=10102&&s<=10131||s===65532||s===65533)}(l))}let yN=u_(["Adlm","Arab","Armi","Avst","Chrs","Cprt","Egyp","Elym","Gara","Hatr","Hebr","Hung","Khar","Lydi","Mand","Mani","Mend","Merc","Mero","Narb","Nbat","Nkoo","Orkh","Palm","Phli","Phlp","Phnx","Prti","Rohg","Samr","Sarb","Sogo","Syrc","Thaa","Todr","Yezi"]);function d_(l){return yN.test(String.fromCodePoint(l))}function _N(l,s){return!(!s&&d_(l)||l>=2304&&l<=3583||l>=3840&&l<=4255||Qr.Khmer(l))}function bN(l){for(let s of l)if(d_(s.charCodeAt(0)))return!0;return!1}let Ba=new class{constructor(){this.applyArabicShaping=null,this.processBidirectionalText=null,this.processStyledBidirectionalText=null,this.pluginStatus="unavailable",this.pluginURL=null}setState(l){this.pluginStatus=l.pluginStatus,this.pluginURL=l.pluginURL}getState(){return{pluginStatus:this.pluginStatus,pluginURL:this.pluginURL}}setMethods(l){this.applyArabicShaping=l.applyArabicShaping,this.processBidirectionalText=l.processBidirectionalText,this.processStyledBidirectionalText=l.processStyledBidirectionalText}isParsed(){return this.applyArabicShaping!=null&&this.processBidirectionalText!=null&&this.processStyledBidirectionalText!=null}getPluginURL(){return this.pluginURL}getRTLTextPluginStatus(){return this.pluginStatus}};class Kn{constructor(s,c){this.zoom=s,c?(this.now=c.now,this.fadeDuration=c.fadeDuration,this.zoomHistory=c.zoomHistory,this.transition=c.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new s_,this.transition={})}isSupportedScript(s){return function(c,f){for(let v of c)if(!_N(v.charCodeAt(0),f))return!1;return!0}(s,Ba.getRTLTextPluginStatus()==="loaded")}crossFadingFactor(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){let s=this.zoom,c=s-Math.floor(s),f=this.crossFadingFactor();return s>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:c+(1-c)*f}:{fromScale:.5,toScale:1,t:1-(1-f)*c}}}class Ap{constructor(s,c){this.property=s,this.value=c,this.expression=function(f,v){if(kg(f))return new wp(f,v);if(Rg(f)){let w=W1(f,v);if(w.result==="error")throw new Error(w.value.map(S=>`${S.key}: ${S.message}`).join(", "));return w.value}{let w=f;return v.type==="color"&&typeof f=="string"?w=Cn.parse(f):v.type!=="padding"||typeof f!="number"&&!Array.isArray(f)?v.type==="variableAnchorOffsetCollection"&&Array.isArray(f)&&(w=os.parse(f)):w=za.parse(f),{kind:"constant",evaluate:()=>w}}}(c===void 0?s.specification.default:c,s.specification)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}possiblyEvaluate(s,c,f){return this.property.possiblyEvaluate(this,s,c,f)}}class Gg{constructor(s){this.property=s,this.value=new Ap(s,void 0)}transitioned(s,c){return new kI(this.property,this.value,c,ae({},s.transition,this.transition),s.now)}untransitioned(){return new kI(this.property,this.value,null,{},0)}}class Yg{constructor(s){this._properties=s,this._values=Object.create(s.defaultTransitionablePropertyValues)}getValue(s){return _e(this._values[s].value.value)}setValue(s,c){Object.prototype.hasOwnProperty.call(this._values,s)||(this._values[s]=new Gg(this._values[s].property)),this._values[s].value=new Ap(this._values[s].property,c===null?void 0:_e(c))}getTransition(s){return _e(this._values[s].transition)}setTransition(s,c){Object.prototype.hasOwnProperty.call(this._values,s)||(this._values[s]=new Gg(this._values[s].property)),this._values[s].transition=_e(c)||void 0}serialize(){let s={};for(let c of Object.keys(this._values)){let f=this.getValue(c);f!==void 0&&(s[c]=f);let v=this.getTransition(c);v!==void 0&&(s[`${c}-transition`]=v)}return s}transitioned(s,c){let f=new Dh(this._properties);for(let v of Object.keys(this._values))f._values[v]=this._values[v].transitioned(s,c._values[v]);return f}untransitioned(){let s=new Dh(this._properties);for(let c of Object.keys(this._values))s._values[c]=this._values[c].untransitioned();return s}}class kI{constructor(s,c,f,v,w){this.property=s,this.value=c,this.begin=w+v.delay||0,this.end=this.begin+v.duration||0,s.specification.transition&&(v.delay||v.duration)&&(this.prior=f)}possiblyEvaluate(s,c,f){let v=s.now||0,w=this.value.possiblyEvaluate(s,c,f),S=this.prior;if(S){if(v>this.end)return this.prior=null,w;if(this.value.isDataDriven())return this.prior=null,w;if(v<this.begin)return S.possiblyEvaluate(s,c,f);{let M=(v-this.begin)/(this.end-this.begin);return this.property.interpolate(S.possiblyEvaluate(s,c,f),w,function(A){if(A<=0)return 0;if(A>=1)return 1;let D=A*A,q=D*A;return 4*(A<.5?q:3*(A-D)+q-.75)}(M))}}return w}}class Dh{constructor(s){this._properties=s,this._values=Object.create(s.defaultTransitioningPropertyValues)}possiblyEvaluate(s,c,f){let v=new kh(this._properties);for(let w of Object.keys(this._values))v._values[w]=this._values[w].possiblyEvaluate(s,c,f);return v}hasTransition(){for(let s of Object.keys(this._values))if(this._values[s].prior)return!0;return!1}}class Nh{constructor(s){this._properties=s,this._values=Object.create(s.defaultPropertyValues)}hasValue(s){return this._values[s].value!==void 0}getValue(s){return _e(this._values[s].value)}setValue(s,c){this._values[s]=new Ap(this._values[s].property,c===null?void 0:_e(c))}serialize(){let s={};for(let c of Object.keys(this._values)){let f=this.getValue(c);f!==void 0&&(s[c]=f)}return s}possiblyEvaluate(s,c,f){let v=new kh(this._properties);for(let w of Object.keys(this._values))v._values[w]=this._values[w].possiblyEvaluate(s,c,f);return v}}class _l{constructor(s,c,f){this.property=s,this.value=c,this.parameters=f}isConstant(){return this.value.kind==="constant"}constantOr(s){return this.value.kind==="constant"?this.value.value:s}evaluate(s,c,f,v){return this.property.evaluate(this.value,this.parameters,s,c,f,v)}}class kh{constructor(s){this._properties=s,this._values=Object.create(s.defaultPossiblyEvaluatedValues)}get(s){return this._values[s]}}class Kt{constructor(s){this.specification=s}possiblyEvaluate(s,c){if(s.isDataDriven())throw new Error("Value should not be data driven");return s.expression.evaluate(c)}interpolate(s,c,f){let v=sa[this.specification.type];return v?v(s,c,f):s}}class pr{constructor(s,c){this.specification=s,this.overrides=c}possiblyEvaluate(s,c,f,v){return new _l(this,s.expression.kind==="constant"||s.expression.kind==="camera"?{kind:"constant",value:s.expression.evaluate(c,null,{},f,v)}:s.expression,c)}interpolate(s,c,f){if(s.value.kind!=="constant"||c.value.kind!=="constant")return s;if(s.value.value===void 0||c.value.value===void 0)return new _l(this,{kind:"constant",value:void 0},s.parameters);let v=sa[this.specification.type];if(v){let w=v(s.value.value,c.value.value,f);return new _l(this,{kind:"constant",value:w},s.parameters)}return s}evaluate(s,c,f,v,w,S){return s.kind==="constant"?s.value:s.evaluate(c,f,v,w,S)}}class Zg extends pr{possiblyEvaluate(s,c,f,v){if(s.value===void 0)return new _l(this,{kind:"constant",value:void 0},c);if(s.expression.kind==="constant"){let w=s.expression.evaluate(c,null,{},f,v),S=s.property.specification.type==="resolvedImage"&&typeof w!="string"?w.name:w,M=this._calculate(S,S,S,c);return new _l(this,{kind:"constant",value:M},c)}if(s.expression.kind==="camera"){let w=this._calculate(s.expression.evaluate({zoom:c.zoom-1}),s.expression.evaluate({zoom:c.zoom}),s.expression.evaluate({zoom:c.zoom+1}),c);return new _l(this,{kind:"constant",value:w},c)}return new _l(this,s.expression,c)}evaluate(s,c,f,v,w,S){if(s.kind==="source"){let M=s.evaluate(c,f,v,w,S);return this._calculate(M,M,M,c)}return s.kind==="composite"?this._calculate(s.evaluate({zoom:Math.floor(c.zoom)-1},f,v),s.evaluate({zoom:Math.floor(c.zoom)},f,v),s.evaluate({zoom:Math.floor(c.zoom)+1},f,v),c):s.value}_calculate(s,c,f,v){return v.zoom>v.zoomHistory.lastIntegerZoom?{from:s,to:c}:{from:f,to:c}}interpolate(s){return s}}class Kg{constructor(s){this.specification=s}possiblyEvaluate(s,c,f,v){if(s.value!==void 0){if(s.expression.kind==="constant"){let w=s.expression.evaluate(c,null,{},f,v);return this._calculate(w,w,w,c)}return this._calculate(s.expression.evaluate(new Kn(Math.floor(c.zoom-1),c)),s.expression.evaluate(new Kn(Math.floor(c.zoom),c)),s.expression.evaluate(new Kn(Math.floor(c.zoom+1),c)),c)}}_calculate(s,c,f,v){return v.zoom>v.zoomHistory.lastIntegerZoom?{from:s,to:c}:{from:f,to:c}}interpolate(s){return s}}class p_{constructor(s){this.specification=s}possiblyEvaluate(s,c,f,v){return!!s.expression.evaluate(c,null,{},f,v)}interpolate(){return!1}}class x{constructor(s){this.properties=s,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(let c in s){let f=s[c];f.specification.overridable&&this.overridableProperties.push(c);let v=this.defaultPropertyValues[c]=new Ap(f,void 0),w=this.defaultTransitionablePropertyValues[c]=new Gg(f);this.defaultTransitioningPropertyValues[c]=w.untransitioned(),this.defaultPossiblyEvaluatedValues[c]=v.possiblyEvaluate({})}}}Vt("DataDrivenProperty",pr),Vt("DataConstantProperty",Kt),Vt("CrossFadedDataDrivenProperty",Zg),Vt("CrossFadedProperty",Kg),Vt("ColorRampProperty",p_);let a="-transition";class d extends Nt{constructor(s,c){if(super(),this.id=s.id,this.type=s.type,this._featureFilter={filter:()=>!0,needGeometry:!1},s.type!=="custom"&&(this.metadata=s.metadata,this.minzoom=s.minzoom,this.maxzoom=s.maxzoom,s.type!=="background"&&(this.source=s.source,this.sourceLayer=s["source-layer"],this.filter=s.filter),c.layout&&(this._unevaluatedLayout=new Nh(c.layout)),c.paint)){this._transitionablePaint=new Yg(c.paint);for(let f in s.paint)this.setPaintProperty(f,s.paint[f],{validate:!1});for(let f in s.layout)this.setLayoutProperty(f,s.layout[f],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new kh(c.paint)}}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(s){return s==="visibility"?this.visibility:this._unevaluatedLayout.getValue(s)}setLayoutProperty(s,c,f={}){c!=null&&this._validate(PI,`layers.${this.id}.layout.${s}`,s,c,f)||(s!=="visibility"?this._unevaluatedLayout.setValue(s,c):this.visibility=c)}getPaintProperty(s){return s.endsWith(a)?this._transitionablePaint.getTransition(s.slice(0,-11)):this._transitionablePaint.getValue(s)}setPaintProperty(s,c,f={}){if(c!=null&&this._validate(AI,`layers.${this.id}.paint.${s}`,s,c,f))return!1;if(s.endsWith(a))return this._transitionablePaint.setTransition(s.slice(0,-11),c||void 0),!1;{let v=this._transitionablePaint._values[s],w=v.property.specification["property-type"]==="cross-faded-data-driven",S=v.value.isDataDriven(),M=v.value;this._transitionablePaint.setValue(s,c),this._handleSpecialPaintPropertyUpdate(s);let A=this._transitionablePaint._values[s].value;return A.isDataDriven()||S||w||this._handleOverridablePaintPropertyUpdate(s,M,A)}}_handleSpecialPaintPropertyUpdate(s){}_handleOverridablePaintPropertyUpdate(s,c,f){return!1}isHidden(s){return!!(this.minzoom&&s<this.minzoom)||!!(this.maxzoom&&s>=this.maxzoom)||this.visibility==="none"}updateTransitions(s){this._transitioningPaint=this._transitionablePaint.transitioned(s,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(s,c){s.getCrossfadeParameters&&(this._crossfadeParameters=s.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(s,void 0,c)),this.paint=this._transitioningPaint.possiblyEvaluate(s,void 0,c)}serialize(){let s={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(s.layout=s.layout||{},s.layout.visibility=this.visibility),Oe(s,(c,f)=>!(c===void 0||f==="layout"&&!Object.keys(c).length||f==="paint"&&!Object.keys(c).length))}_validate(s,c,f,v,w={}){return(!w||w.validate!==!1)&&o_(this,s.call(ed,{key:c,layerType:this.type,objectKey:f,value:v,styleSpec:we,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(let s in this.paint._values){let c=this.paint.get(s);if(c instanceof _l&&vp(c.property.specification)&&(c.value.kind==="source"||c.value.kind==="composite")&&c.value.isStateDependent)return!0}return!1}}let m={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class g{constructor(s,c){this._structArray=s,this._pos1=c*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class b{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(s,c){return s._trim(),c&&(s.isTransferred=!0,c.push(s.arrayBuffer)),{length:s.length,arrayBuffer:s.arrayBuffer}}static deserialize(s){let c=Object.create(this.prototype);return c.arrayBuffer=s.arrayBuffer,c.length=s.length,c.capacity=s.arrayBuffer.byteLength/c.bytesPerElement,c._refreshViews(),c}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(s){this.reserve(s),this.length=s}reserve(s){if(s>this.capacity){this.capacity=Math.max(s,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);let c=this.uint8;this._refreshViews(),c&&this.uint8.set(c)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function C(l,s=1){let c=0,f=0;return{members:l.map(v=>{let w=m[v.type].BYTES_PER_ELEMENT,S=c=P(c,Math.max(s,w)),M=v.components||1;return f=Math.max(f,w),c+=w*M,{name:v.name,type:v.type,components:M,offset:S}}),size:P(c,Math.max(f,s)),alignment:s}}function P(l,s){return Math.ceil(l/s)*s}class O extends b{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(s,c){let f=this.length;return this.resize(f+1),this.emplace(f,s,c)}emplace(s,c,f){let v=2*s;return this.int16[v+0]=c,this.int16[v+1]=f,s}}O.prototype.bytesPerElement=4,Vt("StructArrayLayout2i4",O);class z extends b{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(s,c,f){let v=this.length;return this.resize(v+1),this.emplace(v,s,c,f)}emplace(s,c,f,v){let w=3*s;return this.int16[w+0]=c,this.int16[w+1]=f,this.int16[w+2]=v,s}}z.prototype.bytesPerElement=6,Vt("StructArrayLayout3i6",z);class U extends b{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(s,c,f,v){let w=this.length;return this.resize(w+1),this.emplace(w,s,c,f,v)}emplace(s,c,f,v,w){let S=4*s;return this.int16[S+0]=c,this.int16[S+1]=f,this.int16[S+2]=v,this.int16[S+3]=w,s}}U.prototype.bytesPerElement=8,Vt("StructArrayLayout4i8",U);class V extends b{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(s,c,f,v,w,S){let M=this.length;return this.resize(M+1),this.emplace(M,s,c,f,v,w,S)}emplace(s,c,f,v,w,S,M){let A=6*s;return this.int16[A+0]=c,this.int16[A+1]=f,this.int16[A+2]=v,this.int16[A+3]=w,this.int16[A+4]=S,this.int16[A+5]=M,s}}V.prototype.bytesPerElement=12,Vt("StructArrayLayout2i4i12",V);class K extends b{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(s,c,f,v,w,S){let M=this.length;return this.resize(M+1),this.emplace(M,s,c,f,v,w,S)}emplace(s,c,f,v,w,S,M){let A=4*s,D=8*s;return this.int16[A+0]=c,this.int16[A+1]=f,this.uint8[D+4]=v,this.uint8[D+5]=w,this.uint8[D+6]=S,this.uint8[D+7]=M,s}}K.prototype.bytesPerElement=8,Vt("StructArrayLayout2i4ub8",K);class te extends b{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(s,c){let f=this.length;return this.resize(f+1),this.emplace(f,s,c)}emplace(s,c,f){let v=2*s;return this.float32[v+0]=c,this.float32[v+1]=f,s}}te.prototype.bytesPerElement=8,Vt("StructArrayLayout2f8",te);class oe extends b{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(s,c,f,v,w,S,M,A,D,q){let B=this.length;return this.resize(B+1),this.emplace(B,s,c,f,v,w,S,M,A,D,q)}emplace(s,c,f,v,w,S,M,A,D,q,B){let W=10*s;return this.uint16[W+0]=c,this.uint16[W+1]=f,this.uint16[W+2]=v,this.uint16[W+3]=w,this.uint16[W+4]=S,this.uint16[W+5]=M,this.uint16[W+6]=A,this.uint16[W+7]=D,this.uint16[W+8]=q,this.uint16[W+9]=B,s}}oe.prototype.bytesPerElement=20,Vt("StructArrayLayout10ui20",oe);class ce extends b{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(s,c,f,v,w,S,M,A,D,q,B,W){let Y=this.length;return this.resize(Y+1),this.emplace(Y,s,c,f,v,w,S,M,A,D,q,B,W)}emplace(s,c,f,v,w,S,M,A,D,q,B,W,Y){let X=12*s;return this.int16[X+0]=c,this.int16[X+1]=f,this.int16[X+2]=v,this.int16[X+3]=w,this.uint16[X+4]=S,this.uint16[X+5]=M,this.uint16[X+6]=A,this.uint16[X+7]=D,this.int16[X+8]=q,this.int16[X+9]=B,this.int16[X+10]=W,this.int16[X+11]=Y,s}}ce.prototype.bytesPerElement=24,Vt("StructArrayLayout4i4ui4i24",ce);class pe extends b{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(s,c,f){let v=this.length;return this.resize(v+1),this.emplace(v,s,c,f)}emplace(s,c,f,v){let w=3*s;return this.float32[w+0]=c,this.float32[w+1]=f,this.float32[w+2]=v,s}}pe.prototype.bytesPerElement=12,Vt("StructArrayLayout3f12",pe);class me extends b{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(s){let c=this.length;return this.resize(c+1),this.emplace(c,s)}emplace(s,c){return this.uint32[1*s+0]=c,s}}me.prototype.bytesPerElement=4,Vt("StructArrayLayout1ul4",me);class ye extends b{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(s,c,f,v,w,S,M,A,D){let q=this.length;return this.resize(q+1),this.emplace(q,s,c,f,v,w,S,M,A,D)}emplace(s,c,f,v,w,S,M,A,D,q){let B=10*s,W=5*s;return this.int16[B+0]=c,this.int16[B+1]=f,this.int16[B+2]=v,this.int16[B+3]=w,this.int16[B+4]=S,this.int16[B+5]=M,this.uint32[W+3]=A,this.uint16[B+8]=D,this.uint16[B+9]=q,s}}ye.prototype.bytesPerElement=20,Vt("StructArrayLayout6i1ul2ui20",ye);class se extends b{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(s,c,f,v,w,S){let M=this.length;return this.resize(M+1),this.emplace(M,s,c,f,v,w,S)}emplace(s,c,f,v,w,S,M){let A=6*s;return this.int16[A+0]=c,this.int16[A+1]=f,this.int16[A+2]=v,this.int16[A+3]=w,this.int16[A+4]=S,this.int16[A+5]=M,s}}se.prototype.bytesPerElement=12,Vt("StructArrayLayout2i2i2i12",se);class Ie extends b{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(s,c,f,v,w){let S=this.length;return this.resize(S+1),this.emplace(S,s,c,f,v,w)}emplace(s,c,f,v,w,S){let M=4*s,A=8*s;return this.float32[M+0]=c,this.float32[M+1]=f,this.float32[M+2]=v,this.int16[A+6]=w,this.int16[A+7]=S,s}}Ie.prototype.bytesPerElement=16,Vt("StructArrayLayout2f1f2i16",Ie);class Me extends b{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(s,c,f,v,w,S){let M=this.length;return this.resize(M+1),this.emplace(M,s,c,f,v,w,S)}emplace(s,c,f,v,w,S,M){let A=16*s,D=4*s,q=8*s;return this.uint8[A+0]=c,this.uint8[A+1]=f,this.float32[D+1]=v,this.float32[D+2]=w,this.int16[q+6]=S,this.int16[q+7]=M,s}}Me.prototype.bytesPerElement=16,Vt("StructArrayLayout2ub2f2i16",Me);class Le extends b{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(s,c,f){let v=this.length;return this.resize(v+1),this.emplace(v,s,c,f)}emplace(s,c,f,v){let w=3*s;return this.uint16[w+0]=c,this.uint16[w+1]=f,this.uint16[w+2]=v,s}}Le.prototype.bytesPerElement=6,Vt("StructArrayLayout3ui6",Le);class rt extends b{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(s,c,f,v,w,S,M,A,D,q,B,W,Y,X,J,le,de){let Ne=this.length;return this.resize(Ne+1),this.emplace(Ne,s,c,f,v,w,S,M,A,D,q,B,W,Y,X,J,le,de)}emplace(s,c,f,v,w,S,M,A,D,q,B,W,Y,X,J,le,de,Ne){let be=24*s,Ae=12*s,He=48*s;return this.int16[be+0]=c,this.int16[be+1]=f,this.uint16[be+2]=v,this.uint16[be+3]=w,this.uint32[Ae+2]=S,this.uint32[Ae+3]=M,this.uint32[Ae+4]=A,this.uint16[be+10]=D,this.uint16[be+11]=q,this.uint16[be+12]=B,this.float32[Ae+7]=W,this.float32[Ae+8]=Y,this.uint8[He+36]=X,this.uint8[He+37]=J,this.uint8[He+38]=le,this.uint32[Ae+10]=de,this.int16[be+22]=Ne,s}}rt.prototype.bytesPerElement=48,Vt("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",rt);class pt extends b{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(s,c,f,v,w,S,M,A,D,q,B,W,Y,X,J,le,de,Ne,be,Ae,He,st,zt,ur,Lt,Tt,Jt,Ht){let Ut=this.length;return this.resize(Ut+1),this.emplace(Ut,s,c,f,v,w,S,M,A,D,q,B,W,Y,X,J,le,de,Ne,be,Ae,He,st,zt,ur,Lt,Tt,Jt,Ht)}emplace(s,c,f,v,w,S,M,A,D,q,B,W,Y,X,J,le,de,Ne,be,Ae,He,st,zt,ur,Lt,Tt,Jt,Ht,Ut){let Ke=32*s,tr=16*s;return this.int16[Ke+0]=c,this.int16[Ke+1]=f,this.int16[Ke+2]=v,this.int16[Ke+3]=w,this.int16[Ke+4]=S,this.int16[Ke+5]=M,this.int16[Ke+6]=A,this.int16[Ke+7]=D,this.uint16[Ke+8]=q,this.uint16[Ke+9]=B,this.uint16[Ke+10]=W,this.uint16[Ke+11]=Y,this.uint16[Ke+12]=X,this.uint16[Ke+13]=J,this.uint16[Ke+14]=le,this.uint16[Ke+15]=de,this.uint16[Ke+16]=Ne,this.uint16[Ke+17]=be,this.uint16[Ke+18]=Ae,this.uint16[Ke+19]=He,this.uint16[Ke+20]=st,this.uint16[Ke+21]=zt,this.uint16[Ke+22]=ur,this.uint32[tr+12]=Lt,this.float32[tr+13]=Tt,this.float32[tr+14]=Jt,this.uint16[Ke+30]=Ht,this.uint16[Ke+31]=Ut,s}}pt.prototype.bytesPerElement=64,Vt("StructArrayLayout8i15ui1ul2f2ui64",pt);class At extends b{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(s){let c=this.length;return this.resize(c+1),this.emplace(c,s)}emplace(s,c){return this.float32[1*s+0]=c,s}}At.prototype.bytesPerElement=4,Vt("StructArrayLayout1f4",At);class Bt extends b{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(s,c,f){let v=this.length;return this.resize(v+1),this.emplace(v,s,c,f)}emplace(s,c,f,v){let w=3*s;return this.uint16[6*s+0]=c,this.float32[w+1]=f,this.float32[w+2]=v,s}}Bt.prototype.bytesPerElement=12,Vt("StructArrayLayout1ui2f12",Bt);class St extends b{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(s,c,f){let v=this.length;return this.resize(v+1),this.emplace(v,s,c,f)}emplace(s,c,f,v){let w=4*s;return this.uint32[2*s+0]=c,this.uint16[w+2]=f,this.uint16[w+3]=v,s}}St.prototype.bytesPerElement=8,Vt("StructArrayLayout1ul2ui8",St);class xt extends b{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(s,c){let f=this.length;return this.resize(f+1),this.emplace(f,s,c)}emplace(s,c,f){let v=2*s;return this.uint16[v+0]=c,this.uint16[v+1]=f,s}}xt.prototype.bytesPerElement=4,Vt("StructArrayLayout2ui4",xt);class Xt extends b{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(s){let c=this.length;return this.resize(c+1),this.emplace(c,s)}emplace(s,c){return this.uint16[1*s+0]=c,s}}Xt.prototype.bytesPerElement=2,Vt("StructArrayLayout1ui2",Xt);class br extends b{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(s,c,f,v){let w=this.length;return this.resize(w+1),this.emplace(w,s,c,f,v)}emplace(s,c,f,v,w){let S=4*s;return this.float32[S+0]=c,this.float32[S+1]=f,this.float32[S+2]=v,this.float32[S+3]=w,s}}br.prototype.bytesPerElement=16,Vt("StructArrayLayout4f16",br);class It extends g{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.int16[this._pos2+2]}get y1(){return this._structArray.int16[this._pos2+3]}get x2(){return this._structArray.int16[this._pos2+4]}get y2(){return this._structArray.int16[this._pos2+5]}get featureIndex(){return this._structArray.uint32[this._pos4+3]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+8]}get bucketIndex(){return this._structArray.uint16[this._pos2+9]}get anchorPoint(){return new y(this.anchorPointX,this.anchorPointY)}}It.prototype.size=20;class qt extends ye{get(s){return new It(this,s)}}Vt("CollisionBoxArray",qt);class yr extends g{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+2]}get numGlyphs(){return this._structArray.uint16[this._pos2+3]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+2]}get lineStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineLength(){return this._structArray.uint32[this._pos4+4]}get segment(){return this._structArray.uint16[this._pos2+10]}get lowerSize(){return this._structArray.uint16[this._pos2+11]}get upperSize(){return this._structArray.uint16[this._pos2+12]}get lineOffsetX(){return this._structArray.float32[this._pos4+7]}get lineOffsetY(){return this._structArray.float32[this._pos4+8]}get writingMode(){return this._structArray.uint8[this._pos1+36]}get placedOrientation(){return this._structArray.uint8[this._pos1+37]}set placedOrientation(s){this._structArray.uint8[this._pos1+37]=s}get hidden(){return this._structArray.uint8[this._pos1+38]}set hidden(s){this._structArray.uint8[this._pos1+38]=s}get crossTileID(){return this._structArray.uint32[this._pos4+10]}set crossTileID(s){this._structArray.uint32[this._pos4+10]=s}get associatedIconIndex(){return this._structArray.int16[this._pos2+22]}}yr.prototype.size=48;class Xn extends rt{get(s){return new yr(this,s)}}Vt("PlacedSymbolArray",Xn);class Dr extends g{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+2]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+3]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+7]}get key(){return this._structArray.uint16[this._pos2+8]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+9]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+10]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get featureIndex(){return this._structArray.uint16[this._pos2+17]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+18]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+19]}get numIconVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+21]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+22]}get crossTileID(){return this._structArray.uint32[this._pos4+12]}set crossTileID(s){this._structArray.uint32[this._pos4+12]=s}get textBoxScale(){return this._structArray.float32[this._pos4+13]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+14]}get textAnchorOffsetStartIndex(){return this._structArray.uint16[this._pos2+30]}get textAnchorOffsetEndIndex(){return this._structArray.uint16[this._pos2+31]}}Dr.prototype.size=64;class Kr extends pt{get(s){return new Dr(this,s)}}Vt("SymbolInstanceArray",Kr);class Qn extends At{getoffsetX(s){return this.float32[1*s+0]}}Vt("GlyphOffsetArray",Qn);class mo extends z{getx(s){return this.int16[3*s+0]}gety(s){return this.int16[3*s+1]}gettileUnitDistanceFromAnchor(s){return this.int16[3*s+2]}}Vt("SymbolLineVertexArray",mo);class Gs extends g{get textAnchor(){return this._structArray.uint16[this._pos2+0]}get textOffset0(){return this._structArray.float32[this._pos4+1]}get textOffset1(){return this._structArray.float32[this._pos4+2]}}Gs.prototype.size=12;class Jn extends Bt{get(s){return new Gs(this,s)}}Vt("TextAnchorOffsetArray",Jn);class ua extends g{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}}ua.prototype.size=8;class Lo extends St{get(s){return new ua(this,s)}}Vt("FeatureIndexArray",Lo);class go extends O{}class qo extends O{}class bl extends O{}class Pp extends V{}class Xg extends K{}class Op extends te{}class us extends oe{}class Qg extends ce{}class f_ extends pe{}class cs extends me{}class ds extends se{}class Uu extends Me{}class Ys extends Le{}class oo extends xt{}let vo=C([{name:"a_pos",components:2,type:"Int16"}],4),{members:Ua}=vo;class Jr{constructor(s=[]){this.segments=s}prepareSegment(s,c,f,v){let w=this.segments[this.segments.length-1];return s>Jr.MAX_VERTEX_ARRAY_LENGTH&&We(`Max vertices per segment is ${Jr.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${s}`),(!w||w.vertexLength+s>Jr.MAX_VERTEX_ARRAY_LENGTH||w.sortKey!==v)&&(w={vertexOffset:c.length,primitiveOffset:f.length,vertexLength:0,primitiveLength:0},v!==void 0&&(w.sortKey=v),this.segments.push(w)),w}get(){return this.segments}destroy(){for(let s of this.segments)for(let c in s.vaos)s.vaos[c].destroy()}static simpleSegment(s,c,f,v){return new Jr([{vertexOffset:s,primitiveOffset:c,vertexLength:f,primitiveLength:v,vaos:{},sortKey:0}])}}function td(l,s){return 256*(l=G(Math.floor(l),0,255))+G(Math.floor(s),0,255)}Jr.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Vt("SegmentVector",Jr);let Dp=C([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]);var Np={exports:{}},LI={exports:{}};LI.exports=function(l,s){var c,f,v,w,S,M,A,D;for(f=l.length-(c=3&l.length),v=s,S=3432918353,M=461845907,D=0;D<f;)A=255&l.charCodeAt(D)|(255&l.charCodeAt(++D))<<8|(255&l.charCodeAt(++D))<<16|(255&l.charCodeAt(++D))<<24,++D,v=27492+(65535&(w=5*(65535&(v=(v^=A=(65535&(A=(A=(65535&A)*S+(((A>>>16)*S&65535)<<16)&4294967295)<<15|A>>>17))*M+(((A>>>16)*M&65535)<<16)&4294967295)<<13|v>>>19))+((5*(v>>>16)&65535)<<16)&4294967295))+((58964+(w>>>16)&65535)<<16);switch(A=0,c){case 3:A^=(255&l.charCodeAt(D+2))<<16;case 2:A^=(255&l.charCodeAt(D+1))<<8;case 1:v^=A=(65535&(A=(A=(65535&(A^=255&l.charCodeAt(D)))*S+(((A>>>16)*S&65535)<<16)&4294967295)<<15|A>>>17))*M+(((A>>>16)*M&65535)<<16)&4294967295;}return v^=l.length,v=2246822507*(65535&(v^=v>>>16))+((2246822507*(v>>>16)&65535)<<16)&4294967295,v=3266489909*(65535&(v^=v>>>13))+((3266489909*(v>>>16)&65535)<<16)&4294967295,(v^=v>>>16)>>>0};var xN=LI.exports,qI={exports:{}};qI.exports=function(l,s){for(var c,f=l.length,v=s^f,w=0;f>=4;)c=1540483477*(65535&(c=255&l.charCodeAt(w)|(255&l.charCodeAt(++w))<<8|(255&l.charCodeAt(++w))<<16|(255&l.charCodeAt(++w))<<24))+((1540483477*(c>>>16)&65535)<<16),v=1540483477*(65535&v)+((1540483477*(v>>>16)&65535)<<16)^(c=1540483477*(65535&(c^=c>>>24))+((1540483477*(c>>>16)&65535)<<16)),f-=4,++w;switch(f){case 3:v^=(255&l.charCodeAt(w+2))<<16;case 2:v^=(255&l.charCodeAt(w+1))<<8;case 1:v=1540483477*(65535&(v^=255&l.charCodeAt(w)))+((1540483477*(v>>>16)&65535)<<16);}return v=1540483477*(65535&(v^=v>>>13))+((1540483477*(v>>>16)&65535)<<16),(v^=v>>>15)>>>0};var Vu=xN,RI=qI.exports;Np.exports=Vu,Np.exports.murmur3=Vu,Np.exports.murmur2=RI;var Jg=u(Np.exports);class Lh{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(s,c,f,v){this.ids.push(ev(s)),this.positions.push(c,f,v)}getPositions(s){if(!this.indexed)throw new Error("Trying to get index, but feature positions are not indexed");let c=ev(s),f=0,v=this.ids.length-1;for(;f<v;){let S=f+v>>1;this.ids[S]>=c?v=S:f=S+1}let w=[];for(;this.ids[f]===c;)w.push({index:this.positions[3*f],start:this.positions[3*f+1],end:this.positions[3*f+2]}),f++;return w}static serialize(s,c){let f=new Float64Array(s.ids),v=new Uint32Array(s.positions);return tv(f,v,0,f.length-1),c&&c.push(f.buffer,v.buffer),{ids:f,positions:v}}static deserialize(s){let c=new Lh;return c.ids=s.ids,c.positions=s.positions,c.indexed=!0,c}}function ev(l){let s=+l;return!isNaN(s)&&s<=Number.MAX_SAFE_INTEGER?s:Jg(String(l))}function tv(l,s,c,f){for(;c<f;){let v=l[c+f>>1],w=c-1,S=f+1;for(;;){do w++;while(l[w]<v);do S--;while(l[S]>v);if(w>=S)break;kp(l,w,S),kp(s,3*w,3*S),kp(s,3*w+1,3*S+1),kp(s,3*w+2,3*S+2)}S-c<f-S?(tv(l,s,c,S),c=S+1):(tv(l,s,S+1,f),f=S)}}function kp(l,s,c){let f=l[s];l[s]=l[c],l[c]=f}Vt("FeaturePositionMap",Lh);class qh{constructor(s,c){this.gl=s.gl,this.location=c}}class zI extends qh{constructor(s,c){super(s,c),this.current=0}set(s){this.current!==s&&(this.current=s,this.gl.uniform1f(this.location,s))}}class OZ extends qh{constructor(s,c){super(s,c),this.current=[0,0,0,0]}set(s){s[0]===this.current[0]&&s[1]===this.current[1]&&s[2]===this.current[2]&&s[3]===this.current[3]||(this.current=s,this.gl.uniform4f(this.location,s[0],s[1],s[2],s[3]))}}class DZ extends qh{constructor(s,c){super(s,c),this.current=Cn.transparent}set(s){s.r===this.current.r&&s.g===this.current.g&&s.b===this.current.b&&s.a===this.current.a||(this.current=s,this.gl.uniform4f(this.location,s.r,s.g,s.b,s.a))}}let zje=new Float32Array(16);function wN(l){return[td(255*l.r,255*l.g),td(255*l.b,255*l.a)]}class h_{constructor(s,c,f){this.value=s,this.uniformNames=c.map(v=>`u_${v}`),this.type=f}setUniform(s,c,f){s.set(f.constantOr(this.value))}getBinding(s,c,f){return this.type==="color"?new DZ(s,c):new zI(s,c)}}class rv{constructor(s,c){this.uniformNames=c.map(f=>`u_${f}`),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(s,c){this.pixelRatioFrom=c.pixelRatio,this.pixelRatioTo=s.pixelRatio,this.patternFrom=c.tlbr,this.patternTo=s.tlbr}setUniform(s,c,f,v){let w=v==="u_pattern_to"?this.patternTo:v==="u_pattern_from"?this.patternFrom:v==="u_pixel_ratio_to"?this.pixelRatioTo:v==="u_pixel_ratio_from"?this.pixelRatioFrom:null;w&&s.set(w)}getBinding(s,c,f){return f.substr(0,9)==="u_pattern"?new OZ(s,c):new zI(s,c)}}class rd{constructor(s,c,f,v){this.expression=s,this.type=f,this.maxValue=0,this.paintVertexAttributes=c.map(w=>({name:`a_${w}`,type:"Float32",components:f==="color"?2:1,offset:0})),this.paintVertexArray=new v}populatePaintArray(s,c,f,v,w){let S=this.paintVertexArray.length,M=this.expression.evaluate(new Kn(0),c,{},v,[],w);this.paintVertexArray.resize(s),this._setPaintValue(S,s,M)}updatePaintArray(s,c,f,v){let w=this.expression.evaluate({zoom:0},f,v);this._setPaintValue(s,c,w)}_setPaintValue(s,c,f){if(this.type==="color"){let v=wN(f);for(let w=s;w<c;w++)this.paintVertexArray.emplace(w,v[0],v[1])}else{for(let v=s;v<c;v++)this.paintVertexArray.emplace(v,f);this.maxValue=Math.max(this.maxValue,Math.abs(f))}}upload(s){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=s.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class lu{constructor(s,c,f,v,w,S){this.expression=s,this.uniformNames=c.map(M=>`u_${M}_t`),this.type=f,this.useIntegerZoom=v,this.zoom=w,this.maxValue=0,this.paintVertexAttributes=c.map(M=>({name:`a_${M}`,type:"Float32",components:f==="color"?4:2,offset:0})),this.paintVertexArray=new S}populatePaintArray(s,c,f,v,w){let S=this.expression.evaluate(new Kn(this.zoom),c,{},v,[],w),M=this.expression.evaluate(new Kn(this.zoom+1),c,{},v,[],w),A=this.paintVertexArray.length;this.paintVertexArray.resize(s),this._setPaintValue(A,s,S,M)}updatePaintArray(s,c,f,v){let w=this.expression.evaluate({zoom:this.zoom},f,v),S=this.expression.evaluate({zoom:this.zoom+1},f,v);this._setPaintValue(s,c,w,S)}_setPaintValue(s,c,f,v){if(this.type==="color"){let w=wN(f),S=wN(v);for(let M=s;M<c;M++)this.paintVertexArray.emplace(M,w[0],w[1],S[0],S[1])}else{for(let w=s;w<c;w++)this.paintVertexArray.emplace(w,f,v);this.maxValue=Math.max(this.maxValue,Math.abs(f),Math.abs(v))}}upload(s){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=s.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(s,c){let f=this.useIntegerZoom?Math.floor(c.zoom):c.zoom,v=G(this.expression.interpolationFactor(f,this.zoom,this.zoom+1),0,1);s.set(v)}getBinding(s,c,f){return new zI(s,c)}}class Lp{constructor(s,c,f,v,w,S){this.expression=s,this.type=c,this.useIntegerZoom=f,this.zoom=v,this.layerId=S,this.zoomInPaintVertexArray=new w,this.zoomOutPaintVertexArray=new w}populatePaintArray(s,c,f){let v=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(s),this.zoomOutPaintVertexArray.resize(s),this._setPaintValues(v,s,c.patterns&&c.patterns[this.layerId],f)}updatePaintArray(s,c,f,v,w){this._setPaintValues(s,c,f.patterns&&f.patterns[this.layerId],w)}_setPaintValues(s,c,f,v){if(!v||!f)return;let{min:w,mid:S,max:M}=f,A=v[w],D=v[S],q=v[M];if(A&&D&&q)for(let B=s;B<c;B++)this.zoomInPaintVertexArray.emplace(B,D.tl[0],D.tl[1],D.br[0],D.br[1],A.tl[0],A.tl[1],A.br[0],A.br[1],D.pixelRatio,A.pixelRatio),this.zoomOutPaintVertexArray.emplace(B,D.tl[0],D.tl[1],D.br[0],D.br[1],q.tl[0],q.tl[1],q.br[0],q.br[1],D.pixelRatio,q.pixelRatio)}upload(s){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=s.createVertexBuffer(this.zoomInPaintVertexArray,Dp.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=s.createVertexBuffer(this.zoomOutPaintVertexArray,Dp.members,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class NZ{constructor(s,c,f){this.binders={},this._buffers=[];let v=[];for(let w in s.paint._values){if(!f(w))continue;let S=s.paint.get(w);if(!(S instanceof _l&&vp(S.property.specification)))continue;let M=jje(w,s.type),A=S.value,D=S.property.specification.type,q=S.property.useIntegerZoom,B=S.property.specification["property-type"],W=B==="cross-faded"||B==="cross-faded-data-driven";if(A.kind==="constant")this.binders[w]=W?new rv(A.value,M):new h_(A.value,M,D),v.push(`/u_${w}`);else if(A.kind==="source"||W){let Y=kZ(w,D,"source");this.binders[w]=W?new Lp(A,D,q,c,Y,s.id):new rd(A,M,D,Y),v.push(`/a_${w}`)}else{let Y=kZ(w,D,"composite");this.binders[w]=new lu(A,M,D,q,c,Y),v.push(`/z_${w}`)}}this.cacheKey=v.sort().join("")}getMaxValue(s){let c=this.binders[s];return c instanceof rd||c instanceof lu?c.maxValue:0}populatePaintArrays(s,c,f,v,w){for(let S in this.binders){let M=this.binders[S];(M instanceof rd||M instanceof lu||M instanceof Lp)&&M.populatePaintArray(s,c,f,v,w)}}setConstantPatternPositions(s,c){for(let f in this.binders){let v=this.binders[f];v instanceof rv&&v.setConstantPatternPositions(s,c)}}updatePaintArrays(s,c,f,v,w){let S=!1;for(let M in s){let A=c.getPositions(M);for(let D of A){let q=f.feature(D.index);for(let B in this.binders){let W=this.binders[B];if((W instanceof rd||W instanceof lu||W instanceof Lp)&&W.expression.isStateDependent===!0){let Y=v.paint.get(B);W.expression=Y.value,W.updatePaintArray(D.start,D.end,q,s[M],w),S=!0}}}}return S}defines(){let s=[];for(let c in this.binders){let f=this.binders[c];(f instanceof h_||f instanceof rv)&&s.push(...f.uniformNames.map(v=>`#define HAS_UNIFORM_${v}`))}return s}getBinderAttributes(){let s=[];for(let c in this.binders){let f=this.binders[c];if(f instanceof rd||f instanceof lu)for(let v=0;v<f.paintVertexAttributes.length;v++)s.push(f.paintVertexAttributes[v].name);else if(f instanceof Lp)for(let v=0;v<Dp.members.length;v++)s.push(Dp.members[v].name)}return s}getBinderUniforms(){let s=[];for(let c in this.binders){let f=this.binders[c];if(f instanceof h_||f instanceof rv||f instanceof lu)for(let v of f.uniformNames)s.push(v)}return s}getPaintVertexBuffers(){return this._buffers}getUniforms(s,c){let f=[];for(let v in this.binders){let w=this.binders[v];if(w instanceof h_||w instanceof rv||w instanceof lu){for(let S of w.uniformNames)if(c[S]){let M=w.getBinding(s,c[S],S);f.push({name:S,property:v,binding:M})}}}return f}setUniforms(s,c,f,v){for(let{name:w,property:S,binding:M}of c)this.binders[S].setUniform(M,v,f.get(S),w)}updatePaintBuffers(s){this._buffers=[];for(let c in this.binders){let f=this.binders[c];if(s&&f instanceof Lp){let v=s.fromScale===2?f.zoomInPaintVertexBuffer:f.zoomOutPaintVertexBuffer;v&&this._buffers.push(v)}else(f instanceof rd||f instanceof lu)&&f.paintVertexBuffer&&this._buffers.push(f.paintVertexBuffer)}}upload(s){for(let c in this.binders){let f=this.binders[c];(f instanceof rd||f instanceof lu||f instanceof Lp)&&f.upload(s)}this.updatePaintBuffers()}destroy(){for(let s in this.binders){let c=this.binders[s];(c instanceof rd||c instanceof lu||c instanceof Lp)&&c.destroy()}}}class Rh{constructor(s,c,f=()=>!0){this.programConfigurations={};for(let v of s)this.programConfigurations[v.id]=new NZ(v,c,f);this.needsUpload=!1,this._featureMap=new Lh,this._bufferOffset=0}populatePaintArrays(s,c,f,v,w,S){for(let M in this.programConfigurations)this.programConfigurations[M].populatePaintArrays(s,c,v,w,S);c.id!==void 0&&this._featureMap.add(c.id,f,this._bufferOffset,s),this._bufferOffset=s,this.needsUpload=!0}updatePaintArrays(s,c,f,v){for(let w of f)this.needsUpload=this.programConfigurations[w.id].updatePaintArrays(s,this._featureMap,c,w,v)||this.needsUpload}get(s){return this.programConfigurations[s]}upload(s){if(this.needsUpload){for(let c in this.programConfigurations)this.programConfigurations[c].upload(s);this.needsUpload=!1}}destroy(){for(let s in this.programConfigurations)this.programConfigurations[s].destroy()}}function jje(l,s){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[l]||[l.replace(`${s}-`,"").replace(/-/g,"_")]}function kZ(l,s,c){let f={color:{source:te,composite:br},number:{source:At,composite:te}},v=function(w){return{"line-pattern":{source:us,composite:us},"fill-pattern":{source:us,composite:us},"fill-extrusion-pattern":{source:us,composite:us}}[w]}(l);return v&&v[c]||f[s][c]}Vt("ConstantBinder",h_),Vt("CrossFadedConstantBinder",rv),Vt("SourceExpressionBinder",rd),Vt("CrossFadedCompositeBinder",Lp),Vt("CompositeExpressionBinder",lu),Vt("ProgramConfiguration",NZ,{omit:["_buffers"]}),Vt("ProgramConfigurationSet",Rh);let ki=8192,SN=Math.pow(2,14)-1,LZ=-SN-1;function zh(l){let s=ki/l.extent,c=l.loadGeometry();for(let f=0;f<c.length;f++){let v=c[f];for(let w=0;w<v.length;w++){let S=v[w],M=Math.round(S.x*s),A=Math.round(S.y*s);S.x=G(M,LZ,SN),S.y=G(A,LZ,SN),(M<S.x||M>S.x+1||A<S.y||A>S.y+1)&&We("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return c}function jh(l,s){return{type:l.type,id:l.id,properties:l.properties,geometry:s?zh(l):[]}}function jI(l,s,c,f,v){l.emplaceBack(2*s+(f+1)/2,2*c+(v+1)/2)}class IN{constructor(s){this.zoom=s.zoom,this.overscaling=s.overscaling,this.layers=s.layers,this.layerIds=this.layers.map(c=>c.id),this.index=s.index,this.hasPattern=!1,this.layoutVertexArray=new qo,this.indexArray=new Ys,this.segments=new Jr,this.programConfigurations=new Rh(s.layers,s.zoom),this.stateDependentLayerIds=this.layers.filter(c=>c.isStateDependent()).map(c=>c.id)}populate(s,c,f){let v=this.layers[0],w=[],S=null,M=!1;v.type==="circle"&&(S=v.layout.get("circle-sort-key"),M=!S.isConstant());for(let{feature:A,id:D,index:q,sourceLayerIndex:B}of s){let W=this.layers[0]._featureFilter.needGeometry,Y=jh(A,W);if(!this.layers[0]._featureFilter.filter(new Kn(this.zoom),Y,f))continue;let X=M?S.evaluate(Y,{},f):void 0,J={id:D,properties:A.properties,type:A.type,sourceLayerIndex:B,index:q,geometry:W?Y.geometry:zh(A),patterns:{},sortKey:X};w.push(J)}M&&w.sort((A,D)=>A.sortKey-D.sortKey);for(let A of w){let{geometry:D,index:q,sourceLayerIndex:B}=A,W=s[q].feature;this.addFeature(A,D,q,f),c.featureIndex.insert(W,D,q,B,this.index)}}update(s,c,f){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(s,c,this.stateDependentLayers,f)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(s){this.uploaded||(this.layoutVertexBuffer=s.createVertexBuffer(this.layoutVertexArray,Ua),this.indexBuffer=s.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(s),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(s,c,f,v){for(let w of c)for(let S of w){let M=S.x,A=S.y;if(M<0||M>=ki||A<0||A>=ki)continue;let D=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,s.sortKey),q=D.vertexLength;jI(this.layoutVertexArray,M,A,-1,-1),jI(this.layoutVertexArray,M,A,1,-1),jI(this.layoutVertexArray,M,A,1,1),jI(this.layoutVertexArray,M,A,-1,1),this.indexArray.emplaceBack(q,q+1,q+2),this.indexArray.emplaceBack(q,q+3,q+2),D.vertexLength+=4,D.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,s,f,{},v)}}function qZ(l,s){for(let c=0;c<l.length;c++)if(nv(s,l[c]))return!0;for(let c=0;c<s.length;c++)if(nv(l,s[c]))return!0;return!!EN(l,s)}function Fje(l,s,c){return!!nv(l,s)||!!TN(s,l,c)}function RZ(l,s){if(l.length===1)return jZ(s,l[0]);for(let c=0;c<s.length;c++){let f=s[c];for(let v=0;v<f.length;v++)if(nv(l,f[v]))return!0}for(let c=0;c<l.length;c++)if(jZ(s,l[c]))return!0;for(let c=0;c<s.length;c++)if(EN(l,s[c]))return!0;return!1}function Bje(l,s,c){if(l.length>1){if(EN(l,s))return!0;for(let f=0;f<s.length;f++)if(TN(s[f],l,c))return!0}for(let f=0;f<l.length;f++)if(TN(l[f],s,c))return!0;return!1}function EN(l,s){if(l.length===0||s.length===0)return!1;for(let c=0;c<l.length-1;c++){let f=l[c],v=l[c+1];for(let w=0;w<s.length-1;w++)if(Uje(f,v,s[w],s[w+1]))return!0}return!1}function Uje(l,s,c,f){return $e(l,c,f)!==$e(s,c,f)&&$e(l,s,c)!==$e(l,s,f)}function TN(l,s,c){let f=c*c;if(s.length===1)return l.distSqr(s[0])<f;for(let v=1;v<s.length;v++)if(zZ(l,s[v-1],s[v])<f)return!0;return!1}function zZ(l,s,c){let f=s.distSqr(c);if(f===0)return l.distSqr(s);let v=((l.x-s.x)*(c.x-s.x)+(l.y-s.y)*(c.y-s.y))/f;return l.distSqr(v<0?s:v>1?c:c.sub(s)._mult(v)._add(s))}function jZ(l,s){let c,f,v,w=!1;for(let S=0;S<l.length;S++){c=l[S];for(let M=0,A=c.length-1;M<c.length;A=M++)f=c[M],v=c[A],f.y>s.y!=v.y>s.y&&s.x<(v.x-f.x)*(s.y-f.y)/(v.y-f.y)+f.x&&(w=!w)}return w}function nv(l,s){let c=!1;for(let f=0,v=l.length-1;f<l.length;v=f++){let w=l[f],S=l[v];w.y>s.y!=S.y>s.y&&s.x<(S.x-w.x)*(s.y-w.y)/(S.y-w.y)+w.x&&(c=!c)}return c}function Vje(l,s,c){let f=c[0],v=c[2];if(l.x<f.x&&s.x<f.x||l.x>v.x&&s.x>v.x||l.y<f.y&&s.y<f.y||l.y>v.y&&s.y>v.y)return!1;let w=$e(l,s,c[0]);return w!==$e(l,s,c[1])||w!==$e(l,s,c[2])||w!==$e(l,s,c[3])}function m_(l,s,c){let f=s.paint.get(l).value;return f.kind==="constant"?f.value:c.programConfigurations.get(s.id).getMaxValue(l)}function FI(l){return Math.sqrt(l[0]*l[0]+l[1]*l[1])}function BI(l,s,c,f,v){if(!s[0]&&!s[1])return l;let w=y.convert(s)._mult(v);c==="viewport"&&w._rotate(-f);let S=[];for(let M=0;M<l.length;M++)S.push(l[M].sub(w));return S}let FZ,BZ;Vt("CircleBucket",IN,{omit:["layers"]});var $je={get paint(){return BZ=BZ||new x({"circle-radius":new pr(we.paint_circle["circle-radius"]),"circle-color":new pr(we.paint_circle["circle-color"]),"circle-blur":new pr(we.paint_circle["circle-blur"]),"circle-opacity":new pr(we.paint_circle["circle-opacity"]),"circle-translate":new Kt(we.paint_circle["circle-translate"]),"circle-translate-anchor":new Kt(we.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Kt(we.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Kt(we.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new pr(we.paint_circle["circle-stroke-width"]),"circle-stroke-color":new pr(we.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new pr(we.paint_circle["circle-stroke-opacity"])})},get layout(){return FZ=FZ||new x({"circle-sort-key":new pr(we.layout_circle["circle-sort-key"])})}},ca=1e-6,iv=typeof Float32Array!="undefined"?Float32Array:Array;function MN(l){return l[0]=1,l[1]=0,l[2]=0,l[3]=0,l[4]=0,l[5]=1,l[6]=0,l[7]=0,l[8]=0,l[9]=0,l[10]=1,l[11]=0,l[12]=0,l[13]=0,l[14]=0,l[15]=1,l}function UZ(l,s,c){var f=s[0],v=s[1],w=s[2],S=s[3],M=s[4],A=s[5],D=s[6],q=s[7],B=s[8],W=s[9],Y=s[10],X=s[11],J=s[12],le=s[13],de=s[14],Ne=s[15],be=c[0],Ae=c[1],He=c[2],st=c[3];return l[0]=be*f+Ae*M+He*B+st*J,l[1]=be*v+Ae*A+He*W+st*le,l[2]=be*w+Ae*D+He*Y+st*de,l[3]=be*S+Ae*q+He*X+st*Ne,l[4]=(be=c[4])*f+(Ae=c[5])*M+(He=c[6])*B+(st=c[7])*J,l[5]=be*v+Ae*A+He*W+st*le,l[6]=be*w+Ae*D+He*Y+st*de,l[7]=be*S+Ae*q+He*X+st*Ne,l[8]=(be=c[8])*f+(Ae=c[9])*M+(He=c[10])*B+(st=c[11])*J,l[9]=be*v+Ae*A+He*W+st*le,l[10]=be*w+Ae*D+He*Y+st*de,l[11]=be*S+Ae*q+He*X+st*Ne,l[12]=(be=c[12])*f+(Ae=c[13])*M+(He=c[14])*B+(st=c[15])*J,l[13]=be*v+Ae*A+He*W+st*le,l[14]=be*w+Ae*D+He*Y+st*de,l[15]=be*S+Ae*q+He*X+st*Ne,l}Math.hypot||(Math.hypot=function(){for(var l=0,s=arguments.length;s--;)l+=arguments[s]*arguments[s];return Math.sqrt(l)});var g_,Hje=UZ;function UI(l,s,c){var f=s[0],v=s[1],w=s[2],S=s[3];return l[0]=c[0]*f+c[4]*v+c[8]*w+c[12]*S,l[1]=c[1]*f+c[5]*v+c[9]*w+c[13]*S,l[2]=c[2]*f+c[6]*v+c[10]*w+c[14]*S,l[3]=c[3]*f+c[7]*v+c[11]*w+c[15]*S,l}g_=new iv(4),iv!=Float32Array&&(g_[0]=0,g_[1]=0,g_[2]=0,g_[3]=0);class Wje extends d{constructor(s){super(s,$je)}createBucket(s){return new IN(s)}queryRadius(s){let c=s;return m_("circle-radius",this,c)+m_("circle-stroke-width",this,c)+FI(this.paint.get("circle-translate"))}queryIntersectsFeature(s,c,f,v,w,S,M,A){let D=BI(s,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),S.angle,M),q=this.paint.get("circle-radius").evaluate(c,f)+this.paint.get("circle-stroke-width").evaluate(c,f),B=this.paint.get("circle-pitch-alignment")==="map",W=B?D:function(X,J){return X.map(le=>VZ(le,J))}(D,A),Y=B?q*M:q;for(let X of v)for(let J of X){let le=B?J:VZ(J,A),de=Y,Ne=UI([],[J.x,J.y,0,1],A);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?de*=Ne[3]/S.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(de*=S.cameraToCenterDistance/Ne[3]),Fje(W,le,de))return!0}return!1}}function VZ(l,s){let c=UI([],[l.x,l.y,0,1],s);return new y(c[0]/c[3],c[1]/c[3])}class $Z extends IN{}let HZ;Vt("HeatmapBucket",$Z,{omit:["layers"]});var Gje={get paint(){return HZ=HZ||new x({"heatmap-radius":new pr(we.paint_heatmap["heatmap-radius"]),"heatmap-weight":new pr(we.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Kt(we.paint_heatmap["heatmap-intensity"]),"heatmap-color":new p_(we.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Kt(we.paint_heatmap["heatmap-opacity"])})}};function CN(l,{width:s,height:c},f,v){if(v){if(v instanceof Uint8ClampedArray)v=new Uint8Array(v.buffer);else if(v.length!==s*c*f)throw new RangeError(`mismatched image size. expected: ${v.length} but got: ${s*c*f}`)}else v=new Uint8Array(s*c*f);return l.width=s,l.height=c,l.data=v,l}function WZ(l,{width:s,height:c},f){if(s===l.width&&c===l.height)return;let v=CN({},{width:s,height:c},f);AN(l,v,{x:0,y:0},{x:0,y:0},{width:Math.min(l.width,s),height:Math.min(l.height,c)},f),l.width=s,l.height=c,l.data=v.data}function AN(l,s,c,f,v,w){if(v.width===0||v.height===0)return s;if(v.width>l.width||v.height>l.height||c.x>l.width-v.width||c.y>l.height-v.height)throw new RangeError("out of range source coordinates for image copy");if(v.width>s.width||v.height>s.height||f.x>s.width-v.width||f.y>s.height-v.height)throw new RangeError("out of range destination coordinates for image copy");let S=l.data,M=s.data;if(S===M)throw new Error("srcData equals dstData, so image is already copied");for(let A=0;A<v.height;A++){let D=((c.y+A)*l.width+c.x)*w,q=((f.y+A)*s.width+f.x)*w;for(let B=0;B<v.width*w;B++)M[q+B]=S[D+B]}return s}class v_{constructor(s,c){CN(this,s,1,c)}resize(s){WZ(this,s,1)}clone(){return new v_({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(s,c,f,v,w){AN(s,c,f,v,w,1)}}class Zs{constructor(s,c){CN(this,s,4,c)}resize(s){WZ(this,s,4)}replace(s,c){c?this.data.set(s):this.data=s instanceof Uint8ClampedArray?new Uint8Array(s.buffer):s}clone(){return new Zs({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(s,c,f,v,w){AN(s,c,f,v,w,4)}}function GZ(l){let s={},c=l.resolution||256,f=l.clips?l.clips.length:1,v=l.image||new Zs({width:c,height:f});if(Math.log(c)/Math.LN2%1!=0)throw new Error(`width is not a power of 2 - ${c}`);let w=(S,M,A)=>{s[l.evaluationKey]=A;let D=l.expression.evaluate(s);v.data[S+M+0]=Math.floor(255*D.r/D.a),v.data[S+M+1]=Math.floor(255*D.g/D.a),v.data[S+M+2]=Math.floor(255*D.b/D.a),v.data[S+M+3]=Math.floor(255*D.a)};if(l.clips)for(let S=0,M=0;S<f;++S,M+=4*c)for(let A=0,D=0;A<c;A++,D+=4){let q=A/(c-1),{start:B,end:W}=l.clips[S];w(M,D,B*(1-q)+W*q)}else for(let S=0,M=0;S<c;S++,M+=4)w(0,M,S/(c-1));return v}Vt("AlphaImage",v_),Vt("RGBAImage",Zs);let PN="big-fb";class Yje extends d{createBucket(s){return new $Z(s)}constructor(s){super(s,Gje),this.heatmapFbos=new Map,this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(s){s==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=GZ({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbos.has(PN)&&this.heatmapFbos.delete(PN)}queryRadius(){return 0}queryIntersectsFeature(){return!1}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}}let YZ;var Zje={get paint(){return YZ=YZ||new x({"hillshade-illumination-direction":new Kt(we.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Kt(we.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Kt(we.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Kt(we.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Kt(we.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Kt(we.paint_hillshade["hillshade-accent-color"])})}};class Kje extends d{constructor(s){super(s,Zje)}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}}let Xje=C([{name:"a_pos",components:2,type:"Int16"}],4),{members:Qje}=Xje;function ZZ(l,s,c=2){let f=s&&s.length,v=f?s[0]*c:l.length,w=KZ(l,0,v,c,!0),S=[];if(!w||w.next===w.prev)return S;let M,A,D;if(f&&(w=function(q,B,W,Y){let X=[];for(let J=0,le=B.length;J<le;J++){let de=KZ(q,B[J]*Y,J<le-1?B[J+1]*Y:q.length,Y,!1);de===de.next&&(de.steiner=!0),X.push(aFe(de))}X.sort(nFe);for(let J=0;J<X.length;J++)W=iFe(X[J],W);return W}(l,s,w,c)),l.length>80*c){M=1/0,A=1/0;let q=-1/0,B=-1/0;for(let W=c;W<v;W+=c){let Y=l[W],X=l[W+1];Y<M&&(M=Y),X<A&&(A=X),Y>q&&(q=Y),X>B&&(B=X)}D=Math.max(q-M,B-A),D=D!==0?32767/D:0}return y_(w,S,c,M,A,D,0),S}function KZ(l,s,c,f,v){let w;if(v===function(S,M,A,D){let q=0;for(let B=M,W=A-D;B<A;B+=D)q+=(S[W]-S[B])*(S[B+1]+S[W+1]),W=B;return q}(l,s,c,f)>0)for(let S=s;S<c;S+=f)w=JZ(S/f|0,l[S],l[S+1],w);else for(let S=c-f;S>=s;S-=f)w=JZ(S/f|0,l[S],l[S+1],w);return w&&VI(w,w.next)&&(b_(w),w=w.next),w}function Fh(l,s){if(!l)return l;s||(s=l);let c,f=l;do if(c=!1,f.steiner||!VI(f,f.next)&&Pi(f.prev,f,f.next)!==0)f=f.next;else{if(b_(f),f=s=f.prev,f===f.next)break;c=!0}while(c||f!==s);return s}function y_(l,s,c,f,v,w,S){if(!l)return;!S&&w&&function(A,D,q,B){let W=A;do W.z===0&&(W.z=ON(W.x,W.y,D,q,B)),W.prevZ=W.prev,W.nextZ=W.next,W=W.next;while(W!==A);W.prevZ.nextZ=null,W.prevZ=null,function(Y){let X,J=1;do{let le,de=Y;Y=null;let Ne=null;for(X=0;de;){X++;let be=de,Ae=0;for(let st=0;st<J&&(Ae++,be=be.nextZ,be);st++);let He=J;for(;Ae>0||He>0&&be;)Ae!==0&&(He===0||!be||de.z<=be.z)?(le=de,de=de.nextZ,Ae--):(le=be,be=be.nextZ,He--),Ne?Ne.nextZ=le:Y=le,le.prevZ=Ne,Ne=le;de=be}Ne.nextZ=null,J*=2}while(X>1)}(W)}(l,f,v,w);let M=l;for(;l.prev!==l.next;){let A=l.prev,D=l.next;if(w?eFe(l,f,v,w):Jje(l))s.push(A.i,l.i,D.i),b_(l),l=D.next,M=D.next;else if((l=D)===M){S?S===1?y_(l=tFe(Fh(l),s),s,c,f,v,w,2):S===2&&rFe(l,s,c,f,v,w):y_(Fh(l),s,c,f,v,w,1);break}}}function Jje(l){let s=l.prev,c=l,f=l.next;if(Pi(s,c,f)>=0)return!1;let v=s.x,w=c.x,S=f.x,M=s.y,A=c.y,D=f.y,q=v<w?v<S?v:S:w<S?w:S,B=M<A?M<D?M:D:A<D?A:D,W=v>w?v>S?v:S:w>S?w:S,Y=M>A?M>D?M:D:A>D?A:D,X=f.next;for(;X!==s;){if(X.x>=q&&X.x<=W&&X.y>=B&&X.y<=Y&&ov(v,M,w,A,S,D,X.x,X.y)&&Pi(X.prev,X,X.next)>=0)return!1;X=X.next}return!0}function eFe(l,s,c,f){let v=l.prev,w=l,S=l.next;if(Pi(v,w,S)>=0)return!1;let M=v.x,A=w.x,D=S.x,q=v.y,B=w.y,W=S.y,Y=M<A?M<D?M:D:A<D?A:D,X=q<B?q<W?q:W:B<W?B:W,J=M>A?M>D?M:D:A>D?A:D,le=q>B?q>W?q:W:B>W?B:W,de=ON(Y,X,s,c,f),Ne=ON(J,le,s,c,f),be=l.prevZ,Ae=l.nextZ;for(;be&&be.z>=de&&Ae&&Ae.z<=Ne;){if(be.x>=Y&&be.x<=J&&be.y>=X&&be.y<=le&&be!==v&&be!==S&&ov(M,q,A,B,D,W,be.x,be.y)&&Pi(be.prev,be,be.next)>=0||(be=be.prevZ,Ae.x>=Y&&Ae.x<=J&&Ae.y>=X&&Ae.y<=le&&Ae!==v&&Ae!==S&&ov(M,q,A,B,D,W,Ae.x,Ae.y)&&Pi(Ae.prev,Ae,Ae.next)>=0))return!1;Ae=Ae.nextZ}for(;be&&be.z>=de;){if(be.x>=Y&&be.x<=J&&be.y>=X&&be.y<=le&&be!==v&&be!==S&&ov(M,q,A,B,D,W,be.x,be.y)&&Pi(be.prev,be,be.next)>=0)return!1;be=be.prevZ}for(;Ae&&Ae.z<=Ne;){if(Ae.x>=Y&&Ae.x<=J&&Ae.y>=X&&Ae.y<=le&&Ae!==v&&Ae!==S&&ov(M,q,A,B,D,W,Ae.x,Ae.y)&&Pi(Ae.prev,Ae,Ae.next)>=0)return!1;Ae=Ae.nextZ}return!0}function tFe(l,s){let c=l;do{let f=c.prev,v=c.next.next;!VI(f,v)&&XZ(f,c,c.next,v)&&__(f,v)&&__(v,f)&&(s.push(f.i,c.i,v.i),b_(c),b_(c.next),c=l=v),c=c.next}while(c!==l);return Fh(c)}function rFe(l,s,c,f,v,w){let S=l;do{let M=S.next.next;for(;M!==S.prev;){if(S.i!==M.i&&sFe(S,M)){let A=QZ(S,M);return S=Fh(S,S.next),A=Fh(A,A.next),y_(S,s,c,f,v,w,0),void y_(A,s,c,f,v,w,0)}M=M.next}S=S.next}while(S!==l)}function nFe(l,s){return l.x-s.x}function iFe(l,s){let c=function(v,w){let S=w,M=v.x,A=v.y,D,q=-1/0;do{if(A<=S.y&&A>=S.next.y&&S.next.y!==S.y){let J=S.x+(A-S.y)*(S.next.x-S.x)/(S.next.y-S.y);if(J<=M&&J>q&&(q=J,D=S.x<S.next.x?S:S.next,J===M))return D}S=S.next}while(S!==w);if(!D)return null;let B=D,W=D.x,Y=D.y,X=1/0;S=D;do{if(M>=S.x&&S.x>=W&&M!==S.x&&ov(A<Y?M:q,A,W,Y,A<Y?q:M,A,S.x,S.y)){let J=Math.abs(A-S.y)/(M-S.x);__(S,v)&&(J<X||J===X&&(S.x>D.x||S.x===D.x&&oFe(D,S)))&&(D=S,X=J)}S=S.next}while(S!==B);return D}(l,s);if(!c)return s;let f=QZ(c,l);return Fh(f,f.next),Fh(c,c.next)}function oFe(l,s){return Pi(l.prev,l,s.prev)<0&&Pi(s.next,l,l.next)<0}function ON(l,s,c,f,v){return(l=1431655765&((l=858993459&((l=252645135&((l=16711935&((l=(l-c)*v|0)|l<<8))|l<<4))|l<<2))|l<<1))|(s=1431655765&((s=858993459&((s=252645135&((s=16711935&((s=(s-f)*v|0)|s<<8))|s<<4))|s<<2))|s<<1))<<1}function aFe(l){let s=l,c=l;do(s.x<c.x||s.x===c.x&&s.y<c.y)&&(c=s),s=s.next;while(s!==l);return c}function ov(l,s,c,f,v,w,S,M){return(v-S)*(s-M)>=(l-S)*(w-M)&&(l-S)*(f-M)>=(c-S)*(s-M)&&(c-S)*(w-M)>=(v-S)*(f-M)}function sFe(l,s){return l.next.i!==s.i&&l.prev.i!==s.i&&!function(c,f){let v=c;do{if(v.i!==c.i&&v.next.i!==c.i&&v.i!==f.i&&v.next.i!==f.i&&XZ(v,v.next,c,f))return!0;v=v.next}while(v!==c);return!1}(l,s)&&(__(l,s)&&__(s,l)&&function(c,f){let v=c,w=!1,S=(c.x+f.x)/2,M=(c.y+f.y)/2;do v.y>M!=v.next.y>M&&v.next.y!==v.y&&S<(v.next.x-v.x)*(M-v.y)/(v.next.y-v.y)+v.x&&(w=!w),v=v.next;while(v!==c);return w}(l,s)&&(Pi(l.prev,l,s.prev)||Pi(l,s.prev,s))||VI(l,s)&&Pi(l.prev,l,l.next)>0&&Pi(s.prev,s,s.next)>0)}function Pi(l,s,c){return(s.y-l.y)*(c.x-s.x)-(s.x-l.x)*(c.y-s.y)}function VI(l,s){return l.x===s.x&&l.y===s.y}function XZ(l,s,c,f){let v=HI(Pi(l,s,c)),w=HI(Pi(l,s,f)),S=HI(Pi(c,f,l)),M=HI(Pi(c,f,s));return v!==w&&S!==M||!(v!==0||!$I(l,c,s))||!(w!==0||!$I(l,f,s))||!(S!==0||!$I(c,l,f))||!(M!==0||!$I(c,s,f))}function $I(l,s,c){return s.x<=Math.max(l.x,c.x)&&s.x>=Math.min(l.x,c.x)&&s.y<=Math.max(l.y,c.y)&&s.y>=Math.min(l.y,c.y)}function HI(l){return l>0?1:l<0?-1:0}function __(l,s){return Pi(l.prev,l,l.next)<0?Pi(l,s,l.next)>=0&&Pi(l,l.prev,s)>=0:Pi(l,s,l.prev)<0||Pi(l,l.next,s)<0}function QZ(l,s){let c=DN(l.i,l.x,l.y),f=DN(s.i,s.x,s.y),v=l.next,w=s.prev;return l.next=s,s.prev=l,c.next=v,v.prev=c,f.next=c,c.prev=f,w.next=f,f.prev=w,f}function JZ(l,s,c,f){let v=DN(l,s,c);return f?(v.next=f.next,v.prev=f,f.next.prev=v,f.next=v):(v.prev=v,v.next=v),v}function b_(l){l.next.prev=l.prev,l.prev.next=l.next,l.prevZ&&(l.prevZ.nextZ=l.nextZ),l.nextZ&&(l.nextZ.prevZ=l.prevZ)}function DN(l,s,c){return{i:l,x:s,y:c,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function NN(l,s,c){let f=c.patternDependencies,v=!1;for(let w of s){let S=w.paint.get(`${l}-pattern`);S.isConstant()||(v=!0);let M=S.constantOr(null);M&&(v=!0,f[M.to]=!0,f[M.from]=!0)}return v}function kN(l,s,c,f,v){let w=v.patternDependencies;for(let S of s){let M=S.paint.get(`${l}-pattern`).value;if(M.kind!=="constant"){let A=M.evaluate({zoom:f-1},c,{},v.availableImages),D=M.evaluate({zoom:f},c,{},v.availableImages),q=M.evaluate({zoom:f+1},c,{},v.availableImages);A=A&&A.name?A.name:A,D=D&&D.name?D.name:D,q=q&&q.name?q.name:q,w[A]=!0,w[D]=!0,w[q]=!0,c.patterns[S.id]={min:A,mid:D,max:q}}}return c}class LN{constructor(s){this.zoom=s.zoom,this.overscaling=s.overscaling,this.layers=s.layers,this.layerIds=this.layers.map(c=>c.id),this.index=s.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new bl,this.indexArray=new Ys,this.indexArray2=new oo,this.programConfigurations=new Rh(s.layers,s.zoom),this.segments=new Jr,this.segments2=new Jr,this.stateDependentLayerIds=this.layers.filter(c=>c.isStateDependent()).map(c=>c.id)}populate(s,c,f){this.hasPattern=NN("fill",this.layers,c);let v=this.layers[0].layout.get("fill-sort-key"),w=!v.isConstant(),S=[];for(let{feature:M,id:A,index:D,sourceLayerIndex:q}of s){let B=this.layers[0]._featureFilter.needGeometry,W=jh(M,B);if(!this.layers[0]._featureFilter.filter(new Kn(this.zoom),W,f))continue;let Y=w?v.evaluate(W,{},f,c.availableImages):void 0,X={id:A,properties:M.properties,type:M.type,sourceLayerIndex:q,index:D,geometry:B?W.geometry:zh(M),patterns:{},sortKey:Y};S.push(X)}w&&S.sort((M,A)=>M.sortKey-A.sortKey);for(let M of S){let{geometry:A,index:D,sourceLayerIndex:q}=M;if(this.hasPattern){let B=kN("fill",this.layers,M,this.zoom,c);this.patternFeatures.push(B)}else this.addFeature(M,A,D,f,{});c.featureIndex.insert(s[D].feature,A,D,q,this.index)}}update(s,c,f){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(s,c,this.stateDependentLayers,f)}addFeatures(s,c,f){for(let v of this.patternFeatures)this.addFeature(v,v.geometry,v.index,c,f)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(s){this.uploaded||(this.layoutVertexBuffer=s.createVertexBuffer(this.layoutVertexArray,Qje),this.indexBuffer=s.createIndexBuffer(this.indexArray),this.indexBuffer2=s.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(s),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(s,c,f,v,w){for(let S of Ag(c,500)){let M=0;for(let Y of S)M+=Y.length;let A=this.segments.prepareSegment(M,this.layoutVertexArray,this.indexArray),D=A.vertexLength,q=[],B=[];for(let Y of S){if(Y.length===0)continue;Y!==S[0]&&B.push(q.length/2);let X=this.segments2.prepareSegment(Y.length,this.layoutVertexArray,this.indexArray2),J=X.vertexLength;this.layoutVertexArray.emplaceBack(Y[0].x,Y[0].y),this.indexArray2.emplaceBack(J+Y.length-1,J),q.push(Y[0].x),q.push(Y[0].y);for(let le=1;le<Y.length;le++)this.layoutVertexArray.emplaceBack(Y[le].x,Y[le].y),this.indexArray2.emplaceBack(J+le-1,J+le),q.push(Y[le].x),q.push(Y[le].y);X.vertexLength+=Y.length,X.primitiveLength+=Y.length}let W=ZZ(q,B);for(let Y=0;Y<W.length;Y+=3)this.indexArray.emplaceBack(D+W[Y],D+W[Y+1],D+W[Y+2]);A.vertexLength+=M,A.primitiveLength+=W.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,s,f,w,v)}}let eK,tK;Vt("FillBucket",LN,{omit:["layers","patternFeatures"]});var lFe={get paint(){return tK=tK||new x({"fill-antialias":new Kt(we.paint_fill["fill-antialias"]),"fill-opacity":new pr(we.paint_fill["fill-opacity"]),"fill-color":new pr(we.paint_fill["fill-color"]),"fill-outline-color":new pr(we.paint_fill["fill-outline-color"]),"fill-translate":new Kt(we.paint_fill["fill-translate"]),"fill-translate-anchor":new Kt(we.paint_fill["fill-translate-anchor"]),"fill-pattern":new Zg(we.paint_fill["fill-pattern"])})},get layout(){return eK=eK||new x({"fill-sort-key":new pr(we.layout_fill["fill-sort-key"])})}};class uFe extends d{constructor(s){super(s,lFe)}recalculate(s,c){super.recalculate(s,c);let f=this.paint._values["fill-outline-color"];f.value.kind==="constant"&&f.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(s){return new LN(s)}queryRadius(){return FI(this.paint.get("fill-translate"))}queryIntersectsFeature(s,c,f,v,w,S,M){return RZ(BI(s,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),S.angle,M),v)}isTileClipped(){return!0}}let cFe=C([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),dFe=C([{name:"a_centroid",components:2,type:"Int16"}],4),{members:pFe}=cFe;var qp={},fFe=p,rK=av;function av(l,s,c,f,v){this.properties={},this.extent=c,this.type=0,this._pbf=l,this._geometry=-1,this._keys=f,this._values=v,l.readFields(hFe,this,s)}function hFe(l,s,c){l==1?s.id=c.readVarint():l==2?function(f,v){for(var w=f.readVarint()+f.pos;f.pos<w;){var S=v._keys[f.readVarint()],M=v._values[f.readVarint()];v.properties[S]=M}}(c,s):l==3?s.type=c.readVarint():l==4&&(s._geometry=c.pos)}function mFe(l){for(var s,c,f=0,v=0,w=l.length,S=w-1;v<w;S=v++)f+=((c=l[S]).x-(s=l[v]).x)*(s.y+c.y);return f}av.types=["Unknown","Point","LineString","Polygon"],av.prototype.loadGeometry=function(){var l=this._pbf;l.pos=this._geometry;for(var s,c=l.readVarint()+l.pos,f=1,v=0,w=0,S=0,M=[];l.pos<c;){if(v<=0){var A=l.readVarint();f=7&A,v=A>>3}if(v--,f===1||f===2)w+=l.readSVarint(),S+=l.readSVarint(),f===1&&(s&&M.push(s),s=[]),s.push(new fFe(w,S));else{if(f!==7)throw new Error("unknown command "+f);s&&s.push(s[0].clone())}}return s&&M.push(s),M},av.prototype.bbox=function(){var l=this._pbf;l.pos=this._geometry;for(var s=l.readVarint()+l.pos,c=1,f=0,v=0,w=0,S=1/0,M=-1/0,A=1/0,D=-1/0;l.pos<s;){if(f<=0){var q=l.readVarint();c=7&q,f=q>>3}if(f--,c===1||c===2)(v+=l.readSVarint())<S&&(S=v),v>M&&(M=v),(w+=l.readSVarint())<A&&(A=w),w>D&&(D=w);else if(c!==7)throw new Error("unknown command "+c)}return[S,A,M,D]},av.prototype.toGeoJSON=function(l,s,c){var f,v,w=this.extent*Math.pow(2,c),S=this.extent*l,M=this.extent*s,A=this.loadGeometry(),D=av.types[this.type];function q(Y){for(var X=0;X<Y.length;X++){var J=Y[X];Y[X]=[360*(J.x+S)/w-180,360/Math.PI*Math.atan(Math.exp((180-360*(J.y+M)/w)*Math.PI/180))-90]}}switch(this.type){case 1:var B=[];for(f=0;f<A.length;f++)B[f]=A[f][0];q(A=B);break;case 2:for(f=0;f<A.length;f++)q(A[f]);break;case 3:for(A=function(Y){var X=Y.length;if(X<=1)return[Y];for(var J,le,de=[],Ne=0;Ne<X;Ne++){var be=mFe(Y[Ne]);be!==0&&(le===void 0&&(le=be<0),le===be<0?(J&&de.push(J),J=[Y[Ne]]):J.push(Y[Ne]))}return J&&de.push(J),de}(A),f=0;f<A.length;f++)for(v=0;v<A[f].length;v++)q(A[f][v]);}A.length===1?A=A[0]:D="Multi"+D;var W={type:"Feature",geometry:{type:D,coordinates:A},properties:this.properties};return"id"in this&&(W.id=this.id),W};var gFe=rK,nK=iK;function iK(l,s){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=l,this._keys=[],this._values=[],this._features=[],l.readFields(vFe,this,s),this.length=this._features.length}function vFe(l,s,c){l===15?s.version=c.readVarint():l===1?s.name=c.readString():l===5?s.extent=c.readVarint():l===2?s._features.push(c.pos):l===3?s._keys.push(c.readString()):l===4&&s._values.push(function(f){for(var v=null,w=f.readVarint()+f.pos;f.pos<w;){var S=f.readVarint()>>3;v=S===1?f.readString():S===2?f.readFloat():S===3?f.readDouble():S===4?f.readVarint64():S===5?f.readVarint():S===6?f.readSVarint():S===7?f.readBoolean():null}return v}(c))}iK.prototype.feature=function(l){if(l<0||l>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[l];var s=this._pbf.readVarint()+this._pbf.pos;return new gFe(this._pbf,s,this.extent,this._keys,this._values)};var yFe=nK;function _Fe(l,s,c){if(l===3){var f=new yFe(c,c.readVarint()+c.pos);f.length&&(s[f.name]=f)}}qp.VectorTile=function(l,s){this.layers=l.readFields(_Fe,{},s)},qp.VectorTileFeature=rK,qp.VectorTileLayer=nK;let bFe=qp.VectorTileFeature.types,qN=Math.pow(2,13);function x_(l,s,c,f,v,w,S,M){l.emplaceBack(s,c,2*Math.floor(f*qN)+S,v*qN*2,w*qN*2,Math.round(M))}class RN{constructor(s){this.zoom=s.zoom,this.overscaling=s.overscaling,this.layers=s.layers,this.layerIds=this.layers.map(c=>c.id),this.index=s.index,this.hasPattern=!1,this.layoutVertexArray=new Pp,this.centroidVertexArray=new go,this.indexArray=new Ys,this.programConfigurations=new Rh(s.layers,s.zoom),this.segments=new Jr,this.stateDependentLayerIds=this.layers.filter(c=>c.isStateDependent()).map(c=>c.id)}populate(s,c,f){this.features=[],this.hasPattern=NN("fill-extrusion",this.layers,c);for(let{feature:v,id:w,index:S,sourceLayerIndex:M}of s){let A=this.layers[0]._featureFilter.needGeometry,D=jh(v,A);if(!this.layers[0]._featureFilter.filter(new Kn(this.zoom),D,f))continue;let q={id:w,sourceLayerIndex:M,index:S,geometry:A?D.geometry:zh(v),properties:v.properties,type:v.type,patterns:{}};this.hasPattern?this.features.push(kN("fill-extrusion",this.layers,q,this.zoom,c)):this.addFeature(q,q.geometry,S,f,{}),c.featureIndex.insert(v,q.geometry,S,M,this.index,!0)}}addFeatures(s,c,f){for(let v of this.features){let{geometry:w}=v;this.addFeature(v,w,v.index,c,f)}}update(s,c,f){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(s,c,this.stateDependentLayers,f)}isEmpty(){return this.layoutVertexArray.length===0&&this.centroidVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(s){this.uploaded||(this.layoutVertexBuffer=s.createVertexBuffer(this.layoutVertexArray,pFe),this.centroidVertexBuffer=s.createVertexBuffer(this.centroidVertexArray,dFe.members,!0),this.indexBuffer=s.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(s),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.centroidVertexBuffer.destroy())}addFeature(s,c,f,v,w){for(let S of Ag(c,500)){let M={x:0,y:0,vertexCount:0},A=0;for(let X of S)A+=X.length;let D=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray);for(let X of S){if(X.length===0||wFe(X))continue;let J=0;for(let le=0;le<X.length;le++){let de=X[le];if(le>=1){let Ne=X[le-1];if(!xFe(de,Ne)){D.vertexLength+4>Jr.MAX_VERTEX_ARRAY_LENGTH&&(D=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));let be=de.sub(Ne)._perp()._unit(),Ae=Ne.dist(de);J+Ae>32768&&(J=0),x_(this.layoutVertexArray,de.x,de.y,be.x,be.y,0,0,J),x_(this.layoutVertexArray,de.x,de.y,be.x,be.y,0,1,J),M.x+=2*de.x,M.y+=2*de.y,M.vertexCount+=2,J+=Ae,x_(this.layoutVertexArray,Ne.x,Ne.y,be.x,be.y,0,0,J),x_(this.layoutVertexArray,Ne.x,Ne.y,be.x,be.y,0,1,J),M.x+=2*Ne.x,M.y+=2*Ne.y,M.vertexCount+=2;let He=D.vertexLength;this.indexArray.emplaceBack(He,He+2,He+1),this.indexArray.emplaceBack(He+1,He+2,He+3),D.vertexLength+=4,D.primitiveLength+=2}}}}if(D.vertexLength+A>Jr.MAX_VERTEX_ARRAY_LENGTH&&(D=this.segments.prepareSegment(A,this.layoutVertexArray,this.indexArray)),bFe[s.type]!=="Polygon")continue;let q=[],B=[],W=D.vertexLength;for(let X of S)if(X.length!==0){X!==S[0]&&B.push(q.length/2);for(let J=0;J<X.length;J++){let le=X[J];x_(this.layoutVertexArray,le.x,le.y,0,0,1,1,0),M.x+=le.x,M.y+=le.y,M.vertexCount+=1,q.push(le.x),q.push(le.y)}}let Y=ZZ(q,B);for(let X=0;X<Y.length;X+=3)this.indexArray.emplaceBack(W+Y[X],W+Y[X+2],W+Y[X+1]);D.primitiveLength+=Y.length/3,D.vertexLength+=A;for(let X=0;X<M.vertexCount;X++){let J=Math.floor(M.x/M.vertexCount),le=Math.floor(M.y/M.vertexCount);this.centroidVertexArray.emplaceBack(J,le)}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,s,f,w,v)}}function xFe(l,s){return l.x===s.x&&(l.x<0||l.x>ki)||l.y===s.y&&(l.y<0||l.y>ki)}function wFe(l){return l.every(s=>s.x<0)||l.every(s=>s.x>ki)||l.every(s=>s.y<0)||l.every(s=>s.y>ki)}let oK;Vt("FillExtrusionBucket",RN,{omit:["layers","features"]});var SFe={get paint(){return oK=oK||new x({"fill-extrusion-opacity":new Kt(we["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new pr(we["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Kt(we["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Kt(we["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Zg(we["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new pr(we["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new pr(we["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Kt(we["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})}};class IFe extends d{constructor(s){super(s,SFe)}createBucket(s){return new RN(s)}queryRadius(){return FI(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}queryIntersectsFeature(s,c,f,v,w,S,M,A){let D=BI(s,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),S.angle,M),q=this.paint.get("fill-extrusion-height").evaluate(c,f),B=this.paint.get("fill-extrusion-base").evaluate(c,f),W=function(X,J,le,de){let Ne=[];for(let be of X){let Ae=[be.x,be.y,0,1];UI(Ae,Ae,J),Ne.push(new y(Ae[0]/Ae[3],Ae[1]/Ae[3]))}return Ne}(D,A),Y=function(X,J,le,de){let Ne=[],be=[],Ae=de[8]*J,He=de[9]*J,st=de[10]*J,zt=de[11]*J,ur=de[8]*le,Lt=de[9]*le,Tt=de[10]*le,Jt=de[11]*le;for(let Ht of X){let Ut=[],Ke=[];for(let tr of Ht){let Qt=tr.x,_r=tr.y,qn=de[0]*Qt+de[4]*_r+de[12],kn=de[1]*Qt+de[5]*_r+de[13],Zi=de[2]*Qt+de[6]*_r+de[14],xl=de[3]*Qt+de[7]*_r+de[15],_o=Zi+st,Ki=xl+zt,da=qn+ur,pa=kn+Lt,fa=Zi+Tt,Si=xl+Jt,Xi=new y((qn+Ae)/Ki,(kn+He)/Ki);Xi.z=_o/Ki,Ut.push(Xi);let Ro=new y(da/Si,pa/Si);Ro.z=fa/Si,Ke.push(Ro)}Ne.push(Ut),be.push(Ke)}return[Ne,be]}(v,B,q,A);return function(X,J,le){let de=1/0;RZ(le,J)&&(de=aK(le,J[0]));for(let Ne=0;Ne<J.length;Ne++){let be=J[Ne],Ae=X[Ne];for(let He=0;He<be.length-1;He++){let st=be[He],zt=[st,be[He+1],Ae[He+1],Ae[He],st];qZ(le,zt)&&(de=Math.min(de,aK(le,zt)))}}return de!==1/0&&de}(Y[0],Y[1],W)}}function w_(l,s){return l.x*s.x+l.y*s.y}function aK(l,s){if(l.length===1){let c=0,f=s[c++],v;for(;!v||f.equals(v);)if(v=s[c++],!v)return 1/0;for(;c<s.length;c++){let w=s[c],S=l[0],M=v.sub(f),A=w.sub(f),D=S.sub(f),q=w_(M,M),B=w_(M,A),W=w_(A,A),Y=w_(D,M),X=w_(D,A),J=q*W-B*B,le=(W*Y-B*X)/J,de=(q*X-B*Y)/J,Ne=f.z*(1-le-de)+v.z*le+w.z*de;if(isFinite(Ne))return Ne}return 1/0}{let c=1/0;for(let f of s)c=Math.min(c,f.z);return c}}let EFe=C([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),{members:TFe}=EFe,MFe=C([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),{members:CFe}=MFe,AFe=qp.VectorTileFeature.types,PFe=Math.cos(Math.PI/180*37.5),sK=Math.pow(2,14)/.5;class zN{constructor(s){this.zoom=s.zoom,this.overscaling=s.overscaling,this.layers=s.layers,this.layerIds=this.layers.map(c=>c.id),this.index=s.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(c=>{this.gradients[c.id]={}}),this.layoutVertexArray=new Xg,this.layoutVertexArray2=new Op,this.indexArray=new Ys,this.programConfigurations=new Rh(s.layers,s.zoom),this.segments=new Jr,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(c=>c.isStateDependent()).map(c=>c.id)}populate(s,c,f){this.hasPattern=NN("line",this.layers,c);let v=this.layers[0].layout.get("line-sort-key"),w=!v.isConstant(),S=[];for(let{feature:M,id:A,index:D,sourceLayerIndex:q}of s){let B=this.layers[0]._featureFilter.needGeometry,W=jh(M,B);if(!this.layers[0]._featureFilter.filter(new Kn(this.zoom),W,f))continue;let Y=w?v.evaluate(W,{},f):void 0,X={id:A,properties:M.properties,type:M.type,sourceLayerIndex:q,index:D,geometry:B?W.geometry:zh(M),patterns:{},sortKey:Y};S.push(X)}w&&S.sort((M,A)=>M.sortKey-A.sortKey);for(let M of S){let{geometry:A,index:D,sourceLayerIndex:q}=M;if(this.hasPattern){let B=kN("line",this.layers,M,this.zoom,c);this.patternFeatures.push(B)}else this.addFeature(M,A,D,f,{});c.featureIndex.insert(s[D].feature,A,D,q,this.index)}}update(s,c,f){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(s,c,this.stateDependentLayers,f)}addFeatures(s,c,f){for(let v of this.patternFeatures)this.addFeature(v,v.geometry,v.index,c,f)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(s){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=s.createVertexBuffer(this.layoutVertexArray2,CFe)),this.layoutVertexBuffer=s.createVertexBuffer(this.layoutVertexArray,TFe),this.indexBuffer=s.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(s),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(s){if(s.properties&&Object.prototype.hasOwnProperty.call(s.properties,"mapbox_clip_start")&&Object.prototype.hasOwnProperty.call(s.properties,"mapbox_clip_end"))return{start:+s.properties.mapbox_clip_start,end:+s.properties.mapbox_clip_end}}addFeature(s,c,f,v,w){let S=this.layers[0].layout,M=S.get("line-join").evaluate(s,{}),A=S.get("line-cap"),D=S.get("line-miter-limit"),q=S.get("line-round-limit");this.lineClips=this.lineFeatureClips(s);for(let B of c)this.addLine(B,s,M,A,D,q);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,s,f,w,v)}addLine(s,c,f,v,w,S){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let de=0;de<s.length-1;de++)this.totalDistance+=s[de].dist(s[de+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}let M=AFe[c.type]==="Polygon",A=s.length;for(;A>=2&&s[A-1].equals(s[A-2]);)A--;let D=0;for(;D<A-1&&s[D].equals(s[D+1]);)D++;if(A<(M?3:2))return;f==="bevel"&&(w=1.05);let q=this.overscaling<=16?15*ki/(512*this.overscaling):0,B=this.segments.prepareSegment(10*A,this.layoutVertexArray,this.indexArray),W,Y,X,J,le;this.e1=this.e2=-1,M&&(W=s[A-2],le=s[D].sub(W)._unit()._perp());for(let de=D;de<A;de++){if(X=de===A-1?M?s[D+1]:void 0:s[de+1],X&&s[de].equals(X))continue;le&&(J=le),W&&(Y=W),W=s[de],le=X?X.sub(W)._unit()._perp():J,J=J||le;let Ne=J.add(le);Ne.x===0&&Ne.y===0||Ne._unit();let be=J.x*le.x+J.y*le.y,Ae=Ne.x*le.x+Ne.y*le.y,He=Ae!==0?1/Ae:1/0,st=2*Math.sqrt(2-2*Ae),zt=Ae<PFe&&Y&&X,ur=J.x*le.y-J.y*le.x>0;if(zt&&de>D){let Jt=W.dist(Y);if(Jt>2*q){let Ht=W.sub(W.sub(Y)._mult(q/Jt)._round());this.updateDistance(Y,Ht),this.addCurrentVertex(Ht,J,0,0,B),Y=Ht}}let Lt=Y&&X,Tt=Lt?f:M?"butt":v;if(Lt&&Tt==="round"&&(He<S?Tt="miter":He<=2&&(Tt="fakeround")),Tt==="miter"&&He>w&&(Tt="bevel"),Tt==="bevel"&&(He>2&&(Tt="flipbevel"),He<w&&(Tt="miter")),Y&&this.updateDistance(Y,W),Tt==="miter")Ne._mult(He),this.addCurrentVertex(W,Ne,0,0,B);else if(Tt==="flipbevel"){if(He>100)Ne=le.mult(-1);else{let Jt=He*J.add(le).mag()/J.sub(le).mag();Ne._perp()._mult(Jt*(ur?-1:1))}this.addCurrentVertex(W,Ne,0,0,B),this.addCurrentVertex(W,Ne.mult(-1),0,0,B)}else if(Tt==="bevel"||Tt==="fakeround"){let Jt=-Math.sqrt(He*He-1),Ht=ur?Jt:0,Ut=ur?0:Jt;if(Y&&this.addCurrentVertex(W,J,Ht,Ut,B),Tt==="fakeround"){let Ke=Math.round(180*st/Math.PI/20);for(let tr=1;tr<Ke;tr++){let Qt=tr/Ke;if(Qt!==.5){let qn=Qt-.5;Qt+=Qt*qn*(Qt-1)*((1.0904+be*(be*(3.55645-1.43519*be)-3.2452))*qn*qn+(.848013+be*(.215638*be-1.06021)))}let _r=le.sub(J)._mult(Qt)._add(J)._unit()._mult(ur?-1:1);this.addHalfVertex(W,_r.x,_r.y,!1,ur,0,B)}}X&&this.addCurrentVertex(W,le,-Ht,-Ut,B)}else if(Tt==="butt")this.addCurrentVertex(W,Ne,0,0,B);else if(Tt==="square"){let Jt=Y?1:-1;this.addCurrentVertex(W,Ne,Jt,Jt,B)}else Tt==="round"&&(Y&&(this.addCurrentVertex(W,J,0,0,B),this.addCurrentVertex(W,J,1,1,B,!0)),X&&(this.addCurrentVertex(W,le,-1,-1,B,!0),this.addCurrentVertex(W,le,0,0,B)));if(zt&&de<A-1){let Jt=W.dist(X);if(Jt>2*q){let Ht=W.add(X.sub(W)._mult(q/Jt)._round());this.updateDistance(W,Ht),this.addCurrentVertex(Ht,le,0,0,B),W=Ht}}}}addCurrentVertex(s,c,f,v,w,S=!1){let M=c.y*v-c.x,A=-c.y-c.x*v;this.addHalfVertex(s,c.x+c.y*f,c.y-c.x*f,S,!1,f,w),this.addHalfVertex(s,M,A,S,!0,-v,w),this.distance>sK/2&&this.totalDistance===0&&(this.distance=0,this.updateScaledDistance(),this.addCurrentVertex(s,c,f,v,w,S))}addHalfVertex({x:s,y:c},f,v,w,S,M,A){let D=.5*(this.lineClips?this.scaledDistance*(sK-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((s<<1)+(w?1:0),(c<<1)+(S?1:0),Math.round(63*f)+128,Math.round(63*v)+128,1+(M===0?0:M<0?-1:1)|(63&D)<<2,D>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);let q=A.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,q),A.primitiveLength++),S?this.e2=q:this.e1=q}updateScaledDistance(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance}updateDistance(s,c){this.distance+=s.dist(c),this.updateScaledDistance()}}let lK,uK;Vt("LineBucket",zN,{omit:["layers","patternFeatures"]});var cK={get paint(){return uK=uK||new x({"line-opacity":new pr(we.paint_line["line-opacity"]),"line-color":new pr(we.paint_line["line-color"]),"line-translate":new Kt(we.paint_line["line-translate"]),"line-translate-anchor":new Kt(we.paint_line["line-translate-anchor"]),"line-width":new pr(we.paint_line["line-width"]),"line-gap-width":new pr(we.paint_line["line-gap-width"]),"line-offset":new pr(we.paint_line["line-offset"]),"line-blur":new pr(we.paint_line["line-blur"]),"line-dasharray":new Kg(we.paint_line["line-dasharray"]),"line-pattern":new Zg(we.paint_line["line-pattern"]),"line-gradient":new p_(we.paint_line["line-gradient"])})},get layout(){return lK=lK||new x({"line-cap":new Kt(we.layout_line["line-cap"]),"line-join":new pr(we.layout_line["line-join"]),"line-miter-limit":new Kt(we.layout_line["line-miter-limit"]),"line-round-limit":new Kt(we.layout_line["line-round-limit"]),"line-sort-key":new pr(we.layout_line["line-sort-key"])})}};class OFe extends pr{possiblyEvaluate(s,c){return c=new Kn(Math.floor(c.zoom),{now:c.now,fadeDuration:c.fadeDuration,zoomHistory:c.zoomHistory,transition:c.transition}),super.possiblyEvaluate(s,c)}evaluate(s,c,f,v){return c=ae({},c,{zoom:Math.floor(c.zoom)}),super.evaluate(s,c,f,v)}}let WI;class DFe extends d{constructor(s){super(s,cK),this.gradientVersion=0,WI||(WI=new OFe(cK.paint.properties["line-width"].specification),WI.useIntegerZoom=!0)}_handleSpecialPaintPropertyUpdate(s){if(s==="line-gradient"){let c=this.gradientExpression();this.stepInterpolant=!!function(f){return f._styleExpression!==void 0}(c)&&c._styleExpression.expression instanceof dp,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(s,c){super.recalculate(s,c),this.paint._values["line-floorwidth"]=WI.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,s)}createBucket(s){return new zN(s)}queryRadius(s){let c=s,f=dK(m_("line-width",this,c),m_("line-gap-width",this,c)),v=m_("line-offset",this,c);return f/2+Math.abs(v)+FI(this.paint.get("line-translate"))}queryIntersectsFeature(s,c,f,v,w,S,M){let A=BI(s,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),S.angle,M),D=M/2*dK(this.paint.get("line-width").evaluate(c,f),this.paint.get("line-gap-width").evaluate(c,f)),q=this.paint.get("line-offset").evaluate(c,f);return q&&(v=function(B,W){let Y=[];for(let X=0;X<B.length;X++){let J=B[X],le=[];for(let de=0;de<J.length;de++){let Ne=J[de-1],be=J[de],Ae=J[de+1],He=de===0?new y(0,0):be.sub(Ne)._unit()._perp(),st=de===J.length-1?new y(0,0):Ae.sub(be)._unit()._perp(),zt=He._add(st)._unit(),ur=zt.x*st.x+zt.y*st.y;ur!==0&&zt._mult(1/ur),le.push(zt._mult(W)._add(be))}Y.push(le)}return Y}(v,q*M)),function(B,W,Y){for(let X=0;X<W.length;X++){let J=W[X];if(B.length>=3){for(let le=0;le<J.length;le++)if(nv(B,J[le]))return!0}if(Bje(B,J,Y))return!0}return!1}(A,v,D)}isTileClipped(){return!0}}function dK(l,s){return s>0?s+2*l:l}let NFe=C([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),kFe=C([{name:"a_projected_pos",components:3,type:"Float32"}],4);C([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);let LFe=C([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"},{name:"a_box_real",components:2,type:"Int16"}]);C([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);let pK=C([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),qFe=C([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function RFe(l,s,c){return l.sections.forEach(f=>{f.text=function(v,w,S){let M=w.layout.get("text-transform").evaluate(S,{});return M==="uppercase"?v=v.toLocaleUpperCase():M==="lowercase"&&(v=v.toLocaleLowerCase()),Ba.applyArabicShaping&&(v=Ba.applyArabicShaping(v)),v}(f.text,s,c)}),l}C([{name:"triangle",components:3,type:"Uint16"}]),C([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),C([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",name:"collisionCircleDiameter"},{type:"Uint16",name:"textAnchorOffsetStartIndex"},{type:"Uint16",name:"textAnchorOffsetEndIndex"}]),C([{type:"Float32",name:"offsetX"}]),C([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]),C([{type:"Uint16",name:"textAnchor"},{type:"Float32",components:2,name:"textOffset"}]);let S_={"!":"\uFE15","#":"\uFF03",$:"\uFF04","%":"\uFF05","&":"\uFF06","(":"\uFE35",")":"\uFE36","*":"\uFF0A","+":"\uFF0B",",":"\uFE10","-":"\uFE32",".":"\u30FB","/":"\uFF0F",":":"\uFE13",";":"\uFE14","<":"\uFE3F","=":"\uFF1D",">":"\uFE40","?":"\uFE16","@":"\uFF20","[":"\uFE47","\\":"\uFF3C","]":"\uFE48","^":"\uFF3E",_:"\uFE33","`":"\uFF40","{":"\uFE37","|":"\u2015","}":"\uFE38","~":"\uFF5E","\xA2":"\uFFE0","\xA3":"\uFFE1","\xA5":"\uFFE5","\xA6":"\uFFE4","\xAC":"\uFFE2","\xAF":"\uFFE3","\u2013":"\uFE32","\u2014":"\uFE31","\u2018":"\uFE43","\u2019":"\uFE44","\u201C":"\uFE41","\u201D":"\uFE42","\u2026":"\uFE19","\u2027":"\u30FB","\u20A9":"\uFFE6","\u3001":"\uFE11","\u3002":"\uFE12","\u3008":"\uFE3F","\u3009":"\uFE40","\u300A":"\uFE3D","\u300B":"\uFE3E","\u300C":"\uFE41","\u300D":"\uFE42","\u300E":"\uFE43","\u300F":"\uFE44","\u3010":"\uFE3B","\u3011":"\uFE3C","\u3014":"\uFE39","\u3015":"\uFE3A","\u3016":"\uFE17","\u3017":"\uFE18","\uFF01":"\uFE15","\uFF08":"\uFE35","\uFF09":"\uFE36","\uFF0C":"\uFE10","\uFF0D":"\uFE32","\uFF0E":"\u30FB","\uFF1A":"\uFE13","\uFF1B":"\uFE14","\uFF1C":"\uFE3F","\uFF1E":"\uFE40","\uFF1F":"\uFE16","\uFF3B":"\uFE47","\uFF3D":"\uFE48","\uFF3F":"\uFE33","\uFF5B":"\uFE37","\uFF5C":"\u2015","\uFF5D":"\uFE38","\uFF5F":"\uFE35","\uFF60":"\uFE36","\uFF61":"\uFE12","\uFF62":"\uFE41","\uFF63":"\uFE42"};var Bi=24,fK=Nn,hK=function(l,s,c,f,v){var w,S,M=8*v-f-1,A=(1<<M)-1,D=A>>1,q=-7,B=c?v-1:0,W=c?-1:1,Y=l[s+B];for(B+=W,w=Y&(1<<-q)-1,Y>>=-q,q+=M;q>0;w=256*w+l[s+B],B+=W,q-=8);for(S=w&(1<<-q)-1,w>>=-q,q+=f;q>0;S=256*S+l[s+B],B+=W,q-=8);if(w===0)w=1-D;else{if(w===A)return S?NaN:1/0*(Y?-1:1);S+=Math.pow(2,f),w-=D}return(Y?-1:1)*S*Math.pow(2,w-f)},mK=function(l,s,c,f,v,w){var S,M,A,D=8*w-v-1,q=(1<<D)-1,B=q>>1,W=v===23?Math.pow(2,-24)-Math.pow(2,-77):0,Y=f?0:w-1,X=f?1:-1,J=s<0||s===0&&1/s<0?1:0;for(s=Math.abs(s),isNaN(s)||s===1/0?(M=isNaN(s)?1:0,S=q):(S=Math.floor(Math.log(s)/Math.LN2),s*(A=Math.pow(2,-S))<1&&(S--,A*=2),(s+=S+B>=1?W/A:W*Math.pow(2,1-B))*A>=2&&(S++,A/=2),S+B>=q?(M=0,S=q):S+B>=1?(M=(s*A-1)*Math.pow(2,v),S+=B):(M=s*Math.pow(2,B-1)*Math.pow(2,v),S=0));v>=8;l[c+Y]=255&M,Y+=X,M/=256,v-=8);for(S=S<<v|M,D+=v;D>0;l[c+Y]=255&S,Y+=X,S/=256,D-=8);l[c+Y-X]|=128*J};function Nn(l){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(l)?l:new Uint8Array(l||0),this.pos=0,this.type=0,this.length=this.buf.length}Nn.Varint=0,Nn.Fixed64=1,Nn.Bytes=2,Nn.Fixed32=5;var jN=4294967296,gK=1/jN,vK=typeof TextDecoder=="undefined"?null:new TextDecoder("utf-8");function nd(l){return l.type===Nn.Bytes?l.readVarint()+l.pos:l.pos+1}function sv(l,s,c){return c?4294967296*s+(l>>>0):4294967296*(s>>>0)+(l>>>0)}function yK(l,s,c){var f=s<=16383?1:s<=2097151?2:s<=268435455?3:Math.floor(Math.log(s)/(7*Math.LN2));c.realloc(f);for(var v=c.pos-1;v>=l;v--)c.buf[v+f]=c.buf[v]}function zFe(l,s){for(var c=0;c<l.length;c++)s.writeVarint(l[c])}function jFe(l,s){for(var c=0;c<l.length;c++)s.writeSVarint(l[c])}function FFe(l,s){for(var c=0;c<l.length;c++)s.writeFloat(l[c])}function BFe(l,s){for(var c=0;c<l.length;c++)s.writeDouble(l[c])}function UFe(l,s){for(var c=0;c<l.length;c++)s.writeBoolean(l[c])}function VFe(l,s){for(var c=0;c<l.length;c++)s.writeFixed32(l[c])}function $Fe(l,s){for(var c=0;c<l.length;c++)s.writeSFixed32(l[c])}function HFe(l,s){for(var c=0;c<l.length;c++)s.writeFixed64(l[c])}function WFe(l,s){for(var c=0;c<l.length;c++)s.writeSFixed64(l[c])}function GI(l,s){return(l[s]|l[s+1]<<8|l[s+2]<<16)+16777216*l[s+3]}function lv(l,s,c){l[c]=s,l[c+1]=s>>>8,l[c+2]=s>>>16,l[c+3]=s>>>24}function _K(l,s){return(l[s]|l[s+1]<<8|l[s+2]<<16)+(l[s+3]<<24)}Nn.prototype={destroy:function(){this.buf=null},readFields:function(l,s,c){for(c=c||this.length;this.pos<c;){var f=this.readVarint(),v=f>>3,w=this.pos;this.type=7&f,l(v,s,this),this.pos===w&&this.skip(f)}return s},readMessage:function(l,s){return this.readFields(l,s,this.readVarint()+this.pos)},readFixed32:function(){var l=GI(this.buf,this.pos);return this.pos+=4,l},readSFixed32:function(){var l=_K(this.buf,this.pos);return this.pos+=4,l},readFixed64:function(){var l=GI(this.buf,this.pos)+GI(this.buf,this.pos+4)*jN;return this.pos+=8,l},readSFixed64:function(){var l=GI(this.buf,this.pos)+_K(this.buf,this.pos+4)*jN;return this.pos+=8,l},readFloat:function(){var l=hK(this.buf,this.pos,!0,23,4);return this.pos+=4,l},readDouble:function(){var l=hK(this.buf,this.pos,!0,52,8);return this.pos+=8,l},readVarint:function(l){var s,c,f=this.buf;return s=127&(c=f[this.pos++]),c<128?s:(s|=(127&(c=f[this.pos++]))<<7,c<128?s:(s|=(127&(c=f[this.pos++]))<<14,c<128?s:(s|=(127&(c=f[this.pos++]))<<21,c<128?s:function(v,w,S){var M,A,D=S.buf;if(M=(112&(A=D[S.pos++]))>>4,A<128||(M|=(127&(A=D[S.pos++]))<<3,A<128)||(M|=(127&(A=D[S.pos++]))<<10,A<128)||(M|=(127&(A=D[S.pos++]))<<17,A<128)||(M|=(127&(A=D[S.pos++]))<<24,A<128)||(M|=(1&(A=D[S.pos++]))<<31,A<128))return sv(v,M,w);throw new Error("Expected varint not more than 10 bytes")}(s|=(15&(c=f[this.pos]))<<28,l,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var l=this.readVarint();return l%2==1?(l+1)/-2:l/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var l=this.readVarint()+this.pos,s=this.pos;return this.pos=l,l-s>=12&&vK?function(c,f,v){return vK.decode(c.subarray(f,v))}(this.buf,s,l):function(c,f,v){for(var w="",S=f;S<v;){var M,A,D,q=c[S],B=null,W=q>239?4:q>223?3:q>191?2:1;if(S+W>v)break;W===1?q<128&&(B=q):W===2?(192&(M=c[S+1]))==128&&(B=(31&q)<<6|63&M)<=127&&(B=null):W===3?(A=c[S+2],(192&(M=c[S+1]))==128&&(192&A)==128&&((B=(15&q)<<12|(63&M)<<6|63&A)<=2047||B>=55296&&B<=57343)&&(B=null)):W===4&&(A=c[S+2],D=c[S+3],(192&(M=c[S+1]))==128&&(192&A)==128&&(192&D)==128&&((B=(15&q)<<18|(63&M)<<12|(63&A)<<6|63&D)<=65535||B>=1114112)&&(B=null)),B===null?(B=65533,W=1):B>65535&&(B-=65536,w+=String.fromCharCode(B>>>10&1023|55296),B=56320|1023&B),w+=String.fromCharCode(B),S+=W}return w}(this.buf,s,l)},readBytes:function(){var l=this.readVarint()+this.pos,s=this.buf.subarray(this.pos,l);return this.pos=l,s},readPackedVarint:function(l,s){if(this.type!==Nn.Bytes)return l.push(this.readVarint(s));var c=nd(this);for(l=l||[];this.pos<c;)l.push(this.readVarint(s));return l},readPackedSVarint:function(l){if(this.type!==Nn.Bytes)return l.push(this.readSVarint());var s=nd(this);for(l=l||[];this.pos<s;)l.push(this.readSVarint());return l},readPackedBoolean:function(l){if(this.type!==Nn.Bytes)return l.push(this.readBoolean());var s=nd(this);for(l=l||[];this.pos<s;)l.push(this.readBoolean());return l},readPackedFloat:function(l){if(this.type!==Nn.Bytes)return l.push(this.readFloat());var s=nd(this);for(l=l||[];this.pos<s;)l.push(this.readFloat());return l},readPackedDouble:function(l){if(this.type!==Nn.Bytes)return l.push(this.readDouble());var s=nd(this);for(l=l||[];this.pos<s;)l.push(this.readDouble());return l},readPackedFixed32:function(l){if(this.type!==Nn.Bytes)return l.push(this.readFixed32());var s=nd(this);for(l=l||[];this.pos<s;)l.push(this.readFixed32());return l},readPackedSFixed32:function(l){if(this.type!==Nn.Bytes)return l.push(this.readSFixed32());var s=nd(this);for(l=l||[];this.pos<s;)l.push(this.readSFixed32());return l},readPackedFixed64:function(l){if(this.type!==Nn.Bytes)return l.push(this.readFixed64());var s=nd(this);for(l=l||[];this.pos<s;)l.push(this.readFixed64());return l},readPackedSFixed64:function(l){if(this.type!==Nn.Bytes)return l.push(this.readSFixed64());var s=nd(this);for(l=l||[];this.pos<s;)l.push(this.readSFixed64());return l},skip:function(l){var s=7&l;if(s===Nn.Varint)for(;this.buf[this.pos++]>127;);else if(s===Nn.Bytes)this.pos=this.readVarint()+this.pos;else if(s===Nn.Fixed32)this.pos+=4;else{if(s!==Nn.Fixed64)throw new Error("Unimplemented type: "+s);this.pos+=8}},writeTag:function(l,s){this.writeVarint(l<<3|s)},realloc:function(l){for(var s=this.length||16;s<this.pos+l;)s*=2;if(s!==this.length){var c=new Uint8Array(s);c.set(this.buf),this.buf=c,this.length=s}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(l){this.realloc(4),lv(this.buf,l,this.pos),this.pos+=4},writeSFixed32:function(l){this.realloc(4),lv(this.buf,l,this.pos),this.pos+=4},writeFixed64:function(l){this.realloc(8),lv(this.buf,-1&l,this.pos),lv(this.buf,Math.floor(l*gK),this.pos+4),this.pos+=8},writeSFixed64:function(l){this.realloc(8),lv(this.buf,-1&l,this.pos),lv(this.buf,Math.floor(l*gK),this.pos+4),this.pos+=8},writeVarint:function(l){(l=+l||0)>268435455||l<0?function(s,c){var f,v;if(s>=0?(f=s%4294967296|0,v=s/4294967296|0):(v=~(-s/4294967296),4294967295^(f=~(-s%4294967296))?f=f+1|0:(f=0,v=v+1|0)),s>=18446744073709552e3||s<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");c.realloc(10),function(w,S,M){M.buf[M.pos++]=127&w|128,w>>>=7,M.buf[M.pos++]=127&w|128,w>>>=7,M.buf[M.pos++]=127&w|128,w>>>=7,M.buf[M.pos++]=127&w|128,M.buf[M.pos]=127&(w>>>=7)}(f,0,c),function(w,S){var M=(7&w)<<4;S.buf[S.pos++]|=M|((w>>>=3)?128:0),w&&(S.buf[S.pos++]=127&w|((w>>>=7)?128:0),w&&(S.buf[S.pos++]=127&w|((w>>>=7)?128:0),w&&(S.buf[S.pos++]=127&w|((w>>>=7)?128:0),w&&(S.buf[S.pos++]=127&w|((w>>>=7)?128:0),w&&(S.buf[S.pos++]=127&w)))))}(v,c)}(l,this):(this.realloc(4),this.buf[this.pos++]=127&l|(l>127?128:0),l<=127||(this.buf[this.pos++]=127&(l>>>=7)|(l>127?128:0),l<=127||(this.buf[this.pos++]=127&(l>>>=7)|(l>127?128:0),l<=127||(this.buf[this.pos++]=l>>>7&127))))},writeSVarint:function(l){this.writeVarint(l<0?2*-l-1:2*l)},writeBoolean:function(l){this.writeVarint(!!l)},writeString:function(l){l=String(l),this.realloc(4*l.length),this.pos++;var s=this.pos;this.pos=function(f,v,w){for(var S,M,A=0;A<v.length;A++){if((S=v.charCodeAt(A))>55295&&S<57344){if(!M){S>56319||A+1===v.length?(f[w++]=239,f[w++]=191,f[w++]=189):M=S;continue}if(S<56320){f[w++]=239,f[w++]=191,f[w++]=189,M=S;continue}S=M-55296<<10|S-56320|65536,M=null}else M&&(f[w++]=239,f[w++]=191,f[w++]=189,M=null);S<128?f[w++]=S:(S<2048?f[w++]=S>>6|192:(S<65536?f[w++]=S>>12|224:(f[w++]=S>>18|240,f[w++]=S>>12&63|128),f[w++]=S>>6&63|128),f[w++]=63&S|128)}return w}(this.buf,l,this.pos);var c=this.pos-s;c>=128&&yK(s,c,this),this.pos=s-1,this.writeVarint(c),this.pos+=c},writeFloat:function(l){this.realloc(4),mK(this.buf,l,this.pos,!0,23,4),this.pos+=4},writeDouble:function(l){this.realloc(8),mK(this.buf,l,this.pos,!0,52,8),this.pos+=8},writeBytes:function(l){var s=l.length;this.writeVarint(s),this.realloc(s);for(var c=0;c<s;c++)this.buf[this.pos++]=l[c]},writeRawMessage:function(l,s){this.pos++;var c=this.pos;l(s,this);var f=this.pos-c;f>=128&&yK(c,f,this),this.pos=c-1,this.writeVarint(f),this.pos+=f},writeMessage:function(l,s,c){this.writeTag(l,Nn.Bytes),this.writeRawMessage(s,c)},writePackedVarint:function(l,s){s.length&&this.writeMessage(l,zFe,s)},writePackedSVarint:function(l,s){s.length&&this.writeMessage(l,jFe,s)},writePackedBoolean:function(l,s){s.length&&this.writeMessage(l,UFe,s)},writePackedFloat:function(l,s){s.length&&this.writeMessage(l,FFe,s)},writePackedDouble:function(l,s){s.length&&this.writeMessage(l,BFe,s)},writePackedFixed32:function(l,s){s.length&&this.writeMessage(l,VFe,s)},writePackedSFixed32:function(l,s){s.length&&this.writeMessage(l,$Fe,s)},writePackedFixed64:function(l,s){s.length&&this.writeMessage(l,HFe,s)},writePackedSFixed64:function(l,s){s.length&&this.writeMessage(l,WFe,s)},writeBytesField:function(l,s){this.writeTag(l,Nn.Bytes),this.writeBytes(s)},writeFixed32Field:function(l,s){this.writeTag(l,Nn.Fixed32),this.writeFixed32(s)},writeSFixed32Field:function(l,s){this.writeTag(l,Nn.Fixed32),this.writeSFixed32(s)},writeFixed64Field:function(l,s){this.writeTag(l,Nn.Fixed64),this.writeFixed64(s)},writeSFixed64Field:function(l,s){this.writeTag(l,Nn.Fixed64),this.writeSFixed64(s)},writeVarintField:function(l,s){this.writeTag(l,Nn.Varint),this.writeVarint(s)},writeSVarintField:function(l,s){this.writeTag(l,Nn.Varint),this.writeSVarint(s)},writeStringField:function(l,s){this.writeTag(l,Nn.Bytes),this.writeString(s)},writeFloatField:function(l,s){this.writeTag(l,Nn.Fixed32),this.writeFloat(s)},writeDoubleField:function(l,s){this.writeTag(l,Nn.Fixed64),this.writeDouble(s)},writeBooleanField:function(l,s){this.writeVarintField(l,!!s)}};var FN=u(fK);let BN=3;function GFe(l,s,c){l===1&&c.readMessage(YFe,s)}function YFe(l,s,c){if(l===3){let{id:f,bitmap:v,width:w,height:S,left:M,top:A,advance:D}=c.readMessage(ZFe,{});s.push({id:f,bitmap:new v_({width:w+2*BN,height:S+2*BN},v),metrics:{width:w,height:S,left:M,top:A,advance:D}})}}function ZFe(l,s,c){l===1?s.id=c.readVarint():l===2?s.bitmap=c.readBytes():l===3?s.width=c.readVarint():l===4?s.height=c.readVarint():l===5?s.left=c.readSVarint():l===6?s.top=c.readSVarint():l===7&&(s.advance=c.readVarint())}let bK=BN;function xK(l){let s=0,c=0;for(let S of l)s+=S.w*S.h,c=Math.max(c,S.w);l.sort((S,M)=>M.h-S.h);let f=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(s/.95)),c),h:1/0}],v=0,w=0;for(let S of l)for(let M=f.length-1;M>=0;M--){let A=f[M];if(!(S.w>A.w||S.h>A.h)){if(S.x=A.x,S.y=A.y,w=Math.max(w,S.y+S.h),v=Math.max(v,S.x+S.w),S.w===A.w&&S.h===A.h){let D=f.pop();M<f.length&&(f[M]=D)}else S.h===A.h?(A.x+=S.w,A.w-=S.w):S.w===A.w?(A.y+=S.h,A.h-=S.h):(f.push({x:A.x+S.w,y:A.y,w:A.w-S.w,h:S.h}),A.y+=S.h,A.h-=S.h);break}}return{w:v,h:w,fill:s/(v*w)||0}}let Va=1;class UN{constructor(s,{pixelRatio:c,version:f,stretchX:v,stretchY:w,content:S,textFitWidth:M,textFitHeight:A}){this.paddedRect=s,this.pixelRatio=c,this.stretchX=v,this.stretchY=w,this.content=S,this.version=f,this.textFitWidth=M,this.textFitHeight=A}get tl(){return[this.paddedRect.x+Va,this.paddedRect.y+Va]}get br(){return[this.paddedRect.x+this.paddedRect.w-Va,this.paddedRect.y+this.paddedRect.h-Va]}get tlbr(){return this.tl.concat(this.br)}get displaySize(){return[(this.paddedRect.w-2*Va)/this.pixelRatio,(this.paddedRect.h-2*Va)/this.pixelRatio]}}class wK{constructor(s,c){let f={},v={};this.haveRenderCallbacks=[];let w=[];this.addImages(s,f,w),this.addImages(c,v,w);let{w:S,h:M}=xK(w),A=new Zs({width:S||1,height:M||1});for(let D in s){let q=s[D],B=f[D].paddedRect;Zs.copy(q.data,A,{x:0,y:0},{x:B.x+Va,y:B.y+Va},q.data)}for(let D in c){let q=c[D],B=v[D].paddedRect,W=B.x+Va,Y=B.y+Va,X=q.data.width,J=q.data.height;Zs.copy(q.data,A,{x:0,y:0},{x:W,y:Y},q.data),Zs.copy(q.data,A,{x:0,y:J-1},{x:W,y:Y-1},{width:X,height:1}),Zs.copy(q.data,A,{x:0,y:0},{x:W,y:Y+J},{width:X,height:1}),Zs.copy(q.data,A,{x:X-1,y:0},{x:W-1,y:Y},{width:1,height:J}),Zs.copy(q.data,A,{x:0,y:0},{x:W+X,y:Y},{width:1,height:J})}this.image=A,this.iconPositions=f,this.patternPositions=v}addImages(s,c,f){for(let v in s){let w=s[v],S={x:0,y:0,w:w.data.width+2*Va,h:w.data.height+2*Va};f.push(S),c[v]=new UN(S,w),w.hasRenderCallback&&this.haveRenderCallbacks.push(v)}}patchUpdatedImages(s,c){s.dispatchRenderCallbacks(this.haveRenderCallbacks);for(let f in s.updatedImages)this.patchUpdatedImage(this.iconPositions[f],s.getImage(f),c),this.patchUpdatedImage(this.patternPositions[f],s.getImage(f),c)}patchUpdatedImage(s,c,f){if(!s||!c||s.version===c.version)return;s.version=c.version;let[v,w]=s.tl;f.update(c.data,void 0,{x:v,y:w})}}var Rp;Vt("ImagePosition",UN),Vt("ImageAtlas",wK),i.ah=void 0,(Rp=i.ah||(i.ah={}))[Rp.none=0]="none",Rp[Rp.horizontal=1]="horizontal",Rp[Rp.vertical=2]="vertical",Rp[Rp.horizontalOnly=3]="horizontalOnly";let I_=-17;class E_{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(s,c){let f=new E_;return f.scale=s||1,f.fontStack=c,f}static forImage(s){let c=new E_;return c.imageName=s,c}}class uv{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(s,c){let f=new uv;for(let v=0;v<s.sections.length;v++){let w=s.sections[v];w.image?f.addImageSection(w):f.addTextSection(w,c)}return f}length(){return this.text.length}getSection(s){return this.sections[this.sectionIndex[s]]}getSectionIndex(s){return this.sectionIndex[s]}getCharCode(s){return this.text.charCodeAt(s)}verticalizePunctuation(){this.text=function(s){let c="";for(let f=0;f<s.length;f++){let v=s.charCodeAt(f+1)||null,w=s.charCodeAt(f-1)||null;c+=v&&NI(v)&&!S_[s[f+1]]||w&&NI(w)&&!S_[s[f-1]]||!S_[s[f]]?s[f]:S_[s[f]]}return c}(this.text)}trim(){let s=0;for(let f=0;f<this.text.length&&ZI[this.text.charCodeAt(f)];f++)s++;let c=this.text.length;for(let f=this.text.length-1;f>=0&&f>=s&&ZI[this.text.charCodeAt(f)];f--)c--;this.text=this.text.substring(s,c),this.sectionIndex=this.sectionIndex.slice(s,c)}substring(s,c){let f=new uv;return f.text=this.text.substring(s,c),f.sectionIndex=this.sectionIndex.slice(s,c),f.sections=this.sections,f}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((s,c)=>Math.max(s,this.sections[c].scale),0)}addTextSection(s,c){this.text+=s.text,this.sections.push(E_.forText(s.scale,s.fontStack||c));let f=this.sections.length-1;for(let v=0;v<s.text.length;++v)this.sectionIndex.push(f)}addImageSection(s){let c=s.image?s.image.name:"";if(c.length===0)return void We("Can't add FormattedSection with an empty image.");let f=this.getNextImageSectionCharCode();f?(this.text+=String.fromCharCode(f),this.sections.push(E_.forImage(c)),this.sectionIndex.push(this.sections.length-1)):We("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function YI(l,s,c,f,v,w,S,M,A,D,q,B,W,Y,X){let J=uv.fromFeature(l,v),le;B===i.ah.vertical&&J.verticalizePunctuation();let{processBidirectionalText:de,processStyledBidirectionalText:Ne}=Ba;if(de&&J.sections.length===1){le=[];let He=de(J.toString(),VN(J,D,w,s,f,Y));for(let st of He){let zt=new uv;zt.text=st,zt.sections=J.sections;for(let ur=0;ur<st.length;ur++)zt.sectionIndex.push(0);le.push(zt)}}else if(Ne){le=[];let He=Ne(J.text,J.sectionIndex,VN(J,D,w,s,f,Y));for(let st of He){let zt=new uv;zt.text=st[0],zt.sectionIndex=st[1],zt.sections=J.sections,le.push(zt)}}else le=function(He,st){let zt=[],ur=He.text,Lt=0;for(let Tt of st)zt.push(He.substring(Lt,Tt)),Lt=Tt;return Lt<ur.length&&zt.push(He.substring(Lt,ur.length)),zt}(J,VN(J,D,w,s,f,Y));let be=[],Ae={positionedLines:be,text:J.toString(),top:q[1],bottom:q[1],left:q[0],right:q[0],writingMode:B,iconsInText:!1,verticalizable:!1};return function(He,st,zt,ur,Lt,Tt,Jt,Ht,Ut,Ke,tr,Qt){let _r=0,qn=I_,kn=0,Zi=0,xl=Ht==="right"?1:Ht==="left"?0:.5,_o=0;for(let Si of Lt){Si.trim();let Xi=Si.getMaxScale(),Ro=(Xi-1)*Bi,bo={positionedGlyphs:[],lineOffset:0};He.positionedLines[_o]=bo;let ha=bo.positionedGlyphs,xo=0;if(!Si.length()){qn+=Tt,++_o;continue}for(let $a=0;$a<Si.length();$a++){let dn=Si.getSection($a),Bn=Si.getSectionIndex($a),ei=Si.getCharCode($a),ps=0,mi=null,fv=null,Hu=null,Wu=Bi,wl=!(Ut===i.ah.horizontal||!tr&&!c_(ei)||tr&&(ZI[ei]||(Ki=ei,new RegExp("\\p{sc=Arab}","u").test(String.fromCodePoint(Ki)))));if(dn.imageName){let Qs=ur[dn.imageName];if(!Qs)continue;Hu=dn.imageName,He.iconsInText=He.iconsInText||!0,fv=Qs.paddedRect;let ao=Qs.displaySize;dn.scale=dn.scale*Bi/Qt,mi={width:ao[0],height:ao[1],left:Va,top:-bK,advance:wl?ao[1]:ao[0]},ps=Ro+(Bi-ao[1]*dn.scale),Wu=mi.advance;let id=wl?ao[0]*dn.scale-Bi*Xi:ao[1]*dn.scale-Bi*Xi;id>0&&id>xo&&(xo=id)}else{let Qs=zt[dn.fontStack],ao=Qs&&Qs[ei];if(ao&&ao.rect)fv=ao.rect,mi=ao.metrics;else{let id=st[dn.fontStack],O_=id&&id[ei];if(!O_)continue;mi=O_.metrics}ps=(Xi-dn.scale)*Bi}wl?(He.verticalizable=!0,ha.push({glyph:ei,imageName:Hu,x:_r,y:qn+ps,vertical:wl,scale:dn.scale,fontStack:dn.fontStack,sectionIndex:Bn,metrics:mi,rect:fv}),_r+=Wu*dn.scale+Ke):(ha.push({glyph:ei,imageName:Hu,x:_r,y:qn+ps,vertical:wl,scale:dn.scale,fontStack:dn.fontStack,sectionIndex:Bn,metrics:mi,rect:fv}),_r+=mi.advance*dn.scale+Ke)}ha.length!==0&&(kn=Math.max(_r-Ke,kn),JFe(ha,0,ha.length-1,xl,xo)),_r=0;let Xs=Tt*Xi+xo;bo.lineOffset=Math.max(xo,Ro),qn+=Xs,Zi=Math.max(Xs,Zi),++_o}var Ki;let da=qn-I_,{horizontalAlign:pa,verticalAlign:fa}=$N(Jt);(function(Si,Xi,Ro,bo,ha,xo,Xs,$a,dn){let Bn=(Xi-Ro)*ha,ei=0;ei=xo!==Xs?-$a*bo-I_:(-bo*dn+.5)*Xs;for(let ps of Si)for(let mi of ps.positionedGlyphs)mi.x+=Bn,mi.y+=ei})(He.positionedLines,xl,pa,fa,kn,Zi,Tt,da,Lt.length),He.top+=-fa*da,He.bottom=He.top+da,He.left+=-pa*kn,He.right=He.left+kn}(Ae,s,c,f,le,S,M,A,B,D,W,X),!function(He){for(let st of He)if(st.positionedGlyphs.length!==0)return!1;return!0}(be)&&Ae}let ZI={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},KFe={10:!0,32:!0,38:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0},XFe={40:!0};function SK(l,s,c,f,v,w){if(s.imageName){let S=f[s.imageName];return S?S.displaySize[0]*s.scale*Bi/w+v:0}{let S=c[s.fontStack],M=S&&S[l];return M?M.metrics.advance*s.scale+v:0}}function IK(l,s,c,f){let v=Math.pow(l-s,2);return f?l<s?v/2:2*v:v+Math.abs(c)*c}function QFe(l,s,c){let f=0;return l===10&&(f-=1e4),c&&(f+=150),l!==40&&l!==65288||(f+=50),s!==41&&s!==65289||(f+=50),f}function EK(l,s,c,f,v,w){let S=null,M=IK(s,c,v,w);for(let A of f){let D=IK(s-A.x,c,v,w)+A.badness;D<=M&&(S=A,M=D)}return{index:l,x:s,priorBreak:S,badness:M}}function TK(l){return l?TK(l.priorBreak).concat(l.index):[]}function VN(l,s,c,f,v,w){if(!l)return[];let S=[],M=function(B,W,Y,X,J,le){let de=0;for(let Ne=0;Ne<B.length();Ne++){let be=B.getSection(Ne);de+=SK(B.getCharCode(Ne),be,X,J,W,le)}return de/Math.max(1,Math.ceil(de/Y))}(l,s,c,f,v,w),A=l.text.indexOf("\u200B")>=0,D=0;for(let B=0;B<l.length();B++){let W=l.getSection(B),Y=l.getCharCode(B);if(ZI[Y]||(D+=SK(Y,W,f,v,s,w)),B<l.length()-1){let X=!((q=Y)<11904)&&(!!Qr["CJK Compatibility Forms"](q)||!!Qr["CJK Compatibility"](q)||!!Qr["CJK Strokes"](q)||!!Qr["CJK Symbols and Punctuation"](q)||!!Qr["Enclosed CJK Letters and Months"](q)||!!Qr["Halfwidth and Fullwidth Forms"](q)||!!Qr["Ideographic Description Characters"](q)||!!Qr["Vertical Forms"](q)||DI.test(String.fromCodePoint(q)));(KFe[Y]||X||W.imageName||B!==l.length()-2&&XFe[l.getCharCode(B+1)])&&S.push(EK(B+1,D,M,S,QFe(Y,l.getCharCode(B+1),X&&A),!1))}}var q;return TK(EK(l.length(),D,M,S,0,!0))}function $N(l){let s=.5,c=.5;switch(l){case"right":case"top-right":case"bottom-right":s=1;break;case"left":case"top-left":case"bottom-left":s=0;}switch(l){case"bottom":case"bottom-right":case"bottom-left":c=1;break;case"top":case"top-right":case"top-left":c=0;}return{horizontalAlign:s,verticalAlign:c}}function JFe(l,s,c,f,v){if(!f&&!v)return;let w=l[c],S=(l[c].x+w.metrics.advance*w.scale)*f;for(let M=s;M<=c;M++)l[M].x-=S,l[M].y+=v}function eBe(l,s,c){let{horizontalAlign:f,verticalAlign:v}=$N(c),w=s[0]-l.displaySize[0]*f,S=s[1]-l.displaySize[1]*v;return{image:l,top:S,bottom:S+l.displaySize[1],left:w,right:w+l.displaySize[0]}}function MK(l){var s,c;let f=l.left,v=l.top,w=l.right-f,S=l.bottom-v,M=(s=l.image.textFitWidth)!==null&&s!==void 0?s:"stretchOrShrink",A=(c=l.image.textFitHeight)!==null&&c!==void 0?c:"stretchOrShrink",D=(l.image.content[2]-l.image.content[0])/(l.image.content[3]-l.image.content[1]);if(A==="proportional"){if(M==="stretchOnly"&&w/S<D||M==="proportional"){let q=Math.ceil(S*D);f*=q/w,w=q}}else if(M==="proportional"&&A==="stretchOnly"&&D!==0&&w/S>D){let q=Math.ceil(w/D);v*=q/S,S=q}return{x1:f,y1:v,x2:f+w,y2:v+S}}function CK(l,s,c,f,v,w){let S=l.image,M;if(S.content){let le=S.content,de=S.pixelRatio||1;M=[le[0]/de,le[1]/de,S.displaySize[0]-le[2]/de,S.displaySize[1]-le[3]/de]}let A=s.left*w,D=s.right*w,q,B,W,Y;c==="width"||c==="both"?(Y=v[0]+A-f[3],B=v[0]+D+f[1]):(Y=v[0]+(A+D-S.displaySize[0])/2,B=Y+S.displaySize[0]);let X=s.top*w,J=s.bottom*w;return c==="height"||c==="both"?(q=v[1]+X-f[0],W=v[1]+J+f[2]):(q=v[1]+(X+J-S.displaySize[1])/2,W=q+S.displaySize[1]),{image:S,top:q,right:B,bottom:W,left:Y,collisionPadding:M}}let T_=255,$u=128,zp=T_*$u;function AK(l,s){let{expression:c}=s;if(c.kind==="constant")return{kind:"constant",layoutSize:c.evaluate(new Kn(l+1))};if(c.kind==="source")return{kind:"source"};{let{zoomStops:f,interpolationType:v}=c,w=0;for(;w<f.length&&f[w]<=l;)w++;w=Math.max(0,w-1);let S=w;for(;S<f.length&&f[S]<l+1;)S++;S=Math.min(f.length-1,S);let M=f[w],A=f[S];return c.kind==="composite"?{kind:"composite",minZoom:M,maxZoom:A,interpolationType:v}:{kind:"camera",minZoom:M,maxZoom:A,minSize:c.evaluate(new Kn(M)),maxSize:c.evaluate(new Kn(A)),interpolationType:v}}}function HN(l,s,c){let f="never",v=l.get(s);return v?f=v:l.get(c)&&(f="always"),f}let tBe=qp.VectorTileFeature.types,rBe=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function KI(l,s,c,f,v,w,S,M,A,D,q,B,W){let Y=M?Math.min(zp,Math.round(M[0])):0,X=M?Math.min(zp,Math.round(M[1])):0;l.emplaceBack(s,c,Math.round(32*f),Math.round(32*v),w,S,(Y<<1)+(A?1:0),X,16*D,16*q,256*B,256*W)}function WN(l,s,c){l.emplaceBack(s.x,s.y,c),l.emplaceBack(s.x,s.y,c),l.emplaceBack(s.x,s.y,c),l.emplaceBack(s.x,s.y,c)}function nBe(l){for(let s of l.sections)if(bN(s.text))return!0;return!1}class GN{constructor(s){this.layoutVertexArray=new Qg,this.indexArray=new Ys,this.programConfigurations=s,this.segments=new Jr,this.dynamicLayoutVertexArray=new f_,this.opacityVertexArray=new cs,this.hasVisibleVertices=!1,this.placedSymbolArray=new Xn}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(s,c,f,v){this.isEmpty()||(f&&(this.layoutVertexBuffer=s.createVertexBuffer(this.layoutVertexArray,NFe.members),this.indexBuffer=s.createIndexBuffer(this.indexArray,c),this.dynamicLayoutVertexBuffer=s.createVertexBuffer(this.dynamicLayoutVertexArray,kFe.members,!0),this.opacityVertexBuffer=s.createVertexBuffer(this.opacityVertexArray,rBe,!0),this.opacityVertexBuffer.itemSize=1),(f||v)&&this.programConfigurations.upload(s))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}Vt("SymbolBuffers",GN);class YN{constructor(s,c,f){this.layoutVertexArray=new s,this.layoutAttributes=c,this.indexArray=new f,this.segments=new Jr,this.collisionVertexArray=new Uu}upload(s){this.layoutVertexBuffer=s.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=s.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=s.createVertexBuffer(this.collisionVertexArray,LFe.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())}}Vt("CollisionBuffers",YN);class cv{constructor(s){this.collisionBoxArray=s.collisionBoxArray,this.zoom=s.zoom,this.overscaling=s.overscaling,this.layers=s.layers,this.layerIds=this.layers.map(S=>S.id),this.index=s.index,this.pixelRatio=s.pixelRatio,this.sourceLayerIndex=s.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=MN([]),this.placementViewportMatrix=MN([]);let c=this.layers[0]._unevaluatedLayout._values;this.textSizeData=AK(this.zoom,c["text-size"]),this.iconSizeData=AK(this.zoom,c["icon-size"]);let f=this.layers[0].layout,v=f.get("symbol-sort-key"),w=f.get("symbol-z-order");this.canOverlap=HN(f,"text-overlap","text-allow-overlap")!=="never"||HN(f,"icon-overlap","icon-allow-overlap")!=="never"||f.get("text-ignore-placement")||f.get("icon-ignore-placement"),this.sortFeaturesByKey=w!=="viewport-y"&&!v.isConstant(),this.sortFeaturesByY=(w==="viewport-y"||w==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,f.get("symbol-placement")==="point"&&(this.writingModes=f.get("text-writing-mode").map(S=>i.ah[S])),this.stateDependentLayerIds=this.layers.filter(S=>S.isStateDependent()).map(S=>S.id),this.sourceID=s.sourceID}createArrays(){this.text=new GN(new Rh(this.layers,this.zoom,s=>/^text/.test(s))),this.icon=new GN(new Rh(this.layers,this.zoom,s=>/^icon/.test(s))),this.glyphOffsetArray=new Qn,this.lineVertexArray=new mo,this.symbolInstances=new Kr,this.textAnchorOffsets=new Jn}calculateGlyphDependencies(s,c,f,v,w){for(let S=0;S<s.length;S++)if(c[s.charCodeAt(S)]=!0,(f||v)&&w){let M=S_[s.charAt(S)];M&&(c[M.charCodeAt(0)]=!0)}}populate(s,c,f){let v=this.layers[0],w=v.layout,S=w.get("text-font"),M=w.get("text-field"),A=w.get("icon-image"),D=(M.value.kind!=="constant"||M.value.value instanceof Ra&&!M.value.value.isEmpty()||M.value.value.toString().length>0)&&(S.value.kind!=="constant"||S.value.value.length>0),q=A.value.kind!=="constant"||!!A.value.value||Object.keys(A.parameters).length>0,B=w.get("symbol-sort-key");if(this.features=[],!D&&!q)return;let W=c.iconDependencies,Y=c.glyphDependencies,X=c.availableImages,J=new Kn(this.zoom);for(let{feature:le,id:de,index:Ne,sourceLayerIndex:be}of s){let Ae=v._featureFilter.needGeometry,He=jh(le,Ae);if(!v._featureFilter.filter(J,He,f))continue;let st,zt;if(Ae||(He.geometry=zh(le)),D){let Lt=v.getValueAndResolveTokens("text-field",He,f,X),Tt=Ra.factory(Lt),Jt=this.hasRTLText=this.hasRTLText||nBe(Tt);(!Jt||Ba.getRTLTextPluginStatus()==="unavailable"||Jt&&Ba.isParsed())&&(st=RFe(Tt,v,He))}if(q){let Lt=v.getValueAndResolveTokens("icon-image",He,f,X);zt=Lt instanceof ja?Lt:ja.fromString(Lt)}if(!st&&!zt)continue;let ur=this.sortFeaturesByKey?B.evaluate(He,{},f):void 0;if(this.features.push({id:de,text:st,icon:zt,index:Ne,sourceLayerIndex:be,geometry:He.geometry,properties:le.properties,type:tBe[le.type],sortKey:ur}),zt&&(W[zt.name]=!0),st){let Lt=S.evaluate(He,{},f).join(","),Tt=w.get("text-rotation-alignment")!=="viewport"&&w.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(i.ah.vertical)>=0;for(let Jt of st.sections)if(Jt.image)W[Jt.image.name]=!0;else{let Ht=l_(st.toString()),Ut=Jt.fontStack||Lt,Ke=Y[Ut]=Y[Ut]||{};this.calculateGlyphDependencies(Jt.text,Ke,Tt,this.allowVerticalPlacement,Ht)}}}w.get("symbol-placement")==="line"&&(this.features=function(le){let de={},Ne={},be=[],Ae=0;function He(Lt){be.push(le[Lt]),Ae++}function st(Lt,Tt,Jt){let Ht=Ne[Lt];return delete Ne[Lt],Ne[Tt]=Ht,be[Ht].geometry[0].pop(),be[Ht].geometry[0]=be[Ht].geometry[0].concat(Jt[0]),Ht}function zt(Lt,Tt,Jt){let Ht=de[Tt];return delete de[Tt],de[Lt]=Ht,be[Ht].geometry[0].shift(),be[Ht].geometry[0]=Jt[0].concat(be[Ht].geometry[0]),Ht}function ur(Lt,Tt,Jt){let Ht=Jt?Tt[0][Tt[0].length-1]:Tt[0][0];return`${Lt}:${Ht.x}:${Ht.y}`}for(let Lt=0;Lt<le.length;Lt++){let Tt=le[Lt],Jt=Tt.geometry,Ht=Tt.text?Tt.text.toString():null;if(!Ht){He(Lt);continue}let Ut=ur(Ht,Jt),Ke=ur(Ht,Jt,!0);if(Ut in Ne&&Ke in de&&Ne[Ut]!==de[Ke]){let tr=zt(Ut,Ke,Jt),Qt=st(Ut,Ke,be[tr].geometry);delete de[Ut],delete Ne[Ke],Ne[ur(Ht,be[Qt].geometry,!0)]=Qt,be[tr].geometry=null}else Ut in Ne?st(Ut,Ke,Jt):Ke in de?zt(Ut,Ke,Jt):(He(Lt),de[Ut]=Ae-1,Ne[Ke]=Ae-1)}return be.filter(Lt=>Lt.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((le,de)=>le.sortKey-de.sortKey)}update(s,c,f){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(s,c,this.layers,f),this.icon.programConfigurations.updatePaintArrays(s,c,this.layers,f))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(s){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(s),this.iconCollisionBox.upload(s)),this.text.upload(s,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(s,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(s,c){let f=this.lineVertexArray.length;if(s.segment!==void 0){let v=s.dist(c[s.segment+1]),w=s.dist(c[s.segment]),S={};for(let M=s.segment+1;M<c.length;M++)S[M]={x:c[M].x,y:c[M].y,tileUnitDistanceFromAnchor:v},M<c.length-1&&(v+=c[M+1].dist(c[M]));for(let M=s.segment||0;M>=0;M--)S[M]={x:c[M].x,y:c[M].y,tileUnitDistanceFromAnchor:w},M>0&&(w+=c[M-1].dist(c[M]));for(let M=0;M<c.length;M++){let A=S[M];this.lineVertexArray.emplaceBack(A.x,A.y,A.tileUnitDistanceFromAnchor)}}return{lineStartIndex:f,lineLength:this.lineVertexArray.length-f}}addSymbols(s,c,f,v,w,S,M,A,D,q,B,W){let Y=s.indexArray,X=s.layoutVertexArray,J=s.segments.prepareSegment(4*c.length,X,Y,this.canOverlap?S.sortKey:void 0),le=this.glyphOffsetArray.length,de=J.vertexLength,Ne=this.allowVerticalPlacement&&M===i.ah.vertical?Math.PI/2:0,be=S.text&&S.text.sections;for(let Ae=0;Ae<c.length;Ae++){let{tl:He,tr:st,bl:zt,br:ur,tex:Lt,pixelOffsetTL:Tt,pixelOffsetBR:Jt,minFontScaleX:Ht,minFontScaleY:Ut,glyphOffset:Ke,isSDF:tr,sectionIndex:Qt}=c[Ae],_r=J.vertexLength,qn=Ke[1];KI(X,A.x,A.y,He.x,qn+He.y,Lt.x,Lt.y,f,tr,Tt.x,Tt.y,Ht,Ut),KI(X,A.x,A.y,st.x,qn+st.y,Lt.x+Lt.w,Lt.y,f,tr,Jt.x,Tt.y,Ht,Ut),KI(X,A.x,A.y,zt.x,qn+zt.y,Lt.x,Lt.y+Lt.h,f,tr,Tt.x,Jt.y,Ht,Ut),KI(X,A.x,A.y,ur.x,qn+ur.y,Lt.x+Lt.w,Lt.y+Lt.h,f,tr,Jt.x,Jt.y,Ht,Ut),WN(s.dynamicLayoutVertexArray,A,Ne),Y.emplaceBack(_r,_r+1,_r+2),Y.emplaceBack(_r+1,_r+2,_r+3),J.vertexLength+=4,J.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(Ke[0]),Ae!==c.length-1&&Qt===c[Ae+1].sectionIndex||s.programConfigurations.populatePaintArrays(X.length,S,S.index,{},W,be&&be[Qt])}s.placedSymbolArray.emplaceBack(A.x,A.y,le,this.glyphOffsetArray.length-le,de,D,q,A.segment,f?f[0]:0,f?f[1]:0,v[0],v[1],M,0,!1,0,B)}_addCollisionDebugVertex(s,c,f,v,w,S){return c.emplaceBack(0,0),s.emplaceBack(f.x,f.y,v,w,Math.round(S.x),Math.round(S.y))}addCollisionDebugVertices(s,c,f,v,w,S,M){let A=w.segments.prepareSegment(4,w.layoutVertexArray,w.indexArray),D=A.vertexLength,q=w.layoutVertexArray,B=w.collisionVertexArray,W=M.anchorX,Y=M.anchorY;this._addCollisionDebugVertex(q,B,S,W,Y,new y(s,c)),this._addCollisionDebugVertex(q,B,S,W,Y,new y(f,c)),this._addCollisionDebugVertex(q,B,S,W,Y,new y(f,v)),this._addCollisionDebugVertex(q,B,S,W,Y,new y(s,v)),A.vertexLength+=4;let X=w.indexArray;X.emplaceBack(D,D+1),X.emplaceBack(D+1,D+2),X.emplaceBack(D+2,D+3),X.emplaceBack(D+3,D),A.primitiveLength+=4}addDebugCollisionBoxes(s,c,f,v){for(let w=s;w<c;w++){let S=this.collisionBoxArray.get(w);this.addCollisionDebugVertices(S.x1,S.y1,S.x2,S.y2,v?this.textCollisionBox:this.iconCollisionBox,S.anchorPoint,f)}}generateCollisionDebugBuffers(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new YN(ds,pK.members,oo),this.iconCollisionBox=new YN(ds,pK.members,oo);for(let s=0;s<this.symbolInstances.length;s++){let c=this.symbolInstances.get(s);this.addDebugCollisionBoxes(c.textBoxStartIndex,c.textBoxEndIndex,c,!0),this.addDebugCollisionBoxes(c.verticalTextBoxStartIndex,c.verticalTextBoxEndIndex,c,!0),this.addDebugCollisionBoxes(c.iconBoxStartIndex,c.iconBoxEndIndex,c,!1),this.addDebugCollisionBoxes(c.verticalIconBoxStartIndex,c.verticalIconBoxEndIndex,c,!1)}}_deserializeCollisionBoxesForSymbol(s,c,f,v,w,S,M,A,D){let q={};for(let B=c;B<f;B++){let W=s.get(B);q.textBox={x1:W.x1,y1:W.y1,x2:W.x2,y2:W.y2,anchorPointX:W.anchorPointX,anchorPointY:W.anchorPointY},q.textFeatureIndex=W.featureIndex;break}for(let B=v;B<w;B++){let W=s.get(B);q.verticalTextBox={x1:W.x1,y1:W.y1,x2:W.x2,y2:W.y2,anchorPointX:W.anchorPointX,anchorPointY:W.anchorPointY},q.verticalTextFeatureIndex=W.featureIndex;break}for(let B=S;B<M;B++){let W=s.get(B);q.iconBox={x1:W.x1,y1:W.y1,x2:W.x2,y2:W.y2,anchorPointX:W.anchorPointX,anchorPointY:W.anchorPointY},q.iconFeatureIndex=W.featureIndex;break}for(let B=A;B<D;B++){let W=s.get(B);q.verticalIconBox={x1:W.x1,y1:W.y1,x2:W.x2,y2:W.y2,anchorPointX:W.anchorPointX,anchorPointY:W.anchorPointY},q.verticalIconFeatureIndex=W.featureIndex;break}return q}deserializeCollisionBoxes(s){this.collisionArrays=[];for(let c=0;c<this.symbolInstances.length;c++){let f=this.symbolInstances.get(c);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(s,f.textBoxStartIndex,f.textBoxEndIndex,f.verticalTextBoxStartIndex,f.verticalTextBoxEndIndex,f.iconBoxStartIndex,f.iconBoxEndIndex,f.verticalIconBoxStartIndex,f.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(s,c){let f=s.placedSymbolArray.get(c),v=f.vertexStartIndex+4*f.numGlyphs;for(let w=f.vertexStartIndex;w<v;w+=4)s.indexArray.emplaceBack(w,w+1,w+2),s.indexArray.emplaceBack(w+1,w+2,w+3)}getSortedSymbolIndexes(s){if(this.sortedAngle===s&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;let c=Math.sin(s),f=Math.cos(s),v=[],w=[],S=[];for(let M=0;M<this.symbolInstances.length;++M){S.push(M);let A=this.symbolInstances.get(M);v.push(0|Math.round(c*A.anchorX+f*A.anchorY)),w.push(A.featureIndex)}return S.sort((M,A)=>v[M]-v[A]||w[A]-w[M]),S}addToSortKeyRanges(s,c){let f=this.sortKeyRanges[this.sortKeyRanges.length-1];f&&f.sortKey===c?f.symbolInstanceEnd=s+1:this.sortKeyRanges.push({sortKey:c,symbolInstanceStart:s,symbolInstanceEnd:s+1})}sortFeatures(s){if(this.sortFeaturesByY&&this.sortedAngle!==s&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(s),this.sortedAngle=s,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(let c of this.symbolInstanceIndexes){let f=this.symbolInstances.get(c);this.featureSortOrder.push(f.featureIndex),[f.rightJustifiedTextSymbolIndex,f.centerJustifiedTextSymbolIndex,f.leftJustifiedTextSymbolIndex].forEach((v,w,S)=>{v>=0&&S.indexOf(v)===w&&this.addIndicesForPlacedSymbol(this.text,v)}),f.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,f.verticalPlacedTextSymbolIndex),f.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,f.placedIconSymbolIndex),f.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,f.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}let PK,OK;Vt("SymbolBucket",cv,{omit:["layers","collisionBoxArray","features","compareText"]}),cv.MAX_GLYPHS=65535,cv.addDynamicAttributes=WN;var ZN={get paint(){return OK=OK||new x({"icon-opacity":new pr(we.paint_symbol["icon-opacity"]),"icon-color":new pr(we.paint_symbol["icon-color"]),"icon-halo-color":new pr(we.paint_symbol["icon-halo-color"]),"icon-halo-width":new pr(we.paint_symbol["icon-halo-width"]),"icon-halo-blur":new pr(we.paint_symbol["icon-halo-blur"]),"icon-translate":new Kt(we.paint_symbol["icon-translate"]),"icon-translate-anchor":new Kt(we.paint_symbol["icon-translate-anchor"]),"text-opacity":new pr(we.paint_symbol["text-opacity"]),"text-color":new pr(we.paint_symbol["text-color"],{runtimeType:fo,getOverride:l=>l.textColor,hasOverride:l=>!!l.textColor}),"text-halo-color":new pr(we.paint_symbol["text-halo-color"]),"text-halo-width":new pr(we.paint_symbol["text-halo-width"]),"text-halo-blur":new pr(we.paint_symbol["text-halo-blur"]),"text-translate":new Kt(we.paint_symbol["text-translate"]),"text-translate-anchor":new Kt(we.paint_symbol["text-translate-anchor"])})},get layout(){return PK=PK||new x({"symbol-placement":new Kt(we.layout_symbol["symbol-placement"]),"symbol-spacing":new Kt(we.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Kt(we.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new pr(we.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Kt(we.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Kt(we.layout_symbol["icon-allow-overlap"]),"icon-overlap":new Kt(we.layout_symbol["icon-overlap"]),"icon-ignore-placement":new Kt(we.layout_symbol["icon-ignore-placement"]),"icon-optional":new Kt(we.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Kt(we.layout_symbol["icon-rotation-alignment"]),"icon-size":new pr(we.layout_symbol["icon-size"]),"icon-text-fit":new Kt(we.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Kt(we.layout_symbol["icon-text-fit-padding"]),"icon-image":new pr(we.layout_symbol["icon-image"]),"icon-rotate":new pr(we.layout_symbol["icon-rotate"]),"icon-padding":new pr(we.layout_symbol["icon-padding"]),"icon-keep-upright":new Kt(we.layout_symbol["icon-keep-upright"]),"icon-offset":new pr(we.layout_symbol["icon-offset"]),"icon-anchor":new pr(we.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Kt(we.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Kt(we.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Kt(we.layout_symbol["text-rotation-alignment"]),"text-field":new pr(we.layout_symbol["text-field"]),"text-font":new pr(we.layout_symbol["text-font"]),"text-size":new pr(we.layout_symbol["text-size"]),"text-max-width":new pr(we.layout_symbol["text-max-width"]),"text-line-height":new Kt(we.layout_symbol["text-line-height"]),"text-letter-spacing":new pr(we.layout_symbol["text-letter-spacing"]),"text-justify":new pr(we.layout_symbol["text-justify"]),"text-radial-offset":new pr(we.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Kt(we.layout_symbol["text-variable-anchor"]),"text-variable-anchor-offset":new pr(we.layout_symbol["text-variable-anchor-offset"]),"text-anchor":new pr(we.layout_symbol["text-anchor"]),"text-max-angle":new Kt(we.layout_symbol["text-max-angle"]),"text-writing-mode":new Kt(we.layout_symbol["text-writing-mode"]),"text-rotate":new pr(we.layout_symbol["text-rotate"]),"text-padding":new Kt(we.layout_symbol["text-padding"]),"text-keep-upright":new Kt(we.layout_symbol["text-keep-upright"]),"text-transform":new pr(we.layout_symbol["text-transform"]),"text-offset":new pr(we.layout_symbol["text-offset"]),"text-allow-overlap":new Kt(we.layout_symbol["text-allow-overlap"]),"text-overlap":new Kt(we.layout_symbol["text-overlap"]),"text-ignore-placement":new Kt(we.layout_symbol["text-ignore-placement"]),"text-optional":new Kt(we.layout_symbol["text-optional"])})}};class DK{constructor(s){if(s.property.overrides===void 0)throw new Error("overrides must be provided to instantiate FormatSectionOverride class");this.type=s.property.overrides?s.property.overrides.runtimeType:gl,this.defaultValue=s}evaluate(s){if(s.formattedSection){let c=this.defaultValue.property.overrides;if(c&&c.hasOverride(s.formattedSection))return c.getOverride(s.formattedSection)}return s.feature&&s.featureState?this.defaultValue.evaluate(s.feature,s.featureState):this.defaultValue.property.specification.default}eachChild(s){this.defaultValue.isConstant()||s(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}Vt("FormatSectionOverride",DK,{omit:["defaultValue"]});class XI extends d{constructor(s){super(s,ZN)}recalculate(s,c){if(super.recalculate(s,c),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")==="map"?"map":"viewport"),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){let f=this.layout.get("text-writing-mode");if(f){let v=[];for(let w of f)v.indexOf(w)<0&&v.push(w);this.layout._values["text-writing-mode"]=v}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()}getValueAndResolveTokens(s,c,f,v){let w=this.layout.get(s).evaluate(c,{},f,v),S=this._unevaluatedLayout._values[s];return S.isDataDriven()||Rg(S.value)||!w?w:function(M,A){return A.replace(/{([^{}]+)}/g,(D,q)=>M&&q in M?String(M[q]):"")}(c.properties,w)}createBucket(s){return new cv(s)}queryRadius(){return 0}queryIntersectsFeature(){throw new Error("Should take a different path in FeatureIndex")}_setPaintOverrides(){for(let s of ZN.paint.overridableProperties){if(!XI.hasPaintOverride(this.layout,s))continue;let c=this.paint.get(s),f=new DK(c),v=new qg(f,c.property.specification),w=null;w=c.value.kind==="constant"||c.value.kind==="source"?new bp("source",v):new xp("composite",v,c.value.zoomStops),this.paint._values[s]=new _l(c.property,w,c.parameters)}}_handleOverridablePaintPropertyUpdate(s,c,f){return!(!this.layout||c.isDataDriven()||f.isDataDriven())&&XI.hasPaintOverride(this.layout,s)}static hasPaintOverride(s,c){let f=s.get("text-field"),v=ZN.paint.properties[c],w=!1,S=M=>{for(let A of M)if(v.overrides&&v.overrides.hasOverride(A))return void(w=!0)};if(f.value.kind==="constant"&&f.value.value instanceof Ra)S(f.value.value.sections);else if(f.value.kind==="source"){let M=D=>{w||(D instanceof Us&&Ni(D.value)===ct?S(D.value.sections):D instanceof Mg?S(D.sections):D.eachChild(M))},A=f.value;A._styleExpression&&M(A._styleExpression.expression)}return w}}let NK;var iBe={get paint(){return NK=NK||new x({"background-color":new Kt(we.paint_background["background-color"]),"background-pattern":new Kg(we.paint_background["background-pattern"]),"background-opacity":new Kt(we.paint_background["background-opacity"])})}};class oBe extends d{constructor(s){super(s,iBe)}}let kK;var aBe={get paint(){return kK=kK||new x({"raster-opacity":new Kt(we.paint_raster["raster-opacity"]),"raster-hue-rotate":new Kt(we.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Kt(we.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Kt(we.paint_raster["raster-brightness-max"]),"raster-saturation":new Kt(we.paint_raster["raster-saturation"]),"raster-contrast":new Kt(we.paint_raster["raster-contrast"]),"raster-resampling":new Kt(we.paint_raster["raster-resampling"]),"raster-fade-duration":new Kt(we.paint_raster["raster-fade-duration"])})}};class sBe extends d{constructor(s){super(s,aBe)}}class lBe extends d{constructor(s){super(s,{}),this.onAdd=c=>{this.implementation.onAdd&&this.implementation.onAdd(c,c.painter.context.gl)},this.onRemove=c=>{this.implementation.onRemove&&this.implementation.onRemove(c,c.painter.context.gl)},this.implementation=s}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){throw new Error("Custom layers cannot be serialized")}}class uBe{constructor(s){this._methodToThrottle=s,this._triggered=!1,typeof MessageChannel!="undefined"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._methodToThrottle()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._methodToThrottle()},0))}remove(){delete this._channel,this._methodToThrottle=()=>{}}}let KN=6371008.8;class jp{constructor(s,c){if(isNaN(s)||isNaN(c))throw new Error(`Invalid LngLat object: (${s}, ${c})`);if(this.lng=+s,this.lat=+c,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new jp(ee(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(s){let c=Math.PI/180,f=this.lat*c,v=s.lat*c,w=Math.sin(f)*Math.sin(v)+Math.cos(f)*Math.cos(v)*Math.cos((s.lng-this.lng)*c);return KN*Math.acos(Math.min(w,1))}static convert(s){if(s instanceof jp)return s;if(Array.isArray(s)&&(s.length===2||s.length===3))return new jp(Number(s[0]),Number(s[1]));if(!Array.isArray(s)&&typeof s=="object"&&s!==null)return new jp(Number("lng"in s?s.lng:s.lon),Number(s.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}let LK=2*Math.PI*KN;function qK(l){return LK*Math.cos(l*Math.PI/180)}function RK(l){return(180+l)/360}function zK(l){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+l*Math.PI/360)))/360}function jK(l,s){return l/qK(s)}function XN(l){return 360/Math.PI*Math.atan(Math.exp((180-360*l)*Math.PI/180))-90}class M_{constructor(s,c,f=0){this.x=+s,this.y=+c,this.z=+f}static fromLngLat(s,c=0){let f=jp.convert(s);return new M_(RK(f.lng),zK(f.lat),jK(c,f.lat))}toLngLat(){return new jp(360*this.x-180,XN(this.y))}toAltitude(){return this.z*qK(XN(this.y))}meterInMercatorCoordinateUnits(){return 1/LK*(s=XN(this.y),1/Math.cos(s*Math.PI/180));var s}}function FK(l,s,c){var f=2*Math.PI*6378137/256/Math.pow(2,c);return[l*f-2*Math.PI*6378137/2,s*f-2*Math.PI*6378137/2]}class QN{constructor(s,c,f){if(!function(v,w,S){return!(v<0||v>25||S<0||S>=Math.pow(2,v)||w<0||w>=Math.pow(2,v))}(s,c,f))throw new Error(`x=${c}, y=${f}, z=${s} outside of bounds. 0<=x<${Math.pow(2,s)}, 0<=y<${Math.pow(2,s)} 0<=z<=25 `);this.z=s,this.x=c,this.y=f,this.key=C_(0,s,s,c,f)}equals(s){return this.z===s.z&&this.x===s.x&&this.y===s.y}url(s,c,f){let v=(S=this.y,M=this.z,A=FK(256*(w=this.x),256*(S=Math.pow(2,M)-S-1),M),D=FK(256*(w+1),256*(S+1),M),A[0]+","+A[1]+","+D[0]+","+D[1]);var w,S,M,A,D;let q=function(B,W,Y){let X,J="";for(let le=B;le>0;le--)X=1<<le-1,J+=(W&X?1:0)+(Y&X?2:0);return J}(this.z,this.x,this.y);return s[(this.x+this.y)%s.length].replace(/{prefix}/g,(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(f==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace(/{ratio}/g,c>1?"@2x":"").replace(/{quadkey}/g,q).replace(/{bbox-epsg-3857}/g,v)}isChildOf(s){let c=this.z-s.z;return c>0&&s.x===this.x>>c&&s.y===this.y>>c}getTilePoint(s){let c=Math.pow(2,this.z);return new y((s.x*c-this.x)*ki,(s.y*c-this.y)*ki)}toString(){return`${this.z}/${this.x}/${this.y}`}}class BK{constructor(s,c){this.wrap=s,this.canonical=c,this.key=C_(s,c.z,c.z,c.x,c.y)}}class Ks{constructor(s,c,f,v,w){if(s<f)throw new Error(`overscaledZ should be >= z; overscaledZ = ${s}; z = ${f}`);this.overscaledZ=s,this.wrap=c,this.canonical=new QN(f,+v,+w),this.key=C_(c,s,f,v,w)}clone(){return new Ks(this.overscaledZ,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)}equals(s){return this.overscaledZ===s.overscaledZ&&this.wrap===s.wrap&&this.canonical.equals(s.canonical)}scaledTo(s){if(s>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${s}; overscaledZ = ${this.overscaledZ}`);let c=this.canonical.z-s;return s>this.canonical.z?new Ks(s,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Ks(s,this.wrap,s,this.canonical.x>>c,this.canonical.y>>c)}calculateScaledKey(s,c){if(s>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${s}; overscaledZ = ${this.overscaledZ}`);let f=this.canonical.z-s;return s>this.canonical.z?C_(this.wrap*+c,s,this.canonical.z,this.canonical.x,this.canonical.y):C_(this.wrap*+c,s,s,this.canonical.x>>f,this.canonical.y>>f)}isChildOf(s){if(s.wrap!==this.wrap)return!1;let c=this.canonical.z-s.canonical.z;return s.overscaledZ===0||s.overscaledZ<this.overscaledZ&&s.canonical.x===this.canonical.x>>c&&s.canonical.y===this.canonical.y>>c}children(s){if(this.overscaledZ>=s)return[new Ks(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];let c=this.canonical.z+1,f=2*this.canonical.x,v=2*this.canonical.y;return[new Ks(c,this.wrap,c,f,v),new Ks(c,this.wrap,c,f+1,v),new Ks(c,this.wrap,c,f,v+1),new Ks(c,this.wrap,c,f+1,v+1)]}isLessThan(s){return this.wrap<s.wrap||!(this.wrap>s.wrap)&&(this.overscaledZ<s.overscaledZ||!(this.overscaledZ>s.overscaledZ)&&(this.canonical.x<s.canonical.x||!(this.canonical.x>s.canonical.x)&&this.canonical.y<s.canonical.y))}wrapped(){return new Ks(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(s){return new Ks(this.overscaledZ,s,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new BK(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}getTilePoint(s){return this.canonical.getTilePoint(new M_(s.x-this.wrap,s.y))}}function C_(l,s,c,f,v){(l*=2)<0&&(l=-1*l-1);let w=1<<c;return(w*w*l+w*v+f).toString(36)+c.toString(36)+s.toString(36)}Vt("CanonicalTileID",QN),Vt("OverscaledTileID",Ks,{omit:["posMatrix"]});class UK{constructor(s,c,f,v=1,w=1,S=1,M=0){if(this.uid=s,c.height!==c.width)throw new RangeError("DEM tiles must be square");if(f&&!["mapbox","terrarium","custom"].includes(f))return void We(`"${f}" is not a valid encoding type. Valid types include "mapbox", "terrarium" and "custom".`);this.stride=c.height;let A=this.dim=c.height-2;switch(this.data=new Uint32Array(c.data.buffer),f){case"terrarium":this.redFactor=256,this.greenFactor=1,this.blueFactor=1/256,this.baseShift=32768;break;case"custom":this.redFactor=v,this.greenFactor=w,this.blueFactor=S,this.baseShift=M;break;default:this.redFactor=6553.6,this.greenFactor=25.6,this.blueFactor=.1,this.baseShift=1e4;}for(let D=0;D<A;D++)this.data[this._idx(-1,D)]=this.data[this._idx(0,D)],this.data[this._idx(A,D)]=this.data[this._idx(A-1,D)],this.data[this._idx(D,-1)]=this.data[this._idx(D,0)],this.data[this._idx(D,A)]=this.data[this._idx(D,A-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(A,-1)]=this.data[this._idx(A-1,0)],this.data[this._idx(-1,A)]=this.data[this._idx(0,A-1)],this.data[this._idx(A,A)]=this.data[this._idx(A-1,A-1)],this.min=Number.MAX_SAFE_INTEGER,this.max=Number.MIN_SAFE_INTEGER;for(let D=0;D<A;D++)for(let q=0;q<A;q++){let B=this.get(D,q);B>this.max&&(this.max=B),B<this.min&&(this.min=B)}}get(s,c){let f=new Uint8Array(this.data.buffer),v=4*this._idx(s,c);return this.unpack(f[v],f[v+1],f[v+2])}getUnpackVector(){return[this.redFactor,this.greenFactor,this.blueFactor,this.baseShift]}_idx(s,c){if(s<-1||s>=this.dim+1||c<-1||c>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(c+1)*this.stride+(s+1)}unpack(s,c,f){return s*this.redFactor+c*this.greenFactor+f*this.blueFactor-this.baseShift}getPixels(){return new Zs({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(s,c,f){if(this.dim!==s.dim)throw new Error("dem dimension mismatch");let v=c*this.dim,w=c*this.dim+this.dim,S=f*this.dim,M=f*this.dim+this.dim;switch(c){case-1:v=w-1;break;case 1:w=v+1;}switch(f){case-1:S=M-1;break;case 1:M=S+1;}let A=-c*this.dim,D=-f*this.dim;for(let q=S;q<M;q++)for(let B=v;B<w;B++)this.data[this._idx(B,q)]=s.data[this._idx(B+A,q+D)]}}Vt("DEMData",UK);class VK{constructor(s){this._stringToNumber={},this._numberToString=[];for(let c=0;c<s.length;c++){let f=s[c];this._stringToNumber[f]=c,this._numberToString[c]=f}}encode(s){return this._stringToNumber[s]}decode(s){if(s>=this._numberToString.length)throw new Error(`Out of bounds. Index requested n=${s} can't be >= this._numberToString.length ${this._numberToString.length}`);return this._numberToString[s]}}class $K{constructor(s,c,f,v,w){this.type="Feature",this._vectorTileFeature=s,s._z=c,s._x=f,s._y=v,this.properties=s.properties,this.id=w}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry}set geometry(s){this._geometry=s}toJSON(){let s={geometry:this.geometry};for(let c in this)c!=="_geometry"&&c!=="_vectorTileFeature"&&(s[c]=this[c]);return s}}class HK{constructor(s,c){this.tileID=s,this.x=s.canonical.x,this.y=s.canonical.y,this.z=s.canonical.z,this.grid=new Ep(ki,16,0),this.grid3D=new Ep(ki,16,0),this.featureIndexArray=new Lo,this.promoteId=c}insert(s,c,f,v,w,S){let M=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(f,v,w);let A=S?this.grid3D:this.grid;for(let D=0;D<c.length;D++){let q=c[D],B=[1/0,1/0,-1/0,-1/0];for(let W=0;W<q.length;W++){let Y=q[W];B[0]=Math.min(B[0],Y.x),B[1]=Math.min(B[1],Y.y),B[2]=Math.max(B[2],Y.x),B[3]=Math.max(B[3],Y.y)}B[0]<ki&&B[1]<ki&&B[2]>=0&&B[3]>=0&&A.insert(M,B[0],B[1],B[2],B[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=new qp.VectorTile(new FN(this.rawTileData)).layers,this.sourceLayerCoder=new VK(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers}query(s,c,f,v){this.loadVTLayers();let w=s.params||{},S=ki/s.tileSize/s.scale,M=G1(w.filter),A=s.queryGeometry,D=s.queryPadding*S,q=GK(A),B=this.grid.query(q.minX-D,q.minY-D,q.maxX+D,q.maxY+D),W=GK(s.cameraQueryGeometry),Y=this.grid3D.query(W.minX-D,W.minY-D,W.maxX+D,W.maxY+D,(le,de,Ne,be)=>function(Ae,He,st,zt,ur){for(let Tt of Ae)if(He<=Tt.x&&st<=Tt.y&&zt>=Tt.x&&ur>=Tt.y)return!0;let Lt=[new y(He,st),new y(He,ur),new y(zt,ur),new y(zt,st)];if(Ae.length>2){for(let Tt of Lt)if(nv(Ae,Tt))return!0}for(let Tt=0;Tt<Ae.length-1;Tt++)if(Vje(Ae[Tt],Ae[Tt+1],Lt))return!0;return!1}(s.cameraQueryGeometry,le-D,de-D,Ne+D,be+D));for(let le of Y)B.push(le);B.sort(cBe);let X={},J;for(let le=0;le<B.length;le++){let de=B[le];if(de===J)continue;J=de;let Ne=this.featureIndexArray.get(de),be=null;this.loadMatchingFeature(X,Ne.bucketIndex,Ne.sourceLayerIndex,Ne.featureIndex,M,w.layers,w.availableImages,c,f,v,(Ae,He,st)=>(be||(be=zh(Ae)),He.queryIntersectsFeature(A,Ae,st,be,this.z,s.transform,S,s.pixelPosMatrix)))}return X}loadMatchingFeature(s,c,f,v,w,S,M,A,D,q,B){let W=this.bucketLayerIDs[c];if(S&&!function(le,de){for(let Ne=0;Ne<le.length;Ne++)if(de.indexOf(le[Ne])>=0)return!0;return!1}(S,W))return;let Y=this.sourceLayerCoder.decode(f),X=this.vtLayers[Y].feature(v);if(w.needGeometry){let le=jh(X,!0);if(!w.filter(new Kn(this.tileID.overscaledZ),le,this.tileID.canonical))return}else if(!w.filter(new Kn(this.tileID.overscaledZ),X))return;let J=this.getId(X,Y);for(let le=0;le<W.length;le++){let de=W[le];if(S&&S.indexOf(de)<0)continue;let Ne=A[de];if(!Ne)continue;let be={};J&&q&&(be=q.getState(Ne.sourceLayer||"_geojsonTileLayer",J));let Ae=ae({},D[de]);Ae.paint=WK(Ae.paint,Ne.paint,X,be,M),Ae.layout=WK(Ae.layout,Ne.layout,X,be,M);let He=!B||B(X,Ne,be);if(!He)continue;let st=new $K(X,this.z,this.x,this.y,J);st.layer=Ae;let zt=s[de];zt===void 0&&(zt=s[de]=[]),zt.push({featureIndex:v,feature:st,intersectionZ:He})}}lookupSymbolFeatures(s,c,f,v,w,S,M,A){let D={};this.loadVTLayers();let q=G1(w);for(let B of s)this.loadMatchingFeature(D,f,v,B,q,S,M,A,c);return D}hasLayer(s){for(let c of this.bucketLayerIDs)for(let f of c)if(s===f)return!0;return!1}getId(s,c){let f=s.id;return this.promoteId&&(f=s.properties[typeof this.promoteId=="string"?this.promoteId:this.promoteId[c]],typeof f=="boolean"&&(f=Number(f))),f}}function WK(l,s,c,f,v){return ge(l,(w,S)=>{let M=s instanceof kh?s.get(S):null;return M&&M.evaluate?M.evaluate(c,f,v):M})}function GK(l){let s=1/0,c=1/0,f=-1/0,v=-1/0;for(let w of l)s=Math.min(s,w.x),c=Math.min(c,w.y),f=Math.max(f,w.x),v=Math.max(v,w.y);return{minX:s,minY:c,maxX:f,maxY:v}}function cBe(l,s){return s-l}function YK(l,s,c,f,v){let w=[];for(let S=0;S<l.length;S++){let M=l[S],A;for(let D=0;D<M.length-1;D++){let q=M[D],B=M[D+1];q.x<s&&B.x<s||(q.x<s?q=new y(s,q.y+(s-q.x)/(B.x-q.x)*(B.y-q.y))._round():B.x<s&&(B=new y(s,q.y+(s-q.x)/(B.x-q.x)*(B.y-q.y))._round()),q.y<c&&B.y<c||(q.y<c?q=new y(q.x+(c-q.y)/(B.y-q.y)*(B.x-q.x),c)._round():B.y<c&&(B=new y(q.x+(c-q.y)/(B.y-q.y)*(B.x-q.x),c)._round()),q.x>=f&&B.x>=f||(q.x>=f?q=new y(f,q.y+(f-q.x)/(B.x-q.x)*(B.y-q.y))._round():B.x>=f&&(B=new y(f,q.y+(f-q.x)/(B.x-q.x)*(B.y-q.y))._round()),q.y>=v&&B.y>=v||(q.y>=v?q=new y(q.x+(v-q.y)/(B.y-q.y)*(B.x-q.x),v)._round():B.y>=v&&(B=new y(q.x+(v-q.y)/(B.y-q.y)*(B.x-q.x),v)._round()),A&&q.equals(A[A.length-1])||(A=[q],w.push(A)),A.push(B)))))}}return w}Vt("FeatureIndex",HK,{omit:["rawTileData","sourceLayerCoder"]});class Fp extends y{constructor(s,c,f,v){super(s,c),this.angle=f,v!==void 0&&(this.segment=v)}clone(){return new Fp(this.x,this.y,this.angle,this.segment)}}function ZK(l,s,c,f,v){if(s.segment===void 0||c===0)return!0;let w=s,S=s.segment+1,M=0;for(;M>-c/2;){if(S--,S<0)return!1;M-=l[S].dist(w),w=l[S]}M+=l[S].dist(l[S+1]),S++;let A=[],D=0;for(;M<c/2;){let q=l[S],B=l[S+1];if(!B)return!1;let W=l[S-1].angleTo(q)-q.angleTo(B);for(W=Math.abs((W+3*Math.PI)%(2*Math.PI)-Math.PI),A.push({distance:M,angleDelta:W}),D+=W;M-A[0].distance>f;)D-=A.shift().angleDelta;if(D>v)return!1;S++,M+=q.dist(B)}return!0}function KK(l){let s=0;for(let c=0;c<l.length-1;c++)s+=l[c].dist(l[c+1]);return s}function XK(l,s,c){return l?.6*s*c:0}function QK(l,s){return Math.max(l?l.right-l.left:0,s?s.right-s.left:0)}function dBe(l,s,c,f,v,w){let S=XK(c,v,w),M=QK(c,f)*w,A=0,D=KK(l)/2;for(let q=0;q<l.length-1;q++){let B=l[q],W=l[q+1],Y=B.dist(W);if(A+Y>D){let X=(D-A)/Y,J=sa.number(B.x,W.x,X),le=sa.number(B.y,W.y,X),de=new Fp(J,le,W.angleTo(B),q);return de._round(),!S||ZK(l,de,M,S,s)?de:void 0}A+=Y}}function pBe(l,s,c,f,v,w,S,M,A){let D=XK(f,w,S),q=QK(f,v),B=q*S,W=l[0].x===0||l[0].x===A||l[0].y===0||l[0].y===A;return s-B<s/4&&(s=B+s/4),JK(l,W?s/2*M%s:(q/2+2*w)*S*M%s,s,D,c,B,W,!1,A)}function JK(l,s,c,f,v,w,S,M,A){let D=w/2,q=KK(l),B=0,W=s-c,Y=[];for(let X=0;X<l.length-1;X++){let J=l[X],le=l[X+1],de=J.dist(le),Ne=le.angleTo(J);for(;W+c<B+de;){W+=c;let be=(W-B)/de,Ae=sa.number(J.x,le.x,be),He=sa.number(J.y,le.y,be);if(Ae>=0&&Ae<A&&He>=0&&He<A&&W-D>=0&&W+D<=q){let st=new Fp(Ae,He,Ne,X);st._round(),f&&!ZK(l,st,w,f,v)||Y.push(st)}}B+=de}return M||Y.length||S||(Y=JK(l,B/2,c,f,v,w,S,!0,A)),Y}Vt("Anchor",Fp);let dv=Va;function eX(l,s,c,f){let v=[],w=l.image,S=w.pixelRatio,M=w.paddedRect.w-2*dv,A=w.paddedRect.h-2*dv,D={x1:l.left,y1:l.top,x2:l.right,y2:l.bottom},q=w.stretchX||[[0,M]],B=w.stretchY||[[0,A]],W=(Ke,tr)=>Ke+tr[1]-tr[0],Y=q.reduce(W,0),X=B.reduce(W,0),J=M-Y,le=A-X,de=0,Ne=Y,be=0,Ae=X,He=0,st=J,zt=0,ur=le;if(w.content&&f){let Ke=w.content,tr=Ke[2]-Ke[0],Qt=Ke[3]-Ke[1];(w.textFitWidth||w.textFitHeight)&&(D=MK(l)),de=QI(q,0,Ke[0]),be=QI(B,0,Ke[1]),Ne=QI(q,Ke[0],Ke[2]),Ae=QI(B,Ke[1],Ke[3]),He=Ke[0]-de,zt=Ke[1]-be,st=tr-Ne,ur=Qt-Ae}let Lt=D.x1,Tt=D.y1,Jt=D.x2-Lt,Ht=D.y2-Tt,Ut=(Ke,tr,Qt,_r)=>{let qn=JI(Ke.stretch-de,Ne,Jt,Lt),kn=eE(Ke.fixed-He,st,Ke.stretch,Y),Zi=JI(tr.stretch-be,Ae,Ht,Tt),xl=eE(tr.fixed-zt,ur,tr.stretch,X),_o=JI(Qt.stretch-de,Ne,Jt,Lt),Ki=eE(Qt.fixed-He,st,Qt.stretch,Y),da=JI(_r.stretch-be,Ae,Ht,Tt),pa=eE(_r.fixed-zt,ur,_r.stretch,X),fa=new y(qn,Zi),Si=new y(_o,Zi),Xi=new y(_o,da),Ro=new y(qn,da),bo=new y(kn/S,xl/S),ha=new y(Ki/S,pa/S),xo=s*Math.PI/180;if(xo){let dn=Math.sin(xo),Bn=Math.cos(xo),ei=[Bn,-dn,dn,Bn];fa._matMult(ei),Si._matMult(ei),Ro._matMult(ei),Xi._matMult(ei)}let Xs=Ke.stretch+Ke.fixed,$a=tr.stretch+tr.fixed;return{tl:fa,tr:Si,bl:Ro,br:Xi,tex:{x:w.paddedRect.x+dv+Xs,y:w.paddedRect.y+dv+$a,w:Qt.stretch+Qt.fixed-Xs,h:_r.stretch+_r.fixed-$a},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:bo,pixelOffsetBR:ha,minFontScaleX:st/S/Jt,minFontScaleY:ur/S/Ht,isSDF:c}};if(f&&(w.stretchX||w.stretchY)){let Ke=tX(q,J,Y),tr=tX(B,le,X);for(let Qt=0;Qt<Ke.length-1;Qt++){let _r=Ke[Qt],qn=Ke[Qt+1];for(let kn=0;kn<tr.length-1;kn++)v.push(Ut(_r,tr[kn],qn,tr[kn+1]))}}else v.push(Ut({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:M+1},{fixed:0,stretch:A+1}));return v}function QI(l,s,c){let f=0;for(let v of l)f+=Math.max(s,Math.min(c,v[1]))-Math.max(s,Math.min(c,v[0]));return f}function tX(l,s,c){let f=[{fixed:-dv,stretch:0}];for(let[v,w]of l){let S=f[f.length-1];f.push({fixed:v-S.stretch,stretch:S.stretch}),f.push({fixed:v-S.stretch,stretch:S.stretch+(w-v)})}return f.push({fixed:s+dv,stretch:c}),f}function JI(l,s,c,f){return l/s*c+f}function eE(l,s,c,f){return l-s*c/f}class tE{constructor(s,c,f,v,w,S,M,A,D,q){var B;if(this.boxStartIndex=s.length,D){let W=S.top,Y=S.bottom,X=S.collisionPadding;X&&(W-=X[1],Y+=X[3]);let J=Y-W;J>0&&(J=Math.max(10,J),this.circleDiameter=J)}else{let W=!((B=S.image)===null||B===void 0)&&B.content&&(S.image.textFitWidth||S.image.textFitHeight)?MK(S):{x1:S.left,y1:S.top,x2:S.right,y2:S.bottom};W.y1=W.y1*M-A[0],W.y2=W.y2*M+A[2],W.x1=W.x1*M-A[3],W.x2=W.x2*M+A[1];let Y=S.collisionPadding;if(Y&&(W.x1-=Y[0]*M,W.y1-=Y[1]*M,W.x2+=Y[2]*M,W.y2+=Y[3]*M),q){let X=new y(W.x1,W.y1),J=new y(W.x2,W.y1),le=new y(W.x1,W.y2),de=new y(W.x2,W.y2),Ne=q*Math.PI/180;X._rotate(Ne),J._rotate(Ne),le._rotate(Ne),de._rotate(Ne),W.x1=Math.min(X.x,J.x,le.x,de.x),W.x2=Math.max(X.x,J.x,le.x,de.x),W.y1=Math.min(X.y,J.y,le.y,de.y),W.y2=Math.max(X.y,J.y,le.y,de.y)}s.emplaceBack(c.x,c.y,W.x1,W.y1,W.x2,W.y2,f,v,w)}this.boxEndIndex=s.length}}class fBe{constructor(s=[],c=(f,v)=>f<v?-1:f>v?1:0){if(this.data=s,this.length=this.data.length,this.compare=c,this.length>0)for(let f=(this.length>>1)-1;f>=0;f--)this._down(f)}push(s){this.data.push(s),this._up(this.length++)}pop(){if(this.length===0)return;let s=this.data[0],c=this.data.pop();return--this.length>0&&(this.data[0]=c,this._down(0)),s}peek(){return this.data[0]}_up(s){let{data:c,compare:f}=this,v=c[s];for(;s>0;){let w=s-1>>1,S=c[w];if(f(v,S)>=0)break;c[s]=S,s=w}c[s]=v}_down(s){let{data:c,compare:f}=this,v=this.length>>1,w=c[s];for(;s<v;){let S=1+(s<<1),M=S+1;if(M<this.length&&f(c[M],c[S])<0&&(S=M),f(c[S],w)>=0)break;c[s]=c[S],s=S}c[s]=w}}function hBe(l,s=1,c=!1){let f=1/0,v=1/0,w=-1/0,S=-1/0,M=l[0];for(let Y=0;Y<M.length;Y++){let X=M[Y];(!Y||X.x<f)&&(f=X.x),(!Y||X.y<v)&&(v=X.y),(!Y||X.x>w)&&(w=X.x),(!Y||X.y>S)&&(S=X.y)}let A=Math.min(w-f,S-v),D=A/2,q=new fBe([],mBe);if(A===0)return new y(f,v);for(let Y=f;Y<w;Y+=A)for(let X=v;X<S;X+=A)q.push(new pv(Y+D,X+D,D,l));let B=function(Y){let X=0,J=0,le=0,de=Y[0];for(let Ne=0,be=de.length,Ae=be-1;Ne<be;Ae=Ne++){let He=de[Ne],st=de[Ae],zt=He.x*st.y-st.x*He.y;J+=(He.x+st.x)*zt,le+=(He.y+st.y)*zt,X+=3*zt}return new pv(J/X,le/X,0,Y)}(l),W=q.length;for(;q.length;){let Y=q.pop();(Y.d>B.d||!B.d)&&(B=Y,c&&console.log("found best %d after %d probes",Math.round(1e4*Y.d)/1e4,W)),Y.max-B.d<=s||(D=Y.h/2,q.push(new pv(Y.p.x-D,Y.p.y-D,D,l)),q.push(new pv(Y.p.x+D,Y.p.y-D,D,l)),q.push(new pv(Y.p.x-D,Y.p.y+D,D,l)),q.push(new pv(Y.p.x+D,Y.p.y+D,D,l)),W+=4)}return c&&(console.log(`num probes: ${W}`),console.log(`best distance: ${B.d}`)),B.p}function mBe(l,s){return s.max-l.max}function pv(l,s,c,f){this.p=new y(l,s),this.h=c,this.d=function(v,w){let S=!1,M=1/0;for(let A=0;A<w.length;A++){let D=w[A];for(let q=0,B=D.length,W=B-1;q<B;W=q++){let Y=D[q],X=D[W];Y.y>v.y!=X.y>v.y&&v.x<(X.x-Y.x)*(v.y-Y.y)/(X.y-Y.y)+Y.x&&(S=!S),M=Math.min(M,zZ(v,Y,X))}}return(S?1:-1)*Math.sqrt(M)}(this.p,f),this.max=this.d+this.h*Math.SQRT2}var yo;i.aq=void 0,(yo=i.aq||(i.aq={}))[yo.center=1]="center",yo[yo.left=2]="left",yo[yo.right=3]="right",yo[yo.top=4]="top",yo[yo.bottom=5]="bottom",yo[yo["top-left"]=6]="top-left",yo[yo["top-right"]=7]="top-right",yo[yo["bottom-left"]=8]="bottom-left",yo[yo["bottom-right"]=9]="bottom-right";let Bp=7,JN=Number.POSITIVE_INFINITY;function rX(l,s){return s[1]!==JN?function(c,f,v){let w=0,S=0;switch(f=Math.abs(f),v=Math.abs(v),c){case"top-right":case"top-left":case"top":S=v-Bp;break;case"bottom-right":case"bottom-left":case"bottom":S=-v+Bp;}switch(c){case"top-right":case"bottom-right":case"right":w=-f;break;case"top-left":case"bottom-left":case"left":w=f;}return[w,S]}(l,s[0],s[1]):function(c,f){let v=0,w=0;f<0&&(f=0);let S=f/Math.SQRT2;switch(c){case"top-right":case"top-left":w=S-Bp;break;case"bottom-right":case"bottom-left":w=-S+Bp;break;case"bottom":w=-f+Bp;break;case"top":w=f-Bp;}switch(c){case"top-right":case"bottom-right":v=-S;break;case"top-left":case"bottom-left":v=S;break;case"left":v=f;break;case"right":v=-f;}return[v,w]}(l,s[0])}function nX(l,s,c){var f;let v=l.layout,w=(f=v.get("text-variable-anchor-offset"))===null||f===void 0?void 0:f.evaluate(s,{},c);if(w){let M=w.values,A=[];for(let D=0;D<M.length;D+=2){let q=A[D]=M[D],B=M[D+1].map(W=>W*Bi);q.startsWith("top")?B[1]-=Bp:q.startsWith("bottom")&&(B[1]+=Bp),A[D+1]=B}return new os(A)}let S=v.get("text-variable-anchor");if(S){let M;M=l._unevaluatedLayout.getValue("text-radial-offset")!==void 0?[v.get("text-radial-offset").evaluate(s,{},c)*Bi,JN]:v.get("text-offset").evaluate(s,{},c).map(D=>D*Bi);let A=[];for(let D of S)A.push(D,rX(D,M));return new os(A)}return null}function ek(l){switch(l){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left";}return"center"}function gBe(l,s,c,f,v,w,S,M,A,D,q){let B=w.textMaxSize.evaluate(s,{});B===void 0&&(B=S);let W=l.layers[0].layout,Y=W.get("icon-offset").evaluate(s,{},q),X=oX(c.horizontal),J=S/24,le=l.tilePixelRatio*J,de=l.tilePixelRatio*B/24,Ne=l.tilePixelRatio*M,be=l.tilePixelRatio*W.get("symbol-spacing"),Ae=W.get("text-padding")*l.tilePixelRatio,He=function(Ke,tr,Qt,_r=1){let qn=Ke.get("icon-padding").evaluate(tr,{},Qt),kn=qn&&qn.values;return[kn[0]*_r,kn[1]*_r,kn[2]*_r,kn[3]*_r]}(W,s,q,l.tilePixelRatio),st=W.get("text-max-angle")/180*Math.PI,zt=W.get("text-rotation-alignment")!=="viewport"&&W.get("symbol-placement")!=="point",ur=W.get("icon-rotation-alignment")==="map"&&W.get("symbol-placement")!=="point",Lt=W.get("symbol-placement"),Tt=be/2,Jt=W.get("icon-text-fit"),Ht;f&&Jt!=="none"&&(l.allowVerticalPlacement&&c.vertical&&(Ht=CK(f,c.vertical,Jt,W.get("icon-text-fit-padding"),Y,J)),X&&(f=CK(f,X,Jt,W.get("icon-text-fit-padding"),Y,J)));let Ut=(Ke,tr)=>{tr.x<0||tr.x>=ki||tr.y<0||tr.y>=ki||function(Qt,_r,qn,kn,Zi,xl,_o,Ki,da,pa,fa,Si,Xi,Ro,bo,ha,xo,Xs,$a,dn,Bn,ei,ps,mi,fv){let Hu=Qt.addToLineVertexArray(_r,qn),Wu,wl,Qs,ao,id=0,O_=0,uX=0,cX=0,lk=-1,uk=-1,od={},dX=Jg("");if(Qt.allowVerticalPlacement&&kn.vertical){let zo=Ki.layout.get("text-rotate").evaluate(Bn,{},mi)+90;Qs=new tE(da,_r,pa,fa,Si,kn.vertical,Xi,Ro,bo,zo),_o&&(ao=new tE(da,_r,pa,fa,Si,_o,xo,Xs,bo,zo))}if(Zi){let zo=Ki.layout.get("icon-rotate").evaluate(Bn,{}),Js=Ki.layout.get("icon-text-fit")!=="none",Bh=eX(Zi,zo,ps,Js),cu=_o?eX(_o,zo,ps,Js):void 0;wl=new tE(da,_r,pa,fa,Si,Zi,xo,Xs,!1,zo),id=4*Bh.length;let Uh=Qt.iconSizeData,Gu=null;Uh.kind==="source"?(Gu=[$u*Ki.layout.get("icon-size").evaluate(Bn,{})],Gu[0]>zp&&We(`${Qt.layerIds[0]}: Value for "icon-size" is >= ${T_}. Reduce your "icon-size".`)):Uh.kind==="composite"&&(Gu=[$u*ei.compositeIconSizes[0].evaluate(Bn,{},mi),$u*ei.compositeIconSizes[1].evaluate(Bn,{},mi)],(Gu[0]>zp||Gu[1]>zp)&&We(`${Qt.layerIds[0]}: Value for "icon-size" is >= ${T_}. Reduce your "icon-size".`)),Qt.addSymbols(Qt.icon,Bh,Gu,dn,$a,Bn,i.ah.none,_r,Hu.lineStartIndex,Hu.lineLength,-1,mi),lk=Qt.icon.placedSymbolArray.length-1,cu&&(O_=4*cu.length,Qt.addSymbols(Qt.icon,cu,Gu,dn,$a,Bn,i.ah.vertical,_r,Hu.lineStartIndex,Hu.lineLength,-1,mi),uk=Qt.icon.placedSymbolArray.length-1)}let pX=Object.keys(kn.horizontal);for(let zo of pX){let Js=kn.horizontal[zo];if(!Wu){dX=Jg(Js.text);let cu=Ki.layout.get("text-rotate").evaluate(Bn,{},mi);Wu=new tE(da,_r,pa,fa,Si,Js,Xi,Ro,bo,cu)}let Bh=Js.positionedLines.length===1;if(uX+=iX(Qt,_r,Js,xl,Ki,bo,Bn,ha,Hu,kn.vertical?i.ah.horizontal:i.ah.horizontalOnly,Bh?pX:[zo],od,lk,ei,mi),Bh)break}kn.vertical&&(cX+=iX(Qt,_r,kn.vertical,xl,Ki,bo,Bn,ha,Hu,i.ah.vertical,["vertical"],od,uk,ei,mi));let _Be=Wu?Wu.boxStartIndex:Qt.collisionBoxArray.length,bBe=Wu?Wu.boxEndIndex:Qt.collisionBoxArray.length,xBe=Qs?Qs.boxStartIndex:Qt.collisionBoxArray.length,wBe=Qs?Qs.boxEndIndex:Qt.collisionBoxArray.length,SBe=wl?wl.boxStartIndex:Qt.collisionBoxArray.length,IBe=wl?wl.boxEndIndex:Qt.collisionBoxArray.length,EBe=ao?ao.boxStartIndex:Qt.collisionBoxArray.length,TBe=ao?ao.boxEndIndex:Qt.collisionBoxArray.length,uu=-1,nE=(zo,Js)=>zo&&zo.circleDiameter?Math.max(zo.circleDiameter,Js):Js;uu=nE(Wu,uu),uu=nE(Qs,uu),uu=nE(wl,uu),uu=nE(ao,uu);let fX=uu>-1?1:0;fX&&(uu*=fv/Bi),Qt.glyphOffsetArray.length>=cv.MAX_GLYPHS&&We("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),Bn.sortKey!==void 0&&Qt.addToSortKeyRanges(Qt.symbolInstances.length,Bn.sortKey);let MBe=nX(Ki,Bn,mi),[CBe,ABe]=function(zo,Js){let Bh=zo.length,cu=Js==null?void 0:Js.values;if((cu==null?void 0:cu.length)>0)for(let Uh=0;Uh<cu.length;Uh+=2){let Gu=cu[Uh+1];zo.emplaceBack(i.aq[cu[Uh]],Gu[0],Gu[1])}return[Bh,zo.length]}(Qt.textAnchorOffsets,MBe);Qt.symbolInstances.emplaceBack(_r.x,_r.y,od.right>=0?od.right:-1,od.center>=0?od.center:-1,od.left>=0?od.left:-1,od.vertical||-1,lk,uk,dX,_Be,bBe,xBe,wBe,SBe,IBe,EBe,TBe,pa,uX,cX,id,O_,fX,0,Xi,uu,CBe,ABe)}(l,tr,Ke,c,f,v,Ht,l.layers[0],l.collisionBoxArray,s.index,s.sourceLayerIndex,l.index,le,[Ae,Ae,Ae,Ae],zt,A,Ne,He,ur,Y,s,w,D,q,S)};if(Lt==="line")for(let Ke of YK(s.geometry,0,0,ki,ki)){let tr=pBe(Ke,be,st,c.vertical||X,f,24,de,l.overscaling,ki);for(let Qt of tr)X&&vBe(l,X.text,Tt,Qt)||Ut(Ke,Qt)}else if(Lt==="line-center"){for(let Ke of s.geometry)if(Ke.length>1){let tr=dBe(Ke,st,c.vertical||X,f,24,de);tr&&Ut(Ke,tr)}}else if(s.type==="Polygon")for(let Ke of Ag(s.geometry,0)){let tr=hBe(Ke,16);Ut(Ke[0],new Fp(tr.x,tr.y,0))}else if(s.type==="LineString")for(let Ke of s.geometry)Ut(Ke,new Fp(Ke[0].x,Ke[0].y,0));else if(s.type==="Point")for(let Ke of s.geometry)for(let tr of Ke)Ut([tr],new Fp(tr.x,tr.y,0))}function iX(l,s,c,f,v,w,S,M,A,D,q,B,W,Y,X){let J=function(Ne,be,Ae,He,st,zt,ur,Lt){let Tt=He.layout.get("text-rotate").evaluate(zt,{})*Math.PI/180,Jt=[];for(let Ht of be.positionedLines)for(let Ut of Ht.positionedGlyphs){if(!Ut.rect)continue;let Ke=Ut.rect||{},tr=bK+1,Qt=!0,_r=1,qn=0,kn=(st||Lt)&&Ut.vertical,Zi=Ut.metrics.advance*Ut.scale/2;if(Lt&&be.verticalizable&&(qn=Ht.lineOffset/2-(Ut.imageName?-(Bi-Ut.metrics.width*Ut.scale)/2:(Ut.scale-1)*Bi)),Ut.imageName){let dn=ur[Ut.imageName];Qt=dn.sdf,_r=dn.pixelRatio,tr=Va/_r}let xl=st?[Ut.x+Zi,Ut.y]:[0,0],_o=st?[0,0]:[Ut.x+Zi+Ae[0],Ut.y+Ae[1]-qn],Ki=[0,0];kn&&(Ki=_o,_o=[0,0]);let da=Ut.metrics.isDoubleResolution?2:1,pa=(Ut.metrics.left-tr)*Ut.scale-Zi+_o[0],fa=(-Ut.metrics.top-tr)*Ut.scale+_o[1],Si=pa+Ke.w/da*Ut.scale/_r,Xi=fa+Ke.h/da*Ut.scale/_r,Ro=new y(pa,fa),bo=new y(Si,fa),ha=new y(pa,Xi),xo=new y(Si,Xi);if(kn){let dn=new y(-Zi,Zi-I_),Bn=-Math.PI/2,ei=Bi/2-Zi,ps=new y(5-I_-ei,-(Ut.imageName?ei:0)),mi=new y(...Ki);Ro._rotateAround(Bn,dn)._add(ps)._add(mi),bo._rotateAround(Bn,dn)._add(ps)._add(mi),ha._rotateAround(Bn,dn)._add(ps)._add(mi),xo._rotateAround(Bn,dn)._add(ps)._add(mi)}if(Tt){let dn=Math.sin(Tt),Bn=Math.cos(Tt),ei=[Bn,-dn,dn,Bn];Ro._matMult(ei),bo._matMult(ei),ha._matMult(ei),xo._matMult(ei)}let Xs=new y(0,0),$a=new y(0,0);Jt.push({tl:Ro,tr:bo,bl:ha,br:xo,tex:Ke,writingMode:be.writingMode,glyphOffset:xl,sectionIndex:Ut.sectionIndex,isSDF:Qt,pixelOffsetTL:Xs,pixelOffsetBR:$a,minFontScaleX:0,minFontScaleY:0})}return Jt}(0,c,M,v,w,S,f,l.allowVerticalPlacement),le=l.textSizeData,de=null;le.kind==="source"?(de=[$u*v.layout.get("text-size").evaluate(S,{})],de[0]>zp&&We(`${l.layerIds[0]}: Value for "text-size" is >= ${T_}. Reduce your "text-size".`)):le.kind==="composite"&&(de=[$u*Y.compositeTextSizes[0].evaluate(S,{},X),$u*Y.compositeTextSizes[1].evaluate(S,{},X)],(de[0]>zp||de[1]>zp)&&We(`${l.layerIds[0]}: Value for "text-size" is >= ${T_}. Reduce your "text-size".`)),l.addSymbols(l.text,J,de,M,w,S,D,s,A.lineStartIndex,A.lineLength,W,X);for(let Ne of q)B[Ne]=l.text.placedSymbolArray.length-1;return 4*J.length}function oX(l){for(let s in l)return l[s];return null}function vBe(l,s,c,f){let v=l.compareText;if(s in v){let w=v[s];for(let S=w.length-1;S>=0;S--)if(f.dist(w[S])<c)return!0}else v[s]=[];return v[s].push(f),!1}let aX=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class tk{static from(s){if(!(s instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");let[c,f]=new Uint8Array(s,0,2);if(c!==219)throw new Error("Data does not appear to be in a KDBush format.");let v=f>>4;if(v!==1)throw new Error(`Got v${v} data when expected v1.`);let w=aX[15&f];if(!w)throw new Error("Unrecognized array type.");let[S]=new Uint16Array(s,2,1),[M]=new Uint32Array(s,4,1);return new tk(M,S,w,s)}constructor(s,c=64,f=Float64Array,v){if(isNaN(s)||s<0)throw new Error(`Unpexpected numItems value: ${s}.`);this.numItems=+s,this.nodeSize=Math.min(Math.max(+c,2),65535),this.ArrayType=f,this.IndexArrayType=s<65536?Uint16Array:Uint32Array;let w=aX.indexOf(this.ArrayType),S=2*s*this.ArrayType.BYTES_PER_ELEMENT,M=s*this.IndexArrayType.BYTES_PER_ELEMENT,A=(8-M%8)%8;if(w<0)throw new Error(`Unexpected typed array class: ${f}.`);v&&v instanceof ArrayBuffer?(this.data=v,this.ids=new this.IndexArrayType(this.data,8,s),this.coords=new this.ArrayType(this.data,8+M+A,2*s),this._pos=2*s,this._finished=!0):(this.data=new ArrayBuffer(8+S+M+A),this.ids=new this.IndexArrayType(this.data,8,s),this.coords=new this.ArrayType(this.data,8+M+A,2*s),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+w]),new Uint16Array(this.data,2,1)[0]=c,new Uint32Array(this.data,4,1)[0]=s)}add(s,c){let f=this._pos>>1;return this.ids[f]=f,this.coords[this._pos++]=s,this.coords[this._pos++]=c,f}finish(){let s=this._pos>>1;if(s!==this.numItems)throw new Error(`Added ${s} items when expected ${this.numItems}.`);return rk(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(s,c,f,v){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");let{ids:w,coords:S,nodeSize:M}=this,A=[0,w.length-1,0],D=[];for(;A.length;){let q=A.pop()||0,B=A.pop()||0,W=A.pop()||0;if(B-W<=M){for(let le=W;le<=B;le++){let de=S[2*le],Ne=S[2*le+1];de>=s&&de<=f&&Ne>=c&&Ne<=v&&D.push(w[le])}continue}let Y=W+B>>1,X=S[2*Y],J=S[2*Y+1];X>=s&&X<=f&&J>=c&&J<=v&&D.push(w[Y]),(q===0?s<=X:c<=J)&&(A.push(W),A.push(Y-1),A.push(1-q)),(q===0?f>=X:v>=J)&&(A.push(Y+1),A.push(B),A.push(1-q))}return D}within(s,c,f){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");let{ids:v,coords:w,nodeSize:S}=this,M=[0,v.length-1,0],A=[],D=f*f;for(;M.length;){let q=M.pop()||0,B=M.pop()||0,W=M.pop()||0;if(B-W<=S){for(let le=W;le<=B;le++)lX(w[2*le],w[2*le+1],s,c)<=D&&A.push(v[le]);continue}let Y=W+B>>1,X=w[2*Y],J=w[2*Y+1];lX(X,J,s,c)<=D&&A.push(v[Y]),(q===0?s-f<=X:c-f<=J)&&(M.push(W),M.push(Y-1),M.push(1-q)),(q===0?s+f>=X:c+f>=J)&&(M.push(Y+1),M.push(B),M.push(1-q))}return A}}function rk(l,s,c,f,v,w){if(v-f<=c)return;let S=f+v>>1;sX(l,s,S,f,v,w),rk(l,s,c,f,S-1,1-w),rk(l,s,c,S+1,v,1-w)}function sX(l,s,c,f,v,w){for(;v>f;){if(v-f>600){let D=v-f+1,q=c-f+1,B=Math.log(D),W=.5*Math.exp(2*B/3),Y=.5*Math.sqrt(B*W*(D-W)/D)*(q-D/2<0?-1:1);sX(l,s,c,Math.max(f,Math.floor(c-q*W/D+Y)),Math.min(v,Math.floor(c+(D-q)*W/D+Y)),w)}let S=s[2*c+w],M=f,A=v;for(A_(l,s,f,c),s[2*v+w]>S&&A_(l,s,f,v);M<A;){for(A_(l,s,M,A),M++,A--;s[2*M+w]<S;)M++;for(;s[2*A+w]>S;)A--}s[2*f+w]===S?A_(l,s,f,A):(A++,A_(l,s,A,v)),A<=c&&(f=A+1),c<=A&&(v=A-1)}}function A_(l,s,c,f){nk(l,c,f),nk(s,2*c,2*f),nk(s,2*c+1,2*f+1)}function nk(l,s,c){let f=l[s];l[s]=l[c],l[c]=f}function lX(l,s,c,f){let v=l-c,w=s-f;return v*v+w*w}var ik;i.bg=void 0,(ik=i.bg||(i.bg={})).create="create",ik.load="load",ik.fullLoad="fullLoad";let rE=null,P_=[],ok=1e3/60,ak="loadTime",sk="fullLoadTime",yBe={mark(l){performance.mark(l)},frame(l){let s=l;rE!=null&&P_.push(s-rE),rE=s},clearMetrics(){rE=null,P_=[],performance.clearMeasures(ak),performance.clearMeasures(sk);for(let l in i.bg)performance.clearMarks(i.bg[l])},getPerformanceMetrics(){performance.measure(ak,i.bg.create,i.bg.load),performance.measure(sk,i.bg.create,i.bg.fullLoad);let l=performance.getEntriesByName(ak)[0].duration,s=performance.getEntriesByName(sk)[0].duration,c=P_.length,f=1/(P_.reduce((w,S)=>w+S,0)/c/1e3),v=P_.filter(w=>w>ok).reduce((w,S)=>w+(S-ok)/ok,0);return{loadTime:l,fullLoadTime:s,fps:f,percentDroppedFrames:v/(c+v)*100,totalFrames:c}}};i.$=class extends U{},i.A=iv,i.B=mN,i.C=function(l){if(Je==null){let s=l.navigator?l.navigator.userAgent:null;Je=!!l.safari||!(!s||!(/\b(iPad|iPhone|iPod)\b/.test(s)||s.match("Safari")&&!s.match("Chrome")))}return Je},i.D=Kt,i.E=Nt,i.F=class{constructor(l,s){this.target=l,this.mapId=s,this.resolveRejects={},this.tasks={},this.taskQueue=[],this.abortControllers={},this.messageHandlers={},this.invoker=new uBe(()=>this.process()),this.subscription=function(c,f,v,w){return c.addEventListener(f,v,!1),{unsubscribe:()=>{c.removeEventListener(f,v,!1)}}}(this.target,"message",c=>this.receive(c)),this.globalScope=qe(self)?l:window}registerMessageHandler(l,s){this.messageHandlers[l]=s}sendAsync(l,s){return new Promise((c,f)=>{let v=Math.round(1e18*Math.random()).toString(36).substring(0,10);this.resolveRejects[v]={resolve:c,reject:f},s&&s.signal.addEventListener("abort",()=>{delete this.resolveRejects[v];let M={id:v,type:"<cancel>",origin:location.origin,targetMapId:l.targetMapId,sourceMapId:this.mapId};this.target.postMessage(M)},{once:!0});let w=[],S=Object.assign(Object.assign({},l),{id:v,sourceMapId:this.mapId,origin:location.origin,data:Tp(l.data,w)});this.target.postMessage(S,{transfer:w})})}receive(l){let s=l.data,c=s.id;if(!(s.origin!=="file://"&&location.origin!=="file://"&&s.origin!=="resource://android"&&location.origin!=="resource://android"&&s.origin!==location.origin||s.targetMapId&&this.mapId!==s.targetMapId)){if(s.type==="<cancel>"){delete this.tasks[c];let f=this.abortControllers[c];return delete this.abortControllers[c],void(f&&f.abort())}if(qe(self)||s.mustQueue)return this.tasks[c]=s,this.taskQueue.push(c),void this.invoker.trigger();this.processTask(c,s)}}process(){if(this.taskQueue.length===0)return;let l=this.taskQueue.shift(),s=this.tasks[l];delete this.tasks[l],this.taskQueue.length>0&&this.invoker.trigger(),s&&this.processTask(l,s)}processTask(l,s){return o(this,void 0,void 0,function*(){if(s.type==="<response>"){let v=this.resolveRejects[l];return delete this.resolveRejects[l],v?void(s.error?v.reject(Mp(s.error)):v.resolve(Mp(s.data))):void 0}if(!this.messageHandlers[s.type])return void this.completeTask(l,new Error(`Could not find a registered handler for ${s.type}, map ID: ${this.mapId}, available handlers: ${Object.keys(this.messageHandlers).join(", ")}`));let c=Mp(s.data),f=new AbortController;this.abortControllers[l]=f;try{let v=yield this.messageHandlers[s.type](s.sourceMapId,c,f);this.completeTask(l,null,v)}catch(v){this.completeTask(l,v)}})}completeTask(l,s,c){let f=[];delete this.abortControllers[l];let v={id:l,type:"<response>",sourceMapId:this.mapId,origin:location.origin,error:s?Tp(s):null,data:Tp(c,f)};this.target.postMessage(v,{transfer:f})}remove(){this.invoker.remove(),this.subscription.unsubscribe()}},i.G=ot,i.H=function(){var l=new iv(16);return iv!=Float32Array&&(l[1]=0,l[2]=0,l[3]=0,l[4]=0,l[6]=0,l[7]=0,l[8]=0,l[9]=0,l[11]=0,l[12]=0,l[13]=0,l[14]=0),l[0]=1,l[5]=1,l[10]=1,l[15]=1,l},i.I=UN,i.J=function(l,s,c){var f,v,w,S,M,A,D,q,B,W,Y,X,J=c[0],le=c[1],de=c[2];return s===l?(l[12]=s[0]*J+s[4]*le+s[8]*de+s[12],l[13]=s[1]*J+s[5]*le+s[9]*de+s[13],l[14]=s[2]*J+s[6]*le+s[10]*de+s[14],l[15]=s[3]*J+s[7]*le+s[11]*de+s[15]):(v=s[1],w=s[2],S=s[3],M=s[4],A=s[5],D=s[6],q=s[7],B=s[8],W=s[9],Y=s[10],X=s[11],l[0]=f=s[0],l[1]=v,l[2]=w,l[3]=S,l[4]=M,l[5]=A,l[6]=D,l[7]=q,l[8]=B,l[9]=W,l[10]=Y,l[11]=X,l[12]=f*J+M*le+B*de+s[12],l[13]=v*J+A*le+W*de+s[13],l[14]=w*J+D*le+Y*de+s[14],l[15]=S*J+q*le+X*de+s[15]),l},i.K=function(l,s,c){var f=c[0],v=c[1],w=c[2];return l[0]=s[0]*f,l[1]=s[1]*f,l[2]=s[2]*f,l[3]=s[3]*f,l[4]=s[4]*v,l[5]=s[5]*v,l[6]=s[6]*v,l[7]=s[7]*v,l[8]=s[8]*w,l[9]=s[9]*w,l[10]=s[10]*w,l[11]=s[11]*w,l[12]=s[12],l[13]=s[13],l[14]=s[14],l[15]=s[15],l},i.L=UZ,i.M=function(l,s){let c={};for(let f=0;f<s.length;f++){let v=s[f];v in l&&(c[v]=l[v])}return c},i.N=jp,i.O=RK,i.P=y,i.Q=zK,i.R=Zs,i.S=Ks,i.T=Yg,i.U=j,i.V=k,i.W=Re,i.X=ki,i.Y=C,i.Z=M_,i._=o,i.a=Fe,i.a$=function(l,s){var c=l[0],f=l[1],v=l[2],w=l[3],S=l[4],M=l[5],A=l[6],D=l[7],q=l[8],B=l[9],W=l[10],Y=l[11],X=l[12],J=l[13],le=l[14],de=l[15],Ne=s[0],be=s[1],Ae=s[2],He=s[3],st=s[4],zt=s[5],ur=s[6],Lt=s[7],Tt=s[8],Jt=s[9],Ht=s[10],Ut=s[11],Ke=s[12],tr=s[13],Qt=s[14],_r=s[15];return Math.abs(c-Ne)<=ca*Math.max(1,Math.abs(c),Math.abs(Ne))&&Math.abs(f-be)<=ca*Math.max(1,Math.abs(f),Math.abs(be))&&Math.abs(v-Ae)<=ca*Math.max(1,Math.abs(v),Math.abs(Ae))&&Math.abs(w-He)<=ca*Math.max(1,Math.abs(w),Math.abs(He))&&Math.abs(S-st)<=ca*Math.max(1,Math.abs(S),Math.abs(st))&&Math.abs(M-zt)<=ca*Math.max(1,Math.abs(M),Math.abs(zt))&&Math.abs(A-ur)<=ca*Math.max(1,Math.abs(A),Math.abs(ur))&&Math.abs(D-Lt)<=ca*Math.max(1,Math.abs(D),Math.abs(Lt))&&Math.abs(q-Tt)<=ca*Math.max(1,Math.abs(q),Math.abs(Tt))&&Math.abs(B-Jt)<=ca*Math.max(1,Math.abs(B),Math.abs(Jt))&&Math.abs(W-Ht)<=ca*Math.max(1,Math.abs(W),Math.abs(Ht))&&Math.abs(Y-Ut)<=ca*Math.max(1,Math.abs(Y),Math.abs(Ut))&&Math.abs(X-Ke)<=ca*Math.max(1,Math.abs(X),Math.abs(Ke))&&Math.abs(J-tr)<=ca*Math.max(1,Math.abs(J),Math.abs(tr))&&Math.abs(le-Qt)<=ca*Math.max(1,Math.abs(le),Math.abs(Qt))&&Math.abs(de-_r)<=ca*Math.max(1,Math.abs(de),Math.abs(_r))},i.a0=Jr,i.a1=QN,i.a2=at,i.a3=l=>{let s=window.document.createElement("video");return s.muted=!0,new Promise(c=>{s.onloadstart=()=>{c(s)};for(let f of l){let v=window.document.createElement("source");Te(f)||(s.crossOrigin="Anonymous"),v.src=f,s.appendChild(v)}})},i.a4=function(){return ue++},i.a5=qt,i.a6=cv,i.a7=G1,i.a8=jh,i.a9=$K,i.aA=function(l){if(l.type==="custom")return new lBe(l);switch(l.type){case"background":return new oBe(l);case"circle":return new Wje(l);case"fill":return new uFe(l);case"fill-extrusion":return new IFe(l);case"heatmap":return new Yje(l);case"hillshade":return new Kje(l);case"line":return new DFe(l);case"raster":return new sBe(l);case"symbol":return new XI(l);}},i.aB=_e,i.aC=function(l,s){if(!l)return[{command:"setStyle",args:[s]}];let c=[];try{if(!vt(l.version,s.version))return[{command:"setStyle",args:[s]}];vt(l.center,s.center)||c.push({command:"setCenter",args:[s.center]}),vt(l.zoom,s.zoom)||c.push({command:"setZoom",args:[s.zoom]}),vt(l.bearing,s.bearing)||c.push({command:"setBearing",args:[s.bearing]}),vt(l.pitch,s.pitch)||c.push({command:"setPitch",args:[s.pitch]}),vt(l.sprite,s.sprite)||c.push({command:"setSprite",args:[s.sprite]}),vt(l.glyphs,s.glyphs)||c.push({command:"setGlyphs",args:[s.glyphs]}),vt(l.transition,s.transition)||c.push({command:"setTransition",args:[s.transition]}),vt(l.light,s.light)||c.push({command:"setLight",args:[s.light]}),vt(l.terrain,s.terrain)||c.push({command:"setTerrain",args:[s.terrain]}),vt(l.sky,s.sky)||c.push({command:"setSky",args:[s.sky]}),vt(l.projection,s.projection)||c.push({command:"setProjection",args:[s.projection]});let f={},v=[];(function(S,M,A,D){let q;for(q in M=M||{},S=S||{})Object.prototype.hasOwnProperty.call(S,q)&&(Object.prototype.hasOwnProperty.call(M,q)||Wt(q,A,D));for(q in M)Object.prototype.hasOwnProperty.call(M,q)&&(Object.prototype.hasOwnProperty.call(S,q)?vt(S[q],M[q])||(S[q].type==="geojson"&&M[q].type==="geojson"&&Gr(S,M,q)?Yt(A,{command:"setGeoJSONSourceData",args:[q,M[q].data]}):hr(q,M,A,D)):Or(q,M,A))})(l.sources,s.sources,v,f);let w=[];l.layers&&l.layers.forEach(S=>{"source"in S&&f[S.source]?c.push({command:"removeLayer",args:[S.id]}):w.push(S)}),c=c.concat(v),function(S,M,A){M=M||[];let D=(S=S||[]).map(ir),q=M.map(ir),B=S.reduce(tn,{}),W=M.reduce(tn,{}),Y=D.slice(),X=Object.create(null),J,le,de,Ne,be;for(let Ae=0,He=0;Ae<D.length;Ae++)J=D[Ae],Object.prototype.hasOwnProperty.call(W,J)?He++:(Yt(A,{command:"removeLayer",args:[J]}),Y.splice(Y.indexOf(J,He),1));for(let Ae=0,He=0;Ae<q.length;Ae++)J=q[q.length-1-Ae],Y[Y.length-1-Ae]!==J&&(Object.prototype.hasOwnProperty.call(B,J)?(Yt(A,{command:"removeLayer",args:[J]}),Y.splice(Y.lastIndexOf(J,Y.length-He),1)):He++,Ne=Y[Y.length-Ae],Yt(A,{command:"addLayer",args:[W[J],Ne]}),Y.splice(Y.length-Ae,0,J),X[J]=!0);for(let Ae=0;Ae<q.length;Ae++)if(J=q[Ae],le=B[J],de=W[J],!X[J]&&!vt(le,de))if(vt(le.source,de.source)&&vt(le["source-layer"],de["source-layer"])&&vt(le.type,de.type)){for(be in Yr(le.layout,de.layout,A,J,null,"setLayoutProperty"),Yr(le.paint,de.paint,A,J,null,"setPaintProperty"),vt(le.filter,de.filter)||Yt(A,{command:"setFilter",args:[J,de.filter]}),vt(le.minzoom,de.minzoom)&&vt(le.maxzoom,de.maxzoom)||Yt(A,{command:"setLayerZoomRange",args:[J,de.minzoom,de.maxzoom]}),le)Object.prototype.hasOwnProperty.call(le,be)&&be!=="layout"&&be!=="paint"&&be!=="filter"&&be!=="metadata"&&be!=="minzoom"&&be!=="maxzoom"&&(be.indexOf("paint.")===0?Yr(le[be],de[be],A,J,be.slice(6),"setPaintProperty"):vt(le[be],de[be])||Yt(A,{command:"setLayerProperty",args:[J,be,de[be]]}));for(be in de)Object.prototype.hasOwnProperty.call(de,be)&&!Object.prototype.hasOwnProperty.call(le,be)&&be!=="layout"&&be!=="paint"&&be!=="filter"&&be!=="metadata"&&be!=="minzoom"&&be!=="maxzoom"&&(be.indexOf("paint.")===0?Yr(le[be],de[be],A,J,be.slice(6),"setPaintProperty"):vt(le[be],de[be])||Yt(A,{command:"setLayerProperty",args:[J,be,de[be]]}))}else Yt(A,{command:"removeLayer",args:[J]}),Ne=Y[Y.lastIndexOf(J)+1],Yt(A,{command:"addLayer",args:[de,Ne]})}(w,s.layers,c)}catch(f){console.warn("Unable to compute style diff:",f),c=[{command:"setStyle",args:[s]}]}return c},i.aD=function(l){let s=[],c=l.id;return c===void 0&&s.push({message:`layers.${c}: missing required property "id"`}),l.render===void 0&&s.push({message:`layers.${c}: missing required method "render"`}),l.renderingMode&&l.renderingMode!=="2d"&&l.renderingMode!=="3d"&&s.push({message:`layers.${c}: property "renderingMode" must be either "2d" or "3d"`}),s},i.aE=function l(s,c){if(Array.isArray(s)){if(!Array.isArray(c)||s.length!==c.length)return!1;for(let f=0;f<s.length;f++)if(!l(s[f],c[f]))return!1;return!0}if(typeof s=="object"&&s!==null&&c!==null){if(typeof c!="object"||Object.keys(s).length!==Object.keys(c).length)return!1;for(let f in s)if(!l(s[f],c[f]))return!1;return!0}return s===c},i.aF=ge,i.aG=Oe,i.aH=class extends qh{constructor(l,s){super(l,s),this.current=0}set(l){this.current!==l&&(this.current=l,this.gl.uniform1i(this.location,l))}},i.aI=zI,i.aJ=class extends qh{constructor(l,s){super(l,s),this.current=zje}set(l){if(l[12]!==this.current[12]||l[0]!==this.current[0])return this.current=l,void this.gl.uniformMatrix4fv(this.location,!1,l);for(let s=1;s<16;s++)if(l[s]!==this.current[s]){this.current=l,this.gl.uniformMatrix4fv(this.location,!1,l);break}}},i.aK=OZ,i.aL=DZ,i.aM=Cn,i.aN=class extends qh{constructor(l,s){super(l,s),this.current=[0,0,0]}set(l){l[0]===this.current[0]&&l[1]===this.current[1]&&l[2]===this.current[2]||(this.current=l,this.gl.uniform3f(this.location,l[0],l[1],l[2]))}},i.aO=class extends qh{constructor(l,s){super(l,s),this.current=[0,0]}set(l){l[0]===this.current[0]&&l[1]===this.current[1]||(this.current=l,this.gl.uniform2f(this.location,l[0],l[1]))}},i.aP=function(l,s,c,f,v,w,S){var M=1/(s-c),A=1/(f-v),D=1/(w-S);return l[0]=-2*M,l[1]=0,l[2]=0,l[3]=0,l[4]=0,l[5]=-2*A,l[6]=0,l[7]=0,l[8]=0,l[9]=0,l[10]=2*D,l[11]=0,l[12]=(s+c)*M,l[13]=(v+f)*A,l[14]=(S+w)*D,l[15]=1,l},i.aQ=Hje,i.aR=class extends Ie{},i.aS=qFe,i.aT=class extends Le{},i.aU=PN,i.aV=function(l){return l<=1?1:Math.pow(2,Math.ceil(Math.log(l)/Math.LN2))},i.aW=GZ,i.aX=go,i.aY=Ys,i.aZ=class extends Xt{},i.a_=function(l,s){return l[0]===s[0]&&l[1]===s[1]&&l[2]===s[2]&&l[3]===s[3]&&l[4]===s[4]&&l[5]===s[5]&&l[6]===s[6]&&l[7]===s[7]&&l[8]===s[8]&&l[9]===s[9]&&l[10]===s[10]&&l[11]===s[11]&&l[12]===s[12]&&l[13]===s[13]&&l[14]===s[14]&&l[15]===s[15]},i.aa=function(l){let s={};if(l.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(c,f,v,w)=>{let S=v||w;return s[f]=!S||S.toLowerCase(),""}),s["max-age"]){let c=parseInt(s["max-age"],10);isNaN(c)?delete s["max-age"]:s["max-age"]=c}return s},i.ab=function(l,s){let c=[];for(let f in l)f in s||c.push(f);return c},i.ac=G,i.ad=function(l,s,c){var f=Math.sin(c),v=Math.cos(c),w=s[0],S=s[1],M=s[2],A=s[3],D=s[4],q=s[5],B=s[6],W=s[7];return s!==l&&(l[8]=s[8],l[9]=s[9],l[10]=s[10],l[11]=s[11],l[12]=s[12],l[13]=s[13],l[14]=s[14],l[15]=s[15]),l[0]=w*v+D*f,l[1]=S*v+q*f,l[2]=M*v+B*f,l[3]=A*v+W*f,l[4]=D*v-w*f,l[5]=q*v-S*f,l[6]=B*v-M*f,l[7]=W*v-A*f,l},i.ae=function(l){var s=new iv(16);return s[0]=l[0],s[1]=l[1],s[2]=l[2],s[3]=l[3],s[4]=l[4],s[5]=l[5],s[6]=l[6],s[7]=l[7],s[8]=l[8],s[9]=l[9],s[10]=l[10],s[11]=l[11],s[12]=l[12],s[13]=l[13],s[14]=l[14],s[15]=l[15],s},i.af=UI,i.ag=function(l,s){let c=0,f=0;if(l.kind==="constant")f=l.layoutSize;else if(l.kind!=="source"){let{interpolationType:v,minZoom:w,maxZoom:S}=l,M=v?G(la.interpolationFactor(v,s,w,S),0,1):0;l.kind==="camera"?f=sa.number(l.minSize,l.maxSize,M):c=M}return{uSizeT:c,uSize:f}},i.ai=function(l,{uSize:s,uSizeT:c},{lowerSize:f,upperSize:v}){return l.kind==="source"?f/$u:l.kind==="composite"?sa.number(f/$u,v/$u,c):s},i.aj=WN,i.ak=function(l,s,c,f){let v=s.y-l.y,w=s.x-l.x,S=f.y-c.y,M=f.x-c.x,A=S*w-M*v;if(A===0)return null;let D=(M*(l.y-c.y)-S*(l.x-c.x))/A;return new y(l.x+D*w,l.y+D*v)},i.al=YK,i.am=qZ,i.an=MN,i.ao=function(l){let s=1/0,c=1/0,f=-1/0,v=-1/0;for(let w of l)s=Math.min(s,w.x),c=Math.min(c,w.y),f=Math.max(f,w.x),v=Math.max(v,w.y);return[s,c,f,v]},i.ap=Bi,i.ar=HN,i.as=function(l,s){var c=s[0],f=s[1],v=s[2],w=s[3],S=s[4],M=s[5],A=s[6],D=s[7],q=s[8],B=s[9],W=s[10],Y=s[11],X=s[12],J=s[13],le=s[14],de=s[15],Ne=c*M-f*S,be=c*A-v*S,Ae=c*D-w*S,He=f*A-v*M,st=f*D-w*M,zt=v*D-w*A,ur=q*J-B*X,Lt=q*le-W*X,Tt=q*de-Y*X,Jt=B*le-W*J,Ht=B*de-Y*J,Ut=W*de-Y*le,Ke=Ne*Ut-be*Ht+Ae*Jt+He*Tt-st*Lt+zt*ur;return Ke?(l[0]=(M*Ut-A*Ht+D*Jt)*(Ke=1/Ke),l[1]=(v*Ht-f*Ut-w*Jt)*Ke,l[2]=(J*zt-le*st+de*He)*Ke,l[3]=(W*st-B*zt-Y*He)*Ke,l[4]=(A*Tt-S*Ut-D*Lt)*Ke,l[5]=(c*Ut-v*Tt+w*Lt)*Ke,l[6]=(le*Ae-X*zt-de*be)*Ke,l[7]=(q*zt-W*Ae+Y*be)*Ke,l[8]=(S*Ht-M*Tt+D*ur)*Ke,l[9]=(f*Tt-c*Ht-w*ur)*Ke,l[10]=(X*st-J*Ae+de*Ne)*Ke,l[11]=(B*Ae-q*st-Y*Ne)*Ke,l[12]=(M*Lt-S*Jt-A*ur)*Ke,l[13]=(c*Jt-f*Lt+v*ur)*Ke,l[14]=(J*be-X*He-le*Ne)*Ke,l[15]=(q*He-B*be+W*Ne)*Ke,l):null},i.at=ek,i.au=$N,i.av=tk,i.aw=function(){let l={},s=we.$version;for(let c in we.$root){let f=we.$root[c];if(f.required){let v=null;v=c==="version"?s:f.type==="array"?[]:{},v!=null&&(l[c]=v)}}return l},i.ax=s_,i.ay=he,i.az=function(l){l=l.slice();let s=Object.create(null);for(let c=0;c<l.length;c++)s[l[c].id]=l[c];for(let c=0;c<l.length;c++)"ref"in l[c]&&(l[c]=Ft(l[c],s[l[c].ref]));return l},i.b=dt,i.b0=function(l,s){return l[0]=s[0],l[1]=s[1],l[2]=s[2],l[3]=s[3],l[4]=s[4],l[5]=s[5],l[6]=s[6],l[7]=s[7],l[8]=s[8],l[9]=s[9],l[10]=s[10],l[11]=s[11],l[12]=s[12],l[13]=s[13],l[14]=s[14],l[15]=s[15],l},i.b1=function(l,s,c){return l[0]=s[0]*c[0],l[1]=s[1]*c[1],l[2]=s[2]*c[2],l[3]=s[3]*c[3],l},i.b2=function(l,s){return l[0]*s[0]+l[1]*s[1]+l[2]*s[2]+l[3]*s[3]},i.b3=ee,i.b4=BK,i.b5=jK,i.b6=function(l,s,c,f,v){var w,S=1/Math.tan(s/2);return l[0]=S/c,l[1]=0,l[2]=0,l[3]=0,l[4]=0,l[5]=S,l[6]=0,l[7]=0,l[8]=0,l[9]=0,l[11]=-1,l[12]=0,l[13]=0,l[15]=0,v!=null&&v!==1/0?(l[10]=(v+f)*(w=1/(f-v)),l[14]=2*v*f*w):(l[10]=-1,l[14]=-2*f),l},i.b7=function(l,s,c){var f=Math.sin(c),v=Math.cos(c),w=s[4],S=s[5],M=s[6],A=s[7],D=s[8],q=s[9],B=s[10],W=s[11];return s!==l&&(l[0]=s[0],l[1]=s[1],l[2]=s[2],l[3]=s[3],l[12]=s[12],l[13]=s[13],l[14]=s[14],l[15]=s[15]),l[4]=w*v+D*f,l[5]=S*v+q*f,l[6]=M*v+B*f,l[7]=A*v+W*f,l[8]=D*v-w*f,l[9]=q*v-S*f,l[10]=B*v-M*f,l[11]=W*v-A*f,l},i.b8=L,i.b9=F,i.bA=fK,i.bB=function(l){return l.message===lt},i.bC=_p,i.bD=Ba,i.ba=function(l){return l*Math.PI/180},i.bb=function(l,s){let{x:c,y:f}=M_.fromLngLat(s);return!(l<0||l>25||f<0||f>=1||c<0||c>=1)},i.bc=function(l,s){return l[0]=s[0],l[1]=0,l[2]=0,l[3]=0,l[4]=0,l[5]=s[1],l[6]=0,l[7]=0,l[8]=0,l[9]=0,l[10]=s[2],l[11]=0,l[12]=0,l[13]=0,l[14]=0,l[15]=1,l},i.bd=class extends z{},i.be=KN,i.bf=yBe,i.bh=De,i.bi=function(l,s){Fe.REGISTERED_PROTOCOLS[l]=s},i.bj=function(l){delete Fe.REGISTERED_PROTOCOLS[l]},i.bk=function(l,s){let c={};for(let v=0;v<l.length;v++){let w=s&&s[l[v].id]||TI(l[v]);s&&(s[l[v].id]=w);let S=c[w];S||(S=c[w]=[]),S.push(l[v])}let f=[];for(let v in c)f.push(c[v]);return f},i.bl=Vt,i.bm=VK,i.bn=HK,i.bo=wK,i.bp=function(l){l.bucket.createArrays(),l.bucket.tilePixelRatio=ki/(512*l.bucket.overscaling),l.bucket.compareText={},l.bucket.iconsNeedLinear=!1;let s=l.bucket.layers[0],c=s.layout,f=s._unevaluatedLayout._values,v={layoutIconSize:f["icon-size"].possiblyEvaluate(new Kn(l.bucket.zoom+1),l.canonical),layoutTextSize:f["text-size"].possiblyEvaluate(new Kn(l.bucket.zoom+1),l.canonical),textMaxSize:f["text-size"].possiblyEvaluate(new Kn(18))};if(l.bucket.textSizeData.kind==="composite"){let{minZoom:D,maxZoom:q}=l.bucket.textSizeData;v.compositeTextSizes=[f["text-size"].possiblyEvaluate(new Kn(D),l.canonical),f["text-size"].possiblyEvaluate(new Kn(q),l.canonical)]}if(l.bucket.iconSizeData.kind==="composite"){let{minZoom:D,maxZoom:q}=l.bucket.iconSizeData;v.compositeIconSizes=[f["icon-size"].possiblyEvaluate(new Kn(D),l.canonical),f["icon-size"].possiblyEvaluate(new Kn(q),l.canonical)]}let w=c.get("text-line-height")*Bi,S=c.get("text-rotation-alignment")!=="viewport"&&c.get("symbol-placement")!=="point",M=c.get("text-keep-upright"),A=c.get("text-size");for(let D of l.bucket.features){let q=c.get("text-font").evaluate(D,{},l.canonical).join(","),B=A.evaluate(D,{},l.canonical),W=v.layoutTextSize.evaluate(D,{},l.canonical),Y=v.layoutIconSize.evaluate(D,{},l.canonical),X={horizontal:{},vertical:void 0},J=D.text,le,de=[0,0];if(J){let Ae=J.toString(),He=c.get("text-letter-spacing").evaluate(D,{},l.canonical)*Bi,st=gN(Ae)?He:0,zt=c.get("text-anchor").evaluate(D,{},l.canonical),ur=nX(s,D,l.canonical);if(!ur){let Ht=c.get("text-radial-offset").evaluate(D,{},l.canonical);de=Ht?rX(zt,[Ht*Bi,JN]):c.get("text-offset").evaluate(D,{},l.canonical).map(Ut=>Ut*Bi)}let Lt=S?"center":c.get("text-justify").evaluate(D,{},l.canonical),Tt=c.get("symbol-placement")==="point"?c.get("text-max-width").evaluate(D,{},l.canonical)*Bi:1/0,Jt=()=>{l.bucket.allowVerticalPlacement&&l_(Ae)&&(X.vertical=YI(J,l.glyphMap,l.glyphPositions,l.imagePositions,q,Tt,w,zt,"left",st,de,i.ah.vertical,!0,W,B))};if(!S&&ur){let Ht=new Set;if(Lt==="auto")for(let Ke=0;Ke<ur.values.length;Ke+=2)Ht.add(ek(ur.values[Ke]));else Ht.add(Lt);let Ut=!1;for(let Ke of Ht)if(!X.horizontal[Ke])if(Ut)X.horizontal[Ke]=X.horizontal[0];else{let tr=YI(J,l.glyphMap,l.glyphPositions,l.imagePositions,q,Tt,w,"center",Ke,st,de,i.ah.horizontal,!1,W,B);tr&&(X.horizontal[Ke]=tr,Ut=tr.positionedLines.length===1)}Jt()}else{Lt==="auto"&&(Lt=ek(zt));let Ht=YI(J,l.glyphMap,l.glyphPositions,l.imagePositions,q,Tt,w,zt,Lt,st,de,i.ah.horizontal,!1,W,B);Ht&&(X.horizontal[Lt]=Ht),Jt(),l_(Ae)&&S&&M&&(X.vertical=YI(J,l.glyphMap,l.glyphPositions,l.imagePositions,q,Tt,w,zt,Lt,st,de,i.ah.vertical,!1,W,B))}}let Ne=!1;if(D.icon&&D.icon.name){let Ae=l.imageMap[D.icon.name];Ae&&(le=eBe(l.imagePositions[D.icon.name],c.get("icon-offset").evaluate(D,{},l.canonical),c.get("icon-anchor").evaluate(D,{},l.canonical)),Ne=!!Ae.sdf,l.bucket.sdfIcons===void 0?l.bucket.sdfIcons=Ne:l.bucket.sdfIcons!==Ne&&We("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(Ae.pixelRatio!==l.bucket.pixelRatio||c.get("icon-rotate").constantOr(1)!==0)&&(l.bucket.iconsNeedLinear=!0))}let be=oX(X.horizontal)||X.vertical;l.bucket.iconsInText=!!be&&be.iconsInText,(be||le)&&gBe(l.bucket,D,X,le,l.imageMap,v,W,Y,de,Ne,l.canonical)}l.showCollisionBoxes&&l.bucket.generateCollisionDebugBuffers()},i.bq=zN,i.br=LN,i.bs=RN,i.bt=qp,i.bu=FN,i.bv=class{constructor(l){this._marks={start:[l.url,"start"].join("#"),end:[l.url,"end"].join("#"),measure:l.url.toString()},performance.mark(this._marks.start)}finish(){performance.mark(this._marks.end);let l=performance.getEntriesByName(this._marks.measure);return l.length===0&&(performance.measure(this._marks.measure,this._marks.start,this._marks.end),l=performance.getEntriesByName(this._marks.measure),performance.clearMarks(this._marks.start),performance.clearMarks(this._marks.end),performance.clearMeasures(this._marks.measure)),l}},i.bw=function(l,s,c,f,v){return o(this,void 0,void 0,function*(){if(k())try{return yield Re(l,s,c,f,v)}catch(w){}return function(w,S,M,A,D){let q=w.width,B=w.height;Pe&&et||(Pe=new OffscreenCanvas(q,B),et=Pe.getContext("2d",{willReadFrequently:!0})),Pe.width=q,Pe.height=B,et.drawImage(w,0,0,q,B);let W=et.getImageData(S,M,A,D);return et.clearRect(0,0,q,B),W.data}(l,s,c,f,v)})},i.bx=UK,i.by=u,i.bz=p,i.c=ut,i.d=l=>o(void 0,void 0,void 0,function*(){if(l.byteLength===0)return createImageBitmap(new ImageData(1,1));let s=new Blob([new Uint8Array(l)],{type:"image/png"});try{return createImageBitmap(s)}catch(c){throw new Error(`Could not load image because of ${c.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`)}}),i.e=ae,i.f=l=>new Promise((s,c)=>{let f=new Image;f.onload=()=>{s(f),URL.revokeObjectURL(f.src),f.onload=null,window.requestAnimationFrame(()=>{f.src=Ue})},f.onerror=()=>c(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));let v=new Blob([new Uint8Array(l)],{type:"image/png"});f.src=l.byteLength?URL.createObjectURL(v):Ue}),i.g=Ge,i.h=(l,s)=>ke(ae(l,{type:"json"}),s),i.i=qe,i.j=yt,i.k=Ct,i.l=(l,s)=>ke(ae(l,{type:"arrayBuffer"}),s),i.m=ke,i.n=function(l){return new FN(l).readFields(GFe,[])},i.o=v_,i.p=xK,i.q=x,i.r=hN,i.s=Te,i.t=o_,i.u=ed,i.v=we,i.w=We,i.x=function([l,s,c]){return s+=90,s*=Math.PI/180,c*=Math.PI/180,{x:l*Math.cos(s)*Math.sin(c),y:l*Math.sin(s)*Math.sin(c),z:l*Math.cos(c)}},i.y=sa,i.z=Kn}),r("worker",["./shared"],function(i){"use strict";class o{constructor(H){this.keyCache={},H&&this.replace(H)}replace(H){this._layerConfigs={},this._layers={},this.update(H,[])}update(H,$){for(let ie of H){this._layerConfigs[ie.id]=ie;let ve=this._layers[ie.id]=i.aA(ie);ve._featureFilter=i.a7(ve.filter),this.keyCache[ie.id]&&delete this.keyCache[ie.id]}for(let ie of $)delete this.keyCache[ie],delete this._layerConfigs[ie],delete this._layers[ie];this.familiesBySource={};let Z=i.bk(Object.values(this._layerConfigs),this.keyCache);for(let ie of Z){let ve=ie.map(je=>this._layers[je.id]),xe=ve[0];if(xe.visibility==="none")continue;let Ee=xe.source||"",fe=this.familiesBySource[Ee];fe||(fe=this.familiesBySource[Ee]={});let Ve=xe.sourceLayer||"_geojsonTileLayer",tt=fe[Ve];tt||(tt=fe[Ve]=[]),tt.push(ve)}}}class u{constructor(H){let $={},Z=[];for(let Ee in H){let fe=H[Ee],Ve=$[Ee]={};for(let tt in fe){let je=fe[+tt];if(!je||je.bitmap.width===0||je.bitmap.height===0)continue;let ht={x:0,y:0,w:je.bitmap.width+2,h:je.bitmap.height+2};Z.push(ht),Ve[tt]={rect:ht,metrics:je.metrics}}}let{w:ie,h:ve}=i.p(Z),xe=new i.o({width:ie||1,height:ve||1});for(let Ee in H){let fe=H[Ee];for(let Ve in fe){let tt=fe[+Ve];if(!tt||tt.bitmap.width===0||tt.bitmap.height===0)continue;let je=$[Ee][Ve].rect;i.o.copy(tt.bitmap,xe,{x:0,y:0},{x:je.x+1,y:je.y+1},tt.bitmap)}}this.image=xe,this.positions=$}}i.bl("GlyphAtlas",u);class p{constructor(H){this.tileID=new i.S(H.tileID.overscaledZ,H.tileID.wrap,H.tileID.canonical.z,H.tileID.canonical.x,H.tileID.canonical.y),this.uid=H.uid,this.zoom=H.zoom,this.pixelRatio=H.pixelRatio,this.tileSize=H.tileSize,this.source=H.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=H.showCollisionBoxes,this.collectResourceTiming=!!H.collectResourceTiming,this.returnDependencies=!!H.returnDependencies,this.promoteId=H.promoteId,this.inFlightDependencies=[]}parse(H,$,Z,ie){return i._(this,void 0,void 0,function*(){this.status="parsing",this.data=H,this.collisionBoxArray=new i.a5;let ve=new i.bm(Object.keys(H.layers).sort()),xe=new i.bn(this.tileID,this.promoteId);xe.bucketLayerIDs=[];let Ee={},fe={featureIndex:xe,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:Z},Ve=$.familiesBySource[this.source];for(let Rr in Ve){let Mn=H.layers[Rr];if(!Mn)continue;Mn.version===1&&i.w(`Vector tile source "${this.source}" layer "${Rr}" does not use vector tile spec v2 and therefore may have some rendering errors.`);let ii=ve.encode(Rr),Yi=[];for(let io=0;io<Mn.length;io++){let ko=Mn.feature(io),lp=xe.getId(ko,Rr);Yi.push({feature:ko,id:lp,index:io,sourceLayerIndex:ii})}for(let io of Ve[Rr]){let ko=io[0];ko.source!==this.source&&i.w(`layer.source = ${ko.source} does not equal this.source = ${this.source}`),ko.minzoom&&this.zoom<Math.floor(ko.minzoom)||ko.maxzoom&&this.zoom>=ko.maxzoom||ko.visibility!=="none"&&(h(io,this.zoom,Z),(Ee[ko.id]=ko.createBucket({index:xe.bucketLayerIDs.length,layers:io,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:ii,sourceID:this.source})).populate(Yi,fe,this.tileID.canonical),xe.bucketLayerIDs.push(io.map(lp=>lp.id)))}}let tt=i.aF(fe.glyphDependencies,Rr=>Object.keys(Rr).map(Number));this.inFlightDependencies.forEach(Rr=>Rr==null?void 0:Rr.abort()),this.inFlightDependencies=[];let je=Promise.resolve({});if(Object.keys(tt).length){let Rr=new AbortController;this.inFlightDependencies.push(Rr),je=ie.sendAsync({type:"GG",data:{stacks:tt,source:this.source,tileID:this.tileID,type:"glyphs"}},Rr)}let ht=Object.keys(fe.iconDependencies),Zt=Promise.resolve({});if(ht.length){let Rr=new AbortController;this.inFlightDependencies.push(Rr),Zt=ie.sendAsync({type:"GI",data:{icons:ht,source:this.source,tileID:this.tileID,type:"icons"}},Rr)}let lr=Object.keys(fe.patternDependencies),on=Promise.resolve({});if(lr.length){let Rr=new AbortController;this.inFlightDependencies.push(Rr),on=ie.sendAsync({type:"GI",data:{icons:lr,source:this.source,tileID:this.tileID,type:"patterns"}},Rr)}let[Tr,an,Zr]=yield Promise.all([je,Zt,on]),Di=new u(Tr),hi=new i.bo(an,Zr);for(let Rr in Ee){let Mn=Ee[Rr];Mn instanceof i.a6?(h(Mn.layers,this.zoom,Z),i.bp({bucket:Mn,glyphMap:Tr,glyphPositions:Di.positions,imageMap:an,imagePositions:hi.iconPositions,showCollisionBoxes:this.showCollisionBoxes,canonical:this.tileID.canonical})):Mn.hasPattern&&(Mn instanceof i.bq||Mn instanceof i.br||Mn instanceof i.bs)&&(h(Mn.layers,this.zoom,Z),Mn.addFeatures(fe,this.tileID.canonical,hi.patternPositions))}return this.status="done",{buckets:Object.values(Ee).filter(Rr=>!Rr.isEmpty()),featureIndex:xe,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:Di.image,imageAtlas:hi,glyphMap:this.returnDependencies?Tr:null,iconMap:this.returnDependencies?an:null,glyphPositions:this.returnDependencies?Di.positions:null}})}}function h(ne,H,$){let Z=new i.z(H);for(let ie of ne)ie.recalculate(Z,$)}class y{constructor(H,$,Z){this.actor=H,this.layerIndex=$,this.availableImages=Z,this.fetching={},this.loading={},this.loaded={}}loadVectorTile(H,$){return i._(this,void 0,void 0,function*(){let Z=yield i.l(H.request,$);try{return{vectorTile:new i.bt.VectorTile(new i.bu(Z.data)),rawData:Z.data,cacheControl:Z.cacheControl,expires:Z.expires}}catch(ie){let ve=new Uint8Array(Z.data),xe=`Unable to parse the tile at ${H.request.url}, `;throw xe+=ve[0]===31&&ve[1]===139?"please make sure the data is not gzipped and that you have configured the relevant header in the server":`got error: ${ie.message}`,new Error(xe)}})}loadTile(H){return i._(this,void 0,void 0,function*(){let $=H.uid,Z=!!(H&&H.request&&H.request.collectResourceTiming)&&new i.bv(H.request),ie=new p(H);this.loading[$]=ie;let ve=new AbortController;ie.abort=ve;try{let xe=yield this.loadVectorTile(H,ve);if(delete this.loading[$],!xe)return null;let Ee=xe.rawData,fe={};xe.expires&&(fe.expires=xe.expires),xe.cacheControl&&(fe.cacheControl=xe.cacheControl);let Ve={};if(Z){let je=Z.finish();je&&(Ve.resourceTiming=JSON.parse(JSON.stringify(je)))}ie.vectorTile=xe.vectorTile;let tt=ie.parse(xe.vectorTile,this.layerIndex,this.availableImages,this.actor);this.loaded[$]=ie,this.fetching[$]={rawTileData:Ee,cacheControl:fe,resourceTiming:Ve};try{let je=yield tt;return i.e({rawTileData:Ee.slice(0)},je,fe,Ve)}finally{delete this.fetching[$]}}catch(xe){throw delete this.loading[$],ie.status="done",this.loaded[$]=ie,xe}})}reloadTile(H){return i._(this,void 0,void 0,function*(){let $=H.uid;if(!this.loaded||!this.loaded[$])throw new Error("Should not be trying to reload a tile that was never loaded or has been removed");let Z=this.loaded[$];if(Z.showCollisionBoxes=H.showCollisionBoxes,Z.status==="parsing"){let ie=yield Z.parse(Z.vectorTile,this.layerIndex,this.availableImages,this.actor),ve;if(this.fetching[$]){let{rawTileData:xe,cacheControl:Ee,resourceTiming:fe}=this.fetching[$];delete this.fetching[$],ve=i.e({rawTileData:xe.slice(0)},ie,Ee,fe)}else ve=ie;return ve}if(Z.status==="done"&&Z.vectorTile)return Z.parse(Z.vectorTile,this.layerIndex,this.availableImages,this.actor)})}abortTile(H){return i._(this,void 0,void 0,function*(){let $=this.loading,Z=H.uid;$&&$[Z]&&$[Z].abort&&($[Z].abort.abort(),delete $[Z])})}removeTile(H){return i._(this,void 0,void 0,function*(){this.loaded&&this.loaded[H.uid]&&delete this.loaded[H.uid]})}}class _{constructor(){this.loaded={}}loadTile(H){return i._(this,void 0,void 0,function*(){let{uid:$,encoding:Z,rawImageData:ie,redFactor:ve,greenFactor:xe,blueFactor:Ee,baseShift:fe}=H,Ve=ie.width+2,tt=ie.height+2,je=i.b(ie)?new i.R({width:Ve,height:tt},(yield i.bw(ie,-1,-1,Ve,tt))):ie,ht=new i.bx($,je,Z,ve,xe,Ee,fe);return this.loaded=this.loaded||{},this.loaded[$]=ht,ht})}removeTile(H){let $=this.loaded,Z=H.uid;$&&$[Z]&&delete $[Z]}}function E(ne,H){if(ne.length!==0){T(ne[0],H);for(var $=1;$<ne.length;$++)T(ne[$],!H)}}function T(ne,H){for(var $=0,Z=0,ie=0,ve=ne.length,xe=ve-1;ie<ve;xe=ie++){var Ee=(ne[ie][0]-ne[xe][0])*(ne[xe][1]+ne[ie][1]),fe=$+Ee;Z+=Math.abs($)>=Math.abs(Ee)?$-fe+Ee:Ee-fe+$,$=fe}$+Z>=0!=!!H&&ne.reverse()}var N=i.by(function ne(H,$){var Z,ie=H&&H.type;if(ie==="FeatureCollection")for(Z=0;Z<H.features.length;Z++)ne(H.features[Z],$);else if(ie==="GeometryCollection")for(Z=0;Z<H.geometries.length;Z++)ne(H.geometries[Z],$);else if(ie==="Feature")ne(H.geometry,$);else if(ie==="Polygon")E(H.coordinates,$);else if(ie==="MultiPolygon")for(Z=0;Z<H.coordinates.length;Z++)E(H.coordinates[Z],$);return H});let R=i.bt.VectorTileFeature.prototype.toGeoJSON;var j={exports:{}},k=i.bz,L=i.bt.VectorTileFeature,F=G;function G(ne,H){this.options=H||{},this.features=ne,this.length=ne.length}function ee(ne,H){this.id=typeof ne.id=="number"?ne.id:void 0,this.type=ne.type,this.rawGeometry=ne.type===1?[ne.geometry]:ne.geometry,this.properties=ne.tags,this.extent=H||4096}G.prototype.feature=function(ne){return new ee(this.features[ne],this.options.extent)},ee.prototype.loadGeometry=function(){var ne=this.rawGeometry;this.geometry=[];for(var H=0;H<ne.length;H++){for(var $=ne[H],Z=[],ie=0;ie<$.length;ie++)Z.push(new k($[ie][0],$[ie][1]));this.geometry.push(Z)}return this.geometry},ee.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var ne=this.geometry,H=1/0,$=-1/0,Z=1/0,ie=-1/0,ve=0;ve<ne.length;ve++)for(var xe=ne[ve],Ee=0;Ee<xe.length;Ee++){var fe=xe[Ee];H=Math.min(H,fe.x),$=Math.max($,fe.x),Z=Math.min(Z,fe.y),ie=Math.max(ie,fe.y)}return[H,Z,$,ie]},ee.prototype.toGeoJSON=L.prototype.toGeoJSON;var ae=i.bA,ue=F;function ge(ne){var H=new ae;return function($,Z){for(var ie in $.layers)Z.writeMessage(3,Oe,$.layers[ie])}(ne,H),H.finish()}function Oe(ne,H){var $;H.writeVarintField(15,ne.version||1),H.writeStringField(1,ne.name||""),H.writeVarintField(5,ne.extent||4096);var Z={keys:[],values:[],keycache:{},valuecache:{}};for($=0;$<ne.length;$++)Z.feature=ne.feature($),H.writeMessage(2,_e,Z);var ie=Z.keys;for($=0;$<ie.length;$++)H.writeStringField(3,ie[$]);var ve=Z.values;for($=0;$<ve.length;$++)H.writeMessage(4,Je,ve[$])}function _e(ne,H){var $=ne.feature;$.id!==void 0&&H.writeVarintField(1,$.id),H.writeMessage(2,ze,ne),H.writeVarintField(3,$.type),H.writeMessage(4,qe,$)}function ze(ne,H){var $=ne.feature,Z=ne.keys,ie=ne.values,ve=ne.keycache,xe=ne.valuecache;for(var Ee in $.properties){var fe=$.properties[Ee],Ve=ve[Ee];if(fe!==null){Ve===void 0&&(Z.push(Ee),ve[Ee]=Ve=Z.length-1),H.writeVarint(Ve);var tt=typeof fe;tt!=="string"&&tt!=="boolean"&&tt!=="number"&&(fe=JSON.stringify(fe));var je=tt+":"+fe,ht=xe[je];ht===void 0&&(ie.push(fe),xe[je]=ht=ie.length-1),H.writeVarint(ht)}}}function We(ne,H){return(H<<3)+(7&ne)}function $e(ne){return ne<<1^ne>>31}function qe(ne,H){for(var $=ne.loadGeometry(),Z=ne.type,ie=0,ve=0,xe=$.length,Ee=0;Ee<xe;Ee++){var fe=$[Ee],Ve=1;Z===1&&(Ve=fe.length),H.writeVarint(We(1,Ve));for(var tt=Z===3?fe.length-1:fe.length,je=0;je<tt;je++){je===1&&Z!==1&&H.writeVarint(We(2,tt-1));var ht=fe[je].x-ie,Zt=fe[je].y-ve;H.writeVarint($e(ht)),H.writeVarint($e(Zt)),ie+=ht,ve+=Zt}Z===3&&H.writeVarint(We(7,1))}}function Je(ne,H){var $=typeof ne;$==="string"?H.writeStringField(1,ne):$==="boolean"?H.writeBooleanField(7,ne):$==="number"&&(ne%1!=0?H.writeDoubleField(3,ne):ne<0?H.writeSVarintField(6,ne):H.writeVarintField(5,ne))}j.exports=ge,j.exports.fromVectorTileJs=ge,j.exports.fromGeojsonVt=function(ne,H){H=H||{};var $={};for(var Z in ne)$[Z]=new ue(ne[Z].features,H),$[Z].name=Z,$[Z].version=H.version,$[Z].extent=H.extent;return ge({layers:$})},j.exports.GeoJSONWrapper=ue;var dt=i.by(j.exports);let Ue={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:ne=>ne},Re=Math.fround||(Pe=new Float32Array(1),ne=>(Pe[0]=+ne,Pe[0]));var Pe;let et=3,lt=5,ut=6;class Fe{constructor(H){this.options=Object.assign(Object.create(Ue),H),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(H){let{log:$,minZoom:Z,maxZoom:ie}=this.options;$&&console.time("total time");let ve=`prepare ${H.length} points`;$&&console.time(ve),this.points=H;let xe=[];for(let fe=0;fe<H.length;fe++){let Ve=H[fe];if(!Ve.geometry)continue;let[tt,je]=Ve.geometry.coordinates,ht=Re(De(tt)),Zt=Re(he(je));xe.push(ht,Zt,1/0,fe,-1,1),this.options.reduce&&xe.push(0)}let Ee=this.trees[ie+1]=this._createTree(xe);$&&console.timeEnd(ve);for(let fe=ie;fe>=Z;fe--){let Ve=+Date.now();Ee=this.trees[fe]=this._createTree(this._cluster(Ee,fe)),$&&console.log("z%d: %d clusters in %dms",fe,Ee.numItems,+Date.now()-Ve)}return $&&console.timeEnd("total time"),this}getClusters(H,$){let Z=((H[0]+180)%360+360)%360-180,ie=Math.max(-90,Math.min(90,H[1])),ve=H[2]===180?180:((H[2]+180)%360+360)%360-180,xe=Math.max(-90,Math.min(90,H[3]));if(H[2]-H[0]>=360)Z=-180,ve=180;else if(Z>ve){let je=this.getClusters([Z,ie,180,xe],$),ht=this.getClusters([-180,ie,ve,xe],$);return je.concat(ht)}let Ee=this.trees[this._limitZoom($)],fe=Ee.range(De(Z),he(xe),De(ve),he(ie)),Ve=Ee.data,tt=[];for(let je of fe){let ht=this.stride*je;tt.push(Ve[ht+lt]>1?Ge(Ve,ht,this.clusterProps):this.points[Ve[ht+et]])}return tt}getChildren(H){let $=this._getOriginId(H),Z=this._getOriginZoom(H),ie="No cluster with the specified id.",ve=this.trees[Z];if(!ve)throw new Error(ie);let xe=ve.data;if($*this.stride>=xe.length)throw new Error(ie);let Ee=this.options.radius/(this.options.extent*Math.pow(2,Z-1)),fe=ve.within(xe[$*this.stride],xe[$*this.stride+1],Ee),Ve=[];for(let tt of fe){let je=tt*this.stride;xe[je+4]===H&&Ve.push(xe[je+lt]>1?Ge(xe,je,this.clusterProps):this.points[xe[je+et]])}if(Ve.length===0)throw new Error(ie);return Ve}getLeaves(H,$,Z){let ie=[];return this._appendLeaves(ie,H,$=$||10,Z=Z||0,0),ie}getTile(H,$,Z){let ie=this.trees[this._limitZoom(H)],ve=Math.pow(2,H),{extent:xe,radius:Ee}=this.options,fe=Ee/xe,Ve=(Z-fe)/ve,tt=(Z+1+fe)/ve,je={features:[]};return this._addTileFeatures(ie.range(($-fe)/ve,Ve,($+1+fe)/ve,tt),ie.data,$,Z,ve,je),$===0&&this._addTileFeatures(ie.range(1-fe/ve,Ve,1,tt),ie.data,ve,Z,ve,je),$===ve-1&&this._addTileFeatures(ie.range(0,Ve,fe/ve,tt),ie.data,-1,Z,ve,je),je.features.length?je:null}getClusterExpansionZoom(H){let $=this._getOriginZoom(H)-1;for(;$<=this.options.maxZoom;){let Z=this.getChildren(H);if($++,Z.length!==1)break;H=Z[0].properties.cluster_id}return $}_appendLeaves(H,$,Z,ie,ve){let xe=this.getChildren($);for(let Ee of xe){let fe=Ee.properties;if(fe&&fe.cluster?ve+fe.point_count<=ie?ve+=fe.point_count:ve=this._appendLeaves(H,fe.cluster_id,Z,ie,ve):ve<ie?ve++:H.push(Ee),H.length===Z)break}return ve}_createTree(H){let $=new i.av(H.length/this.stride|0,this.options.nodeSize,Float32Array);for(let Z=0;Z<H.length;Z+=this.stride)$.add(H[Z],H[Z+1]);return $.finish(),$.data=H,$}_addTileFeatures(H,$,Z,ie,ve,xe){for(let Ee of H){let fe=Ee*this.stride,Ve=$[fe+lt]>1,tt,je,ht;if(Ve)tt=ot($,fe,this.clusterProps),je=$[fe],ht=$[fe+1];else{let on=this.points[$[fe+et]];tt=on.properties;let[Tr,an]=on.geometry.coordinates;je=De(Tr),ht=he(an)}let Zt={type:1,geometry:[[Math.round(this.options.extent*(je*ve-Z)),Math.round(this.options.extent*(ht*ve-ie))]],tags:tt},lr;lr=Ve||this.options.generateId?$[fe+et]:this.points[$[fe+et]].id,lr!==void 0&&(Zt.id=lr),xe.features.push(Zt)}}_limitZoom(H){return Math.max(this.options.minZoom,Math.min(Math.floor(+H),this.options.maxZoom+1))}_cluster(H,$){let{radius:Z,extent:ie,reduce:ve,minPoints:xe}=this.options,Ee=Z/(ie*Math.pow(2,$)),fe=H.data,Ve=[],tt=this.stride;for(let je=0;je<fe.length;je+=tt){if(fe[je+2]<=$)continue;fe[je+2]=$;let ht=fe[je],Zt=fe[je+1],lr=H.within(fe[je],fe[je+1],Ee),on=fe[je+lt],Tr=on;for(let an of lr){let Zr=an*tt;fe[Zr+2]>$&&(Tr+=fe[Zr+lt])}if(Tr>on&&Tr>=xe){let an,Zr=ht*on,Di=Zt*on,hi=-1,Rr=((je/tt|0)<<5)+($+1)+this.points.length;for(let Mn of lr){let ii=Mn*tt;if(fe[ii+2]<=$)continue;fe[ii+2]=$;let Yi=fe[ii+lt];Zr+=fe[ii]*Yi,Di+=fe[ii+1]*Yi,fe[ii+4]=Rr,ve&&(an||(an=this._map(fe,je,!0),hi=this.clusterProps.length,this.clusterProps.push(an)),ve(an,this._map(fe,ii)))}fe[je+4]=Rr,Ve.push(Zr/Tr,Di/Tr,1/0,Rr,-1,Tr),ve&&Ve.push(hi)}else{for(let an=0;an<tt;an++)Ve.push(fe[je+an]);if(Tr>1)for(let an of lr){let Zr=an*tt;if(!(fe[Zr+2]<=$)){fe[Zr+2]=$;for(let Di=0;Di<tt;Di++)Ve.push(fe[Zr+Di])}}}}return Ve}_getOriginId(H){return H-this.points.length>>5}_getOriginZoom(H){return(H-this.points.length)%32}_map(H,$,Z){if(H[$+lt]>1){let xe=this.clusterProps[H[$+ut]];return Z?Object.assign({},xe):xe}let ie=this.points[H[$+et]].properties,ve=this.options.map(ie);return Z&&ve===ie?Object.assign({},ve):ve}}function Ge(ne,H,$){return{type:"Feature",id:ne[H+et],properties:ot(ne,H,$),geometry:{type:"Point",coordinates:[(Z=ne[H],360*(Z-.5)),ke(ne[H+1])]}};var Z}function ot(ne,H,$){let Z=ne[H+lt],ie=Z>=1e4?`${Math.round(Z/1e3)}k`:Z>=1e3?Math.round(Z/100)/10+"k":Z,ve=ne[H+ut],xe=ve===-1?{}:Object.assign({},$[ve]);return Object.assign(xe,{cluster:!0,cluster_id:ne[H+et],point_count:Z,point_count_abbreviated:ie})}function De(ne){return ne/360+.5}function he(ne){let H=Math.sin(ne*Math.PI/180),$=.5-.25*Math.log((1+H)/(1-H))/Math.PI;return $<0?0:$>1?1:$}function ke(ne){let H=(180-360*ne)*Math.PI/180;return 360*Math.atan(Math.exp(H))/Math.PI-90}function Te(ne,H,$,Z){let ie=Z,ve=H+($-H>>1),xe,Ee=$-H,fe=ne[H],Ve=ne[H+1],tt=ne[$],je=ne[$+1];for(let ht=H+3;ht<$;ht+=3){let Zt=Qe(ne[ht],ne[ht+1],fe,Ve,tt,je);if(Zt>ie)xe=ht,ie=Zt;else if(Zt===ie){let lr=Math.abs(ht-ve);lr<Ee&&(xe=ht,Ee=lr)}}ie>Z&&(xe-H>3&&Te(ne,H,xe,Z),ne[xe+2]=ie,$-xe>3&&Te(ne,xe,$,Z))}function Qe(ne,H,$,Z,ie,ve){let xe=ie-$,Ee=ve-Z;if(xe!==0||Ee!==0){let fe=((ne-$)*xe+(H-Z)*Ee)/(xe*xe+Ee*Ee);fe>1?($=ie,Z=ve):fe>0&&($+=xe*fe,Z+=Ee*fe)}return xe=ne-$,Ee=H-Z,xe*xe+Ee*Ee}function Ye(ne,H,$,Z){let ie={id:ne==null?null:ne,type:H,geometry:$,tags:Z,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};if(H==="Point"||H==="MultiPoint"||H==="LineString")Ct(ie,$);else if(H==="Polygon")Ct(ie,$[0]);else if(H==="MultiLineString")for(let ve of $)Ct(ie,ve);else if(H==="MultiPolygon")for(let ve of $)Ct(ie,ve[0]);return ie}function Ct(ne,H){for(let $=0;$<H.length;$+=3)ne.minX=Math.min(ne.minX,H[$]),ne.minY=Math.min(ne.minY,H[$+1]),ne.maxX=Math.max(ne.maxX,H[$]),ne.maxY=Math.max(ne.maxY,H[$+1])}function yt(ne,H,$,Z){if(!H.geometry)return;let ie=H.geometry.coordinates;if(ie&&ie.length===0)return;let ve=H.geometry.type,xe=Math.pow($.tolerance/((1<<$.maxZoom)*$.extent),2),Ee=[],fe=H.id;if($.promoteId?fe=H.properties[$.promoteId]:$.generateId&&(fe=Z||0),ve==="Point")Nt(ie,Ee);else if(ve==="MultiPoint")for(let Ve of ie)Nt(Ve,Ee);else if(ve==="LineString")we(ie,Ee,xe,!1);else if(ve==="MultiLineString"){if($.lineMetrics){for(let Ve of ie)Ee=[],we(Ve,Ee,xe,!1),ne.push(Ye(fe,"LineString",Ee,H.properties));return}bt(ie,Ee,xe,!1)}else if(ve==="Polygon")bt(ie,Ee,xe,!0);else{if(ve!=="MultiPolygon"){if(ve==="GeometryCollection"){for(let Ve of H.geometry.geometries)yt(ne,{id:fe,geometry:Ve,properties:H.properties},$,Z);return}throw new Error("Input data is not a valid GeoJSON object.")}for(let Ve of ie){let tt=[];bt(Ve,tt,xe,!0),Ee.push(tt)}}ne.push(Ye(fe,ve,Ee,H.properties))}function Nt(ne,H){H.push(Ft(ne[0]),vt(ne[1]),0)}function we(ne,H,$,Z){let ie,ve,xe=0;for(let fe=0;fe<ne.length;fe++){let Ve=Ft(ne[fe][0]),tt=vt(ne[fe][1]);H.push(Ve,tt,0),fe>0&&(xe+=Z?(ie*tt-Ve*ve)/2:Math.sqrt(Math.pow(Ve-ie,2)+Math.pow(tt-ve,2))),ie=Ve,ve=tt}let Ee=H.length-3;H[2]=1,Te(H,0,Ee,$),H[Ee+2]=1,H.size=Math.abs(xe),H.start=0,H.end=H.size}function bt(ne,H,$,Z){for(let ie=0;ie<ne.length;ie++){let ve=[];we(ne[ie],ve,$,Z),H.push(ve)}}function Ft(ne){return ne/360+.5}function vt(ne){let H=Math.sin(ne*Math.PI/180),$=.5-.25*Math.log((1+H)/(1-H))/Math.PI;return $<0?0:$>1?1:$}function Yt(ne,H,$,Z,ie,ve,xe,Ee){if(Z/=H,ve>=($/=H)&&xe<Z)return ne;if(xe<$||ve>=Z)return null;let fe=[];for(let Ve of ne){let tt=Ve.geometry,je=Ve.type,ht=ie===0?Ve.minX:Ve.minY,Zt=ie===0?Ve.maxX:Ve.maxY;if(ht>=$&&Zt<Z){fe.push(Ve);continue}if(Zt<$||ht>=Z)continue;let lr=[];if(je==="Point"||je==="MultiPoint")Or(tt,lr,$,Z,ie);else if(je==="LineString")Wt(tt,lr,$,Z,ie,!1,Ee.lineMetrics);else if(je==="MultiLineString")Gr(tt,lr,$,Z,ie,!1);else if(je==="Polygon")Gr(tt,lr,$,Z,ie,!0);else if(je==="MultiPolygon")for(let on of tt){let Tr=[];Gr(on,Tr,$,Z,ie,!0),Tr.length&&lr.push(Tr)}if(lr.length){if(Ee.lineMetrics&&je==="LineString"){for(let on of lr)fe.push(Ye(Ve.id,je,on,Ve.tags));continue}je!=="LineString"&&je!=="MultiLineString"||(lr.length===1?(je="LineString",lr=lr[0]):je="MultiLineString"),je!=="Point"&&je!=="MultiPoint"||(je=lr.length===3?"Point":"MultiPoint"),fe.push(Ye(Ve.id,je,lr,Ve.tags))}}return fe.length?fe:null}function Or(ne,H,$,Z,ie){for(let ve=0;ve<ne.length;ve+=3){let xe=ne[ve+ie];xe>=$&&xe<=Z&&Yr(H,ne[ve],ne[ve+1],ne[ve+2])}}function Wt(ne,H,$,Z,ie,ve,xe){let Ee=hr(ne),fe=ie===0?ir:tn,Ve,tt,je=ne.start;for(let Tr=0;Tr<ne.length-3;Tr+=3){let an=ne[Tr],Zr=ne[Tr+1],Di=ne[Tr+2],hi=ne[Tr+3],Rr=ne[Tr+4],Mn=ie===0?an:Zr,ii=ie===0?hi:Rr,Yi=!1;xe&&(Ve=Math.sqrt(Math.pow(an-hi,2)+Math.pow(Zr-Rr,2))),Mn<$?ii>$&&(tt=fe(Ee,an,Zr,hi,Rr,$),xe&&(Ee.start=je+Ve*tt)):Mn>Z?ii<Z&&(tt=fe(Ee,an,Zr,hi,Rr,Z),xe&&(Ee.start=je+Ve*tt)):Yr(Ee,an,Zr,Di),ii<$&&Mn>=$&&(tt=fe(Ee,an,Zr,hi,Rr,$),Yi=!0),ii>Z&&Mn<=Z&&(tt=fe(Ee,an,Zr,hi,Rr,Z),Yi=!0),!ve&&Yi&&(xe&&(Ee.end=je+Ve*tt),H.push(Ee),Ee=hr(ne)),xe&&(je+=Ve)}let ht=ne.length-3,Zt=ne[ht],lr=ne[ht+1],on=ie===0?Zt:lr;on>=$&&on<=Z&&Yr(Ee,Zt,lr,ne[ht+2]),ht=Ee.length-3,ve&&ht>=3&&(Ee[ht]!==Ee[0]||Ee[ht+1]!==Ee[1])&&Yr(Ee,Ee[0],Ee[1],Ee[2]),Ee.length&&H.push(Ee)}function hr(ne){let H=[];return H.size=ne.size,H.start=ne.start,H.end=ne.end,H}function Gr(ne,H,$,Z,ie,ve){for(let xe of ne)Wt(xe,H,$,Z,ie,ve,!1)}function Yr(ne,H,$,Z){ne.push(H,$,Z)}function ir(ne,H,$,Z,ie,ve){let xe=(ve-H)/(Z-H);return Yr(ne,ve,$+(ie-$)*xe,1),xe}function tn(ne,H,$,Z,ie,ve){let xe=(ve-$)/(ie-$);return Yr(ne,H+(Z-H)*xe,ve,1),xe}function at(ne,H){let $=[];for(let Z=0;Z<ne.length;Z++){let ie=ne[Z],ve=ie.type,xe;if(ve==="Point"||ve==="MultiPoint"||ve==="LineString")xe=fi(ie.geometry,H);else if(ve==="MultiLineString"||ve==="Polygon"){xe=[];for(let Ee of ie.geometry)xe.push(fi(Ee,H))}else if(ve==="MultiPolygon"){xe=[];for(let Ee of ie.geometry){let fe=[];for(let Ve of Ee)fe.push(fi(Ve,H));xe.push(fe)}}$.push(Ye(ie.id,ve,xe,ie.tags))}return $}function fi(ne,H){let $=[];$.size=ne.size,ne.start!==void 0&&($.start=ne.start,$.end=ne.end);for(let Z=0;Z<ne.length;Z+=3)$.push(ne[Z]+H,ne[Z+1],ne[Z+2]);return $}function wn(ne,H){if(ne.transformed)return ne;let $=1<<ne.z,Z=ne.x,ie=ne.y;for(let ve of ne.features){let xe=ve.geometry,Ee=ve.type;if(ve.geometry=[],Ee===1)for(let fe=0;fe<xe.length;fe+=2)ve.geometry.push(is(xe[fe],xe[fe+1],H,$,Z,ie));else for(let fe=0;fe<xe.length;fe++){let Ve=[];for(let tt=0;tt<xe[fe].length;tt+=2)Ve.push(is(xe[fe][tt],xe[fe][tt+1],H,$,Z,ie));ve.geometry.push(Ve)}}return ne.transformed=!0,ne}function is(ne,H,$,Z,ie,ve){return[Math.round($*(ne*Z-ie)),Math.round($*(H*Z-ve))]}function gl(ne,H,$,Z,ie){let ve=H===ie.maxZoom?0:ie.tolerance/((1<<H)*ie.extent),xe={features:[],numPoints:0,numSimplified:0,numFeatures:ne.length,source:null,x:$,y:Z,z:H,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0};for(let Ee of ne)wt(xe,Ee,ve,ie);return xe}function wt(ne,H,$,Z){let ie=H.geometry,ve=H.type,xe=[];if(ne.minX=Math.min(ne.minX,H.minX),ne.minY=Math.min(ne.minY,H.minY),ne.maxX=Math.max(ne.maxX,H.maxX),ne.maxY=Math.max(ne.maxY,H.maxY),ve==="Point"||ve==="MultiPoint")for(let Ee=0;Ee<ie.length;Ee+=3)xe.push(ie[Ee],ie[Ee+1]),ne.numPoints++,ne.numSimplified++;else if(ve==="LineString")Pr(xe,ie,ne,$,!1,!1);else if(ve==="MultiLineString"||ve==="Polygon")for(let Ee=0;Ee<ie.length;Ee++)Pr(xe,ie[Ee],ne,$,ve==="Polygon",Ee===0);else if(ve==="MultiPolygon")for(let Ee=0;Ee<ie.length;Ee++){let fe=ie[Ee];for(let Ve=0;Ve<fe.length;Ve++)Pr(xe,fe[Ve],ne,$,!0,Ve===0)}if(xe.length){let Ee=H.tags||null;if(ve==="LineString"&&Z.lineMetrics){Ee={};for(let Ve in H.tags)Ee[Ve]=H.tags[Ve];Ee.mapbox_clip_start=ie.start/ie.size,Ee.mapbox_clip_end=ie.end/ie.size}let fe={geometry:xe,type:ve==="Polygon"||ve==="MultiPolygon"?3:ve==="LineString"||ve==="MultiLineString"?2:1,tags:Ee};H.id!==null&&(fe.id=H.id),ne.features.push(fe)}}function Pr(ne,H,$,Z,ie,ve){let xe=Z*Z;if(Z>0&&H.size<(ie?xe:Z))return void($.numPoints+=H.length/3);let Ee=[];for(let fe=0;fe<H.length;fe+=3)(Z===0||H[fe+2]>xe)&&($.numSimplified++,Ee.push(H[fe],H[fe+1])),$.numPoints++;ie&&function(fe,Ve){let tt=0;for(let je=0,ht=fe.length,Zt=ht-2;je<ht;Zt=je,je+=2)tt+=(fe[je]-fe[Zt])*(fe[je+1]+fe[Zt+1]);if(tt>0===Ve)for(let je=0,ht=fe.length;je<ht/2;je+=2){let Zt=fe[je],lr=fe[je+1];fe[je]=fe[ht-2-je],fe[je+1]=fe[ht-1-je],fe[ht-2-je]=Zt,fe[ht-1-je]=lr}}(Ee,ve),ne.push(Ee)}let fr={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0};class fo{constructor(H,$){let Z=($=this.options=function(ve,xe){for(let Ee in xe)ve[Ee]=xe[Ee];return ve}(Object.create(fr),$)).debug;if(Z&&console.time("preprocess data"),$.maxZoom<0||$.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if($.promoteId&&$.generateId)throw new Error("promoteId and generateId cannot be used together.");let ie=function(ve,xe){let Ee=[];if(ve.type==="FeatureCollection")for(let fe=0;fe<ve.features.length;fe++)yt(Ee,ve.features[fe],xe,fe);else yt(Ee,ve.type==="Feature"?ve:{geometry:ve},xe);return Ee}(H,$);this.tiles={},this.tileCoords=[],Z&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",$.indexMaxZoom,$.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),ie=function(ve,xe){let Ee=xe.buffer/xe.extent,fe=ve,Ve=Yt(ve,1,-1-Ee,Ee,0,-1,2,xe),tt=Yt(ve,1,1-Ee,2+Ee,0,-1,2,xe);return(Ve||tt)&&(fe=Yt(ve,1,-Ee,1+Ee,0,-1,2,xe)||[],Ve&&(fe=at(Ve,1).concat(fe)),tt&&(fe=fe.concat(at(tt,-1)))),fe}(ie,$),ie.length&&this.splitTile(ie,0,0,0),Z&&(ie.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}splitTile(H,$,Z,ie,ve,xe,Ee){let fe=[H,$,Z,ie],Ve=this.options,tt=Ve.debug;for(;fe.length;){ie=fe.pop(),Z=fe.pop(),$=fe.pop(),H=fe.pop();let je=1<<$,ht=qa($,Z,ie),Zt=this.tiles[ht];if(!Zt&&(tt>1&&console.time("creation"),Zt=this.tiles[ht]=gl(H,$,Z,ie,Ve),this.tileCoords.push({z:$,x:Z,y:ie}),tt)){tt>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",$,Z,ie,Zt.numFeatures,Zt.numPoints,Zt.numSimplified),console.timeEnd("creation"));let Yi=`z${$}`;this.stats[Yi]=(this.stats[Yi]||0)+1,this.total++}if(Zt.source=H,ve==null){if($===Ve.indexMaxZoom||Zt.numPoints<=Ve.indexMaxPoints)continue}else{if($===Ve.maxZoom||$===ve)continue;if(ve!=null){let Yi=ve-$;if(Z!==xe>>Yi||ie!==Ee>>Yi)continue}}if(Zt.source=null,H.length===0)continue;tt>1&&console.time("clipping");let lr=.5*Ve.buffer/Ve.extent,on=.5-lr,Tr=.5+lr,an=1+lr,Zr=null,Di=null,hi=null,Rr=null,Mn=Yt(H,je,Z-lr,Z+Tr,0,Zt.minX,Zt.maxX,Ve),ii=Yt(H,je,Z+on,Z+an,0,Zt.minX,Zt.maxX,Ve);H=null,Mn&&(Zr=Yt(Mn,je,ie-lr,ie+Tr,1,Zt.minY,Zt.maxY,Ve),Di=Yt(Mn,je,ie+on,ie+an,1,Zt.minY,Zt.maxY,Ve),Mn=null),ii&&(hi=Yt(ii,je,ie-lr,ie+Tr,1,Zt.minY,Zt.maxY,Ve),Rr=Yt(ii,je,ie+on,ie+an,1,Zt.minY,Zt.maxY,Ve),ii=null),tt>1&&console.timeEnd("clipping"),fe.push(Zr||[],$+1,2*Z,2*ie),fe.push(Di||[],$+1,2*Z,2*ie+1),fe.push(hi||[],$+1,2*Z+1,2*ie),fe.push(Rr||[],$+1,2*Z+1,2*ie+1)}}getTile(H,$,Z){H=+H,$=+$,Z=+Z;let ie=this.options,{extent:ve,debug:xe}=ie;if(H<0||H>24)return null;let Ee=1<<H,fe=qa(H,$=$+Ee&Ee-1,Z);if(this.tiles[fe])return wn(this.tiles[fe],ve);xe>1&&console.log("drilling down to z%d-%d-%d",H,$,Z);let Ve,tt=H,je=$,ht=Z;for(;!Ve&&tt>0;)tt--,je>>=1,ht>>=1,Ve=this.tiles[qa(tt,je,ht)];return Ve&&Ve.source?(xe>1&&(console.log("found parent tile z%d-%d-%d",tt,je,ht),console.time("drilling down")),this.splitTile(Ve.source,tt,je,ht,H,$,Z),xe>1&&console.timeEnd("drilling down"),this.tiles[fe]?wn(this.tiles[fe],ve):null):null}}function qa(ne,H,$){return 32*((1<<ne)*$+H)+ne}function Se(ne,H){return H?ne.properties[H]:ne.id}function Ce(ne,H){if(ne==null)return!0;if(ne.type==="Feature")return Se(ne,H)!=null;if(ne.type==="FeatureCollection"){let $=new Set;for(let Z of ne.features){let ie=Se(Z,H);if(ie==null||$.has(ie))return!1;$.add(ie)}return!0}return!1}function ct(ne,H){let $=new Map;if(ne!=null)if(ne.type==="Feature")$.set(Se(ne,H),ne);else for(let Z of ne.features)$.set(Se(Z,H),Z);return $}class kt extends y{constructor(){super(...arguments),this._dataUpdateable=new Map}loadVectorTile(H,$){return i._(this,void 0,void 0,function*(){let Z=H.tileID.canonical;if(!this._geoJSONIndex)throw new Error("Unable to parse the data into a cluster or geojson");let ie=this._geoJSONIndex.getTile(Z.z,Z.x,Z.y);if(!ie)return null;let ve=new class{constructor(Ee){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=i.X,this.length=Ee.length,this._features=Ee}feature(Ee){return new class{constructor(fe){this._feature=fe,this.extent=i.X,this.type=fe.type,this.properties=fe.tags,"id"in fe&&!isNaN(fe.id)&&(this.id=parseInt(fe.id,10))}loadGeometry(){if(this._feature.type===1){let fe=[];for(let Ve of this._feature.geometry)fe.push([new i.P(Ve[0],Ve[1])]);return fe}{let fe=[];for(let Ve of this._feature.geometry){let tt=[];for(let je of Ve)tt.push(new i.P(je[0],je[1]));fe.push(tt)}return fe}}toGeoJSON(fe,Ve,tt){return R.call(this,fe,Ve,tt)}}(this._features[Ee])}}(ie.features),xe=dt(ve);return xe.byteOffset===0&&xe.byteLength===xe.buffer.byteLength||(xe=new Uint8Array(xe)),{vectorTile:ve,rawData:xe.buffer}})}loadData(H){return i._(this,void 0,void 0,function*(){var $;($=this._pendingRequest)===null||$===void 0||$.abort();let Z=!!(H&&H.request&&H.request.collectResourceTiming)&&new i.bv(H.request);this._pendingRequest=new AbortController;try{this._pendingData=this.loadAndProcessGeoJSON(H,this._pendingRequest),this._geoJSONIndex=H.cluster?new Fe(function({superclusterOptions:xe,clusterProperties:Ee}){if(!Ee||!xe)return xe;let fe={},Ve={},tt={accumulated:null,zoom:0},je={properties:null},ht=Object.keys(Ee);for(let Zt of ht){let[lr,on]=Ee[Zt],Tr=i.bC(on),an=i.bC(typeof lr=="string"?[lr,["accumulated"],["get",Zt]]:lr);fe[Zt]=Tr.value,Ve[Zt]=an.value}return xe.map=Zt=>{je.properties=Zt;let lr={};for(let on of ht)lr[on]=fe[on].evaluate(tt,je);return lr},xe.reduce=(Zt,lr)=>{je.properties=lr;for(let on of ht)tt.accumulated=Zt[on],Zt[on]=Ve[on].evaluate(tt,je)},xe}(H)).load((yield this._pendingData).features):(ie=yield this._pendingData,new fo(ie,H.geojsonVtOptions)),this.loaded={};let ve={};if(Z){let xe=Z.finish();xe&&(ve.resourceTiming={},ve.resourceTiming[H.source]=JSON.parse(JSON.stringify(xe)))}return ve}catch(ve){if(delete this._pendingRequest,i.bB(ve))return{abandoned:!0};throw ve}var ie})}getData(){return i._(this,void 0,void 0,function*(){return this._pendingData})}reloadTile(H){let $=this.loaded;return $&&$[H.uid]?super.reloadTile(H):this.loadTile(H)}loadAndProcessGeoJSON(H,$){return i._(this,void 0,void 0,function*(){let Z=yield this.loadGeoJSON(H,$);if(delete this._pendingRequest,typeof Z!="object")throw new Error(`Input data given to '${H.source}' is not a valid GeoJSON object.`);if(N(Z,!0),H.filter){let ie=i.bC(H.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(ie.result==="error")throw new Error(ie.value.map(xe=>`${xe.key}: ${xe.message}`).join(", "));Z={type:"FeatureCollection",features:Z.features.filter(xe=>ie.value.evaluate({zoom:0},xe))}}return Z})}loadGeoJSON(H,$){return i._(this,void 0,void 0,function*(){let{promoteId:Z}=H;if(H.request){let ie=yield i.h(H.request,$);return this._dataUpdateable=Ce(ie.data,Z)?ct(ie.data,Z):void 0,ie.data}if(typeof H.data=="string")try{let ie=JSON.parse(H.data);return this._dataUpdateable=Ce(ie,Z)?ct(ie,Z):void 0,ie}catch(ie){throw new Error(`Input data given to '${H.source}' is not a valid GeoJSON object.`)}if(!H.dataDiff)throw new Error(`Input data given to '${H.source}' is not a valid GeoJSON object.`);if(!this._dataUpdateable)throw new Error(`Cannot update existing geojson data in ${H.source}`);return function(ie,ve,xe){var Ee,fe,Ve,tt;if(ve.removeAll&&ie.clear(),ve.remove)for(let je of ve.remove)ie.delete(je);if(ve.add)for(let je of ve.add){let ht=Se(je,xe);ht!=null&&ie.set(ht,je)}if(ve.update)for(let je of ve.update){let ht=ie.get(je.id);if(ht==null)continue;let Zt=!je.removeAllProperties&&(((Ee=je.removeProperties)===null||Ee===void 0?void 0:Ee.length)>0||((fe=je.addOrUpdateProperties)===null||fe===void 0?void 0:fe.length)>0);if((je.newGeometry||je.removeAllProperties||Zt)&&(ht=Object.assign({},ht),ie.set(je.id,ht),Zt&&(ht.properties=Object.assign({},ht.properties))),je.newGeometry&&(ht.geometry=je.newGeometry),je.removeAllProperties)ht.properties={};else if(((Ve=je.removeProperties)===null||Ve===void 0?void 0:Ve.length)>0)for(let lr of je.removeProperties)Object.prototype.hasOwnProperty.call(ht.properties,lr)&&delete ht.properties[lr];if(((tt=je.addOrUpdateProperties)===null||tt===void 0?void 0:tt.length)>0)for(let{key:lr,value:on}of je.addOrUpdateProperties)ht.properties[lr]=on}}(this._dataUpdateable,H.dataDiff,Z),{type:"FeatureCollection",features:Array.from(this._dataUpdateable.values())}})}removeSource(H){return i._(this,void 0,void 0,function*(){this._pendingRequest&&this._pendingRequest.abort()})}getClusterExpansionZoom(H){return this._geoJSONIndex.getClusterExpansionZoom(H.clusterId)}getClusterChildren(H){return this._geoJSONIndex.getChildren(H.clusterId)}getClusterLeaves(H){return this._geoJSONIndex.getLeaves(H.clusterId,H.limit,H.offset)}}class Ot{constructor(H){this.self=H,this.actor=new i.F(H),this.layerIndexes={},this.availableImages={},this.workerSources={},this.demWorkerSources={},this.externalWorkerSourceTypes={},this.self.registerWorkerSource=($,Z)=>{if(this.externalWorkerSourceTypes[$])throw new Error(`Worker source with name "${$}" already registered.`);this.externalWorkerSourceTypes[$]=Z},this.self.addProtocol=i.bi,this.self.removeProtocol=i.bj,this.self.registerRTLTextPlugin=$=>{if(i.bD.isParsed())throw new Error("RTL text plugin already registered.");i.bD.setMethods($)},this.actor.registerMessageHandler("LDT",($,Z)=>this._getDEMWorkerSource($,Z.source).loadTile(Z)),this.actor.registerMessageHandler("RDT",($,Z)=>i._(this,void 0,void 0,function*(){this._getDEMWorkerSource($,Z.source).removeTile(Z)})),this.actor.registerMessageHandler("GCEZ",($,Z)=>i._(this,void 0,void 0,function*(){return this._getWorkerSource($,Z.type,Z.source).getClusterExpansionZoom(Z)})),this.actor.registerMessageHandler("GCC",($,Z)=>i._(this,void 0,void 0,function*(){return this._getWorkerSource($,Z.type,Z.source).getClusterChildren(Z)})),this.actor.registerMessageHandler("GCL",($,Z)=>i._(this,void 0,void 0,function*(){return this._getWorkerSource($,Z.type,Z.source).getClusterLeaves(Z)})),this.actor.registerMessageHandler("LD",($,Z)=>this._getWorkerSource($,Z.type,Z.source).loadData(Z)),this.actor.registerMessageHandler("GD",($,Z)=>this._getWorkerSource($,Z.type,Z.source).getData()),this.actor.registerMessageHandler("LT",($,Z)=>this._getWorkerSource($,Z.type,Z.source).loadTile(Z)),this.actor.registerMessageHandler("RT",($,Z)=>this._getWorkerSource($,Z.type,Z.source).reloadTile(Z)),this.actor.registerMessageHandler("AT",($,Z)=>this._getWorkerSource($,Z.type,Z.source).abortTile(Z)),this.actor.registerMessageHandler("RMT",($,Z)=>this._getWorkerSource($,Z.type,Z.source).removeTile(Z)),this.actor.registerMessageHandler("RS",($,Z)=>i._(this,void 0,void 0,function*(){if(!this.workerSources[$]||!this.workerSources[$][Z.type]||!this.workerSources[$][Z.type][Z.source])return;let ie=this.workerSources[$][Z.type][Z.source];delete this.workerSources[$][Z.type][Z.source],ie.removeSource!==void 0&&ie.removeSource(Z)})),this.actor.registerMessageHandler("RM",$=>i._(this,void 0,void 0,function*(){delete this.layerIndexes[$],delete this.availableImages[$],delete this.workerSources[$],delete this.demWorkerSources[$]})),this.actor.registerMessageHandler("SR",($,Z)=>i._(this,void 0,void 0,function*(){this.referrer=Z})),this.actor.registerMessageHandler("SRPS",($,Z)=>this._syncRTLPluginState($,Z)),this.actor.registerMessageHandler("IS",($,Z)=>i._(this,void 0,void 0,function*(){this.self.importScripts(Z)})),this.actor.registerMessageHandler("SI",($,Z)=>this._setImages($,Z)),this.actor.registerMessageHandler("UL",($,Z)=>i._(this,void 0,void 0,function*(){this._getLayerIndex($).update(Z.layers,Z.removedIds)})),this.actor.registerMessageHandler("SL",($,Z)=>i._(this,void 0,void 0,function*(){this._getLayerIndex($).replace(Z)}))}_setImages(H,$){return i._(this,void 0,void 0,function*(){this.availableImages[H]=$;for(let Z in this.workerSources[H]){let ie=this.workerSources[H][Z];for(let ve in ie)ie[ve].availableImages=$}})}_syncRTLPluginState(H,$){return i._(this,void 0,void 0,function*(){if(i.bD.isParsed())return i.bD.getState();if($.pluginStatus!=="loading")return i.bD.setState($),$;let Z=$.pluginURL;if(this.self.importScripts(Z),i.bD.isParsed()){let ie={pluginStatus:"loaded",pluginURL:Z};return i.bD.setState(ie),ie}throw i.bD.setState({pluginStatus:"error",pluginURL:""}),new Error(`RTL Text Plugin failed to import scripts from ${Z}`)})}_getAvailableImages(H){let $=this.availableImages[H];return $||($=[]),$}_getLayerIndex(H){let $=this.layerIndexes[H];return $||($=this.layerIndexes[H]=new o),$}_getWorkerSource(H,$,Z){if(this.workerSources[H]||(this.workerSources[H]={}),this.workerSources[H][$]||(this.workerSources[H][$]={}),!this.workerSources[H][$][Z]){let ie={sendAsync:(ve,xe)=>(ve.targetMapId=H,this.actor.sendAsync(ve,xe))};switch($){case"vector":this.workerSources[H][$][Z]=new y(ie,this._getLayerIndex(H),this._getAvailableImages(H));break;case"geojson":this.workerSources[H][$][Z]=new kt(ie,this._getLayerIndex(H),this._getAvailableImages(H));break;default:this.workerSources[H][$][Z]=new this.externalWorkerSourceTypes[$](ie,this._getLayerIndex(H),this._getAvailableImages(H));}}return this.workerSources[H][$][Z]}_getDEMWorkerSource(H,$){return this.demWorkerSources[H]||(this.demWorkerSources[H]={}),this.demWorkerSources[H][$]||(this.demWorkerSources[H][$]=new _),this.demWorkerSources[H][$]}}return i.i(self)&&(self.worker=new Ot(self)),Ot}),r("index",["exports","./shared"],function(i,o){"use strict";var u="4.7.1";let p,h,y={now:typeof performance!="undefined"&&performance&&performance.now?performance.now.bind(performance):Date.now.bind(Date),frameAsync:x=>new Promise((a,d)=>{let m=requestAnimationFrame(a);x.signal.addEventListener("abort",()=>{cancelAnimationFrame(m),d(o.c())})}),getImageData(x,a=0){return this.getImageCanvasContext(x).getImageData(-a,-a,x.width+2*a,x.height+2*a)},getImageCanvasContext(x){let a=window.document.createElement("canvas"),d=a.getContext("2d",{willReadFrequently:!0});if(!d)throw new Error("failed to create canvas 2d context");return a.width=x.width,a.height=x.height,d.drawImage(x,0,0,x.width,x.height),d},resolveURL:x=>(p||(p=document.createElement("a")),p.href=x,p.href),hardwareConcurrency:typeof navigator!="undefined"&&navigator.hardwareConcurrency||4,get prefersReducedMotion(){return!!matchMedia&&(h==null&&(h=matchMedia("(prefers-reduced-motion: reduce)")),h.matches)}};class _{static testProp(a){if(!_.docStyle)return a[0];for(let d=0;d<a.length;d++)if(a[d]in _.docStyle)return a[d];return a[0]}static create(a,d,m){let g=window.document.createElement(a);return d!==void 0&&(g.className=d),m&&m.appendChild(g),g}static createNS(a,d){return window.document.createElementNS(a,d)}static disableDrag(){_.docStyle&&_.selectProp&&(_.userSelect=_.docStyle[_.selectProp],_.docStyle[_.selectProp]="none")}static enableDrag(){_.docStyle&&_.selectProp&&(_.docStyle[_.selectProp]=_.userSelect)}static setTransform(a,d){a.style[_.transformProp]=d}static addEventListener(a,d,m,g={}){a.addEventListener(d,m,"passive"in g?g:g.capture)}static removeEventListener(a,d,m,g={}){a.removeEventListener(d,m,"passive"in g?g:g.capture)}static suppressClickInternal(a){a.preventDefault(),a.stopPropagation(),window.removeEventListener("click",_.suppressClickInternal,!0)}static suppressClick(){window.addEventListener("click",_.suppressClickInternal,!0),window.setTimeout(()=>{window.removeEventListener("click",_.suppressClickInternal,!0)},0)}static getScale(a){let d=a.getBoundingClientRect();return{x:d.width/a.offsetWidth||1,y:d.height/a.offsetHeight||1,boundingClientRect:d}}static getPoint(a,d,m){let g=d.boundingClientRect;return new o.P((m.clientX-g.left)/d.x-a.clientLeft,(m.clientY-g.top)/d.y-a.clientTop)}static mousePos(a,d){let m=_.getScale(a);return _.getPoint(a,m,d)}static touchPos(a,d){let m=[],g=_.getScale(a);for(let b=0;b<d.length;b++)m.push(_.getPoint(a,g,d[b]));return m}static mouseButton(a){return a.button}static remove(a){a.parentNode&&a.parentNode.removeChild(a)}}_.docStyle=typeof window!="undefined"&&window.document&&window.document.documentElement.style,_.selectProp=_.testProp(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),_.transformProp=_.testProp(["transform","WebkitTransform"]);let E={supported:!1,testSupport:function(x){!R&&N&&(j?k(x):T=x)}},T,N,R=!1,j=!1;function k(x){let a=x.createTexture();x.bindTexture(x.TEXTURE_2D,a);try{if(x.texImage2D(x.TEXTURE_2D,0,x.RGBA,x.RGBA,x.UNSIGNED_BYTE,N),x.isContextLost())return;E.supported=!0}catch(d){}x.deleteTexture(a),R=!0}var L;typeof document!="undefined"&&(N=document.createElement("img"),N.onload=()=>{T&&k(T),T=null,j=!0},N.onerror=()=>{R=!0,T=null},N.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="),function(x){let a,d,m,g;x.resetRequestQueue=()=>{a=[],d=0,m=0,g={}},x.addThrottleControl=O=>{let z=m++;return g[z]=O,z},x.removeThrottleControl=O=>{delete g[O],C()},x.getImage=(O,z,U=!0)=>new Promise((V,K)=>{E.supported&&(O.headers||(O.headers={}),O.headers.accept="image/webp,*/*"),o.e(O,{type:"image"}),a.push({abortController:z,requestParameters:O,supportImageRefresh:U,state:"queued",onError:te=>{K(te)},onSuccess:te=>{V(te)}}),C()});let b=O=>o._(this,void 0,void 0,function*(){O.state="running";let{requestParameters:z,supportImageRefresh:U,onError:V,onSuccess:K,abortController:te}=O,oe=U===!1&&!o.i(self)&&!o.g(z.url)&&(!z.headers||Object.keys(z.headers).reduce((me,ye)=>me&&ye==="accept",!0));d++;let ce=oe?P(z,te):o.m(z,te);try{let me=yield ce;delete O.abortController,O.state="completed",me.data instanceof HTMLImageElement||o.b(me.data)?K(me):me.data&&K({data:yield(pe=me.data,typeof createImageBitmap=="function"?o.d(pe):o.f(pe)),cacheControl:me.cacheControl,expires:me.expires})}catch(me){delete O.abortController,V(me)}finally{d--,C()}var pe}),C=()=>{let O=(()=>{for(let z of Object.keys(g))if(g[z]())return!0;return!1})()?o.a.MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:o.a.MAX_PARALLEL_IMAGE_REQUESTS;for(let z=d;z<O&&a.length>0;z++){let U=a.shift();U.abortController.signal.aborted?z--:b(U)}},P=(O,z)=>new Promise((U,V)=>{let K=new Image,te=O.url,oe=O.credentials;oe&&oe==="include"?K.crossOrigin="use-credentials":(oe&&oe==="same-origin"||!o.s(te))&&(K.crossOrigin="anonymous"),z.signal.addEventListener("abort",()=>{K.src="",V(o.c())}),K.fetchPriority="high",K.onload=()=>{K.onerror=K.onload=null,U({data:K})},K.onerror=()=>{K.onerror=K.onload=null,z.signal.aborted||V(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))},K.src=te})}(L||(L={})),L.resetRequestQueue();class F{constructor(a){this._transformRequestFn=a}transformRequest(a,d){return this._transformRequestFn&&this._transformRequestFn(a,d)||{url:a}}setTransformRequest(a){this._transformRequestFn=a}}function G(x){var a=new o.A(3);return a[0]=x[0],a[1]=x[1],a[2]=x[2],a}var ee,ae=function(x,a,d){return x[0]=a[0]-d[0],x[1]=a[1]-d[1],x[2]=a[2]-d[2],x};ee=new o.A(3),o.A!=Float32Array&&(ee[0]=0,ee[1]=0,ee[2]=0);var ue=function(x){var a=x[0],d=x[1];return a*a+d*d};function ge(x){let a=[];if(typeof x=="string")a.push({id:"default",url:x});else if(x&&x.length>0){let d=[];for(let{id:m,url:g}of x){let b=`${m}${g}`;d.indexOf(b)===-1&&(d.push(b),a.push({id:m,url:g}))}}return a}function Oe(x,a,d){let m=x.split("?");return m[0]+=`${a}${d}`,m.join("?")}(function(){var x=new o.A(2);o.A!=Float32Array&&(x[0]=0,x[1]=0)})();class _e{constructor(a,d,m,g){this.context=a,this.format=m,this.texture=a.gl.createTexture(),this.update(d,g)}update(a,d,m){let{width:g,height:b}=a,C=!(this.size&&this.size[0]===g&&this.size[1]===b||m),{context:P}=this,{gl:O}=P;if(this.useMipmap=!!(d&&d.useMipmap),O.bindTexture(O.TEXTURE_2D,this.texture),P.pixelStoreUnpackFlipY.set(!1),P.pixelStoreUnpack.set(1),P.pixelStoreUnpackPremultiplyAlpha.set(this.format===O.RGBA&&(!d||d.premultiply!==!1)),C)this.size=[g,b],a instanceof HTMLImageElement||a instanceof HTMLCanvasElement||a instanceof HTMLVideoElement||a instanceof ImageData||o.b(a)?O.texImage2D(O.TEXTURE_2D,0,this.format,this.format,O.UNSIGNED_BYTE,a):O.texImage2D(O.TEXTURE_2D,0,this.format,g,b,0,this.format,O.UNSIGNED_BYTE,a.data);else{let{x:z,y:U}=m||{x:0,y:0};a instanceof HTMLImageElement||a instanceof HTMLCanvasElement||a instanceof HTMLVideoElement||a instanceof ImageData||o.b(a)?O.texSubImage2D(O.TEXTURE_2D,0,z,U,O.RGBA,O.UNSIGNED_BYTE,a):O.texSubImage2D(O.TEXTURE_2D,0,z,U,g,b,O.RGBA,O.UNSIGNED_BYTE,a.data)}this.useMipmap&&this.isSizePowerOfTwo()&&O.generateMipmap(O.TEXTURE_2D)}bind(a,d,m){let{context:g}=this,{gl:b}=g;b.bindTexture(b.TEXTURE_2D,this.texture),m!==b.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(m=b.LINEAR),a!==this.filter&&(b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,a),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,m||a),this.filter=a),d!==this.wrap&&(b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,d),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,d),this.wrap=d)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){let{gl:a}=this.context;a.deleteTexture(this.texture),this.texture=null}}function ze(x){let{userImage:a}=x;return!!(a&&a.render&&a.render())&&(x.data.replace(new Uint8Array(a.data.buffer)),!0)}class We extends o.E{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new o.R({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(a){if(this.loaded!==a&&(this.loaded=a,a)){for(let{ids:d,promiseResolve:m}of this.requestors)m(this._getImagesForIds(d));this.requestors=[]}}getImage(a){let d=this.images[a];if(d&&!d.data&&d.spriteData){let m=d.spriteData;d.data=new o.R({width:m.width,height:m.height},m.context.getImageData(m.x,m.y,m.width,m.height).data),d.spriteData=null}return d}addImage(a,d){if(this.images[a])throw new Error(`Image id ${a} already exist, use updateImage instead`);this._validate(a,d)&&(this.images[a]=d)}_validate(a,d){let m=!0,g=d.data||d.spriteData;return this._validateStretch(d.stretchX,g&&g.width)||(this.fire(new o.j(new Error(`Image "${a}" has invalid "stretchX" value`))),m=!1),this._validateStretch(d.stretchY,g&&g.height)||(this.fire(new o.j(new Error(`Image "${a}" has invalid "stretchY" value`))),m=!1),this._validateContent(d.content,d)||(this.fire(new o.j(new Error(`Image "${a}" has invalid "content" value`))),m=!1),m}_validateStretch(a,d){if(!a)return!0;let m=0;for(let g of a){if(g[0]<m||g[1]<g[0]||d<g[1])return!1;m=g[1]}return!0}_validateContent(a,d){if(!a)return!0;if(a.length!==4)return!1;let m=d.spriteData,g=m&&m.width||d.data.width,b=m&&m.height||d.data.height;return!(a[0]<0||g<a[0]||a[1]<0||b<a[1]||a[2]<0||g<a[2]||a[3]<0||b<a[3]||a[2]<a[0]||a[3]<a[1])}updateImage(a,d,m=!0){let g=this.getImage(a);if(m&&(g.data.width!==d.data.width||g.data.height!==d.data.height))throw new Error(`size mismatch between old image (${g.data.width}x${g.data.height}) and new image (${d.data.width}x${d.data.height}).`);d.version=g.version+1,this.images[a]=d,this.updatedImages[a]=!0}removeImage(a){let d=this.images[a];delete this.images[a],delete this.patterns[a],d.userImage&&d.userImage.onRemove&&d.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(a){return new Promise((d,m)=>{let g=!0;if(!this.isLoaded())for(let b of a)this.images[b]||(g=!1);this.isLoaded()||g?d(this._getImagesForIds(a)):this.requestors.push({ids:a,promiseResolve:d})})}_getImagesForIds(a){let d={};for(let m of a){let g=this.getImage(m);g||(this.fire(new o.k("styleimagemissing",{id:m})),g=this.getImage(m)),g?d[m]={data:g.data.clone(),pixelRatio:g.pixelRatio,sdf:g.sdf,version:g.version,stretchX:g.stretchX,stretchY:g.stretchY,content:g.content,textFitWidth:g.textFitWidth,textFitHeight:g.textFitHeight,hasRenderCallback:!!(g.userImage&&g.userImage.render)}:o.w(`Image "${m}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}return d}getPixelSize(){let{width:a,height:d}=this.atlasImage;return{width:a,height:d}}getPattern(a){let d=this.patterns[a],m=this.getImage(a);if(!m)return null;if(d&&d.position.version===m.version)return d.position;if(d)d.position.version=m.version;else{let g={w:m.data.width+2,h:m.data.height+2,x:0,y:0},b=new o.I(g,m);this.patterns[a]={bin:g,position:b}}return this._updatePatternAtlas(),this.patterns[a].position}bind(a){let d=a.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new _e(a,this.atlasImage,d.RGBA),this.atlasTexture.bind(d.LINEAR,d.CLAMP_TO_EDGE)}_updatePatternAtlas(){let a=[];for(let b in this.patterns)a.push(this.patterns[b].bin);let{w:d,h:m}=o.p(a),g=this.atlasImage;g.resize({width:d||1,height:m||1});for(let b in this.patterns){let{bin:C}=this.patterns[b],P=C.x+1,O=C.y+1,z=this.getImage(b).data,U=z.width,V=z.height;o.R.copy(z,g,{x:0,y:0},{x:P,y:O},{width:U,height:V}),o.R.copy(z,g,{x:0,y:V-1},{x:P,y:O-1},{width:U,height:1}),o.R.copy(z,g,{x:0,y:0},{x:P,y:O+V},{width:U,height:1}),o.R.copy(z,g,{x:U-1,y:0},{x:P-1,y:O},{width:1,height:V}),o.R.copy(z,g,{x:0,y:0},{x:P+U,y:O},{width:1,height:V})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(a){for(let d of a){if(this.callbackDispatchedThisFrame[d])continue;this.callbackDispatchedThisFrame[d]=!0;let m=this.getImage(d);m||o.w(`Image with ID: "${d}" was not found`),ze(m)&&this.updateImage(d,m)}}}let $e=1e20;function qe(x,a,d,m,g,b,C,P,O){for(let z=a;z<a+m;z++)Je(x,d*b+z,b,g,C,P,O);for(let z=d;z<d+g;z++)Je(x,z*b+a,1,m,C,P,O)}function Je(x,a,d,m,g,b,C){b[0]=0,C[0]=-$e,C[1]=$e,g[0]=x[a];for(let P=1,O=0,z=0;P<m;P++){g[P]=x[a+P*d];let U=P*P;do{let V=b[O];z=(g[P]-g[V]+U-V*V)/(P-V)/2}while(z<=C[O]&&--O>-1);O++,b[O]=P,C[O]=z,C[O+1]=$e}for(let P=0,O=0;P<m;P++){for(;C[O+1]<P;)O++;let z=b[O],U=P-z;x[a+P*d]=g[z]+U*U}}class dt{constructor(a,d){this.requestManager=a,this.localIdeographFontFamily=d,this.entries={}}setURL(a){this.url=a}getGlyphs(a){return o._(this,void 0,void 0,function*(){let d=[];for(let b in a)for(let C of a[b])d.push(this._getAndCacheGlyphsPromise(b,C));let m=yield Promise.all(d),g={};for(let{stack:b,id:C,glyph:P}of m)g[b]||(g[b]={}),g[b][C]=P&&{id:P.id,bitmap:P.bitmap.clone(),metrics:P.metrics};return g})}_getAndCacheGlyphsPromise(a,d){return o._(this,void 0,void 0,function*(){let m=this.entries[a];m||(m=this.entries[a]={glyphs:{},requests:{},ranges:{}});let g=m.glyphs[d];if(g!==void 0)return{stack:a,id:d,glyph:g};if(g=this._tinySDF(m,a,d),g)return m.glyphs[d]=g,{stack:a,id:d,glyph:g};let b=Math.floor(d/256);if(256*b>65535)throw new Error("glyphs > 65535 not supported");if(m.ranges[b])return{stack:a,id:d,glyph:g};if(!this.url)throw new Error("glyphsUrl is not set");if(!m.requests[b]){let P=dt.loadGlyphRange(a,b,this.url,this.requestManager);m.requests[b]=P}let C=yield m.requests[b];for(let P in C)this._doesCharSupportLocalGlyph(+P)||(m.glyphs[+P]=C[+P]);return m.ranges[b]=!0,{stack:a,id:d,glyph:C[d]||null}})}_doesCharSupportLocalGlyph(a){return!!this.localIdeographFontFamily&&new RegExp("\\p{Ideo}|\\p{sc=Hang}|\\p{sc=Hira}|\\p{sc=Kana}","u").test(String.fromCodePoint(a))}_tinySDF(a,d,m){let g=this.localIdeographFontFamily;if(!g||!this._doesCharSupportLocalGlyph(m))return;let b=a.tinySDF;if(!b){let P="400";/bold/i.test(d)?P="900":/medium/i.test(d)?P="500":/light/i.test(d)&&(P="200"),b=a.tinySDF=new dt.TinySDF({fontSize:48,buffer:6,radius:16,cutoff:.25,fontFamily:g,fontWeight:P})}let C=b.draw(String.fromCharCode(m));return{id:m,bitmap:new o.o({width:C.width||60,height:C.height||60},C.data),metrics:{width:C.glyphWidth/2||24,height:C.glyphHeight/2||24,left:C.glyphLeft/2+.5||0,top:C.glyphTop/2-27.5||-8,advance:C.glyphAdvance/2||24,isDoubleResolution:!0}}}}dt.loadGlyphRange=function(x,a,d,m){return o._(this,void 0,void 0,function*(){let g=256*a,b=g+255,C=m.transformRequest(d.replace("{fontstack}",x).replace("{range}",`${g}-${b}`),"Glyphs"),P=yield o.l(C,new AbortController);if(!P||!P.data)throw new Error(`Could not load glyph range. range: ${a}, ${g}-${b}`);let O={};for(let z of o.n(P.data))O[z.id]=z;return O})},dt.TinySDF=class{constructor({fontSize:x=24,buffer:a=3,radius:d=8,cutoff:m=.25,fontFamily:g="sans-serif",fontWeight:b="normal",fontStyle:C="normal"}={}){this.buffer=a,this.cutoff=m,this.radius=d;let P=this.size=x+4*a,O=this._createCanvas(P),z=this.ctx=O.getContext("2d",{willReadFrequently:!0});z.font=`${C} ${b} ${x}px ${g}`,z.textBaseline="alphabetic",z.textAlign="left",z.fillStyle="black",this.gridOuter=new Float64Array(P*P),this.gridInner=new Float64Array(P*P),this.f=new Float64Array(P),this.z=new Float64Array(P+1),this.v=new Uint16Array(P)}_createCanvas(x){let a=document.createElement("canvas");return a.width=a.height=x,a}draw(x){let{width:a,actualBoundingBoxAscent:d,actualBoundingBoxDescent:m,actualBoundingBoxLeft:g,actualBoundingBoxRight:b}=this.ctx.measureText(x),C=Math.ceil(d),P=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(b-g))),O=Math.min(this.size-this.buffer,C+Math.ceil(m)),z=P+2*this.buffer,U=O+2*this.buffer,V=Math.max(z*U,0),K=new Uint8ClampedArray(V),te={data:K,width:z,height:U,glyphWidth:P,glyphHeight:O,glyphTop:C,glyphLeft:0,glyphAdvance:a};if(P===0||O===0)return te;let{ctx:oe,buffer:ce,gridInner:pe,gridOuter:me}=this;oe.clearRect(ce,ce,P,O),oe.fillText(x,ce,ce+C);let ye=oe.getImageData(ce,ce,P,O);me.fill($e,0,V),pe.fill(0,0,V);for(let se=0;se<O;se++)for(let Ie=0;Ie<P;Ie++){let Me=ye.data[4*(se*P+Ie)+3]/255;if(Me===0)continue;let Le=(se+ce)*z+Ie+ce;if(Me===1)me[Le]=0,pe[Le]=$e;else{let rt=.5-Me;me[Le]=rt>0?rt*rt:0,pe[Le]=rt<0?rt*rt:0}}qe(me,0,0,z,U,z,this.f,this.v,this.z),qe(pe,ce,ce,P,O,z,this.f,this.v,this.z);for(let se=0;se<V;se++){let Ie=Math.sqrt(me[se])-Math.sqrt(pe[se]);K[se]=Math.round(255-255*(Ie/this.radius+this.cutoff))}return te}};class Ue{constructor(){this.specification=o.v.light.position}possiblyEvaluate(a,d){return o.x(a.expression.evaluate(d))}interpolate(a,d,m){return{x:o.y.number(a.x,d.x,m),y:o.y.number(a.y,d.y,m),z:o.y.number(a.z,d.z,m)}}}let Re;class Pe extends o.E{constructor(a){super(),Re=Re||new o.q({anchor:new o.D(o.v.light.anchor),position:new Ue,color:new o.D(o.v.light.color),intensity:new o.D(o.v.light.intensity)}),this._transitionable=new o.T(Re),this.setLight(a),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(a,d={}){if(!this._validate(o.r,a,d))for(let m in a){let g=a[m];m.endsWith("-transition")?this._transitionable.setTransition(m.slice(0,-11),g):this._transitionable.setValue(m,g)}}updateTransitions(a){this._transitioning=this._transitionable.transitioned(a,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(a){this.properties=this._transitioning.possiblyEvaluate(a)}_validate(a,d,m){return(!m||m.validate!==!1)&&o.t(this,a.call(o.u,{value:d,style:{glyphs:!0,sprite:!0},styleSpec:o.v}))}}let et=new o.q({"sky-color":new o.D(o.v.sky["sky-color"]),"horizon-color":new o.D(o.v.sky["horizon-color"]),"fog-color":new o.D(o.v.sky["fog-color"]),"fog-ground-blend":new o.D(o.v.sky["fog-ground-blend"]),"horizon-fog-blend":new o.D(o.v.sky["horizon-fog-blend"]),"sky-horizon-blend":new o.D(o.v.sky["sky-horizon-blend"]),"atmosphere-blend":new o.D(o.v.sky["atmosphere-blend"])});class lt extends o.E{constructor(a){super(),this._transitionable=new o.T(et),this.setSky(a),this._transitioning=this._transitionable.untransitioned(),this.recalculate(new o.z(0))}setSky(a,d={}){if(!this._validate(o.B,a,d)){a||(a={"sky-color":"transparent","horizon-color":"transparent","fog-color":"transparent","fog-ground-blend":1,"atmosphere-blend":0});for(let m in a){let g=a[m];m.endsWith("-transition")?this._transitionable.setTransition(m.slice(0,-11),g):this._transitionable.setValue(m,g)}}}getSky(){return this._transitionable.serialize()}updateTransitions(a){this._transitioning=this._transitionable.transitioned(a,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(a){this.properties=this._transitioning.possiblyEvaluate(a)}_validate(a,d,m={}){return(m==null?void 0:m.validate)!==!1&&o.t(this,a.call(o.u,o.e({value:d,style:{glyphs:!0,sprite:!0},styleSpec:o.v})))}calculateFogBlendOpacity(a){return a<60?0:a<70?(a-60)/10:1}}class ut{constructor(a,d){this.width=a,this.height=d,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}}getDash(a,d){let m=a.join(",")+String(d);return this.dashEntry[m]||(this.dashEntry[m]=this.addDash(a,d)),this.dashEntry[m]}getDashRanges(a,d,m){let g=[],b=a.length%2==1?-a[a.length-1]*m:0,C=a[0]*m,P=!0;g.push({left:b,right:C,isDash:P,zeroLength:a[0]===0});let O=a[0];for(let z=1;z<a.length;z++){P=!P;let U=a[z];b=O*m,O+=U,C=O*m,g.push({left:b,right:C,isDash:P,zeroLength:U===0})}return g}addRoundDash(a,d,m){let g=d/2;for(let b=-m;b<=m;b++){let C=this.width*(this.nextRow+m+b),P=0,O=a[P];for(let z=0;z<this.width;z++){z/O.right>1&&(O=a[++P]);let U=Math.abs(z-O.left),V=Math.abs(z-O.right),K=Math.min(U,V),te,oe=b/m*(g+1);if(O.isDash){let ce=g-Math.abs(oe);te=Math.sqrt(K*K+ce*ce)}else te=g-Math.sqrt(K*K+oe*oe);this.data[C+z]=Math.max(0,Math.min(255,te+128))}}}addRegularDash(a){for(let P=a.length-1;P>=0;--P){let O=a[P],z=a[P+1];O.zeroLength?a.splice(P,1):z&&z.isDash===O.isDash&&(z.left=O.left,a.splice(P,1))}let d=a[0],m=a[a.length-1];d.isDash===m.isDash&&(d.left=m.left-this.width,m.right=d.right+this.width);let g=this.width*this.nextRow,b=0,C=a[b];for(let P=0;P<this.width;P++){P/C.right>1&&(C=a[++b]);let O=Math.abs(P-C.left),z=Math.abs(P-C.right),U=Math.min(O,z);this.data[g+P]=Math.max(0,Math.min(255,(C.isDash?U:-U)+128))}}addDash(a,d){let m=d?7:0,g=2*m+1;if(this.nextRow+g>this.height)return o.w("LineAtlas out of space"),null;let b=0;for(let P=0;P<a.length;P++)b+=a[P];if(b!==0){let P=this.width/b,O=this.getDashRanges(a,this.width,P);d?this.addRoundDash(O,P,m):this.addRegularDash(O)}let C={y:(this.nextRow+m+.5)/this.height,height:2*m/this.height,width:b};return this.nextRow+=g,this.dirty=!0,C}bind(a){let d=a.gl;this.texture?(d.bindTexture(d.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,d.texSubImage2D(d.TEXTURE_2D,0,0,0,this.width,this.height,d.ALPHA,d.UNSIGNED_BYTE,this.data))):(this.texture=d.createTexture(),d.bindTexture(d.TEXTURE_2D,this.texture),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,d.REPEAT),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,d.REPEAT),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.LINEAR),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,d.LINEAR),d.texImage2D(d.TEXTURE_2D,0,d.ALPHA,this.width,this.height,0,d.ALPHA,d.UNSIGNED_BYTE,this.data))}}let Fe="maplibre_preloaded_worker_pool";class Ge{constructor(){this.active={}}acquire(a){if(!this.workers)for(this.workers=[];this.workers.length<Ge.workerCount;)this.workers.push(new Worker(o.a.WORKER_URL));return this.active[a]=!0,this.workers.slice()}release(a){delete this.active[a],this.numActive()===0&&(this.workers.forEach(d=>{d.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[Fe]}numActive(){return Object.keys(this.active).length}}let ot=Math.floor(y.hardwareConcurrency/2),De,he;function ke(){return De||(De=new Ge),De}Ge.workerCount=o.C(globalThis)?Math.max(Math.min(ot,3),1):1;class Te{constructor(a,d){this.workerPool=a,this.actors=[],this.currentActor=0,this.id=d;let m=this.workerPool.acquire(d);for(let g=0;g<m.length;g++){let b=new o.F(m[g],d);b.name=`Worker ${g}`,this.actors.push(b)}if(!this.actors.length)throw new Error("No actors found")}broadcast(a,d){let m=[];for(let g of this.actors)m.push(g.sendAsync({type:a,data:d}));return Promise.all(m)}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(a=!0){this.actors.forEach(d=>{d.remove()}),this.actors=[],a&&this.workerPool.release(this.id)}registerMessageHandler(a,d){for(let m of this.actors)m.registerMessageHandler(a,d)}}function Qe(){return he||(he=new Te(ke(),o.G),he.registerMessageHandler("GR",(x,a,d)=>o.m(a,d))),he}function Ye(x,a){let d=o.H();return o.J(d,d,[1,1,0]),o.K(d,d,[.5*x.width,.5*x.height,1]),o.L(d,d,x.calculatePosMatrix(a.toUnwrapped()))}function Ct(x,a,d,m,g,b){let C=function(V,K,te){if(V)for(let oe of V){let ce=K[oe];if(ce&&ce.source===te&&ce.type==="fill-extrusion")return!0}else for(let oe in K){let ce=K[oe];if(ce.source===te&&ce.type==="fill-extrusion")return!0}return!1}(g&&g.layers,a,x.id),P=b.maxPitchScaleFactor(),O=x.tilesIn(m,P,C);O.sort(yt);let z=[];for(let V of O)z.push({wrappedTileID:V.tileID.wrapped().key,queryResults:V.tile.queryRenderedFeatures(a,d,x._state,V.queryGeometry,V.cameraQueryGeometry,V.scale,g,b,P,Ye(x.transform,V.tileID))});let U=function(V){let K={},te={};for(let oe of V){let ce=oe.queryResults,pe=oe.wrappedTileID,me=te[pe]=te[pe]||{};for(let ye in ce){let se=ce[ye],Ie=me[ye]=me[ye]||{},Me=K[ye]=K[ye]||[];for(let Le of se)Ie[Le.featureIndex]||(Ie[Le.featureIndex]=!0,Me.push(Le))}}return K}(z);for(let V in U)U[V].forEach(K=>{let te=K.feature,oe=x.getFeatureState(te.layer["source-layer"],te.id);te.source=te.layer.source,te.layer["source-layer"]&&(te.sourceLayer=te.layer["source-layer"]),te.state=oe});return U}function yt(x,a){let d=x.tileID,m=a.tileID;return d.overscaledZ-m.overscaledZ||d.canonical.y-m.canonical.y||d.wrap-m.wrap||d.canonical.x-m.canonical.x}function Nt(x,a,d){return o._(this,void 0,void 0,function*(){let m=x;if(x.url?m=(yield o.h(a.transformRequest(x.url,"Source"),d)).data:yield y.frameAsync(d),!m)return null;let g=o.M(o.e(m,x),["tiles","minzoom","maxzoom","attribution","bounds","scheme","tileSize","encoding"]);return"vector_layers"in m&&m.vector_layers&&(g.vectorLayerIds=m.vector_layers.map(b=>b.id)),g})}class we{constructor(a,d){a&&(d?this.setSouthWest(a).setNorthEast(d):Array.isArray(a)&&(a.length===4?this.setSouthWest([a[0],a[1]]).setNorthEast([a[2],a[3]]):this.setSouthWest(a[0]).setNorthEast(a[1])))}setNorthEast(a){return this._ne=a instanceof o.N?new o.N(a.lng,a.lat):o.N.convert(a),this}setSouthWest(a){return this._sw=a instanceof o.N?new o.N(a.lng,a.lat):o.N.convert(a),this}extend(a){let d=this._sw,m=this._ne,g,b;if(a instanceof o.N)g=a,b=a;else{if(!(a instanceof we))return Array.isArray(a)?a.length===4||a.every(Array.isArray)?this.extend(we.convert(a)):this.extend(o.N.convert(a)):a&&("lng"in a||"lon"in a)&&"lat"in a?this.extend(o.N.convert(a)):this;if(g=a._sw,b=a._ne,!g||!b)return this}return d||m?(d.lng=Math.min(g.lng,d.lng),d.lat=Math.min(g.lat,d.lat),m.lng=Math.max(b.lng,m.lng),m.lat=Math.max(b.lat,m.lat)):(this._sw=new o.N(g.lng,g.lat),this._ne=new o.N(b.lng,b.lat)),this}getCenter(){return new o.N((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new o.N(this.getWest(),this.getNorth())}getSouthEast(){return new o.N(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(a){let{lng:d,lat:m}=o.N.convert(a),g=this._sw.lng<=d&&d<=this._ne.lng;return this._sw.lng>this._ne.lng&&(g=this._sw.lng>=d&&d>=this._ne.lng),this._sw.lat<=m&&m<=this._ne.lat&&g}static convert(a){return a instanceof we?a:a&&new we(a)}static fromLngLat(a,d=0){let m=360*d/40075017,g=m/Math.cos(Math.PI/180*a.lat);return new we(new o.N(a.lng-g,a.lat-m),new o.N(a.lng+g,a.lat+m))}adjustAntiMeridian(){let a=new o.N(this._sw.lng,this._sw.lat),d=new o.N(this._ne.lng,this._ne.lat);return new we(a,a.lng>d.lng?new o.N(d.lng+360,d.lat):d)}}class bt{constructor(a,d,m){this.bounds=we.convert(this.validateBounds(a)),this.minzoom=d||0,this.maxzoom=m||24}validateBounds(a){return Array.isArray(a)&&a.length===4?[Math.max(-180,a[0]),Math.max(-90,a[1]),Math.min(180,a[2]),Math.min(90,a[3])]:[-180,-90,180,90]}contains(a){let d=Math.pow(2,a.z),m=Math.floor(o.O(this.bounds.getWest())*d),g=Math.floor(o.Q(this.bounds.getNorth())*d),b=Math.ceil(o.O(this.bounds.getEast())*d),C=Math.ceil(o.Q(this.bounds.getSouth())*d);return a.x>=m&&a.x<b&&a.y>=g&&a.y<C}}class Ft extends o.E{constructor(a,d,m,g){if(super(),this.id=a,this.dispatcher=m,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,o.e(this,o.M(d,["url","scheme","tileSize","promoteId"])),this._options=o.e({type:"vector"},d),this._collectResourceTiming=d.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(g)}load(){return o._(this,void 0,void 0,function*(){this._loaded=!1,this.fire(new o.k("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{let a=yield Nt(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,this.map.style.sourceCaches[this.id].clearTiles(),a&&(o.e(this,a),a.bounds&&(this.tileBounds=new bt(a.bounds,this.minzoom,this.maxzoom)),this.fire(new o.k("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new o.k("data",{dataType:"source",sourceDataType:"content"})))}catch(a){this._tileJSONRequest=null,this.fire(new o.j(a))}})}loaded(){return this._loaded}hasTile(a){return!this.tileBounds||this.tileBounds.contains(a.canonical)}onAdd(a){this.map=a,this.load()}setSourceProperty(a){this._tileJSONRequest&&this._tileJSONRequest.abort(),a(),this.load()}setTiles(a){return this.setSourceProperty(()=>{this._options.tiles=a}),this}setUrl(a){return this.setSourceProperty(()=>{this.url=a,this._options.url=a}),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null)}serialize(){return o.e({},this._options)}loadTile(a){return o._(this,void 0,void 0,function*(){let d=a.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),m={request:this.map._requestManager.transformRequest(d,"Tile"),uid:a.uid,tileID:a.tileID,zoom:a.tileID.overscaledZ,tileSize:this.tileSize*a.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};m.request.collectResourceTiming=this._collectResourceTiming;let g="RT";if(a.actor&&a.state!=="expired"){if(a.state==="loading")return new Promise((b,C)=>{a.reloadPromise={resolve:b,reject:C}})}else a.actor=this.dispatcher.getActor(),g="LT";a.abortController=new AbortController;try{let b=yield a.actor.sendAsync({type:g,data:m},a.abortController);if(delete a.abortController,a.aborted)return;this._afterTileLoadWorkerResponse(a,b)}catch(b){if(delete a.abortController,a.aborted)return;if(b&&b.status!==404)throw b;this._afterTileLoadWorkerResponse(a,null)}})}_afterTileLoadWorkerResponse(a,d){if(d&&d.resourceTiming&&(a.resourceTiming=d.resourceTiming),d&&this.map._refreshExpiredTiles&&a.setExpiryData(d),a.loadVectorData(d,this.map.painter),a.reloadPromise){let m=a.reloadPromise;a.reloadPromise=null,this.loadTile(a).then(m.resolve).catch(m.reject)}}abortTile(a){return o._(this,void 0,void 0,function*(){a.abortController&&(a.abortController.abort(),delete a.abortController),a.actor&&(yield a.actor.sendAsync({type:"AT",data:{uid:a.uid,type:this.type,source:this.id}}))})}unloadTile(a){return o._(this,void 0,void 0,function*(){a.unloadVectorData(),a.actor&&(yield a.actor.sendAsync({type:"RMT",data:{uid:a.uid,type:this.type,source:this.id}}))})}hasTransition(){return!1}}class vt extends o.E{constructor(a,d,m,g){super(),this.id=a,this.dispatcher=m,this.setEventedParent(g),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=o.e({type:"raster"},d),o.e(this,o.M(d,["url","scheme","tileSize"]))}load(){return o._(this,void 0,void 0,function*(){this._loaded=!1,this.fire(new o.k("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{let a=yield Nt(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,a&&(o.e(this,a),a.bounds&&(this.tileBounds=new bt(a.bounds,this.minzoom,this.maxzoom)),this.fire(new o.k("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new o.k("data",{dataType:"source",sourceDataType:"content"})))}catch(a){this._tileJSONRequest=null,this.fire(new o.j(a))}})}loaded(){return this._loaded}onAdd(a){this.map=a,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null)}setSourceProperty(a){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null),a(),this.load()}setTiles(a){return this.setSourceProperty(()=>{this._options.tiles=a}),this}setUrl(a){return this.setSourceProperty(()=>{this.url=a,this._options.url=a}),this}serialize(){return o.e({},this._options)}hasTile(a){return!this.tileBounds||this.tileBounds.contains(a.canonical)}loadTile(a){return o._(this,void 0,void 0,function*(){let d=a.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);a.abortController=new AbortController;try{let m=yield L.getImage(this.map._requestManager.transformRequest(d,"Tile"),a.abortController,this.map._refreshExpiredTiles);if(delete a.abortController,a.aborted)return void(a.state="unloaded");if(m&&m.data){this.map._refreshExpiredTiles&&m.cacheControl&&m.expires&&a.setExpiryData({cacheControl:m.cacheControl,expires:m.expires});let g=this.map.painter.context,b=g.gl,C=m.data;a.texture=this.map.painter.getTileTexture(C.width),a.texture?a.texture.update(C,{useMipmap:!0}):(a.texture=new _e(g,C,b.RGBA,{useMipmap:!0}),a.texture.bind(b.LINEAR,b.CLAMP_TO_EDGE,b.LINEAR_MIPMAP_NEAREST)),a.state="loaded"}}catch(m){if(delete a.abortController,a.aborted)a.state="unloaded";else if(m)throw a.state="errored",m}})}abortTile(a){return o._(this,void 0,void 0,function*(){a.abortController&&(a.abortController.abort(),delete a.abortController)})}unloadTile(a){return o._(this,void 0,void 0,function*(){a.texture&&this.map.painter.saveTileTexture(a.texture)})}hasTransition(){return!1}}class Yt extends vt{constructor(a,d,m,g){super(a,d,m,g),this.type="raster-dem",this.maxzoom=22,this._options=o.e({type:"raster-dem"},d),this.encoding=d.encoding||"mapbox",this.redFactor=d.redFactor,this.greenFactor=d.greenFactor,this.blueFactor=d.blueFactor,this.baseShift=d.baseShift}loadTile(a){return o._(this,void 0,void 0,function*(){let d=a.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),m=this.map._requestManager.transformRequest(d,"Tile");a.neighboringTiles=this._getNeighboringTiles(a.tileID),a.abortController=new AbortController;try{let g=yield L.getImage(m,a.abortController,this.map._refreshExpiredTiles);if(delete a.abortController,a.aborted)return void(a.state="unloaded");if(g&&g.data){let b=g.data;this.map._refreshExpiredTiles&&g.cacheControl&&g.expires&&a.setExpiryData({cacheControl:g.cacheControl,expires:g.expires});let C=o.b(b)&&o.U()?b:yield this.readImageNow(b),P={type:this.type,uid:a.uid,source:this.id,rawImageData:C,encoding:this.encoding,redFactor:this.redFactor,greenFactor:this.greenFactor,blueFactor:this.blueFactor,baseShift:this.baseShift};if(!a.actor||a.state==="expired"){a.actor=this.dispatcher.getActor();let O=yield a.actor.sendAsync({type:"LDT",data:P});a.dem=O,a.needsHillshadePrepare=!0,a.needsTerrainPrepare=!0,a.state="loaded"}}}catch(g){if(delete a.abortController,a.aborted)a.state="unloaded";else if(g)throw a.state="errored",g}})}readImageNow(a){return o._(this,void 0,void 0,function*(){if(typeof VideoFrame!="undefined"&&o.V()){let d=a.width+2,m=a.height+2;try{return new o.R({width:d,height:m},(yield o.W(a,-1,-1,d,m)))}catch(g){}}return y.getImageData(a,1)})}_getNeighboringTiles(a){let d=a.canonical,m=Math.pow(2,d.z),g=(d.x-1+m)%m,b=d.x===0?a.wrap-1:a.wrap,C=(d.x+1+m)%m,P=d.x+1===m?a.wrap+1:a.wrap,O={};return O[new o.S(a.overscaledZ,b,d.z,g,d.y).key]={backfilled:!1},O[new o.S(a.overscaledZ,P,d.z,C,d.y).key]={backfilled:!1},d.y>0&&(O[new o.S(a.overscaledZ,b,d.z,g,d.y-1).key]={backfilled:!1},O[new o.S(a.overscaledZ,a.wrap,d.z,d.x,d.y-1).key]={backfilled:!1},O[new o.S(a.overscaledZ,P,d.z,C,d.y-1).key]={backfilled:!1}),d.y+1<m&&(O[new o.S(a.overscaledZ,b,d.z,g,d.y+1).key]={backfilled:!1},O[new o.S(a.overscaledZ,a.wrap,d.z,d.x,d.y+1).key]={backfilled:!1},O[new o.S(a.overscaledZ,P,d.z,C,d.y+1).key]={backfilled:!1}),O}unloadTile(a){return o._(this,void 0,void 0,function*(){a.demTexture&&this.map.painter.saveTileTexture(a.demTexture),a.fbo&&(a.fbo.destroy(),delete a.fbo),a.dem&&delete a.dem,delete a.neighboringTiles,a.state="unloaded",a.actor&&(yield a.actor.sendAsync({type:"RDT",data:{type:this.type,uid:a.uid,source:this.id}}))})}}class Or extends o.E{constructor(a,d,m,g){super(),this.id=a,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._pendingLoads=0,this.actor=m.getActor(),this.setEventedParent(g),this._data=d.data,this._options=o.e({},d),this._collectResourceTiming=d.collectResourceTiming,d.maxzoom!==void 0&&(this.maxzoom=d.maxzoom),d.type&&(this.type=d.type),d.attribution&&(this.attribution=d.attribution),this.promoteId=d.promoteId;let b=o.X/this.tileSize;d.clusterMaxZoom!==void 0&&this.maxzoom<=d.clusterMaxZoom&&o.w(`The maxzoom value "${this.maxzoom}" is expected to be greater than the clusterMaxZoom value "${d.clusterMaxZoom}".`),this.workerOptions=o.e({source:this.id,cluster:d.cluster||!1,geojsonVtOptions:{buffer:(d.buffer!==void 0?d.buffer:128)*b,tolerance:(d.tolerance!==void 0?d.tolerance:.375)*b,extent:o.X,maxZoom:this.maxzoom,lineMetrics:d.lineMetrics||!1,generateId:d.generateId||!1},superclusterOptions:{maxZoom:d.clusterMaxZoom!==void 0?d.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,d.clusterMinPoints||2),extent:o.X,radius:(d.clusterRadius||50)*b,log:!1,generateId:d.generateId||!1},clusterProperties:d.clusterProperties,filter:d.filter},d.workerOptions),typeof this.promoteId=="string"&&(this.workerOptions.promoteId=this.promoteId)}load(){return o._(this,void 0,void 0,function*(){yield this._updateWorkerData()})}onAdd(a){this.map=a,this.load()}setData(a){return this._data=a,this._updateWorkerData(),this}updateData(a){return this._updateWorkerData(a),this}getData(){return o._(this,void 0,void 0,function*(){let a=o.e({type:this.type},this.workerOptions);return this.actor.sendAsync({type:"GD",data:a})})}setClusterOptions(a){return this.workerOptions.cluster=a.cluster,a&&(a.clusterRadius!==void 0&&(this.workerOptions.superclusterOptions.radius=a.clusterRadius),a.clusterMaxZoom!==void 0&&(this.workerOptions.superclusterOptions.maxZoom=a.clusterMaxZoom)),this._updateWorkerData(),this}getClusterExpansionZoom(a){return this.actor.sendAsync({type:"GCEZ",data:{type:this.type,clusterId:a,source:this.id}})}getClusterChildren(a){return this.actor.sendAsync({type:"GCC",data:{type:this.type,clusterId:a,source:this.id}})}getClusterLeaves(a,d,m){return this.actor.sendAsync({type:"GCL",data:{type:this.type,source:this.id,clusterId:a,limit:d,offset:m}})}_updateWorkerData(a){return o._(this,void 0,void 0,function*(){let d=o.e({type:this.type},this.workerOptions);a?d.dataDiff=a:typeof this._data=="string"?(d.request=this.map._requestManager.transformRequest(y.resolveURL(this._data),"Source"),d.request.collectResourceTiming=this._collectResourceTiming):d.data=JSON.stringify(this._data),this._pendingLoads++,this.fire(new o.k("dataloading",{dataType:"source"}));try{let m=yield this.actor.sendAsync({type:"LD",data:d});if(this._pendingLoads--,this._removed||m.abandoned)return void this.fire(new o.k("dataabort",{dataType:"source"}));let g=null;m.resourceTiming&&m.resourceTiming[this.id]&&(g=m.resourceTiming[this.id].slice(0));let b={dataType:"source"};this._collectResourceTiming&&g&&g.length>0&&o.e(b,{resourceTiming:g}),this.fire(new o.k("data",Object.assign(Object.assign({},b),{sourceDataType:"metadata"}))),this.fire(new o.k("data",Object.assign(Object.assign({},b),{sourceDataType:"content"})))}catch(m){if(this._pendingLoads--,this._removed)return void this.fire(new o.k("dataabort",{dataType:"source"}));this.fire(new o.j(m))}})}loaded(){return this._pendingLoads===0}loadTile(a){return o._(this,void 0,void 0,function*(){let d=a.actor?"RT":"LT";a.actor=this.actor;let m={type:this.type,uid:a.uid,tileID:a.tileID,zoom:a.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};a.abortController=new AbortController;let g=yield this.actor.sendAsync({type:d,data:m},a.abortController);delete a.abortController,a.unloadVectorData(),a.aborted||a.loadVectorData(g,this.map.painter,d==="RT")})}abortTile(a){return o._(this,void 0,void 0,function*(){a.abortController&&(a.abortController.abort(),delete a.abortController),a.aborted=!0})}unloadTile(a){return o._(this,void 0,void 0,function*(){a.unloadVectorData(),yield this.actor.sendAsync({type:"RMT",data:{uid:a.uid,type:this.type,source:this.id}})})}onRemove(){this._removed=!0,this.actor.sendAsync({type:"RS",data:{type:this.type,source:this.id}})}serialize(){return o.e({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}}var Wt=o.Y([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class hr extends o.E{constructor(a,d,m,g){super(),this.id=a,this.dispatcher=m,this.coordinates=d.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(g),this.options=d}load(a){return o._(this,void 0,void 0,function*(){this._loaded=!1,this.fire(new o.k("dataloading",{dataType:"source"})),this.url=this.options.url,this._request=new AbortController;try{let d=yield L.getImage(this.map._requestManager.transformRequest(this.url,"Image"),this._request);this._request=null,this._loaded=!0,d&&d.data&&(this.image=d.data,a&&(this.coordinates=a),this._finishLoading())}catch(d){this._request=null,this._loaded=!0,this.fire(new o.j(d))}})}loaded(){return this._loaded}updateImage(a){return a.url?(this._request&&(this._request.abort(),this._request=null),this.options.url=a.url,this.load(a.coordinates).finally(()=>{this.texture=null}),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new o.k("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(a){this.map=a,this.load()}onRemove(){this._request&&(this._request.abort(),this._request=null)}setCoordinates(a){this.coordinates=a;let d=a.map(o.Z.fromLngLat);this.tileID=function(g){let b=1/0,C=1/0,P=-1/0,O=-1/0;for(let K of g)b=Math.min(b,K.x),C=Math.min(C,K.y),P=Math.max(P,K.x),O=Math.max(O,K.y);let z=Math.max(P-b,O-C),U=Math.max(0,Math.floor(-Math.log(z)/Math.LN2)),V=Math.pow(2,U);return new o.a1(U,Math.floor((b+P)/2*V),Math.floor((C+O)/2*V))}(d),this.minzoom=this.maxzoom=this.tileID.z;let m=d.map(g=>this.tileID.getTilePoint(g)._round());return this._boundsArray=new o.$,this._boundsArray.emplaceBack(m[0].x,m[0].y,0,0),this._boundsArray.emplaceBack(m[1].x,m[1].y,o.X,0),this._boundsArray.emplaceBack(m[3].x,m[3].y,0,o.X),this._boundsArray.emplaceBack(m[2].x,m[2].y,o.X,o.X),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new o.k("data",{dataType:"source",sourceDataType:"content"})),this}prepare(){if(Object.keys(this.tiles).length===0||!this.image)return;let a=this.map.painter.context,d=a.gl;this.boundsBuffer||(this.boundsBuffer=a.createVertexBuffer(this._boundsArray,Wt.members)),this.boundsSegments||(this.boundsSegments=o.a0.simpleSegment(0,0,4,2)),this.texture||(this.texture=new _e(a,this.image,d.RGBA),this.texture.bind(d.LINEAR,d.CLAMP_TO_EDGE));let m=!1;for(let g in this.tiles){let b=this.tiles[g];b.state!=="loaded"&&(b.state="loaded",b.texture=this.texture,m=!0)}m&&this.fire(new o.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}loadTile(a){return o._(this,void 0,void 0,function*(){this.tileID&&this.tileID.equals(a.tileID.canonical)?(this.tiles[String(a.tileID.wrap)]=a,a.buckets={}):a.state="errored"})}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}}class Gr extends hr{constructor(a,d,m,g){super(a,d,m,g),this.roundZoom=!0,this.type="video",this.options=d}load(){return o._(this,void 0,void 0,function*(){this._loaded=!1;let a=this.options;this.urls=[];for(let d of a.urls)this.urls.push(this.map._requestManager.transformRequest(d,"Source").url);try{let d=yield o.a3(this.urls);if(this._loaded=!0,!d)return;this.video=d,this.video.loop=!0,this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading()}catch(d){this.fire(new o.j(d))}})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(a){if(this.video){let d=this.video.seekable;a<d.start(0)||a>d.end(0)?this.fire(new o.j(new o.a2(`sources.${this.id}`,null,`Playback for this video can be set only between the ${d.start(0)} and ${d.end(0)}-second mark.`))):this.video.currentTime=a}}getVideo(){return this.video}onAdd(a){this.map||(this.map=a,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;let a=this.map.painter.context,d=a.gl;this.boundsBuffer||(this.boundsBuffer=a.createVertexBuffer(this._boundsArray,Wt.members)),this.boundsSegments||(this.boundsSegments=o.a0.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(d.LINEAR,d.CLAMP_TO_EDGE),d.texSubImage2D(d.TEXTURE_2D,0,0,0,d.RGBA,d.UNSIGNED_BYTE,this.video)):(this.texture=new _e(a,this.video,d.RGBA),this.texture.bind(d.LINEAR,d.CLAMP_TO_EDGE));let m=!1;for(let g in this.tiles){let b=this.tiles[g];b.state!=="loaded"&&(b.state="loaded",b.texture=this.texture,m=!0)}m&&this.fire(new o.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}}class Yr extends hr{constructor(a,d,m,g){super(a,d,m,g),d.coordinates?Array.isArray(d.coordinates)&&d.coordinates.length===4&&!d.coordinates.some(b=>!Array.isArray(b)||b.length!==2||b.some(C=>typeof C!="number"))||this.fire(new o.j(new o.a2(`sources.${a}`,null,"\"coordinates\" property must be an array of 4 longitude/latitude array pairs"))):this.fire(new o.j(new o.a2(`sources.${a}`,null,"missing required property \"coordinates\""))),d.animate&&typeof d.animate!="boolean"&&this.fire(new o.j(new o.a2(`sources.${a}`,null,"optional \"animate\" property must be a boolean value"))),d.canvas?typeof d.canvas=="string"||d.canvas instanceof HTMLCanvasElement||this.fire(new o.j(new o.a2(`sources.${a}`,null,"\"canvas\" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance"))):this.fire(new o.j(new o.a2(`sources.${a}`,null,"missing required property \"canvas\""))),this.options=d,this.animate=d.animate===void 0||d.animate}load(){return o._(this,void 0,void 0,function*(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new o.j(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())})}getCanvas(){return this.canvas}onAdd(a){this.map=a,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let a=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,a=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,a=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;let d=this.map.painter.context,m=d.gl;this.boundsBuffer||(this.boundsBuffer=d.createVertexBuffer(this._boundsArray,Wt.members)),this.boundsSegments||(this.boundsSegments=o.a0.simpleSegment(0,0,4,2)),this.texture?(a||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new _e(d,this.canvas,m.RGBA,{premultiply:!0});let g=!1;for(let b in this.tiles){let C=this.tiles[b];C.state!=="loaded"&&(C.state="loaded",C.texture=this.texture,g=!0)}g&&this.fire(new o.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(let a of[this.canvas.width,this.canvas.height])if(isNaN(a)||a<=0)return!0;return!1}}let ir={},tn=x=>{switch(x){case"geojson":return Or;case"image":return hr;case"raster":return vt;case"raster-dem":return Yt;case"vector":return Ft;case"video":return Gr;case"canvas":return Yr;}return ir[x]},at="RTLPluginLoaded";class fi extends o.E{constructor(){super(...arguments),this.status="unavailable",this.url=null,this.dispatcher=Qe()}_syncState(a){return this.status=a,this.dispatcher.broadcast("SRPS",{pluginStatus:a,pluginURL:this.url}).catch(d=>{throw this.status="error",d})}getRTLTextPluginStatus(){return this.status}clearRTLTextPlugin(){this.status="unavailable",this.url=null}setRTLTextPlugin(a){return o._(this,arguments,void 0,function*(d,m=!1){if(this.url)throw new Error("setRTLTextPlugin cannot be called multiple times.");if(this.url=y.resolveURL(d),!this.url)throw new Error(`requested url ${d} is invalid`);if(this.status==="unavailable"){if(!m)return this._requestImport();this.status="deferred",this._syncState(this.status)}else if(this.status==="requested")return this._requestImport()})}_requestImport(){return o._(this,void 0,void 0,function*(){yield this._syncState("loading"),this.status="loaded",this.fire(new o.k(at))})}lazyLoad(){this.status==="unavailable"?this.status="requested":this.status==="deferred"&&this._requestImport()}}let wn=null;function is(){return wn||(wn=new fi),wn}class gl{constructor(a,d){this.timeAdded=0,this.fadeEndTime=0,this.tileID=a,this.uid=o.a4(),this.uses=0,this.tileSize=d,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.rtt=[],this.rttCoords={},this.expiredRequestCount=0,this.state="loading"}registerFadeDuration(a){let d=a+this.timeAdded;d<this.fadeEndTime||(this.fadeEndTime=d)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}clearTextures(a){this.demTexture&&a.saveTileTexture(this.demTexture),this.demTexture=null}loadVectorData(a,d,m){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",a){a.featureIndex&&(this.latestFeatureIndex=a.featureIndex,a.rawTileData?(this.latestRawTileData=a.rawTileData,this.latestFeatureIndex.rawTileData=a.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=a.collisionBoxArray,this.buckets=function(g,b){let C={};if(!b)return C;for(let P of g){let O=P.layerIds.map(z=>b.getLayer(z)).filter(Boolean);if(O.length!==0){P.layers=O,P.stateDependentLayerIds&&(P.stateDependentLayers=P.stateDependentLayerIds.map(z=>O.filter(U=>U.id===z)[0]));for(let z of O)C[z.id]=P}}return C}(a.buckets,d.style),this.hasSymbolBuckets=!1;for(let g in this.buckets){let b=this.buckets[g];if(b instanceof o.a6){if(this.hasSymbolBuckets=!0,!m)break;b.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(let g in this.buckets){let b=this.buckets[g];if(b instanceof o.a6&&b.hasRTLText){this.hasRTLText=!0,is().lazyLoad();break}}this.queryPadding=0;for(let g in this.buckets){let b=this.buckets[g];this.queryPadding=Math.max(this.queryPadding,d.style.getLayer(g).queryRadius(b))}a.imageAtlas&&(this.imageAtlas=a.imageAtlas),a.glyphAtlasImage&&(this.glyphAtlasImage=a.glyphAtlasImage)}else this.collisionBoxArray=new o.a5}unloadVectorData(){for(let a in this.buckets)this.buckets[a].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(a){return this.buckets[a.id]}upload(a){for(let m in this.buckets){let g=this.buckets[m];g.uploadPending()&&g.upload(a)}let d=a.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new _e(a,this.imageAtlas.image,d.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new _e(a,this.glyphAtlasImage,d.ALPHA),this.glyphAtlasImage=null)}prepare(a){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(a,this.imageAtlasTexture)}queryRenderedFeatures(a,d,m,g,b,C,P,O,z,U){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:g,cameraQueryGeometry:b,scale:C,tileSize:this.tileSize,pixelPosMatrix:U,transform:O,params:P,queryPadding:this.queryPadding*z},a,d,m):{}}querySourceFeatures(a,d){let m=this.latestFeatureIndex;if(!m||!m.rawTileData)return;let g=m.loadVTLayers(),b=d&&d.sourceLayer?d.sourceLayer:"",C=g._geojsonTileLayer||g[b];if(!C)return;let P=o.a7(d&&d.filter),{z:O,x:z,y:U}=this.tileID.canonical,V={z:O,x:z,y:U};for(let K=0;K<C.length;K++){let te=C.feature(K);if(P.needGeometry){let pe=o.a8(te,!0);if(!P.filter(new o.z(this.tileID.overscaledZ),pe,this.tileID.canonical))continue}else if(!P.filter(new o.z(this.tileID.overscaledZ),te))continue;let oe=m.getId(te,b),ce=new o.a9(te,O,z,U,oe);ce.tile=V,a.push(ce)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(a){let d=this.expirationTime;if(a.cacheControl){let m=o.aa(a.cacheControl);m["max-age"]&&(this.expirationTime=Date.now()+1e3*m["max-age"])}else a.expires&&(this.expirationTime=new Date(a.expires).getTime());if(this.expirationTime){let m=Date.now(),g=!1;if(this.expirationTime>m)g=!1;else if(d){if(this.expirationTime<d)g=!0;else{let b=this.expirationTime-d;b?this.expirationTime=m+Math.max(b,3e4):g=!0}}else g=!0;g?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(a,d){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(a).length===0)return;let m=this.latestFeatureIndex.loadVTLayers();for(let g in this.buckets){if(!d.style.hasLayer(g))continue;let b=this.buckets[g],C=b.layers[0].sourceLayer||"_geojsonTileLayer",P=m[C],O=a[C];if(!P||!O||Object.keys(O).length===0)continue;b.update(O,P,this.imageAtlas&&this.imageAtlas.patternPositions||{});let z=d&&d.style&&d.style.getLayer(g);z&&(this.queryPadding=Math.max(this.queryPadding,z.queryRadius(b)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<y.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(a){this.symbolFadeHoldUntil=y.now()+a}setDependencies(a,d){let m={};for(let g of d)m[g]=!0;this.dependencies[a]=m}hasDependency(a,d){for(let m of a){let g=this.dependencies[m];if(g){for(let b of d)if(g[b])return!0}}return!1}}class wt{constructor(a,d){this.max=a,this.onRemove=d,this.reset()}reset(){for(let a in this.data)for(let d of this.data[a])d.timeout&&clearTimeout(d.timeout),this.onRemove(d.value);return this.data={},this.order=[],this}add(a,d,m){let g=a.wrapped().key;this.data[g]===void 0&&(this.data[g]=[]);let b={value:d,timeout:void 0};if(m!==void 0&&(b.timeout=setTimeout(()=>{this.remove(a,b)},m)),this.data[g].push(b),this.order.push(g),this.order.length>this.max){let C=this._getAndRemoveByKey(this.order[0]);C&&this.onRemove(C)}return this}has(a){return a.wrapped().key in this.data}getAndRemove(a){return this.has(a)?this._getAndRemoveByKey(a.wrapped().key):null}_getAndRemoveByKey(a){let d=this.data[a].shift();return d.timeout&&clearTimeout(d.timeout),this.data[a].length===0&&delete this.data[a],this.order.splice(this.order.indexOf(a),1),d.value}getByKey(a){let d=this.data[a];return d?d[0].value:null}get(a){return this.has(a)?this.data[a.wrapped().key][0].value:null}remove(a,d){if(!this.has(a))return this;let m=a.wrapped().key,g=d===void 0?0:this.data[m].indexOf(d),b=this.data[m][g];return this.data[m].splice(g,1),b.timeout&&clearTimeout(b.timeout),this.data[m].length===0&&delete this.data[m],this.onRemove(b.value),this.order.splice(this.order.indexOf(m),1),this}setMaxSize(a){for(this.max=a;this.order.length>this.max;){let d=this._getAndRemoveByKey(this.order[0]);d&&this.onRemove(d)}return this}filter(a){let d=[];for(let m in this.data)for(let g of this.data[m])a(g.value)||d.push(g);for(let m of d)this.remove(m.value.tileID,m)}}class Pr{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(a,d,m){let g=String(d);if(this.stateChanges[a]=this.stateChanges[a]||{},this.stateChanges[a][g]=this.stateChanges[a][g]||{},o.e(this.stateChanges[a][g],m),this.deletedStates[a]===null){this.deletedStates[a]={};for(let b in this.state[a])b!==g&&(this.deletedStates[a][b]=null)}else if(this.deletedStates[a]&&this.deletedStates[a][g]===null){this.deletedStates[a][g]={};for(let b in this.state[a][g])m[b]||(this.deletedStates[a][g][b]=null)}else for(let b in m)this.deletedStates[a]&&this.deletedStates[a][g]&&this.deletedStates[a][g][b]===null&&delete this.deletedStates[a][g][b]}removeFeatureState(a,d,m){if(this.deletedStates[a]===null)return;let g=String(d);if(this.deletedStates[a]=this.deletedStates[a]||{},m&&d!==void 0)this.deletedStates[a][g]!==null&&(this.deletedStates[a][g]=this.deletedStates[a][g]||{},this.deletedStates[a][g][m]=null);else if(d!==void 0){if(this.stateChanges[a]&&this.stateChanges[a][g])for(m in this.deletedStates[a][g]={},this.stateChanges[a][g])this.deletedStates[a][g][m]=null;else this.deletedStates[a][g]=null;}else this.deletedStates[a]=null}getState(a,d){let m=String(d),g=o.e({},(this.state[a]||{})[m],(this.stateChanges[a]||{})[m]);if(this.deletedStates[a]===null)return{};if(this.deletedStates[a]){let b=this.deletedStates[a][d];if(b===null)return{};for(let C in b)delete g[C]}return g}initializeTileState(a,d){a.setFeatureState(this.state,d)}coalesceChanges(a,d){let m={};for(let g in this.stateChanges){this.state[g]=this.state[g]||{};let b={};for(let C in this.stateChanges[g])this.state[g][C]||(this.state[g][C]={}),o.e(this.state[g][C],this.stateChanges[g][C]),b[C]=this.state[g][C];m[g]=b}for(let g in this.deletedStates){this.state[g]=this.state[g]||{};let b={};if(this.deletedStates[g]===null)for(let C in this.state[g])b[C]={},this.state[g][C]={};else for(let C in this.deletedStates[g]){if(this.deletedStates[g][C]===null)this.state[g][C]={};else for(let P of Object.keys(this.deletedStates[g][C]))delete this.state[g][C][P];b[C]=this.state[g][C]}m[g]=m[g]||{},o.e(m[g],b)}if(this.stateChanges={},this.deletedStates={},Object.keys(m).length!==0)for(let g in a)a[g].setFeatureState(m,d)}}class fr extends o.E{constructor(a,d,m){super(),this.id=a,this.dispatcher=m,this.on("data",g=>this._dataHandler(g)),this.on("dataloading",()=>{this._sourceErrored=!1}),this.on("error",()=>{this._sourceErrored=this._source.loaded()}),this._source=((g,b,C,P)=>{let O=new(tn(b.type))(g,b,C,P);if(O.id!==g)throw new Error(`Expected Source id to be ${g} instead of ${O.id}`);return O})(a,d,m,this),this._tiles={},this._cache=new wt(0,g=>this._unloadTile(g)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._maxTileCacheZoomLevels=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new Pr,this._didEmitContent=!1,this._updated=!1}onAdd(a){this.map=a,this._maxTileCacheSize=a?a._maxTileCacheSize:null,this._maxTileCacheZoomLevels=a?a._maxTileCacheZoomLevels:null,this._source&&this._source.onAdd&&this._source.onAdd(a)}onRemove(a){this.clearTiles(),this._source&&this._source.onRemove&&this._source.onRemove(a)}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;if(!(this.used===void 0&&this.usedForTerrain===void 0||this.used||this.usedForTerrain))return!0;if(!this._updated)return!1;for(let a in this._tiles){let d=this._tiles[a];if(d.state!=="loaded"&&d.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;let a=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,a&&this.reload(),this.transform&&this.update(this.transform,this.terrain)}_loadTile(a,d,m){return o._(this,void 0,void 0,function*(){try{yield this._source.loadTile(a),this._tileLoaded(a,d,m)}catch(g){a.state="errored",g.status!==404?this._source.fire(new o.j(g,{tile:a})):this.update(this.transform,this.terrain)}})}_unloadTile(a){this._source.unloadTile&&this._source.unloadTile(a)}_abortTile(a){this._source.abortTile&&this._source.abortTile(a),this._source.fire(new o.k("dataabort",{tile:a,coord:a.tileID,dataType:"source"}))}serialize(){return this._source.serialize()}prepare(a){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(let d in this._tiles){let m=this._tiles[d];m.upload(a),m.prepare(this.map.style.imageManager)}}getIds(){return Object.values(this._tiles).map(a=>a.tileID).sort(fo).map(a=>a.key)}getRenderableIds(a){let d=[];for(let m in this._tiles)this._isIdRenderable(m,a)&&d.push(this._tiles[m]);return a?d.sort((m,g)=>{let b=m.tileID,C=g.tileID,P=new o.P(b.canonical.x,b.canonical.y)._rotate(this.transform.angle),O=new o.P(C.canonical.x,C.canonical.y)._rotate(this.transform.angle);return b.overscaledZ-C.overscaledZ||O.y-P.y||O.x-P.x}).map(m=>m.tileID.key):d.map(m=>m.tileID).sort(fo).map(m=>m.key)}hasRenderableParent(a){let d=this.findLoadedParent(a,0);return!!d&&this._isIdRenderable(d.tileID.key)}_isIdRenderable(a,d){return this._tiles[a]&&this._tiles[a].hasData()&&!this._coveredTiles[a]&&(d||!this._tiles[a].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(let a in this._tiles)this._tiles[a].state!=="errored"&&this._reloadTile(a,"reloading")}}_reloadTile(a,d){return o._(this,void 0,void 0,function*(){let m=this._tiles[a];m&&(m.state!=="loading"&&(m.state=d),yield this._loadTile(m,a,d))})}_tileLoaded(a,d,m){a.timeAdded=y.now(),m==="expired"&&(a.refreshedUponExpiration=!0),this._setTileReloadTimer(d,a),this.getSource().type==="raster-dem"&&a.dem&&this._backfillDEM(a),this._state.initializeTileState(a,this.map?this.map.painter:null),a.aborted||this._source.fire(new o.k("data",{dataType:"source",tile:a,coord:a.tileID}))}_backfillDEM(a){let d=this.getRenderableIds();for(let g=0;g<d.length;g++){let b=d[g];if(a.neighboringTiles&&a.neighboringTiles[b]){let C=this.getTileByID(b);m(a,C),m(C,a)}}function m(g,b){g.needsHillshadePrepare=!0,g.needsTerrainPrepare=!0;let C=b.tileID.canonical.x-g.tileID.canonical.x,P=b.tileID.canonical.y-g.tileID.canonical.y,O=Math.pow(2,g.tileID.canonical.z),z=b.tileID.key;C===0&&P===0||Math.abs(P)>1||(Math.abs(C)>1&&(Math.abs(C+O)===1?C+=O:Math.abs(C-O)===1&&(C-=O)),b.dem&&g.dem&&(g.dem.backfillBorder(b.dem,C,P),g.neighboringTiles&&g.neighboringTiles[z]&&(g.neighboringTiles[z].backfilled=!0)))}}getTile(a){return this.getTileByID(a.key)}getTileByID(a){return this._tiles[a]}_retainLoadedChildren(a,d,m,g){for(let b in this._tiles){let C=this._tiles[b];if(g[b]||!C.hasData()||C.tileID.overscaledZ<=d||C.tileID.overscaledZ>m)continue;let P=C.tileID;for(;C&&C.tileID.overscaledZ>d+1;){let z=C.tileID.scaledTo(C.tileID.overscaledZ-1);C=this._tiles[z.key],C&&C.hasData()&&(P=z)}let O=P;for(;O.overscaledZ>d;)if(O=O.scaledTo(O.overscaledZ-1),a[O.key]){g[P.key]=P;break}}}findLoadedParent(a,d){if(a.key in this._loadedParentTiles){let m=this._loadedParentTiles[a.key];return m&&m.tileID.overscaledZ>=d?m:null}for(let m=a.overscaledZ-1;m>=d;m--){let g=a.scaledTo(m),b=this._getLoadedTile(g);if(b)return b}}findLoadedSibling(a){return this._getLoadedTile(a)}_getLoadedTile(a){let d=this._tiles[a.key];return d&&d.hasData()?d:this._cache.getByKey(a.wrapped().key)}updateCacheSize(a){let d=Math.ceil(a.width/this._source.tileSize)+1,m=Math.ceil(a.height/this._source.tileSize)+1,g=Math.floor(d*m*(this._maxTileCacheZoomLevels===null?o.a.MAX_TILE_CACHE_ZOOM_LEVELS:this._maxTileCacheZoomLevels)),b=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,g):g;this._cache.setMaxSize(b)}handleWrapJump(a){let d=Math.round((a-(this._prevLng===void 0?a:this._prevLng))/360);if(this._prevLng=a,d){let m={};for(let g in this._tiles){let b=this._tiles[g];b.tileID=b.tileID.unwrapTo(b.tileID.wrap+d),m[b.tileID.key]=b}this._tiles=m;for(let g in this._timers)clearTimeout(this._timers[g]),delete this._timers[g];for(let g in this._tiles)this._setTileReloadTimer(g,this._tiles[g])}}_updateCoveredAndRetainedTiles(a,d,m,g,b,C){let P={},O={},z=Object.keys(a),U=y.now();for(let V of z){let K=a[V],te=this._tiles[V];if(!te||te.fadeEndTime!==0&&te.fadeEndTime<=U)continue;let oe=this.findLoadedParent(K,d),ce=this.findLoadedSibling(K),pe=oe||ce||null;pe&&(this._addTile(pe.tileID),P[pe.tileID.key]=pe.tileID),O[V]=K}this._retainLoadedChildren(O,g,m,a);for(let V in P)a[V]||(this._coveredTiles[V]=!0,a[V]=P[V]);if(C){let V={},K={};for(let te of b)this._tiles[te.key].hasData()?V[te.key]=te:K[te.key]=te;for(let te in K){let oe=K[te].children(this._source.maxzoom);this._tiles[oe[0].key]&&this._tiles[oe[1].key]&&this._tiles[oe[2].key]&&this._tiles[oe[3].key]&&(V[oe[0].key]=a[oe[0].key]=oe[0],V[oe[1].key]=a[oe[1].key]=oe[1],V[oe[2].key]=a[oe[2].key]=oe[2],V[oe[3].key]=a[oe[3].key]=oe[3],delete K[te])}for(let te in K){let oe=K[te],ce=this.findLoadedParent(oe,this._source.minzoom),pe=this.findLoadedSibling(oe),me=ce||pe||null;if(me){V[me.tileID.key]=a[me.tileID.key]=me.tileID;for(let ye in V)V[ye].isChildOf(me.tileID)&&delete V[ye]}}for(let te in this._tiles)V[te]||(this._coveredTiles[te]=!0)}}update(a,d){if(!this._sourceLoaded||this._paused)return;let m;this.transform=a,this.terrain=d,this.updateCacheSize(a),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?m=a.getVisibleUnwrappedCoordinates(this._source.tileID).map(U=>new o.S(U.canonical.z,U.wrap,U.canonical.z,U.canonical.x,U.canonical.y)):(m=a.coveringTiles({tileSize:this.usedForTerrain?this.tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:!this.usedForTerrain&&this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled,terrain:d}),this._source.hasTile&&(m=m.filter(U=>this._source.hasTile(U)))):m=[];let g=a.coveringZoomLevel(this._source),b=Math.max(g-fr.maxOverzooming,this._source.minzoom),C=Math.max(g+fr.maxUnderzooming,this._source.minzoom);if(this.usedForTerrain){let U={};for(let V of m)if(V.canonical.z>this._source.minzoom){let K=V.scaledTo(V.canonical.z-1);U[K.key]=K;let te=V.scaledTo(Math.max(this._source.minzoom,Math.min(V.canonical.z,5)));U[te.key]=te}m=m.concat(Object.values(U))}let P=m.length===0&&!this._updated&&this._didEmitContent;this._updated=!0,P&&this.fire(new o.k("data",{sourceDataType:"idle",dataType:"source",sourceId:this.id}));let O=this._updateRetainedTiles(m,g);qa(this._source.type)&&this._updateCoveredAndRetainedTiles(O,b,C,g,m,d);for(let U in O)this._tiles[U].clearFadeHold();let z=o.ab(this._tiles,O);for(let U of z){let V=this._tiles[U];V.hasSymbolBuckets&&!V.holdingForFade()?V.setHoldDuration(this.map._fadeDuration):V.hasSymbolBuckets&&!V.symbolFadeFinished()||this._removeTile(U)}this._updateLoadedParentTileCache(),this._updateLoadedSiblingTileCache()}releaseSymbolFadeTiles(){for(let a in this._tiles)this._tiles[a].holdingForFade()&&this._removeTile(a)}_updateRetainedTiles(a,d){var m;let g={},b={},C=Math.max(d-fr.maxOverzooming,this._source.minzoom),P=Math.max(d+fr.maxUnderzooming,this._source.minzoom),O={};for(let z of a){let U=this._addTile(z);g[z.key]=z,U.hasData()||d<this._source.maxzoom&&(O[z.key]=z)}this._retainLoadedChildren(O,d,P,g);for(let z of a){let U=this._tiles[z.key];if(U.hasData())continue;if(d+1>this._source.maxzoom){let K=z.children(this._source.maxzoom)[0],te=this.getTile(K);if(te&&te.hasData()){g[K.key]=K;continue}}else{let K=z.children(this._source.maxzoom);if(g[K[0].key]&&g[K[1].key]&&g[K[2].key]&&g[K[3].key])continue}let V=U.wasRequested();for(let K=z.overscaledZ-1;K>=C;--K){let te=z.scaledTo(K);if(b[te.key])break;if(b[te.key]=!0,U=this.getTile(te),!U&&V&&(U=this._addTile(te)),U){let oe=U.hasData();if((oe||!(!((m=this.map)===null||m===void 0)&&m.cancelPendingTileRequestsWhileZooming)||V)&&(g[te.key]=te),V=U.wasRequested(),oe)break}}}return g}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(let a in this._tiles){let d=[],m,g=this._tiles[a].tileID;for(;g.overscaledZ>0;){if(g.key in this._loadedParentTiles){m=this._loadedParentTiles[g.key];break}d.push(g.key);let b=g.scaledTo(g.overscaledZ-1);if(m=this._getLoadedTile(b),m)break;g=b}for(let b of d)this._loadedParentTiles[b]=m}}_updateLoadedSiblingTileCache(){this._loadedSiblingTiles={};for(let a in this._tiles){let d=this._tiles[a].tileID,m=this._getLoadedTile(d);this._loadedSiblingTiles[d.key]=m}}_addTile(a){let d=this._tiles[a.key];if(d)return d;d=this._cache.getAndRemove(a),d&&(this._setTileReloadTimer(a.key,d),d.tileID=a,this._state.initializeTileState(d,this.map?this.map.painter:null),this._cacheTimers[a.key]&&(clearTimeout(this._cacheTimers[a.key]),delete this._cacheTimers[a.key],this._setTileReloadTimer(a.key,d)));let m=d;return d||(d=new gl(a,this._source.tileSize*a.overscaleFactor()),this._loadTile(d,a.key,d.state)),d.uses++,this._tiles[a.key]=d,m||this._source.fire(new o.k("dataloading",{tile:d,coord:d.tileID,dataType:"source"})),d}_setTileReloadTimer(a,d){a in this._timers&&(clearTimeout(this._timers[a]),delete this._timers[a]);let m=d.getExpiryTimeout();m&&(this._timers[a]=setTimeout(()=>{this._reloadTile(a,"expired"),delete this._timers[a]},m))}_removeTile(a){let d=this._tiles[a];d&&(d.uses--,delete this._tiles[a],this._timers[a]&&(clearTimeout(this._timers[a]),delete this._timers[a]),d.uses>0||(d.hasData()&&d.state!=="reloading"?this._cache.add(d.tileID,d,d.getExpiryTimeout()):(d.aborted=!0,this._abortTile(d),this._unloadTile(d))))}_dataHandler(a){let d=a.sourceDataType;a.dataType==="source"&&d==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&a.dataType==="source"&&d==="content"&&(this.reload(),this.transform&&this.update(this.transform,this.terrain),this._didEmitContent=!0)}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(let a in this._tiles)this._removeTile(a);this._cache.reset()}tilesIn(a,d,m){let g=[],b=this.transform;if(!b)return g;let C=m?b.getCameraQueryGeometry(a):a,P=a.map(oe=>b.pointCoordinate(oe,this.terrain)),O=C.map(oe=>b.pointCoordinate(oe,this.terrain)),z=this.getIds(),U=1/0,V=1/0,K=-1/0,te=-1/0;for(let oe of O)U=Math.min(U,oe.x),V=Math.min(V,oe.y),K=Math.max(K,oe.x),te=Math.max(te,oe.y);for(let oe=0;oe<z.length;oe++){let ce=this._tiles[z[oe]];if(ce.holdingForFade())continue;let pe=ce.tileID,me=Math.pow(2,b.zoom-ce.tileID.overscaledZ),ye=d*ce.queryPadding*o.X/ce.tileSize/me,se=[pe.getTilePoint(new o.Z(U,V)),pe.getTilePoint(new o.Z(K,te))];if(se[0].x-ye<o.X&&se[0].y-ye<o.X&&se[1].x+ye>=0&&se[1].y+ye>=0){let Ie=P.map(Le=>pe.getTilePoint(Le)),Me=O.map(Le=>pe.getTilePoint(Le));g.push({tile:ce,tileID:pe,queryGeometry:Ie,cameraQueryGeometry:Me,scale:me})}}return g}getVisibleCoordinates(a){let d=this.getRenderableIds(a).map(m=>this._tiles[m].tileID);for(let m of d)m.posMatrix=this.transform.calculatePosMatrix(m.toUnwrapped());return d}hasTransition(){if(this._source.hasTransition())return!0;if(qa(this._source.type)){let a=y.now();for(let d in this._tiles)if(this._tiles[d].fadeEndTime>=a)return!0}return!1}setFeatureState(a,d,m){this._state.updateState(a=a||"_geojsonTileLayer",d,m)}removeFeatureState(a,d,m){this._state.removeFeatureState(a=a||"_geojsonTileLayer",d,m)}getFeatureState(a,d){return this._state.getState(a=a||"_geojsonTileLayer",d)}setDependencies(a,d,m){let g=this._tiles[a];g&&g.setDependencies(d,m)}reloadTilesForDependencies(a,d){for(let m in this._tiles)this._tiles[m].hasDependency(a,d)&&this._reloadTile(m,"reloading");this._cache.filter(m=>!m.hasDependency(a,d))}}function fo(x,a){let d=Math.abs(2*x.wrap)-+(x.wrap<0),m=Math.abs(2*a.wrap)-+(a.wrap<0);return x.overscaledZ-a.overscaledZ||m-d||a.canonical.y-x.canonical.y||a.canonical.x-x.canonical.x}function qa(x){return x==="raster"||x==="image"||x==="video"}fr.maxOverzooming=10,fr.maxUnderzooming=3;class Se{constructor(a,d){this.reset(a,d)}reset(a,d){this.points=a||[],this._distances=[0];for(let m=1;m<this.points.length;m++)this._distances[m]=this._distances[m-1]+this.points[m].dist(this.points[m-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(d||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(a){if(this.points.length===1)return this.points[0];a=o.ac(a,0,1);let d=1,m=this._distances[d],g=a*this.paddedLength+this.padding;for(;m<g&&d<this._distances.length;)m=this._distances[++d];let b=d-1,C=this._distances[b],P=m-C,O=P>0?(g-C)/P:0;return this.points[b].mult(1-O).add(this.points[d].mult(O))}}function Ce(x,a){let d=!0;return x==="always"||x!=="never"&&a!=="never"||(d=!1),d}class ct{constructor(a,d,m){let g=this.boxCells=[],b=this.circleCells=[];this.xCellCount=Math.ceil(a/m),this.yCellCount=Math.ceil(d/m);for(let C=0;C<this.xCellCount*this.yCellCount;C++)g.push([]),b.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=a,this.height=d,this.xScale=this.xCellCount/a,this.yScale=this.yCellCount/d,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(a,d,m,g,b){this._forEachCell(d,m,g,b,this._insertBoxCell,this.boxUid++),this.boxKeys.push(a),this.bboxes.push(d),this.bboxes.push(m),this.bboxes.push(g),this.bboxes.push(b)}insertCircle(a,d,m,g){this._forEachCell(d-g,m-g,d+g,m+g,this._insertCircleCell,this.circleUid++),this.circleKeys.push(a),this.circles.push(d),this.circles.push(m),this.circles.push(g)}_insertBoxCell(a,d,m,g,b,C){this.boxCells[b].push(C)}_insertCircleCell(a,d,m,g,b,C){this.circleCells[b].push(C)}_query(a,d,m,g,b,C,P){if(m<0||a>this.width||g<0||d>this.height)return[];let O=[];if(a<=0&&d<=0&&this.width<=m&&this.height<=g){if(b)return[{key:null,x1:a,y1:d,x2:m,y2:g}];for(let z=0;z<this.boxKeys.length;z++)O.push({key:this.boxKeys[z],x1:this.bboxes[4*z],y1:this.bboxes[4*z+1],x2:this.bboxes[4*z+2],y2:this.bboxes[4*z+3]});for(let z=0;z<this.circleKeys.length;z++){let U=this.circles[3*z],V=this.circles[3*z+1],K=this.circles[3*z+2];O.push({key:this.circleKeys[z],x1:U-K,y1:V-K,x2:U+K,y2:V+K})}}else this._forEachCell(a,d,m,g,this._queryCell,O,{hitTest:b,overlapMode:C,seenUids:{box:{},circle:{}}},P);return O}query(a,d,m,g){return this._query(a,d,m,g,!1,null)}hitTest(a,d,m,g,b,C){return this._query(a,d,m,g,!0,b,C).length>0}hitTestCircle(a,d,m,g,b){let C=a-m,P=a+m,O=d-m,z=d+m;if(P<0||C>this.width||z<0||O>this.height)return!1;let U=[];return this._forEachCell(C,O,P,z,this._queryCellCircle,U,{hitTest:!0,overlapMode:g,circle:{x:a,y:d,radius:m},seenUids:{box:{},circle:{}}},b),U.length>0}_queryCell(a,d,m,g,b,C,P,O){let{seenUids:z,hitTest:U,overlapMode:V}=P,K=this.boxCells[b];if(K!==null){let oe=this.bboxes;for(let ce of K)if(!z.box[ce]){z.box[ce]=!0;let pe=4*ce,me=this.boxKeys[ce];if(a<=oe[pe+2]&&d<=oe[pe+3]&&m>=oe[pe+0]&&g>=oe[pe+1]&&(!O||O(me))&&(!U||!Ce(V,me.overlapMode))&&(C.push({key:me,x1:oe[pe],y1:oe[pe+1],x2:oe[pe+2],y2:oe[pe+3]}),U))return!0}}let te=this.circleCells[b];if(te!==null){let oe=this.circles;for(let ce of te)if(!z.circle[ce]){z.circle[ce]=!0;let pe=3*ce,me=this.circleKeys[ce];if(this._circleAndRectCollide(oe[pe],oe[pe+1],oe[pe+2],a,d,m,g)&&(!O||O(me))&&(!U||!Ce(V,me.overlapMode))){let ye=oe[pe],se=oe[pe+1],Ie=oe[pe+2];if(C.push({key:me,x1:ye-Ie,y1:se-Ie,x2:ye+Ie,y2:se+Ie}),U)return!0}}}return!1}_queryCellCircle(a,d,m,g,b,C,P,O){let{circle:z,seenUids:U,overlapMode:V}=P,K=this.boxCells[b];if(K!==null){let oe=this.bboxes;for(let ce of K)if(!U.box[ce]){U.box[ce]=!0;let pe=4*ce,me=this.boxKeys[ce];if(this._circleAndRectCollide(z.x,z.y,z.radius,oe[pe+0],oe[pe+1],oe[pe+2],oe[pe+3])&&(!O||O(me))&&!Ce(V,me.overlapMode))return C.push(!0),!0}}let te=this.circleCells[b];if(te!==null){let oe=this.circles;for(let ce of te)if(!U.circle[ce]){U.circle[ce]=!0;let pe=3*ce,me=this.circleKeys[ce];if(this._circlesCollide(oe[pe],oe[pe+1],oe[pe+2],z.x,z.y,z.radius)&&(!O||O(me))&&!Ce(V,me.overlapMode))return C.push(!0),!0}}}_forEachCell(a,d,m,g,b,C,P,O){let z=this._convertToXCellCoord(a),U=this._convertToYCellCoord(d),V=this._convertToXCellCoord(m),K=this._convertToYCellCoord(g);for(let te=z;te<=V;te++)for(let oe=U;oe<=K;oe++)if(b.call(this,a,d,m,g,this.xCellCount*oe+te,C,P,O))return}_convertToXCellCoord(a){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(a*this.xScale)))}_convertToYCellCoord(a){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(a*this.yScale)))}_circlesCollide(a,d,m,g,b,C){let P=g-a,O=b-d,z=m+C;return z*z>P*P+O*O}_circleAndRectCollide(a,d,m,g,b,C,P){let O=(C-g)/2,z=Math.abs(a-(g+O));if(z>O+m)return!1;let U=(P-b)/2,V=Math.abs(d-(b+U));if(V>U+m)return!1;if(z<=O||V<=U)return!0;let K=z-O,te=V-U;return K*K+te*te<=m*m}}function kt(x,a,d,m,g){let b=o.H();return a?(o.K(b,b,[1/g,1/g,1]),d||o.ad(b,b,m.angle)):o.L(b,m.labelPlaneMatrix,x),b}function Ot(x,a,d,m,g){if(a){let b=o.ae(x);return o.K(b,b,[g,g,1]),d||o.ad(b,b,-m.angle),b}return m.glCoordMatrix}function ne(x,a,d,m){let g;m?(g=[x,a,m(x,a),1],o.af(g,g,d)):(g=[x,a,0,1],on(g,g,d));let b=g[3];return{point:new o.P(g[0]/b,g[1]/b),signedDistanceFromCamera:b,isOccluded:!1}}function H(x,a){return .5+x/a*.5}function $(x,a){return x.x>=-a[0]&&x.x<=a[0]&&x.y>=-a[1]&&x.y<=a[1]}function Z(x,a,d,m,g,b,C,P,O,z,U,V,K,te,oe){let ce=m?x.textSizeData:x.iconSizeData,pe=o.ag(ce,d.transform.zoom),me=[256/d.width*2+1,256/d.height*2+1],ye=m?x.text.dynamicLayoutVertexArray:x.icon.dynamicLayoutVertexArray;ye.clear();let se=x.lineVertexArray,Ie=m?x.text.placedSymbolArray:x.icon.placedSymbolArray,Me=d.transform.width/d.transform.height,Le=!1;for(let rt=0;rt<Ie.length;rt++){let pt=Ie.get(rt);if(pt.hidden||pt.writingMode===o.ah.vertical&&!Le){lr(pt.numGlyphs,ye);continue}Le=!1;let At=ne(pt.anchorX,pt.anchorY,a,oe);if(!$(At.point,me)){lr(pt.numGlyphs,ye);continue}let Bt=H(d.transform.cameraToCenterDistance,At.signedDistanceFromCamera),St=o.ai(ce,pe,pt),xt=C?St/Bt:St*Bt,Xt={getElevation:oe,labelPlaneMatrix:g,lineVertexArray:se,pitchWithMap:C,projectionCache:{projections:{},offsets:{},cachedAnchorPoint:void 0,anyProjectionOccluded:!1},projection:z,tileAnchorPoint:new o.P(pt.anchorX,pt.anchorY),unwrappedTileID:U,width:V,height:K,translation:te},br=xe(Xt,pt,xt,!1,P,a,b,x.glyphOffsetArray,ye,Me,O);Le=br.useVertical,(br.notEnoughRoom||Le||br.needsFlipping&&xe(Xt,pt,xt,!0,P,a,b,x.glyphOffsetArray,ye,Me,O).notEnoughRoom)&&lr(pt.numGlyphs,ye)}m?x.text.dynamicLayoutVertexBuffer.updateData(ye):x.icon.dynamicLayoutVertexBuffer.updateData(ye)}function ie(x,a,d,m,g,b,C,P){let O=b.glyphStartIndex+b.numGlyphs,z=b.lineStartIndex,U=b.lineStartIndex+b.lineLength,V=a.getoffsetX(b.glyphStartIndex),K=a.getoffsetX(O-1),te=ht(x*V,d,m,g,b.segment,z,U,P,C);if(!te)return null;let oe=ht(x*K,d,m,g,b.segment,z,U,P,C);return oe?P.projectionCache.anyProjectionOccluded?null:{first:te,last:oe}:null}function ve(x,a,d,m){return x===o.ah.horizontal&&Math.abs(d.y-a.y)>Math.abs(d.x-a.x)*m?{useVertical:!0}:(x===o.ah.vertical?a.y<d.y:a.x>d.x)?{needsFlipping:!0}:null}function xe(x,a,d,m,g,b,C,P,O,z,U){let V=d/24,K=a.lineOffsetX*V,te=a.lineOffsetY*V,oe;if(a.numGlyphs>1){let ce=a.glyphStartIndex+a.numGlyphs,pe=a.lineStartIndex,me=a.lineStartIndex+a.lineLength,ye=ie(V,P,K,te,m,a,U,x);if(!ye)return{notEnoughRoom:!0};let se=ne(ye.first.point.x,ye.first.point.y,C,x.getElevation).point,Ie=ne(ye.last.point.x,ye.last.point.y,C,x.getElevation).point;if(g&&!m){let Me=ve(a.writingMode,se,Ie,z);if(Me)return Me}oe=[ye.first];for(let Me=a.glyphStartIndex+1;Me<ce-1;Me++)oe.push(ht(V*P.getoffsetX(Me),K,te,m,a.segment,pe,me,x,U));oe.push(ye.last)}else{if(g&&!m){let pe=ne(x.tileAnchorPoint.x,x.tileAnchorPoint.y,b,x.getElevation).point,me=a.lineStartIndex+a.segment+1,ye=new o.P(x.lineVertexArray.getx(me),x.lineVertexArray.gety(me)),se=ne(ye.x,ye.y,b,x.getElevation),Ie=se.signedDistanceFromCamera>0?se.point:function(Le,rt,pt,At,Bt,St){return Ee(Le,rt,pt,1,Bt,St)}(x.tileAnchorPoint,ye,pe,0,b,x),Me=ve(a.writingMode,pe,Ie,z);if(Me)return Me}let ce=ht(V*P.getoffsetX(a.glyphStartIndex),K,te,m,a.segment,a.lineStartIndex,a.lineStartIndex+a.lineLength,x,U);if(!ce||x.projectionCache.anyProjectionOccluded)return{notEnoughRoom:!0};oe=[ce]}for(let ce of oe)o.aj(O,ce.point,ce.angle);return{}}function Ee(x,a,d,m,g,b){let C=x.add(x.sub(a)._unit()),P=g!==void 0?ne(C.x,C.y,g,b.getElevation).point:Ve(C.x,C.y,b).point,O=d.sub(P);return d.add(O._mult(m/O.mag()))}function fe(x,a,d){let m=a.projectionCache;if(m.projections[x])return m.projections[x];let g=new o.P(a.lineVertexArray.getx(x),a.lineVertexArray.gety(x)),b=Ve(g.x,g.y,a);if(b.signedDistanceFromCamera>0)return m.projections[x]=b.point,m.anyProjectionOccluded=m.anyProjectionOccluded||b.isOccluded,b.point;let C=x-d.direction;return function(P,O,z,U,V){return Ee(P,O,z,U,void 0,V)}(d.distanceFromAnchor===0?a.tileAnchorPoint:new o.P(a.lineVertexArray.getx(C),a.lineVertexArray.gety(C)),g,d.previousVertex,d.absOffsetX-d.distanceFromAnchor+1,a)}function Ve(x,a,d){let m=x+d.translation[0],g=a+d.translation[1],b;return!d.pitchWithMap&&d.projection.useSpecialProjectionForSymbols?(b=d.projection.projectTileCoordinates(m,g,d.unwrappedTileID,d.getElevation),b.point.x=(.5*b.point.x+.5)*d.width,b.point.y=(.5*-b.point.y+.5)*d.height):(b=ne(m,g,d.labelPlaneMatrix,d.getElevation),b.isOccluded=!1),b}function tt(x,a,d){return x._unit()._perp()._mult(a*d)}function je(x,a,d,m,g,b,C,P,O){if(P.projectionCache.offsets[x])return P.projectionCache.offsets[x];let z=d.add(a);if(x+O.direction<m||x+O.direction>=g)return P.projectionCache.offsets[x]=z,z;let U=fe(x+O.direction,P,O),V=tt(U.sub(d),C,O.direction),K=d.add(V),te=U.add(V);return P.projectionCache.offsets[x]=o.ak(b,z,K,te)||z,P.projectionCache.offsets[x]}function ht(x,a,d,m,g,b,C,P,O){let z=m?x-a:x+a,U=z>0?1:-1,V=0;m&&(U*=-1,V=Math.PI),U<0&&(V+=Math.PI);let K,te=U>0?b+g:b+g+1;P.projectionCache.cachedAnchorPoint?K=P.projectionCache.cachedAnchorPoint:(K=Ve(P.tileAnchorPoint.x,P.tileAnchorPoint.y,P).point,P.projectionCache.cachedAnchorPoint=K);let oe,ce,pe=K,me=K,ye=0,se=0,Ie=Math.abs(z),Me=[],Le;for(;ye+se<=Ie;){if(te+=U,te<b||te>=C)return null;ye+=se,me=pe,ce=oe;let At={absOffsetX:Ie,direction:U,distanceFromAnchor:ye,previousVertex:me};if(pe=fe(te,P,At),d===0)Me.push(me),Le=pe.sub(me);else{let Bt,St=pe.sub(me);Bt=St.mag()===0?tt(fe(te+U,P,At).sub(pe),d,U):tt(St,d,U),ce||(ce=me.add(Bt)),oe=je(te,Bt,pe,b,C,ce,d,P,At),Me.push(ce),Le=oe.sub(ce)}se=Le.mag()}let rt=Le._mult((Ie-ye)/se)._add(ce||me),pt=V+Math.atan2(pe.y-me.y,pe.x-me.x);return Me.push(rt),{point:rt,angle:O?pt:0,path:Me}}let Zt=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function lr(x,a){for(let d=0;d<x;d++){let m=a.length;a.resize(m+4),a.float32.set(Zt,3*m)}}function on(x,a,d){let m=a[0],g=a[1];return x[0]=d[0]*m+d[4]*g+d[12],x[1]=d[1]*m+d[5]*g+d[13],x[3]=d[3]*m+d[7]*g+d[15],x}let Tr=100;class an{constructor(a,d,m=new ct(a.width+200,a.height+200,25),g=new ct(a.width+200,a.height+200,25)){this.transform=a,this.mapProjection=d,this.grid=m,this.ignoredGrid=g,this.pitchFactor=Math.cos(a._pitch)*a.cameraToCenterDistance,this.screenRightBoundary=a.width+Tr,this.screenBottomBoundary=a.height+Tr,this.gridRightBoundary=a.width+200,this.gridBottomBoundary=a.height+200,this.perspectiveRatioCutoff=.6}placeCollisionBox(a,d,m,g,b,C,P,O,z,U,V){let K=a.anchorPointX+O[0],te=a.anchorPointY+O[1],oe=this.projectAndGetPerspectiveRatio(g,K,te,b,U),ce=m*oe.perspectiveRatio,pe;if(C||P)pe=this._projectCollisionBox(a,ce,g,b,C,P,O,oe,U,V);else{let Me=oe.point.x+(V?V.x*ce:0),Le=oe.point.y+(V?V.y*ce:0);pe={allPointsOccluded:!1,box:[Me+a.x1*ce,Le+a.y1*ce,Me+a.x2*ce,Le+a.y2*ce]}}let[me,ye,se,Ie]=pe.box;return this.mapProjection.useSpecialProjectionForSymbols&&(C?pe.allPointsOccluded:this.mapProjection.isOccluded(K,te,b))||oe.perspectiveRatio<this.perspectiveRatioCutoff||!this.isInsideGrid(me,ye,se,Ie)||d!=="always"&&this.grid.hitTest(me,ye,se,Ie,d,z)?{box:[me,ye,se,Ie],placeable:!1,offscreen:!1}:{box:[me,ye,se,Ie],placeable:!0,offscreen:this.isOffscreen(me,ye,se,Ie)}}placeCollisionCircles(a,d,m,g,b,C,P,O,z,U,V,K,te,oe,ce,pe){let me=[],ye=new o.P(d.anchorX,d.anchorY),se=this.getPerspectiveRatio(C,ye.x,ye.y,P,pe),Ie=(V?b/se:b*se)/o.ap,Me={getElevation:pe,labelPlaneMatrix:O,lineVertexArray:m,pitchWithMap:V,projectionCache:{projections:{},offsets:{},cachedAnchorPoint:void 0,anyProjectionOccluded:!1},projection:this.mapProjection,tileAnchorPoint:ye,unwrappedTileID:P,width:this.transform.width,height:this.transform.height,translation:ce},Le=ie(Ie,g,d.lineOffsetX*Ie,d.lineOffsetY*Ie,!1,d,!1,Me),rt=!1,pt=!1,At=!0;if(Le){let Bt=.5*te*se+oe,St=new o.P(-100,-100),xt=new o.P(this.screenRightBoundary,this.screenBottomBoundary),Xt=new Se,br=Le.first,It=Le.last,qt=[];for(let Dr=br.path.length-1;Dr>=1;Dr--)qt.push(br.path[Dr]);for(let Dr=1;Dr<It.path.length;Dr++)qt.push(It.path[Dr]);let yr=2.5*Bt;if(z){let Dr=this.projectPathToScreenSpace(qt,Me,z);qt=Dr.some(Kr=>Kr.signedDistanceFromCamera<=0)?[]:Dr.map(Kr=>Kr.point)}let Xn=[];if(qt.length>0){let Dr=qt[0].clone(),Kr=qt[0].clone();for(let Qn=1;Qn<qt.length;Qn++)Dr.x=Math.min(Dr.x,qt[Qn].x),Dr.y=Math.min(Dr.y,qt[Qn].y),Kr.x=Math.max(Kr.x,qt[Qn].x),Kr.y=Math.max(Kr.y,qt[Qn].y);Xn=Dr.x>=St.x&&Kr.x<=xt.x&&Dr.y>=St.y&&Kr.y<=xt.y?[qt]:Kr.x<St.x||Dr.x>xt.x||Kr.y<St.y||Dr.y>xt.y?[]:o.al([qt],St.x,St.y,xt.x,xt.y)}for(let Dr of Xn){Xt.reset(Dr,.25*Bt);let Kr=0;Kr=Xt.length<=.5*Bt?1:Math.ceil(Xt.paddedLength/yr)+1;for(let Qn=0;Qn<Kr;Qn++){let mo=Qn/Math.max(Kr-1,1),Gs=Xt.lerp(mo),Jn=Gs.x+Tr,ua=Gs.y+Tr;me.push(Jn,ua,Bt,0);let Lo=Jn-Bt,go=ua-Bt,qo=Jn+Bt,bl=ua+Bt;if(At=At&&this.isOffscreen(Lo,go,qo,bl),pt=pt||this.isInsideGrid(Lo,go,qo,bl),a!=="always"&&this.grid.hitTestCircle(Jn,ua,Bt,a,K)&&(rt=!0,!U))return{circles:[],offscreen:!1,collisionDetected:rt}}}}return{circles:!U&&rt||!pt||se<this.perspectiveRatioCutoff?[]:me,offscreen:At,collisionDetected:rt}}projectPathToScreenSpace(a,d,m){return a.map(g=>ne(g.x,g.y,m,d.getElevation))}queryRenderedSymbols(a){if(a.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};let d=[],m=1/0,g=1/0,b=-1/0,C=-1/0;for(let U of a){let V=new o.P(U.x+Tr,U.y+Tr);m=Math.min(m,V.x),g=Math.min(g,V.y),b=Math.max(b,V.x),C=Math.max(C,V.y),d.push(V)}let P=this.grid.query(m,g,b,C).concat(this.ignoredGrid.query(m,g,b,C)),O={},z={};for(let U of P){let V=U.key;if(O[V.bucketInstanceId]===void 0&&(O[V.bucketInstanceId]={}),O[V.bucketInstanceId][V.featureIndex])continue;let K=[new o.P(U.x1,U.y1),new o.P(U.x2,U.y1),new o.P(U.x2,U.y2),new o.P(U.x1,U.y2)];o.am(d,K)&&(O[V.bucketInstanceId][V.featureIndex]=!0,z[V.bucketInstanceId]===void 0&&(z[V.bucketInstanceId]=[]),z[V.bucketInstanceId].push(V.featureIndex))}return z}insertCollisionBox(a,d,m,g,b,C){(m?this.ignoredGrid:this.grid).insert({bucketInstanceId:g,featureIndex:b,collisionGroupID:C,overlapMode:d},a[0],a[1],a[2],a[3])}insertCollisionCircles(a,d,m,g,b,C){let P=m?this.ignoredGrid:this.grid,O={bucketInstanceId:g,featureIndex:b,collisionGroupID:C,overlapMode:d};for(let z=0;z<a.length;z+=4)P.insertCircle(O,a[z],a[z+1],a[z+2])}projectAndGetPerspectiveRatio(a,d,m,g,b){let C;b?(C=[d,m,b(d,m),1],o.af(C,C,a)):(C=[d,m,0,1],on(C,C,a));let P=C[3];return{point:new o.P((C[0]/P+1)/2*this.transform.width+Tr,(-C[1]/P+1)/2*this.transform.height+Tr),perspectiveRatio:.5+this.transform.cameraToCenterDistance/P*.5,isOccluded:!1,signedDistanceFromCamera:P}}getPerspectiveRatio(a,d,m,g,b){let C=this.mapProjection.useSpecialProjectionForSymbols?this.mapProjection.projectTileCoordinates(d,m,g,b):ne(d,m,a,b);return .5+this.transform.cameraToCenterDistance/C.signedDistanceFromCamera*.5}isOffscreen(a,d,m,g){return m<Tr||a>=this.screenRightBoundary||g<Tr||d>this.screenBottomBoundary}isInsideGrid(a,d,m,g){return m>=0&&a<this.gridRightBoundary&&g>=0&&d<this.gridBottomBoundary}getViewportMatrix(){let a=o.an([]);return o.J(a,a,[-100,-100,0]),a}_projectCollisionBox(a,d,m,g,b,C,P,O,z,U){let V=new o.P(1,0),K=new o.P(0,1),te=new o.P(a.anchorPointX+P[0],a.anchorPointY+P[1]);if(C&&!b){let At=this.projectAndGetPerspectiveRatio(m,te.x+1,te.y,g,z).point.sub(O.point).unit(),Bt=Math.atan(At.y/At.x)+(At.x<0?Math.PI:0),St=Math.sin(Bt),xt=Math.cos(Bt);V=new o.P(xt,St),K=new o.P(-St,xt)}else if(!C&&b){let At=-this.transform.angle,Bt=Math.sin(At),St=Math.cos(At);V=new o.P(St,Bt),K=new o.P(-Bt,St)}let oe=O.point,ce=d;if(b){oe=te;let At=this.transform.zoom-Math.floor(this.transform.zoom);ce=Math.pow(2,-At),ce*=this.mapProjection.getPitchedTextCorrection(this.transform,te,g),U||(ce*=o.ac(.5+O.signedDistanceFromCamera/this.transform.cameraToCenterDistance*.5,0,4))}U&&(oe=oe.add(V.mult(U.x*ce)).add(K.mult(U.y*ce)));let pe=a.x1*ce,me=a.x2*ce,ye=(pe+me)/2,se=a.y1*ce,Ie=a.y2*ce,Me=(se+Ie)/2,Le=[{offsetX:pe,offsetY:se},{offsetX:ye,offsetY:se},{offsetX:me,offsetY:se},{offsetX:me,offsetY:Me},{offsetX:me,offsetY:Ie},{offsetX:ye,offsetY:Ie},{offsetX:pe,offsetY:Ie},{offsetX:pe,offsetY:Me}],rt=[];for(let{offsetX:At,offsetY:Bt}of Le)rt.push(new o.P(oe.x+V.x*At+K.x*Bt,oe.y+V.y*At+K.y*Bt));let pt=!1;if(b){let At=rt.map(Bt=>this.projectAndGetPerspectiveRatio(m,Bt.x,Bt.y,g,z));pt=At.some(Bt=>!Bt.isOccluded),rt=At.map(Bt=>Bt.point)}else pt=!0;return{box:o.ao(rt),allPointsOccluded:!pt}}}function Zr(x,a,d){return a*(o.X/(x.tileSize*Math.pow(2,d-x.tileID.overscaledZ)))}class Di{constructor(a,d,m,g){this.opacity=a?Math.max(0,Math.min(1,a.opacity+(a.placed?d:-d))):g&&m?1:0,this.placed=m}isHidden(){return this.opacity===0&&!this.placed}}class hi{constructor(a,d,m,g,b){this.text=new Di(a?a.text:null,d,m,b),this.icon=new Di(a?a.icon:null,d,g,b)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class Rr{constructor(a,d,m){this.text=a,this.icon=d,this.skipFade=m}}class Mn{constructor(){this.invProjMatrix=o.H(),this.viewportMatrix=o.H(),this.circles=[]}}class ii{constructor(a,d,m,g,b){this.bucketInstanceId=a,this.featureIndex=d,this.sourceLayerIndex=m,this.bucketIndex=g,this.tileID=b}}class Yi{constructor(a){this.crossSourceCollisions=a,this.maxGroupID=0,this.collisionGroups={}}get(a){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[a]){let d=++this.maxGroupID;this.collisionGroups[a]={ID:d,predicate:m=>m.collisionGroupID===d}}return this.collisionGroups[a]}}function io(x,a,d,m,g){let{horizontalAlign:b,verticalAlign:C}=o.au(x);return new o.P(-(b-.5)*a+m[0]*g,-(C-.5)*d+m[1]*g)}class ko{constructor(a,d,m,g,b,C){this.transform=a.clone(),this.terrain=m,this.collisionIndex=new an(this.transform,d),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=g,this.retainedQueryData={},this.collisionGroups=new Yi(b),this.collisionCircleArrays={},this.collisionBoxArrays=new Map,this.prevPlacement=C,C&&(C.prevPlacement=void 0),this.placedOrientations={}}_getTerrainElevationFunc(a){let d=this.terrain;return d?(m,g)=>d.getElevation(a,m,g):null}getBucketParts(a,d,m,g){let b=m.getBucket(d),C=m.latestFeatureIndex;if(!b||!C||d.id!==b.layerIds[0])return;let P=m.collisionBoxArray,O=b.layers[0].layout,z=b.layers[0].paint,U=Math.pow(2,this.transform.zoom-m.tileID.overscaledZ),V=m.tileSize/o.X,K=m.tileID.toUnwrapped(),te=this.transform.calculatePosMatrix(K),oe=O.get("text-pitch-alignment")==="map",ce=O.get("text-rotation-alignment")==="map",pe=Zr(m,1,this.transform.zoom),me=this.collisionIndex.mapProjection.translatePosition(this.transform,m,z.get("text-translate"),z.get("text-translate-anchor")),ye=this.collisionIndex.mapProjection.translatePosition(this.transform,m,z.get("icon-translate"),z.get("icon-translate-anchor")),se=kt(te,oe,ce,this.transform,pe),Ie=null;if(oe){let Le=Ot(te,oe,ce,this.transform,pe);Ie=o.L([],this.transform.labelPlaneMatrix,Le)}this.retainedQueryData[b.bucketInstanceId]=new ii(b.bucketInstanceId,C,b.sourceLayerIndex,b.index,m.tileID);let Me={bucket:b,layout:O,translationText:me,translationIcon:ye,posMatrix:te,unwrappedTileID:K,textLabelPlaneMatrix:se,labelToScreenMatrix:Ie,scale:U,textPixelRatio:V,holdingForFade:m.holdingForFade(),collisionBoxArray:P,partiallyEvaluatedTextSize:o.ag(b.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(b.sourceID)};if(g)for(let Le of b.sortKeyRanges){let{sortKey:rt,symbolInstanceStart:pt,symbolInstanceEnd:At}=Le;a.push({sortKey:rt,symbolInstanceStart:pt,symbolInstanceEnd:At,parameters:Me})}else a.push({symbolInstanceStart:0,symbolInstanceEnd:b.symbolInstances.length,parameters:Me})}attemptAnchorPlacement(a,d,m,g,b,C,P,O,z,U,V,K,te,oe,ce,pe,me,ye,se){let Ie=o.aq[a.textAnchor],Me=[a.textOffset0,a.textOffset1],Le=io(Ie,m,g,Me,b),rt=this.collisionIndex.placeCollisionBox(d,K,O,z,U,P,C,pe,V.predicate,se,Le);if((!ye||this.collisionIndex.placeCollisionBox(ye,K,O,z,U,P,C,me,V.predicate,se,Le).placeable)&&rt.placeable){let pt;if(this.prevPlacement&&this.prevPlacement.variableOffsets[te.crossTileID]&&this.prevPlacement.placements[te.crossTileID]&&this.prevPlacement.placements[te.crossTileID].text&&(pt=this.prevPlacement.variableOffsets[te.crossTileID].anchor),te.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");return this.variableOffsets[te.crossTileID]={textOffset:Me,width:m,height:g,anchor:Ie,textBoxScale:b,prevAnchor:pt},this.markUsedJustification(oe,Ie,te,ce),oe.allowVerticalPlacement&&(this.markUsedOrientation(oe,ce,te),this.placedOrientations[te.crossTileID]=ce),{shift:Le,placedGlyphBoxes:rt}}}placeLayerBucketPart(a,d,m){let{bucket:g,layout:b,translationText:C,translationIcon:P,posMatrix:O,unwrappedTileID:z,textLabelPlaneMatrix:U,labelToScreenMatrix:V,textPixelRatio:K,holdingForFade:te,collisionBoxArray:oe,partiallyEvaluatedTextSize:ce,collisionGroup:pe}=a.parameters,me=b.get("text-optional"),ye=b.get("icon-optional"),se=o.ar(b,"text-overlap","text-allow-overlap"),Ie=se==="always",Me=o.ar(b,"icon-overlap","icon-allow-overlap"),Le=Me==="always",rt=b.get("text-rotation-alignment")==="map",pt=b.get("text-pitch-alignment")==="map",At=b.get("icon-text-fit")!=="none",Bt=b.get("symbol-z-order")==="viewport-y",St=Ie&&(Le||!g.hasIconData()||ye),xt=Le&&(Ie||!g.hasTextData()||me);!g.collisionArrays&&oe&&g.deserializeCollisionBoxes(oe);let Xt=this._getTerrainElevationFunc(this.retainedQueryData[g.bucketInstanceId].tileID),br=(It,qt,yr)=>{var Xn,Dr;if(d[It.crossTileID])return;if(te)return void(this.placements[It.crossTileID]=new Rr(!1,!1,!1));let Kr=!1,Qn=!1,mo=!0,Gs=null,Jn={box:null,placeable:!1,offscreen:null},ua={box:null,placeable:!1,offscreen:null},Lo=null,go=null,qo=null,bl=0,Pp=0,Xg=0;qt.textFeatureIndex?bl=qt.textFeatureIndex:It.useRuntimeCollisionCircles&&(bl=It.featureIndex),qt.verticalTextFeatureIndex&&(Pp=qt.verticalTextFeatureIndex);let Op=qt.textBox;if(Op){let cs=oo=>{let vo=o.ah.horizontal;if(g.allowVerticalPlacement&&!oo&&this.prevPlacement){let Ua=this.prevPlacement.placedOrientations[It.crossTileID];Ua&&(this.placedOrientations[It.crossTileID]=Ua,vo=Ua,this.markUsedOrientation(g,vo,It))}return vo},ds=(oo,vo)=>{if(g.allowVerticalPlacement&&It.numVerticalGlyphVertices>0&&qt.verticalTextBox){for(let Ua of g.writingModes)if(Ua===o.ah.vertical?(Jn=vo(),ua=Jn):Jn=oo(),Jn&&Jn.placeable)break}else Jn=oo()},Uu=It.textAnchorOffsetStartIndex,Ys=It.textAnchorOffsetEndIndex;if(Ys===Uu){let oo=(vo,Ua)=>{let Jr=this.collisionIndex.placeCollisionBox(vo,se,K,O,z,pt,rt,C,pe.predicate,Xt);return Jr&&Jr.placeable&&(this.markUsedOrientation(g,Ua,It),this.placedOrientations[It.crossTileID]=Ua),Jr};ds(()=>oo(Op,o.ah.horizontal),()=>{let vo=qt.verticalTextBox;return g.allowVerticalPlacement&&It.numVerticalGlyphVertices>0&&vo?oo(vo,o.ah.vertical):{box:null,offscreen:null}}),cs(Jn&&Jn.placeable)}else{let oo=o.aq[(Dr=(Xn=this.prevPlacement)===null||Xn===void 0?void 0:Xn.variableOffsets[It.crossTileID])===null||Dr===void 0?void 0:Dr.anchor],vo=(Jr,td,Dp)=>{let Np=Jr.x2-Jr.x1,LI=Jr.y2-Jr.y1,xN=It.textBoxScale,qI=At&&Me==="never"?td:null,Vu=null,RI=se==="never"?1:2,Jg="never";oo&&RI++;for(let Lh=0;Lh<RI;Lh++){for(let ev=Uu;ev<Ys;ev++){let tv=g.textAnchorOffsets.get(ev);if(oo&&tv.textAnchor!==oo)continue;let kp=this.attemptAnchorPlacement(tv,Jr,Np,LI,xN,rt,pt,K,O,z,pe,Jg,It,g,Dp,C,P,qI,Xt);if(kp&&(Vu=kp.placedGlyphBoxes,Vu&&Vu.placeable))return Kr=!0,Gs=kp.shift,Vu}oo?oo=null:Jg=se}return m&&!Vu&&(Vu={box:this.collisionIndex.placeCollisionBox(Op,"always",K,O,z,pt,rt,C,pe.predicate,Xt,new o.P(0,0)).box,offscreen:!1,placeable:!1}),Vu};ds(()=>vo(Op,qt.iconBox,o.ah.horizontal),()=>{let Jr=qt.verticalTextBox;return g.allowVerticalPlacement&&(!Jn||!Jn.placeable)&&It.numVerticalGlyphVertices>0&&Jr?vo(Jr,qt.verticalIconBox,o.ah.vertical):{box:null,occluded:!0,offscreen:null}}),Jn&&(Kr=Jn.placeable,mo=Jn.offscreen);let Ua=cs(Jn&&Jn.placeable);if(!Kr&&this.prevPlacement){let Jr=this.prevPlacement.variableOffsets[It.crossTileID];Jr&&(this.variableOffsets[It.crossTileID]=Jr,this.markUsedJustification(g,Jr.anchor,It,Ua))}}}if(Lo=Jn,Kr=Lo&&Lo.placeable,mo=Lo&&Lo.offscreen,It.useRuntimeCollisionCircles){let cs=g.text.placedSymbolArray.get(It.centerJustifiedTextSymbolIndex),ds=o.ai(g.textSizeData,ce,cs),Uu=b.get("text-padding");go=this.collisionIndex.placeCollisionCircles(se,cs,g.lineVertexArray,g.glyphOffsetArray,ds,O,z,U,V,m,pt,pe.predicate,It.collisionCircleDiameter,Uu,C,Xt),go.circles.length&&go.collisionDetected&&!m&&o.w("Collisions detected, but collision boxes are not shown"),Kr=Ie||go.circles.length>0&&!go.collisionDetected,mo=mo&&go.offscreen}if(qt.iconFeatureIndex&&(Xg=qt.iconFeatureIndex),qt.iconBox){let cs=ds=>this.collisionIndex.placeCollisionBox(ds,Me,K,O,z,pt,rt,P,pe.predicate,Xt,At&&Gs?Gs:void 0);ua&&ua.placeable&&qt.verticalIconBox?(qo=cs(qt.verticalIconBox),Qn=qo.placeable):(qo=cs(qt.iconBox),Qn=qo.placeable),mo=mo&&qo.offscreen}let us=me||It.numHorizontalGlyphVertices===0&&It.numVerticalGlyphVertices===0,Qg=ye||It.numIconVertices===0;us||Qg?Qg?us||(Qn=Qn&&Kr):Kr=Qn&&Kr:Qn=Kr=Qn&&Kr;let f_=Qn&&qo.placeable;if(Kr&&Lo.placeable&&this.collisionIndex.insertCollisionBox(Lo.box,se,b.get("text-ignore-placement"),g.bucketInstanceId,ua&&ua.placeable&&Pp?Pp:bl,pe.ID),f_&&this.collisionIndex.insertCollisionBox(qo.box,Me,b.get("icon-ignore-placement"),g.bucketInstanceId,Xg,pe.ID),go&&Kr&&this.collisionIndex.insertCollisionCircles(go.circles,se,b.get("text-ignore-placement"),g.bucketInstanceId,bl,pe.ID),m&&this.storeCollisionData(g.bucketInstanceId,yr,qt,Lo,qo,go),It.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");if(g.bucketInstanceId===0)throw new Error("bucket.bucketInstanceId can't be 0");this.placements[It.crossTileID]=new Rr(Kr||St,Qn||xt,mo||g.justReloaded),d[It.crossTileID]=!0};if(Bt){if(a.symbolInstanceStart!==0)throw new Error("bucket.bucketInstanceId should be 0");let It=g.getSortedSymbolIndexes(this.transform.angle);for(let qt=It.length-1;qt>=0;--qt){let yr=It[qt];br(g.symbolInstances.get(yr),g.collisionArrays[yr],yr)}}else for(let It=a.symbolInstanceStart;It<a.symbolInstanceEnd;It++)br(g.symbolInstances.get(It),g.collisionArrays[It],It);if(m&&g.bucketInstanceId in this.collisionCircleArrays){let It=this.collisionCircleArrays[g.bucketInstanceId];o.as(It.invProjMatrix,O),It.viewportMatrix=this.collisionIndex.getViewportMatrix()}g.justReloaded=!1}storeCollisionData(a,d,m,g,b,C){if(m.textBox||m.iconBox){let P,O;this.collisionBoxArrays.has(a)?P=this.collisionBoxArrays.get(a):(P=new Map,this.collisionBoxArrays.set(a,P)),P.has(d)?O=P.get(d):(O={text:null,icon:null},P.set(d,O)),m.textBox&&(O.text=g.box),m.iconBox&&(O.icon=b.box)}if(C){let P=this.collisionCircleArrays[a];P===void 0&&(P=this.collisionCircleArrays[a]=new Mn);for(let O=0;O<C.circles.length;O+=4)P.circles.push(C.circles[O+0]),P.circles.push(C.circles[O+1]),P.circles.push(C.circles[O+2]),P.circles.push(C.collisionDetected?1:0)}}markUsedJustification(a,d,m,g){let b;b=g===o.ah.vertical?m.verticalPlacedTextSymbolIndex:{left:m.leftJustifiedTextSymbolIndex,center:m.centerJustifiedTextSymbolIndex,right:m.rightJustifiedTextSymbolIndex}[o.at(d)];let C=[m.leftJustifiedTextSymbolIndex,m.centerJustifiedTextSymbolIndex,m.rightJustifiedTextSymbolIndex,m.verticalPlacedTextSymbolIndex];for(let P of C)P>=0&&(a.text.placedSymbolArray.get(P).crossTileID=b>=0&&P!==b?0:m.crossTileID)}markUsedOrientation(a,d,m){let g=d===o.ah.horizontal||d===o.ah.horizontalOnly?d:0,b=d===o.ah.vertical?d:0,C=[m.leftJustifiedTextSymbolIndex,m.centerJustifiedTextSymbolIndex,m.rightJustifiedTextSymbolIndex];for(let P of C)a.text.placedSymbolArray.get(P).placedOrientation=g;m.verticalPlacedTextSymbolIndex&&(a.text.placedSymbolArray.get(m.verticalPlacedTextSymbolIndex).placedOrientation=b)}commit(a){this.commitTime=a,this.zoomAtLastRecencyCheck=this.transform.zoom;let d=this.prevPlacement,m=!1;this.prevZoomAdjustment=d?d.zoomAdjustment(this.transform.zoom):0;let g=d?d.symbolFadeChange(a):1,b=d?d.opacities:{},C=d?d.variableOffsets:{},P=d?d.placedOrientations:{};for(let O in this.placements){let z=this.placements[O],U=b[O];U?(this.opacities[O]=new hi(U,g,z.text,z.icon),m=m||z.text!==U.text.placed||z.icon!==U.icon.placed):(this.opacities[O]=new hi(null,g,z.text,z.icon,z.skipFade),m=m||z.text||z.icon)}for(let O in b){let z=b[O];if(!this.opacities[O]){let U=new hi(z,g,!1,!1);U.isHidden()||(this.opacities[O]=U,m=m||z.text.placed||z.icon.placed)}}for(let O in C)this.variableOffsets[O]||!this.opacities[O]||this.opacities[O].isHidden()||(this.variableOffsets[O]=C[O]);for(let O in P)this.placedOrientations[O]||!this.opacities[O]||this.opacities[O].isHidden()||(this.placedOrientations[O]=P[O]);if(d&&d.lastPlacementChangeTime===void 0)throw new Error("Last placement time for previous placement is not defined");m?this.lastPlacementChangeTime=a:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=d?d.lastPlacementChangeTime:a)}updateLayerOpacities(a,d){let m={};for(let g of d){let b=g.getBucket(a);b&&g.latestFeatureIndex&&a.id===b.layerIds[0]&&this.updateBucketOpacities(b,g.tileID,m,g.collisionBoxArray)}}updateBucketOpacities(a,d,m,g){a.hasTextData()&&(a.text.opacityVertexArray.clear(),a.text.hasVisibleVertices=!1),a.hasIconData()&&(a.icon.opacityVertexArray.clear(),a.icon.hasVisibleVertices=!1),a.hasIconCollisionBoxData()&&a.iconCollisionBox.collisionVertexArray.clear(),a.hasTextCollisionBoxData()&&a.textCollisionBox.collisionVertexArray.clear();let b=a.layers[0],C=b.layout,P=new hi(null,0,!1,!1,!0),O=C.get("text-allow-overlap"),z=C.get("icon-allow-overlap"),U=b._unevaluatedLayout.hasValue("text-variable-anchor")||b._unevaluatedLayout.hasValue("text-variable-anchor-offset"),V=C.get("text-rotation-alignment")==="map",K=C.get("text-pitch-alignment")==="map",te=C.get("icon-text-fit")!=="none",oe=new hi(null,0,O&&(z||!a.hasIconData()||C.get("icon-optional")),z&&(O||!a.hasTextData()||C.get("text-optional")),!0);!a.collisionArrays&&g&&(a.hasIconCollisionBoxData()||a.hasTextCollisionBoxData())&&a.deserializeCollisionBoxes(g);let ce=(me,ye,se)=>{for(let Ie=0;Ie<ye/4;Ie++)me.opacityVertexArray.emplaceBack(se);me.hasVisibleVertices=me.hasVisibleVertices||se!==up},pe=this.collisionBoxArrays.get(a.bucketInstanceId);for(let me=0;me<a.symbolInstances.length;me++){let ye=a.symbolInstances.get(me),{numHorizontalGlyphVertices:se,numVerticalGlyphVertices:Ie,crossTileID:Me}=ye,Le=this.opacities[Me];m[Me]?Le=P:Le||(Le=oe,this.opacities[Me]=Le),m[Me]=!0;let rt=ye.numIconVertices>0,pt=this.placedOrientations[ye.crossTileID],At=pt===o.ah.vertical,Bt=pt===o.ah.horizontal||pt===o.ah.horizontalOnly;if(se>0||Ie>0){let xt=ja(Le.text);ce(a.text,se,At?up:xt),ce(a.text,Ie,Bt?up:xt);let Xt=Le.text.isHidden();[ye.rightJustifiedTextSymbolIndex,ye.centerJustifiedTextSymbolIndex,ye.leftJustifiedTextSymbolIndex].forEach(qt=>{qt>=0&&(a.text.placedSymbolArray.get(qt).hidden=Xt||At?1:0)}),ye.verticalPlacedTextSymbolIndex>=0&&(a.text.placedSymbolArray.get(ye.verticalPlacedTextSymbolIndex).hidden=Xt||Bt?1:0);let br=this.variableOffsets[ye.crossTileID];br&&this.markUsedJustification(a,br.anchor,ye,pt);let It=this.placedOrientations[ye.crossTileID];It&&(this.markUsedJustification(a,"left",ye,It),this.markUsedOrientation(a,It,ye))}if(rt){let xt=ja(Le.icon),Xt=!(te&&ye.verticalPlacedIconSymbolIndex&&At);ye.placedIconSymbolIndex>=0&&(ce(a.icon,ye.numIconVertices,Xt?xt:up),a.icon.placedSymbolArray.get(ye.placedIconSymbolIndex).hidden=Le.icon.isHidden()),ye.verticalPlacedIconSymbolIndex>=0&&(ce(a.icon,ye.numVerticalIconVertices,Xt?up:xt),a.icon.placedSymbolArray.get(ye.verticalPlacedIconSymbolIndex).hidden=Le.icon.isHidden())}let St=pe&&pe.has(me)?pe.get(me):{text:null,icon:null};if(a.hasIconCollisionBoxData()||a.hasTextCollisionBoxData()){let xt=a.collisionArrays[me];if(xt){let Xt=new o.P(0,0);if(xt.textBox||xt.verticalTextBox){let br=!0;if(U){let It=this.variableOffsets[Me];It?(Xt=io(It.anchor,It.width,It.height,It.textOffset,It.textBoxScale),V&&Xt._rotate(K?this.transform.angle:-this.transform.angle)):br=!1}if(xt.textBox||xt.verticalTextBox){let It;xt.textBox&&(It=At),xt.verticalTextBox&&(It=Bt),lp(a.textCollisionBox.collisionVertexArray,Le.text.placed,!br||It,St.text,Xt.x,Xt.y)}}if(xt.iconBox||xt.verticalIconBox){let br=!!(!Bt&&xt.verticalIconBox),It;xt.iconBox&&(It=br),xt.verticalIconBox&&(It=!br),lp(a.iconCollisionBox.collisionVertexArray,Le.icon.placed,It,St.icon,te?Xt.x:0,te?Xt.y:0)}}}}if(a.sortFeatures(this.transform.angle),this.retainedQueryData[a.bucketInstanceId]&&(this.retainedQueryData[a.bucketInstanceId].featureSortOrder=a.featureSortOrder),a.hasTextData()&&a.text.opacityVertexBuffer&&a.text.opacityVertexBuffer.updateData(a.text.opacityVertexArray),a.hasIconData()&&a.icon.opacityVertexBuffer&&a.icon.opacityVertexBuffer.updateData(a.icon.opacityVertexArray),a.hasIconCollisionBoxData()&&a.iconCollisionBox.collisionVertexBuffer&&a.iconCollisionBox.collisionVertexBuffer.updateData(a.iconCollisionBox.collisionVertexArray),a.hasTextCollisionBoxData()&&a.textCollisionBox.collisionVertexBuffer&&a.textCollisionBox.collisionVertexBuffer.updateData(a.textCollisionBox.collisionVertexArray),a.text.opacityVertexArray.length!==a.text.layoutVertexArray.length/4)throw new Error(`bucket.text.opacityVertexArray.length (= ${a.text.opacityVertexArray.length}) !== bucket.text.layoutVertexArray.length (= ${a.text.layoutVertexArray.length}) / 4`);if(a.icon.opacityVertexArray.length!==a.icon.layoutVertexArray.length/4)throw new Error(`bucket.icon.opacityVertexArray.length (= ${a.icon.opacityVertexArray.length}) !== bucket.icon.layoutVertexArray.length (= ${a.icon.layoutVertexArray.length}) / 4`);if(a.bucketInstanceId in this.collisionCircleArrays){let me=this.collisionCircleArrays[a.bucketInstanceId];a.placementInvProjMatrix=me.invProjMatrix,a.placementViewportMatrix=me.viewportMatrix,a.collisionCircleArray=me.circles,delete this.collisionCircleArrays[a.bucketInstanceId]}}symbolFadeChange(a){return this.fadeDuration===0?1:(a-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(a){return Math.max(0,(this.transform.zoom-a)/1.5)}hasTransitions(a){return this.stale||a-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(a,d){let m=this.zoomAtLastRecencyCheck===d?1-this.zoomAdjustment(d):1;return this.zoomAtLastRecencyCheck=d,this.commitTime+this.fadeDuration*m>a}setStale(){this.stale=!0}}function lp(x,a,d,m,g,b){m&&m.length!==0||(m=[0,0,0,0]);let C=m[0]-Tr,P=m[1]-Tr,O=m[2]-Tr,z=m[3]-Tr;x.emplaceBack(a?1:0,d?1:0,g||0,b||0,C,P),x.emplaceBack(a?1:0,d?1:0,g||0,b||0,O,P),x.emplaceBack(a?1:0,d?1:0,g||0,b||0,O,z),x.emplaceBack(a?1:0,d?1:0,g||0,b||0,C,z)}let Cn=Math.pow(2,25),I1=Math.pow(2,24),E1=Math.pow(2,17),Ra=Math.pow(2,16),za=Math.pow(2,9),ZD=Math.pow(2,8),os=Math.pow(2,1);function ja(x){if(x.opacity===0&&!x.placed)return 0;if(x.opacity===1&&x.placed)return 4294967295;let a=x.placed?1:0,d=Math.floor(127*x.opacity);return d*Cn+a*I1+d*E1+a*Ra+d*za+a*ZD+d*os+a}let up=0;function Vc(){return{isOccluded:(x,a,d)=>!1,getPitchedTextCorrection:(x,a,d)=>1,get useSpecialProjectionForSymbols(){return!1},projectTileCoordinates(x,a,d,m){throw new Error("Not implemented.")},translatePosition:(x,a,d,m)=>function(g,b,C,P,O=!1){if(!C[0]&&!C[1])return[0,0];let z=O?P==="map"?g.angle:0:P==="viewport"?-g.angle:0;if(z){let U=Math.sin(z),V=Math.cos(z);C=[C[0]*V-C[1]*U,C[0]*U+C[1]*V]}return[O?C[0]:Zr(b,C[0],g.zoom),O?C[1]:Zr(b,C[1],g.zoom)]}(x,a,d,m),getCircleRadiusCorrection:x=>1}}class Ni{constructor(a){this._sortAcrossTiles=a.layout.get("symbol-z-order")!=="viewport-y"&&!a.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(a,d,m,g,b){let C=this._bucketParts;for(;this._currentTileIndex<a.length;)if(d.getBucketParts(C,g,a[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,b())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,C.sort((P,O)=>P.sortKey-O.sortKey));this._currentPartIndex<C.length;)if(d.placeLayerBucketPart(C[this._currentPartIndex],this._seenCrossTileIDs,m),this._currentPartIndex++,b())return!0;return!1}}class vh{constructor(a,d,m,g,b,C,P,O){this.placement=new ko(a,Vc(),d,C,P,O),this._currentPlacementIndex=m.length-1,this._forceFullPlacement=g,this._showCollisionBoxes=b,this._done=!1}isDone(){return this._done}continuePlacement(a,d,m){let g=y.now(),b=()=>!this._forceFullPlacement&&y.now()-g>2;for(;this._currentPlacementIndex>=0;){let C=d[a[this._currentPlacementIndex]],P=this.placement.collisionIndex.transform.zoom;if(C.type==="symbol"&&(!C.minzoom||C.minzoom<=P)&&(!C.maxzoom||C.maxzoom>P)){if(this._inProgressLayer||(this._inProgressLayer=new Ni(C)),this._inProgressLayer.continuePlacement(m[C.source],this.placement,this._showCollisionBoxes,C,b))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(a){return this.placement.commit(a),this.placement}}let Us=512/o.X/2;class Ai{constructor(a,d,m){this.tileID=a,this.bucketInstanceId=m,this._symbolsByKey={};let g=new Map;for(let b=0;b<d.length;b++){let C=d.get(b),P=C.key,O=g.get(P);O?O.push(C):g.set(P,[C])}for(let[b,C]of g){let P={positions:C.map(O=>({x:Math.floor(O.anchorX*Us),y:Math.floor(O.anchorY*Us)})),crossTileIDs:C.map(O=>O.crossTileID)};if(P.positions.length>128){let O=new o.av(P.positions.length,16,Uint16Array);for(let{x:z,y:U}of P.positions)O.add(z,U);O.finish(),delete P.positions,P.index=O}this._symbolsByKey[b]=P}}getScaledCoordinates(a,d){let{x:m,y:g,z:b}=this.tileID.canonical,{x:C,y:P,z:O}=d.canonical,z=Us/Math.pow(2,O-b),U=(P*o.X+a.anchorY)*z,V=g*o.X*Us;return{x:Math.floor((C*o.X+a.anchorX)*z-m*o.X*Us),y:Math.floor(U-V)}}findMatches(a,d,m){let g=this.tileID.canonical.z<d.canonical.z?1:Math.pow(2,this.tileID.canonical.z-d.canonical.z);for(let b=0;b<a.length;b++){let C=a.get(b);if(C.crossTileID)continue;let P=this._symbolsByKey[C.key];if(!P)continue;let O=this.getScaledCoordinates(C,d);if(P.index){let z=P.index.range(O.x-g,O.y-g,O.x+g,O.y+g).sort();for(let U of z){let V=P.crossTileIDs[U];if(!m[V]){m[V]=!0,C.crossTileID=V;break}}}else if(P.positions)for(let z=0;z<P.positions.length;z++){let U=P.positions[z],V=P.crossTileIDs[z];if(Math.abs(U.x-O.x)<=g&&Math.abs(U.y-O.y)<=g&&!m[V]){m[V]=!0,C.crossTileID=V;break}}}}getCrossTileIDsLists(){return Object.values(this._symbolsByKey).map(({crossTileIDs:a})=>a)}}class bg{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class Vs{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(a){let d=Math.round((a-this.lng)/360);if(d!==0)for(let m in this.indexes){let g=this.indexes[m],b={};for(let C in g){let P=g[C];P.tileID=P.tileID.unwrapTo(P.tileID.wrap+d),b[P.tileID.key]=P}this.indexes[m]=b}this.lng=a}addBucket(a,d,m){if(this.indexes[a.overscaledZ]&&this.indexes[a.overscaledZ][a.key]){if(this.indexes[a.overscaledZ][a.key].bucketInstanceId===d.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(a.overscaledZ,this.indexes[a.overscaledZ][a.key])}for(let b=0;b<d.symbolInstances.length;b++)d.symbolInstances.get(b).crossTileID=0;this.usedCrossTileIDs[a.overscaledZ]||(this.usedCrossTileIDs[a.overscaledZ]={});let g=this.usedCrossTileIDs[a.overscaledZ];for(let b in this.indexes){let C=this.indexes[b];if(Number(b)>a.overscaledZ)for(let P in C){let O=C[P];O.tileID.isChildOf(a)&&O.findMatches(d.symbolInstances,a,g)}else{let P=C[a.scaledTo(Number(b)).key];P&&P.findMatches(d.symbolInstances,a,g)}}for(let b=0;b<d.symbolInstances.length;b++){let C=d.symbolInstances.get(b);C.crossTileID||(C.crossTileID=m.generate(),g[C.crossTileID]=!0)}return this.indexes[a.overscaledZ]===void 0&&(this.indexes[a.overscaledZ]={}),this.indexes[a.overscaledZ][a.key]=new Ai(a,d.symbolInstances,d.bucketInstanceId),!0}removeBucketCrossTileIDs(a,d){for(let m of d.getCrossTileIDsLists())for(let g of m)delete this.usedCrossTileIDs[a][g]}removeStaleBuckets(a){let d=!1;for(let m in this.indexes){let g=this.indexes[m];for(let b in g)a[g[b].bucketInstanceId]||(this.removeBucketCrossTileIDs(m,g[b]),delete g[b],d=!0)}return d}}class T1{constructor(){this.layerIndexes={},this.crossTileIDs=new bg,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(a,d,m){let g=this.layerIndexes[a.id];g===void 0&&(g=this.layerIndexes[a.id]=new Vs);let b=!1,C={};g.handleWrapJump(m);for(let P of d){let O=P.getBucket(a);O&&a.id===O.layerIds[0]&&(O.bucketInstanceId||(O.bucketInstanceId=++this.maxBucketInstanceId),g.addBucket(P.tileID,O,this.crossTileIDs)&&(b=!0),C[O.bucketInstanceId]=!0)}return g.removeStaleBuckets(C)&&(b=!0),b}pruneUnusedLayers(a){let d={};a.forEach(m=>{d[m]=!0});for(let m in this.layerIndexes)d[m]||delete this.layerIndexes[m]}}let $s=(x,a)=>o.t(x,a&&a.filter(d=>d.identifier!=="source.canvas")),KD=o.aw();class xg extends o.E{constructor(a,d={}){super(),this._rtlPluginLoaded=()=>{for(let m in this.sourceCaches){let g=this.sourceCaches[m].getSource().type;g!=="vector"&&g!=="geojson"||this.sourceCaches[m].reload()}},this.map=a,this.dispatcher=new Te(ke(),a._getMapId()),this.dispatcher.registerMessageHandler("GG",(m,g)=>this.getGlyphs(m,g)),this.dispatcher.registerMessageHandler("GI",(m,g)=>this.getImages(m,g)),this.imageManager=new We,this.imageManager.setEventedParent(this),this.glyphManager=new dt(a._requestManager,d.localIdeographFontFamily),this.lineAtlas=new ut(256,512),this.crossTileSymbolIndex=new T1,this._spritesImagesIds={},this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new o.ax,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("SR",o.ay()),is().on(at,this._rtlPluginLoaded),this.on("data",m=>{if(m.dataType!=="source"||m.sourceDataType!=="metadata")return;let g=this.sourceCaches[m.sourceId];if(!g)return;let b=g.getSource();if(b&&b.vectorLayerIds)for(let C in this._layers){let P=this._layers[C];P.source===b.id&&this._validateLayer(P)}})}loadURL(a,d={},m){this.fire(new o.k("dataloading",{dataType:"style"})),d.validate=typeof d.validate!="boolean"||d.validate;let g=this.map._requestManager.transformRequest(a,"Style");this._loadStyleRequest=new AbortController;let b=this._loadStyleRequest;o.h(g,this._loadStyleRequest).then(C=>{this._loadStyleRequest=null,this._load(C.data,d,m)}).catch(C=>{this._loadStyleRequest=null,C&&!b.signal.aborted&&this.fire(new o.j(C))})}loadJSON(a,d={},m){this.fire(new o.k("dataloading",{dataType:"style"})),this._frameRequest=new AbortController,y.frameAsync(this._frameRequest).then(()=>{this._frameRequest=null,d.validate=d.validate!==!1,this._load(a,d,m)}).catch(()=>{})}loadEmpty(){this.fire(new o.k("dataloading",{dataType:"style"})),this._load(KD,{validate:!1})}_load(a,d,m){var g;let b=d.transformStyle?d.transformStyle(m,a):a;if(!d.validate||!$s(this,o.u(b))){this._loaded=!0,this.stylesheet=b;for(let C in b.sources)this.addSource(C,b.sources[C],{validate:!1});b.sprite?this._loadSprite(b.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(b.glyphs),this._createLayers(),this.light=new Pe(this.stylesheet.light),this.sky=new lt(this.stylesheet.sky),this.map.setTerrain((g=this.stylesheet.terrain)!==null&&g!==void 0?g:null),this.fire(new o.k("data",{dataType:"style"})),this.fire(new o.k("style.load"))}}_createLayers(){let a=o.az(this.stylesheet.layers);this.dispatcher.broadcast("SL",a),this._order=a.map(d=>d.id),this._layers={},this._serializedLayers=null;for(let d of a){let m=o.aA(d);m.setEventedParent(this,{layer:{id:d.id}}),this._layers[d.id]=m}}_loadSprite(a,d=!1,m=void 0){let g;this.imageManager.setLoaded(!1),this._spriteRequest=new AbortController,function(b,C,P,O){return o._(this,void 0,void 0,function*(){let z=ge(b),U=P>1?"@2x":"",V={},K={};for(let{id:te,url:oe}of z){let ce=C.transformRequest(Oe(oe,U,".json"),"SpriteJSON");V[te]=o.h(ce,O);let pe=C.transformRequest(Oe(oe,U,".png"),"SpriteImage");K[te]=L.getImage(pe,O)}return yield Promise.all([...Object.values(V),...Object.values(K)]),function(te,oe){return o._(this,void 0,void 0,function*(){let ce={};for(let pe in te){ce[pe]={};let me=y.getImageCanvasContext((yield oe[pe]).data),ye=(yield te[pe]).data;for(let se in ye){let{width:Ie,height:Me,x:Le,y:rt,sdf:pt,pixelRatio:At,stretchX:Bt,stretchY:St,content:xt,textFitWidth:Xt,textFitHeight:br}=ye[se];ce[pe][se]={data:null,pixelRatio:At,sdf:pt,stretchX:Bt,stretchY:St,content:xt,textFitWidth:Xt,textFitHeight:br,spriteData:{width:Ie,height:Me,x:Le,y:rt,context:me}}}}return ce})}(V,K)})}(a,this.map._requestManager,this.map.getPixelRatio(),this._spriteRequest).then(b=>{if(this._spriteRequest=null,b)for(let C in b){this._spritesImagesIds[C]=[];let P=this._spritesImagesIds[C]?this._spritesImagesIds[C].filter(O=>!(O in b)):[];for(let O of P)this.imageManager.removeImage(O),this._changedImages[O]=!0;for(let O in b[C]){let z=C==="default"?O:`${C}:${O}`;this._spritesImagesIds[C].push(z),z in this.imageManager.images?this.imageManager.updateImage(z,b[C][O],!1):this.imageManager.addImage(z,b[C][O]),d&&(this._changedImages[z]=!0)}}}).catch(b=>{this._spriteRequest=null,g=b,this.fire(new o.j(g))}).finally(()=>{this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),d&&(this._changed=!0),this.dispatcher.broadcast("SI",this._availableImages),this.fire(new o.k("data",{dataType:"style"})),m&&m(g)})}_unloadSprite(){for(let a of Object.values(this._spritesImagesIds).flat())this.imageManager.removeImage(a),this._changedImages[a]=!0;this._spritesImagesIds={},this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new o.k("data",{dataType:"style"}))}_validateLayer(a){let d=this.sourceCaches[a.source];if(!d)return;let m=a.sourceLayer;if(!m)return;let g=d.getSource();(g.type==="geojson"||g.vectorLayerIds&&g.vectorLayerIds.indexOf(m)===-1)&&this.fire(new o.j(new Error(`Source layer "${m}" does not exist on source "${g.id}" as specified by style layer "${a.id}".`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(let a in this.sourceCaches)if(!this.sourceCaches[a].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeByIds(a,d=!1){let m=this._serializedAllLayers();if(!a||a.length===0)return Object.values(d?o.aB(m):m);let g=[];for(let b of a)if(m[b]){let C=d?o.aB(m[b]):m[b];g.push(C)}return g}_serializedAllLayers(){let a=this._serializedLayers;if(a)return a;a=this._serializedLayers={};let d=Object.keys(this._layers);for(let m of d){let g=this._layers[m];g.type!=="custom"&&(a[m]=g.serialize())}return a}hasTransitions(){if(this.light&&this.light.hasTransition()||this.sky&&this.sky.hasTransition())return!0;for(let a in this.sourceCaches)if(this.sourceCaches[a].hasTransition())return!0;for(let a in this._layers)if(this._layers[a].hasTransition())return!0;return!1}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading.")}update(a){if(!this._loaded)return;let d=this._changed;if(d){let g=Object.keys(this._updatedLayers),b=Object.keys(this._removedLayers);(g.length||b.length)&&this._updateWorkerLayers(g,b);for(let C in this._updatedSources){let P=this._updatedSources[C];if(P==="reload")this._reloadSource(C);else{if(P!=="clear")throw new Error(`Invalid action ${P}`);this._clearSource(C)}}this._updateTilesForChangedImages(),this._updateTilesForChangedGlyphs();for(let C in this._updatedPaintProps)this._layers[C].updateTransitions(a);this.light.updateTransitions(a),this.sky.updateTransitions(a),this._resetUpdates()}let m={};for(let g in this.sourceCaches){let b=this.sourceCaches[g];m[g]=b.used,b.used=!1}for(let g of this._order){let b=this._layers[g];b.recalculate(a,this._availableImages),!b.isHidden(a.zoom)&&b.source&&(this.sourceCaches[b.source].used=!0)}for(let g in m){let b=this.sourceCaches[g];!!m[g]!=!!b.used&&b.fire(new o.k("data",{sourceDataType:"visibility",dataType:"source",sourceId:g}))}this.light.recalculate(a),this.sky.recalculate(a),this.z=a.zoom,d&&this.fire(new o.k("data",{dataType:"style"}))}_updateTilesForChangedImages(){let a=Object.keys(this._changedImages);if(a.length){for(let d in this.sourceCaches)this.sourceCaches[d].reloadTilesForDependencies(["icons","patterns"],a);this._changedImages={}}}_updateTilesForChangedGlyphs(){if(this._glyphsDidChange){for(let a in this.sourceCaches)this.sourceCaches[a].reloadTilesForDependencies(["glyphs"],[""]);this._glyphsDidChange=!1}}_updateWorkerLayers(a,d){this.dispatcher.broadcast("UL",{layers:this._serializeByIds(a,!1),removedIds:d})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={},this._glyphsDidChange=!1}setState(a,d={}){var m;this._checkLoaded();let g=this.serialize();if(a=d.transformStyle?d.transformStyle(g,a):a,((m=d.validate)===null||m===void 0||m)&&$s(this,o.u(a)))return!1;(a=o.aB(a)).layers=o.az(a.layers);let b=o.aC(g,a),C=this._getOperationsToPerform(b);if(C.unimplemented.length>0)throw new Error(`Unimplemented: ${C.unimplemented.join(", ")}.`);if(C.operations.length===0)return!1;for(let P of C.operations)P();return this.stylesheet=a,this._serializedLayers=null,!0}_getOperationsToPerform(a){let d=[],m=[];for(let g of a)switch(g.command){case"setCenter":case"setZoom":case"setBearing":case"setPitch":continue;case"addLayer":d.push(()=>this.addLayer.apply(this,g.args));break;case"removeLayer":d.push(()=>this.removeLayer.apply(this,g.args));break;case"setPaintProperty":d.push(()=>this.setPaintProperty.apply(this,g.args));break;case"setLayoutProperty":d.push(()=>this.setLayoutProperty.apply(this,g.args));break;case"setFilter":d.push(()=>this.setFilter.apply(this,g.args));break;case"addSource":d.push(()=>this.addSource.apply(this,g.args));break;case"removeSource":d.push(()=>this.removeSource.apply(this,g.args));break;case"setLayerZoomRange":d.push(()=>this.setLayerZoomRange.apply(this,g.args));break;case"setLight":d.push(()=>this.setLight.apply(this,g.args));break;case"setGeoJSONSourceData":d.push(()=>this.setGeoJSONSourceData.apply(this,g.args));break;case"setGlyphs":d.push(()=>this.setGlyphs.apply(this,g.args));break;case"setSprite":d.push(()=>this.setSprite.apply(this,g.args));break;case"setSky":d.push(()=>this.setSky.apply(this,g.args));break;case"setTerrain":d.push(()=>this.map.setTerrain.apply(this,g.args));break;case"setTransition":d.push(()=>{});break;default:m.push(g.command);}return{operations:d,unimplemented:m}}addImage(a,d){if(this.getImage(a))return this.fire(new o.j(new Error(`An image named "${a}" already exists.`)));this.imageManager.addImage(a,d),this._afterImageUpdated(a)}updateImage(a,d){this.imageManager.updateImage(a,d)}getImage(a){return this.imageManager.getImage(a)}removeImage(a){if(!this.getImage(a))return this.fire(new o.j(new Error(`An image named "${a}" does not exist.`)));this.imageManager.removeImage(a),this._afterImageUpdated(a)}_afterImageUpdated(a){this._availableImages=this.imageManager.listImages(),this._changedImages[a]=!0,this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new o.k("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(a,d,m={}){if(this._checkLoaded(),this.sourceCaches[a]!==void 0)throw new Error(`Source "${a}" already exists.`);if(!d.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(d).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(d.type)>=0&&this._validate(o.u.source,`sources.${a}`,d,null,m))return;this.map&&this.map._collectResourceTiming&&(d.collectResourceTiming=!0);let g=this.sourceCaches[a]=new fr(a,d,this.dispatcher);g.style=this,g.setEventedParent(this,()=>({isSourceLoaded:g.loaded(),source:g.serialize(),sourceId:a})),g.onAdd(this.map),this._changed=!0}removeSource(a){if(this._checkLoaded(),this.sourceCaches[a]===void 0)throw new Error("There is no source with this ID");for(let m in this._layers)if(this._layers[m].source===a)return this.fire(new o.j(new Error(`Source "${a}" cannot be removed while layer "${m}" is using it.`)));let d=this.sourceCaches[a];delete this.sourceCaches[a],delete this._updatedSources[a],d.fire(new o.k("data",{sourceDataType:"metadata",dataType:"source",sourceId:a})),d.setEventedParent(null),d.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(a,d){if(this._checkLoaded(),this.sourceCaches[a]===void 0)throw new Error(`There is no source with this ID=${a}`);let m=this.sourceCaches[a].getSource();if(m.type!=="geojson")throw new Error(`geojsonSource.type is ${m.type}, which is !== 'geojson`);m.setData(d),this._changed=!0}getSource(a){return this.sourceCaches[a]&&this.sourceCaches[a].getSource()}addLayer(a,d,m={}){this._checkLoaded();let g=a.id;if(this.getLayer(g))return void this.fire(new o.j(new Error(`Layer "${g}" already exists on this map.`)));let b;if(a.type==="custom"){if($s(this,o.aD(a)))return;b=o.aA(a)}else{if("source"in a&&typeof a.source=="object"&&(this.addSource(g,a.source),a=o.aB(a),a=o.e(a,{source:g})),this._validate(o.u.layer,`layers.${g}`,a,{arrayIndex:-1},m))return;b=o.aA(a),this._validateLayer(b),b.setEventedParent(this,{layer:{id:g}})}let C=d?this._order.indexOf(d):this._order.length;if(d&&C===-1)this.fire(new o.j(new Error(`Cannot add layer "${g}" before non-existing layer "${d}".`)));else{if(this._order.splice(C,0,g),this._layerOrderChanged=!0,this._layers[g]=b,this._removedLayers[g]&&b.source&&b.type!=="custom"){let P=this._removedLayers[g];delete this._removedLayers[g],P.type!==b.type?this._updatedSources[b.source]="clear":(this._updatedSources[b.source]="reload",this.sourceCaches[b.source].pause())}this._updateLayer(b),b.onAdd&&b.onAdd(this.map)}}moveLayer(a,d){if(this._checkLoaded(),this._changed=!0,!this._layers[a])return void this.fire(new o.j(new Error(`The layer '${a}' does not exist in the map's style and cannot be moved.`)));if(a===d)return;let m=this._order.indexOf(a);this._order.splice(m,1);let g=d?this._order.indexOf(d):this._order.length;d&&g===-1?this.fire(new o.j(new Error(`Cannot move layer "${a}" before non-existing layer "${d}".`))):(this._order.splice(g,0,a),this._layerOrderChanged=!0)}removeLayer(a){this._checkLoaded();let d=this._layers[a];if(!d)return void this.fire(new o.j(new Error(`Cannot remove non-existing layer "${a}".`)));d.setEventedParent(null);let m=this._order.indexOf(a);this._order.splice(m,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[a]=d,delete this._layers[a],this._serializedLayers&&delete this._serializedLayers[a],delete this._updatedLayers[a],delete this._updatedPaintProps[a],d.onRemove&&d.onRemove(this.map)}getLayer(a){return this._layers[a]}getLayersOrder(){return[...this._order]}hasLayer(a){return a in this._layers}setLayerZoomRange(a,d,m){this._checkLoaded();let g=this.getLayer(a);g?g.minzoom===d&&g.maxzoom===m||(d!=null&&(g.minzoom=d),m!=null&&(g.maxzoom=m),this._updateLayer(g)):this.fire(new o.j(new Error(`Cannot set the zoom range of non-existing layer "${a}".`)))}setFilter(a,d,m={}){this._checkLoaded();let g=this.getLayer(a);if(g){if(!o.aE(g.filter,d))return d==null?(g.filter=void 0,void this._updateLayer(g)):void(this._validate(o.u.filter,`layers.${g.id}.filter`,d,null,m)||(g.filter=o.aB(d),this._updateLayer(g)))}else this.fire(new o.j(new Error(`Cannot filter non-existing layer "${a}".`)))}getFilter(a){return o.aB(this.getLayer(a).filter)}setLayoutProperty(a,d,m,g={}){this._checkLoaded();let b=this.getLayer(a);b?o.aE(b.getLayoutProperty(d),m)||(b.setLayoutProperty(d,m,g),this._updateLayer(b)):this.fire(new o.j(new Error(`Cannot style non-existing layer "${a}".`)))}getLayoutProperty(a,d){let m=this.getLayer(a);if(m)return m.getLayoutProperty(d);this.fire(new o.j(new Error(`Cannot get style of non-existing layer "${a}".`)))}setPaintProperty(a,d,m,g={}){this._checkLoaded();let b=this.getLayer(a);b?o.aE(b.getPaintProperty(d),m)||(b.setPaintProperty(d,m,g)&&this._updateLayer(b),this._changed=!0,this._updatedPaintProps[a]=!0,this._serializedLayers=null):this.fire(new o.j(new Error(`Cannot style non-existing layer "${a}".`)))}getPaintProperty(a,d){return this.getLayer(a).getPaintProperty(d)}setFeatureState(a,d){this._checkLoaded();let m=a.source,g=a.sourceLayer,b=this.sourceCaches[m];if(b===void 0)return void this.fire(new o.j(new Error(`The source '${m}' does not exist in the map's style.`)));let C=b.getSource().type;C==="geojson"&&g?this.fire(new o.j(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):C!=="vector"||g?(a.id===void 0&&this.fire(new o.j(new Error("The feature id parameter must be provided."))),b.setFeatureState(g,a.id,d)):this.fire(new o.j(new Error("The sourceLayer parameter must be provided for vector source types.")))}removeFeatureState(a,d){this._checkLoaded();let m=a.source,g=this.sourceCaches[m];if(g===void 0)return void this.fire(new o.j(new Error(`The source '${m}' does not exist in the map's style.`)));let b=g.getSource().type,C=b==="vector"?a.sourceLayer:void 0;b!=="vector"||C?d&&typeof a.id!="string"&&typeof a.id!="number"?this.fire(new o.j(new Error("A feature id is required to remove its specific state property."))):g.removeFeatureState(C,a.id,d):this.fire(new o.j(new Error("The sourceLayer parameter must be provided for vector source types.")))}getFeatureState(a){this._checkLoaded();let d=a.source,m=a.sourceLayer,g=this.sourceCaches[d];if(g!==void 0)return g.getSource().type!=="vector"||m?(a.id===void 0&&this.fire(new o.j(new Error("The feature id parameter must be provided."))),g.getFeatureState(m,a.id)):void this.fire(new o.j(new Error("The sourceLayer parameter must be provided for vector source types.")));this.fire(new o.j(new Error(`The source '${d}' does not exist in the map's style.`)))}getTransition(){return o.e({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){if(!this._loaded)return;let a=o.aF(this.sourceCaches,b=>b.serialize()),d=this._serializeByIds(this._order,!0),m=this.map.getTerrain()||void 0,g=this.stylesheet;return o.aG({version:g.version,name:g.name,metadata:g.metadata,light:g.light,sky:g.sky,center:g.center,zoom:g.zoom,bearing:g.bearing,pitch:g.pitch,sprite:g.sprite,glyphs:g.glyphs,transition:g.transition,sources:a,layers:d,terrain:m},b=>b!==void 0)}_updateLayer(a){this._updatedLayers[a.id]=!0,a.source&&!this._updatedSources[a.source]&&this.sourceCaches[a.source].getSource().type!=="raster"&&(this._updatedSources[a.source]="reload",this.sourceCaches[a.source].pause()),this._serializedLayers=null,this._changed=!0}_flattenAndSortRenderedFeatures(a){let d=C=>this._layers[C].type==="fill-extrusion",m={},g=[];for(let C=this._order.length-1;C>=0;C--){let P=this._order[C];if(d(P)){m[P]=C;for(let O of a){let z=O[P];if(z)for(let U of z)g.push(U)}}}g.sort((C,P)=>P.intersectionZ-C.intersectionZ);let b=[];for(let C=this._order.length-1;C>=0;C--){let P=this._order[C];if(d(P))for(let O=g.length-1;O>=0;O--){let z=g[O].feature;if(m[z.layer.id]<C)break;b.push(z),g.pop()}else for(let O of a){let z=O[P];if(z)for(let U of z)b.push(U.feature)}}return b}queryRenderedFeatures(a,d,m){d&&d.filter&&this._validate(o.u.filter,"queryRenderedFeatures.filter",d.filter,null,d);let g={};if(d&&d.layers){if(!Array.isArray(d.layers))return this.fire(new o.j(new Error("parameters.layers must be an Array."))),[];for(let P of d.layers){let O=this._layers[P];if(!O)return this.fire(new o.j(new Error(`The layer '${P}' does not exist in the map's style and cannot be queried for features.`))),[];g[O.source]=!0}}let b=[];d.availableImages=this._availableImages;let C=this._serializedAllLayers();for(let P in this.sourceCaches)d.layers&&!g[P]||b.push(Ct(this.sourceCaches[P],this._layers,C,a,d,m));return this.placement&&b.push(function(P,O,z,U,V,K,te){let oe={},ce=K.queryRenderedSymbols(U),pe=[];for(let me of Object.keys(ce).map(Number))pe.push(te[me]);pe.sort(yt);for(let me of pe){let ye=me.featureIndex.lookupSymbolFeatures(ce[me.bucketInstanceId],O,me.bucketIndex,me.sourceLayerIndex,V.filter,V.layers,V.availableImages,P);for(let se in ye){let Ie=oe[se]=oe[se]||[],Me=ye[se];Me.sort((Le,rt)=>{let pt=me.featureSortOrder;if(pt){let At=pt.indexOf(Le.featureIndex);return pt.indexOf(rt.featureIndex)-At}return rt.featureIndex-Le.featureIndex});for(let Le of Me)Ie.push(Le)}}for(let me in oe)oe[me].forEach(ye=>{let se=ye.feature,Ie=z[P[me].source].getFeatureState(se.layer["source-layer"],se.id);se.source=se.layer.source,se.layer["source-layer"]&&(se.sourceLayer=se.layer["source-layer"]),se.state=Ie});return oe}(this._layers,C,this.sourceCaches,a,d,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(b)}querySourceFeatures(a,d){d&&d.filter&&this._validate(o.u.filter,"querySourceFeatures.filter",d.filter,null,d);let m=this.sourceCaches[a];return m?function(g,b){let C=g.getRenderableIds().map(z=>g.getTileByID(z)),P=[],O={};for(let z=0;z<C.length;z++){let U=C[z],V=U.tileID.canonical.key;O[V]||(O[V]=!0,U.querySourceFeatures(P,b))}return P}(m,d):[]}getLight(){return this.light.getLight()}setLight(a,d={}){this._checkLoaded();let m=this.light.getLight(),g=!1;for(let C in a)if(!o.aE(a[C],m[C])){g=!0;break}if(!g)return;let b={now:y.now(),transition:o.e({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(a,d),this.light.updateTransitions(b)}getSky(){var a;return(a=this.stylesheet)===null||a===void 0?void 0:a.sky}setSky(a,d={}){let m=this.getSky(),g=!1;if(!a&&!m)return;if(a&&!m)g=!0;else if(!a&&m)g=!0;else for(let C in a)if(!o.aE(a[C],m[C])){g=!0;break}if(!g)return;let b={now:y.now(),transition:o.e({duration:300,delay:0},this.stylesheet.transition)};this.stylesheet.sky=a,this.sky.setSky(a,d),this.sky.updateTransitions(b)}_validate(a,d,m,g,b={}){return(!b||b.validate!==!1)&&$s(this,a.call(o.u,o.e({key:d,style:this.serialize(),value:m,styleSpec:o.v},g)))}_remove(a=!0){this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._loadStyleRequest&&(this._loadStyleRequest.abort(),this._loadStyleRequest=null),this._spriteRequest&&(this._spriteRequest.abort(),this._spriteRequest=null),is().off(at,this._rtlPluginLoaded);for(let d in this._layers)this._layers[d].setEventedParent(null);for(let d in this.sourceCaches){let m=this.sourceCaches[d];m.setEventedParent(null),m.onRemove(this.map)}this.imageManager.setEventedParent(null),this.setEventedParent(null),a&&this.dispatcher.broadcast("RM",void 0),this.dispatcher.remove(a)}_clearSource(a){this.sourceCaches[a].clearTiles()}_reloadSource(a){this.sourceCaches[a].resume(),this.sourceCaches[a].reload()}_updateSources(a){for(let d in this.sourceCaches)this.sourceCaches[d].update(a,this.map.terrain)}_generateCollisionBoxes(){for(let a in this.sourceCaches)this._reloadSource(a)}_updatePlacement(a,d,m,g,b=!1){let C=!1,P=!1,O={};for(let z of this._order){let U=this._layers[z];if(U.type!=="symbol")continue;if(!O[U.source]){let K=this.sourceCaches[U.source];O[U.source]=K.getRenderableIds(!0).map(te=>K.getTileByID(te)).sort((te,oe)=>oe.tileID.overscaledZ-te.tileID.overscaledZ||(te.tileID.isLessThan(oe.tileID)?-1:1))}let V=this.crossTileSymbolIndex.addLayer(U,O[U.source],a.center.lng);C=C||V}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((b=b||this._layerOrderChanged||m===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(y.now(),a.zoom))&&(this.pauseablePlacement=new vh(a,this.map.terrain,this._order,b,d,m,g,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,O),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(y.now()),P=!0),C&&this.pauseablePlacement.placement.setStale()),P||C)for(let z of this._order){let U=this._layers[z];U.type==="symbol"&&this.placement.updateLayerOpacities(U,O[U.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(y.now())}_releaseSymbolFadeTiles(){for(let a in this.sourceCaches)this.sourceCaches[a].releaseSymbolFadeTiles()}getImages(a,d){return o._(this,void 0,void 0,function*(){let m=yield this.imageManager.getImages(d.icons);this._updateTilesForChangedImages();let g=this.sourceCaches[d.source];return g&&g.setDependencies(d.tileID.key,d.type,d.icons),m})}getGlyphs(a,d){return o._(this,void 0,void 0,function*(){let m=yield this.glyphManager.getGlyphs(d.stacks),g=this.sourceCaches[d.source];return g&&g.setDependencies(d.tileID.key,d.type,[""]),m})}getGlyphsUrl(){return this.stylesheet.glyphs||null}setGlyphs(a,d={}){this._checkLoaded(),a&&this._validate(o.u.glyphs,"glyphs",a,null,d)||(this._glyphsDidChange=!0,this.stylesheet.glyphs=a,this.glyphManager.entries={},this.glyphManager.setURL(a))}addSprite(a,d,m={},g){this._checkLoaded();let b=[{id:a,url:d}],C=[...ge(this.stylesheet.sprite),...b];this._validate(o.u.sprite,"sprite",C,null,m)||(this.stylesheet.sprite=C,this._loadSprite(b,!0,g))}removeSprite(a){this._checkLoaded();let d=ge(this.stylesheet.sprite);if(d.find(m=>m.id===a)){if(this._spritesImagesIds[a])for(let m of this._spritesImagesIds[a])this.imageManager.removeImage(m),this._changedImages[m]=!0;d.splice(d.findIndex(m=>m.id===a),1),this.stylesheet.sprite=d.length>0?d:void 0,delete this._spritesImagesIds[a],this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new o.k("data",{dataType:"style"}))}else this.fire(new o.j(new Error(`Sprite "${a}" doesn't exists on this map.`)))}getSprite(){return ge(this.stylesheet.sprite)}setSprite(a,d={},m){this._checkLoaded(),a&&this._validate(o.u.sprite,"sprite",a,null,d)||(this.stylesheet.sprite=a,a?this._loadSprite(a,!0,m):(this._unloadSprite(),m&&m(null)))}}var $c=o.Y([{name:"a_pos",type:"Int16",components:2}]);let Fu={prelude:fn(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}
#ifdef TERRAIN3D
uniform sampler2D u_terrain;uniform float u_terrain_dim;uniform mat4 u_terrain_matrix;uniform vec4 u_terrain_unpack;uniform float u_terrain_exaggeration;uniform highp sampler2D u_depth;
#endif
const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitShifts=vec4(1.)/bitSh;highp float unpack(highp vec4 color) {return dot(color,bitShifts);}highp float depthOpacity(vec3 frag) {
#ifdef TERRAIN3D
highp float d=unpack(texture2D(u_depth,frag.xy*0.5+0.5))+0.0001-frag.z;return 1.0-max(0.0,min(1.0,-d*500.0));
#else
return 1.0;
#endif
}float calculate_visibility(vec4 pos) {
#ifdef TERRAIN3D
vec3 frag=pos.xyz/pos.w;highp float d=depthOpacity(frag);if (d > 0.95) return 1.0;return (d+depthOpacity(frag+vec3(0.0,0.01,0.0)))/2.0;
#else
return 1.0;
#endif
}float ele(vec2 pos) {
#ifdef TERRAIN3D
vec4 rgb=(texture2D(u_terrain,pos)*255.0)*u_terrain_unpack;return rgb.r+rgb.g+rgb.b-u_terrain_unpack.a;
#else
return 0.0;
#endif
}float get_elevation(vec2 pos) {
#ifdef TERRAIN3D
vec2 coord=(u_terrain_matrix*vec4(pos,0.0,1.0)).xy*u_terrain_dim+1.0;vec2 f=fract(coord);vec2 c=(floor(coord)+0.5)/(u_terrain_dim+2.0);float d=1.0/(u_terrain_dim+2.0);float tl=ele(c);float tr=ele(c+vec2(d,0.0));float bl=ele(c+vec2(0.0,d));float br=ele(c+vec2(d,d));float elevation=mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);return elevation*u_terrain_exaggeration;
#else
return 0.0;
#endif
}`),background:fn(`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),backgroundPattern:fn(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),circle:fn(`varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);float antialiased_blur=v_data.z;float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=v_visibility*opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);float ele=get_elevation(circle_center);v_visibility=calculate_visibility(u_matrix*vec4(circle_center,ele,1.0));if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,ele,1);} else {gl_Position=u_matrix*vec4(circle_center,ele,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}float antialiasblur=-max(1.0/u_device_pixel_ratio/(radius+stroke_width),blur);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),clippingMask:fn("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:fn(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,get_elevation(floor(a_pos*0.5)),1);gl_Position=u_matrix*pos;}`),heatmapTexture:fn(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),collisionBox:fn("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_anchor_pos;attribute vec2 a_placed;attribute vec2 a_box_real;uniform mat4 u_matrix;uniform vec2 u_pixel_extrude_scale;varying float v_placed;varying float v_notUsed;vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return u_matrix*vec4(posInTile,elevation,1.0);}void main() {gl_Position=projectTileWithElevation(a_anchor_pos,get_elevation(a_anchor_pos));gl_Position.xy=((a_box_real+0.5)*u_pixel_extrude_scale*2.0-1.0)*vec2(1.0,-1.0)*gl_Position.w;if (gl_Position.z/gl_Position.w < 1.1) {gl_Position.z=0.5;}v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:fn("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:fn("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,get_elevation(a_pos),1);}"),fill:fn(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`),fillOutline:fn(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),fillOutlinePattern:fn(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),fillPattern:fn(`#ifdef GL_ES
precision highp float;
#endif
uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),fillExtrusion:fn(`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;
#ifdef TERRAIN3D
attribute vec2 a_centroid;
#endif
varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),fillExtrusionPattern:fn(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;
#ifdef TERRAIN3D
attribute vec2 a_centroid;
#endif
varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),hillshadePrepare:fn(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:fn(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),line:fn(`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),lineGradient:fn(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),linePattern:fn(`#ifdef GL_ES
precision highp float;
#endif
uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`),lineSDF:fn(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`),raster:fn(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),symbolIcon:fn(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform vec2 u_translation;uniform float u_pitched_scale;varying vec2 v_tex;varying float v_fade_opacity;vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return u_matrix*vec4(posInTile,elevation,1.0);}
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}gl_Position=finalPos;v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float visibility=calculate_visibility(projectedPoint);v_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));}`),symbolSDF:fn(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float inner_edge=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);inner_edge=inner_edge+gamma*gamma_scale;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(inner_edge-gamma_scaled,inner_edge+gamma_scaled,dist);if (u_is_halo) {lowp float halo_edge=(6.0-halo_width/fontScale)/SDF_PX;alpha=min(smoothstep(halo_edge-gamma_scaled,halo_edge+gamma_scaled,dist),1.0-alpha);}gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_translation;uniform float u_pitched_scale;varying vec2 v_data0;varying vec3 v_data1;vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return u_matrix*vec4(posInTile,elevation,1.0);}
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}float gamma_scale=finalPos.w;gl_Position=finalPos;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),symbolTextAndIcon:fn(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform vec2 u_translation;uniform float u_pitched_scale;varying vec4 v_data0;varying vec4 v_data1;vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return u_matrix*vec4(posInTile,elevation,1.0);}
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}float gamma_scale=finalPos.w;gl_Position=finalPos;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`),terrain:fn("uniform sampler2D u_texture;uniform vec4 u_fog_color;uniform vec4 u_horizon_color;uniform float u_fog_ground_blend;uniform float u_fog_ground_blend_opacity;uniform float u_horizon_fog_blend;varying vec2 v_texture_pos;varying float v_fog_depth;const float gamma=2.2;vec4 gammaToLinear(vec4 color) {return pow(color,vec4(gamma));}vec4 linearToGamma(vec4 color) {return pow(color,vec4(1.0/gamma));}void main() {vec4 surface_color=texture2D(u_texture,v_texture_pos);if (v_fog_depth > u_fog_ground_blend) {vec4 surface_color_linear=gammaToLinear(surface_color);float blend_color=smoothstep(0.0,1.0,max((v_fog_depth-u_horizon_fog_blend)/(1.0-u_horizon_fog_blend),0.0));vec4 fog_horizon_color_linear=mix(gammaToLinear(u_fog_color),gammaToLinear(u_horizon_color),blend_color);float factor_fog=max(v_fog_depth-u_fog_ground_blend,0.0)/(1.0-u_fog_ground_blend);gl_FragColor=linearToGamma(mix(surface_color_linear,fog_horizon_color_linear,pow(factor_fog,2.0)*u_fog_ground_blend_opacity));} else {gl_FragColor=surface_color;}}","attribute vec3 a_pos3d;uniform mat4 u_matrix;uniform mat4 u_fog_matrix;uniform float u_ele_delta;varying vec2 v_texture_pos;varying float v_fog_depth;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/8192.0;gl_Position=u_matrix*vec4(a_pos3d.xy,ele-ele_delta,1.0);vec4 pos=u_fog_matrix*vec4(a_pos3d.xy,ele,1.0);v_fog_depth=pos.z/pos.w*0.5+0.5;}"),terrainDepth:fn("varying float v_depth;const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitMsk=vec4(0.,vec3(1./256.0));highp vec4 pack(highp float value) {highp vec4 comp=fract(value*bitSh);comp-=comp.xxyz*bitMsk;return comp;}void main() {gl_FragColor=pack(v_depth);}","attribute vec3 a_pos3d;uniform mat4 u_matrix;uniform float u_ele_delta;varying float v_depth;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;gl_Position=u_matrix*vec4(a_pos3d.xy,ele-ele_delta,1.0);v_depth=gl_Position.z/gl_Position.w;}"),terrainCoords:fn("precision mediump float;uniform sampler2D u_texture;uniform float u_terrain_coords_id;varying vec2 v_texture_pos;void main() {vec4 rgba=texture2D(u_texture,v_texture_pos);gl_FragColor=vec4(rgba.r,rgba.g,rgba.b,u_terrain_coords_id);}","attribute vec3 a_pos3d;uniform mat4 u_matrix;uniform float u_ele_delta;varying vec2 v_texture_pos;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/8192.0;gl_Position=u_matrix*vec4(a_pos3d.xy,ele-ele_delta,1.0);}"),sky:fn("uniform vec4 u_sky_color;uniform vec4 u_horizon_color;uniform float u_horizon;uniform float u_sky_horizon_blend;void main() {float y=gl_FragCoord.y;if (y > u_horizon) {float blend=y-u_horizon;if (blend < u_sky_horizon_blend) {gl_FragColor=mix(u_sky_color,u_horizon_color,pow(1.0-blend/u_sky_horizon_blend,2.0));} else {gl_FragColor=u_sky_color;}}}","attribute vec2 a_pos;void main() {gl_Position=vec4(a_pos,1.0,1.0);}")};function fn(x,a){let d=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,m=a.match(/attribute ([\w]+) ([\w]+)/g),g=x.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),b=a.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),C=b?b.concat(g):g,P={};return{fragmentSource:x=x.replace(d,(O,z,U,V,K)=>(P[K]=!0,z==="define"?`
#ifndef HAS_UNIFORM_u_${K}
varying ${U} ${V} ${K};
#else
uniform ${U} ${V} u_${K};
#endif
`:`
#ifdef HAS_UNIFORM_u_${K}
    ${U} ${V} ${K} = u_${K};
#endif
`)),vertexSource:a=a.replace(d,(O,z,U,V,K)=>{let te=V==="float"?"vec2":"vec4",oe=K.match(/color/)?"color":te;return P[K]?z==="define"?`
#ifndef HAS_UNIFORM_u_${K}
uniform lowp float u_${K}_t;
attribute ${U} ${te} a_${K};
varying ${U} ${V} ${K};
#else
uniform ${U} ${V} u_${K};
#endif
`:oe==="vec4"?`
#ifndef HAS_UNIFORM_u_${K}
    ${K} = a_${K};
#else
    ${U} ${V} ${K} = u_${K};
#endif
`:`
#ifndef HAS_UNIFORM_u_${K}
    ${K} = unpack_mix_${oe}(a_${K}, u_${K}_t);
#else
    ${U} ${V} ${K} = u_${K};
#endif
`:z==="define"?`
#ifndef HAS_UNIFORM_u_${K}
uniform lowp float u_${K}_t;
attribute ${U} ${te} a_${K};
#else
uniform ${U} ${V} u_${K};
#endif
`:oe==="vec4"?`
#ifndef HAS_UNIFORM_u_${K}
    ${U} ${V} ${K} = a_${K};
#else
    ${U} ${V} ${K} = u_${K};
#endif
`:`
#ifndef HAS_UNIFORM_u_${K}
    ${U} ${V} ${K} = unpack_mix_${oe}(a_${K}, u_${K}_t);
#else
    ${U} ${V} ${K} = u_${K};
#endif
`}),staticAttributes:m,staticUniforms:C}}class M1{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(a,d,m,g,b,C,P,O,z){this.context=a;let U=this.boundPaintVertexBuffers.length!==g.length;for(let V=0;!U&&V<g.length;V++)this.boundPaintVertexBuffers[V]!==g[V]&&(U=!0);!this.vao||this.boundProgram!==d||this.boundLayoutVertexBuffer!==m||U||this.boundIndexBuffer!==b||this.boundVertexOffset!==C||this.boundDynamicVertexBuffer!==P||this.boundDynamicVertexBuffer2!==O||this.boundDynamicVertexBuffer3!==z?this.freshBind(d,m,g,b,C,P,O,z):(a.bindVertexArray.set(this.vao),P&&P.bind(),b&&b.dynamicDraw&&b.bind(),O&&O.bind(),z&&z.bind())}freshBind(a,d,m,g,b,C,P,O){let z=a.numAttributes,U=this.context,V=U.gl;this.vao&&this.destroy(),this.vao=U.createVertexArray(),U.bindVertexArray.set(this.vao),this.boundProgram=a,this.boundLayoutVertexBuffer=d,this.boundPaintVertexBuffers=m,this.boundIndexBuffer=g,this.boundVertexOffset=b,this.boundDynamicVertexBuffer=C,this.boundDynamicVertexBuffer2=P,this.boundDynamicVertexBuffer3=O,d.enableAttributes(V,a);for(let K of m)K.enableAttributes(V,a);C&&C.enableAttributes(V,a),P&&P.enableAttributes(V,a),O&&O.enableAttributes(V,a),d.bind(),d.setVertexAttribPointers(V,a,b);for(let K of m)K.bind(),K.setVertexAttribPointers(V,a,b);C&&(C.bind(),C.setVertexAttribPointers(V,a,b)),g&&g.bind(),P&&(P.bind(),P.setVertexAttribPointers(V,a,b)),O&&(O.bind(),O.setVertexAttribPointers(V,a,b)),U.currentNumAttributes=z}destroy(){this.vao&&(this.context.deleteVertexArray(this.vao),this.vao=null)}}let C1=(x,a,d,m,g)=>({u_matrix:x,u_texture:0,u_ele_delta:a,u_fog_matrix:d,u_fog_color:m?m.properties.get("fog-color"):o.aM.white,u_fog_ground_blend:m?m.properties.get("fog-ground-blend"):1,u_fog_ground_blend_opacity:m?m.calculateFogBlendOpacity(g):0,u_horizon_color:m?m.properties.get("horizon-color"):o.aM.white,u_horizon_fog_blend:m?m.properties.get("horizon-fog-blend"):1});function cp(x){let a=[];for(let d=0;d<x.length;d++){if(x[d]===null)continue;let m=x[d].split(" ");a.push(m.pop())}return a}class A1{constructor(a,d,m,g,b,C){let P=a.gl;this.program=P.createProgram();let O=cp(d.staticAttributes),z=m?m.getBinderAttributes():[],U=O.concat(z),V=Fu.prelude.staticUniforms?cp(Fu.prelude.staticUniforms):[],K=d.staticUniforms?cp(d.staticUniforms):[],te=m?m.getBinderUniforms():[],oe=V.concat(K).concat(te),ce=[];for(let Le of oe)ce.indexOf(Le)<0&&ce.push(Le);let pe=m?m.defines():[];b&&pe.push("#define OVERDRAW_INSPECTOR;"),C&&pe.push("#define TERRAIN3D;");let me=pe.concat(Fu.prelude.fragmentSource,d.fragmentSource).join(`
`),ye=pe.concat(Fu.prelude.vertexSource,d.vertexSource).join(`
`),se=P.createShader(P.FRAGMENT_SHADER);if(P.isContextLost())return void(this.failedToCreate=!0);if(P.shaderSource(se,me),P.compileShader(se),!P.getShaderParameter(se,P.COMPILE_STATUS))throw new Error(`Could not compile fragment shader: ${P.getShaderInfoLog(se)}`);P.attachShader(this.program,se);let Ie=P.createShader(P.VERTEX_SHADER);if(P.isContextLost())return void(this.failedToCreate=!0);if(P.shaderSource(Ie,ye),P.compileShader(Ie),!P.getShaderParameter(Ie,P.COMPILE_STATUS))throw new Error(`Could not compile vertex shader: ${P.getShaderInfoLog(Ie)}`);P.attachShader(this.program,Ie),this.attributes={};let Me={};this.numAttributes=U.length;for(let Le=0;Le<this.numAttributes;Le++)U[Le]&&(P.bindAttribLocation(this.program,Le,U[Le]),this.attributes[U[Le]]=Le);if(P.linkProgram(this.program),!P.getProgramParameter(this.program,P.LINK_STATUS))throw new Error(`Program failed to link: ${P.getProgramInfoLog(this.program)}`);P.deleteShader(Ie),P.deleteShader(se);for(let Le=0;Le<ce.length;Le++){let rt=ce[Le];if(rt&&!Me[rt]){let pt=P.getUniformLocation(this.program,rt);pt&&(Me[rt]=pt)}}this.fixedUniforms=g(a,Me),this.terrainUniforms=((Le,rt)=>({u_depth:new o.aH(Le,rt.u_depth),u_terrain:new o.aH(Le,rt.u_terrain),u_terrain_dim:new o.aI(Le,rt.u_terrain_dim),u_terrain_matrix:new o.aJ(Le,rt.u_terrain_matrix),u_terrain_unpack:new o.aK(Le,rt.u_terrain_unpack),u_terrain_exaggeration:new o.aI(Le,rt.u_terrain_exaggeration)}))(a,Me),this.binderUniforms=m?m.getUniforms(a,Me):[]}draw(a,d,m,g,b,C,P,O,z,U,V,K,te,oe,ce,pe,me,ye){let se=a.gl;if(this.failedToCreate)return;if(a.program.set(this.program),a.setDepthMode(m),a.setStencilMode(g),a.setColorMode(b),a.setCullFace(C),O){a.activeTexture.set(se.TEXTURE2),se.bindTexture(se.TEXTURE_2D,O.depthTexture),a.activeTexture.set(se.TEXTURE3),se.bindTexture(se.TEXTURE_2D,O.texture);for(let Me in this.terrainUniforms)this.terrainUniforms[Me].set(O[Me])}for(let Me in this.fixedUniforms)this.fixedUniforms[Me].set(P[Me]);ce&&ce.setUniforms(a,this.binderUniforms,te,{zoom:oe});let Ie=0;switch(d){case se.LINES:Ie=2;break;case se.TRIANGLES:Ie=3;break;case se.LINE_STRIP:Ie=1;}for(let Me of K.get()){let Le=Me.vaos||(Me.vaos={});(Le[z]||(Le[z]=new M1)).bind(a,this,U,ce?ce.getPaintVertexBuffers():[],V,Me.vertexOffset,pe,me,ye),se.drawElements(d,Me.primitiveLength*Ie,se.UNSIGNED_SHORT,Me.primitiveOffset*Ie*2)}}}function wg(x,a,d){let m=1/Zr(d,1,a.transform.tileZoom),g=Math.pow(2,d.tileID.overscaledZ),b=d.tileSize*Math.pow(2,a.transform.tileZoom)/g,C=b*(d.tileID.canonical.x+d.tileID.wrap*g),P=b*d.tileID.canonical.y;return{u_image:0,u_texsize:d.imageAtlasTexture.size,u_scale:[m,x.fromScale,x.toScale],u_fade:x.t,u_pixel_coord_upper:[C>>16,P>>16],u_pixel_coord_lower:[65535&C,65535&P]}}let yh=(x,a,d,m)=>{let g=a.style.light,b=g.properties.get("position"),C=[b.x,b.y,b.z],P=function(){var z=new o.A(9);return o.A!=Float32Array&&(z[1]=0,z[2]=0,z[3]=0,z[5]=0,z[6]=0,z[7]=0),z[0]=1,z[4]=1,z[8]=1,z}();g.properties.get("anchor")==="viewport"&&function(z,U){var V=Math.sin(U),K=Math.cos(U);z[0]=K,z[1]=V,z[2]=0,z[3]=-V,z[4]=K,z[5]=0,z[6]=0,z[7]=0,z[8]=1}(P,-a.transform.angle),function(z,U,V){var K=U[0],te=U[1],oe=U[2];z[0]=K*V[0]+te*V[3]+oe*V[6],z[1]=K*V[1]+te*V[4]+oe*V[7],z[2]=K*V[2]+te*V[5]+oe*V[8]}(C,C,P);let O=g.properties.get("color");return{u_matrix:x,u_lightpos:C,u_lightintensity:g.properties.get("intensity"),u_lightcolor:[O.r,O.g,O.b],u_vertical_gradient:+d,u_opacity:m}},Sg=(x,a,d,m,g,b,C)=>o.e(yh(x,a,d,m),wg(b,a,C),{u_height_factor:-Math.pow(2,g.overscaledZ)/C.tileSize/8}),dp=x=>({u_matrix:x}),rI=(x,a,d,m)=>o.e(dp(x),wg(d,a,m)),XD=(x,a)=>({u_matrix:x,u_world:a}),nI=(x,a,d,m,g)=>o.e(rI(x,a,d,m),{u_world:g}),QD=(x,a,d,m)=>{let g=x.transform,b,C;if(m.paint.get("circle-pitch-alignment")==="map"){let P=Zr(d,1,g.zoom);b=!0,C=[P,P]}else b=!1,C=g.pixelsToGLUnits;return{u_camera_to_center_distance:g.cameraToCenterDistance,u_scale_with_map:+(m.paint.get("circle-pitch-scale")==="map"),u_matrix:x.translatePosMatrix(a.posMatrix,d,m.paint.get("circle-translate"),m.paint.get("circle-translate-anchor")),u_pitch_with_map:+b,u_device_pixel_ratio:x.pixelRatio,u_extrude_scale:C}},Hc=(x,a,d)=>({u_matrix:x,u_inv_matrix:a,u_camera_to_center_distance:d.cameraToCenterDistance,u_viewport_size:[d.width,d.height]}),_h=(x,a,d=1)=>({u_matrix:x,u_color:a,u_overlay:0,u_overlay_scale:d}),sa=x=>({u_matrix:x}),la=(x,a,d,m)=>({u_matrix:x,u_extrude_scale:Zr(a,1,d),u_intensity:m}),Ig=(x,a,d,m)=>{let g=o.H();o.aP(g,0,x.width,x.height,0,0,1);let b=x.context.gl;return{u_matrix:g,u_world:[b.drawingBufferWidth,b.drawingBufferHeight],u_image:d,u_color_ramp:m,u_opacity:a.paint.get("heatmap-opacity")}};function Eg(x,a){let d=Math.pow(2,a.canonical.z),m=a.canonical.y;return[new o.Z(0,m/d).toLngLat().lat,new o.Z(0,(m+1)/d).toLngLat().lat]}let Tg=(x,a,d,m)=>{let g=x.transform;return{u_matrix:aI(x,a,d,m),u_ratio:1/Zr(a,1,g.zoom),u_device_pixel_ratio:x.pixelRatio,u_units_to_pixels:[1/g.pixelsToGLUnits[0],1/g.pixelsToGLUnits[1]]}},iI=(x,a,d,m,g)=>o.e(Tg(x,a,d,g),{u_image:0,u_image_height:m}),pp=(x,a,d,m,g)=>{let b=x.transform,C=oI(a,b);return{u_matrix:aI(x,a,d,g),u_texsize:a.imageAtlasTexture.size,u_ratio:1/Zr(a,1,b.zoom),u_device_pixel_ratio:x.pixelRatio,u_image:0,u_scale:[C,m.fromScale,m.toScale],u_fade:m.t,u_units_to_pixels:[1/b.pixelsToGLUnits[0],1/b.pixelsToGLUnits[1]]}},JD=(x,a,d,m,g,b)=>{let C=x.lineAtlas,P=oI(a,x.transform),O=d.layout.get("line-cap")==="round",z=C.getDash(m.from,O),U=C.getDash(m.to,O),V=z.width*g.fromScale,K=U.width*g.toScale;return o.e(Tg(x,a,d,b),{u_patternscale_a:[P/V,-z.height/2],u_patternscale_b:[P/K,-U.height/2],u_sdfgamma:C.width/(256*Math.min(V,K)*x.pixelRatio)/2,u_image:0,u_tex_y_a:z.y,u_tex_y_b:U.y,u_mix:g.t})};function oI(x,a){return 1/Zr(x,1,a.tileZoom)}function aI(x,a,d,m){return x.translatePosMatrix(m?m.posMatrix:a.tileID.posMatrix,a,d.paint.get("line-translate"),d.paint.get("line-translate-anchor"))}let eN=(x,a,d,m,g)=>{return{u_matrix:x,u_tl_parent:a,u_scale_parent:d,u_buffer_scale:1,u_fade_t:m.mix,u_opacity:m.opacity*g.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:g.paint.get("raster-brightness-min"),u_brightness_high:g.paint.get("raster-brightness-max"),u_saturation_factor:(C=g.paint.get("raster-saturation"),C>0?1-1/(1.001-C):-C),u_contrast_factor:(b=g.paint.get("raster-contrast"),b>0?1/(1-b):1+b),u_spin_weights:tN(g.paint.get("raster-hue-rotate"))};var b,C};function tN(x){x*=Math.PI/180;let a=Math.sin(x),d=Math.cos(x);return[(2*d+1)/3,(-Math.sqrt(3)*a-d+1)/3,(Math.sqrt(3)*a-d+1)/3]}let sI=(x,a,d,m,g,b,C,P,O,z,U,V,K,te)=>{let oe=C.transform;return{u_is_size_zoom_constant:+(x==="constant"||x==="source"),u_is_size_feature_constant:+(x==="constant"||x==="camera"),u_size_t:a?a.uSizeT:0,u_size:a?a.uSize:0,u_camera_to_center_distance:oe.cameraToCenterDistance,u_pitch:oe.pitch/360*2*Math.PI,u_rotate_symbol:+d,u_aspect_ratio:oe.width/oe.height,u_fade_change:C.options.fadeDuration?C.symbolFadeChange:1,u_matrix:P,u_label_plane_matrix:O,u_coord_matrix:z,u_is_text:+V,u_pitch_with_map:+m,u_is_along_line:g,u_is_variable_anchor:b,u_texsize:K,u_texture:0,u_translation:U,u_pitched_scale:te}},bh=(x,a,d,m,g,b,C,P,O,z,U,V,K,te,oe)=>{let ce=C.transform;return o.e(sI(x,a,d,m,g,b,C,P,O,z,U,V,K,oe),{u_gamma_scale:m?Math.cos(ce._pitch)*ce.cameraToCenterDistance:1,u_device_pixel_ratio:C.pixelRatio,u_is_halo:+te})},P1=(x,a,d,m,g,b,C,P,O,z,U,V,K,te)=>o.e(bh(x,a,d,m,g,b,C,P,O,z,U,!0,V,!0,te),{u_texsize_icon:K,u_texture_icon:1}),Mg=(x,a,d)=>({u_matrix:x,u_opacity:a,u_color:d}),O1=(x,a,d,m,g,b)=>o.e(function(C,P,O,z){let U=O.imageManager.getPattern(C.from.toString()),V=O.imageManager.getPattern(C.to.toString()),{width:K,height:te}=O.imageManager.getPixelSize(),oe=Math.pow(2,z.tileID.overscaledZ),ce=z.tileSize*Math.pow(2,O.transform.tileZoom)/oe,pe=ce*(z.tileID.canonical.x+z.tileID.wrap*oe),me=ce*z.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:U.tl,u_pattern_br_a:U.br,u_pattern_tl_b:V.tl,u_pattern_br_b:V.br,u_texsize:[K,te],u_mix:P.t,u_pattern_size_a:U.displaySize,u_pattern_size_b:V.displaySize,u_scale_a:P.fromScale,u_scale_b:P.toScale,u_tile_units_to_pixels:1/Zr(z,1,O.transform.tileZoom),u_pixel_coord_upper:[pe>>16,me>>16],u_pixel_coord_lower:[65535&pe,65535&me]}}(m,b,d,g),{u_matrix:x,u_opacity:a}),D1={fillExtrusion:(x,a)=>({u_matrix:new o.aJ(x,a.u_matrix),u_lightpos:new o.aN(x,a.u_lightpos),u_lightintensity:new o.aI(x,a.u_lightintensity),u_lightcolor:new o.aN(x,a.u_lightcolor),u_vertical_gradient:new o.aI(x,a.u_vertical_gradient),u_opacity:new o.aI(x,a.u_opacity)}),fillExtrusionPattern:(x,a)=>({u_matrix:new o.aJ(x,a.u_matrix),u_lightpos:new o.aN(x,a.u_lightpos),u_lightintensity:new o.aI(x,a.u_lightintensity),u_lightcolor:new o.aN(x,a.u_lightcolor),u_vertical_gradient:new o.aI(x,a.u_vertical_gradient),u_height_factor:new o.aI(x,a.u_height_factor),u_image:new o.aH(x,a.u_image),u_texsize:new o.aO(x,a.u_texsize),u_pixel_coord_upper:new o.aO(x,a.u_pixel_coord_upper),u_pixel_coord_lower:new o.aO(x,a.u_pixel_coord_lower),u_scale:new o.aN(x,a.u_scale),u_fade:new o.aI(x,a.u_fade),u_opacity:new o.aI(x,a.u_opacity)}),fill:(x,a)=>({u_matrix:new o.aJ(x,a.u_matrix)}),fillPattern:(x,a)=>({u_matrix:new o.aJ(x,a.u_matrix),u_image:new o.aH(x,a.u_image),u_texsize:new o.aO(x,a.u_texsize),u_pixel_coord_upper:new o.aO(x,a.u_pixel_coord_upper),u_pixel_coord_lower:new o.aO(x,a.u_pixel_coord_lower),u_scale:new o.aN(x,a.u_scale),u_fade:new o.aI(x,a.u_fade)}),fillOutline:(x,a)=>({u_matrix:new o.aJ(x,a.u_matrix),u_world:new o.aO(x,a.u_world)}),fillOutlinePattern:(x,a)=>({u_matrix:new o.aJ(x,a.u_matrix),u_world:new o.aO(x,a.u_world),u_image:new o.aH(x,a.u_image),u_texsize:new o.aO(x,a.u_texsize),u_pixel_coord_upper:new o.aO(x,a.u_pixel_coord_upper),u_pixel_coord_lower:new o.aO(x,a.u_pixel_coord_lower),u_scale:new o.aN(x,a.u_scale),u_fade:new o.aI(x,a.u_fade)}),circle:(x,a)=>({u_camera_to_center_distance:new o.aI(x,a.u_camera_to_center_distance),u_scale_with_map:new o.aH(x,a.u_scale_with_map),u_pitch_with_map:new o.aH(x,a.u_pitch_with_map),u_extrude_scale:new o.aO(x,a.u_extrude_scale),u_device_pixel_ratio:new o.aI(x,a.u_device_pixel_ratio),u_matrix:new o.aJ(x,a.u_matrix)}),collisionBox:(x,a)=>({u_matrix:new o.aJ(x,a.u_matrix),u_pixel_extrude_scale:new o.aO(x,a.u_pixel_extrude_scale)}),collisionCircle:(x,a)=>({u_matrix:new o.aJ(x,a.u_matrix),u_inv_matrix:new o.aJ(x,a.u_inv_matrix),u_camera_to_center_distance:new o.aI(x,a.u_camera_to_center_distance),u_viewport_size:new o.aO(x,a.u_viewport_size)}),debug:(x,a)=>({u_color:new o.aL(x,a.u_color),u_matrix:new o.aJ(x,a.u_matrix),u_overlay:new o.aH(x,a.u_overlay),u_overlay_scale:new o.aI(x,a.u_overlay_scale)}),clippingMask:(x,a)=>({u_matrix:new o.aJ(x,a.u_matrix)}),heatmap:(x,a)=>({u_extrude_scale:new o.aI(x,a.u_extrude_scale),u_intensity:new o.aI(x,a.u_intensity),u_matrix:new o.aJ(x,a.u_matrix)}),heatmapTexture:(x,a)=>({u_matrix:new o.aJ(x,a.u_matrix),u_world:new o.aO(x,a.u_world),u_image:new o.aH(x,a.u_image),u_color_ramp:new o.aH(x,a.u_color_ramp),u_opacity:new o.aI(x,a.u_opacity)}),hillshade:(x,a)=>({u_matrix:new o.aJ(x,a.u_matrix),u_image:new o.aH(x,a.u_image),u_latrange:new o.aO(x,a.u_latrange),u_light:new o.aO(x,a.u_light),u_shadow:new o.aL(x,a.u_shadow),u_highlight:new o.aL(x,a.u_highlight),u_accent:new o.aL(x,a.u_accent)}),hillshadePrepare:(x,a)=>({u_matrix:new o.aJ(x,a.u_matrix),u_image:new o.aH(x,a.u_image),u_dimension:new o.aO(x,a.u_dimension),u_zoom:new o.aI(x,a.u_zoom),u_unpack:new o.aK(x,a.u_unpack)}),line:(x,a)=>({u_matrix:new o.aJ(x,a.u_matrix),u_ratio:new o.aI(x,a.u_ratio),u_device_pixel_ratio:new o.aI(x,a.u_device_pixel_ratio),u_units_to_pixels:new o.aO(x,a.u_units_to_pixels)}),lineGradient:(x,a)=>({u_matrix:new o.aJ(x,a.u_matrix),u_ratio:new o.aI(x,a.u_ratio),u_device_pixel_ratio:new o.aI(x,a.u_device_pixel_ratio),u_units_to_pixels:new o.aO(x,a.u_units_to_pixels),u_image:new o.aH(x,a.u_image),u_image_height:new o.aI(x,a.u_image_height)}),linePattern:(x,a)=>({u_matrix:new o.aJ(x,a.u_matrix),u_texsize:new o.aO(x,a.u_texsize),u_ratio:new o.aI(x,a.u_ratio),u_device_pixel_ratio:new o.aI(x,a.u_device_pixel_ratio),u_image:new o.aH(x,a.u_image),u_units_to_pixels:new o.aO(x,a.u_units_to_pixels),u_scale:new o.aN(x,a.u_scale),u_fade:new o.aI(x,a.u_fade)}),lineSDF:(x,a)=>({u_matrix:new o.aJ(x,a.u_matrix),u_ratio:new o.aI(x,a.u_ratio),u_device_pixel_ratio:new o.aI(x,a.u_device_pixel_ratio),u_units_to_pixels:new o.aO(x,a.u_units_to_pixels),u_patternscale_a:new o.aO(x,a.u_patternscale_a),u_patternscale_b:new o.aO(x,a.u_patternscale_b),u_sdfgamma:new o.aI(x,a.u_sdfgamma),u_image:new o.aH(x,a.u_image),u_tex_y_a:new o.aI(x,a.u_tex_y_a),u_tex_y_b:new o.aI(x,a.u_tex_y_b),u_mix:new o.aI(x,a.u_mix)}),raster:(x,a)=>({u_matrix:new o.aJ(x,a.u_matrix),u_tl_parent:new o.aO(x,a.u_tl_parent),u_scale_parent:new o.aI(x,a.u_scale_parent),u_buffer_scale:new o.aI(x,a.u_buffer_scale),u_fade_t:new o.aI(x,a.u_fade_t),u_opacity:new o.aI(x,a.u_opacity),u_image0:new o.aH(x,a.u_image0),u_image1:new o.aH(x,a.u_image1),u_brightness_low:new o.aI(x,a.u_brightness_low),u_brightness_high:new o.aI(x,a.u_brightness_high),u_saturation_factor:new o.aI(x,a.u_saturation_factor),u_contrast_factor:new o.aI(x,a.u_contrast_factor),u_spin_weights:new o.aN(x,a.u_spin_weights)}),symbolIcon:(x,a)=>({u_is_size_zoom_constant:new o.aH(x,a.u_is_size_zoom_constant),u_is_size_feature_constant:new o.aH(x,a.u_is_size_feature_constant),u_size_t:new o.aI(x,a.u_size_t),u_size:new o.aI(x,a.u_size),u_camera_to_center_distance:new o.aI(x,a.u_camera_to_center_distance),u_pitch:new o.aI(x,a.u_pitch),u_rotate_symbol:new o.aH(x,a.u_rotate_symbol),u_aspect_ratio:new o.aI(x,a.u_aspect_ratio),u_fade_change:new o.aI(x,a.u_fade_change),u_matrix:new o.aJ(x,a.u_matrix),u_label_plane_matrix:new o.aJ(x,a.u_label_plane_matrix),u_coord_matrix:new o.aJ(x,a.u_coord_matrix),u_is_text:new o.aH(x,a.u_is_text),u_pitch_with_map:new o.aH(x,a.u_pitch_with_map),u_is_along_line:new o.aH(x,a.u_is_along_line),u_is_variable_anchor:new o.aH(x,a.u_is_variable_anchor),u_texsize:new o.aO(x,a.u_texsize),u_texture:new o.aH(x,a.u_texture),u_translation:new o.aO(x,a.u_translation),u_pitched_scale:new o.aI(x,a.u_pitched_scale)}),symbolSDF:(x,a)=>({u_is_size_zoom_constant:new o.aH(x,a.u_is_size_zoom_constant),u_is_size_feature_constant:new o.aH(x,a.u_is_size_feature_constant),u_size_t:new o.aI(x,a.u_size_t),u_size:new o.aI(x,a.u_size),u_camera_to_center_distance:new o.aI(x,a.u_camera_to_center_distance),u_pitch:new o.aI(x,a.u_pitch),u_rotate_symbol:new o.aH(x,a.u_rotate_symbol),u_aspect_ratio:new o.aI(x,a.u_aspect_ratio),u_fade_change:new o.aI(x,a.u_fade_change),u_matrix:new o.aJ(x,a.u_matrix),u_label_plane_matrix:new o.aJ(x,a.u_label_plane_matrix),u_coord_matrix:new o.aJ(x,a.u_coord_matrix),u_is_text:new o.aH(x,a.u_is_text),u_pitch_with_map:new o.aH(x,a.u_pitch_with_map),u_is_along_line:new o.aH(x,a.u_is_along_line),u_is_variable_anchor:new o.aH(x,a.u_is_variable_anchor),u_texsize:new o.aO(x,a.u_texsize),u_texture:new o.aH(x,a.u_texture),u_gamma_scale:new o.aI(x,a.u_gamma_scale),u_device_pixel_ratio:new o.aI(x,a.u_device_pixel_ratio),u_is_halo:new o.aH(x,a.u_is_halo),u_translation:new o.aO(x,a.u_translation),u_pitched_scale:new o.aI(x,a.u_pitched_scale)}),symbolTextAndIcon:(x,a)=>({u_is_size_zoom_constant:new o.aH(x,a.u_is_size_zoom_constant),u_is_size_feature_constant:new o.aH(x,a.u_is_size_feature_constant),u_size_t:new o.aI(x,a.u_size_t),u_size:new o.aI(x,a.u_size),u_camera_to_center_distance:new o.aI(x,a.u_camera_to_center_distance),u_pitch:new o.aI(x,a.u_pitch),u_rotate_symbol:new o.aH(x,a.u_rotate_symbol),u_aspect_ratio:new o.aI(x,a.u_aspect_ratio),u_fade_change:new o.aI(x,a.u_fade_change),u_matrix:new o.aJ(x,a.u_matrix),u_label_plane_matrix:new o.aJ(x,a.u_label_plane_matrix),u_coord_matrix:new o.aJ(x,a.u_coord_matrix),u_is_text:new o.aH(x,a.u_is_text),u_pitch_with_map:new o.aH(x,a.u_pitch_with_map),u_is_along_line:new o.aH(x,a.u_is_along_line),u_is_variable_anchor:new o.aH(x,a.u_is_variable_anchor),u_texsize:new o.aO(x,a.u_texsize),u_texsize_icon:new o.aO(x,a.u_texsize_icon),u_texture:new o.aH(x,a.u_texture),u_texture_icon:new o.aH(x,a.u_texture_icon),u_gamma_scale:new o.aI(x,a.u_gamma_scale),u_device_pixel_ratio:new o.aI(x,a.u_device_pixel_ratio),u_is_halo:new o.aH(x,a.u_is_halo),u_translation:new o.aO(x,a.u_translation),u_pitched_scale:new o.aI(x,a.u_pitched_scale)}),background:(x,a)=>({u_matrix:new o.aJ(x,a.u_matrix),u_opacity:new o.aI(x,a.u_opacity),u_color:new o.aL(x,a.u_color)}),backgroundPattern:(x,a)=>({u_matrix:new o.aJ(x,a.u_matrix),u_opacity:new o.aI(x,a.u_opacity),u_image:new o.aH(x,a.u_image),u_pattern_tl_a:new o.aO(x,a.u_pattern_tl_a),u_pattern_br_a:new o.aO(x,a.u_pattern_br_a),u_pattern_tl_b:new o.aO(x,a.u_pattern_tl_b),u_pattern_br_b:new o.aO(x,a.u_pattern_br_b),u_texsize:new o.aO(x,a.u_texsize),u_mix:new o.aI(x,a.u_mix),u_pattern_size_a:new o.aO(x,a.u_pattern_size_a),u_pattern_size_b:new o.aO(x,a.u_pattern_size_b),u_scale_a:new o.aI(x,a.u_scale_a),u_scale_b:new o.aI(x,a.u_scale_b),u_pixel_coord_upper:new o.aO(x,a.u_pixel_coord_upper),u_pixel_coord_lower:new o.aO(x,a.u_pixel_coord_lower),u_tile_units_to_pixels:new o.aI(x,a.u_tile_units_to_pixels)}),terrain:(x,a)=>({u_matrix:new o.aJ(x,a.u_matrix),u_texture:new o.aH(x,a.u_texture),u_ele_delta:new o.aI(x,a.u_ele_delta),u_fog_matrix:new o.aJ(x,a.u_fog_matrix),u_fog_color:new o.aL(x,a.u_fog_color),u_fog_ground_blend:new o.aI(x,a.u_fog_ground_blend),u_fog_ground_blend_opacity:new o.aI(x,a.u_fog_ground_blend_opacity),u_horizon_color:new o.aL(x,a.u_horizon_color),u_horizon_fog_blend:new o.aI(x,a.u_horizon_fog_blend)}),terrainDepth:(x,a)=>({u_matrix:new o.aJ(x,a.u_matrix),u_ele_delta:new o.aI(x,a.u_ele_delta)}),terrainCoords:(x,a)=>({u_matrix:new o.aJ(x,a.u_matrix),u_texture:new o.aH(x,a.u_texture),u_terrain_coords_id:new o.aI(x,a.u_terrain_coords_id),u_ele_delta:new o.aI(x,a.u_ele_delta)}),sky:(x,a)=>({u_sky_color:new o.aL(x,a.u_sky_color),u_horizon_color:new o.aL(x,a.u_horizon_color),u_horizon:new o.aI(x,a.u_horizon),u_sky_horizon_blend:new o.aI(x,a.u_sky_horizon_blend)})};class vl{constructor(a,d,m){this.context=a;let g=a.gl;this.buffer=g.createBuffer(),this.dynamicDraw=!!m,this.context.unbindVAO(),a.bindElementBuffer.set(this.buffer),g.bufferData(g.ELEMENT_ARRAY_BUFFER,d.arrayBuffer,this.dynamicDraw?g.DYNAMIC_DRAW:g.STATIC_DRAW),this.dynamicDraw||delete d.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(a){let d=this.context.gl;if(!this.dynamicDraw)throw new Error("Attempted to update data while not in dynamic mode.");this.context.unbindVAO(),this.bind(),d.bufferSubData(d.ELEMENT_ARRAY_BUFFER,0,a.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}let rN={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class N1{constructor(a,d,m,g){this.length=d.length,this.attributes=m,this.itemSize=d.bytesPerElement,this.dynamicDraw=g,this.context=a;let b=a.gl;this.buffer=b.createBuffer(),a.bindVertexBuffer.set(this.buffer),b.bufferData(b.ARRAY_BUFFER,d.arrayBuffer,this.dynamicDraw?b.DYNAMIC_DRAW:b.STATIC_DRAW),this.dynamicDraw||delete d.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(a){if(a.length!==this.length)throw new Error(`Length of new data is ${a.length}, which doesn't match current length of ${this.length}`);let d=this.context.gl;this.bind(),d.bufferSubData(d.ARRAY_BUFFER,0,a.arrayBuffer)}enableAttributes(a,d){for(let m=0;m<this.attributes.length;m++){let g=d.attributes[this.attributes[m].name];g!==void 0&&a.enableVertexAttribArray(g)}}setVertexAttribPointers(a,d,m){for(let g=0;g<this.attributes.length;g++){let b=this.attributes[g],C=d.attributes[b.name];C!==void 0&&a.vertexAttribPointer(C,b.components,a[rN[b.type]],!1,this.itemSize,b.offset+this.itemSize*(m||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}let Wc=new WeakMap;function Bu(x){var a;if(Wc.has(x))return Wc.get(x);{let d=(a=x.getParameter(x.VERSION))===null||a===void 0?void 0:a.startsWith("WebGL 2.0");return Wc.set(x,d),d}}class vn{constructor(a){this.gl=a.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(a){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class Cg extends vn{getDefault(){return o.aM.transparent}set(a){let d=this.current;(a.r!==d.r||a.g!==d.g||a.b!==d.b||a.a!==d.a||this.dirty)&&(this.gl.clearColor(a.r,a.g,a.b,a.a),this.current=a,this.dirty=!1)}}class nN extends vn{getDefault(){return 1}set(a){(a!==this.current||this.dirty)&&(this.gl.clearDepth(a),this.current=a,this.dirty=!1)}}class fp extends vn{getDefault(){return 0}set(a){(a!==this.current||this.dirty)&&(this.gl.clearStencil(a),this.current=a,this.dirty=!1)}}class iN extends vn{getDefault(){return[!0,!0,!0,!0]}set(a){let d=this.current;(a[0]!==d[0]||a[1]!==d[1]||a[2]!==d[2]||a[3]!==d[3]||this.dirty)&&(this.gl.colorMask(a[0],a[1],a[2],a[3]),this.current=a,this.dirty=!1)}}class lI extends vn{getDefault(){return!0}set(a){(a!==this.current||this.dirty)&&(this.gl.depthMask(a),this.current=a,this.dirty=!1)}}class oN extends vn{getDefault(){return 255}set(a){(a!==this.current||this.dirty)&&(this.gl.stencilMask(a),this.current=a,this.dirty=!1)}}class uI extends vn{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(a){let d=this.current;(a.func!==d.func||a.ref!==d.ref||a.mask!==d.mask||this.dirty)&&(this.gl.stencilFunc(a.func,a.ref,a.mask),this.current=a,this.dirty=!1)}}class k1 extends vn{getDefault(){let a=this.gl;return[a.KEEP,a.KEEP,a.KEEP]}set(a){let d=this.current;(a[0]!==d[0]||a[1]!==d[1]||a[2]!==d[2]||this.dirty)&&(this.gl.stencilOp(a[0],a[1],a[2]),this.current=a,this.dirty=!1)}}class cI extends vn{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;let d=this.gl;a?d.enable(d.STENCIL_TEST):d.disable(d.STENCIL_TEST),this.current=a,this.dirty=!1}}class dI extends vn{getDefault(){return[0,1]}set(a){let d=this.current;(a[0]!==d[0]||a[1]!==d[1]||this.dirty)&&(this.gl.depthRange(a[0],a[1]),this.current=a,this.dirty=!1)}}class pI extends vn{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;let d=this.gl;a?d.enable(d.DEPTH_TEST):d.disable(d.DEPTH_TEST),this.current=a,this.dirty=!1}}class fI extends vn{getDefault(){return this.gl.LESS}set(a){(a!==this.current||this.dirty)&&(this.gl.depthFunc(a),this.current=a,this.dirty=!1)}}class Gc extends vn{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;let d=this.gl;a?d.enable(d.BLEND):d.disable(d.BLEND),this.current=a,this.dirty=!1}}class hI extends vn{getDefault(){let a=this.gl;return[a.ONE,a.ZERO]}set(a){let d=this.current;(a[0]!==d[0]||a[1]!==d[1]||this.dirty)&&(this.gl.blendFunc(a[0],a[1]),this.current=a,this.dirty=!1)}}class aN extends vn{getDefault(){return o.aM.transparent}set(a){let d=this.current;(a.r!==d.r||a.g!==d.g||a.b!==d.b||a.a!==d.a||this.dirty)&&(this.gl.blendColor(a.r,a.g,a.b,a.a),this.current=a,this.dirty=!1)}}class mI extends vn{getDefault(){return this.gl.FUNC_ADD}set(a){(a!==this.current||this.dirty)&&(this.gl.blendEquation(a),this.current=a,this.dirty=!1)}}class xh extends vn{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;let d=this.gl;a?d.enable(d.CULL_FACE):d.disable(d.CULL_FACE),this.current=a,this.dirty=!1}}class sN extends vn{getDefault(){return this.gl.BACK}set(a){(a!==this.current||this.dirty)&&(this.gl.cullFace(a),this.current=a,this.dirty=!1)}}class Ag extends vn{getDefault(){return this.gl.CCW}set(a){(a!==this.current||this.dirty)&&(this.gl.frontFace(a),this.current=a,this.dirty=!1)}}class lN extends vn{getDefault(){return null}set(a){(a!==this.current||this.dirty)&&(this.gl.useProgram(a),this.current=a,this.dirty=!1)}}class uN extends vn{getDefault(){return this.gl.TEXTURE0}set(a){(a!==this.current||this.dirty)&&(this.gl.activeTexture(a),this.current=a,this.dirty=!1)}}class gI extends vn{getDefault(){let a=this.gl;return[0,0,a.drawingBufferWidth,a.drawingBufferHeight]}set(a){let d=this.current;(a[0]!==d[0]||a[1]!==d[1]||a[2]!==d[2]||a[3]!==d[3]||this.dirty)&&(this.gl.viewport(a[0],a[1],a[2],a[3]),this.current=a,this.dirty=!1)}}class vI extends vn{getDefault(){return null}set(a){if(a===this.current&&!this.dirty)return;let d=this.gl;d.bindFramebuffer(d.FRAMEBUFFER,a),this.current=a,this.dirty=!1}}class yI extends vn{getDefault(){return null}set(a){if(a===this.current&&!this.dirty)return;let d=this.gl;d.bindRenderbuffer(d.RENDERBUFFER,a),this.current=a,this.dirty=!1}}class L1 extends vn{getDefault(){return null}set(a){if(a===this.current&&!this.dirty)return;let d=this.gl;d.bindTexture(d.TEXTURE_2D,a),this.current=a,this.dirty=!1}}class _I extends vn{getDefault(){return null}set(a){if(a===this.current&&!this.dirty)return;let d=this.gl;d.bindBuffer(d.ARRAY_BUFFER,a),this.current=a,this.dirty=!1}}class Pg extends vn{getDefault(){return null}set(a){let d=this.gl;d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,a),this.current=a,this.dirty=!1}}class au extends vn{getDefault(){return null}set(a){var d;if(a===this.current&&!this.dirty)return;let m=this.gl;Bu(m)?m.bindVertexArray(a):(d=m.getExtension("OES_vertex_array_object"))===null||d===void 0||d.bindVertexArrayOES(a),this.current=a,this.dirty=!1}}class q1 extends vn{getDefault(){return 4}set(a){if(a===this.current&&!this.dirty)return;let d=this.gl;d.pixelStorei(d.UNPACK_ALIGNMENT,a),this.current=a,this.dirty=!1}}class R1 extends vn{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;let d=this.gl;d.pixelStorei(d.UNPACK_PREMULTIPLY_ALPHA_WEBGL,a),this.current=a,this.dirty=!1}}class z1 extends vn{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;let d=this.gl;d.pixelStorei(d.UNPACK_FLIP_Y_WEBGL,a),this.current=a,this.dirty=!1}}class Og extends vn{constructor(a,d){super(a),this.context=a,this.parent=d}getDefault(){return null}}class j1 extends Og{setDirty(){this.dirty=!0}set(a){if(a===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);let d=this.gl;d.framebufferTexture2D(d.FRAMEBUFFER,d.COLOR_ATTACHMENT0,d.TEXTURE_2D,a,0),this.current=a,this.dirty=!1}}class Yc extends Og{set(a){if(a===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);let d=this.gl;d.framebufferRenderbuffer(d.FRAMEBUFFER,d.DEPTH_ATTACHMENT,d.RENDERBUFFER,a),this.current=a,this.dirty=!1}}class F1 extends Og{set(a){if(a===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);let d=this.gl;d.framebufferRenderbuffer(d.FRAMEBUFFER,d.DEPTH_STENCIL_ATTACHMENT,d.RENDERBUFFER,a),this.current=a,this.dirty=!1}}class cN{constructor(a,d,m,g,b){this.context=a,this.width=d,this.height=m;let C=a.gl,P=this.framebuffer=C.createFramebuffer();if(this.colorAttachment=new j1(a,P),g)this.depthAttachment=b?new F1(a,P):new Yc(a,P);else if(b)throw new Error("Stencil cannot be set without depth");if(C.checkFramebufferStatus(C.FRAMEBUFFER)!==C.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer is not complete")}destroy(){let a=this.context.gl,d=this.colorAttachment.get();if(d&&a.deleteTexture(d),this.depthAttachment){let m=this.depthAttachment.get();m&&a.deleteRenderbuffer(m)}a.deleteFramebuffer(this.framebuffer)}}class xi{constructor(a,d,m){this.blendFunction=a,this.blendColor=d,this.mask=m}}xi.Replace=[1,0],xi.disabled=new xi(xi.Replace,o.aM.transparent,[!1,!1,!1,!1]),xi.unblended=new xi(xi.Replace,o.aM.transparent,[!0,!0,!0,!0]),xi.alphaBlended=new xi([1,771],o.aM.transparent,[!0,!0,!0,!0]);class dN{constructor(a){var d,m;if(this.gl=a,this.clearColor=new Cg(this),this.clearDepth=new nN(this),this.clearStencil=new fp(this),this.colorMask=new iN(this),this.depthMask=new lI(this),this.stencilMask=new oN(this),this.stencilFunc=new uI(this),this.stencilOp=new k1(this),this.stencilTest=new cI(this),this.depthRange=new dI(this),this.depthTest=new pI(this),this.depthFunc=new fI(this),this.blend=new Gc(this),this.blendFunc=new hI(this),this.blendColor=new aN(this),this.blendEquation=new mI(this),this.cullFace=new xh(this),this.cullFaceSide=new sN(this),this.frontFace=new Ag(this),this.program=new lN(this),this.activeTexture=new uN(this),this.viewport=new gI(this),this.bindFramebuffer=new vI(this),this.bindRenderbuffer=new yI(this),this.bindTexture=new L1(this),this.bindVertexBuffer=new _I(this),this.bindElementBuffer=new Pg(this),this.bindVertexArray=new au(this),this.pixelStoreUnpack=new q1(this),this.pixelStoreUnpackPremultiplyAlpha=new R1(this),this.pixelStoreUnpackFlipY=new z1(this),this.extTextureFilterAnisotropic=a.getExtension("EXT_texture_filter_anisotropic")||a.getExtension("MOZ_EXT_texture_filter_anisotropic")||a.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=a.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.maxTextureSize=a.getParameter(a.MAX_TEXTURE_SIZE),Bu(a)){this.HALF_FLOAT=a.HALF_FLOAT;let g=a.getExtension("EXT_color_buffer_half_float");this.RGBA16F=(d=a.RGBA16F)!==null&&d!==void 0?d:g==null?void 0:g.RGBA16F_EXT,this.RGB16F=(m=a.RGB16F)!==null&&m!==void 0?m:g==null?void 0:g.RGB16F_EXT,a.getExtension("EXT_color_buffer_float")}else{a.getExtension("EXT_color_buffer_half_float"),a.getExtension("OES_texture_half_float_linear");let g=a.getExtension("OES_texture_half_float");this.HALF_FLOAT=g==null?void 0:g.HALF_FLOAT_OES}}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.bindVertexArray.dirty=!0,this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(a,d){return new vl(this,a,d)}createVertexBuffer(a,d,m){return new N1(this,a,d,m)}createRenderbuffer(a,d,m){let g=this.gl,b=g.createRenderbuffer();return this.bindRenderbuffer.set(b),g.renderbufferStorage(g.RENDERBUFFER,a,d,m),this.bindRenderbuffer.set(null),b}createFramebuffer(a,d,m,g){return new cN(this,a,d,m,g)}clear({color:a,depth:d,stencil:m}){let g=this.gl,b=0;a&&(b|=g.COLOR_BUFFER_BIT,this.clearColor.set(a),this.colorMask.set([!0,!0,!0,!0])),d!==void 0&&(b|=g.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(d),this.depthMask.set(!0)),m!==void 0&&(b|=g.STENCIL_BUFFER_BIT,this.clearStencil.set(m),this.stencilMask.set(255)),g.clear(b)}setCullFace(a){a.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(a.mode),this.frontFace.set(a.frontFace))}setDepthMode(a){a.func!==this.gl.ALWAYS||a.mask?(this.depthTest.set(!0),this.depthFunc.set(a.func),this.depthMask.set(a.mask),this.depthRange.set(a.range)):this.depthTest.set(!1)}setStencilMode(a){a.test.func!==this.gl.ALWAYS||a.mask?(this.stencilTest.set(!0),this.stencilMask.set(a.mask),this.stencilOp.set([a.fail,a.depthFail,a.pass]),this.stencilFunc.set({func:a.test.func,ref:a.ref,mask:a.test.mask})):this.stencilTest.set(!1)}setColorMode(a){o.aE(a.blendFunction,xi.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(a.blendFunction),this.blendColor.set(a.blendColor)),this.colorMask.set(a.mask)}createVertexArray(){var a;return Bu(this.gl)?this.gl.createVertexArray():(a=this.gl.getExtension("OES_vertex_array_object"))===null||a===void 0?void 0:a.createVertexArrayOES()}deleteVertexArray(a){var d;return Bu(this.gl)?this.gl.deleteVertexArray(a):(d=this.gl.getExtension("OES_vertex_array_object"))===null||d===void 0?void 0:d.deleteVertexArrayOES(a)}unbindVAO(){this.bindVertexArray.set(null)}}class Br{constructor(a,d,m){this.func=a,this.mask=d,this.range=m}}Br.ReadOnly=!1,Br.ReadWrite=!0,Br.disabled=new Br(519,Br.ReadOnly,[0,1]);let Dg=7680;class Fn{constructor(a,d,m,g,b,C){this.test=a,this.ref=d,this.mask=m,this.fail=g,this.depthFail=b,this.pass=C}}Fn.disabled=new Fn({func:519,mask:0},0,0,Dg,Dg,Dg);class Dn{constructor(a,d,m){this.enable=a,this.mode=d,this.frontFace=m}}let Zc;function wh(x,a,d,m,g){let b=x.context,C=b.gl,P=x.useProgram("collisionBox"),O=[],z=0,U=0;for(let me=0;me<m.length;me++){let ye=m[me],se=a.getTile(ye).getBucket(d);if(!se)continue;let Ie=g?se.textCollisionBox:se.iconCollisionBox,Me=se.collisionCircleArray;if(Me.length>0){let Le=o.H();o.aQ(Le,se.placementInvProjMatrix,x.transform.glCoordMatrix),o.aQ(Le,Le,se.placementViewportMatrix),O.push({circleArray:Me,circleOffset:U,transform:ye.posMatrix,invTransform:Le,coord:ye}),z+=Me.length/4,U=z}Ie&&P.draw(b,C.LINES,Br.disabled,Fn.disabled,x.colorModeForRenderPass(),Dn.disabled,{u_matrix:ye.posMatrix,u_pixel_extrude_scale:[1/(V=x.transform).width,1/V.height]},x.style.map.terrain&&x.style.map.terrain.getTerrainData(ye),d.id,Ie.layoutVertexBuffer,Ie.indexBuffer,Ie.segments,null,x.transform.zoom,null,null,Ie.collisionVertexBuffer)}var V;if(!g||!O.length)return;let K=x.useProgram("collisionCircle"),te=new o.aR;te.resize(4*z),te._trim();let oe=0;for(let me of O)for(let ye=0;ye<me.circleArray.length/4;ye++){let se=4*ye,Ie=me.circleArray[se+0],Me=me.circleArray[se+1],Le=me.circleArray[se+2],rt=me.circleArray[se+3];te.emplace(oe++,Ie,Me,Le,rt,0),te.emplace(oe++,Ie,Me,Le,rt,1),te.emplace(oe++,Ie,Me,Le,rt,2),te.emplace(oe++,Ie,Me,Le,rt,3)}(!Zc||Zc.length<2*z)&&(Zc=function(me){let ye=2*me,se=new o.aT;se.resize(ye),se._trim();for(let Ie=0;Ie<ye;Ie++){let Me=6*Ie;se.uint16[Me+0]=4*Ie+0,se.uint16[Me+1]=4*Ie+1,se.uint16[Me+2]=4*Ie+2,se.uint16[Me+3]=4*Ie+2,se.uint16[Me+4]=4*Ie+3,se.uint16[Me+5]=4*Ie+0}return se}(z));let ce=b.createIndexBuffer(Zc,!0),pe=b.createVertexBuffer(te,o.aS.members,!0);for(let me of O){let ye=Hc(me.transform,me.invTransform,x.transform);K.draw(b,C.TRIANGLES,Br.disabled,Fn.disabled,x.colorModeForRenderPass(),Dn.disabled,ye,x.style.map.terrain&&x.style.map.terrain.getTerrainData(me.coord),d.id,pe,ce,o.a0.simpleSegment(0,2*me.circleOffset,me.circleArray.length,me.circleArray.length/2),null,x.transform.zoom,null,null,null)}pe.destroy(),ce.destroy()}Dn.disabled=new Dn(!1,1029,2305),Dn.backCCW=new Dn(!0,1029,2305);let Sh=o.an(new Float32Array(16));function B1(x,a,d,m,g,b){let{horizontalAlign:C,verticalAlign:P}=o.au(x);return new o.P((-(C-.5)*a/g+m[0])*b,(-(P-.5)*d/g+m[1])*b)}function Kc(x,a,d,m,g,b){let C=a.tileAnchorPoint.add(new o.P(a.translation[0],a.translation[1]));if(a.pitchWithMap){let P=m.mult(b);d||(P=P.rotate(-g));let O=C.add(P);return ne(O.x,O.y,a.labelPlaneMatrix,a.getElevation).point}if(d){let P=Ve(a.tileAnchorPoint.x+1,a.tileAnchorPoint.y,a).point.sub(x),O=Math.atan(P.y/P.x)+(P.x<0?Math.PI:0);return x.add(m.rotate(O))}return x.add(m)}function hp(x,a,d,m,g,b,C,P,O,z,U,V,K,te){let oe=x.text.placedSymbolArray,ce=x.text.dynamicLayoutVertexArray,pe=x.icon.dynamicLayoutVertexArray,me={};ce.clear();for(let ye=0;ye<oe.length;ye++){let se=oe.get(ye),Ie=se.hidden||!se.crossTileID||x.allowVerticalPlacement&&!se.placedOrientation?null:m[se.crossTileID];if(Ie){let Me=new o.P(se.anchorX,se.anchorY),Le={getElevation:te,width:g.width,height:g.height,labelPlaneMatrix:b,lineVertexArray:null,pitchWithMap:d,projection:U,projectionCache:null,tileAnchorPoint:Me,translation:V,unwrappedTileID:K},rt=d?ne(Me.x,Me.y,C,te):Ve(Me.x,Me.y,Le),pt=H(g.cameraToCenterDistance,rt.signedDistanceFromCamera),At=o.ai(x.textSizeData,O,se)*pt/o.ap;d&&(At*=x.tilePixelRatio/P);let{width:Bt,height:St,anchor:xt,textOffset:Xt,textBoxScale:br}=Ie,It=B1(xt,Bt,St,Xt,br,At),qt=U.getPitchedTextCorrection(g,Me.add(new o.P(V[0],V[1])),K),yr=Kc(rt.point,Le,a,It,g.angle,qt),Xn=x.allowVerticalPlacement&&se.placedOrientation===o.ah.vertical?Math.PI/2:0;for(let Dr=0;Dr<se.numGlyphs;Dr++)o.aj(ce,yr,Xn);z&&se.associatedIconIndex>=0&&(me[se.associatedIconIndex]={shiftedAnchor:yr,angle:Xn})}else lr(se.numGlyphs,ce)}if(z){pe.clear();let ye=x.icon.placedSymbolArray;for(let se=0;se<ye.length;se++){let Ie=ye.get(se);if(Ie.hidden)lr(Ie.numGlyphs,pe);else{let Me=me[se];if(Me)for(let Le=0;Le<Ie.numGlyphs;Le++)o.aj(pe,Me.shiftedAnchor,Me.angle);else lr(Ie.numGlyphs,pe)}}x.icon.dynamicLayoutVertexBuffer.updateData(pe)}x.text.dynamicLayoutVertexBuffer.updateData(ce)}function as(x,a,d){return d.iconsInText&&a?"symbolTextAndIcon":x?"symbolSDF":"symbolIcon"}function U1(x,a,d,m,g,b,C,P,O,z,U,V){let K=x.context,te=K.gl,oe=x.transform,ce=Vc(),pe=P==="map",me=O==="map",ye=P!=="viewport"&&d.layout.get("symbol-placement")!=="point",se=pe&&!me&&!ye,Ie=!me&&ye,Me=!d.layout.get("symbol-sort-key").isConstant(),Le=!1,rt=x.depthModeForSublayer(0,Br.ReadOnly),pt=d._unevaluatedLayout.hasValue("text-variable-anchor")||d._unevaluatedLayout.hasValue("text-variable-anchor-offset"),At=[],Bt=ce.getCircleRadiusCorrection(oe);for(let St of m){let xt=a.getTile(St),Xt=xt.getBucket(d);if(!Xt)continue;let br=g?Xt.text:Xt.icon;if(!br||!br.segments.get().length||!br.hasVisibleVertices)continue;let It=br.programConfigurations.get(d.id),qt=g||Xt.sdfIcons,yr=g?Xt.textSizeData:Xt.iconSizeData,Xn=me||oe.pitch!==0,Dr=x.useProgram(as(qt,g,Xt),It),Kr=o.ag(yr,oe.zoom),Qn=x.style.map.terrain&&x.style.map.terrain.getTerrainData(St),mo,Gs,Jn,ua,Lo=[0,0],go=null;if(g)Gs=xt.glyphAtlasTexture,Jn=te.LINEAR,mo=xt.glyphAtlasTexture.size,Xt.iconsInText&&(Lo=xt.imageAtlasTexture.size,go=xt.imageAtlasTexture,ua=Xn||x.options.rotating||x.options.zooming||yr.kind==="composite"||yr.kind==="camera"?te.LINEAR:te.NEAREST);else{let Jr=d.layout.get("icon-size").constantOr(0)!==1||Xt.iconsNeedLinear;Gs=xt.imageAtlasTexture,Jn=qt||x.options.rotating||x.options.zooming||Jr||Xn?te.LINEAR:te.NEAREST,mo=xt.imageAtlasTexture.size}let qo=Zr(xt,1,x.transform.zoom),bl=Ie?St.posMatrix:Sh,Pp=kt(bl,me,pe,x.transform,qo),Xg=Ot(bl,me,pe,x.transform,qo),Op=Ot(St.posMatrix,me,pe,x.transform,qo),us=ce.translatePosition(x.transform,xt,b,C),Qg=pt&&Xt.hasTextData(),f_=d.layout.get("icon-text-fit")!=="none"&&Qg&&Xt.hasIconData();if(ye){let Jr=x.style.map.terrain?(Dp,Np)=>x.style.map.terrain.getElevation(St,Dp,Np):null,td=d.layout.get("text-rotation-alignment")==="map";Z(Xt,St.posMatrix,x,g,Pp,Op,me,z,td,ce,St.toUnwrapped(),oe.width,oe.height,us,Jr)}let cs=St.posMatrix,ds=g&&pt||f_,Uu=ye||ds?Sh:Pp,Ys=Xg,oo=qt&&d.paint.get(g?"text-halo-width":"icon-halo-width").constantOr(1)!==0,vo;vo=qt?Xt.iconsInText?P1(yr.kind,Kr,se,me,ye,ds,x,cs,Uu,Ys,us,mo,Lo,Bt):bh(yr.kind,Kr,se,me,ye,ds,x,cs,Uu,Ys,us,g,mo,!0,Bt):sI(yr.kind,Kr,se,me,ye,ds,x,cs,Uu,Ys,us,g,mo,Bt);let Ua={program:Dr,buffers:br,uniformValues:vo,atlasTexture:Gs,atlasTextureIcon:go,atlasInterpolation:Jn,atlasInterpolationIcon:ua,isSDF:qt,hasHalo:oo};if(Me&&Xt.canOverlap){Le=!0;let Jr=br.segments.get();for(let td of Jr)At.push({segments:new o.a0([td]),sortKey:td.sortKey,state:Ua,terrainData:Qn})}else At.push({segments:br.segments,sortKey:0,state:Ua,terrainData:Qn})}Le&&At.sort((St,xt)=>St.sortKey-xt.sortKey);for(let St of At){let xt=St.state;if(K.activeTexture.set(te.TEXTURE0),xt.atlasTexture.bind(xt.atlasInterpolation,te.CLAMP_TO_EDGE),xt.atlasTextureIcon&&(K.activeTexture.set(te.TEXTURE1),xt.atlasTextureIcon&&xt.atlasTextureIcon.bind(xt.atlasInterpolationIcon,te.CLAMP_TO_EDGE)),xt.isSDF){let Xt=xt.uniformValues;xt.hasHalo&&(Xt.u_is_halo=1,V1(xt.buffers,St.segments,d,x,xt.program,rt,U,V,Xt,St.terrainData)),Xt.u_is_halo=0}V1(xt.buffers,St.segments,d,x,xt.program,rt,U,V,xt.uniformValues,St.terrainData)}}function V1(x,a,d,m,g,b,C,P,O,z){let U=m.context;g.draw(U,U.gl.TRIANGLES,b,C,P,Dn.disabled,O,z,d.id,x.layoutVertexBuffer,x.indexBuffer,a,d.paint,m.transform.zoom,x.programConfigurations.get(d.id),x.dynamicLayoutVertexBuffer,x.opacityVertexBuffer)}function $1(x,a,d,m){let g=x.context,b=g.gl,C=Fn.disabled,P=new xi([b.ONE,b.ONE],o.aM.transparent,[!0,!0,!0,!0]),O=a.getBucket(d);if(!O)return;let z=m.key,U=d.heatmapFbos.get(z);U||(U=Ih(g,a.tileSize,a.tileSize),d.heatmapFbos.set(z,U)),g.bindFramebuffer.set(U.framebuffer),g.viewport.set([0,0,a.tileSize,a.tileSize]),g.clear({color:o.aM.transparent});let V=O.programConfigurations.get(d.id),K=x.useProgram("heatmap",V),te=x.style.map.terrain.getTerrainData(m);K.draw(g,b.TRIANGLES,Br.disabled,C,P,Dn.disabled,la(m.posMatrix,a,x.transform.zoom,d.paint.get("heatmap-intensity")),te,d.id,O.layoutVertexBuffer,O.indexBuffer,O.segments,d.paint,x.transform.zoom,V)}function Xc(x,a,d){let m=x.context,g=m.gl;m.setColorMode(x.colorModeForRenderPass());let b=Eh(m,a),C=d.key,P=a.heatmapFbos.get(C);P&&(m.activeTexture.set(g.TEXTURE0),g.bindTexture(g.TEXTURE_2D,P.colorAttachment.get()),m.activeTexture.set(g.TEXTURE1),b.bind(g.LINEAR,g.CLAMP_TO_EDGE),x.useProgram("heatmapTexture").draw(m,g.TRIANGLES,Br.disabled,Fn.disabled,x.colorModeForRenderPass(),Dn.disabled,Ig(x,a,0,1),null,a.id,x.rasterBoundsBuffer,x.quadTriangleIndexBuffer,x.rasterBoundsSegments,a.paint,x.transform.zoom),P.destroy(),a.heatmapFbos.delete(C))}function Ih(x,a,d){var m,g;let b=x.gl,C=b.createTexture();b.bindTexture(b.TEXTURE_2D,C),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,b.CLAMP_TO_EDGE),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,b.CLAMP_TO_EDGE),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,b.LINEAR),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,b.LINEAR);let P=(m=x.HALF_FLOAT)!==null&&m!==void 0?m:b.UNSIGNED_BYTE,O=(g=x.RGBA16F)!==null&&g!==void 0?g:b.RGBA;b.texImage2D(b.TEXTURE_2D,0,O,a,d,0,b.RGBA,P,null);let z=x.createFramebuffer(a,d,!1,!1);return z.colorAttachment.set(C),z}function Eh(x,a){return a.colorRampTexture||(a.colorRampTexture=new _e(x,a.colorRamp,x.gl.RGBA)),a.colorRampTexture}function mp(x,a,d,m,g){if(!d||!m||!m.imageAtlas)return;let b=m.imageAtlas.patternPositions,C=b[d.to.toString()],P=b[d.from.toString()];if(!C&&P&&(C=P),!P&&C&&(P=C),!C||!P){let O=g.getPaintProperty(a);C=b[O],P=b[O]}C&&P&&x.setConstantPatternPositions(C,P)}function Th(x,a,d,m,g,b,C){let P=x.context.gl,O="fill-pattern",z=d.paint.get(O),U=z&&z.constantOr(1),V=d.getCrossfadeParameters(),K,te,oe,ce,pe;C?(te=U&&!d.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",K=P.LINES):(te=U?"fillPattern":"fill",K=P.TRIANGLES);let me=z.constantOr(null);for(let ye of m){let se=a.getTile(ye);if(U&&!se.patternsLoaded())continue;let Ie=se.getBucket(d);if(!Ie)continue;let Me=Ie.programConfigurations.get(d.id),Le=x.useProgram(te,Me),rt=x.style.map.terrain&&x.style.map.terrain.getTerrainData(ye);U&&(x.context.activeTexture.set(P.TEXTURE0),se.imageAtlasTexture.bind(P.LINEAR,P.CLAMP_TO_EDGE),Me.updatePaintBuffers(V)),mp(Me,O,me,se,d);let pt=rt?ye:null,At=x.translatePosMatrix(pt?pt.posMatrix:ye.posMatrix,se,d.paint.get("fill-translate"),d.paint.get("fill-translate-anchor"));if(C){ce=Ie.indexBuffer2,pe=Ie.segments2;let Bt=[P.drawingBufferWidth,P.drawingBufferHeight];oe=te==="fillOutlinePattern"&&U?nI(At,x,V,se,Bt):XD(At,Bt)}else ce=Ie.indexBuffer,pe=Ie.segments,oe=U?rI(At,x,V,se):dp(At);Le.draw(x.context,K,g,x.stencilModeForClipping(ye),b,Dn.disabled,oe,rt,d.id,Ie.layoutVertexBuffer,ce,pe,d.paint,x.transform.zoom,Me)}}function Ng(x,a,d,m,g,b,C){let P=x.context,O=P.gl,z="fill-extrusion-pattern",U=d.paint.get(z),V=U.constantOr(1),K=d.getCrossfadeParameters(),te=d.paint.get("fill-extrusion-opacity"),oe=U.constantOr(null);for(let ce of m){let pe=a.getTile(ce),me=pe.getBucket(d);if(!me)continue;let ye=x.style.map.terrain&&x.style.map.terrain.getTerrainData(ce),se=me.programConfigurations.get(d.id),Ie=x.useProgram(V?"fillExtrusionPattern":"fillExtrusion",se);V&&(x.context.activeTexture.set(O.TEXTURE0),pe.imageAtlasTexture.bind(O.LINEAR,O.CLAMP_TO_EDGE),se.updatePaintBuffers(K)),mp(se,z,oe,pe,d);let Me=x.translatePosMatrix(ce.posMatrix,pe,d.paint.get("fill-extrusion-translate"),d.paint.get("fill-extrusion-translate-anchor")),Le=d.paint.get("fill-extrusion-vertical-gradient"),rt=V?Sg(Me,x,Le,te,ce,K,pe):yh(Me,x,Le,te);Ie.draw(P,P.gl.TRIANGLES,g,b,C,Dn.backCCW,rt,ye,d.id,me.layoutVertexBuffer,me.indexBuffer,me.segments,d.paint,x.transform.zoom,se,x.style.map.terrain&&me.centroidVertexBuffer)}}function gp(x,a,d,m,g,b,C){let P=x.context,O=P.gl,z=d.fbo;if(!z)return;let U=x.useProgram("hillshade"),V=x.style.map.terrain&&x.style.map.terrain.getTerrainData(a);P.activeTexture.set(O.TEXTURE0),O.bindTexture(O.TEXTURE_2D,z.colorAttachment.get()),U.draw(P,O.TRIANGLES,g,b,C,Dn.disabled,((K,te,oe,ce)=>{let pe=oe.paint.get("hillshade-shadow-color"),me=oe.paint.get("hillshade-highlight-color"),ye=oe.paint.get("hillshade-accent-color"),se=oe.paint.get("hillshade-illumination-direction")*(Math.PI/180);oe.paint.get("hillshade-illumination-anchor")==="viewport"&&(se-=K.transform.angle);let Ie=!K.options.moving;return{u_matrix:ce?ce.posMatrix:K.transform.calculatePosMatrix(te.tileID.toUnwrapped(),Ie),u_image:0,u_latrange:Eg(0,te.tileID),u_light:[oe.paint.get("hillshade-exaggeration"),se],u_shadow:pe,u_highlight:me,u_accent:ye}})(x,d,m,V?a:null),V,m.id,x.rasterBoundsBuffer,x.quadTriangleIndexBuffer,x.rasterBoundsSegments)}function vp(x,a,d,m,g,b){let C=x.context,P=C.gl,O=a.dem;if(O&&O.data){let z=O.dim,U=O.stride,V=O.getPixels();if(C.activeTexture.set(P.TEXTURE1),C.pixelStoreUnpackPremultiplyAlpha.set(!1),a.demTexture=a.demTexture||x.getTileTexture(U),a.demTexture){let te=a.demTexture;te.update(V,{premultiply:!1}),te.bind(P.NEAREST,P.CLAMP_TO_EDGE)}else a.demTexture=new _e(C,V,P.RGBA,{premultiply:!1}),a.demTexture.bind(P.NEAREST,P.CLAMP_TO_EDGE);C.activeTexture.set(P.TEXTURE0);let K=a.fbo;if(!K){let te=new _e(C,{width:z,height:z,data:null},P.RGBA);te.bind(P.LINEAR,P.CLAMP_TO_EDGE),K=a.fbo=C.createFramebuffer(z,z,!0,!1),K.colorAttachment.set(te.texture)}C.bindFramebuffer.set(K.framebuffer),C.viewport.set([0,0,z,z]),x.useProgram("hillshadePrepare").draw(C,P.TRIANGLES,m,g,b,Dn.disabled,((te,oe)=>{let ce=oe.stride,pe=o.H();return o.aP(pe,0,o.X,-o.X,0,0,1),o.J(pe,pe,[0,-o.X,0]),{u_matrix:pe,u_image:1,u_dimension:[ce,ce],u_zoom:te.overscaledZ,u_unpack:oe.getUnpackVector()}})(a.tileID,O),null,d.id,x.rasterBoundsBuffer,x.quadTriangleIndexBuffer,x.rasterBoundsSegments),a.needsHillshadePrepare=!1}}function bI(x,a,d,m,g,b){let C=m.paint.get("raster-fade-duration");if(!b&&C>0){let P=y.now(),O=(P-x.timeAdded)/C,z=a?(P-a.timeAdded)/C:-1,U=d.getSource(),V=g.coveringZoomLevel({tileSize:U.tileSize,roundZoom:U.roundZoom}),K=!a||Math.abs(a.tileID.overscaledZ-V)>Math.abs(x.tileID.overscaledZ-V),te=K&&x.refreshedUponExpiration?1:o.ac(K?O:1-z,0,1);return x.refreshedUponExpiration&&O>=1&&(x.refreshedUponExpiration=!1),a?{opacity:1,mix:1-te}:{opacity:te,mix:0}}return{opacity:1,mix:0}}let H1=new o.aM(1,0,0,1),cn=new o.aM(0,1,0,1),kg=new o.aM(0,0,1,1),pN=new o.aM(1,0,1,1),xI=new o.aM(0,1,1,1);function yp(x,a,d,m){Lg(x,0,a+d/2,x.transform.width,d,m)}function wI(x,a,d,m){Lg(x,a-d/2,0,d,x.transform.height,m)}function Lg(x,a,d,m,g,b){let C=x.context,P=C.gl;P.enable(P.SCISSOR_TEST),P.scissor(a*x.pixelRatio,d*x.pixelRatio,m*x.pixelRatio,g*x.pixelRatio),C.clear({color:b}),P.disable(P.SCISSOR_TEST)}function SI(x,a,d){let m=x.context,g=m.gl,b=d.posMatrix,C=x.useProgram("debug"),P=Br.disabled,O=Fn.disabled,z=x.colorModeForRenderPass(),U="$debug",V=x.style.map.terrain&&x.style.map.terrain.getTerrainData(d);m.activeTexture.set(g.TEXTURE0);let K=a.getTileByID(d.key).latestRawTileData,te=Math.floor((K&&K.byteLength||0)/1024),oe=a.getTile(d).tileSize,ce=512/Math.min(oe,512)*(d.overscaledZ/x.transform.zoom)*.5,pe=d.canonical.toString();d.overscaledZ!==d.canonical.z&&(pe+=` => ${d.overscaledZ}`),function(me,ye){me.initDebugOverlayCanvas();let se=me.debugOverlayCanvas,Ie=me.context.gl,Me=me.debugOverlayCanvas.getContext("2d");Me.clearRect(0,0,se.width,se.height),Me.shadowColor="white",Me.shadowBlur=2,Me.lineWidth=1.5,Me.strokeStyle="white",Me.textBaseline="top",Me.font="bold 36px Open Sans, sans-serif",Me.fillText(ye,5,5),Me.strokeText(ye,5,5),me.debugOverlayTexture.update(se),me.debugOverlayTexture.bind(Ie.LINEAR,Ie.CLAMP_TO_EDGE)}(x,`${pe} ${te}kB`),C.draw(m,g.TRIANGLES,P,O,xi.alphaBlended,Dn.disabled,_h(b,o.aM.transparent,ce),null,U,x.debugBuffer,x.quadTriangleIndexBuffer,x.debugSegments),C.draw(m,g.LINE_STRIP,P,O,z,Dn.disabled,_h(b,o.aM.red),V,U,x.debugBuffer,x.tileBorderIndexBuffer,x.debugSegments)}function II(x,a,d){let m=x.context,g=m.gl,b=x.colorModeForRenderPass(),C=new Br(g.LEQUAL,Br.ReadWrite,x.depthRangeFor3D),P=x.useProgram("terrain"),O=a.getTerrainMesh();m.bindFramebuffer.set(null),m.viewport.set([0,0,x.width,x.height]);for(let z of d){let U=x.renderToTexture.getTexture(z),V=a.getTerrainData(z.tileID);m.activeTexture.set(g.TEXTURE0),g.bindTexture(g.TEXTURE_2D,U.texture);let K=x.transform.calculatePosMatrix(z.tileID.toUnwrapped()),te=a.getMeshFrameDelta(x.transform.zoom),oe=x.transform.calculateFogMatrix(z.tileID.toUnwrapped()),ce=C1(K,te,oe,x.style.sky,x.transform.pitch);P.draw(m,g.TRIANGLES,C,Fn.disabled,b,Dn.backCCW,ce,V,"terrain",O.vertexBuffer,O.indexBuffer,O.segments)}}class qg{constructor(a,d,m){this.vertexBuffer=a,this.indexBuffer=d,this.segments=m}destroy(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.vertexBuffer=null,this.indexBuffer=null,this.segments=null}}class Rg{constructor(a,d){this.context=new dN(a),this.transform=d,this._tileTextures={},this.terrainFacilitator={dirty:!0,matrix:o.an(new Float64Array(16)),renderTime:0},this.setup(),this.numSublayers=fr.maxUnderzooming+fr.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new T1}resize(a,d,m){if(this.width=Math.floor(a*m),this.height=Math.floor(d*m),this.pixelRatio=m,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(let g of this.style._order)this.style._layers[g].resize()}setup(){let a=this.context,d=new o.aX;d.emplaceBack(0,0),d.emplaceBack(o.X,0),d.emplaceBack(0,o.X),d.emplaceBack(o.X,o.X),this.tileExtentBuffer=a.createVertexBuffer(d,$c.members),this.tileExtentSegments=o.a0.simpleSegment(0,0,4,2);let m=new o.aX;m.emplaceBack(0,0),m.emplaceBack(o.X,0),m.emplaceBack(0,o.X),m.emplaceBack(o.X,o.X),this.debugBuffer=a.createVertexBuffer(m,$c.members),this.debugSegments=o.a0.simpleSegment(0,0,4,5);let g=new o.$;g.emplaceBack(0,0,0,0),g.emplaceBack(o.X,0,o.X,0),g.emplaceBack(0,o.X,0,o.X),g.emplaceBack(o.X,o.X,o.X,o.X),this.rasterBoundsBuffer=a.createVertexBuffer(g,Wt.members),this.rasterBoundsSegments=o.a0.simpleSegment(0,0,4,2);let b=new o.aX;b.emplaceBack(0,0),b.emplaceBack(1,0),b.emplaceBack(0,1),b.emplaceBack(1,1),this.viewportBuffer=a.createVertexBuffer(b,$c.members),this.viewportSegments=o.a0.simpleSegment(0,0,4,2);let C=new o.aZ;C.emplaceBack(0),C.emplaceBack(1),C.emplaceBack(3),C.emplaceBack(2),C.emplaceBack(0),this.tileBorderIndexBuffer=a.createIndexBuffer(C);let P=new o.aY;P.emplaceBack(0,1,2),P.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=a.createIndexBuffer(P);let O=this.context.gl;this.stencilClearMode=new Fn({func:O.ALWAYS,mask:0},0,255,O.ZERO,O.ZERO,O.ZERO)}clearStencil(){let a=this.context,d=a.gl;this.nextStencilID=1,this.currentStencilSource=void 0;let m=o.H();o.aP(m,0,this.width,this.height,0,0,1),o.K(m,m,[d.drawingBufferWidth,d.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(a,d.TRIANGLES,Br.disabled,this.stencilClearMode,xi.disabled,Dn.disabled,sa(m),null,"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(a,d){if(this.currentStencilSource===a.source||!a.isTileClipped()||!d||!d.length)return;this.currentStencilSource=a.source;let m=this.context,g=m.gl;this.nextStencilID+d.length>256&&this.clearStencil(),m.setColorMode(xi.disabled),m.setDepthMode(Br.disabled);let b=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(let C of d){let P=this._tileClippingMaskIDs[C.key]=this.nextStencilID++,O=this.style.map.terrain&&this.style.map.terrain.getTerrainData(C);b.draw(m,g.TRIANGLES,Br.disabled,new Fn({func:g.ALWAYS,mask:0},P,255,g.KEEP,g.KEEP,g.REPLACE),xi.disabled,Dn.disabled,sa(C.posMatrix),O,"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();let a=this.nextStencilID++,d=this.context.gl;return new Fn({func:d.NOTEQUAL,mask:255},a,255,d.KEEP,d.KEEP,d.REPLACE)}stencilModeForClipping(a){let d=this.context.gl;return new Fn({func:d.EQUAL,mask:255},this._tileClippingMaskIDs[a.key],0,d.KEEP,d.KEEP,d.REPLACE)}stencilConfigForOverlap(a){let d=this.context.gl,m=a.sort((C,P)=>P.overscaledZ-C.overscaledZ),g=m[m.length-1].overscaledZ,b=m[0].overscaledZ-g+1;if(b>1){this.currentStencilSource=void 0,this.nextStencilID+b>256&&this.clearStencil();let C={};for(let P=0;P<b;P++)C[P+g]=new Fn({func:d.GEQUAL,mask:255},P+this.nextStencilID,255,d.KEEP,d.KEEP,d.REPLACE);return this.nextStencilID+=b,[C,m]}return[{[g]:Fn.disabled},m]}colorModeForRenderPass(){let a=this.context.gl;return this._showOverdrawInspector?new xi([a.CONSTANT_COLOR,a.ONE],new o.aM(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?xi.unblended:xi.alphaBlended}depthModeForSublayer(a,d,m){if(!this.opaquePassEnabledForLayer())return Br.disabled;let g=1-((1+this.currentLayer)*this.numSublayers+a)*this.depthEpsilon;return new Br(m||this.context.gl.LEQUAL,d,[g,g])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(a,d){this.style=a,this.options=d,this.lineAtlas=a.lineAtlas,this.imageManager=a.imageManager,this.glyphManager=a.glyphManager,this.symbolFadeChange=a.placement.symbolFadeChange(y.now()),this.imageManager.beginFrame();let m=this.style._order,g=this.style.sourceCaches,b={},C={},P={};for(let O in g){let z=g[O];z.used&&z.prepare(this.context),b[O]=z.getVisibleCoordinates(),C[O]=b[O].slice().reverse(),P[O]=z.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let O=0;O<m.length;O++)if(this.style._layers[m[O]].is3D()){this.opaquePassCutoff=O;break}this.maybeDrawDepthAndCoords(!1),this.renderToTexture&&(this.renderToTexture.prepareForRender(this.style,this.transform.zoom),this.opaquePassCutoff=0),this.renderPass="offscreen";for(let O of m){let z=this.style._layers[O];if(!z.hasOffscreenPass()||z.isHidden(this.transform.zoom))continue;let U=C[z.source];(z.type==="custom"||U.length)&&this.renderLayer(this,g[z.source],z,U)}if(this.context.bindFramebuffer.set(null),this.context.clear({color:d.showOverdrawInspector?o.aM.black:o.aM.transparent,depth:1}),this.clearStencil(),this.style.sky&&function(O,z){let U=O.context,V=U.gl,K=((me,ye,se)=>({u_sky_color:me.properties.get("sky-color"),u_horizon_color:me.properties.get("horizon-color"),u_horizon:(ye.height/2+ye.getHorizon())*se,u_sky_horizon_blend:me.properties.get("sky-horizon-blend")*ye.height/2*se}))(z,O.style.map.transform,O.pixelRatio),te=new Br(V.LEQUAL,Br.ReadWrite,[0,1]),oe=Fn.disabled,ce=O.colorModeForRenderPass(),pe=O.useProgram("sky");if(!z.mesh){let me=new o.aX;me.emplaceBack(-1,-1),me.emplaceBack(1,-1),me.emplaceBack(1,1),me.emplaceBack(-1,1);let ye=new o.aY;ye.emplaceBack(0,1,2),ye.emplaceBack(0,2,3),z.mesh=new qg(U.createVertexBuffer(me,$c.members),U.createIndexBuffer(ye),o.a0.simpleSegment(0,0,me.length,ye.length))}pe.draw(U,V.TRIANGLES,te,oe,ce,Dn.disabled,K,void 0,"sky",z.mesh.vertexBuffer,z.mesh.indexBuffer,z.mesh.segments)}(this,this.style.sky),this._showOverdrawInspector=d.showOverdrawInspector,this.depthRangeFor3D=[0,1-(a._order.length+2)*this.numSublayers*this.depthEpsilon],!this.renderToTexture)for(this.renderPass="opaque",this.currentLayer=m.length-1;this.currentLayer>=0;this.currentLayer--){let O=this.style._layers[m[this.currentLayer]],z=g[O.source],U=b[O.source];this._renderTileClippingMasks(O,U),this.renderLayer(this,z,O,U)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<m.length;this.currentLayer++){let O=this.style._layers[m[this.currentLayer]],z=g[O.source];if(this.renderToTexture&&this.renderToTexture.renderLayer(O))continue;let U=(O.type==="symbol"?P:C)[O.source];this._renderTileClippingMasks(O,b[O.source]),this.renderLayer(this,z,O,U)}if(this.options.showTileBoundaries){let O=function(z,U){let V=null,K=Object.values(z._layers).flatMap(pe=>pe.source&&!pe.isHidden(U)?[z.sourceCaches[pe.source]]:[]),te=K.filter(pe=>pe.getSource().type==="vector"),oe=K.filter(pe=>pe.getSource().type!=="vector"),ce=pe=>{(!V||V.getSource().maxzoom<pe.getSource().maxzoom)&&(V=pe)};return te.forEach(pe=>ce(pe)),V||oe.forEach(pe=>ce(pe)),V}(this.style,this.transform.zoom);O&&function(z,U,V){for(let K=0;K<V.length;K++)SI(z,U,V[K])}(this,O,O.getVisibleCoordinates())}this.options.showPadding&&function(O){let z=O.transform.padding;yp(O,O.transform.height-(z.top||0),3,H1),yp(O,z.bottom||0,3,cn),wI(O,z.left||0,3,kg),wI(O,O.transform.width-(z.right||0),3,pN);let U=O.transform.centerPoint;(function(V,K,te,oe){Lg(V,K-1,te-10,2,20,oe),Lg(V,K-10,te-1,20,2,oe)})(O,U.x,O.transform.height-U.y,xI)}(this),this.context.setDefault()}maybeDrawDepthAndCoords(a){if(!this.style||!this.style.map||!this.style.map.terrain)return;let d=this.terrainFacilitator.matrix,m=this.transform.modelViewProjectionMatrix,g=this.terrainFacilitator.dirty;g||(g=a?!o.a_(d,m):!o.a$(d,m)),g||(g=this.style.map.terrain.sourceCache.tilesAfterTime(this.terrainFacilitator.renderTime).length>0),g&&(o.b0(d,m),this.terrainFacilitator.renderTime=Date.now(),this.terrainFacilitator.dirty=!1,function(b,C){let P=b.context,O=P.gl,z=xi.unblended,U=new Br(O.LEQUAL,Br.ReadWrite,[0,1]),V=C.getTerrainMesh(),K=C.sourceCache.getRenderableTiles(),te=b.useProgram("terrainDepth");P.bindFramebuffer.set(C.getFramebuffer("depth").framebuffer),P.viewport.set([0,0,b.width/devicePixelRatio,b.height/devicePixelRatio]),P.clear({color:o.aM.transparent,depth:1});for(let oe of K){let ce=C.getTerrainData(oe.tileID),pe={u_matrix:b.transform.calculatePosMatrix(oe.tileID.toUnwrapped()),u_ele_delta:C.getMeshFrameDelta(b.transform.zoom)};te.draw(P,O.TRIANGLES,U,Fn.disabled,z,Dn.backCCW,pe,ce,"terrain",V.vertexBuffer,V.indexBuffer,V.segments)}P.bindFramebuffer.set(null),P.viewport.set([0,0,b.width,b.height])}(this,this.style.map.terrain),function(b,C){let P=b.context,O=P.gl,z=xi.unblended,U=new Br(O.LEQUAL,Br.ReadWrite,[0,1]),V=C.getTerrainMesh(),K=C.getCoordsTexture(),te=C.sourceCache.getRenderableTiles(),oe=b.useProgram("terrainCoords");P.bindFramebuffer.set(C.getFramebuffer("coords").framebuffer),P.viewport.set([0,0,b.width/devicePixelRatio,b.height/devicePixelRatio]),P.clear({color:o.aM.transparent,depth:1}),C.coordsIndex=[];for(let ce of te){let pe=C.getTerrainData(ce.tileID);P.activeTexture.set(O.TEXTURE0),O.bindTexture(O.TEXTURE_2D,K.texture);let me={u_matrix:b.transform.calculatePosMatrix(ce.tileID.toUnwrapped()),u_terrain_coords_id:(255-C.coordsIndex.length)/255,u_texture:0,u_ele_delta:C.getMeshFrameDelta(b.transform.zoom)};oe.draw(P,O.TRIANGLES,U,Fn.disabled,z,Dn.backCCW,me,pe,"terrain",V.vertexBuffer,V.indexBuffer,V.segments),C.coordsIndex.push(ce.tileID.key)}P.bindFramebuffer.set(null),P.viewport.set([0,0,b.width,b.height])}(this,this.style.map.terrain))}renderLayer(a,d,m,g){if(!m.isHidden(this.transform.zoom)&&(m.type==="background"||m.type==="custom"||(g||[]).length))switch(this.id=m.id,m.type){case"symbol":(function(b,C,P,O,z){if(b.renderPass!=="translucent")return;let U=Fn.disabled,V=b.colorModeForRenderPass();(P._unevaluatedLayout.hasValue("text-variable-anchor")||P._unevaluatedLayout.hasValue("text-variable-anchor-offset"))&&function(K,te,oe,ce,pe,me,ye,se,Ie){let Me=te.transform,Le=Vc(),rt=pe==="map",pt=me==="map";for(let At of K){let Bt=ce.getTile(At),St=Bt.getBucket(oe);if(!St||!St.text||!St.text.segments.get().length)continue;let xt=o.ag(St.textSizeData,Me.zoom),Xt=Zr(Bt,1,te.transform.zoom),br=kt(At.posMatrix,pt,rt,te.transform,Xt),It=oe.layout.get("icon-text-fit")!=="none"&&St.hasIconData();if(xt){let qt=Math.pow(2,Me.zoom-Bt.tileID.overscaledZ),yr=te.style.map.terrain?(Dr,Kr)=>te.style.map.terrain.getElevation(At,Dr,Kr):null,Xn=Le.translatePosition(Me,Bt,ye,se);hp(St,rt,pt,Ie,Me,br,At.posMatrix,qt,xt,It,Le,Xn,At.toUnwrapped(),yr)}}}(O,b,P,C,P.layout.get("text-rotation-alignment"),P.layout.get("text-pitch-alignment"),P.paint.get("text-translate"),P.paint.get("text-translate-anchor"),z),P.paint.get("icon-opacity").constantOr(1)!==0&&U1(b,C,P,O,!1,P.paint.get("icon-translate"),P.paint.get("icon-translate-anchor"),P.layout.get("icon-rotation-alignment"),P.layout.get("icon-pitch-alignment"),P.layout.get("icon-keep-upright"),U,V),P.paint.get("text-opacity").constantOr(1)!==0&&U1(b,C,P,O,!0,P.paint.get("text-translate"),P.paint.get("text-translate-anchor"),P.layout.get("text-rotation-alignment"),P.layout.get("text-pitch-alignment"),P.layout.get("text-keep-upright"),U,V),C.map.showCollisionBoxes&&(wh(b,C,P,O,!0),wh(b,C,P,O,!1))})(a,d,m,g,this.style.placement.variableOffsets);break;case"circle":(function(b,C,P,O){if(b.renderPass!=="translucent")return;let z=P.paint.get("circle-opacity"),U=P.paint.get("circle-stroke-width"),V=P.paint.get("circle-stroke-opacity"),K=!P.layout.get("circle-sort-key").isConstant();if(z.constantOr(1)===0&&(U.constantOr(1)===0||V.constantOr(1)===0))return;let te=b.context,oe=te.gl,ce=b.depthModeForSublayer(0,Br.ReadOnly),pe=Fn.disabled,me=b.colorModeForRenderPass(),ye=[];for(let se=0;se<O.length;se++){let Ie=O[se],Me=C.getTile(Ie),Le=Me.getBucket(P);if(!Le)continue;let rt=Le.programConfigurations.get(P.id),pt=b.useProgram("circle",rt),At=Le.layoutVertexBuffer,Bt=Le.indexBuffer,St=b.style.map.terrain&&b.style.map.terrain.getTerrainData(Ie),xt={programConfiguration:rt,program:pt,layoutVertexBuffer:At,indexBuffer:Bt,uniformValues:QD(b,Ie,Me,P),terrainData:St};if(K){let Xt=Le.segments.get();for(let br of Xt)ye.push({segments:new o.a0([br]),sortKey:br.sortKey,state:xt})}else ye.push({segments:Le.segments,sortKey:0,state:xt})}K&&ye.sort((se,Ie)=>se.sortKey-Ie.sortKey);for(let se of ye){let{programConfiguration:Ie,program:Me,layoutVertexBuffer:Le,indexBuffer:rt,uniformValues:pt,terrainData:At}=se.state;Me.draw(te,oe.TRIANGLES,ce,pe,me,Dn.disabled,pt,At,P.id,Le,rt,se.segments,P.paint,b.transform.zoom,Ie)}})(a,d,m,g);break;case"heatmap":(function(b,C,P,O){if(P.paint.get("heatmap-opacity")===0)return;let z=b.context;if(b.style.map.terrain){for(let U of O){let V=C.getTile(U);C.hasRenderableParent(U)||(b.renderPass==="offscreen"?$1(b,V,P,U):b.renderPass==="translucent"&&Xc(b,P,U))}z.viewport.set([0,0,b.width,b.height])}else b.renderPass==="offscreen"?function(U,V,K,te){let oe=U.context,ce=oe.gl,pe=Fn.disabled,me=new xi([ce.ONE,ce.ONE],o.aM.transparent,[!0,!0,!0,!0]);(function(ye,se,Ie){let Me=ye.gl;ye.activeTexture.set(Me.TEXTURE1),ye.viewport.set([0,0,se.width/4,se.height/4]);let Le=Ie.heatmapFbos.get(o.aU);Le?(Me.bindTexture(Me.TEXTURE_2D,Le.colorAttachment.get()),ye.bindFramebuffer.set(Le.framebuffer)):(Le=Ih(ye,se.width/4,se.height/4),Ie.heatmapFbos.set(o.aU,Le))})(oe,U,K),oe.clear({color:o.aM.transparent});for(let ye=0;ye<te.length;ye++){let se=te[ye];if(V.hasRenderableParent(se))continue;let Ie=V.getTile(se),Me=Ie.getBucket(K);if(!Me)continue;let Le=Me.programConfigurations.get(K.id),rt=U.useProgram("heatmap",Le),{zoom:pt}=U.transform;rt.draw(oe,ce.TRIANGLES,Br.disabled,pe,me,Dn.disabled,la(se.posMatrix,Ie,pt,K.paint.get("heatmap-intensity")),null,K.id,Me.layoutVertexBuffer,Me.indexBuffer,Me.segments,K.paint,U.transform.zoom,Le)}oe.viewport.set([0,0,U.width,U.height])}(b,C,P,O):b.renderPass==="translucent"&&function(U,V){let K=U.context,te=K.gl;K.setColorMode(U.colorModeForRenderPass());let oe=V.heatmapFbos.get(o.aU);oe&&(K.activeTexture.set(te.TEXTURE0),te.bindTexture(te.TEXTURE_2D,oe.colorAttachment.get()),K.activeTexture.set(te.TEXTURE1),Eh(K,V).bind(te.LINEAR,te.CLAMP_TO_EDGE),U.useProgram("heatmapTexture").draw(K,te.TRIANGLES,Br.disabled,Fn.disabled,U.colorModeForRenderPass(),Dn.disabled,Ig(U,V,0,1),null,V.id,U.viewportBuffer,U.quadTriangleIndexBuffer,U.viewportSegments,V.paint,U.transform.zoom))}(b,P)})(a,d,m,g);break;case"line":(function(b,C,P,O){if(b.renderPass!=="translucent")return;let z=P.paint.get("line-opacity"),U=P.paint.get("line-width");if(z.constantOr(1)===0||U.constantOr(1)===0)return;let V=b.depthModeForSublayer(0,Br.ReadOnly),K=b.colorModeForRenderPass(),te=P.paint.get("line-dasharray"),oe=P.paint.get("line-pattern"),ce=oe.constantOr(1),pe=P.paint.get("line-gradient"),me=P.getCrossfadeParameters(),ye=ce?"linePattern":te?"lineSDF":pe?"lineGradient":"line",se=b.context,Ie=se.gl,Me=!0;for(let Le of O){let rt=C.getTile(Le);if(ce&&!rt.patternsLoaded())continue;let pt=rt.getBucket(P);if(!pt)continue;let At=pt.programConfigurations.get(P.id),Bt=b.context.program.get(),St=b.useProgram(ye,At),xt=Me||St.program!==Bt,Xt=b.style.map.terrain&&b.style.map.terrain.getTerrainData(Le),br=oe.constantOr(null);if(br&&rt.imageAtlas){let yr=rt.imageAtlas,Xn=yr.patternPositions[br.to.toString()],Dr=yr.patternPositions[br.from.toString()];Xn&&Dr&&At.setConstantPatternPositions(Xn,Dr)}let It=Xt?Le:null,qt=ce?pp(b,rt,P,me,It):te?JD(b,rt,P,te,me,It):pe?iI(b,rt,P,pt.lineClipsArray.length,It):Tg(b,rt,P,It);if(ce)se.activeTexture.set(Ie.TEXTURE0),rt.imageAtlasTexture.bind(Ie.LINEAR,Ie.CLAMP_TO_EDGE),At.updatePaintBuffers(me);else if(te&&(xt||b.lineAtlas.dirty))se.activeTexture.set(Ie.TEXTURE0),b.lineAtlas.bind(se);else if(pe){let yr=pt.gradients[P.id],Xn=yr.texture;if(P.gradientVersion!==yr.version){let Dr=256;if(P.stepInterpolant){let Kr=C.getSource().maxzoom,Qn=Le.canonical.z===Kr?Math.ceil(1<<b.transform.maxZoom-Le.canonical.z):1;Dr=o.ac(o.aV(pt.maxLineLength/o.X*1024*Qn),256,se.maxTextureSize)}yr.gradient=o.aW({expression:P.gradientExpression(),evaluationKey:"lineProgress",resolution:Dr,image:yr.gradient||void 0,clips:pt.lineClipsArray}),yr.texture?yr.texture.update(yr.gradient):yr.texture=new _e(se,yr.gradient,Ie.RGBA),yr.version=P.gradientVersion,Xn=yr.texture}se.activeTexture.set(Ie.TEXTURE0),Xn.bind(P.stepInterpolant?Ie.NEAREST:Ie.LINEAR,Ie.CLAMP_TO_EDGE)}St.draw(se,Ie.TRIANGLES,V,b.stencilModeForClipping(Le),K,Dn.disabled,qt,Xt,P.id,pt.layoutVertexBuffer,pt.indexBuffer,pt.segments,P.paint,b.transform.zoom,At,pt.layoutVertexBuffer2),Me=!1}})(a,d,m,g);break;case"fill":(function(b,C,P,O){let z=P.paint.get("fill-color"),U=P.paint.get("fill-opacity");if(U.constantOr(1)===0)return;let V=b.colorModeForRenderPass(),K=P.paint.get("fill-pattern"),te=b.opaquePassEnabledForLayer()&&!K.constantOr(1)&&z.constantOr(o.aM.transparent).a===1&&U.constantOr(0)===1?"opaque":"translucent";if(b.renderPass===te){let oe=b.depthModeForSublayer(1,b.renderPass==="opaque"?Br.ReadWrite:Br.ReadOnly);Th(b,C,P,O,oe,V,!1)}if(b.renderPass==="translucent"&&P.paint.get("fill-antialias")){let oe=b.depthModeForSublayer(P.getPaintProperty("fill-outline-color")?2:0,Br.ReadOnly);Th(b,C,P,O,oe,V,!0)}})(a,d,m,g);break;case"fill-extrusion":(function(b,C,P,O){let z=P.paint.get("fill-extrusion-opacity");if(z!==0&&b.renderPass==="translucent"){let U=new Br(b.context.gl.LEQUAL,Br.ReadWrite,b.depthRangeFor3D);if(z!==1||P.paint.get("fill-extrusion-pattern").constantOr(1))Ng(b,C,P,O,U,Fn.disabled,xi.disabled),Ng(b,C,P,O,U,b.stencilModeFor3D(),b.colorModeForRenderPass());else{let V=b.colorModeForRenderPass();Ng(b,C,P,O,U,Fn.disabled,V)}}})(a,d,m,g);break;case"hillshade":(function(b,C,P,O){if(b.renderPass!=="offscreen"&&b.renderPass!=="translucent")return;let z=b.context,U=b.depthModeForSublayer(0,Br.ReadOnly),V=b.colorModeForRenderPass(),[K,te]=b.renderPass==="translucent"?b.stencilConfigForOverlap(O):[{},O];for(let oe of te){let ce=C.getTile(oe);ce.needsHillshadePrepare!==void 0&&ce.needsHillshadePrepare&&b.renderPass==="offscreen"?vp(b,ce,P,U,Fn.disabled,V):b.renderPass==="translucent"&&gp(b,oe,ce,P,U,K[oe.overscaledZ],V)}z.viewport.set([0,0,b.width,b.height])})(a,d,m,g);break;case"raster":(function(b,C,P,O){if(b.renderPass!=="translucent"||P.paint.get("raster-opacity")===0||!O.length)return;let z=b.context,U=z.gl,V=C.getSource(),K=b.useProgram("raster"),te=b.colorModeForRenderPass(),[oe,ce]=V instanceof hr?[{},O]:b.stencilConfigForOverlap(O),pe=ce[ce.length-1].overscaledZ,me=!b.options.moving;for(let ye of ce){let se=b.depthModeForSublayer(ye.overscaledZ-pe,P.paint.get("raster-opacity")===1?Br.ReadWrite:Br.ReadOnly,U.LESS),Ie=C.getTile(ye);Ie.registerFadeDuration(P.paint.get("raster-fade-duration"));let Me=C.findLoadedParent(ye,0),Le=C.findLoadedSibling(ye),rt=bI(Ie,Me||Le||null,C,P,b.transform,b.style.map.terrain),pt,At,Bt=P.paint.get("raster-resampling")==="nearest"?U.NEAREST:U.LINEAR;z.activeTexture.set(U.TEXTURE0),Ie.texture.bind(Bt,U.CLAMP_TO_EDGE,U.LINEAR_MIPMAP_NEAREST),z.activeTexture.set(U.TEXTURE1),Me?(Me.texture.bind(Bt,U.CLAMP_TO_EDGE,U.LINEAR_MIPMAP_NEAREST),pt=Math.pow(2,Me.tileID.overscaledZ-Ie.tileID.overscaledZ),At=[Ie.tileID.canonical.x*pt%1,Ie.tileID.canonical.y*pt%1]):Ie.texture.bind(Bt,U.CLAMP_TO_EDGE,U.LINEAR_MIPMAP_NEAREST),Ie.texture.useMipmap&&z.extTextureFilterAnisotropic&&b.transform.pitch>20&&U.texParameterf(U.TEXTURE_2D,z.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,z.extTextureFilterAnisotropicMax);let St=b.style.map.terrain&&b.style.map.terrain.getTerrainData(ye),xt=St?ye:null,Xt=xt?xt.posMatrix:b.transform.calculatePosMatrix(ye.toUnwrapped(),me),br=eN(Xt,At||[0,0],pt||1,rt,P);V instanceof hr?K.draw(z,U.TRIANGLES,se,Fn.disabled,te,Dn.disabled,br,St,P.id,V.boundsBuffer,b.quadTriangleIndexBuffer,V.boundsSegments):K.draw(z,U.TRIANGLES,se,oe[ye.overscaledZ],te,Dn.disabled,br,St,P.id,b.rasterBoundsBuffer,b.quadTriangleIndexBuffer,b.rasterBoundsSegments)}})(a,d,m,g);break;case"background":(function(b,C,P,O){let z=P.paint.get("background-color"),U=P.paint.get("background-opacity");if(U===0)return;let V=b.context,K=V.gl,te=b.transform,oe=te.tileSize,ce=P.paint.get("background-pattern");if(b.isPatternMissing(ce))return;let pe=!ce&&z.a===1&&U===1&&b.opaquePassEnabledForLayer()?"opaque":"translucent";if(b.renderPass!==pe)return;let me=Fn.disabled,ye=b.depthModeForSublayer(0,pe==="opaque"?Br.ReadWrite:Br.ReadOnly),se=b.colorModeForRenderPass(),Ie=b.useProgram(ce?"backgroundPattern":"background"),Me=O||te.coveringTiles({tileSize:oe,terrain:b.style.map.terrain});ce&&(V.activeTexture.set(K.TEXTURE0),b.imageManager.bind(b.context));let Le=P.getCrossfadeParameters();for(let rt of Me){let pt=O?rt.posMatrix:b.transform.calculatePosMatrix(rt.toUnwrapped()),At=ce?O1(pt,U,b,ce,{tileID:rt,tileSize:oe},Le):Mg(pt,U,z),Bt=b.style.map.terrain&&b.style.map.terrain.getTerrainData(rt);Ie.draw(V,K.TRIANGLES,ye,me,se,Dn.disabled,At,Bt,P.id,b.tileExtentBuffer,b.quadTriangleIndexBuffer,b.tileExtentSegments)}})(a,0,m,g);break;case"custom":(function(b,C,P){let O=b.context,z=P.implementation;if(b.renderPass==="offscreen"){let U=z.prerender;U&&(b.setCustomLayerDefaults(),O.setColorMode(b.colorModeForRenderPass()),U.call(z,O.gl,b.transform.customLayerMatrix()),O.setDirty(),b.setBaseState())}else if(b.renderPass==="translucent"){b.setCustomLayerDefaults(),O.setColorMode(b.colorModeForRenderPass()),O.setStencilMode(Fn.disabled);let U=z.renderingMode==="3d"?new Br(b.context.gl.LEQUAL,Br.ReadWrite,b.depthRangeFor3D):b.depthModeForSublayer(0,Br.ReadOnly);O.setDepthMode(U),z.render(O.gl,b.transform.customLayerMatrix(),{farZ:b.transform.farZ,nearZ:b.transform.nearZ,fov:b.transform._fov,modelViewProjectionMatrix:b.transform.modelViewProjectionMatrix,projectionMatrix:b.transform.projectionMatrix}),O.setDirty(),b.setBaseState(),O.bindFramebuffer.set(null)}})(a,0,m);}}translatePosMatrix(a,d,m,g,b){if(!m[0]&&!m[1])return a;let C=b?g==="map"?this.transform.angle:0:g==="viewport"?-this.transform.angle:0;if(C){let z=Math.sin(C),U=Math.cos(C);m=[m[0]*U-m[1]*z,m[0]*z+m[1]*U]}let P=[b?m[0]:Zr(d,m[0],this.transform.zoom),b?m[1]:Zr(d,m[1],this.transform.zoom),0],O=new Float32Array(16);return o.J(O,a,P),O}saveTileTexture(a){let d=this._tileTextures[a.size[0]];d?d.push(a):this._tileTextures[a.size[0]]=[a]}getTileTexture(a){let d=this._tileTextures[a];return d&&d.length>0?d.pop():null}isPatternMissing(a){if(!a)return!1;if(!a.from||!a.to)return!0;let d=this.imageManager.getPattern(a.from.toString()),m=this.imageManager.getPattern(a.to.toString());return!d||!m}useProgram(a,d){this.cache=this.cache||{};let m=a+(d?d.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"")+(this.style.map.terrain?"/terrain":"");return this.cache[m]||(this.cache[m]=new A1(this.context,Fu[a],d,D1[a],this._showOverdrawInspector,this.style.map.terrain)),this.cache[m]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){let a=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(a.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new _e(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}overLimit(){let{drawingBufferWidth:a,drawingBufferHeight:d}=this.context.gl;return this.width!==a||this.height!==d}}class _p{constructor(a,d){this.points=a,this.planes=d}static fromInvProjectionMatrix(a,d,m){let g=Math.pow(2,m),b=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(P=>{let O=1/(P=o.af([],P,a))[3]/d*g;return o.b1(P,P,[O,O,1/P[3],O])}),C=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(P=>{let O=function(K,te){var oe=te[0],ce=te[1],pe=te[2],me=oe*oe+ce*ce+pe*pe;return me>0&&(me=1/Math.sqrt(me)),K[0]=te[0]*me,K[1]=te[1]*me,K[2]=te[2]*me,K}([],function(K,te,oe){var ce=te[0],pe=te[1],me=te[2],ye=oe[0],se=oe[1],Ie=oe[2];return K[0]=pe*Ie-me*se,K[1]=me*ye-ce*Ie,K[2]=ce*se-pe*ye,K}([],ae([],b[P[0]],b[P[1]]),ae([],b[P[2]],b[P[1]]))),z=-((U=O)[0]*(V=b[P[1]])[0]+U[1]*V[1]+U[2]*V[2]);var U,V;return O.concat(z)});return new _p(b,C)}}class bp{constructor(a,d){this.min=a,this.max=d,this.center=function(m,g,b){return m[0]=.5*g[0],m[1]=.5*g[1],m[2]=.5*g[2],m}([],function(m,g,b){return m[0]=g[0]+b[0],m[1]=g[1]+b[1],m[2]=g[2]+b[2],m}([],this.min,this.max))}quadrant(a){let d=[a%2==0,a<2],m=G(this.min),g=G(this.max);for(let b=0;b<d.length;b++)m[b]=d[b]?this.min[b]:this.center[b],g[b]=d[b]?this.center[b]:this.max[b];return g[2]=this.max[2],new bp(m,g)}distanceX(a){return Math.max(Math.min(this.max[0],a[0]),this.min[0])-a[0]}distanceY(a){return Math.max(Math.min(this.max[1],a[1]),this.min[1])-a[1]}intersects(a){let d=[[this.min[0],this.min[1],this.min[2],1],[this.max[0],this.min[1],this.min[2],1],[this.max[0],this.max[1],this.min[2],1],[this.min[0],this.max[1],this.min[2],1],[this.min[0],this.min[1],this.max[2],1],[this.max[0],this.min[1],this.max[2],1],[this.max[0],this.max[1],this.max[2],1],[this.min[0],this.max[1],this.max[2],1]],m=!0;for(let g=0;g<a.planes.length;g++){let b=a.planes[g],C=0;for(let P=0;P<d.length;P++)o.b2(b,d[P])>=0&&C++;if(C===0)return 0;C!==d.length&&(m=!1)}if(m)return 2;for(let g=0;g<3;g++){let b=Number.MAX_VALUE,C=-Number.MAX_VALUE;for(let P=0;P<a.points.length;P++){let O=a.points[P][g]-this.min[g];b=Math.min(b,O),C=Math.max(C,O)}if(C<0||b>this.max[g]-this.min[g])return 0}return 1}}class xp{constructor(a=0,d=0,m=0,g=0){if(isNaN(a)||a<0||isNaN(d)||d<0||isNaN(m)||m<0||isNaN(g)||g<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=a,this.bottom=d,this.left=m,this.right=g}interpolate(a,d,m){return d.top!=null&&a.top!=null&&(this.top=o.y.number(a.top,d.top,m)),d.bottom!=null&&a.bottom!=null&&(this.bottom=o.y.number(a.bottom,d.bottom,m)),d.left!=null&&a.left!=null&&(this.left=o.y.number(a.left,d.left,m)),d.right!=null&&a.right!=null&&(this.right=o.y.number(a.right,d.right,m)),this}getCenter(a,d){let m=o.ac((this.left+a-this.right)/2,0,a),g=o.ac((this.top+d-this.bottom)/2,0,d);return new o.P(m,g)}equals(a){return this.top===a.top&&this.bottom===a.bottom&&this.left===a.left&&this.right===a.right}clone(){return new xp(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}let W1=85.051129;class wp{constructor(a,d,m,g,b){this.tileSize=512,this._renderWorldCopies=b===void 0||!!b,this._minZoom=a||0,this._maxZoom=d||22,this._minPitch=m==null?0:m,this._maxPitch=g==null?60:g,this.setMaxBounds(),this.width=0,this.height=0,this._center=new o.N(0,0),this._elevation=0,this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new xp,this._posMatrixCache={},this._alignedPosMatrixCache={},this._fogMatrixCache={},this.minElevationForCurrentTile=0}clone(){let a=new wp(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return a.apply(this),a}apply(a){this.tileSize=a.tileSize,this.latRange=a.latRange,this.lngRange=a.lngRange,this.width=a.width,this.height=a.height,this._center=a._center,this._elevation=a._elevation,this.minElevationForCurrentTile=a.minElevationForCurrentTile,this.zoom=a.zoom,this.angle=a.angle,this._fov=a._fov,this._pitch=a._pitch,this._unmodified=a._unmodified,this._edgeInsets=a._edgeInsets.clone(),this._calcMatrices()}get minZoom(){return this._minZoom}set minZoom(a){this._minZoom!==a&&(this._minZoom=a,this.zoom=Math.max(this.zoom,a))}get maxZoom(){return this._maxZoom}set maxZoom(a){this._maxZoom!==a&&(this._maxZoom=a,this.zoom=Math.min(this.zoom,a))}get minPitch(){return this._minPitch}set minPitch(a){this._minPitch!==a&&(this._minPitch=a,this.pitch=Math.max(this.pitch,a))}get maxPitch(){return this._maxPitch}set maxPitch(a){this._maxPitch!==a&&(this._maxPitch=a,this.pitch=Math.min(this.pitch,a))}get renderWorldCopies(){return this._renderWorldCopies}set renderWorldCopies(a){a===void 0?a=!0:a===null&&(a=!1),this._renderWorldCopies=a}get worldSize(){return this.tileSize*this.scale}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new o.P(this.width,this.height)}get bearing(){return-this.angle/Math.PI*180}set bearing(a){let d=-o.b3(a,-180,180)*Math.PI/180;this.angle!==d&&(this._unmodified=!1,this.angle=d,this._calcMatrices(),this.rotationMatrix=function(){var m=new o.A(4);return o.A!=Float32Array&&(m[1]=0,m[2]=0),m[0]=1,m[3]=1,m}(),function(m,g,b){var C=g[0],P=g[1],O=g[2],z=g[3],U=Math.sin(b),V=Math.cos(b);m[0]=C*V+O*U,m[1]=P*V+z*U,m[2]=C*-U+O*V,m[3]=P*-U+z*V}(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(a){let d=o.ac(a,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==d&&(this._unmodified=!1,this._pitch=d,this._calcMatrices())}get fov(){return this._fov/Math.PI*180}set fov(a){a=Math.max(.01,Math.min(60,a)),this._fov!==a&&(this._unmodified=!1,this._fov=a/180*Math.PI,this._calcMatrices())}get zoom(){return this._zoom}set zoom(a){let d=Math.min(Math.max(a,this.minZoom),this.maxZoom);this._zoom!==d&&(this._unmodified=!1,this._zoom=d,this.tileZoom=Math.max(0,Math.floor(d)),this.scale=this.zoomScale(d),this._constrain(),this._calcMatrices())}get center(){return this._center}set center(a){a.lat===this._center.lat&&a.lng===this._center.lng||(this._unmodified=!1,this._center=a,this._constrain(),this._calcMatrices())}get elevation(){return this._elevation}set elevation(a){a!==this._elevation&&(this._elevation=a,this._constrain(),this._calcMatrices())}get padding(){return this._edgeInsets.toJSON()}set padding(a){this._edgeInsets.equals(a)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,a,1),this._calcMatrices())}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}isPaddingEqual(a){return this._edgeInsets.equals(a)}interpolatePadding(a,d,m){this._unmodified=!1,this._edgeInsets.interpolate(a,d,m),this._constrain(),this._calcMatrices()}coveringZoomLevel(a){let d=(a.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/a.tileSize));return Math.max(0,d)}getVisibleUnwrappedCoordinates(a){let d=[new o.b4(0,a)];if(this._renderWorldCopies){let m=this.pointCoordinate(new o.P(0,0)),g=this.pointCoordinate(new o.P(this.width,0)),b=this.pointCoordinate(new o.P(this.width,this.height)),C=this.pointCoordinate(new o.P(0,this.height)),P=Math.floor(Math.min(m.x,g.x,b.x,C.x)),O=Math.floor(Math.max(m.x,g.x,b.x,C.x)),z=1;for(let U=P-z;U<=O+z;U++)U!==0&&d.push(new o.b4(U,a))}return d}coveringTiles(a){var d,m;let g=this.coveringZoomLevel(a),b=g;if(a.minzoom!==void 0&&g<a.minzoom)return[];a.maxzoom!==void 0&&g>a.maxzoom&&(g=a.maxzoom);let C=this.pointCoordinate(this.getCameraPoint()),P=o.Z.fromLngLat(this.center),O=Math.pow(2,g),z=[O*C.x,O*C.y,0],U=[O*P.x,O*P.y,0],V=_p.fromInvProjectionMatrix(this.invModelViewProjectionMatrix,this.worldSize,g),K=a.minzoom||0;!a.terrain&&this.pitch<=60&&this._edgeInsets.top<.1&&(K=g);let te=a.terrain?2/Math.min(this.tileSize,a.tileSize)*this.tileSize:3,oe=se=>({aabb:new bp([se*O,0,0],[(se+1)*O,O,0]),zoom:0,x:0,y:0,wrap:se,fullyVisible:!1}),ce=[],pe=[],me=g,ye=a.reparseOverscaled?b:g;if(this._renderWorldCopies)for(let se=1;se<=3;se++)ce.push(oe(-se)),ce.push(oe(se));for(ce.push(oe(0));ce.length>0;){let se=ce.pop(),Ie=se.x,Me=se.y,Le=se.fullyVisible;if(!Le){let St=se.aabb.intersects(V);if(St===0)continue;Le=St===2}let rt=a.terrain?z:U,pt=se.aabb.distanceX(rt),At=se.aabb.distanceY(rt),Bt=Math.max(Math.abs(pt),Math.abs(At));if(se.zoom===me||Bt>te+(1<<me-se.zoom)-2&&se.zoom>=K){let St=me-se.zoom,xt=z[0]-.5-(Ie<<St),Xt=z[1]-.5-(Me<<St);pe.push({tileID:new o.S(se.zoom===me?ye:se.zoom,se.wrap,se.zoom,Ie,Me),distanceSq:ue([U[0]-.5-Ie,U[1]-.5-Me]),tileDistanceToCamera:Math.sqrt(xt*xt+Xt*Xt)})}else for(let St=0;St<4;St++){let xt=(Ie<<1)+St%2,Xt=(Me<<1)+(St>>1),br=se.zoom+1,It=se.aabb.quadrant(St);if(a.terrain){let qt=new o.S(br,se.wrap,br,xt,Xt),yr=a.terrain.getMinMaxElevation(qt),Xn=(d=yr.minElevation)!==null&&d!==void 0?d:this.elevation,Dr=(m=yr.maxElevation)!==null&&m!==void 0?m:this.elevation;It=new bp([It.min[0],It.min[1],Xn],[It.max[0],It.max[1],Dr])}ce.push({aabb:It,zoom:br,x:xt,y:Xt,wrap:se.wrap,fullyVisible:Le})}}return pe.sort((se,Ie)=>se.distanceSq-Ie.distanceSq).map(se=>se.tileID)}resize(a,d){this.width=a,this.height=d,this.pixelsToGLUnits=[2/a,-2/d],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(a){return Math.pow(2,a)}scaleZoom(a){return Math.log(a)/Math.LN2}project(a){let d=o.ac(a.lat,-85.051129,W1);return new o.P(o.O(a.lng)*this.worldSize,o.Q(d)*this.worldSize)}unproject(a){return new o.Z(a.x/this.worldSize,a.y/this.worldSize).toLngLat()}get point(){return this.project(this.center)}getCameraPosition(){return{lngLat:this.pointLocation(this.getCameraPoint()),altitude:Math.cos(this._pitch)*this.cameraToCenterDistance/this._pixelPerMeter+this.elevation}}recalculateZoom(a){let d=this.elevation,m=Math.cos(this._pitch)*this.cameraToCenterDistance/this._pixelPerMeter,g=this.pointLocation(this.centerPoint,a),b=a.getElevationForLngLatZoom(g,this.tileZoom);if(!(this.elevation-b))return;let C=m+d-b,P=Math.cos(this._pitch)*this.cameraToCenterDistance/C/o.b5(1,g.lat),O=this.scaleZoom(P/this.tileSize);this._elevation=b,this._center=g,this.zoom=O}setLocationAtPoint(a,d){let m=this.pointCoordinate(d),g=this.pointCoordinate(this.centerPoint),b=this.locationCoordinate(a),C=new o.Z(b.x-(m.x-g.x),b.y-(m.y-g.y));this.center=this.coordinateLocation(C),this._renderWorldCopies&&(this.center=this.center.wrap())}locationPoint(a,d){return d?this.coordinatePoint(this.locationCoordinate(a),d.getElevationForLngLatZoom(a,this.tileZoom),this.pixelMatrix3D):this.coordinatePoint(this.locationCoordinate(a))}pointLocation(a,d){return this.coordinateLocation(this.pointCoordinate(a,d))}locationCoordinate(a){return o.Z.fromLngLat(a)}coordinateLocation(a){return a&&a.toLngLat()}pointCoordinate(a,d){if(d){let K=d.pointCoordinate(a);if(K!=null)return K}let m=[a.x,a.y,0,1],g=[a.x,a.y,1,1];o.af(m,m,this.pixelMatrixInverse),o.af(g,g,this.pixelMatrixInverse);let b=m[3],C=g[3],P=m[1]/b,O=g[1]/C,z=m[2]/b,U=g[2]/C,V=z===U?0:(0-z)/(U-z);return new o.Z(o.y.number(m[0]/b,g[0]/C,V)/this.worldSize,o.y.number(P,O,V)/this.worldSize)}coordinatePoint(a,d=0,m=this.pixelMatrix){let g=[a.x*this.worldSize,a.y*this.worldSize,d,1];return o.af(g,g,m),new o.P(g[0]/g[3],g[1]/g[3])}getBounds(){let a=Math.max(0,this.height/2-this.getHorizon());return new we().extend(this.pointLocation(new o.P(0,a))).extend(this.pointLocation(new o.P(this.width,a))).extend(this.pointLocation(new o.P(this.width,this.height))).extend(this.pointLocation(new o.P(0,this.height)))}getMaxBounds(){return this.latRange&&this.latRange.length===2&&this.lngRange&&this.lngRange.length===2?new we([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null}getHorizon(){return Math.tan(Math.PI/2-this._pitch)*this.cameraToCenterDistance*.85}setMaxBounds(a){a?(this.lngRange=[a.getWest(),a.getEast()],this.latRange=[a.getSouth(),a.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-85.051129,W1])}calculateTileMatrix(a){let d=a.canonical,m=this.worldSize/this.zoomScale(d.z),g=d.x+Math.pow(2,d.z)*a.wrap,b=o.an(new Float64Array(16));return o.J(b,b,[g*m,d.y*m,0]),o.K(b,b,[m/o.X,m/o.X,1]),b}calculatePosMatrix(a,d=!1){let m=a.key,g=d?this._alignedPosMatrixCache:this._posMatrixCache;if(g[m])return g[m];let b=this.calculateTileMatrix(a);return o.L(b,d?this.alignedModelViewProjectionMatrix:this.modelViewProjectionMatrix,b),g[m]=new Float32Array(b),g[m]}calculateFogMatrix(a){let d=a.key,m=this._fogMatrixCache;if(m[d])return m[d];let g=this.calculateTileMatrix(a);return o.L(g,this.fogMatrix,g),m[d]=new Float32Array(g),m[d]}customLayerMatrix(){return this.mercatorMatrix.slice()}getConstrained(a,d){d=o.ac(+d,this.minZoom,this.maxZoom);let m={center:new o.N(a.lng,a.lat),zoom:d},g=this.lngRange;if(!this._renderWorldCopies&&g===null){let se=179.9999999999;g=[-se,se]}let b=this.tileSize*this.zoomScale(m.zoom),C=0,P=b,O=0,z=b,U=0,V=0,{x:K,y:te}=this.size;if(this.latRange){let se=this.latRange;C=o.Q(se[1])*b,P=o.Q(se[0])*b,P-C<te&&(U=te/(P-C))}g&&(O=o.b3(o.O(g[0])*b,0,b),z=o.b3(o.O(g[1])*b,0,b),z<O&&(z+=b),z-O<K&&(V=K/(z-O)));let{x:oe,y:ce}=this.project.call({worldSize:b},a),pe,me,ye=Math.max(V||0,U||0);if(ye){let se=new o.P(V?(z+O)/2:oe,U?(P+C)/2:ce);return m.center=this.unproject.call({worldSize:b},se).wrap(),m.zoom+=this.scaleZoom(ye),m}if(this.latRange){let se=te/2;ce-se<C&&(me=C+se),ce+se>P&&(me=P-se)}if(g){let se=(O+z)/2,Ie=oe;this._renderWorldCopies&&(Ie=o.b3(oe,se-b/2,se+b/2));let Me=K/2;Ie-Me<O&&(pe=O+Me),Ie+Me>z&&(pe=z-Me)}if(pe!==void 0||me!==void 0){let se=new o.P(pe!=null?pe:oe,me!=null?me:ce);m.center=this.unproject.call({worldSize:b},se).wrap()}return m}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;let a=this._unmodified,{center:d,zoom:m}=this.getConstrained(this.center,this.zoom);this.center=d,this.zoom=m,this._unmodified=a,this._constraining=!1}_calcMatrices(){if(!this.height)return;let a=this.centerOffset,d=this.point.x,m=this.point.y;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height,this._pixelPerMeter=o.b5(1,this.center.lat)*this.worldSize;let g=o.an(new Float64Array(16));o.K(g,g,[this.width/2,-this.height/2,1]),o.J(g,g,[1,-1,0]),this.labelPlaneMatrix=g,g=o.an(new Float64Array(16)),o.K(g,g,[1,-1,1]),o.J(g,g,[-1,-1,0]),o.K(g,g,[2/this.width,2/this.height,1]),this.glCoordMatrix=g;let b=this.cameraToCenterDistance+this._elevation*this._pixelPerMeter/Math.cos(this._pitch),C=Math.min(this.elevation,this.minElevationForCurrentTile),P=b-C*this._pixelPerMeter/Math.cos(this._pitch),O=C<0?P:b,z=Math.PI/2+this._pitch,U=this._fov*(.5+a.y/this.height),V=Math.sin(U)*O/Math.sin(o.ac(Math.PI-z-U,.01,Math.PI-.01)),K=this.getHorizon(),te=2*Math.atan(K/this.cameraToCenterDistance)*(.5+a.y/(2*K)),oe=Math.sin(te)*O/Math.sin(o.ac(Math.PI-z-te,.01,Math.PI-.01)),ce=Math.min(V,oe);this.farZ=1.01*(Math.cos(Math.PI/2-this._pitch)*ce+O),this.nearZ=this.height/50,g=new Float64Array(16),o.b6(g,this._fov,this.width/this.height,this.nearZ,this.farZ),g[8]=2*-a.x/this.width,g[9]=2*a.y/this.height,this.projectionMatrix=o.ae(g),o.K(g,g,[1,-1,1]),o.J(g,g,[0,0,-this.cameraToCenterDistance]),o.b7(g,g,this._pitch),o.ad(g,g,this.angle),o.J(g,g,[-d,-m,0]),this.mercatorMatrix=o.K([],g,[this.worldSize,this.worldSize,this.worldSize]),o.K(g,g,[1,1,this._pixelPerMeter]),this.pixelMatrix=o.L(new Float64Array(16),this.labelPlaneMatrix,g),o.J(g,g,[0,0,-this.elevation]),this.modelViewProjectionMatrix=g,this.invModelViewProjectionMatrix=o.as([],g),this.fogMatrix=new Float64Array(16),o.b6(this.fogMatrix,this._fov,this.width/this.height,b,this.farZ),this.fogMatrix[8]=2*-a.x/this.width,this.fogMatrix[9]=2*a.y/this.height,o.K(this.fogMatrix,this.fogMatrix,[1,-1,1]),o.J(this.fogMatrix,this.fogMatrix,[0,0,-this.cameraToCenterDistance]),o.b7(this.fogMatrix,this.fogMatrix,this._pitch),o.ad(this.fogMatrix,this.fogMatrix,this.angle),o.J(this.fogMatrix,this.fogMatrix,[-d,-m,0]),o.K(this.fogMatrix,this.fogMatrix,[1,1,this._pixelPerMeter]),o.J(this.fogMatrix,this.fogMatrix,[0,0,-this.elevation]),this.pixelMatrix3D=o.L(new Float64Array(16),this.labelPlaneMatrix,g);let pe=this.width%2/2,me=this.height%2/2,ye=Math.cos(this.angle),se=Math.sin(this.angle),Ie=d-Math.round(d)+ye*pe+se*me,Me=m-Math.round(m)+ye*me+se*pe,Le=new Float64Array(g);if(o.J(Le,Le,[Ie>.5?Ie-1:Ie,Me>.5?Me-1:Me,0]),this.alignedModelViewProjectionMatrix=Le,g=o.as(new Float64Array(16),this.pixelMatrix),!g)throw new Error("failed to invert matrix");this.pixelMatrixInverse=g,this._posMatrixCache={},this._alignedPosMatrixCache={},this._fogMatrixCache={}}maxPitchScaleFactor(){if(!this.pixelMatrixInverse)return 1;let a=this.pointCoordinate(new o.P(0,0)),d=[a.x*this.worldSize,a.y*this.worldSize,0,1];return o.af(d,d,this.pixelMatrix)[3]/this.cameraToCenterDistance}getCameraPoint(){let a=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new o.P(0,a))}getCameraQueryGeometry(a){let d=this.getCameraPoint();if(a.length===1)return[a[0],d];{let m=d.x,g=d.y,b=d.x,C=d.y;for(let P of a)m=Math.min(m,P.x),g=Math.min(g,P.y),b=Math.max(b,P.x),C=Math.max(C,P.y);return[new o.P(m,g),new o.P(b,g),new o.P(b,C),new o.P(m,C),new o.P(m,g)]}}lngLatToCameraDepth(a,d){let m=this.locationCoordinate(a),g=[m.x*this.worldSize,m.y*this.worldSize,d,1];return o.af(g,g,this.modelViewProjectionMatrix),g[2]/g[3]}}function Mh(x,a){let d,m=!1,g=null,b=null,C=()=>{g=null,m&&(x.apply(b,d),g=setTimeout(C,a),m=!1)};return(...P)=>(m=!0,b=this,d=P,g||C(),g)}class zg{constructor(a){this._getCurrentHash=()=>{let d=window.location.hash.replace("#","");if(this._hashName){let m;return d.split("&").map(g=>g.split("=")).forEach(g=>{g[0]===this._hashName&&(m=g)}),(m&&m[1]||"").split("/")}return d.split("/")},this._onHashChange=()=>{let d=this._getCurrentHash();if(d.length>=3&&!d.some(m=>isNaN(m))){let m=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(d[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+d[2],+d[1]],zoom:+d[0],bearing:m,pitch:+(d[4]||0)}),!0}return!1},this._updateHashUnthrottled=()=>{let d=window.location.href.replace(/(#.*)?$/,this.getHashString());window.history.replaceState(window.history.state,null,d)},this._removeHash=()=>{let d=this._getCurrentHash();if(d.length===0)return;let m=d.join("/"),g=m;g.split("&").length>0&&(g=g.split("&")[0]),this._hashName&&(g=`${this._hashName}=${m}`);let b=window.location.hash.replace(g,"");b.startsWith("#&")?b=b.slice(0,1)+b.slice(2):b==="#"&&(b="");let C=window.location.href.replace(/(#.+)?$/,b);C=C.replace("&&","&"),window.history.replaceState(window.history.state,null,C)},this._updateHash=Mh(this._updateHashUnthrottled,300),this._hashName=a&&encodeURIComponent(a)}addTo(a){return this._map=a,addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),this._removeHash(),delete this._map,this}getHashString(a){let d=this._map.getCenter(),m=Math.round(100*this._map.getZoom())/100,g=Math.ceil((m*Math.LN2+Math.log(512/360/.5))/Math.LN10),b=Math.pow(10,g),C=Math.round(d.lng*b)/b,P=Math.round(d.lat*b)/b,O=this._map.getBearing(),z=this._map.getPitch(),U="";if(U+=a?`/${C}/${P}/${m}`:`${m}/${P}/${C}`,(O||z)&&(U+="/"+Math.round(10*O)/10),z&&(U+=`/${Math.round(z)}`),this._hashName){let V=this._hashName,K=!1,te=window.location.hash.slice(1).split("&").map(oe=>{let ce=oe.split("=")[0];return ce===V?(K=!0,`${ce}=${U}`):oe}).filter(oe=>oe);return K||te.push(`${V}=${U}`),`#${te.join("&")}`}return`#${U}`}}let jg={linearity:.3,easing:o.b8(0,0,.3,1)},G1=o.e({deceleration:2500,maxSpeed:1400},jg),fN=o.e({deceleration:20,maxSpeed:1400},jg),EI=o.e({deceleration:1e3,maxSpeed:360},jg),Fg=o.e({deceleration:1e3,maxSpeed:90},jg);class Y1{constructor(a){this._map=a,this.clear()}clear(){this._inertiaBuffer=[]}record(a){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:y.now(),settings:a})}_drainInertiaBuffer(){let a=this._inertiaBuffer,d=y.now();for(;a.length>0&&d-a[0].time>160;)a.shift()}_onMoveEnd(a){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;let d={zoom:0,bearing:0,pitch:0,pan:new o.P(0,0),pinchAround:void 0,around:void 0};for(let{settings:b}of this._inertiaBuffer)d.zoom+=b.zoomDelta||0,d.bearing+=b.bearingDelta||0,d.pitch+=b.pitchDelta||0,b.panDelta&&d.pan._add(b.panDelta),b.around&&(d.around=b.around),b.pinchAround&&(d.pinchAround=b.pinchAround);let m=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,g={};if(d.pan.mag()){let b=Ah(d.pan.mag(),m,o.e({},G1,a||{}));g.offset=d.pan.mult(b.amount/d.pan.mag()),g.center=this._map.transform.center,Ch(g,b)}if(d.zoom){let b=Ah(d.zoom,m,fN);g.zoom=this._map.transform.zoom+b.amount,Ch(g,b)}if(d.bearing){let b=Ah(d.bearing,m,EI);g.bearing=this._map.transform.bearing+o.ac(b.amount,-179,179),Ch(g,b)}if(d.pitch){let b=Ah(d.pitch,m,Fg);g.pitch=this._map.transform.pitch+b.amount,Ch(g,b)}if(g.zoom||g.bearing){let b=d.pinchAround===void 0?d.around:d.pinchAround;g.around=b?this._map.unproject(b):this._map.getCenter()}return this.clear(),o.e(g,{noMoveStart:!0})}}function Ch(x,a){(!x.duration||x.duration<a.duration)&&(x.duration=a.duration,x.easing=a.easing)}function Ah(x,a,d){let{maxSpeed:m,linearity:g,deceleration:b}=d,C=o.ac(x*g/(a/1e3),-m,m),P=Math.abs(C)/(b*g);return{easing:d.easing,duration:1e3*P,amount:C*(P/2)}}class ho extends o.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(a,d,m,g={}){let b=_.mousePos(d.getCanvas(),m),C=d.unproject(b);super(a,o.e({point:b,lngLat:C,originalEvent:m},g)),this._defaultPrevented=!1,this.target=d}}class Qc extends o.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(a,d,m){let g=a==="touchend"?m.changedTouches:m.touches,b=_.touchPos(d.getCanvasContainer(),g),C=b.map(O=>d.unproject(O)),P=b.reduce((O,z,U,V)=>O.add(z.div(V.length)),new o.P(0,0));super(a,{points:b,point:P,lngLats:C,lngLat:d.unproject(P),originalEvent:m}),this._defaultPrevented=!1}}class TI extends o.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(a,d,m){super(a,{originalEvent:m}),this._defaultPrevented=!1}}class MI{constructor(a,d){this._map=a,this._clickTolerance=d.clickTolerance}reset(){delete this._mousedownPos}wheel(a){return this._firePreventable(new TI(a.type,this._map,a))}mousedown(a,d){return this._mousedownPos=d,this._firePreventable(new ho(a.type,this._map,a))}mouseup(a){this._map.fire(new ho(a.type,this._map,a))}click(a,d){this._mousedownPos&&this._mousedownPos.dist(d)>=this._clickTolerance||this._map.fire(new ho(a.type,this._map,a))}dblclick(a){return this._firePreventable(new ho(a.type,this._map,a))}mouseover(a){this._map.fire(new ho(a.type,this._map,a))}mouseout(a){this._map.fire(new ho(a.type,this._map,a))}touchstart(a){return this._firePreventable(new Qc(a.type,this._map,a))}touchmove(a){this._map.fire(new Qc(a.type,this._map,a))}touchend(a){this._map.fire(new Qc(a.type,this._map,a))}touchcancel(a){this._map.fire(new Qc(a.type,this._map,a))}_firePreventable(a){if(this._map.fire(a),a.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class wi{constructor(a){this._map=a}reset(){this._delayContextMenu=!1,this._ignoreContextMenu=!0,delete this._contextMenuEvent}mousemove(a){this._map.fire(new ho(a.type,this._map,a))}mousedown(){this._delayContextMenu=!0,this._ignoreContextMenu=!1}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new ho("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(a){this._delayContextMenu?this._contextMenuEvent=a:this._ignoreContextMenu||this._map.fire(new ho(a.type,this._map,a)),this._map.listens("contextmenu")&&a.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Hs{constructor(a){this._map=a}get transform(){return this._map._requestedCameraState||this._map.transform}get center(){return{lng:this.transform.center.lng,lat:this.transform.center.lat}}get zoom(){return this.transform.zoom}get pitch(){return this.transform.pitch}get bearing(){return this.transform.bearing}unproject(a){return this.transform.pointLocation(o.P.convert(a),this._map.terrain)}}class Fa{constructor(a,d){this._map=a,this._tr=new Hs(a),this._el=a.getCanvasContainer(),this._container=a.getContainer(),this._clickTolerance=d.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(a,d){this.isEnabled()&&a.shiftKey&&a.button===0&&(_.disableDrag(),this._startPos=this._lastPos=d,this._active=!0)}mousemoveWindow(a,d){if(!this._active)return;let m=d;if(this._lastPos.equals(m)||!this._box&&m.dist(this._startPos)<this._clickTolerance)return;let g=this._startPos;this._lastPos=m,this._box||(this._box=_.create("div","maplibregl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair"),this._fireEvent("boxzoomstart",a));let b=Math.min(g.x,m.x),C=Math.max(g.x,m.x),P=Math.min(g.y,m.y),O=Math.max(g.y,m.y);_.setTransform(this._box,`translate(${b}px,${P}px)`),this._box.style.width=C-b+"px",this._box.style.height=O-P+"px"}mouseupWindow(a,d){if(!this._active||a.button!==0)return;let m=this._startPos,g=d;if(this.reset(),_.suppressClick(),m.x!==g.x||m.y!==g.y)return this._map.fire(new o.k("boxzoomend",{originalEvent:a})),{cameraAnimation:b=>b.fitScreenCoordinates(m,g,this._tr.bearing,{linear:!0})};this._fireEvent("boxzoomcancel",a)}keydown(a){this._active&&a.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",a))}reset(){this._active=!1,this._container.classList.remove("maplibregl-crosshair"),this._box&&(_.remove(this._box),this._box=null),_.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(a,d){return this._map.fire(new o.k(a,{originalEvent:d}))}}function Ph(x,a){if(x.length!==a.length)throw new Error(`The number of touches and points are not equal - touches ${x.length}, points ${a.length}`);let d={};for(let m=0;m<x.length;m++)d[x[m].identifier]=a[m];return d}class Z1{constructor(a){this.reset(),this.numTouches=a.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(a,d,m){(this.centroid||m.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=a.timeStamp),m.length===this.numTouches&&(this.centroid=function(g){let b=new o.P(0,0);for(let C of g)b._add(C);return b.div(g.length)}(d),this.touches=Ph(m,d)))}touchmove(a,d,m){if(this.aborted||!this.centroid)return;let g=Ph(m,d);for(let b in this.touches){let C=g[b];(!C||C.dist(this.touches[b])>30)&&(this.aborted=!0)}}touchend(a,d,m){if((!this.centroid||a.timeStamp-this.startTime>500)&&(this.aborted=!0),m.length===0){let g=!this.aborted&&this.centroid;if(this.reset(),g)return g}}}class Bg{constructor(a){this.singleTap=new Z1(a),this.numTaps=a.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(a,d,m){this.singleTap.touchstart(a,d,m)}touchmove(a,d,m){this.singleTap.touchmove(a,d,m)}touchend(a,d,m){let g=this.singleTap.touchend(a,d,m);if(g){let b=a.timeStamp-this.lastTime<500,C=!this.lastTap||this.lastTap.dist(g)<30;if(b&&C||this.reset(),this.count++,this.lastTime=a.timeStamp,this.lastTap=g,this.count===this.numTaps)return this.reset(),g}}}class Sp{constructor(a){this._tr=new Hs(a),this._zoomIn=new Bg({numTouches:1,numTaps:2}),this._zoomOut=new Bg({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(a,d,m){this._zoomIn.touchstart(a,d,m),this._zoomOut.touchstart(a,d,m)}touchmove(a,d,m){this._zoomIn.touchmove(a,d,m),this._zoomOut.touchmove(a,d,m)}touchend(a,d,m){let g=this._zoomIn.touchend(a,d,m),b=this._zoomOut.touchend(a,d,m),C=this._tr;return g?(this._active=!0,a.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:P=>P.easeTo({duration:300,zoom:C.zoom+1,around:C.unproject(g)},{originalEvent:a})}):b?(this._active=!0,a.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:P=>P.easeTo({duration:300,zoom:C.zoom-1,around:C.unproject(b)},{originalEvent:a})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class su{constructor(a){this._enabled=!!a.enable,this._moveStateManager=a.moveStateManager,this._clickTolerance=a.clickTolerance||1,this._moveFunction=a.move,this._activateOnStart=!!a.activateOnStart,a.assignEvents(this),this.reset()}reset(a){this._active=!1,this._moved=!1,delete this._lastPoint,this._moveStateManager.endMove(a)}_move(...a){let d=this._moveFunction(...a);if(d.bearingDelta||d.pitchDelta||d.around||d.panDelta)return this._active=!0,d}dragStart(a,d){this.isEnabled()&&!this._lastPoint&&this._moveStateManager.isValidStartEvent(a)&&(this._moveStateManager.startMove(a),this._lastPoint=d.length?d[0]:d,this._activateOnStart&&this._lastPoint&&(this._active=!0))}dragMove(a,d){if(!this.isEnabled())return;let m=this._lastPoint;if(!m)return;if(a.preventDefault(),!this._moveStateManager.isValidMoveEvent(a))return void this.reset(a);let g=d.length?d[0]:d;return!this._moved&&g.dist(m)<this._clickTolerance?void 0:(this._moved=!0,this._lastPoint=g,this._move(m,g))}dragEnd(a){this.isEnabled()&&this._lastPoint&&this._moveStateManager.isValidEndEvent(a)&&(this._moved&&_.suppressClick(),this.reset(a))}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}getClickTolerance(){return this._clickTolerance}}let K1={0:1,2:2};class Ug{constructor(a){this._correctEvent=a.checkCorrectEvent}startMove(a){let d=_.mouseButton(a);this._eventButton=d}endMove(a){delete this._eventButton}isValidStartEvent(a){return this._correctEvent(a)}isValidMoveEvent(a){return!function(d,m){let g=K1[m];return d.buttons===void 0||(d.buttons&g)!==g}(a,this._eventButton)}isValidEndEvent(a){return _.mouseButton(a)===this._eventButton}}class X1{constructor(){this._firstTouch=void 0}_isOneFingerTouch(a){return a.targetTouches.length===1}_isSameTouchEvent(a){return a.targetTouches[0].identifier===this._firstTouch}startMove(a){this._firstTouch=a.targetTouches[0].identifier}endMove(a){delete this._firstTouch}isValidStartEvent(a){return this._isOneFingerTouch(a)}isValidMoveEvent(a){return this._isOneFingerTouch(a)&&this._isSameTouchEvent(a)}isValidEndEvent(a){return this._isOneFingerTouch(a)&&this._isSameTouchEvent(a)}}let Vg=x=>{x.mousedown=x.dragStart,x.mousemoveWindow=x.dragMove,x.mouseup=x.dragEnd,x.contextmenu=a=>{a.preventDefault()}},Q1=({enable:x,clickTolerance:a,bearingDegreesPerPixelMoved:d=.8})=>{let m=new Ug({checkCorrectEvent:g=>_.mouseButton(g)===0&&g.ctrlKey||_.mouseButton(g)===2});return new su({clickTolerance:a,move:(g,b)=>({bearingDelta:(b.x-g.x)*d}),moveStateManager:m,enable:x,assignEvents:Vg})},J1=({enable:x,clickTolerance:a,pitchDegreesPerPixelMoved:d=-.5})=>{let m=new Ug({checkCorrectEvent:g=>_.mouseButton(g)===0&&g.ctrlKey||_.mouseButton(g)===2});return new su({clickTolerance:a,move:(g,b)=>({pitchDelta:(b.y-g.y)*d}),moveStateManager:m,enable:x,assignEvents:Vg})};class Jc{constructor(a,d){this._clickTolerance=a.clickTolerance||1,this._map=d,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new o.P(0,0)}_shouldBePrevented(a){return a<(this._map.cooperativeGestures.isEnabled()?2:1)}touchstart(a,d,m){return this._calculateTransform(a,d,m)}touchmove(a,d,m){if(this._active){if(!this._shouldBePrevented(m.length))return a.preventDefault(),this._calculateTransform(a,d,m);this._map.cooperativeGestures.notifyGestureBlocked("touch_pan",a)}}touchend(a,d,m){this._calculateTransform(a,d,m),this._active&&this._shouldBePrevented(m.length)&&this.reset()}touchcancel(){this.reset()}_calculateTransform(a,d,m){m.length>0&&(this._active=!0);let g=Ph(m,d),b=new o.P(0,0),C=new o.P(0,0),P=0;for(let z in g){let U=g[z],V=this._touches[z];V&&(b._add(U),C._add(U.sub(V)),P++,g[z]=U)}if(this._touches=g,this._shouldBePrevented(P)||!C.mag())return;let O=C.div(P);return this._sum._add(O),this._sum.mag()<this._clickTolerance?void 0:{around:b.div(P),panDelta:O}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class $g{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}touchstart(a,d,m){this._firstTwoTouches||m.length<2||(this._firstTwoTouches=[m[0].identifier,m[1].identifier],this._start([d[0],d[1]]))}touchmove(a,d,m){if(!this._firstTwoTouches)return;a.preventDefault();let[g,b]=this._firstTwoTouches,C=Oh(m,d,g),P=Oh(m,d,b);if(!C||!P)return;let O=this._aroundCenter?null:C.add(P).div(2);return this._move([C,P],O,a)}touchend(a,d,m){if(!this._firstTwoTouches)return;let[g,b]=this._firstTwoTouches,C=Oh(m,d,g),P=Oh(m,d,b);C&&P||(this._active&&_.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(a){this._enabled=!0,this._aroundCenter=!!a&&a.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}}function Oh(x,a,d){for(let m=0;m<x.length;m++)if(x[m].identifier===d)return a[m]}function e_(x,a){return Math.log(x/a)/Math.LN2}class t_ extends $g{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(a){this._startDistance=this._distance=a[0].dist(a[1])}_move(a,d){let m=this._distance;if(this._distance=a[0].dist(a[1]),this._active||!(Math.abs(e_(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:e_(this._distance,m),pinchAround:d}}}function r_(x,a){return 180*x.angleWith(a)/Math.PI}class n_ extends $g{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(a){this._startVector=this._vector=a[0].sub(a[1]),this._minDiameter=a[0].dist(a[1])}_move(a,d,m){let g=this._vector;if(this._vector=a[0].sub(a[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:r_(this._vector,g),pinchAround:d}}_isBelowThreshold(a){this._minDiameter=Math.min(this._minDiameter,a.mag());let d=25/(Math.PI*this._minDiameter)*360,m=r_(a,this._startVector);return Math.abs(m)<d}}function Hg(x){return Math.abs(x.y)>Math.abs(x.x)}class Ip extends $g{constructor(a){super(),this._currentTouchCount=0,this._map=a}reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}touchstart(a,d,m){super.touchstart(a,d,m),this._currentTouchCount=m.length}_start(a){this._lastPoints=a,Hg(a[0].sub(a[1]))&&(this._valid=!1)}_move(a,d,m){if(this._map.cooperativeGestures.isEnabled()&&this._currentTouchCount<3)return;let g=a[0].sub(this._lastPoints[0]),b=a[1].sub(this._lastPoints[1]);return this._valid=this.gestureBeginsVertically(g,b,m.timeStamp),this._valid?(this._lastPoints=a,this._active=!0,{pitchDelta:(g.y+b.y)/2*-.5}):void 0}gestureBeginsVertically(a,d,m){if(this._valid!==void 0)return this._valid;let g=a.mag()>=2,b=d.mag()>=2;if(!g&&!b)return;if(!g||!b)return this._firstMove===void 0&&(this._firstMove=m),m-this._firstMove<100&&void 0;let C=a.y>0==d.y>0;return Hg(a)&&Hg(d)&&C}}let CI={panStep:100,bearingStep:15,pitchStep:10};class ss{constructor(a){this._tr=new Hs(a);let d=CI;this._panStep=d.panStep,this._bearingStep=d.bearingStep,this._pitchStep=d.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(a){if(a.altKey||a.ctrlKey||a.metaKey)return;let d=0,m=0,g=0,b=0,C=0;switch(a.keyCode){case 61:case 107:case 171:case 187:d=1;break;case 189:case 109:case 173:d=-1;break;case 37:a.shiftKey?m=-1:(a.preventDefault(),b=-1);break;case 39:a.shiftKey?m=1:(a.preventDefault(),b=1);break;case 38:a.shiftKey?g=1:(a.preventDefault(),C=-1);break;case 40:a.shiftKey?g=-1:(a.preventDefault(),C=1);break;default:return;}return this._rotationDisabled&&(m=0,g=0),{cameraAnimation:P=>{let O=this._tr;P.easeTo({duration:300,easeId:"keyboardHandler",easing:yl,zoom:d?Math.round(O.zoom)+d*(a.shiftKey?2:1):O.zoom,bearing:O.bearing+m*this._bearingStep,pitch:O.pitch+g*this._pitchStep,offset:[-b*this._panStep,-C*this._panStep],center:O.center},{originalEvent:a})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function yl(x){return x*(2-x)}let i_=4.000244140625;class Ws{constructor(a,d){this._onTimeout=m=>{this._type="wheel",this._delta-=this._lastValue,this._active||this._start(m)},this._map=a,this._tr=new Hs(a),this._triggerRenderFrame=d,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222}setZoomRate(a){this._defaultZoomRate=a}setWheelZoomRate(a){this._wheelZoomRate=a}isEnabled(){return!!this._enabled}isActive(){return!!this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(a){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!a&&a.around==="center")}disable(){this.isEnabled()&&(this._enabled=!1)}_shouldBePrevented(a){return!!this._map.cooperativeGestures.isEnabled()&&!(a.ctrlKey||this._map.cooperativeGestures.isBypassed(a))}wheel(a){if(!this.isEnabled())return;if(this._shouldBePrevented(a))return void this._map.cooperativeGestures.notifyGestureBlocked("wheel_zoom",a);let d=a.deltaMode===WheelEvent.DOM_DELTA_LINE?40*a.deltaY:a.deltaY,m=y.now(),g=m-(this._lastWheelEventTime||0);this._lastWheelEventTime=m,d!==0&&d%i_==0?this._type="wheel":d!==0&&Math.abs(d)<4?this._type="trackpad":g>400?(this._type=null,this._lastValue=d,this._timeout=setTimeout(this._onTimeout,40,a)):this._type||(this._type=Math.abs(g*d)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,d+=this._lastValue)),a.shiftKey&&d&&(d/=4),this._type&&(this._lastWheelEvent=a,this._delta-=d,this._active||this._start(a)),a.preventDefault()}_start(a){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);let d=_.mousePos(this._map.getCanvas(),a),m=this._tr;this._around=d.y>m.transform.height/2-m.transform.getHorizon()?o.N.convert(this._aroundCenter?m.center:m.unproject(d)):o.N.convert(m.center),this._aroundPoint=m.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;let a=this._tr.transform;if(this._delta!==0){let O=this._type==="wheel"&&Math.abs(this._delta)>i_?this._wheelZoomRate:this._defaultZoomRate,z=2/(1+Math.exp(-Math.abs(this._delta*O)));this._delta<0&&z!==0&&(z=1/z);let U=typeof this._targetZoom=="number"?a.zoomScale(this._targetZoom):a.scale;this._targetZoom=Math.min(a.maxZoom,Math.max(a.minZoom,a.scaleZoom(U*z))),this._type==="wheel"&&(this._startZoom=a.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}let d=typeof this._targetZoom=="number"?this._targetZoom:a.zoom,m=this._startZoom,g=this._easing,b,C=!1,P=y.now()-this._lastWheelEventTime;if(this._type==="wheel"&&m&&g&&P){let O=Math.min(P/200,1),z=g(O);b=o.y.number(m,d,z),O<1?this._frameId||(this._frameId=!0):C=!0}else b=d,C=!0;return this._active=!0,C&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!C,zoomDelta:b-a.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}_smoothOutEasing(a){let d=o.b9;if(this._prevEase){let m=this._prevEase,g=(y.now()-m.start)/m.duration,b=m.easing(g+.01)-m.easing(g),C=.27/Math.sqrt(b*b+1e-4)*.01,P=Math.sqrt(.0729-C*C);d=o.b8(C,P,.25,1)}return this._prevEase={start:y.now(),duration:a,easing:d},d}reset(){this._active=!1,this._zooming=!1,delete this._targetZoom,this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout)}}class ed{constructor(a,d){this._clickZoom=a,this._tapZoom=d}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class hN{constructor(a){this._tr=new Hs(a),this.reset()}reset(){this._active=!1}dblclick(a,d){return a.preventDefault(),{cameraAnimation:m=>{m.easeTo({duration:300,zoom:this._tr.zoom+(a.shiftKey?-1:1),around:this._tr.unproject(d)},{originalEvent:a})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class mN{constructor(){this._tap=new Bg({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,delete this._tapPoint,this._tap.reset()}touchstart(a,d,m){if(!this._swipePoint)if(this._tapTime){let g=d[0],b=a.timeStamp-this._tapTime<500,C=this._tapPoint.dist(g)<30;b&&C?m.length>0&&(this._swipePoint=g,this._swipeTouch=m[0].identifier):this.reset()}else this._tap.touchstart(a,d,m)}touchmove(a,d,m){if(this._tapTime){if(this._swipePoint){if(m[0].identifier!==this._swipeTouch)return;let g=d[0],b=g.y-this._swipePoint.y;return this._swipePoint=g,a.preventDefault(),this._active=!0,{zoomDelta:b/128}}}else this._tap.touchmove(a,d,m)}touchend(a,d,m){if(this._tapTime)this._swipePoint&&m.length===0&&this.reset();else{let g=this._tap.touchend(a,d,m);g&&(this._tapTime=a.timeStamp,this._tapPoint=g)}}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class AI{constructor(a,d,m){this._el=a,this._mousePan=d,this._touchPan=m}enable(a){this._inertiaOptions=a||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class PI{constructor(a,d,m){this._pitchWithRotate=a.pitchWithRotate,this._mouseRotate=d,this._mousePitch=m}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class o_{constructor(a,d,m,g){this._el=a,this._touchZoom=d,this._touchRotate=m,this._tapDragZoom=g,this._rotationDisabled=!1,this._enabled=!0}enable(a){this._touchZoom.enable(a),this._rotationDisabled||this._touchRotate.enable(a),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}class Ep{constructor(a,d){this._bypassKey=navigator.userAgent.indexOf("Mac")!==-1?"metaKey":"ctrlKey",this._map=a,this._options=d,this._enabled=!1}isActive(){return!1}reset(){}_setupUI(){if(this._container)return;let a=this._map.getCanvasContainer();a.classList.add("maplibregl-cooperative-gestures"),this._container=_.create("div","maplibregl-cooperative-gesture-screen",a);let d=this._map._getUIString("CooperativeGesturesHandler.WindowsHelpText");this._bypassKey==="metaKey"&&(d=this._map._getUIString("CooperativeGesturesHandler.MacHelpText"));let m=this._map._getUIString("CooperativeGesturesHandler.MobileHelpText"),g=document.createElement("div");g.className="maplibregl-desktop-message",g.textContent=d,this._container.appendChild(g);let b=document.createElement("div");b.className="maplibregl-mobile-message",b.textContent=m,this._container.appendChild(b),this._container.setAttribute("aria-hidden","true")}_destroyUI(){this._container&&(_.remove(this._container),this._map.getCanvasContainer().classList.remove("maplibregl-cooperative-gestures")),delete this._container}enable(){this._setupUI(),this._enabled=!0}disable(){this._enabled=!1,this._destroyUI()}isEnabled(){return this._enabled}isBypassed(a){return a[this._bypassKey]}notifyGestureBlocked(a,d){this._enabled&&(this._map.fire(new o.k("cooperativegestureprevented",{gestureType:a,originalEvent:d})),this._container.classList.add("maplibregl-show"),setTimeout(()=>{this._container.classList.remove("maplibregl-show")},100))}}let ls=x=>x.zoom||x.drag||x.pitch||x.rotate;class Vt extends o.k{}function Wg(x){return x.panDelta&&x.panDelta.mag()||x.zoomDelta||x.bearingDelta||x.pitchDelta}class a_{constructor(a,d){this.handleWindowEvent=g=>{this.handleEvent(g,`${g.type}Window`)},this.handleEvent=(g,b)=>{if(g.type==="blur")return void this.stop(!0);this._updatingCamera=!0;let C=g.type==="renderFrame"?void 0:g,P={needsRenderFrame:!1},O={},z={},U=g.touches,V=U?this._getMapTouches(U):void 0,K=V?_.touchPos(this._map.getCanvas(),V):_.mousePos(this._map.getCanvas(),g);for(let{handlerName:ce,handler:pe,allowed:me}of this._handlers){if(!pe.isEnabled())continue;let ye;this._blockedByActive(z,me,ce)?pe.reset():pe[b||g.type]&&(ye=pe[b||g.type](g,K,V),this.mergeHandlerResult(P,O,ye,ce,C),ye&&ye.needsRenderFrame&&this._triggerRenderFrame()),(ye||pe.isActive())&&(z[ce]=pe)}let te={};for(let ce in this._previousActiveHandlers)z[ce]||(te[ce]=C);this._previousActiveHandlers=z,(Object.keys(te).length||Wg(P))&&(this._changes.push([P,O,te]),this._triggerRenderFrame()),(Object.keys(z).length||Wg(P))&&this._map._stop(!0),this._updatingCamera=!1;let{cameraAnimation:oe}=P;oe&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],oe(this._map))},this._map=a,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new Y1(a),this._bearingSnap=d.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(d);let m=this._el;this._listeners=[[m,"touchstart",{passive:!0}],[m,"touchmove",{passive:!1}],[m,"touchend",void 0],[m,"touchcancel",void 0],[m,"mousedown",void 0],[m,"mousemove",void 0],[m,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[m,"mouseover",void 0],[m,"mouseout",void 0],[m,"dblclick",void 0],[m,"click",void 0],[m,"keydown",{capture:!1}],[m,"keyup",void 0],[m,"wheel",{passive:!1}],[m,"contextmenu",void 0],[window,"blur",void 0]];for(let[g,b,C]of this._listeners)_.addEventListener(g,b,g===document?this.handleWindowEvent:this.handleEvent,C)}destroy(){for(let[a,d,m]of this._listeners)_.removeEventListener(a,d,a===document?this.handleWindowEvent:this.handleEvent,m)}_addDefaultHandlers(a){let d=this._map,m=d.getCanvasContainer();this._add("mapEvent",new MI(d,a));let g=d.boxZoom=new Fa(d,a);this._add("boxZoom",g),a.interactive&&a.boxZoom&&g.enable();let b=d.cooperativeGestures=new Ep(d,a.cooperativeGestures);this._add("cooperativeGestures",b),a.cooperativeGestures&&b.enable();let C=new Sp(d),P=new hN(d);d.doubleClickZoom=new ed(P,C),this._add("tapZoom",C),this._add("clickZoom",P),a.interactive&&a.doubleClickZoom&&d.doubleClickZoom.enable();let O=new mN;this._add("tapDragZoom",O);let z=d.touchPitch=new Ip(d);this._add("touchPitch",z),a.interactive&&a.touchPitch&&d.touchPitch.enable(a.touchPitch);let U=Q1(a),V=J1(a);d.dragRotate=new PI(a,U,V),this._add("mouseRotate",U,["mousePitch"]),this._add("mousePitch",V,["mouseRotate"]),a.interactive&&a.dragRotate&&d.dragRotate.enable();let K=(({enable:ye,clickTolerance:se})=>{let Ie=new Ug({checkCorrectEvent:Me=>_.mouseButton(Me)===0&&!Me.ctrlKey});return new su({clickTolerance:se,move:(Me,Le)=>({around:Le,panDelta:Le.sub(Me)}),activateOnStart:!0,moveStateManager:Ie,enable:ye,assignEvents:Vg})})(a),te=new Jc(a,d);d.dragPan=new AI(m,K,te),this._add("mousePan",K),this._add("touchPan",te,["touchZoom","touchRotate"]),a.interactive&&a.dragPan&&d.dragPan.enable(a.dragPan);let oe=new n_,ce=new t_;d.touchZoomRotate=new o_(m,ce,oe,O),this._add("touchRotate",oe,["touchPan","touchZoom"]),this._add("touchZoom",ce,["touchPan","touchRotate"]),a.interactive&&a.touchZoomRotate&&d.touchZoomRotate.enable(a.touchZoomRotate);let pe=d.scrollZoom=new Ws(d,()=>this._triggerRenderFrame());this._add("scrollZoom",pe,["mousePan"]),a.interactive&&a.scrollZoom&&d.scrollZoom.enable(a.scrollZoom);let me=d.keyboard=new ss(d);this._add("keyboard",me),a.interactive&&a.keyboard&&d.keyboard.enable(),this._add("blockableMapEvent",new wi(d))}_add(a,d,m){this._handlers.push({handlerName:a,handler:d,allowed:m}),this._handlersById[a]=d}stop(a){if(!this._updatingCamera){for(let{handler:d}of this._handlers)d.reset();this._inertia.clear(),this._fireEvents({},{},a),this._changes=[]}}isActive(){for(let{handler:a}of this._handlers)if(a.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!ls(this._eventsInProgress)||this.isZooming()}_blockedByActive(a,d,m){for(let g in a)if(g!==m&&(!d||d.indexOf(g)<0))return!0;return!1}_getMapTouches(a){let d=[];for(let m of a)this._el.contains(m.target)&&d.push(m);return d}mergeHandlerResult(a,d,m,g,b){if(!m)return;o.e(a,m);let C={handlerName:g,originalEvent:m.originalEvent||b};m.zoomDelta!==void 0&&(d.zoom=C),m.panDelta!==void 0&&(d.drag=C),m.pitchDelta!==void 0&&(d.pitch=C),m.bearingDelta!==void 0&&(d.rotate=C)}_applyChanges(){let a={},d={},m={};for(let[g,b,C]of this._changes)g.panDelta&&(a.panDelta=(a.panDelta||new o.P(0,0))._add(g.panDelta)),g.zoomDelta&&(a.zoomDelta=(a.zoomDelta||0)+g.zoomDelta),g.bearingDelta&&(a.bearingDelta=(a.bearingDelta||0)+g.bearingDelta),g.pitchDelta&&(a.pitchDelta=(a.pitchDelta||0)+g.pitchDelta),g.around!==void 0&&(a.around=g.around),g.pinchAround!==void 0&&(a.pinchAround=g.pinchAround),g.noInertia&&(a.noInertia=g.noInertia),o.e(d,b),o.e(m,C);this._updateMapTransform(a,d,m),this._changes=[]}_updateMapTransform(a,d,m){let g=this._map,b=g._getTransformForUpdate(),C=g.terrain;if(!(Wg(a)||C&&this._terrainMovement))return this._fireEvents(d,m,!0);let{panDelta:P,zoomDelta:O,bearingDelta:z,pitchDelta:U,around:V,pinchAround:K}=a;K!==void 0&&(V=K),g._stop(!0),V=V||g.transform.centerPoint;let te=b.pointLocation(P?V.sub(P):V);z&&(b.bearing+=z),U&&(b.pitch+=U),O&&(b.zoom+=O),C?this._terrainMovement||!d.drag&&!d.zoom?d.drag&&this._terrainMovement?b.center=b.pointLocation(b.centerPoint.sub(P)):b.setLocationAtPoint(te,V):(this._terrainMovement=!0,this._map._elevationFreeze=!0,b.setLocationAtPoint(te,V)):b.setLocationAtPoint(te,V),g._applyUpdatedTransform(b),this._map._update(),a.noInertia||this._inertia.record(a),this._fireEvents(d,m,!0)}_fireEvents(a,d,m){let g=ls(this._eventsInProgress),b=ls(a),C={};for(let V in a){let{originalEvent:K}=a[V];this._eventsInProgress[V]||(C[`${V}start`]=K),this._eventsInProgress[V]=a[V]}!g&&b&&this._fireEvent("movestart",b.originalEvent);for(let V in C)this._fireEvent(V,C[V]);b&&this._fireEvent("move",b.originalEvent);for(let V in a){let{originalEvent:K}=a[V];this._fireEvent(V,K)}let P={},O;for(let V in this._eventsInProgress){let{handlerName:K,originalEvent:te}=this._eventsInProgress[V];this._handlersById[K].isActive()||(delete this._eventsInProgress[V],O=d[K]||te,P[`${V}end`]=O)}for(let V in P)this._fireEvent(V,P[V]);let z=ls(this._eventsInProgress),U=(g||b)&&!z;if(U&&this._terrainMovement){this._map._elevationFreeze=!1,this._terrainMovement=!1;let V=this._map._getTransformForUpdate();V.recalculateZoom(this._map.terrain),this._map._applyUpdatedTransform(V)}if(m&&U){this._updatingCamera=!0;let V=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),K=te=>te!==0&&-this._bearingSnap<te&&te<this._bearingSnap;!V||!V.essential&&y.prefersReducedMotion?(this._map.fire(new o.k("moveend",{originalEvent:O})),K(this._map.getBearing())&&this._map.resetNorth()):(K(V.bearing||this._map.getBearing())&&(V.bearing=0),V.freezeElevation=!0,this._map.easeTo(V,{originalEvent:O})),this._updatingCamera=!1}}_fireEvent(a,d){this._map.fire(new o.k(a,d?{originalEvent:d}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(a=>{delete this._frameId,this.handleEvent(new Vt("renderFrame",{timeStamp:a})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}class OI extends o.E{constructor(a,d){super(),this._renderFrameCallback=()=>{let m=Math.min((y.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(m)),m<1&&this._easeFrameId?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},this._moving=!1,this._zooming=!1,this.transform=a,this._bearingSnap=d.bearingSnap,this.on("moveend",()=>{delete this._requestedCameraState})}getCenter(){return new o.N(this.transform.center.lng,this.transform.center.lat)}setCenter(a,d){return this.jumpTo({center:a},d)}panBy(a,d,m){return a=o.P.convert(a).mult(-1),this.panTo(this.transform.center,o.e({offset:a},d),m)}panTo(a,d,m){return this.easeTo(o.e({center:a},d),m)}getZoom(){return this.transform.zoom}setZoom(a,d){return this.jumpTo({zoom:a},d),this}zoomTo(a,d,m){return this.easeTo(o.e({zoom:a},d),m)}zoomIn(a,d){return this.zoomTo(this.getZoom()+1,a,d),this}zoomOut(a,d){return this.zoomTo(this.getZoom()-1,a,d),this}getBearing(){return this.transform.bearing}setBearing(a,d){return this.jumpTo({bearing:a},d),this}getPadding(){return this.transform.padding}setPadding(a,d){return this.jumpTo({padding:a},d),this}rotateTo(a,d,m){return this.easeTo(o.e({bearing:a},d),m)}resetNorth(a,d){return this.rotateTo(0,o.e({duration:1e3},a),d),this}resetNorthPitch(a,d){return this.easeTo(o.e({bearing:0,pitch:0,duration:1e3},a),d),this}snapToNorth(a,d){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(a,d):this}getPitch(){return this.transform.pitch}setPitch(a,d){return this.jumpTo({pitch:a},d),this}cameraForBounds(a,d){a=we.convert(a).adjustAntiMeridian();let m=d&&d.bearing||0;return this._cameraForBoxAndBearing(a.getNorthWest(),a.getSouthEast(),m,d)}_cameraForBoxAndBearing(a,d,m,g){let b={top:0,bottom:0,right:0,left:0};if(typeof(g=o.e({padding:b,offset:[0,0],maxZoom:this.transform.maxZoom},g)).padding=="number"){let St=g.padding;g.padding={top:St,bottom:St,right:St,left:St}}g.padding=o.e(b,g.padding);let C=this.transform,P=C.padding,O=new we(a,d),z=C.project(O.getNorthWest()),U=C.project(O.getNorthEast()),V=C.project(O.getSouthEast()),K=C.project(O.getSouthWest()),te=o.ba(-m),oe=z.rotate(te),ce=U.rotate(te),pe=V.rotate(te),me=K.rotate(te),ye=new o.P(Math.max(oe.x,ce.x,me.x,pe.x),Math.max(oe.y,ce.y,me.y,pe.y)),se=new o.P(Math.min(oe.x,ce.x,me.x,pe.x),Math.min(oe.y,ce.y,me.y,pe.y)),Ie=ye.sub(se),Me=(C.width-(P.left+P.right+g.padding.left+g.padding.right))/Ie.x,Le=(C.height-(P.top+P.bottom+g.padding.top+g.padding.bottom))/Ie.y;if(Le<0||Me<0)return void o.w("Map cannot fit within canvas with the given bounds, padding, and/or offset.");let rt=Math.min(C.scaleZoom(C.scale*Math.min(Me,Le)),g.maxZoom),pt=o.P.convert(g.offset),At=new o.P((g.padding.left-g.padding.right)/2,(g.padding.top-g.padding.bottom)/2).rotate(o.ba(m)),Bt=pt.add(At).mult(C.scale/C.zoomScale(rt));return{center:C.unproject(z.add(V).div(2).sub(Bt)),zoom:rt,bearing:m}}fitBounds(a,d,m){return this._fitInternal(this.cameraForBounds(a,d),d,m)}fitScreenCoordinates(a,d,m,g,b){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(o.P.convert(a)),this.transform.pointLocation(o.P.convert(d)),m,g),g,b)}_fitInternal(a,d,m){return a?(delete(d=o.e(a,d)).padding,d.linear?this.easeTo(d,m):this.flyTo(d,m)):this}jumpTo(a,d){this.stop();let m=this._getTransformForUpdate(),g=!1,b=!1,C=!1;return"zoom"in a&&m.zoom!==+a.zoom&&(g=!0,m.zoom=+a.zoom),a.center!==void 0&&(m.center=o.N.convert(a.center)),"bearing"in a&&m.bearing!==+a.bearing&&(b=!0,m.bearing=+a.bearing),"pitch"in a&&m.pitch!==+a.pitch&&(C=!0,m.pitch=+a.pitch),a.padding==null||m.isPaddingEqual(a.padding)||(m.padding=a.padding),this._applyUpdatedTransform(m),this.fire(new o.k("movestart",d)).fire(new o.k("move",d)),g&&this.fire(new o.k("zoomstart",d)).fire(new o.k("zoom",d)).fire(new o.k("zoomend",d)),b&&this.fire(new o.k("rotatestart",d)).fire(new o.k("rotate",d)).fire(new o.k("rotateend",d)),C&&this.fire(new o.k("pitchstart",d)).fire(new o.k("pitch",d)).fire(new o.k("pitchend",d)),this.fire(new o.k("moveend",d))}calculateCameraOptionsFromTo(a,d,m,g=0){let b=o.Z.fromLngLat(a,d),C=o.Z.fromLngLat(m,g),P=C.x-b.x,O=C.y-b.y,z=C.z-b.z,U=Math.hypot(P,O,z);if(U===0)throw new Error("Can't calculate camera options with same From and To");let V=Math.hypot(P,O),K=this.transform.scaleZoom(this.transform.cameraToCenterDistance/U/this.transform.tileSize),te=180*Math.atan2(P,-O)/Math.PI,oe=180*Math.acos(V/U)/Math.PI;return oe=z<0?90-oe:90+oe,{center:C.toLngLat(),zoom:K,pitch:oe,bearing:te}}easeTo(a,d){var m;this._stop(!1,a.easeId),((a=o.e({offset:[0,0],duration:500,easing:o.b9},a)).animate===!1||!a.essential&&y.prefersReducedMotion)&&(a.duration=0);let g=this._getTransformForUpdate(),b=g.zoom,C=g.bearing,P=g.pitch,O=g.padding,z="bearing"in a?this._normalizeBearing(a.bearing,C):C,U="pitch"in a?+a.pitch:P,V="padding"in a?a.padding:g.padding,K=o.P.convert(a.offset),te=g.centerPoint.add(K),oe=g.pointLocation(te),{center:ce,zoom:pe}=g.getConstrained(o.N.convert(a.center||oe),(m=a.zoom)!==null&&m!==void 0?m:b);this._normalizeCenter(ce,g);let me=g.project(oe),ye=g.project(ce).sub(me),se=g.zoomScale(pe-b),Ie,Me;a.around&&(Ie=o.N.convert(a.around),Me=g.locationPoint(Ie));let Le={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||pe!==b,this._rotating=this._rotating||C!==z,this._pitching=this._pitching||U!==P,this._padding=!g.isPaddingEqual(V),this._easeId=a.easeId,this._prepareEase(d,a.noMoveStart,Le),this.terrain&&this._prepareElevation(ce),this._ease(rt=>{if(this._zooming&&(g.zoom=o.y.number(b,pe,rt)),this._rotating&&(g.bearing=o.y.number(C,z,rt)),this._pitching&&(g.pitch=o.y.number(P,U,rt)),this._padding&&(g.interpolatePadding(O,V,rt),te=g.centerPoint.add(K)),this.terrain&&!a.freezeElevation&&this._updateElevation(rt),Ie)g.setLocationAtPoint(Ie,Me);else{let pt=g.zoomScale(g.zoom-b),At=pe>b?Math.min(2,se):Math.max(.5,se),Bt=Math.pow(At,1-rt),St=g.unproject(me.add(ye.mult(rt*Bt)).mult(pt));g.setLocationAtPoint(g.renderWorldCopies?St.wrap():St,te)}this._applyUpdatedTransform(g),this._fireMoveEvents(d)},rt=>{this.terrain&&a.freezeElevation&&this._finalizeElevation(),this._afterEase(d,rt)},a),this}_prepareEase(a,d,m={}){this._moving=!0,d||m.moving||this.fire(new o.k("movestart",a)),this._zooming&&!m.zooming&&this.fire(new o.k("zoomstart",a)),this._rotating&&!m.rotating&&this.fire(new o.k("rotatestart",a)),this._pitching&&!m.pitching&&this.fire(new o.k("pitchstart",a))}_prepareElevation(a){this._elevationCenter=a,this._elevationStart=this.transform.elevation,this._elevationTarget=this.terrain.getElevationForLngLatZoom(a,this.transform.tileZoom),this._elevationFreeze=!0}_updateElevation(a){this.transform.minElevationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);let d=this.terrain.getElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);if(a<1&&d!==this._elevationTarget){let m=this._elevationTarget-this._elevationStart;this._elevationStart+=a*(m-(d-(m*a+this._elevationStart))/(1-a)),this._elevationTarget=d}this.transform.elevation=o.y.number(this._elevationStart,this._elevationTarget,a)}_finalizeElevation(){this._elevationFreeze=!1,this.transform.recalculateZoom(this.terrain)}_getTransformForUpdate(){return this.transformCameraUpdate||this.terrain?(this._requestedCameraState||(this._requestedCameraState=this.transform.clone()),this._requestedCameraState):this.transform}_elevateCameraIfInsideTerrain(a){let d=a.getCameraPosition(),m=this.terrain.getElevationForLngLatZoom(d.lngLat,a.zoom);if(d.altitude<m){let g=this.calculateCameraOptionsFromTo(d.lngLat,m,a.center,a.elevation);return{pitch:g.pitch,zoom:g.zoom}}return{}}_applyUpdatedTransform(a){let d=[];if(this.terrain&&d.push(g=>this._elevateCameraIfInsideTerrain(g)),this.transformCameraUpdate&&d.push(g=>this.transformCameraUpdate(g)),!d.length)return;let m=a.clone();for(let g of d){let b=m.clone(),{center:C,zoom:P,pitch:O,bearing:z,elevation:U}=g(b);C&&(b.center=C),P!==void 0&&(b.zoom=P),O!==void 0&&(b.pitch=O),z!==void 0&&(b.bearing=z),U!==void 0&&(b.elevation=U),m.apply(b)}this.transform.apply(m)}_fireMoveEvents(a){this.fire(new o.k("move",a)),this._zooming&&this.fire(new o.k("zoom",a)),this._rotating&&this.fire(new o.k("rotate",a)),this._pitching&&this.fire(new o.k("pitch",a))}_afterEase(a,d){if(this._easeId&&d&&this._easeId===d)return;delete this._easeId;let m=this._zooming,g=this._rotating,b=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,m&&this.fire(new o.k("zoomend",a)),g&&this.fire(new o.k("rotateend",a)),b&&this.fire(new o.k("pitchend",a)),this.fire(new o.k("moveend",a))}flyTo(a,d){var m;if(!a.essential&&y.prefersReducedMotion){let qt=o.M(a,["center","zoom","bearing","pitch","around"]);return this.jumpTo(qt,d)}this.stop(),a=o.e({offset:[0,0],speed:1.2,curve:1.42,easing:o.b9},a);let g=this._getTransformForUpdate(),b=g.zoom,C=g.bearing,P=g.pitch,O=g.padding,z="bearing"in a?this._normalizeBearing(a.bearing,C):C,U="pitch"in a?+a.pitch:P,V="padding"in a?a.padding:g.padding,K=o.P.convert(a.offset),te=g.centerPoint.add(K),oe=g.pointLocation(te),{center:ce,zoom:pe}=g.getConstrained(o.N.convert(a.center||oe),(m=a.zoom)!==null&&m!==void 0?m:b);this._normalizeCenter(ce,g);let me=g.zoomScale(pe-b),ye=g.project(oe),se=g.project(ce).sub(ye),Ie=a.curve,Me=Math.max(g.width,g.height),Le=Me/me,rt=se.mag();if("minZoom"in a){let qt=o.ac(Math.min(a.minZoom,b,pe),g.minZoom,g.maxZoom),yr=Me/g.zoomScale(qt-b);Ie=Math.sqrt(yr/rt*2)}let pt=Ie*Ie;function At(qt){let yr=(Le*Le-Me*Me+(qt?-1:1)*pt*pt*rt*rt)/(2*(qt?Le:Me)*pt*rt);return Math.log(Math.sqrt(yr*yr+1)-yr)}function Bt(qt){return(Math.exp(qt)-Math.exp(-qt))/2}function St(qt){return(Math.exp(qt)+Math.exp(-qt))/2}let xt=At(!1),Xt=function(qt){return St(xt)/St(xt+Ie*qt)},br=function(qt){return Me*((St(xt)*(Bt(yr=xt+Ie*qt)/St(yr))-Bt(xt))/pt)/rt;var yr},It=(At(!0)-xt)/Ie;if(Math.abs(rt)<1e-6||!isFinite(It)){if(Math.abs(Me-Le)<1e-6)return this.easeTo(a,d);let qt=Le<Me?-1:1;It=Math.abs(Math.log(Le/Me))/Ie,br=()=>0,Xt=yr=>Math.exp(qt*Ie*yr)}return a.duration="duration"in a?+a.duration:1e3*It/("screenSpeed"in a?+a.screenSpeed/Ie:+a.speed),a.maxDuration&&a.duration>a.maxDuration&&(a.duration=0),this._zooming=!0,this._rotating=C!==z,this._pitching=U!==P,this._padding=!g.isPaddingEqual(V),this._prepareEase(d,!1),this.terrain&&this._prepareElevation(ce),this._ease(qt=>{let yr=qt*It,Xn=1/Xt(yr);g.zoom=qt===1?pe:b+g.scaleZoom(Xn),this._rotating&&(g.bearing=o.y.number(C,z,qt)),this._pitching&&(g.pitch=o.y.number(P,U,qt)),this._padding&&(g.interpolatePadding(O,V,qt),te=g.centerPoint.add(K)),this.terrain&&!a.freezeElevation&&this._updateElevation(qt);let Dr=qt===1?ce:g.unproject(ye.add(se.mult(br(yr))).mult(Xn));g.setLocationAtPoint(g.renderWorldCopies?Dr.wrap():Dr,te),this._applyUpdatedTransform(g),this._fireMoveEvents(d)},()=>{this.terrain&&a.freezeElevation&&this._finalizeElevation(),this._afterEase(d)},a),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(a,d){var m;if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){let g=this._onEaseEnd;delete this._onEaseEnd,g.call(this,d)}return a||(m=this.handlers)===null||m===void 0||m.stop(!1),this}_ease(a,d,m){m.animate===!1||m.duration===0?(a(1),d()):(this._easeStart=y.now(),this._easeOptions=m,this._onEaseFrame=a,this._onEaseEnd=d,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_normalizeBearing(a,d){a=o.b3(a,-180,180);let m=Math.abs(a-d);return Math.abs(a-360-d)<m&&(a-=360),Math.abs(a+360-d)<m&&(a+=360),a}_normalizeCenter(a,d){if(!d.renderWorldCopies||d.lngRange)return;let m=a.lng-d.center.lng;a.lng+=m>180?-360:m<-180?360:0}queryTerrainElevation(a){return this.terrain?this.terrain.getElevationForLngLatZoom(o.N.convert(a),this.transform.tileZoom)-this.transform.elevation:null}}let Tp={compact:!0,customAttribution:"<a href=\"https://maplibre.org/\" target=\"_blank\">MapLibre</a>"};class Mp{constructor(a=Tp){this._toggleAttribution=()=>{this._container.classList.contains("maplibregl-compact")&&(this._container.classList.contains("maplibregl-compact-show")?(this._container.setAttribute("open",""),this._container.classList.remove("maplibregl-compact-show")):(this._container.classList.add("maplibregl-compact-show"),this._container.removeAttribute("open")))},this._updateData=d=>{!d||d.sourceDataType!=="metadata"&&d.sourceDataType!=="visibility"&&d.dataType!=="style"&&d.type!=="terrain"||this._updateAttributions()},this._updateCompact=()=>{this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact===!1?this._container.setAttribute("open",""):this._container.classList.contains("maplibregl-compact")||this._container.classList.contains("maplibregl-attrib-empty")||(this._container.setAttribute("open",""),this._container.classList.add("maplibregl-compact","maplibregl-compact-show")):(this._container.setAttribute("open",""),this._container.classList.contains("maplibregl-compact")&&this._container.classList.remove("maplibregl-compact","maplibregl-compact-show"))},this._updateCompactMinimize=()=>{this._container.classList.contains("maplibregl-compact")&&this._container.classList.contains("maplibregl-compact-show")&&this._container.classList.remove("maplibregl-compact-show")},this.options=a}getDefaultPosition(){return"bottom-right"}onAdd(a){return this._map=a,this._compact=this.options.compact,this._container=_.create("details","maplibregl-ctrl maplibregl-ctrl-attrib"),this._compactButton=_.create("summary","maplibregl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=_.create("div","maplibregl-ctrl-attrib-inner",this._container),this._updateAttributions(),this._updateCompact(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("terrain",this._updateData),this._map.on("resize",this._updateCompact),this._map.on("drag",this._updateCompactMinimize),this._container}onRemove(){_.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("terrain",this._updateData),this._map.off("resize",this._updateCompact),this._map.off("drag",this._updateCompactMinimize),this._map=void 0,this._compact=void 0,this._attribHTML=void 0}_setElementTitle(a,d){let m=this._map._getUIString(`AttributionControl.${d}`);a.title=m,a.setAttribute("aria-label",m)}_updateAttributions(){if(!this._map.style)return;let a=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?a=a.concat(this.options.customAttribution.map(g=>typeof g!="string"?"":g)):typeof this.options.customAttribution=="string"&&a.push(this.options.customAttribution)),this._map.style.stylesheet){let g=this._map.style.stylesheet;this.styleOwner=g.owner,this.styleId=g.id}let d=this._map.style.sourceCaches;for(let g in d){let b=d[g];if(b.used||b.usedForTerrain){let C=b.getSource();C.attribution&&a.indexOf(C.attribution)<0&&a.push(C.attribution)}}a=a.filter(g=>String(g).trim()),a.sort((g,b)=>g.length-b.length),a=a.filter((g,b)=>{for(let C=b+1;C<a.length;C++)if(a[C].indexOf(g)>=0)return!1;return!0});let m=a.join(" | ");m!==this._attribHTML&&(this._attribHTML=m,a.length?(this._innerContainer.innerHTML=m,this._container.classList.remove("maplibregl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty"),this._updateCompact(),this._editLink=null)}}class s_{constructor(a={}){this._updateCompact=()=>{let d=this._container.children;if(d.length){let m=d[0];this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact!==!1&&m.classList.add("maplibregl-compact"):m.classList.remove("maplibregl-compact")}},this.options=a}getDefaultPosition(){return"bottom-left"}onAdd(a){this._map=a,this._compact=this.options&&this.options.compact,this._container=_.create("div","maplibregl-ctrl");let d=_.create("a","maplibregl-ctrl-logo");return d.target="_blank",d.rel="noopener nofollow",d.href="https://maplibre.org/",d.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),d.setAttribute("rel","noopener nofollow"),this._container.appendChild(d),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){_.remove(this._container),this._map.off("resize",this._updateCompact),this._map=void 0,this._compact=void 0}}class Qr{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(a){let d=++this._id;return this._queue.push({callback:a,id:d,cancelled:!1}),d}remove(a){let d=this._currentlyRunning,m=d?this._queue.concat(d):this._queue;for(let g of m)if(g.id===a)return void(g.cancelled=!0)}run(a=0){if(this._currentlyRunning)throw new Error("Attempting to run(), but is already running.");let d=this._currentlyRunning=this._queue;this._queue=[];for(let m of d)if(!m.cancelled&&(m.callback(a),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}var l_=o.Y([{name:"a_pos3d",type:"Int16",components:3}]);class gN extends o.E{constructor(a){super(),this.sourceCache=a,this._tiles={},this._renderableTilesKeys=[],this._sourceTileCache={},this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.deltaZoom=1,a.usedForTerrain=!0,a.tileSize=this.tileSize*Vh(2,this.deltaZoom)}destruct(){this.sourceCache.usedForTerrain=!1,this.sourceCache.tileSize=null}update(a,d){this.sourceCache.update(a,d),this._renderableTilesKeys=[];let m={};for(let g of a.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,reparseOverscaled:!1,terrain:d}))m[g.key]=!0,this._renderableTilesKeys.push(g.key),this._tiles[g.key]||(g.posMatrix=new Float64Array(16),o.aP(g.posMatrix,0,o.X,0,o.X,0,1),this._tiles[g.key]=new gl(g,this.tileSize));for(let g in this._tiles)m[g]||delete this._tiles[g]}freeRtt(a){for(let d in this._tiles){let m=this._tiles[d];(!a||m.tileID.equals(a)||m.tileID.isChildOf(a)||a.isChildOf(m.tileID))&&(m.rtt=[])}}getRenderableTiles(){return this._renderableTilesKeys.map(a=>this.getTileByID(a))}getTileByID(a){return this._tiles[a]}getTerrainCoords(a){let d={};for(let m of this._renderableTilesKeys){let g=this._tiles[m].tileID;if(g.canonical.equals(a.canonical)){let b=a.clone();b.posMatrix=new Float64Array(16),o.aP(b.posMatrix,0,o.X,0,o.X,0,1),d[m]=b}else if(g.canonical.isChildOf(a.canonical)){let b=a.clone();b.posMatrix=new Float64Array(16);let C=g.canonical.z-a.canonical.z,P=g.canonical.x-(g.canonical.x>>C<<C),O=g.canonical.y-(g.canonical.y>>C<<C),z=o.X>>C;o.aP(b.posMatrix,0,z,0,z,0,1),o.J(b.posMatrix,b.posMatrix,[-P*z,-O*z,0]),d[m]=b}else if(a.canonical.isChildOf(g.canonical)){let b=a.clone();b.posMatrix=new Float64Array(16);let C=a.canonical.z-g.canonical.z,P=a.canonical.x-(a.canonical.x>>C<<C),O=a.canonical.y-(a.canonical.y>>C<<C),z=o.X>>C;o.aP(b.posMatrix,0,o.X,0,o.X,0,1),o.J(b.posMatrix,b.posMatrix,[P*z,O*z,0]),o.K(b.posMatrix,b.posMatrix,[1/Vh(2,C),1/Vh(2,C),0]),d[m]=b}}return d}getSourceTile(a,d){let m=this.sourceCache._source,g=a.overscaledZ-this.deltaZoom;if(g>m.maxzoom&&(g=m.maxzoom),g<m.minzoom)return null;this._sourceTileCache[a.key]||(this._sourceTileCache[a.key]=a.scaledTo(g).key);let b=this.sourceCache.getTileByID(this._sourceTileCache[a.key]);if((!b||!b.dem)&&d)for(;g>=m.minzoom&&(!b||!b.dem);)b=this.sourceCache.getTileByID(a.scaledTo(g--).key);return b}tilesAfterTime(a=Date.now()){return Object.values(this._tiles).filter(d=>d.timeAdded>=a)}}class u_{constructor(a,d,m){this.painter=a,this.sourceCache=new gN(d),this.options=m,this.exaggeration=typeof m.exaggeration=="number"?m.exaggeration:1,this.qualityFactor=2,this.meshSize=128,this._demMatrixCache={},this.coordsIndex=[],this._coordsTextureSize=1024}getDEMElevation(a,d,m,g=o.X){var b;if(!(d>=0&&d<g&&m>=0&&m<g))return 0;let C=this.getTerrainData(a),P=(b=C.tile)===null||b===void 0?void 0:b.dem;if(!P)return 0;let O=function(oe,ce,pe){var me=ce[0],ye=ce[1];return oe[0]=pe[0]*me+pe[4]*ye+pe[12],oe[1]=pe[1]*me+pe[5]*ye+pe[13],oe}([],[d/g*o.X,m/g*o.X],C.u_terrain_matrix),z=[O[0]*P.dim,O[1]*P.dim],U=Math.floor(z[0]),V=Math.floor(z[1]),K=z[0]-U,te=z[1]-V;return P.get(U,V)*(1-K)*(1-te)+P.get(U+1,V)*K*(1-te)+P.get(U,V+1)*(1-K)*te+P.get(U+1,V+1)*K*te}getElevationForLngLatZoom(a,d){if(!o.bb(d,a.wrap()))return 0;let{tileID:m,mercatorX:g,mercatorY:b}=this._getOverscaledTileIDFromLngLatZoom(a,d);return this.getElevation(m,g%o.X,b%o.X,o.X)}getElevation(a,d,m,g=o.X){return this.getDEMElevation(a,d,m,g)*this.exaggeration}getTerrainData(a){if(!this._emptyDemTexture){let g=this.painter.context,b=new o.R({width:1,height:1},new Uint8Array(4));this._emptyDepthTexture=new _e(g,b,g.gl.RGBA,{premultiply:!1}),this._emptyDemUnpack=[0,0,0,0],this._emptyDemTexture=new _e(g,new o.R({width:1,height:1}),g.gl.RGBA,{premultiply:!1}),this._emptyDemTexture.bind(g.gl.NEAREST,g.gl.CLAMP_TO_EDGE),this._emptyDemMatrix=o.an([])}let d=this.sourceCache.getSourceTile(a,!0);if(d&&d.dem&&(!d.demTexture||d.needsTerrainPrepare)){let g=this.painter.context;d.demTexture=this.painter.getTileTexture(d.dem.stride),d.demTexture?d.demTexture.update(d.dem.getPixels(),{premultiply:!1}):d.demTexture=new _e(g,d.dem.getPixels(),g.gl.RGBA,{premultiply:!1}),d.demTexture.bind(g.gl.NEAREST,g.gl.CLAMP_TO_EDGE),d.needsTerrainPrepare=!1}let m=d&&d+d.tileID.key+a.key;if(m&&!this._demMatrixCache[m]){let g=this.sourceCache.sourceCache._source.maxzoom,b=a.canonical.z-d.tileID.canonical.z;a.overscaledZ>a.canonical.z&&(a.canonical.z>=g?b=a.canonical.z-g:o.w("cannot calculate elevation if elevation maxzoom > source.maxzoom"));let C=a.canonical.x-(a.canonical.x>>b<<b),P=a.canonical.y-(a.canonical.y>>b<<b),O=o.bc(new Float64Array(16),[1/(o.X<<b),1/(o.X<<b),0]);o.J(O,O,[C*o.X,P*o.X,0]),this._demMatrixCache[a.key]={matrix:O,coord:a}}return{u_depth:2,u_terrain:3,u_terrain_dim:d&&d.dem&&d.dem.dim||1,u_terrain_matrix:m?this._demMatrixCache[a.key].matrix:this._emptyDemMatrix,u_terrain_unpack:d&&d.dem&&d.dem.getUnpackVector()||this._emptyDemUnpack,u_terrain_exaggeration:this.exaggeration,texture:(d&&d.demTexture||this._emptyDemTexture).texture,depthTexture:(this._fboDepthTexture||this._emptyDepthTexture).texture,tile:d}}getFramebuffer(a){let d=this.painter,m=d.width/devicePixelRatio,g=d.height/devicePixelRatio;return!this._fbo||this._fbo.width===m&&this._fbo.height===g||(this._fbo.destroy(),this._fboCoordsTexture.destroy(),this._fboDepthTexture.destroy(),delete this._fbo,delete this._fboDepthTexture,delete this._fboCoordsTexture),this._fboCoordsTexture||(this._fboCoordsTexture=new _e(d.context,{width:m,height:g,data:null},d.context.gl.RGBA,{premultiply:!1}),this._fboCoordsTexture.bind(d.context.gl.NEAREST,d.context.gl.CLAMP_TO_EDGE)),this._fboDepthTexture||(this._fboDepthTexture=new _e(d.context,{width:m,height:g,data:null},d.context.gl.RGBA,{premultiply:!1}),this._fboDepthTexture.bind(d.context.gl.NEAREST,d.context.gl.CLAMP_TO_EDGE)),this._fbo||(this._fbo=d.context.createFramebuffer(m,g,!0,!1),this._fbo.depthAttachment.set(d.context.createRenderbuffer(d.context.gl.DEPTH_COMPONENT16,m,g))),this._fbo.colorAttachment.set(a==="coords"?this._fboCoordsTexture.texture:this._fboDepthTexture.texture),this._fbo}getCoordsTexture(){let a=this.painter.context;if(this._coordsTexture)return this._coordsTexture;let d=new Uint8Array(this._coordsTextureSize*this._coordsTextureSize*4);for(let b=0,C=0;b<this._coordsTextureSize;b++)for(let P=0;P<this._coordsTextureSize;P++,C+=4)d[C+0]=255&P,d[C+1]=255&b,d[C+2]=P>>8<<4|b>>8,d[C+3]=0;let m=new o.R({width:this._coordsTextureSize,height:this._coordsTextureSize},new Uint8Array(d.buffer)),g=new _e(a,m,a.gl.RGBA,{premultiply:!1});return g.bind(a.gl.NEAREST,a.gl.CLAMP_TO_EDGE),this._coordsTexture=g,g}pointCoordinate(a){this.painter.maybeDrawDepthAndCoords(!0);let d=new Uint8Array(4),m=this.painter.context,g=m.gl,b=Math.round(a.x*this.painter.pixelRatio/devicePixelRatio),C=Math.round(a.y*this.painter.pixelRatio/devicePixelRatio),P=Math.round(this.painter.height/devicePixelRatio);m.bindFramebuffer.set(this.getFramebuffer("coords").framebuffer),g.readPixels(b,P-C-1,1,1,g.RGBA,g.UNSIGNED_BYTE,d),m.bindFramebuffer.set(null);let O=d[0]+(d[2]>>4<<8),z=d[1]+((15&d[2])<<8),U=this.coordsIndex[255-d[3]],V=U&&this.sourceCache.getTileByID(U);if(!V)return null;let K=this._coordsTextureSize,te=(1<<V.tileID.canonical.z)*K;return new o.Z((V.tileID.canonical.x*K+O)/te+V.tileID.wrap,(V.tileID.canonical.y*K+z)/te,this.getElevation(V.tileID,O,z,K))}depthAtPoint(a){let d=new Uint8Array(4),m=this.painter.context,g=m.gl;return m.bindFramebuffer.set(this.getFramebuffer("depth").framebuffer),g.readPixels(a.x,this.painter.height/devicePixelRatio-a.y-1,1,1,g.RGBA,g.UNSIGNED_BYTE,d),m.bindFramebuffer.set(null),(d[0]/16777216+d[1]/65536+d[2]/256+d[3])/256}getTerrainMesh(){if(this._mesh)return this._mesh;let a=this.painter.context,d=new o.bd,m=new o.aY,g=this.meshSize,b=o.X/g,C=g*g;for(let V=0;V<=g;V++)for(let K=0;K<=g;K++)d.emplaceBack(K*b,V*b,0);for(let V=0;V<C;V+=g+1)for(let K=0;K<g;K++)m.emplaceBack(K+V,g+K+V+1,g+K+V+2),m.emplaceBack(K+V,g+K+V+2,K+V+1);let P=d.length,O=P+2*(g+1);for(let V of[0,1])for(let K=0;K<=g;K++)for(let te of[0,1])d.emplaceBack(K*b,V*o.X,te);for(let V=0;V<2*g;V+=2)m.emplaceBack(O+V,O+V+1,O+V+3),m.emplaceBack(O+V,O+V+3,O+V+2),m.emplaceBack(P+V,P+V+3,P+V+1),m.emplaceBack(P+V,P+V+2,P+V+3);let z=d.length,U=z+2*(g+1);for(let V of[0,1])for(let K=0;K<=g;K++)for(let te of[0,1])d.emplaceBack(V*o.X,K*b,te);for(let V=0;V<2*g;V+=2)m.emplaceBack(z+V,z+V+1,z+V+3),m.emplaceBack(z+V,z+V+3,z+V+2),m.emplaceBack(U+V,U+V+3,U+V+1),m.emplaceBack(U+V,U+V+2,U+V+3);return this._mesh=new qg(a.createVertexBuffer(d,l_.members),a.createIndexBuffer(m),o.a0.simpleSegment(0,0,d.length,m.length)),this._mesh}getMeshFrameDelta(a){return 2*Math.PI*o.be/Math.pow(2,a)/5}getMinTileElevationForLngLatZoom(a,d){var m;let{tileID:g}=this._getOverscaledTileIDFromLngLatZoom(a,d);return(m=this.getMinMaxElevation(g).minElevation)!==null&&m!==void 0?m:0}getMinMaxElevation(a){let d=this.getTerrainData(a).tile,m={minElevation:null,maxElevation:null};return d&&d.dem&&(m.minElevation=d.dem.min*this.exaggeration,m.maxElevation=d.dem.max*this.exaggeration),m}_getOverscaledTileIDFromLngLatZoom(a,d){let m=o.Z.fromLngLat(a.wrap()),g=(1<<d)*o.X,b=m.x*g,C=m.y*g,P=Math.floor(b/o.X),O=Math.floor(C/o.X);return{tileID:new o.S(d,0,d,P,O),mercatorX:b,mercatorY:C}}}class vN{constructor(a,d,m){this._context=a,this._size=d,this._tileSize=m,this._objects=[],this._recentlyUsed=[],this._stamp=0}destruct(){for(let a of this._objects)a.texture.destroy(),a.fbo.destroy()}_createObject(a){let d=this._context.createFramebuffer(this._tileSize,this._tileSize,!0,!0),m=new _e(this._context,{width:this._tileSize,height:this._tileSize,data:null},this._context.gl.RGBA);return m.bind(this._context.gl.LINEAR,this._context.gl.CLAMP_TO_EDGE),d.depthAttachment.set(this._context.createRenderbuffer(this._context.gl.DEPTH_STENCIL,this._tileSize,this._tileSize)),d.colorAttachment.set(m.texture),{id:a,fbo:d,texture:m,stamp:-1,inUse:!1}}getObjectForId(a){return this._objects[a]}useObject(a){a.inUse=!0,this._recentlyUsed=this._recentlyUsed.filter(d=>a.id!==d),this._recentlyUsed.push(a.id)}stampObject(a){a.stamp=++this._stamp}getOrCreateFreeObject(){for(let d of this._recentlyUsed)if(!this._objects[d].inUse)return this._objects[d];if(this._objects.length>=this._size)throw new Error("No free RenderPool available, call freeAllObjects() required!");let a=this._createObject(this._objects.length);return this._objects.push(a),a}freeObject(a){a.inUse=!1}freeAllObjects(){for(let a of this._objects)this.freeObject(a)}isFull(){return!(this._objects.length<this._size)&&this._objects.some(a=>!a.inUse)===!1}}let Cp={background:!0,fill:!0,line:!0,raster:!0,hillshade:!0};class DI{constructor(a,d){this.painter=a,this.terrain=d,this.pool=new vN(a.context,30,d.sourceCache.tileSize*d.qualityFactor)}destruct(){this.pool.destruct()}getTexture(a){return this.pool.getObjectForId(a.rtt[this._stacks.length-1].id).texture}prepareForRender(a,d){this._stacks=[],this._prevType=null,this._rttTiles=[],this._renderableTiles=this.terrain.sourceCache.getRenderableTiles(),this._renderableLayerIds=a._order.filter(m=>!a._layers[m].isHidden(d)),this._coordsDescendingInv={};for(let m in a.sourceCaches){this._coordsDescendingInv[m]={};let g=a.sourceCaches[m].getVisibleCoordinates();for(let b of g){let C=this.terrain.sourceCache.getTerrainCoords(b);for(let P in C)this._coordsDescendingInv[m][P]||(this._coordsDescendingInv[m][P]=[]),this._coordsDescendingInv[m][P].push(C[P])}}this._coordsDescendingInvStr={};for(let m of a._order){let g=a._layers[m],b=g.source;if(Cp[g.type]&&!this._coordsDescendingInvStr[b]){this._coordsDescendingInvStr[b]={};for(let C in this._coordsDescendingInv[b])this._coordsDescendingInvStr[b][C]=this._coordsDescendingInv[b][C].map(P=>P.key).sort().join()}}for(let m of this._renderableTiles)for(let g in this._coordsDescendingInvStr){let b=this._coordsDescendingInvStr[g][m.tileID.key];b&&b!==m.rttCoords[g]&&(m.rtt=[])}}renderLayer(a){if(a.isHidden(this.painter.transform.zoom))return!1;let d=a.type,m=this.painter,g=this._renderableLayerIds[this._renderableLayerIds.length-1]===a.id;if(Cp[d]&&(this._prevType&&Cp[this._prevType]||this._stacks.push([]),this._prevType=d,this._stacks[this._stacks.length-1].push(a.id),!g))return!0;if(Cp[this._prevType]||Cp[d]&&g){this._prevType=d;let b=this._stacks.length-1,C=this._stacks[b]||[];for(let P of this._renderableTiles){if(this.pool.isFull()&&(II(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects()),this._rttTiles.push(P),P.rtt[b]){let z=this.pool.getObjectForId(P.rtt[b].id);if(z.stamp===P.rtt[b].stamp){this.pool.useObject(z);continue}}let O=this.pool.getOrCreateFreeObject();this.pool.useObject(O),this.pool.stampObject(O),P.rtt[b]={id:O.id,stamp:O.stamp},m.context.bindFramebuffer.set(O.fbo.framebuffer),m.context.clear({color:o.aM.transparent,stencil:0}),m.currentStencilSource=void 0;for(let z=0;z<C.length;z++){let U=m.style._layers[C[z]],V=U.source?this._coordsDescendingInv[U.source][P.tileID.key]:[P.tileID];m.context.viewport.set([0,0,O.fbo.width,O.fbo.height]),m._renderTileClippingMasks(U,V),m.renderLayer(m,m.style.sourceCaches[U.source],U,V),U.source&&(P.rttCoords[U.source]=this._coordsDescendingInvStr[U.source][P.tileID.key])}}return II(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects(),Cp[d]}return!1}}let c_={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"MapLibre logo","Map.Title":"Map","Marker.Title":"Map marker","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","Popup.Close":"Close popup","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm","TerrainControl.Enable":"Enable terrain","TerrainControl.Disable":"Disable terrain","CooperativeGesturesHandler.WindowsHelpText":"Use Ctrl + scroll to zoom the map","CooperativeGesturesHandler.MacHelpText":"Use \u2318 + scroll to zoom the map","CooperativeGesturesHandler.MobileHelpText":"Use two fingers to move the map"},NI=u,yN={hash:!1,interactive:!0,bearingSnap:7,attributionControl:Tp,maplibreLogo:!1,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,refreshExpiredTiles:!0,scrollZoom:!0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,trackResize:!0,center:[0,0],zoom:0,bearing:0,pitch:0,renderWorldCopies:!0,maxTileCacheSize:null,maxTileCacheZoomLevels:o.a.MAX_TILE_CACHE_ZOOM_LEVELS,transformRequest:null,transformCameraUpdate:null,fadeDuration:300,crossSourceCollisions:!0,clickTolerance:3,localIdeographFontFamily:"sans-serif",pitchWithRotate:!0,validateStyle:!0,maxCanvasSize:[4096,4096],cancelPendingTileRequestsWhileZooming:!0},d_=x=>{x.touchstart=x.dragStart,x.touchmoveWindow=x.dragMove,x.touchend=x.dragEnd},_N={showCompass:!0,showZoom:!0,visualizePitch:!1};class bN{constructor(a,d,m=!1){this.mousedown=C=>{this.startMouse(o.e({},C,{ctrlKey:!0,preventDefault:()=>C.preventDefault()}),_.mousePos(this.element,C)),_.addEventListener(window,"mousemove",this.mousemove),_.addEventListener(window,"mouseup",this.mouseup)},this.mousemove=C=>{this.moveMouse(C,_.mousePos(this.element,C))},this.mouseup=C=>{this.mouseRotate.dragEnd(C),this.mousePitch&&this.mousePitch.dragEnd(C),this.offTemp()},this.touchstart=C=>{C.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=_.touchPos(this.element,C.targetTouches)[0],this.startTouch(C,this._startPos),_.addEventListener(window,"touchmove",this.touchmove,{passive:!1}),_.addEventListener(window,"touchend",this.touchend))},this.touchmove=C=>{C.targetTouches.length!==1?this.reset():(this._lastPos=_.touchPos(this.element,C.targetTouches)[0],this.moveTouch(C,this._lastPos))},this.touchend=C=>{C.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),delete this._startPos,delete this._lastPos,this.offTemp()},this.reset=()=>{this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),this.touchRotate.reset(),this.touchPitch&&this.touchPitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()},this._clickTolerance=10;let g=a.dragRotate._mouseRotate.getClickTolerance(),b=a.dragRotate._mousePitch.getClickTolerance();this.element=d,this.mouseRotate=Q1({clickTolerance:g,enable:!0}),this.touchRotate=(({enable:C,clickTolerance:P,bearingDegreesPerPixelMoved:O=.8})=>{let z=new X1;return new su({clickTolerance:P,move:(U,V)=>({bearingDelta:(V.x-U.x)*O}),moveStateManager:z,enable:C,assignEvents:d_})})({clickTolerance:g,enable:!0}),this.map=a,m&&(this.mousePitch=J1({clickTolerance:b,enable:!0}),this.touchPitch=(({enable:C,clickTolerance:P,pitchDegreesPerPixelMoved:O=-.5})=>{let z=new X1;return new su({clickTolerance:P,move:(U,V)=>({pitchDelta:(V.y-U.y)*O}),moveStateManager:z,enable:C,assignEvents:d_})})({clickTolerance:b,enable:!0})),_.addEventListener(d,"mousedown",this.mousedown),_.addEventListener(d,"touchstart",this.touchstart,{passive:!1}),_.addEventListener(d,"touchcancel",this.reset)}startMouse(a,d){this.mouseRotate.dragStart(a,d),this.mousePitch&&this.mousePitch.dragStart(a,d),_.disableDrag()}startTouch(a,d){this.touchRotate.dragStart(a,d),this.touchPitch&&this.touchPitch.dragStart(a,d),_.disableDrag()}moveMouse(a,d){let m=this.map,{bearingDelta:g}=this.mouseRotate.dragMove(a,d)||{};if(g&&m.setBearing(m.getBearing()+g),this.mousePitch){let{pitchDelta:b}=this.mousePitch.dragMove(a,d)||{};b&&m.setPitch(m.getPitch()+b)}}moveTouch(a,d){let m=this.map,{bearingDelta:g}=this.touchRotate.dragMove(a,d)||{};if(g&&m.setBearing(m.getBearing()+g),this.touchPitch){let{pitchDelta:b}=this.touchPitch.dragMove(a,d)||{};b&&m.setPitch(m.getPitch()+b)}}off(){let a=this.element;_.removeEventListener(a,"mousedown",this.mousedown),_.removeEventListener(a,"touchstart",this.touchstart,{passive:!1}),_.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),_.removeEventListener(window,"touchend",this.touchend),_.removeEventListener(a,"touchcancel",this.reset),this.offTemp()}offTemp(){_.enableDrag(),_.removeEventListener(window,"mousemove",this.mousemove),_.removeEventListener(window,"mouseup",this.mouseup),_.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),_.removeEventListener(window,"touchend",this.touchend)}}let Ba;function Kn(x,a,d){let m=new o.N(x.lng,x.lat);if(x=new o.N(x.lng,x.lat),a){let g=new o.N(x.lng-360,x.lat),b=new o.N(x.lng+360,x.lat),C=d.locationPoint(x).distSqr(a);d.locationPoint(g).distSqr(a)<C?x=g:d.locationPoint(b).distSqr(a)<C&&(x=b)}for(;Math.abs(x.lng-d.center.lng)>180;){let g=d.locationPoint(x);if(g.x>=0&&g.y>=0&&g.x<=d.width&&g.y<=d.height)break;x.lng>d.center.lng?x.lng-=360:x.lng+=360}return x.lng!==m.lng&&d.locationPoint(x).y>d.height/2-d.getHorizon()?x:m}let Ap={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Gg(x,a,d){let m=x.classList;for(let g in Ap)m.remove(`maplibregl-${d}-anchor-${g}`);m.add(`maplibregl-${d}-anchor-${a}`)}class Yg extends o.E{constructor(a){if(super(),this._onKeyPress=d=>{let m=d.code,g=d.charCode||d.keyCode;m!=="Space"&&m!=="Enter"&&g!==32&&g!==13||this.togglePopup()},this._onMapClick=d=>{let m=d.originalEvent.target,g=this._element;this._popup&&(m===g||g.contains(m))&&this.togglePopup()},this._update=d=>{var m;if(!this._map)return;let g=this._map.loaded()&&!this._map.isMoving();((d==null?void 0:d.type)==="terrain"||(d==null?void 0:d.type)==="render"&&!g)&&this._map.once("render",this._update),this._lngLat=this._map.transform.renderWorldCopies?Kn(this._lngLat,this._flatPos,this._map.transform):(m=this._lngLat)===null||m===void 0?void 0:m.wrap(),this._flatPos=this._pos=this._map.project(this._lngLat)._add(this._offset),this._map.terrain&&(this._flatPos=this._map.transform.locationPoint(this._lngLat)._add(this._offset));let b="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?b=`rotateZ(${this._rotation}deg)`:this._rotationAlignment==="map"&&(b=`rotateZ(${this._rotation-this._map.getBearing()}deg)`);let C="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?C="rotateX(0deg)":this._pitchAlignment==="map"&&(C=`rotateX(${this._map.getPitch()}deg)`),this._subpixelPositioning||d&&d.type!=="moveend"||(this._pos=this._pos.round()),_.setTransform(this._element,`${Ap[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${C} ${b}`),y.frameAsync(new AbortController).then(()=>{this._updateOpacity(d&&d.type==="moveend")}).catch(()=>{})},this._onMove=d=>{if(!this._isDragging){let m=this._clickTolerance||this._map._clickTolerance;this._isDragging=d.point.dist(this._pointerdownPos)>=m}this._isDragging&&(this._pos=d.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new o.k("dragstart"))),this.fire(new o.k("drag")))},this._onUp=()=>{this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new o.k("dragend")),this._state="inactive"},this._addDragHandler=d=>{this._element.contains(d.originalEvent.target)&&(d.preventDefault(),this._positionDelta=d.point.sub(this._pos).add(this._offset),this._pointerdownPos=d.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},this._anchor=a&&a.anchor||"center",this._color=a&&a.color||"#3FB1CE",this._scale=a&&a.scale||1,this._draggable=a&&a.draggable||!1,this._clickTolerance=a&&a.clickTolerance||0,this._subpixelPositioning=a&&a.subpixelPositioning||!1,this._isDragging=!1,this._state="inactive",this._rotation=a&&a.rotation||0,this._rotationAlignment=a&&a.rotationAlignment||"auto",this._pitchAlignment=a&&a.pitchAlignment&&a.pitchAlignment!=="auto"?a.pitchAlignment:this._rotationAlignment,this.setOpacity(),this.setOpacity(a==null?void 0:a.opacity,a==null?void 0:a.opacityWhenCovered),a&&a.element)this._element=a.element,this._offset=o.P.convert(a&&a.offset||[0,0]);else{this._defaultMarker=!0,this._element=_.create("div");let d=_.createNS("http://www.w3.org/2000/svg","svg"),m=41,g=27;d.setAttributeNS(null,"display","block"),d.setAttributeNS(null,"height",`${m}px`),d.setAttributeNS(null,"width",`${g}px`),d.setAttributeNS(null,"viewBox",`0 0 ${g} ${m}`);let b=_.createNS("http://www.w3.org/2000/svg","g");b.setAttributeNS(null,"stroke","none"),b.setAttributeNS(null,"stroke-width","1"),b.setAttributeNS(null,"fill","none"),b.setAttributeNS(null,"fill-rule","evenodd");let C=_.createNS("http://www.w3.org/2000/svg","g");C.setAttributeNS(null,"fill-rule","nonzero");let P=_.createNS("http://www.w3.org/2000/svg","g");P.setAttributeNS(null,"transform","translate(3.0, 29.0)"),P.setAttributeNS(null,"fill","#000000");let O=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(let me of O){let ye=_.createNS("http://www.w3.org/2000/svg","ellipse");ye.setAttributeNS(null,"opacity","0.04"),ye.setAttributeNS(null,"cx","10.5"),ye.setAttributeNS(null,"cy","5.80029008"),ye.setAttributeNS(null,"rx",me.rx),ye.setAttributeNS(null,"ry",me.ry),P.appendChild(ye)}let z=_.createNS("http://www.w3.org/2000/svg","g");z.setAttributeNS(null,"fill",this._color);let U=_.createNS("http://www.w3.org/2000/svg","path");U.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),z.appendChild(U);let V=_.createNS("http://www.w3.org/2000/svg","g");V.setAttributeNS(null,"opacity","0.25"),V.setAttributeNS(null,"fill","#000000");let K=_.createNS("http://www.w3.org/2000/svg","path");K.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),V.appendChild(K);let te=_.createNS("http://www.w3.org/2000/svg","g");te.setAttributeNS(null,"transform","translate(6.0, 7.0)"),te.setAttributeNS(null,"fill","#FFFFFF");let oe=_.createNS("http://www.w3.org/2000/svg","g");oe.setAttributeNS(null,"transform","translate(8.0, 8.0)");let ce=_.createNS("http://www.w3.org/2000/svg","circle");ce.setAttributeNS(null,"fill","#000000"),ce.setAttributeNS(null,"opacity","0.25"),ce.setAttributeNS(null,"cx","5.5"),ce.setAttributeNS(null,"cy","5.5"),ce.setAttributeNS(null,"r","5.4999962");let pe=_.createNS("http://www.w3.org/2000/svg","circle");pe.setAttributeNS(null,"fill","#FFFFFF"),pe.setAttributeNS(null,"cx","5.5"),pe.setAttributeNS(null,"cy","5.5"),pe.setAttributeNS(null,"r","5.4999962"),oe.appendChild(ce),oe.appendChild(pe),C.appendChild(P),C.appendChild(z),C.appendChild(V),C.appendChild(te),C.appendChild(oe),d.appendChild(C),d.setAttributeNS(null,"height",m*this._scale+"px"),d.setAttributeNS(null,"width",g*this._scale+"px"),this._element.appendChild(d),this._offset=o.P.convert(a&&a.offset||[0,-14])}if(this._element.classList.add("maplibregl-marker"),this._element.addEventListener("dragstart",d=>{d.preventDefault()}),this._element.addEventListener("mousedown",d=>{d.preventDefault()}),Gg(this._element,this._anchor,"marker"),a&&a.className)for(let d of a.className.split(" "))this._element.classList.add(d);this._popup=null}addTo(a){return this.remove(),this._map=a,this._element.setAttribute("aria-label",a._getUIString("Marker.Title")),a.getCanvasContainer().appendChild(this._element),a.on("move",this._update),a.on("moveend",this._update),a.on("terrain",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._opacityTimeout&&(clearTimeout(this._opacityTimeout),delete this._opacityTimeout),this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("terrain",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),_.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(a){return this._lngLat=o.N.convert(a),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(a){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),a){if(!("offset"in a.options)){let g=Math.abs(13.5)/Math.SQRT2;a.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[g,-1*(38.1-13.5+g)],"bottom-right":[-g,-1*(38.1-13.5+g)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=a,this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}setSubpixelPositioning(a){return this._subpixelPositioning=a,this}getPopup(){return this._popup}togglePopup(){let a=this._popup;return this._element.style.opacity===this._opacityWhenCovered?this:a?(a.isOpen()?a.remove():(a.setLngLat(this._lngLat),a.addTo(this._map)),this):this}_updateOpacity(a=!1){var d,m;if(!(!((d=this._map)===null||d===void 0)&&d.terrain))return void(this._element.style.opacity!==this._opacity&&(this._element.style.opacity=this._opacity));if(a)this._opacityTimeout=null;else{if(this._opacityTimeout)return;this._opacityTimeout=setTimeout(()=>{this._opacityTimeout=null},100)}let g=this._map,b=g.terrain.depthAtPoint(this._pos),C=g.terrain.getElevationForLngLatZoom(this._lngLat,g.transform.tileZoom);if(g.transform.lngLatToCameraDepth(this._lngLat,C)-b<.006)return void(this._element.style.opacity=this._opacity);let P=-this._offset.y/g.transform._pixelPerMeter,O=Math.sin(g.getPitch()*Math.PI/180)*P,z=g.terrain.depthAtPoint(new o.P(this._pos.x,this._pos.y-this._offset.y)),U=g.transform.lngLatToCameraDepth(this._lngLat,C+O)-z>.006;!((m=this._popup)===null||m===void 0)&&m.isOpen()&&U&&this._popup.remove(),this._element.style.opacity=U?this._opacityWhenCovered:this._opacity}getOffset(){return this._offset}setOffset(a){return this._offset=o.P.convert(a),this._update(),this}addClassName(a){this._element.classList.add(a)}removeClassName(a){this._element.classList.remove(a)}toggleClassName(a){return this._element.classList.toggle(a)}setDraggable(a){return this._draggable=!!a,this._map&&(a?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(a){return this._rotation=a||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(a){return this._rotationAlignment=a||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(a){return this._pitchAlignment=a&&a!=="auto"?a:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}setOpacity(a,d){return a===void 0&&d===void 0&&(this._opacity="1",this._opacityWhenCovered="0.2"),a!==void 0&&(this._opacity=a),d!==void 0&&(this._opacityWhenCovered=d),this._map&&this._updateOpacity(!0),this}}let kI={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},Dh=0,Nh=!1,_l={maxWidth:100,unit:"metric"};function kh(x,a,d){let m=d&&d.maxWidth||100,g=x._container.clientHeight/2,b=x.unproject([0,g]),C=x.unproject([m,g]),P=b.distanceTo(C);if(d&&d.unit==="imperial"){let O=3.2808*P;O>5280?Kt(a,m,O/5280,x._getUIString("ScaleControl.Miles")):Kt(a,m,O,x._getUIString("ScaleControl.Feet"))}else d&&d.unit==="nautical"?Kt(a,m,P/1852,x._getUIString("ScaleControl.NauticalMiles")):P>=1e3?Kt(a,m,P/1e3,x._getUIString("ScaleControl.Kilometers")):Kt(a,m,P,x._getUIString("ScaleControl.Meters"))}function Kt(x,a,d,m){let g=function(b){let C=Math.pow(10,`${Math.floor(b)}`.length-1),P=b/C;return P=P>=10?10:P>=5?5:P>=3?3:P>=2?2:P>=1?1:function(O){let z=Math.pow(10,Math.ceil(-Math.log(O)/Math.LN10));return Math.round(O*z)/z}(P),C*P}(d);x.style.width=a*(g/d)+"px",x.innerHTML=`${g}&nbsp;${m}`}let pr={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px",subpixelPositioning:!1},Zg=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function Kg(x){if(x){if(typeof x=="number"){let a=Math.round(Math.abs(x)/Math.SQRT2);return{center:new o.P(0,0),top:new o.P(0,x),"top-left":new o.P(a,a),"top-right":new o.P(-a,a),bottom:new o.P(0,-x),"bottom-left":new o.P(a,-a),"bottom-right":new o.P(-a,-a),left:new o.P(x,0),right:new o.P(-x,0)}}if(x instanceof o.P||Array.isArray(x)){let a=o.P.convert(x);return{center:a,top:a,"top-left":a,"top-right":a,bottom:a,"bottom-left":a,"bottom-right":a,left:a,right:a}}return{center:o.P.convert(x.center||[0,0]),top:o.P.convert(x.top||[0,0]),"top-left":o.P.convert(x["top-left"]||[0,0]),"top-right":o.P.convert(x["top-right"]||[0,0]),bottom:o.P.convert(x.bottom||[0,0]),"bottom-left":o.P.convert(x["bottom-left"]||[0,0]),"bottom-right":o.P.convert(x["bottom-right"]||[0,0]),left:o.P.convert(x.left||[0,0]),right:o.P.convert(x.right||[0,0])}}return Kg(new o.P(0,0))}let p_=u;i.AJAXError=o.bh,i.Evented=o.E,i.LngLat=o.N,i.MercatorCoordinate=o.Z,i.Point=o.P,i.addProtocol=o.bi,i.config=o.a,i.removeProtocol=o.bj,i.AttributionControl=Mp,i.BoxZoomHandler=Fa,i.CanvasSource=Yr,i.CooperativeGesturesHandler=Ep,i.DoubleClickZoomHandler=ed,i.DragPanHandler=AI,i.DragRotateHandler=PI,i.EdgeInsets=xp,i.FullscreenControl=class extends o.E{constructor(x={}){super(),this._onFullscreenChange=()=>{var a;let d=window.document.fullscreenElement||window.document.mozFullScreenElement||window.document.webkitFullscreenElement||window.document.msFullscreenElement;for(;!((a=d==null?void 0:d.shadowRoot)===null||a===void 0)&&a.fullscreenElement;)d=d.shadowRoot.fullscreenElement;d===this._container!==this._fullscreen&&this._handleFullscreenChange()},this._onClickFullscreen=()=>{this._isFullscreen()?this._exitFullscreen():this._requestFullscreen()},this._fullscreen=!1,x&&x.container&&(x.container instanceof HTMLElement?this._container=x.container:o.w("Full screen control 'container' must be a DOM element.")),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in document&&(this._fullscreenchange="MSFullscreenChange")}onAdd(x){return this._map=x,this._container||(this._container=this._map.getContainer()),this._controlContainer=_.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),this._controlContainer}onRemove(){_.remove(this._controlContainer),this._map=null,window.document.removeEventListener(this._fullscreenchange,this._onFullscreenChange)}_setupUI(){let x=this._fullscreenButton=_.create("button","maplibregl-ctrl-fullscreen",this._controlContainer);_.create("span","maplibregl-ctrl-icon",x).setAttribute("aria-hidden","true"),x.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),window.document.addEventListener(this._fullscreenchange,this._onFullscreenChange)}_updateTitle(){let x=this._getTitle();this._fullscreenButton.setAttribute("aria-label",x),this._fullscreenButton.title=x}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_handleFullscreenChange(){this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._updateTitle(),this._fullscreen?(this.fire(new o.k("fullscreenstart")),this._prevCooperativeGesturesEnabled=this._map.cooperativeGestures.isEnabled(),this._map.cooperativeGestures.disable()):(this.fire(new o.k("fullscreenend")),this._prevCooperativeGesturesEnabled&&this._map.cooperativeGestures.enable())}_exitFullscreen(){window.document.exitFullscreen?window.document.exitFullscreen():window.document.mozCancelFullScreen?window.document.mozCancelFullScreen():window.document.msExitFullscreen?window.document.msExitFullscreen():window.document.webkitCancelFullScreen?window.document.webkitCancelFullScreen():this._togglePseudoFullScreen()}_requestFullscreen(){this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen?this._container.webkitRequestFullscreen():this._togglePseudoFullScreen()}_togglePseudoFullScreen(){this._container.classList.toggle("maplibregl-pseudo-fullscreen"),this._handleFullscreenChange(),this._map.resize()}},i.GeoJSONSource=Or,i.GeolocateControl=class extends o.E{constructor(x){super(),this._onSuccess=a=>{if(this._map){if(this._isOutOfMapMaxBounds(a))return this._setErrorState(),this.fire(new o.k("outofmaxbounds",a)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=a,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background");break;default:throw new Error(`Unexpected watchState ${this._watchState}`);}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(a),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(a),this.options.showUserLocation&&this._dotElement.classList.remove("maplibregl-user-location-dot-stale"),this.fire(new o.k("geolocate",a)),this._finish()}},this._updateCamera=a=>{let d=new o.N(a.coords.longitude,a.coords.latitude),m=a.coords.accuracy,g=this._map.getBearing(),b=o.e({bearing:g},this.options.fitBoundsOptions),C=we.fromLngLat(d,m);this._map.fitBounds(C,b,{geolocateSource:!0})},this._updateMarker=a=>{if(a){let d=new o.N(a.coords.longitude,a.coords.latitude);this._accuracyCircleMarker.setLngLat(d).addTo(this._map),this._userLocationDotMarker.setLngLat(d).addTo(this._map),this._accuracy=a.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},this._onZoom=()=>{this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},this._onError=a=>{if(this._map){if(this.options.trackUserLocation)if(a.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;let d=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=d,this._geolocateButton.setAttribute("aria-label",d),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(a.code===3&&Nh)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("maplibregl-user-location-dot-stale"),this.fire(new o.k("error",a)),this._finish()}},this._finish=()=>{this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},this._setupUI=()=>{this._map&&(this._container.addEventListener("contextmenu",a=>a.preventDefault()),this._geolocateButton=_.create("button","maplibregl-ctrl-geolocate",this._container),_.create("span","maplibregl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",this._geolocateButton.disabled=!0)},this._finishSetupUI=a=>{if(this._map){if(a===!1){o.w("Geolocation support is not available so the GeolocateControl will be disabled.");let d=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=d,this._geolocateButton.setAttribute("aria-label",d)}else{let d=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.disabled=!1,this._geolocateButton.title=d,this._geolocateButton.setAttribute("aria-label",d)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=_.create("div","maplibregl-user-location-dot"),this._userLocationDotMarker=new Yg({element:this._dotElement}),this._circleElement=_.create("div","maplibregl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Yg({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",()=>this.trigger()),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",d=>{d.geolocateSource||this._watchState!=="ACTIVE_LOCK"||d.originalEvent&&d.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this.fire(new o.k("trackuserlocationend")),this.fire(new o.k("userlocationlostfocus")))})}},this.options=o.e({},kI,x)}onAdd(x){return this._map=x,this._container=_.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),function(){return o._(this,arguments,void 0,function*(a=!1){if(Ba!==void 0&&!a)return Ba;if(window.navigator.permissions===void 0)return Ba=!!window.navigator.geolocation,Ba;try{Ba=(yield window.navigator.permissions.query({name:"geolocation"})).state!=="denied"}catch(d){Ba=!!window.navigator.geolocation}return Ba})}().then(a=>this._finishSetupUI(a)),this._container}onRemove(){this._geolocationWatchID!==void 0&&(window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),_.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,Dh=0,Nh=!1}_isOutOfMapMaxBounds(x){let a=this._map.getMaxBounds(),d=x.coords;return a&&(d.longitude<a.getWest()||d.longitude>a.getEast()||d.latitude<a.getSouth()||d.latitude>a.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"ACTIVE_ERROR":break;default:throw new Error(`Unexpected watchState ${this._watchState}`);}}_updateCircleRadius(){let x=this._map.getBounds(),a=x.getSouthEast(),d=x.getNorthEast(),m=a.distanceTo(d),g=Math.ceil(this._accuracy/(m/this._map._container.clientHeight)*2);this._circleElement.style.width=`${g}px`,this._circleElement.style.height=`${g}px`}trigger(){if(!this._setup)return o.w("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new o.k("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Dh--,Nh=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this.fire(new o.k("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new o.k("trackuserlocationstart")),this.fire(new o.k("userlocationfocus"));break;default:throw new Error(`Unexpected watchState ${this._watchState}`);}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"OFF":break;default:throw new Error(`Unexpected watchState ${this._watchState}`);}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let x;this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),Dh++,Dh>1?(x={maximumAge:6e5,timeout:0},Nh=!0):(x=this.options.positionOptions,Nh=!1),this._geolocationWatchID=window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,x)}}else window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_clearWatch(){window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},i.Hash=zg,i.ImageSource=hr,i.KeyboardHandler=ss,i.LngLatBounds=we,i.LogoControl=s_,i.Map=class extends OI{constructor(x){o.bf.mark(o.bg.create);let a=Object.assign(Object.assign({},yN),x);if(a.minZoom!=null&&a.maxZoom!=null&&a.minZoom>a.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(a.minPitch!=null&&a.maxPitch!=null&&a.minPitch>a.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(a.minPitch!=null&&a.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(a.maxPitch!=null&&a.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(super(new wp(a.minZoom,a.maxZoom,a.minPitch,a.maxPitch,a.renderWorldCopies),{bearingSnap:a.bearingSnap}),this._idleTriggered=!1,this._crossFadingFactor=1,this._renderTaskQueue=new Qr,this._controls=[],this._mapId=o.a4(),this._contextLost=d=>{d.preventDefault(),this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this.fire(new o.k("webglcontextlost",{originalEvent:d}))},this._contextRestored=d=>{this._setupPainter(),this.resize(),this._update(),this.fire(new o.k("webglcontextrestored",{originalEvent:d}))},this._onMapScroll=d=>{if(d.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},this._onWindowOnline=()=>{this._update()},this._interactive=a.interactive,this._maxTileCacheSize=a.maxTileCacheSize,this._maxTileCacheZoomLevels=a.maxTileCacheZoomLevels,this._failIfMajorPerformanceCaveat=a.failIfMajorPerformanceCaveat===!0,this._preserveDrawingBuffer=a.preserveDrawingBuffer===!0,this._antialias=a.antialias===!0,this._trackResize=a.trackResize===!0,this._bearingSnap=a.bearingSnap,this._refreshExpiredTiles=a.refreshExpiredTiles===!0,this._fadeDuration=a.fadeDuration,this._crossSourceCollisions=a.crossSourceCollisions===!0,this._collectResourceTiming=a.collectResourceTiming===!0,this._locale=Object.assign(Object.assign({},c_),a.locale),this._clickTolerance=a.clickTolerance,this._overridePixelRatio=a.pixelRatio,this._maxCanvasSize=a.maxCanvasSize,this.transformCameraUpdate=a.transformCameraUpdate,this.cancelPendingTileRequestsWhileZooming=a.cancelPendingTileRequestsWhileZooming===!0,this._imageQueueHandle=L.addThrottleControl(()=>this.isMoving()),this._requestManager=new F(a.transformRequest),typeof a.container=="string"){if(this._container=document.getElementById(a.container),!this._container)throw new Error(`Container '${a.container}' not found.`)}else{if(!(a.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=a.container}if(a.maxBounds&&this.setMaxBounds(a.maxBounds),this._setupContainer(),this._setupPainter(),this.on("move",()=>this._update(!1)).on("moveend",()=>this._update(!1)).on("zoom",()=>this._update(!0)).on("terrain",()=>{this.painter.terrainFacilitator.dirty=!0,this._update(!0)}).once("idle",()=>{this._idleTriggered=!0}),typeof window!="undefined"){addEventListener("online",this._onWindowOnline,!1);let d=!1,m=Mh(g=>{this._trackResize&&!this._removed&&(this.resize(g),this.redraw())},50);this._resizeObserver=new ResizeObserver(g=>{d?m(g):d=!0}),this._resizeObserver.observe(this._container)}this.handlers=new a_(this,a),this._hash=a.hash&&new zg(typeof a.hash=="string"&&a.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:a.center,zoom:a.zoom,bearing:a.bearing,pitch:a.pitch}),a.bounds&&(this.resize(),this.fitBounds(a.bounds,o.e({},a.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=a.localIdeographFontFamily,this._validateStyle=a.validateStyle,a.style&&this.setStyle(a.style,{localIdeographFontFamily:a.localIdeographFontFamily}),a.attributionControl&&this.addControl(new Mp(typeof a.attributionControl=="boolean"?void 0:a.attributionControl)),a.maplibreLogo&&this.addControl(new s_,a.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",d=>{this._update(d.dataType==="style"),this.fire(new o.k(`${d.dataType}data`,d))}),this.on("dataloading",d=>{this.fire(new o.k(`${d.dataType}dataloading`,d))}),this.on("dataabort",d=>{this.fire(new o.k("sourcedataabort",d))})}_getMapId(){return this._mapId}addControl(x,a){if(a===void 0&&(a=x.getDefaultPosition?x.getDefaultPosition():"top-right"),!x||!x.onAdd)return this.fire(new o.j(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));let d=x.onAdd(this);this._controls.push(x);let m=this._controlPositions[a];return a.indexOf("bottom")!==-1?m.insertBefore(d,m.firstChild):m.appendChild(d),this}removeControl(x){if(!x||!x.onRemove)return this.fire(new o.j(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));let a=this._controls.indexOf(x);return a>-1&&this._controls.splice(a,1),x.onRemove(this),this}hasControl(x){return this._controls.indexOf(x)>-1}calculateCameraOptionsFromTo(x,a,d,m){return m==null&&this.terrain&&(m=this.terrain.getElevationForLngLatZoom(d,this.transform.tileZoom)),super.calculateCameraOptionsFromTo(x,a,d,m)}resize(x){var a;let d=this._containerDimensions(),m=d[0],g=d[1],b=this._getClampedPixelRatio(m,g);if(this._resizeCanvas(m,g,b),this.painter.resize(m,g,b),this.painter.overLimit()){let P=this.painter.context.gl;this._maxCanvasSize=[P.drawingBufferWidth,P.drawingBufferHeight];let O=this._getClampedPixelRatio(m,g);this._resizeCanvas(m,g,O),this.painter.resize(m,g,O)}this.transform.resize(m,g),(a=this._requestedCameraState)===null||a===void 0||a.resize(m,g);let C=!this._moving;return C&&(this.stop(),this.fire(new o.k("movestart",x)).fire(new o.k("move",x))),this.fire(new o.k("resize",x)),C&&this.fire(new o.k("moveend",x)),this}_getClampedPixelRatio(x,a){let{0:d,1:m}=this._maxCanvasSize,g=this.getPixelRatio(),b=x*g,C=a*g;return Math.min(b>d?d/b:1,C>m?m/C:1)*g}getPixelRatio(){var x;return(x=this._overridePixelRatio)!==null&&x!==void 0?x:devicePixelRatio}setPixelRatio(x){this._overridePixelRatio=x,this.resize()}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(x){return this.transform.setMaxBounds(we.convert(x)),this._update()}setMinZoom(x){if((x=x==null?-2:x)>=-2&&x<=this.transform.maxZoom)return this.transform.minZoom=x,this._update(),this.getZoom()<x&&this.setZoom(x),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(x){if((x=x==null?22:x)>=this.transform.minZoom)return this.transform.maxZoom=x,this._update(),this.getZoom()>x&&this.setZoom(x),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(x){if((x=x==null?0:x)<0)throw new Error("minPitch must be greater than or equal to 0");if(x>=0&&x<=this.transform.maxPitch)return this.transform.minPitch=x,this._update(),this.getPitch()<x&&this.setPitch(x),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(x){if((x=x==null?60:x)>85)throw new Error("maxPitch must be less than or equal to 85");if(x>=this.transform.minPitch)return this.transform.maxPitch=x,this._update(),this.getPitch()>x&&this.setPitch(x),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(x){return this.transform.renderWorldCopies=x,this._update()}project(x){return this.transform.locationPoint(o.N.convert(x),this.style&&this.terrain)}unproject(x){return this.transform.pointLocation(o.P.convert(x),this.terrain)}isMoving(){var x;return this._moving||((x=this.handlers)===null||x===void 0?void 0:x.isMoving())}isZooming(){var x;return this._zooming||((x=this.handlers)===null||x===void 0?void 0:x.isZooming())}isRotating(){var x;return this._rotating||((x=this.handlers)===null||x===void 0?void 0:x.isRotating())}_createDelegatedListener(x,a,d){if(x==="mouseenter"||x==="mouseover"){let m=!1;return{layers:a,listener:d,delegates:{mousemove:b=>{let C=a.filter(O=>this.getLayer(O)),P=C.length!==0?this.queryRenderedFeatures(b.point,{layers:C}):[];P.length?m||(m=!0,d.call(this,new ho(x,this,b.originalEvent,{features:P}))):m=!1},mouseout:()=>{m=!1}}}}if(x==="mouseleave"||x==="mouseout"){let m=!1;return{layers:a,listener:d,delegates:{mousemove:C=>{let P=a.filter(O=>this.getLayer(O));(P.length!==0?this.queryRenderedFeatures(C.point,{layers:P}):[]).length?m=!0:m&&(m=!1,d.call(this,new ho(x,this,C.originalEvent)))},mouseout:C=>{m&&(m=!1,d.call(this,new ho(x,this,C.originalEvent)))}}}}{let m=g=>{let b=a.filter(P=>this.getLayer(P)),C=b.length!==0?this.queryRenderedFeatures(g.point,{layers:b}):[];C.length&&(g.features=C,d.call(this,g),delete g.features)};return{layers:a,listener:d,delegates:{[x]:m}}}}_saveDelegatedListener(x,a){this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[x]=this._delegatedListeners[x]||[],this._delegatedListeners[x].push(a)}_removeDelegatedListener(x,a,d){if(!this._delegatedListeners||!this._delegatedListeners[x])return;let m=this._delegatedListeners[x];for(let g=0;g<m.length;g++){let b=m[g];if(b.listener===d&&b.layers.length===a.length&&b.layers.every(C=>a.includes(C))){for(let C in b.delegates)this.off(C,b.delegates[C]);return void m.splice(g,1)}}}on(x,a,d){if(d===void 0)return super.on(x,a);let m=this._createDelegatedListener(x,typeof a=="string"?[a]:a,d);this._saveDelegatedListener(x,m);for(let g in m.delegates)this.on(g,m.delegates[g]);return this}once(x,a,d){if(d===void 0)return super.once(x,a);let m=typeof a=="string"?[a]:a,g=this._createDelegatedListener(x,m,d);for(let b in g.delegates){let C=g.delegates[b];g.delegates[b]=(...P)=>{this._removeDelegatedListener(x,m,d),C(...P)}}this._saveDelegatedListener(x,g);for(let b in g.delegates)this.once(b,g.delegates[b]);return this}off(x,a,d){return d===void 0?super.off(x,a):(this._removeDelegatedListener(x,typeof a=="string"?[a]:a,d),this)}queryRenderedFeatures(x,a){if(!this.style)return[];let d,m=x instanceof o.P||Array.isArray(x),g=m?x:[[0,0],[this.transform.width,this.transform.height]];if(a=a||(m?{}:x)||{},g instanceof o.P||typeof g[0]=="number")d=[o.P.convert(g)];else{let b=o.P.convert(g[0]),C=o.P.convert(g[1]);d=[b,new o.P(C.x,b.y),C,new o.P(b.x,C.y),b]}return this.style.queryRenderedFeatures(d,a,this.transform)}querySourceFeatures(x,a){return this.style.querySourceFeatures(x,a)}setStyle(x,a){return(a=o.e({},{localIdeographFontFamily:this._localIdeographFontFamily,validate:this._validateStyle},a)).diff!==!1&&a.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&x?(this._diffStyle(x,a),this):(this._localIdeographFontFamily=a.localIdeographFontFamily,this._updateStyle(x,a))}setTransformRequest(x){return this._requestManager.setTransformRequest(x),this}_getUIString(x){let a=this._locale[x];if(a==null)throw new Error(`Missing UI string '${x}'`);return a}_updateStyle(x,a){if(a.transformStyle&&this.style&&!this.style._loaded)return void this.style.once("style.load",()=>this._updateStyle(x,a));let d=this.style&&a.transformStyle?this.style.serialize():void 0;return this.style&&(this.style.setEventedParent(null),this.style._remove(!x)),x?(this.style=new xg(this,a||{}),this.style.setEventedParent(this,{style:this.style}),typeof x=="string"?this.style.loadURL(x,a,d):this.style.loadJSON(x,a,d),this):(delete this.style,this)}_lazyInitEmptyStyle(){this.style||(this.style=new xg(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(x,a){if(typeof x=="string"){let d=this._requestManager.transformRequest(x,"Style");o.h(d,new AbortController).then(m=>{this._updateDiff(m.data,a)}).catch(m=>{m&&this.fire(new o.j(m))})}else typeof x=="object"&&this._updateDiff(x,a)}_updateDiff(x,a){try{this.style.setState(x,a)&&this._update(!0)}catch(d){o.w(`Unable to perform style diff: ${d.message||d.error||d}.  Rebuilding the style from scratch.`),this._updateStyle(x,a)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():o.w("There is no style added to the map.")}addSource(x,a){return this._lazyInitEmptyStyle(),this.style.addSource(x,a),this._update(!0)}isSourceLoaded(x){let a=this.style&&this.style.sourceCaches[x];if(a!==void 0)return a.loaded();this.fire(new o.j(new Error(`There is no source with ID '${x}'`)))}setTerrain(x){if(this.style._checkLoaded(),this._terrainDataCallback&&this.style.off("data",this._terrainDataCallback),x){let a=this.style.sourceCaches[x.source];if(!a)throw new Error(`cannot load terrain, because there exists no source with ID: ${x.source}`);this.terrain===null&&a.reload();for(let d in this.style._layers){let m=this.style._layers[d];m.type==="hillshade"&&m.source===x.source&&o.w("You are using the same source for a hillshade layer and for 3D terrain. Please consider using two separate sources to improve rendering quality.")}this.terrain=new u_(this.painter,a,x),this.painter.renderToTexture=new DI(this.painter,this.terrain),this.transform.minElevationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this._terrainDataCallback=d=>{d.dataType==="style"?this.terrain.sourceCache.freeRtt():d.dataType==="source"&&d.tile&&(d.sourceId!==x.source||this._elevationFreeze||(this.transform.minElevationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this.terrain.sourceCache.freeRtt(d.tile.tileID))},this.style.on("data",this._terrainDataCallback)}else this.terrain&&this.terrain.sourceCache.destruct(),this.terrain=null,this.painter.renderToTexture&&this.painter.renderToTexture.destruct(),this.painter.renderToTexture=null,this.transform.minElevationForCurrentTile=0,this.transform.elevation=0;return this.fire(new o.k("terrain",{terrain:x})),this}getTerrain(){var x,a;return(a=(x=this.terrain)===null||x===void 0?void 0:x.options)!==null&&a!==void 0?a:null}areTilesLoaded(){let x=this.style&&this.style.sourceCaches;for(let a in x){let d=x[a]._tiles;for(let m in d){let g=d[m];if(g.state!=="loaded"&&g.state!=="errored")return!1}}return!0}removeSource(x){return this.style.removeSource(x),this._update(!0)}getSource(x){return this.style.getSource(x)}addImage(x,a,d={}){let{pixelRatio:m=1,sdf:g=!1,stretchX:b,stretchY:C,content:P,textFitWidth:O,textFitHeight:z}=d;if(this._lazyInitEmptyStyle(),!(a instanceof HTMLImageElement||o.b(a))){if(a.width===void 0||a.height===void 0)return this.fire(new o.j(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{let{width:U,height:V,data:K}=a,te=a;return this.style.addImage(x,{data:new o.R({width:U,height:V},new Uint8Array(K)),pixelRatio:m,stretchX:b,stretchY:C,content:P,textFitWidth:O,textFitHeight:z,sdf:g,version:0,userImage:te}),te.onAdd&&te.onAdd(this,x),this}}{let{width:U,height:V,data:K}=y.getImageData(a);this.style.addImage(x,{data:new o.R({width:U,height:V},K),pixelRatio:m,stretchX:b,stretchY:C,content:P,textFitWidth:O,textFitHeight:z,sdf:g,version:0})}}updateImage(x,a){let d=this.style.getImage(x);if(!d)return this.fire(new o.j(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));let m=a instanceof HTMLImageElement||o.b(a)?y.getImageData(a):a,{width:g,height:b,data:C}=m;if(g===void 0||b===void 0)return this.fire(new o.j(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(g!==d.data.width||b!==d.data.height)return this.fire(new o.j(new Error("The width and height of the updated image must be that same as the previous version of the image")));let P=!(a instanceof HTMLImageElement||o.b(a));return d.data.replace(C,P),this.style.updateImage(x,d),this}getImage(x){return this.style.getImage(x)}hasImage(x){return x?!!this.style.getImage(x):(this.fire(new o.j(new Error("Missing required image id"))),!1)}removeImage(x){this.style.removeImage(x)}loadImage(x){return L.getImage(this._requestManager.transformRequest(x,"Image"),new AbortController)}listImages(){return this.style.listImages()}addLayer(x,a){return this._lazyInitEmptyStyle(),this.style.addLayer(x,a),this._update(!0)}moveLayer(x,a){return this.style.moveLayer(x,a),this._update(!0)}removeLayer(x){return this.style.removeLayer(x),this._update(!0)}getLayer(x){return this.style.getLayer(x)}getLayersOrder(){return this.style.getLayersOrder()}setLayerZoomRange(x,a,d){return this.style.setLayerZoomRange(x,a,d),this._update(!0)}setFilter(x,a,d={}){return this.style.setFilter(x,a,d),this._update(!0)}getFilter(x){return this.style.getFilter(x)}setPaintProperty(x,a,d,m={}){return this.style.setPaintProperty(x,a,d,m),this._update(!0)}getPaintProperty(x,a){return this.style.getPaintProperty(x,a)}setLayoutProperty(x,a,d,m={}){return this.style.setLayoutProperty(x,a,d,m),this._update(!0)}getLayoutProperty(x,a){return this.style.getLayoutProperty(x,a)}setGlyphs(x,a={}){return this._lazyInitEmptyStyle(),this.style.setGlyphs(x,a),this._update(!0)}getGlyphs(){return this.style.getGlyphsUrl()}addSprite(x,a,d={}){return this._lazyInitEmptyStyle(),this.style.addSprite(x,a,d,m=>{m||this._update(!0)}),this}removeSprite(x){return this._lazyInitEmptyStyle(),this.style.removeSprite(x),this._update(!0)}getSprite(){return this.style.getSprite()}setSprite(x,a={}){return this._lazyInitEmptyStyle(),this.style.setSprite(x,a,d=>{d||this._update(!0)}),this}setLight(x,a={}){return this._lazyInitEmptyStyle(),this.style.setLight(x,a),this._update(!0)}getLight(){return this.style.getLight()}setSky(x){return this._lazyInitEmptyStyle(),this.style.setSky(x),this._update(!0)}getSky(){return this.style.getSky()}setFeatureState(x,a){return this.style.setFeatureState(x,a),this._update()}removeFeatureState(x,a){return this.style.removeFeatureState(x,a),this._update()}getFeatureState(x){return this.style.getFeatureState(x)}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}_containerDimensions(){let x=0,a=0;return this._container&&(x=this._container.clientWidth||400,a=this._container.clientHeight||300),[x,a]}_setupContainer(){let x=this._container;x.classList.add("maplibregl-map");let a=this._canvasContainer=_.create("div","maplibregl-canvas-container",x);this._interactive&&a.classList.add("maplibregl-interactive"),this._canvas=_.create("canvas","maplibregl-canvas",a),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex",this._interactive?"0":"-1"),this._canvas.setAttribute("aria-label",this._getUIString("Map.Title")),this._canvas.setAttribute("role","region");let d=this._containerDimensions(),m=this._getClampedPixelRatio(d[0],d[1]);this._resizeCanvas(d[0],d[1],m);let g=this._controlContainer=_.create("div","maplibregl-control-container",x),b=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(C=>{b[C]=_.create("div",`maplibregl-ctrl-${C} `,g)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(x,a,d){this._canvas.width=Math.floor(d*x),this._canvas.height=Math.floor(d*a),this._canvas.style.width=`${x}px`,this._canvas.style.height=`${a}px`}_setupPainter(){let x={alpha:!0,stencil:!0,depth:!0,failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1},a=null;this._canvas.addEventListener("webglcontextcreationerror",m=>{a={requestedAttributes:x},m&&(a.statusMessage=m.statusMessage,a.type=m.type)},{once:!0});let d=this._canvas.getContext("webgl2",x)||this._canvas.getContext("webgl",x);if(!d){let m="Failed to initialize WebGL";throw a?(a.message=m,new Error(JSON.stringify(a))):new Error(m)}this.painter=new Rg(d,this.transform),E.testSupport(d)}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(x){return this.style&&this.style._loaded?(this._styleDirty=this._styleDirty||x,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(x){return this._update(),this._renderTaskQueue.add(x)}_cancelRenderFrame(x){this._renderTaskQueue.remove(x)}_render(x){let a=this._idleTriggered?this._fadeDuration:0;if(this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(x),this._removed)return;let d=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;let g=this.transform.zoom,b=y.now();this.style.zoomHistory.update(g,b);let C=new o.z(g,{now:b,fadeDuration:a,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),P=C.crossFadingFactor();P===1&&P===this._crossFadingFactor||(d=!0,this._crossFadingFactor=P),this.style.update(C)}this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.terrain?(this.terrain.sourceCache.update(this.transform,this.terrain),this.transform.minElevationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this._elevationFreeze||(this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))):(this.transform.minElevationForCurrentTile=0,this.transform.elevation=0),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,a,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:a,showPadding:this.showPadding}),this.fire(new o.k("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,o.bf.mark(o.bg.load),this.fire(new o.k("load"))),this.style&&(this.style.hasTransitions()||d)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles();let m=this._sourcesDirty||this._styleDirty||this._placementDirty;return m||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new o.k("idle")),!this._loaded||this._fullyLoaded||m||(this._fullyLoaded=!0,o.bf.mark(o.bg.fullLoad)),this}redraw(){return this.style&&(this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._render(0)),this}remove(){var x;this._hash&&this._hash.remove();for(let d of this._controls)d.onRemove(this);this._controls=[],this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof window!="undefined"&&removeEventListener("online",this._onWindowOnline,!1),L.removeThrottleControl(this._imageQueueHandle),(x=this._resizeObserver)===null||x===void 0||x.disconnect();let a=this.painter.context.gl.getExtension("WEBGL_lose_context");a!=null&&a.loseContext&&a.loseContext(),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),_.remove(this._canvasContainer),_.remove(this._controlContainer),this._container.classList.remove("maplibregl-map"),o.bf.clearMetrics(),this._removed=!0,this.fire(new o.k("remove"))}triggerRepaint(){this.style&&!this._frameRequest&&(this._frameRequest=new AbortController,y.frameAsync(this._frameRequest).then(x=>{o.bf.frame(x),this._frameRequest=null,this._render(x)}).catch(()=>{}))}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(x){this._showTileBoundaries!==x&&(this._showTileBoundaries=x,this._update())}get showPadding(){return!!this._showPadding}set showPadding(x){this._showPadding!==x&&(this._showPadding=x,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(x){this._showCollisionBoxes!==x&&(this._showCollisionBoxes=x,x?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(x){this._showOverdrawInspector!==x&&(this._showOverdrawInspector=x,this._update())}get repaint(){return!!this._repaint}set repaint(x){this._repaint!==x&&(this._repaint=x,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(x){this._vertices=x,this._update()}get version(){return NI}getCameraTargetElevation(){return this.transform.elevation}},i.MapMouseEvent=ho,i.MapTouchEvent=Qc,i.MapWheelEvent=TI,i.Marker=Yg,i.NavigationControl=class{constructor(x){this._updateZoomButtons=()=>{let a=this._map.getZoom(),d=a===this._map.getMaxZoom(),m=a===this._map.getMinZoom();this._zoomInButton.disabled=d,this._zoomOutButton.disabled=m,this._zoomInButton.setAttribute("aria-disabled",d.toString()),this._zoomOutButton.setAttribute("aria-disabled",m.toString())},this._rotateCompassArrow=()=>{let a=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${this._map.transform.angle*(180/Math.PI)}deg)`:`rotate(${this._map.transform.angle*(180/Math.PI)}deg)`;this._compassIcon.style.transform=a},this._setButtonTitle=(a,d)=>{let m=this._map._getUIString(`NavigationControl.${d}`);a.title=m,a.setAttribute("aria-label",m)},this.options=o.e({},_N,x),this._container=_.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._container.addEventListener("contextmenu",a=>a.preventDefault()),this.options.showZoom&&(this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in",a=>this._map.zoomIn({},{originalEvent:a})),_.create("span","maplibregl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out",a=>this._map.zoomOut({},{originalEvent:a})),_.create("span","maplibregl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(this._compass=this._createButton("maplibregl-ctrl-compass",a=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:a}):this._map.resetNorth({},{originalEvent:a})}),this._compassIcon=_.create("span","maplibregl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}onAdd(x){return this._map=x,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new bN(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){_.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(x,a){let d=_.create("button",x,this._container);return d.type="button",d.addEventListener("click",a),d}},i.Popup=class extends o.E{constructor(x){super(),this.remove=()=>(this._content&&_.remove(this._content),this._container&&(_.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),this._map._canvasContainer.classList.remove("maplibregl-track-pointer"),delete this._map,this.fire(new o.k("close"))),this),this._onMouseUp=a=>{this._update(a.point)},this._onMouseMove=a=>{this._update(a.point)},this._onDrag=a=>{this._update(a.point)},this._update=a=>{var d;if(!this._map||!this._lngLat&&!this._trackPointer||!this._content)return;if(!this._container){if(this._container=_.create("div","maplibregl-popup",this._map.getContainer()),this._tip=_.create("div","maplibregl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className)for(let P of this.options.className.split(" "))this._container.classList.add(P);this._closeButton&&this._closeButton.setAttribute("aria-label",this._map._getUIString("Popup.Close")),this._trackPointer&&this._container.classList.add("maplibregl-popup-track-pointer")}if(this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._lngLat=this._map.transform.renderWorldCopies&&!this._trackPointer?Kn(this._lngLat,this._flatPos,this._map.transform):(d=this._lngLat)===null||d===void 0?void 0:d.wrap(),this._trackPointer&&!a)return;let m=this._flatPos=this._pos=this._trackPointer&&a?a:this._map.project(this._lngLat);this._map.terrain&&(this._flatPos=this._trackPointer&&a?a:this._map.transform.locationPoint(this._lngLat));let g=this.options.anchor,b=Kg(this.options.offset);if(!g){let P=this._container.offsetWidth,O=this._container.offsetHeight,z;z=m.y+b.bottom.y<O?["top"]:m.y>this._map.transform.height-O?["bottom"]:[],m.x<P/2?z.push("left"):m.x>this._map.transform.width-P/2&&z.push("right"),g=z.length===0?"bottom":z.join("-")}let C=m.add(b[g]);this.options.subpixelPositioning||(C=C.round()),_.setTransform(this._container,`${Ap[g]} translate(${C.x}px,${C.y}px)`),Gg(this._container,g,"popup")},this._onClose=()=>{this.remove()},this.options=o.e(Object.create(pr),x)}addTo(x){return this._map&&this.remove(),this._map=x,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")):this._map.on("move",this._update),this.fire(new o.k("open")),this}isOpen(){return!!this._map}getLngLat(){return this._lngLat}setLngLat(x){return this._lngLat=o.N.convert(x),this._pos=null,this._flatPos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._flatPos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")),this}getElement(){return this._container}setText(x){return this.setDOMContent(document.createTextNode(x))}setHTML(x){let a=document.createDocumentFragment(),d=document.createElement("body"),m;for(d.innerHTML=x;m=d.firstChild,m;)a.appendChild(m);return this.setDOMContent(a)}getMaxWidth(){var x;return(x=this._container)===null||x===void 0?void 0:x.style.maxWidth}setMaxWidth(x){return this.options.maxWidth=x,this._update(),this}setDOMContent(x){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=_.create("div","maplibregl-popup-content",this._container);return this._content.appendChild(x),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(x){return this._container&&this._container.classList.add(x),this}removeClassName(x){return this._container&&this._container.classList.remove(x),this}setOffset(x){return this.options.offset=x,this._update(),this}toggleClassName(x){if(this._container)return this._container.classList.toggle(x)}setSubpixelPositioning(x){this.options.subpixelPositioning=x}_createCloseButton(){this.options.closeButton&&(this._closeButton=_.create("button","maplibregl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;let x=this._container.querySelector(Zg);x&&x.focus()}},i.RasterDEMTileSource=Yt,i.RasterTileSource=vt,i.ScaleControl=class{constructor(x){this._onMove=()=>{kh(this._map,this._container,this.options)},this.setUnit=a=>{this.options.unit=a,kh(this._map,this._container,this.options)},this.options=Object.assign(Object.assign({},_l),x)}getDefaultPosition(){return"bottom-left"}onAdd(x){return this._map=x,this._container=_.create("div","maplibregl-ctrl maplibregl-ctrl-scale",x.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){_.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}},i.ScrollZoomHandler=Ws,i.Style=xg,i.TerrainControl=class{constructor(x){this._toggleTerrain=()=>{this._map.getTerrain()?this._map.setTerrain(null):this._map.setTerrain(this.options),this._updateTerrainIcon()},this._updateTerrainIcon=()=>{this._terrainButton.classList.remove("maplibregl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled"),this._map.terrain?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.Disable")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.Enable"))},this.options=x}onAdd(x){return this._map=x,this._container=_.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._terrainButton=_.create("button","maplibregl-ctrl-terrain",this._container),_.create("span","maplibregl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){_.remove(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}},i.TwoFingersTouchPitchHandler=Ip,i.TwoFingersTouchRotateHandler=n_,i.TwoFingersTouchZoomHandler=t_,i.TwoFingersTouchZoomRotateHandler=o_,i.VectorTileSource=Ft,i.VideoSource=Gr,i.addSourceType=(x,a)=>o._(void 0,void 0,void 0,function*(){if(tn(x))throw new Error(`A source type called "${x}" already exists.`);((d,m)=>{ir[d]=m})(x,a)}),i.clearPrewarmedResources=function(){let x=De;x&&(x.isPreloaded()&&x.numActive()===1?(x.release(Fe),De=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},i.getMaxParallelImageRequests=function(){return o.a.MAX_PARALLEL_IMAGE_REQUESTS},i.getRTLTextPluginStatus=function(){return is().getRTLTextPluginStatus()},i.getVersion=function(){return p_},i.getWorkerCount=function(){return Ge.workerCount},i.getWorkerUrl=function(){return o.a.WORKER_URL},i.importScriptInWorkers=function(x){return Qe().broadcast("IS",x)},i.prewarm=function(){ke().acquire(Fe)},i.setMaxParallelImageRequests=function(x){o.a.MAX_PARALLEL_IMAGE_REQUESTS=x},i.setRTLTextPlugin=function(x,a){return is().setRTLTextPlugin(x,a)},i.setWorkerCount=function(x){Ge.workerCount=x},i.setWorkerUrl=function(x){o.a.WORKER_URL=x}});var n=e;return n})});var lV=I((E4r,dAe)=>{"use strict";dAe.exports=function(t,r){return function(){for(var i=new Array(arguments.length),o=0;o<i.length;o++)i[o]=arguments[o];return t.apply(r,i)}}});var Cs=I((T4r,hAe)=>{"use strict";var tWt=lV(),Bm=Object.prototype.toString;function dV(e){return Bm.call(e)==="[object Array]"}function uV(e){return typeof e=="undefined"}function rWt(e){return e!==null&&!uV(e)&&e.constructor!==null&&!uV(e.constructor)&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function nWt(e){return Bm.call(e)==="[object ArrayBuffer]"}function iWt(e){return typeof FormData!="undefined"&&e instanceof FormData}function oWt(e){var t;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&e.buffer instanceof ArrayBuffer,t}function aWt(e){return typeof e=="string"}function sWt(e){return typeof e=="number"}function pAe(e){return e!==null&&typeof e=="object"}function EA(e){if(Bm.call(e)!=="[object Object]")return!1;var t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function lWt(e){return Bm.call(e)==="[object Date]"}function uWt(e){return Bm.call(e)==="[object File]"}function cWt(e){return Bm.call(e)==="[object Blob]"}function fAe(e){return Bm.call(e)==="[object Function]"}function dWt(e){return pAe(e)&&fAe(e.pipe)}function pWt(e){return typeof URLSearchParams!="undefined"&&e instanceof URLSearchParams}function fWt(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function hWt(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function pV(e,t){if(!(e===null||typeof e=="undefined"))if(typeof e!="object"&&(e=[e]),dV(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}function cV(){var e={};function t(i,o){EA(e[o])&&EA(i)?e[o]=cV(e[o],i):EA(i)?e[o]=cV({},i):dV(i)?e[o]=i.slice():e[o]=i}for(var r=0,n=arguments.length;r<n;r++)pV(arguments[r],t);return e}function mWt(e,t,r){return pV(t,function(i,o){r&&typeof i=="function"?e[o]=tWt(i,r):e[o]=i}),e}function gWt(e){return e.charCodeAt(0)===65279&&(e=e.slice(1)),e}hAe.exports={isArray:dV,isArrayBuffer:nWt,isBuffer:rWt,isFormData:iWt,isArrayBufferView:oWt,isString:aWt,isNumber:sWt,isObject:pAe,isPlainObject:EA,isUndefined:uV,isDate:lWt,isFile:uWt,isBlob:cWt,isFunction:fAe,isStream:dWt,isURLSearchParams:pWt,isStandardBrowserEnv:hWt,forEach:pV,merge:cV,extend:mWt,trim:fWt,stripBOM:gWt}});var fV=I((M4r,gAe)=>{"use strict";var l0=Cs();function mAe(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}gAe.exports=function(t,r,n){if(!r)return t;var i;if(n)i=n(r);else if(l0.isURLSearchParams(r))i=r.toString();else{var o=[];l0.forEach(r,function(h,y){h===null||typeof h=="undefined"||(l0.isArray(h)?y=y+"[]":h=[h],l0.forEach(h,function(E){l0.isDate(E)?E=E.toISOString():l0.isObject(E)&&(E=JSON.stringify(E)),o.push(mAe(y)+"="+mAe(E))}))}),i=o.join("&")}if(i){var u=t.indexOf("#");u!==-1&&(t=t.slice(0,u)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}});var yAe=I((C4r,vAe)=>{"use strict";var vWt=Cs();function TA(){this.handlers=[]}TA.prototype.use=function(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1};TA.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)};TA.prototype.forEach=function(t){vWt.forEach(this.handlers,function(n){n!==null&&t(n)})};vAe.exports=TA});var bAe=I((A4r,_Ae)=>{"use strict";var yWt=Cs();_Ae.exports=function(t,r){yWt.forEach(t,function(i,o){o!==r&&o.toUpperCase()===r.toUpperCase()&&(t[r]=i,delete t[o])})}});var hV=I((P4r,xAe)=>{"use strict";xAe.exports=function(t,r,n,i,o){return t.config=r,n&&(t.code=n),t.request=i,t.response=o,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},t}});var mV=I((O4r,wAe)=>{"use strict";var _Wt=hV();wAe.exports=function(t,r,n,i,o){var u=new Error(t);return _Wt(u,r,n,i,o)}});var IAe=I((D4r,SAe)=>{"use strict";var bWt=mV();SAe.exports=function(t,r,n){var i=n.config.validateStatus;!n.status||!i||i(n.status)?t(n):r(bWt("Request failed with status code "+n.status,n.config,null,n.request,n))}});var TAe=I((N4r,EAe)=>{"use strict";var MA=Cs();EAe.exports=MA.isStandardBrowserEnv()?function(){return{write:function(r,n,i,o,u,p){var h=[];h.push(r+"="+encodeURIComponent(n)),MA.isNumber(i)&&h.push("expires="+new Date(i).toGMTString()),MA.isString(o)&&h.push("path="+o),MA.isString(u)&&h.push("domain="+u),p===!0&&h.push("secure"),document.cookie=h.join("; ")},read:function(r){var n=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()});var CAe=I((k4r,MAe)=>{"use strict";MAe.exports=function(t){return /^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}});var PAe=I((L4r,AAe)=>{"use strict";AAe.exports=function(t,r){return r?t.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):t}});var DAe=I((q4r,OAe)=>{"use strict";var xWt=CAe(),wWt=PAe();OAe.exports=function(t,r){return t&&!xWt(r)?wWt(t,r):r}});var kAe=I((R4r,NAe)=>{"use strict";var gV=Cs(),SWt=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];NAe.exports=function(t){var r={},n,i,o;return t&&gV.forEach(t.split(`
`),function(p){if(o=p.indexOf(":"),n=gV.trim(p.substr(0,o)).toLowerCase(),i=gV.trim(p.substr(o+1)),n){if(r[n]&&SWt.indexOf(n)>=0)return;n==="set-cookie"?r[n]=(r[n]?r[n]:[]).concat([i]):r[n]=r[n]?r[n]+", "+i:i}}),r}});var RAe=I((z4r,qAe)=>{"use strict";var LAe=Cs();qAe.exports=LAe.isStandardBrowserEnv()?function(){var t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a"),n;function i(o){var u=o;return t&&(r.setAttribute("href",u),u=r.href),r.setAttribute("href",u),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=i(window.location.href),function(u){var p=LAe.isString(u)?i(u):u;return p.protocol===n.protocol&&p.host===n.host}}():function(){return function(){return!0}}()});var Jw=I((j4r,zAe)=>{"use strict";function vV(e){this.message=e}vV.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")};vV.prototype.__CANCEL__=!0;zAe.exports=vV});var _V=I((F4r,jAe)=>{"use strict";var CA=Cs(),IWt=IAe(),EWt=TAe(),TWt=fV(),MWt=DAe(),CWt=kAe(),AWt=RAe(),yV=mV(),PWt=e2(),OWt=Jw();jAe.exports=function(t){return new Promise(function(n,i){var o=t.data,u=t.headers,p=t.responseType,h;function y(){t.cancelToken&&t.cancelToken.unsubscribe(h),t.signal&&t.signal.removeEventListener("abort",h)}CA.isFormData(o)&&delete u["Content-Type"];var _=new XMLHttpRequest;if(t.auth){var E=t.auth.username||"",T=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";u.Authorization="Basic "+btoa(E+":"+T)}var N=MWt(t.baseURL,t.url);_.open(t.method.toUpperCase(),TWt(N,t.params,t.paramsSerializer),!0),_.timeout=t.timeout;function R(){if(_){var k="getAllResponseHeaders"in _?CWt(_.getAllResponseHeaders()):null,L=!p||p==="text"||p==="json"?_.responseText:_.response,F={data:L,status:_.status,statusText:_.statusText,headers:k,config:t,request:_};IWt(function(ee){n(ee),y()},function(ee){i(ee),y()},F),_=null}}if("onloadend"in _?_.onloadend=R:_.onreadystatechange=function(){!_||_.readyState!==4||_.status===0&&!(_.responseURL&&_.responseURL.indexOf("file:")===0)||setTimeout(R)},_.onabort=function(){_&&(i(yV("Request aborted",t,"ECONNABORTED",_)),_=null)},_.onerror=function(){i(yV("Network Error",t,null,_)),_=null},_.ontimeout=function(){var L=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded",F=t.transitional||PWt.transitional;t.timeoutErrorMessage&&(L=t.timeoutErrorMessage),i(yV(L,t,F.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",_)),_=null},CA.isStandardBrowserEnv()){var j=(t.withCredentials||AWt(N))&&t.xsrfCookieName?EWt.read(t.xsrfCookieName):void 0;j&&(u[t.xsrfHeaderName]=j)}"setRequestHeader"in _&&CA.forEach(u,function(L,F){typeof o=="undefined"&&F.toLowerCase()==="content-type"?delete u[F]:_.setRequestHeader(F,L)}),CA.isUndefined(t.withCredentials)||(_.withCredentials=!!t.withCredentials),p&&p!=="json"&&(_.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&_.addEventListener("progress",t.onDownloadProgress),typeof t.onUploadProgress=="function"&&_.upload&&_.upload.addEventListener("progress",t.onUploadProgress),(t.cancelToken||t.signal)&&(h=function(k){_&&(i(!k||k&&k.type?new OWt("canceled"):k),_.abort(),_=null)},t.cancelToken&&t.cancelToken.subscribe(h),t.signal&&(t.signal.aborted?h():t.signal.addEventListener("abort",h))),o||(o=null),_.send(o)})}});var e2=I((B4r,UAe)=>{"use strict";var Zo=Cs(),FAe=bAe(),DWt=hV(),NWt={"Content-Type":"application/x-www-form-urlencoded"};function BAe(e,t){!Zo.isUndefined(e)&&Zo.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function kWt(){var e;return typeof XMLHttpRequest!="undefined"?e=_V():typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]"&&(e=_V()),e}function LWt(e,t,r){if(Zo.isString(e))try{return(t||JSON.parse)(e),Zo.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}var AA={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:kWt(),transformRequest:[function(t,r){return FAe(r,"Accept"),FAe(r,"Content-Type"),Zo.isFormData(t)||Zo.isArrayBuffer(t)||Zo.isBuffer(t)||Zo.isStream(t)||Zo.isFile(t)||Zo.isBlob(t)?t:Zo.isArrayBufferView(t)?t.buffer:Zo.isURLSearchParams(t)?(BAe(r,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):Zo.isObject(t)||r&&r["Content-Type"]==="application/json"?(BAe(r,"application/json"),LWt(t)):t}],transformResponse:[function(t){var r=this.transitional||AA.transitional,n=r&&r.silentJSONParsing,i=r&&r.forcedJSONParsing,o=!n&&this.responseType==="json";if(o||i&&Zo.isString(t)&&t.length)try{return JSON.parse(t)}catch(u){if(o)throw u.name==="SyntaxError"?DWt(u,this,"E_JSON_PARSE"):u}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Zo.forEach(["delete","get","head"],function(t){AA.headers[t]={}});Zo.forEach(["post","put","patch"],function(t){AA.headers[t]=Zo.merge(NWt)});UAe.exports=AA});var $Ae=I((U4r,VAe)=>{"use strict";var qWt=Cs(),RWt=e2();VAe.exports=function(t,r,n){var i=this||RWt;return qWt.forEach(n,function(u){t=u.call(i,t,r)}),t}});var bV=I((V4r,HAe)=>{"use strict";HAe.exports=function(t){return!!(t&&t.__CANCEL__)}});var YAe=I(($4r,GAe)=>{"use strict";var WAe=Cs(),xV=$Ae(),zWt=bV(),jWt=e2(),FWt=Jw();function wV(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new FWt("canceled")}GAe.exports=function(t){wV(t),t.headers=t.headers||{},t.data=xV.call(t,t.data,t.headers,t.transformRequest),t.headers=WAe.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),WAe.forEach(["delete","get","head","post","put","patch","common"],function(i){delete t.headers[i]});var r=t.adapter||jWt.adapter;return r(t).then(function(i){return wV(t),i.data=xV.call(t,i.data,i.headers,t.transformResponse),i},function(i){return zWt(i)||(wV(t),i&&i.response&&(i.response.data=xV.call(t,i.response.data,i.response.headers,t.transformResponse))),Promise.reject(i)})}});var SV=I((H4r,ZAe)=>{"use strict";var al=Cs();ZAe.exports=function(t,r){r=r||{};var n={};function i(_,E){return al.isPlainObject(_)&&al.isPlainObject(E)?al.merge(_,E):al.isPlainObject(E)?al.merge({},E):al.isArray(E)?E.slice():E}function o(_){if(al.isUndefined(r[_])){if(!al.isUndefined(t[_]))return i(void 0,t[_])}else return i(t[_],r[_])}function u(_){if(!al.isUndefined(r[_]))return i(void 0,r[_])}function p(_){if(al.isUndefined(r[_])){if(!al.isUndefined(t[_]))return i(void 0,t[_])}else return i(void 0,r[_])}function h(_){if(_ in r)return i(t[_],r[_]);if(_ in t)return i(void 0,t[_])}var y={url:u,method:u,data:u,baseURL:p,transformRequest:p,transformResponse:p,paramsSerializer:p,timeout:p,timeoutMessage:p,withCredentials:p,adapter:p,responseType:p,xsrfCookieName:p,xsrfHeaderName:p,onUploadProgress:p,onDownloadProgress:p,decompress:p,maxContentLength:p,maxBodyLength:p,transport:p,httpAgent:p,httpsAgent:p,cancelToken:p,socketPath:p,responseEncoding:p,validateStatus:h};return al.forEach(Object.keys(t).concat(Object.keys(r)),function(E){var T=y[E]||o,N=T(E);al.isUndefined(N)&&T!==h||(n[E]=N)}),n}});var IV=I((W4r,KAe)=>{KAe.exports={version:"0.24.0"}});var JAe=I((G4r,QAe)=>{"use strict";var BWt=IV().version,EV={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){EV[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});var XAe={};EV.transitional=function(t,r,n){function i(o,u){return"[Axios v"+BWt+"] Transitional option '"+o+"'"+u+(n?". "+n:"")}return function(o,u,p){if(t===!1)throw new Error(i(u," has been removed"+(r?" in "+r:"")));return r&&!XAe[u]&&(XAe[u]=!0,console.warn(i(u," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(o,u,p):!0}};function UWt(e,t,r){if(typeof e!="object")throw new TypeError("options must be an object");for(var n=Object.keys(e),i=n.length;i-->0;){var o=n[i],u=t[o];if(u){var p=e[o],h=p===void 0||u(p,o,e);if(h!==!0)throw new TypeError("option "+o+" must be "+h);continue}if(r!==!0)throw Error("Unknown option "+o)}}QAe.exports={assertOptions:UWt,validators:EV}});var o3e=I((Y4r,i3e)=>{"use strict";var r3e=Cs(),VWt=fV(),e3e=yAe(),t3e=YAe(),PA=SV(),n3e=JAe(),u0=n3e.validators;function t2(e){this.defaults=e,this.interceptors={request:new e3e,response:new e3e}}t2.prototype.request=function(t){typeof t=="string"?(t=arguments[1]||{},t.url=arguments[0]):t=t||{},t=PA(this.defaults,t),t.method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var r=t.transitional;r!==void 0&&n3e.assertOptions(r,{silentJSONParsing:u0.transitional(u0.boolean),forcedJSONParsing:u0.transitional(u0.boolean),clarifyTimeoutError:u0.transitional(u0.boolean)},!1);var n=[],i=!0;this.interceptors.request.forEach(function(T){typeof T.runWhen=="function"&&T.runWhen(t)===!1||(i=i&&T.synchronous,n.unshift(T.fulfilled,T.rejected))});var o=[];this.interceptors.response.forEach(function(T){o.push(T.fulfilled,T.rejected)});var u;if(!i){var p=[t3e,void 0];for(Array.prototype.unshift.apply(p,n),p=p.concat(o),u=Promise.resolve(t);p.length;)u=u.then(p.shift(),p.shift());return u}for(var h=t;n.length;){var y=n.shift(),_=n.shift();try{h=y(h)}catch(E){_(E);break}}try{u=t3e(h)}catch(E){return Promise.reject(E)}for(;o.length;)u=u.then(o.shift(),o.shift());return u};t2.prototype.getUri=function(t){return t=PA(this.defaults,t),VWt(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")};r3e.forEach(["delete","get","head","options"],function(t){t2.prototype[t]=function(r,n){return this.request(PA(n||{},{method:t,url:r,data:(n||{}).data}))}});r3e.forEach(["post","put","patch"],function(t){t2.prototype[t]=function(r,n,i){return this.request(PA(i||{},{method:t,url:r,data:n}))}});i3e.exports=t2});var s3e=I((Z4r,a3e)=>{"use strict";var $Wt=Jw();function c0(e){if(typeof e!="function")throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(i){t=i});var r=this;this.promise.then(function(n){if(r._listeners){var i,o=r._listeners.length;for(i=0;i<o;i++)r._listeners[i](n);r._listeners=null}}),this.promise.then=function(n){var i,o=new Promise(function(u){r.subscribe(u),i=u}).then(n);return o.cancel=function(){r.unsubscribe(i)},o},e(function(i){r.reason||(r.reason=new $Wt(i),t(r.reason))})}c0.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};c0.prototype.subscribe=function(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]};c0.prototype.unsubscribe=function(t){if(this._listeners){var r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}};c0.source=function(){var t,r=new c0(function(i){t=i});return{token:r,cancel:t}};a3e.exports=c0});var u3e=I((K4r,l3e)=>{"use strict";l3e.exports=function(t){return function(n){return t.apply(null,n)}}});var d3e=I((X4r,c3e)=>{"use strict";c3e.exports=function(t){return typeof t=="object"&&t.isAxiosError===!0}});var h3e=I((Q4r,TV)=>{"use strict";var p3e=Cs(),HWt=lV(),OA=o3e(),WWt=SV(),GWt=e2();function f3e(e){var t=new OA(e),r=HWt(OA.prototype.request,t);return p3e.extend(r,OA.prototype,t),p3e.extend(r,t),r.create=function(i){return f3e(WWt(e,i))},r}var vc=f3e(GWt);vc.Axios=OA;vc.Cancel=Jw();vc.CancelToken=s3e();vc.isCancel=bV();vc.VERSION=IV().version;vc.all=function(t){return Promise.all(t)};vc.spread=u3e();vc.isAxiosError=d3e();TV.exports=vc;TV.exports.default=vc});var Um=I((J4r,m3e)=>{m3e.exports=h3e()});var M3e=I((iPr,T3e)=>{var AV=1/0,KWt=17976931348623157e292,y3e=NaN,XWt="[object Symbol]",QWt=/^\s+|\s+$/g,JWt=/^[-+]0x[0-9a-f]+$/i,eGt=/^0b[01]+$/i,tGt=/^0o[0-7]+$/i,rGt=parseInt,nGt=typeof global=="object"&&global&&global.Object===Object&&global,iGt=typeof self=="object"&&self&&self.Object===Object&&self,oGt=nGt||iGt||Function("return this")(),aGt=Object.prototype,sGt=aGt.toString,_3e=oGt.Symbol,lGt=Math.min,b3e=_3e?_3e.prototype:void 0,x3e=b3e?b3e.toString:void 0;function uGt(e){if(typeof e=="string")return e;if(I3e(e))return x3e?x3e.call(e):"";var t=e+"";return t=="0"&&1/e==-AV?"-0":t}function cGt(e){var t=Math[e];return function(r,n){if(r=E3e(r),n=lGt(fGt(n),292),n){var i=(S3e(r)+"e").split("e"),o=t(i[0]+"e"+(+i[1]+n));return i=(S3e(o)+"e").split("e"),+(i[0]+"e"+(+i[1]-n))}return t(r)}}function w3e(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function dGt(e){return!!e&&typeof e=="object"}function I3e(e){return typeof e=="symbol"||dGt(e)&&sGt.call(e)==XWt}function pGt(e){if(!e)return e===0?e:0;if(e=E3e(e),e===AV||e===-AV){var t=e<0?-1:1;return t*KWt}return e===e?e:0}function fGt(e){var t=pGt(e),r=t%1;return t===t?r?t-r:t:0}function E3e(e){if(typeof e=="number")return e;if(I3e(e))return y3e;if(w3e(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=w3e(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(QWt,"");var r=eGt.test(e);return r||tGt.test(e)?rGt(e.slice(2),r?2:8):JWt.test(e)?y3e:+e}function S3e(e){return e==null?"":uGt(e)}var hGt=cGt("round");T3e.exports=hGt});var m0=I((_Dr,h4e)=>{var kGt=h4e.exports=typeof window!="undefined"&&window.Math==Math?window:typeof self!="undefined"&&self.Math==Math?self:Function("return this")();typeof __g=="number"&&(__g=kGt)});var xc=I((bDr,m4e)=>{var LGt=m4e.exports={version:"2.6.12"};typeof __e=="number"&&(__e=LGt)});var v4e=I((xDr,g4e)=>{g4e.exports=function(e){if(typeof e!="function")throw TypeError(e+" is not a function!");return e}});var JA=I((wDr,y4e)=>{var qGt=v4e();y4e.exports=function(e,t,r){if(qGt(e),t===void 0)return e;switch(r){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,o){return e.call(t,n,i,o)};}return function(){return e.apply(t,arguments)}}});var i2=I((SDr,_4e)=>{_4e.exports=function(e){return typeof e=="object"?e!==null:typeof e=="function"}});var g0=I((IDr,b4e)=>{var RGt=i2();b4e.exports=function(e){if(!RGt(e))throw TypeError(e+" is not an object!");return e}});var e3=I((EDr,x4e)=>{x4e.exports=function(e){try{return!!e()}catch(t){return!0}}});var Zf=I((TDr,w4e)=>{w4e.exports=!e3()(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7})});var GV=I((MDr,I4e)=>{var S4e=i2(),WV=m0().document,zGt=S4e(WV)&&S4e(WV.createElement);I4e.exports=function(e){return zGt?WV.createElement(e):{}}});var YV=I((CDr,E4e)=>{E4e.exports=!Zf()&&!e3()(function(){return Object.defineProperty(GV()("div"),"a",{get:function(){return 7}}).a!=7})});var ZV=I((ADr,T4e)=>{var t3=i2();T4e.exports=function(e,t){if(!t3(e))return e;var r,n;if(t&&typeof(r=e.toString)=="function"&&!t3(n=r.call(e))||typeof(r=e.valueOf)=="function"&&!t3(n=r.call(e))||!t&&typeof(r=e.toString)=="function"&&!t3(n=r.call(e)))return n;throw TypeError("Can't convert object to primitive value")}});var o2=I(C4e=>{var M4e=g0(),jGt=YV(),FGt=ZV(),BGt=Object.defineProperty;C4e.f=Zf()?Object.defineProperty:function(t,r,n){if(M4e(t),r=FGt(r,!0),M4e(n),jGt)try{return BGt(t,r,n)}catch(i){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[r]=n.value),t}});var a2=I((ODr,A4e)=>{A4e.exports=function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}}});var s2=I((DDr,P4e)=>{var UGt=o2(),VGt=a2();P4e.exports=Zf()?function(e,t,r){return UGt.f(e,t,VGt(1,r))}:function(e,t,r){return e[t]=r,e}});var v0=I((NDr,O4e)=>{var $Gt={}.hasOwnProperty;O4e.exports=function(e,t){return $Gt.call(e,t)}});var Kf=I((kDr,N4e)=>{var r3=m0(),KV=xc(),D4e=JA(),HGt=s2(),WGt=v0(),n3="prototype",Sa=function(e,t,r){var n=e&Sa.F,i=e&Sa.G,o=e&Sa.S,u=e&Sa.P,p=e&Sa.B,h=e&Sa.W,y=i?KV:KV[t]||(KV[t]={}),_=y[n3],E=i?r3:o?r3[t]:(r3[t]||{})[n3],T,N,R;i&&(r=t);for(T in r)N=!n&&E&&E[T]!==void 0,!(N&&WGt(y,T))&&(R=N?E[T]:r[T],y[T]=i&&typeof E[T]!="function"?r[T]:p&&N?D4e(R,r3):h&&E[T]==R?function(j){var k=function(L,F,G){if(this instanceof j){switch(arguments.length){case 0:return new j;case 1:return new j(L);case 2:return new j(L,F);}return new j(L,F,G)}return j.apply(this,arguments)};return k[n3]=j[n3],k}(R):u&&typeof R=="function"?D4e(Function.call,R):R,u&&((y.virtual||(y.virtual={}))[T]=R,e&Sa.R&&_&&!_[T]&&HGt(_,T,R)))};Sa.F=1;Sa.G=2;Sa.S=4;Sa.P=8;Sa.B=16;Sa.W=32;Sa.U=64;Sa.R=128;N4e.exports=Sa});var XV=I((LDr,k4e)=>{var GGt={}.toString;k4e.exports=function(e){return GGt.call(e).slice(8,-1)}});var QV=I((qDr,L4e)=>{var YGt=XV();L4e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return YGt(e)=="String"?e.split(""):Object(e)}});var i3=I((RDr,q4e)=>{q4e.exports=function(e){if(e==null)throw TypeError("Can't call method on  "+e);return e}});var l2=I((zDr,R4e)=>{var ZGt=QV(),KGt=i3();R4e.exports=function(e){return ZGt(KGt(e))}});var o3=I((jDr,z4e)=>{var XGt=Math.ceil,QGt=Math.floor;z4e.exports=function(e){return isNaN(e=+e)?0:(e>0?QGt:XGt)(e)}});var JV=I((FDr,j4e)=>{var JGt=o3(),eYt=Math.min;j4e.exports=function(e){return e>0?eYt(JGt(e),9007199254740991):0}});var B4e=I((BDr,F4e)=>{var tYt=o3(),rYt=Math.max,nYt=Math.min;F4e.exports=function(e,t){return e=tYt(e),e<0?rYt(e+t,0):nYt(e,t)}});var V4e=I((UDr,U4e)=>{var iYt=l2(),oYt=JV(),aYt=B4e();U4e.exports=function(e){return function(t,r,n){var i=iYt(t),o=oYt(i.length),u=aYt(n,o),p;if(e&&r!=r){for(;o>u;)if(p=i[u++],p!=p)return!0}else for(;o>u;u++)if((e||u in i)&&i[u]===r)return e||u||0;return!e&&-1}}});var e$=I((VDr,$4e)=>{$4e.exports=!0});var t$=I(($Dr,Y4e)=>{var sYt=xc(),H4e=m0(),W4e="__core-js_shared__",G4e=H4e[W4e]||(H4e[W4e]={});(Y4e.exports=function(e,t){return G4e[e]||(G4e[e]=t!==void 0?t:{})})("versions",[]).push({version:sYt.version,mode:e$()?"pure":"global",copyright:"\xA9 2020 Denis Pushkarev (zloirock.ru)"})});var r$=I((HDr,Z4e)=>{var lYt=0,uYt=Math.random();Z4e.exports=function(e){return"Symbol(".concat(e===void 0?"":e,")_",(++lYt+uYt).toString(36))}});var a3=I((WDr,X4e)=>{var K4e=t$()("keys"),cYt=r$();X4e.exports=function(e){return K4e[e]||(K4e[e]=cYt(e))}});var ePe=I((GDr,J4e)=>{var Q4e=v0(),dYt=l2(),pYt=V4e()(!1),fYt=a3()("IE_PROTO");J4e.exports=function(e,t){var r=dYt(e),n=0,i=[],o;for(o in r)o!=fYt&&Q4e(r,o)&&i.push(o);for(;t.length>n;)Q4e(r,o=t[n++])&&(~pYt(i,o)||i.push(o));return i}});var n$=I((YDr,tPe)=>{tPe.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")});var s3=I((ZDr,rPe)=>{var hYt=ePe(),mYt=n$();rPe.exports=Object.keys||function(t){return hYt(t,mYt)}});var iPe=I(nPe=>{nPe.f=Object.getOwnPropertySymbols});var l3=I(oPe=>{oPe.f={}.propertyIsEnumerable});var u3=I((QDr,aPe)=>{var gYt=i3();aPe.exports=function(e){return Object(gYt(e))}});var uPe=I((JDr,lPe)=>{"use strict";var vYt=Zf(),sPe=s3(),yYt=iPe(),_Yt=l3(),bYt=u3(),xYt=QV(),c3=Object.assign;lPe.exports=!c3||e3()(function(){var e={},t={},r=Symbol(),n="abcdefghijklmnopqrst";return e[r]=7,n.split("").forEach(function(i){t[i]=i}),c3({},e)[r]!=7||Object.keys(c3({},t)).join("")!=n})?function(t,r){for(var n=bYt(t),i=arguments.length,o=1,u=yYt.f,p=_Yt.f;i>o;)for(var h=xYt(arguments[o++]),y=u?sPe(h).concat(u(h)):sPe(h),_=y.length,E=0,T;_>E;)T=y[E++],(!vYt||p.call(h,T))&&(n[T]=h[T]);return n}:c3});var cPe=I(()=>{var i$=Kf();i$(i$.S+i$.F,"Object",{assign:uPe()})});var pPe=I((rNr,dPe)=>{cPe();dPe.exports=xc().Object.assign});var hPe=I((iNr,fPe)=>{var wYt=o2(),SYt=g0(),IYt=s3();fPe.exports=Zf()?Object.defineProperties:function(t,r){SYt(t);for(var n=IYt(r),i=n.length,o=0,u;i>o;)wYt.f(t,u=n[o++],r[u]);return t}});var vPe=I((oNr,gPe)=>{var mPe=m0().document;gPe.exports=mPe&&mPe.documentElement});var l$=I((aNr,_Pe)=>{var EYt=g0(),TYt=hPe(),yPe=n$(),MYt=a3()("IE_PROTO"),a$=function(){},s$="prototype",d3=function(){var e=GV()("iframe"),t=yPe.length,r="<",n=">",i;for(e.style.display="none",vPe().appendChild(e),e.src="javascript:",i=e.contentWindow.document,i.open(),i.write(r+"script"+n+"document.F=Object"+r+"/script"+n),i.close(),d3=i.F;t--;)delete d3[s$][yPe[t]];return d3()};_Pe.exports=Object.create||function(t,r){var n;return t!==null?(a$[s$]=EYt(t),n=new a$,a$[s$]=null,n[MYt]=t):n=d3(),r===void 0?n:TYt(n,r)}});var xPe=I(()=>{var bPe=Kf();bPe(bPe.S,"Object",{create:l$()})});var SPe=I((uNr,wPe)=>{xPe();var CYt=xc().Object;wPe.exports=function(t,r){return CYt.create(t,r)}});var TPe=I(EPe=>{var AYt=l3(),PYt=a2(),OYt=l2(),DYt=ZV(),NYt=v0(),kYt=YV(),IPe=Object.getOwnPropertyDescriptor;EPe.f=Zf()?IPe:function(t,r){if(t=OYt(t),r=DYt(r,!0),kYt)try{return IPe(t,r)}catch(n){}if(NYt(t,r))return PYt(!AYt.f.call(t,r),t[r])}});var APe=I((dNr,CPe)=>{var LYt=i2(),qYt=g0(),MPe=function(e,t){if(qYt(e),!LYt(t)&&t!==null)throw TypeError(t+": can't set as prototype!")};CPe.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{r=JA()(Function.call,TPe().f(Object.prototype,"__proto__").set,2),r(e,[]),t=!(e instanceof Array)}catch(n){t=!0}return function(i,o){return MPe(i,o),t?i.__proto__=o:r(i,o),i}}({},!1):void 0),check:MPe}});var OPe=I(()=>{var PPe=Kf();PPe(PPe.S,"Object",{setPrototypeOf:APe().set})});var NPe=I((hNr,DPe)=>{OPe();DPe.exports=xc().Object.setPrototypeOf});var Xr=I((_Nr,f3)=>{(function(){"use strict";var e={}.hasOwnProperty;function t(){for(var i="",o=0;o<arguments.length;o++){var u=arguments[o];u&&(i=n(i,r(u)))}return i}function r(i){if(typeof i=="string"||typeof i=="number")return i;if(typeof i!="object")return"";if(Array.isArray(i))return t.apply(null,i);if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]"))return i.toString();var o="";for(var u in i)e.call(i,u)&&i[u]&&(o=n(o,u));return o}function n(i,o){return o?i?i+" "+o:i+o:i}typeof f3!="undefined"&&f3.exports?(t.default=t,f3.exports=t):typeof define=="function"&&typeof define.amd=="object"&&define.amd?define("classnames",[],function(){return t}):window.classNames=t})()});var h3=I((wNr,LPe)=>{"use strict";var RYt=function(e,t,r,n,i,o,u,p){if(!e){var h;if(t===void 0)h=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var y=[r,n,i,o,u,p],_=0;h=new Error(t.replace(/%s/g,function(){return y[_++]})),h.name="Invariant Violation"}throw h.framesToPop=1,h}};LPe.exports=RYt});var f$=I(p$=>{"use strict";Object.defineProperty(p$,"__esModule",{value:!0});function jPe(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);e!=null&&this.setState(e)}function FPe(e){function t(r){var n=this.constructor.getDerivedStateFromProps(e,r);return n!=null?n:null}this.setState(t.bind(this))}function BPe(e,t){try{var r=this.props,n=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(r,n)}finally{this.props=r,this.state=n}}jPe.__suppressDeprecationWarning=!0;FPe.__suppressDeprecationWarning=!0;BPe.__suppressDeprecationWarning=!0;function jYt(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if(typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function")return e;var r=null,n=null,i=null;if(typeof t.componentWillMount=="function"?r="componentWillMount":typeof t.UNSAFE_componentWillMount=="function"&&(r="UNSAFE_componentWillMount"),typeof t.componentWillReceiveProps=="function"?n="componentWillReceiveProps":typeof t.UNSAFE_componentWillReceiveProps=="function"&&(n="UNSAFE_componentWillReceiveProps"),typeof t.componentWillUpdate=="function"?i="componentWillUpdate":typeof t.UNSAFE_componentWillUpdate=="function"&&(i="UNSAFE_componentWillUpdate"),r!==null||n!==null||i!==null){var o=e.displayName||e.name,u=typeof e.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+o+" uses "+u+" but also contains the following legacy lifecycles:"+(r!==null?`
  `+r:"")+(n!==null?`
  `+n:"")+(i!==null?`
  `+i:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof e.getDerivedStateFromProps=="function"&&(t.componentWillMount=jPe,t.componentWillReceiveProps=FPe),typeof t.getSnapshotBeforeUpdate=="function"){if(typeof t.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=BPe;var p=t.componentDidUpdate;t.componentDidUpdate=function(y,_,E){var T=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:E;p.call(this,y,_,T)}}return e}p$.polyfill=jYt});var h$=I((BNr,$Pe)=>{var BYt=Zf(),UYt=s3(),VYt=l2(),$Yt=l3().f;$Pe.exports=function(e){return function(t){for(var r=VYt(t),n=UYt(r),i=n.length,o=0,u=[],p;i>o;)p=n[o++],(!BYt||$Yt.call(r,p))&&u.push(e?[p,r[p]]:r[p]);return u}}});var WPe=I(()=>{var HPe=Kf(),HYt=h$()(!0);HPe(HPe.S,"Object",{entries:function(t){return HYt(t)}})});var YPe=I(($Nr,GPe)=>{WPe();GPe.exports=xc().Object.entries});var m$=I((HNr,ZPe)=>{ZPe.exports=YPe()});var d2=I((y3,eOe)=>{"use strict";Object.defineProperty(y3,"__esModule",{value:!0});y3.default=eZt;function eZt(e){function t(n,i,o,u,p,h){var y=u||"<<anonymous>>",_=h||o;if(i[o]==null)return n?new Error("Required "+p+" `"+_+"` was not specified "+("in `"+y+"`.")):null;for(var E=arguments.length,T=Array(E>6?E-6:0),N=6;N<E;N++)T[N-6]=arguments[N];return e.apply(void 0,[i,o,y,p,_].concat(T))}var r=t.bind(null,!1);return r.isRequired=t.bind(null,!0),r}eOe.exports=y3.default});var iOe=I(()=>{var nOe=Kf(),tZt=h$()(!1);nOe(nOe.S,"Object",{values:function(t){return tZt(t)}})});var aOe=I((rkr,oOe)=>{iOe();oOe.exports=xc().Object.values});var lOe=I((nkr,sOe)=>{sOe.exports=aOe()});var dOe=I(Vn=>{"use strict";var Co=typeof Symbol=="function"&&Symbol.for,x$=Co?Symbol.for("react.element"):60103,w$=Co?Symbol.for("react.portal"):60106,b3=Co?Symbol.for("react.fragment"):60107,x3=Co?Symbol.for("react.strict_mode"):60108,w3=Co?Symbol.for("react.profiler"):60114,S3=Co?Symbol.for("react.provider"):60109,I3=Co?Symbol.for("react.context"):60110,S$=Co?Symbol.for("react.async_mode"):60111,E3=Co?Symbol.for("react.concurrent_mode"):60111,T3=Co?Symbol.for("react.forward_ref"):60112,M3=Co?Symbol.for("react.suspense"):60113,iZt=Co?Symbol.for("react.suspense_list"):60120,C3=Co?Symbol.for("react.memo"):60115,A3=Co?Symbol.for("react.lazy"):60116,oZt=Co?Symbol.for("react.block"):60121,aZt=Co?Symbol.for("react.fundamental"):60117,sZt=Co?Symbol.for("react.responder"):60118,lZt=Co?Symbol.for("react.scope"):60119;function sl(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case x$:switch(e=e.type,e){case S$:case E3:case b3:case w3:case x3:case M3:return e;default:switch(e=e&&e.$$typeof,e){case I3:case T3:case A3:case C3:case S3:return e;default:return t;}}case w$:return t;}}}function cOe(e){return sl(e)===E3}Vn.AsyncMode=S$;Vn.ConcurrentMode=E3;Vn.ContextConsumer=I3;Vn.ContextProvider=S3;Vn.Element=x$;Vn.ForwardRef=T3;Vn.Fragment=b3;Vn.Lazy=A3;Vn.Memo=C3;Vn.Portal=w$;Vn.Profiler=w3;Vn.StrictMode=x3;Vn.Suspense=M3;Vn.isAsyncMode=function(e){return cOe(e)||sl(e)===S$};Vn.isConcurrentMode=cOe;Vn.isContextConsumer=function(e){return sl(e)===I3};Vn.isContextProvider=function(e){return sl(e)===S3};Vn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===x$};Vn.isForwardRef=function(e){return sl(e)===T3};Vn.isFragment=function(e){return sl(e)===b3};Vn.isLazy=function(e){return sl(e)===A3};Vn.isMemo=function(e){return sl(e)===C3};Vn.isPortal=function(e){return sl(e)===w$};Vn.isProfiler=function(e){return sl(e)===w3};Vn.isStrictMode=function(e){return sl(e)===x3};Vn.isSuspense=function(e){return sl(e)===M3};Vn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===b3||e===E3||e===w3||e===x3||e===M3||e===iZt||typeof e=="object"&&e!==null&&(e.$$typeof===A3||e.$$typeof===C3||e.$$typeof===S3||e.$$typeof===I3||e.$$typeof===T3||e.$$typeof===aZt||e.$$typeof===sZt||e.$$typeof===lZt||e.$$typeof===oZt)};Vn.typeOf=sl});var fOe=I((lkr,pOe)=>{"use strict";pOe.exports=dOe()});var Xo=I((P3,mOe)=>{"use strict";Object.defineProperty(P3,"__esModule",{value:!0});var uZt=Be(),cZt=hOe(uZt),dZt=fOe(),pZt=d2(),fZt=hOe(pZt);function hOe(e){return e&&e.__esModule?e:{default:e}}function hZt(e,t,r,n,i){var o=e[t];return cZt.default.isValidElement(o)?new Error("Invalid "+n+" `"+i+"` of type ReactElement "+("supplied to `"+r+"`,expected an element type (a string ")+", component class, or function component)."):(0,dZt.isValidElementType)(o)?null:new Error("Invalid "+n+" `"+i+"` of value `"+o+"` "+("supplied to `"+r+"`, expected an element type (a string ")+", component class, or function component).")}P3.default=(0,fZt.default)(hZt);mOe.exports=P3.default});var f2=I((D3,bOe)=>{"use strict";Object.defineProperty(D3,"__esModule",{value:!0});D3.default=SZt;var bZt=d2(),xZt=wZt(bZt);function wZt(e){return e&&e.__esModule?e:{default:e}}function SZt(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];function n(){for(var i=arguments.length,o=Array(i),u=0;u<i;u++)o[u]=arguments[u];var p=null;return t.forEach(function(h){if(p==null){var y=h.apply(void 0,o);y!=null&&(p=y)}}),p}return(0,xZt.default)(n)}bOe.exports=D3.default});var Qf=I((kkr,MOe)=>{"use strict";var MZt=function(){};MOe.exports=MZt});var $i=I((Ukr,h2)=>{function OZt(e){return e&&e.__esModule?e:{default:e}}h2.exports=OZt,h2.exports.__esModule=!0,h2.exports.default=h2.exports});var POe=I((q3,AOe)=>{"use strict";q3.__esModule=!0;q3.default=NZt;var DZt=/-(.)/g;function NZt(e){return e.replace(DZt,function(t,r){return r.toUpperCase()})}AOe.exports=q3.default});var N$=I((R3,OOe)=>{"use strict";var kZt=$i();R3.__esModule=!0;R3.default=RZt;var LZt=kZt(POe()),qZt=/^-ms-/;function RZt(e){return(0,LZt.default)(e.replace(qZt,"ms-"))}OOe.exports=R3.default});var NOe=I((z3,DOe)=>{"use strict";z3.__esModule=!0;z3.default=jZt;var zZt=/([A-Z])/g;function jZt(e){return e.replace(zZt,"-$1").toLowerCase()}DOe.exports=z3.default});var LOe=I((j3,kOe)=>{"use strict";var FZt=$i();j3.__esModule=!0;j3.default=VZt;var BZt=FZt(NOe()),UZt=/^ms-/;function VZt(e){return(0,BZt.default)(e).replace(UZt,"-ms-")}kOe.exports=j3.default});var ROe=I((F3,qOe)=>{"use strict";var $Zt=$i();F3.__esModule=!0;F3.default=YZt;var HZt=$Zt(N$()),WZt=/^(top|right|bottom|left)$/,GZt=/^([+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|))(?!px)[a-z%]+$/i;function YZt(e){if(!e)throw new TypeError("No Element passed to `getComputedStyle()`");var t=e.ownerDocument;return"defaultView"in t?t.defaultView.opener?e.ownerDocument.defaultView.getComputedStyle(e,null):window.getComputedStyle(e,null):{getPropertyValue:function(n){var i=e.style;n=(0,HZt.default)(n),n=="float"&&(n="styleFloat");var o=e.currentStyle[n]||null;if(o==null&&i&&i[n]&&(o=i[n]),GZt.test(o)&&!WZt.test(n)){var u=i.left,p=e.runtimeStyle,h=p&&p.left;h&&(p.left=e.currentStyle.left),i.left=n==="fontSize"?"1em":o,o=i.pixelLeft+"px",i.left=u,h&&(p.left=h)}return o}}}qOe.exports=F3.default});var jOe=I((B3,zOe)=>{"use strict";B3.__esModule=!0;B3.default=ZZt;function ZZt(e,t){return"removeProperty"in e.style?e.style.removeProperty(t):e.style.removeAttribute(t)}zOe.exports=B3.default});var Ic=I((m2,FOe)=>{"use strict";m2.__esModule=!0;m2.default=void 0;var KZt=!!(typeof window!="undefined"&&window.document&&window.document.createElement);m2.default=KZt;FOe.exports=m2.default});var WOe=I(ln=>{"use strict";var XZt=$i();ln.__esModule=!0;ln.default=ln.animationEnd=ln.animationDelay=ln.animationTiming=ln.animationDuration=ln.animationName=ln.transitionEnd=ln.transitionDuration=ln.transitionDelay=ln.transitionTiming=ln.transitionProperty=ln.transform=void 0;var QZt=XZt(Ic()),V3="transform";ln.transform=V3;var Ec,k$,BOe;ln.animationEnd=BOe;ln.transitionEnd=k$;var L$,q$,R$,z$;ln.transitionDelay=z$;ln.transitionTiming=R$;ln.transitionDuration=q$;ln.transitionProperty=L$;var UOe,VOe,$Oe,HOe;ln.animationDelay=HOe;ln.animationTiming=$Oe;ln.animationDuration=VOe;ln.animationName=UOe;QZt.default&&(U3=eKt(),Ec=U3.prefix,ln.transitionEnd=k$=U3.transitionEnd,ln.animationEnd=BOe=U3.animationEnd,ln.transform=V3=Ec+"-"+V3,ln.transitionProperty=L$=Ec+"-transition-property",ln.transitionDuration=q$=Ec+"-transition-duration",ln.transitionDelay=z$=Ec+"-transition-delay",ln.transitionTiming=R$=Ec+"-transition-timing-function",ln.animationName=UOe=Ec+"-animation-name",ln.animationDuration=VOe=Ec+"-animation-duration",ln.animationTiming=$Oe=Ec+"-animation-delay",ln.animationDelay=HOe=Ec+"-animation-timing-function");var U3,JZt={transform:V3,end:k$,property:L$,timing:R$,delay:z$,duration:q$};ln.default=JZt;function eKt(){for(var e=document.createElement("div").style,t={O:function(y){return"o"+y.toLowerCase()},Moz:function(y){return y.toLowerCase()},Webkit:function(y){return"webkit"+y},ms:function(y){return"MS"+y}},r=Object.keys(t),n,i,o="",u=0;u<r.length;u++){var p=r[u];if(p+"TransitionProperty"in e){o="-"+p.toLowerCase(),n=t[p]("TransitionEnd"),i=t[p]("AnimationEnd");break}}return!n&&"transitionProperty"in e&&(n="transitionend"),!i&&"animationName"in e&&(i="animationend"),e=null,{animationEnd:i,transitionEnd:n,prefix:o}}});var YOe=I(($3,GOe)=>{"use strict";$3.__esModule=!0;$3.default=rKt;var tKt=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function rKt(e){return!!(e&&tKt.test(e))}GOe.exports=$3.default});var W3=I((H3,ZOe)=>{"use strict";var g2=$i();H3.__esModule=!0;H3.default=lKt;var nKt=g2(N$()),j$=g2(LOe()),iKt=g2(ROe()),oKt=g2(jOe()),aKt=WOe(),sKt=g2(YOe());function lKt(e,t,r){var n="",i="",o=t;if(typeof t=="string"){if(r===void 0)return e.style[(0,nKt.default)(t)]||(0,iKt.default)(e).getPropertyValue((0,j$.default)(t));(o={})[t]=r}Object.keys(o).forEach(function(u){var p=o[u];!p&&p!==0?(0,oKt.default)(e,(0,j$.default)(u)):(0,sKt.default)(u)?i+=u+"("+p+") ":n+=(0,j$.default)(u)+": "+p+";"}),i&&(n+=aKt.transform+": "+i+";"),e.style.cssText+=";"+n}ZOe.exports=H3.default});var KOe=I(w0=>{"use strict";w0.__esModule=!0;w0.classNamesShape=w0.timeoutsShape=void 0;var $kr=uKt(Gt());function uKt(e){return e&&e.__esModule?e:{default:e}}var cKt=null;w0.timeoutsShape=cKt;var dKt=null;w0.classNamesShape=dKt});var QOe=I(Os=>{"use strict";Os.__esModule=!0;Os.default=Os.EXITING=Os.ENTERED=Os.ENTERING=Os.EXITED=Os.UNMOUNTED=void 0;var pKt=mKt(Gt()),F$=XOe(Be()),fKt=XOe(Ri()),hKt=f$(),Wkr=KOe();function XOe(e){return e&&e.__esModule?e:{default:e}}function mKt(e){if(e&&e.__esModule)return e;var t={};if(e!=null){for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}}return t.default=e,t}function gKt(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function vKt(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var v2="unmounted";Os.UNMOUNTED=v2;var Gm="exited";Os.EXITED=Gm;var Ym="entering";Os.ENTERING=Ym;var I0="entered";Os.ENTERED=I0;var B$="exiting";Os.EXITING=B$;var Tc=function(e){vKt(t,e);function t(n,i){var o;o=e.call(this,n,i)||this;var u=i.transitionGroup,p=u&&!u.isMounting?n.enter:n.appear,h;return o.appearStatus=null,n.in?p?(h=Gm,o.appearStatus=Ym):h=I0:n.unmountOnExit||n.mountOnEnter?h=v2:h=Gm,o.state={status:h},o.nextCallback=null,o}var r=t.prototype;return r.getChildContext=function(){return{transitionGroup:null}},t.getDerivedStateFromProps=function(i,o){var u=i.in;return u&&o.status===v2?{status:Gm}:null},r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(i){var o=null;if(i!==this.props){var u=this.state.status;this.props.in?u!==Ym&&u!==I0&&(o=Ym):(u===Ym||u===I0)&&(o=B$)}this.updateStatus(!1,o)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var i=this.props.timeout,o,u,p;return o=u=p=i,i!=null&&typeof i!="number"&&(o=i.exit,u=i.enter,p=i.appear!==void 0?i.appear:u),{exit:o,enter:u,appear:p}},r.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null){this.cancelNextCallback();var u=fKt.default.findDOMNode(this);o===Ym?this.performEnter(u,i):this.performExit(u)}else this.props.unmountOnExit&&this.state.status===Gm&&this.setState({status:v2})},r.performEnter=function(i,o){var u=this,p=this.props.enter,h=this.context.transitionGroup?this.context.transitionGroup.isMounting:o,y=this.getTimeouts(),_=h?y.appear:y.enter;if(!o&&!p){this.safeSetState({status:I0},function(){u.props.onEntered(i)});return}this.props.onEnter(i,h),this.safeSetState({status:Ym},function(){u.props.onEntering(i,h),u.onTransitionEnd(i,_,function(){u.safeSetState({status:I0},function(){u.props.onEntered(i,h)})})})},r.performExit=function(i){var o=this,u=this.props.exit,p=this.getTimeouts();if(!u){this.safeSetState({status:Gm},function(){o.props.onExited(i)});return}this.props.onExit(i),this.safeSetState({status:B$},function(){o.props.onExiting(i),o.onTransitionEnd(i,p.exit,function(){o.safeSetState({status:Gm},function(){o.props.onExited(i)})})})},r.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},r.setNextCallback=function(i){var o=this,u=!0;return this.nextCallback=function(p){u&&(u=!1,o.nextCallback=null,i(p))},this.nextCallback.cancel=function(){u=!1},this.nextCallback},r.onTransitionEnd=function(i,o,u){this.setNextCallback(u);var p=o==null&&!this.props.addEndListener;if(!i||p){setTimeout(this.nextCallback,0);return}this.props.addEndListener&&this.props.addEndListener(i,this.nextCallback),o!=null&&setTimeout(this.nextCallback,o)},r.render=function(){var i=this.state.status;if(i===v2)return null;var o=this.props,u=o.children,p=gKt(o,["children"]);if(delete p.in,delete p.mountOnEnter,delete p.unmountOnExit,delete p.appear,delete p.enter,delete p.exit,delete p.timeout,delete p.addEndListener,delete p.onEnter,delete p.onEntering,delete p.onEntered,delete p.onExit,delete p.onExiting,delete p.onExited,typeof u=="function")return u(i,p);var h=F$.default.Children.only(u);return F$.default.cloneElement(h,p)},t}(F$.default.Component);Tc.contextTypes={transitionGroup:pKt.object};Tc.childContextTypes={transitionGroup:function(){}};Tc.propTypes={};function S0(){}Tc.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:S0,onEntering:S0,onEntered:S0,onExit:S0,onExiting:S0,onExited:S0};Tc.UNMOUNTED=0;Tc.EXITED=1;Tc.ENTERING=2;Tc.ENTERED=3;Tc.EXITING=4;var yKt=(0,hKt.polyfill)(Tc);Os.default=yKt});var Zm=I((G3,JOe)=>{"use strict";G3.__esModule=!0;G3.default=_Kt;function _Kt(e){return e&&e.ownerDocument||document}JOe.exports=G3.default});var U$=I((Y3,eDe)=>{"use strict";var bKt=$i();Y3.__esModule=!0;Y3.default=wKt;var xKt=bKt(Zm());function wKt(e){e===void 0&&(e=(0,xKt.default)());try{return e.activeElement}catch(t){}}eDe.exports=Y3.default});var E0=I((y2,rDe)=>{"use strict";var SKt=$i();y2.__esModule=!0;y2.default=void 0;var IKt=SKt(Ic()),EKt=function(){return IKt.default?function(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(e.compareDocumentPosition(t)&16):tDe(e,t)}:tDe}();y2.default=EKt;function tDe(e,t){if(t)do if(t===e)return!0;while(t=t.parentNode);return!1}rDe.exports=y2.default});var K3=I((Km,oDe)=>{function nDe(e){if(e&&typeof e=="object"){var t=e.which||e.keyCode||e.charCode;t&&(e=t)}if(typeof e=="number")return iDe[e];var r=String(e),n=Rd[r.toLowerCase()];if(n)return n;var n=Z3[r.toLowerCase()];if(n)return n;if(r.length===1)return r.charCodeAt(0)}nDe.isEventKey=function(t,r){if(t&&typeof t=="object"){var n=t.which||t.keyCode||t.charCode;if(n==null)return!1;if(typeof r=="string"){var i=Rd[r.toLowerCase()];if(i)return i===n;var i=Z3[r.toLowerCase()];if(i)return i===n}else if(typeof r=="number")return r===n;return!1}};Km=oDe.exports=nDe;var Rd=Km.code=Km.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},Z3=Km.aliases={windows:91,"\u21E7":16,"\u2325":18,"\u2303":17,"\u2318":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};for(Oi=97;Oi<123;Oi++)Rd[String.fromCharCode(Oi)]=Oi-32;for(Oi=48;Oi<58;Oi++)Rd[Oi-48]=Oi;var Oi;for(Oi=1;Oi<13;Oi++)Rd["f"+Oi]=Oi+111;for(Oi=0;Oi<10;Oi++)Rd["numpad "+Oi]=Oi+96;var iDe=Km.names=Km.title={};for(Oi in Rd)iDe[Rd[Oi]]=Oi;for(V$ in Z3)Rd[V$]=Z3[V$];var V$});var Q3=I((X3,aDe)=>{"use strict";Object.defineProperty(X3,"__esModule",{value:!0});X3.default=TKt;function TKt(e){return function(r,n,i,o,u){var p=i||"<<anonymous>>",h=u||n;if(r[n]==null)return new Error("The "+o+" `"+h+"` is required to make "+("`"+p+"` accessible for users of assistive ")+"technologies such as screen readers.");for(var y=arguments.length,_=Array(y>5?y-5:0),E=5;E<y;E++)_[E-5]=arguments[E];return e.apply(void 0,[r,n,i,o,u].concat(_))}}aDe.exports=X3.default});var lDe=I((Ykr,sDe)=>{var MKt=o3(),CKt=i3();sDe.exports=function(e){return function(t,r){var n=String(CKt(t)),i=MKt(r),o=n.length,u,p;return i<0||i>=o?e?"":void 0:(u=n.charCodeAt(i),u<55296||u>56319||i+1===o||(p=n.charCodeAt(i+1))<56320||p>57343?e?n.charAt(i):u:e?n.slice(i,i+2):(u-55296<<10)+(p-56320)+65536)}}});var cDe=I((Zkr,uDe)=>{uDe.exports=s2()});var J3=I((Kkr,dDe)=>{dDe.exports={}});var Jf=I((Xkr,fDe)=>{var $$=t$()("wks"),AKt=r$(),H$=m0().Symbol,pDe=typeof H$=="function",PKt=fDe.exports=function(e){return $$[e]||($$[e]=pDe&&H$[e]||(pDe?H$:AKt)("Symbol."+e))};PKt.store=$$});var W$=I((Qkr,mDe)=>{var OKt=o2().f,DKt=v0(),hDe=Jf()("toStringTag");mDe.exports=function(e,t,r){e&&!DKt(e=r?e:e.prototype,hDe)&&OKt(e,hDe,{configurable:!0,value:t})}});var yDe=I((Jkr,vDe)=>{"use strict";var NKt=l$(),kKt=a2(),LKt=W$(),gDe={};s2()(gDe,Jf()("iterator"),function(){return this});vDe.exports=function(e,t,r){e.prototype=NKt(gDe,{next:kKt(1,r)}),LKt(e,t+" Iterator")}});var xDe=I((e6r,bDe)=>{var qKt=v0(),RKt=u3(),_De=a3()("IE_PROTO"),zKt=Object.prototype;bDe.exports=Object.getPrototypeOf||function(e){return e=RKt(e),qKt(e,_De)?e[_De]:typeof e.constructor=="function"&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?zKt:null}});var CDe=I((t6r,MDe)=>{"use strict";var wDe=e$(),G$=Kf(),jKt=cDe(),SDe=s2(),IDe=J3(),FKt=yDe(),BKt=W$(),UKt=xDe(),_2=Jf()("iterator"),Y$=!([].keys&&"next"in[].keys()),VKt="@@iterator",EDe="keys",e4="values",TDe=function(){return this};MDe.exports=function(e,t,r,n,i,o,u){FKt(r,t,n);var p=function(G){if(!Y$&&G in E)return E[G];switch(G){case EDe:return function(){return new r(this,G)};case e4:return function(){return new r(this,G)};}return function(){return new r(this,G)}},h=t+" Iterator",y=i==e4,_=!1,E=e.prototype,T=E[_2]||E[VKt]||i&&E[i],N=T||p(i),R=i?y?p("entries"):N:void 0,j=t=="Array"&&E.entries||T,k,L,F;if(j&&(F=UKt(j.call(new e)),F!==Object.prototype&&F.next&&(BKt(F,h,!0),!wDe&&typeof F[_2]!="function"&&SDe(F,_2,TDe))),y&&T&&T.name!==e4&&(_=!0,N=function(){return T.call(this)}),(!wDe||u)&&(Y$||_||!E[_2])&&SDe(E,_2,N),IDe[t]=N,IDe[h]=TDe,i)if(k={values:y?N:p(e4),keys:o?N:p(EDe),entries:R},u)for(L in k)L in E||jKt(E,L,k[L]);else G$(G$.P+G$.F*(Y$||_),t,k);return k}});var ADe=I(()=>{"use strict";var $Kt=lDe()(!0);CDe()(String,"String",function(e){this._t=String(e),this._i=0},function(){var e=this._t,t=this._i,r;return t>=e.length?{value:void 0,done:!0}:(r=$Kt(e,t),this._i+=r.length,{value:r,done:!1})})});var DDe=I((i6r,ODe)=>{var PDe=g0();ODe.exports=function(e,t,r,n){try{return n?t(PDe(r)[0],r[1]):t(r)}catch(o){var i=e.return;throw i!==void 0&&PDe(i.call(e)),o}}});var kDe=I((o6r,NDe)=>{var HKt=J3(),WKt=Jf()("iterator"),GKt=Array.prototype;NDe.exports=function(e){return e!==void 0&&(HKt.Array===e||GKt[WKt]===e)}});var qDe=I((a6r,LDe)=>{"use strict";var YKt=o2(),ZKt=a2();LDe.exports=function(e,t,r){t in e?YKt.f(e,t,ZKt(0,r)):e[t]=r}});var zDe=I((s6r,RDe)=>{var Z$=XV(),KKt=Jf()("toStringTag"),XKt=Z$(function(){return arguments}())=="Arguments",QKt=function(e,t){try{return e[t]}catch(r){}};RDe.exports=function(e){var t,r,n;return e===void 0?"Undefined":e===null?"Null":typeof(r=QKt(t=Object(e),KKt))=="string"?r:XKt?Z$(t):(n=Z$(t))=="Object"&&typeof t.callee=="function"?"Arguments":n}});var FDe=I((l6r,jDe)=>{var JKt=zDe(),eXt=Jf()("iterator"),tXt=J3();jDe.exports=xc().getIteratorMethod=function(e){if(e!=null)return e[eXt]||e["@@iterator"]||tXt[JKt(e)]}});var VDe=I((u6r,UDe)=>{var X$=Jf()("iterator"),BDe=!1;try{K$=[7][X$](),K$.return=function(){BDe=!0},Array.from(K$,function(){throw 2})}catch(e){}var K$;UDe.exports=function(e,t){if(!t&&!BDe)return!1;var r=!1;try{var n=[7],i=n[X$]();i.next=function(){return{done:r=!0}},n[X$]=function(){return i},e(n)}catch(o){}return r}});var HDe=I(()=>{"use strict";var rXt=JA(),Q$=Kf(),nXt=u3(),iXt=DDe(),oXt=kDe(),aXt=JV(),$De=qDe(),sXt=FDe();Q$(Q$.S+Q$.F*!VDe()(function(e){Array.from(e)}),"Array",{from:function(t){var r=nXt(t),n=typeof this=="function"?this:Array,i=arguments.length,o=i>1?arguments[1]:void 0,u=o!==void 0,p=0,h=sXt(r),y,_,E,T;if(u&&(o=rXt(o,i>2?arguments[2]:void 0,2)),h!=null&&!(n==Array&&oXt(h)))for(T=h.call(r),_=new n;!(E=T.next()).done;p++)$De(_,p,u?iXt(T,o,[E.value,p],!0):E.value);else for(y=aXt(r.length),_=new n(y);y>p;p++)$De(_,p,u?o(r[p],p):r[p]);return _.length=p,_}})});var GDe=I((p6r,WDe)=>{ADe();HDe();WDe.exports=xc().Array.from});var ZDe=I((f6r,YDe)=>{YDe.exports=GDe()});var t4=I((b2,XDe)=>{"use strict";var lXt=$i();b2.__esModule=!0;b2.default=void 0;var uXt=lXt(Ic()),KDe=function(){};uXt.default&&(KDe=function(){if(document.addEventListener)return function(e,t,r,n){return e.addEventListener(t,r,n||!1)};if(document.attachEvent)return function(e,t,r){return e.attachEvent("on"+t,function(n){n=n||window.event,n.target=n.target||n.srcElement,n.currentTarget=e,r.call(e,n)})}}());var cXt=KDe;b2.default=cXt;XDe.exports=b2.default});var r4=I((x2,JDe)=>{"use strict";var dXt=$i();x2.__esModule=!0;x2.default=void 0;var pXt=dXt(Ic()),QDe=function(){};pXt.default&&(QDe=function(){if(document.addEventListener)return function(e,t,r,n){return e.removeEventListener(t,r,n||!1)};if(document.attachEvent)return function(e,t,r){return e.detachEvent("on"+t,r)}}());var fXt=QDe;x2.default=fXt;JDe.exports=x2.default});var J$=I((n4,tNe)=>{"use strict";n4.__esModule=!0;n4.default=function(e,t,r,n){return(0,mXt.default)(e,t,r,n),{remove:function(){(0,vXt.default)(e,t,r,n)}}};var hXt=t4(),mXt=eNe(hXt),gXt=r4(),vXt=eNe(gXt);function eNe(e){return e&&e.__esModule?e:{default:e}}tNe.exports=n4.default});var Xm=I((i4,nNe)=>{"use strict";i4.__esModule=!0;i4.default=function(e){return(0,xXt.default)(_Xt.default.findDOMNode(e))};var yXt=Ri(),_Xt=rNe(yXt),bXt=Zm(),xXt=rNe(bXt);function rNe(e){return e&&e.__esModule?e:{default:e}}nNe.exports=i4.default});var tH=I((s4,iNe)=>{"use strict";s4.__esModule=!0;var wXt=E0(),SXt=T0(wXt),IXt=Gt(),o4=T0(IXt),EXt=Be(),TXt=T0(EXt),MXt=Ri(),CXt=T0(MXt),AXt=J$(),eH=T0(AXt),PXt=Xm(),OXt=T0(PXt);function T0(e){return e&&e.__esModule?e:{default:e}}function DXt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NXt(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function kXt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var LXt=27;function qXt(e){return e.button===0}function RXt(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}var a4=function(e){kXt(t,e);function t(r,n){DXt(this,t);var i=NXt(this,e.call(this,r,n));return i.addEventListeners=function(){i.currentEvent=window.event;var o=i.props.event,u=(0,OXt.default)(i);i.documentMouseCaptureListener=(0,eH.default)(u,o,i.handleMouseCapture,!0),i.documentMouseListener=(0,eH.default)(u,o,i.handleMouse),i.documentKeyupListener=(0,eH.default)(u,"keyup",i.handleKeyUp)},i.removeEventListeners=function(){i.documentMouseCaptureListener&&i.documentMouseCaptureListener.remove(),i.documentMouseListener&&i.documentMouseListener.remove(),i.documentKeyupListener&&i.documentKeyupListener.remove()},i.handleMouseCapture=function(o){i.preventMouseRootClose=RXt(o)||!qXt(o)||(0,SXt.default)(CXt.default.findDOMNode(i),o.target)},i.handleMouse=function(o){if(o===i.currentEvent){i.currentEvent=void 0;return}!i.preventMouseRootClose&&i.props.onRootClose&&i.props.onRootClose(o)},i.handleKeyUp=function(o){if(o===i.currentEvent){i.currentEvent=void 0;return}o.keyCode===LXt&&i.props.onRootClose&&i.props.onRootClose(o)},i.preventMouseRootClose=!1,i}return t.prototype.componentDidMount=function(){this.props.disabled||this.addEventListeners()},t.prototype.componentDidUpdate=function(n){!this.props.disabled&&n.disabled?this.addEventListeners():this.props.disabled&&!n.disabled&&this.removeEventListeners()},t.prototype.componentWillUnmount=function(){this.props.disabled||this.removeEventListeners()},t.prototype.render=function(){return this.props.children},t}(TXt.default.Component);a4.displayName="RootCloseWrapper";a4.propTypes={onRootClose:o4.default.func,children:o4.default.element,disabled:o4.default.bool,event:o4.default.oneOf(["click","mousedown"])};a4.defaultProps={event:"click"};s4.default=a4;iNe.exports=s4.default});var DNe=I((m4,ONe)=>{"use strict";m4.__esModule=!0;m4.default=lQt;var sQt=/^[\w-]*$/,CH=Function.prototype.bind.call(Function.prototype.call,[].slice);function lQt(e,t){var r=t[0]==="#",n=t[0]===".",i=r||n?t.slice(1):t,o=sQt.test(i),u;return o?r?(e=e.getElementById?e:document,(u=e.getElementById(i))?[u]:[]):e.getElementsByClassName&&n?CH(e.getElementsByClassName(i)):CH(e.getElementsByTagName(t)):CH(e.querySelectorAll(t))}ONe.exports=m4.default});var LNe=I((g4,kNe)=>{"use strict";var NNe=$i();g4.__esModule=!0;g4.default=dQt;var uQt=NNe(E0()),cQt=NNe(DNe());function dQt(e,t){return function(n){var i=n.currentTarget,o=n.target,u=(0,cQt.default)(i,e);u.some(function(p){return(0,uQt.default)(p,o)})&&t.call(this,n)}}kNe.exports=g4.default});var zNe=I((C2,RNe)=>{"use strict";var AH=$i();C2.__esModule=!0;C2.default=void 0;var pQt=AH(Ic()),fQt=AH(t4()),hQt=AH(r4()),qNe=function(){};pQt.default&&(qNe=function(t,r,n,i){return(0,fQt.default)(t,r,n,i),function(){(0,hQt.default)(t,r,n,i)}});var mQt=qNe;C2.default=mQt;RNe.exports=C2.default});var VNe=I(th=>{"use strict";var v4=$i();th.__esModule=!0;th.default=void 0;var jNe=v4(t4());th.on=jNe.default;var FNe=v4(r4());th.off=FNe.default;var BNe=v4(LNe());th.filter=BNe.default;var UNe=v4(zNe());th.listen=UNe.default;var gQt={on:jNe.default,off:FNe.default,filter:BNe.default,listen:UNe.default};th.default=gQt});var PH=I((_4,$Ne)=>{"use strict";var vQt=$i();_4.__esModule=!0;_4.default=_Qt;var yQt=vQt(Ic()),y4;function _Qt(e){if((!y4&&y4!==0||e)&&yQt.default){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),y4=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return y4}$Ne.exports=_4.default});var A2=I((b4,WNe)=>{"use strict";Object.defineProperty(b4,"__esModule",{value:!0});var bQt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xQt=Be(),wQt=HNe(xQt),SQt=d2(),IQt=HNe(SQt);function HNe(e){return e&&e.__esModule?e:{default:e}}function EQt(e,t,r,n,i){var o=e[t],u=typeof o=="undefined"?"undefined":bQt(o);return wQt.default.isValidElement(o)?new Error("Invalid "+n+" `"+i+"` of type ReactElement "+("supplied to `"+r+"`, expected a ReactComponent or a ")+"DOMElement. You can usually obtain a ReactComponent or DOMElement from a ReactElement by attaching a ref to it."):(u!=="object"||typeof o.render!="function")&&o.nodeType!==1?new Error("Invalid "+n+" `"+i+"` of value `"+o+"` "+("supplied to `"+r+"`, expected a ReactComponent or a ")+"DOMElement."):null}b4.default=(0,IQt.default)(EQt);WNe.exports=b4.default});var KNe=I((ULr,ZNe)=>{"use strict";var TQt=!1,YNe=function(){};TQt&&(GNe=function(t,r){var n=arguments.length;r=new Array(n>1?n-1:0);for(var i=1;i<n;i++)r[i-1]=arguments[i];var o=0,u="Warning: "+t.replace(/%s/g,function(){return r[o++]});typeof console!="undefined"&&console.error(u);try{throw new Error(u)}catch(p){}},YNe=function(e,t,r){var n=arguments.length;r=new Array(n>2?n-2:0);for(var i=2;i<n;i++)r[i-2]=arguments[i];if(t===void 0)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");e||GNe.apply(null,[t].concat(r))});var GNe;ZNe.exports=YNe});var JNe=I((x4,QNe)=>{"use strict";Object.defineProperty(x4,"__esModule",{value:!0});x4.default=XNe;var MQt=KNe(),CQt=AQt(MQt);function AQt(e){return e&&e.__esModule?e:{default:e}}var OH={};function XNe(e,t){return function(n,i,o,u,p){var h=o||"<<anonymous>>",y=p||i;if(n[i]!=null){var _=o+"."+i;(0,CQt.default)(OH[_],"The "+u+" `"+y+"` of "+("`"+h+"` is deprecated. "+t+".")),OH[_]=!0}for(var E=arguments.length,T=Array(E>5?E-5:0),N=5;N<E;N++)T[N-5]=arguments[N];return e.apply(void 0,[n,i,o,u,p].concat(T))}}function PQt(){OH={}}XNe._resetWarned=PQt;QNe.exports=x4.default});var DH=I((w4,eke)=>{"use strict";w4.__esModule=!0;w4.default=OQt;function OQt(e,t){return e.classList?!!t&&e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}eke.exports=w4.default});var rke=I((S4,tke)=>{"use strict";var DQt=$i();S4.__esModule=!0;S4.default=kQt;var NQt=DQt(DH());function kQt(e,t){e.classList?e.classList.add(t):(0,NQt.default)(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}tke.exports=S4.default});var oke=I((VLr,ike)=>{"use strict";function nke(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}ike.exports=function(t,r){t.classList?t.classList.remove(r):typeof t.className=="string"?t.className=nke(t.className,r):t.setAttribute("class",nke(t.className&&t.className.baseVal||"",r))}});var uke=I(Qm=>{"use strict";var NH=$i();Qm.__esModule=!0;Qm.default=void 0;var ake=NH(rke());Qm.addClass=ake.default;var ske=NH(oke());Qm.removeClass=ske.default;var lke=NH(DH());Qm.hasClass=lke.default;var LQt={addClass:ake.default,removeClass:ske.default,hasClass:lke.default};Qm.default=LQt});var P2=I((I4,cke)=>{"use strict";I4.__esModule=!0;I4.default=qQt;function qQt(e){return e===e.window?e:e.nodeType===9?e.defaultView||e.parentWindow:!1}cke.exports=I4.default});var kH=I((E4,fke)=>{"use strict";E4.__esModule=!0;E4.default=UQt;var RQt=P2(),dke=pke(RQt),zQt=Zm(),jQt=pke(zQt);function pke(e){return e&&e.__esModule?e:{default:e}}function FQt(e){return e&&e.tagName.toLowerCase()==="body"}function BQt(e){var t=(0,jQt.default)(e),r=(0,dke.default)(t),n=r.innerWidth;if(!n){var i=t.documentElement.getBoundingClientRect();n=i.right-Math.abs(i.left)}return t.body.clientWidth<n}function UQt(e){var t=(0,dke.default)(e);return t||FQt(e)?BQt(e):e.scrollHeight>e.clientHeight}fke.exports=E4.default});var mke=I(O2=>{"use strict";O2.__esModule=!0;O2.ariaHidden=LH;O2.hideSiblings=HQt;O2.showSiblings=WQt;var VQt=["template","script","style"],$Qt=function(t){var r=t.nodeType,n=t.tagName;return r===1&&VQt.indexOf(n.toLowerCase())===-1},hke=function(t,r,n){r=[].concat(r),[].forEach.call(t.children,function(i){r.indexOf(i)===-1&&$Qt(i)&&n(i)})};function LH(e,t){t&&(e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden"))}function HQt(e,t){hke(e,t,function(r){return LH(!0,r)})}function WQt(e,t){hke(e,t,function(r){return LH(!1,r)})}});var _ke=I((M4,yke)=>{"use strict";M4.__esModule=!0;var GQt=uke(),gke=T4(GQt),YQt=W3(),vke=T4(YQt),ZQt=PH(),KQt=T4(ZQt),XQt=kH(),QQt=T4(XQt),qH=mke();function T4(e){return e&&e.__esModule?e:{default:e}}function JQt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eJt(e,t){var r=-1;return e.some(function(n,i){if(t(n,i))return r=i,!0}),r}function tJt(e,t){return eJt(e,function(r){return r.modals.indexOf(t)!==-1})}function rJt(e,t){var r={overflow:"hidden"};e.style={overflow:t.style.overflow,paddingRight:t.style.paddingRight},e.overflowing&&(r.paddingRight=parseInt((0,vke.default)(t,"paddingRight")||0,10)+(0,KQt.default)()+"px"),(0,vke.default)(t,r)}function nJt(e,t){var r=e.style;Object.keys(r).forEach(function(n){return t.style[n]=r[n]})}var iJt=function e(){var t=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=r.hideSiblingNodes,i=n===void 0?!0:n,o=r.handleContainerOverflow,u=o===void 0?!0:o;JQt(this,e),this.add=function(p,h,y){var _=t.modals.indexOf(p),E=t.containers.indexOf(h);if(_!==-1)return _;if(_=t.modals.length,t.modals.push(p),t.hideSiblingNodes&&(0,qH.hideSiblings)(h,p.modalNode),E!==-1)return t.data[E].modals.push(p),_;var T={modals:[p],classes:y?y.split(/\s+/):[],overflowing:(0,QQt.default)(h)};return t.handleContainerOverflow&&rJt(T,h),T.classes.forEach(gke.default.addClass.bind(null,h)),t.containers.push(h),t.data.push(T),_},this.remove=function(p){var h=t.modals.indexOf(p);if(h!==-1){var y=tJt(t.data,p),_=t.data[y],E=t.containers[y];_.modals.splice(_.modals.indexOf(p),1),t.modals.splice(h,1),_.modals.length===0?(_.classes.forEach(gke.default.removeClass.bind(null,E)),t.handleContainerOverflow&&nJt(_,E),t.hideSiblingNodes&&(0,qH.showSiblings)(E,p.modalNode),t.containers.splice(y,1),t.data.splice(y,1)):t.hideSiblingNodes&&(0,qH.ariaHidden)(!1,_.modals[_.modals.length-1].modalNode)}},this.isTopModal=function(p){return!!t.modals.length&&t.modals[t.modals.length-1]===p},this.hideSiblingNodes=i,this.handleContainerOverflow=u,this.modals=[],this.containers=[],this.data=[]};M4.default=iJt;yke.exports=M4.default});var D2=I((C4,bke)=>{"use strict";C4.__esModule=!0;C4.default=lJt;var oJt=Ri(),aJt=sJt(oJt);function sJt(e){return e&&e.__esModule?e:{default:e}}function lJt(e,t){return e=typeof e=="function"?e():e,aJt.default.findDOMNode(e)||t}bke.exports=C4.default});var Mke=I((A4,Tke)=>{"use strict";A4.__esModule=!0;var uJt=Gt(),RH=O0(uJt),cJt=A2(),dJt=O0(cJt),pJt=Be(),xke=O0(pJt),fJt=Ri(),wke=O0(fJt),hJt=D2(),Ske=O0(hJt),mJt=Xm(),Ike=O0(mJt);function O0(e){return e&&e.__esModule?e:{default:e}}function gJt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Eke(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function vJt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var zH=function(e){vJt(t,e);function t(){var r,n,i;gJt(this,t);for(var o=arguments.length,u=Array(o),p=0;p<o;p++)u[p]=arguments[p];return i=(r=(n=Eke(this,e.call.apply(e,[this].concat(u))),n),n._mountOverlayTarget=function(){n._overlayTarget||(n._overlayTarget=document.createElement("div"),n._portalContainerNode=(0,Ske.default)(n.props.container,(0,Ike.default)(n).body),n._portalContainerNode.appendChild(n._overlayTarget))},n._unmountOverlayTarget=function(){n._overlayTarget&&(n._portalContainerNode.removeChild(n._overlayTarget),n._overlayTarget=null),n._portalContainerNode=null},n._renderOverlay=function(){var h=n.props.children?xke.default.Children.only(n.props.children):null;if(h!==null){n._mountOverlayTarget();var y=!n._overlayInstance;n._overlayInstance=wke.default.unstable_renderSubtreeIntoContainer(n,h,n._overlayTarget,function(){y&&n.props.onRendered&&n.props.onRendered()})}else n._unrenderOverlay(),n._unmountOverlayTarget()},n._unrenderOverlay=function(){n._overlayTarget&&(wke.default.unmountComponentAtNode(n._overlayTarget),n._overlayInstance=null)},n.getMountNode=function(){return n._overlayTarget},r),Eke(n,i)}return t.prototype.componentDidMount=function(){this._isMounted=!0,this._renderOverlay()},t.prototype.componentDidUpdate=function(){this._renderOverlay()},t.prototype.UNSAFE_componentWillReceiveProps=function(n){this._overlayTarget&&n.container!==this.props.container&&(this._portalContainerNode.removeChild(this._overlayTarget),this._portalContainerNode=(0,Ske.default)(n.container,(0,Ike.default)(this).body),this._portalContainerNode.appendChild(this._overlayTarget))},t.prototype.componentWillUnmount=function(){this._isMounted=!1,this._unrenderOverlay(),this._unmountOverlayTarget()},t.prototype.render=function(){return null},t}(xke.default.Component);zH.displayName="Portal";zH.propTypes={container:RH.default.oneOfType([dJt.default,RH.default.func]),onRendered:RH.default.func};A4.default=zH;Tke.exports=A4.default});var UH=I((P4,Ake)=>{"use strict";P4.__esModule=!0;var yJt=Ic(),_Jt=rh(yJt),bJt=Gt(),jH=rh(bJt),xJt=A2(),wJt=rh(xJt),SJt=Be(),IJt=rh(SJt),EJt=Ri(),FH=rh(EJt),TJt=D2(),MJt=rh(TJt),CJt=Xm(),AJt=rh(CJt),PJt=Mke(),OJt=rh(PJt);function rh(e){return e&&e.__esModule?e:{default:e}}function DJt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cke(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function NJt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var BH=function(e){NJt(t,e);function t(){var r,n,i;DJt(this,t);for(var o=arguments.length,u=Array(o),p=0;p<o;p++)u[p]=arguments[p];return i=(r=(n=Cke(this,e.call.apply(e,[this].concat(u))),n),n.getMountNode=function(){return n._portalContainerNode},r),Cke(n,i)}return t.prototype.UNSAFE_componentWillMount=function(){if(_Jt.default){var n=this.props.container;typeof n=="function"&&(n=n()),!(n&&!FH.default.findDOMNode(n))&&this.setContainer(n)}},t.prototype.componentDidMount=function(){this._portalContainerNode?this.props.onRendered&&this.props.onRendered():(this.setContainer(this.props.container),this.forceUpdate(this.props.onRendered))},t.prototype.UNSAFE_componentWillReceiveProps=function(n){n.container!==this.props.container&&this.setContainer(n.container)},t.prototype.componentWillUnmount=function(){this._portalContainerNode=null},t.prototype.setContainer=function(n){this._portalContainerNode=(0,MJt.default)(n,(0,AJt.default)(this).body)},t.prototype.render=function(){return this.props.children&&this._portalContainerNode?FH.default.createPortal(this.props.children,this._portalContainerNode):null},t}(IJt.default.Component);BH.displayName="Portal";BH.propTypes={container:jH.default.oneOfType([wJt.default,jH.default.func]),onRendered:jH.default.func};P4.default=FH.default.createPortal?BH:OJt.default;Ake.exports=P4.default});var Nke=I((O4,Dke)=>{"use strict";O4.__esModule=!0;var kJt=Gt(),LJt=Pke(kJt),qJt=Be(),RJt=Pke(qJt);function Pke(e){return e&&e.__esModule?e:{default:e}}function zJt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jJt(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function FJt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var BJt={children:LJt.default.node},Oke=function(e){FJt(t,e);function t(){return zJt(this,t),jJt(this,e.apply(this,arguments))}return t.prototype.render=function(){return this.props.children},t}(RJt.default.Component);Oke.propTypes=BJt;O4.default=Oke;Dke.exports=O4.default});var Lke=I((D4,kke)=>{"use strict";D4.__esModule=!0;D4.default=UJt;function UJt(e){var t=!document.addEventListener,r=void 0;return t?(document.attachEvent("onfocusin",e),r=function(){return document.detachEvent("onfocusin",e)}):(document.addEventListener("focus",e,!0),r=function(){return document.removeEventListener("focus",e,!0)}),{remove:r}}kke.exports=D4.default});var Hke=I((k4,$ke)=>{"use strict";k4.__esModule=!0;var jke=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},VJt=U$(),VH=Qo(VJt),$Jt=E0(),Fke=Qo($Jt),HJt=Ic(),WJt=Qo(HJt),GJt=Gt(),pi=Qo(GJt),YJt=A2(),ZJt=Qo(YJt),KJt=JNe(),XJt=Qo(KJt),QJt=Xo(),qke=Qo(QJt),Bke=Be(),nh=Qo(Bke),JJt=Ri(),eer=Qo(JJt),ter=Qf(),rer=Qo(ter),ner=_ke(),Uke=Qo(ner),ier=UH(),Vke=Qo(ier),oer=Nke(),aer=Qo(oer),ser=J$(),Rke=Qo(ser),ler=Lke(),uer=Qo(ler),cer=D2(),der=Qo(cer),per=Xm(),$H=Qo(per);function Qo(e){return e&&e.__esModule?e:{default:e}}function fer(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zke(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function her(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var mer=new Uke.default,N4=function(e){her(t,e);function t(){var r,n,i;fer(this,t);for(var o=arguments.length,u=Array(o),p=0;p<o;p++)u[p]=arguments[p];return i=(r=(n=zke(this,e.call.apply(e,[this].concat(u))),n),ger.call(n),r),zke(n,i)}return t.prototype.omitProps=function(n,i){var o=Object.keys(n),u={};return o.map(function(p){Object.prototype.hasOwnProperty.call(i,p)||(u[p]=n[p])}),u},t.prototype.render=function(){var n=this.props,i=n.show,o=n.container,u=n.children,p=n.transition,h=n.backdrop,y=n.className,_=n.style,E=n.onExit,T=n.onExiting,N=n.onEnter,R=n.onEntering,j=n.onEntered,k=nh.default.Children.only(u),L=this.omitProps(this.props,t.propTypes),F=i||p&&!this.state.exited;if(!F)return null;var G=k.props,ee=G.role,ae=G.tabIndex;return(ee===void 0||ae===void 0)&&(k=(0,Bke.cloneElement)(k,{role:ee===void 0?"document":ee,tabIndex:ae==null?"-1":ae})),p&&(k=nh.default.createElement(p,{appear:!0,unmountOnExit:!0,in:i,onExit:E,onExiting:T,onExited:this.handleHidden,onEnter:N,onEntering:R,onEntered:j},k)),nh.default.createElement(Vke.default,{ref:this.setMountNode,container:o,onRendered:this.onPortalRendered},nh.default.createElement("div",jke({ref:this.setModalNodeRef,role:ee||"dialog"},L,{style:_,className:y}),h&&this.renderBackdrop(),nh.default.createElement(aer.default,{ref:this.setDialogRef},k)))},t.prototype.UNSAFE_componentWillReceiveProps=function(n){n.show?this.setState({exited:!1}):n.transition||this.setState({exited:!0})},t.prototype.UNSAFE_componentWillUpdate=function(n){!this.props.show&&n.show&&this.checkForFocus()},t.prototype.componentDidMount=function(){this._isMounted=!0,this.props.show&&this.onShow()},t.prototype.componentDidUpdate=function(n){var i=this.props.transition;n.show&&!this.props.show&&!i?this.onHide():!n.show&&this.props.show&&this.onShow()},t.prototype.componentWillUnmount=function(){var n=this.props,i=n.show,o=n.transition;this._isMounted=!1,(i||o&&!this.state.exited)&&this.onHide()},t.prototype.autoFocus=function(){if(this.props.autoFocus){var n=this.getDialogElement(),i=(0,VH.default)((0,$H.default)(this));n&&!(0,Fke.default)(n,i)&&(this.lastFocus=i,n.hasAttribute("tabIndex")||((0,rer.default)(!1,"The modal content node does not accept focus. For the benefit of assistive technologies, the tabIndex of the node is being set to \"-1\"."),n.setAttribute("tabIndex",-1)),n.focus())}},t.prototype.restoreLastFocus=function(){this.lastFocus&&this.lastFocus.focus&&(this.lastFocus.focus(),this.lastFocus=null)},t.prototype.getDialogElement=function(){return eer.default.findDOMNode(this.dialog)},t.prototype.isTopModal=function(){return this.props.manager.isTopModal(this)},t}(nh.default.Component);N4.propTypes=jke({},Vke.default.propTypes,{show:pi.default.bool,container:pi.default.oneOfType([ZJt.default,pi.default.func]),onShow:pi.default.func,onHide:pi.default.func,backdrop:pi.default.oneOfType([pi.default.bool,pi.default.oneOf(["static"])]),renderBackdrop:pi.default.func,onEscapeKeyDown:pi.default.func,onEscapeKeyUp:(0,XJt.default)(pi.default.func,"Please use onEscapeKeyDown instead for consistency"),onBackdropClick:pi.default.func,backdropStyle:pi.default.object,backdropClassName:pi.default.string,containerClassName:pi.default.string,keyboard:pi.default.bool,transition:qke.default,backdropTransition:qke.default,autoFocus:pi.default.bool,enforceFocus:pi.default.bool,restoreFocus:pi.default.bool,onEnter:pi.default.func,onEntering:pi.default.func,onEntered:pi.default.func,onExit:pi.default.func,onExiting:pi.default.func,onExited:pi.default.func,manager:pi.default.object.isRequired});N4.defaultProps={show:!1,backdrop:!0,keyboard:!0,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,onHide:function(){},manager:mer,renderBackdrop:function(t){return nh.default.createElement("div",t)}};var ger=function(){var t=this;this.state={exited:!this.props.show},this.renderBackdrop=function(){var r=t.props,n=r.backdropStyle,i=r.backdropClassName,o=r.renderBackdrop,u=r.backdropTransition,p=function(_){return t.backdrop=_},h=o({ref:p,style:n,className:i,onClick:t.handleBackdropClick});return u&&(h=nh.default.createElement(u,{appear:!0,in:t.props.show},h)),h},this.onPortalRendered=function(){t.autoFocus(),t.props.onShow&&t.props.onShow()},this.onShow=function(){var r=(0,$H.default)(t),n=(0,der.default)(t.props.container,r.body);t.props.manager.add(t,n,t.props.containerClassName),t._onDocumentKeydownListener=(0,Rke.default)(r,"keydown",t.handleDocumentKeyDown),t._onDocumentKeyupListener=(0,Rke.default)(r,"keyup",t.handleDocumentKeyUp),t._onFocusinListener=(0,uer.default)(t.enforceFocus)},this.onHide=function(){t.props.manager.remove(t),t._onDocumentKeydownListener.remove(),t._onDocumentKeyupListener.remove(),t._onFocusinListener.remove(),t.props.restoreFocus&&t.restoreLastFocus()},this.setMountNode=function(r){t.mountNode=r&&r.getMountNode()},this.setModalNodeRef=function(r){t.modalNode=r},this.setDialogRef=function(r){t.dialog=r},this.handleHidden=function(){if(t.setState({exited:!0}),t.onHide(),t.props.onExited){var r;(r=t.props).onExited.apply(r,arguments)}},this.handleBackdropClick=function(r){r.target===r.currentTarget&&(t.props.onBackdropClick&&t.props.onBackdropClick(r),t.props.backdrop===!0&&t.props.onHide())},this.handleDocumentKeyDown=function(r){t.props.keyboard&&r.keyCode===27&&t.isTopModal()&&(t.props.onEscapeKeyDown&&t.props.onEscapeKeyDown(r),t.props.onHide())},this.handleDocumentKeyUp=function(r){t.props.keyboard&&r.keyCode===27&&t.isTopModal()&&t.props.onEscapeKeyUp&&t.props.onEscapeKeyUp(r)},this.checkForFocus=function(){WJt.default&&(t.lastFocus=(0,VH.default)())},this.enforceFocus=function(){if(!(!t.props.enforceFocus||!t._isMounted||!t.isTopModal())){var r=t.getDialogElement(),n=(0,VH.default)((0,$H.default)(t));r&&!(0,Fke.default)(r,n)&&r.focus()}}};N4.Manager=Uke.default;k4.default=N4;$ke.exports=k4.default});var nW=I((F4,p6e)=>{"use strict";var rW=$i();F4.__esModule=!0;F4.default=Fer;var Rer=rW(E0()),zer=rW(P2()),jer=rW(Zm());function Fer(e){var t=(0,jer.default)(e),r=(0,zer.default)(t),n=t&&t.documentElement,i={top:0,left:0,height:0,width:0};if(t)return(0,Rer.default)(n,e)&&(e.getBoundingClientRect!==void 0&&(i=e.getBoundingClientRect()),i={top:i.top+(r.pageYOffset||n.scrollTop)-(n.clientTop||0),left:i.left+(r.pageXOffset||n.scrollLeft)-(n.clientLeft||0),width:(i.width==null?e.offsetWidth:i.width)||0,height:(i.height==null?e.offsetHeight:i.height)||0}),i}p6e.exports=F4.default});var f6e=I((Xqr,Bd)=>{function iW(){return Bd.exports=iW=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bd.exports.__esModule=!0,Bd.exports.default=Bd.exports,iW.apply(null,arguments)}Bd.exports=iW,Bd.exports.__esModule=!0,Bd.exports.default=Bd.exports});var g6e=I((B4,m6e)=>{"use strict";var h6e=$i();B4.__esModule=!0;B4.default=$er;var Ber=h6e(Zm()),Uer=h6e(W3());function Ver(e){return e.nodeName&&e.nodeName.toLowerCase()}function $er(e){for(var t=(0,Ber.default)(e),r=e&&e.offsetParent;r&&Ver(e)!=="html"&&(0,Uer.default)(r,"position")==="static";)r=r.offsetParent;return r||t.documentElement}m6e.exports=B4.default});var oW=I((U4,v6e)=>{"use strict";var Her=$i();U4.__esModule=!0;U4.default=Ger;var Wer=Her(P2());function Ger(e,t){var r=(0,Wer.default)(e);if(t===void 0)return r?"pageYOffset"in r?r.pageYOffset:r.document.documentElement.scrollTop:e.scrollTop;r?r.scrollTo("pageXOffset"in r?r.pageXOffset:r.document.documentElement.scrollLeft,t):e.scrollTop=t}v6e.exports=U4.default});var _6e=I((V4,y6e)=>{"use strict";var Yer=$i();V4.__esModule=!0;V4.default=Ker;var Zer=Yer(P2());function Ker(e,t){var r=(0,Zer.default)(e);if(t===void 0)return r?"pageXOffset"in r?r.pageXOffset:r.document.documentElement.scrollLeft:e.scrollLeft;r?r.scrollTo(t,"pageYOffset"in r?r.pageYOffset:r.document.documentElement.scrollTop):e.scrollLeft=t}y6e.exports=V4.default});var w6e=I(($4,x6e)=>{"use strict";var L0=$i();$4.__esModule=!0;$4.default=rtr;var Xer=L0(f6e()),b6e=L0(nW()),Qer=L0(g6e()),Jer=L0(oW()),etr=L0(_6e()),F2=L0(W3());function ttr(e){return e.nodeName&&e.nodeName.toLowerCase()}function rtr(e,t){var r={top:0,left:0},n;return(0,F2.default)(e,"position")==="fixed"?n=e.getBoundingClientRect():(t=t||(0,Qer.default)(e),n=(0,b6e.default)(e),ttr(t)!=="html"&&(r=(0,b6e.default)(t)),r.top+=parseInt((0,F2.default)(t,"borderTopWidth"),10)-(0,Jer.default)(t)||0,r.left+=parseInt((0,F2.default)(t,"borderLeftWidth"),10)-(0,etr.default)(t)||0),(0,Xer.default)({},n,{top:n.top-r.top-(parseInt((0,F2.default)(e,"marginTop"),10)||0),left:n.left-r.left-(parseInt((0,F2.default)(e,"marginLeft"),10)||0)})}x6e.exports=$4.default});var E6e=I((W4,I6e)=>{"use strict";W4.__esModule=!0;W4.default=dtr;var ntr=nW(),sW=H4(ntr),itr=w6e(),otr=H4(itr),atr=oW(),aW=H4(atr),str=Xm(),ltr=H4(str);function H4(e){return e&&e.__esModule?e:{default:e}}function S6e(e){var t=void 0,r=void 0,n=void 0;if(e.tagName==="BODY")t=window.innerWidth,r=window.innerHeight,n=(0,aW.default)((0,ltr.default)(e).documentElement)||(0,aW.default)(e);else{var i=(0,sW.default)(e);t=i.width,r=i.height,n=(0,aW.default)(e)}return{width:t,height:r,scroll:n}}function utr(e,t,r,n){var i=S6e(r),o=i.scroll,u=i.height,p=e-n-o,h=e+n-o+t;return p<0?-p:h>u?u-h:0}function ctr(e,t,r,n){var i=S6e(r),o=i.width,u=e-n,p=e+n+t;return u<0?-u:p>o?o-p:0}function dtr(e,t,r,n,i){var o=n.tagName==="BODY"?(0,sW.default)(r):(0,otr.default)(r,n),u=(0,sW.default)(t),p=u.height,h=u.width,y=void 0,_=void 0,E=void 0,T=void 0;if(e==="left"||e==="right"){_=o.top+(o.height-p)/2,e==="left"?y=o.left-h:y=o.left+o.width;var N=utr(_,p,n,i);_+=N,T=50*(1-2*N/p)+"%",E=void 0}else if(e==="top"||e==="bottom"){y=o.left+(o.width-h)/2,e==="top"?_=o.top-p:_=o.top+o.height;var R=ctr(y,h,n,i);y+=R,E=50*(1-2*R/h)+"%",T=void 0}else throw new Error("calcOverlayPosition(): No such placement of \""+e+"\" found.");return{positionLeft:y,positionTop:_,arrowOffsetLeft:E,arrowOffsetTop:T}}I6e.exports=W4.default});var N6e=I((Y4,D6e)=>{"use strict";Y4.__esModule=!0;var T6e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ptr=Xr(),ftr=oh(ptr),htr=Gt(),Jm=oh(htr),mtr=A2(),M6e=oh(mtr),O6e=Be(),C6e=oh(O6e),gtr=Ri(),A6e=oh(gtr),vtr=E6e(),ytr=oh(vtr),_tr=D2(),btr=oh(_tr),xtr=Xm(),wtr=oh(xtr);function oh(e){return e&&e.__esModule?e:{default:e}}function P6e(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}function Str(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Itr(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Etr(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var G4=function(e){Etr(t,e);function t(r,n){Str(this,t);var i=Itr(this,e.call(this,r,n));return i.getTarget=function(){var o=i.props.target,u=typeof o=="function"?o():o;return u&&A6e.default.findDOMNode(u)||null},i.maybeUpdatePosition=function(o){var u=i.getTarget();!i.props.shouldUpdatePosition&&u===i._lastTarget&&!o||i.updatePosition(u)},i.state={positionLeft:0,positionTop:0,arrowOffsetLeft:null,arrowOffsetTop:null},i._needsFlush=!1,i._lastTarget=null,i}return t.prototype.componentDidMount=function(){this.updatePosition(this.getTarget())},t.prototype.UNSAFE_componentWillReceiveProps=function(){this._needsFlush=!0},t.prototype.componentDidUpdate=function(n){this._needsFlush&&(this._needsFlush=!1,this.maybeUpdatePosition(this.props.placement!==n.placement))},t.prototype.render=function(){var n=this.props,i=n.children,o=n.className,u=P6e(n,["children","className"]),p=this.state,h=p.positionLeft,y=p.positionTop,_=P6e(p,["positionLeft","positionTop"]);delete u.target,delete u.container,delete u.containerPadding,delete u.shouldUpdatePosition;var E=C6e.default.Children.only(i);return(0,O6e.cloneElement)(E,T6e({},u,_,{positionLeft:h,positionTop:y,className:(0,ftr.default)(o,E.props.className),style:T6e({},E.props.style,{left:h,top:y})}))},t.prototype.updatePosition=function(n){if(this._lastTarget=n,!n){this.setState({positionLeft:0,positionTop:0,arrowOffsetLeft:null,arrowOffsetTop:null});return}var i=A6e.default.findDOMNode(this),o=(0,btr.default)(this.props.container,(0,wtr.default)(this).body);this.setState((0,ytr.default)(this.props.placement,i,n,o,this.props.containerPadding))},t}(C6e.default.Component);G4.propTypes={target:Jm.default.oneOfType([M6e.default,Jm.default.func]),container:Jm.default.oneOfType([M6e.default,Jm.default.func]),containerPadding:Jm.default.number,placement:Jm.default.oneOf(["top","right","bottom","left"]),shouldUpdatePosition:Jm.default.bool};G4.displayName="Position";G4.defaultProps={containerPadding:0,placement:"right",shouldUpdatePosition:!1};Y4.default=G4;D6e.exports=Y4.default});var j6e=I((Z4,z6e)=>{"use strict";Z4.__esModule=!0;var Ttr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mtr=Gt(),Ud=q0(Mtr),Ctr=Xo(),Atr=q0(Ctr),Ptr=Be(),B2=q0(Ptr),Otr=UH(),k6e=q0(Otr),Dtr=N6e(),L6e=q0(Dtr),Ntr=tH(),q6e=q0(Ntr);function q0(e){return e&&e.__esModule?e:{default:e}}function ktr(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}function Ltr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qtr(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Rtr(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var R6e=function(e){Rtr(t,e);function t(r,n){Ltr(this,t);var i=qtr(this,e.call(this,r,n));return i.handleHidden=function(){if(i.setState({exited:!0}),i.props.onExited){var o;(o=i.props).onExited.apply(o,arguments)}},i.state={exited:!r.show},i.onHiddenListener=i.handleHidden.bind(i),i}return t.prototype.UNSAFE_componentWillReceiveProps=function(n){n.show?this.setState({exited:!1}):n.transition||this.setState({exited:!0})},t.prototype.render=function(){var n=this.props,i=n.container,o=n.containerPadding,u=n.target,p=n.placement,h=n.shouldUpdatePosition,y=n.rootClose,_=n.children,E=n.transition,T=ktr(n,["container","containerPadding","target","placement","shouldUpdatePosition","rootClose","children","transition"]),N=T.show||E&&!this.state.exited;if(!N)return null;var R=_;if(R=B2.default.createElement(L6e.default,{container:i,containerPadding:o,target:u,placement:p,shouldUpdatePosition:h},R),E){var j=T.onExit,k=T.onExiting,L=T.onEnter,F=T.onEntering,G=T.onEntered;R=B2.default.createElement(E,{in:T.show,appear:!0,onExit:j,onExiting:k,onExited:this.onHiddenListener,onEnter:L,onEntering:F,onEntered:G},R)}return y&&(R=B2.default.createElement(q6e.default,{onRootClose:T.onHide,event:T.rootCloseEvent},R)),B2.default.createElement(k6e.default,{container:i},R)},t}(B2.default.Component);R6e.propTypes=Ttr({},k6e.default.propTypes,L6e.default.propTypes,{show:Ud.default.bool,rootClose:Ud.default.bool,rootCloseEvent:q6e.default.propTypes.event,onHide:function(t){var r=Ud.default.func;t.rootClose&&(r=r.isRequired);for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return r.apply(void 0,[t].concat(i))},transition:Atr.default,onEnter:Ud.default.func,onEntering:Ud.default.func,onEntered:Ud.default.func,onExit:Ud.default.func,onExiting:Ud.default.func,onExited:Ud.default.func});Z4.default=R6e;z6e.exports=Z4.default});var Tqe=I((g$r,Eqe)=>{"use strict";Eqe.exports=e=>encodeURIComponent(e).replace(/[!'()*]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`)});var Oqe=I((v$r,Pqe)=>{"use strict";var Aqe="%[a-f0-9]{2}",Mqe=new RegExp("("+Aqe+")|([^%]+?)","gi"),Cqe=new RegExp("("+Aqe+")+","gi");function YW(e,t){try{return[decodeURIComponent(e.join(""))]}catch(i){}if(e.length===1)return e;t=t||1;var r=e.slice(0,t),n=e.slice(t);return Array.prototype.concat.call([],YW(r),YW(n))}function Iir(e){try{return decodeURIComponent(e)}catch(n){for(var t=e.match(Mqe)||[],r=1;r<t.length;r++)e=YW(t,r).join(""),t=e.match(Mqe)||[];return e}}function Eir(e){for(var t={"%FE%FF":"\uFFFD\uFFFD","%FF%FE":"\uFFFD\uFFFD"},r=Cqe.exec(e);r;){try{t[r[0]]=decodeURIComponent(r[0])}catch(p){var n=Iir(r[0]);n!==r[0]&&(t[r[0]]=n)}r=Cqe.exec(e)}t["%C2"]="\uFFFD";for(var i=Object.keys(t),o=0;o<i.length;o++){var u=i[o];e=e.replace(new RegExp(u,"g"),t[u])}return e}Pqe.exports=function(e){if(typeof e!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return Eir(e)}}});var Nqe=I((y$r,Dqe)=>{"use strict";Dqe.exports=(e,t)=>{if(!(typeof e=="string"&&typeof t=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(t==="")return[e];let r=e.indexOf(t);return r===-1?[e]:[e.slice(0,r),e.slice(r+t.length)]}});var Lqe=I((_$r,kqe)=>{"use strict";kqe.exports=function(e,t){for(var r={},n=Object.keys(e),i=Array.isArray(t),o=0;o<n.length;o++){var u=n[o],p=e[u];(i?t.indexOf(u)!==-1:t(u,p,e))&&(r[u]=p)}return r}});var Vqe=I(ks=>{"use strict";var Tir=Tqe(),Mir=Oqe(),Rqe=Nqe(),Cir=Lqe(),Air=e=>e==null,ZW=Symbol("encodeFragmentIdentifier");function Pir(e){switch(e.arrayFormat){case"index":return t=>(r,n)=>{let i=r.length;return n===void 0||e.skipNull&&n===null||e.skipEmptyString&&n===""?r:n===null?[...r,[Hi(t,e),"[",i,"]"].join("")]:[...r,[Hi(t,e),"[",Hi(i,e),"]=",Hi(n,e)].join("")]};case"bracket":return t=>(r,n)=>n===void 0||e.skipNull&&n===null||e.skipEmptyString&&n===""?r:n===null?[...r,[Hi(t,e),"[]"].join("")]:[...r,[Hi(t,e),"[]=",Hi(n,e)].join("")];case"colon-list-separator":return t=>(r,n)=>n===void 0||e.skipNull&&n===null||e.skipEmptyString&&n===""?r:n===null?[...r,[Hi(t,e),":list="].join("")]:[...r,[Hi(t,e),":list=",Hi(n,e)].join("")];case"comma":case"separator":case"bracket-separator":{let t=e.arrayFormat==="bracket-separator"?"[]=":"=";return r=>(n,i)=>i===void 0||e.skipNull&&i===null||e.skipEmptyString&&i===""?n:(i=i===null?"":i,n.length===0?[[Hi(r,e),t,Hi(i,e)].join("")]:[[n,Hi(i,e)].join(e.arrayFormatSeparator)])}default:return t=>(r,n)=>n===void 0||e.skipNull&&n===null||e.skipEmptyString&&n===""?r:n===null?[...r,Hi(t,e)]:[...r,[Hi(t,e),"=",Hi(n,e)].join("")];}}function Oir(e){let t;switch(e.arrayFormat){case"index":return(r,n,i)=>{if(t=/\[(\d*)\]$/.exec(r),r=r.replace(/\[\d*\]$/,""),!t){i[r]=n;return}i[r]===void 0&&(i[r]={}),i[r][t[1]]=n};case"bracket":return(r,n,i)=>{if(t=/(\[\])$/.exec(r),r=r.replace(/\[\]$/,""),!t){i[r]=n;return}if(i[r]===void 0){i[r]=[n];return}i[r]=[].concat(i[r],n)};case"colon-list-separator":return(r,n,i)=>{if(t=/(:list)$/.exec(r),r=r.replace(/:list$/,""),!t){i[r]=n;return}if(i[r]===void 0){i[r]=[n];return}i[r]=[].concat(i[r],n)};case"comma":case"separator":return(r,n,i)=>{let o=typeof n=="string"&&n.includes(e.arrayFormatSeparator),u=typeof n=="string"&&!o&&Yd(n,e).includes(e.arrayFormatSeparator);n=u?Yd(n,e):n;let p=o||u?n.split(e.arrayFormatSeparator).map(h=>Yd(h,e)):n===null?n:Yd(n,e);i[r]=p};case"bracket-separator":return(r,n,i)=>{let o=/(\[\])$/.test(r);if(r=r.replace(/\[\]$/,""),!o){i[r]=n&&Yd(n,e);return}let u=n===null?[]:n.split(e.arrayFormatSeparator).map(p=>Yd(p,e));if(i[r]===void 0){i[r]=u;return}i[r]=[].concat(i[r],u)};default:return(r,n,i)=>{if(i[r]===void 0){i[r]=n;return}i[r]=[].concat(i[r],n)};}}function zqe(e){if(typeof e!="string"||e.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function Hi(e,t){return t.encode?t.strict?Tir(e):encodeURIComponent(e):e}function Yd(e,t){return t.decode?Mir(e):e}function jqe(e){return Array.isArray(e)?e.sort():typeof e=="object"?jqe(Object.keys(e)).sort((t,r)=>Number(t)-Number(r)).map(t=>e[t]):e}function Fqe(e){let t=e.indexOf("#");return t!==-1&&(e=e.slice(0,t)),e}function Dir(e){let t="",r=e.indexOf("#");return r!==-1&&(t=e.slice(r)),t}function Bqe(e){e=Fqe(e);let t=e.indexOf("?");return t===-1?"":e.slice(t+1)}function qqe(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&typeof e=="string"&&e.trim()!==""?e=Number(e):t.parseBooleans&&e!==null&&(e.toLowerCase()==="true"||e.toLowerCase()==="false")&&(e=e.toLowerCase()==="true"),e}function Uqe(e,t){t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t),zqe(t.arrayFormatSeparator);let r=Oir(t),n=Object.create(null);if(typeof e!="string"||(e=e.trim().replace(/^[?#&]/,""),!e))return n;for(let i of e.split("&")){if(i==="")continue;let[o,u]=Rqe(t.decode?i.replace(/\+/g," "):i,"=");u=u===void 0?null:["comma","separator","bracket-separator"].includes(t.arrayFormat)?u:Yd(u,t),r(Yd(o,t),u,n)}for(let i of Object.keys(n)){let o=n[i];if(typeof o=="object"&&o!==null)for(let u of Object.keys(o))o[u]=qqe(o[u],t);else n[i]=qqe(o,t)}return t.sort===!1?n:(t.sort===!0?Object.keys(n).sort():Object.keys(n).sort(t.sort)).reduce((i,o)=>{let u=n[o];return u&&typeof u=="object"&&!Array.isArray(u)?i[o]=jqe(u):i[o]=u,i},Object.create(null))}ks.extract=Bqe;ks.parse=Uqe;ks.stringify=(e,t)=>{if(!e)return"";t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t),zqe(t.arrayFormatSeparator);let r=u=>t.skipNull&&Air(e[u])||t.skipEmptyString&&e[u]==="",n=Pir(t),i={};for(let u of Object.keys(e))r(u)||(i[u]=e[u]);let o=Object.keys(i);return t.sort!==!1&&o.sort(t.sort),o.map(u=>{let p=e[u];return p===void 0?"":p===null?Hi(u,t):Array.isArray(p)?p.length===0&&t.arrayFormat==="bracket-separator"?Hi(u,t)+"[]":p.reduce(n(u),[]).join("&"):Hi(u,t)+"="+Hi(p,t)}).filter(u=>u.length>0).join("&")};ks.parseUrl=(e,t)=>{t=Object.assign({decode:!0},t);let[r,n]=Rqe(e,"#");return Object.assign({url:r.split("?")[0]||"",query:Uqe(Bqe(e),t)},t&&t.parseFragmentIdentifier&&n?{fragmentIdentifier:Yd(n,t)}:{})};ks.stringifyUrl=(e,t)=>{t=Object.assign({encode:!0,strict:!0,[ZW]:!0},t);let r=Fqe(e.url).split("?")[0]||"",n=ks.extract(e.url),i=ks.parse(n,{sort:!1}),o=Object.assign(i,e.query),u=ks.stringify(o,t);u&&(u=`?${u}`);let p=Dir(e.url);return e.fragmentIdentifier&&(p=`#${t[ZW]?Hi(e.fragmentIdentifier,t):e.fragmentIdentifier}`),`${r}${u}${p}`};ks.pick=(e,t,r)=>{r=Object.assign({parseFragmentIdentifier:!0,[ZW]:!1},r);let{url:n,query:i,fragmentIdentifier:o}=ks.parseUrl(e,r);return ks.stringifyUrl({url:n,query:Cir(i,t),fragmentIdentifier:o},r)};ks.exclude=(e,t,r)=>{let n=Array.isArray(t)?i=>!t.includes(i):(i,o)=>!t(i,o);return ks.pick(e,n,r)}});var vRe=I((yWr,Zd)=>{function JW(e,t){return Zd.exports=JW=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Zd.exports.__esModule=!0,Zd.exports.default=Zd.exports,JW(e,t)}Zd.exports=JW,Zd.exports.__esModule=!0,Zd.exports.default=Zd.exports});var eG=I((_Wr,hS)=>{var ior=vRe();function oor(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,ior(e,t)}hS.exports=oor,hS.exports.__esModule=!0,hS.exports.default=hS.exports});var rG=I(tG=>{"use strict";Object.defineProperty(tG,"__esModule",{value:!0});function aor(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function sor(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t}var lor=function(){function e(r){this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.before=null}var t=e.prototype;return t.insert=function(n){if(this.ctr%(this.isSpeedy?65e3:1)===0){var i=sor(this),o;this.tags.length===0?o=this.before:o=this.tags[this.tags.length-1].nextSibling,this.container.insertBefore(i,o),this.tags.push(i)}var u=this.tags[this.tags.length-1];if(this.isSpeedy){var p=aor(u);try{var h=n.charCodeAt(1)===105&&n.charCodeAt(0)===64;p.insertRule(n,h?0:p.cssRules.length)}catch(y){}}else u.appendChild(document.createTextNode(n));this.ctr++},t.flush=function(){this.tags.forEach(function(n){return n.parentNode.removeChild(n)}),this.tags=[],this.ctr=0},e}();tG.StyleSheet=lor});var yRe=I(nG=>{"use strict";Object.defineProperty(nG,"__esModule",{value:!0});function uor(e){function t(Fe,Ge,ot,De,he){for(var ke=0,Te=0,Qe=0,Ye=0,Ct,yt,Nt=0,we=0,bt,Ft=bt=Ct=0,vt=0,Yt=0,Or=0,Wt=0,hr=ot.length,Gr=hr-1,Yr,ir="",tn="",at="",fi="",wn;vt<hr;){if(yt=ot.charCodeAt(vt),vt===Gr&&Te+Ye+Qe+ke!==0&&(Te!==0&&(yt=Te===47?10:47),Ye=Qe=ke=0,hr++,Gr++),Te+Ye+Qe+ke===0){if(vt===Gr&&(0<Yt&&(ir=ir.replace(T,"")),0<ir.trim().length)){switch(yt){case 32:case 9:case 59:case 13:case 10:break;default:ir+=ot.charAt(vt);}yt=59}switch(yt){case 123:for(ir=ir.trim(),Ct=ir.charCodeAt(0),bt=1,Wt=++vt;vt<hr;){switch(yt=ot.charCodeAt(vt)){case 123:bt++;break;case 125:bt--;break;case 47:switch(yt=ot.charCodeAt(vt+1)){case 42:case 47:e:{for(Ft=vt+1;Ft<Gr;++Ft)switch(ot.charCodeAt(Ft)){case 47:if(yt===42&&ot.charCodeAt(Ft-1)===42&&vt+2!==Ft){vt=Ft+1;break e}break;case 10:if(yt===47){vt=Ft+1;break e}}vt=Ft}}break;case 91:yt++;case 40:yt++;case 34:case 39:for(;vt++<Gr&&ot.charCodeAt(vt)!==yt;);}if(bt===0)break;vt++}switch(bt=ot.substring(Wt,vt),Ct===0&&(Ct=(ir=ir.replace(E,"").trim()).charCodeAt(0)),Ct){case 64:switch(0<Yt&&(ir=ir.replace(T,"")),yt=ir.charCodeAt(1),yt){case 100:case 109:case 115:case 45:Yt=Ge;break;default:Yt=Ue;}if(bt=t(Ge,Yt,bt,yt,he+1),Wt=bt.length,0<Pe&&(Yt=r(Ue,ir,Or),wn=p(3,bt,Yt,Ge,qe,$e,Wt,yt,he,De),ir=Yt.join(""),wn!==void 0&&(Wt=(bt=wn.trim()).length)===0&&(yt=0,bt="")),0<Wt)switch(yt){case 115:ir=ir.replace(ue,u);case 100:case 109:case 45:bt=ir+"{"+bt+"}";break;case 107:ir=ir.replace(F,"$1 $2"),bt=ir+"{"+bt+"}",bt=dt===1||dt===2&&o("@"+bt,3)?"@-webkit-"+bt+"@"+bt:"@"+bt;break;default:bt=ir+bt,De===112&&(bt=(tn+=bt,""));}else bt="";break;default:bt=t(Ge,r(Ge,ir,Or),bt,De,he+1);}at+=bt,bt=Or=Yt=Ft=Ct=0,ir="",yt=ot.charCodeAt(++vt);break;case 125:case 59:if(ir=(0<Yt?ir.replace(T,""):ir).trim(),1<(Wt=ir.length))switch(Ft===0&&(Ct=ir.charCodeAt(0),Ct===45||96<Ct&&123>Ct)&&(Wt=(ir=ir.replace(" ",":")).length),0<Pe&&(wn=p(1,ir,Ge,Fe,qe,$e,tn.length,De,he,De))!==void 0&&(Wt=(ir=wn.trim()).length)===0&&(ir="\0\0"),Ct=ir.charCodeAt(0),yt=ir.charCodeAt(1),Ct){case 0:break;case 64:if(yt===105||yt===99){fi+=ir+ot.charAt(vt);break}default:ir.charCodeAt(Wt-1)!==58&&(tn+=i(ir,Ct,yt,ir.charCodeAt(2)));}Or=Yt=Ft=Ct=0,ir="",yt=ot.charCodeAt(++vt);}}switch(yt){case 13:case 10:Te===47?Te=0:1+Ct===0&&De!==107&&0<ir.length&&(Yt=1,ir+="\0"),0<Pe*lt&&p(0,ir,Ge,Fe,qe,$e,tn.length,De,he,De),$e=1,qe++;break;case 59:case 125:if(Te+Ye+Qe+ke===0){$e++;break}default:switch($e++,Yr=ot.charAt(vt),yt){case 9:case 32:if(Ye+ke+Te===0)switch(Nt){case 44:case 58:case 9:case 32:Yr="";break;default:yt!==32&&(Yr=" ");}break;case 0:Yr="\\0";break;case 12:Yr="\\f";break;case 11:Yr="\\v";break;case 38:Ye+Te+ke===0&&(Yt=Or=1,Yr="\f"+Yr);break;case 108:if(Ye+Te+ke+Je===0&&0<Ft)switch(vt-Ft){case 2:Nt===112&&ot.charCodeAt(vt-3)===58&&(Je=Nt);case 8:we===111&&(Je=we);}break;case 58:Ye+Te+ke===0&&(Ft=vt);break;case 44:Te+Qe+Ye+ke===0&&(Yt=1,Yr+="\r");break;case 34:case 39:Te===0&&(Ye=Ye===yt?0:Ye===0?yt:Ye);break;case 91:Ye+Te+Qe===0&&ke++;break;case 93:Ye+Te+Qe===0&&ke--;break;case 41:Ye+Te+ke===0&&Qe--;break;case 40:if(Ye+Te+ke===0){if(Ct===0)switch(2*Nt+3*we){case 533:break;default:Ct=1;}Qe++}break;case 64:Te+Qe+Ye+ke+Ft+bt===0&&(bt=1);break;case 42:case 47:if(!(0<Ye+ke+Qe))switch(Te){case 0:switch(2*yt+3*ot.charCodeAt(vt+1)){case 235:Te=47;break;case 220:Wt=vt,Te=42;}break;case 42:yt===47&&Nt===42&&Wt+2!==vt&&(ot.charCodeAt(Wt+2)===33&&(tn+=ot.substring(Wt,vt+1)),Yr="",Te=0);}}Te===0&&(ir+=Yr);}we=Nt,Nt=yt,vt++}if(Wt=tn.length,0<Wt){if(Yt=Ge,0<Pe&&(wn=p(2,tn,Yt,Fe,qe,$e,Wt,De,he,De),wn!==void 0&&(tn=wn).length===0))return fi+tn+at;if(tn=Yt.join(",")+"{"+tn+"}",dt*Je!==0){switch(dt!==2||o(tn,2)||(Je=0),Je){case 111:tn=tn.replace(ee,":-moz-$1")+tn;break;case 112:tn=tn.replace(G,"::-webkit-input-$1")+tn.replace(G,"::-moz-$1")+tn.replace(G,":-ms-input-$1")+tn;}Je=0}}return fi+tn+at}function r(Fe,Ge,ot){var De=Ge.trim().split(k);Ge=De;var he=De.length,ke=Fe.length;switch(ke){case 0:case 1:var Te=0;for(Fe=ke===0?"":Fe[0]+" ";Te<he;++Te)Ge[Te]=n(Fe,Ge[Te],ot).trim();break;default:var Qe=Te=0;for(Ge=[];Te<he;++Te)for(var Ye=0;Ye<ke;++Ye)Ge[Qe++]=n(Fe[Ye]+" ",De[Te],ot).trim();}return Ge}function n(Fe,Ge,ot){var De=Ge.charCodeAt(0);switch(33>De&&(De=(Ge=Ge.trim()).charCodeAt(0)),De){case 38:return Ge.replace(L,"$1"+Fe.trim());case 58:return Fe.trim()+Ge.replace(L,"$1"+Fe.trim());default:if(0<1*ot&&0<Ge.indexOf("\f"))return Ge.replace(L,(Fe.charCodeAt(0)===58?"":"$1")+Fe.trim());}return Fe+Ge}function i(Fe,Ge,ot,De){var he=Fe+";",ke=2*Ge+3*ot+4*De;if(ke===944){Fe=he.indexOf(":",9)+1;var Te=he.substring(Fe,he.length-1).trim();return Te=he.substring(0,Fe).trim()+Te+";",dt===1||dt===2&&o(Te,1)?"-webkit-"+Te+Te:Te}if(dt===0||dt===2&&!o(he,1))return he;switch(ke){case 1015:return he.charCodeAt(10)===97?"-webkit-"+he+he:he;case 951:return he.charCodeAt(3)===116?"-webkit-"+he+he:he;case 963:return he.charCodeAt(5)===110?"-webkit-"+he+he:he;case 1009:if(he.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+he+he;case 978:return"-webkit-"+he+"-moz-"+he+he;case 1019:case 983:return"-webkit-"+he+"-moz-"+he+"-ms-"+he+he;case 883:if(he.charCodeAt(8)===45)return"-webkit-"+he+he;if(0<he.indexOf("image-set(",11))return he.replace(We,"$1-webkit-$2")+he;break;case 932:if(he.charCodeAt(4)===45)switch(he.charCodeAt(5)){case 103:return"-webkit-box-"+he.replace("-grow","")+"-webkit-"+he+"-ms-"+he.replace("grow","positive")+he;case 115:return"-webkit-"+he+"-ms-"+he.replace("shrink","negative")+he;case 98:return"-webkit-"+he+"-ms-"+he.replace("basis","preferred-size")+he;}return"-webkit-"+he+"-ms-"+he+he;case 964:return"-webkit-"+he+"-ms-flex-"+he+he;case 1023:if(he.charCodeAt(8)!==99)break;return Te=he.substring(he.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+Te+"-webkit-"+he+"-ms-flex-pack"+Te+he;case 1005:return R.test(he)?he.replace(N,":-webkit-")+he.replace(N,":-moz-")+he:he;case 1e3:switch(Te=he.substring(13).trim(),Ge=Te.indexOf("-")+1,Te.charCodeAt(0)+Te.charCodeAt(Ge)){case 226:Te=he.replace(ae,"tb");break;case 232:Te=he.replace(ae,"tb-rl");break;case 220:Te=he.replace(ae,"lr");break;default:return he;}return"-webkit-"+he+"-ms-"+Te+he;case 1017:if(he.indexOf("sticky",9)===-1)break;case 975:switch(Ge=(he=Fe).length-10,Te=(he.charCodeAt(Ge)===33?he.substring(0,Ge):he).substring(Fe.indexOf(":",7)+1).trim(),ke=Te.charCodeAt(0)+(Te.charCodeAt(7)|0)){case 203:if(111>Te.charCodeAt(8))break;case 115:he=he.replace(Te,"-webkit-"+Te)+";"+he;break;case 207:case 102:he=he.replace(Te,"-webkit-"+(102<ke?"inline-":"")+"box")+";"+he.replace(Te,"-webkit-"+Te)+";"+he.replace(Te,"-ms-"+Te+"box")+";"+he;}return he+";";case 938:if(he.charCodeAt(5)===45)switch(he.charCodeAt(6)){case 105:return Te=he.replace("-items",""),"-webkit-"+he+"-webkit-box-"+Te+"-ms-flex-"+Te+he;case 115:return"-webkit-"+he+"-ms-flex-item-"+he.replace(Oe,"")+he;default:return"-webkit-"+he+"-ms-flex-line-pack"+he.replace("align-content","").replace(Oe,"")+he;}break;case 973:case 989:if(he.charCodeAt(3)!==45||he.charCodeAt(4)===122)break;case 931:case 953:if(ze.test(Fe)===!0)return(Te=Fe.substring(Fe.indexOf(":")+1)).charCodeAt(0)===115?i(Fe.replace("stretch","fill-available"),Ge,ot,De).replace(":fill-available",":stretch"):he.replace(Te,"-webkit-"+Te)+he.replace(Te,"-moz-"+Te.replace("fill-",""))+he;break;case 962:if(he="-webkit-"+he+(he.charCodeAt(5)===102?"-ms-"+he:"")+he,ot+De===211&&he.charCodeAt(13)===105&&0<he.indexOf("transform",10))return he.substring(0,he.indexOf(";",27)+1).replace(j,"$1-webkit-$2")+he;}return he}function o(Fe,Ge){var ot=Fe.indexOf(Ge===1?":":"{"),De=Fe.substring(0,Ge!==3?ot:10);return ot=Fe.substring(ot+1,Fe.length-1),et(Ge!==2?De:De.replace(_e,"$1"),ot,Ge)}function u(Fe,Ge){var ot=i(Ge,Ge.charCodeAt(0),Ge.charCodeAt(1),Ge.charCodeAt(2));return ot!==Ge+";"?ot.replace(ge," or ($1)").substring(4):"("+Ge+")"}function p(Fe,Ge,ot,De,he,ke,Te,Qe,Ye,Ct){for(var yt=0,Nt=Ge,we;yt<Pe;++yt)switch(we=Re[yt].call(_,Fe,Nt,ot,De,he,ke,Te,Qe,Ye,Ct)){case void 0:case!1:case!0:case null:break;default:Nt=we;}if(Nt!==Ge)return Nt}function h(Fe){switch(Fe){case void 0:case null:Pe=Re.length=0;break;default:if(typeof Fe=="function")Re[Pe++]=Fe;else if(typeof Fe=="object")for(var Ge=0,ot=Fe.length;Ge<ot;++Ge)h(Fe[Ge]);else lt=!!Fe|0;}return h}function y(Fe){return Fe=Fe.prefix,Fe!==void 0&&(et=null,Fe?typeof Fe!="function"?dt=1:(dt=2,et=Fe):dt=0),y}function _(Fe,Ge){var ot=Fe;if(33>ot.charCodeAt(0)&&(ot=ot.trim()),ut=ot,ot=[ut],0<Pe){var De=p(-1,Ge,ot,ot,qe,$e,0,0,0,0);De!==void 0&&typeof De=="string"&&(Ge=De)}var he=t(Ue,ot,Ge,0,0);return 0<Pe&&(De=p(-2,he,ot,ot,qe,$e,he.length,0,0,0),De!==void 0&&(he=De)),ut="",Je=0,$e=qe=1,he}var E=/^\0+/g,T=/[\0\r\f]/g,N=/: */g,R=/zoo|gra/,j=/([,: ])(transform)/g,k=/,\r+?/g,L=/([\t\r\n ])*\f?&/g,F=/@(k\w+)\s*(\S*)\s*/,G=/::(place)/g,ee=/:(read-only)/g,ae=/[svh]\w+-[tblr]{2}/,ue=/\(\s*(.*)\s*\)/g,ge=/([\s\S]*?);/g,Oe=/-self|flex-/g,_e=/[^]*?(:[rp][el]a[\w-]+)[^]*/,ze=/stretch|:\s*\w+\-(?:conte|avail)/,We=/([^-])(image-set\()/,$e=1,qe=1,Je=0,dt=1,Ue=[],Re=[],Pe=0,et=null,lt=0,ut="";return _.use=h,_.set=y,e!==void 0&&y(e),_}nG.default=uor});var _Re=I(iG=>{"use strict";Object.defineProperty(iG,"__esModule",{value:!0});var cor=function(t){var r=new WeakMap;return function(n){if(r.has(n))return r.get(n);var i=t(n);return r.set(n,i),i}};iG.default=cor});var sG=I(aG=>{"use strict";Object.defineProperty(aG,"__esModule",{value:!0});function dor(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var por=rG(),hor=dor(yRe());_Re();var oG="/*|*/",mor=oG+"}";function gor(e){e&&xO.current.insert(e+"}")}var xO={current:null},vor=function(t,r,n,i,o,u,p,h,y,_){switch(t){case 1:{switch(r.charCodeAt(0)){case 64:return xO.current.insert(r+";"),"";case 108:if(r.charCodeAt(2)===98)return"";}break}case 2:{if(h===0)return r+oG;break}case 3:switch(h){case 102:case 112:return xO.current.insert(n[0]+r),"";default:return r+(_===0?oG:"");}case-2:r.split(mor).forEach(gor);}},yor=function(t){t===void 0&&(t={});var r=t.key||"css",n;t.prefix!==void 0&&(n={prefix:t.prefix});var i=new hor(n),o={},u;{u=t.container||document.head;var p=document.querySelectorAll("style[data-emotion-"+r+"]");Array.prototype.forEach.call(p,function(T){var N=T.getAttribute("data-emotion-"+r);N.split(" ").forEach(function(R){o[R]=!0}),T.parentNode!==u&&u.appendChild(T)})}var h;if(i.use(t.stylisPlugins)(vor),h=function(N,R,j,k){var L=R.name;if(xO.current=j,0)var F;i(N,R.styles),k&&(E.inserted[L]=!0)},0)var y,_;var E={key:r,sheet:new por.StyleSheet({key:r,container:u,nonce:t.nonce,speedy:t.speedy}),nonce:t.nonce,inserted:o,registered:{},insert:h};return E};aG.default=yor});var lG=I(wO=>{"use strict";Object.defineProperty(wO,"__esModule",{value:!0});var _or=!0;function bor(e,t,r){var n="";return r.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]):n+=i+" "}),n}var xor=function(t,r,n){var i=t.key+"-"+r.name;if((n===!1||_or===!1&&t.compat!==void 0)&&t.registered[i]===void 0&&(t.registered[i]=r.styles),t.inserted[r.name]===void 0){var o=r;do{var u=t.insert("."+i,o,t.sheet,!0);o=o.next}while(o!==void 0)}};wO.getRegisteredStyles=bor;wO.insertStyles=xor});var bRe=I(uG=>{"use strict";Object.defineProperty(uG,"__esModule",{value:!0});function wor(e){for(var t=0,r,n=0,i=e.length;i>=4;++n,i-=4)r=e.charCodeAt(n)&255|(e.charCodeAt(++n)&255)<<8|(e.charCodeAt(++n)&255)<<16|(e.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,t=(r&65535)*1540483477+((r>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(n+2)&255)<<16;case 2:t^=(e.charCodeAt(n+1)&255)<<8;case 1:t^=e.charCodeAt(n)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16);}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}uG.default=wor});var xRe=I(cG=>{"use strict";Object.defineProperty(cG,"__esModule",{value:!0});var Sor={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};cG.default=Sor});var wRe=I(dG=>{"use strict";Object.defineProperty(dG,"__esModule",{value:!0});function Ior(e){var t={};return function(r){return t[r]===void 0&&(t[r]=e(r)),t[r]}}dG.default=Ior});var SO=I(hG=>{"use strict";Object.defineProperty(hG,"__esModule",{value:!0});function fG(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var Eor=fG(bRe()),Tor=fG(xRe()),Mor=fG(wRe()),Cor=/[A-Z]|^ms/g,Aor=/_EMO_([^_]+?)_([^]*?)_EMO_/g,TRe=function(t){return t.charCodeAt(1)===45},SRe=function(t){return t!=null&&typeof t!="boolean"},pG=Mor(function(e){return TRe(e)?e:e.replace(Cor,"-$&").toLowerCase()}),IRe=function(t,r){switch(t){case"animation":case"animationName":if(typeof r=="string")return r.replace(Aor,function(n,i,o){return Pc={name:i,styles:o,next:Pc},i});}return Tor[t]!==1&&!TRe(t)&&typeof r=="number"&&r!==0?r+"px":r};function mS(e,t,r,n){if(r==null)return"";if(r.__emotion_styles!==void 0)return r;switch(typeof r){case"boolean":return"";case"object":{if(r.anim===1)return Pc={name:r.name,styles:r.styles,next:Pc},r.name;if(r.styles!==void 0){var i=r.next;if(i!==void 0)for(;i!==void 0;)Pc={name:i.name,styles:i.styles,next:Pc},i=i.next;var o=r.styles+";";return o}return Por(e,t,r)}case"function":{if(e!==void 0){var u=Pc,p=r(e);return Pc=u,mS(e,t,p,n)}break}case"string":if(0)var h,y;break;}if(t==null)return r;var _=t[r];return _!==void 0&&!n?_:r}function Por(e,t,r){var n="";if(Array.isArray(r))for(var i=0;i<r.length;i++)n+=mS(e,t,r[i],!1);else for(var o in r){var u=r[o];if(typeof u!="object")t!=null&&t[u]!==void 0?n+=o+"{"+t[u]+"}":SRe(u)&&(n+=pG(o)+":"+IRe(o,u)+";");else if(Array.isArray(u)&&typeof u[0]=="string"&&(t==null||t[u[0]]===void 0))for(var p=0;p<u.length;p++)SRe(u[p])&&(n+=pG(o)+":"+IRe(o,u[p])+";");else{var h=mS(e,t,u,!1);switch(o){case"animation":case"animationName":{n+=pG(o)+":"+h+";";break}default:n+=o+"{"+h+"}";}}}return n}var ERe=/label:\s*([^\s;\n{]+)\s*;/g,Pc,Oor=function(t,r,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var i=!0,o="";Pc=void 0;var u=t[0];u==null||u.raw===void 0?(i=!1,o+=mS(n,r,u,!1)):o+=u[0];for(var p=1;p<t.length;p++)o+=mS(n,r,t[p],o.charCodeAt(o.length-1)===46),i&&(o+=u[p]);var h;ERe.lastIndex=0;for(var y="",_;(_=ERe.exec(o))!==null;)y+="-"+_[1];var E=Eor(o)+y;return{name:E,styles:o,next:Pc}};hG.serializeStyles=Oor});var DRe=I(ug=>{"use strict";eG();var Kd=Be(),Dor=sG(),MRe=lG(),Nor=SO();function kor(e){return e&&e.__esModule?e:{default:e}}var Lor=kor(Dor),gG=Object.prototype.hasOwnProperty,ARe=Kd.createContext(typeof HTMLElement!="undefined"?Lor.default():null),PRe=Kd.createContext({}),qor=ARe.Provider,ORe=function(t){var r=function(i,o){return Kd.createElement(ARe.Consumer,null,function(u){return t(i,u,o)})};return Kd.forwardRef(r)},mG="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Ror=function(t,r){var n={};for(var i in r)gG.call(r,i)&&(n[i]=r[i]);if(n[mG]=t,0){var o;if(o.stack)var u}return n},zor=function(){return null},CRe=function(t,r,n,i){var o=n===null?r.css:r.css(n);typeof o=="string"&&t.registered[o]!==void 0&&(o=t.registered[o]);var u=r[mG],p=[o],h="";typeof r.className=="string"?h=MRe.getRegisteredStyles(t.registered,p,r.className):r.className!=null&&(h=r.className+" ");var y=Nor.serializeStyles(p);if(0)var _;var E=MRe.insertStyles(t,y,typeof u=="string");h+=t.key+"-"+y.name;var T={};for(var N in r)gG.call(r,N)&&N!=="css"&&N!==mG&&(T[N]=r[N]);T.ref=i,T.className=h;var R=Kd.createElement(u,T),j=Kd.createElement(zor,null);return Kd.createElement(Kd.Fragment,null,j,R)},jor=ORe(function(e,t,r){return typeof e.css=="function"?Kd.createElement(PRe.Consumer,null,function(n){return CRe(t,e,n,r)}):CRe(t,e,null,r)});ug.CacheProvider=qor;ug.Emotion=jor;ug.ThemeContext=PRe;ug.createEmotionProps=Ror;ug.hasOwnProperty=gG;ug.withEmotionCache=ORe});var NRe=I(vG=>{"use strict";Object.defineProperty(vG,"__esModule",{value:!0});var For=SO();function Bor(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return For.serializeStyles(t)}vG.default=Bor});var zRe=I(Nu=>{"use strict";Object.defineProperty(Nu,"__esModule",{value:!0});var Uor=eG(),Oc=Be();sG();var Dc=DRe(),_G=lG(),yG=SO(),Vor=rG(),$or=NRe();function LRe(e){return e&&e.__esModule?e:{default:e}}var Hor=LRe(Uor),qRe=LRe($or),RRe=function(t,r){var n=arguments;if(r==null||!Dc.hasOwnProperty.call(r,"css"))return Oc.createElement.apply(void 0,n);var i=n.length,o=new Array(i);o[0]=Dc.Emotion,o[1]=Dc.createEmotionProps(t,r);for(var u=2;u<i;u++)o[u]=n[u];return Oc.createElement.apply(null,o)},Wor=Dc.withEmotionCache(function(e,t){var r=e.styles;if(typeof r=="function")return Oc.createElement(Dc.ThemeContext.Consumer,null,function(i){var o=yG.serializeStyles([r(i)]);return Oc.createElement(kRe,{serialized:o,cache:t})});var n=yG.serializeStyles([r]);return Oc.createElement(kRe,{serialized:n,cache:t})}),kRe=function(e){Hor.default(t,e);function t(n,i,o){return e.call(this,n,i,o)||this}var r=t.prototype;return r.componentDidMount=function(){this.sheet=new Vor.StyleSheet({key:this.props.cache.key+"-global",nonce:this.props.cache.sheet.nonce,container:this.props.cache.sheet.container});var i=document.querySelector("style[data-emotion-"+this.props.cache.key+"=\""+this.props.serialized.name+"\"]");i!==null&&this.sheet.tags.push(i),this.props.cache.sheet.tags.length&&(this.sheet.before=this.props.cache.sheet.tags[0]),this.insertStyles()},r.componentDidUpdate=function(i){i.serialized.name!==this.props.serialized.name&&this.insertStyles()},r.insertStyles=function(){if(this.props.serialized.next!==void 0&&_G.insertStyles(this.props.cache,this.props.serialized.next,!0),this.sheet.tags.length){var i=this.sheet.tags[this.sheet.tags.length-1].nextElementSibling;this.sheet.before=i,this.sheet.flush()}this.props.cache.insert("",this.props.serialized,this.sheet,!1)},r.componentWillUnmount=function(){this.sheet.flush()},r.render=function(){return null},t}(Oc.Component),Gor=function(){var t=qRe.default.apply(void 0,arguments),r="animation-"+t.name;return{name:r,styles:"@keyframes "+r+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},Yor=function e(t){for(var r=t.length,n=0,i="";n<r;n++){var o=t[n];if(o!=null){var u=void 0;switch(typeof o){case"boolean":break;case"object":{if(Array.isArray(o))u=e(o);else{u="";for(var p in o)o[p]&&p&&(u&&(u+=" "),u+=p)}break}default:u=o;}u&&(i&&(i+=" "),i+=u)}}return i};function Zor(e,t,r){var n=[],i=_G.getRegisteredStyles(e,n,r);return n.length<2?r:i+t(n)}var Kor=function(){return null},Xor=Dc.withEmotionCache(function(e,t){return Oc.createElement(Dc.ThemeContext.Consumer,null,function(r){var n=!1,i=function(){for(var _=arguments.length,E=new Array(_),T=0;T<_;T++)E[T]=arguments[T];var N=yG.serializeStyles(E,t.registered);return _G.insertStyles(t,N,!1),t.key+"-"+N.name},o=function(){for(var _=arguments.length,E=new Array(_),T=0;T<_;T++)E[T]=arguments[T];return Zor(t.registered,i,Yor(E))},u={css:i,cx:o,theme:r},p=e.children(u);n=!0;var h=Oc.createElement(Kor,null);return Oc.createElement(Oc.Fragment,null,h,p)})});Nu.CacheProvider=Dc.CacheProvider;Nu.ThemeContext=Dc.ThemeContext;Nu.withEmotionCache=Dc.withEmotionCache;Object.defineProperty(Nu,"css",{enumerable:!0,get:function(){return qRe.default}});Nu.ClassNames=Xor;Nu.Global=Wor;Nu.createElement=RRe;Nu.jsx=RRe;Nu.keyframes=Gor});var bG=I(ku=>{"use strict";Object.defineProperty(ku,"__esModule",{value:!0});ku.default=$Re;ku.skeletonStyles=ku.skeletonKeyframes=ku.defaultHighlightColor=ku.defaultBaseColor=void 0;var DWr=Qor(Be()),r1=zRe();function Qor(e){return e&&e.__esModule?e:{default:e}}function jRe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Jor(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jRe(r,!0).forEach(function(n){ear(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jRe(r).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ear(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FRe(){var e=tar([`
  0% {
    background-position: -200px 0;
  }
  `,`
  100% {
    background-position: calc(200px + 100%) 0;
  }
`]);return FRe=function(){return e},e}function tar(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var IO="#eee";ku.defaultBaseColor=IO;var BRe="#f5f5f5";ku.defaultHighlightColor=BRe;var URe=function(t,r){return(0,r1.keyframes)(FRe(),r>0?"".concat(Math.floor(1/(t+r)*t*100),`% {
    background-position: calc(200px + 100%) 0;
  }`):void 0)};ku.skeletonKeyframes=URe;var VRe=(0,r1.css)("background-color:",IO,";background-image:linear-gradient( 90deg,",IO,",",BRe,",",IO," );background-size:200px 100%;background-repeat:no-repeat;border-radius:4px;display:inline-block;line-height:1;width:100%;;label:skeletonStyles;");ku.skeletonStyles=VRe;function $Re(e){for(var t=e.count,r=e.duration,n=e.width,i=e.wrapper,o=e.height,u=e.circle,p=e.delay,h=e.style,y=e.className,_=[],E=0;E<t;E++){var T={};n!==null&&(T.width=n),o!==null&&(T.height=o),n!==null&&o!==null&&u&&(T.borderRadius="50%");var N="react-loading-skeleton";y&&(N+=" "+y),_.push((0,r1.jsx)("span",{key:E,className:N,css:(0,r1.css)(VRe," animation:",URe(r,p)," ",r+p,"s ease-in-out infinite;label:Skeleton;"),style:Jor({},h,{},T)},"\u200C"))}return(0,r1.jsx)("span",null,i?_.map(function(R,j){return(0,r1.jsx)(i,{key:j},R,"\u200C")}):_)}$Re.defaultProps={count:1,duration:1.2,width:null,wrapper:null,height:null,circle:!1,delay:0}});var B8e=I(Gn=>{"use strict";var YG=Symbol.for("react.element"),ZG=Symbol.for("react.portal"),FO=Symbol.for("react.fragment"),BO=Symbol.for("react.strict_mode"),UO=Symbol.for("react.profiler"),VO=Symbol.for("react.provider"),$O=Symbol.for("react.context"),Iar=Symbol.for("react.server_context"),HO=Symbol.for("react.forward_ref"),WO=Symbol.for("react.suspense"),GO=Symbol.for("react.suspense_list"),YO=Symbol.for("react.memo"),ZO=Symbol.for("react.lazy"),Ear=Symbol.for("react.offscreen"),F8e;F8e=Symbol.for("react.module.reference");function eu(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case YG:switch(e=e.type,e){case FO:case UO:case BO:case WO:case GO:return e;default:switch(e=e&&e.$$typeof,e){case Iar:case $O:case HO:case ZO:case YO:case VO:return e;default:return t;}}case ZG:return t;}}}Gn.ContextConsumer=$O;Gn.ContextProvider=VO;Gn.Element=YG;Gn.ForwardRef=HO;Gn.Fragment=FO;Gn.Lazy=ZO;Gn.Memo=YO;Gn.Portal=ZG;Gn.Profiler=UO;Gn.StrictMode=BO;Gn.Suspense=WO;Gn.SuspenseList=GO;Gn.isAsyncMode=function(){return!1};Gn.isConcurrentMode=function(){return!1};Gn.isContextConsumer=function(e){return eu(e)===$O};Gn.isContextProvider=function(e){return eu(e)===VO};Gn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===YG};Gn.isForwardRef=function(e){return eu(e)===HO};Gn.isFragment=function(e){return eu(e)===FO};Gn.isLazy=function(e){return eu(e)===ZO};Gn.isMemo=function(e){return eu(e)===YO};Gn.isPortal=function(e){return eu(e)===ZG};Gn.isProfiler=function(e){return eu(e)===UO};Gn.isStrictMode=function(e){return eu(e)===BO};Gn.isSuspense=function(e){return eu(e)===WO};Gn.isSuspenseList=function(e){return eu(e)===GO};Gn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===FO||e===UO||e===BO||e===WO||e===GO||e===Ear||typeof e=="object"&&e!==null&&(e.$$typeof===ZO||e.$$typeof===YO||e.$$typeof===VO||e.$$typeof===$O||e.$$typeof===HO||e.$$typeof===F8e||e.getModuleId!==void 0)};Gn.typeOf=eu});var V8e=I((IKr,U8e)=>{"use strict";U8e.exports=B8e()});var $7e=I(si=>{"use strict";var DD=60103,ND=60106,RS=60107,zS=60108,jS=60114,FS=60109,BS=60110,US=60112,VS=60113,LY=60120,$S=60115,HS=60116,j7e=60121,F7e=60122,B7e=60117,U7e=60129,V7e=60131;typeof Symbol=="function"&&Symbol.for&&(No=Symbol.for,DD=No("react.element"),ND=No("react.portal"),RS=No("react.fragment"),zS=No("react.strict_mode"),jS=No("react.profiler"),FS=No("react.provider"),BS=No("react.context"),US=No("react.forward_ref"),VS=No("react.suspense"),LY=No("react.suspense_list"),$S=No("react.memo"),HS=No("react.lazy"),j7e=No("react.block"),F7e=No("react.server.block"),B7e=No("react.fundamental"),U7e=No("react.debug_trace_mode"),V7e=No("react.legacy_hidden"));var No;function Ru(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case DD:switch(e=e.type,e){case RS:case jS:case zS:case VS:case LY:return e;default:switch(e=e&&e.$$typeof,e){case BS:case US:case HS:case $S:case FS:return e;default:return t;}}case ND:return t;}}}var Gsr=FS,Ysr=DD,Zsr=US,Ksr=RS,Xsr=HS,Qsr=$S,Jsr=ND,elr=jS,tlr=zS,rlr=VS;si.ContextConsumer=BS;si.ContextProvider=Gsr;si.Element=Ysr;si.ForwardRef=Zsr;si.Fragment=Ksr;si.Lazy=Xsr;si.Memo=Qsr;si.Portal=Jsr;si.Profiler=elr;si.StrictMode=tlr;si.Suspense=rlr;si.isAsyncMode=function(){return!1};si.isConcurrentMode=function(){return!1};si.isContextConsumer=function(e){return Ru(e)===BS};si.isContextProvider=function(e){return Ru(e)===FS};si.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===DD};si.isForwardRef=function(e){return Ru(e)===US};si.isFragment=function(e){return Ru(e)===RS};si.isLazy=function(e){return Ru(e)===HS};si.isMemo=function(e){return Ru(e)===$S};si.isPortal=function(e){return Ru(e)===ND};si.isProfiler=function(e){return Ru(e)===jS};si.isStrictMode=function(e){return Ru(e)===zS};si.isSuspense=function(e){return Ru(e)===VS};si.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===RS||e===jS||e===U7e||e===zS||e===VS||e===LY||e===V7e||typeof e=="object"&&e!==null&&(e.$$typeof===HS||e.$$typeof===$S||e.$$typeof===FS||e.$$typeof===BS||e.$$typeof===US||e.$$typeof===B7e||e.$$typeof===j7e||e[0]===F7e)};si.typeOf=Ru});var W7e=I((Htn,H7e)=>{"use strict";H7e.exports=$7e()});var Sje=I((uon,wje)=>{"use strict";wje.exports=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,i,o;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(i=n;i--!==0;)if(!e(t[i],r[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(o=Object.keys(t),n=o.length,n!==Object.keys(r).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(r,o[i]))return!1;for(i=n;i--!==0;){var u=o[i];if(!e(t[u],r[u]))return!1}return!0}return t!==t&&r!==r}});var Ylr={};qBe(Ylr,{SettingsProvider:()=>Wlr,renderMosaicMapApp:()=>Glr});var qje=re(Be(),1),Rje=re(Ri(),1),Oan=re(zCe(),1);var ns=re(Be(),1);var wa=re(Be()),r5e=re(Ri());function NFt(e){return!!e&&typeof e.then=="function"}var Vi=NFt;function kFt(e,t){if(e!=null)return e;throw new Error(t!=null?t:"Got unexpected null or undefined")}var jn=kFt,J5=class{},LFt=new J5,RU={valueMaybe(){},valueOrThrow(){throw new Error(`Loadable expected value, but in "${this.state}" state`)},errorMaybe(){},errorOrThrow(){throw new Error(`Loadable expected error, but in "${this.state}" state`)},promiseMaybe(){},promiseOrThrow(){throw new Error(`Loadable expected promise, but in "${this.state}" state`)},is(e){return e.state===this.state&&e.contents===this.contents},map(e){if(this.state==="hasError")return this;if(this.state==="hasValue")try{let r=e(this.contents);return Vi(r)?n0(r.then(n=>({__value:n}))):zU(r)}catch(r){return Vi(r)?n0(r.next(()=>e(this.contents))):jU(r)}if(this.state==="loading")return n0(this.contents.then(r=>({__value:e(r.__value)})).catch(r=>{if(Vi(r))return r.then(()=>e(this.contents));throw r}));throw new Error("Invalid Loadable state")}};function zU(e){return Object.freeze(xr(Ze({state:"hasValue",contents:e},RU),{getValue(){return this.contents},toPromise(){return Promise.resolve(this.contents)},valueMaybe(){return this.contents},valueOrThrow(){return this.contents}}))}function jU(e){return Object.freeze(xr(Ze({state:"hasError",contents:e},RU),{getValue(){throw this.contents},toPromise(){return Promise.reject(this.contents)},errorMaybe(){return this.contents},errorOrThrow(){return this.contents}}))}function n0(e){return Object.freeze(xr(Ze({state:"loading",contents:e},RU),{getValue(){throw this.contents.then(({__value:t})=>t)},toPromise(){return this.contents.then(({__value:t})=>t)},promiseMaybe(){return this.contents.then(({__value:t})=>t)},promiseOrThrow(){return this.contents.then(({__value:t})=>t)}}))}function qFt(){return n0(new Promise(()=>{}))}function RFt(e){return e.every(t=>t.state==="hasValue")?zU(e.map(t=>t.contents)):e.some(t=>t.state==="hasError")?jU(jn(e.find(t=>t.state==="hasError"),"Invalid loadable passed to loadableAll").contents):n0(Promise.all(e.map(t=>t.contents)).then(t=>({__value:t})))}var Zw={loadableWithValue:zU,loadableWithError:jU,loadableWithPromise:n0,loadableLoading:qFt,loadableAll:RFt,Canceled:J5,CANCELED:LFt},vU,n5e=(vU=wa.default.useMutableSource)!==null&&vU!==void 0?vU:wa.default.unstable_useMutableSource;function zFt(){return n5e&&!(typeof window!="undefined"&&window.$disableRecoilValueMutableSource_TEMP_HACK_DO_NOT_USE)}var i5e={mutableSourceExists:zFt,useMutableSource:n5e},{mutableSourceExists:jFt}=i5e,FU=new Map().set("recoil_hamt_2020",!0).set("recoil_memory_managament_2020",!0).set("recoil_suppress_rerender_in_callback",!0);function BU(e){var t;return e==="recoil_early_rendering_2021"&&!jFt()?!1:(t=FU.get(e))!==null&&t!==void 0?t:!1}BU.setPass=e=>{FU.set(e,!0)};BU.setFail=e=>{FU.set(e,!1)};var ri=BU;function FFt(e,t,{error:r}={}){return null}var BFt=FFt,gc=BFt;function UFt(e,t){let r=new Set(e);return r.add(t),r}function VFt(e,t){let r=new Set(e);return r.delete(t),r}function $Ft(e,t,r){let n=new Map(e);return n.set(t,r),n}function HFt(e,t,r){let n=new Map(e);return n.set(t,r(n.get(t))),n}function WFt(e,t){let r=new Map(e);return r.delete(t),r}function GFt(e,t){let r=new Map(e);return t.forEach(n=>r.delete(n)),r}var o5e={setByAddingToSet:UFt,setByDeletingFromSet:VFt,mapBySettingInMap:$Ft,mapByUpdatingInMap:HFt,mapByDeletingFromMap:WFt,mapByDeletingMultipleFromMap:GFt};function*YFt(e,t){let r=0;for(let n of e)t(n,r++)&&(yield n)}var a5e=YFt;function ZFt(e,t){return function*(){let r=0;for(let n of e)yield t(n,r++)}()}var s5e=ZFt;function KFt(e,...t){}var XFt=KFt,UU=XFt;function yn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ww=class{constructor(t){yn(this,"key",void 0),this.key=t}},eA=class extends Ww{},tA=class extends Ww{};function QFt(e){return e instanceof eA||e instanceof tA}var pA={AbstractRecoilValue:Ww,RecoilState:eA,RecoilValueReadOnly:tA,isRecoilValue:QFt},JFt=pA.AbstractRecoilValue,eBt=pA.RecoilState,tBt=pA.RecoilValueReadOnly,rBt=pA.isRecoilValue,$f=Object.freeze({__proto__:null,AbstractRecoilValue:JFt,RecoilState:eBt,RecoilValueReadOnly:tBt,isRecoilValue:rBt}),rA=class{},nBt=new rA,xU=class extends Error{constructor(t){super(`Tried to set the value of Recoil selector ${t} using an updater function, but it is an async selector in a pending or error state; this is not supported.`)}},jm=new Map,VU=new Map;function iBt(e){return s5e(e,t=>jn(VU.get(t)))}function oBt(e){if(jm.has(e.key)){let r=`Duplicate atom key "${e.key}". This is a FATAL ERROR in
      production. But it is safe to ignore this warning if it occurred because of
      hot module replacement.`;console.warn(r)}jm.set(e.key,e);let t=e.set==null?new $f.RecoilValueReadOnly(e.key):new $f.RecoilState(e.key);return VU.set(e.key,t),t}var nA=class extends Error{};function aBt(e){let t=jm.get(e);if(t==null)throw new nA(`Missing definition for RecoilValue: "${e}""`);return t}function sBt(e){return jm.get(e)}var iA=new Map;function lBt(e){var t;if(!ri("recoil_memory_managament_2020"))return;let r=jm.get(e);if(!(r==null||(t=r.shouldDeleteConfigOnRelease)===null||t===void 0)&&t.call(r)){var n;jm.delete(e),(n=l5e(e))===null||n===void 0||n(),iA.delete(e)}}function uBt(e,t){ri("recoil_memory_managament_2020")&&(t===void 0?iA.delete(e):iA.set(e,t))}function l5e(e){return iA.get(e)}var $l={nodes:jm,recoilValues:VU,registerNode:oBt,getNode:aBt,getNodeMaybe:sBt,deleteNodeConfigIfPossible:lBt,setConfigDeletionHandler:uBt,getConfigDeletionHandler:l5e,recoilValuesForKeys:iBt,NodeMissingError:nA,DefaultValue:rA,DEFAULT_VALUE:nBt,RecoilValueNotReady:xU},oA=class{};function cBt(){return new oA}var fA={RetentionZone:oA,retentionZone:cBt},{setByAddingToSet:dBt}=o5e,{getNode:hA,getNodeMaybe:pBt,recoilValuesForKeys:jCe}=$l,{RetentionZone:FCe}=fA,fBt=Object.freeze(new Set),wU=class extends Error{};function hBt(e,t,r){if(!ri("recoil_memory_managament_2020"))return()=>{};let{nodesRetainedByZone:n}=e.getState().retention;function i(o){let u=n.get(o);u||n.set(o,u=new Set),u.add(t)}if(r instanceof FCe)i(r);else if(Array.isArray(r))for(let o of r)i(o);return()=>{if(!ri("recoil_memory_managament_2020"))return;let o=e.getState().retention.nodesRetainedByZone;function u(p){let h=o.get(p);h&&h.delete(t),h&&h.size===0&&o.delete(p)}if(r instanceof FCe)u(r);else if(Array.isArray(r))for(let p of r)u(p)}}function $U(e,t,r,n){let i=e.getState();if(i.nodeCleanupFunctions.has(r))return;let o=hA(r),u=hBt(e,r,o.retainedBy),p=o.init(e,t,n);i.nodeCleanupFunctions.set(r,()=>{p(),u()})}function mBt(e,t){var r;let n=e.getState();(r=n.nodeCleanupFunctions.get(t))===null||r===void 0||r(),n.nodeCleanupFunctions.delete(t)}function gBt(e,t,r){return $U(e,t,r,"get"),hA(r).get(e,t)}function u5e(e,t,r){return hA(r).peek(e,t)}function vBt(e,t,r){var n;let i=pBt(t);return i==null||(n=i.invalidate)===null||n===void 0||n.call(i,e),xr(Ze({},e),{atomValues:e.atomValues.clone().delete(t),nonvalidatedAtoms:e.nonvalidatedAtoms.clone().set(t,r),dirtyAtoms:dBt(e.dirtyAtoms,t)})}function yBt(e,t,r,n){let i=hA(r);if(i.set==null)throw new wU(`Attempt to set read-only RecoilValue: ${r}`);let o=i.set;return $U(e,t,r,"set"),o(e,t,n)}function _Bt(e,t,r){var n,i,o;let u=e.getState(),p=e.getGraph(t.version),h=u.knownAtoms.has(r)?"atom":u.knownSelectors.has(r)?"selector":void 0,y=a5e(c5e(e,t,new Set([r])),_=>_!==r);return{loadable:u5e(e,t,r),isActive:u.knownAtoms.has(r)||u.knownSelectors.has(r),isSet:h==="selector"?!1:t.atomValues.has(r),isModified:t.dirtyAtoms.has(r),type:h,deps:jCe((n=p.nodeDeps.get(r))!==null&&n!==void 0?n:[]),subscribers:{nodes:jCe(y),components:s5e((i=(o=u.nodeToComponentSubscriptions.get(r))===null||o===void 0?void 0:o.values())!==null&&i!==void 0?i:[],([_])=>({name:_}))}}}function c5e(e,t,r){let n=new Set,i=Array.from(r),o=e.getGraph(t.version);for(let p=i.pop();p;p=i.pop()){var u;n.add(p);let h=(u=o.nodeToNodeSubscriptions.get(p))!==null&&u!==void 0?u:fBt;for(let y of h)n.has(y)||i.push(y)}return n}var s0={getNodeLoadable:gBt,peekNodeLoadable:u5e,setNodeValue:yBt,cleanUpNode:mBt,setUnvalidatedAtomValue_DEPRECATED:vBt,peekNodeInfo:_Bt,getDownstreamNodes:c5e,initializeNodeIfNewToStore:$U},{CANCELED:bBt}=Zw,{getDownstreamNodes:xBt,getNodeLoadable:d5e,setNodeValue:wBt}=s0,{getNodeMaybe:p5e}=$l,{DefaultValue:HU,RecoilValueNotReady:SBt}=$l,{AbstractRecoilValue:IBt,RecoilState:EBt,RecoilValueReadOnly:TBt,isRecoilValue:MBt}=$f;function CBt(e,{key:t},r=e.getState().currentTree){var n,i;let o=e.getState();r.version===o.currentTree.version||r.version===((n=o.nextTree)===null||n===void 0?void 0:n.version)||r.version===((i=o.previousTree)===null||i===void 0?void 0:i.version)||gc("Tried to read from a discarded tree");let u=d5e(e,r,t);return u.state==="loading"&&u.contents.catch(()=>bBt),u}function ABt(e,t){let r=e.clone();return t.forEach((n,i)=>{n.state==="hasValue"&&n.contents instanceof HU?r.delete(i):r.set(i,n)}),r}function PBt(e,t,{key:r},n){if(typeof n=="function"){let i=d5e(e,t,r);if(i.state==="loading")throw new SBt(r);if(i.state==="hasError")throw i.contents;return n(i.contents)}else return n}function OBt(e,t,r){if(r.type==="set"){let{recoilValue:i,valueOrUpdater:o}=r,u=PBt(e,t,i,o),p=wBt(e,t,i.key,u);for(let[h,y]of p.entries())SU(t,h,y)}else if(r.type==="setLoadable"){let{recoilValue:{key:i},loadable:o}=r;SU(t,i,o)}else if(r.type==="markModified"){let{recoilValue:{key:i}}=r;t.dirtyAtoms.add(i)}else if(r.type==="setUnvalidated"){var n;let{recoilValue:{key:i},unvalidatedValue:o}=r,u=p5e(i);u==null||(n=u.invalidate)===null||n===void 0||n.call(u,t),t.atomValues.delete(i),t.nonvalidatedAtoms.set(i,o),t.dirtyAtoms.add(i)}else gc(`Unknown action ${r.type}`)}function SU(e,t,r){r.state==="hasValue"&&r.contents instanceof HU?e.atomValues.delete(t):e.atomValues.set(t,r),e.dirtyAtoms.add(t),e.nonvalidatedAtoms.delete(t)}function f5e(e,t){e.replaceState(r=>{let n=h5e(r);for(let i of t)OBt(e,n,i);return IU(e,n),n})}function mA(e,t){if($w.length){let r=$w[$w.length-1],n=r.get(e);n||r.set(e,n=[]),n.push(t)}else f5e(e,[t])}var $w=[];function DBt(){let e=new Map;return $w.push(e),()=>{for(let[r,n]of e)f5e(r,n);$w.pop()!==e&&gc("Incorrect order of batch popping")}}function h5e(e){return xr(Ze({},e),{atomValues:e.atomValues.clone(),nonvalidatedAtoms:e.nonvalidatedAtoms.clone(),dirtyAtoms:new Set(e.dirtyAtoms)})}function IU(e,t){let r=xBt(e,t,t.dirtyAtoms);for(let o of r){var n,i;(n=p5e(o))===null||n===void 0||(i=n.invalidate)===null||i===void 0||i.call(n,t)}}function m5e(e,t,r){mA(e,{type:"set",recoilValue:t,valueOrUpdater:r})}function NBt(e,t,r){if(r instanceof HU)return m5e(e,t,r);mA(e,{type:"setLoadable",recoilValue:t,loadable:r})}function kBt(e,t){mA(e,{type:"markModified",recoilValue:t})}function LBt(e,t,r){mA(e,{type:"setUnvalidated",recoilValue:t,unvalidatedValue:r})}var qBt=0;function RBt(e,{key:t},r,n=null){let i=qBt++,o=e.getState();if(o.nodeToComponentSubscriptions.has(t)||o.nodeToComponentSubscriptions.set(t,new Map),jn(o.nodeToComponentSubscriptions.get(t)).set(i,[n!=null?n:"<not captured>",r]),ri("recoil_early_rendering_2021")){let u=e.getState().nextTree;u&&u.dirtyAtoms.has(t)&&r(u)}return{release:()=>{let u=e.getState(),p=u.nodeToComponentSubscriptions.get(t);if(p===void 0||!p.has(i)){gc(`Subscription missing at release time for atom ${t}. This is a bug in Recoil.`);return}p.delete(i),p.size===0&&u.nodeToComponentSubscriptions.delete(t)}}}var Fm={RecoilValueReadOnly:TBt,AbstractRecoilValue:IBt,RecoilState:EBt,getRecoilValueAsLoadable:CBt,setRecoilValue:m5e,setRecoilValueLoadable:NBt,markRecoilValueModified:kBt,setUnvalidatedRecoilValue:LBt,subscribeToRecoilValue:RBt,isRecoilValue:MBt,applyAtomValueWrites:ABt,batchStart:DBt,writeLoadableToTreeState:SU,invalidateDownstreams:IU,copyTreeState:h5e,invalidateDownstreams_FOR_TESTING:IU},{unstable_batchedUpdates:zBt}=r5e.default,jBt={unstable_batchedUpdates:zBt},{unstable_batchedUpdates:FBt}=jBt,BBt={unstable_batchedUpdates:FBt},{batchStart:UBt}=Fm,{unstable_batchedUpdates:VBt}=BBt,WU=VBt,$Bt=e=>{WU=e},HBt=()=>WU,WBt=e=>{WU(()=>{let t=()=>{};try{t=UBt(),e()}finally{t()}})},GU={getBatcher:HBt,setBatcher:$Bt,batchUpdates:WBt};function GBt(e,t){t()}var YBt={enqueueExecution:GBt};function ZBt(e,...t){let r=new Set;e:for(let n of e){for(let i of t)if(i.has(n))continue e;r.add(n)}return r}var aA=ZBt;function KBt(e,t){let r=new Map;return e.forEach((n,i)=>{r.set(i,t(n,i))}),r}var sA=KBt;function XBt(){return{nodeDeps:new Map,nodeToNodeSubscriptions:new Map}}function QBt(e){return{nodeDeps:sA(e.nodeDeps,t=>new Set(t)),nodeToNodeSubscriptions:sA(e.nodeToNodeSubscriptions,t=>new Set(t))}}function yU(e,t,r){let{nodeDeps:n,nodeToNodeSubscriptions:i}=t;e.forEach((o,u)=>{let p=n.get(u);if(p&&r&&p!==r.nodeDeps.get(u))return;n.set(u,new Set(o)),(p==null?o:aA(o,p)).forEach(y=>{i.has(y)||i.set(y,new Set),jn(i.get(y)).add(u)}),p&&aA(p,o).forEach(_=>{if(!i.has(_))return;let E=jn(i.get(_));E.delete(u),E.size===0&&i.delete(_)})})}function JBt(e,t,r){var n,i,o,u;let p=t.getState();r===p.currentTree.version||r===((n=p.nextTree)===null||n===void 0?void 0:n.version)||r===((i=p.previousTree)===null||i===void 0?void 0:i.version)||gc("Tried to save dependencies to a discarded tree");let h=t.getGraph(r);if(yU(e,h),r===((o=p.previousTree)===null||o===void 0?void 0:o.version)){let _=t.getGraph(p.currentTree.version);yU(e,_,h)}if(r===((u=p.previousTree)===null||u===void 0?void 0:u.version)||r===p.currentTree.version){var y;let _=(y=p.nextTree)===null||y===void 0?void 0:y.version;if(_!==void 0){let E=t.getGraph(_);yU(e,E,h)}}}function eUt(e,t){e.forEach((r,n)=>{t.has(n)||t.set(n,new Set);let i=jn(t.get(n));r.forEach(o=>i.add(o))})}function tUt(e,t,r){r.has(e)||r.set(e,new Set),jn(r.get(e)).add(t)}var Kw={addToDependencyMap:tUt,cloneGraph:QBt,graph:XBt,mergeDepsIntoDependencyMap:eUt,saveDependencyMapToStore:JBt};function rUt(e,t){return t={exports:{}},e(t,t.exports),t.exports}var nUt=rUt(function(e){var t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Se){return typeof Se}:function(Se){return Se&&typeof Symbol=="function"&&Se.constructor===Symbol&&Se!==Symbol.prototype?"symbol":typeof Se},r={},n=5,i=Math.pow(2,n),o=i-1,u=i/2,p=i/4,h={},y=function(Ce){return function(){return Ce}},_=r.hash=function(Se){var Ce=typeof Se=="undefined"?"undefined":t(Se);if(Ce==="number")return Se;Ce!=="string"&&(Se+="");for(var ct=0,kt=0,Ot=Se.length;kt<Ot;++kt){var ne=Se.charCodeAt(kt);ct=(ct<<5)-ct+ne|0}return ct},E=function(Ce){return Ce-=Ce>>1&1431655765,Ce=(Ce&858993459)+(Ce>>2&858993459),Ce=Ce+(Ce>>4)&252645135,Ce+=Ce>>8,Ce+=Ce>>16,Ce&127},T=function(Ce,ct){return ct>>>Ce&o},N=function(Ce){return 1<<Ce},R=function(Ce,ct){return E(Ce&ct-1)},j=function(Ce,ct,kt,Ot){var ne=Ot;if(!Ce){var H=Ot.length;ne=new Array(H);for(var $=0;$<H;++$)ne[$]=Ot[$]}return ne[ct]=kt,ne},k=function(Ce,ct,kt){var Ot=kt.length-1,ne=0,H=0,$=kt;if(Ce)ne=H=ct;else for($=new Array(Ot);ne<ct;)$[H++]=kt[ne++];for(++ne;ne<=Ot;)$[H++]=kt[ne++];return Ce&&($.length=Ot),$},L=function(Ce,ct,kt,Ot){var ne=Ot.length;if(Ce){for(var H=ne;H>=ct;)Ot[H--]=Ot[H];return Ot[ct]=kt,Ot}for(var $=0,Z=0,ie=new Array(ne+1);$<ct;)ie[Z++]=Ot[$++];for(ie[ct]=kt;$<ne;)ie[++Z]=Ot[$++];return ie},F=1,G=2,ee=3,ae=4,ue={__hamt_isEmpty:!0},ge=function(Ce){return Ce===ue||Ce&&Ce.__hamt_isEmpty},Oe=function(Ce,ct,kt,Ot){return{type:F,edit:Ce,hash:ct,key:kt,value:Ot,_modify:Pe}},_e=function(Ce,ct,kt){return{type:G,edit:Ce,hash:ct,children:kt,_modify:et}},ze=function(Ce,ct,kt){return{type:ee,edit:Ce,mask:ct,children:kt,_modify:lt}},We=function(Ce,ct,kt){return{type:ae,edit:Ce,size:ct,children:kt,_modify:ut}},$e=function(Ce){return Ce===ue||Ce.type===F||Ce.type===G},qe=function(Ce,ct,kt,Ot,ne){for(var H=[],$=Ot,Z=0,ie=0;$;++ie)$&1&&(H[ie]=ne[Z++]),$>>>=1;return H[ct]=kt,We(Ce,Z+1,H)},Je=function(Ce,ct,kt,Ot){for(var ne=new Array(ct-1),H=0,$=0,Z=0,ie=Ot.length;Z<ie;++Z)if(Z!==kt){var ve=Ot[Z];ve&&!ge(ve)&&(ne[H++]=ve,$|=1<<Z)}return ze(Ce,$,ne)},dt=function Se(Ce,ct,kt,Ot,ne,H){if(kt===ne)return _e(Ce,kt,[H,Ot]);var $=T(ct,kt),Z=T(ct,ne);return ze(Ce,N($)|N(Z),$===Z?[Se(Ce,ct+n,kt,Ot,ne,H)]:$<Z?[Ot,H]:[H,Ot])},Ue=function(Ce,ct,kt,Ot,ne,H,$,Z){for(var ie=ne.length,ve=0;ve<ie;++ve){var xe=ne[ve];if(kt($,xe.key)){var Ee=xe.value,fe=H(Ee);return fe===Ee?ne:fe===h?(--Z.value,k(Ce,ve,ne)):j(Ce,ve,Oe(ct,Ot,$,fe),ne)}}var Ve=H();return Ve===h?ne:(++Z.value,j(Ce,ie,Oe(ct,Ot,$,Ve),ne))},Re=function(Ce,ct){return Ce===ct.edit},Pe=function(Ce,ct,kt,Ot,ne,H,$){if(ct(H,this.key)){var Z=Ot(this.value);return Z===this.value?this:Z===h?(--$.value,ue):Re(Ce,this)?(this.value=Z,this):Oe(Ce,ne,H,Z)}var ie=Ot();return ie===h?this:(++$.value,dt(Ce,kt,this.hash,this,ne,Oe(Ce,ne,H,ie)))},et=function(Ce,ct,kt,Ot,ne,H,$){if(ne===this.hash){var Z=Re(Ce,this),ie=Ue(Z,Ce,ct,this.hash,this.children,Ot,H,$);return ie===this.children?this:ie.length>1?_e(Ce,this.hash,ie):ie[0]}var ve=Ot();return ve===h?this:(++$.value,dt(Ce,kt,this.hash,this,ne,Oe(Ce,ne,H,ve)))},lt=function(Ce,ct,kt,Ot,ne,H,$){var Z=this.mask,ie=this.children,ve=T(kt,ne),xe=N(ve),Ee=R(Z,xe),fe=Z&xe,Ve=fe?ie[Ee]:ue,tt=Ve._modify(Ce,ct,kt+n,Ot,ne,H,$);if(Ve===tt)return this;var je=Re(Ce,this),ht=Z,Zt=void 0;if(fe&&ge(tt)){if(ht&=~xe,!ht)return ue;if(ie.length<=2&&$e(ie[Ee^1]))return ie[Ee^1];Zt=k(je,Ee,ie)}else if(!fe&&!ge(tt)){if(ie.length>=u)return qe(Ce,ve,tt,Z,ie);ht|=xe,Zt=L(je,Ee,tt,ie)}else Zt=j(je,Ee,tt,ie);return je?(this.mask=ht,this.children=Zt,this):ze(Ce,ht,Zt)},ut=function(Ce,ct,kt,Ot,ne,H,$){var Z=this.size,ie=this.children,ve=T(kt,ne),xe=ie[ve],Ee=(xe||ue)._modify(Ce,ct,kt+n,Ot,ne,H,$);if(xe===Ee)return this;var fe=Re(Ce,this),Ve=void 0;if(ge(xe)&&!ge(Ee))++Z,Ve=j(fe,ve,Ee,ie);else if(!ge(xe)&&ge(Ee)){if(--Z,Z<=p)return Je(Ce,Z,ve,ie);Ve=j(fe,ve,ue,ie)}else Ve=j(fe,ve,Ee,ie);return fe?(this.size=Z,this.children=Ve,this):We(Ce,Z,Ve)};ue._modify=function(Se,Ce,ct,kt,Ot,ne,H){var $=kt();return $===h?ue:(++H.value,Oe(Se,Ot,ne,$))};function Fe(Se,Ce,ct,kt,Ot){this._editable=Se,this._edit=Ce,this._config=ct,this._root=kt,this._size=Ot}Fe.prototype.setTree=function(Se,Ce){return this._editable?(this._root=Se,this._size=Ce,this):Se===this._root?this:new Fe(this._editable,this._edit,this._config,Se,Ce)};var Ge=r.tryGetHash=function(Se,Ce,ct,kt){for(var Ot=kt._root,ne=0,H=kt._config.keyEq;;)switch(Ot.type){case F:return H(ct,Ot.key)?Ot.value:Se;case G:{if(Ce===Ot.hash)for(var $=Ot.children,Z=0,ie=$.length;Z<ie;++Z){var ve=$[Z];if(H(ct,ve.key))return ve.value}return Se}case ee:{var xe=T(ne,Ce),Ee=N(xe);if(Ot.mask&Ee){Ot=Ot.children[R(Ot.mask,Ee)],ne+=n;break}return Se}case ae:{if(Ot=Ot.children[T(ne,Ce)],Ot){ne+=n;break}return Se}default:return Se;}};Fe.prototype.tryGetHash=function(Se,Ce,ct){return Ge(Se,Ce,ct,this)};var ot=r.tryGet=function(Se,Ce,ct){return Ge(Se,ct._config.hash(Ce),Ce,ct)};Fe.prototype.tryGet=function(Se,Ce){return ot(Se,Ce,this)};var De=r.getHash=function(Se,Ce,ct){return Ge(void 0,Se,Ce,ct)};Fe.prototype.getHash=function(Se,Ce){return De(Se,Ce,this)};var he=r.get=function(Se,Ce){return Ge(void 0,Ce._config.hash(Se),Se,Ce)};Fe.prototype.get=function(Se,Ce){return ot(Ce,Se,this)};var ke=r.has=function(Se,Ce,ct){return Ge(h,Se,Ce,ct)!==h};Fe.prototype.hasHash=function(Se,Ce){return ke(Se,Ce,this)};var Te=r.has=function(Se,Ce){return ke(Ce._config.hash(Se),Se,Ce)};Fe.prototype.has=function(Se){return Te(Se,this)};var Qe=function(Ce,ct){return Ce===ct};r.make=function(Se){return new Fe(0,0,{keyEq:Se&&Se.keyEq||Qe,hash:Se&&Se.hash||_},ue,0)},r.empty=r.make();var Ye=r.isEmpty=function(Se){return Se&&!!ge(Se._root)};Fe.prototype.isEmpty=function(){return Ye(this)};var Ct=r.modifyHash=function(Se,Ce,ct,kt){var Ot={value:kt._size},ne=kt._root._modify(kt._editable?kt._edit:NaN,kt._config.keyEq,0,Se,Ce,ct,Ot);return kt.setTree(ne,Ot.value)};Fe.prototype.modifyHash=function(Se,Ce,ct){return Ct(ct,Se,Ce,this)};var yt=r.modify=function(Se,Ce,ct){return Ct(Se,ct._config.hash(Ce),Ce,ct)};Fe.prototype.modify=function(Se,Ce){return yt(Ce,Se,this)};var Nt=r.setHash=function(Se,Ce,ct,kt){return Ct(y(ct),Se,Ce,kt)};Fe.prototype.setHash=function(Se,Ce,ct){return Nt(Se,Ce,ct,this)};var we=r.set=function(Se,Ce,ct){return Nt(ct._config.hash(Se),Se,Ce,ct)};Fe.prototype.set=function(Se,Ce){return we(Se,Ce,this)};var bt=y(h),Ft=r.removeHash=function(Se,Ce,ct){return Ct(bt,Se,Ce,ct)};Fe.prototype.removeHash=Fe.prototype.deleteHash=function(Se,Ce){return Ft(Se,Ce,this)};var vt=r.remove=function(Se,Ce){return Ft(Ce._config.hash(Se),Se,Ce)};Fe.prototype.remove=Fe.prototype.delete=function(Se){return vt(Se,this)};var Yt=r.beginMutation=function(Se){return new Fe(Se._editable+1,Se._edit+1,Se._config,Se._root,Se._size)};Fe.prototype.beginMutation=function(){return Yt(this)};var Or=r.endMutation=function(Se){return Se._editable=Se._editable&&Se._editable-1,Se};Fe.prototype.endMutation=function(){return Or(this)};var Wt=r.mutate=function(Se,Ce){var ct=Yt(Ce);return Se(ct),Or(ct)};Fe.prototype.mutate=function(Se){return Wt(Se,this)};var hr=function(Ce){return Ce&&Gr(Ce[0],Ce[1],Ce[2],Ce[3],Ce[4])},Gr=function(Ce,ct,kt,Ot,ne){for(;kt<Ce;){var H=ct[kt++];if(H&&!ge(H))return Yr(H,Ot,[Ce,ct,kt,Ot,ne])}return hr(ne)},Yr=function(Ce,ct,kt){switch(Ce.type){case F:return{value:ct(Ce),rest:kt};case G:case ae:case ee:var Ot=Ce.children;return Gr(Ot.length,Ot,0,ct,kt);default:return hr(kt);}},ir={done:!0};function tn(Se){this.v=Se}tn.prototype.next=function(){if(!this.v)return ir;var Se=this.v;return this.v=hr(Se.rest),Se},tn.prototype[Symbol.iterator]=function(){return this};var at=function(Ce,ct){return new tn(Yr(Ce._root,ct))},fi=function(Ce){return[Ce.key,Ce.value]},wn=r.entries=function(Se){return at(Se,fi)};Fe.prototype.entries=Fe.prototype[Symbol.iterator]=function(){return wn(this)};var is=function(Ce){return Ce.key},gl=r.keys=function(Se){return at(Se,is)};Fe.prototype.keys=function(){return gl(this)};var wt=function(Ce){return Ce.value},Pr=r.values=Fe.prototype.values=function(Se){return at(Se,wt)};Fe.prototype.values=function(){return Pr(this)};var fr=r.fold=function(Se,Ce,ct){var kt=ct._root;if(kt.type===F)return Se(Ce,kt.value,kt.key);for(var Ot=[kt.children],ne=void 0;ne=Ot.pop();)for(var H=0,$=ne.length;H<$;){var Z=ne[H++];Z&&Z.type&&(Z.type===F?Ce=Se(Ce,Z.value,Z.key):Ot.push(Z.children))}return Ce};Fe.prototype.fold=function(Se,Ce){return fr(Se,Ce,this)};var fo=r.forEach=function(Se,Ce){return fr(function(ct,kt,Ot){return Se(kt,Ot,Ce)},null,Ce)};Fe.prototype.forEach=function(Se){return fo(Se,this)};var qa=r.count=function(Se){return Se._size};Fe.prototype.count=function(){return qa(this)},Object.defineProperty(Fe.prototype,"size",{get:Fe.prototype.count}),e.exports?e.exports=r:(void 0).hamt=r}),EU=class{constructor(t){yn(this,"_map",void 0),this._map=new Map(t==null?void 0:t.entries())}keys(){return this._map.keys()}entries(){return this._map.entries()}get(t){return this._map.get(t)}has(t){return this._map.has(t)}set(t,r){return this._map.set(t,r),this}delete(t){return this._map.delete(t),this}clone(){return YU(this)}toMap(){return new Map(this._map)}},TU=class e{constructor(t){if(yn(this,"_hamt",nUt.empty.beginMutation()),t instanceof e){let r=t._hamt.endMutation();t._hamt=r.beginMutation(),this._hamt=r.beginMutation()}else if(t)for(let[r,n]of t.entries())this._hamt.set(r,n)}keys(){return this._hamt.keys()}entries(){return this._hamt.entries()}get(t){return this._hamt.get(t)}has(t){return this._hamt.has(t)}set(t,r){return this._hamt.set(t,r),this}delete(t){return this._hamt.delete(t),this}clone(){return YU(this)}toMap(){return new Map(this._hamt)}};function YU(e){return ri("recoil_hamt_2020")?new TU(e):new EU(e)}var iUt={persistentMap:YU},oUt=iUt.persistentMap,aUt=Object.freeze({__proto__:null,persistentMap:oUt}),{graph:sUt}=Kw,{persistentMap:BCe}=aUt,lUt=0,g5e=()=>lUt++;function v5e(){let e=g5e();return{version:e,stateID:e,transactionMetadata:{},dirtyAtoms:new Set,atomValues:BCe(),nonvalidatedAtoms:BCe()}}function uUt(){let e=v5e();return{currentTree:e,nextTree:null,previousTree:null,commitDepth:0,knownAtoms:new Set,knownSelectors:new Set,transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(e.version,sUt()),versionsUsedByComponent:new Map,retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}}var y5e={makeEmptyTreeState:v5e,makeEmptyStoreState:uUt,getNextTreeStateVersion:g5e};function cUt(...e){let t=new Set;for(let r of e)for(let n of r)t.add(n);return t}var dUt=cUt;function pUt(e,t,r){let n=e.entries(),i=n.next();for(;!i.done;){let o=i.value;if(t.call(r,o[1],o[0],e))return!0;i=n.next()}return!1}var fUt=pUt,{cleanUpNode:hUt}=s0,{deleteNodeConfigIfPossible:mUt,getNode:_5e}=$l,{RetentionZone:b5e}=fA,x5e=new Set;function w5e(e,t){let r=e.getState(),n=r.currentTree;if(r.nextTree){gc("releaseNodesNowOnCurrentTree should only be called at the end of a batch");return}let i=new Set;for(let u of t)if(u instanceof b5e)for(let p of _Ut(r,u))i.add(p);else i.add(u);let o=gUt(e,i);for(let u of o)yUt(e,n,u)}function gUt(e,t){let r=e.getState(),n=r.currentTree,i=e.getGraph(n.version),o=new Set,u=new Set;return p(t),o;function p(h){let y=new Set,_=vUt(e,n,h,o,u);for(let R of _){var E;if(_5e(R).retainedBy==="recoilRoot"){u.add(R);continue}if(((E=r.retention.referenceCounts.get(R))!==null&&E!==void 0?E:0)>0){u.add(R);continue}if(S5e(R).some(k=>r.retention.referenceCounts.get(k))){u.add(R);continue}let j=i.nodeToNodeSubscriptions.get(R);if(j&&fUt(j,k=>u.has(k))){u.add(R);continue}o.add(R),y.add(R)}let T=new Set;for(let R of y)for(let j of(N=i.nodeDeps.get(R))!==null&&N!==void 0?N:x5e){var N;o.has(j)||T.add(j)}T.size&&p(T)}}function vUt(e,t,r,n,i){let o=e.getGraph(t.version),u=[],p=new Set;for(;r.size>0;)h(jn(r.values().next().value));return u;function h(y){if(n.has(y)||i.has(y)){r.delete(y);return}if(p.has(y))return;let _=o.nodeToNodeSubscriptions.get(y);if(_)for(let E of _)h(E);p.add(y),r.delete(y),u.push(y)}}function yUt(e,t,r){if(!ri("recoil_memory_managament_2020"))return;hUt(e,r);let n=e.getState();n.knownAtoms.delete(r),n.knownSelectors.delete(r),n.nodeTransactionSubscriptions.delete(r),n.retention.referenceCounts.delete(r);let i=S5e(r);for(let h of i){var o;(o=n.retention.nodesRetainedByZone.get(h))===null||o===void 0||o.delete(r)}t.atomValues.delete(r),t.dirtyAtoms.delete(r),t.nonvalidatedAtoms.delete(r);let u=n.graphsByVersion.get(t.version);if(u){let h=u.nodeDeps.get(r);if(h!==void 0){u.nodeDeps.delete(r);for(let y of h){var p;(p=u.nodeToNodeSubscriptions.get(y))===null||p===void 0||p.delete(r)}}u.nodeToNodeSubscriptions.delete(r)}mUt(r)}function _Ut(e,t){var r;return(r=e.retention.nodesRetainedByZone.get(t))!==null&&r!==void 0?r:x5e}function S5e(e){let t=_5e(e).retainedBy;return t===void 0||t==="components"||t==="recoilRoot"?[]:t instanceof b5e?[t]:t}function bUt(e,t){let r=e.getState();r.nextTree?r.retention.retainablesToCheckForRelease.add(t):w5e(e,new Set([t]))}function xUt(e,t,r){var n;if(!ri("recoil_memory_managament_2020"))return;let i=e.getState().retention.referenceCounts,o=((n=i.get(t))!==null&&n!==void 0?n:0)+r;o===0?I5e(e,t):i.set(t,o)}function I5e(e,t){if(!ri("recoil_memory_managament_2020"))return;e.getState().retention.referenceCounts.delete(t),bUt(e,t)}function wUt(e){if(!ri("recoil_memory_managament_2020"))return;let t=e.getState();w5e(e,t.retention.retainablesToCheckForRelease),t.retention.retainablesToCheckForRelease.clear()}function SUt(e){return e===void 0?"recoilRoot":e}var Xw={updateRetainCount:xUt,updateRetainCountToZero:I5e,releaseScheduledRetainablesNow:wUt,retainedByOptionWithDefault:SUt};function*IUt(e){for(let t of e)for(let r of t)yield r}var EUt=IUt,TUt=typeof window=="undefined",MUt=typeof navigator!="undefined"&&navigator.product==="ReactNative",ZU={isSSR:TUt,isReactNative:MUt},{isSSR:CUt}=ZU,{batchUpdates:MU}=GU,{initializeNodeIfNewToStore:AUt,peekNodeInfo:PUt}=s0,{graph:OUt}=Kw,{DEFAULT_VALUE:DUt,recoilValues:UCe,recoilValuesForKeys:VCe}=$l,{AbstractRecoilValue:NUt,getRecoilValueAsLoadable:kUt,setRecoilValue:$Ce,setUnvalidatedRecoilValue:LUt}=Fm,{updateRetainCount:Q5}=Xw,{getNextTreeStateVersion:qUt,makeEmptyStoreState:RUt}=y5e;var o0=class{constructor(t){yn(this,"_store",void 0),yn(this,"_refCount",0),yn(this,"getLoadable",r=>(this.checkRefCount_INTERNAL(),kUt(this._store,r))),yn(this,"getPromise",r=>(this.checkRefCount_INTERNAL(),this.getLoadable(r).toPromise())),yn(this,"getNodes_UNSTABLE",r=>{if(this.checkRefCount_INTERNAL(),(r==null?void 0:r.isModified)===!0){if((r==null?void 0:r.isInitialized)===!1)return[];let o=this._store.getState().currentTree;return VCe(o.dirtyAtoms)}let n=this._store.getState().knownAtoms,i=this._store.getState().knownSelectors;return(r==null?void 0:r.isInitialized)==null?UCe.values():r.isInitialized===!0?VCe(EUt([this._store.getState().knownAtoms,this._store.getState().knownSelectors])):a5e(UCe.values(),({key:o})=>!n.has(o)&&!i.has(o))}),yn(this,"getInfo_UNSTABLE",({key:r})=>(this.checkRefCount_INTERNAL(),PUt(this._store,this._store.getState().currentTree,r))),yn(this,"map",r=>{this.checkRefCount_INTERNAL();let n=new Gw(this,MU);return r(n),CU(n.getStore_INTERNAL())}),yn(this,"asyncMap",r=>gi(this,null,function*(){this.checkRefCount_INTERNAL();let n=new Gw(this,MU);return yield r(n),CU(n.getStore_INTERNAL())})),this._store={getState:()=>t,replaceState:r=>{t.currentTree=r(t.currentTree)},getGraph:r=>{let n=t.graphsByVersion;if(n.has(r))return jn(n.get(r));let i=OUt();return n.set(r,i),i},subscribeToTransactions:()=>({release:()=>{}}),addTransactionMetadata:()=>{throw new Error("Cannot subscribe to Snapshots")}};for(let r of this._store.getState().nodeCleanupFunctions.keys())AUt(this._store,t.currentTree,r,"get"),Q5(this._store,r,1);this.retain(),this.autorelease_INTERNAL()}retain(){if(!ri("recoil_memory_managament_2020"))return()=>{};this._refCount++;let t=!1;return()=>{t||(t=!0,this.release_INTERNAL())}}autorelease_INTERNAL(){ri("recoil_memory_managament_2020")&&(CUt||window.setTimeout(()=>this.release_INTERNAL(),0))}release_INTERNAL(){ri("recoil_memory_managament_2020")&&(this._refCount--,this._refCount)}checkRefCount_INTERNAL(){ri("recoil_memory_managament_2020")&&this._refCount<=0}getStore_INTERNAL(){return this.checkRefCount_INTERNAL(),this._store}getID(){return this.checkRefCount_INTERNAL(),this.getID_INTERNAL()}getID_INTERNAL(){return this.checkRefCount_INTERNAL(),this._store.getState().currentTree.stateID}};function E5e(e,t,r=!1){let n=e.getState(),i=r?qUt():t.version;return{currentTree:r?{version:i,stateID:i,transactionMetadata:Ze({},t.transactionMetadata),dirtyAtoms:new Set(t.dirtyAtoms),atomValues:t.atomValues.clone(),nonvalidatedAtoms:t.nonvalidatedAtoms.clone()}:t,commitDepth:0,nextTree:null,previousTree:null,knownAtoms:new Set(n.knownAtoms),knownSelectors:new Set(n.knownSelectors),transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(i,e.getGraph(t.version)),versionsUsedByComponent:new Map,retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}}function zUt(e){let t=new o0(RUt());return e!=null?t.map(e):t}function CU(e,t="current"){let r=e.getState(),n=t==="current"?r.currentTree:jn(r.previousTree);return new o0(E5e(e,n))}var Gw=class extends o0{constructor(t,r){super(E5e(t.getStore_INTERNAL(),t.getStore_INTERNAL().getState().currentTree,!0)),yn(this,"_batch",void 0),yn(this,"set",(n,i)=>{this.checkRefCount_INTERNAL();let o=this.getStore_INTERNAL();this._batch(()=>{Q5(o,n.key,1),$Ce(this.getStore_INTERNAL(),n,i)})}),yn(this,"reset",n=>{this.checkRefCount_INTERNAL();let i=this.getStore_INTERNAL();this._batch(()=>{Q5(i,n.key,1),$Ce(this.getStore_INTERNAL(),n,DUt)})}),yn(this,"setUnvalidatedAtomValues_DEPRECATED",n=>{this.checkRefCount_INTERNAL();let i=this.getStore_INTERNAL();MU(()=>{for(let[o,u]of n.entries())Q5(i,o,1),LUt(i,new NUt(o),u)})}),this._batch=r}},gA={Snapshot:o0,MutableSnapshot:Gw,freshSnapshot:zUt,cloneSnapshot:CU},jUt=gA.Snapshot,FUt=gA.MutableSnapshot,BUt=gA.freshSnapshot,UUt=gA.cloneSnapshot,vA=Object.freeze({__proto__:null,Snapshot:jUt,MutableSnapshot:FUt,freshSnapshot:BUt,cloneSnapshot:UUt}),{getNextTreeStateVersion:VUt,makeEmptyStoreState:T5e}=y5e,{cleanUpNode:$Ut,getDownstreamNodes:HUt,setNodeValue:WUt,setUnvalidatedAtomValue_DEPRECATED:GUt}=s0,{graph:YUt}=Kw,{cloneGraph:ZUt}=Kw,{applyAtomValueWrites:KUt}=Fm,{releaseScheduledRetainablesNow:M5e}=Xw,{freshSnapshot:XUt}=vA,{useCallback:QUt,useContext:C5e,useEffect:AU,useMemo:JUt,useRef:_U,useState:eVt}=wa.default;function zw(){throw new Error("This component must be used inside a <RecoilRoot> component.")}var A5e=Object.freeze({getState:zw,replaceState:zw,getGraph:zw,subscribeToTransactions:zw,addTransactionMetadata:zw}),PU=!1;function HCe(e){if(PU)throw new Error("An atom update was triggered within the execution of a state updater function. State updater functions provided to Recoil must be pure functions.");let t=e.getState();if(t.nextTree===null){ri("recoil_memory_managament_2020")&&ri("recoil_release_on_cascading_update_killswitch_2021")&&t.commitDepth>0&&M5e(e);let r=t.currentTree.version,n=VUt();t.nextTree=xr(Ze({},t.currentTree),{version:n,stateID:n,dirtyAtoms:new Set,transactionMetadata:{}}),t.graphsByVersion.set(n,ZUt(jn(t.graphsByVersion.get(r))))}}var P5e=wa.default.createContext({current:A5e}),KU=()=>C5e(P5e),O5e=wa.default.createContext(null);function tVt(){let e=C5e(O5e);return e==null&&UU("Attempted to use a Recoil hook outside of a <RecoilRoot>. <RecoilRoot> must be an ancestor of any component that uses Recoil hooks."),e}function XU(e,t,r){let n=HUt(e,r,r.dirtyAtoms);for(let i of n){let o=t.nodeToComponentSubscriptions.get(i);if(o)for(let[u,[p,h]]of o)h(r)}}function D5e(e){let t=e.getState(),r=t.currentTree,n=r.dirtyAtoms;if(n.size){for(let[i,o]of t.nodeTransactionSubscriptions)if(n.has(i))for(let[u,p]of o)p(e);for(let[i,o]of t.transactionSubscriptions)o(e);(!ri("recoil_early_rendering_2021")||t.suspendedComponentResolvers.size)&&(XU(e,t,r),t.suspendedComponentResolvers.forEach(i=>i()),t.suspendedComponentResolvers.clear())}t.queuedComponentCallbacks_DEPRECATED.forEach(i=>i(r)),t.queuedComponentCallbacks_DEPRECATED.splice(0,t.queuedComponentCallbacks_DEPRECATED.length)}function rVt(e){let t=e.current.getState();t.commitDepth++;try{let{nextTree:r}=t;if(r===null)return;t.previousTree=t.currentTree,t.currentTree=r,t.nextTree=null,D5e(e.current),t.previousTree!=null?t.graphsByVersion.delete(t.previousTree.version):gc("Ended batch with no previous state, which is unexpected","recoil"),t.previousTree=null,ri("recoil_memory_managament_2020")&&M5e(e.current)}finally{t.commitDepth--}}function nVt({setNotifyBatcherOfChange:e}){let t=KU(),[r,n]=eVt([]);return e(()=>n({})),AU(()=>{YBt.enqueueExecution("Batcher",()=>{rVt(t)})}),AU(()=>()=>{e(()=>{})},[e]),null}function iVt(e,t){let r=T5e();return t({set:(n,i)=>{let o=r.currentTree,u=WUt(e,o,n.key,i),p=new Set(u.keys()),h=o.nonvalidatedAtoms.clone();for(let y of p)h.delete(y);r.currentTree=xr(Ze({},o),{dirtyAtoms:dUt(o.dirtyAtoms,p),atomValues:KUt(o.atomValues,u),nonvalidatedAtoms:h})},setUnvalidatedAtomValues:n=>{n.forEach((i,o)=>{r.currentTree=GUt(r.currentTree,o,i)})}}),r}function oVt(e){return XUt().map(e).getStore_INTERNAL().getState()}var WCe=0;function aVt({initializeState_DEPRECATED:e,initializeState:t,store_INTERNAL:r,children:n}){var i;let o,u=k=>{let L=o.current.graphsByVersion;if(L.has(k))return jn(L.get(k));let F=YUt();return L.set(k,F),F},p=(k,L)=>{if(L==null){let{transactionSubscriptions:F}=R.current.getState(),G=WCe++;return F.set(G,k),{release:()=>{F.delete(G)}}}else{let{nodeTransactionSubscriptions:F}=R.current.getState();F.has(L)||F.set(L,new Map);let G=WCe++;return jn(F.get(L)).set(G,k),{release:()=>{let ee=F.get(L);ee&&(ee.delete(G),ee.size===0&&F.delete(L))}}}},h=k=>{HCe(R.current);for(let L of Object.keys(k))jn(R.current.getState().nextTree).transactionMetadata[L]=k[L]},y=k=>{let L=R.current.getState();HCe(R.current);let F=jn(L.nextTree),G;try{PU=!0,G=k(F)}finally{PU=!1}G!==F&&(L.nextTree=G,ri("recoil_early_rendering_2021")&&XU(N,L,G),jn(_.current)())},_=_U(null),E=QUt(k=>{_.current=k},[_]),T=(i=wa.default.createMutableSource)!==null&&i!==void 0?i:wa.default.unstable_createMutableSource,N=r!=null?r:{getState:()=>o.current,replaceState:y,getGraph:u,subscribeToTransactions:p,addTransactionMetadata:h},R=_U(N);o=_U(e!=null?iVt(N,e):t!=null?oVt(t):T5e());let j=JUt(()=>T?T(o,()=>o.current.currentTree.version):null,[T,o]);return AU(()=>()=>{for(let k of R.current.getState().knownAtoms)$Ut(R.current,k)},[]),wa.default.createElement(P5e.Provider,{value:R},wa.default.createElement(O5e.Provider,{value:j},wa.default.createElement(nVt,{setNotifyBatcherOfChange:E}),n))}function sVt(e){let i=e,{override:t}=i,r=Rn(i,["override"]),n=KU();return t===!1&&n.current!==A5e?e.children:wa.default.createElement(aVt,r)}var yA={useStoreRef:KU,useRecoilMutableSource:tVt,RecoilRoot:sVt,notifyComponents_FOR_TESTING:XU,sendEndOfBatchNotifications_FOR_TESTING:D5e},{loadableWithValue:lVt}=Zw,{DEFAULT_VALUE:uVt,getNode:cVt}=$l,{copyTreeState:dVt,getRecoilValueAsLoadable:pVt,invalidateDownstreams:fVt,writeLoadableToTreeState:hVt}=Fm;function GCe(e){return cVt(e.key).nodeType==="atom"}var OU=class{constructor(t,r){yn(this,"_store",void 0),yn(this,"_treeState",void 0),yn(this,"_changes",void 0),yn(this,"get",n=>{if(this._changes.has(n.key))return this._changes.get(n.key);if(!GCe(n))throw new Error("Reading selectors within atomicUpdate is not supported");let i=pVt(this._store,n,this._treeState);if(i.state==="hasValue")return i.contents;throw i.state==="hasError"?i.contents:new Error(`Expected Recoil atom ${n.key} to have a value, but it is in a loading state.`)}),yn(this,"set",(n,i)=>{if(!GCe(n))throw new Error("Setting selectors within atomicUpdate is not supported");if(typeof i=="function"){let o=this.get(n);this._changes.set(n.key,i(o))}else this._changes.set(n.key,i)}),yn(this,"reset",n=>{this.set(n,uVt)}),this._store=t,this._treeState=r,this._changes=new Map}newTreeState_INTERNAL(){if(this._changes.size===0)return this._treeState;let t=dVt(this._treeState);for(let[r,n]of this._changes)hVt(t,r,lVt(n));return fVt(this._store,t),t}};function mVt(e){return t=>{e.replaceState(r=>{let n=new OU(e,r);return t(n),n.newTreeState_INTERNAL()})}}var gVt={atomicUpdater:mVt},vVt=gVt.atomicUpdater,yVt=Object.freeze({__proto__:null,atomicUpdater:vVt});function _Vt(e,t){let r=new Map;for(let[n,i]of e)t(i,n)&&r.set(n,i);return r}var bVt=_Vt;function xVt(e,t){let r=new Set;for(let n of e)t(n)&&r.add(n);return r}var wVt=xVt;function SVt(e,t){if(!e)throw new Error(t)}var IVt=SVt,lA=IVt;function EVt(...e){let t=new Map;for(let r=0;r<e.length;r++){let n=e[r].keys(),i;for(;!(i=n.next()).done;)t.set(i.value,e[r].get(i.value))}return t}var TVt=EVt;function MVt(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let r=0,n=e.length;r<n;r++)if(e[r]!==t[r])return!1;return!0}var CVt=MVt;var{useRef:AVt}=wa.default;function PVt(){let e=AVt();if(0&&ri("recoil_infer_component_names"))var t;return"<component name not available>"}var QU=PVt,{atomicUpdater:N5e}=yVt,{batchUpdates:JU}=GU,{DEFAULT_VALUE:_A,getNode:k5e,nodes:OVt}=$l,{useRecoilMutableSource:DVt,useStoreRef:ol}=yA,{isRecoilValue:m3r}=$f,{AbstractRecoilValue:eV,getRecoilValueAsLoadable:Hw,setRecoilValue:a0,setRecoilValueLoadable:NVt,setUnvalidatedRecoilValue:kVt,subscribeToRecoilValue:tV}=Fm,{updateRetainCount:jw}=Xw,{RetentionZone:LVt}=fA,{Snapshot:g3r,cloneSnapshot:Yw}=vA,{setByAddingToSet:qVt}=o5e,{isSSR:uA}=ZU,{mutableSourceExists:RVt,useMutableSource:zVt}=i5e,{useCallback:Tu,useEffect:kd,useMemo:L5e,useRef:Vf,useState:rV}=wa.default,q5e=12e4;function R5e(e,t,r){if(e.state==="hasValue")return e.contents;throw e.state==="loading"?new Promise(i=>{r.current.getState().suspendedComponentResolvers.add(i)}):e.state==="hasError"?e.contents:new Error(`Invalid value of loadable atom "${t.key}"`)}function jVt(){let e=ol(),[t,r]=rV([]),n=Vf(new Set);n.current=new Set;let i=Vf(new Set),o=Vf(new Map),u=Tu(h=>{let y=o.current.get(h);y&&(y.release(),o.current.delete(h))},[o]),p=QU();return kd(()=>{let h=e.current;function y(_,E){o.current.has(E)&&r([])}aA(n.current,i.current).forEach(_=>{if(o.current.has(_)){UU(`Double subscription to RecoilValue "${_}"`);return}let E=tV(h,new eV(_),N=>{y(N,_)},p);o.current.set(_,E),h.getState().nextTree?h.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{y(h.getState(),_)}):y(h.getState(),_)}),aA(i.current,n.current).forEach(_=>{u(_)}),i.current=n.current}),kd(()=>{let h=o.current;return()=>h.forEach((y,_)=>u(_))},[u]),L5e(()=>{function h(R){return j=>{a0(e.current,R,j)}}function y(R){return()=>a0(e.current,R,_A)}function _(R){var j;n.current.has(R.key)||(n.current=qVt(n.current,R.key));let k=e.current.getState();return Hw(e.current,R,ri("recoil_early_rendering_2021")&&(j=k.nextTree)!==null&&j!==void 0?j:k.currentTree)}function E(R){let j=_(R);return R5e(j,R,e)}function T(R){return[E(R),h(R)]}function N(R){return[_(R),h(R)]}return{getRecoilValue:E,getRecoilValueLoadable:_,getRecoilState:T,getRecoilStateLoadable:N,getSetRecoilState:h,getResetRecoilState:y}},[n,e])}var FVt={current:0};function BVt(e){let t=ol(),r=Tu(()=>{var y;let _=t.current,E=_.getState(),T=ri("recoil_early_rendering_2021")&&(y=E.nextTree)!==null&&y!==void 0?y:E.currentTree;return Hw(_,e,T)},[t,e]),n=Tu(()=>r(),[r]),i=QU(),o=Tu((y,_)=>{let E=t.current;return tV(E,e,()=>{if(!ri("recoil_suppress_rerender_in_callback"))return _();let N=r();h.current.is(N)||_(),h.current=N},i).release},[t,e,i,r]),u=DVt(),p=zVt(u,n,o),h=Vf(p);return kd(()=>{h.current=p}),p}function UVt(e){let t=ol(),[r,n]=rV([]),i=QU();kd(()=>{let p=t.current,h=p.getState(),y=tV(p,e,E=>{var T;if(!ri("recoil_suppress_rerender_in_callback"))return n([]);let N=Hw(p,e,p.getState().currentTree);!((T=u.current)===null||T===void 0)&&T.is(N)||n(N),u.current=N},i);if(h.nextTree)p.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{u.current=null,n([])});else{var _;if(!ri("recoil_suppress_rerender_in_callback"))return n([]);let E=Hw(p,e,p.getState().currentTree);!((_=u.current)===null||_===void 0)&&_.is(E)||n(E),u.current=E}return y.release},[i,e,t]);let o=Hw(t.current,e),u=Vf(o);return kd(()=>{u.current=o}),o}function nV(e){return ri("recoil_memory_managament_2020")&&B5e(e),RVt()?BVt(e):UVt(e)}function z5e(e){let t=ol(),r=nV(e);return R5e(r,e,t)}function iV(e){let t=ol();return Tu(r=>{a0(t.current,e,r)},[t,e])}function VVt(e){let t=ol();return Tu(()=>{a0(t.current,e,_A)},[t,e])}function $Vt(e){return[z5e(e),iV(e)]}function HVt(e){return[nV(e),iV(e)]}function bA(e){let t=ol();kd(()=>t.current.subscribeToTransactions(e).release,[e,t])}function YCe(e){let t=e.atomValues.toMap(),r=sA(bVt(t,(n,i)=>{let u=k5e(i).persistence_UNSTABLE;return u!=null&&u.type!=="none"&&n.state==="hasValue"}),n=>n.contents);return TVt(e.nonvalidatedAtoms.toMap(),r)}function WVt(e){bA(Tu(t=>{let r=t.getState().previousTree,n=t.getState().currentTree;r||(gc("Transaction subscribers notified without a previous tree being present -- this is a bug in Recoil"),r=t.getState().currentTree);let i=YCe(n),o=YCe(r),u=sA(OVt,h=>{var y,_,E,T;return{persistence_UNSTABLE:{type:(y=(_=h.persistence_UNSTABLE)===null||_===void 0?void 0:_.type)!==null&&y!==void 0?y:"none",backButton:(E=(T=h.persistence_UNSTABLE)===null||T===void 0?void 0:T.backButton)!==null&&E!==void 0?E:!1}}}),p=wVt(n.dirtyAtoms,h=>i.has(h)||o.has(h));e({atomValues:i,previousAtomValues:o,atomInfo:u,modifiedAtoms:p,transactionMetadata:Ze({},n.transactionMetadata)})},[e]))}function GVt(e){bA(Tu(t=>{let r=Yw(t,"current"),n=Yw(t,"previous");e({snapshot:r,previousSnapshot:n})},[e]))}function j5e(e){let t=Vf();return kd(()=>{t.current=e}),t.current}function YVt(){let e=ol(),[t,r]=rV(()=>Yw(e.current)),n=j5e(t),i=Vf();return kd(()=>(i.current&&!uA&&window.clearTimeout(i.current),t.retain()),[t]),bA(Tu(o=>r(Yw(o)),[])),n!==t&&!uA&&(i.current&&(n==null||n.release_INTERNAL(),window.clearTimeout(i.current)),t.retain(),i.current=window.setTimeout(()=>{t.release_INTERNAL(),i.current=null},q5e)),t}function F5e(){let e=ol();return Tu(t=>{var r;let n=e.current.getState(),i=(r=n.nextTree)!==null&&r!==void 0?r:n.currentTree,o=t.getStore_INTERNAL().getState().currentTree;JU(()=>{let u=new Set;for(let y of[i.atomValues.keys(),o.atomValues.keys()])for(let _ of y){var p,h;((p=i.atomValues.get(_))===null||p===void 0?void 0:p.contents)!==((h=o.atomValues.get(_))===null||h===void 0?void 0:h.contents)&&k5e(_).shouldRestoreFromSnapshots&&u.add(_)}u.forEach(y=>{NVt(e.current,new eV(y),o.atomValues.has(y)?jn(o.atomValues.get(y)):_A)}),e.current.replaceState(y=>xr(Ze({},y),{stateID:t.getID_INTERNAL()}))})},[e])}function ZVt(){let e=ol();return(t,r={})=>{JU(()=>{e.current.addTransactionMetadata(r),t.forEach((n,i)=>kVt(e.current,new eV(i),n))})}}var cA=class{},KVt=new cA;function XVt(e,t){let r=ol(),n=F5e();return Tu((...i)=>{function o(_,E){a0(r.current,_,E)}function u(_){a0(r.current,_,_A)}let p=Yw(r.current),h=N5e(r.current),y=KVt;return JU(()=>{let _="useRecoilCallback expects a function that returns a function: it accepts a function of the type (RecoilInterface) => T = R and returns a callback function T => R, where RecoilInterface is an object {snapshot, set, ...} and T and R are the argument and return types of the callback you want to create.  Please see the docs at recoiljs.org for details.";if(typeof e!="function")throw new Error(_);let E=e({set:o,reset:u,snapshot:p,gotoSnapshot:n,transact_UNSTABLE:h});if(typeof E!="function")throw new Error(_);y=E(...i)}),y instanceof cA&&lA(!1),y},t!=null?[...t,r]:void 0)}function B5e(e){if(ri("recoil_memory_managament_2020"))return QVt(e)}function QVt(e){let r=(Array.isArray(e)?e:[e]).map(u=>u instanceof LVt?u:u.key),n=ol();kd(()=>{if(!ri("recoil_memory_managament_2020"))return;let u=n.current;if(i.current&&!uA)window.clearTimeout(i.current),i.current=null;else for(let p of r)jw(u,p,1);return()=>{for(let p of r)jw(u,p,-1)}},[n,...r]);let i=Vf(),o=j5e(r);if(!uA&&(o===void 0||!CVt(o,r))){let u=n.current;for(let p of r)jw(u,p,1);if(o)for(let p of o)jw(u,p,-1);i.current&&window.clearTimeout(i.current),i.current=window.setTimeout(()=>{i.current=null;for(let p of r)jw(u,p,-1)},q5e)}}function JVt(e,t){let r=ol();return L5e(()=>(...n)=>{N5e(r.current)(o=>{e(o)(...n)})},t!=null?[...t,r]:void 0)}var e$t={recoilComponentGetRecoilValueCount_FOR_TESTING:FVt,useGotoRecoilSnapshot:F5e,useRecoilCallback:XVt,useRecoilInterface:jVt,useRecoilSnapshot:YVt,useRecoilState:$Vt,useRecoilStateLoadable:HVt,useRecoilTransaction:JVt,useRecoilTransactionObserver:GVt,useRecoilValue:z5e,useRecoilValueLoadable:nV,useRetain:B5e,useResetRecoilState:VVt,useSetRecoilState:iV,useSetUnvalidatedAtomValues:ZVt,useTransactionObservation_DEPRECATED:WVt,useTransactionSubscription_DEPRECATED:bA},{peekNodeInfo:t$t}=s0,{useStoreRef:r$t}=yA;function n$t(){let e=r$t();return({key:t})=>t$t(e.current,e.current.getState().currentTree,t)}var i$t=n$t,{RecoilRoot:o$t,useStoreRef:a$t}=yA,{useMemo:s$t}=wa.default;function l$t(){let e=a$t().current;return s$t(()=>{function t({children:r}){return wa.default.createElement(o$t,{store_INTERNAL:e},r)}return t},[e])}var u$t=l$t;var{isReactNative:v3r,isSSR:y3r}=ZU;function Eu(e,t,r){if(typeof e=="string"&&!e.includes("\"")&&!e.includes("\\"))return`"${e}"`;switch(typeof e){case"undefined":return"";case"boolean":return e?"true":"false";case"number":case"symbol":return String(e);case"string":return JSON.stringify(e);case"function":if((t==null?void 0:t.allowFunctions)!==!0)throw new Error("Attempt to serialize function in a Recoil cache key");return`__FUNCTION(${e.name})__`;}if(e===null)return"null";if(typeof e!="object"){var n;return(n=JSON.stringify(e))!==null&&n!==void 0?n:""}if(Vi(e))return"__PROMISE__";if(Array.isArray(e))return`[${e.map((i,o)=>Eu(i,t,o.toString()))}]`;if(typeof e.toJSON=="function")return Eu(e.toJSON(r),t,r);if(e instanceof Map){let i={};for(let[o,u]of e)i[typeof o=="string"?o:Eu(o,t)]=u;return Eu(i,t,r)}return e instanceof Set?Eu(Array.from(e).sort((i,o)=>Eu(i,t).localeCompare(Eu(o,t))),t,r):Symbol!==void 0&&e[Symbol.iterator]!=null&&typeof e[Symbol.iterator]=="function"?Eu(Array.from(e),t,r):`{${Object.keys(e).filter(i=>e[i]!==void 0).sort().map(i=>`${Eu(i,t)}:${Eu(e[i],t,i)}`).join(",")}}`}function c$t(e,t={allowFunctions:!1}){return Eu(e,t)}var xA=c$t,DU=class{constructor(t){var r,n,i;yn(this,"_numLeafs",void 0),yn(this,"_root",void 0),yn(this,"_onHit",void 0),yn(this,"_onSet",void 0),yn(this,"_mapNodeValue",void 0),this._numLeafs=0,this._root=null,this._onHit=(r=t==null?void 0:t.onHit)!==null&&r!==void 0?r:()=>{},this._onSet=(n=t==null?void 0:t.onSet)!==null&&n!==void 0?n:()=>{},this._mapNodeValue=(i=t==null?void 0:t.mapNodeValue)!==null&&i!==void 0?i:o=>o}size(){return this._numLeafs}root(){return this._root}get(t,r){var n;return(n=this.getLeafNode(t,r))===null||n===void 0?void 0:n.value}getLeafNode(t,r){return U5e(this.root(),n=>this._mapNodeValue(t(n)),{onNodeVisit:n=>{r==null||r.onNodeVisit(n),n.type==="leaf"&&this._onHit(n)}})}set(t,r,n){let i,o=NU(this.root(),t.map(([u,p])=>[u,this._mapNodeValue(p)]),null,r,null,{onNodeVisit:u=>{n==null||n.onNodeVisit(u),u.type==="leaf"&&(i=u)}});this.root()||(this._root=o),this._numLeafs++,this._onSet(jn(i))}delete(t){if(!this.root())return!1;let r=jn(this.root());return d$t(r,t,t.parent)?t===r||r.type==="branch"&&!r.branches.size?(this._root=null,this._numLeafs=0,!0):(this._numLeafs-=$5e(t),!0):!1}clear(){this._numLeafs=0,this._root=null}},U5e=(e,t,r)=>{var n;if(e==null)return;if(r==null||(n=r.onNodeVisit)===null||n===void 0||n.call(r,e),e.type==="leaf")return e;let i=t(e.nodeKey);return U5e(e.branches.get(i),t,r)},NU=(e,t,r,n,i,o)=>{var u;let p;if(e==null){if(t.length===0)p={type:"leaf",value:n,parent:r,branchKey:i};else{let[h,...y]=t,[_,E]=h;p={type:"branch",nodeKey:_,parent:r,branches:new Map,branchKey:i},p.branches.set(E,NU(null,y,p,n,E,o))}}else if(p=e,t.length){let[h,...y]=t,[_,E]=h;e.type==="branch"&&e.nodeKey===_||lA(!1),e.branches.set(E,NU(e.branches.get(E),y,e,n,E,o))}return o==null||(u=o.onNodeVisit)===null||u===void 0||u.call(o,p),p},d$t=(e,t,r)=>r?(r.branches.delete(t.branchKey),V5e(e,r,r.parent)):e===t,V5e=(e,t,r)=>r?(t.branches.size===0&&r.branches.delete(t.branchKey),V5e(e,r,r.parent)):e===t,$5e=e=>e.type==="leaf"?1:Array.from(e.branches.values()).reduce((t,r)=>t+$5e(r),0),p$t={TreeCache:DU},f$t=p$t.TreeCache,H5e=Object.freeze({__proto__:null,TreeCache:f$t}),kU=class{constructor(t){var r;yn(this,"_maxSize",void 0),yn(this,"_size",void 0),yn(this,"_head",void 0),yn(this,"_tail",void 0),yn(this,"_map",void 0),yn(this,"_keyMapper",void 0),this._maxSize=t.maxSize,this._size=0,this._head=null,this._tail=null,this._map=new Map,this._keyMapper=(r=t.mapKey)!==null&&r!==void 0?r:n=>n}head(){return this._head}tail(){return this._tail}size(){return this._size}maxSize(){return this._maxSize}has(t){return this._map.has(this._keyMapper(t))}get(t){let r=this._keyMapper(t),n=this._map.get(r);if(n)return this.set(t,n.value),n.value}set(t,r){let n=this._keyMapper(t);this._map.get(n)&&this.delete(t);let o=this.head(),u={key:t,right:o,left:null,value:r};o?o.left=u:this._tail=u,this._map.set(n,u),this._head=u,this._size++,this._maybeDeleteLRU()}_maybeDeleteLRU(){this.size()>this.maxSize()&&this.deleteLru()}deleteLru(){let t=this.tail();t&&this.delete(t.key)}delete(t){let r=this._keyMapper(t);if(!this._size||!this._map.has(r))return;let n=jn(this._map.get(r)),i=n.right,o=n.left;i&&(i.left=n.left),o&&(o.right=n.right),n===this.head()&&(this._head=i),n===this.tail()&&(this._tail=o),this._map.delete(r),this._size--}clear(){this._size=0,this._head=null,this._tail=null,this._map=new Map}},h$t={LRUCache:kU},m$t=h$t.LRUCache,W5e=Object.freeze({__proto__:null,LRUCache:m$t}),{LRUCache:g$t}=W5e,{TreeCache:v$t}=H5e;function y$t(e,t=r=>r){let r=new g$t({maxSize:e}),n=new v$t({mapNodeValue:t,onHit:i=>{r.set(i,!0)},onSet:i=>{let o=r.tail();r.set(i,!0),o&&n.size()>e&&n.delete(o.key)}});return n}var ZCe=y$t,{TreeCache:_$t}=H5e,Z5={equality:"reference",eviction:"keep-all",maxSize:1/0};function b$t({equality:e=Z5.equality,eviction:t=Z5.eviction,maxSize:r=Z5.maxSize}=Z5){let n=x$t(e);return w$t(t,r,n)}function x$t(e){switch(e){case"reference":return t=>t;case"value":return t=>xA(t);}throw new Error(`Unrecognized equality policy ${e}`)}function w$t(e,t,r){switch(e){case"keep-all":return new _$t({mapNodeValue:r});case"lru":return ZCe(jn(t),r);case"most-recent":return ZCe(1,r);}throw new Error(`Unrecognized eviction policy ${e}`)}var S$t=b$t;function I$t(e){return()=>null}var E$t={startPerfBlock:I$t},{CANCELED:Fw,Canceled:T$t,loadableWithError:Bw,loadableWithPromise:M$t,loadableWithValue:bU}=Zw,{getNodeLoadable:KCe,peekNodeLoadable:C$t,setNodeValue:A$t}=s0,{saveDependencyMapToStore:P$t}=Kw,{DEFAULT_VALUE:O$t,RecoilValueNotReady:D$t,getConfigDeletionHandler:N$t,registerNode:XCe}=$l,{isRecoilValue:k$t}=$f,{AbstractRecoilValue:L$t}=$f,{setRecoilValueLoadable:q$t}=Fm,{retainedByOptionWithDefault:R$t}=Xw,{cloneSnapshot:z$t}=vA,{startPerfBlock:j$t}=E$t,Uw=[],K5=new Map,F$t=(()=>{let e=0;return()=>e++})();function B$t(){return{depValuesDiscoveredSoFarDuringAsyncWork:null,latestLoadable:null,latestExecutionId:null,stateVersion:null}}function U$t(e){let{key:t,get:r,cachePolicy_UNSTABLE:n}=e,i=e.set!=null?e.set:void 0,o=S$t(n!=null?n:{equality:"reference",eviction:"keep-all"}),u=R$t(e.retainedBy_UNSTABLE),p=new Map,h=0;function y(){return!ri("recoil_memory_managament_2020")||h>0}function _(De){return p.has(De)||p.set(De,B$t()),jn(p.get(De))}function E(De){return h++,De.getState().knownSelectors.add(t),()=>{h--,De.getState().knownSelectors.delete(t),p.delete(De)}}function T(){return N$t(t)!==void 0&&!y()}function N(De,he,ke){if(he.state==="loading"){let Te=K5.get(ke);Te==null&&K5.set(ke,Te=new Set),Te.add(De)}}function R(De,he){let ke=K5.get(he);if(ke!==void 0){for(let Te of ke)q$t(Te,new L$t(t),De);K5.delete(he)}}function j(De,he,ke){let Te=De.getState().knownSelectors.has(ke);if(Te&&he.atomValues.has(ke))return jn(he.atomValues.get(ke));let Qe=KCe(De,he,ke);return Qe.state!=="loading"&&Te&&he.atomValues.set(ke,Qe),Qe}function k(De,he,ke,Te,Qe){return he.then(Ye=>{if(!y())return Ue(De,Qe),Fw;let Ct=bU(Ye);return lt(ke,ge(Te),Ct),G(De,ke,new Set(Te.keys()),Qe),F(De,Ct,Qe),{__value:Ye,__key:t}}).catch(Ye=>{if(!y())return Ue(De,Qe),Fw;if(Re(De,Qe)&&dt(Te,De,Qe),Vi(Ye))return L(De,Ye,ke,Te,Qe);let Ct=Bw(Ye);throw lt(ke,ge(Te),Ct),G(De,ke,new Set(Te.keys()),Qe),F(De,Ct,Qe),Ye})}function L(De,he,ke,Te,Qe){return he.then(Ye=>{if(!y())return Ue(De,Qe),Fw;if(Ye instanceof T$t)return gc("Selector was released while it had dependencies"),Fw;let{__key:Ct,__value:yt}=Ye!=null?Ye:{},Nt=!0;Ct!=null&&(ke.atomValues.set(Ct,bU(yt)),Nt=!1);let we=ue(De,ke);if(we&&we.state==="hasValue")return qe(we,De),{__value:we.contents,__key:t};if(!Re(De,Qe)){var bt;let Yt=ze(ke);if((Yt==null||(bt=Yt.latestLoadable)===null||bt===void 0?void 0:bt.state)==="loading")return Yt.latestLoadable.contents}let[Ft,vt]=ae(De,ke,Qe,Nt);if(Re(De,Qe)&&dt(vt,De,Qe),Pe(Ft),Ft.state!=="loading"&&(lt(ke,ge(vt),Ft),G(De,ke,new Set(vt.keys()),Qe),F(De,Ft,Qe)),Ft.state==="hasError")throw Ft.contents;return Ft.state==="hasValue"?{__value:Ft.contents,__key:t}:Ft.contents}).catch(Ye=>{if(!y())return Ue(De,Qe),Fw;let Ct=Bw(Ye);throw lt(ke,ge(Te),Bw(Ye)),G(De,ke,new Set(Te.keys()),Qe),F(De,Ct,Qe),Ye})}function F(De,he,ke){Re(De,ke)&&(qe(he,De),R(he,ke))}function G(De,he,ke,Te){var Qe,Ye,Ct,yt;if(Re(De,Te)||he.version===((Qe=De.getState())===null||Qe===void 0||(Ye=Qe.currentTree)===null||Ye===void 0?void 0:Ye.version)||he.version===((Ct=De.getState())===null||Ct===void 0||(yt=Ct.nextTree)===null||yt===void 0?void 0:yt.version)){var Nt,we,bt;P$t(new Map([[t,ke]]),De,(Nt=(we=De.getState())===null||we===void 0||(bt=we.nextTree)===null||bt===void 0?void 0:bt.version)!==null&&Nt!==void 0?Nt:De.getState().currentTree.version)}}function ee(De,he,ke,Te,Qe){ke.add(Te),G(De,he,ke,Qe)}function ae(De,he,ke,Te=!1){let Qe=j$t(t),Ye,Ct=!1,yt,Nt=new Map,we=new Set;G(De,he,we,ke);function bt(Yt){let{key:Or}=Yt;ee(De,he,we,Or,ke);let Wt=Te?KCe(De,he,Or):j(De,he,Or);if(Pe(Wt),Nt.set(Or,Wt),Wt.state==="hasValue")return Wt.contents;throw Wt.contents}let Ft=!1,vt=Yt=>(...Or)=>{if(!Ft)throw new Error("getCallback() should only be called asynchronously after the selector is evalutated.  It can be used for selectors to return objects with callbacks that can obtain the current Recoil state without a subscription.");let Wt=z$t(De),hr=Yt({snapshot:Wt});if(typeof hr!="function")throw new Error("getCallback() expects a function that returns a function.");return hr(...Or)};try{Ye=r({get:bt,getCallback:vt}),Ye=k$t(Ye)?bt(Ye):Ye,Ft=!0,Vi(Ye)?Ye=k(De,Ye,he,Nt,ke).finally(Qe):Qe()}catch(Yt){Ye=Yt,Vi(Ye)?Ye=L(De,Ye,he,Nt,ke).finally(Qe):(Ct=!0,Qe())}return Ct?yt=Bw(Ye):Vi(Ye)?yt=M$t(Ye):yt=bU(Ye),Pe(yt),[yt,Nt]}function ue(De,he){let ke=new Set,Te=_(De),Qe=o.get(Ye=>(typeof Ye!="string"&&lA(!1),j(De,he,Ye).contents),{onNodeVisit:Ye=>{Ye.type==="branch"&&Ye.nodeKey!==t&&typeof Ye.nodeKey=="string"&&ke.add(Ye.nodeKey)}});return Qe&&G(De,he,ke,Te.latestExecutionId),Qe}function ge(De){return Array.from(De.entries()).map(([he,ke])=>[he,ke.contents])}function Oe(De,he){let ke=F$t(),[Te,Qe]=ae(De,he,ke);return qe(Te,De,Qe,ke,he),Je(he,ge(Qe),Te),N(De,Te,ke),Te}function _e(De,he){let ke=ue(De,he);if(ke!=null)return qe(ke,De),ke;let Te=ze(he);if(Te){let Qe=Te;return N(De,jn(Qe.latestLoadable),jn(Qe.latestExecutionId)),jn(Qe.latestLoadable)}return Oe(De,he)}function ze(De){var he;let[,ke]=(he=Array.from(p.entries()).find(([Te,Qe])=>Qe.latestLoadable!=null&&Qe.latestExecutionId!=null&&!$e(Te,De)))!==null&&he!==void 0?he:[];return ke}let We=new Map;function $e(De,he){var ke,Te;let Qe=_(De),Ye=(ke=Qe.depValuesDiscoveredSoFarDuringAsyncWork)!==null&&ke!==void 0?ke:new Map,Ct=Array(((Te=We.get(he.version))!==null&&Te!==void 0?Te:new Map).entries()),yt=We.has(he.version)&&Ct.length===Ye.size&&Ct.every(([Nt,we])=>Ye.get(Nt)===we);return Ye==null||he.version===Qe.stateVersion||yt?!1:(We.set(he.version,new Map(Ye)),Array.from(Ye).some(([Nt,we])=>j(De,he,Nt).contents!==we.contents))}function qe(De,he,ke,Te,Qe){let Ye=_(he);De.state==="loading"?(Ye.depValuesDiscoveredSoFarDuringAsyncWork=ke,Ye.latestExecutionId=Te,Ye.latestLoadable=De,Ye.stateVersion=Qe==null?void 0:Qe.version):(Ye.depValuesDiscoveredSoFarDuringAsyncWork=null,Ye.latestExecutionId=null,Ye.latestLoadable=null,Ye.stateVersion=null)}function Je(De,he,ke){ke.state!=="loading"&&lt(De,he,ke)}function dt(De,he,ke){let Te=_(he);Re(he,ke)&&(Te.depValuesDiscoveredSoFarDuringAsyncWork=De)}function Ue(De,he){Re(De,he)&&p.delete(De)}function Re(De,he){let ke=_(De);return he===ke.latestExecutionId}function Pe(De){De.state!=="loading"&&(De.contents,void 0)}function et(De){}function lt(De,he,ke){De.atomValues.set(t,ke),o.set(he,ke)}function ut(De){if(Uw.includes(t)){let he=`Recoil selector has circular dependencies: ${Uw.slice(Uw.indexOf(t)).join(" \u2192 ")}`;return Bw(new Error(he))}Uw.push(t);try{return De()}finally{Uw.pop()}}function Fe(De,he){return o.get(Te=>{typeof Te!="string"&&lA(!1);let Qe=C$t(De,he,Te);return Qe==null?void 0:Qe.contents})}function Ge(De,he){return ut(()=>_e(De,he))}function ot(De){De.atomValues.delete(t)}return i!=null?XCe({key:t,nodeType:"selector",peek:Fe,get:Ge,set:(he,ke,Te)=>{let Qe=!1,Ye=new Map;function Ct({key:bt}){if(Qe)throw new Error("Recoil: Async selector sets are not currently supported.");let Ft=j(he,ke,bt);if(Pe(Ft),Ft.state==="hasValue")return Ft.contents;throw Ft.state==="loading"?new D$t(bt):Ft.contents}function yt(bt,Ft){if(Qe)throw new Error("Recoil: Async selector sets are not currently supported.");let vt=typeof Ft=="function"?Ft(Ct(bt)):Ft;A$t(he,ke,bt.key,vt).forEach((Or,Wt)=>Ye.set(Wt,Or))}function Nt(bt){yt(bt,O$t)}let we=i({set:yt,get:Ct,reset:Nt},Te);if(we!==void 0)throw Vi(we)?new Error("Recoil: Async selector sets are not currently supported."):new Error("Recoil: selector set should be a void function.");return Qe=!0,Ye},init:E,invalidate:ot,shouldDeleteConfigOnRelease:T,dangerouslyAllowMutability:e.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:u}):XCe({key:t,nodeType:"selector",peek:Fe,get:Ge,init:E,invalidate:ot,shouldDeleteConfigOnRelease:T,dangerouslyAllowMutability:e.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:u})}var dA=U$t,{loadableWithError:QCe,loadableWithPromise:JCe,loadableWithValue:Vw}=Zw,{DEFAULT_VALUE:zm,DefaultValue:r0,getConfigDeletionHandler:G5e,registerNode:V$t,setConfigDeletionHandler:$$t}=$l,{isRecoilValue:H$t}=$f,{markRecoilValueModified:W$t,setRecoilValue:e5e,setRecoilValueLoadable:G$t}=Fm,{retainedByOptionWithDefault:Y$t}=Xw;function Z$t(e){let{key:t,persistence_UNSTABLE:r}=e,n=Y$t(e.retainedBy_UNSTABLE),i=0,o=Vi(e.default)?JCe(e.default.then(k=>(o=Vw(k),{__key:t,__value:k})).catch(k=>{throw o=QCe(k),k})):Vw(e.default),u,p=new Map;function h(k,L){let F=L.then(G=>{var ee,ae;return((ae=((ee=k.getState().nextTree)!==null&&ee!==void 0?ee:k.getState().currentTree).atomValues.get(t))===null||ae===void 0?void 0:ae.contents)===F&&e5e(k,j,G),{__key:t,__value:G}}).catch(G=>{var ee,ae;throw((ae=((ee=k.getState().nextTree)!==null&&ee!==void 0?ee:k.getState().currentTree).atomValues.get(t))===null||ae===void 0?void 0:ae.contents)===F&&G$t(k,j,QCe(G)),G});return F}function y(k,L,F){i++;let G=k.getState().knownAtoms.has(t);if(k.getState().knownAtoms.add(t),o.state==="loading"){let _e=()=>{var ze;((ze=k.getState().nextTree)!==null&&ze!==void 0?ze:k.getState().currentTree).atomValues.has(t)||W$t(k,j)};o.contents.then(_e).catch(_e)}let ee=zm,ae=null;if(e.effects_UNSTABLE!=null&&!G){let _e=!0,ze=qe=>Je=>{if(_e){let dt=ee instanceof r0||Vi(ee)?o.state==="hasValue"?o.contents:zm:ee;ee=typeof Je=="function"?Je(dt):Je,Vi(ee)&&(ee=ee.then(Ue=>(ae={effect:qe,value:Ue},Ue)))}else{if(Vi(Je))throw new Error("Setting atoms to async values is not implemented.");typeof Je!="function"&&(ae={effect:qe,value:Je}),e5e(k,j,typeof Je=="function"?dt=>{let Ue=Je(dt);return ae={effect:qe,value:Ue},Ue}:Je)}},We=qe=>()=>ze(qe)(zm),$e=qe=>Je=>{k.subscribeToTransactions(dt=>{var Ue;let{currentTree:Re,previousTree:Pe}=dt.getState();Pe||(gc("Transaction subscribers notified without a next tree being present -- this is a bug in Recoil"),Pe=Re);let et=(Ue=Re.atomValues.get(t))!==null&&Ue!==void 0?Ue:o;if(et.state==="hasValue"){var lt,ut,Fe,Ge;let ot=et.contents,De=(lt=Pe.atomValues.get(t))!==null&&lt!==void 0?lt:o,he=De.state==="hasValue"?De.contents:zm;((ut=ae)===null||ut===void 0?void 0:ut.effect)!==qe||((Fe=ae)===null||Fe===void 0?void 0:Fe.value)!==ot?Je(ot,he):((Ge=ae)===null||Ge===void 0?void 0:Ge.effect)===qe&&(ae=null)}},t)};for(let qe of(ue=e.effects_UNSTABLE)!==null&&ue!==void 0?ue:[]){var ue;let Je=qe({node:j,trigger:F,setSelf:ze(qe),resetSelf:We(qe),onSet:$e(qe)});if(Je!=null){var ge;p.set(k,[...((ge=p.get(k))!==null&&ge!==void 0?ge:[]),Je])}}_e=!1}if(!(ee instanceof r0)){var Oe;let _e=Vi(ee)?JCe(h(k,ee)):Vw(ee);L.atomValues.set(t,_e),(Oe=k.getState().nextTree)===null||Oe===void 0||Oe.atomValues.set(t,_e)}return()=>{var _e;i--,(_e=p.get(k))===null||_e===void 0||_e.forEach(ze=>ze()),p.delete(k),k.getState().knownAtoms.delete(t)}}function _(k,L){var F,G,ee;return(F=(G=L.atomValues.get(t))!==null&&G!==void 0?G:(ee=u)===null||ee===void 0?void 0:ee[1])!==null&&F!==void 0?F:o}function E(k,L){if(L.atomValues.has(t))return jn(L.atomValues.get(t));if(L.nonvalidatedAtoms.has(t)){if(u!=null)return u;if(r==null)return UU(`Tried to restore a persisted value for atom ${t} but it has no persistence settings.`),o;let F=L.nonvalidatedAtoms.get(t),G=r.validator(F,zm);return u=G instanceof r0?o:Vw(G),u}else return o}function T(){u=void 0}function N(k,L,F){if(L.atomValues.has(t)){let G=jn(L.atomValues.get(t));if(G.state==="hasValue"&&F===G.contents)return new Map}else if(!L.nonvalidatedAtoms.has(t)&&F instanceof r0)return new Map;return u=void 0,new Map().set(t,Vw(F))}function R(){return G5e(t)!==void 0&&i<=0}let j=V$t({key:t,nodeType:"atom",peek:_,get:E,set:N,init:y,invalidate:T,shouldDeleteConfigOnRelease:R,dangerouslyAllowMutability:e.dangerouslyAllowMutability,persistence_UNSTABLE:e.persistence_UNSTABLE?{type:e.persistence_UNSTABLE.type,backButton:e.persistence_UNSTABLE.backButton}:void 0,shouldRestoreFromSnapshots:!0,retainedBy:n});return j}function Y5e(e){let n=e,{default:t}=n,r=Rn(n,["default"]);return H$t(t)?K$t(xr(Ze({},r),{default:t})):Z$t(xr(Ze({},r),{default:t}))}function K$t(e){let t=Y5e(xr(Ze({},e),{default:zm,persistence_UNSTABLE:e.persistence_UNSTABLE===void 0?void 0:xr(Ze({},e.persistence_UNSTABLE),{validator:n=>n instanceof r0?n:jn(e.persistence_UNSTABLE).validator(n,zm)}),effects_UNSTABLE:e.effects_UNSTABLE})),r=dA({key:`${e.key}__withFallback`,get:({get:n})=>{let i=n(t);return i instanceof r0?e.default:i},set:({set:n},i)=>n(t,i),dangerouslyAllowMutability:e.dangerouslyAllowMutability});return $$t(r.key,G5e(e.key)),r}var Z5e=Y5e,LU=class{constructor(t){var r;yn(this,"_map",void 0),yn(this,"_keyMapper",void 0),this._map=new Map,this._keyMapper=(r=t==null?void 0:t.mapKey)!==null&&r!==void 0?r:n=>n}size(){return this._map.size}has(t){return this._map.has(this._keyMapper(t))}get(t){return this._map.get(this._keyMapper(t))}set(t,r){this._map.set(this._keyMapper(t),r)}delete(t){this._map.delete(this._keyMapper(t))}clear(){this._map.clear()}},X$t={MapCache:LU},Q$t=X$t.MapCache,J$t=Object.freeze({__proto__:null,MapCache:Q$t}),{LRUCache:t5e}=W5e,{MapCache:eHt}=J$t,X5={equality:"reference",eviction:"none",maxSize:1/0};function tHt({equality:e=X5.equality,eviction:t=X5.eviction,maxSize:r=X5.maxSize}=X5){let n=rHt(e);return nHt(t,r,n)}function rHt(e){switch(e){case"reference":return t=>t;case"value":return t=>xA(t);}throw new Error(`Unrecognized equality policy ${e}`)}function nHt(e,t,r){switch(e){case"keep-all":return new eHt({mapKey:r});case"lru":return new t5e({mapKey:r,maxSize:jn(t)});case"most-recent":return new t5e({mapKey:r,maxSize:1});}throw new Error(`Unrecognized eviction policy ${e}`)}var K5e=tHt,{setConfigDeletionHandler:iHt}=$l;function oHt(e){var t,r;let n=K5e({equality:(t=(r=e.cachePolicyForParams_UNSTABLE)===null||r===void 0?void 0:r.equality)!==null&&t!==void 0?t:"value",eviction:"keep-all"});return i=>{var o;let u=n.get(i);if(u!=null)return u;let _=e,{cachePolicyForParams_UNSTABLE:p}=_,h=Rn(_,["cachePolicyForParams_UNSTABLE"]),y=Z5e(xr(Ze({},h),{key:`${e.key}__${(o=xA(i))!==null&&o!==void 0?o:"void"}`,default:typeof e.default=="function"?e.default(i):e.default,retainedBy_UNSTABLE:typeof e.retainedBy_UNSTABLE=="function"?e.retainedBy_UNSTABLE(i):e.retainedBy_UNSTABLE,effects_UNSTABLE:typeof e.effects_UNSTABLE=="function"?e.effects_UNSTABLE(i):e.effects_UNSTABLE}));return n.set(i,y),iHt(y.key,()=>{n.delete(i)}),y}}var aHt=oHt,{setConfigDeletionHandler:sHt}=$l,lHt=0;function uHt(e){var t,r;let n=K5e({equality:(t=(r=e.cachePolicyForParams_UNSTABLE)===null||r===void 0?void 0:r.equality)!==null&&t!==void 0?t:"value",eviction:"keep-all"});return i=>{var o;let u=n.get(i);if(u!=null)return u;let p=`${e.key}__selectorFamily/${(o=xA(i,{allowFunctions:!0}))!==null&&o!==void 0?o:"void"}/${lHt++}`,h=T=>e.get(i)(T),y=e.cachePolicy_UNSTABLE,_=typeof e.retainedBy_UNSTABLE=="function"?e.retainedBy_UNSTABLE(i):e.retainedBy_UNSTABLE,E;if(e.set!=null){let T=e.set;E=dA({key:p,get:h,set:(R,j)=>T(i)(R,j),cachePolicy_UNSTABLE:y,dangerouslyAllowMutability:e.dangerouslyAllowMutability,retainedBy_UNSTABLE:_})}else E=dA({key:p,get:h,cachePolicy_UNSTABLE:y,dangerouslyAllowMutability:e.dangerouslyAllowMutability,retainedBy_UNSTABLE:_});return n.set(i,E),sHt(E.key,()=>{n.delete(i)}),E}}var Hf=uHt,cHt=Hf({key:"__constant",get:e=>()=>e,cachePolicyForParams_UNSTABLE:{equality:"reference"}});function dHt(e){return cHt(e)}var pHt=dHt,fHt=Hf({key:"__error",get:e=>()=>{throw new Error(e)},cachePolicyForParams_UNSTABLE:{equality:"reference"}});function hHt(e){return fHt(e)}var mHt=hHt;function gHt(e){return e}var vHt=gHt,{loadableWithError:X5e,loadableWithPromise:Q5e,loadableWithValue:J5e}=Zw;function wA(e,t){let r=Array(t.length).fill(void 0),n=Array(t.length).fill(void 0);for(let[i,o]of t.entries())try{r[i]=e(o)}catch(u){n[i]=u}return[r,n]}function yHt(e){return e!=null&&!Vi(e)}function SA(e){return Array.isArray(e)?e:Object.getOwnPropertyNames(e).map(t=>e[t])}function oV(e){return e!=null&&typeof e=="object"&&e.hasOwnProperty("__value")?e.__value:e}function qU(e,t){return Array.isArray(e)?t:Object.getOwnPropertyNames(e).reduce((r,n,i)=>xr(Ze({},r),{[n]:t[i]}),{})}function i0(e,t,r){let n=r.map((i,o)=>i==null?J5e(t[o]):Vi(i)?Q5e(i):X5e(i));return qU(e,n)}function _Ht(e,t){return t.map((r,n)=>r===void 0?e[n]:r)}var bHt=Hf({key:"__waitForNone",get:e=>({get:t})=>{let r=SA(e),[n,i]=wA(t,r);return i0(e,n,i)},dangerouslyAllowMutability:!0}),xHt=Hf({key:"__waitForAny",get:e=>({get:t})=>{let r=SA(e),[n,i]=wA(t,r);return i.some(o=>!Vi(o))?i0(e,n,i):new Promise(o=>{for(let[u,p]of i.entries())Vi(p)&&p.then(h=>{n[u]=oV(h),i[u]=void 0,o(i0(e,n,i))}).catch(h=>{i[u]=h,o(i0(e,n,i))})})},dangerouslyAllowMutability:!0}),wHt=Hf({key:"__waitForAll",get:e=>({get:t})=>{let r=SA(e),[n,i]=wA(t,r);if(i.every(u=>u==null))return qU(e,n);let o=i.find(yHt);if(o!=null)throw o;return Promise.all(i).then(u=>qU(e,_Ht(n,u).map(oV)))},dangerouslyAllowMutability:!0}),SHt=Hf({key:"__waitForAllSettled",get:e=>({get:t})=>{let r=SA(e),[n,i]=wA(t,r);return i.every(o=>!Vi(o))?i0(e,n,i):Promise.all(i.map((o,u)=>Vi(o)?o.then(p=>{n[u]=oV(p),i[u]=void 0}).catch(p=>{n[u]=void 0,i[u]=p}):null)).then(()=>i0(e,n,i))},dangerouslyAllowMutability:!0}),IHt=Hf({key:"__noWait",get:e=>({get:t})=>{try{return J5e(t(e))}catch(r){return Vi(r)?Q5e(r):X5e(r)}},dangerouslyAllowMutability:!0}),EHt={waitForNone:bHt,waitForAny:xHt,waitForAll:wHt,waitForAllSettled:SHt,noWait:IHt},{batchUpdates:THt,setBatcher:MHt}=GU,{DefaultValue:CHt}=$l,{RecoilRoot:AHt}=yA,{isRecoilValue:PHt}=$f,{retentionZone:OHt}=fA,{freshSnapshot:DHt}=vA,{useGotoRecoilSnapshot:NHt,useRecoilCallback:kHt,useRecoilSnapshot:LHt,useRecoilState:qHt,useRecoilStateLoadable:RHt,useRecoilTransaction:zHt,useRecoilTransactionObserver:jHt,useRecoilValue:FHt,useRecoilValueLoadable:BHt,useResetRecoilState:UHt,useRetain:VHt,useSetRecoilState:$Ht,useSetUnvalidatedAtomValues:HHt,useTransactionObservation_DEPRECATED:WHt}=e$t,{noWait:GHt,waitForAll:YHt,waitForAllSettled:ZHt,waitForAny:KHt,waitForNone:XHt}=EHt,hn={DefaultValue:CHt,RecoilRoot:AHt,useRecoilBridgeAcrossReactRoots_UNSTABLE:u$t,atom:Z5e,selector:dA,retentionZone:OHt,atomFamily:aHt,selectorFamily:Hf,constSelector:pHt,errorSelector:mHt,readOnlySelector:vHt,useRecoilValue:FHt,useRecoilValueLoadable:BHt,useRecoilState:qHt,useRecoilStateLoadable:RHt,useSetRecoilState:$Ht,useResetRecoilState:UHt,useGetRecoilValueInfo_UNSTABLE:i$t,useRetain:VHt,useRecoilCallback:kHt,useRecoilTransaction_UNSTABLE:zHt,useGotoRecoilSnapshot:NHt,useRecoilSnapshot:LHt,useRecoilTransactionObserver_UNSTABLE:jHt,useTransactionObservation_UNSTABLE:WHt,useSetUnvalidatedAtomValues_UNSTABLE:HHt,noWait:GHt,waitForNone:XHt,waitForAny:KHt,waitForAll:YHt,waitForAllSettled:ZHt,isRecoilValue:PHt,batchUpdates:THt,setBatcher:MHt,snapshot_UNSTABLE:DHt},_3r=hn.DefaultValue,eAe=hn.RecoilRoot,b3r=hn.useRecoilBridgeAcrossReactRoots_UNSTABLE,pn=hn.atom,IA=hn.selector,x3r=hn.retentionZone,w3r=hn.atomFamily,S3r=hn.selectorFamily,I3r=hn.constSelector,E3r=hn.errorSelector,T3r=hn.readOnlySelector,mr=hn.useRecoilValue,M3r=hn.useRecoilValueLoadable,In=hn.useRecoilState,C3r=hn.useRecoilStateLoadable,Ci=hn.useSetRecoilState,A3r=hn.useResetRecoilState,P3r=hn.useGetRecoilValueInfo_UNSTABLE,O3r=hn.useRetain,tAe=hn.useRecoilCallback,D3r=hn.useRecoilTransaction_UNSTABLE,N3r=hn.useGotoRecoilSnapshot,k3r=hn.useRecoilSnapshot,L3r=hn.useRecoilTransactionObserver_UNSTABLE,q3r=hn.useTransactionObservation_UNSTABLE,R3r=hn.useSetUnvalidatedAtomValues_UNSTABLE,z3r=hn.noWait,j3r=hn.waitForNone,F3r=hn.waitForAny,B3r=hn.waitForAll,U3r=hn.waitForAllSettled,V3r=hn.isRecoilValue,$3r=hn.batchUpdates,H3r=hn.setBatcher,W3r=hn.snapshot_UNSTABLE;var Ql=re(Be(),1),Du=re(Gt(),1);function uAe(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=uAe(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function eWt(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=uAe(e))&&(n&&(n+=" "),n+=t);return n}var vr=eWt;var Mu=re(Qw(),1);var g3e=re(Um(),1);var d0={EN:"en",DE:"de"},YWt=typeof process!="undefined"&&er(process.env.DEV_MODE_SECRET)&&process.env.DEV_MODE_SECRET!==""&&er(process.env.DEV_MODE_NAME)&&process.env.DEV_MODE_NAME!=="",DA=()=>({"Dev-Mode-Secret":process.env.DEV_MODE_SECRET,"Dev-Mode-Name":process.env.DEV_MODE_NAME}),Xa={BASEMAPS:[{id:"slub-osm",label:"SLUB OSM",urls:["https://tile-2.kartenforum.slub-dresden.de/styles/maptiler-basic-v2/style.json"],type:"vector",tileSize:512},{id:"bkg-topoplus",label:"BKG TopPlusOpen",urls:["https://sgx.geodatenzentrum.de/wms_topplus_open"],type:"wms",layers:"web",tileSize:512}],ENABLE_TILE_PRELOADING:!1,LANGUAGE_CODE:d0.EN,MARKER_IMAGE_ID:"marker",USERNAME:"anonymous",USER_ISAUTHENTICATED:!1,USER_ROLE:null},Ar={axiosApiInstance:null,appendSettings(e){Xa=Object.assign({},Xa,e)},getSettings(){return Xa},getBaseMaps(){return Xa.BASEMAPS},getDefaultBaseMapUrls(){return["https://tile-1.kartenforum.slub-dresden.de/styles/maptiler-basic-v2/{z}/{x}/{y}.png","https://tile-2.kartenforum.slub-dresden.de/styles/maptiler-basic-v2/{z}/{x}/{y}.png"]},getDefaultMapView(){return Object.assign({center:[14.9928,51.1463],zoom:6.3,maxZoom:19,minZoom:0},Xa.MAPVIEW_PARAMS)},getLanguageDict(){return Xa.dictionary},getMin3DZoomLevel(){return 9},getNominatimUrl(){return Xa.NOMINATIM_URL},getTerrain(){return Object.assign({url:"https://terrain.kartenforum.slub-dresden.de/v2/{z}/{x}/{y}.png",attribution:"<a href='https://kartenforum.slub-dresden.de/attribution' target='_blank'>\xA9 U.S. Geological Survey and others</a>",exaggeration:1,minZoom:0,maxZoom:12},Xa.TERRAIN_TILES)},getUsername(){return Xa.USERNAME},isUserAuthenticated(){return Xa.USER_ISAUTHENTICATED===!0},updateSettings(e){Xa=e},_initAxiosApiInstance(){let e=Xa.API_GEOREFERENCE_BASEURL,t=NA(e)&&e.length===0;if(!er(e)||t)throw new Error("The URL for the georeference service is not set.");let r=Object.assign({baseURL:e,withCredentials:!0},YWt?{headers:{get:DA(),post:DA(),put:DA(),delete:DA()}}:{});this.axiosApiInstance=g3e.default.create(r)},getGeoreferenceApiClient(){return er(this.axiosApiInstance)?this.axiosApiInstance:(this._initAxiosApiInstance(),this.axiosApiInstance)},getMarkerSettings(){let e=Xa.MARKER_URL;if(!er(e))throw new Error("The marker icon url is not set.");return{id:Xa.MARKER_IMAGE_ID,url:e}},getUserRole(){return Xa.USER_ROLE}};var ZWt="vkf-unique-control-panel",CV="basemap-selector",MV=class{constructor(){Xe(this,"id",CV)}onAdd(t){this._map=t;let r=`maplibregl-ctrl maplibregl-ctrl-group basemap-selector ${ZWt}`,n=document.createElement("div");return n.className=r,this._container=n,n}onRemove(){this._container.parentNode.removeChild(this._container),this._map=void 0}},v3e=MV;var Vm=re(M3e(),1);var C3e=(e,t="control-feedback-container")=>{let r=document.getElementById(t);if(r===null){let n=e.getCanvasContainer();r=document.createElement("div"),r.id=t,n.appendChild(r)}return r};var kA=3,A3e=e=>`${(0,Vm.default)(e[0],7)},${(0,Vm.default)(e[1],7)}`,LA=class{constructor(){Xe(this,"buttonCopyPosition");Xe(this,"textElCurrentPosition");Xe(this,"textElSavedPosition");Xe(this,"targetEl");Xe(this,"_container");Xe(this,"_button");Xe(this,"savedPosition");Xe(this,"generateSavedText",()=>{if(this.savedPosition===void 0)return this.buttonCopyPosition!==void 0&&(this.buttonCopyPosition.style.display="none"),it("control-mouseposition-save-helper");{let t=it("control-mouseposition-saved-label");return this.buttonCopyPosition!==void 0&&(this.buttonCopyPosition.style.display="block"),t+": Lon: "+(0,Vm.default)(this.savedPosition[0],kA)+" Lat: "+(0,Vm.default)(this.savedPosition[1],kA)}});Xe(this,"savePosition",t=>{if(this._map){let r=t.lngLat.toArray();this.savedPosition=r.slice(),navigator.clipboard.writeText(A3e(r)),this.updatePosition(t)}});Xe(this,"updatePosition",t=>{let r=this.textElCurrentPosition,n=this.textElSavedPosition,{lngLat:i}=t;r.innerHTML="Lon: "+(0,Vm.default)(i.lng,kA)+", Lat: "+(0,Vm.default)(i.lat,kA),n.innerHTML=this.generateSavedText()});Xe(this,"handleCopyButtonClick",t=>{t.preventDefault(),t.stopPropagation();let r=this.savedPosition;r!==void 0&&navigator.clipboard.writeText(A3e(r)),t.target.blur()});Xe(this,"toggleMousePosition",t=>{t.preventDefault();let r="active",n=this._button.classList.contains(r),i=this._map;if(!i)return;this._button.classList.toggle(r);let o=this.targetEl,u=C3e(i);if(this.targetEl===void 0){o=document.createElement("div"),o.className="ol-control ol-mouse-position-box";let p=document.createElement("p");this.textElCurrentPosition=p;let h=document.createElement("p");this.textElSavedPosition=h;let y=document.createElement("button");y.id="position-copy-to-clipboard",y.innerHTML="<span class=\"glyphicon glyphicon-copy\"></span>",y.title=it("control-mouseposition-button-title"),this.buttonCopyPosition=y,y.addEventListener("click",this.handleCopyButtonClick);let _=document.createElement("div");_.className="saved-position-container",_.appendChild(h),_.appendChild(y),o.appendChild(p),o.appendChild(_),u.appendChild(o),this.targetEl=o}else this.textElCurrentPosition.innerHTML="",this.textElSavedPosition.innerHTML="";n?(i.off("mousemove",this.updatePosition),i.off("click",this.savePosition)):(this.savedPosition=void 0,i.on("mousemove",this.updatePosition),i.on("click",this.savePosition)),this.updatePosition({lngLat:i.unproject([t.clientX,t.clientY])}),o.classList.toggle(r),u.classList.toggle(`mouseposition-${r}`)})}onAdd(t){this._map=t;let r=document.createElement("div");r.className="maplibregl-ctrl maplibregl-ctrl-group";let n=document.createElement("button");return n.title=it("control-mouseposition-title"),n.className="maplibregl-ctrl-mouse-position",n.type="button",r.appendChild(n),this._container=r,this._button=n,n.addEventListener("click",this.toggleMousePosition,!1),this._container}onRemove(){this._map.off("mousemove",this.updatePosition),this._map.off("click",this.savePosition),this._map=null,this._container.parentNode.removeChild(this._container)}};function P3e(e,t){for(let r of e)typeof t[r]=="function"&&(t[r]=t[r].bind(t))}function p0(e,t,r){let n=window.document.createElement(e);return t!==void 0&&(n.className=t),r&&r.appendChild(n),n}function O3e(e){e.parentNode&&e.parentNode.removeChild(e)}var OV="permalink-control",PV=class{constructor(){Xe(this,"id",OV)}onAdd(t){return this._map=t,this._container=p0("div","maplibregl-ctrl maplibregl-ctrl-group permalink-control"),this._container}onRemove(){this._container.parentNode.removeChild(this._container),this._map=void 0}},D3e=PV;var qA=class{constructor(){Xe(this,"_map");Xe(this,"_container");Xe(this,"_terrainButton");P3e(["_toggleTerrain","_updateTerrainIcon"],this)}onAdd(t){return this._map=t,this._container=p0("div","maplibregl-ctrl maplibregl-ctrl-group"),this._terrainButton=p0("button","maplibregl-ctrl-terrain",this._container),p0("span","maplibregl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){O3e(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}_toggleTerrain(){this._map.hasTerrain()?this._map.disableTerrain():this._map.enableTerrain(),this._updateTerrainIcon()}_updateTerrainIcon(){this._terrainButton.classList.remove("maplibregl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled"),this._map.hasTerrain()?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.Disable")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.Enable"))}};function er(e){return e!=null}function NA(e){return typeof e=="string"||e instanceof String}function it(e){let t=Ar.getLanguageDict();if(t===void 0)throw new Error("Dictionary is undefined.");let r=t[e];return r===void 0?(console.warn(`Translation for key "${e}" was not found in dictionary.`),""):r}var N3e=()=>[{position:"top-left",control:new Mu.NavigationControl({showZoom:!0,showCompass:!1,visualizePitch:!1})},{position:"top-left",control:new Mu.FullscreenControl},{position:"top-left",control:new Mu.NavigationControl({showZoom:!1,showCompass:!0,visualizePitch:!0})},{position:"top-left",control:new LA},{position:"top-left",control:new qA},{position:"top-left",control:new v3e},{position:"top-left",control:new Mu.GeolocateControl({trackUserLocation:!0})},{position:"top-left",control:new D3e},{position:"bottom-right",control:new Mu.AttributionControl({compact:!0})},{position:"bottom-right",control:new Mu.ScaleControl({maxWidth:137})}];var Wf="vkf-terrain";var k3e=new Set(["fill-opacity","line-opacity","circle-opacity","icon-opacity","text-opacity","raster-opacity"]),L3e=new Set(["visibility"]),As={None:"NONE",BasemapSelector:"BASEMAP_SELECTOR",Permalink:"PERMALINK"},yc={controlAdded:"controlAdded",controlRemoved:"controlRemoved",opacityChanged:"opacityChanged",visibilityChanged:"visibilityChanged"};var q3e={NONE:0,FEATURE:1,METADATA:2,HISTORY:3},Gf={HORIZONTAL:"HORIZONTAL",VERTICAL:"VERTICAL"},R3e={STANDARD:"STANDARD",DRAW:"DRAW"};var z3e=e=>{switch(e){case Gf.HORIZONTAL:default:return"ol-map-large";case Gf.VERTICAL:return"ol-map-small";}};var f0=pn({key:"activeBasemapId",default:Ar.getSettings().BASEMAPS[0].id}),j3e=pn({key:"currentApplicationState",default:void 0}),RA=pn({key:"elementScreenSize",default:{map:{height:0,width:0}}}),F3e={facets:[],georeference:!1},Yf=pn({key:"facetState",default:{facets:[],georeference:!1}}),B3e=pn({key:"layoutState",default:Gf.VERTICAL}),NPr=pn({key:"horizontalLayoutModeState",default:R3e.STANDARD}),ni=pn({key:"mapState",default:void 0,dangerouslyAllowMutability:!0}),U3e=pn({key:"map3dState",default:!1}),zA=pn({key:"mapCountState",default:10}),jA=pn({key:"searchIsLoadingState",default:!1}),Ps=pn({key:"selectedLayersState",default:[],dangerouslyAllowMutability:!0}),kPr=pn({key:"selectedOriginalMapIdState",default:void 0}),DV=pn({key:"selectedGeoJsonLayerIdState",default:void 0}),mGt=pn({key:"selectedGeoJsonLayerLastUpdatedState",default:0}),LPr=IA({key:"selectedGeoJsonLayerState",get:({get:e})=>{let t=e(DV),r=e(Ps),n=e(mGt);return{selectedLayer:r.find(o=>o.getId()===t),lastUpdated:n}},dangerouslyAllowMutability:!0}),gGt=pn({key:"selectedGeoJsonFeatureIdentifierState",default:null}),V3e=IA({key:"isGeoJsonFeatureSelectedState",get:({get:e})=>{let t=e(gGt);if(!er(t))return!1;let{featureId:r,sourceId:n}=t;return er(r)&&er(n)}}),FA=pn({key:"timeExtentState",default:[1850,1970]}),NV=[1850,1970],BA=pn({key:"timeRangeState",default:NV}),UA=pn({key:"baseMapStyleLayersState",default:[]}),$3e=pn({key:"activeDialogState",default:As.None}),qPr=pn({key:"drawState",default:void 0}),RPr=pn({key:"editedGeojsonState",default:null}),zPr=pn({key:"metadataDrawState",default:null}),jPr=pn({key:"vectorMapState",default:null}),vGt=pn({key:"vectorMapActiveVersionDrawState",default:null}),FPr=IA({key:"isActiveVectorMapVersionDifferentState",get:({get:e})=>e(vGt)!==null}),BPr=pn({key:"showDropZoneState",default:!1}),UPr=pn({key:"addedFileState",default:null}),VPr=pn({key:"addGeoJsonDialogState",default:!1}),$Pr=pn({key:"drawModePanelState",default:q3e.NONE});var Au=re(Be(),1);var Hl=[];var H3e=function(){return Hl.some(function(e){return e.activeTargets.length>0})};var W3e=function(){return Hl.some(function(e){return e.skippedTargets.length>0})};var G3e="ResizeObserver loop completed with undelivered notifications.",Y3e=function(){var e;typeof ErrorEvent=="function"?e=new ErrorEvent("error",{message:G3e}):(e=document.createEvent("Event"),e.initEvent("error",!1,!1),e.message=G3e),window.dispatchEvent(e)};var $m;(function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})($m||($m={}));var Cu=function(e){return Object.freeze(e)};var kV=function(){function e(t,r){this.inlineSize=t,this.blockSize=r,Cu(this)}return e}();var LV=function(){function e(t,r,n,i){return this.x=t,this.y=r,this.width=n,this.height=i,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,Cu(this)}return e.prototype.toJSON=function(){var t=this,r=t.x,n=t.y,i=t.top,o=t.right,u=t.bottom,p=t.left,h=t.width,y=t.height;return{x:r,y:n,top:i,right:o,bottom:u,left:p,width:h,height:y}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}();var r2=function(e){return e instanceof SVGElement&&"getBBox"in e},VA=function(e){if(r2(e)){var t=e.getBBox(),r=t.width,n=t.height;return!r&&!n}var i=e,o=i.offsetWidth,u=i.offsetHeight;return!(o||u||e.getClientRects().length)},qV=function(e){var t;if(e instanceof Element)return!0;var r=(t=e==null?void 0:e.ownerDocument)===null||t===void 0?void 0:t.defaultView;return!!(r&&e instanceof r.Element)},Z3e=function(e){switch(e.tagName){case"INPUT":if(e.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0;}return!1};var Hm=typeof window!="undefined"?window:{};var $A=new WeakMap,K3e=/auto|scroll/,yGt=/^tb|vertical/,_Gt=/msie|trident/i.test(Hm.navigator&&Hm.navigator.userAgent),_c=function(e){return parseFloat(e||"0")},h0=function(e,t,r){return e===void 0&&(e=0),t===void 0&&(t=0),r===void 0&&(r=!1),new kV((r?t:e)||0,(r?e:t)||0)},X3e=Cu({devicePixelContentBoxSize:h0(),borderBoxSize:h0(),contentBoxSize:h0(),contentRect:new LV(0,0,0,0)}),RV=function(e,t){if(t===void 0&&(t=!1),$A.has(e)&&!t)return $A.get(e);if(VA(e))return $A.set(e,X3e),X3e;var r=getComputedStyle(e),n=r2(e)&&e.ownerSVGElement&&e.getBBox(),i=!_Gt&&r.boxSizing==="border-box",o=yGt.test(r.writingMode||""),u=!n&&K3e.test(r.overflowY||""),p=!n&&K3e.test(r.overflowX||""),h=n?0:_c(r.paddingTop),y=n?0:_c(r.paddingRight),_=n?0:_c(r.paddingBottom),E=n?0:_c(r.paddingLeft),T=n?0:_c(r.borderTopWidth),N=n?0:_c(r.borderRightWidth),R=n?0:_c(r.borderBottomWidth),j=n?0:_c(r.borderLeftWidth),k=E+y,L=h+_,F=j+N,G=T+R,ee=p?e.offsetHeight-G-e.clientHeight:0,ae=u?e.offsetWidth-F-e.clientWidth:0,ue=i?k+F:0,ge=i?L+G:0,Oe=n?n.width:_c(r.width)-ue-ae,_e=n?n.height:_c(r.height)-ge-ee,ze=Oe+k+ae+F,We=_e+L+ee+G,$e=Cu({devicePixelContentBoxSize:h0(Math.round(Oe*devicePixelRatio),Math.round(_e*devicePixelRatio),o),borderBoxSize:h0(ze,We,o),contentBoxSize:h0(Oe,_e,o),contentRect:new LV(E,h,Oe,_e)});return $A.set(e,$e),$e},HA=function(e,t,r){var n=RV(e,r),i=n.borderBoxSize,o=n.contentBoxSize,u=n.devicePixelContentBoxSize;switch(t){case $m.DEVICE_PIXEL_CONTENT_BOX:return u;case $m.BORDER_BOX:return i;default:return o;}};var zV=function(){function e(t){var r=RV(t);this.target=t,this.contentRect=r.contentRect,this.borderBoxSize=Cu([r.borderBoxSize]),this.contentBoxSize=Cu([r.contentBoxSize]),this.devicePixelContentBoxSize=Cu([r.devicePixelContentBoxSize])}return e}();var WA=function(e){if(VA(e))return 1/0;for(var t=0,r=e.parentNode;r;)t+=1,r=r.parentNode;return t};var Q3e=function(){var e=1/0,t=[];Hl.forEach(function(u){if(u.activeTargets.length!==0){var p=[];u.activeTargets.forEach(function(y){var _=new zV(y.target),E=WA(y.target);p.push(_),y.lastReportedSize=HA(y.target,y.observedBox),E<e&&(e=E)}),t.push(function(){u.callback.call(u.observer,p,u.observer)}),u.activeTargets.splice(0,u.activeTargets.length)}});for(var r=0,n=t;r<n.length;r++){var i=n[r];i()}return e};var jV=function(e){Hl.forEach(function(r){r.activeTargets.splice(0,r.activeTargets.length),r.skippedTargets.splice(0,r.skippedTargets.length),r.observationTargets.forEach(function(i){i.isActive()&&(WA(i.target)>e?r.activeTargets.push(i):r.skippedTargets.push(i))})})};var J3e=function(){var e=0;for(jV(e);H3e();)e=Q3e(),jV(e);return W3e()&&Y3e(),e>0};var FV,e4e=[],bGt=function(){return e4e.splice(0).forEach(function(e){return e()})},t4e=function(e){if(!FV){var t=0,r=document.createTextNode(""),n={characterData:!0};new MutationObserver(function(){return bGt()}).observe(r,n),FV=function(){r.textContent="".concat(t?t--:t++)}}e4e.push(e),FV()};var r4e=function(e){t4e(function(){requestAnimationFrame(e)})};var GA=0,xGt=function(){return!!GA},wGt=250,SGt={attributes:!0,characterData:!0,childList:!0,subtree:!0},n4e=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],i4e=function(e){return e===void 0&&(e=0),Date.now()+e},BV=!1,IGt=function(){function e(){var t=this;this.stopped=!0,this.listener=function(){return t.schedule()}}return e.prototype.run=function(t){var r=this;if(t===void 0&&(t=wGt),!BV){BV=!0;var n=i4e(t);r4e(function(){var i=!1;try{i=J3e()}finally{if(BV=!1,t=n-i4e(),!xGt())return;i?r.run(1e3):t>0?r.run(t):r.start()}})}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var t=this,r=function(){return t.observer&&t.observer.observe(document.body,SGt)};document.body?r():Hm.addEventListener("DOMContentLoaded",r)},e.prototype.start=function(){var t=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),n4e.forEach(function(r){return Hm.addEventListener(r,t.listener,!0)}))},e.prototype.stop=function(){var t=this;this.stopped||(this.observer&&this.observer.disconnect(),n4e.forEach(function(r){return Hm.removeEventListener(r,t.listener,!0)}),this.stopped=!0)},e}(),YA=new IGt,UV=function(e){!GA&&e>0&&YA.start(),GA+=e,!GA&&YA.stop()};var EGt=function(e){return!r2(e)&&!Z3e(e)&&getComputedStyle(e).display==="inline"},o4e=function(){function e(t,r){this.target=t,this.observedBox=r||$m.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var t=HA(this.target,this.observedBox,!0);return EGt(this.target)&&(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}();var a4e=function(){function e(t,r){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=t,this.callback=r}return e}();var ZA=new WeakMap,s4e=function(e,t){for(var r=0;r<e.length;r+=1)if(e[r].target===t)return r;return-1},n2=function(){function e(){}return e.connect=function(t,r){var n=new a4e(t,r);ZA.set(t,n)},e.observe=function(t,r,n){var i=ZA.get(t),o=i.observationTargets.length===0;s4e(i.observationTargets,r)<0&&(o&&Hl.push(i),i.observationTargets.push(new o4e(r,n&&n.box)),UV(1),YA.schedule())},e.unobserve=function(t,r){var n=ZA.get(t),i=s4e(n.observationTargets,r),o=n.observationTargets.length===1;i>=0&&(o&&Hl.splice(Hl.indexOf(n),1),n.observationTargets.splice(i,1),UV(-1))},e.disconnect=function(t){var r=this,n=ZA.get(t);n.observationTargets.slice().forEach(function(i){return r.unobserve(t,i.target)}),n.activeTargets.splice(0,n.activeTargets.length)},e}();var VV=function(){function e(t){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof t!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");n2.connect(this,t)}return e.prototype.observe=function(t,r){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!qV(t))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");n2.observe(this,t,r)},e.prototype.unobserve=function(t){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!qV(t))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");n2.unobserve(this,t)},e.prototype.disconnect=function(){n2.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}();var l4e=re(Be()),TGt=l4e.default[typeof document!="undefined"&&document.createElement!==void 0?"useLayoutEffect":"useEffect"],u4e=TGt;var KA=re(Be()),MGt=e=>{let t=KA.useRef(e);return KA.useEffect(()=>{t.current=e}),t},c4e=MGt;var CGt=typeof window!="undefined"&&"ResizeObserver"in window?window.ResizeObserver:VV;function AGt(){}function PGt(e,t){let r=DGt(),n=c4e(t);return u4e(()=>{let i=!1,o=e&&"current"in e?e.current:e;if(!o)return AGt;function u(p,h){i||n.current(p,h)}return r.subscribe(o,u),()=>{i=!0,r.unsubscribe(o,u)}},[e,r,n]),r.observer}function OGt(){let e=!1,t=[],r=new Map,n=new CGt((i,o)=>{t=t.concat(i);function u(){let p=new Set;for(let h=0;h<t.length;h++){if(p.has(t[h].target))continue;p.add(t[h].target);let y=r.get(t[h].target);y==null||y.forEach(_=>_(t[h],o))}t=[],e=!1}e||window.requestAnimationFrame(u),e=!0});return{observer:n,subscribe(i,o){var u;n.observe(i);let p=(u=r.get(i))!==null&&u!==void 0?u:[];p.push(o),r.set(i,p)},unsubscribe(i,o){var u;let p=(u=r.get(i))!==null&&u!==void 0?u:[];if(p.length===1){n.unobserve(i),r.delete(i);return}let h=p.indexOf(o);h!==-1&&p.splice(h,1),r.set(i,p)}}}var $V,DGt=()=>$V||($V=OGt()),d4e=PGt;function p4e(e,t=250){let r=(0,Au.useRef)();return(0,Au.useEffect)(()=>{clearTimeout(r.current)},[e]),(...n)=>{r.current=window.setTimeout(()=>{e.apply(this,n)},t)}}function XA(e){let[t,r]=(0,Au.useState)(e);return(0,Au.useEffect)(()=>{r(e)},[e]),t}function f4e(e,t){let r=Ci(RA),n=HV(e);(0,Au.useEffect)(()=>{let{height:i,width:o}=n;r(u=>Object.assign({},u,{[t]:{height:i,width:o}}))},[n])}var HV=e=>{let[t,r]=(0,Au.useState)({height:0,width:0});return(0,Au.useLayoutEffect)(()=>{r(e.current.getBoundingClientRect())},[e]),d4e(e,n=>r(n.contentRect)),t};var dS=re(Be(),1),hqe=re(Ri(),1);var bc=re(Be(),1);var NGt=(e,t)=>{let r=mr(ni),[n,i]=(0,bc.useState)(null),[o,u]=In($3e),p=(0,bc.useRef)(null),h=(0,bc.useCallback)(_=>{p.current&&!p.current.contains(_.target)&&u(As.None)},[]),y=(0,bc.useCallback)(()=>{u(_=>_===t?As.None:t)},[t]);return(0,bc.useEffect)(()=>{if(er(r)){let _=T=>{var N;((N=T.control)==null?void 0:N.id)===e&&i(T.control._container)},E=T=>{var N;((N=T.control)==null?void 0:N.id)===e&&i(null)};return r.on(yc.controlAdded,_),r.on(yc.controlRemoved,E),()=>{r.off(yc.controlAdded,_),r.off(yc.controlRemoved,E)}}},[r]),(0,bc.useEffect)(()=>(o===t?document.addEventListener("mousedown",h):document.removeEventListener("mousedown",h),()=>{document.removeEventListener("mousedown",h)}),[o,t,h]),{baseMapControlEl:n,activeDialog:o,toggleDialog:y,dialogRef:p}},QA=NGt;var Ca=re(Be(),1);var o$=re(pPe(),1);function gt(){return gt=o$.default?o$.default.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gt.apply(null,arguments)}var kPe=re(SPe(),1);var u$=re(NPe(),1);function p3(e,t){return p3=u$.default?u$.default.bind():function(r,n){return r.__proto__=n,r},p3(e,t)}function rr(e,t){e.prototype=(0,kPe.default)(t.prototype),e.prototype.constructor=e,p3(e,t)}function or(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}function sn(){return sn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sn.apply(null,arguments)}function y0(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}var d$=re(Be());var SNr=re(h3()),zYt=function(){};function qPe(e,t){var r={};return Object.keys(e).forEach(function(n){if(r[_0(n)]=zYt,0)var i}),r}function c$(e,t){return e[t]!==void 0}function _0(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function RPe(e){return!!e&&(typeof e!="function"||e.prototype&&e.prototype.isReactComponent)}function b0(e,t){return b0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},b0(e,t)}function m3(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,b0(e,t)}var x0=re(Be()),UPe=re(f$()),VPe=re(h3());var FYt="/Users/jquense/src/uncontrollable/src/uncontrollable.js";function Ld(e,t,r){r===void 0&&(r=[]);var n=e.displayName||e.name||"Component",i=RPe(e),o=Object.keys(t),u=o.map(_0);i||!r.length||(0,VPe.default)(!1);var p=function(y){m3(_,y);function _(){for(var T,N=arguments.length,R=new Array(N),j=0;j<N;j++)R[j]=arguments[j];T=y.call.apply(y,[this].concat(R))||this,T.handlers=Object.create(null),o.forEach(function(L){var F=t[L],G=function(ae){if(T.props[F]){var ue;T._notifying=!0;for(var ge=arguments.length,Oe=new Array(ge>1?ge-1:0),_e=1;_e<ge;_e++)Oe[_e-1]=arguments[_e];(ue=T.props)[F].apply(ue,[ae].concat(Oe)),T._notifying=!1}T.unmounted||T.setState(function(ze){var We,$e=ze.values;return{values:sn(Object.create(null),$e,(We={},We[L]=ae,We))}})};T.handlers[F]=G}),r.length&&(T.attachRef=function(L){T.inner=L});var k=Object.create(null);return o.forEach(function(L){k[L]=T.props[_0(L)]}),T.state={values:k,prevProps:{}},T}var E=_.prototype;return E.shouldComponentUpdate=function(){return!this._notifying},_.getDerivedStateFromProps=function(N,R){var j=R.values,k=R.prevProps,L={values:sn(Object.create(null),j),prevProps:{}};return o.forEach(function(F){L.prevProps[F]=N[F],!c$(N,F)&&c$(k,F)&&(L.values[F]=N[_0(F)])}),L},E.componentWillUnmount=function(){this.unmounted=!0},E.render=function(){var N=this,R=this.props,j=R.innerRef,k=y0(R,["innerRef"]);u.forEach(function(F){delete k[F]});var L={};return o.forEach(function(F){var G=N.props[F];L[F]=G!==void 0?G:N.state.values[F]}),x0.default.createElement(e,sn({},k,L,this.handlers,{ref:j||this.attachRef}))},_}(x0.default.Component);(0,UPe.polyfill)(p),p.displayName="Uncontrolled("+n+")",p.propTypes=sn({innerRef:function(){}},qPe(t,n)),r.forEach(function(y){p.prototype[y]=function(){var E;return(E=this.inner)[y].apply(E,arguments)}});var h=p;return x0.default.forwardRef&&(h=x0.default.forwardRef(function(y,_){return x0.default.createElement(p,sn({},y,{innerRef:_,__source:{fileName:FYt,lineNumber:128},__self:this}))}),h.propTypes=p.propTypes),h.ControlledComponent=e,h.deferControlTo=function(y,_,E){return _===void 0&&(_={}),Ld(y,sn({},t,_),E)},h}var g$=re(m$());var XPe=re(h3()),g3=re(Gt());var Ia={LARGE:"large",SMALL:"small",XSMALL:"xsmall"},u2={large:"lg",medium:"md",small:"sm",xsmall:"xs",lg:"lg",md:"md",sm:"sm",xs:"xs"};var KPe={SUCCESS:"success",WARNING:"warning",DANGER:"danger",INFO:"info"},c2={DEFAULT:"default",PRIMARY:"primary",LINK:"link",INVERSE:"inverse"};function v$(e){return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[r.length-1];return typeof i=="function"?e.apply(void 0,r):function(o){return e.apply(void 0,r.concat([o]))}}}function Lr(e,t){var r=(e.bsClass||"").trim();return r==null&&(0,XPe.default)(!1),r+(t?"-"+t:"")}var Sr=v$(function(e,t){var r=t.propTypes||(t.propTypes={}),n=t.defaultProps||(t.defaultProps={});return r.bsClass=g3.default.string,n.bsClass=e,t}),v3=v$(function(e,t,r){typeof t!="string"&&(r=t,t=void 0);var n=r.STYLES||[],i=r.propTypes||{};e.forEach(function(p){n.indexOf(p)===-1&&n.push(p)});var o=g3.default.oneOf(n);if(r.STYLES=n,o._values=n,r.propTypes=gt({},i,{bsStyle:o}),t!==void 0){var u=r.defaultProps||(r.defaultProps={});u.bsStyle=t}return r}),wc=v$(function(e,t,r){typeof t!="string"&&(r=t,t=void 0);var n=r.SIZES||[],i=r.propTypes||{};e.forEach(function(p){n.indexOf(p)===-1&&n.push(p)});var o=[];n.forEach(function(p){var h=u2[p];h&&h!==p&&o.push(h),o.push(p)});var u=g3.default.oneOf(o);return u._values=o,r.SIZES=n,r.propTypes=gt({},i,{bsSize:u}),t!==void 0&&(r.defaultProps||(r.defaultProps={}),r.defaultProps.bsSize=t),r});function nn(e){var t,r=(t={},t[Lr(e)]=!0,t);if(e.bsSize){var n=u2[e.bsSize]||e.bsSize;r[Lr(e,n)]=!0}return e.bsStyle&&(r[Lr(e,e.bsStyle)]=!0),r}function QPe(e){return{bsClass:e.bsClass,bsSize:e.bsSize,bsStyle:e.bsStyle,bsRole:e.bsRole}}function JPe(e){return e==="bsClass"||e==="bsSize"||e==="bsStyle"||e==="bsRole"}function _n(e){var t={};return(0,g$.default)(e).forEach(function(r){var n=r[0],i=r[1];JPe(n)||(t[n]=i)}),[QPe(e),t]}function Sc(e,t){var r={};t.forEach(function(i){r[i]=!0});var n={};return(0,g$.default)(e).forEach(function(i){var o=i[0],u=i[1];!JPe(o)&&!r[o]&&(n[o]=u)}),[QPe(e),n]}var Ko=re(Be());function WYt(e,t,r){var n=0;return Ko.default.Children.map(e,function(i){return Ko.default.isValidElement(i)?t.call(r,i,n++):i})}function GYt(e,t,r){var n=0;Ko.default.Children.forEach(e,function(i){Ko.default.isValidElement(i)&&t.call(r,i,n++)})}function YYt(e){var t=0;return Ko.default.Children.forEach(e,function(r){Ko.default.isValidElement(r)&&++t}),t}function ZYt(e,t,r){var n=0,i=[];return Ko.default.Children.forEach(e,function(o){Ko.default.isValidElement(o)&&t.call(r,o,n++)&&i.push(o)}),i}function KYt(e,t,r){var n=0,i;return Ko.default.Children.forEach(e,function(o){i||Ko.default.isValidElement(o)&&t.call(r,o,n++)&&(i=o)}),i}function XYt(e,t,r){var n=0,i=!0;return Ko.default.Children.forEach(e,function(o){i&&Ko.default.isValidElement(o)&&(t.call(r,o,n++)||(i=!1))}),i}function QYt(e,t,r){var n=0,i=!1;return Ko.default.Children.forEach(e,function(o){i||Ko.default.isValidElement(o)&&t.call(r,o,n++)&&(i=!0)}),i}function JYt(e){var t=[];return Ko.default.Children.forEach(e,function(r){Ko.default.isValidElement(r)&&t.push(r)}),t}var Mo={map:WYt,forEach:GYt,count:YYt,find:KYt,filter:ZYt,every:XYt,some:QYt,toArray:JYt};var _3=re(Gt()),y$=re(d2());var QNr=_3.default.oneOfType([_3.default.string,_3.default.number]);function tOe(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,y$.default)(function(n,i,o){var u;return t.every(function(p){return Mo.some(n.children,function(h){return h.props.bsRole===p})?!0:(u=p,!1)}),u?new Error("(children) "+o+" - Missing a required child with bsRole: "+(u+". "+o+" must have at least one child of each of ")+("the following bsRoles: "+t.join(", "))):null})}function rOe(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,y$.default)(function(n,i,o){var u;return t.every(function(p){var h=Mo.filter(n.children,function(y){return y.props.bsRole===p});return h.length>1?(u=p,!1):!0}),u?new Error("(children) "+o+" - Duplicate children detected of bsRole: "+(u+". Only one child each allowed with the following ")+("bsRoles: "+t.join(", "))):null})}var _$=re(Gt()),p2=re(Be()),rZt={label:_$.default.string.isRequired,onClick:_$.default.func},nZt={label:"Close"},b$=function(e){rr(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this.props,o=i.label,u=i.onClick;return p2.default.createElement("button",{type:"button",className:"close",onClick:u},p2.default.createElement("span",{"aria-hidden":"true"},"\xD7"),p2.default.createElement("span",{className:"sr-only"},o))},t}(p2.default.Component);b$.propTypes=rZt;b$.defaultProps=nZt;var uOe=b$;function jr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var I$=re(Be()),qd=re(Gt()),vOe=re(Xo());function mZt(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter(function(n){return n!=null}).reduce(function(n,i){if(typeof i!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return n===null?i:function(){for(var u=arguments.length,p=new Array(u),h=0;h<u;h++)p[h]=arguments[h];n.apply(this,p),i.apply(this,p)}},null)}var ai=mZt;var gZt={href:qd.default.string,onClick:qd.default.func,onKeyDown:qd.default.func,disabled:qd.default.bool,role:qd.default.string,tabIndex:qd.default.oneOfType([qd.default.number,qd.default.string]),componentClass:vOe.default},vZt={componentClass:"a"};function gOe(e){return!e||e.trim()==="#"}var E$=function(e){rr(t,e);function t(n,i){var o;return o=e.call(this,n,i)||this,o.handleClick=o.handleClick.bind(jr(jr(o))),o.handleKeyDown=o.handleKeyDown.bind(jr(jr(o))),o}var r=t.prototype;return r.handleClick=function(i){var o=this.props,u=o.disabled,p=o.href,h=o.onClick;if((u||gOe(p))&&i.preventDefault(),u){i.stopPropagation();return}h&&h(i)},r.handleKeyDown=function(i){i.key===" "&&(i.preventDefault(),this.handleClick(i))},r.render=function(){var i=this.props,o=i.componentClass,u=i.disabled,p=i.onKeyDown,h=or(i,["componentClass","disabled","onKeyDown"]);return gOe(h.href)&&(h.role=h.role||"button",h.href=h.href||"#"),u&&(h.tabIndex=-1,h.style=gt({pointerEvents:"none"},h.style)),I$.default.createElement(o,gt({},h,{onClick:this.handleClick,onKeyDown:ai(this.handleKeyDown,p)}))},t}(I$.default.Component);E$.propTypes=gZt;E$.defaultProps=vZt;var Xf=E$;var yOe=re(lOe());var T$=re(Xr()),O3=re(Be()),Wm=re(Gt()),_Oe=re(Xo());var yZt={active:Wm.default.bool,disabled:Wm.default.bool,block:Wm.default.bool,onClick:Wm.default.func,componentClass:_Oe.default,href:Wm.default.string,type:Wm.default.oneOf(["button","reset","submit"])},_Zt={active:!1,block:!1,disabled:!1},M$=function(e){rr(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.renderAnchor=function(i,o){return O3.default.createElement(Xf,gt({},i,{className:(0,T$.default)(o,i.disabled&&"disabled")}))},r.renderButton=function(i,o){var u=i.componentClass,p=or(i,["componentClass"]),h=u||"button";return O3.default.createElement(h,gt({},p,{type:p.type||"button",className:o}))},r.render=function(){var i,o=this.props,u=o.active,p=o.block,h=o.className,y=or(o,["active","block","className"]),_=_n(y),E=_[0],T=_[1],N=gt({},nn(E),(i={active:u},i[Lr(E,"block")]=p,i)),R=(0,T$.default)(h,N);return T.href?this.renderAnchor(T,R):this.renderButton(T,R)},t}(O3.default.Component);M$.propTypes=yZt;M$.defaultProps=_Zt;var Ea=Sr("btn",wc([Ia.LARGE,Ia.SMALL,Ia.XSMALL],v3((0,yOe.default)(KPe).concat([c2.DEFAULT,c2.PRIMARY,c2.LINK]),c2.DEFAULT,M$)));var xOe=re(Xr()),C$=re(Be()),N3=re(Gt()),wOe=re(f2());var IZt={vertical:N3.default.bool,justified:N3.default.bool,block:(0,wOe.default)(N3.default.bool,function(e){var t=e.block,r=e.vertical;return t&&!r?new Error("`block` requires `vertical` to be set to have any effect"):null})},EZt={block:!1,justified:!1,vertical:!1},A$=function(e){rr(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i,o=this.props,u=o.block,p=o.justified,h=o.vertical,y=o.className,_=or(o,["block","justified","vertical","className"]),E=_n(_),T=E[0],N=E[1],R=gt({},nn(T),(i={},i[Lr(T)]=!h,i[Lr(T,"vertical")]=h,i[Lr(T,"justified")]=p,i[Lr(Ea.defaultProps,"block")]=u,i));return C$.default.createElement("div",gt({},N,{className:(0,xOe.default)(y,R)}))},t}(C$.default.Component);A$.propTypes=IZt;A$.defaultProps=EZt;var SOe=Sr("btn-group",A$);var IOe=re(Xr()),P$=re(Be()),EOe=re(Gt());var TZt={glyph:EOe.default.string.isRequired},TOe=function(e){rr(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i,o=this.props,u=o.glyph,p=o.className,h=or(o,["glyph","className"]),y=_n(h),_=y[0],E=y[1],T=gt({},nn(_),(i={},i[Lr(_,u)]=!0,i));return P$.default.createElement("span",gt({},E,{className:(0,IOe.default)(p,T)}))},t}(P$.default.Component);TOe.propTypes=TZt;var ro=Sr("glyphicon",TOe);var COe=re(Xr()),O$=re(Be()),k3=re(Gt()),zkr=re(Qf());var CZt={htmlFor:k3.default.string,srOnly:k3.default.bool},AZt={srOnly:!1},PZt={$bs_formGroup:k3.default.object},L3=function(e){rr(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this.context.$bs_formGroup,o=i&&i.controlId,u=this.props,p=u.htmlFor,h=p===void 0?o:p,y=u.srOnly,_=u.className,E=or(u,["htmlFor","srOnly","className"]),T=_n(E),N=T[0],R=T[1],j=gt({},nn(N),{"sr-only":y});return O$.default.createElement("label",gt({},R,{htmlFor:h,className:(0,COe.default)(_,j)}))},t}(O$.default.Component);L3.propTypes=CZt;L3.defaultProps=AZt;L3.contextTypes=PZt;var D$=Sr("control-label",L3);var cNe=re(Xr()),dNe=re(U$()),pNe=re(E0()),u4=re(K3()),M0=re(Be()),Qa=re(Gt()),aH=re(Ri()),fNe=re(f2()),hNe=re(Xo()),mNe=re(Q3());var k6r=re(Qf());var oNe=re(ZDe());var aNe=re(Xr()),w2=re(K3()),S2=re(Be()),zd=re(Gt()),sNe=re(Ri()),lNe=re(tH());var zXt={open:zd.default.bool,pullRight:zd.default.bool,onClose:zd.default.func,labelledBy:zd.default.oneOfType([zd.default.string,zd.default.number]),onSelect:zd.default.func,rootCloseEvent:zd.default.oneOf(["click","mousedown"])},jXt={bsRole:"menu",pullRight:!1},rH=function(e){rr(t,e);function t(n){var i;return i=e.call(this,n)||this,i.handleRootClose=i.handleRootClose.bind(jr(jr(i))),i.handleKeyDown=i.handleKeyDown.bind(jr(jr(i))),i}var r=t.prototype;return r.getFocusableMenuItems=function(){var i=sNe.default.findDOMNode(this);return i?(0,oNe.default)(i.querySelectorAll("[tabIndex=\"-1\"]")):[]},r.getItemsAndActiveIndex=function(){var i=this.getFocusableMenuItems(),o=i.indexOf(document.activeElement);return{items:i,activeIndex:o}},r.focusNext=function(){var i=this.getItemsAndActiveIndex(),o=i.items,u=i.activeIndex;if(o.length!==0){var p=u===o.length-1?0:u+1;o[p].focus()}},r.focusPrevious=function(){var i=this.getItemsAndActiveIndex(),o=i.items,u=i.activeIndex;if(o.length!==0){var p=u===0?o.length-1:u-1;o[p].focus()}},r.handleKeyDown=function(i){switch(i.keyCode){case w2.default.codes.down:this.focusNext(),i.preventDefault();break;case w2.default.codes.up:this.focusPrevious(),i.preventDefault();break;case w2.default.codes.esc:case w2.default.codes.tab:this.props.onClose(i,{source:"keydown"});break;default:}},r.handleRootClose=function(i){this.props.onClose(i,{source:"rootClose"})},r.render=function(){var i,o=this,u=this.props,p=u.open,h=u.pullRight,y=u.labelledBy,_=u.onSelect,E=u.className,T=u.rootCloseEvent,N=u.children,R=or(u,["open","pullRight","labelledBy","onSelect","className","rootCloseEvent","children"]),j=Sc(R,["onClose"]),k=j[0],L=j[1],F=gt({},nn(k),(i={},i[Lr(k,"right")]=h,i));return S2.default.createElement(lNe.default,{disabled:!p,onRootClose:this.handleRootClose,event:T},S2.default.createElement("ul",gt({},L,{role:"menu",className:(0,aNe.default)(E,F),"aria-labelledby":y}),Mo.map(N,function(G){return S2.default.cloneElement(G,{onKeyDown:ai(G.props.onKeyDown,o.handleKeyDown),onSelect:ai(G.props.onSelect,_)})})))},t}(S2.default.Component);rH.propTypes=zXt;rH.defaultProps=jXt;var nH=Sr("dropdown-menu",rH);var l4=re(Be()),I2=re(Gt()),uNe=re(Xr());var FXt={noCaret:I2.default.bool,open:I2.default.bool,title:I2.default.string,useAnchor:I2.default.bool},BXt={open:!1,useAnchor:!1,bsRole:"toggle"},iH=function(e){rr(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this.props,o=i.noCaret,u=i.open,p=i.useAnchor,h=i.bsClass,y=i.className,_=i.children,E=or(i,["noCaret","open","useAnchor","bsClass","className","children"]);delete E.bsRole;var T=p?Xf:Ea,N=!o;return l4.default.createElement(T,gt({},E,{role:"button",className:(0,uNe.default)(y,h),"aria-haspopup":!0,"aria-expanded":u}),_||E.title,N&&" ",N&&l4.default.createElement("span",{className:"caret"}))},t}(l4.default.Component);iH.propTypes=FXt;iH.defaultProps=BXt;var oH=Sr("dropdown-toggle",iH);var gNe=oH.defaultProps.bsRole,sH=nH.defaultProps.bsRole,UXt={dropup:Qa.default.bool,id:(0,mNe.default)(Qa.default.oneOfType([Qa.default.string,Qa.default.number])),componentClass:hNe.default,children:(0,fNe.default)(tOe(gNe,sH),rOe(sH)),disabled:Qa.default.bool,pullRight:Qa.default.bool,open:Qa.default.bool,defaultOpen:Qa.default.bool,onToggle:Qa.default.func,onSelect:Qa.default.func,role:Qa.default.string,rootCloseEvent:Qa.default.oneOf(["click","mousedown"]),onMouseEnter:Qa.default.func,onMouseLeave:Qa.default.func},VXt={componentClass:SOe},c4=function(e){rr(t,e);function t(n,i){var o;return o=e.call(this,n,i)||this,o.handleClick=o.handleClick.bind(jr(jr(o))),o.handleKeyDown=o.handleKeyDown.bind(jr(jr(o))),o.handleClose=o.handleClose.bind(jr(jr(o))),o._focusInDropdown=!1,o.lastOpenEventType=null,o}var r=t.prototype;return r.componentDidMount=function(){this.focusNextOnOpen()},r.UNSAFE_componentWillUpdate=function(i){!i.open&&this.props.open&&(this._focusInDropdown=(0,pNe.default)(aH.default.findDOMNode(this.menu),(0,dNe.default)(document)))},r.componentDidUpdate=function(i){var o=this.props.open,u=i.open;o&&!u&&this.focusNextOnOpen(),!o&&u&&this._focusInDropdown&&(this._focusInDropdown=!1,this.focus())},r.focus=function(){var i=aH.default.findDOMNode(this.toggle);i&&i.focus&&i.focus()},r.focusNextOnOpen=function(){var i=this.menu;!i||!i.focusNext||(this.lastOpenEventType==="keydown"||this.props.role==="menuitem")&&i.focusNext()},r.handleClick=function(i){this.props.disabled||this.toggleOpen(i,{source:"click"})},r.handleClose=function(i,o){this.props.open&&this.toggleOpen(i,o)},r.handleKeyDown=function(i){if(!this.props.disabled)switch(i.keyCode){case u4.default.codes.down:this.props.open?this.menu.focusNext&&this.menu.focusNext():this.toggleOpen(i,{source:"keydown"}),i.preventDefault();break;case u4.default.codes.esc:case u4.default.codes.tab:this.handleClose(i,{source:"keydown"});break;default:}},r.toggleOpen=function(i,o){var u=!this.props.open;u&&(this.lastOpenEventType=o.source),this.props.onToggle&&this.props.onToggle(u,i,o)},r.renderMenu=function(i,o){var u=this,p=o.id,h=o.onSelect,y=o.rootCloseEvent,_=or(o,["id","onSelect","rootCloseEvent"]),E=function(N){u.menu=N};return typeof i.ref=="string"||(E=ai(i.ref,E)),(0,M0.cloneElement)(i,gt({},_,{ref:E,labelledBy:p,bsClass:Lr(_,"menu"),onClose:ai(i.props.onClose,this.handleClose),onSelect:ai(i.props.onSelect,h,function(T,N){return u.handleClose(N,{source:"select"})}),rootCloseEvent:y}))},r.renderToggle=function(i,o){var u=this,p=function(y){u.toggle=y};return typeof i.ref=="string"||(p=ai(i.ref,p)),(0,M0.cloneElement)(i,gt({},o,{ref:p,bsClass:Lr(o,"toggle"),onClick:ai(i.props.onClick,this.handleClick),onKeyDown:ai(i.props.onKeyDown,this.handleKeyDown)}))},r.render=function(){var i,o=this,u=this.props,p=u.componentClass,h=u.id,y=u.dropup,_=u.disabled,E=u.pullRight,T=u.open,N=u.onSelect,R=u.role,j=u.bsClass,k=u.className,L=u.rootCloseEvent,F=u.children,G=or(u,["componentClass","id","dropup","disabled","pullRight","open","onSelect","role","bsClass","className","rootCloseEvent","children"]);delete G.onToggle;var ee=(i={},i[j]=!0,i.open=T,i.disabled=_,i);return y&&(ee[j]=!1,ee.dropup=!0),M0.default.createElement(p,gt({},G,{className:(0,cNe.default)(k,ee)}),Mo.map(F,function(ae){switch(ae.props.bsRole){case gNe:return o.renderToggle(ae,{id:h,disabled:_,open:T,role:R,bsClass:j});case sH:return o.renderMenu(ae,{id:h,open:T,pullRight:E,bsClass:j,onSelect:N,rootCloseEvent:L});default:return ae;}}))},t}(M0.default.Component);c4.propTypes=UXt;c4.defaultProps=VXt;Sr("dropdown",c4);var lH=Ld(c4,{open:"onToggle"});lH.Toggle=oH;lH.Menu=nH;var E2=lH;var vNe=re(m$());function uH(e,t){var r=t.propTypes,n={},i={};return(0,vNe.default)(e).forEach(function(o){var u=o[0],p=o[1];r[u]?n[u]=p:i[u]=p}),[n,i]}var yNe=re(Xr()),p4=re(Be()),Wl=re(Gt()),C0=re(QOe()),d4,$Xt={in:Wl.default.bool,mountOnEnter:Wl.default.bool,unmountOnExit:Wl.default.bool,appear:Wl.default.bool,timeout:Wl.default.number,onEnter:Wl.default.func,onEntering:Wl.default.func,onEntered:Wl.default.func,onExit:Wl.default.func,onExiting:Wl.default.func,onExited:Wl.default.func},HXt={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},WXt=(d4={},d4[C0.ENTERING]="in",d4[C0.ENTERED]="in",d4),cH=function(e){rr(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this.props,o=i.className,u=i.children,p=or(i,["className","children"]);return p4.default.createElement(C0.default,p,function(h,y){return p4.default.cloneElement(u,gt({},y,{className:(0,yNe.default)("fade",o,u.props.className,WXt[h])}))})},t}(p4.default.Component);cH.propTypes=$Xt;cH.defaultProps=HXt;var eh=cH;var _Ne=re(Xr()),dH=re(Be()),pH=re(Gt()),bNe=re(Xo());var GXt={horizontal:pH.default.bool,inline:pH.default.bool,componentClass:bNe.default},YXt={horizontal:!1,inline:!1,componentClass:"form"},fH=function(e){rr(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this.props,o=i.horizontal,u=i.inline,p=i.componentClass,h=i.className,y=or(i,["horizontal","inline","componentClass","className"]),_=_n(y),E=_[0],T=_[1],N=[];return o&&N.push(Lr(E,"horizontal")),u&&N.push(Lr(E,"inline")),dH.default.createElement(p,gt({},T,{className:(0,_Ne.default)(h,N)}))},t}(dH.default.Component);fH.propTypes=GXt;fH.defaultProps=YXt;var hH=Sr("form",fH);var TNe=re(Xr()),_H=re(Be()),M2=re(Gt()),MNe=re(Xo()),hLr=re(Qf());var mH=re(Xr()),T2=re(Be()),xNe=re(Gt());var ZXt={bsRole:"feedback"},KXt={$bs_formGroup:xNe.default.object},gH=function(e){rr(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.getGlyph=function(i){switch(i){case"success":return"ok";case"warning":return"warning-sign";case"error":return"remove";default:return null;}},r.renderDefaultFeedback=function(i,o,u,p){var h=this.getGlyph(i&&i.validationState);return h?T2.default.createElement(ro,gt({},p,{glyph:h,className:(0,mH.default)(o,u)})):null},r.render=function(){var i=this.props,o=i.className,u=i.children,p=or(i,["className","children"]),h=_n(p),y=h[0],_=h[1],E=nn(y);if(!u)return this.renderDefaultFeedback(this.context.$bs_formGroup,o,E,_);var T=T2.default.Children.only(u);return T2.default.cloneElement(T,gt({},_,{className:(0,mH.default)(T.props.className,o,E)}))},t}(T2.default.Component);gH.defaultProps=ZXt;gH.contextTypes=KXt;var wNe=Sr("form-control-feedback",gH);var SNe=re(Xr()),vH=re(Be()),INe=re(Xo());var XXt={componentClass:INe.default},QXt={componentClass:"p"},yH=function(e){rr(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this.props,o=i.componentClass,u=i.className,p=or(i,["componentClass","className"]),h=_n(p),y=h[0],_=h[1],E=nn(y);return vH.default.createElement(o,gt({},_,{className:(0,SNe.default)(u,E)}))},t}(vH.default.Component);yH.propTypes=XXt;yH.defaultProps=QXt;var ENe=Sr("form-control-static",yH);var JXt={componentClass:MNe.default,type:M2.default.string,id:M2.default.string,inputRef:M2.default.func},eQt={componentClass:"input"},tQt={$bs_formGroup:M2.default.object},A0=function(e){rr(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this.context.$bs_formGroup,o=i&&i.controlId,u=this.props,p=u.componentClass,h=u.type,y=u.id,_=y===void 0?o:y,E=u.inputRef,T=u.className,N=u.bsSize,R=or(u,["componentClass","type","id","inputRef","className","bsSize"]),j=_n(R),k=j[0],L=j[1],F;if(h!=="file"&&(F=nn(k)),N){var G=u2[N]||N;F[Lr({bsClass:"input"},G)]=!0}return _H.default.createElement(p,gt({},L,{type:h,id:_,ref:E,className:(0,TNe.default)(T,F)}))},t}(_H.default.Component);A0.propTypes=JXt;A0.defaultProps=eQt;A0.contextTypes=tQt;A0.Feedback=wNe;A0.Static=ENe;var bH=Sr("form-control",wc([Ia.SMALL,Ia.LARGE],A0));var CNe=re(Xr()),xH=re(Be()),f4=re(Gt());var rQt={controlId:f4.default.string,validationState:f4.default.oneOf(["success","warning","error",null])},nQt={$bs_formGroup:f4.default.object.isRequired},wH=function(e){rr(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.getChildContext=function(){var i=this.props,o=i.controlId,u=i.validationState;return{$bs_formGroup:{controlId:o,validationState:u}}},r.hasFeedback=function(i){var o=this;return Mo.some(i,function(u){return u.props.bsRole==="feedback"||u.props.children&&o.hasFeedback(u.props.children)})},r.render=function(){var i=this.props,o=i.validationState,u=i.className,p=i.children,h=or(i,["validationState","className","children"]),y=Sc(h,["controlId"]),_=y[0],E=y[1],T=gt({},nn(_),{"has-feedback":this.hasFeedback(p)});return o&&(T["has-"+o]=!0),xH.default.createElement("div",gt({},E,{className:(0,CNe.default)(u,T)}),p)},t}(xH.default.Component);wH.propTypes=rQt;wH.childContextTypes=nQt;var SH=Sr("form-group",wc([Ia.LARGE,Ia.SMALL],wH));var ANe=re(Xr()),IH=re(Be());var iQt=function(e){rr(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this.props,o=i.className,u=or(i,["className"]),p=_n(u),h=p[0],y=p[1],_=nn(h);return IH.default.createElement("span",gt({},y,{className:(0,ANe.default)(o,_)}))},t}(IH.default.Component),EH=Sr("help-block",iQt);var h4=re(Xr()),P0=re(Be()),jd=re(Gt()),PNe=re(f2());var oQt={active:jd.default.bool,disabled:jd.default.bool,divider:(0,PNe.default)(jd.default.bool,function(e){var t=e.divider,r=e.children;return t&&r?new Error("Children will not be rendered for dividers"):null}),eventKey:jd.default.any,header:jd.default.bool,href:jd.default.string,onClick:jd.default.func,onSelect:jd.default.func},aQt={divider:!1,disabled:!1,header:!1},TH=function(e){rr(t,e);function t(n,i){var o;return o=e.call(this,n,i)||this,o.handleClick=o.handleClick.bind(jr(jr(o))),o}var r=t.prototype;return r.handleClick=function(i){var o=this.props,u=o.href,p=o.disabled,h=o.onSelect,y=o.eventKey;(!u||p)&&i.preventDefault(),!p&&h&&h(y,i)},r.render=function(){var i=this.props,o=i.active,u=i.disabled,p=i.divider,h=i.header,y=i.onClick,_=i.className,E=i.style,T=or(i,["active","disabled","divider","header","onClick","className","style"]),N=Sc(T,["eventKey","onSelect"]),R=N[0],j=N[1];return p?(j.children=void 0,P0.default.createElement("li",gt({},j,{role:"separator",className:(0,h4.default)(_,"divider"),style:E}))):h?P0.default.createElement("li",gt({},j,{role:"heading",className:(0,h4.default)(_,Lr(R,"header")),style:E})):P0.default.createElement("li",{role:"presentation",className:(0,h4.default)(_,{active:o,disabled:u}),style:E},P0.default.createElement(Xf,gt({},j,{role:"menuitem",tabIndex:"-1",onClick:ai(y,this.handleClick)})))},t}(P0.default.Component);TH.propTypes=oQt;TH.defaultProps=aQt;var MH=Sr("dropdown",TH);var QH=re(Xr()),JH=re(VNe()),t6e=re(Zm()),r6e=re(Ic()),eW=re(PH()),N0=re(Be()),Ao=re(Gt()),n6e=re(Ri()),k0=re(Hke()),i6e=re(kH()),o6e=re(Xo());var Wke=re(Xr()),HH=re(Be()),Gke=re(Xo());var ver={componentClass:Gke.default},yer={componentClass:"div"},WH=function(e){rr(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this.props,o=i.componentClass,u=i.className,p=or(i,["componentClass","className"]),h=_n(p),y=h[0],_=h[1],E=nn(y);return HH.default.createElement(o,gt({},_,{className:(0,Wke.default)(u,E)}))},t}(HH.default.Component);WH.propTypes=ver;WH.defaultProps=yer;var N2=Sr("modal-body",WH);var GH=re(Xr()),k2=re(Be()),Yke=re(Gt());var _er={dialogClassName:Yke.default.string},Zke=function(e){rr(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i,o=this.props,u=o.dialogClassName,p=o.className,h=o.style,y=o.children,_=o.onMouseDownDialog,E=or(o,["dialogClassName","className","style","children","onMouseDownDialog"]),T=_n(E),N=T[0],R=T[1],j=Lr(N),k=gt({display:"block"},h),L=gt({},nn(N),(i={},i[j]=!1,i[Lr(N,"dialog")]=!0,i));return k2.default.createElement("div",gt({},R,{tabIndex:"-1",role:"dialog",style:k,className:(0,GH.default)(p,j)}),k2.default.createElement("div",{className:(0,GH.default)(u,L),onMouseDown:_},k2.default.createElement("div",{className:Lr(N,"content"),role:"document"},y)))},t}(k2.default.Component);Zke.propTypes=_er;var L4=Sr("modal",wc([Ia.LARGE,Ia.SMALL],Zke));var Kke=re(Xr()),YH=re(Be()),Xke=re(Xo());var ber={componentClass:Xke.default},xer={componentClass:"div"},ZH=function(e){rr(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this.props,o=i.componentClass,u=i.className,p=or(i,["componentClass","className"]),h=_n(p),y=h[0],_=h[1],E=nn(y);return YH.default.createElement(o,gt({},_,{className:(0,Kke.default)(u,E)}))},t}(YH.default.Component);ZH.propTypes=ber;ZH.defaultProps=xer;var L2=Sr("modal-footer",ZH);var Qke=re(Xr()),D0=re(Gt()),q4=re(Be());var wer={closeLabel:D0.default.string,closeButton:D0.default.bool,onHide:D0.default.func},Ser={closeLabel:"Close",closeButton:!1},Ier={$bs_modal:D0.default.shape({onHide:D0.default.func})},R4=function(e){rr(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this.props,o=i.closeLabel,u=i.closeButton,p=i.onHide,h=i.className,y=i.children,_=or(i,["closeLabel","closeButton","onHide","className","children"]),E=this.context.$bs_modal,T=_n(_),N=T[0],R=T[1],j=nn(N);return q4.default.createElement("div",gt({},R,{className:(0,Qke.default)(h,j)}),u&&q4.default.createElement(uOe,{label:o,onClick:ai(E&&E.onHide,p)}),y)},t}(q4.default.Component);R4.propTypes=wer;R4.defaultProps=Ser;R4.contextTypes=Ier;var q2=Sr("modal-header",R4);var Jke=re(Xr()),KH=re(Be()),e6e=re(Xo());var Eer={componentClass:e6e.default},Ter={componentClass:"h4"},XH=function(e){rr(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this.props,o=i.componentClass,u=i.className,p=or(i,["componentClass","className"]),h=_n(p),y=h[0],_=h[1],E=nn(y);return KH.default.createElement(o,gt({},_,{className:(0,Jke.default)(u,E)}))},t}(KH.default.Component);XH.propTypes=Eer;XH.defaultProps=Ter;var R2=Sr("modal-title",XH);var Mer=gt({},k0.default.propTypes,L4.propTypes,{backdrop:Ao.default.oneOf(["static",!0,!1]),backdropClassName:Ao.default.string,keyboard:Ao.default.bool,animation:Ao.default.bool,dialogComponentClass:o6e.default,autoFocus:Ao.default.bool,enforceFocus:Ao.default.bool,restoreFocus:Ao.default.bool,show:Ao.default.bool,onHide:Ao.default.func,onEnter:Ao.default.func,onEntering:Ao.default.func,onEntered:Ao.default.func,onExit:Ao.default.func,onExiting:Ao.default.func,onExited:Ao.default.func,container:k0.default.propTypes.container}),Cer=gt({},k0.default.defaultProps,{animation:!0,dialogComponentClass:L4}),Aer={$bs_modal:Ao.default.shape({onHide:Ao.default.func})};function Per(e){return N0.default.createElement(eh,gt({},e,{timeout:ll.TRANSITION_DURATION}))}function Oer(e){return N0.default.createElement(eh,gt({},e,{timeout:ll.BACKDROP_TRANSITION_DURATION}))}var ll=function(e){rr(t,e);function t(n,i){var o;return o=e.call(this,n,i)||this,o.handleDialogBackdropMouseDown=function(){o._waitingForMouseUp=!0},o.handleMouseUp=function(u){var p=o._modal.getDialogElement();o._waitingForMouseUp&&u.target===p&&(o._ignoreBackdropClick=!0),o._waitingForMouseUp=!1},o.handleEntering=o.handleEntering.bind(jr(jr(o))),o.handleExited=o.handleExited.bind(jr(jr(o))),o.handleWindowResize=o.handleWindowResize.bind(jr(jr(o))),o.handleDialogClick=o.handleDialogClick.bind(jr(jr(o))),o.setModalRef=o.setModalRef.bind(jr(jr(o))),o.state={style:{}},o}var r=t.prototype;return r.getChildContext=function(){return{$bs_modal:{onHide:this.props.onHide}}},r.componentWillUnmount=function(){this.handleExited()},r.setModalRef=function(i){this._modal=i},r.handleDialogClick=function(i){if(this._ignoreBackdropClick||i.target!==i.currentTarget){this._ignoreBackdropClick=!1;return}this.props.onHide()},r.handleEntering=function(){JH.default.on(window,"resize",this.handleWindowResize),this.updateStyle()},r.handleExited=function(){JH.default.off(window,"resize",this.handleWindowResize)},r.handleWindowResize=function(){this.updateStyle()},r.updateStyle=function(){if(r6e.default){var i=this._modal.getDialogElement(),o=i.scrollHeight,u=(0,t6e.default)(i),p=(0,i6e.default)(n6e.default.findDOMNode(this.props.container||u.body)),h=o>u.documentElement.clientHeight;this.setState({style:{paddingRight:p&&!h?(0,eW.default)():void 0,paddingLeft:!p&&h?(0,eW.default)():void 0}})}},r.render=function(){var i=this.props,o=i.backdrop,u=i.backdropClassName,p=i.animation,h=i.show,y=i.dialogComponentClass,_=i.className,E=i.style,T=i.children,N=i.onEntering,R=i.onExited,j=or(i,["backdrop","backdropClassName","animation","show","dialogComponentClass","className","style","children","onEntering","onExited"]),k=uH(j,k0.default),L=k[0],F=k[1],G=h&&!p&&"in";return N0.default.createElement(k0.default,gt({},L,{ref:this.setModalRef,show:h,containerClassName:Lr(j,"open"),transition:p?Per:void 0,backdrop:o,backdropTransition:p?Oer:void 0,backdropClassName:(0,QH.default)(Lr(j,"backdrop"),u,G),onEntering:ai(N,this.handleEntering),onExited:ai(R,this.handleExited),onMouseUp:this.handleMouseUp}),N0.default.createElement(y,gt({},F,{style:gt({},this.state.style,E),className:(0,QH.default)(_,G),onClick:o===!0?this.handleDialogClick:null,onMouseDownDialog:this.handleDialogBackdropMouseDown}),T))},t}(N0.default.Component);ll.propTypes=Mer;ll.defaultProps=Cer;ll.childContextTypes=Aer;ll.Body=N2;ll.Header=q2;ll.Title=R2;ll.Footer=L2;ll.Dialog=L4;ll.TRANSITION_DURATION=300;ll.BACKDROP_TRANSITION_DURATION=150;var Fd=Sr("modal",wc([Ia.LARGE,Ia.SMALL],ll));var a6e=re(Xr()),z2=re(K3()),j2=re(Be()),Po=re(Gt()),s6e=re(Ri()),l6e=re(f2()),zqr=re(Qf());var Der={activeKey:Po.default.any,activeHref:Po.default.string,stacked:Po.default.bool,justified:(0,l6e.default)(Po.default.bool,function(e){var t=e.justified,r=e.navbar;return t&&r?Error("justified navbar `Nav`s are not supported"):null}),onSelect:Po.default.func,role:Po.default.string,navbar:Po.default.bool,pullRight:Po.default.bool,pullLeft:Po.default.bool},Ner={justified:!1,pullRight:!1,pullLeft:!1,stacked:!1},ker={$bs_navbar:Po.default.shape({bsClass:Po.default.string,onSelect:Po.default.func}),$bs_tabContainer:Po.default.shape({activeKey:Po.default.any,onSelect:Po.default.func.isRequired,getTabId:Po.default.func.isRequired,getPaneId:Po.default.func.isRequired})},z4=function(e){rr(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.componentDidUpdate=function(){var i=this;if(this._needsRefocus){this._needsRefocus=!1;var o=this.props.children,u=this.getActiveProps(),p=u.activeKey,h=u.activeHref,y=Mo.find(o,function(R){return i.isActive(R,p,h)}),_=Mo.toArray(o),E=_.indexOf(y),T=s6e.default.findDOMNode(this).children,N=T&&T[E];!N||!N.firstChild||N.firstChild.focus()}},r.getActiveProps=function(){var i=this.context.$bs_tabContainer;return i||this.props},r.getNextActiveChild=function(i){var o=this,u=this.props.children,p=Mo.filter(u,function(j){return j.props.eventKey!=null&&!j.props.disabled}),h=this.getActiveProps(),y=h.activeKey,_=h.activeHref,E=Mo.find(u,function(j){return o.isActive(j,y,_)}),T=p.indexOf(E);if(T===-1)return p[0];var N=T+i,R=p.length;return N>=R?N=0:N<0&&(N=R-1),p[N]},r.getTabProps=function(i,o,u,p,h){var y=this;if(!o&&u!=="tablist")return null;var _=i.props,E=_.id,T=_["aria-controls"],N=_.eventKey,R=_.role,j=_.onKeyDown,k=_.tabIndex;return o&&(E=o.getTabId(N),T=o.getPaneId(N)),u==="tablist"&&(R=R||"tab",j=ai(function(L){return y.handleTabKeyDown(h,L)},j),k=p?k:-1),{id:E,role:R,onKeyDown:j,"aria-controls":T,tabIndex:k}},r.handleTabKeyDown=function(i,o){var u;switch(o.keyCode){case z2.default.codes.left:case z2.default.codes.up:u=this.getNextActiveChild(-1);break;case z2.default.codes.right:case z2.default.codes.down:u=this.getNextActiveChild(1);break;default:return;}o.preventDefault(),i&&u&&u.props.eventKey!=null&&i(u.props.eventKey),this._needsRefocus=!0},r.isActive=function(i,o,u){var p=i.props;return p.active||o!=null&&p.eventKey===o||u&&p.href===u?!0:p.active},r.render=function(){var i,o=this,u=this.props,p=u.stacked,h=u.justified,y=u.onSelect,_=u.role,E=u.navbar,T=u.pullRight,N=u.pullLeft,R=u.className,j=u.children,k=or(u,["stacked","justified","onSelect","role","navbar","pullRight","pullLeft","className","children"]),L=this.context.$bs_tabContainer,F=_||(L?"tablist":null),G=this.getActiveProps(),ee=G.activeKey,ae=G.activeHref;delete k.activeKey,delete k.activeHref;var ue=_n(k),ge=ue[0],Oe=ue[1],_e=gt({},nn(ge),(i={},i[Lr(ge,"stacked")]=p,i[Lr(ge,"justified")]=h,i)),ze=E!=null?E:this.context.$bs_navbar,We,$e;if(ze){var qe=this.context.$bs_navbar||{bsClass:"navbar"};_e[Lr(qe,"nav")]=!0,$e=Lr(qe,"right"),We=Lr(qe,"left")}else $e="pull-right",We="pull-left";return _e[$e]=T,_e[We]=N,j2.default.createElement("ul",gt({},Oe,{role:F,className:(0,a6e.default)(R,_e)}),Mo.map(j,function(Je){var dt=o.isActive(Je,ee,ae),Ue=ai(Je.props.onSelect,y,ze&&ze.onSelect,L&&L.onSelect);return(0,j2.cloneElement)(Je,gt({},o.getTabProps(Je,L,F,dt,Ue),{active:dt,activeKey:ee,activeHref:ae,onSelect:Ue}))}))},t}(j2.default.Component);z4.propTypes=Der;z4.defaultProps=Ner;z4.contextTypes=ker;var u6e=Sr("nav",v3(["tabs","pills"],z4));var c6e=re(Xr()),j4=re(Be()),ih=re(Gt());var Ler={active:ih.default.bool,disabled:ih.default.bool,role:ih.default.string,href:ih.default.string,onClick:ih.default.func,onSelect:ih.default.func,eventKey:ih.default.any},qer={active:!1,disabled:!1},tW=function(e){rr(t,e);function t(n,i){var o;return o=e.call(this,n,i)||this,o.handleClick=o.handleClick.bind(jr(jr(o))),o}var r=t.prototype;return r.handleClick=function(i){if(this.props.disabled){i.preventDefault();return}this.props.onSelect&&this.props.onSelect(this.props.eventKey,i)},r.render=function(){var i=this.props,o=i.active,u=i.disabled,p=i.onClick,h=i.className,y=i.style,_=or(i,["active","disabled","onClick","className","style"]);return delete _.onSelect,delete _.eventKey,delete _.activeKey,delete _.activeHref,_.role?_.role==="tab"&&(_["aria-selected"]=o):_.href==="#"&&(_.role="button"),j4.default.createElement("li",{role:"presentation",className:(0,c6e.default)(h,{active:o,disabled:u}),style:y},j4.default.createElement(Xf,gt({},_,{disabled:u,onClick:ai(p,this.handleClick)})))},t}(j4.default.Component);tW.propTypes=Ler;tW.defaultProps=qer;var d6e=tW;var F6e=re(Xr()),U2=re(Be()),ul=re(Gt()),lW=re(j6e()),B6e=re(Xo());var ztr=gt({},lW.default.propTypes,{show:ul.default.bool,rootClose:ul.default.bool,onHide:ul.default.func,animation:ul.default.oneOfType([ul.default.bool,B6e.default]),onEnter:ul.default.func,onEntering:ul.default.func,onEntered:ul.default.func,onExit:ul.default.func,onExiting:ul.default.func,onExited:ul.default.func,placement:ul.default.oneOf(["top","right","bottom","left"])}),jtr={animation:eh,rootClose:!1,show:!1,placement:"right"},uW=function(e){rr(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this.props,o=i.animation,u=i.children,p=or(i,["animation","children"]),h=o===!0?eh:o||null,y;return h?y=u:y=(0,U2.cloneElement)(u,{className:(0,F6e.default)(u.props.className,"in")}),U2.default.createElement(lW.default,gt({},p,{transition:h}),y)},t}(U2.default.Component);uW.propTypes=ztr;uW.defaultProps=jtr;var cW=uW;var dW=re(Xr()),R0=re(Be()),z0=re(Gt()),aRr=re(Qf());var Ftr={inline:z0.default.bool,disabled:z0.default.bool,title:z0.default.string,validationState:z0.default.oneOf(["success","warning","error",null]),inputRef:z0.default.func},Btr={inline:!1,disabled:!1,title:""},pW=function(e){rr(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this.props,o=i.inline,u=i.disabled,p=i.validationState,h=i.inputRef,y=i.className,_=i.style,E=i.title,T=i.children,N=or(i,["inline","disabled","validationState","inputRef","className","style","title","children"]),R=_n(N),j=R[0],k=R[1],L=R0.default.createElement("input",gt({},k,{ref:h,type:"radio",disabled:u}));if(o){var F,G=(F={},F[Lr(j,"inline")]=!0,F.disabled=u,F);return R0.default.createElement("label",{className:(0,dW.default)(y,G),style:_,title:E},L,T)}var ee=gt({},nn(j),{disabled:u});return p&&(ee["has-"+p]=!0),R0.default.createElement("div",{className:(0,dW.default)(y,ee),style:_},R0.default.createElement("label",{title:E},L,T))},t}(R0.default.Component);pW.propTypes=Ftr;pW.defaultProps=Btr;var fW=Sr("radio",pW);var vW=re(Be()),nP=re(Gt());var K4=re(Be()),Gl=re(Gt());var Utr="tab",Vtr="pane",$tr=Gl.default.oneOfType([Gl.default.string,Gl.default.number]),Htr={id:function(t){var r=null;if(!t.generateChildId){for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];r=$tr.apply(void 0,[t].concat(i)),!r&&!t.id&&(r=new Error("In order to properly initialize Tabs in a way that is accessible to assistive technologies (such as screen readers) an `id` or a `generateChildId` prop to TabContainer is required"))}return r},generateChildId:Gl.default.func,onSelect:Gl.default.func,activeKey:Gl.default.any},Wtr={$bs_tabContainer:Gl.default.shape({activeKey:Gl.default.any,onSelect:Gl.default.func.isRequired,getTabId:Gl.default.func.isRequired,getPaneId:Gl.default.func.isRequired})},hW=function(e){rr(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.getChildContext=function(){var i=this.props,o=i.activeKey,u=i.onSelect,p=i.generateChildId,h=i.id,y=p||function(_,E){return h?h+"-"+E+"-"+_:null};return{$bs_tabContainer:{activeKey:o,onSelect:u,getTabId:function(E){return y(E,Utr)},getPaneId:function(E){return y(E,Vtr)}}}},r.render=function(){var i=this.props,o=i.children,u=or(i,["children"]);return delete u.generateChildId,delete u.onSelect,delete u.activeKey,K4.default.cloneElement(K4.default.Children.only(o),u)},t}(K4.default.Component);hW.propTypes=Htr;hW.childContextTypes=Wtr;var X4=Ld(hW,{activeKey:"onSelect"});var U6e=re(Xr()),mW=re(Be()),Jo=re(Gt()),Q4=re(Xo());var Gtr={componentClass:Q4.default,animation:Jo.default.oneOfType([Jo.default.bool,Q4.default]),mountOnEnter:Jo.default.bool,unmountOnExit:Jo.default.bool},Ytr={componentClass:"div",animation:!0,mountOnEnter:!1,unmountOnExit:!1},Ztr={$bs_tabContainer:Jo.default.shape({activeKey:Jo.default.any})},Ktr={$bs_tabContent:Jo.default.shape({bsClass:Jo.default.string,animation:Jo.default.oneOfType([Jo.default.bool,Q4.default]),activeKey:Jo.default.any,mountOnEnter:Jo.default.bool,unmountOnExit:Jo.default.bool,onPaneEnter:Jo.default.func.isRequired,onPaneExited:Jo.default.func.isRequired,exiting:Jo.default.bool.isRequired})},V2=function(e){rr(t,e);function t(n,i){var o;return o=e.call(this,n,i)||this,o.handlePaneEnter=o.handlePaneEnter.bind(jr(jr(o))),o.handlePaneExited=o.handlePaneExited.bind(jr(jr(o))),o.state={activeKey:null,activeChild:null},o}var r=t.prototype;return r.getChildContext=function(){var i=this.props,o=i.bsClass,u=i.animation,p=i.mountOnEnter,h=i.unmountOnExit,y=this.state.activeKey,_=this.getContainerActiveKey(),E=y!=null?y:_,T=y!=null&&y!==_;return{$bs_tabContent:{bsClass:o,animation:u,activeKey:E,mountOnEnter:p,unmountOnExit:h,onPaneEnter:this.handlePaneEnter,onPaneExited:this.handlePaneExited,exiting:T}}},r.UNSAFE_componentWillReceiveProps=function(i){!i.animation&&this.state.activeChild&&this.setState({activeKey:null,activeChild:null})},r.componentWillUnmount=function(){this.isUnmounted=!0},r.getContainerActiveKey=function(){var i=this.context.$bs_tabContainer;return i&&i.activeKey},r.handlePaneEnter=function(i,o){return!this.props.animation||o!==this.getContainerActiveKey()?!1:(this.setState({activeKey:o,activeChild:i}),!0)},r.handlePaneExited=function(i){this.isUnmounted||this.setState(function(o){var u=o.activeChild;return u!==i?null:{activeKey:null,activeChild:null}})},r.render=function(){var i=this.props,o=i.componentClass,u=i.className,p=or(i,["componentClass","className"]),h=Sc(p,["animation","mountOnEnter","unmountOnExit"]),y=h[0],_=h[1];return mW.default.createElement(o,gt({},_,{className:(0,U6e.default)(u,Lr(y,"content"))}))},t}(mW.default.Component);V2.propTypes=Gtr;V2.defaultProps=Ytr;V2.contextTypes=Ztr;V2.childContextTypes=Ktr;var J4=Sr("tab",V2);var V6e=re(Xr()),eP=re(Be()),$n=re(Gt()),gW=re(Xo()),IRr=re(Qf());var Xtr={eventKey:$n.default.any,animation:$n.default.oneOfType([$n.default.bool,gW.default]),id:$n.default.string,"aria-labelledby":$n.default.string,bsClass:$n.default.string,onEnter:$n.default.func,onEntering:$n.default.func,onEntered:$n.default.func,onExit:$n.default.func,onExiting:$n.default.func,onExited:$n.default.func,mountOnEnter:$n.default.bool,unmountOnExit:$n.default.bool},Qtr={$bs_tabContainer:$n.default.shape({getTabId:$n.default.func,getPaneId:$n.default.func}),$bs_tabContent:$n.default.shape({bsClass:$n.default.string,animation:$n.default.oneOfType([$n.default.bool,gW.default]),activeKey:$n.default.any,mountOnEnter:$n.default.bool,unmountOnExit:$n.default.bool,onPaneEnter:$n.default.func.isRequired,onPaneExited:$n.default.func.isRequired,exiting:$n.default.bool.isRequired})},Jtr={$bs_tabContainer:$n.default.oneOf([null])},tP=function(e){rr(t,e);function t(n,i){var o;return o=e.call(this,n,i)||this,o.handleEnter=o.handleEnter.bind(jr(jr(o))),o.handleExited=o.handleExited.bind(jr(jr(o))),o.in=!1,o}var r=t.prototype;return r.getChildContext=function(){return{$bs_tabContainer:null}},r.componentDidMount=function(){this.shouldBeIn()&&this.handleEnter()},r.componentDidUpdate=function(){this.in?this.shouldBeIn()||this.handleExited():this.shouldBeIn()&&this.handleEnter()},r.componentWillUnmount=function(){this.in&&this.handleExited()},r.getAnimation=function(){if(this.props.animation!=null)return this.props.animation;var i=this.context.$bs_tabContent;return i&&i.animation},r.handleEnter=function(){var i=this.context.$bs_tabContent;i&&(this.in=i.onPaneEnter(this,this.props.eventKey))},r.handleExited=function(){var i=this.context.$bs_tabContent;i&&(i.onPaneExited(this),this.in=!1)},r.isActive=function(){var i=this.context.$bs_tabContent,o=i&&i.activeKey;return this.props.eventKey===o},r.shouldBeIn=function(){return this.getAnimation()&&this.isActive()},r.render=function(){var i=this.props,o=i.eventKey,u=i.className,p=i.onEnter,h=i.onEntering,y=i.onEntered,_=i.onExit,E=i.onExiting,T=i.onExited,N=i.mountOnEnter,R=i.unmountOnExit,j=or(i,["eventKey","className","onEnter","onEntering","onEntered","onExit","onExiting","onExited","mountOnEnter","unmountOnExit"]),k=this.context,L=k.$bs_tabContent,F=k.$bs_tabContainer,G=Sc(j,["animation"]),ee=G[0],ae=G[1],ue=this.isActive(),ge=this.getAnimation(),Oe=N!=null?N:L&&L.mountOnEnter,_e=R!=null?R:L&&L.unmountOnExit;if(!ue&&!ge&&_e)return null;var ze=ge===!0?eh:ge||null;L&&(ee.bsClass=Lr(L,"pane"));var We=gt({},nn(ee),{active:ue});F&&(ae.id=F.getPaneId(o),ae["aria-labelledby"]=F.getTabId(o));var $e=eP.default.createElement("div",gt({},ae,{role:"tabpanel","aria-hidden":!ue,className:(0,V6e.default)(u,We)}));if(ze){var qe=L&&L.exiting;return eP.default.createElement(ze,{in:ue&&!qe,onEnter:ai(this.handleEnter,p),onEntering:h,onEntered:y,onExit:_,onExiting:E,onExited:ai(this.handleExited,T),mountOnEnter:Oe,unmountOnExit:_e},$e)}return $e},t}(eP.default.Component);tP.propTypes=Xtr;tP.contextTypes=Qtr;tP.childContextTypes=Jtr;var rP=Sr("tab-pane",tP);var err=gt({},rP.propTypes,{disabled:nP.default.bool,title:nP.default.node,tabClassName:nP.default.string}),$2=function(e){rr(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=gt({},this.props);return delete i.title,delete i.disabled,delete i.tabClassName,vW.default.createElement(rP,i)},t}(vW.default.Component);$2.propTypes=err;$2.Container=X4;$2.Content=J4;$2.Pane=rP;var iP=$2;var eg=re(Be()),Pu=re(Gt()),$6e=re(Q3());var H6e=re(Xo());var trr=X4.ControlledComponent,rrr={activeKey:Pu.default.any,bsStyle:Pu.default.oneOf(["tabs","pills"]),animation:Pu.default.oneOfType([Pu.default.bool,H6e.default]),id:(0,$6e.default)(Pu.default.oneOfType([Pu.default.string,Pu.default.number])),onSelect:Pu.default.func,mountOnEnter:Pu.default.bool,unmountOnExit:Pu.default.bool},nrr={bsStyle:"tabs",animation:!0,mountOnEnter:!1,unmountOnExit:!1};function irr(e){var t;return Mo.forEach(e,function(r){t==null&&(t=r.props.eventKey)}),t}var oP=function(e){rr(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.renderTab=function(i){var o=i.props,u=o.title,p=o.eventKey,h=o.disabled,y=o.tabClassName;return u==null?null:eg.default.createElement(d6e,{eventKey:p,disabled:h,className:y},u)},r.render=function(){var i=this.props,o=i.id,u=i.onSelect,p=i.animation,h=i.mountOnEnter,y=i.unmountOnExit,_=i.bsClass,E=i.className,T=i.style,N=i.children,R=i.activeKey,j=R===void 0?irr(N):R,k=or(i,["id","onSelect","animation","mountOnEnter","unmountOnExit","bsClass","className","style","children","activeKey"]);return eg.default.createElement(trr,{id:o,activeKey:j,onSelect:u,className:E,style:T},eg.default.createElement("div",null,eg.default.createElement(u6e,gt({},k,{role:"tablist"}),Mo.map(N,this.renderTab)),eg.default.createElement(J4,{bsClass:_,animation:p,mountOnEnter:h,unmountOnExit:y},N)))},t}(eg.default.Component);oP.propTypes=rrr;oP.defaultProps=nrr;Sr("tab",oP);var yW=Ld(oP,{activeKey:"onSelect"});var W6e=re(Xr()),H2=re(Be()),ea=re(Gt()),G6e=re(Q3());var orr={id:(0,G6e.default)(ea.default.oneOfType([ea.default.string,ea.default.number])),placement:ea.default.oneOf(["top","right","bottom","left"]),positionTop:ea.default.oneOfType([ea.default.number,ea.default.string]),positionLeft:ea.default.oneOfType([ea.default.number,ea.default.string]),arrowOffsetTop:ea.default.oneOfType([ea.default.number,ea.default.string]),arrowOffsetLeft:ea.default.oneOfType([ea.default.number,ea.default.string])},arr={placement:"right"},_W=function(e){rr(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i,o=this.props,u=o.placement,p=o.positionTop,h=o.positionLeft,y=o.arrowOffsetTop,_=o.arrowOffsetLeft,E=o.className,T=o.style,N=o.children,R=or(o,["placement","positionTop","positionLeft","arrowOffsetTop","arrowOffsetLeft","className","style","children"]),j=_n(R),k=j[0],L=j[1],F=gt({},nn(k),(i={},i[u]=!0,i)),G=gt({top:p,left:h},T),ee={top:y,left:_};return H2.default.createElement("div",gt({},L,{role:"tooltip",className:(0,W6e.default)(E,F),style:G}),H2.default.createElement("div",{className:Lr(k,"arrow"),style:ee}),H2.default.createElement("div",{className:Lr(k,"inner")},N))},t}(H2.default.Component);_W.propTypes=orr;_W.defaultProps=arr;var bW=Sr("tooltip",_W);var uS=re(Gt(),1);var iS=re(Be(),1);var sr={id:"id",timePublished:"time_published",timeChanged:"time_changed",title:"title",thumbnailUrl:"thumb_url",bounds:"bounds",hasGeoReference:"has_georeference",tmsUrls:"tms_urls",onlineResources:"online_resources",mapScale:"map_scale",rawMapIds:"raw_map_ids",name:"name",description:"description",type:"type",vectorMapId:"vector_map_id",version:"version",userRole:"user_role"},tg={id:"vkf:layer_id"},Ta={HISTORIC_MAP:"historic_map",MOSAIC_MAP:"mosaic",VECTOR_MAP:"vector",LEGACY_GEOJSON:"geojson"};var j0=class e{constructor({metadata:t,geometry:r}){Xe(this,"metadata",{});Xe(this,"geometry",{});if(this.constructor===e)throw new Error(`Abstract class '${this.constructor}' cannot be instantiated.`);this.metadata=t,this.geometry=r}getGeometry(){return this.geometry}getId(){return this.metadata.id}getMetadata(t){return er(t)?this.metadata[t]:this.metadata}updateMetadata(t,r){if(!er(t)||!er(r)){console.warn("Trying to update metadata without key or value");return}if(!Object.values(sr).includes(t)){console.warn(`Trying to update metadata with invalid key '${t}'`);return}this.metadata[t]=r}addLayerToMap(){throw new Error("Method 'addLayerToMap' must be implemented.")}isDisplayedInMap(){throw new Error("Method 'isDisplayedInMap' must be implemented.")}getType(){throw new Error("Method 'getType' must be implemented.")}setOpacity(){throw new Error("Method 'setOpacity' must be implemented.")}getOpacity(){throw new Error("Method 'getOpacity' must be implemented.")}moveToTop(){throw new Error("Method 'moveToTop' must be implemented.")}move(){throw new Error("Method 'move' must be implemented.")}getMapLibreLayerId(){throw new Error("Method 'getMapLibreLayerId' must be implemented.")}removeLayer(){throw new Error("Method 'removeLayer' must be implemented.")}setVisibility(){throw new Error("Method 'setVisibility' must be implemented.")}isVisible(){throw new Error("Method 'isVisible' must be implemented.")}serialize(){throw new Error("Method 'serialize' must be implemented.")}};var lP=re(Be(),1);var W2=re(Be(),1);var aP=re(Gt(),1);var Y6e=(e,{sourceId:t,fillId:r,outlineId:n})=>{e.addSource(t,{type:"geojson",data:{type:"FeatureCollection",features:[]}}),e.addLayer({id:r,type:"fill",source:t,paint:{"fill-color":"#ff0000","fill-opacity":.2}}),e.addLayer({id:n,type:"line",source:t,paint:{"line-color":"#ff0000","line-width":1}})},srr=(e,{sourceId:t,fillId:r,outlineId:n})=>{e.getLayer(r)&&e.removeLayer(r),e.getLayer(n)&&e.removeLayer(n),e.getSource(t)&&e.removeSource(t)},Z6e=e=>{let t=mr(ni);return(0,W2.useEffect)(()=>{if(er(t)){let r=()=>{Y6e(t,Ze({},e))};return t._loaded?Y6e(t,Ze({},e)):t.once("load",r),()=>{srr(t,Ze({},e)),t.off("load",r)}}},[t]),W2.default.createElement(W2.default.Fragment,null)};Z6e.propTypes={sourceId:aP.default.string.isRequired,fillId:aP.default.string.isRequired,outlineId:aP.default.string.isRequired};var K6e=Z6e;var sP=K6e;var X6e="vkf-map-overlay-source",Yl="vkf-map-overlay-fill",lrr="vkf-map-overlay-outline",xW=(e,t)=>{let r=e.getSource(X6e);r&&r.setData(t)},Q6e=()=>lP.default.createElement(lP.default.Fragment,null,lP.default.createElement(sP,{sourceId:X6e,fillId:Yl,outlineId:lrr}));Q6e.propTypes={};var J6e=Q6e;var eLe=(e,t,r,n)=>{var u,p;let i=e.getId();t.addSource(i,xr(Ze({type:"raster"},r),{bounds:e.getMetadata(sr.bounds)}));let o=t.getLayer(Yl)!==void 0?Yl:void 0;t.addLayer({id:i,type:"raster",metadata:{[tg.id]:i},source:i,layout:{visibility:(u=n==null?void 0:n.visibility)!=null?u:"visible"},paint:{"raster-opacity":(p=n==null?void 0:n.opacity)!=null?p:1}},o)};function wW(e,t,r){if(e!==null)for(var n,i,o,u,p,h,y,_=0,E=0,T,N=e.type,R=N==="FeatureCollection",j=N==="Feature",k=R?e.features.length:1,L=0;L<k;L++){y=R?e.features[L].geometry:j?e.geometry:e,T=y?y.type==="GeometryCollection":!1,p=T?y.geometries.length:1;for(var F=0;F<p;F++){var G=0,ee=0;if(u=T?y.geometries[F]:y,u!==null){h=u.coordinates;var ae=u.type;switch(_=r&&(ae==="Polygon"||ae==="MultiPolygon")?1:0,ae){case null:break;case"Point":if(t(h,E,L,G,ee)===!1)return!1;E++,G++;break;case"LineString":case"MultiPoint":for(n=0;n<h.length;n++){if(t(h[n],E,L,G,ee)===!1)return!1;E++,ae==="MultiPoint"&&G++}ae==="LineString"&&G++;break;case"Polygon":case"MultiLineString":for(n=0;n<h.length;n++){for(i=0;i<h[n].length-_;i++){if(t(h[n][i],E,L,G,ee)===!1)return!1;E++}ae==="MultiLineString"&&G++,ae==="Polygon"&&ee++}ae==="Polygon"&&G++;break;case"MultiPolygon":for(n=0;n<h.length;n++){for(ee=0,i=0;i<h[n].length;i++){for(o=0;o<h[n][i].length-_;o++){if(t(h[n][i][o],E,L,G,ee)===!1)return!1;E++}ee++}G++}break;case"GeometryCollection":for(n=0;n<u.geometries.length;n++)if(wW(u.geometries[n],t,r)===!1)return!1;break;default:throw new Error("Unknown Geometry Type");}}}}}function G2(e,t={}){if(e.bbox!=null&&t.recompute!==!0)return e.bbox;let r=[1/0,1/0,-1/0,-1/0];return wW(e,n=>{r[0]>n[0]&&(r[0]=n[0]),r[1]>n[1]&&(r[1]=n[1]),r[2]<n[0]&&(r[2]=n[0]),r[3]<n[1]&&(r[3]=n[1])}),r}var Y2,uP,tLe,SW=class extends j0{constructor({metadata:r,geometry:n}){super({metadata:r,geometry:n});Up(this,uP);Up(this,Y2,!1);fs(this,uP,tLe).call(this)}addLayerToMap(r,{sourceSettings:n,layerSettings:i}){if(r.getSource(this.getId())){console.error(`Source with id '${this.getId()}' exists already in map.`);return}return eLe(this,r,n,i)}addToOverlay(r,n){let i=r.getSource(n);if(i){let o=this.getPreviewFeature();o.id=this.getId();let u=[o];i.updateData({add:u})}}removeFromOverlay(r,n){let i=r.getSource(n);if(i){let o=[this.getId()];i.updateData({remove:o})}}getPreviewFeature(){return{type:"Feature",properties:{},geometry:this.geometry}}isDisplayedInMap(r){return r.getSource(this.getId())!==void 0&&r.getLayer(this.getId())!==void 0}getType(){return Ta.HISTORIC_MAP}setOpacity(r,n){r.getLayer(this.getId())&&r.setPaintProperty(this.getId(),"raster-opacity",n)}getOpacity(r){var n;return r.getLayer(this.getId())?(n=r.getPaintProperty(this.getId(),"raster-opacity"))!=null?n:1:null}moveToTop(r){this.move(r,null)}move(r,n){let i=n;er(n)||(er(r.getLayer(Yl))?i=Yl:i=null),r.moveLayer(this.getId(),i)}getMapLibreLayerId(){return this.getId()}removeMapLibreLayers(r){r.getLayer(this.getMapLibreLayerId())&&r.removeLayer(this.getMapLibreLayerId()),r.getSource(this.getId())&&r.removeSource(this.getId())}setVisibility(r,n){r.setLayoutProperty(this.getMapLibreLayerId(),"visibility",n)}isVisible(r){return r.getLayoutProperty(this.getMapLibreLayerId(),"visibility")==="visible"}isMissing(){return Yu(this,Y2)}setIsMissing(r){$h(this,Y2,r)}};Y2=new WeakMap,uP=new WeakSet,tLe=function(){let r=this.geometry?G2(this.geometry):void 0;this.metadata[sr.bounds]=r};var rLe=SW;var rg=rLe;var En={SYMBOL:"symbol",LINE:"line",FILL:"fill",OUTLINE:"outline"},IW={[En.LINE]:"line-opacity",[En.FILL]:"fill-opacity",[En.OUTLINE]:"outline-opacity"},EW={[En.LINE]:"stroke-opacity",[En.FILL]:"fill-opacity",[En.OUTLINE]:"stroke-opacity"},TW=e=>Object.keys(EW).includes(e),Oo={[En.SYMBOL]:{COLOR:"#0000FF"},[En.LINE]:{COLOR:"#00FF00",WIDTH:3,OPACITY:1},[En.OUTLINE]:{COLOR:"#0000FF",WIDTH:1,OPACITY:1},[En.FILL]:{COLOR:"#FFFF00",OPACITY:.27}},MW={[En.SYMBOL]:{type:"symbol",layout:{"icon-image":Ar.getSettings().MARKER_IMAGE_ID,"icon-size":.5,"icon-anchor":"bottom","icon-allow-overlap":!0},paint:{"icon-color":["to-color",["feature-state","marker"],["get","marker"],Oo[En.SYMBOL].COLOR],"icon-halo-color":"#FFF","icon-halo-width":1},filter:["==",["geometry-type"],"Point"]},[En.LINE]:{type:"line",paint:{"line-color":["coalesce",["feature-state","stroke"],["get","stroke"],Oo[En.LINE].COLOR],"line-width":["coalesce",["feature-state","stroke-width"],["get","stroke-width"],Oo[En.LINE].WIDTH],"line-opacity":["coalesce",["feature-state","stroke-opacity"],["get","stroke-opacity"],Oo[En.LINE].OPACITY]},filter:["==",["geometry-type"],"LineString"]},[En.OUTLINE]:{type:"line",paint:{"line-color":["coalesce",["feature-state","stroke"],["get","stroke"],Oo[En.OUTLINE].COLOR],"line-width":["coalesce",["feature-state","stroke-width"],["get","stroke-width"],Oo[En.OUTLINE].WIDTH],"line-opacity":["coalesce",["feature-state","stroke-opacity"],["get","stroke-opacity"],Oo[En.OUTLINE].OPACITY]},filter:["==",["geometry-type"],"Polygon"]},[En.FILL]:{type:"fill",paint:{"fill-color":["coalesce",["feature-state","fill"],["get","fill"],Oo[En.FILL].COLOR],"fill-opacity":["coalesce",["feature-state","fill-opacity"],["get","fill-opacity"],Oo[En.FILL].OPACITY]},filter:["==",["geometry-type"],"Polygon"]}};var Z2=class extends Date{constructor(){super(),this.setTime(arguments.length===0?Date.now():arguments.length===1?typeof arguments[0]=="string"?+new Date(arguments[0]):arguments[0]:Date.UTC(...arguments))}getTimezoneOffset(){return 0}},nLe=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(e=>{if(nLe.test(e)){let t=Date.prototype[e.replace(nLe,"$1UTC")];t&&(Z2.prototype[e]=t)}});var cP=class extends Z2{toString(){let t=this.toDateString(),r=this.toTimeString();return`${t} ${r}`}toDateString(){let t=urr.format(this),r=crr.format(this),n=this.getFullYear();return`${t} ${r} ${n}`}toTimeString(){return`${drr.format(this)} GMT+0000 (Coordinated Universal Time)`}toLocaleString(t,r){return Date.prototype.toLocaleString.call(this,t,Ze({timeZone:"UTC"},r))}toLocaleDateString(t,r){return Date.prototype.toLocaleDateString.call(this,t,Ze({timeZone:"UTC"},r))}toLocaleTimeString(t,r){return Date.prototype.toLocaleTimeString.call(this,t,Ze({timeZone:"UTC"},r))}},urr=new Intl.DateTimeFormat("en-US",{weekday:"short",timeZone:"UTC"}),crr=new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",timeZone:"UTC"}),drr=new Intl.DateTimeFormat("en-GB",{hour12:!1,hour:"numeric",minute:"numeric",second:"numeric",timeZone:"UTC"});var ah=e=>new cP(+new Date(e));var prr=Math.pow(10,8)*24*60*60*1e3,s9r=-prr,dP=6048e5,iLe=864e5,K2=6e4,X2=36e5,oLe=1e3;var frr=3600;var aLe=frr*24,l9r=aLe*7,hrr=aLe*365.2425,mrr=hrr/12,u9r=mrr*3,CW=Symbol.for("constructDateFrom");function mn(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&CW in e?e[CW](t):e instanceof Date?new e.constructor(t):new Date(t)}function Vr(e,t){return mn(t||e,e)}function pP(e,t,r){let n=Vr(e,r==null?void 0:r.in);return isNaN(t)?mn((r==null?void 0:r.in)||e,NaN):(t&&n.setDate(n.getDate()+t),n)}var grr={};function Zl(){return grr}function Ds(e,t){var p,h,y,_,E,T,N,R;let r=Zl(),n=(R=(N=(_=(y=t==null?void 0:t.weekStartsOn)!=null?y:(h=(p=t==null?void 0:t.locale)==null?void 0:p.options)==null?void 0:h.weekStartsOn)!=null?_:r.weekStartsOn)!=null?N:(T=(E=r.locale)==null?void 0:E.options)==null?void 0:T.weekStartsOn)!=null?R:0,i=Vr(e,t==null?void 0:t.in),o=i.getDay(),u=(o<n?7:0)+o-n;return i.setDate(i.getDate()-u),i.setHours(0,0,0,0),i}function Ou(e,t){return Ds(e,xr(Ze({},t),{weekStartsOn:1}))}function fP(e,t){let r=Vr(e,t==null?void 0:t.in),n=r.getFullYear(),i=mn(r,0);i.setFullYear(n+1,0,4),i.setHours(0,0,0,0);let o=Ou(i),u=mn(r,0);u.setFullYear(n,0,4),u.setHours(0,0,0,0);let p=Ou(u);return r.getTime()>=o.getTime()?n+1:r.getTime()>=p.getTime()?n:n-1}function ng(e){let t=Vr(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function sLe(e,...t){let r=mn.bind(null,e||t.find(n=>typeof n=="object"));return t.map(r)}function Q2(e,t){let r=Vr(e,t==null?void 0:t.in);return r.setHours(0,0,0,0),r}function lLe(e,t,r){let[n,i]=sLe(r==null?void 0:r.in,e,t),o=Q2(n),u=Q2(i),p=+o-ng(o),h=+u-ng(u);return Math.round((p-h)/iLe)}function uLe(e,t){let r=fP(e,t),n=mn((t==null?void 0:t.in)||e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),Ou(n)}function cLe(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function hP(e){return!(!cLe(e)&&typeof e!="number"||isNaN(+Vr(e)))}function dLe(e,t){let r=Vr(e,t==null?void 0:t.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}var vrr={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},pLe=(e,t,r)=>{let n,i=vrr[e];return typeof i=="string"?n=i:t===1?n=i.one:n=i.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function mP(e){return(t={})=>{let r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}var yrr={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},_rr={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},brr={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},fLe={date:mP({formats:yrr,defaultWidth:"full"}),time:mP({formats:_rr,defaultWidth:"full"}),dateTime:mP({formats:brr,defaultWidth:"full"})};var xrr={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},hLe=(e,t,r,n)=>xrr[e];function F0(e){return(t,r)=>{let n=r!=null&&r.context?String(r.context):"standalone",i;if(n==="formatting"&&e.formattingValues){let u=e.defaultFormattingWidth||e.defaultWidth,p=r!=null&&r.width?String(r.width):u;i=e.formattingValues[p]||e.formattingValues[u]}else{let u=e.defaultWidth,p=r!=null&&r.width?String(r.width):e.defaultWidth;i=e.values[p]||e.values[u]}let o=e.argumentCallback?e.argumentCallback(t):t;return i[o]}}var wrr={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Srr={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Irr={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Err={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Trr={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Mrr={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Crr=(e,t)=>{let r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd";}return r+"th"},mLe={ordinalNumber:Crr,era:F0({values:wrr,defaultWidth:"wide"}),quarter:F0({values:Srr,defaultWidth:"wide",argumentCallback:e=>e-1}),month:F0({values:Irr,defaultWidth:"wide"}),day:F0({values:Err,defaultWidth:"wide"}),dayPeriod:F0({values:Trr,defaultWidth:"wide",formattingValues:Mrr,defaultFormattingWidth:"wide"})};function B0(e){return(t,r={})=>{let n=r.width,i=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],o=t.match(i);if(!o)return null;let u=o[0],p=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],h=Array.isArray(p)?Prr(p,E=>E.test(u)):Arr(p,E=>E.test(u)),y;y=e.valueCallback?e.valueCallback(h):h,y=r.valueCallback?r.valueCallback(y):y;let _=t.slice(u.length);return{value:y,rest:_}}}function Arr(e,t){for(let r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function Prr(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function gLe(e){return(t,r={})=>{let n=t.match(e.matchPattern);if(!n)return null;let i=n[0],o=t.match(e.parsePattern);if(!o)return null;let u=e.valueCallback?e.valueCallback(o[0]):o[0];u=r.valueCallback?r.valueCallback(u):u;let p=t.slice(i.length);return{value:u,rest:p}}}var Orr=/^(\d+)(th|st|nd|rd)?/i,Drr=/\d+/i,Nrr={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},krr={any:[/^b/i,/^(a|c)/i]},Lrr={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},qrr={any:[/1/i,/2/i,/3/i,/4/i]},Rrr={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},zrr={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},jrr={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Frr={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Brr={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Urr={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},vLe={ordinalNumber:gLe({matchPattern:Orr,parsePattern:Drr,valueCallback:e=>parseInt(e,10)}),era:B0({matchPatterns:Nrr,defaultMatchWidth:"wide",parsePatterns:krr,defaultParseWidth:"any"}),quarter:B0({matchPatterns:Lrr,defaultMatchWidth:"wide",parsePatterns:qrr,defaultParseWidth:"any",valueCallback:e=>e+1}),month:B0({matchPatterns:Rrr,defaultMatchWidth:"wide",parsePatterns:zrr,defaultParseWidth:"any"}),day:B0({matchPatterns:jrr,defaultMatchWidth:"wide",parsePatterns:Frr,defaultParseWidth:"any"}),dayPeriod:B0({matchPatterns:Brr,defaultMatchWidth:"any",parsePatterns:Urr,defaultParseWidth:"any"})};var J2={code:"en-US",formatDistance:pLe,formatLong:fLe,formatRelative:hLe,localize:mLe,match:vLe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function yLe(e,t){let r=Vr(e,t==null?void 0:t.in);return lLe(r,dLe(r))+1}function gP(e,t){let r=Vr(e,t==null?void 0:t.in),n=+Ou(r)-+uLe(r);return Math.round(n/dP)+1}function U0(e,t){var _,E,T,N,R,j,k,L;let r=Vr(e,t==null?void 0:t.in),n=r.getFullYear(),i=Zl(),o=(L=(k=(N=(T=t==null?void 0:t.firstWeekContainsDate)!=null?T:(E=(_=t==null?void 0:t.locale)==null?void 0:_.options)==null?void 0:E.firstWeekContainsDate)!=null?N:i.firstWeekContainsDate)!=null?k:(j=(R=i.locale)==null?void 0:R.options)==null?void 0:j.firstWeekContainsDate)!=null?L:1,u=mn((t==null?void 0:t.in)||e,0);u.setFullYear(n+1,0,o),u.setHours(0,0,0,0);let p=Ds(u,t),h=mn((t==null?void 0:t.in)||e,0);h.setFullYear(n,0,o),h.setHours(0,0,0,0);let y=Ds(h,t);return+r>=+p?n+1:+r>=+y?n:n-1}function _Le(e,t){var p,h,y,_,E,T,N,R;let r=Zl(),n=(R=(N=(_=(y=t==null?void 0:t.firstWeekContainsDate)!=null?y:(h=(p=t==null?void 0:t.locale)==null?void 0:p.options)==null?void 0:h.firstWeekContainsDate)!=null?_:r.firstWeekContainsDate)!=null?N:(T=(E=r.locale)==null?void 0:E.options)==null?void 0:T.firstWeekContainsDate)!=null?R:1,i=U0(e,t),o=mn((t==null?void 0:t.in)||e,0);return o.setFullYear(i,0,n),o.setHours(0,0,0,0),Ds(o,t)}function vP(e,t){let r=Vr(e,t==null?void 0:t.in),n=+Ds(r,t)-+_Le(r,t);return Math.round(n/dP)+1}function en(e,t){let r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}var Vd={y(e,t){let r=e.getFullYear(),n=r>0?r:1-r;return en(t==="yy"?n%100:n,t.length)},M(e,t){let r=e.getMonth();return t==="M"?String(r+1):en(r+1,2)},d(e,t){return en(e.getDate(),t.length)},a(e,t){let r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m.";}},h(e,t){return en(e.getHours()%12||12,t.length)},H(e,t){return en(e.getHours(),t.length)},m(e,t){return en(e.getMinutes(),t.length)},s(e,t){return en(e.getSeconds(),t.length)},S(e,t){let r=t.length,n=e.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return en(i,t.length)}};var V0={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},AW={G:function(e,t,r){let n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"});}},y:function(e,t,r){if(t==="yo"){let n=e.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return Vd.y(e,t)},Y:function(e,t,r,n){let i=U0(e,n),o=i>0?i:1-i;if(t==="YY"){let u=o%100;return en(u,2)}return t==="Yo"?r.ordinalNumber(o,{unit:"year"}):en(o,t.length)},R:function(e,t){let r=fP(e);return en(r,t.length)},u:function(e,t){let r=e.getFullYear();return en(r,t.length)},Q:function(e,t,r){let n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return en(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"});}},q:function(e,t,r){let n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return en(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"});}},M:function(e,t,r){let n=e.getMonth();switch(t){case"M":case"MM":return Vd.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"});}},L:function(e,t,r){let n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return en(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"});}},w:function(e,t,r,n){let i=vP(e,n);return t==="wo"?r.ordinalNumber(i,{unit:"week"}):en(i,t.length)},I:function(e,t,r){let n=gP(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):en(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Vd.d(e,t)},D:function(e,t,r){let n=yLe(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):en(n,t.length)},E:function(e,t,r){let n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"});}},e:function(e,t,r,n){let i=e.getDay(),o=(i-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return en(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"});}},c:function(e,t,r,n){let i=e.getDay(),o=(i-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return en(o,t.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"});}},i:function(e,t,r){let n=e.getDay(),i=n===0?7:n;switch(t){case"i":return String(i);case"ii":return en(i,t.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"});}},a:function(e,t,r){let i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"});}},b:function(e,t,r){let n=e.getHours(),i;switch(n===12?i=V0.noon:n===0?i=V0.midnight:i=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"});}},B:function(e,t,r){let n=e.getHours(),i;switch(n>=17?i=V0.evening:n>=12?i=V0.afternoon:n>=4?i=V0.morning:i=V0.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"});}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Vd.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Vd.H(e,t)},K:function(e,t,r){let n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):en(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):en(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Vd.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Vd.s(e,t)},S:function(e,t){return Vd.S(e,t)},X:function(e,t,r){let n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return xLe(n);case"XXXX":case"XX":return ig(n);case"XXXXX":case"XXX":default:return ig(n,":");}},x:function(e,t,r){let n=e.getTimezoneOffset();switch(t){case"x":return xLe(n);case"xxxx":case"xx":return ig(n);case"xxxxx":case"xxx":default:return ig(n,":");}},O:function(e,t,r){let n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+bLe(n,":");case"OOOO":default:return"GMT"+ig(n,":");}},z:function(e,t,r){let n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+bLe(n,":");case"zzzz":default:return"GMT"+ig(n,":");}},t:function(e,t,r){let n=Math.trunc(+e/1e3);return en(n,t.length)},T:function(e,t,r){return en(+e,t.length)}};function bLe(e,t=""){let r=e>0?"-":"+",n=Math.abs(e),i=Math.trunc(n/60),o=n%60;return o===0?r+String(i):r+String(i)+t+en(o,2)}function xLe(e,t){return e%60===0?(e>0?"-":"+")+en(Math.abs(e)/60,2):ig(e,t)}function ig(e,t=""){let r=e>0?"-":"+",n=Math.abs(e),i=en(Math.trunc(n/60),2),o=en(n%60,2);return r+i+t+o}var wLe=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"});}},SLe=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"});}},Vrr=(e,t)=>{let r=e.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return wLe(e,t);let o;switch(n){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break;}return o.replace("{{date}}",wLe(n,t)).replace("{{time}}",SLe(i,t))},eS={p:SLe,P:Vrr};var $rr=/^D+$/,Hrr=/^Y+$/,Wrr=["D","DD","YY","YYYY"];function yP(e){return $rr.test(e)}function _P(e){return Hrr.test(e)}function tS(e,t,r){let n=Grr(e,t,r);if(console.warn(n),Wrr.includes(e))throw new RangeError(n)}function Grr(e,t,r){let n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}var Yrr=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Zrr=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Krr=/^'([^]*?)'?$/,Xrr=/''/g,Qrr=/[a-zA-Z]/;function PW(e,t,r){var _,E,T,N,R,j,k,L,F,G,ee,ae,ue,ge,Oe,_e,ze,We;let n=Zl(),i=(E=(_=r==null?void 0:r.locale)!=null?_:n.locale)!=null?E:J2,o=(G=(F=(j=(R=r==null?void 0:r.firstWeekContainsDate)!=null?R:(N=(T=r==null?void 0:r.locale)==null?void 0:T.options)==null?void 0:N.firstWeekContainsDate)!=null?j:n.firstWeekContainsDate)!=null?F:(L=(k=n.locale)==null?void 0:k.options)==null?void 0:L.firstWeekContainsDate)!=null?G:1,u=(We=(ze=(ge=(ue=r==null?void 0:r.weekStartsOn)!=null?ue:(ae=(ee=r==null?void 0:r.locale)==null?void 0:ee.options)==null?void 0:ae.weekStartsOn)!=null?ge:n.weekStartsOn)!=null?ze:(_e=(Oe=n.locale)==null?void 0:Oe.options)==null?void 0:_e.weekStartsOn)!=null?We:0,p=Vr(e,r==null?void 0:r.in);if(!hP(p))throw new RangeError("Invalid time value");let h=t.match(Zrr).map($e=>{let qe=$e[0];if(qe==="p"||qe==="P"){let Je=eS[qe];return Je($e,i.formatLong)}return $e}).join("").match(Yrr).map($e=>{if($e==="''")return{isToken:!1,value:"'"};let qe=$e[0];if(qe==="'")return{isToken:!1,value:Jrr($e)};if(AW[qe])return{isToken:!0,value:$e};if(qe.match(Qrr))throw new RangeError("Format string contains an unescaped latin alphabet character `"+qe+"`");return{isToken:!1,value:$e}});i.localize.preprocessor&&(h=i.localize.preprocessor(p,h));let y={firstWeekContainsDate:o,weekStartsOn:u,locale:i};return h.map($e=>{if(!$e.isToken)return $e.value;let qe=$e.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&_P(qe)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&yP(qe))&&tS(qe,t,String(e));let Je=AW[qe[0]];return Je(p,qe,i.localize,y)}).join("")}function Jrr(e){let t=e.match(Krr);return t?t[1].replace(Xrr,"'"):e}function ILe(e,t){var y,_;let r=Vr(e,t==null?void 0:t.in);if(isNaN(+r))throw new RangeError("Invalid time value");let n=(y=t==null?void 0:t.format)!=null?y:"extended",i=(_=t==null?void 0:t.representation)!=null?_:"complete",o="",u="",p=n==="extended"?"-":"",h=n==="extended"?":":"";if(i!=="time"){let E=en(r.getDate(),2),T=en(r.getMonth()+1,2);o=`${en(r.getFullYear(),4)}${p}${T}${p}${E}`}if(i!=="date"){let E=r.getTimezoneOffset();if(E!==0){let L=Math.abs(E),F=en(Math.trunc(L/60),2),G=en(L%60,2);u=`${E<0?"+":"-"}${F}:${G}`}else u="Z";let T=en(r.getHours(),2),N=en(r.getMinutes(),2),R=en(r.getSeconds(),2),j=o===""?"":"T",k=[T,N,R].join(h);o=`${o}${j}${k}${u}`}return o}function ELe(){return Object.assign({},Zl())}function TLe(e,t){let r=Vr(e,t==null?void 0:t.in).getDay();return r===0?7:r}function MLe(e,t){let r=enr(t)?new t(0):mn(t,0);return r.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),r.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),r}function enr(e){var t;return typeof e=="function"&&((t=e.prototype)==null?void 0:t.constructor)===e}var tnr=10,bP=class{constructor(){Xe(this,"subPriority",0)}validate(t,r){return!0}},xP=class extends bP{constructor(t,r,n,i,o){super(),this.value=t,this.validateValue=r,this.setValue=n,this.priority=i,o&&(this.subPriority=o)}validate(t,r){return this.validateValue(t,this.value,r)}set(t,r,n){return this.setValue(t,r,this.value,n)}},wP=class extends bP{constructor(r,n){super();Xe(this,"priority",tnr);Xe(this,"subPriority",-1);this.context=r||(i=>mn(n,i))}set(r,n){return n.timestampIsSet?r:mn(r,MLe(r,this.context))}};var ar=class{run(t,r,n,i){let o=this.parse(t,r,n,i);return o?{setter:new xP(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}validate(t,r,n){return!0}};var SP=class extends ar{constructor(){super(...arguments);Xe(this,"priority",140);Xe(this,"incompatibleTokens",["R","u","t","T"])}parse(r,n,i){switch(n){case"G":case"GG":case"GGG":return i.era(r,{width:"abbreviated"})||i.era(r,{width:"narrow"});case"GGGGG":return i.era(r,{width:"narrow"});case"GGGG":default:return i.era(r,{width:"wide"})||i.era(r,{width:"abbreviated"})||i.era(r,{width:"narrow"});}}set(r,n,i){return n.era=i,r.setFullYear(i,0,1),r.setHours(0,0,0,0),r}};var bn={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Kl={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Hn(e,t){return e&&{value:t(e.value),rest:e.rest}}function gn(e,t){let r=t.match(e);return r?{value:parseInt(r[0],10),rest:t.slice(r[0].length)}:null}function Xl(e,t){let r=t.match(e);if(!r)return null;if(r[0]==="Z")return{value:0,rest:t.slice(1)};let n=r[1]==="+"?1:-1,i=r[2]?parseInt(r[2],10):0,o=r[3]?parseInt(r[3],10):0,u=r[5]?parseInt(r[5],10):0;return{value:n*(i*X2+o*K2+u*oLe),rest:t.slice(r[0].length)}}function IP(e){return gn(bn.anyDigitsSigned,e)}function Wr(e,t){switch(e){case 1:return gn(bn.singleDigit,t);case 2:return gn(bn.twoDigits,t);case 3:return gn(bn.threeDigits,t);case 4:return gn(bn.fourDigits,t);default:return gn(new RegExp("^\\d{1,"+e+"}"),t);}}function $0(e,t){switch(e){case 1:return gn(bn.singleDigitSigned,t);case 2:return gn(bn.twoDigitsSigned,t);case 3:return gn(bn.threeDigitsSigned,t);case 4:return gn(bn.fourDigitsSigned,t);default:return gn(new RegExp("^-?\\d{1,"+e+"}"),t);}}function H0(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0;}}function EP(e,t){let r=t>0,n=r?t:1-t,i;if(n<=50)i=e||100;else{let o=n+50,u=Math.trunc(o/100)*100,p=e>=o%100;i=e+u-(p?100:0)}return r?i:1-i}function TP(e){return e%400===0||e%4===0&&e%100!==0}var MP=class extends ar{constructor(){super(...arguments);Xe(this,"priority",130);Xe(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(r,n,i){let o=u=>({year:u,isTwoDigitYear:n==="yy"});switch(n){case"y":return Hn(Wr(4,r),o);case"yo":return Hn(i.ordinalNumber(r,{unit:"year"}),o);default:return Hn(Wr(n.length,r),o);}}validate(r,n){return n.isTwoDigitYear||n.year>0}set(r,n,i){let o=r.getFullYear();if(i.isTwoDigitYear){let p=EP(i.year,o);return r.setFullYear(p,0,1),r.setHours(0,0,0,0),r}let u=!("era"in n)||n.era===1?i.year:1-i.year;return r.setFullYear(u,0,1),r.setHours(0,0,0,0),r}};var CP=class extends ar{constructor(){super(...arguments);Xe(this,"priority",130);Xe(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(r,n,i){let o=u=>({year:u,isTwoDigitYear:n==="YY"});switch(n){case"Y":return Hn(Wr(4,r),o);case"Yo":return Hn(i.ordinalNumber(r,{unit:"year"}),o);default:return Hn(Wr(n.length,r),o);}}validate(r,n){return n.isTwoDigitYear||n.year>0}set(r,n,i,o){let u=U0(r,o);if(i.isTwoDigitYear){let h=EP(i.year,u);return r.setFullYear(h,0,o.firstWeekContainsDate),r.setHours(0,0,0,0),Ds(r,o)}let p=!("era"in n)||n.era===1?i.year:1-i.year;return r.setFullYear(p,0,o.firstWeekContainsDate),r.setHours(0,0,0,0),Ds(r,o)}};var AP=class extends ar{constructor(){super(...arguments);Xe(this,"priority",130);Xe(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(r,n){return n==="R"?$0(4,r):$0(n.length,r)}set(r,n,i){let o=mn(r,0);return o.setFullYear(i,0,4),o.setHours(0,0,0,0),Ou(o)}};var PP=class extends ar{constructor(){super(...arguments);Xe(this,"priority",130);Xe(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(r,n){return n==="u"?$0(4,r):$0(n.length,r)}set(r,n,i){return r.setFullYear(i,0,1),r.setHours(0,0,0,0),r}};var OP=class extends ar{constructor(){super(...arguments);Xe(this,"priority",120);Xe(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,n,i){switch(n){case"Q":case"QQ":return Wr(n.length,r);case"Qo":return i.ordinalNumber(r,{unit:"quarter"});case"QQQ":return i.quarter(r,{width:"abbreviated",context:"formatting"})||i.quarter(r,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(r,{width:"wide",context:"formatting"})||i.quarter(r,{width:"abbreviated",context:"formatting"})||i.quarter(r,{width:"narrow",context:"formatting"});}}validate(r,n){return n>=1&&n<=4}set(r,n,i){return r.setMonth((i-1)*3,1),r.setHours(0,0,0,0),r}};var DP=class extends ar{constructor(){super(...arguments);Xe(this,"priority",120);Xe(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,n,i){switch(n){case"q":case"qq":return Wr(n.length,r);case"qo":return i.ordinalNumber(r,{unit:"quarter"});case"qqq":return i.quarter(r,{width:"abbreviated",context:"standalone"})||i.quarter(r,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(r,{width:"wide",context:"standalone"})||i.quarter(r,{width:"abbreviated",context:"standalone"})||i.quarter(r,{width:"narrow",context:"standalone"});}}validate(r,n){return n>=1&&n<=4}set(r,n,i){return r.setMonth((i-1)*3,1),r.setHours(0,0,0,0),r}};var NP=class extends ar{constructor(){super(...arguments);Xe(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);Xe(this,"priority",110)}parse(r,n,i){let o=u=>u-1;switch(n){case"M":return Hn(gn(bn.month,r),o);case"MM":return Hn(Wr(2,r),o);case"Mo":return Hn(i.ordinalNumber(r,{unit:"month"}),o);case"MMM":return i.month(r,{width:"abbreviated",context:"formatting"})||i.month(r,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(r,{width:"wide",context:"formatting"})||i.month(r,{width:"abbreviated",context:"formatting"})||i.month(r,{width:"narrow",context:"formatting"});}}validate(r,n){return n>=0&&n<=11}set(r,n,i){return r.setMonth(i,1),r.setHours(0,0,0,0),r}};var kP=class extends ar{constructor(){super(...arguments);Xe(this,"priority",110);Xe(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(r,n,i){let o=u=>u-1;switch(n){case"L":return Hn(gn(bn.month,r),o);case"LL":return Hn(Wr(2,r),o);case"Lo":return Hn(i.ordinalNumber(r,{unit:"month"}),o);case"LLL":return i.month(r,{width:"abbreviated",context:"standalone"})||i.month(r,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(r,{width:"wide",context:"standalone"})||i.month(r,{width:"abbreviated",context:"standalone"})||i.month(r,{width:"narrow",context:"standalone"});}}validate(r,n){return n>=0&&n<=11}set(r,n,i){return r.setMonth(i,1),r.setHours(0,0,0,0),r}};function CLe(e,t,r){let n=Vr(e,r==null?void 0:r.in),i=vP(n,r)-t;return n.setDate(n.getDate()-i*7),Vr(n,r==null?void 0:r.in)}var LP=class extends ar{constructor(){super(...arguments);Xe(this,"priority",100);Xe(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(r,n,i){switch(n){case"w":return gn(bn.week,r);case"wo":return i.ordinalNumber(r,{unit:"week"});default:return Wr(n.length,r);}}validate(r,n){return n>=1&&n<=53}set(r,n,i,o){return Ds(CLe(r,i,o),o)}};function ALe(e,t,r){let n=Vr(e,r==null?void 0:r.in),i=gP(n,r)-t;return n.setDate(n.getDate()-i*7),n}var qP=class extends ar{constructor(){super(...arguments);Xe(this,"priority",100);Xe(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(r,n,i){switch(n){case"I":return gn(bn.week,r);case"Io":return i.ordinalNumber(r,{unit:"week"});default:return Wr(n.length,r);}}validate(r,n){return n>=1&&n<=53}set(r,n,i){return Ou(ALe(r,i))}};var rnr=[31,28,31,30,31,30,31,31,30,31,30,31],nnr=[31,29,31,30,31,30,31,31,30,31,30,31],RP=class extends ar{constructor(){super(...arguments);Xe(this,"priority",90);Xe(this,"subPriority",1);Xe(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(r,n,i){switch(n){case"d":return gn(bn.date,r);case"do":return i.ordinalNumber(r,{unit:"date"});default:return Wr(n.length,r);}}validate(r,n){let i=r.getFullYear(),o=TP(i),u=r.getMonth();return o?n>=1&&n<=nnr[u]:n>=1&&n<=rnr[u]}set(r,n,i){return r.setDate(i),r.setHours(0,0,0,0),r}};var zP=class extends ar{constructor(){super(...arguments);Xe(this,"priority",90);Xe(this,"subpriority",1);Xe(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(r,n,i){switch(n){case"D":case"DD":return gn(bn.dayOfYear,r);case"Do":return i.ordinalNumber(r,{unit:"date"});default:return Wr(n.length,r);}}validate(r,n){let i=r.getFullYear();return TP(i)?n>=1&&n<=366:n>=1&&n<=365}set(r,n,i){return r.setMonth(0,i),r.setHours(0,0,0,0),r}};function W0(e,t,r){var E,T,N,R,j,k,L,F;let n=Zl(),i=(F=(L=(R=(N=r==null?void 0:r.weekStartsOn)!=null?N:(T=(E=r==null?void 0:r.locale)==null?void 0:E.options)==null?void 0:T.weekStartsOn)!=null?R:n.weekStartsOn)!=null?L:(k=(j=n.locale)==null?void 0:j.options)==null?void 0:k.weekStartsOn)!=null?F:0,o=Vr(e,r==null?void 0:r.in),u=o.getDay(),h=(t%7+7)%7,y=7-i,_=t<0||t>6?t-(u+y)%7:(h+y)%7-(u+y)%7;return pP(o,_,r)}var jP=class extends ar{constructor(){super(...arguments);Xe(this,"priority",90);Xe(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(r,n,i){switch(n){case"E":case"EE":case"EEE":return i.day(r,{width:"abbreviated",context:"formatting"})||i.day(r,{width:"short",context:"formatting"})||i.day(r,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(r,{width:"short",context:"formatting"})||i.day(r,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(r,{width:"wide",context:"formatting"})||i.day(r,{width:"abbreviated",context:"formatting"})||i.day(r,{width:"short",context:"formatting"})||i.day(r,{width:"narrow",context:"formatting"});}}validate(r,n){return n>=0&&n<=6}set(r,n,i,o){return r=W0(r,i,o),r.setHours(0,0,0,0),r}};var FP=class extends ar{constructor(){super(...arguments);Xe(this,"priority",90);Xe(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(r,n,i,o){let u=p=>{let h=Math.floor((p-1)/7)*7;return(p+o.weekStartsOn+6)%7+h};switch(n){case"e":case"ee":return Hn(Wr(n.length,r),u);case"eo":return Hn(i.ordinalNumber(r,{unit:"day"}),u);case"eee":return i.day(r,{width:"abbreviated",context:"formatting"})||i.day(r,{width:"short",context:"formatting"})||i.day(r,{width:"narrow",context:"formatting"});case"eeeee":return i.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(r,{width:"short",context:"formatting"})||i.day(r,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(r,{width:"wide",context:"formatting"})||i.day(r,{width:"abbreviated",context:"formatting"})||i.day(r,{width:"short",context:"formatting"})||i.day(r,{width:"narrow",context:"formatting"});}}validate(r,n){return n>=0&&n<=6}set(r,n,i,o){return r=W0(r,i,o),r.setHours(0,0,0,0),r}};var BP=class extends ar{constructor(){super(...arguments);Xe(this,"priority",90);Xe(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(r,n,i,o){let u=p=>{let h=Math.floor((p-1)/7)*7;return(p+o.weekStartsOn+6)%7+h};switch(n){case"c":case"cc":return Hn(Wr(n.length,r),u);case"co":return Hn(i.ordinalNumber(r,{unit:"day"}),u);case"ccc":return i.day(r,{width:"abbreviated",context:"standalone"})||i.day(r,{width:"short",context:"standalone"})||i.day(r,{width:"narrow",context:"standalone"});case"ccccc":return i.day(r,{width:"narrow",context:"standalone"});case"cccccc":return i.day(r,{width:"short",context:"standalone"})||i.day(r,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(r,{width:"wide",context:"standalone"})||i.day(r,{width:"abbreviated",context:"standalone"})||i.day(r,{width:"short",context:"standalone"})||i.day(r,{width:"narrow",context:"standalone"});}}validate(r,n){return n>=0&&n<=6}set(r,n,i,o){return r=W0(r,i,o),r.setHours(0,0,0,0),r}};function PLe(e,t,r){let n=Vr(e,r==null?void 0:r.in),i=TLe(n,r),o=t-i;return pP(n,o,r)}var UP=class extends ar{constructor(){super(...arguments);Xe(this,"priority",90);Xe(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(r,n,i){let o=u=>u===0?7:u;switch(n){case"i":case"ii":return Wr(n.length,r);case"io":return i.ordinalNumber(r,{unit:"day"});case"iii":return Hn(i.day(r,{width:"abbreviated",context:"formatting"})||i.day(r,{width:"short",context:"formatting"})||i.day(r,{width:"narrow",context:"formatting"}),o);case"iiiii":return Hn(i.day(r,{width:"narrow",context:"formatting"}),o);case"iiiiii":return Hn(i.day(r,{width:"short",context:"formatting"})||i.day(r,{width:"narrow",context:"formatting"}),o);case"iiii":default:return Hn(i.day(r,{width:"wide",context:"formatting"})||i.day(r,{width:"abbreviated",context:"formatting"})||i.day(r,{width:"short",context:"formatting"})||i.day(r,{width:"narrow",context:"formatting"}),o);}}validate(r,n){return n>=1&&n<=7}set(r,n,i){return r=PLe(r,i),r.setHours(0,0,0,0),r}};var VP=class extends ar{constructor(){super(...arguments);Xe(this,"priority",80);Xe(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(r,n,i){switch(n){case"a":case"aa":case"aaa":return i.dayPeriod(r,{width:"abbreviated",context:"formatting"})||i.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(r,{width:"wide",context:"formatting"})||i.dayPeriod(r,{width:"abbreviated",context:"formatting"})||i.dayPeriod(r,{width:"narrow",context:"formatting"});}}set(r,n,i){return r.setHours(H0(i),0,0,0),r}};var $P=class extends ar{constructor(){super(...arguments);Xe(this,"priority",80);Xe(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(r,n,i){switch(n){case"b":case"bb":case"bbb":return i.dayPeriod(r,{width:"abbreviated",context:"formatting"})||i.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(r,{width:"wide",context:"formatting"})||i.dayPeriod(r,{width:"abbreviated",context:"formatting"})||i.dayPeriod(r,{width:"narrow",context:"formatting"});}}set(r,n,i){return r.setHours(H0(i),0,0,0),r}};var HP=class extends ar{constructor(){super(...arguments);Xe(this,"priority",80);Xe(this,"incompatibleTokens",["a","b","t","T"])}parse(r,n,i){switch(n){case"B":case"BB":case"BBB":return i.dayPeriod(r,{width:"abbreviated",context:"formatting"})||i.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(r,{width:"wide",context:"formatting"})||i.dayPeriod(r,{width:"abbreviated",context:"formatting"})||i.dayPeriod(r,{width:"narrow",context:"formatting"});}}set(r,n,i){return r.setHours(H0(i),0,0,0),r}};var WP=class extends ar{constructor(){super(...arguments);Xe(this,"priority",70);Xe(this,"incompatibleTokens",["H","K","k","t","T"])}parse(r,n,i){switch(n){case"h":return gn(bn.hour12h,r);case"ho":return i.ordinalNumber(r,{unit:"hour"});default:return Wr(n.length,r);}}validate(r,n){return n>=1&&n<=12}set(r,n,i){let o=r.getHours()>=12;return o&&i<12?r.setHours(i+12,0,0,0):!o&&i===12?r.setHours(0,0,0,0):r.setHours(i,0,0,0),r}};var GP=class extends ar{constructor(){super(...arguments);Xe(this,"priority",70);Xe(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(r,n,i){switch(n){case"H":return gn(bn.hour23h,r);case"Ho":return i.ordinalNumber(r,{unit:"hour"});default:return Wr(n.length,r);}}validate(r,n){return n>=0&&n<=23}set(r,n,i){return r.setHours(i,0,0,0),r}};var YP=class extends ar{constructor(){super(...arguments);Xe(this,"priority",70);Xe(this,"incompatibleTokens",["h","H","k","t","T"])}parse(r,n,i){switch(n){case"K":return gn(bn.hour11h,r);case"Ko":return i.ordinalNumber(r,{unit:"hour"});default:return Wr(n.length,r);}}validate(r,n){return n>=0&&n<=11}set(r,n,i){return r.getHours()>=12&&i<12?r.setHours(i+12,0,0,0):r.setHours(i,0,0,0),r}};var ZP=class extends ar{constructor(){super(...arguments);Xe(this,"priority",70);Xe(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(r,n,i){switch(n){case"k":return gn(bn.hour24h,r);case"ko":return i.ordinalNumber(r,{unit:"hour"});default:return Wr(n.length,r);}}validate(r,n){return n>=1&&n<=24}set(r,n,i){let o=i<=24?i%24:i;return r.setHours(o,0,0,0),r}};var KP=class extends ar{constructor(){super(...arguments);Xe(this,"priority",60);Xe(this,"incompatibleTokens",["t","T"])}parse(r,n,i){switch(n){case"m":return gn(bn.minute,r);case"mo":return i.ordinalNumber(r,{unit:"minute"});default:return Wr(n.length,r);}}validate(r,n){return n>=0&&n<=59}set(r,n,i){return r.setMinutes(i,0,0),r}};var XP=class extends ar{constructor(){super(...arguments);Xe(this,"priority",50);Xe(this,"incompatibleTokens",["t","T"])}parse(r,n,i){switch(n){case"s":return gn(bn.second,r);case"so":return i.ordinalNumber(r,{unit:"second"});default:return Wr(n.length,r);}}validate(r,n){return n>=0&&n<=59}set(r,n,i){return r.setSeconds(i,0),r}};var QP=class extends ar{constructor(){super(...arguments);Xe(this,"priority",30);Xe(this,"incompatibleTokens",["t","T"])}parse(r,n){let i=o=>Math.trunc(o*Math.pow(10,-n.length+3));return Hn(Wr(n.length,r),i)}set(r,n,i){return r.setMilliseconds(i),r}};var JP=class extends ar{constructor(){super(...arguments);Xe(this,"priority",10);Xe(this,"incompatibleTokens",["t","T","x"])}parse(r,n){switch(n){case"X":return Xl(Kl.basicOptionalMinutes,r);case"XX":return Xl(Kl.basic,r);case"XXXX":return Xl(Kl.basicOptionalSeconds,r);case"XXXXX":return Xl(Kl.extendedOptionalSeconds,r);case"XXX":default:return Xl(Kl.extended,r);}}set(r,n,i){return n.timestampIsSet?r:mn(r,r.getTime()-ng(r)-i)}};var eO=class extends ar{constructor(){super(...arguments);Xe(this,"priority",10);Xe(this,"incompatibleTokens",["t","T","X"])}parse(r,n){switch(n){case"x":return Xl(Kl.basicOptionalMinutes,r);case"xx":return Xl(Kl.basic,r);case"xxxx":return Xl(Kl.basicOptionalSeconds,r);case"xxxxx":return Xl(Kl.extendedOptionalSeconds,r);case"xxx":default:return Xl(Kl.extended,r);}}set(r,n,i){return n.timestampIsSet?r:mn(r,r.getTime()-ng(r)-i)}};var tO=class extends ar{constructor(){super(...arguments);Xe(this,"priority",40);Xe(this,"incompatibleTokens","*")}parse(r){return IP(r)}set(r,n,i){return[mn(r,i*1e3),{timestampIsSet:!0}]}};var rO=class extends ar{constructor(){super(...arguments);Xe(this,"priority",20);Xe(this,"incompatibleTokens","*")}parse(r){return IP(r)}set(r,n,i){return[mn(r,i),{timestampIsSet:!0}]}};var OLe={G:new SP,y:new MP,Y:new CP,R:new AP,u:new PP,Q:new OP,q:new DP,M:new NP,L:new kP,w:new LP,I:new qP,d:new RP,D:new zP,E:new jP,e:new FP,c:new BP,i:new UP,a:new VP,b:new $P,B:new HP,h:new WP,H:new GP,K:new YP,k:new ZP,m:new KP,s:new XP,S:new QP,X:new JP,x:new eO,t:new tO,T:new rO};var inr=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,onr=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,anr=/^'([^]*?)'?$/,snr=/''/g,lnr=/\S/,unr=/[a-zA-Z]/;function OW(e,t,r,n){var k,L,F,G,ee,ae,ue,ge,Oe,_e,ze,We,$e,qe,Je,dt,Ue,Re;let i=()=>mn((n==null?void 0:n.in)||r,NaN),o=ELe(),u=(L=(k=n==null?void 0:n.locale)!=null?k:o.locale)!=null?L:J2,p=(_e=(Oe=(ae=(ee=n==null?void 0:n.firstWeekContainsDate)!=null?ee:(G=(F=n==null?void 0:n.locale)==null?void 0:F.options)==null?void 0:G.firstWeekContainsDate)!=null?ae:o.firstWeekContainsDate)!=null?Oe:(ge=(ue=o.locale)==null?void 0:ue.options)==null?void 0:ge.firstWeekContainsDate)!=null?_e:1,h=(Re=(Ue=(qe=($e=n==null?void 0:n.weekStartsOn)!=null?$e:(We=(ze=n==null?void 0:n.locale)==null?void 0:ze.options)==null?void 0:We.weekStartsOn)!=null?qe:o.weekStartsOn)!=null?Ue:(dt=(Je=o.locale)==null?void 0:Je.options)==null?void 0:dt.weekStartsOn)!=null?Re:0;if(!t)return e?i():Vr(r,n==null?void 0:n.in);let y={firstWeekContainsDate:p,weekStartsOn:h,locale:u},_=[new wP(n==null?void 0:n.in,r)],E=t.match(onr).map(Pe=>{let et=Pe[0];if(et in eS){let lt=eS[et];return lt(Pe,u.formatLong)}return Pe}).join("").match(inr),T=[];for(let Pe of E){!(n!=null&&n.useAdditionalWeekYearTokens)&&_P(Pe)&&tS(Pe,t,e),!(n!=null&&n.useAdditionalDayOfYearTokens)&&yP(Pe)&&tS(Pe,t,e);let et=Pe[0],lt=OLe[et];if(lt){let{incompatibleTokens:ut}=lt;if(Array.isArray(ut)){let Ge=T.find(ot=>ut.includes(ot.token)||ot.token===et);if(Ge)throw new RangeError(`The format string mustn't contain \`${Ge.fullToken}\` and \`${Pe}\` at the same time`)}else if(lt.incompatibleTokens==="*"&&T.length>0)throw new RangeError(`The format string mustn't contain \`${Pe}\` and any other token at the same time`);T.push({token:et,fullToken:Pe});let Fe=lt.run(e,Pe,u.match,y);if(!Fe)return i();_.push(Fe.setter),e=Fe.rest}else{if(et.match(unr))throw new RangeError("Format string contains an unescaped latin alphabet character `"+et+"`");if(Pe==="''"?Pe="'":et==="'"&&(Pe=cnr(Pe)),e.indexOf(Pe)===0)e=e.slice(Pe.length);else return i()}}if(e.length>0&&lnr.test(e))return i();let N=_.map(Pe=>Pe.priority).sort((Pe,et)=>et-Pe).filter((Pe,et,lt)=>lt.indexOf(Pe)===et).map(Pe=>_.filter(et=>et.priority===Pe).sort((et,lt)=>lt.subPriority-et.subPriority)).map(Pe=>Pe[0]),R=Vr(r,n==null?void 0:n.in);if(isNaN(+R))return i();let j={};for(let Pe of N){if(!Pe.validate(R,y))return i();let et=Pe.set(R,j,y);Array.isArray(et)?(R=et[0],Object.assign(j,et[1])):R=et}return R}function cnr(e){return e.match(anr)[1].replace(snr,"'")}function DLe(e,t){var y;let r=()=>mn(t==null?void 0:t.in,NaN),n=(y=t==null?void 0:t.additionalDigits)!=null?y:2,i=hnr(e),o;if(i.date){let _=mnr(i.date,n);o=gnr(_.restDateString,_.year)}if(!o||isNaN(+o))return r();let u=+o,p=0,h;if(i.time&&(p=vnr(i.time),isNaN(p)))return r();if(i.timezone){if(h=ynr(i.timezone),isNaN(h))return r()}else{let _=new Date(u+p),E=Vr(0,t==null?void 0:t.in);return E.setFullYear(_.getUTCFullYear(),_.getUTCMonth(),_.getUTCDate()),E.setHours(_.getUTCHours(),_.getUTCMinutes(),_.getUTCSeconds(),_.getUTCMilliseconds()),E}return Vr(u+p+h,t==null?void 0:t.in)}var nO={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},dnr=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,pnr=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,fnr=/^([+-])(\d{2})(?::?(\d{2}))?$/;function hnr(e){let t={},r=e.split(nO.dateTimeDelimiter),n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],nO.timeZoneDelimiter.test(t.date)&&(t.date=e.split(nO.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){let i=nO.timezone.exec(n);i?(t.time=n.replace(i[1],""),t.timezone=i[1]):t.time=n}return t}function mnr(e,t){let r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};let i=n[1]?parseInt(n[1]):null,o=n[2]?parseInt(n[2]):null;return{year:o===null?i:o*100,restDateString:e.slice((n[1]||n[2]).length)}}function gnr(e,t){if(t===null)return new Date(NaN);let r=e.match(dnr);if(!r)return new Date(NaN);let n=!!r[4],i=rS(r[1]),o=rS(r[2])-1,u=rS(r[3]),p=rS(r[4]),h=rS(r[5])-1;if(n)return Snr(t,p,h)?_nr(t,p,h):new Date(NaN);{let y=new Date(0);return!xnr(t,o,u)||!wnr(t,i)?new Date(NaN):(y.setUTCFullYear(t,o,Math.max(i,u)),y)}}function rS(e){return e?parseInt(e):1}function vnr(e){let t=e.match(pnr);if(!t)return NaN;let r=DW(t[1]),n=DW(t[2]),i=DW(t[3]);return Inr(r,n,i)?r*X2+n*K2+i*1e3:NaN}function DW(e){return e&&parseFloat(e.replace(",","."))||0}function ynr(e){if(e==="Z")return 0;let t=e.match(fnr);if(!t)return 0;let r=t[1]==="+"?-1:1,n=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return Enr(n,i)?r*(n*X2+i*K2):NaN}function _nr(e,t,r){let n=new Date(0);n.setUTCFullYear(e,0,4);let i=n.getUTCDay()||7,o=(t-1)*7+r+1-i;return n.setUTCDate(n.getUTCDate()+o),n}var bnr=[31,null,31,30,31,30,31,31,30,31,30,31];function NLe(e){return e%400===0||e%4===0&&e%100!==0}function xnr(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(bnr[t]||(NLe(e)?29:28))}function wnr(e,t){return t>=1&&t<=(NLe(e)?366:365)}function Snr(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function Inr(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function Enr(e,t){return t>=0&&t<=59}var G0={en:"MM/dd/yyyy",de:"dd.MM.yyyy"};function og(e){let t=Ar.getSettings().LANGUAGE_CODE,r=new Date(e);return iO(r)?Object.hasOwn(G0,t)?PW(r,G0[t],{in:ah}):PW(r,G0[d0.EN],{in:ah}):e}function NW(e){let t=Ar.getSettings().LANGUAGE_CODE,r=new Date;return Object.hasOwn(G0,t)?OW(e,G0[t],r,{in:ah}):OW(e,G0[d0.EN],r,{in:ah})}function kLe(e){let t="";try{t=ILe(e,{in:ah})}catch(r){t=""}return t}function LLe(e){return!er(e)||!NA(e)?new Date("invalid"):DLe(e,{in:ah})}function iO(e){return hP(e)}function qLe(e){return Q2(e,{in:ah})}var LW={type:"FeatureCollection",features:[]},Tnr=e=>["MultiLineString","LineString"].includes(e),Mnr=e=>["MultiPolygon","Polygon"].includes(e),kW=e=>Tnr(e)?En.LINE:Mnr(e)?En.OUTLINE:En.LINE,Y0={marker:()=>Oo[En.SYMBOL].COLOR,fill:()=>Oo[En.FILL].COLOR,"fill-opacity":()=>Oo[En.FILL].OPACITY,stroke:e=>{let t=kW(e);return Oo[t].COLOR},"stroke-opacity":e=>{let t=kW(e);return Oo[t].OPACITY},"stroke-width":e=>{let t=kW(e);return Oo[t].WIDTH}},Cnr={marker:{default:Y0.marker,geometryTypes:["Point","MultiPoint"],inputProps:{type:"color"}},fill:{default:Y0.fill,geometryTypes:["MultiPolygon","Polygon","GeometryCollection"],inputProps:{type:"color"}},"fill-opacity":{default:Y0["fill-opacity"],geometryTypes:["MultiPolygon","Polygon","GeometryCollection"],inputProps:{step:.05,min:0,max:1,type:"number"}},stroke:{default:Y0.stroke,geometryTypes:["MultiPolygon","Polygon","GeometryCollection","LineString","MultiLineString"],inputProps:{type:"color"}},"stroke-opacity":{default:Y0["stroke-opacity"],geometryTypes:["MultiPolygon","Polygon","GeometryCollection","LineString","MultiLineString"],inputProps:{max:1,min:0,step:.05,type:"number"}},"stroke-width":{default:Y0["stroke-width"],geometryTypes:["MultiPolygon","Polygon","GeometryCollection","LineString","MultiLineString"],inputProps:{step:.1,min:0,max:20,type:"number"}}},Anr={img_link:{inputProps:{type:"text"}},title:{inputProps:{type:"text"}},description:{inputProps:{type:"text"}},time:{inputProps:{type:"text"}}};var OUr=Object.keys(Cnr),DUr=Object.keys(Anr),oO={POINT:"Point",MULTI_POINT:"MultiPoint",POLYGON:"Polygon",MULTI_POLYGON:"MultiPolygon",LINE_STRING:"LineString",MULTI_LINE_STRING:"MultiLineString",GEOMETRY_COLLECTION:"GeometryCollection"},Mc={imgLink:"img_link",title:"title",description:"description",time:"time",marker:"marker",fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeWidth:"stroke-width",strokeOpacity:"stroke-opacity"};var RLe=e=>({type:"Polygon",coordinates:[[[e[0],e[1]],[e[2],e[1]],[e[2],e[3]],[e[0],e[3]],[e[0],e[1]]]]}),zLe=e=>{let t={};for(let r of Object.keys(En)){let n=En[r],i=`${e}-${n}`;t[i]=xr(Ze({id:i,source:e,metadata:{[tg.id]:e}},MW[n]),{layout:xr(Ze({},MW[n].layout),{visibility:"visible"})})}return t},qW=e=>{let{properties:t}=e,r=Onr(t);return xr(Ze({},e),{properties:r})},RW=e=>{Object.hasOwn(e,"properties")||(e.properties={});let{properties:t}=e,r=Pnr(t);return xr(Ze({},e),{properties:r})},Pnr=e=>{var i;let t=(i=e[Mc.time])!=null?i:"",r=qLe(LLe(t)).valueOf();return Number.isNaN(r)?(delete e[Mc.time],e):xr(Ze({},e),{[Mc.time]:r})},Onr=e=>{var i;let t=(i=e[Mc.time])!=null?i:"",r=kLe(t);return r===""?(delete e[Mc.time],e):xr(Ze({},e),{[Mc.time]:r})},jLe=e=>{if(!er(e))return[];let[t,r]=e;return!er(t)||!er(r)?[]:["any",["!",["has",Mc.time]],["all",[">=",["get",Mc.time],t*1e3],["<=",["get",Mc.time],r*1e3]]]};var FLe=[{type:"mousemove",handler:e=>e.target.getCanvas().style.cursor="pointer"},{type:"mouseleave",handler:e=>e.target.getCanvas().style.cursor=""}],ag,sh,nS,ta,BLe,ULe,VLe,$d,Hd=class Hd extends j0{constructor({metadata:r,geometry:n,geoJson:i}){if(!Yu(Hd,ag))throw new TypeError("Constructor is private. Use GeoJsonLayer.fromApplication() or GeoJsonLayer.fromPersistence() instead.");$h(Hd,ag,!1);super({metadata:r,geometry:n});Up(this,ta);Xe(this,"geoJSON",{});Up(this,sh,[]);Up(this,nS,{});fs(this,ta,BLe).call(this,i)}static fromApplication(r){return $h(Hd,ag,!0),new Hd(r)}static fromPersistence({metadata:r,geometry:n,geoJson:i}){$h(Hd,ag,!0);let o=i.features.map(RW),u=xr(Ze({},i),{features:o});return new Hd({metadata:r,geometry:n,geoJson:u})}addLayerToMap(r,n){var h,y;if(!er(r))return;let i=this.getId(),o=this.getGeoJson(),u=zLe(i);r.addSource(i,{type:"geojson",data:o});let p=r.getLayer(Yl)!==void 0?Yl:void 0;for(let[_,E]of Object.entries(u))r.addLayer(E,p),Yu(this,sh).push(_),Yu(this,nS)[_]=E.filter;if(er(n)){let{layerSettings:_}=n,E=(h=_==null?void 0:_.opacity)!=null?h:1,T=(y=_==null?void 0:_.visibility)!=null?y:"visible";this.setOpacity(r,E),this.setVisibility(r,T)}fs(this,ta,ULe).call(this,r)}updateDataOnMap(r,n){return!er(r)||!er(n)?Promise.reject():r.getSource(this.getId()).updateData(n).getData().then(o=>(this.setGeoJson(o),o))}setDataOnMap(r,n){if(!er(r)||!er(n))return;let i=r.getSource(this.getId());this.setGeoJson(n),i.setData(this.geoJSON)}removeFeatureFromMap(r,n){r.getSource(this.getId()).updateData({remove:[n]}),this.removeFeature(n)}getGeoJsonForPersistence(){var i;let r=structuredClone(this.getGeoJson()),n=(i=r.features)!=null?i:[];return n=n.map(qW),r.features=n,r}static toApplicationState(r){var o;if(!er(r))return r;let n=structuredClone(r),i=(o=n.features)!=null?o:[];return i=i.map(RW),n.features=i,n}static toPersistenceState(r){var o;if(!er(r))return r;let n=structuredClone(r),i=(o=n.features)!=null?o:[];return i=i.map(qW),n.features=i,n}getGeoJson(){return this.geoJSON}setGeoJson(r){let n=r.features.map((o,u)=>(Object.hasOwn(o,"properties")||(o.properties={}),er(o.id)?Ze({},o):xr(Ze({},o),{id:u+1}))),i=xr(Ze({},r),{features:n});this.geoJSON=i}getFeature(r){let n=this.geoJSON.features.find(i=>i.id===r);return er(n)?n:(console.warn(`No feature found for id '${r}'`),null)}removeFeature(r){let n=this.geoJSON.features.findIndex(i=>i.id===r);if(n<0){console.warn(`Trying to remove a feature with non existing id '${r}'`);return}this.geoJSON.features.splice(n,1)}setFeatureState(r,n,i){if(!er(r)||!er(n)||!er(i))return;let o=this.getId();r.setFeatureState({source:o,id:n},i)}getPreviewFeature(){let r=this.getMetadata(sr.bounds);return{type:"Feature",properties:{},geometry:RLe(r)}}isDisplayedInMap(r){return r.getSource(this.getId())!==void 0}getType(){return Ta.VECTOR_MAP}isRemote(){return er(this.metadata[sr.vectorMapId])}isLocal(){return!this.isRemote()}getMapLibreLayerId(){return Yu(this,sh).length>0?Yu(this,sh)[0]:null}removeMapLibreLayers(r){if(er(r)){for(let{id:n}of fs(this,ta,$d).call(this,r))fs(this,ta,VLe).call(this,r,n),r.removeLayer(n);r.removeSource(this.getId()),$h(this,sh,[])}}getOpacity(r){let n=fs(this,ta,$d).call(this,r),i=1,o=1;if(n.length===0)return null;for(let{id:u,type:p}of n){if(!TW(p))continue;let h=IW[p];i=r.getPaintProperty(u,h);break}if(typeof i=="number")return i;if(Array.isArray(i)&&i.length>0){if(i[0]==="*")return i[2];if(i[0]==="coalesce")return i[3]}return o}setOpacity(r,n){let i=fs(this,ta,$d).call(this,r);if(!(i.length===0||!er(n)))for(let{id:o,type:u}of i){if(!TW(u))continue;let p=Oo[u].OPACITY,h=IW[u],y=EW[u];r.setPaintProperty(o,h,["*",["coalesce",["feature-state",y],["get",y],p],n])}}isVisible(r){let n=fs(this,ta,$d).call(this,r);return n.length===0?!1:r.getLayoutProperty(n[0].id,"visibility")==="visible"}setVisibility(r,n){let i=fs(this,ta,$d).call(this,r);if(!(i.length===0||!er(n)))for(let{id:o}of i)r.setLayoutProperty(o,"visibility",n)}move(r,n){let i=fs(this,ta,$d).call(this,r),o=n;er(n)||(er(r.getLayer(Yl))?o=Yl:o=null),i.forEach(({id:u})=>{r.moveLayer(u,o)})}moveToTop(r){this.move(r,null)}setFilters(r,n){let i=fs(this,ta,$d).call(this,r);if(i.length===0)return;let o=n==null?void 0:n.timeExtent,u=jLe(o);for(let p of i){let{id:h}=p,y=Yu(this,nS)[h],_=["all",y];er(u)&&u.length>0&&_.push(u),_.length===1?r.setFilter(h,y):r.setFilter(h,_)}}};ag=new WeakMap,sh=new WeakMap,nS=new WeakMap,ta=new WeakSet,BLe=function(r){var i,o;this.setGeoJson(r);let n=this.geometry?G2(this.geometry):G2(this.geoJSON);this.metadata[sr.bounds]=n,this.metadata[sr.id]=(i=this.metadata[sr.id])!=null?i:crypto.randomUUID(),this.metadata[sr.timePublished]=(o=this.metadata[sr.timePublished])!=null?o:new Date().getFullYear(),this.metadata[sr.hasGeoReference]=!0},ULe=function(r){for(let{id:n}of fs(this,ta,$d).call(this,r))for(let{type:i,handler:o}of FLe)r.on(i,n,o)},VLe=function(r,n){for(let{type:i,handler:o}of FLe)r.off(i,n,o)},$d=function(r){let n=Yu(this,sh).map(i=>r.getLayer(i));return n[0]===void 0?[]:n},Up(Hd,ag,!1);var zW=Hd,$Le=zW;var aO=$Le;var HLe=re(Qw(),1);var jW=(e,t=4)=>{if(Array.isArray(e))return e.map(r=>jW(r,t));if(typeof e=="object"&&e!==null){let r={};return Object.entries(e).forEach(([n,i])=>{r[n]=jW(i)}),r}else return isNaN(e)||e===null?e:e.toFixed(Math.min(Nnr(e),t))},Dnr=(e,t=4)=>{let r={};return Object.entries(e).forEach(([n,i])=>{r[n]=jW(i,t)}),r},Nnr=e=>Math.floor(e)===e?0:e.toString().split(".")[1].length||0;var WLe=(e,t)=>{let r;t.forEach(n=>{let i=n.getMetadata(sr.bounds);r=r===void 0?new HLe.LngLatBounds(i):r.extend(i)}),r!==void 0&&e.fitBounds(r,{animate:!1,padding:{left:350,right:350,top:50,bottom:50}})};var GLe=(e,t=!1)=>{let r={center:e.getCenter().toArray(),bearing:e.getBearing(),pitch:e.getPitch(),zoom:e.getZoom()};return t?Dnr(r,5):r};function Z0(e,t){let r=()=>{if(typeof window=="undefined")return t;try{let u=window.localStorage.getItem(e);return u?JSON.parse(u):t}catch(u){return console.warn(`Error reading localStorage key \u201C${e}\u201D:`,u),t}},[n,i]=(0,iS.useState)(r),o=u=>{typeof window=="undefined"&&console.warn(`Tried setting localStorage key \u201C${e}\u201D even though environment is not a client`);try{let p=u instanceof Function?u(n):u;window.localStorage.setItem(e,JSON.stringify(p)),i(p),window.dispatchEvent(new Event("local-storage"))}catch(p){console.warn(`Error setting localStorage key \u201C${e}\u201D:`,p)}};return(0,iS.useEffect)(()=>{i(r())},[]),(0,iS.useEffect)(()=>{let u=()=>{i(r())};return window.addEventListener("storage",u),window.addEventListener("local-storage",u),()=>{window.removeEventListener("storage",u),window.removeEventListener("local-storage",u)}},[]),[n,o]}var sO=e=>`${window.location.origin}${window.location.pathname}?${e}`;var Wn=re(Be(),1);var $W=re(Gt(),1);var Ma=pn({key:"notificationState",default:null});var rqe=re(Um(),1);var un=e=>e!==void 0,YLe=(e,t,r)=>t in e?e[t]:e[t]=r,oS={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12},UW=class{constructor(t){this._parser=new t}toDocument(t){return this._parser.parseFromString(t,"application/xml")}getAllTextContent(t,r){return cO(t,r).join("")}};function cO(e,t){return ZLe(e,t,[]).join("")}function ZLe(e,t,r){if(e.nodeType===oS.CDATA_SECTION||e.nodeType===oS.TEXT)t?r.push(String(e.nodeValue).replace(/(\r\n|\r|\n)/g,"")):r.push(e.nodeValue);else{var n;for(n=e.firstChild;n;n=n.nextSibling)ZLe(n,t,r)}return r}function knr(e,t,r,n){for(var i=Lnr(t);i;i=qnr(i)){var o=i.namespaceURI||null,u=e[o];if(un(u)){var p=u[i.localName];un(p)&&p.call(n,i,r)}}}function Lnr(e){let t=e.firstElementChild||e.firstChild;for(;t&&t.nodeType!==oS.ELEMENT;)t=t.nextSibling;return t}function qnr(e){let t=e.nextElementSibling||e.nextSibling;for(;t&&t.nodeType!==oS.ELEMENT;)t=t.nextSibling;return t}function ra(e,t,r){return Rnr(e,t,r)}function Rnr(e,t,r){var n=un(r)?r:{},i,o;for(i=0,o=e.length;i<o;++i)n[e[i]]=t;return n}function KLe(e,t){return function(r,n){var i=e.call(un(t)?t:this,r,n);if(un(i)){var o=n[n.length-1];o.push(i)}}}function Do(e,t,r,n,i){return n.push(e),knr(t,r,n,i),n.pop()}function dr(e,t,r){return function(n,i){let o=e.call(un(r)?r:this,n,i);if(un(o)){var u=i[i.length-1],p=un(t)?t:n.localName;u[p]=o}}}function Ns(e,t,r){return function(n,i){var o=e.call(un(r)?r:this,n,i);if(un(o)){var u=i[i.length-1],p=un(t)?t:n.localName,h=YLe(u,p,[]);h.push(o)}}}var znr=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function jnr(e){return e.replace(znr,"")}function sg(e){let t=/^\s*(true|1)|(false|0)\s*$/.exec(e);if(t)return un(t[1])||!1}function K0(e){return Wd(cO(e,!1))}function Wd(e){let t=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(e);if(t)return parseFloat(t[1])}function FW(e){return lO(cO(e,!1))}function lO(e){let t=/^\s*(\d+)\s*$/.exec(e);if(t)return parseInt(t[1],10)}function Pn(e){return jnr(cO(e,!1))}var Fnr="http://www.w3.org/1999/xlink";function VW(e){return e.getAttributeNS(Fnr,"href")}function Bnr(e,t){return Do({},hir,e,t)}function XLe(e){return[Wd(e.getAttribute("minx")),Wd(e.getAttribute("miny")),Wd(e.getAttribute("maxx")),Wd(e.getAttribute("maxy"))]}function Unr(e,t){let r=XLe(e),n=[Wd(e.getAttribute("resx")),Wd(e.getAttribute("resy"))];return{crs:e.getAttribute("CRS")||e.getAttribute("SRS"),extent:r,res:n}}function Vnr(e,t){let r=XLe(e);if(!(!un(r[0])||!un(r[1])||!un(r[2])||!un(r[3])))return r}function $nr(e,t){let r=parseFloat(e.getAttribute("min")),n=parseFloat(e.getAttribute("max"));return{min:r,max:n}}function Hnr(e,t){let r=Do({},mir,e,t);if(!un(r))return;let n=r.westBoundLongitude,i=r.southBoundLatitude,o=r.eastBoundLongitude,u=r.northBoundLatitude;if(!(!un(n)||!un(i)||!un(o)||!un(u)))return[n,i,o,u]}function Wnr(e,t){return Do({},lir,e,t)}function Gnr(e,t){return Do({},uir,e,t)}function Ynr(e,t){return Do({},cir,e,t)}function Znr(e,t){return Do({},dir,e,t)}function Knr(e,t){return Do({},pir,e,t)}function Xnr(e,t){return Do([],fir,e,t)}function Qnr(e,t){let r=sg(e.getAttribute("queryable"));return Do({queryable:un(r)?r:!1},eqe,e,t)}function Jnr(e,t){var r=t[t.length-1];let n=Do({},eqe,e,t);if(!un(n))return;let i=sg(e.getAttribute("queryable"));un(i)||(i=r.queryable),n.queryable=un(i)?i:!1;let o=lO(e.getAttribute("cascaded"));un(o)||(o=r.cascaded),n.cascaded=o;let u=sg(e.getAttribute("opaque"));un(u)||(u=r.opaque),n.opaque=un(u)?u:!1;let p=sg(e.getAttribute("noSubsets"));un(p)||(p=r.noSubsets),n.noSubsets=un(p)?p:!1;let h=Wd(e.getAttribute("fixedWidth"));un(h)||(h=r.fixedWidth),n.fixedWidth=h;let y=Wd(e.getAttribute("fixedHeight"));un(y)||(y=r.fixedHeight),n.fixedHeight=y;let _=["Style","CRS","AuthorityURL"];for(let T=0,N=_.length;T<N;T++){let R=_[T],j=r[R];if(un(j)){let k=YLe(n,R,[]);k=k.concat(j),n[R]=k}}let E=["EX_GeographicBoundingBox","BoundingBox","Dimension","Attribution","MinScaleDenominator","MaxScaleDenominator"];for(let T=0,N=E.length;T<N;T++){let R=E[T],j=n[R];if(!un(j)){let k=r[R];n[R]=k}}return n}function eir(e,t){return{name:e.getAttribute("name"),units:e.getAttribute("units"),unitSymbol:e.getAttribute("unitSymbol"),default:e.getAttribute("default"),multipleValues:sg(e.getAttribute("multipleValues")),nearestValue:sg(e.getAttribute("nearestValue")),current:sg(e.getAttribute("current")),values:Pn(e)}}function Gd(e,t){return Do({},xir,e,t)}function tir(e,t){return Do({},gir,e,t)}function rir(e,t){return Do({},yir,e,t)}function nir(e,t){return Do({},_ir,e,t)}function BW(e,t){return Do({},vir,e,t)}function QLe(e,t){var r=Gd(e,t);if(un(r)){let n=[lO(e.getAttribute("width")),lO(e.getAttribute("height"))];return r.size=n,r}}function iir(e,t){var r=Gd(e,t);if(un(r))return r.name=e.getAttribute("name"),r}function oir(e,t){var r=Gd(e,t);if(un(r))return r.type=e.getAttribute("type"),r}function air(e,t){return Do({},bir,e,t)}function JLe(e,t){return Do([],wir,e,t)}var na=[null,"http://www.opengis.net/wms"],sir=ra(na,{Service:dr(Gnr),Capability:dr(Wnr)}),lir=ra(na,{Request:dr(tir),Exception:dr(Xnr),Layer:dr(Qnr)}),uir=ra(na,{Name:dr(Pn),Title:dr(Pn),Abstract:dr(Pn),KeywordList:dr(JLe),OnlineResource:dr(VW),ContactInformation:dr(Ynr),Fees:dr(Pn),AccessConstraints:dr(Pn),LayerLimit:dr(FW),MaxWidth:dr(FW),MaxHeight:dr(FW)}),cir=ra(na,{ContactPersonPrimary:dr(Znr),ContactPosition:dr(Pn),ContactAddress:dr(Knr),ContactVoiceTelephone:dr(Pn),ContactFacsimileTelephone:dr(Pn),ContactElectronicMailAddress:dr(Pn)}),dir=ra(na,{ContactPerson:dr(Pn),ContactOrganization:dr(Pn)}),pir=ra(na,{AddressType:dr(Pn),Address:dr(Pn),City:dr(Pn),StateOrProvince:dr(Pn),PostCode:dr(Pn),Country:dr(Pn)}),fir=ra(na,{Format:KLe(Pn)}),eqe=ra(na,{Name:dr(Pn),Title:dr(Pn),Abstract:dr(Pn),KeywordList:dr(JLe),CRS:Ns(Pn),SRS:Ns(Pn),EX_GeographicBoundingBox:dr(Hnr),LatLonBoundingBox:dr(Vnr),BoundingBox:Ns(Unr),Dimension:Ns(eir),Attribution:dr(Bnr),AuthorityURL:Ns(iir),Identifier:Ns(Pn),MetadataURL:Ns(oir),DataURL:Ns(Gd),FeatureListURL:Ns(Gd),Style:Ns(air),MinScaleDenominator:dr(K0),MaxScaleDenominator:dr(K0),ScaleHint:dr($nr),Layer:Ns(Jnr)}),hir=ra(na,{Title:dr(Pn),OnlineResource:dr(VW),LogoURL:dr(QLe)}),mir=ra(na,{westBoundLongitude:dr(K0),eastBoundLongitude:dr(K0),southBoundLatitude:dr(K0),northBoundLatitude:dr(K0)}),gir=ra(na,{GetCapabilities:dr(BW),GetMap:dr(BW),GetFeatureInfo:dr(BW)}),vir=ra(na,{Format:Ns(Pn),DCPType:Ns(rir)}),yir=ra(na,{HTTP:dr(nir)}),_ir=ra(na,{Get:dr(Gd),Post:dr(Gd)}),bir=ra(na,{Name:dr(Pn),Title:dr(Pn),Abstract:dr(Pn),LegendURL:Ns(QLe),StyleSheetURL:dr(Gd),StyleURL:dr(Gd)}),xir=ra(na,{Format:dr(Pn),OnlineResource:dr(VW)}),wir=ra(na,{Keyword:KLe(Pn)}),uO=class{constructor(t,r){!r&&typeof window!="undefined"&&(r=window.DOMParser),this.version=void 0,this._parser=new UW(r),this._data=t}data(t){return this._data=t,this}toJSON(t){return t=t||this._data,this.parse(t)}parse(t){return this.readFromDocument(this._parser.toDocument(t))}readFromDocument(t){for(let r=t.firstChild;r;r=r.nextSibling)if(r.nodeType==oS.ELEMENT)return this.readFromNode(r);return null}readFromNode(t){return this.version=t.getAttribute("version"),Do({version:this.version},sir,t,[])||null}};var dO="wms-base-map-layer",aS="wms-base-map-source",sS="xyz-base-map-layer",pO="xyz-base-map-source";function nqe(e){let t;try{t=new URL(e)}catch(r){return!1}return t.protocol==="http:"||t.protocol==="https:"}function tqe(e,t){return t.Capability.Layer.Layer.filter(r=>r.CRS.includes("EPSG:3857")).map(r=>{let i=r.Name;return{id:r.Title,label:r.Title,urls:[`${e}?bbox={bbox-epsg-3857}&format=image/png&service=WMS&version=1.1.0&request=GetMap&srs=EPSG:3857&transparent=true&width=512&height=512&layers=${i}`],type:"wms",layers:i,tileSize:512}})}function fO(e){return gi(this,null,function*(){let t=yield rqe.default.get(e);if(t.status===200){let r=new uO().parse(t.data);return console.log("parse",tqe(e.split("?")[0],r)),tqe(e.split("?")[0],r)}else throw new Error(`Could not fetch wms capabilities document at ${e}`)})}var iqe=(e,t,r)=>{if(!t)return!1;if(sqe(e,r),!e.getSource(aS)){let n={type:"raster",tiles:[`${t.urls[0]}?bbox={bbox-epsg-3857}&format=image/png&service=WMS&version=2.0.0&request=GetMap&CRS=EPSG:3857&transparent=true&width=512&height=512&layers=${t.layers}&STYLES=`]};t.attribution&&(n.attribution=t.attribution),e.addSource(aS,n);let i=e.getStyle().layers[0].id;e.addLayer({id:dO,type:"raster",source:aS,paint:{}},i)}},oqe=e=>{for(let{id:t}of e.getStyle().layers)(t===dO||t===sS)&&e.setLayoutProperty(t,"visibility","visible")},lS=e=>{oqe(e),e.getLayer(dO)&&e.removeLayer(dO),e.getSource(aS)&&e.removeSource(aS)},aqe=(e,t)=>{t.forEach(r=>{e.setLayoutProperty(r.id,"visibility","visible")})},sqe=(e,t)=>{t.forEach(r=>{e.setLayoutProperty(r.id,"visibility","none")})},lqe=(e,t,r)=>{if(!t)return!1;if(sqe(e,r),lS(e),!e.getSource(sS)){e.addSource(pO,{type:"raster",tiles:[t.urls[0]],attribution:t.attribution});let n=e.getStyle().layers[0].id;e.addLayer({id:sS,type:"raster",source:pO,paint:{}},n)}},uqe=e=>{oqe(e),e.getLayer(sS)&&e.removeLayer(sS),e.getSource(pO)&&e.removeSource(pO)};var cqe=e=>{let{onClose:t,onSubmit:r}=e,[n,i]=(0,Wn.useState)(""),[o,u]=(0,Wn.useState)(!1),[p,h]=(0,Wn.useState)([]),[y,_]=(0,Wn.useState)(null),E=Ci(Ma),T=(0,Wn.useRef)(),N=(0,Wn.useRef)(),R=ae=>{h([]),_(null),E({id:"dialog-add-wms",type:"danger",text:ae})},j=()=>{t()},k=()=>{r(y),j()},L=()=>gi(void 0,null,function*(){if(!nqe(n)){u(!0);return}try{let ae=yield fO(n);ae.length!==0&&(h(ae),_(ae[0]))}catch(ae){R(it("dialog.add-wms.error.invalid-url"))}}),F=ae=>{i(ae.target.value)},G=ae=>{ae.code==="Enter"&&L()},ee=ae=>{let ue=p.find(ge=>ge.id===ae.target.value);_(ue)};return Wn.default.createElement("div",null,Wn.default.createElement(Fd,{className:"vkf-dialog-addwms",show:!0,onHide:j},Wn.default.createElement(Fd.Header,null,Wn.default.createElement(Fd.Title,null,it("control-basemapselector-addwms-title"))),Wn.default.createElement(Fd.Body,null,Wn.default.createElement("div",{className:"dialog-content"},Wn.default.createElement("div",{className:vr("form-group","set-url",o?"has-warning":"")},Wn.default.createElement("label",{htmlFor:T.current},it("control-basemapselector-addwms-input-label")),Wn.default.createElement("div",{className:"form-group-capabilities"},Wn.default.createElement("input",{type:"url",className:"form-control",ref:T,placeholder:"https://meinwms.de?Request=GetCapabilities&Service=WMS&Version=1.3.0",value:n,onChange:F,onKeyDown:G}),Wn.default.createElement("button",{type:"submit",className:"btn",onClick:L},it("control-basemapselector-addwms-btn-load-capabilities"))),Wn.default.createElement("p",{className:"help-block"},it("control-basemapselector-addwms-input-description"))),p.length>0&&y!==null&&Wn.default.createElement("div",{className:vr("form-group","set-layer")},Wn.default.createElement("label",{htmlFor:N.current},it("control-basemapselector-addwms-select-label")),Wn.default.createElement("select",{ref:N,value:y.id,onChange:ee,className:"form-control"},p.map(ae=>Wn.default.createElement("option",{key:ae.id,value:ae.id},ae.label))),Wn.default.createElement("p",{className:"help-block"},it("control-basemapselector-addwms-select-description"))))),Wn.default.createElement(Fd.Footer,null,Wn.default.createElement(Ea,{onClick:j},it("control-basemapselector-addwms-btn-canel")),Wn.default.createElement(Ea,{onClick:k,bsStyle:"primary",className:vr(y===null?"disabled":"")},it("control-basemapselector-addwms-btn-submit")))))};cqe.propTypes={onClose:$W.default.func.isRequired,onSubmit:$W.default.func.isRequired};var dqe=cqe;var cS="vkf-custom-basemaps",pqe=e=>{let{map:t}=e,[r,n]=In(f0),[i,o]=Z0(cS,[]),u=Ar.getBaseMaps(),p=Ci(Ma),[h,y]=(0,Ca.useState)(!1),_=R=>{n(R.id)},E=()=>{y(!0)},T=R=>{R.type==="wms"&&lS(t,R),r===R.id&&n(u[0].id),o(j=>j.filter(k=>k.id!==R.id))},N=R=>{if([...u,...i].find(k=>k.id===R.id||k.label===R.label))p({id:"basemapSelector",type:"danger",text:it("control-basemapselector-error-initializiation")});else{let k=xr(Ze({},R),{allowDeletion:!0});o(L=>[...L,k])}};return Ca.default.createElement(Ca.default.Fragment,null,r!==void 0&&Ca.default.createElement(Ca.default.Fragment,null,Ca.default.createElement("h2",null,it("control-basemapselector-label"),":"),Ca.default.createElement("ul",{className:"wms-entries"},[...u,...i].map(R=>Ca.default.createElement("li",{key:R.id,className:"basemap-selector-entry"},Ca.default.createElement(fW,{onChange:()=>_(R),name:R.id,value:R.id,checked:r===R.id},R.label),R.allowDeletion&&Ca.default.createElement("button",{className:"delete-basemap-button",onClick:j=>{j.preventDefault(),j.stopPropagation(),T(R)},title:"Remove basemap"},Ca.default.createElement(ro,{glyph:"remove"}))))),Ca.default.createElement("div",{className:"controls-container"},Ca.default.createElement("button",{className:"add-wms-button",onClick:E},it("control-basemapselector-btn-addwms")))),h&&Ca.default.createElement(dqe,{onClose:()=>y(!1),onSubmit:N}))};pqe.propTypes={map:uS.default.object,onBasemapChange:uS.default.func,onSetNotification:uS.default.func,activeBasemapId:uS.default.string};var fqe=pqe;var Sir=()=>{let{baseMapControlEl:e,activeDialog:t,toggleDialog:r,dialogRef:n}=QA(CV,As.BasemapSelector);return e!==null?(0,hqe.createPortal)(dS.default.createElement("div",{ref:n},dS.default.createElement("button",{onClick:r,title:it("control-basemapselector-open"),className:vr("maplibregl-ctrl-basemap-selector",t===As.BasemapSelector&&"active")}),t===As.BasemapSelector&&dS.default.createElement("div",{className:vr("basemap-selector-modal",t===As.BasemapSelector&&"active")},dS.default.createElement(fqe,null))),e):null},mqe=Sir;var gqe=mqe;function HW(e,t){return new Promise(function(r){let n=()=>{r(!1)},i=()=>{t.signal.removeEventListener("abort",n)};t.signal.addEventListener("abort",n,{once:!0}),e.once("moveend",()=>{r(!0),i()}),e.once("touchstart",()=>{r(!1),i()}),e.once("mousedown",()=>{r(!1),i()}),e.flyTo(t)})}function vqe(e){return new Promise(t=>setTimeout(t,e))}var yqe=re(Qw(),1);var hO=class extends yqe.Map{constructor(){super(...arguments);Xe(this,"terrainConfiguration",Ar.getTerrain());Xe(this,"terrainExaggeration",this.terrainConfiguration.exaggeration);Xe(this,"isTerrainEnabled",!1);Xe(this,"abortController",new AbortController)}getTerrainExaggeration(){return this.terrainExaggeration}hasTerrain(){return this.isTerrainEnabled}growTerrain(r,n=1e3){if(!this.terrain)return;let i=performance.now(),o=this.terrain.exaggeration,u=r-o,p=()=>{if(!this.terrain||this.terrainFlattening)return;let h=(performance.now()-i)/n;if(h<.99){let y=1-Vh(1-h,4),_=o+y*u;this.terrain.exaggeration=_,requestAnimationFrame(p)}else this.terrainGrowing=!1,this.terrainFlattening=!1,this.terrain.exaggeration=r;this._elevationFreeze=!1,this.triggerRepaint()};this.terrainGrowing=!0,this.terrainFlattening=!1,requestAnimationFrame(p)}enableTerrain(r=this.terrainExaggeration){if(r<0){console.warn("Terrain exaggeration cannot be negative.");return}let n=o=>gi(this,null,function*(){!this.terrain||o.type!=="data"||o.dataType!=="source"||!("source"in o)||o.sourceId!==Wf||o.source.type!=="raster-dem"||o.isSourceLoaded&&(this.off("data",n),this.growTerrain(r))}),i=()=>{this.isTerrainEnabled=!0,this.terrainExaggeration=r,this.addSource(Wf,{attribution:this.terrainConfiguration.attribution,type:"raster-dem",tiles:[this.terrainConfiguration.url],tileSize:256,minzoom:this.terrainConfiguration.minZoom,maxzoom:this.terrainConfiguration.maxZoom,encoding:"terrarium"}),this.setTerrain({source:Wf,exaggeration:0}),this.abortController.abort(),this.abortController=new AbortController,HW(this,{signal:this.abortController.signal,pitch:60,duration:700}).then(()=>vqe(500)).then(()=>{this.getSource(Wf).loaded()?this.growTerrain(r):this.on("data",n)})};if(this.getTerrain()){this.isTerrainEnabled=!0,this.growTerrain(r);return}this.loaded()||this.isTerrainEnabled?i():this.once("load",()=>{this.getTerrain()&&this.getSource(Wf)||i()})}disableTerrain(){return gi(this,null,function*(){if(!this.terrain)return;this.isTerrainEnabled=!1;let r=1*1e3,n=performance.now(),i=this.terrain.exaggeration,o=()=>{if(!this.terrain||this.terrainGrowing)return;let u=(performance.now()-n)/r;if(this._elevationFreeze=!1,u<.99){let p=Vh(1-u,4),h=i*p;this.terrain.exaggeration=h,requestAnimationFrame(o)}else this.terrain.exaggeration=0,this.terrainGrowing=!1,this.terrainFlattening=!1,this.setTerrain(),this.getSource(Wf)&&this.removeSource(Wf),this.abortController.abort(),this.abortController=new AbortController,HW(this,{pitch:0,signal:this.abortController.signal,duration:700});this.triggerRepaint()};this.terrainGrowing=!1,this.terrainFlattening=!0,requestAnimationFrame(o)})}setTerrainExaggeration(r,n=!0){!n&&this.terrain?(this.terrainExaggeration=r,this.terrain.exaggeration=r,this.triggerRepaint()):this.enableTerrain(r)}};var WW=class extends hO{addControl(t,r){let n=super.addControl(t,r);return this.fire(yc.controlAdded,{control:t}),n}removeControl(t){let r=super.removeControl(t);return this.fire(yc.controlRemoved,{control:t}),r}setPaintProperty(t,r,n,i){var h;let o=super.setPaintProperty(t,r,n,i),u=this.getLayer(t),p=(h=u==null?void 0:u.metadata)==null?void 0:h[tg.id];return k3e.has(r)&&p&&this.fire(yc.opacityChanged,{layerId:p,property:r,value:n}),o}setLayoutProperty(t,r,n,i){var h;let o=super.setLayoutProperty(t,r,n,i),u=this.getLayer(t),p=(h=u==null?void 0:u.metadata)==null?void 0:h[tg.id];return L3e.has(r)&&p&&this.fire(yc.visibilityChanged,{layerId:p,property:r,value:n}),o}},_qe=WW;var bqe=_qe;var pS=re(Be(),1),Kqe=re(Ri(),1);var Ac=re(Be(),1);var ia=re(Be(),1);var GW={"2D":0,"3D":1};var xqe=e=>{let{center:t,bearing:r,pitch:n,zoom:i}=e;return Object.assign({},t===void 0?null:{c:t},r===void 0?null:{be:r},n===void 0?null:{p:n},i===void 0?null:{z:i})},wqe=e=>Ar.getBaseMaps().filter(n=>n.id===e).length>0?{b:e}:{},Sqe=e=>({map_id:e.filter(t=>t.getType()===Ta.HISTORIC_MAP||t.getMetadata(sr.vectorMapId)).map(t=>t.getId())}),Iqe=e=>({v:e?GW["3D"]:GW["2D"]});var Wqe=re(Vqe(),1);var Aa=re(Be(),1),mO=re(Gt(),1);var $qe=({title:e,onClick:t,value:r})=>{let[n,i]=(0,Aa.useState)(!1),o=(0,Aa.useRef)(),u=(0,Aa.useRef)(),p=(0,Aa.useCallback)(()=>{(t!==void 0&&r===""?t():new Promise(y=>y())).then(y=>{clearTimeout(u.current),navigator.clipboard.writeText(y!==void 0?y:r),i(!0)})},[t,r]);return(0,Aa.useEffect)(()=>(n&&(u.current=setTimeout(()=>{i(!1)},1e3)),()=>{clearTimeout(u.current)}),[n]),Aa.default.createElement(Aa.default.Fragment,null,Aa.default.createElement("button",{className:"copy-button",onClick:p,ref:o,title:e!=null?e:it("control-permalink-exporter-copy-title")},Aa.default.createElement(ro,{glyph:"copy"})),Aa.default.createElement(cW,{placement:"right",target:o.current,show:n},Aa.default.createElement(bW,{id:"copy-state-indicator"},it("control-permalink-exporter-copy"))))};$qe.propTypes={title:mO.default.string,onClick:mO.default.func,value:mO.default.string};var Hqe=$qe;var gO=Hqe;var Nir=()=>{let e=mr(ni),t=mr(Ps),r=mr(f0),[n,i]=(0,ia.useState)(""),o=(0,ia.useRef)(),u=(0,ia.useCallback)(()=>{if(!er(e))return;let p=xqe(GLe(e,!0)),h=Iqe(e.hasTerrain()),y=Sqe(t),_=wqe(r),E=(0,Wqe.stringify)(Object.assign({},p,h,y,_),{arrayFormat:"comma"});i(sO(E))},[e]);return(0,ia.useEffect)(()=>{if(e)return u(),e.on("moveend",u),()=>{e.off("moveend",u)}},[e,u]),ia.default.createElement(ia.default.Fragment,null,ia.default.createElement("div",{className:"action-content"},ia.default.createElement("label",{htmlFor:"permalink-value",className:"visually-hidden"},"Permalink"),ia.default.createElement("input",{readOnly:!0,ref:o,value:n,id:"permalink-value"}),ia.default.createElement(gO,{value:n})),ia.default.createElement("div",{className:"description"},ia.default.createElement("p",null,it("control-permalink-exporter-permalink-description"))))},Gqe=Nir;var oa=re(Be(),1);var Cc=re(Be(),1);var kir=()=>Cc.default.createElement("div",{className:"lds-roller"},Cc.default.createElement("div",null),Cc.default.createElement("div",null),Cc.default.createElement("div",null),Cc.default.createElement("div",null),Cc.default.createElement("div",null),Cc.default.createElement("div",null),Cc.default.createElement("div",null),Cc.default.createElement("div",null)),X0=kir;var Yqe=()=>{let[e]=Z0(cS,[]),[t,r]=(0,oa.useState)(!1),[n,i]=(0,oa.useState)(""),o=mr(j3e),u=Ar.getGeoreferenceApiClient(),p="/map_view/",h=(0,oa.useCallback)(()=>{if(o!==void 0){let y=o(),{searchOptions:_}=y,E=Rn(y,["searchOptions"]),T=e.filter(R=>R.id===E.activeBasemapId),N=Object.assign({},E,T.length>0?{customBasemaps:T}:null);return r(!0),u.post(p,{map_view_json:N}).then(R=>{if(R.status===200&&R.data!==void 0){let{map_view_id:j}=R.data,k=sO(`map_view_id=${j}`);return i(k),r(!1),k}})}},[e,o]);return oa.default.createElement(oa.default.Fragment,null,oa.default.createElement("div",{className:"action-content"},oa.default.createElement("label",{htmlFor:"permalink-mapview",className:"visually-hidden"},"Permalink"),oa.default.createElement("input",{placeholder:it("control-permalink-input-mapview-placeholder"),readOnly:!0,value:n,id:"permalink-mapview"}),oa.default.createElement(gO,{onClick:h,value:n}),oa.default.createElement("button",{className:vr("upload-button",t&&"loading"),onClick:h},t?oa.default.createElement(X0,null):oa.default.createElement(ro,{glyph:"upload"}),"Upload")),oa.default.createElement("div",{className:"description"},oa.default.createElement("p",null,it("control-permalink-exporter-mapview-description"))))};var Lir=()=>{let e=!Ar.isUserAuthenticated();return Ac.default.createElement("div",{className:"vkf-permalink-exporter"},Ac.default.createElement(yW,{defaultActiveKey:1,id:"permalink-exporter-tabs"},Ac.default.createElement(iP,{eventKey:1,title:it("control-permalink-title-permalink")},Ac.default.createElement("div",{className:"permalink-exporter-content"},Ac.default.createElement(Gqe,null))),Ac.default.createElement(iP,{disabled:e,eventKey:2,title:it("control-permalink-title-map-view")},Ac.default.createElement("div",{className:"permalink-exporter-content"},!e&&Ac.default.createElement(Yqe,null)))))},Zqe=Ac.default.memo(Lir);var qir=()=>{let{baseMapControlEl:e,activeDialog:t,toggleDialog:r,dialogRef:n}=QA(OV,As.Permalink);return e!==null?(0,Kqe.createPortal)(pS.default.createElement("div",{ref:n},pS.default.createElement("button",{className:vr("maplibregl-ctrl-permalink",t===As.Permalink&&"active"),onClick:r,title:it("control-permalink-open")}),t===As.Permalink&&pS.default.createElement("div",{className:"content-container"},pS.default.createElement(Zqe,null))),e):null},Xqe=qir;var vO=re(Be(),1);var Rir=()=>{let e=mr(ni),t=mr(f0),r=mr(UA),[n]=Z0(cS,[]),i=Ar.getBaseMaps(),o=(0,vO.useMemo)(()=>[...i,...n],[n,i]);return(0,vO.useEffect)(()=>{if(er(e)){let u=o.find(h=>h.id===t);if(u===void 0)return;let p=u;if(lS(e),uqe(e),p.type==="vector")aqe(e,r);else if(p.type==="wms")iqe(e,p,r);else if(p.type==="xyz")lqe(e,p,r);else throw new Error("Unknown layer type")}},[t,e,r]),null},Qqe=Rir;function Jqe(){return{"NavigationControl.ZoomIn":it("control-zoom-in"),"NavigationControl.ZoomOut":it("control-zoom-out"),"FullscreenControl.Enter":it("control-fullscreen-Enter"),"FullscreenControl.Exit":it("control-fullscreen-Exit"),"NavigationControl.ResetBearing":it("control-rotate"),"TerrainControl.Enable":it("control-toggleviewmode-title"),"TerrainControl.Disable":it("control-toggleviewmode-title"),"GeolocateControl.FindMyLocation":it("control-locateme-title"),"GeolocateControl.LocationNotAvailable":it("control-locateme-location-not-available")}}var zir="https://tile-2.kartenforum.slub-dresden.de/styles/maptiler-basic-v2/style.json";function eRe(e){let{ChildComponent:t,layout:r,mapViewSettings:n={center:[13.5981217,59.562795],projection:"EPSG:3857",zoom:2},loadMarkerIcon:i=!0}=e,[o,u]=In(ni),p=Ci(UA),h=(0,Ql.useRef)();return f4e(h,"map"),(0,Ql.useEffect)(()=>{let y=new bqe({container:h.current,center:n.center,zoom:n.zoom,maxZoom:n.maxZoom,style:zir,locale:Jqe(),attributionControl:!1}),_=()=>{if(u(y),p(y.getStyle().layers),i===!0){let{id:E,url:T}=Ar.getMarkerSettings();y.loadImage(T).then(N=>{y.addImage(E,N.data,{sdf:!0})})}};return y.on("style.load",_),()=>{y.off("style.load",_),u(void 0),y.remove()}},[]),(0,Ql.useEffect)(()=>{if(er(o)){let y=N3e();return y.forEach(({control:_,position:E})=>{o.addControl(_,E)}),()=>{y.forEach(({control:_})=>{o.removeControl(_)})}}},[o]),Ql.default.createElement("div",{className:"map-container"},Ql.default.createElement("div",{ref:h,className:vr("map-div","olMap",z3e(r)),tabIndex:0},er(o)&&Ql.default.createElement(t,null),Ql.default.createElement(gqe,null),Ql.default.createElement(Xqe,null),Ql.default.createElement(Qqe,null)))}var jir={baseMapUrl:Du.default.arrayOf(Du.default.string),ChildComponent:Du.default.func,layout:Du.default.string,mapViewSettings:Du.default.shape({center:Du.default.arrayOf(Du.default.number),projection:Du.default.string,zoom:Du.default.number}),loadMarkerIcon:Du.default.bool};eRe.propTypes=jir;var tRe=eRe;var ip=re(Be(),1),cje=re(Gt(),1);var fh=re(Be(),1);var UD=re(Gt(),1);var no=re(Be(),1);var J0=re(Be(),1),KW=re(Gt(),1);var lg=re(Be(),1),Q0=re(Gt(),1),rRe=({checked:e,georeferenceMode:t,id:r,onClick:n,title:i})=>r!=="ToGeoref"||r==="toGeoref"&&t?lg.default.createElement("li",null,lg.default.createElement("label",{htmlFor:r},lg.default.createElement("input",{checked:e,className:"facet-search-el",onChange:()=>{n(r)},id:r,title:i,type:"checkbox"}),lg.default.createElement("span",{dangerouslySetInnerHTML:{__html:i}}))):lg.default.createElement(lg.default.Fragment,null);rRe.propTypes={checked:Q0.default.bool,georeferenceMode:Q0.default.bool,id:Q0.default.string,onClick:Q0.default.func,title:Q0.default.string};var nRe=rRe;var XW={AE:"map_type-ae",AK:"map_type-ak",CM:"map_type-cm",GL:"map_type-gl",MB:"map_type-mb",MTB:"map_type-mtb",TK:"map_type-tk",TKX:"map_type-tkx",MM:"type-mosaic",VM:"type-vector"},Fir=(e,t)=>e.title>t.title?1:e.title<t.title?-1:0,Bir=()=>{let e=Object.keys(XW).map(t=>({key:t,title:it(`facet-${t.toLowerCase()}`)}));return e.sort(Fir),e},Uir={};Object.keys(XW).forEach(e=>{Uir[e]=!1});var iRe=({georeferenceMode:e,mosaicMode:t})=>{let[r,n]=In(Yf),i=(0,J0.useMemo)(()=>{let p=Ze({},XW);return t&&(delete p.MM,delete p.VM),p},[t]),o=(0,J0.useMemo)(()=>Bir(),[]),u=p=>{n(h=>{let{facets:y,georeference:_}=h;if(p==="ToGeoref")return{facets:y,georeference:!_};{let E=y.slice(),T=E.findIndex(N=>N.id===p);if(T>-1)E.splice(T,1);else{let[N,R]=i[p].split("-");E.push({key:N,value:R,id:p})}return{facets:E,georeference:_}}})};return J0.default.createElement("ul",{className:"search-facet"},o.map(({key:p,title:h})=>J0.default.createElement(nRe,{checked:r.facets.findIndex(y=>y.id===p)!==-1,key:p,georeferenceMode:e,onClick:u,id:p,title:h})))};iRe.propTypes={georeferenceMode:KW.default.bool,mosaicMode:KW.default.bool};var oRe=iRe;var yO=oRe;var Xd=re(Be(),1);var IG=re(Gt(),1);var Wi=re(Be(),1),Ls=re(Gt(),1);function qr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var aRe=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function Vir(e,t){return!!(e===t||aRe(e)&&aRe(t))}function $ir(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!Vir(e[r],t[r]))return!1;return!0}function Hir(e,t){t===void 0&&(t=$ir);var r,n=[],i,o=!1;function u(){for(var p=[],h=0;h<arguments.length;h++)p[h]=arguments[h];return o&&r===this&&t(p,n)||(i=e.apply(this,p),o=!0,r=this,n=p),i}return u}var _O=Hir;var t1=re(Be());var Wir=typeof performance=="object"&&typeof performance.now=="function",sRe=Wir?function(){return performance.now()}:function(){return Date.now()};function lRe(e){cancelAnimationFrame(e.id)}function Gir(e,t){var r=sRe();function n(){sRe()-r>=t?e.call(null):i.id=requestAnimationFrame(n)}var i={id:requestAnimationFrame(n)};return i}var QW=-1;function uRe(e){if(e===void 0&&(e=!1),QW===-1||e){var t=document.createElement("div"),r=t.style;r.width="50px",r.height="50px",r.overflow="scroll",document.body.appendChild(t),QW=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return QW}var e1=null;function cRe(e){if(e===void 0&&(e=!1),e1===null||e){var t=document.createElement("div"),r=t.style;r.width="50px",r.height="50px",r.overflow="scroll",r.direction="rtl";var n=document.createElement("div"),i=n.style;return i.width="100px",i.height="100px",t.appendChild(n),document.body.appendChild(t),t.scrollLeft>0?e1="positive-descending":(t.scrollLeft=1,t.scrollLeft===0?e1="negative":e1="positive-ascending"),document.body.removeChild(t),e1}return e1}var Yir=150,Zir=function(t,r){return t};function Kir(e){var t,r=e.getItemOffset,n=e.getEstimatedTotalSize,i=e.getItemSize,o=e.getOffsetForIndexAndAlignment,u=e.getStartIndexForOffset,p=e.getStopIndexForStartIndex,h=e.initInstanceProps,y=e.shouldResetStyleCacheOnItemSizeChange,_=e.validateProps;return t=function(E){m3(T,E);function T(R){var j;return j=E.call(this,R)||this,j._instanceProps=h(j.props,qr(j)),j._outerRef=void 0,j._resetIsScrollingTimeoutId=null,j.state={instance:qr(j),isScrolling:!1,scrollDirection:"forward",scrollOffset:typeof j.props.initialScrollOffset=="number"?j.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},j._callOnItemsRendered=void 0,j._callOnItemsRendered=_O(function(k,L,F,G){return j.props.onItemsRendered({overscanStartIndex:k,overscanStopIndex:L,visibleStartIndex:F,visibleStopIndex:G})}),j._callOnScroll=void 0,j._callOnScroll=_O(function(k,L,F){return j.props.onScroll({scrollDirection:k,scrollOffset:L,scrollUpdateWasRequested:F})}),j._getItemStyle=void 0,j._getItemStyle=function(k){var L=j.props,F=L.direction,G=L.itemSize,ee=L.layout,ae=j._getItemStyleCache(y&&G,y&&ee,y&&F),ue;if(ae.hasOwnProperty(k))ue=ae[k];else{var ge=r(j.props,k,j._instanceProps),Oe=i(j.props,k,j._instanceProps),_e=F==="horizontal"||ee==="horizontal",ze=F==="rtl",We=_e?ge:0;ae[k]=ue={position:"absolute",left:ze?void 0:We,right:ze?We:void 0,top:_e?0:ge,height:_e?"100%":Oe,width:_e?Oe:"100%"}}return ue},j._getItemStyleCache=void 0,j._getItemStyleCache=_O(function(k,L,F){return{}}),j._onScrollHorizontal=function(k){var L=k.currentTarget,F=L.clientWidth,G=L.scrollLeft,ee=L.scrollWidth;j.setState(function(ae){if(ae.scrollOffset===G)return null;var ue=j.props.direction,ge=G;if(ue==="rtl")switch(cRe()){case"negative":ge=-G;break;case"positive-descending":ge=ee-F-G;break;}return ge=Math.max(0,Math.min(ge,ee-F)),{isScrolling:!0,scrollDirection:ae.scrollOffset<ge?"forward":"backward",scrollOffset:ge,scrollUpdateWasRequested:!1}},j._resetIsScrollingDebounced)},j._onScrollVertical=function(k){var L=k.currentTarget,F=L.clientHeight,G=L.scrollHeight,ee=L.scrollTop;j.setState(function(ae){if(ae.scrollOffset===ee)return null;var ue=Math.max(0,Math.min(ee,G-F));return{isScrolling:!0,scrollDirection:ae.scrollOffset<ue?"forward":"backward",scrollOffset:ue,scrollUpdateWasRequested:!1}},j._resetIsScrollingDebounced)},j._outerRefSetter=function(k){var L=j.props.outerRef;j._outerRef=k,typeof L=="function"?L(k):L!=null&&typeof L=="object"&&L.hasOwnProperty("current")&&(L.current=k)},j._resetIsScrollingDebounced=function(){j._resetIsScrollingTimeoutId!==null&&lRe(j._resetIsScrollingTimeoutId),j._resetIsScrollingTimeoutId=Gir(j._resetIsScrolling,Yir)},j._resetIsScrolling=function(){j._resetIsScrollingTimeoutId=null,j.setState({isScrolling:!1},function(){j._getItemStyleCache(-1,null)})},j}T.getDerivedStateFromProps=function(j,k){return Xir(j,k),_(j),null};var N=T.prototype;return N.scrollTo=function(j){j=Math.max(0,j),this.setState(function(k){return k.scrollOffset===j?null:{scrollDirection:k.scrollOffset<j?"forward":"backward",scrollOffset:j,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},N.scrollToItem=function(j,k){k===void 0&&(k="auto");var L=this.props,F=L.itemCount,G=L.layout,ee=this.state.scrollOffset;j=Math.max(0,Math.min(j,F-1));var ae=0;if(this._outerRef){var ue=this._outerRef;G==="vertical"?ae=ue.scrollWidth>ue.clientWidth?uRe():0:ae=ue.scrollHeight>ue.clientHeight?uRe():0}this.scrollTo(o(this.props,j,k,ee,this._instanceProps,ae))},N.componentDidMount=function(){var j=this.props,k=j.direction,L=j.initialScrollOffset,F=j.layout;if(typeof L=="number"&&this._outerRef!=null){var G=this._outerRef;k==="horizontal"||F==="horizontal"?G.scrollLeft=L:G.scrollTop=L}this._callPropsCallbacks()},N.componentDidUpdate=function(){var j=this.props,k=j.direction,L=j.layout,F=this.state,G=F.scrollOffset,ee=F.scrollUpdateWasRequested;if(ee&&this._outerRef!=null){var ae=this._outerRef;if(k==="horizontal"||L==="horizontal"){if(k==="rtl")switch(cRe()){case"negative":ae.scrollLeft=-G;break;case"positive-ascending":ae.scrollLeft=G;break;default:var ue=ae.clientWidth,ge=ae.scrollWidth;ae.scrollLeft=ge-ue-G;break;}else ae.scrollLeft=G;}else ae.scrollTop=G}this._callPropsCallbacks()},N.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&lRe(this._resetIsScrollingTimeoutId)},N.render=function(){var j=this.props,k=j.children,L=j.className,F=j.direction,G=j.height,ee=j.innerRef,ae=j.innerElementType,ue=j.innerTagName,ge=j.itemCount,Oe=j.itemData,_e=j.itemKey,ze=_e===void 0?Zir:_e,We=j.layout,$e=j.outerElementType,qe=j.outerTagName,Je=j.style,dt=j.useIsScrolling,Ue=j.width,Re=this.state.isScrolling,Pe=F==="horizontal"||We==="horizontal",et=Pe?this._onScrollHorizontal:this._onScrollVertical,lt=this._getRangeToRender(),ut=lt[0],Fe=lt[1],Ge=[];if(ge>0)for(var ot=ut;ot<=Fe;ot++)Ge.push((0,t1.createElement)(k,{data:Oe,key:ze(ot,Oe),index:ot,isScrolling:dt?Re:void 0,style:this._getItemStyle(ot)}));var De=n(this.props,this._instanceProps);return(0,t1.createElement)($e||qe||"div",{className:L,onScroll:et,ref:this._outerRefSetter,style:sn({position:"relative",height:G,width:Ue,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:F},Je)},(0,t1.createElement)(ae||ue||"div",{children:Ge,ref:ee,style:{height:Pe?"100%":De,pointerEvents:Re?"none":void 0,width:Pe?De:"100%"}}))},N._callPropsCallbacks=function(){if(typeof this.props.onItemsRendered=="function"){var j=this.props.itemCount;if(j>0){var k=this._getRangeToRender(),L=k[0],F=k[1],G=k[2],ee=k[3];this._callOnItemsRendered(L,F,G,ee)}}if(typeof this.props.onScroll=="function"){var ae=this.state,ue=ae.scrollDirection,ge=ae.scrollOffset,Oe=ae.scrollUpdateWasRequested;this._callOnScroll(ue,ge,Oe)}},N._getRangeToRender=function(){var j=this.props,k=j.itemCount,L=j.overscanCount,F=this.state,G=F.isScrolling,ee=F.scrollDirection,ae=F.scrollOffset;if(k===0)return[0,0,0,0];var ue=u(this.props,ae,this._instanceProps),ge=p(this.props,ue,ae,this._instanceProps),Oe=!G||ee==="backward"?Math.max(1,L):1,_e=!G||ee==="forward"?Math.max(1,L):1;return[Math.max(0,ue-Oe),Math.max(0,Math.min(k-1,ge+_e)),ue,ge]},T}(t1.PureComponent),t.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},t}var Xir=function(t,r){var n=t.children,i=t.direction,o=t.height,u=t.layout,p=t.innerTagName,h=t.outerTagName,y=t.width,_=r.instance;if(0)var E};var dRe=Kir({getItemOffset:function(t,r){var n=t.itemSize;return r*n},getItemSize:function(t,r){var n=t.itemSize;return n},getEstimatedTotalSize:function(t){var r=t.itemCount,n=t.itemSize;return n*r},getOffsetForIndexAndAlignment:function(t,r,n,i,o,u){var p=t.direction,h=t.height,y=t.itemCount,_=t.itemSize,E=t.layout,T=t.width,N=p==="horizontal"||E==="horizontal",R=N?T:h,j=Math.max(0,y*_-R),k=Math.min(j,r*_),L=Math.max(0,r*_-R+_+u);switch(n==="smart"&&(i>=L-R&&i<=k+R?n="auto":n="center"),n){case"start":return k;case"end":return L;case"center":{var F=Math.round(L+(k-L)/2);return F<Math.ceil(R/2)?0:F>j+Math.floor(R/2)?j:F}case"auto":default:return i>=L&&i<=k?i:i<L?L:k;}},getStartIndexForOffset:function(t,r){var n=t.itemCount,i=t.itemSize;return Math.max(0,Math.min(n-1,Math.floor(r/i)))},getStopIndexForStartIndex:function(t,r,n){var i=t.direction,o=t.height,u=t.itemCount,p=t.itemSize,h=t.layout,y=t.width,_=i==="horizontal"||h==="horizontal",E=r*p,T=_?y:o,N=Math.ceil((T+n-E)/p);return Math.max(0,Math.min(u-1,r+N-1))},initInstanceProps:function(t){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(t){var r=t.itemSize}});var fRe=re(Be());function Qir(e){var t=e.lastRenderedStartIndex,r=e.lastRenderedStopIndex,n=e.startIndex,i=e.stopIndex;return!(n>r||i<t)}function Jir(e){for(var t=e.isItemLoaded,r=e.itemCount,n=e.minimumBatchSize,i=e.startIndex,o=e.stopIndex,u=[],p=null,h=null,y=i;y<=o;y++){var _=t(y);_?h!==null&&(u.push(p,h),p=h=null):(h=y,p===null&&(p=y))}if(h!==null){for(var E=Math.min(Math.max(h,p+n-1),r-1),T=h+1;T<=E&&!t(T);T++)h=T;u.push(p,h)}if(u.length)for(;u[1]-u[0]+1<n&&u[0]>0;){var N=u[0]-1;if(!t(N))u[0]=N;else break}return u}var eor=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},tor=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),ror=function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},pRe=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e},nor=function(e){ror(t,e);function t(){var r,n,i,o;eor(this,t);for(var u=arguments.length,p=Array(u),h=0;h<u;h++)p[h]=arguments[h];return o=(n=(i=pRe(this,(r=t.__proto__||Object.getPrototypeOf(t)).call.apply(r,[this].concat(p))),i),i._lastRenderedStartIndex=-1,i._lastRenderedStopIndex=-1,i._memoizedUnloadedRanges=[],i._onItemsRendered=function(y){var _=y.visibleStartIndex,E=y.visibleStopIndex;i._lastRenderedStartIndex=_,i._lastRenderedStopIndex=E,i._ensureRowsLoaded(_,E)},i._setRef=function(y){i._listRef=y},n),pRe(i,o)}return tor(t,[{key:"resetloadMoreItemsCache",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this._memoizedUnloadedRanges=[],n&&this._ensureRowsLoaded(this._lastRenderedStartIndex,this._lastRenderedStopIndex)}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var n=this.props.children;return n({onItemsRendered:this._onItemsRendered,ref:this._setRef})}},{key:"_ensureRowsLoaded",value:function(n,i){var o=this.props,u=o.isItemLoaded,p=o.itemCount,h=o.minimumBatchSize,y=h===void 0?10:h,_=o.threshold,E=_===void 0?15:_,T=Jir({isItemLoaded:u,itemCount:p,minimumBatchSize:y,startIndex:Math.max(0,n-E),stopIndex:Math.min(p-1,i+E)});(this._memoizedUnloadedRanges.length!==T.length||this._memoizedUnloadedRanges.some(function(N,R){return T[R]!==N}))&&(this._memoizedUnloadedRanges=T,this._loadUnloadedRanges(T))}},{key:"_loadUnloadedRanges",value:function(n){for(var i=this,o=this.props.loadMoreItems||this.props.loadMoreRows,u=function(y){var _=n[y],E=n[y+1],T=o(_,E);T!=null&&T.then(function(){if(Qir({lastRenderedStartIndex:i._lastRenderedStartIndex,lastRenderedStopIndex:i._lastRenderedStopIndex,startIndex:_,stopIndex:E})){if(i._listRef==null)return;typeof i._listRef.resetAfterIndex=="function"?i._listRef.resetAfterIndex(_,!0):(typeof i._listRef._getItemStyleCache=="function"&&i._listRef._getItemStyleCache(-1),i._listRef.forceUpdate())}})},p=0;p<n.length;p+=2)u(p)}}]),t}(fRe.PureComponent),hRe=nor;var fS=re(Be(),1);var bO=re(Gt(),1);var mRe=({onClick:e,sortOrder:t,type:r})=>{let n=()=>{e(r)},i=u=>{u.keyCode===13&&n()},o=it(`mapsearch-${r}`)===""?it(r):it(`mapsearch-${r}`);return fS.default.createElement("div",{className:vr("inner-col",r)},fS.default.createElement("div",{className:vr("sort-element",r,t),onClick:n,onKeyDown:i,tabIndex:0},o,fS.default.createElement("span",{className:"caret-container"},fS.default.createElement("span",{className:"caret caret-reversed"}))))};mRe.propTypes={onClick:bO.default.func,sortOrder:bO.default.string,type:bO.default.string};var gRe=mRe;var KRe=re(Be(),1);var vS=re(Be(),1);var Tn=re(Be(),1),cl=re(Gt(),1);var gS=re(bG(),1);var n1=(e,t)=>e.findIndex(r=>r.getId()===t.getId())!==-1,rar="http://www.deutschefotothek.de/images/noimage/image120.jpg",xG=e=>e.getType()===Ta.VECTOR_MAP?Ar.getSettings().FALLBACK_THUMBNAIL:rar,HRe=e=>{let t=e.getMetadata(sr.thumbnailUrl);return!er(t)||t===""?xG(e):t.replace("http:","")};var WRe=({children:e,data:t,index:r,onClick:n,onMouseEnter:i,onMouseLeave:o,style:u})=>{var Oe;let{direction:p,maps:h}=t,y=(Oe=h[r])!=null?Oe:Nc,_=mr(Ps),[E,T]=(0,Tn.useState)(!1),N=(0,Tn.useMemo)(()=>HRe(y),[y]),R=(0,Tn.useMemo)(()=>xG(y),[y]),j=()=>{n(y)},k=_e=>{_e.key==="Enter"&&j()},L=(0,Tn.useCallback)(()=>{N!==""&&N!==R&&T(!0)},[N,R]);(0,Tn.useEffect)(()=>{T(!1)},[y.getId()]);let F=y===Nc,G=n1(_,y)&&!F,ee=y.getMetadata(sr.mapScale)==="0"||y.getMetadata(sr.mapScale)===0?it("mapsearch-listelement-unknown"):`1:${y.getMetadata(sr.mapScale)}`,ae=parseInt(y.getMetadata(sr.timePublished),0),ue=y.getMetadata(sr.type)===Ta.MOSAIC_MAP,ge=y.getMetadata(sr.type)===Ta.VECTOR_MAP;return Tn.default.createElement("li",{tabIndex:0,style:u,className:vr("vkf-mapsearch-record",y.getMetadata(sr.type),G&&"selected",p,F&&"loading"),id:y.getMetadata(sr.id),onClick:F?void 0:j,onKeyDown:F?void 0:k,onMouseEnter:i,onMouseLeave:o},e,Tn.default.createElement("span",{className:"data-col time"},isNaN(ae)?"":ae),Tn.default.createElement("span",{className:"data-col title"},y.getMetadata(sr.title)),Tn.default.createElement("span",{className:"data-col time"},"1"),Tn.default.createElement("div",{className:"view-item"},Tn.default.createElement("span",{className:"thumbnail",href:"#"},F?Tn.default.createElement(gS.default.default,{height:"calc(100% - 6px)"}):Tn.default.createElement(Tn.default.Fragment,null,Tn.default.createElement("img",{alt:`Thumbnail Image of Map ${y.getMetadata(sr.title)} ${y.getMetadata(sr.timePublished)}`,onError:L,src:E?R:N}),ue&&Tn.default.createElement("span",{className:vr("mosaic-badge",G&&"selected")},it("mosaic-badge-title")),ge&&Tn.default.createElement("span",{className:vr("vector-badge",G&&"selected")},it("vector-badge-title"))),G&&Tn.default.createElement("span",{className:"badge selected-badge"},Tn.default.createElement("span",{className:"glyphicon glyphicon-ok"})," ")),Tn.default.createElement("div",{className:"overview"},Tn.default.createElement("h2",null,F?Tn.default.createElement(gS.default.default,null):y.getMetadata(sr.title)),Tn.default.createElement("div",{className:"details"},Tn.default.createElement("div",{className:"timestamp"},F?Tn.default.createElement(gS.default.default,null):`${it("mapsearch-listelement-time")} ${y.getMetadata(sr.timePublished)}`),!ge&&Tn.default.createElement("div",{className:"scale"},F?Tn.default.createElement(gS.default.default,null):`${it("mapsearch-listelement-scale")} ${ee}`),!y.getMetadata(sr.hasGeoReference)&&Tn.default.createElement("div",{className:"georeference"},it("mapsearch-listelement-no-georef"))))))};WRe.propTypes={children:cl.default.element,data:cl.default.shape({direction:cl.default.oneOf(["horizontal","vertical"]),feature:cl.default.object,is3d:cl.default.bool,maps:cl.default.object,selected:cl.default.bool}),onClick:cl.default.func,onMouseEnter:cl.default.func,onMouseLeave:cl.default.func,index:cl.default.number,style:cl.default.object};var wG=WRe;var GRe=e=>{var h;let{data:t,index:r}=e,{maps:n}=t,i=mr(ni),o=(h=n[r])!=null?h:Nc,u=(0,vS.useCallback)(()=>{er(i)&&xW(i,o.getPreviewFeature())},[i,o]),p=(0,vS.useCallback)(()=>{er(i)&&xW(i,{type:"FeatureCollection",features:[]})},[i,o]);return vS.default.createElement(wG,Ze({onMouseEnter:u,onMouseLeave:p},e))};GRe.propTypes=Ze({},wG.propTypes);var SG=GRe;var YRe=re(Um(),1);var nar=e=>gi(void 0,null,function*(){var t;try{let r=yield YRe.default.get(`${e}/tilemapresource.xml`),n=new DOMParser().parseFromString(r.data,"text/xml"),i=n.getElementsByTagName("BoundingBox")[0],o=[i.getAttribute("minx"),i.getAttribute("miny"),i.getAttribute("maxx"),i.getAttribute("maxy")].map(parseFloat),u=n.getElementsByTagName("TileSet"),p=(t=parseInt(n.getElementsByTagName("TileFormat")[0].getAttribute("width")))!=null?t:256;return{bounds:o,maxZoom:u.length-1,tileSize:p}}catch(r){return console.error("Error fetching or parsing XML:",r),null}}),i1=e=>gi(void 0,null,function*(){let t=e.getMetadata(sr.tmsUrls),r=e.getMetadata(sr.onlineResources).find(o=>o.type==="WMS").url,n=Array.isArray(t)&&t.length>0,i;if(n){let{maxZoom:o,bounds:u,tileSize:p}=yield nar(t[0]);i={bounds:u,tileSize:p,maxzoom:o,tiles:t.map(h=>`${h}/{z}/{x}/{y}.png`),scheme:"tms"}}else i={tiles:(yield fO(r))[0].urls};return i});var ZRe=e=>gi(void 0,null,function*(){let t=Ar.getGeoreferenceApiClient(),r=`/vector_maps/${e}`;return(yield t.get(r)).data});var iar=()=>tAe(({snapshot:e,set:t})=>r=>gi(void 0,null,function*(){let n=yield e.getPromise(Ps),i=yield e.getPromise(ni);t(DV,void 0);let o=n.find(p=>p.getId()===r.getId());if(o){t(Ps,n.filter(p=>p.getId()!==r.getId())),o.removeMapLibreLayers(i);return}if(r.getMetadata(sr.type)===Ta.VECTOR_MAP){let p=yield ZRe(r.getMetadata(sr.vectorMapId));r.updateMetadata(sr.userRole,p[sr.userRole]),r.updateMetadata(sr.version,p[sr.version]),r.setGeoJson(p.geojson),r.addLayerToMap(i),t(Ps,h=>h.concat(r))}else{let p=yield i1(r);r.addLayerToMap(i,{sourceSettings:p}),t(Ps,h=>h.concat(r))}})),XRe=e=>{let t=iar();return KRe.default.createElement(SG,Ze({onClick:t},e))};XRe.propTypes=Ze({},SG.propTypes);var yS=XRe;var oar=["map_scale","time_published","title","georeference"],Nc=new rg({metadata:{has_georeference:!0,map_scale:"0",thumb_url:"",time_published:"",title:"Loading"}}),EO=({direction:e="vertical",itemSize:t=110,ListItemComponent:r=yS,minimumBatchSize:n,onFetchResults:i,onUpdateSortType:o,renderHeader:u=!0,searchResultDescriptor:{itemCount:p,id:h},sortSettings:y})=>{let{activeType:_,sortOrder:E}=y,T=mr(U3e),[N,R]=(0,Wi.useState)({}),j=(0,Wi.useRef)(!1),k=(0,Wi.useRef)(),L=(0,Wi.useRef)(),{height:F,width:G}=HV(L),ee=(0,Wi.useCallback)(ue=>!j.current&&N[ue]!==void 0&&N[ue]!==Nc,[N]),ae=(0,Wi.useCallback)((ue,ge)=>{if(ue!==void 0&&ge!==void 0){let Oe=ge-ue+1;return i(ue,Oe).then(_e=>{_e&&R(ze=>{let We=j.current?{}:Object.assign({},ze);return j.current=!1,_e.forEach(($e,qe)=>{We[ue+qe]=$e}),We})})}},[i]);return(0,Wi.useEffect)(()=>{Nc.updateMetadata("title",it("mapsearch-listelement-loading"))},[]),(0,Wi.useEffect)(()=>{j.current=!0,k.current.resetloadMoreItemsCache(!0)},[h]),Wi.default.createElement("div",{className:vr("vkf-mapsearch-result-list",e)},u&&Wi.default.createElement("div",{className:"list-header"},Wi.default.createElement("strong",{className:"list-label"},it("mapsearch-sorting"),":"),Wi.default.createElement("div",{className:"inner-columns"},oar.map(ue=>Wi.default.createElement(gRe,{key:ue,onClick:o,sortOrder:_===ue?E:"",type:ue})))),Wi.default.createElement("div",{className:"mapsearch-contentlist-container",ref:L},Wi.default.createElement(hRe,{isItemLoaded:ee,itemCount:p,loadMoreItems:ae,minimumBatchSize:n,ref:k},({onItemsRendered:ue,ref:ge})=>Wi.default.createElement(dRe,{height:F,innerElementType:"ul",itemCount:p,itemSize:t,itemData:{direction:e,maps:N,is3d:T},layout:e,onItemsRendered:ue,ref:ge,width:G},r))))};EO.propTypes={direction:Ls.default.oneOf(["horizontal","vertical"]),itemSize:Ls.default.number,minimumBatchSize:Ls.default.number,ListItemComponent:Ls.default.elementType,renderHeader:Ls.default.bool,onFetchResults:Ls.default.func,onUpdateSortType:Ls.default.func,searchResultDescriptor:Ls.default.shape({id:Ls.default.number,itemCount:Ls.default.number}),sortSettings:Ls.default.shape({activeType:Ls.default.string,sortOrder:Ls.default.string})};var aar="title",_S={ASCENDING:"ascending",DESCENDING:"descending"},QRe=i=>{var o=i,{customQuery:e,DataProvider:t,enableOverlayLayer:r=!0}=o,n=Rn(o,["customQuery","DataProvider","enableOverlayLayer"]);let[u,p]=(0,Xd.useState)({activeType:aar,sortOrder:_S.ASCENDING}),{activeType:h,sortOrder:y}=u,_=T=>{let N=T===h&&y===_S.ASCENDING?_S.DESCENDING:_S.ASCENDING;p({sortOrder:N,activeType:T})};return Xd.default.createElement(Xd.Fragment,null,r&&Xd.default.createElement(J6e,{sortSettings:u}),Xd.default.createElement(t,{customQuery:e,renderConsumer:T=>Xd.default.createElement(EO,Ze(Ze({onUpdateSortType:_,sortSettings:u},n),T)),sortSettings:u}))};QRe.propTypes=Ze({DataProvider:IG.default.elementType.isRequired,enableOverlayLayer:IG.default.bool},EO.propTypes);var TO=QRe;var TG=re(Be(),1),MG=re(Gt(),1);var EG=re(Be(),1),MO=re(Gt(),1);var JRe=({name:e,color:t,size:r})=>EG.default.createElement("svg",{viewBox:"0 0 24 24",className:`icon ${e}`,fill:t,width:r,height:r},EG.default.createElement("use",{xlinkHref:`${Ar.getSettings().ICON_SPRITE}#${e}`}));JRe.propTypes={name:MO.default.string.isRequired,color:MO.default.string,size:MO.default.number};var o1=JRe;var e8e=({onClick:e,isOpen:t})=>{let r=mr(Yf);return TG.default.createElement("button",{className:vr("vkf-toggle-facets",r.facets.length>0&&"active"),onClick:e,title:it(`mapsearch-facetedsearch-${t?"close":"open"}`)},TG.default.createElement(o1,{name:"icon-filter"}))};e8e.propTypes={isOpen:MG.default.bool,onClick:MG.default.func};var t8e=e8e;var Pa=re(Be(),1),lh=re(Gt(),1);var PG=re(Um(),1);function r8e(e,t){return e[0]==t[0]&&e[2]==t[2]&&e[1]==t[1]&&e[3]==t[3]}var sar=function(e){let t=[],r={bool:{should:t}};for(let n=0;n<e.length;n++){let i=e[n],o={term:{}};o.term[i.key]=i.value.toLowerCase(),t.push(o)}return r},n8e=function(e){return{aggs:{summary:{stats:{field:e}}}}},i8e=function(e,t,r,n,i,o,u,p){return{query:{bool:{filter:[{range:{[e]:{gte:t[0],lte:t[1]}}},{geo_shape:{[r]:{relation:"intersects",shape:{type:"envelope",coordinates:n}}}},sar(u),{term:{has_georeference:!0}},...(p||[])],must:[{match_all:{}}]}},sort:{[i]:{order:o}}}};var CG=function(e,t){let r="geometry"in t?t.geometry:void 0,n={};delete t.geometry;for(let o in t)if(Object.hasOwn(t,o))if(o==="time_published"){let u=t[o].split("-")[0];n[o]=u}else n[o]=t[o];return n.id=e,n.type===Ta.VECTOR_MAP?(n[sr.vectorMapId]=e,aO.fromPersistence({geometry:r,metadata:n,geoJson:structuredClone(LW)})):new rg({metadata:n,geometry:r})},o8e=function(e){let t=[];for(let r=0,n=e.length;r<n;r++)t.push(CG(e[r]._id,e[r]._source));return t},CO=e=>{let n=e,{time_of_publication:t}=n,r=Rn(n,["time_of_publication"]);return Ze({time_of_publication:parseInt(t.split("-")[0])},r)},AG=e=>{let n=e,{time_of_publication:t}=n,r=Rn(n,["time_of_publication"]);return Ze({time_of_publication:`${t}-01-01T00:00:00`},r)};var AO={height:15,width:15},a8e={height:15,width:0},lar={width:340},uar={width:340},s8e=(e,t)=>{let{map:r}=e,n,i,o,u;return t===Gf.VERTICAL?(n=0,i=r.height,o=r.width,u=0):(n=0+lar.width+AO.width,i=r.height-a8e.height-AO.height,o=r.width-uar.width-AO.width,u=a8e.height+AO.height),[[n,i],[n,u],[o,i],[o,u]]},l8e=(e,t=[[-180,85.06],[180,-85.06]])=>{let[[r,n],[i,o]]=e,[[u,p],[h,y]]=t;return[[Math.max(u,r),Math.min(n,p)],[Math.min(h,i),Math.max(o,y)]]};var u8e=re(Qw(),1),c8e=({customQuery:e,minimumBatchSize:t=20,renderConsumer:r,sortSettings:n})=>{let{activeType:i,sortOrder:o}=n,u=mr(RA),{facets:p}=mr(Yf),h=mr(B3e),y=mr(ni),[_,E]=(0,Pa.useState)(void 0),T=Ci(jA),N=Ci(zA),[R,j]=In(BA),[k,L]=In(FA),[F,G]=(0,Pa.useState)({itemCount:10,id:Date.now()}),ae=Ar.getSettings().API_SEARCH,ue=(0,Pa.useCallback)(We=>{let $e=o==="ascending"?"asc":"desc",qe=l8e([[We[0],We[3]],[We[2],We[1]]]);return i8e("time_published",[`${k[0]}-01-01`,`${k[1]}-12-31`],"geometry",qe,i,$e,p,e)},[p,i,o,k]),ge=(0,Pa.useCallback)((We,$e,qe=!1)=>{if(_===void 0)return T(!1),new Promise(Ue=>Ue([]));let Je=ue(_,"ESPG:4326"),dt=ae+"/_search?from="+We+"&size="+$e;return T(!0),PG.default.post(dt,Je).then(Ue=>{if(Ue.status===200){let Re=Ue.data;return qe?Re:o8e(Re.hits.hits)}}).catch(Ue=>{console.warn(Ue)}).finally(()=>{T(!1)})},[ue,_]),Oe=(0,Pa.useCallback)(()=>{ge(0,0,!0).then(We=>{let $e=We.hits.total.value;N($e),G({itemCount:$e,id:Date.now()})})},[ge]),_e=p4e(Oe,30),ze=(0,Pa.useCallback)(()=>{if(er(y)){let We=s8e(u,h),$e=new u8e.LngLatBounds;We.forEach(Je=>{let dt=y.unproject(Je);$e.extend(dt)});let qe=$e.toArray().flat();(_===void 0||!r8e(qe,_))&&E(qe)}},[y,_,u]);return(0,Pa.useEffect)(()=>{if(er(y))return y.on("moveend",ze),()=>{y.off("moveend",ze)}},[y,ze]),(0,Pa.useEffect)(()=>{_e()},[p,Oe,_,i,o,k]),(0,Pa.useEffect)(()=>{ze()},[u,y]),(0,Pa.useEffect)(()=>{let We=`${ae}/_search?`,$e=n8e("time_published");PG.default.post(We,$e,{}).then(qe=>{if(qe.status===200){let Je=qe.data,dt=new Date(Je.aggregations.summary.max),Re=[new Date(Je.aggregations.summary.min).getUTCFullYear(),dt.getUTCFullYear()];(R===void 0||NV===R||Re[0]!==R[0]||Re[1]!==R[1])&&(j(Re),L(Re))}})},[]),Pa.default.createElement(Pa.default.Fragment,null,r({minimumBatchSize:t,onRefresh:Oe,onFetchResults:ge,searchResultDescriptor:F}))};c8e.propTypes={customQuery:lh.default.array,minimumBatchSize:lh.default.number,projection:lh.default.string,renderConsumer:lh.default.func,sortSettings:lh.default.shape({activeType:lh.default.string,sortOrder:lh.default.string})};var d8e=c8e;var PO=re(Gt(),1);var p8e=({customQuery:e,MapSearchListItemComponent:t,mosaicMode:r})=>{let[n,i]=In(Yf),[o,u]=(0,no.useState)(!1),[p,h]=(0,no.useState)(!1),y=mr(jA),_=mr(zA),E=()=>{u(N=>!N)},T=()=>{i(F3e)};return(0,no.useEffect)(()=>{h(y)},[y]),no.default.createElement("div",{className:vr("mapsearch-container",o&&"facetedsearch-open")},no.default.createElement("div",{className:"panel panel-default searchTablePanel"},no.default.createElement("div",{className:"panel-heading"},no.default.createElement("div",{className:"content"},no.default.createElement("div",null,_===0?it("mapsearch-found-no-maps"):`${_} ${it("mapsearch-found-maps")}`),n.facets.length>0&&no.default.createElement("button",{className:"remove-filter",onClick:T},no.default.createElement(o1,{name:"icon-filter"})),p&&no.default.createElement("div",{className:"loading-spinner"},no.default.createElement(X0,null)),no.default.createElement(t8e,{onClick:E,isOpen:o})),no.default.createElement("div",{className:"facet-container"},no.default.createElement(yO,{georeferenceMode:!1,mosaicMode:r}))),no.default.createElement("div",{className:"panel-body"},no.default.createElement(TO,{customQuery:e,DataProvider:d8e,ListItemComponent:t}))))};p8e.propTypes={customQuery:PO.default.array,MapSearchListItemComponent:PO.default.elementType,mosaicMode:PO.default.bool};var f8e=p8e;var OD=re(Be(),1);var Yn=re(Be(),1),jc=re(Gt(),1);function On(e){"@babel/helpers - typeof";return On=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},On(e)}function h8e(e,t){if(On(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(On(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function OO(e){var t=h8e(e,"string");return On(t)=="symbol"?t:t+""}function mt(e,t,r){return(t=OO(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m8e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Et(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m8e(Object(r),!0).forEach(function(n){mt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m8e(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Oa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g8e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,OO(n.key),n)}}function Da(e,t,r){return t&&g8e(e.prototype,t),r&&g8e(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Na(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b0(e,t)}function Lu(e){return Lu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Lu(e)}function OG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(OG=function(){return!!e})()}function v8e(e,t){if(t&&(On(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qr(e)}function ka(e){var t=OG();return function(){var r,n=Lu(e);if(t){var i=Lu(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return v8e(this,r)}}var UG=re(Be());var DG={},car=[],dar=function(t){car.push(t)};function par(e,t){if(0)var r}function far(e,t){if(0)var r}function har(){DG={}}function y8e(e,t,r){!t&&!DG[r]&&(e(!1,r),DG[r]=!0)}function DO(e,t){y8e(par,e,t)}function mar(e,t){y8e(far,e,t)}DO.preMessage=dar;DO.resetWarned=har;DO.noteOnce=mar;var kc=DO;var _8e=re(Be()),gar=function(t){var r,n,i=t.className,o=t.included,u=t.vertical,p=t.style,h=t.length,y=t.offset,_=t.reverse;h<0&&(_=!_,h=Math.abs(h),y=100-y);var E=u?(r={},mt(r,_?"top":"bottom","".concat(y,"%")),mt(r,_?"bottom":"top","auto"),mt(r,"height","".concat(h,"%")),r):(n={},mt(n,_?"right":"left","".concat(y,"%")),mt(n,_?"left":"right","auto"),mt(n,"width","".concat(h,"%")),n),T=Et(Et({},p),E);return o?_8e.default.createElement("div",{className:i,style:T}):null},NO=gar;function Ja(e,t){if(e==null)return{};var r,n,i=y0(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function bS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function b8e(e){if(Array.isArray(e))return bS(e)}function NG(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function xS(e,t){if(e){if(typeof e=="string")return bS(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?bS(e,t):void 0}}function x8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jl(e){return b8e(e)||NG(e)||xS(e)||x8e()}function w8e(e,t){for(;!{}.hasOwnProperty.call(e,t)&&(e=Lu(e))!==null;);return e}function a1(){return a1=typeof Reflect!="undefined"&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=w8e(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(arguments.length<3?e:r):i.value}},a1.apply(null,arguments)}var l1=re(Be());var kG=re(Ri());function es(e,t,r,n){var i=kG.default.unstable_batchedUpdates?function(u){kG.default.unstable_batchedUpdates(r,u)}:r;return e!=null&&e.addEventListener&&e.addEventListener(t,i,n),{remove:function(){e!=null&&e.removeEventListener&&e.removeEventListener(t,i,n)}}}var O8e=re(Xr());var LG=re(Be()),S8e=re(Xr());var yar=function(t,r,n,i,o,u){kc(n?i>0:!0,"`Slider[step]` should be a positive number in order to make Slider[dots] work.");var p=Object.keys(r).map(parseFloat).sort(function(y,_){return y-_});if(n&&i)for(var h=o;h<=u;h+=i)p.indexOf(h)===-1&&p.push(h);return p},_ar=function(t){var r=t.prefixCls,n=t.vertical,i=t.reverse,o=t.marks,u=t.dots,p=t.step,h=t.included,y=t.lowerBound,_=t.upperBound,E=t.max,T=t.min,N=t.dotStyle,R=t.activeDotStyle,j=E-T,k=yar(n,o,u,p,T,E).map(function(L){var F,G="".concat(Math.abs(L-T)/j*100,"%"),ee=!h&&L===_||h&&L<=_&&L>=y,ae=n?Et(Et({},N),{},mt({},i?"top":"bottom",G)):Et(Et({},N),{},mt({},i?"right":"left",G));ee&&(ae=Et(Et({},ae),R));var ue=(0,S8e.default)((F={},mt(F,"".concat(r,"-dot"),!0),mt(F,"".concat(r,"-dot-active"),ee),mt(F,"".concat(r,"-dot-reverse"),i),F));return LG.default.createElement("span",{className:ue,style:ae,key:L})});return LG.default.createElement("div",{className:"".concat(r,"-step")},k)},I8e=_ar;var kO=re(Be()),E8e=re(Xr()),bar=function(t){var r=t.className,n=t.vertical,i=t.reverse,o=t.marks,u=t.included,p=t.upperBound,h=t.lowerBound,y=t.max,_=t.min,E=t.onClickLabel,T=Object.keys(o),N=y-_,R=T.map(parseFloat).sort(function(j,k){return j-k}).map(function(j){var k,L=o[j],F=On(L)==="object"&&!kO.default.isValidElement(L),G=F?L.label:L;if(!G&&G!==0)return null;var ee=!u&&j===p||u&&j<=p&&j>=h,ae=(0,E8e.default)((k={},mt(k,"".concat(r,"-text"),!0),mt(k,"".concat(r,"-text-active"),ee),k)),ue=mt({marginBottom:"-50%"},i?"top":"bottom","".concat((j-_)/N*100,"%")),ge=mt({transform:"translateX(".concat(i?"50%":"-50%",")"),msTransform:"translateX(".concat(i?"50%":"-50%",")")},i?"right":"left","".concat((j-_)/N*100,"%")),Oe=n?ue:ge,_e=F?Et(Et({},Oe),L.style):Oe;return kO.default.createElement("span",{className:ae,style:_e,key:j,onMouseDown:function(We){return E(We,j)},onTouchStart:function(We){return E(We,j)}},G)});return kO.default.createElement("div",{className:r},R)},T8e=bar;var qG=re(Be()),M8e=re(Xr());var s1=function(e){Na(r,e);var t=ka(r);function r(){var n;return Oa(this,r),n=t.apply(this,arguments),n.state={clickFocused:!1},n.setHandleRef=function(i){n.handle=i},n.handleMouseUp=function(){document.activeElement===n.handle&&n.setClickFocus(!0)},n.handleMouseDown=function(i){i.preventDefault(),n.focus()},n.handleBlur=function(){n.setClickFocus(!1)},n.handleKeyDown=function(){n.setClickFocus(!1)},n}return Da(r,[{key:"componentDidMount",value:function(){this.onMouseUpListener=es(document,"mouseup",this.handleMouseUp)}},{key:"componentWillUnmount",value:function(){this.onMouseUpListener&&this.onMouseUpListener.remove()}},{key:"setClickFocus",value:function(i){this.setState({clickFocused:i})}},{key:"clickFocus",value:function(){this.setClickFocus(!0),this.focus()}},{key:"focus",value:function(){this.handle.focus()}},{key:"blur",value:function(){this.handle.blur()}},{key:"render",value:function(){var i,o,u=this.props,p=u.prefixCls,h=u.vertical,y=u.reverse,_=u.offset,E=u.style,T=u.disabled,N=u.min,R=u.max,j=u.value,k=u.tabIndex,L=u.ariaLabel,F=u.ariaLabelledBy,G=u.ariaValueTextFormatter,ee=Ja(u,["prefixCls","vertical","reverse","offset","style","disabled","min","max","value","tabIndex","ariaLabel","ariaLabelledBy","ariaValueTextFormatter"]),ae=(0,M8e.default)(this.props.className,mt({},"".concat(p,"-handle-click-focused"),this.state.clickFocused)),ue=h?(i={},mt(i,y?"top":"bottom","".concat(_,"%")),mt(i,y?"bottom":"top","auto"),mt(i,"transform",y?null:"translateY(+50%)"),i):(o={},mt(o,y?"right":"left","".concat(_,"%")),mt(o,y?"left":"right","auto"),mt(o,"transform","translateX(".concat(y?"+":"-","50%)")),o),ge=Et(Et({},E),ue),Oe=k||0;(T||k===null)&&(Oe=null);var _e;return G&&(_e=G(j)),qG.default.createElement("div",sn({ref:this.setHandleRef,tabIndex:Oe},ee,{className:ae,style:ge,onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,onMouseDown:this.handleMouseDown,role:"slider","aria-valuemin":N,"aria-valuemax":R,"aria-valuenow":j,"aria-disabled":!!T,"aria-label":L,"aria-labelledby":F,"aria-valuetext":_e}))}}]),r}(qG.default.Component);var A8e=re(Ri());var Cr={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(t){var r=t.keyCode;if(t.altKey&&!t.ctrlKey||t.metaKey||r>=Cr.F1&&r<=Cr.F12)return!1;switch(r){case Cr.ALT:case Cr.CAPS_LOCK:case Cr.CONTEXT_MENU:case Cr.CTRL:case Cr.DOWN:case Cr.END:case Cr.ESC:case Cr.HOME:case Cr.INSERT:case Cr.LEFT:case Cr.MAC_FF_META:case Cr.META:case Cr.NUMLOCK:case Cr.NUM_CENTER:case Cr.PAGE_DOWN:case Cr.PAGE_UP:case Cr.PAUSE:case Cr.PRINT_SCREEN:case Cr.RIGHT:case Cr.SHIFT:case Cr.UP:case Cr.WIN_KEY:case Cr.WIN_KEY_RIGHT:return!1;default:return!0;}},isCharacterKey:function(t){if(t>=Cr.ZERO&&t<=Cr.NINE||t>=Cr.NUM_ZERO&&t<=Cr.NUM_MULTIPLY||t>=Cr.A&&t<=Cr.Z||window.navigator.userAgent.indexOf("WebKit")!==-1&&t===0)return!0;switch(t){case Cr.SPACE:case Cr.QUESTION_MARK:case Cr.NUM_PLUS:case Cr.NUM_MINUS:case Cr.NUM_PERIOD:case Cr.NUM_DIVISION:case Cr.SEMICOLON:case Cr.DASH:case Cr.EQUALS:case Cr.COMMA:case Cr.PERIOD:case Cr.SLASH:case Cr.APOSTROPHE:case Cr.SINGLE_QUOTE:case Cr.OPEN_SQUARE_BRACKET:case Cr.BACKSLASH:case Cr.CLOSE_SQUARE_BRACKET:return!0;default:return!1;}}},Qd=Cr;function LO(e,t){try{return Object.keys(t).some(function(r){return e.target===(0,A8e.findDOMNode)(t[r])})}catch(r){return!1}}function qO(e,t){var r=t.min,n=t.max;return e<r||e>n}function RG(e){return e.touches.length>1||e.type.toLowerCase()==="touchend"&&e.touches.length>0}function C8e(e,t){var r=t.marks,n=t.step,i=t.min,o=t.max,u=Object.keys(r).map(parseFloat);if(n!==null){var p=Math.pow(10,P8e(n)),h=Math.floor((o*p-i*p)/(n*p)),y=Math.min((e-i)/n,h),_=Math.round(y)*n+i;u.push(_)}var E=u.map(function(T){return Math.abs(e-T)});return u[E.indexOf(Math.min.apply(Math,Jl(E)))]}function P8e(e){var t=e.toString(),r=0;return t.indexOf(".")>=0&&(r=t.length-t.indexOf(".")-1),r}function zG(e,t){return e?t.clientY:t.pageX}function jG(e,t){return e?t.touches[0].clientY:t.touches[0].pageX}function FG(e,t){var r=t.getBoundingClientRect();return e?r.top+r.height*.5:window.pageXOffset+r.left+r.width*.5}function wS(e,t){var r=t.max,n=t.min;return e<=n?n:e>=r?r:e}function RO(e,t){var r=t.step,n=isFinite(C8e(e,t))?C8e(e,t):0;return r===null?n:parseFloat(n.toFixed(P8e(r)))}function Jd(e){e.stopPropagation(),e.preventDefault()}function xar(e,t,r){var n={increase:function(p,h){return p+h},decrease:function(p,h){return p-h}},i=n[e](Object.keys(r.marks).indexOf(JSON.stringify(t)),1),o=Object.keys(r.marks)[i];return r.step?n[e](t,r.step):Object.keys(r.marks).length&&r.marks[o]?r.marks[o]:t}function zO(e,t,r){var n="increase",i="decrease",o=n;switch(e.keyCode){case Qd.UP:o=t&&r?i:n;break;case Qd.RIGHT:o=!t&&r?i:n;break;case Qd.DOWN:o=t&&r?n:i;break;case Qd.LEFT:o=!t&&r?n:i;break;case Qd.END:return function(u,p){return p.max};case Qd.HOME:return function(u,p){return p.min};case Qd.PAGE_UP:return function(u,p){return u+p.step*2};case Qd.PAGE_DOWN:return function(u,p){return u-p.step*2};default:return;}return function(u,p){return xar(o,u,p)}}function Lc(){}function SS(e){var t;return t=function(r){Na(i,r);var n=ka(i);function i(o){var u;Oa(this,i),u=n.call(this,o),u.onDown=function(E,T){var N=T,R=u.props,j=R.draggableTrack,k=R.vertical,L=u.state.bounds,F=j&&u.positionGetValue?u.positionGetValue(N)||[]:[],G=LO(E,u.handlesRefs);if(u.dragTrack=j&&L.length>=2&&!G&&!F.map(function(ae,ue){var ge=ue?!0:ae>=L[ue];return ue===F.length-1?ae<=L[ue]:ge}).some(function(ae){return!ae}),u.dragTrack)u.dragOffset=N,u.startBounds=Jl(L);else{if(!G)u.dragOffset=0;else{var ee=FG(k,E.target);u.dragOffset=N-ee,N=ee}u.onStart(N)}},u.onMouseDown=function(E){if(E.button===0){u.removeDocumentEvents();var T=u.props.vertical,N=zG(T,E);u.onDown(E,N),u.addDocumentMouseEvents()}},u.onTouchStart=function(E){if(!RG(E)){var T=u.props.vertical,N=jG(T,E);u.onDown(E,N),u.addDocumentTouchEvents(),Jd(E)}},u.onFocus=function(E){var T=u.props,N=T.onFocus,R=T.vertical;if(LO(E,u.handlesRefs)&&!u.dragTrack){var j=FG(R,E.target);u.dragOffset=0,u.onStart(j),Jd(E),N&&N(E)}},u.onBlur=function(E){var T=u.props.onBlur;u.dragTrack||u.onEnd(),T&&T(E)},u.onMouseUp=function(){u.handlesRefs[u.prevMovedHandleIndex]&&u.handlesRefs[u.prevMovedHandleIndex].clickFocus()},u.onMouseMove=function(E){if(!u.sliderRef){u.onEnd();return}var T=zG(u.props.vertical,E);u.onMove(E,T-u.dragOffset,u.dragTrack,u.startBounds)},u.onTouchMove=function(E){if(RG(E)||!u.sliderRef){u.onEnd();return}var T=jG(u.props.vertical,E);u.onMove(E,T-u.dragOffset,u.dragTrack,u.startBounds)},u.onKeyDown=function(E){u.sliderRef&&LO(E,u.handlesRefs)&&u.onKeyboard(E)},u.onClickMarkLabel=function(E,T){E.stopPropagation(),u.onChange({value:T}),u.setState({value:T},function(){return u.onEnd(!0)})},u.saveSlider=function(E){u.sliderRef=E};var p=o.step,h=o.max,y=o.min,_=isFinite(h-y)?(h-y)%p===0:!0;return kc(p&&Math.floor(p)===p?_:!0,"Slider[max] - Slider[min] (".concat(h-y,") should be a multiple of Slider[step] (").concat(p,")")),u.handlesRefs={},u}return Da(i,[{key:"componentDidMount",value:function(){this.document=this.sliderRef&&this.sliderRef.ownerDocument;var u=this.props,p=u.autoFocus,h=u.disabled;p&&!h&&this.focus()}},{key:"componentWillUnmount",value:function(){a1(Lu(i.prototype),"componentWillUnmount",this)&&a1(Lu(i.prototype),"componentWillUnmount",this).call(this),this.removeDocumentEvents()}},{key:"getSliderStart",value:function(){var u=this.sliderRef,p=this.props,h=p.vertical,y=p.reverse,_=u.getBoundingClientRect();return h?y?_.bottom:_.top:window.pageXOffset+(y?_.right:_.left)}},{key:"getSliderLength",value:function(){var u=this.sliderRef;if(!u)return 0;var p=u.getBoundingClientRect();return this.props.vertical?p.height:p.width}},{key:"addDocumentTouchEvents",value:function(){this.onTouchMoveListener=es(this.document,"touchmove",this.onTouchMove),this.onTouchUpListener=es(this.document,"touchend",this.onEnd)}},{key:"addDocumentMouseEvents",value:function(){this.onMouseMoveListener=es(this.document,"mousemove",this.onMouseMove),this.onMouseUpListener=es(this.document,"mouseup",this.onEnd)}},{key:"removeDocumentEvents",value:function(){this.onTouchMoveListener&&this.onTouchMoveListener.remove(),this.onTouchUpListener&&this.onTouchUpListener.remove(),this.onMouseMoveListener&&this.onMouseMoveListener.remove(),this.onMouseUpListener&&this.onMouseUpListener.remove()}},{key:"focus",value:function(){var u;this.props.disabled||(u=this.handlesRefs[0])===null||u===void 0||u.focus()}},{key:"blur",value:function(){var u=this;this.props.disabled||Object.keys(this.handlesRefs).forEach(function(p){var h,y;(h=u.handlesRefs[p])===null||h===void 0||(y=h.blur)===null||y===void 0||y.call(h)})}},{key:"calcValue",value:function(u){var p=this.props,h=p.vertical,y=p.min,_=p.max,E=Math.abs(Math.max(u,0)/this.getSliderLength()),T=h?(1-E)*(_-y)+y:E*(_-y)+y;return T}},{key:"calcValueByPos",value:function(u){var p=this.props.reverse?-1:1,h=p*(u-this.getSliderStart()),y=this.trimAlignValue(this.calcValue(h));return y}},{key:"calcOffset",value:function(u){var p=this.props,h=p.min,y=p.max,_=(u-h)/(y-h);return Math.max(0,_*100)}},{key:"saveHandle",value:function(u,p){this.handlesRefs[u]=p}},{key:"render",value:function(){var u,p=this.props,h=p.prefixCls,y=p.className,_=p.marks,E=p.dots,T=p.step,N=p.included,R=p.disabled,j=p.vertical,k=p.reverse,L=p.min,F=p.max,G=p.children,ee=p.maximumTrackStyle,ae=p.style,ue=p.railStyle,ge=p.dotStyle,Oe=p.activeDotStyle,_e=a1(Lu(i.prototype),"render",this).call(this),ze=_e.tracks,We=_e.handles,$e=(0,O8e.default)(h,(u={},mt(u,"".concat(h,"-with-marks"),Object.keys(_).length),mt(u,"".concat(h,"-disabled"),R),mt(u,"".concat(h,"-vertical"),j),mt(u,y,y),u));return l1.default.createElement("div",{ref:this.saveSlider,className:$e,onTouchStart:R?Lc:this.onTouchStart,onMouseDown:R?Lc:this.onMouseDown,onMouseUp:R?Lc:this.onMouseUp,onKeyDown:R?Lc:this.onKeyDown,onFocus:R?Lc:this.onFocus,onBlur:R?Lc:this.onBlur,style:ae},l1.default.createElement("div",{className:"".concat(h,"-rail"),style:Et(Et({},ee),ue)}),ze,l1.default.createElement(I8e,{prefixCls:h,vertical:j,reverse:k,marks:_,dots:E,step:T,included:N,lowerBound:this.getLowerBound(),upperBound:this.getUpperBound(),max:F,min:L,dotStyle:ge,activeDotStyle:Oe}),We,l1.default.createElement(T8e,{className:"".concat(h,"-mark"),onClickLabel:R?Lc:this.onClickMarkLabel,vertical:j,marks:_,included:N,lowerBound:this.getLowerBound(),upperBound:this.getUpperBound(),max:F,min:L,reverse:k}),G)}}]),i}(e),t.displayName="ComponentEnhancer(".concat(e.displayName,")"),t.defaultProps=Et(Et({},e.defaultProps),{},{prefixCls:"rc-slider",className:"",min:0,max:100,step:1,marks:{},handle:function(n){var i=n.index,o=Ja(n,["index"]);return delete o.dragging,o.value===null?null:l1.default.createElement(s1,sn({},o,{key:i}))},onBeforeChange:Lc,onChange:Lc,onAfterChange:Lc,included:!0,disabled:!1,dots:!1,vertical:!1,reverse:!1,trackStyle:[{}],handleStyle:[{}],railStyle:{},dotStyle:{},activeDotStyle:{}}),t}var war=function(e){Na(r,e);var t=ka(r);function r(n){var i;Oa(this,r),i=t.call(this,n),i.positionGetValue=function(p){return[]},i.onEnd=function(p){var h=i.state.dragging;i.removeDocumentEvents(),(h||p)&&i.props.onAfterChange(i.getValue()),i.setState({dragging:!1})};var o=n.defaultValue!==void 0?n.defaultValue:n.min,u=n.value!==void 0?n.value:o;return i.state={value:i.trimAlignValue(u),dragging:!1},kc(!("minimumTrackStyle"in n),"minimumTrackStyle will be deprecated, please use trackStyle instead."),kc(!("maximumTrackStyle"in n),"maximumTrackStyle will be deprecated, please use railStyle instead."),i}return Da(r,[{key:"calcValueByPos",value:function(i){return 0}},{key:"calcOffset",value:function(i){return 0}},{key:"saveHandle",value:function(i,o){}},{key:"removeDocumentEvents",value:function(){}},{key:"componentDidUpdate",value:function(i,o){var u=this.props,p=u.min,h=u.max,y=u.value,_=u.onChange;if("min"in this.props||"max"in this.props){var E=y!==void 0?y:o.value,T=this.trimAlignValue(E,this.props);T!==o.value&&(this.setState({value:T}),!(p===i.min&&h===i.max)&&qO(E,this.props)&&_(T))}}},{key:"onChange",value:function(i){var o=this.props,u=!("value"in o),p=i.value>this.props.max?Et(Et({},i),{},{value:this.props.max}):i;u&&this.setState(p);var h=p.value;o.onChange(h)}},{key:"onStart",value:function(i){this.setState({dragging:!0});var o=this.props,u=this.getValue();o.onBeforeChange(u);var p=this.calcValueByPos(i);this.startValue=p,this.startPosition=i,p!==u&&(this.prevMovedHandleIndex=0,this.onChange({value:p}))}},{key:"onMove",value:function(i,o){Jd(i);var u=this.state.value,p=this.calcValueByPos(o);p!==u&&this.onChange({value:p})}},{key:"onKeyboard",value:function(i){var o=this.props,u=o.reverse,p=o.vertical,h=zO(i,p,u);if(h){Jd(i);var y=this.state,_=y.value,E=h(_,this.props),T=this.trimAlignValue(E);if(T===_)return;this.onChange({value:T}),this.props.onAfterChange(T),this.onEnd()}}},{key:"getValue",value:function(){return this.state.value}},{key:"getLowerBound",value:function(){var i=this.props.startPoint||this.props.min;return this.state.value>i?i:this.state.value}},{key:"getUpperBound",value:function(){return this.state.value<this.props.startPoint?this.props.startPoint:this.state.value}},{key:"trimAlignValue",value:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(i===null)return null;var u=Et(Et({},this.props),o),p=wS(i,u);return RO(p,u)}},{key:"render",value:function(){var i=this,o=this.props,u=o.prefixCls,p=o.vertical,h=o.included,y=o.disabled,_=o.minimumTrackStyle,E=o.trackStyle,T=o.handleStyle,N=o.tabIndex,R=o.ariaLabelForHandle,j=o.ariaLabelledByForHandle,k=o.ariaValueTextFormatterForHandle,L=o.min,F=o.max,G=o.startPoint,ee=o.reverse,ae=o.handle,ue=this.state,ge=ue.value,Oe=ue.dragging,_e=this.calcOffset(ge),ze=ae({className:"".concat(u,"-handle"),prefixCls:u,vertical:p,offset:_e,value:ge,dragging:Oe,disabled:y,min:L,max:F,reverse:ee,index:0,tabIndex:N,ariaLabel:R,ariaLabelledBy:j,ariaValueTextFormatter:k,style:T[0]||T,ref:function(dt){return i.saveHandle(0,dt)}}),We=G!==void 0?this.calcOffset(G):0,$e=E[0]||E,qe=UG.default.createElement(NO,{className:"".concat(u,"-track"),vertical:p,included:h,offset:We,reverse:ee,length:_e-We,style:Et(Et({},_),$e)});return{tracks:qe,handles:ze}}}]),r}(UG.default.Component),D8e=SS(war);var VG=re(Be()),$G=re(Xr());var IS=function(t){var r=t.value,n=t.handle,i=t.bounds,o=t.props,u=o.allowCross,p=o.pushable,h=Number(p),y=wS(r,o),_=y;return!u&&n!=null&&i!==void 0&&(n>0&&y<=i[n-1]+h&&(_=i[n-1]+h),n<i.length-1&&y>=i[n+1]-h&&(_=i[n+1]-h)),RO(_,o)},HG=function(e){Na(r,e);var t=ka(r);function r(n){var i;Oa(this,r),i=t.call(this,n),i.positionGetValue=function(N){var R=i.getValue(),j=i.calcValueByPos(N),k=i.getClosestBound(j),L=i.getBoundNeedMoving(j,k),F=R[L];if(j===F)return null;var G=Jl(R);return G[L]=j,G},i.onEnd=function(N){var R=i.state.handle;i.removeDocumentEvents(),R||(i.dragTrack=!1),(R!==null||N)&&i.props.onAfterChange(i.getValue()),i.setState({handle:null})};var o=n.count,u=n.min,p=n.max,h=Array.apply(void 0,Jl(Array(o+1))).map(function(){return u}),y="defaultValue"in n?n.defaultValue:h,_=n.value!==void 0?n.value:y,E=_.map(function(N,R){return IS({value:N,handle:R,props:n})}),T=E[0]===p?0:E.length-1;return i.state={handle:null,recent:T,bounds:E},i}return Da(r,[{key:"calcValueByPos",value:function(i){return 0}},{key:"getSliderLength",value:function(){return 0}},{key:"calcOffset",value:function(i){return 0}},{key:"saveHandle",value:function(i,o){}},{key:"removeDocumentEvents",value:function(){}},{key:"componentDidUpdate",value:function(i,o){var u=this,p=this.props,h=p.onChange,y=p.value,_=p.min,E=p.max;if(("min"in this.props||"max"in this.props)&&!(_===i.min&&E===i.max)){var T=y||o.bounds;if(T.some(function(R){return qO(R,u.props)})){var N=T.map(function(R){return wS(R,u.props)});h(N)}}}},{key:"onChange",value:function(i){var o=this.props,u=!("value"in o);if(u)this.setState(i);else{var p={};["handle","recent"].forEach(function(_){i[_]!==void 0&&(p[_]=i[_])}),Object.keys(p).length&&this.setState(p)}var h=Et(Et({},this.state),i),y=h.bounds;o.onChange(y)}},{key:"onStart",value:function(i){var o=this.props,u=this.state,p=this.getValue();o.onBeforeChange(p);var h=this.calcValueByPos(i);this.startValue=h,this.startPosition=i;var y=this.getClosestBound(h);this.prevMovedHandleIndex=this.getBoundNeedMoving(h,y),this.setState({handle:this.prevMovedHandleIndex,recent:this.prevMovedHandleIndex});var _=p[this.prevMovedHandleIndex];if(h!==_){var E=Jl(u.bounds);E[this.prevMovedHandleIndex]=h,this.onChange({bounds:E})}}},{key:"onMove",value:function(i,o,u,p){Jd(i);var h=this.state,y=this.props,_=y.max||100,E=y.min||0;if(u){var T=y.vertical?-o:o;T=y.reverse?-T:T;var N=_-Math.max.apply(Math,Jl(p)),R=E-Math.min.apply(Math,Jl(p)),j=Math.min(Math.max(T/(this.getSliderLength()/(_-E)),R),N),k=p.map(function(G){return Math.floor(Math.max(Math.min(G+j,_),E))});h.bounds.map(function(G,ee){return G===k[ee]}).some(function(G){return!G})&&this.onChange({bounds:k});return}var L=this.calcValueByPos(o),F=h.bounds[h.handle];L!==F&&this.moveTo(L)}},{key:"onKeyboard",value:function(i){var o=this.props,u=o.reverse,p=o.vertical,h=zO(i,p,u);if(h){Jd(i);var y=this.state,_=this.props,E=y.bounds,T=y.handle,N=E[T===null?y.recent:T],R=h(N,_),j=IS({value:R,handle:T,bounds:y.bounds,props:_});if(j===N)return;var k=!0;this.moveTo(j,k)}}},{key:"getValue",value:function(){return this.state.bounds}},{key:"getClosestBound",value:function(i){for(var o=this.state.bounds,u=0,p=1;p<o.length-1;p+=1)i>=o[p]&&(u=p);return Math.abs(o[u+1]-i)<Math.abs(o[u]-i)&&(u+=1),u}},{key:"getBoundNeedMoving",value:function(i,o){var u=this.state,p=u.bounds,h=u.recent,y=o,_=p[o+1]===p[o];return _&&p[h]===p[o]&&(y=h),_&&i!==p[o+1]&&(y=i<p[o+1]?o:o+1),y}},{key:"getLowerBound",value:function(){return this.state.bounds[0]}},{key:"getUpperBound",value:function(){var i=this.state.bounds;return i[i.length-1]}},{key:"getPoints",value:function(){var i=this.props,o=i.marks,u=i.step,p=i.min,h=i.max,y=this.internalPointsCache;if(!y||y.marks!==o||y.step!==u){var _=Et({},o);if(u!==null)for(var E=p;E<=h;E+=u)_[E]=E;var T=Object.keys(_).map(parseFloat);T.sort(function(N,R){return N-R}),this.internalPointsCache={marks:o,step:u,points:T}}return this.internalPointsCache.points}},{key:"moveTo",value:function(i,o){var u=this,p=this.state,h=this.props,y=Jl(p.bounds),_=p.handle===null?p.recent:p.handle;y[_]=i;var E=_;h.pushable!==!1?this.pushSurroundingHandles(y,E):h.allowCross&&(y.sort(function(T,N){return T-N}),E=y.indexOf(i)),this.onChange({recent:E,handle:E,bounds:y}),o&&(this.props.onAfterChange(y),this.setState({},function(){u.handlesRefs[E].focus()}),this.onEnd())}},{key:"pushSurroundingHandles",value:function(i,o){var u=i[o],p=this.props.pushable,h=Number(p),y=0;if(i[o+1]-u<h&&(y=1),u-i[o-1]<h&&(y=-1),y!==0){var _=o+y,E=y*(i[_]-u);this.pushHandle(i,_,y,h-E)||(i[o]=i[_]-y*h)}}},{key:"pushHandle",value:function(i,o,u,p){for(var h=i[o],y=i[o];u*(y-h)<p;){if(!this.pushHandleOnePoint(i,o,u))return i[o]=h,!1;y=i[o]}return!0}},{key:"pushHandleOnePoint",value:function(i,o,u){var p=this.getPoints(),h=p.indexOf(i[o]),y=h+u;if(y>=p.length||y<0)return!1;var _=o+u,E=p[y],T=this.props.pushable,N=Number(T),R=u*(i[_]-E);return this.pushHandle(i,_,u,N-R)?(i[o]=E,!0):!1}},{key:"trimAlignValue",value:function(i){var o=this.state,u=o.handle,p=o.bounds;return IS({value:i,handle:u,bounds:p,props:this.props})}},{key:"render",value:function(){var i=this,o=this.state,u=o.handle,p=o.bounds,h=this.props,y=h.prefixCls,_=h.vertical,E=h.included,T=h.disabled,N=h.min,R=h.max,j=h.reverse,k=h.handle,L=h.trackStyle,F=h.handleStyle,G=h.tabIndex,ee=h.ariaLabelGroupForHandles,ae=h.ariaLabelledByGroupForHandles,ue=h.ariaValueTextFormatterGroupForHandles,ge=p.map(function(We){return i.calcOffset(We)}),Oe="".concat(y,"-handle"),_e=p.map(function(We,$e){var qe,Je=G[$e]||0;(T||G[$e]===null)&&(Je=null);var dt=u===$e;return k({className:(0,$G.default)((qe={},mt(qe,Oe,!0),mt(qe,"".concat(Oe,"-").concat($e+1),!0),mt(qe,"".concat(Oe,"-dragging"),dt),qe)),prefixCls:y,vertical:_,dragging:dt,offset:ge[$e],value:We,index:$e,tabIndex:Je,min:N,max:R,reverse:j,disabled:T,style:F[$e],ref:function(Re){return i.saveHandle($e,Re)},ariaLabel:ee[$e],ariaLabelledBy:ae[$e],ariaValueTextFormatter:ue[$e]})}),ze=p.slice(0,-1).map(function(We,$e){var qe,Je=$e+1,dt=(0,$G.default)((qe={},mt(qe,"".concat(y,"-track"),!0),mt(qe,"".concat(y,"-track-").concat(Je),!0),qe));return VG.default.createElement(NO,{className:dt,vertical:_,reverse:j,included:E,offset:ge[Je-1],length:ge[Je]-ge[Je-1],style:L[$e],key:Je})});return{tracks:ze,handles:_e}}}],[{key:"getDerivedStateFromProps",value:function(i,o){if(!("value"in i||"min"in i||"max"in i))return null;var u=i.value||o.bounds,p=u.map(function(h,y){return IS({value:h,handle:y,bounds:o.bounds,props:i})});if(o.bounds.length===p.length){if(p.every(function(h,y){return h===o.bounds[y]}))return null}else p=u.map(function(h,y){return IS({value:h,handle:y,props:i})});return Et(Et({},o),{},{bounds:p})}}]),r}(VG.default.Component);HG.displayName="Range";HG.defaultProps={count:1,allowCross:!0,pushable:!1,draggableTrack:!1,tabIndex:[],ariaLabelGroupForHandles:[],ariaLabelledByGroupForHandles:[],ariaValueTextFormatterGroupForHandles:[]};var jO=SS(HG);var qS=re(Be());var rp=re(Be());var MY=re(Be()),g1=re(Be());var pl=re(Be()),v7e=re(Ri());var k8e=function(t){return+setTimeout(t,16)},L8e=function(t){return clearTimeout(t)};typeof window!="undefined"&&"requestAnimationFrame"in window&&(k8e=function(t){return window.requestAnimationFrame(t)},L8e=function(t){return window.cancelAnimationFrame(t)});var N8e=0,WG=new Map;function q8e(e){WG.delete(e)}var R8e=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;N8e+=1;var n=N8e;function i(o){if(o===0)q8e(n),t();else{var u=k8e(function(){i(o-1)});WG.set(n,u)}}return i(r),n};R8e.cancel=function(e){var t=WG.get(e);return q8e(e),L8e(t)};var qs=R8e;function cg(e,t){if(!e)return!1;if(e.contains)return e.contains(t);for(var r=t;r;){if(r===e)return!0;r=r.parentNode}return!1}var j8e=re(Be()),GG=re(Ri());function z8e(e){return e instanceof HTMLElement||e instanceof SVGElement}function Sar(e){return e&&On(e)==="object"&&z8e(e.nativeElement)?e.nativeElement:z8e(e)?e:null}function ES(e){var t=Sar(e);if(t)return t;if(e instanceof j8e.default.Component){var r;return(r=GG.default.findDOMNode)===null||r===void 0?void 0:r.call(GG.default,e)}return null}var KO=re(Be()),dg=re(V8e());var Tar=re(Be());var KG=function(t,r){typeof t=="function"?t(r):On(t)==="object"&&t&&"current"in t&&(t.current=r)},u1=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r.filter(Boolean);return i.length<=1?i[0]:function(o){r.forEach(function(u){KG(u,o)})}};var TS=function(t){var r,n,i=(0,dg.isMemo)(t)?t.type.type:t.type;return!(typeof i=="function"&&!((r=i.prototype)!==null&&r!==void 0&&r.render)&&i.$$typeof!==dg.ForwardRef||typeof t=="function"&&!((n=t.prototype)!==null&&n!==void 0&&n.render)&&t.$$typeof!==dg.ForwardRef)};function $8e(e){return(0,KO.isValidElement)(e)&&!(0,dg.isFragment)(e)}var AKr=Number(KO.version.split(".")[0])>=19?function(e){return $8e(e)?e.props.ref:null}:function(e){return $8e(e)?e.ref:null};var qu=re(Be()),H8e=re(Ri());function qc(){return!!(typeof window!="undefined"&&window.document&&window.document.createElement)}var Mar=(0,qu.forwardRef)(function(e,t){var r=e.didUpdate,n=e.getContainer,i=e.children,o=(0,qu.useRef)(),u=(0,qu.useRef)();(0,qu.useImperativeHandle)(t,function(){return{}});var p=(0,qu.useRef)(!1);return!p.current&&qc()&&(u.current=n(),o.current=u.current.parentNode,p.current=!0),(0,qu.useEffect)(function(){r==null||r(e)}),(0,qu.useEffect)(function(){return u.current.parentNode===null&&o.current!==null&&o.current.appendChild(u.current),function(){var h;(h=u.current)===null||h===void 0||(h=h.parentNode)===null||h===void 0||h.removeChild(u.current)}},[]),u.current?H8e.default.createPortal(i,u.current):null}),W8e=Mar;var y7e=re(Xr());function Car(e,t,r){return r?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}function G8e(e,t,r){var n=e[t]||{};return Et(Et({},n),r)}function Y8e(e,t,r,n){for(var i=r.points,o=Object.keys(e),u=0;u<o.length;u+=1){var p=o[u];if(Car(e[p].points,i,n))return"".concat(t,"-placement-").concat(p)}return""}function XG(e){if(Array.isArray(e))return e}function Z8e(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,u,p=[],h=!0,y=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;h=!1}else for(;!(h=(n=o.call(r)).done)&&(p.push(n.value),p.length!==t);h=!0);}catch(_){y=!0,i=_}finally{try{if(!h&&r.return!=null&&(u=r.return(),Object(u)!==u))return}finally{if(y)throw i}}return p}}function QG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xn(e,t){return XG(e)||Z8e(e,t)||xS(e,t)||QG()}var mg=re(Be()),LS=re(Be());var K8e=function(){if(typeof navigator=="undefined"||typeof window=="undefined")return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return /(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(e==null?void 0:e.substr(0,4))};var lY=re(Be()),g9e=re(Xr());var h9e=re(Xr());var zs=re(Be()),sY=re(Be());var JG=re(Be());var X8e=JG.createContext({});var Q8e=re(Be()),Aar=function(e){Na(r,e);var t=ka(r);function r(){return Oa(this,r),t.apply(this,arguments)}return Da(r,[{key:"render",value:function(){return this.props.children}}]),r}(Q8e.Component),J8e=Aar;var XO=re(Be());function uh(e){var t=XO.useRef();t.current=e;var r=XO.useCallback(function(){for(var n,i=arguments.length,o=new Array(i),u=0;u<i;u++)o[u]=arguments[u];return(n=t.current)===null||n===void 0?void 0:n.call.apply(n,[t].concat(o))},[]);return r}var c1=re(Be());var e9e=qc()?c1.useLayoutEffect:c1.useEffect,Par=function(t,r){var n=c1.useRef(!0);e9e(function(){return t(n.current)},r),e9e(function(){return n.current=!1,function(){n.current=!0}},[])};var MS=Par;var d1=re(Be());function ep(e){var t=d1.useRef(!1),r=d1.useState(e),n=xn(r,2),i=n[0],o=n[1];d1.useEffect(function(){return t.current=!1,function(){t.current=!0}},[]);function u(p,h){h&&t.current||o(p)}return[i,u]}var QO=re(Be());function eY(e){var t=QO.useReducer(function(p){return p+1},0),r=xn(t,2),n=r[1],i=QO.useRef(e),o=uh(function(){return i.current}),u=uh(function(p){i.current=typeof p=="function"?p(i.current):p,n()});return[o,u]}var sD=re(Be()),dh=re(Be());var Rc="none",CS="appear",AS="enter",PS="leave",tY="none",Rs="prepare",tp="start",ch="active",JO="end",eD="prepared";var s9e=re(Be()),l9e=re(Be());function t9e(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit".concat(e)]="webkit".concat(t),r["Moz".concat(e)]="moz".concat(t),r["ms".concat(e)]="MS".concat(t),r["O".concat(e)]="o".concat(t.toLowerCase()),r}function Dar(e,t){var r={animationend:t9e("Animation","AnimationEnd"),transitionend:t9e("Transition","TransitionEnd")};return e&&("AnimationEvent"in t||delete r.animationend.animation,"TransitionEvent"in t||delete r.transitionend.transition),r}var Nar=Dar(qc(),typeof window!="undefined"?window:{}),n9e={};qc()&&(r9e=document.createElement("div"),n9e=r9e.style);var r9e,tD={};function i9e(e){if(tD[e])return tD[e];var t=Nar[e];if(t)for(var r=Object.keys(t),n=r.length,i=0;i<n;i+=1){var o=r[i];if(Object.prototype.hasOwnProperty.call(t,o)&&o in n9e)return tD[e]=t[o],tD[e]}return""}var o9e=i9e("animationend"),a9e=i9e("transitionend"),rD=!!(o9e&&a9e),rY=o9e||"animationend",nY=a9e||"transitionend";function iY(e,t){if(!e)return null;if(On(e)==="object"){var r=t.replace(/-\w/g,function(n){return n[1].toUpperCase()});return e[r]}return"".concat(e,"-").concat(t)}var u9e=function(e){var t=(0,l9e.useRef)();function r(i){i&&(i.removeEventListener(nY,e),i.removeEventListener(rY,e))}function n(i){t.current&&t.current!==i&&r(t.current),i&&i!==t.current&&(i.addEventListener(nY,e),i.addEventListener(rY,e),t.current=i)}return s9e.useEffect(function(){return function(){r(t.current)}},[]),[n,r]};var nD=re(Be()),kar=qc()?nD.useLayoutEffect:nD.useEffect,iD=kar;var d9e=re(Be());var oD=re(Be()),c9e=function(){var e=oD.useRef(null);function t(){qs.cancel(e.current)}function r(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;t();var o=qs(function(){i<=1?n({isCanceled:function(){return o!==e.current}}):r(n,i-1)});e.current=o}return oD.useEffect(function(){return function(){t()}},[]),[r,t]};var Lar=[Rs,tp,ch,JO],qar=[Rs,eD],oY=!1,p9e=!0;function aD(e){return e===ch||e===JO}var f9e=function(e,t,r){var n=ep(tY),i=xn(n,2),o=i[0],u=i[1],p=c9e(),h=xn(p,2),y=h[0],_=h[1];function E(){u(Rs,!0)}var T=t?qar:Lar;return iD(function(){if(o!==tY&&o!==JO){var N=T.indexOf(o),R=T[N+1],j=r(o);j===oY?u(R,!0):R&&y(function(k){function L(){k.isCanceled()||u(R,!0)}j===!0?L():Promise.resolve(j).then(L)})}},[e,o]),d9e.useEffect(function(){return function(){_()}},[]),[E,o]};function aY(e,t,r,n){var i=n.motionEnter,o=i===void 0?!0:i,u=n.motionAppear,p=u===void 0?!0:u,h=n.motionLeave,y=h===void 0?!0:h,_=n.motionDeadline,E=n.motionLeaveImmediately,T=n.onAppearPrepare,N=n.onEnterPrepare,R=n.onLeavePrepare,j=n.onAppearStart,k=n.onEnterStart,L=n.onLeaveStart,F=n.onAppearActive,G=n.onEnterActive,ee=n.onLeaveActive,ae=n.onAppearEnd,ue=n.onEnterEnd,ge=n.onLeaveEnd,Oe=n.onVisibleChanged,_e=ep(),ze=xn(_e,2),We=ze[0],$e=ze[1],qe=eY(Rc),Je=xn(qe,2),dt=Je[0],Ue=Je[1],Re=ep(null),Pe=xn(Re,2),et=Pe[0],lt=Pe[1],ut=dt(),Fe=(0,dh.useRef)(!1),Ge=(0,dh.useRef)(null);function ot(){return r()}var De=(0,dh.useRef)(!1);function he(){Ue(Rc),lt(null,!0)}var ke=uh(function(Wt){var hr=dt();if(hr!==Rc){var Gr=ot();if(!(Wt&&!Wt.deadline&&Wt.target!==Gr)){var Yr=De.current,ir;hr===CS&&Yr?ir=ae==null?void 0:ae(Gr,Wt):hr===AS&&Yr?ir=ue==null?void 0:ue(Gr,Wt):hr===PS&&Yr&&(ir=ge==null?void 0:ge(Gr,Wt)),Yr&&ir!==!1&&he()}}}),Te=u9e(ke),Qe=xn(Te,1),Ye=Qe[0],Ct=function(hr){switch(hr){case CS:return mt(mt(mt({},Rs,T),tp,j),ch,F);case AS:return mt(mt(mt({},Rs,N),tp,k),ch,G);case PS:return mt(mt(mt({},Rs,R),tp,L),ch,ee);default:return{};}},yt=sD.useMemo(function(){return Ct(ut)},[ut]),Nt=f9e(ut,!e,function(Wt){if(Wt===Rs){var hr=yt[Rs];return hr?hr(ot()):oY}if(Ft in yt){var Gr;lt(((Gr=yt[Ft])===null||Gr===void 0?void 0:Gr.call(yt,ot(),null))||null)}return Ft===ch&&ut!==Rc&&(Ye(ot()),_>0&&(clearTimeout(Ge.current),Ge.current=setTimeout(function(){ke({deadline:!0})},_))),Ft===eD&&he(),p9e}),we=xn(Nt,2),bt=we[0],Ft=we[1],vt=aD(Ft);De.current=vt,iD(function(){$e(t);var Wt=Fe.current;Fe.current=!0;var hr;!Wt&&t&&p&&(hr=CS),Wt&&t&&o&&(hr=AS),(Wt&&!t&&y||!Wt&&E&&!t&&y)&&(hr=PS);var Gr=Ct(hr);hr&&(e||Gr[Rs])?(Ue(hr),bt()):Ue(Rc)},[t]),(0,dh.useEffect)(function(){(ut===CS&&!p||ut===AS&&!o||ut===PS&&!y)&&Ue(Rc)},[p,o,y]),(0,dh.useEffect)(function(){return function(){Fe.current=!1,clearTimeout(Ge.current)}},[]);var Yt=sD.useRef(!1);(0,dh.useEffect)(function(){We&&(Yt.current=!0),We!==void 0&&ut===Rc&&((Yt.current||We)&&(Oe==null||Oe(We)),Yt.current=!0)},[We,ut]);var Or=et;return yt[Rs]&&Ft===tp&&(Or=Et({transition:"none"},Or)),[ut,Ft,Or,We!=null?We:t]}function Rar(e){var t=e;On(e)==="object"&&(t=e.transitionSupport);function r(i,o){return!!(i.motionName&&t&&o!==!1)}var n=zs.forwardRef(function(i,o){var u=i.visible,p=u===void 0?!0:u,h=i.removeOnLeave,y=h===void 0?!0:h,_=i.forceRender,E=i.children,T=i.motionName,N=i.leavedClassName,R=i.eventProps,j=zs.useContext(X8e),k=j.motion,L=r(i,k),F=(0,sY.useRef)(),G=(0,sY.useRef)();function ee(){try{return F.current instanceof HTMLElement?F.current:ES(G.current)}catch(et){return null}}var ae=aY(L,p,ee,i),ue=xn(ae,4),ge=ue[0],Oe=ue[1],_e=ue[2],ze=ue[3],We=zs.useRef(ze);ze&&(We.current=!0);var $e=zs.useCallback(function(et){F.current=et,KG(o,et)},[o]),qe,Je=Et(Et({},R),{},{visible:p});if(!E)qe=null;else if(ge===Rc)ze?qe=E(Et({},Je),$e):!y&&We.current&&N?qe=E(Et(Et({},Je),{},{className:N}),$e):_||!y&&!N?qe=E(Et(Et({},Je),{},{style:{display:"none"}}),$e):qe=null;else{var dt;Oe===Rs?dt="prepare":aD(Oe)?dt="active":Oe===tp&&(dt="start");var Ue=iY(T,"".concat(ge,"-").concat(dt));qe=E(Et(Et({},Je),{},{className:(0,h9e.default)(iY(T,ge),mt(mt({},Ue,Ue&&dt),T,typeof T=="string")),style:_e}),$e)}if(zs.isValidElement(qe)&&TS(qe)){var Re=qe,Pe=Re.ref;Pe||(qe=zs.cloneElement(qe,{ref:$e}))}return zs.createElement(J8e,{ref:G},qe)});return n.displayName="CSSMotion",n}var lD=Rar(rD);var pg=re(Be());var uD="add",cD="keep",dD="remove",fD="removed";function zar(e){var t;return e&&On(e)==="object"&&"key"in e?t=e:t={key:e},Et(Et({},t),{},{key:String(t.key)})}function pD(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return e.map(zar)}function m9e(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=[],n=0,i=t.length,o=pD(e),u=pD(t);o.forEach(function(y){for(var _=!1,E=n;E<i;E+=1){var T=u[E];if(T.key===y.key){n<E&&(r=r.concat(u.slice(n,E).map(function(N){return Et(Et({},N),{},{status:uD})})),n=E),r.push(Et(Et({},T),{},{status:cD})),n+=1,_=!0;break}}_||r.push(Et(Et({},y),{},{status:dD}))}),n<i&&(r=r.concat(u.slice(n).map(function(y){return Et(Et({},y),{},{status:uD})})));var p={};r.forEach(function(y){var _=y.key;p[_]=(p[_]||0)+1});var h=Object.keys(p).filter(function(y){return p[y]>1});return h.forEach(function(y){r=r.filter(function(_){var E=_.key,T=_.status;return E!==y||T!==dD}),r.forEach(function(_){_.key===y&&(_.status=cD)})}),r}var jar=["component","children","onVisibleChanged","onAllRemoved"],Far=["status"],Bar=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearPrepare","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];function Uar(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:lD,r=function(n){Na(o,n);var i=ka(o);function o(){var u;Oa(this,o);for(var p=arguments.length,h=new Array(p),y=0;y<p;y++)h[y]=arguments[y];return u=i.call.apply(i,[this].concat(h)),mt(qr(u),"state",{keyEntities:[]}),mt(qr(u),"removeKey",function(_){u.setState(function(E){var T=E.keyEntities.map(function(N){return N.key!==_?N:Et(Et({},N),{},{status:fD})});return{keyEntities:T}},function(){var E=u.state.keyEntities,T=E.filter(function(N){var R=N.status;return R!==fD}).length;T===0&&u.props.onAllRemoved&&u.props.onAllRemoved()})}),u}return Da(o,[{key:"render",value:function(){var p=this,h=this.state.keyEntities,y=this.props,_=y.component,E=y.children,T=y.onVisibleChanged,N=y.onAllRemoved,R=Ja(y,jar),j=_||pg.Fragment,k={};return Bar.forEach(function(L){k[L]=R[L],delete R[L]}),delete R.keys,pg.createElement(j,R,h.map(function(L,F){var G=L.status,ee=Ja(L,Far),ae=G===uD||G===cD;return pg.createElement(t,sn({},k,{key:ee.key,visible:ae,eventProps:ee,onVisibleChanged:function(ge){T==null||T(ge,{key:ee.key}),ge||p.removeKey(ee.key)}}),function(ue,ge){return E(Et(Et({},ue),{},{index:F}),ge)})}))}}],[{key:"getDerivedStateFromProps",value:function(p,h){var y=p.keys,_=h.keyEntities,E=pD(y),T=m9e(_,E);return{keyEntities:T.filter(function(N){var R=_.find(function(j){var k=j.key;return N.key===k});return!(R&&R.status===fD&&N.status===dD)})}}}]),o}(pg.Component);return mt(r,"defaultProps",{component:"div"}),r}var Var=Uar(rD);var p1=lD;function hD(e){var t=e.prefixCls,r=e.motion,n=e.animation,i=e.transitionName;return r||(n?{motionName:"".concat(t,"-").concat(n)}:i?{motionName:i}:null)}function uY(e){var t=e.prefixCls,r=e.visible,n=e.zIndex,i=e.mask,o=e.maskMotion,u=e.maskAnimation,p=e.maskTransitionName;if(!i)return null;var h={};return(o||p||u)&&(h=Et({motionAppear:!0},hD({motion:o,prefixCls:t,transitionName:p,animation:u}))),lY.createElement(p1,sn({},h,{visible:r,removeOnLeave:!0}),function(y){var _=y.className;return lY.createElement("div",{style:{zIndex:n},className:(0,g9e.default)("".concat(t,"-mask"),_)})})}var dl=re(Be()),hg=re(Be());function v9e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function y9e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v9e(Object(r),!0).forEach(function(n){$ar(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v9e(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hY(e){"@babel/helpers - typeof";return hY=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hY(e)}function $ar(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var OS,Har={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-",O:"-o-"};function _D(){if(OS!==void 0)return OS;OS="";var e=document.createElement("p").style,t="Transform";for(var r in Har)r+t in e&&(OS=r);return OS}function O9e(){return _D()?"".concat(_D(),"TransitionProperty"):"transitionProperty"}function bD(){return _D()?"".concat(_D(),"Transform"):"transform"}function _9e(e,t){var r=O9e();r&&(e.style[r]=t,r!=="transitionProperty"&&(e.style.transitionProperty=t))}function cY(e,t){var r=bD();r&&(e.style[r]=t,r!=="transform"&&(e.style.transform=t))}function War(e){return e.style.transitionProperty||e.style[O9e()]}function Gar(e){var t=window.getComputedStyle(e,null),r=t.getPropertyValue("transform")||t.getPropertyValue(bD());if(r&&r!=="none"){var n=r.replace(/[^0-9\-.,]/g,"").split(",");return{x:parseFloat(n[12]||n[4],0),y:parseFloat(n[13]||n[5],0)}}return{x:0,y:0}}var Yar=/matrix\((.*)\)/,Zar=/matrix3d\((.*)\)/;function Kar(e,t){var r=window.getComputedStyle(e,null),n=r.getPropertyValue("transform")||r.getPropertyValue(bD());if(n&&n!=="none"){var i,o=n.match(Yar);if(o)o=o[1],i=o.split(",").map(function(p){return parseFloat(p,10)}),i[4]=t.x,i[5]=t.y,cY(e,"matrix(".concat(i.join(","),")"));else{var u=n.match(Zar)[1];i=u.split(",").map(function(p){return parseFloat(p,10)}),i[12]=t.x,i[13]=t.y,cY(e,"matrix3d(".concat(i.join(","),")"))}}else cY(e,"translateX(".concat(t.x,"px) translateY(").concat(t.y,"px) translateZ(0)"))}var Xar=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,kS;function b9e(e){var t=e.style.display;e.style.display="none",e.offsetHeight,e.style.display=t}function f1(e,t,r){var n=r;if(hY(t)==="object"){for(var i in t)t.hasOwnProperty(i)&&f1(e,i,t[i]);return}if(typeof n!="undefined"){typeof n=="number"&&(n="".concat(n,"px")),e.style[t]=n;return}return kS(e,t)}function Qar(e){var t,r,n,i=e.ownerDocument,o=i.body,u=i&&i.documentElement;return t=e.getBoundingClientRect(),r=Math.floor(t.left),n=Math.floor(t.top),r-=u.clientLeft||o.clientLeft||0,n-=u.clientTop||o.clientTop||0,{left:r,top:n}}function D9e(e,t){var r=e["page".concat(t?"Y":"X","Offset")],n="scroll".concat(t?"Top":"Left");if(typeof r!="number"){var i=e.document;r=i.documentElement[n],typeof r!="number"&&(r=i.body[n])}return r}function N9e(e){return D9e(e)}function k9e(e){return D9e(e,!0)}function NS(e){var t=Qar(e),r=e.ownerDocument,n=r.defaultView||r.parentWindow;return t.left+=N9e(n),t.top+=k9e(n),t}function yY(e){return e!=null&&e==e.window}function L9e(e){return yY(e)?e.document:e.nodeType===9?e:e.ownerDocument}function Jar(e,t,r){var n=r,i="",o=L9e(e);return n=n||o.defaultView.getComputedStyle(e,null),n&&(i=n.getPropertyValue(t)||n[t]),i}var esr=new RegExp("^(".concat(Xar,")(?!px)[a-z%]+$"),"i"),tsr=/^(top|right|bottom|left)$/,dY="currentStyle",pY="runtimeStyle",fg="left",rsr="px";function nsr(e,t){var r=e[dY]&&e[dY][t];if(esr.test(r)&&!tsr.test(t)){var n=e.style,i=n[fg],o=e[pY][fg];e[pY][fg]=e[dY][fg],n[fg]=t==="fontSize"?"1em":r||0,r=n.pixelLeft+rsr,n[fg]=i,e[pY][fg]=o}return r===""?"auto":r}typeof window!="undefined"&&(kS=window.getComputedStyle?Jar:nsr);function mD(e,t){return e==="left"?t.useCssRight?"right":e:t.useCssBottom?"bottom":e}function x9e(e){if(e==="left")return"right";if(e==="right")return"left";if(e==="top")return"bottom";if(e==="bottom")return"top"}function w9e(e,t,r){f1(e,"position")==="static"&&(e.style.position="relative");var n=-999,i=-999,o=mD("left",r),u=mD("top",r),p=x9e(o),h=x9e(u);o!=="left"&&(n=999),u!=="top"&&(i=999);var y="",_=NS(e);("left"in t||"top"in t)&&(y=War(e)||"",_9e(e,"none")),"left"in t&&(e.style[p]="",e.style[o]="".concat(n,"px")),"top"in t&&(e.style[h]="",e.style[u]="".concat(i,"px")),b9e(e);var E=NS(e),T={};for(var N in t)if(t.hasOwnProperty(N)){var R=mD(N,r),j=N==="left"?n:i,k=_[N]-E[N];R===N?T[R]=j+k:T[R]=j-k}f1(e,T),b9e(e),("left"in t||"top"in t)&&_9e(e,y);var L={};for(var F in t)if(t.hasOwnProperty(F)){var G=mD(F,r),ee=t[F]-_[F];F===G?L[G]=T[G]+ee:L[G]=T[G]-ee}f1(e,L)}function isr(e,t){var r=NS(e),n=Gar(e),i={x:n.x,y:n.y};"left"in t&&(i.x=n.x+t.left-r.left),"top"in t&&(i.y=n.y+t.top-r.top),Kar(e,i)}function osr(e,t,r){if(r.ignoreShake){var n=NS(e),i=n.left.toFixed(0),o=n.top.toFixed(0),u=t.left.toFixed(0),p=t.top.toFixed(0);if(i===u&&o===p)return}r.useCssRight||r.useCssBottom?w9e(e,t,r):r.useCssTransform&&bD()in document.body.style?isr(e,t):w9e(e,t,r)}function _Y(e,t){for(var r=0;r<e.length;r++)t(e[r])}function q9e(e){return kS(e,"boxSizing")==="border-box"}var asr=["margin","border","padding"],mY=-1,ssr=2,gY=1,lsr=0;function usr(e,t,r){var n={},i=e.style,o;for(o in t)t.hasOwnProperty(o)&&(n[o]=i[o],i[o]=t[o]);r.call(e);for(o in t)t.hasOwnProperty(o)&&(i[o]=n[o])}function DS(e,t,r){var n=0,i,o,u;for(o=0;o<t.length;o++)if(i=t[o],i)for(u=0;u<r.length;u++){var p=void 0;i==="border"?p="".concat(i).concat(r[u],"Width"):p=i+r[u],n+=parseFloat(kS(e,p))||0}return n}var zc={getParent:function(t){var r=t;do r.nodeType===11&&r.host?r=r.host:r=r.parentNode;while(r&&r.nodeType!==1&&r.nodeType!==9);return r}};_Y(["Width","Height"],function(e){zc["doc".concat(e)]=function(t){var r=t.document;return Math.max(r.documentElement["scroll".concat(e)],r.body["scroll".concat(e)],zc["viewport".concat(e)](r))},zc["viewport".concat(e)]=function(t){var r="client".concat(e),n=t.document,i=n.body,o=n.documentElement,u=o[r];return n.compatMode==="CSS1Compat"&&u||i&&i[r]||u}});function S9e(e,t,r){var n=r;if(yY(e))return t==="width"?zc.viewportWidth(e):zc.viewportHeight(e);if(e.nodeType===9)return t==="width"?zc.docWidth(e):zc.docHeight(e);var i=t==="width"?["Left","Right"]:["Top","Bottom"],o=Math.floor(t==="width"?e.getBoundingClientRect().width:e.getBoundingClientRect().height),u=q9e(e),p=0;(o==null||o<=0)&&(o=void 0,p=kS(e,t),(p==null||Number(p)<0)&&(p=e.style[t]||0),p=Math.floor(parseFloat(p))||0),n===void 0&&(n=u?gY:mY);var h=o!==void 0||u,y=o||p;return n===mY?h?y-DS(e,["border","padding"],i):p:h?n===gY?y:y+(n===ssr?-DS(e,["border"],i):DS(e,["margin"],i)):p+DS(e,asr.slice(n),i)}var csr={position:"absolute",visibility:"hidden",display:"block"};function I9e(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,i=t[0];return i.offsetWidth!==0?n=S9e.apply(void 0,t):usr(i,csr,function(){n=S9e.apply(void 0,t)}),n}_Y(["width","height"],function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);zc["outer".concat(t)]=function(n,i){return n&&I9e(n,e,i?lsr:gY)};var r=e==="width"?["Left","Right"]:["Top","Bottom"];zc[e]=function(n,i){var o=i;if(o!==void 0){if(n){var u=q9e(n);return u&&(o+=DS(n,["padding","border"],r)),f1(n,e,o)}return}return n&&I9e(n,e,mY)}});function R9e(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}var Fr={getWindow:function(t){if(t&&t.document&&t.setTimeout)return t;var r=t.ownerDocument||t;return r.defaultView||r.parentWindow},getDocument:L9e,offset:function(t,r,n){if(typeof r!="undefined")osr(t,r,n||{});else return NS(t)},isWindow:yY,each:_Y,css:f1,clone:function(t){var r,n={};for(r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);var i=t.overflow;if(i)for(r in t)t.hasOwnProperty(r)&&(n.overflow[r]=t.overflow[r]);return n},mix:R9e,getWindowScrollLeft:function(t){return N9e(t)},getWindowScrollTop:function(t){return k9e(t)},merge:function(){for(var t={},r=0;r<arguments.length;r++)Fr.mix(t,r<0||arguments.length<=r?void 0:arguments[r]);return t},viewportWidth:0,viewportHeight:0};R9e(Fr,zc);var fY=Fr.getParent;function vY(e){if(Fr.isWindow(e)||e.nodeType===9)return null;var t=Fr.getDocument(e),r=t.body,n,i=Fr.css(e,"position"),o=i==="fixed"||i==="absolute";if(!o)return e.nodeName.toLowerCase()==="html"?null:fY(e);for(n=fY(e);n&&n!==r&&n.nodeType!==9;n=fY(n))if(i=Fr.css(n,"position"),i!=="static")return n;return null}var E9e=Fr.getParent;function dsr(e){if(Fr.isWindow(e)||e.nodeType===9)return!1;var t=Fr.getDocument(e),r=t.body,n=null;for(n=E9e(e);n&&n!==r&&n!==t;n=E9e(n)){var i=Fr.css(n,"position");if(i==="fixed")return!0}return!1}function bY(e,t){for(var r={left:0,right:1/0,top:0,bottom:1/0},n=vY(e),i=Fr.getDocument(e),o=i.defaultView||i.parentWindow,u=i.body,p=i.documentElement;n;){if((navigator.userAgent.indexOf("MSIE")===-1||n.clientWidth!==0)&&n!==u&&n!==p&&Fr.css(n,"overflow")!=="visible"){var h=Fr.offset(n);h.left+=n.clientLeft,h.top+=n.clientTop,r.top=Math.max(r.top,h.top),r.right=Math.min(r.right,h.left+n.clientWidth),r.bottom=Math.min(r.bottom,h.top+n.clientHeight),r.left=Math.max(r.left,h.left)}else if(n===u||n===p)break;n=vY(n)}var y=null;if(!Fr.isWindow(e)&&e.nodeType!==9){y=e.style.position;var _=Fr.css(e,"position");_==="absolute"&&(e.style.position="fixed")}var E=Fr.getWindowScrollLeft(o),T=Fr.getWindowScrollTop(o),N=Fr.viewportWidth(o),R=Fr.viewportHeight(o),j=p.scrollWidth,k=p.scrollHeight,L=window.getComputedStyle(u);if(L.overflowX==="hidden"&&(j=o.innerWidth),L.overflowY==="hidden"&&(k=o.innerHeight),e.style&&(e.style.position=y),t||dsr(e))r.left=Math.max(r.left,E),r.top=Math.max(r.top,T),r.right=Math.min(r.right,E+N),r.bottom=Math.min(r.bottom,T+R);else{var F=Math.max(j,E+N);r.right=Math.min(r.right,F);var G=Math.max(k,T+R);r.bottom=Math.min(r.bottom,G)}return r.top>=0&&r.left>=0&&r.bottom>r.top&&r.right>r.left?r:null}function psr(e,t,r,n){var i=Fr.clone(e),o={width:t.width,height:t.height};return n.adjustX&&i.left<r.left&&(i.left=r.left),n.resizeWidth&&i.left>=r.left&&i.left+o.width>r.right&&(o.width-=i.left+o.width-r.right),n.adjustX&&i.left+o.width>r.right&&(i.left=Math.max(r.right-o.width,r.left)),n.adjustY&&i.top<r.top&&(i.top=r.top),n.resizeHeight&&i.top>=r.top&&i.top+o.height>r.bottom&&(o.height-=i.top+o.height-r.bottom),n.adjustY&&i.top+o.height>r.bottom&&(i.top=Math.max(r.bottom-o.height,r.top)),Fr.mix(i,o)}function xY(e){var t,r,n;if(!Fr.isWindow(e)&&e.nodeType!==9)t=Fr.offset(e),r=Fr.outerWidth(e),n=Fr.outerHeight(e);else{var i=Fr.getWindow(e);t={left:Fr.getWindowScrollLeft(i),top:Fr.getWindowScrollTop(i)},r=Fr.viewportWidth(i),n=Fr.viewportHeight(i)}return t.width=r,t.height=n,t}function T9e(e,t){var r=t.charAt(0),n=t.charAt(1),i=e.width,o=e.height,u=e.left,p=e.top;return r==="c"?p+=o/2:r==="b"&&(p+=o),n==="c"?u+=i/2:n==="r"&&(u+=i),{left:u,top:p}}function gD(e,t,r,n,i){var o=T9e(t,r[1]),u=T9e(e,r[0]),p=[u.left-o.left,u.top-o.top];return{left:Math.round(e.left-p[0]+n[0]-i[0]),top:Math.round(e.top-p[1]+n[1]-i[1])}}function M9e(e,t,r){return e.left<r.left||e.left+t.width>r.right}function C9e(e,t,r){return e.top<r.top||e.top+t.height>r.bottom}function fsr(e,t,r){return e.left>r.right||e.left+t.width<r.left}function hsr(e,t,r){return e.top>r.bottom||e.top+t.height<r.top}function vD(e,t,r){var n=[];return Fr.each(e,function(i){n.push(i.replace(t,function(o){return r[o]}))}),n}function yD(e,t){return e[t]=-e[t],e}function A9e(e,t){var r;return /%$/.test(e)?r=parseInt(e.substring(0,e.length-1),10)/100*t:r=parseInt(e,10),r||0}function P9e(e,t){e[0]=A9e(e[0],t.width),e[1]=A9e(e[1],t.height)}function z9e(e,t,r,n){var i=r.points,o=r.offset||[0,0],u=r.targetOffset||[0,0],p=r.overflow,h=r.source||e;o=[].concat(o),u=[].concat(u),p=p||{};var y={},_=0,E=!!(p&&p.alwaysByViewport),T=bY(h,E),N=xY(h);P9e(o,N),P9e(u,t);var R=gD(N,t,i,o,u),j=Fr.merge(N,R);if(T&&(p.adjustX||p.adjustY)&&n){if(p.adjustX&&M9e(R,N,T)){var k=vD(i,/[lr]/gi,{l:"r",r:"l"}),L=yD(o,0),F=yD(u,0),G=gD(N,t,k,L,F);fsr(G,N,T)||(_=1,i=k,o=L,u=F)}if(p.adjustY&&C9e(R,N,T)){var ee=vD(i,/[tb]/gi,{t:"b",b:"t"}),ae=yD(o,1),ue=yD(u,1),ge=gD(N,t,ee,ae,ue);hsr(ge,N,T)||(_=1,i=ee,o=ae,u=ue)}_&&(R=gD(N,t,i,o,u),Fr.mix(j,R));var Oe=M9e(R,N,T),_e=C9e(R,N,T);if(Oe||_e){var ze=i;Oe&&(ze=vD(i,/[lr]/gi,{l:"r",r:"l"})),_e&&(ze=vD(i,/[tb]/gi,{t:"b",b:"t"})),i=ze,o=r.offset||[0,0],u=r.targetOffset||[0,0]}y.adjustX=p.adjustX&&Oe,y.adjustY=p.adjustY&&_e,(y.adjustX||y.adjustY)&&(j=psr(R,N,T,y))}return j.width!==N.width&&Fr.css(h,"width",Fr.width(h)+j.width-N.width),j.height!==N.height&&Fr.css(h,"height",Fr.height(h)+j.height-N.height),Fr.offset(h,{left:j.left,top:j.top},{useCssRight:r.useCssRight,useCssBottom:r.useCssBottom,useCssTransform:r.useCssTransform,ignoreShake:r.ignoreShake}),{points:i,offset:o,targetOffset:u,overflow:y}}function msr(e,t){var r=bY(e,t),n=xY(e);return!r||n.left+n.width<=r.left||n.top+n.height<=r.top||n.left>=r.right||n.top>=r.bottom}function xD(e,t,r){var n=r.target||t,i=xY(n),o=!msr(n,r.overflow&&r.overflow.alwaysByViewport);return z9e(e,i,r,o)}xD.__getOffsetParent=vY;xD.__getVisibleRectForElement=bY;function j9e(e,t,r){var n,i,o=Fr.getDocument(e),u=o.defaultView||o.parentWindow,p=Fr.getWindowScrollLeft(u),h=Fr.getWindowScrollTop(u),y=Fr.viewportWidth(u),_=Fr.viewportHeight(u);"pageX"in t?n=t.pageX:n=p+t.clientX,"pageY"in t?i=t.pageY:i=h+t.clientY;var E={left:n,top:i,width:0,height:0},T=n>=0&&n<=p+y&&i>=0&&i<=h+_,N=[r.points[0],"cc"];return z9e(e,E,y9e(y9e({},r),{},{points:N}),T)}function gsr(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=new Set;function i(o,u){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,h=n.has(o);if(kc(!h,"Warning: There may be circular references"),h)return!1;if(o===u)return!0;if(r&&p>1)return!1;n.add(o);var y=p+1;if(Array.isArray(o)){if(!Array.isArray(u)||o.length!==u.length)return!1;for(var _=0;_<o.length;_++)if(!i(o[_],u[_],y))return!1;return!0}if(o&&u&&On(o)==="object"&&On(u)==="object"){var E=Object.keys(o);return E.length!==Object.keys(u).length?!1:E.every(function(T){return i(o[T],u[T],y)})}return!1}return i(e,t)}var F9e=gsr;var B9e=function(e){if(!e)return!1;if(e instanceof Element){if(e.offsetParent)return!0;if(e.getBBox){var t=e.getBBox(),r=t.width,n=t.height;if(r||n)return!0}if(e.getBoundingClientRect){var i=e.getBoundingClientRect(),o=i.width,u=i.height;if(o||u)return!0}}return!1};var aa=re(Be());var wY=re(Be()),U9e=function(e,t){var r=wY.default.useRef(!1),n=wY.default.useRef(null);function i(){window.clearTimeout(n.current)}function o(u){if(i(),!r.current||u===!0){if(e(u)===!1)return;r.current=!0,n.current=window.setTimeout(function(){r.current=!1},t)}else n.current=window.setTimeout(function(){r.current=!1,o()},t)}return[o,function(){r.current=!1,i()}]};var $9e=function(){if(typeof Map!="undefined")return Map;function e(t,r){var n=-1;return t.some(function(i,o){return i[0]===r?(n=o,!0):!1}),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(r){var n=e(this.__entries__,r),i=this.__entries__[n];return i&&i[1]},t.prototype.set=function(r,n){var i=e(this.__entries__,r);~i?this.__entries__[i][1]=n:this.__entries__.push([r,n])},t.prototype.delete=function(r){var n=this.__entries__,i=e(n,r);~i&&n.splice(i,1)},t.prototype.has=function(r){return!!~e(this.__entries__,r)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(r,n){n===void 0&&(n=null);for(var i=0,o=this.__entries__;i<o.length;i++){var u=o[i];r.call(n,u[1],u[0])}},t}()}(),SY=typeof window!="undefined"&&typeof document!="undefined"&&window.document===document,wD=function(){return typeof global!="undefined"&&global.Math===Math?global:typeof self!="undefined"&&self.Math===Math?self:typeof window!="undefined"&&window.Math===Math?window:Function("return this")()}(),vsr=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(wD):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)}}(),ysr=2;function _sr(e,t){var r=!1,n=!1,i=0;function o(){r&&(r=!1,e()),n&&p()}function u(){vsr(o)}function p(){var h=Date.now();if(r){if(h-i<ysr)return;n=!0}else r=!0,n=!1,setTimeout(u,t);i=h}return p}var bsr=20,xsr=["top","right","bottom","left","width","height","size","weight"],wsr=typeof MutationObserver!="undefined",Ssr=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=_sr(this.refresh.bind(this),bsr)}return e.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},e.prototype.removeObserver=function(t){var r=this.observers_,n=r.indexOf(t);~n&&r.splice(n,1),!r.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){var t=this.updateObservers_();t&&this.refresh()},e.prototype.updateObservers_=function(){var t=this.observers_.filter(function(r){return r.gatherActive(),r.hasActive()});return t.forEach(function(r){return r.broadcastActive()}),t.length>0},e.prototype.connect_=function(){!SY||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),wsr?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){!SY||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(t){var r=t.propertyName,n=r===void 0?"":r,i=xsr.some(function(o){return!!~n.indexOf(o)});i&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),H9e=function(e,t){for(var r=0,n=Object.keys(t);r<n.length;r++){var i=n[r];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},h1=function(e){var t=e&&e.ownerDocument&&e.ownerDocument.defaultView;return t||wD},W9e=ID(0,0,0,0);function SD(e){return parseFloat(e)||0}function V9e(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return t.reduce(function(n,i){var o=e["border-"+i+"-width"];return n+SD(o)},0)}function Isr(e){for(var t=["top","right","bottom","left"],r={},n=0,i=t;n<i.length;n++){var o=i[n],u=e["padding-"+o];r[o]=SD(u)}return r}function Esr(e){var t=e.getBBox();return ID(0,0,t.width,t.height)}function Tsr(e){var t=e.clientWidth,r=e.clientHeight;if(!t&&!r)return W9e;var n=h1(e).getComputedStyle(e),i=Isr(n),o=i.left+i.right,u=i.top+i.bottom,p=SD(n.width),h=SD(n.height);if(n.boxSizing==="border-box"&&(Math.round(p+o)!==t&&(p-=V9e(n,"left","right")+o),Math.round(h+u)!==r&&(h-=V9e(n,"top","bottom")+u)),!Csr(e)){var y=Math.round(p+o)-t,_=Math.round(h+u)-r;Math.abs(y)!==1&&(p-=y),Math.abs(_)!==1&&(h-=_)}return ID(i.left,i.top,p,h)}var Msr=function(){return typeof SVGGraphicsElement!="undefined"?function(e){return e instanceof h1(e).SVGGraphicsElement}:function(e){return e instanceof h1(e).SVGElement&&typeof e.getBBox=="function"}}();function Csr(e){return e===h1(e).document.documentElement}function Asr(e){return SY?Msr(e)?Esr(e):Tsr(e):W9e}function Psr(e){var t=e.x,r=e.y,n=e.width,i=e.height,o=typeof DOMRectReadOnly!="undefined"?DOMRectReadOnly:Object,u=Object.create(o.prototype);return H9e(u,{x:t,y:r,width:n,height:i,top:r,right:t+n,bottom:i+r,left:t}),u}function ID(e,t,r,n){return{x:e,y:t,width:r,height:n}}var Osr=function(){function e(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=ID(0,0,0,0),this.target=t}return e.prototype.isActive=function(){var t=Asr(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},e}(),Dsr=function(){function e(t,r){var n=Psr(r);H9e(this,{target:t,contentRect:n})}return e}(),Nsr=function(){function e(t,r,n){if(this.activeObservations_=[],this.observations_=new $9e,typeof t!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=r,this.callbackCtx_=n}return e.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element=="undefined"||!(Element instanceof Object))){if(!(t instanceof h1(t).Element))throw new TypeError("parameter 1 is not of type \"Element\".");var r=this.observations_;r.has(t)||(r.set(t,new Osr(t)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element=="undefined"||!(Element instanceof Object))){if(!(t instanceof h1(t).Element))throw new TypeError("parameter 1 is not of type \"Element\".");var r=this.observations_;r.has(t)&&(r.delete(t),r.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(r){r.isActive()&&t.activeObservations_.push(r)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,r=this.activeObservations_.map(function(n){return new Dsr(n.target,n.broadcastRect())});this.callback_.call(t,r,t),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),G9e=typeof WeakMap!="undefined"?new WeakMap:new $9e,Y9e=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var r=Ssr.getInstance(),n=new Nsr(t,r,this);G9e.set(this,n)}return e}();["observe","unobserve","disconnect"].forEach(function(e){Y9e.prototype[e]=function(){var t;return(t=G9e.get(this))[e].apply(t,arguments)}});var ksr=function(){return typeof wD.ResizeObserver!="undefined"?wD.ResizeObserver:Y9e}(),Z9e=ksr;function K9e(e,t){return e===t?!0:!e||!t?!1:"pageX"in t&&"pageY"in t?e.pageX===t.pageX&&e.pageY===t.pageY:"clientX"in t&&"clientY"in t?e.clientX===t.clientX&&e.clientY===t.clientY:!1}function X9e(e,t){e!==document.activeElement&&cg(t,e)&&typeof e.focus=="function"&&e.focus()}function IY(e,t){var r=null,n=null;function i(u){var p=xn(u,1),h=p[0].target;if(document.documentElement.contains(h)){var y=h.getBoundingClientRect(),_=y.width,E=y.height,T=Math.floor(_),N=Math.floor(E);(r!==T||n!==N)&&Promise.resolve().then(function(){t({width:T,height:N})}),r=T,n=N}}var o=new Z9e(i);return e&&o.observe(e),function(){o.disconnect()}}function Q9e(e){return typeof e!="function"?null:e()}function J9e(e){return On(e)!=="object"||!e?null:e}var Lsr=function(t,r){var n=t.children,i=t.disabled,o=t.target,u=t.align,p=t.onAlign,h=t.monitorWindowResize,y=t.monitorBufferTime,_=y===void 0?0:y,E=aa.default.useRef({}),T=aa.default.useRef(),N=aa.default.Children.only(n),R=aa.default.useRef({});R.current.disabled=i,R.current.target=o,R.current.align=u,R.current.onAlign=p;var j=U9e(function(){var We=R.current,$e=We.disabled,qe=We.target,Je=We.align,dt=We.onAlign,Ue=T.current;if(!$e&&qe&&Ue){var Re,Pe=Q9e(qe),et=J9e(qe);E.current.element=Pe,E.current.point=et,E.current.align=Je;var lt=document,ut=lt.activeElement;return Pe&&B9e(Pe)?Re=xD(Ue,Pe,Je):et&&(Re=j9e(Ue,et,Je)),X9e(ut,Ue),dt&&Re&&dt(Ue,Re),!0}return!1},_),k=xn(j,2),L=k[0],F=k[1],G=aa.default.useState(),ee=xn(G,2),ae=ee[0],ue=ee[1],ge=aa.default.useState(),Oe=xn(ge,2),_e=Oe[0],ze=Oe[1];return MS(function(){ue(Q9e(o)),ze(J9e(o))}),aa.default.useEffect(function(){(E.current.element!==ae||!K9e(E.current.point,_e)||!F9e(E.current.align,u))&&L()}),aa.default.useEffect(function(){var We=IY(T.current,L);return We},[T.current]),aa.default.useEffect(function(){var We=IY(ae,L);return We},[ae]),aa.default.useEffect(function(){i?F():L()},[i]),aa.default.useEffect(function(){if(h){var We=es(window,"resize",L);return We.remove}},[h]),aa.default.useEffect(function(){return function(){F()}},[]),aa.default.useImperativeHandle(r,function(){return{forceAlign:function(){return L(!0)}}}),aa.default.isValidElement(N)&&(N=aa.default.cloneElement(N,{ref:u1(N.ref,T)})),N},e7e=aa.default.forwardRef(Lsr);e7e.displayName="Align";var t7e=e7e;var r7e=t7e;var l7e=re(Xr());function ED(){"use strict";ED=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(Ue,Re,Pe){Ue[Re]=Pe.value},o=typeof Symbol=="function"?Symbol:{},u=o.iterator||"@@iterator",p=o.asyncIterator||"@@asyncIterator",h=o.toStringTag||"@@toStringTag";function y(Ue,Re,Pe){return Object.defineProperty(Ue,Re,{value:Pe,enumerable:!0,configurable:!0,writable:!0}),Ue[Re]}try{y({},"")}catch(Ue){y=function(Pe,et,lt){return Pe[et]=lt}}function _(Ue,Re,Pe,et){var lt=Re&&Re.prototype instanceof L?Re:L,ut=Object.create(lt.prototype),Fe=new Je(et||[]);return i(ut,"_invoke",{value:ze(Ue,Pe,Fe)}),ut}function E(Ue,Re,Pe){try{return{type:"normal",arg:Ue.call(Re,Pe)}}catch(et){return{type:"throw",arg:et}}}t.wrap=_;var T="suspendedStart",N="suspendedYield",R="executing",j="completed",k={};function L(){}function F(){}function G(){}var ee={};y(ee,u,function(){return this});var ae=Object.getPrototypeOf,ue=ae&&ae(ae(dt([])));ue&&ue!==r&&n.call(ue,u)&&(ee=ue);var ge=G.prototype=L.prototype=Object.create(ee);function Oe(Ue){["next","throw","return"].forEach(function(Re){y(Ue,Re,function(Pe){return this._invoke(Re,Pe)})})}function _e(Ue,Re){function Pe(lt,ut,Fe,Ge){var ot=E(Ue[lt],Ue,ut);if(ot.type!=="throw"){var De=ot.arg,he=De.value;return he&&On(he)=="object"&&n.call(he,"__await")?Re.resolve(he.__await).then(function(ke){Pe("next",ke,Fe,Ge)},function(ke){Pe("throw",ke,Fe,Ge)}):Re.resolve(he).then(function(ke){De.value=ke,Fe(De)},function(ke){return Pe("throw",ke,Fe,Ge)})}Ge(ot.arg)}var et;i(this,"_invoke",{value:function(ut,Fe){function Ge(){return new Re(function(ot,De){Pe(ut,Fe,ot,De)})}return et=et?et.then(Ge,Ge):Ge()}})}function ze(Ue,Re,Pe){var et=T;return function(lt,ut){if(et===R)throw Error("Generator is already running");if(et===j){if(lt==="throw")throw ut;return{value:e,done:!0}}for(Pe.method=lt,Pe.arg=ut;;){var Fe=Pe.delegate;if(Fe){var Ge=We(Fe,Pe);if(Ge){if(Ge===k)continue;return Ge}}if(Pe.method==="next")Pe.sent=Pe._sent=Pe.arg;else if(Pe.method==="throw"){if(et===T)throw et=j,Pe.arg;Pe.dispatchException(Pe.arg)}else Pe.method==="return"&&Pe.abrupt("return",Pe.arg);et=R;var ot=E(Ue,Re,Pe);if(ot.type==="normal"){if(et=Pe.done?j:N,ot.arg===k)continue;return{value:ot.arg,done:Pe.done}}ot.type==="throw"&&(et=j,Pe.method="throw",Pe.arg=ot.arg)}}}function We(Ue,Re){var Pe=Re.method,et=Ue.iterator[Pe];if(et===e)return Re.delegate=null,Pe==="throw"&&Ue.iterator.return&&(Re.method="return",Re.arg=e,We(Ue,Re),Re.method==="throw")||Pe!=="return"&&(Re.method="throw",Re.arg=new TypeError("The iterator does not provide a '"+Pe+"' method")),k;var lt=E(et,Ue.iterator,Re.arg);if(lt.type==="throw")return Re.method="throw",Re.arg=lt.arg,Re.delegate=null,k;var ut=lt.arg;return ut?ut.done?(Re[Ue.resultName]=ut.value,Re.next=Ue.nextLoc,Re.method!=="return"&&(Re.method="next",Re.arg=e),Re.delegate=null,k):ut:(Re.method="throw",Re.arg=new TypeError("iterator result is not an object"),Re.delegate=null,k)}function $e(Ue){var Re={tryLoc:Ue[0]};1 in Ue&&(Re.catchLoc=Ue[1]),2 in Ue&&(Re.finallyLoc=Ue[2],Re.afterLoc=Ue[3]),this.tryEntries.push(Re)}function qe(Ue){var Re=Ue.completion||{};Re.type="normal",delete Re.arg,Ue.completion=Re}function Je(Ue){this.tryEntries=[{tryLoc:"root"}],Ue.forEach($e,this),this.reset(!0)}function dt(Ue){if(Ue||Ue===""){var Re=Ue[u];if(Re)return Re.call(Ue);if(typeof Ue.next=="function")return Ue;if(!isNaN(Ue.length)){var Pe=-1,et=function lt(){for(;++Pe<Ue.length;)if(n.call(Ue,Pe))return lt.value=Ue[Pe],lt.done=!1,lt;return lt.value=e,lt.done=!0,lt};return et.next=et}}throw new TypeError(On(Ue)+" is not iterable")}return F.prototype=G,i(ge,"constructor",{value:G,configurable:!0}),i(G,"constructor",{value:F,configurable:!0}),F.displayName=y(G,h,"GeneratorFunction"),t.isGeneratorFunction=function(Ue){var Re=typeof Ue=="function"&&Ue.constructor;return!!Re&&(Re===F||(Re.displayName||Re.name)==="GeneratorFunction")},t.mark=function(Ue){return Object.setPrototypeOf?Object.setPrototypeOf(Ue,G):(Ue.__proto__=G,y(Ue,h,"GeneratorFunction")),Ue.prototype=Object.create(ge),Ue},t.awrap=function(Ue){return{__await:Ue}},Oe(_e.prototype),y(_e.prototype,p,function(){return this}),t.AsyncIterator=_e,t.async=function(Ue,Re,Pe,et,lt){lt===void 0&&(lt=Promise);var ut=new _e(_(Ue,Re,Pe,et),lt);return t.isGeneratorFunction(Re)?ut:ut.next().then(function(Fe){return Fe.done?Fe.value:ut.next()})},Oe(ge),y(ge,h,"Generator"),y(ge,u,function(){return this}),y(ge,"toString",function(){return"[object Generator]"}),t.keys=function(Ue){var Re=Object(Ue),Pe=[];for(var et in Re)Pe.push(et);return Pe.reverse(),function lt(){for(;Pe.length;){var ut=Pe.pop();if(ut in Re)return lt.value=ut,lt.done=!1,lt}return lt.done=!0,lt}},t.values=dt,Je.prototype={constructor:Je,reset:function(Re){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(qe),!Re)for(var Pe in this)Pe.charAt(0)==="t"&&n.call(this,Pe)&&!isNaN(+Pe.slice(1))&&(this[Pe]=e)},stop:function(){this.done=!0;var Re=this.tryEntries[0].completion;if(Re.type==="throw")throw Re.arg;return this.rval},dispatchException:function(Re){if(this.done)throw Re;var Pe=this;function et(De,he){return Fe.type="throw",Fe.arg=Re,Pe.next=De,he&&(Pe.method="next",Pe.arg=e),!!he}for(var lt=this.tryEntries.length-1;lt>=0;--lt){var ut=this.tryEntries[lt],Fe=ut.completion;if(ut.tryLoc==="root")return et("end");if(ut.tryLoc<=this.prev){var Ge=n.call(ut,"catchLoc"),ot=n.call(ut,"finallyLoc");if(Ge&&ot){if(this.prev<ut.catchLoc)return et(ut.catchLoc,!0);if(this.prev<ut.finallyLoc)return et(ut.finallyLoc)}else if(Ge){if(this.prev<ut.catchLoc)return et(ut.catchLoc,!0)}else{if(!ot)throw Error("try statement without catch or finally");if(this.prev<ut.finallyLoc)return et(ut.finallyLoc)}}}},abrupt:function(Re,Pe){for(var et=this.tryEntries.length-1;et>=0;--et){var lt=this.tryEntries[et];if(lt.tryLoc<=this.prev&&n.call(lt,"finallyLoc")&&this.prev<lt.finallyLoc){var ut=lt;break}}ut&&(Re==="break"||Re==="continue")&&ut.tryLoc<=Pe&&Pe<=ut.finallyLoc&&(ut=null);var Fe=ut?ut.completion:{};return Fe.type=Re,Fe.arg=Pe,ut?(this.method="next",this.next=ut.finallyLoc,k):this.complete(Fe)},complete:function(Re,Pe){if(Re.type==="throw")throw Re.arg;return Re.type==="break"||Re.type==="continue"?this.next=Re.arg:Re.type==="return"?(this.rval=this.arg=Re.arg,this.method="return",this.next="end"):Re.type==="normal"&&Pe&&(this.next=Pe),k},finish:function(Re){for(var Pe=this.tryEntries.length-1;Pe>=0;--Pe){var et=this.tryEntries[Pe];if(et.finallyLoc===Re)return this.complete(et.completion,et.afterLoc),qe(et),k}},catch:function(Re){for(var Pe=this.tryEntries.length-1;Pe>=0;--Pe){var et=this.tryEntries[Pe];if(et.tryLoc===Re){var lt=et.completion;if(lt.type==="throw"){var ut=lt.arg;qe(et)}return ut}}throw Error("illegal catch attempt")},delegateYield:function(Re,Pe,et){return this.delegate={iterator:dt(Re),resultName:Pe,nextLoc:et},this.method==="next"&&(this.arg=e),k}},t}function n7e(e,t,r,n,i,o,u){try{var p=e[o](u),h=p.value}catch(y){return void r(y)}p.done?t(h):Promise.resolve(h).then(n,i)}function i7e(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function u(h){n7e(o,n,i,u,p,"next",h)}function p(h){n7e(o,n,i,u,p,"throw",h)}u(void 0)})}}var m1=re(Be());var o7e=["measure","alignPre","align",null,"motion"],a7e=function(e,t){var r=ep(null),n=xn(r,2),i=n[0],o=n[1],u=(0,m1.useRef)();function p(_){o(_,!0)}function h(){qs.cancel(u.current)}function y(_){h(),u.current=qs(function(){p(function(E){switch(i){case"align":return"motion";case"motion":return"stable";default:}return E}),_==null||_()})}return(0,m1.useEffect)(function(){p("measure")},[e]),(0,m1.useEffect)(function(){switch(i){case"measure":t();break;default:}i&&(u.current=qs(i7e(ED().mark(function _(){var E,T;return ED().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:E=o7e.indexOf(i),T=o7e[E+1],T&&E!==-1&&p(T);case 3:case"end":return R.stop();}},_)}))))},[i]),(0,m1.useEffect)(function(){return function(){h()}},[]),[i,y]};var TD=re(Be()),s7e=function(e){var t=TD.useState({width:0,height:0}),r=xn(t,2),n=r[0],i=r[1];function o(p){var h=p.offsetWidth,y=p.offsetHeight,_=p.getBoundingClientRect(),E=_.width,T=_.height;Math.abs(h-E)<1&&Math.abs(y-T)<1&&(h=E,y=T),i({width:h,height:y})}var u=TD.useMemo(function(){var p={};if(e){var h=n.width,y=n.height;e.indexOf("height")!==-1&&y?p.height=y:e.indexOf("minHeight")!==-1&&y&&(p.minHeight=y),e.indexOf("width")!==-1&&h?p.width=h:e.indexOf("minWidth")!==-1&&h&&(p.minWidth=h)}return p},[e,n]);return[u,o]};var u7e=dl.forwardRef(function(e,t){var r=e.visible,n=e.prefixCls,i=e.className,o=e.style,u=e.children,p=e.zIndex,h=e.stretch,y=e.destroyPopupOnHide,_=e.forceRender,E=e.align,T=e.point,N=e.getRootDomNode,R=e.getClassNameFromAlign,j=e.onAlign,k=e.onMouseEnter,L=e.onMouseLeave,F=e.onMouseDown,G=e.onTouchStart,ee=e.onClick,ae=(0,hg.useRef)(),ue=(0,hg.useRef)(),ge=(0,hg.useState)(),Oe=xn(ge,2),_e=Oe[0],ze=Oe[1],We=s7e(h),$e=xn(We,2),qe=$e[0],Je=$e[1];function dt(){h&&Je(N())}var Ue=a7e(r,dt),Re=xn(Ue,2),Pe=Re[0],et=Re[1],lt=(0,hg.useState)(0),ut=xn(lt,2),Fe=ut[0],Ge=ut[1],ot=(0,hg.useRef)();MS(function(){Pe==="alignPre"&&Ge(0)},[Pe]);function De(){return T||N}function he(){var Nt;(Nt=ae.current)===null||Nt===void 0||Nt.forceAlign()}function ke(Nt,we){var bt=R(we);_e!==bt&&ze(bt),Ge(function(Ft){return Ft+1}),Pe==="align"&&(j==null||j(Nt,we))}MS(function(){Pe==="align"&&(Fe<3?he():et(function(){var Nt;(Nt=ot.current)===null||Nt===void 0||Nt.call(ot)}))},[Fe]);var Te=Et({},hD(e));["onAppearEnd","onEnterEnd","onLeaveEnd"].forEach(function(Nt){var we=Te[Nt];Te[Nt]=function(bt,Ft){return et(),we==null?void 0:we(bt,Ft)}});function Qe(){return new Promise(function(Nt){ot.current=Nt})}dl.useEffect(function(){!Te.motionName&&Pe==="motion"&&et()},[Te.motionName,Pe]),dl.useImperativeHandle(t,function(){return{forceAlign:he,getElement:function(){return ue.current}}});var Ye=Et(Et({},qe),{},{zIndex:p,opacity:Pe==="motion"||Pe==="stable"||!r?void 0:0,pointerEvents:!r&&Pe!=="stable"?"none":void 0},o),Ct=!0;E!=null&&E.points&&(Pe==="align"||Pe==="stable")&&(Ct=!1);var yt=u;return dl.Children.count(u)>1&&(yt=dl.createElement("div",{className:"".concat(n,"-content")},u)),dl.createElement(p1,sn({visible:r,ref:ue,leavedClassName:"".concat(n,"-hidden")},Te,{onAppearPrepare:Qe,onEnterPrepare:Qe,removeOnLeave:y,forceRender:_}),function(Nt,we){var bt=Nt.className,Ft=Nt.style,vt=(0,l7e.default)(n,i,_e,bt);return dl.createElement(r7e,{target:De(),key:"popup",ref:ae,monitorWindowResize:!0,disabled:Ct,align:E,onAlign:ke},dl.createElement("div",{ref:we,className:vt,onMouseEnter:k,onMouseLeave:L,onMouseDownCapture:F,onTouchStartCapture:G,onClick:ee,style:Et(Et({},Ft),Ye)},yt))})});u7e.displayName="PopupInner";var c7e=u7e;var tu=re(Be());var d7e=re(Xr()),p7e=tu.forwardRef(function(e,t){var r=e.prefixCls,n=e.visible,i=e.zIndex,o=e.children,u=e.mobile;u=u===void 0?{}:u;var p=u.popupClassName,h=u.popupStyle,y=u.popupMotion,_=y===void 0?{}:y,E=u.popupRender,T=e.onClick,N=tu.useRef();tu.useImperativeHandle(t,function(){return{forceAlign:function(){},getElement:function(){return N.current}}});var R=Et({zIndex:i},h),j=o;return tu.Children.count(o)>1&&(j=tu.createElement("div",{className:"".concat(r,"-content")},o)),E&&(j=E(j)),tu.createElement(p1,sn({visible:n,ref:N,removeOnLeave:!0},_),function(k,L){var F=k.className,G=k.style,ee=(0,d7e.default)(r,p,F);return tu.createElement("div",{ref:L,className:ee,onClick:T,style:Et(Et({},G),R)},j)})});p7e.displayName="MobilePopupInner";var f7e=p7e;var qsr=["visible","mobile"],h7e=mg.forwardRef(function(e,t){var r=e.visible,n=e.mobile,i=Ja(e,qsr),o=(0,LS.useState)(r),u=xn(o,2),p=u[0],h=u[1],y=(0,LS.useState)(!1),_=xn(y,2),E=_[0],T=_[1],N=Et(Et({},i),{},{visible:p});(0,LS.useEffect)(function(){h(r),r&&n&&T(K8e())},[r,n]);var R=E?mg.createElement(f7e,sn({},N,{mobile:n,ref:t})):mg.createElement(c7e,sn({},N,{ref:t}));return mg.createElement("div",null,mg.createElement(uY,N),R)});h7e.displayName="Popup";var m7e=h7e;var g7e=re(Be()),Rsr=g7e.createContext(null),EY=Rsr;function TY(){}function zsr(){return""}function jsr(e){return e?e.ownerDocument:window.document}var Fsr=["onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur","onContextMenu"];function Bsr(e){var t=function(r){Na(i,r);var n=ka(i);function i(o){var u;Oa(this,i),u=n.call(this,o),mt(qr(u),"popupRef",pl.createRef()),mt(qr(u),"triggerRef",pl.createRef()),mt(qr(u),"portalContainer",void 0),mt(qr(u),"attachId",void 0),mt(qr(u),"clickOutsideHandler",void 0),mt(qr(u),"touchOutsideHandler",void 0),mt(qr(u),"contextMenuOutsideHandler1",void 0),mt(qr(u),"contextMenuOutsideHandler2",void 0),mt(qr(u),"mouseDownTimeout",void 0),mt(qr(u),"focusTime",void 0),mt(qr(u),"preClickTime",void 0),mt(qr(u),"preTouchTime",void 0),mt(qr(u),"delayTimer",void 0),mt(qr(u),"hasPopupMouseDown",void 0),mt(qr(u),"onMouseEnter",function(h){var y=u.props.mouseEnterDelay;u.fireEvents("onMouseEnter",h),u.delaySetPopupVisible(!0,y,y?null:h)}),mt(qr(u),"onMouseMove",function(h){u.fireEvents("onMouseMove",h),u.setPoint(h)}),mt(qr(u),"onMouseLeave",function(h){u.fireEvents("onMouseLeave",h),u.delaySetPopupVisible(!1,u.props.mouseLeaveDelay)}),mt(qr(u),"onPopupMouseEnter",function(){u.clearDelayTimer()}),mt(qr(u),"onPopupMouseLeave",function(h){var y;h.relatedTarget&&!h.relatedTarget.setTimeout&&cg((y=u.popupRef.current)===null||y===void 0?void 0:y.getElement(),h.relatedTarget)||u.delaySetPopupVisible(!1,u.props.mouseLeaveDelay)}),mt(qr(u),"onFocus",function(h){u.fireEvents("onFocus",h),u.clearDelayTimer(),u.isFocusToShow()&&(u.focusTime=Date.now(),u.delaySetPopupVisible(!0,u.props.focusDelay))}),mt(qr(u),"onMouseDown",function(h){u.fireEvents("onMouseDown",h),u.preClickTime=Date.now()}),mt(qr(u),"onTouchStart",function(h){u.fireEvents("onTouchStart",h),u.preTouchTime=Date.now()}),mt(qr(u),"onBlur",function(h){u.fireEvents("onBlur",h),u.clearDelayTimer(),u.isBlurToHide()&&u.delaySetPopupVisible(!1,u.props.blurDelay)}),mt(qr(u),"onContextMenu",function(h){h.preventDefault(),u.fireEvents("onContextMenu",h),u.setPopupVisible(!0,h)}),mt(qr(u),"onContextMenuClose",function(){u.isContextMenuToShow()&&u.close()}),mt(qr(u),"onClick",function(h){if(u.fireEvents("onClick",h),u.focusTime){var y;if(u.preClickTime&&u.preTouchTime?y=Math.min(u.preClickTime,u.preTouchTime):u.preClickTime?y=u.preClickTime:u.preTouchTime&&(y=u.preTouchTime),Math.abs(y-u.focusTime)<20)return;u.focusTime=0}u.preClickTime=0,u.preTouchTime=0,u.isClickToShow()&&(u.isClickToHide()||u.isBlurToHide())&&h&&h.preventDefault&&h.preventDefault();var _=!u.state.popupVisible;(u.isClickToHide()&&!_||_&&u.isClickToShow())&&u.setPopupVisible(!u.state.popupVisible,h)}),mt(qr(u),"onPopupMouseDown",function(){if(u.hasPopupMouseDown=!0,clearTimeout(u.mouseDownTimeout),u.mouseDownTimeout=window.setTimeout(function(){u.hasPopupMouseDown=!1},0),u.context){var h;(h=u.context).onPopupMouseDown.apply(h,arguments)}}),mt(qr(u),"onDocumentClick",function(h){if(!(u.props.mask&&!u.props.maskClosable)){var y=h.target,_=u.getRootDomNode(),E=u.getPopupDomNode();(!cg(_,y)||u.isContextMenuOnly())&&!cg(E,y)&&!u.hasPopupMouseDown&&u.close()}}),mt(qr(u),"getRootDomNode",function(){var h=u.props.getTriggerDOMNode;if(h)return h(u.triggerRef.current);try{var y=ES(u.triggerRef.current);if(y)return y}catch(_){}return v7e.default.findDOMNode(qr(u))}),mt(qr(u),"getPopupClassNameFromAlign",function(h){var y=[],_=u.props,E=_.popupPlacement,T=_.builtinPlacements,N=_.prefixCls,R=_.alignPoint,j=_.getPopupClassNameFromAlign;return E&&T&&y.push(Y8e(T,N,h,R)),j&&y.push(j(h)),y.join(" ")}),mt(qr(u),"getComponent",function(){var h=u.props,y=h.prefixCls,_=h.destroyPopupOnHide,E=h.popupClassName,T=h.onPopupAlign,N=h.popupMotion,R=h.popupAnimation,j=h.popupTransitionName,k=h.popupStyle,L=h.mask,F=h.maskAnimation,G=h.maskTransitionName,ee=h.maskMotion,ae=h.zIndex,ue=h.popup,ge=h.stretch,Oe=h.alignPoint,_e=h.mobile,ze=h.forceRender,We=h.onPopupClick,$e=u.state,qe=$e.popupVisible,Je=$e.point,dt=u.getPopupAlign(),Ue={};return u.isMouseEnterToShow()&&(Ue.onMouseEnter=u.onPopupMouseEnter),u.isMouseLeaveToHide()&&(Ue.onMouseLeave=u.onPopupMouseLeave),Ue.onMouseDown=u.onPopupMouseDown,Ue.onTouchStart=u.onPopupMouseDown,pl.createElement(m7e,sn({prefixCls:y,destroyPopupOnHide:_,visible:qe,point:Oe&&Je,className:E,align:dt,onAlign:T,animation:R,getClassNameFromAlign:u.getPopupClassNameFromAlign},Ue,{stretch:ge,getRootDomNode:u.getRootDomNode,style:k,mask:L,zIndex:ae,transitionName:j,maskAnimation:F,maskTransitionName:G,maskMotion:ee,ref:u.popupRef,motion:N,mobile:_e,forceRender:ze,onClick:We}),typeof ue=="function"?ue():ue)}),mt(qr(u),"attachParent",function(h){qs.cancel(u.attachId);var y=u.props,_=y.getPopupContainer,E=y.getDocument,T=u.getRootDomNode(),N;_?(T||_.length===0)&&(N=_(T)):N=E(u.getRootDomNode()).body,N?N.appendChild(h):u.attachId=qs(function(){u.attachParent(h)})}),mt(qr(u),"getContainer",function(){if(!u.portalContainer){var h=u.props.getDocument,y=h(u.getRootDomNode()).createElement("div");y.style.position="absolute",y.style.top="0",y.style.left="0",y.style.width="100%",u.portalContainer=y}return u.attachParent(u.portalContainer),u.portalContainer}),mt(qr(u),"setPoint",function(h){var y=u.props.alignPoint;!y||!h||u.setState({point:{pageX:h.pageX,pageY:h.pageY}})}),mt(qr(u),"handlePortalUpdate",function(){u.state.prevPopupVisible!==u.state.popupVisible&&u.props.afterPopupVisibleChange(u.state.popupVisible)}),mt(qr(u),"triggerContextValue",{onPopupMouseDown:u.onPopupMouseDown});var p;return"popupVisible"in o?p=!!o.popupVisible:p=!!o.defaultPopupVisible,u.state={prevPopupVisible:p,popupVisible:p},Fsr.forEach(function(h){u["fire".concat(h)]=function(y){u.fireEvents(h,y)}}),u}return Da(i,[{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){var u=this.props,p=this.state;if(p.popupVisible){var h;!this.clickOutsideHandler&&(this.isClickToHide()||this.isContextMenuToShow())&&(h=u.getDocument(this.getRootDomNode()),this.clickOutsideHandler=es(h,"mousedown",this.onDocumentClick)),this.touchOutsideHandler||(h=h||u.getDocument(this.getRootDomNode()),this.touchOutsideHandler=es(h,"touchstart",this.onDocumentClick)),!this.contextMenuOutsideHandler1&&this.isContextMenuToShow()&&(h=h||u.getDocument(this.getRootDomNode()),this.contextMenuOutsideHandler1=es(h,"scroll",this.onContextMenuClose)),!this.contextMenuOutsideHandler2&&this.isContextMenuToShow()&&(this.contextMenuOutsideHandler2=es(window,"blur",this.onContextMenuClose));return}this.clearOutsideHandler()}},{key:"componentWillUnmount",value:function(){this.clearDelayTimer(),this.clearOutsideHandler(),clearTimeout(this.mouseDownTimeout),qs.cancel(this.attachId)}},{key:"getPopupDomNode",value:function(){var u;return((u=this.popupRef.current)===null||u===void 0?void 0:u.getElement())||null}},{key:"getPopupAlign",value:function(){var u=this.props,p=u.popupPlacement,h=u.popupAlign,y=u.builtinPlacements;return p&&y?G8e(y,p,h):h}},{key:"setPopupVisible",value:function(u,p){var h=this.props.alignPoint,y=this.state.popupVisible;this.clearDelayTimer(),y!==u&&("popupVisible"in this.props||this.setState({popupVisible:u,prevPopupVisible:y}),this.props.onPopupVisibleChange(u)),h&&p&&u&&this.setPoint(p)}},{key:"delaySetPopupVisible",value:function(u,p,h){var y=this,_=p*1e3;if(this.clearDelayTimer(),_){var E=h?{pageX:h.pageX,pageY:h.pageY}:null;this.delayTimer=window.setTimeout(function(){y.setPopupVisible(u,E),y.clearDelayTimer()},_)}else this.setPopupVisible(u,h)}},{key:"clearDelayTimer",value:function(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)}},{key:"clearOutsideHandler",value:function(){this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.clickOutsideHandler=null),this.contextMenuOutsideHandler1&&(this.contextMenuOutsideHandler1.remove(),this.contextMenuOutsideHandler1=null),this.contextMenuOutsideHandler2&&(this.contextMenuOutsideHandler2.remove(),this.contextMenuOutsideHandler2=null),this.touchOutsideHandler&&(this.touchOutsideHandler.remove(),this.touchOutsideHandler=null)}},{key:"createTwoChains",value:function(u){var p=this.props.children.props,h=this.props;return p[u]&&h[u]?this["fire".concat(u)]:p[u]||h[u]}},{key:"isClickToShow",value:function(){var u=this.props,p=u.action,h=u.showAction;return p.indexOf("click")!==-1||h.indexOf("click")!==-1}},{key:"isContextMenuOnly",value:function(){var u=this.props.action;return u==="contextMenu"||u.length===1&&u[0]==="contextMenu"}},{key:"isContextMenuToShow",value:function(){var u=this.props,p=u.action,h=u.showAction;return p.indexOf("contextMenu")!==-1||h.indexOf("contextMenu")!==-1}},{key:"isClickToHide",value:function(){var u=this.props,p=u.action,h=u.hideAction;return p.indexOf("click")!==-1||h.indexOf("click")!==-1}},{key:"isMouseEnterToShow",value:function(){var u=this.props,p=u.action,h=u.showAction;return p.indexOf("hover")!==-1||h.indexOf("mouseEnter")!==-1}},{key:"isMouseLeaveToHide",value:function(){var u=this.props,p=u.action,h=u.hideAction;return p.indexOf("hover")!==-1||h.indexOf("mouseLeave")!==-1}},{key:"isFocusToShow",value:function(){var u=this.props,p=u.action,h=u.showAction;return p.indexOf("focus")!==-1||h.indexOf("focus")!==-1}},{key:"isBlurToHide",value:function(){var u=this.props,p=u.action,h=u.hideAction;return p.indexOf("focus")!==-1||h.indexOf("blur")!==-1}},{key:"forcePopupAlign",value:function(){if(this.state.popupVisible){var u;(u=this.popupRef.current)===null||u===void 0||u.forceAlign()}}},{key:"fireEvents",value:function(u,p){var h=this.props.children.props[u];h&&h(p);var y=this.props[u];y&&y(p)}},{key:"close",value:function(){this.setPopupVisible(!1)}},{key:"render",value:function(){var u=this.state.popupVisible,p=this.props,h=p.children,y=p.forceRender,_=p.alignPoint,E=p.className,T=p.autoDestroy,N=pl.Children.only(h),R={key:"trigger"};this.isContextMenuToShow()?R.onContextMenu=this.onContextMenu:R.onContextMenu=this.createTwoChains("onContextMenu"),this.isClickToHide()||this.isClickToShow()?(R.onClick=this.onClick,R.onMouseDown=this.onMouseDown,R.onTouchStart=this.onTouchStart):(R.onClick=this.createTwoChains("onClick"),R.onMouseDown=this.createTwoChains("onMouseDown"),R.onTouchStart=this.createTwoChains("onTouchStart")),this.isMouseEnterToShow()?(R.onMouseEnter=this.onMouseEnter,_&&(R.onMouseMove=this.onMouseMove)):R.onMouseEnter=this.createTwoChains("onMouseEnter"),this.isMouseLeaveToHide()?R.onMouseLeave=this.onMouseLeave:R.onMouseLeave=this.createTwoChains("onMouseLeave"),this.isFocusToShow()||this.isBlurToHide()?(R.onFocus=this.onFocus,R.onBlur=this.onBlur):(R.onFocus=this.createTwoChains("onFocus"),R.onBlur=this.createTwoChains("onBlur"));var j=(0,y7e.default)(N&&N.props&&N.props.className,E);j&&(R.className=j);var k=Et({},R);TS(N)&&(k.ref=u1(this.triggerRef,N.ref));var L=pl.cloneElement(N,k),F;return(u||this.popupRef.current||y)&&(F=pl.createElement(e,{key:"portal",getContainer:this.getContainer,didUpdate:this.handlePortalUpdate},this.getComponent())),!u&&T&&(F=null),pl.createElement(EY.Provider,{value:this.triggerContextValue},L,F)}}],[{key:"getDerivedStateFromProps",value:function(u,p){var h=u.popupVisible,y={};return h!==void 0&&p.popupVisible!==h&&(y.popupVisible=h,y.prevPopupVisible=p.popupVisible),y}}]),i}(pl.Component);return mt(t,"contextType",EY),mt(t,"defaultProps",{prefixCls:"rc-trigger-popup",getPopupClassNameFromAlign:zsr,getDocument:jsr,onPopupVisibleChange:TY,afterPopupVisibleChange:TY,onPopupAlign:TY,popupClassName:"",mouseEnterDelay:0,mouseLeaveDelay:.1,focusDelay:0,blurDelay:.15,popupStyle:{},destroyPopupOnHide:!1,popupAlign:{},defaultPopupVisible:!1,mask:!1,maskClosable:!0,action:[],showAction:[],hideAction:[],autoDestroy:!1}),t}var _7e=Bsr(W8e);var ru={adjustX:1,adjustY:1},nu=[0,0],b7e={left:{points:["cr","cl"],overflow:ru,offset:[-4,0],targetOffset:nu},right:{points:["cl","cr"],overflow:ru,offset:[4,0],targetOffset:nu},top:{points:["bc","tc"],overflow:ru,offset:[0,-4],targetOffset:nu},bottom:{points:["tc","bc"],overflow:ru,offset:[0,4],targetOffset:nu},topLeft:{points:["bl","tl"],overflow:ru,offset:[0,-4],targetOffset:nu},leftTop:{points:["tr","tl"],overflow:ru,offset:[-4,0],targetOffset:nu},topRight:{points:["br","tr"],overflow:ru,offset:[0,-4],targetOffset:nu},rightTop:{points:["tl","tr"],overflow:ru,offset:[4,0],targetOffset:nu},bottomRight:{points:["tr","br"],overflow:ru,offset:[0,4],targetOffset:nu},rightBottom:{points:["bl","br"],overflow:ru,offset:[4,0],targetOffset:nu},bottomLeft:{points:["tl","bl"],overflow:ru,offset:[0,4],targetOffset:nu},leftBottom:{points:["br","bl"],overflow:ru,offset:[-4,0],targetOffset:nu}};var MD=re(Be()),x7e=re(Xr());function CD(e){var t=e.showArrow,r=e.arrowContent,n=e.children,i=e.prefixCls,o=e.id,u=e.overlayInnerStyle,p=e.className,h=e.style;return MD.createElement("div",{className:(0,x7e.default)("".concat(i,"-content"),p),style:h},t!==!1&&MD.createElement("div",{className:"".concat(i,"-arrow"),key:"arrow"},r),MD.createElement("div",{className:"".concat(i,"-inner"),id:o,role:"tooltip",style:u},typeof n=="function"?n():n))}var Usr=["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle","arrowContent","overlay","id","showArrow"],Vsr=function(t,r){var n=t.overlayClassName,i=t.trigger,o=i===void 0?["hover"]:i,u=t.mouseEnterDelay,p=u===void 0?0:u,h=t.mouseLeaveDelay,y=h===void 0?.1:h,_=t.overlayStyle,E=t.prefixCls,T=E===void 0?"rc-tooltip":E,N=t.children,R=t.onVisibleChange,j=t.afterVisibleChange,k=t.transitionName,L=t.animation,F=t.motion,G=t.placement,ee=G===void 0?"right":G,ae=t.align,ue=ae===void 0?{}:ae,ge=t.destroyTooltipOnHide,Oe=ge===void 0?!1:ge,_e=t.defaultVisible,ze=t.getTooltipContainer,We=t.overlayInnerStyle,$e=t.arrowContent,qe=t.overlay,Je=t.id,dt=t.showArrow,Ue=dt===void 0?!0:dt,Re=Ja(t,Usr),Pe=(0,g1.useRef)(null);(0,g1.useImperativeHandle)(r,function(){return Pe.current});var et=Et({},Re);"visible"in t&&(et.popupVisible=t.visible);var lt=function(){return MY.createElement(CD,{showArrow:Ue,arrowContent:$e,key:"content",prefixCls:T,id:Je,overlayInnerStyle:We},qe)},ut=!1,Fe=!1;if(typeof Oe=="boolean")ut=Oe;else if(Oe&&On(Oe)==="object"){var Ge=Oe.keepParent;ut=Ge===!0,Fe=Ge===!1}return MY.createElement(_7e,sn({popupClassName:n,prefixCls:T,popup:lt,action:o,builtinPlacements:b7e,popupPlacement:ee,ref:Pe,popupAlign:ue,getPopupContainer:ze,onPopupVisibleChange:R,afterPopupVisibleChange:j,popupTransitionName:k,popupAnimation:L,popupMotion:F,defaultPopupVisible:_e,destroyPopupOnHide:ut,autoDestroy:Fe,mouseLeaveDelay:y,popupStyle:_,mouseEnterDelay:p},et),N)},w7e=(0,g1.forwardRef)(Vsr);var S7e=w7e;var $sr=rp.forwardRef(function(e,t){var r=e.visible,n=e.overlay,i=rp.useRef(null),o=u1(t,i),u=rp.useRef(null);function p(){qs.cancel(u.current)}function h(){u.current=qs(function(){var y;(y=i.current)===null||y===void 0||y.forcePopupAlign()})}return rp.useEffect(function(){return r?h():p(),p},[r,n]),rp.createElement(S7e,sn({ref:o},e))}),CY=$sr;function AY(e){var t;return t=function(r){Na(i,r);var n=ka(i);function i(){var o;return Oa(this,i),o=n.apply(this,arguments),o.state={visibles:{}},o.handleTooltipVisibleChange=function(u,p){o.setState(function(h){return{visibles:Et(Et({},h.visibles),{},mt({},u,p))}})},o.handleWithTooltip=function(u){var p=u.value,h=u.dragging,y=u.index,_=u.disabled,E=Ja(u,["value","dragging","index","disabled"]),T=o.props,N=T.tipFormatter,R=T.tipProps,j=T.handleStyle,k=T.getTooltipContainer,L=R.prefixCls,F=L===void 0?"rc-slider-tooltip":L,G=R.overlay,ee=G===void 0?N(p):G,ae=R.placement,ue=ae===void 0?"top":ae,ge=R.visible,Oe=ge===void 0?!1:ge,_e=Ja(R,["prefixCls","overlay","placement","visible"]),ze;return Array.isArray(j)?ze=j[y]||j[0]:ze=j,qS.default.createElement(CY,sn({},_e,{getTooltipContainer:k,prefixCls:F,overlay:ee,placement:ue,visible:!_&&(o.state.visibles[y]||h)||Oe,key:y}),qS.default.createElement(s1,sn({},E,{style:Et({},ze),value:p,onMouseEnter:function(){return o.handleTooltipVisibleChange(y,!0)},onMouseLeave:function(){return o.handleTooltipVisibleChange(y,!1)}})))},o}return Da(i,[{key:"render",value:function(){return qS.default.createElement(e,sn({},this.props,{handle:this.handleWithTooltip}))}}]),i}(qS.default.Component),t.defaultProps={tipFormatter:function(n){return n},handleStyle:[{}],tipProps:{},getTooltipContainer:function(n){return n.parentNode}},t}var PY=D8e;PY.Range=jO;PY.Handle=s1;PY.createSliderWithTooltip=AY;var v1=re(Gt(),1),bi=re(Be(),1);var np=re(Gt(),1),js=re(Be(),1);function Hsr(e,t){function r(n){return n>="0"&&n<="9"}return e.split("").some(n=>!r(n)&&n!==t)}var I7e=(0,js.forwardRef)(function({className:t,value:r,onBlur:n=()=>{},onKeyDown:i=()=>{},onChange:o=()=>{},readOnly:u,tabIndex:p,placeholder:h},y){let[_,E]=(0,js.useState)(r),T=(0,js.useMemo)(()=>Ar.getSettings().LANGUAGE_CODE===d0.DE?".":"/",[]),N=(0,js.useCallback)(j=>{let k=`${j.target.value}`;Hsr(k,T)||k.length>10||(E(j.target.value),o(j.target.value))},[T]),R=(0,js.useCallback)(j=>{n(j,_)},[_,n]);return(0,js.useEffect)(()=>{E(r)},[r]),js.default.createElement("div",{className:"date-input-root"},js.default.createElement("input",{className:vr(u&&"readonly",t),ref:y,value:_,onBlur:R,onKeyDown:i,onChange:N,readOnly:u!=null?u:void 0,tabIndex:p!=null?p:void 0,placeholder:h!=null?h:void 0}))});I7e.propTypes={value:np.default.string.isRequired,className:np.default.string,onBlur:np.default.func,onKeyDown:np.default.func,onChange:np.default.func,readOnly:np.default.bool,tabIndex:np.default.number,placeholder:np.default.string};var E7e=I7e;var OY=E7e;var $t=re(Be(),1),T7e=re(Gt(),1);var Wsr={addVectorMap:$t.default.createElement("svg",{width:"20",height:"16",viewBox:"0 0 20 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},$t.default.createElement("path",{d:"M5.3888 13.0958C5.31376 12.9926 5.21482 12.9091 5.10047 12.8525C4.19363 12.4067 3.42983 11.7158 2.89568 10.8581C2.36152 10.0003 2.0784 9.01005 2.0784 7.99957C2.0784 6.9891 2.36152 5.99884 2.89568 5.14109C3.42983 4.28334 4.19363 3.59241 5.10047 3.14666C5.21477 3.09032 5.3137 3.00711 5.3888 2.90416L5.4063 2.87916C5.51654 2.73062 5.57378 2.54941 5.56886 2.3645C5.56394 2.17959 5.49715 2.00167 5.37917 1.85921C5.26118 1.71674 5.09883 1.61797 4.91808 1.57868C4.73732 1.53939 4.54861 1.56186 4.38214 1.64249C3.19133 2.22398 2.18778 3.12823 1.48579 4.25223C0.783811 5.37623 0.411621 6.67479 0.411621 7.99999C0.411621 9.32519 0.783811 10.6237 1.48579 11.7477C2.18778 12.8717 3.19133 13.776 4.38214 14.3575C4.54869 14.4376 4.73726 14.4596 4.9178 14.4201C5.09833 14.3805 5.26043 14.2817 5.37826 14.1393C5.4961 13.997 5.56288 13.8192 5.56796 13.6345C5.57304 13.4498 5.51613 13.2686 5.4063 13.12L5.3888 13.0958Z",fill:"currentColor"}),$t.default.createElement("path",{d:"M12.4946 0.5C11.0113 0.5 9.56122 0.939867 8.32785 1.76398C7.09449 2.58809 6.13319 3.75943 5.56554 5.12987C4.99788 6.50032 4.84935 8.00832 5.13874 9.46318C5.42813 10.918 6.14244 12.2544 7.19133 13.3033C8.24022 14.3522 9.5766 15.0665 11.0315 15.3559C12.4863 15.6453 13.9943 15.4968 15.3648 14.9291C16.7352 14.3614 17.9065 13.4001 18.7307 12.1668C19.5548 10.9334 19.9946 9.48336 19.9946 8C19.9924 6.01155 19.2015 4.10518 17.7955 2.69914C16.3895 1.29309 14.4831 0.502206 12.4946 0.5ZM12.4946 13.8333C11.3409 13.8333 10.2131 13.4912 9.25381 12.8502C8.29452 12.2093 7.54685 11.2982 7.10533 10.2323C6.66382 9.16642 6.5483 7.99353 6.77338 6.86197C6.99846 5.73042 7.55404 4.69102 8.36984 3.87521C9.18565 3.0594 10.225 2.50383 11.3566 2.27875C12.4882 2.05367 13.661 2.16919 14.727 2.6107C15.7929 3.05221 16.7039 3.79989 17.3449 4.75917C17.9858 5.71846 18.328 6.84628 18.328 8C18.3262 9.54655 17.7111 11.0293 16.6175 12.1228C15.5239 13.2164 14.0412 13.8316 12.4946 13.8333Z",fill:"currentColor"}),$t.default.createElement("path",{d:"M15.6321 6.9583H13.7446C13.6893 6.9583 13.6364 6.93635 13.5973 6.89728C13.5582 6.85821 13.5363 6.80522 13.5363 6.74997V4.86247C13.5363 4.5862 13.4265 4.32125 13.2312 4.1259C13.0358 3.93055 12.7709 3.8208 12.4946 3.8208C12.2183 3.8208 11.9534 3.93055 11.758 4.1259C11.5627 4.32125 11.4529 4.5862 11.4529 4.86247V6.74997C11.4529 6.80522 11.431 6.85821 11.3919 6.89728C11.3528 6.93635 11.2999 6.9583 11.2446 6.9583H9.3571C9.08083 6.9583 8.81588 7.06805 8.62053 7.2634C8.42518 7.45875 8.31543 7.7237 8.31543 7.99997C8.31543 8.27623 8.42518 8.54119 8.62053 8.73654C8.81588 8.93189 9.08083 9.04163 9.3571 9.04163H11.2446C11.2999 9.04163 11.3528 9.06358 11.3919 9.10265C11.431 9.14172 11.4529 9.19471 11.4529 9.24997V11.1366C11.4529 11.4129 11.5627 11.6779 11.758 11.8732C11.9534 12.0686 12.2183 12.1783 12.4946 12.1783C12.7709 12.1783 13.0358 12.0686 13.2312 11.8732C13.4265 11.6779 13.5363 11.4129 13.5363 11.1366V9.24997C13.5363 9.19471 13.5582 9.14172 13.5973 9.10265C13.6364 9.06358 13.6893 9.04163 13.7446 9.04163H15.6321C15.9084 9.04163 16.1733 8.93189 16.3687 8.73654C16.564 8.54119 16.6738 8.27623 16.6738 7.99997C16.6738 7.7237 16.564 7.45875 16.3687 7.2634C16.1733 7.06805 15.9084 6.9583 15.6321 6.9583Z",fill:"currentColor"})),uploadVectorMap:$t.default.createElement("svg",{width:"25",height:"24",viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},$t.default.createElement("path",{d:"M17.6616 10.5C13.9366 10.5 10.9116 13.525 10.9116 17.25C10.9116 20.975 13.9366 24 17.6616 24C21.3866 24 24.4116 20.975 24.4116 17.25C24.4116 13.525 21.3866 10.5 17.6616 10.5ZM17.6616 12C20.5596 12 22.9116 14.352 22.9116 17.25C22.9116 20.148 20.5596 22.5 17.6616 22.5C14.7636 22.5 12.4116 20.148 12.4116 17.25C12.4116 14.352 14.7636 12 17.6616 12ZM8.66162 19.5H2.66162C2.25062 19.5 1.91162 19.161 1.91162 18.75V2.25C1.91162 1.839 2.25062 1.5 2.66162 1.5H13.2896C13.4886 1.5 13.6796 1.579 13.8206 1.719L16.6936 4.591C16.8346 4.731 16.9136 4.922 16.9136 5.121V8.25C16.9136 8.664 17.2496 9 17.6636 9C18.0776 9 18.4136 8.664 18.4136 8.25V5.121C18.4136 4.524 18.1756 3.951 17.7536 3.529L14.8806 0.658C14.4586 0.237 13.8856 0 13.2896 0H2.66162C1.42762 0 0.411621 1.016 0.411621 2.25V18.75C0.411621 19.984 1.42762 21 2.66162 21H8.66162C9.07562 21 9.41162 20.664 9.41162 20.25C9.41162 19.836 9.07562 19.5 8.66162 19.5ZM8.88162 6.53L10.6006 8.25L8.88162 9.97C8.58862 10.262 8.58862 10.738 8.88162 11.03C9.17362 11.323 9.64962 11.323 9.94162 11.03L12.1916 8.78C12.4846 8.487 12.4846 8.013 12.1916 7.72L9.94162 5.47C9.64962 5.177 9.17362 5.177 8.88162 5.47C8.58862 5.762 8.58862 6.238 8.88162 6.53ZM5.88162 5.47L3.63162 7.72C3.33862 8.013 3.33862 8.487 3.63162 8.78L5.88162 11.03C6.17362 11.323 6.64962 11.323 6.94162 11.03C7.23462 10.738 7.23462 10.262 6.94162 9.97L5.22262 8.25L6.94162 6.53C7.23462 6.238 7.23462 5.762 6.94162 5.47C6.64962 5.177 6.17362 5.177 5.88162 5.47Z",fill:"currentColor"}),$t.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.7167 13.6361C18.2138 13.6361 18.6167 14.0391 18.6167 14.5361V19.8171C18.6167 20.3141 18.2138 20.7171 17.7167 20.7171C17.2197 20.7171 16.8167 20.3141 16.8167 19.8171L16.8167 14.5361C16.8167 14.0391 17.2197 13.6361 17.7167 13.6361Z",fill:"currentColor"}),$t.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.2572 17.1766C21.2572 17.6736 20.8543 18.0766 20.3572 18.0766H15.0763C14.5792 18.0766 14.1763 17.6736 14.1763 17.1766C14.1763 16.6795 14.5792 16.2766 15.0763 16.2766L20.3572 16.2766C20.8543 16.2766 21.2572 16.6795 21.2572 17.1766Z",fill:"currentColor"})),edit:$t.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},$t.default.createElement("path",{d:"M16.667 9.573a.833.833 0 0 0-.834.834v7.083a.834.834 0 0 1-.833.833H2.5a.833.833 0 0 1-.833-.833V3.323A.833.833 0 0 1 2.5 2.49h8.333a.833.833 0 0 0 0-1.667H2.5a2.5 2.5 0 0 0-2.5 2.5V17.49a2.5 2.5 0 0 0 2.5 2.5H15a2.5 2.5 0 0 0 2.5-2.5v-7.083a.833.833 0 0 0-.833-.834ZM19.513.482a1.706 1.706 0 0 0-2.357 0l-.884.884a.417.417 0 0 0 0 .589l1.767 1.767a.417.417 0 0 0 .59 0l.884-.884a1.666 1.666 0 0 0 0-2.356Z"}),$t.default.createElement("path",{d:"m9.466 8.762 1.767 1.767a.417.417 0 0 0 .59 0l5.303-5.303a.417.417 0 0 0 0-.59l-1.769-1.769a.43.43 0 0 0-.589 0L9.466 8.172a.417.417 0 0 0 0 .59ZM8.624 9.363a.422.422 0 0 0-.303.25l-1.01 2.529a.416.416 0 0 0 .092.449.44.44 0 0 0 .45.092l2.525-1.01a.417.417 0 0 0 .14-.681L9 9.477a.417.417 0 0 0-.376-.114Z"})),"edit-inverse":$t.default.createElement("svg",{viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},$t.default.createElement("path",{d:"M7.98408 8.41697C7.87252 8.52907 7.73909 8.61704 7.59208 8.67538L5.53 9.50197C5.31774 9.58487 5.08603 9.60464 4.86279 9.5589C4.63955 9.51315 4.4343 9.40384 4.27175 9.24413C4.11028 9.0827 3.99972 8.87744 3.95379 8.65377C3.90785 8.43011 3.92856 8.19789 4.01333 7.98588L4.83758 5.92497C4.89649 5.77794 4.9846 5.64439 5.09658 5.53238L8.53067 2.09772C8.55074 2.07732 8.56439 2.05149 8.56994 2.02342C8.57549 1.99535 8.57269 1.96627 8.5619 1.93977C8.5511 1.91327 8.53277 1.89052 8.50918 1.87432C8.48559 1.85812 8.45778 1.84919 8.42917 1.84863H1.81883C1.33645 1.84863 0.873821 2.04026 0.532724 2.38136C0.191627 2.72245 0 3.18508 0 3.66747V11.6971C-1.22907e-08 11.9359 0.0470497 12.1724 0.138462 12.393C0.229874 12.6136 0.363857 12.8141 0.532759 12.983C0.701661 13.1518 0.902173 13.2857 1.12284 13.3771C1.34351 13.4684 1.58001 13.5154 1.81883 13.5153H9.84842C10.0872 13.5154 10.3237 13.4684 10.5443 13.3771C10.765 13.2857 10.9654 13.1518 11.1343 12.9829C11.3031 12.8141 11.4371 12.6136 11.5284 12.393C11.6198 12.1723 11.6667 11.9358 11.6667 11.6971V5.08847C11.6666 5.05971 11.658 5.03161 11.642 5.0077C11.6261 4.98379 11.6033 4.96515 11.5768 4.95412C11.5502 4.94308 11.521 4.94014 11.4928 4.94568C11.4646 4.95121 11.4386 4.96497 11.4182 4.98522L7.98408 8.41697Z"}),$t.default.createElement("path",{d:"M10.8312 1.77357C10.7755 1.72081 10.7017 1.69141 10.625 1.69141C10.5483 1.69141 10.4745 1.72081 10.4188 1.77357L5.8612 6.33174C5.83328 6.35975 5.81127 6.39307 5.79645 6.42974L4.97162 8.49241C4.95035 8.54548 4.94514 8.60363 4.95666 8.65964C4.96817 8.71564 4.99589 8.76703 5.03637 8.80741C5.0775 8.84649 5.12878 8.87323 5.18437 8.88457C5.23997 8.89592 5.29763 8.89142 5.35078 8.87157L7.41287 8.04674C7.44959 8.03203 7.48293 8.01 7.51087 7.98199L12.069 3.42441C12.1237 3.36971 12.1544 3.29554 12.1544 3.2182C12.1544 3.14086 12.1237 3.06669 12.069 3.01199L10.8312 1.77357Z"}),$t.default.createElement("path",{d:"M13.513 1.98011C13.7317 1.76133 13.8546 1.46464 13.8546 1.15528C13.8546 0.845921 13.7317 0.549228 13.513 0.330445C13.2908 0.118342 12.9954 0 12.6882 0C12.381 0 12.0856 0.118342 11.8634 0.330445L11.2444 0.949362C11.2354 0.961013 11.2272 0.973295 11.2199 0.986112C11.1818 1.03444 11.1604 1.09377 11.1587 1.15528C11.1587 1.19365 11.1663 1.23164 11.181 1.26707C11.1957 1.30251 11.2173 1.33469 11.2444 1.36178L12.4834 2.59903C12.5324 2.64926 12.5983 2.67943 12.6683 2.68364C12.7383 2.68785 12.8074 2.66579 12.862 2.62178C12.8739 2.61508 12.8852 2.60747 12.8959 2.59903L13.513 1.98011Z"})),close:$t.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 30 30"},$t.default.createElement("path",{d:"M0 0h30v30H0z"}),$t.default.createElement("path",{stroke:"#fff",strokeWidth:"2",d:"M0-1h15.582",transform:"scale(.98773 1.01212) rotate(45 -7.565 16.188)"}),$t.default.createElement("path",{stroke:"#fff",strokeWidth:"2",d:"M0-1h15.582",transform:"matrix(-.69843 .71568 -.69843 -.71568 19.883 9)"})),add:$t.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 19 19"},$t.default.createElement("path",{d:"M.875 9A8.625 8.625 0 1 0 9.5.375 8.635 8.635 0 0 0 .875 9Zm3.75-.375a.75.75 0 0 1 .75-.75h2.813a.187.187 0 0 0 .187-.188V4.876a.75.75 0 0 1 .75-.75h.75a.75.75 0 0 1 .75.75v2.813a.188.188 0 0 0 .188.187h2.812a.75.75 0 0 1 .75.75v.75a.75.75 0 0 1-.75.75h-2.813a.188.188 0 0 0-.187.188v2.812a.75.75 0 0 1-.75.75h-.75a.75.75 0 0 1-.75-.75v-2.813a.188.188 0 0 0-.188-.187H5.376a.75.75 0 0 1-.75-.75v-.75Z"})),delete:$t.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18"},$t.default.createElement("path",{d:"M14.354 6.748H3.103a.375.375 0 0 0-.375.375V16.5a1.5 1.5 0 0 0 1.5 1.5h9.001a1.5 1.5 0 0 0 1.5-1.5V7.123a.375.375 0 0 0-.375-.375Zm-6.938 8.627a.563.563 0 1 1-1.125 0V9.749a.563.563 0 1 1 1.125 0v5.626Zm3.75 0a.563.563 0 1 1-1.125 0V9.749a.563.563 0 0 1 1.125 0v5.626ZM15.337 1.912l-3.498.675a.188.188 0 0 1-.22-.15l-.178-.92A1.875 1.875 0 0 0 9.244.033l-3.68.714A1.875 1.875 0 0 0 4.08 2.945l.178.92a.187.187 0 0 1-.15.22l-3.498.676a.75.75 0 0 0-.596.878.774.774 0 0 0 .88.595l14.729-2.85a.75.75 0 1 0-.285-1.474v.002Zm-9.788.75a.375.375 0 0 1 .3-.44l3.683-.712a.375.375 0 0 1 .438.3l.179.922a.188.188 0 0 1-.15.22l-4.052.776a.187.187 0 0 1-.22-.15l-.178-.916Z"})),discard:$t.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},$t.default.createElement("path",{d:"m5 5 4.125 4.125M11 5l-6 6"}),$t.default.createElement("path",{d:"M14.667 0H1.333A1.333 1.333 0 0 0 0 1.333v13.334A1.333 1.333 0 0 0 1.333 16h9.334c.177 0 .346-.07.471-.195l4.667-4.667a.667.667 0 0 0 .195-.471V1.333A1.334 1.334 0 0 0 14.667 0ZM1.333 1.667a.333.333 0 0 1 .334-.334h12.666a.333.333 0 0 1 .334.334V10a.333.333 0 0 1-.334.333h-2.666a1.333 1.333 0 0 0-1.334 1.334v2.666a.333.333 0 0 1-.333.334H1.667a.333.333 0 0 1-.334-.334V1.667Z"})),save:$t.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},$t.default.createElement("path",{d:"M12.0122 5.20332C12.0936 5.10023 12.154 4.98212 12.1897 4.85572C12.2255 4.72932 12.236 4.59711 12.2207 4.46665C12.2054 4.33618 12.1645 4.21001 12.1004 4.09534C12.0364 3.98067 11.9503 3.87974 11.8472 3.79832C11.7441 3.7169 11.626 3.65658 11.4996 3.62081C11.3732 3.58504 11.241 3.57451 11.1106 3.58984C10.9801 3.60516 10.8539 3.64603 10.7392 3.71011C10.6246 3.77419 10.5236 3.86023 10.4422 3.96332L6.71356 8.68665C6.69905 8.70522 6.68075 8.72048 6.65989 8.73143C6.63902 8.74238 6.61606 8.74876 6.59254 8.75015C6.56902 8.75153 6.54547 8.7479 6.52346 8.73948C6.50145 8.73106 6.48149 8.71805 6.46489 8.70132L5.04823 7.28465C4.85963 7.1025 4.60702 7.0017 4.34483 7.00398C4.08263 7.00626 3.83182 7.11143 3.64641 7.29684C3.461 7.48224 3.35583 7.73306 3.35355 7.99525C3.35128 8.25745 3.45207 8.51005 3.63423 8.69865L5.44823 10.5133C5.61595 10.6772 5.81604 10.8042 6.0357 10.8863C6.25536 10.9684 6.48974 11.0037 6.72383 10.99C6.95792 10.9762 7.18656 10.9137 7.3951 10.8065C7.60365 10.6993 7.7875 10.5497 7.93489 10.3673L12.0122 5.20332Z"}),$t.default.createElement("path",{d:"M14.6667 0H1.33333C0.979711 0 0.640573 0.140476 0.390524 0.390524C0.140476 0.640573 0 0.979711 0 1.33333L0 14.6667C0 15.0203 0.140476 15.3594 0.390524 15.6095C0.640573 15.8595 0.979711 16 1.33333 16H10.6667C10.8435 16 11.013 15.9297 11.138 15.8047L15.8047 11.138C15.9297 11.013 16 10.8435 16 10.6667V1.33333C16 0.979711 15.8595 0.640573 15.6095 0.390524C15.3594 0.140476 15.0203 0 14.6667 0ZM1.33333 1.66667C1.33333 1.57826 1.36845 1.49348 1.43096 1.43096C1.49348 1.36845 1.57826 1.33333 1.66667 1.33333H14.3333C14.4217 1.33333 14.5065 1.36845 14.569 1.43096C14.6315 1.49348 14.6667 1.57826 14.6667 1.66667V10C14.6667 10.0884 14.6315 10.1732 14.569 10.2357C14.5065 10.2982 14.4217 10.3333 14.3333 10.3333H11.6667C11.313 10.3333 10.9739 10.4738 10.7239 10.7239C10.4738 10.9739 10.3333 11.313 10.3333 11.6667V14.3333C10.3333 14.4217 10.2982 14.5065 10.2357 14.569C10.1732 14.6315 10.0884 14.6667 10 14.6667H1.66667C1.57826 14.6667 1.49348 14.6315 1.43096 14.569C1.36845 14.5065 1.33333 14.4217 1.33333 14.3333V1.66667Z"})),caret:$t.default.createElement("svg",{viewBox:"0 0 28 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},$t.default.createElement("path",{d:"M12.9393 10.0607L14 11.1213L15.0607 10.0607L21.0607 4.06066L23.6213 1.5H20H8H4.37868L6.93934 4.06066L12.9393 10.0607Z",fill:"#00655A",stroke:"white",strokeWidth:"3"})),"export-geojson":$t.default.createElement("svg",{viewBox:"0 0 21 25",fill:"none",xmlns:"http://www.w3.org/2000/svg"},$t.default.createElement("path",{d:"M10.4136 1V16",stroke:"#666666",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),$t.default.createElement("path",{d:"M5.91357 11.5L10.4136 16L14.9136 11.5",stroke:"#666666",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),$t.default.createElement("path",{d:"M14.1636 4.74902H16.4116C17.2073 4.74902 17.9703 5.06509 18.5329 5.6277C19.0956 6.19031 19.4116 6.95337 19.4116 7.74902V20.499C19.4116 21.2947 19.0956 22.0577 18.5329 22.6203C17.9703 23.183 17.2073 23.499 16.4116 23.499H4.41162C3.61597 23.499 2.85291 23.183 2.2903 22.6203C1.72769 22.0577 1.41162 21.2947 1.41162 20.499V7.74902C1.41162 6.95337 1.72769 6.19031 2.2903 5.6277C2.85291 5.06509 3.61597 4.74902 4.41162 4.74902H6.66162",stroke:"#666666",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})),"user-roles":$t.default.createElement("svg",{viewBox:"0 0 17 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},$t.default.createElement("g",{clipPath:"url(#clip0_1491_11619)"},$t.default.createElement("path",{d:"M5.66626 2.74115C6.15948 3.25291 6.75085 3.65994 7.40499 3.9379C8.05913 4.21586 8.76261 4.35905 9.47336 4.35889C10.1932 4.3591 10.9056 4.2125 11.5668 3.92806",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),$t.default.createElement("path",{d:"M8.41156 7.54465C10.171 7.54465 11.5973 6.11835 11.5973 4.35892C11.5973 2.59949 10.171 1.17319 8.41156 1.17319C6.65213 1.17319 5.22583 2.59949 5.22583 4.35892C5.22583 6.11835 6.65213 7.54465 8.41156 7.54465Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),$t.default.createElement("path",{d:"M2.49536 14.8263C2.49536 13.2572 3.11869 11.7524 4.22822 10.6428C5.33776 9.5333 6.8426 8.90997 8.41172 8.90997C9.98084 8.90997 11.4857 9.5333 12.5952 10.6428C13.7048 11.7524 14.3281 13.2572 14.3281 14.8263",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})),$t.default.createElement("defs",null,$t.default.createElement("clipPath",{id:"clip0_1491_11619"},$t.default.createElement("rect",{width:"16",height:"16",fill:"currentColor",transform:"translate(0.411621 -0.000244141)"})))),filter:$t.default.createElement("svg",{viewBox:"0 0 22 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},$t.default.createElement("path",{d:"M10.75 9.75C16.1348 9.75 20.5 7.73528 20.5 5.25C20.5 2.76472 16.1348 0.75 10.75 0.75C5.36522 0.75 1 2.76472 1 5.25C1 7.73528 5.36522 9.75 10.75 9.75Z",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),$t.default.createElement("path",{d:"M1 5.25C1.00123 7.44343 1.74225 9.57232 3.10325 11.2924C4.46425 13.0126 6.36565 14.2233 8.5 14.729V21C8.5 21.5967 8.73705 22.169 9.15901 22.591C9.58097 23.0129 10.1533 23.25 10.75 23.25C11.3467 23.25 11.919 23.0129 12.341 22.591C12.7629 22.169 13 21.5967 13 21V14.729C15.1343 14.2233 17.0358 13.0126 18.3967 11.2924C19.7577 9.57232 20.4988 7.44343 20.5 5.25",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})),"metadata-panel":$t.default.createElement("svg",{viewBox:"0 0 17 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},$t.default.createElement("g",{clipPath:"url(#clip0_1419_7239)"},$t.default.createElement("path",{d:"M12.2444 13.3538C12.7967 13.3538 13.2444 12.906 13.2444 12.3538C13.2444 11.8015 12.7967 11.3538 12.2444 11.3538C11.6921 11.3538 11.2444 11.8015 11.2444 12.3538C11.2444 12.906 11.6921 13.3538 12.2444 13.3538Z",fill:"currentColor"}),$t.default.createElement("path",{d:"M16.0896 11.4357C16.263 11.2498 16.3723 11.0132 16.4013 10.7606C16.4303 10.508 16.3774 10.2528 16.2506 10.0324C16.1237 9.8121 15.9296 9.63826 15.6966 9.53649C15.4636 9.43471 15.2041 9.41037 14.9562 9.46705L14.0155 9.68438C13.9412 9.70131 13.8631 9.6894 13.7972 9.65104C13.7312 9.61268 13.6823 9.55074 13.6602 9.47771L13.3775 8.54905C13.3044 8.30537 13.1546 8.09176 12.9505 7.93991C12.7463 7.78806 12.4986 7.70605 12.2442 7.70605C11.9898 7.70605 11.7421 7.78806 11.538 7.93991C11.3338 8.09176 11.1841 8.30537 11.1109 8.54905L10.8282 9.47771C10.806 9.55065 10.757 9.6125 10.6911 9.65083C10.6252 9.68916 10.5473 9.70115 10.4729 9.68438L9.53288 9.46638C9.28515 9.40991 9.02585 9.43436 8.79304 9.53613C8.56023 9.6379 8.36617 9.81162 8.23938 10.0318C8.11258 10.252 8.05971 10.507 8.08854 10.7595C8.11737 11.0119 8.22637 11.2485 8.39955 11.4344L9.05822 12.145C9.11026 12.2019 9.13913 12.2763 9.13913 12.3534C9.13913 12.4305 9.11026 12.5048 9.05822 12.5617L8.39955 13.271C8.22608 13.4569 8.11682 13.6936 8.08783 13.9461C8.05884 14.1987 8.11165 14.454 8.2385 14.6743C8.36535 14.8947 8.55955 15.0685 8.79254 15.1703C9.02553 15.272 9.28503 15.2964 9.53288 15.2397L10.4735 15.0224C10.548 15.0058 10.626 15.018 10.6919 15.0564C10.7577 15.0948 10.8067 15.1567 10.8289 15.2297L11.1115 16.157C11.1843 16.4011 11.334 16.6151 11.5382 16.7673C11.7423 16.9195 11.9902 17.0017 12.2449 17.0017C12.4996 17.0017 12.7474 16.9195 12.9516 16.7673C13.1558 16.6151 13.3054 16.4011 13.3782 16.157L13.6609 15.229C13.6827 15.1558 13.7315 15.0936 13.7975 15.0551C13.8635 15.0166 13.9417 15.0046 14.0162 15.0217L14.9569 15.239C15.2046 15.2955 15.4639 15.2711 15.6967 15.1693C15.9295 15.0675 16.1236 14.8938 16.2504 14.6736C16.3772 14.4534 16.4301 14.1984 16.4012 13.946C16.3724 13.6935 16.2634 13.457 16.0902 13.271L15.4316 12.561C15.3795 12.5041 15.3506 12.4298 15.3506 12.3527C15.3506 12.2756 15.3795 12.2013 15.4316 12.1444L16.0896 11.4357ZM12.2442 14.3537C11.8487 14.3537 11.462 14.2364 11.1331 14.0167C10.8042 13.7969 10.5478 13.4845 10.3965 13.1191C10.2451 12.7536 10.2055 12.3515 10.2826 11.9635C10.3598 11.5756 10.5503 11.2192 10.83 10.9395C11.1097 10.6598 11.4661 10.4693 11.854 10.3921C12.242 10.315 12.6441 10.3546 13.0096 10.506C13.375 10.6573 13.6874 10.9137 13.9072 11.2426C14.1269 11.5715 14.2442 11.9581 14.2442 12.3537C14.2442 12.8841 14.0335 13.3929 13.6584 13.7679C13.2834 14.143 12.7746 14.3537 12.2442 14.3537Z",fill:"currentColor"}),$t.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.09017 13.782C7.0974 13.8043 7.09994 13.8278 7.09762 13.8511C7.06412 14.1643 7.09939 14.481 7.20095 14.7791C7.2097 14.8042 7.2123 14.831 7.20855 14.8572C7.20479 14.8835 7.19479 14.9085 7.17938 14.9301C7.16396 14.9517 7.14359 14.9693 7.11997 14.9815C7.09635 14.9936 7.07017 14.9999 7.04362 14.9998H2.41162C1.88119 14.9998 1.37248 14.789 0.997407 14.414C0.622335 14.0389 0.411621 13.5302 0.411621 12.9998V3.99976C0.411621 3.46932 0.622335 2.96062 0.997407 2.58554C1.37248 2.21047 1.88119 1.99976 2.41162 1.99976H11.745C12.2754 1.99976 12.7841 2.21047 13.1592 2.58554C13.5342 2.96062 13.745 3.46932 13.745 3.99976V6.95976C13.745 6.99007 13.7368 7.01983 13.7212 7.0458C13.7056 7.07177 13.6831 7.09297 13.6563 7.10709C13.6293 7.12109 13.599 7.12756 13.5686 7.1258C13.5382 7.12404 13.5088 7.11412 13.4836 7.09709C13.4779 7.09315 13.4721 7.08924 13.4664 7.08536C13.1685 6.74277 12.7022 6.52222 12.178 6.52222C11.6135 6.52222 11.1161 6.77796 10.824 7.16642H9.74495C9.70075 7.16642 9.65836 7.18398 9.6271 7.21524C9.59585 7.24649 9.57829 7.28889 9.57829 7.33309V8.28442C9.57831 8.30728 9.57364 8.32989 9.56458 8.35087C9.55553 8.37186 9.54226 8.39076 9.52562 8.40642C9.50904 8.42206 9.48941 8.4341 9.46795 8.44178C9.4465 8.44947 9.42369 8.45264 9.40095 8.45109C9.19328 8.43777 8.98476 8.45393 8.78162 8.49909C8.75723 8.50469 8.73189 8.50466 8.70751 8.499C8.68314 8.49334 8.66038 8.4822 8.64095 8.46642C8.62099 8.45049 8.60495 8.43018 8.59409 8.40706C8.58322 8.38394 8.57782 8.35863 8.57829 8.33309V7.33309C8.57829 7.28889 8.56073 7.24649 8.52947 7.21524C8.49822 7.18398 8.45582 7.16642 8.41162 7.16642H5.74495C5.70075 7.16642 5.65836 7.18398 5.6271 7.21524C5.59585 7.24649 5.57829 7.28889 5.57829 7.33309V9.66842C5.57829 9.71263 5.59585 9.75502 5.6271 9.78627C5.65836 9.81753 5.70075 9.83509 5.74495 9.83509H6.99562C7.02151 9.83498 7.04707 9.84096 7.07023 9.85254C7.09339 9.86412 7.1135 9.88098 7.12895 9.90176C7.1445 9.92219 7.15511 9.94593 7.15997 9.97114C7.16483 9.99635 7.1638 10.0223 7.15695 10.0471C7.10109 10.2487 7.07459 10.4573 7.07829 10.6664C7.07847 10.7102 7.06133 10.7523 7.03061 10.7835C6.99989 10.8147 6.95808 10.8326 6.91429 10.8331H5.74495C5.70075 10.8331 5.65836 10.8506 5.6271 10.8819C5.59585 10.9132 5.57829 10.9556 5.57829 10.9998V13.4998C5.57829 13.544 5.59585 13.5864 5.6271 13.6176C5.65836 13.6489 5.70075 13.6664 5.74495 13.6664H6.93162C6.95502 13.6664 6.97815 13.6714 6.99951 13.6809C7.02088 13.6904 7.03999 13.7043 7.05562 13.7218C7.07118 13.7392 7.08294 13.7598 7.09017 13.782ZM4.52881 9.78427C4.56006 9.75302 4.57762 9.71063 4.57762 9.66642L4.57829 7.33309C4.57829 7.28889 4.56073 7.24649 4.52947 7.21524C4.49822 7.18398 4.45582 7.16642 4.41162 7.16642H1.91162C1.86742 7.16642 1.82503 7.18398 1.79377 7.21524C1.76251 7.24649 1.74495 7.28889 1.74495 7.33309V9.66642C1.74495 9.71051 1.76242 9.7528 1.79353 9.78404C1.82465 9.81528 1.86687 9.83291 1.91095 9.83309H4.41095C4.45516 9.83309 4.49755 9.81553 4.52881 9.78427ZM5.68097 6.15393C5.70127 6.16226 5.72301 6.16651 5.74495 6.16642H8.41162C8.45582 6.16642 8.49822 6.14886 8.52947 6.11761C8.56073 6.08635 8.57829 6.04396 8.57829 5.99976V3.49976C8.57829 3.45555 8.56073 3.41316 8.52947 3.3819C8.49822 3.35065 8.45582 3.33309 8.41162 3.33309H5.74495C5.72301 3.333 5.70127 3.33725 5.68097 3.34558C5.66067 3.35392 5.64222 3.36618 5.62667 3.38167C5.61112 3.39715 5.59879 3.41556 5.59037 3.43582C5.58195 3.45609 5.57762 3.47781 5.57762 3.49976V5.99976C5.57762 6.0217 5.58195 6.04343 5.59037 6.06369C5.59879 6.08396 5.61112 6.10236 5.62667 6.11784C5.64222 6.13333 5.66067 6.14559 5.68097 6.15393ZM12.2164 3.52835C12.0913 3.40333 11.9218 3.33309 11.745 3.33309H9.74495C9.70075 3.33309 9.65836 3.35065 9.6271 3.3819C9.59585 3.41316 9.57829 3.45555 9.57829 3.49976V5.99976C9.57829 6.04396 9.59585 6.08635 9.6271 6.11761C9.65836 6.14886 9.70075 6.16642 9.74495 6.16642H12.245C12.2892 6.16642 12.3315 6.14886 12.3628 6.11761C12.3941 6.08635 12.4116 6.04396 12.4116 5.99976V3.99976C12.4116 3.82294 12.3414 3.65338 12.2164 3.52835ZM4.41162 3.33309H2.41162C2.23481 3.33309 2.06524 3.40333 1.94022 3.52835C1.81519 3.65338 1.74495 3.82294 1.74495 3.99976V5.99976C1.74495 6.04384 1.76242 6.08613 1.79353 6.11737C1.82465 6.14861 1.86687 6.16625 1.91095 6.16642H4.41162C4.45582 6.16642 4.49822 6.14886 4.52947 6.11761C4.56073 6.08635 4.57829 6.04396 4.57829 5.99976V3.49976C4.57829 3.45555 4.56073 3.41316 4.52947 3.3819C4.49822 3.35065 4.45582 3.33309 4.41162 3.33309ZM1.74495 10.9998V12.9998C1.74495 13.1766 1.81519 13.3461 1.94022 13.4712C2.06524 13.5962 2.23481 13.6664 2.41162 13.6664H4.41162C4.45582 13.6664 4.49822 13.6489 4.52947 13.6176C4.56073 13.5864 4.57829 13.544 4.57829 13.4998V10.9998C4.57829 10.9556 4.56073 10.9132 4.52947 10.8819C4.49822 10.8506 4.45582 10.8331 4.41162 10.8331H1.91162C1.86742 10.8331 1.82503 10.8506 1.79377 10.8819C1.76251 10.9132 1.74495 10.9556 1.74495 10.9998Z",fill:"currentColor"})),$t.default.createElement("defs",null,$t.default.createElement("clipPath",{id:"clip0_1419_7239"},$t.default.createElement("rect",{width:"16",height:"18",fill:"currentColor",transform:"translate(0.411621 -0.000244141)"})))),clock:$t.default.createElement("svg",{viewBox:"0 0 18 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},$t.default.createElement("path",{d:"M5.71093 8.93449L3.56128 6.79363L1.41162 8.93449M3.42462 7.6044C3.46047 9.22172 4.09697 10.7684 5.21112 11.9456C6.32527 13.1228 7.838 13.847 9.45702 13.9782C11.076 14.1094 12.6864 13.6383 13.977 12.656C15.2676 11.6736 16.1468 10.2498 16.4447 8.6595C16.7427 7.06923 16.4382 5.42542 15.5901 4.04569C14.742 2.66597 13.4105 1.64826 11.8529 1.18921C10.2953 0.730155 8.62218 0.862343 7.15674 1.56023",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",stroke:"currentColor"}),$t.default.createElement("path",{d:"M9.04295 8.08988L10.7639 5.10907",strokeWidth:"1.5",strokeLinecap:"round",stroke:"currentColor"}),$t.default.createElement("path",{d:"M9.04288 8.0901L12.0237 9.81107",strokeWidth:"1.5",strokeLinecap:"round",stroke:"currentColor"})),"image-placeholder":$t.default.createElement("svg",{viewBox:"0 0 66 66",fill:"none",xmlns:"http://www.w3.org/2000/svg"},$t.default.createElement("path",{d:"M59.7357 1.99231H14.2691C11.9863 1.99231 10.1357 3.84287 10.1357 6.12564V51.5923C10.1357 53.8751 11.9863 55.7256 14.2691 55.7256H59.7357C62.0185 55.7256 63.8691 53.8751 63.8691 51.5923V6.12564C63.8691 3.84287 62.0185 1.99231 59.7357 1.99231Z",stroke:"#cccccc",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"}),$t.default.createElement("path",{d:"M55.6025 63.9924H6.00247C4.90625 63.9924 3.85492 63.5569 3.07977 62.7817C2.30462 62.0066 1.86914 60.9553 1.86914 59.859V10.259",stroke:"#cccccc",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"}),$t.default.createElement("path",{d:"M23.5662 18.5256C23.362 18.5262 23.1625 18.5872 22.9929 18.7011C22.8233 18.815 22.6913 18.9766 22.6135 19.1654C22.5357 19.3543 22.5157 19.562 22.5558 19.7622C22.596 19.9625 22.6947 20.1464 22.8393 20.2906C22.9839 20.4349 23.168 20.533 23.3684 20.5726C23.5688 20.6123 23.7764 20.5917 23.965 20.5134C24.1537 20.4351 24.3149 20.3026 24.4284 20.1328C24.5418 19.9629 24.6023 19.7632 24.6023 19.559C24.6023 19.2849 24.4934 19.0221 24.2997 18.8283C24.1059 18.6345 23.843 18.5256 23.569 18.5256",stroke:"#cccccc",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"}),$t.default.createElement("path",{d:"M55.6022 43.3257L44.9382 27.2443C44.7512 26.9648 44.4986 26.7353 44.2026 26.5757C43.9066 26.4161 43.5761 26.3313 43.2398 26.3286C42.9036 26.3258 42.5717 26.4053 42.2732 26.5601C41.9746 26.7149 41.7184 26.9403 41.5269 27.2167L36.0295 35.07L32.6209 32.3448C32.3972 32.1661 32.1387 32.0359 31.862 31.9624C31.5853 31.8889 31.2963 31.8736 31.0134 31.9177C30.7305 31.9617 30.4598 32.0641 30.2186 32.2182C29.9773 32.3724 29.7707 32.575 29.6118 32.8132L22.5962 43.3257H55.6022Z",stroke:"#cccccc",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"})),[oO.POINT]:$t.default.createElement("svg",{viewBox:"0 0 10 13",fill:"none",xmlns:"http://www.w3.org/2000/svg"},$t.default.createElement("path",{d:"M5 0C3.67439 0.001577 2.40351 0.54425 1.46616 1.50897C0.528809 2.47369 0.00153226 3.78169 0 5.14601C0 8.69242 3.44105 11.9106 4.49526 12.8125C4.637 12.9337 4.81547 13 4.99974 13C5.18401 13 5.36247 12.9337 5.50421 12.8125C6.55684 11.9106 10 8.69134 10 5.14547C9.99833 3.78124 9.47099 2.47339 8.53366 1.50878C7.59632 0.544176 6.32552 0.00157672 5 0ZM5 7.85443C4.47952 7.85443 3.97073 7.69559 3.53797 7.39798C3.10521 7.10037 2.76792 6.67738 2.56874 6.18248C2.36956 5.68758 2.31745 5.143 2.41899 4.61762C2.52053 4.09224 2.77116 3.60964 3.13919 3.23086C3.50723 2.85208 3.97613 2.59413 4.4866 2.48962C4.99708 2.38512 5.5262 2.43875 6.00706 2.64375C6.48792 2.84874 6.89892 3.19589 7.18808 3.64129C7.47724 4.08669 7.63158 4.61033 7.63158 5.14601C7.63158 5.50168 7.56351 5.85388 7.43126 6.18248C7.29901 6.51108 7.10517 6.80965 6.86081 7.06115C6.61644 7.31265 6.32634 7.51216 6.00706 7.64827C5.68778 7.78438 5.34558 7.85443 5 7.85443Z",fill:"#999999"})),[oO.LINE_STRING]:$t.default.createElement("svg",{viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},$t.default.createElement("path",{d:"M10 2L2 10",stroke:"#999999",strokeWidth:"1.5"}),$t.default.createElement("circle",{cx:"2",cy:"10",r:"2",fill:"#999999"}),$t.default.createElement("circle",{cx:"10",cy:"2",r:"2",fill:"#999999"})),[oO.POLYGON]:$t.default.createElement("svg",{viewBox:"0 0 13 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},$t.default.createElement("path",{d:"M1.50439 12.282L4.13685 5.51279L10.53 2.50427L9.77783 7.39312L9.0257 11.5298L1.50439 12.282Z",stroke:"#999999",strokeWidth:"1.5"}),$t.default.createElement("circle",{cx:"11",cy:"2",r:"2",fill:"#999999"}),$t.default.createElement("circle",{cx:"9",cy:"11",r:"2",fill:"#999999"}),$t.default.createElement("path",{d:"M4 12C4 13.1046 3.10457 14 2 14C0.89543 14 0 13.1046 0 12C0 10.8954 0.89543 10 2 10C3.10457 10 4 10.8954 4 12Z",fill:"#999999"}),$t.default.createElement("path",{d:"M6 5C6 6.10457 5.10457 7 4 7C2.89543 7 2 6.10457 2 5C2 3.89543 2.89543 3 4 3C5.10457 3 6 3.89543 6 5Z",fill:"#999999"}))},M7e=({name:e})=>{var t;return(t=Wsr[e])!=null?t:""};M7e.propTypes={name:T7e.default.string.isRequired};var C7e=M7e;var AD=C7e;var A7e=({values:e,min:t,max:r,onChange:n})=>{let[i,o]=(0,bi.useState)(e),[u,p]=(0,bi.useState)(!1),[h,y]=(0,bi.useState)(0),[_,E]=(0,bi.useState)(1),T=(0,bi.useRef)(),N=(0,bi.useRef)(),R=(0,bi.useRef)(),{start:j,end:k}=(0,bi.useMemo)(()=>({start:og(i[0]*1e3),end:og(i[1]*1e3)}),[i]),L=(0,bi.useCallback)((ae,ue)=>{let ge=NW(ue).valueOf()/1e3,Oe=i[1];if(ae.relatedTarget!==N.current&&ae.relatedTarget!==R.current&&p(!1),!iO(ge)||ge>Oe||ge<t){n([i[0],i[1]]),y(Date.now());return}n([ge,Oe])},[i]),F=(0,bi.useCallback)((ae,ue)=>{let ge=i[0],Oe=NW(ue).valueOf()/1e3;if(ae.relatedTarget!==T.current&&ae.relatedTarget!==R.current&&p(!1),!iO(Oe)||ge>Oe||Oe>r){n([i[0],i[1]]),E(Date.now());return}n([ge,Oe])},[i]),G=(0,bi.useCallback)(ae=>{ae.key==="Enter"&&(ae.target===T.current&&N.current.focus(),ae.target===N.current&&(ae.target.blur(),p(!1)))},[]),ee=(0,bi.useCallback)(()=>{u||T.current.focus(),p(ae=>!ae)},[]);return(0,bi.useEffect)(()=>{o(e)},[e]),bi.default.createElement("div",{className:"timeslider-controls-root"},bi.default.createElement(OY,{ref:T,key:h,value:j,onBlur:L,onKeyDown:G,readOnly:!u,tabIndex:u?void 0:-1}),bi.default.createElement("span",null,"\u2013"),bi.default.createElement(OY,{ref:N,key:_,value:k,onBlur:F,onKeyDown:G,readOnly:!u,tabIndex:u?void 0:-1}),bi.default.createElement("button",{ref:R,className:vr("edit-button",u&&"edit-state"),onClick:ee},bi.default.createElement(AD,{name:"edit-inverse"})))};A7e.propTypes={values:v1.default.arrayOf(v1.default.number).isRequired,min:v1.default.number.isRequired,max:v1.default.number.isRequired,onChange:v1.default.func.isRequired};var P7e=A7e;var gg=re(Gt(),1),y1=re(Be(),1);var O7e=(0,y1.forwardRef)(function({className:t,posX:r,shouldUseDate:n,value:i},o){let u=(0,y1.useMemo)(()=>Array.isArray(i)?n?`${og(i[0]*1e3)} - ${og(i[1]*1e3)}`:`${i[0]} - ${i[1]}`:n?og(i*1e3):i,[i]);return y1.default.createElement("div",{ref:o,className:t,style:{transform:`translate(${r}px)`}},u)});O7e.propTypes={className:gg.default.string,posX:gg.default.number.isRequired,shouldUseDate:gg.default.bool.isRequired,value:gg.default.oneOfType([gg.default.array,gg.default.number]).isRequired};var PD=O7e;var D7e=(e,t,r,n)=>{let i=e.map(y=>(y-t[0])/(t[1]-t[0])),o=i[0]*n,u=i[1]*n,p=DY(o,r,n),h=DY(u,r,n);return{posMin:p,posMax:h}},N7e=(e,t,r,n)=>{let u=((e[1]-e[0])/2+e[0]-t[0])/(t[1]-t[0])*n;return DY(u,r,n)},DY=(e,t,r)=>e<t/2?0:e>r-t/2?r-t:e-t/2;var NY=[1e3,1e3],kY=e=>{let{title:t,values:r,timeRange:n,onChange:i,sliderProps:o,shouldUseDate:u,showControls:p}=e,[h,y]=(0,Yn.useState)(r),[_,E]=(0,Yn.useState)(0),[T,N]=(0,Yn.useState)(0),[R,j]=(0,Yn.useState)(0),[k,L]=(0,Yn.useState)({min:0,max:0}),[F,G]=(0,Yn.useState)(0),[ee,ae]=(0,Yn.useState)(!1),ue=(0,Yn.useRef)(),ge=(0,Yn.useRef)(),Oe=(0,Yn.useRef)(),_e=(0,Yn.useCallback)($e=>{let{posMin:qe,posMax:Je}=D7e($e,n,_,R);if(Math.abs(qe-Je)<_){ae(!0);let Ue=N7e($e,n,T,R);G(Ue);return}ae(!1),L({min:qe,max:Je})},[n,_,R]),ze=(0,Yn.useCallback)($e=>{_e($e),y($e)},[_e]),We=(0,Yn.useCallback)($e=>{ze($e),i($e)},[ze,i]);return(0,Yn.useEffect)(()=>{if(ue.current&&ge.current&&Oe.current){let $e=ue.current.getBoundingClientRect().width,qe=ge.current.getBoundingClientRect().width,Je=Oe.current.getBoundingClientRect().width;L({min:0,max:$e-qe}),N(Je),j($e),E(qe)}},[]),(0,Yn.useEffect)(()=>{y(r),_e(r)},[r,_e]),Yn.default.createElement("div",{className:"timeslider-container"},Yn.default.createElement("div",{className:"timeslider-control-container"},Yn.default.createElement("label",null,t),p&&Yn.default.createElement(P7e,{min:n[0],max:n[1],values:h,onChange:We})),Yn.default.createElement("div",{ref:ue,className:"slider-container"},Yn.default.createElement(jO,Ze({allowCross:!1,ariaLabelledByGroupForHandles:["min-value","max-value"],min:n[0],max:n[1],onChange:ze,onAfterChange:i,value:h},o)),Yn.default.createElement(PD,{className:vr("tooltip min-value",ee&&"labels-too-close"),posX:k.min,ref:ge,value:ee?NY[0]:h[0],shouldUseDate:u}),Yn.default.createElement(PD,{className:vr("tooltip max-value",ee&&"labels-too-close"),posX:k.max,value:ee?NY[1]:h[1],shouldUseDate:u}),Yn.default.createElement(PD,{className:vr("tooltip min-max-value",ee&&"labels-too-close"),posX:F,ref:Oe,value:ee?h:NY,shouldUseDate:u})))};kY.defaultProps={timeRange:[1850,1970],shouldUseDate:!1,showControls:!1};kY.propTypes={title:jc.default.string.isRequired,values:jc.default.arrayOf(jc.default.number),timeRange:jc.default.arrayOf(jc.default.number),onChange:jc.default.func.isRequired,sliderProps:jc.default.object,shouldUseDate:jc.default.bool,showControls:jc.default.bool};var k7e=kY;var L7e=k7e;var q7e=()=>{let e=mr(BA),[t,r]=In(FA),n=(0,OD.useCallback)(i=>r(i),[]);return OD.default.createElement(L7e,{title:it("timeslider-adjust-timeperiod"),timeRange:e,onChange:n,values:t,sliderProps:{draggableTrack:!0}})};q7e.propTypes={};var R7e=q7e;var z7e=R7e;var BD=re(Be(),1);var yg=re(Be(),1),MZ=re(Gt(),1);var rs=re(Be(),1);var Mt=re(Gt()),_t=re(Be()),nlr=re(W7e());function G7e(e){return typeof e=="object"&&e!=null&&e.nodeType===1}function Y7e(e,t){return(!t||e!=="hidden")&&e!=="visible"&&e!=="clip"}function qY(e,t){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var r=getComputedStyle(e,null);return Y7e(r.overflowY,t)||Y7e(r.overflowX,t)||function(n){var i=function(o){if(!o.ownerDocument||!o.ownerDocument.defaultView)return null;try{return o.ownerDocument.defaultView.frameElement}catch(u){return null}}(n);return!!i&&(i.clientHeight<n.scrollHeight||i.clientWidth<n.scrollWidth)}(e)}return!1}function kD(e,t,r,n,i,o,u,p){return o<e&&u>t||o>e&&u<t?0:o<=e&&p<=r||u>=t&&p>=r?o-e-n:u>t&&p<r||o<e&&p>r?u-t+i:0}var Z7e=function(e,t){var r=window,n=t.scrollMode,i=t.block,o=t.inline,u=t.boundary,p=t.skipOverflowHiddenElements,h=typeof u=="function"?u:function(we){return we!==u};if(!G7e(e))throw new TypeError("Invalid target");for(var y,_,E=document.scrollingElement||document.documentElement,T=[],N=e;G7e(N)&&h(N);){if((N=(_=(y=N).parentElement)==null?y.getRootNode().host||null:_)===E){T.push(N);break}N!=null&&N===document.body&&qY(N)&&!qY(document.documentElement)||N!=null&&qY(N,p)&&T.push(N)}for(var R=r.visualViewport?r.visualViewport.width:innerWidth,j=r.visualViewport?r.visualViewport.height:innerHeight,k=window.scrollX||pageXOffset,L=window.scrollY||pageYOffset,F=e.getBoundingClientRect(),G=F.height,ee=F.width,ae=F.top,ue=F.right,ge=F.bottom,Oe=F.left,_e=i==="start"||i==="nearest"?ae:i==="end"?ge:ae+G/2,ze=o==="center"?Oe+ee/2:o==="end"?ue:Oe,We=[],$e=0;$e<T.length;$e++){var qe=T[$e],Je=qe.getBoundingClientRect(),dt=Je.height,Ue=Je.width,Re=Je.top,Pe=Je.right,et=Je.bottom,lt=Je.left;if(n==="if-needed"&&ae>=0&&Oe>=0&&ge<=j&&ue<=R&&ae>=Re&&ge<=et&&Oe>=lt&&ue<=Pe)return We;var ut=getComputedStyle(qe),Fe=parseInt(ut.borderLeftWidth,10),Ge=parseInt(ut.borderTopWidth,10),ot=parseInt(ut.borderRightWidth,10),De=parseInt(ut.borderBottomWidth,10),he=0,ke=0,Te="offsetWidth"in qe?qe.offsetWidth-qe.clientWidth-Fe-ot:0,Qe="offsetHeight"in qe?qe.offsetHeight-qe.clientHeight-Ge-De:0,Ye="offsetWidth"in qe?qe.offsetWidth===0?0:Ue/qe.offsetWidth:0,Ct="offsetHeight"in qe?qe.offsetHeight===0?0:dt/qe.offsetHeight:0;if(E===qe)he=i==="start"?_e:i==="end"?_e-j:i==="nearest"?kD(L,L+j,j,Ge,De,L+_e,L+_e+G,G):_e-j/2,ke=o==="start"?ze:o==="center"?ze-R/2:o==="end"?ze-R:kD(k,k+R,R,Fe,ot,k+ze,k+ze+ee,ee),he=Math.max(0,he+L),ke=Math.max(0,ke+k);else{he=i==="start"?_e-Re-Ge:i==="end"?_e-et+De+Qe:i==="nearest"?kD(Re,et,dt,Ge,De+Qe,_e,_e+G,G):_e-(Re+dt/2)+Qe/2,ke=o==="start"?ze-lt-Fe:o==="center"?ze-(lt+Ue/2)+Te/2:o==="end"?ze-Pe+ot+Te:kD(lt,Pe,Ue,Fe,ot+Te,ze,ze+ee,ee);var yt=qe.scrollLeft,Nt=qe.scrollTop;_e+=Nt-(he=Math.max(0,Math.min(Nt+he/Ct,qe.scrollHeight-dt/Ct+Qe))),ze+=yt-(ke=Math.max(0,Math.min(yt+ke/Ye,qe.scrollWidth-Ue/Ye+Te)))}We.push({el:qe,top:he,left:ke})}return We};var WS=function(){return WS=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},WS.apply(this,arguments)};var ilr=0;function XS(){}function olr(e,t){if(!e)return;Z7e(e,{boundary:t,block:"nearest",scrollMode:"if-needed"}).forEach(n=>{let{el:i,top:o,left:u}=n;i.scrollTop=o,i.scrollLeft=u})}function K7e(e,t,r){return e===t||t instanceof r.Node&&e.contains&&e.contains(t)}function zY(e,t){let r;function n(){r&&clearTimeout(r)}function i(){for(var o=arguments.length,u=new Array(o),p=0;p<o;p++)u[p]=arguments[p];n(),r=setTimeout(()=>{r=null,e(...u)},t)}return i.cancel=n,i}function co(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){for(var i=arguments.length,o=new Array(i>1?i-1:0),u=1;u<i;u++)o[u-1]=arguments[u];return t.some(p=>(p&&p(n,...o),n.preventDownshiftDefault||n.hasOwnProperty("nativeEvent")&&n.nativeEvent.preventDownshiftDefault))}}function Fc(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n=>{t.forEach(i=>{typeof i=="function"?i(n):i&&(i.current=n)})}}function alr(){return String(ilr++)}function slr(e){let{isOpen:t,resultCount:r,previousResultCount:n}=e;return t?r?r!==n?`${r} result${r===1?" is":"s are"} available, use up and down arrow keys to navigate. Press Enter key to select.`:"":"No results are available.":""}function LD(e,t){return Object.keys(e).reduce((r,n)=>(r[n]=nze(t,n)?t[n]:e[n],r),{})}function nze(e,t){return e[t]!==void 0}function ZS(e){let{key:t,keyCode:r}=e;return r>=37&&r<=40&&t.indexOf("Arrow")!==0?`Arrow${t}`:t}function KS(e,t,r,n,i){if(i===void 0&&(i=!0),r===0)return-1;let o=r-1;(typeof t!="number"||t<0||t>=r)&&(t=e>0?-1:o+1);let u=t+e;u<0?u=i?o:0:u>o&&(u=i?0:o);let p=vg(e,u,r,n,i);return p===-1?t>=r?-1:t:p}function vg(e,t,r,n,i){let o=n(t);if(!o||!o.hasAttribute("disabled"))return t;if(e>0){for(let u=t+1;u<r;u++)if(!n(u).hasAttribute("disabled"))return u}else for(let u=t-1;u>=0;u--)if(!n(u).hasAttribute("disabled"))return u;return i?e>0?vg(1,0,r,n,!1):vg(-1,r-1,r,n,!1):-1}function X7e(e,t,r,n){return n===void 0&&(n=!0),t.some(i=>i&&(K7e(i,e,r)||n&&K7e(i,r.document.activeElement,r)))}var llr=zY(e=>{oze(e).textContent=""},500);function ize(e,t){let r=oze(t);e&&(r.textContent=e,llr(t))}function oze(e){e===void 0&&(e=document);let t=e.getElementById("a11y-status-message");return t||(t=e.createElement("div"),t.setAttribute("id","a11y-status-message"),t.setAttribute("role","status"),t.setAttribute("aria-live","polite"),t.setAttribute("aria-relevant","additions text"),Object.assign(t.style,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px"}),e.body.appendChild(t),t)}var aze={highlightedIndex:-1,isOpen:!1,selectedItem:null,inputValue:""};function ulr(e,t,r){let{props:n,type:i}=e,o={};Object.keys(t).forEach(u=>{clr(u,e,t,r),r[u]!==t[u]&&(o[u]=r[u])}),n.onStateChange&&Object.keys(o).length&&n.onStateChange(Ze({type:i},o))}function clr(e,t,r,n){let{props:i,type:o}=t,u=`on${FY(e)}Change`;i[u]&&n[e]!==void 0&&n[e]!==r[e]&&i[u](Ze({type:o},n))}function dlr(e,t){return t.changes}function plr(e){let{selectedItem:t,itemToString:r}=e;return t?`${r(t)} has been selected.`:""}var flr=zY((e,t)=>{ize(e(),t)},200),hlr=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined"?_t.useLayoutEffect:_t.useEffect;function sze(e){let{id:t=`downshift-${alr()}`,labelId:r,menuId:n,getItemId:i,toggleButtonId:o,inputId:u}=e;return(0,_t.useRef)({labelId:r||`${t}-label`,menuId:n||`${t}-menu`,getItemId:i||(h=>`${t}-item-${h}`),toggleButtonId:o||`${t}-toggle-button`,inputId:u||`${t}-input`}).current}function jY(e,t,r){return e!==void 0?e:r.length===0?-1:r.indexOf(t)}function mlr(e){return e?String(e):""}function Q7e(e){return /^\S{1}$/.test(e)}function FY(e){return`${e.slice(0,1).toUpperCase()}${e.slice(1)}`}function jD(e){let t=(0,_t.useRef)(e);return t.current=e,t}function lze(e,t,r){let n=(0,_t.useRef)(),i=(0,_t.useRef)(),o=(0,_t.useCallback)((E,T)=>{i.current=T,E=LD(E,T.props);let N=e(E,T);return T.props.stateReducer(E,xr(Ze({},T),{changes:N}))},[e]),[u,p]=(0,_t.useReducer)(o,t),h=jD(r),y=(0,_t.useCallback)(E=>p(Ze({props:h.current},E)),[h]),_=i.current;return(0,_t.useEffect)(()=>{_&&n.current&&n.current!==u&&ulr(_,LD(n.current,_.props),u),n.current=u},[u,r,_]),[u,y]}function uze(e,t,r){let[n,i]=lze(e,t,r);return[LD(n,r),i]}var YS={itemToString:mlr,stateReducer:dlr,getA11ySelectionMessage:plr,scrollIntoView:olr,circularNavigation:!1,environment:typeof window=="undefined"?{}:window};function ts(e,t,r){r===void 0&&(r=aze);let n=e[`default${FY(t)}`];return n!==void 0?n:r[t]}function GS(e,t,r){r===void 0&&(r=aze);let n=e[t];if(n!==void 0)return n;let i=e[`initial${FY(t)}`];return i!==void 0?i:ts(e,t,r)}function cze(e){let t=GS(e,"selectedItem"),r=GS(e,"isOpen"),n=GS(e,"highlightedIndex"),i=GS(e,"inputValue");return{highlightedIndex:n<0&&t&&r?e.items.indexOf(t):n,isOpen:r,selectedItem:t,inputValue:i}}function _1(e,t,r,n){let{items:i,initialHighlightedIndex:o,defaultHighlightedIndex:u}=e,{selectedItem:p,highlightedIndex:h}=t;return i.length===0?-1:o!==void 0&&h===o?o:u!==void 0?u:p?r===0?i.indexOf(p):KS(r,i.indexOf(p),i.length,n,!1):r===0?-1:r<0?i.length-1:0}function dze(e,t,r,n){let i=(0,_t.useRef)({isMouseDown:!1,isTouchMove:!1});return(0,_t.useEffect)(()=>{let o=()=>{i.current.isMouseDown=!0},u=_=>{i.current.isMouseDown=!1,e&&!X7e(_.target,t.map(E=>E.current),r)&&n()},p=()=>{i.current.isTouchMove=!1},h=()=>{i.current.isTouchMove=!0},y=_=>{e&&!i.current.isTouchMove&&!X7e(_.target,t.map(E=>E.current),r,!1)&&n()};return r.addEventListener("mousedown",o),r.addEventListener("mouseup",u),r.addEventListener("touchstart",p),r.addEventListener("touchmove",h),r.addEventListener("touchend",y),function(){r.removeEventListener("mousedown",o),r.removeEventListener("mouseup",u),r.removeEventListener("touchstart",p),r.removeEventListener("touchmove",h),r.removeEventListener("touchend",y)}},[e,r]),i}var BY=()=>XS;function qD(e,t,r){let h=r,{isInitialMount:n,highlightedIndex:i,items:o,environment:u}=h,p=Rn(h,["isInitialMount","highlightedIndex","items","environment"]);(0,_t.useEffect)(()=>{n||flr(()=>e(Ze({highlightedIndex:i,highlightedItem:o[i],resultCount:o.length},p)),u.document)},t)}function pze(e){let{highlightedIndex:t,isOpen:r,itemRefs:n,getItemNodeFromIndex:i,menuElement:o,scrollIntoView:u}=e,p=(0,_t.useRef)(!0);return hlr(()=>{t<0||!r||!Object.keys(n.current).length||(p.current===!1?p.current=!0:u(i(t),o))},[t]),p}var UY=XS;function fze(e,t,r){let{type:n,props:i}=t,o;switch(n){case r.ItemMouseMove:o={highlightedIndex:t.disabled?-1:t.index};break;case r.MenuMouseLeave:o={highlightedIndex:-1};break;case r.ToggleButtonClick:case r.FunctionToggleMenu:o={isOpen:!e.isOpen,highlightedIndex:e.isOpen?-1:_1(i,e,0)};break;case r.FunctionOpenMenu:o={isOpen:!0,highlightedIndex:_1(i,e,0)};break;case r.FunctionCloseMenu:o={isOpen:!1};break;case r.FunctionSetHighlightedIndex:o={highlightedIndex:t.highlightedIndex};break;case r.FunctionSetInputValue:o={inputValue:t.inputValue};break;case r.FunctionReset:o={highlightedIndex:ts(i,"highlightedIndex"),isOpen:ts(i,"isOpen"),selectedItem:ts(i,"selectedItem"),inputValue:ts(i,"inputValue")};break;default:throw new Error("Reducer called without proper action type.");}return Ze(Ze({},e),o)}function J7e(e){for(var t=e.keysSoFar,r=e.highlightedIndex,n=e.items,i=e.itemToString,o=e.getItemNodeFromIndex,u=t.toLowerCase(),p=0;p<n.length;p++){var h=(p+r+1)%n.length,y=n[h];if(y!==void 0&&i(y).toLowerCase().startsWith(u)){var _=o(h);if(!(_!=null&&_.hasAttribute("disabled")))return h}}return r}var Ktn={items:Mt.default.array.isRequired,itemToString:Mt.default.func,getA11yStatusMessage:Mt.default.func,getA11ySelectionMessage:Mt.default.func,circularNavigation:Mt.default.bool,highlightedIndex:Mt.default.number,defaultHighlightedIndex:Mt.default.number,initialHighlightedIndex:Mt.default.number,isOpen:Mt.default.bool,defaultIsOpen:Mt.default.bool,initialIsOpen:Mt.default.bool,selectedItem:Mt.default.any,initialSelectedItem:Mt.default.any,defaultSelectedItem:Mt.default.any,id:Mt.default.string,labelId:Mt.default.string,menuId:Mt.default.string,getItemId:Mt.default.func,toggleButtonId:Mt.default.string,stateReducer:Mt.default.func,onSelectedItemChange:Mt.default.func,onHighlightedIndexChange:Mt.default.func,onStateChange:Mt.default.func,onIsOpenChange:Mt.default.func,environment:Mt.default.shape({addEventListener:Mt.default.func,removeEventListener:Mt.default.func,document:Mt.default.shape({getElementById:Mt.default.func,activeElement:Mt.default.any,body:Mt.default.any})})};function glr(e){var t=e.isOpen,r=e.resultCount,n=e.previousResultCount;return t?r?r!==n?"".concat(r," result").concat(r===1?" is":"s are"," available, use up and down arrow keys to navigate. Press Enter or Space Bar keys to select."):"":"No results are available.":""}var vlr=WS(WS({},YS),{getA11yStatusMessage:glr}),ylr=XS,VY=0,$Y=1,HY=2,WY=3,GY=4,YY=5,ZY=6,KY=7,RD=8,hze=9,mze=10,XY=11,gze=12,QY=13,JY=14,eZ=15,vze=16,yze=17,_ze=18,bze=19,tZ=20,RY=21,xze=22,wze=Object.freeze({__proto__:null,MenuKeyDownArrowDown:VY,MenuKeyDownArrowUp:$Y,MenuKeyDownEscape:HY,MenuKeyDownHome:WY,MenuKeyDownEnd:GY,MenuKeyDownEnter:YY,MenuKeyDownSpaceButton:ZY,MenuKeyDownCharacter:KY,MenuBlur:RD,MenuMouseLeave:hze,ItemMouseMove:mze,ItemClick:XY,ToggleButtonClick:gze,ToggleButtonKeyDownArrowDown:QY,ToggleButtonKeyDownArrowUp:JY,ToggleButtonKeyDownCharacter:eZ,FunctionToggleMenu:vze,FunctionOpenMenu:yze,FunctionCloseMenu:_ze,FunctionSetHighlightedIndex:bze,FunctionSelectItem:tZ,FunctionSetInputValue:RY,FunctionReset:xze});function _lr(e,t){let{type:r,props:n,shiftKey:i}=t,o;switch(r){case XY:o={isOpen:ts(n,"isOpen"),highlightedIndex:ts(n,"highlightedIndex"),selectedItem:n.items[t.index]};break;case eZ:{let u=t.key,p=`${e.inputValue}${u}`,h=J7e({keysSoFar:p,highlightedIndex:e.selectedItem?n.items.indexOf(e.selectedItem):-1,items:n.items,itemToString:n.itemToString,getItemNodeFromIndex:t.getItemNodeFromIndex});o=Ze({inputValue:p},h>=0&&{selectedItem:n.items[h]})}break;case QY:o={highlightedIndex:_1(n,e,1,t.getItemNodeFromIndex),isOpen:!0};break;case JY:o={highlightedIndex:_1(n,e,-1,t.getItemNodeFromIndex),isOpen:!0};break;case YY:case ZY:o=Ze({isOpen:ts(n,"isOpen"),highlightedIndex:ts(n,"highlightedIndex")},e.highlightedIndex>=0&&{selectedItem:n.items[e.highlightedIndex]});break;case WY:o={highlightedIndex:vg(1,0,n.items.length,t.getItemNodeFromIndex,!1)};break;case GY:o={highlightedIndex:vg(-1,n.items.length-1,n.items.length,t.getItemNodeFromIndex,!1)};break;case HY:o={isOpen:!1,highlightedIndex:-1};break;case RD:o={isOpen:!1,highlightedIndex:-1};break;case KY:{let u=t.key,p=`${e.inputValue}${u}`,h=J7e({keysSoFar:p,highlightedIndex:e.highlightedIndex,items:n.items,itemToString:n.itemToString,getItemNodeFromIndex:t.getItemNodeFromIndex});o=Ze({inputValue:p},h>=0&&{highlightedIndex:h})}break;case VY:o={highlightedIndex:KS(i?5:1,e.highlightedIndex,n.items.length,t.getItemNodeFromIndex,n.circularNavigation)};break;case $Y:o={highlightedIndex:KS(i?-5:-1,e.highlightedIndex,n.items.length,t.getItemNodeFromIndex,n.circularNavigation)};break;case tZ:o={selectedItem:t.selectedItem};break;default:return fze(e,t,wze);}return Ze(Ze({},e),o)}Sze.stateChangeTypes=wze;function Sze(e){e===void 0&&(e={}),ylr(e,Sze);let t=Ze(Ze({},vlr),e),{items:r,scrollIntoView:n,environment:i,initialIsOpen:o,defaultIsOpen:u,itemToString:p,getA11ySelectionMessage:h,getA11yStatusMessage:y}=t,_=cze(t),[E,T]=uze(_lr,_,t),{isOpen:N,highlightedIndex:R,selectedItem:j,inputValue:k}=E,L=(0,_t.useRef)(null),F=(0,_t.useRef)(null),G=(0,_t.useRef)({}),ee=(0,_t.useRef)(!0),ae=(0,_t.useRef)(null),ue=sze(t),ge=(0,_t.useRef)(),Oe=(0,_t.useRef)(!0),_e=jD({state:E,props:t}),ze=(0,_t.useCallback)(ke=>G.current[ue.getItemId(ke)],[ue]);qD(y,[N,R,k,r],Ze({isInitialMount:Oe.current,previousResultCount:ge.current,items:r,environment:i,itemToString:p},E)),qD(h,[j],Ze({isInitialMount:Oe.current,previousResultCount:ge.current,items:r,environment:i,itemToString:p},E));let We=pze({menuElement:F.current,highlightedIndex:R,isOpen:N,itemRefs:G,scrollIntoView:n,getItemNodeFromIndex:ze});(0,_t.useEffect)(()=>(ae.current=zY(ke=>{ke({type:RY,inputValue:""})},500),()=>{ae.current.cancel()}),[]),(0,_t.useEffect)(()=>{k&&ae.current(T)},[T,k]),UY({isInitialMount:Oe.current,props:t,state:E}),(0,_t.useEffect)(()=>{if(Oe.current){(o||u||N)&&F.current&&F.current.focus();return}if(N){F.current&&F.current.focus();return}i.document.activeElement===F.current&&L.current&&(ee.current=!1,L.current.focus())},[N]),(0,_t.useEffect)(()=>{Oe.current||(ge.current=r.length)});let $e=dze(N,[F,L],i,()=>{T({type:RD})}),qe=BY("getMenuProps","getToggleButtonProps");(0,_t.useEffect)(()=>{Oe.current=!1},[]),(0,_t.useEffect)(()=>{N||(G.current={})},[N]);let Je=(0,_t.useMemo)(()=>({ArrowDown(ke){ke.preventDefault(),T({type:QY,getItemNodeFromIndex:ze,shiftKey:ke.shiftKey})},ArrowUp(ke){ke.preventDefault(),T({type:JY,getItemNodeFromIndex:ze,shiftKey:ke.shiftKey})}}),[T,ze]),dt=(0,_t.useMemo)(()=>({ArrowDown(ke){ke.preventDefault(),T({type:VY,getItemNodeFromIndex:ze,shiftKey:ke.shiftKey})},ArrowUp(ke){ke.preventDefault(),T({type:$Y,getItemNodeFromIndex:ze,shiftKey:ke.shiftKey})},Home(ke){ke.preventDefault(),T({type:WY,getItemNodeFromIndex:ze})},End(ke){ke.preventDefault(),T({type:GY,getItemNodeFromIndex:ze})},Escape(){T({type:HY})},Enter(ke){ke.preventDefault(),T({type:YY})}," "(ke){ke.preventDefault(),T({type:ZY})}}),[T,ze]),Ue=(0,_t.useCallback)(()=>{T({type:vze})},[T]),Re=(0,_t.useCallback)(()=>{T({type:_ze})},[T]),Pe=(0,_t.useCallback)(()=>{T({type:yze})},[T]),et=(0,_t.useCallback)(ke=>{T({type:bze,highlightedIndex:ke})},[T]),lt=(0,_t.useCallback)(ke=>{T({type:tZ,selectedItem:ke})},[T]),ut=(0,_t.useCallback)(()=>{T({type:xze})},[T]),Fe=(0,_t.useCallback)(ke=>{T({type:RY,inputValue:ke})},[T]),Ge=(0,_t.useCallback)(ke=>Ze({id:ue.labelId,htmlFor:ue.toggleButtonId},ke),[ue]),ot=(0,_t.useCallback)(function(ke,Te){let Wt=ke===void 0?{}:ke,{onMouseLeave:Qe,refKey:Ye="ref",onKeyDown:Ct,onBlur:yt,ref:Nt}=Wt,we=Rn(Wt,["onMouseLeave","refKey","onKeyDown","onBlur","ref"]),{suppressRefError:bt=!1}=Te===void 0?{}:Te,Ft=_e.current.state,vt=hr=>{let Gr=ZS(hr);Gr&&dt[Gr]?dt[Gr](hr):Q7e(Gr)&&T({type:KY,key:Gr,getItemNodeFromIndex:ze})},Yt=()=>{if(ee.current===!1){ee.current=!0;return}!$e.current.isMouseDown&&T({type:RD})},Or=()=>{T({type:hze})};return qe("getMenuProps",bt,Ye,F),Ze(xr(Ze({[Ye]:Fc(Nt,hr=>{F.current=hr}),id:ue.menuId,role:"listbox","aria-labelledby":ue.labelId,tabIndex:-1},Ft.isOpen&&Ft.highlightedIndex>-1&&{"aria-activedescendant":ue.getItemId(Ft.highlightedIndex)}),{onMouseLeave:co(Qe,Or),onKeyDown:co(Ct,vt),onBlur:co(yt,Yt)}),we)},[T,_e,dt,$e,qe,ue,ze]),De=(0,_t.useCallback)(function(ke,Te){let Yt=ke===void 0?{}:ke,{onClick:Qe,onKeyDown:Ye,refKey:Ct="ref",ref:yt}=Yt,Nt=Rn(Yt,["onClick","onKeyDown","refKey","ref"]),{suppressRefError:we=!1}=Te===void 0?{}:Te,bt=()=>{T({type:gze})},Ft=Or=>{let Wt=ZS(Or);Wt&&Je[Wt]?Je[Wt](Or):Q7e(Wt)&&T({type:eZ,key:Wt,getItemNodeFromIndex:ze})},vt=Ze({[Ct]:Fc(yt,Or=>{L.current=Or}),id:ue.toggleButtonId,"aria-haspopup":"listbox","aria-expanded":_e.current.state.isOpen,"aria-labelledby":`${ue.labelId} ${ue.toggleButtonId}`},Nt);return Nt.disabled||(vt.onClick=co(Qe,bt),vt.onKeyDown=co(Ye,Ft)),qe("getToggleButtonProps",we,Ct,L),vt},[T,_e,Je,qe,ue,ze]),he=(0,_t.useCallback)(function(ke){let Gr=ke===void 0?{}:ke,{item:Te,index:Qe,onMouseMove:Ye,onClick:Ct,refKey:yt="ref",ref:Nt,disabled:we}=Gr,bt=Rn(Gr,["item","index","onMouseMove","onClick","refKey","ref","disabled"]),{state:Ft,props:vt}=_e.current,Yt=()=>{Qe!==Ft.highlightedIndex&&(We.current=!1,T({type:mze,index:Qe,disabled:we}))},Or=()=>{T({type:XY,index:Qe})},Wt=jY(Qe,Te,vt.items);if(Wt<0)throw new Error("Pass either item or item index in getItemProps!");let hr=Ze({disabled:we,role:"option","aria-selected":`${Wt===Ft.highlightedIndex}`,id:ue.getItemId(Wt),[yt]:Fc(Nt,Yr=>{Yr&&(G.current[ue.getItemId(Wt)]=Yr)})},bt);return we||(hr.onClick=co(Ct,Or)),hr.onMouseMove=co(Ye,Yt),hr},[T,_e,We,ue]);return{getToggleButtonProps:De,getLabelProps:Ge,getMenuProps:ot,getItemProps:he,toggleMenu:Ue,openMenu:Pe,closeMenu:Re,setHighlightedIndex:et,selectItem:lt,reset:ut,setInputValue:Fe,highlightedIndex:R,isOpen:N,selectedItem:j,inputValue:k}}var rZ=0,nZ=1,iZ=2,oZ=3,aZ=4,sZ=5,lZ=6,zD=7,Ize=8,Eze=9,uZ=10,Tze=11,Mze=12,Cze=13,Aze=14,Pze=15,cZ=16,Oze=17,Dze=18,dZ=19,Nze=Object.freeze({__proto__:null,InputKeyDownArrowDown:rZ,InputKeyDownArrowUp:nZ,InputKeyDownEscape:iZ,InputKeyDownHome:oZ,InputKeyDownEnd:aZ,InputKeyDownEnter:sZ,InputChange:lZ,InputBlur:zD,MenuMouseLeave:Ize,ItemMouseMove:Eze,ItemClick:uZ,ToggleButtonClick:Tze,FunctionToggleMenu:Mze,FunctionOpenMenu:Cze,FunctionCloseMenu:Aze,FunctionSetHighlightedIndex:Pze,FunctionSelectItem:cZ,FunctionSetInputValue:Oze,FunctionReset:Dze,ControlledPropUpdatedSelectedItem:dZ});function blr(e){let t=cze(e),{selectedItem:r}=t,{inputValue:n}=t;return n===""&&r&&e.defaultInputValue===void 0&&e.initialInputValue===void 0&&e.inputValue===void 0&&(n=e.itemToString(r)),xr(Ze({},t),{inputValue:n})}var Xtn={items:Mt.default.array.isRequired,itemToString:Mt.default.func,getA11yStatusMessage:Mt.default.func,getA11ySelectionMessage:Mt.default.func,circularNavigation:Mt.default.bool,highlightedIndex:Mt.default.number,defaultHighlightedIndex:Mt.default.number,initialHighlightedIndex:Mt.default.number,isOpen:Mt.default.bool,defaultIsOpen:Mt.default.bool,initialIsOpen:Mt.default.bool,selectedItem:Mt.default.any,initialSelectedItem:Mt.default.any,defaultSelectedItem:Mt.default.any,inputValue:Mt.default.string,defaultInputValue:Mt.default.string,initialInputValue:Mt.default.string,id:Mt.default.string,labelId:Mt.default.string,menuId:Mt.default.string,getItemId:Mt.default.func,inputId:Mt.default.string,toggleButtonId:Mt.default.string,stateReducer:Mt.default.func,onSelectedItemChange:Mt.default.func,onHighlightedIndexChange:Mt.default.func,onStateChange:Mt.default.func,onIsOpenChange:Mt.default.func,onInputValueChange:Mt.default.func,environment:Mt.default.shape({addEventListener:Mt.default.func,removeEventListener:Mt.default.func,document:Mt.default.shape({getElementById:Mt.default.func,activeElement:Mt.default.any,body:Mt.default.any})})};function xlr(e,t,r){let n=(0,_t.useRef)(),[i,o]=lze(e,t,r);return(0,_t.useEffect)(()=>{nze(r,"selectedItem")&&(n.current!==r.selectedItem&&o({type:dZ,inputValue:r.itemToString(r.selectedItem)}),n.current=i.selectedItem===n.current?r.selectedItem:i.selectedItem)}),[LD(i,r),o]}var wlr=XS,Slr=xr(Ze({},YS),{getA11yStatusMessage:slr,circularNavigation:!0});function Ilr(e,t){let{type:r,props:n,shiftKey:i}=t,o;switch(r){case uZ:o={isOpen:ts(n,"isOpen"),highlightedIndex:ts(n,"highlightedIndex"),selectedItem:n.items[t.index],inputValue:n.itemToString(n.items[t.index])};break;case rZ:e.isOpen?o={highlightedIndex:KS(i?5:1,e.highlightedIndex,n.items.length,t.getItemNodeFromIndex,n.circularNavigation)}:o={highlightedIndex:_1(n,e,1,t.getItemNodeFromIndex),isOpen:n.items.length>=0};break;case nZ:e.isOpen?o={highlightedIndex:KS(i?-5:-1,e.highlightedIndex,n.items.length,t.getItemNodeFromIndex,n.circularNavigation)}:o={highlightedIndex:_1(n,e,-1,t.getItemNodeFromIndex),isOpen:n.items.length>=0};break;case sZ:o=Ze({},e.isOpen&&e.highlightedIndex>=0&&{selectedItem:n.items[e.highlightedIndex],isOpen:ts(n,"isOpen"),highlightedIndex:ts(n,"highlightedIndex"),inputValue:n.itemToString(n.items[e.highlightedIndex])});break;case iZ:o=Ze({isOpen:!1,highlightedIndex:-1},!e.isOpen&&{selectedItem:null,inputValue:""});break;case oZ:o={highlightedIndex:vg(1,0,n.items.length,t.getItemNodeFromIndex,!1)};break;case aZ:o={highlightedIndex:vg(-1,n.items.length-1,n.items.length,t.getItemNodeFromIndex,!1)};break;case zD:o=Ze({isOpen:!1,highlightedIndex:-1},e.highlightedIndex>=0&&t.selectItem&&{selectedItem:n.items[e.highlightedIndex],inputValue:n.itemToString(n.items[e.highlightedIndex])});break;case lZ:o={isOpen:!0,highlightedIndex:ts(n,"highlightedIndex"),inputValue:t.inputValue};break;case cZ:o={selectedItem:t.selectedItem,inputValue:n.itemToString(t.selectedItem)};break;case dZ:o={inputValue:t.inputValue};break;default:return fze(e,t,Nze);}return Ze(Ze({},e),o)}FD.stateChangeTypes=Nze;function FD(e){e===void 0&&(e={}),wlr(e,FD);let t=Ze(Ze({},Slr),e),{initialIsOpen:r,defaultIsOpen:n,items:i,scrollIntoView:o,environment:u,getA11yStatusMessage:p,getA11ySelectionMessage:h,itemToString:y}=t,_=blr(t),[E,T]=xlr(Ilr,_,t),{isOpen:N,highlightedIndex:R,selectedItem:j,inputValue:k}=E,L=(0,_t.useRef)(null),F=(0,_t.useRef)({}),G=(0,_t.useRef)(null),ee=(0,_t.useRef)(null),ae=(0,_t.useRef)(null),ue=(0,_t.useRef)(!0),ge=sze(t),Oe=(0,_t.useRef)(),_e=jD({state:E,props:t}),ze=(0,_t.useCallback)(Te=>F.current[ge.getItemId(Te)],[ge]);qD(p,[N,R,k,i],Ze({isInitialMount:ue.current,previousResultCount:Oe.current,items:i,environment:u,itemToString:y},E)),qD(h,[j],Ze({isInitialMount:ue.current,previousResultCount:Oe.current,items:i,environment:u,itemToString:y},E));let We=pze({menuElement:L.current,highlightedIndex:R,isOpen:N,itemRefs:F,scrollIntoView:o,getItemNodeFromIndex:ze});UY({isInitialMount:ue.current,props:t,state:E}),(0,_t.useEffect)(()=>{(r||n||N)&&G.current&&G.current.focus()},[]),(0,_t.useEffect)(()=>{ue.current||(Oe.current=i.length)});let $e=dze(N,[ae,L,ee],u,()=>{T({type:zD,selectItem:!1})}),qe=BY("getInputProps","getComboboxProps","getMenuProps");(0,_t.useEffect)(()=>{ue.current=!1},[]),(0,_t.useEffect)(()=>{N||(F.current={})},[N]);let Je=(0,_t.useMemo)(()=>({ArrowDown(Te){Te.preventDefault(),T({type:rZ,shiftKey:Te.shiftKey,getItemNodeFromIndex:ze})},ArrowUp(Te){Te.preventDefault(),T({type:nZ,shiftKey:Te.shiftKey,getItemNodeFromIndex:ze})},Home(Te){_e.current.state.isOpen&&(Te.preventDefault(),T({type:oZ,getItemNodeFromIndex:ze}))},End(Te){_e.current.state.isOpen&&(Te.preventDefault(),T({type:aZ,getItemNodeFromIndex:ze}))},Escape(Te){let Qe=_e.current.state;(Qe.isOpen||Qe.inputValue||Qe.selectedItem||Qe.highlightedIndex>-1)&&(Te.preventDefault(),T({type:iZ}))},Enter(Te){let Qe=_e.current.state;!Qe.isOpen||Qe.highlightedIndex<0||Te.which===229||(Te.preventDefault(),T({type:sZ,getItemNodeFromIndex:ze}))}}),[T,_e,ze]),dt=(0,_t.useCallback)(Te=>Ze({id:ge.labelId,htmlFor:ge.inputId},Te),[ge]),Ue=(0,_t.useCallback)(function(Te,Qe){let bt=Te===void 0?{}:Te,{onMouseLeave:Ye,refKey:Ct="ref",ref:yt}=bt,Nt=Rn(bt,["onMouseLeave","refKey","ref"]),{suppressRefError:we=!1}=Qe===void 0?{}:Qe;return qe("getMenuProps",we,Ct,L),Ze({[Ct]:Fc(yt,Ft=>{L.current=Ft}),id:ge.menuId,role:"listbox","aria-labelledby":ge.labelId,onMouseLeave:co(Ye,()=>{T({type:Ize})})},Nt)},[T,qe,ge]),Re=(0,_t.useCallback)(function(Te){let fi=Te===void 0?{}:Te,{item:Qe,index:Ye,refKey:Ct="ref",ref:yt,onMouseMove:Nt,onMouseDown:we,onClick:bt,onPress:Ft,disabled:vt}=fi,Yt=Rn(fi,["item","index","refKey","ref","onMouseMove","onMouseDown","onClick","onPress","disabled"]),{props:Or,state:Wt}=_e.current,hr=jY(Ye,Qe,Or.items);if(hr<0)throw new Error("Pass either item or item index in getItemProps!");let Gr="onClick",Yr=bt,ir=()=>{Ye!==Wt.highlightedIndex&&(We.current=!1,T({type:Eze,index:Ye,disabled:vt}))},tn=()=>{T({type:uZ,index:Ye})},at=wn=>wn.preventDefault();return Ze(xr(Ze({[Ct]:Fc(yt,wn=>{wn&&(F.current[ge.getItemId(hr)]=wn)}),disabled:vt,role:"option","aria-selected":`${hr===Wt.highlightedIndex}`,id:ge.getItemId(hr)},!vt&&{[Gr]:co(Yr,tn)}),{onMouseMove:co(Nt,ir),onMouseDown:co(we,at)}),Yt)},[T,_e,We,ge]),Pe=(0,_t.useCallback)(function(Te){let bt=Te===void 0?{}:Te,{onClick:Qe,onPress:Ye,refKey:Ct="ref",ref:yt}=bt,Nt=Rn(bt,["onClick","onPress","refKey","ref"]),we=()=>{T({type:Tze}),!_e.current.state.isOpen&&G.current&&G.current.focus()};return Ze(Ze({[Ct]:Fc(yt,Ft=>{ee.current=Ft}),id:ge.toggleButtonId,tabIndex:-1},!Nt.disabled&&{onClick:co(Qe,we)}),Nt)},[T,_e,ge]),et=(0,_t.useCallback)(function(Te,Qe){let tn=Te===void 0?{}:Te,{onKeyDown:Ye,onChange:Ct,onInput:yt,onBlur:Nt,onChangeText:we,refKey:bt="ref",ref:Ft}=tn,vt=Rn(tn,["onKeyDown","onChange","onInput","onBlur","onChangeText","refKey","ref"]),{suppressRefError:Yt=!1}=Qe===void 0?{}:Qe;qe("getInputProps",Yt,bt,G);let Or=_e.current.state,Wt=at=>{let fi=ZS(at);fi&&Je[fi]&&Je[fi](at)},hr=at=>{T({type:lZ,inputValue:at.target.value})},Gr=()=>{Or.isOpen&&!$e.current.isMouseDown&&T({type:zD,selectItem:!0})},Yr="onChange",ir={};return vt.disabled||(ir={[Yr]:co(Ct,yt,hr),onKeyDown:co(Ye,Wt),onBlur:co(Nt,Gr)}),Ze(Ze(xr(Ze({[bt]:Fc(Ft,at=>{G.current=at}),id:ge.inputId,"aria-autocomplete":"list","aria-controls":ge.menuId},Or.isOpen&&Or.highlightedIndex>-1&&{"aria-activedescendant":ge.getItemId(Or.highlightedIndex)}),{"aria-labelledby":ge.labelId,autoComplete:"off",value:Or.inputValue}),ir),vt)},[T,Je,_e,$e,qe,ge]),lt=(0,_t.useCallback)(function(Te,Qe){let we=Te===void 0?{}:Te,{refKey:Ye="ref",ref:Ct}=we,yt=Rn(we,["refKey","ref"]),{suppressRefError:Nt=!1}=Qe===void 0?{}:Qe;return qe("getComboboxProps",Nt,Ye,ae),Ze({[Ye]:Fc(Ct,bt=>{ae.current=bt}),role:"combobox","aria-haspopup":"listbox","aria-owns":ge.menuId,"aria-expanded":_e.current.state.isOpen},yt)},[_e,qe,ge]),ut=(0,_t.useCallback)(()=>{T({type:Mze})},[T]),Fe=(0,_t.useCallback)(()=>{T({type:Aze})},[T]),Ge=(0,_t.useCallback)(()=>{T({type:Cze})},[T]),ot=(0,_t.useCallback)(Te=>{T({type:Pze,highlightedIndex:Te})},[T]),De=(0,_t.useCallback)(Te=>{T({type:cZ,selectedItem:Te})},[T]),he=(0,_t.useCallback)(Te=>{T({type:Oze,inputValue:Te})},[T]),ke=(0,_t.useCallback)(()=>{T({type:Dze})},[T]);return{getItemProps:Re,getLabelProps:dt,getMenuProps:Ue,getInputProps:et,getComboboxProps:lt,getToggleButtonProps:Pe,toggleMenu:ut,openMenu:Ge,closeMenu:Fe,setHighlightedIndex:ot,setInputValue:he,selectItem:De,reset:ke,highlightedIndex:R,isOpen:N,selectedItem:j,inputValue:k}}var kze={activeIndex:-1,selectedItems:[]};function eze(e,t){return GS(e,t,kze)}function tze(e,t){return ts(e,t,kze)}function Elr(e){let t=eze(e,"activeIndex"),r=eze(e,"selectedItems");return{activeIndex:t,selectedItems:r}}function rze(e){if(e.shiftKey||e.metaKey||e.ctrlKey||e.altKey)return!1;let t=e.target;return!(t instanceof HTMLInputElement&&t.value!==""&&(t.selectionStart!==0||t.selectionEnd!==0))}function Tlr(e){let{removedSelectedItem:t,itemToString:r}=e;return`${r(t)} has been removed.`}var Qtn={selectedItems:Mt.default.array,initialSelectedItems:Mt.default.array,defaultSelectedItems:Mt.default.array,itemToString:Mt.default.func,getA11yRemovalMessage:Mt.default.func,stateReducer:Mt.default.func,activeIndex:Mt.default.number,initialActiveIndex:Mt.default.number,defaultActiveIndex:Mt.default.number,onActiveIndexChange:Mt.default.func,onSelectedItemsChange:Mt.default.func,keyNavigationNext:Mt.default.string,keyNavigationPrevious:Mt.default.string,environment:Mt.default.shape({addEventListener:Mt.default.func,removeEventListener:Mt.default.func,document:Mt.default.shape({getElementById:Mt.default.func,activeElement:Mt.default.any,body:Mt.default.any})})},Mlr={itemToString:YS.itemToString,stateReducer:YS.stateReducer,environment:YS.environment,getA11yRemovalMessage:Tlr,keyNavigationNext:"ArrowRight",keyNavigationPrevious:"ArrowLeft"},Clr=XS,pZ=0,fZ=1,hZ=2,mZ=3,gZ=4,vZ=5,yZ=6,_Z=7,bZ=8,xZ=9,wZ=10,SZ=11,IZ=12,Alr=Object.freeze({__proto__:null,SelectedItemClick:pZ,SelectedItemKeyDownDelete:fZ,SelectedItemKeyDownBackspace:hZ,SelectedItemKeyDownNavigationNext:mZ,SelectedItemKeyDownNavigationPrevious:gZ,DropdownKeyDownNavigationPrevious:vZ,DropdownKeyDownBackspace:yZ,DropdownClick:_Z,FunctionAddSelectedItem:bZ,FunctionRemoveSelectedItem:xZ,FunctionSetSelectedItems:wZ,FunctionSetActiveIndex:SZ,FunctionReset:IZ});function Plr(e,t){let{type:r,index:n,props:i,selectedItem:o}=t,{activeIndex:u,selectedItems:p}=e,h;switch(r){case pZ:h={activeIndex:n};break;case gZ:h={activeIndex:u-1<0?0:u-1};break;case mZ:h={activeIndex:u+1>=p.length?-1:u+1};break;case hZ:case fZ:{let y=u;p.length===1?y=-1:u===p.length-1&&(y=p.length-2),h={selectedItems:[...p.slice(0,u),...p.slice(u+1)],activeIndex:y};break}case vZ:h={activeIndex:p.length-1};break;case yZ:h={selectedItems:p.slice(0,p.length-1)};break;case bZ:h={selectedItems:[...p,o]};break;case _Z:h={activeIndex:-1};break;case xZ:{let y=u,_=p.indexOf(o);_>=0&&(p.length===1?y=-1:_===p.length-1&&(y=p.length-2),h={selectedItems:[...p.slice(0,_),...p.slice(_+1)],activeIndex:y});break}case wZ:{let{selectedItems:y}=t;h={selectedItems:y};break}case SZ:{let{activeIndex:y}=t;h={activeIndex:y};break}case IZ:h={activeIndex:tze(i,"activeIndex"),selectedItems:tze(i,"selectedItems")};break;default:throw new Error("Reducer called without proper action type.");}return Ze(Ze({},e),h)}Lze.stateChangeTypes=Alr;function Lze(e){e===void 0&&(e={}),Clr(e,Lze);let t=Ze(Ze({},Mlr),e),{getA11yRemovalMessage:r,itemToString:n,environment:i,keyNavigationNext:o,keyNavigationPrevious:u}=t,[p,h]=uze(Plr,Elr(t),t),{activeIndex:y,selectedItems:_}=p,E=(0,_t.useRef)(!0),T=(0,_t.useRef)(null),N=(0,_t.useRef)(_),R=(0,_t.useRef)();R.current=[];let j=jD({state:p,props:t});(0,_t.useEffect)(()=>{if(!E.current){if(_.length<N.current.length){let ze=N.current.find(We=>_.indexOf(We)<0);ize(r({itemToString:n,resultCount:_.length,removedSelectedItem:ze,activeIndex:y,activeSelectedItem:_[y]}),i.document)}N.current=_}},[_.length]),(0,_t.useEffect)(()=>{E.current||(y===-1&&T.current?T.current.focus():R.current[y]&&R.current[y].focus())},[y]),UY({isInitialMount:E.current,props:t,state:p});let k=BY("getDropdownProps");(0,_t.useEffect)(()=>{E.current=!1},[]);let L=(0,_t.useMemo)(()=>({[u](){h({type:gZ})},[o](){h({type:mZ})},Delete(){h({type:fZ})},Backspace(){h({type:hZ})}}),[h,o,u]),F=(0,_t.useMemo)(()=>({[u](ze){rze(ze)&&h({type:vZ})},Backspace(ze){rze(ze)&&h({type:yZ})}}),[h,u]),G=(0,_t.useCallback)(function(ze){let Fe=ze===void 0?{}:ze,{refKey:We="ref",ref:$e,onClick:qe,onKeyDown:Je,selectedItem:dt,index:Ue}=Fe,Re=Rn(Fe,["refKey","ref","onClick","onKeyDown","selectedItem","index"]),{state:Pe}=j.current;if(jY(Ue,dt,Pe.selectedItems)<0)throw new Error("Pass either selectedItem or index in getSelectedItemProps!");let lt=()=>{h({type:pZ,index:Ue})},ut=Ge=>{let ot=ZS(Ge);ot&&L[ot]&&L[ot](Ge)};return Ze({[We]:Fc($e,Ge=>{Ge&&R.current.push(Ge)}),tabIndex:Ue===Pe.activeIndex?0:-1,onClick:co(qe,lt),onKeyDown:co(Je,ut)},Re)},[h,j,L]),ee=(0,_t.useCallback)(function(ze,We){let ut=ze===void 0?{}:ze,{refKey:$e="ref",ref:qe,onKeyDown:Je,onClick:dt,preventKeyAction:Ue=!1}=ut,Re=Rn(ut,["refKey","ref","onKeyDown","onClick","preventKeyAction"]),{suppressRefError:Pe=!1}=We===void 0?{}:We;k("getDropdownProps",Pe,$e,T);let et=Fe=>{let Ge=ZS(Fe);Ge&&F[Ge]&&F[Ge](Fe)},lt=()=>{h({type:_Z})};return Ze(Ze({[$e]:Fc(qe,Fe=>{Fe&&(T.current=Fe)})},!Ue&&{onKeyDown:co(Je,et),onClick:co(dt,lt)}),Re)},[h,F,k]),ae=(0,_t.useCallback)(ze=>{h({type:bZ,selectedItem:ze})},[h]),ue=(0,_t.useCallback)(ze=>{h({type:xZ,selectedItem:ze})},[h]),ge=(0,_t.useCallback)(ze=>{h({type:wZ,selectedItems:ze})},[h]),Oe=(0,_t.useCallback)(ze=>{h({type:SZ,activeIndex:ze})},[h]),_e=(0,_t.useCallback)(()=>{h({type:IZ})},[h]);return{getSelectedItemProps:G,getDropdownProps:ee,addSelectedItem:ae,removeSelectedItem:ue,setSelectedItems:ge,setActiveIndex:Oe,reset:_e,selectedItems:_,activeIndex:y}}var ph=re(Gt(),1);function EZ({buttonProps:e,fetchInputItems:t,label:r,itemToString:n,inputProps:i,onSelectedItemChange:o,timeout:u=300}){let[p,h]=(0,rs.useState)([]),[y,_]=(0,rs.useState)(void 0),E=(0,rs.useRef)(),T=(0,rs.useRef)(null),N=Je=>{clearTimeout(T.current),T.current=setTimeout(()=>{t(Je).then(dt=>h(dt))},u)},R=({inputValue:Je})=>{y!==void 0&&_(void 0),N(Je)},j=({selectedItem:Je})=>{o!==void 0&&o(Je),_(Je)},{isOpen:k,getToggleButtonProps:L,getLabelProps:F,getMenuProps:G,getInputProps:ee,getComboboxProps:ae,getItemProps:ue,highlightedIndex:ge}=FD({items:p,itemToString:n,onInputValueChange:R,onSelectedItemChange:j}),$e=e!=null?e:{},{onClick:Oe}=$e,_e=Rn($e,["onClick"]),qe=ee(),{ref:ze}=qe,We=Rn(qe,["ref"]);return rs.default.createElement("div",{className:"vkf-autocomplete-container"},rs.default.createElement("label",xr(Ze({},F()),{id:We["aria-labelledby"],className:"visually-hidden"}),r!==void 0?r:i.placeholder),rs.default.createElement("div",Ze({className:"form-group"},ae()),rs.default.createElement("input",Ze(xr(Ze({},We),{ref:Je=>{ze(Je),E.current=Je},type:"text"}),i)),rs.default.createElement("button",Ze(Ze(xr(Ze({type:"button"},L()),{"aria-label":"toggle menu"}),_e),Oe!==void 0?{onClick:()=>{Oe(y,E.current!==null?E.current.value:"")}}:{}),"\u2193")),rs.default.createElement("div",{className:"autocomplete-dropdown"},rs.default.createElement("ul",xr(Ze({className:"autocomplete-result-list"},G()),{id:We["aria-controls"]}),k&&p.map((Je,dt)=>rs.default.createElement("li",Ze({className:vr("ui-menu-item",ge===dt&&"highlighted",y===Je&&"selected"),key:`${Je.label}${dt}`},ue({item:Je,index:dt})),Je.label)))))}EZ.propTypes={buttonProps:ph.default.object,fetchInputItems:ph.default.func,label:ph.default.string,inputProps:ph.default.object,itemToString:ph.default.func,onSelectedItemChange:ph.default.func,timeout:ph.default.number};var qze=re(Um(),1),TZ=(e,t,r)=>{let n=e+"?format=json&q="+t;return qze.default.get(n).then(i=>{let u=i.data.map(p=>({label:p.display_name,value:p.display_name,lonlat:{x:parseFloat(p.lon),y:parseFloat(p.lat)},type:p.type}));return r!==void 0&&r(),u})};var Olr=e=>e?e.label:"",Rze=e=>{let{onSelectPosition:t,searchUrl:r}=e,[n,i]=(0,yg.useState)(!1),o=Ci(Ma),u=(0,yg.useCallback)(h=>(i(!0),TZ(r,h,()=>{i(!1)})),[r]),p=(h,y)=>{h!==void 0?t(h):TZ(r,y).then(_=>{if(_.length>0)t(_[0]);else throw new Error(it("placenamesearch-unknown-placename"))}).catch(()=>{o({id:"placenamesearch",type:"warning",text:it("placenamesearch-unknown-placename")})})};return yg.default.createElement("div",{className:"gazetteersearch-container"},yg.default.createElement(EZ,{buttonProps:{className:"form-control gazetteersearch-submit",onClick:p,"aria-label":it("placenamesearch-submit"),title:it("placenamesearch-submit")},fetchInputItems:u,inputProps:{className:`form-control gazetteersearch-input ${n?"loading":""}`,placeholder:it("placenamesearch-placeholder")},itemToString:Olr,onSelectedItemChange:p}))};Rze.propTypes={onSelectPosition:MZ.default.func.isRequired,searchUrl:MZ.default.string.isRequired};var zze=Rze;var jze=re(Gt(),1),Fze=({searchUrl:e})=>{let t=mr(ni),r=(0,BD.useCallback)(n=>{if(t){let i=[n.lonlat.x,n.lonlat.y];t.flyTo({center:i,zoom:12})}},[t]);return BD.default.createElement(zze,{onSelectPosition:r,searchUrl:e})};Fze.propTypes={searchUrl:jze.default.string.isRequired};var Bze=Fze;var Uze=({customQuery:e,MapSearchListItemComponent:t,mosaicMode:r})=>{let n=mr(V3e);return fh.default.createElement("div",{className:vr("vkf-spatialsearch-root",!n&&"in")},fh.default.createElement("div",{className:"spatialsearch-inner-container"},fh.default.createElement("div",{className:"spatialsearch-content-panel"},fh.default.createElement("div",{className:"body-container"},fh.default.createElement(Bze,{searchUrl:Ar.getNominatimUrl()}),fh.default.createElement(z7e,null),fh.default.createElement(f8e,{customQuery:e,MapSearchListItemComponent:t,mosaicMode:r})))))};Uze.propTypes={customQuery:UD.default.array,MapSearchListItemComponent:UD.default.elementType,mosaicMode:UD.default.bool};var Vze=Uze;var li=re(Be(),1);var Bc=re(Be(),1);var x1=re(Gt(),1);var hh=re(Be(),1);var zu=re(Be(),1),Fs=re(Gt(),1);var QS=o1;var CZ={NONE:"control-none-gcp",ADD:"control-add-gcp",MOVE:"control-move-gcp",DEL:"control-del-gcp"},$ze=e=>{let{id:t,activeControl:r,className:n="",parentIconClassName:i,defaultTitle:o="unknown",disableActiveBehavior:u=!1,IconComponent:p,options:h=[{id:CZ.ADD,title:it("georef-setgcp"),iconClassName:"icon-point-add"},{id:CZ.MOVE,title:it("georef-movegcp"),iconClassName:"icon-point-move"},{id:CZ.DEL,title:it("georef-delgcp"),iconClassName:"icon-point-remove"}],onClick:y}=e,_=h.find(T=>T.id===r),E=T=>{y(T)};return zu.default.createElement("div",{className:vr("vkf-control-dropdown",_&&!u?"active":"",n)},zu.default.createElement(E2,{id:t,className:"btn-dropdown-vkf-control",bsStyle:"default",key:_?_.id:null},zu.default.createElement(E2.Toggle,null,p===void 0?zu.default.createElement(QS,{name:i,size:24}):zu.default.createElement(p,{glyph:i}),_?_.title:o),zu.default.createElement(E2.Menu,null,h.map(T=>zu.default.createElement(MH,{key:T.id,eventKey:T.id,onClick:()=>E(T.id),className:vr("control-option",T.id)},p===void 0?zu.default.createElement(QS,{name:`${T.iconClassName}`,size:24}):zu.default.createElement(p,{glyph:T.iconClassName}),zu.default.createElement("span",{className:"text"},T.title))))))};$ze.propTypes={activeControl:Fs.default.string,className:Fs.default.string,defaultTitle:Fs.default.string,disableActiveBehavior:Fs.default.bool,IconComponent:Fs.default.elementType,id:Fs.default.string,parentIconClassName:Fs.default.string,options:Fs.default.arrayOf(Fs.default.shape({id:Fs.default.string.isRequired,title:Fs.default.string.isRequired,iconClassName:Fs.default.string.isRequired})),onClick:Fs.default.func.isRequired};var Hze=$ze;var Wze=Hze;var Gze=e=>gi(void 0,null,function*(){let t=Ar.getGeoreferenceApiClient(),r=`/mosaic_maps/${e}`,n=yield t.delete(r);if(n.status===200)return n.data;throw console.error("Something went wrong while trying to delete the mosaic map."),new Error("Something went wrong while trying to delete the mosaic map.")}),Yze=()=>gi(void 0,null,function*(){let r=yield Ar.getGeoreferenceApiClient().get("/mosaic_maps/");if(r.status===200)return r.data.map(CO);throw console.error("Something went wrong while trying to fetch the mosaic maps."),new Error("Something went wrong while trying to fetch the mosaic maps.")}),Zze=e=>gi(void 0,null,function*(){let t=Ar.getGeoreferenceApiClient(),r=`/mosaic_maps/${e}/refresh`,n=yield t.post(r);if(n.status===200)return n.data;throw console.error("Something went wrong while trying to refresh the mosaic maps overview."),new Error("Something went wrong while trying to refresh the mosaic maps overview.")}),Kze=e=>gi(void 0,null,function*(){if(e.id===void 0||e.id===po){let t=e,{id:r}=t,n=Rn(t,["id"]);return yield Dlr(n)}else return yield Nlr(e)}),Dlr=e=>gi(void 0,null,function*(){let t=Ar.getGeoreferenceApiClient(),r="/mosaic_maps/",n=AG(e),i=yield t.post(r,n);if(i.status===200)return CO(i.data);throw console.error("Something went wrong while trying to create the mosaic map."),new Error("Something went wrong while trying to create the mosaic map.")}),Nlr=e=>gi(void 0,null,function*(){let t=Ar.getGeoreferenceApiClient(),{id:r}=e,n=`/mosaic_maps/${r}`,i=AG(e),o=yield t.post(n,i);if(o.status===200)return CO(o.data);throw console.error("Something went wrong while trying to update the mosaic map."),new Error("Something went wrong while trying to update the mosaic map.")});var Xze=re(Um(),1);function Qze(e){return gi(this,null,function*(){let t=Ar.getSettings().API_SEARCH;if(t===void 0)throw new Error("The url for the search endpoint is not set.");let r=yield Xze.default.get(`${t}/_doc/${e}`);if(r.status===200)return r.data._source;console.error("Something went wrong while trying to fetch search document.")})}var Jze=e=>Qze(e).then(t=>CG(e,t)).catch(()=>{let t=new rg({metadata:{id:e,has_georeference:!1}});return t.setIsMissing(!0),t});var VD=re(Be(),1);var ju="mosaic-map-overlay-source",klr="mosaic-map-overlay-fill",eje="mosaic-map-overlay-outline",$D=e=>{e.moveLayer(eje)},b1=e=>{let t={type:"FeatureCollection",features:[]},r=e.getSource(ju);r&&r.setData(t)},tje=()=>VD.default.createElement(VD.default.Fragment,null,VD.default.createElement(sP,{sourceId:ju,fillId:klr,outlineId:eje}));tje.propTypes={};var rje=tje;var po="create-new-mosaic-map",Llr=()=>{let[e,t]=In(mh),[r,n]=(0,hh.useState)(e===La.DOWNLOADING_LIST),i=mr(ni),[o,u]=hh.default.useState([]),[p,h]=In(iu),y=Ci(Bs),_=Ci(Ma),E=()=>{n(!0),Yze().then(N=>{u(N),n(!1),t(R=>R===La.DOWNLOADING_LIST?La.NOT_LOADING:R)}).catch(N=>{console.error(N),_({id:"mosaic-map-failed-load-list",type:"danger",text:it("mosaic-map-error-messages-failed-load-list")})})},T=N=>{var j;let R=(j=o.find(k=>k.id===N))!=null?j:{id:po};if(h(R),R.raw_map_ids!==void 0){let k=R.raw_map_ids.map(L=>Jze(L));Promise.all(k).then(L=>{i!==void 0&&WLe(i,L),y(L),L.forEach(F=>F.addToOverlay(i,ju))}).catch(L=>{console.error(L)})}else y([]),b1(i)};return(0,hh.useEffect)(()=>{e===La.DOWNLOADING_LIST&&r===!1&&E()},[e]),(0,hh.useEffect)(()=>{E()},[]),hh.default.createElement(Wze,{id:"control-toggle-transformation",activeControl:p.id,className:"control-toggle-mosaic-map",disableActiveBehavior:!0,IconComponent:ro,options:[...o.map(N=>xr(Ze({},N),{iconClassName:"th-large"})),{iconClassName:"plus",id:po,title:it("mosaic-maps-create-new")}],onClick:T,parentIconClassName:p.id===po?"plus":"th-large"})},nje=Llr;var Bs=pn({key:"mosaicMapSelectedLayersState",default:[],dangerouslyAllowMutability:!0}),Snn=pn({key:"mosaicMapGeometryLayerState",default:void 0,dangerouslyAllowMutability:!0}),iu=pn({key:"mosaicMapSelectedMosaicMapState",default:{id:po}}),La={NOT_LOADING:0,UPLOADING_CHANGES:1,DOWNLOADING_LIST:2},mh=pn({key:"mosaicMapLoadingState",default:La.NOT_LOADING});function qlr(e,t){return e.sort(function(r,n){let i=r.getMetadata(t),o=n.getMetadata(t);return typeof i=="string"&&(i=(""+i).toLowerCase()),typeof o=="string"&&(o=(""+o).toLowerCase()),i<o?-1:i>o?1:0})}var AZ=({minimumBatchSize:e=20,renderConsumer:t,sortSettings:r})=>{let{activeType:n,sortOrder:i}=r,[o,u]=(0,Bc.useState)({itemCount:10,id:Date.now()}),p=mr(Bs),h=(0,Bc.useCallback)((_,E)=>p===void 0?new Promise(T=>T([])):new Promise(T=>{let N=qlr(p.slice(_,_+E),n);i==="descending"&&N.reverse(),T(N)}),[p,i,n]),y=(0,Bc.useCallback)(()=>{u({itemCount:p.length,id:Date.now()})},[h]);return(0,Bc.useEffect)(()=>{y()},[p,n,i]),Bc.default.createElement(Bc.default.Fragment,null,t({minimumBatchSize:e,onRefresh:y,onFetchResults:h,searchResultDescriptor:o}))};AZ.propTypes={minimumBatchSize:x1.default.number,renderConsumer:x1.default.func,sortSettings:x1.default.shape({activeType:x1.default.string,sortOrder:x1.default.string})};var Zn=re(Be(),1),ou=re(Gt(),1);var JS=re(bG(),1);var ije="http://www.deutschefotothek.de/images/noimage/image120.jpg",oje=({children:e,data:t,index:r,onMouseEnter:n,onMouseLeave:i,style:o})=>{var _e;let{direction:u,maps:p}=t,h=mr(ni),[y,_]=In(Bs),[E,T]=In(Ps),N=(_e=p[r])!=null?_e:Nc,R=y.find(ze=>ze.getId()===N.getId()),[j,k]=(0,Zn.useState)(N.getMetadata(sr.thumbnailUrl)===void 0?"":N.getMetadata(sr.thumbnailUrl).replace("http:","")),L=N===Nc,F=N.isMissing(),G=R==null?void 0:R.isDisplayedInMap(h),ee=N.getMetadata(sr.mapScale)==="0"||N.getMetadata(sr.mapScale)===0?it("mapsearch-listelement-unknown"):`1:${N.getMetadata(sr.mapScale)}`,ae=parseInt(N.getMetadata(sr.timePublished),0),ue=ze=>{ze.stopPropagation(),n1(E,R)?(T($e=>$e.filter(qe=>qe.getId()!==R.getId())),R.removeMapLibreLayers(h)):i1(R).then($e=>{R.addLayerToMap(h,{sourceSettings:$e}),T(qe=>[...qe,R])})},ge=()=>{j!==""&&j!==ije&&k(ije)},Oe=ze=>{ze.stopPropagation(),_(We=>We.filter($e=>$e.getId()!==N.getId())),R.removeFromOverlay(h,ju)};return(0,Zn.useEffect)(()=>{k(N.getMetadata(sr.thumbnailUrl))},[N]),Zn.default.createElement("li",{tabIndex:0,style:o,className:vr("vkf-mapsearch-record","vkf-mosaic-map-selected-list-element",N.getType(),G&&"selected",u,L&&"loading",F&&"missing"),id:N.getId(),onMouseEnter:n,onMouseLeave:i},e,Zn.default.createElement("span",{className:"data-col time"},isNaN(ae)?"":ae),Zn.default.createElement("span",{className:"data-col title"},N.getMetadata(sr.title)),Zn.default.createElement("span",{className:"data-col time"},"1"),Zn.default.createElement("div",{className:"view-item"},!F&&Zn.default.createElement("span",{className:"thumbnail"},j===""?Zn.default.createElement(JS.default.default,{height:"calc(100% - 6px)"}):Zn.default.createElement("img",{alt:`Thumbnail Image of Map ${N.getMetadata(sr.title)} ${N.getMetadata(sr.timePublished)}`,onError:ge,src:j})),Zn.default.createElement("div",{className:"overview"},Zn.default.createElement("h2",null,L?Zn.default.createElement(JS.default.default,null):F?`${it("mosaic-map-missing-sheet")}: ${N.getId()}`:N.getMetadata(sr.title)),Zn.default.createElement("div",{className:"details"},!F&&Zn.default.createElement(Zn.default.Fragment,null,Zn.default.createElement("div",{className:"timestamp"},L?Zn.default.createElement(JS.default.default,null):`${it("mapsearch-listelement-time")} ${N.getMetadata(sr.timePublished)}`),Zn.default.createElement("div",{className:"scale"},L?Zn.default.createElement(JS.default.default,null):`${it("mapsearch-listelement-scale")} ${ee}`)),!N.getMetadata(sr.hasGeoReference)&&Zn.default.createElement("div",{className:"georeference"},it("mapsearch-listelement-no-georef")))),Zn.default.createElement("div",{className:"actions"},!F&&Zn.default.createElement("button",{className:"vkf-mosaic-map-preview",onClick:ue},Zn.default.createElement(ro,{glyph:G?"eye-open":"eye-close"})),Zn.default.createElement("button",{className:"vkf-mosaic-map-delete",onClick:Oe},Zn.default.createElement(ro,{glyph:"trash"})))))};oje.propTypes={children:ou.default.element,data:ou.default.shape({direction:ou.default.oneOf(["horizontal","vertical"]),feature:ou.default.object,maps:ou.default.object,selected:ou.default.bool}),onClick:ou.default.func,onMouseEnter:ou.default.func,onMouseLeave:ou.default.func,index:ou.default.number,style:ou.default.object};var aje=oje;var Rlr=()=>{let e=mr(ni),[t,r]=In(Ps),[n,i]=In(Bs),o=n.length===0,u=!o&&n.every(E=>E.isDisplayedInMap(e)),p=t.length===0||t.filter(E=>n.find(T=>T.getId()===E.getId())!==void 0).length===t.length,h=()=>{t.forEach(E=>{let T=E.getId();n.find(N=>N.getId()===T)===void 0&&(i(N=>[...N,E]),E.addToOverlay(e,ju))})},y=()=>{let E=n.map(T=>T.getId());if(u){r(T=>T.filter(N=>!E.includes(N.getId()))),n.forEach(T=>T.removeMapLibreLayers(e));return}n.filter(T=>!T.isDisplayedInMap(e)).forEach(T=>i1(T).then(N=>{T.addLayerToMap(e,{sourceSettings:N}),r(R=>[...R,T])})),$D(e)},_=()=>{i([]),b1(e)};return li.default.createElement("div",{className:vr("mapsearch-container")},li.default.createElement("div",{className:"spatialsearch-inner-container"},li.default.createElement("div",{className:"spatialsearch-content-panel"},li.default.createElement("div",{className:"body-container"},li.default.createElement("div",{className:"header-container"},li.default.createElement("div",{className:"title"},li.default.createElement("h4",null,it("mosaic-maps-refresh-selected-list-title")),li.default.createElement(ro,{glyph:"th-large"})),li.default.createElement("div",{className:"actions"},li.default.createElement("div",{className:"add-all-selected"},li.default.createElement(Ea,{disabled:p,onClick:h},it("mosaic-maps-add-all-selected"))),li.default.createElement("div",{className:"action-container"},li.default.createElement("div",{className:"view-all-toggle control"},li.default.createElement("button",{className:vr(!u&&"selected"),disabled:o,onClick:y},li.default.createElement(ro,{glyph:u?"eye-open":"eye-close"}))),li.default.createElement("div",{className:"select-all-toggle control"},li.default.createElement("button",{disabled:o,onClick:_},li.default.createElement(ro,{glyph:"trash"})))))),li.default.createElement("div",{className:"panel panel-default searchTablePanel"},li.default.createElement("div",{className:"panel-heading"},li.default.createElement("div",{className:"content"},li.default.createElement("div",null,n.length===0?it("mosaic-maps-selected-no-maps"):`${n.length} ${it("mosaic-maps-selected-maps")}`)),li.default.createElement("div",{className:"facet-container"},li.default.createElement(yO,{georeferenceMode:!1}))),li.default.createElement("div",{className:"panel-body"},li.default.createElement(TO,{enableOverlayLayer:!1,DataProvider:AZ,ListItemComponent:aje})))))))},sje=Rlr;var eI=re(Be(),1);var lje=({data:e,index:t,style:r})=>{let[n,i]=In(Bs),o=mr(ni),u=e.maps[t],p=er(u)&&n1(n,u),h=_=>{er(_)&&(_.stopPropagation(),_.preventDefault()),er(u)&&(p?(i(E=>E.filter(T=>T.getId()!==u.getId())),u.removeFromOverlay(o,ju)):(i(E=>[...E,u]),u.addToOverlay(o,ju),$D(o)))},y=_=>{_.key==="Enter"&&h()};return eI.default.createElement("div",{className:vr("vkf-mosaic-map-result-list-element",p&&"selected")},eI.default.createElement(yS,{index:t,data:e,style:r},eI.default.createElement("button",{className:"vkf-add-to-mosaic-map-button",onKeyDown:y,onClick:h},eI.default.createElement("i",{className:"arrow right"}))))};lje.propTypes=Ze({},yS.propTypes);var uje=lje;var dje=()=>ip.default.createElement(ip.default.Fragment,null,ip.default.createElement(rje,null),ip.default.createElement("div",{className:"vkf-horizontal-layout"},ip.default.createElement("div",{className:"spatialsearch-container",id:"spatialsearch-container"},ip.default.createElement(Vze,{customQuery:[{term:{type:"single_sheet"}}],MapSearchListItemComponent:uje,mosaicMode:!0})),ip.default.createElement("div",{className:"selected-maps-container"},ip.default.createElement(sje,null))));dje.propTypes={onAddGeoJson:cje.default.func};var pje=dje;var mje=re(Be(),1);var tI=re(Be(),1),op=re(Gt(),1);var fje=e=>{let{activeControl:t=null,className:r="",disabled:n=!1,iconClassName:i="",IconComponent:o,id:u="unknown",onClick:p,title:h="unknown"}=e;return tI.default.createElement("button",{onClick:()=>{p(u)},className:vr("vkf-control-button",r,t===u&&"active",n&&"disabled"),disabled:n},o===void 0?tI.default.createElement(QS,{name:i,size:24}):tI.default.createElement(o,{glyph:i}),tI.default.createElement("span",{className:"text"},h))};fje.propTypes={activeControl:op.default.string,className:op.default.string,disabled:op.default.bool,id:op.default.string.isRequired,iconClassName:op.default.string,IconComponent:op.default.elementType,onClick:op.default.func.isRequired,title:op.default.string};var hje=fje;var w1=hje;var zlr=()=>{let e=mr(iu),t=Ci(Ma),r=()=>{e!==void 0&&Zze(e.id).then(()=>{t({id:"mosaic-map-refresh-overview-button",type:"success",text:it("mosaic-map-success-messages-updated-overview")})}).catch(n=>{console.error(n),t({id:"mosaic-map-refresh-overview-button",type:"danger",text:it("mosaic-map-error-messages-failed-update-overview")})})};return mje.default.createElement(w1,{disabled:e.id===po,id:"recalculate-overview",iconClassName:"icon-reload",onClick:r,title:it("mosaic-maps-refresh-overview")})},gje=zlr;var fl=re(Be(),1);var gh=re(Be(),1),_g=re(Gt(),1);var HD=re(Be(),1),ap=re(Gt(),1);var vje=(0,HD.forwardRef)(function(t,r){let{children:n,className:i="",onClick:o,type:u="default",disabled:p=!1,title:h,buttonType:y,form:_}=t;return HD.default.createElement("button",{className:`vkf-button-${u} ${i}`,disabled:p,onClick:o,ref:r,title:h,type:y,form:_},n)});vje.propTypes={children:ap.default.node,className:ap.default.string,onClick:ap.default.func,disabled:ap.default.bool,title:ap.default.string,type:ap.default.oneOf(["primary","default","delete","discard","edit","save"]),buttonType:ap.default.string,form:ap.default.string};var yje=vje;var _je=yje;var bje=({isOpen:e,onClose:t,modalClassName:r,renderContent:n,renderFooter:i,title:o})=>gh.default.createElement(Fd,{className:"vkf-modal",onHide:t,show:e,dialogClassName:r},gh.default.createElement(q2,null,gh.default.createElement(R2,null,o),gh.default.createElement(_je,{className:"close-button",onClick:t},gh.default.createElement(AD,{name:"close"}))),gh.default.createElement(N2,null,n()),i!==void 0&&gh.default.createElement(L2,null,i()));bje.propTypes={isOpen:_g.default.bool,onClose:_g.default.func,modalClassName:_g.default.string,renderContent:_g.default.func,renderFooter:_g.default.func,title:_g.default.string};var xje=bje;var WD=xje;var Uc=re(Be(),1);var Ije=re(Sje(),1);var sp={LOADING:0,SAVED:1,CHANGED:2},PZ=()=>{let e=mr(iu),[t,r]=(0,Uc.useState)(e),n=mr(mh),i=XA(n);(0,Uc.useEffect)(()=>{r(e)},[e.id]),(0,Uc.useEffect)(()=>{n!==La.UPLOADING_CHANGES&&i===La.UPLOADING_CHANGES&&r(e)},[n]);let o;return n===La.UPLOADING_CHANGES?o=sp.LOADING:t.id!==po&&(0,Ije.default)(t,e)?o=sp.SAVED:o=sp.CHANGED,o},jlr=()=>{let e=PZ();return Uc.default.createElement("div",{className:"vkf-mosaic-map-save-indicator"},Uc.default.createElement("label",null,e===sp.SAVED?it("mosaic-map-saved-indicator-saved"):it("mosaic-map-saved-indicator-not-saved")),sp.LOADING===e?Uc.default.createElement(X0,null):Uc.default.createElement("div",{className:vr("indicator",e===sp.SAVED&&"saved",e===sp.CHANGED&&"changed")}))},Eje=jlr;var Flr=e=>e!==void 0&&e.length>0,Tje=e=>Number.isSafeInteger(e),GD=e=>e!==void 0&&e.length>0,Blr=e=>{let{name:t,raw_map_ids:r,title:n,title_short:i,time_of_publication:o,link_thumb:u,map_scale:p}=e;return GD(t)&&Flr(r)&&GD(n)&&GD(i)&&Tje(o)&&GD(u)&&Tje(p)},Ulr=()=>{let[e,t]=(0,fl.useState)(!1),[r,n]=In(mh),i=Ci(Ma),[o,u]=In(iu),p=PZ(),h=o.id!==po,y=()=>{t(!1)},_=()=>{t(!0)},E=()=>{o!==void 0&&(n(La.UPLOADING_CHANGES),Kze(o).then(T=>{n(La.DOWNLOADING_LIST),u(xr(Ze({},T),{raw_map_ids:o.raw_map_ids})),i({id:"mosaic-map-save-button",type:"success",text:it("mosaic-map-success-messages-saved")})}).catch(T=>{console.error(T),i({id:"mosaic-map-save-button",type:"danger",text:it("mosaic-map-error-messages-failed-upload")})}).finally(()=>{y()}))};return fl.default.createElement(fl.default.Fragment,null,fl.default.createElement(WD,{bs:!0,isOpen:e,onClose:y,title:it("mosaic-map-save-modal-title"),renderContent:()=>fl.default.createElement("div",{className:"vkf-modal-description-container"},fl.default.createElement("p",null,it("mosaic-map-save-modal-content"))),renderFooter:()=>fl.default.createElement(fl.default.Fragment,null,fl.default.createElement(Ea,{bsStyle:"warning",bsSize:"large",onClick:y},it("mosaic-map-delete-modal-buttonCancel")),fl.default.createElement(Ea,{bsStyle:"success",bsSize:"large",onClick:E},it("mosaic-map-save-modal-buttonSave")))}),fl.default.createElement(w1,{disabled:!Blr(o)||r===La.UPLOADING_CHANGES||h&&p!==sp.CHANGED,id:"save-mosaic-map",iconClassName:"icon-save",onClick:h?_:E,title:it("mosaic-maps-save")}))},Mje=Ulr;var hl=re(Be(),1);var Vlr=()=>{let[e,t]=(0,hl.useState)(!1),[r,n]=In(iu),i=Ci(mh),o=Ci(Ma),u=Ci(Bs),p=mr(ni),h=()=>{Gze(r.id).then(()=>{y(),n({id:po}),u([]),b1(p),i(La.DOWNLOADING_LIST),o({id:"mosaic-map-delete-button",type:"success",text:it("mosaic-map-success-messages-delete")})}).catch(()=>{y(),o({id:"mosaic-map-delete-button",type:"danger",text:it("mosaic-map-error-messages-delete-failed")})})},y=()=>{t(!1)},_=()=>{t(!0)};return hl.default.createElement(hl.default.Fragment,null,hl.default.createElement(WD,{bs:!0,isOpen:e,onClose:y,title:it("mosaic-map-delete-modal-title"),renderContent:()=>hl.default.createElement("div",{className:"vkf-modal-description-container"},hl.default.createElement("p",null,it("mosaic-map-delete-modal-content"))),renderFooter:()=>hl.default.createElement(hl.default.Fragment,null,hl.default.createElement(Ea,{bsStyle:"warning",bsSize:"large",onClick:y},it("mosaic-map-delete-modal-buttonCancel")),hl.default.createElement(Ea,{bsStyle:"danger",bsSize:"large",onClick:h},it("mosaic-map-delete-modal-buttonDelete")))}),hl.default.createElement(w1,{className:"delete-mosaic-map-button",disabled:r.id===po,id:"delete-mosaic-map",iconClassName:"trash",IconComponent:ro,onClick:_,title:it("mosaic-maps-delete")}))},Cje=Vlr;var Gi=re(Be(),1);var S1=re(Gt(),1);var Aje=[{id:"name"},{className:"form-group grow",id:"title"},{id:"title_short",className:"small-input"},{className:"small-input",id:"time_of_publication",type:"number",extraProps:{min:0,max:2100}},{id:"link_thumb"},{className:"description",id:"description",extraProps:{allowEmpty:!0}},{className:"small-input",id:"map_scale",type:"number",extraProps:{min:0,max:2e10}}],$lr=()=>{let e=mr(Bs),[t,r]=In(iu),[,n]=(0,Gi.useState)(0),i=(p,h)=>{var N;let{allowEmpty:y,min:_,max:E}=(N=h.extraProps)!=null?N:{allowEmpty:!1,min:Number.MIN_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER},T=document.getElementById(p);if(T!==null&&t[p]!==void 0){if(h.type==="string")return T.value.length>0||y?"success":"error";if(h.type==="number"){let R=T.valueAsNumber;return R>=_&&R<=E?"success":"error"}}return null},o=p=>{let h=p.target.id,y=Aje.find(E=>E.id===h).type,_;y==="number"?_=p.target.valueAsNumber:_=p.target.value,r(E=>xr(Ze({},E),{[h]:_}))},u=p=>{p.key==="Enter"&&p.target.blur()};return(0,Gi.useEffect)(()=>{n(Date.now())},[t.id]),(0,Gi.useEffect)(()=>{r(p=>{var h;return xr(Ze({},p),{raw_map_ids:(h=e==null?void 0:e.map(y=>y.getId()))!=null?h:[]})})},[e]),Gi.default.createElement("div",{className:"vk-mosaic-map-input-panel-content"},Gi.default.createElement("div",{className:"vk-mosaic-map-input-panel-header"},Gi.default.createElement("div",{className:"vk-mosaic-map-title"},Gi.default.createElement("h3",null,t.title===void 0||t.title===""&&t.id===po?it("mosaic-maps-input-panel-title"):t.title),Gi.default.createElement("div",{className:"divider"}),Gi.default.createElement("h4",{className:"subtitle"},"ID:"," ",t.id===po?"undefined":t.id)),Gi.default.createElement(Eje,null)),Gi.default.createElement("div",{className:"input-container"},Gi.default.createElement(hH,null,Aje.map((p,h)=>Gi.default.createElement(Pje,{bsClass:p.className,defaultValue:t[p.id],key:`${t.id}_${h}`,id:p.id,type:p.type,label:it(`mosaic-maps-input-panel-field_${p.id}`),placeholder:p.id==="name"?it(`mosaic-maps-input-panel-help_${p.id}`):void 0,onBlur:o,onKeyDown:u,validationState:i(p.id,p)})))))};function Pje(u){var p=u,{id:e,label:t,help:r,bsClass:n,validationState:i}=p,o=Rn(p,["id","label","help","bsClass","validationState"]);return Gi.default.createElement(SH,{bsClass:n,controlId:e,validationState:i},Gi.default.createElement("div",{className:"label-container"},Gi.default.createElement(D$,null,t)),Gi.default.createElement(bH,Ze({},o)),r&&Gi.default.createElement(EH,null,r))}Pje.propTypes={bsClass:S1.default.string,id:S1.default.string,label:S1.default.string,help:S1.default.string,validationState:S1.default.string};var Oje=$lr;var ml=re(Be(),1);var YD=re(Gt(),1);var Dje=e=>{let{onClose:t,text:r,type:n}=e;return ml.default.createElement("div",{className:"notification-item"},ml.default.createElement("div",{className:vr("alert","alert-"+n),role:"alert"},ml.default.createElement("div",{className:"close"},ml.default.createElement("button",{type:"button",className:"close","aria-label":"Close",onClick:t},ml.default.createElement("span",{"aria-hidden":"true"},"\xD7"))),ml.default.createElement("div",{className:"text"},r)))};Dje.propTypes={onClose:YD.default.func,text:YD.default.string,type:YD.default.string};var Hlr=()=>{let e=mr(Ma),t=XA(e),[r,n]=(0,ml.useState)([]);return(0,ml.useEffect)(()=>{if(e!==null&&e.id!==null&&e!==t){let i=[...r],o=r.findIndex(u=>u.id===e.id);o>-1?i.splice(o,1,e.text!==null?e:void 0):i.splice(0,0,e),n(i.filter(u=>u!==void 0))}},[e,r,t]),ml.default.createElement("div",{className:vr("vkf-notifications",r.length===0?"hide":"")},r.map(({type:i,text:o},u)=>ml.default.createElement(Dje,{key:u,onClose:()=>{let p=[...r];p.splice(u,1),n(p)},type:i,text:o})))},Nje=Hlr;var kje=()=>ns.default.createElement(eAe,null,ns.default.createElement("div",{className:"vkf-app-mosaic-map-container"},ns.default.createElement(Nje,null),ns.default.createElement("div",{className:"vkf-mosaic-map-toolbar"},ns.default.createElement("div",null,ns.default.createElement(nje,null)),ns.default.createElement("div",null,ns.default.createElement(gje,null),ns.default.createElement(Mje,null),ns.default.createElement(Cje,null))),ns.default.createElement("div",{className:"vk-mosaic-map-input-panel"},ns.default.createElement(Oje,null)),ns.default.createElement("div",{className:"vkf-plugin-map-mosaic",id:"map-container"},ns.default.createElement(tRe,{baseMapUrl:Ar.getDefaultBaseMapUrls(),layout:Gf.HORIZONTAL,mapViewSettings:Ar.getDefaultMapView(),ChildComponent:pje,loadMarkerIcon:!1}))));kje.propTypes={};var Lje=kje;var Wlr=Ar;function Glr(e){Rje.default.render(qje.default.createElement(Lje,null),e)}return RBe(Ylr)})();/*! Bundled license information:

object-assign/index.js:
  (*
  object-assign
  (c) Sindre Sorhus
  @license MIT
  *)

react/cjs/react.production.min.js:
  (** @license React v17.0.2
   * react.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

scheduler/cjs/scheduler.production.min.js:
  (** @license React v0.20.2
   * scheduler.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-dom/cjs/react-dom.production.min.js:
  (** @license React v17.0.2
   * react-dom.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

maplibre-gl/dist/maplibre-gl.js:
  (**
   * MapLibre GL JS
   * @license 3-Clause BSD. Full text of license: https://github.com/maplibre/maplibre-gl-js/blob/v4.7.1/LICENSE.txt
   *)

classnames/index.js:
  (*!
  	Copyright (c) 2018 Jed Watson.
  	Licensed under the MIT License (MIT), see
  	http://jedwatson.github.io/classnames
  *)

react-is/cjs/react-is.production.min.js:
  (** @license React v16.13.1
   * react-is.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

keycode/index.js:
  (*!
   * Programatically add the following
   *)

react-is/cjs/react-is.production.min.js:
  (**
   * @license React
   * react-is.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-is/cjs/react-is.production.min.js:
  (** @license React v17.0.2
   * react-is.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

wms-capabilities/dist/wms-capabilities.mjs:
  (**
   * wms-capabilities @0.6.0
   * @description WMS service Capabilities > JSON, based on openlayers 
   * @license BSD-2-Clause
   * @preserve
   *)

@babel/runtime/helpers/esm/regeneratorRuntime.js:
  (*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE *)
*/