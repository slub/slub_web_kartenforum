var vk2=(()=>{var $Ge=Object.create;var Fb=Object.defineProperty,GGe=Object.defineProperties,HGe=Object.getOwnPropertyDescriptor,WGe=Object.getOwnPropertyDescriptors,ZGe=Object.getOwnPropertyNames,ET=Object.getOwnPropertySymbols,YGe=Object.getPrototypeOf,nL=Object.prototype.hasOwnProperty,ZJ=Object.prototype.propertyIsEnumerable;var YJ=e=>{throw TypeError(e)},Rp=Math.pow,rL=(e,t,r)=>t in e?Fb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,nt=(e,t)=>{for(var r in t||(t={}))nL.call(t,r)&&rL(e,r,t[r]);if(ET)for(var r of ET(t))ZJ.call(t,r)&&rL(e,r,t[r]);return e},gr=(e,t)=>GGe(e,WGe(t));var zn=(e,t)=>{var r={};for(var n in e)nL.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&ET)for(var n of ET(e))t.indexOf(n)<0&&ZJ.call(e,n)&&(r[n]=e[n]);return r};var C=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),KGe=(e,t)=>{for(var r in t)Fb(e,r,{get:t[r],enumerable:!0})},KJ=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of ZGe(t))!nL.call(e,i)&&i!==r&&Fb(e,i,{get:()=>t[i],enumerable:!(n=HGe(t,i))||n.enumerable});return e};var se=(e,t,r)=>(r=e!=null?$Ge(YGe(e)):{},KJ(t||!e||!e.__esModule?Fb(r,"default",{value:e,enumerable:!0}):r,e)),XGe=e=>KJ(Fb({},"__esModule",{value:!0}),e);var ut=(e,t,r)=>rL(e,typeof t!="symbol"?t+"":t,r),iL=(e,t,r)=>t.has(e)||YJ("Cannot "+r);var ir=(e,t,r)=>(iL(e,t,"read from private field"),r?r.call(e):t.get(e)),to=(e,t,r)=>t.has(e)?YJ("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),ro=(e,t,r,n)=>(iL(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Ai=(e,t,r)=>(iL(e,t,"access private method"),r);var kn=(e,t,r)=>new Promise((n,i)=>{var o=m=>{try{f(r.next(m))}catch(y){i(y)}},u=m=>{try{f(r.throw(m))}catch(y){i(y)}},f=m=>m.done?n(m.value):Promise.resolve(m.value).then(o,u);f((r=r.apply(e,t)).next())});var oL=C((umr,QJ)=>{"use strict";var XJ=Object.getOwnPropertySymbols,QGe=Object.prototype.hasOwnProperty,JGe=Object.prototype.propertyIsEnumerable;function eHe(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function tHe(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(t).map(function(o){return t[o]});if(n.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(o){i[o]=o}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch(o){return!1}}QJ.exports=tHe()?Object.assign:function(e,t){for(var r,n=eHe(e),i,o=1;o<arguments.length;o++){r=Object(arguments[o]);for(var u in r)QGe.call(r,u)&&(n[u]=r[u]);if(XJ){i=XJ(r);for(var f=0;f<i.length;f++)JGe.call(r,i[f])&&(n[i[f]]=r[i[f]])}}return n}});var hee=C(An=>{"use strict";var sL=oL(),py=60103,tee=60106;An.Fragment=60107;An.StrictMode=60108;An.Profiler=60114;var ree=60109,nee=60110,iee=60112;An.Suspense=60113;var oee=60115,aee=60116;typeof Symbol=="function"&&Symbol.for&&(kl=Symbol.for,py=kl("react.element"),tee=kl("react.portal"),An.Fragment=kl("react.fragment"),An.StrictMode=kl("react.strict_mode"),An.Profiler=kl("react.profiler"),ree=kl("react.provider"),nee=kl("react.context"),iee=kl("react.forward_ref"),An.Suspense=kl("react.suspense"),oee=kl("react.memo"),aee=kl("react.lazy"));var kl,JJ=typeof Symbol=="function"&&Symbol.iterator;function rHe(e){return e===null||typeof e!="object"?null:(e=JJ&&e[JJ]||e["@@iterator"],typeof e=="function"?e:null)}function Bb(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var see={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},lee={};function fy(e,t,r){this.props=e,this.context=t,this.refs=lee,this.updater=r||see}fy.prototype.isReactComponent={};fy.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error(Bb(85));this.updater.enqueueSetState(this,e,t,"setState")};fy.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function uee(){}uee.prototype=fy.prototype;function lL(e,t,r){this.props=e,this.context=t,this.refs=lee,this.updater=r||see}var uL=lL.prototype=new uee;uL.constructor=lL;sL(uL,fy.prototype);uL.isPureReactComponent=!0;var cL={current:null},cee=Object.prototype.hasOwnProperty,pee={key:!0,ref:!0,__self:!0,__source:!0};function fee(e,t,r){var n,i={},o=null,u=null;if(t!=null)for(n in t.ref!==void 0&&(u=t.ref),t.key!==void 0&&(o=""+t.key),t)cee.call(t,n)&&!pee.hasOwnProperty(n)&&(i[n]=t[n]);var f=arguments.length-2;if(f===1)i.children=r;else if(1<f){for(var m=Array(f),y=0;y<f;y++)m[y]=arguments[y+2];i.children=m}if(e&&e.defaultProps)for(n in f=e.defaultProps,f)i[n]===void 0&&(i[n]=f[n]);return{$$typeof:py,type:e,key:o,ref:u,props:i,_owner:cL.current}}function nHe(e,t){return{$$typeof:py,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function pL(e){return typeof e=="object"&&e!==null&&e.$$typeof===py}function iHe(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var eee=/\/+/g;function aL(e,t){return typeof e=="object"&&e!==null&&e.key!=null?iHe(""+e.key):t.toString(36)}function MT(e,t,r,n,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var u=!1;if(e===null)u=!0;else switch(o){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case py:case tee:u=!0}}if(u)return u=e,i=i(u),e=n===""?"."+aL(u,0):n,Array.isArray(i)?(r="",e!=null&&(r=e.replace(eee,"$&/")+"/"),MT(i,t,r,"",function(y){return y})):i!=null&&(pL(i)&&(i=nHe(i,r+(!i.key||u&&u.key===i.key?"":(""+i.key).replace(eee,"$&/")+"/")+e)),t.push(i)),1;if(u=0,n=n===""?".":n+":",Array.isArray(e))for(var f=0;f<e.length;f++){o=e[f];var m=n+aL(o,f);u+=MT(o,t,r,m,i)}else if(m=rHe(e),typeof m=="function")for(e=m.call(e),f=0;!(o=e.next()).done;)o=o.value,m=n+aL(o,f++),u+=MT(o,t,r,m,i);else if(o==="object")throw t=""+e,Error(Bb(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function TT(e,t,r){if(e==null)return e;var n=[],i=0;return MT(e,n,"","",function(o){return t.call(r,o,i++)}),n}function oHe(e){if(e._status===-1){var t=e._result;t=t(),e._status=0,e._result=t,t.then(function(r){e._status===0&&(r=r.default,e._status=1,e._result=r)},function(r){e._status===0&&(e._status=2,e._result=r)})}if(e._status===1)return e._result;throw e._result}var dee={current:null};function qp(){var e=dee.current;if(e===null)throw Error(Bb(321));return e}var aHe={ReactCurrentDispatcher:dee,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:cL,IsSomeRendererActing:{current:!1},assign:sL};An.Children={map:TT,forEach:function(e,t,r){TT(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return TT(e,function(){t++}),t},toArray:function(e){return TT(e,function(t){return t})||[]},only:function(e){if(!pL(e))throw Error(Bb(143));return e}};An.Component=fy;An.PureComponent=lL;An.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=aHe;An.cloneElement=function(e,t,r){if(e==null)throw Error(Bb(267,e));var n=sL({},e.props),i=e.key,o=e.ref,u=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,u=cL.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var f=e.type.defaultProps;for(m in t)cee.call(t,m)&&!pee.hasOwnProperty(m)&&(n[m]=t[m]===void 0&&f!==void 0?f[m]:t[m])}var m=arguments.length-2;if(m===1)n.children=r;else if(1<m){f=Array(m);for(var y=0;y<m;y++)f[y]=arguments[y+2];n.children=f}return{$$typeof:py,type:e.type,key:i,ref:o,props:n,_owner:u}};An.createContext=function(e,t){return t===void 0&&(t=null),e={$$typeof:nee,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider={$$typeof:ree,_context:e},e.Consumer=e};An.createElement=fee;An.createFactory=function(e){var t=fee.bind(null,e);return t.type=e,t};An.createRef=function(){return{current:null}};An.forwardRef=function(e){return{$$typeof:iee,render:e}};An.isValidElement=pL;An.lazy=function(e){return{$$typeof:aee,_payload:{_status:-1,_result:e},_init:oHe}};An.memo=function(e,t){return{$$typeof:oee,type:e,compare:t===void 0?null:t}};An.useCallback=function(e,t){return qp().useCallback(e,t)};An.useContext=function(e,t){return qp().useContext(e,t)};An.useDebugValue=function(){};An.useEffect=function(e,t){return qp().useEffect(e,t)};An.useImperativeHandle=function(e,t,r){return qp().useImperativeHandle(e,t,r)};An.useLayoutEffect=function(e,t){return qp().useLayoutEffect(e,t)};An.useMemo=function(e,t){return qp().useMemo(e,t)};An.useReducer=function(e,t,r){return qp().useReducer(e,t,r)};An.useRef=function(e){return qp().useRef(e)};An.useState=function(e){return qp().useState(e)};An.version="17.0.2"});var He=C((pmr,mee)=>{"use strict";mee.exports=hee()});var xee=C(jn=>{"use strict";var hy,$b,OT,yL;typeof performance=="object"&&typeof performance.now=="function"?(gee=performance,jn.unstable_now=function(){return gee.now()}):(fL=Date,vee=fL.now(),jn.unstable_now=function(){return fL.now()-vee});var gee,fL,vee;typeof window=="undefined"||typeof MessageChannel!="function"?(dy=null,dL=null,hL=function(){if(dy!==null)try{var e=jn.unstable_now();dy(!0,e),dy=null}catch(t){throw setTimeout(hL,0),t}},hy=function(e){dy!==null?setTimeout(hy,0,e):(dy=e,setTimeout(hL,0))},$b=function(e,t){dL=setTimeout(e,t)},OT=function(){clearTimeout(dL)},jn.unstable_shouldYield=function(){return!1},yL=jn.unstable_forceFrameRate=function(){}):(yee=window.setTimeout,_ee=window.clearTimeout,typeof console!="undefined"&&(bee=window.cancelAnimationFrame,typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof bee!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")),Ub=!1,Vb=null,CT=-1,mL=5,gL=0,jn.unstable_shouldYield=function(){return jn.unstable_now()>=gL},yL=function(){},jn.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):mL=0<e?Math.floor(1e3/e):5},vL=new MessageChannel,AT=vL.port2,vL.port1.onmessage=function(){if(Vb!==null){var e=jn.unstable_now();gL=e+mL;try{Vb(!0,e)?AT.postMessage(null):(Ub=!1,Vb=null)}catch(t){throw AT.postMessage(null),t}}else Ub=!1},hy=function(e){Vb=e,Ub||(Ub=!0,AT.postMessage(null))},$b=function(e,t){CT=yee(function(){e(jn.unstable_now())},t)},OT=function(){_ee(CT),CT=-1});var dy,dL,hL,yee,_ee,bee,Ub,Vb,CT,mL,gL,vL,AT;function _L(e,t){var r=e.length;e.push(t);e:for(;;){var n=r-1>>>1,i=e[n];if(i!==void 0&&0<PT(i,t))e[n]=t,e[r]=i,r=n;else break e}}function Mu(e){return e=e[0],e===void 0?null:e}function DT(e){var t=e[0];if(t!==void 0){var r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,i=e.length;n<i;){var o=2*(n+1)-1,u=e[o],f=o+1,m=e[f];if(u!==void 0&&0>PT(u,r))m!==void 0&&0>PT(m,u)?(e[n]=m,e[f]=r,n=f):(e[n]=u,e[o]=r,n=o);else if(m!==void 0&&0>PT(m,r))e[n]=m,e[f]=r,n=f;else break e}}return t}return null}function PT(e,t){var r=e.sortIndex-t.sortIndex;return r!==0?r:e.id-t.id}var wc=[],fd=[],sHe=1,Ll=null,ka=3,NT=!1,Nm=!1,Gb=!1;function bL(e){for(var t=Mu(fd);t!==null;){if(t.callback===null)DT(fd);else if(t.startTime<=e)DT(fd),t.sortIndex=t.expirationTime,_L(wc,t);else break;t=Mu(fd)}}function xL(e){if(Gb=!1,bL(e),!Nm)if(Mu(wc)!==null)Nm=!0,hy(wL);else{var t=Mu(fd);t!==null&&$b(xL,t.startTime-e)}}function wL(e,t){Nm=!1,Gb&&(Gb=!1,OT()),NT=!0;var r=ka;try{for(bL(t),Ll=Mu(wc);Ll!==null&&(!(Ll.expirationTime>t)||e&&!jn.unstable_shouldYield());){var n=Ll.callback;if(typeof n=="function"){Ll.callback=null,ka=Ll.priorityLevel;var i=n(Ll.expirationTime<=t);t=jn.unstable_now(),typeof i=="function"?Ll.callback=i:Ll===Mu(wc)&&DT(wc),bL(t)}else DT(wc);Ll=Mu(wc)}if(Ll!==null)var o=!0;else{var u=Mu(fd);u!==null&&$b(xL,u.startTime-t),o=!1}return o}finally{Ll=null,ka=r,NT=!1}}var lHe=yL;jn.unstable_IdlePriority=5;jn.unstable_ImmediatePriority=1;jn.unstable_LowPriority=4;jn.unstable_NormalPriority=3;jn.unstable_Profiling=null;jn.unstable_UserBlockingPriority=2;jn.unstable_cancelCallback=function(e){e.callback=null};jn.unstable_continueExecution=function(){Nm||NT||(Nm=!0,hy(wL))};jn.unstable_getCurrentPriorityLevel=function(){return ka};jn.unstable_getFirstCallbackNode=function(){return Mu(wc)};jn.unstable_next=function(e){switch(ka){case 1:case 2:case 3:var t=3;break;default:t=ka}var r=ka;ka=t;try{return e()}finally{ka=r}};jn.unstable_pauseExecution=function(){};jn.unstable_requestPaint=lHe;jn.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=ka;ka=e;try{return t()}finally{ka=r}};jn.unstable_scheduleCallback=function(e,t,r){var n=jn.unstable_now();switch(typeof r=="object"&&r!==null?(r=r.delay,r=typeof r=="number"&&0<r?n+r:n):r=n,e){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return i=r+i,e={id:sHe++,callback:t,priorityLevel:e,startTime:r,expirationTime:i,sortIndex:-1},r>n?(e.sortIndex=r,_L(fd,e),Mu(wc)===null&&e===Mu(fd)&&(Gb?OT():Gb=!0,$b(xL,r-n))):(e.sortIndex=i,_L(wc,e),Nm||NT||(Nm=!0,hy(wL))),e};jn.unstable_wrapCallback=function(e){var t=ka;return function(){var r=ka;ka=t;try{return e.apply(this,arguments)}finally{ka=r}}}});var See=C((dmr,wee)=>{"use strict";wee.exports=xee()});var une=C(Bl=>{"use strict";var TM=He(),Pi=oL(),Fo=See();function Lt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!TM)throw Error(Lt(227));var Rte=new Set,xx={};function $m(e,t){Ly(e,t),Ly(e+"Capture",t)}function Ly(e,t){for(xx[e]=t,e=0;e<t.length;e++)Rte.add(t[e])}var Vp=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),uHe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Iee=Object.prototype.hasOwnProperty,Eee={},Tee={};function cHe(e){return Iee.call(Tee,e)?!0:Iee.call(Eee,e)?!1:uHe.test(e)?Tee[e]=!0:(Eee[e]=!0,!1)}function pHe(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function fHe(e,t,r,n){if(t===null||typeof t=="undefined"||pHe(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function cs(e,t,r,n,i,o,u){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=u}var oa={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){oa[e]=new cs(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];oa[t]=new cs(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){oa[e]=new cs(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){oa[e]=new cs(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){oa[e]=new cs(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){oa[e]=new cs(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){oa[e]=new cs(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){oa[e]=new cs(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){oa[e]=new cs(e,5,!1,e.toLowerCase(),null,!1,!1)});var OR=/[\-:]([a-z])/g;function DR(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(OR,DR);oa[t]=new cs(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(OR,DR);oa[t]=new cs(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(OR,DR);oa[t]=new cs(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){oa[e]=new cs(e,1,!1,e.toLowerCase(),null,!1,!1)});oa.xlinkHref=new cs("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){oa[e]=new cs(e,1,!1,e.toLowerCase(),null,!0,!0)});function NR(e,t,r,n){var i=oa.hasOwnProperty(t)?oa[t]:null,o=i!==null?i.type===0:n?!1:!(!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N");o||(fHe(t,r,i,n)&&(r=null),n||i===null?cHe(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Gm=TM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ix=60103,Lm=60106,hd=60107,kR=60108,ux=60114,LR=60109,RR=60110,MM=60112,cx=60113,nM=60120,CM=60115,qR=60116,zR=60121,jR=60128,qte=60129,FR=60130,GL=60131;typeof Symbol=="function"&&Symbol.for&&(Co=Symbol.for,ix=Co("react.element"),Lm=Co("react.portal"),hd=Co("react.fragment"),kR=Co("react.strict_mode"),ux=Co("react.profiler"),LR=Co("react.provider"),RR=Co("react.context"),MM=Co("react.forward_ref"),cx=Co("react.suspense"),nM=Co("react.suspense_list"),CM=Co("react.memo"),qR=Co("react.lazy"),zR=Co("react.block"),Co("react.scope"),jR=Co("react.opaque.id"),qte=Co("react.debug_trace_mode"),FR=Co("react.offscreen"),GL=Co("react.legacy_hidden"));var Co,Mee=typeof Symbol=="function"&&Symbol.iterator;function Hb(e){return e===null||typeof e!="object"?null:(e=Mee&&e[Mee]||e["@@iterator"],typeof e=="function"?e:null)}var SL;function ox(e){if(SL===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);SL=t&&t[1]||""}return`
`+SL+e}var IL=!1;function kT(e,t){if(!e||IL)return"";IL=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t){if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(m){var n=m}Reflect.construct(e,[],t)}else{try{t.call()}catch(m){n=m}e.call(t.prototype)}}else{try{throw Error()}catch(m){n=m}e()}}catch(m){if(m&&n&&typeof m.stack=="string"){for(var i=m.stack.split(`
`),o=n.stack.split(`
`),u=i.length-1,f=o.length-1;1<=u&&0<=f&&i[u]!==o[f];)f--;for(;1<=u&&0<=f;u--,f--)if(i[u]!==o[f]){if(u!==1||f!==1)do if(u--,f--,0>f||i[u]!==o[f])return`
`+i[u].replace(" at new "," at ");while(1<=u&&0<=f);break}}}finally{IL=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?ox(e):""}function dHe(e){switch(e.tag){case 5:return ox(e.type);case 16:return ox("Lazy");case 13:return ox("Suspense");case 19:return ox("SuspenseList");case 0:case 2:case 15:return e=kT(e.type,!1),e;case 11:return e=kT(e.type.render,!1),e;case 22:return e=kT(e.type._render,!1),e;case 1:return e=kT(e.type,!0),e;default:return""}}function Ey(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case hd:return"Fragment";case Lm:return"Portal";case ux:return"Profiler";case kR:return"StrictMode";case cx:return"Suspense";case nM:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case RR:return(e.displayName||"Context")+".Consumer";case LR:return(e._context.displayName||"Context")+".Provider";case MM:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case CM:return Ey(e.type);case zR:return Ey(e._render);case qR:t=e._payload,e=e._init;try{return Ey(e(t))}catch(r){}}return null}function Td(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function zte(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function hHe(e){var t=zte(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r!="undefined"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(u){n=""+u,o.call(this,u)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(u){n=""+u},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function LT(e){e._valueTracker||(e._valueTracker=hHe(e))}function jte(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=zte(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function iM(e){if(e=e||(typeof document!="undefined"?document:void 0),typeof e=="undefined")return null;try{return e.activeElement||e.body}catch(t){return e.body}}function HL(e,t){var r=t.checked;return Pi({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r!=null?r:e._wrapperState.initialChecked})}function Cee(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Td(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Fte(e,t){t=t.checked,t!=null&&NR(e,"checked",t,!1)}function WL(e,t){Fte(e,t);var r=Td(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ZL(e,t.type,r):t.hasOwnProperty("defaultValue")&&ZL(e,t.type,Td(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Aee(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function ZL(e,t,r){(t!=="number"||iM(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}function mHe(e){var t="";return TM.Children.forEach(e,function(r){r!=null&&(t+=r)}),t}function YL(e,t){return e=Pi({children:void 0},t),(t=mHe(t.children))&&(e.children=t),e}function Ty(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Td(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function KL(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Lt(91));return Pi({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Pee(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Lt(92));if(Array.isArray(r)){if(!(1>=r.length))throw Error(Lt(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Td(r)}}function Bte(e,t){var r=Td(t.value),n=Td(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Oee(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}var XL={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function Ute(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function QL(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Ute(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var RT,Vte=function(e){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!==XL.svg||"innerHTML"in e)e.innerHTML=t;else{for(RT=RT||document.createElement("div"),RT.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=RT.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function wx(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var px={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gHe=["Webkit","ms","Moz","O"];Object.keys(px).forEach(function(e){gHe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),px[t]=px[e]})});function $te(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||px.hasOwnProperty(e)&&px[e]?(""+t).trim():t+"px"}function Gte(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=$te(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var vHe=Pi({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function JL(e,t){if(t){if(vHe[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Lt(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Lt(60));if(!(typeof t.dangerouslySetInnerHTML=="object"&&"__html"in t.dangerouslySetInnerHTML))throw Error(Lt(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Lt(62))}}function eR(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function BR(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var tR=null,My=null,Cy=null;function Dee(e){if(e=Rx(e)){if(typeof tR!="function")throw Error(Lt(280));var t=e.stateNode;t&&(t=kM(t),tR(e.stateNode,e.type,t))}}function Hte(e){My?Cy?Cy.push(e):Cy=[e]:My=e}function Wte(){if(My){var e=My,t=Cy;if(Cy=My=null,Dee(e),t)for(e=0;e<t.length;e++)Dee(t[e])}}function UR(e,t){return e(t)}function Zte(e,t,r,n,i){return e(t,r,n,i)}function VR(){}var Yte=UR,Rm=!1,EL=!1;function $R(){(My!==null||Cy!==null)&&(VR(),Wte())}function yHe(e,t,r){if(EL)return e(t,r);EL=!0;try{return Yte(e,t,r)}finally{EL=!1,$R()}}function Sx(e,t){var r=e.stateNode;if(r===null)return null;var n=kM(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Lt(231,t,typeof r));return r}var rR=!1;if(Vp)try{my={},Object.defineProperty(my,"passive",{get:function(){rR=!0}}),window.addEventListener("test",my,my),window.removeEventListener("test",my,my)}catch(e){rR=!1}var my;function _He(e,t,r,n,i,o,u,f,m){var y=Array.prototype.slice.call(arguments,3);try{t.apply(r,y)}catch(w){this.onError(w)}}var fx=!1,oM=null,aM=!1,nR=null,bHe={onError:function(e){fx=!0,oM=e}};function xHe(e,t,r,n,i,o,u,f,m){fx=!1,oM=null,_He.apply(bHe,arguments)}function wHe(e,t,r,n,i,o,u,f,m){if(xHe.apply(this,arguments),fx){if(fx){var y=oM;fx=!1,oM=null}else throw Error(Lt(198));aM||(aM=!0,nR=y)}}function Hm(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&1026)!==0&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Kte(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Nee(e){if(Hm(e)!==e)throw Error(Lt(188))}function SHe(e){var t=e.alternate;if(!t){if(t=Hm(e),t===null)throw Error(Lt(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var o=i.alternate;if(o===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return Nee(i),e;if(o===n)return Nee(i),t;o=o.sibling}throw Error(Lt(188))}if(r.return!==n.return)r=i,n=o;else{for(var u=!1,f=i.child;f;){if(f===r){u=!0,r=i,n=o;break}if(f===n){u=!0,n=i,r=o;break}f=f.sibling}if(!u){for(f=o.child;f;){if(f===r){u=!0,r=o,n=i;break}if(f===n){u=!0,n=o,r=i;break}f=f.sibling}if(!u)throw Error(Lt(189))}}if(r.alternate!==n)throw Error(Lt(190))}if(r.tag!==3)throw Error(Lt(188));return r.stateNode.current===r?e:t}function Xte(e){if(e=SHe(e),!e)return null;for(var t=e;;){if(t.tag===5||t.tag===6)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function kee(e,t){for(var r=e.alternate;t!==null;){if(t===e||t===r)return!0;t=t.return}return!1}var Qte,GR,Jte,ere,iR=!1,Sc=[],yd=null,_d=null,bd=null,Ix=new Map,Ex=new Map,Wb=[],Lee="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function oR(e,t,r,n,i){return{blockedOn:e,domEventName:t,eventSystemFlags:r|16,nativeEvent:i,targetContainers:[n]}}function Ree(e,t){switch(e){case"focusin":case"focusout":yd=null;break;case"dragenter":case"dragleave":_d=null;break;case"mouseover":case"mouseout":bd=null;break;case"pointerover":case"pointerout":Ix.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ex.delete(t.pointerId)}}function Zb(e,t,r,n,i,o){return e===null||e.nativeEvent!==o?(e=oR(t,r,n,i,o),t!==null&&(t=Rx(t),t!==null&&GR(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function IHe(e,t,r,n,i){switch(t){case"focusin":return yd=Zb(yd,e,t,r,n,i),!0;case"dragenter":return _d=Zb(_d,e,t,r,n,i),!0;case"mouseover":return bd=Zb(bd,e,t,r,n,i),!0;case"pointerover":var o=i.pointerId;return Ix.set(o,Zb(Ix.get(o)||null,e,t,r,n,i)),!0;case"gotpointercapture":return o=i.pointerId,Ex.set(o,Zb(Ex.get(o)||null,e,t,r,n,i)),!0}return!1}function EHe(e){var t=qm(e.target);if(t!==null){var r=Hm(t);if(r!==null){if(t=r.tag,t===13){if(t=Kte(r),t!==null){e.blockedOn=t,ere(e.lanePriority,function(){Fo.unstable_runWithPriority(e.priority,function(){Jte(r)})});return}}else if(t===3&&r.stateNode.hydrate){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function WT(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=YR(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r!==null)return t=Rx(r),t!==null&&GR(t),e.blockedOn=r,!1;t.shift()}return!0}function qee(e,t,r){WT(e)&&r.delete(t)}function THe(){for(iR=!1;0<Sc.length;){var e=Sc[0];if(e.blockedOn!==null){e=Rx(e.blockedOn),e!==null&&Qte(e);break}for(var t=e.targetContainers;0<t.length;){var r=YR(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r!==null){e.blockedOn=r;break}t.shift()}e.blockedOn===null&&Sc.shift()}yd!==null&&WT(yd)&&(yd=null),_d!==null&&WT(_d)&&(_d=null),bd!==null&&WT(bd)&&(bd=null),Ix.forEach(qee),Ex.forEach(qee)}function Yb(e,t){e.blockedOn===t&&(e.blockedOn=null,iR||(iR=!0,Fo.unstable_scheduleCallback(Fo.unstable_NormalPriority,THe)))}function tre(e){function t(i){return Yb(i,e)}if(0<Sc.length){Yb(Sc[0],e);for(var r=1;r<Sc.length;r++){var n=Sc[r];n.blockedOn===e&&(n.blockedOn=null)}}for(yd!==null&&Yb(yd,e),_d!==null&&Yb(_d,e),bd!==null&&Yb(bd,e),Ix.forEach(t),Ex.forEach(t),r=0;r<Wb.length;r++)n=Wb[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Wb.length&&(r=Wb[0],r.blockedOn===null);)EHe(r),r.blockedOn===null&&Wb.shift()}function qT(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var _y={animationend:qT("Animation","AnimationEnd"),animationiteration:qT("Animation","AnimationIteration"),animationstart:qT("Animation","AnimationStart"),transitionend:qT("Transition","TransitionEnd")},TL={},rre={};Vp&&(rre=document.createElement("div").style,"AnimationEvent"in window||(delete _y.animationend.animation,delete _y.animationiteration.animation,delete _y.animationstart.animation),"TransitionEvent"in window||delete _y.transitionend.transition);function AM(e){if(TL[e])return TL[e];if(!_y[e])return e;var t=_y[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in rre)return TL[e]=t[r];return e}var nre=AM("animationend"),ire=AM("animationiteration"),ore=AM("animationstart"),are=AM("transitionend"),sre=new Map,HR=new Map,MHe=["abort","abort",nre,"animationEnd",ire,"animationIteration",ore,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",are,"transitionEnd","waiting","waiting"];function WR(e,t){for(var r=0;r<e.length;r+=2){var n=e[r],i=e[r+1];i="on"+(i[0].toUpperCase()+i.slice(1)),HR.set(n,t),sre.set(n,i),$m(i,[n])}}var CHe=Fo.unstable_now;CHe();var hi=8;function vy(e){if((1&e)!==0)return hi=15,1;if((2&e)!==0)return hi=14,2;if((4&e)!==0)return hi=13,4;var t=24&e;return t!==0?(hi=12,t):(e&32)!==0?(hi=11,32):(t=192&e,t!==0?(hi=10,t):(e&256)!==0?(hi=9,256):(t=3584&e,t!==0?(hi=8,t):(e&4096)!==0?(hi=7,4096):(t=4186112&e,t!==0?(hi=6,t):(t=62914560&e,t!==0?(hi=5,t):e&67108864?(hi=4,67108864):(e&134217728)!==0?(hi=3,134217728):(t=805306368&e,t!==0?(hi=2,t):(1073741824&e)!==0?(hi=1,1073741824):(hi=8,e))))))}function AHe(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function PHe(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(Lt(358,e))}}function Tx(e,t){var r=e.pendingLanes;if(r===0)return hi=0;var n=0,i=0,o=e.expiredLanes,u=e.suspendedLanes,f=e.pingedLanes;if(o!==0)n=o,i=hi=15;else if(o=r&134217727,o!==0){var m=o&~u;m!==0?(n=vy(m),i=hi):(f&=o,f!==0&&(n=vy(f),i=hi))}else o=r&~u,o!==0?(n=vy(o),i=hi):f!==0&&(n=vy(f),i=hi);if(n===0)return 0;if(n=31-Md(n),n=r&((0>n?0:1<<n)<<1)-1,t!==0&&t!==n&&(t&u)===0){if(vy(t),i<=hi)return t;hi=i}if(t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Md(t),i=1<<r,n|=e[r],t&=~i;return n}function lre(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function sM(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return e=yy(24&~t),e===0?sM(10,t):e;case 10:return e=yy(192&~t),e===0?sM(8,t):e;case 8:return e=yy(3584&~t),e===0&&(e=yy(4186112&~t),e===0&&(e=512)),e;case 2:return t=yy(805306368&~t),t===0&&(t=268435456),t}throw Error(Lt(358,e))}function yy(e){return e&-e}function ML(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function PM(e,t,r){e.pendingLanes|=t;var n=t-1;e.suspendedLanes&=n,e.pingedLanes&=n,e=e.eventTimes,t=31-Md(t),e[t]=r}var Md=Math.clz32?Math.clz32:NHe,OHe=Math.log,DHe=Math.LN2;function NHe(e){return e===0?32:31-(OHe(e)/DHe|0)|0}var kHe=Fo.unstable_UserBlockingPriority,LHe=Fo.unstable_runWithPriority,ZT=!0;function RHe(e,t,r,n){Rm||VR();var i=ZR,o=Rm;Rm=!0;try{Zte(i,e,t,r,n)}finally{(Rm=o)||$R()}}function qHe(e,t,r,n){LHe(kHe,ZR.bind(null,e,t,r,n))}function ZR(e,t,r,n){if(ZT){var i;if((i=(t&4)===0)&&0<Sc.length&&-1<Lee.indexOf(e))e=oR(null,e,t,r,n),Sc.push(e);else{var o=YR(e,t,r,n);if(o===null)i&&Ree(e,n);else{if(i){if(-1<Lee.indexOf(e)){e=oR(o,e,t,r,n),Sc.push(e);return}if(IHe(o,e,t,r,n))return;Ree(e,n)}xre(e,t,n,null,r)}}}}function YR(e,t,r,n){var i=BR(n);if(i=qm(i),i!==null){var o=Hm(i);if(o===null)i=null;else{var u=o.tag;if(u===13){if(i=Kte(o),i!==null)return i;i=null}else if(u===3){if(o.stateNode.hydrate)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return xre(e,t,n,i,r),null}var md=null,KR=null,YT=null;function ure(){if(YT)return YT;var e,t=KR,r=t.length,n,i="value"in md?md.value:md.textContent,o=i.length;for(e=0;e<r&&t[e]===i[e];e++);var u=r-e;for(n=1;n<=u&&t[r-n]===i[o-n];n++);return YT=i.slice(e,1<n?1-n:void 0)}function KT(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function zT(){return!0}function zee(){return!1}function fl(e){function t(r,n,i,o,u){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=o,this.target=u,this.currentTarget=null;for(var f in e)e.hasOwnProperty(f)&&(r=e[f],this[f]=r?r(o):o[f]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?zT:zee,this.isPropagationStopped=zee,this}return Pi(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=zT)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=zT)},persist:function(){},isPersistent:zT}),t}var jy={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},XR=fl(jy),Lx=Pi({},jy,{view:0,detail:0}),zHe=fl(Lx),CL,AL,Kb,OM=Pi({},Lx,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:QR,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Kb&&(Kb&&e.type==="mousemove"?(CL=e.screenX-Kb.screenX,AL=e.screenY-Kb.screenY):AL=CL=0,Kb=e),CL)},movementY:function(e){return"movementY"in e?e.movementY:AL}}),jee=fl(OM),jHe=Pi({},OM,{dataTransfer:0}),FHe=fl(jHe),BHe=Pi({},Lx,{relatedTarget:0}),PL=fl(BHe),UHe=Pi({},jy,{animationName:0,elapsedTime:0,pseudoElement:0}),VHe=fl(UHe),$He=Pi({},jy,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),GHe=fl($He),HHe=Pi({},jy,{data:0}),Fee=fl(HHe),WHe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ZHe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},YHe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function KHe(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=YHe[e])?!!t[e]:!1}function QR(){return KHe}var XHe=Pi({},Lx,{key:function(e){if(e.key){var t=WHe[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=KT(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ZHe[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:QR,charCode:function(e){return e.type==="keypress"?KT(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?KT(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),QHe=fl(XHe),JHe=Pi({},OM,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bee=fl(JHe),eWe=Pi({},Lx,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:QR}),tWe=fl(eWe),rWe=Pi({},jy,{propertyName:0,elapsedTime:0,pseudoElement:0}),nWe=fl(rWe),iWe=Pi({},OM,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),oWe=fl(iWe),aWe=[9,13,27,32],JR=Vp&&"CompositionEvent"in window,dx=null;Vp&&"documentMode"in document&&(dx=document.documentMode);var sWe=Vp&&"TextEvent"in window&&!dx,cre=Vp&&(!JR||dx&&8<dx&&11>=dx),Uee=" ",Vee=!1;function pre(e,t){switch(e){case"keyup":return aWe.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fre(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var by=!1;function lWe(e,t){switch(e){case"compositionend":return fre(t);case"keypress":return t.which!==32?null:(Vee=!0,Uee);case"textInput":return e=t.data,e===Uee&&Vee?null:e;default:return null}}function uWe(e,t){if(by)return e==="compositionend"||!JR&&pre(e,t)?(e=ure(),YT=KR=md=null,by=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return cre&&t.locale!=="ko"?null:t.data;default:return null}}var cWe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $ee(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!cWe[e.type]:t==="textarea"}function dre(e,t,r,n){Hte(n),t=lM(t,"onChange"),0<t.length&&(r=new XR("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var hx=null,Mx=null;function pWe(e){yre(e,0)}function DM(e){var t=wy(e);if(jte(t))return e}function fWe(e,t){if(e==="change")return t}var hre=!1;Vp&&(Vp?(FT="oninput"in document,FT||(OL=document.createElement("div"),OL.setAttribute("oninput","return;"),FT=typeof OL.oninput=="function"),jT=FT):jT=!1,hre=jT&&(!document.documentMode||9<document.documentMode));var jT,FT,OL;function Gee(){hx&&(hx.detachEvent("onpropertychange",mre),Mx=hx=null)}function mre(e){if(e.propertyName==="value"&&DM(Mx)){var t=[];if(dre(t,Mx,e,BR(e)),e=pWe,Rm)e(t);else{Rm=!0;try{UR(e,t)}finally{Rm=!1,$R()}}}}function dWe(e,t,r){e==="focusin"?(Gee(),hx=t,Mx=r,hx.attachEvent("onpropertychange",mre)):e==="focusout"&&Gee()}function hWe(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return DM(Mx)}function mWe(e,t){if(e==="click")return DM(t)}function gWe(e,t){if(e==="input"||e==="change")return DM(t)}function vWe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Rl=typeof Object.is=="function"?Object.is:vWe,yWe=Object.prototype.hasOwnProperty;function Cx(e,t){if(Rl(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++)if(!yWe.call(t,r[n])||!Rl(e[r[n]],t[r[n]]))return!1;return!0}function Hee(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Wee(e,t){var r=Hee(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Hee(r)}}function gre(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?gre(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Zee(){for(var e=window,t=iM();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch(n){r=!1}if(r)e=t.contentWindow;else break;t=iM(e.document)}return t}function aR(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var _We=Vp&&"documentMode"in document&&11>=document.documentMode,xy=null,sR=null,mx=null,lR=!1;function Yee(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;lR||xy==null||xy!==iM(n)||(n=xy,"selectionStart"in n&&aR(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),mx&&Cx(mx,n)||(mx=n,n=lM(sR,"onSelect"),0<n.length&&(t=new XR("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=xy)))}WR("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);WR("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);WR(MHe,2);for(DL="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),BT=0;BT<DL.length;BT++)HR.set(DL[BT],0);var DL,BT;Ly("onMouseEnter",["mouseout","mouseover"]);Ly("onMouseLeave",["mouseout","mouseover"]);Ly("onPointerEnter",["pointerout","pointerover"]);Ly("onPointerLeave",["pointerout","pointerover"]);$m("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));$m("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));$m("onBeforeInput",["compositionend","keypress","textInput","paste"]);$m("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));$m("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));$m("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ax="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vre=new Set("cancel close invalid load scroll toggle".split(" ").concat(ax));function Kee(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,wHe(n,t,void 0,e),e.currentTarget=null}function yre(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var u=n.length-1;0<=u;u--){var f=n[u],m=f.instance,y=f.currentTarget;if(f=f.listener,m!==o&&i.isPropagationStopped())break e;Kee(i,f,y),o=m}else for(u=0;u<n.length;u++){if(f=n[u],m=f.instance,y=f.currentTarget,f=f.listener,m!==o&&i.isPropagationStopped())break e;Kee(i,f,y),o=m}}}if(aM)throw e=nR,aM=!1,nR=null,e}function Si(e,t){var r=Sre(t),n=e+"__bubble";r.has(n)||(bre(t,e,2,!1),r.add(n))}var Xee="_reactListening"+Math.random().toString(36).slice(2);function _re(e){e[Xee]||(e[Xee]=!0,Rte.forEach(function(t){vre.has(t)||Qee(t,!1,e,null),Qee(t,!0,e,null)}))}function Qee(e,t,r,n){var i=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,o=r;if(e==="selectionchange"&&r.nodeType!==9&&(o=r.ownerDocument),n!==null&&!t&&vre.has(e)){if(e!=="scroll")return;i|=2,o=n}var u=Sre(o),f=e+"__"+(t?"capture":"bubble");u.has(f)||(t&&(i|=4),bre(o,e,i,t),u.add(f))}function bre(e,t,r,n){var i=HR.get(t);switch(i===void 0?2:i){case 0:i=RHe;break;case 1:i=qHe;break;default:i=ZR}r=i.bind(null,t,r,e),i=void 0,!rR||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function xre(e,t,r,n,i){var o=n;if((t&1)===0&&(t&2)===0&&n!==null)e:for(;;){if(n===null)return;var u=n.tag;if(u===3||u===4){var f=n.stateNode.containerInfo;if(f===i||f.nodeType===8&&f.parentNode===i)break;if(u===4)for(u=n.return;u!==null;){var m=u.tag;if((m===3||m===4)&&(m=u.stateNode.containerInfo,m===i||m.nodeType===8&&m.parentNode===i))return;u=u.return}for(;f!==null;){if(u=qm(f),u===null)return;if(m=u.tag,m===5||m===6){n=o=u;continue e}f=f.parentNode}}n=n.return}yHe(function(){var y=o,w=BR(r),I=[];e:{var M=sre.get(e);if(M!==void 0){var N=XR,z=e;switch(e){case"keypress":if(KT(r)===0)break e;case"keydown":case"keyup":N=QHe;break;case"focusin":z="focus",N=PL;break;case"focusout":z="blur",N=PL;break;case"beforeblur":case"afterblur":N=PL;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":N=jee;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":N=FHe;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":N=tWe;break;case nre:case ire:case ore:N=VHe;break;case are:N=nWe;break;case"scroll":N=zHe;break;case"wheel":N=oWe;break;case"copy":case"cut":case"paste":N=GHe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":N=Bee}var F=(t&4)!==0,q=!F&&e==="scroll",R=F?M!==null?M+"Capture":null:M;F=[];for(var U=y,Y;U!==null;){Y=U;var re=Y.stateNode;if(Y.tag===5&&re!==null&&(Y=re,R!==null&&(re=Sx(U,R),re!=null&&F.push(Ax(U,re,Y)))),q)break;U=U.return}0<F.length&&(M=new N(M,z,null,r,w),I.push({event:M,listeners:F}))}}if((t&7)===0){e:{if(M=e==="mouseover"||e==="pointerover",N=e==="mouseout"||e==="pointerout",M&&(t&16)===0&&(z=r.relatedTarget||r.fromElement)&&(qm(z)||z[Fy]))break e;if((N||M)&&(M=w.window===w?w:(M=w.ownerDocument)?M.defaultView||M.parentWindow:window,N?(z=r.relatedTarget||r.toElement,N=y,z=z?qm(z):null,z!==null&&(q=Hm(z),z!==q||z.tag!==5&&z.tag!==6)&&(z=null)):(N=null,z=y),N!==z)){if(F=jee,re="onMouseLeave",R="onMouseEnter",U="mouse",(e==="pointerout"||e==="pointerover")&&(F=Bee,re="onPointerLeave",R="onPointerEnter",U="pointer"),q=N==null?M:wy(N),Y=z==null?M:wy(z),M=new F(re,U+"leave",N,r,w),M.target=q,M.relatedTarget=Y,re=null,qm(w)===y&&(F=new F(R,U+"enter",z,r,w),F.target=Y,F.relatedTarget=q,re=F),q=re,N&&z)t:{for(F=N,R=z,U=0,Y=F;Y;Y=gy(Y))U++;for(Y=0,re=R;re;re=gy(re))Y++;for(;0<U-Y;)F=gy(F),U--;for(;0<Y-U;)R=gy(R),Y--;for(;U--;){if(F===R||R!==null&&F===R.alternate)break t;F=gy(F),R=gy(R)}F=null}else F=null;N!==null&&Jee(I,M,N,F,!1),z!==null&&q!==null&&Jee(I,q,z,F,!0)}}e:{if(M=y?wy(y):window,N=M.nodeName&&M.nodeName.toLowerCase(),N==="select"||N==="input"&&M.type==="file")var de=fWe;else if($ee(M)){if(hre)de=gWe;else{de=hWe;var ce=dWe}}else(N=M.nodeName)&&N.toLowerCase()==="input"&&(M.type==="checkbox"||M.type==="radio")&&(de=mWe);if(de&&(de=de(e,y))){dre(I,de,r,w);break e}ce&&ce(e,M,y),e==="focusout"&&(ce=M._wrapperState)&&ce.controlled&&M.type==="number"&&ZL(M,"number",M.value)}switch(ce=y?wy(y):window,e){case"focusin":($ee(ce)||ce.contentEditable==="true")&&(xy=ce,sR=y,mx=null);break;case"focusout":mx=sR=xy=null;break;case"mousedown":lR=!0;break;case"contextmenu":case"mouseup":case"dragend":lR=!1,Yee(I,r,w);break;case"selectionchange":if(_We)break;case"keydown":case"keyup":Yee(I,r,w)}var Se;if(JR)e:{switch(e){case"compositionstart":var qe="onCompositionStart";break e;case"compositionend":qe="onCompositionEnd";break e;case"compositionupdate":qe="onCompositionUpdate";break e}qe=void 0}else by?pre(e,r)&&(qe="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(qe="onCompositionStart");qe&&(cre&&r.locale!=="ko"&&(by||qe!=="onCompositionStart"?qe==="onCompositionEnd"&&by&&(Se=ure()):(md=w,KR="value"in md?md.value:md.textContent,by=!0)),ce=lM(y,qe),0<ce.length&&(qe=new Fee(qe,e,null,r,w),I.push({event:qe,listeners:ce}),Se?qe.data=Se:(Se=fre(r),Se!==null&&(qe.data=Se)))),(Se=sWe?lWe(e,r):uWe(e,r))&&(y=lM(y,"onBeforeInput"),0<y.length&&(w=new Fee("onBeforeInput","beforeinput",null,r,w),I.push({event:w,listeners:y}),w.data=Se))}yre(I,t)})}function Ax(e,t,r){return{instance:e,listener:t,currentTarget:r}}function lM(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Sx(e,r),o!=null&&n.unshift(Ax(e,o,i)),o=Sx(e,t),o!=null&&n.push(Ax(e,o,i))),e=e.return}return n}function gy(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Jee(e,t,r,n,i){for(var o=t._reactName,u=[];r!==null&&r!==n;){var f=r,m=f.alternate,y=f.stateNode;if(m!==null&&m===n)break;f.tag===5&&y!==null&&(f=y,i?(m=Sx(r,o),m!=null&&u.unshift(Ax(r,m,f))):i||(m=Sx(r,o),m!=null&&u.push(Ax(r,m,f)))),r=r.return}u.length!==0&&e.push({event:t,listeners:u})}function uM(){}var NL=null,kL=null;function wre(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function uR(e,t){return e==="textarea"||e==="option"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ete=typeof setTimeout=="function"?setTimeout:void 0,bWe=typeof clearTimeout=="function"?clearTimeout:void 0;function eq(e){e.nodeType===1?e.textContent="":e.nodeType===9&&(e=e.body,e!=null&&(e.textContent=""))}function Ay(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break}return e}function tte(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var LL=0;function xWe(e){return{$$typeof:jR,toString:e,valueOf:e}}var NM=Math.random().toString(36).slice(2),gd="__reactFiber$"+NM,cM="__reactProps$"+NM,Fy="__reactContainer$"+NM,rte="__reactEvents$"+NM;function qm(e){var t=e[gd];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Fy]||r[gd]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=tte(e);e!==null;){if(r=e[gd])return r;e=tte(e)}return t}e=r,r=e.parentNode}return null}function Rx(e){return e=e[gd]||e[Fy],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function wy(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Lt(33))}function kM(e){return e[cM]||null}function Sre(e){var t=e[rte];return t===void 0&&(t=e[rte]=new Set),t}var cR=[],Sy=-1;function Od(e){return{current:e}}function Ii(e){0>Sy||(e.current=cR[Sy],cR[Sy]=null,Sy--)}function $i(e,t){Sy++,cR[Sy]=e.current,e.current=t}var Cd={},za=Od(Cd),Ns=Od(!1),Bm=Cd;function Ry(e,t){var r=e.type.contextTypes;if(!r)return Cd;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in r)i[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function ks(e){return e=e.childContextTypes,e!=null}function pM(){Ii(Ns),Ii(za)}function nte(e,t,r){if(za.current!==Cd)throw Error(Lt(168));$i(za,t),$i(Ns,r)}function Ire(e,t,r){var n=e.stateNode;if(e=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(Lt(108,Ey(t)||"Unknown",i));return Pi({},r,n)}function XT(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Cd,Bm=za.current,$i(za,e),$i(Ns,Ns.current),!0}function ite(e,t,r){var n=e.stateNode;if(!n)throw Error(Lt(169));r?(e=Ire(e,t,Bm),n.__reactInternalMemoizedMergedChildContext=e,Ii(Ns),Ii(za),$i(za,e)):Ii(Ns),$i(Ns,r)}var tq=null,Fm=null,wWe=Fo.unstable_runWithPriority,rq=Fo.unstable_scheduleCallback,pR=Fo.unstable_cancelCallback,SWe=Fo.unstable_shouldYield,ote=Fo.unstable_requestPaint,fR=Fo.unstable_now,IWe=Fo.unstable_getCurrentPriorityLevel,LM=Fo.unstable_ImmediatePriority,Ere=Fo.unstable_UserBlockingPriority,Tre=Fo.unstable_NormalPriority,Mre=Fo.unstable_LowPriority,Cre=Fo.unstable_IdlePriority,RL={},EWe=ote!==void 0?ote:function(){},zp=null,QT=null,qL=!1,ate=fR(),Ra=1e4>ate?fR:function(){return fR()-ate};function qy(){switch(IWe()){case LM:return 99;case Ere:return 98;case Tre:return 97;case Mre:return 96;case Cre:return 95;default:throw Error(Lt(332))}}function Are(e){switch(e){case 99:return LM;case 98:return Ere;case 97:return Tre;case 96:return Mre;case 95:return Cre;default:throw Error(Lt(332))}}function Um(e,t){return e=Are(e),wWe(e,t)}function Px(e,t,r){return e=Are(e),rq(e,t,r)}function Cc(){if(QT!==null){var e=QT;QT=null,pR(e)}Pre()}function Pre(){if(!qL&&zp!==null){qL=!0;var e=0;try{var t=zp;Um(99,function(){for(;e<t.length;e++){var r=t[e];do r=r(!0);while(r!==null)}}),zp=null}catch(r){throw zp!==null&&(zp=zp.slice(e+1)),rq(LM,Cc),r}finally{qL=!1}}}var TWe=Gm.ReactCurrentBatchConfig;function Cu(e,t){if(e&&e.defaultProps){t=Pi({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}var fM=Od(null),dM=null,Iy=null,hM=null;function nq(){hM=Iy=dM=null}function iq(e){var t=fM.current;Ii(fM),e.type._context._currentValue=t}function Ore(e,t){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)===t){if(r===null||(r.childLanes&t)===t)break;r.childLanes|=t}else e.childLanes|=t,r!==null&&(r.childLanes|=t);e=e.return}}function Py(e,t){dM=e,hM=Iy=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(Au=!0),e.firstContext=null)}function jl(e,t){if(hM!==e&&t!==!1&&t!==0)if((typeof t!="number"||t===1073741823)&&(hM=e,t=1073741823),t={context:e,observedBits:t,next:null},Iy===null){if(dM===null)throw Error(Lt(308));Iy=t,dM.dependencies={lanes:0,firstContext:t,responders:null}}else Iy=Iy.next=t;return e._currentValue}var dd=!1;function oq(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function Dre(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function xd(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function wd(e,t){if(e=e.updateQueue,e!==null){e=e.shared;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}}function ste(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var u={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?i=o=u:o=o.next=u,r=r.next}while(r!==null);o===null?i=o=t:o=o.next=t}else i=o=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Ox(e,t,r,n){var i=e.updateQueue;dd=!1;var o=i.firstBaseUpdate,u=i.lastBaseUpdate,f=i.shared.pending;if(f!==null){i.shared.pending=null;var m=f,y=m.next;m.next=null,u===null?o=y:u.next=y,u=m;var w=e.alternate;if(w!==null){w=w.updateQueue;var I=w.lastBaseUpdate;I!==u&&(I===null?w.firstBaseUpdate=y:I.next=y,w.lastBaseUpdate=m)}}if(o!==null){I=i.baseState,u=0,w=y=m=null;do{f=o.lane;var M=o.eventTime;if((n&f)===f){w!==null&&(w=w.next={eventTime:M,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var N=e,z=o;switch(f=t,M=r,z.tag){case 1:if(N=z.payload,typeof N=="function"){I=N.call(M,I,f);break e}I=N;break e;case 3:N.flags=N.flags&-4097|64;case 0:if(N=z.payload,f=typeof N=="function"?N.call(M,I,f):N,f==null)break e;I=Pi({},I,f);break e;case 2:dd=!0}}o.callback!==null&&(e.flags|=32,f=i.effects,f===null?i.effects=[o]:f.push(o))}else M={eventTime:M,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},w===null?(y=w=M,m=I):w=w.next=M,u|=f;if(o=o.next,o===null){if(f=i.shared.pending,f===null)break;o=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);w===null&&(m=I),i.baseState=m,i.firstBaseUpdate=y,i.lastBaseUpdate=w,zx|=u,e.lanes=u,e.memoizedState=I}}function lte(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(Lt(191,i));i.call(n)}}}var Nre=new TM.Component().refs;function mM(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Pi({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var RM={isMounted:function(e){return(e=e._reactInternals)?Hm(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=pl(),i=Sd(e),o=xd(n,i);o.payload=t,r!=null&&(o.callback=r),wd(e,o),Id(e,i,n)},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=pl(),i=Sd(e),o=xd(n,i);o.tag=1,o.payload=t,r!=null&&(o.callback=r),wd(e,o),Id(e,i,n)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=pl(),n=Sd(e),i=xd(r,n);i.tag=2,t!=null&&(i.callback=t),wd(e,i),Id(e,n,r)}};function ute(e,t,r,n,i,o,u){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,u):t.prototype&&t.prototype.isPureReactComponent?!Cx(r,n)||!Cx(i,o):!0}function kre(e,t,r){var n=!1,i=Cd,o=t.contextType;return typeof o=="object"&&o!==null?o=jl(o):(i=ks(t)?Bm:za.current,n=t.contextTypes,o=(n=n!=null)?Ry(e,i):Cd),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=RM,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function cte(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&RM.enqueueReplaceState(t,t.state,null)}function dR(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs=Nre,oq(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=jl(o):(o=ks(t)?Bm:za.current,i.context=Ry(e,o)),Ox(e,r,i,n),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(mM(e,t,o,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&RM.enqueueReplaceState(i,i.state,null),Ox(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4)}var UT=Array.isArray;function Xb(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Lt(309));var n=r.stateNode}if(!n)throw Error(Lt(147,e));var i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var u=n.refs;u===Nre&&(u=n.refs={}),o===null?delete u[i]:u[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(Lt(284));if(!r._owner)throw Error(Lt(290,e))}return e}function VT(e,t){if(e.type!=="textarea")throw Error(Lt(31,Object.prototype.toString.call(t)==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Lre(e){function t(q,R){if(e){var U=q.lastEffect;U!==null?(U.nextEffect=R,q.lastEffect=R):q.firstEffect=q.lastEffect=R,R.nextEffect=null,R.flags=8}}function r(q,R){if(!e)return null;for(;R!==null;)t(q,R),R=R.sibling;return null}function n(q,R){for(q=new Map;R!==null;)R.key!==null?q.set(R.key,R):q.set(R.index,R),R=R.sibling;return q}function i(q,R){return q=Pd(q,R),q.index=0,q.sibling=null,q}function o(q,R,U){return q.index=U,e?(U=q.alternate,U!==null?(U=U.index,U<R?(q.flags=2,R):U):(q.flags=2,R)):R}function u(q){return e&&q.alternate===null&&(q.flags=2),q}function f(q,R,U,Y){return R===null||R.tag!==6?(R=UL(U,q.mode,Y),R.return=q,R):(R=i(R,U),R.return=q,R)}function m(q,R,U,Y){return R!==null&&R.elementType===U.type?(Y=i(R,U.props),Y.ref=Xb(q,R,U),Y.return=q,Y):(Y=rM(U.type,U.key,U.props,null,q.mode,Y),Y.ref=Xb(q,R,U),Y.return=q,Y)}function y(q,R,U,Y){return R===null||R.tag!==4||R.stateNode.containerInfo!==U.containerInfo||R.stateNode.implementation!==U.implementation?(R=VL(U,q.mode,Y),R.return=q,R):(R=i(R,U.children||[]),R.return=q,R)}function w(q,R,U,Y,re){return R===null||R.tag!==7?(R=ky(U,q.mode,Y,re),R.return=q,R):(R=i(R,U),R.return=q,R)}function I(q,R,U){if(typeof R=="string"||typeof R=="number")return R=UL(""+R,q.mode,U),R.return=q,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case ix:return U=rM(R.type,R.key,R.props,null,q.mode,U),U.ref=Xb(q,null,R),U.return=q,U;case Lm:return R=VL(R,q.mode,U),R.return=q,R}if(UT(R)||Hb(R))return R=ky(R,q.mode,U,null),R.return=q,R;VT(q,R)}return null}function M(q,R,U,Y){var re=R!==null?R.key:null;if(typeof U=="string"||typeof U=="number")return re!==null?null:f(q,R,""+U,Y);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case ix:return U.key===re?U.type===hd?w(q,R,U.props.children,Y,re):m(q,R,U,Y):null;case Lm:return U.key===re?y(q,R,U,Y):null}if(UT(U)||Hb(U))return re!==null?null:w(q,R,U,Y,null);VT(q,U)}return null}function N(q,R,U,Y,re){if(typeof Y=="string"||typeof Y=="number")return q=q.get(U)||null,f(R,q,""+Y,re);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case ix:return q=q.get(Y.key===null?U:Y.key)||null,Y.type===hd?w(R,q,Y.props.children,re,Y.key):m(R,q,Y,re);case Lm:return q=q.get(Y.key===null?U:Y.key)||null,y(R,q,Y,re)}if(UT(Y)||Hb(Y))return q=q.get(U)||null,w(R,q,Y,re,null);VT(R,Y)}return null}function z(q,R,U,Y){for(var re=null,de=null,ce=R,Se=R=0,qe=null;ce!==null&&Se<U.length;Se++){ce.index>Se?(qe=ce,ce=null):qe=ce.sibling;var Re=M(q,ce,U[Se],Y);if(Re===null){ce===null&&(ce=qe);break}e&&ce&&Re.alternate===null&&t(q,ce),R=o(Re,R,Se),de===null?re=Re:de.sibling=Re,de=Re,ce=qe}if(Se===U.length)return r(q,ce),re;if(ce===null){for(;Se<U.length;Se++)ce=I(q,U[Se],Y),ce!==null&&(R=o(ce,R,Se),de===null?re=ce:de.sibling=ce,de=ce);return re}for(ce=n(q,ce);Se<U.length;Se++)qe=N(ce,q,Se,U[Se],Y),qe!==null&&(e&&qe.alternate!==null&&ce.delete(qe.key===null?Se:qe.key),R=o(qe,R,Se),de===null?re=qe:de.sibling=qe,de=qe);return e&&ce.forEach(function(Te){return t(q,Te)}),re}function F(q,R,U,Y){var re=Hb(U);if(typeof re!="function")throw Error(Lt(150));if(U=re.call(U),U==null)throw Error(Lt(151));for(var de=re=null,ce=R,Se=R=0,qe=null,Re=U.next();ce!==null&&!Re.done;Se++,Re=U.next()){ce.index>Se?(qe=ce,ce=null):qe=ce.sibling;var Te=M(q,ce,Re.value,Y);if(Te===null){ce===null&&(ce=qe);break}e&&ce&&Te.alternate===null&&t(q,ce),R=o(Te,R,Se),de===null?re=Te:de.sibling=Te,de=Te,ce=qe}if(Re.done)return r(q,ce),re;if(ce===null){for(;!Re.done;Se++,Re=U.next())Re=I(q,Re.value,Y),Re!==null&&(R=o(Re,R,Se),de===null?re=Re:de.sibling=Re,de=Re);return re}for(ce=n(q,ce);!Re.done;Se++,Re=U.next())Re=N(ce,q,Se,Re.value,Y),Re!==null&&(e&&Re.alternate!==null&&ce.delete(Re.key===null?Se:Re.key),R=o(Re,R,Se),de===null?re=Re:de.sibling=Re,de=Re);return e&&ce.forEach(function(Ee){return t(q,Ee)}),re}return function(q,R,U,Y){var re=typeof U=="object"&&U!==null&&U.type===hd&&U.key===null;re&&(U=U.props.children);var de=typeof U=="object"&&U!==null;if(de)switch(U.$$typeof){case ix:e:{for(de=U.key,re=R;re!==null;){if(re.key===de){switch(re.tag){case 7:if(U.type===hd){r(q,re.sibling),R=i(re,U.props.children),R.return=q,q=R;break e}break;default:if(re.elementType===U.type){r(q,re.sibling),R=i(re,U.props),R.ref=Xb(q,re,U),R.return=q,q=R;break e}}r(q,re);break}else t(q,re);re=re.sibling}U.type===hd?(R=ky(U.props.children,q.mode,Y,U.key),R.return=q,q=R):(Y=rM(U.type,U.key,U.props,null,q.mode,Y),Y.ref=Xb(q,R,U),Y.return=q,q=Y)}return u(q);case Lm:e:{for(re=U.key;R!==null;){if(R.key===re){if(R.tag===4&&R.stateNode.containerInfo===U.containerInfo&&R.stateNode.implementation===U.implementation){r(q,R.sibling),R=i(R,U.children||[]),R.return=q,q=R;break e}else{r(q,R);break}}else t(q,R);R=R.sibling}R=VL(U,q.mode,Y),R.return=q,q=R}return u(q)}if(typeof U=="string"||typeof U=="number")return U=""+U,R!==null&&R.tag===6?(r(q,R.sibling),R=i(R,U),R.return=q,q=R):(r(q,R),R=UL(U,q.mode,Y),R.return=q,q=R),u(q);if(UT(U))return z(q,R,U,Y);if(Hb(U))return F(q,R,U,Y);if(de&&VT(q,U),typeof U=="undefined"&&!re)switch(q.tag){case 1:case 22:case 0:case 11:case 15:throw Error(Lt(152,Ey(q.type)||"Component"))}return r(q,R)}}var gM=Lre(!0),Rre=Lre(!1),qx={},Tc=Od(qx),Dx=Od(qx),Nx=Od(qx);function zm(e){if(e===qx)throw Error(Lt(174));return e}function hR(e,t){switch($i(Nx,t),$i(Dx,e),$i(Tc,qx),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:QL(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=QL(t,e)}Ii(Tc),$i(Tc,t)}function zy(){Ii(Tc),Ii(Dx),Ii(Nx)}function pte(e){zm(Nx.current);var t=zm(Tc.current),r=QL(t,e.type);t!==r&&($i(Dx,e),$i(Tc,r))}function aq(e){Dx.current===e&&(Ii(Tc),Ii(Dx))}var Vi=Od(0);function vM(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&64)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Fp=null,vd=null,Mc=!1;function qre(e,t){var r=ql(5,null,null,0);r.elementType="DELETED",r.type="DELETED",r.stateNode=t,r.return=e,r.flags=8,e.lastEffect!==null?(e.lastEffect.nextEffect=r,e.lastEffect=r):e.firstEffect=e.lastEffect=r}function fte(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,!0):!1;case 13:return!1;default:return!1}}function mR(e){if(Mc){var t=vd;if(t){var r=t;if(!fte(e,t)){if(t=Ay(r.nextSibling),!t||!fte(e,t)){e.flags=e.flags&-1025|2,Mc=!1,Fp=e;return}qre(Fp,r)}Fp=e,vd=Ay(t.firstChild)}else e.flags=e.flags&-1025|2,Mc=!1,Fp=e}}function dte(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Fp=e}function $T(e){if(e!==Fp)return!1;if(!Mc)return dte(e),Mc=!0,!1;var t=e.type;if(e.tag!==5||t!=="head"&&t!=="body"&&!uR(t,e.memoizedProps))for(t=vd;t;)qre(e,t),t=Ay(t.nextSibling);if(dte(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Lt(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){vd=Ay(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}vd=null}}else vd=Fp?Ay(e.stateNode.nextSibling):null;return!0}function zL(){vd=Fp=null,Mc=!1}var Oy=[];function sq(){for(var e=0;e<Oy.length;e++)Oy[e]._workInProgressVersionPrimary=null;Oy.length=0}var gx=Gm.ReactCurrentDispatcher,zl=Gm.ReactCurrentBatchConfig,kx=0,no=null,La=null,na=null,yM=!1,vx=!1;function Os(){throw Error(Lt(321))}function lq(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Rl(e[r],t[r]))return!1;return!0}function uq(e,t,r,n,i,o){if(kx=o,no=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,gx.current=e===null||e.memoizedState===null?CWe:AWe,e=r(n,i),vx){o=0;do{if(vx=!1,!(25>o))throw Error(Lt(301));o+=1,na=La=null,t.updateQueue=null,gx.current=PWe,e=r(n,i)}while(vx)}if(gx.current=wM,t=La!==null&&La.next!==null,kx=0,na=La=no=null,yM=!1,t)throw Error(Lt(300));return e}function jm(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return na===null?no.memoizedState=na=e:na=na.next=e,na}function Wm(){if(La===null){var e=no.alternate;e=e!==null?e.memoizedState:null}else e=La.next;var t=na===null?no.memoizedState:na.next;if(t!==null)na=t,La=e;else{if(e===null)throw Error(Lt(310));La=e,e={memoizedState:La.memoizedState,baseState:La.baseState,baseQueue:La.baseQueue,queue:La.queue,next:null},na===null?no.memoizedState=na=e:na=na.next=e}return na}function Ic(e,t){return typeof t=="function"?t(e):t}function Qb(e){var t=Wm(),r=t.queue;if(r===null)throw Error(Lt(311));r.lastRenderedReducer=e;var n=La,i=n.baseQueue,o=r.pending;if(o!==null){if(i!==null){var u=i.next;i.next=o.next,o.next=u}n.baseQueue=i=o,r.pending=null}if(i!==null){i=i.next,n=n.baseState;var f=u=o=null,m=i;do{var y=m.lane;if((kx&y)===y)f!==null&&(f=f.next={lane:0,action:m.action,eagerReducer:m.eagerReducer,eagerState:m.eagerState,next:null}),n=m.eagerReducer===e?m.eagerState:e(n,m.action);else{var w={lane:y,action:m.action,eagerReducer:m.eagerReducer,eagerState:m.eagerState,next:null};f===null?(u=f=w,o=n):f=f.next=w,no.lanes|=y,zx|=y}m=m.next}while(m!==null&&m!==i);f===null?o=n:f.next=u,Rl(n,t.memoizedState)||(Au=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=f,r.lastRenderedState=n}return[t.memoizedState,r.dispatch]}function Jb(e){var t=Wm(),r=t.queue;if(r===null)throw Error(Lt(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,o=t.memoizedState;if(i!==null){r.pending=null;var u=i=i.next;do o=e(o,u.action),u=u.next;while(u!==i);Rl(o,t.memoizedState)||(Au=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function hte(e,t,r){var n=t._getVersion;n=n(t._source);var i=t._workInProgressVersionPrimary;if(i!==null?e=i===n:(e=e.mutableReadLanes,(e=(kx&e)===e)&&(t._workInProgressVersionPrimary=n,Oy.push(t))),e)return r(t._source);throw Oy.push(t),Error(Lt(350))}function zre(e,t,r,n){var i=us;if(i===null)throw Error(Lt(349));var o=t._getVersion,u=o(t._source),f=gx.current,m=f.useState(function(){return hte(i,t,r)}),y=m[1],w=m[0];m=na;var I=e.memoizedState,M=I.refs,N=M.getSnapshot,z=I.source;I=I.subscribe;var F=no;return e.memoizedState={refs:M,source:t,subscribe:n},f.useEffect(function(){M.getSnapshot=r,M.setSnapshot=y;var q=o(t._source);if(!Rl(u,q)){q=r(t._source),Rl(w,q)||(y(q),q=Sd(F),i.mutableReadLanes|=q&i.pendingLanes),q=i.mutableReadLanes,i.entangledLanes|=q;for(var R=i.entanglements,U=q;0<U;){var Y=31-Md(U),re=1<<Y;R[Y]|=q,U&=~re}}},[r,t,n]),f.useEffect(function(){return n(t._source,function(){var q=M.getSnapshot,R=M.setSnapshot;try{R(q(t._source));var U=Sd(F);i.mutableReadLanes|=U&i.pendingLanes}catch(Y){R(function(){throw Y})}})},[t,n]),Rl(N,r)&&Rl(z,t)&&Rl(I,n)||(e={pending:null,dispatch:null,lastRenderedReducer:Ic,lastRenderedState:w},e.dispatch=y=fq.bind(null,no,e),m.queue=e,m.baseQueue=null,w=hte(i,t,r),m.memoizedState=m.baseState=w),w}function jre(e,t,r){var n=Wm();return zre(n,e,t,r)}function ex(e){var t=jm();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e=t.queue={pending:null,dispatch:null,lastRenderedReducer:Ic,lastRenderedState:e},e=e.dispatch=fq.bind(null,no,e),[t.memoizedState,e]}function _M(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=no.updateQueue,t===null?(t={lastEffect:null},no.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function mte(e){var t=jm();return e={current:e},t.memoizedState=e}function bM(){return Wm().memoizedState}function gR(e,t,r,n){var i=jm();no.flags|=e,i.memoizedState=_M(1|t,r,void 0,n===void 0?null:n)}function cq(e,t,r,n){var i=Wm();n=n===void 0?null:n;var o=void 0;if(La!==null){var u=La.memoizedState;if(o=u.destroy,n!==null&&lq(n,u.deps)){_M(t,r,o,n);return}}no.flags|=e,i.memoizedState=_M(1|t,r,o,n)}function gte(e,t){return gR(516,4,e,t)}function xM(e,t){return cq(516,4,e,t)}function Fre(e,t){return cq(4,2,e,t)}function Bre(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ure(e,t,r){return r=r!=null?r.concat([e]):null,cq(4,2,Bre.bind(null,t,e),r)}function pq(){}function Vre(e,t){var r=Wm();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&lq(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function $re(e,t){var r=Wm();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&lq(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function MWe(e,t){var r=qy();Um(98>r?98:r,function(){e(!0)}),Um(97<r?97:r,function(){var n=zl.transition;zl.transition=1;try{e(!1),t()}finally{zl.transition=n}})}function fq(e,t,r){var n=pl(),i=Sd(e),o={lane:i,action:r,eagerReducer:null,eagerState:null,next:null},u=t.pending;if(u===null?o.next=o:(o.next=u.next,u.next=o),t.pending=o,u=e.alternate,e===no||u!==null&&u===no)vx=yM=!0;else{if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var f=t.lastRenderedState,m=u(f,r);if(o.eagerReducer=u,o.eagerState=m,Rl(m,f))return}catch(y){}finally{}Id(e,i,n)}}var wM={readContext:jl,useCallback:Os,useContext:Os,useEffect:Os,useImperativeHandle:Os,useLayoutEffect:Os,useMemo:Os,useReducer:Os,useRef:Os,useState:Os,useDebugValue:Os,useDeferredValue:Os,useTransition:Os,useMutableSource:Os,useOpaqueIdentifier:Os,unstable_isNewReconciler:!1},CWe={readContext:jl,useCallback:function(e,t){return jm().memoizedState=[e,t===void 0?null:t],e},useContext:jl,useEffect:gte,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,gR(4,2,Bre.bind(null,t,e),r)},useLayoutEffect:function(e,t){return gR(4,2,e,t)},useMemo:function(e,t){var r=jm();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=jm();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e=n.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},e=e.dispatch=fq.bind(null,no,e),[n.memoizedState,e]},useRef:mte,useState:ex,useDebugValue:pq,useDeferredValue:function(e){var t=ex(e),r=t[0],n=t[1];return gte(function(){var i=zl.transition;zl.transition=1;try{n(e)}finally{zl.transition=i}},[e]),r},useTransition:function(){var e=ex(!1),t=e[0];return e=MWe.bind(null,e[1]),mte(e),[e,t]},useMutableSource:function(e,t,r){var n=jm();return n.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:r},zre(n,e,t,r)},useOpaqueIdentifier:function(){if(Mc){var e=!1,t=xWe(function(){throw e||(e=!0,r("r:"+(LL++).toString(36))),Error(Lt(355))}),r=ex(t)[1];return(no.mode&2)===0&&(no.flags|=516,_M(5,function(){r("r:"+(LL++).toString(36))},void 0,null)),t}return t="r:"+(LL++).toString(36),ex(t),t},unstable_isNewReconciler:!1},AWe={readContext:jl,useCallback:Vre,useContext:jl,useEffect:xM,useImperativeHandle:Ure,useLayoutEffect:Fre,useMemo:$re,useReducer:Qb,useRef:bM,useState:function(){return Qb(Ic)},useDebugValue:pq,useDeferredValue:function(e){var t=Qb(Ic),r=t[0],n=t[1];return xM(function(){var i=zl.transition;zl.transition=1;try{n(e)}finally{zl.transition=i}},[e]),r},useTransition:function(){var e=Qb(Ic)[0];return[bM().current,e]},useMutableSource:jre,useOpaqueIdentifier:function(){return Qb(Ic)[0]},unstable_isNewReconciler:!1},PWe={readContext:jl,useCallback:Vre,useContext:jl,useEffect:xM,useImperativeHandle:Ure,useLayoutEffect:Fre,useMemo:$re,useReducer:Jb,useRef:bM,useState:function(){return Jb(Ic)},useDebugValue:pq,useDeferredValue:function(e){var t=Jb(Ic),r=t[0],n=t[1];return xM(function(){var i=zl.transition;zl.transition=1;try{n(e)}finally{zl.transition=i}},[e]),r},useTransition:function(){var e=Jb(Ic)[0];return[bM().current,e]},useMutableSource:jre,useOpaqueIdentifier:function(){return Jb(Ic)[0]},unstable_isNewReconciler:!1},OWe=Gm.ReactCurrentOwner,Au=!1;function Ds(e,t,r,n){t.child=e===null?Rre(t,null,r,n):gM(t,e.child,r,n)}function vte(e,t,r,n,i){r=r.render;var o=t.ref;return Py(t,i),n=uq(e,t,r,n,o,i),e!==null&&!Au?(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,Bp(e,t,i)):(t.flags|=1,Ds(e,t,n,i),t.child)}function yte(e,t,r,n,i,o){if(e===null){var u=r.type;return typeof u=="function"&&!yq(u)&&u.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=u,Gre(e,t,u,n,i,o)):(e=rM(r.type,null,n,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}return u=e.child,(i&o)===0&&(i=u.memoizedProps,r=r.compare,r=r!==null?r:Cx,r(i,n)&&e.ref===t.ref)?Bp(e,t,o):(t.flags|=1,e=Pd(u,n),e.ref=t.ref,e.return=t,t.child=e)}function Gre(e,t,r,n,i,o){if(e!==null&&Cx(e.memoizedProps,n)&&e.ref===t.ref)if(Au=!1,(o&i)!==0)(e.flags&16384)!==0&&(Au=!0);else return t.lanes=e.lanes,Bp(e,t,o);return vR(e,t,r,n,o)}function jL(e,t,r){var n=t.pendingProps,i=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden"||n.mode==="unstable-defer-without-hiding"){if((t.mode&4)===0)t.memoizedState={baseLanes:0},HT(t,r);else if((r&1073741824)!==0)t.memoizedState={baseLanes:0},HT(t,o!==null?o.baseLanes:r);else return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},HT(t,e),null;}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,HT(t,n);return Ds(e,t,i,r),t.child}function Hre(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=128)}function vR(e,t,r,n,i){var o=ks(r)?Bm:za.current;return o=Ry(t,o),Py(t,i),r=uq(e,t,r,n,o,i),e!==null&&!Au?(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,Bp(e,t,i)):(t.flags|=1,Ds(e,t,r,i),t.child)}function _te(e,t,r,n,i){if(ks(r)){var o=!0;XT(t)}else o=!1;if(Py(t,i),t.stateNode===null)e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),kre(t,r,n),dR(t,r,n,i),n=!0;else if(e===null){var u=t.stateNode,f=t.memoizedProps;u.props=f;var m=u.context,y=r.contextType;typeof y=="object"&&y!==null?y=jl(y):(y=ks(r)?Bm:za.current,y=Ry(t,y));var w=r.getDerivedStateFromProps,I=typeof w=="function"||typeof u.getSnapshotBeforeUpdate=="function";I||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(f!==n||m!==y)&&cte(t,u,n,y),dd=!1;var M=t.memoizedState;u.state=M,Ox(t,n,u,i),m=t.memoizedState,f!==n||M!==m||Ns.current||dd?(typeof w=="function"&&(mM(t,r,w,n),m=t.memoizedState),(f=dd||ute(t,r,f,n,M,m,y))?(I||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4)):(typeof u.componentDidMount=="function"&&(t.flags|=4),t.memoizedProps=n,t.memoizedState=m),u.props=n,u.state=m,u.context=y,n=f):(typeof u.componentDidMount=="function"&&(t.flags|=4),n=!1)}else{u=t.stateNode,Dre(e,t),f=t.memoizedProps,y=t.type===t.elementType?f:Cu(t.type,f),u.props=y,I=t.pendingProps,M=u.context,m=r.contextType,typeof m=="object"&&m!==null?m=jl(m):(m=ks(r)?Bm:za.current,m=Ry(t,m));var N=r.getDerivedStateFromProps;(w=typeof N=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(f!==I||M!==m)&&cte(t,u,n,m),dd=!1,M=t.memoizedState,u.state=M,Ox(t,n,u,i);var z=t.memoizedState;f!==I||M!==z||Ns.current||dd?(typeof N=="function"&&(mM(t,r,N,n),z=t.memoizedState),(y=dd||ute(t,r,y,n,M,z,m))?(w||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(n,z,m),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(n,z,m)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=256)):(typeof u.componentDidUpdate!="function"||f===e.memoizedProps&&M===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&M===e.memoizedState||(t.flags|=256),t.memoizedProps=n,t.memoizedState=z),u.props=n,u.state=z,u.context=m,n=y):(typeof u.componentDidUpdate!="function"||f===e.memoizedProps&&M===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&M===e.memoizedState||(t.flags|=256),n=!1)}return yR(e,t,r,n,o,i)}function yR(e,t,r,n,i,o){Hre(e,t);var u=(t.flags&64)!==0;if(!n&&!u)return i&&ite(t,r,!1),Bp(e,t,o);n=t.stateNode,OWe.current=t;var f=u&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&u?(t.child=gM(t,e.child,null,o),t.child=gM(t,null,f,o)):Ds(e,t,f,o),t.memoizedState=n.state,i&&ite(t,r,!0),t.child}function bte(e){var t=e.stateNode;t.pendingContext?nte(e,t.pendingContext,t.pendingContext!==t.context):t.context&&nte(e,t.context,!1),hR(e,t.containerInfo)}var GT={dehydrated:null,retryLane:0};function xte(e,t,r){var n=t.pendingProps,i=Vi.current,o=!1,u;return(u=(t.flags&64)!==0)||(u=e!==null&&e.memoizedState===null?!1:(i&2)!==0),u?(o=!0,t.flags&=-65):e!==null&&e.memoizedState===null||n.fallback===void 0||n.unstable_avoidThisFallback===!0||(i|=1),$i(Vi,i&1),e===null?(n.fallback!==void 0&&mR(t),e=n.children,i=n.fallback,o?(e=wte(t,e,i,r),t.child.memoizedState={baseLanes:r},t.memoizedState=GT,e):typeof n.unstable_expectedLoadTime=="number"?(e=wte(t,e,i,r),t.child.memoizedState={baseLanes:r},t.memoizedState=GT,t.lanes=33554432,e):(r=_q({mode:"visible",children:e},t.mode,r,null),r.return=t,t.child=r)):e.memoizedState!==null?o?(n=Ite(e,t,n.children,n.fallback,r),o=t.child,i=e.child.memoizedState,o.memoizedState=i===null?{baseLanes:r}:{baseLanes:i.baseLanes|r},o.childLanes=e.childLanes&~r,t.memoizedState=GT,n):(r=Ste(e,t,n.children,r),t.memoizedState=null,r):o?(n=Ite(e,t,n.children,n.fallback,r),o=t.child,i=e.child.memoizedState,o.memoizedState=i===null?{baseLanes:r}:{baseLanes:i.baseLanes|r},o.childLanes=e.childLanes&~r,t.memoizedState=GT,n):(r=Ste(e,t,n.children,r),t.memoizedState=null,r)}function wte(e,t,r,n){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},(i&2)===0&&o!==null?(o.childLanes=0,o.pendingProps=t):o=_q(t,i,0,null),r=ky(r,i,n,null),o.return=e,r.return=e,o.sibling=r,e.child=o,r}function Ste(e,t,r,n){var i=e.child;return e=i.sibling,r=Pd(i,{mode:"visible",children:r}),(t.mode&2)===0&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=r}function Ite(e,t,r,n,i){var o=t.mode,u=e.child;e=u.sibling;var f={mode:"hidden",children:r};return(o&2)===0&&t.child!==u?(r=t.child,r.childLanes=0,r.pendingProps=f,u=r.lastEffect,u!==null?(t.firstEffect=r.firstEffect,t.lastEffect=u,u.nextEffect=null):t.firstEffect=t.lastEffect=null):r=Pd(u,f),e!==null?n=Pd(e,n):(n=ky(n,o,i,null),n.flags|=2),n.return=t,r.return=t,r.sibling=n,t.child=r,n}function Ete(e,t){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ore(e.return,t)}function FL(e,t,r,n,i,o){var u=e.memoizedState;u===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i,lastEffect:o}:(u.isBackwards=t,u.rendering=null,u.renderingStartTime=0,u.last=n,u.tail=r,u.tailMode=i,u.lastEffect=o)}function Tte(e,t,r){var n=t.pendingProps,i=n.revealOrder,o=n.tail;if(Ds(e,t,n.children,r),n=Vi.current,(n&2)!==0)n=n&1|2,t.flags|=64;else{if(e!==null&&(e.flags&64)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ete(e,r);else if(e.tag===19)Ete(e,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if($i(Vi,n),(t.mode&2)===0)t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&vM(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),FL(t,!1,i,r,o,t.lastEffect);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&vM(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}FL(t,!0,r,null,o,t.lastEffect);break;case"together":FL(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Bp(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),zx|=t.lanes,(r&t.childLanes)!==0){if(e!==null&&t.child!==e.child)throw Error(Lt(153));if(t.child!==null){for(e=t.child,r=Pd(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Pd(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}return null}var Wre,_R,Zre,Yre;Wre=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};_R=function(){};Zre=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,zm(Tc.current);var o=null;switch(r){case"input":i=HL(e,i),n=HL(e,n),o=[];break;case"option":i=YL(e,i),n=YL(e,n),o=[];break;case"select":i=Pi({},i,{value:void 0}),n=Pi({},n,{value:void 0}),o=[];break;case"textarea":i=KL(e,i),n=KL(e,n),o=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=uM)}JL(r,n);var u;r=null;for(y in i)if(!n.hasOwnProperty(y)&&i.hasOwnProperty(y)&&i[y]!=null)if(y==="style"){var f=i[y];for(u in f)f.hasOwnProperty(u)&&(r||(r={}),r[u]="")}else y!=="dangerouslySetInnerHTML"&&y!=="children"&&y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(xx.hasOwnProperty(y)?o||(o=[]):(o=o||[]).push(y,null));for(y in n){var m=n[y];if(f=i!=null?i[y]:void 0,n.hasOwnProperty(y)&&m!==f&&(m!=null||f!=null))if(y==="style"){if(f){for(u in f)!f.hasOwnProperty(u)||m&&m.hasOwnProperty(u)||(r||(r={}),r[u]="");for(u in m)m.hasOwnProperty(u)&&f[u]!==m[u]&&(r||(r={}),r[u]=m[u])}else r||(o||(o=[]),o.push(y,r)),r=m;}else y==="dangerouslySetInnerHTML"?(m=m?m.__html:void 0,f=f?f.__html:void 0,m!=null&&f!==m&&(o=o||[]).push(y,m)):y==="children"?typeof m!="string"&&typeof m!="number"||(o=o||[]).push(y,""+m):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&(xx.hasOwnProperty(y)?(m!=null&&y==="onScroll"&&Si("scroll",e),o||f===m||(o=[])):typeof m=="object"&&m!==null&&m.$$typeof===jR?m.toString():(o=o||[]).push(y,m))}r&&(o=o||[]).push("style",r);var y=o;(t.updateQueue=y)&&(t.flags|=4)}};Yre=function(e,t,r,n){r!==n&&(t.flags|=4)};function tx(e,t){if(!Mc)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function DWe(e,t,r){var n=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return ks(t.type)&&pM(),null;case 3:return zy(),Ii(Ns),Ii(za),sq(),n=t.stateNode,n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&($T(t)?t.flags|=4:n.hydrate||(t.flags|=256)),_R(t),null;case 5:aq(t);var i=zm(Nx.current);if(r=t.type,e!==null&&t.stateNode!=null)Zre(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=128);else{if(!n){if(t.stateNode===null)throw Error(Lt(166));return null}if(e=zm(Tc.current),$T(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[gd]=t,n[cM]=o,r){case"dialog":Si("cancel",n),Si("close",n);break;case"iframe":case"object":case"embed":Si("load",n);break;case"video":case"audio":for(e=0;e<ax.length;e++)Si(ax[e],n);break;case"source":Si("error",n);break;case"img":case"image":case"link":Si("error",n),Si("load",n);break;case"details":Si("toggle",n);break;case"input":Cee(n,o),Si("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Si("invalid",n);break;case"textarea":Pee(n,o),Si("invalid",n)}JL(r,o),e=null;for(var u in o)o.hasOwnProperty(u)&&(i=o[u],u==="children"?typeof i=="string"?n.textContent!==i&&(e=["children",i]):typeof i=="number"&&n.textContent!==""+i&&(e=["children",""+i]):xx.hasOwnProperty(u)&&i!=null&&u==="onScroll"&&Si("scroll",n));switch(r){case"input":LT(n),Aee(n,o,!0);break;case"textarea":LT(n),Oee(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=uM)}n=e,t.updateQueue=n,n!==null&&(t.flags|=4)}else{switch(u=i.nodeType===9?i:i.ownerDocument,e===XL.html&&(e=Ute(r)),e===XL.html?r==="script"?(e=u.createElement("div"),e.innerHTML="<script></script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=u.createElement(r,{is:n.is}):(e=u.createElement(r),r==="select"&&(u=e,n.multiple?u.multiple=!0:n.size&&(u.size=n.size))):e=u.createElementNS(e,r),e[gd]=t,e[cM]=n,Wre(e,t,!1,!1),t.stateNode=e,u=eR(r,n),r){case"dialog":Si("cancel",e),Si("close",e),i=n;break;case"iframe":case"object":case"embed":Si("load",e),i=n;break;case"video":case"audio":for(i=0;i<ax.length;i++)Si(ax[i],e);i=n;break;case"source":Si("error",e),i=n;break;case"img":case"image":case"link":Si("error",e),Si("load",e),i=n;break;case"details":Si("toggle",e),i=n;break;case"input":Cee(e,n),i=HL(e,n),Si("invalid",e);break;case"option":i=YL(e,n);break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=Pi({},n,{value:void 0}),Si("invalid",e);break;case"textarea":Pee(e,n),i=KL(e,n),Si("invalid",e);break;default:i=n}JL(r,i);var f=i;for(o in f)if(f.hasOwnProperty(o)){var m=f[o];o==="style"?Gte(e,m):o==="dangerouslySetInnerHTML"?(m=m?m.__html:void 0,m!=null&&Vte(e,m)):o==="children"?typeof m=="string"?(r!=="textarea"||m!=="")&&wx(e,m):typeof m=="number"&&wx(e,""+m):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(xx.hasOwnProperty(o)?m!=null&&o==="onScroll"&&Si("scroll",e):m!=null&&NR(e,o,m,u))}switch(r){case"input":LT(e),Aee(e,n,!1);break;case"textarea":LT(e),Oee(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Td(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?Ty(e,!!n.multiple,o,!1):n.defaultValue!=null&&Ty(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=uM)}wre(r,n)&&(t.flags|=4)}t.ref!==null&&(t.flags|=128)}return null;case 6:if(e&&t.stateNode!=null)Yre(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Lt(166));r=zm(Nx.current),zm(Tc.current),$T(t)?(n=t.stateNode,r=t.memoizedProps,n[gd]=t,n.nodeValue!==r&&(t.flags|=4)):(n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[gd]=t,t.stateNode=n)}return null;case 13:return Ii(Vi),n=t.memoizedState,(t.flags&64)!==0?(t.lanes=r,t):(n=n!==null,r=!1,e===null?t.memoizedProps.fallback!==void 0&&$T(t):r=e.memoizedState!==null,n&&!r&&(t.mode&2)!==0&&(e===null&&t.memoizedProps.unstable_avoidThisFallback!==!0||(Vi.current&1)!==0?ia===0&&(ia=3):((ia===0||ia===3)&&(ia=4),us===null||(zx&134217727)===0&&(Uy&134217727)===0||Dy(us,qa))),(n||r)&&(t.flags|=4),null);case 4:return zy(),_R(t),e===null&&_re(t.stateNode.containerInfo),null;case 10:return iq(t),null;case 17:return ks(t.type)&&pM(),null;case 19:if(Ii(Vi),n=t.memoizedState,n===null)return null;if(o=(t.flags&64)!==0,u=n.rendering,u===null){if(o)tx(n,!1);else{if(ia!==0||e!==null&&(e.flags&64)!==0)for(e=t.child;e!==null;){if(u=vM(e),u!==null){for(t.flags|=64,tx(n,!1),o=u.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),n.lastEffect===null&&(t.firstEffect=null),t.lastEffect=n.lastEffect,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,u=o.alternate,u===null?(o.childLanes=0,o.lanes=e,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return $i(Vi,Vi.current&1|2),t.child}e=e.sibling}n.tail!==null&&Ra()>ER&&(t.flags|=64,o=!0,tx(n,!1),t.lanes=33554432)}}else{if(!o)if(e=vM(u),e!==null){if(t.flags|=64,o=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),tx(n,!0),n.tail===null&&n.tailMode==="hidden"&&!u.alternate&&!Mc)return t=t.lastEffect=n.lastEffect,t!==null&&(t.nextEffect=null),null}else 2*Ra()-n.renderingStartTime>ER&&r!==1073741824&&(t.flags|=64,o=!0,tx(n,!1),t.lanes=33554432);n.isBackwards?(u.sibling=t.child,t.child=u):(r=n.last,r!==null?r.sibling=u:t.child=u,n.last=u)}return n.tail!==null?(r=n.tail,n.rendering=r,n.tail=r.sibling,n.lastEffect=t.lastEffect,n.renderingStartTime=Ra(),r.sibling=null,t=Vi.current,$i(Vi,o?t&1|2:t&1),r):null;case 23:case 24:return vq(),e!==null&&e.memoizedState!==null!=(t.memoizedState!==null)&&n.mode!=="unstable-defer-without-hiding"&&(t.flags|=4),null}throw Error(Lt(156,t.tag))}function NWe(e){switch(e.tag){case 1:ks(e.type)&&pM();var t=e.flags;return t&4096?(e.flags=t&-4097|64,e):null;case 3:if(zy(),Ii(Ns),Ii(za),sq(),t=e.flags,(t&64)!==0)throw Error(Lt(285));return e.flags=t&-4097|64,e;case 5:return aq(e),null;case 13:return Ii(Vi),t=e.flags,t&4096?(e.flags=t&-4097|64,e):null;case 19:return Ii(Vi),null;case 4:return zy(),null;case 10:return iq(e),null;case 23:case 24:return vq(),null;default:return null}}function dq(e,t){try{var r="",n=t;do r+=dHe(n),n=n.return;while(n);var i=r}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i}}function bR(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var kWe=typeof WeakMap=="function"?WeakMap:Map;function Kre(e,t,r){r=xd(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){IM||(IM=!0,TR=n),bR(e,t)},r}function Xre(e,t,r){r=xd(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return bR(e,t),n(i)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){typeof n!="function"&&(Ec===null?Ec=new Set([this]):Ec.add(this),bR(e,t));var u=t.stack;this.componentDidCatch(t.value,{componentStack:u!==null?u:""})}),r}var LWe=typeof WeakSet=="function"?WeakSet:Set;function Mte(e){var t=e.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){Ed(e,r)}else t.current=null}function RWe(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(t.flags&256&&e!==null){var r=e.memoizedProps,n=e.memoizedState;e=t.stateNode,t=e.getSnapshotBeforeUpdate(t.elementType===t.type?r:Cu(t.type,r),n),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:t.flags&256&&eq(t.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(Lt(163))}function qWe(e,t,r){switch(r.tag){case 0:case 11:case 15:case 22:if(t=r.updateQueue,t=t!==null?t.lastEffect:null,t!==null){e=t=t.next;do{if((e.tag&3)===3){var n=e.create;e.destroy=n()}e=e.next}while(e!==t)}if(t=r.updateQueue,t=t!==null?t.lastEffect:null,t!==null){e=t=t.next;do{var i=e;n=i.next,i=i.tag,(i&4)!==0&&(i&1)!==0&&(ane(r,e),GWe(r,e)),e=n}while(e!==t)}return;case 1:e=r.stateNode,r.flags&4&&(t===null?e.componentDidMount():(n=r.elementType===r.type?t.memoizedProps:Cu(r.type,t.memoizedProps),e.componentDidUpdate(n,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),t=r.updateQueue,t!==null&&lte(r,t,e);return;case 3:if(t=r.updateQueue,t!==null){if(e=null,r.child!==null)switch(r.child.tag){case 5:e=r.child.stateNode;break;case 1:e=r.child.stateNode}lte(r,t,e)}return;case 5:e=r.stateNode,t===null&&r.flags&4&&wre(r.type,r.memoizedProps)&&e.focus();return;case 6:return;case 4:return;case 12:return;case 13:r.memoizedState===null&&(r=r.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&tre(r))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(Lt(163))}function Cte(e,t){for(var r=e;;){if(r.tag===5){var n=r.stateNode;if(t)n=n.style,typeof n.setProperty=="function"?n.setProperty("display","none","important"):n.display="none";else{n=r.stateNode;var i=r.memoizedProps.style;i=i!=null&&i.hasOwnProperty("display")?i.display:null,n.style.display=$te("display",i)}}else if(r.tag===6)r.stateNode.nodeValue=t?"":r.memoizedProps;else if((r.tag!==23&&r.tag!==24||r.memoizedState===null||r===e)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}}function Ate(e,t){if(Fm&&typeof Fm.onCommitFiberUnmount=="function")try{Fm.onCommitFiberUnmount(tq,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(e=t.updateQueue,e!==null&&(e=e.lastEffect,e!==null)){var r=e=e.next;do{var n=r,i=n.destroy;if(n=n.tag,i!==void 0)if((n&4)!==0)ane(t,r);else{n=t;try{i()}catch(o){Ed(n,o)}}r=r.next}while(r!==e)}break;case 1:if(Mte(t),e=t.stateNode,typeof e.componentWillUnmount=="function")try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){Ed(t,o)}break;case 5:Mte(t);break;case 4:Qre(e,t)}}function Pte(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function Ote(e){return e.tag===5||e.tag===3||e.tag===4}function Dte(e){e:{for(var t=e.return;t!==null;){if(Ote(t))break e;t=t.return}throw Error(Lt(160))}var r=t;switch(t=r.stateNode,r.tag){case 5:var n=!1;break;case 3:t=t.containerInfo,n=!0;break;case 4:t=t.containerInfo,n=!0;break;default:throw Error(Lt(161))}r.flags&16&&(wx(t,""),r.flags&=-17);e:t:for(r=e;;){for(;r.sibling===null;){if(r.return===null||Ote(r.return)){r=null;break e}r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2)){r=r.stateNode;break e}}n?xR(e,r,t):wR(e,r,t)}function xR(e,t,r){var n=e.tag,i=n===5||n===6;if(i)e=i?e.stateNode:e.stateNode.instance,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=uM));else if(n!==4&&(e=e.child,e!==null))for(xR(e,t,r),e=e.sibling;e!==null;)xR(e,t,r),e=e.sibling}function wR(e,t,r){var n=e.tag,i=n===5||n===6;if(i)e=i?e.stateNode:e.stateNode.instance,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(wR(e,t,r),e=e.sibling;e!==null;)wR(e,t,r),e=e.sibling}function Qre(e,t){for(var r=t,n=!1,i,o;;){if(!n){n=r.return;e:for(;;){if(n===null)throw Error(Lt(160));switch(i=n.stateNode,n.tag){case 5:o=!1;break e;case 3:i=i.containerInfo,o=!0;break e;case 4:i=i.containerInfo,o=!0;break e}n=n.return}n=!0}if(r.tag===5||r.tag===6){e:for(var u=e,f=r,m=f;;)if(Ate(u,m),m.child!==null&&m.tag!==4)m.child.return=m,m=m.child;else{if(m===f)break e;for(;m.sibling===null;){if(m.return===null||m.return===f)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}o?(u=i,f=r.stateNode,u.nodeType===8?u.parentNode.removeChild(f):u.removeChild(f)):i.removeChild(r.stateNode)}else if(r.tag===4){if(r.child!==null){i=r.stateNode.containerInfo,o=!0,r.child.return=r,r=r.child;continue}}else if(Ate(e,r),r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return,r.tag===4&&(n=!1)}r.sibling.return=r.return,r=r.sibling}}function BL(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var n=r=r.next;do(n.tag&3)===3&&(e=n.destroy,n.destroy=void 0,e!==void 0&&e()),n=n.next;while(n!==r)}return;case 1:return;case 5:if(r=t.stateNode,r!=null){n=t.memoizedProps;var i=e!==null?e.memoizedProps:n;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,o!==null){for(r[cM]=n,e==="input"&&n.type==="radio"&&n.name!=null&&Fte(r,n),eR(e,i),t=eR(e,n),i=0;i<o.length;i+=2){var u=o[i],f=o[i+1];u==="style"?Gte(r,f):u==="dangerouslySetInnerHTML"?Vte(r,f):u==="children"?wx(r,f):NR(r,u,f,t)}switch(e){case"input":WL(r,n);break;case"textarea":Bte(r,n);break;case"select":e=r._wrapperState.wasMultiple,r._wrapperState.wasMultiple=!!n.multiple,o=n.value,o!=null?Ty(r,!!n.multiple,o,!1):e!==!!n.multiple&&(n.defaultValue!=null?Ty(r,!!n.multiple,n.defaultValue,!0):Ty(r,!!n.multiple,n.multiple?[]:"",!1))}}}return;case 6:if(t.stateNode===null)throw Error(Lt(162));t.stateNode.nodeValue=t.memoizedProps;return;case 3:r=t.stateNode,r.hydrate&&(r.hydrate=!1,tre(r.containerInfo));return;case 12:return;case 13:t.memoizedState!==null&&(gq=Ra(),Cte(t.child,!0)),Nte(t);return;case 19:Nte(t);return;case 17:return;case 23:case 24:Cte(t,t.memoizedState!==null);return}throw Error(Lt(163))}function Nte(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new LWe),t.forEach(function(n){var i=ZWe.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function zWe(e,t){return e!==null&&(e=e.memoizedState,e===null||e.dehydrated!==null)?(t=t.memoizedState,t!==null&&t.dehydrated===null):!1}var jWe=Math.ceil,SM=Gm.ReactCurrentDispatcher,hq=Gm.ReactCurrentOwner,zr=0,us=null,Ao=null,qa=0,Vm=0,SR=Od(0),ia=0,qM=null,By=0,zx=0,Uy=0,mq=0,IR=null,gq=0,ER=1/0;function Vy(){ER=Ra()+500}var nr=null,IM=!1,TR=null,Ec=null,Ad=!1,yx=null,sx=90,MR=[],CR=[],Up=null,_x=0,AR=null,JT=-1,jp=0,eM=0,bx=null,tM=!1;function pl(){return(zr&48)!==0?Ra():JT!==-1?JT:JT=Ra()}function Sd(e){if(e=e.mode,(e&2)===0)return 1;if((e&4)===0)return qy()===99?1:2;if(jp===0&&(jp=By),TWe.transition!==0){eM!==0&&(eM=IR!==null?IR.pendingLanes:0),e=jp;var t=4186112&~eM;return t&=-t,t===0&&(e=4186112&~e,t=e&-e,t===0&&(t=8192)),t}return e=qy(),(zr&4)!==0&&e===98?e=sM(12,jp):(e=AHe(e),e=sM(e,jp)),e}function Id(e,t,r){if(50<_x)throw _x=0,AR=null,Error(Lt(185));if(e=zM(e,t),e===null)return null;PM(e,t,r),e===us&&(Uy|=t,ia===4&&Dy(e,qa));var n=qy();t===1?(zr&8)!==0&&(zr&48)===0?PR(e):(Fl(e,r),zr===0&&(Vy(),Cc())):((zr&4)===0||n!==98&&n!==99||(Up===null?Up=new Set([e]):Up.add(e)),Fl(e,r)),IR=e}function zM(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}function Fl(e,t){for(var r=e.callbackNode,n=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,u=e.pendingLanes;0<u;){var f=31-Md(u),m=1<<f,y=o[f];if(y===-1){if((m&n)===0||(m&i)!==0){y=t,vy(m);var w=hi;o[f]=10<=w?y+250:6<=w?y+5e3:-1}}else y<=t&&(e.expiredLanes|=m);u&=~m}if(n=Tx(e,e===us?qa:0),t=hi,n===0)r!==null&&(r!==RL&&pR(r),e.callbackNode=null,e.callbackPriority=0);else{if(r!==null){if(e.callbackPriority===t)return;r!==RL&&pR(r)}t===15?(r=PR.bind(null,e),zp===null?(zp=[r],QT=rq(LM,Pre)):zp.push(r),r=RL):t===14?r=Px(99,PR.bind(null,e)):(r=PHe(t),r=Px(r,Jre.bind(null,e))),e.callbackPriority=t,e.callbackNode=r}}function Jre(e){if(JT=-1,eM=jp=0,(zr&48)!==0)throw Error(Lt(327));var t=e.callbackNode;if(Dd()&&e.callbackNode!==t)return null;var r=Tx(e,e===us?qa:0);if(r===0)return null;var n=r,i=zr;zr|=16;var o=nne();(us!==e||qa!==n)&&(Vy(),Ny(e,n));do try{UWe();break}catch(f){rne(e,f)}while(!0);if(nq(),SM.current=o,zr=i,Ao!==null?n=0:(us=null,qa=0,n=ia),(By&Uy)!==0)Ny(e,0);else if(n!==0){if(n===2&&(zr|=64,e.hydrate&&(e.hydrate=!1,eq(e.containerInfo)),r=lre(e),r!==0&&(n=lx(e,r))),n===1)throw t=qM,Ny(e,0),Dy(e,r),Fl(e,Ra()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=r,n){case 0:case 1:throw Error(Lt(345));case 2:km(e);break;case 3:if(Dy(e,r),(r&62914560)===r&&(n=gq+500-Ra(),10<n)){if(Tx(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){pl(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ete(km.bind(null,e),n);break}km(e);break;case 4:if(Dy(e,r),(r&4186112)===r)break;for(n=e.eventTimes,i=-1;0<r;){var u=31-Md(r);o=1<<u,u=n[u],u>i&&(i=u),r&=~o}if(r=i,r=Ra()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*jWe(r/1960))-r,10<r){e.timeoutHandle=ete(km.bind(null,e),r);break}km(e);break;case 5:km(e);break;default:throw Error(Lt(329))}}return Fl(e,Ra()),e.callbackNode===t?Jre.bind(null,e):null}function Dy(e,t){for(t&=~mq,t&=~Uy,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Md(t),n=1<<r;e[r]=-1,t&=~n}}function PR(e){if((zr&48)!==0)throw Error(Lt(327));if(Dd(),e===us&&(e.expiredLanes&qa)!==0){var t=qa,r=lx(e,t);(By&Uy)!==0&&(t=Tx(e,t),r=lx(e,t))}else t=Tx(e,0),r=lx(e,t);if(e.tag!==0&&r===2&&(zr|=64,e.hydrate&&(e.hydrate=!1,eq(e.containerInfo)),t=lre(e),t!==0&&(r=lx(e,t))),r===1)throw r=qM,Ny(e,0),Dy(e,t),Fl(e,Ra()),r;return e.finishedWork=e.current.alternate,e.finishedLanes=t,km(e),Fl(e,Ra()),null}function FWe(){if(Up!==null){var e=Up;Up=null,e.forEach(function(t){t.expiredLanes|=24&t.pendingLanes,Fl(t,Ra())})}Cc()}function ene(e,t){var r=zr;zr|=1;try{return e(t)}finally{zr=r,zr===0&&(Vy(),Cc())}}function tne(e,t){var r=zr;zr&=-2,zr|=8;try{return e(t)}finally{zr=r,zr===0&&(Vy(),Cc())}}function HT(e,t){$i(SR,Vm),Vm|=t,By|=t}function vq(){Vm=SR.current,Ii(SR)}function Ny(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,bWe(r)),Ao!==null)for(r=Ao.return;r!==null;){var n=r;switch(n.tag){case 1:n=n.type.childContextTypes,n!=null&&pM();break;case 3:zy(),Ii(Ns),Ii(za),sq();break;case 5:aq(n);break;case 4:zy();break;case 13:Ii(Vi);break;case 19:Ii(Vi);break;case 10:iq(n);break;case 23:case 24:vq()}r=r.return}us=e,Ao=Pd(e.current,null),qa=Vm=By=t,ia=0,qM=null,mq=Uy=zx=0}function rne(e,t){do{var r=Ao;try{if(nq(),gx.current=wM,yM){for(var n=no.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}yM=!1}if(kx=0,na=La=no=null,vx=!1,hq.current=null,r===null||r.return===null){ia=1,qM=t,Ao=null;break}e:{var o=e,u=r.return,f=r,m=t;if(t=qa,f.flags|=2048,f.firstEffect=f.lastEffect=null,m!==null&&typeof m=="object"&&typeof m.then=="function"){var y=m;if((f.mode&2)===0){var w=f.alternate;w?(f.updateQueue=w.updateQueue,f.memoizedState=w.memoizedState,f.lanes=w.lanes):(f.updateQueue=null,f.memoizedState=null)}var I=(Vi.current&1)!==0,M=u;do{var N;if(N=M.tag===13){var z=M.memoizedState;if(z!==null)N=z.dehydrated!==null;else{var F=M.memoizedProps;N=F.fallback===void 0?!1:F.unstable_avoidThisFallback!==!0?!0:!I}}if(N){var q=M.updateQueue;if(q===null){var R=new Set;R.add(y),M.updateQueue=R}else q.add(y);if((M.mode&2)===0){if(M.flags|=64,f.flags|=16384,f.flags&=-2981,f.tag===1)if(f.alternate===null)f.tag=17;else{var U=xd(-1,1);U.tag=2,wd(f,U)}f.lanes|=1;break e}m=void 0,f=t;var Y=o.pingCache;if(Y===null?(Y=o.pingCache=new kWe,m=new Set,Y.set(y,m)):(m=Y.get(y),m===void 0&&(m=new Set,Y.set(y,m))),!m.has(f)){m.add(f);var re=WWe.bind(null,o,y,f);y.then(re,re)}M.flags|=4096,M.lanes=t;break e}M=M.return}while(M!==null);m=Error((Ey(f.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}ia!==5&&(ia=2),m=dq(m,f),M=u;do{switch(M.tag){case 3:o=m,M.flags|=4096,t&=-t,M.lanes|=t;var de=Kre(M,o,t);ste(M,de);break e;case 1:o=m;var ce=M.type,Se=M.stateNode;if((M.flags&64)===0&&(typeof ce.getDerivedStateFromError=="function"||Se!==null&&typeof Se.componentDidCatch=="function"&&(Ec===null||!Ec.has(Se)))){M.flags|=4096,t&=-t,M.lanes|=t;var qe=Xre(M,o,t);ste(M,qe);break e}}M=M.return}while(M!==null)}one(r)}catch(Re){t=Re,Ao===r&&r!==null&&(Ao=r=r.return);continue}break}while(!0)}function nne(){var e=SM.current;return SM.current=wM,e===null?wM:e}function lx(e,t){var r=zr;zr|=16;var n=nne();us===e&&qa===t||Ny(e,t);do try{BWe();break}catch(i){rne(e,i)}while(!0);if(nq(),zr=r,SM.current=n,Ao!==null)throw Error(Lt(261));return us=null,qa=0,ia}function BWe(){for(;Ao!==null;)ine(Ao)}function UWe(){for(;Ao!==null&&!SWe();)ine(Ao)}function ine(e){var t=sne(e.alternate,e,Vm);e.memoizedProps=e.pendingProps,t===null?one(e):Ao=t,hq.current=null}function one(e){var t=e;do{var r=t.alternate;if(e=t.return,(t.flags&2048)===0){if(r=DWe(r,t,Vm),r!==null){Ao=r;return}if(r=t,r.tag!==24&&r.tag!==23||r.memoizedState===null||(Vm&1073741824)!==0||(r.mode&4)===0){for(var n=0,i=r.child;i!==null;)n|=i.lanes|i.childLanes,i=i.sibling;r.childLanes=n}e!==null&&(e.flags&2048)===0&&(e.firstEffect===null&&(e.firstEffect=t.firstEffect),t.lastEffect!==null&&(e.lastEffect!==null&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(e.lastEffect!==null?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(r=NWe(t),r!==null){r.flags&=2047,Ao=r;return}e!==null&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(t=t.sibling,t!==null){Ao=t;return}Ao=t=e}while(t!==null);ia===0&&(ia=5)}function km(e){var t=qy();return Um(99,VWe.bind(null,e,t)),null}function VWe(e,t){do Dd();while(yx!==null);if((zr&48)!==0)throw Error(Lt(327));var r=e.finishedWork;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Lt(177));e.callbackNode=null;var n=r.lanes|r.childLanes,i=n,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var u=e.eventTimes,f=e.expirationTimes;0<o;){var m=31-Md(o),y=1<<m;i[m]=0,u[m]=-1,f[m]=-1,o&=~y}if(Up!==null&&(n&24)===0&&Up.has(e)&&Up.delete(e),e===us&&(Ao=us=null,qa=0),1<r.flags?r.lastEffect!==null?(r.lastEffect.nextEffect=r,n=r.firstEffect):n=r:n=r.firstEffect,n!==null){if(i=zr,zr|=32,hq.current=null,NL=ZT,u=Zee(),aR(u)){if("selectionStart"in u)f={start:u.selectionStart,end:u.selectionEnd};else e:if(f=(f=u.ownerDocument)&&f.defaultView||window,(y=f.getSelection&&f.getSelection())&&y.rangeCount!==0){f=y.anchorNode,o=y.anchorOffset,m=y.focusNode,y=y.focusOffset;try{f.nodeType,m.nodeType}catch(Re){f=null;break e}var w=0,I=-1,M=-1,N=0,z=0,F=u,q=null;t:for(;;){for(var R;F!==f||o!==0&&F.nodeType!==3||(I=w+o),F!==m||y!==0&&F.nodeType!==3||(M=w+y),F.nodeType===3&&(w+=F.nodeValue.length),(R=F.firstChild)!==null;)q=F,F=R;for(;;){if(F===u)break t;if(q===f&&++N===o&&(I=w),q===m&&++z===y&&(M=w),(R=F.nextSibling)!==null)break;F=q,q=F.parentNode}F=R}f=I===-1||M===-1?null:{start:I,end:M}}else f=null;f=f||{start:0,end:0}}else f=null;kL={focusedElem:u,selectionRange:f},ZT=!1,bx=null,tM=!1,nr=n;do try{$We()}catch(Re){if(nr===null)throw Error(Lt(330));Ed(nr,Re),nr=nr.nextEffect}while(nr!==null);bx=null,nr=n;do try{for(u=e;nr!==null;){var U=nr.flags;if(U&16&&wx(nr.stateNode,""),U&128){var Y=nr.alternate;if(Y!==null){var re=Y.ref;re!==null&&(typeof re=="function"?re(null):re.current=null)}}switch(U&1038){case 2:Dte(nr),nr.flags&=-3;break;case 6:Dte(nr),nr.flags&=-3,BL(nr.alternate,nr);break;case 1024:nr.flags&=-1025;break;case 1028:nr.flags&=-1025,BL(nr.alternate,nr);break;case 4:BL(nr.alternate,nr);break;case 8:f=nr,Qre(u,f);var de=f.alternate;Pte(f),de!==null&&Pte(de)}nr=nr.nextEffect}}catch(Re){if(nr===null)throw Error(Lt(330));Ed(nr,Re),nr=nr.nextEffect}while(nr!==null);if(re=kL,Y=Zee(),U=re.focusedElem,u=re.selectionRange,Y!==U&&U&&U.ownerDocument&&gre(U.ownerDocument.documentElement,U)){for(u!==null&&aR(U)&&(Y=u.start,re=u.end,re===void 0&&(re=Y),"selectionStart"in U?(U.selectionStart=Y,U.selectionEnd=Math.min(re,U.value.length)):(re=(Y=U.ownerDocument||document)&&Y.defaultView||window,re.getSelection&&(re=re.getSelection(),f=U.textContent.length,de=Math.min(u.start,f),u=u.end===void 0?de:Math.min(u.end,f),!re.extend&&de>u&&(f=u,u=de,de=f),f=Wee(U,de),o=Wee(U,u),f&&o&&(re.rangeCount!==1||re.anchorNode!==f.node||re.anchorOffset!==f.offset||re.focusNode!==o.node||re.focusOffset!==o.offset)&&(Y=Y.createRange(),Y.setStart(f.node,f.offset),re.removeAllRanges(),de>u?(re.addRange(Y),re.extend(o.node,o.offset)):(Y.setEnd(o.node,o.offset),re.addRange(Y)))))),Y=[],re=U;re=re.parentNode;)re.nodeType===1&&Y.push({element:re,left:re.scrollLeft,top:re.scrollTop});for(typeof U.focus=="function"&&U.focus(),U=0;U<Y.length;U++)re=Y[U],re.element.scrollLeft=re.left,re.element.scrollTop=re.top}ZT=!!NL,kL=NL=null,e.current=r,nr=n;do try{for(U=e;nr!==null;){var ce=nr.flags;if(ce&36&&qWe(U,nr.alternate,nr),ce&128){Y=void 0;var Se=nr.ref;if(Se!==null){var qe=nr.stateNode;switch(nr.tag){case 5:Y=qe;break;default:Y=qe}typeof Se=="function"?Se(Y):Se.current=Y}}nr=nr.nextEffect}}catch(Re){if(nr===null)throw Error(Lt(330));Ed(nr,Re),nr=nr.nextEffect}while(nr!==null);nr=null,EWe(),zr=i}else e.current=r;if(Ad)Ad=!1,yx=e,sx=t;else for(nr=n;nr!==null;)t=nr.nextEffect,nr.nextEffect=null,nr.flags&8&&(ce=nr,ce.sibling=null,ce.stateNode=null),nr=t;if(n=e.pendingLanes,n===0&&(Ec=null),n===1?e===AR?_x++:(_x=0,AR=e):_x=0,r=r.stateNode,Fm&&typeof Fm.onCommitFiberRoot=="function")try{Fm.onCommitFiberRoot(tq,r,void 0,(r.current.flags&64)===64)}catch(Re){}if(Fl(e,Ra()),IM)throw IM=!1,e=TR,TR=null,e;return(zr&8)!==0||Cc(),null}function $We(){for(;nr!==null;){var e=nr.alternate;tM||bx===null||((nr.flags&8)!==0?kee(nr,bx)&&(tM=!0):nr.tag===13&&zWe(e,nr)&&kee(nr,bx)&&(tM=!0));var t=nr.flags;(t&256)!==0&&RWe(e,nr),(t&512)===0||Ad||(Ad=!0,Px(97,function(){return Dd(),null})),nr=nr.nextEffect}}function Dd(){if(sx!==90){var e=97<sx?97:sx;return sx=90,Um(e,HWe)}return!1}function GWe(e,t){MR.push(t,e),Ad||(Ad=!0,Px(97,function(){return Dd(),null}))}function ane(e,t){CR.push(t,e),Ad||(Ad=!0,Px(97,function(){return Dd(),null}))}function HWe(){if(yx===null)return!1;var e=yx;if(yx=null,(zr&48)!==0)throw Error(Lt(331));var t=zr;zr|=32;var r=CR;CR=[];for(var n=0;n<r.length;n+=2){var i=r[n],o=r[n+1],u=i.destroy;if(i.destroy=void 0,typeof u=="function")try{u()}catch(m){if(o===null)throw Error(Lt(330));Ed(o,m)}}for(r=MR,MR=[],n=0;n<r.length;n+=2){i=r[n],o=r[n+1];try{var f=i.create;i.destroy=f()}catch(m){if(o===null)throw Error(Lt(330));Ed(o,m)}}for(f=e.current.firstEffect;f!==null;)e=f.nextEffect,f.nextEffect=null,f.flags&8&&(f.sibling=null,f.stateNode=null),f=e;return zr=t,Cc(),!0}function kte(e,t,r){t=dq(r,t),t=Kre(e,t,1),wd(e,t),t=pl(),e=zM(e,1),e!==null&&(PM(e,1,t),Fl(e,t))}function Ed(e,t){if(e.tag===3)kte(e,e,t);else for(var r=e.return;r!==null;){if(r.tag===3){kte(r,e,t);break}else if(r.tag===1){var n=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ec===null||!Ec.has(n))){e=dq(t,e);var i=Xre(r,e,1);if(wd(r,i),i=pl(),r=zM(r,1),r!==null)PM(r,1,i),Fl(r,i);else if(typeof n.componentDidCatch=="function"&&(Ec===null||!Ec.has(n)))try{n.componentDidCatch(t,e)}catch(o){}break}}r=r.return}}function WWe(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=pl(),e.pingedLanes|=e.suspendedLanes&r,us===e&&(qa&r)===r&&(ia===4||ia===3&&(qa&62914560)===qa&&500>Ra()-gq?Ny(e,0):mq|=r),Fl(e,t)}function ZWe(e,t){var r=e.stateNode;r!==null&&r.delete(t),t=0,t===0&&(t=e.mode,(t&2)===0?t=1:(t&4)===0?t=qy()===99?1:2:(jp===0&&(jp=By),t=yy(62914560&~jp),t===0&&(t=4194304))),r=pl(),e=zM(e,t),e!==null&&(PM(e,t,r),Fl(e,r))}var sne;sne=function(e,t,r){var n=t.lanes;if(e!==null){if(e.memoizedProps!==t.pendingProps||Ns.current)Au=!0;else if((r&n)!==0)Au=(e.flags&16384)!==0;else{switch(Au=!1,t.tag){case 3:bte(t),zL();break;case 5:pte(t);break;case 1:ks(t.type)&&XT(t);break;case 4:hR(t,t.stateNode.containerInfo);break;case 10:n=t.memoizedProps.value;var i=t.type._context;$i(fM,i._currentValue),i._currentValue=n;break;case 13:if(t.memoizedState!==null)return(r&t.child.childLanes)!==0?xte(e,t,r):($i(Vi,Vi.current&1),t=Bp(e,t,r),t!==null?t.sibling:null);$i(Vi,Vi.current&1);break;case 19:if(n=(r&t.childLanes)!==0,(e.flags&64)!==0){if(n)return Tte(e,t,r);t.flags|=64}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),$i(Vi,Vi.current),n)break;return null;case 23:case 24:return t.lanes=0,jL(e,t,r)}return Bp(e,t,r)}}else Au=!1;switch(t.lanes=0,t.tag){case 2:if(n=t.type,e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=Ry(t,za.current),Py(t,r),i=uq(null,t,n,e,i,r),t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,ks(n)){var o=!0;XT(t)}else o=!1;t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,oq(t);var u=n.getDerivedStateFromProps;typeof u=="function"&&mM(t,n,u,e),i.updater=RM,t.stateNode=i,i._reactInternals=t,dR(t,n,e,r),t=yR(null,t,n,!0,o,r)}else t.tag=0,Ds(null,t,i,r),t=t.child;return t;case 16:i=t.elementType;e:{switch(e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,o=i._init,i=o(i._payload),t.type=i,o=t.tag=KWe(i),e=Cu(i,e),o){case 0:t=vR(null,t,i,e,r);break e;case 1:t=_te(null,t,i,e,r);break e;case 11:t=vte(null,t,i,e,r);break e;case 14:t=yte(null,t,i,Cu(i.type,e),n,r);break e}throw Error(Lt(306,i,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Cu(n,i),vR(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Cu(n,i),_te(e,t,n,i,r);case 3:if(bte(t),n=t.updateQueue,e===null||n===null)throw Error(Lt(282));if(n=t.pendingProps,i=t.memoizedState,i=i!==null?i.element:null,Dre(e,t),Ox(t,n,null,r),n=t.memoizedState.element,n===i)zL(),t=Bp(e,t,r);else{if(i=t.stateNode,(o=i.hydrate)&&(vd=Ay(t.stateNode.containerInfo.firstChild),Fp=t,o=Mc=!0),o){if(e=i.mutableSourceEagerHydrationData,e!=null)for(i=0;i<e.length;i+=2)o=e[i],o._workInProgressVersionPrimary=e[i+1],Oy.push(o);for(r=Rre(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|1024,r=r.sibling}else Ds(e,t,n,r),zL();t=t.child}return t;case 5:return pte(t),e===null&&mR(t),n=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,u=i.children,uR(n,i)?u=null:o!==null&&uR(n,o)&&(t.flags|=16),Hre(e,t),Ds(e,t,u,r),t.child;case 6:return e===null&&mR(t),null;case 13:return xte(e,t,r);case 4:return hR(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=gM(t,null,n,r):Ds(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Cu(n,i),vte(e,t,n,i,r);case 7:return Ds(e,t,t.pendingProps,r),t.child;case 8:return Ds(e,t,t.pendingProps.children,r),t.child;case 12:return Ds(e,t,t.pendingProps.children,r),t.child;case 10:e:{n=t.type._context,i=t.pendingProps,u=t.memoizedProps,o=i.value;var f=t.type._context;if($i(fM,f._currentValue),f._currentValue=o,u!==null)if(f=u.value,o=Rl(f,o)?0:(typeof n._calculateChangedBits=="function"?n._calculateChangedBits(f,o):1073741823)|0,o===0){if(u.children===i.children&&!Ns.current){t=Bp(e,t,r);break e}}else for(f=t.child,f!==null&&(f.return=t);f!==null;){var m=f.dependencies;if(m!==null){u=f.child;for(var y=m.firstContext;y!==null;){if(y.context===n&&(y.observedBits&o)!==0){f.tag===1&&(y=xd(-1,r&-r),y.tag=2,wd(f,y)),f.lanes|=r,y=f.alternate,y!==null&&(y.lanes|=r),Ore(f.return,r),m.lanes|=r;break}y=y.next}}else u=f.tag===10&&f.type===t.type?null:f.child;if(u!==null)u.return=f;else for(u=f;u!==null;){if(u===t){u=null;break}if(f=u.sibling,f!==null){f.return=u.return,u=f;break}u=u.return}f=u}Ds(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,o=t.pendingProps,n=o.children,Py(t,r),i=jl(i,o.unstable_observedBits),n=n(i),t.flags|=1,Ds(e,t,n,r),t.child;case 14:return i=t.type,o=Cu(i,t.pendingProps),o=Cu(i.type,o),yte(e,t,i,o,n,r);case 15:return Gre(e,t,t.type,t.pendingProps,n,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Cu(n,i),e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,ks(n)?(e=!0,XT(t)):e=!1,Py(t,r),kre(t,n,i),dR(t,n,i,r),yR(null,t,n,!0,e,r);case 19:return Tte(e,t,r);case 23:return jL(e,t,r);case 24:return jL(e,t,r)}throw Error(Lt(156,t.tag))};function YWe(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function ql(e,t,r,n){return new YWe(e,t,r,n)}function yq(e){return e=e.prototype,!(!e||!e.isReactComponent)}function KWe(e){if(typeof e=="function")return yq(e)?1:0;if(e!=null){if(e=e.$$typeof,e===MM)return 11;if(e===CM)return 14}return 2}function Pd(e,t){var r=e.alternate;return r===null?(r=ql(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function rM(e,t,r,n,i,o){var u=2;if(n=e,typeof e=="function")yq(e)&&(u=1);else if(typeof e=="string")u=5;else e:switch(e){case hd:return ky(r.children,i,o,t);case qte:u=8,i|=16;break;case kR:u=8,i|=1;break;case ux:return e=ql(12,r,t,i|8),e.elementType=ux,e.type=ux,e.lanes=o,e;case cx:return e=ql(13,r,t,i),e.type=cx,e.elementType=cx,e.lanes=o,e;case nM:return e=ql(19,r,t,i),e.elementType=nM,e.lanes=o,e;case FR:return _q(r,i,o,t);case GL:return e=ql(24,r,t,i),e.elementType=GL,e.lanes=o,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case LR:u=10;break e;case RR:u=9;break e;case MM:u=11;break e;case CM:u=14;break e;case qR:u=16,n=null;break e;case zR:u=22;break e}throw Error(Lt(130,e==null?e:typeof e,""))}return t=ql(u,r,t,i),t.elementType=e,t.type=n,t.lanes=o,t}function ky(e,t,r,n){return e=ql(7,e,n,t),e.lanes=r,e}function _q(e,t,r,n){return e=ql(23,e,n,t),e.elementType=FR,e.lanes=r,e}function UL(e,t,r){return e=ql(6,e,null,t),e.lanes=r,e}function VL(e,t,r){return t=ql(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function XWe(e,t,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=r,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=ML(0),this.expirationTimes=ML(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ML(0),this.mutableSourceEagerHydrationData=null}function QWe(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Lm,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function EM(e,t,r,n){var i=t.current,o=pl(),u=Sd(i);e:if(r){r=r._reactInternals;t:{if(Hm(r)!==r||r.tag!==1)throw Error(Lt(170));var f=r;do{switch(f.tag){case 3:f=f.stateNode.context;break t;case 1:if(ks(f.type)){f=f.stateNode.__reactInternalMemoizedMergedChildContext;break t}}f=f.return}while(f!==null);throw Error(Lt(171))}if(r.tag===1){var m=r.type;if(ks(m)){r=Ire(r,m,f);break e}}r=f}else r=Cd;return t.context===null?t.context=r:t.pendingContext=r,t=xd(o,u),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),wd(i,t),Id(i,u,o),u}function $L(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Lte(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function bq(e,t){Lte(e,t),(e=e.alternate)&&Lte(e,t)}function JWe(){return null}function xq(e,t,r){var n=r!=null&&r.hydrationOptions!=null&&r.hydrationOptions.mutableSources||null;if(r=new XWe(e,t,r!=null&&r.hydrate===!0),t=ql(3,null,null,t===2?7:t===1?3:0),r.current=t,t.stateNode=r,oq(t),e[Fy]=r.current,_re(e.nodeType===8?e.parentNode:e),n)for(e=0;e<n.length;e++){t=n[e];var i=t._getVersion;i=i(t._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[t,i]:r.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=r}xq.prototype.render=function(e){EM(e,this._internalRoot,null,null)};xq.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;EM(null,e,null,function(){t[Fy]=null})};function jx(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function eZe(e,t){if(t||(t=e?e.nodeType===9?e.documentElement:e.firstChild:null,t=!(!t||t.nodeType!==1||!t.hasAttribute("data-reactroot"))),!t)for(var r;r=e.lastChild;)e.removeChild(r);return new xq(e,0,t?{hydrate:!0}:void 0)}function jM(e,t,r,n,i){var o=r._reactRootContainer;if(o){var u=o._internalRoot;if(typeof i=="function"){var f=i;i=function(){var y=$L(u);f.call(y)}}EM(t,u,e,i)}else{if(o=r._reactRootContainer=eZe(r,n),u=o._internalRoot,typeof i=="function"){var m=i;i=function(){var y=$L(u);m.call(y)}}tne(function(){EM(t,u,e,i)})}return $L(u)}Qte=function(e){if(e.tag===13){var t=pl();Id(e,4,t),bq(e,4)}};GR=function(e){if(e.tag===13){var t=pl();Id(e,67108864,t),bq(e,67108864)}};Jte=function(e){if(e.tag===13){var t=pl(),r=Sd(e);Id(e,r,t),bq(e,r)}};ere=function(e,t){return t()};tR=function(e,t,r){switch(t){case"input":if(WL(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+"][type=\"radio\"]"),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=kM(n);if(!i)throw Error(Lt(90));jte(n),WL(n,i)}}}break;case"textarea":Bte(e,r);break;case"select":t=r.value,t!=null&&Ty(e,!!r.multiple,t,!1)}};UR=ene;Zte=function(e,t,r,n,i){var o=zr;zr|=4;try{return Um(98,e.bind(null,t,r,n,i))}finally{zr=o,zr===0&&(Vy(),Cc())}};VR=function(){(zr&49)===0&&(FWe(),Dd())};Yte=function(e,t){var r=zr;zr|=2;try{return e(t)}finally{zr=r,zr===0&&(Vy(),Cc())}};function lne(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jx(t))throw Error(Lt(200));return QWe(e,t,null,r)}var tZe={Events:[Rx,wy,kM,Hte,Wte,Dd,{current:!1}]},rx={findFiberByHostInstance:qm,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},rZe={bundleType:rx.bundleType,version:rx.version,rendererPackageName:rx.rendererPackageName,rendererConfig:rx.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Gm.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Xte(e),e===null?null:e.stateNode},findFiberByHostInstance:rx.findFiberByHostInstance||JWe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"&&(nx=__REACT_DEVTOOLS_GLOBAL_HOOK__,!nx.isDisabled&&nx.supportsFiber))try{tq=nx.inject(rZe),Fm=nx}catch(e){}var nx;Bl.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tZe;Bl.createPortal=lne;Bl.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Lt(188)):Error(Lt(268,Object.keys(e)));return e=Xte(t),e=e===null?null:e.stateNode,e};Bl.flushSync=function(e,t){var r=zr;if((r&48)!==0)return e(t);zr|=1;try{if(e)return Um(99,e.bind(null,t))}finally{zr=r,Cc()}};Bl.hydrate=function(e,t,r){if(!jx(t))throw Error(Lt(200));return jM(null,e,t,!0,r)};Bl.render=function(e,t,r){if(!jx(t))throw Error(Lt(200));return jM(null,e,t,!1,r)};Bl.unmountComponentAtNode=function(e){if(!jx(e))throw Error(Lt(40));return e._reactRootContainer?(tne(function(){jM(null,null,e,!1,function(){e._reactRootContainer=null,e[Fy]=null})}),!0):!1};Bl.unstable_batchedUpdates=ene;Bl.unstable_createPortal=function(e,t){return lne(e,t,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};Bl.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!jx(r))throw Error(Lt(200));if(e==null||e._reactInternals===void 0)throw Error(Lt(38));return jM(e,t,r,!1,n)};Bl.version="17.0.2"});var Gi=C((mmr,pne)=>{"use strict";function cne(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(cne)}catch(e){console.error(e)}}cne(),pne.exports=une()});var Rt=C((wq,fne)=>{"use strict";var Fx=function(e){return e&&e.Math===Math&&e};fne.exports=Fx(typeof globalThis=="object"&&globalThis)||Fx(typeof window=="object"&&window)||Fx(typeof self=="object"&&self)||Fx(typeof global=="object"&&global)||Fx(typeof wq=="object"&&wq)||function(){return this}()||Function("return this")()});var wt=C((gmr,dne)=>{"use strict";dne.exports=function(e){try{return!!e()}catch(t){return!0}}});var fr=C((vmr,hne)=>{"use strict";var nZe=wt();hne.exports=!nZe(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})});var $y=C((ymr,mne)=>{"use strict";var iZe=wt();mne.exports=!iZe(function(){var e=function(){}.bind();return typeof e!="function"||e.hasOwnProperty("prototype")})});var qt=C((_mr,gne)=>{"use strict";var oZe=$y(),FM=Function.prototype.call;gne.exports=oZe?FM.bind(FM):function(){return FM.apply(FM,arguments)}});var Bx=C(_ne=>{"use strict";var vne={}.propertyIsEnumerable,yne=Object.getOwnPropertyDescriptor,aZe=yne&&!vne.call({1:2},1);_ne.f=aZe?function(t){var r=yne(this,t);return!!r&&r.enumerable}:vne});var Ls=C((xmr,bne)=>{"use strict";bne.exports=function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}}});var mt=C((wmr,Sne)=>{"use strict";var xne=$y(),wne=Function.prototype,Sq=wne.call,sZe=xne&&wne.bind.bind(Sq,Sq);Sne.exports=xne?sZe:function(e){return function(){return Sq.apply(e,arguments)}}});var aa=C((Smr,Ene)=>{"use strict";var Ine=mt(),lZe=Ine({}.toString),uZe=Ine("".slice);Ene.exports=function(e){return uZe(lZe(e),8,-1)}});var $p=C((Imr,Tne)=>{"use strict";var cZe=mt(),pZe=wt(),fZe=aa(),Iq=Object,dZe=cZe("".split);Tne.exports=pZe(function(){return!Iq("z").propertyIsEnumerable(0)})?function(e){return fZe(e)==="String"?dZe(e,""):Iq(e)}:Iq});var Rs=C((Emr,Mne)=>{"use strict";Mne.exports=function(e){return e==null}});var ii=C((Tmr,Cne)=>{"use strict";var hZe=Rs(),mZe=TypeError;Cne.exports=function(e){if(hZe(e))throw new mZe("Can't call method on "+e);return e}});var vo=C((Mmr,Ane)=>{"use strict";var gZe=$p(),vZe=ii();Ane.exports=function(e){return gZe(vZe(e))}});var jr=C((Cmr,Pne)=>{"use strict";var Eq=typeof document=="object"&&document.all;Pne.exports=typeof Eq=="undefined"&&Eq!==void 0?function(e){return typeof e=="function"||e===Eq}:function(e){return typeof e=="function"}});var vr=C((Amr,One)=>{"use strict";var yZe=jr();One.exports=function(e){return typeof e=="object"?e!==null:yZe(e)}});var Sr=C((Pmr,Dne)=>{"use strict";var Tq=Rt(),_Ze=jr(),bZe=function(e){return _Ze(e)?e:void 0};Dne.exports=function(e,t){return arguments.length<2?bZe(Tq[e]):Tq[e]&&Tq[e][t]}});var sa=C((Omr,Nne)=>{"use strict";var xZe=mt();Nne.exports=xZe({}.isPrototypeOf)});var Pu=C((Dmr,Rne)=>{"use strict";var wZe=Rt(),kne=wZe.navigator,Lne=kne&&kne.userAgent;Rne.exports=Lne?String(Lne):""});var Du=C((Nmr,Une)=>{"use strict";var Bne=Rt(),Mq=Pu(),qne=Bne.process,zne=Bne.Deno,jne=qne&&qne.versions||zne&&zne.version,Fne=jne&&jne.v8,Ou,BM;Fne&&(Ou=Fne.split("."),BM=Ou[0]>0&&Ou[0]<4?1:+(Ou[0]+Ou[1]));!BM&&Mq&&(Ou=Mq.match(/Edge\/(\d+)/),(!Ou||Ou[1]>=74)&&(Ou=Mq.match(/Chrome\/(\d+)/),Ou&&(BM=+Ou[1])));Une.exports=BM});var Nd=C((kmr,$ne)=>{"use strict";var Vne=Du(),SZe=wt(),IZe=Rt(),EZe=IZe.String;$ne.exports=!!Object.getOwnPropertySymbols&&!SZe(function(){var e=Symbol("symbol detection");return!EZe(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&Vne&&Vne<41})});var Cq=C((Lmr,Gne)=>{"use strict";var TZe=Nd();Gne.exports=TZe&&!Symbol.sham&&typeof Symbol.iterator=="symbol"});var Gp=C((Rmr,Hne)=>{"use strict";var MZe=Sr(),CZe=jr(),AZe=sa(),PZe=Cq(),OZe=Object;Hne.exports=PZe?function(e){return typeof e=="symbol"}:function(e){var t=MZe("Symbol");return CZe(t)&&AZe(t.prototype,OZe(e))}});var kd=C((qmr,Wne)=>{"use strict";var DZe=String;Wne.exports=function(e){try{return DZe(e)}catch(t){return"Object"}}});var Ir=C((zmr,Zne)=>{"use strict";var NZe=jr(),kZe=kd(),LZe=TypeError;Zne.exports=function(e){if(NZe(e))return e;throw new LZe(kZe(e)+" is not a function")}});var Hi=C((jmr,Yne)=>{"use strict";var RZe=Ir(),qZe=Rs();Yne.exports=function(e,t){var r=e[t];return qZe(r)?void 0:RZe(r)}});var Dq=C((Fmr,Kne)=>{"use strict";var Aq=qt(),Pq=jr(),Oq=vr(),zZe=TypeError;Kne.exports=function(e,t){var r,n;if(t==="string"&&Pq(r=e.toString)&&!Oq(n=Aq(r,e))||Pq(r=e.valueOf)&&!Oq(n=Aq(r,e))||t!=="string"&&Pq(r=e.toString)&&!Oq(n=Aq(r,e)))return n;throw new zZe("Can't convert object to primitive value")}});var yn=C((Bmr,Xne)=>{"use strict";Xne.exports=!1});var UM=C((Umr,Jne)=>{"use strict";var Qne=Rt(),jZe=Object.defineProperty;Jne.exports=function(e,t){try{jZe(Qne,e,{value:t,configurable:!0,writable:!0})}catch(r){Qne[e]=t}return t}});var Ux=C((Vmr,rie)=>{"use strict";var FZe=yn(),BZe=Rt(),UZe=UM(),eie="__core-js_shared__",tie=rie.exports=BZe[eie]||UZe(eie,{});(tie.versions||(tie.versions=[])).push({version:"3.42.0",mode:FZe?"pure":"global",copyright:"\xA9 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.42.0/LICENSE",source:"https://github.com/zloirock/core-js"})});var Hp=C(($mr,iie)=>{"use strict";var nie=Ux();iie.exports=function(e,t){return nie[e]||(nie[e]=t||{})}});var Xr=C((Gmr,oie)=>{"use strict";var VZe=ii(),$Ze=Object;oie.exports=function(e){return $Ze(VZe(e))}});var $r=C((Hmr,aie)=>{"use strict";var GZe=mt(),HZe=Xr(),WZe=GZe({}.hasOwnProperty);aie.exports=Object.hasOwn||function(t,r){return WZe(HZe(t),r)}});var Ld=C((Wmr,sie)=>{"use strict";var ZZe=mt(),YZe=0,KZe=Math.random(),XZe=ZZe(1 .toString);sie.exports=function(e){return"Symbol("+(e===void 0?"":e)+")_"+XZe(++YZe+KZe,36)}});var xr=C((Zmr,uie)=>{"use strict";var QZe=Rt(),JZe=Hp(),lie=$r(),eYe=Ld(),tYe=Nd(),rYe=Cq(),Gy=QZe.Symbol,Nq=JZe("wks"),nYe=rYe?Gy.for||Gy:Gy&&Gy.withoutSetter||eYe;uie.exports=function(e){return lie(Nq,e)||(Nq[e]=tYe&&lie(Gy,e)?Gy[e]:nYe("Symbol."+e)),Nq[e]}});var Vx=C((Ymr,fie)=>{"use strict";var iYe=qt(),cie=vr(),pie=Gp(),oYe=Hi(),aYe=Dq(),sYe=xr(),lYe=TypeError,uYe=sYe("toPrimitive");fie.exports=function(e,t){if(!cie(e)||pie(e))return e;var r=oYe(e,uYe),n;if(r){if(t===void 0&&(t="default"),n=iYe(r,e,t),!cie(n)||pie(n))return n;throw new lYe("Can't convert object to primitive value")}return t===void 0&&(t="number"),aYe(e,t)}});var Ac=C((Kmr,die)=>{"use strict";var cYe=Vx(),pYe=Gp();die.exports=function(e){var t=cYe(e,"string");return pYe(t)?t:t+""}});var $x=C((Xmr,mie)=>{"use strict";var fYe=Rt(),hie=vr(),kq=fYe.document,dYe=hie(kq)&&hie(kq.createElement);mie.exports=function(e){return dYe?kq.createElement(e):{}}});var Lq=C((Qmr,gie)=>{"use strict";var hYe=fr(),mYe=wt(),gYe=$x();gie.exports=!hYe&&!mYe(function(){return Object.defineProperty(gYe("div"),"a",{get:function(){return 7}}).a!==7})});var Bo=C(yie=>{"use strict";var vYe=fr(),yYe=qt(),_Ye=Bx(),bYe=Ls(),xYe=vo(),wYe=Ac(),SYe=$r(),IYe=Lq(),vie=Object.getOwnPropertyDescriptor;yie.f=vYe?vie:function(t,r){if(t=xYe(t),r=wYe(r),IYe)try{return vie(t,r)}catch(n){}if(SYe(t,r))return bYe(!yYe(_Ye.f,t,r),t[r])}});var Rq=C((egr,_ie)=>{"use strict";var EYe=fr(),TYe=wt();_ie.exports=EYe&&TYe(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})});var jt=C((tgr,bie)=>{"use strict";var MYe=vr(),CYe=String,AYe=TypeError;bie.exports=function(e){if(MYe(e))return e;throw new AYe(CYe(e)+" is not an object")}});var ti=C(wie=>{"use strict";var PYe=fr(),OYe=Lq(),DYe=Rq(),VM=jt(),xie=Ac(),NYe=TypeError,qq=Object.defineProperty,kYe=Object.getOwnPropertyDescriptor,zq="enumerable",jq="configurable",Fq="writable";wie.f=PYe?DYe?function(t,r,n){if(VM(t),r=xie(r),VM(n),typeof t=="function"&&r==="prototype"&&"value"in n&&Fq in n&&!n[Fq]){var i=kYe(t,r);i&&i[Fq]&&(t[r]=n.value,n={configurable:jq in n?n[jq]:i[jq],enumerable:zq in n?n[zq]:i[zq],writable:!1})}return qq(t,r,n)}:qq:function(t,r,n){if(VM(t),r=xie(r),VM(n),OYe)try{return qq(t,r,n)}catch(i){}if("get"in n||"set"in n)throw new NYe("Accessors not supported");return"value"in n&&(t[r]=n.value),t}});var yo=C((ngr,Sie)=>{"use strict";var LYe=fr(),RYe=ti(),qYe=Ls();Sie.exports=LYe?function(e,t,r){return RYe.f(e,t,qYe(1,r))}:function(e,t,r){return e[t]=r,e}});var Zm=C((igr,Eie)=>{"use strict";var Bq=fr(),zYe=$r(),Iie=Function.prototype,jYe=Bq&&Object.getOwnPropertyDescriptor,Uq=zYe(Iie,"name"),FYe=Uq&&function(){}.name==="something",BYe=Uq&&(!Bq||Bq&&jYe(Iie,"name").configurable);Eie.exports={EXISTS:Uq,PROPER:FYe,CONFIGURABLE:BYe}});var Gx=C((ogr,Tie)=>{"use strict";var UYe=mt(),VYe=jr(),Vq=Ux(),$Ye=UYe(Function.toString);VYe(Vq.inspectSource)||(Vq.inspectSource=function(e){return $Ye(e)});Tie.exports=Vq.inspectSource});var $q=C((agr,Cie)=>{"use strict";var GYe=Rt(),HYe=jr(),Mie=GYe.WeakMap;Cie.exports=HYe(Mie)&&/native code/.test(String(Mie))});var Hx=C((sgr,Pie)=>{"use strict";var WYe=Hp(),ZYe=Ld(),Aie=WYe("keys");Pie.exports=function(e){return Aie[e]||(Aie[e]=ZYe(e))}});var Hy=C((lgr,Oie)=>{"use strict";Oie.exports={}});var On=C((ugr,kie)=>{"use strict";var YYe=$q(),Nie=Rt(),KYe=vr(),XYe=yo(),Gq=$r(),Hq=Ux(),QYe=Hx(),JYe=Hy(),Die="Object already initialized",Wq=Nie.TypeError,eKe=Nie.WeakMap,$M,Wx,GM,tKe=function(e){return GM(e)?Wx(e):$M(e,{})},rKe=function(e){return function(t){var r;if(!KYe(t)||(r=Wx(t)).type!==e)throw new Wq("Incompatible receiver, "+e+" required");return r}};YYe||Hq.state?(Nu=Hq.state||(Hq.state=new eKe),Nu.get=Nu.get,Nu.has=Nu.has,Nu.set=Nu.set,$M=function(e,t){if(Nu.has(e))throw new Wq(Die);return t.facade=e,Nu.set(e,t),t},Wx=function(e){return Nu.get(e)||{}},GM=function(e){return Nu.has(e)}):(Ym=QYe("state"),JYe[Ym]=!0,$M=function(e,t){if(Gq(e,Ym))throw new Wq(Die);return t.facade=e,XYe(e,Ym,t),t},Wx=function(e){return Gq(e,Ym)?e[Ym]:{}},GM=function(e){return Gq(e,Ym)});var Nu,Ym;kie.exports={set:$M,get:Wx,has:GM,enforce:tKe,getterFor:rKe}});var Zx=C((cgr,qie)=>{"use strict";var Yq=mt(),nKe=wt(),iKe=jr(),HM=$r(),Zq=fr(),oKe=Zm().CONFIGURABLE,aKe=Gx(),Rie=On(),sKe=Rie.enforce,lKe=Rie.get,Lie=String,WM=Object.defineProperty,uKe=Yq("".slice),cKe=Yq("".replace),pKe=Yq([].join),fKe=Zq&&!nKe(function(){return WM(function(){},"length",{value:8}).length!==8}),dKe=String(String).split("String"),hKe=qie.exports=function(e,t,r){uKe(Lie(t),0,7)==="Symbol("&&(t="["+cKe(Lie(t),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),r&&r.getter&&(t="get "+t),r&&r.setter&&(t="set "+t),(!HM(e,"name")||oKe&&e.name!==t)&&(Zq?WM(e,"name",{value:t,configurable:!0}):e.name=t),fKe&&r&&HM(r,"arity")&&e.length!==r.arity&&WM(e,"length",{value:r.arity});try{r&&HM(r,"constructor")&&r.constructor?Zq&&WM(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(i){}var n=sKe(e);return HM(n,"source")||(n.source=pKe(dKe,typeof t=="string"?t:"")),e};Function.prototype.toString=hKe(function(){return iKe(this)&&lKe(this).source||aKe(this)},"toString")});var Ln=C((pgr,zie)=>{"use strict";var mKe=jr(),gKe=ti(),vKe=Zx(),yKe=UM();zie.exports=function(e,t,r,n){n||(n={});var i=n.enumerable,o=n.name!==void 0?n.name:t;if(mKe(r)&&vKe(r,o,n),n.global)i?e[t]=r:yKe(t,r);else{try{n.unsafe?e[t]&&(i=!0):delete e[t]}catch(u){}i?e[t]=r:gKe.f(e,t,{value:r,enumerable:!1,configurable:!n.nonConfigurable,writable:!n.nonWritable})}return e}});var Kq=C((fgr,jie)=>{"use strict";var _Ke=Math.ceil,bKe=Math.floor;jie.exports=Math.trunc||function(t){var r=+t;return(r>0?bKe:_Ke)(r)}});var mi=C((dgr,Fie)=>{"use strict";var xKe=Kq();Fie.exports=function(e){var t=+e;return t!==t||t===0?0:xKe(t)}});var ku=C((hgr,Bie)=>{"use strict";var wKe=mi(),SKe=Math.max,IKe=Math.min;Bie.exports=function(e,t){var r=wKe(e);return r<0?SKe(r+t,0):IKe(r,t)}});var qs=C((mgr,Uie)=>{"use strict";var EKe=mi(),TKe=Math.min;Uie.exports=function(e){var t=EKe(e);return t>0?TKe(t,9007199254740991):0}});var cn=C((ggr,Vie)=>{"use strict";var MKe=qs();Vie.exports=function(e){return MKe(e.length)}});var Wy=C((vgr,Gie)=>{"use strict";var CKe=vo(),AKe=ku(),PKe=cn(),$ie=function(e){return function(t,r,n){var i=CKe(t),o=PKe(i);if(o===0)return!e&&-1;var u=AKe(n,o),f;if(e&&r!==r){for(;o>u;)if(f=i[u++],f!==f)return!0}else for(;o>u;u++)if((e||u in i)&&i[u]===r)return e||u||0;return!e&&-1}};Gie.exports={includes:$ie(!0),indexOf:$ie(!1)}});var Qq=C((ygr,Wie)=>{"use strict";var OKe=mt(),Xq=$r(),DKe=vo(),NKe=Wy().indexOf,kKe=Hy(),Hie=OKe([].push);Wie.exports=function(e,t){var r=DKe(e),n=0,i=[],o;for(o in r)!Xq(kKe,o)&&Xq(r,o)&&Hie(i,o);for(;t.length>n;)Xq(r,o=t[n++])&&(~NKe(i,o)||Hie(i,o));return i}});var ZM=C((_gr,Zie)=>{"use strict";Zie.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]});var Rd=C(Yie=>{"use strict";var LKe=Qq(),RKe=ZM(),qKe=RKe.concat("length","prototype");Yie.f=Object.getOwnPropertyNames||function(t){return LKe(t,qKe)}});var Yx=C(Kie=>{"use strict";Kie.f=Object.getOwnPropertySymbols});var YM=C((wgr,Xie)=>{"use strict";var zKe=Sr(),jKe=mt(),FKe=Rd(),BKe=Yx(),UKe=jt(),VKe=jKe([].concat);Xie.exports=zKe("Reflect","ownKeys")||function(t){var r=FKe.f(UKe(t)),n=BKe.f;return n?VKe(r,n(t)):r}});var Km=C((Sgr,Jie)=>{"use strict";var Qie=$r(),$Ke=YM(),GKe=Bo(),HKe=ti();Jie.exports=function(e,t,r){for(var n=$Ke(t),i=HKe.f,o=GKe.f,u=0;u<n.length;u++){var f=n[u];!Qie(e,f)&&!(r&&Qie(r,f))&&i(e,f,o(t,f))}}});var Zy=C((Igr,eoe)=>{"use strict";var WKe=wt(),ZKe=jr(),YKe=/#|\.prototype\./,Kx=function(e,t){var r=XKe[KKe(e)];return r===JKe?!0:r===QKe?!1:ZKe(t)?WKe(t):!!t},KKe=Kx.normalize=function(e){return String(e).replace(YKe,".").toLowerCase()},XKe=Kx.data={},QKe=Kx.NATIVE="N",JKe=Kx.POLYFILL="P";eoe.exports=Kx});var oe=C((Egr,toe)=>{"use strict";var KM=Rt(),eXe=Bo().f,tXe=yo(),rXe=Ln(),nXe=UM(),iXe=Km(),oXe=Zy();toe.exports=function(e,t){var r=e.target,n=e.global,i=e.stat,o,u,f,m,y,w;if(n?u=KM:i?u=KM[r]||nXe(r,{}):u=KM[r]&&KM[r].prototype,u)for(f in t){if(y=t[f],e.dontCallGetSet?(w=eXe(u,f),m=w&&w.value):m=u[f],o=oXe(n?f:r+(i?".":"#")+f,e.forced),!o&&m!==void 0){if(typeof y==typeof m)continue;iXe(y,m)}(e.sham||m&&m.sham)&&tXe(y,"sham",!0),rXe(u,f,y,e)}}});var XM=C((Tgr,noe)=>{"use strict";var aXe=xr(),sXe=aXe("toStringTag"),roe={};roe[sXe]="z";noe.exports=String(roe)==="[object z]"});var ps=C((Mgr,ioe)=>{"use strict";var lXe=XM(),uXe=jr(),QM=aa(),cXe=xr(),pXe=cXe("toStringTag"),fXe=Object,dXe=QM(function(){return arguments}())==="Arguments",hXe=function(e,t){try{return e[t]}catch(r){}};ioe.exports=lXe?QM:function(e){var t,r,n;return e===void 0?"Undefined":e===null?"Null":typeof(r=hXe(t=fXe(e),pXe))=="string"?r:dXe?QM(t):(n=QM(t))==="Object"&&uXe(t.callee)?"Arguments":n}});var Pr=C((Cgr,ooe)=>{"use strict";var mXe=ps(),gXe=String;ooe.exports=function(e){if(mXe(e)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return gXe(e)}});var Xm=C((Agr,aoe)=>{"use strict";var vXe=Qq(),yXe=ZM();aoe.exports=Object.keys||function(t){return vXe(t,yXe)}});var JM=C(soe=>{"use strict";var _Xe=fr(),bXe=Rq(),xXe=ti(),wXe=jt(),SXe=vo(),IXe=Xm();soe.f=_Xe&&!bXe?Object.defineProperties:function(t,r){wXe(t);for(var n=SXe(r),i=IXe(r),o=i.length,u=0,f;o>u;)xXe.f(t,f=i[u++],n[f]);return t}});var Jq=C((Ogr,loe)=>{"use strict";var EXe=Sr();loe.exports=EXe("document","documentElement")});var Wi=C((Dgr,moe)=>{"use strict";var TXe=jt(),MXe=JM(),uoe=ZM(),CXe=Hy(),AXe=Jq(),PXe=$x(),OXe=Hx(),coe=">",poe="<",t8="prototype",r8="script",doe=OXe("IE_PROTO"),e8=function(){},hoe=function(e){return poe+r8+coe+e+poe+"/"+r8+coe},foe=function(e){e.write(hoe("")),e.close();var t=e.parentWindow.Object;return e=null,t},DXe=function(){var e=PXe("iframe"),t="java"+r8+":",r;return e.style.display="none",AXe.appendChild(e),e.src=String(t),r=e.contentWindow.document,r.open(),r.write(hoe("document.F=Object")),r.close(),r.F},eC,tC=function(){try{eC=new ActiveXObject("htmlfile")}catch(t){}tC=typeof document!="undefined"?document.domain&&eC?foe(eC):DXe():foe(eC);for(var e=uoe.length;e--;)delete tC[t8][uoe[e]];return tC()};CXe[doe]=!0;moe.exports=Object.create||function(t,r){var n;return t!==null?(e8[t8]=TXe(t),n=new e8,e8[t8]=null,n[doe]=t):n=tC(),r===void 0?n:MXe.f(n,r)}});var zs=C((Ngr,goe)=>{"use strict";var NXe=mt();goe.exports=NXe([].slice)});var rC=C((kgr,_oe)=>{"use strict";var kXe=aa(),LXe=vo(),voe=Rd().f,RXe=zs(),yoe=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],qXe=function(e){try{return voe(e)}catch(t){return RXe(yoe)}};_oe.exports.f=function(t){return yoe&&kXe(t)==="Window"?qXe(t):voe(LXe(t))}});var gi=C((Lgr,xoe)=>{"use strict";var boe=Zx(),zXe=ti();xoe.exports=function(e,t,r){return r.get&&boe(r.get,t,{getter:!0}),r.set&&boe(r.set,t,{setter:!0}),zXe.f(e,t,r)}});var n8=C(woe=>{"use strict";var jXe=xr();woe.f=jXe});var nC=C((qgr,Soe)=>{"use strict";var FXe=Rt();Soe.exports=FXe});var Oi=C((zgr,Eoe)=>{"use strict";var Ioe=nC(),BXe=$r(),UXe=n8(),VXe=ti().f;Eoe.exports=function(e){var t=Ioe.Symbol||(Ioe.Symbol={});BXe(t,e)||VXe(t,e,{value:UXe.f(e)})}});var i8=C((jgr,Toe)=>{"use strict";var $Xe=qt(),GXe=Sr(),HXe=xr(),WXe=Ln();Toe.exports=function(){var e=GXe("Symbol"),t=e&&e.prototype,r=t&&t.valueOf,n=HXe("toPrimitive");t&&!t[n]&&WXe(t,n,function(i){return $Xe(r,this)},{arity:1})}});var fs=C((Fgr,Coe)=>{"use strict";var ZXe=ti().f,YXe=$r(),KXe=xr(),Moe=KXe("toStringTag");Coe.exports=function(e,t,r){e&&!r&&(e=e.prototype),e&&!YXe(e,Moe)&&ZXe(e,Moe,{configurable:!0,value:t})}});var qd=C((Bgr,Aoe)=>{"use strict";var XXe=aa(),QXe=mt();Aoe.exports=function(e){if(XXe(e)==="Function")return QXe(e)}});var Un=C((Ugr,Ooe)=>{"use strict";var Poe=qd(),JXe=Ir(),eQe=$y(),tQe=Poe(Poe.bind);Ooe.exports=function(e,t){return JXe(e),t===void 0?e:eQe?tQe(e,t):function(){return e.apply(t,arguments)}}});var Lu=C((Vgr,Doe)=>{"use strict";var rQe=aa();Doe.exports=Array.isArray||function(t){return rQe(t)==="Array"}});var Ru=C(($gr,qoe)=>{"use strict";var nQe=mt(),iQe=wt(),Noe=jr(),oQe=ps(),aQe=Sr(),sQe=Gx(),koe=function(){},Loe=aQe("Reflect","construct"),o8=/^\s*(?:class|function)\b/,lQe=nQe(o8.exec),uQe=!o8.test(koe),Xx=function(t){if(!Noe(t))return!1;try{return Loe(koe,[],t),!0}catch(r){return!1}},Roe=function(t){if(!Noe(t))return!1;switch(oQe(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return uQe||!!lQe(o8,sQe(t))}catch(r){return!0}};Roe.sham=!0;qoe.exports=!Loe||iQe(function(){var e;return Xx(Xx.call)||!Xx(Object)||!Xx(function(){e=!0})||e})?Roe:Xx});var Boe=C((Ggr,Foe)=>{"use strict";var zoe=Lu(),cQe=Ru(),pQe=vr(),fQe=xr(),dQe=fQe("species"),joe=Array;Foe.exports=function(e){var t;return zoe(e)&&(t=e.constructor,cQe(t)&&(t===joe||zoe(t.prototype))?t=void 0:pQe(t)&&(t=t[dQe],t===null&&(t=void 0))),t===void 0?joe:t}});var Yy=C((Hgr,Uoe)=>{"use strict";var hQe=Boe();Uoe.exports=function(e,t){return new(hQe(e))(t===0?0:t)}});var Zi=C((Wgr,$oe)=>{"use strict";var mQe=Un(),gQe=mt(),vQe=$p(),yQe=Xr(),_Qe=cn(),bQe=Yy(),Voe=gQe([].push),zd=function(e){var t=e===1,r=e===2,n=e===3,i=e===4,o=e===6,u=e===7,f=e===5||o;return function(m,y,w,I){for(var M=yQe(m),N=vQe(M),z=_Qe(N),F=mQe(y,w),q=0,R=I||bQe,U=t?R(m,z):r||u?R(m,0):void 0,Y,re;z>q;q++)if((f||q in N)&&(Y=N[q],re=F(Y,q,M),e))if(t)U[q]=re;else if(re)switch(e){case 3:return!0;case 5:return Y;case 6:return q;case 2:Voe(U,Y)}else switch(e){case 4:return!1;case 7:Voe(U,Y)}return o?-1:n||i?i:U}};$oe.exports={forEach:zd(0),map:zd(1),filter:zd(2),some:zd(3),every:zd(4),find:zd(5),findIndex:zd(6),filterReject:zd(7)}});var sae=C(()=>{"use strict";var iC=oe(),ew=Rt(),h8=qt(),xQe=mt(),wQe=yn(),Ky=fr(),Xy=Nd(),SQe=wt(),Uo=$r(),IQe=sa(),u8=jt(),oC=vo(),m8=Ac(),EQe=Pr(),c8=Ls(),Qy=Wi(),Woe=Xm(),TQe=Rd(),Zoe=rC(),MQe=Yx(),Yoe=Bo(),Koe=ti(),CQe=JM(),Xoe=Bx(),a8=Ln(),AQe=gi(),g8=Hp(),PQe=Hx(),Qoe=Hy(),Goe=Ld(),OQe=xr(),DQe=n8(),NQe=Oi(),kQe=i8(),LQe=fs(),Joe=On(),aC=Zi().forEach,js=PQe("hidden"),sC="Symbol",Jx="prototype",RQe=Joe.set,Hoe=Joe.getterFor(sC),Ul=Object[Jx],Qm=ew.Symbol,Qx=Qm&&Qm[Jx],qQe=ew.RangeError,zQe=ew.TypeError,s8=ew.QObject,eae=Yoe.f,Jm=Koe.f,tae=Zoe.f,jQe=Xoe.f,rae=xQe([].push),Wp=g8("symbols"),tw=g8("op-symbols"),FQe=g8("wks"),p8=!s8||!s8[Jx]||!s8[Jx].findChild,nae=function(e,t,r){var n=eae(Ul,t);n&&delete Ul[t],Jm(e,t,r),n&&e!==Ul&&Jm(Ul,t,n)},f8=Ky&&SQe(function(){return Qy(Jm({},"a",{get:function(){return Jm(this,"a",{value:7}).a}})).a!==7})?nae:Jm,l8=function(e,t){var r=Wp[e]=Qy(Qx);return RQe(r,{type:sC,tag:e,description:t}),Ky||(r.description=t),r},lC=function(t,r,n){t===Ul&&lC(tw,r,n),u8(t);var i=m8(r);return u8(n),Uo(Wp,i)?(n.enumerable?(Uo(t,js)&&t[js][i]&&(t[js][i]=!1),n=Qy(n,{enumerable:c8(0,!1)})):(Uo(t,js)||Jm(t,js,c8(1,Qy(null))),t[js][i]=!0),f8(t,i,n)):Jm(t,i,n)},v8=function(t,r){u8(t);var n=oC(r),i=Woe(n).concat(aae(n));return aC(i,function(o){(!Ky||h8(d8,n,o))&&lC(t,o,n[o])}),t},BQe=function(t,r){return r===void 0?Qy(t):v8(Qy(t),r)},d8=function(t){var r=m8(t),n=h8(jQe,this,r);return this===Ul&&Uo(Wp,r)&&!Uo(tw,r)?!1:n||!Uo(this,r)||!Uo(Wp,r)||Uo(this,js)&&this[js][r]?n:!0},iae=function(t,r){var n=oC(t),i=m8(r);if(!(n===Ul&&Uo(Wp,i)&&!Uo(tw,i))){var o=eae(n,i);return o&&Uo(Wp,i)&&!(Uo(n,js)&&n[js][i])&&(o.enumerable=!0),o}},oae=function(t){var r=tae(oC(t)),n=[];return aC(r,function(i){!Uo(Wp,i)&&!Uo(Qoe,i)&&rae(n,i)}),n},aae=function(e){var t=e===Ul,r=tae(t?tw:oC(e)),n=[];return aC(r,function(i){Uo(Wp,i)&&(!t||Uo(Ul,i))&&rae(n,Wp[i])}),n};Xy||(Qm=function(){if(IQe(Qx,this))throw new zQe("Symbol is not a constructor");var t=!arguments.length||arguments[0]===void 0?void 0:EQe(arguments[0]),r=Goe(t),n=function(i){var o=this===void 0?ew:this;o===Ul&&h8(n,tw,i),Uo(o,js)&&Uo(o[js],r)&&(o[js][r]=!1);var u=c8(1,i);try{f8(o,r,u)}catch(f){if(!(f instanceof qQe))throw f;nae(o,r,u)}};return Ky&&p8&&f8(Ul,r,{configurable:!0,set:n}),l8(r,t)},Qx=Qm[Jx],a8(Qx,"toString",function(){return Hoe(this).tag}),a8(Qm,"withoutSetter",function(e){return l8(Goe(e),e)}),Xoe.f=d8,Koe.f=lC,CQe.f=v8,Yoe.f=iae,TQe.f=Zoe.f=oae,MQe.f=aae,DQe.f=function(e){return l8(OQe(e),e)},Ky&&(AQe(Qx,"description",{configurable:!0,get:function(){return Hoe(this).description}}),wQe||a8(Ul,"propertyIsEnumerable",d8,{unsafe:!0})));iC({global:!0,constructor:!0,wrap:!0,forced:!Xy,sham:!Xy},{Symbol:Qm});aC(Woe(FQe),function(e){NQe(e)});iC({target:sC,stat:!0,forced:!Xy},{useSetter:function(){p8=!0},useSimple:function(){p8=!1}});iC({target:"Object",stat:!0,forced:!Xy,sham:!Ky},{create:BQe,defineProperty:lC,defineProperties:v8,getOwnPropertyDescriptor:iae});iC({target:"Object",stat:!0,forced:!Xy},{getOwnPropertyNames:oae});kQe();LQe(Qm,sC);Qoe[js]=!0});var y8=C((Kgr,lae)=>{"use strict";var UQe=Nd();lae.exports=UQe&&!!Symbol.for&&!!Symbol.keyFor});var cae=C(()=>{"use strict";var VQe=oe(),$Qe=Sr(),GQe=$r(),HQe=Pr(),uae=Hp(),WQe=y8(),_8=uae("string-to-symbol-registry"),ZQe=uae("symbol-to-string-registry");VQe({target:"Symbol",stat:!0,forced:!WQe},{for:function(e){var t=HQe(e);if(GQe(_8,t))return _8[t];var r=$Qe("Symbol")(t);return _8[t]=r,ZQe[r]=t,r}})});var fae=C(()=>{"use strict";var YQe=oe(),KQe=$r(),XQe=Gp(),QQe=kd(),JQe=Hp(),eJe=y8(),pae=JQe("symbol-to-string-registry");YQe({target:"Symbol",stat:!0,forced:!eJe},{keyFor:function(t){if(!XQe(t))throw new TypeError(QQe(t)+" is not a symbol");if(KQe(pae,t))return pae[t]}})});var la=C((tvr,gae)=>{"use strict";var tJe=$y(),mae=Function.prototype,dae=mae.apply,hae=mae.call;gae.exports=typeof Reflect=="object"&&Reflect.apply||(tJe?hae.bind(dae):function(){return hae.apply(dae,arguments)})});var b8=C((rvr,bae)=>{"use strict";var rJe=mt(),vae=Lu(),nJe=jr(),yae=aa(),iJe=Pr(),_ae=rJe([].push);bae.exports=function(e){if(nJe(e))return e;if(vae(e)){for(var t=e.length,r=[],n=0;n<t;n++){var i=e[n];typeof i=="string"?_ae(r,i):(typeof i=="number"||yae(i)==="Number"||yae(i)==="String")&&_ae(r,iJe(i))}var o=r.length,u=!0;return function(f,m){if(u)return u=!1,m;if(vae(this))return m;for(var y=0;y<o;y++)if(r[y]===f)return m}}}});var x8=C(()=>{"use strict";var oJe=oe(),Cae=Sr(),Aae=la(),aJe=qt(),rw=mt(),Pae=wt(),xae=jr(),wae=Gp(),Oae=zs(),sJe=b8(),lJe=Nd(),uJe=String,jd=Cae("JSON","stringify"),uC=rw(/./.exec),Sae=rw("".charAt),cJe=rw("".charCodeAt),pJe=rw("".replace),fJe=rw(1 .toString),dJe=/[\uD800-\uDFFF]/g,Iae=/^[\uD800-\uDBFF]$/,Eae=/^[\uDC00-\uDFFF]$/,Tae=!lJe||Pae(function(){var e=Cae("Symbol")("stringify detection");return jd([e])!=="[null]"||jd({a:e})!=="{}"||jd(Object(e))!=="{}"}),Mae=Pae(function(){return jd("\uDF06\uD834")!=="\"\\udf06\\ud834\""||jd("\uDEAD")!=="\"\\udead\""}),hJe=function(e,t){var r=Oae(arguments),n=sJe(t);if(!(!xae(n)&&(e===void 0||wae(e))))return r[1]=function(i,o){if(xae(n)&&(o=aJe(n,this,uJe(i),o)),!wae(o))return o},Aae(jd,null,r)},mJe=function(e,t,r){var n=Sae(r,t-1),i=Sae(r,t+1);return uC(Iae,e)&&!uC(Eae,i)||uC(Eae,e)&&!uC(Iae,n)?"\\u"+fJe(cJe(e,0),16):e};jd&&oJe({target:"JSON",stat:!0,arity:3,forced:Tae||Mae},{stringify:function(t,r,n){var i=Oae(arguments),o=Aae(Tae?hJe:jd,null,i);return Mae&&typeof o=="string"?pJe(o,dJe,mJe):o}})});var Nae=C(()=>{"use strict";var gJe=oe(),vJe=Nd(),yJe=wt(),Dae=Yx(),_Je=Xr(),bJe=!vJe||yJe(function(){Dae.f(1)});gJe({target:"Object",stat:!0,forced:bJe},{getOwnPropertySymbols:function(t){var r=Dae.f;return r?r(_Je(t)):[]}})});var kae=C(()=>{"use strict";sae();cae();fae();x8();Nae()});var Bae=C(()=>{"use strict";var xJe=oe(),wJe=fr(),SJe=Rt(),cC=mt(),IJe=$r(),EJe=jr(),TJe=sa(),MJe=Pr(),CJe=gi(),AJe=Km(),Zp=SJe.Symbol,eg=Zp&&Zp.prototype;wJe&&EJe(Zp)&&(!("description"in eg)||Zp().description!==void 0)&&(w8={},nw=function(){var t=arguments.length<1||arguments[0]===void 0?void 0:MJe(arguments[0]),r=TJe(eg,this)?new Zp(t):t===void 0?Zp():Zp(t);return t===""&&(w8[r]=!0),r},AJe(nw,Zp),nw.prototype=eg,eg.constructor=nw,Lae=String(Zp("description detection"))==="Symbol(description detection)",Rae=cC(eg.valueOf),qae=cC(eg.toString),zae=/^Symbol\((.*)\)[^)]+$/,jae=cC("".replace),Fae=cC("".slice),CJe(eg,"description",{configurable:!0,get:function(){var t=Rae(this);if(IJe(w8,t))return"";var r=qae(t),n=Lae?Fae(r,7,-1):jae(r,zae,"$1");return n===""?void 0:n}}),xJe({global:!0,constructor:!0,forced:!0},{Symbol:nw}));var w8,nw,Lae,Rae,qae,zae,jae,Fae});var Uae=C(()=>{"use strict";var PJe=Oi();PJe("asyncIterator")});var Vae=C(()=>{"use strict";var OJe=Oi();OJe("hasInstance")});var $ae=C(()=>{"use strict";var DJe=Oi();DJe("isConcatSpreadable")});var Gae=C(()=>{"use strict";var NJe=Oi();NJe("iterator")});var Hae=C(()=>{"use strict";var kJe=Oi();kJe("match")});var Wae=C(()=>{"use strict";var LJe=Oi();LJe("matchAll")});var Zae=C(()=>{"use strict";var RJe=Oi();RJe("replace")});var Yae=C(()=>{"use strict";var qJe=Oi();qJe("search")});var Kae=C(()=>{"use strict";var zJe=Oi();zJe("species")});var Xae=C(()=>{"use strict";var jJe=Oi();jJe("split")});var Qae=C(()=>{"use strict";var FJe=Oi(),BJe=i8();FJe("toPrimitive");BJe()});var Jae=C(()=>{"use strict";var UJe=Sr(),VJe=Oi(),$Je=fs();VJe("toStringTag");$Je(UJe("Symbol"),"Symbol")});var ese=C(()=>{"use strict";var GJe=Oi();GJe("unscopables")});var iw=C((qvr,tse)=>{"use strict";var HJe=mt(),WJe=Ir();tse.exports=function(e,t,r){try{return HJe(WJe(Object.getOwnPropertyDescriptor(e,t)[r]))}catch(n){}}});var S8=C((zvr,rse)=>{"use strict";var ZJe=vr();rse.exports=function(e){return ZJe(e)||e===null}});var I8=C((jvr,nse)=>{"use strict";var YJe=S8(),KJe=String,XJe=TypeError;nse.exports=function(e){if(YJe(e))return e;throw new XJe("Can't set "+KJe(e)+" as a prototype")}});var Vl=C((Fvr,ise)=>{"use strict";var QJe=iw(),JJe=vr(),eet=ii(),tet=I8();ise.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e=!1,t={},r;try{r=QJe(Object.prototype,"__proto__","set"),r(t,[]),e=t instanceof Array}catch(n){}return function(i,o){return eet(i),tet(o),JJe(i)&&(e?r(i,o):i.__proto__=o),i}}():void 0)});var E8=C((Bvr,ose)=>{"use strict";var ret=ti().f;ose.exports=function(e,t,r){r in e||ret(e,r,{configurable:!0,get:function(){return t[r]},set:function(n){t[r]=n}})}});var Fd=C((Uvr,sse)=>{"use strict";var net=jr(),iet=vr(),ase=Vl();sse.exports=function(e,t,r){var n,i;return ase&&net(n=t.constructor)&&n!==r&&iet(i=n.prototype)&&i!==r.prototype&&ase(e,i),e}});var tg=C((Vvr,lse)=>{"use strict";var oet=Pr();lse.exports=function(e,t){return e===void 0?arguments.length<2?"":t:oet(e)}});var T8=C(($vr,use)=>{"use strict";var aet=vr(),set=yo();use.exports=function(e,t){aet(t)&&"cause"in t&&set(e,"cause",t.cause)}});var pC=C((Gvr,fse)=>{"use strict";var uet=mt(),cse=Error,cet=uet("".replace),pet=function(e){return String(new cse(e).stack)}("zxcasd"),pse=/\n\s*at [^:]*:[^\n]*/,fet=pse.test(pet);fse.exports=function(e,t){if(fet&&typeof e=="string"&&!cse.prepareStackTrace)for(;t--;)e=cet(e,pse,"");return e}});var M8=C((Hvr,dse)=>{"use strict";var det=wt(),het=Ls();dse.exports=!det(function(){var e=new Error("a");return"stack"in e?(Object.defineProperty(e,"stack",het(1,7)),e.stack!==7):!0})});var fC=C((Wvr,mse)=>{"use strict";var met=yo(),get=pC(),vet=M8(),hse=Error.captureStackTrace;mse.exports=function(e,t,r,n){vet&&(hse?hse(e,t):met(e,"stack",get(r,n)))}});var C8=C((Zvr,wse)=>{"use strict";var gse=Sr(),yet=$r(),vse=yo(),_et=sa(),yse=Vl(),_se=Km(),bse=E8(),bet=Fd(),xet=tg(),wet=T8(),Iet=fC(),Eet=fr(),xse=yn();wse.exports=function(e,t,r,n){var i="stackTraceLimit",o=n?2:1,u=e.split("."),f=u[u.length-1],m=gse.apply(null,u);if(m){var y=m.prototype;if(!xse&&yet(y,"cause")&&delete y.cause,!r)return m;var w=gse("Error"),I=t(function(M,N){var z=xet(n?N:M,void 0),F=n?new m(M):new m;return z!==void 0&&vse(F,"message",z),Iet(F,I,F.stack,2),this&&_et(y,this)&&bet(F,this,I),arguments.length>o&&wet(F,arguments[o]),F});if(I.prototype=y,f!=="Error"?yse?yse(I,w):_se(I,w,{name:!0}):Eet&&i in m&&(bse(I,m,i),bse(I,m,"prepareStackTrace")),_se(I,m),!xse)try{y.name!==f&&vse(y,"name",f),y.constructor=I}catch(M){}return I}}});var Tse=C(()=>{"use strict";var Ise=oe(),Tet=Rt(),Pc=la(),Ese=C8(),A8="WebAssembly",Sse=Tet[A8],dC=new Error("e",{cause:7}).cause!==7,rg=function(e,t){var r={};r[e]=Ese(e,t,dC),Ise({global:!0,constructor:!0,arity:1,forced:dC},r)},P8=function(e,t){if(Sse&&Sse[e]){var r={};r[e]=Ese(A8+"."+e,t,dC),Ise({target:A8,stat:!0,constructor:!0,arity:1,forced:dC},r)}};rg("Error",function(e){return function(r){return Pc(e,this,arguments)}});rg("EvalError",function(e){return function(r){return Pc(e,this,arguments)}});rg("RangeError",function(e){return function(r){return Pc(e,this,arguments)}});rg("ReferenceError",function(e){return function(r){return Pc(e,this,arguments)}});rg("SyntaxError",function(e){return function(r){return Pc(e,this,arguments)}});rg("TypeError",function(e){return function(r){return Pc(e,this,arguments)}});rg("URIError",function(e){return function(r){return Pc(e,this,arguments)}});P8("CompileError",function(e){return function(r){return Pc(e,this,arguments)}});P8("LinkError",function(e){return function(r){return Pc(e,this,arguments)}});P8("RuntimeError",function(e){return function(r){return Pc(e,this,arguments)}})});var O8=C((Xvr,Cse)=>{"use strict";var Met=fr(),Cet=wt(),Aet=jt(),Mse=tg(),hC=Error.prototype.toString,Pet=Cet(function(){if(Met){var e=Object.create(Object.defineProperty({},"name",{get:function(){return this===e}}));if(hC.call(e)!=="true")return!0}return hC.call({message:1,name:2})!=="2: 1"||hC.call({})!=="Error"});Cse.exports=Pet?function(){var t=Aet(this),r=Mse(t.name,"Error"),n=Mse(t.message);return r?n?r+": "+n:r:n}:hC});var Ose=C(()=>{"use strict";var Oet=Ln(),Ase=O8(),Pse=Error.prototype;Pse.toString!==Ase&&Oet(Pse,"toString",Ase)});var mC=C((eyr,Dse)=>{"use strict";var Det=wt();Dse.exports=!Det(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})});var _o=C((tyr,kse)=>{"use strict";var Net=$r(),ket=jr(),Let=Xr(),Ret=Hx(),qet=mC(),Nse=Ret("IE_PROTO"),D8=Object,zet=D8.prototype;kse.exports=qet?D8.getPrototypeOf:function(e){var t=Let(e);if(Net(t,Nse))return t[Nse];var r=t.constructor;return ket(r)&&t instanceof r?r.prototype:t instanceof D8?zet:null}});var ng=C((ryr,Lse)=>{"use strict";Lse.exports={}});var gC=C((nyr,Rse)=>{"use strict";var jet=xr(),Fet=ng(),Bet=jet("iterator"),Uet=Array.prototype;Rse.exports=function(e){return e!==void 0&&(Fet.Array===e||Uet[Bet]===e)}});var Oc=C((iyr,zse)=>{"use strict";var Vet=ps(),qse=Hi(),$et=Rs(),Get=ng(),Het=xr(),Wet=Het("iterator");zse.exports=function(e){if(!$et(e))return qse(e,Wet)||qse(e,"@@iterator")||Get[Vet(e)]}});var Bd=C((oyr,jse)=>{"use strict";var Zet=qt(),Yet=Ir(),Ket=jt(),Xet=kd(),Qet=Oc(),Jet=TypeError;jse.exports=function(e,t){var r=arguments.length<2?Qet(e):t;if(Yet(r))return Ket(Zet(r,e));throw new Jet(Xet(e)+" is not iterable")}});var Vo=C((ayr,Bse)=>{"use strict";var ett=qt(),Fse=jt(),ttt=Hi();Bse.exports=function(e,t,r){var n,i;Fse(e);try{if(n=ttt(e,"return"),!n){if(t==="throw")throw r;return r}n=ett(n,e)}catch(o){i=!0,n=o}if(t==="throw")throw r;if(i)throw n;return Fse(n),r}});var Di=C((syr,Gse)=>{"use strict";var rtt=Un(),ntt=qt(),itt=jt(),ott=kd(),att=gC(),stt=cn(),Use=sa(),ltt=Bd(),utt=Oc(),Vse=Vo(),ctt=TypeError,vC=function(e,t){this.stopped=e,this.result=t},$se=vC.prototype;Gse.exports=function(e,t,r){var n=r&&r.that,i=!!(r&&r.AS_ENTRIES),o=!!(r&&r.IS_RECORD),u=!!(r&&r.IS_ITERATOR),f=!!(r&&r.INTERRUPTED),m=rtt(t,n),y,w,I,M,N,z,F,q=function(U){return y&&Vse(y,"normal",U),new vC(!0,U)},R=function(U){return i?(itt(U),f?m(U[0],U[1],q):m(U[0],U[1])):f?m(U,q):m(U)};if(o)y=e.iterator;else if(u)y=e;else{if(w=utt(e),!w)throw new ctt(ott(e)+" is not iterable");if(att(w)){for(I=0,M=stt(e);M>I;I++)if(N=R(e[I]),N&&Use($se,N))return N;return new vC(!1)}y=ltt(e,w)}for(z=o?e.next:y.next;!(F=ntt(z,y)).done;){try{N=R(F.value)}catch(U){Vse(y,"throw",U)}if(typeof N=="object"&&N&&Use($se,N))return N}return new vC(!1)}});var Wse=C(()=>{"use strict";var ptt=oe(),ftt=sa(),dtt=_o(),yC=Vl(),htt=Km(),Hse=Wi(),N8=yo(),k8=Ls(),mtt=T8(),gtt=fC(),vtt=Di(),ytt=tg(),_tt=xr(),btt=_tt("toStringTag"),_C=Error,xtt=[].push,Jy=function(t,r){var n=ftt(L8,this),i;yC?i=yC(new _C,n?dtt(this):L8):(i=n?this:Hse(L8),N8(i,btt,"Error")),r!==void 0&&N8(i,"message",ytt(r)),gtt(i,Jy,i.stack,1),arguments.length>2&&mtt(i,arguments[2]);var o=[];return vtt(t,xtt,{that:o}),N8(i,"errors",o),i};yC?yC(Jy,_C):htt(Jy,_C,{name:!0});var L8=Jy.prototype=Hse(_C.prototype,{constructor:k8(1,Jy),message:k8(1,""),name:k8(1,"AggregateError")});ptt({global:!0,constructor:!0,arity:2},{AggregateError:Jy})});var R8=C(()=>{"use strict";Wse()});var Xse=C(()=>{"use strict";var wtt=oe(),Stt=Sr(),Itt=la(),Zse=wt(),Ett=C8(),q8="AggregateError",Yse=Stt(q8),Kse=!Zse(function(){return Yse([1]).errors[0]!==1})&&Zse(function(){return Yse([1],q8,{cause:7}).cause!==7});wtt({global:!0,constructor:!0,arity:2,forced:Kse},{AggregateError:Ett(q8,function(e){return function(r,n){return Itt(e,this,arguments)}},Kse,!0)})});var Ni=C((hyr,Qse)=>{"use strict";var Ttt=xr(),Mtt=Wi(),Ctt=ti().f,z8=Ttt("unscopables"),j8=Array.prototype;j8[z8]===void 0&&Ctt(j8,z8,{configurable:!0,value:Mtt(null)});Qse.exports=function(e){j8[z8][e]=!0}});var F8=C(()=>{"use strict";var Att=oe(),Ptt=Xr(),Ott=cn(),Dtt=mi(),Ntt=Ni();Att({target:"Array",proto:!0},{at:function(t){var r=Ptt(this),n=Ott(r),i=Dtt(t),o=i>=0?i:n+i;return o<0||o>=n?void 0:r[o]}});Ntt("at")});var Ud=C((vyr,Jse)=>{"use strict";var ktt=TypeError,Ltt=9007199254740991;Jse.exports=function(e){if(e>Ltt)throw ktt("Maximum allowed index exceeded");return e}});var $l=C((yyr,ele)=>{"use strict";var Rtt=fr(),qtt=ti(),ztt=Ls();ele.exports=function(e,t,r){Rtt?qtt.f(e,t,ztt(0,r)):e[t]=r}});var e0=C((_yr,tle)=>{"use strict";var jtt=wt(),Ftt=xr(),Btt=Du(),Utt=Ftt("species");tle.exports=function(e){return Btt>=51||!jtt(function(){var t=[],r=t.constructor={};return r[Utt]=function(){return{foo:1}},t[e](Boolean).foo!==1})}});var ole=C(()=>{"use strict";var Vtt=oe(),$tt=wt(),Gtt=Lu(),Htt=vr(),Wtt=Xr(),Ztt=cn(),rle=Ud(),nle=$l(),Ytt=Yy(),Ktt=e0(),Xtt=xr(),Qtt=Du(),ile=Xtt("isConcatSpreadable"),Jtt=Qtt>=51||!$tt(function(){var e=[];return e[ile]=!1,e.concat()[0]!==e}),ert=function(e){if(!Htt(e))return!1;var t=e[ile];return t!==void 0?!!t:Gtt(e)},trt=!Jtt||!Ktt("concat");Vtt({target:"Array",proto:!0,arity:1,forced:trt},{concat:function(t){var r=Wtt(this),n=Ytt(r,0),i=0,o,u,f,m,y;for(o=-1,f=arguments.length;o<f;o++)if(y=o===-1?r:arguments[o],ert(y))for(m=Ztt(y),rle(i+m),u=0;u<m;u++,i++)u in y&&nle(n,i,y[u]);else rle(i+1),nle(n,i++,y);return n.length=i,n}})});var ow=C((wyr,sle)=>{"use strict";var ale=kd(),rrt=TypeError;sle.exports=function(e,t){if(!delete e[t])throw new rrt("Cannot delete property "+ale(t)+" of "+ale(e))}});var U8=C((Syr,lle)=>{"use strict";var nrt=Xr(),B8=ku(),irt=cn(),ort=ow(),art=Math.min;lle.exports=[].copyWithin||function(t,r){var n=nrt(this),i=irt(n),o=B8(t,i),u=B8(r,i),f=arguments.length>2?arguments[2]:void 0,m=art((f===void 0?i:B8(f,i))-u,i-o),y=1;for(u<o&&o<u+m&&(y=-1,u+=m-1,o+=m-1);m-->0;)u in n?n[o]=n[u]:ort(n,o),o+=y,u+=y;return n}});var ule=C(()=>{"use strict";var srt=oe(),lrt=U8(),urt=Ni();srt({target:"Array",proto:!0},{copyWithin:lrt});urt("copyWithin")});var Gl=C((Tyr,cle)=>{"use strict";var crt=wt();cle.exports=function(e,t){var r=[][e];return!!r&&crt(function(){r.call(null,t||function(){return 1},1)})}});var ple=C(()=>{"use strict";var prt=oe(),frt=Zi().every,drt=Gl(),hrt=drt("every");prt({target:"Array",proto:!0,forced:!hrt},{every:function(t){return frt(this,t,arguments.length>1?arguments[1]:void 0)}})});var bC=C((Ayr,dle)=>{"use strict";var mrt=Xr(),fle=ku(),grt=cn();dle.exports=function(t){for(var r=mrt(this),n=grt(r),i=arguments.length,o=fle(i>1?arguments[1]:void 0,n),u=i>2?arguments[2]:void 0,f=u===void 0?n:fle(u,n);f>o;)r[o++]=t;return r}});var hle=C(()=>{"use strict";var vrt=oe(),yrt=bC(),_rt=Ni();vrt({target:"Array",proto:!0},{fill:yrt});_rt("fill")});var mle=C(()=>{"use strict";var brt=oe(),xrt=Zi().filter,wrt=e0(),Srt=wrt("filter");brt({target:"Array",proto:!0,forced:!Srt},{filter:function(t){return xrt(this,t,arguments.length>1?arguments[1]:void 0)}})});var vle=C(()=>{"use strict";var Irt=oe(),Ert=Zi().find,Trt=Ni(),V8="find",gle=!0;V8 in[]&&Array(1)[V8](function(){gle=!1});Irt({target:"Array",proto:!0,forced:gle},{find:function(t){return Ert(this,t,arguments.length>1?arguments[1]:void 0)}});Trt(V8)});var _le=C(()=>{"use strict";var Mrt=oe(),Crt=Zi().findIndex,Art=Ni(),$8="findIndex",yle=!0;$8 in[]&&Array(1)[$8](function(){yle=!1});Mrt({target:"Array",proto:!0,forced:yle},{findIndex:function(t){return Crt(this,t,arguments.length>1?arguments[1]:void 0)}});Art($8)});var aw=C((zyr,xle)=>{"use strict";var Prt=Un(),Ort=$p(),Drt=Xr(),Nrt=cn(),ble=function(e){var t=e===1;return function(r,n,i){for(var o=Drt(r),u=Ort(o),f=Nrt(u),m=Prt(n,i),y,w;f-->0;)if(y=u[f],w=m(y,f,o),w)switch(e){case 0:return y;case 1:return f}return t?-1:void 0}};xle.exports={findLast:ble(0),findLastIndex:ble(1)}});var G8=C(()=>{"use strict";var krt=oe(),Lrt=aw().findLast,Rrt=Ni();krt({target:"Array",proto:!0},{findLast:function(t){return Lrt(this,t,arguments.length>1?arguments[1]:void 0)}});Rrt("findLast")});var H8=C(()=>{"use strict";var qrt=oe(),zrt=aw().findLastIndex,jrt=Ni();qrt({target:"Array",proto:!0},{findLastIndex:function(t){return zrt(this,t,arguments.length>1?arguments[1]:void 0)}});jrt("findLastIndex")});var W8=C((Vyr,Sle)=>{"use strict";var Frt=Lu(),Brt=cn(),Urt=Ud(),Vrt=Un(),wle=function(e,t,r,n,i,o,u,f){for(var m=i,y=0,w=u?Vrt(u,f):!1,I,M;y<n;)y in r&&(I=w?w(r[y],y,t):r[y],o>0&&Frt(I)?(M=Brt(I),m=wle(e,t,I,M,m,o-1)-1):(Urt(m+1),e[m]=I),m++),y++;return m};Sle.exports=wle});var Ile=C(()=>{"use strict";var $rt=oe(),Grt=W8(),Hrt=Xr(),Wrt=cn(),Zrt=mi(),Yrt=Yy();$rt({target:"Array",proto:!0},{flat:function(){var t=arguments.length?arguments[0]:void 0,r=Hrt(this),n=Wrt(r),i=Yrt(r,0);return i.length=Grt(i,r,r,n,0,t===void 0?1:Zrt(t)),i}})});var Ele=C(()=>{"use strict";var Krt=oe(),Xrt=W8(),Qrt=Ir(),Jrt=Xr(),ent=cn(),tnt=Yy();Krt({target:"Array",proto:!0},{flatMap:function(t){var r=Jrt(this),n=ent(r),i;return Qrt(t),i=tnt(r,0),i.length=Xrt(i,r,r,n,0,1,t,arguments.length>1?arguments[1]:void 0),i}})});var Z8=C((Zyr,Tle)=>{"use strict";var rnt=Zi().forEach,nnt=Gl(),int=nnt("forEach");Tle.exports=int?[].forEach:function(t){return rnt(this,t,arguments.length>1?arguments[1]:void 0)}});var Cle=C(()=>{"use strict";var ont=oe(),Mle=Z8();ont({target:"Array",proto:!0,forced:[].forEach!==Mle},{forEach:Mle})});var xC=C((Xyr,Ale)=>{"use strict";var ant=jt(),snt=Vo();Ale.exports=function(e,t,r,n){try{return n?t(ant(r)[0],r[1]):t(r)}catch(i){snt(e,"throw",i)}}});var Y8=C((Qyr,Dle)=>{"use strict";var lnt=Un(),unt=qt(),cnt=Xr(),pnt=xC(),fnt=gC(),dnt=Ru(),hnt=cn(),Ple=$l(),mnt=Bd(),gnt=Oc(),Ole=Array;Dle.exports=function(t){var r=cnt(t),n=dnt(this),i=arguments.length,o=i>1?arguments[1]:void 0,u=o!==void 0;u&&(o=lnt(o,i>2?arguments[2]:void 0));var f=gnt(r),m=0,y,w,I,M,N,z;if(f&&!(this===Ole&&fnt(f)))for(w=n?new this:[],M=mnt(r,f),N=M.next;!(I=unt(N,M)).done;m++)z=u?pnt(M,o,[I.value,m],!0):I.value,Ple(w,m,z);else for(y=hnt(r),w=n?new this(y):Ole(y);y>m;m++)z=u?o(r[m],m):r[m],Ple(w,m,z);return w.length=m,w}});var sw=C((Jyr,Rle)=>{"use strict";var vnt=xr(),kle=vnt("iterator"),Lle=!1;try{Nle=0,K8={next:function(){return{done:!!Nle++}},return:function(){Lle=!0}},K8[kle]=function(){return this},Array.from(K8,function(){throw 2})}catch(e){}var Nle,K8;Rle.exports=function(e,t){try{if(!t&&!Lle)return!1}catch(i){return!1}var r=!1;try{var n={};n[kle]=function(){return{next:function(){return{done:r=!0}}}},e(n)}catch(i){}return r}});var qle=C(()=>{"use strict";var ynt=oe(),_nt=Y8(),bnt=sw(),xnt=!bnt(function(e){Array.from(e)});ynt({target:"Array",stat:!0,forced:xnt},{from:_nt})});var zle=C(()=>{"use strict";var wnt=oe(),Snt=Wy().includes,Int=wt(),Ent=Ni(),Tnt=Int(function(){return!Array(1).includes()});wnt({target:"Array",proto:!0,forced:Tnt},{includes:function(t){return Snt(this,t,arguments.length>1?arguments[1]:void 0)}});Ent("includes")});var Fle=C(()=>{"use strict";var Mnt=oe(),Cnt=qd(),Ant=Wy().indexOf,Pnt=Gl(),X8=Cnt([].indexOf),jle=!!X8&&1/X8([1],1,-0)<0,Ont=jle||!Pnt("indexOf");Mnt({target:"Array",proto:!0,forced:Ont},{indexOf:function(t){var r=arguments.length>1?arguments[1]:void 0;return jle?X8(this,t,r)||0:Ant(this,t,r)}})});var Ble=C(()=>{"use strict";var Dnt=oe(),Nnt=Lu();Dnt({target:"Array",stat:!0},{isArray:Nnt})});var Vd=C((l0r,$le)=>{"use strict";var knt=wt(),Lnt=jr(),Rnt=vr(),qnt=Wi(),Ule=_o(),znt=Ln(),jnt=xr(),Fnt=yn(),e7=jnt("iterator"),Vle=!1,Yp,Q8,J8;[].keys&&(J8=[].keys(),"next"in J8?(Q8=Ule(Ule(J8)),Q8!==Object.prototype&&(Yp=Q8)):Vle=!0);var Bnt=!Rnt(Yp)||knt(function(){var e={};return Yp[e7].call(e)!==e});Bnt?Yp={}:Fnt&&(Yp=qnt(Yp));Lnt(Yp[e7])||znt(Yp,e7,function(){return this});$le.exports={IteratorPrototype:Yp,BUGGY_SAFARI_ITERATORS:Vle}});var $d=C((u0r,Gle)=>{"use strict";var Unt=Vd().IteratorPrototype,Vnt=Wi(),$nt=Ls(),Gnt=fs(),Hnt=ng(),Wnt=function(){return this};Gle.exports=function(e,t,r,n){var i=t+" Iterator";return e.prototype=Vnt(Unt,{next:$nt(+!n,r)}),Gnt(e,i,!1,!0),Hnt[i]=Wnt,e}});var IC=C((c0r,tue)=>{"use strict";var Znt=oe(),Ynt=qt(),wC=yn(),Jle=Zm(),Knt=jr(),Xnt=$d(),Hle=_o(),Wle=Vl(),Qnt=fs(),Jnt=yo(),t7=Ln(),eit=xr(),Zle=ng(),eue=Vd(),tit=Jle.PROPER,rit=Jle.CONFIGURABLE,Yle=eue.IteratorPrototype,SC=eue.BUGGY_SAFARI_ITERATORS,lw=eit("iterator"),Kle="keys",uw="values",Xle="entries",Qle=function(){return this};tue.exports=function(e,t,r,n,i,o,u){Xnt(r,t,n);var f=function(R){if(R===i&&M)return M;if(!SC&&R&&R in w)return w[R];switch(R){case Kle:return function(){return new r(this,R)};case uw:return function(){return new r(this,R)};case Xle:return function(){return new r(this,R)}}return function(){return new r(this)}},m=t+" Iterator",y=!1,w=e.prototype,I=w[lw]||w["@@iterator"]||i&&w[i],M=!SC&&I||f(i),N=t==="Array"&&w.entries||I,z,F,q;if(N&&(z=Hle(N.call(new e)),z!==Object.prototype&&z.next&&(!wC&&Hle(z)!==Yle&&(Wle?Wle(z,Yle):Knt(z[lw])||t7(z,lw,Qle)),Qnt(z,m,!0,!0),wC&&(Zle[m]=Qle))),tit&&i===uw&&I&&I.name!==uw&&(!wC&&rit?Jnt(w,"name",uw):(y=!0,M=function(){return Ynt(I,this)})),i)if(F={values:f(uw),keys:o?M:f(Kle),entries:f(Xle)},u)for(q in F)(SC||y||!(q in w))&&t7(w,q,F[q]);else Znt({target:t,proto:!0,forced:SC||y},F);return(!wC||u)&&w[lw]!==M&&t7(w,lw,M,{name:i}),Zle[t]=M,F}});var Po=C((p0r,rue)=>{"use strict";rue.exports=function(e,t){return{value:e,done:t}}});var cw=C((f0r,sue)=>{"use strict";var nit=vo(),r7=Ni(),nue=ng(),oue=On(),iit=ti().f,oit=IC(),EC=Po(),ait=yn(),sit=fr(),aue="Array Iterator",lit=oue.set,uit=oue.getterFor(aue);sue.exports=oit(Array,"Array",function(e,t){lit(this,{type:aue,target:nit(e),index:0,kind:t})},function(){var e=uit(this),t=e.target,r=e.index++;if(!t||r>=t.length)return e.target=null,EC(void 0,!0);switch(e.kind){case"keys":return EC(r,!1);case"values":return EC(t[r],!1)}return EC([r,t[r]],!1)},"values");var iue=nue.Arguments=nue.Array;r7("keys");r7("values");r7("entries");if(!ait&&sit&&iue.name!=="values")try{iit(iue,"name",{value:"values"})}catch(e){}});var lue=C(()=>{"use strict";var cit=oe(),pit=mt(),fit=$p(),dit=vo(),hit=Gl(),mit=pit([].join),git=fit!==Object,vit=git||!hit("join",",");cit({target:"Array",proto:!0,forced:vit},{join:function(t){return mit(dit(this),t===void 0?",":t)}})});var i7=C((m0r,cue)=>{"use strict";var yit=la(),_it=vo(),bit=mi(),xit=cn(),wit=Gl(),Sit=Math.min,n7=[].lastIndexOf,uue=!!n7&&1/[1].lastIndexOf(1,-0)<0,Iit=wit("lastIndexOf"),Eit=uue||!Iit;cue.exports=Eit?function(t){if(uue)return yit(n7,this,arguments)||0;var r=_it(this),n=xit(r);if(n===0)return-1;var i=n-1;for(arguments.length>1&&(i=Sit(i,bit(arguments[1]))),i<0&&(i=n+i);i>=0;i--)if(i in r&&r[i]===t)return i||0;return-1}:n7});var fue=C(()=>{"use strict";var Tit=oe(),pue=i7();Tit({target:"Array",proto:!0,forced:pue!==[].lastIndexOf},{lastIndexOf:pue})});var due=C(()=>{"use strict";var Mit=oe(),Cit=Zi().map,Ait=e0(),Pit=Ait("map");Mit({target:"Array",proto:!0,forced:!Pit},{map:function(t){return Cit(this,t,arguments.length>1?arguments[1]:void 0)}})});var mue=C(()=>{"use strict";var Oit=oe(),Dit=wt(),Nit=Ru(),kit=$l(),hue=Array,Lit=Dit(function(){function e(){}return!(hue.of.call(e)instanceof e)});Oit({target:"Array",stat:!0,forced:Lit},{of:function(){for(var t=0,r=arguments.length,n=new(Nit(this)?this:hue)(r);r>t;)kit(n,t,arguments[t++]);return n.length=r,n}})});var TC=C((w0r,gue)=>{"use strict";var Rit=fr(),qit=Lu(),zit=TypeError,jit=Object.getOwnPropertyDescriptor,Fit=Rit&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();gue.exports=Fit?function(e,t){if(qit(e)&&!jit(e,"length").writable)throw new zit("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}});var vue=C(()=>{"use strict";var Bit=oe(),Uit=Xr(),Vit=cn(),$it=TC(),Git=Ud(),Hit=wt(),Wit=Hit(function(){return[].push.call({length:4294967296},1)!==4294967297}),Zit=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}},Yit=Wit||!Zit();Bit({target:"Array",proto:!0,arity:1,forced:Yit},{push:function(t){var r=Uit(this),n=Vit(r),i=arguments.length;Git(n+i);for(var o=0;o<i;o++)r[n]=arguments[o],n++;return $it(r,n),n}})});var pw=C((E0r,xue)=>{"use strict";var Kit=Ir(),Xit=Xr(),Qit=$p(),Jit=cn(),yue=TypeError,_ue="Reduce of empty array with no initial value",bue=function(e){return function(t,r,n,i){var o=Xit(t),u=Qit(o),f=Jit(o);if(Kit(r),f===0&&n<2)throw new yue(_ue);var m=e?f-1:0,y=e?-1:1;if(n<2)for(;;){if(m in u){i=u[m],m+=y;break}if(m+=y,e?m<0:f<=m)throw new yue(_ue)}for(;e?m>=0:f>m;m+=y)m in u&&(i=r(i,u[m],m,o));return i}};xue.exports={left:bue(!1),right:bue(!0)}});var dw=C((T0r,wue)=>{"use strict";var fw=Rt(),eot=Pu(),tot=aa(),MC=function(e){return eot.slice(0,e.length)===e};wue.exports=function(){return MC("Bun/")?"BUN":MC("Cloudflare-Workers")?"CLOUDFLARE":MC("Deno/")?"DENO":MC("Node.js/")?"NODE":fw.Bun&&typeof Bun.version=="string"?"BUN":fw.Deno&&typeof Deno.version=="object"?"DENO":tot(fw.process)==="process"?"NODE":fw.window&&fw.document?"BROWSER":"REST"}()});var ig=C((M0r,Sue)=>{"use strict";var rot=dw();Sue.exports=rot==="NODE"});var Eue=C(()=>{"use strict";var not=oe(),iot=pw().left,oot=Gl(),Iue=Du(),aot=ig(),sot=!aot&&Iue>79&&Iue<83,lot=sot||!oot("reduce");not({target:"Array",proto:!0,forced:lot},{reduce:function(t){var r=arguments.length;return iot(this,t,r,r>1?arguments[1]:void 0)}})});var Mue=C(()=>{"use strict";var uot=oe(),cot=pw().right,pot=Gl(),Tue=Du(),fot=ig(),dot=!fot&&Tue>79&&Tue<83,hot=dot||!pot("reduceRight");uot({target:"Array",proto:!0,forced:hot},{reduceRight:function(t){return cot(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})});var Aue=C(()=>{"use strict";var mot=oe(),got=mt(),vot=Lu(),yot=got([].reverse),Cue=[1,2];mot({target:"Array",proto:!0,forced:String(Cue)===String(Cue.reverse())},{reverse:function(){return vot(this)&&(this.length=this.length),yot(this)}})});var Due=C(()=>{"use strict";var _ot=oe(),Pue=Lu(),bot=Ru(),xot=vr(),Oue=ku(),wot=cn(),Sot=vo(),Iot=$l(),Eot=xr(),Tot=e0(),Mot=zs(),Cot=Tot("slice"),Aot=Eot("species"),o7=Array,Pot=Math.max;_ot({target:"Array",proto:!0,forced:!Cot},{slice:function(t,r){var n=Sot(this),i=wot(n),o=Oue(t,i),u=Oue(r===void 0?i:r,i),f,m,y;if(Pue(n)&&(f=n.constructor,bot(f)&&(f===o7||Pue(f.prototype))?f=void 0:xot(f)&&(f=f[Aot],f===null&&(f=void 0)),f===o7||f===void 0))return Mot(n,o,u);for(m=new(f===void 0?o7:f)(Pot(u-o,0)),y=0;o<u;o++,y++)o in n&&Iot(m,y,n[o]);return m.length=y,m}})});var Nue=C(()=>{"use strict";var Oot=oe(),Dot=Zi().some,Not=Gl(),kot=Not("some");Oot({target:"Array",proto:!0,forced:!kot},{some:function(t){return Dot(this,t,arguments.length>1?arguments[1]:void 0)}})});var CC=C((z0r,Lue)=>{"use strict";var kue=zs(),Lot=Math.floor,a7=function(e,t){var r=e.length;if(r<8)for(var n=1,i,o;n<r;){for(o=n,i=e[n];o&&t(e[o-1],i)>0;)e[o]=e[--o];o!==n++&&(e[o]=i)}else for(var u=Lot(r/2),f=a7(kue(e,0,u),t),m=a7(kue(e,u),t),y=f.length,w=m.length,I=0,M=0;I<y||M<w;)e[I+M]=I<y&&M<w?t(f[I],m[M])<=0?f[I++]:m[M++]:I<y?f[I++]:m[M++];return e};Lue.exports=a7});var s7=C((j0r,que)=>{"use strict";var Rot=Pu(),Rue=Rot.match(/firefox\/(\d+)/i);que.exports=!!Rue&&+Rue[1]});var l7=C((F0r,zue)=>{"use strict";var qot=Pu();zue.exports=/MSIE|Trident/.test(qot)});var AC=C((B0r,Fue)=>{"use strict";var zot=Pu(),jue=zot.match(/AppleWebKit\/(\d+)\./);Fue.exports=!!jue&&+jue[1]});var Yue=C(()=>{"use strict";var jot=oe(),Wue=mt(),Fot=Ir(),Bot=Xr(),Bue=cn(),Uot=ow(),Uue=Pr(),u7=wt(),Vot=CC(),$ot=Gl(),Vue=s7(),Got=l7(),$ue=Du(),Gue=AC(),Gd=[],Hue=Wue(Gd.sort),Hot=Wue(Gd.push),Wot=u7(function(){Gd.sort(void 0)}),Zot=u7(function(){Gd.sort(null)}),Yot=$ot("sort"),Zue=!u7(function(){if($ue)return $ue<70;if(!(Vue&&Vue>3)){if(Got)return!0;if(Gue)return Gue<603;var e="",t,r,n,i;for(t=65;t<76;t++){switch(r=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(i=0;i<47;i++)Gd.push({k:r+i,v:n})}for(Gd.sort(function(o,u){return u.v-o.v}),i=0;i<Gd.length;i++)r=Gd[i].k.charAt(0),e.charAt(e.length-1)!==r&&(e+=r);return e!=="DGBEFHACIJK"}}),Kot=Wot||!Zot||!Yot||!Zue,Xot=function(e){return function(t,r){return r===void 0?-1:t===void 0?1:e!==void 0?+e(t,r)||0:Uue(t)>Uue(r)?1:-1}};jot({target:"Array",proto:!0,forced:Kot},{sort:function(t){t!==void 0&&Fot(t);var r=Bot(this);if(Zue)return t===void 0?Hue(r):Hue(r,t);var n=[],i=Bue(r),o,u;for(u=0;u<i;u++)u in r&&Hot(n,r[u]);for(Vot(n,Xot(t)),o=Bue(n),u=0;u<o;)r[u]=n[u++];for(;u<i;)Uot(r,u++);return r}})});var Hd=C(($0r,Xue)=>{"use strict";var Qot=Sr(),Jot=gi(),eat=xr(),tat=fr(),Kue=eat("species");Xue.exports=function(e){var t=Qot(e);tat&&t&&!t[Kue]&&Jot(t,Kue,{configurable:!0,get:function(){return this}})}});var Que=C(()=>{"use strict";var rat=Hd();rat("Array")});var Jue=C(()=>{"use strict";var nat=oe(),iat=Xr(),oat=ku(),aat=mi(),sat=cn(),lat=TC(),uat=Ud(),cat=Yy(),pat=$l(),c7=ow(),fat=e0(),dat=fat("splice"),hat=Math.max,mat=Math.min;nat({target:"Array",proto:!0,forced:!dat},{splice:function(t,r){var n=iat(this),i=sat(n),o=oat(t,i),u=arguments.length,f,m,y,w,I,M;for(u===0?f=m=0:u===1?(f=0,m=i-o):(f=u-2,m=mat(hat(aat(r),0),i-o)),uat(i+f-m),y=cat(n,m),w=0;w<m;w++)I=o+w,I in n&&pat(y,w,n[I]);if(y.length=m,f<m){for(w=o;w<i-m;w++)I=w+m,M=w+f,I in n?n[M]=n[I]:c7(n,M);for(w=i;w>i-m+f;w--)c7(n,w-1)}else if(f>m)for(w=i-m;w>o;w--)I=w+m-1,M=w+f-1,I in n?n[M]=n[I]:c7(n,M);for(w=0;w<f;w++)n[w+o]=arguments[w+2];return lat(n,i-m+f),y}})});var p7=C((Y0r,ece)=>{"use strict";var gat=cn();ece.exports=function(e,t){for(var r=gat(e),n=new t(r),i=0;i<r;i++)n[i]=e[r-i-1];return n}});var f7=C(()=>{"use strict";var vat=oe(),yat=p7(),_at=vo(),bat=Ni(),xat=Array;vat({target:"Array",proto:!0},{toReversed:function(){return yat(_at(this),xat)}});bat("toReversed")});var Kp=C((Q0r,tce)=>{"use strict";var wat=cn();tce.exports=function(e,t,r){for(var n=0,i=arguments.length>2?r:wat(t),o=new e(i);i>n;)o[n]=t[n++];return o}});var d7=C((J0r,rce)=>{"use strict";var Sat=Rt();rce.exports=function(e,t){var r=Sat[e],n=r&&r.prototype;return n&&n[t]}});var h7=C(()=>{"use strict";var Iat=oe(),Eat=mt(),Tat=Ir(),Mat=vo(),Cat=Kp(),Aat=d7(),Pat=Ni(),Oat=Array,Dat=Eat(Aat("Array","sort"));Iat({target:"Array",proto:!0},{toSorted:function(t){t!==void 0&&Tat(t);var r=Mat(this),n=Cat(Oat,r);return Dat(n,t)}});Pat("toSorted")});var m7=C(()=>{"use strict";var Nat=oe(),kat=Ni(),Lat=Ud(),Rat=cn(),qat=ku(),zat=vo(),jat=mi(),Fat=Array,Bat=Math.max,Uat=Math.min;Nat({target:"Array",proto:!0},{toSpliced:function(t,r){var n=zat(this),i=Rat(n),o=qat(t,i),u=arguments.length,f=0,m,y,w,I;for(u===0?m=y=0:u===1?(m=0,y=i-o):(m=u-2,y=Uat(Bat(jat(r),0),i-o)),w=Lat(i+m-y),I=Fat(w);f<o;f++)I[f]=n[f];for(;f<o+m;f++)I[f]=arguments[f-o+2];for(;f<w;f++)I[f]=n[f+y-m];return I}});kat("toSpliced")});var nce=C(()=>{"use strict";var Vat=Ni();Vat("flat")});var ice=C(()=>{"use strict";var $at=Ni();$at("flatMap")});var oce=C(()=>{"use strict";var Gat=oe(),Hat=Xr(),Wat=cn(),Zat=TC(),Yat=ow(),Kat=Ud(),Xat=[].unshift(0)!==1,Qat=function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(e){return e instanceof TypeError}},Jat=Xat||!Qat();Gat({target:"Array",proto:!0,arity:1,forced:Jat},{unshift:function(t){var r=Hat(this),n=Wat(r),i=arguments.length;if(i){Kat(n+i);for(var o=n;o--;){var u=o+i;o in r?r[u]=r[o]:Yat(r,u)}for(var f=0;f<i;f++)r[f]=arguments[f]}return Zat(r,n+i)}})});var g7=C((c1r,ace)=>{"use strict";var est=cn(),tst=mi(),rst=RangeError;ace.exports=function(e,t,r,n){var i=est(e),o=tst(r),u=o<0?i+o:o;if(u>=i||u<0)throw new rst("Incorrect index");for(var f=new t(i),m=0;m<i;m++)f[m]=m===u?n:e[m];return f}});var v7=C(()=>{"use strict";var nst=oe(),ist=g7(),ost=vo(),ast=Array;nst({target:"Array",proto:!0},{with:function(e,t){return ist(ost(this),ast,e,t)}})});var hw=C((d1r,sce)=>{"use strict";sce.exports=typeof ArrayBuffer!="undefined"&&typeof DataView!="undefined"});var Hl=C((h1r,lce)=>{"use strict";var sst=Ln();lce.exports=function(e,t,r){for(var n in t)sst(e,n,t[n],r);return e}});var ja=C((m1r,uce)=>{"use strict";var lst=sa(),ust=TypeError;uce.exports=function(e,t){if(lst(t,e))return e;throw new ust("Incorrect invocation")}});var t0=C((g1r,cce)=>{"use strict";var cst=mi(),pst=qs(),fst=RangeError;cce.exports=function(e){if(e===void 0)return 0;var t=cst(e),r=pst(t);if(t!==r)throw new fst("Wrong length or index");return r}});var PC=C((v1r,pce)=>{"use strict";pce.exports=Math.sign||function(t){var r=+t;return r===0||r!==r?r:r<0?-1:1}});var y7=C((y1r,dce)=>{"use strict";var dst=2220446049250313e-31,fce=1/dst;dce.exports=function(e){return e+fce-fce}});var _7=C((_1r,hce)=>{"use strict";var hst=PC(),mst=y7(),gst=Math.abs,vst=2220446049250313e-31;hce.exports=function(e,t,r,n){var i=+e,o=gst(i),u=hst(i);if(o<n)return u*mst(o/n/t)*n*t;var f=(1+t/vst)*o,m=f-(f-o);return m>r||m!==m?u*(1/0):u*m}});var OC=C((b1r,mce)=>{"use strict";var yst=_7(),_st=1.1920928955078125e-7,bst=34028234663852886e22,xst=11754943508222875e-54;mce.exports=Math.fround||function(t){return yst(t,_st,bst,xst)}});var vce=C((x1r,gce)=>{"use strict";var wst=Array,Sst=Math.abs,Xp=Math.pow,Ist=Math.floor,Est=Math.log,Tst=Math.LN2,Mst=function(e,t,r){var n=wst(r),i=r*8-t-1,o=(1<<i)-1,u=o>>1,f=t===23?Xp(2,-24)-Xp(2,-77):0,m=e<0||e===0&&1/e<0?1:0,y=0,w,I,M;for(e=Sst(e),e!==e||e===1/0?(I=e!==e?1:0,w=o):(w=Ist(Est(e)/Tst),M=Xp(2,-w),e*M<1&&(w--,M*=2),w+u>=1?e+=f/M:e+=f*Xp(2,1-u),e*M>=2&&(w++,M/=2),w+u>=o?(I=0,w=o):w+u>=1?(I=(e*M-1)*Xp(2,t),w+=u):(I=e*Xp(2,u-1)*Xp(2,t),w=0));t>=8;)n[y++]=I&255,I/=256,t-=8;for(w=w<<t|I,i+=t;i>0;)n[y++]=w&255,w/=256,i-=8;return n[y-1]|=m*128,n},Cst=function(e,t){var r=e.length,n=r*8-t-1,i=(1<<n)-1,o=i>>1,u=n-7,f=r-1,m=e[f--],y=m&127,w;for(m>>=7;u>0;)y=y*256+e[f--],u-=8;for(w=y&(1<<-u)-1,y>>=-u,u+=t;u>0;)w=w*256+e[f--],u-=8;if(y===0)y=1-o;else{if(y===i)return w?NaN:m?-1/0:1/0;w+=Xp(2,t),y-=o}return(m?-1:1)*w*Xp(2,y-t)};gce.exports={pack:Mst,unpack:Cst}});var vw=C((w1r,kce)=>{"use strict";var RC=Rt(),I7=mt(),b7=fr(),Ast=hw(),Ace=Zm(),Pst=yo(),Ost=gi(),yce=Hl(),x7=wt(),DC=ja(),Dst=mi(),Nst=qs(),kC=t0(),kst=OC(),Pce=vce(),Lst=_o(),_ce=Vl(),Rst=bC(),qst=zs(),zst=Fd(),jst=Km(),Oce=fs(),E7=On(),Fst=Ace.PROPER,bce=Ace.CONFIGURABLE,n0="ArrayBuffer",qC="DataView",i0="prototype",Bst="Wrong length",Dce="Wrong index",xce=E7.getterFor(n0),gw=E7.getterFor(qC),wce=E7.set,qu=RC[n0],dl=qu,r0=dl&&dl[i0],Dc=RC[qC],og=Dc&&Dc[i0],Sce=Object.prototype,Ust=RC.Array,LC=RC.RangeError,Vst=I7(Rst),$st=I7([].reverse),Nce=Pce.pack,Ice=Pce.unpack,Ece=function(e){return[e&255]},Tce=function(e){return[e&255,e>>8&255]},Mce=function(e){return[e&255,e>>8&255,e>>16&255,e>>24&255]},Cce=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},Gst=function(e){return Nce(kst(e),23,4)},Hst=function(e){return Nce(e,52,8)},NC=function(e,t,r){Ost(e[i0],t,{configurable:!0,get:function(){return r(this)[t]}})},Wd=function(e,t,r,n){var i=gw(e),o=kC(r),u=!!n;if(o+t>i.byteLength)throw new LC(Dce);var f=i.bytes,m=o+i.byteOffset,y=qst(f,m,m+t);return u?y:$st(y)},Zd=function(e,t,r,n,i,o){var u=gw(e),f=kC(r),m=n(+i),y=!!o;if(f+t>u.byteLength)throw new LC(Dce);for(var w=u.bytes,I=f+u.byteOffset,M=0;M<t;M++)w[I+M]=m[y?M:t-M-1]};Ast?(w7=Fst&&qu.name!==n0,!x7(function(){qu(1)})||!x7(function(){new qu(-1)})||x7(function(){return new qu,new qu(1.5),new qu(NaN),qu.length!==1||w7&&!bce})?(dl=function(t){return DC(this,r0),zst(new qu(kC(t)),this,dl)},dl[i0]=r0,r0.constructor=dl,jst(dl,qu)):w7&&bce&&Pst(qu,"name",n0),_ce&&Lst(og)!==Sce&&_ce(og,Sce),mw=new Dc(new dl(2)),S7=I7(og.setInt8),mw.setInt8(0,2147483648),mw.setInt8(1,2147483649),(mw.getInt8(0)||!mw.getInt8(1))&&yce(og,{setInt8:function(t,r){S7(this,t,r<<24>>24)},setUint8:function(t,r){S7(this,t,r<<24>>24)}},{unsafe:!0})):(dl=function(t){DC(this,r0);var r=kC(t);wce(this,{type:n0,bytes:Vst(Ust(r),0),byteLength:r}),b7||(this.byteLength=r,this.detached=!1)},r0=dl[i0],Dc=function(t,r,n){DC(this,og),DC(t,r0);var i=xce(t),o=i.byteLength,u=Dst(r);if(u<0||u>o)throw new LC("Wrong offset");if(n=n===void 0?o-u:Nst(n),u+n>o)throw new LC(Bst);wce(this,{type:qC,buffer:t,byteLength:n,byteOffset:u,bytes:i.bytes}),b7||(this.buffer=t,this.byteLength=n,this.byteOffset=u)},og=Dc[i0],b7&&(NC(dl,"byteLength",xce),NC(Dc,"buffer",gw),NC(Dc,"byteLength",gw),NC(Dc,"byteOffset",gw)),yce(og,{getInt8:function(t){return Wd(this,1,t)[0]<<24>>24},getUint8:function(t){return Wd(this,1,t)[0]},getInt16:function(t){var r=Wd(this,2,t,arguments.length>1?arguments[1]:!1);return(r[1]<<8|r[0])<<16>>16},getUint16:function(t){var r=Wd(this,2,t,arguments.length>1?arguments[1]:!1);return r[1]<<8|r[0]},getInt32:function(t){return Cce(Wd(this,4,t,arguments.length>1?arguments[1]:!1))},getUint32:function(t){return Cce(Wd(this,4,t,arguments.length>1?arguments[1]:!1))>>>0},getFloat32:function(t){return Ice(Wd(this,4,t,arguments.length>1?arguments[1]:!1),23)},getFloat64:function(t){return Ice(Wd(this,8,t,arguments.length>1?arguments[1]:!1),52)},setInt8:function(t,r){Zd(this,1,t,Ece,r)},setUint8:function(t,r){Zd(this,1,t,Ece,r)},setInt16:function(t,r){Zd(this,2,t,Tce,r,arguments.length>2?arguments[2]:!1)},setUint16:function(t,r){Zd(this,2,t,Tce,r,arguments.length>2?arguments[2]:!1)},setInt32:function(t,r){Zd(this,4,t,Mce,r,arguments.length>2?arguments[2]:!1)},setUint32:function(t,r){Zd(this,4,t,Mce,r,arguments.length>2?arguments[2]:!1)},setFloat32:function(t,r){Zd(this,4,t,Gst,r,arguments.length>2?arguments[2]:!1)},setFloat64:function(t,r){Zd(this,8,t,Hst,r,arguments.length>2?arguments[2]:!1)}}));var w7,mw,S7;Oce(dl,n0);Oce(Dc,qC);kce.exports={ArrayBuffer:dl,DataView:Dc}});var Rce=C(()=>{"use strict";var Wst=oe(),Zst=Rt(),Yst=vw(),Kst=Hd(),T7="ArrayBuffer",Lce=Yst[T7],Xst=Zst[T7];Wst({global:!0,constructor:!0,forced:Xst!==Lce},{ArrayBuffer:Lce});Kst(T7)});var Wr=C((E1r,Hce)=>{"use strict";var Qst=hw(),P7=fr(),ds=Rt(),Fce=jr(),FC=vr(),Kd=$r(),O7=ps(),Jst=kd(),elt=yo(),M7=Ln(),tlt=gi(),rlt=sa(),BC=_o(),a0=Vl(),nlt=xr(),ilt=Ld(),Bce=On(),Uce=Bce.enforce,olt=Bce.get,zC=ds.Int8Array,C7=zC&&zC.prototype,qce=ds.Uint8ClampedArray,zce=qce&&qce.prototype,Nc=zC&&BC(zC),zu=C7&&BC(C7),alt=Object.prototype,D7=ds.TypeError,jce=nlt("toStringTag"),A7=ilt("TYPED_ARRAY_TAG"),jC="TypedArrayConstructor",Qp=Qst&&!!a0&&O7(ds.opera)!=="Opera",Vce=!1,Fs,Yd,o0,Jp={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},N7={BigInt64Array:8,BigUint64Array:8},slt=function(t){if(!FC(t))return!1;var r=O7(t);return r==="DataView"||Kd(Jp,r)||Kd(N7,r)},$ce=function(e){var t=BC(e);if(FC(t)){var r=olt(t);return r&&Kd(r,jC)?r[jC]:$ce(t)}},Gce=function(e){if(!FC(e))return!1;var t=O7(e);return Kd(Jp,t)||Kd(N7,t)},llt=function(e){if(Gce(e))return e;throw new D7("Target is not a typed array")},ult=function(e){if(Fce(e)&&(!a0||rlt(Nc,e)))return e;throw new D7(Jst(e)+" is not a typed array constructor")},clt=function(e,t,r,n){if(P7){if(r)for(var i in Jp){var o=ds[i];if(o&&Kd(o.prototype,e))try{delete o.prototype[e]}catch(u){try{o.prototype[e]=t}catch(f){}}}(!zu[e]||r)&&M7(zu,e,r?t:Qp&&C7[e]||t,n)}},plt=function(e,t,r){var n,i;if(P7){if(a0){if(r){for(n in Jp)if(i=ds[n],i&&Kd(i,e))try{delete i[e]}catch(o){}}if(!Nc[e]||r)try{return M7(Nc,e,r?t:Qp&&Nc[e]||t)}catch(o){}else return}for(n in Jp)i=ds[n],i&&(!i[e]||r)&&M7(i,e,t)}};for(Fs in Jp)Yd=ds[Fs],o0=Yd&&Yd.prototype,o0?Uce(o0)[jC]=Yd:Qp=!1;for(Fs in N7)Yd=ds[Fs],o0=Yd&&Yd.prototype,o0&&(Uce(o0)[jC]=Yd);if((!Qp||!Fce(Nc)||Nc===Function.prototype)&&(Nc=function(){throw new D7("Incorrect invocation")},Qp))for(Fs in Jp)ds[Fs]&&a0(ds[Fs],Nc);if((!Qp||!zu||zu===alt)&&(zu=Nc.prototype,Qp))for(Fs in Jp)ds[Fs]&&a0(ds[Fs].prototype,zu);Qp&&BC(zce)!==zu&&a0(zce,zu);if(P7&&!Kd(zu,jce)){Vce=!0,tlt(zu,jce,{configurable:!0,get:function(){return FC(this)?this[A7]:void 0}});for(Fs in Jp)ds[Fs]&&elt(ds[Fs],A7,Fs)}Hce.exports={NATIVE_ARRAY_BUFFER_VIEWS:Qp,TYPED_ARRAY_TAG:Vce&&A7,aTypedArray:llt,aTypedArrayConstructor:ult,exportTypedArrayMethod:clt,exportTypedArrayStaticMethod:plt,getTypedArrayConstructor:$ce,isView:slt,isTypedArray:Gce,TypedArray:Nc,TypedArrayPrototype:zu}});var Zce=C(()=>{"use strict";var flt=oe(),Wce=Wr(),dlt=Wce.NATIVE_ARRAY_BUFFER_VIEWS;flt({target:"ArrayBuffer",stat:!0,forced:!dlt},{isView:Wce.isView})});var epe=C(()=>{"use strict";var hlt=oe(),L7=qd(),mlt=wt(),Qce=vw(),Yce=jt(),Kce=ku(),glt=qs(),R7=Qce.ArrayBuffer,k7=Qce.DataView,Jce=k7.prototype,Xce=L7(R7.prototype.slice),vlt=L7(Jce.getUint8),ylt=L7(Jce.setUint8),_lt=mlt(function(){return!new R7(2).slice(1,void 0).byteLength});hlt({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:_lt},{slice:function(t,r){if(Xce&&r===void 0)return Xce(Yce(this),t);for(var n=Yce(this).byteLength,i=Kce(t,n),o=Kce(r===void 0?n:r,n),u=new R7(glt(o-i)),f=new k7(this),m=new k7(u),y=0;i<o;)ylt(m,y++,vlt(f,i++));return u}})});var tpe=C(()=>{"use strict";var blt=oe(),xlt=vw(),wlt=hw();blt({global:!0,constructor:!0,forced:!wlt},{DataView:xlt.DataView})});var rpe=C(()=>{"use strict";tpe()});var q7=C(()=>{"use strict";var Slt=oe(),Ilt=mt(),ape=Math.pow,npe=31,Elt=1023,ipe=ape(2,-24),ope=.0009765625,Tlt=function(e){var t=e>>>15,r=e>>>10&npe,n=e&Elt;return r===npe?n===0?t===0?1/0:-1/0:NaN:r===0?n*(t===0?ipe:-ipe):ape(2,r-15)*(t===0?1+n*ope:-1-n*ope)},Mlt=Ilt(DataView.prototype.getUint16);Slt({target:"DataView",proto:!0},{getFloat16:function(t){var r=Mlt(this,t,arguments.length>1?arguments[1]:!1);return Tlt(r)}})});var z7=C((R1r,spe)=>{"use strict";var Clt=ps(),Alt=TypeError;spe.exports=function(e){if(Clt(e)==="DataView")return e;throw new Alt("Argument is not a DataView")}});var j7=C((q1r,lpe)=>{"use strict";var Plt=Math.log,Olt=Math.LN2;lpe.exports=Math.log2||function(t){return Plt(t)/Olt}});var B7=C(()=>{"use strict";var Dlt=oe(),Nlt=mt(),klt=z7(),Llt=t0(),Rlt=j7(),upe=y7(),qlt=Math.pow,zlt=65520,jlt=61005353927612305e-21,Flt=16777216,F7=1024,Blt=function(e){if(e!==e)return 32256;if(e===0)return(1/e===-1/0)<<15;var t=e<0;if(t&&(e=-e),e>=zlt)return t<<15|31744;if(e<jlt)return t<<15|upe(e*Flt);var r=Rlt(e)|0;if(r===-15)return t<<15|F7;var n=upe((e*qlt(2,-r)-1)*F7);return n===F7?t<<15|r+16<<10:t<<15|r+15<<10|n},Ult=Nlt(DataView.prototype.setUint16);Dlt({target:"DataView",proto:!0},{setFloat16:function(t,r){klt(this);var n=Llt(t),i=Blt(+r);return Ult(this,n,i,arguments.length>2?arguments[2]:!1)}})});var U7=C((F1r,fpe)=>{"use strict";var ppe=Rt(),Vlt=iw(),$lt=aa(),cpe=ppe.ArrayBuffer,Glt=ppe.TypeError;fpe.exports=cpe&&Vlt(cpe.prototype,"byteLength","get")||function(e){if($lt(e)!=="ArrayBuffer")throw new Glt("ArrayBuffer expected");return e.byteLength}});var V7=C((B1r,dpe)=>{"use strict";var Hlt=Rt(),Wlt=hw(),Zlt=U7(),Ylt=Hlt.DataView;dpe.exports=function(e){if(!Wlt||Zlt(e)!==0)return!1;try{return new Ylt(e),!1}catch(t){return!0}}});var $7=C(()=>{"use strict";var Klt=fr(),Xlt=gi(),Qlt=V7(),hpe=ArrayBuffer.prototype;Klt&&!("detached"in hpe)&&Xlt(hpe,"detached",{configurable:!0,get:function(){return Qlt(this)}})});var s0=C(($1r,mpe)=>{"use strict";var Jlt=V7(),eut=TypeError;mpe.exports=function(e){if(Jlt(e))throw new eut("ArrayBuffer is detached");return e}});var G7=C((G1r,gpe)=>{"use strict";var tut=Rt(),rut=ig();gpe.exports=function(e){if(rut){try{return tut.process.getBuiltinModule(e)}catch(t){}try{return Function("return require(\""+e+"\")")()}catch(t){}}}});var UC=C((H1r,ype)=>{"use strict";var nut=Rt(),iut=wt(),H7=Du(),W7=dw(),vpe=nut.structuredClone;ype.exports=!!vpe&&!iut(function(){if(W7==="DENO"&&H7>92||W7==="NODE"&&H7>94||W7==="BROWSER"&&H7>97)return!1;var e=new ArrayBuffer(8),t=vpe(e,{transfer:[e]});return e.byteLength!==0||t.byteLength!==8})});var Q7=C((W1r,xpe)=>{"use strict";var X7=Rt(),out=G7(),aut=UC(),sut=X7.structuredClone,_pe=X7.ArrayBuffer,VC=X7.MessageChannel,K7=!1,Z7,bpe,$C,Y7;if(aut)K7=function(e){sut(e,{transfer:[e]})};else if(_pe)try{VC||(Z7=out("worker_threads"),Z7&&(VC=Z7.MessageChannel)),VC&&(bpe=new VC,$C=new _pe(2),Y7=function(e){bpe.port1.postMessage(null,[e])},$C.byteLength===2&&(Y7($C),$C.byteLength===0&&(K7=Y7)))}catch(e){}xpe.exports=K7});var i9=C((Z1r,Cpe)=>{"use strict";var t9=Rt(),r9=mt(),Epe=iw(),lut=t0(),uut=s0(),cut=U7(),wpe=Q7(),J7=UC(),put=t9.structuredClone,Tpe=t9.ArrayBuffer,e9=t9.DataView,fut=Math.min,n9=Tpe.prototype,Mpe=e9.prototype,dut=r9(n9.slice),Spe=Epe(n9,"resizable","get"),Ipe=Epe(n9,"maxByteLength","get"),hut=r9(Mpe.getInt8),mut=r9(Mpe.setInt8);Cpe.exports=(J7||wpe)&&function(e,t,r){var n=cut(e),i=t===void 0?n:lut(t),o=!Spe||!Spe(e),u;if(uut(e),J7&&(e=put(e,{transfer:[e]}),n===i&&(r||o)))return e;if(n>=i&&(!r||o))u=dut(e,0,i);else{var f=r&&!o&&Ipe?{maxByteLength:Ipe(e)}:void 0;u=new Tpe(i,f);for(var m=new e9(e),y=new e9(u),w=fut(i,n),I=0;I<w;I++)mut(y,I,hut(m,I))}return J7||wpe(e),u}});var o9=C(()=>{"use strict";var gut=oe(),Ape=i9();Ape&&gut({target:"ArrayBuffer",proto:!0},{transfer:function(){return Ape(this,arguments.length?arguments[0]:void 0,!0)}})});var a9=C(()=>{"use strict";var vut=oe(),Ppe=i9();Ppe&&vut({target:"ArrayBuffer",proto:!0},{transferToFixedLength:function(){return Ppe(this,arguments.length?arguments[0]:void 0,!1)}})});var Ope=C(()=>{"use strict";var yut=oe(),_ut=mt(),but=wt(),xut=but(function(){return new Date(16e11).getYear()!==120}),wut=_ut(Date.prototype.getFullYear);yut({target:"Date",proto:!0,forced:xut},{getYear:function(){return wut(this)-1900}})});var Npe=C(()=>{"use strict";var Sut=oe(),Iut=mt(),Dpe=Date,Eut=Iut(Dpe.prototype.getTime);Sut({target:"Date",stat:!0},{now:function(){return Eut(new Dpe)}})});var Rpe=C(()=>{"use strict";var Tut=oe(),kpe=mt(),Mut=mi(),Lpe=Date.prototype,Cut=kpe(Lpe.getTime),Aut=kpe(Lpe.setFullYear);Tut({target:"Date",proto:!0},{setYear:function(t){Cut(this);var r=Mut(t),n=r>=0&&r<=99?r+1900:r;return Aut(this,n)}})});var qpe=C(()=>{"use strict";var Put=oe();Put({target:"Date",proto:!0},{toGMTString:Date.prototype.toUTCString})});var yw=C((s_r,zpe)=>{"use strict";var Out=mi(),Dut=Pr(),Nut=ii(),kut=RangeError;zpe.exports=function(t){var r=Dut(Nut(this)),n="",i=Out(t);if(i<0||i===1/0)throw new kut("Wrong number of repetitions");for(;i>0;(i>>>=1)&&(r+=r))i&1&&(n+=r);return n}});var _w=C((l_r,Upe)=>{"use strict";var Bpe=mt(),Lut=qs(),jpe=Pr(),Rut=yw(),qut=ii(),zut=Bpe(Rut),jut=Bpe("".slice),Fut=Math.ceil,Fpe=function(e){return function(t,r,n){var i=jpe(qut(t)),o=Lut(r),u=i.length,f=n===void 0?" ":jpe(n),m,y;return o<=u||f===""?i:(m=o-u,y=zut(f,Fut(m/f.length)),y.length>m&&(y=jut(y,0,m)),e?i+y:y+i)}};Upe.exports={start:Fpe(!1),end:Fpe(!0)}});var Gpe=C((u_r,$pe)=>{"use strict";var Xd=mt(),Vpe=wt(),ag=_w().start,But=RangeError,Uut=isFinite,Vut=Math.abs,ef=Date.prototype,s9=ef.toISOString,$ut=Xd(ef.getTime),Gut=Xd(ef.getUTCDate),Hut=Xd(ef.getUTCFullYear),Wut=Xd(ef.getUTCHours),Zut=Xd(ef.getUTCMilliseconds),Yut=Xd(ef.getUTCMinutes),Kut=Xd(ef.getUTCMonth),Xut=Xd(ef.getUTCSeconds);$pe.exports=Vpe(function(){return s9.call(new Date(-5e13-1))!=="0385-07-25T07:06:39.999Z"})||!Vpe(function(){s9.call(new Date(NaN))})?function(){if(!Uut($ut(this)))throw new But("Invalid time value");var t=this,r=Hut(t),n=Zut(t),i=r<0?"-":r>9999?"+":"";return i+ag(Vut(r),i?6:4,0)+"-"+ag(Kut(t)+1,2,0)+"-"+ag(Gut(t),2,0)+"T"+ag(Wut(t),2,0)+":"+ag(Yut(t),2,0)+":"+ag(Xut(t),2,0)+"."+ag(n,3,0)+"Z"}:s9});var Wpe=C(()=>{"use strict";var Qut=oe(),Hpe=Gpe();Qut({target:"Date",proto:!0,forced:Date.prototype.toISOString!==Hpe},{toISOString:Hpe})});var Zpe=C(()=>{"use strict";var Jut=oe(),ect=wt(),tct=Xr(),rct=Vx(),nct=ect(function(){return new Date(NaN).toJSON()!==null||Date.prototype.toJSON.call({toISOString:function(){return 1}})!==1});Jut({target:"Date",proto:!0,arity:1,forced:nct},{toJSON:function(t){var r=tct(this),n=rct(r,"number");return typeof n=="number"&&!isFinite(n)?null:r.toISOString()}})});var Kpe=C((h_r,Ype)=>{"use strict";var ict=jt(),oct=Dq(),act=TypeError;Ype.exports=function(e){if(ict(this),e==="string"||e==="default")e="string";else if(e!=="number")throw new act("Incorrect hint");return oct(this,e)}});var Jpe=C(()=>{"use strict";var sct=$r(),lct=Ln(),uct=Kpe(),cct=xr(),Xpe=cct("toPrimitive"),Qpe=Date.prototype;sct(Qpe,Xpe)||lct(Qpe,Xpe,uct)});var nfe=C(()=>{"use strict";var tfe=mt(),pct=Ln(),l9=Date.prototype,efe="Invalid Date",rfe="toString",fct=tfe(l9[rfe]),dct=tfe(l9.getTime);String(new Date(NaN))!==efe&&pct(l9,rfe,function(){var t=dct(this);return t===t?fct(this):efe})});var ofe=C(()=>{"use strict";var hct=oe(),bw=mt(),mct=Pr(),gct=bw("".charAt),vct=bw("".charCodeAt),yct=bw(/./.exec),_ct=bw(1 .toString),bct=bw("".toUpperCase),xct=/[\w*+\-./@]/,ife=function(e,t){for(var r=_ct(e,16);r.length<t;)r="0"+r;return r};hct({global:!0},{escape:function(t){for(var r=mct(t),n="",i=r.length,o=0,u,f;o<i;)u=gct(r,o++),yct(xct,u)?n+=u:(f=vct(u,0),f<256?n+="%"+ife(f,2):n+="%u"+bct(ife(f,4)));return n}})});var c9=C((x_r,ufe)=>{"use strict";var sfe=mt(),wct=Ir(),Sct=vr(),Ict=$r(),afe=zs(),Ect=$y(),lfe=Function,Tct=sfe([].concat),Mct=sfe([].join),u9={},Cct=function(e,t,r){if(!Ict(u9,t)){for(var n=[],i=0;i<t;i++)n[i]="a["+i+"]";u9[t]=lfe("C,a","return new C("+Mct(n,",")+")")}return u9[t](e,r)};ufe.exports=Ect?lfe.bind:function(t){var r=wct(this),n=r.prototype,i=afe(arguments,1),o=function(){var f=Tct(i,afe(arguments));return this instanceof o?Cct(r,f.length,f):r.apply(t,f)};return Sct(n)&&(o.prototype=n),o}});var pfe=C(()=>{"use strict";var Act=oe(),cfe=c9();Act({target:"Function",proto:!0,forced:Function.bind!==cfe},{bind:cfe})});var hfe=C(()=>{"use strict";var Pct=jr(),ffe=vr(),Oct=ti(),Dct=sa(),Nct=xr(),kct=Zx(),p9=Nct("hasInstance"),dfe=Function.prototype;p9 in dfe||Oct.f(dfe,p9,{value:kct(function(e){if(!Pct(this)||!ffe(e))return!1;var t=this.prototype;return ffe(t)?Dct(t,e):e instanceof this},p9)})});var yfe=C(()=>{"use strict";var Lct=fr(),Rct=Zm().EXISTS,mfe=mt(),qct=gi(),gfe=Function.prototype,zct=mfe(gfe.toString),vfe=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,jct=mfe(vfe.exec),Fct="name";Lct&&!Rct&&qct(gfe,Fct,{configurable:!0,get:function(){try{return jct(vfe,zct(this))[1]}catch(e){return""}}})});var d9=C(()=>{"use strict";var Bct=oe(),f9=Rt();Bct({global:!0,forced:f9.globalThis!==f9},{globalThis:f9})});var y9=C(()=>{"use strict";var Uct=oe(),Vct=Rt(),$ct=ja(),Gct=jt(),Hct=jr(),Wct=_o(),Zct=gi(),Yct=$l(),Kct=wt(),g9=$r(),Xct=xr(),kc=Vd().IteratorPrototype,Qct=fr(),Jct=yn(),h9="constructor",bfe="Iterator",_fe=Xct("toStringTag"),xfe=TypeError,m9=Vct[bfe],wfe=Jct||!Hct(m9)||m9.prototype!==kc||!Kct(function(){m9({})}),v9=function(){if($ct(this,kc),Wct(this)===kc)throw new xfe("Abstract class Iterator not directly constructable")},Sfe=function(e,t){Qct?Zct(kc,e,{configurable:!0,get:function(){return t},set:function(r){if(Gct(this),this===kc)throw new xfe("You can't redefine this property");g9(this,e)?this[e]=r:Yct(this,e,r)}}):kc[e]=t};g9(kc,_fe)||Sfe(_fe,bfe);(wfe||!g9(kc,h9)||kc[h9]===Object)&&Sfe(h9,v9);v9.prototype=kc;Uct({global:!0,constructor:!0,forced:wfe},{Iterator:v9})});var Ei=C((D_r,Ife)=>{"use strict";Ife.exports=function(e){return{iterator:e,next:e.next,done:!1}}});var l0=C((N_r,Efe)=>{"use strict";var ept=RangeError;Efe.exports=function(e){if(e===e)return e;throw new ept("NaN is not allowed")}});var u0=C((k_r,Tfe)=>{"use strict";var tpt=mi(),rpt=RangeError;Tfe.exports=function(e){var t=tpt(e);if(t<0)throw new rpt("The argument can't be less than 0");return t}});var Qd=C((L_r,Dfe)=>{"use strict";var npt=qt(),ipt=Wi(),opt=yo(),apt=Hl(),spt=xr(),Mfe=On(),lpt=Hi(),upt=Vd().IteratorPrototype,GC=Po(),_9=Vo(),cpt=spt("toStringTag"),Cfe="IteratorHelper",Afe="WrapForValidIterator",ppt=Mfe.set,Pfe=function(e){var t=Mfe.getterFor(e?Afe:Cfe);return apt(ipt(upt),{next:function(){var n=t(this);if(e)return n.nextHandler();if(n.done)return GC(void 0,!0);try{var i=n.nextHandler();return n.returnHandlerResult?i:GC(i,n.done)}catch(o){throw n.done=!0,o}},return:function(){var r=t(this),n=r.iterator;if(r.done=!0,e){var i=lpt(n,"return");return i?npt(i,n):GC(void 0,!0)}if(r.inner)try{_9(r.inner.iterator,"normal")}catch(o){return _9(n,"throw",o)}return n&&_9(n,"normal"),GC(void 0,!0)}})},fpt=Pfe(!0),Ofe=Pfe(!1);opt(Ofe,cpt,"Iterator Helper");Dfe.exports=function(e,t,r){var n=function(o,u){u?(u.iterator=o.iterator,u.next=o.next):u=o,u.type=t?Afe:Cfe,u.returnHandlerResult=!!r,u.nextHandler=e,u.counter=0,u.done=!1,ppt(this,u)};return n.prototype=t?fpt:Ofe,n}});var ju=C((R_r,Nfe)=>{"use strict";var dpt=Rt();Nfe.exports=function(e,t){var r=dpt.Iterator,n=r&&r.prototype,i=n&&n[e],o=!1;if(i)try{i.call({next:function(){return{done:!0}},return:function(){o=!0}},-1)}catch(u){u instanceof t||(o=!1)}if(!o)return i}});var S9=C(()=>{"use strict";var hpt=oe(),x9=qt(),w9=jt(),mpt=Ei(),gpt=l0(),vpt=u0(),ypt=Vo(),_pt=Qd(),bpt=ju(),kfe=yn(),b9=!kfe&&bpt("drop",RangeError),xpt=_pt(function(){for(var e=this.iterator,t=this.next,r,n;this.remaining;)if(this.remaining--,r=w9(x9(t,e)),n=this.done=!!r.done,n)return;if(r=w9(x9(t,e)),n=this.done=!!r.done,!n)return r.value});hpt({target:"Iterator",proto:!0,real:!0,forced:kfe||b9},{drop:function(t){w9(this);var r;try{r=vpt(gpt(+t))}catch(n){ypt(this,"throw",n)}return b9?x9(b9,this,r):new xpt(mpt(this),{remaining:r})}})});var E9=C(()=>{"use strict";var wpt=oe(),Spt=qt(),Ipt=Di(),Ept=Ir(),Tpt=jt(),Mpt=Ei(),Cpt=Vo(),Apt=ju(),I9=Apt("every",TypeError);wpt({target:"Iterator",proto:!0,real:!0,forced:I9},{every:function(t){Tpt(this);try{Ept(t)}catch(i){Cpt(this,"throw",i)}if(I9)return Spt(I9,this,t);var r=Mpt(this),n=0;return!Ipt(r,function(i,o){if(!t(i,n++))return o()},{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})});var M9=C(()=>{"use strict";var Ppt=oe(),Lfe=qt(),Opt=Ir(),Rfe=jt(),Dpt=Ei(),Npt=Qd(),kpt=xC(),qfe=yn(),Lpt=Vo(),Rpt=ju(),T9=!qfe&&Rpt("filter",TypeError),qpt=Npt(function(){for(var e=this.iterator,t=this.predicate,r=this.next,n,i,o;;){if(n=Rfe(Lfe(r,e)),i=this.done=!!n.done,i)return;if(o=n.value,kpt(e,t,[o,this.counter++],!0))return o}});Ppt({target:"Iterator",proto:!0,real:!0,forced:qfe||T9},{filter:function(t){Rfe(this);try{Opt(t)}catch(r){Lpt(this,"throw",r)}return T9?Lfe(T9,this,t):new qpt(Dpt(this),{predicate:t})}})});var A9=C(()=>{"use strict";var zpt=oe(),jpt=qt(),Fpt=Di(),Bpt=Ir(),Upt=jt(),Vpt=Ei(),$pt=Vo(),Gpt=ju(),C9=Gpt("find",TypeError);zpt({target:"Iterator",proto:!0,real:!0,forced:C9},{find:function(t){Upt(this);try{Bpt(t)}catch(i){$pt(this,"throw",i)}if(C9)return jpt(C9,this,t);var r=Vpt(this),n=0;return Fpt(r,function(i,o){if(t(i,n++))return o(i)},{IS_RECORD:!0,INTERRUPTED:!0}).result}})});var P9=C((G_r,jfe)=>{"use strict";var Hpt=qt(),zfe=jt(),Wpt=Ei(),Zpt=Oc();jfe.exports=function(e,t){(!t||typeof e!="string")&&zfe(e);var r=Zpt(e);return Wpt(zfe(r!==void 0?Hpt(r,e):e))}});var L9=C(()=>{"use strict";var Ypt=oe(),D9=qt(),Kpt=Ir(),N9=jt(),Xpt=Ei(),Qpt=P9(),Jpt=Qd(),k9=Vo(),Ffe=yn(),eft=ju(),O9=!Ffe&&eft("flatMap",TypeError),tft=Jpt(function(){for(var e=this.iterator,t=this.mapper,r,n;;){if(n=this.inner)try{if(r=N9(D9(n.next,n.iterator)),!r.done)return r.value;this.inner=null}catch(i){k9(e,"throw",i)}if(r=N9(D9(this.next,e)),this.done=!!r.done)return;try{this.inner=Qpt(t(r.value,this.counter++),!1)}catch(i){k9(e,"throw",i)}}});Ypt({target:"Iterator",proto:!0,real:!0,forced:Ffe||O9},{flatMap:function(t){N9(this);try{Kpt(t)}catch(r){k9(this,"throw",r)}return O9?D9(O9,this,t):new tft(Xpt(this),{mapper:t,inner:null})}})});var q9=C(()=>{"use strict";var rft=oe(),nft=qt(),ift=Di(),oft=Ir(),aft=jt(),sft=Ei(),lft=Vo(),uft=ju(),R9=uft("forEach",TypeError);rft({target:"Iterator",proto:!0,real:!0,forced:R9},{forEach:function(t){aft(this);try{oft(t)}catch(i){lft(this,"throw",i)}if(R9)return nft(R9,this,t);var r=sft(this),n=0;ift(r,function(i){t(i,n++)},{IS_RECORD:!0})}})});var z9=C(()=>{"use strict";var cft=oe(),pft=qt(),fft=Xr(),dft=sa(),hft=Vd().IteratorPrototype,mft=Qd(),gft=P9(),vft=yn(),yft=mft(function(){return pft(this.next,this.iterator)},!0);cft({target:"Iterator",stat:!0,forced:vft},{from:function(t){var r=gft(typeof t=="string"?fft(t):t,!0);return dft(hft,r.iterator)?r.iterator:new yft(r)}})});var HC=C(()=>{"use strict";var _ft=oe(),Bfe=qt(),bft=Ir(),Ufe=jt(),xft=Ei(),wft=Qd(),Sft=xC(),Ift=Vo(),Eft=ju(),Vfe=yn(),j9=!Vfe&&Eft("map",TypeError),Tft=wft(function(){var e=this.iterator,t=Ufe(Bfe(this.next,e)),r=this.done=!!t.done;if(!r)return Sft(e,this.mapper,[t.value,this.counter++],!0)});_ft({target:"Iterator",proto:!0,real:!0,forced:Vfe||j9},{map:function(t){Ufe(this);try{bft(t)}catch(r){Ift(this,"throw",r)}return j9?Bfe(j9,this,t):new Tft(xft(this),{mapper:t})}})});var B9=C(()=>{"use strict";var Mft=oe(),Cft=Di(),Aft=Ir(),Pft=jt(),Oft=Ei(),Dft=Vo(),Nft=ju(),kft=la(),Lft=wt(),$fe=TypeError,Gfe=Lft(function(){[].keys().reduce(function(){},void 0)}),F9=!Gfe&&Nft("reduce",$fe);Mft({target:"Iterator",proto:!0,real:!0,forced:Gfe||F9},{reduce:function(t){Pft(this);try{Aft(t)}catch(u){Dft(this,"throw",u)}var r=arguments.length<2,n=r?void 0:arguments[1];if(F9)return kft(F9,this,r?[t]:[t,n]);var i=Oft(this),o=0;if(Cft(i,function(u){r?(r=!1,n=u):n=t(n,u,o),o++},{IS_RECORD:!0}),r)throw new $fe("Reduce of empty iterator with no initial value");return n}})});var V9=C(()=>{"use strict";var Rft=oe(),qft=qt(),zft=Di(),jft=Ir(),Fft=jt(),Bft=Ei(),Uft=Vo(),Vft=ju(),U9=Vft("some",TypeError);Rft({target:"Iterator",proto:!0,real:!0,forced:U9},{some:function(t){Fft(this);try{jft(t)}catch(i){Uft(this,"throw",i)}if(U9)return qft(U9,this,t);var r=Bft(this),n=0;return zft(r,function(i,o){if(t(i,n++))return o()},{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})});var G9=C(()=>{"use strict";var $ft=oe(),Hfe=qt(),Wfe=jt(),Gft=Ei(),Hft=l0(),Wft=u0(),Zft=Qd(),Zfe=Vo(),Yft=ju(),Yfe=yn(),$9=!Yfe&&Yft("take",RangeError),Kft=Zft(function(){var e=this.iterator;if(!this.remaining--)return this.done=!0,Zfe(e,"normal",void 0);var t=Wfe(Hfe(this.next,e)),r=this.done=!!t.done;if(!r)return t.value});$ft({target:"Iterator",proto:!0,real:!0,forced:Yfe||$9},{take:function(t){Wfe(this);var r;try{r=Wft(Hft(+t))}catch(n){Zfe(this,"throw",n)}return $9?Hfe($9,this,r):new Kft(Gft(this),{remaining:r})}})});var H9=C(()=>{"use strict";var Xft=oe(),Qft=jt(),Jft=Di(),edt=Ei(),tdt=[].push;Xft({target:"Iterator",proto:!0,real:!0},{toArray:function(){var t=[];return Jft(edt(Qft(this)),tdt,{that:t,IS_RECORD:!0}),t}})});var Kfe=C(()=>{"use strict";var rdt=Rt(),ndt=fs();ndt(rdt.JSON,"JSON",!0)});var WC=C((cbr,Xfe)=>{"use strict";var idt=wt();Xfe.exports=idt(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}})});var YC=C((pbr,Jfe)=>{"use strict";var odt=wt(),adt=vr(),sdt=aa(),Qfe=WC(),ZC=Object.isExtensible,ldt=odt(function(){ZC(1)});Jfe.exports=ldt||Qfe?function(t){return!adt(t)||Qfe&&sdt(t)==="ArrayBuffer"?!1:ZC?ZC(t):!0}:ZC});var tf=C((fbr,ede)=>{"use strict";var udt=wt();ede.exports=!udt(function(){return Object.isExtensible(Object.preventExtensions({}))})});var Jd=C((dbr,nde)=>{"use strict";var cdt=oe(),pdt=mt(),fdt=Hy(),ddt=vr(),W9=$r(),hdt=ti().f,tde=Rd(),mdt=rC(),Z9=YC(),gdt=Ld(),vdt=tf(),rde=!1,rf=gdt("meta"),ydt=0,Y9=function(e){hdt(e,rf,{value:{objectID:"O"+ydt++,weakData:{}}})},_dt=function(e,t){if(!ddt(e))return typeof e=="symbol"?e:(typeof e=="string"?"S":"P")+e;if(!W9(e,rf)){if(!Z9(e))return"F";if(!t)return"E";Y9(e)}return e[rf].objectID},bdt=function(e,t){if(!W9(e,rf)){if(!Z9(e))return!0;if(!t)return!1;Y9(e)}return e[rf].weakData},xdt=function(e){return vdt&&rde&&Z9(e)&&!W9(e,rf)&&Y9(e),e},wdt=function(){Sdt.enable=function(){},rde=!0;var e=tde.f,t=pdt([].splice),r={};r[rf]=1,e(r).length&&(tde.f=function(n){for(var i=e(n),o=0,u=i.length;o<u;o++)if(i[o]===rf){t(i,o,1);break}return i},cdt({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:mdt.f}))},Sdt=nde.exports={enable:wdt,fastKey:_dt,getWeakData:bdt,onFreeze:xdt};fdt[rf]=!0});var xw=C((hbr,ode)=>{"use strict";var Idt=oe(),Edt=Rt(),Tdt=mt(),ide=Zy(),Mdt=Ln(),Cdt=Jd(),Adt=Di(),Pdt=ja(),Odt=jr(),Ddt=Rs(),K9=vr(),X9=wt(),Ndt=sw(),kdt=fs(),Ldt=Fd();ode.exports=function(e,t,r){var n=e.indexOf("Map")!==-1,i=e.indexOf("Weak")!==-1,o=n?"set":"add",u=Edt[e],f=u&&u.prototype,m=u,y={},w=function(R){var U=Tdt(f[R]);Mdt(f,R,R==="add"?function(re){return U(this,re===0?0:re),this}:R==="delete"?function(Y){return i&&!K9(Y)?!1:U(this,Y===0?0:Y)}:R==="get"?function(re){return i&&!K9(re)?void 0:U(this,re===0?0:re)}:R==="has"?function(re){return i&&!K9(re)?!1:U(this,re===0?0:re)}:function(re,de){return U(this,re===0?0:re,de),this})},I=ide(e,!Odt(u)||!(i||f.forEach&&!X9(function(){new u().entries().next()})));if(I)m=r.getConstructor(t,e,n,o),Cdt.enable();else if(ide(e,!0)){var M=new m,N=M[o](i?{}:-0,1)!==M,z=X9(function(){M.has(1)}),F=Ndt(function(R){new u(R)}),q=!i&&X9(function(){for(var R=new u,U=5;U--;)R[o](U,U);return!R.has(-0)});F||(m=t(function(R,U){Pdt(R,f);var Y=Ldt(new u,R,m);return Ddt(U)||Adt(U,Y[o],{that:Y,AS_ENTRIES:n}),Y}),m.prototype=f,f.constructor=m),(z||q)&&(w("delete"),w("has"),n&&w("get")),(q||N)&&w(o),i&&f.clear&&delete f.clear}return y[e]=m,Idt({global:!0,constructor:!0,forced:m!==u},y),kdt(m,e),i||r.setStrong(m,e,n),m}});var J9=C((mbr,pde)=>{"use strict";var ade=Wi(),Rdt=gi(),sde=Hl(),qdt=Un(),zdt=ja(),jdt=Rs(),Fdt=Di(),Bdt=IC(),KC=Po(),Udt=Hd(),ww=fr(),lde=Jd().fastKey,cde=On(),ude=cde.set,Q9=cde.getterFor;pde.exports={getConstructor:function(e,t,r,n){var i=e(function(y,w){zdt(y,o),ude(y,{type:t,index:ade(null),first:null,last:null,size:0}),ww||(y.size=0),jdt(w)||Fdt(w,y[n],{that:y,AS_ENTRIES:r})}),o=i.prototype,u=Q9(t),f=function(y,w,I){var M=u(y),N=m(y,w),z,F;return N?N.value=I:(M.last=N={index:F=lde(w,!0),key:w,value:I,previous:z=M.last,next:null,removed:!1},M.first||(M.first=N),z&&(z.next=N),ww?M.size++:y.size++,F!=="F"&&(M.index[F]=N)),y},m=function(y,w){var I=u(y),M=lde(w),N;if(M!=="F")return I.index[M];for(N=I.first;N;N=N.next)if(N.key===w)return N};return sde(o,{clear:function(){for(var w=this,I=u(w),M=I.first;M;)M.removed=!0,M.previous&&(M.previous=M.previous.next=null),M=M.next;I.first=I.last=null,I.index=ade(null),ww?I.size=0:w.size=0},delete:function(y){var w=this,I=u(w),M=m(w,y);if(M){var N=M.next,z=M.previous;delete I.index[M.index],M.removed=!0,z&&(z.next=N),N&&(N.previous=z),I.first===M&&(I.first=N),I.last===M&&(I.last=z),ww?I.size--:w.size--}return!!M},forEach:function(w){for(var I=u(this),M=qdt(w,arguments.length>1?arguments[1]:void 0),N;N=N?N.next:I.first;)for(M(N.value,N.key,this);N&&N.removed;)N=N.previous},has:function(w){return!!m(this,w)}}),sde(o,r?{get:function(w){var I=m(this,w);return I&&I.value},set:function(w,I){return f(this,w===0?0:w,I)}}:{add:function(w){return f(this,w=w===0?0:w,w)}}),ww&&Rdt(o,"size",{configurable:!0,get:function(){return u(this).size}}),i},setStrong:function(e,t,r){var n=t+" Iterator",i=Q9(t),o=Q9(n);Bdt(e,t,function(u,f){ude(this,{type:n,target:u,state:i(u),kind:f,last:null})},function(){for(var u=o(this),f=u.kind,m=u.last;m&&m.removed;)m=m.previous;return!u.target||!(u.last=m=m?m.next:u.state.first)?(u.target=null,KC(void 0,!0)):KC(f==="keys"?m.key:f==="values"?m.value:[m.key,m.value],!1)},r?"entries":"values",!r,!0),Udt(t)}}});var fde=C(()=>{"use strict";var Vdt=xw(),$dt=J9();Vdt("Map",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},$dt)});var XC=C(()=>{"use strict";fde()});var Oo=C((bbr,dde)=>{"use strict";var QC=mt(),Sw=Map.prototype;dde.exports={Map,set:QC(Sw.set),get:QC(Sw.get),has:QC(Sw.has),remove:QC(Sw.delete),proto:Sw}});var ez=C(()=>{"use strict";var Gdt=oe(),Hdt=mt(),Wdt=Ir(),Zdt=ii(),Ydt=Di(),JC=Oo(),hde=yn(),Kdt=wt(),mde=JC.Map,Xdt=JC.has,Qdt=JC.get,Jdt=JC.set,eht=Hdt([].push),tht=hde||Kdt(function(){return mde.groupBy("ab",function(e){return e}).get("a").length!==1});Gdt({target:"Map",stat:!0,forced:hde||tht},{groupBy:function(t,r){Zdt(t),Wdt(r);var n=new mde,i=0;return Ydt(t,function(o){var u=r(o,i++);Xdt(n,u)?eht(Qdt(n,u),o):Jdt(n,u,[o])}),n}})});var tz=C((Sbr,gde)=>{"use strict";var rht=Math.log;gde.exports=Math.log1p||function(t){var r=+t;return r>-1e-8&&r<1e-8?r-r*r/2:rht(1+r)}});var yde=C(()=>{"use strict";var nht=oe(),iht=tz(),rz=Math.acosh,oht=Math.log,vde=Math.sqrt,aht=Math.LN2,sht=!rz||Math.floor(rz(Number.MAX_VALUE))!==710||rz(1/0)!==1/0;nht({target:"Math",stat:!0,forced:sht},{acosh:function(t){var r=+t;return r<1?NaN:r>94906265.62425156?oht(r)+aht:iht(r-1+vde(r-1)*vde(r+1))}})});var xde=C(()=>{"use strict";var lht=oe(),_de=Math.asinh,uht=Math.log,cht=Math.sqrt;function bde(e){var t=+e;return!isFinite(t)||t===0?t:t<0?-bde(-t):uht(t+cht(t*t+1))}var pht=!(_de&&1/_de(0)>0);lht({target:"Math",stat:!0,forced:pht},{asinh:bde})});var Sde=C(()=>{"use strict";var fht=oe(),wde=Math.atanh,dht=Math.log,hht=!(wde&&1/wde(-0)<0);fht({target:"Math",stat:!0,forced:hht},{atanh:function(t){var r=+t;return r===0?r:dht((1+r)/(1-r))/2}})});var Ide=C(()=>{"use strict";var mht=oe(),ght=PC(),vht=Math.abs,yht=Math.pow;mht({target:"Math",stat:!0},{cbrt:function(t){var r=+t;return ght(r)*yht(vht(r),1/3)}})});var Ede=C(()=>{"use strict";var _ht=oe(),bht=Math.floor,xht=Math.log,wht=Math.LOG2E;_ht({target:"Math",stat:!0},{clz32:function(t){var r=t>>>0;return r?31-bht(xht(r+.5)*wht):32}})});var Ew=C((kbr,Tde)=>{"use strict";var Iw=Math.expm1,Sht=Math.exp;Tde.exports=!Iw||Iw(10)>22025.465794806718||Iw(10)<22025.465794806718||Iw(-2e-17)!==-2e-17?function(t){var r=+t;return r===0?r:r>-1e-6&&r<1e-6?r+r*r/2:Sht(r)-1}:Iw});var Cde=C(()=>{"use strict";var Iht=oe(),Eht=Ew(),Mde=Math.cosh,Tht=Math.abs,nz=Math.E,Mht=!Mde||Mde(710)===1/0;Iht({target:"Math",stat:!0,forced:Mht},{cosh:function(t){var r=Eht(Tht(t)-1)+1;return(r+1/(r*nz*nz))*(nz/2)}})});var Pde=C(()=>{"use strict";var Cht=oe(),Ade=Ew();Cht({target:"Math",stat:!0,forced:Ade!==Math.expm1},{expm1:Ade})});var Ode=C(()=>{"use strict";var Aht=oe(),Pht=OC();Aht({target:"Math",stat:!0},{fround:Pht})});var iz=C(()=>{"use strict";var Oht=oe(),Dht=_7(),Nht=.0009765625,kht=65504,Lht=6103515625e-14;Oht({target:"Math",stat:!0},{f16round:function(t){return Dht(t,Nht,kht,Lht)}})});var Nde=C(()=>{"use strict";var Rht=oe(),Dde=Math.hypot,qht=Math.abs,zht=Math.sqrt,jht=!!Dde&&Dde(1/0,NaN)!==1/0;Rht({target:"Math",stat:!0,arity:2,forced:jht},{hypot:function(t,r){for(var n=0,i=0,o=arguments.length,u=0,f,m;i<o;)f=qht(arguments[i++]),u<f?(m=u/f,n=n*m*m+1,u=f):f>0?(m=f/u,n+=m*m):n+=f;return u===1/0?1/0:u*zht(n)}})});var Lde=C(()=>{"use strict";var Fht=oe(),Bht=wt(),kde=Math.imul,Uht=Bht(function(){return kde(4294967295,5)!==-5||kde.length!==2});Fht({target:"Math",stat:!0,forced:Uht},{imul:function(t,r){var n=65535,i=+t,o=+r,u=n&i,f=n&o;return 0|u*f+((n&i>>>16)*f+u*(n&o>>>16)<<16>>>0)}})});var oz=C((Wbr,Rde)=>{"use strict";var Vht=Math.log,$ht=Math.LOG10E;Rde.exports=Math.log10||function(t){return Vht(t)*$ht}});var qde=C(()=>{"use strict";var Ght=oe(),Hht=oz();Ght({target:"Math",stat:!0},{log10:Hht})});var zde=C(()=>{"use strict";var Wht=oe(),Zht=tz();Wht({target:"Math",stat:!0},{log1p:Zht})});var jde=C(()=>{"use strict";var Yht=oe(),Kht=j7();Yht({target:"Math",stat:!0},{log2:Kht})});var Fde=C(()=>{"use strict";var Xht=oe(),Qht=PC();Xht({target:"Math",stat:!0},{sign:Qht})});var Vde=C(()=>{"use strict";var Jht=oe(),emt=wt(),Bde=Ew(),tmt=Math.abs,Ude=Math.exp,rmt=Math.E,nmt=emt(function(){return Math.sinh(-2e-17)!==-2e-17});Jht({target:"Math",stat:!0,forced:nmt},{sinh:function(t){var r=+t;return tmt(r)<1?(Bde(r)-Bde(-r))/2:(Ude(r-1)-Ude(-r-1))*(rmt/2)}})});var Hde=C(()=>{"use strict";var imt=oe(),$de=Ew(),Gde=Math.exp;imt({target:"Math",stat:!0},{tanh:function(t){var r=+t,n=$de(r),i=$de(-r);return n===1/0?1:i===1/0?-1:(n-i)/(Gde(r)+Gde(-r))}})});var Wde=C(()=>{"use strict";var omt=fs();omt(Math,"Math",!0)});var Zde=C(()=>{"use strict";var amt=oe(),smt=Kq();amt({target:"Math",stat:!0},{trunc:smt})});var Tw=C((cxr,Yde)=>{"use strict";var lmt=mt();Yde.exports=lmt(1 .valueOf)});var sg=C((pxr,Kde)=>{"use strict";Kde.exports=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`});var lg=C((fxr,Qde)=>{"use strict";var umt=mt(),cmt=ii(),pmt=Pr(),sz=sg(),Xde=umt("".replace),fmt=RegExp("^["+sz+"]+"),dmt=RegExp("(^|[^"+sz+"])["+sz+"]+$"),az=function(e){return function(t){var r=pmt(cmt(t));return e&1&&(r=Xde(r,fmt,"")),e&2&&(r=Xde(r,dmt,"$1")),r}};Qde.exports={start:az(1),end:az(2),trim:az(3)}});var ohe=C(()=>{"use strict";var hmt=oe(),lz=yn(),mmt=fr(),the=Rt(),uz=nC(),rhe=mt(),gmt=Zy(),Jde=$r(),vmt=Fd(),ymt=sa(),_mt=Gp(),nhe=Vx(),bmt=wt(),xmt=Rd().f,wmt=Bo().f,Smt=ti().f,Imt=Tw(),Emt=lg().trim,Mw="Number",c0=the[Mw],ehe=uz[Mw],cz=c0.prototype,Tmt=the.TypeError,Mmt=rhe("".slice),eA=rhe("".charCodeAt),Cmt=function(e){var t=nhe(e,"number");return typeof t=="bigint"?t:Amt(t)},Amt=function(e){var t=nhe(e,"number"),r,n,i,o,u,f,m,y;if(_mt(t))throw new Tmt("Cannot convert a Symbol value to a number");if(typeof t=="string"&&t.length>2){if(t=Emt(t),r=eA(t,0),r===43||r===45){if(n=eA(t,2),n===88||n===120)return NaN}else if(r===48){switch(eA(t,1)){case 66:case 98:i=2,o=49;break;case 79:case 111:i=8,o=55;break;default:return+t}for(u=Mmt(t,2),f=u.length,m=0;m<f;m++)if(y=eA(u,m),y<48||y>o)return NaN;return parseInt(u,i)}}return+t},pz=gmt(Mw,!c0(" 0o1")||!c0("0b1")||c0("+0x1")),Pmt=function(e){return ymt(cz,e)&&bmt(function(){Imt(e)})},tA=function(t){var r=arguments.length<1?0:c0(Cmt(t));return Pmt(this)?vmt(Object(r),this,tA):r};tA.prototype=cz;pz&&!lz&&(cz.constructor=tA);hmt({global:!0,constructor:!0,wrap:!0,forced:pz},{Number:tA});var ihe=function(e,t){for(var r=mmt?xmt(t):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),n=0,i;r.length>n;n++)Jde(t,i=r[n])&&!Jde(e,i)&&Smt(e,i,wmt(t,i))};lz&&ehe&&ihe(uz[Mw],ehe);(pz||lz)&&ihe(uz[Mw],c0)});var ahe=C(()=>{"use strict";var Omt=oe();Omt({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{EPSILON:Math.pow(2,-52)})});var fz=C((vxr,she)=>{"use strict";var Dmt=Rt(),Nmt=Dmt.isFinite;she.exports=Number.isFinite||function(t){return typeof t=="number"&&Nmt(t)}});var lhe=C(()=>{"use strict";var kmt=oe(),Lmt=fz();kmt({target:"Number",stat:!0},{isFinite:Lmt})});var rA=C((bxr,uhe)=>{"use strict";var Rmt=vr(),qmt=Math.floor;uhe.exports=Number.isInteger||function(t){return!Rmt(t)&&isFinite(t)&&qmt(t)===t}});var che=C(()=>{"use strict";var zmt=oe(),jmt=rA();zmt({target:"Number",stat:!0},{isInteger:jmt})});var phe=C(()=>{"use strict";var Fmt=oe();Fmt({target:"Number",stat:!0},{isNaN:function(t){return t!==t}})});var fhe=C(()=>{"use strict";var Bmt=oe(),Umt=rA(),Vmt=Math.abs;Bmt({target:"Number",stat:!0},{isSafeInteger:function(t){return Umt(t)&&Vmt(t)<=9007199254740991}})});var dhe=C(()=>{"use strict";var $mt=oe();$mt({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MAX_SAFE_INTEGER:9007199254740991})});var hhe=C(()=>{"use strict";var Gmt=oe();Gmt({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MIN_SAFE_INTEGER:-9007199254740991})});var dz=C((Oxr,yhe)=>{"use strict";var vhe=Rt(),Hmt=wt(),Wmt=mt(),Zmt=Pr(),Ymt=lg().trim,Kmt=sg(),Xmt=Wmt("".charAt),nA=vhe.parseFloat,mhe=vhe.Symbol,ghe=mhe&&mhe.iterator,Qmt=1/nA(Kmt+"-0")!==-1/0||ghe&&!Hmt(function(){nA(Object(ghe))});yhe.exports=Qmt?function(t){var r=Ymt(Zmt(t)),n=nA(r);return n===0&&Xmt(r,0)==="-"?-0:n}:nA});var bhe=C(()=>{"use strict";var Jmt=oe(),_he=dz();Jmt({target:"Number",stat:!0,forced:Number.parseFloat!==_he},{parseFloat:_he})});var hz=C((kxr,The)=>{"use strict";var Ihe=Rt(),egt=wt(),tgt=mt(),rgt=Pr(),ngt=lg().trim,xhe=sg(),Cw=Ihe.parseInt,whe=Ihe.Symbol,She=whe&&whe.iterator,Ehe=/^[+-]?0x/i,igt=tgt(Ehe.exec),ogt=Cw(xhe+"08")!==8||Cw(xhe+"0x16")!==22||She&&!egt(function(){Cw(Object(She))});The.exports=ogt?function(t,r){var n=ngt(rgt(t));return Cw(n,r>>>0||(igt(Ehe,n)?16:10))}:Cw});var Che=C(()=>{"use strict";var agt=oe(),Mhe=hz();agt({target:"Number",stat:!0,forced:Number.parseInt!==Mhe},{parseInt:Mhe})});var Nhe=C(()=>{"use strict";var sgt=oe(),gz=mt(),lgt=mi(),ugt=Tw(),cgt=yw(),pgt=oz(),mz=wt(),fgt=RangeError,Ahe=String,dgt=isFinite,hgt=Math.abs,mgt=Math.floor,Phe=Math.pow,ggt=Math.round,Lc=gz(1 .toExponential),vgt=gz(cgt),Ohe=gz("".slice),Dhe=Lc(-69e-12,4)==="-6.9000e-11"&&Lc(1.255,2)==="1.25e+0"&&Lc(12345,3)==="1.235e+4"&&Lc(25,0)==="3e+1",ygt=function(){return mz(function(){Lc(1,1/0)})&&mz(function(){Lc(1,-1/0)})},_gt=function(){return!mz(function(){Lc(1/0,1/0),Lc(NaN,1/0)})},bgt=!Dhe||!ygt()||!_gt();sgt({target:"Number",proto:!0,forced:bgt},{toExponential:function(t){var r=ugt(this);if(t===void 0)return Lc(r);var n=lgt(t);if(!dgt(r))return String(r);if(n<0||n>20)throw new fgt("Incorrect fraction digits");if(Dhe)return Lc(r,n);var i="",o,u,f,m;if(r<0&&(i="-",r=-r),r===0)u=0,o=vgt("0",n+1);else{var y=pgt(r);u=mgt(y);var w=Phe(10,u-n),I=ggt(r/w);2*r>=(2*I+1)*w&&(I+=1),I>=Phe(10,n+1)&&(I/=10,u+=1),o=Ahe(I)}return n!==0&&(o=Ohe(o,0,1)+"."+Ohe(o,1)),u===0?(f="+",m="0"):(f=u>0?"+":"-",m=Ahe(hgt(u))),o+="e"+f+m,i+o}})});var jhe=C(()=>{"use strict";var xgt=oe(),_z=mt(),wgt=mi(),Sgt=Tw(),Igt=yw(),khe=wt(),Egt=RangeError,qhe=String,zhe=Math.floor,yz=_z(Igt),Lhe=_z("".slice),Aw=_z(1 .toFixed),f0=function(e,t,r){return t===0?r:t%2===1?f0(e,t-1,r*e):f0(e*e,t/2,r)},Tgt=function(e){for(var t=0,r=e;r>=4096;)t+=12,r/=4096;for(;r>=2;)t+=1,r/=2;return t},p0=function(e,t,r){for(var n=-1,i=r;++n<6;)i+=t*e[n],e[n]=i%1e7,i=zhe(i/1e7)},vz=function(e,t){for(var r=6,n=0;--r>=0;)n+=e[r],e[r]=zhe(n/t),n=n%t*1e7},Rhe=function(e){for(var t=6,r="";--t>=0;)if(r!==""||t===0||e[t]!==0){var n=qhe(e[t]);r=r===""?n:r+yz("0",7-n.length)+n}return r},Mgt=khe(function(){return Aw(8e-5,3)!=="0.000"||Aw(.9,0)!=="1"||Aw(1.255,2)!=="1.25"||Aw(0xde0b6b3a7640080,0)!=="1000000000000000128"})||!khe(function(){Aw({})});xgt({target:"Number",proto:!0,forced:Mgt},{toFixed:function(t){var r=Sgt(this),n=wgt(t),i=[0,0,0,0,0,0],o="",u="0",f,m,y,w;if(n<0||n>20)throw new Egt("Incorrect fraction digits");if(r!==r)return"NaN";if(r<=-1e21||r>=1e21)return qhe(r);if(r<0&&(o="-",r=-r),r>1e-21)if(f=Tgt(r*f0(2,69,1))-69,m=f<0?r*f0(2,-f,1):r/f0(2,f,1),m*=4503599627370496,f=52-f,f>0){for(p0(i,0,m),y=n;y>=7;)p0(i,1e7,0),y-=7;for(p0(i,f0(10,y,1),0),y=f-1;y>=23;)vz(i,1<<23),y-=23;vz(i,1<<y),p0(i,1,1),vz(i,2),u=Rhe(i)}else p0(i,0,m),p0(i,1<<-f,0),u=Rhe(i)+yz("0",n);return n>0?(w=u.length,u=o+(w<=n?"0."+yz("0",n-w)+u:Lhe(u,0,w-n)+"."+Lhe(u,w-n))):u=o+u,u}})});var Uhe=C(()=>{"use strict";var Cgt=oe(),Agt=mt(),Fhe=wt(),Bhe=Tw(),iA=Agt(1 .toPrecision),Pgt=Fhe(function(){return iA(1,void 0)!=="1"})||!Fhe(function(){iA({})});Cgt({target:"Number",proto:!0,forced:Pgt},{toPrecision:function(t){return t===void 0?iA(Bhe(this)):iA(Bhe(this),t)}})});var xz=C((Vxr,Ghe)=>{"use strict";var Vhe=fr(),Ogt=mt(),Dgt=qt(),Ngt=wt(),bz=Xm(),kgt=Yx(),Lgt=Bx(),Rgt=Xr(),qgt=$p(),d0=Object.assign,$he=Object.defineProperty,zgt=Ogt([].concat);Ghe.exports=!d0||Ngt(function(){if(Vhe&&d0({b:1},d0($he({},"a",{enumerable:!0,get:function(){$he(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var e={},t={},r=Symbol("assign detection"),n="abcdefghijklmnopqrst";return e[r]=7,n.split("").forEach(function(i){t[i]=i}),d0({},e)[r]!==7||bz(d0({},t)).join("")!==n})?function(t,r){for(var n=Rgt(t),i=arguments.length,o=1,u=kgt.f,f=Lgt.f;i>o;)for(var m=qgt(arguments[o++]),y=u?zgt(bz(m),u(m)):bz(m),w=y.length,I=0,M;w>I;)M=y[I++],(!Vhe||Dgt(f,m,M))&&(n[M]=m[M]);return n}:d0});var Whe=C(()=>{"use strict";var jgt=oe(),Hhe=xz();jgt({target:"Object",stat:!0,arity:2,forced:Object.assign!==Hhe},{assign:Hhe})});var Zhe=C(()=>{"use strict";var Fgt=oe(),Bgt=fr(),Ugt=Wi();Fgt({target:"Object",stat:!0,sham:!Bgt},{create:Ugt})});var Pw=C((Zxr,Khe)=>{"use strict";var Vgt=yn(),$gt=Rt(),Ggt=wt(),Yhe=AC();Khe.exports=Vgt||!Ggt(function(){if(!(Yhe&&Yhe<535)){var e=Math.random();__defineSetter__.call(null,e,function(){}),delete $gt[e]}})});var Xhe=C(()=>{"use strict";var Hgt=oe(),Wgt=fr(),Zgt=Pw(),Ygt=Ir(),Kgt=Xr(),Xgt=ti();Wgt&&Hgt({target:"Object",proto:!0,forced:Zgt},{__defineGetter__:function(t,r){Xgt.f(Kgt(this),t,{get:Ygt(r),enumerable:!0,configurable:!0})}})});var Jhe=C(()=>{"use strict";var Qgt=oe(),Jgt=fr(),Qhe=JM().f;Qgt({target:"Object",stat:!0,forced:Object.defineProperties!==Qhe,sham:!Jgt},{defineProperties:Qhe})});var tme=C(()=>{"use strict";var evt=oe(),tvt=fr(),eme=ti().f;evt({target:"Object",stat:!0,forced:Object.defineProperty!==eme,sham:!tvt},{defineProperty:eme})});var rme=C(()=>{"use strict";var rvt=oe(),nvt=fr(),ivt=Pw(),ovt=Ir(),avt=Xr(),svt=ti();nvt&&rvt({target:"Object",proto:!0,forced:ivt},{__defineSetter__:function(t,r){svt.f(avt(this),t,{set:ovt(r),enumerable:!0,configurable:!0})}})});var wz=C((nwr,sme)=>{"use strict";var ime=fr(),lvt=wt(),ome=mt(),uvt=_o(),cvt=Xm(),pvt=vo(),fvt=Bx().f,ame=ome(fvt),dvt=ome([].push),hvt=ime&&lvt(function(){var e=Object.create(null);return e[2]=2,!ame(e,2)}),nme=function(e){return function(t){for(var r=pvt(t),n=cvt(r),i=hvt&&uvt(r)===null,o=n.length,u=0,f=[],m;o>u;)m=n[u++],(!ime||(i?m in r:ame(r,m)))&&dvt(f,e?[m,r[m]]:r[m]);return f}};sme.exports={entries:nme(!0),values:nme(!1)}});var lme=C(()=>{"use strict";var mvt=oe(),gvt=wz().entries;mvt({target:"Object",stat:!0},{entries:function(t){return gvt(t)}})});var ume=C(()=>{"use strict";var vvt=oe(),yvt=tf(),_vt=wt(),bvt=vr(),xvt=Jd().onFreeze,Sz=Object.freeze,wvt=_vt(function(){Sz(1)});vvt({target:"Object",stat:!0,forced:wvt,sham:!yvt},{freeze:function(t){return Sz&&bvt(t)?Sz(xvt(t)):t}})});var cme=C(()=>{"use strict";var Svt=oe(),Ivt=Di(),Evt=$l();Svt({target:"Object",stat:!0},{fromEntries:function(t){var r={};return Ivt(t,function(n,i){Evt(r,n,i)},{AS_ENTRIES:!0}),r}})});var dme=C(()=>{"use strict";var Tvt=oe(),Mvt=wt(),Cvt=vo(),pme=Bo().f,fme=fr(),Avt=!fme||Mvt(function(){pme(1)});Tvt({target:"Object",stat:!0,forced:Avt,sham:!fme},{getOwnPropertyDescriptor:function(t,r){return pme(Cvt(t),r)}})});var hme=C(()=>{"use strict";var Pvt=oe(),Ovt=fr(),Dvt=YM(),Nvt=vo(),kvt=Bo(),Lvt=$l();Pvt({target:"Object",stat:!0,sham:!Ovt},{getOwnPropertyDescriptors:function(t){for(var r=Nvt(t),n=kvt.f,i=Dvt(r),o={},u=0,f,m;i.length>u;)m=n(r,f=i[u++]),m!==void 0&&Lvt(o,f,m);return o}})});var mme=C(()=>{"use strict";var Rvt=oe(),qvt=wt(),zvt=rC().f,jvt=qvt(function(){return!Object.getOwnPropertyNames(1)});Rvt({target:"Object",stat:!0,forced:jvt},{getOwnPropertyNames:zvt})});var vme=C(()=>{"use strict";var Fvt=oe(),Bvt=wt(),Uvt=Xr(),gme=_o(),Vvt=mC(),$vt=Bvt(function(){gme(1)});Fvt({target:"Object",stat:!0,forced:$vt,sham:!Vvt},{getPrototypeOf:function(t){return gme(Uvt(t))}})});var Iz=C(()=>{"use strict";var Gvt=oe(),Hvt=Sr(),Wvt=mt(),Zvt=Ir(),Yvt=ii(),Kvt=Ac(),Xvt=Di(),Qvt=wt(),yme=Object.groupBy,Jvt=Hvt("Object","create"),eyt=Wvt([].push),tyt=!yme||Qvt(function(){return yme("ab",function(e){return e}).a.length!==1});Gvt({target:"Object",stat:!0,forced:tyt},{groupBy:function(t,r){Yvt(t),Zvt(r);var n=Jvt(null),i=0;return Xvt(t,function(o){var u=Kvt(r(o,i++));u in n?eyt(n[u],o):n[u]=[o]}),n}})});var Ez=C(()=>{"use strict";var ryt=oe(),nyt=$r();ryt({target:"Object",stat:!0},{hasOwn:nyt})});var oA=C((wwr,_me)=>{"use strict";_me.exports=Object.is||function(t,r){return t===r?t!==0||1/t===1/r:t!==t&&r!==r}});var bme=C(()=>{"use strict";var iyt=oe(),oyt=oA();iyt({target:"Object",stat:!0},{is:oyt})});var wme=C(()=>{"use strict";var ayt=oe(),xme=YC();ayt({target:"Object",stat:!0,forced:Object.isExtensible!==xme},{isExtensible:xme})});var Ime=C(()=>{"use strict";var syt=oe(),lyt=wt(),uyt=vr(),cyt=aa(),Sme=WC(),Tz=Object.isFrozen,pyt=Sme||lyt(function(){Tz(1)});syt({target:"Object",stat:!0,forced:pyt},{isFrozen:function(t){return!uyt(t)||Sme&&cyt(t)==="ArrayBuffer"?!0:Tz?Tz(t):!1}})});var Tme=C(()=>{"use strict";var fyt=oe(),dyt=wt(),hyt=vr(),myt=aa(),Eme=WC(),Mz=Object.isSealed,gyt=Eme||dyt(function(){Mz(1)});fyt({target:"Object",stat:!0,forced:gyt},{isSealed:function(t){return!hyt(t)||Eme&&myt(t)==="ArrayBuffer"?!0:Mz?Mz(t):!1}})});var Cme=C(()=>{"use strict";var vyt=oe(),yyt=Xr(),Mme=Xm(),_yt=wt(),byt=_yt(function(){Mme(1)});vyt({target:"Object",stat:!0,forced:byt},{keys:function(t){return Mme(yyt(t))}})});var Ame=C(()=>{"use strict";var xyt=oe(),wyt=fr(),Syt=Pw(),Iyt=Xr(),Eyt=Ac(),Tyt=_o(),Myt=Bo().f;wyt&&xyt({target:"Object",proto:!0,forced:Syt},{__lookupGetter__:function(t){var r=Iyt(this),n=Eyt(t),i;do if(i=Myt(r,n))return i.get;while(r=Tyt(r))}})});var Pme=C(()=>{"use strict";var Cyt=oe(),Ayt=fr(),Pyt=Pw(),Oyt=Xr(),Dyt=Ac(),Nyt=_o(),kyt=Bo().f;Ayt&&Cyt({target:"Object",proto:!0,forced:Pyt},{__lookupSetter__:function(t){var r=Oyt(this),n=Dyt(t),i;do if(i=kyt(r,n))return i.set;while(r=Nyt(r))}})});var Ome=C(()=>{"use strict";var Lyt=oe(),Ryt=vr(),qyt=Jd().onFreeze,zyt=tf(),jyt=wt(),Cz=Object.preventExtensions,Fyt=jyt(function(){Cz(1)});Lyt({target:"Object",stat:!0,forced:Fyt,sham:!zyt},{preventExtensions:function(t){return Cz&&Ryt(t)?Cz(qyt(t)):t}})});var Rme=C(()=>{"use strict";var Byt=fr(),Uyt=gi(),Vyt=vr(),$yt=S8(),Gyt=Xr(),Hyt=ii(),Dme=Object.getPrototypeOf,Nme=Object.setPrototypeOf,kme=Object.prototype,Lme="__proto__";if(Byt&&Dme&&Nme&&!(Lme in kme))try{Uyt(kme,Lme,{configurable:!0,get:function(){return Dme(Gyt(this))},set:function(t){var r=Hyt(this);$yt(t)&&Vyt(r)&&Nme(r,t)}})}catch(e){}});var qme=C(()=>{"use strict";var Wyt=oe(),Zyt=vr(),Yyt=Jd().onFreeze,Kyt=tf(),Xyt=wt(),Az=Object.seal,Qyt=Xyt(function(){Az(1)});Wyt({target:"Object",stat:!0,forced:Qyt,sham:!Kyt},{seal:function(t){return Az&&Zyt(t)?Az(Yyt(t)):t}})});var zme=C(()=>{"use strict";var Jyt=oe(),e0t=Vl();Jyt({target:"Object",stat:!0},{setPrototypeOf:e0t})});var Fme=C((Gwr,jme)=>{"use strict";var t0t=XM(),r0t=ps();jme.exports=t0t?{}.toString:function(){return"[object "+r0t(this)+"]"}});var Bme=C(()=>{"use strict";var n0t=XM(),i0t=Ln(),o0t=Fme();n0t||i0t(Object.prototype,"toString",o0t,{unsafe:!0})});var Ume=C(()=>{"use strict";var a0t=oe(),s0t=wz().values;a0t({target:"Object",stat:!0},{values:function(t){return s0t(t)}})});var $me=C(()=>{"use strict";var l0t=oe(),Vme=dz();l0t({global:!0,forced:parseFloat!==Vme},{parseFloat:Vme})});var Hme=C(()=>{"use strict";var u0t=oe(),Gme=hz();u0t({global:!0,forced:parseInt!==Gme},{parseInt:Gme})});var Ow=C((e2r,Wme)=>{"use strict";var c0t=Ru(),p0t=kd(),f0t=TypeError;Wme.exports=function(e){if(c0t(e))return e;throw new f0t(p0t(e)+" is not a constructor")}});var Dw=C((t2r,Yme)=>{"use strict";var Zme=jt(),d0t=Ow(),h0t=Rs(),m0t=xr(),g0t=m0t("species");Yme.exports=function(e,t){var r=Zme(e).constructor,n;return r===void 0||h0t(n=Zme(r)[g0t])?t:d0t(n)}});var hl=C((r2r,Kme)=>{"use strict";var v0t=TypeError;Kme.exports=function(e,t){if(e<t)throw new v0t("Not enough arguments");return e}});var Pz=C((n2r,Xme)=>{"use strict";var y0t=Pu();Xme.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(y0t)});var Lw=C((i2r,age)=>{"use strict";var ml=Rt(),_0t=la(),b0t=Un(),Qme=jr(),x0t=$r(),oge=wt(),Jme=Jq(),w0t=zs(),ege=$x(),S0t=hl(),I0t=Pz(),E0t=ig(),Rz=ml.setImmediate,qz=ml.clearImmediate,T0t=ml.process,Oz=ml.Dispatch,M0t=ml.Function,tge=ml.MessageChannel,C0t=ml.String,Dz=0,Nw={},rge="onreadystatechange",kw,ug,Nz,kz;oge(function(){kw=ml.location});var zz=function(e){if(x0t(Nw,e)){var t=Nw[e];delete Nw[e],t()}},Lz=function(e){return function(){zz(e)}},nge=function(e){zz(e.data)},ige=function(e){ml.postMessage(C0t(e),kw.protocol+"//"+kw.host)};(!Rz||!qz)&&(Rz=function(t){S0t(arguments.length,1);var r=Qme(t)?t:M0t(t),n=w0t(arguments,1);return Nw[++Dz]=function(){_0t(r,void 0,n)},ug(Dz),Dz},qz=function(t){delete Nw[t]},E0t?ug=function(e){T0t.nextTick(Lz(e))}:Oz&&Oz.now?ug=function(e){Oz.now(Lz(e))}:tge&&!I0t?(Nz=new tge,kz=Nz.port2,Nz.port1.onmessage=nge,ug=b0t(kz.postMessage,kz)):ml.addEventListener&&Qme(ml.postMessage)&&!ml.importScripts&&kw&&kw.protocol!=="file:"&&!oge(ige)?(ug=ige,ml.addEventListener("message",nge,!1)):rge in ege("script")?ug=function(e){Jme.appendChild(ege("script"))[rge]=function(){Jme.removeChild(this),zz(e)}}:ug=function(e){setTimeout(Lz(e),0)});age.exports={set:Rz,clear:qz}});var jz=C((o2r,lge)=>{"use strict";var sge=Rt(),A0t=fr(),P0t=Object.getOwnPropertyDescriptor;lge.exports=function(e){if(!A0t)return sge[e];var t=P0t(sge,e);return t&&t.value}});var Fz=C((a2r,cge)=>{"use strict";var uge=function(){this.head=null,this.tail=null};uge.prototype={add:function(e){var t={item:e,next:null},r=this.tail;r?r.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e){var t=this.head=e.next;return t===null&&(this.tail=null),e.item}}};cge.exports=uge});var fge=C((s2r,pge)=>{"use strict";var O0t=Pu();pge.exports=/ipad|iphone|ipod/i.test(O0t)&&typeof Pebble!="undefined"});var hge=C((l2r,dge)=>{"use strict";var D0t=Pu();dge.exports=/web0s(?!.*chrome)/i.test(D0t)});var Hz=C((u2r,bge)=>{"use strict";var m0=Rt(),N0t=jz(),mge=Un(),Bz=Lw().set,k0t=Fz(),L0t=Pz(),R0t=fge(),q0t=hge(),Uz=ig(),gge=m0.MutationObserver||m0.WebKitMutationObserver,vge=m0.document,yge=m0.process,aA=m0.Promise,Gz=N0t("queueMicrotask"),h0,Vz,$z,sA,_ge;Gz||(Rw=new k0t,qw=function(){var e,t;for(Uz&&(e=yge.domain)&&e.exit();t=Rw.get();)try{t()}catch(r){throw Rw.head&&h0(),r}e&&e.enter()},!L0t&&!Uz&&!q0t&&gge&&vge?(Vz=!0,$z=vge.createTextNode(""),new gge(qw).observe($z,{characterData:!0}),h0=function(){$z.data=Vz=!Vz}):!R0t&&aA&&aA.resolve?(sA=aA.resolve(void 0),sA.constructor=aA,_ge=mge(sA.then,sA),h0=function(){_ge(qw)}):Uz?h0=function(){yge.nextTick(qw)}:(Bz=mge(Bz,m0),h0=function(){Bz(qw)}),Gz=function(e){Rw.head||h0(),Rw.add(e)});var Rw,qw;bge.exports=Gz});var Wz=C((c2r,xge)=>{"use strict";xge.exports=function(e,t){try{arguments.length===1?console.error(e):console.error(e,t)}catch(r){}}});var eh=C((p2r,wge)=>{"use strict";wge.exports=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}}});var cg=C((f2r,Sge)=>{"use strict";var z0t=Rt();Sge.exports=z0t.Promise});var g0=C((d2r,Mge)=>{"use strict";var j0t=Rt(),zw=cg(),F0t=jr(),B0t=Zy(),U0t=Gx(),V0t=xr(),Ige=dw(),$0t=yn(),Zz=Du(),Ege=zw&&zw.prototype,G0t=V0t("species"),Yz=!1,Tge=F0t(j0t.PromiseRejectionEvent),H0t=B0t("Promise",function(){var e=U0t(zw),t=e!==String(zw);if(!t&&Zz===66||$0t&&!(Ege.catch&&Ege.finally))return!0;if(!Zz||Zz<51||!/native code/.test(e)){var r=new zw(function(o){o(1)}),n=function(o){o(function(){},function(){})},i=r.constructor={};if(i[G0t]=n,Yz=r.then(function(){})instanceof n,!Yz)return!0}return!t&&(Ige==="BROWSER"||Ige==="DENO")&&!Tge});Mge.exports={CONSTRUCTOR:H0t,REJECTION_EVENT:Tge,SUBCLASSING:Yz}});var Rc=C((h2r,Age)=>{"use strict";var Cge=Ir(),W0t=TypeError,Z0t=function(e){var t,r;this.promise=new e(function(n,i){if(t!==void 0||r!==void 0)throw new W0t("Bad Promise constructor");t=n,r=i}),this.resolve=Cge(t),this.reject=Cge(r)};Age.exports.f=function(e){return new Z0t(e)}});var Zge=C(()=>{"use strict";var Y0t=oe(),K0t=yn(),pA=ig(),th=Rt(),b0=qt(),Pge=Ln(),Oge=Vl(),X0t=fs(),Q0t=Hd(),J0t=Ir(),cA=jr(),e1t=vr(),t1t=ja(),r1t=Dw(),Rge=Lw().set,ej=Hz(),n1t=Wz(),i1t=eh(),o1t=Fz(),qge=On(),fA=cg(),tj=g0(),zge=Rc(),dA="Promise",jge=tj.CONSTRUCTOR,a1t=tj.REJECTION_EVENT,s1t=tj.SUBCLASSING,Kz=qge.getterFor(dA),l1t=qge.set,v0=fA&&fA.prototype,pg=fA,lA=v0,Fge=th.TypeError,Xz=th.document,rj=th.process,Qz=zge.f,u1t=Qz,c1t=!!(Xz&&Xz.createEvent&&th.dispatchEvent),Bge="unhandledrejection",p1t="rejectionhandled",Dge=0,Uge=1,f1t=2,nj=1,Vge=2,uA,Nge,d1t,kge,$ge=function(e){var t;return e1t(e)&&cA(t=e.then)?t:!1},Gge=function(e,t){var r=t.value,n=t.state===Uge,i=n?e.ok:e.fail,o=e.resolve,u=e.reject,f=e.domain,m,y,w;try{i?(n||(t.rejection===Vge&&m1t(t),t.rejection=nj),i===!0?m=r:(f&&f.enter(),m=i(r),f&&(f.exit(),w=!0)),m===e.promise?u(new Fge("Promise-chain cycle")):(y=$ge(m))?b0(y,m,o,u):o(m)):u(r)}catch(I){f&&!w&&f.exit(),u(I)}},Hge=function(e,t){e.notified||(e.notified=!0,ej(function(){for(var r=e.reactions,n;n=r.get();)Gge(n,e);e.notified=!1,t&&!e.rejection&&h1t(e)}))},Wge=function(e,t,r){var n,i;c1t?(n=Xz.createEvent("Event"),n.promise=t,n.reason=r,n.initEvent(e,!1,!0),th.dispatchEvent(n)):n={promise:t,reason:r},!a1t&&(i=th["on"+e])?i(n):e===Bge&&n1t("Unhandled promise rejection",r)},h1t=function(e){b0(Rge,th,function(){var t=e.facade,r=e.value,n=Lge(e),i;if(n&&(i=i1t(function(){pA?rj.emit("unhandledRejection",r,t):Wge(Bge,t,r)}),e.rejection=pA||Lge(e)?Vge:nj,i.error))throw i.value})},Lge=function(e){return e.rejection!==nj&&!e.parent},m1t=function(e){b0(Rge,th,function(){var t=e.facade;pA?rj.emit("rejectionHandled",t):Wge(p1t,t,e.value)})},y0=function(e,t,r){return function(n){e(t,n,r)}},_0=function(e,t,r){e.done||(e.done=!0,r&&(e=r),e.value=t,e.state=f1t,Hge(e,!0))},Jz=function(e,t,r){if(!e.done){e.done=!0,r&&(e=r);try{if(e.facade===t)throw new Fge("Promise can't be resolved itself");var n=$ge(t);n?ej(function(){var i={done:!1};try{b0(n,t,y0(Jz,i,e),y0(_0,i,e))}catch(o){_0(i,o,e)}}):(e.value=t,e.state=Uge,Hge(e,!1))}catch(i){_0({done:!1},i,e)}}};if(jge&&(pg=function(t){t1t(this,lA),J0t(t),b0(uA,this);var r=Kz(this);try{t(y0(Jz,r),y0(_0,r))}catch(n){_0(r,n)}},lA=pg.prototype,uA=function(t){l1t(this,{type:dA,done:!1,notified:!1,parent:!1,reactions:new o1t,rejection:!1,state:Dge,value:null})},uA.prototype=Pge(lA,"then",function(t,r){var n=Kz(this),i=Qz(r1t(this,pg));return n.parent=!0,i.ok=cA(t)?t:!0,i.fail=cA(r)&&r,i.domain=pA?rj.domain:void 0,n.state===Dge?n.reactions.add(i):ej(function(){Gge(i,n)}),i.promise}),Nge=function(){var e=new uA,t=Kz(e);this.promise=e,this.resolve=y0(Jz,t),this.reject=y0(_0,t)},zge.f=Qz=function(e){return e===pg||e===d1t?new Nge(e):u1t(e)},!K0t&&cA(fA)&&v0!==Object.prototype)){kge=v0.then,s1t||Pge(v0,"then",function(t,r){var n=this;return new pg(function(i,o){b0(kge,n,i,o)}).then(t,r)},{unsafe:!0});try{delete v0.constructor}catch(e){}Oge&&Oge(v0,lA)}Y0t({global:!0,constructor:!0,wrap:!0,forced:jge},{Promise:pg});X0t(pg,dA,!1,!0);Q0t(dA)});var jw=C((v2r,Yge)=>{"use strict";var g1t=cg(),v1t=sw(),y1t=g0().CONSTRUCTOR;Yge.exports=y1t||!v1t(function(e){g1t.all(e).then(void 0,function(){})})});var Kge=C(()=>{"use strict";var _1t=oe(),b1t=qt(),x1t=Ir(),w1t=Rc(),S1t=eh(),I1t=Di(),E1t=jw();_1t({target:"Promise",stat:!0,forced:E1t},{all:function(t){var r=this,n=w1t.f(r),i=n.resolve,o=n.reject,u=S1t(function(){var f=x1t(r.resolve),m=[],y=0,w=1;I1t(t,function(I){var M=y++,N=!1;w++,b1t(f,r,I).then(function(z){N||(N=!0,m[M]=z,--w||i(m))},o)}),--w||i(m)});return u.error&&o(u.value),n.promise}})});var Qge=C(()=>{"use strict";var T1t=oe(),M1t=yn(),C1t=g0().CONSTRUCTOR,oj=cg(),A1t=Sr(),P1t=jr(),O1t=Ln(),Xge=oj&&oj.prototype;T1t({target:"Promise",proto:!0,forced:C1t,real:!0},{catch:function(e){return this.then(void 0,e)}});!M1t&&P1t(oj)&&(ij=A1t("Promise").prototype.catch,Xge.catch!==ij&&O1t(Xge,"catch",ij,{unsafe:!0}));var ij});var Jge=C(()=>{"use strict";var D1t=oe(),N1t=qt(),k1t=Ir(),L1t=Rc(),R1t=eh(),q1t=Di(),z1t=jw();D1t({target:"Promise",stat:!0,forced:z1t},{race:function(t){var r=this,n=L1t.f(r),i=n.reject,o=R1t(function(){var u=k1t(r.resolve);q1t(t,function(f){N1t(u,r,f).then(n.resolve,i)})});return o.error&&i(o.value),n.promise}})});var eve=C(()=>{"use strict";var j1t=oe(),F1t=Rc(),B1t=g0().CONSTRUCTOR;j1t({target:"Promise",stat:!0,forced:B1t},{reject:function(t){var r=F1t.f(this),n=r.reject;return n(t),r.promise}})});var aj=C((T2r,tve)=>{"use strict";var U1t=jt(),V1t=vr(),$1t=Rc();tve.exports=function(e,t){if(U1t(e),V1t(t)&&t.constructor===e)return t;var r=$1t.f(e),n=r.resolve;return n(t),r.promise}});var ive=C(()=>{"use strict";var G1t=oe(),H1t=Sr(),rve=yn(),W1t=cg(),nve=g0().CONSTRUCTOR,Z1t=aj(),Y1t=H1t("Promise"),K1t=rve&&!nve;G1t({target:"Promise",stat:!0,forced:rve||nve},{resolve:function(t){return Z1t(K1t&&this===Y1t?W1t:this,t)}})});var ove=C(()=>{"use strict";Zge();Kge();Qge();Jge();eve();ive()});var sj=C(()=>{"use strict";var X1t=oe(),Q1t=qt(),J1t=Ir(),e_t=Rc(),t_t=eh(),r_t=Di(),n_t=jw();X1t({target:"Promise",stat:!0,forced:n_t},{allSettled:function(t){var r=this,n=e_t.f(r),i=n.resolve,o=n.reject,u=t_t(function(){var f=J1t(r.resolve),m=[],y=0,w=1;r_t(t,function(I){var M=y++,N=!1;w++,Q1t(f,r,I).then(function(z){N||(N=!0,m[M]={status:"fulfilled",value:z},--w||i(m))},function(z){N||(N=!0,m[M]={status:"rejected",reason:z},--w||i(m))})}),--w||i(m)});return u.error&&o(u.value),n.promise}})});var lj=C(()=>{"use strict";var i_t=oe(),o_t=qt(),a_t=Ir(),s_t=Sr(),l_t=Rc(),u_t=eh(),c_t=Di(),p_t=jw(),ave="No one promise resolved";i_t({target:"Promise",stat:!0,forced:p_t},{any:function(t){var r=this,n=s_t("AggregateError"),i=l_t.f(r),o=i.resolve,u=i.reject,f=u_t(function(){var m=a_t(r.resolve),y=[],w=0,I=1,M=!1;c_t(t,function(N){var z=w++,F=!1;I++,o_t(m,r,N).then(function(q){F||M||(M=!0,o(q))},function(q){F||M||(F=!0,y[z]=q,--I||u(new n(y,ave)))})}),--I||u(new n(y,ave))});return f.error&&u(f.value),i.promise}})});var cve=C(()=>{"use strict";var f_t=oe(),d_t=yn(),hA=cg(),h_t=wt(),lve=Sr(),uve=jr(),m_t=Dw(),sve=aj(),g_t=Ln(),cj=hA&&hA.prototype,v_t=!!hA&&h_t(function(){cj.finally.call({then:function(){}},function(){})});f_t({target:"Promise",proto:!0,real:!0,forced:v_t},{finally:function(e){var t=m_t(this,lve("Promise")),r=uve(e);return this.then(r?function(n){return sve(t,e()).then(function(){return n})}:e,r?function(n){return sve(t,e()).then(function(){throw n})}:e)}});!d_t&&uve(hA)&&(uj=lve("Promise").prototype.finally,cj.finally!==uj&&g_t(cj,"finally",uj,{unsafe:!0}));var uj});var fj=C(()=>{"use strict";var y_t=oe(),__t=Rt(),b_t=la(),x_t=zs(),w_t=Rc(),S_t=Ir(),fve=eh(),pj=__t.Promise,pve=!1,I_t=!pj||!pj.try||fve(function(){pj.try(function(e){pve=e===8},8)}).error||!pve;y_t({target:"Promise",stat:!0,forced:I_t},{try:function(e){var t=arguments.length>1?x_t(arguments,1):[],r=w_t.f(this),n=fve(function(){return b_t(S_t(e),void 0,t)});return(n.error?r.reject:r.resolve)(n.value),r.promise}})});var dj=C(()=>{"use strict";var E_t=oe(),T_t=Rc();E_t({target:"Promise",stat:!0},{withResolvers:function(){var t=T_t.f(this);return{promise:t.promise,resolve:t.resolve,reject:t.reject}}})});var dve=C(()=>{"use strict";var M_t=oe(),C_t=la(),A_t=Ir(),P_t=jt(),O_t=wt(),D_t=!O_t(function(){Reflect.apply(function(){})});M_t({target:"Reflect",stat:!0,forced:D_t},{apply:function(t,r,n){return C_t(A_t(t),r,P_t(n))}})});var bve=C(()=>{"use strict";var N_t=oe(),k_t=Sr(),hj=la(),L_t=c9(),hve=Ow(),R_t=jt(),mve=vr(),q_t=Wi(),vve=wt(),mj=k_t("Reflect","construct"),z_t=Object.prototype,j_t=[].push,yve=vve(function(){function e(){}return!(mj(function(){},[],e)instanceof e)}),_ve=!vve(function(){mj(function(){})}),gve=yve||_ve;N_t({target:"Reflect",stat:!0,forced:gve,sham:gve},{construct:function(t,r){hve(t),R_t(r);var n=arguments.length<3?t:hve(arguments[2]);if(_ve&&!yve)return mj(t,r,n);if(t===n){switch(r.length){case 0:return new t;case 1:return new t(r[0]);case 2:return new t(r[0],r[1]);case 3:return new t(r[0],r[1],r[2]);case 4:return new t(r[0],r[1],r[2],r[3])}var i=[null];return hj(j_t,i,r),new(hj(L_t,t,i))}var o=n.prototype,u=q_t(mve(o)?o:z_t),f=hj(t,u,r);return mve(f)?f:u}})});var Sve=C(()=>{"use strict";var F_t=oe(),B_t=fr(),xve=jt(),U_t=Ac(),wve=ti(),V_t=wt(),$_t=V_t(function(){Reflect.defineProperty(wve.f({},1,{value:1}),1,{value:2})});F_t({target:"Reflect",stat:!0,forced:$_t,sham:!B_t},{defineProperty:function(t,r,n){xve(t);var i=U_t(r);xve(n);try{return wve.f(t,i,n),!0}catch(o){return!1}}})});var Ive=C(()=>{"use strict";var G_t=oe(),H_t=jt(),W_t=Bo().f;G_t({target:"Reflect",stat:!0},{deleteProperty:function(t,r){var n=W_t(H_t(t),r);return n&&!n.configurable?!1:delete t[r]}})});var gj=C((Y2r,Tve)=>{"use strict";var Eve=$r();Tve.exports=function(e){return e!==void 0&&(Eve(e,"value")||Eve(e,"writable"))}});var Cve=C(()=>{"use strict";var Z_t=oe(),Y_t=qt(),K_t=vr(),X_t=jt(),Q_t=gj(),J_t=Bo(),ebt=_o();function Mve(e,t){var r=arguments.length<3?e:arguments[2],n,i;if(X_t(e)===r)return e[t];if(n=J_t.f(e,t),n)return Q_t(n)?n.value:n.get===void 0?void 0:Y_t(n.get,r);if(K_t(i=ebt(e)))return Mve(i,t,r)}Z_t({target:"Reflect",stat:!0},{get:Mve})});var Ave=C(()=>{"use strict";var tbt=oe(),rbt=fr(),nbt=jt(),ibt=Bo();tbt({target:"Reflect",stat:!0,sham:!rbt},{getOwnPropertyDescriptor:function(t,r){return ibt.f(nbt(t),r)}})});var Pve=C(()=>{"use strict";var obt=oe(),abt=jt(),sbt=_o(),lbt=mC();obt({target:"Reflect",stat:!0,sham:!lbt},{getPrototypeOf:function(t){return sbt(abt(t))}})});var Ove=C(()=>{"use strict";var ubt=oe();ubt({target:"Reflect",stat:!0},{has:function(t,r){return r in t}})});var Dve=C(()=>{"use strict";var cbt=oe(),pbt=jt(),fbt=YC();cbt({target:"Reflect",stat:!0},{isExtensible:function(t){return pbt(t),fbt(t)}})});var Nve=C(()=>{"use strict";var dbt=oe(),hbt=YM();dbt({target:"Reflect",stat:!0},{ownKeys:hbt})});var kve=C(()=>{"use strict";var mbt=oe(),gbt=Sr(),vbt=jt(),ybt=tf();mbt({target:"Reflect",stat:!0,sham:!ybt},{preventExtensions:function(t){vbt(t);try{var r=gbt("Object","preventExtensions");return r&&r(t),!0}catch(n){return!1}}})});var jve=C(()=>{"use strict";var _bt=oe(),bbt=qt(),xbt=jt(),Lve=vr(),wbt=gj(),Sbt=wt(),vj=ti(),Rve=Bo(),Ibt=_o(),qve=Ls();function zve(e,t,r){var n=arguments.length<4?e:arguments[3],i=Rve.f(xbt(e),t),o,u,f;if(!i){if(Lve(u=Ibt(e)))return zve(u,t,r,n);i=qve(0)}if(wbt(i)){if(i.writable===!1||!Lve(n))return!1;if(o=Rve.f(n,t)){if(o.get||o.set||o.writable===!1)return!1;o.value=r,vj.f(n,t,o)}else vj.f(n,t,qve(0,r))}else{if(f=i.set,f===void 0)return!1;bbt(f,n,r)}return!0}var Ebt=Sbt(function(){var e=function(){},t=vj.f(new e,"a",{configurable:!0});return Reflect.set(e.prototype,"a",1,t)!==!1});_bt({target:"Reflect",stat:!0,forced:Ebt},{set:zve})});var Bve=C(()=>{"use strict";var Tbt=oe(),Mbt=jt(),Cbt=I8(),Fve=Vl();Fve&&Tbt({target:"Reflect",stat:!0},{setPrototypeOf:function(t,r){Mbt(t),Cbt(r);try{return Fve(t,r),!0}catch(n){return!1}}})});var Uve=C(()=>{"use strict";var Abt=oe(),Pbt=Rt(),Obt=fs();Abt({global:!0},{Reflect:{}});Obt(Pbt.Reflect,"Reflect",!0)});var Fw=C((gSr,Vve)=>{"use strict";var Dbt=vr(),Nbt=aa(),kbt=xr(),Lbt=kbt("match");Vve.exports=function(e){var t;return Dbt(e)&&((t=e[Lbt])!==void 0?!!t:Nbt(e)==="RegExp")}});var mA=C((vSr,$ve)=>{"use strict";var Rbt=jt();$ve.exports=function(){var e=Rbt(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}});var x0=C((ySr,Hve)=>{"use strict";var qbt=qt(),zbt=$r(),jbt=sa(),Fbt=mA(),Gve=RegExp.prototype;Hve.exports=function(e){var t=e.flags;return t===void 0&&!("flags"in Gve)&&!zbt(e,"flags")&&jbt(Gve,e)?qbt(Fbt,e):t}});var Bw=C((_Sr,Wve)=>{"use strict";var yj=wt(),Bbt=Rt(),_j=Bbt.RegExp,bj=yj(function(){var e=_j("a","y");return e.lastIndex=2,e.exec("abcd")!==null}),Ubt=bj||yj(function(){return!_j("a","y").sticky}),Vbt=bj||yj(function(){var e=_j("^r","gy");return e.lastIndex=2,e.exec("str")!==null});Wve.exports={BROKEN_CARET:Vbt,MISSED_STICKY:Ubt,UNSUPPORTED_Y:bj}});var gA=C((bSr,Zve)=>{"use strict";var $bt=wt(),Gbt=Rt(),Hbt=Gbt.RegExp;Zve.exports=$bt(function(){var e=Hbt(".","s");return!(e.dotAll&&e.test(`
`)&&e.flags==="s")})});var xj=C((xSr,Yve)=>{"use strict";var Wbt=wt(),Zbt=Rt(),Ybt=Zbt.RegExp;Yve.exports=Wbt(function(){var e=Ybt("(?<a>b)","g");return e.exec("b").groups.a!=="b"||"b".replace(e,"$<a>c")!=="bc"})});var oye=C(()=>{"use strict";var Kbt=fr(),Ej=Rt(),Uw=mt(),Xbt=Zy(),Qbt=Fd(),Jbt=yo(),ext=Wi(),txt=Rd().f,Kve=sa(),rxt=Fw(),Xve=Pr(),nxt=x0(),tye=Bw(),ixt=E8(),oxt=Ln(),axt=wt(),sxt=$r(),lxt=On().enforce,uxt=Hd(),cxt=xr(),rye=gA(),nye=xj(),pxt=cxt("match"),nh=Ej.RegExp,w0=nh.prototype,fxt=Ej.SyntaxError,dxt=Uw(w0.exec),vA=Uw("".charAt),Qve=Uw("".replace),Jve=Uw("".indexOf),eye=Uw("".slice),hxt=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,fg=/a/g,wj=/a/g,mxt=new nh(fg)!==fg,iye=tye.MISSED_STICKY,gxt=tye.UNSUPPORTED_Y,vxt=Kbt&&(!mxt||iye||rye||nye||axt(function(){return wj[pxt]=!1,nh(fg)!==fg||nh(wj)===wj||String(nh(fg,"i"))!=="/a/i"})),yxt=function(e){for(var t=e.length,r=0,n="",i=!1,o;r<=t;r++){if(o=vA(e,r),o==="\\"){n+=o+vA(e,++r);continue}!i&&o==="."?n+="[\\s\\S]":(o==="["?i=!0:o==="]"&&(i=!1),n+=o)}return n},_xt=function(e){for(var t=e.length,r=0,n="",i=[],o=ext(null),u=!1,f=!1,m=0,y="",w;r<=t;r++){if(w=vA(e,r),w==="\\")w+=vA(e,++r);else if(w==="]")u=!1;else if(!u)switch(!0){case w==="[":u=!0;break;case w==="(":if(n+=w,eye(e,r+1,r+3)==="?:")continue;dxt(hxt,eye(e,r+1))&&(r+=2,f=!0),m++;continue;case w===">"&&f:if(y===""||sxt(o,y))throw new fxt("Invalid capture group name");o[y]=!0,i[i.length]=[y,m],f=!1,y="";continue}f?y+=w:n+=w}return[n,i]};if(Xbt("RegExp",vxt)){for(rh=function(t,r){var n=Kve(w0,this),i=rxt(t),o=r===void 0,u=[],f=t,m,y,w,I,M,N;if(!n&&i&&o&&t.constructor===rh)return t;if((i||Kve(w0,t))&&(t=t.source,o&&(r=nxt(f))),t=t===void 0?"":Xve(t),r=r===void 0?"":Xve(r),f=t,rye&&"dotAll"in fg&&(y=!!r&&Jve(r,"s")>-1,y&&(r=Qve(r,/s/g,""))),m=r,iye&&"sticky"in fg&&(w=!!r&&Jve(r,"y")>-1,w&&gxt&&(r=Qve(r,/y/g,""))),nye&&(I=_xt(t),t=I[0],u=I[1]),M=Qbt(nh(t,r),n?this:w0,rh),(y||w||u.length)&&(N=lxt(M),y&&(N.dotAll=!0,N.raw=rh(yxt(t),m)),w&&(N.sticky=!0),u.length&&(N.groups=u)),t!==f)try{Jbt(M,"source",f===""?"(?:)":f)}catch(z){}return M},Sj=txt(nh),Ij=0;Sj.length>Ij;)ixt(rh,nh,Sj[Ij++]);w0.constructor=rh,rh.prototype=w0,oxt(Ej,"RegExp",rh,{constructor:!0})}var rh,Sj,Ij;uxt("RegExp")});var Vw=C((ISr,aye)=>{"use strict";var bxt=TypeError;aye.exports=function(e){if(typeof e=="string")return e;throw new bxt("Argument is not a string")}});var Aj=C(()=>{"use strict";var xxt=oe(),$w=mt(),wxt=Vw(),Sxt=$r(),sye=_w().start,Ixt=sg(),Ext=Array,lye=RegExp.escape,uye=$w("".charAt),Cj=$w("".charCodeAt),Txt=$w(1.1.toString),Mxt=$w([].join),pye=/^[0-9a-z]/i,Cxt=/^[$()*+./?[\\\]^{|}]/,Axt=RegExp("^[!\"#%&',\\-:;<=>@`~"+Ixt+"]"),Tj=$w(pye.exec),cye={"\t":"t","\n":"n","\x0B":"v","\f":"f","\r":"r"},Mj=function(e){var t=Txt(Cj(e,0),16);return t.length<3?"\\x"+sye(t,2,"0"):"\\u"+sye(t,4,"0")},Pxt=!lye||lye("ab")!=="\\x61b";xxt({target:"RegExp",stat:!0,forced:Pxt},{escape:function(t){wxt(t);for(var r=t.length,n=Ext(r),i=0;i<r;i++){var o=uye(t,i);if(i===0&&Tj(pye,o))n[i]=Mj(o);else if(Sxt(cye,o))n[i]="\\"+cye[o];else if(Tj(Cxt,o))n[i]="\\"+o;else if(Tj(Axt,o))n[i]=Mj(o);else{var u=Cj(o,0);(u&63488)!==55296?n[i]=o:u>=56320||i+1>=r||(Cj(t,i+1)&64512)!==56320?n[i]=Mj(o):(n[i]=o,n[++i]=uye(t,i))}}return Mxt(n,"")}})});var dye=C(()=>{"use strict";var Oxt=fr(),Dxt=gA(),Nxt=aa(),kxt=gi(),Lxt=On().get,fye=RegExp.prototype,Rxt=TypeError;Oxt&&Dxt&&kxt(fye,"dotAll",{configurable:!0,get:function(){if(this!==fye){if(Nxt(this)==="RegExp")return!!Lxt(this).dotAll;throw new Rxt("Incompatible receiver, RegExp required")}}})});var bA=C((ASr,mye)=>{"use strict";var S0=qt(),_A=mt(),qxt=Pr(),zxt=mA(),jxt=Bw(),Fxt=Hp(),Bxt=Wi(),Uxt=On().get,Vxt=gA(),$xt=xj(),Gxt=Fxt("native-string-replace",String.prototype.replace),yA=RegExp.prototype.exec,Oj=yA,Hxt=_A("".charAt),Wxt=_A("".indexOf),Zxt=_A("".replace),Pj=_A("".slice),Dj=function(){var e=/a/,t=/b*/g;return S0(yA,e,"a"),S0(yA,t,"a"),e.lastIndex!==0||t.lastIndex!==0}(),hye=jxt.BROKEN_CARET,Nj=/()??/.exec("")[1]!==void 0,Yxt=Dj||Nj||hye||Vxt||$xt;Yxt&&(Oj=function(t){var r=this,n=Uxt(r),i=qxt(t),o=n.raw,u,f,m,y,w,I,M;if(o)return o.lastIndex=r.lastIndex,u=S0(Oj,o,i),r.lastIndex=o.lastIndex,u;var N=n.groups,z=hye&&r.sticky,F=S0(zxt,r),q=r.source,R=0,U=i;if(z&&(F=Zxt(F,"y",""),Wxt(F,"g")===-1&&(F+="g"),U=Pj(i,r.lastIndex),r.lastIndex>0&&(!r.multiline||r.multiline&&Hxt(i,r.lastIndex-1)!==`
`)&&(q="(?: "+q+")",U=" "+U,R++),f=new RegExp("^(?:"+q+")",F)),Nj&&(f=new RegExp("^"+q+"$(?!\\s)",F)),Dj&&(m=r.lastIndex),y=S0(yA,z?f:r,U),z?y?(y.input=Pj(y.input,R),y[0]=Pj(y[0],R),y.index=r.lastIndex,r.lastIndex+=y[0].length):r.lastIndex=0:Dj&&y&&(r.lastIndex=r.global?y.index+y[0].length:m),Nj&&y&&y.length>1&&S0(Gxt,y[0],f,function(){for(w=1;w<arguments.length-2;w++)arguments[w]===void 0&&(y[w]=void 0)}),y&&N)for(y.groups=I=Bxt(null),w=0;w<N.length;w++)M=N[w],I[M[0]]=y[M[1]];return y});mye.exports=Oj});var xA=C(()=>{"use strict";var Kxt=oe(),gye=bA();Kxt({target:"RegExp",proto:!0,forced:/./.exec!==gye},{exec:gye})});var _ye=C(()=>{"use strict";var Xxt=Rt(),Qxt=fr(),Jxt=gi(),ewt=mA(),twt=wt(),vye=Xxt.RegExp,yye=vye.prototype,rwt=Qxt&&twt(function(){var e=!0;try{vye(".","d")}catch(m){e=!1}var t={},r="",n=e?"dgimsy":"gimsy",i=function(m,y){Object.defineProperty(t,m,{get:function(){return r+=y,!0}})},o={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};e&&(o.hasIndices="d");for(var u in o)i(u,o[u]);var f=Object.getOwnPropertyDescriptor(yye,"flags").get.call(t);return f!==n||r!==n});rwt&&Jxt(yye,"flags",{configurable:!0,get:ewt})});var xye=C(()=>{"use strict";var nwt=fr(),iwt=Bw().MISSED_STICKY,owt=aa(),awt=gi(),swt=On().get,bye=RegExp.prototype,lwt=TypeError;nwt&&iwt&&awt(bye,"sticky",{configurable:!0,get:function(){if(this!==bye){if(owt(this)==="RegExp")return!!swt(this).sticky;throw new lwt("Incompatible receiver, RegExp required")}}})});var Iye=C(()=>{"use strict";xA();var uwt=oe(),wye=qt(),cwt=jr(),Sye=jt(),pwt=Pr(),fwt=function(){var e=!1,t=/[ac]/;return t.exec=function(){return e=!0,/./.exec.apply(this,arguments)},t.test("abc")===!0&&e}(),dwt=/./.test;uwt({target:"RegExp",proto:!0,forced:!fwt},{test:function(e){var t=Sye(this),r=pwt(e),n=t.exec;if(!cwt(n))return wye(dwt,t,r);var i=wye(n,t,r);return i===null?!1:(Sye(i),!0)}})});var Cye=C(()=>{"use strict";var hwt=Zm().PROPER,mwt=Ln(),gwt=jt(),Eye=Pr(),vwt=wt(),ywt=x0(),kj="toString",Tye=RegExp.prototype,Mye=Tye[kj],_wt=vwt(function(){return Mye.call({source:"a",flags:"b"})!=="/a/b"}),bwt=hwt&&Mye.name!==kj;(_wt||bwt)&&mwt(Tye,kj,function(){var t=gwt(this),r=Eye(t.source),n=Eye(ywt(t));return"/"+r+"/"+n},{unsafe:!0})});var Aye=C(()=>{"use strict";var xwt=xw(),wwt=J9();xwt("Set",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},wwt)});var Pye=C(()=>{"use strict";Aye()});var $o=C(($Sr,Oye)=>{"use strict";var Lj=mt(),wA=Set.prototype;Oye.exports={Set,add:Lj(wA.add),has:Lj(wA.has),remove:Lj(wA.delete),proto:wA}});var ua=C((GSr,Dye)=>{"use strict";var Swt=$o().has;Dye.exports=function(e){return Swt(e),e}});var nf=C((HSr,Nye)=>{"use strict";var Iwt=qt();Nye.exports=function(e,t,r){for(var n=r?e:e.iterator,i=e.next,o,u;!(o=Iwt(i,n)).done;)if(u=t(o.value),u!==void 0)return u}});var Bs=C((WSr,zye)=>{"use strict";var kye=mt(),Ewt=nf(),Lye=$o(),Twt=Lye.Set,Rye=Lye.proto,Mwt=kye(Rye.forEach),qye=kye(Rye.keys),Cwt=qye(new Twt).next;zye.exports=function(e,t,r){return r?Ewt({iterator:qye(e),next:Cwt},t):Mwt(e,t)}});var SA=C((ZSr,Fye)=>{"use strict";var jye=$o(),Awt=Bs(),Pwt=jye.Set,Owt=jye.add;Fye.exports=function(e){var t=new Pwt;return Awt(e,function(r){Owt(t,r)}),t}});var I0=C((YSr,Bye)=>{"use strict";var Dwt=iw(),Nwt=$o();Bye.exports=Dwt(Nwt.proto,"size","get")||function(e){return e.size}});var ih=C((KSr,Wye)=>{"use strict";var Uye=Ir(),Gye=jt(),Vye=qt(),kwt=mi(),Lwt=Ei(),$ye="Invalid size",Rwt=RangeError,qwt=TypeError,zwt=Math.max,Hye=function(e,t){this.set=e,this.size=zwt(t,0),this.has=Uye(e.has),this.keys=Uye(e.keys)};Hye.prototype={getIterator:function(){return Lwt(Gye(Vye(this.keys,this.set)))},includes:function(e){return Vye(this.has,this.set,e)}};Wye.exports=function(e){Gye(e);var t=+e.size;if(t!==t)throw new qwt($ye);var r=kwt(t);if(r<0)throw new Rwt($ye);return new Hye(e,r)}});var Rj=C((XSr,Kye)=>{"use strict";var jwt=ua(),Yye=$o(),Fwt=SA(),Bwt=I0(),Uwt=ih(),Vwt=Bs(),$wt=nf(),Gwt=Yye.has,Zye=Yye.remove;Kye.exports=function(t){var r=jwt(this),n=Uwt(t),i=Fwt(r);return Bwt(r)<=n.size?Vwt(r,function(o){n.includes(o)&&Zye(i,o)}):$wt(n.getIterator(),function(o){Gwt(r,o)&&Zye(i,o)}),i}});var oh=C((QSr,Jye)=>{"use strict";var Hwt=Sr(),Xye=function(e){return{size:e,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}},Qye=function(e){return{size:e,has:function(){return!0},keys:function(){throw new Error("e")}}};Jye.exports=function(e,t){var r=Hwt("Set");try{new r()[e](Xye(0));try{return new r()[e](Xye(-1)),!1}catch(i){if(!t)return!0;try{return new r()[e](Qye(-1/0)),!1}catch(o){var n=new r;return n.add(1),n.add(2),t(n[e](Qye(1/0)))}}}catch(i){return!1}}});var qj=C(()=>{"use strict";var Wwt=oe(),Zwt=Rj(),Ywt=oh(),Kwt=!Ywt("difference",function(e){return e.size===0});Wwt({target:"Set",proto:!0,real:!0,forced:Kwt},{difference:Zwt})});var jj=C((tIr,t0e)=>{"use strict";var Xwt=ua(),zj=$o(),Qwt=I0(),Jwt=ih(),e2t=Bs(),t2t=nf(),r2t=zj.Set,e0e=zj.add,n2t=zj.has;t0e.exports=function(t){var r=Xwt(this),n=Jwt(t),i=new r2t;return Qwt(r)>n.size?t2t(n.getIterator(),function(o){n2t(r,o)&&e0e(i,o)}):e2t(r,function(o){n.includes(o)&&e0e(i,o)}),i}});var Fj=C(()=>{"use strict";var i2t=oe(),o2t=wt(),a2t=jj(),s2t=oh(),l2t=!s2t("intersection",function(e){return e.size===2&&e.has(1)&&e.has(2)})||o2t(function(){return String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))!=="3,2"});i2t({target:"Set",proto:!0,real:!0,forced:l2t},{intersection:a2t})});var Bj=C((iIr,r0e)=>{"use strict";var u2t=ua(),c2t=$o().has,p2t=I0(),f2t=ih(),d2t=Bs(),h2t=nf(),m2t=Vo();r0e.exports=function(t){var r=u2t(this),n=f2t(t);if(p2t(r)<=n.size)return d2t(r,function(o){if(n.includes(o))return!1},!0)!==!1;var i=n.getIterator();return h2t(i,function(o){if(c2t(r,o))return m2t(i,"normal",!1)})!==!1}});var Uj=C(()=>{"use strict";var g2t=oe(),v2t=Bj(),y2t=oh(),_2t=!y2t("isDisjointFrom",function(e){return!e});g2t({target:"Set",proto:!0,real:!0,forced:_2t},{isDisjointFrom:v2t})});var Vj=C((sIr,n0e)=>{"use strict";var b2t=ua(),x2t=I0(),w2t=Bs(),S2t=ih();n0e.exports=function(t){var r=b2t(this),n=S2t(t);return x2t(r)>n.size?!1:w2t(r,function(i){if(!n.includes(i))return!1},!0)!==!1}});var $j=C(()=>{"use strict";var I2t=oe(),E2t=Vj(),T2t=oh(),M2t=!T2t("isSubsetOf",function(e){return e});I2t({target:"Set",proto:!0,real:!0,forced:M2t},{isSubsetOf:E2t})});var Gj=C((cIr,i0e)=>{"use strict";var C2t=ua(),A2t=$o().has,P2t=I0(),O2t=ih(),D2t=nf(),N2t=Vo();i0e.exports=function(t){var r=C2t(this),n=O2t(t);if(P2t(r)<n.size)return!1;var i=n.getIterator();return D2t(i,function(o){if(!A2t(r,o))return N2t(i,"normal",!1)})!==!1}});var Hj=C(()=>{"use strict";var k2t=oe(),L2t=Gj(),R2t=oh(),q2t=!R2t("isSupersetOf",function(e){return!e});k2t({target:"Set",proto:!0,real:!0,forced:q2t},{isSupersetOf:L2t})});var Zj=C((dIr,o0e)=>{"use strict";var z2t=ua(),Wj=$o(),j2t=SA(),F2t=ih(),B2t=nf(),U2t=Wj.add,V2t=Wj.has,$2t=Wj.remove;o0e.exports=function(t){var r=z2t(this),n=F2t(t).getIterator(),i=j2t(r);return B2t(n,function(o){V2t(r,o)?$2t(i,o):U2t(i,o)}),i}});var Yj=C(()=>{"use strict";var G2t=oe(),H2t=Zj(),W2t=oh();G2t({target:"Set",proto:!0,real:!0,forced:!W2t("symmetricDifference")},{symmetricDifference:H2t})});var Kj=C((gIr,a0e)=>{"use strict";var Z2t=ua(),Y2t=$o().add,K2t=SA(),X2t=ih(),Q2t=nf();a0e.exports=function(t){var r=Z2t(this),n=X2t(t).getIterator(),i=K2t(r);return Q2t(n,function(o){Y2t(i,o)}),i}});var Xj=C(()=>{"use strict";var J2t=oe(),eSt=Kj(),tSt=oh();J2t({target:"Set",proto:!0,real:!0,forced:!tSt("union")},{union:eSt})});var s0e=C(()=>{"use strict";var rSt=oe(),nSt=mt(),iSt=ii(),oSt=mi(),aSt=Pr(),sSt=wt(),lSt=nSt("".charAt),uSt=sSt(function(){return"\uD842\uDFB7".at(-2)!=="\uD842"});rSt({target:"String",proto:!0,forced:uSt},{at:function(t){var r=aSt(iSt(this)),n=r.length,i=oSt(t),o=i>=0?i:n+i;return o<0||o>=n?void 0:lSt(r,o)}})});var dg=C((xIr,c0e)=>{"use strict";var Qj=mt(),cSt=mi(),pSt=Pr(),fSt=ii(),dSt=Qj("".charAt),l0e=Qj("".charCodeAt),hSt=Qj("".slice),u0e=function(e){return function(t,r){var n=pSt(fSt(t)),i=cSt(r),o=n.length,u,f;return i<0||i>=o?e?"":void 0:(u=l0e(n,i),u<55296||u>56319||i+1===o||(f=l0e(n,i+1))<56320||f>57343?e?dSt(n,i):u:e?hSt(n,i,i+2):(u-55296<<10)+(f-56320)+65536)}};c0e.exports={codeAt:u0e(!1),charAt:u0e(!0)}});var p0e=C(()=>{"use strict";var mSt=oe(),gSt=dg().codeAt;mSt({target:"String",proto:!0},{codePointAt:function(t){return gSt(this,t)}})});var IA=C((IIr,f0e)=>{"use strict";var vSt=Fw(),ySt=TypeError;f0e.exports=function(e){if(vSt(e))throw new ySt("The method doesn't accept regular expressions");return e}});var EA=C((EIr,d0e)=>{"use strict";var _St=xr(),bSt=_St("match");d0e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[bSt]=!1,"/./"[e](t)}catch(n){}}return!1}});var g0e=C(()=>{"use strict";var xSt=oe(),wSt=qd(),SSt=Bo().f,ISt=qs(),h0e=Pr(),ESt=IA(),TSt=ii(),MSt=EA(),CSt=yn(),ASt=wSt("".slice),PSt=Math.min,m0e=MSt("endsWith"),OSt=!CSt&&!m0e&&!!function(){var e=SSt(String.prototype,"endsWith");return e&&!e.writable}();xSt({target:"String",proto:!0,forced:!OSt&&!m0e},{endsWith:function(t){var r=h0e(TSt(this));ESt(t);var n=arguments.length>1?arguments[1]:void 0,i=r.length,o=n===void 0?i:PSt(ISt(n),i),u=h0e(t);return ASt(r,o-u.length,o)===u}})});var Jj=C(()=>{"use strict";var DSt=oe(),NSt=mt(),kSt=ku(),LSt=RangeError,v0e=String.fromCharCode,y0e=String.fromCodePoint,RSt=NSt([].join),qSt=!!y0e&&y0e.length!==1;DSt({target:"String",stat:!0,arity:1,forced:qSt},{fromCodePoint:function(t){for(var r=[],n=arguments.length,i=0,o;n>i;){if(o=+arguments[i++],kSt(o,1114111)!==o)throw new LSt(o+" is not a valid code point");r[i]=o<65536?v0e(o):v0e(((o-=65536)>>10)+55296,o%1024+56320)}return RSt(r,"")}})});var b0e=C(()=>{"use strict";var zSt=oe(),jSt=mt(),FSt=IA(),BSt=ii(),_0e=Pr(),USt=EA(),VSt=jSt("".indexOf);zSt({target:"String",proto:!0,forced:!USt("includes")},{includes:function(t){return!!~VSt(_0e(BSt(this)),_0e(FSt(t)),arguments.length>1?arguments[1]:void 0)}})});var eF=C(()=>{"use strict";var $St=oe(),GSt=mt(),HSt=ii(),WSt=Pr(),x0e=GSt("".charCodeAt);$St({target:"String",proto:!0},{isWellFormed:function(){for(var t=WSt(HSt(this)),r=t.length,n=0;n<r;n++){var i=x0e(t,n);if((i&63488)===55296&&(i>=56320||++n>=r||(x0e(t,n)&64512)!==56320))return!1}return!0}})});var tF=C(()=>{"use strict";var ZSt=dg().charAt,YSt=Pr(),S0e=On(),KSt=IC(),w0e=Po(),I0e="String Iterator",XSt=S0e.set,QSt=S0e.getterFor(I0e);KSt(String,"String",function(e){XSt(this,{type:I0e,string:YSt(e),index:0})},function(){var t=QSt(this),r=t.string,n=t.index,i;return n>=r.length?w0e(void 0,!0):(i=ZSt(r,n),t.index+=i.length,w0e(i,!1))})});var Gw=C((RIr,A0e)=>{"use strict";xA();var E0e=qt(),T0e=Ln(),JSt=bA(),M0e=wt(),C0e=xr(),eIt=yo(),tIt=C0e("species"),rF=RegExp.prototype;A0e.exports=function(e,t,r,n){var i=C0e(e),o=!M0e(function(){var y={};return y[i]=function(){return 7},""[e](y)!==7}),u=o&&!M0e(function(){var y=!1,w=/a/;return e==="split"&&(w={},w.constructor={},w.constructor[tIt]=function(){return w},w.flags="",w[i]=/./[i]),w.exec=function(){return y=!0,null},w[i](""),!y});if(!o||!u||r){var f=/./[i],m=t(i,""[e],function(y,w,I,M,N){var z=w.exec;return z===JSt||z===rF.exec?o&&!N?{done:!0,value:E0e(f,w,I,M)}:{done:!0,value:E0e(y,I,w,M)}:{done:!1}});T0e(String.prototype,e,m[0]),T0e(rF,i,m[1])}n&&eIt(rF[i],"sham",!0)}});var Hw=C((qIr,P0e)=>{"use strict";var rIt=dg().charAt;P0e.exports=function(e,t,r){return t+(r?rIt(e,t).length:1)}});var E0=C((zIr,D0e)=>{"use strict";var O0e=qt(),nIt=jt(),iIt=jr(),oIt=aa(),aIt=bA(),sIt=TypeError;D0e.exports=function(e,t){var r=e.exec;if(iIt(r)){var n=O0e(r,e,t);return n!==null&&nIt(n),n}if(oIt(e)==="RegExp")return O0e(aIt,e,t);throw new sIt("RegExp#exec called on incompatible receiver")}});var k0e=C(()=>{"use strict";var lIt=qt(),uIt=Gw(),cIt=jt(),pIt=vr(),fIt=qs(),nF=Pr(),dIt=ii(),hIt=Hi(),mIt=Hw(),N0e=E0();uIt("match",function(e,t,r){return[function(i){var o=dIt(this),u=pIt(i)?hIt(i,e):void 0;return u?lIt(u,i,o):new RegExp(i)[e](nF(o))},function(n){var i=cIt(this),o=nF(n),u=r(t,i,o);if(u.done)return u.value;if(!i.global)return N0e(i,o);var f=i.unicode;i.lastIndex=0;for(var m=[],y=0,w;(w=N0e(i,o))!==null;){var I=nF(w[0]);m[y]=I,I===""&&(i.lastIndex=mIt(o,fIt(i.lastIndex),f)),y++}return y===0?null:m}]})});var lF=C(()=>{"use strict";var gIt=oe(),L0e=qt(),z0e=qd(),vIt=$d(),TA=Po(),R0e=ii(),j0e=qs(),Ww=Pr(),yIt=jt(),_It=vr(),bIt=aa(),xIt=Fw(),F0e=x0(),wIt=Hi(),SIt=Ln(),IIt=wt(),EIt=xr(),TIt=Dw(),MIt=Hw(),CIt=E0(),B0e=On(),oF=yn(),MA=EIt("matchAll"),U0e="RegExp String",V0e=U0e+" Iterator",AIt=B0e.set,PIt=B0e.getterFor(V0e),q0e=RegExp.prototype,OIt=TypeError,aF=z0e("".indexOf),CA=z0e("".matchAll),iF=!!CA&&!IIt(function(){CA("a",/./)}),DIt=vIt(function(t,r,n,i){AIt(this,{type:V0e,regexp:t,string:r,global:n,unicode:i,done:!1})},U0e,function(){var t=PIt(this);if(t.done)return TA(void 0,!0);var r=t.regexp,n=t.string,i=CIt(r,n);return i===null?(t.done=!0,TA(void 0,!0)):t.global?(Ww(i[0])===""&&(r.lastIndex=MIt(n,j0e(r.lastIndex),t.unicode)),TA(i,!1)):(t.done=!0,TA(i,!1))}),sF=function(e){var t=yIt(this),r=Ww(e),n=TIt(t,RegExp),i=Ww(F0e(t)),o,u,f;return o=new n(n===RegExp?t.source:t,i),u=!!~aF(i,"g"),f=!!~aF(i,"u"),o.lastIndex=j0e(t.lastIndex),new DIt(o,r,u,f)};gIt({target:"String",proto:!0,forced:iF},{matchAll:function(t){var r=R0e(this),n,i,o,u;if(_It(t)){if(xIt(t)&&(n=Ww(R0e(F0e(t))),!~aF(n,"g")))throw new OIt("`.matchAll` does not allow non-global regexes");if(iF)return CA(r,t);if(o=wIt(t,MA),o===void 0&&oF&&bIt(t)==="RegExp"&&(o=sF),o)return L0e(o,t,r)}else if(iF)return CA(r,t);return i=Ww(r),u=new RegExp(t,"g"),oF?L0e(sF,u,i):u[MA](i)}});oF||MA in q0e||SIt(q0e,MA,sF)});var uF=C((VIr,$0e)=>{"use strict";var NIt=Pu();$0e.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(NIt)});var G0e=C(()=>{"use strict";var kIt=oe(),LIt=_w().end,RIt=uF();kIt({target:"String",proto:!0,forced:RIt},{padEnd:function(t){return LIt(this,t,arguments.length>1?arguments[1]:void 0)}})});var H0e=C(()=>{"use strict";var qIt=oe(),zIt=_w().start,jIt=uF();qIt({target:"String",proto:!0,forced:jIt},{padStart:function(t){return zIt(this,t,arguments.length>1?arguments[1]:void 0)}})});var K0e=C(()=>{"use strict";var FIt=oe(),Y0e=mt(),BIt=vo(),UIt=Xr(),W0e=Pr(),VIt=cn(),Z0e=Y0e([].push),$It=Y0e([].join);FIt({target:"String",stat:!0},{raw:function(t){var r=BIt(UIt(t).raw),n=VIt(r);if(!n)return"";for(var i=arguments.length,o=[],u=0;;){if(Z0e(o,W0e(r[u++])),u===n)return $It(o,"");u<i&&Z0e(o,W0e(arguments[u]))}}})});var X0e=C(()=>{"use strict";var GIt=oe(),HIt=yw();GIt({target:"String",proto:!0},{repeat:HIt})});var dF=C((QIr,Q0e)=>{"use strict";var fF=mt(),WIt=Xr(),ZIt=Math.floor,cF=fF("".charAt),YIt=fF("".replace),pF=fF("".slice),KIt=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,XIt=/\$([$&'`]|\d{1,2})/g;Q0e.exports=function(e,t,r,n,i,o){var u=r+e.length,f=n.length,m=XIt;return i!==void 0&&(i=WIt(i),m=KIt),YIt(o,m,function(y,w){var I;switch(cF(w,0)){case"$":return"$";case"&":return e;case"`":return pF(t,0,r);case"'":return pF(t,u);case"<":I=i[pF(w,1,-1)];break;default:var M=+w;if(M===0)return y;if(M>f){var N=ZIt(M/10);return N===0?y:N<=f?n[N-1]===void 0?cF(w,1):n[N-1]+cF(w,1):y}I=n[M-1]}return I===void 0?"":I})}});var n1e=C(()=>{"use strict";var QIt=la(),J0e=qt(),AA=mt(),JIt=Gw(),eEt=wt(),tEt=jt(),rEt=jr(),nEt=vr(),iEt=mi(),oEt=qs(),T0=Pr(),aEt=ii(),sEt=Hw(),lEt=Hi(),uEt=dF(),cEt=E0(),pEt=xr(),mF=pEt("replace"),fEt=Math.max,dEt=Math.min,hEt=AA([].concat),hF=AA([].push),e1e=AA("".indexOf),t1e=AA("".slice),mEt=function(e){return e===void 0?e:String(e)},gEt=function(){return"a".replace(/./,"$0")==="$0"}(),r1e=function(){return /./[mF]?/./[mF]("a","$0")==="":!1}(),vEt=!eEt(function(){var e=/./;return e.exec=function(){var t=[];return t.groups={a:"7"},t},"".replace(e,"$<a>")!=="7"});JIt("replace",function(e,t,r){var n=r1e?"$":"$0";return[function(o,u){var f=aEt(this),m=nEt(o)?lEt(o,mF):void 0;return m?J0e(m,o,f,u):J0e(t,T0(f),o,u)},function(i,o){var u=tEt(this),f=T0(i);if(typeof o=="string"&&e1e(o,n)===-1&&e1e(o,"$<")===-1){var m=r(t,u,f,o);if(m.done)return m.value}var y=rEt(o);y||(o=T0(o));var w=u.global,I;w&&(I=u.unicode,u.lastIndex=0);for(var M=[],N;N=cEt(u,f),!(N===null||(hF(M,N),!w));){var z=T0(N[0]);z===""&&(u.lastIndex=sEt(f,oEt(u.lastIndex),I))}for(var F="",q=0,R=0;R<M.length;R++){N=M[R];for(var U=T0(N[0]),Y=fEt(dEt(iEt(N.index),f.length),0),re=[],de,ce=1;ce<N.length;ce++)hF(re,mEt(N[ce]));var Se=N.groups;if(y){var qe=hEt([U],re,Y,f);Se!==void 0&&hF(qe,Se),de=T0(QIt(o,void 0,qe))}else de=uEt(U,f,Y,re,Se,o);Y>=q&&(F+=t1e(f,q,Y)+de,q=Y+U.length)}return F+t1e(f,q)}]},!vEt||!gEt||r1e)});var yF=C(()=>{"use strict";var yEt=oe(),_Et=qt(),vF=mt(),i1e=ii(),bEt=jr(),xEt=vr(),wEt=Fw(),M0=Pr(),SEt=Hi(),IEt=x0(),EEt=dF(),TEt=xr(),MEt=yn(),CEt=TEt("replace"),AEt=TypeError,gF=vF("".indexOf),PEt=vF("".replace),o1e=vF("".slice),OEt=Math.max;yEt({target:"String",proto:!0},{replaceAll:function(t,r){var n=i1e(this),i,o,u,f,m,y,w,I,M,N,z=0,F="";if(xEt(t)){if(i=wEt(t),i&&(o=M0(i1e(IEt(t))),!~gF(o,"g")))throw new AEt("`.replaceAll` does not allow non-global regexes");if(u=SEt(t,CEt),u)return _Et(u,t,n,r);if(MEt&&i)return PEt(M0(n),t,r)}for(f=M0(n),m=M0(t),y=bEt(r),y||(r=M0(r)),w=m.length,I=OEt(1,w),M=gF(f,m);M!==-1;)N=y?M0(r(m,M,f)):EEt(m,f,M,[],void 0,r),F+=o1e(f,z,M)+N,z=M+w,M=M+I>f.length?-1:gF(f,m,M+I);return z<f.length&&(F+=o1e(f,z)),F}})});var l1e=C(()=>{"use strict";var DEt=qt(),NEt=Gw(),kEt=jt(),LEt=vr(),REt=ii(),a1e=oA(),s1e=Pr(),qEt=Hi(),zEt=E0();NEt("search",function(e,t,r){return[function(i){var o=REt(this),u=LEt(i)?qEt(i,e):void 0;return u?DEt(u,i,o):new RegExp(i)[e](s1e(o))},function(n){var i=kEt(this),o=s1e(n),u=r(t,i,o);if(u.done)return u.value;var f=i.lastIndex;a1e(f,0)||(i.lastIndex=0);var m=zEt(i,o);return a1e(i.lastIndex,f)||(i.lastIndex=f),m===null?-1:m.index}]})});var d1e=C(()=>{"use strict";var _F=qt(),f1e=mt(),jEt=Gw(),FEt=jt(),BEt=vr(),UEt=ii(),VEt=Dw(),$Et=Hw(),GEt=qs(),u1e=Pr(),HEt=Hi(),c1e=E0(),WEt=Bw(),ZEt=wt(),C0=WEt.UNSUPPORTED_Y,YEt=4294967295,KEt=Math.min,bF=f1e([].push),xF=f1e("".slice),XEt=!ZEt(function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r="ab".split(e);return r.length!==2||r[0]!=="a"||r[1]!=="b"}),p1e="abbc".split(/(b)*/)[1]==="c"||"test".split(/(?:)/,-1).length!==4||"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||".".split(/()()/).length>1||"".split(/.?/).length;jEt("split",function(e,t,r){var n="0".split(void 0,0).length?function(i,o){return i===void 0&&o===0?[]:_F(t,this,i,o)}:t;return[function(o,u){var f=UEt(this),m=BEt(o)?HEt(o,e):void 0;return m?_F(m,o,f,u):_F(n,u1e(f),o,u)},function(i,o){var u=FEt(this),f=u1e(i);if(!p1e){var m=r(n,u,f,o,n!==t);if(m.done)return m.value}var y=VEt(u,RegExp),w=u.unicode,I=(u.ignoreCase?"i":"")+(u.multiline?"m":"")+(u.unicode?"u":"")+(C0?"g":"y"),M=new y(C0?"^(?:"+u.source+")":u,I),N=o===void 0?YEt:o>>>0;if(N===0)return[];if(f.length===0)return c1e(M,f)===null?[f]:[];for(var z=0,F=0,q=[];F<f.length;){M.lastIndex=C0?0:F;var R=c1e(M,C0?xF(f,F):f),U;if(R===null||(U=KEt(GEt(M.lastIndex+(C0?F:0)),f.length))===z)F=$Et(f,F,w);else{if(bF(q,xF(f,z,F)),q.length===N)return q;for(var Y=1;Y<=R.length-1;Y++)if(bF(q,R[Y]),q.length===N)return q;F=z=U}}return bF(q,xF(f,z)),q}]},p1e||!XEt,C0)});var g1e=C(()=>{"use strict";var QEt=oe(),JEt=qd(),eTt=Bo().f,tTt=qs(),h1e=Pr(),rTt=IA(),nTt=ii(),iTt=EA(),oTt=yn(),aTt=JEt("".slice),sTt=Math.min,m1e=iTt("startsWith"),lTt=!oTt&&!m1e&&!!function(){var e=eTt(String.prototype,"startsWith");return e&&!e.writable}();QEt({target:"String",proto:!0,forced:!lTt&&!m1e},{startsWith:function(t){var r=h1e(nTt(this));rTt(t);var n=tTt(sTt(arguments.length>1?arguments[1]:void 0,r.length)),i=h1e(t);return aTt(r,n,n+i.length)===i}})});var y1e=C(()=>{"use strict";var uTt=oe(),cTt=mt(),pTt=ii(),v1e=mi(),fTt=Pr(),dTt=cTt("".slice),hTt=Math.max,mTt=Math.min,gTt=!"".substr||"ab".substr(-1)!=="b";uTt({target:"String",proto:!0,forced:gTt},{substr:function(t,r){var n=fTt(pTt(this)),i=n.length,o=v1e(t),u,f;return o===1/0&&(o=0),o<0&&(o=hTt(i+o,0)),u=r===void 0?i:v1e(r),u<=0||u===1/0?"":(f=mTt(o+u,i),o>=f?"":dTt(n,o,f))}})});var EF=C(()=>{"use strict";var vTt=oe(),x1e=qt(),IF=mt(),yTt=ii(),_Tt=Pr(),bTt=wt(),xTt=Array,wF=IF("".charAt),_1e=IF("".charCodeAt),wTt=IF([].join),SF="".toWellFormed,STt="\uFFFD",b1e=SF&&bTt(function(){return x1e(SF,1)!=="1"});vTt({target:"String",proto:!0,forced:b1e},{toWellFormed:function(){var t=_Tt(yTt(this));if(b1e)return x1e(SF,t);for(var r=t.length,n=xTt(r),i=0;i<r;i++){var o=_1e(t,i);(o&63488)!==55296?n[i]=wF(t,i):o>=56320||i+1>=r||(_1e(t,i+1)&64512)!==56320?n[i]=STt:(n[i]=wF(t,i),n[++i]=wF(t,i))}return wTt(n,"")}})});var PA=C((dEr,I1e)=>{"use strict";var ITt=Zm().PROPER,ETt=wt(),w1e=sg(),S1e="\u200B\x85\u180E";I1e.exports=function(e){return ETt(function(){return!!w1e[e]()||S1e[e]()!==S1e||ITt&&w1e[e].name!==e})}});var E1e=C(()=>{"use strict";var TTt=oe(),MTt=lg().trim,CTt=PA();TTt({target:"String",proto:!0,forced:CTt("trim")},{trim:function(){return MTt(this)}})});var TF=C((gEr,T1e)=>{"use strict";var ATt=lg().end,PTt=PA();T1e.exports=PTt("trimEnd")?function(){return ATt(this)}:"".trimEnd});var C1e=C(()=>{"use strict";var OTt=oe(),M1e=TF();OTt({target:"String",proto:!0,name:"trimEnd",forced:"".trimRight!==M1e},{trimRight:M1e})});var P1e=C(()=>{"use strict";C1e();var DTt=oe(),A1e=TF();DTt({target:"String",proto:!0,name:"trimEnd",forced:"".trimEnd!==A1e},{trimEnd:A1e})});var MF=C((xEr,O1e)=>{"use strict";var NTt=lg().start,kTt=PA();O1e.exports=kTt("trimStart")?function(){return NTt(this)}:"".trimStart});var N1e=C(()=>{"use strict";var LTt=oe(),D1e=MF();LTt({target:"String",proto:!0,name:"trimStart",forced:"".trimLeft!==D1e},{trimLeft:D1e})});var L1e=C(()=>{"use strict";N1e();var RTt=oe(),k1e=MF();RTt({target:"String",proto:!0,name:"trimStart",forced:"".trimStart!==k1e},{trimStart:k1e})});var Us=C((TEr,q1e)=>{"use strict";var qTt=mt(),zTt=ii(),R1e=Pr(),jTt=/"/g,FTt=qTt("".replace);q1e.exports=function(e,t,r,n){var i=R1e(zTt(e)),o="<"+t;return r!==""&&(o+=" "+r+"=\""+FTt(R1e(n),jTt,"&quot;")+"\""),o+">"+i+"</"+t+">"}});var Vs=C((MEr,z1e)=>{"use strict";var BTt=wt();z1e.exports=function(e){return BTt(function(){var t=""[e]("\"");return t!==t.toLowerCase()||t.split("\"").length>3})}});var j1e=C(()=>{"use strict";var UTt=oe(),VTt=Us(),$Tt=Vs();UTt({target:"String",proto:!0,forced:$Tt("anchor")},{anchor:function(t){return VTt(this,"a","name",t)}})});var F1e=C(()=>{"use strict";var GTt=oe(),HTt=Us(),WTt=Vs();GTt({target:"String",proto:!0,forced:WTt("big")},{big:function(){return HTt(this,"big","","")}})});var B1e=C(()=>{"use strict";var ZTt=oe(),YTt=Us(),KTt=Vs();ZTt({target:"String",proto:!0,forced:KTt("blink")},{blink:function(){return YTt(this,"blink","","")}})});var U1e=C(()=>{"use strict";var XTt=oe(),QTt=Us(),JTt=Vs();XTt({target:"String",proto:!0,forced:JTt("bold")},{bold:function(){return QTt(this,"b","","")}})});var V1e=C(()=>{"use strict";var eMt=oe(),tMt=Us(),rMt=Vs();eMt({target:"String",proto:!0,forced:rMt("fixed")},{fixed:function(){return tMt(this,"tt","","")}})});var $1e=C(()=>{"use strict";var nMt=oe(),iMt=Us(),oMt=Vs();nMt({target:"String",proto:!0,forced:oMt("fontcolor")},{fontcolor:function(t){return iMt(this,"font","color",t)}})});var G1e=C(()=>{"use strict";var aMt=oe(),sMt=Us(),lMt=Vs();aMt({target:"String",proto:!0,forced:lMt("fontsize")},{fontsize:function(t){return sMt(this,"font","size",t)}})});var H1e=C(()=>{"use strict";var uMt=oe(),cMt=Us(),pMt=Vs();uMt({target:"String",proto:!0,forced:pMt("italics")},{italics:function(){return cMt(this,"i","","")}})});var W1e=C(()=>{"use strict";var fMt=oe(),dMt=Us(),hMt=Vs();fMt({target:"String",proto:!0,forced:hMt("link")},{link:function(t){return dMt(this,"a","href",t)}})});var Z1e=C(()=>{"use strict";var mMt=oe(),gMt=Us(),vMt=Vs();mMt({target:"String",proto:!0,forced:vMt("small")},{small:function(){return gMt(this,"small","","")}})});var Y1e=C(()=>{"use strict";var yMt=oe(),_Mt=Us(),bMt=Vs();yMt({target:"String",proto:!0,forced:bMt("strike")},{strike:function(){return _Mt(this,"strike","","")}})});var K1e=C(()=>{"use strict";var xMt=oe(),wMt=Us(),SMt=Vs();xMt({target:"String",proto:!0,forced:SMt("sub")},{sub:function(){return wMt(this,"sub","","")}})});var X1e=C(()=>{"use strict";var IMt=oe(),EMt=Us(),TMt=Vs();IMt({target:"String",proto:!0,forced:TMt("sup")},{sup:function(){return EMt(this,"sup","","")}})});var OA=C((eTr,J1e)=>{"use strict";var Q1e=Rt(),CF=wt(),MMt=sw(),CMt=Wr().NATIVE_ARRAY_BUFFER_VIEWS,AMt=Q1e.ArrayBuffer,hg=Q1e.Int8Array;J1e.exports=!CMt||!CF(function(){hg(1)})||!CF(function(){new hg(-1)})||!MMt(function(e){new hg,new hg(null),new hg(1.5),new hg(e)},!0)||CF(function(){return new hg(new AMt(2),1,void 0).length!==1})});var AF=C((tTr,e_e)=>{"use strict";var PMt=u0(),OMt=RangeError;e_e.exports=function(e,t){var r=PMt(e);if(r%t)throw new OMt("Wrong offset");return r}});var PF=C((rTr,t_e)=>{"use strict";var DMt=Math.round;t_e.exports=function(e){var t=DMt(e);return t<0?0:t>255?255:t&255}});var DA=C((nTr,r_e)=>{"use strict";var NMt=ps();r_e.exports=function(e){var t=NMt(e);return t==="BigInt64Array"||t==="BigUint64Array"}});var Zw=C((iTr,n_e)=>{"use strict";var kMt=Vx(),LMt=TypeError;n_e.exports=function(e){var t=kMt(e,"number");if(typeof t=="number")throw new LMt("Can't convert number to bigint");return BigInt(t)}});var OF=C((oTr,i_e)=>{"use strict";var RMt=Un(),qMt=qt(),zMt=Ow(),jMt=Xr(),FMt=cn(),BMt=Bd(),UMt=Oc(),VMt=gC(),$Mt=DA(),GMt=Wr().aTypedArrayConstructor,HMt=Zw();i_e.exports=function(t){var r=zMt(this),n=jMt(t),i=arguments.length,o=i>1?arguments[1]:void 0,u=o!==void 0,f=UMt(n),m,y,w,I,M,N,z,F;if(f&&!VMt(f))for(z=BMt(n,f),F=z.next,n=[];!(N=qMt(F,z)).done;)n.push(N.value);for(u&&i>2&&(o=RMt(o,arguments[2])),y=FMt(n),w=new(GMt(r))(y),I=$Mt(w),m=0;y>m;m++)M=u?o(n[m],m):n[m],w[m]=I?HMt(M):+M;return w}});var qc=C((aTr,zF)=>{"use strict";var o_e=oe(),g_e=Rt(),a_e=qt(),WMt=fr(),ZMt=OA(),Qw=Wr(),v_e=vw(),s_e=ja(),YMt=Ls(),Yw=yo(),KMt=rA(),XMt=qs(),l_e=t0(),DF=AF(),QMt=PF(),y_e=Ac(),Kw=$r(),JMt=ps(),LF=vr(),eCt=Gp(),tCt=Wi(),rCt=sa(),NA=Vl(),nCt=Rd().f,u_e=OF(),iCt=Zi().forEach,oCt=Hd(),aCt=gi(),b_e=ti(),x_e=Bo(),c_e=Kp(),jF=On(),sCt=Fd(),RF=jF.get,lCt=jF.set,uCt=jF.enforce,w_e=b_e.f,cCt=x_e.f,NF=g_e.RangeError,S_e=v_e.ArrayBuffer,pCt=S_e.prototype,fCt=v_e.DataView,kA=Qw.NATIVE_ARRAY_BUFFER_VIEWS,p_e=Qw.TYPED_ARRAY_TAG,f_e=Qw.TypedArray,Xw=Qw.TypedArrayPrototype,qF=Qw.isTypedArray,LA="BYTES_PER_ELEMENT",kF="Wrong length",RA=function(e,t){aCt(e,t,{configurable:!0,get:function(){return RF(this)[t]}})},d_e=function(e){var t;return rCt(pCt,e)||(t=JMt(e))==="ArrayBuffer"||t==="SharedArrayBuffer"},I_e=function(e,t){return qF(e)&&!eCt(t)&&t in e&&KMt(+t)&&t>=0},h_e=function(t,r){return r=y_e(r),I_e(t,r)?YMt(2,t[r]):cCt(t,r)},m_e=function(t,r,n){return r=y_e(r),I_e(t,r)&&LF(n)&&Kw(n,"value")&&!Kw(n,"get")&&!Kw(n,"set")&&!n.configurable&&(!Kw(n,"writable")||n.writable)&&(!Kw(n,"enumerable")||n.enumerable)?(t[r]=n.value,t):w_e(t,r,n)};WMt?(kA||(x_e.f=h_e,b_e.f=m_e,RA(Xw,"buffer"),RA(Xw,"byteOffset"),RA(Xw,"byteLength"),RA(Xw,"length")),o_e({target:"Object",stat:!0,forced:!kA},{getOwnPropertyDescriptor:h_e,defineProperty:m_e}),zF.exports=function(e,t,r){var n=e.match(/\d+/)[0]/8,i=e+(r?"Clamped":"")+"Array",o="get"+e,u="set"+e,f=g_e[i],m=f,y=m&&m.prototype,w={},I=function(F,q){var R=RF(F);return R.view[o](q*n+R.byteOffset,!0)},M=function(F,q,R){var U=RF(F);U.view[u](q*n+U.byteOffset,r?QMt(R):R,!0)},N=function(F,q){w_e(F,q,{get:function(){return I(this,q)},set:function(R){return M(this,q,R)},enumerable:!0})};kA?ZMt&&(m=t(function(F,q,R,U){return s_e(F,y),sCt(function(){return LF(q)?d_e(q)?U!==void 0?new f(q,DF(R,n),U):R!==void 0?new f(q,DF(R,n)):new f(q):qF(q)?c_e(m,q):a_e(u_e,m,q):new f(l_e(q))}(),F,m)}),NA&&NA(m,f_e),iCt(nCt(f),function(F){F in m||Yw(m,F,f[F])}),m.prototype=y):(m=t(function(F,q,R,U){s_e(F,y);var Y=0,re=0,de,ce,Se;if(!LF(q))Se=l_e(q),ce=Se*n,de=new S_e(ce);else if(d_e(q)){de=q,re=DF(R,n);var qe=q.byteLength;if(U===void 0){if(qe%n)throw new NF(kF);if(ce=qe-re,ce<0)throw new NF(kF)}else if(ce=XMt(U)*n,ce+re>qe)throw new NF(kF);Se=ce/n}else return qF(q)?c_e(m,q):a_e(u_e,m,q);for(lCt(F,{buffer:de,byteOffset:re,byteLength:ce,length:Se,view:new fCt(de)});Y<Se;)N(F,Y++)}),NA&&NA(m,f_e),y=m.prototype=tCt(Xw)),y.constructor!==m&&Yw(y,"constructor",m),uCt(y).TypedArrayConstructor=m,p_e&&Yw(y,p_e,i);var z=m!==f;w[i]=m,o_e({global:!0,constructor:!0,forced:z,sham:!kA},w),LA in m||Yw(m,LA,n),LA in y||Yw(y,LA,n),oCt(i)}):zF.exports=function(){}});var E_e=C(()=>{"use strict";var dCt=qc();dCt("Float32",function(e){return function(r,n,i){return e(this,r,n,i)}})});var T_e=C(()=>{"use strict";var hCt=qc();hCt("Float64",function(e){return function(r,n,i){return e(this,r,n,i)}})});var M_e=C(()=>{"use strict";var mCt=qc();mCt("Int8",function(e){return function(r,n,i){return e(this,r,n,i)}})});var C_e=C(()=>{"use strict";var gCt=qc();gCt("Int16",function(e){return function(r,n,i){return e(this,r,n,i)}})});var A_e=C(()=>{"use strict";var vCt=qc();vCt("Int32",function(e){return function(r,n,i){return e(this,r,n,i)}})});var P_e=C(()=>{"use strict";var yCt=qc();yCt("Uint8",function(e){return function(r,n,i){return e(this,r,n,i)}})});var O_e=C(()=>{"use strict";var _Ct=qc();_Ct("Uint8",function(e){return function(r,n,i){return e(this,r,n,i)}},!0)});var D_e=C(()=>{"use strict";var bCt=qc();bCt("Uint16",function(e){return function(r,n,i){return e(this,r,n,i)}})});var N_e=C(()=>{"use strict";var xCt=qc();xCt("Uint32",function(e){return function(r,n,i){return e(this,r,n,i)}})});var FF=C(()=>{"use strict";var k_e=Wr(),wCt=cn(),SCt=mi(),ICt=k_e.aTypedArray,ECt=k_e.exportTypedArrayMethod;ECt("at",function(t){var r=ICt(this),n=wCt(r),i=SCt(t),o=i>=0?i:n+i;return o<0||o>=n?void 0:r[o]})});var R_e=C(()=>{"use strict";var TCt=mt(),L_e=Wr(),MCt=U8(),CCt=TCt(MCt),ACt=L_e.aTypedArray,PCt=L_e.exportTypedArrayMethod;PCt("copyWithin",function(t,r){return CCt(ACt(this),t,r,arguments.length>2?arguments[2]:void 0)})});var z_e=C(()=>{"use strict";var q_e=Wr(),OCt=Zi().every,DCt=q_e.aTypedArray,NCt=q_e.exportTypedArrayMethod;NCt("every",function(t){return OCt(DCt(this),t,arguments.length>1?arguments[1]:void 0)})});var F_e=C(()=>{"use strict";var j_e=Wr(),kCt=bC(),LCt=Zw(),RCt=ps(),qCt=qt(),zCt=mt(),jCt=wt(),FCt=j_e.aTypedArray,BCt=j_e.exportTypedArrayMethod,UCt=zCt("".slice),VCt=jCt(function(){var e=0;return new Int8Array(2).fill({valueOf:function(){return e++}}),e!==1});BCt("fill",function(t){var r=arguments.length;FCt(this);var n=UCt(RCt(this),0,3)==="Big"?LCt(t):+t;return qCt(kCt,this,n,r>1?arguments[1]:void 0,r>2?arguments[2]:void 0)},VCt)});var qA=C((NTr,B_e)=>{"use strict";var $Ct=Kp(),GCt=Wr().getTypedArrayConstructor;B_e.exports=function(e,t){return $Ct(GCt(e),t)}});var V_e=C(()=>{"use strict";var U_e=Wr(),HCt=Zi().filter,WCt=qA(),ZCt=U_e.aTypedArray,YCt=U_e.exportTypedArrayMethod;YCt("filter",function(t){var r=HCt(ZCt(this),t,arguments.length>1?arguments[1]:void 0);return WCt(this,r)})});var G_e=C(()=>{"use strict";var $_e=Wr(),KCt=Zi().find,XCt=$_e.aTypedArray,QCt=$_e.exportTypedArrayMethod;QCt("find",function(t){return KCt(XCt(this),t,arguments.length>1?arguments[1]:void 0)})});var W_e=C(()=>{"use strict";var H_e=Wr(),JCt=Zi().findIndex,eAt=H_e.aTypedArray,tAt=H_e.exportTypedArrayMethod;tAt("findIndex",function(t){return JCt(eAt(this),t,arguments.length>1?arguments[1]:void 0)})});var BF=C(()=>{"use strict";var Z_e=Wr(),rAt=aw().findLast,nAt=Z_e.aTypedArray,iAt=Z_e.exportTypedArrayMethod;iAt("findLast",function(t){return rAt(nAt(this),t,arguments.length>1?arguments[1]:void 0)})});var UF=C(()=>{"use strict";var Y_e=Wr(),oAt=aw().findLastIndex,aAt=Y_e.aTypedArray,sAt=Y_e.exportTypedArrayMethod;sAt("findLastIndex",function(t){return oAt(aAt(this),t,arguments.length>1?arguments[1]:void 0)})});var X_e=C(()=>{"use strict";var K_e=Wr(),lAt=Zi().forEach,uAt=K_e.aTypedArray,cAt=K_e.exportTypedArrayMethod;cAt("forEach",function(t){lAt(uAt(this),t,arguments.length>1?arguments[1]:void 0)})});var Q_e=C(()=>{"use strict";var pAt=OA(),fAt=Wr().exportTypedArrayStaticMethod,dAt=OF();fAt("from",dAt,pAt)});var ebe=C(()=>{"use strict";var J_e=Wr(),hAt=Wy().includes,mAt=J_e.aTypedArray,gAt=J_e.exportTypedArrayMethod;gAt("includes",function(t){return hAt(mAt(this),t,arguments.length>1?arguments[1]:void 0)})});var rbe=C(()=>{"use strict";var tbe=Wr(),vAt=Wy().indexOf,yAt=tbe.aTypedArray,_At=tbe.exportTypedArrayMethod;_At("indexOf",function(t){return vAt(yAt(this),t,arguments.length>1?arguments[1]:void 0)})});var sbe=C(()=>{"use strict";var bAt=Rt(),xAt=wt(),VF=mt(),ibe=Wr(),$F=cw(),wAt=xr(),GF=wAt("iterator"),nbe=bAt.Uint8Array,SAt=VF($F.values),IAt=VF($F.keys),EAt=VF($F.entries),HF=ibe.aTypedArray,zA=ibe.exportTypedArrayMethod,A0=nbe&&nbe.prototype,jA=!xAt(function(){A0[GF].call([1])}),obe=!!A0&&A0.values&&A0[GF]===A0.values&&A0.values.name==="values",abe=function(){return SAt(HF(this))};zA("entries",function(){return EAt(HF(this))},jA);zA("keys",function(){return IAt(HF(this))},jA);zA("values",abe,jA||!obe,{name:"values"});zA(GF,abe,jA||!obe,{name:"values"})});var ube=C(()=>{"use strict";var lbe=Wr(),TAt=mt(),MAt=lbe.aTypedArray,CAt=lbe.exportTypedArrayMethod,AAt=TAt([].join);CAt("join",function(t){return AAt(MAt(this),t)})});var pbe=C(()=>{"use strict";var cbe=Wr(),PAt=la(),OAt=i7(),DAt=cbe.aTypedArray,NAt=cbe.exportTypedArrayMethod;NAt("lastIndexOf",function(t){var r=arguments.length;return PAt(OAt,DAt(this),r>1?[t,arguments[1]]:[t])})});var fbe=C(()=>{"use strict";var WF=Wr(),kAt=Zi().map,LAt=WF.aTypedArray,RAt=WF.getTypedArrayConstructor,qAt=WF.exportTypedArrayMethod;qAt("map",function(t){return kAt(LAt(this),t,arguments.length>1?arguments[1]:void 0,function(r,n){return new(RAt(r))(n)})})});var hbe=C(()=>{"use strict";var dbe=Wr(),zAt=OA(),jAt=dbe.aTypedArrayConstructor,FAt=dbe.exportTypedArrayStaticMethod;FAt("of",function(){for(var t=0,r=arguments.length,n=new(jAt(this))(r);r>t;)n[t]=arguments[t++];return n},zAt)});var gbe=C(()=>{"use strict";var mbe=Wr(),BAt=pw().left,UAt=mbe.aTypedArray,VAt=mbe.exportTypedArrayMethod;VAt("reduce",function(t){var r=arguments.length;return BAt(UAt(this),t,r,r>1?arguments[1]:void 0)})});var ybe=C(()=>{"use strict";var vbe=Wr(),$At=pw().right,GAt=vbe.aTypedArray,HAt=vbe.exportTypedArrayMethod;HAt("reduceRight",function(t){var r=arguments.length;return $At(GAt(this),t,r,r>1?arguments[1]:void 0)})});var bbe=C(()=>{"use strict";var _be=Wr(),WAt=_be.aTypedArray,ZAt=_be.exportTypedArrayMethod,YAt=Math.floor;ZAt("reverse",function(){for(var t=this,r=WAt(t).length,n=YAt(r/2),i=0,o;i<n;)o=t[i],t[i++]=t[--r],t[r]=o;return t})});var Tbe=C(()=>{"use strict";var wbe=Rt(),Sbe=qt(),KF=Wr(),KAt=cn(),XAt=AF(),QAt=Xr(),Ibe=wt(),JAt=wbe.RangeError,ZF=wbe.Int8Array,xbe=ZF&&ZF.prototype,Ebe=xbe&&xbe.set,e3t=KF.aTypedArray,t3t=KF.exportTypedArrayMethod,YF=!Ibe(function(){var e=new Uint8ClampedArray(2);return Sbe(Ebe,e,{length:1,0:3},1),e[1]!==3}),r3t=YF&&KF.NATIVE_ARRAY_BUFFER_VIEWS&&Ibe(function(){var e=new ZF(2);return e.set(1),e.set("2",1),e[0]!==0||e[1]!==2});t3t("set",function(t){e3t(this);var r=XAt(arguments.length>1?arguments[1]:void 0,1),n=QAt(t);if(YF)return Sbe(Ebe,this,n,r);var i=this.length,o=KAt(n),u=0;if(o+r>i)throw new JAt("Wrong length");for(;u<o;)this[r+u]=n[u++]},!YF||r3t)});var Mbe=C(()=>{"use strict";var XF=Wr(),n3t=wt(),i3t=zs(),o3t=XF.aTypedArray,a3t=XF.getTypedArrayConstructor,s3t=XF.exportTypedArrayMethod,l3t=n3t(function(){new Int8Array(1).slice()});s3t("slice",function(t,r){for(var n=i3t(o3t(this),t,r),i=a3t(this),o=0,u=n.length,f=new i(u);u>o;)f[o]=n[o++];return f},l3t)});var Abe=C(()=>{"use strict";var Cbe=Wr(),u3t=Zi().some,c3t=Cbe.aTypedArray,p3t=Cbe.exportTypedArrayMethod;p3t("some",function(t){return u3t(c3t(this),t,arguments.length>1?arguments[1]:void 0)})});var Lbe=C(()=>{"use strict";var f3t=Rt(),d3t=qd(),QF=wt(),h3t=Ir(),m3t=CC(),kbe=Wr(),Pbe=s7(),g3t=l7(),Obe=Du(),Dbe=AC(),v3t=kbe.aTypedArray,y3t=kbe.exportTypedArrayMethod,Jw=f3t.Uint16Array,P0=Jw&&d3t(Jw.prototype.sort),_3t=!!P0&&!(QF(function(){P0(new Jw(2),null)})&&QF(function(){P0(new Jw(2),{})})),Nbe=!!P0&&!QF(function(){if(Obe)return Obe<74;if(Pbe)return Pbe<67;if(g3t)return!0;if(Dbe)return Dbe<602;var e=new Jw(516),t=Array(516),r,n;for(r=0;r<516;r++)n=r%4,e[r]=515-r,t[r]=r-2*n+3;for(P0(e,function(i,o){return(i/4|0)-(o/4|0)}),r=0;r<516;r++)if(e[r]!==t[r])return!0}),b3t=function(e){return function(t,r){return e!==void 0?+e(t,r)||0:r!==r?-1:t!==t?1:t===0&&r===0?1/t>0&&1/r<0?1:-1:t>r}};y3t("sort",function(t){return t!==void 0&&h3t(t),Nbe?P0(this,t):m3t(v3t(this),b3t(t))},!Nbe||_3t)});var qbe=C(()=>{"use strict";var JF=Wr(),x3t=qs(),Rbe=ku(),w3t=JF.aTypedArray,S3t=JF.getTypedArrayConstructor,I3t=JF.exportTypedArrayMethod;I3t("subarray",function(t,r){var n=w3t(this),i=n.length,o=Rbe(t,i),u=S3t(n);return new u(n.buffer,n.byteOffset+o*n.BYTES_PER_ELEMENT,x3t((r===void 0?i:Rbe(r,i))-o))})});var Ube=C(()=>{"use strict";var E3t=Rt(),T3t=la(),Fbe=Wr(),eB=wt(),zbe=zs(),FA=E3t.Int8Array,jbe=Fbe.aTypedArray,M3t=Fbe.exportTypedArrayMethod,Bbe=[].toLocaleString,C3t=!!FA&&eB(function(){Bbe.call(new FA(1))}),A3t=eB(function(){return[1,2].toLocaleString()!==new FA([1,2]).toLocaleString()})||!eB(function(){FA.prototype.toLocaleString.call([1,2])});M3t("toLocaleString",function(){return T3t(Bbe,C3t?zbe(jbe(this)):jbe(this),zbe(arguments))},A3t)});var rB=C(()=>{"use strict";var P3t=p7(),tB=Wr(),O3t=tB.aTypedArray,D3t=tB.exportTypedArrayMethod,N3t=tB.getTypedArrayConstructor;D3t("toReversed",function(){return P3t(O3t(this),N3t(this))})});var nB=C(()=>{"use strict";var BA=Wr(),k3t=mt(),L3t=Ir(),R3t=Kp(),q3t=BA.aTypedArray,z3t=BA.getTypedArrayConstructor,j3t=BA.exportTypedArrayMethod,F3t=k3t(BA.TypedArrayPrototype.sort);j3t("toSorted",function(t){t!==void 0&&L3t(t);var r=q3t(this),n=R3t(z3t(r),r);return F3t(n,t)})});var $be=C(()=>{"use strict";var B3t=Wr().exportTypedArrayMethod,U3t=wt(),V3t=Rt(),$3t=mt(),Vbe=V3t.Uint8Array,G3t=Vbe&&Vbe.prototype||{},UA=[].toString,H3t=$3t([].join);U3t(function(){UA.call({})})&&(UA=function(){return H3t(this)});var W3t=G3t.toString!==UA;B3t("toString",UA,W3t)});var oB=C(()=>{"use strict";var Z3t=g7(),iB=Wr(),Y3t=DA(),K3t=mi(),X3t=Zw(),Q3t=iB.aTypedArray,J3t=iB.getTypedArrayConstructor,e5t=iB.exportTypedArrayMethod,t5t=!!function(){try{new Int8Array(1).with(2,{valueOf:function(){throw 8}})}catch(e){return e===8}}();e5t("with",function(e,t){var r=Q3t(this),n=K3t(e),i=Y3t(r)?X3t(t):+t;return Z3t(r,J3t(r),n,i)},!t5t)});var Ybe=C(()=>{"use strict";var r5t=oe(),aB=mt(),n5t=Pr(),Gbe=String.fromCharCode,Hbe=aB("".charAt),Wbe=aB(/./.exec),Zbe=aB("".slice),i5t=/^[\da-f]{2}$/i,o5t=/^[\da-f]{4}$/i;r5t({global:!0},{unescape:function(t){for(var r=n5t(t),n="",i=r.length,o=0,u,f;o<i;){if(u=Hbe(r,o++),u==="%"){if(Hbe(r,o)==="u"){if(f=Zbe(r,o+1,o+5),Wbe(o5t,f)){n+=Gbe(parseInt(f,16)),o+=5;continue}}else if(f=Zbe(r,o,o+2),Wbe(i5t,f)){n+=Gbe(parseInt(f,16)),o+=2;continue}}n+=u}return n}})});var uB=C((RMr,txe)=>{"use strict";var a5t=mt(),Kbe=Hl(),VA=Jd().getWeakData,s5t=ja(),l5t=jt(),u5t=Rs(),sB=vr(),c5t=Di(),Qbe=Zi(),Xbe=$r(),Jbe=On(),p5t=Jbe.set,f5t=Jbe.getterFor,d5t=Qbe.find,h5t=Qbe.findIndex,m5t=a5t([].splice),g5t=0,$A=function(e){return e.frozen||(e.frozen=new exe)},exe=function(){this.entries=[]},lB=function(e,t){return d5t(e.entries,function(r){return r[0]===t})};exe.prototype={get:function(e){var t=lB(this,e);if(t)return t[1]},has:function(e){return!!lB(this,e)},set:function(e,t){var r=lB(this,e);r?r[1]=t:this.entries.push([e,t])},delete:function(e){var t=h5t(this.entries,function(r){return r[0]===e});return~t&&m5t(this.entries,t,1),!!~t}};txe.exports={getConstructor:function(e,t,r,n){var i=e(function(m,y){s5t(m,o),p5t(m,{type:t,id:g5t++,frozen:null}),u5t(y)||c5t(y,m[n],{that:m,AS_ENTRIES:r})}),o=i.prototype,u=f5t(t),f=function(m,y,w){var I=u(m),M=VA(l5t(y),!0);return M===!0?$A(I).set(y,w):M[I.id]=w,m};return Kbe(o,{delete:function(m){var y=u(this);if(!sB(m))return!1;var w=VA(m);return w===!0?$A(y).delete(m):w&&Xbe(w,y.id)&&delete w[y.id]},has:function(y){var w=u(this);if(!sB(y))return!1;var I=VA(y);return I===!0?$A(w).has(y):I&&Xbe(I,w.id)}}),Kbe(o,r?{get:function(y){var w=u(this);if(sB(y)){var I=VA(y);if(I===!0)return $A(w).get(y);if(I)return I[w.id]}},set:function(y,w){return f(this,y,w)}}:{add:function(y){return f(this,y,!0)}}),i}}});var uxe=C(()=>{"use strict";var v5t=tf(),rxe=Rt(),ZA=mt(),nxe=Hl(),y5t=Jd(),_5t=xw(),ixe=uB(),GA=vr(),HA=On().enforce,b5t=wt(),x5t=$q(),r2=Object,w5t=Array.isArray,WA=r2.isExtensible,oxe=r2.isFrozen,S5t=r2.isSealed,axe=r2.freeze,I5t=r2.seal,E5t=!rxe.ActiveXObject&&"ActiveXObject"in rxe,e2,sxe=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},lxe=_5t("WeakMap",sxe,ixe),O0=lxe.prototype,YA=ZA(O0.set),T5t=function(){return v5t&&b5t(function(){var e=axe([]);return YA(new lxe,e,1),!oxe(e)})};x5t&&(E5t?(e2=ixe.getConstructor(sxe,"WeakMap",!0),y5t.enable(),cB=ZA(O0.delete),t2=ZA(O0.has),pB=ZA(O0.get),nxe(O0,{delete:function(e){if(GA(e)&&!WA(e)){var t=HA(this);return t.frozen||(t.frozen=new e2),cB(this,e)||t.frozen.delete(e)}return cB(this,e)},has:function(t){if(GA(t)&&!WA(t)){var r=HA(this);return r.frozen||(r.frozen=new e2),t2(this,t)||r.frozen.has(t)}return t2(this,t)},get:function(t){if(GA(t)&&!WA(t)){var r=HA(this);return r.frozen||(r.frozen=new e2),t2(this,t)?pB(this,t):r.frozen.get(t)}return pB(this,t)},set:function(t,r){if(GA(t)&&!WA(t)){var n=HA(this);n.frozen||(n.frozen=new e2),t2(this,t)?YA(this,t,r):n.frozen.set(t,r)}else YA(this,t,r);return this}})):T5t()&&nxe(O0,{set:function(t,r){var n;return w5t(t)&&(oxe(t)?n=axe:S5t(t)&&(n=I5t)),YA(this,t,r),n&&n(t),this}}));var cB,t2,pB});var KA=C(()=>{"use strict";uxe()});var cxe=C(()=>{"use strict";var M5t=xw(),C5t=uB();M5t("WeakSet",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},C5t)});var pxe=C(()=>{"use strict";cxe()});var fxe=C(()=>{"use strict";R8()});var mxe=C(()=>{"use strict";var A5t=oe(),P5t=Rt(),O5t=sa(),dxe=_o(),QA=Vl(),D5t=Km(),hxe=Wi(),XA=yo(),fB=Ls(),N5t=fC(),k5t=tg(),L5t=xr(),R5t=wt(),q5t=yn(),D0=P5t.SuppressedError,z5t=L5t("toStringTag"),JA=Error,j5t=!!D0&&D0.length!==3,F5t=!!D0&&R5t(function(){return new D0(1,2,3,{cause:4}).cause===4}),e3=j5t||F5t,mg=function(t,r,n){var i=O5t(n2,this),o;return QA?o=e3&&(!i||dxe(this)===n2)?new D0:QA(new JA,i?dxe(this):n2):(o=i?this:hxe(n2),XA(o,z5t,"Error")),n!==void 0&&XA(o,"message",k5t(n)),N5t(o,mg,o.stack,1),XA(o,"error",t),XA(o,"suppressed",r),o};QA?QA(mg,JA):D5t(mg,JA,{name:!0});var n2=mg.prototype=e3?D0.prototype:hxe(JA.prototype,{constructor:fB(1,mg),message:fB(1,""),name:fB(1,"SuppressedError")});e3&&!q5t&&(n2.constructor=mg);A5t({global:!0,constructor:!0,arity:3,forced:e3},{SuppressedError:mg})});var N0=C((YMr,Sxe)=>{"use strict";var bxe=Rt(),xxe=Ux(),wxe=jr(),B5t=Wi(),t3=_o(),U5t=Ln(),V5t=xr(),$5t=yn(),gxe="USE_FUNCTION_CONSTRUCTOR",vxe=V5t("asyncIterator"),yxe=bxe.AsyncIterator,_xe=xxe.AsyncIteratorPrototype,zc,dB;if(_xe)zc=_xe;else if(wxe(yxe))zc=yxe.prototype;else if(xxe[gxe]||bxe[gxe])try{dB=t3(t3(t3(Function("return async function*(){}()")()))),t3(dB)===Object.prototype&&(zc=dB)}catch(e){}zc?$5t&&(zc=B5t(zc)):zc={};wxe(zc[vxe])||U5t(zc,vxe,function(){return this});Sxe.exports=zc});var i2=C((KMr,Dxe)=>{"use strict";var Ixe=qt(),Exe=jt(),G5t=Wi(),H5t=Hi(),W5t=Hl(),Cxe=On(),Z5t=Vo(),Y5t=Sr(),K5t=N0(),Axe=Po(),hB=Y5t("Promise"),Pxe="AsyncFromSyncIterator",X5t=Cxe.set,Txe=Cxe.getterFor(Pxe),Mxe=function(e,t,r,n,i){var o=e.done;hB.resolve(e.value).then(function(u){t(Axe(u,o))},function(u){if(!o&&i)try{Z5t(n,"throw",u)}catch(f){u=f}r(u)})},Oxe=function(t){t.type=Pxe,X5t(this,t)};Oxe.prototype=W5t(G5t(K5t),{next:function(){var t=Txe(this);return new hB(function(r,n){var i=Exe(Ixe(t.next,t.iterator));Mxe(i,r,n,t.iterator,!0)})},return:function(){var e=Txe(this).iterator;return new hB(function(t,r){var n=H5t(e,"return");if(n===void 0)return t(Axe(void 0,!0));var i=Exe(Ixe(n,e));Mxe(i,t,r,e)})}});Dxe.exports=Oxe});var kxe=C((XMr,Nxe)=>{"use strict";var Q5t=qt(),J5t=i2(),e4t=jt(),t4t=Bd(),r4t=Ei(),n4t=Hi(),i4t=xr(),o4t=i4t("asyncIterator");Nxe.exports=function(e,t){var r=arguments.length<2?n4t(e,o4t):t;return r?e4t(Q5t(r,e)):new J5t(r4t(t4t(e)))}});var k0=C((QMr,Lxe)=>{"use strict";var a4t=qt(),s4t=Sr(),l4t=Hi();Lxe.exports=function(e,t,r,n){try{var i=l4t(e,"return");if(i)return s4t("Promise").resolve(a4t(i,e)).then(function(){t(r)},function(o){n(o)})}catch(o){return n(o)}t(r)}});var gg=C((JMr,Rxe)=>{"use strict";var u4t=qt(),c4t=Ir(),mB=jt(),p4t=vr(),f4t=Ud(),d4t=Sr(),h4t=Ei(),gB=k0(),o2=function(e){var t=e===0,r=e===1,n=e===2,i=e===3;return function(o,u,f){mB(o);var m=u!==void 0;(m||!t)&&c4t(u);var y=h4t(o),w=d4t("Promise"),I=y.iterator,M=y.next,N=0;return new w(function(z,F){var q=function(U){gB(I,F,U,F)},R=function(){try{if(m)try{f4t(N)}catch(U){q(U)}w.resolve(mB(u4t(M,I))).then(function(U){try{if(mB(U).done)t?(f.length=N,z(f)):z(i?!1:n||void 0);else{var Y=U.value;try{if(m){var re=u(Y,N),de=function(ce){if(r)R();else if(n)ce?R():gB(I,z,!1,F);else if(t)try{f[N++]=ce,R()}catch(Se){q(Se)}else ce?gB(I,z,i||Y,F):R()};p4t(re)?w.resolve(re).then(de,q):de(re)}else f[N++]=Y,R()}catch(ce){q(ce)}}}catch(ce){F(ce)}},F)}catch(U){F(U)}};R()})}};Rxe.exports={toArray:o2(0),forEach:o2(1),every:o2(2),some:o2(3),find:o2(4)}});var vB=C((eCr,Fxe)=>{"use strict";var m4t=Un(),qxe=mt(),g4t=Xr(),v4t=Ru(),y4t=kxe(),_4t=Bd(),b4t=Ei(),x4t=Oc(),w4t=Hi(),S4t=Sr(),I4t=d7(),E4t=xr(),T4t=i2(),M4t=gg().toArray,C4t=E4t("asyncIterator"),zxe=qxe(I4t("Array","values")),A4t=qxe(zxe([]).next),P4t=function(){return new jxe(this)},jxe=function(e){this.iterator=zxe(e)};jxe.prototype.next=function(){return A4t(this.iterator)};Fxe.exports=function(t){var r=this,n=arguments.length,i=n>1?arguments[1]:void 0,o=n>2?arguments[2]:void 0;return new(S4t("Promise"))(function(u){var f=g4t(t);i!==void 0&&(i=m4t(i,o));var m=w4t(f,C4t),y=m?void 0:x4t(f)||P4t,w=v4t(r)?new r:[],I=m?y4t(f,m):new T4t(b4t(_4t(f,y)));u(M4t(I,i,w))})}});var Uxe=C(()=>{"use strict";var O4t=oe(),D4t=vB(),N4t=wt(),Bxe=Array.fromAsync,k4t=!Bxe||N4t(function(){var e=0;return Bxe.call(function(){return e++,[]},{length:0}),e!==1});O4t({target:"Array",stat:!0,forced:k4t},{fromAsync:D4t})});var Vxe=C(()=>{"use strict";F8()});var $xe=C(()=>{"use strict";var L4t=oe(),R4t=Zi().filterReject,q4t=Ni();L4t({target:"Array",proto:!0,forced:!0},{filterOut:function(t){return R4t(this,t,arguments.length>1?arguments[1]:void 0)}});q4t("filterOut")});var Gxe=C(()=>{"use strict";var z4t=oe(),j4t=Zi().filterReject,F4t=Ni();z4t({target:"Array",proto:!0,forced:!0},{filterReject:function(t){return j4t(this,t,arguments.length>1?arguments[1]:void 0)}});F4t("filterReject")});var Hxe=C(()=>{"use strict";G8()});var Wxe=C(()=>{"use strict";H8()});var r3=C((dCr,Zxe)=>{"use strict";var B4t=Un(),U4t=mt(),V4t=$p(),$4t=Xr(),G4t=Ac(),H4t=cn(),W4t=Wi(),Z4t=Kp(),Y4t=Array,K4t=U4t([].push);Zxe.exports=function(e,t,r,n){for(var i=$4t(e),o=V4t(i),u=B4t(t,r),f=W4t(null),m=H4t(o),y=0,w,I,M;m>y;y++)M=o[y],I=G4t(u(M,y,i)),I in f?K4t(f[I],M):f[I]=[M];if(n&&(w=n(i),w!==Y4t))for(I in f)f[I]=Z4t(w,f[I]);return f}});var Yxe=C(()=>{"use strict";var X4t=oe(),Q4t=r3(),J4t=Ni();X4t({target:"Array",proto:!0},{group:function(t){var r=arguments.length>1?arguments[1]:void 0;return Q4t(this,t,r)}});J4t("group")});var Kxe=C(()=>{"use strict";var ePt=oe(),tPt=r3(),rPt=Gl(),nPt=Ni();ePt({target:"Array",proto:!0,forced:!rPt("groupBy")},{groupBy:function(t){var r=arguments.length>1?arguments[1]:void 0;return tPt(this,t,r)}});nPt("groupBy")});var yB=C((yCr,Xxe)=>{"use strict";var iPt=Un(),oPt=mt(),aPt=$p(),sPt=Xr(),lPt=cn(),n3=Oo(),uPt=n3.Map,cPt=n3.get,pPt=n3.has,fPt=n3.set,dPt=oPt([].push);Xxe.exports=function(t){for(var r=sPt(this),n=aPt(r),i=iPt(t,arguments.length>1?arguments[1]:void 0),o=new uPt,u=lPt(n),f=0,m,y;u>f;f++)y=n[f],m=i(y,f,r),pPt(o,m)?dPt(cPt(o,m),y):fPt(o,m,[y]);return o}});var Qxe=C(()=>{"use strict";var hPt=oe(),mPt=Gl(),gPt=Ni(),vPt=yB(),yPt=yn();hPt({target:"Array",proto:!0,name:"groupToMap",forced:yPt||!mPt("groupByToMap")},{groupByToMap:vPt});gPt("groupByToMap")});var Jxe=C(()=>{"use strict";var _Pt=oe(),bPt=Ni(),xPt=yB(),wPt=yn();_Pt({target:"Array",proto:!0,forced:wPt},{groupToMap:xPt});bPt("groupToMap")});var rwe=C(()=>{"use strict";var SPt=oe(),IPt=Lu(),ewe=Object.isFrozen,twe=function(e,t){if(!ewe||!IPt(e)||!ewe(e))return!1;for(var r=0,n=e.length,i;r<n;)if(i=e[r++],!(typeof i=="string"||t&&i===void 0))return!1;return n!==0};SPt({target:"Array",stat:!0,sham:!0,forced:!0},{isTemplateObject:function(t){if(!twe(t,!0))return!1;var r=t.raw;return r.length===t.length&&twe(r,!1)}})});var nwe=C(()=>{"use strict";var EPt=fr(),TPt=Ni(),MPt=Xr(),CPt=cn(),APt=gi();EPt&&(APt(Array.prototype,"lastIndex",{configurable:!0,get:function(){var t=MPt(this),r=CPt(t);return r===0?0:r-1}}),TPt("lastIndex"))});var awe=C(()=>{"use strict";var PPt=fr(),OPt=Ni(),iwe=Xr(),owe=cn(),DPt=gi();PPt&&(DPt(Array.prototype,"lastItem",{configurable:!0,get:function(){var t=iwe(this),r=owe(t);return r===0?void 0:t[r-1]},set:function(t){var r=iwe(this),n=owe(r);return r[n===0?0:n-1]=t}}),OPt("lastItem"))});var swe=C(()=>{"use strict";f7()});var lwe=C(()=>{"use strict";h7()});var uwe=C(()=>{"use strict";m7()});var Wl=C((LCr,hwe)=>{"use strict";var cwe=mt(),NPt=nf(),pwe=Oo(),kPt=pwe.Map,fwe=pwe.proto,LPt=cwe(fwe.forEach),dwe=cwe(fwe.entries),RPt=dwe(new kPt).next;hwe.exports=function(e,t,r){return r?NPt({iterator:dwe(e),next:RPt},function(n){return t(n[1],n[0])}):LPt(e,t)}});var i3=C((RCr,mwe)=>{"use strict";var qPt=mt(),zPt=Ir(),jPt=Rs(),FPt=cn(),BPt=Xr(),_B=Oo(),UPt=Wl(),VPt=_B.Map,$Pt=_B.has,GPt=_B.set,HPt=qPt([].push);mwe.exports=function(t){var r=BPt(this),n=FPt(r),i=[],o=new VPt,u=jPt(t)?function(w){return w}:zPt(t),f,m,y;for(f=0;f<n;f++)m=r[f],y=u(m),$Pt(o,y)||GPt(o,y,m);return UPt(o,function(w){HPt(i,w)}),i}});var gwe=C(()=>{"use strict";var WPt=oe(),ZPt=Ni(),YPt=i3();WPt({target:"Array",proto:!0,forced:!0},{uniqueBy:YPt});ZPt("uniqueBy")});var vwe=C(()=>{"use strict";v7()});var ywe=C(()=>{"use strict";$7()});var _we=C(()=>{"use strict";o9()});var bwe=C(()=>{"use strict";a9()});var xB=C((WCr,Ewe)=>{"use strict";var KPt=Sr(),XPt=qt(),QPt=mt(),JPt=Un(),eOt=jt(),tOt=Ir(),Swe=Rs(),bB=Hi(),Iwe=xr(),rOt=Iwe("asyncDispose"),xwe=Iwe("dispose"),nOt=QPt([].push),iOt=function(e,t){if(t==="async-dispose"){var r=bB(e,rOt);return r!==void 0||(r=bB(e,xwe),r===void 0)?r:function(){var n=this,i=KPt("Promise");return new i(function(o){XPt(r,n),o(void 0)})}}return bB(e,xwe)},wwe=function(e,t,r){return arguments.length<3&&!Swe(e)&&(r=tOt(iOt(eOt(e),t))),r===void 0?function(){}:JPt(r,e)};Ewe.exports=function(e,t,r,n){var i;if(arguments.length<4){if(Swe(t)&&r==="sync-dispose")return;i=wwe(t,r)}else i=wwe(void 0,r,n);nOt(e.stack,i)}});var Nwe=C(()=>{"use strict";var oOt=oe(),a3=fr(),Awe=Sr(),Twe=Ir(),aOt=ja(),Pwe=Ln(),sOt=Hl(),lOt=gi(),Owe=xr(),Dwe=On(),wB=xB(),Mwe=Du(),Cwe=Awe("Promise"),uOt=Awe("SuppressedError"),cOt=ReferenceError,pOt=Owe("asyncDispose"),fOt=Owe("toStringTag"),l3="AsyncDisposableStack",dOt=Dwe.set,s3=Dwe.getterFor(l3),SB="async-dispose",a2="disposed",hOt="pending",o3=function(e){var t=s3(e);if(t.state===a2)throw new cOt(l3+" already disposed");return t},IB=function(){dOt(aOt(this,L0),{type:l3,state:hOt,stack:[]}),a3||(this.disposed=!1)},L0=IB.prototype;sOt(L0,{disposeAsync:function(){var t=this;return new Cwe(function(r,n){var i=s3(t);if(i.state===a2)return r(void 0);i.state=a2,a3||(t.disposed=!0);var o=i.stack,u=o.length,f=!1,m,y=function(I){f?m=new uOt(I,m):(f=!0,m=I),w()},w=function(){if(u){var I=o[--u];o[u]=null;try{Cwe.resolve(I()).then(w,y)}catch(M){y(M)}}else i.stack=null,f?n(m):r(void 0)};w()})},use:function(t){return wB(o3(this),t,SB),t},adopt:function(t,r){var n=o3(this);return Twe(r),wB(n,void 0,SB,function(){return r(t)}),t},defer:function(t){var r=o3(this);Twe(t),wB(r,void 0,SB,t)},move:function(){var t=o3(this),r=new IB;return s3(r).stack=t.stack,t.stack=[],t.state=a2,a3||(this.disposed=!0),r}});a3&&lOt(L0,"disposed",{configurable:!0,get:function(){return s3(this).state===a2}});Pwe(L0,pOt,L0.disposeAsync,{name:"disposeAsync"});Pwe(L0,fOt,l3,{nonWritable:!0});var mOt=Mwe&&Mwe<136;oOt({global:!0,constructor:!0,forced:mOt},{AsyncDisposableStack:IB})});var zwe=C(()=>{"use strict";var gOt=oe(),vOt=ja(),yOt=_o(),Lwe=yo(),Rwe=$r(),_Ot=xr(),ah=N0(),qwe=yn(),kwe=_Ot("toStringTag"),bOt=TypeError,EB=function(){if(vOt(this,ah),yOt(this)===ah)throw new bOt("Abstract class AsyncIterator not directly constructable")};EB.prototype=ah;Rwe(ah,kwe)||Lwe(ah,kwe,"AsyncIterator");(qwe||!Rwe(ah,"constructor")||ah.constructor===Object)&&Lwe(ah,"constructor",EB);gOt({global:!0,constructor:!0,forced:qwe},{AsyncIterator:EB})});var vg=C((QCr,Hwe)=>{"use strict";var xOt=qt(),u3=eh(),jwe=jt(),wOt=Wi(),SOt=yo(),IOt=Hl(),EOt=xr(),Bwe=On(),TOt=Sr(),MOt=Hi(),COt=N0(),TB=Po(),Fwe=Vo(),jc=TOt("Promise"),AOt=EOt("toStringTag"),Uwe="AsyncIteratorHelper",Vwe="WrapForValidAsyncIterator",POt=Bwe.set,$we=function(e){var t=!e,r=Bwe.getterFor(e?Vwe:Uwe),n=function(i){var o=u3(function(){return r(i)}),u=o.error,f=o.value;return u||t&&f.done?{exit:!0,value:u?jc.reject(f):jc.resolve(TB(void 0,!0))}:{exit:!1,value:f}};return IOt(wOt(COt),{next:function(){var o=n(this),u=o.value;if(o.exit)return u;var f=u3(function(){return jwe(u.nextHandler(jc))}),m=f.error,y=f.value;return m&&(u.done=!0),m?jc.reject(y):jc.resolve(y)},return:function(){var i=n(this),o=i.value;if(i.exit)return o;o.done=!0;var u=o.iterator,f,m,y=u3(function(){if(o.inner)try{Fwe(o.inner.iterator,"normal")}catch(w){return Fwe(u,"throw",w)}return MOt(u,"return")});return f=m=y.value,y.error?jc.reject(m):f===void 0?jc.resolve(TB(void 0,!0)):(y=u3(function(){return xOt(f,u)}),m=y.value,y.error?jc.reject(m):e?jc.resolve(m):jc.resolve(m).then(function(w){return jwe(w),TB(void 0,!0)}))}})},OOt=$we(!0),Gwe=$we(!1);SOt(Gwe,AOt,"Async Iterator Helper");Hwe.exports=function(e,t){var r=function(i,o){o?(o.iterator=i.iterator,o.next=i.next):o=i,o.type=t?Vwe:Uwe,o.nextHandler=e,o.counter=0,o.done=!1,POt(this,o)};return r.prototype=t?OOt:Gwe,r}});var CB=C((JCr,Zwe)=>{"use strict";var DOt=qt(),NOt=Ir(),MB=jt(),kOt=vr(),LOt=Ei(),ROt=vg(),Wwe=Po(),qOt=k0(),zOt=ROt(function(e){var t=this,r=t.iterator,n=t.mapper;return new e(function(i,o){var u=function(m){t.done=!0,o(m)},f=function(m){qOt(r,u,m,u)};e.resolve(MB(DOt(t.next,r))).then(function(m){try{if(MB(m).done)t.done=!0,i(Wwe(void 0,!0));else{var y=m.value;try{var w=n(y,t.counter++),I=function(M){i(Wwe(M,!1))};kOt(w)?e.resolve(w).then(I,f):I(w)}catch(M){f(M)}}}catch(M){u(M)}},u)})});Zwe.exports=function(t){return MB(this),NOt(t),new zOt(LOt(this),{mapper:t})}});var AB=C((eAr,Ywe)=>{"use strict";var jOt=qt(),FOt=CB(),BOt=function(e,t){return[t,e]};Ywe.exports=function(){return jOt(FOt,this,BOt)}});var Kwe=C(()=>{"use strict";var UOt=oe(),VOt=AB();UOt({target:"AsyncIterator",name:"indexed",proto:!0,real:!0,forced:!0},{asIndexedPairs:VOt})});var e2e=C(()=>{"use strict";var $Ot=qt(),GOt=Ln(),HOt=Sr(),WOt=Hi(),ZOt=$r(),YOt=xr(),Xwe=N0(),Qwe=YOt("asyncDispose"),Jwe=HOt("Promise");ZOt(Xwe,Qwe)||GOt(Xwe,Qwe,function(){var e=this;return new Jwe(function(t,r){var n=WOt(e,"return");n?Jwe.resolve($Ot(n,e)).then(function(){t(void 0)},r):t(void 0)})})});var r2e=C(()=>{"use strict";var KOt=oe(),XOt=qt(),PB=jt(),QOt=Ei(),JOt=l0(),eDt=u0(),tDt=vg(),t2e=Po(),rDt=tDt(function(e){var t=this;return new e(function(r,n){var i=function(u){t.done=!0,n(u)},o=function(){try{e.resolve(PB(XOt(t.next,t.iterator))).then(function(u){try{PB(u).done?(t.done=!0,r(t2e(void 0,!0))):t.remaining?(t.remaining--,o()):r(t2e(u.value,!1))}catch(f){i(f)}},i)}catch(u){i(u)}};o()})});KOt({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{drop:function(t){PB(this);var r=eDt(JOt(+t));return new rDt(QOt(this),{remaining:r})}})});var n2e=C(()=>{"use strict";var nDt=oe(),iDt=gg().every;nDt({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{every:function(t){return iDt(this,t)}})});var o2e=C(()=>{"use strict";var oDt=oe(),aDt=qt(),sDt=Ir(),OB=jt(),lDt=vr(),uDt=Ei(),cDt=vg(),i2e=Po(),pDt=k0(),fDt=cDt(function(e){var t=this,r=t.iterator,n=t.predicate;return new e(function(i,o){var u=function(y){t.done=!0,o(y)},f=function(y){pDt(r,u,y,u)},m=function(){try{e.resolve(OB(aDt(t.next,r))).then(function(y){try{if(OB(y).done)t.done=!0,i(i2e(void 0,!0));else{var w=y.value;try{var I=n(w,t.counter++),M=function(N){N?i(i2e(w,!1)):m()};lDt(I)?e.resolve(I).then(M,f):M(I)}catch(N){f(N)}}}catch(N){u(N)}},u)}catch(y){u(y)}};m()})});oDt({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{filter:function(t){return OB(this),sDt(t),new fDt(uDt(this),{predicate:t})}})});var a2e=C(()=>{"use strict";var dDt=oe(),hDt=gg().find;dDt({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{find:function(t){return hDt(this,t)}})});var DB=C((dAr,u2e)=>{"use strict";var mDt=qt(),gDt=jr(),s2e=jt(),l2e=Ei(),vDt=Oc(),yDt=Hi(),_Dt=xr(),bDt=i2(),xDt=_Dt("asyncIterator");u2e.exports=function(e){var t=s2e(e),r=!0,n=yDt(t,xDt),i;return gDt(n)||(n=vDt(t),r=!1),n!==void 0?i=mDt(n,t):(i=t,r=!0),s2e(i),l2e(r?i:new bDt(l2e(i)))}});var f2e=C(()=>{"use strict";var wDt=oe(),c2e=qt(),SDt=Ir(),s2=jt(),IDt=vr(),EDt=Ei(),TDt=vg(),p2e=Po(),MDt=DB(),CDt=k0(),ADt=TDt(function(e){var t=this,r=t.iterator,n=t.mapper;return new e(function(i,o){var u=function(w){t.done=!0,o(w)},f=function(w){CDt(r,u,w,u)},m=function(){try{e.resolve(s2(c2e(t.next,r))).then(function(w){try{if(s2(w).done)t.done=!0,i(p2e(void 0,!0));else{var I=w.value;try{var M=n(I,t.counter++),N=function(z){try{t.inner=MDt(z),y()}catch(F){f(F)}};IDt(M)?e.resolve(M).then(N,f):N(M)}catch(z){f(z)}}}catch(z){u(z)}},u)}catch(w){u(w)}},y=function(){var w=t.inner;if(w)try{e.resolve(s2(c2e(w.next,w.iterator))).then(function(I){try{s2(I).done?(t.inner=null,m()):i(p2e(I.value,!1))}catch(M){f(M)}},f)}catch(I){f(I)}else m()};y()})});wDt({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{flatMap:function(t){return s2(this),SDt(t),new ADt(EDt(this),{mapper:t,inner:null})}})});var d2e=C(()=>{"use strict";var PDt=oe(),ODt=gg().forEach;PDt({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{forEach:function(t){return ODt(this,t)}})});var NB=C((yAr,h2e)=>{"use strict";var DDt=qt(),NDt=vg();h2e.exports=NDt(function(){return DDt(this.next,this.iterator)},!0)});var m2e=C(()=>{"use strict";var kDt=oe(),LDt=Xr(),RDt=sa(),qDt=DB(),zDt=N0(),jDt=NB();kDt({target:"AsyncIterator",stat:!0,forced:!0},{from:function(t){var r=qDt(typeof t=="string"?LDt(t):t);return RDt(zDt,r.iterator)?r.iterator:new jDt(r)}})});var g2e=C(()=>{"use strict";var FDt=oe(),BDt=AB();FDt({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{indexed:BDt})});var v2e=C(()=>{"use strict";var UDt=oe(),VDt=CB();UDt({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{map:VDt})});var y2e=C(()=>{"use strict";var $Dt=oe(),GDt=qt(),HDt=Ir(),kB=jt(),WDt=vr(),ZDt=Sr(),YDt=Ei(),KDt=k0(),LB=ZDt("Promise"),XDt=TypeError;$Dt({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{reduce:function(t){kB(this),HDt(t);var r=YDt(this),n=r.iterator,i=r.next,o=arguments.length<2,u=o?void 0:arguments[1],f=0;return new LB(function(m,y){var w=function(M){KDt(n,y,M,y)},I=function(){try{LB.resolve(kB(GDt(i,n))).then(function(M){try{if(kB(M).done)o?y(new XDt("Reduce of empty iterator with no initial value")):m(u);else{var N=M.value;if(o)o=!1,u=N,I();else try{var z=t(u,N,f),F=function(q){u=q,I()};WDt(z)?LB.resolve(z).then(F,w):F(z)}catch(q){w(q)}}f++}catch(q){y(q)}},y)}catch(M){y(M)}};I()})}})});var _2e=C(()=>{"use strict";var QDt=oe(),JDt=gg().some;QDt({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{some:function(t){return JDt(this,t)}})});var w2e=C(()=>{"use strict";var eNt=oe(),b2e=qt(),x2e=jt(),tNt=Ei(),rNt=l0(),nNt=u0(),iNt=vg(),RB=Po(),oNt=iNt(function(e){var t=this,r=t.iterator,n;if(!t.remaining--){var i=RB(void 0,!0);return t.done=!0,n=r.return,n!==void 0?e.resolve(b2e(n,r,void 0)).then(function(){return i}):i}return e.resolve(b2e(t.next,r)).then(function(o){return x2e(o).done?(t.done=!0,RB(void 0,!0)):RB(o.value,!1)}).then(null,function(o){throw t.done=!0,o})});eNt({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{take:function(t){x2e(this);var r=nNt(rNt(+t));return new oNt(tNt(this),{remaining:r})}})});var S2e=C(()=>{"use strict";var aNt=oe(),sNt=gg().toArray;aNt({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{toArray:function(){return sNt(this,void 0,[])}})});var p3=C((NAr,A2e)=>{"use strict";var E2e=On(),lNt=$d(),qB=Po(),uNt=Rs(),cNt=vr(),pNt=gi(),T2e=fr(),l2="Incorrect Iterator.range arguments",jB="NumericRangeIterator",fNt=E2e.set,M2e=E2e.getterFor(jB),I2e=RangeError,zB=TypeError,C2e=lNt(function(t,r,n,i,o,u){if(typeof t!=i||r!==1/0&&r!==-1/0&&typeof r!=i)throw new zB(l2);if(t===1/0||t===-1/0)throw new I2e(l2);var f=r>t,m=!1,y;if(n===void 0)y=void 0;else if(cNt(n))y=n.step,m=!!n.inclusive;else if(typeof n==i)y=n;else throw new zB(l2);if(uNt(y)&&(y=f?u:-u),typeof y!=i)throw new zB(l2);if(y===1/0||y===-1/0||y===o&&t!==r)throw new I2e(l2);var w=t!==t||r!==r||y!==y||r>t!=y>o;fNt(this,{type:jB,start:t,end:r,step:y,inclusive:m,hitsEnd:w,currentCount:o,zero:o}),T2e||(this.start=t,this.end=r,this.step=y,this.inclusive=m)},jB,function(){var t=M2e(this);if(t.hitsEnd)return qB(void 0,!0);var r=t.start,n=t.end,i=t.step,o=r+i*t.currentCount++;o===n&&(t.hitsEnd=!0);var u=t.inclusive,f;return n>r?f=u?o>n:o>=n:f=u?n>o:n>=o,f?(t.hitsEnd=!0,qB(void 0,!0)):qB(o,!1)}),c3=function(e){pNt(C2e.prototype,e,{get:function(){return M2e(this)[e]},set:function(){},configurable:!0,enumerable:!1})};T2e&&(c3("start"),c3("end"),c3("inclusive"),c3("step"));A2e.exports=C2e});var P2e=C(()=>{"use strict";var dNt=oe(),hNt=p3();typeof BigInt=="function"&&dNt({target:"BigInt",stat:!0,forced:!0},{range:function(t,r,n){return new hNt(t,r,n,"bigint",BigInt(0),BigInt(1))}})});var FB=C((RAr,k2e)=>{"use strict";XC();KA();var N2e=Sr(),mNt=Wi(),O2e=vr(),gNt=Object,vNt=TypeError,yNt=N2e("Map"),_Nt=N2e("WeakMap"),f3=function(){this.object=null,this.symbol=null,this.primitives=null,this.objectsByIndex=mNt(null)};f3.prototype.get=function(e,t){return this[e]||(this[e]=t())};f3.prototype.next=function(e,t,r){var n=r?this.objectsByIndex[e]||(this.objectsByIndex[e]=new _Nt):this.primitives||(this.primitives=new yNt),i=n.get(t);return i||n.set(t,i=new f3),i};var D2e=new f3;k2e.exports=function(){var e=D2e,t=arguments.length,r,n;for(r=0;r<t;r++)O2e(n=arguments[r])&&(e=e.next(r,n,!0));if(this===gNt&&e===D2e)throw new vNt("Composite keys must contain a non-primitive component");for(r=0;r<t;r++)O2e(n=arguments[r])||(e=e.next(r,n,!1));return e}});var R2e=C(()=>{"use strict";var bNt=oe(),xNt=la(),wNt=FB(),SNt=Sr(),L2e=Wi(),INt=Object,ENt=function(){var e=SNt("Object","freeze");return e?e(L2e(null)):L2e(null)};bNt({global:!0,forced:!0},{compositeKey:function(){return xNt(wNt,INt,arguments).get("object",ENt)}})});var z2e=C(()=>{"use strict";var TNt=oe(),MNt=FB(),q2e=Sr(),CNt=la();TNt({global:!0,forced:!0},{compositeSymbol:function(){return arguments.length===1&&typeof arguments[0]=="string"?q2e("Symbol").for(arguments[0]):CNt(MNt,null,arguments).get("symbol",q2e("Symbol"))}})});var j2e=C(()=>{"use strict";q7()});var F2e=C(()=>{"use strict";var ANt=oe(),PNt=mt(),ONt=PNt(DataView.prototype.getUint8);ANt({target:"DataView",proto:!0,forced:!0},{getUint8Clamped:function(t){return ONt(this,t)}})});var B2e=C(()=>{"use strict";B7()});var U2e=C(()=>{"use strict";var DNt=oe(),NNt=mt(),kNt=z7(),LNt=t0(),RNt=PF(),qNt=NNt(DataView.prototype.setUint8);DNt({target:"DataView",proto:!0,forced:!0},{setUint8Clamped:function(t,r){kNt(this);var n=LNt(t);return qNt(this,n,RNt(r))}})});var W2e=C(()=>{"use strict";var zNt=oe(),h3=fr(),jNt=Sr(),V2e=Ir(),FNt=ja(),$2e=Ln(),BNt=Hl(),UNt=gi(),G2e=xr(),H2e=On(),BB=xB(),VNt=jNt("SuppressedError"),$Nt=ReferenceError,GNt=G2e("dispose"),HNt=G2e("toStringTag"),g3="DisposableStack",WNt=H2e.set,m3=H2e.getterFor(g3),UB="sync-dispose",u2="disposed",ZNt="pending",d3=function(e){var t=m3(e);if(t.state===u2)throw new $Nt(g3+" already disposed");return t},VB=function(){WNt(FNt(this,R0),{type:g3,state:ZNt,stack:[]}),h3||(this.disposed=!1)},R0=VB.prototype;BNt(R0,{dispose:function(){var t=m3(this);if(t.state!==u2){t.state=u2,h3||(this.disposed=!0);for(var r=t.stack,n=r.length,i=!1,o;n;){var u=r[--n];r[n]=null;try{u()}catch(f){i?o=new VNt(f,o):(i=!0,o=f)}}if(t.stack=null,i)throw o}},use:function(t){return BB(d3(this),t,UB),t},adopt:function(t,r){var n=d3(this);return V2e(r),BB(n,void 0,UB,function(){r(t)}),t},defer:function(t){var r=d3(this);V2e(t),BB(r,void 0,UB,t)},move:function(){var t=d3(this),r=new VB;return m3(r).stack=t.stack,t.stack=[],t.state=u2,h3||(this.disposed=!0),r}});h3&&UNt(R0,"disposed",{configurable:!0,get:function(){return m3(this).state===u2}});$2e(R0,GNt,R0.dispose,{name:"dispose"});$2e(R0,HNt,g3,{nonWritable:!0});zNt({global:!0,constructor:!0},{DisposableStack:VB})});var X2e=C(()=>{"use strict";var YNt=oe(),Y2e=Sr(),KNt=vr(),XNt=ps(),QNt=wt(),K2e="Error",GB="DOMException",JNt=Object.setPrototypeOf||{}.__proto__,Z2e=Y2e(GB),$B=Error,v3=$B.isError,ekt=!v3||!JNt||QNt(function(){return Z2e&&!v3(new Z2e(GB))||!v3(new $B(K2e,{cause:function(){}}))||v3(Y2e("Object","create")($B.prototype))});YNt({target:"Error",stat:!0,sham:!0,forced:ekt},{isError:function(t){if(!KNt(t))return!1;var r=XNt(t);return r===K2e||r===GB}})});var HB=C((JAr,Q2e)=>{"use strict";var tkt=mt(),rkt=Ir();Q2e.exports=function(){return tkt(rkt(this))}});var J2e=C(()=>{"use strict";var nkt=oe(),ikt=HB();nkt({target:"Function",proto:!0,forced:!0},{demethodize:ikt})});var tSe=C(()=>{"use strict";var okt=oe(),akt=mt(),skt=jr(),lkt=Gx(),ukt=$r(),ckt=fr(),pkt=Object.getOwnPropertyDescriptor,eSe=/^\s*class\b/,fkt=akt(eSe.exec),dkt=function(e){try{if(!ckt||!fkt(eSe,lkt(e)))return!1}catch(r){}var t=pkt(e,"prototype");return!!t&&ukt(t,"writable")&&!t.writable};okt({target:"Function",stat:!0,sham:!0,forced:!0},{isCallable:function(t){return skt(t)&&!dkt(t)}})});var rSe=C(()=>{"use strict";var hkt=oe(),mkt=Ru();hkt({target:"Function",stat:!0,forced:!0},{isConstructor:mkt})});var oSe=C(()=>{"use strict";var gkt=xr(),vkt=ti().f,nSe=gkt("metadata"),iSe=Function.prototype;iSe[nSe]===void 0&&vkt(iSe,nSe,{value:null})});var aSe=C(()=>{"use strict";var ykt=oe(),_kt=HB();ykt({target:"Function",proto:!0,forced:!0,name:"demethodize"},{unThis:_kt})});var sSe=C(()=>{"use strict";d9()});var lSe=C(()=>{"use strict";y9()});var WB=C((h3r,uSe)=>{"use strict";HC();var bkt=qt(),xkt=Vd().IteratorPrototype.map,wkt=function(e,t){return[t,e]};uSe.exports=function(){return bkt(xkt,this,wkt)}});var cSe=C(()=>{"use strict";var Skt=oe(),Ikt=WB();Skt({target:"Iterator",name:"indexed",proto:!0,real:!0,forced:!0},{asIndexedPairs:Ikt})});var dSe=C(()=>{"use strict";var Ekt=oe(),pSe=qt(),Tkt=Ir(),fSe=jt(),Mkt=Oc(),Ckt=Qd(),Akt=Po(),Pkt=Array,Okt=Ckt(function(){for(;;){var e=this.iterator;if(!e){var t=this.nextIterableIndex++,r=this.iterables;if(t>=r.length)return this.done=!0,Akt(void 0,!0);var n=r[t];this.iterables[t]=null,e=this.iterator=pSe(n.method,n.iterable),this.next=e.next}var i=fSe(pSe(this.next,e));if(i.done){this.iterator=null,this.next=null;continue}return i}},!1,!0);Ekt({target:"Iterator",stat:!0,forced:!0},{concat:function(){for(var t=arguments.length,r=Pkt(t),n=0;n<t;n++){var i=fSe(arguments[n]);r[n]={iterable:i,method:Tkt(Mkt(i))}}return new Okt({iterables:r,nextIterableIndex:0,iterator:null,next:null})}})});var gSe=C(()=>{"use strict";var Dkt=qt(),Nkt=Ln(),kkt=Hi(),Lkt=$r(),Rkt=xr(),hSe=Vd().IteratorPrototype,mSe=Rkt("dispose");Lkt(hSe,mSe)||Nkt(hSe,mSe,function(){var e=kkt(this,"return");e&&Dkt(e,this)})});var vSe=C(()=>{"use strict";S9()});var ySe=C(()=>{"use strict";E9()});var _Se=C(()=>{"use strict";M9()});var bSe=C(()=>{"use strict";A9()});var xSe=C(()=>{"use strict";L9()});var wSe=C(()=>{"use strict";q9()});var SSe=C(()=>{"use strict";z9()});var ISe=C(()=>{"use strict";var qkt=oe(),zkt=WB();qkt({target:"Iterator",proto:!0,real:!0,forced:!0},{indexed:zkt})});var ESe=C(()=>{"use strict";HC()});var MSe=C(()=>{"use strict";var jkt=oe(),TSe=p3(),Fkt=TypeError;jkt({target:"Iterator",stat:!0,forced:!0},{range:function(t,r,n){if(typeof t=="number")return new TSe(t,r,n,"number",0,1);if(typeof t=="bigint")return new TSe(t,r,n,"bigint",BigInt(0),BigInt(1));throw new Fkt("Incorrect Iterator.range arguments")}})});var CSe=C(()=>{"use strict";B9()});var ASe=C(()=>{"use strict";V9()});var PSe=C(()=>{"use strict";G9()});var OSe=C(()=>{"use strict";H9()});var NSe=C(()=>{"use strict";var Bkt=oe(),Ukt=jt(),Vkt=i2(),$kt=NB(),DSe=Ei();Bkt({target:"Iterator",proto:!0,real:!0,forced:!0},{toAsync:function(){return new $kt(DSe(new Vkt(DSe(Ukt(this)))))}})});var ZB=C((X3r,kSe)=>{"use strict";var Gkt=wt();kSe.exports=!Gkt(function(){var e="9007199254740993",t=JSON.rawJSON(e);return!JSON.isRawJSON(t)||JSON.stringify(t)!==e})});var YB=C((Q3r,LSe)=>{"use strict";var Hkt=vr(),Wkt=On().get;LSe.exports=function(t){if(!Hkt(t))return!1;var r=Wkt(t);return!!r&&r.type==="RawJSON"}});var RSe=C(()=>{"use strict";var Zkt=oe(),Ykt=ZB(),Kkt=YB();Zkt({target:"JSON",stat:!0,forced:!Ykt},{isRawJSON:Kkt})});var XB=C((t5r,FSe)=>{"use strict";var KB=mt(),Xkt=$r(),y3=SyntaxError,Qkt=parseInt,Jkt=String.fromCharCode,e6t=KB("".charAt),qSe=KB("".slice),zSe=KB(/./.exec),jSe={"\\\"":"\"","\\\\":"\\","\\/":"/","\\b":"\b","\\f":"\f","\\n":`
`,"\\r":"\r","\\t":"\t"},t6t=/^[\da-f]{4}$/i,r6t=/^[\u0000-\u001F]$/;FSe.exports=function(e,t){for(var r=!0,n="";t<e.length;){var i=e6t(e,t);if(i==="\\"){var o=qSe(e,t,t+2);if(Xkt(jSe,o))n+=jSe[o],t+=2;else if(o==="\\u"){t+=2;var u=qSe(e,t,t+4);if(!zSe(t6t,u))throw new y3("Bad Unicode escape at: "+t);n+=Jkt(Qkt(u,16)),t+=4}else throw new y3("Unknown escape sequence: \""+o+"\"")}else if(i==="\""){r=!1,t++;break}else{if(zSe(r6t,i))throw new y3("Bad control character in string literal at: "+t);n+=i,t++}}if(r)throw new y3("Unterminated string at: "+t);return{value:n,end:t}}});var ZSe=C(()=>{"use strict";var n6t=oe(),i6t=fr(),oU=Rt(),o6t=Sr(),_3=mt(),a6t=qt(),HSe=jr(),s6t=vr(),l6t=Lu(),u6t=$r(),c6t=Pr(),BSe=cn(),rU=$l(),WSe=wt(),p6t=XB(),f6t=Nd(),USe=oU.JSON,d6t=oU.Number,q0=oU.SyntaxError,aU=USe&&USe.parse,h6t=o6t("Object","keys"),m6t=Object.getOwnPropertyDescriptor,ca=_3("".charAt),QB=_3("".slice),JB=_3(/./.exec),VSe=_3([].push),eU=/^\d$/,g6t=/^[1-9]$/,v6t=/^[\d-]$/,c2=/^[\t\n\r ]$/,tU=0,$Se=1,y6t=function(e,t){e=c6t(e);var r=new iU(e,0,""),n=r.parse(),i=n.value,o=r.skip(c2,n.end);if(o<e.length)throw new q0("Unexpected extra character: \""+ca(e,o)+"\" after the parsed data at: "+o);return HSe(t)?nU({"":i},"",t,n):i},nU=function(e,t,r,n){var i=e[t],o=n&&i===n.value,u=o&&typeof n.source=="string"?{source:n.source}:{},f,m,y,w,I;if(s6t(i)){var M=l6t(i),N=o?n.nodes:M?[]:{};if(M)for(f=N.length,y=BSe(i),w=0;w<y;w++)GSe(i,w,nU(i,""+w,r,w<f?N[w]:void 0));else for(m=h6t(i),y=BSe(m),w=0;w<y;w++)I=m[w],GSe(i,I,nU(i,I,r,u6t(N,I)?N[I]:void 0))}return a6t(r,e,t,i,u)},GSe=function(e,t,r){if(i6t){var n=m6t(e,t);if(n&&!n.configurable)return}r===void 0?delete e[t]:rU(e,t,r)},_6t=function(e,t,r,n){this.value=e,this.end=t,this.source=r,this.nodes=n},iU=function(e,t){this.source=e,this.index=t};iU.prototype={fork:function(e){return new iU(this.source,e)},parse:function(){var e=this.source,t=this.skip(c2,this.index),r=this.fork(t),n=ca(e,t);if(JB(v6t,n))return r.number();switch(n){case"{":return r.object();case"[":return r.array();case"\"":return r.string();case"t":return r.keyword(!0);case"f":return r.keyword(!1);case"n":return r.keyword(null)}throw new q0("Unexpected character: \""+n+"\" at: "+t)},node:function(e,t,r,n,i){return new _6t(t,n,e?null:QB(this.source,r,n),i)},object:function(){for(var e=this.source,t=this.index+1,r=!1,n={},i={};t<e.length;){if(t=this.until(["\"","}"],t),ca(e,t)==="}"&&!r){t++;break}var o=this.fork(t).string(),u=o.value;t=o.end,t=this.until([":"],t)+1,t=this.skip(c2,t),o=this.fork(t).parse(),rU(i,u,o),rU(n,u,o.value),t=this.until([",","}"],o.end);var f=ca(e,t);if(f===",")r=!0,t++;else if(f==="}"){t++;break}}return this.node($Se,n,this.index,t,i)},array:function(){for(var e=this.source,t=this.index+1,r=!1,n=[],i=[];t<e.length;){if(t=this.skip(c2,t),ca(e,t)==="]"&&!r){t++;break}var o=this.fork(t).parse();if(VSe(i,o),VSe(n,o.value),t=this.until([",","]"],o.end),ca(e,t)===",")r=!0,t++;else if(ca(e,t)==="]"){t++;break}}return this.node($Se,n,this.index,t,i)},string:function(){var e=this.index,t=p6t(this.source,this.index+1);return this.node(tU,t.value,e,t.end)},number:function(){var e=this.source,t=this.index,r=t;if(ca(e,r)==="-"&&r++,ca(e,r)==="0")r++;else if(JB(g6t,ca(e,r)))r=this.skip(eU,r+1);else throw new q0("Failed to parse number at: "+r);if(ca(e,r)==="."&&(r=this.skip(eU,r+1)),ca(e,r)==="e"||ca(e,r)==="E"){r++,(ca(e,r)==="+"||ca(e,r)==="-")&&r++;var n=r;if(r=this.skip(eU,r),n===r)throw new q0("Failed to parse number's exponent value at: "+r)}return this.node(tU,d6t(QB(e,t,r)),t,r)},keyword:function(e){var t=""+e,r=this.index,n=r+t.length;if(QB(this.source,r,n)!==t)throw new q0("Failed to parse value at: "+r);return this.node(tU,e,r,n)},skip:function(e,t){for(var r=this.source;t<r.length&&JB(e,ca(r,t));t++);return t},until:function(e,t){t=this.skip(c2,t);for(var r=ca(this.source,t),n=0;n<e.length;n++)if(e[n]===r)return t;throw new q0("Unexpected character: \""+r+"\" at: "+t)}};var b6t=WSe(function(){var e="9007199254740993",t;return aU(e,function(r,n,i){t=i.source}),t!==e}),x6t=f6t&&!WSe(function(){return 1/aU("-0 \t")!==-1/0});n6t({target:"JSON",stat:!0,forced:b6t},{parse:function(t,r){return x6t&&!HSe(r)?aU(t):y6t(t,r)}})});var rIe=C(()=>{"use strict";var eIe=oe(),w6t=tf(),tIe=ZB(),b3=Sr(),S6t=qt(),cU=mt(),I6t=jr(),E6t=YB(),T6t=Pr(),M6t=$l(),C6t=XB(),A6t=b8(),P6t=Ld(),O6t=On().set,D6t=String,YSe=SyntaxError,N6t=b3("JSON","parse"),KSe=b3("JSON","stringify"),k6t=b3("Object","create"),L6t=b3("Object","freeze"),lU=cU("".charAt),sU=cU("".slice),R6t=cU([].push),uU=P6t(),XSe=uU.length,QSe="Unacceptable as raw JSON",JSe=function(e){return e===" "||e==="\t"||e===`
`||e==="\r"};eIe({target:"JSON",stat:!0,forced:!tIe},{rawJSON:function(t){var r=T6t(t);if(r===""||JSe(lU(r,0))||JSe(lU(r,r.length-1)))throw new YSe(QSe);var n=N6t(r);if(typeof n=="object"&&n!==null)throw new YSe(QSe);var i=k6t(null);return O6t(i,{type:"RawJSON"}),M6t(i,"rawJSON",r),w6t?L6t(i):i}});KSe&&eIe({target:"JSON",stat:!0,arity:3,forced:!tIe},{stringify:function(t,r,n){var i=A6t(r),o=[],u=KSe(t,function(N,z){var F=I6t(i)?S6t(i,this,D6t(N),z):z;return E6t(F)?uU+(R6t(o,F.rawJSON)-1):F},n);if(typeof u!="string")return u;for(var f="",m=u.length,y=0;y<m;y++){var w=lU(u,y);if(w==="\""){var I=C6t(u,++y).end-1,M=sU(u,y,I);f+=sU(M,0,XSe)===uU?o[sU(M,XSe)]:"\""+M+"\"",y=I}else f+=w}return f}})});var pa=C((a5r,nIe)=>{"use strict";var q6t=Oo().has;nIe.exports=function(e){return q6t(e),e}});var iIe=C(()=>{"use strict";var z6t=oe(),j6t=pa(),F6t=Oo().remove;z6t({target:"Map",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var t=j6t(this),r=!0,n,i=0,o=arguments.length;i<o;i++)n=F6t(t,arguments[i]),r=r&&n;return!!r}})});var aIe=C(()=>{"use strict";var B6t=oe(),U6t=pa(),pU=Oo(),V6t=pU.get,$6t=pU.has,oIe=pU.set;B6t({target:"Map",proto:!0,real:!0,forced:!0},{emplace:function(t,r){var n=U6t(this),i,o;return $6t(n,t)?(i=V6t(n,t),"update"in r&&(i=r.update(i,t,n),oIe(n,t,i)),i):(o=r.insert(t,n),oIe(n,t,o),o)}})});var sIe=C(()=>{"use strict";var G6t=oe(),H6t=Un(),W6t=pa(),Z6t=Wl();G6t({target:"Map",proto:!0,real:!0,forced:!0},{every:function(t){var r=W6t(this),n=H6t(t,arguments.length>1?arguments[1]:void 0);return Z6t(r,function(i,o){if(!n(i,o,r))return!1},!0)!==!1}})});var uIe=C(()=>{"use strict";var Y6t=oe(),K6t=Un(),X6t=pa(),lIe=Oo(),Q6t=Wl(),J6t=lIe.Map,eLt=lIe.set;Y6t({target:"Map",proto:!0,real:!0,forced:!0},{filter:function(t){var r=X6t(this),n=K6t(t,arguments.length>1?arguments[1]:void 0),i=new J6t;return Q6t(r,function(o,u){n(o,u,r)&&eLt(i,u,o)}),i}})});var cIe=C(()=>{"use strict";var tLt=oe(),rLt=Un(),nLt=pa(),iLt=Wl();tLt({target:"Map",proto:!0,real:!0,forced:!0},{find:function(t){var r=nLt(this),n=rLt(t,arguments.length>1?arguments[1]:void 0),i=iLt(r,function(o,u){if(n(o,u,r))return{value:o}},!0);return i&&i.value}})});var pIe=C(()=>{"use strict";var oLt=oe(),aLt=Un(),sLt=pa(),lLt=Wl();oLt({target:"Map",proto:!0,real:!0,forced:!0},{findKey:function(t){var r=sLt(this),n=aLt(t,arguments.length>1?arguments[1]:void 0),i=lLt(r,function(o,u){if(n(o,u,r))return{key:u}},!0);return i&&i.key}})});var p2=C((_5r,fIe)=>{"use strict";var uLt=Un(),cLt=jt(),pLt=Xr(),fLt=Di();fIe.exports=function(e,t,r){return function(i){var o=pLt(i),u=arguments.length,f=u>1?arguments[1]:void 0,m=f!==void 0,y=m?uLt(f,u>2?arguments[2]:void 0):void 0,w=new e,I=0;return fLt(o,function(M){var N=m?y(M,I++):M;r?t(w,cLt(N)[0],N[1]):t(w,N)}),w}}});var hIe=C(()=>{"use strict";var dLt=oe(),dIe=Oo(),hLt=p2();dLt({target:"Map",stat:!0,forced:!0},{from:hLt(dIe.Map,dIe.set,!0)})});var mIe=C(()=>{"use strict";var mLt=oe(),gLt=pa(),fU=Oo(),vLt=fU.get,yLt=fU.has,_Lt=fU.set;mLt({target:"Map",proto:!0,real:!0,forced:!0},{getOrInsert:function(t,r){return yLt(gLt(this),t)?vLt(this,t):(_Lt(this,t,r),r)}})});var gIe=C(()=>{"use strict";var bLt=oe(),xLt=Ir(),wLt=pa(),dU=Oo(),SLt=dU.get,ILt=dU.has,ELt=dU.set;bLt({target:"Map",proto:!0,real:!0,forced:!0},{getOrInsertComputed:function(t,r){if(wLt(this),xLt(r),ILt(this,t))return SLt(this,t);t===0&&1/t===-1/0&&(t=0);var n=r(t);return ELt(this,t,n),n}})});var vIe=C(()=>{"use strict";ez()});var _Ie=C((C5r,yIe)=>{"use strict";yIe.exports=function(e,t){return e===t||e!==e&&t!==t}});var bIe=C(()=>{"use strict";var TLt=oe(),MLt=_Ie(),CLt=pa(),ALt=Wl();TLt({target:"Map",proto:!0,real:!0,forced:!0},{includes:function(t){return ALt(CLt(this),function(r){if(MLt(r,t))return!0},!0)===!0}})});var wIe=C(()=>{"use strict";var PLt=oe(),OLt=qt(),DLt=Di(),NLt=jr(),xIe=Ir(),kLt=Oo().Map;PLt({target:"Map",stat:!0,forced:!0},{keyBy:function(t,r){var n=NLt(this)?this:kLt,i=new n;xIe(r);var o=xIe(i.set);return DLt(t,function(u){OLt(o,i,r(u),u)}),i}})});var SIe=C(()=>{"use strict";var LLt=oe(),RLt=pa(),qLt=Wl();LLt({target:"Map",proto:!0,real:!0,forced:!0},{keyOf:function(t){var r=qLt(RLt(this),function(n,i){if(n===t)return{key:i}},!0);return r&&r.key}})});var EIe=C(()=>{"use strict";var zLt=oe(),jLt=Un(),FLt=pa(),IIe=Oo(),BLt=Wl(),ULt=IIe.Map,VLt=IIe.set;zLt({target:"Map",proto:!0,real:!0,forced:!0},{mapKeys:function(t){var r=FLt(this),n=jLt(t,arguments.length>1?arguments[1]:void 0),i=new ULt;return BLt(r,function(o,u){VLt(i,n(o,u,r),o)}),i}})});var MIe=C(()=>{"use strict";var $Lt=oe(),GLt=Un(),HLt=pa(),TIe=Oo(),WLt=Wl(),ZLt=TIe.Map,YLt=TIe.set;$Lt({target:"Map",proto:!0,real:!0,forced:!0},{mapValues:function(t){var r=HLt(this),n=GLt(t,arguments.length>1?arguments[1]:void 0),i=new ZLt;return WLt(r,function(o,u){YLt(i,u,n(o,u,r))}),i}})});var CIe=C(()=>{"use strict";var KLt=oe(),XLt=pa(),QLt=Di(),JLt=Oo().set;KLt({target:"Map",proto:!0,real:!0,arity:1,forced:!0},{merge:function(t){for(var r=XLt(this),n=arguments.length,i=0;i<n;)QLt(arguments[i++],function(o,u){JLt(r,o,u)},{AS_ENTRIES:!0});return r}})});var f2=C((B5r,AIe)=>{"use strict";var eRt=jt();AIe.exports=function(e,t,r){return function(){for(var i=new e,o=arguments.length,u=0;u<o;u++){var f=arguments[u];r?t(i,eRt(f)[0],f[1]):t(i,f)}return i}}});var OIe=C(()=>{"use strict";var tRt=oe(),PIe=Oo(),rRt=f2();tRt({target:"Map",stat:!0,forced:!0},{of:rRt(PIe.Map,PIe.set,!0)})});var DIe=C(()=>{"use strict";var nRt=oe(),iRt=Ir(),oRt=pa(),aRt=Wl(),sRt=TypeError;nRt({target:"Map",proto:!0,real:!0,forced:!0},{reduce:function(t){var r=oRt(this),n=arguments.length<2,i=n?void 0:arguments[1];if(iRt(t),aRt(r,function(o,u){n?(n=!1,i=o):i=t(i,o,u,r)}),n)throw new sRt("Reduce of empty map with no initial value");return i}})});var NIe=C(()=>{"use strict";var lRt=oe(),uRt=Un(),cRt=pa(),pRt=Wl();lRt({target:"Map",proto:!0,real:!0,forced:!0},{some:function(t){var r=cRt(this),n=uRt(t,arguments.length>1?arguments[1]:void 0);return pRt(r,function(i,o){if(n(i,o,r))return!0},!0)===!0}})});var LIe=C(()=>{"use strict";var fRt=oe(),kIe=Ir(),dRt=pa(),hU=Oo(),hRt=TypeError,mRt=hU.get,gRt=hU.has,vRt=hU.set;fRt({target:"Map",proto:!0,real:!0,forced:!0},{update:function(t,r){var n=dRt(this),i=arguments.length;kIe(r);var o=gRt(n,t);if(!o&&i<3)throw new hRt("Updating absent value");var u=o?mRt(n,t):kIe(i>2?arguments[2]:void 0)(t,n);return vRt(n,t,r(u,t,n)),n}})});var S3=C((K5r,RIe)=>{"use strict";var x3=qt(),mU=Ir(),w3=jr(),yRt=jt(),_Rt=TypeError;RIe.exports=function(t,r){var n=yRt(this),i=mU(n.get),o=mU(n.has),u=mU(n.set),f=arguments.length>2?arguments[2]:void 0,m;if(!w3(r)&&!w3(f))throw new _Rt("At least one callback required");return x3(o,n,t)?(m=x3(i,n,t),w3(r)&&(m=r(m),x3(u,n,t,m))):w3(f)&&(m=f(),x3(u,n,t,m)),m}});var qIe=C(()=>{"use strict";var bRt=oe(),xRt=S3();bRt({target:"Map",proto:!0,real:!0,name:"upsert",forced:!0},{updateOrInsert:xRt})});var zIe=C(()=>{"use strict";var wRt=oe(),SRt=S3();wRt({target:"Map",proto:!0,real:!0,forced:!0},{upsert:SRt})});var FIe=C((t4r,jIe)=>{"use strict";var IRt=TypeError;jIe.exports=function(e){if(typeof e=="number")return e;throw new IRt("Argument is not a number")}});var VIe=C(()=>{"use strict";var ERt=oe(),gU=FIe(),BIe=l0(),UIe=oA(),TRt=RangeError,MRt=Math.min,CRt=Math.max;ERt({target:"Math",stat:!0,forced:!0},{clamp:function(t,r,n){if(gU(t),BIe(gU(r)),BIe(gU(n)),UIe(r,0)&&UIe(n,-0)||r>n)throw new TRt("`min` should be smaller than `max`");return MRt(n,CRt(r,t))}})});var $Ie=C(()=>{"use strict";var ARt=oe();ARt({target:"Math",stat:!0,nonConfigurable:!0,nonWritable:!0},{DEG_PER_RAD:Math.PI/180})});var GIe=C(()=>{"use strict";var PRt=oe(),ORt=180/Math.PI;PRt({target:"Math",stat:!0,forced:!0},{degrees:function(t){return t*ORt}})});var vU=C((l4r,HIe)=>{"use strict";HIe.exports=function(t,r,n,i,o){var u=+t,f=+r,m=+n,y=+i,w=+o;return u!==u||f!==f||m!==m||y!==y||w!==w?NaN:u===1/0||u===-1/0?u:(u-f)*(w-y)/(m-f)+y}});var WIe=C(()=>{"use strict";var DRt=oe(),NRt=vU(),kRt=OC();DRt({target:"Math",stat:!0,forced:!0},{fscale:function(t,r,n,i,o){return kRt(NRt(t,r,n,i,o))}})});var ZIe=C(()=>{"use strict";iz()});var YIe=C(()=>{"use strict";var LRt=oe();LRt({target:"Math",stat:!0,forced:!0},{iaddh:function(t,r,n,i){var o=t>>>0,u=r>>>0,f=n>>>0;return u+(i>>>0)+((o&f|(o|f)&~(o+f>>>0))>>>31)|0}})});var KIe=C(()=>{"use strict";var RRt=oe();RRt({target:"Math",stat:!0,forced:!0},{imulh:function(t,r){var n=65535,i=+t,o=+r,u=i&n,f=o&n,m=i>>16,y=o>>16,w=(m*f>>>0)+(u*f>>>16);return m*y+(w>>16)+((u*y>>>0)+(w&n)>>16)}})});var XIe=C(()=>{"use strict";var qRt=oe();qRt({target:"Math",stat:!0,forced:!0},{isubh:function(t,r,n,i){var o=t>>>0,u=r>>>0,f=n>>>0;return u-(i>>>0)-((~o&f|~(o^f)&o-f>>>0)>>>31)|0}})});var QIe=C(()=>{"use strict";var zRt=oe();zRt({target:"Math",stat:!0,nonConfigurable:!0,nonWritable:!0},{RAD_PER_DEG:180/Math.PI})});var JIe=C(()=>{"use strict";var jRt=oe(),FRt=Math.PI/180;jRt({target:"Math",stat:!0,forced:!0},{radians:function(t){return t*FRt}})});var eEe=C(()=>{"use strict";var BRt=oe(),URt=vU();BRt({target:"Math",stat:!0,forced:!0},{scale:URt})});var iEe=C(()=>{"use strict";var VRt=oe(),$Rt=jt(),GRt=fz(),HRt=$d(),WRt=Po(),tEe=On(),rEe="Seeded Random",nEe=rEe+" Generator",ZRt="Math.seededPRNG() argument should have a \"seed\" field with a finite value.",YRt=tEe.set,KRt=tEe.getterFor(nEe),XRt=TypeError,QRt=HRt(function(t){YRt(this,{type:nEe,seed:t%2147483647})},rEe,function(){var t=KRt(this),r=t.seed=(t.seed*1103515245+12345)%2147483647;return WRt((r&1073741823)/1073741823,!1)});VRt({target:"Math",stat:!0,forced:!0},{seededPRNG:function(t){var r=$Rt(t).seed;if(!GRt(r))throw new XRt(ZRt);return new QRt(r)}})});var oEe=C(()=>{"use strict";var JRt=oe();JRt({target:"Math",stat:!0,forced:!0},{signbit:function(t){var r=+t;return r===r&&r===0?1/r===-1/0:r<0}})});var cEe=C(()=>{"use strict";var eqt=oe(),tqt=mt(),rqt=Di(),nqt=RangeError,iqt=TypeError,Zl=1/0,oqt=NaN,yg=Math.abs,xU=Math.pow,aEe=tqt([].push),d2=xU(2,1023),aqt=xU(2,53)-1,sEe=Number.MAX_VALUE,lEe=xU(2,971),h2={},yU={},_U={},bU={},uEe={},I3=function(e,t){var r=e+t,n=t-(r-e);return{hi:r,lo:n}};eqt({target:"Math",stat:!0},{sumPrecise:function(t){var r=[],n=0,i=bU;switch(rqt(t,function(Y){if(++n>=aqt)throw new nqt("Maximum allowed index exceeded");if(typeof Y!="number")throw new iqt("Value is not a number");i!==h2&&(Y!==Y?i=h2:Y===Zl?i=i===yU?h2:_U:Y===-Zl?i=i===_U?h2:yU:(Y!==0||1/Y===Zl)&&(i===bU||i===uEe)&&(i=uEe,aEe(r,Y)))}),i){case h2:return oqt;case yU:return-Zl;case _U:return Zl;case bU:return-0}for(var o=[],u=0,f,m,y,w,I,M,N=0;N<r.length;N++){f=r[N];for(var z=0,F=0;F<o.length;F++){if(m=o[F],yg(f)<yg(m)&&(M=f,f=m,m=M),y=I3(f,m),w=y.hi,I=y.lo,yg(w)===Zl){var q=w===Zl?1:-1;u+=q,f=f-q*d2-q*d2,yg(f)<yg(m)&&(M=f,f=m,m=M),y=I3(f,m),w=y.hi,I=y.lo}I!==0&&(o[z++]=I),f=w}o.length=z,f!==0&&aEe(o,f)}var R=o.length-1;if(w=0,I=0,u!==0){var U=R>=0?o[R]:0;if(R--,yg(u)>1||u>0&&U>0||u<0&&U<0)return u>0?Zl:-Zl;if(y=I3(u*d2,U/2),w=y.hi,I=y.lo,I*=2,yg(2*w)===Zl)return w>0?w===d2&&I===-(lEe/2)&&R>=0&&o[R]<0?sEe:Zl:w===-d2&&I===lEe/2&&R>=0&&o[R]>0?-sEe:-Zl;I!==0&&(o[++R]=I,I=0),w*=2}for(;R>=0&&(y=I3(w,o[R--]),w=y.hi,I=y.lo,I===0););return R>=0&&(I<0&&o[R]<0||I>0&&o[R]>0)&&(m=I*2,f=w+m,m===f-w&&(w=f)),w}})});var pEe=C(()=>{"use strict";var sqt=oe();sqt({target:"Math",stat:!0,forced:!0},{umulh:function(t,r){var n=65535,i=+t,o=+r,u=i&n,f=o&n,m=i>>>16,y=o>>>16,w=(m*f>>>0)+(u*f>>>16);return m*y+(w>>>16)+((u*y>>>0)+(w&n)>>>16)}})});var hEe=C(()=>{"use strict";var lqt=oe(),g2=mt(),uqt=mi(),m2="Invalid number representation",cqt="Invalid radix",pqt=RangeError,E3=SyntaxError,fqt=TypeError,fEe=parseInt,dqt=Math.pow,dEe=/^[\d.a-z]+$/,hqt=g2("".charAt),mqt=g2(dEe.exec),gqt=g2(1 .toString),vqt=g2("".slice),yqt=g2("".split);lqt({target:"Number",stat:!0,forced:!0},{fromString:function(t,r){var n=1;if(typeof t!="string")throw new fqt(m2);if(!t.length)throw new E3(m2);if(hqt(t,0)==="-"&&(n=-1,t=vqt(t,1),!t.length))throw new E3(m2);var i=r===void 0?10:uqt(r);if(i<2||i>36)throw new pqt(cqt);if(!mqt(dEe,t))throw new E3(m2);var o=yqt(t,"."),u=fEe(o[0],i);if(o.length>1&&(u+=fEe(o[1],i)/dqt(i,o[1].length)),i===10&&gqt(u,i)!==t)throw new E3(m2);return n*u}})});var mEe=C(()=>{"use strict";var _qt=oe(),bqt=p3();_qt({target:"Number",stat:!0,forced:!0},{range:function(t,r,n){return new bqt(t,r,n,"number",0,1)}})});var gEe=C(()=>{"use strict";Ez()});var M3=C((j4r,_Ee)=>{"use strict";var vEe=On(),xqt=$d(),T3=Po(),wqt=$r(),Sqt=Xm(),Iqt=Xr(),yEe="Object Iterator",Eqt=vEe.set,Tqt=vEe.getterFor(yEe);_Ee.exports=xqt(function(t,r){var n=Iqt(t);Eqt(this,{type:yEe,mode:r,object:n,keys:Sqt(n),index:0})},"Object",function(){for(var t=Tqt(this),r=t.keys;;){if(r===null||t.index>=r.length)return t.object=t.keys=null,T3(void 0,!0);var n=r[t.index++],i=t.object;if(wqt(i,n)){switch(t.mode){case"keys":return T3(n,!1);case"values":return T3(i[n],!1)}return T3([n,i[n]],!1)}}})});var bEe=C(()=>{"use strict";var Mqt=oe(),Cqt=M3();Mqt({target:"Object",stat:!0,forced:!0},{iterateEntries:function(t){return new Cqt(t,"entries")}})});var xEe=C(()=>{"use strict";var Aqt=oe(),Pqt=M3();Aqt({target:"Object",stat:!0,forced:!0},{iterateKeys:function(t){return new Pqt(t,"keys")}})});var wEe=C(()=>{"use strict";var Oqt=oe(),Dqt=M3();Oqt({target:"Object",stat:!0,forced:!0},{iterateValues:function(t){return new Dqt(t,"values")}})});var SEe=C(()=>{"use strict";Iz()});var NEe=C(()=>{"use strict";var Nqt=oe(),C3=qt(),v2=fr(),kqt=Hd(),IEe=Ir(),Lqt=jt(),Rqt=ja(),EEe=jr(),qqt=Rs(),zqt=vr(),A3=Hi(),jqt=Ln(),wU=Hl(),TEe=gi(),z0=Wz(),Fqt=xr(),MEe=On(),Bqt=Fqt("observable"),SU="Observable",CEe="Subscription",AEe="SubscriptionObserver",IU=MEe.getterFor,EU=MEe.set,Uqt=IU(SU),PEe=IU(CEe),P3=IU(AEe),OEe=function(e){this.observer=Lqt(e),this.cleanup=null,this.subscriptionObserver=null};OEe.prototype={type:CEe,clean:function(){var e=this.cleanup;if(e){this.cleanup=null;try{e()}catch(t){z0(t)}}},close:function(){if(!v2){var e=this.facade,t=this.subscriptionObserver;e.closed=!0,t&&(t.closed=!0)}this.observer=null},isClosed:function(){return this.observer===null}};var TU=function(e,t){var r=EU(this,new OEe(e)),n;v2||(this.closed=!1);try{(n=A3(e,"start"))&&C3(n,e,this)}catch(f){z0(f)}if(!r.isClosed()){var i=r.subscriptionObserver=new MU(r);try{var o=t(i),u=o;qqt(o)||(r.cleanup=EEe(o.unsubscribe)?function(){u.unsubscribe()}:IEe(o))}catch(f){i.error(f);return}r.isClosed()&&r.clean()}};TU.prototype=wU({},{unsubscribe:function(){var t=PEe(this);t.isClosed()||(t.close(),t.clean())}});v2&&TEe(TU.prototype,"closed",{configurable:!0,get:function(){return PEe(this).isClosed()}});var MU=function(e){EU(this,{type:AEe,subscriptionState:e}),v2||(this.closed=!1)};MU.prototype=wU({},{next:function(t){var r=P3(this).subscriptionState;if(!r.isClosed()){var n=r.observer;try{var i=A3(n,"next");i&&C3(i,n,t)}catch(o){z0(o)}}},error:function(t){var r=P3(this).subscriptionState;if(!r.isClosed()){var n=r.observer;r.close();try{var i=A3(n,"error");i?C3(i,n,t):z0(t)}catch(o){z0(o)}r.clean()}},complete:function(){var t=P3(this).subscriptionState;if(!t.isClosed()){var r=t.observer;t.close();try{var n=A3(r,"complete");n&&C3(n,r)}catch(i){z0(i)}t.clean()}}});v2&&TEe(MU.prototype,"closed",{configurable:!0,get:function(){return P3(this).subscriptionState.isClosed()}});var DEe=function(t){Rqt(this,CU),EU(this,{type:SU,subscriber:IEe(t)})},CU=DEe.prototype;wU(CU,{subscribe:function(t){var r=arguments.length;return new TU(EEe(t)?{next:t,error:r>1?arguments[1]:void 0,complete:r>2?arguments[2]:void 0}:zqt(t)?t:{},Uqt(this).subscriber)}});jqt(CU,Bqt,function(){return this});Nqt({global:!0,constructor:!0,forced:!0},{Observable:DEe});kqt(SU)});var LEe=C(()=>{"use strict";var Vqt=oe(),$qt=Sr(),Gqt=qt(),kEe=jt(),Hqt=Ru(),Wqt=Bd(),Zqt=Hi(),Yqt=Di(),Kqt=xr(),Xqt=Kqt("observable");Vqt({target:"Observable",stat:!0,forced:!0},{from:function(t){var r=Hqt(this)?this:$qt("Observable"),n=Zqt(kEe(t),Xqt);if(n){var i=kEe(Gqt(n,t));return i.constructor===r?i:new r(function(u){return i.subscribe(u)})}var o=Wqt(t);return new r(function(u){Yqt(o,function(f,m){if(u.next(f),u.closed)return m()},{IS_ITERATOR:!0,INTERRUPTED:!0}),u.complete()})}})});var qEe=C(()=>{"use strict";var Qqt=oe(),REe=Sr(),Jqt=Ru(),e8t=REe("Array");Qqt({target:"Observable",stat:!0,forced:!0},{of:function(){for(var t=Jqt(this)?this:REe("Observable"),r=arguments.length,n=e8t(r),i=0;i<r;)n[i]=arguments[i++];return new t(function(o){for(var u=0;u<r;u++)if(o.next(n[u]),o.closed)return;o.complete()})}})});var zEe=C(()=>{"use strict";NEe();LEe();qEe()});var jEe=C(()=>{"use strict";sj()});var FEe=C(()=>{"use strict";lj()});var BEe=C(()=>{"use strict";fj()});var UEe=C(()=>{"use strict";dj()});var Fc=C((cPr,HEe)=>{"use strict";XC();KA();var GEe=Sr(),t8t=mt(),r8t=Hp(),VEe=GEe("Map"),n8t=GEe("WeakMap"),i8t=t8t([].push),$Ee=r8t("metadata"),AU=$Ee.store||($Ee.store=new n8t),y2=function(e,t,r){var n=AU.get(e);if(!n){if(!r)return;AU.set(e,n=new VEe)}var i=n.get(t);if(!i){if(!r)return;n.set(t,i=new VEe)}return i},o8t=function(e,t,r){var n=y2(t,r,!1);return n===void 0?!1:n.has(e)},a8t=function(e,t,r){var n=y2(t,r,!1);return n===void 0?void 0:n.get(e)},s8t=function(e,t,r,n){y2(r,n,!0).set(e,t)},l8t=function(e,t){var r=y2(e,t,!1),n=[];return r&&r.forEach(function(i,o){i8t(n,o)}),n},u8t=function(e){return e===void 0||typeof e=="symbol"?e:String(e)};HEe.exports={store:AU,getMap:y2,has:o8t,get:a8t,set:s8t,keys:l8t,toKey:u8t}});var ZEe=C(()=>{"use strict";var c8t=oe(),WEe=Fc(),p8t=jt(),f8t=WEe.toKey,d8t=WEe.set;c8t({target:"Reflect",stat:!0},{defineMetadata:function(t,r,n){var i=arguments.length<4?void 0:f8t(arguments[3]);d8t(t,r,p8t(n),i)}})});var KEe=C(()=>{"use strict";var h8t=oe(),PU=Fc(),m8t=jt(),g8t=PU.toKey,v8t=PU.getMap,YEe=PU.store;h8t({target:"Reflect",stat:!0},{deleteMetadata:function(t,r){var n=arguments.length<3?void 0:g8t(arguments[2]),i=v8t(m8t(r),n,!1);if(i===void 0||!i.delete(t))return!1;if(i.size)return!0;var o=YEe.get(r);return o.delete(n),!!o.size||YEe.delete(r)}})});var QEe=C(()=>{"use strict";var y8t=oe(),OU=Fc(),_8t=jt(),b8t=_o(),x8t=OU.has,w8t=OU.get,S8t=OU.toKey,XEe=function(e,t,r){var n=x8t(e,t,r);if(n)return w8t(e,t,r);var i=b8t(t);return i!==null?XEe(e,i,r):void 0};y8t({target:"Reflect",stat:!0},{getMetadata:function(t,r){var n=arguments.length<3?void 0:S8t(arguments[2]);return XEe(t,_8t(r),n)}})});var rTe=C(()=>{"use strict";var I8t=oe(),JEe=mt(),eTe=Fc(),E8t=jt(),T8t=_o(),M8t=i3(),C8t=JEe(M8t),A8t=JEe([].concat),P8t=eTe.keys,O8t=eTe.toKey,tTe=function(e,t){var r=P8t(e,t),n=T8t(e);if(n===null)return r;var i=tTe(n,t);return i.length?r.length?C8t(A8t(r,i)):i:r};I8t({target:"Reflect",stat:!0},{getMetadataKeys:function(t){var r=arguments.length<2?void 0:O8t(arguments[1]);return tTe(E8t(t),r)}})});var iTe=C(()=>{"use strict";var D8t=oe(),nTe=Fc(),N8t=jt(),k8t=nTe.get,L8t=nTe.toKey;D8t({target:"Reflect",stat:!0},{getOwnMetadata:function(t,r){var n=arguments.length<3?void 0:L8t(arguments[2]);return k8t(t,N8t(r),n)}})});var aTe=C(()=>{"use strict";var R8t=oe(),oTe=Fc(),q8t=jt(),z8t=oTe.keys,j8t=oTe.toKey;R8t({target:"Reflect",stat:!0},{getOwnMetadataKeys:function(t){var r=arguments.length<2?void 0:j8t(arguments[1]);return z8t(q8t(t),r)}})});var uTe=C(()=>{"use strict";var F8t=oe(),sTe=Fc(),B8t=jt(),U8t=_o(),V8t=sTe.has,$8t=sTe.toKey,lTe=function(e,t,r){var n=V8t(e,t,r);if(n)return!0;var i=U8t(t);return i!==null?lTe(e,i,r):!1};F8t({target:"Reflect",stat:!0},{hasMetadata:function(t,r){var n=arguments.length<3?void 0:$8t(arguments[2]);return lTe(t,B8t(r),n)}})});var pTe=C(()=>{"use strict";var G8t=oe(),cTe=Fc(),H8t=jt(),W8t=cTe.has,Z8t=cTe.toKey;G8t({target:"Reflect",stat:!0},{hasOwnMetadata:function(t,r){var n=arguments.length<3?void 0:Z8t(arguments[2]);return W8t(t,H8t(r),n)}})});var dTe=C(()=>{"use strict";var Y8t=oe(),fTe=Fc(),K8t=jt(),X8t=fTe.toKey,Q8t=fTe.set;Y8t({target:"Reflect",stat:!0},{metadata:function(t,r){return function(i,o){Q8t(t,r,K8t(i),X8t(o))}}})});var hTe=C(()=>{"use strict";Aj()});var mTe=C(()=>{"use strict";var J8t=oe(),e7t=ua(),t7t=$o().add;J8t({target:"Set",proto:!0,real:!0,forced:!0},{addAll:function(){for(var t=e7t(this),r=0,n=arguments.length;r<n;r++)t7t(t,arguments[r]);return t}})});var gTe=C(()=>{"use strict";var r7t=oe(),n7t=ua(),i7t=$o().remove;r7t({target:"Set",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var t=n7t(this),r=!0,n,i=0,o=arguments.length;i<o;i++)n=i7t(t,arguments[i]),r=r&&n;return!!r}})});var vTe=C(()=>{"use strict";qj()});var _Te=C((qPr,yTe)=>{"use strict";var o7t=ps(),a7t=$r(),s7t=Rs(),l7t=xr(),u7t=ng(),c7t=l7t("iterator"),p7t=Object;yTe.exports=function(e){if(s7t(e))return!1;var t=p7t(e);return t[c7t]!==void 0||"@@iterator"in t||a7t(u7t,o7t(t))}});var sh=C((zPr,xTe)=>{"use strict";var f7t=Sr(),bTe=jr(),d7t=_Te(),h7t=vr(),m7t=f7t("Set"),g7t=function(e){return h7t(e)&&typeof e.size=="number"&&bTe(e.has)&&bTe(e.keys)};xTe.exports=function(e){return g7t(e)?e:d7t(e)?new m7t(e):e}});var wTe=C(()=>{"use strict";var v7t=oe(),y7t=qt(),_7t=sh(),b7t=Rj();v7t({target:"Set",proto:!0,real:!0,forced:!0},{difference:function(t){return y7t(b7t,this,_7t(t))}})});var STe=C(()=>{"use strict";var x7t=oe(),w7t=Un(),S7t=ua(),I7t=Bs();x7t({target:"Set",proto:!0,real:!0,forced:!0},{every:function(t){var r=S7t(this),n=w7t(t,arguments.length>1?arguments[1]:void 0);return I7t(r,function(i){if(!n(i,i,r))return!1},!0)!==!1}})});var ETe=C(()=>{"use strict";var E7t=oe(),T7t=Un(),M7t=ua(),ITe=$o(),C7t=Bs(),A7t=ITe.Set,P7t=ITe.add;E7t({target:"Set",proto:!0,real:!0,forced:!0},{filter:function(t){var r=M7t(this),n=T7t(t,arguments.length>1?arguments[1]:void 0),i=new A7t;return C7t(r,function(o){n(o,o,r)&&P7t(i,o)}),i}})});var TTe=C(()=>{"use strict";var O7t=oe(),D7t=Un(),N7t=ua(),k7t=Bs();O7t({target:"Set",proto:!0,real:!0,forced:!0},{find:function(t){var r=N7t(this),n=D7t(t,arguments.length>1?arguments[1]:void 0),i=k7t(r,function(o){if(n(o,o,r))return{value:o}},!0);return i&&i.value}})});var CTe=C(()=>{"use strict";var L7t=oe(),MTe=$o(),R7t=p2();L7t({target:"Set",stat:!0,forced:!0},{from:R7t(MTe.Set,MTe.add,!1)})});var ATe=C(()=>{"use strict";Fj()});var PTe=C(()=>{"use strict";var q7t=oe(),z7t=qt(),j7t=sh(),F7t=jj();q7t({target:"Set",proto:!0,real:!0,forced:!0},{intersection:function(t){return z7t(F7t,this,j7t(t))}})});var OTe=C(()=>{"use strict";Uj()});var DTe=C(()=>{"use strict";var B7t=oe(),U7t=qt(),V7t=sh(),$7t=Bj();B7t({target:"Set",proto:!0,real:!0,forced:!0},{isDisjointFrom:function(t){return U7t($7t,this,V7t(t))}})});var NTe=C(()=>{"use strict";$j()});var kTe=C(()=>{"use strict";var G7t=oe(),H7t=qt(),W7t=sh(),Z7t=Vj();G7t({target:"Set",proto:!0,real:!0,forced:!0},{isSubsetOf:function(t){return H7t(Z7t,this,W7t(t))}})});var LTe=C(()=>{"use strict";Hj()});var RTe=C(()=>{"use strict";var Y7t=oe(),K7t=qt(),X7t=sh(),Q7t=Gj();Y7t({target:"Set",proto:!0,real:!0,forced:!0},{isSupersetOf:function(t){return K7t(Q7t,this,X7t(t))}})});var zTe=C(()=>{"use strict";var J7t=oe(),qTe=mt(),e9t=ua(),t9t=Bs(),r9t=Pr(),n9t=qTe([].join),i9t=qTe([].push);J7t({target:"Set",proto:!0,real:!0,forced:!0},{join:function(t){var r=e9t(this),n=t===void 0?",":r9t(t),i=[];return t9t(r,function(o){i9t(i,o)}),n9t(i,n)}})});var FTe=C(()=>{"use strict";var o9t=oe(),a9t=Un(),s9t=ua(),jTe=$o(),l9t=Bs(),u9t=jTe.Set,c9t=jTe.add;o9t({target:"Set",proto:!0,real:!0,forced:!0},{map:function(t){var r=s9t(this),n=a9t(t,arguments.length>1?arguments[1]:void 0),i=new u9t;return l9t(r,function(o){c9t(i,n(o,o,r))}),i}})});var UTe=C(()=>{"use strict";var p9t=oe(),BTe=$o(),f9t=f2();p9t({target:"Set",stat:!0,forced:!0},{of:f9t(BTe.Set,BTe.add,!1)})});var VTe=C(()=>{"use strict";var d9t=oe(),h9t=Ir(),m9t=ua(),g9t=Bs(),v9t=TypeError;d9t({target:"Set",proto:!0,real:!0,forced:!0},{reduce:function(t){var r=m9t(this),n=arguments.length<2,i=n?void 0:arguments[1];if(h9t(t),g9t(r,function(o){n?(n=!1,i=o):i=t(i,o,o,r)}),n)throw new v9t("Reduce of empty set with no initial value");return i}})});var $Te=C(()=>{"use strict";var y9t=oe(),_9t=Un(),b9t=ua(),x9t=Bs();y9t({target:"Set",proto:!0,real:!0,forced:!0},{some:function(t){var r=b9t(this),n=_9t(t,arguments.length>1?arguments[1]:void 0);return x9t(r,function(i){if(n(i,i,r))return!0},!0)===!0}})});var GTe=C(()=>{"use strict";Yj()});var HTe=C(()=>{"use strict";var w9t=oe(),S9t=qt(),I9t=sh(),E9t=Zj();w9t({target:"Set",proto:!0,real:!0,forced:!0},{symmetricDifference:function(t){return S9t(E9t,this,I9t(t))}})});var WTe=C(()=>{"use strict";Xj()});var ZTe=C(()=>{"use strict";var T9t=oe(),M9t=qt(),C9t=sh(),A9t=Kj();T9t({target:"Set",proto:!0,real:!0,forced:!0},{union:function(t){return M9t(A9t,this,C9t(t))}})});var YTe=C(()=>{"use strict";var P9t=oe(),O9t=dg().charAt,D9t=ii(),N9t=mi(),k9t=Pr();P9t({target:"String",proto:!0,forced:!0},{at:function(t){var r=k9t(D9t(this)),n=r.length,i=N9t(t),o=i>=0?i:n+i;return o<0||o>=n?void 0:O9t(r,o)}})});var DU=C((OOr,JTe)=>{"use strict";var QTe=mt(),L9t=vo(),KTe=Pr(),R9t=cn(),q9t=TypeError,XTe=QTe([].push),z9t=QTe([].join);JTe.exports=function(t){var r=L9t(t),n=R9t(r);if(!n)return"";for(var i=arguments.length,o=[],u=0;;){var f=r[u++];if(f===void 0)throw new q9t("Incorrect template");if(XTe(o,KTe(f)),u===n)return z9t(o,"");u<i&&XTe(o,KTe(arguments[u]))}}});var eMe=C(()=>{"use strict";var j9t=oe(),F9t=DU();j9t({target:"String",stat:!0,forced:!0},{cooked:F9t})});var oMe=C(()=>{"use strict";var B9t=oe(),U9t=$d(),tMe=Po(),V9t=ii(),$9t=Pr(),rMe=On(),nMe=dg(),G9t=nMe.codeAt,H9t=nMe.charAt,iMe="String Iterator",W9t=rMe.set,Z9t=rMe.getterFor(iMe),Y9t=U9t(function(t){W9t(this,{type:iMe,string:t,index:0})},"String",function(){var t=Z9t(this),r=t.string,n=t.index,i;return n>=r.length?tMe(void 0,!0):(i=H9t(r,n),t.index+=i.length,tMe({codePoint:G9t(i,0),position:n},!1))});B9t({target:"String",proto:!0,forced:!0},{codePoints:function(){return new Y9t($9t(V9t(this)))}})});var Bc=C((ROr,aMe)=>{"use strict";var O3=mt(),D3=WeakMap.prototype;aMe.exports={WeakMap,set:O3(D3.set),get:O3(D3.get),has:O3(D3.has),remove:O3(D3.delete)}});var mMe=C((qOr,hMe)=>{"use strict";var K9t=Sr(),N3=mt(),X9t=String.fromCharCode,Q9t=K9t("String","fromCodePoint"),NU=N3("".charAt),fMe=N3("".charCodeAt),sMe=N3("".indexOf),lMe=N3("".slice),LU=48,dMe=57,uMe=97,J9t=102,cMe=65,ezt=70,pMe=function(e,t){var r=fMe(e,t);return r>=LU&&r<=dMe},kU=function(e,t,r){if(r>=e.length)return-1;for(var n=0;t<r;t++){var i=tzt(fMe(e,t));if(i===-1)return-1;n=n*16+i}return n},tzt=function(e){return e>=LU&&e<=dMe?e-LU:e>=uMe&&e<=J9t?e-uMe+10:e>=cMe&&e<=ezt?e-cMe+10:-1};hMe.exports=function(e){for(var t="",r=0,n=0,i;(n=sMe(e,"\\",n))>-1;){if(t+=lMe(e,r,n),++n===e.length)return;var o=NU(e,n++);switch(o){case"b":t+="\b";break;case"t":t+="\t";break;case"n":t+=`
`;break;case"v":t+="\x0B";break;case"f":t+="\f";break;case"r":t+="\r";break;case"\r":n<e.length&&NU(e,n)===`
`&&++n;case`
`:case"\u2028":case"\u2029":break;case"0":if(pMe(e,n))return;t+="\0";break;case"x":if(i=kU(e,n,n+2),i===-1)return;n+=2,t+=X9t(i);break;case"u":if(n<e.length&&NU(e,n)==="{"){var u=sMe(e,"}",++n);if(u===-1)return;i=kU(e,n,u),n=u+1}else i=kU(e,n,n+4),n+=4;if(i===-1||i>1114111)return;t+=Q9t(i);break;default:if(pMe(o,0))return;t+=o}r=n}return t+lMe(e,r)}});var EMe=C(()=>{"use strict";var rzt=tf(),nzt=oe(),izt=Zx(),k3=mt(),bMe=la(),xMe=jt(),ozt=Xr(),azt=jr(),szt=cn(),lzt=ti().f,uzt=zs(),L3=Bc(),czt=DU(),pzt=mMe(),wMe=sg(),RU=new L3.WeakMap,fzt=L3.get,dzt=L3.has,hzt=L3.set,qU=Array,_2=TypeError,gMe=Object.freeze||Object,mzt=Object.isFrozen,gzt=Math.min,vMe=k3("".charAt),SMe=k3("".slice),vzt=k3("".split),yMe=k3(/./.exec),yzt=/([\n\u2028\u2029]|\r\n?)/g,_zt=RegExp("^["+wMe+"]*"),bzt=RegExp("[^"+wMe+"]"),_Me="Invalid tag",xzt="Invalid opening line",wzt="Invalid closing line",Szt=function(e){var t=e.raw;if(rzt&&!mzt(t))throw new _2("Raw template should be frozen");if(dzt(RU,t))return fzt(RU,t);var r=Izt(t),n=Tzt(r);return lzt(n,"raw",{value:gMe(r)}),gMe(n),hzt(RU,t,n),n},Izt=function(e){var t=ozt(e),r=szt(t),n=qU(r),i=qU(r),o=0,u,f,m,y;if(!r)throw new _2(_Me);for(;o<r;o++){var w=t[o];if(typeof w=="string")n[o]=vzt(w,yzt);else throw new _2(_Me)}for(o=0;o<r;o++){var I=o+1===r;if(u=n[o],o===0){if(u.length===1||u[0].length>0)throw new _2(xzt);u[1]=""}if(I){if(u.length===1||yMe(bzt,u[u.length-1]))throw new _2(wzt);u[u.length-2]="",u[u.length-1]=""}for(var M=2;M<u.length;M+=2){var N=u[M],z=M+1===u.length&&!I,F=yMe(_zt,N)[0];if(!z&&F.length===N.length){u[M]="";continue}f=Ezt(F,f)}}var q=f?f.length:0;for(o=0;o<r;o++){for(u=n[o],m=u[0],y=1;y<u.length;y+=2)m+=u[y]+SMe(u[y+1],q);i[o]=m}return i},Ezt=function(e,t){if(t===void 0||e===t)return e;for(var r=0,n=gzt(e.length,t.length);r<n&&vMe(e,r)===vMe(t,r);r++);return SMe(e,0,r)},Tzt=function(e){for(var t=0,r=e.length,n=qU(r);t<r;t++)n[t]=pzt(e[t]);return n},IMe=function(e){return izt(function(t){var r=uzt(arguments);return r[0]=Szt(xMe(t)),bMe(e,this,r)},"")},Mzt=IMe(czt);nzt({target:"String",stat:!0,forced:!0},{dedent:function(t){return xMe(t),azt(t)?IMe(t):bMe(Mzt,this,arguments)}})});var TMe=C(()=>{"use strict";eF()});var MMe=C(()=>{"use strict";lF()});var CMe=C(()=>{"use strict";yF()});var AMe=C(()=>{"use strict";EF()});var PMe=C(()=>{"use strict";var Czt=Rt(),Azt=Oi(),Pzt=ti().f,Ozt=Bo().f,zU=Czt.Symbol;Azt("asyncDispose");zU&&(b2=Ozt(zU,"asyncDispose"),b2.enumerable&&b2.configurable&&b2.writable&&Pzt(zU,"asyncDispose",{value:b2.value,enumerable:!1,configurable:!1,writable:!1}));var b2});var OMe=C(()=>{"use strict";var Dzt=Oi();Dzt("customMatcher")});var DMe=C(()=>{"use strict";var Nzt=Rt(),kzt=Oi(),Lzt=ti().f,Rzt=Bo().f,jU=Nzt.Symbol;kzt("dispose");jU&&(x2=Rzt(jU,"dispose"),x2.enumerable&&x2.configurable&&x2.writable&&Lzt(jU,"dispose",{value:x2.value,enumerable:!1,configurable:!1,writable:!1}));var x2});var BU=C((eDr,NMe)=>{"use strict";var qzt=Sr(),zzt=mt(),FU=qzt("Symbol"),jzt=FU.keyFor,Fzt=zzt(FU.prototype.valueOf);NMe.exports=FU.isRegisteredSymbol||function(t){try{return jzt(Fzt(t))!==void 0}catch(r){return!1}}});var kMe=C(()=>{"use strict";var Bzt=oe(),Uzt=BU();Bzt({target:"Symbol",stat:!0},{isRegisteredSymbol:Uzt})});var LMe=C(()=>{"use strict";var Vzt=oe(),$zt=BU();Vzt({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:$zt})});var $U=C((oDr,BMe)=>{"use strict";var Gzt=Hp(),jMe=Sr(),Hzt=mt(),Wzt=Gp(),Zzt=xr(),q3=jMe("Symbol"),RMe=q3.isWellKnownSymbol,FMe=jMe("Object","getOwnPropertyNames"),Yzt=Hzt(q3.prototype.valueOf),qMe=Gzt("wks");for(R3=0,UU=FMe(q3),zMe=UU.length;R3<zMe;R3++)try{VU=UU[R3],Wzt(q3[VU])&&Zzt(VU)}catch(e){}var VU,R3,UU,zMe;BMe.exports=function(t){if(RMe&&RMe(t))return!0;try{for(var r=Yzt(t),n=0,i=FMe(qMe),o=i.length;n<o;n++)if(qMe[i[n]]==r)return!0}catch(u){}return!1}});var UMe=C(()=>{"use strict";var Kzt=oe(),Xzt=$U();Kzt({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:Xzt})});var VMe=C(()=>{"use strict";var Qzt=oe(),Jzt=$U();Qzt({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:Jzt})});var $Me=C(()=>{"use strict";var ejt=Oi();ejt("matcher")});var GMe=C(()=>{"use strict";var tjt=Oi();tjt("metadata")});var HMe=C(()=>{"use strict";var rjt=Oi();rjt("metadataKey")});var WMe=C(()=>{"use strict";var njt=Oi();njt("observable")});var ZMe=C(()=>{"use strict";var ijt=Oi();ijt("patternMatch")});var YMe=C(()=>{"use strict";var ojt=Oi();ojt("replaceAll")});var XMe=C(()=>{"use strict";var ajt=Sr(),sjt=Ow(),ljt=vB(),KMe=Wr(),ujt=Kp(),cjt=KMe.aTypedArrayConstructor,pjt=KMe.exportTypedArrayStaticMethod;pjt("fromAsync",function(t){var r=this,n=arguments.length,i=n>1?arguments[1]:void 0,o=n>2?arguments[2]:void 0;return new(ajt("Promise"))(function(u){sjt(r),u(ljt(t,i,o))}).then(function(u){return ujt(cjt(r),u)})},!0)});var QMe=C(()=>{"use strict";FF()});var eCe=C(()=>{"use strict";var JMe=Wr(),fjt=Zi().filterReject,djt=qA(),hjt=JMe.aTypedArray,mjt=JMe.exportTypedArrayMethod;mjt("filterOut",function(t){var r=fjt(hjt(this),t,arguments.length>1?arguments[1]:void 0);return djt(this,r)},!0)});var rCe=C(()=>{"use strict";var tCe=Wr(),gjt=Zi().filterReject,vjt=qA(),yjt=tCe.aTypedArray,_jt=tCe.exportTypedArrayMethod;_jt("filterReject",function(t){var r=gjt(yjt(this),t,arguments.length>1?arguments[1]:void 0);return vjt(this,r)},!0)});var nCe=C(()=>{"use strict";BF()});var iCe=C(()=>{"use strict";UF()});var oCe=C(()=>{"use strict";var GU=Wr(),bjt=r3(),xjt=GU.aTypedArray,wjt=GU.getTypedArrayConstructor,Sjt=GU.exportTypedArrayMethod;Sjt("groupBy",function(t){var r=arguments.length>1?arguments[1]:void 0;return bjt(xjt(this),t,r,wjt)},!0)});var aCe=C(()=>{"use strict";rB()});var sCe=C(()=>{"use strict";nB()});var lCe=C(()=>{"use strict";var HU=Wr(),Ijt=cn(),Ejt=DA(),Tjt=ku(),Mjt=Zw(),Cjt=mi(),Ajt=HU.aTypedArray,Pjt=HU.getTypedArrayConstructor,Ojt=HU.exportTypedArrayMethod,Djt=Math.max,Njt=Math.min;Ojt("toSpliced",function(t,r){var n=Ajt(this),i=Pjt(n),o=Ijt(n),u=Tjt(t,o),f=arguments.length,m=0,y,w,I,M,N,z,F;if(f===0)y=w=0;else if(f===1)y=0,w=o-u;else if(w=Njt(Djt(Cjt(r),0),o-u),y=f-2,y){M=new i(y),I=Ejt(M);for(var q=2;q<f;q++)N=arguments[q],M[q-2]=I?Mjt(N):+N}for(z=o+y-w,F=new i(z);m<u;m++)F[m]=n[m];for(;m<u+y;m++)F[m]=M[m-u];for(;m<z;m++)F[m]=n[m+w-y];return F},!0)});var uCe=C(()=>{"use strict";var kjt=mt(),WU=Wr(),Ljt=Kp(),Rjt=i3(),qjt=WU.aTypedArray,zjt=WU.getTypedArrayConstructor,jjt=WU.exportTypedArrayMethod,Fjt=kjt(Rjt);jjt("uniqueBy",function(t){return qjt(this),Ljt(zjt(this),Fjt(this,t))},!0)});var cCe=C(()=>{"use strict";oB()});var ZU=C((HDr,pCe)=>{"use strict";var Bjt=vr(),Ujt=String,Vjt=TypeError;pCe.exports=function(e){if(e===void 0||Bjt(e))return e;throw new Vjt(Ujt(e)+" is not an object or undefined")}});var w2=C((WDr,gCe)=>{"use strict";var mCe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",fCe=mCe+"+/",dCe=mCe+"-_",hCe=function(e){for(var t={},r=0;r<64;r++)t[e.charAt(r)]=r;return t};gCe.exports={i2c:fCe,c2i:hCe(fCe),i2cUrl:dCe,c2iUrl:hCe(dCe)}});var YU=C((ZDr,vCe)=>{"use strict";var $jt=TypeError;vCe.exports=function(e){var t=e&&e.alphabet;if(t===void 0||t==="base64"||t==="base64url")return t||"base64";throw new $jt("Incorrect `alphabet` option")}});var JU=C((YDr,bCe)=>{"use strict";var yCe=Rt(),Gjt=mt(),Hjt=ZU(),Wjt=Vw(),Zjt=$r(),_Ce=w2(),Yjt=YU(),Kjt=s0(),Xjt=_Ce.c2i,Qjt=_Ce.c2iUrl,lh=yCe.SyntaxError,Jjt=yCe.TypeError,_g=Gjt("".charAt),KU=function(e,t){for(var r=e.length;t<r;t++){var n=_g(e,t);if(n!==" "&&n!=="\t"&&n!==`
`&&n!=="\f"&&n!=="\r")break}return t},XU=function(e,t,r){var n=e.length;n<4&&(e+=n===2?"AA":"A");var i=(t[_g(e,0)]<<18)+(t[_g(e,1)]<<12)+(t[_g(e,2)]<<6)+t[_g(e,3)],o=[i>>16&255,i>>8&255,i&255];if(n===2){if(r&&o[1]!==0)throw new lh("Extra bits");return[o[0]]}if(n===3){if(r&&o[2]!==0)throw new lh("Extra bits");return[o[0],o[1]]}return o},QU=function(e,t,r){for(var n=t.length,i=0;i<n;i++)e[r+i]=t[i];return r+n};bCe.exports=function(e,t,r,n){Wjt(e),Hjt(t);var i=Yjt(t)==="base64"?Xjt:Qjt,o=t?t.lastChunkHandling:void 0;if(o===void 0&&(o="loose"),o!=="loose"&&o!=="strict"&&o!=="stop-before-partial")throw new Jjt("Incorrect `lastChunkHandling` option");r&&Kjt(r.buffer);var u=r||[],f=0,m=0,y="",w=0;if(n)for(;;){if(w=KU(e,w),w===e.length){if(y.length>0){if(o==="stop-before-partial")break;if(o==="loose"){if(y.length===1)throw new lh("Malformed padding: exactly one additional character");f=QU(u,XU(y,i,!1),f)}else throw new lh("Missing padding")}m=e.length;break}var I=_g(e,w);if(++w,I==="="){if(y.length<2)throw new lh("Padding is too early");if(w=KU(e,w),y.length===2){if(w===e.length){if(o==="stop-before-partial")break;throw new lh("Malformed padding: only one =")}_g(e,w)==="="&&(++w,w=KU(e,w))}if(w<e.length)throw new lh("Unexpected character after padding");f=QU(u,XU(y,i,o==="strict"),f),m=e.length;break}if(!Zjt(i,I))throw new lh("Unexpected character");var M=n-f;if(M===1&&y.length===2||M===2&&y.length===3||(y+=I,y.length===4&&(f=QU(u,XU(y,i,!1),f),y="",m=w,f===n)))break}return{bytes:u,read:m,written:f}}});var wCe=C(()=>{"use strict";var eFt=oe(),tFt=Rt(),rFt=Kp(),nFt=JU(),xCe=tFt.Uint8Array;xCe&&eFt({target:"Uint8Array",stat:!0},{fromBase64:function(t){var r=nFt(t,arguments.length>1?arguments[1]:void 0,null,9007199254740991);return rFt(xCe,r.bytes)}})});var tV=C((QDr,TCe)=>{"use strict";var eV=Rt(),ICe=mt(),iFt=eV.Uint8Array,SCe=eV.SyntaxError,oFt=eV.parseInt,aFt=Math.min,ECe=/[^\da-f]/i,sFt=ICe(ECe.exec),lFt=ICe("".slice);TCe.exports=function(e,t){var r=e.length;if(r%2!==0)throw new SCe("String should be an even number of characters");for(var n=t?aFt(t.length,r/2):r/2,i=t||new iFt(n),o=0,u=0;u<n;){var f=lFt(e,o,o+=2);if(sFt(ECe,f))throw new SCe("String should only contain hex characters");i[u++]=oFt(f,16)}return{bytes:i,read:o}}});var MCe=C(()=>{"use strict";var uFt=oe(),cFt=Rt(),pFt=Vw(),fFt=tV();cFt.Uint8Array&&uFt({target:"Uint8Array",stat:!0},{fromHex:function(t){return fFt(pFt(t)).bytes}})});var S2=C((tNr,CCe)=>{"use strict";var dFt=ps(),hFt=TypeError;CCe.exports=function(e){if(dFt(e)==="Uint8Array")return e;throw new hFt("Argument is not an Uint8Array")}});var ACe=C(()=>{"use strict";var mFt=oe(),gFt=Rt(),vFt=JU(),yFt=S2(),z3=gFt.Uint8Array,_Ft=!z3||!z3.prototype.setFromBase64||!function(){var e=new z3([255,255,255,255,255]);try{e.setFromBase64("MjYyZg===")}catch(t){return e[0]===50&&e[1]===54&&e[2]===50&&e[3]===255&&e[4]===255}}();z3&&mFt({target:"Uint8Array",proto:!0,forced:_Ft},{setFromBase64:function(t){yFt(this);var r=vFt(t,arguments.length>1?arguments[1]:void 0,this,this.length);return{read:r.read,written:r.written}}})});var PCe=C(()=>{"use strict";var bFt=oe(),xFt=Rt(),wFt=Vw(),SFt=S2(),IFt=s0(),EFt=tV();xFt.Uint8Array&&bFt({target:"Uint8Array",proto:!0},{setFromHex:function(t){SFt(this),wFt(t),IFt(this.buffer);var r=EFt(t,this).read;return{read:r,written:r/2}}})});var DCe=C(()=>{"use strict";var TFt=oe(),MFt=Rt(),CFt=mt(),AFt=ZU(),PFt=S2(),OFt=s0(),OCe=w2(),DFt=YU(),NFt=OCe.i2c,kFt=OCe.i2cUrl,LFt=CFt("".charAt);MFt.Uint8Array&&TFt({target:"Uint8Array",proto:!0},{toBase64:function(){var t=PFt(this),r=arguments.length?AFt(arguments[0]):void 0,n=DFt(r)==="base64"?NFt:kFt,i=!!r&&!!r.omitPadding;OFt(this.buffer);for(var o="",u=0,f=t.length,m,y=function(w){return LFt(n,m>>6*w&63)};u+2<f;u+=3)m=(t[u]<<16)+(t[u+1]<<8)+t[u+2],o+=y(3)+y(2)+y(1)+y(0);return u+2===f?(m=(t[u]<<16)+(t[u+1]<<8),o+=y(3)+y(2)+y(1)+(i?"":"=")):u+1===f&&(m=t[u]<<16,o+=y(3)+y(2)+(i?"":"==")),o}})});var NCe=C(()=>{"use strict";var RFt=oe(),qFt=Rt(),zFt=mt(),jFt=S2(),FFt=s0(),BFt=zFt(1 .toString);qFt.Uint8Array&&RFt({target:"Uint8Array",proto:!0},{toHex:function(){jFt(this),FFt(this.buffer);for(var t="",r=0,n=this.length;r<n;r++){var i=BFt(this[r],16);t+=i.length===1?"0"+i:i}return t}})});var I2=C((cNr,kCe)=>{"use strict";var UFt=Bc().has;kCe.exports=function(e){return UFt(e),e}});var LCe=C(()=>{"use strict";var VFt=oe(),$Ft=I2(),GFt=Bc().remove;VFt({target:"WeakMap",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var t=$Ft(this),r=!0,n,i=0,o=arguments.length;i<o;i++)n=GFt(t,arguments[i]),r=r&&n;return!!r}})});var qCe=C(()=>{"use strict";var HFt=oe(),RCe=Bc(),WFt=p2();HFt({target:"WeakMap",stat:!0,forced:!0},{from:WFt(RCe.WeakMap,RCe.set,!0)})});var jCe=C(()=>{"use strict";var ZFt=oe(),zCe=Bc(),YFt=f2();ZFt({target:"WeakMap",stat:!0,forced:!0},{of:YFt(zCe.WeakMap,zCe.set,!0)})});var BCe=C(()=>{"use strict";var KFt=oe(),XFt=I2(),rV=Bc(),QFt=rV.get,JFt=rV.has,FCe=rV.set;KFt({target:"WeakMap",proto:!0,real:!0,forced:!0},{emplace:function(t,r){var n=XFt(this),i,o;return JFt(n,t)?(i=QFt(n,t),"update"in r&&(i=r.update(i,t,n),FCe(n,t,i)),i):(o=r.insert(t,n),FCe(n,t,o),o)}})});var UCe=C(()=>{"use strict";var eBt=oe(),tBt=I2(),nV=Bc(),rBt=nV.get,nBt=nV.has,iBt=nV.set;eBt({target:"WeakMap",proto:!0,real:!0,forced:!0},{getOrInsert:function(t,r){return nBt(tBt(this),t)?rBt(this,t):(iBt(this,t,r),r)}})});var GCe=C((xNr,$Ce)=>{"use strict";var iV=Bc(),VCe=new iV.WeakMap,oBt=iV.set,aBt=iV.remove;$Ce.exports=function(e){return oBt(VCe,e,1),aBt(VCe,e),e}});var HCe=C(()=>{"use strict";var sBt=oe(),lBt=Ir(),uBt=I2(),cBt=GCe(),oV=Bc(),pBt=oV.get,fBt=oV.has,dBt=oV.set;sBt({target:"WeakMap",proto:!0,real:!0,forced:!0},{getOrInsertComputed:function(t,r){if(uBt(this),cBt(t),lBt(r),fBt(this,t))return pBt(this,t);var n=r(t);return dBt(this,t,n),n}})});var WCe=C(()=>{"use strict";var hBt=oe(),mBt=S3();hBt({target:"WeakMap",proto:!0,real:!0,forced:!0},{upsert:mBt})});var j0=C((TNr,ZCe)=>{"use strict";var aV=mt(),sV=WeakSet.prototype;ZCe.exports={WeakSet,add:aV(sV.add),has:aV(sV.has),remove:aV(sV.delete)}});var lV=C((MNr,YCe)=>{"use strict";var gBt=j0().has;YCe.exports=function(e){return gBt(e),e}});var KCe=C(()=>{"use strict";var vBt=oe(),yBt=lV(),_Bt=j0().add;vBt({target:"WeakSet",proto:!0,real:!0,forced:!0},{addAll:function(){for(var t=yBt(this),r=0,n=arguments.length;r<n;r++)_Bt(t,arguments[r]);return t}})});var XCe=C(()=>{"use strict";var bBt=oe(),xBt=lV(),wBt=j0().remove;bBt({target:"WeakSet",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var t=xBt(this),r=!0,n,i=0,o=arguments.length;i<o;i++)n=wBt(t,arguments[i]),r=r&&n;return!!r}})});var JCe=C(()=>{"use strict";var SBt=oe(),QCe=j0(),IBt=p2();SBt({target:"WeakSet",stat:!0,forced:!0},{from:IBt(QCe.WeakSet,QCe.add,!1)})});var tAe=C(()=>{"use strict";var EBt=oe(),eAe=j0(),TBt=f2();EBt({target:"WeakSet",stat:!0,forced:!0},{of:TBt(eAe.WeakSet,eAe.add,!1)})});var lAe=C(()=>{"use strict";var MBt=oe(),CBt=Rt(),iAe=Sr(),uV=mt(),ABt=qt(),j3=wt(),PBt=Pr(),OBt=hl(),rAe=w2().c2i,oAe=/[^\d+/a-z]/i,DBt=/[\t\n\f\r ]+/g,NBt=/[=]{1,2}$/,bg=iAe("atob"),kBt=String.fromCharCode,LBt=uV("".charAt),nAe=uV("".replace),RBt=uV(oAe.exec),F0=!!bg&&!j3(function(){return bg("aGk=")!=="hi"}),aAe=F0&&j3(function(){return bg(" ")!==""}),sAe=F0&&!j3(function(){bg("a")}),qBt=F0&&!j3(function(){bg()}),zBt=F0&&bg.length!==1,jBt=!F0||aAe||sAe||qBt||zBt;MBt({global:!0,bind:!0,enumerable:!0,forced:jBt},{atob:function(t){if(OBt(arguments.length,1),F0&&!aAe&&!sAe)return ABt(bg,CBt,t);var r=nAe(PBt(t),DBt,""),n="",i=0,o=0,u,f,m;if(r.length%4===0&&(r=nAe(r,NBt,"")),u=r.length,u%4===1||RBt(oAe,r))throw new(iAe("DOMException"))("The string is not correctly encoded","InvalidCharacterError");for(;i<u;)f=LBt(r,i++),m=o%4?m*64+rAe[f]:rAe[f],o++%4&&(n+=kBt(255&m>>(-2*o&6)));return n}})});var dAe=C(()=>{"use strict";var FBt=oe(),BBt=Rt(),pAe=Sr(),fAe=mt(),UBt=qt(),cV=wt(),uAe=Pr(),VBt=hl(),$Bt=w2().i2c,B0=pAe("btoa"),cAe=fAe("".charAt),GBt=fAe("".charCodeAt),E2=!!B0&&!cV(function(){return B0("hi")!=="aGk="}),HBt=E2&&!cV(function(){B0()}),WBt=E2&&cV(function(){return B0(null)!=="bnVsbA=="}),ZBt=E2&&B0.length!==1;FBt({global:!0,bind:!0,enumerable:!0,forced:!E2||HBt||WBt||ZBt},{btoa:function(t){if(VBt(arguments.length,1),E2)return UBt(B0,BBt,uAe(t));for(var r=uAe(t),n="",i=0,o=$Bt,u,f;cAe(r,i)||(o="=",i%1);){if(f=GBt(r,i+=3/4),f>255)throw new(pAe("DOMException"))("The string contains characters outside of the Latin1 range","InvalidCharacterError");u=u<<8|f,n+=cAe(o,63&u>>8-i%1*8)}return n}})});var pV=C((FNr,hAe)=>{"use strict";hAe.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}});var dV=C((BNr,gAe)=>{"use strict";var YBt=$x(),fV=YBt("span").classList,mAe=fV&&fV.constructor&&fV.constructor.prototype;gAe.exports=mAe===Object.prototype?void 0:mAe});var bAe=C(()=>{"use strict";var vAe=Rt(),yAe=pV(),KBt=dV(),hV=Z8(),XBt=yo(),_Ae=function(e){if(e&&e.forEach!==hV)try{XBt(e,"forEach",hV)}catch(t){e.forEach=hV}};for(F3 in yAe)yAe[F3]&&_Ae(vAe[F3]&&vAe[F3].prototype);var F3;_Ae(KBt)});var EAe=C(()=>{"use strict";var xAe=Rt(),SAe=pV(),QBt=dV(),T2=cw(),wAe=yo(),JBt=fs(),eUt=xr(),mV=eUt("iterator"),gV=T2.values,IAe=function(e,t){if(e){if(e[mV]!==gV)try{wAe(e,mV,gV)}catch(n){e[mV]=gV}if(JBt(e,t,!0),SAe[t]){for(var r in T2)if(e[r]!==T2[r])try{wAe(e,r,T2[r])}catch(n){e[r]=T2[r]}}}};for(B3 in SAe)IAe(xAe[B3]&&xAe[B3].prototype,B3);var B3;IAe(QBt,"DOMTokenList")});var vV=C((HNr,TAe)=>{"use strict";TAe.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}});var qAe=C(()=>{"use strict";var tUt=oe(),$3=Sr(),rUt=G7(),SV=wt(),nUt=Wi(),IV=Ls(),G3=ti().f,iUt=Ln(),U3=gi(),V3=$r(),oUt=ja(),aUt=jt(),AAe=O8(),MAe=tg(),U0=vV(),sUt=pC(),PAe=On(),EV=fr(),OAe=yn(),V0="DOMException",wV="DATA_CLONE_ERR",W3=$3("Error"),of=$3(V0)||function(){try{var e=$3("MessageChannel")||rUt("worker_threads").MessageChannel;new e().port1.postMessage(new WeakMap)}catch(t){if(t.name===wV&&t.code===25)return t.constructor}}(),lUt=of&&of.prototype,DAe=W3.prototype,uUt=PAe.set,cUt=PAe.getterFor(V0),pUt="stack"in new W3(V0),NAe=function(e){return V3(U0,e)&&U0[e].m?U0[e].c:0},TV=function(){oUt(this,C2);var t=arguments.length,r=MAe(t<1?void 0:arguments[0]),n=MAe(t<2?void 0:arguments[1],"Error"),i=NAe(n);if(uUt(this,{type:V0,name:n,message:r,code:i}),EV||(this.name=n,this.message=r,this.code=i),pUt){var o=new W3(r);o.name=V0,G3(this,"stack",IV(1,sUt(o.stack,1)))}},C2=TV.prototype=nUt(DAe),kAe=function(e){return{enumerable:!0,configurable:!0,get:e}},yV=function(e){return kAe(function(){return cUt(this)[e]})};EV&&(U3(C2,"code",yV("code")),U3(C2,"message",yV("message")),U3(C2,"name",yV("name")));G3(C2,"constructor",IV(1,TV));var Z3=SV(function(){return!(new of instanceof W3)}),LAe=Z3||SV(function(){return DAe.toString!==AAe||String(new of(1,2))!=="2: 1"}),RAe=Z3||SV(function(){return new of(1,"DataCloneError").code!==25}),fUt=Z3||of[wV]!==25||lUt[wV]!==25,CAe=OAe?LAe||RAe||fUt:Z3;tUt({global:!0,constructor:!0,forced:CAe},{DOMException:CAe?TV:of});var A2=$3(V0),H3=A2.prototype;LAe&&(OAe||of===A2)&&iUt(H3,"toString",AAe);RAe&&EV&&of===A2&&U3(H3,"code",kAe(function(){return NAe(aUt(this).name)}));for(_V in U0)V3(U0,_V)&&(bV=U0[_V],M2=bV.s,xV=IV(6,bV.c),V3(A2,M2)||G3(A2,M2,xV),V3(H3,M2)||G3(H3,M2,xV));var bV,M2,xV,_V});var $Ae=C(()=>{"use strict";var dUt=oe(),hUt=Rt(),kV=Sr(),DV=Ls(),NV=ti().f,zAe=$r(),mUt=ja(),gUt=Fd(),jAe=tg(),MV=vV(),vUt=pC(),yUt=fr(),UAe=yn(),O2="DOMException",VAe=kV("Error"),D2=kV(O2),LV=function(){mUt(this,_Ut);var t=arguments.length,r=jAe(t<1?void 0:arguments[0]),n=jAe(t<2?void 0:arguments[1],"Error"),i=new D2(r,n),o=new VAe(r);return o.name=O2,NV(i,"stack",DV(1,vUt(o.stack,1))),gUt(i,this,LV),i},_Ut=LV.prototype=D2.prototype,bUt="stack"in new VAe(O2),xUt="stack"in new D2(1,2),CV=D2&&yUt&&Object.getOwnPropertyDescriptor(hUt,O2),wUt=!!CV&&!(CV.writable&&CV.configurable),FAe=bUt&&!wUt&&!xUt;dUt({global:!0,constructor:!0,forced:UAe||FAe},{DOMException:FAe?LV:D2});var P2=kV(O2),BAe=P2.prototype;if(BAe.constructor!==P2){UAe||NV(BAe,"constructor",DV(1,P2));for(AV in MV)zAe(MV,AV)&&(PV=MV[AV],OV=PV.s,zAe(P2,OV)||NV(P2,OV,DV(6,PV.c)))}var PV,OV,AV});var HAe=C(()=>{"use strict";var SUt=Sr(),IUt=fs(),GAe="DOMException";IUt(SUt(GAe),GAe)});var ZAe=C(()=>{"use strict";var EUt=oe(),TUt=Rt(),WAe=Lw().clear;EUt({global:!0,bind:!0,enumerable:!0,forced:TUt.clearImmediate!==WAe},{clearImmediate:WAe})});var Y3=C((tkr,KAe)=>{"use strict";var YAe=Rt(),MUt=la(),CUt=jr(),AUt=dw(),PUt=Pu(),OUt=zs(),DUt=hl(),NUt=YAe.Function,kUt=/MSIE .\./.test(PUt)||AUt==="BUN"&&function(){var e=YAe.Bun.version.split(".");return e.length<3||e[0]==="0"&&(e[1]<3||e[1]==="3"&&e[2]==="0")}();KAe.exports=function(e,t){var r=t?2:1;return kUt?function(n,i){var o=DUt(arguments.length,1)>r,u=CUt(n)?n:NUt(n),f=o?OUt(arguments,r):[],m=o?function(){MUt(u,this,f)}:u;return t?e(m,i):e(m)}:e}});var e3e=C(()=>{"use strict";var LUt=oe(),JAe=Rt(),XAe=Lw().set,RUt=Y3(),QAe=JAe.setImmediate?RUt(XAe,!1):XAe;LUt({global:!0,bind:!0,enumerable:!0,forced:JAe.setImmediate!==QAe},{setImmediate:QAe})});var t3e=C(()=>{"use strict";ZAe();e3e()});var r3e=C(()=>{"use strict";var qUt=oe(),zUt=Rt(),jUt=Hz(),FUt=Ir(),BUt=hl(),UUt=wt(),VUt=fr(),$Ut=UUt(function(){return VUt&&Object.getOwnPropertyDescriptor(zUt,"queueMicrotask").value.length!==1});qUt({global:!0,enumerable:!0,dontCallGetSet:!0,forced:$Ut},{queueMicrotask:function(t){BUt(arguments.length,1),jUt(FUt(t))}})});var i3e=C(()=>{"use strict";var GUt=oe(),uh=Rt(),HUt=gi(),WUt=fr(),ZUt=TypeError,YUt=Object.defineProperty,n3e=uh.self!==uh;try{WUt?(K3=Object.getOwnPropertyDescriptor(uh,"self"),(n3e||!K3||!K3.get||!K3.enumerable)&&HUt(uh,"self",{get:function(){return uh},set:function(t){if(this!==uh)throw new ZUt("Illegal invocation");YUt(uh,"self",{value:t,writable:!0,configurable:!0,enumerable:!0})},configurable:!0,enumerable:!0})):GUt({global:!0,simple:!0,forced:n3e},{self:uh})}catch(e){}var K3});var m3e=C(()=>{"use strict";var KUt=yn(),XUt=oe(),da=Rt(),k2=Sr(),R2=mt(),BV=wt(),QUt=Ld(),G0=jr(),JUt=Ru(),eVt=Rs(),t5=vr(),tVt=Gp(),rVt=Di(),s3e=jt(),J3=ps(),nVt=$r(),iVt=$l(),RV=yo(),X3=cn(),oVt=hl(),aVt=x0(),r5=Oo(),UV=$o(),sVt=Bs(),o3e=Q7(),lVt=M8(),VV=UC(),N2=da.Object,uVt=da.Array,l3e=da.Date,u3e=da.Error,cVt=da.TypeError,pVt=da.PerformanceMark,xg=k2("DOMException"),jV=r5.Map,$V=r5.has,c3e=r5.get,e5=r5.set,p3e=UV.Set,f3e=UV.add,fVt=UV.has,dVt=k2("Object","keys"),hVt=R2([].push),mVt=R2((!0).valueOf),gVt=R2(1 .valueOf),vVt=R2("".valueOf),yVt=R2(l3e.prototype.getTime),FV=QUt("structuredClone"),L2="DataCloneError",Q3="Transferring",d3e=function(e){return!BV(function(){var t=new da.Set([7]),r=e(t),n=e(N2(7));return r===t||!r.has(7)||!t5(n)||+n!=7})&&e},a3e=function(e,t){return!BV(function(){var r=new t,n=e({a:r,b:r});return!(n&&n.a===n.b&&n.a instanceof t&&n.a.stack===r.stack)})},_Vt=function(e){return!BV(function(){var t=e(new da.AggregateError([1],FV,{cause:3}));return t.name!=="AggregateError"||t.errors[0]!==1||t.message!==FV||t.cause!==3})},$0=da.structuredClone,bVt=KUt||!a3e($0,u3e)||!a3e($0,xg)||!_Vt($0),xVt=!$0&&d3e(function(e){return new pVt(FV,{detail:e}).detail}),af=d3e($0)||xVt,qV=function(e){throw new xg("Uncloneable type: "+e,L2)},$s=function(e,t){throw new xg((t||"Cloning")+" of "+e+" cannot be properly polyfilled in this engine",L2)},zV=function(e,t){return af||$s(t),af(e)},wVt=function(){var e;try{e=new da.DataTransfer}catch(t){try{e=new da.ClipboardEvent("").clipboardData}catch(r){}}return e&&e.items&&e.files?e:null},h3e=function(e,t,r){if($V(t,e))return c3e(t,e);var n=r||J3(e),i,o,u,f,m,y;if(n==="SharedArrayBuffer")af?i=af(e):i=e;else{var w=da.DataView;!w&&!G0(e.slice)&&$s("ArrayBuffer");try{if(G0(e.slice)&&!e.resizable)i=e.slice(0);else for(o=e.byteLength,u=("maxByteLength"in e)?{maxByteLength:e.maxByteLength}:void 0,i=new ArrayBuffer(o,u),f=new w(e),m=new w(i),y=0;y<o;y++)m.setUint8(y,f.getUint8(y))}catch(I){throw new xg("ArrayBuffer is detached",L2)}}return e5(t,e,i),i},SVt=function(e,t,r,n,i){var o=da[t];return t5(o)||$s(t),new o(h3e(e.buffer,i),r,n)},fa=function(e,t){if(tVt(e)&&qV("Symbol"),!t5(e))return e;if(t){if($V(t,e))return c3e(t,e)}else t=new jV;var r=J3(e),n,i,o,u,f,m,y,w;switch(r){case"Array":o=uVt(X3(e));break;case"Object":o={};break;case"Map":o=new jV;break;case"Set":o=new p3e;break;case"RegExp":o=new RegExp(e.source,aVt(e));break;case"Error":switch(i=e.name,i){case"AggregateError":o=new(k2(i))([]);break;case"EvalError":case"RangeError":case"ReferenceError":case"SuppressedError":case"SyntaxError":case"TypeError":case"URIError":o=new(k2(i));break;case"CompileError":case"LinkError":case"RuntimeError":o=new(k2("WebAssembly",i));break;default:o=new u3e}break;case"DOMException":o=new xg(e.message,e.name);break;case"ArrayBuffer":case"SharedArrayBuffer":o=h3e(e,t,r);break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float16Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":m=r==="DataView"?e.byteLength:e.length,o=SVt(e,r,e.byteOffset,m,t);break;case"DOMQuad":try{o=new DOMQuad(fa(e.p1,t),fa(e.p2,t),fa(e.p3,t),fa(e.p4,t))}catch(I){o=zV(e,r)}break;case"File":if(af)try{o=af(e),J3(o)!==r&&(o=void 0)}catch(I){}if(!o)try{o=new File([e],e.name,e)}catch(I){}o||$s(r);break;case"FileList":if(u=wVt(),u){for(f=0,m=X3(e);f<m;f++)u.items.add(fa(e[f],t));o=u.files}else o=zV(e,r);break;case"ImageData":try{o=new ImageData(fa(e.data,t),e.width,e.height,{colorSpace:e.colorSpace})}catch(I){o=zV(e,r)}break;default:if(af)o=af(e);else switch(r){case"BigInt":o=N2(e.valueOf());break;case"Boolean":o=N2(mVt(e));break;case"Number":o=N2(gVt(e));break;case"String":o=N2(vVt(e));break;case"Date":o=new l3e(yVt(e));break;case"Blob":try{o=e.slice(0,e.size,e.type)}catch(I){$s(r)}break;case"DOMPoint":case"DOMPointReadOnly":n=da[r];try{o=n.fromPoint?n.fromPoint(e):new n(e.x,e.y,e.z,e.w)}catch(I){$s(r)}break;case"DOMRect":case"DOMRectReadOnly":n=da[r];try{o=n.fromRect?n.fromRect(e):new n(e.x,e.y,e.width,e.height)}catch(I){$s(r)}break;case"DOMMatrix":case"DOMMatrixReadOnly":n=da[r];try{o=n.fromMatrix?n.fromMatrix(e):new n(e)}catch(I){$s(r)}break;case"AudioData":case"VideoFrame":G0(e.clone)||$s(r);try{o=e.clone()}catch(I){qV(r)}break;case"CropTarget":case"CryptoKey":case"FileSystemDirectoryHandle":case"FileSystemFileHandle":case"FileSystemHandle":case"GPUCompilationInfo":case"GPUCompilationMessage":case"ImageBitmap":case"RTCCertificate":case"WebAssembly.Module":$s(r);default:qV(r)}}switch(e5(t,e,o),r){case"Array":case"Object":for(y=dVt(e),f=0,m=X3(y);f<m;f++)w=y[f],iVt(o,w,fa(e[w],t));break;case"Map":e.forEach(function(I,M){e5(o,fa(M,t),fa(I,t))});break;case"Set":e.forEach(function(I){f3e(o,fa(I,t))});break;case"Error":RV(o,"message",fa(e.message,t)),nVt(e,"cause")&&RV(o,"cause",fa(e.cause,t)),i==="AggregateError"?o.errors=fa(e.errors,t):i==="SuppressedError"&&(o.error=fa(e.error,t),o.suppressed=fa(e.suppressed,t));case"DOMException":lVt&&RV(o,"stack",fa(e.stack,t))}return o},IVt=function(e,t){if(!t5(e))throw new cVt("Transfer option cannot be converted to a sequence");var r=[];rVt(e,function(M){hVt(r,s3e(M))});for(var n=0,i=X3(r),o=new p3e,u,f,m,y,w,I;n<i;){if(u=r[n++],f=J3(u),f==="ArrayBuffer"?fVt(o,u):$V(t,u))throw new xg("Duplicate transferable",L2);if(f==="ArrayBuffer"){f3e(o,u);continue}if(VV)y=$0(u,{transfer:[u]});else switch(f){case"ImageBitmap":m=da.OffscreenCanvas,JUt(m)||$s(f,Q3);try{w=new m(u.width,u.height),I=w.getContext("bitmaprenderer"),I.transferFromImageBitmap(u),y=w.transferToImageBitmap()}catch(M){}break;case"AudioData":case"VideoFrame":(!G0(u.clone)||!G0(u.close))&&$s(f,Q3);try{y=u.clone(),u.close()}catch(M){}break;case"MediaSourceHandle":case"MessagePort":case"MIDIAccess":case"OffscreenCanvas":case"ReadableStream":case"RTCDataChannel":case"TransformStream":case"WebTransportReceiveStream":case"WebTransportSendStream":case"WritableStream":$s(f,Q3)}if(y===void 0)throw new xg("This object cannot be transferred: "+f,L2);e5(t,u,y)}return o},EVt=function(e){sVt(e,function(t){VV?af(t,{transfer:[t]}):G0(t.transfer)?t.transfer():o3e?o3e(t):$s("ArrayBuffer",Q3)})};XUt({global:!0,enumerable:!0,sham:!VV,forced:bVt},{structuredClone:function(t){var r=oVt(arguments.length,1)>1&&!eVt(arguments[1])?s3e(arguments[1]):void 0,n=r?r.transfer:void 0,i,o;n!==void 0&&(i=new jV,o=IVt(n,i));var u=fa(t,i);return o&&EVt(o),u}})});var y3e=C(()=>{"use strict";var TVt=oe(),v3e=Rt(),MVt=Y3(),g3e=MVt(v3e.setInterval,!0);TVt({global:!0,bind:!0,forced:v3e.setInterval!==g3e},{setInterval:g3e})});var x3e=C(()=>{"use strict";var CVt=oe(),b3e=Rt(),AVt=Y3(),_3e=AVt(b3e.setTimeout,!0);CVt({global:!0,bind:!0,forced:b3e.setTimeout!==_3e},{setTimeout:_3e})});var w3e=C(()=>{"use strict";y3e();x3e()});var q2=C((ykr,I3e)=>{"use strict";var PVt=wt(),OVt=xr(),DVt=fr(),S3e=yn(),NVt=OVt("iterator");I3e.exports=!PVt(function(){var e=new URL("b?a=1&b=2&c=3","https://a"),t=e.searchParams,r=new URLSearchParams("a=1&a=2&b=3"),n="";return e.pathname="c%20d",t.forEach(function(i,o){t.delete("b"),n+=o+i}),r.delete("a",2),r.delete("b",void 0),S3e&&(!e.toJSON||!r.has("a",1)||r.has("a",2)||!r.has("a",void 0)||r.has("b"))||!t.size&&(S3e||!DVt)||!t.sort||e.href!=="https://a/c%20d?a=1&c=3"||t.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!t[NVt]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("https://\u0442\u0435\u0441\u0442").host!=="xn--e1aybc"||new URL("https://a#\u0431").hash!=="#%D0%B1"||n!=="a1c3"||new URL("https://x",void 0).host!=="x"})});var N3e=C((_kr,D3e)=>{"use strict";var wg=mt(),GV=2147483647,z2=36,A3e=1,ZV=26,kVt=38,LVt=700,RVt=72,qVt=128,zVt="-",jVt=/[^\0-\u007E]/,P3e=/[.\u3002\uFF0E\uFF61]/g,E3e="Overflow: input needs wider integers to process",HV=z2-A3e,T3e=RangeError,FVt=wg(P3e.exec),H0=Math.floor,WV=String.fromCharCode,M3e=wg("".charCodeAt),O3e=wg([].join),ch=wg([].push),BVt=wg("".replace),UVt=wg("".split),VVt=wg("".toLowerCase),$Vt=function(e){for(var t=[],r=0,n=e.length;r<n;){var i=M3e(e,r++);if(i>=55296&&i<=56319&&r<n){var o=M3e(e,r++);(o&64512)===56320?ch(t,((i&1023)<<10)+(o&1023)+65536):(ch(t,i),r--)}else ch(t,i)}return t},C3e=function(e){return e+22+75*(e<26)},GVt=function(e,t,r){var n=0;for(e=r?H0(e/LVt):e>>1,e+=H0(e/t);e>HV*ZV>>1;)e=H0(e/HV),n+=z2;return H0(n+(HV+1)*e/(e+kVt))},HVt=function(e){var t=[];e=$Vt(e);var r=e.length,n=qVt,i=0,o=RVt,u,f;for(u=0;u<e.length;u++)f=e[u],f<128&&ch(t,WV(f));var m=t.length,y=m;for(m&&ch(t,zVt);y<r;){var w=GV;for(u=0;u<e.length;u++)f=e[u],f>=n&&f<w&&(w=f);var I=y+1;if(w-n>H0((GV-i)/I))throw new T3e(E3e);for(i+=(w-n)*I,n=w,u=0;u<e.length;u++){if(f=e[u],f<n&&++i>GV)throw new T3e(E3e);if(f===n){for(var M=i,N=z2;;){var z=N<=o?A3e:N>=o+ZV?ZV:N-o;if(M<z)break;var F=M-z,q=z2-z;ch(t,WV(C3e(z+F%q))),M=H0(F/q),N+=z2}ch(t,WV(C3e(M))),o=GVt(i,I,y===m),i=0,y++}}i++,n++}return O3e(t,"")};D3e.exports=function(e){var t=[],r=UVt(BVt(VVt(e),P3e,"."),"."),n,i;for(n=0;n<r.length;n++)i=r[n],ch(t,FVt(jVt,i)?"xn--"+HVt(i):i);return O3e(t,".")}});var n$=C((bkr,r5e)=>{"use strict";cw();Jj();var e$=oe(),H3e=Rt(),t$=jz(),WVt=Sr(),n5=qt(),Fu=mt(),j2=fr(),W3e=q2(),Z3e=Ln(),ZVt=gi(),YVt=Hl(),KVt=fs(),XVt=$d(),r$=On(),Y3e=ja(),YV=jr(),QVt=$r(),JVt=Un(),e$t=ps(),t$t=jt(),K3e=vr(),hs=Pr(),r$t=Wi(),k3e=Ls(),L3e=Bd(),n$t=Oc(),i5=Po(),W0=hl(),i$t=xr(),o$t=CC(),a$t=i$t("iterator"),Y0="URLSearchParams",X3e=Y0+"Iterator",Q3e=r$.set,Yl=r$.getterFor(Y0),s$t=r$.getterFor(X3e),R3e=t$("fetch"),s5=t$("Request"),F2=t$("Headers"),KV=s5&&s5.prototype,q3e=F2&&F2.prototype,l$t=H3e.TypeError,u$t=H3e.encodeURIComponent,c$t=String.fromCharCode,p$t=WVt("String","fromCodePoint"),f$t=parseInt,a5=Fu("".charAt),z3e=Fu([].join),ph=Fu([].push),J3e=Fu("".replace),d$t=Fu([].shift),j3e=Fu([].splice),F3e=Fu("".split),e5e=Fu("".slice),h$t=Fu(/./.exec),m$t=/\+/g,XV="\uFFFD",g$t=/^[0-9a-f]+$/i,B3e=function(e,t){var r=e5e(e,t,t+2);return h$t(g$t,r)?f$t(r,16):NaN},v$t=function(e){for(var t=0,r=128;r>0&&(e&r)!==0;r>>=1)t++;return t},y$t=function(e){var t=null;switch(e.length){case 1:t=e[0];break;case 2:t=(e[0]&31)<<6|e[1]&63;break;case 3:t=(e[0]&15)<<12|(e[1]&63)<<6|e[2]&63;break;case 4:t=(e[0]&7)<<18|(e[1]&63)<<12|(e[2]&63)<<6|e[3]&63;break}return t>1114111?null:t},U3e=function(e){e=J3e(e,m$t," ");for(var t=e.length,r="",n=0;n<t;){var i=a5(e,n);if(i==="%"){if(a5(e,n+1)==="%"||n+3>t){r+="%",n++;continue}var o=B3e(e,n+1);if(o!==o){r+=i,n++;continue}n+=2;var u=v$t(o);if(u===0)i=c$t(o);else{if(u===1||u>4){r+=XV,n++;continue}for(var f=[o],m=1;m<u&&(n++,!(n+3>t||a5(e,n)!=="%"));){var y=B3e(e,n+1);if(y!==y){n+=3;break}if(y>191||y<128)break;ph(f,y),n+=2,m++}if(f.length!==u){r+=XV;continue}var w=y$t(f);w===null?r+=XV:i=p$t(w)}}r+=i,n++}return r},_$t=/[!'()~]|%20/g,b$t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},x$t=function(e){return b$t[e]},V3e=function(e){return J3e(u$t(e),_$t,x$t)},QV=XVt(function(t,r){Q3e(this,{type:X3e,target:Yl(t).entries,index:0,kind:r})},Y0,function(){var t=s$t(this),r=t.target,n=t.index++;if(!r||n>=r.length)return t.target=null,i5(void 0,!0);var i=r[n];switch(t.kind){case"keys":return i5(i.key,!1);case"values":return i5(i.value,!1)}return i5([i.key,i.value],!1)},!0),t5e=function(e){this.entries=[],this.url=null,e!==void 0&&(K3e(e)?this.parseObject(e):this.parseQuery(typeof e=="string"?a5(e,0)==="?"?e5e(e,1):e:hs(e)))};t5e.prototype={type:Y0,bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t=this.entries,r=n$t(e),n,i,o,u,f,m,y;if(r)for(n=L3e(e,r),i=n.next;!(o=n5(i,n)).done;){if(u=L3e(t$t(o.value)),f=u.next,(m=n5(f,u)).done||(y=n5(f,u)).done||!n5(f,u).done)throw new l$t("Expected sequence with length 2");ph(t,{key:hs(m.value),value:hs(y.value)})}else for(var w in e)QVt(e,w)&&ph(t,{key:w,value:hs(e[w])})},parseQuery:function(e){if(e)for(var t=this.entries,r=F3e(e,"&"),n=0,i,o;n<r.length;)i=r[n++],i.length&&(o=F3e(i,"="),ph(t,{key:U3e(d$t(o)),value:U3e(z3e(o,"="))}))},serialize:function(){for(var e=this.entries,t=[],r=0,n;r<e.length;)n=e[r++],ph(t,V3e(n.key)+"="+V3e(n.value));return z3e(t,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var l5=function(){Y3e(this,Z0);var t=arguments.length>0?arguments[0]:void 0,r=Q3e(this,new t5e(t));j2||(this.size=r.entries.length)},Z0=l5.prototype;YVt(Z0,{append:function(t,r){var n=Yl(this);W0(arguments.length,2),ph(n.entries,{key:hs(t),value:hs(r)}),j2||this.length++,n.updateURL()},delete:function(e){for(var t=Yl(this),r=W0(arguments.length,1),n=t.entries,i=hs(e),o=r<2?void 0:arguments[1],u=o===void 0?o:hs(o),f=0;f<n.length;){var m=n[f];if(m.key===i&&(u===void 0||m.value===u)){if(j3e(n,f,1),u!==void 0)break}else f++}j2||(this.size=n.length),t.updateURL()},get:function(t){var r=Yl(this).entries;W0(arguments.length,1);for(var n=hs(t),i=0;i<r.length;i++)if(r[i].key===n)return r[i].value;return null},getAll:function(t){var r=Yl(this).entries;W0(arguments.length,1);for(var n=hs(t),i=[],o=0;o<r.length;o++)r[o].key===n&&ph(i,r[o].value);return i},has:function(t){for(var r=Yl(this).entries,n=W0(arguments.length,1),i=hs(t),o=n<2?void 0:arguments[1],u=o===void 0?o:hs(o),f=0;f<r.length;){var m=r[f++];if(m.key===i&&(u===void 0||m.value===u))return!0}return!1},set:function(t,r){var n=Yl(this);W0(arguments.length,1);for(var i=n.entries,o=!1,u=hs(t),f=hs(r),m=0,y;m<i.length;m++)y=i[m],y.key===u&&(o?j3e(i,m--,1):(o=!0,y.value=f));o||ph(i,{key:u,value:f}),j2||(this.size=i.length),n.updateURL()},sort:function(){var t=Yl(this);o$t(t.entries,function(r,n){return r.key>n.key?1:-1}),t.updateURL()},forEach:function(t){for(var r=Yl(this).entries,n=JVt(t,arguments.length>1?arguments[1]:void 0),i=0,o;i<r.length;)o=r[i++],n(o.value,o.key,this)},keys:function(){return new QV(this,"keys")},values:function(){return new QV(this,"values")},entries:function(){return new QV(this,"entries")}},{enumerable:!0});Z3e(Z0,a$t,Z0.entries,{name:"entries"});Z3e(Z0,"toString",function(){return Yl(this).serialize()},{enumerable:!0});j2&&ZVt(Z0,"size",{get:function(){return Yl(this).entries.length},configurable:!0,enumerable:!0});KVt(l5,Y0);e$({global:!0,constructor:!0,forced:!W3e},{URLSearchParams:l5});!W3e&&YV(F2)&&($3e=Fu(q3e.has),G3e=Fu(q3e.set),JV=function(e){if(K3e(e)){var t=e.body,r;if(e$t(t)===Y0)return r=e.headers?new F2(e.headers):new F2,$3e(r,"content-type")||G3e(r,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),r$t(e,{body:k3e(0,hs(t)),headers:k3e(0,r)})}return e},YV(R3e)&&e$({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(t){return R3e(t,arguments.length>1?JV(arguments[1]):{})}}),YV(s5)&&(o5=function(t){return Y3e(this,KV),new s5(t,arguments.length>1?JV(arguments[1]):{})},KV.constructor=o5,o5.prototype=KV,e$({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:o5})));var $3e,G3e,JV,o5;r5e.exports={URLSearchParams:l5,getState:Yl}});var b5e=C(()=>{"use strict";tF();var w$t=oe(),b$=fr(),S$t=q2(),x$=Rt(),n5e=Un(),eu=mt(),d5=Ln(),Kl=gi(),I$t=ja(),v$=$r(),w$=xz(),K0=Y8(),Bu=zs(),E$t=dg().codeAt,T$t=N3e(),lf=Pr(),M$t=fs(),C$t=hl(),h5e=n$(),m5e=On(),A$t=m5e.set,h5=m5e.getterFor("URL"),P$t=h5e.URLSearchParams,O$t=h5e.getState,B2=x$.URL,y$=x$.TypeError,m5=x$.parseInt,D$t=Math.floor,i5e=Math.pow,Jl=eu("".charAt),Uu=eu(/./.exec),V2=eu([].join),N$t=eu(1 .toString),k$t=eu([].pop),Q0=eu([].push),i$=eu("".replace),L$t=eu([].shift),R$t=eu("".split),G2=eu("".slice),g5=eu("".toLowerCase),q$t=eu([].unshift),z$t="Invalid authority",o$="Invalid scheme",Sg="Invalid host",o5e="Invalid port",g5e=/[a-z]/i,j$t=/[\d+-.a-z]/i,_$=/\d/,F$t=/^0x/i,B$t=/^[0-7]+$/,U$t=/^\d+$/,v5e=/^[\da-f]+$/i,V$t=/[\0\t\n\r #%/:<>?@[\\\]^|]/,$$t=/[\0\t\n\r #/:<>?@[\\\]^|]/,G$t=/^[\u0000-\u0020]+/,H$t=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,W$t=/[\t\n\r]/g,Xl,Z$t=function(e){var t=R$t(e,"."),r,n,i,o,u,f,m;if(t.length&&t[t.length-1]===""&&t.length--,r=t.length,r>4)return e;for(n=[],i=0;i<r;i++){if(o=t[i],o==="")return e;if(u=10,o.length>1&&Jl(o,0)==="0"&&(u=Uu(F$t,o)?16:8,o=G2(o,u===8?1:2)),o==="")f=0;else{if(!Uu(u===10?U$t:u===8?B$t:v5e,o))return e;f=m5(o,u)}Q0(n,f)}for(i=0;i<r;i++)if(f=n[i],i===r-1){if(f>=i5e(256,5-r))return null}else if(f>255)return null;for(m=k$t(n),i=0;i<n.length;i++)m+=n[i]*i5e(256,3-i);return m},Y$t=function(e){var t=[0,0,0,0,0,0,0,0],r=0,n=null,i=0,o,u,f,m,y,w,I,M=function(){return Jl(e,i)};if(M()===":"){if(Jl(e,1)!==":")return;i+=2,r++,n=r}for(;M();){if(r===8)return;if(M()===":"){if(n!==null)return;i++,r++,n=r;continue}for(o=u=0;u<4&&Uu(v5e,M());)o=o*16+m5(M(),16),i++,u++;if(M()==="."){if(u===0||(i-=u,r>6))return;for(f=0;M();){if(m=null,f>0)if(M()==="."&&f<4)i++;else return;if(!Uu(_$,M()))return;for(;Uu(_$,M());){if(y=m5(M(),10),m===null)m=y;else{if(m===0)return;m=m*10+y}if(m>255)return;i++}t[r]=t[r]*256+m,f++,(f===2||f===4)&&r++}if(f!==4)return;break}else if(M()===":"){if(i++,!M())return}else if(M())return;t[r++]=o}if(n!==null)for(w=r-n,r=7;r!==0&&w>0;)I=t[r],t[r--]=t[n+w-1],t[n+--w]=I;else if(r!==8)return;return t},K$t=function(e){for(var t=null,r=1,n=null,i=0,o=0;o<8;o++)e[o]!==0?(i>r&&(t=n,r=i),n=null,i=0):(n===null&&(n=o),++i);return i>r?n:t},U2=function(e){var t,r,n,i;if(typeof e=="number"){for(t=[],r=0;r<4;r++)q$t(t,e%256),e=D$t(e/256);return V2(t,".")}if(typeof e=="object"){for(t="",n=K$t(e),r=0;r<8;r++)i&&e[r]===0||(i&&(i=!1),n===r?(t+=r?":":"::",i=!0):(t+=N$t(e[r],16),r<7&&(t+=":")));return"["+t+"]"}return e},f5={},y5e=w$({},f5,{" ":1,"\"":1,"<":1,">":1,"`":1}),_5e=w$({},y5e,{"#":1,"?":1,"{":1,"}":1}),a$=w$({},_5e,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),fh=function(e,t){var r=E$t(e,0);return r>32&&r<127&&!v$(t,e)?e:encodeURIComponent(e)},u5={ftp:21,file:null,http:80,https:443,ws:80,wss:443},$2=function(e,t){var r;return e.length===2&&Uu(g5e,Jl(e,0))&&((r=Jl(e,1))===":"||!t&&r==="|")},a5e=function(e){var t;return e.length>1&&$2(G2(e,0,2))&&(e.length===2||(t=Jl(e,2))==="/"||t==="\\"||t==="?"||t==="#")},X$t=function(e){return e==="."||g5(e)==="%2e"},Q$t=function(e){return e=g5(e),e===".."||e==="%2e."||e===".%2e"||e==="%2e%2e"},s$={},s5e={},l$={},l5e={},u5e={},u$={},c5e={},p5e={},c5={},p5={},c$={},p$={},f$={},d$={},f5e={},h$={},X0={},Uc={},d5e={},Ig={},sf={},S$=function(e,t,r){var n=lf(e),i,o,u;if(t){if(o=this.parse(n),o)throw new y$(o);this.searchParams=null}else{if(r!==void 0&&(i=new S$(r,!0)),o=this.parse(n,null,i),o)throw new y$(o);u=O$t(new P$t),u.bindURL(this),this.searchParams=u}};S$.prototype={type:"URL",parse:function(e,t,r){var n=this,i=t||s$,o=0,u="",f=!1,m=!1,y=!1,w,I,M,N;for(e=lf(e),t||(n.scheme="",n.username="",n.password="",n.host=null,n.port=null,n.path=[],n.query=null,n.fragment=null,n.cannotBeABaseURL=!1,e=i$(e,G$t,""),e=i$(e,H$t,"$1")),e=i$(e,W$t,""),w=K0(e);o<=w.length;){switch(I=w[o],i){case s$:if(I&&Uu(g5e,I))u+=g5(I),i=s5e;else{if(t)return o$;i=l$;continue}break;case s5e:if(I&&(Uu(j$t,I)||I==="+"||I==="-"||I==="."))u+=g5(I);else if(I===":"){if(t&&(n.isSpecial()!==v$(u5,u)||u==="file"&&(n.includesCredentials()||n.port!==null)||n.scheme==="file"&&!n.host))return;if(n.scheme=u,t){n.isSpecial()&&u5[n.scheme]===n.port&&(n.port=null);return}u="",n.scheme==="file"?i=d$:n.isSpecial()&&r&&r.scheme===n.scheme?i=l5e:n.isSpecial()?i=p5e:w[o+1]==="/"?(i=u5e,o++):(n.cannotBeABaseURL=!0,Q0(n.path,""),i=d5e)}else{if(t)return o$;u="",i=l$,o=0;continue}break;case l$:if(!r||r.cannotBeABaseURL&&I!=="#")return o$;if(r.cannotBeABaseURL&&I==="#"){n.scheme=r.scheme,n.path=Bu(r.path),n.query=r.query,n.fragment="",n.cannotBeABaseURL=!0,i=sf;break}i=r.scheme==="file"?d$:u$;continue;case l5e:if(I==="/"&&w[o+1]==="/")i=c5,o++;else{i=u$;continue}break;case u5e:if(I==="/"){i=p5;break}else{i=Uc;continue}case u$:if(n.scheme=r.scheme,I===Xl)n.username=r.username,n.password=r.password,n.host=r.host,n.port=r.port,n.path=Bu(r.path),n.query=r.query;else if(I==="/"||I==="\\"&&n.isSpecial())i=c5e;else if(I==="?")n.username=r.username,n.password=r.password,n.host=r.host,n.port=r.port,n.path=Bu(r.path),n.query="",i=Ig;else if(I==="#")n.username=r.username,n.password=r.password,n.host=r.host,n.port=r.port,n.path=Bu(r.path),n.query=r.query,n.fragment="",i=sf;else{n.username=r.username,n.password=r.password,n.host=r.host,n.port=r.port,n.path=Bu(r.path),n.path.length--,i=Uc;continue}break;case c5e:if(n.isSpecial()&&(I==="/"||I==="\\"))i=c5;else if(I==="/")i=p5;else{n.username=r.username,n.password=r.password,n.host=r.host,n.port=r.port,i=Uc;continue}break;case p5e:if(i=c5,I!=="/"||Jl(u,o+1)!=="/")continue;o++;break;case c5:if(I!=="/"&&I!=="\\"){i=p5;continue}break;case p5:if(I==="@"){f&&(u="%40"+u),f=!0,M=K0(u);for(var z=0;z<M.length;z++){var F=M[z];if(F===":"&&!y){y=!0;continue}var q=fh(F,a$);y?n.password+=q:n.username+=q}u=""}else if(I===Xl||I==="/"||I==="?"||I==="#"||I==="\\"&&n.isSpecial()){if(f&&u==="")return z$t;o-=K0(u).length+1,u="",i=c$}else u+=I;break;case c$:case p$:if(t&&n.scheme==="file"){i=h$;continue}else if(I===":"&&!m){if(u==="")return Sg;if(N=n.parseHost(u),N)return N;if(u="",i=f$,t===p$)return}else if(I===Xl||I==="/"||I==="?"||I==="#"||I==="\\"&&n.isSpecial()){if(n.isSpecial()&&u==="")return Sg;if(t&&u===""&&(n.includesCredentials()||n.port!==null))return;if(N=n.parseHost(u),N)return N;if(u="",i=X0,t)return;continue}else I==="["?m=!0:I==="]"&&(m=!1),u+=I;break;case f$:if(Uu(_$,I))u+=I;else if(I===Xl||I==="/"||I==="?"||I==="#"||I==="\\"&&n.isSpecial()||t){if(u!==""){var R=m5(u,10);if(R>65535)return o5e;n.port=n.isSpecial()&&R===u5[n.scheme]?null:R,u=""}if(t)return;i=X0;continue}else return o5e;break;case d$:if(n.scheme="file",I==="/"||I==="\\")i=f5e;else if(r&&r.scheme==="file")switch(I){case Xl:n.host=r.host,n.path=Bu(r.path),n.query=r.query;break;case"?":n.host=r.host,n.path=Bu(r.path),n.query="",i=Ig;break;case"#":n.host=r.host,n.path=Bu(r.path),n.query=r.query,n.fragment="",i=sf;break;default:a5e(V2(Bu(w,o),""))||(n.host=r.host,n.path=Bu(r.path),n.shortenPath()),i=Uc;continue}else{i=Uc;continue}break;case f5e:if(I==="/"||I==="\\"){i=h$;break}r&&r.scheme==="file"&&!a5e(V2(Bu(w,o),""))&&($2(r.path[0],!0)?Q0(n.path,r.path[0]):n.host=r.host),i=Uc;continue;case h$:if(I===Xl||I==="/"||I==="\\"||I==="?"||I==="#"){if(!t&&$2(u))i=Uc;else if(u===""){if(n.host="",t)return;i=X0}else{if(N=n.parseHost(u),N)return N;if(n.host==="localhost"&&(n.host=""),t)return;u="",i=X0}continue}else u+=I;break;case X0:if(n.isSpecial()){if(i=Uc,I!=="/"&&I!=="\\")continue}else if(!t&&I==="?")n.query="",i=Ig;else if(!t&&I==="#")n.fragment="",i=sf;else if(I!==Xl&&(i=Uc,I!=="/"))continue;break;case Uc:if(I===Xl||I==="/"||I==="\\"&&n.isSpecial()||!t&&(I==="?"||I==="#")){if(Q$t(u)?(n.shortenPath(),I!=="/"&&!(I==="\\"&&n.isSpecial())&&Q0(n.path,"")):X$t(u)?I!=="/"&&!(I==="\\"&&n.isSpecial())&&Q0(n.path,""):(n.scheme==="file"&&!n.path.length&&$2(u)&&(n.host&&(n.host=""),u=Jl(u,0)+":"),Q0(n.path,u)),u="",n.scheme==="file"&&(I===Xl||I==="?"||I==="#"))for(;n.path.length>1&&n.path[0]==="";)L$t(n.path);I==="?"?(n.query="",i=Ig):I==="#"&&(n.fragment="",i=sf)}else u+=fh(I,_5e);break;case d5e:I==="?"?(n.query="",i=Ig):I==="#"?(n.fragment="",i=sf):I!==Xl&&(n.path[0]+=fh(I,f5));break;case Ig:!t&&I==="#"?(n.fragment="",i=sf):I!==Xl&&(I==="'"&&n.isSpecial()?n.query+="%27":I==="#"?n.query+="%23":n.query+=fh(I,f5));break;case sf:I!==Xl&&(n.fragment+=fh(I,y5e));break}o++}},parseHost:function(e){var t,r,n;if(Jl(e,0)==="["){if(Jl(e,e.length-1)!=="]"||(t=Y$t(G2(e,1,-1)),!t))return Sg;this.host=t}else if(this.isSpecial()){if(e=T$t(e),Uu(V$t,e)||(t=Z$t(e),t===null))return Sg;this.host=t}else{if(Uu($$t,e))return Sg;for(t="",r=K0(e),n=0;n<r.length;n++)t+=fh(r[n],f5);this.host=t}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||this.scheme==="file"},includesCredentials:function(){return this.username!==""||this.password!==""},isSpecial:function(){return v$(u5,this.scheme)},shortenPath:function(){var e=this.path,t=e.length;t&&(this.scheme!=="file"||t!==1||!$2(e[0],!0))&&e.length--},serialize:function(){var e=this,t=e.scheme,r=e.username,n=e.password,i=e.host,o=e.port,u=e.path,f=e.query,m=e.fragment,y=t+":";return i!==null?(y+="//",e.includesCredentials()&&(y+=r+(n?":"+n:"")+"@"),y+=U2(i),o!==null&&(y+=":"+o)):t==="file"&&(y+="//"),y+=e.cannotBeABaseURL?u[0]:u.length?"/"+V2(u,"/"):"",f!==null&&(y+="?"+f),m!==null&&(y+="#"+m),y},setHref:function(e){var t=this.parse(e);if(t)throw new y$(t);this.searchParams.update()},getOrigin:function(){var e=this.scheme,t=this.port;if(e==="blob")try{return new J0(e.path[0]).origin}catch(r){return"null"}return e==="file"||!this.isSpecial()?"null":e+"://"+U2(this.host)+(t!==null?":"+t:"")},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse(lf(e)+":",s$)},getUsername:function(){return this.username},setUsername:function(e){var t=K0(lf(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var r=0;r<t.length;r++)this.username+=fh(t[r],a$)}},getPassword:function(){return this.password},setPassword:function(e){var t=K0(lf(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var r=0;r<t.length;r++)this.password+=fh(t[r],a$)}},getHost:function(){var e=this.host,t=this.port;return e===null?"":t===null?U2(e):U2(e)+":"+t},setHost:function(e){this.cannotBeABaseURL||this.parse(e,c$)},getHostname:function(){var e=this.host;return e===null?"":U2(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,p$)},getPort:function(){var e=this.port;return e===null?"":lf(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(e=lf(e),e===""?this.port=null:this.parse(e,f$))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+V2(e,"/"):""},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,X0))},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){e=lf(e),e===""?this.query=null:(Jl(e,0)==="?"&&(e=G2(e,1)),this.query="",this.parse(e,Ig)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){if(e=lf(e),e===""){this.fragment=null;return}Jl(e,0)==="#"&&(e=G2(e,1)),this.fragment="",this.parse(e,sf)},update:function(){this.query=this.searchParams.serialize()||null}};var J0=function(t){var r=I$t(this,ms),n=C$t(arguments.length,1)>1?arguments[1]:void 0,i=A$t(r,new S$(t,!1,n));b$||(r.href=i.serialize(),r.origin=i.getOrigin(),r.protocol=i.getProtocol(),r.username=i.getUsername(),r.password=i.getPassword(),r.host=i.getHost(),r.hostname=i.getHostname(),r.port=i.getPort(),r.pathname=i.getPathname(),r.search=i.getSearch(),r.searchParams=i.getSearchParams(),r.hash=i.getHash())},ms=J0.prototype,Ql=function(e,t){return{get:function(){return h5(this)[e]()},set:t&&function(r){return h5(this)[t](r)},configurable:!0,enumerable:!0}};b$&&(Kl(ms,"href",Ql("serialize","setHref")),Kl(ms,"origin",Ql("getOrigin")),Kl(ms,"protocol",Ql("getProtocol","setProtocol")),Kl(ms,"username",Ql("getUsername","setUsername")),Kl(ms,"password",Ql("getPassword","setPassword")),Kl(ms,"host",Ql("getHost","setHost")),Kl(ms,"hostname",Ql("getHostname","setHostname")),Kl(ms,"port",Ql("getPort","setPort")),Kl(ms,"pathname",Ql("getPathname","setPathname")),Kl(ms,"search",Ql("getSearch","setSearch")),Kl(ms,"searchParams",Ql("getSearchParams")),Kl(ms,"hash",Ql("getHash","setHash")));d5(ms,"toJSON",function(){return h5(this).serialize()},{enumerable:!0});d5(ms,"toString",function(){return h5(this).serialize()},{enumerable:!0});B2&&(m$=B2.createObjectURL,g$=B2.revokeObjectURL,m$&&d5(J0,"createObjectURL",n5e(m$,B2)),g$&&d5(J0,"revokeObjectURL",n5e(g$,B2)));var m$,g$;M$t(J0,"URL");w$t({global:!0,constructor:!0,forced:!S$t,sham:!b$},{URL:J0})});var x5e=C(()=>{"use strict";b5e()});var I5e=C(()=>{"use strict";var J$t=oe(),eGt=Sr(),S5e=wt(),tGt=hl(),w5e=Pr(),rGt=q2(),I$=eGt("URL"),nGt=rGt&&S5e(function(){I$.canParse()}),iGt=S5e(function(){return I$.canParse.length!==1});J$t({target:"URL",stat:!0,forced:!nGt||iGt},{canParse:function(t){var r=tGt(arguments.length,1),n=w5e(t),i=r<2||arguments[1]===void 0?void 0:w5e(arguments[1]);try{return!!new I$(n,i)}catch(o){return!1}}})});var T5e=C(()=>{"use strict";var oGt=oe(),aGt=Sr(),sGt=hl(),E5e=Pr(),lGt=q2(),uGt=aGt("URL");oGt({target:"URL",stat:!0,forced:!lGt},{parse:function(t){var r=sGt(arguments.length,1),n=E5e(t),i=r<2||arguments[1]===void 0?void 0:E5e(arguments[1]);try{return new uGt(n,i)}catch(o){return null}}})});var M5e=C(()=>{"use strict";var cGt=oe(),pGt=qt();cGt({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return pGt(URL.prototype.toString,this)}})});var C5e=C(()=>{"use strict";n$()});var D5e=C(()=>{"use strict";var fGt=Ln(),v5=mt(),A5e=Pr(),dGt=hl(),O5e=URLSearchParams,y5=O5e.prototype,hGt=v5(y5.append),P5e=v5(y5.delete),mGt=v5(y5.forEach),gGt=v5([].push),E$=new O5e("a=1&a=2&b=3");E$.delete("a",1);E$.delete("b",void 0);E$+""!="a=2"&&fGt(y5,"delete",function(e){var t=arguments.length,r=t<2?void 0:arguments[1];if(t&&r===void 0)return P5e(this,e);var n=[];mGt(this,function(I,M){gGt(n,{key:M,value:I})}),dGt(t,1);for(var i=A5e(e),o=A5e(r),u=0,f=0,m=!1,y=n.length,w;u<y;)w=n[u++],m||w.key===i?(m=!0,P5e(this,w.key)):f++;for(;f<y;)w=n[f++],w.key===i&&w.value===o||hGt(this,w.key,w.value)},{enumerable:!0,unsafe:!0})});var R5e=C(()=>{"use strict";var vGt=Ln(),k5e=mt(),yGt=Pr(),_Gt=hl(),L5e=URLSearchParams,T$=L5e.prototype,bGt=k5e(T$.getAll),xGt=k5e(T$.has),N5e=new L5e("a=1");(N5e.has("a",2)||!N5e.has("a",void 0))&&vGt(T$,"has",function(t){var r=arguments.length,n=r<2?void 0:arguments[1];if(r&&n===void 0)return xGt(this,t);var i=bGt(this,t);_Gt(r,1);for(var o=yGt(n),u=0;u<i.length;)if(i[u++]===o)return!0;return!1},{enumerable:!0,unsafe:!0})});var q5e=C(()=>{"use strict";var wGt=fr(),SGt=mt(),IGt=gi(),M$=URLSearchParams.prototype,EGt=SGt(M$.forEach);wGt&&!("size"in M$)&&IGt(M$,"size",{get:function(){var t=0;return EGt(this,function(){t++}),t},configurable:!0,enumerable:!0})});var j5e=C((jkr,z5e)=>{"use strict";kae();Bae();Uae();Vae();$ae();Gae();Hae();Wae();Zae();Yae();Kae();Xae();Qae();Jae();ese();Tse();Ose();R8();Xse();F8();ole();ule();ple();hle();mle();vle();_le();G8();H8();Ile();Ele();Cle();qle();zle();Fle();Ble();cw();lue();fue();due();mue();vue();Eue();Mue();Aue();Due();Nue();Yue();Que();Jue();f7();h7();m7();nce();ice();oce();v7();Rce();Zce();epe();rpe();q7();B7();$7();o9();a9();Ope();Npe();Rpe();qpe();Wpe();Zpe();Jpe();nfe();ofe();pfe();hfe();yfe();d9();y9();S9();E9();M9();A9();L9();q9();z9();HC();B9();V9();G9();H9();x8();Kfe();XC();ez();yde();xde();Sde();Ide();Ede();Cde();Pde();Ode();iz();Nde();Lde();qde();zde();jde();Fde();Vde();Hde();Wde();Zde();ohe();ahe();lhe();che();phe();fhe();dhe();hhe();bhe();Che();Nhe();jhe();Uhe();Whe();Zhe();Xhe();Jhe();tme();rme();lme();ume();cme();dme();hme();mme();vme();Iz();Ez();bme();wme();Ime();Tme();Cme();Ame();Pme();Ome();Rme();qme();zme();Bme();Ume();$me();Hme();ove();sj();lj();cve();fj();dj();dve();bve();Sve();Ive();Cve();Ave();Pve();Ove();Dve();Nve();kve();jve();Bve();Uve();oye();Aj();dye();xA();_ye();xye();Iye();Cye();Pye();qj();Fj();Uj();$j();Hj();Yj();Xj();s0e();p0e();g0e();Jj();b0e();eF();tF();k0e();lF();G0e();H0e();K0e();X0e();n1e();yF();l1e();d1e();g1e();y1e();EF();E1e();P1e();L1e();j1e();F1e();B1e();U1e();V1e();$1e();G1e();H1e();W1e();Z1e();Y1e();K1e();X1e();E_e();T_e();M_e();C_e();A_e();P_e();O_e();D_e();N_e();FF();R_e();z_e();F_e();V_e();G_e();W_e();BF();UF();X_e();Q_e();ebe();rbe();sbe();ube();pbe();fbe();hbe();gbe();ybe();bbe();Tbe();Mbe();Abe();Lbe();qbe();Ube();rB();nB();$be();oB();Ybe();KA();pxe();fxe();mxe();Uxe();Vxe();$xe();Gxe();Hxe();Wxe();Yxe();Kxe();Qxe();Jxe();rwe();nwe();awe();swe();lwe();uwe();gwe();vwe();ywe();_we();bwe();Nwe();zwe();Kwe();e2e();r2e();n2e();o2e();a2e();f2e();d2e();m2e();g2e();v2e();y2e();_2e();w2e();S2e();P2e();R2e();z2e();j2e();F2e();B2e();U2e();W2e();X2e();J2e();tSe();rSe();oSe();aSe();sSe();lSe();cSe();dSe();gSe();vSe();ySe();_Se();bSe();xSe();wSe();SSe();ISe();ESe();MSe();CSe();ASe();PSe();OSe();NSe();RSe();ZSe();rIe();iIe();aIe();sIe();uIe();cIe();pIe();hIe();mIe();gIe();vIe();bIe();wIe();SIe();EIe();MIe();CIe();OIe();DIe();NIe();LIe();qIe();zIe();VIe();$Ie();GIe();WIe();ZIe();YIe();KIe();XIe();QIe();JIe();eEe();iEe();oEe();cEe();pEe();hEe();mEe();gEe();bEe();xEe();wEe();SEe();zEe();jEe();FEe();BEe();UEe();ZEe();KEe();QEe();rTe();iTe();aTe();uTe();pTe();dTe();hTe();mTe();gTe();vTe();wTe();STe();ETe();TTe();CTe();ATe();PTe();OTe();DTe();NTe();kTe();LTe();RTe();zTe();FTe();UTe();VTe();$Te();GTe();HTe();WTe();ZTe();YTe();eMe();oMe();EMe();TMe();MMe();CMe();AMe();PMe();OMe();DMe();kMe();LMe();UMe();VMe();$Me();GMe();HMe();WMe();ZMe();YMe();XMe();QMe();eCe();rCe();nCe();iCe();oCe();aCe();sCe();lCe();uCe();cCe();wCe();MCe();ACe();PCe();DCe();NCe();LCe();qCe();jCe();BCe();UCe();HCe();WCe();KCe();XCe();JCe();tAe();lAe();dAe();bAe();EAe();qAe();$Ae();HAe();t3e();r3e();i3e();m3e();w3e();x5e();I5e();T5e();M5e();C5e();D5e();R5e();q5e();z5e.exports=nC()});var B5e=C((Fkr,F5e)=>{"use strict";F5e.exports=j5e()});var oPe=C((x6r,iPe)=>{"use strict";var GKt="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";iPe.exports=GKt});var uPe=C((w6r,lPe)=>{"use strict";var HKt=oPe();function aPe(){}function sPe(){}sPe.resetWarningCache=aPe;lPe.exports=function(){function e(n,i,o,u,f,m){if(m!==HKt){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:sPe,resetWarningCache:aPe};return r.PropTypes=r,r}});var Wt=C((E6r,cPe)=>{cPe.exports=uPe()();var S6r,I6r});var a1=C((yG,_G)=>{(function(e,t){typeof yG=="object"&&typeof _G!="undefined"?_G.exports=t():typeof define=="function"&&define.amd?define(t):(e=typeof globalThis!="undefined"?globalThis:e||self,e.maplibregl=t())})(yG,function(){"use strict";var e={},t={};function r(i,o,u){if(t[i]=u,i==="index"){var f="var sharedModule = {}; ("+t.shared+")(sharedModule); ("+t.worker+")(sharedModule);",m={};return t.shared(m),t.index(e,m),typeof window!="undefined"&&e.setWorkerUrl(window.URL.createObjectURL(new Blob([f],{type:"text/javascript"}))),e}}r("shared",["exports"],function(i){"use strict";function o(p,s,c,d){return new(c||(c=Promise))(function(v,x){function S(D){try{P(d.next(D))}catch(L){x(L)}}function T(D){try{P(d.throw(D))}catch(L){x(L)}}function P(D){var L;D.done?v(D.value):(L=D.value,L instanceof c?L:new c(function(B){B(L)})).then(S,T)}P((d=d.apply(p,s||[])).next())})}function u(p){return p&&p.__esModule&&Object.prototype.hasOwnProperty.call(p,"default")?p.default:p}var f,m;function y(){if(m)return f;function p(s,c){this.x=s,this.y=c}return m=1,f=p,p.prototype={clone:function(){return new p(this.x,this.y)},add:function(s){return this.clone()._add(s)},sub:function(s){return this.clone()._sub(s)},multByPoint:function(s){return this.clone()._multByPoint(s)},divByPoint:function(s){return this.clone()._divByPoint(s)},mult:function(s){return this.clone()._mult(s)},div:function(s){return this.clone()._div(s)},rotate:function(s){return this.clone()._rotate(s)},rotateAround:function(s,c){return this.clone()._rotateAround(s,c)},matMult:function(s){return this.clone()._matMult(s)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(s){return this.x===s.x&&this.y===s.y},dist:function(s){return Math.sqrt(this.distSqr(s))},distSqr:function(s){var c=s.x-this.x,d=s.y-this.y;return c*c+d*d},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(s){return Math.atan2(this.y-s.y,this.x-s.x)},angleWith:function(s){return this.angleWithSep(s.x,s.y)},angleWithSep:function(s,c){return Math.atan2(this.x*c-this.y*s,this.x*s+this.y*c)},_matMult:function(s){var c=s[2]*this.x+s[3]*this.y;return this.x=s[0]*this.x+s[1]*this.y,this.y=c,this},_add:function(s){return this.x+=s.x,this.y+=s.y,this},_sub:function(s){return this.x-=s.x,this.y-=s.y,this},_mult:function(s){return this.x*=s,this.y*=s,this},_div:function(s){return this.x/=s,this.y/=s,this},_multByPoint:function(s){return this.x*=s.x,this.y*=s.y,this},_divByPoint:function(s){return this.x/=s.x,this.y/=s.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var s=this.y;return this.y=this.x,this.x=-s,this},_rotate:function(s){var c=Math.cos(s),d=Math.sin(s),v=d*this.x+c*this.y;return this.x=c*this.x-d*this.y,this.y=v,this},_rotateAround:function(s,c){var d=Math.cos(s),v=Math.sin(s),x=c.y+v*(this.x-c.x)+d*(this.y-c.y);return this.x=c.x+d*(this.x-c.x)-v*(this.y-c.y),this.y=x,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},p.convert=function(s){return s instanceof p?s:Array.isArray(s)?new p(s[0],s[1]):s},f}typeof SuppressedError=="function"&&SuppressedError;var w,I,M=u(y()),N=function(){if(I)return w;function p(s,c,d,v){this.cx=3*s,this.bx=3*(d-s)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*c,this.by=3*(v-c)-this.cy,this.ay=1-this.cy-this.by,this.p1x=s,this.p1y=c,this.p2x=d,this.p2y=v}return I=1,w=p,p.prototype={sampleCurveX:function(s){return((this.ax*s+this.bx)*s+this.cx)*s},sampleCurveY:function(s){return((this.ay*s+this.by)*s+this.cy)*s},sampleCurveDerivativeX:function(s){return(3*this.ax*s+2*this.bx)*s+this.cx},solveCurveX:function(s,c){if(c===void 0&&(c=1e-6),s<0)return 0;if(s>1)return 1;for(var d=s,v=0;v<8;v++){var x=this.sampleCurveX(d)-s;if(Math.abs(x)<c)return d;var S=this.sampleCurveDerivativeX(d);if(Math.abs(S)<1e-6)break;d-=x/S}var T=0,P=1;for(d=s,v=0;v<20&&(x=this.sampleCurveX(d),!(Math.abs(x-s)<c));v++)s>x?T=d:P=d,d=.5*(P-T)+T;return d},solve:function(s,c){return this.sampleCurveY(this.solveCurveX(s,c))}},w}(),z=u(N);let F,q;function R(){return F==null&&(F=typeof OffscreenCanvas!="undefined"&&new OffscreenCanvas(1,1).getContext("2d")&&typeof createImageBitmap=="function"),F}function U(){if(q==null&&(q=!1,R())){let s=new OffscreenCanvas(5,5).getContext("2d",{willReadFrequently:!0});if(s){for(let d=0;d<5*5;d++){let v=4*d;s.fillStyle=`rgb(${v},${v+1},${v+2})`,s.fillRect(d%5,Math.floor(d/5),1,1)}let c=s.getImageData(0,0,5,5).data;for(let d=0;d<5*5*4;d++)if(d%4!=3&&c[d]!==d){q=!0;break}}}return q||!1}var Y=1e-6,re=typeof Float32Array!="undefined"?Float32Array:Array;function de(){var p=new re(9);return re!=Float32Array&&(p[1]=0,p[2]=0,p[3]=0,p[5]=0,p[6]=0,p[7]=0),p[0]=1,p[4]=1,p[8]=1,p}function ce(p){return p[0]=1,p[1]=0,p[2]=0,p[3]=0,p[4]=0,p[5]=1,p[6]=0,p[7]=0,p[8]=0,p[9]=0,p[10]=1,p[11]=0,p[12]=0,p[13]=0,p[14]=0,p[15]=1,p}function Se(){var p=new re(3);return re!=Float32Array&&(p[0]=0,p[1]=0,p[2]=0),p}function qe(p){return Math.hypot(p[0],p[1],p[2])}function Re(p,s,c){var d=new re(3);return d[0]=p,d[1]=s,d[2]=c,d}Math.hypot||(Math.hypot=function(){for(var p=0,s=arguments.length;s--;)p+=arguments[s]*arguments[s];return Math.sqrt(p)});var Te,Ee=qe;function Ne(p,s,c){var d=s[0],v=s[1],x=s[2],S=s[3];return p[0]=c[0]*d+c[4]*v+c[8]*x+c[12]*S,p[1]=c[1]*d+c[5]*v+c[9]*x+c[13]*S,p[2]=c[2]*d+c[6]*v+c[10]*x+c[14]*S,p[3]=c[3]*d+c[7]*v+c[11]*x+c[15]*S,p}function _e(){var p=new re(4);return re!=Float32Array&&(p[0]=0,p[1]=0,p[2]=0),p[3]=1,p}function ze(){var p=new re(2);return re!=Float32Array&&(p[0]=0,p[1]=0),p}function st(p,s){var c=new re(2);return c[0]=p,c[1]=s,c}Se(),Te=new re(4),re!=Float32Array&&(Te[0]=0,Te[1]=0,Te[2]=0,Te[3]=0),Se(),Re(1,0,0),Re(0,1,0),_e(),_e(),de(),ze();let at=8192;function At(p,s,c){return s*(at/(p.tileSize*Math.pow(2,c-p.tileID.overscaledZ)))}function Qe(p,s){return(p%s+s)%s}function Dt(p,s,c){return p*(1-c)+s*c}function Ut(p){if(p<=0)return 0;if(p>=1)return 1;let s=p*p,c=s*p;return 4*(p<.5?c:3*(p-s)+c-.75)}function Zt(p,s,c,d){let v=new z(p,s,c,d);return x=>v.solve(x)}let Xe=Zt(.25,.1,.25,1);function lt(p,s,c){return Math.min(c,Math.max(s,p))}function yt(p,s,c){let d=c-s,v=((p-s)%d+d)%d+s;return v===s?c:v}function Fe(p,...s){for(let c of s)for(let d in c)p[d]=c[d];return p}let Me=1;function Ue(p,s,c){let d={};for(let v in p)d[v]=s.call(this,p[v],v,p);return d}function je(p,s,c){let d={};for(let v in p)s.call(this,p[v],v,p)&&(d[v]=p[v]);return d}function tt(p){return Array.isArray(p)?p.map(tt):typeof p=="object"&&p?Ue(p,tt):p}let it={};function St(p){it[p]||(typeof console!="undefined"&&console.warn(p),it[p]=!0)}function vt(p,s,c){return(c.y-p.y)*(s.x-p.x)>(s.y-p.y)*(c.x-p.x)}function Nt(p){return typeof WorkerGlobalScope!="undefined"&&p!==void 0&&p instanceof WorkerGlobalScope}let Yt=null;function It(p){return typeof ImageBitmap!="undefined"&&p instanceof ImageBitmap}let Vt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function Jt(p,s,c,d,v){return o(this,void 0,void 0,function*(){if(typeof VideoFrame=="undefined")throw new Error("VideoFrame not supported");let x=new VideoFrame(p,{timestamp:0});try{let S=x==null?void 0:x.format;if(!S||!S.startsWith("BGR")&&!S.startsWith("RGB"))throw new Error(`Unrecognized format ${S}`);let T=S.startsWith("BGR"),P=new Uint8ClampedArray(d*v*4);if(yield x.copyTo(P,function(D,L,B,G,Z){let K=4*Math.max(1,0),te=(Math.max(0,B)-B)*G*4+K,le=4*G,me=Math.max(0,L),De=Math.max(0,B);return{rect:{x:me,y:De,width:Math.min(D.width,L+G)-me,height:Math.min(D.height,B+Z)-De},layout:[{offset:te,stride:le}]}}(p,s,c,d,v)),T)for(let D=0;D<P.length;D+=4){let L=P[D];P[D]=P[D+2],P[D+2]=L}return P}finally{x.close()}})}let lr,Tr;function ur(p,s,c,d){return p.addEventListener(s,c,d),{unsubscribe:()=>{p.removeEventListener(s,c,d)}}}function wr(p){return p*Math.PI/180}function Mr(p){return p/Math.PI*180}let Jr={touchstart:!0,touchmove:!0,touchmoveWindow:!0,touchend:!0,touchcancel:!0},rr={dblclick:!0,click:!0,mouseover:!0,mouseout:!0,mousedown:!0,mousemove:!0,mousemoveWindow:!0,mouseup:!0,mouseupWindow:!0,contextmenu:!0,wheel:!0},Vr="AbortError";function Kn(){return new Error(Vr)}let Mi={MAX_PARALLEL_IMAGE_REQUESTS:16,MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:8,MAX_TILE_CACHE_ZOOM_LEVELS:5,REGISTERED_PROTOCOLS:{},WORKER_URL:""};function li(p){return Mi.REGISTERED_PROTOCOLS[p.substring(0,p.indexOf("://"))]}let cc="global-dispatcher";class Aa extends Error{constructor(s,c,d,v){super(`AJAXError: ${c} (${s}): ${d}`),this.status=s,this.statusText=c,this.url=d,this.body=v}}let ko=()=>Nt(self)?self.worker&&self.worker.referrer:(window.location.protocol==="blob:"?window.parent:window).location.href,Es=function(p,s){if(/:\/\//.test(p.url)&&!/^https?:|^file:/.test(p.url)){let d=li(p.url);if(d)return d(p,s);if(Nt(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"GR",data:p,targetMapId:cc},s)}if(!(/^file:/.test(c=p.url)||/^file:/.test(ko())&&!/^\w+:/.test(c))){if(fetch&&Request&&AbortController&&Object.prototype.hasOwnProperty.call(Request.prototype,"signal"))return function(d,v){return o(this,void 0,void 0,function*(){let x=new Request(d.url,{method:d.method||"GET",body:d.body,credentials:d.credentials,headers:d.headers,cache:d.cache,referrer:ko(),signal:v.signal}),S,T;d.type!=="json"||x.headers.has("Accept")||x.headers.set("Accept","application/json");try{S=yield fetch(x)}catch(D){throw new Aa(0,D.message,d.url,new Blob())}if(!S.ok){let D=yield S.blob();throw new Aa(S.status,S.statusText,d.url,D)}T=d.type==="arrayBuffer"||d.type==="image"?S.arrayBuffer():d.type==="json"?S.json():S.text();let P=yield T;if(v.signal.aborted)throw Kn();return{data:P,cacheControl:S.headers.get("Cache-Control"),expires:S.headers.get("Expires")}})}(p,s);if(Nt(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"GR",data:p,mustQueue:!0,targetMapId:cc},s)}var c;return function(d,v){return new Promise((x,S)=>{var T;let P=new XMLHttpRequest;P.open(d.method||"GET",d.url,!0),d.type!=="arrayBuffer"&&d.type!=="image"||(P.responseType="arraybuffer");for(let D in d.headers)P.setRequestHeader(D,d.headers[D]);d.type==="json"&&(P.responseType="text",!((T=d.headers)===null||T===void 0)&&T.Accept||P.setRequestHeader("Accept","application/json")),P.withCredentials=d.credentials==="include",P.onerror=()=>{S(new Error(P.statusText))},P.onload=()=>{if(!v.signal.aborted)if((P.status>=200&&P.status<300||P.status===0)&&P.response!==null){let D=P.response;if(d.type==="json")try{D=JSON.parse(P.response)}catch(L){return void S(L)}x({data:D,cacheControl:P.getResponseHeader("Cache-Control"),expires:P.getResponseHeader("Expires")})}else{let D=new Blob([P.response],{type:P.getResponseHeader("Content-Type")});S(new Aa(P.status,P.statusText,d.url,D))}},v.signal.addEventListener("abort",()=>{P.abort(),S(Kn())}),P.send(d.body)})}(p,s)};function Be(p){if(!p||p.indexOf("://")<=0||p.indexOf("data:image/")===0||p.indexOf("blob:")===0)return!0;let s=new URL(p),c=window.location;return s.protocol===c.protocol&&s.host===c.host}function ne(p,s,c){c[p]&&c[p].indexOf(s)!==-1||(c[p]=c[p]||[],c[p].push(s))}function ie(p,s,c){if(c&&c[p]){let d=c[p].indexOf(s);d!==-1&&c[p].splice(d,1)}}class H{constructor(s,c={}){Fe(this,c),this.type=s}}class X extends H{constructor(s,c={}){super("error",Fe({error:s},c))}}class ue{on(s,c){return this._listeners=this._listeners||{},ne(s,c,this._listeners),{unsubscribe:()=>{this.off(s,c)}}}off(s,c){return ie(s,c,this._listeners),ie(s,c,this._oneTimeListeners),this}once(s,c){return c?(this._oneTimeListeners=this._oneTimeListeners||{},ne(s,c,this._oneTimeListeners),this):new Promise(d=>this.once(s,d))}fire(s,c){typeof s=="string"&&(s=new H(s,c||{}));let d=s.type;if(this.listens(d)){s.target=this;let v=this._listeners&&this._listeners[d]?this._listeners[d].slice():[];for(let T of v)T.call(this,s);let x=this._oneTimeListeners&&this._oneTimeListeners[d]?this._oneTimeListeners[d].slice():[];for(let T of x)ie(d,T,this._oneTimeListeners),T.call(this,s);let S=this._eventedParent;S&&(Fe(s,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),S.fire(s))}else s instanceof X&&console.error(s.error);return this}listens(s){return this._listeners&&this._listeners[s]&&this._listeners[s].length>0||this._oneTimeListeners&&this._oneTimeListeners[s]&&this._oneTimeListeners[s].length>0||this._eventedParent&&this._eventedParent.listens(s)}setEventedParent(s,c){return this._eventedParent=s,this._eventedParentData=c,this}}var J={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},centerAltitude:{type:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},roll:{type:"number",default:0,units:"degrees"},state:{type:"state",default:{}},light:{type:"light"},sky:{type:"sky"},projection:{type:"projection"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"sprite"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{},custom:{}},default:"mapbox"},redFactor:{type:"number",default:1},blueFactor:{type:"number",default:1},greenFactor:{type:"number",default:1},baseShift:{type:"number",default:0},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{required:!0,type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{type:"variableAnchorOffsetCollection",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},sky:{"sky-color":{type:"color","property-type":"data-constant",default:"#88C6FC",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-ground-blend":{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-fog-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"sky-horizon-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"atmosphere-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1}},projection:{type:{type:"projectionDefinition",default:"mercator","property-type":"data-constant",transition:!1,expression:{interpolated:!0,parameters:["zoom"]}}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"numberArray",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-altitude":{type:"numberArray",default:45,minimum:0,maximum:90,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"colorArray",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"colorArray",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-method":{type:"enum",values:{standard:{},basic:{},combined:{},igor:{},multidirectional:{}},default:"standard",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};let Ie=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function ge(p,s){let c={};for(let d in p)d!=="ref"&&(c[d]=p[d]);return Ie.forEach(d=>{d in s&&(c[d]=s[d])}),c}function Pe(p,s){if(Array.isArray(p)){if(!Array.isArray(s)||p.length!==s.length)return!1;for(let c=0;c<p.length;c++)if(!Pe(p[c],s[c]))return!1;return!0}if(typeof p=="object"&&p!==null&&s!==null){if(typeof s!="object"||Object.keys(p).length!==Object.keys(s).length)return!1;for(let c in p)if(!Pe(p[c],s[c]))return!1;return!0}return p===s}function Le(p,s){p.push(s)}function Ae(p,s,c){Le(c,{command:"addSource",args:[p,s[p]]})}function Ge(p,s,c){Le(s,{command:"removeSource",args:[p]}),c[p]=!0}function dt(p,s,c,d){Ge(p,c,d),Ae(p,s,c)}function xt(p,s,c){let d;for(d in p[c])if(Object.prototype.hasOwnProperty.call(p[c],d)&&d!=="data"&&!Pe(p[c][d],s[c][d]))return!1;for(d in s[c])if(Object.prototype.hasOwnProperty.call(s[c],d)&&d!=="data"&&!Pe(p[c][d],s[c][d]))return!1;return!0}function Ft(p,s,c,d,v,x){p=p||{},s=s||{};for(let S in p)Object.prototype.hasOwnProperty.call(p,S)&&(Pe(p[S],s[S])||c.push({command:x,args:[d,S,s[S],v]}));for(let S in s)Object.prototype.hasOwnProperty.call(s,S)&&!Object.prototype.hasOwnProperty.call(p,S)&&(Pe(p[S],s[S])||c.push({command:x,args:[d,S,s[S],v]}))}function cr(p){return p.id}function er(p,s){return p[s.id]=s,p}class Ke{constructor(s,c,d,v){this.message=(s?`${s}: `:"")+d,v&&(this.identifier=v),c!=null&&c.__line__&&(this.line=c.__line__)}}function sn(p,...s){for(let c of s)for(let d in c)p[d]=c[d];return p}class kr extends Error{constructor(s,c){super(c),this.message=c,this.key=s}}class Zr{constructor(s,c=[]){this.parent=s,this.bindings={};for(let[d,v]of c)this.bindings[d]=v}concat(s){return new Zr(this,s)}get(s){if(this.bindings[s])return this.bindings[s];if(this.parent)return this.parent.get(s);throw new Error(`${s} not found in scope.`)}has(s){return!!this.bindings[s]||!!this.parent&&this.parent.has(s)}}let br={kind:"null"},ct={kind:"number"},hr={kind:"string"},Dr={kind:"boolean"},yi={kind:"color"},_i={kind:"projectionDefinition"},Pa={kind:"object"},Lr={kind:"value"},qf={kind:"collator"},$h={kind:"formatted"},vp={kind:"padding"},Gh={kind:"colorArray"},vu={kind:"numberArray"},yp={kind:"resolvedImage"},Li={kind:"variableAnchorOffsetCollection"};function rs(p,s){return{kind:"array",itemType:p,N:s}}function ni(p){if(p.kind==="array"){let s=ni(p.itemType);return typeof p.N=="number"?`array<${s}, ${p.N}>`:p.itemType.kind==="value"?"array":`array<${s}>`}return p.kind}let Hh=[br,ct,hr,Dr,yi,_i,$h,Pa,rs(Lr),vp,vu,Gh,yp,Li];function zf(p,s){if(s.kind==="error")return null;if(p.kind==="array"){if(s.kind==="array"&&(s.N===0&&s.itemType.kind==="value"||!zf(p.itemType,s.itemType))&&(typeof p.N!="number"||p.N===s.N))return null}else{if(p.kind===s.kind)return null;if(p.kind==="value"){for(let c of Hh)if(!zf(c,s))return null}}return`Expected ${ni(p)} but found ${ni(s)} instead.`}function P_(p,s){return s.some(c=>c.kind===p.kind)}function _p(p,s){return s.some(c=>c==="null"?p===null:c==="array"?Array.isArray(p):c==="object"?p&&!Array.isArray(p)&&typeof p=="object":c===typeof p)}function yu(p,s){return p.kind==="array"&&s.kind==="array"?p.itemType.kind===s.itemType.kind&&typeof p.N=="number":p.kind===s.kind}let hE=.96422,O_=.82521,mE=4/29,jf=6/29,gE=3*jf*jf,zk=jf*jf*jf,jk=Math.PI/180,Fk=180/Math.PI;function vE(p){return(p%=360)<0&&(p+=360),p}function D_([p,s,c,d]){let v,x,S=N_((.2225045*(p=bp(p))+.7168786*(s=bp(s))+.0606169*(c=bp(c)))/1);p===s&&s===c?v=x=S:(v=N_((.4360747*p+.3850649*s+.1430804*c)/hE),x=N_((.0139322*p+.0971045*s+.7141733*c)/O_));let T=116*S-16;return[T<0?0:T,500*(v-S),200*(S-x),d]}function bp(p){return p<=.04045?p/12.92:Math.pow((p+.055)/1.055,2.4)}function N_(p){return p>zk?Math.pow(p,1/3):p/gE+mE}function yE([p,s,c,d]){let v=(p+16)/116,x=isNaN(s)?v:v+s/500,S=isNaN(c)?v:v-c/200;return v=1*k_(v),x=hE*k_(x),S=O_*k_(S),[xp(3.1338561*x-1.6168667*v-.4906146*S),xp(-.9787684*x+1.9161415*v+.033454*S),xp(.0719453*x-.2289914*v+1.4052427*S),d]}function xp(p){return(p=p<=.00304?12.92*p:1.055*Math.pow(p,1/2.4)-.055)<0?0:p>1?1:p}function k_(p){return p>jf?p*p*p:gE*(p-mE)}let Bk=Object.hasOwn||function(p,s){return Object.prototype.hasOwnProperty.call(p,s)};function Wh(p,s){return Bk(p,s)?p[s]:void 0}function Zh(p){return parseInt(p.padEnd(2,p),16)/255}function L_(p,s){return Xo(s?p/100:p,0,1)}function Xo(p,s,c){return Math.min(Math.max(s,p),c)}function un(p){return!p.some(Number.isNaN)}let Ff={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};function Qo(p,s,c){return p+c*(s-p)}function wp(p,s,c){return p.map((d,v)=>Qo(d,s[v],c))}class rn{constructor(s,c,d,v=1,x=!0){this.r=s,this.g=c,this.b=d,this.a=v,x||(this.r*=v,this.g*=v,this.b*=v,v||this.overwriteGetter("rgb",[s,c,d,v]))}static parse(s){if(s instanceof rn)return s;if(typeof s!="string")return;let c=function(d){if((d=d.toLowerCase().trim())==="transparent")return[0,0,0,0];let v=Wh(Ff,d);if(v){let[S,T,P]=v;return[S/255,T/255,P/255,1]}if(d.startsWith("#")&&/^#(?:[0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/.test(d)){let S=d.length<6?1:2,T=1;return[Zh(d.slice(T,T+=S)),Zh(d.slice(T,T+=S)),Zh(d.slice(T,T+=S)),Zh(d.slice(T,T+S)||"ff")]}if(d.startsWith("rgb")){let S=d.match(/^rgba?\(\s*([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(S){let[T,P,D,L,B,G,Z,K,te,le,me,De]=S,ye=[L||" ",Z||" ",le].join("");if(ye==="  "||ye==="  /"||ye===",,"||ye===",,,"){let W=[D,G,te].join(""),ae=W==="%%%"?100:W===""?255:0;if(ae){let be=[Xo(+P/ae,0,1),Xo(+B/ae,0,1),Xo(+K/ae,0,1),me?L_(+me,De):1];if(un(be))return be}}return}}let x=d.match(/^hsla?\(\s*([\de.+-]+)(?:deg)?(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(x){let[S,T,P,D,L,B,G,Z,K]=x,te=[P||" ",L||" ",G].join("");if(te==="  "||te==="  /"||te===",,"||te===",,,"){let le=[+T,Xo(+D,0,100),Xo(+B,0,100),Z?L_(+Z,K):1];if(un(le))return function([me,De,ye,W]){function ae(be){let $e=(be+me/30)%12,pt=De*Math.min(ye,1-ye);return ye-pt*Math.max(-1,Math.min($e-3,9-$e,1))}return me=vE(me),De/=100,ye/=100,[ae(0),ae(8),ae(4),W]}(le)}}}(s);return c?new rn(...c,!1):void 0}get rgb(){let{r:s,g:c,b:d,a:v}=this,x=v||1/0;return this.overwriteGetter("rgb",[s/x,c/x,d/x,v])}get hcl(){return this.overwriteGetter("hcl",function(s){let[c,d,v,x]=D_(s),S=Math.sqrt(d*d+v*v);return[Math.round(1e4*S)?vE(Math.atan2(v,d)*Fk):NaN,S,c,x]}(this.rgb))}get lab(){return this.overwriteGetter("lab",D_(this.rgb))}overwriteGetter(s,c){return Object.defineProperty(this,s,{value:c}),c}toString(){let[s,c,d,v]=this.rgb;return`rgba(${[s,c,d].map(x=>Math.round(255*x)).join(",")},${v})`}static interpolate(s,c,d,v="rgb"){switch(v){case"rgb":{let[x,S,T,P]=wp(s.rgb,c.rgb,d);return new rn(x,S,T,P,!1)}case"hcl":{let[x,S,T,P]=s.hcl,[D,L,B,G]=c.hcl,Z,K;if(isNaN(x)||isNaN(D))isNaN(x)?isNaN(D)?Z=NaN:(Z=D,T!==1&&T!==0||(K=L)):(Z=x,B!==1&&B!==0||(K=S));else{let ye=D-x;D>x&&ye>180?ye-=360:D<x&&x-D>180&&(ye+=360),Z=x+d*ye}let[te,le,me,De]=function([ye,W,ae,be]){return ye=isNaN(ye)?0:ye*jk,yE([ae,Math.cos(ye)*W,Math.sin(ye)*W,be])}([Z,K!=null?K:Qo(S,L,d),Qo(T,B,d),Qo(P,G,d)]);return new rn(te,le,me,De,!1)}case"lab":{let[x,S,T,P]=yE(wp(s.lab,c.lab,d));return new rn(x,S,T,P,!1)}}}}rn.black=new rn(0,0,0,1),rn.white=new rn(1,1,1,1),rn.transparent=new rn(0,0,0,0),rn.red=new rn(1,0,0,1);class Yh{constructor(s,c,d){this.sensitivity=s?c?"variant":"case":c?"accent":"base",this.locale=d,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(s,c){return this.collator.compare(s,c)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}let Kh=["bottom","center","top"];class Bf{constructor(s,c,d,v,x,S){this.text=s,this.image=c,this.scale=d,this.fontStack=v,this.textColor=x,this.verticalAlign=S}}class Oa{constructor(s){this.sections=s}static fromString(s){return new Oa([new Bf(s,null,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(s=>s.text.length!==0||s.image&&s.image.name.length!==0)}static factory(s){return s instanceof Oa?s:Oa.fromString(s)}toString(){return this.sections.length===0?"":this.sections.map(s=>s.text).join("")}}class wo{constructor(s){this.values=s.slice()}static parse(s){if(s instanceof wo)return s;if(typeof s=="number")return new wo([s,s,s,s]);if(Array.isArray(s)&&!(s.length<1||s.length>4)){for(let c of s)if(typeof c!="number")return;switch(s.length){case 1:s=[s[0],s[0],s[0],s[0]];break;case 2:s=[s[0],s[1],s[0],s[1]];break;case 3:s=[s[0],s[1],s[2],s[1]]}return new wo(s)}}toString(){return JSON.stringify(this.values)}static interpolate(s,c,d){return new wo(wp(s.values,c.values,d))}}class Ri{constructor(s){this.values=s.slice()}static parse(s){if(s instanceof Ri)return s;if(typeof s=="number")return new Ri([s]);if(Array.isArray(s)){for(let c of s)if(typeof c!="number")return;return new Ri(s)}}toString(){return JSON.stringify(this.values)}static interpolate(s,c,d){return new Ri(wp(s.values,c.values,d))}}class So{constructor(s){this.values=s.slice()}static parse(s){if(s instanceof So)return s;if(typeof s=="string"){let d=rn.parse(s);return d?new So([d]):void 0}if(!Array.isArray(s))return;let c=[];for(let d of s){if(typeof d!="string")return;let v=rn.parse(d);if(!v)return;c.push(v)}return new So(c)}toString(){return JSON.stringify(this.values)}static interpolate(s,c,d,v="rgb"){let x=[];if(s.values.length!=c.values.length)throw new Error(`colorArray: Arrays have mismatched length (${s.values.length} vs. ${c.values.length}), cannot interpolate.`);for(let S=0;S<s.values.length;S++)x.push(rn.interpolate(s.values[S],c.values[S],d,v));return new So(x)}}class Xn extends Error{constructor(s){super(s),this.name="RuntimeError"}toJSON(){return this.message}}let Uf=new Set(["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"]);class Jo{constructor(s){this.values=s.slice()}static parse(s){if(s instanceof Jo)return s;if(Array.isArray(s)&&!(s.length<1)&&s.length%2==0){for(let c=0;c<s.length;c+=2){let d=s[c],v=s[c+1];if(typeof d!="string"||!Uf.has(d)||!Array.isArray(v)||v.length!==2||typeof v[0]!="number"||typeof v[1]!="number")return}return new Jo(s)}}toString(){return JSON.stringify(this.values)}static interpolate(s,c,d){let v=s.values,x=c.values;if(v.length!==x.length)throw new Xn(`Cannot interpolate values of different length. from: ${s.toString()}, to: ${c.toString()}`);let S=[];for(let T=0;T<v.length;T+=2){if(v[T]!==x[T])throw new Xn(`Cannot interpolate values containing mismatched anchors. from[${T}]: ${v[T]}, to[${T}]: ${x[T]}`);S.push(v[T]);let[P,D]=v[T+1],[L,B]=x[T+1];S.push([Qo(P,L,d),Qo(D,B,d)])}return new Jo(S)}}class ns{constructor(s){this.name=s.name,this.available=s.available}toString(){return this.name}static fromString(s){return s?new ns({name:s,available:!1}):null}}class Da{constructor(s,c,d){this.from=s,this.to=c,this.transition=d}static interpolate(s,c,d){return new Da(s,c,d)}static parse(s){return s instanceof Da?s:Array.isArray(s)&&s.length===3&&typeof s[0]=="string"&&typeof s[1]=="string"&&typeof s[2]=="number"?new Da(s[0],s[1],s[2]):typeof s=="object"&&typeof s.from=="string"&&typeof s.to=="string"&&typeof s.transition=="number"?new Da(s.from,s.to,s.transition):typeof s=="string"?new Da(s,s,1):void 0}}function Xh(p,s,c,d){return typeof p=="number"&&p>=0&&p<=255&&typeof s=="number"&&s>=0&&s<=255&&typeof c=="number"&&c>=0&&c<=255?d===void 0||typeof d=="number"&&d>=0&&d<=1?null:`Invalid rgba value [${[p,s,c,d].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof d=="number"?[p,s,c,d]:[p,s,c]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function Nn(p){if(p===null||typeof p=="string"||typeof p=="boolean"||typeof p=="number"||p instanceof Da||p instanceof rn||p instanceof Yh||p instanceof Oa||p instanceof wo||p instanceof Ri||p instanceof So||p instanceof Jo||p instanceof ns)return!0;if(Array.isArray(p)){for(let s of p)if(!Nn(s))return!1;return!0}if(typeof p=="object"){for(let s in p)if(!Nn(p[s]))return!1;return!0}return!1}function bi(p){if(p===null)return br;if(typeof p=="string")return hr;if(typeof p=="boolean")return Dr;if(typeof p=="number")return ct;if(p instanceof rn)return yi;if(p instanceof Da)return _i;if(p instanceof Yh)return qf;if(p instanceof Oa)return $h;if(p instanceof wo)return vp;if(p instanceof Ri)return vu;if(p instanceof So)return Gh;if(p instanceof Jo)return Li;if(p instanceof ns)return yp;if(Array.isArray(p)){let s=p.length,c;for(let d of p){let v=bi(d);if(c){if(c===v)continue;c=Lr;break}c=v}return rs(c||Lr,s)}return Pa}function nn(p){let s=typeof p;return p===null?"":s==="string"||s==="number"||s==="boolean"?String(p):p instanceof rn||p instanceof Da||p instanceof Oa||p instanceof wo||p instanceof Ri||p instanceof So||p instanceof Jo||p instanceof ns?p.toString():JSON.stringify(p)}class Cr{constructor(s,c){this.type=s,this.value=c}static parse(s,c){if(s.length!==2)return c.error(`'literal' expression requires exactly one argument, but found ${s.length-1} instead.`);if(!Nn(s[1]))return c.error("invalid value");let d=s[1],v=bi(d),x=c.expectedType;return v.kind!=="array"||v.N!==0||!x||x.kind!=="array"||typeof x.N=="number"&&x.N!==0||(v=x),new Cr(v,d)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}}let Vf={string:hr,number:ct,boolean:Dr,object:Pa};class Rr{constructor(s,c){this.type=s,this.args=c}static parse(s,c){if(s.length<2)return c.error("Expected at least one argument.");let d,v=1,x=s[0];if(x==="array"){let T,P;if(s.length>2){let D=s[1];if(typeof D!="string"||!(D in Vf)||D==="object")return c.error("The item type argument of \"array\" must be one of string, number, boolean",1);T=Vf[D],v++}else T=Lr;if(s.length>3){if(s[2]!==null&&(typeof s[2]!="number"||s[2]<0||s[2]!==Math.floor(s[2])))return c.error("The length argument to \"array\" must be a positive integer literal",2);P=s[2],v++}d=rs(T,P)}else{if(!Vf[x])throw new Error(`Types doesn't contain name = ${x}`);d=Vf[x]}let S=[];for(;v<s.length;v++){let T=c.parse(s[v],v,Lr);if(!T)return null;S.push(T)}return new Rr(d,S)}evaluate(s){for(let c=0;c<this.args.length;c++){let d=this.args[c].evaluate(s);if(!zf(this.type,bi(d)))return d;if(c===this.args.length-1)throw new Xn(`Expected value to be of type ${ni(this.type)}, but found ${ni(bi(d))} instead.`)}throw new Error}eachChild(s){this.args.forEach(s)}outputDefined(){return this.args.every(s=>s.outputDefined())}}let dv={"to-boolean":Dr,"to-color":yi,"to-number":ct,"to-string":hr};class Lo{constructor(s,c){this.type=s,this.args=c}static parse(s,c){if(s.length<2)return c.error("Expected at least one argument.");let d=s[0];if(!dv[d])throw new Error(`Can't parse ${d} as it is not part of the known types`);if((d==="to-boolean"||d==="to-string")&&s.length!==2)return c.error("Expected one argument.");let v=dv[d],x=[];for(let S=1;S<s.length;S++){let T=c.parse(s[S],S,Lr);if(!T)return null;x.push(T)}return new Lo(v,x)}evaluate(s){switch(this.type.kind){case"boolean":return!!this.args[0].evaluate(s);case"color":{let c,d;for(let v of this.args){if(c=v.evaluate(s),d=null,c instanceof rn)return c;if(typeof c=="string"){let x=s.parseColor(c);if(x)return x}else if(Array.isArray(c)&&(d=c.length<3||c.length>4?`Invalid rgba value ${JSON.stringify(c)}: expected an array containing either three or four numeric values.`:Xh(c[0],c[1],c[2],c[3]),!d))return new rn(c[0]/255,c[1]/255,c[2]/255,c[3])}throw new Xn(d||`Could not parse color from value '${typeof c=="string"?c:JSON.stringify(c)}'`)}case"padding":{let c;for(let d of this.args){c=d.evaluate(s);let v=wo.parse(c);if(v)return v}throw new Xn(`Could not parse padding from value '${typeof c=="string"?c:JSON.stringify(c)}'`)}case"numberArray":{let c;for(let d of this.args){c=d.evaluate(s);let v=Ri.parse(c);if(v)return v}throw new Xn(`Could not parse numberArray from value '${typeof c=="string"?c:JSON.stringify(c)}'`)}case"colorArray":{let c;for(let d of this.args){c=d.evaluate(s);let v=So.parse(c);if(v)return v}throw new Xn(`Could not parse colorArray from value '${typeof c=="string"?c:JSON.stringify(c)}'`)}case"variableAnchorOffsetCollection":{let c;for(let d of this.args){c=d.evaluate(s);let v=Jo.parse(c);if(v)return v}throw new Xn(`Could not parse variableAnchorOffsetCollection from value '${typeof c=="string"?c:JSON.stringify(c)}'`)}case"number":{let c=null;for(let d of this.args){if(c=d.evaluate(s),c===null)return 0;let v=Number(c);if(!isNaN(v))return v}throw new Xn(`Could not convert ${JSON.stringify(c)} to number.`)}case"formatted":return Oa.fromString(nn(this.args[0].evaluate(s)));case"resolvedImage":return ns.fromString(nn(this.args[0].evaluate(s)));case"projectionDefinition":return this.args[0].evaluate(s);default:return nn(this.args[0].evaluate(s))}}eachChild(s){this.args.forEach(s)}outputDefined(){return this.args.every(s=>s.outputDefined())}}let R_=["Unknown","Point","LineString","Polygon"];class q_{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache=new Map,this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?R_[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(s){let c=this._parseColorCache.get(s);return c||(c=rn.parse(s),this._parseColorCache.set(s,c)),c}}class Qh{constructor(s,c,d=[],v,x=new Zr,S=[]){this.registry=s,this.path=d,this.key=d.map(T=>`[${T}]`).join(""),this.scope=x,this.errors=S,this.expectedType=v,this._isConstant=c}parse(s,c,d,v,x={}){return c?this.concat(c,d,v)._parse(s,x):this._parse(s,x)}_parse(s,c){function d(v,x,S){return S==="assert"?new Rr(x,[v]):S==="coerce"?new Lo(x,[v]):v}if(s!==null&&typeof s!="string"&&typeof s!="boolean"&&typeof s!="number"||(s=["literal",s]),Array.isArray(s)){if(s.length===0)return this.error("Expected an array with at least one element. If you wanted a literal array, use [\"literal\", []].");let v=s[0];if(typeof v!="string")return this.error(`Expression name must be a string, but found ${typeof v} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;let x=this.registry[v];if(x){let S=x.parse(s,this);if(!S)return null;if(this.expectedType){let T=this.expectedType,P=S.type;if(T.kind!=="string"&&T.kind!=="number"&&T.kind!=="boolean"&&T.kind!=="object"&&T.kind!=="array"||P.kind!=="value"){if(T.kind==="projectionDefinition"&&["string","array"].includes(P.kind)||["color","formatted","resolvedImage"].includes(T.kind)&&["value","string"].includes(P.kind)||["padding","numberArray"].includes(T.kind)&&["value","number","array"].includes(P.kind)||T.kind==="colorArray"&&["value","string","array"].includes(P.kind)||T.kind==="variableAnchorOffsetCollection"&&["value","array"].includes(P.kind))S=d(S,T,c.typeAnnotation||"coerce");else if(this.checkSubtype(T,P))return null}else S=d(S,T,c.typeAnnotation||"assert")}if(!(S instanceof Cr)&&S.type.kind!=="resolvedImage"&&this._isConstant(S)){let T=new q_;try{S=new Cr(S.type,S.evaluate(T))}catch(P){return this.error(P.message),null}}return S}return this.error(`Unknown expression "${v}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(s===void 0?"'undefined' value invalid. Use null instead.":typeof s=="object"?"Bare objects invalid. Use [\"literal\", {...}] instead.":`Expected an array, but found ${typeof s} instead.`)}concat(s,c,d){let v=typeof s=="number"?this.path.concat(s):this.path,x=d?this.scope.concat(d):this.scope;return new Qh(this.registry,this._isConstant,v,c||null,x,this.errors)}error(s,...c){let d=`${this.key}${c.map(v=>`[${v}]`).join("")}`;this.errors.push(new kr(d,s))}checkSubtype(s,c){let d=zf(s,c);return d&&this.error(d),d}}class $f{constructor(s,c){this.type=c.type,this.bindings=[].concat(s),this.result=c}evaluate(s){return this.result.evaluate(s)}eachChild(s){for(let c of this.bindings)s(c[1]);s(this.result)}static parse(s,c){if(s.length<4)return c.error(`Expected at least 3 arguments, but found ${s.length-1} instead.`);let d=[];for(let x=1;x<s.length-1;x+=2){let S=s[x];if(typeof S!="string")return c.error(`Expected string, but found ${typeof S} instead.`,x);if(/[^a-zA-Z0-9_]/.test(S))return c.error("Variable names must contain only alphanumeric characters or '_'.",x);let T=c.parse(s[x+1],x+1);if(!T)return null;d.push([S,T])}let v=c.parse(s[s.length-1],s.length-1,c.expectedType,d);return v?new $f(d,v):null}outputDefined(){return this.result.outputDefined()}}class Jh{constructor(s,c){this.type=c.type,this.name=s,this.boundExpression=c}static parse(s,c){if(s.length!==2||typeof s[1]!="string")return c.error("'var' expression requires exactly one string literal argument.");let d=s[1];return c.scope.has(d)?new Jh(d,c.scope.get(d)):c.error(`Unknown variable "${d}". Make sure "${d}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(s){return this.boundExpression.evaluate(s)}eachChild(){}outputDefined(){return!1}}class z_{constructor(s,c,d){this.type=s,this.index=c,this.input=d}static parse(s,c){if(s.length!==3)return c.error(`Expected 2 arguments, but found ${s.length-1} instead.`);let d=c.parse(s[1],1,ct),v=c.parse(s[2],2,rs(c.expectedType||Lr));return d&&v?new z_(v.type.itemType,d,v):null}evaluate(s){let c=this.index.evaluate(s),d=this.input.evaluate(s);if(c<0)throw new Xn(`Array index out of bounds: ${c} < 0.`);if(c>=d.length)throw new Xn(`Array index out of bounds: ${c} > ${d.length-1}.`);if(c!==Math.floor(c))throw new Xn(`Array index must be an integer, but found ${c} instead.`);return d[c]}eachChild(s){s(this.index),s(this.input)}outputDefined(){return!1}}class hv{constructor(s,c){this.type=Dr,this.needle=s,this.haystack=c}static parse(s,c){if(s.length!==3)return c.error(`Expected 2 arguments, but found ${s.length-1} instead.`);let d=c.parse(s[1],1,Lr),v=c.parse(s[2],2,Lr);return d&&v?P_(d.type,[Dr,hr,ct,br,Lr])?new hv(d,v):c.error(`Expected first argument to be of type boolean, string, number or null, but found ${ni(d.type)} instead`):null}evaluate(s){let c=this.needle.evaluate(s),d=this.haystack.evaluate(s);if(!d)return!1;if(!_p(c,["boolean","string","number","null"]))throw new Xn(`Expected first argument to be of type boolean, string, number or null, but found ${ni(bi(c))} instead.`);if(!_p(d,["string","array"]))throw new Xn(`Expected second argument to be of type array or string, but found ${ni(bi(d))} instead.`);return d.indexOf(c)>=0}eachChild(s){s(this.needle),s(this.haystack)}outputDefined(){return!0}}class em{constructor(s,c,d){this.type=ct,this.needle=s,this.haystack=c,this.fromIndex=d}static parse(s,c){if(s.length<=2||s.length>=5)return c.error(`Expected 3 or 4 arguments, but found ${s.length-1} instead.`);let d=c.parse(s[1],1,Lr),v=c.parse(s[2],2,Lr);if(!d||!v)return null;if(!P_(d.type,[Dr,hr,ct,br,Lr]))return c.error(`Expected first argument to be of type boolean, string, number or null, but found ${ni(d.type)} instead`);if(s.length===4){let x=c.parse(s[3],3,ct);return x?new em(d,v,x):null}return new em(d,v)}evaluate(s){let c=this.needle.evaluate(s),d=this.haystack.evaluate(s);if(!_p(c,["boolean","string","number","null"]))throw new Xn(`Expected first argument to be of type boolean, string, number or null, but found ${ni(bi(c))} instead.`);let v;if(this.fromIndex&&(v=this.fromIndex.evaluate(s)),_p(d,["string"])){let x=d.indexOf(c,v);return x===-1?-1:[...d.slice(0,x)].length}if(_p(d,["array"]))return d.indexOf(c,v);throw new Xn(`Expected second argument to be of type array or string, but found ${ni(bi(d))} instead.`)}eachChild(s){s(this.needle),s(this.haystack),this.fromIndex&&s(this.fromIndex)}outputDefined(){return!1}}class Sp{constructor(s,c,d,v,x,S){this.inputType=s,this.type=c,this.input=d,this.cases=v,this.outputs=x,this.otherwise=S}static parse(s,c){if(s.length<5)return c.error(`Expected at least 4 arguments, but found only ${s.length-1}.`);if(s.length%2!=1)return c.error("Expected an even number of arguments.");let d,v;c.expectedType&&c.expectedType.kind!=="value"&&(v=c.expectedType);let x={},S=[];for(let D=2;D<s.length-1;D+=2){let L=s[D],B=s[D+1];Array.isArray(L)||(L=[L]);let G=c.concat(D);if(L.length===0)return G.error("Expected at least one branch label.");for(let K of L){if(typeof K!="number"&&typeof K!="string")return G.error("Branch labels must be numbers or strings.");if(typeof K=="number"&&Math.abs(K)>Number.MAX_SAFE_INTEGER)return G.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof K=="number"&&Math.floor(K)!==K)return G.error("Numeric branch labels must be integer values.");if(d){if(G.checkSubtype(d,bi(K)))return null}else d=bi(K);if(x[String(K)]!==void 0)return G.error("Branch labels must be unique.");x[String(K)]=S.length}let Z=c.parse(B,D,v);if(!Z)return null;v=v||Z.type,S.push(Z)}let T=c.parse(s[1],1,Lr);if(!T)return null;let P=c.parse(s[s.length-1],s.length-1,v);return P?T.type.kind!=="value"&&c.concat(1).checkSubtype(d,T.type)?null:new Sp(d,v,T,x,S,P):null}evaluate(s){let c=this.input.evaluate(s);return(bi(c)===this.inputType&&this.outputs[this.cases[c]]||this.otherwise).evaluate(s)}eachChild(s){s(this.input),this.outputs.forEach(s),s(this.otherwise)}outputDefined(){return this.outputs.every(s=>s.outputDefined())&&this.otherwise.outputDefined()}}class uo{constructor(s,c,d){this.type=s,this.branches=c,this.otherwise=d}static parse(s,c){if(s.length<4)return c.error(`Expected at least 3 arguments, but found only ${s.length-1}.`);if(s.length%2!=0)return c.error("Expected an odd number of arguments.");let d;c.expectedType&&c.expectedType.kind!=="value"&&(d=c.expectedType);let v=[];for(let S=1;S<s.length-1;S+=2){let T=c.parse(s[S],S,Dr);if(!T)return null;let P=c.parse(s[S+1],S+1,d);if(!P)return null;v.push([T,P]),d=d||P.type}let x=c.parse(s[s.length-1],s.length-1,d);if(!x)return null;if(!d)throw new Error("Can't infer output type");return new uo(d,v,x)}evaluate(s){for(let[c,d]of this.branches)if(c.evaluate(s))return d.evaluate(s);return this.otherwise.evaluate(s)}eachChild(s){for(let[c,d]of this.branches)s(c),s(d);s(this.otherwise)}outputDefined(){return this.branches.every(([s,c])=>c.outputDefined())&&this.otherwise.outputDefined()}}class Ip{constructor(s,c,d,v){this.type=s,this.input=c,this.beginIndex=d,this.endIndex=v}static parse(s,c){if(s.length<=2||s.length>=5)return c.error(`Expected 3 or 4 arguments, but found ${s.length-1} instead.`);let d=c.parse(s[1],1,Lr),v=c.parse(s[2],2,ct);if(!d||!v)return null;if(!P_(d.type,[rs(Lr),hr,Lr]))return c.error(`Expected first argument to be of type array or string, but found ${ni(d.type)} instead`);if(s.length===4){let x=c.parse(s[3],3,ct);return x?new Ip(d.type,d,v,x):null}return new Ip(d.type,d,v)}evaluate(s){let c=this.input.evaluate(s),d=this.beginIndex.evaluate(s),v;if(this.endIndex&&(v=this.endIndex.evaluate(s)),_p(c,["string"]))return[...c].slice(d,v).join("");if(_p(c,["array"]))return c.slice(d,v);throw new Xn(`Expected first argument to be of type array or string, but found ${ni(bi(c))} instead.`)}eachChild(s){s(this.input),s(this.beginIndex),this.endIndex&&s(this.endIndex)}outputDefined(){return!1}}function tm(p,s){let c=p.length-1,d,v,x=0,S=c,T=0;for(;x<=S;)if(T=Math.floor((x+S)/2),d=p[T],v=p[T+1],d<=s){if(T===c||s<v)return T;x=T+1}else{if(!(d>s))throw new Xn("Input is not a number.");S=T-1}return 0}class pc{constructor(s,c,d){this.type=s,this.input=c,this.labels=[],this.outputs=[];for(let[v,x]of d)this.labels.push(v),this.outputs.push(x)}static parse(s,c){if(s.length-1<4)return c.error(`Expected at least 4 arguments, but found only ${s.length-1}.`);if((s.length-1)%2!=0)return c.error("Expected an even number of arguments.");let d=c.parse(s[1],1,ct);if(!d)return null;let v=[],x=null;c.expectedType&&c.expectedType.kind!=="value"&&(x=c.expectedType);for(let S=1;S<s.length;S+=2){let T=S===1?-1/0:s[S],P=s[S+1],D=S,L=S+1;if(typeof T!="number")return c.error("Input/output pairs for \"step\" expressions must be defined using literal numeric values (not computed expressions) for the input values.",D);if(v.length&&v[v.length-1][0]>=T)return c.error("Input/output pairs for \"step\" expressions must be arranged with input values in strictly ascending order.",D);let B=c.parse(P,L,x);if(!B)return null;x=x||B.type,v.push([T,B])}return new pc(x,d,v)}evaluate(s){let c=this.labels,d=this.outputs;if(c.length===1)return d[0].evaluate(s);let v=this.input.evaluate(s);if(v<=c[0])return d[0].evaluate(s);let x=c.length;return v>=c[x-1]?d[x-1].evaluate(s):d[tm(c,v)].evaluate(s)}eachChild(s){s(this.input);for(let c of this.outputs)s(c)}outputDefined(){return this.outputs.every(s=>s.outputDefined())}}function co(p){return p&&p.__esModule&&Object.prototype.hasOwnProperty.call(p,"default")?p.default:p}var mv,gv,_E=function(){if(gv)return mv;function p(s,c,d,v){this.cx=3*s,this.bx=3*(d-s)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*c,this.by=3*(v-c)-this.cy,this.ay=1-this.cy-this.by,this.p1x=s,this.p1y=c,this.p2x=d,this.p2y=v}return gv=1,mv=p,p.prototype={sampleCurveX:function(s){return((this.ax*s+this.bx)*s+this.cx)*s},sampleCurveY:function(s){return((this.ay*s+this.by)*s+this.cy)*s},sampleCurveDerivativeX:function(s){return(3*this.ax*s+2*this.bx)*s+this.cx},solveCurveX:function(s,c){if(c===void 0&&(c=1e-6),s<0)return 0;if(s>1)return 1;for(var d=s,v=0;v<8;v++){var x=this.sampleCurveX(d)-s;if(Math.abs(x)<c)return d;var S=this.sampleCurveDerivativeX(d);if(Math.abs(S)<1e-6)break;d-=x/S}var T=0,P=1;for(d=s,v=0;v<20&&(x=this.sampleCurveX(d),!(Math.abs(x-s)<c));v++)s>x?T=d:P=d,d=.5*(P-T)+T;return d},solve:function(s,c){return this.sampleCurveY(this.solveCurveX(s,c))}},mv}(),Uk=co(_E);class Ro{constructor(s,c,d,v,x){this.type=s,this.operator=c,this.interpolation=d,this.input=v,this.labels=[],this.outputs=[];for(let[S,T]of x)this.labels.push(S),this.outputs.push(T)}static interpolationFactor(s,c,d,v){let x=0;if(s.name==="exponential")x=rm(c,s.base,d,v);else if(s.name==="linear")x=rm(c,1,d,v);else if(s.name==="cubic-bezier"){let S=s.controlPoints;x=new Uk(S[0],S[1],S[2],S[3]).solve(rm(c,1,d,v))}return x}static parse(s,c){let[d,v,x,...S]=s;if(!Array.isArray(v)||v.length===0)return c.error("Expected an interpolation type expression.",1);if(v[0]==="linear")v={name:"linear"};else if(v[0]==="exponential"){let D=v[1];if(typeof D!="number")return c.error("Exponential interpolation requires a numeric base.",1,1);v={name:"exponential",base:D}}else{if(v[0]!=="cubic-bezier")return c.error(`Unknown interpolation type ${String(v[0])}`,1,0);{let D=v.slice(1);if(D.length!==4||D.some(L=>typeof L!="number"||L<0||L>1))return c.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);v={name:"cubic-bezier",controlPoints:D}}}if(s.length-1<4)return c.error(`Expected at least 4 arguments, but found only ${s.length-1}.`);if((s.length-1)%2!=0)return c.error("Expected an even number of arguments.");if(x=c.parse(x,2,ct),!x)return null;let T=[],P=null;d!=="interpolate-hcl"&&d!=="interpolate-lab"||c.expectedType==Gh?c.expectedType&&c.expectedType.kind!=="value"&&(P=c.expectedType):P=yi;for(let D=0;D<S.length;D+=2){let L=S[D],B=S[D+1],G=D+3,Z=D+4;if(typeof L!="number")return c.error("Input/output pairs for \"interpolate\" expressions must be defined using literal numeric values (not computed expressions) for the input values.",G);if(T.length&&T[T.length-1][0]>=L)return c.error("Input/output pairs for \"interpolate\" expressions must be arranged with input values in strictly ascending order.",G);let K=c.parse(B,Z,P);if(!K)return null;P=P||K.type,T.push([L,K])}return yu(P,ct)||yu(P,_i)||yu(P,yi)||yu(P,vp)||yu(P,vu)||yu(P,Gh)||yu(P,Li)||yu(P,rs(ct))?new Ro(P,d,v,x,T):c.error(`Type ${ni(P)} is not interpolatable.`)}evaluate(s){let c=this.labels,d=this.outputs;if(c.length===1)return d[0].evaluate(s);let v=this.input.evaluate(s);if(v<=c[0])return d[0].evaluate(s);let x=c.length;if(v>=c[x-1])return d[x-1].evaluate(s);let S=tm(c,v),T=Ro.interpolationFactor(this.interpolation,v,c[S],c[S+1]),P=d[S].evaluate(s),D=d[S+1].evaluate(s);switch(this.operator){case"interpolate":switch(this.type.kind){case"number":return Qo(P,D,T);case"color":return rn.interpolate(P,D,T);case"padding":return wo.interpolate(P,D,T);case"colorArray":return So.interpolate(P,D,T);case"numberArray":return Ri.interpolate(P,D,T);case"variableAnchorOffsetCollection":return Jo.interpolate(P,D,T);case"array":return wp(P,D,T);case"projectionDefinition":return Da.interpolate(P,D,T)}case"interpolate-hcl":switch(this.type.kind){case"color":return rn.interpolate(P,D,T,"hcl");case"colorArray":return So.interpolate(P,D,T,"hcl")}case"interpolate-lab":switch(this.type.kind){case"color":return rn.interpolate(P,D,T,"lab");case"colorArray":return So.interpolate(P,D,T,"lab")}}}eachChild(s){s(this.input);for(let c of this.outputs)s(c)}outputDefined(){return this.outputs.every(s=>s.outputDefined())}}function rm(p,s,c,d){let v=d-c,x=p-c;return v===0?0:s===1?x/v:(Math.pow(s,x)-1)/(Math.pow(s,v)-1)}let Cl={color:rn.interpolate,number:Qo,padding:wo.interpolate,numberArray:Ri.interpolate,colorArray:So.interpolate,variableAnchorOffsetCollection:Jo.interpolate,array:wp};class Ep{constructor(s,c){this.type=s,this.args=c}static parse(s,c){if(s.length<2)return c.error("Expected at least one argument.");let d=null,v=c.expectedType;v&&v.kind!=="value"&&(d=v);let x=[];for(let T of s.slice(1)){let P=c.parse(T,1+x.length,d,void 0,{typeAnnotation:"omit"});if(!P)return null;d=d||P.type,x.push(P)}if(!d)throw new Error("No output type");let S=v&&x.some(T=>zf(v,T.type));return new Ep(S?Lr:d,x)}evaluate(s){let c,d=null,v=0;for(let x of this.args)if(v++,d=x.evaluate(s),d&&d instanceof ns&&!d.available&&(c||(c=d.name),d=null,v===this.args.length&&(d=c)),d!==null)break;return d}eachChild(s){this.args.forEach(s)}outputDefined(){return this.args.every(s=>s.outputDefined())}}function nm(p,s){return p==="=="||p==="!="?s.kind==="boolean"||s.kind==="string"||s.kind==="number"||s.kind==="null"||s.kind==="value":s.kind==="string"||s.kind==="number"||s.kind==="value"}function Ts(p,s,c,d){return d.compare(s,c)===0}function Tp(p,s,c){let d=p!=="=="&&p!=="!=";return class fPe{constructor(x,S,T){this.type=Dr,this.lhs=x,this.rhs=S,this.collator=T,this.hasUntypedArgument=x.type.kind==="value"||S.type.kind==="value"}static parse(x,S){if(x.length!==3&&x.length!==4)return S.error("Expected two or three arguments.");let T=x[0],P=S.parse(x[1],1,Lr);if(!P)return null;if(!nm(T,P.type))return S.concat(1).error(`"${T}" comparisons are not supported for type '${ni(P.type)}'.`);let D=S.parse(x[2],2,Lr);if(!D)return null;if(!nm(T,D.type))return S.concat(2).error(`"${T}" comparisons are not supported for type '${ni(D.type)}'.`);if(P.type.kind!==D.type.kind&&P.type.kind!=="value"&&D.type.kind!=="value")return S.error(`Cannot compare types '${ni(P.type)}' and '${ni(D.type)}'.`);d&&(P.type.kind==="value"&&D.type.kind!=="value"?P=new Rr(D.type,[P]):P.type.kind!=="value"&&D.type.kind==="value"&&(D=new Rr(P.type,[D])));let L=null;if(x.length===4){if(P.type.kind!=="string"&&D.type.kind!=="string"&&P.type.kind!=="value"&&D.type.kind!=="value")return S.error("Cannot use collator to compare non-string types.");if(L=S.parse(x[3],3,qf),!L)return null}return new fPe(P,D,L)}evaluate(x){let S=this.lhs.evaluate(x),T=this.rhs.evaluate(x);if(d&&this.hasUntypedArgument){let P=bi(S),D=bi(T);if(P.kind!==D.kind||P.kind!=="string"&&P.kind!=="number")throw new Xn(`Expected arguments for "${p}" to be (string, string) or (number, number), but found (${P.kind}, ${D.kind}) instead.`)}if(this.collator&&!d&&this.hasUntypedArgument){let P=bi(S),D=bi(T);if(P.kind!=="string"||D.kind!=="string")return s(x,S,T)}return this.collator?c(x,S,T,this.collator.evaluate(x)):s(x,S,T)}eachChild(x){x(this.lhs),x(this.rhs),this.collator&&x(this.collator)}outputDefined(){return!0}}}let vv=Tp("==",function(p,s,c){return s===c},Ts),Vk=Tp("!=",function(p,s,c){return s!==c},function(p,s,c,d){return!Ts(0,s,c,d)}),j_=Tp("<",function(p,s,c){return s<c},function(p,s,c,d){return d.compare(s,c)<0}),$k=Tp(">",function(p,s,c){return s>c},function(p,s,c,d){return d.compare(s,c)>0}),Gk=Tp("<=",function(p,s,c){return s<=c},function(p,s,c,d){return d.compare(s,c)<=0}),Hk=Tp(">=",function(p,s,c){return s>=c},function(p,s,c,d){return d.compare(s,c)>=0});class yv{constructor(s,c,d){this.type=qf,this.locale=d,this.caseSensitive=s,this.diacriticSensitive=c}static parse(s,c){if(s.length!==2)return c.error("Expected one argument.");let d=s[1];if(typeof d!="object"||Array.isArray(d))return c.error("Collator options argument must be an object.");let v=c.parse(d["case-sensitive"]!==void 0&&d["case-sensitive"],1,Dr);if(!v)return null;let x=c.parse(d["diacritic-sensitive"]!==void 0&&d["diacritic-sensitive"],1,Dr);if(!x)return null;let S=null;return d.locale&&(S=c.parse(d.locale,1,hr),!S)?null:new yv(v,x,S)}evaluate(s){return new Yh(this.caseSensitive.evaluate(s),this.diacriticSensitive.evaluate(s),this.locale?this.locale.evaluate(s):null)}eachChild(s){s(this.caseSensitive),s(this.diacriticSensitive),this.locale&&s(this.locale)}outputDefined(){return!1}}class Gf{constructor(s,c,d,v,x){this.type=hr,this.number=s,this.locale=c,this.currency=d,this.minFractionDigits=v,this.maxFractionDigits=x}static parse(s,c){if(s.length!==3)return c.error("Expected two arguments.");let d=c.parse(s[1],1,ct);if(!d)return null;let v=s[2];if(typeof v!="object"||Array.isArray(v))return c.error("NumberFormat options argument must be an object.");let x=null;if(v.locale&&(x=c.parse(v.locale,1,hr),!x))return null;let S=null;if(v.currency&&(S=c.parse(v.currency,1,hr),!S))return null;let T=null;if(v["min-fraction-digits"]&&(T=c.parse(v["min-fraction-digits"],1,ct),!T))return null;let P=null;return v["max-fraction-digits"]&&(P=c.parse(v["max-fraction-digits"],1,ct),!P)?null:new Gf(d,x,S,T,P)}evaluate(s){return new Intl.NumberFormat(this.locale?this.locale.evaluate(s):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(s):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(s):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(s):void 0}).format(this.number.evaluate(s))}eachChild(s){s(this.number),this.locale&&s(this.locale),this.currency&&s(this.currency),this.minFractionDigits&&s(this.minFractionDigits),this.maxFractionDigits&&s(this.maxFractionDigits)}outputDefined(){return!1}}class _v{constructor(s){this.type=$h,this.sections=s}static parse(s,c){if(s.length<2)return c.error("Expected at least one argument.");let d=s[1];if(!Array.isArray(d)&&typeof d=="object")return c.error("First argument must be an image or text section.");let v=[],x=!1;for(let S=1;S<=s.length-1;++S){let T=s[S];if(x&&typeof T=="object"&&!Array.isArray(T)){x=!1;let P=null;if(T["font-scale"]&&(P=c.parse(T["font-scale"],1,ct),!P))return null;let D=null;if(T["text-font"]&&(D=c.parse(T["text-font"],1,rs(hr)),!D))return null;let L=null;if(T["text-color"]&&(L=c.parse(T["text-color"],1,yi),!L))return null;let B=null;if(T["vertical-align"]){if(typeof T["vertical-align"]=="string"&&!Kh.includes(T["vertical-align"]))return c.error(`'vertical-align' must be one of: 'bottom', 'center', 'top' but found '${T["vertical-align"]}' instead.`);if(B=c.parse(T["vertical-align"],1,hr),!B)return null}let G=v[v.length-1];G.scale=P,G.font=D,G.textColor=L,G.verticalAlign=B}else{let P=c.parse(s[S],1,Lr);if(!P)return null;let D=P.type.kind;if(D!=="string"&&D!=="value"&&D!=="null"&&D!=="resolvedImage")return c.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");x=!0,v.push({content:P,scale:null,font:null,textColor:null,verticalAlign:null})}}return new _v(v)}evaluate(s){return new Oa(this.sections.map(c=>{let d=c.content.evaluate(s);return bi(d)===yp?new Bf("",d,null,null,null,c.verticalAlign?c.verticalAlign.evaluate(s):null):new Bf(nn(d),null,c.scale?c.scale.evaluate(s):null,c.font?c.font.evaluate(s).join(","):null,c.textColor?c.textColor.evaluate(s):null,c.verticalAlign?c.verticalAlign.evaluate(s):null)}))}eachChild(s){for(let c of this.sections)s(c.content),c.scale&&s(c.scale),c.font&&s(c.font),c.textColor&&s(c.textColor),c.verticalAlign&&s(c.verticalAlign)}outputDefined(){return!1}}class bv{constructor(s){this.type=yp,this.input=s}static parse(s,c){if(s.length!==2)return c.error("Expected two arguments.");let d=c.parse(s[1],1,hr);return d?new bv(d):c.error("No image name provided.")}evaluate(s){let c=this.input.evaluate(s),d=ns.fromString(c);return d&&s.availableImages&&(d.available=s.availableImages.indexOf(c)>-1),d}eachChild(s){s(this.input)}outputDefined(){return!1}}class xv{constructor(s){this.type=ct,this.input=s}static parse(s,c){if(s.length!==2)return c.error(`Expected 1 argument, but found ${s.length-1} instead.`);let d=c.parse(s[1],1);return d?d.type.kind!=="array"&&d.type.kind!=="string"&&d.type.kind!=="value"?c.error(`Expected argument of type string or array, but found ${ni(d.type)} instead.`):new xv(d):null}evaluate(s){let c=this.input.evaluate(s);if(typeof c=="string")return[...c].length;if(Array.isArray(c))return c.length;throw new Xn(`Expected value to be of type string or array, but found ${ni(bi(c))} instead.`)}eachChild(s){s(this.input)}outputDefined(){return!1}}let Al=8192;function bE(p,s){let c=(180+p[0])/360,d=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+p[1]*Math.PI/360)))/360,v=Math.pow(2,s.z);return[Math.round(c*v*Al),Math.round(d*v*Al)]}function F_(p,s){let c=Math.pow(2,s.z);return[(v=(p[0]/Al+s.x)/c,360*v-180),(d=(p[1]/Al+s.y)/c,360/Math.PI*Math.atan(Math.exp((180-360*d)*Math.PI/180))-90)];var d,v}function im(p,s){p[0]=Math.min(p[0],s[0]),p[1]=Math.min(p[1],s[1]),p[2]=Math.max(p[2],s[0]),p[3]=Math.max(p[3],s[1])}function om(p,s){return!(p[0]<=s[0]||p[2]>=s[2]||p[1]<=s[1]||p[3]>=s[3])}function Wk(p,s,c){let d=p[0]-s[0],v=p[1]-s[1],x=p[0]-c[0],S=p[1]-c[1];return d*S-x*v==0&&d*x<=0&&v*S<=0}function wv(p,s,c,d){return(v=[d[0]-c[0],d[1]-c[1]])[0]*(x=[s[0]-p[0],s[1]-p[1]])[1]-v[1]*x[0]!=0&&!(!IE(p,s,c,d)||!IE(c,d,p,s));var v,x}function xE(p,s,c){for(let d of c)for(let v=0;v<d.length-1;++v)if(wv(p,s,d[v],d[v+1]))return!0;return!1}function Mp(p,s,c=!1){let d=!1;for(let T of s)for(let P=0;P<T.length-1;P++){if(Wk(p,T[P],T[P+1]))return c;(x=T[P])[1]>(v=p)[1]!=(S=T[P+1])[1]>v[1]&&v[0]<(S[0]-x[0])*(v[1]-x[1])/(S[1]-x[1])+x[0]&&(d=!d)}var v,x,S;return d}function wE(p,s){for(let c of s)if(Mp(p,c))return!0;return!1}function SE(p,s){for(let c of p)if(!Mp(c,s))return!1;for(let c=0;c<p.length-1;++c)if(xE(p[c],p[c+1],s))return!1;return!0}function Zk(p,s){for(let c of s)if(SE(p,c))return!0;return!1}function IE(p,s,c,d){let v=d[0]-c[0],x=d[1]-c[1],S=(p[0]-c[0])*x-v*(p[1]-c[1]),T=(s[0]-c[0])*x-v*(s[1]-c[1]);return S>0&&T<0||S<0&&T>0}function am(p,s,c){let d=[];for(let v=0;v<p.length;v++){let x=[];for(let S=0;S<p[v].length;S++){let T=bE(p[v][S],c);im(s,T),x.push(T)}d.push(x)}return d}function EE(p,s,c){let d=[];for(let v=0;v<p.length;v++){let x=am(p[v],s,c);d.push(x)}return d}function TE(p,s,c,d){if(p[0]<c[0]||p[0]>c[2]){let v=.5*d,x=p[0]-c[0]>v?-d:c[0]-p[0]>v?d:0;x===0&&(x=p[0]-c[2]>v?-d:c[2]-p[0]>v?d:0),p[0]+=x}im(s,p)}function ME(p,s,c,d){let v=Math.pow(2,d.z)*Al,x=[d.x*Al,d.y*Al],S=[];for(let T of p)for(let P of T){let D=[P.x+x[0],P.y+x[1]];TE(D,s,c,v),S.push(D)}return S}function B_(p,s,c,d){let v=Math.pow(2,d.z)*Al,x=[d.x*Al,d.y*Al],S=[];for(let P of p){let D=[];for(let L of P){let B=[L.x+x[0],L.y+x[1]];im(s,B),D.push(B)}S.push(D)}if(s[2]-s[0]<=v/2){(T=s)[0]=T[1]=1/0,T[2]=T[3]=-1/0;for(let P of S)for(let D of P)TE(D,s,c,v)}var T;return S}class fc{constructor(s,c){this.type=Dr,this.geojson=s,this.geometries=c}static parse(s,c){if(s.length!==2)return c.error(`'within' expression requires exactly one argument, but found ${s.length-1} instead.`);if(Nn(s[1])){let d=s[1];if(d.type==="FeatureCollection"){let v=[];for(let x of d.features){let{type:S,coordinates:T}=x.geometry;S==="Polygon"&&v.push(T),S==="MultiPolygon"&&v.push(...T)}if(v.length)return new fc(d,{type:"MultiPolygon",coordinates:v})}else if(d.type==="Feature"){let v=d.geometry.type;if(v==="Polygon"||v==="MultiPolygon")return new fc(d,d.geometry)}else if(d.type==="Polygon"||d.type==="MultiPolygon")return new fc(d,d)}return c.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(s){if(s.geometry()!=null&&s.canonicalID()!=null){if(s.geometryType()==="Point")return function(c,d){let v=[1/0,1/0,-1/0,-1/0],x=[1/0,1/0,-1/0,-1/0],S=c.canonicalID();if(d.type==="Polygon"){let T=am(d.coordinates,x,S),P=ME(c.geometry(),v,x,S);if(!om(v,x))return!1;for(let D of P)if(!Mp(D,T))return!1}if(d.type==="MultiPolygon"){let T=EE(d.coordinates,x,S),P=ME(c.geometry(),v,x,S);if(!om(v,x))return!1;for(let D of P)if(!wE(D,T))return!1}return!0}(s,this.geometries);if(s.geometryType()==="LineString")return function(c,d){let v=[1/0,1/0,-1/0,-1/0],x=[1/0,1/0,-1/0,-1/0],S=c.canonicalID();if(d.type==="Polygon"){let T=am(d.coordinates,x,S),P=B_(c.geometry(),v,x,S);if(!om(v,x))return!1;for(let D of P)if(!SE(D,T))return!1}if(d.type==="MultiPolygon"){let T=EE(d.coordinates,x,S),P=B_(c.geometry(),v,x,S);if(!om(v,x))return!1;for(let D of P)if(!Zk(D,T))return!1}return!0}(s,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}}let CE=class{constructor(p=[],s=(c,d)=>c<d?-1:c>d?1:0){if(this.data=p,this.length=this.data.length,this.compare=s,this.length>0)for(let c=(this.length>>1)-1;c>=0;c--)this._down(c)}push(p){this.data.push(p),this._up(this.length++)}pop(){if(this.length===0)return;let p=this.data[0],s=this.data.pop();return--this.length>0&&(this.data[0]=s,this._down(0)),p}peek(){return this.data[0]}_up(p){let{data:s,compare:c}=this,d=s[p];for(;p>0;){let v=p-1>>1,x=s[v];if(c(d,x)>=0)break;s[p]=x,p=v}s[p]=d}_down(p){let{data:s,compare:c}=this,d=this.length>>1,v=s[p];for(;p<d;){let x=1+(p<<1),S=x+1;if(S<this.length&&c(s[S],s[x])<0&&(x=S),c(s[x],v)>=0)break;s[p]=s[x],p=x}s[p]=v}};function AE(p,s,c=0,d=p.length-1,v=PE){for(;d>c;){if(d-c>600){let P=d-c+1,D=s-c+1,L=Math.log(P),B=.5*Math.exp(2*L/3),G=.5*Math.sqrt(L*B*(P-B)/P)*(D-P/2<0?-1:1);AE(p,s,Math.max(c,Math.floor(s-D*B/P+G)),Math.min(d,Math.floor(s+(P-D)*B/P+G)),v)}let x=p[s],S=c,T=d;for(Hf(p,c,s),v(p[d],x)>0&&Hf(p,c,d);S<T;){for(Hf(p,S,T),S++,T--;v(p[S],x)<0;)S++;for(;v(p[T],x)>0;)T--}v(p[c],x)===0?Hf(p,c,T):(T++,Hf(p,T,d)),T<=s&&(c=T+1),s<=T&&(d=T-1)}}function Hf(p,s,c){let d=p[s];p[s]=p[c],p[c]=d}function PE(p,s){return p<s?-1:p>s?1:0}function Sv(p,s){if(p.length<=1)return[p];let c=[],d,v;for(let x of p){let S=Kk(x);S!==0&&(x.area=Math.abs(S),v===void 0&&(v=S<0),v===S<0?(d&&c.push(d),d=[x]):d.push(x))}if(d&&c.push(d),s>1)for(let x=0;x<c.length;x++)c[x].length<=s||(AE(c[x],s,1,c[x].length-1,Yk),c[x]=c[x].slice(0,s));return c}function Yk(p,s){return s.area-p.area}function Kk(p){let s=0;for(let c,d,v=0,x=p.length,S=x-1;v<x;S=v++)c=p[v],d=p[S],s+=(d.x-c.x)*(c.y+d.y);return s}let U_=1/298.257223563,OE=U_*(2-U_),DE=Math.PI/180;class V_{constructor(s){let c=6378.137*DE*1e3,d=Math.cos(s*DE),v=1/(1-OE*(1-d*d)),x=Math.sqrt(v);this.kx=c*x*d,this.ky=c*x*v*(1-OE)}distance(s,c){let d=this.wrap(s[0]-c[0])*this.kx,v=(s[1]-c[1])*this.ky;return Math.sqrt(d*d+v*v)}pointOnLine(s,c){let d,v,x,S,T=1/0;for(let P=0;P<s.length-1;P++){let D=s[P][0],L=s[P][1],B=this.wrap(s[P+1][0]-D)*this.kx,G=(s[P+1][1]-L)*this.ky,Z=0;B===0&&G===0||(Z=(this.wrap(c[0]-D)*this.kx*B+(c[1]-L)*this.ky*G)/(B*B+G*G),Z>1?(D=s[P+1][0],L=s[P+1][1]):Z>0&&(D+=B/this.kx*Z,L+=G/this.ky*Z)),B=this.wrap(c[0]-D)*this.kx,G=(c[1]-L)*this.ky;let K=B*B+G*G;K<T&&(T=K,d=D,v=L,x=P,S=Z)}return{point:[d,v],index:x,t:Math.max(0,Math.min(1,S))}}wrap(s){for(;s<-180;)s+=360;for(;s>180;)s-=360;return s}}function NE(p,s){return s[0]-p[0]}function fn(p){return p[1]-p[0]+1}function _u(p,s){return p[1]>=p[0]&&p[1]<s}function $_(p,s){if(p[0]>p[1])return[null,null];let c=fn(p);if(s){if(c===2)return[p,null];let v=Math.floor(c/2);return[[p[0],p[0]+v],[p[0]+v,p[1]]]}if(c===1)return[p,null];let d=Math.floor(c/2)-1;return[[p[0],p[0]+d],[p[0]+d+1,p[1]]]}function G_(p,s){if(!_u(s,p.length))return[1/0,1/0,-1/0,-1/0];let c=[1/0,1/0,-1/0,-1/0];for(let d=s[0];d<=s[1];++d)im(c,p[d]);return c}function H_(p){let s=[1/0,1/0,-1/0,-1/0];for(let c of p)for(let d of c)im(s,d);return s}function kE(p){return p[0]!==-1/0&&p[1]!==-1/0&&p[2]!==1/0&&p[3]!==1/0}function W_(p,s,c){if(!kE(p)||!kE(s))return NaN;let d=0,v=0;return p[2]<s[0]&&(d=s[0]-p[2]),p[0]>s[2]&&(d=p[0]-s[2]),p[1]>s[3]&&(v=p[1]-s[3]),p[3]<s[1]&&(v=s[1]-p[3]),c.distance([0,0],[d,v])}function Cp(p,s,c){let d=c.pointOnLine(s,p);return c.distance(p,d.point)}function Z_(p,s,c,d,v){let x=Math.min(Cp(p,[c,d],v),Cp(s,[c,d],v)),S=Math.min(Cp(c,[p,s],v),Cp(d,[p,s],v));return Math.min(x,S)}function Xk(p,s,c,d,v){if(!_u(s,p.length)||!_u(d,c.length))return 1/0;let x=1/0;for(let S=s[0];S<s[1];++S){let T=p[S],P=p[S+1];for(let D=d[0];D<d[1];++D){let L=c[D],B=c[D+1];if(wv(T,P,L,B))return 0;x=Math.min(x,Z_(T,P,L,B,v))}}return x}function Qk(p,s,c,d,v){if(!_u(s,p.length)||!_u(d,c.length))return NaN;let x=1/0;for(let S=s[0];S<=s[1];++S)for(let T=d[0];T<=d[1];++T)if(x=Math.min(x,v.distance(p[S],c[T])),x===0)return x;return x}function Jk(p,s,c){if(Mp(p,s,!0))return 0;let d=1/0;for(let v of s){let x=v[0],S=v[v.length-1];if(x!==S&&(d=Math.min(d,Cp(p,[S,x],c)),d===0))return d;let T=c.pointOnLine(v,p);if(d=Math.min(d,c.distance(p,T.point)),d===0)return d}return d}function e6(p,s,c,d){if(!_u(s,p.length))return NaN;for(let x=s[0];x<=s[1];++x)if(Mp(p[x],c,!0))return 0;let v=1/0;for(let x=s[0];x<s[1];++x){let S=p[x],T=p[x+1];for(let P of c)for(let D=0,L=P.length,B=L-1;D<L;B=D++){let G=P[B],Z=P[D];if(wv(S,T,G,Z))return 0;v=Math.min(v,Z_(S,T,G,Z,d))}}return v}function LE(p,s){for(let c of p)for(let d of c)if(Mp(d,s,!0))return!0;return!1}function t6(p,s,c,d=1/0){let v=H_(p),x=H_(s);if(d!==1/0&&W_(v,x,c)>=d)return d;if(om(v,x)){if(LE(p,s))return 0}else if(LE(s,p))return 0;let S=1/0;for(let T of p)for(let P=0,D=T.length,L=D-1;P<D;L=P++){let B=T[L],G=T[P];for(let Z of s)for(let K=0,te=Z.length,le=te-1;K<te;le=K++){let me=Z[le],De=Z[K];if(wv(B,G,me,De))return 0;S=Math.min(S,Z_(B,G,me,De,c))}}return S}function RE(p,s,c,d,v,x){if(!x)return;let S=W_(G_(d,x),v,c);S<s&&p.push([S,x,[0,0]])}function Iv(p,s,c,d,v,x,S){if(!x||!S)return;let T=W_(G_(d,x),G_(v,S),c);T<s&&p.push([T,x,S])}function Ev(p,s,c,d,v=1/0){let x=Math.min(d.distance(p[0],c[0][0]),v);if(x===0)return x;let S=new CE([[0,[0,p.length-1],[0,0]]],NE),T=H_(c);for(;S.length>0;){let P=S.pop();if(P[0]>=x)continue;let D=P[1],L=s?50:100;if(fn(D)<=L){if(!_u(D,p.length))return NaN;if(s){let B=e6(p,D,c,d);if(isNaN(B)||B===0)return B;x=Math.min(x,B)}else for(let B=D[0];B<=D[1];++B){let G=Jk(p[B],c,d);if(x=Math.min(x,G),x===0)return 0}}else{let B=$_(D,s);RE(S,x,d,p,T,B[0]),RE(S,x,d,p,T,B[1])}}return x}function Tv(p,s,c,d,v,x=1/0){let S=Math.min(x,v.distance(p[0],c[0]));if(S===0)return S;let T=new CE([[0,[0,p.length-1],[0,c.length-1]]],NE);for(;T.length>0;){let P=T.pop();if(P[0]>=S)continue;let D=P[1],L=P[2],B=s?50:100,G=d?50:100;if(fn(D)<=B&&fn(L)<=G){if(!_u(D,p.length)&&_u(L,c.length))return NaN;let Z;if(s&&d)Z=Xk(p,D,c,L,v),S=Math.min(S,Z);else if(s&&!d){let K=p.slice(D[0],D[1]+1);for(let te=L[0];te<=L[1];++te)if(Z=Cp(c[te],K,v),S=Math.min(S,Z),S===0)return S}else if(!s&&d){let K=c.slice(L[0],L[1]+1);for(let te=D[0];te<=D[1];++te)if(Z=Cp(p[te],K,v),S=Math.min(S,Z),S===0)return S}else Z=Qk(p,D,c,L,v),S=Math.min(S,Z)}else{let Z=$_(D,s),K=$_(L,d);Iv(T,S,v,p,c,Z[0],K[0]),Iv(T,S,v,p,c,Z[0],K[1]),Iv(T,S,v,p,c,Z[1],K[0]),Iv(T,S,v,p,c,Z[1],K[1])}}return S}function Y_(p){return p.type==="MultiPolygon"?p.coordinates.map(s=>({type:"Polygon",coordinates:s})):p.type==="MultiLineString"?p.coordinates.map(s=>({type:"LineString",coordinates:s})):p.type==="MultiPoint"?p.coordinates.map(s=>({type:"Point",coordinates:s})):[p]}class Ap{constructor(s,c){this.type=ct,this.geojson=s,this.geometries=c}static parse(s,c){if(s.length!==2)return c.error(`'distance' expression requires exactly one argument, but found ${s.length-1} instead.`);if(Nn(s[1])){let d=s[1];if(d.type==="FeatureCollection")return new Ap(d,d.features.map(v=>Y_(v.geometry)).flat());if(d.type==="Feature")return new Ap(d,Y_(d.geometry));if("type"in d&&"coordinates"in d)return new Ap(d,Y_(d))}return c.error("'distance' expression requires valid geojson object that contains polygon geometry type.")}evaluate(s){if(s.geometry()!=null&&s.canonicalID()!=null){if(s.geometryType()==="Point")return function(c,d){let v=c.geometry(),x=v.flat().map(P=>F_([P.x,P.y],c.canonical));if(v.length===0)return NaN;let S=new V_(x[0][1]),T=1/0;for(let P of d){switch(P.type){case"Point":T=Math.min(T,Tv(x,!1,[P.coordinates],!1,S,T));break;case"LineString":T=Math.min(T,Tv(x,!1,P.coordinates,!0,S,T));break;case"Polygon":T=Math.min(T,Ev(x,!1,P.coordinates,S,T))}if(T===0)return T}return T}(s,this.geometries);if(s.geometryType()==="LineString")return function(c,d){let v=c.geometry(),x=v.flat().map(P=>F_([P.x,P.y],c.canonical));if(v.length===0)return NaN;let S=new V_(x[0][1]),T=1/0;for(let P of d){switch(P.type){case"Point":T=Math.min(T,Tv(x,!0,[P.coordinates],!1,S,T));break;case"LineString":T=Math.min(T,Tv(x,!0,P.coordinates,!0,S,T));break;case"Polygon":T=Math.min(T,Ev(x,!0,P.coordinates,S,T))}if(T===0)return T}return T}(s,this.geometries);if(s.geometryType()==="Polygon")return function(c,d){let v=c.geometry();if(v.length===0||v[0].length===0)return NaN;let x=Sv(v,0).map(P=>P.map(D=>D.map(L=>F_([L.x,L.y],c.canonical)))),S=new V_(x[0][0][0][1]),T=1/0;for(let P of d)for(let D of x){switch(P.type){case"Point":T=Math.min(T,Ev([P.coordinates],!1,D,S,T));break;case"LineString":T=Math.min(T,Ev(P.coordinates,!0,D,S,T));break;case"Polygon":T=Math.min(T,t6(D,P.coordinates,S,T))}if(T===0)return T}return T}(s,this.geometries)}return NaN}eachChild(){}outputDefined(){return!0}}class Mv{constructor(s){this.type=Lr,this.key=s}static parse(s,c){if(s.length!==2)return c.error(`Expected 1 argument, but found ${s.length-1} instead.`);let d=s[1];return d==null?c.error("Global state property must be defined."):typeof d!="string"?c.error(`Global state property must be string, but found ${typeof s[1]} instead.`):new Mv(d)}evaluate(s){var c;let d=(c=s.globals)===null||c===void 0?void 0:c.globalState;return d&&Object.keys(d).length!==0?Wh(d,this.key):null}eachChild(){}outputDefined(){return!1}}let Wf={"==":vv,"!=":Vk,">":$k,"<":j_,">=":Hk,"<=":Gk,array:Rr,at:z_,boolean:Rr,case:uo,coalesce:Ep,collator:yv,format:_v,image:bv,in:hv,"index-of":em,interpolate:Ro,"interpolate-hcl":Ro,"interpolate-lab":Ro,length:xv,let:$f,literal:Cr,match:Sp,number:Rr,"number-format":Gf,object:Rr,slice:Ip,step:pc,string:Rr,"to-boolean":Lo,"to-color":Lo,"to-number":Lo,"to-string":Lo,var:Jh,within:fc,distance:Ap,"global-state":Mv};class Ms{constructor(s,c,d,v){this.name=s,this.type=c,this._evaluate=d,this.args=v}evaluate(s){return this._evaluate(s,this.args)}eachChild(s){this.args.forEach(s)}outputDefined(){return!1}static parse(s,c){let d=s[0],v=Ms.definitions[d];if(!v)return c.error(`Unknown expression "${d}". If you wanted a literal array, use ["literal", [...]].`,0);let x=Array.isArray(v)?v[0]:v.type,S=Array.isArray(v)?[[v[1],v[2]]]:v.overloads,T=S.filter(([D])=>!Array.isArray(D)||D.length===s.length-1),P=null;for(let[D,L]of T){P=new Qh(c.registry,Cv,c.path,null,c.scope);let B=[],G=!1;for(let Z=1;Z<s.length;Z++){let K=s[Z],te=Array.isArray(D)?D[Z-1]:D.type,le=P.parse(K,1+B.length,te);if(!le){G=!0;break}B.push(le)}if(!G)if(Array.isArray(D)&&D.length!==B.length)P.error(`Expected ${D.length} arguments, but found ${B.length} instead.`);else{for(let Z=0;Z<B.length;Z++){let K=Array.isArray(D)?D[Z]:D.type,te=B[Z];P.concat(Z+1).checkSubtype(K,te.type)}if(P.errors.length===0)return new Ms(d,x,L,B)}}if(T.length===1)c.errors.push(...P.errors);else{let D=(T.length?T:S).map(([B])=>{return G=B,Array.isArray(G)?`(${G.map(ni).join(", ")})`:`(${ni(G.type)}...)`;var G}).join(" | "),L=[];for(let B=1;B<s.length;B++){let G=c.parse(s[B],1+L.length);if(!G)return null;L.push(ni(G.type))}c.error(`Expected arguments of type ${D}, but found (${L.join(", ")}) instead.`)}return null}static register(s,c){Ms.definitions=c;for(let d in c)s[d]=Ms}}function qE(p,[s,c,d,v]){s=s.evaluate(p),c=c.evaluate(p),d=d.evaluate(p);let x=v?v.evaluate(p):1,S=Xh(s,c,d,x);if(S)throw new Xn(S);return new rn(s/255,c/255,d/255,x,!1)}function zE(p,s){return p in s}function K_(p,s){let c=s[p];return c===void 0?null:c}function Pp(p){return{type:p}}function Cv(p){if(p instanceof Jh)return Cv(p.boundExpression);if(p instanceof Ms&&p.name==="error"||p instanceof yv||p instanceof fc||p instanceof Ap||p instanceof Mv)return!1;let s=p instanceof Lo||p instanceof Rr,c=!0;return p.eachChild(d=>{c=s?c&&Cv(d):c&&d instanceof Cr}),!!c&&Av(p)&&Pv(p,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}function Av(p){if(p instanceof Ms&&(p.name==="get"&&p.args.length===1||p.name==="feature-state"||p.name==="has"&&p.args.length===1||p.name==="properties"||p.name==="geometry-type"||p.name==="id"||/^filter-/.test(p.name))||p instanceof fc||p instanceof Ap)return!1;let s=!0;return p.eachChild(c=>{s&&!Av(c)&&(s=!1)}),s}function sm(p){if(p instanceof Ms&&p.name==="feature-state")return!1;let s=!0;return p.eachChild(c=>{s&&!sm(c)&&(s=!1)}),s}function Pv(p,s){if(p instanceof Ms&&s.indexOf(p.name)>=0)return!1;let c=!0;return p.eachChild(d=>{c&&!Pv(d,s)&&(c=!1)}),c}function Ov(p){return{result:"success",value:p}}function Zf(p){return{result:"error",value:p}}function Yf(p){return p["property-type"]==="data-driven"||p["property-type"]==="cross-faded-data-driven"}function jE(p){return!!p.expression&&p.expression.parameters.indexOf("zoom")>-1}function Dv(p){return!!p.expression&&p.expression.interpolated}function Yr(p){return p instanceof Number?"number":p instanceof String?"string":p instanceof Boolean?"boolean":Array.isArray(p)?"array":p===null?"null":typeof p}function Nv(p){return typeof p=="object"&&p!==null&&!Array.isArray(p)&&bi(p)===Pa}function kv(p){return p}function X_(p,s){let c=p.stops&&typeof p.stops[0][0]=="object",d=c||!(c||p.property!==void 0),v=p.type||(Dv(s)?"exponential":"interval"),x=function(L){switch(L.type){case"color":return rn.parse;case"padding":return wo.parse;case"numberArray":return Ri.parse;case"colorArray":return So.parse;default:return null}}(s);if(x&&((p=sn({},p)).stops&&(p.stops=p.stops.map(L=>[L[0],x(L[1])])),p.default=x(p.default?p.default:s.default)),p.colorSpace&&(S=p.colorSpace)!=="rgb"&&S!=="hcl"&&S!=="lab")throw new Error(`Unknown color space: "${p.colorSpace}"`);var S;let T=function(L){switch(L){case"exponential":return FE;case"interval":return n6;case"categorical":return r6;case"identity":return i6;default:throw new Error(`Unknown function type "${L}"`)}}(v),P,D;if(v==="categorical"){P=Object.create(null);for(let L of p.stops)P[L[0]]=L[1];D=typeof p.stops[0][0]}if(c){let L={},B=[];for(let K=0;K<p.stops.length;K++){let te=p.stops[K],le=te[0].zoom;L[le]===void 0&&(L[le]={zoom:le,type:p.type,property:p.property,default:p.default,stops:[]},B.push(le)),L[le].stops.push([te[0].value,te[1]])}let G=[];for(let K of B)G.push([L[K].zoom,X_(L[K],s)]);let Z={name:"linear"};return{kind:"composite",interpolationType:Z,interpolationFactor:Ro.interpolationFactor.bind(void 0,Z),zoomStops:G.map(K=>K[0]),evaluate:({zoom:K},te)=>FE({stops:G,base:p.base},s,K).evaluate(K,te)}}if(d){let L=v==="exponential"?{name:"exponential",base:p.base!==void 0?p.base:1}:null;return{kind:"camera",interpolationType:L,interpolationFactor:Ro.interpolationFactor.bind(void 0,L),zoomStops:p.stops.map(B=>B[0]),evaluate:({zoom:B})=>T(p,s,B,P,D)}}return{kind:"source",evaluate(L,B){let G=B&&B.properties?B.properties[p.property]:void 0;return G===void 0?lm(p.default,s.default):T(p,s,G,P,D)}}}function lm(p,s,c){return p!==void 0?p:s!==void 0?s:c!==void 0?c:void 0}function r6(p,s,c,d,v){return lm(typeof c===v?d[c]:void 0,p.default,s.default)}function n6(p,s,c){if(Yr(c)!=="number")return lm(p.default,s.default);let d=p.stops.length;if(d===1||c<=p.stops[0][0])return p.stops[0][1];if(c>=p.stops[d-1][0])return p.stops[d-1][1];let v=tm(p.stops.map(x=>x[0]),c);return p.stops[v][1]}function FE(p,s,c){let d=p.base!==void 0?p.base:1;if(Yr(c)!=="number")return lm(p.default,s.default);let v=p.stops.length;if(v===1||c<=p.stops[0][0])return p.stops[0][1];if(c>=p.stops[v-1][0])return p.stops[v-1][1];let x=tm(p.stops.map(L=>L[0]),c),S=function(L,B,G,Z){let K=Z-G,te=L-G;return K===0?0:B===1?te/K:(Math.pow(B,te)-1)/(Math.pow(B,K)-1)}(c,d,p.stops[x][0],p.stops[x+1][0]),T=p.stops[x][1],P=p.stops[x+1][1],D=Cl[s.type]||kv;return typeof T.evaluate=="function"?{evaluate(...L){let B=T.evaluate.apply(void 0,L),G=P.evaluate.apply(void 0,L);if(B!==void 0&&G!==void 0)return D(B,G,S,p.colorSpace)}}:D(T,P,S,p.colorSpace)}function i6(p,s,c){switch(s.type){case"color":c=rn.parse(c);break;case"formatted":c=Oa.fromString(c.toString());break;case"resolvedImage":c=ns.fromString(c.toString());break;case"padding":c=wo.parse(c);break;case"colorArray":c=So.parse(c);break;case"numberArray":c=Ri.parse(c);break;default:Yr(c)===s.type||s.type==="enum"&&s.values[c]||(c=void 0)}return lm(c,p.default,s.default)}Ms.register(Wf,{error:[{kind:"error"},[hr],(p,[s])=>{throw new Xn(s.evaluate(p))}],typeof:[hr,[Lr],(p,[s])=>ni(bi(s.evaluate(p)))],"to-rgba":[rs(ct,4),[yi],(p,[s])=>{let[c,d,v,x]=s.evaluate(p).rgb;return[255*c,255*d,255*v,x]}],rgb:[yi,[ct,ct,ct],qE],rgba:[yi,[ct,ct,ct,ct],qE],has:{type:Dr,overloads:[[[hr],(p,[s])=>zE(s.evaluate(p),p.properties())],[[hr,Pa],(p,[s,c])=>zE(s.evaluate(p),c.evaluate(p))]]},get:{type:Lr,overloads:[[[hr],(p,[s])=>K_(s.evaluate(p),p.properties())],[[hr,Pa],(p,[s,c])=>K_(s.evaluate(p),c.evaluate(p))]]},"feature-state":[Lr,[hr],(p,[s])=>K_(s.evaluate(p),p.featureState||{})],properties:[Pa,[],p=>p.properties()],"geometry-type":[hr,[],p=>p.geometryType()],id:[Lr,[],p=>p.id()],zoom:[ct,[],p=>p.globals.zoom],"heatmap-density":[ct,[],p=>p.globals.heatmapDensity||0],"line-progress":[ct,[],p=>p.globals.lineProgress||0],accumulated:[Lr,[],p=>p.globals.accumulated===void 0?null:p.globals.accumulated],"+":[ct,Pp(ct),(p,s)=>{let c=0;for(let d of s)c+=d.evaluate(p);return c}],"*":[ct,Pp(ct),(p,s)=>{let c=1;for(let d of s)c*=d.evaluate(p);return c}],"-":{type:ct,overloads:[[[ct,ct],(p,[s,c])=>s.evaluate(p)-c.evaluate(p)],[[ct],(p,[s])=>-s.evaluate(p)]]},"/":[ct,[ct,ct],(p,[s,c])=>s.evaluate(p)/c.evaluate(p)],"%":[ct,[ct,ct],(p,[s,c])=>s.evaluate(p)%c.evaluate(p)],ln2:[ct,[],()=>Math.LN2],pi:[ct,[],()=>Math.PI],e:[ct,[],()=>Math.E],"^":[ct,[ct,ct],(p,[s,c])=>Math.pow(s.evaluate(p),c.evaluate(p))],sqrt:[ct,[ct],(p,[s])=>Math.sqrt(s.evaluate(p))],log10:[ct,[ct],(p,[s])=>Math.log(s.evaluate(p))/Math.LN10],ln:[ct,[ct],(p,[s])=>Math.log(s.evaluate(p))],log2:[ct,[ct],(p,[s])=>Math.log(s.evaluate(p))/Math.LN2],sin:[ct,[ct],(p,[s])=>Math.sin(s.evaluate(p))],cos:[ct,[ct],(p,[s])=>Math.cos(s.evaluate(p))],tan:[ct,[ct],(p,[s])=>Math.tan(s.evaluate(p))],asin:[ct,[ct],(p,[s])=>Math.asin(s.evaluate(p))],acos:[ct,[ct],(p,[s])=>Math.acos(s.evaluate(p))],atan:[ct,[ct],(p,[s])=>Math.atan(s.evaluate(p))],min:[ct,Pp(ct),(p,s)=>Math.min(...s.map(c=>c.evaluate(p)))],max:[ct,Pp(ct),(p,s)=>Math.max(...s.map(c=>c.evaluate(p)))],abs:[ct,[ct],(p,[s])=>Math.abs(s.evaluate(p))],round:[ct,[ct],(p,[s])=>{let c=s.evaluate(p);return c<0?-Math.round(-c):Math.round(c)}],floor:[ct,[ct],(p,[s])=>Math.floor(s.evaluate(p))],ceil:[ct,[ct],(p,[s])=>Math.ceil(s.evaluate(p))],"filter-==":[Dr,[hr,Lr],(p,[s,c])=>p.properties()[s.value]===c.value],"filter-id-==":[Dr,[Lr],(p,[s])=>p.id()===s.value],"filter-type-==":[Dr,[hr],(p,[s])=>p.geometryType()===s.value],"filter-<":[Dr,[hr,Lr],(p,[s,c])=>{let d=p.properties()[s.value],v=c.value;return typeof d==typeof v&&d<v}],"filter-id-<":[Dr,[Lr],(p,[s])=>{let c=p.id(),d=s.value;return typeof c==typeof d&&c<d}],"filter->":[Dr,[hr,Lr],(p,[s,c])=>{let d=p.properties()[s.value],v=c.value;return typeof d==typeof v&&d>v}],"filter-id->":[Dr,[Lr],(p,[s])=>{let c=p.id(),d=s.value;return typeof c==typeof d&&c>d}],"filter-<=":[Dr,[hr,Lr],(p,[s,c])=>{let d=p.properties()[s.value],v=c.value;return typeof d==typeof v&&d<=v}],"filter-id-<=":[Dr,[Lr],(p,[s])=>{let c=p.id(),d=s.value;return typeof c==typeof d&&c<=d}],"filter->=":[Dr,[hr,Lr],(p,[s,c])=>{let d=p.properties()[s.value],v=c.value;return typeof d==typeof v&&d>=v}],"filter-id->=":[Dr,[Lr],(p,[s])=>{let c=p.id(),d=s.value;return typeof c==typeof d&&c>=d}],"filter-has":[Dr,[Lr],(p,[s])=>s.value in p.properties()],"filter-has-id":[Dr,[],p=>p.id()!==null&&p.id()!==void 0],"filter-type-in":[Dr,[rs(hr)],(p,[s])=>s.value.indexOf(p.geometryType())>=0],"filter-id-in":[Dr,[rs(Lr)],(p,[s])=>s.value.indexOf(p.id())>=0],"filter-in-small":[Dr,[hr,rs(Lr)],(p,[s,c])=>c.value.indexOf(p.properties()[s.value])>=0],"filter-in-large":[Dr,[hr,rs(Lr)],(p,[s,c])=>function(d,v,x,S){for(;x<=S;){let T=x+S>>1;if(v[T]===d)return!0;v[T]>d?S=T-1:x=T+1}return!1}(p.properties()[s.value],c.value,0,c.value.length-1)],all:{type:Dr,overloads:[[[Dr,Dr],(p,[s,c])=>s.evaluate(p)&&c.evaluate(p)],[Pp(Dr),(p,s)=>{for(let c of s)if(!c.evaluate(p))return!1;return!0}]]},any:{type:Dr,overloads:[[[Dr,Dr],(p,[s,c])=>s.evaluate(p)||c.evaluate(p)],[Pp(Dr),(p,s)=>{for(let c of s)if(c.evaluate(p))return!0;return!1}]]},"!":[Dr,[Dr],(p,[s])=>!s.evaluate(p)],"is-supported-script":[Dr,[hr],(p,[s])=>{let c=p.globals&&p.globals.isSupportedScript;return!c||c(s.evaluate(p))}],upcase:[hr,[hr],(p,[s])=>s.evaluate(p).toUpperCase()],downcase:[hr,[hr],(p,[s])=>s.evaluate(p).toLowerCase()],concat:[hr,Pp(Lr),(p,s)=>s.map(c=>nn(c.evaluate(p))).join("")],"resolved-locale":[hr,[qf],(p,[s])=>s.evaluate(p).resolvedLocale()]});class Lv{constructor(s,c){this.expression=s,this._warningHistory={},this._evaluator=new q_,this._defaultValue=c?function(d){if(d.type==="color"&&Nv(d.default))return new rn(0,0,0,0);switch(d.type){case"color":return rn.parse(d.default)||null;case"padding":return wo.parse(d.default)||null;case"numberArray":return Ri.parse(d.default)||null;case"colorArray":return So.parse(d.default)||null;case"variableAnchorOffsetCollection":return Jo.parse(d.default)||null;case"projectionDefinition":return Da.parse(d.default)||null;default:return d.default===void 0?null:d.default}}(c):null,this._enumValues=c&&c.type==="enum"?c.values:null}evaluateWithoutErrorHandling(s,c,d,v,x,S){return this._evaluator.globals=s,this._evaluator.feature=c,this._evaluator.featureState=d,this._evaluator.canonical=v,this._evaluator.availableImages=x||null,this._evaluator.formattedSection=S,this.expression.evaluate(this._evaluator)}evaluate(s,c,d,v,x,S){this._evaluator.globals=s,this._evaluator.feature=c||null,this._evaluator.featureState=d||null,this._evaluator.canonical=v,this._evaluator.availableImages=x||null,this._evaluator.formattedSection=S||null;try{let T=this.expression.evaluate(this._evaluator);if(T==null||typeof T=="number"&&T!=T)return this._defaultValue;if(this._enumValues&&!(T in this._enumValues))throw new Xn(`Expected value to be one of ${Object.keys(this._enumValues).map(P=>JSON.stringify(P)).join(", ")}, but found ${JSON.stringify(T)} instead.`);return T}catch(T){return this._warningHistory[T.message]||(this._warningHistory[T.message]=!0,typeof console!="undefined"&&console.warn(T.message)),this._defaultValue}}}function um(p){return Array.isArray(p)&&p.length>0&&typeof p[0]=="string"&&p[0]in Wf}function Rv(p,s){let c=new Qh(Wf,Cv,[],s?function(v){let x={color:yi,string:hr,number:ct,enum:hr,boolean:Dr,formatted:$h,padding:vp,numberArray:vu,colorArray:Gh,projectionDefinition:_i,resolvedImage:yp,variableAnchorOffsetCollection:Li};return v.type==="array"?rs(x[v.value]||Lr,v.length):x[v.type]}(s):void 0),d=c.parse(p,void 0,void 0,void 0,s&&s.type==="string"?{typeAnnotation:"coerce"}:void 0);return d?Ov(new Lv(d,s)):Zf(c.errors)}class Q_{constructor(s,c){this.kind=s,this._styleExpression=c,this.isStateDependent=s!=="constant"&&!sm(c.expression)}evaluateWithoutErrorHandling(s,c,d,v,x,S){return this._styleExpression.evaluateWithoutErrorHandling(s,c,d,v,x,S)}evaluate(s,c,d,v,x,S){return this._styleExpression.evaluate(s,c,d,v,x,S)}}class qv{constructor(s,c,d,v){this.kind=s,this.zoomStops=d,this._styleExpression=c,this.isStateDependent=s!=="camera"&&!sm(c.expression),this.interpolationType=v}evaluateWithoutErrorHandling(s,c,d,v,x,S){return this._styleExpression.evaluateWithoutErrorHandling(s,c,d,v,x,S)}evaluate(s,c,d,v,x,S){return this._styleExpression.evaluate(s,c,d,v,x,S)}interpolationFactor(s,c,d){return this.interpolationType?Ro.interpolationFactor(this.interpolationType,s,c,d):0}}function J_(p,s){let c=Rv(p,s);if(c.result==="error")return c;let d=c.value.expression,v=Av(d);if(!v&&!Yf(s))return Zf([new kr("","data expressions not supported")]);let x=Pv(d,["zoom"]);if(!x&&!jE(s))return Zf([new kr("","zoom expressions not supported")]);let S=pm(d);return S||x?S instanceof kr?Zf([S]):S instanceof Ro&&!Dv(s)?Zf([new kr("","\"interpolate\" expressions cannot be used with this property")]):Ov(S?new qv(v?"camera":"composite",c.value,S.labels,S instanceof Ro?S.interpolation:void 0):new Q_(v?"constant":"source",c.value)):Zf([new kr("","\"zoom\" expression may only be used as input to a top-level \"step\" or \"interpolate\" expression.")])}class cm{constructor(s,c){this._parameters=s,this._specification=c,sn(this,X_(this._parameters,this._specification))}static deserialize(s){return new cm(s._parameters,s._specification)}static serialize(s){return{_parameters:s._parameters,_specification:s._specification}}}function pm(p){let s=null;if(p instanceof $f)s=pm(p.result);else if(p instanceof Ep){for(let c of p.args)if(s=pm(c),s)break}else(p instanceof pc||p instanceof Ro)&&p.input instanceof Ms&&p.input.name==="zoom"&&(s=p);return s instanceof kr||p.eachChild(c=>{let d=pm(c);d instanceof kr?s=d:!s&&d?s=new kr("","\"zoom\" expression may only be used as input to a top-level \"step\" or \"interpolate\" expression."):s&&d&&s!==d&&(s=new kr("","Only one zoom-based \"step\" or \"interpolate\" subexpression may be used in an expression."))}),s}function fm(p){if(p===!0||p===!1)return!0;if(!Array.isArray(p)||p.length===0)return!1;switch(p[0]){case"has":return p.length>=2&&p[1]!=="$id"&&p[1]!=="$type";case"in":return p.length>=3&&(typeof p[1]!="string"||Array.isArray(p[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return p.length!==3||Array.isArray(p[1])||Array.isArray(p[2]);case"any":case"all":for(let s of p.slice(1))if(!fm(s)&&typeof s!="boolean")return!1;return!0;default:return!0}}let eb={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function dm(p){if(p==null)return{filter:()=>!0,needGeometry:!1};fm(p)||(p=jv(p));let s=Rv(p,eb);if(s.result==="error")throw new Error(s.value.map(c=>`${c.key}: ${c.message}`).join(", "));return{filter:(c,d,v)=>s.value.evaluate(c,d,{},v),needGeometry:BE(p)}}function zv(p,s){return p<s?-1:p>s?1:0}function BE(p){if(!Array.isArray(p))return!1;if(p[0]==="within"||p[0]==="distance")return!0;for(let s=1;s<p.length;s++)if(BE(p[s]))return!0;return!1}function jv(p){if(!p)return!0;let s=p[0];return p.length<=1?s!=="any":s==="=="?tb(p[1],p[2],"=="):s==="!="?Fv(tb(p[1],p[2],"==")):s==="<"||s===">"||s==="<="||s===">="?tb(p[1],p[2],s):s==="any"?(c=p.slice(1),["any"].concat(c.map(jv))):s==="all"?["all"].concat(p.slice(1).map(jv)):s==="none"?["all"].concat(p.slice(1).map(jv).map(Fv)):s==="in"?UE(p[1],p.slice(2)):s==="!in"?Fv(UE(p[1],p.slice(2))):s==="has"?VE(p[1]):s!=="!has"||Fv(VE(p[1]));var c}function tb(p,s,c){switch(p){case"$type":return[`filter-type-${c}`,s];case"$id":return[`filter-id-${c}`,s];default:return[`filter-${c}`,p,s]}}function UE(p,s){if(s.length===0)return!1;switch(p){case"$type":return["filter-type-in",["literal",s]];case"$id":return["filter-id-in",["literal",s]];default:return s.length>200&&!s.some(c=>typeof c!=typeof s[0])?["filter-in-large",p,["literal",s.sort(zv)]]:["filter-in-small",p,["literal",s]]}}function VE(p){switch(p){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",p]}}function Fv(p){return["!",p]}function Bv(p){let s=typeof p;if(s==="number"||s==="boolean"||s==="string"||p==null)return JSON.stringify(p);if(Array.isArray(p)){let v="[";for(let x of p)v+=`${Bv(x)},`;return`${v}]`}let c=Object.keys(p).sort(),d="{";for(let v=0;v<c.length;v++)d+=`${JSON.stringify(c[v])}:${Bv(p[c[v]])},`;return`${d}}`}function $E(p){let s="";for(let c of Ie)s+=`/${Bv(p[c])}`;return s}function hm(p){let s=p.value;return s?[new Ke(p.key,s,"constants have been deprecated as of v8")]:[]}function Ci(p){return p instanceof Number||p instanceof String||p instanceof Boolean?p.valueOf():p}function dc(p){if(Array.isArray(p))return p.map(dc);if(p instanceof Object&&!(p instanceof Number||p instanceof String||p instanceof Boolean)){let s={};for(let c in p)s[c]=dc(p[c]);return s}return Ci(p)}function is(p){let s=p.key,c=p.value,d=p.valueSpec||{},v=p.objectElementValidators||{},x=p.style,S=p.styleSpec,T=p.validateSpec,P=[],D=Yr(c);if(D!=="object")return[new Ke(s,c,`object expected, ${D} found`)];for(let L in c){let B=L.split(".")[0],G=Wh(d,B)||d["*"],Z;if(Wh(v,B))Z=v[B];else if(Wh(d,B))Z=T;else if(v["*"])Z=v["*"];else{if(!d["*"]){P.push(new Ke(s,c[L],`unknown property "${L}"`));continue}Z=T}P=P.concat(Z({key:(s&&`${s}.`)+L,value:c[L],valueSpec:G,style:x,styleSpec:S,object:c,objectKey:L,validateSpec:T},c))}for(let L in d)v[L]||d[L].required&&d[L].default===void 0&&c[L]===void 0&&P.push(new Ke(s,c,`missing required property "${L}"`));return P}function rb(p){let s=p.value,c=p.valueSpec,d=p.style,v=p.styleSpec,x=p.key,S=p.arrayElementValidator||p.validateSpec;if(Yr(s)!=="array")return[new Ke(x,s,`array expected, ${Yr(s)} found`)];if(c.length&&s.length!==c.length)return[new Ke(x,s,`array length ${c.length} expected, length ${s.length} found`)];if(c["min-length"]&&s.length<c["min-length"])return[new Ke(x,s,`array length at least ${c["min-length"]} expected, length ${s.length} found`)];let T={type:c.value,values:c.values};v.$version<7&&(T.function=c.function),Yr(c.value)==="object"&&(T=c.value);let P=[];for(let D=0;D<s.length;D++)P=P.concat(S({array:s,arrayIndex:D,value:s[D],valueSpec:T,validateSpec:p.validateSpec,style:d,styleSpec:v,key:`${x}[${D}]`}));return P}function mm(p){let s=p.key,c=p.value,d=p.valueSpec,v=Yr(c);return v==="number"&&c!=c&&(v="NaN"),v!=="number"?[new Ke(s,c,`number expected, ${v} found`)]:"minimum"in d&&c<d.minimum?[new Ke(s,c,`${c} is less than the minimum value ${d.minimum}`)]:"maximum"in d&&c>d.maximum?[new Ke(s,c,`${c} is greater than the maximum value ${d.maximum}`)]:[]}function nb(p){let s=p.valueSpec,c=Ci(p.value.type),d,v,x,S={},T=c!=="categorical"&&p.value.property===void 0,P=!T,D=Yr(p.value.stops)==="array"&&Yr(p.value.stops[0])==="array"&&Yr(p.value.stops[0][0])==="object",L=is({key:p.key,value:p.value,valueSpec:p.styleSpec.function,validateSpec:p.validateSpec,style:p.style,styleSpec:p.styleSpec,objectElementValidators:{stops:function(Z){if(c==="identity")return[new Ke(Z.key,Z.value,"identity function may not have a \"stops\" property")];let K=[],te=Z.value;return K=K.concat(rb({key:Z.key,value:te,valueSpec:Z.valueSpec,validateSpec:Z.validateSpec,style:Z.style,styleSpec:Z.styleSpec,arrayElementValidator:B})),Yr(te)==="array"&&te.length===0&&K.push(new Ke(Z.key,te,"array must have at least one stop")),K},default:function(Z){return Z.validateSpec({key:Z.key,value:Z.value,valueSpec:s,validateSpec:Z.validateSpec,style:Z.style,styleSpec:Z.styleSpec})}}});return c==="identity"&&T&&L.push(new Ke(p.key,p.value,"missing required property \"property\"")),c==="identity"||p.value.stops||L.push(new Ke(p.key,p.value,"missing required property \"stops\"")),c==="exponential"&&p.valueSpec.expression&&!Dv(p.valueSpec)&&L.push(new Ke(p.key,p.value,"exponential functions not supported")),p.styleSpec.$version>=8&&(P&&!Yf(p.valueSpec)?L.push(new Ke(p.key,p.value,"property functions not supported")):T&&!jE(p.valueSpec)&&L.push(new Ke(p.key,p.value,"zoom functions not supported"))),c!=="categorical"&&!D||p.value.property!==void 0||L.push(new Ke(p.key,p.value,"\"property\" property is required")),L;function B(Z){let K=[],te=Z.value,le=Z.key;if(Yr(te)!=="array")return[new Ke(le,te,`array expected, ${Yr(te)} found`)];if(te.length!==2)return[new Ke(le,te,`array length 2 expected, length ${te.length} found`)];if(D){if(Yr(te[0])!=="object")return[new Ke(le,te,`object expected, ${Yr(te[0])} found`)];if(te[0].zoom===void 0)return[new Ke(le,te,"object stop key must have zoom")];if(te[0].value===void 0)return[new Ke(le,te,"object stop key must have value")];if(x&&x>Ci(te[0].zoom))return[new Ke(le,te[0].zoom,"stop zoom values must appear in ascending order")];Ci(te[0].zoom)!==x&&(x=Ci(te[0].zoom),v=void 0,S={}),K=K.concat(is({key:`${le}[0]`,value:te[0],valueSpec:{zoom:{}},validateSpec:Z.validateSpec,style:Z.style,styleSpec:Z.styleSpec,objectElementValidators:{zoom:mm,value:G}}))}else K=K.concat(G({key:`${le}[0]`,value:te[0],validateSpec:Z.validateSpec,style:Z.style,styleSpec:Z.styleSpec},te));return um(dc(te[1]))?K.concat([new Ke(`${le}[1]`,te[1],"expressions are not allowed in function stops.")]):K.concat(Z.validateSpec({key:`${le}[1]`,value:te[1],valueSpec:s,validateSpec:Z.validateSpec,style:Z.style,styleSpec:Z.styleSpec}))}function G(Z,K){let te=Yr(Z.value),le=Ci(Z.value),me=Z.value!==null?Z.value:K;if(d){if(te!==d)return[new Ke(Z.key,me,`${te} stop domain type must match previous stop domain type ${d}`)]}else d=te;if(te!=="number"&&te!=="string"&&te!=="boolean")return[new Ke(Z.key,me,"stop domain value must be a number, string, or boolean")];if(te!=="number"&&c!=="categorical"){let De=`number expected, ${te} found`;return Yf(s)&&c===void 0&&(De+="\nIf you intended to use a categorical function, specify `\"type\": \"categorical\"`."),[new Ke(Z.key,me,De)]}return c!=="categorical"||te!=="number"||isFinite(le)&&Math.floor(le)===le?c!=="categorical"&&te==="number"&&v!==void 0&&le<v?[new Ke(Z.key,me,"stop domain values must appear in ascending order")]:(v=le,c==="categorical"&&le in S?[new Ke(Z.key,me,"stop domain values must be unique")]:(S[le]=!0,[])):[new Ke(Z.key,me,`integer expected, found ${le}`)]}}function Pl(p){let s=(p.expressionContext==="property"?J_:Rv)(dc(p.value),p.valueSpec);if(s.result==="error")return s.value.map(d=>new Ke(`${p.key}${d.key}`,p.value,d.message));let c=s.value.expression||s.value._styleExpression.expression;if(p.expressionContext==="property"&&p.propertyKey==="text-font"&&!c.outputDefined())return[new Ke(p.key,p.value,`Invalid data expression for "${p.propertyKey}". Output values must be contained as literals within the expression.`)];if(p.expressionContext==="property"&&p.propertyType==="layout"&&!sm(c))return[new Ke(p.key,p.value,"\"feature-state\" data expressions are not supported with layout properties.")];if(p.expressionContext==="filter"&&!sm(c))return[new Ke(p.key,p.value,"\"feature-state\" data expressions are not supported with filters.")];if(p.expressionContext&&p.expressionContext.indexOf("cluster")===0){if(!Pv(c,["zoom","feature-state"]))return[new Ke(p.key,p.value,"\"zoom\" and \"feature-state\" expressions are not supported with cluster properties.")];if(p.expressionContext==="cluster-initial"&&!Av(c))return[new Ke(p.key,p.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function ib(p){let s=p.key,c=p.value,d=Yr(c);return d!=="string"?[new Ke(s,c,`color expected, ${d} found`)]:rn.parse(String(c))?[]:[new Ke(s,c,`color expected, "${c}" found`)]}function gm(p){let s=p.key,c=p.value,d=p.valueSpec,v=[];return Array.isArray(d.values)?d.values.indexOf(Ci(c))===-1&&v.push(new Ke(s,c,`expected one of [${d.values.join(", ")}], ${JSON.stringify(c)} found`)):Object.keys(d.values).indexOf(Ci(c))===-1&&v.push(new Ke(s,c,`expected one of [${Object.keys(d.values).join(", ")}], ${JSON.stringify(c)} found`)),v}function ob(p){return fm(dc(p.value))?Pl(sn({},p,{expressionContext:"filter",valueSpec:{value:"boolean"}})):GE(p)}function GE(p){let s=p.value,c=p.key;if(Yr(s)!=="array")return[new Ke(c,s,`array expected, ${Yr(s)} found`)];let d=p.styleSpec,v,x=[];if(s.length<1)return[new Ke(c,s,"filter array must have at least 1 element")];switch(x=x.concat(gm({key:`${c}[0]`,value:s[0],valueSpec:d.filter_operator,style:p.style,styleSpec:p.styleSpec})),Ci(s[0])){case"<":case"<=":case">":case">=":s.length>=2&&Ci(s[1])==="$type"&&x.push(new Ke(c,s,`"$type" cannot be use with operator "${s[0]}"`));case"==":case"!=":s.length!==3&&x.push(new Ke(c,s,`filter array for operator "${s[0]}" must have 3 elements`));case"in":case"!in":s.length>=2&&(v=Yr(s[1]),v!=="string"&&x.push(new Ke(`${c}[1]`,s[1],`string expected, ${v} found`)));for(let S=2;S<s.length;S++)v=Yr(s[S]),Ci(s[1])==="$type"?x=x.concat(gm({key:`${c}[${S}]`,value:s[S],valueSpec:d.geometry_type,style:p.style,styleSpec:p.styleSpec})):v!=="string"&&v!=="number"&&v!=="boolean"&&x.push(new Ke(`${c}[${S}]`,s[S],`string, number, or boolean expected, ${v} found`));break;case"any":case"all":case"none":for(let S=1;S<s.length;S++)x=x.concat(GE({key:`${c}[${S}]`,value:s[S],style:p.style,styleSpec:p.styleSpec}));break;case"has":case"!has":v=Yr(s[1]),s.length!==2?x.push(new Ke(c,s,`filter array for "${s[0]}" operator must have 2 elements`)):v!=="string"&&x.push(new Ke(`${c}[1]`,s[1],`string expected, ${v} found`))}return x}function HE(p,s){let c=p.key,d=p.validateSpec,v=p.style,x=p.styleSpec,S=p.value,T=p.objectKey,P=x[`${s}_${p.layerType}`];if(!P)return[];let D=T.match(/^(.*)-transition$/);if(s==="paint"&&D&&P[D[1]]&&P[D[1]].transition)return d({key:c,value:S,valueSpec:x.transition,style:v,styleSpec:x});let L=p.valueSpec||P[T];if(!L)return[new Ke(c,S,`unknown property "${T}"`)];let B;if(Yr(S)==="string"&&Yf(L)&&!L.tokens&&(B=/^{([^}]+)}$/.exec(S)))return[new Ke(c,S,`"${T}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(B[1])} }\`.`)];let G=[];return p.layerType==="symbol"&&(T==="text-field"&&v&&!v.glyphs&&G.push(new Ke(c,S,"use of \"text-field\" requires a style \"glyphs\" property")),T==="text-font"&&Nv(dc(S))&&Ci(S.type)==="identity"&&G.push(new Ke(c,S,"\"text-font\" does not support identity functions"))),G.concat(d({key:p.key,value:S,valueSpec:L,style:v,styleSpec:x,expressionContext:"property",propertyType:s,propertyKey:T}))}function WE(p){return HE(p,"paint")}function Kf(p){return HE(p,"layout")}function Xf(p){let s=[],c=p.value,d=p.key,v=p.style,x=p.styleSpec;if(Yr(c)!=="object")return[new Ke(d,c,`object expected, ${Yr(c)} found`)];c.type||c.ref||s.push(new Ke(d,c,"either \"type\" or \"ref\" is required"));let S=Ci(c.type),T=Ci(c.ref);if(c.id){let P=Ci(c.id);for(let D=0;D<p.arrayIndex;D++){let L=v.layers[D];Ci(L.id)===P&&s.push(new Ke(d,c.id,`duplicate layer id "${c.id}", previously used at line ${L.id.__line__}`))}}if("ref"in c){let P;["type","source","source-layer","filter","layout"].forEach(D=>{D in c&&s.push(new Ke(d,c[D],`"${D}" is prohibited for ref layers`))}),v.layers.forEach(D=>{Ci(D.id)===T&&(P=D)}),P?P.ref?s.push(new Ke(d,c.ref,"ref cannot reference another ref layer")):S=Ci(P.type):s.push(new Ke(d,c.ref,`ref layer "${T}" not found`))}else if(S!=="background")if(c.source){let P=v.sources&&v.sources[c.source],D=P&&Ci(P.type);P?D==="vector"&&S==="raster"?s.push(new Ke(d,c.source,`layer "${c.id}" requires a raster source`)):D!=="raster-dem"&&S==="hillshade"?s.push(new Ke(d,c.source,`layer "${c.id}" requires a raster-dem source`)):D==="raster"&&S!=="raster"?s.push(new Ke(d,c.source,`layer "${c.id}" requires a vector source`)):D!=="vector"||c["source-layer"]?D==="raster-dem"&&S!=="hillshade"?s.push(new Ke(d,c.source,"raster-dem source can only be used with layer type 'hillshade'.")):S!=="line"||!c.paint||!c.paint["line-gradient"]||D==="geojson"&&P.lineMetrics||s.push(new Ke(d,c,`layer "${c.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):s.push(new Ke(d,c,`layer "${c.id}" must specify a "source-layer"`)):s.push(new Ke(d,c.source,`source "${c.source}" not found`))}else s.push(new Ke(d,c,"missing required property \"source\""));return s=s.concat(is({key:d,value:c,valueSpec:x.layer,style:p.style,styleSpec:p.styleSpec,validateSpec:p.validateSpec,objectElementValidators:{"*":()=>[],type:()=>p.validateSpec({key:`${d}.type`,value:c.type,valueSpec:x.layer.type,style:p.style,styleSpec:p.styleSpec,validateSpec:p.validateSpec,object:c,objectKey:"type"}),filter:ob,layout:P=>is({layer:c,key:P.key,value:P.value,style:P.style,styleSpec:P.styleSpec,validateSpec:P.validateSpec,objectElementValidators:{"*":D=>Kf(sn({layerType:S},D))}}),paint:P=>is({layer:c,key:P.key,value:P.value,style:P.style,styleSpec:P.styleSpec,validateSpec:P.validateSpec,objectElementValidators:{"*":D=>WE(sn({layerType:S},D))}})}})),s}function Ki(p){let s=p.value,c=p.key,d=Yr(s);return d!=="string"?[new Ke(c,s,`string expected, ${d} found`)]:[]}let Qf={promoteId:function({key:p,value:s}){if(Yr(s)==="string")return Ki({key:p,value:s});{let c=[];for(let d in s)c.push(...Ki({key:`${p}.${d}`,value:s[d]}));return c}}};function ab(p){let s=p.value,c=p.key,d=p.styleSpec,v=p.style,x=p.validateSpec;if(!s.type)return[new Ke(c,s,"\"type\" is required")];let S=Ci(s.type),T;switch(S){case"vector":case"raster":return T=is({key:c,value:s,valueSpec:d[`source_${S.replace("-","_")}`],style:p.style,styleSpec:d,objectElementValidators:Qf,validateSpec:x}),T;case"raster-dem":return T=function(P){var D;let L=(D=P.sourceName)!==null&&D!==void 0?D:"",B=P.value,G=P.styleSpec,Z=G.source_raster_dem,K=P.style,te=[],le=Yr(B);if(B===void 0)return te;if(le!=="object")return te.push(new Ke("source_raster_dem",B,`object expected, ${le} found`)),te;let me=Ci(B.encoding)==="custom",De=["redFactor","greenFactor","blueFactor","baseShift"],ye=P.value.encoding?`"${P.value.encoding}"`:"Default";for(let W in B)!me&&De.includes(W)?te.push(new Ke(W,B[W],`In "${L}": "${W}" is only valid when "encoding" is set to "custom". ${ye} encoding found`)):Z[W]?te=te.concat(P.validateSpec({key:W,value:B[W],valueSpec:Z[W],validateSpec:P.validateSpec,style:K,styleSpec:G})):te.push(new Ke(W,B[W],`unknown property "${W}"`));return te}({sourceName:c,value:s,style:p.style,styleSpec:d,validateSpec:x}),T;case"geojson":if(T=is({key:c,value:s,valueSpec:d.source_geojson,style:v,styleSpec:d,validateSpec:x,objectElementValidators:Qf}),s.cluster)for(let P in s.clusterProperties){let[D,L]=s.clusterProperties[P],B=typeof D=="string"?[D,["accumulated"],["get",P]]:D;T.push(...Pl({key:`${c}.${P}.map`,value:L,expressionContext:"cluster-map"})),T.push(...Pl({key:`${c}.${P}.reduce`,value:B,expressionContext:"cluster-reduce"}))}return T;case"video":return is({key:c,value:s,valueSpec:d.source_video,style:v,validateSpec:x,styleSpec:d});case"image":return is({key:c,value:s,valueSpec:d.source_image,style:v,validateSpec:x,styleSpec:d});case"canvas":return[new Ke(c,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return gm({key:`${c}.type`,value:s.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]}})}}function ZE(p){let s=p.value,c=p.styleSpec,d=c.light,v=p.style,x=[],S=Yr(s);if(s===void 0)return x;if(S!=="object")return x=x.concat([new Ke("light",s,`object expected, ${S} found`)]),x;for(let T in s){let P=T.match(/^(.*)-transition$/);x=x.concat(P&&d[P[1]]&&d[P[1]].transition?p.validateSpec({key:T,value:s[T],valueSpec:c.transition,validateSpec:p.validateSpec,style:v,styleSpec:c}):d[T]?p.validateSpec({key:T,value:s[T],valueSpec:d[T],validateSpec:p.validateSpec,style:v,styleSpec:c}):[new Ke(T,s[T],`unknown property "${T}"`)])}return x}function YE(p){let s=p.value,c=p.styleSpec,d=c.sky,v=p.style,x=Yr(s);if(s===void 0)return[];if(x!=="object")return[new Ke("sky",s,`object expected, ${x} found`)];let S=[];for(let T in s)S=S.concat(d[T]?p.validateSpec({key:T,value:s[T],valueSpec:d[T],style:v,styleSpec:c}):[new Ke(T,s[T],`unknown property "${T}"`)]);return S}function Jf(p){let s=p.value,c=p.styleSpec,d=c.terrain,v=p.style,x=[],S=Yr(s);if(s===void 0)return x;if(S!=="object")return x=x.concat([new Ke("terrain",s,`object expected, ${S} found`)]),x;for(let T in s)x=x.concat(d[T]?p.validateSpec({key:T,value:s[T],valueSpec:d[T],validateSpec:p.validateSpec,style:v,styleSpec:c}):[new Ke(T,s[T],`unknown property "${T}"`)]);return x}function sb(p){let s=[],c=p.value,d=p.key;if(Array.isArray(c)){let v=[],x=[];for(let S in c)c[S].id&&v.includes(c[S].id)&&s.push(new Ke(d,c,`all the sprites' ids must be unique, but ${c[S].id} is duplicated`)),v.push(c[S].id),c[S].url&&x.includes(c[S].url)&&s.push(new Ke(d,c,`all the sprites' URLs must be unique, but ${c[S].url} is duplicated`)),x.push(c[S].url),s=s.concat(is({key:`${d}[${S}]`,value:c[S],valueSpec:{id:{type:"string",required:!0},url:{type:"string",required:!0}},validateSpec:p.validateSpec}));return s}return Ki({key:d,value:c})}function Uv(p){return s=p.value,s&&s.constructor===Object?[]:[new Ke(p.key,p.value,`object expected, ${Yr(p.value)} found`)];var s}let KE={"*":()=>[],array:rb,boolean:function(p){let s=p.value,c=p.key,d=Yr(s);return d!=="boolean"?[new Ke(c,s,`boolean expected, ${d} found`)]:[]},number:mm,color:ib,constants:hm,enum:gm,filter:ob,function:nb,layer:Xf,object:is,source:ab,light:ZE,sky:YE,terrain:Jf,projection:function(p){let s=p.value,c=p.styleSpec,d=c.projection,v=p.style,x=Yr(s);if(s===void 0)return[];if(x!=="object")return[new Ke("projection",s,`object expected, ${x} found`)];let S=[];for(let T in s)S=S.concat(d[T]?p.validateSpec({key:T,value:s[T],valueSpec:d[T],style:v,styleSpec:c}):[new Ke(T,s[T],`unknown property "${T}"`)]);return S},projectionDefinition:function(p){let s=p.key,c=p.value;c=c instanceof String?c.valueOf():c;let d=Yr(c);return d!=="array"||function(v){return Array.isArray(v)&&v.length===3&&typeof v[0]=="string"&&typeof v[1]=="string"&&typeof v[2]=="number"}(c)||function(v){return!!["interpolate","step","literal"].includes(v[0])}(c)?["array","string"].includes(d)?[]:[new Ke(s,c,`projection expected, invalid type "${d}" found`)]:[new Ke(s,c,`projection expected, invalid array ${JSON.stringify(c)} found`)]},string:Ki,formatted:function(p){return Ki(p).length===0?[]:Pl(p)},resolvedImage:function(p){return Ki(p).length===0?[]:Pl(p)},padding:function(p){let s=p.key,c=p.value;if(Yr(c)==="array"){if(c.length<1||c.length>4)return[new Ke(s,c,`padding requires 1 to 4 values; ${c.length} values found`)];let d={type:"number"},v=[];for(let x=0;x<c.length;x++)v=v.concat(p.validateSpec({key:`${s}[${x}]`,value:c[x],validateSpec:p.validateSpec,valueSpec:d}));return v}return mm({key:s,value:c,valueSpec:{}})},numberArray:function(p){let s=p.key,c=p.value;if(Yr(c)==="array"){let d={type:"number"};if(c.length<1)return[new Ke(s,c,"array length at least 1 expected, length 0 found")];let v=[];for(let x=0;x<c.length;x++)v=v.concat(p.validateSpec({key:`${s}[${x}]`,value:c[x],validateSpec:p.validateSpec,valueSpec:d}));return v}return mm({key:s,value:c,valueSpec:{}})},colorArray:function(p){let s=p.key,c=p.value;if(Yr(c)==="array"){if(c.length<1)return[new Ke(s,c,"array length at least 1 expected, length 0 found")];let d=[];for(let v=0;v<c.length;v++)d=d.concat(ib({key:`${s}[${v}]`,value:c[v]}));return d}return ib({key:s,value:c})},variableAnchorOffsetCollection:function(p){let s=p.key,c=p.value,d=Yr(c),v=p.styleSpec;if(d!=="array"||c.length<1||c.length%2!=0)return[new Ke(s,c,"variableAnchorOffsetCollection requires a non-empty array of even length")];let x=[];for(let S=0;S<c.length;S+=2)x=x.concat(gm({key:`${s}[${S}]`,value:c[S],valueSpec:v.layout_symbol["text-anchor"]})),x=x.concat(rb({key:`${s}[${S+1}]`,value:c[S+1],valueSpec:{length:2,value:"number"},validateSpec:p.validateSpec,style:p.style,styleSpec:v}));return x},sprite:sb,state:Uv};function ed(p){let s=p.value,c=p.valueSpec,d=p.styleSpec;return p.validateSpec=ed,c.expression&&Nv(Ci(s))?nb(p):c.expression&&um(dc(s))?Pl(p):c.type&&KE[c.type]?KE[c.type](p):is(sn({},p,{valueSpec:c.type?d[c.type]:c}))}function XE(p){let s=p.value,c=p.key,d=Ki(p);return d.length||(s.indexOf("{fontstack}")===-1&&d.push(new Ke(c,s,"\"glyphs\" url must include a \"{fontstack}\" token")),s.indexOf("{range}")===-1&&d.push(new Ke(c,s,"\"glyphs\" url must include a \"{range}\" token"))),d}function qo(p,s=J){let c=[];return c=c.concat(ed({key:"",value:p,valueSpec:s.$root,styleSpec:s,style:p,validateSpec:ed,objectElementValidators:{glyphs:XE,"*":()=>[]}})),p.constants&&(c=c.concat(hm({key:"constants",value:p.constants}))),td(c)}function il(p){return function(s){return p(gr(nt({},s),{validateSpec:ed}))}}function td(p){return[].concat(p).sort((s,c)=>s.line-c.line)}function ol(p){return function(...s){return td(p.apply(this,s))}}qo.source=ol(il(ab)),qo.sprite=ol(il(sb)),qo.glyphs=ol(il(XE)),qo.light=ol(il(ZE)),qo.sky=ol(il(YE)),qo.terrain=ol(il(Jf)),qo.state=ol(il(Uv)),qo.layer=ol(il(Xf)),qo.filter=ol(il(ob)),qo.paintProperty=ol(il(WE)),qo.layoutProperty=ol(il(Kf));let rd=qo,Vv=rd.light,o6=rd.sky,lb=rd.paintProperty,$v=rd.layoutProperty;function ub(p,s){let c=!1;if(s&&s.length)for(let d of s)p.fire(new X(new Error(d.message))),c=!0;return c}class nd{constructor(s,c,d){let v=this.cells=[];if(s instanceof ArrayBuffer){this.arrayBuffer=s;let S=new Int32Array(this.arrayBuffer);s=S[0],this.d=(c=S[1])+2*(d=S[2]);for(let P=0;P<this.d*this.d;P++){let D=S[3+P],L=S[3+P+1];v.push(D===L?null:S.subarray(D,L))}let T=S[3+v.length+1];this.keys=S.subarray(S[3+v.length],T),this.bboxes=S.subarray(T),this.insert=this._insertReadonly}else{this.d=c+2*d;for(let S=0;S<this.d*this.d;S++)v.push([]);this.keys=[],this.bboxes=[]}this.n=c,this.extent=s,this.padding=d,this.scale=c/s,this.uid=0;let x=d/c*s;this.min=-x,this.max=s+x}insert(s,c,d,v,x){this._forEachCell(c,d,v,x,this._insertCell,this.uid++,void 0,void 0),this.keys.push(s),this.bboxes.push(c),this.bboxes.push(d),this.bboxes.push(v),this.bboxes.push(x)}_insertReadonly(){throw new Error("Cannot insert into a GridIndex created from an ArrayBuffer.")}_insertCell(s,c,d,v,x,S){this.cells[x].push(S)}query(s,c,d,v,x){let S=this.min,T=this.max;if(s<=S&&c<=S&&T<=d&&T<=v&&!x)return Array.prototype.slice.call(this.keys);{let P=[];return this._forEachCell(s,c,d,v,this._queryCell,P,{},x),P}}_queryCell(s,c,d,v,x,S,T,P){let D=this.cells[x];if(D!==null){let L=this.keys,B=this.bboxes;for(let G=0;G<D.length;G++){let Z=D[G];if(T[Z]===void 0){let K=4*Z;(P?P(B[K+0],B[K+1],B[K+2],B[K+3]):s<=B[K+2]&&c<=B[K+3]&&d>=B[K+0]&&v>=B[K+1])?(T[Z]=!0,S.push(L[Z])):T[Z]=!1}}}}_forEachCell(s,c,d,v,x,S,T,P){let D=this._convertToCellCoord(s),L=this._convertToCellCoord(c),B=this._convertToCellCoord(d),G=this._convertToCellCoord(v);for(let Z=D;Z<=B;Z++)for(let K=L;K<=G;K++){let te=this.d*K+Z;if((!P||P(this._convertFromCellCoord(Z),this._convertFromCellCoord(K),this._convertFromCellCoord(Z+1),this._convertFromCellCoord(K+1)))&&x.call(this,s,c,d,v,te,S,T,P))return}}_convertFromCellCoord(s){return(s-this.padding)/this.scale}_convertToCellCoord(s){return Math.max(0,Math.min(this.d-1,Math.floor(s*this.scale)+this.padding))}toArrayBuffer(){if(this.arrayBuffer)return this.arrayBuffer;let s=this.cells,c=3+this.cells.length+1+1,d=0;for(let S=0;S<this.cells.length;S++)d+=this.cells[S].length;let v=new Int32Array(c+d+this.keys.length+this.bboxes.length);v[0]=this.extent,v[1]=this.n,v[2]=this.padding;let x=c;for(let S=0;S<s.length;S++){let T=s[S];v[3+S]=x,v.set(T,x),x+=T.length}return v[3+s.length]=x,v.set(this.keys,x),x+=this.keys.length,v[3+s.length+1]=x,v.set(this.bboxes,x),x+=this.bboxes.length,v.buffer}static serialize(s,c){let d=s.toArrayBuffer();return c&&c.push(d),{buffer:d}}static deserialize(s){return new nd(s.buffer)}}let Ol={};function $t(p,s,c={}){if(Ol[p])throw new Error(`${p} is already registered.`);Object.defineProperty(s,"_classRegistryKey",{value:p,writeable:!1}),Ol[p]={klass:s,omit:c.omit||[],shallow:c.shallow||[]}}$t("Object",Object),$t("TransferableGridIndex",nd),$t("Color",rn),$t("Error",Error),$t("AJAXError",Aa),$t("ResolvedImage",ns),$t("StylePropertyFunction",cm),$t("StyleExpression",Lv,{omit:["_evaluator"]}),$t("ZoomDependentExpression",qv),$t("ZoomConstantExpression",Q_),$t("CompoundExpression",Ms,{omit:["_evaluate"]});for(let p in Wf)Wf[p]._classRegistryKey||$t(`Expression_${p}`,Wf[p]);function Gv(p){return p&&typeof ArrayBuffer!="undefined"&&(p instanceof ArrayBuffer||p.constructor&&p.constructor.name==="ArrayBuffer")}function Hv(p){return p.$name||p.constructor._classRegistryKey}function QE(p){return!function(s){if(s===null||typeof s!="object")return!1;let c=Hv(s);return!(!c||c==="Object")}(p)&&(p==null||typeof p=="boolean"||typeof p=="number"||typeof p=="string"||p instanceof Boolean||p instanceof Number||p instanceof String||p instanceof Date||p instanceof RegExp||p instanceof Blob||p instanceof Error||Gv(p)||It(p)||ArrayBuffer.isView(p)||p instanceof ImageData)}function id(p,s){if(QE(p))return(Gv(p)||It(p))&&s&&s.push(p),ArrayBuffer.isView(p)&&s&&s.push(p.buffer),p instanceof ImageData&&s&&s.push(p.data.buffer),p;if(Array.isArray(p)){let x=[];for(let S of p)x.push(id(S,s));return x}if(typeof p!="object")throw new Error("can't serialize object of type "+typeof p);let c=Hv(p);if(!c)throw new Error(`can't serialize object of unregistered class ${p.constructor.name}`);if(!Ol[c])throw new Error(`${c} is not registered.`);let{klass:d}=Ol[c],v=d.serialize?d.serialize(p,s):{};if(d.serialize){if(s&&v===s[s.length-1])throw new Error("statically serialized object won't survive transfer of $name property")}else{for(let x in p){if(!p.hasOwnProperty(x)||Ol[c].omit.indexOf(x)>=0)continue;let S=p[x];v[x]=Ol[c].shallow.indexOf(x)>=0?S:id(S,s)}p instanceof Error&&(v.message=p.message)}if(v.$name)throw new Error("$name property is reserved for worker serialization logic.");return c!=="Object"&&(v.$name=c),v}function vm(p){if(QE(p))return p;if(Array.isArray(p))return p.map(vm);if(typeof p!="object")throw new Error("can't deserialize object of type "+typeof p);let s=Hv(p)||"Object";if(!Ol[s])throw new Error(`can't deserialize unregistered class ${s}`);let{klass:c}=Ol[s];if(!c)throw new Error(`can't deserialize unregistered class ${s}`);if(c.deserialize)return c.deserialize(p);let d=Object.create(c.prototype);for(let v of Object.keys(p)){if(v==="$name")continue;let x=p[v];d[v]=Ol[s].shallow.indexOf(v)>=0?x:vm(x)}return d}class cb{constructor(){this.first=!0}update(s,c){let d=Math.floor(s);return this.first?(this.first=!1,this.lastIntegerZoom=d,this.lastIntegerZoomTime=0,this.lastZoom=s,this.lastFloorZoom=d,!0):(this.lastFloorZoom>d?(this.lastIntegerZoom=d+1,this.lastIntegerZoomTime=c):this.lastFloorZoom<d&&(this.lastIntegerZoom=d,this.lastIntegerZoomTime=c),s!==this.lastZoom&&(this.lastZoom=s,this.lastFloorZoom=d,!0))}}let Kr={"Latin-1 Supplement":p=>p>=128&&p<=255,"Hangul Jamo":p=>p>=4352&&p<=4607,Khmer:p=>p>=6016&&p<=6143,"General Punctuation":p=>p>=8192&&p<=8303,"Letterlike Symbols":p=>p>=8448&&p<=8527,"Number Forms":p=>p>=8528&&p<=8591,"Miscellaneous Technical":p=>p>=8960&&p<=9215,"Control Pictures":p=>p>=9216&&p<=9279,"Optical Character Recognition":p=>p>=9280&&p<=9311,"Enclosed Alphanumerics":p=>p>=9312&&p<=9471,"Geometric Shapes":p=>p>=9632&&p<=9727,"Miscellaneous Symbols":p=>p>=9728&&p<=9983,"Miscellaneous Symbols and Arrows":p=>p>=11008&&p<=11263,"Ideographic Description Characters":p=>p>=12272&&p<=12287,"CJK Symbols and Punctuation":p=>p>=12288&&p<=12351,Hiragana:p=>p>=12352&&p<=12447,Katakana:p=>p>=12448&&p<=12543,Kanbun:p=>p>=12688&&p<=12703,"CJK Strokes":p=>p>=12736&&p<=12783,"Enclosed CJK Letters and Months":p=>p>=12800&&p<=13055,"CJK Compatibility":p=>p>=13056&&p<=13311,"Yijing Hexagram Symbols":p=>p>=19904&&p<=19967,"CJK Unified Ideographs":p=>p>=19968&&p<=40959,"Hangul Syllables":p=>p>=44032&&p<=55215,"Private Use Area":p=>p>=57344&&p<=63743,"Vertical Forms":p=>p>=65040&&p<=65055,"CJK Compatibility Forms":p=>p>=65072&&p<=65103,"Small Form Variants":p=>p>=65104&&p<=65135,"Halfwidth and Fullwidth Forms":p=>p>=65280&&p<=65519};function Wv(p){for(let s of p)if(Zv(s.charCodeAt(0)))return!0;return!1}function a6(p){for(let s of p)if(!eT(s.charCodeAt(0)))return!1;return!0}function pb(p){let s=p.map(c=>{try{return new RegExp(`\\p{sc=${c}}`,"u").source}catch(d){return null}}).filter(c=>c);return new RegExp(s.join("|"),"u")}let JE=pb(["Arab","Dupl","Mong","Ougr","Syrc"]);function eT(p){return!JE.test(String.fromCodePoint(p))}let fb=pb(["Bopo","Hani","Hira","Kana","Kits","Nshu","Tang","Yiii"]);function Zv(p){return!(p!==746&&p!==747&&(p<4352||!(Kr["CJK Compatibility Forms"](p)&&!(p>=65097&&p<=65103)||Kr["CJK Compatibility"](p)||Kr["CJK Strokes"](p)||!(!Kr["CJK Symbols and Punctuation"](p)||p>=12296&&p<=12305||p>=12308&&p<=12319||p===12336)||Kr["Enclosed CJK Letters and Months"](p)||Kr["Ideographic Description Characters"](p)||Kr.Kanbun(p)||Kr.Katakana(p)&&p!==12540||!(!Kr["Halfwidth and Fullwidth Forms"](p)||p===65288||p===65289||p===65293||p>=65306&&p<=65310||p===65339||p===65341||p===65343||p>=65371&&p<=65503||p===65507||p>=65512&&p<=65519)||!(!Kr["Small Form Variants"](p)||p>=65112&&p<=65118||p>=65123&&p<=65126)||Kr["Vertical Forms"](p)||Kr["Yijing Hexagram Symbols"](p)||new RegExp("\\p{sc=Cans}","u").test(String.fromCodePoint(p))||new RegExp("\\p{sc=Hang}","u").test(String.fromCodePoint(p))||fb.test(String.fromCodePoint(p)))))}function ym(p){return!(Zv(p)||function(s){return!!(Kr["Latin-1 Supplement"](s)&&(s===167||s===169||s===174||s===177||s===188||s===189||s===190||s===215||s===247)||Kr["General Punctuation"](s)&&(s===8214||s===8224||s===8225||s===8240||s===8241||s===8251||s===8252||s===8258||s===8263||s===8264||s===8265||s===8273)||Kr["Letterlike Symbols"](s)||Kr["Number Forms"](s)||Kr["Miscellaneous Technical"](s)&&(s>=8960&&s<=8967||s>=8972&&s<=8991||s>=8996&&s<=9e3||s===9003||s>=9085&&s<=9114||s>=9150&&s<=9165||s===9167||s>=9169&&s<=9179||s>=9186&&s<=9215)||Kr["Control Pictures"](s)&&s!==9251||Kr["Optical Character Recognition"](s)||Kr["Enclosed Alphanumerics"](s)||Kr["Geometric Shapes"](s)||Kr["Miscellaneous Symbols"](s)&&!(s>=9754&&s<=9759)||Kr["Miscellaneous Symbols and Arrows"](s)&&(s>=11026&&s<=11055||s>=11088&&s<=11097||s>=11192&&s<=11243)||Kr["CJK Symbols and Punctuation"](s)||Kr.Katakana(s)||Kr["Private Use Area"](s)||Kr["CJK Compatibility Forms"](s)||Kr["Small Form Variants"](s)||Kr["Halfwidth and Fullwidth Forms"](s)||s===8734||s===8756||s===8757||s>=9984&&s<=10087||s>=10102&&s<=10131||s===65532||s===65533)}(p))}let s6=pb(["Adlm","Arab","Armi","Avst","Chrs","Cprt","Egyp","Elym","Gara","Hatr","Hebr","Hung","Khar","Lydi","Mand","Mani","Mend","Merc","Mero","Narb","Nbat","Nkoo","Orkh","Palm","Phli","Phlp","Phnx","Prti","Rohg","Samr","Sarb","Sogo","Syrc","Thaa","Todr","Yezi"]);function Yv(p){return s6.test(String.fromCodePoint(p))}function l6(p,s){return!(!s&&Yv(p)||p>=2304&&p<=3583||p>=3840&&p<=4255||Kr.Khmer(p))}function u6(p){for(let s of p)if(Yv(s.charCodeAt(0)))return!0;return!1}let bu=new class{constructor(){this.TIMEOUT=5e3,this.applyArabicShaping=null,this.processBidirectionalText=null,this.processStyledBidirectionalText=null,this.pluginStatus="unavailable",this.pluginURL=null,this.loadScriptResolve=()=>{}}setState(p){this.pluginStatus=p.pluginStatus,this.pluginURL=p.pluginURL}getState(){return{pluginStatus:this.pluginStatus,pluginURL:this.pluginURL}}setMethods(p){if(bu.isParsed())throw new Error("RTL text plugin already registered.");this.applyArabicShaping=p.applyArabicShaping,this.processBidirectionalText=p.processBidirectionalText,this.processStyledBidirectionalText=p.processStyledBidirectionalText,this.loadScriptResolve()}isParsed(){return this.applyArabicShaping!=null&&this.processBidirectionalText!=null&&this.processStyledBidirectionalText!=null}getRTLTextPluginStatus(){return this.pluginStatus}syncState(p,s){return o(this,void 0,void 0,function*(){if(this.isParsed())return this.getState();if(p.pluginStatus!=="loading")return this.setState(p),p;let c=p.pluginURL,d=new Promise(x=>{this.loadScriptResolve=x});s(c);let v=new Promise(x=>setTimeout(()=>x(),this.TIMEOUT));if(yield Promise.race([d,v]),this.isParsed()){let x={pluginStatus:"loaded",pluginURL:c};return this.setState(x),x}throw this.setState({pluginStatus:"error",pluginURL:""}),new Error(`RTL Text Plugin failed to import scripts from ${c}`)})}};class Qn{constructor(s,c){this.zoom=s,c?(this.now=c.now,this.fadeDuration=c.fadeDuration,this.zoomHistory=c.zoomHistory,this.transition=c.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new cb,this.transition={})}isSupportedScript(s){return function(c,d){for(let v of c)if(!l6(v.charCodeAt(0),d))return!1;return!0}(s,bu.getRTLTextPluginStatus()==="loaded")}crossFadingFactor(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){let s=this.zoom,c=s-Math.floor(s),d=this.crossFadingFactor();return s>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:c+(1-c)*d}:{fromScale:.5,toScale:1,t:1-(1-d)*c}}}class _m{constructor(s,c){this.property=s,this.value=c,this.expression=function(d,v){if(Nv(d))return new cm(d,v);if(um(d)){let x=J_(d,v);if(x.result==="error")throw new Error(x.value.map(S=>`${S.key}: ${S.message}`).join(", "));return x.value}{let x=d;return v.type==="color"&&typeof d=="string"?x=rn.parse(d):v.type!=="padding"||typeof d!="number"&&!Array.isArray(d)?v.type!=="numberArray"||typeof d!="number"&&!Array.isArray(d)?v.type!=="colorArray"||typeof d!="string"&&!Array.isArray(d)?v.type==="variableAnchorOffsetCollection"&&Array.isArray(d)?x=Jo.parse(d):v.type==="projectionDefinition"&&typeof d=="string"&&(x=Da.parse(d)):x=So.parse(d):x=Ri.parse(d):x=wo.parse(d),{kind:"constant",evaluate:()=>x}}}(c===void 0?s.specification.default:c,s.specification)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}possiblyEvaluate(s,c,d){return this.property.possiblyEvaluate(this,s,c,d)}}class db{constructor(s){this.property=s,this.value=new _m(s,void 0)}transitioned(s,c){return new rT(this.property,this.value,c,Fe({},s.transition,this.transition),s.now)}untransitioned(){return new rT(this.property,this.value,null,{},0)}}class tT{constructor(s){this._properties=s,this._values=Object.create(s.defaultTransitionablePropertyValues)}getValue(s){return tt(this._values[s].value.value)}setValue(s,c){Object.prototype.hasOwnProperty.call(this._values,s)||(this._values[s]=new db(this._values[s].property)),this._values[s].value=new _m(this._values[s].property,c===null?void 0:tt(c))}getTransition(s){return tt(this._values[s].transition)}setTransition(s,c){Object.prototype.hasOwnProperty.call(this._values,s)||(this._values[s]=new db(this._values[s].property)),this._values[s].transition=tt(c)||void 0}serialize(){let s={};for(let c of Object.keys(this._values)){let d=this.getValue(c);d!==void 0&&(s[c]=d);let v=this.getTransition(c);v!==void 0&&(s[`${c}-transition`]=v)}return s}transitioned(s,c){let d=new nT(this._properties);for(let v of Object.keys(this._values))d._values[v]=this._values[v].transitioned(s,c._values[v]);return d}untransitioned(){let s=new nT(this._properties);for(let c of Object.keys(this._values))s._values[c]=this._values[c].untransitioned();return s}}class rT{constructor(s,c,d,v,x){this.property=s,this.value=c,this.begin=x+v.delay||0,this.end=this.begin+v.duration||0,s.specification.transition&&(v.delay||v.duration)&&(this.prior=d)}possiblyEvaluate(s,c,d){let v=s.now||0,x=this.value.possiblyEvaluate(s,c,d),S=this.prior;if(S){if(v>this.end)return this.prior=null,x;if(this.value.isDataDriven())return this.prior=null,x;if(v<this.begin)return S.possiblyEvaluate(s,c,d);{let T=(v-this.begin)/(this.end-this.begin);return this.property.interpolate(S.possiblyEvaluate(s,c,d),x,Ut(T))}}return x}}class nT{constructor(s){this._properties=s,this._values=Object.create(s.defaultTransitioningPropertyValues)}possiblyEvaluate(s,c,d){let v=new Kv(this._properties);for(let x of Object.keys(this._values))v._values[x]=this._values[x].possiblyEvaluate(s,c,d);return v}hasTransition(){for(let s of Object.keys(this._values))if(this._values[s].prior)return!0;return!1}}class c6{constructor(s){this._properties=s,this._values=Object.create(s.defaultPropertyValues)}hasValue(s){return this._values[s].value!==void 0}getValue(s){return tt(this._values[s].value)}setValue(s,c){this._values[s]=new _m(this._values[s].property,c===null?void 0:tt(c))}serialize(){let s={};for(let c of Object.keys(this._values)){let d=this.getValue(c);d!==void 0&&(s[c]=d)}return s}possiblyEvaluate(s,c,d){let v=new Kv(this._properties);for(let x of Object.keys(this._values))v._values[x]=this._values[x].possiblyEvaluate(s,c,d);return v}}class ea{constructor(s,c,d){this.property=s,this.value=c,this.parameters=d}isConstant(){return this.value.kind==="constant"}constantOr(s){return this.value.kind==="constant"?this.value.value:s}evaluate(s,c,d,v){return this.property.evaluate(this.value,this.parameters,s,c,d,v)}}class Kv{constructor(s){this._properties=s,this._values=Object.create(s.defaultPossiblyEvaluatedValues)}get(s){return this._values[s]}}class Qt{constructor(s){this.specification=s}possiblyEvaluate(s,c){if(s.isDataDriven())throw new Error("Value should not be data driven");return s.expression.evaluate(c)}interpolate(s,c,d){let v=Cl[this.specification.type];return v?v(s,c,d):s}}class mr{constructor(s,c){this.specification=s,this.overrides=c}possiblyEvaluate(s,c,d,v){return new ea(this,s.expression.kind==="constant"||s.expression.kind==="camera"?{kind:"constant",value:s.expression.evaluate(c,null,{},d,v)}:s.expression,c)}interpolate(s,c,d){if(s.value.kind!=="constant"||c.value.kind!=="constant")return s;if(s.value.value===void 0||c.value.value===void 0)return new ea(this,{kind:"constant",value:void 0},s.parameters);let v=Cl[this.specification.type];if(v){let x=v(s.value.value,c.value.value,d);return new ea(this,{kind:"constant",value:x},s.parameters)}return s}evaluate(s,c,d,v,x,S){return s.kind==="constant"?s.value:s.evaluate(c,d,v,x,S)}}class bm extends mr{possiblyEvaluate(s,c,d,v){if(s.value===void 0)return new ea(this,{kind:"constant",value:void 0},c);if(s.expression.kind==="constant"){let x=s.expression.evaluate(c,null,{},d,v),S=s.property.specification.type==="resolvedImage"&&typeof x!="string"?x.name:x,T=this._calculate(S,S,S,c);return new ea(this,{kind:"constant",value:T},c)}if(s.expression.kind==="camera"){let x=this._calculate(s.expression.evaluate({zoom:c.zoom-1}),s.expression.evaluate({zoom:c.zoom}),s.expression.evaluate({zoom:c.zoom+1}),c);return new ea(this,{kind:"constant",value:x},c)}return new ea(this,s.expression,c)}evaluate(s,c,d,v,x,S){if(s.kind==="source"){let T=s.evaluate(c,d,v,x,S);return this._calculate(T,T,T,c)}return s.kind==="composite"?this._calculate(s.evaluate({zoom:Math.floor(c.zoom)-1},d,v),s.evaluate({zoom:Math.floor(c.zoom)},d,v),s.evaluate({zoom:Math.floor(c.zoom)+1},d,v),c):s.value}_calculate(s,c,d,v){return v.zoom>v.zoomHistory.lastIntegerZoom?{from:s,to:c}:{from:d,to:c}}interpolate(s){return s}}class hb{constructor(s){this.specification=s}possiblyEvaluate(s,c,d,v){if(s.value!==void 0){if(s.expression.kind==="constant"){let x=s.expression.evaluate(c,null,{},d,v);return this._calculate(x,x,x,c)}return this._calculate(s.expression.evaluate(new Qn(Math.floor(c.zoom-1),c)),s.expression.evaluate(new Qn(Math.floor(c.zoom),c)),s.expression.evaluate(new Qn(Math.floor(c.zoom+1),c)),c)}}_calculate(s,c,d,v){return v.zoom>v.zoomHistory.lastIntegerZoom?{from:s,to:c}:{from:d,to:c}}interpolate(s){return s}}class mb{constructor(s){this.specification=s}possiblyEvaluate(s,c,d,v){return!!s.expression.evaluate(c,null,{},d,v)}interpolate(){return!1}}class ji{constructor(s){this.properties=s,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(let c in s){let d=s[c];d.specification.overridable&&this.overridableProperties.push(c);let v=this.defaultPropertyValues[c]=new _m(d,void 0),x=this.defaultTransitionablePropertyValues[c]=new db(d);this.defaultTransitioningPropertyValues[c]=x.untransitioned(),this.defaultPossiblyEvaluatedValues[c]=v.possiblyEvaluate({})}}}$t("DataDrivenProperty",mr),$t("DataConstantProperty",Qt),$t("CrossFadedDataDrivenProperty",bm),$t("CrossFadedProperty",hb),$t("ColorRampProperty",mb);let gb="-transition";class Cs extends ue{constructor(s,c){if(super(),this.id=s.id,this.type=s.type,this._featureFilter={filter:()=>!0,needGeometry:!1},s.type!=="custom"&&(this.metadata=s.metadata,this.minzoom=s.minzoom,this.maxzoom=s.maxzoom,s.type!=="background"&&(this.source=s.source,this.sourceLayer=s["source-layer"],this.filter=s.filter),c.layout&&(this._unevaluatedLayout=new c6(c.layout)),c.paint)){this._transitionablePaint=new tT(c.paint);for(let d in s.paint)this.setPaintProperty(d,s.paint[d],{validate:!1});for(let d in s.layout)this.setLayoutProperty(d,s.layout[d],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Kv(c.paint)}}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(s){return s==="visibility"?this.visibility:this._unevaluatedLayout.getValue(s)}setLayoutProperty(s,c,d={}){c!=null&&this._validate($v,`layers.${this.id}.layout.${s}`,s,c,d)||(s!=="visibility"?this._unevaluatedLayout.setValue(s,c):this.visibility=c)}getPaintProperty(s){return s.endsWith(gb)?this._transitionablePaint.getTransition(s.slice(0,-11)):this._transitionablePaint.getValue(s)}setPaintProperty(s,c,d={}){if(c!=null&&this._validate(lb,`layers.${this.id}.paint.${s}`,s,c,d))return!1;if(s.endsWith(gb))return this._transitionablePaint.setTransition(s.slice(0,-11),c||void 0),!1;{let v=this._transitionablePaint._values[s],x=v.property.specification["property-type"]==="cross-faded-data-driven",S=v.value.isDataDriven(),T=v.value;this._transitionablePaint.setValue(s,c),this._handleSpecialPaintPropertyUpdate(s);let P=this._transitionablePaint._values[s].value;return P.isDataDriven()||S||x||this._handleOverridablePaintPropertyUpdate(s,T,P)}}_handleSpecialPaintPropertyUpdate(s){}_handleOverridablePaintPropertyUpdate(s,c,d){return!1}isHidden(s){return!!(this.minzoom&&s<this.minzoom)||!!(this.maxzoom&&s>=this.maxzoom)||this.visibility==="none"}updateTransitions(s){this._transitioningPaint=this._transitionablePaint.transitioned(s,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(s,c){s.getCrossfadeParameters&&(this._crossfadeParameters=s.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(s,void 0,c)),this.paint=this._transitioningPaint.possiblyEvaluate(s,void 0,c)}serialize(){let s={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(s.layout=s.layout||{},s.layout.visibility=this.visibility),je(s,(c,d)=>!(c===void 0||d==="layout"&&!Object.keys(c).length||d==="paint"&&!Object.keys(c).length))}_validate(s,c,d,v,x={}){return(!x||x.validate!==!1)&&ub(this,s.call(rd,{key:c,layerType:this.type,objectKey:d,value:v,styleSpec:J,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(let s in this.paint._values){let c=this.paint.get(s);if(c instanceof ea&&Yf(c.property.specification)&&(c.value.kind==="source"||c.value.kind==="composite")&&c.value.isStateDependent)return!0}return!1}}let iT={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class Op{constructor(s,c){this._structArray=s,this._pos1=c*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class xi{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(s,c){return s._trim(),c&&(s.isTransferred=!0,c.push(s.arrayBuffer)),{length:s.length,arrayBuffer:s.arrayBuffer}}static deserialize(s){let c=Object.create(this.prototype);return c.arrayBuffer=s.arrayBuffer,c.length=s.length,c.capacity=s.arrayBuffer.byteLength/c.bytesPerElement,c._refreshViews(),c}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(s){this.reserve(s),this.length=s}reserve(s){if(s>this.capacity){this.capacity=Math.max(s,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);let c=this.uint8;this._refreshViews(),c&&this.uint8.set(c)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function ui(p,s=1){let c=0,d=0;return{members:p.map(v=>{let x=iT[v.type].BYTES_PER_ELEMENT,S=c=od(c,Math.max(s,x)),T=v.components||1;return d=Math.max(d,x),c+=x*T,{name:v.name,type:v.type,components:T,offset:S}}),size:od(c,Math.max(d,s)),alignment:s}}function od(p,s){return Math.ceil(p/s)*s}class xm extends xi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(s,c){let d=this.length;return this.resize(d+1),this.emplace(d,s,c)}emplace(s,c,d){let v=2*s;return this.int16[v+0]=c,this.int16[v+1]=d,s}}xm.prototype.bytesPerElement=4,$t("StructArrayLayout2i4",xm);class wm extends xi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(s,c,d){let v=this.length;return this.resize(v+1),this.emplace(v,s,c,d)}emplace(s,c,d,v){let x=3*s;return this.int16[x+0]=c,this.int16[x+1]=d,this.int16[x+2]=v,s}}wm.prototype.bytesPerElement=6,$t("StructArrayLayout3i6",wm);class Dp extends xi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(s,c,d,v){let x=this.length;return this.resize(x+1),this.emplace(x,s,c,d,v)}emplace(s,c,d,v,x){let S=4*s;return this.int16[S+0]=c,this.int16[S+1]=d,this.int16[S+2]=v,this.int16[S+3]=x,s}}Dp.prototype.bytesPerElement=8,$t("StructArrayLayout4i8",Dp);class vb extends xi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(s,c,d,v,x,S){let T=this.length;return this.resize(T+1),this.emplace(T,s,c,d,v,x,S)}emplace(s,c,d,v,x,S,T){let P=6*s;return this.int16[P+0]=c,this.int16[P+1]=d,this.int16[P+2]=v,this.int16[P+3]=x,this.int16[P+4]=S,this.int16[P+5]=T,s}}vb.prototype.bytesPerElement=12,$t("StructArrayLayout2i4i12",vb);class yb extends xi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(s,c,d,v,x,S){let T=this.length;return this.resize(T+1),this.emplace(T,s,c,d,v,x,S)}emplace(s,c,d,v,x,S,T){let P=4*s,D=8*s;return this.int16[P+0]=c,this.int16[P+1]=d,this.uint8[D+4]=v,this.uint8[D+5]=x,this.uint8[D+6]=S,this.uint8[D+7]=T,s}}yb.prototype.bytesPerElement=8,$t("StructArrayLayout2i4ub8",yb);class ad extends xi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(s,c){let d=this.length;return this.resize(d+1),this.emplace(d,s,c)}emplace(s,c,d){let v=2*s;return this.float32[v+0]=c,this.float32[v+1]=d,s}}ad.prototype.bytesPerElement=8,$t("StructArrayLayout2f8",ad);class _b extends xi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(s,c,d,v,x,S,T,P,D,L){let B=this.length;return this.resize(B+1),this.emplace(B,s,c,d,v,x,S,T,P,D,L)}emplace(s,c,d,v,x,S,T,P,D,L,B){let G=10*s;return this.uint16[G+0]=c,this.uint16[G+1]=d,this.uint16[G+2]=v,this.uint16[G+3]=x,this.uint16[G+4]=S,this.uint16[G+5]=T,this.uint16[G+6]=P,this.uint16[G+7]=D,this.uint16[G+8]=L,this.uint16[G+9]=B,s}}_b.prototype.bytesPerElement=20,$t("StructArrayLayout10ui20",_b);class _ extends xi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(s,c,d,v,x,S,T,P,D,L,B,G){let Z=this.length;return this.resize(Z+1),this.emplace(Z,s,c,d,v,x,S,T,P,D,L,B,G)}emplace(s,c,d,v,x,S,T,P,D,L,B,G,Z){let K=12*s;return this.int16[K+0]=c,this.int16[K+1]=d,this.int16[K+2]=v,this.int16[K+3]=x,this.uint16[K+4]=S,this.uint16[K+5]=T,this.uint16[K+6]=P,this.uint16[K+7]=D,this.int16[K+8]=L,this.int16[K+9]=B,this.int16[K+10]=G,this.int16[K+11]=Z,s}}_.prototype.bytesPerElement=24,$t("StructArrayLayout4i4ui4i24",_);class a extends xi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(s,c,d){let v=this.length;return this.resize(v+1),this.emplace(v,s,c,d)}emplace(s,c,d,v){let x=3*s;return this.float32[x+0]=c,this.float32[x+1]=d,this.float32[x+2]=v,s}}a.prototype.bytesPerElement=12,$t("StructArrayLayout3f12",a);class l extends xi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(s){let c=this.length;return this.resize(c+1),this.emplace(c,s)}emplace(s,c){return this.uint32[1*s+0]=c,s}}l.prototype.bytesPerElement=4,$t("StructArrayLayout1ul4",l);class h extends xi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(s,c,d,v,x,S,T,P,D){let L=this.length;return this.resize(L+1),this.emplace(L,s,c,d,v,x,S,T,P,D)}emplace(s,c,d,v,x,S,T,P,D,L){let B=10*s,G=5*s;return this.int16[B+0]=c,this.int16[B+1]=d,this.int16[B+2]=v,this.int16[B+3]=x,this.int16[B+4]=S,this.int16[B+5]=T,this.uint32[G+3]=P,this.uint16[B+8]=D,this.uint16[B+9]=L,s}}h.prototype.bytesPerElement=20,$t("StructArrayLayout6i1ul2ui20",h);class g extends xi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(s,c,d,v,x,S){let T=this.length;return this.resize(T+1),this.emplace(T,s,c,d,v,x,S)}emplace(s,c,d,v,x,S,T){let P=6*s;return this.int16[P+0]=c,this.int16[P+1]=d,this.int16[P+2]=v,this.int16[P+3]=x,this.int16[P+4]=S,this.int16[P+5]=T,s}}g.prototype.bytesPerElement=12,$t("StructArrayLayout2i2i2i12",g);class b extends xi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(s,c,d,v,x){let S=this.length;return this.resize(S+1),this.emplace(S,s,c,d,v,x)}emplace(s,c,d,v,x,S){let T=4*s,P=8*s;return this.float32[T+0]=c,this.float32[T+1]=d,this.float32[T+2]=v,this.int16[P+6]=x,this.int16[P+7]=S,s}}b.prototype.bytesPerElement=16,$t("StructArrayLayout2f1f2i16",b);class E extends xi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(s,c,d,v,x,S){let T=this.length;return this.resize(T+1),this.emplace(T,s,c,d,v,x,S)}emplace(s,c,d,v,x,S,T){let P=16*s,D=4*s,L=8*s;return this.uint8[P+0]=c,this.uint8[P+1]=d,this.float32[D+1]=v,this.float32[D+2]=x,this.int16[L+6]=S,this.int16[L+7]=T,s}}E.prototype.bytesPerElement=16,$t("StructArrayLayout2ub2f2i16",E);class A extends xi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(s,c,d){let v=this.length;return this.resize(v+1),this.emplace(v,s,c,d)}emplace(s,c,d,v){let x=3*s;return this.uint16[x+0]=c,this.uint16[x+1]=d,this.uint16[x+2]=v,s}}A.prototype.bytesPerElement=6,$t("StructArrayLayout3ui6",A);class O extends xi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(s,c,d,v,x,S,T,P,D,L,B,G,Z,K,te,le,me){let De=this.length;return this.resize(De+1),this.emplace(De,s,c,d,v,x,S,T,P,D,L,B,G,Z,K,te,le,me)}emplace(s,c,d,v,x,S,T,P,D,L,B,G,Z,K,te,le,me,De){let ye=24*s,W=12*s,ae=48*s;return this.int16[ye+0]=c,this.int16[ye+1]=d,this.uint16[ye+2]=v,this.uint16[ye+3]=x,this.uint32[W+2]=S,this.uint32[W+3]=T,this.uint32[W+4]=P,this.uint16[ye+10]=D,this.uint16[ye+11]=L,this.uint16[ye+12]=B,this.float32[W+7]=G,this.float32[W+8]=Z,this.uint8[ae+36]=K,this.uint8[ae+37]=te,this.uint8[ae+38]=le,this.uint32[W+10]=me,this.int16[ye+22]=De,s}}O.prototype.bytesPerElement=48,$t("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",O);class k extends xi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(s,c,d,v,x,S,T,P,D,L,B,G,Z,K,te,le,me,De,ye,W,ae,be,$e,pt,We,et,_t,ft){let bt=this.length;return this.resize(bt+1),this.emplace(bt,s,c,d,v,x,S,T,P,D,L,B,G,Z,K,te,le,me,De,ye,W,ae,be,$e,pt,We,et,_t,ft)}emplace(s,c,d,v,x,S,T,P,D,L,B,G,Z,K,te,le,me,De,ye,W,ae,be,$e,pt,We,et,_t,ft,bt){let ot=32*s,Gt=16*s;return this.int16[ot+0]=c,this.int16[ot+1]=d,this.int16[ot+2]=v,this.int16[ot+3]=x,this.int16[ot+4]=S,this.int16[ot+5]=T,this.int16[ot+6]=P,this.int16[ot+7]=D,this.uint16[ot+8]=L,this.uint16[ot+9]=B,this.uint16[ot+10]=G,this.uint16[ot+11]=Z,this.uint16[ot+12]=K,this.uint16[ot+13]=te,this.uint16[ot+14]=le,this.uint16[ot+15]=me,this.uint16[ot+16]=De,this.uint16[ot+17]=ye,this.uint16[ot+18]=W,this.uint16[ot+19]=ae,this.uint16[ot+20]=be,this.uint16[ot+21]=$e,this.uint16[ot+22]=pt,this.uint32[Gt+12]=We,this.float32[Gt+13]=et,this.float32[Gt+14]=_t,this.uint16[ot+30]=ft,this.uint16[ot+31]=bt,s}}k.prototype.bytesPerElement=64,$t("StructArrayLayout8i15ui1ul2f2ui64",k);class j extends xi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(s){let c=this.length;return this.resize(c+1),this.emplace(c,s)}emplace(s,c){return this.float32[1*s+0]=c,s}}j.prototype.bytesPerElement=4,$t("StructArrayLayout1f4",j);class $ extends xi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(s,c,d){let v=this.length;return this.resize(v+1),this.emplace(v,s,c,d)}emplace(s,c,d,v){let x=3*s;return this.uint16[6*s+0]=c,this.float32[x+1]=d,this.float32[x+2]=v,s}}$.prototype.bytesPerElement=12,$t("StructArrayLayout1ui2f12",$);class V extends xi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(s,c,d){let v=this.length;return this.resize(v+1),this.emplace(v,s,c,d)}emplace(s,c,d,v){let x=4*s;return this.uint32[2*s+0]=c,this.uint16[x+2]=d,this.uint16[x+3]=v,s}}V.prototype.bytesPerElement=8,$t("StructArrayLayout1ul2ui8",V);class Q extends xi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(s,c){let d=this.length;return this.resize(d+1),this.emplace(d,s,c)}emplace(s,c,d){let v=2*s;return this.uint16[v+0]=c,this.uint16[v+1]=d,s}}Q.prototype.bytesPerElement=4,$t("StructArrayLayout2ui4",Q);class ee extends xi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(s){let c=this.length;return this.resize(c+1),this.emplace(c,s)}emplace(s,c){return this.uint16[1*s+0]=c,s}}ee.prototype.bytesPerElement=2,$t("StructArrayLayout1ui2",ee);class fe extends xi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(s,c,d,v){let x=this.length;return this.resize(x+1),this.emplace(x,s,c,d,v)}emplace(s,c,d,v,x){let S=4*s;return this.float32[S+0]=c,this.float32[S+1]=d,this.float32[S+2]=v,this.float32[S+3]=x,s}}fe.prototype.bytesPerElement=16,$t("StructArrayLayout4f16",fe);class pe extends Op{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.int16[this._pos2+2]}get y1(){return this._structArray.int16[this._pos2+3]}get x2(){return this._structArray.int16[this._pos2+4]}get y2(){return this._structArray.int16[this._pos2+5]}get featureIndex(){return this._structArray.uint32[this._pos4+3]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+8]}get bucketIndex(){return this._structArray.uint16[this._pos2+9]}get anchorPoint(){return new M(this.anchorPointX,this.anchorPointY)}}pe.prototype.size=20;class he extends h{get(s){return new pe(this,s)}}$t("CollisionBoxArray",he);class ve extends Op{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+2]}get numGlyphs(){return this._structArray.uint16[this._pos2+3]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+2]}get lineStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineLength(){return this._structArray.uint32[this._pos4+4]}get segment(){return this._structArray.uint16[this._pos2+10]}get lowerSize(){return this._structArray.uint16[this._pos2+11]}get upperSize(){return this._structArray.uint16[this._pos2+12]}get lineOffsetX(){return this._structArray.float32[this._pos4+7]}get lineOffsetY(){return this._structArray.float32[this._pos4+8]}get writingMode(){return this._structArray.uint8[this._pos1+36]}get placedOrientation(){return this._structArray.uint8[this._pos1+37]}set placedOrientation(s){this._structArray.uint8[this._pos1+37]=s}get hidden(){return this._structArray.uint8[this._pos1+38]}set hidden(s){this._structArray.uint8[this._pos1+38]=s}get crossTileID(){return this._structArray.uint32[this._pos4+10]}set crossTileID(s){this._structArray.uint32[this._pos4+10]=s}get associatedIconIndex(){return this._structArray.int16[this._pos2+22]}}ve.prototype.size=48;class we extends O{get(s){return new ve(this,s)}}$t("PlacedSymbolArray",we);class xe extends Op{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+2]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+3]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+7]}get key(){return this._structArray.uint16[this._pos2+8]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+9]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+10]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get featureIndex(){return this._structArray.uint16[this._pos2+17]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+18]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+19]}get numIconVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+21]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+22]}get crossTileID(){return this._structArray.uint32[this._pos4+12]}set crossTileID(s){this._structArray.uint32[this._pos4+12]=s}get textBoxScale(){return this._structArray.float32[this._pos4+13]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+14]}get textAnchorOffsetStartIndex(){return this._structArray.uint16[this._pos2+30]}get textAnchorOffsetEndIndex(){return this._structArray.uint16[this._pos2+31]}}xe.prototype.size=64;class Ce extends k{get(s){return new xe(this,s)}}$t("SymbolInstanceArray",Ce);class ke extends j{getoffsetX(s){return this.float32[1*s+0]}}$t("GlyphOffsetArray",ke);class Oe extends wm{getx(s){return this.int16[3*s+0]}gety(s){return this.int16[3*s+1]}gettileUnitDistanceFromAnchor(s){return this.int16[3*s+2]}}$t("SymbolLineVertexArray",Oe);class Ve extends Op{get textAnchor(){return this._structArray.uint16[this._pos2+0]}get textOffset0(){return this._structArray.float32[this._pos4+1]}get textOffset1(){return this._structArray.float32[this._pos4+2]}}Ve.prototype.size=12;class rt extends ${get(s){return new Ve(this,s)}}$t("TextAnchorOffsetArray",rt);class Ze extends Op{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}}Ze.prototype.size=8;class Ye extends V{get(s){return new Ze(this,s)}}$t("FeatureIndexArray",Ye);class Je extends xm{}class Ct extends xm{}class Et extends xm{}class ht extends vb{}class Kt extends yb{}class qr extends ad{}class on extends _b{}class ci extends _{}class qn extends a{}class pi extends l{}class fi extends g{}class Bn extends E{}class gn extends A{}class Xi extends Q{}let po=ui([{name:"a_pos",components:2,type:"Int16"}],4),{members:Io}=po;class vn{constructor(s=[]){this._forceNewSegmentOnNextPrepare=!1,this.segments=s}prepareSegment(s,c,d,v){let x=this.segments[this.segments.length-1];return s>vn.MAX_VERTEX_ARRAY_LENGTH&&St(`Max vertices per segment is ${vn.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${s}. Consider using the \`fillLargeMeshArrays\` function if you require meshes with more than ${vn.MAX_VERTEX_ARRAY_LENGTH} vertices.`),this._forceNewSegmentOnNextPrepare||!x||x.vertexLength+s>vn.MAX_VERTEX_ARRAY_LENGTH||x.sortKey!==v?this.createNewSegment(c,d,v):x}createNewSegment(s,c,d){let v={vertexOffset:s.length,primitiveOffset:c.length,vertexLength:0,primitiveLength:0,vaos:{}};return d!==void 0&&(v.sortKey=d),this._forceNewSegmentOnNextPrepare=!1,this.segments.push(v),v}getOrCreateLatestSegment(s,c,d){return this.prepareSegment(0,s,c,d)}forceNewSegmentOnNextPrepare(){this._forceNewSegmentOnNextPrepare=!0}get(){return this.segments}destroy(){for(let s of this.segments)for(let c in s.vaos)s.vaos[c].destroy()}static simpleSegment(s,c,d,v){return new vn([{vertexOffset:s,primitiveOffset:c,vertexLength:d,primitiveLength:v,vaos:{},sortKey:0}])}}function hc(p,s){return 256*(p=lt(Math.floor(p),0,255))+lt(Math.floor(s),0,255)}vn.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,$t("SegmentVector",vn);let Dl=ui([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]);var mc,Np,Sm,gc={exports:{}},kp={exports:{}},os={exports:{}},vc=function(){if(Sm)return gc.exports;Sm=1;var p=(mc||(mc=1,kp.exports=function(c,d){var v,x,S,T,P,D,L,B;for(x=c.length-(v=3&c.length),S=d,P=3432918353,D=461845907,B=0;B<x;)L=255&c.charCodeAt(B)|(255&c.charCodeAt(++B))<<8|(255&c.charCodeAt(++B))<<16|(255&c.charCodeAt(++B))<<24,++B,S=27492+(65535&(T=5*(65535&(S=(S^=L=(65535&(L=(L=(65535&L)*P+(((L>>>16)*P&65535)<<16)&4294967295)<<15|L>>>17))*D+(((L>>>16)*D&65535)<<16)&4294967295)<<13|S>>>19))+((5*(S>>>16)&65535)<<16)&4294967295))+((58964+(T>>>16)&65535)<<16);switch(L=0,v){case 3:L^=(255&c.charCodeAt(B+2))<<16;case 2:L^=(255&c.charCodeAt(B+1))<<8;case 1:S^=L=(65535&(L=(L=(65535&(L^=255&c.charCodeAt(B)))*P+(((L>>>16)*P&65535)<<16)&4294967295)<<15|L>>>17))*D+(((L>>>16)*D&65535)<<16)&4294967295}return S^=c.length,S=2246822507*(65535&(S^=S>>>16))+((2246822507*(S>>>16)&65535)<<16)&4294967295,S=3266489909*(65535&(S^=S>>>13))+((3266489909*(S>>>16)&65535)<<16)&4294967295,(S^=S>>>16)>>>0}),kp.exports),s=(Np||(Np=1,os.exports=function(c,d){for(var v,x=c.length,S=d^x,T=0;x>=4;)v=1540483477*(65535&(v=255&c.charCodeAt(T)|(255&c.charCodeAt(++T))<<8|(255&c.charCodeAt(++T))<<16|(255&c.charCodeAt(++T))<<24))+((1540483477*(v>>>16)&65535)<<16),S=1540483477*(65535&S)+((1540483477*(S>>>16)&65535)<<16)^(v=1540483477*(65535&(v^=v>>>24))+((1540483477*(v>>>16)&65535)<<16)),x-=4,++T;switch(x){case 3:S^=(255&c.charCodeAt(T+2))<<16;case 2:S^=(255&c.charCodeAt(T+1))<<8;case 1:S=1540483477*(65535&(S^=255&c.charCodeAt(T)))+((1540483477*(S>>>16)&65535)<<16)}return S=1540483477*(65535&(S^=S>>>13))+((1540483477*(S>>>16)&65535)<<16),(S^=S>>>15)>>>0}),os.exports);return gc.exports=p,gc.exports.murmur3=p,gc.exports.murmur2=s,gc.exports}(),xu=u(vc);class yc{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(s,c,d,v){this.ids.push(Fi(s)),this.positions.push(c,d,v)}getPositions(s){if(!this.indexed)throw new Error("Trying to get index, but feature positions are not indexed");let c=Fi(s),d=0,v=this.ids.length-1;for(;d<v;){let S=d+v>>1;this.ids[S]>=c?v=S:d=S+1}let x=[];for(;this.ids[d]===c;)x.push({index:this.positions[3*d],start:this.positions[3*d+1],end:this.positions[3*d+2]}),d++;return x}static serialize(s,c){let d=new Float64Array(s.ids),v=new Uint32Array(s.positions);return Bi(d,v,0,d.length-1),c&&c.push(d.buffer,v.buffer),{ids:d,positions:v}}static deserialize(s){let c=new yc;return c.ids=s.ids,c.positions=s.positions,c.indexed=!0,c}}function Fi(p){let s=+p;return!isNaN(s)&&s<=Number.MAX_SAFE_INTEGER?s:xu(String(p))}function Bi(p,s,c,d){for(;c<d;){let v=p[c+d>>1],x=c-1,S=d+1;for(;;){do x++;while(p[x]<v);do S--;while(p[S]>v);if(x>=S)break;ta(p,x,S),ta(s,3*x,3*S),ta(s,3*x+1,3*S+1),ta(s,3*x+2,3*S+2)}S-c<d-S?(Bi(p,s,c,S),c=S+1):(Bi(p,s,S+1,d),d=S)}}function ta(p,s,c){let d=p[s];p[s]=p[c],p[c]=d}$t("FeaturePositionMap",yc);class Jn{constructor(s,c){this.gl=s.gl,this.location=c}}class Xv extends Jn{constructor(s,c){super(s,c),this.current=0}set(s){this.current!==s&&(this.current=s,this.gl.uniform1f(this.location,s))}}class oT extends Jn{constructor(s,c){super(s,c),this.current=[0,0,0,0]}set(s){s[0]===this.current[0]&&s[1]===this.current[1]&&s[2]===this.current[2]&&s[3]===this.current[3]||(this.current=s,this.gl.uniform4f(this.location,s[0],s[1],s[2],s[3]))}}class aT extends Jn{constructor(s,c){super(s,c),this.current=rn.transparent}set(s){s.r===this.current.r&&s.g===this.current.g&&s.b===this.current.b&&s.a===this.current.a||(this.current=s,this.gl.uniform4f(this.location,s.r,s.g,s.b,s.a))}}let p6=new Float32Array(16);function bb(p){return[hc(255*p.r,255*p.g),hc(255*p.b,255*p.a)]}class Im{constructor(s,c,d){this.value=s,this.uniformNames=c.map(v=>`u_${v}`),this.type=d}setUniform(s,c,d){s.set(d.constantOr(this.value))}getBinding(s,c,d){return this.type==="color"?new aT(s,c):new Xv(s,c)}}class As{constructor(s,c){this.uniformNames=c.map(d=>`u_${d}`),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(s,c){this.pixelRatioFrom=c.pixelRatio,this.pixelRatioTo=s.pixelRatio,this.patternFrom=c.tlbr,this.patternTo=s.tlbr}setUniform(s,c,d,v){let x=v==="u_pattern_to"?this.patternTo:v==="u_pattern_from"?this.patternFrom:v==="u_pixel_ratio_to"?this.pixelRatioTo:v==="u_pixel_ratio_from"?this.pixelRatioFrom:null;x&&s.set(x)}getBinding(s,c,d){return d.substr(0,9)==="u_pattern"?new oT(s,c):new Xv(s,c)}}class Nl{constructor(s,c,d,v){this.expression=s,this.type=d,this.maxValue=0,this.paintVertexAttributes=c.map(x=>({name:`a_${x}`,type:"Float32",components:d==="color"?2:1,offset:0})),this.paintVertexArray=new v}populatePaintArray(s,c,d,v,x){let S=this.paintVertexArray.length,T=this.expression.evaluate(new Qn(0),c,{},v,[],x);this.paintVertexArray.resize(s),this._setPaintValue(S,s,T)}updatePaintArray(s,c,d,v){let x=this.expression.evaluate({zoom:0},d,v);this._setPaintValue(s,c,x)}_setPaintValue(s,c,d){if(this.type==="color"){let v=bb(d);for(let x=s;x<c;x++)this.paintVertexArray.emplace(x,v[0],v[1])}else{for(let v=s;v<c;v++)this.paintVertexArray.emplace(v,d);this.maxValue=Math.max(this.maxValue,Math.abs(d))}}upload(s){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=s.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class Ps{constructor(s,c,d,v,x,S){this.expression=s,this.uniformNames=c.map(T=>`u_${T}_t`),this.type=d,this.useIntegerZoom=v,this.zoom=x,this.maxValue=0,this.paintVertexAttributes=c.map(T=>({name:`a_${T}`,type:"Float32",components:d==="color"?4:2,offset:0})),this.paintVertexArray=new S}populatePaintArray(s,c,d,v,x){let S=this.expression.evaluate(new Qn(this.zoom),c,{},v,[],x),T=this.expression.evaluate(new Qn(this.zoom+1),c,{},v,[],x),P=this.paintVertexArray.length;this.paintVertexArray.resize(s),this._setPaintValue(P,s,S,T)}updatePaintArray(s,c,d,v){let x=this.expression.evaluate({zoom:this.zoom},d,v),S=this.expression.evaluate({zoom:this.zoom+1},d,v);this._setPaintValue(s,c,x,S)}_setPaintValue(s,c,d,v){if(this.type==="color"){let x=bb(d),S=bb(v);for(let T=s;T<c;T++)this.paintVertexArray.emplace(T,x[0],x[1],S[0],S[1])}else{for(let x=s;x<c;x++)this.paintVertexArray.emplace(x,d,v);this.maxValue=Math.max(this.maxValue,Math.abs(d),Math.abs(v))}}upload(s){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=s.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(s,c){let d=this.useIntegerZoom?Math.floor(c.zoom):c.zoom,v=lt(this.expression.interpolationFactor(d,this.zoom,this.zoom+1),0,1);s.set(v)}getBinding(s,c,d){return new Xv(s,c)}}class wu{constructor(s,c,d,v,x,S){this.expression=s,this.type=c,this.useIntegerZoom=d,this.zoom=v,this.layerId=S,this.zoomInPaintVertexArray=new x,this.zoomOutPaintVertexArray=new x}populatePaintArray(s,c,d){let v=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(s),this.zoomOutPaintVertexArray.resize(s),this._setPaintValues(v,s,c.patterns&&c.patterns[this.layerId],d)}updatePaintArray(s,c,d,v,x){this._setPaintValues(s,c,d.patterns&&d.patterns[this.layerId],x)}_setPaintValues(s,c,d,v){if(!v||!d)return;let{min:x,mid:S,max:T}=d,P=v[x],D=v[S],L=v[T];if(P&&D&&L)for(let B=s;B<c;B++)this.zoomInPaintVertexArray.emplace(B,D.tl[0],D.tl[1],D.br[0],D.br[1],P.tl[0],P.tl[1],P.br[0],P.br[1],D.pixelRatio,P.pixelRatio),this.zoomOutPaintVertexArray.emplace(B,D.tl[0],D.tl[1],D.br[0],D.br[1],L.tl[0],L.tl[1],L.br[0],L.br[1],D.pixelRatio,L.pixelRatio)}upload(s){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=s.createVertexBuffer(this.zoomInPaintVertexArray,Dl.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=s.createVertexBuffer(this.zoomOutPaintVertexArray,Dl.members,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class Qv{constructor(s,c,d){this.binders={},this._buffers=[];let v=[];for(let x in s.paint._values){if(!d(x))continue;let S=s.paint.get(x);if(!(S instanceof ea&&Yf(S.property.specification)))continue;let T=xb(x,s.type),P=S.value,D=S.property.specification.type,L=S.property.useIntegerZoom,B=S.property.specification["property-type"],G=B==="cross-faded"||B==="cross-faded-data-driven";if(P.kind==="constant")this.binders[x]=G?new As(P.value,T):new Im(P.value,T,D),v.push(`/u_${x}`);else if(P.kind==="source"||G){let Z=lQ(x,D,"source");this.binders[x]=G?new wu(P,D,L,c,Z,s.id):new Nl(P,T,D,Z),v.push(`/a_${x}`)}else{let Z=lQ(x,D,"composite");this.binders[x]=new Ps(P,T,D,L,c,Z),v.push(`/z_${x}`)}}this.cacheKey=v.sort().join("")}getMaxValue(s){let c=this.binders[s];return c instanceof Nl||c instanceof Ps?c.maxValue:0}populatePaintArrays(s,c,d,v,x){for(let S in this.binders){let T=this.binders[S];(T instanceof Nl||T instanceof Ps||T instanceof wu)&&T.populatePaintArray(s,c,d,v,x)}}setConstantPatternPositions(s,c){for(let d in this.binders){let v=this.binders[d];v instanceof As&&v.setConstantPatternPositions(s,c)}}updatePaintArrays(s,c,d,v,x){let S=!1;for(let T in s){let P=c.getPositions(T);for(let D of P){let L=d.feature(D.index);for(let B in this.binders){let G=this.binders[B];if((G instanceof Nl||G instanceof Ps||G instanceof wu)&&G.expression.isStateDependent===!0){let Z=v.paint.get(B);G.expression=Z.value,G.updatePaintArray(D.start,D.end,L,s[T],x),S=!0}}}}return S}defines(){let s=[];for(let c in this.binders){let d=this.binders[c];(d instanceof Im||d instanceof As)&&s.push(...d.uniformNames.map(v=>`#define HAS_UNIFORM_${v}`))}return s}getBinderAttributes(){let s=[];for(let c in this.binders){let d=this.binders[c];if(d instanceof Nl||d instanceof Ps)for(let v=0;v<d.paintVertexAttributes.length;v++)s.push(d.paintVertexAttributes[v].name);else if(d instanceof wu)for(let v=0;v<Dl.members.length;v++)s.push(Dl.members[v].name)}return s}getBinderUniforms(){let s=[];for(let c in this.binders){let d=this.binders[c];if(d instanceof Im||d instanceof As||d instanceof Ps)for(let v of d.uniformNames)s.push(v)}return s}getPaintVertexBuffers(){return this._buffers}getUniforms(s,c){let d=[];for(let v in this.binders){let x=this.binders[v];if(x instanceof Im||x instanceof As||x instanceof Ps){for(let S of x.uniformNames)if(c[S]){let T=x.getBinding(s,c[S],S);d.push({name:S,property:v,binding:T})}}}return d}setUniforms(s,c,d,v){for(let{name:x,property:S,binding:T}of c)this.binders[S].setUniform(T,v,d.get(S),x)}updatePaintBuffers(s){this._buffers=[];for(let c in this.binders){let d=this.binders[c];if(s&&d instanceof wu){let v=s.fromScale===2?d.zoomInPaintVertexBuffer:d.zoomOutPaintVertexBuffer;v&&this._buffers.push(v)}else(d instanceof Nl||d instanceof Ps)&&d.paintVertexBuffer&&this._buffers.push(d.paintVertexBuffer)}}upload(s){for(let c in this.binders){let d=this.binders[c];(d instanceof Nl||d instanceof Ps||d instanceof wu)&&d.upload(s)}this.updatePaintBuffers()}destroy(){for(let s in this.binders){let c=this.binders[s];(c instanceof Nl||c instanceof Ps||c instanceof wu)&&c.destroy()}}}class _c{constructor(s,c,d=()=>!0){this.programConfigurations={};for(let v of s)this.programConfigurations[v.id]=new Qv(v,c,d);this.needsUpload=!1,this._featureMap=new yc,this._bufferOffset=0}populatePaintArrays(s,c,d,v,x,S){for(let T in this.programConfigurations)this.programConfigurations[T].populatePaintArrays(s,c,v,x,S);c.id!==void 0&&this._featureMap.add(c.id,d,this._bufferOffset,s),this._bufferOffset=s,this.needsUpload=!0}updatePaintArrays(s,c,d,v){for(let x of d)this.needsUpload=this.programConfigurations[x.id].updatePaintArrays(s,this._featureMap,c,x,v)||this.needsUpload}get(s){return this.programConfigurations[s]}upload(s){if(this.needsUpload){for(let c in this.programConfigurations)this.programConfigurations[c].upload(s);this.needsUpload=!1}}destroy(){for(let s in this.programConfigurations)this.programConfigurations[s].destroy()}}function xb(p,s){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[p]||[p.replace(`${s}-`,"").replace(/-/g,"_")]}function lQ(p,s,c){let d={color:{source:ad,composite:fe},number:{source:j,composite:ad}},v=function(x){return{"line-pattern":{source:on,composite:on},"fill-pattern":{source:on,composite:on},"fill-extrusion-pattern":{source:on,composite:on}}[x]}(p);return v&&v[c]||d[s][c]}$t("ConstantBinder",Im),$t("CrossFadedConstantBinder",As),$t("SourceExpressionBinder",Nl),$t("CrossFadedCompositeBinder",wu),$t("CompositeExpressionBinder",Ps),$t("ProgramConfiguration",Qv,{omit:["_buffers"]}),$t("ProgramConfigurationSet",_c);let f6=Math.pow(2,14)-1,uQ=-f6-1;function Em(p){let s=at/p.extent,c=p.loadGeometry();for(let d=0;d<c.length;d++){let v=c[d];for(let x=0;x<v.length;x++){let S=v[x],T=Math.round(S.x*s),P=Math.round(S.y*s);S.x=lt(T,uQ,f6),S.y=lt(P,uQ,f6),(T<S.x||T>S.x+1||P<S.y||P>S.y+1)&&St("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return c}function Tm(p,s){return{type:p.type,id:p.id,properties:p.properties,geometry:s?Em(p):[]}}let cQ=-32768;function a$e(p,s,c,d,v){p.emplaceBack(cQ+8*s+d,cQ+8*c+v)}class d6{constructor(s){this.zoom=s.zoom,this.overscaling=s.overscaling,this.layers=s.layers,this.layerIds=this.layers.map(c=>c.id),this.index=s.index,this.hasPattern=!1,this.layoutVertexArray=new Ct,this.indexArray=new gn,this.segments=new vn,this.programConfigurations=new _c(s.layers,s.zoom),this.stateDependentLayerIds=this.layers.filter(c=>c.isStateDependent()).map(c=>c.id)}populate(s,c,d){let v=this.layers[0],x=[],S=null,T=!1,P=v.type==="heatmap";if(v.type==="circle"){let L=v;S=L.layout.get("circle-sort-key"),T=!S.isConstant(),P=P||L.paint.get("circle-pitch-alignment")==="map"}let D=P?c.subdivisionGranularity.circle:1;for(let{feature:L,id:B,index:G,sourceLayerIndex:Z}of s){let K=this.layers[0]._featureFilter.needGeometry,te=Tm(L,K);if(!this.layers[0]._featureFilter.filter(new Qn(this.zoom),te,d))continue;let le=T?S.evaluate(te,{},d):void 0,me={id:B,properties:L.properties,type:L.type,sourceLayerIndex:Z,index:G,geometry:K?te.geometry:Em(L),patterns:{},sortKey:le};x.push(me)}T&&x.sort((L,B)=>L.sortKey-B.sortKey);for(let L of x){let{geometry:B,index:G,sourceLayerIndex:Z}=L,K=s[G].feature;this.addFeature(L,B,G,d,D),c.featureIndex.insert(K,B,G,Z,this.index)}}update(s,c,d){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(s,c,this.stateDependentLayers,d)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(s){this.uploaded||(this.layoutVertexBuffer=s.createVertexBuffer(this.layoutVertexArray,Io),this.indexBuffer=s.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(s),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(s,c,d,v,x=1){let S;switch(x){case 1:S=[0,7];break;case 3:S=[0,2,5,7];break;case 5:S=[0,1,3,4,6,7];break;case 7:S=[0,1,2,3,4,5,6,7];break;default:throw new Error(`Invalid circle bucket granularity: ${x}; valid values are 1, 3, 5, 7.`)}let T=S.length;for(let P of c)for(let D of P){let L=D.x,B=D.y;if(L<0||L>=at||B<0||B>=at)continue;let G=this.segments.prepareSegment(T*T,this.layoutVertexArray,this.indexArray,s.sortKey),Z=G.vertexLength;for(let K=0;K<T;K++)for(let te=0;te<T;te++)a$e(this.layoutVertexArray,L,B,S[te],S[K]);for(let K=0;K<T-1;K++)for(let te=0;te<T-1;te++){let le=Z+K*T+te,me=Z+(K+1)*T+te;this.indexArray.emplaceBack(le,me+1,le+1),this.indexArray.emplaceBack(le,me,me+1)}G.vertexLength+=T*T,G.primitiveLength+=(T-1)*(T-1)*2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,s,d,{},v)}}function pQ(p,s){for(let c=0;c<p.length;c++)if(Mm(s,p[c]))return!0;for(let c=0;c<s.length;c++)if(Mm(p,s[c]))return!0;return!!h6(p,s)}function s$e(p,s,c){return!!Mm(p,s)||!!m6(s,p,c)}function fQ(p,s){if(p.length===1)return hQ(s,p[0]);for(let c=0;c<s.length;c++){let d=s[c];for(let v=0;v<d.length;v++)if(Mm(p,d[v]))return!0}for(let c=0;c<p.length;c++)if(hQ(s,p[c]))return!0;for(let c=0;c<s.length;c++)if(h6(p,s[c]))return!0;return!1}function l$e(p,s,c){if(p.length>1){if(h6(p,s))return!0;for(let d=0;d<s.length;d++)if(m6(s[d],p,c))return!0}for(let d=0;d<p.length;d++)if(m6(p[d],s,c))return!0;return!1}function h6(p,s){if(p.length===0||s.length===0)return!1;for(let c=0;c<p.length-1;c++){let d=p[c],v=p[c+1];for(let x=0;x<s.length-1;x++)if(u$e(d,v,s[x],s[x+1]))return!0}return!1}function u$e(p,s,c,d){return vt(p,c,d)!==vt(s,c,d)&&vt(p,s,c)!==vt(p,s,d)}function m6(p,s,c){let d=c*c;if(s.length===1)return p.distSqr(s[0])<d;for(let v=1;v<s.length;v++)if(dQ(p,s[v-1],s[v])<d)return!0;return!1}function dQ(p,s,c){let d=s.distSqr(c);if(d===0)return p.distSqr(s);let v=((p.x-s.x)*(c.x-s.x)+(p.y-s.y)*(c.y-s.y))/d;return p.distSqr(v<0?s:v>1?c:c.sub(s)._mult(v)._add(s))}function hQ(p,s){for(let c=0;c<p.length;c++)if(Mm(p[c],s))return!0;return!1}function Mm(p,s){let c=!1;for(let d=0,v=p.length-1;d<p.length;v=d++){let x=p[d],S=p[v];x.y>s.y!=S.y>s.y&&s.x<(S.x-x.x)*(s.y-x.y)/(S.y-x.y)+x.x&&(c=!c)}return c}function c$e(p,s,c){let d=c[0],v=c[2];if(p.x<d.x&&s.x<d.x||p.x>v.x&&s.x>v.x||p.y<d.y&&s.y<d.y||p.y>v.y&&s.y>v.y)return!1;let x=vt(p,s,c[0]);return x!==vt(p,s,c[1])||x!==vt(p,s,c[2])||x!==vt(p,s,c[3])}function wb(p,s,c){let d=s.paint.get(p).value;return d.kind==="constant"?d.value:c.programConfigurations.get(s.id).getMaxValue(p)}function sT(p){return Math.sqrt(p[0]*p[0]+p[1]*p[1])}function lT(p,s,c,d,v){if(!s[0]&&!s[1])return p;let x=M.convert(s)._mult(v);c==="viewport"&&x._rotate(-d);let S=[];for(let T=0;T<p.length;T++)S.push(p[T].sub(x));return S}let mQ,gQ;$t("CircleBucket",d6,{omit:["layers"]});var p$e={get paint(){return gQ=gQ||new ji({"circle-radius":new mr(J.paint_circle["circle-radius"]),"circle-color":new mr(J.paint_circle["circle-color"]),"circle-blur":new mr(J.paint_circle["circle-blur"]),"circle-opacity":new mr(J.paint_circle["circle-opacity"]),"circle-translate":new Qt(J.paint_circle["circle-translate"]),"circle-translate-anchor":new Qt(J.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Qt(J.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Qt(J.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new mr(J.paint_circle["circle-stroke-width"]),"circle-stroke-color":new mr(J.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new mr(J.paint_circle["circle-stroke-opacity"])})},get layout(){return mQ=mQ||new ji({"circle-sort-key":new mr(J.layout_circle["circle-sort-key"])})}};class f$e extends Cs{constructor(s){super(s,p$e)}createBucket(s){return new d6(s)}queryRadius(s){let c=s;return wb("circle-radius",this,c)+wb("circle-stroke-width",this,c)+sT(this.paint.get("circle-translate"))}queryIntersectsFeature({queryGeometry:s,feature:c,featureState:d,geometry:v,transform:x,pixelsToTileUnits:S,unwrappedTileID:T,getElevation:P}){let D=lT(s,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),-x.bearingInRadians,S),L=this.paint.get("circle-radius").evaluate(c,d)+this.paint.get("circle-stroke-width").evaluate(c,d),B=this.paint.get("circle-pitch-alignment")==="map",G=B?D:function(K,te,le,me){return K.map(De=>vQ(De,te,le,me))}(D,x,T,P),Z=B?L*S:L;for(let K of v)for(let te of K){let le=B?te:vQ(te,x,T,P),me=Z,De=x.projectTileCoordinates(te.x,te.y,T,P).signedDistanceFromCamera;if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?me*=De/x.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(me*=x.cameraToCenterDistance/De),s$e(G,le,me))return!0}return!1}}function vQ(p,s,c,d){let v=s.projectTileCoordinates(p.x,p.y,c,d).point;return new M((.5*v.x+.5)*s.width,(.5*-v.y+.5)*s.height)}class yQ extends d6{}let _Q;$t("HeatmapBucket",yQ,{omit:["layers"]});var d$e={get paint(){return _Q=_Q||new ji({"heatmap-radius":new mr(J.paint_heatmap["heatmap-radius"]),"heatmap-weight":new mr(J.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Qt(J.paint_heatmap["heatmap-intensity"]),"heatmap-color":new mb(J.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Qt(J.paint_heatmap["heatmap-opacity"])})}};function g6(p,{width:s,height:c},d,v){if(v){if(v instanceof Uint8ClampedArray)v=new Uint8Array(v.buffer);else if(v.length!==s*c*d)throw new RangeError(`mismatched image size. expected: ${v.length} but got: ${s*c*d}`)}else v=new Uint8Array(s*c*d);return p.width=s,p.height=c,p.data=v,p}function bQ(p,{width:s,height:c},d){if(s===p.width&&c===p.height)return;let v=g6({},{width:s,height:c},d);v6(p,v,{x:0,y:0},{x:0,y:0},{width:Math.min(p.width,s),height:Math.min(p.height,c)},d),p.width=s,p.height=c,p.data=v.data}function v6(p,s,c,d,v,x){if(v.width===0||v.height===0)return s;if(v.width>p.width||v.height>p.height||c.x>p.width-v.width||c.y>p.height-v.height)throw new RangeError("out of range source coordinates for image copy");if(v.width>s.width||v.height>s.height||d.x>s.width-v.width||d.y>s.height-v.height)throw new RangeError("out of range destination coordinates for image copy");let S=p.data,T=s.data;if(S===T)throw new Error("srcData equals dstData, so image is already copied");for(let P=0;P<v.height;P++){let D=((c.y+P)*p.width+c.x)*x,L=((d.y+P)*s.width+d.x)*x;for(let B=0;B<v.width*x;B++)T[L+B]=S[D+B]}return s}class Sb{constructor(s,c){g6(this,s,1,c)}resize(s){bQ(this,s,1)}clone(){return new Sb({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(s,c,d,v,x){v6(s,c,d,v,x,1)}}class al{constructor(s,c){g6(this,s,4,c)}resize(s){bQ(this,s,4)}replace(s,c){c?this.data.set(s):this.data=s instanceof Uint8ClampedArray?new Uint8Array(s.buffer):s}clone(){return new al({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(s,c,d,v,x){v6(s,c,d,v,x,4)}}function xQ(p){let s={},c=p.resolution||256,d=p.clips?p.clips.length:1,v=p.image||new al({width:c,height:d});if(Math.log(c)/Math.LN2%1!=0)throw new Error(`width is not a power of 2 - ${c}`);let x=(S,T,P)=>{s[p.evaluationKey]=P;let D=p.expression.evaluate(s);v.data[S+T+0]=Math.floor(255*D.r/D.a),v.data[S+T+1]=Math.floor(255*D.g/D.a),v.data[S+T+2]=Math.floor(255*D.b/D.a),v.data[S+T+3]=Math.floor(255*D.a)};if(p.clips)for(let S=0,T=0;S<d;++S,T+=4*c)for(let P=0,D=0;P<c;P++,D+=4){let L=P/(c-1),{start:B,end:G}=p.clips[S];x(T,D,B*(1-L)+G*L)}else for(let S=0,T=0;S<c;S++,T+=4)x(0,T,S/(c-1));return v}$t("AlphaImage",Sb),$t("RGBAImage",al);let y6="big-fb";class h$e extends Cs{createBucket(s){return new yQ(s)}constructor(s){super(s,d$e),this.heatmapFbos=new Map,this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(s){s==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=xQ({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbos.has(y6)&&this.heatmapFbos.delete(y6)}queryRadius(){return 0}queryIntersectsFeature(){return!1}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}}let wQ;var m$e={get paint(){return wQ=wQ||new ji({"hillshade-illumination-direction":new Qt(J.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-altitude":new Qt(J.paint_hillshade["hillshade-illumination-altitude"]),"hillshade-illumination-anchor":new Qt(J.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Qt(J.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Qt(J.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Qt(J.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Qt(J.paint_hillshade["hillshade-accent-color"]),"hillshade-method":new Qt(J.paint_hillshade["hillshade-method"])})}};class g$e extends Cs{constructor(s){super(s,m$e),this.recalculate({zoom:0,zoomHistory:{}},void 0)}getIlluminationProperties(){let s=this.paint.get("hillshade-illumination-direction").values,c=this.paint.get("hillshade-illumination-altitude").values,d=this.paint.get("hillshade-highlight-color").values,v=this.paint.get("hillshade-shadow-color").values,x=Math.max(s.length,c.length,d.length,v.length);s=s.concat(Array(x-s.length).fill(s.at(-1))),c=c.concat(Array(x-c.length).fill(c.at(-1))),d=d.concat(Array(x-d.length).fill(d.at(-1))),v=v.concat(Array(x-v.length).fill(v.at(-1)));let S=c.map(wr);return{directionRadians:s.map(wr),altitudeRadians:S,shadowColor:v,highlightColor:d}}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}}let v$e=ui([{name:"a_pos",components:2,type:"Int16"}],4),{members:y$e}=v$e;function _6(p,s,c){let d=c.patternDependencies,v=!1;for(let x of s){let S=x.paint.get(`${p}-pattern`);S.isConstant()||(v=!0);let T=S.constantOr(null);T&&(v=!0,d[T.to]=!0,d[T.from]=!0)}return v}function b6(p,s,c,d,v){let x=v.patternDependencies;for(let S of s){let T=S.paint.get(`${p}-pattern`).value;if(T.kind!=="constant"){let P=T.evaluate({zoom:d-1},c,{},v.availableImages),D=T.evaluate({zoom:d},c,{},v.availableImages),L=T.evaluate({zoom:d+1},c,{},v.availableImages);P=P&&P.name?P.name:P,D=D&&D.name?D.name:D,L=L&&L.name?L.name:L,x[P]=!0,x[D]=!0,x[L]=!0,c.patterns[S.id]={min:P,mid:D,max:L}}}return c}function SQ(p,s,c,d,v){let x;if(v===function(S,T,P,D){let L=0;for(let B=T,G=P-D;B<P;B+=D)L+=(S[G]-S[B])*(S[B+1]+S[G+1]),G=B;return L}(p,s,c,d)>0)for(let S=s;S<c;S+=d)x=MQ(S/d|0,p[S],p[S+1],x);else for(let S=c-d;S>=s;S-=d)x=MQ(S/d|0,p[S],p[S+1],x);return x&&Jv(x,x.next)&&(Mb(x),x=x.next),x}function Cm(p,s){if(!p)return p;s||(s=p);let c,d=p;do if(c=!1,d.steiner||!Jv(d,d.next)&&qi(d.prev,d,d.next)!==0)d=d.next;else{if(Mb(d),d=s=d.prev,d===d.next)break;c=!0}while(c||d!==s);return s}function Ib(p,s,c,d,v,x,S){if(!p)return;!S&&x&&function(P,D,L,B){let G=P;do G.z===0&&(G.z=x6(G.x,G.y,D,L,B)),G.prevZ=G.prev,G.nextZ=G.next,G=G.next;while(G!==P);G.prevZ.nextZ=null,G.prevZ=null,function(Z){let K,te=1;do{let le,me=Z;Z=null;let De=null;for(K=0;me;){K++;let ye=me,W=0;for(let be=0;be<te&&(W++,ye=ye.nextZ,ye);be++);let ae=te;for(;W>0||ae>0&&ye;)W!==0&&(ae===0||!ye||me.z<=ye.z)?(le=me,me=me.nextZ,W--):(le=ye,ye=ye.nextZ,ae--),De?De.nextZ=le:Z=le,le.prevZ=De,De=le;me=ye}De.nextZ=null,te*=2}while(K>1)}(G)}(p,d,v,x);let T=p;for(;p.prev!==p.next;){let P=p.prev,D=p.next;if(x?b$e(p,d,v,x):_$e(p))s.push(P.i,p.i,D.i),Mb(p),p=D.next,T=D.next;else if((p=D)===T){S?S===1?Ib(p=x$e(Cm(p),s),s,c,d,v,x,2):S===2&&w$e(p,s,c,d,v,x):Ib(Cm(p),s,c,d,v,x,1);break}}}function _$e(p){let s=p.prev,c=p,d=p.next;if(qi(s,c,d)>=0)return!1;let v=s.x,x=c.x,S=d.x,T=s.y,P=c.y,D=d.y,L=Math.min(v,x,S),B=Math.min(T,P,D),G=Math.max(v,x,S),Z=Math.max(T,P,D),K=d.next;for(;K!==s;){if(K.x>=L&&K.x<=G&&K.y>=B&&K.y<=Z&&Eb(v,T,x,P,S,D,K.x,K.y)&&qi(K.prev,K,K.next)>=0)return!1;K=K.next}return!0}function b$e(p,s,c,d){let v=p.prev,x=p,S=p.next;if(qi(v,x,S)>=0)return!1;let T=v.x,P=x.x,D=S.x,L=v.y,B=x.y,G=S.y,Z=Math.min(T,P,D),K=Math.min(L,B,G),te=Math.max(T,P,D),le=Math.max(L,B,G),me=x6(Z,K,s,c,d),De=x6(te,le,s,c,d),ye=p.prevZ,W=p.nextZ;for(;ye&&ye.z>=me&&W&&W.z<=De;){if(ye.x>=Z&&ye.x<=te&&ye.y>=K&&ye.y<=le&&ye!==v&&ye!==S&&Eb(T,L,P,B,D,G,ye.x,ye.y)&&qi(ye.prev,ye,ye.next)>=0||(ye=ye.prevZ,W.x>=Z&&W.x<=te&&W.y>=K&&W.y<=le&&W!==v&&W!==S&&Eb(T,L,P,B,D,G,W.x,W.y)&&qi(W.prev,W,W.next)>=0))return!1;W=W.nextZ}for(;ye&&ye.z>=me;){if(ye.x>=Z&&ye.x<=te&&ye.y>=K&&ye.y<=le&&ye!==v&&ye!==S&&Eb(T,L,P,B,D,G,ye.x,ye.y)&&qi(ye.prev,ye,ye.next)>=0)return!1;ye=ye.prevZ}for(;W&&W.z<=De;){if(W.x>=Z&&W.x<=te&&W.y>=K&&W.y<=le&&W!==v&&W!==S&&Eb(T,L,P,B,D,G,W.x,W.y)&&qi(W.prev,W,W.next)>=0)return!1;W=W.nextZ}return!0}function x$e(p,s){let c=p;do{let d=c.prev,v=c.next.next;!Jv(d,v)&&EQ(d,c,c.next,v)&&Tb(d,v)&&Tb(v,d)&&(s.push(d.i,c.i,v.i),Mb(c),Mb(c.next),c=p=v),c=c.next}while(c!==p);return Cm(c)}function w$e(p,s,c,d,v,x){let S=p;do{let T=S.next.next;for(;T!==S.prev;){if(S.i!==T.i&&M$e(S,T)){let P=TQ(S,T);return S=Cm(S,S.next),P=Cm(P,P.next),Ib(S,s,c,d,v,x,0),void Ib(P,s,c,d,v,x,0)}T=T.next}S=S.next}while(S!==p)}function S$e(p,s){let c=p.x-s.x;return c===0&&(c=p.y-s.y,c===0)&&(c=(p.next.y-p.y)/(p.next.x-p.x)-(s.next.y-s.y)/(s.next.x-s.x)),c}function I$e(p,s){let c=function(v,x){let S=x,T=v.x,P=v.y,D,L=-1/0;if(Jv(v,S))return S;do{if(Jv(v,S.next))return S.next;if(P<=S.y&&P>=S.next.y&&S.next.y!==S.y){let te=S.x+(P-S.y)*(S.next.x-S.x)/(S.next.y-S.y);if(te<=T&&te>L&&(L=te,D=S.x<S.next.x?S:S.next,te===T))return D}S=S.next}while(S!==x);if(!D)return null;let B=D,G=D.x,Z=D.y,K=1/0;S=D;do{if(T>=S.x&&S.x>=G&&T!==S.x&&IQ(P<Z?T:L,P,G,Z,P<Z?L:T,P,S.x,S.y)){let te=Math.abs(P-S.y)/(T-S.x);Tb(S,v)&&(te<K||te===K&&(S.x>D.x||S.x===D.x&&E$e(D,S)))&&(D=S,K=te)}S=S.next}while(S!==B);return D}(p,s);if(!c)return s;let d=TQ(c,p);return Cm(d,d.next),Cm(c,c.next)}function E$e(p,s){return qi(p.prev,p,s.prev)<0&&qi(s.next,p,p.next)<0}function x6(p,s,c,d,v){return(p=1431655765&((p=858993459&((p=252645135&((p=16711935&((p=(p-c)*v|0)|p<<8))|p<<4))|p<<2))|p<<1))|(s=1431655765&((s=858993459&((s=252645135&((s=16711935&((s=(s-d)*v|0)|s<<8))|s<<4))|s<<2))|s<<1))<<1}function T$e(p){let s=p,c=p;do(s.x<c.x||s.x===c.x&&s.y<c.y)&&(c=s),s=s.next;while(s!==p);return c}function IQ(p,s,c,d,v,x,S,T){return(v-S)*(s-T)>=(p-S)*(x-T)&&(p-S)*(d-T)>=(c-S)*(s-T)&&(c-S)*(x-T)>=(v-S)*(d-T)}function Eb(p,s,c,d,v,x,S,T){return!(p===S&&s===T)&&IQ(p,s,c,d,v,x,S,T)}function M$e(p,s){return p.next.i!==s.i&&p.prev.i!==s.i&&!function(c,d){let v=c;do{if(v.i!==c.i&&v.next.i!==c.i&&v.i!==d.i&&v.next.i!==d.i&&EQ(v,v.next,c,d))return!0;v=v.next}while(v!==c);return!1}(p,s)&&(Tb(p,s)&&Tb(s,p)&&function(c,d){let v=c,x=!1,S=(c.x+d.x)/2,T=(c.y+d.y)/2;do v.y>T!=v.next.y>T&&v.next.y!==v.y&&S<(v.next.x-v.x)*(T-v.y)/(v.next.y-v.y)+v.x&&(x=!x),v=v.next;while(v!==c);return x}(p,s)&&(qi(p.prev,p,s.prev)||qi(p,s.prev,s))||Jv(p,s)&&qi(p.prev,p,p.next)>0&&qi(s.prev,s,s.next)>0)}function qi(p,s,c){return(s.y-p.y)*(c.x-s.x)-(s.x-p.x)*(c.y-s.y)}function Jv(p,s){return p.x===s.x&&p.y===s.y}function EQ(p,s,c,d){let v=cT(qi(p,s,c)),x=cT(qi(p,s,d)),S=cT(qi(c,d,p)),T=cT(qi(c,d,s));return v!==x&&S!==T||!(v!==0||!uT(p,c,s))||!(x!==0||!uT(p,d,s))||!(S!==0||!uT(c,p,d))||!(T!==0||!uT(c,s,d))}function uT(p,s,c){return s.x<=Math.max(p.x,c.x)&&s.x>=Math.min(p.x,c.x)&&s.y<=Math.max(p.y,c.y)&&s.y>=Math.min(p.y,c.y)}function cT(p){return p>0?1:p<0?-1:0}function Tb(p,s){return qi(p.prev,p,p.next)<0?qi(p,s,p.next)>=0&&qi(p,p.prev,s)>=0:qi(p,s,p.prev)<0||qi(p,p.next,s)<0}function TQ(p,s){let c=w6(p.i,p.x,p.y),d=w6(s.i,s.x,s.y),v=p.next,x=s.prev;return p.next=s,s.prev=p,c.next=v,v.prev=c,d.next=c,c.prev=d,x.next=d,d.prev=x,d}function MQ(p,s,c,d){let v=w6(p,s,c);return d?(v.next=d.next,v.prev=d,d.next.prev=v,d.next=v):(v.prev=v,v.next=v),v}function Mb(p){p.next.prev=p.prev,p.prev.next=p.next,p.prevZ&&(p.prevZ.nextZ=p.nextZ),p.nextZ&&(p.nextZ.prevZ=p.prevZ)}function w6(p,s,c){return{i:p,x:s,y:c,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}class ey{constructor(s,c){if(c>s)throw new Error("Min granularity must not be greater than base granularity.");this._baseZoomGranularity=s,this._minGranularity=c}getGranularityForZoomLevel(s){return Math.max(Math.floor(this._baseZoomGranularity/(1<<s)),this._minGranularity,1)}}class pT{constructor(s){this.fill=s.fill,this.line=s.line,this.tile=s.tile,this.stencil=s.stencil,this.circle=s.circle}}pT.noSubdivision=new pT({fill:new ey(0,0),line:new ey(0,0),tile:new ey(0,0),stencil:new ey(0,0),circle:1}),$t("SubdivisionGranularityExpression",ey),$t("SubdivisionGranularitySetting",pT);let ty=-32768,Cb=32767;class C$e{constructor(s,c){this._vertexBuffer=[],this._vertexDictionary=new Map,this._used=!1,this._granularity=s,this._granularityCellSize=at/s,this._canonical=c}_getKey(s,c){return(s+=32768)<<16|(c+=32768)<<0}_vertexToIndex(s,c){if(s<-32768||c<-32768||s>32767||c>32767)throw new Error("Vertex coordinates are out of signed 16 bit integer range.");let d=0|Math.round(s),v=0|Math.round(c),x=this._getKey(d,v);if(this._vertexDictionary.has(x))return this._vertexDictionary.get(x);let S=this._vertexBuffer.length/2;return this._vertexDictionary.set(x,S),this._vertexBuffer.push(d,v),S}_subdivideTrianglesScanline(s){if(this._granularity<2)return function(v,x){let S=[];for(let T=0;T<x.length;T+=3){let P=x[T],D=x[T+1],L=x[T+2],B=v[2*P],G=v[2*P+1];(v[2*D]-B)*(v[2*L+1]-G)-(v[2*D+1]-G)*(v[2*L]-B)>0?(S.push(P),S.push(L),S.push(D)):(S.push(P),S.push(D),S.push(L))}return S}(this._vertexBuffer,s);let c=[],d=s.length;for(let v=0;v<d;v+=3){let x=[s[v+0],s[v+1],s[v+2]],S=[this._vertexBuffer[2*s[v+0]+0],this._vertexBuffer[2*s[v+0]+1],this._vertexBuffer[2*s[v+1]+0],this._vertexBuffer[2*s[v+1]+1],this._vertexBuffer[2*s[v+2]+0],this._vertexBuffer[2*s[v+2]+1]],T=1/0,P=1/0,D=-1/0,L=-1/0;for(let te=0;te<3;te++){let le=S[2*te],me=S[2*te+1];T=Math.min(T,le),D=Math.max(D,le),P=Math.min(P,me),L=Math.max(L,me)}if(T===D||P===L)continue;let B=Math.floor(T/this._granularityCellSize),G=Math.ceil(D/this._granularityCellSize),Z=Math.floor(P/this._granularityCellSize),K=Math.ceil(L/this._granularityCellSize);if(B!==G||Z!==K)for(let te=Z;te<K;te++){let le=this._scanlineGenerateVertexRingForCellRow(te,S,x);A$e(this._vertexBuffer,le,c)}else c.push(...x)}return c}_scanlineGenerateVertexRingForCellRow(s,c,d){let v=s*this._granularityCellSize,x=v+this._granularityCellSize,S=[];for(let T=0;T<3;T++){let P=c[2*T],D=c[2*T+1],L=c[2*(T+1)%6],B=c[(2*(T+1)+1)%6],G=c[2*(T+2)%6],Z=c[(2*(T+2)+1)%6],K=L-P,te=B-D,le=K===0,me=te===0,De=(v-D)/te,ye=(x-D)/te,W=Math.min(De,ye),ae=Math.max(De,ye);if(!me&&(W>=1||ae<=0)||me&&(D<v||D>x)){B>=v&&B<=x&&S.push(d[(T+1)%3]);continue}!me&&W>0&&S.push(this._vertexToIndex(P+K*W,D+te*W));let be=P+K*Math.max(W,0),$e=P+K*Math.min(ae,1);le||this._generateIntraEdgeVertices(S,P,D,L,B,be,$e),!me&&ae<1&&S.push(this._vertexToIndex(P+K*ae,D+te*ae)),(me||B>=v&&B<=x)&&S.push(d[(T+1)%3]),!me&&(B<=v||B>=x)&&this._generateInterEdgeVertices(S,P,D,L,B,G,Z,$e,v,x)}return S}_generateIntraEdgeVertices(s,c,d,v,x,S,T){let P=v-c,D=x-d,L=D===0,B=L?Math.min(c,v):Math.min(S,T),G=L?Math.max(c,v):Math.max(S,T),Z=Math.floor(B/this._granularityCellSize)+1,K=Math.ceil(G/this._granularityCellSize)-1;if(L?c<v:S<T)for(let te=Z;te<=K;te++){let le=te*this._granularityCellSize;s.push(this._vertexToIndex(le,d+D*(le-c)/P))}else for(let te=K;te>=Z;te--){let le=te*this._granularityCellSize;s.push(this._vertexToIndex(le,d+D*(le-c)/P))}}_generateInterEdgeVertices(s,c,d,v,x,S,T,P,D,L){let B=x-d,G=S-v,Z=T-x,K=(D-x)/Z,te=(L-x)/Z,le=Math.min(K,te),me=Math.max(K,te),De=v+G*le,ye=Math.floor(Math.min(De,P)/this._granularityCellSize)+1,W=Math.ceil(Math.max(De,P)/this._granularityCellSize)-1,ae=P<De,be=Z===0;if(be&&(T===D||T===L))return;if(be||le>=1||me<=0){let pt=d-T,We=S+(c-S)*Math.min((D-T)/pt,(L-T)/pt);ye=Math.floor(Math.min(We,P)/this._granularityCellSize)+1,W=Math.ceil(Math.max(We,P)/this._granularityCellSize)-1,ae=P<We}let $e=B>0?L:D;if(ae)for(let pt=ye;pt<=W;pt++)s.push(this._vertexToIndex(pt*this._granularityCellSize,$e));else for(let pt=W;pt>=ye;pt--)s.push(this._vertexToIndex(pt*this._granularityCellSize,$e))}_generateOutline(s){let c=[];for(let d of s){let v=Am(d,this._granularity,!0),x=this._pointArrayToIndices(v),S=[];for(let T=1;T<x.length;T++)S.push(x[T-1]),S.push(x[T]);c.push(S)}return c}_handlePoles(s){let c=!1,d=!1;this._canonical&&(this._canonical.y===0&&(c=!0),this._canonical.y===(1<<this._canonical.z)-1&&(d=!0)),(c||d)&&this._fillPoles(s,c,d)}_ensureNoPoleVertices(){let s=this._vertexBuffer;for(let c=0;c<s.length;c+=2){let d=s[c+1];d===ty&&(s[c+1]=-32767),d===Cb&&(s[c+1]=32766)}}_generatePoleQuad(s,c,d,v,x,S){v>x!=(S===ty)?(s.push(c),s.push(d),s.push(this._vertexToIndex(v,S)),s.push(d),s.push(this._vertexToIndex(x,S)),s.push(this._vertexToIndex(v,S))):(s.push(d),s.push(c),s.push(this._vertexToIndex(v,S)),s.push(this._vertexToIndex(x,S)),s.push(d),s.push(this._vertexToIndex(v,S)))}_fillPoles(s,c,d){let v=this._vertexBuffer,x=at,S=s.length;for(let T=2;T<S;T+=3){let P=s[T-2],D=s[T-1],L=s[T],B=v[2*P],G=v[2*P+1],Z=v[2*D],K=v[2*D+1],te=v[2*L],le=v[2*L+1];c&&(G===0&&K===0&&this._generatePoleQuad(s,P,D,B,Z,ty),K===0&&le===0&&this._generatePoleQuad(s,D,L,Z,te,ty),le===0&&G===0&&this._generatePoleQuad(s,L,P,te,B,ty)),d&&(G===x&&K===x&&this._generatePoleQuad(s,P,D,B,Z,Cb),K===x&&le===x&&this._generatePoleQuad(s,D,L,Z,te,Cb),le===x&&G===x&&this._generatePoleQuad(s,L,P,te,B,Cb))}}_initializeVertices(s){for(let c=0;c<s.length;c+=2)this._vertexToIndex(s[c],s[c+1])}subdividePolygonInternal(s,c){if(this._used)throw new Error("Subdivision: multiple use not allowed.");this._used=!0;let{flattened:d,holeIndices:v}=function(T){let P=[],D=[];for(let L of T)if(L.length!==0){L!==T[0]&&P.push(D.length/2);for(let B=0;B<L.length;B++)D.push(L[B].x),D.push(L[B].y)}return{flattened:D,holeIndices:P}}(s),x;this._initializeVertices(d);try{let T=function(D,L,B=2){let G=L&&L.length,Z=G?L[0]*B:D.length,K=SQ(D,0,Z,B,!0),te=[];if(!K||K.next===K.prev)return te;let le,me,De;if(G&&(K=function(ye,W,ae,be){let $e=[];for(let pt=0,We=W.length;pt<We;pt++){let et=SQ(ye,W[pt]*be,pt<We-1?W[pt+1]*be:ye.length,be,!1);et===et.next&&(et.steiner=!0),$e.push(T$e(et))}$e.sort(S$e);for(let pt=0;pt<$e.length;pt++)ae=I$e($e[pt],ae);return ae}(D,L,K,B)),D.length>80*B){le=1/0,me=1/0;let ye=-1/0,W=-1/0;for(let ae=B;ae<Z;ae+=B){let be=D[ae],$e=D[ae+1];be<le&&(le=be),$e<me&&(me=$e),be>ye&&(ye=be),$e>W&&(W=$e)}De=Math.max(ye-le,W-me),De=De!==0?32767/De:0}return Ib(K,te,B,le,me,De,0),te}(d,v),P=this._convertIndices(d,T);x=this._subdivideTrianglesScanline(P)}catch(T){console.error(T)}let S=[];return c&&(S=this._generateOutline(s)),this._ensureNoPoleVertices(),this._handlePoles(x),{verticesFlattened:this._vertexBuffer,indicesTriangles:x,indicesLineList:S}}_convertIndices(s,c){let d=[];for(let v=0;v<c.length;v++)d.push(this._vertexToIndex(s[2*c[v]],s[2*c[v]+1]));return d}_pointArrayToIndices(s){let c=[];for(let d=0;d<s.length;d++){let v=s[d];c.push(this._vertexToIndex(v.x,v.y))}return c}}function CQ(p,s,c,d=!0){return new C$e(c,s).subdividePolygonInternal(p,d)}function Am(p,s,c=!1){if(!p||p.length<1)return[];if(p.length<2)return[];let d=p[0],v=p[p.length-1],x=c&&(d.x!==v.x||d.y!==v.y);if(s<2)return x?[...p,p[0]]:[...p];let S=Math.floor(at/s),T=[];T.push(new M(p[0].x,p[0].y));let P=p.length,D=x?P:P-1;for(let L=0;L<D;L++){let B=p[L],G=L<P-1?p[L+1]:p[0],Z=B.x,K=B.y,te=G.x,le=G.y,me=Z!==te,De=K!==le;if(!me&&!De)continue;let ye=te-Z,W=le-K,ae=Math.abs(ye),be=Math.abs(W),$e=Z,pt=K;for(;;){let et=ye>0?(Math.floor($e/S)+1)*S:(Math.ceil($e/S)-1)*S,_t=W>0?(Math.floor(pt/S)+1)*S:(Math.ceil(pt/S)-1)*S,ft=Math.abs($e-et),bt=Math.abs(pt-_t),ot=Math.abs($e-te),Gt=Math.abs(pt-le),pr=me?ft/ae:Number.POSITIVE_INFINITY,sr=De?bt/be:Number.POSITIVE_INFINITY;if((ot<=ft||!me)&&(Gt<=bt||!De))break;if(pr<sr&&me||!De){$e=et,pt+=W*pr;let Xt=new M($e,Math.round(pt));T[T.length-1].x===Xt.x&&T[T.length-1].y===Xt.y||T.push(Xt)}else{$e+=ye*sr,pt=_t;let Xt=new M(Math.round($e),pt);T[T.length-1].x===Xt.x&&T[T.length-1].y===Xt.y||T.push(Xt)}}let We=new M(te,le);T[T.length-1].x===We.x&&T[T.length-1].y===We.y||T.push(We)}return T}function A$e(p,s,c){if(s.length===0)throw new Error("Subdivision vertex ring is empty.");let d=0,v=p[2*s[0]];for(let P=1;P<s.length;P++){let D=p[2*s[P]];D<v&&(v=D,d=P)}let x=s.length,S=d,T=(S+1)%x;for(;;){let P=S-1>=0?S-1:x-1,D=(T+1)%x,L=p[2*s[P]],B=p[2*s[D]],G=p[2*s[S]],Z=p[2*s[S]+1],K=p[2*s[T]+1],te=!1;if(L<B)te=!0;else if(L>B)te=!1;else{let le=K-Z,me=-(p[2*s[T]]-G),De=Z<K?1:-1;((L-G)*le+(p[2*s[P]+1]-Z)*me)*De>((B-G)*le+(p[2*s[D]+1]-Z)*me)*De&&(te=!0)}if(te){let le=s[P],me=s[S],De=s[T];le!==me&&le!==De&&me!==De&&c.push(De,me,le),S--,S<0&&(S=x-1)}else{let le=s[D],me=s[S],De=s[T];le!==me&&le!==De&&me!==De&&c.push(De,me,le),T++,T>=x&&(T=0)}if(P===D)break}}function AQ(p,s,c,d,v,x,S,T,P){let D=v.length/2,L=S&&T&&P;if(D<vn.MAX_VERTEX_ARRAY_LENGTH){let B=s.prepareSegment(D,c,d),G=B.vertexLength;for(let te=0;te<x.length;te+=3)d.emplaceBack(G+x[te],G+x[te+1],G+x[te+2]);let Z,K;B.vertexLength+=D,B.primitiveLength+=x.length/3,L&&(K=S.prepareSegment(D,c,T),Z=K.vertexLength,K.vertexLength+=D);for(let te=0;te<v.length;te+=2)p(v[te],v[te+1]);if(L)for(let te=0;te<P.length;te++){let le=P[te];for(let me=1;me<le.length;me+=2)T.emplaceBack(Z+le[me-1],Z+le[me]);K.primitiveLength+=le.length/2}}else(function(B,G,Z,K,te,le){let me=[];for(let be=0;be<K.length/2;be++)me.push(-1);let De={count:0},ye=0,W=B.getOrCreateLatestSegment(G,Z),ae=W.vertexLength;for(let be=2;be<te.length;be+=3){let $e=te[be-2],pt=te[be-1],We=te[be],et=me[$e]<ye,_t=me[pt]<ye,ft=me[We]<ye;W.vertexLength+((et?1:0)+(_t?1:0)+(ft?1:0))>vn.MAX_VERTEX_ARRAY_LENGTH&&(W=B.createNewSegment(G,Z),ye=De.count,et=!0,_t=!0,ft=!0,ae=0);let bt=Ab(me,K,le,De,$e,et,W),ot=Ab(me,K,le,De,pt,_t,W),Gt=Ab(me,K,le,De,We,ft,W);Z.emplaceBack(ae+bt-ye,ae+ot-ye,ae+Gt-ye),W.primitiveLength++}})(s,c,d,v,x,p),L&&function(B,G,Z,K,te,le){let me=[];for(let be=0;be<K.length/2;be++)me.push(-1);let De={count:0},ye=0,W=B.getOrCreateLatestSegment(G,Z),ae=W.vertexLength;for(let be=0;be<te.length;be++){let $e=te[be];for(let pt=1;pt<te[be].length;pt+=2){let We=$e[pt-1],et=$e[pt],_t=me[We]<ye,ft=me[et]<ye;W.vertexLength+((_t?1:0)+(ft?1:0))>vn.MAX_VERTEX_ARRAY_LENGTH&&(W=B.createNewSegment(G,Z),ye=De.count,_t=!0,ft=!0,ae=0);let bt=Ab(me,K,le,De,We,_t,W),ot=Ab(me,K,le,De,et,ft,W);Z.emplaceBack(ae+bt-ye,ae+ot-ye),W.primitiveLength++}}}(S,c,T,v,P,p),s.forceNewSegmentOnNextPrepare(),S==null||S.forceNewSegmentOnNextPrepare()}function Ab(p,s,c,d,v,x,S){if(x){let T=d.count;return c(s[2*v],s[2*v+1]),p[v]=d.count,d.count++,S.vertexLength++,T}return p[v]}class S6{constructor(s){this.zoom=s.zoom,this.overscaling=s.overscaling,this.layers=s.layers,this.layerIds=this.layers.map(c=>c.id),this.index=s.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Et,this.indexArray=new gn,this.indexArray2=new Xi,this.programConfigurations=new _c(s.layers,s.zoom),this.segments=new vn,this.segments2=new vn,this.stateDependentLayerIds=this.layers.filter(c=>c.isStateDependent()).map(c=>c.id)}populate(s,c,d){this.hasPattern=_6("fill",this.layers,c);let v=this.layers[0].layout.get("fill-sort-key"),x=!v.isConstant(),S=[];for(let{feature:T,id:P,index:D,sourceLayerIndex:L}of s){let B=this.layers[0]._featureFilter.needGeometry,G=Tm(T,B);if(!this.layers[0]._featureFilter.filter(new Qn(this.zoom),G,d))continue;let Z=x?v.evaluate(G,{},d,c.availableImages):void 0,K={id:P,properties:T.properties,type:T.type,sourceLayerIndex:L,index:D,geometry:B?G.geometry:Em(T),patterns:{},sortKey:Z};S.push(K)}x&&S.sort((T,P)=>T.sortKey-P.sortKey);for(let T of S){let{geometry:P,index:D,sourceLayerIndex:L}=T;if(this.hasPattern){let B=b6("fill",this.layers,T,this.zoom,c);this.patternFeatures.push(B)}else this.addFeature(T,P,D,d,{},c.subdivisionGranularity);c.featureIndex.insert(s[D].feature,P,D,L,this.index)}}update(s,c,d){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(s,c,this.stateDependentLayers,d)}addFeatures(s,c,d){for(let v of this.patternFeatures)this.addFeature(v,v.geometry,v.index,c,d,s.subdivisionGranularity)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(s){this.uploaded||(this.layoutVertexBuffer=s.createVertexBuffer(this.layoutVertexArray,y$e),this.indexBuffer=s.createIndexBuffer(this.indexArray),this.indexBuffer2=s.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(s),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(s,c,d,v,x,S){for(let T of Sv(c,500)){let P=CQ(T,v,S.fill.getGranularityForZoomLevel(v.z)),D=this.layoutVertexArray;AQ((L,B)=>{D.emplaceBack(L,B)},this.segments,this.layoutVertexArray,this.indexArray,P.verticesFlattened,P.indicesTriangles,this.segments2,this.indexArray2,P.indicesLineList)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,s,d,x,v)}}let PQ,OQ;$t("FillBucket",S6,{omit:["layers","patternFeatures"]});var P$e={get paint(){return OQ=OQ||new ji({"fill-antialias":new Qt(J.paint_fill["fill-antialias"]),"fill-opacity":new mr(J.paint_fill["fill-opacity"]),"fill-color":new mr(J.paint_fill["fill-color"]),"fill-outline-color":new mr(J.paint_fill["fill-outline-color"]),"fill-translate":new Qt(J.paint_fill["fill-translate"]),"fill-translate-anchor":new Qt(J.paint_fill["fill-translate-anchor"]),"fill-pattern":new bm(J.paint_fill["fill-pattern"])})},get layout(){return PQ=PQ||new ji({"fill-sort-key":new mr(J.layout_fill["fill-sort-key"])})}};class O$e extends Cs{constructor(s){super(s,P$e)}recalculate(s,c){super.recalculate(s,c);let d=this.paint._values["fill-outline-color"];d.value.kind==="constant"&&d.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(s){return new S6(s)}queryRadius(){return sT(this.paint.get("fill-translate"))}queryIntersectsFeature({queryGeometry:s,geometry:c,transform:d,pixelsToTileUnits:v}){return fQ(lT(s,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),-d.bearingInRadians,v),c)}isTileClipped(){return!0}}let D$e=ui([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),N$e=ui([{name:"a_centroid",components:2,type:"Int16"}],4),{members:k$e}=D$e;var I6,DQ,E6,NQ,T6,kQ,LQ,fT={};function RQ(){if(DQ)return I6;DQ=1;var p=y();function s(v,x,S,T,P){this.properties={},this.extent=S,this.type=0,this._pbf=v,this._geometry=-1,this._keys=T,this._values=P,v.readFields(c,this,x)}function c(v,x,S){v==1?x.id=S.readVarint():v==2?function(T,P){for(var D=T.readVarint()+T.pos;T.pos<D;){var L=P._keys[T.readVarint()],B=P._values[T.readVarint()];P.properties[L]=B}}(S,x):v==3?x.type=S.readVarint():v==4&&(x._geometry=S.pos)}function d(v){for(var x,S,T=0,P=0,D=v.length,L=D-1;P<D;L=P++)T+=((S=v[L]).x-(x=v[P]).x)*(x.y+S.y);return T}return I6=s,s.types=["Unknown","Point","LineString","Polygon"],s.prototype.loadGeometry=function(){var v=this._pbf;v.pos=this._geometry;for(var x,S=v.readVarint()+v.pos,T=1,P=0,D=0,L=0,B=[];v.pos<S;){if(P<=0){var G=v.readVarint();T=7&G,P=G>>3}if(P--,T===1||T===2)D+=v.readSVarint(),L+=v.readSVarint(),T===1&&(x&&B.push(x),x=[]),x.push(new p(D,L));else{if(T!==7)throw new Error("unknown command "+T);x&&x.push(x[0].clone())}}return x&&B.push(x),B},s.prototype.bbox=function(){var v=this._pbf;v.pos=this._geometry;for(var x=v.readVarint()+v.pos,S=1,T=0,P=0,D=0,L=1/0,B=-1/0,G=1/0,Z=-1/0;v.pos<x;){if(T<=0){var K=v.readVarint();S=7&K,T=K>>3}if(T--,S===1||S===2)(P+=v.readSVarint())<L&&(L=P),P>B&&(B=P),(D+=v.readSVarint())<G&&(G=D),D>Z&&(Z=D);else if(S!==7)throw new Error("unknown command "+S)}return[L,G,B,Z]},s.prototype.toGeoJSON=function(v,x,S){var T,P,D=this.extent*Math.pow(2,S),L=this.extent*v,B=this.extent*x,G=this.loadGeometry(),Z=s.types[this.type];function K(me){for(var De=0;De<me.length;De++){var ye=me[De];me[De]=[360*(ye.x+L)/D-180,360/Math.PI*Math.atan(Math.exp((180-360*(ye.y+B)/D)*Math.PI/180))-90]}}switch(this.type){case 1:var te=[];for(T=0;T<G.length;T++)te[T]=G[T][0];K(G=te);break;case 2:for(T=0;T<G.length;T++)K(G[T]);break;case 3:for(G=function(me){var De=me.length;if(De<=1)return[me];for(var ye,W,ae=[],be=0;be<De;be++){var $e=d(me[be]);$e!==0&&(W===void 0&&(W=$e<0),W===$e<0?(ye&&ae.push(ye),ye=[me[be]]):ye.push(me[be]))}return ye&&ae.push(ye),ae}(G),T=0;T<G.length;T++)for(P=0;P<G[T].length;P++)K(G[T][P])}G.length===1?G=G[0]:Z="Multi"+Z;var le={type:"Feature",geometry:{type:Z,coordinates:G},properties:this.properties};return"id"in this&&(le.id=this.id),le},I6}function qQ(){if(NQ)return E6;NQ=1;var p=RQ();function s(d,v){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=d,this._keys=[],this._values=[],this._features=[],d.readFields(c,this,v),this.length=this._features.length}function c(d,v,x){d===15?v.version=x.readVarint():d===1?v.name=x.readString():d===5?v.extent=x.readVarint():d===2?v._features.push(x.pos):d===3?v._keys.push(x.readString()):d===4&&v._values.push(function(S){for(var T=null,P=S.readVarint()+S.pos;S.pos<P;){var D=S.readVarint()>>3;T=D===1?S.readString():D===2?S.readFloat():D===3?S.readDouble():D===4?S.readVarint64():D===5?S.readVarint():D===6?S.readSVarint():D===7?S.readBoolean():null}return T}(x))}return E6=s,s.prototype.feature=function(d){if(d<0||d>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[d];var v=this._pbf.readVarint()+this._pbf.pos;return new p(this._pbf,v,this.extent,this._keys,this._values)},E6}function zQ(){return LQ||(LQ=1,fT.VectorTile=function(){if(kQ)return T6;kQ=1;var p=qQ();function s(c,d,v){if(c===3){var x=new p(v,v.readVarint()+v.pos);x.length&&(d[x.name]=x)}}return T6=function(c,d){this.layers=c.readFields(s,{},d)},T6}(),fT.VectorTileFeature=RQ(),fT.VectorTileLayer=qQ()),fT}var Pb=u(zQ());let L$e=Pb.VectorTileFeature.types,M6=Math.pow(2,13);function Ob(p,s,c,d,v,x,S,T){p.emplaceBack(s,c,2*Math.floor(d*M6)+S,v*M6*2,x*M6*2,Math.round(T))}class C6{constructor(s){this.zoom=s.zoom,this.overscaling=s.overscaling,this.layers=s.layers,this.layerIds=this.layers.map(c=>c.id),this.index=s.index,this.hasPattern=!1,this.layoutVertexArray=new ht,this.centroidVertexArray=new Je,this.indexArray=new gn,this.programConfigurations=new _c(s.layers,s.zoom),this.segments=new vn,this.stateDependentLayerIds=this.layers.filter(c=>c.isStateDependent()).map(c=>c.id)}populate(s,c,d){this.features=[],this.hasPattern=_6("fill-extrusion",this.layers,c);for(let{feature:v,id:x,index:S,sourceLayerIndex:T}of s){let P=this.layers[0]._featureFilter.needGeometry,D=Tm(v,P);if(!this.layers[0]._featureFilter.filter(new Qn(this.zoom),D,d))continue;let L={id:x,sourceLayerIndex:T,index:S,geometry:P?D.geometry:Em(v),properties:v.properties,type:v.type,patterns:{}};this.hasPattern?this.features.push(b6("fill-extrusion",this.layers,L,this.zoom,c)):this.addFeature(L,L.geometry,S,d,{},c.subdivisionGranularity),c.featureIndex.insert(v,L.geometry,S,T,this.index,!0)}}addFeatures(s,c,d){for(let v of this.features){let{geometry:x}=v;this.addFeature(v,x,v.index,c,d,s.subdivisionGranularity)}}update(s,c,d){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(s,c,this.stateDependentLayers,d)}isEmpty(){return this.layoutVertexArray.length===0&&this.centroidVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(s){this.uploaded||(this.layoutVertexBuffer=s.createVertexBuffer(this.layoutVertexArray,k$e),this.centroidVertexBuffer=s.createVertexBuffer(this.centroidVertexArray,N$e.members,!0),this.indexBuffer=s.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(s),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.centroidVertexBuffer.destroy())}addFeature(s,c,d,v,x,S){for(let T of Sv(c,500)){let P={x:0,y:0,sampleCount:0},D=this.layoutVertexArray.length;this.processPolygon(P,v,s,T,S);let L=this.layoutVertexArray.length-D,B=Math.floor(P.x/P.sampleCount),G=Math.floor(P.y/P.sampleCount);for(let Z=0;Z<L;Z++)this.centroidVertexArray.emplaceBack(B,G)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,s,d,x,v)}processPolygon(s,c,d,v,x){if(v.length<1||jQ(v[0]))return;for(let B of v)B.length!==0&&R$e(s,B);let S={segment:this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray)},T=x.fill.getGranularityForZoomLevel(c.z),P=L$e[d.type]==="Polygon";for(let B of v){if(B.length===0||jQ(B))continue;let G=Am(B,T,P);this._generateSideFaces(G,S)}if(!P)return;let D=CQ(v,c,T,!1),L=this.layoutVertexArray;AQ((B,G)=>{Ob(L,B,G,0,0,1,1,0)},this.segments,this.layoutVertexArray,this.indexArray,D.verticesFlattened,D.indicesTriangles)}_generateSideFaces(s,c){let d=0;for(let v=1;v<s.length;v++){let x=s[v],S=s[v-1];if(q$e(x,S))continue;c.segment.vertexLength+4>vn.MAX_VERTEX_ARRAY_LENGTH&&(c.segment=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));let T=x.sub(S)._perp()._unit(),P=S.dist(x);d+P>32768&&(d=0),Ob(this.layoutVertexArray,x.x,x.y,T.x,T.y,0,0,d),Ob(this.layoutVertexArray,x.x,x.y,T.x,T.y,0,1,d),d+=P,Ob(this.layoutVertexArray,S.x,S.y,T.x,T.y,0,0,d),Ob(this.layoutVertexArray,S.x,S.y,T.x,T.y,0,1,d);let D=c.segment.vertexLength;this.indexArray.emplaceBack(D,D+2,D+1),this.indexArray.emplaceBack(D+1,D+2,D+3),c.segment.vertexLength+=4,c.segment.primitiveLength+=2}}}function R$e(p,s){for(let c=0;c<s.length;c++){let d=s[c];c===s.length-1&&s[0].x===d.x&&s[0].y===d.y||(p.x+=d.x,p.y+=d.y,p.sampleCount++)}}function q$e(p,s){return p.x===s.x&&(p.x<0||p.x>at)||p.y===s.y&&(p.y<0||p.y>at)}function jQ(p){return p.every(s=>s.x<0)||p.every(s=>s.x>at)||p.every(s=>s.y<0)||p.every(s=>s.y>at)}let FQ;$t("FillExtrusionBucket",C6,{omit:["layers","features"]});var z$e={get paint(){return FQ=FQ||new ji({"fill-extrusion-opacity":new Qt(J["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new mr(J["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Qt(J["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Qt(J["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new bm(J["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new mr(J["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new mr(J["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Qt(J["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})}};class j$e extends Cs{constructor(s){super(s,z$e)}createBucket(s){return new C6(s)}queryRadius(){return sT(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}queryIntersectsFeature({queryGeometry:s,feature:c,featureState:d,geometry:v,transform:x,pixelsToTileUnits:S,pixelPosMatrix:T}){let P=lT(s,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),-x.bearingInRadians,S),D=this.paint.get("fill-extrusion-height").evaluate(c,d),L=this.paint.get("fill-extrusion-base").evaluate(c,d),B=function(Z,K,te){let le=[];for(let me of Z){let De=[me.x,me.y,0,1];Ne(De,De,K),le.push(new M(De[0]/De[3],De[1]/De[3]))}return le}(P,T),G=function(Z,K,te,le){let me=[],De=[],ye=le[8]*K,W=le[9]*K,ae=le[10]*K,be=le[11]*K,$e=le[8]*te,pt=le[9]*te,We=le[10]*te,et=le[11]*te;for(let _t of Z){let ft=[],bt=[];for(let ot of _t){let Gt=ot.x,pr=ot.y,sr=le[0]*Gt+le[4]*pr+le[12],Xt=le[1]*Gt+le[5]*pr+le[13],en=le[2]*Gt+le[6]*pr+le[14],wi=le[3]*Gt+le[7]*pr+le[15],Ji=en+ae,jo=wi+be,ll=sr+$e,ss=Xt+pt,Eo=en+We,di=wi+et,fo=new M((sr+ye)/jo,(Xt+W)/jo);fo.z=Ji/jo,ft.push(fo);let To=new M(ll/di,ss/di);To.z=Eo/di,bt.push(To)}me.push(ft),De.push(bt)}return[me,De]}(v,L,D,T);return function(Z,K,te){let le=1/0;fQ(te,K)&&(le=BQ(te,K[0]));for(let me=0;me<K.length;me++){let De=K[me],ye=Z[me];for(let W=0;W<De.length-1;W++){let ae=De[W],be=[ae,De[W+1],ye[W+1],ye[W],ae];pQ(te,be)&&(le=Math.min(le,BQ(te,be)))}}return le!==1/0&&le}(G[0],G[1],B)}}function Db(p,s){return p.x*s.x+p.y*s.y}function BQ(p,s){if(p.length===1){let c=0,d=s[c++],v;for(;!v||d.equals(v);)if(v=s[c++],!v)return 1/0;for(;c<s.length;c++){let x=s[c],S=p[0],T=v.sub(d),P=x.sub(d),D=S.sub(d),L=Db(T,T),B=Db(T,P),G=Db(P,P),Z=Db(D,T),K=Db(D,P),te=L*G-B*B,le=(G*Z-B*K)/te,me=(L*K-B*Z)/te,De=d.z*(1-le-me)+v.z*le+x.z*me;if(isFinite(De))return De}return 1/0}{let c=1/0;for(let d of s)c=Math.min(c,d.z);return c}}let F$e=ui([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),{members:B$e}=F$e,U$e=ui([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),{members:V$e}=U$e,$$e=Pb.VectorTileFeature.types,G$e=Math.cos(Math.PI/180*37.5),UQ=Math.pow(2,14)/.5;class A6{constructor(s){this.zoom=s.zoom,this.overscaling=s.overscaling,this.layers=s.layers,this.layerIds=this.layers.map(c=>c.id),this.index=s.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(c=>{this.gradients[c.id]={}}),this.layoutVertexArray=new Kt,this.layoutVertexArray2=new qr,this.indexArray=new gn,this.programConfigurations=new _c(s.layers,s.zoom),this.segments=new vn,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(c=>c.isStateDependent()).map(c=>c.id)}populate(s,c,d){this.hasPattern=_6("line",this.layers,c);let v=this.layers[0].layout.get("line-sort-key"),x=!v.isConstant(),S=[];for(let{feature:T,id:P,index:D,sourceLayerIndex:L}of s){let B=this.layers[0]._featureFilter.needGeometry,G=Tm(T,B);if(!this.layers[0]._featureFilter.filter(new Qn(this.zoom),G,d))continue;let Z=x?v.evaluate(G,{},d):void 0,K={id:P,properties:T.properties,type:T.type,sourceLayerIndex:L,index:D,geometry:B?G.geometry:Em(T),patterns:{},sortKey:Z};S.push(K)}x&&S.sort((T,P)=>T.sortKey-P.sortKey);for(let T of S){let{geometry:P,index:D,sourceLayerIndex:L}=T;if(this.hasPattern){let B=b6("line",this.layers,T,this.zoom,c);this.patternFeatures.push(B)}else this.addFeature(T,P,D,d,{},c.subdivisionGranularity);c.featureIndex.insert(s[D].feature,P,D,L,this.index)}}update(s,c,d){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(s,c,this.stateDependentLayers,d)}addFeatures(s,c,d){for(let v of this.patternFeatures)this.addFeature(v,v.geometry,v.index,c,d,s.subdivisionGranularity)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(s){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=s.createVertexBuffer(this.layoutVertexArray2,V$e)),this.layoutVertexBuffer=s.createVertexBuffer(this.layoutVertexArray,B$e),this.indexBuffer=s.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(s),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(s){if(s.properties&&Object.prototype.hasOwnProperty.call(s.properties,"mapbox_clip_start")&&Object.prototype.hasOwnProperty.call(s.properties,"mapbox_clip_end"))return{start:+s.properties.mapbox_clip_start,end:+s.properties.mapbox_clip_end}}addFeature(s,c,d,v,x,S){let T=this.layers[0].layout,P=T.get("line-join").evaluate(s,{}),D=T.get("line-cap"),L=T.get("line-miter-limit"),B=T.get("line-round-limit");this.lineClips=this.lineFeatureClips(s);for(let G of c)this.addLine(G,s,P,D,L,B,v,S);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,s,d,x,v)}addLine(s,c,d,v,x,S,T,P){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,s=Am(s,T?P.line.getGranularityForZoomLevel(T.z):1),this.lineClips){this.lineClipsArray.push(this.lineClips);for(let ye=0;ye<s.length-1;ye++)this.totalDistance+=s[ye].dist(s[ye+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}let D=$$e[c.type]==="Polygon",L=s.length;for(;L>=2&&s[L-1].equals(s[L-2]);)L--;let B=0;for(;B<L-1&&s[B].equals(s[B+1]);)B++;if(L<(D?3:2))return;d==="bevel"&&(x=1.05);let G=this.overscaling<=16?15*at/(512*this.overscaling):0,Z=this.segments.prepareSegment(10*L,this.layoutVertexArray,this.indexArray),K,te,le,me,De;this.e1=this.e2=-1,D&&(K=s[L-2],De=s[B].sub(K)._unit()._perp());for(let ye=B;ye<L;ye++){if(le=ye===L-1?D?s[B+1]:void 0:s[ye+1],le&&s[ye].equals(le))continue;De&&(me=De),K&&(te=K),K=s[ye],De=le?le.sub(K)._unit()._perp():me,me=me||De;let W=me.add(De);W.x===0&&W.y===0||W._unit();let ae=me.x*De.x+me.y*De.y,be=W.x*De.x+W.y*De.y,$e=be!==0?1/be:1/0,pt=2*Math.sqrt(2-2*be),We=be<G$e&&te&&le,et=me.x*De.y-me.y*De.x>0;if(We&&ye>B){let bt=K.dist(te);if(bt>2*G){let ot=K.sub(K.sub(te)._mult(G/bt)._round());this.updateDistance(te,ot),this.addCurrentVertex(ot,me,0,0,Z),te=ot}}let _t=te&&le,ft=_t?d:D?"butt":v;if(_t&&ft==="round"&&($e<S?ft="miter":$e<=2&&(ft="fakeround")),ft==="miter"&&$e>x&&(ft="bevel"),ft==="bevel"&&($e>2&&(ft="flipbevel"),$e<x&&(ft="miter")),te&&this.updateDistance(te,K),ft==="miter")W._mult($e),this.addCurrentVertex(K,W,0,0,Z);else if(ft==="flipbevel"){if($e>100)W=De.mult(-1);else{let bt=$e*me.add(De).mag()/me.sub(De).mag();W._perp()._mult(bt*(et?-1:1))}this.addCurrentVertex(K,W,0,0,Z),this.addCurrentVertex(K,W.mult(-1),0,0,Z)}else if(ft==="bevel"||ft==="fakeround"){let bt=-Math.sqrt($e*$e-1),ot=et?bt:0,Gt=et?0:bt;if(te&&this.addCurrentVertex(K,me,ot,Gt,Z),ft==="fakeround"){let pr=Math.round(180*pt/Math.PI/20);for(let sr=1;sr<pr;sr++){let Xt=sr/pr;if(Xt!==.5){let wi=Xt-.5;Xt+=Xt*wi*(Xt-1)*((1.0904+ae*(ae*(3.55645-1.43519*ae)-3.2452))*wi*wi+(.848013+ae*(.215638*ae-1.06021)))}let en=De.sub(me)._mult(Xt)._add(me)._unit()._mult(et?-1:1);this.addHalfVertex(K,en.x,en.y,!1,et,0,Z)}}le&&this.addCurrentVertex(K,De,-ot,-Gt,Z)}else if(ft==="butt")this.addCurrentVertex(K,W,0,0,Z);else if(ft==="square"){let bt=te?1:-1;this.addCurrentVertex(K,W,bt,bt,Z)}else ft==="round"&&(te&&(this.addCurrentVertex(K,me,0,0,Z),this.addCurrentVertex(K,me,1,1,Z,!0)),le&&(this.addCurrentVertex(K,De,-1,-1,Z,!0),this.addCurrentVertex(K,De,0,0,Z)));if(We&&ye<L-1){let bt=K.dist(le);if(bt>2*G){let ot=K.add(le.sub(K)._mult(G/bt)._round());this.updateDistance(K,ot),this.addCurrentVertex(ot,De,0,0,Z),K=ot}}}}addCurrentVertex(s,c,d,v,x,S=!1){let T=c.y*v-c.x,P=-c.y-c.x*v;this.addHalfVertex(s,c.x+c.y*d,c.y-c.x*d,S,!1,d,x),this.addHalfVertex(s,T,P,S,!0,-v,x),this.distance>UQ/2&&this.totalDistance===0&&(this.distance=0,this.updateScaledDistance(),this.addCurrentVertex(s,c,d,v,x,S))}addHalfVertex({x:s,y:c},d,v,x,S,T,P){let D=.5*(this.lineClips?this.scaledDistance*(UQ-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((s<<1)+(x?1:0),(c<<1)+(S?1:0),Math.round(63*d)+128,Math.round(63*v)+128,1+(T===0?0:T<0?-1:1)|(63&D)<<2,D>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);let L=P.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,L,this.e2),P.primitiveLength++),S?this.e2=L:this.e1=L}updateScaledDistance(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance}updateDistance(s,c){this.distance+=s.dist(c),this.updateScaledDistance()}}let VQ,$Q;$t("LineBucket",A6,{omit:["layers","patternFeatures"]});var GQ={get paint(){return $Q=$Q||new ji({"line-opacity":new mr(J.paint_line["line-opacity"]),"line-color":new mr(J.paint_line["line-color"]),"line-translate":new Qt(J.paint_line["line-translate"]),"line-translate-anchor":new Qt(J.paint_line["line-translate-anchor"]),"line-width":new mr(J.paint_line["line-width"]),"line-gap-width":new mr(J.paint_line["line-gap-width"]),"line-offset":new mr(J.paint_line["line-offset"]),"line-blur":new mr(J.paint_line["line-blur"]),"line-dasharray":new hb(J.paint_line["line-dasharray"]),"line-pattern":new bm(J.paint_line["line-pattern"]),"line-gradient":new mb(J.paint_line["line-gradient"])})},get layout(){return VQ=VQ||new ji({"line-cap":new Qt(J.layout_line["line-cap"]),"line-join":new mr(J.layout_line["line-join"]),"line-miter-limit":new Qt(J.layout_line["line-miter-limit"]),"line-round-limit":new Qt(J.layout_line["line-round-limit"]),"line-sort-key":new mr(J.layout_line["line-sort-key"])})}};class H$e extends mr{possiblyEvaluate(s,c){return c=new Qn(Math.floor(c.zoom),{now:c.now,fadeDuration:c.fadeDuration,zoomHistory:c.zoomHistory,transition:c.transition}),super.possiblyEvaluate(s,c)}evaluate(s,c,d,v){return c=Fe({},c,{zoom:Math.floor(c.zoom)}),super.evaluate(s,c,d,v)}}let dT;class W$e extends Cs{constructor(s){super(s,GQ),this.gradientVersion=0,dT||(dT=new H$e(GQ.paint.properties["line-width"].specification),dT.useIntegerZoom=!0)}_handleSpecialPaintPropertyUpdate(s){if(s==="line-gradient"){let c=this.gradientExpression();this.stepInterpolant=!!function(d){return d._styleExpression!==void 0}(c)&&c._styleExpression.expression instanceof pc,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(s,c){super.recalculate(s,c),this.paint._values["line-floorwidth"]=dT.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,s)}createBucket(s){return new A6(s)}queryRadius(s){let c=s,d=HQ(wb("line-width",this,c),wb("line-gap-width",this,c)),v=wb("line-offset",this,c);return d/2+Math.abs(v)+sT(this.paint.get("line-translate"))}queryIntersectsFeature({queryGeometry:s,feature:c,featureState:d,geometry:v,transform:x,pixelsToTileUnits:S}){let T=lT(s,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),-x.bearingInRadians,S),P=S/2*HQ(this.paint.get("line-width").evaluate(c,d),this.paint.get("line-gap-width").evaluate(c,d)),D=this.paint.get("line-offset").evaluate(c,d);return D&&(v=function(L,B){let G=[];for(let Z=0;Z<L.length;Z++){let K=L[Z],te=[];for(let le=0;le<K.length;le++){let me=K[le-1],De=K[le],ye=K[le+1],W=le===0?new M(0,0):De.sub(me)._unit()._perp(),ae=le===K.length-1?new M(0,0):ye.sub(De)._unit()._perp(),be=W._add(ae)._unit(),$e=be.x*ae.x+be.y*ae.y;$e!==0&&be._mult(1/$e),te.push(be._mult(B)._add(De))}G.push(te)}return G}(v,D*S)),function(L,B,G){for(let Z=0;Z<B.length;Z++){let K=B[Z];if(L.length>=3){for(let te=0;te<K.length;te++)if(Mm(L,K[te]))return!0}if(l$e(L,K,G))return!0}return!1}(T,v,P)}isTileClipped(){return!0}}function HQ(p,s){return s>0?s+2*p:p}let Z$e=ui([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),Y$e=ui([{name:"a_projected_pos",components:3,type:"Float32"}],4);ui([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);let K$e=ui([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"},{name:"a_box_real",components:2,type:"Int16"}]);ui([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);let WQ=ui([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),X$e=ui([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function Q$e(p,s,c){return p.sections.forEach(d=>{d.text=function(v,x,S){let T=x.layout.get("text-transform").evaluate(S,{});return T==="uppercase"?v=v.toLocaleUpperCase():T==="lowercase"&&(v=v.toLocaleLowerCase()),bu.applyArabicShaping&&(v=bu.applyArabicShaping(v)),v}(d.text,s,c)}),p}ui([{name:"triangle",components:3,type:"Uint16"}]),ui([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),ui([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",name:"collisionCircleDiameter"},{type:"Uint16",name:"textAnchorOffsetStartIndex"},{type:"Uint16",name:"textAnchorOffsetEndIndex"}]),ui([{type:"Float32",name:"offsetX"}]),ui([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]),ui([{type:"Uint16",name:"textAnchor"},{type:"Float32",components:2,name:"textOffset"}]);let Nb={"!":"\uFE15","#":"\uFF03",$:"\uFF04","%":"\uFF05","&":"\uFF06","(":"\uFE35",")":"\uFE36","*":"\uFF0A","+":"\uFF0B",",":"\uFE10","-":"\uFE32",".":"\u30FB","/":"\uFF0F",":":"\uFE13",";":"\uFE14","<":"\uFE3F","=":"\uFF1D",">":"\uFE40","?":"\uFE16","@":"\uFF20","[":"\uFE47","\\":"\uFF3C","]":"\uFE48","^":"\uFF3E",_:"\uFE33","`":"\uFF40","{":"\uFE37","|":"\u2015","}":"\uFE38","~":"\uFF5E","\xA2":"\uFFE0","\xA3":"\uFFE1","\xA5":"\uFFE5","\xA6":"\uFFE4","\xAC":"\uFFE2","\xAF":"\uFFE3","\u2013":"\uFE32","\u2014":"\uFE31","\u2018":"\uFE43","\u2019":"\uFE44","\u201C":"\uFE41","\u201D":"\uFE42","\u2026":"\uFE19","\u2027":"\u30FB","\u20A9":"\uFFE6","\u3001":"\uFE11","\u3002":"\uFE12","\u3008":"\uFE3F","\u3009":"\uFE40","\u300A":"\uFE3D","\u300B":"\uFE3E","\u300C":"\uFE41","\u300D":"\uFE42","\u300E":"\uFE43","\u300F":"\uFE44","\u3010":"\uFE3B","\u3011":"\uFE3C","\u3014":"\uFE39","\u3015":"\uFE3A","\u3016":"\uFE17","\u3017":"\uFE18","\uFF01":"\uFE15","\uFF08":"\uFE35","\uFF09":"\uFE36","\uFF0C":"\uFE10","\uFF0D":"\uFE32","\uFF0E":"\u30FB","\uFF1A":"\uFE13","\uFF1B":"\uFE14","\uFF1C":"\uFE3F","\uFF1E":"\uFE40","\uFF1F":"\uFE16","\uFF3B":"\uFE47","\uFF3D":"\uFE48","\uFF3F":"\uFE33","\uFF5B":"\uFE37","\uFF5C":"\u2015","\uFF5D":"\uFE38","\uFF5F":"\uFE35","\uFF60":"\uFE36","\uFF61":"\uFE12","\uFF62":"\uFE41","\uFF63":"\uFE42"};var ZQ,P6,YQ,Qi=24,O6={};function J$e(){return ZQ||(ZQ=1,O6.read=function(p,s,c,d,v){var x,S,T=8*v-d-1,P=(1<<T)-1,D=P>>1,L=-7,B=c?v-1:0,G=c?-1:1,Z=p[s+B];for(B+=G,x=Z&(1<<-L)-1,Z>>=-L,L+=T;L>0;x=256*x+p[s+B],B+=G,L-=8);for(S=x&(1<<-L)-1,x>>=-L,L+=d;L>0;S=256*S+p[s+B],B+=G,L-=8);if(x===0)x=1-D;else{if(x===P)return S?NaN:1/0*(Z?-1:1);S+=Math.pow(2,d),x-=D}return(Z?-1:1)*S*Math.pow(2,x-d)},O6.write=function(p,s,c,d,v,x){var S,T,P,D=8*x-v-1,L=(1<<D)-1,B=L>>1,G=v===23?Math.pow(2,-24)-Math.pow(2,-77):0,Z=d?0:x-1,K=d?1:-1,te=s<0||s===0&&1/s<0?1:0;for(s=Math.abs(s),isNaN(s)||s===1/0?(T=isNaN(s)?1:0,S=L):(S=Math.floor(Math.log(s)/Math.LN2),s*(P=Math.pow(2,-S))<1&&(S--,P*=2),(s+=S+B>=1?G/P:G*Math.pow(2,1-B))*P>=2&&(S++,P/=2),S+B>=L?(T=0,S=L):S+B>=1?(T=(s*P-1)*Math.pow(2,v),S+=B):(T=s*Math.pow(2,B-1)*Math.pow(2,v),S=0));v>=8;p[c+Z]=255&T,Z+=K,T/=256,v-=8);for(S=S<<v|T,D+=v;D>0;p[c+Z]=255&S,Z+=K,S/=256,D-=8);p[c+Z-K]|=128*te}),O6}function KQ(){if(YQ)return P6;YQ=1,P6=s;var p=J$e();function s(W){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(W)?W:new Uint8Array(W||0),this.pos=0,this.type=0,this.length=this.buf.length}s.Varint=0,s.Fixed64=1,s.Bytes=2,s.Fixed32=5;var c=4294967296,d=1/c,v=typeof TextDecoder=="undefined"?null:new TextDecoder("utf-8");function x(W){return W.type===s.Bytes?W.readVarint()+W.pos:W.pos+1}function S(W,ae,be){return be?4294967296*ae+(W>>>0):4294967296*(ae>>>0)+(W>>>0)}function T(W,ae,be){var $e=ae<=16383?1:ae<=2097151?2:ae<=268435455?3:Math.floor(Math.log(ae)/(7*Math.LN2));be.realloc($e);for(var pt=be.pos-1;pt>=W;pt--)be.buf[pt+$e]=be.buf[pt]}function P(W,ae){for(var be=0;be<W.length;be++)ae.writeVarint(W[be])}function D(W,ae){for(var be=0;be<W.length;be++)ae.writeSVarint(W[be])}function L(W,ae){for(var be=0;be<W.length;be++)ae.writeFloat(W[be])}function B(W,ae){for(var be=0;be<W.length;be++)ae.writeDouble(W[be])}function G(W,ae){for(var be=0;be<W.length;be++)ae.writeBoolean(W[be])}function Z(W,ae){for(var be=0;be<W.length;be++)ae.writeFixed32(W[be])}function K(W,ae){for(var be=0;be<W.length;be++)ae.writeSFixed32(W[be])}function te(W,ae){for(var be=0;be<W.length;be++)ae.writeFixed64(W[be])}function le(W,ae){for(var be=0;be<W.length;be++)ae.writeSFixed64(W[be])}function me(W,ae){return(W[ae]|W[ae+1]<<8|W[ae+2]<<16)+16777216*W[ae+3]}function De(W,ae,be){W[be]=ae,W[be+1]=ae>>>8,W[be+2]=ae>>>16,W[be+3]=ae>>>24}function ye(W,ae){return(W[ae]|W[ae+1]<<8|W[ae+2]<<16)+(W[ae+3]<<24)}return s.prototype={destroy:function(){this.buf=null},readFields:function(W,ae,be){for(be=be||this.length;this.pos<be;){var $e=this.readVarint(),pt=$e>>3,We=this.pos;this.type=7&$e,W(pt,ae,this),this.pos===We&&this.skip($e)}return ae},readMessage:function(W,ae){return this.readFields(W,ae,this.readVarint()+this.pos)},readFixed32:function(){var W=me(this.buf,this.pos);return this.pos+=4,W},readSFixed32:function(){var W=ye(this.buf,this.pos);return this.pos+=4,W},readFixed64:function(){var W=me(this.buf,this.pos)+me(this.buf,this.pos+4)*c;return this.pos+=8,W},readSFixed64:function(){var W=me(this.buf,this.pos)+ye(this.buf,this.pos+4)*c;return this.pos+=8,W},readFloat:function(){var W=p.read(this.buf,this.pos,!0,23,4);return this.pos+=4,W},readDouble:function(){var W=p.read(this.buf,this.pos,!0,52,8);return this.pos+=8,W},readVarint:function(W){var ae,be,$e=this.buf;return ae=127&(be=$e[this.pos++]),be<128?ae:(ae|=(127&(be=$e[this.pos++]))<<7,be<128?ae:(ae|=(127&(be=$e[this.pos++]))<<14,be<128?ae:(ae|=(127&(be=$e[this.pos++]))<<21,be<128?ae:function(pt,We,et){var _t,ft,bt=et.buf;if(_t=(112&(ft=bt[et.pos++]))>>4,ft<128||(_t|=(127&(ft=bt[et.pos++]))<<3,ft<128)||(_t|=(127&(ft=bt[et.pos++]))<<10,ft<128)||(_t|=(127&(ft=bt[et.pos++]))<<17,ft<128)||(_t|=(127&(ft=bt[et.pos++]))<<24,ft<128)||(_t|=(1&(ft=bt[et.pos++]))<<31,ft<128))return S(pt,_t,We);throw new Error("Expected varint not more than 10 bytes")}(ae|=(15&(be=$e[this.pos]))<<28,W,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var W=this.readVarint();return W%2==1?(W+1)/-2:W/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var W=this.readVarint()+this.pos,ae=this.pos;return this.pos=W,W-ae>=12&&v?function(be,$e,pt){return v.decode(be.subarray($e,pt))}(this.buf,ae,W):function(be,$e,pt){for(var We="",et=$e;et<pt;){var _t,ft,bt,ot=be[et],Gt=null,pr=ot>239?4:ot>223?3:ot>191?2:1;if(et+pr>pt)break;pr===1?ot<128&&(Gt=ot):pr===2?(192&(_t=be[et+1]))==128&&(Gt=(31&ot)<<6|63&_t)<=127&&(Gt=null):pr===3?(ft=be[et+2],(192&(_t=be[et+1]))==128&&(192&ft)==128&&((Gt=(15&ot)<<12|(63&_t)<<6|63&ft)<=2047||Gt>=55296&&Gt<=57343)&&(Gt=null)):pr===4&&(ft=be[et+2],bt=be[et+3],(192&(_t=be[et+1]))==128&&(192&ft)==128&&(192&bt)==128&&((Gt=(15&ot)<<18|(63&_t)<<12|(63&ft)<<6|63&bt)<=65535||Gt>=1114112)&&(Gt=null)),Gt===null?(Gt=65533,pr=1):Gt>65535&&(Gt-=65536,We+=String.fromCharCode(Gt>>>10&1023|55296),Gt=56320|1023&Gt),We+=String.fromCharCode(Gt),et+=pr}return We}(this.buf,ae,W)},readBytes:function(){var W=this.readVarint()+this.pos,ae=this.buf.subarray(this.pos,W);return this.pos=W,ae},readPackedVarint:function(W,ae){if(this.type!==s.Bytes)return W.push(this.readVarint(ae));var be=x(this);for(W=W||[];this.pos<be;)W.push(this.readVarint(ae));return W},readPackedSVarint:function(W){if(this.type!==s.Bytes)return W.push(this.readSVarint());var ae=x(this);for(W=W||[];this.pos<ae;)W.push(this.readSVarint());return W},readPackedBoolean:function(W){if(this.type!==s.Bytes)return W.push(this.readBoolean());var ae=x(this);for(W=W||[];this.pos<ae;)W.push(this.readBoolean());return W},readPackedFloat:function(W){if(this.type!==s.Bytes)return W.push(this.readFloat());var ae=x(this);for(W=W||[];this.pos<ae;)W.push(this.readFloat());return W},readPackedDouble:function(W){if(this.type!==s.Bytes)return W.push(this.readDouble());var ae=x(this);for(W=W||[];this.pos<ae;)W.push(this.readDouble());return W},readPackedFixed32:function(W){if(this.type!==s.Bytes)return W.push(this.readFixed32());var ae=x(this);for(W=W||[];this.pos<ae;)W.push(this.readFixed32());return W},readPackedSFixed32:function(W){if(this.type!==s.Bytes)return W.push(this.readSFixed32());var ae=x(this);for(W=W||[];this.pos<ae;)W.push(this.readSFixed32());return W},readPackedFixed64:function(W){if(this.type!==s.Bytes)return W.push(this.readFixed64());var ae=x(this);for(W=W||[];this.pos<ae;)W.push(this.readFixed64());return W},readPackedSFixed64:function(W){if(this.type!==s.Bytes)return W.push(this.readSFixed64());var ae=x(this);for(W=W||[];this.pos<ae;)W.push(this.readSFixed64());return W},skip:function(W){var ae=7&W;if(ae===s.Varint)for(;this.buf[this.pos++]>127;);else if(ae===s.Bytes)this.pos=this.readVarint()+this.pos;else if(ae===s.Fixed32)this.pos+=4;else{if(ae!==s.Fixed64)throw new Error("Unimplemented type: "+ae);this.pos+=8}},writeTag:function(W,ae){this.writeVarint(W<<3|ae)},realloc:function(W){for(var ae=this.length||16;ae<this.pos+W;)ae*=2;if(ae!==this.length){var be=new Uint8Array(ae);be.set(this.buf),this.buf=be,this.length=ae}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(W){this.realloc(4),De(this.buf,W,this.pos),this.pos+=4},writeSFixed32:function(W){this.realloc(4),De(this.buf,W,this.pos),this.pos+=4},writeFixed64:function(W){this.realloc(8),De(this.buf,-1&W,this.pos),De(this.buf,Math.floor(W*d),this.pos+4),this.pos+=8},writeSFixed64:function(W){this.realloc(8),De(this.buf,-1&W,this.pos),De(this.buf,Math.floor(W*d),this.pos+4),this.pos+=8},writeVarint:function(W){(W=+W||0)>268435455||W<0?function(ae,be){var $e,pt;if(ae>=0?($e=ae%4294967296|0,pt=ae/4294967296|0):(pt=~(-ae/4294967296),4294967295^($e=~(-ae%4294967296))?$e=$e+1|0:($e=0,pt=pt+1|0)),ae>=18446744073709552e3||ae<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");be.realloc(10),function(We,et,_t){_t.buf[_t.pos++]=127&We|128,We>>>=7,_t.buf[_t.pos++]=127&We|128,We>>>=7,_t.buf[_t.pos++]=127&We|128,We>>>=7,_t.buf[_t.pos++]=127&We|128,_t.buf[_t.pos]=127&(We>>>=7)}($e,0,be),function(We,et){var _t=(7&We)<<4;et.buf[et.pos++]|=_t|((We>>>=3)?128:0),We&&(et.buf[et.pos++]=127&We|((We>>>=7)?128:0),We&&(et.buf[et.pos++]=127&We|((We>>>=7)?128:0),We&&(et.buf[et.pos++]=127&We|((We>>>=7)?128:0),We&&(et.buf[et.pos++]=127&We|((We>>>=7)?128:0),We&&(et.buf[et.pos++]=127&We)))))}(pt,be)}(W,this):(this.realloc(4),this.buf[this.pos++]=127&W|(W>127?128:0),W<=127||(this.buf[this.pos++]=127&(W>>>=7)|(W>127?128:0),W<=127||(this.buf[this.pos++]=127&(W>>>=7)|(W>127?128:0),W<=127||(this.buf[this.pos++]=W>>>7&127))))},writeSVarint:function(W){this.writeVarint(W<0?2*-W-1:2*W)},writeBoolean:function(W){this.writeVarint(!!W)},writeString:function(W){W=String(W),this.realloc(4*W.length),this.pos++;var ae=this.pos;this.pos=function($e,pt,We){for(var et,_t,ft=0;ft<pt.length;ft++){if((et=pt.charCodeAt(ft))>55295&&et<57344){if(!_t){et>56319||ft+1===pt.length?($e[We++]=239,$e[We++]=191,$e[We++]=189):_t=et;continue}if(et<56320){$e[We++]=239,$e[We++]=191,$e[We++]=189,_t=et;continue}et=_t-55296<<10|et-56320|65536,_t=null}else _t&&($e[We++]=239,$e[We++]=191,$e[We++]=189,_t=null);et<128?$e[We++]=et:(et<2048?$e[We++]=et>>6|192:(et<65536?$e[We++]=et>>12|224:($e[We++]=et>>18|240,$e[We++]=et>>12&63|128),$e[We++]=et>>6&63|128),$e[We++]=63&et|128)}return We}(this.buf,W,this.pos);var be=this.pos-ae;be>=128&&T(ae,be,this),this.pos=ae-1,this.writeVarint(be),this.pos+=be},writeFloat:function(W){this.realloc(4),p.write(this.buf,W,this.pos,!0,23,4),this.pos+=4},writeDouble:function(W){this.realloc(8),p.write(this.buf,W,this.pos,!0,52,8),this.pos+=8},writeBytes:function(W){var ae=W.length;this.writeVarint(ae),this.realloc(ae);for(var be=0;be<ae;be++)this.buf[this.pos++]=W[be]},writeRawMessage:function(W,ae){this.pos++;var be=this.pos;W(ae,this);var $e=this.pos-be;$e>=128&&T(be,$e,this),this.pos=be-1,this.writeVarint($e),this.pos+=$e},writeMessage:function(W,ae,be){this.writeTag(W,s.Bytes),this.writeRawMessage(ae,be)},writePackedVarint:function(W,ae){ae.length&&this.writeMessage(W,P,ae)},writePackedSVarint:function(W,ae){ae.length&&this.writeMessage(W,D,ae)},writePackedBoolean:function(W,ae){ae.length&&this.writeMessage(W,G,ae)},writePackedFloat:function(W,ae){ae.length&&this.writeMessage(W,L,ae)},writePackedDouble:function(W,ae){ae.length&&this.writeMessage(W,B,ae)},writePackedFixed32:function(W,ae){ae.length&&this.writeMessage(W,Z,ae)},writePackedSFixed32:function(W,ae){ae.length&&this.writeMessage(W,K,ae)},writePackedFixed64:function(W,ae){ae.length&&this.writeMessage(W,te,ae)},writePackedSFixed64:function(W,ae){ae.length&&this.writeMessage(W,le,ae)},writeBytesField:function(W,ae){this.writeTag(W,s.Bytes),this.writeBytes(ae)},writeFixed32Field:function(W,ae){this.writeTag(W,s.Fixed32),this.writeFixed32(ae)},writeSFixed32Field:function(W,ae){this.writeTag(W,s.Fixed32),this.writeSFixed32(ae)},writeFixed64Field:function(W,ae){this.writeTag(W,s.Fixed64),this.writeFixed64(ae)},writeSFixed64Field:function(W,ae){this.writeTag(W,s.Fixed64),this.writeSFixed64(ae)},writeVarintField:function(W,ae){this.writeTag(W,s.Varint),this.writeVarint(ae)},writeSVarintField:function(W,ae){this.writeTag(W,s.Varint),this.writeSVarint(ae)},writeStringField:function(W,ae){this.writeTag(W,s.Bytes),this.writeString(ae)},writeFloatField:function(W,ae){this.writeTag(W,s.Fixed32),this.writeFloat(ae)},writeDoubleField:function(W,ae){this.writeTag(W,s.Fixed64),this.writeDouble(ae)},writeBooleanField:function(W,ae){this.writeVarintField(W,!!ae)}},P6}var D6=u(KQ());let N6=3;function eGe(p,s,c){p===1&&c.readMessage(tGe,s)}function tGe(p,s,c){if(p===3){let{id:d,bitmap:v,width:x,height:S,left:T,top:P,advance:D}=c.readMessage(rGe,{});s.push({id:d,bitmap:new Sb({width:x+2*N6,height:S+2*N6},v),metrics:{width:x,height:S,left:T,top:P,advance:D}})}}function rGe(p,s,c){p===1?s.id=c.readVarint():p===2?s.bitmap=c.readBytes():p===3?s.width=c.readVarint():p===4?s.height=c.readVarint():p===5?s.left=c.readSVarint():p===6?s.top=c.readSVarint():p===7&&(s.advance=c.readVarint())}let nGe=N6;function XQ(p){let s=0,c=0;for(let S of p)s+=S.w*S.h,c=Math.max(c,S.w);p.sort((S,T)=>T.h-S.h);let d=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(s/.95)),c),h:1/0}],v=0,x=0;for(let S of p)for(let T=d.length-1;T>=0;T--){let P=d[T];if(!(S.w>P.w||S.h>P.h)){if(S.x=P.x,S.y=P.y,x=Math.max(x,S.y+S.h),v=Math.max(v,S.x+S.w),S.w===P.w&&S.h===P.h){let D=d.pop();T<d.length&&(d[T]=D)}else S.h===P.h?(P.x+=S.w,P.w-=S.w):S.w===P.w?(P.y+=S.h,P.h-=S.h):(d.push({x:P.x+S.w,y:P.y,w:P.w-S.w,h:S.h}),P.y+=S.h,P.h-=S.h);break}}return{w:v,h:x,fill:s/(v*x)||0}}let as=1;class k6{constructor(s,{pixelRatio:c,version:d,stretchX:v,stretchY:x,content:S,textFitWidth:T,textFitHeight:P}){this.paddedRect=s,this.pixelRatio=c,this.stretchX=v,this.stretchY=x,this.content=S,this.version=d,this.textFitWidth=T,this.textFitHeight=P}get tl(){return[this.paddedRect.x+as,this.paddedRect.y+as]}get br(){return[this.paddedRect.x+this.paddedRect.w-as,this.paddedRect.y+this.paddedRect.h-as]}get tlbr(){return this.tl.concat(this.br)}get displaySize(){return[(this.paddedRect.w-2*as)/this.pixelRatio,(this.paddedRect.h-2*as)/this.pixelRatio]}}class QQ{constructor(s,c){let d={},v={};this.haveRenderCallbacks=[];let x=[];this.addImages(s,d,x),this.addImages(c,v,x);let{w:S,h:T}=XQ(x),P=new al({width:S||1,height:T||1});for(let D in s){let L=s[D],B=d[D].paddedRect;al.copy(L.data,P,{x:0,y:0},{x:B.x+as,y:B.y+as},L.data)}for(let D in c){let L=c[D],B=v[D].paddedRect,G=B.x+as,Z=B.y+as,K=L.data.width,te=L.data.height;al.copy(L.data,P,{x:0,y:0},{x:G,y:Z},L.data),al.copy(L.data,P,{x:0,y:te-1},{x:G,y:Z-1},{width:K,height:1}),al.copy(L.data,P,{x:0,y:0},{x:G,y:Z+te},{width:K,height:1}),al.copy(L.data,P,{x:K-1,y:0},{x:G-1,y:Z},{width:1,height:te}),al.copy(L.data,P,{x:0,y:0},{x:G+K,y:Z},{width:1,height:te})}this.image=P,this.iconPositions=d,this.patternPositions=v}addImages(s,c,d){for(let v in s){let x=s[v],S={x:0,y:0,w:x.data.width+2*as,h:x.data.height+2*as};d.push(S),c[v]=new k6(S,x),x.hasRenderCallback&&this.haveRenderCallbacks.push(v)}}patchUpdatedImages(s,c){s.dispatchRenderCallbacks(this.haveRenderCallbacks);for(let d in s.updatedImages)this.patchUpdatedImage(this.iconPositions[d],s.getImage(d),c),this.patchUpdatedImage(this.patternPositions[d],s.getImage(d),c)}patchUpdatedImage(s,c,d){if(!s||!c||s.version===c.version)return;s.version=c.version;let[v,x]=s.tl;d.update(c.data,void 0,{x:v,y:x})}}var sd;$t("ImagePosition",k6),$t("ImageAtlas",QQ),i.al=void 0,(sd=i.al||(i.al={}))[sd.none=0]="none",sd[sd.horizontal=1]="horizontal",sd[sd.vertical=2]="vertical",sd[sd.horizontalOnly=3]="horizontalOnly";let hT=-17;class kb{constructor(){this.scale=1,this.fontStack="",this.imageName=null,this.verticalAlign="bottom"}static forText(s,c,d){let v=new kb;return v.scale=s||1,v.fontStack=c,v.verticalAlign=d||"bottom",v}static forImage(s,c){let d=new kb;return d.imageName=s,d.verticalAlign=c||"bottom",d}}class ry{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(s,c){let d=new ry;for(let v=0;v<s.sections.length;v++){let x=s.sections[v];x.image?d.addImageSection(x):d.addTextSection(x,c)}return d}length(){return this.text.length}getSection(s){return this.sections[this.sectionIndex[s]]}getSectionIndex(s){return this.sectionIndex[s]}getCharCode(s){return this.text.charCodeAt(s)}verticalizePunctuation(){this.text=function(s){let c="";for(let d=0;d<s.length;d++){let v=s.charCodeAt(d+1)||null,x=s.charCodeAt(d-1)||null;c+=v&&ym(v)&&!Nb[s[d+1]]||x&&ym(x)&&!Nb[s[d-1]]||!Nb[s[d]]?s[d]:Nb[s[d]]}return c}(this.text)}trim(){let s=0;for(let d=0;d<this.text.length&&gT[this.text.charCodeAt(d)];d++)s++;let c=this.text.length;for(let d=this.text.length-1;d>=0&&d>=s&&gT[this.text.charCodeAt(d)];d--)c--;this.text=this.text.substring(s,c),this.sectionIndex=this.sectionIndex.slice(s,c)}substring(s,c){let d=new ry;return d.text=this.text.substring(s,c),d.sectionIndex=this.sectionIndex.slice(s,c),d.sections=this.sections,d}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((s,c)=>Math.max(s,this.sections[c].scale),0)}getMaxImageSize(s){let c=0,d=0;for(let v=0;v<this.length();v++){let x=this.getSection(v);if(x.imageName){let S=s[x.imageName];if(!S)continue;let T=S.displaySize;c=Math.max(c,T[0]),d=Math.max(d,T[1])}}return{maxImageWidth:c,maxImageHeight:d}}addTextSection(s,c){this.text+=s.text,this.sections.push(kb.forText(s.scale,s.fontStack||c,s.verticalAlign));let d=this.sections.length-1;for(let v=0;v<s.text.length;++v)this.sectionIndex.push(d)}addImageSection(s){let c=s.image?s.image.name:"";if(c.length===0)return void St("Can't add FormattedSection with an empty image.");let d=this.getNextImageSectionCharCode();d?(this.text+=String.fromCharCode(d),this.sections.push(kb.forImage(c,s.verticalAlign)),this.sectionIndex.push(this.sections.length-1)):St("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function mT(p,s,c,d,v,x,S,T,P,D,L,B,G,Z,K){let te=ry.fromFeature(p,v),le;B===i.al.vertical&&te.verticalizePunctuation();let{processBidirectionalText:me,processStyledBidirectionalText:De}=bu;if(me&&te.sections.length===1){le=[];let ae=me(te.toString(),L6(te,D,x,s,d,Z));for(let be of ae){let $e=new ry;$e.text=be,$e.sections=te.sections;for(let pt=0;pt<be.length;pt++)$e.sectionIndex.push(0);le.push($e)}}else if(De){le=[];let ae=De(te.text,te.sectionIndex,L6(te,D,x,s,d,Z));for(let be of ae){let $e=new ry;$e.text=be[0],$e.sectionIndex=be[1],$e.sections=te.sections,le.push($e)}}else le=function(ae,be){let $e=[],pt=ae.text,We=0;for(let et of be)$e.push(ae.substring(We,et)),We=et;return We<pt.length&&$e.push(ae.substring(We,pt.length)),$e}(te,L6(te,D,x,s,d,Z));let ye=[],W={positionedLines:ye,text:te.toString(),top:L[1],bottom:L[1],left:L[0],right:L[0],writingMode:B,iconsInText:!1,verticalizable:!1};return function(ae,be,$e,pt,We,et,_t,ft,bt,ot,Gt,pr){let sr=0,Xt=0,en=0,wi=0,Ji=ft==="right"?1:ft==="left"?0:.5,jo=Qi/pr,ll=0;for(let di of We){di.trim();let fo=di.getMaxScale(),To={positionedGlyphs:[],lineOffset:0};ae.positionedLines[ll]=To;let Mo=To.positionedGlyphs,Na=0;if(!di.length()){Xt+=et,++ll;continue}let ul=sGe(pt,di,jo);for(let ls=0;ls<di.length();ls++){let eo=di.getSection(ls),mo=di.getSectionIndex(ls),go=di.getCharCode(ls),Ui=lGe(bt,Gt,go),ei;if(eo.imageName){if(ae.iconsInText=!0,eo.scale=eo.scale*jo,ei=cGe(eo,Ui,fo,ul,pt),!ei)continue;Na=Math.max(Na,ei.imageOffset)}else if(ei=uGe(eo,go,Ui,ul,be,$e),!ei)continue;let{rect:Su,metrics:ay,baselineOffset:Iu}=ei;Mo.push({glyph:go,imageName:eo.imageName,x:sr,y:Xt+Iu+hT,vertical:Ui,scale:eo.scale,fontStack:eo.fontStack,sectionIndex:mo,metrics:ay,rect:Su}),Ui?(ae.verticalizable=!0,sr+=(eo.imageName?ay.advance:Qi)*eo.scale+ot):sr+=ay.advance*eo.scale+ot}Mo.length!==0&&(en=Math.max(sr-ot,en),pGe(Mo,0,Mo.length-1,Ji)),sr=0,To.lineOffset=Math.max(Na,(fo-1)*Qi);let ho=et*fo+Na;Xt+=ho,wi=Math.max(ho,wi),++ll}let{horizontalAlign:ss,verticalAlign:Eo}=R6(_t);(function(di,fo,To,Mo,Na,ul,ho,ls,eo){let mo=(fo-To)*Na,go=0;go=ul!==ho?-ls*Mo-hT:-Mo*eo*ho+.5*ho;for(let Ui of di)for(let ei of Ui.positionedGlyphs)ei.x+=mo,ei.y+=go})(ae.positionedLines,Ji,ss,Eo,en,wi,et,Xt,We.length),ae.top+=-Eo*Xt,ae.bottom=ae.top+Xt,ae.left+=-ss*en,ae.right=ae.left+en}(W,s,c,d,le,S,T,P,B,D,G,K),!function(ae){for(let be of ae)if(be.positionedGlyphs.length!==0)return!1;return!0}(ye)&&W}let gT={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},iGe={10:!0,32:!0,38:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0},oGe={40:!0};function JQ(p,s,c,d,v,x){if(s.imageName){let S=d[s.imageName];return S?S.displaySize[0]*s.scale*Qi/x+v:0}{let S=c[s.fontStack],T=S&&S[p];return T?T.metrics.advance*s.scale+v:0}}function eJ(p,s,c,d){let v=Math.pow(p-s,2);return d?p<s?v/2:2*v:v+Math.abs(c)*c}function aGe(p,s,c){let d=0;return p===10&&(d-=1e4),c&&(d+=150),p!==40&&p!==65288||(d+=50),s!==41&&s!==65289||(d+=50),d}function tJ(p,s,c,d,v,x){let S=null,T=eJ(s,c,v,x);for(let P of d){let D=eJ(s-P.x,c,v,x)+P.badness;D<=T&&(S=P,T=D)}return{index:p,x:s,priorBreak:S,badness:T}}function rJ(p){return p?rJ(p.priorBreak).concat(p.index):[]}function L6(p,s,c,d,v,x){if(!p)return[];let S=[],T=function(B,G,Z,K,te,le){let me=0;for(let De=0;De<B.length();De++){let ye=B.getSection(De);me+=JQ(B.getCharCode(De),ye,K,te,G,le)}return me/Math.max(1,Math.ceil(me/Z))}(p,s,c,d,v,x),P=p.text.indexOf("\u200B")>=0,D=0;for(let B=0;B<p.length();B++){let G=p.getSection(B),Z=p.getCharCode(B);if(gT[Z]||(D+=JQ(Z,G,d,v,s,x)),B<p.length()-1){let K=!((L=Z)<11904)&&(!!Kr["CJK Compatibility Forms"](L)||!!Kr["CJK Compatibility"](L)||!!Kr["CJK Strokes"](L)||!!Kr["CJK Symbols and Punctuation"](L)||!!Kr["Enclosed CJK Letters and Months"](L)||!!Kr["Halfwidth and Fullwidth Forms"](L)||!!Kr["Ideographic Description Characters"](L)||!!Kr["Vertical Forms"](L)||fb.test(String.fromCodePoint(L)));(iGe[Z]||K||G.imageName||B!==p.length()-2&&oGe[p.getCharCode(B+1)])&&S.push(tJ(B+1,D,T,S,aGe(Z,p.getCharCode(B+1),K&&P),!1))}}var L;return rJ(tJ(p.length(),D,T,S,0,!0))}function R6(p){let s=.5,c=.5;switch(p){case"right":case"top-right":case"bottom-right":s=1;break;case"left":case"top-left":case"bottom-left":s=0}switch(p){case"bottom":case"bottom-right":case"bottom-left":c=1;break;case"top":case"top-right":case"top-left":c=0}return{horizontalAlign:s,verticalAlign:c}}function sGe(p,s,c){let d=s.getMaxScale()*Qi,{maxImageWidth:v,maxImageHeight:x}=s.getMaxImageSize(p),S=Math.max(d,x*c);return{verticalLineContentWidth:Math.max(d,v*c),horizontalLineContentHeight:S}}function nJ(p){switch(p){case"top":return 0;case"center":return .5;default:return 1}}function lGe(p,s,c){return!(p===i.al.horizontal||!s&&!Zv(c)||s&&(gT[c]||(d=c,new RegExp("\\p{sc=Arab}","u").test(String.fromCodePoint(d)))));var d}function uGe(p,s,c,d,v,x){let S=x[p.fontStack],T=function(D,L,B,G){if(D&&D.rect)return D;let Z=L[B.fontStack],K=Z&&Z[G];return K?{rect:null,metrics:K.metrics}:null}(S&&S[s],v,p,s);if(T===null)return null;let P;if(c)P=d.verticalLineContentWidth-p.scale*Qi;else{let D=nJ(p.verticalAlign);P=(d.horizontalLineContentHeight-p.scale*Qi)*D}return{rect:T.rect,metrics:T.metrics,baselineOffset:P}}function cGe(p,s,c,d,v){let x=v[p.imageName];if(!x)return null;let S=x.paddedRect,T=x.displaySize,P={width:T[0],height:T[1],left:as,top:-3,advance:s?T[1]:T[0]},D;if(s)D=d.verticalLineContentWidth-T[1]*p.scale;else{let L=nJ(p.verticalAlign);D=(d.horizontalLineContentHeight-T[1]*p.scale)*L}return{rect:S,metrics:P,baselineOffset:D,imageOffset:(s?T[0]:T[1])*p.scale-Qi*c}}function pGe(p,s,c,d){if(d===0)return;let v=p[c],x=(p[c].x+v.metrics.advance*v.scale)*d;for(let S=s;S<=c;S++)p[S].x-=x}function fGe(p,s,c){let{horizontalAlign:d,verticalAlign:v}=R6(c),x=s[0]-p.displaySize[0]*d,S=s[1]-p.displaySize[1]*v;return{image:p,top:S,bottom:S+p.displaySize[1],left:x,right:x+p.displaySize[0]}}function iJ(p){var s,c;let d=p.left,v=p.top,x=p.right-d,S=p.bottom-v,T=(s=p.image.textFitWidth)!==null&&s!==void 0?s:"stretchOrShrink",P=(c=p.image.textFitHeight)!==null&&c!==void 0?c:"stretchOrShrink",D=(p.image.content[2]-p.image.content[0])/(p.image.content[3]-p.image.content[1]);if(P==="proportional"){if(T==="stretchOnly"&&x/S<D||T==="proportional"){let L=Math.ceil(S*D);d*=L/x,x=L}}else if(T==="proportional"&&P==="stretchOnly"&&D!==0&&x/S>D){let L=Math.ceil(x/D);v*=L/S,S=L}return{x1:d,y1:v,x2:d+x,y2:v+S}}function oJ(p,s,c,d,v,x){let S=p.image,T;if(S.content){let le=S.content,me=S.pixelRatio||1;T=[le[0]/me,le[1]/me,S.displaySize[0]-le[2]/me,S.displaySize[1]-le[3]/me]}let P=s.left*x,D=s.right*x,L,B,G,Z;c==="width"||c==="both"?(Z=v[0]+P-d[3],B=v[0]+D+d[1]):(Z=v[0]+(P+D-S.displaySize[0])/2,B=Z+S.displaySize[0]);let K=s.top*x,te=s.bottom*x;return c==="height"||c==="both"?(L=v[1]+K-d[0],G=v[1]+te+d[2]):(L=v[1]+(K+te-S.displaySize[1])/2,G=L+S.displaySize[1]),{image:S,top:L,right:B,bottom:G,left:Z,collisionPadding:T}}let Lb=255,bc=128,ld=Lb*bc;function aJ(p,s){let{expression:c}=s;if(c.kind==="constant")return{kind:"constant",layoutSize:c.evaluate(new Qn(p+1))};if(c.kind==="source")return{kind:"source"};{let{zoomStops:d,interpolationType:v}=c,x=0;for(;x<d.length&&d[x]<=p;)x++;x=Math.max(0,x-1);let S=x;for(;S<d.length&&d[S]<p+1;)S++;S=Math.min(d.length-1,S);let T=d[x],P=d[S];return c.kind==="composite"?{kind:"composite",minZoom:T,maxZoom:P,interpolationType:v}:{kind:"camera",minZoom:T,maxZoom:P,minSize:c.evaluate(new Qn(T)),maxSize:c.evaluate(new Qn(P)),interpolationType:v}}}function q6(p,s,c){let d="never",v=p.get(s);return v?d=v:p.get(c)&&(d="always"),d}let dGe=Pb.VectorTileFeature.types,hGe=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function vT(p,s,c,d,v,x,S,T,P,D,L,B,G){let Z=T?Math.min(ld,Math.round(T[0])):0,K=T?Math.min(ld,Math.round(T[1])):0;p.emplaceBack(s,c,Math.round(32*d),Math.round(32*v),x,S,(Z<<1)+(P?1:0),K,16*D,16*L,256*B,256*G)}function z6(p,s,c){p.emplaceBack(s.x,s.y,c),p.emplaceBack(s.x,s.y,c),p.emplaceBack(s.x,s.y,c),p.emplaceBack(s.x,s.y,c)}function mGe(p){for(let s of p.sections)if(u6(s.text))return!0;return!1}class j6{constructor(s){this.layoutVertexArray=new ci,this.indexArray=new gn,this.programConfigurations=s,this.segments=new vn,this.dynamicLayoutVertexArray=new qn,this.opacityVertexArray=new pi,this.hasVisibleVertices=!1,this.placedSymbolArray=new we}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(s,c,d,v){this.isEmpty()||(d&&(this.layoutVertexBuffer=s.createVertexBuffer(this.layoutVertexArray,Z$e.members),this.indexBuffer=s.createIndexBuffer(this.indexArray,c),this.dynamicLayoutVertexBuffer=s.createVertexBuffer(this.dynamicLayoutVertexArray,Y$e.members,!0),this.opacityVertexBuffer=s.createVertexBuffer(this.opacityVertexArray,hGe,!0),this.opacityVertexBuffer.itemSize=1),(d||v)&&this.programConfigurations.upload(s))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}$t("SymbolBuffers",j6);class F6{constructor(s,c,d){this.layoutVertexArray=new s,this.layoutAttributes=c,this.indexArray=new d,this.segments=new vn,this.collisionVertexArray=new Bn}upload(s){this.layoutVertexBuffer=s.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=s.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=s.createVertexBuffer(this.collisionVertexArray,K$e.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())}}$t("CollisionBuffers",F6);class ny{constructor(s){this.collisionBoxArray=s.collisionBoxArray,this.zoom=s.zoom,this.overscaling=s.overscaling,this.layers=s.layers,this.layerIds=this.layers.map(S=>S.id),this.index=s.index,this.pixelRatio=s.pixelRatio,this.sourceLayerIndex=s.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[];let c=this.layers[0]._unevaluatedLayout._values;this.textSizeData=aJ(this.zoom,c["text-size"]),this.iconSizeData=aJ(this.zoom,c["icon-size"]);let d=this.layers[0].layout,v=d.get("symbol-sort-key"),x=d.get("symbol-z-order");this.canOverlap=q6(d,"text-overlap","text-allow-overlap")!=="never"||q6(d,"icon-overlap","icon-allow-overlap")!=="never"||d.get("text-ignore-placement")||d.get("icon-ignore-placement"),this.sortFeaturesByKey=x!=="viewport-y"&&!v.isConstant(),this.sortFeaturesByY=(x==="viewport-y"||x==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,d.get("symbol-placement")==="point"&&(this.writingModes=d.get("text-writing-mode").map(S=>i.al[S])),this.stateDependentLayerIds=this.layers.filter(S=>S.isStateDependent()).map(S=>S.id),this.sourceID=s.sourceID}createArrays(){this.text=new j6(new _c(this.layers,this.zoom,s=>/^text/.test(s))),this.icon=new j6(new _c(this.layers,this.zoom,s=>/^icon/.test(s))),this.glyphOffsetArray=new ke,this.lineVertexArray=new Oe,this.symbolInstances=new Ce,this.textAnchorOffsets=new rt}calculateGlyphDependencies(s,c,d,v,x){for(let S=0;S<s.length;S++)if(c[s.charCodeAt(S)]=!0,(d||v)&&x){let T=Nb[s.charAt(S)];T&&(c[T.charCodeAt(0)]=!0)}}populate(s,c,d){let v=this.layers[0],x=v.layout,S=x.get("text-font"),T=x.get("text-field"),P=x.get("icon-image"),D=(T.value.kind!=="constant"||T.value.value instanceof Oa&&!T.value.value.isEmpty()||T.value.value.toString().length>0)&&(S.value.kind!=="constant"||S.value.value.length>0),L=P.value.kind!=="constant"||!!P.value.value||Object.keys(P.parameters).length>0,B=x.get("symbol-sort-key");if(this.features=[],!D&&!L)return;let G=c.iconDependencies,Z=c.glyphDependencies,K=c.availableImages,te=new Qn(this.zoom);for(let{feature:le,id:me,index:De,sourceLayerIndex:ye}of s){let W=v._featureFilter.needGeometry,ae=Tm(le,W);if(!v._featureFilter.filter(te,ae,d))continue;let be,$e;if(W||(ae.geometry=Em(le)),D){let We=v.getValueAndResolveTokens("text-field",ae,d,K),et=Oa.factory(We),_t=this.hasRTLText=this.hasRTLText||mGe(et);(!_t||bu.getRTLTextPluginStatus()==="unavailable"||_t&&bu.isParsed())&&(be=Q$e(et,v,ae))}if(L){let We=v.getValueAndResolveTokens("icon-image",ae,d,K);$e=We instanceof ns?We:ns.fromString(We)}if(!be&&!$e)continue;let pt=this.sortFeaturesByKey?B.evaluate(ae,{},d):void 0;if(this.features.push({id:me,text:be,icon:$e,index:De,sourceLayerIndex:ye,geometry:ae.geometry,properties:le.properties,type:dGe[le.type],sortKey:pt}),$e&&(G[$e.name]=!0),be){let We=S.evaluate(ae,{},d).join(","),et=x.get("text-rotation-alignment")!=="viewport"&&x.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(i.al.vertical)>=0;for(let _t of be.sections)if(_t.image)G[_t.image.name]=!0;else{let ft=Wv(be.toString()),bt=_t.fontStack||We,ot=Z[bt]=Z[bt]||{};this.calculateGlyphDependencies(_t.text,ot,et,this.allowVerticalPlacement,ft)}}}x.get("symbol-placement")==="line"&&(this.features=function(le){let me={},De={},ye=[],W=0;function ae(We){ye.push(le[We]),W++}function be(We,et,_t){let ft=De[We];return delete De[We],De[et]=ft,ye[ft].geometry[0].pop(),ye[ft].geometry[0]=ye[ft].geometry[0].concat(_t[0]),ft}function $e(We,et,_t){let ft=me[et];return delete me[et],me[We]=ft,ye[ft].geometry[0].shift(),ye[ft].geometry[0]=_t[0].concat(ye[ft].geometry[0]),ft}function pt(We,et,_t){let ft=_t?et[0][et[0].length-1]:et[0][0];return`${We}:${ft.x}:${ft.y}`}for(let We=0;We<le.length;We++){let et=le[We],_t=et.geometry,ft=et.text?et.text.toString():null;if(!ft){ae(We);continue}let bt=pt(ft,_t),ot=pt(ft,_t,!0);if(bt in De&&ot in me&&De[bt]!==me[ot]){let Gt=$e(bt,ot,_t),pr=be(bt,ot,ye[Gt].geometry);delete me[bt],delete De[ot],De[pt(ft,ye[pr].geometry,!0)]=pr,ye[Gt].geometry=null}else bt in De?be(bt,ot,_t):ot in me?$e(bt,ot,_t):(ae(We),me[bt]=W-1,De[ot]=W-1)}return ye.filter(We=>We.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((le,me)=>le.sortKey-me.sortKey)}update(s,c,d){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(s,c,this.layers,d),this.icon.programConfigurations.updatePaintArrays(s,c,this.layers,d))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(s){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(s),this.iconCollisionBox.upload(s)),this.text.upload(s,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(s,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(s,c){let d=this.lineVertexArray.length;if(s.segment!==void 0){let v=s.dist(c[s.segment+1]),x=s.dist(c[s.segment]),S={};for(let T=s.segment+1;T<c.length;T++)S[T]={x:c[T].x,y:c[T].y,tileUnitDistanceFromAnchor:v},T<c.length-1&&(v+=c[T+1].dist(c[T]));for(let T=s.segment||0;T>=0;T--)S[T]={x:c[T].x,y:c[T].y,tileUnitDistanceFromAnchor:x},T>0&&(x+=c[T-1].dist(c[T]));for(let T=0;T<c.length;T++){let P=S[T];this.lineVertexArray.emplaceBack(P.x,P.y,P.tileUnitDistanceFromAnchor)}}return{lineStartIndex:d,lineLength:this.lineVertexArray.length-d}}addSymbols(s,c,d,v,x,S,T,P,D,L,B,G){let Z=s.indexArray,K=s.layoutVertexArray,te=s.segments.prepareSegment(4*c.length,K,Z,this.canOverlap?S.sortKey:void 0),le=this.glyphOffsetArray.length,me=te.vertexLength,De=this.allowVerticalPlacement&&T===i.al.vertical?Math.PI/2:0,ye=S.text&&S.text.sections;for(let W=0;W<c.length;W++){let{tl:ae,tr:be,bl:$e,br:pt,tex:We,pixelOffsetTL:et,pixelOffsetBR:_t,minFontScaleX:ft,minFontScaleY:bt,glyphOffset:ot,isSDF:Gt,sectionIndex:pr}=c[W],sr=te.vertexLength,Xt=ot[1];vT(K,P.x,P.y,ae.x,Xt+ae.y,We.x,We.y,d,Gt,et.x,et.y,ft,bt),vT(K,P.x,P.y,be.x,Xt+be.y,We.x+We.w,We.y,d,Gt,_t.x,et.y,ft,bt),vT(K,P.x,P.y,$e.x,Xt+$e.y,We.x,We.y+We.h,d,Gt,et.x,_t.y,ft,bt),vT(K,P.x,P.y,pt.x,Xt+pt.y,We.x+We.w,We.y+We.h,d,Gt,_t.x,_t.y,ft,bt),z6(s.dynamicLayoutVertexArray,P,De),Z.emplaceBack(sr,sr+2,sr+1),Z.emplaceBack(sr+1,sr+2,sr+3),te.vertexLength+=4,te.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(ot[0]),W!==c.length-1&&pr===c[W+1].sectionIndex||s.programConfigurations.populatePaintArrays(K.length,S,S.index,{},G,ye&&ye[pr])}s.placedSymbolArray.emplaceBack(P.x,P.y,le,this.glyphOffsetArray.length-le,me,D,L,P.segment,d?d[0]:0,d?d[1]:0,v[0],v[1],T,0,!1,0,B)}_addCollisionDebugVertex(s,c,d,v,x,S){return c.emplaceBack(0,0),s.emplaceBack(d.x,d.y,v,x,Math.round(S.x),Math.round(S.y))}addCollisionDebugVertices(s,c,d,v,x,S,T){let P=x.segments.prepareSegment(4,x.layoutVertexArray,x.indexArray),D=P.vertexLength,L=x.layoutVertexArray,B=x.collisionVertexArray,G=T.anchorX,Z=T.anchorY;this._addCollisionDebugVertex(L,B,S,G,Z,new M(s,c)),this._addCollisionDebugVertex(L,B,S,G,Z,new M(d,c)),this._addCollisionDebugVertex(L,B,S,G,Z,new M(d,v)),this._addCollisionDebugVertex(L,B,S,G,Z,new M(s,v)),P.vertexLength+=4;let K=x.indexArray;K.emplaceBack(D,D+1),K.emplaceBack(D+1,D+2),K.emplaceBack(D+2,D+3),K.emplaceBack(D+3,D),P.primitiveLength+=4}addDebugCollisionBoxes(s,c,d,v){for(let x=s;x<c;x++){let S=this.collisionBoxArray.get(x);this.addCollisionDebugVertices(S.x1,S.y1,S.x2,S.y2,v?this.textCollisionBox:this.iconCollisionBox,S.anchorPoint,d)}}generateCollisionDebugBuffers(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new F6(fi,WQ.members,Xi),this.iconCollisionBox=new F6(fi,WQ.members,Xi);for(let s=0;s<this.symbolInstances.length;s++){let c=this.symbolInstances.get(s);this.addDebugCollisionBoxes(c.textBoxStartIndex,c.textBoxEndIndex,c,!0),this.addDebugCollisionBoxes(c.verticalTextBoxStartIndex,c.verticalTextBoxEndIndex,c,!0),this.addDebugCollisionBoxes(c.iconBoxStartIndex,c.iconBoxEndIndex,c,!1),this.addDebugCollisionBoxes(c.verticalIconBoxStartIndex,c.verticalIconBoxEndIndex,c,!1)}}_deserializeCollisionBoxesForSymbol(s,c,d,v,x,S,T,P,D){let L={};for(let B=c;B<d;B++){let G=s.get(B);L.textBox={x1:G.x1,y1:G.y1,x2:G.x2,y2:G.y2,anchorPointX:G.anchorPointX,anchorPointY:G.anchorPointY},L.textFeatureIndex=G.featureIndex;break}for(let B=v;B<x;B++){let G=s.get(B);L.verticalTextBox={x1:G.x1,y1:G.y1,x2:G.x2,y2:G.y2,anchorPointX:G.anchorPointX,anchorPointY:G.anchorPointY},L.verticalTextFeatureIndex=G.featureIndex;break}for(let B=S;B<T;B++){let G=s.get(B);L.iconBox={x1:G.x1,y1:G.y1,x2:G.x2,y2:G.y2,anchorPointX:G.anchorPointX,anchorPointY:G.anchorPointY},L.iconFeatureIndex=G.featureIndex;break}for(let B=P;B<D;B++){let G=s.get(B);L.verticalIconBox={x1:G.x1,y1:G.y1,x2:G.x2,y2:G.y2,anchorPointX:G.anchorPointX,anchorPointY:G.anchorPointY},L.verticalIconFeatureIndex=G.featureIndex;break}return L}deserializeCollisionBoxes(s){this.collisionArrays=[];for(let c=0;c<this.symbolInstances.length;c++){let d=this.symbolInstances.get(c);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(s,d.textBoxStartIndex,d.textBoxEndIndex,d.verticalTextBoxStartIndex,d.verticalTextBoxEndIndex,d.iconBoxStartIndex,d.iconBoxEndIndex,d.verticalIconBoxStartIndex,d.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(s,c){let d=s.placedSymbolArray.get(c),v=d.vertexStartIndex+4*d.numGlyphs;for(let x=d.vertexStartIndex;x<v;x+=4)s.indexArray.emplaceBack(x,x+2,x+1),s.indexArray.emplaceBack(x+1,x+2,x+3)}getSortedSymbolIndexes(s){if(this.sortedAngle===s&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;let c=Math.sin(s),d=Math.cos(s),v=[],x=[],S=[];for(let T=0;T<this.symbolInstances.length;++T){S.push(T);let P=this.symbolInstances.get(T);v.push(0|Math.round(c*P.anchorX+d*P.anchorY)),x.push(P.featureIndex)}return S.sort((T,P)=>v[T]-v[P]||x[P]-x[T]),S}addToSortKeyRanges(s,c){let d=this.sortKeyRanges[this.sortKeyRanges.length-1];d&&d.sortKey===c?d.symbolInstanceEnd=s+1:this.sortKeyRanges.push({sortKey:c,symbolInstanceStart:s,symbolInstanceEnd:s+1})}sortFeatures(s){if(this.sortFeaturesByY&&this.sortedAngle!==s&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(s),this.sortedAngle=s,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(let c of this.symbolInstanceIndexes){let d=this.symbolInstances.get(c);this.featureSortOrder.push(d.featureIndex),[d.rightJustifiedTextSymbolIndex,d.centerJustifiedTextSymbolIndex,d.leftJustifiedTextSymbolIndex].forEach((v,x,S)=>{v>=0&&S.indexOf(v)===x&&this.addIndicesForPlacedSymbol(this.text,v)}),d.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,d.verticalPlacedTextSymbolIndex),d.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,d.placedIconSymbolIndex),d.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,d.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}let sJ,lJ;$t("SymbolBucket",ny,{omit:["layers","collisionBoxArray","features","compareText"]}),ny.MAX_GLYPHS=65535,ny.addDynamicAttributes=z6;var B6={get paint(){return lJ=lJ||new ji({"icon-opacity":new mr(J.paint_symbol["icon-opacity"]),"icon-color":new mr(J.paint_symbol["icon-color"]),"icon-halo-color":new mr(J.paint_symbol["icon-halo-color"]),"icon-halo-width":new mr(J.paint_symbol["icon-halo-width"]),"icon-halo-blur":new mr(J.paint_symbol["icon-halo-blur"]),"icon-translate":new Qt(J.paint_symbol["icon-translate"]),"icon-translate-anchor":new Qt(J.paint_symbol["icon-translate-anchor"]),"text-opacity":new mr(J.paint_symbol["text-opacity"]),"text-color":new mr(J.paint_symbol["text-color"],{runtimeType:yi,getOverride:p=>p.textColor,hasOverride:p=>!!p.textColor}),"text-halo-color":new mr(J.paint_symbol["text-halo-color"]),"text-halo-width":new mr(J.paint_symbol["text-halo-width"]),"text-halo-blur":new mr(J.paint_symbol["text-halo-blur"]),"text-translate":new Qt(J.paint_symbol["text-translate"]),"text-translate-anchor":new Qt(J.paint_symbol["text-translate-anchor"])})},get layout(){return sJ=sJ||new ji({"symbol-placement":new Qt(J.layout_symbol["symbol-placement"]),"symbol-spacing":new Qt(J.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Qt(J.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new mr(J.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Qt(J.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Qt(J.layout_symbol["icon-allow-overlap"]),"icon-overlap":new Qt(J.layout_symbol["icon-overlap"]),"icon-ignore-placement":new Qt(J.layout_symbol["icon-ignore-placement"]),"icon-optional":new Qt(J.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Qt(J.layout_symbol["icon-rotation-alignment"]),"icon-size":new mr(J.layout_symbol["icon-size"]),"icon-text-fit":new Qt(J.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Qt(J.layout_symbol["icon-text-fit-padding"]),"icon-image":new mr(J.layout_symbol["icon-image"]),"icon-rotate":new mr(J.layout_symbol["icon-rotate"]),"icon-padding":new mr(J.layout_symbol["icon-padding"]),"icon-keep-upright":new Qt(J.layout_symbol["icon-keep-upright"]),"icon-offset":new mr(J.layout_symbol["icon-offset"]),"icon-anchor":new mr(J.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Qt(J.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Qt(J.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Qt(J.layout_symbol["text-rotation-alignment"]),"text-field":new mr(J.layout_symbol["text-field"]),"text-font":new mr(J.layout_symbol["text-font"]),"text-size":new mr(J.layout_symbol["text-size"]),"text-max-width":new mr(J.layout_symbol["text-max-width"]),"text-line-height":new Qt(J.layout_symbol["text-line-height"]),"text-letter-spacing":new mr(J.layout_symbol["text-letter-spacing"]),"text-justify":new mr(J.layout_symbol["text-justify"]),"text-radial-offset":new mr(J.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Qt(J.layout_symbol["text-variable-anchor"]),"text-variable-anchor-offset":new mr(J.layout_symbol["text-variable-anchor-offset"]),"text-anchor":new mr(J.layout_symbol["text-anchor"]),"text-max-angle":new Qt(J.layout_symbol["text-max-angle"]),"text-writing-mode":new Qt(J.layout_symbol["text-writing-mode"]),"text-rotate":new mr(J.layout_symbol["text-rotate"]),"text-padding":new Qt(J.layout_symbol["text-padding"]),"text-keep-upright":new Qt(J.layout_symbol["text-keep-upright"]),"text-transform":new mr(J.layout_symbol["text-transform"]),"text-offset":new mr(J.layout_symbol["text-offset"]),"text-allow-overlap":new Qt(J.layout_symbol["text-allow-overlap"]),"text-overlap":new Qt(J.layout_symbol["text-overlap"]),"text-ignore-placement":new Qt(J.layout_symbol["text-ignore-placement"]),"text-optional":new Qt(J.layout_symbol["text-optional"])})}};class uJ{constructor(s){if(s.property.overrides===void 0)throw new Error("overrides must be provided to instantiate FormatSectionOverride class");this.type=s.property.overrides?s.property.overrides.runtimeType:br,this.defaultValue=s}evaluate(s){if(s.formattedSection){let c=this.defaultValue.property.overrides;if(c&&c.hasOverride(s.formattedSection))return c.getOverride(s.formattedSection)}return s.feature&&s.featureState?this.defaultValue.evaluate(s.feature,s.featureState):this.defaultValue.property.specification.default}eachChild(s){this.defaultValue.isConstant()||s(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}$t("FormatSectionOverride",uJ,{omit:["defaultValue"]});class yT extends Cs{constructor(s){super(s,B6)}recalculate(s,c){if(super.recalculate(s,c),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")==="map"?"map":"viewport"),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){let d=this.layout.get("text-writing-mode");if(d){let v=[];for(let x of d)v.indexOf(x)<0&&v.push(x);this.layout._values["text-writing-mode"]=v}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()}getValueAndResolveTokens(s,c,d,v){let x=this.layout.get(s).evaluate(c,{},d,v),S=this._unevaluatedLayout._values[s];return S.isDataDriven()||um(S.value)||!x?x:function(T,P){return P.replace(/{([^{}]+)}/g,(D,L)=>T&&L in T?String(T[L]):"")}(c.properties,x)}createBucket(s){return new ny(s)}queryRadius(){return 0}queryIntersectsFeature(){throw new Error("Should take a different path in FeatureIndex")}_setPaintOverrides(){for(let s of B6.paint.overridableProperties){if(!yT.hasPaintOverride(this.layout,s))continue;let c=this.paint.get(s),d=new uJ(c),v=new Lv(d,c.property.specification),x=null;x=c.value.kind==="constant"||c.value.kind==="source"?new Q_("source",v):new qv("composite",v,c.value.zoomStops),this.paint._values[s]=new ea(c.property,x,c.parameters)}}_handleOverridablePaintPropertyUpdate(s,c,d){return!(!this.layout||c.isDataDriven()||d.isDataDriven())&&yT.hasPaintOverride(this.layout,s)}static hasPaintOverride(s,c){let d=s.get("text-field"),v=B6.paint.properties[c],x=!1,S=T=>{for(let P of T)if(v.overrides&&v.overrides.hasOverride(P))return void(x=!0)};if(d.value.kind==="constant"&&d.value.value instanceof Oa)S(d.value.value.sections);else if(d.value.kind==="source"){let T=D=>{x||(D instanceof Cr&&bi(D.value)===$h?S(D.value.sections):D instanceof _v?S(D.sections):D.eachChild(T))},P=d.value;P._styleExpression&&T(P._styleExpression.expression)}return x}}let cJ;var gGe={get paint(){return cJ=cJ||new ji({"background-color":new Qt(J.paint_background["background-color"]),"background-pattern":new hb(J.paint_background["background-pattern"]),"background-opacity":new Qt(J.paint_background["background-opacity"])})}};class vGe extends Cs{constructor(s){super(s,gGe)}}let pJ;var yGe={get paint(){return pJ=pJ||new ji({"raster-opacity":new Qt(J.paint_raster["raster-opacity"]),"raster-hue-rotate":new Qt(J.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Qt(J.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Qt(J.paint_raster["raster-brightness-max"]),"raster-saturation":new Qt(J.paint_raster["raster-saturation"]),"raster-contrast":new Qt(J.paint_raster["raster-contrast"]),"raster-resampling":new Qt(J.paint_raster["raster-resampling"]),"raster-fade-duration":new Qt(J.paint_raster["raster-fade-duration"])})}};class _Ge extends Cs{constructor(s){super(s,yGe)}}class bGe extends Cs{constructor(s){super(s,{}),this.onAdd=c=>{this.implementation.onAdd&&this.implementation.onAdd(c,c.painter.context.gl)},this.onRemove=c=>{this.implementation.onRemove&&this.implementation.onRemove(c,c.painter.context.gl)},this.implementation=s}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){throw new Error("Custom layers cannot be serialized")}}class xGe{constructor(s){this._methodToThrottle=s,this._triggered=!1,typeof MessageChannel!="undefined"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._methodToThrottle()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._methodToThrottle()},0))}remove(){delete this._channel,this._methodToThrottle=()=>{}}}let wGe={once:!0},U6=6371008.8;class ud{constructor(s,c){if(isNaN(s)||isNaN(c))throw new Error(`Invalid LngLat object: (${s}, ${c})`);if(this.lng=+s,this.lat=+c,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new ud(yt(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(s){let c=Math.PI/180,d=this.lat*c,v=s.lat*c,x=Math.sin(d)*Math.sin(v)+Math.cos(d)*Math.cos(v)*Math.cos((s.lng-this.lng)*c);return U6*Math.acos(Math.min(x,1))}static convert(s){if(s instanceof ud)return s;if(Array.isArray(s)&&(s.length===2||s.length===3))return new ud(Number(s[0]),Number(s[1]));if(!Array.isArray(s)&&typeof s=="object"&&s!==null)return new ud(Number("lng"in s?s.lng:s.lon),Number(s.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}let fJ=2*Math.PI*U6;function dJ(p){return fJ*Math.cos(p*Math.PI/180)}function hJ(p){return(180+p)/360}function mJ(p){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+p*Math.PI/360)))/360}function gJ(p,s){return p/dJ(s)}function V6(p){return 360/Math.PI*Math.atan(Math.exp((180-360*p)*Math.PI/180))-90}function vJ(p,s){return p*dJ(V6(s))}class Rb{constructor(s,c,d=0){this.x=+s,this.y=+c,this.z=+d}static fromLngLat(s,c=0){let d=ud.convert(s);return new Rb(hJ(d.lng),mJ(d.lat),gJ(c,d.lat))}toLngLat(){return new ud(360*this.x-180,V6(this.y))}toAltitude(){return vJ(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/fJ*(s=V6(this.y),1/Math.cos(s*Math.PI/180));var s}}function yJ(p,s,c){var d=2*Math.PI*6378137/256/Math.pow(2,c);return[p*d-2*Math.PI*6378137/2,s*d-2*Math.PI*6378137/2]}class $6{constructor(s,c,d){if(!function(v,x,S){return!(v<0||v>25||S<0||S>=Math.pow(2,v)||x<0||x>=Math.pow(2,v))}(s,c,d))throw new Error(`x=${c}, y=${d}, z=${s} outside of bounds. 0<=x<${Math.pow(2,s)}, 0<=y<${Math.pow(2,s)} 0<=z<=25 `);this.z=s,this.x=c,this.y=d,this.key=iy(0,s,s,c,d)}equals(s){return this.z===s.z&&this.x===s.x&&this.y===s.y}url(s,c,d){let v=(S=this.y,T=this.z,P=yJ(256*(x=this.x),256*(S=Math.pow(2,T)-S-1),T),D=yJ(256*(x+1),256*(S+1),T),P[0]+","+P[1]+","+D[0]+","+D[1]);var x,S,T,P,D;let L=function(B,G,Z){let K,te="";for(let le=B;le>0;le--)K=1<<le-1,te+=(G&K?1:0)+(Z&K?2:0);return te}(this.z,this.x,this.y);return s[(this.x+this.y)%s.length].replace(/{prefix}/g,(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(d==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace(/{ratio}/g,c>1?"@2x":"").replace(/{quadkey}/g,L).replace(/{bbox-epsg-3857}/g,v)}isChildOf(s){let c=this.z-s.z;return c>0&&s.x===this.x>>c&&s.y===this.y>>c}getTilePoint(s){let c=Math.pow(2,this.z);return new M((s.x*c-this.x)*at,(s.y*c-this.y)*at)}toString(){return`${this.z}/${this.x}/${this.y}`}}class _J{constructor(s,c){this.wrap=s,this.canonical=c,this.key=iy(s,c.z,c.z,c.x,c.y)}}class sl{constructor(s,c,d,v,x){if(this.terrainRttPosMatrix32f=null,s<d)throw new Error(`overscaledZ should be >= z; overscaledZ = ${s}; z = ${d}`);this.overscaledZ=s,this.wrap=c,this.canonical=new $6(d,+v,+x),this.key=iy(c,s,d,v,x)}clone(){return new sl(this.overscaledZ,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)}equals(s){return this.overscaledZ===s.overscaledZ&&this.wrap===s.wrap&&this.canonical.equals(s.canonical)}scaledTo(s){if(s>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${s}; overscaledZ = ${this.overscaledZ}`);let c=this.canonical.z-s;return s>this.canonical.z?new sl(s,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new sl(s,this.wrap,s,this.canonical.x>>c,this.canonical.y>>c)}calculateScaledKey(s,c){if(s>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${s}; overscaledZ = ${this.overscaledZ}`);let d=this.canonical.z-s;return s>this.canonical.z?iy(this.wrap*+c,s,this.canonical.z,this.canonical.x,this.canonical.y):iy(this.wrap*+c,s,s,this.canonical.x>>d,this.canonical.y>>d)}isChildOf(s){if(s.wrap!==this.wrap)return!1;let c=this.canonical.z-s.canonical.z;return s.overscaledZ===0||s.overscaledZ<this.overscaledZ&&s.canonical.x===this.canonical.x>>c&&s.canonical.y===this.canonical.y>>c}children(s){if(this.overscaledZ>=s)return[new sl(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];let c=this.canonical.z+1,d=2*this.canonical.x,v=2*this.canonical.y;return[new sl(c,this.wrap,c,d,v),new sl(c,this.wrap,c,d+1,v),new sl(c,this.wrap,c,d,v+1),new sl(c,this.wrap,c,d+1,v+1)]}isLessThan(s){return this.wrap<s.wrap||!(this.wrap>s.wrap)&&(this.overscaledZ<s.overscaledZ||!(this.overscaledZ>s.overscaledZ)&&(this.canonical.x<s.canonical.x||!(this.canonical.x>s.canonical.x)&&this.canonical.y<s.canonical.y))}wrapped(){return new sl(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(s){return new sl(this.overscaledZ,s,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new _J(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}getTilePoint(s){return this.canonical.getTilePoint(new Rb(s.x-this.wrap,s.y))}}function iy(p,s,c,d,v){(p*=2)<0&&(p=-1*p-1);let x=1<<c;return(x*x*p+x*v+d).toString(36)+c.toString(36)+s.toString(36)}$t("CanonicalTileID",$6),$t("OverscaledTileID",sl,{omit:["terrainRttPosMatrix32f"]});class bJ{constructor(s,c,d,v=1,x=1,S=1,T=0){if(this.uid=s,c.height!==c.width)throw new RangeError("DEM tiles must be square");if(d&&!["mapbox","terrarium","custom"].includes(d))return void St(`"${d}" is not a valid encoding type. Valid types include "mapbox", "terrarium" and "custom".`);this.stride=c.height;let P=this.dim=c.height-2;switch(this.data=new Uint32Array(c.data.buffer),d){case"terrarium":this.redFactor=256,this.greenFactor=1,this.blueFactor=1/256,this.baseShift=32768;break;case"custom":this.redFactor=v,this.greenFactor=x,this.blueFactor=S,this.baseShift=T;break;default:this.redFactor=6553.6,this.greenFactor=25.6,this.blueFactor=.1,this.baseShift=1e4}for(let D=0;D<P;D++)this.data[this._idx(-1,D)]=this.data[this._idx(0,D)],this.data[this._idx(P,D)]=this.data[this._idx(P-1,D)],this.data[this._idx(D,-1)]=this.data[this._idx(D,0)],this.data[this._idx(D,P)]=this.data[this._idx(D,P-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(P,-1)]=this.data[this._idx(P-1,0)],this.data[this._idx(-1,P)]=this.data[this._idx(0,P-1)],this.data[this._idx(P,P)]=this.data[this._idx(P-1,P-1)],this.min=Number.MAX_SAFE_INTEGER,this.max=Number.MIN_SAFE_INTEGER;for(let D=0;D<P;D++)for(let L=0;L<P;L++){let B=this.get(D,L);B>this.max&&(this.max=B),B<this.min&&(this.min=B)}}get(s,c){let d=new Uint8Array(this.data.buffer),v=4*this._idx(s,c);return this.unpack(d[v],d[v+1],d[v+2])}getUnpackVector(){return[this.redFactor,this.greenFactor,this.blueFactor,this.baseShift]}_idx(s,c){if(s<-1||s>=this.dim+1||c<-1||c>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(c+1)*this.stride+(s+1)}unpack(s,c,d){return s*this.redFactor+c*this.greenFactor+d*this.blueFactor-this.baseShift}getPixels(){return new al({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(s,c,d){if(this.dim!==s.dim)throw new Error("dem dimension mismatch");let v=c*this.dim,x=c*this.dim+this.dim,S=d*this.dim,T=d*this.dim+this.dim;switch(c){case-1:v=x-1;break;case 1:x=v+1}switch(d){case-1:S=T-1;break;case 1:T=S+1}let P=-c*this.dim,D=-d*this.dim;for(let L=S;L<T;L++)for(let B=v;B<x;B++)this.data[this._idx(B,L)]=s.data[this._idx(B+P,L+D)]}}$t("DEMData",bJ);class xJ{constructor(s){this._stringToNumber={},this._numberToString=[];for(let c=0;c<s.length;c++){let d=s[c];this._stringToNumber[d]=c,this._numberToString[c]=d}}encode(s){return this._stringToNumber[s]}decode(s){if(s>=this._numberToString.length)throw new Error(`Out of bounds. Index requested n=${s} can't be >= this._numberToString.length ${this._numberToString.length}`);return this._numberToString[s]}}class wJ{constructor(s,c,d,v,x){this.type="Feature",this._vectorTileFeature=s,s._z=c,s._x=d,s._y=v,this.properties=s.properties,this.id=x}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry}set geometry(s){this._geometry=s}toJSON(){let s={geometry:this.geometry};for(let c in this)c!=="_geometry"&&c!=="_vectorTileFeature"&&(s[c]=this[c]);return s}}class SJ{constructor(s,c){this.tileID=s,this.x=s.canonical.x,this.y=s.canonical.y,this.z=s.canonical.z,this.grid=new nd(at,16,0),this.grid3D=new nd(at,16,0),this.featureIndexArray=new Ye,this.promoteId=c}insert(s,c,d,v,x,S){let T=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(d,v,x);let P=S?this.grid3D:this.grid;for(let D=0;D<c.length;D++){let L=c[D],B=[1/0,1/0,-1/0,-1/0];for(let G=0;G<L.length;G++){let Z=L[G];B[0]=Math.min(B[0],Z.x),B[1]=Math.min(B[1],Z.y),B[2]=Math.max(B[2],Z.x),B[3]=Math.max(B[3],Z.y)}B[0]<at&&B[1]<at&&B[2]>=0&&B[3]>=0&&P.insert(T,B[0],B[1],B[2],B[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=new Pb.VectorTile(new D6(this.rawTileData)).layers,this.sourceLayerCoder=new xJ(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers}query(s,c,d,v){this.loadVTLayers();let x=s.params,S=at/s.tileSize/s.scale,T=dm(x.filter),P=s.queryGeometry,D=s.queryPadding*S,L=EJ(P),B=this.grid.query(L.minX-D,L.minY-D,L.maxX+D,L.maxY+D),G=EJ(s.cameraQueryGeometry),Z=this.grid3D.query(G.minX-D,G.minY-D,G.maxX+D,G.maxY+D,(le,me,De,ye)=>function(W,ae,be,$e,pt){for(let et of W)if(ae<=et.x&&be<=et.y&&$e>=et.x&&pt>=et.y)return!0;let We=[new M(ae,be),new M(ae,pt),new M($e,pt),new M($e,be)];if(W.length>2){for(let et of We)if(Mm(W,et))return!0}for(let et=0;et<W.length-1;et++)if(c$e(W[et],W[et+1],We))return!0;return!1}(s.cameraQueryGeometry,le-D,me-D,De+D,ye+D));for(let le of Z)B.push(le);B.sort(SGe);let K={},te;for(let le=0;le<B.length;le++){let me=B[le];if(me===te)continue;te=me;let De=this.featureIndexArray.get(me),ye=null;this.loadMatchingFeature(K,De.bucketIndex,De.sourceLayerIndex,De.featureIndex,T,x.layers,x.availableImages,c,d,v,(W,ae,be)=>(ye||(ye=Em(W)),ae.queryIntersectsFeature({queryGeometry:P,feature:W,featureState:be,geometry:ye,zoom:this.z,transform:s.transform,pixelsToTileUnits:S,pixelPosMatrix:s.pixelPosMatrix,unwrappedTileID:this.tileID.toUnwrapped(),getElevation:s.getElevation})))}return K}loadMatchingFeature(s,c,d,v,x,S,T,P,D,L,B){let G=this.bucketLayerIDs[c];if(S&&!G.some(le=>S.has(le)))return;let Z=this.sourceLayerCoder.decode(d),K=this.vtLayers[Z].feature(v);if(x.needGeometry){let le=Tm(K,!0);if(!x.filter(new Qn(this.tileID.overscaledZ),le,this.tileID.canonical))return}else if(!x.filter(new Qn(this.tileID.overscaledZ),K))return;let te=this.getId(K,Z);for(let le=0;le<G.length;le++){let me=G[le];if(S&&!S.has(me))continue;let De=P[me];if(!De)continue;let ye={};te&&L&&(ye=L.getState(De.sourceLayer||"_geojsonTileLayer",te));let W=Fe({},D[me]);W.paint=IJ(W.paint,De.paint,K,ye,T),W.layout=IJ(W.layout,De.layout,K,ye,T);let ae=!B||B(K,De,ye);if(!ae)continue;let be=new wJ(K,this.z,this.x,this.y,te);be.layer=W;let $e=s[me];$e===void 0&&($e=s[me]=[]),$e.push({featureIndex:v,feature:be,intersectionZ:ae})}}lookupSymbolFeatures(s,c,d,v,x,S,T,P){let D={};this.loadVTLayers();let L=dm(x);for(let B of s)this.loadMatchingFeature(D,d,v,B,L,S,T,P,c);return D}hasLayer(s){for(let c of this.bucketLayerIDs)for(let d of c)if(s===d)return!0;return!1}getId(s,c){var d;let v=s.id;return this.promoteId&&(v=s.properties[typeof this.promoteId=="string"?this.promoteId:this.promoteId[c]],typeof v=="boolean"&&(v=Number(v)),v===void 0&&!((d=s.properties)===null||d===void 0)&&d.cluster&&this.promoteId&&(v=Number(s.properties.cluster_id))),v}}function IJ(p,s,c,d,v){return Ue(p,(x,S)=>{let T=s instanceof Kv?s.get(S):null;return T&&T.evaluate?T.evaluate(c,d,v):T})}function EJ(p){let s=1/0,c=1/0,d=-1/0,v=-1/0;for(let x of p)s=Math.min(s,x.x),c=Math.min(c,x.y),d=Math.max(d,x.x),v=Math.max(v,x.y);return{minX:s,minY:c,maxX:d,maxY:v}}function SGe(p,s){return s-p}function TJ(p,s,c,d,v){let x=[];for(let S=0;S<p.length;S++){let T=p[S],P;for(let D=0;D<T.length-1;D++){let L=T[D],B=T[D+1];L.x<s&&B.x<s||(L.x<s?L=new M(s,L.y+(s-L.x)/(B.x-L.x)*(B.y-L.y))._round():B.x<s&&(B=new M(s,L.y+(s-L.x)/(B.x-L.x)*(B.y-L.y))._round()),L.y<c&&B.y<c||(L.y<c?L=new M(L.x+(c-L.y)/(B.y-L.y)*(B.x-L.x),c)._round():B.y<c&&(B=new M(L.x+(c-L.y)/(B.y-L.y)*(B.x-L.x),c)._round()),L.x>=d&&B.x>=d||(L.x>=d?L=new M(d,L.y+(d-L.x)/(B.x-L.x)*(B.y-L.y))._round():B.x>=d&&(B=new M(d,L.y+(d-L.x)/(B.x-L.x)*(B.y-L.y))._round()),L.y>=v&&B.y>=v||(L.y>=v?L=new M(L.x+(v-L.y)/(B.y-L.y)*(B.x-L.x),v)._round():B.y>=v&&(B=new M(L.x+(v-L.y)/(B.y-L.y)*(B.x-L.x),v)._round()),P&&L.equals(P[P.length-1])||(P=[L],x.push(P)),P.push(B)))))}}return x}$t("FeatureIndex",SJ,{omit:["rawTileData","sourceLayerCoder"]});class cd extends M{constructor(s,c,d,v){super(s,c),this.angle=d,v!==void 0&&(this.segment=v)}clone(){return new cd(this.x,this.y,this.angle,this.segment)}}function MJ(p,s,c,d,v){if(s.segment===void 0||c===0)return!0;let x=s,S=s.segment+1,T=0;for(;T>-c/2;){if(S--,S<0)return!1;T-=p[S].dist(x),x=p[S]}T+=p[S].dist(p[S+1]),S++;let P=[],D=0;for(;T<c/2;){let L=p[S],B=p[S+1];if(!B)return!1;let G=p[S-1].angleTo(L)-L.angleTo(B);for(G=Math.abs((G+3*Math.PI)%(2*Math.PI)-Math.PI),P.push({distance:T,angleDelta:G}),D+=G;T-P[0].distance>d;)D-=P.shift().angleDelta;if(D>v)return!1;S++,T+=L.dist(B)}return!0}function CJ(p){let s=0;for(let c=0;c<p.length-1;c++)s+=p[c].dist(p[c+1]);return s}function AJ(p,s,c){return p?.6*s*c:0}function PJ(p,s){return Math.max(p?p.right-p.left:0,s?s.right-s.left:0)}function IGe(p,s,c,d,v,x){let S=AJ(c,v,x),T=PJ(c,d)*x,P=0,D=CJ(p)/2;for(let L=0;L<p.length-1;L++){let B=p[L],G=p[L+1],Z=B.dist(G);if(P+Z>D){let K=(D-P)/Z,te=Cl.number(B.x,G.x,K),le=Cl.number(B.y,G.y,K),me=new cd(te,le,G.angleTo(B),L);return me._round(),!S||MJ(p,me,T,S,s)?me:void 0}P+=Z}}function EGe(p,s,c,d,v,x,S,T,P){let D=AJ(d,x,S),L=PJ(d,v),B=L*S,G=p[0].x===0||p[0].x===P||p[0].y===0||p[0].y===P;return s-B<s/4&&(s=B+s/4),OJ(p,G?s/2*T%s:(L/2+2*x)*S*T%s,s,D,c,B,G,!1,P)}function OJ(p,s,c,d,v,x,S,T,P){let D=x/2,L=CJ(p),B=0,G=s-c,Z=[];for(let K=0;K<p.length-1;K++){let te=p[K],le=p[K+1],me=te.dist(le),De=le.angleTo(te);for(;G+c<B+me;){G+=c;let ye=(G-B)/me,W=Cl.number(te.x,le.x,ye),ae=Cl.number(te.y,le.y,ye);if(W>=0&&W<P&&ae>=0&&ae<P&&G-D>=0&&G+D<=L){let be=new cd(W,ae,De,K);be._round(),d&&!MJ(p,be,x,d,v)||Z.push(be)}}B+=me}return T||Z.length||S||(Z=OJ(p,B/2,c,d,v,x,S,!0,P)),Z}$t("Anchor",cd);let qb=as;function DJ(p,s,c,d){let v=[],x=p.image,S=x.pixelRatio,T=x.paddedRect.w-2*qb,P=x.paddedRect.h-2*qb,D={x1:p.left,y1:p.top,x2:p.right,y2:p.bottom},L=x.stretchX||[[0,T]],B=x.stretchY||[[0,P]],G=(ot,Gt)=>ot+Gt[1]-Gt[0],Z=L.reduce(G,0),K=B.reduce(G,0),te=T-Z,le=P-K,me=0,De=Z,ye=0,W=K,ae=0,be=te,$e=0,pt=le;if(x.content&&d){let ot=x.content,Gt=ot[2]-ot[0],pr=ot[3]-ot[1];(x.textFitWidth||x.textFitHeight)&&(D=iJ(p)),me=_T(L,0,ot[0]),ye=_T(B,0,ot[1]),De=_T(L,ot[0],ot[2]),W=_T(B,ot[1],ot[3]),ae=ot[0]-me,$e=ot[1]-ye,be=Gt-De,pt=pr-W}let We=D.x1,et=D.y1,_t=D.x2-We,ft=D.y2-et,bt=(ot,Gt,pr,sr)=>{let Xt=bT(ot.stretch-me,De,_t,We),en=xT(ot.fixed-ae,be,ot.stretch,Z),wi=bT(Gt.stretch-ye,W,ft,et),Ji=xT(Gt.fixed-$e,pt,Gt.stretch,K),jo=bT(pr.stretch-me,De,_t,We),ll=xT(pr.fixed-ae,be,pr.stretch,Z),ss=bT(sr.stretch-ye,W,ft,et),Eo=xT(sr.fixed-$e,pt,sr.stretch,K),di=new M(Xt,wi),fo=new M(jo,wi),To=new M(jo,ss),Mo=new M(Xt,ss),Na=new M(en/S,Ji/S),ul=new M(ll/S,Eo/S),ho=s*Math.PI/180;if(ho){let mo=Math.sin(ho),go=Math.cos(ho),Ui=[go,-mo,mo,go];di._matMult(Ui),fo._matMult(Ui),Mo._matMult(Ui),To._matMult(Ui)}let ls=ot.stretch+ot.fixed,eo=Gt.stretch+Gt.fixed;return{tl:di,tr:fo,bl:Mo,br:To,tex:{x:x.paddedRect.x+qb+ls,y:x.paddedRect.y+qb+eo,w:pr.stretch+pr.fixed-ls,h:sr.stretch+sr.fixed-eo},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:Na,pixelOffsetBR:ul,minFontScaleX:be/S/_t,minFontScaleY:pt/S/ft,isSDF:c}};if(d&&(x.stretchX||x.stretchY)){let ot=NJ(L,te,Z),Gt=NJ(B,le,K);for(let pr=0;pr<ot.length-1;pr++){let sr=ot[pr],Xt=ot[pr+1];for(let en=0;en<Gt.length-1;en++)v.push(bt(sr,Gt[en],Xt,Gt[en+1]))}}else v.push(bt({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:T+1},{fixed:0,stretch:P+1}));return v}function _T(p,s,c){let d=0;for(let v of p)d+=Math.max(s,Math.min(c,v[1]))-Math.max(s,Math.min(c,v[0]));return d}function NJ(p,s,c){let d=[{fixed:-1,stretch:0}];for(let[v,x]of p){let S=d[d.length-1];d.push({fixed:v-S.stretch,stretch:S.stretch}),d.push({fixed:v-S.stretch,stretch:S.stretch+(x-v)})}return d.push({fixed:s+qb,stretch:c}),d}function bT(p,s,c,d){return p/s*c+d}function xT(p,s,c,d){return p-s*c/d}class wT{constructor(s,c,d,v,x,S,T,P,D,L){var B;if(this.boxStartIndex=s.length,D){let G=S.top,Z=S.bottom,K=S.collisionPadding;K&&(G-=K[1],Z+=K[3]);let te=Z-G;te>0&&(te=Math.max(10,te),this.circleDiameter=te)}else{let G=!((B=S.image)===null||B===void 0)&&B.content&&(S.image.textFitWidth||S.image.textFitHeight)?iJ(S):{x1:S.left,y1:S.top,x2:S.right,y2:S.bottom};G.y1=G.y1*T-P[0],G.y2=G.y2*T+P[2],G.x1=G.x1*T-P[3],G.x2=G.x2*T+P[1];let Z=S.collisionPadding;if(Z&&(G.x1-=Z[0]*T,G.y1-=Z[1]*T,G.x2+=Z[2]*T,G.y2+=Z[3]*T),L){let K=new M(G.x1,G.y1),te=new M(G.x2,G.y1),le=new M(G.x1,G.y2),me=new M(G.x2,G.y2),De=L*Math.PI/180;K._rotate(De),te._rotate(De),le._rotate(De),me._rotate(De),G.x1=Math.min(K.x,te.x,le.x,me.x),G.x2=Math.max(K.x,te.x,le.x,me.x),G.y1=Math.min(K.y,te.y,le.y,me.y),G.y2=Math.max(K.y,te.y,le.y,me.y)}s.emplaceBack(c.x,c.y,G.x1,G.y1,G.x2,G.y2,d,v,x)}this.boxEndIndex=s.length}}class TGe{constructor(s=[],c=(d,v)=>d<v?-1:d>v?1:0){if(this.data=s,this.length=this.data.length,this.compare=c,this.length>0)for(let d=(this.length>>1)-1;d>=0;d--)this._down(d)}push(s){this.data.push(s),this._up(this.length++)}pop(){if(this.length===0)return;let s=this.data[0],c=this.data.pop();return--this.length>0&&(this.data[0]=c,this._down(0)),s}peek(){return this.data[0]}_up(s){let{data:c,compare:d}=this,v=c[s];for(;s>0;){let x=s-1>>1,S=c[x];if(d(v,S)>=0)break;c[s]=S,s=x}c[s]=v}_down(s){let{data:c,compare:d}=this,v=this.length>>1,x=c[s];for(;s<v;){let S=1+(s<<1),T=S+1;if(T<this.length&&d(c[T],c[S])<0&&(S=T),d(c[S],x)>=0)break;c[s]=c[S],s=S}c[s]=x}}function MGe(p,s=1,c=!1){let d=1/0,v=1/0,x=-1/0,S=-1/0,T=p[0];for(let Z=0;Z<T.length;Z++){let K=T[Z];(!Z||K.x<d)&&(d=K.x),(!Z||K.y<v)&&(v=K.y),(!Z||K.x>x)&&(x=K.x),(!Z||K.y>S)&&(S=K.y)}let P=Math.min(x-d,S-v),D=P/2,L=new TGe([],CGe);if(P===0)return new M(d,v);for(let Z=d;Z<x;Z+=P)for(let K=v;K<S;K+=P)L.push(new oy(Z+D,K+D,D,p));let B=function(Z){let K=0,te=0,le=0,me=Z[0];for(let De=0,ye=me.length,W=ye-1;De<ye;W=De++){let ae=me[De],be=me[W],$e=ae.x*be.y-be.x*ae.y;te+=(ae.x+be.x)*$e,le+=(ae.y+be.y)*$e,K+=3*$e}return new oy(te/K,le/K,0,Z)}(p),G=L.length;for(;L.length;){let Z=L.pop();(Z.d>B.d||!B.d)&&(B=Z,c&&console.log("found best %d after %d probes",Math.round(1e4*Z.d)/1e4,G)),Z.max-B.d<=s||(D=Z.h/2,L.push(new oy(Z.p.x-D,Z.p.y-D,D,p)),L.push(new oy(Z.p.x+D,Z.p.y-D,D,p)),L.push(new oy(Z.p.x-D,Z.p.y+D,D,p)),L.push(new oy(Z.p.x+D,Z.p.y+D,D,p)),G+=4)}return c&&(console.log(`num probes: ${G}`),console.log(`best distance: ${B.d}`)),B.p}function CGe(p,s){return s.max-p.max}function oy(p,s,c,d){this.p=new M(p,s),this.h=c,this.d=function(v,x){let S=!1,T=1/0;for(let P=0;P<x.length;P++){let D=x[P];for(let L=0,B=D.length,G=B-1;L<B;G=L++){let Z=D[L],K=D[G];Z.y>v.y!=K.y>v.y&&v.x<(K.x-Z.x)*(v.y-Z.y)/(K.y-Z.y)+Z.x&&(S=!S),T=Math.min(T,dQ(v,Z,K))}}return(S?1:-1)*Math.sqrt(T)}(this.p,d),this.max=this.d+this.h*Math.SQRT2}var zo;i.aB=void 0,(zo=i.aB||(i.aB={}))[zo.center=1]="center",zo[zo.left=2]="left",zo[zo.right=3]="right",zo[zo.top=4]="top",zo[zo.bottom=5]="bottom",zo[zo["top-left"]=6]="top-left",zo[zo["top-right"]=7]="top-right",zo[zo["bottom-left"]=8]="bottom-left",zo[zo["bottom-right"]=9]="bottom-right";let pd=7,G6=Number.POSITIVE_INFINITY;function kJ(p,s){return s[1]!==G6?function(c,d,v){let x=0,S=0;switch(d=Math.abs(d),v=Math.abs(v),c){case"top-right":case"top-left":case"top":S=v-pd;break;case"bottom-right":case"bottom-left":case"bottom":S=-v+pd}switch(c){case"top-right":case"bottom-right":case"right":x=-d;break;case"top-left":case"bottom-left":case"left":x=d}return[x,S]}(p,s[0],s[1]):function(c,d){let v=0,x=0;d<0&&(d=0);let S=d/Math.SQRT2;switch(c){case"top-right":case"top-left":x=S-pd;break;case"bottom-right":case"bottom-left":x=-S+pd;break;case"bottom":x=-d+pd;break;case"top":x=d-pd}switch(c){case"top-right":case"bottom-right":v=-S;break;case"top-left":case"bottom-left":v=S;break;case"left":v=d;break;case"right":v=-d}return[v,x]}(p,s[0])}function LJ(p,s,c){var d;let v=p.layout,x=(d=v.get("text-variable-anchor-offset"))===null||d===void 0?void 0:d.evaluate(s,{},c);if(x){let T=x.values,P=[];for(let D=0;D<T.length;D+=2){let L=P[D]=T[D],B=T[D+1].map(G=>G*Qi);L.startsWith("top")?B[1]-=pd:L.startsWith("bottom")&&(B[1]+=pd),P[D+1]=B}return new Jo(P)}let S=v.get("text-variable-anchor");if(S){let T;T=p._unevaluatedLayout.getValue("text-radial-offset")!==void 0?[v.get("text-radial-offset").evaluate(s,{},c)*Qi,G6]:v.get("text-offset").evaluate(s,{},c).map(D=>D*Qi);let P=[];for(let D of S)P.push(D,kJ(D,T));return new Jo(P)}return null}function H6(p){switch(p){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function AGe(p,s,c,d,v,x,S,T,P,D,L,B){let G=x.textMaxSize.evaluate(s,{});G===void 0&&(G=S);let Z=p.layers[0].layout,K=Z.get("icon-offset").evaluate(s,{},L),te=qJ(c.horizontal),le=S/24,me=p.tilePixelRatio*le,De=p.tilePixelRatio*G/24,ye=p.tilePixelRatio*T,W=p.tilePixelRatio*Z.get("symbol-spacing"),ae=Z.get("text-padding")*p.tilePixelRatio,be=function(pr,sr,Xt,en=1){let wi=pr.get("icon-padding").evaluate(sr,{},Xt),Ji=wi&&wi.values;return[Ji[0]*en,Ji[1]*en,Ji[2]*en,Ji[3]*en]}(Z,s,L,p.tilePixelRatio),$e=Z.get("text-max-angle")/180*Math.PI,pt=Z.get("text-rotation-alignment")!=="viewport"&&Z.get("symbol-placement")!=="point",We=Z.get("icon-rotation-alignment")==="map"&&Z.get("symbol-placement")!=="point",et=Z.get("symbol-placement"),_t=W/2,ft=Z.get("icon-text-fit"),bt;d&&ft!=="none"&&(p.allowVerticalPlacement&&c.vertical&&(bt=oJ(d,c.vertical,ft,Z.get("icon-text-fit-padding"),K,le)),te&&(d=oJ(d,te,ft,Z.get("icon-text-fit-padding"),K,le)));let ot=L?B.line.getGranularityForZoomLevel(L.z):1,Gt=(pr,sr)=>{sr.x<0||sr.x>=at||sr.y<0||sr.y>=at||function(Xt,en,wi,Ji,jo,ll,ss,Eo,di,fo,To,Mo,Na,ul,ho,ls,eo,mo,go,Ui,ei,Su,ay,Iu,DGe){let sy=Xt.addToLineVertexArray(en,wi),Pm,ly,uy,cy,BJ=0,UJ=0,VJ=0,$J=0,eL=-1,tL=-1,Lp={},GJ=xu("");if(Xt.allowVerticalPlacement&&Ji.vertical){let ra=Eo.layout.get("text-rotate").evaluate(ei,{},Iu)+90;uy=new wT(di,en,fo,To,Mo,Ji.vertical,Na,ul,ho,ra),ss&&(cy=new wT(di,en,fo,To,Mo,ss,eo,mo,ho,ra))}if(jo){let ra=Eo.layout.get("icon-rotate").evaluate(ei,{}),cl=Eo.layout.get("icon-text-fit")!=="none",Om=DJ(jo,ra,ay,cl),Tu=ss?DJ(ss,ra,ay,cl):void 0;ly=new wT(di,en,fo,To,Mo,jo,eo,mo,!1,ra),BJ=4*Om.length;let Dm=Xt.iconSizeData,xc=null;Dm.kind==="source"?(xc=[bc*Eo.layout.get("icon-size").evaluate(ei,{})],xc[0]>ld&&St(`${Xt.layerIds[0]}: Value for "icon-size" is >= ${Lb}. Reduce your "icon-size".`)):Dm.kind==="composite"&&(xc=[bc*Su.compositeIconSizes[0].evaluate(ei,{},Iu),bc*Su.compositeIconSizes[1].evaluate(ei,{},Iu)],(xc[0]>ld||xc[1]>ld)&&St(`${Xt.layerIds[0]}: Value for "icon-size" is >= ${Lb}. Reduce your "icon-size".`)),Xt.addSymbols(Xt.icon,Om,xc,Ui,go,ei,i.al.none,en,sy.lineStartIndex,sy.lineLength,-1,Iu),eL=Xt.icon.placedSymbolArray.length-1,Tu&&(UJ=4*Tu.length,Xt.addSymbols(Xt.icon,Tu,xc,Ui,go,ei,i.al.vertical,en,sy.lineStartIndex,sy.lineLength,-1,Iu),tL=Xt.icon.placedSymbolArray.length-1)}let HJ=Object.keys(Ji.horizontal);for(let ra of HJ){let cl=Ji.horizontal[ra];if(!Pm){GJ=xu(cl.text);let Tu=Eo.layout.get("text-rotate").evaluate(ei,{},Iu);Pm=new wT(di,en,fo,To,Mo,cl,Na,ul,ho,Tu)}let Om=cl.positionedLines.length===1;if(VJ+=RJ(Xt,en,cl,ll,Eo,ho,ei,ls,sy,Ji.vertical?i.al.horizontal:i.al.horizontalOnly,Om?HJ:[ra],Lp,eL,Su,Iu),Om)break}Ji.vertical&&($J+=RJ(Xt,en,Ji.vertical,ll,Eo,ho,ei,ls,sy,i.al.vertical,["vertical"],Lp,tL,Su,Iu));let NGe=Pm?Pm.boxStartIndex:Xt.collisionBoxArray.length,kGe=Pm?Pm.boxEndIndex:Xt.collisionBoxArray.length,LGe=uy?uy.boxStartIndex:Xt.collisionBoxArray.length,RGe=uy?uy.boxEndIndex:Xt.collisionBoxArray.length,qGe=ly?ly.boxStartIndex:Xt.collisionBoxArray.length,zGe=ly?ly.boxEndIndex:Xt.collisionBoxArray.length,jGe=cy?cy.boxStartIndex:Xt.collisionBoxArray.length,FGe=cy?cy.boxEndIndex:Xt.collisionBoxArray.length,Eu=-1,IT=(ra,cl)=>ra&&ra.circleDiameter?Math.max(ra.circleDiameter,cl):cl;Eu=IT(Pm,Eu),Eu=IT(uy,Eu),Eu=IT(ly,Eu),Eu=IT(cy,Eu);let WJ=Eu>-1?1:0;WJ&&(Eu*=DGe/Qi),Xt.glyphOffsetArray.length>=ny.MAX_GLYPHS&&St("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),ei.sortKey!==void 0&&Xt.addToSortKeyRanges(Xt.symbolInstances.length,ei.sortKey);let BGe=LJ(Eo,ei,Iu),[UGe,VGe]=function(ra,cl){let Om=ra.length,Tu=cl==null?void 0:cl.values;if((Tu==null?void 0:Tu.length)>0)for(let Dm=0;Dm<Tu.length;Dm+=2){let xc=Tu[Dm+1];ra.emplaceBack(i.aB[Tu[Dm]],xc[0],xc[1])}return[Om,ra.length]}(Xt.textAnchorOffsets,BGe);Xt.symbolInstances.emplaceBack(en.x,en.y,Lp.right>=0?Lp.right:-1,Lp.center>=0?Lp.center:-1,Lp.left>=0?Lp.left:-1,Lp.vertical||-1,eL,tL,GJ,NGe,kGe,LGe,RGe,qGe,zGe,jGe,FGe,fo,VJ,$J,BJ,UJ,WJ,0,Na,Eu,UGe,VGe)}(p,sr,pr,c,d,v,bt,p.layers[0],p.collisionBoxArray,s.index,s.sourceLayerIndex,p.index,me,[ae,ae,ae,ae],pt,P,ye,be,We,K,s,x,D,L,S)};if(et==="line")for(let pr of TJ(s.geometry,0,0,at,at)){let sr=Am(pr,ot),Xt=EGe(sr,W,$e,c.vertical||te,d,24,De,p.overscaling,at);for(let en of Xt)te&&PGe(p,te.text,_t,en)||Gt(sr,en)}else if(et==="line-center"){for(let pr of s.geometry)if(pr.length>1){let sr=Am(pr,ot),Xt=IGe(sr,$e,c.vertical||te,d,24,De);Xt&&Gt(sr,Xt)}}else if(s.type==="Polygon")for(let pr of Sv(s.geometry,0)){let sr=MGe(pr,16);Gt(Am(pr[0],ot,!0),new cd(sr.x,sr.y,0))}else if(s.type==="LineString")for(let pr of s.geometry){let sr=Am(pr,ot);Gt(sr,new cd(sr[0].x,sr[0].y,0))}else if(s.type==="Point")for(let pr of s.geometry)for(let sr of pr)Gt([sr],new cd(sr.x,sr.y,0))}function RJ(p,s,c,d,v,x,S,T,P,D,L,B,G,Z,K){let te=function(De,ye,W,ae,be,$e,pt,We){let et=ae.layout.get("text-rotate").evaluate($e,{})*Math.PI/180,_t=[];for(let ft of ye.positionedLines)for(let bt of ft.positionedGlyphs){if(!bt.rect)continue;let ot=bt.rect||{},Gt=nGe+1,pr=!0,sr=1,Xt=0,en=(be||We)&&bt.vertical,wi=bt.metrics.advance*bt.scale/2;if(We&&ye.verticalizable&&(Xt=ft.lineOffset/2-(bt.imageName?-(Qi-bt.metrics.width*bt.scale)/2:(bt.scale-1)*Qi)),bt.imageName){let mo=pt[bt.imageName];pr=mo.sdf,sr=mo.pixelRatio,Gt=as/sr}let Ji=be?[bt.x+wi,bt.y]:[0,0],jo=be?[0,0]:[bt.x+wi+W[0],bt.y+W[1]-Xt],ll=[0,0];en&&(ll=jo,jo=[0,0]);let ss=bt.metrics.isDoubleResolution?2:1,Eo=(bt.metrics.left-Gt)*bt.scale-wi+jo[0],di=(-bt.metrics.top-Gt)*bt.scale+jo[1],fo=Eo+ot.w/ss*bt.scale/sr,To=di+ot.h/ss*bt.scale/sr,Mo=new M(Eo,di),Na=new M(fo,di),ul=new M(Eo,To),ho=new M(fo,To);if(en){let mo=new M(-wi,wi-hT),go=-Math.PI/2,Ui=Qi/2-wi,ei=new M(5-hT-Ui,-(bt.imageName?Ui:0)),Su=new M(...ll);Mo._rotateAround(go,mo)._add(ei)._add(Su),Na._rotateAround(go,mo)._add(ei)._add(Su),ul._rotateAround(go,mo)._add(ei)._add(Su),ho._rotateAround(go,mo)._add(ei)._add(Su)}if(et){let mo=Math.sin(et),go=Math.cos(et),Ui=[go,-mo,mo,go];Mo._matMult(Ui),Na._matMult(Ui),ul._matMult(Ui),ho._matMult(Ui)}let ls=new M(0,0),eo=new M(0,0);_t.push({tl:Mo,tr:Na,bl:ul,br:ho,tex:ot,writingMode:ye.writingMode,glyphOffset:Ji,sectionIndex:bt.sectionIndex,isSDF:pr,pixelOffsetTL:ls,pixelOffsetBR:eo,minFontScaleX:0,minFontScaleY:0})}return _t}(0,c,T,v,x,S,d,p.allowVerticalPlacement),le=p.textSizeData,me=null;le.kind==="source"?(me=[bc*v.layout.get("text-size").evaluate(S,{})],me[0]>ld&&St(`${p.layerIds[0]}: Value for "text-size" is >= ${Lb}. Reduce your "text-size".`)):le.kind==="composite"&&(me=[bc*Z.compositeTextSizes[0].evaluate(S,{},K),bc*Z.compositeTextSizes[1].evaluate(S,{},K)],(me[0]>ld||me[1]>ld)&&St(`${p.layerIds[0]}: Value for "text-size" is >= ${Lb}. Reduce your "text-size".`)),p.addSymbols(p.text,te,me,T,x,S,D,s,P.lineStartIndex,P.lineLength,G,K);for(let De of L)B[De]=p.text.placedSymbolArray.length-1;return 4*te.length}function qJ(p){for(let s in p)return p[s];return null}function PGe(p,s,c,d){let v=p.compareText;if(s in v){let x=v[s];for(let S=x.length-1;S>=0;S--)if(d.dist(x[S])<c)return!0}else v[s]=[];return v[s].push(d),!1}let zJ=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class W6{static from(s){if(!(s instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");let[c,d]=new Uint8Array(s,0,2);if(c!==219)throw new Error("Data does not appear to be in a KDBush format.");let v=d>>4;if(v!==1)throw new Error(`Got v${v} data when expected v1.`);let x=zJ[15&d];if(!x)throw new Error("Unrecognized array type.");let[S]=new Uint16Array(s,2,1),[T]=new Uint32Array(s,4,1);return new W6(T,S,x,s)}constructor(s,c=64,d=Float64Array,v){if(isNaN(s)||s<0)throw new Error(`Unpexpected numItems value: ${s}.`);this.numItems=+s,this.nodeSize=Math.min(Math.max(+c,2),65535),this.ArrayType=d,this.IndexArrayType=s<65536?Uint16Array:Uint32Array;let x=zJ.indexOf(this.ArrayType),S=2*s*this.ArrayType.BYTES_PER_ELEMENT,T=s*this.IndexArrayType.BYTES_PER_ELEMENT,P=(8-T%8)%8;if(x<0)throw new Error(`Unexpected typed array class: ${d}.`);v&&v instanceof ArrayBuffer?(this.data=v,this.ids=new this.IndexArrayType(this.data,8,s),this.coords=new this.ArrayType(this.data,8+T+P,2*s),this._pos=2*s,this._finished=!0):(this.data=new ArrayBuffer(8+S+T+P),this.ids=new this.IndexArrayType(this.data,8,s),this.coords=new this.ArrayType(this.data,8+T+P,2*s),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+x]),new Uint16Array(this.data,2,1)[0]=c,new Uint32Array(this.data,4,1)[0]=s)}add(s,c){let d=this._pos>>1;return this.ids[d]=d,this.coords[this._pos++]=s,this.coords[this._pos++]=c,d}finish(){let s=this._pos>>1;if(s!==this.numItems)throw new Error(`Added ${s} items when expected ${this.numItems}.`);return Z6(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(s,c,d,v){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");let{ids:x,coords:S,nodeSize:T}=this,P=[0,x.length-1,0],D=[];for(;P.length;){let L=P.pop()||0,B=P.pop()||0,G=P.pop()||0;if(B-G<=T){for(let le=G;le<=B;le++){let me=S[2*le],De=S[2*le+1];me>=s&&me<=d&&De>=c&&De<=v&&D.push(x[le])}continue}let Z=G+B>>1,K=S[2*Z],te=S[2*Z+1];K>=s&&K<=d&&te>=c&&te<=v&&D.push(x[Z]),(L===0?s<=K:c<=te)&&(P.push(G),P.push(Z-1),P.push(1-L)),(L===0?d>=K:v>=te)&&(P.push(Z+1),P.push(B),P.push(1-L))}return D}within(s,c,d){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");let{ids:v,coords:x,nodeSize:S}=this,T=[0,v.length-1,0],P=[],D=d*d;for(;T.length;){let L=T.pop()||0,B=T.pop()||0,G=T.pop()||0;if(B-G<=S){for(let le=G;le<=B;le++)FJ(x[2*le],x[2*le+1],s,c)<=D&&P.push(v[le]);continue}let Z=G+B>>1,K=x[2*Z],te=x[2*Z+1];FJ(K,te,s,c)<=D&&P.push(v[Z]),(L===0?s-d<=K:c-d<=te)&&(T.push(G),T.push(Z-1),T.push(1-L)),(L===0?s+d>=K:c+d>=te)&&(T.push(Z+1),T.push(B),T.push(1-L))}return P}}function Z6(p,s,c,d,v,x){if(v-d<=c)return;let S=d+v>>1;jJ(p,s,S,d,v,x),Z6(p,s,c,d,S-1,1-x),Z6(p,s,c,S+1,v,1-x)}function jJ(p,s,c,d,v,x){for(;v>d;){if(v-d>600){let D=v-d+1,L=c-d+1,B=Math.log(D),G=.5*Math.exp(2*B/3),Z=.5*Math.sqrt(B*G*(D-G)/D)*(L-D/2<0?-1:1);jJ(p,s,c,Math.max(d,Math.floor(c-L*G/D+Z)),Math.min(v,Math.floor(c+(D-L)*G/D+Z)),x)}let S=s[2*c+x],T=d,P=v;for(zb(p,s,d,c),s[2*v+x]>S&&zb(p,s,d,v);T<P;){for(zb(p,s,T,P),T++,P--;s[2*T+x]<S;)T++;for(;s[2*P+x]>S;)P--}s[2*d+x]===S?zb(p,s,d,P):(P++,zb(p,s,P,v)),P<=c&&(d=P+1),c<=P&&(v=P-1)}}function zb(p,s,c,d){Y6(p,c,d),Y6(s,2*c,2*d),Y6(s,2*c+1,2*d+1)}function Y6(p,s,c){let d=p[s];p[s]=p[c],p[c]=d}function FJ(p,s,c,d){let v=p-c,x=s-d;return v*v+x*x}var K6;i.co=void 0,(K6=i.co||(i.co={})).create="create",K6.load="load",K6.fullLoad="fullLoad";let ST=null,jb=[],X6=1e3/60,Q6="loadTime",J6="fullLoadTime",OGe={mark(p){performance.mark(p)},frame(p){let s=p;ST!=null&&jb.push(s-ST),ST=s},clearMetrics(){ST=null,jb=[],performance.clearMeasures(Q6),performance.clearMeasures(J6);for(let p in i.co)performance.clearMarks(i.co[p])},getPerformanceMetrics(){performance.measure(Q6,i.co.create,i.co.load),performance.measure(J6,i.co.create,i.co.fullLoad);let p=performance.getEntriesByName(Q6)[0].duration,s=performance.getEntriesByName(J6)[0].duration,c=jb.length,d=1/(jb.reduce((x,S)=>x+S,0)/c/1e3),v=jb.filter(x=>x>X6).reduce((x,S)=>x+(S-X6)/X6,0);return{loadTime:p,fullLoadTime:s,fps:d,percentDroppedFrames:v/(c+v)*100,totalFrames:c}}};i.$=Rb,i.A=re,i.B=Cl,i.C=Qn,i.D=Qt,i.E=ue,i.F=o6,i.G=function(p){if(Yt==null){let s=p.navigator?p.navigator.userAgent:null;Yt=!!p.safari||!(!s||!(/\b(iPad|iPhone|iPod)\b/.test(s)||s.match("Safari")&&!s.match("Chrome")))}return Yt},i.H=class{constructor(p,s){this.target=p,this.mapId=s,this.resolveRejects={},this.tasks={},this.taskQueue=[],this.abortControllers={},this.messageHandlers={},this.invoker=new xGe(()=>this.process()),this.subscription=ur(this.target,"message",c=>this.receive(c),!1),this.globalScope=Nt(self)?p:window}registerMessageHandler(p,s){this.messageHandlers[p]=s}sendAsync(p,s){return new Promise((c,d)=>{let v=Math.round(1e18*Math.random()).toString(36).substring(0,10),x=s?ur(s.signal,"abort",()=>{x==null||x.unsubscribe(),delete this.resolveRejects[v];let P={id:v,type:"<cancel>",origin:location.origin,targetMapId:p.targetMapId,sourceMapId:this.mapId};this.target.postMessage(P)},wGe):null;this.resolveRejects[v]={resolve:P=>{x==null||x.unsubscribe(),c(P)},reject:P=>{x==null||x.unsubscribe(),d(P)}};let S=[],T=Object.assign(Object.assign({},p),{id:v,sourceMapId:this.mapId,origin:location.origin,data:id(p.data,S)});this.target.postMessage(T,{transfer:S})})}receive(p){let s=p.data,c=s.id;if(!(s.origin!=="file://"&&location.origin!=="file://"&&s.origin!=="resource://android"&&location.origin!=="resource://android"&&s.origin!==location.origin||s.targetMapId&&this.mapId!==s.targetMapId)){if(s.type==="<cancel>"){delete this.tasks[c];let d=this.abortControllers[c];return delete this.abortControllers[c],void(d&&d.abort())}if(Nt(self)||s.mustQueue)return this.tasks[c]=s,this.taskQueue.push(c),void this.invoker.trigger();this.processTask(c,s)}}process(){if(this.taskQueue.length===0)return;let p=this.taskQueue.shift(),s=this.tasks[p];delete this.tasks[p],this.taskQueue.length>0&&this.invoker.trigger(),s&&this.processTask(p,s)}processTask(p,s){return o(this,void 0,void 0,function*(){if(s.type==="<response>"){let v=this.resolveRejects[p];return delete this.resolveRejects[p],v?void(s.error?v.reject(vm(s.error)):v.resolve(vm(s.data))):void 0}if(!this.messageHandlers[s.type])return void this.completeTask(p,new Error(`Could not find a registered handler for ${s.type}, map ID: ${this.mapId}, available handlers: ${Object.keys(this.messageHandlers).join(", ")}`));let c=vm(s.data),d=new AbortController;this.abortControllers[p]=d;try{let v=yield this.messageHandlers[s.type](s.sourceMapId,c,d);this.completeTask(p,null,v)}catch(v){this.completeTask(p,v)}})}completeTask(p,s,c){let d=[];delete this.abortControllers[p];let v={id:p,type:"<response>",sourceMapId:this.mapId,origin:location.origin,error:s?id(s):null,data:id(c,d)};this.target.postMessage(v,{transfer:d})}remove(){this.invoker.remove(),this.subscription.unsubscribe()}},i.I=k6,i.J=cc,i.K=function(){var p=new re(16);return re!=Float32Array&&(p[1]=0,p[2]=0,p[3]=0,p[4]=0,p[6]=0,p[7]=0,p[8]=0,p[9]=0,p[11]=0,p[12]=0,p[13]=0,p[14]=0),p[0]=1,p[5]=1,p[10]=1,p[15]=1,p},i.L=function(p,s,c){var d,v,x,S,T,P,D,L,B,G,Z,K,te=c[0],le=c[1],me=c[2];return s===p?(p[12]=s[0]*te+s[4]*le+s[8]*me+s[12],p[13]=s[1]*te+s[5]*le+s[9]*me+s[13],p[14]=s[2]*te+s[6]*le+s[10]*me+s[14],p[15]=s[3]*te+s[7]*le+s[11]*me+s[15]):(v=s[1],x=s[2],S=s[3],T=s[4],P=s[5],D=s[6],L=s[7],B=s[8],G=s[9],Z=s[10],K=s[11],p[0]=d=s[0],p[1]=v,p[2]=x,p[3]=S,p[4]=T,p[5]=P,p[6]=D,p[7]=L,p[8]=B,p[9]=G,p[10]=Z,p[11]=K,p[12]=d*te+T*le+B*me+s[12],p[13]=v*te+P*le+G*me+s[13],p[14]=x*te+D*le+Z*me+s[14],p[15]=S*te+L*le+K*me+s[15]),p},i.M=function(p,s,c){var d=c[0],v=c[1],x=c[2];return p[0]=s[0]*d,p[1]=s[1]*d,p[2]=s[2]*d,p[3]=s[3]*d,p[4]=s[4]*v,p[5]=s[5]*v,p[6]=s[6]*v,p[7]=s[7]*v,p[8]=s[8]*x,p[9]=s[9]*x,p[10]=s[10]*x,p[11]=s[11]*x,p[12]=s[12],p[13]=s[13],p[14]=s[14],p[15]=s[15],p},i.N=function(p,s,c){var d=s[0],v=s[1],x=s[2],S=s[3],T=s[4],P=s[5],D=s[6],L=s[7],B=s[8],G=s[9],Z=s[10],K=s[11],te=s[12],le=s[13],me=s[14],De=s[15],ye=c[0],W=c[1],ae=c[2],be=c[3];return p[0]=ye*d+W*T+ae*B+be*te,p[1]=ye*v+W*P+ae*G+be*le,p[2]=ye*x+W*D+ae*Z+be*me,p[3]=ye*S+W*L+ae*K+be*De,p[4]=(ye=c[4])*d+(W=c[5])*T+(ae=c[6])*B+(be=c[7])*te,p[5]=ye*v+W*P+ae*G+be*le,p[6]=ye*x+W*D+ae*Z+be*me,p[7]=ye*S+W*L+ae*K+be*De,p[8]=(ye=c[8])*d+(W=c[9])*T+(ae=c[10])*B+(be=c[11])*te,p[9]=ye*v+W*P+ae*G+be*le,p[10]=ye*x+W*D+ae*Z+be*me,p[11]=ye*S+W*L+ae*K+be*De,p[12]=(ye=c[12])*d+(W=c[13])*T+(ae=c[14])*B+(be=c[15])*te,p[13]=ye*v+W*P+ae*G+be*le,p[14]=ye*x+W*D+ae*Z+be*me,p[15]=ye*S+W*L+ae*K+be*De,p},i.O=function(p,s){let c={};for(let d=0;d<s.length;d++){let v=s[d];v in p&&(c[v]=p[v])}return c},i.P=M,i.Q=ud,i.R=al,i.S=mJ,i.T=tT,i.U=hJ,i.V=R,i.W=U,i.X=Jt,i.Y=sl,i.Z=at,i._=o,i.a=Mi,i.a$=function(p,s,c){var d=Math.sin(c),v=Math.cos(c),x=s[4],S=s[5],T=s[6],P=s[7],D=s[8],L=s[9],B=s[10],G=s[11];return s!==p&&(p[0]=s[0],p[1]=s[1],p[2]=s[2],p[3]=s[3],p[12]=s[12],p[13]=s[13],p[14]=s[14],p[15]=s[15]),p[4]=x*v+D*d,p[5]=S*v+L*d,p[6]=T*v+B*d,p[7]=P*v+G*d,p[8]=D*v-x*d,p[9]=L*v-S*d,p[10]=B*v-T*d,p[11]=G*v-P*d,p},i.a0=25,i.a1=$6,i.a2=p=>{let s=window.document.createElement("video");return s.muted=!0,new Promise(c=>{s.onloadstart=()=>{c(s)};for(let d of p){let v=window.document.createElement("source");Be(d)||(s.crossOrigin="Anonymous"),v.src=d,s.appendChild(v)}})},i.a3=Ke,i.a4=function(){return Me++},i.a5=he,i.a6=ny,i.a7=dm,i.a8=Tm,i.a9=wJ,i.aA=function(p,s,c,d,v=!1){if(!c[0]&&!c[1])return[0,0];let x=v?d==="map"?-p.bearingInRadians:0:d==="viewport"?p.bearingInRadians:0;if(x){let S=Math.sin(x),T=Math.cos(x);c=[c[0]*T-c[1]*S,c[0]*S+c[1]*T]}return[v?c[0]:At(s,c[0],p.zoom),v?c[1]:At(s,c[1],p.zoom)]},i.aC=q6,i.aD=H6,i.aE=R6,i.aF=W6,i.aG=ui,i.aH=pT,i.aI=Je,i.aJ=vn,i.aK=gn,i.aL=yt,i.aM=Mr,i.aN=vJ,i.aO=function(p,s,c){return p[0]=s[0]*c,p[1]=s[1]*c,p[2]=s[2]*c,p},i.aP=function(p,s,c){return p[0]=s[0]+c[0],p[1]=s[1]+c[1],p[2]=s[2]+c[2],p},i.aQ=function(p){var s=new re(3);return s[0]=p[0],s[1]=p[1],s[2]=p[2],s},i.aR=function(p,s,c){return p[0]=s[0]*c[0],p[1]=s[1]*c[1],p[2]=s[2]*c[2],p[3]=s[3]*c[3],p},i.aS=function(p,s,c){return p[0]=s[0]-c[0],p[1]=s[1]-c[1],p[2]=s[2]-c[2],p},i.aT=function(p,s){var c=s[0],d=s[1],v=s[2],x=c*c+d*d+v*v;return x>0&&(x=1/Math.sqrt(x)),p[0]=s[0]*x,p[1]=s[1]*x,p[2]=s[2]*x,p},i.aU=function(p,s,c){var d=s[0],v=s[1],x=s[2],S=c[0],T=c[1],P=c[2];return p[0]=v*P-x*T,p[1]=x*S-d*P,p[2]=d*T-v*S,p},i.aV=function(p,s){return p[0]*s[0]+p[1]*s[1]+p[2]*s[2]},i.aW=_J,i.aX=iy,i.aY=function(p,s,c,d,v){var x,S=1/Math.tan(s/2);return p[0]=S/c,p[1]=0,p[2]=0,p[3]=0,p[4]=0,p[5]=S,p[6]=0,p[7]=0,p[8]=0,p[9]=0,p[11]=-1,p[12]=0,p[13]=0,p[15]=0,v!=null&&v!==1/0?(p[10]=(v+d)*(x=1/(d-v)),p[14]=2*v*d*x):(p[10]=-1,p[14]=-2*d),p},i.aZ=function(p){var s=new re(16);return s[0]=p[0],s[1]=p[1],s[2]=p[2],s[3]=p[3],s[4]=p[4],s[5]=p[5],s[6]=p[6],s[7]=p[7],s[8]=p[8],s[9]=p[9],s[10]=p[10],s[11]=p[11],s[12]=p[12],s[13]=p[13],s[14]=p[14],s[15]=p[15],s},i.a_=function(p,s,c){var d=Math.sin(c),v=Math.cos(c),x=s[0],S=s[1],T=s[2],P=s[3],D=s[4],L=s[5],B=s[6],G=s[7];return s!==p&&(p[8]=s[8],p[9]=s[9],p[10]=s[10],p[11]=s[11],p[12]=s[12],p[13]=s[13],p[14]=s[14],p[15]=s[15]),p[0]=x*v+D*d,p[1]=S*v+L*d,p[2]=T*v+B*d,p[3]=P*v+G*d,p[4]=D*v-x*d,p[5]=L*v-S*d,p[6]=B*v-T*d,p[7]=G*v-P*d,p},i.aa=function(p){let s={};if(p.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(c,d,v,x)=>{let S=v||x;return s[d]=!S||S.toLowerCase(),""}),s["max-age"]){let c=parseInt(s["max-age"],10);isNaN(c)?delete s["max-age"]:s["max-age"]=c}return s},i.ab=wr,i.ac=function(p){return Math.pow(2,p)},i.ad=ce,i.ae=lt,i.af=85.051129,i.ag=gJ,i.ah=function(p){return Math.log(p)/Math.LN2},i.ai=function(p){var s=p[0],c=p[1];return s*s+c*c},i.aj=function(p,s){let c=[];for(let d in p)d in s||c.push(d);return c},i.ak=function(p,s){let c=0,d=0;if(p.kind==="constant")d=p.layoutSize;else if(p.kind!=="source"){let{interpolationType:v,minZoom:x,maxZoom:S}=p,T=v?lt(Ro.interpolationFactor(v,s,x,S),0,1):0;p.kind==="camera"?d=Cl.number(p.minSize,p.maxSize,T):c=T}return{uSizeT:c,uSize:d}},i.am=function(p,{uSize:s,uSizeT:c},{lowerSize:d,upperSize:v}){return p.kind==="source"?d/bc:p.kind==="composite"?Cl.number(d/bc,v/bc,c):s},i.an=function(p,s){var c=s[0],d=s[1],v=s[2],x=s[3],S=s[4],T=s[5],P=s[6],D=s[7],L=s[8],B=s[9],G=s[10],Z=s[11],K=s[12],te=s[13],le=s[14],me=s[15],De=c*T-d*S,ye=c*P-v*S,W=c*D-x*S,ae=d*P-v*T,be=d*D-x*T,$e=v*D-x*P,pt=L*te-B*K,We=L*le-G*K,et=L*me-Z*K,_t=B*le-G*te,ft=B*me-Z*te,bt=G*me-Z*le,ot=De*bt-ye*ft+W*_t+ae*et-be*We+$e*pt;return ot?(p[0]=(T*bt-P*ft+D*_t)*(ot=1/ot),p[1]=(v*ft-d*bt-x*_t)*ot,p[2]=(te*$e-le*be+me*ae)*ot,p[3]=(G*be-B*$e-Z*ae)*ot,p[4]=(P*et-S*bt-D*We)*ot,p[5]=(c*bt-v*et+x*We)*ot,p[6]=(le*W-K*$e-me*ye)*ot,p[7]=(L*$e-G*W+Z*ye)*ot,p[8]=(S*ft-T*et+D*pt)*ot,p[9]=(d*et-c*ft-x*pt)*ot,p[10]=(K*be-te*W+me*De)*ot,p[11]=(B*W-L*be-Z*De)*ot,p[12]=(T*We-S*_t-P*pt)*ot,p[13]=(c*_t-d*We+v*pt)*ot,p[14]=(te*ye-K*ae-le*De)*ot,p[15]=(L*ae-B*ye+G*De)*ot,p):null},i.ao=ze,i.ap=function(p){return Math.hypot(p[0],p[1])},i.aq=function(p){return p[0]=0,p[1]=0,p},i.ar=function(p,s,c){return p[0]=s[0]*c,p[1]=s[1]*c,p},i.as=z6,i.at=Ne,i.au=function(p,s,c,d){let v=s.y-p.y,x=s.x-p.x,S=d.y-c.y,T=d.x-c.x,P=S*x-T*v;if(P===0)return null;let D=(T*(p.y-c.y)-S*(p.x-c.x))/P;return new M(p.x+D*x,p.y+D*v)},i.av=TJ,i.aw=pQ,i.ax=function(p){let s=1/0,c=1/0,d=-1/0,v=-1/0;for(let x of p)s=Math.min(s,x.x),c=Math.min(c,x.y),d=Math.max(d,x.x),v=Math.max(v,x.y);return[s,c,d,v]},i.ay=Qi,i.az=At,i.b=It,i.b$=class extends ee{},i.b0=function(){let p=new Float32Array(16);return ce(p),p},i.b1=function(){let p=new Float64Array(16);return ce(p),p},i.b2=function(){return new Float64Array(16)},i.b3=function(p,s,c){let d=new Float64Array(4);return function(v,x,S,T){var P=.5*Math.PI/180;x*=P,S*=P,T*=P;var D=Math.sin(x),L=Math.cos(x),B=Math.sin(S),G=Math.cos(S),Z=Math.sin(T),K=Math.cos(T);v[0]=D*G*K-L*B*Z,v[1]=L*B*K+D*G*Z,v[2]=L*G*Z-D*B*K,v[3]=L*G*K+D*B*Z}(d,p,s-90,c),d},i.b4=function(p,s,c,d){var v,x,S,T,P,D=s[0],L=s[1],B=s[2],G=s[3],Z=c[0],K=c[1],te=c[2],le=c[3];return(x=D*Z+L*K+B*te+G*le)<0&&(x=-x,Z=-Z,K=-K,te=-te,le=-le),1-x>Y?(v=Math.acos(x),S=Math.sin(v),T=Math.sin((1-d)*v)/S,P=Math.sin(d*v)/S):(T=1-d,P=d),p[0]=T*D+P*Z,p[1]=T*L+P*K,p[2]=T*B+P*te,p[3]=T*G+P*le,p},i.b5=function(p){let s=new Float64Array(9);var c,d,v,x,S,T,P,D,L,B,G,Z,K,te,le,me,De,ye;B=(v=(d=p)[0])*(P=v+v),G=(x=d[1])*P,K=(S=d[2])*P,te=S*(D=x+x),me=(T=d[3])*P,De=T*D,ye=T*(L=S+S),(c=s)[0]=1-(Z=x*D)-(le=S*L),c[3]=G-ye,c[6]=K+De,c[1]=G+ye,c[4]=1-B-le,c[7]=te-me,c[2]=K-De,c[5]=te+me,c[8]=1-B-Z;let W=Mr(-Math.asin(lt(s[2],-1,1))),ae,be;return Math.hypot(s[5],s[8])<.001?(ae=0,be=-Mr(Math.atan2(s[3],s[4]))):(ae=Mr(s[5]===0&&s[8]===0?0:Math.atan2(s[5],s[8])),be=Mr(s[1]===0&&s[0]===0?0:Math.atan2(s[1],s[0]))),{roll:ae,pitch:W+90,bearing:be}},i.b6=function(p,s){return p.roll==s.roll&&p.pitch==s.pitch&&p.bearing==s.bearing},i.b7=rn,i.b8=Xv,i.b9=ty,i.bA=function(p){if(p.type==="custom")return new bGe(p);switch(p.type){case"background":return new vGe(p);case"circle":return new f$e(p);case"fill":return new O$e(p);case"fill-extrusion":return new j$e(p);case"heatmap":return new h$e(p);case"hillshade":return new g$e(p);case"line":return new W$e(p);case"raster":return new _Ge(p);case"symbol":return new yT(p)}},i.bB=tt,i.bC=function(p,s){if(!p)return[{command:"setStyle",args:[s]}];let c=[];try{if(!Pe(p.version,s.version))return[{command:"setStyle",args:[s]}];Pe(p.center,s.center)||c.push({command:"setCenter",args:[s.center]}),Pe(p.state,s.state)||c.push({command:"setGlobalState",args:[s.state]}),Pe(p.centerAltitude,s.centerAltitude)||c.push({command:"setCenterAltitude",args:[s.centerAltitude]}),Pe(p.zoom,s.zoom)||c.push({command:"setZoom",args:[s.zoom]}),Pe(p.bearing,s.bearing)||c.push({command:"setBearing",args:[s.bearing]}),Pe(p.pitch,s.pitch)||c.push({command:"setPitch",args:[s.pitch]}),Pe(p.roll,s.roll)||c.push({command:"setRoll",args:[s.roll]}),Pe(p.sprite,s.sprite)||c.push({command:"setSprite",args:[s.sprite]}),Pe(p.glyphs,s.glyphs)||c.push({command:"setGlyphs",args:[s.glyphs]}),Pe(p.transition,s.transition)||c.push({command:"setTransition",args:[s.transition]}),Pe(p.light,s.light)||c.push({command:"setLight",args:[s.light]}),Pe(p.terrain,s.terrain)||c.push({command:"setTerrain",args:[s.terrain]}),Pe(p.sky,s.sky)||c.push({command:"setSky",args:[s.sky]}),Pe(p.projection,s.projection)||c.push({command:"setProjection",args:[s.projection]});let d={},v=[];(function(S,T,P,D){let L;for(L in T=T||{},S=S||{})Object.prototype.hasOwnProperty.call(S,L)&&(Object.prototype.hasOwnProperty.call(T,L)||Ge(L,P,D));for(L in T)Object.prototype.hasOwnProperty.call(T,L)&&(Object.prototype.hasOwnProperty.call(S,L)?Pe(S[L],T[L])||(S[L].type==="geojson"&&T[L].type==="geojson"&&xt(S,T,L)?Le(P,{command:"setGeoJSONSourceData",args:[L,T[L].data]}):dt(L,T,P,D)):Ae(L,T,P))})(p.sources,s.sources,v,d);let x=[];p.layers&&p.layers.forEach(S=>{"source"in S&&d[S.source]?c.push({command:"removeLayer",args:[S.id]}):x.push(S)}),c=c.concat(v),function(S,T,P){T=T||[];let D=(S=S||[]).map(cr),L=T.map(cr),B=S.reduce(er,{}),G=T.reduce(er,{}),Z=D.slice(),K=Object.create(null),te,le,me,De,ye;for(let W=0,ae=0;W<D.length;W++)te=D[W],Object.prototype.hasOwnProperty.call(G,te)?ae++:(Le(P,{command:"removeLayer",args:[te]}),Z.splice(Z.indexOf(te,ae),1));for(let W=0,ae=0;W<L.length;W++)te=L[L.length-1-W],Z[Z.length-1-W]!==te&&(Object.prototype.hasOwnProperty.call(B,te)?(Le(P,{command:"removeLayer",args:[te]}),Z.splice(Z.lastIndexOf(te,Z.length-ae),1)):ae++,De=Z[Z.length-W],Le(P,{command:"addLayer",args:[G[te],De]}),Z.splice(Z.length-W,0,te),K[te]=!0);for(let W=0;W<L.length;W++)if(te=L[W],le=B[te],me=G[te],!K[te]&&!Pe(le,me))if(Pe(le.source,me.source)&&Pe(le["source-layer"],me["source-layer"])&&Pe(le.type,me.type)){for(ye in Ft(le.layout,me.layout,P,te,null,"setLayoutProperty"),Ft(le.paint,me.paint,P,te,null,"setPaintProperty"),Pe(le.filter,me.filter)||Le(P,{command:"setFilter",args:[te,me.filter]}),Pe(le.minzoom,me.minzoom)&&Pe(le.maxzoom,me.maxzoom)||Le(P,{command:"setLayerZoomRange",args:[te,me.minzoom,me.maxzoom]}),le)Object.prototype.hasOwnProperty.call(le,ye)&&ye!=="layout"&&ye!=="paint"&&ye!=="filter"&&ye!=="metadata"&&ye!=="minzoom"&&ye!=="maxzoom"&&(ye.indexOf("paint.")===0?Ft(le[ye],me[ye],P,te,ye.slice(6),"setPaintProperty"):Pe(le[ye],me[ye])||Le(P,{command:"setLayerProperty",args:[te,ye,me[ye]]}));for(ye in me)Object.prototype.hasOwnProperty.call(me,ye)&&!Object.prototype.hasOwnProperty.call(le,ye)&&ye!=="layout"&&ye!=="paint"&&ye!=="filter"&&ye!=="metadata"&&ye!=="minzoom"&&ye!=="maxzoom"&&(ye.indexOf("paint.")===0?Ft(le[ye],me[ye],P,te,ye.slice(6),"setPaintProperty"):Pe(le[ye],me[ye])||Le(P,{command:"setLayerProperty",args:[te,ye,me[ye]]}))}else Le(P,{command:"removeLayer",args:[te]}),De=Z[Z.lastIndexOf(te)+1],Le(P,{command:"addLayer",args:[me,De]})}(x,s.layers,c)}catch(d){console.warn("Unable to compute style diff:",d),c=[{command:"setStyle",args:[s]}]}return c},i.bD=function(p){let s=[],c=p.id;return c===void 0&&s.push({message:`layers.${c}: missing required property "id"`}),p.render===void 0&&s.push({message:`layers.${c}: missing required method "render"`}),p.renderingMode&&p.renderingMode!=="2d"&&p.renderingMode!=="3d"&&s.push({message:`layers.${c}: property "renderingMode" must be either "2d" or "3d"`}),s},i.bE=function p(s,c){if(Array.isArray(s)){if(!Array.isArray(c)||s.length!==c.length)return!1;for(let d=0;d<s.length;d++)if(!p(s[d],c[d]))return!1;return!0}if(typeof s=="object"&&s!==null&&c!==null){if(typeof c!="object"||Object.keys(s).length!==Object.keys(c).length)return!1;for(let d in s)if(!p(s[d],c[d]))return!1;return!0}return s===c},i.bF=Ue,i.bG=je,i.bH=class extends Jn{constructor(p,s){super(p,s),this.current=0}set(p){this.current!==p&&(this.current=p,this.gl.uniform1i(this.location,p))}},i.bI=aT,i.bJ=class extends Jn{constructor(p,s){super(p,s),this.current=p6}set(p){if(p[12]!==this.current[12]||p[0]!==this.current[0])return this.current=p,void this.gl.uniformMatrix4fv(this.location,!1,p);for(let s=1;s<16;s++)if(p[s]!==this.current[s]){this.current=p,this.gl.uniformMatrix4fv(this.location,!1,p);break}}},i.bK=oT,i.bL=class extends Jn{constructor(p,s){super(p,s),this.current=[0,0,0]}set(p){p[0]===this.current[0]&&p[1]===this.current[1]&&p[2]===this.current[2]||(this.current=p,this.gl.uniform3f(this.location,p[0],p[1],p[2]))}},i.bM=class extends Jn{constructor(p,s){super(p,s),this.current=[0,0]}set(p){p[0]===this.current[0]&&p[1]===this.current[1]||(this.current=p,this.gl.uniform2f(this.location,p[0],p[1]))}},i.bN=de,i.bO=function(p,s){var c=Math.sin(s),d=Math.cos(s);return p[0]=d,p[1]=c,p[2]=0,p[3]=-c,p[4]=d,p[5]=0,p[6]=0,p[7]=0,p[8]=1,p},i.bP=function(p,s,c){var d=s[0],v=s[1],x=s[2];return p[0]=d*c[0]+v*c[3]+x*c[6],p[1]=d*c[1]+v*c[4]+x*c[7],p[2]=d*c[2]+v*c[5]+x*c[8],p},i.bQ=function(p,s,c,d,v,x,S){var T=1/(s-c),P=1/(d-v),D=1/(x-S);return p[0]=-2*T,p[1]=0,p[2]=0,p[3]=0,p[4]=0,p[5]=-2*P,p[6]=0,p[7]=0,p[8]=0,p[9]=0,p[10]=2*D,p[11]=0,p[12]=(s+c)*T,p[13]=(v+d)*P,p[14]=(S+x)*D,p[15]=1,p},i.bR=class extends Jn{constructor(p,s){super(p,s),this.current=new Array}set(p){if(p!=this.current){this.current=p;let s=new Float32Array(4*p.length);for(let c=0;c<p.length;c++)s[4*c]=p[c].r,s[4*c+1]=p[c].g,s[4*c+2]=p[c].b,s[4*c+3]=p[c].a;this.gl.uniform4fv(this.location,s)}}},i.bS=class extends Jn{constructor(p,s){super(p,s),this.current=new Array}set(p){if(p!=this.current){this.current=p;let s=new Float32Array(p);this.gl.uniform1fv(this.location,s)}}},i.bT=class extends b{},i.bU=X$e,i.bV=class extends A{},i.bW=y6,i.bX=function(p){return p<=1?1:Math.pow(2,Math.ceil(Math.log(p)/Math.LN2))},i.bY=xQ,i.bZ=function(p,s,c){var d=s[0],v=s[1],x=s[2],S=c[3]*d+c[7]*v+c[11]*x+c[15];return p[0]=(c[0]*d+c[4]*v+c[8]*x+c[12])/(S=S||1),p[1]=(c[1]*d+c[5]*v+c[9]*x+c[13])/S,p[2]=(c[2]*d+c[6]*v+c[10]*x+c[14])/S,p},i.b_=class extends Dp{},i.ba=Cb,i.bb=ey,i.bc=Dt,i.bd=Ut,i.be=Da,i.bf=function(p,s,c,d,v){return Dt(d,v,lt((p-s)/(c-s),0,1))},i.bg=Qe,i.bh=function(){return new Float64Array(3)},i.bi=function(p,s,c,d){return p[0]=s[0]+c[0]*d,p[1]=s[1]+c[1]*d,p[2]=s[2]+c[2]*d,p},i.bj=Ee,i.bk=function(){return new Float64Array(4)},i.bl=function(p,s,c,d){var v=[],x=[];return v[0]=s[0]-c[0],v[1]=s[1]-c[1],v[2]=s[2]-c[2],x[0]=v[0]*Math.cos(d)-v[1]*Math.sin(d),x[1]=v[0]*Math.sin(d)+v[1]*Math.cos(d),x[2]=v[2],p[0]=x[0]+c[0],p[1]=x[1]+c[1],p[2]=x[2]+c[2],p},i.bm=function(p,s,c,d){var v=[],x=[];return v[0]=s[0]-c[0],v[1]=s[1]-c[1],v[2]=s[2]-c[2],x[0]=v[0],x[1]=v[1]*Math.cos(d)-v[2]*Math.sin(d),x[2]=v[1]*Math.sin(d)+v[2]*Math.cos(d),p[0]=x[0]+c[0],p[1]=x[1]+c[1],p[2]=x[2]+c[2],p},i.bn=function(p,s,c,d){var v=[],x=[];return v[0]=s[0]-c[0],v[1]=s[1]-c[1],v[2]=s[2]-c[2],x[0]=v[2]*Math.sin(d)+v[0]*Math.cos(d),x[1]=v[1],x[2]=v[2]*Math.cos(d)-v[0]*Math.sin(d),p[0]=x[0]+c[0],p[1]=x[1]+c[1],p[2]=x[2]+c[2],p},i.bo=qe,i.bp=function(p,s,c){var d=Math.sin(c),v=Math.cos(c),x=s[0],S=s[1],T=s[2],P=s[3],D=s[8],L=s[9],B=s[10],G=s[11];return s!==p&&(p[4]=s[4],p[5]=s[5],p[6]=s[6],p[7]=s[7],p[12]=s[12],p[13]=s[13],p[14]=s[14],p[15]=s[15]),p[0]=x*v-D*d,p[1]=S*v-L*d,p[2]=T*v-B*d,p[3]=P*v-G*d,p[8]=x*d+D*v,p[9]=S*d+L*v,p[10]=T*d+B*v,p[11]=P*d+G*v,p},i.bq=function(p,s){let c=Qe(p,360),d=Qe(s,360),v=d-c,x=d>c?v-360:v+360;return Math.abs(v)<Math.abs(x)?v:x},i.br=function(p){return p[0]=0,p[1]=0,p[2]=0,p},i.bs=function(p,s,c,d){let v=Math.sqrt(p*p+s*s),x=Math.sqrt(c*c+d*d);p/=v,s/=v,c/=x,d/=x;let S=Math.acos(p*c+s*d);return-s*c+p*d>0?S:-S},i.bt=function(p,s){return p[0]*s[0]+p[1]*s[1]+p[2]*s[2]+p[3]},i.bu=U6,i.bv=function(p,s){let c=Qe(p,2*Math.PI),d=Qe(s,2*Math.PI);return Math.min(Math.abs(c-d),Math.abs(c-d+2*Math.PI),Math.abs(c-d-2*Math.PI))},i.bw=function(){let p={},s=J.$version;for(let c in J.$root){let d=J.$root[c];if(d.required){let v=null;v=c==="version"?s:d.type==="array"?[]:{},v!=null&&(p[c]=v)}}return p},i.bx=cb,i.by=ko,i.bz=function(p){p=p.slice();let s=Object.create(null);for(let c=0;c<p.length;c++)s[p[c].id]=p[c];for(let c=0;c<p.length;c++)"ref"in p[c]&&(p[c]=ge(p[c],s[p[c].ref]));return p},i.c=Kn,i.c0=function(p,s){return p[0]===s[0]&&p[1]===s[1]&&p[2]===s[2]&&p[3]===s[3]&&p[4]===s[4]&&p[5]===s[5]&&p[6]===s[6]&&p[7]===s[7]&&p[8]===s[8]&&p[9]===s[9]&&p[10]===s[10]&&p[11]===s[11]&&p[12]===s[12]&&p[13]===s[13]&&p[14]===s[14]&&p[15]===s[15]},i.c1=function(p,s){var c=p[0],d=p[1],v=p[2],x=p[3],S=p[4],T=p[5],P=p[6],D=p[7],L=p[8],B=p[9],G=p[10],Z=p[11],K=p[12],te=p[13],le=p[14],me=p[15],De=s[0],ye=s[1],W=s[2],ae=s[3],be=s[4],$e=s[5],pt=s[6],We=s[7],et=s[8],_t=s[9],ft=s[10],bt=s[11],ot=s[12],Gt=s[13],pr=s[14],sr=s[15];return Math.abs(c-De)<=Y*Math.max(1,Math.abs(c),Math.abs(De))&&Math.abs(d-ye)<=Y*Math.max(1,Math.abs(d),Math.abs(ye))&&Math.abs(v-W)<=Y*Math.max(1,Math.abs(v),Math.abs(W))&&Math.abs(x-ae)<=Y*Math.max(1,Math.abs(x),Math.abs(ae))&&Math.abs(S-be)<=Y*Math.max(1,Math.abs(S),Math.abs(be))&&Math.abs(T-$e)<=Y*Math.max(1,Math.abs(T),Math.abs($e))&&Math.abs(P-pt)<=Y*Math.max(1,Math.abs(P),Math.abs(pt))&&Math.abs(D-We)<=Y*Math.max(1,Math.abs(D),Math.abs(We))&&Math.abs(L-et)<=Y*Math.max(1,Math.abs(L),Math.abs(et))&&Math.abs(B-_t)<=Y*Math.max(1,Math.abs(B),Math.abs(_t))&&Math.abs(G-ft)<=Y*Math.max(1,Math.abs(G),Math.abs(ft))&&Math.abs(Z-bt)<=Y*Math.max(1,Math.abs(Z),Math.abs(bt))&&Math.abs(K-ot)<=Y*Math.max(1,Math.abs(K),Math.abs(ot))&&Math.abs(te-Gt)<=Y*Math.max(1,Math.abs(te),Math.abs(Gt))&&Math.abs(le-pr)<=Y*Math.max(1,Math.abs(le),Math.abs(pr))&&Math.abs(me-sr)<=Y*Math.max(1,Math.abs(me),Math.abs(sr))},i.c2=function(p,s){return p[0]=s[0],p[1]=s[1],p[2]=s[2],p[3]=s[3],p[4]=s[4],p[5]=s[5],p[6]=s[6],p[7]=s[7],p[8]=s[8],p[9]=s[9],p[10]=s[10],p[11]=s[11],p[12]=s[12],p[13]=s[13],p[14]=s[14],p[15]=s[15],p},i.c3=p=>p.type==="symbol",i.c4=p=>p.type==="circle",i.c5=p=>p.type==="heatmap",i.c6=p=>p.type==="line",i.c7=p=>p.type==="fill",i.c8=p=>p.type==="fill-extrusion",i.c9=p=>p.type==="hillshade",i.cA=S6,i.cB=C6,i.cC=Pb,i.cD=D6,i.cE=class{constructor(p){this._marks={start:[p.url,"start"].join("#"),end:[p.url,"end"].join("#"),measure:p.url.toString()},performance.mark(this._marks.start)}finish(){performance.mark(this._marks.end);let p=performance.getEntriesByName(this._marks.measure);return p.length===0&&(performance.measure(this._marks.measure,this._marks.start,this._marks.end),p=performance.getEntriesByName(this._marks.measure),performance.clearMarks(this._marks.start),performance.clearMarks(this._marks.end),performance.clearMeasures(this._marks.measure)),p}},i.cF=function(p,s,c,d,v){return o(this,void 0,void 0,function*(){if(U())try{return yield Jt(p,s,c,d,v)}catch(x){}return function(x,S,T,P,D){let L=x.width,B=x.height;lr&&Tr||(lr=new OffscreenCanvas(L,B),Tr=lr.getContext("2d",{willReadFrequently:!0})),lr.width=L,lr.height=B,Tr.drawImage(x,0,0,L,B);let G=Tr.getImageData(S,T,P,D);return Tr.clearRect(0,0,L,B),G.data}(p,s,c,d,v)})},i.cG=bJ,i.cH=u,i.cI=y,i.cJ=zQ,i.cK=KQ,i.cL=Rv,i.cM=bu,i.ca=p=>p.type==="raster",i.cb=p=>p.type==="background",i.cc=p=>p.type==="custom",i.cd=Zt,i.ce=function(p,s,c){let d=st(s.x-c.x,s.y-c.y),v=st(p.x-c.x,p.y-c.y);var x,S;return Mr(Math.atan2(d[0]*v[1]-d[1]*v[0],(x=d)[0]*(S=v)[0]+x[1]*S[1]))},i.cf=Xe,i.cg=function(p,s){return rr[s]&&(p instanceof MouseEvent||p instanceof WheelEvent)},i.ch=function(p,s){return Jr[s]&&"touches"in p},i.ci=function(p){return Jr[p]||rr[p]},i.cj=function(p,s,c){var d=s[0],v=s[1];return p[0]=c[0]*d+c[4]*v+c[12],p[1]=c[1]*d+c[5]*v+c[13],p},i.ck=function(p,s){let{x:c,y:d}=Rb.fromLngLat(s);return!(p<0||p>25||d<0||d>=1||c<0||c>=1)},i.cl=function(p,s){return p[0]=s[0],p[1]=0,p[2]=0,p[3]=0,p[4]=0,p[5]=s[1],p[6]=0,p[7]=0,p[8]=0,p[9]=0,p[10]=s[2],p[11]=0,p[12]=0,p[13]=0,p[14]=0,p[15]=1,p},i.cm=class extends wm{},i.cn=OGe,i.cp=function(p){return p.message===Vr},i.cq=Aa,i.cr=function(p,s){Mi.REGISTERED_PROTOCOLS[p]=s},i.cs=function(p){delete Mi.REGISTERED_PROTOCOLS[p]},i.ct=function(p,s){let c={};for(let v=0;v<p.length;v++){let x=s&&s[p[v].id]||$E(p[v]);s&&(s[p[v].id]=x);let S=c[x];S||(S=c[x]=[]),S.push(p[v])}let d=[];for(let v in c)d.push(c[v]);return d},i.cu=$t,i.cv=xJ,i.cw=SJ,i.cx=QQ,i.cy=function(p){p.bucket.createArrays(),p.bucket.tilePixelRatio=at/(512*p.bucket.overscaling),p.bucket.compareText={},p.bucket.iconsNeedLinear=!1;let s=p.bucket.layers[0],c=s.layout,d=s._unevaluatedLayout._values,v={layoutIconSize:d["icon-size"].possiblyEvaluate(new Qn(p.bucket.zoom+1),p.canonical),layoutTextSize:d["text-size"].possiblyEvaluate(new Qn(p.bucket.zoom+1),p.canonical),textMaxSize:d["text-size"].possiblyEvaluate(new Qn(18))};if(p.bucket.textSizeData.kind==="composite"){let{minZoom:D,maxZoom:L}=p.bucket.textSizeData;v.compositeTextSizes=[d["text-size"].possiblyEvaluate(new Qn(D),p.canonical),d["text-size"].possiblyEvaluate(new Qn(L),p.canonical)]}if(p.bucket.iconSizeData.kind==="composite"){let{minZoom:D,maxZoom:L}=p.bucket.iconSizeData;v.compositeIconSizes=[d["icon-size"].possiblyEvaluate(new Qn(D),p.canonical),d["icon-size"].possiblyEvaluate(new Qn(L),p.canonical)]}let x=c.get("text-line-height")*Qi,S=c.get("text-rotation-alignment")!=="viewport"&&c.get("symbol-placement")!=="point",T=c.get("text-keep-upright"),P=c.get("text-size");for(let D of p.bucket.features){let L=c.get("text-font").evaluate(D,{},p.canonical).join(","),B=P.evaluate(D,{},p.canonical),G=v.layoutTextSize.evaluate(D,{},p.canonical),Z=v.layoutIconSize.evaluate(D,{},p.canonical),K={horizontal:{},vertical:void 0},te=D.text,le,me=[0,0];if(te){let W=te.toString(),ae=c.get("text-letter-spacing").evaluate(D,{},p.canonical)*Qi,be=a6(W)?ae:0,$e=c.get("text-anchor").evaluate(D,{},p.canonical),pt=LJ(s,D,p.canonical);if(!pt){let ft=c.get("text-radial-offset").evaluate(D,{},p.canonical);me=ft?kJ($e,[ft*Qi,G6]):c.get("text-offset").evaluate(D,{},p.canonical).map(bt=>bt*Qi)}let We=S?"center":c.get("text-justify").evaluate(D,{},p.canonical),et=c.get("symbol-placement")==="point"?c.get("text-max-width").evaluate(D,{},p.canonical)*Qi:1/0,_t=()=>{p.bucket.allowVerticalPlacement&&Wv(W)&&(K.vertical=mT(te,p.glyphMap,p.glyphPositions,p.imagePositions,L,et,x,$e,"left",be,me,i.al.vertical,!0,G,B))};if(!S&&pt){let ft=new Set;if(We==="auto")for(let ot=0;ot<pt.values.length;ot+=2)ft.add(H6(pt.values[ot]));else ft.add(We);let bt=!1;for(let ot of ft)if(!K.horizontal[ot])if(bt)K.horizontal[ot]=K.horizontal[0];else{let Gt=mT(te,p.glyphMap,p.glyphPositions,p.imagePositions,L,et,x,"center",ot,be,me,i.al.horizontal,!1,G,B);Gt&&(K.horizontal[ot]=Gt,bt=Gt.positionedLines.length===1)}_t()}else{We==="auto"&&(We=H6($e));let ft=mT(te,p.glyphMap,p.glyphPositions,p.imagePositions,L,et,x,$e,We,be,me,i.al.horizontal,!1,G,B);ft&&(K.horizontal[We]=ft),_t(),Wv(W)&&S&&T&&(K.vertical=mT(te,p.glyphMap,p.glyphPositions,p.imagePositions,L,et,x,$e,We,be,me,i.al.vertical,!1,G,B))}}let De=!1;if(D.icon&&D.icon.name){let W=p.imageMap[D.icon.name];W&&(le=fGe(p.imagePositions[D.icon.name],c.get("icon-offset").evaluate(D,{},p.canonical),c.get("icon-anchor").evaluate(D,{},p.canonical)),De=!!W.sdf,p.bucket.sdfIcons===void 0?p.bucket.sdfIcons=De:p.bucket.sdfIcons!==De&&St("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(W.pixelRatio!==p.bucket.pixelRatio||c.get("icon-rotate").constantOr(1)!==0)&&(p.bucket.iconsNeedLinear=!0))}let ye=qJ(K.horizontal)||K.vertical;p.bucket.iconsInText=!!ye&&ye.iconsInText,(ye||le)&&AGe(p.bucket,D,K,le,p.imageMap,v,G,Z,me,De,p.canonical,p.subdivisionGranularity)}p.showCollisionBoxes&&p.bucket.generateCollisionDebugBuffers()},i.cz=A6,i.d=Be,i.e=Fe,i.f=p=>o(void 0,void 0,void 0,function*(){if(p.byteLength===0)return createImageBitmap(new ImageData(1,1));let s=new Blob([new Uint8Array(p)],{type:"image/png"});try{return createImageBitmap(s)}catch(c){throw new Error(`Could not load image because of ${c.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`)}}),i.g=li,i.h=p=>new Promise((s,c)=>{let d=new Image;d.onload=()=>{s(d),URL.revokeObjectURL(d.src),d.onload=null,window.requestAnimationFrame(()=>{d.src=Vt})},d.onerror=()=>c(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));let v=new Blob([new Uint8Array(p)],{type:"image/png"});d.src=p.byteLength?URL.createObjectURL(v):Vt}),i.i=Nt,i.j=(p,s)=>Es(Fe(p,{type:"json"}),s),i.k=X,i.l=H,i.m=Es,i.n=(p,s)=>Es(Fe(p,{type:"arrayBuffer"}),s),i.o=function(p){return new D6(p).readFields(eGe,[])},i.p=XQ,i.q=Sb,i.r=ji,i.s=ur,i.t=Vv,i.u=Kr,i.v=J,i.w=St,i.x=ub,i.y=rd,i.z=function([p,s,c]){return s+=90,s*=Math.PI/180,c*=Math.PI/180,{x:p*Math.cos(s)*Math.sin(c),y:p*Math.sin(s)*Math.sin(c),z:p*Math.cos(c)}}}),r("worker",["./shared"],function(i){"use strict";class o{constructor(ne){this.keyCache={},ne&&this.replace(ne)}replace(ne){this._layerConfigs={},this._layers={},this.update(ne,[])}update(ne,ie){for(let X of ne){this._layerConfigs[X.id]=X;let ue=this._layers[X.id]=i.bA(X);ue._featureFilter=i.a7(ue.filter),this.keyCache[X.id]&&delete this.keyCache[X.id]}for(let X of ie)delete this.keyCache[X],delete this._layerConfigs[X],delete this._layers[X];this.familiesBySource={};let H=i.ct(Object.values(this._layerConfigs),this.keyCache);for(let X of H){let ue=X.map(Ae=>this._layers[Ae.id]),J=ue[0];if(J.visibility==="none")continue;let Ie=J.source||"",ge=this.familiesBySource[Ie];ge||(ge=this.familiesBySource[Ie]={});let Pe=J.sourceLayer||"_geojsonTileLayer",Le=ge[Pe];Le||(Le=ge[Pe]=[]),Le.push(ue)}}}class u{constructor(ne){let ie={},H=[];for(let Ie in ne){let ge=ne[Ie],Pe=ie[Ie]={};for(let Le in ge){let Ae=ge[+Le];if(!Ae||Ae.bitmap.width===0||Ae.bitmap.height===0)continue;let Ge={x:0,y:0,w:Ae.bitmap.width+2,h:Ae.bitmap.height+2};H.push(Ge),Pe[Le]={rect:Ge,metrics:Ae.metrics}}}let{w:X,h:ue}=i.p(H),J=new i.q({width:X||1,height:ue||1});for(let Ie in ne){let ge=ne[Ie];for(let Pe in ge){let Le=ge[+Pe];if(!Le||Le.bitmap.width===0||Le.bitmap.height===0)continue;let Ae=ie[Ie][Pe].rect;i.q.copy(Le.bitmap,J,{x:0,y:0},{x:Ae.x+1,y:Ae.y+1},Le.bitmap)}}this.image=J,this.positions=ie}}i.cu("GlyphAtlas",u);class f{constructor(ne){this.tileID=new i.Y(ne.tileID.overscaledZ,ne.tileID.wrap,ne.tileID.canonical.z,ne.tileID.canonical.x,ne.tileID.canonical.y),this.uid=ne.uid,this.zoom=ne.zoom,this.pixelRatio=ne.pixelRatio,this.tileSize=ne.tileSize,this.source=ne.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=ne.showCollisionBoxes,this.collectResourceTiming=!!ne.collectResourceTiming,this.returnDependencies=!!ne.returnDependencies,this.promoteId=ne.promoteId,this.inFlightDependencies=[]}parse(ne,ie,H,X,ue){return i._(this,void 0,void 0,function*(){this.status="parsing",this.data=ne,this.collisionBoxArray=new i.a5;let J=new i.cv(Object.keys(ne.layers).sort()),Ie=new i.cw(this.tileID,this.promoteId);Ie.bucketLayerIDs=[];let ge={},Pe={featureIndex:Ie,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:H,subdivisionGranularity:ue},Le=ie.familiesBySource[this.source];for(let br in Le){let ct=ne.layers[br];if(!ct)continue;ct.version===1&&i.w(`Vector tile source "${this.source}" layer "${br}" does not use vector tile spec v2 and therefore may have some rendering errors.`);let hr=J.encode(br),Dr=[];for(let yi=0;yi<ct.length;yi++){let _i=ct.feature(yi),Pa=Ie.getId(_i,br);Dr.push({feature:_i,id:Pa,index:yi,sourceLayerIndex:hr})}for(let yi of Le[br]){let _i=yi[0];_i.source!==this.source&&i.w(`layer.source = ${_i.source} does not equal this.source = ${this.source}`),_i.minzoom&&this.zoom<Math.floor(_i.minzoom)||_i.maxzoom&&this.zoom>=_i.maxzoom||_i.visibility!=="none"&&(m(yi,this.zoom,H),(ge[_i.id]=_i.createBucket({index:Ie.bucketLayerIDs.length,layers:yi,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:hr,sourceID:this.source})).populate(Dr,Pe,this.tileID.canonical),Ie.bucketLayerIDs.push(yi.map(Pa=>Pa.id)))}}let Ae=i.bF(Pe.glyphDependencies,br=>Object.keys(br).map(Number));this.inFlightDependencies.forEach(br=>br==null?void 0:br.abort()),this.inFlightDependencies=[];let Ge=Promise.resolve({});if(Object.keys(Ae).length){let br=new AbortController;this.inFlightDependencies.push(br),Ge=X.sendAsync({type:"GG",data:{stacks:Ae,source:this.source,tileID:this.tileID,type:"glyphs"}},br)}let dt=Object.keys(Pe.iconDependencies),xt=Promise.resolve({});if(dt.length){let br=new AbortController;this.inFlightDependencies.push(br),xt=X.sendAsync({type:"GI",data:{icons:dt,source:this.source,tileID:this.tileID,type:"icons"}},br)}let Ft=Object.keys(Pe.patternDependencies),cr=Promise.resolve({});if(Ft.length){let br=new AbortController;this.inFlightDependencies.push(br),cr=X.sendAsync({type:"GI",data:{icons:Ft,source:this.source,tileID:this.tileID,type:"patterns"}},br)}let[er,Ke,sn]=yield Promise.all([Ge,xt,cr]),kr=new u(er),Zr=new i.cx(Ke,sn);for(let br in ge){let ct=ge[br];ct instanceof i.a6?(m(ct.layers,this.zoom,H),i.cy({bucket:ct,glyphMap:er,glyphPositions:kr.positions,imageMap:Ke,imagePositions:Zr.iconPositions,showCollisionBoxes:this.showCollisionBoxes,canonical:this.tileID.canonical,subdivisionGranularity:Pe.subdivisionGranularity})):ct.hasPattern&&(ct instanceof i.cz||ct instanceof i.cA||ct instanceof i.cB)&&(m(ct.layers,this.zoom,H),ct.addFeatures(Pe,this.tileID.canonical,Zr.patternPositions))}return this.status="done",{buckets:Object.values(ge).filter(br=>!br.isEmpty()),featureIndex:Ie,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:kr.image,imageAtlas:Zr,glyphMap:this.returnDependencies?er:null,iconMap:this.returnDependencies?Ke:null,glyphPositions:this.returnDependencies?kr.positions:null}})}}function m(Be,ne,ie){let H=new i.C(ne);for(let X of Be)X.recalculate(H,ie)}class y{constructor(ne,ie,H){this.actor=ne,this.layerIndex=ie,this.availableImages=H,this.fetching={},this.loading={},this.loaded={}}loadVectorTile(ne,ie){return i._(this,void 0,void 0,function*(){let H=yield i.n(ne.request,ie);try{return{vectorTile:new i.cC.VectorTile(new i.cD(H.data)),rawData:H.data,cacheControl:H.cacheControl,expires:H.expires}}catch(X){let ue=new Uint8Array(H.data),J=`Unable to parse the tile at ${ne.request.url}, `;throw J+=ue[0]===31&&ue[1]===139?"please make sure the data is not gzipped and that you have configured the relevant header in the server":`got error: ${X.message}`,new Error(J)}})}loadTile(ne){return i._(this,void 0,void 0,function*(){let ie=ne.uid,H=!!(ne&&ne.request&&ne.request.collectResourceTiming)&&new i.cE(ne.request),X=new f(ne);this.loading[ie]=X;let ue=new AbortController;X.abort=ue;try{let J=yield this.loadVectorTile(ne,ue);if(delete this.loading[ie],!J)return null;let Ie=J.rawData,ge={};J.expires&&(ge.expires=J.expires),J.cacheControl&&(ge.cacheControl=J.cacheControl);let Pe={};if(H){let Ae=H.finish();Ae&&(Pe.resourceTiming=JSON.parse(JSON.stringify(Ae)))}X.vectorTile=J.vectorTile;let Le=X.parse(J.vectorTile,this.layerIndex,this.availableImages,this.actor,ne.subdivisionGranularity);this.loaded[ie]=X,this.fetching[ie]={rawTileData:Ie,cacheControl:ge,resourceTiming:Pe};try{let Ae=yield Le;return i.e({rawTileData:Ie.slice(0)},Ae,ge,Pe)}finally{delete this.fetching[ie]}}catch(J){throw delete this.loading[ie],X.status="done",this.loaded[ie]=X,J}})}reloadTile(ne){return i._(this,void 0,void 0,function*(){let ie=ne.uid;if(!this.loaded||!this.loaded[ie])throw new Error("Should not be trying to reload a tile that was never loaded or has been removed");let H=this.loaded[ie];if(H.showCollisionBoxes=ne.showCollisionBoxes,H.status==="parsing"){let X=yield H.parse(H.vectorTile,this.layerIndex,this.availableImages,this.actor,ne.subdivisionGranularity),ue;if(this.fetching[ie]){let{rawTileData:J,cacheControl:Ie,resourceTiming:ge}=this.fetching[ie];delete this.fetching[ie],ue=i.e({rawTileData:J.slice(0)},X,Ie,ge)}else ue=X;return ue}if(H.status==="done"&&H.vectorTile)return H.parse(H.vectorTile,this.layerIndex,this.availableImages,this.actor,ne.subdivisionGranularity)})}abortTile(ne){return i._(this,void 0,void 0,function*(){let ie=this.loading,H=ne.uid;ie&&ie[H]&&ie[H].abort&&(ie[H].abort.abort(),delete ie[H])})}removeTile(ne){return i._(this,void 0,void 0,function*(){this.loaded&&this.loaded[ne.uid]&&delete this.loaded[ne.uid]})}}class w{constructor(){this.loaded={}}loadTile(ne){return i._(this,void 0,void 0,function*(){let{uid:ie,encoding:H,rawImageData:X,redFactor:ue,greenFactor:J,blueFactor:Ie,baseShift:ge}=ne,Pe=X.width+2,Le=X.height+2,Ae=i.b(X)?new i.R({width:Pe,height:Le},yield i.cF(X,-1,-1,Pe,Le)):X,Ge=new i.cG(ie,Ae,H,ue,J,Ie,ge);return this.loaded=this.loaded||{},this.loaded[ie]=Ge,Ge})}removeTile(ne){let ie=this.loaded,H=ne.uid;ie&&ie[H]&&delete ie[H]}}var I,M,N=function(){if(M)return I;function Be(ie,H){if(ie.length!==0){ne(ie[0],H);for(var X=1;X<ie.length;X++)ne(ie[X],!H)}}function ne(ie,H){for(var X=0,ue=0,J=0,Ie=ie.length,ge=Ie-1;J<Ie;ge=J++){var Pe=(ie[J][0]-ie[ge][0])*(ie[ge][1]+ie[J][1]),Le=X+Pe;ue+=Math.abs(X)>=Math.abs(Pe)?X-Le+Pe:Pe-Le+X,X=Le}X+ue>=0!=!!H&&ie.reverse()}return M=1,I=function ie(H,X){var ue,J=H&&H.type;if(J==="FeatureCollection")for(ue=0;ue<H.features.length;ue++)ie(H.features[ue],X);else if(J==="GeometryCollection")for(ue=0;ue<H.geometries.length;ue++)ie(H.geometries[ue],X);else if(J==="Feature")ie(H.geometry,X);else if(J==="Polygon")Be(H.coordinates,X);else if(J==="MultiPolygon")for(ue=0;ue<H.coordinates.length;ue++)Be(H.coordinates[ue],X);return H}}(),z=i.cH(N);let F=i.cC.VectorTileFeature.prototype.toGeoJSON;class q{constructor(ne){this._feature=ne,this.extent=i.Z,this.type=ne.type,this.properties=ne.tags,"id"in ne&&!isNaN(ne.id)&&(this.id=parseInt(ne.id,10))}loadGeometry(){if(this._feature.type===1){let ne=[];for(let ie of this._feature.geometry)ne.push([new i.P(ie[0],ie[1])]);return ne}{let ne=[];for(let ie of this._feature.geometry){let H=[];for(let X of ie)H.push(new i.P(X[0],X[1]));ne.push(H)}return ne}}toGeoJSON(ne,ie,H){return F.call(this,ne,ie,H)}}class R{constructor(ne){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=i.Z,this.length=ne.length,this._features=ne}feature(ne){return new q(this._features[ne])}}var U,Y,re,de={exports:{}},ce=function(){if(re)return de.exports;re=1;var Be=i.cK(),ne=function(){if(Y)return U;Y=1;var Le=i.cI(),Ae=i.cJ().VectorTileFeature;function Ge(xt,Ft){this.options=Ft||{},this.features=xt,this.length=xt.length}function dt(xt,Ft){this.id=typeof xt.id=="number"?xt.id:void 0,this.type=xt.type,this.rawGeometry=xt.type===1?[xt.geometry]:xt.geometry,this.properties=xt.tags,this.extent=Ft||4096}return U=Ge,Ge.prototype.feature=function(xt){return new dt(this.features[xt],this.options.extent)},dt.prototype.loadGeometry=function(){var xt=this.rawGeometry;this.geometry=[];for(var Ft=0;Ft<xt.length;Ft++){for(var cr=xt[Ft],er=[],Ke=0;Ke<cr.length;Ke++)er.push(new Le(cr[Ke][0],cr[Ke][1]));this.geometry.push(er)}return this.geometry},dt.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var xt=this.geometry,Ft=1/0,cr=-1/0,er=1/0,Ke=-1/0,sn=0;sn<xt.length;sn++)for(var kr=xt[sn],Zr=0;Zr<kr.length;Zr++){var br=kr[Zr];Ft=Math.min(Ft,br.x),cr=Math.max(cr,br.x),er=Math.min(er,br.y),Ke=Math.max(Ke,br.y)}return[Ft,er,cr,Ke]},dt.prototype.toGeoJSON=Ae.prototype.toGeoJSON,U}();function ie(Le){var Ae=new Be;return function(Ge,dt){for(var xt in Ge.layers)dt.writeMessage(3,H,Ge.layers[xt])}(Le,Ae),Ae.finish()}function H(Le,Ae){var Ge;Ae.writeVarintField(15,Le.version||1),Ae.writeStringField(1,Le.name||""),Ae.writeVarintField(5,Le.extent||4096);var dt={keys:[],values:[],keycache:{},valuecache:{}};for(Ge=0;Ge<Le.length;Ge++)dt.feature=Le.feature(Ge),Ae.writeMessage(2,X,dt);var xt=dt.keys;for(Ge=0;Ge<xt.length;Ge++)Ae.writeStringField(3,xt[Ge]);var Ft=dt.values;for(Ge=0;Ge<Ft.length;Ge++)Ae.writeMessage(4,Pe,Ft[Ge])}function X(Le,Ae){var Ge=Le.feature;Ge.id!==void 0&&Ae.writeVarintField(1,Ge.id),Ae.writeMessage(2,ue,Le),Ae.writeVarintField(3,Ge.type),Ae.writeMessage(4,ge,Ge)}function ue(Le,Ae){var Ge=Le.feature,dt=Le.keys,xt=Le.values,Ft=Le.keycache,cr=Le.valuecache;for(var er in Ge.properties){var Ke=Ge.properties[er],sn=Ft[er];if(Ke!==null){sn===void 0&&(dt.push(er),Ft[er]=sn=dt.length-1),Ae.writeVarint(sn);var kr=typeof Ke;kr!=="string"&&kr!=="boolean"&&kr!=="number"&&(Ke=JSON.stringify(Ke));var Zr=kr+":"+Ke,br=cr[Zr];br===void 0&&(xt.push(Ke),cr[Zr]=br=xt.length-1),Ae.writeVarint(br)}}}function J(Le,Ae){return(Ae<<3)+(7&Le)}function Ie(Le){return Le<<1^Le>>31}function ge(Le,Ae){for(var Ge=Le.loadGeometry(),dt=Le.type,xt=0,Ft=0,cr=Ge.length,er=0;er<cr;er++){var Ke=Ge[er],sn=1;dt===1&&(sn=Ke.length),Ae.writeVarint(J(1,sn));for(var kr=dt===3?Ke.length-1:Ke.length,Zr=0;Zr<kr;Zr++){Zr===1&&dt!==1&&Ae.writeVarint(J(2,kr-1));var br=Ke[Zr].x-xt,ct=Ke[Zr].y-Ft;Ae.writeVarint(Ie(br)),Ae.writeVarint(Ie(ct)),xt+=br,Ft+=ct}dt===3&&Ae.writeVarint(J(7,1))}}function Pe(Le,Ae){var Ge=typeof Le;Ge==="string"?Ae.writeStringField(1,Le):Ge==="boolean"?Ae.writeBooleanField(7,Le):Ge==="number"&&(Le%1!=0?Ae.writeDoubleField(3,Le):Le<0?Ae.writeSVarintField(6,Le):Ae.writeVarintField(5,Le))}return de.exports=ie,de.exports.fromVectorTileJs=ie,de.exports.fromGeojsonVt=function(Le,Ae){Ae=Ae||{};var Ge={};for(var dt in Le)Ge[dt]=new ne(Le[dt].features,Ae),Ge[dt].name=dt,Ge[dt].version=Ae.version,Ge[dt].extent=Ae.extent;return ie({layers:Ge})},de.exports.GeoJSONWrapper=ne,de.exports}(),Se=i.cH(ce);let qe={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:Be=>Be},Re=Math.fround||(Te=new Float32Array(1),Be=>(Te[0]=+Be,Te[0]));var Te;let Ee=3,Ne=5,_e=6;class ze{constructor(ne){this.options=Object.assign(Object.create(qe),ne),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(ne){let{log:ie,minZoom:H,maxZoom:X}=this.options;ie&&console.time("total time");let ue=`prepare ${ne.length} points`;ie&&console.time(ue),this.points=ne;let J=[];for(let ge=0;ge<ne.length;ge++){let Pe=ne[ge];if(!Pe.geometry)continue;let[Le,Ae]=Pe.geometry.coordinates,Ge=Re(At(Le)),dt=Re(Qe(Ae));J.push(Ge,dt,1/0,ge,-1,1),this.options.reduce&&J.push(0)}let Ie=this.trees[X+1]=this._createTree(J);ie&&console.timeEnd(ue);for(let ge=X;ge>=H;ge--){let Pe=+Date.now();Ie=this.trees[ge]=this._createTree(this._cluster(Ie,ge)),ie&&console.log("z%d: %d clusters in %dms",ge,Ie.numItems,+Date.now()-Pe)}return ie&&console.timeEnd("total time"),this}getClusters(ne,ie){let H=((ne[0]+180)%360+360)%360-180,X=Math.max(-90,Math.min(90,ne[1])),ue=ne[2]===180?180:((ne[2]+180)%360+360)%360-180,J=Math.max(-90,Math.min(90,ne[3]));if(ne[2]-ne[0]>=360)H=-180,ue=180;else if(H>ue){let Ae=this.getClusters([H,X,180,J],ie),Ge=this.getClusters([-180,X,ue,J],ie);return Ae.concat(Ge)}let Ie=this.trees[this._limitZoom(ie)],ge=Ie.range(At(H),Qe(J),At(ue),Qe(X)),Pe=Ie.data,Le=[];for(let Ae of ge){let Ge=this.stride*Ae;Le.push(Pe[Ge+Ne]>1?st(Pe,Ge,this.clusterProps):this.points[Pe[Ge+Ee]])}return Le}getChildren(ne){let ie=this._getOriginId(ne),H=this._getOriginZoom(ne),X="No cluster with the specified id.",ue=this.trees[H];if(!ue)throw new Error(X);let J=ue.data;if(ie*this.stride>=J.length)throw new Error(X);let Ie=this.options.radius/(this.options.extent*Math.pow(2,H-1)),ge=ue.within(J[ie*this.stride],J[ie*this.stride+1],Ie),Pe=[];for(let Le of ge){let Ae=Le*this.stride;J[Ae+4]===ne&&Pe.push(J[Ae+Ne]>1?st(J,Ae,this.clusterProps):this.points[J[Ae+Ee]])}if(Pe.length===0)throw new Error(X);return Pe}getLeaves(ne,ie,H){let X=[];return this._appendLeaves(X,ne,ie=ie||10,H=H||0,0),X}getTile(ne,ie,H){let X=this.trees[this._limitZoom(ne)],ue=Math.pow(2,ne),{extent:J,radius:Ie}=this.options,ge=Ie/J,Pe=(H-ge)/ue,Le=(H+1+ge)/ue,Ae={features:[]};return this._addTileFeatures(X.range((ie-ge)/ue,Pe,(ie+1+ge)/ue,Le),X.data,ie,H,ue,Ae),ie===0&&this._addTileFeatures(X.range(1-ge/ue,Pe,1,Le),X.data,ue,H,ue,Ae),ie===ue-1&&this._addTileFeatures(X.range(0,Pe,ge/ue,Le),X.data,-1,H,ue,Ae),Ae.features.length?Ae:null}getClusterExpansionZoom(ne){let ie=this._getOriginZoom(ne)-1;for(;ie<=this.options.maxZoom;){let H=this.getChildren(ne);if(ie++,H.length!==1)break;ne=H[0].properties.cluster_id}return ie}_appendLeaves(ne,ie,H,X,ue){let J=this.getChildren(ie);for(let Ie of J){let ge=Ie.properties;if(ge&&ge.cluster?ue+ge.point_count<=X?ue+=ge.point_count:ue=this._appendLeaves(ne,ge.cluster_id,H,X,ue):ue<X?ue++:ne.push(Ie),ne.length===H)break}return ue}_createTree(ne){let ie=new i.aF(ne.length/this.stride|0,this.options.nodeSize,Float32Array);for(let H=0;H<ne.length;H+=this.stride)ie.add(ne[H],ne[H+1]);return ie.finish(),ie.data=ne,ie}_addTileFeatures(ne,ie,H,X,ue,J){for(let Ie of ne){let ge=Ie*this.stride,Pe=ie[ge+Ne]>1,Le,Ae,Ge;if(Pe)Le=at(ie,ge,this.clusterProps),Ae=ie[ge],Ge=ie[ge+1];else{let Ft=this.points[ie[ge+Ee]];Le=Ft.properties;let[cr,er]=Ft.geometry.coordinates;Ae=At(cr),Ge=Qe(er)}let dt={type:1,geometry:[[Math.round(this.options.extent*(Ae*ue-H)),Math.round(this.options.extent*(Ge*ue-X))]],tags:Le},xt;xt=Pe||this.options.generateId?ie[ge+Ee]:this.points[ie[ge+Ee]].id,xt!==void 0&&(dt.id=xt),J.features.push(dt)}}_limitZoom(ne){return Math.max(this.options.minZoom,Math.min(Math.floor(+ne),this.options.maxZoom+1))}_cluster(ne,ie){let{radius:H,extent:X,reduce:ue,minPoints:J}=this.options,Ie=H/(X*Math.pow(2,ie)),ge=ne.data,Pe=[],Le=this.stride;for(let Ae=0;Ae<ge.length;Ae+=Le){if(ge[Ae+2]<=ie)continue;ge[Ae+2]=ie;let Ge=ge[Ae],dt=ge[Ae+1],xt=ne.within(ge[Ae],ge[Ae+1],Ie),Ft=ge[Ae+Ne],cr=Ft;for(let er of xt){let Ke=er*Le;ge[Ke+2]>ie&&(cr+=ge[Ke+Ne])}if(cr>Ft&&cr>=J){let er,Ke=Ge*Ft,sn=dt*Ft,kr=-1,Zr=((Ae/Le|0)<<5)+(ie+1)+this.points.length;for(let br of xt){let ct=br*Le;if(ge[ct+2]<=ie)continue;ge[ct+2]=ie;let hr=ge[ct+Ne];Ke+=ge[ct]*hr,sn+=ge[ct+1]*hr,ge[ct+4]=Zr,ue&&(er||(er=this._map(ge,Ae,!0),kr=this.clusterProps.length,this.clusterProps.push(er)),ue(er,this._map(ge,ct)))}ge[Ae+4]=Zr,Pe.push(Ke/cr,sn/cr,1/0,Zr,-1,cr),ue&&Pe.push(kr)}else{for(let er=0;er<Le;er++)Pe.push(ge[Ae+er]);if(cr>1)for(let er of xt){let Ke=er*Le;if(!(ge[Ke+2]<=ie)){ge[Ke+2]=ie;for(let sn=0;sn<Le;sn++)Pe.push(ge[Ke+sn])}}}}return Pe}_getOriginId(ne){return ne-this.points.length>>5}_getOriginZoom(ne){return(ne-this.points.length)%32}_map(ne,ie,H){if(ne[ie+Ne]>1){let J=this.clusterProps[ne[ie+_e]];return H?Object.assign({},J):J}let X=this.points[ne[ie+Ee]].properties,ue=this.options.map(X);return H&&ue===X?Object.assign({},ue):ue}}function st(Be,ne,ie){return{type:"Feature",id:Be[ne+Ee],properties:at(Be,ne,ie),geometry:{type:"Point",coordinates:[(H=Be[ne],360*(H-.5)),Dt(Be[ne+1])]}};var H}function at(Be,ne,ie){let H=Be[ne+Ne],X=H>=1e4?`${Math.round(H/1e3)}k`:H>=1e3?Math.round(H/100)/10+"k":H,ue=Be[ne+_e],J=ue===-1?{}:Object.assign({},ie[ue]);return Object.assign(J,{cluster:!0,cluster_id:Be[ne+Ee],point_count:H,point_count_abbreviated:X})}function At(Be){return Be/360+.5}function Qe(Be){let ne=Math.sin(Be*Math.PI/180),ie=.5-.25*Math.log((1+ne)/(1-ne))/Math.PI;return ie<0?0:ie>1?1:ie}function Dt(Be){let ne=(180-360*Be)*Math.PI/180;return 360*Math.atan(Math.exp(ne))/Math.PI-90}function Ut(Be,ne,ie,H){let X=H,ue=ne+(ie-ne>>1),J,Ie=ie-ne,ge=Be[ne],Pe=Be[ne+1],Le=Be[ie],Ae=Be[ie+1];for(let Ge=ne+3;Ge<ie;Ge+=3){let dt=Zt(Be[Ge],Be[Ge+1],ge,Pe,Le,Ae);if(dt>X)J=Ge,X=dt;else if(dt===X){let xt=Math.abs(Ge-ue);xt<Ie&&(J=Ge,Ie=xt)}}X>H&&(J-ne>3&&Ut(Be,ne,J,H),Be[J+2]=X,ie-J>3&&Ut(Be,J,ie,H))}function Zt(Be,ne,ie,H,X,ue){let J=X-ie,Ie=ue-H;if(J!==0||Ie!==0){let ge=((Be-ie)*J+(ne-H)*Ie)/(J*J+Ie*Ie);ge>1?(ie=X,H=ue):ge>0&&(ie+=J*ge,H+=Ie*ge)}return J=Be-ie,Ie=ne-H,J*J+Ie*Ie}function Xe(Be,ne,ie,H){let X={id:Be==null?null:Be,type:ne,geometry:ie,tags:H,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};if(ne==="Point"||ne==="MultiPoint"||ne==="LineString")lt(X,ie);else if(ne==="Polygon")lt(X,ie[0]);else if(ne==="MultiLineString")for(let ue of ie)lt(X,ue);else if(ne==="MultiPolygon")for(let ue of ie)lt(X,ue[0]);return X}function lt(Be,ne){for(let ie=0;ie<ne.length;ie+=3)Be.minX=Math.min(Be.minX,ne[ie]),Be.minY=Math.min(Be.minY,ne[ie+1]),Be.maxX=Math.max(Be.maxX,ne[ie]),Be.maxY=Math.max(Be.maxY,ne[ie+1])}function yt(Be,ne,ie,H){if(!ne.geometry)return;let X=ne.geometry.coordinates;if(X&&X.length===0)return;let ue=ne.geometry.type,J=Math.pow(ie.tolerance/((1<<ie.maxZoom)*ie.extent),2),Ie=[],ge=ne.id;if(ie.promoteId?ge=ne.properties[ie.promoteId]:ie.generateId&&(ge=H||0),ue==="Point")Fe(X,Ie);else if(ue==="MultiPoint")for(let Pe of X)Fe(Pe,Ie);else if(ue==="LineString")Me(X,Ie,J,!1);else if(ue==="MultiLineString"){if(ie.lineMetrics){for(let Pe of X)Ie=[],Me(Pe,Ie,J,!1),Be.push(Xe(ge,"LineString",Ie,ne.properties));return}Ue(X,Ie,J,!1)}else if(ue==="Polygon")Ue(X,Ie,J,!0);else{if(ue!=="MultiPolygon"){if(ue==="GeometryCollection"){for(let Pe of ne.geometry.geometries)yt(Be,{id:ge,geometry:Pe,properties:ne.properties},ie,H);return}throw new Error("Input data is not a valid GeoJSON object.")}for(let Pe of X){let Le=[];Ue(Pe,Le,J,!0),Ie.push(Le)}}Be.push(Xe(ge,ue,Ie,ne.properties))}function Fe(Be,ne){ne.push(je(Be[0]),tt(Be[1]),0)}function Me(Be,ne,ie,H){let X,ue,J=0;for(let ge=0;ge<Be.length;ge++){let Pe=je(Be[ge][0]),Le=tt(Be[ge][1]);ne.push(Pe,Le,0),ge>0&&(J+=H?(X*Le-Pe*ue)/2:Math.sqrt(Math.pow(Pe-X,2)+Math.pow(Le-ue,2))),X=Pe,ue=Le}let Ie=ne.length-3;ne[2]=1,Ut(ne,0,Ie,ie),ne[Ie+2]=1,ne.size=Math.abs(J),ne.start=0,ne.end=ne.size}function Ue(Be,ne,ie,H){for(let X=0;X<Be.length;X++){let ue=[];Me(Be[X],ue,ie,H),ne.push(ue)}}function je(Be){return Be/360+.5}function tt(Be){let ne=Math.sin(Be*Math.PI/180),ie=.5-.25*Math.log((1+ne)/(1-ne))/Math.PI;return ie<0?0:ie>1?1:ie}function it(Be,ne,ie,H,X,ue,J,Ie){if(H/=ne,ue>=(ie/=ne)&&J<H)return Be;if(J<ie||ue>=H)return null;let ge=[];for(let Pe of Be){let Le=Pe.geometry,Ae=Pe.type,Ge=X===0?Pe.minX:Pe.minY,dt=X===0?Pe.maxX:Pe.maxY;if(Ge>=ie&&dt<H){ge.push(Pe);continue}if(dt<ie||Ge>=H)continue;let xt=[];if(Ae==="Point"||Ae==="MultiPoint")St(Le,xt,ie,H,X);else if(Ae==="LineString")vt(Le,xt,ie,H,X,!1,Ie.lineMetrics);else if(Ae==="MultiLineString")Yt(Le,xt,ie,H,X,!1);else if(Ae==="Polygon")Yt(Le,xt,ie,H,X,!0);else if(Ae==="MultiPolygon")for(let Ft of Le){let cr=[];Yt(Ft,cr,ie,H,X,!0),cr.length&&xt.push(cr)}if(xt.length){if(Ie.lineMetrics&&Ae==="LineString"){for(let Ft of xt)ge.push(Xe(Pe.id,Ae,Ft,Pe.tags));continue}Ae!=="LineString"&&Ae!=="MultiLineString"||(xt.length===1?(Ae="LineString",xt=xt[0]):Ae="MultiLineString"),Ae!=="Point"&&Ae!=="MultiPoint"||(Ae=xt.length===3?"Point":"MultiPoint"),ge.push(Xe(Pe.id,Ae,xt,Pe.tags))}}return ge.length?ge:null}function St(Be,ne,ie,H,X){for(let ue=0;ue<Be.length;ue+=3){let J=Be[ue+X];J>=ie&&J<=H&&It(ne,Be[ue],Be[ue+1],Be[ue+2])}}function vt(Be,ne,ie,H,X,ue,J){let Ie=Nt(Be),ge=X===0?Vt:Jt,Pe,Le,Ae=Be.start;for(let cr=0;cr<Be.length-3;cr+=3){let er=Be[cr],Ke=Be[cr+1],sn=Be[cr+2],kr=Be[cr+3],Zr=Be[cr+4],br=X===0?er:Ke,ct=X===0?kr:Zr,hr=!1;J&&(Pe=Math.sqrt(Math.pow(er-kr,2)+Math.pow(Ke-Zr,2))),br<ie?ct>ie&&(Le=ge(Ie,er,Ke,kr,Zr,ie),J&&(Ie.start=Ae+Pe*Le)):br>H?ct<H&&(Le=ge(Ie,er,Ke,kr,Zr,H),J&&(Ie.start=Ae+Pe*Le)):It(Ie,er,Ke,sn),ct<ie&&br>=ie&&(Le=ge(Ie,er,Ke,kr,Zr,ie),hr=!0),ct>H&&br<=H&&(Le=ge(Ie,er,Ke,kr,Zr,H),hr=!0),!ue&&hr&&(J&&(Ie.end=Ae+Pe*Le),ne.push(Ie),Ie=Nt(Be)),J&&(Ae+=Pe)}let Ge=Be.length-3,dt=Be[Ge],xt=Be[Ge+1],Ft=X===0?dt:xt;Ft>=ie&&Ft<=H&&It(Ie,dt,xt,Be[Ge+2]),Ge=Ie.length-3,ue&&Ge>=3&&(Ie[Ge]!==Ie[0]||Ie[Ge+1]!==Ie[1])&&It(Ie,Ie[0],Ie[1],Ie[2]),Ie.length&&ne.push(Ie)}function Nt(Be){let ne=[];return ne.size=Be.size,ne.start=Be.start,ne.end=Be.end,ne}function Yt(Be,ne,ie,H,X,ue){for(let J of Be)vt(J,ne,ie,H,X,ue,!1)}function It(Be,ne,ie,H){Be.push(ne,ie,H)}function Vt(Be,ne,ie,H,X,ue){let J=(ue-ne)/(H-ne);return It(Be,ue,ie+(X-ie)*J,1),J}function Jt(Be,ne,ie,H,X,ue){let J=(ue-ie)/(X-ie);return It(Be,ne+(H-ne)*J,ue,1),J}function lr(Be,ne){let ie=[];for(let H=0;H<Be.length;H++){let X=Be[H],ue=X.type,J;if(ue==="Point"||ue==="MultiPoint"||ue==="LineString")J=Tr(X.geometry,ne);else if(ue==="MultiLineString"||ue==="Polygon"){J=[];for(let Ie of X.geometry)J.push(Tr(Ie,ne))}else if(ue==="MultiPolygon"){J=[];for(let Ie of X.geometry){let ge=[];for(let Pe of Ie)ge.push(Tr(Pe,ne));J.push(ge)}}ie.push(Xe(X.id,ue,J,X.tags))}return ie}function Tr(Be,ne){let ie=[];ie.size=Be.size,Be.start!==void 0&&(ie.start=Be.start,ie.end=Be.end);for(let H=0;H<Be.length;H+=3)ie.push(Be[H]+ne,Be[H+1],Be[H+2]);return ie}function ur(Be,ne){if(Be.transformed)return Be;let ie=1<<Be.z,H=Be.x,X=Be.y;for(let ue of Be.features){let J=ue.geometry,Ie=ue.type;if(ue.geometry=[],Ie===1)for(let ge=0;ge<J.length;ge+=2)ue.geometry.push(wr(J[ge],J[ge+1],ne,ie,H,X));else for(let ge=0;ge<J.length;ge++){let Pe=[];for(let Le=0;Le<J[ge].length;Le+=2)Pe.push(wr(J[ge][Le],J[ge][Le+1],ne,ie,H,X));ue.geometry.push(Pe)}}return Be.transformed=!0,Be}function wr(Be,ne,ie,H,X,ue){return[Math.round(ie*(Be*H-X)),Math.round(ie*(ne*H-ue))]}function Mr(Be,ne,ie,H,X){let ue=ne===X.maxZoom?0:X.tolerance/((1<<ne)*X.extent),J={features:[],numPoints:0,numSimplified:0,numFeatures:Be.length,source:null,x:ie,y:H,z:ne,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0};for(let Ie of Be)Jr(J,Ie,ue,X);return J}function Jr(Be,ne,ie,H){let X=ne.geometry,ue=ne.type,J=[];if(Be.minX=Math.min(Be.minX,ne.minX),Be.minY=Math.min(Be.minY,ne.minY),Be.maxX=Math.max(Be.maxX,ne.maxX),Be.maxY=Math.max(Be.maxY,ne.maxY),ue==="Point"||ue==="MultiPoint")for(let Ie=0;Ie<X.length;Ie+=3)J.push(X[Ie],X[Ie+1]),Be.numPoints++,Be.numSimplified++;else if(ue==="LineString")rr(J,X,Be,ie,!1,!1);else if(ue==="MultiLineString"||ue==="Polygon")for(let Ie=0;Ie<X.length;Ie++)rr(J,X[Ie],Be,ie,ue==="Polygon",Ie===0);else if(ue==="MultiPolygon")for(let Ie=0;Ie<X.length;Ie++){let ge=X[Ie];for(let Pe=0;Pe<ge.length;Pe++)rr(J,ge[Pe],Be,ie,!0,Pe===0)}if(J.length){let Ie=ne.tags||null;if(ue==="LineString"&&H.lineMetrics){Ie={};for(let Pe in ne.tags)Ie[Pe]=ne.tags[Pe];Ie.mapbox_clip_start=X.start/X.size,Ie.mapbox_clip_end=X.end/X.size}let ge={geometry:J,type:ue==="Polygon"||ue==="MultiPolygon"?3:ue==="LineString"||ue==="MultiLineString"?2:1,tags:Ie};ne.id!==null&&(ge.id=ne.id),Be.features.push(ge)}}function rr(Be,ne,ie,H,X,ue){let J=H*H;if(H>0&&ne.size<(X?J:H))return void(ie.numPoints+=ne.length/3);let Ie=[];for(let ge=0;ge<ne.length;ge+=3)(H===0||ne[ge+2]>J)&&(ie.numSimplified++,Ie.push(ne[ge],ne[ge+1])),ie.numPoints++;X&&function(ge,Pe){let Le=0;for(let Ae=0,Ge=ge.length,dt=Ge-2;Ae<Ge;dt=Ae,Ae+=2)Le+=(ge[Ae]-ge[dt])*(ge[Ae+1]+ge[dt+1]);if(Le>0===Pe)for(let Ae=0,Ge=ge.length;Ae<Ge/2;Ae+=2){let dt=ge[Ae],xt=ge[Ae+1];ge[Ae]=ge[Ge-2-Ae],ge[Ae+1]=ge[Ge-1-Ae],ge[Ge-2-Ae]=dt,ge[Ge-1-Ae]=xt}}(Ie,ue),Be.push(Ie)}let Vr={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0};class Kn{constructor(ne,ie){let H=(ie=this.options=function(ue,J){for(let Ie in J)ue[Ie]=J[Ie];return ue}(Object.create(Vr),ie)).debug;if(H&&console.time("preprocess data"),ie.maxZoom<0||ie.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(ie.promoteId&&ie.generateId)throw new Error("promoteId and generateId cannot be used together.");let X=function(ue,J){let Ie=[];if(ue.type==="FeatureCollection")for(let ge=0;ge<ue.features.length;ge++)yt(Ie,ue.features[ge],J,ge);else yt(Ie,ue.type==="Feature"?ue:{geometry:ue},J);return Ie}(ne,ie);this.tiles={},this.tileCoords=[],H&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",ie.indexMaxZoom,ie.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),X=function(ue,J){let Ie=J.buffer/J.extent,ge=ue,Pe=it(ue,1,-1-Ie,Ie,0,-1,2,J),Le=it(ue,1,1-Ie,2+Ie,0,-1,2,J);return(Pe||Le)&&(ge=it(ue,1,-Ie,1+Ie,0,-1,2,J)||[],Pe&&(ge=lr(Pe,1).concat(ge)),Le&&(ge=ge.concat(lr(Le,-1)))),ge}(X,ie),X.length&&this.splitTile(X,0,0,0),H&&(X.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}splitTile(ne,ie,H,X,ue,J,Ie){let ge=[ne,ie,H,X],Pe=this.options,Le=Pe.debug;for(;ge.length;){X=ge.pop(),H=ge.pop(),ie=ge.pop(),ne=ge.pop();let Ae=1<<ie,Ge=Mi(ie,H,X),dt=this.tiles[Ge];if(!dt&&(Le>1&&console.time("creation"),dt=this.tiles[Ge]=Mr(ne,ie,H,X,Pe),this.tileCoords.push({z:ie,x:H,y:X}),Le)){Le>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",ie,H,X,dt.numFeatures,dt.numPoints,dt.numSimplified),console.timeEnd("creation"));let hr=`z${ie}`;this.stats[hr]=(this.stats[hr]||0)+1,this.total++}if(dt.source=ne,ue==null){if(ie===Pe.indexMaxZoom||dt.numPoints<=Pe.indexMaxPoints)continue}else{if(ie===Pe.maxZoom||ie===ue)continue;if(ue!=null){let hr=ue-ie;if(H!==J>>hr||X!==Ie>>hr)continue}}if(dt.source=null,ne.length===0)continue;Le>1&&console.time("clipping");let xt=.5*Pe.buffer/Pe.extent,Ft=.5-xt,cr=.5+xt,er=1+xt,Ke=null,sn=null,kr=null,Zr=null,br=it(ne,Ae,H-xt,H+cr,0,dt.minX,dt.maxX,Pe),ct=it(ne,Ae,H+Ft,H+er,0,dt.minX,dt.maxX,Pe);ne=null,br&&(Ke=it(br,Ae,X-xt,X+cr,1,dt.minY,dt.maxY,Pe),sn=it(br,Ae,X+Ft,X+er,1,dt.minY,dt.maxY,Pe),br=null),ct&&(kr=it(ct,Ae,X-xt,X+cr,1,dt.minY,dt.maxY,Pe),Zr=it(ct,Ae,X+Ft,X+er,1,dt.minY,dt.maxY,Pe),ct=null),Le>1&&console.timeEnd("clipping"),ge.push(Ke||[],ie+1,2*H,2*X),ge.push(sn||[],ie+1,2*H,2*X+1),ge.push(kr||[],ie+1,2*H+1,2*X),ge.push(Zr||[],ie+1,2*H+1,2*X+1)}}getTile(ne,ie,H){ne=+ne,ie=+ie,H=+H;let X=this.options,{extent:ue,debug:J}=X;if(ne<0||ne>24)return null;let Ie=1<<ne,ge=Mi(ne,ie=ie+Ie&Ie-1,H);if(this.tiles[ge])return ur(this.tiles[ge],ue);J>1&&console.log("drilling down to z%d-%d-%d",ne,ie,H);let Pe,Le=ne,Ae=ie,Ge=H;for(;!Pe&&Le>0;)Le--,Ae>>=1,Ge>>=1,Pe=this.tiles[Mi(Le,Ae,Ge)];return Pe&&Pe.source?(J>1&&(console.log("found parent tile z%d-%d-%d",Le,Ae,Ge),console.time("drilling down")),this.splitTile(Pe.source,Le,Ae,Ge,ne,ie,H),J>1&&console.timeEnd("drilling down"),this.tiles[ge]?ur(this.tiles[ge],ue):null):null}}function Mi(Be,ne,ie){return 32*((1<<Be)*ie+ne)+Be}function li(Be,ne){return ne?Be.properties[ne]:Be.id}function cc(Be,ne){if(Be==null)return!0;if(Be.type==="Feature")return li(Be,ne)!=null;if(Be.type==="FeatureCollection"){let ie=new Set;for(let H of Be.features){let X=li(H,ne);if(X==null||ie.has(X))return!1;ie.add(X)}return!0}return!1}function Aa(Be,ne){let ie=new Map;if(Be!=null)if(Be.type==="Feature")ie.set(li(Be,ne),Be);else for(let H of Be.features)ie.set(li(H,ne),H);return ie}class ko extends y{constructor(){super(...arguments),this._dataUpdateable=new Map}loadVectorTile(ne,ie){return i._(this,void 0,void 0,function*(){let H=ne.tileID.canonical;if(!this._geoJSONIndex)throw new Error("Unable to parse the data into a cluster or geojson");let X=this._geoJSONIndex.getTile(H.z,H.x,H.y);if(!X)return null;let ue=new R(X.features),J=Se(ue);return J.byteOffset===0&&J.byteLength===J.buffer.byteLength||(J=new Uint8Array(J)),{vectorTile:ue,rawData:J.buffer}})}loadData(ne){return i._(this,void 0,void 0,function*(){var ie;(ie=this._pendingRequest)===null||ie===void 0||ie.abort();let H=!!(ne&&ne.request&&ne.request.collectResourceTiming)&&new i.cE(ne.request);this._pendingRequest=new AbortController;try{this._pendingData=this.loadAndProcessGeoJSON(ne,this._pendingRequest),this._geoJSONIndex=ne.cluster?new ze(function({superclusterOptions:J,clusterProperties:Ie}){if(!Ie||!J)return J;let ge={},Pe={},Le={accumulated:null,zoom:0},Ae={properties:null},Ge=Object.keys(Ie);for(let dt of Ge){let[xt,Ft]=Ie[dt],cr=i.cL(Ft),er=i.cL(typeof xt=="string"?[xt,["accumulated"],["get",dt]]:xt);ge[dt]=cr.value,Pe[dt]=er.value}return J.map=dt=>{Ae.properties=dt;let xt={};for(let Ft of Ge)xt[Ft]=ge[Ft].evaluate(Le,Ae);return xt},J.reduce=(dt,xt)=>{Ae.properties=xt;for(let Ft of Ge)Le.accumulated=dt[Ft],dt[Ft]=Pe[Ft].evaluate(Le,Ae)},J}(ne)).load((yield this._pendingData).features):(X=yield this._pendingData,new Kn(X,ne.geojsonVtOptions)),this.loaded={};let ue={};if(H){let J=H.finish();J&&(ue.resourceTiming={},ue.resourceTiming[ne.source]=JSON.parse(JSON.stringify(J)))}return ue}catch(ue){if(delete this._pendingRequest,i.cp(ue))return{abandoned:!0};throw ue}var X})}getData(){return i._(this,void 0,void 0,function*(){return this._pendingData})}reloadTile(ne){let ie=this.loaded;return ie&&ie[ne.uid]?super.reloadTile(ne):this.loadTile(ne)}loadAndProcessGeoJSON(ne,ie){return i._(this,void 0,void 0,function*(){let H=yield this.loadGeoJSON(ne,ie);if(delete this._pendingRequest,typeof H!="object")throw new Error(`Input data given to '${ne.source}' is not a valid GeoJSON object.`);if(z(H,!0),ne.filter){let X=i.cL(ne.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(X.result==="error")throw new Error(X.value.map(J=>`${J.key}: ${J.message}`).join(", "));H={type:"FeatureCollection",features:H.features.filter(J=>X.value.evaluate({zoom:0},J))}}return H})}loadGeoJSON(ne,ie){return i._(this,void 0,void 0,function*(){let{promoteId:H}=ne;if(ne.request){let X=yield i.j(ne.request,ie);return this._dataUpdateable=cc(X.data,H)?Aa(X.data,H):void 0,X.data}if(typeof ne.data=="string")try{let X=JSON.parse(ne.data);return this._dataUpdateable=cc(X,H)?Aa(X,H):void 0,X}catch(X){throw new Error(`Input data given to '${ne.source}' is not a valid GeoJSON object.`)}if(!ne.dataDiff)throw new Error(`Input data given to '${ne.source}' is not a valid GeoJSON object.`);if(!this._dataUpdateable)throw new Error(`Cannot update existing geojson data in ${ne.source}`);return function(X,ue,J){var Ie,ge,Pe,Le;if(ue.removeAll&&X.clear(),ue.remove)for(let Ae of ue.remove)X.delete(Ae);if(ue.add)for(let Ae of ue.add){let Ge=li(Ae,J);Ge!=null&&X.set(Ge,Ae)}if(ue.update)for(let Ae of ue.update){let Ge=X.get(Ae.id);if(Ge==null)continue;let dt=!Ae.removeAllProperties&&(((Ie=Ae.removeProperties)===null||Ie===void 0?void 0:Ie.length)>0||((ge=Ae.addOrUpdateProperties)===null||ge===void 0?void 0:ge.length)>0);if((Ae.newGeometry||Ae.removeAllProperties||dt)&&(Ge=Object.assign({},Ge),X.set(Ae.id,Ge),dt&&(Ge.properties=Object.assign({},Ge.properties))),Ae.newGeometry&&(Ge.geometry=Ae.newGeometry),Ae.removeAllProperties)Ge.properties={};else if(((Pe=Ae.removeProperties)===null||Pe===void 0?void 0:Pe.length)>0)for(let xt of Ae.removeProperties)Object.prototype.hasOwnProperty.call(Ge.properties,xt)&&delete Ge.properties[xt];if(((Le=Ae.addOrUpdateProperties)===null||Le===void 0?void 0:Le.length)>0)for(let{key:xt,value:Ft}of Ae.addOrUpdateProperties)Ge.properties[xt]=Ft}}(this._dataUpdateable,ne.dataDiff,H),{type:"FeatureCollection",features:Array.from(this._dataUpdateable.values())}})}removeSource(ne){return i._(this,void 0,void 0,function*(){this._pendingRequest&&this._pendingRequest.abort()})}getClusterExpansionZoom(ne){return this._geoJSONIndex.getClusterExpansionZoom(ne.clusterId)}getClusterChildren(ne){return this._geoJSONIndex.getChildren(ne.clusterId)}getClusterLeaves(ne){return this._geoJSONIndex.getLeaves(ne.clusterId,ne.limit,ne.offset)}}class Es{constructor(ne){this.self=ne,this.actor=new i.H(ne),this.layerIndexes={},this.availableImages={},this.workerSources={},this.demWorkerSources={},this.externalWorkerSourceTypes={},this.self.registerWorkerSource=(ie,H)=>{if(this.externalWorkerSourceTypes[ie])throw new Error(`Worker source with name "${ie}" already registered.`);this.externalWorkerSourceTypes[ie]=H},this.self.addProtocol=i.cr,this.self.removeProtocol=i.cs,this.self.registerRTLTextPlugin=ie=>{i.cM.setMethods(ie)},this.actor.registerMessageHandler("LDT",(ie,H)=>this._getDEMWorkerSource(ie,H.source).loadTile(H)),this.actor.registerMessageHandler("RDT",(ie,H)=>i._(this,void 0,void 0,function*(){this._getDEMWorkerSource(ie,H.source).removeTile(H)})),this.actor.registerMessageHandler("GCEZ",(ie,H)=>i._(this,void 0,void 0,function*(){return this._getWorkerSource(ie,H.type,H.source).getClusterExpansionZoom(H)})),this.actor.registerMessageHandler("GCC",(ie,H)=>i._(this,void 0,void 0,function*(){return this._getWorkerSource(ie,H.type,H.source).getClusterChildren(H)})),this.actor.registerMessageHandler("GCL",(ie,H)=>i._(this,void 0,void 0,function*(){return this._getWorkerSource(ie,H.type,H.source).getClusterLeaves(H)})),this.actor.registerMessageHandler("LD",(ie,H)=>this._getWorkerSource(ie,H.type,H.source).loadData(H)),this.actor.registerMessageHandler("GD",(ie,H)=>this._getWorkerSource(ie,H.type,H.source).getData()),this.actor.registerMessageHandler("LT",(ie,H)=>this._getWorkerSource(ie,H.type,H.source).loadTile(H)),this.actor.registerMessageHandler("RT",(ie,H)=>this._getWorkerSource(ie,H.type,H.source).reloadTile(H)),this.actor.registerMessageHandler("AT",(ie,H)=>this._getWorkerSource(ie,H.type,H.source).abortTile(H)),this.actor.registerMessageHandler("RMT",(ie,H)=>this._getWorkerSource(ie,H.type,H.source).removeTile(H)),this.actor.registerMessageHandler("RS",(ie,H)=>i._(this,void 0,void 0,function*(){if(!this.workerSources[ie]||!this.workerSources[ie][H.type]||!this.workerSources[ie][H.type][H.source])return;let X=this.workerSources[ie][H.type][H.source];delete this.workerSources[ie][H.type][H.source],X.removeSource!==void 0&&X.removeSource(H)})),this.actor.registerMessageHandler("RM",ie=>i._(this,void 0,void 0,function*(){delete this.layerIndexes[ie],delete this.availableImages[ie],delete this.workerSources[ie],delete this.demWorkerSources[ie]})),this.actor.registerMessageHandler("SR",(ie,H)=>i._(this,void 0,void 0,function*(){this.referrer=H})),this.actor.registerMessageHandler("SRPS",(ie,H)=>this._syncRTLPluginState(ie,H)),this.actor.registerMessageHandler("IS",(ie,H)=>i._(this,void 0,void 0,function*(){this.self.importScripts(H)})),this.actor.registerMessageHandler("SI",(ie,H)=>this._setImages(ie,H)),this.actor.registerMessageHandler("UL",(ie,H)=>i._(this,void 0,void 0,function*(){this._getLayerIndex(ie).update(H.layers,H.removedIds)})),this.actor.registerMessageHandler("SL",(ie,H)=>i._(this,void 0,void 0,function*(){this._getLayerIndex(ie).replace(H)}))}_setImages(ne,ie){return i._(this,void 0,void 0,function*(){this.availableImages[ne]=ie;for(let H in this.workerSources[ne]){let X=this.workerSources[ne][H];for(let ue in X)X[ue].availableImages=ie}})}_syncRTLPluginState(ne,ie){return i._(this,void 0,void 0,function*(){return yield i.cM.syncState(ie,this.self.importScripts)})}_getAvailableImages(ne){let ie=this.availableImages[ne];return ie||(ie=[]),ie}_getLayerIndex(ne){let ie=this.layerIndexes[ne];return ie||(ie=this.layerIndexes[ne]=new o),ie}_getWorkerSource(ne,ie,H){if(this.workerSources[ne]||(this.workerSources[ne]={}),this.workerSources[ne][ie]||(this.workerSources[ne][ie]={}),!this.workerSources[ne][ie][H]){let X={sendAsync:(ue,J)=>(ue.targetMapId=ne,this.actor.sendAsync(ue,J))};switch(ie){case"vector":this.workerSources[ne][ie][H]=new y(X,this._getLayerIndex(ne),this._getAvailableImages(ne));break;case"geojson":this.workerSources[ne][ie][H]=new ko(X,this._getLayerIndex(ne),this._getAvailableImages(ne));break;default:this.workerSources[ne][ie][H]=new this.externalWorkerSourceTypes[ie](X,this._getLayerIndex(ne),this._getAvailableImages(ne))}}return this.workerSources[ne][ie][H]}_getDEMWorkerSource(ne,ie){return this.demWorkerSources[ne]||(this.demWorkerSources[ne]={}),this.demWorkerSources[ne][ie]||(this.demWorkerSources[ne][ie]=new w),this.demWorkerSources[ne][ie]}}return i.i(self)&&(self.worker=new Es(self)),Es}),r("index",["exports","./shared"],function(i,o){"use strict";var u="5.5.0";function f(){var _=new o.A(4);return o.A!=Float32Array&&(_[1]=0,_[2]=0),_[0]=1,_[3]=1,_}let m,y,w={now:typeof performance!="undefined"&&performance&&performance.now?performance.now.bind(performance):Date.now.bind(Date),frame(_,a,l){let h=requestAnimationFrame(b=>{g(),a(b)}),{unsubscribe:g}=o.s(_.signal,"abort",()=>{g(),cancelAnimationFrame(h),l(o.c())},!1)},frameAsync(_){return new Promise((a,l)=>{this.frame(_,a,l)})},getImageData(_,a=0){return this.getImageCanvasContext(_).getImageData(-a,-a,_.width+2*a,_.height+2*a)},getImageCanvasContext(_){let a=window.document.createElement("canvas"),l=a.getContext("2d",{willReadFrequently:!0});if(!l)throw new Error("failed to create canvas 2d context");return a.width=_.width,a.height=_.height,l.drawImage(_,0,0,_.width,_.height),l},resolveURL:_=>(m||(m=document.createElement("a")),m.href=_,m.href),hardwareConcurrency:typeof navigator!="undefined"&&navigator.hardwareConcurrency||4,get prefersReducedMotion(){return!!matchMedia&&(y==null&&(y=matchMedia("(prefers-reduced-motion: reduce)")),y.matches)}};class I{static testProp(a){if(!I.docStyle)return a[0];for(let l=0;l<a.length;l++)if(a[l]in I.docStyle)return a[l];return a[0]}static create(a,l,h){let g=window.document.createElement(a);return l!==void 0&&(g.className=l),h&&h.appendChild(g),g}static createNS(a,l){return window.document.createElementNS(a,l)}static disableDrag(){I.docStyle&&I.selectProp&&(I.userSelect=I.docStyle[I.selectProp],I.docStyle[I.selectProp]="none")}static enableDrag(){I.docStyle&&I.selectProp&&(I.docStyle[I.selectProp]=I.userSelect)}static setTransform(a,l){a.style[I.transformProp]=l}static addEventListener(a,l,h,g={}){a.addEventListener(l,h,"passive"in g?g:g.capture)}static removeEventListener(a,l,h,g={}){a.removeEventListener(l,h,"passive"in g?g:g.capture)}static suppressClickInternal(a){a.preventDefault(),a.stopPropagation(),window.removeEventListener("click",I.suppressClickInternal,!0)}static suppressClick(){window.addEventListener("click",I.suppressClickInternal,!0),window.setTimeout(()=>{window.removeEventListener("click",I.suppressClickInternal,!0)},0)}static getScale(a){let l=a.getBoundingClientRect();return{x:l.width/a.offsetWidth||1,y:l.height/a.offsetHeight||1,boundingClientRect:l}}static getPoint(a,l,h){let g=l.boundingClientRect;return new o.P((h.clientX-g.left)/l.x-a.clientLeft,(h.clientY-g.top)/l.y-a.clientTop)}static mousePos(a,l){let h=I.getScale(a);return I.getPoint(a,h,l)}static touchPos(a,l){let h=[],g=I.getScale(a);for(let b=0;b<l.length;b++)h.push(I.getPoint(a,g,l[b]));return h}static mouseButton(a){return a.button}static remove(a){a.parentNode&&a.parentNode.removeChild(a)}static sanitize(a){let l=new DOMParser().parseFromString(a,"text/html").body||document.createElement("body"),h=l.querySelectorAll("script");for(let g of h)g.remove();return I.clean(l),l.innerHTML}static isPossiblyDangerous(a,l){let h=l.replace(/\s+/g,"").toLowerCase();return!(!["src","href","xlink:href"].includes(a)||!h.includes("javascript:")&&!h.includes("data:"))||!!a.startsWith("on")||void 0}static clean(a){let l=a.children;for(let h of l)I.removeAttributes(h),I.clean(h)}static removeAttributes(a){for(let{name:l,value:h}of a.attributes)I.isPossiblyDangerous(l,h)&&a.removeAttribute(l)}}I.docStyle=typeof window!="undefined"&&window.document&&window.document.documentElement.style,I.selectProp=I.testProp(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),I.transformProp=I.testProp(["transform","WebkitTransform"]);let M={supported:!1,testSupport:function(_){!F&&z&&(q?R(_):N=_)}},N,z,F=!1,q=!1;function R(_){let a=_.createTexture();_.bindTexture(_.TEXTURE_2D,a);try{if(_.texImage2D(_.TEXTURE_2D,0,_.RGBA,_.RGBA,_.UNSIGNED_BYTE,z),_.isContextLost())return;M.supported=!0}catch(l){}_.deleteTexture(a),F=!0}var U;typeof document!="undefined"&&(z=document.createElement("img"),z.onload=()=>{N&&R(N),N=null,q=!0},z.onerror=()=>{F=!0,N=null},z.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="),function(_){let a,l,h,g;_.resetRequestQueue=()=>{a=[],l=0,h=0,g={}},_.addThrottleControl=O=>{let k=h++;return g[k]=O,k},_.removeThrottleControl=O=>{delete g[O],E()},_.getImage=(O,k,j=!0)=>new Promise(($,V)=>{M.supported&&(O.headers||(O.headers={}),O.headers.accept="image/webp,*/*"),o.e(O,{type:"image"}),a.push({abortController:k,requestParameters:O,supportImageRefresh:j,state:"queued",onError:Q=>{V(Q)},onSuccess:Q=>{$(Q)}}),E()});let b=O=>o._(this,void 0,void 0,function*(){O.state="running";let{requestParameters:k,supportImageRefresh:j,onError:$,onSuccess:V,abortController:Q}=O,ee=j===!1&&!o.i(self)&&!o.g(k.url)&&(!k.headers||Object.keys(k.headers).reduce((he,ve)=>he&&ve==="accept",!0));l++;let fe=ee?A(k,Q):o.m(k,Q);try{let he=yield fe;delete O.abortController,O.state="completed",he.data instanceof HTMLImageElement||o.b(he.data)?V(he):he.data&&V({data:yield(pe=he.data,typeof createImageBitmap=="function"?o.f(pe):o.h(pe)),cacheControl:he.cacheControl,expires:he.expires})}catch(he){delete O.abortController,$(he)}finally{l--,E()}var pe}),E=()=>{let O=(()=>{for(let k of Object.keys(g))if(g[k]())return!0;return!1})()?o.a.MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:o.a.MAX_PARALLEL_IMAGE_REQUESTS;for(let k=l;k<O&&a.length>0;k++){let j=a.shift();j.abortController.signal.aborted?k--:b(j)}},A=(O,k)=>new Promise((j,$)=>{let V=new Image,Q=O.url,ee=O.credentials;ee&&ee==="include"?V.crossOrigin="use-credentials":(ee&&ee==="same-origin"||!o.d(Q))&&(V.crossOrigin="anonymous"),k.signal.addEventListener("abort",()=>{V.src="",$(o.c())}),V.fetchPriority="high",V.onload=()=>{V.onerror=V.onload=null,j({data:V})},V.onerror=()=>{V.onerror=V.onload=null,k.signal.aborted||$(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))},V.src=Q})}(U||(U={})),U.resetRequestQueue();class Y{constructor(a){this._transformRequestFn=a}transformRequest(a,l){return this._transformRequestFn&&this._transformRequestFn(a,l)||{url:a}}setTransformRequest(a){this._transformRequestFn=a}}function re(_){let a=[];if(typeof _=="string")a.push({id:"default",url:_});else if(_&&_.length>0){let l=[];for(let{id:h,url:g}of _){let b=`${h}${g}`;l.indexOf(b)===-1&&(l.push(b),a.push({id:h,url:g}))}}return a}function de(_,a,l){try{let h=new URL(_);return h.pathname+=`${a}${l}`,h.toString()}catch(h){throw new Error(`Invalid sprite URL "${_}", must be absolute. Modify style specification directly or use TransformStyleFunction to correct the issue dynamically`)}}class ce{constructor(a,l,h,g){this.context=a,this.format=h,this.texture=a.gl.createTexture(),this.update(l,g)}update(a,l,h){let{width:g,height:b}=a,E=!(this.size&&this.size[0]===g&&this.size[1]===b||h),{context:A}=this,{gl:O}=A;if(this.useMipmap=!!(l&&l.useMipmap),O.bindTexture(O.TEXTURE_2D,this.texture),A.pixelStoreUnpackFlipY.set(!1),A.pixelStoreUnpack.set(1),A.pixelStoreUnpackPremultiplyAlpha.set(this.format===O.RGBA&&(!l||l.premultiply!==!1)),E)this.size=[g,b],a instanceof HTMLImageElement||a instanceof HTMLCanvasElement||a instanceof HTMLVideoElement||a instanceof ImageData||o.b(a)?O.texImage2D(O.TEXTURE_2D,0,this.format,this.format,O.UNSIGNED_BYTE,a):O.texImage2D(O.TEXTURE_2D,0,this.format,g,b,0,this.format,O.UNSIGNED_BYTE,a.data);else{let{x:k,y:j}=h||{x:0,y:0};a instanceof HTMLImageElement||a instanceof HTMLCanvasElement||a instanceof HTMLVideoElement||a instanceof ImageData||o.b(a)?O.texSubImage2D(O.TEXTURE_2D,0,k,j,O.RGBA,O.UNSIGNED_BYTE,a):O.texSubImage2D(O.TEXTURE_2D,0,k,j,g,b,O.RGBA,O.UNSIGNED_BYTE,a.data)}this.useMipmap&&this.isSizePowerOfTwo()&&O.generateMipmap(O.TEXTURE_2D),A.pixelStoreUnpackFlipY.setDefault(),A.pixelStoreUnpack.setDefault(),A.pixelStoreUnpackPremultiplyAlpha.setDefault()}bind(a,l,h){let{context:g}=this,{gl:b}=g;b.bindTexture(b.TEXTURE_2D,this.texture),h!==b.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(h=b.LINEAR),a!==this.filter&&(b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,a),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,h||a),this.filter=a),l!==this.wrap&&(b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,l),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,l),this.wrap=l)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){let{gl:a}=this.context;a.deleteTexture(this.texture),this.texture=null}}function Se(_){let{userImage:a}=_;return!!(a&&a.render&&a.render())&&(_.data.replace(new Uint8Array(a.data.buffer)),!0)}class qe extends o.E{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new o.R({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(a){if(this.loaded!==a&&(this.loaded=a,a)){for(let{ids:l,promiseResolve:h}of this.requestors)h(this._getImagesForIds(l));this.requestors=[]}}getImage(a){let l=this.images[a];if(l&&!l.data&&l.spriteData){let h=l.spriteData;l.data=new o.R({width:h.width,height:h.height},h.context.getImageData(h.x,h.y,h.width,h.height).data),l.spriteData=null}return l}addImage(a,l){if(this.images[a])throw new Error(`Image id ${a} already exist, use updateImage instead`);this._validate(a,l)&&(this.images[a]=l)}_validate(a,l){let h=!0,g=l.data||l.spriteData;return this._validateStretch(l.stretchX,g&&g.width)||(this.fire(new o.k(new Error(`Image "${a}" has invalid "stretchX" value`))),h=!1),this._validateStretch(l.stretchY,g&&g.height)||(this.fire(new o.k(new Error(`Image "${a}" has invalid "stretchY" value`))),h=!1),this._validateContent(l.content,l)||(this.fire(new o.k(new Error(`Image "${a}" has invalid "content" value`))),h=!1),h}_validateStretch(a,l){if(!a)return!0;let h=0;for(let g of a){if(g[0]<h||g[1]<g[0]||l<g[1])return!1;h=g[1]}return!0}_validateContent(a,l){if(!a)return!0;if(a.length!==4)return!1;let h=l.spriteData,g=h&&h.width||l.data.width,b=h&&h.height||l.data.height;return!(a[0]<0||g<a[0]||a[1]<0||b<a[1]||a[2]<0||g<a[2]||a[3]<0||b<a[3]||a[2]<a[0]||a[3]<a[1])}updateImage(a,l,h=!0){let g=this.getImage(a);if(h&&(g.data.width!==l.data.width||g.data.height!==l.data.height))throw new Error(`size mismatch between old image (${g.data.width}x${g.data.height}) and new image (${l.data.width}x${l.data.height}).`);l.version=g.version+1,this.images[a]=l,this.updatedImages[a]=!0}removeImage(a){let l=this.images[a];delete this.images[a],delete this.patterns[a],l.userImage&&l.userImage.onRemove&&l.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(a){return new Promise((l,h)=>{let g=!0;if(!this.isLoaded())for(let b of a)this.images[b]||(g=!1);this.isLoaded()||g?l(this._getImagesForIds(a)):this.requestors.push({ids:a,promiseResolve:l})})}_getImagesForIds(a){let l={};for(let h of a){let g=this.getImage(h);g||(this.fire(new o.l("styleimagemissing",{id:h})),g=this.getImage(h)),g?l[h]={data:g.data.clone(),pixelRatio:g.pixelRatio,sdf:g.sdf,version:g.version,stretchX:g.stretchX,stretchY:g.stretchY,content:g.content,textFitWidth:g.textFitWidth,textFitHeight:g.textFitHeight,hasRenderCallback:!!(g.userImage&&g.userImage.render)}:o.w(`Image "${h}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}return l}getPixelSize(){let{width:a,height:l}=this.atlasImage;return{width:a,height:l}}getPattern(a){let l=this.patterns[a],h=this.getImage(a);if(!h)return null;if(l&&l.position.version===h.version)return l.position;if(l)l.position.version=h.version;else{let g={w:h.data.width+2,h:h.data.height+2,x:0,y:0},b=new o.I(g,h);this.patterns[a]={bin:g,position:b}}return this._updatePatternAtlas(),this.patterns[a].position}bind(a){let l=a.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new ce(a,this.atlasImage,l.RGBA),this.atlasTexture.bind(l.LINEAR,l.CLAMP_TO_EDGE)}_updatePatternAtlas(){let a=[];for(let b in this.patterns)a.push(this.patterns[b].bin);let{w:l,h}=o.p(a),g=this.atlasImage;g.resize({width:l||1,height:h||1});for(let b in this.patterns){let{bin:E}=this.patterns[b],A=E.x+1,O=E.y+1,k=this.getImage(b).data,j=k.width,$=k.height;o.R.copy(k,g,{x:0,y:0},{x:A,y:O},{width:j,height:$}),o.R.copy(k,g,{x:0,y:$-1},{x:A,y:O-1},{width:j,height:1}),o.R.copy(k,g,{x:0,y:0},{x:A,y:O+$},{width:j,height:1}),o.R.copy(k,g,{x:j-1,y:0},{x:A-1,y:O},{width:1,height:$}),o.R.copy(k,g,{x:0,y:0},{x:A+j,y:O},{width:1,height:$})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(a){for(let l of a){if(this.callbackDispatchedThisFrame[l])continue;this.callbackDispatchedThisFrame[l]=!0;let h=this.getImage(l);h||o.w(`Image with ID: "${l}" was not found`),Se(h)&&this.updateImage(l,h)}}}let Re=1e20;function Te(_,a,l,h,g,b,E,A,O){for(let k=a;k<a+h;k++)Ee(_,l*b+k,b,g,E,A,O);for(let k=l;k<l+g;k++)Ee(_,k*b+a,1,h,E,A,O)}function Ee(_,a,l,h,g,b,E){b[0]=0,E[0]=-1e20,E[1]=Re,g[0]=_[a];for(let A=1,O=0,k=0;A<h;A++){g[A]=_[a+A*l];let j=A*A;do{let $=b[O];k=(g[A]-g[$]+j-$*$)/(A-$)/2}while(k<=E[O]&&--O>-1);O++,b[O]=A,E[O]=k,E[O+1]=Re}for(let A=0,O=0;A<h;A++){for(;E[O+1]<A;)O++;let k=b[O],j=A-k;_[a+A*l]=g[k]+j*j}}class Ne{constructor(a,l){this.requestManager=a,this.localIdeographFontFamily=l,this.entries={}}setURL(a){this.url=a}getGlyphs(a){return o._(this,void 0,void 0,function*(){let l=[];for(let b in a)for(let E of a[b])l.push(this._getAndCacheGlyphsPromise(b,E));let h=yield Promise.all(l),g={};for(let{stack:b,id:E,glyph:A}of h)g[b]||(g[b]={}),g[b][E]=A&&{id:A.id,bitmap:A.bitmap.clone(),metrics:A.metrics};return g})}_getAndCacheGlyphsPromise(a,l){return o._(this,void 0,void 0,function*(){let h=this.entries[a];h||(h=this.entries[a]={glyphs:{},requests:{},ranges:{}});let g=h.glyphs[l];if(g!==void 0)return{stack:a,id:l,glyph:g};if(g=this._tinySDF(h,a,l),g)return h.glyphs[l]=g,{stack:a,id:l,glyph:g};let b=Math.floor(l/256);if(256*b>65535)throw new Error("glyphs > 65535 not supported");if(h.ranges[b])return{stack:a,id:l,glyph:g};if(!this.url)throw new Error("glyphsUrl is not set");if(!h.requests[b]){let A=Ne.loadGlyphRange(a,b,this.url,this.requestManager);h.requests[b]=A}let E=yield h.requests[b];for(let A in E)this._doesCharSupportLocalGlyph(+A)||(h.glyphs[+A]=E[+A]);return h.ranges[b]=!0,{stack:a,id:l,glyph:E[l]||null}})}_doesCharSupportLocalGlyph(a){return!!this.localIdeographFontFamily&&(new RegExp("\\p{Ideo}|\\p{sc=Hang}|\\p{sc=Hira}|\\p{sc=Kana}","u").test(String.fromCodePoint(a))||o.u["CJK Unified Ideographs"](a)||o.u["Hangul Syllables"](a)||o.u.Hiragana(a)||o.u.Katakana(a)||o.u["CJK Symbols and Punctuation"](a)||o.u["Halfwidth and Fullwidth Forms"](a))}_tinySDF(a,l,h){let g=this.localIdeographFontFamily;if(!g||!this._doesCharSupportLocalGlyph(h))return;let b=a.tinySDF;if(!b){let A="400";/bold/i.test(l)?A="900":/medium/i.test(l)?A="500":/light/i.test(l)&&(A="200"),b=a.tinySDF=new Ne.TinySDF({fontSize:48,buffer:6,radius:16,cutoff:.25,fontFamily:g,fontWeight:A})}let E=b.draw(String.fromCharCode(h));return{id:h,bitmap:new o.q({width:E.width||60,height:E.height||60},E.data),metrics:{width:E.glyphWidth/2||24,height:E.glyphHeight/2||24,left:E.glyphLeft/2+.5||0,top:E.glyphTop/2-27.5||-8,advance:E.glyphAdvance/2||24,isDoubleResolution:!0}}}}Ne.loadGlyphRange=function(_,a,l,h){return o._(this,void 0,void 0,function*(){let g=256*a,b=g+255,E=h.transformRequest(l.replace("{fontstack}",_).replace("{range}",`${g}-${b}`),"Glyphs"),A=yield o.n(E,new AbortController);if(!A||!A.data)throw new Error(`Could not load glyph range. range: ${a}, ${g}-${b}`);let O={};for(let k of o.o(A.data))O[k.id]=k;return O})},Ne.TinySDF=class{constructor({fontSize:_=24,buffer:a=3,radius:l=8,cutoff:h=.25,fontFamily:g="sans-serif",fontWeight:b="normal",fontStyle:E="normal"}={}){this.buffer=a,this.cutoff=h,this.radius=l;let A=this.size=_+4*a,O=this._createCanvas(A),k=this.ctx=O.getContext("2d",{willReadFrequently:!0});k.font=`${E} ${b} ${_}px ${g}`,k.textBaseline="alphabetic",k.textAlign="left",k.fillStyle="black",this.gridOuter=new Float64Array(A*A),this.gridInner=new Float64Array(A*A),this.f=new Float64Array(A),this.z=new Float64Array(A+1),this.v=new Uint16Array(A)}_createCanvas(_){let a=document.createElement("canvas");return a.width=a.height=_,a}draw(_){let{width:a,actualBoundingBoxAscent:l,actualBoundingBoxDescent:h,actualBoundingBoxLeft:g,actualBoundingBoxRight:b}=this.ctx.measureText(_),E=Math.ceil(l),A=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(b-g))),O=Math.min(this.size-this.buffer,E+Math.ceil(h)),k=A+2*this.buffer,j=O+2*this.buffer,$=Math.max(k*j,0),V=new Uint8ClampedArray($),Q={data:V,width:k,height:j,glyphWidth:A,glyphHeight:O,glyphTop:E,glyphLeft:0,glyphAdvance:a};if(A===0||O===0)return Q;let{ctx:ee,buffer:fe,gridInner:pe,gridOuter:he}=this;ee.clearRect(fe,fe,A,O),ee.fillText(_,fe,fe+E);let ve=ee.getImageData(fe,fe,A,O);he.fill(Re,0,$),pe.fill(0,0,$);for(let we=0;we<O;we++)for(let xe=0;xe<A;xe++){let Ce=ve.data[4*(we*A+xe)+3]/255;if(Ce===0)continue;let ke=(we+fe)*k+xe+fe;if(Ce===1)he[ke]=0,pe[ke]=Re;else{let Oe=.5-Ce;he[ke]=Oe>0?Oe*Oe:0,pe[ke]=Oe<0?Oe*Oe:0}}Te(he,0,0,k,j,k,this.f,this.v,this.z),Te(pe,fe,fe,A,O,k,this.f,this.v,this.z);for(let we=0;we<$;we++){let xe=Math.sqrt(he[we])-Math.sqrt(pe[we]);V[we]=Math.round(255-255*(xe/this.radius+this.cutoff))}return Q}};class _e{constructor(){this.specification=o.v.light.position}possiblyEvaluate(a,l){return o.z(a.expression.evaluate(l))}interpolate(a,l,h){return{x:o.B.number(a.x,l.x,h),y:o.B.number(a.y,l.y,h),z:o.B.number(a.z,l.z,h)}}}let ze;class st extends o.E{constructor(a){super(),ze=ze||new o.r({anchor:new o.D(o.v.light.anchor),position:new _e,color:new o.D(o.v.light.color),intensity:new o.D(o.v.light.intensity)}),this._transitionable=new o.T(ze),this.setLight(a),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(a,l={}){if(!this._validate(o.t,a,l))for(let h in a){let g=a[h];h.endsWith("-transition")?this._transitionable.setTransition(h.slice(0,-11),g):this._transitionable.setValue(h,g)}}updateTransitions(a){this._transitioning=this._transitionable.transitioned(a,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(a){this.properties=this._transitioning.possiblyEvaluate(a)}_validate(a,l,h){return(!h||h.validate!==!1)&&o.x(this,a.call(o.y,{value:l,style:{glyphs:!0,sprite:!0},styleSpec:o.v}))}}let at=new o.r({"sky-color":new o.D(o.v.sky["sky-color"]),"horizon-color":new o.D(o.v.sky["horizon-color"]),"fog-color":new o.D(o.v.sky["fog-color"]),"fog-ground-blend":new o.D(o.v.sky["fog-ground-blend"]),"horizon-fog-blend":new o.D(o.v.sky["horizon-fog-blend"]),"sky-horizon-blend":new o.D(o.v.sky["sky-horizon-blend"]),"atmosphere-blend":new o.D(o.v.sky["atmosphere-blend"])});class At extends o.E{constructor(a){super(),this._transitionable=new o.T(at),this.setSky(a),this._transitioning=this._transitionable.untransitioned(),this.recalculate(new o.C(0))}setSky(a,l={}){if(!this._validate(o.F,a,l)){a||(a={"sky-color":"transparent","horizon-color":"transparent","fog-color":"transparent","fog-ground-blend":1,"atmosphere-blend":0});for(let h in a){let g=a[h];h.endsWith("-transition")?this._transitionable.setTransition(h.slice(0,-11),g):this._transitionable.setValue(h,g)}}}getSky(){return this._transitionable.serialize()}updateTransitions(a){this._transitioning=this._transitionable.transitioned(a,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(a){this.properties=this._transitioning.possiblyEvaluate(a)}_validate(a,l,h={}){return(h==null?void 0:h.validate)!==!1&&o.x(this,a.call(o.y,o.e({value:l,style:{glyphs:!0,sprite:!0},styleSpec:o.v})))}calculateFogBlendOpacity(a){return a<60?0:a<70?(a-60)/10:1}}class Qe{constructor(a,l){this.width=a,this.height=l,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}}getDash(a,l){let h=a.join(",")+String(l);return this.dashEntry[h]||(this.dashEntry[h]=this.addDash(a,l)),this.dashEntry[h]}getDashRanges(a,l,h){let g=[],b=a.length%2==1?-a[a.length-1]*h:0,E=a[0]*h,A=!0;g.push({left:b,right:E,isDash:A,zeroLength:a[0]===0});let O=a[0];for(let k=1;k<a.length;k++){A=!A;let j=a[k];b=O*h,O+=j,E=O*h,g.push({left:b,right:E,isDash:A,zeroLength:j===0})}return g}addRoundDash(a,l,h){let g=l/2;for(let b=-h;b<=h;b++){let E=this.width*(this.nextRow+h+b),A=0,O=a[A];for(let k=0;k<this.width;k++){k/O.right>1&&(O=a[++A]);let j=Math.abs(k-O.left),$=Math.abs(k-O.right),V=Math.min(j,$),Q,ee=b/h*(g+1);if(O.isDash){let fe=g-Math.abs(ee);Q=Math.sqrt(V*V+fe*fe)}else Q=g-Math.sqrt(V*V+ee*ee);this.data[E+k]=Math.max(0,Math.min(255,Q+128))}}}addRegularDash(a){for(let A=a.length-1;A>=0;--A){let O=a[A],k=a[A+1];O.zeroLength?a.splice(A,1):k&&k.isDash===O.isDash&&(k.left=O.left,a.splice(A,1))}let l=a[0],h=a[a.length-1];l.isDash===h.isDash&&(l.left=h.left-this.width,h.right=l.right+this.width);let g=this.width*this.nextRow,b=0,E=a[b];for(let A=0;A<this.width;A++){A/E.right>1&&(E=a[++b]);let O=Math.abs(A-E.left),k=Math.abs(A-E.right),j=Math.min(O,k);this.data[g+A]=Math.max(0,Math.min(255,(E.isDash?j:-j)+128))}}addDash(a,l){let h=l?7:0,g=2*h+1;if(this.nextRow+g>this.height)return o.w("LineAtlas out of space"),null;let b=0;for(let A=0;A<a.length;A++)b+=a[A];if(b!==0){let A=this.width/b,O=this.getDashRanges(a,this.width,A);l?this.addRoundDash(O,A,h):this.addRegularDash(O)}let E={y:(this.nextRow+h+.5)/this.height,height:2*h/this.height,width:b};return this.nextRow+=g,this.dirty=!0,E}bind(a){let l=a.gl;this.texture?(l.bindTexture(l.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,l.texSubImage2D(l.TEXTURE_2D,0,0,0,this.width,this.height,l.ALPHA,l.UNSIGNED_BYTE,this.data))):(this.texture=l.createTexture(),l.bindTexture(l.TEXTURE_2D,this.texture),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_S,l.REPEAT),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_T,l.REPEAT),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MIN_FILTER,l.LINEAR),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MAG_FILTER,l.LINEAR),l.texImage2D(l.TEXTURE_2D,0,l.ALPHA,this.width,this.height,0,l.ALPHA,l.UNSIGNED_BYTE,this.data))}}let Dt="maplibre_preloaded_worker_pool";class Ut{constructor(){this.active={}}acquire(a){if(!this.workers)for(this.workers=[];this.workers.length<Ut.workerCount;)this.workers.push(new Worker(o.a.WORKER_URL));return this.active[a]=!0,this.workers.slice()}release(a){delete this.active[a],this.numActive()===0&&(this.workers.forEach(l=>{l.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[Dt]}numActive(){return Object.keys(this.active).length}}let Zt=Math.floor(w.hardwareConcurrency/2),Xe,lt;function yt(){return Xe||(Xe=new Ut),Xe}Ut.workerCount=o.G(globalThis)?Math.max(Math.min(Zt,3),1):1;class Fe{constructor(a,l){this.workerPool=a,this.actors=[],this.currentActor=0,this.id=l;let h=this.workerPool.acquire(l);for(let g=0;g<h.length;g++){let b=new o.H(h[g],l);b.name=`Worker ${g}`,this.actors.push(b)}if(!this.actors.length)throw new Error("No actors found")}broadcast(a,l){let h=[];for(let g of this.actors)h.push(g.sendAsync({type:a,data:l}));return Promise.all(h)}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(a=!0){this.actors.forEach(l=>{l.remove()}),this.actors=[],a&&this.workerPool.release(this.id)}registerMessageHandler(a,l){for(let h of this.actors)h.registerMessageHandler(a,l)}}function Me(){return lt||(lt=new Fe(yt(),o.J),lt.registerMessageHandler("GR",(_,a,l)=>o.m(a,l))),lt}function Ue(_,a){let l=o.K();return o.L(l,l,[1,1,0]),o.M(l,l,[.5*_.width,.5*_.height,1]),_.calculatePosMatrix?o.N(l,l,_.calculatePosMatrix(a.toUnwrapped())):l}function je(_,a,l,h,g,b,E){var A;let O=function(V,Q,ee){if(V)for(let fe of V){let pe=Q[fe];if(pe&&pe.source===ee&&pe.type==="fill-extrusion")return!0}else for(let fe in Q){let pe=Q[fe];if(pe.source===ee&&pe.type==="fill-extrusion")return!0}return!1}((A=g==null?void 0:g.layers)!==null&&A!==void 0?A:null,a,_.id),k=b.maxPitchScaleFactor(),j=_.tilesIn(h,k,O);j.sort(tt);let $=[];for(let V of j)$.push({wrappedTileID:V.tileID.wrapped().key,queryResults:V.tile.queryRenderedFeatures(a,l,_._state,V.queryGeometry,V.cameraQueryGeometry,V.scale,g,b,k,Ue(_.transform,V.tileID),E?(Q,ee)=>E(V.tileID,Q,ee):void 0)});return function(V,Q){for(let ee in V)for(let fe of V[ee])it(fe,Q);return V}(function(V){let Q={},ee={};for(let fe of V){let pe=fe.queryResults,he=fe.wrappedTileID,ve=ee[he]=ee[he]||{};for(let we in pe){let xe=pe[we],Ce=ve[we]=ve[we]||{},ke=Q[we]=Q[we]||[];for(let Oe of xe)Ce[Oe.featureIndex]||(Ce[Oe.featureIndex]=!0,ke.push(Oe))}}return Q}($),_)}function tt(_,a){let l=_.tileID,h=a.tileID;return l.overscaledZ-h.overscaledZ||l.canonical.y-h.canonical.y||l.wrap-h.wrap||l.canonical.x-h.canonical.x}function it(_,a){let l=_.feature,h=a.getFeatureState(l.layer["source-layer"],l.id);l.source=l.layer.source,l.layer["source-layer"]&&(l.sourceLayer=l.layer["source-layer"]),l.state=h}function St(_,a,l){return o._(this,void 0,void 0,function*(){let h=_;if(_.url?h=(yield o.j(a.transformRequest(_.url,"Source"),l)).data:yield w.frameAsync(l),!h)return null;let g=o.O(o.e(h,_),["tiles","minzoom","maxzoom","attribution","bounds","scheme","tileSize","encoding"]);return"vector_layers"in h&&h.vector_layers&&(g.vectorLayerIds=h.vector_layers.map(b=>b.id)),g})}class vt{constructor(a,l){a&&(l?this.setSouthWest(a).setNorthEast(l):Array.isArray(a)&&(a.length===4?this.setSouthWest([a[0],a[1]]).setNorthEast([a[2],a[3]]):this.setSouthWest(a[0]).setNorthEast(a[1])))}setNorthEast(a){return this._ne=a instanceof o.Q?new o.Q(a.lng,a.lat):o.Q.convert(a),this}setSouthWest(a){return this._sw=a instanceof o.Q?new o.Q(a.lng,a.lat):o.Q.convert(a),this}extend(a){let l=this._sw,h=this._ne,g,b;if(a instanceof o.Q)g=a,b=a;else{if(!(a instanceof vt))return Array.isArray(a)?a.length===4||a.every(Array.isArray)?this.extend(vt.convert(a)):this.extend(o.Q.convert(a)):a&&("lng"in a||"lon"in a)&&"lat"in a?this.extend(o.Q.convert(a)):this;if(g=a._sw,b=a._ne,!g||!b)return this}return l||h?(l.lng=Math.min(g.lng,l.lng),l.lat=Math.min(g.lat,l.lat),h.lng=Math.max(b.lng,h.lng),h.lat=Math.max(b.lat,h.lat)):(this._sw=new o.Q(g.lng,g.lat),this._ne=new o.Q(b.lng,b.lat)),this}getCenter(){return new o.Q((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new o.Q(this.getWest(),this.getNorth())}getSouthEast(){return new o.Q(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(a){let{lng:l,lat:h}=o.Q.convert(a),g=this._sw.lng<=l&&l<=this._ne.lng;return this._sw.lng>this._ne.lng&&(g=this._sw.lng>=l&&l>=this._ne.lng),this._sw.lat<=h&&h<=this._ne.lat&&g}static convert(a){return a instanceof vt?a:a&&new vt(a)}static fromLngLat(a,l=0){let h=360*l/40075017,g=h/Math.cos(Math.PI/180*a.lat);return new vt(new o.Q(a.lng-g,a.lat-h),new o.Q(a.lng+g,a.lat+h))}adjustAntiMeridian(){let a=new o.Q(this._sw.lng,this._sw.lat),l=new o.Q(this._ne.lng,this._ne.lat);return new vt(a,a.lng>l.lng?new o.Q(l.lng+360,l.lat):l)}}class Nt{constructor(a,l,h){this.bounds=vt.convert(this.validateBounds(a)),this.minzoom=l||0,this.maxzoom=h||24}validateBounds(a){return Array.isArray(a)&&a.length===4?[Math.max(-180,a[0]),Math.max(-90,a[1]),Math.min(180,a[2]),Math.min(90,a[3])]:[-180,-90,180,90]}contains(a){let l=Math.pow(2,a.z),h=Math.floor(o.U(this.bounds.getWest())*l),g=Math.floor(o.S(this.bounds.getNorth())*l),b=Math.ceil(o.U(this.bounds.getEast())*l),E=Math.ceil(o.S(this.bounds.getSouth())*l);return a.x>=h&&a.x<b&&a.y>=g&&a.y<E}}class Yt extends o.E{constructor(a,l,h,g){if(super(),this.id=a,this.dispatcher=h,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,o.e(this,o.O(l,["url","scheme","tileSize","promoteId"])),this._options=o.e({type:"vector"},l),this._collectResourceTiming=l.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(g)}load(){return o._(this,void 0,void 0,function*(){this._loaded=!1,this.fire(new o.l("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{let a=yield St(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,this.map.style.sourceCaches[this.id].clearTiles(),a&&(o.e(this,a),a.bounds&&(this.tileBounds=new Nt(a.bounds,this.minzoom,this.maxzoom)),this.fire(new o.l("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new o.l("data",{dataType:"source",sourceDataType:"content"})))}catch(a){this._tileJSONRequest=null,this.fire(new o.k(a))}})}loaded(){return this._loaded}hasTile(a){return!this.tileBounds||this.tileBounds.contains(a.canonical)}onAdd(a){this.map=a,this.load()}setSourceProperty(a){this._tileJSONRequest&&this._tileJSONRequest.abort(),a(),this.load()}setTiles(a){return this.setSourceProperty(()=>{this._options.tiles=a}),this}setUrl(a){return this.setSourceProperty(()=>{this.url=a,this._options.url=a}),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null)}serialize(){return o.e({},this._options)}loadTile(a){return o._(this,void 0,void 0,function*(){let l=a.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),h={request:this.map._requestManager.transformRequest(l,"Tile"),uid:a.uid,tileID:a.tileID,zoom:a.tileID.overscaledZ,tileSize:this.tileSize*a.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,subdivisionGranularity:this.map.style.projection.subdivisionGranularity};h.request.collectResourceTiming=this._collectResourceTiming;let g="RT";if(a.actor&&a.state!=="expired"){if(a.state==="loading")return new Promise((b,E)=>{a.reloadPromise={resolve:b,reject:E}})}else a.actor=this.dispatcher.getActor(),g="LT";a.abortController=new AbortController;try{let b=yield a.actor.sendAsync({type:g,data:h},a.abortController);if(delete a.abortController,a.aborted)return;this._afterTileLoadWorkerResponse(a,b)}catch(b){if(delete a.abortController,a.aborted)return;if(b&&b.status!==404)throw b;this._afterTileLoadWorkerResponse(a,null)}})}_afterTileLoadWorkerResponse(a,l){if(l&&l.resourceTiming&&(a.resourceTiming=l.resourceTiming),l&&this.map._refreshExpiredTiles&&a.setExpiryData(l),a.loadVectorData(l,this.map.painter),a.reloadPromise){let h=a.reloadPromise;a.reloadPromise=null,this.loadTile(a).then(h.resolve).catch(h.reject)}}abortTile(a){return o._(this,void 0,void 0,function*(){a.abortController&&(a.abortController.abort(),delete a.abortController),a.actor&&(yield a.actor.sendAsync({type:"AT",data:{uid:a.uid,type:this.type,source:this.id}}))})}unloadTile(a){return o._(this,void 0,void 0,function*(){a.unloadVectorData(),a.actor&&(yield a.actor.sendAsync({type:"RMT",data:{uid:a.uid,type:this.type,source:this.id}}))})}hasTransition(){return!1}}class It extends o.E{constructor(a,l,h,g){super(),this.id=a,this.dispatcher=h,this.setEventedParent(g),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=o.e({type:"raster"},l),o.e(this,o.O(l,["url","scheme","tileSize"]))}load(){return o._(this,arguments,void 0,function*(a=!1){this._loaded=!1,this.fire(new o.l("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{let l=yield St(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,l&&(o.e(this,l),l.bounds&&(this.tileBounds=new Nt(l.bounds,this.minzoom,this.maxzoom)),this.fire(new o.l("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new o.l("data",{dataType:"source",sourceDataType:"content",sourceDataChanged:a})))}catch(l){this._tileJSONRequest=null,this.fire(new o.k(l))}})}loaded(){return this._loaded}onAdd(a){this.map=a,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null)}setSourceProperty(a){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null),a(),this.load(!0)}setTiles(a){return this.setSourceProperty(()=>{this._options.tiles=a}),this}setUrl(a){return this.setSourceProperty(()=>{this.url=a,this._options.url=a}),this}serialize(){return o.e({},this._options)}hasTile(a){return!this.tileBounds||this.tileBounds.contains(a.canonical)}loadTile(a){return o._(this,void 0,void 0,function*(){let l=a.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);a.abortController=new AbortController;try{let h=yield U.getImage(this.map._requestManager.transformRequest(l,"Tile"),a.abortController,this.map._refreshExpiredTiles);if(delete a.abortController,a.aborted)return void(a.state="unloaded");if(h&&h.data){this.map._refreshExpiredTiles&&(h.cacheControl||h.expires)&&a.setExpiryData({cacheControl:h.cacheControl,expires:h.expires});let g=this.map.painter.context,b=g.gl,E=h.data;a.texture=this.map.painter.getTileTexture(E.width),a.texture?a.texture.update(E,{useMipmap:!0}):(a.texture=new ce(g,E,b.RGBA,{useMipmap:!0}),a.texture.bind(b.LINEAR,b.CLAMP_TO_EDGE,b.LINEAR_MIPMAP_NEAREST)),a.state="loaded"}}catch(h){if(delete a.abortController,a.aborted)a.state="unloaded";else if(h)throw a.state="errored",h}})}abortTile(a){return o._(this,void 0,void 0,function*(){a.abortController&&(a.abortController.abort(),delete a.abortController)})}unloadTile(a){return o._(this,void 0,void 0,function*(){a.texture&&this.map.painter.saveTileTexture(a.texture)})}hasTransition(){return!1}}class Vt extends It{constructor(a,l,h,g){super(a,l,h,g),this.type="raster-dem",this.maxzoom=22,this._options=o.e({type:"raster-dem"},l),this.encoding=l.encoding||"mapbox",this.redFactor=l.redFactor,this.greenFactor=l.greenFactor,this.blueFactor=l.blueFactor,this.baseShift=l.baseShift}loadTile(a){return o._(this,void 0,void 0,function*(){let l=a.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),h=this.map._requestManager.transformRequest(l,"Tile");a.neighboringTiles=this._getNeighboringTiles(a.tileID),a.abortController=new AbortController;try{let g=yield U.getImage(h,a.abortController,this.map._refreshExpiredTiles);if(delete a.abortController,a.aborted)return void(a.state="unloaded");if(g&&g.data){let b=g.data;this.map._refreshExpiredTiles&&(g.cacheControl||g.expires)&&a.setExpiryData({cacheControl:g.cacheControl,expires:g.expires});let E=o.b(b)&&o.V()?b:yield this.readImageNow(b),A={type:this.type,uid:a.uid,source:this.id,rawImageData:E,encoding:this.encoding,redFactor:this.redFactor,greenFactor:this.greenFactor,blueFactor:this.blueFactor,baseShift:this.baseShift};if(!a.actor||a.state==="expired"){a.actor=this.dispatcher.getActor();let O=yield a.actor.sendAsync({type:"LDT",data:A});a.dem=O,a.needsHillshadePrepare=!0,a.needsTerrainPrepare=!0,a.state="loaded"}}}catch(g){if(delete a.abortController,a.aborted)a.state="unloaded";else if(g)throw a.state="errored",g}})}readImageNow(a){return o._(this,void 0,void 0,function*(){if(typeof VideoFrame!="undefined"&&o.W()){let l=a.width+2,h=a.height+2;try{return new o.R({width:l,height:h},yield o.X(a,-1,-1,l,h))}catch(g){}}return w.getImageData(a,1)})}_getNeighboringTiles(a){let l=a.canonical,h=Math.pow(2,l.z),g=(l.x-1+h)%h,b=l.x===0?a.wrap-1:a.wrap,E=(l.x+1+h)%h,A=l.x+1===h?a.wrap+1:a.wrap,O={};return O[new o.Y(a.overscaledZ,b,l.z,g,l.y).key]={backfilled:!1},O[new o.Y(a.overscaledZ,A,l.z,E,l.y).key]={backfilled:!1},l.y>0&&(O[new o.Y(a.overscaledZ,b,l.z,g,l.y-1).key]={backfilled:!1},O[new o.Y(a.overscaledZ,a.wrap,l.z,l.x,l.y-1).key]={backfilled:!1},O[new o.Y(a.overscaledZ,A,l.z,E,l.y-1).key]={backfilled:!1}),l.y+1<h&&(O[new o.Y(a.overscaledZ,b,l.z,g,l.y+1).key]={backfilled:!1},O[new o.Y(a.overscaledZ,a.wrap,l.z,l.x,l.y+1).key]={backfilled:!1},O[new o.Y(a.overscaledZ,A,l.z,E,l.y+1).key]={backfilled:!1}),O}unloadTile(a){return o._(this,void 0,void 0,function*(){a.demTexture&&this.map.painter.saveTileTexture(a.demTexture),a.fbo&&(a.fbo.destroy(),delete a.fbo),a.dem&&delete a.dem,delete a.neighboringTiles,a.state="unloaded",a.actor&&(yield a.actor.sendAsync({type:"RDT",data:{type:this.type,uid:a.uid,source:this.id}}))})}}class Jt extends o.E{constructor(a,l,h,g){super(),this.id=a,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._pendingLoads=0,this.actor=h.getActor(),this.setEventedParent(g),this._data=l.data,this._options=o.e({},l),this._collectResourceTiming=l.collectResourceTiming,l.maxzoom!==void 0&&(this.maxzoom=l.maxzoom),l.type&&(this.type=l.type),l.attribution&&(this.attribution=l.attribution),this.promoteId=l.promoteId,l.clusterMaxZoom!==void 0&&this.maxzoom<=l.clusterMaxZoom&&o.w(`The maxzoom value "${this.maxzoom}" is expected to be greater than the clusterMaxZoom value "${l.clusterMaxZoom}".`),this.workerOptions=o.e({source:this.id,cluster:l.cluster||!1,geojsonVtOptions:{buffer:this._pixelsToTileUnits(l.buffer!==void 0?l.buffer:128),tolerance:this._pixelsToTileUnits(l.tolerance!==void 0?l.tolerance:.375),extent:o.Z,maxZoom:this.maxzoom,lineMetrics:l.lineMetrics||!1,generateId:l.generateId||!1},superclusterOptions:{maxZoom:l.clusterMaxZoom!==void 0?l.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,l.clusterMinPoints||2),extent:o.Z,radius:this._pixelsToTileUnits(l.clusterRadius||50),log:!1,generateId:l.generateId||!1},clusterProperties:l.clusterProperties,filter:l.filter},l.workerOptions),typeof this.promoteId=="string"&&(this.workerOptions.promoteId=this.promoteId)}_pixelsToTileUnits(a){return a*(o.Z/this.tileSize)}load(){return o._(this,void 0,void 0,function*(){yield this._updateWorkerData()})}onAdd(a){this.map=a,this.load()}setData(a){return this._data=a,this._updateWorkerData(),this}updateData(a){return this._updateWorkerData(a),this}getData(){return o._(this,void 0,void 0,function*(){let a=o.e({type:this.type},this.workerOptions);return this.actor.sendAsync({type:"GD",data:a})})}getCoordinatesFromGeometry(a){return a.type==="GeometryCollection"?a.geometries.map(l=>l.coordinates).flat(1/0):a.coordinates.flat(1/0)}getBounds(){return o._(this,void 0,void 0,function*(){let a=new vt,l=yield this.getData(),h;switch(l.type){case"FeatureCollection":h=l.features.map(g=>this.getCoordinatesFromGeometry(g.geometry)).flat(1/0);break;case"Feature":h=this.getCoordinatesFromGeometry(l.geometry);break;default:h=this.getCoordinatesFromGeometry(l)}if(h.length==0)return a;for(let g=0;g<h.length-1;g+=2)a.extend([h[g],h[g+1]]);return a})}setClusterOptions(a){return this.workerOptions.cluster=a.cluster,a&&(a.clusterRadius!==void 0&&(this.workerOptions.superclusterOptions.radius=this._pixelsToTileUnits(a.clusterRadius)),a.clusterMaxZoom!==void 0&&(this.workerOptions.superclusterOptions.maxZoom=a.clusterMaxZoom)),this._updateWorkerData(),this}getClusterExpansionZoom(a){return this.actor.sendAsync({type:"GCEZ",data:{type:this.type,clusterId:a,source:this.id}})}getClusterChildren(a){return this.actor.sendAsync({type:"GCC",data:{type:this.type,clusterId:a,source:this.id}})}getClusterLeaves(a,l,h){return this.actor.sendAsync({type:"GCL",data:{type:this.type,source:this.id,clusterId:a,limit:l,offset:h}})}_updateWorkerData(a){return o._(this,void 0,void 0,function*(){let l=o.e({type:this.type},this.workerOptions);a?l.dataDiff=a:typeof this._data=="string"?(l.request=this.map._requestManager.transformRequest(w.resolveURL(this._data),"Source"),l.request.collectResourceTiming=this._collectResourceTiming):l.data=JSON.stringify(this._data),this._pendingLoads++,this.fire(new o.l("dataloading",{dataType:"source"}));try{let h=yield this.actor.sendAsync({type:"LD",data:l});if(this._pendingLoads--,this._removed||h.abandoned)return void this.fire(new o.l("dataabort",{dataType:"source"}));let g=null;h.resourceTiming&&h.resourceTiming[this.id]&&(g=h.resourceTiming[this.id].slice(0));let b={dataType:"source"};this._collectResourceTiming&&g&&g.length>0&&o.e(b,{resourceTiming:g}),this.fire(new o.l("data",Object.assign(Object.assign({},b),{sourceDataType:"metadata"}))),this.fire(new o.l("data",Object.assign(Object.assign({},b),{sourceDataType:"content"})))}catch(h){if(this._pendingLoads--,this._removed)return void this.fire(new o.l("dataabort",{dataType:"source"}));this.fire(new o.k(h))}})}loaded(){return this._pendingLoads===0}loadTile(a){return o._(this,void 0,void 0,function*(){let l=a.actor?"RT":"LT";a.actor=this.actor;let h={type:this.type,uid:a.uid,tileID:a.tileID,zoom:a.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,subdivisionGranularity:this.map.style.projection.subdivisionGranularity};a.abortController=new AbortController;let g=yield this.actor.sendAsync({type:l,data:h},a.abortController);delete a.abortController,a.unloadVectorData(),a.aborted||a.loadVectorData(g,this.map.painter,l==="RT")})}abortTile(a){return o._(this,void 0,void 0,function*(){a.abortController&&(a.abortController.abort(),delete a.abortController),a.aborted=!0})}unloadTile(a){return o._(this,void 0,void 0,function*(){a.unloadVectorData(),yield this.actor.sendAsync({type:"RMT",data:{uid:a.uid,type:this.type,source:this.id}})})}onRemove(){this._removed=!0,this.actor.sendAsync({type:"RS",data:{type:this.type,source:this.id}})}serialize(){return o.e({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}}class lr extends o.E{constructor(a,l,h,g){super(),this.flippedWindingOrder=!1,this.id=a,this.dispatcher=h,this.coordinates=l.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(g),this.options=l}load(a){return o._(this,void 0,void 0,function*(){this._loaded=!1,this.fire(new o.l("dataloading",{dataType:"source"})),this.url=this.options.url,this._request=new AbortController;try{let l=yield U.getImage(this.map._requestManager.transformRequest(this.url,"Image"),this._request);this._request=null,this._loaded=!0,l&&l.data&&(this.image=l.data,a&&(this.coordinates=a),this._finishLoading())}catch(l){this._request=null,this._loaded=!0,this.fire(new o.k(l))}})}loaded(){return this._loaded}updateImage(a){return a.url?(this._request&&(this._request.abort(),this._request=null),this.options.url=a.url,this.load(a.coordinates).finally(()=>{this.texture=null}),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new o.l("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(a){this.map=a,this.load()}onRemove(){this._request&&(this._request.abort(),this._request=null)}setCoordinates(a){this.coordinates=a;let l=a.map(o.$.fromLngLat);var h;return this.tileID=function(g){let b=1/0,E=1/0,A=-1/0,O=-1/0;for(let V of g)b=Math.min(b,V.x),E=Math.min(E,V.y),A=Math.max(A,V.x),O=Math.max(O,V.y);let k=Math.max(A-b,O-E),j=Math.max(0,Math.floor(-Math.log(k)/Math.LN2)),$=Math.pow(2,j);return new o.a1(j,Math.floor((b+A)/2*$),Math.floor((E+O)/2*$))}(l),this.terrainTileRanges=this._getOverlappingTileRanges(l),this.minzoom=this.maxzoom=this.tileID.z,this.tileCoords=l.map(g=>this.tileID.getTilePoint(g)._round()),this.flippedWindingOrder=((h=this.tileCoords)[1].x-h[0].x)*(h[2].y-h[0].y)-(h[1].y-h[0].y)*(h[2].x-h[0].x)<0,this.fire(new o.l("data",{dataType:"source",sourceDataType:"content"})),this}prepare(){if(Object.keys(this.tiles).length===0||!this.image)return;let a=this.map.painter.context,l=a.gl;this.texture||(this.texture=new ce(a,this.image,l.RGBA),this.texture.bind(l.LINEAR,l.CLAMP_TO_EDGE));let h=!1;for(let g in this.tiles){let b=this.tiles[g];b.state!=="loaded"&&(b.state="loaded",b.texture=this.texture,h=!0)}h&&this.fire(new o.l("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}loadTile(a){return o._(this,void 0,void 0,function*(){this.tileID&&this.tileID.equals(a.tileID.canonical)?(this.tiles[String(a.tileID.wrap)]=a,a.buckets={}):a.state="errored"})}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}_getOverlappingTileRanges(a){let l=1/0,h=1/0,g=-1/0,b=-1/0;for(let A of a)l=Math.min(l,A.x),h=Math.min(h,A.y),g=Math.max(g,A.x),b=Math.max(b,A.y);let E={};for(let A=0;A<=o.a0;A++){let O=Math.pow(2,A),k=Math.floor(l*O),j=Math.floor(h*O),$=Math.floor(g*O),V=Math.floor(b*O);E[A]={minTileX:k,minTileY:j,maxTileX:$,maxTileY:V}}return E}}class Tr extends lr{constructor(a,l,h,g){super(a,l,h,g),this.roundZoom=!0,this.type="video",this.options=l}load(){return o._(this,void 0,void 0,function*(){this._loaded=!1;let a=this.options;this.urls=[];for(let l of a.urls)this.urls.push(this.map._requestManager.transformRequest(l,"Source").url);try{let l=yield o.a2(this.urls);if(this._loaded=!0,!l)return;this.video=l,this.video.loop=!0,this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading()}catch(l){this.fire(new o.k(l))}})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(a){if(this.video){let l=this.video.seekable;a<l.start(0)||a>l.end(0)?this.fire(new o.k(new o.a3(`sources.${this.id}`,null,`Playback for this video can be set only between the ${l.start(0)} and ${l.end(0)}-second mark.`))):this.video.currentTime=a}}getVideo(){return this.video}onAdd(a){this.map||(this.map=a,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;let a=this.map.painter.context,l=a.gl;this.texture?this.video.paused||(this.texture.bind(l.LINEAR,l.CLAMP_TO_EDGE),l.texSubImage2D(l.TEXTURE_2D,0,0,0,l.RGBA,l.UNSIGNED_BYTE,this.video)):(this.texture=new ce(a,this.video,l.RGBA),this.texture.bind(l.LINEAR,l.CLAMP_TO_EDGE));let h=!1;for(let g in this.tiles){let b=this.tiles[g];b.state!=="loaded"&&(b.state="loaded",b.texture=this.texture,h=!0)}h&&this.fire(new o.l("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}}class ur extends lr{constructor(a,l,h,g){super(a,l,h,g),l.coordinates?Array.isArray(l.coordinates)&&l.coordinates.length===4&&!l.coordinates.some(b=>!Array.isArray(b)||b.length!==2||b.some(E=>typeof E!="number"))||this.fire(new o.k(new o.a3(`sources.${a}`,null,"\"coordinates\" property must be an array of 4 longitude/latitude array pairs"))):this.fire(new o.k(new o.a3(`sources.${a}`,null,"missing required property \"coordinates\""))),l.animate&&typeof l.animate!="boolean"&&this.fire(new o.k(new o.a3(`sources.${a}`,null,"optional \"animate\" property must be a boolean value"))),l.canvas?typeof l.canvas=="string"||l.canvas instanceof HTMLCanvasElement||this.fire(new o.k(new o.a3(`sources.${a}`,null,"\"canvas\" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance"))):this.fire(new o.k(new o.a3(`sources.${a}`,null,"missing required property \"canvas\""))),this.options=l,this.animate=l.animate===void 0||l.animate}load(){return o._(this,void 0,void 0,function*(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new o.k(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())})}getCanvas(){return this.canvas}onAdd(a){this.map=a,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let a=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,a=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,a=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;let l=this.map.painter.context,h=l.gl;this.texture?(a||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new ce(l,this.canvas,h.RGBA,{premultiply:!0});let g=!1;for(let b in this.tiles){let E=this.tiles[b];E.state!=="loaded"&&(E.state="loaded",E.texture=this.texture,g=!0)}g&&this.fire(new o.l("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(let a of[this.canvas.width,this.canvas.height])if(isNaN(a)||a<=0)return!0;return!1}}let wr={},Mr=_=>{switch(_){case"geojson":return Jt;case"image":return lr;case"raster":return It;case"raster-dem":return Vt;case"vector":return Yt;case"video":return Tr;case"canvas":return ur}return wr[_]},Jr="RTLPluginLoaded";class rr extends o.E{constructor(){super(...arguments),this.status="unavailable",this.url=null,this.dispatcher=Me()}_syncState(a){return this.status=a,this.dispatcher.broadcast("SRPS",{pluginStatus:a,pluginURL:this.url}).catch(l=>{throw this.status="error",l})}getRTLTextPluginStatus(){return this.status}clearRTLTextPlugin(){this.status="unavailable",this.url=null}setRTLTextPlugin(a){return o._(this,arguments,void 0,function*(l,h=!1){if(this.url)throw new Error("setRTLTextPlugin cannot be called multiple times.");if(this.url=w.resolveURL(l),!this.url)throw new Error(`requested url ${l} is invalid`);if(this.status==="unavailable"){if(!h)return this._requestImport();this.status="deferred",this._syncState(this.status)}else if(this.status==="requested")return this._requestImport()})}_requestImport(){return o._(this,void 0,void 0,function*(){yield this._syncState("loading"),this.status="loaded",this.fire(new o.l(Jr))})}lazyLoad(){this.status==="unavailable"?this.status="requested":this.status==="deferred"&&this._requestImport()}}let Vr=null;function Kn(){return Vr||(Vr=new rr),Vr}class Mi{constructor(a,l){this.timeAdded=0,this.fadeEndTime=0,this.tileID=a,this.uid=o.a4(),this.uses=0,this.tileSize=l,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.rtt=[],this.rttCoords={},this.expiredRequestCount=0,this.state="loading"}registerFadeDuration(a){let l=a+this.timeAdded;l<this.fadeEndTime||(this.fadeEndTime=l)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}clearTextures(a){this.demTexture&&a.saveTileTexture(this.demTexture),this.demTexture=null}loadVectorData(a,l,h){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",a){a.featureIndex&&(this.latestFeatureIndex=a.featureIndex,a.rawTileData?(this.latestRawTileData=a.rawTileData,this.latestFeatureIndex.rawTileData=a.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=a.collisionBoxArray,this.buckets=function(g,b){let E={};if(!b)return E;for(let A of g){let O=A.layerIds.map(k=>b.getLayer(k)).filter(Boolean);if(O.length!==0){A.layers=O,A.stateDependentLayerIds&&(A.stateDependentLayers=A.stateDependentLayerIds.map(k=>O.filter(j=>j.id===k)[0]));for(let k of O)E[k.id]=A}}return E}(a.buckets,l==null?void 0:l.style),this.hasSymbolBuckets=!1;for(let g in this.buckets){let b=this.buckets[g];if(b instanceof o.a6){if(this.hasSymbolBuckets=!0,!h)break;b.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(let g in this.buckets){let b=this.buckets[g];if(b instanceof o.a6&&b.hasRTLText){this.hasRTLText=!0,Kn().lazyLoad();break}}this.queryPadding=0;for(let g in this.buckets){let b=this.buckets[g];this.queryPadding=Math.max(this.queryPadding,l.style.getLayer(g).queryRadius(b))}a.imageAtlas&&(this.imageAtlas=a.imageAtlas),a.glyphAtlasImage&&(this.glyphAtlasImage=a.glyphAtlasImage)}else this.collisionBoxArray=new o.a5}unloadVectorData(){for(let a in this.buckets)this.buckets[a].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(a){return this.buckets[a.id]}upload(a){for(let h in this.buckets){let g=this.buckets[h];g.uploadPending()&&g.upload(a)}let l=a.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new ce(a,this.imageAtlas.image,l.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new ce(a,this.glyphAtlasImage,l.ALPHA),this.glyphAtlasImage=null)}prepare(a){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(a,this.imageAtlasTexture)}queryRenderedFeatures(a,l,h,g,b,E,A,O,k,j,$){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:g,cameraQueryGeometry:b,scale:E,tileSize:this.tileSize,pixelPosMatrix:j,transform:O,params:A,queryPadding:this.queryPadding*k,getElevation:$},a,l,h):{}}querySourceFeatures(a,l){let h=this.latestFeatureIndex;if(!h||!h.rawTileData)return;let g=h.loadVTLayers(),b=l&&l.sourceLayer?l.sourceLayer:"",E=g._geojsonTileLayer||g[b];if(!E)return;let A=o.a7(l&&l.filter),{z:O,x:k,y:j}=this.tileID.canonical,$={z:O,x:k,y:j};for(let V=0;V<E.length;V++){let Q=E.feature(V);if(A.needGeometry){let pe=o.a8(Q,!0);if(!A.filter(new o.C(this.tileID.overscaledZ),pe,this.tileID.canonical))continue}else if(!A.filter(new o.C(this.tileID.overscaledZ),Q))continue;let ee=h.getId(Q,b),fe=new o.a9(Q,O,k,j,ee);fe.tile=$,a.push(fe)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(a){let l=this.expirationTime;if(a.cacheControl){let h=o.aa(a.cacheControl);h["max-age"]&&(this.expirationTime=Date.now()+1e3*h["max-age"])}else a.expires&&(this.expirationTime=new Date(a.expires).getTime());if(this.expirationTime){let h=Date.now(),g=!1;if(this.expirationTime>h)g=!1;else if(l){if(this.expirationTime<l)g=!0;else{let b=this.expirationTime-l;b?this.expirationTime=h+Math.max(b,3e4):g=!0}}else g=!0;g?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(a,l){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(a).length===0)return;let h=this.latestFeatureIndex.loadVTLayers();for(let g in this.buckets){if(!l.style.hasLayer(g))continue;let b=this.buckets[g],E=b.layers[0].sourceLayer||"_geojsonTileLayer",A=h[E],O=a[E];if(!A||!O||Object.keys(O).length===0)continue;b.update(O,A,this.imageAtlas&&this.imageAtlas.patternPositions||{});let k=l&&l.style&&l.style.getLayer(g);k&&(this.queryPadding=Math.max(this.queryPadding,k.queryRadius(b)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<w.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(a){this.symbolFadeHoldUntil=w.now()+a}setDependencies(a,l){let h={};for(let g of l)h[g]=!0;this.dependencies[a]=h}hasDependency(a,l){for(let h of a){let g=this.dependencies[h];if(g){for(let b of l)if(g[b])return!0}}return!1}}class li{constructor(a,l){this.max=a,this.onRemove=l,this.reset()}reset(){for(let a in this.data)for(let l of this.data[a])l.timeout&&clearTimeout(l.timeout),this.onRemove(l.value);return this.data={},this.order=[],this}add(a,l,h){let g=a.wrapped().key;this.data[g]===void 0&&(this.data[g]=[]);let b={value:l,timeout:void 0};if(h!==void 0&&(b.timeout=setTimeout(()=>{this.remove(a,b)},h)),this.data[g].push(b),this.order.push(g),this.order.length>this.max){let E=this._getAndRemoveByKey(this.order[0]);E&&this.onRemove(E)}return this}has(a){return a.wrapped().key in this.data}getAndRemove(a){return this.has(a)?this._getAndRemoveByKey(a.wrapped().key):null}_getAndRemoveByKey(a){let l=this.data[a].shift();return l.timeout&&clearTimeout(l.timeout),this.data[a].length===0&&delete this.data[a],this.order.splice(this.order.indexOf(a),1),l.value}getByKey(a){let l=this.data[a];return l?l[0].value:null}get(a){return this.has(a)?this.data[a.wrapped().key][0].value:null}remove(a,l){if(!this.has(a))return this;let h=a.wrapped().key,g=l===void 0?0:this.data[h].indexOf(l),b=this.data[h][g];return this.data[h].splice(g,1),b.timeout&&clearTimeout(b.timeout),this.data[h].length===0&&delete this.data[h],this.onRemove(b.value),this.order.splice(this.order.indexOf(h),1),this}setMaxSize(a){for(this.max=a;this.order.length>this.max;){let l=this._getAndRemoveByKey(this.order[0]);l&&this.onRemove(l)}return this}filter(a){let l=[];for(let h in this.data)for(let g of this.data[h])a(g.value)||l.push(g);for(let h of l)this.remove(h.value.tileID,h)}}class cc{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(a,l,h){let g=String(l);if(this.stateChanges[a]=this.stateChanges[a]||{},this.stateChanges[a][g]=this.stateChanges[a][g]||{},o.e(this.stateChanges[a][g],h),this.deletedStates[a]===null){this.deletedStates[a]={};for(let b in this.state[a])b!==g&&(this.deletedStates[a][b]=null)}else if(this.deletedStates[a]&&this.deletedStates[a][g]===null){this.deletedStates[a][g]={};for(let b in this.state[a][g])h[b]||(this.deletedStates[a][g][b]=null)}else for(let b in h)this.deletedStates[a]&&this.deletedStates[a][g]&&this.deletedStates[a][g][b]===null&&delete this.deletedStates[a][g][b]}removeFeatureState(a,l,h){if(this.deletedStates[a]===null)return;let g=String(l);if(this.deletedStates[a]=this.deletedStates[a]||{},h&&l!==void 0)this.deletedStates[a][g]!==null&&(this.deletedStates[a][g]=this.deletedStates[a][g]||{},this.deletedStates[a][g][h]=null);else if(l!==void 0){if(this.stateChanges[a]&&this.stateChanges[a][g])for(h in this.deletedStates[a][g]={},this.stateChanges[a][g])this.deletedStates[a][g][h]=null;else this.deletedStates[a][g]=null;}else this.deletedStates[a]=null}getState(a,l){let h=String(l),g=o.e({},(this.state[a]||{})[h],(this.stateChanges[a]||{})[h]);if(this.deletedStates[a]===null)return{};if(this.deletedStates[a]){let b=this.deletedStates[a][l];if(b===null)return{};for(let E in b)delete g[E]}return g}initializeTileState(a,l){a.setFeatureState(this.state,l)}coalesceChanges(a,l){let h={};for(let g in this.stateChanges){this.state[g]=this.state[g]||{};let b={};for(let E in this.stateChanges[g])this.state[g][E]||(this.state[g][E]={}),o.e(this.state[g][E],this.stateChanges[g][E]),b[E]=this.state[g][E];h[g]=b}for(let g in this.deletedStates){this.state[g]=this.state[g]||{};let b={};if(this.deletedStates[g]===null)for(let E in this.state[g])b[E]={},this.state[g][E]={};else for(let E in this.deletedStates[g]){if(this.deletedStates[g][E]===null)this.state[g][E]={};else for(let A of Object.keys(this.deletedStates[g][E]))delete this.state[g][E][A];b[E]=this.state[g][E]}h[g]=h[g]||{},o.e(h[g],b)}if(this.stateChanges={},this.deletedStates={},Object.keys(h).length!==0)for(let g in a)a[g].setFeatureState(h,l)}}let Aa=89.25;function ko(_,a){let l=o.ae(a.lat,-85.051129,o.af);return new o.P(o.U(a.lng)*_,o.S(l)*_)}function Es(_,a){return new o.$(a.x/_,a.y/_).toLngLat()}function Be(_){return _.cameraToCenterDistance*Math.min(.85*Math.tan(o.ab(90-_.pitch)),Math.tan(o.ab(Aa-_.pitch)))}function ne(_,a){let l=_.canonical,h=a/o.ac(l.z),g=l.x+Math.pow(2,l.z)*_.wrap,b=o.ad(new Float64Array(16));return o.L(b,b,[g*h,l.y*h,0]),o.M(b,b,[h/o.Z,h/o.Z,1]),b}function ie(_,a,l,h,g){let b=o.$.fromLngLat(_,a),E=g*o.ag(1,_.lat),A=E*Math.cos(o.ab(l)),O=Math.sqrt(E*E-A*A),k=O*Math.sin(o.ab(-h)),j=O*Math.cos(o.ab(-h));return new o.$(b.x+k,b.y+j,b.z+A)}function H(_,a,l){let h=a.intersectsFrustum(_);if(!l)return h;let g=a.intersectsPlane(l);return h===0||g===0?0:h===2&&g===2?2:1}function X(_,a,l){let h=0,g=(l-a)/10;for(let b=0;b<10;b++)h+=g*Math.pow(Math.cos(a+(b+.5)/10*(l-a)),_);return h}function ue(_,a){return function(l,h,g,b,E){let A=2*((_-1)/o.ah(Math.cos(o.ab(Aa-E))/Math.cos(o.ab(Aa)))-1),O=Math.acos(g/b),k=2*X(A-1,0,o.ab(E/2)),j=Math.min(o.ab(Aa),O+o.ab(E/2)),$=X(A-1,Math.min(j,O-o.ab(E/2)),j),V=Math.atan(h/g),Q=Math.hypot(h,g),ee=l;return ee+=o.ah(b/Q/Math.max(.5,Math.cos(o.ab(E/2)))),ee+=A*o.ah(Math.cos(V))/2,ee-=o.ah(Math.max(1,$/k/a))/2,ee}}let J=ue(9.314,3);function Ie(_,a){let l=(a.roundZoom?Math.round:Math.floor)(_.zoom+o.ah(_.tileSize/a.tileSize));return Math.max(0,l)}function ge(_,a){let l=_.getCameraFrustum(),h=_.getClippingPlane(),g=_.screenPointToMercatorCoordinate(_.getCameraPoint()),b=o.$.fromLngLat(_.center,_.elevation);g.z=b.z+Math.cos(_.pitchInRadians)*_.cameraToCenterDistance/_.worldSize;let E=_.getCoveringTilesDetailsProvider(),A=E.allowVariableZoom(_,a),O=Ie(_,a),k=a.minzoom||0,j=a.maxzoom!==void 0?a.maxzoom:_.maxZoom,$=Math.min(Math.max(0,O),j),V=Math.pow(2,$),Q=[V*g.x,V*g.y,0],ee=[V*b.x,V*b.y,0],fe=Math.hypot(b.x-g.x,b.y-g.y),pe=Math.abs(b.z-g.z),he=Math.hypot(fe,pe),ve=Ce=>({zoom:0,x:0,y:0,wrap:Ce,fullyVisible:!1}),we=[],xe=[];if(_.renderWorldCopies&&E.allowWorldCopies())for(let Ce=1;Ce<=3;Ce++)we.push(ve(-Ce)),we.push(ve(Ce));for(we.push(ve(0));we.length>0;){let Ce=we.pop(),ke=Ce.x,Oe=Ce.y,Ve=Ce.fullyVisible,rt={x:ke,y:Oe,z:Ce.zoom},Ze=E.getTileAABB(rt,Ce.wrap,_.elevation,a);if(!Ve){let Et=H(l,Ze,h);if(Et===0)continue;Ve=Et===2}let Ye=E.distanceToTile2d(g.x,g.y,rt,Ze),Je=O;A&&(Je=(a.calculateTileZoom||J)(_.zoom+o.ah(_.tileSize/a.tileSize),Ye,pe,he,_.fov)),Je=(a.roundZoom?Math.round:Math.floor)(Je),Je=Math.max(0,Je);let Ct=Math.min(Je,j);if(Ce.wrap=E.getWrap(b,rt,Ce.wrap),Ce.zoom>=Ct){if(Ce.zoom<k)continue;let Et=$-Ce.zoom,ht=Q[0]-.5-(ke<<Et),Kt=Q[1]-.5-(Oe<<Et),qr=a.reparseOverscaled?Math.max(Ce.zoom,Je):Ce.zoom;xe.push({tileID:new o.Y(Ce.zoom===j?qr:Ce.zoom,Ce.wrap,Ce.zoom,ke,Oe),distanceSq:o.ai([ee[0]-.5-ke,ee[1]-.5-Oe]),tileDistanceToCamera:Math.sqrt(ht*ht+Kt*Kt)})}else for(let Et=0;Et<4;Et++)we.push({zoom:Ce.zoom+1,x:(ke<<1)+Et%2,y:(Oe<<1)+(Et>>1),wrap:Ce.wrap,fullyVisible:Ve})}return xe.sort((Ce,ke)=>Ce.distanceSq-ke.distanceSq).map(Ce=>Ce.tileID)}class Pe extends o.E{constructor(a,l,h){super(),this.id=a,this.dispatcher=h,this.on("data",g=>this._dataHandler(g)),this.on("dataloading",()=>{this._sourceErrored=!1}),this.on("error",()=>{this._sourceErrored=this._source.loaded()}),this._source=((g,b,E,A)=>{let O=new(Mr(b.type))(g,b,E,A);if(O.id!==g)throw new Error(`Expected Source id to be ${g} instead of ${O.id}`);return O})(a,l,h,this),this._tiles={},this._cache=new li(0,g=>this._unloadTile(g)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._maxTileCacheZoomLevels=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new cc,this._didEmitContent=!1,this._updated=!1}onAdd(a){this.map=a,this._maxTileCacheSize=a?a._maxTileCacheSize:null,this._maxTileCacheZoomLevels=a?a._maxTileCacheZoomLevels:null,this._source&&this._source.onAdd&&this._source.onAdd(a)}onRemove(a){this.clearTiles(),this._source&&this._source.onRemove&&this._source.onRemove(a)}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;if(!(this.used===void 0&&this.usedForTerrain===void 0||this.used||this.usedForTerrain))return!0;if(!this._updated)return!1;for(let a in this._tiles){let l=this._tiles[a];if(l.state!=="loaded"&&l.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;let a=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,a&&this.reload(),this.transform&&this.update(this.transform,this.terrain)}_loadTile(a,l,h){return o._(this,void 0,void 0,function*(){try{yield this._source.loadTile(a),this._tileLoaded(a,l,h)}catch(g){a.state="errored",g.status!==404?this._source.fire(new o.k(g,{tile:a})):this.update(this.transform,this.terrain)}})}_unloadTile(a){this._source.unloadTile&&this._source.unloadTile(a)}_abortTile(a){this._source.abortTile&&this._source.abortTile(a),this._source.fire(new o.l("dataabort",{tile:a,coord:a.tileID,dataType:"source"}))}serialize(){return this._source.serialize()}prepare(a){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(let l in this._tiles){let h=this._tiles[l];h.upload(a),h.prepare(this.map.style.imageManager)}}getIds(){return Object.values(this._tiles).map(a=>a.tileID).sort(Le).map(a=>a.key)}getRenderableIds(a){let l=[];for(let h in this._tiles)this._isIdRenderable(h,a)&&l.push(this._tiles[h]);return a?l.sort((h,g)=>{let b=h.tileID,E=g.tileID,A=new o.P(b.canonical.x,b.canonical.y)._rotate(-this.transform.bearingInRadians),O=new o.P(E.canonical.x,E.canonical.y)._rotate(-this.transform.bearingInRadians);return b.overscaledZ-E.overscaledZ||O.y-A.y||O.x-A.x}).map(h=>h.tileID.key):l.map(h=>h.tileID).sort(Le).map(h=>h.key)}hasRenderableParent(a){let l=this.findLoadedParent(a,0);return!!l&&this._isIdRenderable(l.tileID.key)}_isIdRenderable(a,l){return this._tiles[a]&&this._tiles[a].hasData()&&!this._coveredTiles[a]&&(l||!this._tiles[a].holdingForFade())}reload(a){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(let l in this._tiles)(a||this._tiles[l].state!=="errored")&&this._reloadTile(l,"reloading")}}_reloadTile(a,l){return o._(this,void 0,void 0,function*(){let h=this._tiles[a];h&&(h.state!=="loading"&&(h.state=l),yield this._loadTile(h,a,l))})}_tileLoaded(a,l,h){a.timeAdded=w.now(),h==="expired"&&(a.refreshedUponExpiration=!0),this._setTileReloadTimer(l,a),this.getSource().type==="raster-dem"&&a.dem&&this._backfillDEM(a),this._state.initializeTileState(a,this.map?this.map.painter:null),a.aborted||this._source.fire(new o.l("data",{dataType:"source",tile:a,coord:a.tileID}))}_backfillDEM(a){let l=this.getRenderableIds();for(let g=0;g<l.length;g++){let b=l[g];if(a.neighboringTiles&&a.neighboringTiles[b]){let E=this.getTileByID(b);h(a,E),h(E,a)}}function h(g,b){g.needsHillshadePrepare=!0,g.needsTerrainPrepare=!0;let E=b.tileID.canonical.x-g.tileID.canonical.x,A=b.tileID.canonical.y-g.tileID.canonical.y,O=Math.pow(2,g.tileID.canonical.z),k=b.tileID.key;E===0&&A===0||Math.abs(A)>1||(Math.abs(E)>1&&(Math.abs(E+O)===1?E+=O:Math.abs(E-O)===1&&(E-=O)),b.dem&&g.dem&&(g.dem.backfillBorder(b.dem,E,A),g.neighboringTiles&&g.neighboringTiles[k]&&(g.neighboringTiles[k].backfilled=!0)))}}getTile(a){return this.getTileByID(a.key)}getTileByID(a){return this._tiles[a]}_retainLoadedChildren(a,l,h,g){for(let b in this._tiles){let E=this._tiles[b];if(g[b]||!E.hasData()||E.tileID.overscaledZ<=l||E.tileID.overscaledZ>h)continue;let A=E.tileID;for(;E&&E.tileID.overscaledZ>l+1;){let k=E.tileID.scaledTo(E.tileID.overscaledZ-1);E=this._tiles[k.key],E&&E.hasData()&&(A=k)}let O=A;for(;O.overscaledZ>l;)if(O=O.scaledTo(O.overscaledZ-1),a[O.key]||a[O.canonical.key]){g[A.key]=A;break}}}findLoadedParent(a,l){if(a.key in this._loadedParentTiles){let h=this._loadedParentTiles[a.key];return h&&h.tileID.overscaledZ>=l?h:null}for(let h=a.overscaledZ-1;h>=l;h--){let g=a.scaledTo(h),b=this._getLoadedTile(g);if(b)return b}}findLoadedSibling(a){return this._getLoadedTile(a)}_getLoadedTile(a){let l=this._tiles[a.key];return l&&l.hasData()?l:this._cache.getByKey(a.wrapped().key)}updateCacheSize(a){let l=Math.ceil(a.width/this._source.tileSize)+1,h=Math.ceil(a.height/this._source.tileSize)+1,g=Math.floor(l*h*(this._maxTileCacheZoomLevels===null?o.a.MAX_TILE_CACHE_ZOOM_LEVELS:this._maxTileCacheZoomLevels)),b=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,g):g;this._cache.setMaxSize(b)}handleWrapJump(a){let l=Math.round((a-(this._prevLng===void 0?a:this._prevLng))/360);if(this._prevLng=a,l){let h={};for(let g in this._tiles){let b=this._tiles[g];b.tileID=b.tileID.unwrapTo(b.tileID.wrap+l),h[b.tileID.key]=b}this._tiles=h;for(let g in this._timers)clearTimeout(this._timers[g]),delete this._timers[g];for(let g in this._tiles)this._setTileReloadTimer(g,this._tiles[g])}}_updateCoveredAndRetainedTiles(a,l,h,g,b,E){let A={},O={},k=Object.keys(a),j=w.now();for(let $ of k){let V=a[$],Q=this._tiles[$];if(!Q||Q.fadeEndTime!==0&&Q.fadeEndTime<=j)continue;let ee=this.findLoadedParent(V,l),fe=this.findLoadedSibling(V),pe=ee||fe||null;pe&&(this._addTile(pe.tileID),A[pe.tileID.key]=pe.tileID),O[$]=V}this._retainLoadedChildren(O,g,h,a);for(let $ in A)a[$]||(this._coveredTiles[$]=!0,a[$]=A[$]);if(E){let $={},V={};for(let Q of b)this._tiles[Q.key].hasData()?$[Q.key]=Q:V[Q.key]=Q;for(let Q in V){let ee=V[Q].children(this._source.maxzoom);this._tiles[ee[0].key]&&this._tiles[ee[1].key]&&this._tiles[ee[2].key]&&this._tiles[ee[3].key]&&($[ee[0].key]=a[ee[0].key]=ee[0],$[ee[1].key]=a[ee[1].key]=ee[1],$[ee[2].key]=a[ee[2].key]=ee[2],$[ee[3].key]=a[ee[3].key]=ee[3],delete V[Q])}for(let Q in V){let ee=V[Q],fe=this.findLoadedParent(ee,this._source.minzoom),pe=this.findLoadedSibling(ee),he=fe||pe||null;if(he){$[he.tileID.key]=a[he.tileID.key]=he.tileID;for(let ve in $)$[ve].isChildOf(he.tileID)&&delete $[ve]}}for(let Q in this._tiles)$[Q]||(this._coveredTiles[Q]=!0)}}update(a,l){if(!this._sourceLoaded||this._paused)return;let h;this.transform=a,this.terrain=l,this.updateCacheSize(a),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?h=a.getVisibleUnwrappedCoordinates(this._source.tileID).map(j=>new o.Y(j.canonical.z,j.wrap,j.canonical.z,j.canonical.x,j.canonical.y)):(h=ge(a,{tileSize:this.usedForTerrain?this.tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:!this.usedForTerrain&&this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled,terrain:l,calculateTileZoom:this._source.calculateTileZoom}),this._source.hasTile&&(h=h.filter(j=>this._source.hasTile(j)))):h=[];let g=Ie(a,this._source),b=Math.max(g-Pe.maxOverzooming,this._source.minzoom),E=Math.max(g+Pe.maxUnderzooming,this._source.minzoom);if(this.usedForTerrain){let j={};for(let $ of h)if($.canonical.z>this._source.minzoom){let V=$.scaledTo($.canonical.z-1);j[V.key]=V;let Q=$.scaledTo(Math.max(this._source.minzoom,Math.min($.canonical.z,5)));j[Q.key]=Q}h=h.concat(Object.values(j))}let A=h.length===0&&!this._updated&&this._didEmitContent;this._updated=!0,A&&this.fire(new o.l("data",{sourceDataType:"idle",dataType:"source",sourceId:this.id}));let O=this._updateRetainedTiles(h,g);Ae(this._source.type)&&this._updateCoveredAndRetainedTiles(O,b,E,g,h,l);for(let j in O)this._tiles[j].clearFadeHold();let k=o.aj(this._tiles,O);for(let j of k){let $=this._tiles[j];$.hasSymbolBuckets&&!$.holdingForFade()?$.setHoldDuration(this.map._fadeDuration):$.hasSymbolBuckets&&!$.symbolFadeFinished()||this._removeTile(j)}this._updateLoadedParentTileCache(),this._updateLoadedSiblingTileCache()}releaseSymbolFadeTiles(){for(let a in this._tiles)this._tiles[a].holdingForFade()&&this._removeTile(a)}_updateRetainedTiles(a,l){var h;let g={},b={},E=Math.max(l-Pe.maxOverzooming,this._source.minzoom),A=Math.max(l+Pe.maxUnderzooming,this._source.minzoom),O={};for(let k of a){let j=this._addTile(k);g[k.key]=k,j.hasData()||l<this._source.maxzoom&&(O[k.key]=k)}this._retainLoadedChildren(O,l,A,g);for(let k of a){let j=this._tiles[k.key];if(j.hasData())continue;if(l+1>this._source.maxzoom){let V=k.children(this._source.maxzoom)[0],Q=this.getTile(V);if(Q&&Q.hasData()){g[V.key]=V;continue}}else{let V=k.children(this._source.maxzoom);if(g[V[0].key]&&g[V[1].key]&&g[V[2].key]&&g[V[3].key])continue}let $=j.wasRequested();for(let V=k.overscaledZ-1;V>=E;--V){let Q=k.scaledTo(V);if(b[Q.key])break;if(b[Q.key]=!0,j=this.getTile(Q),!j&&$&&(j=this._addTile(Q)),j){let ee=j.hasData();if((ee||!(!((h=this.map)===null||h===void 0)&&h.cancelPendingTileRequestsWhileZooming)||$)&&(g[Q.key]=Q),$=j.wasRequested(),ee)break}}}return g}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(let a in this._tiles){let l=[],h,g=this._tiles[a].tileID;for(;g.overscaledZ>0;){if(g.key in this._loadedParentTiles){h=this._loadedParentTiles[g.key];break}l.push(g.key);let b=g.scaledTo(g.overscaledZ-1);if(h=this._getLoadedTile(b),h)break;g=b}for(let b of l)this._loadedParentTiles[b]=h}}_updateLoadedSiblingTileCache(){this._loadedSiblingTiles={};for(let a in this._tiles){let l=this._tiles[a].tileID,h=this._getLoadedTile(l);this._loadedSiblingTiles[l.key]=h}}_addTile(a){let l=this._tiles[a.key];if(l)return l;l=this._cache.getAndRemove(a),l&&(this._setTileReloadTimer(a.key,l),l.tileID=a,this._state.initializeTileState(l,this.map?this.map.painter:null),this._cacheTimers[a.key]&&(clearTimeout(this._cacheTimers[a.key]),delete this._cacheTimers[a.key],this._setTileReloadTimer(a.key,l)));let h=l;return l||(l=new Mi(a,this._source.tileSize*a.overscaleFactor()),this._loadTile(l,a.key,l.state)),l.uses++,this._tiles[a.key]=l,h||this._source.fire(new o.l("dataloading",{tile:l,coord:l.tileID,dataType:"source"})),l}_setTileReloadTimer(a,l){a in this._timers&&(clearTimeout(this._timers[a]),delete this._timers[a]);let h=l.getExpiryTimeout();h&&(this._timers[a]=setTimeout(()=>{this._reloadTile(a,"expired"),delete this._timers[a]},h))}refreshTiles(a){for(let l in this._tiles)this._isIdRenderable(l)&&a.some(h=>h.equals(this._tiles[l].tileID.canonical))&&this._reloadTile(l,"expired")}_removeTile(a){let l=this._tiles[a];l&&(l.uses--,delete this._tiles[a],this._timers[a]&&(clearTimeout(this._timers[a]),delete this._timers[a]),l.uses>0||(l.hasData()&&l.state!=="reloading"?this._cache.add(l.tileID,l,l.getExpiryTimeout()):(l.aborted=!0,this._abortTile(l),this._unloadTile(l))))}_dataHandler(a){let l=a.sourceDataType;a.dataType==="source"&&l==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&a.dataType==="source"&&l==="content"&&(this.reload(a.sourceDataChanged),this.transform&&this.update(this.transform,this.terrain),this._didEmitContent=!0)}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(let a in this._tiles)this._removeTile(a);this._cache.reset()}tilesIn(a,l,h){let g=[],b=this.transform;if(!b)return g;let E=h?b.getCameraQueryGeometry(a):a,A=a.map(ee=>b.screenPointToMercatorCoordinate(ee,this.terrain)),O=E.map(ee=>b.screenPointToMercatorCoordinate(ee,this.terrain)),k=this.getIds(),j=1/0,$=1/0,V=-1/0,Q=-1/0;for(let ee of O)j=Math.min(j,ee.x),$=Math.min($,ee.y),V=Math.max(V,ee.x),Q=Math.max(Q,ee.y);for(let ee=0;ee<k.length;ee++){let fe=this._tiles[k[ee]];if(fe.holdingForFade())continue;let pe=b.getCoveringTilesDetailsProvider().allowWorldCopies()?fe.tileID:fe.tileID.unwrapTo(0),he=Math.pow(2,b.zoom-fe.tileID.overscaledZ),ve=l*fe.queryPadding*o.Z/fe.tileSize/he,we=[pe.getTilePoint(new o.$(j,$)),pe.getTilePoint(new o.$(V,Q))];if(we[0].x-ve<o.Z&&we[0].y-ve<o.Z&&we[1].x+ve>=0&&we[1].y+ve>=0){let xe=A.map(ke=>pe.getTilePoint(ke)),Ce=O.map(ke=>pe.getTilePoint(ke));g.push({tile:fe,tileID:pe,queryGeometry:xe,cameraQueryGeometry:Ce,scale:he})}}return g}getVisibleCoordinates(a){let l=this.getRenderableIds(a).map(h=>this._tiles[h].tileID);return this.transform&&this.transform.populateCache(l),l}hasTransition(){if(this._source.hasTransition())return!0;if(Ae(this._source.type)){let a=w.now();for(let l in this._tiles)if(this._tiles[l].fadeEndTime>=a)return!0}return!1}setFeatureState(a,l,h){this._state.updateState(a=a||"_geojsonTileLayer",l,h)}removeFeatureState(a,l,h){this._state.removeFeatureState(a=a||"_geojsonTileLayer",l,h)}getFeatureState(a,l){return this._state.getState(a=a||"_geojsonTileLayer",l)}setDependencies(a,l,h){let g=this._tiles[a];g&&g.setDependencies(l,h)}reloadTilesForDependencies(a,l){for(let h in this._tiles)this._tiles[h].hasDependency(a,l)&&this._reloadTile(h,"reloading");this._cache.filter(h=>!h.hasDependency(a,l))}}function Le(_,a){let l=Math.abs(2*_.wrap)-+(_.wrap<0),h=Math.abs(2*a.wrap)-+(a.wrap<0);return _.overscaledZ-a.overscaledZ||h-l||a.canonical.y-_.canonical.y||a.canonical.x-_.canonical.x}function Ae(_){return _==="raster"||_==="image"||_==="video"}Pe.maxOverzooming=10,Pe.maxUnderzooming=3;class Ge{constructor(a,l){this.reset(a,l)}reset(a,l){this.points=a||[],this._distances=[0];for(let h=1;h<this.points.length;h++)this._distances[h]=this._distances[h-1]+this.points[h].dist(this.points[h-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(l||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(a){if(this.points.length===1)return this.points[0];a=o.ae(a,0,1);let l=1,h=this._distances[l],g=a*this.paddedLength+this.padding;for(;h<g&&l<this._distances.length;)h=this._distances[++l];let b=l-1,E=this._distances[b],A=h-E,O=A>0?(g-E)/A:0;return this.points[b].mult(1-O).add(this.points[l].mult(O))}}function dt(_,a){let l=!0;return _==="always"||_!=="never"&&a!=="never"||(l=!1),l}class xt{constructor(a,l,h){let g=this.boxCells=[],b=this.circleCells=[];this.xCellCount=Math.ceil(a/h),this.yCellCount=Math.ceil(l/h);for(let E=0;E<this.xCellCount*this.yCellCount;E++)g.push([]),b.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=a,this.height=l,this.xScale=this.xCellCount/a,this.yScale=this.yCellCount/l,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(a,l,h,g,b){this._forEachCell(l,h,g,b,this._insertBoxCell,this.boxUid++),this.boxKeys.push(a),this.bboxes.push(l),this.bboxes.push(h),this.bboxes.push(g),this.bboxes.push(b)}insertCircle(a,l,h,g){this._forEachCell(l-g,h-g,l+g,h+g,this._insertCircleCell,this.circleUid++),this.circleKeys.push(a),this.circles.push(l),this.circles.push(h),this.circles.push(g)}_insertBoxCell(a,l,h,g,b,E){this.boxCells[b].push(E)}_insertCircleCell(a,l,h,g,b,E){this.circleCells[b].push(E)}_query(a,l,h,g,b,E,A){if(h<0||a>this.width||g<0||l>this.height)return[];let O=[];if(a<=0&&l<=0&&this.width<=h&&this.height<=g){if(b)return[{key:null,x1:a,y1:l,x2:h,y2:g}];for(let k=0;k<this.boxKeys.length;k++)O.push({key:this.boxKeys[k],x1:this.bboxes[4*k],y1:this.bboxes[4*k+1],x2:this.bboxes[4*k+2],y2:this.bboxes[4*k+3]});for(let k=0;k<this.circleKeys.length;k++){let j=this.circles[3*k],$=this.circles[3*k+1],V=this.circles[3*k+2];O.push({key:this.circleKeys[k],x1:j-V,y1:$-V,x2:j+V,y2:$+V})}}else this._forEachCell(a,l,h,g,this._queryCell,O,{hitTest:b,overlapMode:E,seenUids:{box:{},circle:{}}},A);return O}query(a,l,h,g){return this._query(a,l,h,g,!1,null)}hitTest(a,l,h,g,b,E){return this._query(a,l,h,g,!0,b,E).length>0}hitTestCircle(a,l,h,g,b){let E=a-h,A=a+h,O=l-h,k=l+h;if(A<0||E>this.width||k<0||O>this.height)return!1;let j=[];return this._forEachCell(E,O,A,k,this._queryCellCircle,j,{hitTest:!0,overlapMode:g,circle:{x:a,y:l,radius:h},seenUids:{box:{},circle:{}}},b),j.length>0}_queryCell(a,l,h,g,b,E,A,O){let{seenUids:k,hitTest:j,overlapMode:$}=A,V=this.boxCells[b];if(V!==null){let ee=this.bboxes;for(let fe of V)if(!k.box[fe]){k.box[fe]=!0;let pe=4*fe,he=this.boxKeys[fe];if(a<=ee[pe+2]&&l<=ee[pe+3]&&h>=ee[pe+0]&&g>=ee[pe+1]&&(!O||O(he))&&(!j||!dt($,he.overlapMode))&&(E.push({key:he,x1:ee[pe],y1:ee[pe+1],x2:ee[pe+2],y2:ee[pe+3]}),j))return!0}}let Q=this.circleCells[b];if(Q!==null){let ee=this.circles;for(let fe of Q)if(!k.circle[fe]){k.circle[fe]=!0;let pe=3*fe,he=this.circleKeys[fe];if(this._circleAndRectCollide(ee[pe],ee[pe+1],ee[pe+2],a,l,h,g)&&(!O||O(he))&&(!j||!dt($,he.overlapMode))){let ve=ee[pe],we=ee[pe+1],xe=ee[pe+2];if(E.push({key:he,x1:ve-xe,y1:we-xe,x2:ve+xe,y2:we+xe}),j)return!0}}}return!1}_queryCellCircle(a,l,h,g,b,E,A,O){let{circle:k,seenUids:j,overlapMode:$}=A,V=this.boxCells[b];if(V!==null){let ee=this.bboxes;for(let fe of V)if(!j.box[fe]){j.box[fe]=!0;let pe=4*fe,he=this.boxKeys[fe];if(this._circleAndRectCollide(k.x,k.y,k.radius,ee[pe+0],ee[pe+1],ee[pe+2],ee[pe+3])&&(!O||O(he))&&!dt($,he.overlapMode))return E.push(!0),!0}}let Q=this.circleCells[b];if(Q!==null){let ee=this.circles;for(let fe of Q)if(!j.circle[fe]){j.circle[fe]=!0;let pe=3*fe,he=this.circleKeys[fe];if(this._circlesCollide(ee[pe],ee[pe+1],ee[pe+2],k.x,k.y,k.radius)&&(!O||O(he))&&!dt($,he.overlapMode))return E.push(!0),!0}}}_forEachCell(a,l,h,g,b,E,A,O){let k=this._convertToXCellCoord(a),j=this._convertToYCellCoord(l),$=this._convertToXCellCoord(h),V=this._convertToYCellCoord(g);for(let Q=k;Q<=$;Q++)for(let ee=j;ee<=V;ee++)if(b.call(this,a,l,h,g,this.xCellCount*ee+Q,E,A,O))return}_convertToXCellCoord(a){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(a*this.xScale)))}_convertToYCellCoord(a){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(a*this.yScale)))}_circlesCollide(a,l,h,g,b,E){let A=g-a,O=b-l,k=h+E;return k*k>A*A+O*O}_circleAndRectCollide(a,l,h,g,b,E,A){let O=(E-g)/2,k=Math.abs(a-(g+O));if(k>O+h)return!1;let j=(A-b)/2,$=Math.abs(l-(b+j));if($>j+h)return!1;if(k<=O||$<=j)return!0;let V=k-O,Q=$-j;return V*V+Q*Q<=h*h}}function Ft(_,a,l){let h=o.K();if(!_){let{vecSouth:$,vecEast:V}=er(a),Q=f();Q[0]=V[0],Q[1]=V[1],Q[2]=$[0],Q[3]=$[1],g=Q,(j=(E=(b=Q)[0])*(k=b[3])-(O=b[2])*(A=b[1]))&&(g[0]=k*(j=1/j),g[1]=-A*j,g[2]=-O*j,g[3]=E*j),h[0]=Q[0],h[1]=Q[1],h[4]=Q[2],h[5]=Q[3]}var g,b,E,A,O,k,j;return o.M(h,h,[1/l,1/l,1]),h}function cr(_,a,l,h){if(_){let g=o.K();if(!a){let{vecSouth:b,vecEast:E}=er(l);g[0]=E[0],g[1]=E[1],g[4]=b[0],g[5]=b[1]}return o.M(g,g,[h,h,1]),g}return l.pixelsToClipSpaceMatrix}function er(_){let a=Math.cos(_.rollInRadians),l=Math.sin(_.rollInRadians),h=Math.cos(_.pitchInRadians),g=Math.cos(_.bearingInRadians),b=Math.sin(_.bearingInRadians),E=o.ao();E[0]=-g*h*l-b*a,E[1]=-b*h*l+g*a;let A=o.ap(E);A<1e-9?o.aq(E):o.ar(E,E,1/A);let O=o.ao();O[0]=g*h*a-b*l,O[1]=b*h*a+g*l;let k=o.ap(O);return k<1e-9?o.aq(O):o.ar(O,O,1/k),{vecEast:O,vecSouth:E}}function Ke(_,a,l,h){let g;h?(g=[_,a,h(_,a),1],o.at(g,g,l)):(g=[_,a,0,1],yp(g,g,l));let b=g[3];return{point:new o.P(g[0]/b,g[1]/b),signedDistanceFromCamera:b,isOccluded:!1}}function sn(_,a){return .5+_/a*.5}function kr(_,a){return _.x>=-a[0]&&_.x<=a[0]&&_.y>=-a[1]&&_.y<=a[1]}function Zr(_,a,l,h,g,b,E,A,O,k,j,$,V){let Q=l?_.textSizeData:_.iconSizeData,ee=o.ak(Q,a.transform.zoom),fe=[256/a.width*2+1,256/a.height*2+1],pe=l?_.text.dynamicLayoutVertexArray:_.icon.dynamicLayoutVertexArray;pe.clear();let he=_.lineVertexArray,ve=l?_.text.placedSymbolArray:_.icon.placedSymbolArray,we=a.transform.width/a.transform.height,xe=!1;for(let Ce=0;Ce<ve.length;Ce++){let ke=ve.get(Ce);if(ke.hidden||ke.writingMode===o.al.vertical&&!xe){vu(ke.numGlyphs,pe);continue}xe=!1;let Oe=new o.P(ke.anchorX,ke.anchorY),Ve={getElevation:V,pitchedLabelPlaneMatrix:h,lineVertexArray:he,pitchWithMap:b,projectionCache:{projections:{},offsets:{},cachedAnchorPoint:void 0,anyProjectionOccluded:!1},transform:a.transform,tileAnchorPoint:Oe,unwrappedTileID:O,width:k,height:j,translation:$},rt=Lr(ke.anchorX,ke.anchorY,Ve);if(!kr(rt.point,fe)){vu(ke.numGlyphs,pe);continue}let Ze=sn(a.transform.cameraToCenterDistance,rt.signedDistanceFromCamera),Ye=o.am(Q,ee,ke),Je=b?Ye*a.transform.getPitchedTextCorrection(ke.anchorX,ke.anchorY,O)/Ze:Ye*Ze,Ct=hr({projectionContext:Ve,pitchedLabelPlaneMatrixInverse:g,symbol:ke,fontSize:Je,flip:!1,keepUpright:E,glyphOffsetArray:_.glyphOffsetArray,dynamicLayoutVertexArray:pe,aspectRatio:we,rotateToLine:A});xe=Ct.useVertical,(Ct.notEnoughRoom||xe||Ct.needsFlipping&&hr({projectionContext:Ve,pitchedLabelPlaneMatrixInverse:g,symbol:ke,fontSize:Je,flip:!0,keepUpright:E,glyphOffsetArray:_.glyphOffsetArray,dynamicLayoutVertexArray:pe,aspectRatio:we,rotateToLine:A}).notEnoughRoom)&&vu(ke.numGlyphs,pe)}l?_.text.dynamicLayoutVertexBuffer.updateData(pe):_.icon.dynamicLayoutVertexBuffer.updateData(pe)}function br(_,a,l,h,g,b,E,A){let O=b.glyphStartIndex+b.numGlyphs,k=b.lineStartIndex,j=b.lineStartIndex+b.lineLength,$=a.getoffsetX(b.glyphStartIndex),V=a.getoffsetX(O-1),Q=vp(_*$,l,h,g,b.segment,k,j,A,E);if(!Q)return null;let ee=vp(_*V,l,h,g,b.segment,k,j,A,E);return ee?A.projectionCache.anyProjectionOccluded?null:{first:Q,last:ee}:null}function ct(_,a,l,h){return _===o.al.horizontal&&Math.abs(l.y-a.y)>Math.abs(l.x-a.x)*h?{useVertical:!0}:(_===o.al.vertical?a.y<l.y:a.x>l.x)?{needsFlipping:!0}:null}function hr(_){let{projectionContext:a,pitchedLabelPlaneMatrixInverse:l,symbol:h,fontSize:g,flip:b,keepUpright:E,glyphOffsetArray:A,dynamicLayoutVertexArray:O,aspectRatio:k,rotateToLine:j}=_,$=g/24,V=h.lineOffsetX*$,Q=h.lineOffsetY*$,ee;if(h.numGlyphs>1){let fe=h.glyphStartIndex+h.numGlyphs,pe=h.lineStartIndex,he=h.lineStartIndex+h.lineLength,ve=br($,A,V,Q,b,h,j,a);if(!ve)return{notEnoughRoom:!0};let we=Pa(ve.first.point.x,ve.first.point.y,a,l),xe=Pa(ve.last.point.x,ve.last.point.y,a,l);if(E&&!b){let Ce=ct(h.writingMode,we,xe,k);if(Ce)return Ce}ee=[ve.first];for(let Ce=h.glyphStartIndex+1;Ce<fe-1;Ce++)ee.push(vp($*A.getoffsetX(Ce),V,Q,b,h.segment,pe,he,a,j));ee.push(ve.last)}else{if(E&&!b){let pe=_i(a.tileAnchorPoint.x,a.tileAnchorPoint.y,a).point,he=h.lineStartIndex+h.segment+1,ve=new o.P(a.lineVertexArray.getx(he),a.lineVertexArray.gety(he)),we=_i(ve.x,ve.y,a),xe=we.signedDistanceFromCamera>0?we.point:Dr(a.tileAnchorPoint,ve,pe,1,a),Ce=Pa(pe.x,pe.y,a,l),ke=Pa(xe.x,xe.y,a,l),Oe=ct(h.writingMode,Ce,ke,k);if(Oe)return Oe}let fe=vp($*A.getoffsetX(h.glyphStartIndex),V,Q,b,h.segment,h.lineStartIndex,h.lineStartIndex+h.lineLength,a,j);if(!fe||a.projectionCache.anyProjectionOccluded)return{notEnoughRoom:!0};ee=[fe]}for(let fe of ee)o.as(O,fe.point,fe.angle);return{}}function Dr(_,a,l,h,g){let b=_.add(_.sub(a)._unit()),E=_i(b.x,b.y,g).point,A=l.sub(E);return l.add(A._mult(h/A.mag()))}function yi(_,a,l){let h=a.projectionCache;if(h.projections[_])return h.projections[_];let g=new o.P(a.lineVertexArray.getx(_),a.lineVertexArray.gety(_)),b=_i(g.x,g.y,a);if(b.signedDistanceFromCamera>0)return h.projections[_]=b.point,h.anyProjectionOccluded=h.anyProjectionOccluded||b.isOccluded,b.point;let E=_-l.direction;return Dr(l.distanceFromAnchor===0?a.tileAnchorPoint:new o.P(a.lineVertexArray.getx(E),a.lineVertexArray.gety(E)),g,l.previousVertex,l.absOffsetX-l.distanceFromAnchor+1,a)}function _i(_,a,l){let h=_+l.translation[0],g=a+l.translation[1],b;return l.pitchWithMap?(b=Ke(h,g,l.pitchedLabelPlaneMatrix,l.getElevation),b.isOccluded=!1):(b=l.transform.projectTileCoordinates(h,g,l.unwrappedTileID,l.getElevation),b.point.x=(.5*b.point.x+.5)*l.width,b.point.y=(.5*-b.point.y+.5)*l.height),b}function Pa(_,a,l,h){if(l.pitchWithMap){let g=[_,a,0,1];return o.at(g,g,h),l.transform.projectTileCoordinates(g[0]/g[3],g[1]/g[3],l.unwrappedTileID,l.getElevation).point}return{x:_/l.width*2-1,y:a/l.height*2-1}}function Lr(_,a,l){return l.transform.projectTileCoordinates(_,a,l.unwrappedTileID,l.getElevation)}function qf(_,a,l){return _._unit()._perp()._mult(a*l)}function $h(_,a,l,h,g,b,E,A,O){if(A.projectionCache.offsets[_])return A.projectionCache.offsets[_];let k=l.add(a);if(_+O.direction<h||_+O.direction>=g)return A.projectionCache.offsets[_]=k,k;let j=yi(_+O.direction,A,O),$=qf(j.sub(l),E,O.direction),V=l.add($),Q=j.add($);return A.projectionCache.offsets[_]=o.au(b,k,V,Q)||k,A.projectionCache.offsets[_]}function vp(_,a,l,h,g,b,E,A,O){let k=h?_-a:_+a,j=k>0?1:-1,$=0;h&&(j*=-1,$=Math.PI),j<0&&($+=Math.PI);let V,Q=j>0?b+g:b+g+1;A.projectionCache.cachedAnchorPoint?V=A.projectionCache.cachedAnchorPoint:(V=_i(A.tileAnchorPoint.x,A.tileAnchorPoint.y,A).point,A.projectionCache.cachedAnchorPoint=V);let ee,fe,pe=V,he=V,ve=0,we=0,xe=Math.abs(k),Ce=[],ke;for(;ve+we<=xe;){if(Q+=j,Q<b||Q>=E)return null;ve+=we,he=pe,fe=ee;let rt={absOffsetX:xe,direction:j,distanceFromAnchor:ve,previousVertex:he};if(pe=yi(Q,A,rt),l===0)Ce.push(he),ke=pe.sub(he);else{let Ze,Ye=pe.sub(he);Ze=Ye.mag()===0?qf(yi(Q+j,A,rt).sub(pe),l,j):qf(Ye,l,j),fe||(fe=he.add(Ze)),ee=$h(Q,Ze,pe,b,E,fe,l,A,rt),Ce.push(fe),ke=ee.sub(fe)}we=ke.mag()}let Oe=ke._mult((xe-ve)/we)._add(fe||he),Ve=$+Math.atan2(pe.y-he.y,pe.x-he.x);return Ce.push(Oe),{point:Oe,angle:O?Ve:0,path:Ce}}let Gh=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function vu(_,a){for(let l=0;l<_;l++){let h=a.length;a.resize(h+4),a.float32.set(Gh,3*h)}}function yp(_,a,l){let h=a[0],g=a[1];return _[0]=l[0]*h+l[4]*g+l[12],_[1]=l[1]*h+l[5]*g+l[13],_[3]=l[3]*h+l[7]*g+l[15],_}let Li=100;class rs{constructor(a,l=new xt(a.width+200,a.height+200,25),h=new xt(a.width+200,a.height+200,25)){this.transform=a,this.grid=l,this.ignoredGrid=h,this.pitchFactor=Math.cos(a.pitch*Math.PI/180)*a.cameraToCenterDistance,this.screenRightBoundary=a.width+Li,this.screenBottomBoundary=a.height+Li,this.gridRightBoundary=a.width+200,this.gridBottomBoundary=a.height+200,this.perspectiveRatioCutoff=.6}placeCollisionBox(a,l,h,g,b,E,A,O,k,j,$,V){let Q=this.projectAndGetPerspectiveRatio(a.anchorPointX+O[0],a.anchorPointY+O[1],b,j,V),ee=h*Q.perspectiveRatio,fe;if(E||A)fe=this._projectCollisionBox(a,ee,g,b,E,A,O,Q,j,$,V);else{let ke=Q.x+($?$.x*ee:0),Oe=Q.y+($?$.y*ee:0);fe={allPointsOccluded:!1,box:[ke+a.x1*ee,Oe+a.y1*ee,ke+a.x2*ee,Oe+a.y2*ee]}}let[pe,he,ve,we]=fe.box,xe=E?fe.allPointsOccluded:Q.isOccluded,Ce=xe;return Ce||(Ce=Q.perspectiveRatio<this.perspectiveRatioCutoff),Ce||(Ce=!this.isInsideGrid(pe,he,ve,we)),Ce||l!=="always"&&this.grid.hitTest(pe,he,ve,we,l,k)?{box:[pe,he,ve,we],placeable:!1,offscreen:!1,occluded:xe}:{box:[pe,he,ve,we],placeable:!0,offscreen:this.isOffscreen(pe,he,ve,we),occluded:xe}}placeCollisionCircles(a,l,h,g,b,E,A,O,k,j,$,V,Q,ee){let fe=[],pe=new o.P(l.anchorX,l.anchorY),he=this.getPerspectiveRatio(pe.x,pe.y,E,ee),ve=(k?b*this.transform.getPitchedTextCorrection(l.anchorX,l.anchorY,E)/he:b*he)/o.ay,we={getElevation:ee,pitchedLabelPlaneMatrix:A,lineVertexArray:h,pitchWithMap:k,projectionCache:{projections:{},offsets:{},cachedAnchorPoint:void 0,anyProjectionOccluded:!1},transform:this.transform,tileAnchorPoint:pe,unwrappedTileID:E,width:this.transform.width,height:this.transform.height,translation:Q},xe=br(ve,g,l.lineOffsetX*ve,l.lineOffsetY*ve,!1,l,!1,we),Ce=!1,ke=!1,Oe=!0;if(xe){let Ve=.5*$*he+V,rt=new o.P(-100,-100),Ze=new o.P(this.screenRightBoundary,this.screenBottomBoundary),Ye=new Ge,Je=xe.first,Ct=xe.last,Et=[];for(let qr=Je.path.length-1;qr>=1;qr--)Et.push(Je.path[qr]);for(let qr=1;qr<Ct.path.length;qr++)Et.push(Ct.path[qr]);let ht=2.5*Ve;if(k){let qr=this.projectPathToScreenSpace(Et,we);Et=qr.some(on=>on.signedDistanceFromCamera<=0)?[]:qr.map(on=>on.point)}let Kt=[];if(Et.length>0){let qr=Et[0].clone(),on=Et[0].clone();for(let ci=1;ci<Et.length;ci++)qr.x=Math.min(qr.x,Et[ci].x),qr.y=Math.min(qr.y,Et[ci].y),on.x=Math.max(on.x,Et[ci].x),on.y=Math.max(on.y,Et[ci].y);Kt=qr.x>=rt.x&&on.x<=Ze.x&&qr.y>=rt.y&&on.y<=Ze.y?[Et]:on.x<rt.x||qr.x>Ze.x||on.y<rt.y||qr.y>Ze.y?[]:o.av([Et],rt.x,rt.y,Ze.x,Ze.y)}for(let qr of Kt){Ye.reset(qr,.25*Ve);let on=0;on=Ye.length<=.5*Ve?1:Math.ceil(Ye.paddedLength/ht)+1;for(let ci=0;ci<on;ci++){let qn=ci/Math.max(on-1,1),pi=Ye.lerp(qn),fi=pi.x+Li,Bn=pi.y+Li;fe.push(fi,Bn,Ve,0);let gn=fi-Ve,Xi=Bn-Ve,po=fi+Ve,Io=Bn+Ve;if(Oe=Oe&&this.isOffscreen(gn,Xi,po,Io),ke=ke||this.isInsideGrid(gn,Xi,po,Io),a!=="always"&&this.grid.hitTestCircle(fi,Bn,Ve,a,j)&&(Ce=!0,!O))return{circles:[],offscreen:!1,collisionDetected:Ce}}}}return{circles:!O&&Ce||!ke||he<this.perspectiveRatioCutoff?[]:fe,offscreen:Oe,collisionDetected:Ce}}projectPathToScreenSpace(a,l){let h=function(g,b){let E=o.K();return o.an(E,b.pitchedLabelPlaneMatrix),g.map(A=>{let O=Ke(A.x,A.y,E,b.getElevation),k=b.transform.projectTileCoordinates(O.point.x,O.point.y,b.unwrappedTileID,b.getElevation);return k.point.x=(.5*k.point.x+.5)*b.width,k.point.y=(.5*-k.point.y+.5)*b.height,k})}(a,l);return function(g){let b=0,E=0,A=0,O=0;for(let k=0;k<g.length;k++)g[k].isOccluded?(A=k+1,O=0):(O++,O>E&&(E=O,b=A));return g.slice(b,b+E)}(h)}queryRenderedSymbols(a){if(a.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};let l=[],h=1/0,g=1/0,b=-1/0,E=-1/0;for(let j of a){let $=new o.P(j.x+Li,j.y+Li);h=Math.min(h,$.x),g=Math.min(g,$.y),b=Math.max(b,$.x),E=Math.max(E,$.y),l.push($)}let A=this.grid.query(h,g,b,E).concat(this.ignoredGrid.query(h,g,b,E)),O={},k={};for(let j of A){let $=j.key;if(O[$.bucketInstanceId]===void 0&&(O[$.bucketInstanceId]={}),O[$.bucketInstanceId][$.featureIndex])continue;let V=[new o.P(j.x1,j.y1),new o.P(j.x2,j.y1),new o.P(j.x2,j.y2),new o.P(j.x1,j.y2)];o.aw(l,V)&&(O[$.bucketInstanceId][$.featureIndex]=!0,k[$.bucketInstanceId]===void 0&&(k[$.bucketInstanceId]=[]),k[$.bucketInstanceId].push($.featureIndex))}return k}insertCollisionBox(a,l,h,g,b,E){(h?this.ignoredGrid:this.grid).insert({bucketInstanceId:g,featureIndex:b,collisionGroupID:E,overlapMode:l},a[0],a[1],a[2],a[3])}insertCollisionCircles(a,l,h,g,b,E){let A=h?this.ignoredGrid:this.grid,O={bucketInstanceId:g,featureIndex:b,collisionGroupID:E,overlapMode:l};for(let k=0;k<a.length;k+=4)A.insertCircle(O,a[k],a[k+1],a[k+2])}projectAndGetPerspectiveRatio(a,l,h,g,b){if(b){let E;g?(E=[a,l,g(a,l),1],o.at(E,E,b)):(E=[a,l,0,1],yp(E,E,b));let A=E[3];return{x:(E[0]/A+1)/2*this.transform.width+Li,y:(-E[1]/A+1)/2*this.transform.height+Li,perspectiveRatio:.5+this.transform.cameraToCenterDistance/A*.5,isOccluded:!1,signedDistanceFromCamera:A}}{let E=this.transform.projectTileCoordinates(a,l,h,g);return{x:(E.point.x+1)/2*this.transform.width+Li,y:(1-E.point.y)/2*this.transform.height+Li,perspectiveRatio:.5+this.transform.cameraToCenterDistance/E.signedDistanceFromCamera*.5,isOccluded:E.isOccluded,signedDistanceFromCamera:E.signedDistanceFromCamera}}}getPerspectiveRatio(a,l,h,g){let b=this.transform.projectTileCoordinates(a,l,h,g);return .5+this.transform.cameraToCenterDistance/b.signedDistanceFromCamera*.5}isOffscreen(a,l,h,g){return h<Li||a>=this.screenRightBoundary||g<Li||l>this.screenBottomBoundary}isInsideGrid(a,l,h,g){return h>=0&&a<this.gridRightBoundary&&g>=0&&l<this.gridBottomBoundary}getViewportMatrix(){let a=o.ad([]);return o.L(a,a,[-100,-100,0]),a}_projectCollisionBox(a,l,h,g,b,E,A,O,k,j,$){let V=1,Q=0,ee=0,fe=1,pe=a.anchorPointX+A[0],he=a.anchorPointY+A[1];if(E&&!b){let Et=this.projectAndGetPerspectiveRatio(pe+1,he,g,k,$),ht=Et.x-O.x,Kt=Math.atan((Et.y-O.y)/ht)+(ht<0?Math.PI:0),qr=Math.sin(Kt),on=Math.cos(Kt);V=on,Q=qr,ee=-qr,fe=on}else if(!E&&b){let Et=er(this.transform);V=Et.vecEast[0],Q=Et.vecEast[1],ee=Et.vecSouth[0],fe=Et.vecSouth[1]}let ve=O.x,we=O.y,xe=l;b&&(ve=pe,we=he,xe=Math.pow(2,-(this.transform.zoom-h.overscaledZ)),xe*=this.transform.getPitchedTextCorrection(pe,he,g),j||(xe*=o.ae(.5+O.signedDistanceFromCamera/this.transform.cameraToCenterDistance*.5,0,4))),j&&(ve+=V*j.x*xe+ee*j.y*xe,we+=Q*j.x*xe+fe*j.y*xe);let Ce=a.x1*xe,ke=a.x2*xe,Oe=(Ce+ke)/2,Ve=a.y1*xe,rt=a.y2*xe,Ze=(Ve+rt)/2,Ye=[{offsetX:Ce,offsetY:Ve},{offsetX:Oe,offsetY:Ve},{offsetX:ke,offsetY:Ve},{offsetX:ke,offsetY:Ze},{offsetX:ke,offsetY:rt},{offsetX:Oe,offsetY:rt},{offsetX:Ce,offsetY:rt},{offsetX:Ce,offsetY:Ze}],Je=[];for(let{offsetX:Et,offsetY:ht}of Ye)Je.push(new o.P(ve+V*Et+ee*ht,we+Q*Et+fe*ht));let Ct=!1;if(b){let Et=Je.map(ht=>this.projectAndGetPerspectiveRatio(ht.x,ht.y,g,k,$));Ct=Et.some(ht=>!ht.isOccluded),Je=Et.map(ht=>new o.P(ht.x,ht.y))}else Ct=!0;return{box:o.ax(Je),allPointsOccluded:!Ct}}}class ni{constructor(a,l,h,g){this.opacity=a?Math.max(0,Math.min(1,a.opacity+(a.placed?l:-l))):g&&h?1:0,this.placed=h}isHidden(){return this.opacity===0&&!this.placed}}class Hh{constructor(a,l,h,g,b){this.text=new ni(a?a.text:null,l,h,b),this.icon=new ni(a?a.icon:null,l,g,b)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class zf{constructor(a,l,h){this.text=a,this.icon=l,this.skipFade=h}}class P_{constructor(a,l,h,g,b){this.bucketInstanceId=a,this.featureIndex=l,this.sourceLayerIndex=h,this.bucketIndex=g,this.tileID=b}}class _p{constructor(a){this.crossSourceCollisions=a,this.maxGroupID=0,this.collisionGroups={}}get(a){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[a]){let l=++this.maxGroupID;this.collisionGroups[a]={ID:l,predicate:h=>h.collisionGroupID===l}}return this.collisionGroups[a]}}function yu(_,a,l,h,g){let{horizontalAlign:b,verticalAlign:E}=o.aE(_);return new o.P(-(b-.5)*a+h[0]*g,-(E-.5)*l+h[1]*g)}class hE{constructor(a,l,h,g,b){this.transform=a.clone(),this.terrain=l,this.collisionIndex=new rs(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=h,this.retainedQueryData={},this.collisionGroups=new _p(g),this.collisionCircleArrays={},this.collisionBoxArrays=new Map,this.prevPlacement=b,b&&(b.prevPlacement=void 0),this.placedOrientations={}}_getTerrainElevationFunc(a){let l=this.terrain;return l?(h,g)=>l.getElevation(a,h,g):null}getBucketParts(a,l,h,g){let b=h.getBucket(l),E=h.latestFeatureIndex;if(!b||!E||l.id!==b.layerIds[0])return;let A=h.collisionBoxArray,O=b.layers[0].layout,k=b.layers[0].paint,j=Math.pow(2,this.transform.zoom-h.tileID.overscaledZ),$=h.tileSize/o.Z,V=h.tileID.toUnwrapped(),Q=O.get("text-rotation-alignment")==="map",ee=o.az(h,1,this.transform.zoom),fe=o.aA(this.collisionIndex.transform,h,k.get("text-translate"),k.get("text-translate-anchor")),pe=o.aA(this.collisionIndex.transform,h,k.get("icon-translate"),k.get("icon-translate-anchor")),he=Ft(Q,this.transform,ee);this.retainedQueryData[b.bucketInstanceId]=new P_(b.bucketInstanceId,E,b.sourceLayerIndex,b.index,h.tileID);let ve={bucket:b,layout:O,translationText:fe,translationIcon:pe,unwrappedTileID:V,pitchedLabelPlaneMatrix:he,scale:j,textPixelRatio:$,holdingForFade:h.holdingForFade(),collisionBoxArray:A,partiallyEvaluatedTextSize:o.ak(b.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(b.sourceID)};if(g)for(let we of b.sortKeyRanges){let{sortKey:xe,symbolInstanceStart:Ce,symbolInstanceEnd:ke}=we;a.push({sortKey:xe,symbolInstanceStart:Ce,symbolInstanceEnd:ke,parameters:ve})}else a.push({symbolInstanceStart:0,symbolInstanceEnd:b.symbolInstances.length,parameters:ve})}attemptAnchorPlacement(a,l,h,g,b,E,A,O,k,j,$,V,Q,ee,fe,pe,he,ve,we,xe){let Ce=o.aB[a.textAnchor],ke=[a.textOffset0,a.textOffset1],Oe=yu(Ce,h,g,ke,b),Ve=this.collisionIndex.placeCollisionBox(l,V,O,k,j,A,E,pe,$.predicate,we,Oe,xe);if((!ve||this.collisionIndex.placeCollisionBox(ve,V,O,k,j,A,E,he,$.predicate,we,Oe,xe).placeable)&&Ve.placeable){let rt;if(this.prevPlacement&&this.prevPlacement.variableOffsets[Q.crossTileID]&&this.prevPlacement.placements[Q.crossTileID]&&this.prevPlacement.placements[Q.crossTileID].text&&(rt=this.prevPlacement.variableOffsets[Q.crossTileID].anchor),Q.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");return this.variableOffsets[Q.crossTileID]={textOffset:ke,width:h,height:g,anchor:Ce,textBoxScale:b,prevAnchor:rt},this.markUsedJustification(ee,Ce,Q,fe),ee.allowVerticalPlacement&&(this.markUsedOrientation(ee,fe,Q),this.placedOrientations[Q.crossTileID]=fe),{shift:Oe,placedGlyphBoxes:Ve}}}placeLayerBucketPart(a,l,h){let{bucket:g,layout:b,translationText:E,translationIcon:A,unwrappedTileID:O,pitchedLabelPlaneMatrix:k,textPixelRatio:j,holdingForFade:$,collisionBoxArray:V,partiallyEvaluatedTextSize:Q,collisionGroup:ee}=a.parameters,fe=b.get("text-optional"),pe=b.get("icon-optional"),he=o.aC(b,"text-overlap","text-allow-overlap"),ve=he==="always",we=o.aC(b,"icon-overlap","icon-allow-overlap"),xe=we==="always",Ce=b.get("text-rotation-alignment")==="map",ke=b.get("text-pitch-alignment")==="map",Oe=b.get("icon-text-fit")!=="none",Ve=b.get("symbol-z-order")==="viewport-y",rt=ve&&(xe||!g.hasIconData()||pe),Ze=xe&&(ve||!g.hasTextData()||fe);!g.collisionArrays&&V&&g.deserializeCollisionBoxes(V);let Ye=this.retainedQueryData[g.bucketInstanceId].tileID,Je=this._getTerrainElevationFunc(Ye),Ct=this.transform.getFastPathSimpleProjectionMatrix(Ye),Et=(ht,Kt,qr)=>{var on,ci;if(l[ht.crossTileID])return;if($)return void(this.placements[ht.crossTileID]=new zf(!1,!1,!1));let qn=!1,pi=!1,fi=!0,Bn=null,gn={box:null,placeable:!1,offscreen:null,occluded:!1},Xi={placeable:!1},po=null,Io=null,vn=null,hc=0,Dl=0,mc=0;Kt.textFeatureIndex?hc=Kt.textFeatureIndex:ht.useRuntimeCollisionCircles&&(hc=ht.featureIndex),Kt.verticalTextFeatureIndex&&(Dl=Kt.verticalTextFeatureIndex);let Np=Kt.textBox;if(Np){let os=Fi=>{let Bi=o.al.horizontal;if(g.allowVerticalPlacement&&!Fi&&this.prevPlacement){let ta=this.prevPlacement.placedOrientations[ht.crossTileID];ta&&(this.placedOrientations[ht.crossTileID]=ta,Bi=ta,this.markUsedOrientation(g,Bi,ht))}return Bi},vc=(Fi,Bi)=>{if(g.allowVerticalPlacement&&ht.numVerticalGlyphVertices>0&&Kt.verticalTextBox){for(let ta of g.writingModes)if(ta===o.al.vertical?(gn=Bi(),Xi=gn):gn=Fi(),gn&&gn.placeable)break}else gn=Fi()},xu=ht.textAnchorOffsetStartIndex,yc=ht.textAnchorOffsetEndIndex;if(yc===xu){let Fi=(Bi,ta)=>{let Jn=this.collisionIndex.placeCollisionBox(Bi,he,j,Ye,O,ke,Ce,E,ee.predicate,Je,void 0,Ct);return Jn&&Jn.placeable&&(this.markUsedOrientation(g,ta,ht),this.placedOrientations[ht.crossTileID]=ta),Jn};vc(()=>Fi(Np,o.al.horizontal),()=>{let Bi=Kt.verticalTextBox;return g.allowVerticalPlacement&&ht.numVerticalGlyphVertices>0&&Bi?Fi(Bi,o.al.vertical):{box:null,offscreen:null}}),os(gn&&gn.placeable)}else{let Fi=o.aB[(ci=(on=this.prevPlacement)===null||on===void 0?void 0:on.variableOffsets[ht.crossTileID])===null||ci===void 0?void 0:ci.anchor],Bi=(Jn,Xv,oT)=>{let aT=Jn.x2-Jn.x1,p6=Jn.y2-Jn.y1,bb=ht.textBoxScale,Im=Oe&&we==="never"?Xv:null,As=null,Nl=he==="never"?1:2,Ps="never";Fi&&Nl++;for(let wu=0;wu<Nl;wu++){for(let Qv=xu;Qv<yc;Qv++){let _c=g.textAnchorOffsets.get(Qv);if(Fi&&_c.textAnchor!==Fi)continue;let xb=this.attemptAnchorPlacement(_c,Jn,aT,p6,bb,Ce,ke,j,Ye,O,ee,Ps,ht,g,oT,E,A,Im,Je);if(xb&&(As=xb.placedGlyphBoxes,As&&As.placeable))return qn=!0,Bn=xb.shift,As}Fi?Fi=null:Ps=he}return h&&!As&&(As={box:this.collisionIndex.placeCollisionBox(Np,"always",j,Ye,O,ke,Ce,E,ee.predicate,Je,void 0,Ct).box,offscreen:!1,placeable:!1,occluded:!1}),As};vc(()=>Bi(Np,Kt.iconBox,o.al.horizontal),()=>{let Jn=Kt.verticalTextBox;return g.allowVerticalPlacement&&(!gn||!gn.placeable)&&ht.numVerticalGlyphVertices>0&&Jn?Bi(Jn,Kt.verticalIconBox,o.al.vertical):{box:null,occluded:!0,offscreen:null}}),gn&&(qn=gn.placeable,fi=gn.offscreen);let ta=os(gn&&gn.placeable);if(!qn&&this.prevPlacement){let Jn=this.prevPlacement.variableOffsets[ht.crossTileID];Jn&&(this.variableOffsets[ht.crossTileID]=Jn,this.markUsedJustification(g,Jn.anchor,ht,ta))}}}if(po=gn,qn=po&&po.placeable,fi=po&&po.offscreen,ht.useRuntimeCollisionCircles){let os=g.text.placedSymbolArray.get(ht.centerJustifiedTextSymbolIndex),vc=o.am(g.textSizeData,Q,os),xu=b.get("text-padding");Io=this.collisionIndex.placeCollisionCircles(he,os,g.lineVertexArray,g.glyphOffsetArray,vc,O,k,h,ke,ee.predicate,ht.collisionCircleDiameter,xu,E,Je),Io.circles.length&&Io.collisionDetected&&!h&&o.w("Collisions detected, but collision boxes are not shown"),qn=ve||Io.circles.length>0&&!Io.collisionDetected,fi=fi&&Io.offscreen}if(Kt.iconFeatureIndex&&(mc=Kt.iconFeatureIndex),Kt.iconBox){let os=vc=>this.collisionIndex.placeCollisionBox(vc,we,j,Ye,O,ke,Ce,A,ee.predicate,Je,Oe&&Bn?Bn:void 0,Ct);Xi&&Xi.placeable&&Kt.verticalIconBox?(vn=os(Kt.verticalIconBox),pi=vn.placeable):(vn=os(Kt.iconBox),pi=vn.placeable),fi=fi&&vn.offscreen}let Sm=fe||ht.numHorizontalGlyphVertices===0&&ht.numVerticalGlyphVertices===0,gc=pe||ht.numIconVertices===0;Sm||gc?gc?Sm||(pi=pi&&qn):qn=pi&&qn:pi=qn=pi&&qn;let kp=pi&&vn.placeable;if(qn&&po.placeable&&this.collisionIndex.insertCollisionBox(po.box,he,b.get("text-ignore-placement"),g.bucketInstanceId,Xi&&Xi.placeable&&Dl?Dl:hc,ee.ID),kp&&this.collisionIndex.insertCollisionBox(vn.box,we,b.get("icon-ignore-placement"),g.bucketInstanceId,mc,ee.ID),Io&&qn&&this.collisionIndex.insertCollisionCircles(Io.circles,he,b.get("text-ignore-placement"),g.bucketInstanceId,hc,ee.ID),h&&this.storeCollisionData(g.bucketInstanceId,qr,Kt,po,vn,Io),ht.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");if(g.bucketInstanceId===0)throw new Error("bucket.bucketInstanceId can't be 0");this.placements[ht.crossTileID]=new zf((qn||rt)&&!(po!=null&&po.occluded),(pi||Ze)&&!(vn!=null&&vn.occluded),fi||g.justReloaded),l[ht.crossTileID]=!0};if(Ve){if(a.symbolInstanceStart!==0)throw new Error("bucket.bucketInstanceId should be 0");let ht=g.getSortedSymbolIndexes(-this.transform.bearingInRadians);for(let Kt=ht.length-1;Kt>=0;--Kt){let qr=ht[Kt];Et(g.symbolInstances.get(qr),g.collisionArrays[qr],qr)}}else for(let ht=a.symbolInstanceStart;ht<a.symbolInstanceEnd;ht++)Et(g.symbolInstances.get(ht),g.collisionArrays[ht],ht);g.justReloaded=!1}storeCollisionData(a,l,h,g,b,E){if(h.textBox||h.iconBox){let A,O;this.collisionBoxArrays.has(a)?A=this.collisionBoxArrays.get(a):(A=new Map,this.collisionBoxArrays.set(a,A)),A.has(l)?O=A.get(l):(O={text:null,icon:null},A.set(l,O)),h.textBox&&(O.text=g.box),h.iconBox&&(O.icon=b.box)}if(E){let A=this.collisionCircleArrays[a];A===void 0&&(A=this.collisionCircleArrays[a]=[]);for(let O=0;O<E.circles.length;O+=4)A.push(E.circles[O+0]-Li),A.push(E.circles[O+1]-Li),A.push(E.circles[O+2]),A.push(E.collisionDetected?1:0)}}markUsedJustification(a,l,h,g){let b;b=g===o.al.vertical?h.verticalPlacedTextSymbolIndex:{left:h.leftJustifiedTextSymbolIndex,center:h.centerJustifiedTextSymbolIndex,right:h.rightJustifiedTextSymbolIndex}[o.aD(l)];let E=[h.leftJustifiedTextSymbolIndex,h.centerJustifiedTextSymbolIndex,h.rightJustifiedTextSymbolIndex,h.verticalPlacedTextSymbolIndex];for(let A of E)A>=0&&(a.text.placedSymbolArray.get(A).crossTileID=b>=0&&A!==b?0:h.crossTileID)}markUsedOrientation(a,l,h){let g=l===o.al.horizontal||l===o.al.horizontalOnly?l:0,b=l===o.al.vertical?l:0,E=[h.leftJustifiedTextSymbolIndex,h.centerJustifiedTextSymbolIndex,h.rightJustifiedTextSymbolIndex];for(let A of E)a.text.placedSymbolArray.get(A).placedOrientation=g;h.verticalPlacedTextSymbolIndex&&(a.text.placedSymbolArray.get(h.verticalPlacedTextSymbolIndex).placedOrientation=b)}commit(a){this.commitTime=a,this.zoomAtLastRecencyCheck=this.transform.zoom;let l=this.prevPlacement,h=!1;this.prevZoomAdjustment=l?l.zoomAdjustment(this.transform.zoom):0;let g=l?l.symbolFadeChange(a):1,b=l?l.opacities:{},E=l?l.variableOffsets:{},A=l?l.placedOrientations:{};for(let O in this.placements){let k=this.placements[O],j=b[O];j?(this.opacities[O]=new Hh(j,g,k.text,k.icon),h=h||k.text!==j.text.placed||k.icon!==j.icon.placed):(this.opacities[O]=new Hh(null,g,k.text,k.icon,k.skipFade),h=h||k.text||k.icon)}for(let O in b){let k=b[O];if(!this.opacities[O]){let j=new Hh(k,g,!1,!1);j.isHidden()||(this.opacities[O]=j,h=h||k.text.placed||k.icon.placed)}}for(let O in E)this.variableOffsets[O]||!this.opacities[O]||this.opacities[O].isHidden()||(this.variableOffsets[O]=E[O]);for(let O in A)this.placedOrientations[O]||!this.opacities[O]||this.opacities[O].isHidden()||(this.placedOrientations[O]=A[O]);if(l&&l.lastPlacementChangeTime===void 0)throw new Error("Last placement time for previous placement is not defined");h?this.lastPlacementChangeTime=a:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=l?l.lastPlacementChangeTime:a)}updateLayerOpacities(a,l){let h={};for(let g of l){let b=g.getBucket(a);b&&g.latestFeatureIndex&&a.id===b.layerIds[0]&&this.updateBucketOpacities(b,g.tileID,h,g.collisionBoxArray)}}updateBucketOpacities(a,l,h,g){a.hasTextData()&&(a.text.opacityVertexArray.clear(),a.text.hasVisibleVertices=!1),a.hasIconData()&&(a.icon.opacityVertexArray.clear(),a.icon.hasVisibleVertices=!1),a.hasIconCollisionBoxData()&&a.iconCollisionBox.collisionVertexArray.clear(),a.hasTextCollisionBoxData()&&a.textCollisionBox.collisionVertexArray.clear();let b=a.layers[0],E=b.layout,A=new Hh(null,0,!1,!1,!0),O=E.get("text-allow-overlap"),k=E.get("icon-allow-overlap"),j=b._unevaluatedLayout.hasValue("text-variable-anchor")||b._unevaluatedLayout.hasValue("text-variable-anchor-offset"),$=E.get("text-rotation-alignment")==="map",V=E.get("text-pitch-alignment")==="map",Q=E.get("icon-text-fit")!=="none",ee=new Hh(null,0,O&&(k||!a.hasIconData()||E.get("icon-optional")),k&&(O||!a.hasTextData()||E.get("text-optional")),!0);!a.collisionArrays&&g&&(a.hasIconCollisionBoxData()||a.hasTextCollisionBoxData())&&a.deserializeCollisionBoxes(g);let fe=(he,ve,we)=>{for(let xe=0;xe<ve/4;xe++)he.opacityVertexArray.emplaceBack(we);he.hasVisibleVertices=he.hasVisibleVertices||we!==bp},pe=this.collisionBoxArrays.get(a.bucketInstanceId);for(let he=0;he<a.symbolInstances.length;he++){let ve=a.symbolInstances.get(he),{numHorizontalGlyphVertices:we,numVerticalGlyphVertices:xe,crossTileID:Ce}=ve,ke=this.opacities[Ce];h[Ce]?ke=A:ke||(ke=ee,this.opacities[Ce]=ke),h[Ce]=!0;let Oe=ve.numIconVertices>0,Ve=this.placedOrientations[ve.crossTileID],rt=Ve===o.al.vertical,Ze=Ve===o.al.horizontal||Ve===o.al.horizontalOnly;if(we>0||xe>0){let Je=D_(ke.text);fe(a.text,we,rt?bp:Je),fe(a.text,xe,Ze?bp:Je);let Ct=ke.text.isHidden();[ve.rightJustifiedTextSymbolIndex,ve.centerJustifiedTextSymbolIndex,ve.leftJustifiedTextSymbolIndex].forEach(Kt=>{Kt>=0&&(a.text.placedSymbolArray.get(Kt).hidden=Ct||rt?1:0)}),ve.verticalPlacedTextSymbolIndex>=0&&(a.text.placedSymbolArray.get(ve.verticalPlacedTextSymbolIndex).hidden=Ct||Ze?1:0);let Et=this.variableOffsets[ve.crossTileID];Et&&this.markUsedJustification(a,Et.anchor,ve,Ve);let ht=this.placedOrientations[ve.crossTileID];ht&&(this.markUsedJustification(a,"left",ve,ht),this.markUsedOrientation(a,ht,ve))}if(Oe){let Je=D_(ke.icon),Ct=!(Q&&ve.verticalPlacedIconSymbolIndex&&rt);ve.placedIconSymbolIndex>=0&&(fe(a.icon,ve.numIconVertices,Ct?Je:bp),a.icon.placedSymbolArray.get(ve.placedIconSymbolIndex).hidden=ke.icon.isHidden()),ve.verticalPlacedIconSymbolIndex>=0&&(fe(a.icon,ve.numVerticalIconVertices,Ct?bp:Je),a.icon.placedSymbolArray.get(ve.verticalPlacedIconSymbolIndex).hidden=ke.icon.isHidden())}let Ye=pe&&pe.has(he)?pe.get(he):{text:null,icon:null};if(a.hasIconCollisionBoxData()||a.hasTextCollisionBoxData()){let Je=a.collisionArrays[he];if(Je){let Ct=new o.P(0,0);if(Je.textBox||Je.verticalTextBox){let Et=!0;if(j){let ht=this.variableOffsets[Ce];ht?(Ct=yu(ht.anchor,ht.width,ht.height,ht.textOffset,ht.textBoxScale),$&&Ct._rotate(V?-this.transform.bearingInRadians:this.transform.bearingInRadians)):Et=!1}if(Je.textBox||Je.verticalTextBox){let ht;Je.textBox&&(ht=rt),Je.verticalTextBox&&(ht=Ze),O_(a.textCollisionBox.collisionVertexArray,ke.text.placed,!Et||ht,Ye.text,Ct.x,Ct.y)}}if(Je.iconBox||Je.verticalIconBox){let Et=!!(!Ze&&Je.verticalIconBox),ht;Je.iconBox&&(ht=Et),Je.verticalIconBox&&(ht=!Et),O_(a.iconCollisionBox.collisionVertexArray,ke.icon.placed,ht,Ye.icon,Q?Ct.x:0,Q?Ct.y:0)}}}}if(a.sortFeatures(-this.transform.bearingInRadians),this.retainedQueryData[a.bucketInstanceId]&&(this.retainedQueryData[a.bucketInstanceId].featureSortOrder=a.featureSortOrder),a.hasTextData()&&a.text.opacityVertexBuffer&&a.text.opacityVertexBuffer.updateData(a.text.opacityVertexArray),a.hasIconData()&&a.icon.opacityVertexBuffer&&a.icon.opacityVertexBuffer.updateData(a.icon.opacityVertexArray),a.hasIconCollisionBoxData()&&a.iconCollisionBox.collisionVertexBuffer&&a.iconCollisionBox.collisionVertexBuffer.updateData(a.iconCollisionBox.collisionVertexArray),a.hasTextCollisionBoxData()&&a.textCollisionBox.collisionVertexBuffer&&a.textCollisionBox.collisionVertexBuffer.updateData(a.textCollisionBox.collisionVertexArray),a.text.opacityVertexArray.length!==a.text.layoutVertexArray.length/4)throw new Error(`bucket.text.opacityVertexArray.length (= ${a.text.opacityVertexArray.length}) !== bucket.text.layoutVertexArray.length (= ${a.text.layoutVertexArray.length}) / 4`);if(a.icon.opacityVertexArray.length!==a.icon.layoutVertexArray.length/4)throw new Error(`bucket.icon.opacityVertexArray.length (= ${a.icon.opacityVertexArray.length}) !== bucket.icon.layoutVertexArray.length (= ${a.icon.layoutVertexArray.length}) / 4`);a.bucketInstanceId in this.collisionCircleArrays&&(a.collisionCircleArray=this.collisionCircleArrays[a.bucketInstanceId],delete this.collisionCircleArrays[a.bucketInstanceId])}symbolFadeChange(a){return this.fadeDuration===0?1:(a-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(a){return Math.max(0,(this.transform.zoom-a)/1.5)}hasTransitions(a){return this.stale||a-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(a,l){let h=this.zoomAtLastRecencyCheck===l?1-this.zoomAdjustment(l):1;return this.zoomAtLastRecencyCheck=l,this.commitTime+this.fadeDuration*h>a}setStale(){this.stale=!0}}function O_(_,a,l,h,g,b){h&&h.length!==0||(h=[0,0,0,0]);let E=h[0]-Li,A=h[1]-Li,O=h[2]-Li,k=h[3]-Li;_.emplaceBack(a?1:0,l?1:0,g||0,b||0,E,A),_.emplaceBack(a?1:0,l?1:0,g||0,b||0,O,A),_.emplaceBack(a?1:0,l?1:0,g||0,b||0,O,k),_.emplaceBack(a?1:0,l?1:0,g||0,b||0,E,k)}let mE=Math.pow(2,25),jf=Math.pow(2,24),gE=Math.pow(2,17),zk=Math.pow(2,16),jk=Math.pow(2,9),Fk=Math.pow(2,8),vE=Math.pow(2,1);function D_(_){if(_.opacity===0&&!_.placed)return 0;if(_.opacity===1&&_.placed)return 4294967295;let a=_.placed?1:0,l=Math.floor(127*_.opacity);return l*mE+a*jf+l*gE+a*zk+l*jk+a*Fk+l*vE+a}let bp=0;class N_{constructor(a){this._sortAcrossTiles=a.layout.get("symbol-z-order")!=="viewport-y"&&!a.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(a,l,h,g,b){let E=this._bucketParts;for(;this._currentTileIndex<a.length;)if(l.getBucketParts(E,g,a[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,b())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,E.sort((A,O)=>A.sortKey-O.sortKey));this._currentPartIndex<E.length;)if(l.placeLayerBucketPart(E[this._currentPartIndex],this._seenCrossTileIDs,h),this._currentPartIndex++,b())return!0;return!1}}class yE{constructor(a,l,h,g,b,E,A,O){this.placement=new hE(a,l,E,A,O),this._currentPlacementIndex=h.length-1,this._forceFullPlacement=g,this._showCollisionBoxes=b,this._done=!1}isDone(){return this._done}continuePlacement(a,l,h){let g=w.now(),b=()=>!this._forceFullPlacement&&w.now()-g>2;for(;this._currentPlacementIndex>=0;){let E=l[a[this._currentPlacementIndex]],A=this.placement.collisionIndex.transform.zoom;if(E.type==="symbol"&&(!E.minzoom||E.minzoom<=A)&&(!E.maxzoom||E.maxzoom>A)){if(this._inProgressLayer||(this._inProgressLayer=new N_(E)),this._inProgressLayer.continuePlacement(h[E.source],this.placement,this._showCollisionBoxes,E,b))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(a){return this.placement.commit(a),this.placement}}let xp=512/o.Z/2;class k_{constructor(a,l,h){this.tileID=a,this.bucketInstanceId=h,this._symbolsByKey={};let g=new Map;for(let b=0;b<l.length;b++){let E=l.get(b),A=E.key,O=g.get(A);O?O.push(E):g.set(A,[E])}for(let[b,E]of g){let A={positions:E.map(O=>({x:Math.floor(O.anchorX*xp),y:Math.floor(O.anchorY*xp)})),crossTileIDs:E.map(O=>O.crossTileID)};if(A.positions.length>128){let O=new o.aF(A.positions.length,16,Uint16Array);for(let{x:k,y:j}of A.positions)O.add(k,j);O.finish(),delete A.positions,A.index=O}this._symbolsByKey[b]=A}}getScaledCoordinates(a,l){let{x:h,y:g,z:b}=this.tileID.canonical,{x:E,y:A,z:O}=l.canonical,k=xp/Math.pow(2,O-b),j=(A*o.Z+a.anchorY)*k,$=g*o.Z*xp;return{x:Math.floor((E*o.Z+a.anchorX)*k-h*o.Z*xp),y:Math.floor(j-$)}}findMatches(a,l,h){let g=this.tileID.canonical.z<l.canonical.z?1:Math.pow(2,this.tileID.canonical.z-l.canonical.z);for(let b=0;b<a.length;b++){let E=a.get(b);if(E.crossTileID)continue;let A=this._symbolsByKey[E.key];if(!A)continue;let O=this.getScaledCoordinates(E,l);if(A.index){let k=A.index.range(O.x-g,O.y-g,O.x+g,O.y+g).sort();for(let j of k){let $=A.crossTileIDs[j];if(!h[$]){h[$]=!0,E.crossTileID=$;break}}}else if(A.positions)for(let k=0;k<A.positions.length;k++){let j=A.positions[k],$=A.crossTileIDs[k];if(Math.abs(j.x-O.x)<=g&&Math.abs(j.y-O.y)<=g&&!h[$]){h[$]=!0,E.crossTileID=$;break}}}}getCrossTileIDsLists(){return Object.values(this._symbolsByKey).map(({crossTileIDs:a})=>a)}}class Bk{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class Wh{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(a){let l=Math.round((a-this.lng)/360);if(l!==0)for(let h in this.indexes){let g=this.indexes[h],b={};for(let E in g){let A=g[E];A.tileID=A.tileID.unwrapTo(A.tileID.wrap+l),b[A.tileID.key]=A}this.indexes[h]=b}this.lng=a}addBucket(a,l,h){if(this.indexes[a.overscaledZ]&&this.indexes[a.overscaledZ][a.key]){if(this.indexes[a.overscaledZ][a.key].bucketInstanceId===l.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(a.overscaledZ,this.indexes[a.overscaledZ][a.key])}for(let b=0;b<l.symbolInstances.length;b++)l.symbolInstances.get(b).crossTileID=0;this.usedCrossTileIDs[a.overscaledZ]||(this.usedCrossTileIDs[a.overscaledZ]={});let g=this.usedCrossTileIDs[a.overscaledZ];for(let b in this.indexes){let E=this.indexes[b];if(Number(b)>a.overscaledZ)for(let A in E){let O=E[A];O.tileID.isChildOf(a)&&O.findMatches(l.symbolInstances,a,g)}else{let A=E[a.scaledTo(Number(b)).key];A&&A.findMatches(l.symbolInstances,a,g)}}for(let b=0;b<l.symbolInstances.length;b++){let E=l.symbolInstances.get(b);E.crossTileID||(E.crossTileID=h.generate(),g[E.crossTileID]=!0)}return this.indexes[a.overscaledZ]===void 0&&(this.indexes[a.overscaledZ]={}),this.indexes[a.overscaledZ][a.key]=new k_(a,l.symbolInstances,l.bucketInstanceId),!0}removeBucketCrossTileIDs(a,l){for(let h of l.getCrossTileIDsLists())for(let g of h)delete this.usedCrossTileIDs[a][g]}removeStaleBuckets(a){let l=!1;for(let h in this.indexes){let g=this.indexes[h];for(let b in g)a[g[b].bucketInstanceId]||(this.removeBucketCrossTileIDs(h,g[b]),delete g[b],l=!0)}return l}}class Zh{constructor(){this.layerIndexes={},this.crossTileIDs=new Bk,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(a,l,h){let g=this.layerIndexes[a.id];g===void 0&&(g=this.layerIndexes[a.id]=new Wh);let b=!1,E={};g.handleWrapJump(h);for(let A of l){let O=A.getBucket(a);O&&a.id===O.layerIds[0]&&(O.bucketInstanceId||(O.bucketInstanceId=++this.maxBucketInstanceId),g.addBucket(A.tileID,O,this.crossTileIDs)&&(b=!0),E[O.bucketInstanceId]=!0)}return g.removeStaleBuckets(E)&&(b=!0),b}pruneUnusedLayers(a){let l={};a.forEach(h=>{l[h]=!0});for(let h in this.layerIndexes)l[h]||delete this.layerIndexes[h]}}var L_="void main() {fragColor=vec4(1.0);}";let Xo={prelude:un(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
out highp vec4 fragColor;`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}mat3 rotationMatrixFromAxisAngle(vec3 u,float angle) {float c=cos(angle);float s=sin(angle);float c2=1.0-c;return mat3(u.x*u.x*c2+      c,u.x*u.y*c2-u.z*s,u.x*u.z*c2+u.y*s,u.y*u.x*c2+u.z*s,u.y*u.y*c2+    c,u.y*u.z*c2-u.x*s,u.z*u.x*c2-u.y*s,u.z*u.y*c2+u.x*s,u.z*u.z*c2+    c
);}
#ifdef TERRAIN3D
uniform sampler2D u_terrain;uniform float u_terrain_dim;uniform mat4 u_terrain_matrix;uniform vec4 u_terrain_unpack;uniform float u_terrain_exaggeration;uniform highp sampler2D u_depth;
#endif
const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitShifts=vec4(1.)/bitSh;highp float unpack(highp vec4 color) {return dot(color,bitShifts);}highp float depthOpacity(vec3 frag) {
#ifdef TERRAIN3D
highp float d=unpack(texture(u_depth,frag.xy*0.5+0.5))+0.0001-frag.z;return 1.0-max(0.0,min(1.0,-d*500.0));
#else
return 1.0;
#endif
}float calculate_visibility(vec4 pos) {
#ifdef TERRAIN3D
vec3 frag=pos.xyz/pos.w;highp float d=depthOpacity(frag);if (d > 0.95) return 1.0;return (d+depthOpacity(frag+vec3(0.0,0.01,0.0)))/2.0;
#else
return 1.0;
#endif
}float ele(vec2 pos) {
#ifdef TERRAIN3D
vec4 rgb=(texture(u_terrain,pos)*255.0)*u_terrain_unpack;return rgb.r+rgb.g+rgb.b-u_terrain_unpack.a;
#else
return 0.0;
#endif
}float get_elevation(vec2 pos) {
#ifdef TERRAIN3D
#ifdef GLOBE
if ((pos.y <-32767.5) || (pos.y > 32766.5)) {return 0.0;}
#endif
vec2 coord=(u_terrain_matrix*vec4(pos,0.0,1.0)).xy*u_terrain_dim+1.0;vec2 f=fract(coord);vec2 c=(floor(coord)+0.5)/(u_terrain_dim+2.0);float d=1.0/(u_terrain_dim+2.0);float tl=ele(c);float tr=ele(c+vec2(d,0.0));float bl=ele(c+vec2(0.0,d));float br=ele(c+vec2(d,d));float elevation=mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);return elevation*u_terrain_exaggeration;
#else
return 0.0;
#endif
}const float PI=3.141592653589793;uniform mat4 u_projection_matrix;`),projectionMercator:un("","float projectLineThickness(float tileY) {return 1.0;}float projectCircleRadius(float tileY) {return 1.0;}vec4 projectTile(vec2 p) {vec4 result=u_projection_matrix*vec4(p,0.0,1.0);return result;}vec4 projectTile(vec2 p,vec2 rawPos) {vec4 result=u_projection_matrix*vec4(p,0.0,1.0);if (rawPos.y <-32767.5 || rawPos.y > 32766.5) {result.z=-10000000.0;}return result;}vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return u_projection_matrix*vec4(posInTile,elevation,1.0);}vec4 projectTileFor3D(vec2 posInTile,float elevation) {return projectTileWithElevation(posInTile,elevation);}"),projectionGlobe:un("",`#define GLOBE_RADIUS 6371008.8
uniform highp vec4 u_projection_tile_mercator_coords;uniform highp vec4 u_projection_clipping_plane;uniform highp float u_projection_transition;uniform mat4 u_projection_fallback_matrix;vec3 globeRotateVector(vec3 vec,vec2 angles) {vec3 axisRight=vec3(vec.z,0.0,-vec.x);vec3 axisUp=cross(axisRight,vec);axisRight=normalize(axisRight);axisUp=normalize(axisUp);vec2 t=tan(angles);return normalize(vec+axisRight*t.x+axisUp*t.y);}mat3 globeGetRotationMatrix(vec3 spherePos) {vec3 axisRight=vec3(spherePos.z,0.0,-spherePos.x);vec3 axisDown=cross(axisRight,spherePos);axisRight=normalize(axisRight);axisDown=normalize(axisDown);return mat3(axisRight,axisDown,spherePos
);}float circumferenceRatioAtTileY(float tileY) {float mercator_pos_y=u_projection_tile_mercator_coords.y+u_projection_tile_mercator_coords.w*tileY;float spherical_y=2.0*atan(exp(PI-(mercator_pos_y*PI*2.0)))-PI*0.5;return cos(spherical_y);}float projectLineThickness(float tileY) {float thickness=1.0/circumferenceRatioAtTileY(tileY); 
if (u_projection_transition < 0.999) {return mix(1.0,thickness,u_projection_transition);} else {return thickness;}}vec3 projectToSphere(vec2 translatedPos,vec2 rawPos) {vec2 mercator_pos=u_projection_tile_mercator_coords.xy+u_projection_tile_mercator_coords.zw*translatedPos;vec2 spherical;spherical.x=mercator_pos.x*PI*2.0+PI;spherical.y=2.0*atan(exp(PI-(mercator_pos.y*PI*2.0)))-PI*0.5;float len=cos(spherical.y);vec3 pos=vec3(sin(spherical.x)*len,sin(spherical.y),cos(spherical.x)*len
);if (rawPos.y <-32767.5) {pos=vec3(0.0,1.0,0.0);}if (rawPos.y > 32766.5) {pos=vec3(0.0,-1.0,0.0);}return pos;}vec3 projectToSphere(vec2 posInTile) {return projectToSphere(posInTile,vec2(0.0,0.0));}float globeComputeClippingZ(vec3 spherePos) {return (1.0-(dot(spherePos,u_projection_clipping_plane.xyz)+u_projection_clipping_plane.w));}vec4 interpolateProjection(vec2 posInTile,vec3 spherePos,float elevation) {vec3 elevatedPos=spherePos*(1.0+elevation/GLOBE_RADIUS);vec4 globePosition=u_projection_matrix*vec4(elevatedPos,1.0);globePosition.z=globeComputeClippingZ(elevatedPos)*globePosition.w;if (u_projection_transition > 0.999) {return globePosition;}vec4 flatPosition=u_projection_fallback_matrix*vec4(posInTile,elevation,1.0);const float z_globeness_threshold=0.2;vec4 result=globePosition;result.z=mix(0.0,globePosition.z,clamp((u_projection_transition-z_globeness_threshold)/(1.0-z_globeness_threshold),0.0,1.0));result.xyw=mix(flatPosition.xyw,globePosition.xyw,u_projection_transition);if ((posInTile.y <-32767.5) || (posInTile.y > 32766.5)) {result=globePosition;const float poles_hidden_anim_percentage=0.02;result.z=mix(globePosition.z,100.0,pow(max((1.0-u_projection_transition)/poles_hidden_anim_percentage,0.0),8.0));}return result;}vec4 interpolateProjectionFor3D(vec2 posInTile,vec3 spherePos,float elevation) {vec3 elevatedPos=spherePos*(1.0+elevation/GLOBE_RADIUS);vec4 globePosition=u_projection_matrix*vec4(elevatedPos,1.0);if (u_projection_transition > 0.999) {return globePosition;}vec4 fallbackPosition=u_projection_fallback_matrix*vec4(posInTile,elevation,1.0);return mix(fallbackPosition,globePosition,u_projection_transition);}vec4 projectTile(vec2 posInTile) {return interpolateProjection(posInTile,projectToSphere(posInTile),0.0);}vec4 projectTile(vec2 posInTile,vec2 rawPos) {return interpolateProjection(posInTile,projectToSphere(posInTile,rawPos),0.0);}vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return interpolateProjection(posInTile,projectToSphere(posInTile),elevation);}vec4 projectTileFor3D(vec2 posInTile,float elevation) {vec3 spherePos=projectToSphere(posInTile,posInTile);return interpolateProjectionFor3D(posInTile,spherePos,elevation);}`),background:un(`uniform vec4 u_color;uniform float u_opacity;void main() {fragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"in vec2 a_pos;void main() {gl_Position=projectTile(a_pos);}"),backgroundPattern:un(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;in vec2 v_pos_a;in vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);fragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;in vec2 a_pos;out vec2 v_pos_a;out vec2 v_pos_b;void main() {gl_Position=projectTile(a_pos);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),circle:un(`in vec3 v_data;in float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);float antialiased_blur=v_data.z;float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));fragColor=v_visibility*opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);const float epsilon=0.5/255.0;if (fragColor.r < epsilon && fragColor.g < epsilon && fragColor.b < epsilon && fragColor.a < epsilon) {discard;}
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform highp float u_globe_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;uniform vec2 u_translate;in vec2 a_pos;out vec3 v_data;out float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 pos_raw=a_pos+32768.0;vec2 extrude=vec2(mod(pos_raw,8.0)/7.0*2.0-1.0);vec2 circle_center=floor(pos_raw/8.0)+u_translate;float ele=get_elevation(circle_center);v_visibility=calculate_visibility(projectTileWithElevation(circle_center,ele));if (u_pitch_with_map) {
#ifdef GLOBE
vec3 center_vector=projectToSphere(circle_center);
#endif
float angle_scale=u_globe_extrude_scale;vec2 corner_position=circle_center;if (u_scale_with_map) {angle_scale*=(radius+stroke_width);corner_position+=extrude*u_extrude_scale*(radius+stroke_width);} else {
#ifdef GLOBE
vec4 projected_center=interpolateProjection(circle_center,center_vector,ele);
#else
vec4 projected_center=projectTileWithElevation(circle_center,ele);
#endif
corner_position+=extrude*u_extrude_scale*(radius+stroke_width)*(projected_center.w/u_camera_to_center_distance);angle_scale*=(radius+stroke_width)*(projected_center.w/u_camera_to_center_distance);}
#ifdef GLOBE
vec2 angles=extrude*angle_scale;vec3 corner_vector=globeRotateVector(center_vector,angles);gl_Position=interpolateProjection(corner_position,corner_vector,ele);
#else
gl_Position=projectTileWithElevation(corner_position,ele);
#endif
} else {gl_Position=projectTileWithElevation(circle_center,ele);if (gl_Position.z/gl_Position.w > 1.0) {gl_Position.xy=vec2(10000.0);}if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}float antialiasblur=-max(1.0/u_device_pixel_ratio/(radius+stroke_width),blur);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),clippingMask:un(L_,"in vec2 a_pos;void main() {gl_Position=projectTile(a_pos);}"),heatmap:un(`uniform highp float u_intensity;in vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);fragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;uniform highp float u_globe_extrude_scale;in vec2 a_pos;out vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 pos_raw=a_pos+32768.0;vec2 unscaled_extrude=vec2(mod(pos_raw,8.0)/7.0*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec2 circle_center=floor(pos_raw/8.0);
#ifdef GLOBE
vec2 angles=v_extrude*radius*u_globe_extrude_scale;vec3 center_vector=projectToSphere(circle_center);vec3 corner_vector=globeRotateVector(center_vector,angles);gl_Position=interpolateProjection(circle_center+extrude,corner_vector,0.0);
#else
gl_Position=projectTileFor3D(circle_center+extrude,get_elevation(circle_center));
#endif
}`),heatmapTexture:un(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;in vec2 v_pos;void main() {float t=texture(u_image,v_pos).r;vec4 color=texture(u_color_ramp,vec2(t,0.5));fragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;in vec2 a_pos;out vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),collisionBox:un("in float v_placed;in float v_notUsed;void main() {float alpha=0.5;fragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {fragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {fragColor*=.1;}}","in vec2 a_anchor_pos;in vec2 a_placed;in vec2 a_box_real;uniform vec2 u_pixel_extrude_scale;out float v_placed;out float v_notUsed;void main() {gl_Position=projectTileWithElevation(a_anchor_pos,get_elevation(a_anchor_pos));gl_Position.xy=((a_box_real+0.5)*u_pixel_extrude_scale*2.0-1.0)*vec2(1.0,-1.0)*gl_Position.w;if (gl_Position.z/gl_Position.w < 1.1) {gl_Position.z=0.5;}v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:un("in float v_radius;in vec2 v_extrude;in float v_collision;void main() {float alpha=0.5;float stroke_radius=0.9;float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);fragColor=color*alpha*opacity_t;}","in vec2 a_pos;in float a_radius;in vec2 a_flags;uniform vec2 u_viewport_size;out float v_radius;out vec2 v_extrude;out float v_collision;void main() {float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_collision=collision;gl_Position=vec4((a_pos/u_viewport_size*2.0-1.0)*vec2(1.0,-1.0),0.0,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:un("uniform highp vec4 u_color;uniform sampler2D u_overlay;in vec2 v_uv;void main() {vec4 overlay_color=texture(u_overlay,v_uv);fragColor=mix(u_color,overlay_color,overlay_color.a);}","in vec2 a_pos;out vec2 v_uv;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=projectTileWithElevation(a_pos*u_overlay_scale,get_elevation(a_pos));}"),depth:un(L_,`in vec2 a_pos;void main() {
#ifdef GLOBE
gl_Position=projectTileFor3D(a_pos,0.0);
#else
gl_Position=u_projection_matrix*vec4(a_pos,0.0,1.0);
#endif
}`),fill:un(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
fragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_fill_translate;in vec2 a_pos;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=projectTile(a_pos+u_fill_translate,a_pos);}`),fillOutline:un(`in vec2 v_pos;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);fragColor=outline_color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_world;uniform vec2 u_fill_translate;in vec2 a_pos;out vec2 v_pos;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=projectTile(a_pos+u_fill_translate,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
}`),fillOutlinePattern:un(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;in vec2 v_pos_a;in vec2 v_pos_b;in vec2 v_pos;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);fragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;uniform vec2 u_fill_translate;in vec2 a_pos;out vec2 v_pos_a;out vec2 v_pos_b;out vec2 v_pos;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=projectTile(a_pos+u_fill_translate,a_pos);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
}`),fillPattern:un(`#ifdef GL_ES
precision highp float;
#endif
uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;in vec2 v_pos_a;in vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);fragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;uniform vec2 u_fill_translate;in vec2 a_pos;out vec2 v_pos_a;out vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=projectTile(a_pos+u_fill_translate,a_pos);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),fillExtrusion:un(`in vec4 v_color;void main() {fragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp vec3 u_lightpos_globe;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec2 u_fill_translate;in vec2 a_pos;in vec4 a_normal_ed;
#ifdef TERRAIN3D
in vec2 a_centroid;
#endif
out vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float elevation=t > 0.0 ? height : base;vec2 posInTile=a_pos+u_fill_translate;
#ifdef GLOBE
vec3 spherePos=projectToSphere(posInTile,a_pos);gl_Position=interpolateProjectionFor3D(posInTile,spherePos,elevation);
#else
gl_Position=u_projection_matrix*vec4(posInTile,elevation,1.0);
#endif
float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;vec3 normalForLighting=normal/16384.0;float directional=clamp(dot(normalForLighting,u_lightpos),0.0,1.0);
#ifdef GLOBE
mat3 rotMatrix=globeGetRotationMatrix(spherePos);normalForLighting=rotMatrix*normalForLighting;directional=mix(directional,clamp(dot(normalForLighting,u_lightpos_globe),0.0,1.0),u_projection_transition);
#endif
directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),fillExtrusionPattern:un(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;in vec2 v_pos_a;in vec2 v_pos_b;in vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);fragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec2 u_fill_translate;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp vec3 u_lightpos_globe;uniform lowp float u_lightintensity;in vec2 a_pos;in vec4 a_normal_ed;
#ifdef TERRAIN3D
in vec2 a_centroid;
#endif
#ifdef GLOBE
out vec3 v_sphere_pos;
#endif
out vec2 v_pos_a;out vec2 v_pos_b;out vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float elevation=t > 0.0 ? height : base;vec2 posInTile=a_pos+u_fill_translate;
#ifdef GLOBE
vec3 spherePos=projectToSphere(posInTile,a_pos);vec3 elevatedPos=spherePos*(1.0+elevation/GLOBE_RADIUS);v_sphere_pos=elevatedPos;gl_Position=interpolateProjectionFor3D(posInTile,spherePos,elevation);
#else
gl_Position=u_projection_matrix*vec4(posInTile,elevation,1.0);
#endif
vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,elevation*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),hillshadePrepare:un(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;in vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack);}void main() {vec2 epsilon=1.0/u_dimension;float tileSize=u_dimension.x-2.0;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))*tileSize/pow(2.0,exaggeration+(28.2562-u_zoom));fragColor=clamp(vec4(deriv.x/8.0+0.5,deriv.y/8.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;in vec2 a_pos;in vec2 a_texture_pos;out vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:un(`uniform sampler2D u_image;in vec2 v_pos;uniform vec2 u_latrange;uniform float u_exaggeration;uniform vec4 u_accent;uniform int u_method;uniform float u_altitudes[NUM_ILLUMINATION_SOURCES];uniform float u_azimuths[NUM_ILLUMINATION_SOURCES];uniform vec4 u_shadows[NUM_ILLUMINATION_SOURCES];uniform vec4 u_highlights[NUM_ILLUMINATION_SOURCES];
#define PI 3.141592653589793
#define STANDARD 0
#define COMBINED 1
#define IGOR 2
#define MULTIDIRECTIONAL 3
#define BASIC 4
float get_aspect(vec2 deriv){return deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);}void igor_hillshade(vec2 deriv){deriv=deriv*u_exaggeration*2.0;float aspect=get_aspect(deriv);float azimuth=u_azimuths[0]+PI;float slope_stength=atan(length(deriv))*2.0/PI;float aspect_strength=1.0-abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);float shadow_strength=slope_stength*aspect_strength;float highlight_strength=slope_stength*(1.0-aspect_strength);fragColor=u_shadows[0]*shadow_strength+u_highlights[0]*highlight_strength;}void standard_hillshade(vec2 deriv){float azimuth=u_azimuths[0]+PI;float slope=atan(0.625*length(deriv));float aspect=get_aspect(deriv);float intensity=u_exaggeration;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadows[0],u_highlights[0],shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);fragColor=accent_color*(1.0-shade_color.a)+shade_color;}void basic_hillshade(vec2 deriv){deriv=deriv*u_exaggeration*2.0;float azimuth=u_azimuths[0]+PI;float cos_az=cos(azimuth);float sin_az=sin(azimuth);float cos_alt=cos(u_altitudes[0]);float sin_alt=sin(u_altitudes[0]);float cang=(sin_alt-(deriv.y*cos_az*cos_alt-deriv.x*sin_az*cos_alt))/sqrt(1.0+dot(deriv,deriv));float shade=clamp(cang,0.0,1.0);if(shade > 0.5){fragColor=u_highlights[0]*(2.0*shade-1.0);}else
{fragColor=u_shadows[0]*(1.0-2.0*shade);}}void multidirectional_hillshade(vec2 deriv){deriv=deriv*u_exaggeration*2.0;fragColor=vec4(0,0,0,0);for(int i=0; i < NUM_ILLUMINATION_SOURCES; i++){float cos_alt=cos(u_altitudes[i]);float sin_alt=sin(u_altitudes[i]);float cos_az=-cos(u_azimuths[i]);float sin_az=-sin(u_azimuths[i]);float cang=(sin_alt-(deriv.y*cos_az*cos_alt-deriv.x*sin_az*cos_alt))/sqrt(1.0+dot(deriv,deriv));float shade=clamp(cang,0.0,1.0);if(shade > 0.5){fragColor+=u_highlights[i]*(2.0*shade-1.0)/float(NUM_ILLUMINATION_SOURCES);}else
{fragColor+=u_shadows[i]*(1.0-2.0*shade)/float(NUM_ILLUMINATION_SOURCES);}}}void combined_hillshade(vec2 deriv){deriv=deriv*u_exaggeration*2.0;float azimuth=u_azimuths[0]+PI;float cos_az=cos(azimuth);float sin_az=sin(azimuth);float cos_alt=cos(u_altitudes[0]);float sin_alt=sin(u_altitudes[0]);float cang=acos((sin_alt-(deriv.y*cos_az*cos_alt-deriv.x*sin_az*cos_alt))/sqrt(1.0+dot(deriv,deriv)));cang=clamp(cang,0.0,PI/2.0);float shade=cang*atan(length(deriv))*4.0/PI/PI;float highlight=(PI/2.0-cang)*atan(length(deriv))*4.0/PI/PI;fragColor=u_shadows[0]*shade+u_highlights[0]*highlight;}void main() {vec4 pixel=texture(u_image,v_pos);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));vec2 deriv=((pixel.rg*8.0)-4.0)/scaleFactor;switch(u_method){case BASIC:
basic_hillshade(deriv);break;case COMBINED:
combined_hillshade(deriv);break;case IGOR:
igor_hillshade(deriv);break;case MULTIDIRECTIONAL:
multidirectional_hillshade(deriv);break;case STANDARD:
default:
standard_hillshade(deriv);break;}
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;in vec2 a_pos;out vec2 v_pos;void main() {gl_Position=projectTile(a_pos,a_pos);v_pos=a_pos/8192.0;if (a_pos.y <-32767.5) {v_pos.y=0.0;}if (a_pos.y > 32766.5) {v_pos.y=1.0;}}"),line:un(`uniform lowp float u_device_pixel_ratio;in vec2 v_width2;in vec2 v_normal;in float v_gamma_scale;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);fragColor=color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
in vec2 a_pos_normal;in vec4 a_data;uniform vec2 u_translation;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;out vec2 v_normal;out vec2 v_width2;out float v_gamma_scale;out highp float v_linesofar;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),lineGradient:un(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;in vec2 v_width2;in vec2 v_normal;in float v_gamma_scale;in highp vec2 v_uv;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture(u_image,v_uv);fragColor=color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
in vec2 a_pos_normal;in vec4 a_data;in float a_uv_x;in float a_split_index;uniform vec2 u_translation;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;out vec2 v_normal;out vec2 v_width2;out float v_gamma_scale;out highp vec2 v_uv;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),linePattern:un(`#ifdef GL_ES
precision highp float;
#endif
uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;in vec2 v_normal;in vec2 v_width2;in float v_linesofar;in float v_gamma_scale;in float v_width;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture(u_image,pos_a),texture(u_image,pos_b),u_fade);fragColor=color*alpha*opacity;
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
in vec2 a_pos_normal;in vec4 a_data;uniform vec2 u_translation;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;out vec2 v_normal;out vec2 v_width2;out float v_linesofar;out float v_gamma_scale;out float v_width;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`),lineSDF:un(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;in vec2 v_normal;in vec2 v_width2;in vec2 v_tex_a;in vec2 v_tex_b;in float v_gamma_scale;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture(u_image,v_tex_a).a;float sdfdist_b=texture(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);fragColor=color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
in vec2 a_pos_normal;in vec4 a_data;uniform vec2 u_translation;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;out vec2 v_normal;out vec2 v_width2;out vec2 v_tex_a;out vec2 v_tex_b;out float v_gamma_scale;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`),raster:un(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;in vec2 v_pos0;in vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture(u_image0,v_pos0);vec4 color1=texture(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);fragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;uniform vec4 u_coords_top;uniform vec4 u_coords_bottom;in vec2 a_pos;out vec2 v_pos0;out vec2 v_pos1;void main() {vec2 fractionalPos=a_pos/8192.0;vec2 position=mix(mix(u_coords_top.xy,u_coords_top.zw,fractionalPos.x),mix(u_coords_bottom.xy,u_coords_bottom.zw,fractionalPos.x),fractionalPos.y);gl_Position=projectTile(position,position);v_pos0=((fractionalPos-0.5)/u_buffer_scale)+0.5;
#ifdef GLOBE
if (a_pos.y <-32767.5) {v_pos0.y=0.0;}if (a_pos.y > 32766.5) {v_pos0.y=1.0;}
#endif
v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}`),symbolIcon:un(`uniform sampler2D u_texture;in vec2 v_tex;in float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;fragColor=texture(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`in vec4 a_pos_offset;in vec4 a_data;in vec4 a_pixeloffset;in vec3 a_projected_pos;in float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform vec2 u_translation;uniform float u_pitched_scale;out vec2 v_tex;out float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;
#ifdef GLOBE
if(u_pitch_with_map) {float anchor_pos_tile_y=(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w,z,1.0)).y;projectionScaling=mix(projectionScaling,1.0/circumferenceRatioAtTileY(anchor_pos_tile_y)*u_pitched_scale,u_projection_transition);}
#endif
vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}gl_Position=finalPos;v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float visibility=calculate_visibility(projectedPoint);v_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));}`),symbolSDF:un(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;in vec2 v_data0;in vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float inner_edge=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);inner_edge=inner_edge+gamma*gamma_scale;}lowp float dist=texture(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(inner_edge-gamma_scaled,inner_edge+gamma_scaled,dist);if (u_is_halo) {lowp float halo_edge=(6.0-halo_width/fontScale)/SDF_PX;alpha=min(smoothstep(halo_edge-gamma_scaled,halo_edge+gamma_scaled,dist),1.0-alpha);}fragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`in vec4 a_pos_offset;in vec4 a_data;in vec4 a_pixeloffset;in vec3 a_projected_pos;in float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_translation;uniform float u_pitched_scale;out vec2 v_data0;out vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;
#ifdef GLOBE
if(u_pitch_with_map) {float anchor_pos_tile_y=(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w,z,1.0)).y;projectionScaling=mix(projectionScaling,1.0/circumferenceRatioAtTileY(anchor_pos_tile_y)*u_pitched_scale,u_projection_transition);}
#endif
vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}float gamma_scale=finalPos.w;gl_Position=finalPos;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),symbolTextAndIcon:un(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;in vec4 v_data0;in vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;fragColor=texture(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);fragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`in vec4 a_pos_offset;in vec4 a_data;in vec3 a_projected_pos;in float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform vec2 u_translation;uniform float u_pitched_scale;out vec4 v_data0;out vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;
#ifdef GLOBE
if(u_pitch_with_map && !u_is_along_line) {float anchor_pos_tile_y=(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w,z,1.0)).y;projectionScaling=mix(projectionScaling,1.0/circumferenceRatioAtTileY(anchor_pos_tile_y)*u_pitched_scale,u_projection_transition);}
#endif
vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}float gamma_scale=finalPos.w;gl_Position=finalPos;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`),terrain:un("uniform sampler2D u_texture;uniform vec4 u_fog_color;uniform vec4 u_horizon_color;uniform float u_fog_ground_blend;uniform float u_fog_ground_blend_opacity;uniform float u_horizon_fog_blend;uniform bool u_is_globe_mode;in vec2 v_texture_pos;in float v_fog_depth;const float gamma=2.2;vec4 gammaToLinear(vec4 color) {return pow(color,vec4(gamma));}vec4 linearToGamma(vec4 color) {return pow(color,vec4(1.0/gamma));}void main() {vec4 surface_color=texture(u_texture,vec2(v_texture_pos.x,1.0-v_texture_pos.y));if (!u_is_globe_mode && v_fog_depth > u_fog_ground_blend) {vec4 surface_color_linear=gammaToLinear(surface_color);float blend_color=smoothstep(0.0,1.0,max((v_fog_depth-u_horizon_fog_blend)/(1.0-u_horizon_fog_blend),0.0));vec4 fog_horizon_color_linear=mix(gammaToLinear(u_fog_color),gammaToLinear(u_horizon_color),blend_color);float factor_fog=max(v_fog_depth-u_fog_ground_blend,0.0)/(1.0-u_fog_ground_blend);fragColor=linearToGamma(mix(surface_color_linear,fog_horizon_color_linear,pow(factor_fog,2.0)*u_fog_ground_blend_opacity));} else {fragColor=surface_color;}}","in vec3 a_pos3d;uniform mat4 u_fog_matrix;uniform float u_ele_delta;out vec2 v_texture_pos;out float v_fog_depth;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/8192.0;gl_Position=projectTileFor3D(a_pos3d.xy,get_elevation(a_pos3d.xy)-ele_delta);vec4 pos=u_fog_matrix*vec4(a_pos3d.xy,ele,1.0);v_fog_depth=pos.z/pos.w*0.5+0.5;}"),terrainDepth:un("in float v_depth;const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitMsk=vec4(0.,vec3(1./256.0));highp vec4 pack(highp float value) {highp vec4 comp=fract(value*bitSh);comp-=comp.xxyz*bitMsk;return comp;}void main() {fragColor=pack(v_depth);}","in vec3 a_pos3d;uniform float u_ele_delta;out float v_depth;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;gl_Position=projectTileFor3D(a_pos3d.xy,ele-ele_delta);v_depth=gl_Position.z/gl_Position.w;}"),terrainCoords:un("precision mediump float;uniform sampler2D u_texture;uniform float u_terrain_coords_id;in vec2 v_texture_pos;void main() {vec4 rgba=texture(u_texture,v_texture_pos);fragColor=vec4(rgba.r,rgba.g,rgba.b,u_terrain_coords_id);}","in vec3 a_pos3d;uniform float u_ele_delta;out vec2 v_texture_pos;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/8192.0;gl_Position=projectTileFor3D(a_pos3d.xy,ele-ele_delta);}"),projectionErrorMeasurement:un("in vec4 v_output_error_encoded;void main() {fragColor=v_output_error_encoded;}","in vec2 a_pos;uniform highp float u_input;uniform highp float u_output_expected;out vec4 v_output_error_encoded;void main() {float real_output=2.0*atan(exp(PI-(u_input*PI*2.0)))-PI*0.5;float error=real_output-u_output_expected;float abs_error=abs(error)*128.0;v_output_error_encoded.x=min(floor(abs_error*256.0),255.0)/255.0;abs_error-=v_output_error_encoded.x;v_output_error_encoded.y=min(floor(abs_error*65536.0),255.0)/255.0;abs_error-=v_output_error_encoded.x/255.0;v_output_error_encoded.z=min(floor(abs_error*16777216.0),255.0)/255.0;v_output_error_encoded.w=error >=0.0 ? 1.0 : 0.0;gl_Position=vec4(a_pos,0.0,1.0);}"),atmosphere:un(`in vec3 view_direction;uniform vec3 u_sun_pos;uniform vec3 u_globe_position;uniform float u_globe_radius;uniform float u_atmosphere_blend;/**Shader use from https:*Made some change to adapt to MapLibre Globe geometry*/const float PI=3.141592653589793;const int iSteps=5;const int jSteps=3;/*radius of the planet*/const float EARTH_RADIUS=6371e3;/*radius of the atmosphere*/const float ATMOS_RADIUS=6471e3;vec2 rsi(vec3 r0,vec3 rd,float sr) {float a=dot(rd,rd);float b=2.0*dot(rd,r0);float c=dot(r0,r0)-(sr*sr);float d=(b*b)-4.0*a*c;if (d < 0.0) return vec2(1e5,-1e5);return vec2((-b-sqrt(d))/(2.0*a),(-b+sqrt(d))/(2.0*a));}vec4 atmosphere(vec3 r,vec3 r0,vec3 pSun,float iSun,float rPlanet,float rAtmos,vec3 kRlh,float kMie,float shRlh,float shMie,float g) {pSun=normalize(pSun);r=normalize(r);vec2 p=rsi(r0,r,rAtmos);if (p.x > p.y) {return vec4(0.0,0.0,0.0,1.0);}if (p.x < 0.0) {p.x=0.0;}vec3 pos=r0+r*p.x;vec2 p2=rsi(r0,r,rPlanet);if (p2.x <=p2.y && p2.x > 0.0) {p.y=min(p.y,p2.x);}float iStepSize=(p.y-p.x)/float(iSteps);float iTime=p.x+iStepSize*0.5;vec3 totalRlh=vec3(0,0,0);vec3 totalMie=vec3(0,0,0);float iOdRlh=0.0;float iOdMie=0.0;float mu=dot(r,pSun);float mumu=mu*mu;float gg=g*g;float pRlh=3.0/(16.0*PI)*(1.0+mumu);float pMie=3.0/(8.0*PI)*((1.0-gg)*(mumu+1.0))/(pow(1.0+gg-2.0*mu*g,1.5)*(2.0+gg));for (int i=0; i < iSteps; i++) {vec3 iPos=r0+r*iTime;float iHeight=length(iPos)-rPlanet;float odStepRlh=exp(-iHeight/shRlh)*iStepSize;float odStepMie=exp(-iHeight/shMie)*iStepSize;iOdRlh+=odStepRlh;iOdMie+=odStepMie;float jStepSize=rsi(iPos,pSun,rAtmos).y/float(jSteps);float jTime=jStepSize*0.5;float jOdRlh=0.0;float jOdMie=0.0;for (int j=0; j < jSteps; j++) {vec3 jPos=iPos+pSun*jTime;float jHeight=length(jPos)-rPlanet;jOdRlh+=exp(-jHeight/shRlh)*jStepSize;jOdMie+=exp(-jHeight/shMie)*jStepSize;jTime+=jStepSize;}vec3 attn=exp(-(kMie*(iOdMie+jOdMie)+kRlh*(iOdRlh+jOdRlh)));totalRlh+=odStepRlh*attn;totalMie+=odStepMie*attn;iTime+=iStepSize;}float opacity=exp(-(length(kRlh)*length(totalRlh)+kMie*length(totalMie)));vec3 color=iSun*(pRlh*kRlh*totalRlh+pMie*kMie*totalMie);return vec4(color,opacity);}void main() {vec3 scale_camera_pos=-u_globe_position*EARTH_RADIUS/u_globe_radius;vec4 color=atmosphere(normalize(view_direction),scale_camera_pos,u_sun_pos,22.0,EARTH_RADIUS,ATMOS_RADIUS,vec3(5.5e-6,13.0e-6,22.4e-6),21e-6,8e3,1.2e3,0.758
);color.rgb=1.0-exp(-1.0*color.rgb);color=pow(color,vec4(1.0/2.2));fragColor=vec4(color.rgb,1.0-color.a)*u_atmosphere_blend;}`,"in vec2 a_pos;uniform mat4 u_inv_proj_matrix;out vec3 view_direction;void main() {view_direction=(u_inv_proj_matrix*vec4(a_pos,0.0,1.0)).xyz;gl_Position=vec4(a_pos,0.0,1.0);}"),sky:un("uniform vec4 u_sky_color;uniform vec4 u_horizon_color;uniform vec2 u_horizon;uniform vec2 u_horizon_normal;uniform float u_sky_horizon_blend;uniform float u_sky_blend;void main() {float x=gl_FragCoord.x;float y=gl_FragCoord.y;float blend=(y-u_horizon.y)*u_horizon_normal.y+(x-u_horizon.x)*u_horizon_normal.x;if (blend > 0.0) {if (blend < u_sky_horizon_blend) {fragColor=mix(u_sky_color,u_horizon_color,pow(1.0-blend/u_sky_horizon_blend,2.0));} else {fragColor=u_sky_color;}}fragColor=mix(fragColor,vec4(vec3(0.0),0.0),u_sky_blend);}","in vec2 a_pos;void main() {gl_Position=vec4(a_pos,1.0,1.0);}")};function un(_,a){let l=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,h=a.match(/in ([\w]+) ([\w]+)/g),g=_.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),b=a.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),E=b?b.concat(g):g,A={};return{fragmentSource:_=_.replace(l,(O,k,j,$,V)=>(A[V]=!0,k==="define"?`
#ifndef HAS_UNIFORM_u_${V}
in ${j} ${$} ${V};
#else
uniform ${j} ${$} u_${V};
#endif
`:`
#ifdef HAS_UNIFORM_u_${V}
    ${j} ${$} ${V} = u_${V};
#endif
`)),vertexSource:a=a.replace(l,(O,k,j,$,V)=>{let Q=$==="float"?"vec2":"vec4",ee=V.match(/color/)?"color":Q;return A[V]?k==="define"?`
#ifndef HAS_UNIFORM_u_${V}
uniform lowp float u_${V}_t;
in ${j} ${Q} a_${V};
out ${j} ${$} ${V};
#else
uniform ${j} ${$} u_${V};
#endif
`:ee==="vec4"?`
#ifndef HAS_UNIFORM_u_${V}
    ${V} = a_${V};
#else
    ${j} ${$} ${V} = u_${V};
#endif
`:`
#ifndef HAS_UNIFORM_u_${V}
    ${V} = unpack_mix_${ee}(a_${V}, u_${V}_t);
#else
    ${j} ${$} ${V} = u_${V};
#endif
`:k==="define"?`
#ifndef HAS_UNIFORM_u_${V}
uniform lowp float u_${V}_t;
in ${j} ${Q} a_${V};
#else
uniform ${j} ${$} u_${V};
#endif
`:ee==="vec4"?`
#ifndef HAS_UNIFORM_u_${V}
    ${j} ${$} ${V} = a_${V};
#else
    ${j} ${$} ${V} = u_${V};
#endif
`:`
#ifndef HAS_UNIFORM_u_${V}
    ${j} ${$} ${V} = unpack_mix_${ee}(a_${V}, u_${V}_t);
#else
    ${j} ${$} ${V} = u_${V};
#endif
`}),staticAttributes:h,staticUniforms:E}}class Ff{constructor(a,l,h){this.vertexBuffer=a,this.indexBuffer=l,this.segments=h}destroy(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.vertexBuffer=null,this.indexBuffer=null,this.segments=null}}var Qo=o.aG([{name:"a_pos",type:"Int16",components:2}]);let wp="#define PROJECTION_MERCATOR",rn="mercator";class Yh{constructor(){this._cachedMesh=null}get name(){return"mercator"}get useSubdivision(){return!1}get shaderVariantName(){return rn}get shaderDefine(){return wp}get shaderPreludeCode(){return Xo.projectionMercator}get vertexShaderPreludeCode(){return Xo.projectionMercator.vertexSource}get subdivisionGranularity(){return o.aH.noSubdivision}get useGlobeControls(){return!1}get transitionState(){return 0}get latitudeErrorCorrectionRadians(){return 0}destroy(){}updateGPUdependent(a){}getMeshFromTileID(a,l,h,g,b){if(this._cachedMesh)return this._cachedMesh;let E=new o.aI;E.emplaceBack(0,0),E.emplaceBack(o.Z,0),E.emplaceBack(0,o.Z),E.emplaceBack(o.Z,o.Z);let A=a.createVertexBuffer(E,Qo.members),O=o.aJ.simpleSegment(0,0,4,2),k=new o.aK;k.emplaceBack(1,0,2),k.emplaceBack(1,2,3);let j=a.createIndexBuffer(k);return this._cachedMesh=new Ff(A,j,O),this._cachedMesh}recalculate(){}hasTransition(){return!1}setErrorQueryLatitudeDegrees(a){}}class Kh{constructor(a=0,l=0,h=0,g=0){if(isNaN(a)||a<0||isNaN(l)||l<0||isNaN(h)||h<0||isNaN(g)||g<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=a,this.bottom=l,this.left=h,this.right=g}interpolate(a,l,h){return l.top!=null&&a.top!=null&&(this.top=o.B.number(a.top,l.top,h)),l.bottom!=null&&a.bottom!=null&&(this.bottom=o.B.number(a.bottom,l.bottom,h)),l.left!=null&&a.left!=null&&(this.left=o.B.number(a.left,l.left,h)),l.right!=null&&a.right!=null&&(this.right=o.B.number(a.right,l.right,h)),this}getCenter(a,l){let h=o.ae((this.left+a-this.right)/2,0,a),g=o.ae((this.top+l-this.bottom)/2,0,l);return new o.P(h,g)}equals(a){return this.top===a.top&&this.bottom===a.bottom&&this.left===a.left&&this.right===a.right}clone(){return new Kh(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}function Bf(_,a){if(!_.renderWorldCopies||_.lngRange)return;let l=a.lng-_.center.lng;a.lng+=l>180?-360:l<-180?360:0}function Oa(_){return Math.max(0,Math.floor(_))}class wo{constructor(a,l,h,g,b,E){this._callbacks=a,this._tileSize=512,this._renderWorldCopies=E===void 0||!!E,this._minZoom=l||0,this._maxZoom=h||22,this._minPitch=g==null?0:g,this._maxPitch=b==null?60:b,this.setMaxBounds(),this._width=0,this._height=0,this._center=new o.Q(0,0),this._elevation=0,this._zoom=0,this._tileZoom=Oa(this._zoom),this._scale=o.ac(this._zoom),this._bearingInRadians=0,this._fovInRadians=.6435011087932844,this._pitchInRadians=0,this._rollInRadians=0,this._unmodified=!0,this._edgeInsets=new Kh,this._minElevationForCurrentTile=0,this._autoCalculateNearFarZ=!0}apply(a,l,h){this._latRange=a.latRange,this._lngRange=a.lngRange,this._width=a.width,this._height=a.height,this._center=a.center,this._elevation=a.elevation,this._minElevationForCurrentTile=a.minElevationForCurrentTile,this._zoom=a.zoom,this._tileZoom=Oa(this._zoom),this._scale=o.ac(this._zoom),this._bearingInRadians=a.bearingInRadians,this._fovInRadians=a.fovInRadians,this._pitchInRadians=a.pitchInRadians,this._rollInRadians=a.rollInRadians,this._unmodified=a.unmodified,this._edgeInsets=new Kh(a.padding.top,a.padding.bottom,a.padding.left,a.padding.right),this._minZoom=a.minZoom,this._maxZoom=a.maxZoom,this._minPitch=a.minPitch,this._maxPitch=a.maxPitch,this._renderWorldCopies=a.renderWorldCopies,this._cameraToCenterDistance=a.cameraToCenterDistance,this._nearZ=a.nearZ,this._farZ=a.farZ,this._autoCalculateNearFarZ=!h&&a.autoCalculateNearFarZ,l&&this._constrain(),this._calcMatrices()}get pixelsToClipSpaceMatrix(){return this._pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._clipSpaceToPixelsMatrix}get minElevationForCurrentTile(){return this._minElevationForCurrentTile}setMinElevationForCurrentTile(a){this._minElevationForCurrentTile=a}get tileSize(){return this._tileSize}get tileZoom(){return this._tileZoom}get scale(){return this._scale}get width(){return this._width}get height(){return this._height}get bearingInRadians(){return this._bearingInRadians}get lngRange(){return this._lngRange}get latRange(){return this._latRange}get pixelsToGLUnits(){return this._pixelsToGLUnits}get minZoom(){return this._minZoom}setMinZoom(a){this._minZoom!==a&&(this._minZoom=a,this.setZoom(this.getConstrained(this._center,this.zoom).zoom))}get maxZoom(){return this._maxZoom}setMaxZoom(a){this._maxZoom!==a&&(this._maxZoom=a,this.setZoom(this.getConstrained(this._center,this.zoom).zoom))}get minPitch(){return this._minPitch}setMinPitch(a){this._minPitch!==a&&(this._minPitch=a,this.setPitch(Math.max(this.pitch,a)))}get maxPitch(){return this._maxPitch}setMaxPitch(a){this._maxPitch!==a&&(this._maxPitch=a,this.setPitch(Math.min(this.pitch,a)))}get renderWorldCopies(){return this._renderWorldCopies}setRenderWorldCopies(a){a===void 0?a=!0:a===null&&(a=!1),this._renderWorldCopies=a}get worldSize(){return this._tileSize*this._scale}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new o.P(this._width,this._height)}get bearing(){return this._bearingInRadians/Math.PI*180}setBearing(a){let l=o.aL(a,-180,180)*Math.PI/180;var h,g,b,E,A,O,k,j,$;this._bearingInRadians!==l&&(this._unmodified=!1,this._bearingInRadians=l,this._calcMatrices(),this._rotationMatrix=f(),h=this._rotationMatrix,b=-this._bearingInRadians,E=(g=this._rotationMatrix)[0],A=g[1],O=g[2],k=g[3],j=Math.sin(b),$=Math.cos(b),h[0]=E*$+O*j,h[1]=A*$+k*j,h[2]=E*-j+O*$,h[3]=A*-j+k*$)}get rotationMatrix(){return this._rotationMatrix}get pitchInRadians(){return this._pitchInRadians}get pitch(){return this._pitchInRadians/Math.PI*180}setPitch(a){let l=o.ae(a,this.minPitch,this.maxPitch)/180*Math.PI;this._pitchInRadians!==l&&(this._unmodified=!1,this._pitchInRadians=l,this._calcMatrices())}get rollInRadians(){return this._rollInRadians}get roll(){return this._rollInRadians/Math.PI*180}setRoll(a){let l=a/180*Math.PI;this._rollInRadians!==l&&(this._unmodified=!1,this._rollInRadians=l,this._calcMatrices())}get fovInRadians(){return this._fovInRadians}get fov(){return o.aM(this._fovInRadians)}setFov(a){a=o.ae(a,.1,150),this.fov!==a&&(this._unmodified=!1,this._fovInRadians=o.ab(a),this._calcMatrices())}get zoom(){return this._zoom}setZoom(a){let l=this.getConstrained(this._center,a).zoom;this._zoom!==l&&(this._unmodified=!1,this._zoom=l,this._tileZoom=Math.max(0,Math.floor(l)),this._scale=o.ac(l),this._constrain(),this._calcMatrices())}get center(){return this._center}setCenter(a){a.lat===this._center.lat&&a.lng===this._center.lng||(this._unmodified=!1,this._center=a,this._constrain(),this._calcMatrices())}get elevation(){return this._elevation}setElevation(a){a!==this._elevation&&(this._elevation=a,this._constrain(),this._calcMatrices())}get padding(){return this._edgeInsets.toJSON()}setPadding(a){this._edgeInsets.equals(a)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,a,1),this._calcMatrices())}get centerPoint(){return this._edgeInsets.getCenter(this._width,this._height)}get pixelsPerMeter(){return this._pixelPerMeter}get unmodified(){return this._unmodified}get cameraToCenterDistance(){return this._cameraToCenterDistance}get nearZ(){return this._nearZ}get farZ(){return this._farZ}get autoCalculateNearFarZ(){return this._autoCalculateNearFarZ}overrideNearFarZ(a,l){this._autoCalculateNearFarZ=!1,this._nearZ=a,this._farZ=l,this._calcMatrices()}clearNearFarZOverride(){this._autoCalculateNearFarZ=!0,this._calcMatrices()}isPaddingEqual(a){return this._edgeInsets.equals(a)}interpolatePadding(a,l,h){this._unmodified=!1,this._edgeInsets.interpolate(a,l,h),this._constrain(),this._calcMatrices()}resize(a,l,h=!0){this._width=a,this._height=l,h&&this._constrain(),this._calcMatrices()}getMaxBounds(){return this._latRange&&this._latRange.length===2&&this._lngRange&&this._lngRange.length===2?new vt([this._lngRange[0],this._latRange[0]],[this._lngRange[1],this._latRange[1]]):null}setMaxBounds(a){a?(this._lngRange=[a.getWest(),a.getEast()],this._latRange=[a.getSouth(),a.getNorth()],this._constrain()):(this._lngRange=null,this._latRange=[-85.051129,o.af])}getConstrained(a,l){return this._callbacks.getConstrained(a,l)}getCameraQueryGeometry(a,l){if(l.length===1)return[l[0],a];{let h=a.x,g=a.y,b=a.x,E=a.y;for(let A of l)h=Math.min(h,A.x),g=Math.min(g,A.y),b=Math.max(b,A.x),E=Math.max(E,A.y);return[new o.P(h,g),new o.P(b,g),new o.P(b,E),new o.P(h,E),new o.P(h,g)]}}_constrain(){if(!this.center||!this._width||!this._height||this._constraining)return;this._constraining=!0;let a=this._unmodified,{center:l,zoom:h}=this.getConstrained(this.center,this.zoom);this.setCenter(l),this.setZoom(h),this._unmodified=a,this._constraining=!1}_calcMatrices(){if(this._width&&this._height){this._pixelsToGLUnits=[2/this._width,-2/this._height];let a=o.ad(new Float64Array(16));o.M(a,a,[this._width/2,-this._height/2,1]),o.L(a,a,[1,-1,0]),this._clipSpaceToPixelsMatrix=a,a=o.ad(new Float64Array(16)),o.M(a,a,[1,-1,1]),o.L(a,a,[-1,-1,0]),o.M(a,a,[2/this._width,2/this._height,1]),this._pixelsToClipSpaceMatrix=a,this._cameraToCenterDistance=.5/Math.tan(this.fovInRadians/2)*this._height}this._callbacks.calcMatrices()}calculateCenterFromCameraLngLatAlt(a,l,h,g){let b=h!==void 0?h:this.bearing,E=g=g!==void 0?g:this.pitch,A=o.$.fromLngLat(a,l),O=-Math.cos(o.ab(E)),k=Math.sin(o.ab(E)),j=k*Math.sin(o.ab(b)),$=-k*Math.cos(o.ab(b)),V=this.elevation,Q=l-V,ee;O*Q>=0||Math.abs(O)<.1?(ee=1e4,V=l+ee*O):ee=-Q/O;let fe,pe,he=o.aN(1,A.y),ve=0;do{if(ve+=1,ve>10)break;pe=ee/he,fe=new o.$(A.x+j*pe,A.y+$*pe),he=1/fe.meterInMercatorCoordinateUnits()}while(Math.abs(ee-pe*he)>1e-12);return{center:fe.toLngLat(),elevation:V,zoom:o.ah(this.height/2/Math.tan(this.fovInRadians/2)/pe/this.tileSize)}}recalculateZoomAndCenter(a){if(this.elevation-a==0)return;let l=o.ag(1,this.center.lat)*this.worldSize,h=this.cameraToCenterDistance/l,g=o.$.fromLngLat(this.center,this.elevation),b=ie(this.center,this.elevation,this.pitch,this.bearing,h);this._elevation=a;let E=this.calculateCenterFromCameraLngLatAlt(b.toLngLat(),o.aN(b.z,g.y),this.bearing,this.pitch);this._elevation=E.elevation,this._center=E.center,this.setZoom(E.zoom)}getCameraPoint(){let a=Math.tan(this.pitchInRadians)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new o.P(a*Math.sin(this.rollInRadians),a*Math.cos(this.rollInRadians)))}getCameraAltitude(){return Math.cos(this.pitchInRadians)*this._cameraToCenterDistance/this._pixelPerMeter+this.elevation}getCameraLngLat(){let a=o.ag(1,this.center.lat)*this.worldSize;return ie(this.center,this.elevation,this.pitch,this.bearing,this.cameraToCenterDistance/a).toLngLat()}getMercatorTileCoordinates(a){if(!a)return[0,0,1,1];let l=a.canonical.z>=0?1<<a.canonical.z:Math.pow(2,a.canonical.z);return[a.canonical.x/l,a.canonical.y/l,1/l/o.Z,1/l/o.Z]}}class Ri{constructor(a,l){this.min=a,this.max=l,this.center=o.aO([],o.aP([],this.min,this.max),.5)}quadrant(a){let l=[a%2==0,a<2],h=o.aQ(this.min),g=o.aQ(this.max);for(let b=0;b<l.length;b++)h[b]=l[b]?this.min[b]:this.center[b],g[b]=l[b]?this.center[b]:this.max[b];return g[2]=this.max[2],new Ri(h,g)}distanceX(a){return Math.max(Math.min(this.max[0],a[0]),this.min[0])-a[0]}distanceY(a){return Math.max(Math.min(this.max[1],a[1]),this.min[1])-a[1]}intersectsFrustum(a){let l=!0;for(let h=0;h<a.planes.length;h++){let g=this.intersectsPlane(a.planes[h]);if(g===0)return 0;g===1&&(l=!1)}return l?2:a.aabb.min[0]>this.max[0]||a.aabb.min[1]>this.max[1]||a.aabb.min[2]>this.max[2]||a.aabb.max[0]<this.min[0]||a.aabb.max[1]<this.min[1]||a.aabb.max[2]<this.min[2]?0:1}intersectsPlane(a){let l=a[3],h=a[3];for(let g=0;g<3;g++)a[g]>0?(l+=a[g]*this.min[g],h+=a[g]*this.max[g]):(h+=a[g]*this.min[g],l+=a[g]*this.max[g]);return l>=0?2:h<0?0:1}}class So{distanceToTile2d(a,l,h,g){let b=g.distanceX([a,l]),E=g.distanceY([a,l]);return Math.hypot(b,E)}getWrap(a,l,h){return h}getTileAABB(a,l,h,g){var b,E;let A=h,O=h;if(g.terrain){let j=new o.Y(a.z,l,a.z,a.x,a.y),$=g.terrain.getMinMaxElevation(j);A=(b=$.minElevation)!==null&&b!==void 0?b:h,O=(E=$.maxElevation)!==null&&E!==void 0?E:h}let k=1<<a.z;return new Ri([l+a.x/k,a.y/k,A],[l+(a.x+1)/k,(a.y+1)/k,O])}allowVariableZoom(a,l){let h=a.fov*(Math.abs(Math.cos(a.rollInRadians))*a.height+Math.abs(Math.sin(a.rollInRadians))*a.width)/a.height,g=o.ae(78.5-h/2,0,60);return!!l.terrain||a.pitch>g}allowWorldCopies(){return!0}recalculateCache(){}}class Xn{constructor(a,l,h){this.points=a,this.planes=l,this.aabb=h}static fromInvProjectionMatrix(a,l=1,h=0){let g=Math.pow(2,h),b=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(k=>{let j=1/(k=o.at([],k,a))[3]/l*g;return o.aR(k,k,[j,j,1/k[3],j])}),E=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(k=>{let j=o.aS([],b[k[0]],b[k[1]]),$=o.aS([],b[k[2]],b[k[1]]),V=o.aT([],o.aU([],j,$)),Q=-o.aV(V,b[k[1]]);return V.concat(Q)}),A=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY],O=[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY];for(let k of b)for(let j=0;j<3;j++)A[j]=Math.min(A[j],k[j]),O[j]=Math.max(O[j],k[j]);return new Xn(b,E,new Ri(A,O))}}class Uf{get pixelsToClipSpaceMatrix(){return this._helper.pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._helper.clipSpaceToPixelsMatrix}get pixelsToGLUnits(){return this._helper.pixelsToGLUnits}get centerOffset(){return this._helper.centerOffset}get size(){return this._helper.size}get rotationMatrix(){return this._helper.rotationMatrix}get centerPoint(){return this._helper.centerPoint}get pixelsPerMeter(){return this._helper.pixelsPerMeter}setMinZoom(a){this._helper.setMinZoom(a)}setMaxZoom(a){this._helper.setMaxZoom(a)}setMinPitch(a){this._helper.setMinPitch(a)}setMaxPitch(a){this._helper.setMaxPitch(a)}setRenderWorldCopies(a){this._helper.setRenderWorldCopies(a)}setBearing(a){this._helper.setBearing(a)}setPitch(a){this._helper.setPitch(a)}setRoll(a){this._helper.setRoll(a)}setFov(a){this._helper.setFov(a)}setZoom(a){this._helper.setZoom(a)}setCenter(a){this._helper.setCenter(a)}setElevation(a){this._helper.setElevation(a)}setMinElevationForCurrentTile(a){this._helper.setMinElevationForCurrentTile(a)}setPadding(a){this._helper.setPadding(a)}interpolatePadding(a,l,h){return this._helper.interpolatePadding(a,l,h)}isPaddingEqual(a){return this._helper.isPaddingEqual(a)}resize(a,l,h=!0){this._helper.resize(a,l,h)}getMaxBounds(){return this._helper.getMaxBounds()}setMaxBounds(a){this._helper.setMaxBounds(a)}overrideNearFarZ(a,l){this._helper.overrideNearFarZ(a,l)}clearNearFarZOverride(){this._helper.clearNearFarZOverride()}getCameraQueryGeometry(a){return this._helper.getCameraQueryGeometry(this.getCameraPoint(),a)}get tileSize(){return this._helper.tileSize}get tileZoom(){return this._helper.tileZoom}get scale(){return this._helper.scale}get worldSize(){return this._helper.worldSize}get width(){return this._helper.width}get height(){return this._helper.height}get lngRange(){return this._helper.lngRange}get latRange(){return this._helper.latRange}get minZoom(){return this._helper.minZoom}get maxZoom(){return this._helper.maxZoom}get zoom(){return this._helper.zoom}get center(){return this._helper.center}get minPitch(){return this._helper.minPitch}get maxPitch(){return this._helper.maxPitch}get pitch(){return this._helper.pitch}get pitchInRadians(){return this._helper.pitchInRadians}get roll(){return this._helper.roll}get rollInRadians(){return this._helper.rollInRadians}get bearing(){return this._helper.bearing}get bearingInRadians(){return this._helper.bearingInRadians}get fov(){return this._helper.fov}get fovInRadians(){return this._helper.fovInRadians}get elevation(){return this._helper.elevation}get minElevationForCurrentTile(){return this._helper.minElevationForCurrentTile}get padding(){return this._helper.padding}get unmodified(){return this._helper.unmodified}get renderWorldCopies(){return this._helper.renderWorldCopies}get cameraToCenterDistance(){return this._helper.cameraToCenterDistance}get nearZ(){return this._helper.nearZ}get farZ(){return this._helper.farZ}get autoCalculateNearFarZ(){return this._helper.autoCalculateNearFarZ}setTransitionState(a,l){}constructor(a,l,h,g,b){this._posMatrixCache=new Map,this._alignedPosMatrixCache=new Map,this._fogMatrixCacheF32=new Map,this._helper=new wo({calcMatrices:()=>{this._calcMatrices()},getConstrained:(E,A)=>this.getConstrained(E,A)},a,l,h,g,b),this._coveringTilesDetailsProvider=new So}clone(){let a=new Uf;return a.apply(this),a}apply(a,l,h){this._helper.apply(a,l,h)}get cameraPosition(){return this._cameraPosition}get projectionMatrix(){return this._projectionMatrix}get modelViewProjectionMatrix(){return this._viewProjMatrix}get inverseProjectionMatrix(){return this._invProjMatrix}get mercatorMatrix(){return this._mercatorMatrix}getVisibleUnwrappedCoordinates(a){let l=[new o.aW(0,a)];if(this._helper._renderWorldCopies){let h=this.screenPointToMercatorCoordinate(new o.P(0,0)),g=this.screenPointToMercatorCoordinate(new o.P(this._helper._width,0)),b=this.screenPointToMercatorCoordinate(new o.P(this._helper._width,this._helper._height)),E=this.screenPointToMercatorCoordinate(new o.P(0,this._helper._height)),A=Math.floor(Math.min(h.x,g.x,b.x,E.x)),O=Math.floor(Math.max(h.x,g.x,b.x,E.x)),k=1;for(let j=A-k;j<=O+k;j++)j!==0&&l.push(new o.aW(j,a))}return l}getCameraFrustum(){return Xn.fromInvProjectionMatrix(this._invViewProjMatrix,this.worldSize)}getClippingPlane(){return null}getCoveringTilesDetailsProvider(){return this._coveringTilesDetailsProvider}recalculateZoomAndCenter(a){let l=this.screenPointToLocation(this.centerPoint,a),h=a?a.getElevationForLngLatZoom(l,this._helper._tileZoom):0;this._helper.recalculateZoomAndCenter(h)}setLocationAtPoint(a,l){let h=o.ag(this.elevation,this.center.lat),g=this.screenPointToMercatorCoordinateAtZ(l,h),b=this.screenPointToMercatorCoordinateAtZ(this.centerPoint,h),E=o.$.fromLngLat(a),A=new o.$(E.x-(g.x-b.x),E.y-(g.y-b.y));this.setCenter(A==null?void 0:A.toLngLat()),this._helper._renderWorldCopies&&this.setCenter(this.center.wrap())}locationToScreenPoint(a,l){return l?this.coordinatePoint(o.$.fromLngLat(a),l.getElevationForLngLatZoom(a,this._helper._tileZoom),this._pixelMatrix3D):this.coordinatePoint(o.$.fromLngLat(a))}screenPointToLocation(a,l){var h;return(h=this.screenPointToMercatorCoordinate(a,l))===null||h===void 0?void 0:h.toLngLat()}screenPointToMercatorCoordinate(a,l){if(l){let h=l.pointCoordinate(a);if(h!=null)return h}return this.screenPointToMercatorCoordinateAtZ(a)}screenPointToMercatorCoordinateAtZ(a,l){let h=l||0,g=[a.x,a.y,0,1],b=[a.x,a.y,1,1];o.at(g,g,this._pixelMatrixInverse),o.at(b,b,this._pixelMatrixInverse);let E=g[3],A=b[3],O=g[1]/E,k=b[1]/A,j=g[2]/E,$=b[2]/A,V=j===$?0:(h-j)/($-j);return new o.$(o.B.number(g[0]/E,b[0]/A,V)/this.worldSize,o.B.number(O,k,V)/this.worldSize,h)}coordinatePoint(a,l=0,h=this._pixelMatrix){let g=[a.x*this.worldSize,a.y*this.worldSize,l,1];return o.at(g,g,h),new o.P(g[0]/g[3],g[1]/g[3])}getBounds(){let a=Math.max(0,this._helper._height/2-Be(this));return new vt().extend(this.screenPointToLocation(new o.P(0,a))).extend(this.screenPointToLocation(new o.P(this._helper._width,a))).extend(this.screenPointToLocation(new o.P(this._helper._width,this._helper._height))).extend(this.screenPointToLocation(new o.P(0,this._helper._height)))}isPointOnMapSurface(a,l){return l?l.pointCoordinate(a)!=null:a.y>this.height/2-Be(this)}calculatePosMatrix(a,l=!1,h){var g;let b=(g=a.key)!==null&&g!==void 0?g:o.aX(a.wrap,a.canonical.z,a.canonical.z,a.canonical.x,a.canonical.y),E=l?this._alignedPosMatrixCache:this._posMatrixCache;if(E.has(b)){let k=E.get(b);return h?k.f32:k.f64}let A=ne(a,this.worldSize);o.N(A,l?this._alignedProjMatrix:this._viewProjMatrix,A);let O={f64:A,f32:new Float32Array(A)};return E.set(b,O),h?O.f32:O.f64}calculateFogMatrix(a){let l=a.key,h=this._fogMatrixCacheF32;if(h.has(l))return h.get(l);let g=ne(a,this.worldSize);return o.N(g,this._fogMatrix,g),h.set(l,new Float32Array(g)),h.get(l)}getConstrained(a,l){l=o.ae(+l,this.minZoom,this.maxZoom);let h={center:new o.Q(a.lng,a.lat),zoom:l},g=this._helper._lngRange;this._helper._renderWorldCopies||g!==null||(g=[-179.9999999999,180-1e-10]);let b=this.tileSize*o.ac(h.zoom),E=0,A=b,O=0,k=b,j=0,$=0,{x:V,y:Q}=this.size;if(this._helper._latRange){let we=this._helper._latRange;E=o.S(we[1])*b,A=o.S(we[0])*b,A-E<Q&&(j=Q/(A-E))}g&&(O=o.aL(o.U(g[0])*b,0,b),k=o.aL(o.U(g[1])*b,0,b),k<O&&(k+=b),k-O<V&&($=V/(k-O)));let{x:ee,y:fe}=ko(b,a),pe,he,ve=Math.max($||0,j||0);if(ve){let we=new o.P($?(k+O)/2:ee,j?(A+E)/2:fe);return h.center=Es(b,we).wrap(),h.zoom+=o.ah(ve),h}if(this._helper._latRange){let we=Q/2;fe-we<E&&(he=E+we),fe+we>A&&(he=A-we)}if(g){let we=(O+k)/2,xe=ee;this._helper._renderWorldCopies&&(xe=o.aL(ee,we-b/2,we+b/2));let Ce=V/2;xe-Ce<O&&(pe=O+Ce),xe+Ce>k&&(pe=k-Ce)}if(pe!==void 0||he!==void 0){let we=new o.P(pe!=null?pe:ee,he!=null?he:fe);h.center=Es(b,we).wrap()}return h}calculateCenterFromCameraLngLatAlt(a,l,h,g){return this._helper.calculateCenterFromCameraLngLatAlt(a,l,h,g)}_calculateNearFarZIfNeeded(a,l,h){if(!this._helper.autoCalculateNearFarZ)return;let g=Math.min(this.elevation,this.minElevationForCurrentTile,this.getCameraAltitude()-100),b=a-g*this._helper._pixelPerMeter/Math.cos(l),E=g<0?b:a,A=Math.PI/2+this.pitchInRadians,O=o.ab(this.fov)*(Math.abs(Math.cos(o.ab(this.roll)))*this.height+Math.abs(Math.sin(o.ab(this.roll)))*this.width)/this.height*(.5+h.y/this.height),k=Math.sin(O)*E/Math.sin(o.ae(Math.PI-A-O,.01,Math.PI-.01)),j=Be(this),$=Math.atan(j/this._helper.cameraToCenterDistance),V=o.ab(.75),Q=$>V?2*$*(.5+h.y/(2*j)):V,ee=Math.sin(Q)*E/Math.sin(o.ae(Math.PI-A-Q,.01,Math.PI-.01)),fe=Math.min(k,ee);this._helper._farZ=1.01*(Math.cos(Math.PI/2-l)*fe+E),this._helper._nearZ=this._helper._height/50}_calcMatrices(){if(!this._helper._height)return;let a=this.centerOffset,l=ko(this.worldSize,this.center),h=l.x,g=l.y;this._helper._pixelPerMeter=o.ag(1,this.center.lat)*this.worldSize;let b=o.ab(Math.min(this.pitch,Aa)),E=Math.max(this._helper.cameraToCenterDistance/2,this._helper.cameraToCenterDistance+this._helper._elevation*this._helper._pixelPerMeter/Math.cos(b)),A;this._calculateNearFarZIfNeeded(E,b,a),A=new Float64Array(16),o.aY(A,this.fovInRadians,this._helper._width/this._helper._height,this._helper._nearZ,this._helper._farZ),this._invProjMatrix=new Float64Array(16),o.an(this._invProjMatrix,A),A[8]=2*-a.x/this._helper._width,A[9]=2*a.y/this._helper._height,this._projectionMatrix=o.aZ(A),o.M(A,A,[1,-1,1]),o.L(A,A,[0,0,-this._helper.cameraToCenterDistance]),o.a_(A,A,-this.rollInRadians),o.a$(A,A,this.pitchInRadians),o.a_(A,A,-this.bearingInRadians),o.L(A,A,[-h,-g,0]),this._mercatorMatrix=o.M([],A,[this.worldSize,this.worldSize,this.worldSize]),o.M(A,A,[1,1,this._helper._pixelPerMeter]),this._pixelMatrix=o.N(new Float64Array(16),this.clipSpaceToPixelsMatrix,A),o.L(A,A,[0,0,-this.elevation]),this._viewProjMatrix=A,this._invViewProjMatrix=o.an([],A);let O=[0,0,-1,1];o.at(O,O,this._invViewProjMatrix),this._cameraPosition=[O[0]/O[3],O[1]/O[3],O[2]/O[3]],this._fogMatrix=new Float64Array(16),o.aY(this._fogMatrix,this.fovInRadians,this.width/this.height,E,this._helper._farZ),this._fogMatrix[8]=2*-a.x/this.width,this._fogMatrix[9]=2*a.y/this.height,o.M(this._fogMatrix,this._fogMatrix,[1,-1,1]),o.L(this._fogMatrix,this._fogMatrix,[0,0,-this.cameraToCenterDistance]),o.a_(this._fogMatrix,this._fogMatrix,-this.rollInRadians),o.a$(this._fogMatrix,this._fogMatrix,this.pitchInRadians),o.a_(this._fogMatrix,this._fogMatrix,-this.bearingInRadians),o.L(this._fogMatrix,this._fogMatrix,[-h,-g,0]),o.M(this._fogMatrix,this._fogMatrix,[1,1,this._helper._pixelPerMeter]),o.L(this._fogMatrix,this._fogMatrix,[0,0,-this.elevation]),this._pixelMatrix3D=o.N(new Float64Array(16),this.clipSpaceToPixelsMatrix,A);let k=this._helper._width%2/2,j=this._helper._height%2/2,$=Math.cos(this.bearingInRadians),V=Math.sin(-this.bearingInRadians),Q=h-Math.round(h)+$*k+V*j,ee=g-Math.round(g)+$*j+V*k,fe=new Float64Array(A);if(o.L(fe,fe,[Q>.5?Q-1:Q,ee>.5?ee-1:ee,0]),this._alignedProjMatrix=fe,A=o.an(new Float64Array(16),this._pixelMatrix),!A)throw new Error("failed to invert matrix");this._pixelMatrixInverse=A,this._clearMatrixCaches()}_clearMatrixCaches(){this._posMatrixCache.clear(),this._alignedPosMatrixCache.clear(),this._fogMatrixCacheF32.clear()}maxPitchScaleFactor(){if(!this._pixelMatrixInverse)return 1;let a=this.screenPointToMercatorCoordinate(new o.P(0,0)),l=[a.x*this.worldSize,a.y*this.worldSize,0,1];return o.at(l,l,this._pixelMatrix)[3]/this._helper.cameraToCenterDistance}getCameraPoint(){return this._helper.getCameraPoint()}getCameraAltitude(){return this._helper.getCameraAltitude()}getCameraLngLat(){let a=o.ag(1,this.center.lat)*this.worldSize;return ie(this.center,this.elevation,this.pitch,this.bearing,this._helper.cameraToCenterDistance/a).toLngLat()}lngLatToCameraDepth(a,l){let h=o.$.fromLngLat(a),g=[h.x*this.worldSize,h.y*this.worldSize,l,1];return o.at(g,g,this._viewProjMatrix),g[2]/g[3]}getProjectionData(a){let{overscaledTileID:l,aligned:h,applyTerrainMatrix:g}=a,b=this._helper.getMercatorTileCoordinates(l),E=l?this.calculatePosMatrix(l,h,!0):null,A;return A=l&&l.terrainRttPosMatrix32f&&g?l.terrainRttPosMatrix32f:E||o.b0(),{mainMatrix:A,tileMercatorCoords:b,clippingPlane:[0,0,0,0],projectionTransition:0,fallbackMatrix:A}}isLocationOccluded(a){return!1}getPixelScale(){return 1}getCircleRadiusCorrection(){return 1}getPitchedTextCorrection(a,l,h){return 1}transformLightDirection(a){return o.aQ(a)}getRayDirectionFromPixel(a){throw new Error("Not implemented.")}projectTileCoordinates(a,l,h,g){let b=this.calculatePosMatrix(h),E;g?(E=[a,l,g(a,l),1],o.at(E,E,b)):(E=[a,l,0,1],yp(E,E,b));let A=E[3];return{point:new o.P(E[0]/A,E[1]/A),signedDistanceFromCamera:A,isOccluded:!1}}populateCache(a){for(let l of a)this.calculatePosMatrix(l)}getMatrixForModel(a,l){let h=o.$.fromLngLat(a,l),g=h.meterInMercatorCoordinateUnits(),b=o.b1();return o.L(b,b,[h.x,h.y,h.z]),o.a_(b,b,Math.PI),o.a$(b,b,Math.PI/2),o.M(b,b,[-g,g,g]),b}getProjectionDataForCustomLayer(a=!0){let l=new o.Y(0,0,0,0,0),h=this.getProjectionData({overscaledTileID:l,applyGlobeMatrix:a}),g=ne(l,this.worldSize);o.N(g,this._viewProjMatrix,g),h.tileMercatorCoords=[0,0,1,1];let b=[o.Z,o.Z,this.worldSize/this._helper.pixelsPerMeter],E=o.b2();return o.M(E,g,b),h.fallbackMatrix=E,h.mainMatrix=E,h}getFastPathSimpleProjectionMatrix(a){return this.calculatePosMatrix(a)}}function Jo(){o.w("Map cannot fit within canvas with the given bounds, padding, and/or offset.")}function ns(_){if(_.useSlerp){if(_.k<1){let a=o.b3(_.startEulerAngles.roll,_.startEulerAngles.pitch,_.startEulerAngles.bearing),l=o.b3(_.endEulerAngles.roll,_.endEulerAngles.pitch,_.endEulerAngles.bearing),h=new Float64Array(4);o.b4(h,a,l,_.k);let g=o.b5(h);_.tr.setRoll(g.roll),_.tr.setPitch(g.pitch),_.tr.setBearing(g.bearing)}else _.tr.setRoll(_.endEulerAngles.roll),_.tr.setPitch(_.endEulerAngles.pitch),_.tr.setBearing(_.endEulerAngles.bearing);}else _.tr.setRoll(o.B.number(_.startEulerAngles.roll,_.endEulerAngles.roll,_.k)),_.tr.setPitch(o.B.number(_.startEulerAngles.pitch,_.endEulerAngles.pitch,_.k)),_.tr.setBearing(o.B.number(_.startEulerAngles.bearing,_.endEulerAngles.bearing,_.k))}function Da(_,a,l,h,g){let b=g.padding,E=ko(g.worldSize,l.getNorthWest()),A=ko(g.worldSize,l.getNorthEast()),O=ko(g.worldSize,l.getSouthEast()),k=ko(g.worldSize,l.getSouthWest()),j=o.ab(-h),$=E.rotate(j),V=A.rotate(j),Q=O.rotate(j),ee=k.rotate(j),fe=new o.P(Math.max($.x,V.x,ee.x,Q.x),Math.max($.y,V.y,ee.y,Q.y)),pe=new o.P(Math.min($.x,V.x,ee.x,Q.x),Math.min($.y,V.y,ee.y,Q.y)),he=fe.sub(pe),ve=(g.width-(b.left+b.right+a.left+a.right))/he.x,we=(g.height-(b.top+b.bottom+a.top+a.bottom))/he.y;if(we<0||ve<0)return void Jo();let xe=Math.min(o.ah(g.scale*Math.min(ve,we)),_.maxZoom),Ce=o.P.convert(_.offset),ke=new o.P((a.left-a.right)/2,(a.top-a.bottom)/2).rotate(o.ab(h)),Oe=Ce.add(ke).mult(g.scale/o.ac(xe));return{center:Es(g.worldSize,E.add(O).div(2).sub(Oe)),zoom:xe,bearing:h}}class Xh{get useGlobeControls(){return!1}handlePanInertia(a,l){return{easingOffset:a,easingCenter:l.center}}handleMapControlsRollPitchBearingZoom(a,l){a.bearingDelta&&l.setBearing(l.bearing+a.bearingDelta),a.pitchDelta&&l.setPitch(l.pitch+a.pitchDelta),a.rollDelta&&l.setRoll(l.roll+a.rollDelta),a.zoomDelta&&l.setZoom(l.zoom+a.zoomDelta)}handleMapControlsPan(a,l,h){a.around.distSqr(l.centerPoint)<.01||l.setLocationAtPoint(h,a.around)}cameraForBoxAndBearing(a,l,h,g,b){return Da(a,l,h,g,b)}handleJumpToCenterZoom(a,l){a.zoom!==(l.zoom!==void 0?+l.zoom:a.zoom)&&a.setZoom(+l.zoom),l.center!==void 0&&a.setCenter(o.Q.convert(l.center))}handleEaseTo(a,l){let h=a.zoom,g=a.padding,b={roll:a.roll,pitch:a.pitch,bearing:a.bearing},E={roll:l.roll===void 0?a.roll:l.roll,pitch:l.pitch===void 0?a.pitch:l.pitch,bearing:l.bearing===void 0?a.bearing:l.bearing},A=l.zoom!==void 0,O=!a.isPaddingEqual(l.padding),k=!1,j=A?+l.zoom:a.zoom,$=a.centerPoint.add(l.offsetAsPoint),V=a.screenPointToLocation($),{center:Q,zoom:ee}=a.getConstrained(o.Q.convert(l.center||V),j!=null?j:h);Bf(a,Q);let fe=ko(a.worldSize,V),pe=ko(a.worldSize,Q).sub(fe),he=o.ac(ee-h);return k=ee!==h,{easeFunc:ve=>{if(k&&a.setZoom(o.B.number(h,ee,ve)),o.b6(b,E)||ns({startEulerAngles:b,endEulerAngles:E,tr:a,k:ve,useSlerp:b.roll!=E.roll}),O&&(a.interpolatePadding(g,l.padding,ve),$=a.centerPoint.add(l.offsetAsPoint)),l.around)a.setLocationAtPoint(l.around,l.aroundPoint);else{let we=o.ac(a.zoom-h),xe=ee>h?Math.min(2,he):Math.max(.5,he),Ce=Math.pow(xe,1-ve),ke=Es(a.worldSize,fe.add(pe.mult(ve*Ce)).mult(we));a.setLocationAtPoint(a.renderWorldCopies?ke.wrap():ke,$)}},isZooming:k,elevationCenter:Q}}handleFlyTo(a,l){let h=l.zoom!==void 0,g=a.zoom,b=a.getConstrained(o.Q.convert(l.center||l.locationAtOffset),h?+l.zoom:g),E=b.center,A=b.zoom;Bf(a,E);let O=ko(a.worldSize,l.locationAtOffset),k=ko(a.worldSize,E).sub(O),j=k.mag(),$=o.ac(A-g),V;if(l.minZoom!==void 0){let Q=Math.min(+l.minZoom,g,A),ee=a.getConstrained(E,Q).zoom;V=o.ac(ee-g)}return{easeFunc:(Q,ee,fe,pe)=>{a.setZoom(Q===1?A:g+o.ah(ee));let he=Q===1?E:Es(a.worldSize,O.add(k.mult(fe)).mult(ee));a.setLocationAtPoint(a.renderWorldCopies?he.wrap():he,pe)},scaleOfZoom:$,targetCenter:E,scaleOfMinZoom:V,pixelPathLength:j}}}class Nn{constructor(a,l,h){this.blendFunction=a,this.blendColor=l,this.mask=h}}Nn.Replace=[1,0],Nn.disabled=new Nn(Nn.Replace,o.b7.transparent,[!1,!1,!1,!1]),Nn.unblended=new Nn(Nn.Replace,o.b7.transparent,[!0,!0,!0,!0]),Nn.alphaBlended=new Nn([1,771],o.b7.transparent,[!0,!0,!0,!0]);let bi=2305;class nn{constructor(a,l,h){this.enable=a,this.mode=l,this.frontFace=h}}nn.disabled=new nn(!1,1029,bi),nn.backCCW=new nn(!0,1029,bi),nn.frontCCW=new nn(!0,1028,bi);class Cr{constructor(a,l,h){this.func=a,this.mask=l,this.range=h}}Cr.ReadOnly=!1,Cr.ReadWrite=!0,Cr.disabled=new Cr(519,Cr.ReadOnly,[0,1]);let Vf=7680;class Rr{constructor(a,l,h,g,b,E){this.test=a,this.ref=l,this.mask=h,this.fail=g,this.depthFail=b,this.pass=E}}Rr.disabled=new Rr({func:519,mask:0},0,0,Vf,Vf,Vf);let dv=new WeakMap;function Lo(_){var a;if(dv.has(_))return dv.get(_);{let l=(a=_.getParameter(_.VERSION))===null||a===void 0?void 0:a.startsWith("WebGL 2.0");return dv.set(_,l),l}}class R_{get awaitingQuery(){return!!this._readbackQueue}constructor(a){this._readbackWaitFrames=4,this._measureWaitFrames=6,this._texWidth=1,this._texHeight=1,this._measuredError=0,this._updateCount=0,this._lastReadbackFrame=-1e3,this._readbackQueue=null,this._cachedRenderContext=a;let l=a.context,h=l.gl;this._texFormat=h.RGBA,this._texType=h.UNSIGNED_BYTE;let g=new o.aI;g.emplaceBack(-1,-1),g.emplaceBack(2,-1),g.emplaceBack(-1,2);let b=new o.aK;b.emplaceBack(0,1,2),this._fullscreenTriangle=new Ff(l.createVertexBuffer(g,Qo.members),l.createIndexBuffer(b),o.aJ.simpleSegment(0,0,g.length,b.length)),this._resultBuffer=new Uint8Array(4),l.activeTexture.set(h.TEXTURE1);let E=h.createTexture();h.bindTexture(h.TEXTURE_2D,E),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,h.CLAMP_TO_EDGE),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,h.CLAMP_TO_EDGE),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,h.NEAREST),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,h.NEAREST),h.texImage2D(h.TEXTURE_2D,0,this._texFormat,this._texWidth,this._texHeight,0,this._texFormat,this._texType,null),this._fbo=l.createFramebuffer(this._texWidth,this._texHeight,!1,!1),this._fbo.colorAttachment.set(E),Lo(h)&&(this._pbo=h.createBuffer(),h.bindBuffer(h.PIXEL_PACK_BUFFER,this._pbo),h.bufferData(h.PIXEL_PACK_BUFFER,4,h.STREAM_READ),h.bindBuffer(h.PIXEL_PACK_BUFFER,null))}destroy(){let a=this._cachedRenderContext.context.gl;this._fullscreenTriangle.destroy(),this._fbo.destroy(),a.deleteBuffer(this._pbo),this._fullscreenTriangle=null,this._fbo=null,this._pbo=null,this._resultBuffer=null}updateErrorLoop(a,l){let h=this._updateCount;return this._readbackQueue?h>=this._readbackQueue.frameNumberIssued+this._readbackWaitFrames&&this._tryReadback():h>=this._lastReadbackFrame+this._measureWaitFrames&&this._renderErrorTexture(a,l),this._updateCount++,this._measuredError}_bindFramebuffer(){let a=this._cachedRenderContext.context,l=a.gl;a.activeTexture.set(l.TEXTURE1),l.bindTexture(l.TEXTURE_2D,this._fbo.colorAttachment.get()),a.bindFramebuffer.set(this._fbo.framebuffer)}_renderErrorTexture(a,l){let h=this._cachedRenderContext.context,g=h.gl;if(this._bindFramebuffer(),h.viewport.set([0,0,this._texWidth,this._texHeight]),h.clear({color:o.b7.transparent}),this._cachedRenderContext.useProgram("projectionErrorMeasurement").draw(h,g.TRIANGLES,Cr.disabled,Rr.disabled,Nn.unblended,nn.disabled,((b,E)=>({u_input:b,u_output_expected:E}))(a,l),null,null,"$clipping",this._fullscreenTriangle.vertexBuffer,this._fullscreenTriangle.indexBuffer,this._fullscreenTriangle.segments),this._pbo&&Lo(g)){g.bindBuffer(g.PIXEL_PACK_BUFFER,this._pbo),g.readBuffer(g.COLOR_ATTACHMENT0),g.readPixels(0,0,this._texWidth,this._texHeight,this._texFormat,this._texType,0),g.bindBuffer(g.PIXEL_PACK_BUFFER,null);let b=g.fenceSync(g.SYNC_GPU_COMMANDS_COMPLETE,0);g.flush(),this._readbackQueue={frameNumberIssued:this._updateCount,sync:b}}else this._readbackQueue={frameNumberIssued:this._updateCount,sync:null}}_tryReadback(){let a=this._cachedRenderContext.context.gl;if(this._pbo&&this._readbackQueue&&Lo(a)){let l=a.clientWaitSync(this._readbackQueue.sync,0,0);if(l===a.WAIT_FAILED)return o.w("WebGL2 clientWaitSync failed."),this._readbackQueue=null,void(this._lastReadbackFrame=this._updateCount);if(l===a.TIMEOUT_EXPIRED)return;a.bindBuffer(a.PIXEL_PACK_BUFFER,this._pbo),a.getBufferSubData(a.PIXEL_PACK_BUFFER,0,this._resultBuffer,0,4),a.bindBuffer(a.PIXEL_PACK_BUFFER,null)}else this._bindFramebuffer(),a.readPixels(0,0,this._texWidth,this._texHeight,this._texFormat,this._texType,this._resultBuffer);this._readbackQueue=null,this._measuredError=R_._parseRGBA8float(this._resultBuffer),this._lastReadbackFrame=this._updateCount}static _parseRGBA8float(a){let l=0;return l+=a[0]/256,l+=a[1]/65536,l+=a[2]/16777216,a[3]<127&&(l=-l),l/128}}let q_=o.Z/128;function Qh(_,a){let l=_.granularity!==void 0?Math.max(_.granularity,1):1,h=l+(_.generateBorders?2:0),g=l+(_.extendToNorthPole||_.generateBorders?1:0)+(_.extendToSouthPole||_.generateBorders?1:0),b=h+1,E=g+1,A=_.generateBorders?-1:0,O=_.generateBorders||_.extendToNorthPole?-1:0,k=l+(_.generateBorders?1:0),j=l+(_.generateBorders||_.extendToSouthPole?1:0),$=b*E,V=h*g*6,Q=b*E>65536;if(Q&&a==="16bit")throw new Error("Granularity is too large and meshes would not fit inside 16 bit vertex indices.");let ee=Q||a==="32bit",fe=new Int16Array(2*$),pe=0;for(let we=O;we<=j;we++)for(let xe=A;xe<=k;xe++){let Ce=xe/l*o.Z;xe===-1&&(Ce=-64),xe===l+1&&(Ce=o.Z+q_);let ke=we/l*o.Z;we===-1&&(ke=_.extendToNorthPole?o.b9:-64),we===l+1&&(ke=_.extendToSouthPole?o.ba:o.Z+q_),fe[pe++]=Ce,fe[pe++]=ke}let he=ee?new Uint32Array(V):new Uint16Array(V),ve=0;for(let we=0;we<g;we++)for(let xe=0;xe<h;xe++){let Ce=xe+1+we*b,ke=xe+(we+1)*b,Oe=xe+1+(we+1)*b;he[ve++]=xe+we*b,he[ve++]=ke,he[ve++]=Ce,he[ve++]=Ce,he[ve++]=ke,he[ve++]=Oe}return{vertices:fe.buffer.slice(0),indices:he.buffer.slice(0),uses32bitIndices:ee}}let $f=new o.aH({fill:new o.bb(128,2),line:new o.bb(512,0),tile:new o.bb(128,32),stencil:new o.bb(128,1),circle:3});class Jh{constructor(){this._tileMeshCache={},this._errorCorrectionUsable=0,this._errorMeasurementLastValue=0,this._errorCorrectionPreviousValue=0,this._errorMeasurementLastChangeTime=-1e3}get name(){return"vertical-perspective"}get transitionState(){return 1}get useSubdivision(){return!0}get shaderVariantName(){return"globe"}get shaderDefine(){return"#define GLOBE"}get shaderPreludeCode(){return Xo.projectionGlobe}get vertexShaderPreludeCode(){return Xo.projectionMercator.vertexSource}get subdivisionGranularity(){return $f}get useGlobeControls(){return!0}get latitudeErrorCorrectionRadians(){return this._errorCorrectionUsable}destroy(){this._errorMeasurement&&this._errorMeasurement.destroy()}updateGPUdependent(a){this._errorMeasurement||(this._errorMeasurement=new R_(a));let l=o.S(this._errorQueryLatitudeDegrees),h=2*Math.atan(Math.exp(Math.PI-l*Math.PI*2))-.5*Math.PI,g=this._errorMeasurement.updateErrorLoop(l,h),b=w.now();g!==this._errorMeasurementLastValue&&(this._errorCorrectionPreviousValue=this._errorCorrectionUsable,this._errorMeasurementLastValue=g,this._errorMeasurementLastChangeTime=b);let E=Math.min(Math.max((b-this._errorMeasurementLastChangeTime)/1e3/.5,0),1);this._errorCorrectionUsable=o.bc(this._errorCorrectionPreviousValue,-this._errorMeasurementLastValue,o.bd(E))}_getMeshKey(a){return`${a.granularity.toString(36)}_${a.generateBorders?"b":""}${a.extendToNorthPole?"n":""}${a.extendToSouthPole?"s":""}`}getMeshFromTileID(a,l,h,g,b){let E=(b==="stencil"?$f.stencil:$f.tile).getGranularityForZoomLevel(l.z);return this._getMesh(a,{granularity:E,generateBorders:h,extendToNorthPole:l.y===0&&g,extendToSouthPole:l.y===(1<<l.z)-1&&g})}_getMesh(a,l){let h=this._getMeshKey(l);if(h in this._tileMeshCache)return this._tileMeshCache[h];let g=function(b,E){let A=Qh(E,"16bit"),O=o.aI.deserialize({arrayBuffer:A.vertices,length:A.vertices.byteLength/2/2}),k=o.aK.deserialize({arrayBuffer:A.indices,length:A.indices.byteLength/2/3});return new Ff(b.createVertexBuffer(O,Qo.members),b.createIndexBuffer(k),o.aJ.simpleSegment(0,0,O.length,k.length))}(a,l);return this._tileMeshCache[h]=g,g}recalculate(a){}hasTransition(){let a=w.now(),l=!1;return l=l||(a-this._errorMeasurementLastChangeTime)/1e3<.7,l=l||this._errorMeasurement&&this._errorMeasurement.awaitingQuery,l}setErrorQueryLatitudeDegrees(a){this._errorQueryLatitudeDegrees=a}}let z_=new o.r({type:new o.D(o.v.projection.type)});class hv extends o.E{constructor(a){super(),this._transitionable=new o.T(z_),this.setProjection(a),this._transitioning=this._transitionable.untransitioned(),this.recalculate(new o.C(0)),this._mercatorProjection=new Yh,this._verticalPerspectiveProjection=new Jh}get transitionState(){let a=this.properties.get("type");if(typeof a=="string"&&a==="mercator")return 0;if(typeof a=="string"&&a==="vertical-perspective")return 1;if(a instanceof o.be){if(a.from==="vertical-perspective"&&a.to==="mercator")return 1-a.transition;if(a.from==="mercator"&&a.to==="vertical-perspective")return a.transition}return 1}get useGlobeRendering(){return this.transitionState>0}get latitudeErrorCorrectionRadians(){return this._verticalPerspectiveProjection.latitudeErrorCorrectionRadians}get currentProjection(){return this.useGlobeRendering?this._verticalPerspectiveProjection:this._mercatorProjection}get name(){return"globe"}get useSubdivision(){return this.currentProjection.useSubdivision}get shaderVariantName(){return this.currentProjection.shaderVariantName}get shaderDefine(){return this.currentProjection.shaderDefine}get shaderPreludeCode(){return this.currentProjection.shaderPreludeCode}get vertexShaderPreludeCode(){return this.currentProjection.vertexShaderPreludeCode}get subdivisionGranularity(){return this.currentProjection.subdivisionGranularity}get useGlobeControls(){return this.transitionState>0}destroy(){this._mercatorProjection.destroy(),this._verticalPerspectiveProjection.destroy()}updateGPUdependent(a){this._mercatorProjection.updateGPUdependent(a),this._verticalPerspectiveProjection.updateGPUdependent(a)}getMeshFromTileID(a,l,h,g,b){return this.currentProjection.getMeshFromTileID(a,l,h,g,b)}setProjection(a){this._transitionable.setValue("type",(a==null?void 0:a.type)||"mercator")}updateTransitions(a){this._transitioning=this._transitionable.transitioned(a,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()||this.currentProjection.hasTransition()}recalculate(a){this.properties=this._transitioning.possiblyEvaluate(a)}setErrorQueryLatitudeDegrees(a){this._verticalPerspectiveProjection.setErrorQueryLatitudeDegrees(a),this._mercatorProjection.setErrorQueryLatitudeDegrees(a)}}function em(_){let a=Ip(_.worldSize,_.center.lat);return 2*Math.PI*a}function Sp(_,a,l,h,g){let b=1/(1<<g),E=a/o.Z*b+h*b,A=o.bg((_/o.Z*b+l*b)*Math.PI*2+Math.PI,2*Math.PI),O=2*Math.atan(Math.exp(Math.PI-E*Math.PI*2))-.5*Math.PI,k=Math.cos(O),j=new Float64Array(3);return j[0]=Math.sin(A)*k,j[1]=Math.sin(O),j[2]=Math.cos(A)*k,j}function uo(_){return function(a,l){let h=Math.cos(l),g=new Float64Array(3);return g[0]=Math.sin(a)*h,g[1]=Math.sin(l),g[2]=Math.cos(a)*h,g}(_.lng*Math.PI/180,_.lat*Math.PI/180)}function Ip(_,a){return _/(2*Math.PI)/Math.cos(a*Math.PI/180)}function tm(_){let a=Math.asin(_[1])/Math.PI*180,l=Math.sqrt(_[0]*_[0]+_[2]*_[2]);if(l>1e-6){let h=_[0]/l,g=Math.acos(_[2]/l),b=(h>0?g:-g)/Math.PI*180;return new o.Q(o.aL(b,-180,180),a)}return new o.Q(0,a)}function pc(_){return Math.cos(_*Math.PI/180)}function co(_,a){let l=pc(_),h=pc(a);return o.ah(h/l)}function mv(_,a){let l=_.rotate(a.bearingInRadians),h=a.zoom+co(a.center.lat,0),g=o.bc(1/pc(a.center.lat),1/pc(Math.min(Math.abs(a.center.lat),60)),o.bf(h,7,3,0,1)),b=360/em({worldSize:a.worldSize,center:{lat:a.center.lat}});return new o.Q(a.center.lng-l.x*b*g,o.ae(a.center.lat+l.y*b,-85.051129,o.af))}function gv(_){let a=.5*_,l=Math.sin(a),h=Math.cos(a);return Math.log(l+h)-Math.log(h-l)}function _E(_,a,l,h){let g=_.lat+l*h;if(Math.abs(l)>1){let b=(Math.sign(_.lat+l)!==Math.sign(_.lat)?-Math.abs(_.lat):Math.abs(_.lat))*Math.PI/180,E=Math.abs(_.lat+l)*Math.PI/180,A=gv(b+h*(E-b)),O=gv(b),k=gv(E);return new o.Q(_.lng+a*((A-O)/(k-O)),g)}return new o.Q(_.lng+a*h,g)}class Uk{constructor(a){this._cachePrevious=new Map,this._cache=new Map,this._hadAnyChanges=!1,this._aabbFactory=a}recalculateCache(){if(!this._hadAnyChanges)return;let a=this._cachePrevious;this._cachePrevious=this._cache,this._cache=a,this._cache.clear(),this._hadAnyChanges=!1}getTileAABB(a,l,h,g){let b=`${a.z}_${a.x}_${a.y}`,E=this._cache.get(b);if(E)return E;let A=this._cachePrevious.get(b);if(A)return this._cache.set(b,A),A;let O=this._aabbFactory(a,l,h,g);return this._cache.set(b,O),this._hadAnyChanges=!0,O}}function Ro(_,a,l){let h=_-a;return h<0?-h:Math.max(0,h-l)}function rm(_,a,l,h,g){let b=_-l,E;return E=b<0?Math.min(-b,1+b-g):b>1?Math.min(Math.max(b-g,0),1-b):0,Math.max(E,Ro(a,h,g))}class Cl{constructor(){this._aabbCache=new Uk(this._computeTileAABB)}recalculateCache(){this._aabbCache.recalculateCache()}distanceToTile2d(a,l,h,g){let b=1<<h.z,E=1/b,A=h.x/b,O=h.y/b,k=2;return k=Math.min(k,rm(a,l,A,O,E)),k=Math.min(k,rm(a,l,A+.5,-O-E,E)),k=Math.min(k,rm(a,l,A+.5,2-O-E,E)),k}getWrap(a,l,h){let g=1<<l.z,b=1/g,E=l.x/g,A=Ro(a.x,E,b),O=Ro(a.x,E-1,b),k=Ro(a.x,E+1,b),j=Math.min(A,O,k);return j===k?1:j===O?-1:0}allowVariableZoom(a,l){return Ie(a,l)>4}allowWorldCopies(){return!1}getTileAABB(a,l,h,g){return this._aabbCache.getTileAABB(a,l,h,g)}_computeTileAABB(a,l,h,g){if(a.z<=0)return new Ri([-1,-1,-1],[1,1,1]);if(a.z===1)return new Ri([a.x===0?-1:0,a.y===0?0:-1,-1],[a.x===0?0:1,a.y===0?1:0,1]);{let b=[Sp(0,0,a.x,a.y,a.z),Sp(o.Z,0,a.x,a.y,a.z),Sp(o.Z,o.Z,a.x,a.y,a.z),Sp(0,o.Z,a.x,a.y,a.z)],E=[1,1,1],A=[-1,-1,-1];for(let O of b)for(let k=0;k<3;k++)E[k]=Math.min(E[k],O[k]),A[k]=Math.max(A[k],O[k]);if(a.y===0||a.y===(1<<a.z)-1){let O=[0,a.y===0?1:-1,0];for(let k=0;k<3;k++)E[k]=Math.min(E[k],O[k]),A[k]=Math.max(A[k],O[k])}return new Ri(E,A)}}}class Ep{get pixelsToClipSpaceMatrix(){return this._helper.pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._helper.clipSpaceToPixelsMatrix}get pixelsToGLUnits(){return this._helper.pixelsToGLUnits}get centerOffset(){return this._helper.centerOffset}get size(){return this._helper.size}get rotationMatrix(){return this._helper.rotationMatrix}get centerPoint(){return this._helper.centerPoint}get pixelsPerMeter(){return this._helper.pixelsPerMeter}setMinZoom(a){this._helper.setMinZoom(a)}setMaxZoom(a){this._helper.setMaxZoom(a)}setMinPitch(a){this._helper.setMinPitch(a)}setMaxPitch(a){this._helper.setMaxPitch(a)}setRenderWorldCopies(a){this._helper.setRenderWorldCopies(a)}setBearing(a){this._helper.setBearing(a)}setPitch(a){this._helper.setPitch(a)}setRoll(a){this._helper.setRoll(a)}setFov(a){this._helper.setFov(a)}setZoom(a){this._helper.setZoom(a)}setCenter(a){this._helper.setCenter(a)}setElevation(a){this._helper.setElevation(a)}setMinElevationForCurrentTile(a){this._helper.setMinElevationForCurrentTile(a)}setPadding(a){this._helper.setPadding(a)}interpolatePadding(a,l,h){return this._helper.interpolatePadding(a,l,h)}isPaddingEqual(a){return this._helper.isPaddingEqual(a)}resize(a,l){this._helper.resize(a,l)}getMaxBounds(){return this._helper.getMaxBounds()}setMaxBounds(a){this._helper.setMaxBounds(a)}overrideNearFarZ(a,l){this._helper.overrideNearFarZ(a,l)}clearNearFarZOverride(){this._helper.clearNearFarZOverride()}getCameraQueryGeometry(a){return this._helper.getCameraQueryGeometry(this.getCameraPoint(),a)}get tileSize(){return this._helper.tileSize}get tileZoom(){return this._helper.tileZoom}get scale(){return this._helper.scale}get worldSize(){return this._helper.worldSize}get width(){return this._helper.width}get height(){return this._helper.height}get lngRange(){return this._helper.lngRange}get latRange(){return this._helper.latRange}get minZoom(){return this._helper.minZoom}get maxZoom(){return this._helper.maxZoom}get zoom(){return this._helper.zoom}get center(){return this._helper.center}get minPitch(){return this._helper.minPitch}get maxPitch(){return this._helper.maxPitch}get pitch(){return this._helper.pitch}get pitchInRadians(){return this._helper.pitchInRadians}get roll(){return this._helper.roll}get rollInRadians(){return this._helper.rollInRadians}get bearing(){return this._helper.bearing}get bearingInRadians(){return this._helper.bearingInRadians}get fov(){return this._helper.fov}get fovInRadians(){return this._helper.fovInRadians}get elevation(){return this._helper.elevation}get minElevationForCurrentTile(){return this._helper.minElevationForCurrentTile}get padding(){return this._helper.padding}get unmodified(){return this._helper.unmodified}get renderWorldCopies(){return this._helper.renderWorldCopies}get nearZ(){return this._helper.nearZ}get farZ(){return this._helper.farZ}get autoCalculateNearFarZ(){return this._helper.autoCalculateNearFarZ}setTransitionState(a){}constructor(){this._cachedClippingPlane=o.bk(),this._projectionMatrix=o.b1(),this._globeViewProjMatrix32f=o.b0(),this._globeViewProjMatrixNoCorrection=o.b1(),this._globeViewProjMatrixNoCorrectionInverted=o.b1(),this._globeProjMatrixInverted=o.b1(),this._cameraPosition=o.bh(),this._globeLatitudeErrorCorrectionRadians=0,this._helper=new wo({calcMatrices:()=>{this._calcMatrices()},getConstrained:(a,l)=>this.getConstrained(a,l)}),this._coveringTilesDetailsProvider=new Cl}clone(){let a=new Ep;return a.apply(this),a}apply(a,l){this._globeLatitudeErrorCorrectionRadians=l||0,this._helper.apply(a)}get projectionMatrix(){return this._projectionMatrix}get modelViewProjectionMatrix(){return this._globeViewProjMatrixNoCorrection}get inverseProjectionMatrix(){return this._globeProjMatrixInverted}get cameraPosition(){let a=o.bh();return a[0]=this._cameraPosition[0],a[1]=this._cameraPosition[1],a[2]=this._cameraPosition[2],a}get cameraToCenterDistance(){return this._helper.cameraToCenterDistance}getProjectionData(a){let{overscaledTileID:l,applyGlobeMatrix:h}=a,g=this._helper.getMercatorTileCoordinates(l);return{mainMatrix:this._globeViewProjMatrix32f,tileMercatorCoords:g,clippingPlane:this._cachedClippingPlane,projectionTransition:h?1:0,fallbackMatrix:this._globeViewProjMatrix32f}}_computeClippingPlane(a){let l=this.pitchInRadians,h=this.cameraToCenterDistance/a,g=Math.sin(l)*h,b=Math.cos(l)*h+1,E=1/Math.sqrt(g*g+b*b)*1,A=-g,O=b,k=Math.sqrt(A*A+O*O);A/=k,O/=k;let j=[0,A,O];o.bl(j,j,[0,0,0],-this.bearingInRadians),o.bm(j,j,[0,0,0],-1*this.center.lat*Math.PI/180),o.bn(j,j,[0,0,0],this.center.lng*Math.PI/180);let $=1/o.bo(j);return o.aO(j,j,$),[...j,-E*$]}isLocationOccluded(a){return!this.isSurfacePointVisible(uo(a))}transformLightDirection(a){let l=this._helper._center.lng*Math.PI/180,h=this._helper._center.lat*Math.PI/180,g=Math.cos(h),b=[Math.sin(l)*g,Math.sin(h),Math.cos(l)*g],E=[b[2],0,-b[0]],A=[0,0,0];o.aU(A,E,b),o.aT(E,E),o.aT(A,A);let O=[0,0,0];return o.aT(O,[E[0]*a[0]+A[0]*a[1]+b[0]*a[2],E[1]*a[0]+A[1]*a[1]+b[1]*a[2],E[2]*a[0]+A[2]*a[1]+b[2]*a[2]]),O}getPixelScale(){return 1/Math.cos(this._helper._center.lat*Math.PI/180)}getCircleRadiusCorrection(){return Math.cos(this._helper._center.lat*Math.PI/180)}getPitchedTextCorrection(a,l,h){let g=function(A,O,k){let j=1/(1<<k.z);return new o.$(A/o.Z*j+k.x*j,O/o.Z*j+k.y*j)}(a,l,h.canonical),b=(E=g.y,[o.bg(g.x*Math.PI*2+Math.PI,2*Math.PI),2*Math.atan(Math.exp(Math.PI-E*Math.PI*2))-.5*Math.PI]);var E;return this.getCircleRadiusCorrection()/Math.cos(b[1])}projectTileCoordinates(a,l,h,g){let b=h.canonical,E=Sp(a,l,b.x,b.y,b.z),A=1+(g?g(a,l):0)/o.bu,O=[E[0]*A,E[1]*A,E[2]*A,1];o.at(O,O,this._globeViewProjMatrixNoCorrection);let k=this._cachedClippingPlane,j=k[0]*E[0]+k[1]*E[1]+k[2]*E[2]+k[3]<0;return{point:new o.P(O[0]/O[3],O[1]/O[3]),signedDistanceFromCamera:O[3],isOccluded:j}}_calcMatrices(){if(!this._helper._width||!this._helper._height)return;let a=Ip(this.worldSize,this.center.lat),l=o.b2(),h=o.b2();this._helper.autoCalculateNearFarZ&&(this._helper._nearZ=.5,this._helper._farZ=this.cameraToCenterDistance+2*a),o.aY(l,this.fovInRadians,this.width/this.height,this._helper._nearZ,this._helper._farZ);let g=this.centerOffset;l[8]=2*-g.x/this._helper._width,l[9]=2*g.y/this._helper._height,this._projectionMatrix=o.aZ(l),this._globeProjMatrixInverted=o.b2(),o.an(this._globeProjMatrixInverted,l),o.L(l,l,[0,0,-this.cameraToCenterDistance]),o.a_(l,l,this.rollInRadians),o.a$(l,l,-this.pitchInRadians),o.a_(l,l,this.bearingInRadians),o.L(l,l,[0,0,-a]);let b=o.bh();b[0]=a,b[1]=a,b[2]=a,o.a$(h,l,this.center.lat*Math.PI/180),o.bp(h,h,-this.center.lng*Math.PI/180),o.M(h,h,b),this._globeViewProjMatrixNoCorrection=h,o.a$(l,l,this.center.lat*Math.PI/180-this._globeLatitudeErrorCorrectionRadians),o.bp(l,l,-this.center.lng*Math.PI/180),o.M(l,l,b),this._globeViewProjMatrix32f=new Float32Array(l),this._globeViewProjMatrixNoCorrectionInverted=o.b2(),o.an(this._globeViewProjMatrixNoCorrectionInverted,h);let E=o.bh();this._cameraPosition=o.bh(),this._cameraPosition[2]=this.cameraToCenterDistance/a,o.bl(this._cameraPosition,this._cameraPosition,E,-this.rollInRadians),o.bm(this._cameraPosition,this._cameraPosition,E,this.pitchInRadians),o.bl(this._cameraPosition,this._cameraPosition,E,-this.bearingInRadians),o.aP(this._cameraPosition,this._cameraPosition,[0,0,1]),o.bm(this._cameraPosition,this._cameraPosition,E,-this.center.lat*Math.PI/180),o.bn(this._cameraPosition,this._cameraPosition,E,this.center.lng*Math.PI/180),this._cachedClippingPlane=this._computeClippingPlane(a);let A=o.aZ(this._globeViewProjMatrixNoCorrectionInverted);o.M(A,A,[1,1,-1]),this._cachedFrustum=Xn.fromInvProjectionMatrix(A)}calculateFogMatrix(a){o.w("calculateFogMatrix is not supported on globe projection.");let l=o.b2();return o.ad(l),l}getVisibleUnwrappedCoordinates(a){return[new o.aW(0,a)]}getCameraFrustum(){return this._cachedFrustum}getClippingPlane(){return this._cachedClippingPlane}getCoveringTilesDetailsProvider(){return this._coveringTilesDetailsProvider}recalculateZoomAndCenter(a){a&&o.w("terrain is not fully supported on vertical perspective projection."),this._helper.recalculateZoomAndCenter(0)}maxPitchScaleFactor(){return 1}getCameraPoint(){return this._helper.getCameraPoint()}getCameraAltitude(){return this._helper.getCameraAltitude()}getCameraLngLat(){return this._helper.getCameraLngLat()}lngLatToCameraDepth(a,l){if(!this._globeViewProjMatrixNoCorrection)return 1;let h=uo(a);o.aO(h,h,1+l/o.bu);let g=o.bk();return o.at(g,[h[0],h[1],h[2],1],this._globeViewProjMatrixNoCorrection),g[2]/g[3]}populateCache(a){}getBounds(){let a=.5*this.width,l=.5*this.height,h=[new o.P(0,0),new o.P(a,0),new o.P(this.width,0),new o.P(this.width,l),new o.P(this.width,this.height),new o.P(a,this.height),new o.P(0,this.height),new o.P(0,l)],g=[];for(let $ of h)g.push(this.unprojectScreenPoint($));let b=0,E=0,A=0,O=0,k=this.center;for(let $ of g){let V=o.bq(k.lng,$.lng),Q=o.bq(k.lat,$.lat);V<E&&(E=V),V>b&&(b=V),Q<O&&(O=Q),Q>A&&(A=Q)}let j=[k.lng+E,k.lat+O,k.lng+b,k.lat+A];return this.isSurfacePointOnScreen([0,1,0])&&(j[3]=90,j[0]=-180,j[2]=180),this.isSurfacePointOnScreen([0,-1,0])&&(j[1]=-90,j[0]=-180,j[2]=180),new vt(j)}getConstrained(a,l){let h=o.ae(a.lat,-85.051129,o.af),g=o.ae(+l,this.minZoom+co(0,h),this.maxZoom);return{center:new o.Q(a.lng,h),zoom:g}}calculateCenterFromCameraLngLatAlt(a,l,h,g){return this._helper.calculateCenterFromCameraLngLatAlt(a,l,h,g)}setLocationAtPoint(a,l){let h=uo(this.unprojectScreenPoint(l)),g=uo(a),b=o.bh();o.br(b);let E=o.bh();o.bn(E,h,b,-this.center.lng*Math.PI/180),o.bm(E,E,b,this.center.lat*Math.PI/180);let A=g[0]*g[0]+g[2]*g[2],O=E[0]*E[0];if(A<O)return;let k=Math.sqrt(A-O),j=-k,$=o.bs(g[0],g[2],E[0],k),V=o.bs(g[0],g[2],E[0],j),Q=o.bh();o.bn(Q,g,b,-$);let ee=o.bs(Q[1],Q[2],E[1],E[2]),fe=o.bh();o.bn(fe,g,b,-V);let pe=o.bs(fe[1],fe[2],E[1],E[2]),he=.5*Math.PI,ve=ee>=-he&&ee<=he,we=pe>=-he&&pe<=he,xe,Ce;if(ve&&we){let rt=this.center.lng*Math.PI/180,Ze=this.center.lat*Math.PI/180;o.bv($,rt)+o.bv(ee,Ze)<o.bv(V,rt)+o.bv(pe,Ze)?(xe=$,Ce=ee):(xe=V,Ce=pe)}else if(ve)xe=$,Ce=ee;else{if(!we)return;xe=V,Ce=pe}let ke=xe/Math.PI*180,Oe=Ce/Math.PI*180,Ve=this.center.lat;this.setCenter(new o.Q(ke,o.ae(Oe,-90,90))),this.setZoom(this.zoom+co(Ve,this.center.lat))}locationToScreenPoint(a,l){let h=uo(a);if(l){let g=l.getElevationForLngLatZoom(a,this._helper._tileZoom);o.aO(h,h,1+g/o.bu)}return this._projectSurfacePointToScreen(h)}_projectSurfacePointToScreen(a){let l=o.bk();return o.at(l,[...a,1],this._globeViewProjMatrixNoCorrection),l[0]/=l[3],l[1]/=l[3],new o.P((.5*l[0]+.5)*this.width,(.5*-l[1]+.5)*this.height)}screenPointToMercatorCoordinate(a,l){if(l){let h=l.pointCoordinate(a);if(h)return h}return o.$.fromLngLat(this.unprojectScreenPoint(a))}screenPointToLocation(a,l){var h;return(h=this.screenPointToMercatorCoordinate(a,l))===null||h===void 0?void 0:h.toLngLat()}isPointOnMapSurface(a,l){let h=this._cameraPosition,g=this.getRayDirectionFromPixel(a);return!!this.rayPlanetIntersection(h,g)}getRayDirectionFromPixel(a){let l=o.bk();l[0]=a.x/this.width*2-1,l[1]=-1*(a.y/this.height*2-1),l[2]=1,l[3]=1,o.at(l,l,this._globeViewProjMatrixNoCorrectionInverted),l[0]/=l[3],l[1]/=l[3],l[2]/=l[3];let h=o.bh();h[0]=l[0]-this._cameraPosition[0],h[1]=l[1]-this._cameraPosition[1],h[2]=l[2]-this._cameraPosition[2];let g=o.bh();return o.aT(g,h),g}isSurfacePointVisible(a){let l=this._cachedClippingPlane;return l[0]*a[0]+l[1]*a[1]+l[2]*a[2]+l[3]>=0}isSurfacePointOnScreen(a){if(!this.isSurfacePointVisible(a))return!1;let l=o.bk();return o.at(l,[...a,1],this._globeViewProjMatrixNoCorrection),l[0]/=l[3],l[1]/=l[3],l[2]/=l[3],l[0]>-1&&l[0]<1&&l[1]>-1&&l[1]<1&&l[2]>-1&&l[2]<1}rayPlanetIntersection(a,l){let h=o.aV(a,l),g=o.bh(),b=o.bh();o.aO(b,l,h),o.aS(g,a,b);let E=1-o.aV(g,g);if(E<0)return null;let A=o.aV(a,a)-1,O=-h+(h<0?1:-1)*Math.sqrt(E),k=A/O,j=O;return{tMin:Math.min(k,j),tMax:Math.max(k,j)}}unprojectScreenPoint(a){let l=this._cameraPosition,h=this.getRayDirectionFromPixel(a),g=this.rayPlanetIntersection(l,h);if(g){let j=o.bh();o.aP(j,l,[h[0]*g.tMin,h[1]*g.tMin,h[2]*g.tMin]);let $=o.bh();return o.aT($,j),tm($)}let b=this._cachedClippingPlane,E=b[0]*h[0]+b[1]*h[1]+b[2]*h[2],A=-o.bt(b,l)/E,O=o.bh();if(A>0)o.aP(O,l,[h[0]*A,h[1]*A,h[2]*A]);else{let j=o.bh();o.aP(j,l,[2*h[0],2*h[1],2*h[2]]);let $=o.bt(this._cachedClippingPlane,j);o.aS(O,j,[this._cachedClippingPlane[0]*$,this._cachedClippingPlane[1]*$,this._cachedClippingPlane[2]*$])}let k=function(j){let $=o.bh();return $[0]=j[0]*-j[3],$[1]=j[1]*-j[3],$[2]=j[2]*-j[3],{center:$,radius:Math.sqrt(1-j[3]*j[3])}}(b);return tm(function(j,$,V){let Q=o.bh();o.aS(Q,V,j);let ee=o.bh();return o.bi(ee,j,Q,$/o.bj(Q)),ee}(k.center,k.radius,O))}getMatrixForModel(a,l){let h=o.Q.convert(a),g=1/o.bu,b=o.b1();return o.bp(b,b,h.lng/180*Math.PI),o.a$(b,b,-h.lat/180*Math.PI),o.L(b,b,[0,0,1+l/o.bu]),o.a$(b,b,.5*Math.PI),o.M(b,b,[g,g,g]),b}getProjectionDataForCustomLayer(a=!0){let l=this.getProjectionData({overscaledTileID:new o.Y(0,0,0,0,0),applyGlobeMatrix:a});return l.tileMercatorCoords=[0,0,1,1],l}getFastPathSimpleProjectionMatrix(a){}}class nm{get pixelsToClipSpaceMatrix(){return this._helper.pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._helper.clipSpaceToPixelsMatrix}get pixelsToGLUnits(){return this._helper.pixelsToGLUnits}get centerOffset(){return this._helper.centerOffset}get size(){return this._helper.size}get rotationMatrix(){return this._helper.rotationMatrix}get centerPoint(){return this._helper.centerPoint}get pixelsPerMeter(){return this._helper.pixelsPerMeter}setMinZoom(a){this._helper.setMinZoom(a)}setMaxZoom(a){this._helper.setMaxZoom(a)}setMinPitch(a){this._helper.setMinPitch(a)}setMaxPitch(a){this._helper.setMaxPitch(a)}setRenderWorldCopies(a){this._helper.setRenderWorldCopies(a)}setBearing(a){this._helper.setBearing(a)}setPitch(a){this._helper.setPitch(a)}setRoll(a){this._helper.setRoll(a)}setFov(a){this._helper.setFov(a)}setZoom(a){this._helper.setZoom(a)}setCenter(a){this._helper.setCenter(a)}setElevation(a){this._helper.setElevation(a)}setMinElevationForCurrentTile(a){this._helper.setMinElevationForCurrentTile(a)}setPadding(a){this._helper.setPadding(a)}interpolatePadding(a,l,h){return this._helper.interpolatePadding(a,l,h)}isPaddingEqual(a){return this._helper.isPaddingEqual(a)}resize(a,l,h=!0){this._helper.resize(a,l,h)}getMaxBounds(){return this._helper.getMaxBounds()}setMaxBounds(a){this._helper.setMaxBounds(a)}overrideNearFarZ(a,l){this._helper.overrideNearFarZ(a,l)}clearNearFarZOverride(){this._helper.clearNearFarZOverride()}getCameraQueryGeometry(a){return this._helper.getCameraQueryGeometry(this.getCameraPoint(),a)}get tileSize(){return this._helper.tileSize}get tileZoom(){return this._helper.tileZoom}get scale(){return this._helper.scale}get worldSize(){return this._helper.worldSize}get width(){return this._helper.width}get height(){return this._helper.height}get lngRange(){return this._helper.lngRange}get latRange(){return this._helper.latRange}get minZoom(){return this._helper.minZoom}get maxZoom(){return this._helper.maxZoom}get zoom(){return this._helper.zoom}get center(){return this._helper.center}get minPitch(){return this._helper.minPitch}get maxPitch(){return this._helper.maxPitch}get pitch(){return this._helper.pitch}get pitchInRadians(){return this._helper.pitchInRadians}get roll(){return this._helper.roll}get rollInRadians(){return this._helper.rollInRadians}get bearing(){return this._helper.bearing}get bearingInRadians(){return this._helper.bearingInRadians}get fov(){return this._helper.fov}get fovInRadians(){return this._helper.fovInRadians}get elevation(){return this._helper.elevation}get minElevationForCurrentTile(){return this._helper.minElevationForCurrentTile}get padding(){return this._helper.padding}get unmodified(){return this._helper.unmodified}get renderWorldCopies(){return this._helper.renderWorldCopies}get cameraToCenterDistance(){return this._helper.cameraToCenterDistance}get nearZ(){return this._helper.nearZ}get farZ(){return this._helper.farZ}get autoCalculateNearFarZ(){return this._helper.autoCalculateNearFarZ}get isGlobeRendering(){return this._globeness>0}setTransitionState(a,l){this._globeness=a,this._globeLatitudeErrorCorrectionRadians=l,this._calcMatrices(),this._verticalPerspectiveTransform.getCoveringTilesDetailsProvider().recalculateCache(),this._mercatorTransform.getCoveringTilesDetailsProvider().recalculateCache()}get currentTransform(){return this.isGlobeRendering?this._verticalPerspectiveTransform:this._mercatorTransform}constructor(){this._globeLatitudeErrorCorrectionRadians=0,this._globeness=1,this._helper=new wo({calcMatrices:()=>{this._calcMatrices()},getConstrained:(a,l)=>this.getConstrained(a,l)}),this._globeness=1,this._mercatorTransform=new Uf,this._verticalPerspectiveTransform=new Ep}clone(){let a=new nm;return a._globeness=this._globeness,a._globeLatitudeErrorCorrectionRadians=this._globeLatitudeErrorCorrectionRadians,a.apply(this),a}apply(a){this._helper.apply(a),this._mercatorTransform.apply(this),this._verticalPerspectiveTransform.apply(this,this._globeLatitudeErrorCorrectionRadians)}get projectionMatrix(){return this.currentTransform.projectionMatrix}get modelViewProjectionMatrix(){return this.currentTransform.modelViewProjectionMatrix}get inverseProjectionMatrix(){return this.currentTransform.inverseProjectionMatrix}get cameraPosition(){return this.currentTransform.cameraPosition}getProjectionData(a){let l=this._mercatorTransform.getProjectionData(a),h=this._verticalPerspectiveTransform.getProjectionData(a);return{mainMatrix:this.isGlobeRendering?h.mainMatrix:l.mainMatrix,clippingPlane:h.clippingPlane,tileMercatorCoords:h.tileMercatorCoords,projectionTransition:a.applyGlobeMatrix?this._globeness:0,fallbackMatrix:l.fallbackMatrix}}isLocationOccluded(a){return this.currentTransform.isLocationOccluded(a)}transformLightDirection(a){return this.currentTransform.transformLightDirection(a)}getPixelScale(){return o.bc(this._mercatorTransform.getPixelScale(),this._verticalPerspectiveTransform.getPixelScale(),this._globeness)}getCircleRadiusCorrection(){return o.bc(this._mercatorTransform.getCircleRadiusCorrection(),this._verticalPerspectiveTransform.getCircleRadiusCorrection(),this._globeness)}getPitchedTextCorrection(a,l,h){let g=this._mercatorTransform.getPitchedTextCorrection(a,l,h),b=this._verticalPerspectiveTransform.getPitchedTextCorrection(a,l,h);return o.bc(g,b,this._globeness)}projectTileCoordinates(a,l,h,g){return this.currentTransform.projectTileCoordinates(a,l,h,g)}_calcMatrices(){this._helper._width&&this._helper._height&&(this._verticalPerspectiveTransform.apply(this,this._globeLatitudeErrorCorrectionRadians),this._helper._nearZ=this._verticalPerspectiveTransform.nearZ,this._helper._farZ=this._verticalPerspectiveTransform.farZ,this._mercatorTransform.apply(this,!0,this.isGlobeRendering),this._helper._nearZ=this._mercatorTransform.nearZ,this._helper._farZ=this._mercatorTransform.farZ)}calculateFogMatrix(a){return this.currentTransform.calculateFogMatrix(a)}getVisibleUnwrappedCoordinates(a){return this.currentTransform.getVisibleUnwrappedCoordinates(a)}getCameraFrustum(){return this.currentTransform.getCameraFrustum()}getClippingPlane(){return this.currentTransform.getClippingPlane()}getCoveringTilesDetailsProvider(){return this.currentTransform.getCoveringTilesDetailsProvider()}recalculateZoomAndCenter(a){this._mercatorTransform.recalculateZoomAndCenter(a),this._verticalPerspectiveTransform.recalculateZoomAndCenter(a)}maxPitchScaleFactor(){return this._mercatorTransform.maxPitchScaleFactor()}getCameraPoint(){return this._helper.getCameraPoint()}getCameraAltitude(){return this._helper.getCameraAltitude()}getCameraLngLat(){return this._helper.getCameraLngLat()}lngLatToCameraDepth(a,l){return this.currentTransform.lngLatToCameraDepth(a,l)}populateCache(a){this._mercatorTransform.populateCache(a),this._verticalPerspectiveTransform.populateCache(a)}getBounds(){return this.currentTransform.getBounds()}getConstrained(a,l){return this.currentTransform.getConstrained(a,l)}calculateCenterFromCameraLngLatAlt(a,l,h,g){return this._helper.calculateCenterFromCameraLngLatAlt(a,l,h,g)}setLocationAtPoint(a,l){if(!this.isGlobeRendering)return this._mercatorTransform.setLocationAtPoint(a,l),void this.apply(this._mercatorTransform);this._verticalPerspectiveTransform.setLocationAtPoint(a,l),this.apply(this._verticalPerspectiveTransform)}locationToScreenPoint(a,l){return this.currentTransform.locationToScreenPoint(a,l)}screenPointToMercatorCoordinate(a,l){return this.currentTransform.screenPointToMercatorCoordinate(a,l)}screenPointToLocation(a,l){return this.currentTransform.screenPointToLocation(a,l)}isPointOnMapSurface(a,l){return this.currentTransform.isPointOnMapSurface(a,l)}getRayDirectionFromPixel(a){return this._verticalPerspectiveTransform.getRayDirectionFromPixel(a)}getMatrixForModel(a,l){return this.currentTransform.getMatrixForModel(a,l)}getProjectionDataForCustomLayer(a=!0){let l=this._mercatorTransform.getProjectionDataForCustomLayer(a);if(!this.isGlobeRendering)return l;let h=this._verticalPerspectiveTransform.getProjectionDataForCustomLayer(a);return h.fallbackMatrix=l.mainMatrix,h}getFastPathSimpleProjectionMatrix(a){return this.currentTransform.getFastPathSimpleProjectionMatrix(a)}}class Ts{get useGlobeControls(){return!0}handlePanInertia(a,l){let h=mv(a,l);return Math.abs(h.lng-l.center.lng)>180&&(h.lng=l.center.lng+179.5*Math.sign(h.lng-l.center.lng)),{easingCenter:h,easingOffset:new o.P(0,0)}}handleMapControlsRollPitchBearingZoom(a,l){let h=a.around,g=l.screenPointToLocation(h);a.bearingDelta&&l.setBearing(l.bearing+a.bearingDelta),a.pitchDelta&&l.setPitch(l.pitch+a.pitchDelta),a.rollDelta&&l.setRoll(l.roll+a.rollDelta);let b=l.zoom;a.zoomDelta&&l.setZoom(l.zoom+a.zoomDelta);let E=l.zoom-b;if(E===0)return;let A=o.bq(l.center.lng,g.lng),O=A/(Math.abs(A/180)+1),k=o.bq(l.center.lat,g.lat),j=l.getRayDirectionFromPixel(h),$=l.cameraPosition,V=-1*o.aV($,j),Q=o.bh();o.aP(Q,$,[j[0]*V,j[1]*V,j[2]*V]);let ee=o.bo(Q)-1,fe=Math.exp(.5*-Math.max(ee-.3,0)),pe=Ip(l.worldSize,l.center.lat)/Math.min(l.width,l.height),he=o.bf(pe,.9,.5,1,.25),ve=(1-o.ac(-E))*Math.min(fe,he),we=l.center.lat,xe=l.zoom,Ce=new o.Q(l.center.lng+O*ve,o.ae(l.center.lat+k*ve,-85.051129,o.af));l.setLocationAtPoint(g,h);let ke=l.center,Oe=o.bf(Math.abs(A),45,85,0,1),Ve=o.bf(pe,.75,.35,0,1),rt=Math.pow(Math.max(Oe,Ve),.25),Ze=o.bq(ke.lng,Ce.lng),Ye=o.bq(ke.lat,Ce.lat);l.setCenter(new o.Q(ke.lng+Ze*rt,ke.lat+Ye*rt).wrap()),l.setZoom(xe+co(we,l.center.lat))}handleMapControlsPan(a,l,h){if(!a.panDelta)return;let g=l.center.lat,b=l.zoom;l.setCenter(mv(a.panDelta,l).wrap()),l.setZoom(b+co(g,l.center.lat))}cameraForBoxAndBearing(a,l,h,g,b){let E=Da(a,l,h,g,b),A=l.left/b.width*2-1,O=(b.width-l.right)/b.width*2-1,k=l.top/b.height*-2+1,j=(b.height-l.bottom)/b.height*-2+1,$=o.bq(h.getWest(),h.getEast())<0,V=$?h.getEast():h.getWest(),Q=$?h.getWest():h.getEast(),ee=Math.max(h.getNorth(),h.getSouth()),fe=Math.min(h.getNorth(),h.getSouth()),pe=V+.5*o.bq(V,Q),he=ee+.5*o.bq(ee,fe),ve=b.clone();ve.setCenter(E.center),ve.setBearing(E.bearing),ve.setPitch(0),ve.setRoll(0),ve.setZoom(E.zoom);let we=ve.modelViewProjectionMatrix,xe=[uo(h.getNorthWest()),uo(h.getNorthEast()),uo(h.getSouthWest()),uo(h.getSouthEast()),uo(new o.Q(Q,he)),uo(new o.Q(V,he)),uo(new o.Q(pe,ee)),uo(new o.Q(pe,fe))],Ce=uo(E.center),ke=Number.POSITIVE_INFINITY;for(let Oe of xe)A<0&&(ke=Ts.getLesserNonNegativeNonNull(ke,Ts.solveVectorScale(Oe,Ce,we,"x",A))),O>0&&(ke=Ts.getLesserNonNegativeNonNull(ke,Ts.solveVectorScale(Oe,Ce,we,"x",O))),k>0&&(ke=Ts.getLesserNonNegativeNonNull(ke,Ts.solveVectorScale(Oe,Ce,we,"y",k))),j<0&&(ke=Ts.getLesserNonNegativeNonNull(ke,Ts.solveVectorScale(Oe,Ce,we,"y",j)));if(Number.isFinite(ke)&&ke!==0)return E.zoom=ve.zoom+o.ah(ke),E;Jo()}handleJumpToCenterZoom(a,l){let h=a.center.lat,g=a.getConstrained(l.center?o.Q.convert(l.center):a.center,a.zoom).center;a.setCenter(g.wrap());let b=l.zoom!==void 0?+l.zoom:a.zoom+co(h,g.lat);a.zoom!==b&&a.setZoom(b)}handleEaseTo(a,l){let h=a.zoom,g=a.center,b=a.padding,E={roll:a.roll,pitch:a.pitch,bearing:a.bearing},A={roll:l.roll===void 0?a.roll:l.roll,pitch:l.pitch===void 0?a.pitch:l.pitch,bearing:l.bearing===void 0?a.bearing:l.bearing},O=l.zoom!==void 0,k=!a.isPaddingEqual(l.padding),j=!1,$=l.center?o.Q.convert(l.center):g,V=a.getConstrained($,h).center;Bf(a,V);let Q=a.clone();Q.setCenter(V),Q.setZoom(O?+l.zoom:h+co(g.lat,$.lat)),Q.setBearing(l.bearing);let ee=new o.P(o.ae(a.centerPoint.x+l.offsetAsPoint.x,0,a.width),o.ae(a.centerPoint.y+l.offsetAsPoint.y,0,a.height));Q.setLocationAtPoint(V,ee);let fe=(l.offset&&l.offsetAsPoint.mag())>0?Q.center:V,pe=O?+l.zoom:h+co(g.lat,fe.lat),he=h+co(g.lat,0),ve=pe+co(fe.lat,0),we=o.bq(g.lng,fe.lng),xe=o.bq(g.lat,fe.lat),Ce=o.ac(ve-he);return j=pe!==h,{easeFunc:ke=>{if(o.b6(E,A)||ns({startEulerAngles:E,endEulerAngles:A,tr:a,k:ke,useSlerp:E.roll!=A.roll}),k&&a.interpolatePadding(b,l.padding,ke),l.around)o.w("Easing around a point is not supported under globe projection."),a.setLocationAtPoint(l.around,l.aroundPoint);else{let Oe=ve>he?Math.min(2,Ce):Math.max(.5,Ce),Ve=Math.pow(Oe,1-ke),rt=_E(g,we,xe,ke*Ve);a.setCenter(rt.wrap())}if(j){let Oe=o.B.number(he,ve,ke)+co(0,a.center.lat);a.setZoom(Oe)}},isZooming:j,elevationCenter:fe}}handleFlyTo(a,l){let h=l.zoom!==void 0,g=a.center,b=a.zoom,E=a.padding,A=!a.isPaddingEqual(l.padding),O=a.getConstrained(o.Q.convert(l.center||l.locationAtOffset),b).center,k=h?+l.zoom:a.zoom+co(a.center.lat,O.lat),j=a.clone();j.setCenter(O),j.setZoom(k),j.setBearing(l.bearing);let $=new o.P(o.ae(a.centerPoint.x+l.offsetAsPoint.x,0,a.width),o.ae(a.centerPoint.y+l.offsetAsPoint.y,0,a.height));j.setLocationAtPoint(O,$);let V=j.center;Bf(a,V);let Q=function(xe,Ce,ke){let Oe=uo(Ce),Ve=uo(ke),rt=o.aV(Oe,Ve),Ze=Math.acos(rt),Ye=em(xe);return Ze/(2*Math.PI)*Ye}(a,g,V),ee=b+co(g.lat,0),fe=k+co(V.lat,0),pe=o.ac(fe-ee),he;if(typeof l.minZoom=="number"){let xe=+l.minZoom+co(V.lat,0),Ce=Math.min(xe,ee,fe)+co(0,V.lat),ke=a.getConstrained(V,Ce).zoom+co(V.lat,0);he=o.ac(ke-ee)}let ve=o.bq(g.lng,V.lng),we=o.bq(g.lat,V.lat);return{easeFunc:(xe,Ce,ke,Oe)=>{let Ve=_E(g,ve,we,ke);A&&a.interpolatePadding(E,l.padding,xe);let rt=xe===1?V:Ve;a.setCenter(rt.wrap());let Ze=ee+o.ah(Ce);a.setZoom(xe===1?k:Ze+co(0,rt.lat))},scaleOfZoom:pe,targetCenter:V,scaleOfMinZoom:he,pixelPathLength:Q}}static solveVectorScale(a,l,h,g,b){let E=g==="x"?[h[0],h[4],h[8],h[12]]:[h[1],h[5],h[9],h[13]],A=[h[3],h[7],h[11],h[15]],O=a[0]*E[0]+a[1]*E[1]+a[2]*E[2],k=a[0]*A[0]+a[1]*A[1]+a[2]*A[2],j=l[0]*E[0]+l[1]*E[1]+l[2]*E[2],$=l[0]*A[0]+l[1]*A[1]+l[2]*A[2];return j+b*k===O+b*$||A[3]*(O-j)+E[3]*($-k)+O*$==j*k?null:(j+E[3]-b*$-b*A[3])/(j-O-b*$+b*k)}static getLesserNonNegativeNonNull(a,l){return l!==null&&l>=0&&l<a?l:a}}class Tp{constructor(a){this._globe=a,this._mercatorCameraHelper=new Xh,this._verticalPerspectiveCameraHelper=new Ts}get useGlobeControls(){return this._globe.useGlobeRendering}get currentHelper(){return this.useGlobeControls?this._verticalPerspectiveCameraHelper:this._mercatorCameraHelper}handlePanInertia(a,l){return this.currentHelper.handlePanInertia(a,l)}handleMapControlsRollPitchBearingZoom(a,l){return this.currentHelper.handleMapControlsRollPitchBearingZoom(a,l)}handleMapControlsPan(a,l,h){this.currentHelper.handleMapControlsPan(a,l,h)}cameraForBoxAndBearing(a,l,h,g,b){return this.currentHelper.cameraForBoxAndBearing(a,l,h,g,b)}handleJumpToCenterZoom(a,l){this.currentHelper.handleJumpToCenterZoom(a,l)}handleEaseTo(a,l){return this.currentHelper.handleEaseTo(a,l)}handleFlyTo(a,l){return this.currentHelper.handleFlyTo(a,l)}}let vv=(_,a)=>o.x(_,a&&a.filter(l=>l.identifier!=="source.canvas")),Vk=o.bw();class j_ extends o.E{constructor(a,l={}){super(),this._rtlPluginLoaded=()=>{for(let h in this.sourceCaches){let g=this.sourceCaches[h].getSource().type;g!=="vector"&&g!=="geojson"||this.sourceCaches[h].reload()}},this.map=a,this.dispatcher=new Fe(yt(),a._getMapId()),this.dispatcher.registerMessageHandler("GG",(h,g)=>this.getGlyphs(h,g)),this.dispatcher.registerMessageHandler("GI",(h,g)=>this.getImages(h,g)),this.imageManager=new qe,this.imageManager.setEventedParent(this),this.glyphManager=new Ne(a._requestManager,l.localIdeographFontFamily),this.lineAtlas=new Qe(256,512),this.crossTileSymbolIndex=new Zh,this._spritesImagesIds={},this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new o.bx,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("SR",o.by()),Kn().on(Jr,this._rtlPluginLoaded),this.on("data",h=>{if(h.dataType!=="source"||h.sourceDataType!=="metadata")return;let g=this.sourceCaches[h.sourceId];if(!g)return;let b=g.getSource();if(b&&b.vectorLayerIds)for(let E in this._layers){let A=this._layers[E];A.source===b.id&&this._validateLayer(A)}})}loadURL(a,l={},h){this.fire(new o.l("dataloading",{dataType:"style"})),l.validate=typeof l.validate!="boolean"||l.validate;let g=this.map._requestManager.transformRequest(a,"Style");this._loadStyleRequest=new AbortController;let b=this._loadStyleRequest;o.j(g,this._loadStyleRequest).then(E=>{this._loadStyleRequest=null,this._load(E.data,l,h)}).catch(E=>{this._loadStyleRequest=null,E&&!b.signal.aborted&&this.fire(new o.k(E))})}loadJSON(a,l={},h){this.fire(new o.l("dataloading",{dataType:"style"})),this._frameRequest=new AbortController,w.frameAsync(this._frameRequest).then(()=>{this._frameRequest=null,l.validate=l.validate!==!1,this._load(a,l,h)}).catch(()=>{})}loadEmpty(){this.fire(new o.l("dataloading",{dataType:"style"})),this._load(Vk,{validate:!1})}_load(a,l,h){var g,b;let E=l.transformStyle?l.transformStyle(h,a):a;if(!l.validate||!vv(this,o.y(E))){this._loaded=!0,this.stylesheet=E;for(let A in E.sources)this.addSource(A,E.sources[A],{validate:!1});E.sprite?this._loadSprite(E.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(E.glyphs),this._createLayers(),this.light=new st(this.stylesheet.light),this._setProjectionInternal(((g=this.stylesheet.projection)===null||g===void 0?void 0:g.type)||"mercator"),this.sky=new At(this.stylesheet.sky),this.map.setTerrain((b=this.stylesheet.terrain)!==null&&b!==void 0?b:null),this.fire(new o.l("data",{dataType:"style"})),this.fire(new o.l("style.load"))}}_createLayers(){let a=o.bz(this.stylesheet.layers);this.dispatcher.broadcast("SL",a),this._order=a.map(l=>l.id),this._layers={},this._serializedLayers=null;for(let l of a){let h=o.bA(l);h.setEventedParent(this,{layer:{id:l.id}}),this._layers[l.id]=h}}_loadSprite(a,l=!1,h=void 0){let g;this.imageManager.setLoaded(!1),this._spriteRequest=new AbortController,function(b,E,A,O){return o._(this,void 0,void 0,function*(){let k=re(b),j=A>1?"@2x":"",$={},V={};for(let{id:Q,url:ee}of k){let fe=E.transformRequest(de(ee,j,".json"),"SpriteJSON");$[Q]=o.j(fe,O);let pe=E.transformRequest(de(ee,j,".png"),"SpriteImage");V[Q]=U.getImage(pe,O)}return yield Promise.all([...Object.values($),...Object.values(V)]),function(Q,ee){return o._(this,void 0,void 0,function*(){let fe={};for(let pe in Q){fe[pe]={};let he=w.getImageCanvasContext((yield ee[pe]).data),ve=(yield Q[pe]).data;for(let we in ve){let{width:xe,height:Ce,x:ke,y:Oe,sdf:Ve,pixelRatio:rt,stretchX:Ze,stretchY:Ye,content:Je,textFitWidth:Ct,textFitHeight:Et}=ve[we];fe[pe][we]={data:null,pixelRatio:rt,sdf:Ve,stretchX:Ze,stretchY:Ye,content:Je,textFitWidth:Ct,textFitHeight:Et,spriteData:{width:xe,height:Ce,x:ke,y:Oe,context:he}}}}return fe})}($,V)})}(a,this.map._requestManager,this.map.getPixelRatio(),this._spriteRequest).then(b=>{if(this._spriteRequest=null,b)for(let E in b){this._spritesImagesIds[E]=[];let A=this._spritesImagesIds[E]?this._spritesImagesIds[E].filter(O=>!(O in b)):[];for(let O of A)this.imageManager.removeImage(O),this._changedImages[O]=!0;for(let O in b[E]){let k=E==="default"?O:`${E}:${O}`;this._spritesImagesIds[E].push(k),k in this.imageManager.images?this.imageManager.updateImage(k,b[E][O],!1):this.imageManager.addImage(k,b[E][O]),l&&(this._changedImages[k]=!0)}}}).catch(b=>{this._spriteRequest=null,g=b,this.fire(new o.k(g))}).finally(()=>{this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),l&&(this._changed=!0),this.dispatcher.broadcast("SI",this._availableImages),this.fire(new o.l("data",{dataType:"style"})),h&&h(g)})}_unloadSprite(){for(let a of Object.values(this._spritesImagesIds).flat())this.imageManager.removeImage(a),this._changedImages[a]=!0;this._spritesImagesIds={},this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new o.l("data",{dataType:"style"}))}_validateLayer(a){let l=this.sourceCaches[a.source];if(!l)return;let h=a.sourceLayer;if(!h)return;let g=l.getSource();(g.type==="geojson"||g.vectorLayerIds&&g.vectorLayerIds.indexOf(h)===-1)&&this.fire(new o.k(new Error(`Source layer "${h}" does not exist on source "${g.id}" as specified by style layer "${a.id}".`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(let a in this.sourceCaches)if(!this.sourceCaches[a].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeByIds(a,l=!1){let h=this._serializedAllLayers();if(!a||a.length===0)return Object.values(l?o.bB(h):h);let g=[];for(let b of a)if(h[b]){let E=l?o.bB(h[b]):h[b];g.push(E)}return g}_serializedAllLayers(){let a=this._serializedLayers;if(a)return a;a=this._serializedLayers={};let l=Object.keys(this._layers);for(let h of l){let g=this._layers[h];g.type!=="custom"&&(a[h]=g.serialize())}return a}hasTransitions(){var a,l,h;if(!((a=this.light)===null||a===void 0)&&a.hasTransition()||!((l=this.sky)===null||l===void 0)&&l.hasTransition()||!((h=this.projection)===null||h===void 0)&&h.hasTransition())return!0;for(let g in this.sourceCaches)if(this.sourceCaches[g].hasTransition())return!0;for(let g in this._layers)if(this._layers[g].hasTransition())return!0;return!1}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading.")}update(a){if(!this._loaded)return;let l=this._changed;if(l){let g=Object.keys(this._updatedLayers),b=Object.keys(this._removedLayers);(g.length||b.length)&&this._updateWorkerLayers(g,b);for(let E in this._updatedSources){let A=this._updatedSources[E];if(A==="reload")this._reloadSource(E);else{if(A!=="clear")throw new Error(`Invalid action ${A}`);this._clearSource(E)}}this._updateTilesForChangedImages(),this._updateTilesForChangedGlyphs();for(let E in this._updatedPaintProps)this._layers[E].updateTransitions(a);this.light.updateTransitions(a),this.sky.updateTransitions(a),this._resetUpdates()}let h={};for(let g in this.sourceCaches){let b=this.sourceCaches[g];h[g]=b.used,b.used=!1}for(let g of this._order){let b=this._layers[g];b.recalculate(a,this._availableImages),!b.isHidden(a.zoom)&&b.source&&(this.sourceCaches[b.source].used=!0)}for(let g in h){let b=this.sourceCaches[g];!!h[g]!=!!b.used&&b.fire(new o.l("data",{sourceDataType:"visibility",dataType:"source",sourceId:g}))}this.light.recalculate(a),this.sky.recalculate(a),this.projection.recalculate(a),this.z=a.zoom,l&&this.fire(new o.l("data",{dataType:"style"}))}_updateTilesForChangedImages(){let a=Object.keys(this._changedImages);if(a.length){for(let l in this.sourceCaches)this.sourceCaches[l].reloadTilesForDependencies(["icons","patterns"],a);this._changedImages={}}}_updateTilesForChangedGlyphs(){if(this._glyphsDidChange){for(let a in this.sourceCaches)this.sourceCaches[a].reloadTilesForDependencies(["glyphs"],[""]);this._glyphsDidChange=!1}}_updateWorkerLayers(a,l){this.dispatcher.broadcast("UL",{layers:this._serializeByIds(a,!1),removedIds:l})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={},this._glyphsDidChange=!1}setState(a,l={}){var h;this._checkLoaded();let g=this.serialize();if(a=l.transformStyle?l.transformStyle(g,a):a,((h=l.validate)===null||h===void 0||h)&&vv(this,o.y(a)))return!1;(a=o.bB(a)).layers=o.bz(a.layers);let b=o.bC(g,a),E=this._getOperationsToPerform(b);if(E.unimplemented.length>0)throw new Error(`Unimplemented: ${E.unimplemented.join(", ")}.`);if(E.operations.length===0)return!1;for(let A of E.operations)A();return this.stylesheet=a,this._serializedLayers=null,!0}_getOperationsToPerform(a){let l=[],h=[];for(let g of a)switch(g.command){case"setCenter":case"setZoom":case"setBearing":case"setPitch":case"setRoll":continue;case"addLayer":l.push(()=>this.addLayer.apply(this,g.args));break;case"removeLayer":l.push(()=>this.removeLayer.apply(this,g.args));break;case"setPaintProperty":l.push(()=>this.setPaintProperty.apply(this,g.args));break;case"setLayoutProperty":l.push(()=>this.setLayoutProperty.apply(this,g.args));break;case"setFilter":l.push(()=>this.setFilter.apply(this,g.args));break;case"addSource":l.push(()=>this.addSource.apply(this,g.args));break;case"removeSource":l.push(()=>this.removeSource.apply(this,g.args));break;case"setLayerZoomRange":l.push(()=>this.setLayerZoomRange.apply(this,g.args));break;case"setLight":l.push(()=>this.setLight.apply(this,g.args));break;case"setGeoJSONSourceData":l.push(()=>this.setGeoJSONSourceData.apply(this,g.args));break;case"setGlyphs":l.push(()=>this.setGlyphs.apply(this,g.args));break;case"setSprite":l.push(()=>this.setSprite.apply(this,g.args));break;case"setTerrain":l.push(()=>this.map.setTerrain.apply(this,g.args));break;case"setSky":l.push(()=>this.setSky.apply(this,g.args));break;case"setProjection":this.setProjection.apply(this,g.args);break;case"setTransition":l.push(()=>{});break;default:h.push(g.command)}return{operations:l,unimplemented:h}}addImage(a,l){if(this.getImage(a))return this.fire(new o.k(new Error(`An image named "${a}" already exists.`)));this.imageManager.addImage(a,l),this._afterImageUpdated(a)}updateImage(a,l){this.imageManager.updateImage(a,l)}getImage(a){return this.imageManager.getImage(a)}removeImage(a){if(!this.getImage(a))return this.fire(new o.k(new Error(`An image named "${a}" does not exist.`)));this.imageManager.removeImage(a),this._afterImageUpdated(a)}_afterImageUpdated(a){this._availableImages=this.imageManager.listImages(),this._changedImages[a]=!0,this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new o.l("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(a,l,h={}){if(this._checkLoaded(),this.sourceCaches[a]!==void 0)throw new Error(`Source "${a}" already exists.`);if(!l.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(l).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(l.type)>=0&&this._validate(o.y.source,`sources.${a}`,l,null,h))return;this.map&&this.map._collectResourceTiming&&(l.collectResourceTiming=!0);let g=this.sourceCaches[a]=new Pe(a,l,this.dispatcher);g.style=this,g.setEventedParent(this,()=>({isSourceLoaded:g.loaded(),source:g.serialize(),sourceId:a})),g.onAdd(this.map),this._changed=!0}removeSource(a){if(this._checkLoaded(),this.sourceCaches[a]===void 0)throw new Error("There is no source with this ID");for(let h in this._layers)if(this._layers[h].source===a)return this.fire(new o.k(new Error(`Source "${a}" cannot be removed while layer "${h}" is using it.`)));let l=this.sourceCaches[a];delete this.sourceCaches[a],delete this._updatedSources[a],l.fire(new o.l("data",{sourceDataType:"metadata",dataType:"source",sourceId:a})),l.setEventedParent(null),l.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(a,l){if(this._checkLoaded(),this.sourceCaches[a]===void 0)throw new Error(`There is no source with this ID=${a}`);let h=this.sourceCaches[a].getSource();if(h.type!=="geojson")throw new Error(`geojsonSource.type is ${h.type}, which is !== 'geojson`);h.setData(l),this._changed=!0}getSource(a){return this.sourceCaches[a]&&this.sourceCaches[a].getSource()}addLayer(a,l,h={}){this._checkLoaded();let g=a.id;if(this.getLayer(g))return void this.fire(new o.k(new Error(`Layer "${g}" already exists on this map.`)));let b;if(a.type==="custom"){if(vv(this,o.bD(a)))return;b=o.bA(a)}else{if("source"in a&&typeof a.source=="object"&&(this.addSource(g,a.source),a=o.bB(a),a=o.e(a,{source:g})),this._validate(o.y.layer,`layers.${g}`,a,{arrayIndex:-1},h))return;b=o.bA(a),this._validateLayer(b),b.setEventedParent(this,{layer:{id:g}})}let E=l?this._order.indexOf(l):this._order.length;if(l&&E===-1)this.fire(new o.k(new Error(`Cannot add layer "${g}" before non-existing layer "${l}".`)));else{if(this._order.splice(E,0,g),this._layerOrderChanged=!0,this._layers[g]=b,this._removedLayers[g]&&b.source&&b.type!=="custom"){let A=this._removedLayers[g];delete this._removedLayers[g],A.type!==b.type?this._updatedSources[b.source]="clear":(this._updatedSources[b.source]="reload",this.sourceCaches[b.source].pause())}this._updateLayer(b),b.onAdd&&b.onAdd(this.map)}}moveLayer(a,l){if(this._checkLoaded(),this._changed=!0,!this._layers[a])return void this.fire(new o.k(new Error(`The layer '${a}' does not exist in the map's style and cannot be moved.`)));if(a===l)return;let h=this._order.indexOf(a);this._order.splice(h,1);let g=l?this._order.indexOf(l):this._order.length;l&&g===-1?this.fire(new o.k(new Error(`Cannot move layer "${a}" before non-existing layer "${l}".`))):(this._order.splice(g,0,a),this._layerOrderChanged=!0)}removeLayer(a){this._checkLoaded();let l=this._layers[a];if(!l)return void this.fire(new o.k(new Error(`Cannot remove non-existing layer "${a}".`)));l.setEventedParent(null);let h=this._order.indexOf(a);this._order.splice(h,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[a]=l,delete this._layers[a],this._serializedLayers&&delete this._serializedLayers[a],delete this._updatedLayers[a],delete this._updatedPaintProps[a],l.onRemove&&l.onRemove(this.map)}getLayer(a){return this._layers[a]}getLayersOrder(){return[...this._order]}hasLayer(a){return a in this._layers}setLayerZoomRange(a,l,h){this._checkLoaded();let g=this.getLayer(a);g?g.minzoom===l&&g.maxzoom===h||(l!=null&&(g.minzoom=l),h!=null&&(g.maxzoom=h),this._updateLayer(g)):this.fire(new o.k(new Error(`Cannot set the zoom range of non-existing layer "${a}".`)))}setFilter(a,l,h={}){this._checkLoaded();let g=this.getLayer(a);if(g){if(!o.bE(g.filter,l))return l==null?(g.filter=void 0,void this._updateLayer(g)):void(this._validate(o.y.filter,`layers.${g.id}.filter`,l,null,h)||(g.filter=o.bB(l),this._updateLayer(g)))}else this.fire(new o.k(new Error(`Cannot filter non-existing layer "${a}".`)))}getFilter(a){return o.bB(this.getLayer(a).filter)}setLayoutProperty(a,l,h,g={}){this._checkLoaded();let b=this.getLayer(a);b?o.bE(b.getLayoutProperty(l),h)||(b.setLayoutProperty(l,h,g),this._updateLayer(b)):this.fire(new o.k(new Error(`Cannot style non-existing layer "${a}".`)))}getLayoutProperty(a,l){let h=this.getLayer(a);if(h)return h.getLayoutProperty(l);this.fire(new o.k(new Error(`Cannot get style of non-existing layer "${a}".`)))}setPaintProperty(a,l,h,g={}){this._checkLoaded();let b=this.getLayer(a);b?o.bE(b.getPaintProperty(l),h)||(b.setPaintProperty(l,h,g)&&this._updateLayer(b),this._changed=!0,this._updatedPaintProps[a]=!0,this._serializedLayers=null):this.fire(new o.k(new Error(`Cannot style non-existing layer "${a}".`)))}getPaintProperty(a,l){return this.getLayer(a).getPaintProperty(l)}setFeatureState(a,l){this._checkLoaded();let h=a.source,g=a.sourceLayer,b=this.sourceCaches[h];if(b===void 0)return void this.fire(new o.k(new Error(`The source '${h}' does not exist in the map's style.`)));let E=b.getSource().type;E==="geojson"&&g?this.fire(new o.k(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):E!=="vector"||g?(a.id===void 0&&this.fire(new o.k(new Error("The feature id parameter must be provided."))),b.setFeatureState(g,a.id,l)):this.fire(new o.k(new Error("The sourceLayer parameter must be provided for vector source types.")))}removeFeatureState(a,l){this._checkLoaded();let h=a.source,g=this.sourceCaches[h];if(g===void 0)return void this.fire(new o.k(new Error(`The source '${h}' does not exist in the map's style.`)));let b=g.getSource().type,E=b==="vector"?a.sourceLayer:void 0;b!=="vector"||E?l&&typeof a.id!="string"&&typeof a.id!="number"?this.fire(new o.k(new Error("A feature id is required to remove its specific state property."))):g.removeFeatureState(E,a.id,l):this.fire(new o.k(new Error("The sourceLayer parameter must be provided for vector source types.")))}getFeatureState(a){this._checkLoaded();let l=a.source,h=a.sourceLayer,g=this.sourceCaches[l];if(g!==void 0)return g.getSource().type!=="vector"||h?(a.id===void 0&&this.fire(new o.k(new Error("The feature id parameter must be provided."))),g.getFeatureState(h,a.id)):void this.fire(new o.k(new Error("The sourceLayer parameter must be provided for vector source types.")));this.fire(new o.k(new Error(`The source '${l}' does not exist in the map's style.`)))}getTransition(){return o.e({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){if(!this._loaded)return;let a=o.bF(this.sourceCaches,b=>b.serialize()),l=this._serializeByIds(this._order,!0),h=this.map.getTerrain()||void 0,g=this.stylesheet;return o.bG({version:g.version,name:g.name,metadata:g.metadata,light:g.light,sky:g.sky,center:g.center,zoom:g.zoom,bearing:g.bearing,pitch:g.pitch,sprite:g.sprite,glyphs:g.glyphs,transition:g.transition,projection:g.projection,sources:a,layers:l,terrain:h},b=>b!==void 0)}_updateLayer(a){this._updatedLayers[a.id]=!0,a.source&&!this._updatedSources[a.source]&&this.sourceCaches[a.source].getSource().type!=="raster"&&(this._updatedSources[a.source]="reload",this.sourceCaches[a.source].pause()),this._serializedLayers=null,this._changed=!0}_flattenAndSortRenderedFeatures(a){let l=E=>this._layers[E].type==="fill-extrusion",h={},g=[];for(let E=this._order.length-1;E>=0;E--){let A=this._order[E];if(l(A)){h[A]=E;for(let O of a){let k=O[A];if(k)for(let j of k)g.push(j)}}}g.sort((E,A)=>A.intersectionZ-E.intersectionZ);let b=[];for(let E=this._order.length-1;E>=0;E--){let A=this._order[E];if(l(A))for(let O=g.length-1;O>=0;O--){let k=g[O].feature;if(h[k.layer.id]<E)break;b.push(k),g.pop()}else for(let O of a){let k=O[A];if(k)for(let j of k)b.push(j.feature)}}return b}queryRenderedFeatures(a,l,h){l&&l.filter&&this._validate(o.y.filter,"queryRenderedFeatures.filter",l.filter,null,l);let g={};if(l&&l.layers){if(!(Array.isArray(l.layers)||l.layers instanceof Set))return this.fire(new o.k(new Error("parameters.layers must be an Array or a Set of strings"))),[];for(let k of l.layers){let j=this._layers[k];if(!j)return this.fire(new o.k(new Error(`The layer '${k}' does not exist in the map's style and cannot be queried for features.`))),[];g[j.source]=!0}}let b=[];l.availableImages=this._availableImages;let E=this._serializedAllLayers(),A=l.layers instanceof Set?l.layers:Array.isArray(l.layers)?new Set(l.layers):null,O=Object.assign(Object.assign({},l),{layers:A});for(let k in this.sourceCaches)l.layers&&!g[k]||b.push(je(this.sourceCaches[k],this._layers,E,a,O,h,this.map.terrain?(j,$,V)=>this.map.terrain.getElevation(j,$,V):void 0));return this.placement&&b.push(function(k,j,$,V,Q,ee,fe){let pe={},he=ee.queryRenderedSymbols(V),ve=[];for(let we of Object.keys(he).map(Number))ve.push(fe[we]);ve.sort(tt);for(let we of ve){let xe=we.featureIndex.lookupSymbolFeatures(he[we.bucketInstanceId],j,we.bucketIndex,we.sourceLayerIndex,Q.filter,Q.layers,Q.availableImages,k);for(let Ce in xe){let ke=pe[Ce]=pe[Ce]||[],Oe=xe[Ce];Oe.sort((Ve,rt)=>{let Ze=we.featureSortOrder;if(Ze){let Ye=Ze.indexOf(Ve.featureIndex);return Ze.indexOf(rt.featureIndex)-Ye}return rt.featureIndex-Ve.featureIndex});for(let Ve of Oe)ke.push(Ve)}}return function(we,xe,Ce){for(let ke in we)for(let Oe of we[ke])it(Oe,Ce[xe[ke].source]);return we}(pe,k,$)}(this._layers,E,this.sourceCaches,a,O,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(b)}querySourceFeatures(a,l){l&&l.filter&&this._validate(o.y.filter,"querySourceFeatures.filter",l.filter,null,l);let h=this.sourceCaches[a];return h?function(g,b){let E=g.getRenderableIds().map(k=>g.getTileByID(k)),A=[],O={};for(let k=0;k<E.length;k++){let j=E[k],$=j.tileID.canonical.key;O[$]||(O[$]=!0,j.querySourceFeatures(A,b))}return A}(h,l):[]}getLight(){return this.light.getLight()}setLight(a,l={}){this._checkLoaded();let h=this.light.getLight(),g=!1;for(let E in a)if(!o.bE(a[E],h[E])){g=!0;break}if(!g)return;let b={now:w.now(),transition:o.e({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(a,l),this.light.updateTransitions(b)}getProjection(){var a;return(a=this.stylesheet)===null||a===void 0?void 0:a.projection}setProjection(a){if(this._checkLoaded(),this.projection){if(this.projection.name===a.type)return;this.projection.destroy(),delete this.projection}this.stylesheet.projection=a,this._setProjectionInternal(a.type)}getSky(){var a;return(a=this.stylesheet)===null||a===void 0?void 0:a.sky}setSky(a,l={}){this._checkLoaded();let h=this.getSky(),g=!1;if(!a&&!h)return;if(a&&!h)g=!0;else if(!a&&h)g=!0;else for(let E in a)if(!o.bE(a[E],h[E])){g=!0;break}if(!g)return;let b={now:w.now(),transition:o.e({duration:300,delay:0},this.stylesheet.transition)};this.stylesheet.sky=a,this.sky.setSky(a,l),this.sky.updateTransitions(b)}_setProjectionInternal(a){let l=function(h){if(Array.isArray(h)){let g=new hv({type:h});return{projection:g,transform:new nm,cameraHelper:new Tp(g)}}switch(h){case"mercator":return{projection:new Yh,transform:new Uf,cameraHelper:new Xh};case"globe":{let g=new hv({type:["interpolate",["linear"],["zoom"],11,"vertical-perspective",12,"mercator"]});return{projection:g,transform:new nm,cameraHelper:new Tp(g)}}case"vertical-perspective":return{projection:new Jh,transform:new Ep,cameraHelper:new Ts};default:return o.w(`Unknown projection name: ${h}. Falling back to mercator projection.`),{projection:new Yh,transform:new Uf,cameraHelper:new Xh}}}(a);this.projection=l.projection,this.map.migrateProjection(l.transform,l.cameraHelper);for(let h in this.sourceCaches)this.sourceCaches[h].reload()}_validate(a,l,h,g,b={}){return(!b||b.validate!==!1)&&vv(this,a.call(o.y,o.e({key:l,style:this.serialize(),value:h,styleSpec:o.v},g)))}_remove(a=!0){this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._loadStyleRequest&&(this._loadStyleRequest.abort(),this._loadStyleRequest=null),this._spriteRequest&&(this._spriteRequest.abort(),this._spriteRequest=null),Kn().off(Jr,this._rtlPluginLoaded);for(let l in this._layers)this._layers[l].setEventedParent(null);for(let l in this.sourceCaches){let h=this.sourceCaches[l];h.setEventedParent(null),h.onRemove(this.map)}this.imageManager.setEventedParent(null),this.setEventedParent(null),a&&this.dispatcher.broadcast("RM",void 0),this.dispatcher.remove(a)}_clearSource(a){this.sourceCaches[a].clearTiles()}_reloadSource(a){this.sourceCaches[a].resume(),this.sourceCaches[a].reload()}_updateSources(a){for(let l in this.sourceCaches)this.sourceCaches[l].update(a,this.map.terrain)}_generateCollisionBoxes(){for(let a in this.sourceCaches)this._reloadSource(a)}_updatePlacement(a,l,h,g,b=!1){let E=!1,A=!1,O={};for(let k of this._order){let j=this._layers[k];if(j.type!=="symbol")continue;if(!O[j.source]){let V=this.sourceCaches[j.source];O[j.source]=V.getRenderableIds(!0).map(Q=>V.getTileByID(Q)).sort((Q,ee)=>ee.tileID.overscaledZ-Q.tileID.overscaledZ||(Q.tileID.isLessThan(ee.tileID)?-1:1))}let $=this.crossTileSymbolIndex.addLayer(j,O[j.source],a.center.lng);E=E||$}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((b=b||this._layerOrderChanged||h===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(w.now(),a.zoom))&&(this.pauseablePlacement=new yE(a,this.map.terrain,this._order,b,l,h,g,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,O),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(w.now()),A=!0),E&&this.pauseablePlacement.placement.setStale()),A||E)for(let k of this._order){let j=this._layers[k];j.type==="symbol"&&this.placement.updateLayerOpacities(j,O[j.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(w.now())}_releaseSymbolFadeTiles(){for(let a in this.sourceCaches)this.sourceCaches[a].releaseSymbolFadeTiles()}getImages(a,l){return o._(this,void 0,void 0,function*(){let h=yield this.imageManager.getImages(l.icons);this._updateTilesForChangedImages();let g=this.sourceCaches[l.source];return g&&g.setDependencies(l.tileID.key,l.type,l.icons),h})}getGlyphs(a,l){return o._(this,void 0,void 0,function*(){let h=yield this.glyphManager.getGlyphs(l.stacks),g=this.sourceCaches[l.source];return g&&g.setDependencies(l.tileID.key,l.type,[""]),h})}getGlyphsUrl(){return this.stylesheet.glyphs||null}setGlyphs(a,l={}){this._checkLoaded(),a&&this._validate(o.y.glyphs,"glyphs",a,null,l)||(this._glyphsDidChange=!0,this.stylesheet.glyphs=a,this.glyphManager.entries={},this.glyphManager.setURL(a))}addSprite(a,l,h={},g){this._checkLoaded();let b=[{id:a,url:l}],E=[...re(this.stylesheet.sprite),...b];this._validate(o.y.sprite,"sprite",E,null,h)||(this.stylesheet.sprite=E,this._loadSprite(b,!0,g))}removeSprite(a){this._checkLoaded();let l=re(this.stylesheet.sprite);if(l.find(h=>h.id===a)){if(this._spritesImagesIds[a])for(let h of this._spritesImagesIds[a])this.imageManager.removeImage(h),this._changedImages[h]=!0;l.splice(l.findIndex(h=>h.id===a),1),this.stylesheet.sprite=l.length>0?l:void 0,delete this._spritesImagesIds[a],this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new o.l("data",{dataType:"style"}))}else this.fire(new o.k(new Error(`Sprite "${a}" doesn't exists on this map.`)))}getSprite(){return re(this.stylesheet.sprite)}setSprite(a,l={},h){this._checkLoaded(),a&&this._validate(o.y.sprite,"sprite",a,null,l)||(this.stylesheet.sprite=a,a?this._loadSprite(a,!0,h):(this._unloadSprite(),h&&h(null)))}}var $k=o.aG([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class Gk{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(a,l,h,g,b,E,A,O,k){this.context=a;let j=this.boundPaintVertexBuffers.length!==g.length;for(let $=0;!j&&$<g.length;$++)this.boundPaintVertexBuffers[$]!==g[$]&&(j=!0);!this.vao||this.boundProgram!==l||this.boundLayoutVertexBuffer!==h||j||this.boundIndexBuffer!==b||this.boundVertexOffset!==E||this.boundDynamicVertexBuffer!==A||this.boundDynamicVertexBuffer2!==O||this.boundDynamicVertexBuffer3!==k?this.freshBind(l,h,g,b,E,A,O,k):(a.bindVertexArray.set(this.vao),A&&A.bind(),b&&b.dynamicDraw&&b.bind(),O&&O.bind(),k&&k.bind())}freshBind(a,l,h,g,b,E,A,O){let k=a.numAttributes,j=this.context,$=j.gl;this.vao&&this.destroy(),this.vao=j.createVertexArray(),j.bindVertexArray.set(this.vao),this.boundProgram=a,this.boundLayoutVertexBuffer=l,this.boundPaintVertexBuffers=h,this.boundIndexBuffer=g,this.boundVertexOffset=b,this.boundDynamicVertexBuffer=E,this.boundDynamicVertexBuffer2=A,this.boundDynamicVertexBuffer3=O,l.enableAttributes($,a);for(let V of h)V.enableAttributes($,a);E&&E.enableAttributes($,a),A&&A.enableAttributes($,a),O&&O.enableAttributes($,a),l.bind(),l.setVertexAttribPointers($,a,b);for(let V of h)V.bind(),V.setVertexAttribPointers($,a,b);E&&(E.bind(),E.setVertexAttribPointers($,a,b)),g&&g.bind(),A&&(A.bind(),A.setVertexAttribPointers($,a,b)),O&&(O.bind(),O.setVertexAttribPointers($,a,b)),j.currentNumAttributes=k}destroy(){this.vao&&(this.context.deleteVertexArray(this.vao),this.vao=null)}}let Hk=(_,a,l,h,g)=>({u_texture:0,u_ele_delta:_,u_fog_matrix:a,u_fog_color:l?l.properties.get("fog-color"):o.b7.white,u_fog_ground_blend:l?l.properties.get("fog-ground-blend"):1,u_fog_ground_blend_opacity:g?0:l?l.calculateFogBlendOpacity(h):0,u_horizon_color:l?l.properties.get("horizon-color"):o.b7.white,u_horizon_fog_blend:l?l.properties.get("horizon-fog-blend"):1,u_is_globe_mode:g?1:0}),yv={mainMatrix:"u_projection_matrix",tileMercatorCoords:"u_projection_tile_mercator_coords",clippingPlane:"u_projection_clipping_plane",projectionTransition:"u_projection_transition",fallbackMatrix:"u_projection_fallback_matrix"};function Gf(_){let a=[];for(let l=0;l<_.length;l++){if(_[l]===null)continue;let h=_[l].split(" ");a.push(h.pop())}return a}class _v{constructor(a,l,h,g,b,E,A,O,k=[]){let j=a.gl;this.program=j.createProgram();let $=Gf(l.staticAttributes),V=h?h.getBinderAttributes():[],Q=$.concat(V),ee=Xo.prelude.staticUniforms?Gf(Xo.prelude.staticUniforms):[],fe=A.staticUniforms?Gf(A.staticUniforms):[],pe=l.staticUniforms?Gf(l.staticUniforms):[],he=h?h.getBinderUniforms():[],ve=ee.concat(fe).concat(pe).concat(he),we=[];for(let Ze of ve)we.indexOf(Ze)<0&&we.push(Ze);let xe=h?h.defines():[];Lo(j)&&xe.unshift("#version 300 es"),b&&xe.push("#define OVERDRAW_INSPECTOR;"),E&&xe.push("#define TERRAIN3D;"),O&&xe.push(O),k&&xe.push(...k);let Ce=xe.concat(Xo.prelude.fragmentSource,A.fragmentSource,l.fragmentSource).join(`
`),ke=xe.concat(Xo.prelude.vertexSource,A.vertexSource,l.vertexSource).join(`
`);Lo(j)||(Ce=function(Ze){return Ze.replace(/\bin\s/g,"varying ").replace("out highp vec4 fragColor;","").replace(/fragColor/g,"gl_FragColor").replace(/texture\(/g,"texture2D(")}(Ce),ke=function(Ze){return Ze.replace(/\bin\s/g,"attribute ").replace(/\bout\s/g,"varying ").replace(/texture\(/g,"texture2D(")}(ke));let Oe=j.createShader(j.FRAGMENT_SHADER);if(j.isContextLost())return void(this.failedToCreate=!0);if(j.shaderSource(Oe,Ce),j.compileShader(Oe),!j.getShaderParameter(Oe,j.COMPILE_STATUS))throw new Error(`Could not compile fragment shader: ${j.getShaderInfoLog(Oe)}`);j.attachShader(this.program,Oe);let Ve=j.createShader(j.VERTEX_SHADER);if(j.isContextLost())return void(this.failedToCreate=!0);if(j.shaderSource(Ve,ke),j.compileShader(Ve),!j.getShaderParameter(Ve,j.COMPILE_STATUS))throw new Error(`Could not compile vertex shader: ${j.getShaderInfoLog(Ve)}`);j.attachShader(this.program,Ve),this.attributes={};let rt={};this.numAttributes=Q.length;for(let Ze=0;Ze<this.numAttributes;Ze++)Q[Ze]&&(j.bindAttribLocation(this.program,Ze,Q[Ze]),this.attributes[Q[Ze]]=Ze);if(j.linkProgram(this.program),!j.getProgramParameter(this.program,j.LINK_STATUS))throw new Error(`Program failed to link: ${j.getProgramInfoLog(this.program)}`);j.deleteShader(Ve),j.deleteShader(Oe);for(let Ze=0;Ze<we.length;Ze++){let Ye=we[Ze];if(Ye&&!rt[Ye]){let Je=j.getUniformLocation(this.program,Ye);Je&&(rt[Ye]=Je)}}this.fixedUniforms=g(a,rt),this.terrainUniforms=((Ze,Ye)=>({u_depth:new o.bH(Ze,Ye.u_depth),u_terrain:new o.bH(Ze,Ye.u_terrain),u_terrain_dim:new o.b8(Ze,Ye.u_terrain_dim),u_terrain_matrix:new o.bJ(Ze,Ye.u_terrain_matrix),u_terrain_unpack:new o.bK(Ze,Ye.u_terrain_unpack),u_terrain_exaggeration:new o.b8(Ze,Ye.u_terrain_exaggeration)}))(a,rt),this.projectionUniforms=((Ze,Ye)=>({u_projection_matrix:new o.bJ(Ze,Ye.u_projection_matrix),u_projection_tile_mercator_coords:new o.bK(Ze,Ye.u_projection_tile_mercator_coords),u_projection_clipping_plane:new o.bK(Ze,Ye.u_projection_clipping_plane),u_projection_transition:new o.b8(Ze,Ye.u_projection_transition),u_projection_fallback_matrix:new o.bJ(Ze,Ye.u_projection_fallback_matrix)}))(a,rt),this.binderUniforms=h?h.getUniforms(a,rt):[]}draw(a,l,h,g,b,E,A,O,k,j,$,V,Q,ee,fe,pe,he,ve,we){let xe=a.gl;if(this.failedToCreate)return;if(a.program.set(this.program),a.setDepthMode(h),a.setStencilMode(g),a.setColorMode(b),a.setCullFace(E),O){a.activeTexture.set(xe.TEXTURE2),xe.bindTexture(xe.TEXTURE_2D,O.depthTexture),a.activeTexture.set(xe.TEXTURE3),xe.bindTexture(xe.TEXTURE_2D,O.texture);for(let ke in this.terrainUniforms)this.terrainUniforms[ke].set(O[ke])}if(k)for(let ke in k)this.projectionUniforms[yv[ke]].set(k[ke]);if(A)for(let ke in this.fixedUniforms)this.fixedUniforms[ke].set(A[ke]);pe&&pe.setUniforms(a,this.binderUniforms,ee,{zoom:fe});let Ce=0;switch(l){case xe.LINES:Ce=2;break;case xe.TRIANGLES:Ce=3;break;case xe.LINE_STRIP:Ce=1}for(let ke of Q.get()){let Oe=ke.vaos||(ke.vaos={});(Oe[j]||(Oe[j]=new Gk)).bind(a,this,$,pe?pe.getPaintVertexBuffers():[],V,ke.vertexOffset,he,ve,we),xe.drawElements(l,ke.primitiveLength*Ce,xe.UNSIGNED_SHORT,ke.primitiveOffset*Ce*2)}}}function bv(_,a,l){let h=1/o.az(l,1,a.transform.tileZoom),g=Math.pow(2,l.tileID.overscaledZ),b=l.tileSize*Math.pow(2,a.transform.tileZoom)/g,E=b*(l.tileID.canonical.x+l.tileID.wrap*g),A=b*l.tileID.canonical.y;return{u_image:0,u_texsize:l.imageAtlasTexture.size,u_scale:[h,_.fromScale,_.toScale],u_fade:_.t,u_pixel_coord_upper:[E>>16,A>>16],u_pixel_coord_lower:[65535&E,65535&A]}}let xv=(_,a,l,h)=>{let g=_.style.light,b=g.properties.get("position"),E=[b.x,b.y,b.z],A=o.bN();g.properties.get("anchor")==="viewport"&&o.bO(A,_.transform.bearingInRadians),o.bP(E,E,A);let O=_.transform.transformLightDirection(E),k=g.properties.get("color");return{u_lightpos:E,u_lightpos_globe:O,u_lightintensity:g.properties.get("intensity"),u_lightcolor:[k.r,k.g,k.b],u_vertical_gradient:+a,u_opacity:l,u_fill_translate:h}},Al=(_,a,l,h,g,b,E)=>o.e(xv(_,a,l,h),bv(b,_,E),{u_height_factor:-Math.pow(2,g.overscaledZ)/E.tileSize/8}),bE=(_,a,l,h)=>o.e(bv(a,_,l),{u_fill_translate:h}),F_=(_,a)=>({u_world:_,u_fill_translate:a}),im=(_,a,l,h,g)=>o.e(bE(_,a,l,g),{u_world:h}),om=(_,a,l,h,g)=>{let b=_.transform,E,A,O=0;if(l.paint.get("circle-pitch-alignment")==="map"){let k=o.az(a,1,b.zoom);E=!0,A=[k,k],O=k/(o.Z*Math.pow(2,a.tileID.overscaledZ))*2*Math.PI*g}else E=!1,A=b.pixelsToGLUnits;return{u_camera_to_center_distance:b.cameraToCenterDistance,u_scale_with_map:+(l.paint.get("circle-pitch-scale")==="map"),u_pitch_with_map:+E,u_device_pixel_ratio:_.pixelRatio,u_extrude_scale:A,u_globe_extrude_scale:O,u_translate:h}},Wk=_=>({u_pixel_extrude_scale:[1/_.width,1/_.height]}),wv=_=>({u_viewport_size:[_.width,_.height]}),xE=(_,a=1)=>({u_color:_,u_overlay:0,u_overlay_scale:a}),Mp=(_,a,l,h)=>{let g=o.az(_,1,a)/(o.Z*Math.pow(2,_.tileID.overscaledZ))*2*Math.PI*h;return{u_extrude_scale:o.az(_,1,a),u_intensity:l,u_globe_extrude_scale:g}},wE=(_,a,l,h)=>{let g=o.K();o.bQ(g,0,_.width,_.height,0,0,1);let b=_.context.gl;return{u_matrix:g,u_world:[b.drawingBufferWidth,b.drawingBufferHeight],u_image:l,u_color_ramp:h,u_opacity:a.paint.get("heatmap-opacity")}},SE=(_,a,l)=>{let h=l.paint.get("hillshade-accent-color"),g;switch(l.paint.get("hillshade-method")){case"basic":g=4;break;case"combined":g=1;break;case"igor":g=2;break;case"multidirectional":g=3;break;default:g=0}let b=l.getIlluminationProperties();for(let E=0;E<b.directionRadians.length;E++)l.paint.get("hillshade-illumination-anchor")==="viewport"&&(b.directionRadians[E]+=_.transform.bearingInRadians);return{u_image:0,u_latrange:IE(0,a.tileID),u_exaggeration:l.paint.get("hillshade-exaggeration"),u_altitudes:b.altitudeRadians,u_azimuths:b.directionRadians,u_accent:h,u_method:g,u_highlights:b.highlightColor,u_shadows:b.shadowColor}},Zk=(_,a)=>{let l=a.stride,h=o.K();return o.bQ(h,0,o.Z,-8192,0,0,1),o.L(h,h,[0,-8192,0]),{u_matrix:h,u_image:1,u_dimension:[l,l],u_zoom:_.overscaledZ,u_unpack:a.getUnpackVector()}};function IE(_,a){let l=Math.pow(2,a.canonical.z),h=a.canonical.y;return[new o.$(0,h/l).toLngLat().lat,new o.$(0,(h+1)/l).toLngLat().lat]}let am=(_,a,l,h)=>{let g=_.transform;return{u_translation:fc(_,a,l),u_ratio:h/o.az(a,1,g.zoom),u_device_pixel_ratio:_.pixelRatio,u_units_to_pixels:[1/g.pixelsToGLUnits[0],1/g.pixelsToGLUnits[1]]}},EE=(_,a,l,h,g)=>o.e(am(_,a,l,h),{u_image:0,u_image_height:g}),TE=(_,a,l,h,g)=>{let b=_.transform,E=B_(a,b);return{u_translation:fc(_,a,l),u_texsize:a.imageAtlasTexture.size,u_ratio:h/o.az(a,1,b.zoom),u_device_pixel_ratio:_.pixelRatio,u_image:0,u_scale:[E,g.fromScale,g.toScale],u_fade:g.t,u_units_to_pixels:[1/b.pixelsToGLUnits[0],1/b.pixelsToGLUnits[1]]}},ME=(_,a,l,h,g,b)=>{let E=_.lineAtlas,A=B_(a,_.transform),O=l.layout.get("line-cap")==="round",k=E.getDash(g.from,O),j=E.getDash(g.to,O),$=k.width*b.fromScale,V=j.width*b.toScale;return o.e(am(_,a,l,h),{u_patternscale_a:[A/$,-k.height/2],u_patternscale_b:[A/V,-j.height/2],u_sdfgamma:E.width/(256*Math.min($,V)*_.pixelRatio)/2,u_image:0,u_tex_y_a:k.y,u_tex_y_b:j.y,u_mix:b.t})};function B_(_,a){return 1/o.az(_,1,a.tileZoom)}function fc(_,a,l){return o.aA(_.transform,a,l.paint.get("line-translate"),l.paint.get("line-translate-anchor"))}let CE=(_,a,l,h,g)=>{return{u_tl_parent:_,u_scale_parent:a,u_buffer_scale:1,u_fade_t:l.mix,u_opacity:l.opacity*h.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:h.paint.get("raster-brightness-min"),u_brightness_high:h.paint.get("raster-brightness-max"),u_saturation_factor:(E=h.paint.get("raster-saturation"),E>0?1-1/(1.001-E):-E),u_contrast_factor:(b=h.paint.get("raster-contrast"),b>0?1/(1-b):1+b),u_spin_weights:AE(h.paint.get("raster-hue-rotate")),u_coords_top:[g[0].x,g[0].y,g[1].x,g[1].y],u_coords_bottom:[g[3].x,g[3].y,g[2].x,g[2].y]};var b,E};function AE(_){_*=Math.PI/180;let a=Math.sin(_),l=Math.cos(_);return[(2*l+1)/3,(-Math.sqrt(3)*a-l+1)/3,(Math.sqrt(3)*a-l+1)/3]}let Hf=(_,a,l,h,g,b,E,A,O,k,j,$,V)=>{let Q=E.transform;return{u_is_size_zoom_constant:+(_==="constant"||_==="source"),u_is_size_feature_constant:+(_==="constant"||_==="camera"),u_size_t:a?a.uSizeT:0,u_size:a?a.uSize:0,u_camera_to_center_distance:Q.cameraToCenterDistance,u_pitch:Q.pitch/360*2*Math.PI,u_rotate_symbol:+l,u_aspect_ratio:Q.width/Q.height,u_fade_change:E.options.fadeDuration?E.symbolFadeChange:1,u_label_plane_matrix:A,u_coord_matrix:O,u_is_text:+j,u_pitch_with_map:+h,u_is_along_line:g,u_is_variable_anchor:b,u_texsize:$,u_texture:0,u_translation:k,u_pitched_scale:V}},PE=(_,a,l,h,g,b,E,A,O,k,j,$,V,Q)=>{let ee=E.transform;return o.e(Hf(_,a,l,h,g,b,E,A,O,k,j,$,Q),{u_gamma_scale:h?Math.cos(ee.pitch*Math.PI/180)*ee.cameraToCenterDistance:1,u_device_pixel_ratio:E.pixelRatio,u_is_halo:1})},Sv=(_,a,l,h,g,b,E,A,O,k,j,$,V)=>o.e(PE(_,a,l,h,g,b,E,A,O,k,!0,j,0,V),{u_texsize_icon:$,u_texture_icon:1}),Yk=(_,a)=>({u_opacity:_,u_color:a}),Kk=(_,a,l,h,g)=>o.e(function(b,E,A,O){let k=A.imageManager.getPattern(b.from.toString()),j=A.imageManager.getPattern(b.to.toString()),{width:$,height:V}=A.imageManager.getPixelSize(),Q=Math.pow(2,O.tileID.overscaledZ),ee=O.tileSize*Math.pow(2,A.transform.tileZoom)/Q,fe=ee*(O.tileID.canonical.x+O.tileID.wrap*Q),pe=ee*O.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:k.tl,u_pattern_br_a:k.br,u_pattern_tl_b:j.tl,u_pattern_br_b:j.br,u_texsize:[$,V],u_mix:E.t,u_pattern_size_a:k.displaySize,u_pattern_size_b:j.displaySize,u_scale_a:E.fromScale,u_scale_b:E.toScale,u_tile_units_to_pixels:1/o.az(O,1,A.transform.tileZoom),u_pixel_coord_upper:[fe>>16,pe>>16],u_pixel_coord_lower:[65535&fe,65535&pe]}}(l,g,a,h),{u_opacity:_}),U_=(_,a)=>{},OE={fillExtrusion:(_,a)=>({u_lightpos:new o.bL(_,a.u_lightpos),u_lightpos_globe:new o.bL(_,a.u_lightpos_globe),u_lightintensity:new o.b8(_,a.u_lightintensity),u_lightcolor:new o.bL(_,a.u_lightcolor),u_vertical_gradient:new o.b8(_,a.u_vertical_gradient),u_opacity:new o.b8(_,a.u_opacity),u_fill_translate:new o.bM(_,a.u_fill_translate)}),fillExtrusionPattern:(_,a)=>({u_lightpos:new o.bL(_,a.u_lightpos),u_lightpos_globe:new o.bL(_,a.u_lightpos_globe),u_lightintensity:new o.b8(_,a.u_lightintensity),u_lightcolor:new o.bL(_,a.u_lightcolor),u_vertical_gradient:new o.b8(_,a.u_vertical_gradient),u_height_factor:new o.b8(_,a.u_height_factor),u_opacity:new o.b8(_,a.u_opacity),u_fill_translate:new o.bM(_,a.u_fill_translate),u_image:new o.bH(_,a.u_image),u_texsize:new o.bM(_,a.u_texsize),u_pixel_coord_upper:new o.bM(_,a.u_pixel_coord_upper),u_pixel_coord_lower:new o.bM(_,a.u_pixel_coord_lower),u_scale:new o.bL(_,a.u_scale),u_fade:new o.b8(_,a.u_fade)}),fill:(_,a)=>({u_fill_translate:new o.bM(_,a.u_fill_translate)}),fillPattern:(_,a)=>({u_image:new o.bH(_,a.u_image),u_texsize:new o.bM(_,a.u_texsize),u_pixel_coord_upper:new o.bM(_,a.u_pixel_coord_upper),u_pixel_coord_lower:new o.bM(_,a.u_pixel_coord_lower),u_scale:new o.bL(_,a.u_scale),u_fade:new o.b8(_,a.u_fade),u_fill_translate:new o.bM(_,a.u_fill_translate)}),fillOutline:(_,a)=>({u_world:new o.bM(_,a.u_world),u_fill_translate:new o.bM(_,a.u_fill_translate)}),fillOutlinePattern:(_,a)=>({u_world:new o.bM(_,a.u_world),u_image:new o.bH(_,a.u_image),u_texsize:new o.bM(_,a.u_texsize),u_pixel_coord_upper:new o.bM(_,a.u_pixel_coord_upper),u_pixel_coord_lower:new o.bM(_,a.u_pixel_coord_lower),u_scale:new o.bL(_,a.u_scale),u_fade:new o.b8(_,a.u_fade),u_fill_translate:new o.bM(_,a.u_fill_translate)}),circle:(_,a)=>({u_camera_to_center_distance:new o.b8(_,a.u_camera_to_center_distance),u_scale_with_map:new o.bH(_,a.u_scale_with_map),u_pitch_with_map:new o.bH(_,a.u_pitch_with_map),u_extrude_scale:new o.bM(_,a.u_extrude_scale),u_device_pixel_ratio:new o.b8(_,a.u_device_pixel_ratio),u_globe_extrude_scale:new o.b8(_,a.u_globe_extrude_scale),u_translate:new o.bM(_,a.u_translate)}),collisionBox:(_,a)=>({u_pixel_extrude_scale:new o.bM(_,a.u_pixel_extrude_scale)}),collisionCircle:(_,a)=>({u_viewport_size:new o.bM(_,a.u_viewport_size)}),debug:(_,a)=>({u_color:new o.bI(_,a.u_color),u_overlay:new o.bH(_,a.u_overlay),u_overlay_scale:new o.b8(_,a.u_overlay_scale)}),depth:U_,clippingMask:U_,heatmap:(_,a)=>({u_extrude_scale:new o.b8(_,a.u_extrude_scale),u_intensity:new o.b8(_,a.u_intensity),u_globe_extrude_scale:new o.b8(_,a.u_globe_extrude_scale)}),heatmapTexture:(_,a)=>({u_matrix:new o.bJ(_,a.u_matrix),u_world:new o.bM(_,a.u_world),u_image:new o.bH(_,a.u_image),u_color_ramp:new o.bH(_,a.u_color_ramp),u_opacity:new o.b8(_,a.u_opacity)}),hillshade:(_,a)=>({u_image:new o.bH(_,a.u_image),u_latrange:new o.bM(_,a.u_latrange),u_exaggeration:new o.b8(_,a.u_exaggeration),u_altitudes:new o.bS(_,a.u_altitudes),u_azimuths:new o.bS(_,a.u_azimuths),u_accent:new o.bI(_,a.u_accent),u_method:new o.bH(_,a.u_method),u_shadows:new o.bR(_,a.u_shadows),u_highlights:new o.bR(_,a.u_highlights)}),hillshadePrepare:(_,a)=>({u_matrix:new o.bJ(_,a.u_matrix),u_image:new o.bH(_,a.u_image),u_dimension:new o.bM(_,a.u_dimension),u_zoom:new o.b8(_,a.u_zoom),u_unpack:new o.bK(_,a.u_unpack)}),line:(_,a)=>({u_translation:new o.bM(_,a.u_translation),u_ratio:new o.b8(_,a.u_ratio),u_device_pixel_ratio:new o.b8(_,a.u_device_pixel_ratio),u_units_to_pixels:new o.bM(_,a.u_units_to_pixels)}),lineGradient:(_,a)=>({u_translation:new o.bM(_,a.u_translation),u_ratio:new o.b8(_,a.u_ratio),u_device_pixel_ratio:new o.b8(_,a.u_device_pixel_ratio),u_units_to_pixels:new o.bM(_,a.u_units_to_pixels),u_image:new o.bH(_,a.u_image),u_image_height:new o.b8(_,a.u_image_height)}),linePattern:(_,a)=>({u_translation:new o.bM(_,a.u_translation),u_texsize:new o.bM(_,a.u_texsize),u_ratio:new o.b8(_,a.u_ratio),u_device_pixel_ratio:new o.b8(_,a.u_device_pixel_ratio),u_image:new o.bH(_,a.u_image),u_units_to_pixels:new o.bM(_,a.u_units_to_pixels),u_scale:new o.bL(_,a.u_scale),u_fade:new o.b8(_,a.u_fade)}),lineSDF:(_,a)=>({u_translation:new o.bM(_,a.u_translation),u_ratio:new o.b8(_,a.u_ratio),u_device_pixel_ratio:new o.b8(_,a.u_device_pixel_ratio),u_units_to_pixels:new o.bM(_,a.u_units_to_pixels),u_patternscale_a:new o.bM(_,a.u_patternscale_a),u_patternscale_b:new o.bM(_,a.u_patternscale_b),u_sdfgamma:new o.b8(_,a.u_sdfgamma),u_image:new o.bH(_,a.u_image),u_tex_y_a:new o.b8(_,a.u_tex_y_a),u_tex_y_b:new o.b8(_,a.u_tex_y_b),u_mix:new o.b8(_,a.u_mix)}),raster:(_,a)=>({u_tl_parent:new o.bM(_,a.u_tl_parent),u_scale_parent:new o.b8(_,a.u_scale_parent),u_buffer_scale:new o.b8(_,a.u_buffer_scale),u_fade_t:new o.b8(_,a.u_fade_t),u_opacity:new o.b8(_,a.u_opacity),u_image0:new o.bH(_,a.u_image0),u_image1:new o.bH(_,a.u_image1),u_brightness_low:new o.b8(_,a.u_brightness_low),u_brightness_high:new o.b8(_,a.u_brightness_high),u_saturation_factor:new o.b8(_,a.u_saturation_factor),u_contrast_factor:new o.b8(_,a.u_contrast_factor),u_spin_weights:new o.bL(_,a.u_spin_weights),u_coords_top:new o.bK(_,a.u_coords_top),u_coords_bottom:new o.bK(_,a.u_coords_bottom)}),symbolIcon:(_,a)=>({u_is_size_zoom_constant:new o.bH(_,a.u_is_size_zoom_constant),u_is_size_feature_constant:new o.bH(_,a.u_is_size_feature_constant),u_size_t:new o.b8(_,a.u_size_t),u_size:new o.b8(_,a.u_size),u_camera_to_center_distance:new o.b8(_,a.u_camera_to_center_distance),u_pitch:new o.b8(_,a.u_pitch),u_rotate_symbol:new o.bH(_,a.u_rotate_symbol),u_aspect_ratio:new o.b8(_,a.u_aspect_ratio),u_fade_change:new o.b8(_,a.u_fade_change),u_label_plane_matrix:new o.bJ(_,a.u_label_plane_matrix),u_coord_matrix:new o.bJ(_,a.u_coord_matrix),u_is_text:new o.bH(_,a.u_is_text),u_pitch_with_map:new o.bH(_,a.u_pitch_with_map),u_is_along_line:new o.bH(_,a.u_is_along_line),u_is_variable_anchor:new o.bH(_,a.u_is_variable_anchor),u_texsize:new o.bM(_,a.u_texsize),u_texture:new o.bH(_,a.u_texture),u_translation:new o.bM(_,a.u_translation),u_pitched_scale:new o.b8(_,a.u_pitched_scale)}),symbolSDF:(_,a)=>({u_is_size_zoom_constant:new o.bH(_,a.u_is_size_zoom_constant),u_is_size_feature_constant:new o.bH(_,a.u_is_size_feature_constant),u_size_t:new o.b8(_,a.u_size_t),u_size:new o.b8(_,a.u_size),u_camera_to_center_distance:new o.b8(_,a.u_camera_to_center_distance),u_pitch:new o.b8(_,a.u_pitch),u_rotate_symbol:new o.bH(_,a.u_rotate_symbol),u_aspect_ratio:new o.b8(_,a.u_aspect_ratio),u_fade_change:new o.b8(_,a.u_fade_change),u_label_plane_matrix:new o.bJ(_,a.u_label_plane_matrix),u_coord_matrix:new o.bJ(_,a.u_coord_matrix),u_is_text:new o.bH(_,a.u_is_text),u_pitch_with_map:new o.bH(_,a.u_pitch_with_map),u_is_along_line:new o.bH(_,a.u_is_along_line),u_is_variable_anchor:new o.bH(_,a.u_is_variable_anchor),u_texsize:new o.bM(_,a.u_texsize),u_texture:new o.bH(_,a.u_texture),u_gamma_scale:new o.b8(_,a.u_gamma_scale),u_device_pixel_ratio:new o.b8(_,a.u_device_pixel_ratio),u_is_halo:new o.bH(_,a.u_is_halo),u_translation:new o.bM(_,a.u_translation),u_pitched_scale:new o.b8(_,a.u_pitched_scale)}),symbolTextAndIcon:(_,a)=>({u_is_size_zoom_constant:new o.bH(_,a.u_is_size_zoom_constant),u_is_size_feature_constant:new o.bH(_,a.u_is_size_feature_constant),u_size_t:new o.b8(_,a.u_size_t),u_size:new o.b8(_,a.u_size),u_camera_to_center_distance:new o.b8(_,a.u_camera_to_center_distance),u_pitch:new o.b8(_,a.u_pitch),u_rotate_symbol:new o.bH(_,a.u_rotate_symbol),u_aspect_ratio:new o.b8(_,a.u_aspect_ratio),u_fade_change:new o.b8(_,a.u_fade_change),u_label_plane_matrix:new o.bJ(_,a.u_label_plane_matrix),u_coord_matrix:new o.bJ(_,a.u_coord_matrix),u_is_text:new o.bH(_,a.u_is_text),u_pitch_with_map:new o.bH(_,a.u_pitch_with_map),u_is_along_line:new o.bH(_,a.u_is_along_line),u_is_variable_anchor:new o.bH(_,a.u_is_variable_anchor),u_texsize:new o.bM(_,a.u_texsize),u_texsize_icon:new o.bM(_,a.u_texsize_icon),u_texture:new o.bH(_,a.u_texture),u_texture_icon:new o.bH(_,a.u_texture_icon),u_gamma_scale:new o.b8(_,a.u_gamma_scale),u_device_pixel_ratio:new o.b8(_,a.u_device_pixel_ratio),u_is_halo:new o.bH(_,a.u_is_halo),u_translation:new o.bM(_,a.u_translation),u_pitched_scale:new o.b8(_,a.u_pitched_scale)}),background:(_,a)=>({u_opacity:new o.b8(_,a.u_opacity),u_color:new o.bI(_,a.u_color)}),backgroundPattern:(_,a)=>({u_opacity:new o.b8(_,a.u_opacity),u_image:new o.bH(_,a.u_image),u_pattern_tl_a:new o.bM(_,a.u_pattern_tl_a),u_pattern_br_a:new o.bM(_,a.u_pattern_br_a),u_pattern_tl_b:new o.bM(_,a.u_pattern_tl_b),u_pattern_br_b:new o.bM(_,a.u_pattern_br_b),u_texsize:new o.bM(_,a.u_texsize),u_mix:new o.b8(_,a.u_mix),u_pattern_size_a:new o.bM(_,a.u_pattern_size_a),u_pattern_size_b:new o.bM(_,a.u_pattern_size_b),u_scale_a:new o.b8(_,a.u_scale_a),u_scale_b:new o.b8(_,a.u_scale_b),u_pixel_coord_upper:new o.bM(_,a.u_pixel_coord_upper),u_pixel_coord_lower:new o.bM(_,a.u_pixel_coord_lower),u_tile_units_to_pixels:new o.b8(_,a.u_tile_units_to_pixels)}),terrain:(_,a)=>({u_texture:new o.bH(_,a.u_texture),u_ele_delta:new o.b8(_,a.u_ele_delta),u_fog_matrix:new o.bJ(_,a.u_fog_matrix),u_fog_color:new o.bI(_,a.u_fog_color),u_fog_ground_blend:new o.b8(_,a.u_fog_ground_blend),u_fog_ground_blend_opacity:new o.b8(_,a.u_fog_ground_blend_opacity),u_horizon_color:new o.bI(_,a.u_horizon_color),u_horizon_fog_blend:new o.b8(_,a.u_horizon_fog_blend),u_is_globe_mode:new o.b8(_,a.u_is_globe_mode)}),terrainDepth:(_,a)=>({u_ele_delta:new o.b8(_,a.u_ele_delta)}),terrainCoords:(_,a)=>({u_texture:new o.bH(_,a.u_texture),u_terrain_coords_id:new o.b8(_,a.u_terrain_coords_id),u_ele_delta:new o.b8(_,a.u_ele_delta)}),projectionErrorMeasurement:(_,a)=>({u_input:new o.b8(_,a.u_input),u_output_expected:new o.b8(_,a.u_output_expected)}),atmosphere:(_,a)=>({u_sun_pos:new o.bL(_,a.u_sun_pos),u_atmosphere_blend:new o.b8(_,a.u_atmosphere_blend),u_globe_position:new o.bL(_,a.u_globe_position),u_globe_radius:new o.b8(_,a.u_globe_radius),u_inv_proj_matrix:new o.bJ(_,a.u_inv_proj_matrix)}),sky:(_,a)=>({u_sky_color:new o.bI(_,a.u_sky_color),u_horizon_color:new o.bI(_,a.u_horizon_color),u_horizon:new o.bM(_,a.u_horizon),u_horizon_normal:new o.bM(_,a.u_horizon_normal),u_sky_horizon_blend:new o.b8(_,a.u_sky_horizon_blend),u_sky_blend:new o.b8(_,a.u_sky_blend)})};class DE{constructor(a,l,h){this.context=a;let g=a.gl;this.buffer=g.createBuffer(),this.dynamicDraw=!!h,this.context.unbindVAO(),a.bindElementBuffer.set(this.buffer),g.bufferData(g.ELEMENT_ARRAY_BUFFER,l.arrayBuffer,this.dynamicDraw?g.DYNAMIC_DRAW:g.STATIC_DRAW),this.dynamicDraw||delete l.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(a){let l=this.context.gl;if(!this.dynamicDraw)throw new Error("Attempted to update data while not in dynamic mode.");this.context.unbindVAO(),this.bind(),l.bufferSubData(l.ELEMENT_ARRAY_BUFFER,0,a.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}let V_={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class NE{constructor(a,l,h,g){this.length=l.length,this.attributes=h,this.itemSize=l.bytesPerElement,this.dynamicDraw=g,this.context=a;let b=a.gl;this.buffer=b.createBuffer(),a.bindVertexBuffer.set(this.buffer),b.bufferData(b.ARRAY_BUFFER,l.arrayBuffer,this.dynamicDraw?b.DYNAMIC_DRAW:b.STATIC_DRAW),this.dynamicDraw||delete l.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(a){if(a.length!==this.length)throw new Error(`Length of new data is ${a.length}, which doesn't match current length of ${this.length}`);let l=this.context.gl;this.bind(),l.bufferSubData(l.ARRAY_BUFFER,0,a.arrayBuffer)}enableAttributes(a,l){for(let h=0;h<this.attributes.length;h++){let g=l.attributes[this.attributes[h].name];g!==void 0&&a.enableVertexAttribArray(g)}}setVertexAttribPointers(a,l,h){for(let g=0;g<this.attributes.length;g++){let b=this.attributes[g],E=l.attributes[b.name];E!==void 0&&a.vertexAttribPointer(E,b.components,a[V_[b.type]],!1,this.itemSize,b.offset+this.itemSize*(h||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class fn{constructor(a){this.gl=a.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(a){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class _u extends fn{getDefault(){return o.b7.transparent}set(a){let l=this.current;(a.r!==l.r||a.g!==l.g||a.b!==l.b||a.a!==l.a||this.dirty)&&(this.gl.clearColor(a.r,a.g,a.b,a.a),this.current=a,this.dirty=!1)}}class $_ extends fn{getDefault(){return 1}set(a){(a!==this.current||this.dirty)&&(this.gl.clearDepth(a),this.current=a,this.dirty=!1)}}class G_ extends fn{getDefault(){return 0}set(a){(a!==this.current||this.dirty)&&(this.gl.clearStencil(a),this.current=a,this.dirty=!1)}}class H_ extends fn{getDefault(){return[!0,!0,!0,!0]}set(a){let l=this.current;(a[0]!==l[0]||a[1]!==l[1]||a[2]!==l[2]||a[3]!==l[3]||this.dirty)&&(this.gl.colorMask(a[0],a[1],a[2],a[3]),this.current=a,this.dirty=!1)}}class kE extends fn{getDefault(){return!0}set(a){(a!==this.current||this.dirty)&&(this.gl.depthMask(a),this.current=a,this.dirty=!1)}}class W_ extends fn{getDefault(){return 255}set(a){(a!==this.current||this.dirty)&&(this.gl.stencilMask(a),this.current=a,this.dirty=!1)}}class Cp extends fn{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(a){let l=this.current;(a.func!==l.func||a.ref!==l.ref||a.mask!==l.mask||this.dirty)&&(this.gl.stencilFunc(a.func,a.ref,a.mask),this.current=a,this.dirty=!1)}}class Z_ extends fn{getDefault(){let a=this.gl;return[a.KEEP,a.KEEP,a.KEEP]}set(a){let l=this.current;(a[0]!==l[0]||a[1]!==l[1]||a[2]!==l[2]||this.dirty)&&(this.gl.stencilOp(a[0],a[1],a[2]),this.current=a,this.dirty=!1)}}class Xk extends fn{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;let l=this.gl;a?l.enable(l.STENCIL_TEST):l.disable(l.STENCIL_TEST),this.current=a,this.dirty=!1}}class Qk extends fn{getDefault(){return[0,1]}set(a){let l=this.current;(a[0]!==l[0]||a[1]!==l[1]||this.dirty)&&(this.gl.depthRange(a[0],a[1]),this.current=a,this.dirty=!1)}}class Jk extends fn{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;let l=this.gl;a?l.enable(l.DEPTH_TEST):l.disable(l.DEPTH_TEST),this.current=a,this.dirty=!1}}class e6 extends fn{getDefault(){return this.gl.LESS}set(a){(a!==this.current||this.dirty)&&(this.gl.depthFunc(a),this.current=a,this.dirty=!1)}}class LE extends fn{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;let l=this.gl;a?l.enable(l.BLEND):l.disable(l.BLEND),this.current=a,this.dirty=!1}}class t6 extends fn{getDefault(){let a=this.gl;return[a.ONE,a.ZERO]}set(a){let l=this.current;(a[0]!==l[0]||a[1]!==l[1]||this.dirty)&&(this.gl.blendFunc(a[0],a[1]),this.current=a,this.dirty=!1)}}class RE extends fn{getDefault(){return o.b7.transparent}set(a){let l=this.current;(a.r!==l.r||a.g!==l.g||a.b!==l.b||a.a!==l.a||this.dirty)&&(this.gl.blendColor(a.r,a.g,a.b,a.a),this.current=a,this.dirty=!1)}}class Iv extends fn{getDefault(){return this.gl.FUNC_ADD}set(a){(a!==this.current||this.dirty)&&(this.gl.blendEquation(a),this.current=a,this.dirty=!1)}}class Ev extends fn{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;let l=this.gl;a?l.enable(l.CULL_FACE):l.disable(l.CULL_FACE),this.current=a,this.dirty=!1}}class Tv extends fn{getDefault(){return this.gl.BACK}set(a){(a!==this.current||this.dirty)&&(this.gl.cullFace(a),this.current=a,this.dirty=!1)}}class Y_ extends fn{getDefault(){return this.gl.CCW}set(a){(a!==this.current||this.dirty)&&(this.gl.frontFace(a),this.current=a,this.dirty=!1)}}class Ap extends fn{getDefault(){return null}set(a){(a!==this.current||this.dirty)&&(this.gl.useProgram(a),this.current=a,this.dirty=!1)}}class Mv extends fn{getDefault(){return this.gl.TEXTURE0}set(a){(a!==this.current||this.dirty)&&(this.gl.activeTexture(a),this.current=a,this.dirty=!1)}}class Wf extends fn{getDefault(){let a=this.gl;return[0,0,a.drawingBufferWidth,a.drawingBufferHeight]}set(a){let l=this.current;(a[0]!==l[0]||a[1]!==l[1]||a[2]!==l[2]||a[3]!==l[3]||this.dirty)&&(this.gl.viewport(a[0],a[1],a[2],a[3]),this.current=a,this.dirty=!1)}}class Ms extends fn{getDefault(){return null}set(a){if(a===this.current&&!this.dirty)return;let l=this.gl;l.bindFramebuffer(l.FRAMEBUFFER,a),this.current=a,this.dirty=!1}}class qE extends fn{getDefault(){return null}set(a){if(a===this.current&&!this.dirty)return;let l=this.gl;l.bindRenderbuffer(l.RENDERBUFFER,a),this.current=a,this.dirty=!1}}class zE extends fn{getDefault(){return null}set(a){if(a===this.current&&!this.dirty)return;let l=this.gl;l.bindTexture(l.TEXTURE_2D,a),this.current=a,this.dirty=!1}}class K_ extends fn{getDefault(){return null}set(a){if(a===this.current&&!this.dirty)return;let l=this.gl;l.bindBuffer(l.ARRAY_BUFFER,a),this.current=a,this.dirty=!1}}class Pp extends fn{getDefault(){return null}set(a){let l=this.gl;l.bindBuffer(l.ELEMENT_ARRAY_BUFFER,a),this.current=a,this.dirty=!1}}class Cv extends fn{getDefault(){return null}set(a){var l;if(a===this.current&&!this.dirty)return;let h=this.gl;Lo(h)?h.bindVertexArray(a):(l=h.getExtension("OES_vertex_array_object"))===null||l===void 0||l.bindVertexArrayOES(a),this.current=a,this.dirty=!1}}class Av extends fn{getDefault(){return 4}set(a){if(a===this.current&&!this.dirty)return;let l=this.gl;l.pixelStorei(l.UNPACK_ALIGNMENT,a),this.current=a,this.dirty=!1}}class sm extends fn{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;let l=this.gl;l.pixelStorei(l.UNPACK_PREMULTIPLY_ALPHA_WEBGL,a),this.current=a,this.dirty=!1}}class Pv extends fn{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;let l=this.gl;l.pixelStorei(l.UNPACK_FLIP_Y_WEBGL,a),this.current=a,this.dirty=!1}}class Ov extends fn{constructor(a,l){super(a),this.context=a,this.parent=l}getDefault(){return null}}class Zf extends Ov{setDirty(){this.dirty=!0}set(a){if(a===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);let l=this.gl;l.framebufferTexture2D(l.FRAMEBUFFER,l.COLOR_ATTACHMENT0,l.TEXTURE_2D,a,0),this.current=a,this.dirty=!1}}class Yf extends Ov{set(a){if(a===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);let l=this.gl;l.framebufferRenderbuffer(l.FRAMEBUFFER,l.DEPTH_ATTACHMENT,l.RENDERBUFFER,a),this.current=a,this.dirty=!1}}class jE extends Ov{set(a){if(a===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);let l=this.gl;l.framebufferRenderbuffer(l.FRAMEBUFFER,l.DEPTH_STENCIL_ATTACHMENT,l.RENDERBUFFER,a),this.current=a,this.dirty=!1}}let Dv="Framebuffer is not complete";class Yr{constructor(a,l,h,g,b){this.context=a,this.width=l,this.height=h;let E=a.gl,A=this.framebuffer=E.createFramebuffer();if(this.colorAttachment=new Zf(a,A),g)this.depthAttachment=b?new jE(a,A):new Yf(a,A);else if(b)throw new Error("Stencil cannot be set without depth");if(E.checkFramebufferStatus(E.FRAMEBUFFER)!==E.FRAMEBUFFER_COMPLETE)throw new Error(Dv)}destroy(){let a=this.context.gl,l=this.colorAttachment.get();if(l&&a.deleteTexture(l),this.depthAttachment){let h=this.depthAttachment.get();h&&a.deleteRenderbuffer(h)}a.deleteFramebuffer(this.framebuffer)}}class Nv{constructor(a){var l,h;if(this.gl=a,this.clearColor=new _u(this),this.clearDepth=new $_(this),this.clearStencil=new G_(this),this.colorMask=new H_(this),this.depthMask=new kE(this),this.stencilMask=new W_(this),this.stencilFunc=new Cp(this),this.stencilOp=new Z_(this),this.stencilTest=new Xk(this),this.depthRange=new Qk(this),this.depthTest=new Jk(this),this.depthFunc=new e6(this),this.blend=new LE(this),this.blendFunc=new t6(this),this.blendColor=new RE(this),this.blendEquation=new Iv(this),this.cullFace=new Ev(this),this.cullFaceSide=new Tv(this),this.frontFace=new Y_(this),this.program=new Ap(this),this.activeTexture=new Mv(this),this.viewport=new Wf(this),this.bindFramebuffer=new Ms(this),this.bindRenderbuffer=new qE(this),this.bindTexture=new zE(this),this.bindVertexBuffer=new K_(this),this.bindElementBuffer=new Pp(this),this.bindVertexArray=new Cv(this),this.pixelStoreUnpack=new Av(this),this.pixelStoreUnpackPremultiplyAlpha=new sm(this),this.pixelStoreUnpackFlipY=new Pv(this),this.extTextureFilterAnisotropic=a.getExtension("EXT_texture_filter_anisotropic")||a.getExtension("MOZ_EXT_texture_filter_anisotropic")||a.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=a.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.maxTextureSize=a.getParameter(a.MAX_TEXTURE_SIZE),Lo(a)){this.HALF_FLOAT=a.HALF_FLOAT;let g=a.getExtension("EXT_color_buffer_half_float");this.RGBA16F=(l=a.RGBA16F)!==null&&l!==void 0?l:g==null?void 0:g.RGBA16F_EXT,this.RGB16F=(h=a.RGB16F)!==null&&h!==void 0?h:g==null?void 0:g.RGB16F_EXT,a.getExtension("EXT_color_buffer_float")}else{a.getExtension("EXT_color_buffer_half_float"),a.getExtension("OES_texture_half_float_linear");let g=a.getExtension("OES_texture_half_float");this.HALF_FLOAT=g==null?void 0:g.HALF_FLOAT_OES}}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.bindVertexArray.dirty=!0,this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(a,l){return new DE(this,a,l)}createVertexBuffer(a,l,h){return new NE(this,a,l,h)}createRenderbuffer(a,l,h){let g=this.gl,b=g.createRenderbuffer();return this.bindRenderbuffer.set(b),g.renderbufferStorage(g.RENDERBUFFER,a,l,h),this.bindRenderbuffer.set(null),b}createFramebuffer(a,l,h,g){return new Yr(this,a,l,h,g)}clear({color:a,depth:l,stencil:h}){let g=this.gl,b=0;a&&(b|=g.COLOR_BUFFER_BIT,this.clearColor.set(a),this.colorMask.set([!0,!0,!0,!0])),l!==void 0&&(b|=g.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(l),this.depthMask.set(!0)),h!==void 0&&(b|=g.STENCIL_BUFFER_BIT,this.clearStencil.set(h),this.stencilMask.set(255)),g.clear(b)}setCullFace(a){a.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(a.mode),this.frontFace.set(a.frontFace))}setDepthMode(a){a.func!==this.gl.ALWAYS||a.mask?(this.depthTest.set(!0),this.depthFunc.set(a.func),this.depthMask.set(a.mask),this.depthRange.set(a.range)):this.depthTest.set(!1)}setStencilMode(a){a.test.func!==this.gl.ALWAYS||a.mask?(this.stencilTest.set(!0),this.stencilMask.set(a.mask),this.stencilOp.set([a.fail,a.depthFail,a.pass]),this.stencilFunc.set({func:a.test.func,ref:a.ref,mask:a.test.mask})):this.stencilTest.set(!1)}setColorMode(a){o.bE(a.blendFunction,Nn.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(a.blendFunction),this.blendColor.set(a.blendColor)),this.colorMask.set(a.mask)}createVertexArray(){var a;return Lo(this.gl)?this.gl.createVertexArray():(a=this.gl.getExtension("OES_vertex_array_object"))===null||a===void 0?void 0:a.createVertexArrayOES()}deleteVertexArray(a){var l;return Lo(this.gl)?this.gl.deleteVertexArray(a):(l=this.gl.getExtension("OES_vertex_array_object"))===null||l===void 0?void 0:l.deleteVertexArrayOES(a)}unbindVAO(){this.bindVertexArray.set(null)}}let kv;function X_(_,a,l,h,g){let b=_.context,E=_.transform,A=b.gl,O=_.useProgram("collisionBox"),k=[],j=0,$=0;for(let he=0;he<h.length;he++){let ve=h[he],we=a.getTile(ve).getBucket(l);if(!we)continue;let xe=g?we.textCollisionBox:we.iconCollisionBox,Ce=we.collisionCircleArray;Ce.length>0&&(k.push({circleArray:Ce,circleOffset:$,coord:ve}),j+=Ce.length/4,$=j),xe&&O.draw(b,A.LINES,Cr.disabled,Rr.disabled,_.colorModeForRenderPass(),nn.disabled,Wk(_.transform),_.style.map.terrain&&_.style.map.terrain.getTerrainData(ve),E.getProjectionData({overscaledTileID:ve,applyGlobeMatrix:!0,applyTerrainMatrix:!0}),l.id,xe.layoutVertexBuffer,xe.indexBuffer,xe.segments,null,_.transform.zoom,null,null,xe.collisionVertexBuffer)}if(!g||!k.length)return;let V=_.useProgram("collisionCircle"),Q=new o.bT;Q.resize(4*j),Q._trim();let ee=0;for(let he of k)for(let ve=0;ve<he.circleArray.length/4;ve++){let we=4*ve,xe=he.circleArray[we+0],Ce=he.circleArray[we+1],ke=he.circleArray[we+2],Oe=he.circleArray[we+3];Q.emplace(ee++,xe,Ce,ke,Oe,0),Q.emplace(ee++,xe,Ce,ke,Oe,1),Q.emplace(ee++,xe,Ce,ke,Oe,2),Q.emplace(ee++,xe,Ce,ke,Oe,3)}(!kv||kv.length<2*j)&&(kv=function(he){let ve=2*he,we=new o.bV;we.resize(ve),we._trim();for(let xe=0;xe<ve;xe++){let Ce=6*xe;we.uint16[Ce+0]=4*xe+0,we.uint16[Ce+1]=4*xe+1,we.uint16[Ce+2]=4*xe+2,we.uint16[Ce+3]=4*xe+2,we.uint16[Ce+4]=4*xe+3,we.uint16[Ce+5]=4*xe+0}return we}(j));let fe=b.createIndexBuffer(kv,!0),pe=b.createVertexBuffer(Q,o.bU.members,!0);for(let he of k){let ve=wv(_.transform);V.draw(b,A.TRIANGLES,Cr.disabled,Rr.disabled,_.colorModeForRenderPass(),nn.disabled,ve,_.style.map.terrain&&_.style.map.terrain.getTerrainData(he.coord),null,l.id,pe,fe,o.aJ.simpleSegment(0,2*he.circleOffset,he.circleArray.length,he.circleArray.length/2),null,_.transform.zoom,null,null,null)}pe.destroy(),fe.destroy()}let lm=o.ad(new Float32Array(16));function r6(_,a,l,h,g,b){let{horizontalAlign:E,verticalAlign:A}=o.aE(_);return new o.P((-(E-.5)*a/g+h[0])*b,(-(A-.5)*l/g+h[1])*b)}function n6(_,a,l,h,g,b){let E=a.tileAnchorPoint.add(new o.P(a.translation[0],a.translation[1]));if(a.pitchWithMap){let A=h.mult(b);l||(A=A.rotate(-g));let O=E.add(A);return Ke(O.x,O.y,a.pitchedLabelPlaneMatrix,a.getElevation).point}if(l){let A=_i(a.tileAnchorPoint.x+1,a.tileAnchorPoint.y,a).point.sub(_),O=Math.atan(A.y/A.x)+(A.x<0?Math.PI:0);return _.add(h.rotate(O))}return _.add(h)}function FE(_,a,l,h,g,b,E,A,O,k,j,$){let V=_.text.placedSymbolArray,Q=_.text.dynamicLayoutVertexArray,ee=_.icon.dynamicLayoutVertexArray,fe={};Q.clear();for(let pe=0;pe<V.length;pe++){let he=V.get(pe),ve=he.hidden||!he.crossTileID||_.allowVerticalPlacement&&!he.placedOrientation?null:h[he.crossTileID];if(ve){let we=new o.P(he.anchorX,he.anchorY),xe={getElevation:$,width:g.width,height:g.height,pitchedLabelPlaneMatrix:b,pitchWithMap:l,transform:g,tileAnchorPoint:we,translation:k,unwrappedTileID:j},Ce=l?Lr(we.x,we.y,xe):_i(we.x,we.y,xe),ke=sn(g.cameraToCenterDistance,Ce.signedDistanceFromCamera),Oe=o.am(_.textSizeData,A,he)*ke/o.ay;l&&(Oe*=_.tilePixelRatio/E);let{width:Ve,height:rt,anchor:Ze,textOffset:Ye,textBoxScale:Je}=ve,Ct=r6(Ze,Ve,rt,Ye,Je,Oe),Et=g.getPitchedTextCorrection(we.x+k[0],we.y+k[1],j),ht=n6(Ce.point,xe,a,Ct,-g.bearingInRadians,Et),Kt=_.allowVerticalPlacement&&he.placedOrientation===o.al.vertical?Math.PI/2:0;for(let qr=0;qr<he.numGlyphs;qr++)o.as(Q,ht,Kt);O&&he.associatedIconIndex>=0&&(fe[he.associatedIconIndex]={shiftedAnchor:ht,angle:Kt})}else vu(he.numGlyphs,Q)}if(O){ee.clear();let pe=_.icon.placedSymbolArray;for(let he=0;he<pe.length;he++){let ve=pe.get(he);if(ve.hidden)vu(ve.numGlyphs,ee);else{let we=fe[he];if(we)for(let xe=0;xe<ve.numGlyphs;xe++)o.as(ee,we.shiftedAnchor,we.angle);else vu(ve.numGlyphs,ee)}}_.icon.dynamicLayoutVertexBuffer.updateData(ee)}_.text.dynamicLayoutVertexBuffer.updateData(Q)}function i6(_,a,l){return l.iconsInText&&a?"symbolTextAndIcon":_?"symbolSDF":"symbolIcon"}function Lv(_,a,l,h,g,b,E,A,O,k,j,$,V){let Q=_.context,ee=Q.gl,fe=_.transform,pe=A==="map",he=O==="map",ve=A!=="viewport"&&l.layout.get("symbol-placement")!=="point",we=pe&&!he&&!ve,xe=!l.layout.get("symbol-sort-key").isConstant(),Ce=!1,ke=_.getDepthModeForSublayer(0,Cr.ReadOnly),Oe=l._unevaluatedLayout.hasValue("text-variable-anchor")||l._unevaluatedLayout.hasValue("text-variable-anchor-offset"),Ve=[],rt=fe.getCircleRadiusCorrection();for(let Ze of h){let Ye=a.getTile(Ze),Je=Ye.getBucket(l);if(!Je)continue;let Ct=g?Je.text:Je.icon;if(!Ct||!Ct.segments.get().length||!Ct.hasVisibleVertices)continue;let Et=Ct.programConfigurations.get(l.id),ht=g||Je.sdfIcons,Kt=g?Je.textSizeData:Je.iconSizeData,qr=he||fe.pitch!==0,on=_.useProgram(i6(ht,g,Je),Et),ci=o.ak(Kt,fe.zoom),qn=_.style.map.terrain&&_.style.map.terrain.getTerrainData(Ze),pi,fi,Bn,gn,Xi=[0,0],po=null;if(g)fi=Ye.glyphAtlasTexture,Bn=ee.LINEAR,pi=Ye.glyphAtlasTexture.size,Je.iconsInText&&(Xi=Ye.imageAtlasTexture.size,po=Ye.imageAtlasTexture,gn=qr||_.options.rotating||_.options.zooming||Kt.kind==="composite"||Kt.kind==="camera"?ee.LINEAR:ee.NEAREST);else{let Fi=l.layout.get("icon-size").constantOr(0)!==1||Je.iconsNeedLinear;fi=Ye.imageAtlasTexture,Bn=ht||_.options.rotating||_.options.zooming||Fi||qr?ee.LINEAR:ee.NEAREST,pi=Ye.imageAtlasTexture.size}let Io=o.az(Ye,1,_.transform.zoom),vn=Ft(pe,_.transform,Io),hc=o.K();o.an(hc,vn);let Dl=cr(he,pe,_.transform,Io),mc=o.aA(fe,Ye,b,E),Np=fe.getProjectionData({overscaledTileID:Ze,applyGlobeMatrix:!V,applyTerrainMatrix:!0}),Sm=Oe&&Je.hasTextData(),gc=l.layout.get("icon-text-fit")!=="none"&&Sm&&Je.hasIconData();if(ve){let Fi=_.style.map.terrain?(ta,Jn)=>_.style.map.terrain.getElevation(Ze,ta,Jn):null,Bi=l.layout.get("text-rotation-alignment")==="map";Zr(Je,_,g,vn,hc,he,k,Bi,Ze.toUnwrapped(),fe.width,fe.height,mc,Fi)}let kp=g&&Oe||gc,os=ve||kp?lm:he?vn:_.transform.clipSpaceToPixelsMatrix,vc=ht&&l.paint.get(g?"text-halo-width":"icon-halo-width").constantOr(1)!==0,xu;xu=ht?Je.iconsInText?Sv(Kt.kind,ci,we,he,ve,kp,_,os,Dl,mc,pi,Xi,rt):PE(Kt.kind,ci,we,he,ve,kp,_,os,Dl,mc,g,pi,0,rt):Hf(Kt.kind,ci,we,he,ve,kp,_,os,Dl,mc,g,pi,rt);let yc={program:on,buffers:Ct,uniformValues:xu,projectionData:Np,atlasTexture:fi,atlasTextureIcon:po,atlasInterpolation:Bn,atlasInterpolationIcon:gn,isSDF:ht,hasHalo:vc};if(xe&&Je.canOverlap){Ce=!0;let Fi=Ct.segments.get();for(let Bi of Fi)Ve.push({segments:new o.aJ([Bi]),sortKey:Bi.sortKey,state:yc,terrainData:qn})}else Ve.push({segments:Ct.segments,sortKey:0,state:yc,terrainData:qn})}Ce&&Ve.sort((Ze,Ye)=>Ze.sortKey-Ye.sortKey);for(let Ze of Ve){let Ye=Ze.state;if(Q.activeTexture.set(ee.TEXTURE0),Ye.atlasTexture.bind(Ye.atlasInterpolation,ee.CLAMP_TO_EDGE),Ye.atlasTextureIcon&&(Q.activeTexture.set(ee.TEXTURE1),Ye.atlasTextureIcon&&Ye.atlasTextureIcon.bind(Ye.atlasInterpolationIcon,ee.CLAMP_TO_EDGE)),Ye.isSDF){let Je=Ye.uniformValues;Ye.hasHalo&&(Je.u_is_halo=1,um(Ye.buffers,Ze.segments,l,_,Ye.program,ke,j,$,Je,Ye.projectionData,Ze.terrainData)),Je.u_is_halo=0}um(Ye.buffers,Ze.segments,l,_,Ye.program,ke,j,$,Ye.uniformValues,Ye.projectionData,Ze.terrainData)}}function um(_,a,l,h,g,b,E,A,O,k,j){let $=h.context;g.draw($,$.gl.TRIANGLES,b,E,A,nn.backCCW,O,j,k,l.id,_.layoutVertexBuffer,_.indexBuffer,a,l.paint,h.transform.zoom,_.programConfigurations.get(l.id),_.dynamicLayoutVertexBuffer,_.opacityVertexBuffer)}function Rv(_,a,l,h,g){let b=_.context,E=b.gl,A=Rr.disabled,O=new Nn([E.ONE,E.ONE],o.b7.transparent,[!0,!0,!0,!0]),k=a.getBucket(l);if(!k)return;let j=h.key,$=l.heatmapFbos.get(j);$||($=qv(b,a.tileSize,a.tileSize),l.heatmapFbos.set(j,$)),b.bindFramebuffer.set($.framebuffer),b.viewport.set([0,0,a.tileSize,a.tileSize]),b.clear({color:o.b7.transparent});let V=k.programConfigurations.get(l.id),Q=_.useProgram("heatmap",V,!g),ee=_.transform.getProjectionData({overscaledTileID:a.tileID,applyGlobeMatrix:!0,applyTerrainMatrix:!0}),fe=_.style.map.terrain.getTerrainData(h);Q.draw(b,E.TRIANGLES,Cr.disabled,A,O,nn.disabled,Mp(a,_.transform.zoom,l.paint.get("heatmap-intensity"),1),fe,ee,l.id,k.layoutVertexBuffer,k.indexBuffer,k.segments,l.paint,_.transform.zoom,V)}function Q_(_,a,l,h,g){let b=_.context,E=b.gl,A=_.transform;b.setColorMode(_.colorModeForRenderPass());let O=J_(b,a),k=l.key,j=a.heatmapFbos.get(k);if(!j)return;b.activeTexture.set(E.TEXTURE0),E.bindTexture(E.TEXTURE_2D,j.colorAttachment.get()),b.activeTexture.set(E.TEXTURE1),O.bind(E.LINEAR,E.CLAMP_TO_EDGE);let $=A.getProjectionData({overscaledTileID:l,applyTerrainMatrix:g,applyGlobeMatrix:!h});_.useProgram("heatmapTexture").draw(b,E.TRIANGLES,Cr.disabled,Rr.disabled,_.colorModeForRenderPass(),nn.disabled,wE(_,a,0,1),null,$,a.id,_.rasterBoundsBuffer,_.quadTriangleIndexBuffer,_.rasterBoundsSegments,a.paint,A.zoom),j.destroy(),a.heatmapFbos.delete(k)}function qv(_,a,l){var h,g;let b=_.gl,E=b.createTexture();b.bindTexture(b.TEXTURE_2D,E),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,b.CLAMP_TO_EDGE),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,b.CLAMP_TO_EDGE),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,b.LINEAR),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,b.LINEAR);let A=(h=_.HALF_FLOAT)!==null&&h!==void 0?h:b.UNSIGNED_BYTE,O=(g=_.RGBA16F)!==null&&g!==void 0?g:b.RGBA;b.texImage2D(b.TEXTURE_2D,0,O,a,l,0,b.RGBA,A,null);let k=_.createFramebuffer(a,l,!1,!1);return k.colorAttachment.set(E),k}function J_(_,a){return a.colorRampTexture||(a.colorRampTexture=new ce(_,a.colorRamp,_.gl.RGBA)),a.colorRampTexture}function cm(_,a,l,h,g){if(!l||!h||!h.imageAtlas)return;let b=h.imageAtlas.patternPositions,E=b[l.to.toString()],A=b[l.from.toString()];if(!E&&A&&(E=A),!A&&E&&(A=E),!E||!A){let O=g.getPaintProperty(a);E=b[O],A=b[O]}E&&A&&_.setConstantPatternPositions(E,A)}function pm(_,a,l,h,g,b,E,A){let O=_.context.gl,k="fill-pattern",j=l.paint.get(k),$=j&&j.constantOr(1),V=l.getCrossfadeParameters(),Q,ee,fe,pe,he,ve=_.transform,we=l.paint.get("fill-translate"),xe=l.paint.get("fill-translate-anchor");E?(ee=$&&!l.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",Q=O.LINES):(ee=$?"fillPattern":"fill",Q=O.TRIANGLES);let Ce=j.constantOr(null);for(let ke of h){let Oe=a.getTile(ke);if($&&!Oe.patternsLoaded())continue;let Ve=Oe.getBucket(l);if(!Ve)continue;let rt=Ve.programConfigurations.get(l.id),Ze=_.useProgram(ee,rt),Ye=_.style.map.terrain&&_.style.map.terrain.getTerrainData(ke);$&&(_.context.activeTexture.set(O.TEXTURE0),Oe.imageAtlasTexture.bind(O.LINEAR,O.CLAMP_TO_EDGE),rt.updatePaintBuffers(V)),cm(rt,k,Ce,Oe,l);let Je=ve.getProjectionData({overscaledTileID:ke,applyGlobeMatrix:!A,applyTerrainMatrix:!0}),Ct=o.aA(ve,Oe,we,xe);if(E){pe=Ve.indexBuffer2,he=Ve.segments2;let ht=[O.drawingBufferWidth,O.drawingBufferHeight];fe=ee==="fillOutlinePattern"&&$?im(_,V,Oe,ht,Ct):F_(ht,Ct)}else pe=Ve.indexBuffer,he=Ve.segments,fe=$?bE(_,V,Oe,Ct):{u_fill_translate:Ct};let Et=_.stencilModeForClipping(ke);Ze.draw(_.context,Q,g,Et,b,nn.backCCW,fe,Ye,Je,l.id,Ve.layoutVertexBuffer,pe,he,l.paint,_.transform.zoom,rt)}}function fm(_,a,l,h,g,b,E,A){let O=_.context,k=O.gl,j="fill-extrusion-pattern",$=l.paint.get(j),V=$.constantOr(1),Q=l.getCrossfadeParameters(),ee=l.paint.get("fill-extrusion-opacity"),fe=$.constantOr(null),pe=_.transform;for(let he of h){let ve=a.getTile(he),we=ve.getBucket(l);if(!we)continue;let xe=_.style.map.terrain&&_.style.map.terrain.getTerrainData(he),Ce=we.programConfigurations.get(l.id),ke=_.useProgram(V?"fillExtrusionPattern":"fillExtrusion",Ce);V&&(_.context.activeTexture.set(k.TEXTURE0),ve.imageAtlasTexture.bind(k.LINEAR,k.CLAMP_TO_EDGE),Ce.updatePaintBuffers(Q));let Oe=pe.getProjectionData({overscaledTileID:he,applyGlobeMatrix:!A,applyTerrainMatrix:!0});cm(Ce,j,fe,ve,l);let Ve=o.aA(pe,ve,l.paint.get("fill-extrusion-translate"),l.paint.get("fill-extrusion-translate-anchor")),rt=l.paint.get("fill-extrusion-vertical-gradient"),Ze=V?Al(_,rt,ee,Ve,he,Q,ve):xv(_,rt,ee,Ve);ke.draw(O,O.gl.TRIANGLES,g,b,E,nn.backCCW,Ze,xe,Oe,l.id,we.layoutVertexBuffer,we.indexBuffer,we.segments,l.paint,_.transform.zoom,Ce,_.style.map.terrain&&we.centroidVertexBuffer)}}function eb(_,a,l,h,g,b,E,A,O){var k;let j=_.style.projection,$=_.context,V=_.transform,Q=$.gl,ee=[`#define NUM_ILLUMINATION_SOURCES ${l.paint.get("hillshade-highlight-color").values.length}`],fe=_.useProgram("hillshade",null,!1,ee),pe=!_.options.moving;for(let he of h){let ve=a.getTile(he),we=ve.fbo;if(!we)continue;let xe=j.getMeshFromTileID($,he.canonical,A,!0,"raster"),Ce=(k=_.style.map.terrain)===null||k===void 0?void 0:k.getTerrainData(he);$.activeTexture.set(Q.TEXTURE0),Q.bindTexture(Q.TEXTURE_2D,we.colorAttachment.get());let ke=V.getProjectionData({overscaledTileID:he,aligned:pe,applyGlobeMatrix:!O,applyTerrainMatrix:!0});fe.draw($,Q.TRIANGLES,b,g[he.overscaledZ],E,nn.backCCW,SE(_,ve,l),Ce,ke,l.id,xe.vertexBuffer,xe.indexBuffer,xe.segments)}}let dm=[new o.P(0,0),new o.P(o.Z,0),new o.P(o.Z,o.Z),new o.P(0,o.Z)];function zv(_,a,l,h,g,b,E,A,O=!1,k=!1){let j=h[h.length-1].overscaledZ,$=_.context,V=$.gl,Q=_.useProgram("raster"),ee=_.transform,fe=_.style.projection,pe=_.colorModeForRenderPass(),he=!_.options.moving;for(let ve of h){let we=_.getDepthModeForSublayer(ve.overscaledZ-j,l.paint.get("raster-opacity")===1?Cr.ReadWrite:Cr.ReadOnly,V.LESS),xe=a.getTile(ve);xe.registerFadeDuration(l.paint.get("raster-fade-duration"));let Ce=a.findLoadedParent(ve,0),ke=a.findLoadedSibling(ve),Oe=BE(xe,Ce||ke||null,a,l,_.transform,_.style.map.terrain),Ve,rt,Ze=l.paint.get("raster-resampling")==="nearest"?V.NEAREST:V.LINEAR;$.activeTexture.set(V.TEXTURE0),xe.texture.bind(Ze,V.CLAMP_TO_EDGE,V.LINEAR_MIPMAP_NEAREST),$.activeTexture.set(V.TEXTURE1),Ce?(Ce.texture.bind(Ze,V.CLAMP_TO_EDGE,V.LINEAR_MIPMAP_NEAREST),Ve=Math.pow(2,Ce.tileID.overscaledZ-xe.tileID.overscaledZ),rt=[xe.tileID.canonical.x*Ve%1,xe.tileID.canonical.y*Ve%1]):xe.texture.bind(Ze,V.CLAMP_TO_EDGE,V.LINEAR_MIPMAP_NEAREST),xe.texture.useMipmap&&$.extTextureFilterAnisotropic&&_.transform.pitch>20&&V.texParameterf(V.TEXTURE_2D,$.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,$.extTextureFilterAnisotropicMax);let Ye=_.style.map.terrain&&_.style.map.terrain.getTerrainData(ve),Je=ee.getProjectionData({overscaledTileID:ve,aligned:he,applyGlobeMatrix:!k,applyTerrainMatrix:!0}),Ct=CE(rt||[0,0],Ve||1,Oe,l,A),Et=fe.getMeshFromTileID($,ve.canonical,b,E,"raster");Q.draw($,V.TRIANGLES,we,g?g[ve.overscaledZ]:Rr.disabled,pe,O?nn.frontCCW:nn.backCCW,Ct,Ye,Je,l.id,Et.vertexBuffer,Et.indexBuffer,Et.segments)}}function BE(_,a,l,h,g,b){let E=h.paint.get("raster-fade-duration");if(!b&&E>0){let A=w.now(),O=(A-_.timeAdded)/E,k=a?(A-a.timeAdded)/E:-1,j=l.getSource(),$=Ie(g,{tileSize:j.tileSize,roundZoom:j.roundZoom}),V=!a||Math.abs(a.tileID.overscaledZ-$)>Math.abs(_.tileID.overscaledZ-$),Q=V&&_.refreshedUponExpiration?1:o.ae(V?O:1-k,0,1);return _.refreshedUponExpiration&&O>=1&&(_.refreshedUponExpiration=!1),a?{opacity:1,mix:1-Q}:{opacity:Q,mix:0}}return{opacity:1,mix:0}}let jv=new o.b7(1,0,0,1),tb=new o.b7(0,1,0,1),UE=new o.b7(0,0,1,1),VE=new o.b7(1,0,1,1),Fv=new o.b7(0,1,1,1);function Bv(_,a,l,h){hm(_,0,a+l/2,_.transform.width,l,h)}function $E(_,a,l,h){hm(_,a-l/2,0,l,_.transform.height,h)}function hm(_,a,l,h,g,b){let E=_.context,A=E.gl;A.enable(A.SCISSOR_TEST),A.scissor(a*_.pixelRatio,l*_.pixelRatio,h*_.pixelRatio,g*_.pixelRatio),E.clear({color:b}),A.disable(A.SCISSOR_TEST)}function Ci(_,a,l){let h=_.context,g=h.gl,b=_.useProgram("debug"),E=Cr.disabled,A=Rr.disabled,O=_.colorModeForRenderPass(),k="$debug",j=_.style.map.terrain&&_.style.map.terrain.getTerrainData(l);h.activeTexture.set(g.TEXTURE0);let $=a.getTileByID(l.key).latestRawTileData,V=Math.floor(($&&$.byteLength||0)/1024),Q=a.getTile(l).tileSize,ee=512/Math.min(Q,512)*(l.overscaledZ/_.transform.zoom)*.5,fe=l.canonical.toString();l.overscaledZ!==l.canonical.z&&(fe+=` => ${l.overscaledZ}`),function(he,ve){he.initDebugOverlayCanvas();let we=he.debugOverlayCanvas,xe=he.context.gl,Ce=he.debugOverlayCanvas.getContext("2d");Ce.clearRect(0,0,we.width,we.height),Ce.shadowColor="white",Ce.shadowBlur=2,Ce.lineWidth=1.5,Ce.strokeStyle="white",Ce.textBaseline="top",Ce.font="bold 36px Open Sans, sans-serif",Ce.fillText(ve,5,5),Ce.strokeText(ve,5,5),he.debugOverlayTexture.update(we),he.debugOverlayTexture.bind(xe.LINEAR,xe.CLAMP_TO_EDGE)}(_,`${fe} ${V}kB`);let pe=_.transform.getProjectionData({overscaledTileID:l,applyGlobeMatrix:!0,applyTerrainMatrix:!0});b.draw(h,g.TRIANGLES,E,A,Nn.alphaBlended,nn.disabled,xE(o.b7.transparent,ee),null,pe,k,_.debugBuffer,_.quadTriangleIndexBuffer,_.debugSegments),b.draw(h,g.LINE_STRIP,E,A,O,nn.disabled,xE(o.b7.red),j,pe,k,_.debugBuffer,_.tileBorderIndexBuffer,_.debugSegments)}function dc(_,a,l,h){let{isRenderingGlobe:g}=h,b=_.context,E=b.gl,A=_.transform,O=_.colorModeForRenderPass(),k=_.getDepthModeFor3D(),j=_.useProgram("terrain");b.bindFramebuffer.set(null),b.viewport.set([0,0,_.width,_.height]);for(let $ of l){let V=a.getTerrainMesh($.tileID),Q=_.renderToTexture.getTexture($),ee=a.getTerrainData($.tileID);b.activeTexture.set(E.TEXTURE0),E.bindTexture(E.TEXTURE_2D,Q.texture);let fe=a.getMeshFrameDelta(A.zoom),pe=A.calculateFogMatrix($.tileID.toUnwrapped()),he=Hk(fe,pe,_.style.sky,A.pitch,g),ve=A.getProjectionData({overscaledTileID:$.tileID,applyTerrainMatrix:!1,applyGlobeMatrix:!0});j.draw(b,E.TRIANGLES,k,Rr.disabled,O,nn.backCCW,he,ee,ve,"terrain",V.vertexBuffer,V.indexBuffer,V.segments)}}function is(_,a){if(!a.mesh){let l=new o.aI;l.emplaceBack(-1,-1),l.emplaceBack(1,-1),l.emplaceBack(1,1),l.emplaceBack(-1,1);let h=new o.aK;h.emplaceBack(0,1,2),h.emplaceBack(0,2,3),a.mesh=new Ff(_.createVertexBuffer(l,Qo.members),_.createIndexBuffer(h),o.aJ.simpleSegment(0,0,l.length,h.length))}return a.mesh}class rb{constructor(a,l){this.context=new Nv(a),this.transform=l,this._tileTextures={},this.terrainFacilitator={dirty:!0,matrix:o.ad(new Float64Array(16)),renderTime:0},this.setup(),this.numSublayers=Pe.maxUnderzooming+Pe.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Zh}resize(a,l,h){if(this.width=Math.floor(a*h),this.height=Math.floor(l*h),this.pixelRatio=h,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(let g of this.style._order)this.style._layers[g].resize()}setup(){let a=this.context,l=new o.aI;l.emplaceBack(0,0),l.emplaceBack(o.Z,0),l.emplaceBack(0,o.Z),l.emplaceBack(o.Z,o.Z),this.tileExtentBuffer=a.createVertexBuffer(l,Qo.members),this.tileExtentSegments=o.aJ.simpleSegment(0,0,4,2);let h=new o.aI;h.emplaceBack(0,0),h.emplaceBack(o.Z,0),h.emplaceBack(0,o.Z),h.emplaceBack(o.Z,o.Z),this.debugBuffer=a.createVertexBuffer(h,Qo.members),this.debugSegments=o.aJ.simpleSegment(0,0,4,5);let g=new o.b_;g.emplaceBack(0,0,0,0),g.emplaceBack(o.Z,0,o.Z,0),g.emplaceBack(0,o.Z,0,o.Z),g.emplaceBack(o.Z,o.Z,o.Z,o.Z),this.rasterBoundsBuffer=a.createVertexBuffer(g,$k.members),this.rasterBoundsSegments=o.aJ.simpleSegment(0,0,4,2);let b=new o.aI;b.emplaceBack(0,0),b.emplaceBack(o.Z,0),b.emplaceBack(0,o.Z),b.emplaceBack(o.Z,o.Z),this.rasterBoundsBufferPosOnly=a.createVertexBuffer(b,Qo.members),this.rasterBoundsSegmentsPosOnly=o.aJ.simpleSegment(0,0,4,5);let E=new o.aI;E.emplaceBack(0,0),E.emplaceBack(1,0),E.emplaceBack(0,1),E.emplaceBack(1,1),this.viewportBuffer=a.createVertexBuffer(E,Qo.members),this.viewportSegments=o.aJ.simpleSegment(0,0,4,2);let A=new o.b$;A.emplaceBack(0),A.emplaceBack(1),A.emplaceBack(3),A.emplaceBack(2),A.emplaceBack(0),this.tileBorderIndexBuffer=a.createIndexBuffer(A);let O=new o.aK;O.emplaceBack(1,0,2),O.emplaceBack(1,2,3),this.quadTriangleIndexBuffer=a.createIndexBuffer(O);let k=this.context.gl;this.stencilClearMode=new Rr({func:k.ALWAYS,mask:0},0,255,k.ZERO,k.ZERO,k.ZERO),this.tileExtentMesh=new Ff(this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}clearStencil(){let a=this.context,l=a.gl;this.nextStencilID=1,this.currentStencilSource=void 0;let h=o.K();o.bQ(h,0,this.width,this.height,0,0,1),o.M(h,h,[l.drawingBufferWidth,l.drawingBufferHeight,0]);let g={mainMatrix:h,tileMercatorCoords:[0,0,1,1],clippingPlane:[0,0,0,0],projectionTransition:0,fallbackMatrix:h};this.useProgram("clippingMask",null,!0).draw(a,l.TRIANGLES,Cr.disabled,this.stencilClearMode,Nn.disabled,nn.disabled,null,null,g,"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(a,l,h){if(this.currentStencilSource===a.source||!a.isTileClipped()||!l||!l.length)return;this.currentStencilSource=a.source,this.nextStencilID+l.length>256&&this.clearStencil();let g=this.context;g.setColorMode(Nn.disabled),g.setDepthMode(Cr.disabled);let b={};for(let E of l)b[E.key]=this.nextStencilID++;this._renderTileMasks(b,l,h,!0),this._renderTileMasks(b,l,h,!1),this._tileClippingMaskIDs=b}_renderTileMasks(a,l,h,g){let b=this.context,E=b.gl,A=this.style.projection,O=this.transform,k=this.useProgram("clippingMask");for(let j of l){let $=a[j.key],V=this.style.map.terrain&&this.style.map.terrain.getTerrainData(j),Q=A.getMeshFromTileID(this.context,j.canonical,g,!0,"stencil"),ee=O.getProjectionData({overscaledTileID:j,applyGlobeMatrix:!h,applyTerrainMatrix:!0});k.draw(b,E.TRIANGLES,Cr.disabled,new Rr({func:E.ALWAYS,mask:0},$,255,E.KEEP,E.KEEP,E.REPLACE),Nn.disabled,h?nn.disabled:nn.backCCW,null,V,ee,"$clipping",Q.vertexBuffer,Q.indexBuffer,Q.segments)}}_renderTilesDepthBuffer(){let a=this.context,l=a.gl,h=this.style.projection,g=this.transform,b=this.useProgram("depth"),E=this.getDepthModeFor3D(),A=ge(g,{tileSize:g.tileSize});for(let O of A){let k=this.style.map.terrain&&this.style.map.terrain.getTerrainData(O),j=h.getMeshFromTileID(this.context,O.canonical,!0,!0,"raster"),$=g.getProjectionData({overscaledTileID:O,applyGlobeMatrix:!0,applyTerrainMatrix:!0});b.draw(a,l.TRIANGLES,E,Rr.disabled,Nn.disabled,nn.backCCW,null,k,$,"$clipping",j.vertexBuffer,j.indexBuffer,j.segments)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();let a=this.nextStencilID++,l=this.context.gl;return new Rr({func:l.NOTEQUAL,mask:255},a,255,l.KEEP,l.KEEP,l.REPLACE)}stencilModeForClipping(a){let l=this.context.gl;return new Rr({func:l.EQUAL,mask:255},this._tileClippingMaskIDs[a.key],0,l.KEEP,l.KEEP,l.REPLACE)}getStencilConfigForOverlapAndUpdateStencilID(a){let l=this.context.gl,h=a.sort((E,A)=>A.overscaledZ-E.overscaledZ),g=h[h.length-1].overscaledZ,b=h[0].overscaledZ-g+1;if(b>1){this.currentStencilSource=void 0,this.nextStencilID+b>256&&this.clearStencil();let E={};for(let A=0;A<b;A++)E[A+g]=new Rr({func:l.GEQUAL,mask:255},A+this.nextStencilID,255,l.KEEP,l.KEEP,l.REPLACE);return this.nextStencilID+=b,[E,h]}return[{[g]:Rr.disabled},h]}stencilConfigForOverlapTwoPass(a){let l=this.context.gl,h=a.sort((E,A)=>A.overscaledZ-E.overscaledZ),g=h[h.length-1].overscaledZ,b=h[0].overscaledZ-g+1;if(this.clearStencil(),b>1){let E={},A={};for(let O=0;O<b;O++)E[O+g]=new Rr({func:l.GREATER,mask:255},b+1+O,255,l.KEEP,l.KEEP,l.REPLACE),A[O+g]=new Rr({func:l.GREATER,mask:255},1+O,255,l.KEEP,l.KEEP,l.REPLACE);return this.nextStencilID=2*b+1,[E,A,h]}return this.nextStencilID=3,[{[g]:new Rr({func:l.GREATER,mask:255},2,255,l.KEEP,l.KEEP,l.REPLACE)},{[g]:new Rr({func:l.GREATER,mask:255},1,255,l.KEEP,l.KEEP,l.REPLACE)},h]}colorModeForRenderPass(){let a=this.context.gl;return this._showOverdrawInspector?new Nn([a.CONSTANT_COLOR,a.ONE],new o.b7(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?Nn.unblended:Nn.alphaBlended}getDepthModeForSublayer(a,l,h){if(!this.opaquePassEnabledForLayer())return Cr.disabled;let g=1-((1+this.currentLayer)*this.numSublayers+a)*this.depthEpsilon;return new Cr(h||this.context.gl.LEQUAL,l,[g,g])}getDepthModeFor3D(){return new Cr(this.context.gl.LEQUAL,Cr.ReadWrite,this.depthRangeFor3D)}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(a,l){var h,g;this.style=a,this.options=l,this.lineAtlas=a.lineAtlas,this.imageManager=a.imageManager,this.glyphManager=a.glyphManager,this.symbolFadeChange=a.placement.symbolFadeChange(w.now()),this.imageManager.beginFrame();let b=this.style._order,E=this.style.sourceCaches,A={},O={},k={},j={isRenderingToTexture:!1,isRenderingGlobe:((h=a.projection)===null||h===void 0?void 0:h.transitionState)>0};for(let V in E){let Q=E[V];Q.used&&Q.prepare(this.context),A[V]=Q.getVisibleCoordinates(!1),O[V]=A[V].slice().reverse(),k[V]=Q.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let V=0;V<b.length;V++)if(this.style._layers[b[V]].is3D()){this.opaquePassCutoff=V;break}this.maybeDrawDepthAndCoords(!1),this.renderToTexture&&(this.renderToTexture.prepareForRender(this.style,this.transform.zoom),this.opaquePassCutoff=0),this.renderPass="offscreen";for(let V of b){let Q=this.style._layers[V];if(!Q.hasOffscreenPass()||Q.isHidden(this.transform.zoom))continue;let ee=O[Q.source];(Q.type==="custom"||ee.length)&&this.renderLayer(this,E[Q.source],Q,ee,j)}if((g=this.style.projection)===null||g===void 0||g.updateGPUdependent({context:this.context,useProgram:V=>this.useProgram(V)}),this.context.viewport.set([0,0,this.width,this.height]),this.context.bindFramebuffer.set(null),this.context.clear({color:l.showOverdrawInspector?o.b7.black:o.b7.transparent,depth:1}),this.clearStencil(),this.style.sky&&function(V,Q){let ee=V.context,fe=ee.gl,pe=((ke,Oe,Ve)=>{let rt=Math.cos(Oe.rollInRadians),Ze=Math.sin(Oe.rollInRadians),Ye=Be(Oe),Je=Oe.getProjectionData({overscaledTileID:null,applyGlobeMatrix:!0,applyTerrainMatrix:!0}).projectionTransition;return{u_sky_color:ke.properties.get("sky-color"),u_horizon_color:ke.properties.get("horizon-color"),u_horizon:[(Oe.width/2-Ye*Ze)*Ve,(Oe.height/2+Ye*rt)*Ve],u_horizon_normal:[-Ze,rt],u_sky_horizon_blend:ke.properties.get("sky-horizon-blend")*Oe.height/2*Ve,u_sky_blend:Je}})(Q,V.style.map.transform,V.pixelRatio),he=new Cr(fe.LEQUAL,Cr.ReadWrite,[0,1]),ve=Rr.disabled,we=V.colorModeForRenderPass(),xe=V.useProgram("sky"),Ce=is(ee,Q);xe.draw(ee,fe.TRIANGLES,he,ve,we,nn.disabled,pe,null,void 0,"sky",Ce.vertexBuffer,Ce.indexBuffer,Ce.segments)}(this,this.style.sky),this._showOverdrawInspector=l.showOverdrawInspector,this.depthRangeFor3D=[0,1-(a._order.length+2)*this.numSublayers*this.depthEpsilon],!this.renderToTexture)for(this.renderPass="opaque",this.currentLayer=b.length-1;this.currentLayer>=0;this.currentLayer--){let V=this.style._layers[b[this.currentLayer]],Q=E[V.source],ee=A[V.source];this._renderTileClippingMasks(V,ee,!1),this.renderLayer(this,Q,V,ee,j)}this.renderPass="translucent";let $=!1;for(this.currentLayer=0;this.currentLayer<b.length;this.currentLayer++){let V=this.style._layers[b[this.currentLayer]],Q=E[V.source];if(this.renderToTexture&&this.renderToTexture.renderLayer(V,j))continue;this.opaquePassEnabledForLayer()||$||($=!0,j.isRenderingGlobe&&!this.style.map.terrain&&this._renderTilesDepthBuffer());let ee=(V.type==="symbol"?k:O)[V.source];this._renderTileClippingMasks(V,A[V.source],!!this.renderToTexture),this.renderLayer(this,Q,V,ee,j)}if(j.isRenderingGlobe&&function(V,Q,ee){let fe=V.context,pe=fe.gl,he=V.useProgram("atmosphere"),ve=new Cr(pe.LEQUAL,Cr.ReadOnly,[0,1]),we=V.transform,xe=function(Je,Ct){let Et=Je.properties.get("position"),ht=[-Et.x,-Et.y,-Et.z],Kt=o.ad(new Float64Array(16));return Je.properties.get("anchor")==="map"&&(o.a_(Kt,Kt,Ct.rollInRadians),o.a$(Kt,Kt,-Ct.pitchInRadians),o.a_(Kt,Kt,Ct.bearingInRadians),o.a$(Kt,Kt,Ct.center.lat*Math.PI/180),o.bp(Kt,Kt,-Ct.center.lng*Math.PI/180)),o.bZ(ht,ht,Kt),ht}(ee,V.transform),Ce=we.getProjectionData({overscaledTileID:null,applyGlobeMatrix:!0,applyTerrainMatrix:!0}),ke=Q.properties.get("atmosphere-blend")*Ce.projectionTransition;if(ke===0)return;let Oe=Ip(we.worldSize,we.center.lat),Ve=we.inverseProjectionMatrix,rt=new Float64Array(4);rt[3]=1,o.at(rt,rt,we.modelViewProjectionMatrix),rt[0]/=rt[3],rt[1]/=rt[3],rt[2]/=rt[3],rt[3]=1,o.at(rt,rt,Ve),rt[0]/=rt[3],rt[1]/=rt[3],rt[2]/=rt[3],rt[3]=1;let Ze=((Je,Ct,Et,ht,Kt)=>({u_sun_pos:Je,u_atmosphere_blend:Ct,u_globe_position:Et,u_globe_radius:ht,u_inv_proj_matrix:Kt}))(xe,ke,[rt[0],rt[1],rt[2]],Oe,Ve),Ye=is(fe,Q);he.draw(fe,pe.TRIANGLES,ve,Rr.disabled,Nn.alphaBlended,nn.disabled,Ze,null,null,"atmosphere",Ye.vertexBuffer,Ye.indexBuffer,Ye.segments)}(this,this.style.sky,this.style.light),this.options.showTileBoundaries){let V=function(Q,ee){let fe=null,pe=Object.values(Q._layers).flatMap(xe=>xe.source&&!xe.isHidden(ee)?[Q.sourceCaches[xe.source]]:[]),he=pe.filter(xe=>xe.getSource().type==="vector"),ve=pe.filter(xe=>xe.getSource().type!=="vector"),we=xe=>{(!fe||fe.getSource().maxzoom<xe.getSource().maxzoom)&&(fe=xe)};return he.forEach(xe=>we(xe)),fe||ve.forEach(xe=>we(xe)),fe}(this.style,this.transform.zoom);V&&function(Q,ee,fe){for(let pe=0;pe<fe.length;pe++)Ci(Q,ee,fe[pe])}(this,V,V.getVisibleCoordinates())}this.options.showPadding&&function(V){let Q=V.transform.padding;Bv(V,V.transform.height-(Q.top||0),3,jv),Bv(V,Q.bottom||0,3,tb),$E(V,Q.left||0,3,UE),$E(V,V.transform.width-(Q.right||0),3,VE);let ee=V.transform.centerPoint;(function(fe,pe,he,ve){hm(fe,pe-1,he-10,2,20,ve),hm(fe,pe-10,he-1,20,2,ve)})(V,ee.x,V.transform.height-ee.y,Fv)}(this),this.context.setDefault()}maybeDrawDepthAndCoords(a){if(!this.style||!this.style.map||!this.style.map.terrain)return;let l=this.terrainFacilitator.matrix,h=this.transform.modelViewProjectionMatrix,g=this.terrainFacilitator.dirty;g||(g=a?!o.c0(l,h):!o.c1(l,h)),g||(g=this.style.map.terrain.sourceCache.anyTilesAfterTime(this.terrainFacilitator.renderTime)),g&&(o.c2(l,h),this.terrainFacilitator.renderTime=Date.now(),this.terrainFacilitator.dirty=!1,function(b,E){let A=b.context,O=A.gl,k=b.transform,j=Nn.unblended,$=new Cr(O.LEQUAL,Cr.ReadWrite,[0,1]),V=E.sourceCache.getRenderableTiles(),Q=b.useProgram("terrainDepth");A.bindFramebuffer.set(E.getFramebuffer("depth").framebuffer),A.viewport.set([0,0,b.width/devicePixelRatio,b.height/devicePixelRatio]),A.clear({color:o.b7.transparent,depth:1});for(let ee of V){let fe=E.getTerrainMesh(ee.tileID),pe=E.getTerrainData(ee.tileID),he=k.getProjectionData({overscaledTileID:ee.tileID,applyTerrainMatrix:!1,applyGlobeMatrix:!0}),ve={u_ele_delta:E.getMeshFrameDelta(k.zoom)};Q.draw(A,O.TRIANGLES,$,Rr.disabled,j,nn.backCCW,ve,pe,he,"terrain",fe.vertexBuffer,fe.indexBuffer,fe.segments)}A.bindFramebuffer.set(null),A.viewport.set([0,0,b.width,b.height])}(this,this.style.map.terrain),function(b,E){let A=b.context,O=A.gl,k=b.transform,j=Nn.unblended,$=new Cr(O.LEQUAL,Cr.ReadWrite,[0,1]),V=E.getCoordsTexture(),Q=E.sourceCache.getRenderableTiles(),ee=b.useProgram("terrainCoords");A.bindFramebuffer.set(E.getFramebuffer("coords").framebuffer),A.viewport.set([0,0,b.width/devicePixelRatio,b.height/devicePixelRatio]),A.clear({color:o.b7.transparent,depth:1}),E.coordsIndex=[];for(let fe of Q){let pe=E.getTerrainMesh(fe.tileID),he=E.getTerrainData(fe.tileID);A.activeTexture.set(O.TEXTURE0),O.bindTexture(O.TEXTURE_2D,V.texture);let ve={u_terrain_coords_id:(255-E.coordsIndex.length)/255,u_texture:0,u_ele_delta:E.getMeshFrameDelta(k.zoom)},we=k.getProjectionData({overscaledTileID:fe.tileID,applyTerrainMatrix:!1,applyGlobeMatrix:!0});ee.draw(A,O.TRIANGLES,$,Rr.disabled,j,nn.backCCW,ve,he,we,"terrain",pe.vertexBuffer,pe.indexBuffer,pe.segments),E.coordsIndex.push(fe.tileID.key)}A.bindFramebuffer.set(null),A.viewport.set([0,0,b.width,b.height])}(this,this.style.map.terrain))}renderLayer(a,l,h,g,b){h.isHidden(this.transform.zoom)||(h.type==="background"||h.type==="custom"||(g||[]).length)&&(this.id=h.id,o.c3(h)?function(E,A,O,k,j,$){if(E.renderPass!=="translucent")return;let{isRenderingToTexture:V}=$,Q=Rr.disabled,ee=E.colorModeForRenderPass();(O._unevaluatedLayout.hasValue("text-variable-anchor")||O._unevaluatedLayout.hasValue("text-variable-anchor-offset"))&&function(fe,pe,he,ve,we,xe,Ce,ke,Oe){let Ve=pe.transform,rt=pe.style.map.terrain,Ze=we==="map",Ye=xe==="map";for(let Je of fe){let Ct=ve.getTile(Je),Et=Ct.getBucket(he);if(!Et||!Et.text||!Et.text.segments.get().length)continue;let ht=o.ak(Et.textSizeData,Ve.zoom),Kt=o.az(Ct,1,pe.transform.zoom),qr=Ft(Ze,pe.transform,Kt),on=he.layout.get("icon-text-fit")!=="none"&&Et.hasIconData();if(ht){let ci=Math.pow(2,Ve.zoom-Ct.tileID.overscaledZ),qn=rt?(pi,fi)=>rt.getElevation(Je,pi,fi):null;FE(Et,Ze,Ye,Oe,Ve,qr,ci,ht,on,o.aA(Ve,Ct,Ce,ke),Je.toUnwrapped(),qn)}}}(k,E,O,A,O.layout.get("text-rotation-alignment"),O.layout.get("text-pitch-alignment"),O.paint.get("text-translate"),O.paint.get("text-translate-anchor"),j),O.paint.get("icon-opacity").constantOr(1)!==0&&Lv(E,A,O,k,!1,O.paint.get("icon-translate"),O.paint.get("icon-translate-anchor"),O.layout.get("icon-rotation-alignment"),O.layout.get("icon-pitch-alignment"),O.layout.get("icon-keep-upright"),Q,ee,V),O.paint.get("text-opacity").constantOr(1)!==0&&Lv(E,A,O,k,!0,O.paint.get("text-translate"),O.paint.get("text-translate-anchor"),O.layout.get("text-rotation-alignment"),O.layout.get("text-pitch-alignment"),O.layout.get("text-keep-upright"),Q,ee,V),A.map.showCollisionBoxes&&(X_(E,A,O,k,!0),X_(E,A,O,k,!1))}(a,l,h,g,this.style.placement.variableOffsets,b):o.c4(h)?function(E,A,O,k,j){if(E.renderPass!=="translucent")return;let{isRenderingToTexture:$}=j,V=O.paint.get("circle-opacity"),Q=O.paint.get("circle-stroke-width"),ee=O.paint.get("circle-stroke-opacity"),fe=!O.layout.get("circle-sort-key").isConstant();if(V.constantOr(1)===0&&(Q.constantOr(1)===0||ee.constantOr(1)===0))return;let pe=E.context,he=pe.gl,ve=E.transform,we=E.getDepthModeForSublayer(0,Cr.ReadOnly),xe=Rr.disabled,Ce=E.colorModeForRenderPass(),ke=[],Oe=ve.getCircleRadiusCorrection();for(let Ve=0;Ve<k.length;Ve++){let rt=k[Ve],Ze=A.getTile(rt),Ye=Ze.getBucket(O);if(!Ye)continue;let Je=O.paint.get("circle-translate"),Ct=O.paint.get("circle-translate-anchor"),Et=o.aA(ve,Ze,Je,Ct),ht=Ye.programConfigurations.get(O.id),Kt=E.useProgram("circle",ht),qr=Ye.layoutVertexBuffer,on=Ye.indexBuffer,ci=E.style.map.terrain&&E.style.map.terrain.getTerrainData(rt),qn={programConfiguration:ht,program:Kt,layoutVertexBuffer:qr,indexBuffer:on,uniformValues:om(E,Ze,O,Et,Oe),terrainData:ci,projectionData:ve.getProjectionData({overscaledTileID:rt,applyGlobeMatrix:!$,applyTerrainMatrix:!0})};if(fe){let pi=Ye.segments.get();for(let fi of pi)ke.push({segments:new o.aJ([fi]),sortKey:fi.sortKey,state:qn})}else ke.push({segments:Ye.segments,sortKey:0,state:qn})}fe&&ke.sort((Ve,rt)=>Ve.sortKey-rt.sortKey);for(let Ve of ke){let{programConfiguration:rt,program:Ze,layoutVertexBuffer:Ye,indexBuffer:Je,uniformValues:Ct,terrainData:Et,projectionData:ht}=Ve.state;Ze.draw(pe,he.TRIANGLES,we,xe,Ce,nn.backCCW,Ct,Et,ht,O.id,Ye,Je,Ve.segments,O.paint,E.transform.zoom,rt)}}(a,l,h,g,b):o.c5(h)?function(E,A,O,k,j){if(O.paint.get("heatmap-opacity")===0)return;let $=E.context,{isRenderingToTexture:V,isRenderingGlobe:Q}=j;if(E.style.map.terrain){for(let ee of k){let fe=A.getTile(ee);A.hasRenderableParent(ee)||(E.renderPass==="offscreen"?Rv(E,fe,O,ee,Q):E.renderPass==="translucent"&&Q_(E,O,ee,V,Q))}$.viewport.set([0,0,E.width,E.height])}else E.renderPass==="offscreen"?function(ee,fe,pe,he){let ve=ee.context,we=ve.gl,xe=ee.transform,Ce=Rr.disabled,ke=new Nn([we.ONE,we.ONE],o.b7.transparent,[!0,!0,!0,!0]);(function(Oe,Ve,rt){let Ze=Oe.gl;Oe.activeTexture.set(Ze.TEXTURE1),Oe.viewport.set([0,0,Ve.width/4,Ve.height/4]);let Ye=rt.heatmapFbos.get(o.bW);Ye?(Ze.bindTexture(Ze.TEXTURE_2D,Ye.colorAttachment.get()),Oe.bindFramebuffer.set(Ye.framebuffer)):(Ye=qv(Oe,Ve.width/4,Ve.height/4),rt.heatmapFbos.set(o.bW,Ye))})(ve,ee,pe),ve.clear({color:o.b7.transparent});for(let Oe=0;Oe<he.length;Oe++){let Ve=he[Oe];if(fe.hasRenderableParent(Ve))continue;let rt=fe.getTile(Ve),Ze=rt.getBucket(pe);if(!Ze)continue;let Ye=Ze.programConfigurations.get(pe.id),Je=ee.useProgram("heatmap",Ye),Ct=xe.getProjectionData({overscaledTileID:Ve,applyGlobeMatrix:!0,applyTerrainMatrix:!1}),Et=xe.getCircleRadiusCorrection();Je.draw(ve,we.TRIANGLES,Cr.disabled,Ce,ke,nn.backCCW,Mp(rt,xe.zoom,pe.paint.get("heatmap-intensity"),Et),null,Ct,pe.id,Ze.layoutVertexBuffer,Ze.indexBuffer,Ze.segments,pe.paint,xe.zoom,Ye)}ve.viewport.set([0,0,ee.width,ee.height])}(E,A,O,k):E.renderPass==="translucent"&&function(ee,fe){let pe=ee.context,he=pe.gl;pe.setColorMode(ee.colorModeForRenderPass());let ve=fe.heatmapFbos.get(o.bW);ve&&(pe.activeTexture.set(he.TEXTURE0),he.bindTexture(he.TEXTURE_2D,ve.colorAttachment.get()),pe.activeTexture.set(he.TEXTURE1),J_(pe,fe).bind(he.LINEAR,he.CLAMP_TO_EDGE),ee.useProgram("heatmapTexture").draw(pe,he.TRIANGLES,Cr.disabled,Rr.disabled,ee.colorModeForRenderPass(),nn.disabled,wE(ee,fe,0,1),null,null,fe.id,ee.viewportBuffer,ee.quadTriangleIndexBuffer,ee.viewportSegments,fe.paint,ee.transform.zoom))}(E,O)}(a,l,h,g,b):o.c6(h)?function(E,A,O,k,j){if(E.renderPass!=="translucent")return;let{isRenderingToTexture:$}=j,V=O.paint.get("line-opacity"),Q=O.paint.get("line-width");if(V.constantOr(1)===0||Q.constantOr(1)===0)return;let ee=E.getDepthModeForSublayer(0,Cr.ReadOnly),fe=E.colorModeForRenderPass(),pe=O.paint.get("line-dasharray"),he=O.paint.get("line-pattern"),ve=he.constantOr(1),we=O.paint.get("line-gradient"),xe=O.getCrossfadeParameters(),Ce=ve?"linePattern":pe?"lineSDF":we?"lineGradient":"line",ke=E.context,Oe=ke.gl,Ve=E.transform,rt=!0;for(let Ze of k){let Ye=A.getTile(Ze);if(ve&&!Ye.patternsLoaded())continue;let Je=Ye.getBucket(O);if(!Je)continue;let Ct=Je.programConfigurations.get(O.id),Et=E.context.program.get(),ht=E.useProgram(Ce,Ct),Kt=rt||ht.program!==Et,qr=E.style.map.terrain&&E.style.map.terrain.getTerrainData(Ze),on=he.constantOr(null);if(on&&Ye.imageAtlas){let Bn=Ye.imageAtlas,gn=Bn.patternPositions[on.to.toString()],Xi=Bn.patternPositions[on.from.toString()];gn&&Xi&&Ct.setConstantPatternPositions(gn,Xi)}let ci=Ve.getProjectionData({overscaledTileID:Ze,applyGlobeMatrix:!$,applyTerrainMatrix:!0}),qn=Ve.getPixelScale(),pi=ve?TE(E,Ye,O,qn,xe):pe?ME(E,Ye,O,qn,pe,xe):we?EE(E,Ye,O,qn,Je.lineClipsArray.length):am(E,Ye,O,qn);if(ve)ke.activeTexture.set(Oe.TEXTURE0),Ye.imageAtlasTexture.bind(Oe.LINEAR,Oe.CLAMP_TO_EDGE),Ct.updatePaintBuffers(xe);else if(pe&&(Kt||E.lineAtlas.dirty))ke.activeTexture.set(Oe.TEXTURE0),E.lineAtlas.bind(ke);else if(we){let Bn=Je.gradients[O.id],gn=Bn.texture;if(O.gradientVersion!==Bn.version){let Xi=256;if(O.stepInterpolant){let po=A.getSource().maxzoom,Io=Ze.canonical.z===po?Math.ceil(1<<E.transform.maxZoom-Ze.canonical.z):1;Xi=o.ae(o.bX(Je.maxLineLength/o.Z*1024*Io),256,ke.maxTextureSize)}Bn.gradient=o.bY({expression:O.gradientExpression(),evaluationKey:"lineProgress",resolution:Xi,image:Bn.gradient||void 0,clips:Je.lineClipsArray}),Bn.texture?Bn.texture.update(Bn.gradient):Bn.texture=new ce(ke,Bn.gradient,Oe.RGBA),Bn.version=O.gradientVersion,gn=Bn.texture}ke.activeTexture.set(Oe.TEXTURE0),gn.bind(O.stepInterpolant?Oe.NEAREST:Oe.LINEAR,Oe.CLAMP_TO_EDGE)}let fi=E.stencilModeForClipping(Ze);ht.draw(ke,Oe.TRIANGLES,ee,fi,fe,nn.disabled,pi,qr,ci,O.id,Je.layoutVertexBuffer,Je.indexBuffer,Je.segments,O.paint,E.transform.zoom,Ct,Je.layoutVertexBuffer2),rt=!1}}(a,l,h,g,b):o.c7(h)?function(E,A,O,k,j){let $=O.paint.get("fill-color"),V=O.paint.get("fill-opacity");if(V.constantOr(1)===0)return;let{isRenderingToTexture:Q}=j,ee=E.colorModeForRenderPass(),fe=O.paint.get("fill-pattern"),pe=E.opaquePassEnabledForLayer()&&!fe.constantOr(1)&&$.constantOr(o.b7.transparent).a===1&&V.constantOr(0)===1?"opaque":"translucent";if(E.renderPass===pe){let he=E.getDepthModeForSublayer(1,E.renderPass==="opaque"?Cr.ReadWrite:Cr.ReadOnly);pm(E,A,O,k,he,ee,!1,Q)}if(E.renderPass==="translucent"&&O.paint.get("fill-antialias")){let he=E.getDepthModeForSublayer(O.getPaintProperty("fill-outline-color")?2:0,Cr.ReadOnly);pm(E,A,O,k,he,ee,!0,Q)}}(a,l,h,g,b):o.c8(h)?function(E,A,O,k,j){let $=O.paint.get("fill-extrusion-opacity");if($===0)return;let{isRenderingToTexture:V}=j;if(E.renderPass==="translucent"){let Q=new Cr(E.context.gl.LEQUAL,Cr.ReadWrite,E.depthRangeFor3D);if($!==1||O.paint.get("fill-extrusion-pattern").constantOr(1))fm(E,A,O,k,Q,Rr.disabled,Nn.disabled,V),fm(E,A,O,k,Q,E.stencilModeFor3D(),E.colorModeForRenderPass(),V);else{let ee=E.colorModeForRenderPass();fm(E,A,O,k,Q,Rr.disabled,ee,V)}}}(a,l,h,g,b):o.c9(h)?function(E,A,O,k,j){if(E.renderPass!=="offscreen"&&E.renderPass!=="translucent")return;let{isRenderingToTexture:$}=j,V=E.context,Q=E.style.projection.useSubdivision,ee=E.getDepthModeForSublayer(0,Cr.ReadOnly),fe=E.colorModeForRenderPass();if(E.renderPass==="offscreen")(function(pe,he,ve,we,xe,Ce,ke){let Oe=pe.context,Ve=Oe.gl;for(let rt of ve){let Ze=he.getTile(rt),Ye=Ze.dem;if(!Ye||!Ye.data||!Ze.needsHillshadePrepare)continue;let Je=Ye.dim,Ct=Ye.stride,Et=Ye.getPixels();if(Oe.activeTexture.set(Ve.TEXTURE1),Oe.pixelStoreUnpackPremultiplyAlpha.set(!1),Ze.demTexture=Ze.demTexture||pe.getTileTexture(Ct),Ze.demTexture){let Kt=Ze.demTexture;Kt.update(Et,{premultiply:!1}),Kt.bind(Ve.NEAREST,Ve.CLAMP_TO_EDGE)}else Ze.demTexture=new ce(Oe,Et,Ve.RGBA,{premultiply:!1}),Ze.demTexture.bind(Ve.NEAREST,Ve.CLAMP_TO_EDGE);Oe.activeTexture.set(Ve.TEXTURE0);let ht=Ze.fbo;if(!ht){let Kt=new ce(Oe,{width:Je,height:Je,data:null},Ve.RGBA);Kt.bind(Ve.LINEAR,Ve.CLAMP_TO_EDGE),ht=Ze.fbo=Oe.createFramebuffer(Je,Je,!0,!1),ht.colorAttachment.set(Kt.texture)}Oe.bindFramebuffer.set(ht.framebuffer),Oe.viewport.set([0,0,Je,Je]),pe.useProgram("hillshadePrepare").draw(Oe,Ve.TRIANGLES,xe,Ce,ke,nn.disabled,Zk(Ze.tileID,Ye),null,null,we.id,pe.rasterBoundsBuffer,pe.quadTriangleIndexBuffer,pe.rasterBoundsSegments),Ze.needsHillshadePrepare=!1}})(E,A,k,O,ee,Rr.disabled,fe),V.viewport.set([0,0,E.width,E.height]);else if(E.renderPass==="translucent")if(Q){let[pe,he,ve]=E.stencilConfigForOverlapTwoPass(k);eb(E,A,O,ve,pe,ee,fe,!1,$),eb(E,A,O,ve,he,ee,fe,!0,$)}else{let[pe,he]=E.getStencilConfigForOverlapAndUpdateStencilID(k);eb(E,A,O,he,pe,ee,fe,!1,$)}}(a,l,h,g,b):o.ca(h)?function(E,A,O,k,j){if(E.renderPass!=="translucent"||O.paint.get("raster-opacity")===0||!k.length)return;let{isRenderingToTexture:$}=j,V=A.getSource(),Q=E.style.projection.useSubdivision;if(V instanceof lr)zv(E,A,O,k,null,!1,!1,V.tileCoords,V.flippedWindingOrder,$);else if(Q){let[ee,fe,pe]=E.stencilConfigForOverlapTwoPass(k);zv(E,A,O,pe,ee,!1,!0,dm,!1,$),zv(E,A,O,pe,fe,!0,!0,dm,!1,$)}else{let[ee,fe]=E.getStencilConfigForOverlapAndUpdateStencilID(k);zv(E,A,O,fe,ee,!1,!0,dm,!1,$)}}(a,l,h,g,b):o.cb(h)?function(E,A,O,k,j){let $=O.paint.get("background-color"),V=O.paint.get("background-opacity");if(V===0)return;let{isRenderingToTexture:Q}=j,ee=E.context,fe=ee.gl,pe=E.style.projection,he=E.transform,ve=he.tileSize,we=O.paint.get("background-pattern");if(E.isPatternMissing(we))return;let xe=!we&&$.a===1&&V===1&&E.opaquePassEnabledForLayer()?"opaque":"translucent";if(E.renderPass!==xe)return;let Ce=Rr.disabled,ke=E.getDepthModeForSublayer(0,xe==="opaque"?Cr.ReadWrite:Cr.ReadOnly),Oe=E.colorModeForRenderPass(),Ve=E.useProgram(we?"backgroundPattern":"background"),rt=k||ge(he,{tileSize:ve,terrain:E.style.map.terrain});we&&(ee.activeTexture.set(fe.TEXTURE0),E.imageManager.bind(E.context));let Ze=O.getCrossfadeParameters();for(let Ye of rt){let Je=he.getProjectionData({overscaledTileID:Ye,applyGlobeMatrix:!Q,applyTerrainMatrix:!0}),Ct=we?Kk(V,E,we,{tileID:Ye,tileSize:ve},Ze):Yk(V,$),Et=E.style.map.terrain&&E.style.map.terrain.getTerrainData(Ye),ht=pe.getMeshFromTileID(ee,Ye.canonical,!1,!0,"raster");Ve.draw(ee,fe.TRIANGLES,ke,Ce,Oe,nn.backCCW,Ct,Et,Je,O.id,ht.vertexBuffer,ht.indexBuffer,ht.segments)}}(a,0,h,g,b):o.cc(h)&&function(E,A,O,k){let{isRenderingGlobe:j}=k,$=E.context,V=O.implementation,Q=E.style.projection,ee=E.transform,fe=ee.getProjectionDataForCustomLayer(j),pe={farZ:ee.farZ,nearZ:ee.nearZ,fov:ee.fov*Math.PI/180,modelViewProjectionMatrix:ee.modelViewProjectionMatrix,projectionMatrix:ee.projectionMatrix,shaderData:{variantName:Q.shaderVariantName,vertexShaderPrelude:`const float PI = 3.141592653589793;
uniform mat4 u_projection_matrix;
${Q.shaderPreludeCode.vertexSource}`,define:Q.shaderDefine},defaultProjectionData:fe},he=V.renderingMode?V.renderingMode:"2d";if(E.renderPass==="offscreen"){let ve=V.prerender;ve&&(E.setCustomLayerDefaults(),$.setColorMode(E.colorModeForRenderPass()),ve.call(V,$.gl,pe),$.setDirty(),E.setBaseState())}else if(E.renderPass==="translucent"){E.setCustomLayerDefaults(),$.setColorMode(E.colorModeForRenderPass()),$.setStencilMode(Rr.disabled);let ve=he==="3d"?E.getDepthModeFor3D():E.getDepthModeForSublayer(0,Cr.ReadOnly);$.setDepthMode(ve),V.render($.gl,pe),$.setDirty(),E.setBaseState(),$.bindFramebuffer.set(null)}}(a,0,h,b))}saveTileTexture(a){let l=this._tileTextures[a.size[0]];l?l.push(a):this._tileTextures[a.size[0]]=[a]}getTileTexture(a){let l=this._tileTextures[a];return l&&l.length>0?l.pop():null}isPatternMissing(a){if(!a)return!1;if(!a.from||!a.to)return!0;let l=this.imageManager.getPattern(a.from.toString()),h=this.imageManager.getPattern(a.to.toString());return!l||!h}useProgram(a,l,h=!1,g=[]){this.cache=this.cache||{};let b=!!this.style.map.terrain,E=this.style.projection,A=h?Xo.projectionMercator:E.shaderPreludeCode,O=h?wp:E.shaderDefine,k=a+(l?l.cacheKey:"")+`/${h?rn:E.shaderVariantName}`+(this._showOverdrawInspector?"/overdraw":"")+(b?"/terrain":"")+(g?`/${g.join("/")}`:"");return this.cache[k]||(this.cache[k]=new _v(this.context,Xo[a],l,OE[a],this._showOverdrawInspector,b,A,O,g)),this.cache[k]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){let a=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(a.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new ce(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}overLimit(){let{drawingBufferWidth:a,drawingBufferHeight:l}=this.context.gl;return this.width!==a||this.height!==l}}function mm(_,a){let l,h=!1,g=null,b=null,E=()=>{g=null,h&&(_.apply(b,l),g=setTimeout(E,a),h=!1)};return(...A)=>(h=!0,b=this,l=A,g||E(),g)}class nb{constructor(a){this._getCurrentHash=()=>{let l=window.location.hash.replace("#","");if(this._hashName){let h;return l.split("&").map(g=>g.split("=")).forEach(g=>{g[0]===this._hashName&&(h=g)}),(h&&h[1]||"").split("/")}return l.split("/")},this._onHashChange=()=>{let l=this._getCurrentHash();if(!this._isValidHash(l))return!1;let h=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(l[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+l[2],+l[1]],zoom:+l[0],bearing:h,pitch:+(l[4]||0)}),!0},this._updateHashUnthrottled=()=>{let l=window.location.href.replace(/(#.*)?$/,this.getHashString());window.history.replaceState(window.history.state,null,l)},this._removeHash=()=>{let l=this._getCurrentHash();if(l.length===0)return;let h=l.join("/"),g=h;g.split("&").length>0&&(g=g.split("&")[0]),this._hashName&&(g=`${this._hashName}=${h}`);let b=window.location.hash.replace(g,"");b.startsWith("#&")?b=b.slice(0,1)+b.slice(2):b==="#"&&(b="");let E=window.location.href.replace(/(#.+)?$/,b);E=E.replace("&&","&"),window.history.replaceState(window.history.state,null,E)},this._updateHash=mm(this._updateHashUnthrottled,300),this._hashName=a&&encodeURIComponent(a)}addTo(a){return this._map=a,addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),this._removeHash(),delete this._map,this}getHashString(a){let l=this._map.getCenter(),h=Math.round(100*this._map.getZoom())/100,g=Math.ceil((h*Math.LN2+Math.log(512/360/.5))/Math.LN10),b=Math.pow(10,g),E=Math.round(l.lng*b)/b,A=Math.round(l.lat*b)/b,O=this._map.getBearing(),k=this._map.getPitch(),j="";if(j+=a?`/${E}/${A}/${h}`:`${h}/${A}/${E}`,(O||k)&&(j+="/"+Math.round(10*O)/10),k&&(j+=`/${Math.round(k)}`),this._hashName){let $=this._hashName,V=!1,Q=window.location.hash.slice(1).split("&").map(ee=>{let fe=ee.split("=")[0];return fe===$?(V=!0,`${fe}=${j}`):ee}).filter(ee=>ee);return V||Q.push(`${$}=${j}`),`#${Q.join("&")}`}return`#${j}`}_isValidHash(a){if(a.length<3||a.some(isNaN))return!1;try{new o.Q(+a[2],+a[1])}catch(b){return!1}let l=+a[0],h=+(a[3]||0),g=+(a[4]||0);return l>=this._map.getMinZoom()&&l<=this._map.getMaxZoom()&&h>=-180&&h<=180&&g>=this._map.getMinPitch()&&g<=this._map.getMaxPitch()}}let Pl={linearity:.3,easing:o.cd(0,0,.3,1)},ib=o.e({deceleration:2500,maxSpeed:1400},Pl),gm=o.e({deceleration:20,maxSpeed:1400},Pl),ob=o.e({deceleration:1e3,maxSpeed:360},Pl),GE=o.e({deceleration:1e3,maxSpeed:90},Pl),HE=o.e({deceleration:1e3,maxSpeed:360},Pl);class WE{constructor(a){this._map=a,this.clear()}clear(){this._inertiaBuffer=[]}record(a){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:w.now(),settings:a})}_drainInertiaBuffer(){let a=this._inertiaBuffer,l=w.now();for(;a.length>0&&l-a[0].time>160;)a.shift()}_onMoveEnd(a){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;let l={zoom:0,bearing:0,pitch:0,roll:0,pan:new o.P(0,0),pinchAround:void 0,around:void 0};for(let{settings:b}of this._inertiaBuffer)l.zoom+=b.zoomDelta||0,l.bearing+=b.bearingDelta||0,l.pitch+=b.pitchDelta||0,l.roll+=b.rollDelta||0,b.panDelta&&l.pan._add(b.panDelta),b.around&&(l.around=b.around),b.pinchAround&&(l.pinchAround=b.pinchAround);let h=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,g={};if(l.pan.mag()){let b=Xf(l.pan.mag(),h,o.e({},ib,a||{})),E=l.pan.mult(b.amount/l.pan.mag()),A=this._map.cameraHelper.handlePanInertia(E,this._map.transform);g.center=A.easingCenter,g.offset=A.easingOffset,Kf(g,b)}if(l.zoom){let b=Xf(l.zoom,h,gm);g.zoom=this._map.transform.zoom+b.amount,Kf(g,b)}if(l.bearing){let b=Xf(l.bearing,h,ob);g.bearing=this._map.transform.bearing+o.ae(b.amount,-179,179),Kf(g,b)}if(l.pitch){let b=Xf(l.pitch,h,GE);g.pitch=this._map.transform.pitch+b.amount,Kf(g,b)}if(l.roll){let b=Xf(l.roll,h,HE);g.roll=this._map.transform.roll+o.ae(b.amount,-179,179),Kf(g,b)}if(g.zoom||g.bearing){let b=l.pinchAround===void 0?l.around:l.pinchAround;g.around=b?this._map.unproject(b):this._map.getCenter()}return this.clear(),o.e(g,{noMoveStart:!0})}}function Kf(_,a){(!_.duration||_.duration<a.duration)&&(_.duration=a.duration,_.easing=a.easing)}function Xf(_,a,l){let{maxSpeed:h,linearity:g,deceleration:b}=l,E=o.ae(_*g/(a/1e3),-h,h),A=Math.abs(E)/(b*g);return{easing:l.easing,duration:1e3*A,amount:E*(A/2)}}class Ki extends o.l{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(a,l,h,g={}){h=h instanceof MouseEvent?h:new MouseEvent(a,h);let b=I.mousePos(l.getCanvas(),h),E=l.unproject(b);super(a,o.e({point:b,lngLat:E,originalEvent:h},g)),this._defaultPrevented=!1,this.target=l}}class Qf extends o.l{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(a,l,h){let g=a==="touchend"?h.changedTouches:h.touches,b=I.touchPos(l.getCanvasContainer(),g),E=b.map(O=>l.unproject(O)),A=b.reduce((O,k,j,$)=>O.add(k.div($.length)),new o.P(0,0));super(a,{points:b,point:A,lngLats:E,lngLat:l.unproject(A),originalEvent:h}),this._defaultPrevented=!1}}class ab extends o.l{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(a,l,h){super(a,{originalEvent:h}),this._defaultPrevented=!1}}class ZE{constructor(a,l){this._map=a,this._clickTolerance=l.clickTolerance}reset(){delete this._mousedownPos}wheel(a){return this._firePreventable(new ab(a.type,this._map,a))}mousedown(a,l){return this._mousedownPos=l,this._firePreventable(new Ki(a.type,this._map,a))}mouseup(a){this._map.fire(new Ki(a.type,this._map,a))}click(a,l){this._mousedownPos&&this._mousedownPos.dist(l)>=this._clickTolerance||this._map.fire(new Ki(a.type,this._map,a))}dblclick(a){return this._firePreventable(new Ki(a.type,this._map,a))}mouseover(a){this._map.fire(new Ki(a.type,this._map,a))}mouseout(a){this._map.fire(new Ki(a.type,this._map,a))}touchstart(a){return this._firePreventable(new Qf(a.type,this._map,a))}touchmove(a){this._map.fire(new Qf(a.type,this._map,a))}touchend(a){this._map.fire(new Qf(a.type,this._map,a))}touchcancel(a){this._map.fire(new Qf(a.type,this._map,a))}_firePreventable(a){if(this._map.fire(a),a.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class YE{constructor(a){this._map=a}reset(){this._delayContextMenu=!1,this._ignoreContextMenu=!0,delete this._contextMenuEvent}mousemove(a){this._map.fire(new Ki(a.type,this._map,a))}mousedown(){this._delayContextMenu=!0,this._ignoreContextMenu=!1}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Ki("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(a){this._delayContextMenu?this._contextMenuEvent=a:this._ignoreContextMenu||this._map.fire(new Ki(a.type,this._map,a)),this._map.listens("contextmenu")&&a.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Jf{constructor(a){this._map=a}get transform(){return this._map._requestedCameraState||this._map.transform}get center(){return{lng:this.transform.center.lng,lat:this.transform.center.lat}}get zoom(){return this.transform.zoom}get pitch(){return this.transform.pitch}get bearing(){return this.transform.bearing}unproject(a){return this.transform.screenPointToLocation(o.P.convert(a),this._map.terrain)}}class sb{constructor(a,l){this._map=a,this._tr=new Jf(a),this._el=a.getCanvasContainer(),this._container=a.getContainer(),this._clickTolerance=l.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(a,l){this.isEnabled()&&a.shiftKey&&a.button===0&&(I.disableDrag(),this._startPos=this._lastPos=l,this._active=!0)}mousemoveWindow(a,l){if(!this._active)return;let h=l;if(this._lastPos.equals(h)||!this._box&&h.dist(this._startPos)<this._clickTolerance)return;let g=this._startPos;this._lastPos=h,this._box||(this._box=I.create("div","maplibregl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair"),this._fireEvent("boxzoomstart",a));let b=Math.min(g.x,h.x),E=Math.max(g.x,h.x),A=Math.min(g.y,h.y),O=Math.max(g.y,h.y);I.setTransform(this._box,`translate(${b}px,${A}px)`),this._box.style.width=E-b+"px",this._box.style.height=O-A+"px"}mouseupWindow(a,l){if(!this._active||a.button!==0)return;let h=this._startPos,g=l;if(this.reset(),I.suppressClick(),h.x!==g.x||h.y!==g.y)return this._map.fire(new o.l("boxzoomend",{originalEvent:a})),{cameraAnimation:b=>b.fitScreenCoordinates(h,g,this._tr.bearing,{linear:!0})};this._fireEvent("boxzoomcancel",a)}keydown(a){this._active&&a.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",a))}reset(){this._active=!1,this._container.classList.remove("maplibregl-crosshair"),this._box&&(I.remove(this._box),this._box=null),I.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(a,l){return this._map.fire(new o.l(a,{originalEvent:l}))}}function Uv(_,a){if(_.length!==a.length)throw new Error(`The number of touches and points are not equal - touches ${_.length}, points ${a.length}`);let l={};for(let h=0;h<_.length;h++)l[_[h].identifier]=a[h];return l}class KE{constructor(a){this.reset(),this.numTouches=a.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(a,l,h){(this.centroid||h.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=a.timeStamp),h.length===this.numTouches&&(this.centroid=function(g){let b=new o.P(0,0);for(let E of g)b._add(E);return b.div(g.length)}(l),this.touches=Uv(h,l)))}touchmove(a,l,h){if(this.aborted||!this.centroid)return;let g=Uv(h,l);for(let b in this.touches){let E=g[b];(!E||E.dist(this.touches[b])>30)&&(this.aborted=!0)}}touchend(a,l,h){if((!this.centroid||a.timeStamp-this.startTime>500)&&(this.aborted=!0),h.length===0){let g=!this.aborted&&this.centroid;if(this.reset(),g)return g}}}class ed{constructor(a){this.singleTap=new KE(a),this.numTaps=a.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(a,l,h){this.singleTap.touchstart(a,l,h)}touchmove(a,l,h){this.singleTap.touchmove(a,l,h)}touchend(a,l,h){let g=this.singleTap.touchend(a,l,h);if(g){let b=a.timeStamp-this.lastTime<500,E=!this.lastTap||this.lastTap.dist(g)<30;if(b&&E||this.reset(),this.count++,this.lastTime=a.timeStamp,this.lastTap=g,this.count===this.numTaps)return this.reset(),g}}}class XE{constructor(a){this._tr=new Jf(a),this._zoomIn=new ed({numTouches:1,numTaps:2}),this._zoomOut=new ed({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(a,l,h){this._zoomIn.touchstart(a,l,h),this._zoomOut.touchstart(a,l,h)}touchmove(a,l,h){this._zoomIn.touchmove(a,l,h),this._zoomOut.touchmove(a,l,h)}touchend(a,l,h){let g=this._zoomIn.touchend(a,l,h),b=this._zoomOut.touchend(a,l,h),E=this._tr;return g?(this._active=!0,a.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:A=>A.easeTo({duration:300,zoom:E.zoom+1,around:E.unproject(g)},{originalEvent:a})}):b?(this._active=!0,a.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:A=>A.easeTo({duration:300,zoom:E.zoom-1,around:E.unproject(b)},{originalEvent:a})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class qo{constructor(a){this._enabled=!!a.enable,this._moveStateManager=a.moveStateManager,this._clickTolerance=a.clickTolerance||1,this._moveFunction=a.move,this._activateOnStart=!!a.activateOnStart,a.assignEvents(this),this.reset()}reset(a){this._active=!1,this._moved=!1,delete this._lastPoint,this._moveStateManager.endMove(a)}_move(...a){let l=this._moveFunction(...a);if(l.bearingDelta||l.pitchDelta||l.rollDelta||l.around||l.panDelta)return this._active=!0,l}dragStart(a,l){this.isEnabled()&&!this._lastPoint&&this._moveStateManager.isValidStartEvent(a)&&(this._moveStateManager.startMove(a),this._lastPoint=Array.isArray(l)?l[0]:l,this._activateOnStart&&this._lastPoint&&(this._active=!0))}dragMove(a,l){if(!this.isEnabled())return;let h=this._lastPoint;if(!h)return;if(a.preventDefault(),!this._moveStateManager.isValidMoveEvent(a))return void this.reset(a);let g=Array.isArray(l)?l[0]:l;return!this._moved&&g.dist(h)<this._clickTolerance?void 0:(this._moved=!0,this._lastPoint=g,this._move(h,g))}dragEnd(a){this.isEnabled()&&this._lastPoint&&this._moveStateManager.isValidEndEvent(a)&&(this._moved&&I.suppressClick(),this.reset(a))}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}getClickTolerance(){return this._clickTolerance}}let il={0:1,2:2};class td{constructor(a){this._correctEvent=a.checkCorrectEvent}startMove(a){let l=I.mouseButton(a);this._eventButton=l}endMove(a){delete this._eventButton}isValidStartEvent(a){return this._correctEvent(a)}isValidMoveEvent(a){return!function(l,h){let g=il[h];return l.buttons===void 0||(l.buttons&g)!==g}(a,this._eventButton)}isValidEndEvent(a){return I.mouseButton(a)===this._eventButton}}class ol{constructor(){this._firstTouch=void 0}_isOneFingerTouch(a){return a.targetTouches.length===1}_isSameTouchEvent(a){return a.targetTouches[0].identifier===this._firstTouch}startMove(a){this._firstTouch=a.targetTouches[0].identifier}endMove(a){delete this._firstTouch}isValidStartEvent(a){return this._isOneFingerTouch(a)}isValidMoveEvent(a){return this._isOneFingerTouch(a)&&this._isSameTouchEvent(a)}isValidEndEvent(a){return this._isOneFingerTouch(a)&&this._isSameTouchEvent(a)}}class rd{constructor(a=new td({checkCorrectEvent:()=>!0}),l=new ol){this.mouseMoveStateManager=a,this.oneFingerTouchMoveStateManager=l}_executeRelevantHandler(a,l,h){return a instanceof MouseEvent?l(a):typeof TouchEvent!="undefined"&&a instanceof TouchEvent?h(a):void 0}startMove(a){this._executeRelevantHandler(a,l=>this.mouseMoveStateManager.startMove(l),l=>this.oneFingerTouchMoveStateManager.startMove(l))}endMove(a){this._executeRelevantHandler(a,l=>this.mouseMoveStateManager.endMove(l),l=>this.oneFingerTouchMoveStateManager.endMove(l))}isValidStartEvent(a){return this._executeRelevantHandler(a,l=>this.mouseMoveStateManager.isValidStartEvent(l),l=>this.oneFingerTouchMoveStateManager.isValidStartEvent(l))}isValidMoveEvent(a){return this._executeRelevantHandler(a,l=>this.mouseMoveStateManager.isValidMoveEvent(l),l=>this.oneFingerTouchMoveStateManager.isValidMoveEvent(l))}isValidEndEvent(a){return this._executeRelevantHandler(a,l=>this.mouseMoveStateManager.isValidEndEvent(l),l=>this.oneFingerTouchMoveStateManager.isValidEndEvent(l))}}let Vv=_=>{_.mousedown=_.dragStart,_.mousemoveWindow=_.dragMove,_.mouseup=_.dragEnd,_.contextmenu=a=>{a.preventDefault()}};class o6{constructor(a,l){this._clickTolerance=a.clickTolerance||1,this._map=l,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new o.P(0,0)}_shouldBePrevented(a){return a<(this._map.cooperativeGestures.isEnabled()?2:1)}touchstart(a,l,h){return this._calculateTransform(a,l,h)}touchmove(a,l,h){if(this._active){if(!this._shouldBePrevented(h.length))return a.preventDefault(),this._calculateTransform(a,l,h);this._map.cooperativeGestures.notifyGestureBlocked("touch_pan",a)}}touchend(a,l,h){this._calculateTransform(a,l,h),this._active&&this._shouldBePrevented(h.length)&&this.reset()}touchcancel(){this.reset()}_calculateTransform(a,l,h){h.length>0&&(this._active=!0);let g=Uv(h,l),b=new o.P(0,0),E=new o.P(0,0),A=0;for(let k in g){let j=g[k],$=this._touches[k];$&&(b._add(j),E._add(j.sub($)),A++,g[k]=j)}if(this._touches=g,this._shouldBePrevented(A)||!E.mag())return;let O=E.div(A);return this._sum._add(O),this._sum.mag()<this._clickTolerance?void 0:{around:b.div(A),panDelta:O}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class lb{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}touchstart(a,l,h){this._firstTwoTouches||h.length<2||(this._firstTwoTouches=[h[0].identifier,h[1].identifier],this._start([l[0],l[1]]))}touchmove(a,l,h){if(!this._firstTwoTouches)return;a.preventDefault();let[g,b]=this._firstTwoTouches,E=$v(h,l,g),A=$v(h,l,b);if(!E||!A)return;let O=this._aroundCenter?null:E.add(A).div(2);return this._move([E,A],O,a)}touchend(a,l,h){if(!this._firstTwoTouches)return;let[g,b]=this._firstTwoTouches,E=$v(h,l,g),A=$v(h,l,b);E&&A||(this._active&&I.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(a){this._enabled=!0,this._aroundCenter=!!a&&a.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}}function $v(_,a,l){for(let h=0;h<_.length;h++)if(_[h].identifier===l)return a[h]}function ub(_,a){return Math.log(_/a)/Math.LN2}class nd extends lb{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(a){this._startDistance=this._distance=a[0].dist(a[1])}_move(a,l){let h=this._distance;if(this._distance=a[0].dist(a[1]),this._active||!(Math.abs(ub(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:ub(this._distance,h),pinchAround:l}}}function Ol(_,a){return 180*_.angleWith(a)/Math.PI}class $t extends lb{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(a){this._startVector=this._vector=a[0].sub(a[1]),this._minDiameter=a[0].dist(a[1])}_move(a,l,h){let g=this._vector;if(this._vector=a[0].sub(a[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:Ol(this._vector,g),pinchAround:l}}_isBelowThreshold(a){this._minDiameter=Math.min(this._minDiameter,a.mag());let l=25/(Math.PI*this._minDiameter)*360,h=Ol(a,this._startVector);return Math.abs(h)<l}}function Gv(_){return Math.abs(_.y)>Math.abs(_.x)}class Hv extends lb{constructor(a){super(),this._currentTouchCount=0,this._map=a}reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}touchstart(a,l,h){super.touchstart(a,l,h),this._currentTouchCount=h.length}_start(a){this._lastPoints=a,Gv(a[0].sub(a[1]))&&(this._valid=!1)}_move(a,l,h){if(this._map.cooperativeGestures.isEnabled()&&this._currentTouchCount<3)return;let g=a[0].sub(this._lastPoints[0]),b=a[1].sub(this._lastPoints[1]);return this._valid=this.gestureBeginsVertically(g,b,h.timeStamp),this._valid?(this._lastPoints=a,this._active=!0,{pitchDelta:(g.y+b.y)/2*-.5}):void 0}gestureBeginsVertically(a,l,h){if(this._valid!==void 0)return this._valid;let g=a.mag()>=2,b=l.mag()>=2;if(!g&&!b)return;if(!g||!b)return this._firstMove===void 0&&(this._firstMove=h),h-this._firstMove<100&&void 0;let E=a.y>0==l.y>0;return Gv(a)&&Gv(l)&&E}}let QE={panStep:100,bearingStep:15,pitchStep:10};class id{constructor(a){this._tr=new Jf(a);let l=QE;this._panStep=l.panStep,this._bearingStep=l.bearingStep,this._pitchStep=l.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(a){if(a.altKey||a.ctrlKey||a.metaKey)return;let l=0,h=0,g=0,b=0,E=0;switch(a.keyCode){case 61:case 107:case 171:case 187:l=1;break;case 189:case 109:case 173:l=-1;break;case 37:a.shiftKey?h=-1:(a.preventDefault(),b=-1);break;case 39:a.shiftKey?h=1:(a.preventDefault(),b=1);break;case 38:a.shiftKey?g=1:(a.preventDefault(),E=-1);break;case 40:a.shiftKey?g=-1:(a.preventDefault(),E=1);break;default:return}return this._rotationDisabled&&(h=0,g=0),{cameraAnimation:A=>{let O=this._tr;A.easeTo({duration:300,easeId:"keyboardHandler",easing:vm,zoom:l?Math.round(O.zoom)+l*(a.shiftKey?2:1):O.zoom,bearing:O.bearing+h*this._bearingStep,pitch:O.pitch+g*this._pitchStep,offset:[-b*this._panStep,-E*this._panStep],center:O.center},{originalEvent:a})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function vm(_){return _*(2-_)}let cb=4.000244140625;class Kr{constructor(a,l){this._onTimeout=h=>{this._type="wheel",this._delta-=this._lastValue,this._active||this._start(h)},this._map=a,this._tr=new Jf(a),this._triggerRenderFrame=l,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222}setZoomRate(a){this._defaultZoomRate=a}setWheelZoomRate(a){this._wheelZoomRate=a}isEnabled(){return!!this._enabled}isActive(){return!!this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(a){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!a&&a.around==="center")}disable(){this.isEnabled()&&(this._enabled=!1)}_shouldBePrevented(a){return!!this._map.cooperativeGestures.isEnabled()&&!(a.ctrlKey||this._map.cooperativeGestures.isBypassed(a))}wheel(a){if(!this.isEnabled())return;if(this._shouldBePrevented(a))return void this._map.cooperativeGestures.notifyGestureBlocked("wheel_zoom",a);let l=a.deltaMode===WheelEvent.DOM_DELTA_LINE?40*a.deltaY:a.deltaY,h=w.now(),g=h-(this._lastWheelEventTime||0);this._lastWheelEventTime=h,l!==0&&l%cb==0?this._type="wheel":l!==0&&Math.abs(l)<4?this._type="trackpad":g>400?(this._type=null,this._lastValue=l,this._timeout=setTimeout(this._onTimeout,40,a)):this._type||(this._type=Math.abs(g*l)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,l+=this._lastValue)),a.shiftKey&&l&&(l/=4),this._type&&(this._lastWheelEvent=a,this._delta-=l,this._active||this._start(a)),a.preventDefault()}_start(a){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);let l=I.mousePos(this._map.getCanvas(),a),h=this._tr;this._aroundPoint=this._aroundCenter?h.transform.locationToScreenPoint(o.Q.convert(h.center)):l,this._frameId||(this._frameId=!0,this._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;let a=this._tr.transform;if(typeof this._lastExpectedZoom=="number"){let A=a.zoom-this._lastExpectedZoom;typeof this._startZoom=="number"&&(this._startZoom+=A),typeof this._targetZoom=="number"&&(this._targetZoom+=A)}if(this._delta!==0){let A=this._type==="wheel"&&Math.abs(this._delta)>cb?this._wheelZoomRate:this._defaultZoomRate,O=2/(1+Math.exp(-Math.abs(this._delta*A)));this._delta<0&&O!==0&&(O=1/O);let k=typeof this._targetZoom!="number"?a.scale:o.ac(this._targetZoom);this._targetZoom=a.getConstrained(a.getCameraLngLat(),o.ah(k*O)).zoom,this._type==="wheel"&&(this._startZoom=a.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}let l=typeof this._targetZoom!="number"?a.zoom:this._targetZoom,h=this._startZoom,g=this._easing,b,E=!1;if(this._type==="wheel"&&h&&g){let A=w.now()-this._lastWheelEventTime,O=Math.min((A+5)/200,1),k=g(O);b=o.B.number(h,l,k),O<1?this._frameId||(this._frameId=!0):E=!0}else b=l,E=!0;return this._active=!0,E&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._triggerRenderFrame(),delete this._targetZoom,delete this._lastExpectedZoom,delete this._finishTimeout},200)),this._lastExpectedZoom=b,{noInertia:!0,needsRenderFrame:!E,zoomDelta:b-a.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}_smoothOutEasing(a){let l=o.cf;if(this._prevEase){let h=this._prevEase,g=(w.now()-h.start)/h.duration,b=h.easing(g+.01)-h.easing(g),E=.27/Math.sqrt(b*b+1e-4)*.01,A=Math.sqrt(.0729-E*E);l=o.cd(E,A,.25,1)}return this._prevEase={start:w.now(),duration:a,easing:l},l}reset(){this._active=!1,this._zooming=!1,delete this._targetZoom,delete this._lastExpectedZoom,this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout)}}class Wv{constructor(a,l){this._clickZoom=a,this._tapZoom=l}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class a6{constructor(a){this._tr=new Jf(a),this.reset()}reset(){this._active=!1}dblclick(a,l){return a.preventDefault(),{cameraAnimation:h=>{h.easeTo({duration:300,zoom:this._tr.zoom+(a.shiftKey?-1:1),around:this._tr.unproject(l)},{originalEvent:a})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class pb{constructor(){this._tap=new ed({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,delete this._tapPoint,this._tap.reset()}touchstart(a,l,h){if(!this._swipePoint)if(this._tapTime){let g=l[0],b=a.timeStamp-this._tapTime<500,E=this._tapPoint.dist(g)<30;b&&E?h.length>0&&(this._swipePoint=g,this._swipeTouch=h[0].identifier):this.reset()}else this._tap.touchstart(a,l,h)}touchmove(a,l,h){if(this._tapTime){if(this._swipePoint){if(h[0].identifier!==this._swipeTouch)return;let g=l[0],b=g.y-this._swipePoint.y;return this._swipePoint=g,a.preventDefault(),this._active=!0,{zoomDelta:b/128}}}else this._tap.touchmove(a,l,h)}touchend(a,l,h){if(this._tapTime)this._swipePoint&&h.length===0&&this.reset();else{let g=this._tap.touchend(a,l,h);g&&(this._tapTime=a.timeStamp,this._tapPoint=g)}}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class JE{constructor(a,l,h){this._el=a,this._mousePan=l,this._touchPan=h}enable(a){this._inertiaOptions=a||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class eT{constructor(a,l,h,g){this._pitchWithRotate=a.pitchWithRotate,this._rollEnabled=a.rollEnabled,this._mouseRotate=l,this._mousePitch=h,this._mouseRoll=g}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable(),this._rollEnabled&&this._mouseRoll.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable(),this._mouseRoll.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())&&(!this._rollEnabled||this._mouseRoll.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()||this._mouseRoll.isActive()}}class fb{constructor(a,l,h,g){this._el=a,this._touchZoom=l,this._touchRotate=h,this._tapDragZoom=g,this._rotationDisabled=!1,this._enabled=!0}enable(a){this._touchZoom.enable(a),this._rotationDisabled||this._touchRotate.enable(a),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}class Zv{constructor(a,l){this._bypassKey=navigator.userAgent.indexOf("Mac")!==-1?"metaKey":"ctrlKey",this._map=a,this._options=l,this._enabled=!1}isActive(){return!1}reset(){}_setupUI(){if(this._container)return;let a=this._map.getCanvasContainer();a.classList.add("maplibregl-cooperative-gestures"),this._container=I.create("div","maplibregl-cooperative-gesture-screen",a);let l=this._map._getUIString("CooperativeGesturesHandler.WindowsHelpText");this._bypassKey==="metaKey"&&(l=this._map._getUIString("CooperativeGesturesHandler.MacHelpText"));let h=this._map._getUIString("CooperativeGesturesHandler.MobileHelpText"),g=document.createElement("div");g.className="maplibregl-desktop-message",g.textContent=l,this._container.appendChild(g);let b=document.createElement("div");b.className="maplibregl-mobile-message",b.textContent=h,this._container.appendChild(b),this._container.setAttribute("aria-hidden","true")}_destroyUI(){this._container&&(I.remove(this._container),this._map.getCanvasContainer().classList.remove("maplibregl-cooperative-gestures")),delete this._container}enable(){this._setupUI(),this._enabled=!0}disable(){this._enabled=!1,this._destroyUI()}isEnabled(){return this._enabled}isBypassed(a){return a[this._bypassKey]}notifyGestureBlocked(a,l){this._enabled&&(this._map.fire(new o.l("cooperativegestureprevented",{gestureType:a,originalEvent:l})),this._container.classList.add("maplibregl-show"),setTimeout(()=>{this._container.classList.remove("maplibregl-show")},100))}}let ym=_=>_.zoom||_.drag||_.roll||_.pitch||_.rotate;class s6 extends o.l{}function Yv(_){return _.panDelta&&_.panDelta.mag()||_.zoomDelta||_.bearingDelta||_.pitchDelta||_.rollDelta}class l6{constructor(a,l){this.handleWindowEvent=g=>{this.handleEvent(g,`${g.type}Window`)},this.handleEvent=(g,b)=>{if(g.type==="blur")return void this.stop(!0);this._updatingCamera=!0;let E=g.type==="renderFrame"?void 0:g,A={needsRenderFrame:!1},O={},k={};for(let{handlerName:V,handler:Q,allowed:ee}of this._handlers){if(!Q.isEnabled())continue;let fe;if(this._blockedByActive(k,ee,V))Q.reset();else if(Q[b||g.type]){if(o.cg(g,b||g.type)){let pe=I.mousePos(this._map.getCanvas(),g);fe=Q[b||g.type](g,pe)}else if(o.ch(g,b||g.type)){let pe=this._getMapTouches(g.touches),he=I.touchPos(this._map.getCanvas(),pe);fe=Q[b||g.type](g,he,pe)}else o.ci(b||g.type)||(fe=Q[b||g.type](g));this.mergeHandlerResult(A,O,fe,V,E),fe&&fe.needsRenderFrame&&this._triggerRenderFrame()}(fe||Q.isActive())&&(k[V]=Q)}let j={};for(let V in this._previousActiveHandlers)k[V]||(j[V]=E);this._previousActiveHandlers=k,(Object.keys(j).length||Yv(A))&&(this._changes.push([A,O,j]),this._triggerRenderFrame()),(Object.keys(k).length||Yv(A))&&this._map._stop(!0),this._updatingCamera=!1;let{cameraAnimation:$}=A;$&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],$(this._map))},this._map=a,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new WE(a),this._bearingSnap=l.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(l);let h=this._el;this._listeners=[[h,"touchstart",{passive:!0}],[h,"touchmove",{passive:!1}],[h,"touchend",void 0],[h,"touchcancel",void 0],[h,"mousedown",void 0],[h,"mousemove",void 0],[h,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[h,"mouseover",void 0],[h,"mouseout",void 0],[h,"dblclick",void 0],[h,"click",void 0],[h,"keydown",{capture:!1}],[h,"keyup",void 0],[h,"wheel",{passive:!1}],[h,"contextmenu",void 0],[window,"blur",void 0]];for(let[g,b,E]of this._listeners)I.addEventListener(g,b,g===document?this.handleWindowEvent:this.handleEvent,E)}destroy(){for(let[a,l,h]of this._listeners)I.removeEventListener(a,l,a===document?this.handleWindowEvent:this.handleEvent,h)}_addDefaultHandlers(a){let l=this._map,h=l.getCanvasContainer();this._add("mapEvent",new ZE(l,a));let g=l.boxZoom=new sb(l,a);this._add("boxZoom",g),a.interactive&&a.boxZoom&&g.enable();let b=l.cooperativeGestures=new Zv(l,a.cooperativeGestures);this._add("cooperativeGestures",b),a.cooperativeGestures&&b.enable();let E=new XE(l),A=new a6(l);l.doubleClickZoom=new Wv(A,E),this._add("tapZoom",E),this._add("clickZoom",A),a.interactive&&a.doubleClickZoom&&l.doubleClickZoom.enable();let O=new pb;this._add("tapDragZoom",O);let k=l.touchPitch=new Hv(l);this._add("touchPitch",k),a.interactive&&a.touchPitch&&l.touchPitch.enable(a.touchPitch);let j=()=>l.project(l.getCenter()),$=function({enable:xe,clickTolerance:Ce,aroundCenter:ke=!0,minPixelCenterThreshold:Oe=100,rotateDegreesPerPixelMoved:Ve=.8},rt){let Ze=new td({checkCorrectEvent:Ye=>I.mouseButton(Ye)===0&&Ye.ctrlKey||I.mouseButton(Ye)===2&&!Ye.ctrlKey});return new qo({clickTolerance:Ce,move:(Ye,Je)=>{let Ct=rt();if(ke&&Math.abs(Ct.y-Ye.y)>Oe)return{bearingDelta:o.ce(new o.P(Ye.x,Je.y),Je,Ct)};let Et=(Je.x-Ye.x)*Ve;return ke&&Je.y<Ct.y&&(Et=-Et),{bearingDelta:Et}},moveStateManager:Ze,enable:xe,assignEvents:Vv})}(a,j),V=function({enable:xe,clickTolerance:Ce,pitchDegreesPerPixelMoved:ke=-.5}){let Oe=new td({checkCorrectEvent:Ve=>I.mouseButton(Ve)===0&&Ve.ctrlKey||I.mouseButton(Ve)===2});return new qo({clickTolerance:Ce,move:(Ve,rt)=>({pitchDelta:(rt.y-Ve.y)*ke}),moveStateManager:Oe,enable:xe,assignEvents:Vv})}(a),Q=function({enable:xe,clickTolerance:Ce,rollDegreesPerPixelMoved:ke=.3},Oe){let Ve=new td({checkCorrectEvent:rt=>I.mouseButton(rt)===2&&rt.ctrlKey});return new qo({clickTolerance:Ce,move:(rt,Ze)=>{let Ye=Oe(),Je=(Ze.x-rt.x)*ke;return Ze.y<Ye.y&&(Je=-Je),{rollDelta:Je}},moveStateManager:Ve,enable:xe,assignEvents:Vv})}(a,j);l.dragRotate=new eT(a,$,V,Q),this._add("mouseRotate",$,["mousePitch"]),this._add("mousePitch",V,["mouseRotate","mouseRoll"]),this._add("mouseRoll",Q,["mousePitch"]),a.interactive&&a.dragRotate&&l.dragRotate.enable();let ee=function({enable:xe,clickTolerance:Ce}){let ke=new td({checkCorrectEvent:Oe=>I.mouseButton(Oe)===0&&!Oe.ctrlKey});return new qo({clickTolerance:Ce,move:(Oe,Ve)=>({around:Ve,panDelta:Ve.sub(Oe)}),activateOnStart:!0,moveStateManager:ke,enable:xe,assignEvents:Vv})}(a),fe=new o6(a,l);l.dragPan=new JE(h,ee,fe),this._add("mousePan",ee),this._add("touchPan",fe,["touchZoom","touchRotate"]),a.interactive&&a.dragPan&&l.dragPan.enable(a.dragPan);let pe=new $t,he=new nd;l.touchZoomRotate=new fb(h,he,pe,O),this._add("touchRotate",pe,["touchPan","touchZoom"]),this._add("touchZoom",he,["touchPan","touchRotate"]),a.interactive&&a.touchZoomRotate&&l.touchZoomRotate.enable(a.touchZoomRotate);let ve=l.scrollZoom=new Kr(l,()=>this._triggerRenderFrame());this._add("scrollZoom",ve,["mousePan"]),a.interactive&&a.scrollZoom&&l.scrollZoom.enable(a.scrollZoom);let we=l.keyboard=new id(l);this._add("keyboard",we),a.interactive&&a.keyboard&&l.keyboard.enable(),this._add("blockableMapEvent",new YE(l))}_add(a,l,h){this._handlers.push({handlerName:a,handler:l,allowed:h}),this._handlersById[a]=l}stop(a){if(!this._updatingCamera){for(let{handler:l}of this._handlers)l.reset();this._inertia.clear(),this._fireEvents({},{},a),this._changes=[]}}isActive(){for(let{handler:a}of this._handlers)if(a.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!ym(this._eventsInProgress)||this.isZooming()}_blockedByActive(a,l,h){for(let g in a)if(g!==h&&(!l||l.indexOf(g)<0))return!0;return!1}_getMapTouches(a){let l=[];for(let h of a)this._el.contains(h.target)&&l.push(h);return l}mergeHandlerResult(a,l,h,g,b){if(!h)return;o.e(a,h);let E={handlerName:g,originalEvent:h.originalEvent||b};h.zoomDelta!==void 0&&(l.zoom=E),h.panDelta!==void 0&&(l.drag=E),h.rollDelta!==void 0&&(l.roll=E),h.pitchDelta!==void 0&&(l.pitch=E),h.bearingDelta!==void 0&&(l.rotate=E)}_applyChanges(){let a={},l={},h={};for(let[g,b,E]of this._changes)g.panDelta&&(a.panDelta=(a.panDelta||new o.P(0,0))._add(g.panDelta)),g.zoomDelta&&(a.zoomDelta=(a.zoomDelta||0)+g.zoomDelta),g.bearingDelta&&(a.bearingDelta=(a.bearingDelta||0)+g.bearingDelta),g.pitchDelta&&(a.pitchDelta=(a.pitchDelta||0)+g.pitchDelta),g.rollDelta&&(a.rollDelta=(a.rollDelta||0)+g.rollDelta),g.around!==void 0&&(a.around=g.around),g.pinchAround!==void 0&&(a.pinchAround=g.pinchAround),g.noInertia&&(a.noInertia=g.noInertia),o.e(l,b),o.e(h,E);this._updateMapTransform(a,l,h),this._changes=[]}_updateMapTransform(a,l,h){let g=this._map,b=g._getTransformForUpdate(),E=g.terrain;if(!(Yv(a)||E&&this._terrainMovement))return this._fireEvents(l,h,!0);g._stop(!0);let{panDelta:A,zoomDelta:O,bearingDelta:k,pitchDelta:j,rollDelta:$,around:V,pinchAround:Q}=a;Q!==void 0&&(V=Q),V=V||g.transform.centerPoint,E&&!b.isPointOnMapSurface(V)&&(V=b.centerPoint);let ee={panDelta:A,zoomDelta:O,rollDelta:$,pitchDelta:j,bearingDelta:k,around:V};this._map.cameraHelper.useGlobeControls&&!b.isPointOnMapSurface(V)&&(V=b.centerPoint);let fe=V.distSqr(b.centerPoint)<.01?b.center:b.screenPointToLocation(A?V.sub(A):V);E?(this._map.cameraHelper.handleMapControlsRollPitchBearingZoom(ee,b),this._terrainMovement||!l.drag&&!l.zoom?l.drag&&this._terrainMovement?b.setCenter(b.screenPointToLocation(b.centerPoint.sub(A))):this._map.cameraHelper.handleMapControlsPan(ee,b,fe):(this._terrainMovement=!0,this._map._elevationFreeze=!0,this._map.cameraHelper.handleMapControlsPan(ee,b,fe))):(this._map.cameraHelper.handleMapControlsRollPitchBearingZoom(ee,b),this._map.cameraHelper.handleMapControlsPan(ee,b,fe)),g._applyUpdatedTransform(b),this._map._update(),a.noInertia||this._inertia.record(a),this._fireEvents(l,h,!0)}_fireEvents(a,l,h){let g=ym(this._eventsInProgress),b=ym(a),E={};for(let $ in a){let{originalEvent:V}=a[$];this._eventsInProgress[$]||(E[`${$}start`]=V),this._eventsInProgress[$]=a[$]}!g&&b&&this._fireEvent("movestart",b.originalEvent);for(let $ in E)this._fireEvent($,E[$]);b&&this._fireEvent("move",b.originalEvent);for(let $ in a){let{originalEvent:V}=a[$];this._fireEvent($,V)}let A={},O;for(let $ in this._eventsInProgress){let{handlerName:V,originalEvent:Q}=this._eventsInProgress[$];this._handlersById[V].isActive()||(delete this._eventsInProgress[$],O=l[V]||Q,A[`${$}end`]=O)}for(let $ in A)this._fireEvent($,A[$]);let k=ym(this._eventsInProgress),j=(g||b)&&!k;if(j&&this._terrainMovement){this._map._elevationFreeze=!1,this._terrainMovement=!1;let $=this._map._getTransformForUpdate();this._map.getCenterClampedToGround()&&$.recalculateZoomAndCenter(this._map.terrain),this._map._applyUpdatedTransform($)}if(h&&j){this._updatingCamera=!0;let $=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),V=Q=>Q!==0&&-this._bearingSnap<Q&&Q<this._bearingSnap;!$||!$.essential&&w.prefersReducedMotion?(this._map.fire(new o.l("moveend",{originalEvent:O})),V(this._map.getBearing())&&this._map.resetNorth()):(V($.bearing||this._map.getBearing())&&($.bearing=0),$.freezeElevation=!0,this._map.easeTo($,{originalEvent:O})),this._updatingCamera=!1}}_fireEvent(a,l){this._map.fire(new o.l(a,l?{originalEvent:l}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(a=>{delete this._frameId,this.handleEvent(new s6("renderFrame",{timeStamp:a})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}class u6 extends o.E{constructor(a,l,h){super(),this._renderFrameCallback=()=>{let g=Math.min((w.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(g)),g<1&&this._easeFrameId?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},this._moving=!1,this._zooming=!1,this.transform=a,this._bearingSnap=h.bearingSnap,this.cameraHelper=l,this.on("moveend",()=>{delete this._requestedCameraState})}migrateProjection(a,l){a.apply(this.transform),this.transform=a,this.cameraHelper=l}getCenter(){return new o.Q(this.transform.center.lng,this.transform.center.lat)}setCenter(a,l){return this.jumpTo({center:a},l)}getCenterElevation(){return this.transform.elevation}setCenterElevation(a,l){return this.jumpTo({elevation:a},l),this}getCenterClampedToGround(){return this._centerClampedToGround}setCenterClampedToGround(a){this._centerClampedToGround=a}panBy(a,l,h){return a=o.P.convert(a).mult(-1),this.panTo(this.transform.center,o.e({offset:a},l),h)}panTo(a,l,h){return this.easeTo(o.e({center:a},l),h)}getZoom(){return this.transform.zoom}setZoom(a,l){return this.jumpTo({zoom:a},l),this}zoomTo(a,l,h){return this.easeTo(o.e({zoom:a},l),h)}zoomIn(a,l){return this.zoomTo(this.getZoom()+1,a,l),this}zoomOut(a,l){return this.zoomTo(this.getZoom()-1,a,l),this}getVerticalFieldOfView(){return this.transform.fov}setVerticalFieldOfView(a,l){return a!=this.transform.fov&&(this.transform.setFov(a),this.fire(new o.l("movestart",l)).fire(new o.l("move",l)).fire(new o.l("moveend",l))),this}getBearing(){return this.transform.bearing}setBearing(a,l){return this.jumpTo({bearing:a},l),this}getPadding(){return this.transform.padding}setPadding(a,l){return this.jumpTo({padding:a},l),this}rotateTo(a,l,h){return this.easeTo(o.e({bearing:a},l),h)}resetNorth(a,l){return this.rotateTo(0,o.e({duration:1e3},a),l),this}resetNorthPitch(a,l){return this.easeTo(o.e({bearing:0,pitch:0,roll:0,duration:1e3},a),l),this}snapToNorth(a,l){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(a,l):this}getPitch(){return this.transform.pitch}setPitch(a,l){return this.jumpTo({pitch:a},l),this}getRoll(){return this.transform.roll}setRoll(a,l){return this.jumpTo({roll:a},l),this}cameraForBounds(a,l){a=vt.convert(a).adjustAntiMeridian();let h=l&&l.bearing||0;return this._cameraForBoxAndBearing(a.getNorthWest(),a.getSouthEast(),h,l)}_cameraForBoxAndBearing(a,l,h,g){let b={top:0,bottom:0,right:0,left:0};if(typeof(g=o.e({padding:b,offset:[0,0],maxZoom:this.transform.maxZoom},g)).padding=="number"){let k=g.padding;g.padding={top:k,bottom:k,right:k,left:k}}let E=o.e(b,g.padding);g.padding=E;let A=this.transform,O=new vt(a,l);return this.cameraHelper.cameraForBoxAndBearing(g,E,O,h,A)}fitBounds(a,l,h){return this._fitInternal(this.cameraForBounds(a,l),l,h)}fitScreenCoordinates(a,l,h,g,b){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.screenPointToLocation(o.P.convert(a)),this.transform.screenPointToLocation(o.P.convert(l)),h,g),g,b)}_fitInternal(a,l,h){return a?(delete(l=o.e(a,l)).padding,l.linear?this.easeTo(l,h):this.flyTo(l,h)):this}jumpTo(a,l){this.stop();let h=this._getTransformForUpdate(),g=!1,b=!1,E=!1,A=h.zoom;this.cameraHelper.handleJumpToCenterZoom(h,a);let O=h.zoom!==A;return"elevation"in a&&h.elevation!==+a.elevation&&h.setElevation(+a.elevation),"bearing"in a&&h.bearing!==+a.bearing&&(g=!0,h.setBearing(+a.bearing)),"pitch"in a&&h.pitch!==+a.pitch&&(b=!0,h.setPitch(+a.pitch)),"roll"in a&&h.roll!==+a.roll&&(E=!0,h.setRoll(+a.roll)),a.padding==null||h.isPaddingEqual(a.padding)||h.setPadding(a.padding),this._applyUpdatedTransform(h),this.fire(new o.l("movestart",l)).fire(new o.l("move",l)),O&&this.fire(new o.l("zoomstart",l)).fire(new o.l("zoom",l)).fire(new o.l("zoomend",l)),g&&this.fire(new o.l("rotatestart",l)).fire(new o.l("rotate",l)).fire(new o.l("rotateend",l)),b&&this.fire(new o.l("pitchstart",l)).fire(new o.l("pitch",l)).fire(new o.l("pitchend",l)),E&&this.fire(new o.l("rollstart",l)).fire(new o.l("roll",l)).fire(new o.l("rollend",l)),this.fire(new o.l("moveend",l))}calculateCameraOptionsFromTo(a,l,h,g=0){let b=o.$.fromLngLat(a,l),E=o.$.fromLngLat(h,g),A=E.x-b.x,O=E.y-b.y,k=E.z-b.z,j=Math.hypot(A,O,k);if(j===0)throw new Error("Can't calculate camera options with same From and To");let $=Math.hypot(A,O),V=o.ah(this.transform.cameraToCenterDistance/j/this.transform.tileSize),Q=180*Math.atan2(A,-O)/Math.PI,ee=180*Math.acos($/j)/Math.PI;return ee=k<0?90-ee:90+ee,{center:E.toLngLat(),elevation:g,zoom:V,pitch:ee,bearing:Q}}calculateCameraOptionsFromCameraLngLatAltRotation(a,l,h,g,b){let E=this.transform.calculateCenterFromCameraLngLatAlt(a,l,h,g);return{center:E.center,elevation:E.elevation,zoom:E.zoom,bearing:h,pitch:g,roll:b}}easeTo(a,l){this._stop(!1,a.easeId),((a=o.e({offset:[0,0],duration:500,easing:o.cf},a)).animate===!1||!a.essential&&w.prefersReducedMotion)&&(a.duration=0);let h=this._getTransformForUpdate(),g=this.getBearing(),b=h.pitch,E=h.roll,A="bearing"in a?this._normalizeBearing(a.bearing,g):g,O="pitch"in a?+a.pitch:b,k="roll"in a?this._normalizeBearing(a.roll,E):E,j="padding"in a?a.padding:h.padding,$=o.P.convert(a.offset),V,Q;a.around&&(V=o.Q.convert(a.around),Q=h.locationToScreenPoint(V));let ee={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching,rolling:this._rolling},fe=this.cameraHelper.handleEaseTo(h,{bearing:A,pitch:O,roll:k,padding:j,around:V,aroundPoint:Q,offsetAsPoint:$,offset:a.offset,zoom:a.zoom,center:a.center});return this._rotating=this._rotating||g!==A,this._pitching=this._pitching||O!==b,this._rolling=this._rolling||k!==E,this._padding=!h.isPaddingEqual(j),this._zooming=this._zooming||fe.isZooming,this._easeId=a.easeId,this._prepareEase(l,a.noMoveStart,ee),this.terrain&&this._prepareElevation(fe.elevationCenter),this._ease(pe=>{fe.easeFunc(pe),this.terrain&&!a.freezeElevation&&this._updateElevation(pe),this._applyUpdatedTransform(h),this._fireMoveEvents(l)},pe=>{this.terrain&&a.freezeElevation&&this._finalizeElevation(),this._afterEase(l,pe)},a),this}_prepareEase(a,l,h={}){this._moving=!0,l||h.moving||this.fire(new o.l("movestart",a)),this._zooming&&!h.zooming&&this.fire(new o.l("zoomstart",a)),this._rotating&&!h.rotating&&this.fire(new o.l("rotatestart",a)),this._pitching&&!h.pitching&&this.fire(new o.l("pitchstart",a)),this._rolling&&!h.rolling&&this.fire(new o.l("rollstart",a))}_prepareElevation(a){this._elevationCenter=a,this._elevationStart=this.transform.elevation,this._elevationTarget=this.terrain.getElevationForLngLatZoom(a,this.transform.tileZoom),this._elevationFreeze=!0}_updateElevation(a){this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom));let l=this.terrain.getElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);if(a<1&&l!==this._elevationTarget){let h=this._elevationTarget-this._elevationStart;this._elevationStart+=a*(h-(l-(h*a+this._elevationStart))/(1-a)),this._elevationTarget=l}this.transform.setElevation(o.B.number(this._elevationStart,this._elevationTarget,a))}_finalizeElevation(){this._elevationFreeze=!1,this.getCenterClampedToGround()&&this.transform.recalculateZoomAndCenter(this.terrain)}_getTransformForUpdate(){return this.transformCameraUpdate||this.terrain?(this._requestedCameraState||(this._requestedCameraState=this.transform.clone()),this._requestedCameraState):this.transform}_elevateCameraIfInsideTerrain(a){if(!this.terrain&&a.elevation>=0&&a.pitch<=90)return{};let l=a.getCameraLngLat(),h=a.getCameraAltitude(),g=this.terrain?this.terrain.getElevationForLngLatZoom(l,a.zoom):0;if(h<g){let b=this.calculateCameraOptionsFromTo(l,g,a.center,a.elevation);return{pitch:b.pitch,zoom:b.zoom}}return{}}_applyUpdatedTransform(a){let l=[];if(l.push(g=>this._elevateCameraIfInsideTerrain(g)),this.transformCameraUpdate&&l.push(g=>this.transformCameraUpdate(g)),!l.length)return;let h=a.clone();for(let g of l){let b=h.clone(),{center:E,zoom:A,roll:O,pitch:k,bearing:j,elevation:$}=g(b);E&&b.setCenter(E),$!==void 0&&b.setElevation($),A!==void 0&&b.setZoom(A),O!==void 0&&b.setRoll(O),k!==void 0&&b.setPitch(k),j!==void 0&&b.setBearing(j),h.apply(b)}this.transform.apply(h)}_fireMoveEvents(a){this.fire(new o.l("move",a)),this._zooming&&this.fire(new o.l("zoom",a)),this._rotating&&this.fire(new o.l("rotate",a)),this._pitching&&this.fire(new o.l("pitch",a)),this._rolling&&this.fire(new o.l("roll",a))}_afterEase(a,l){if(this._easeId&&l&&this._easeId===l)return;delete this._easeId;let h=this._zooming,g=this._rotating,b=this._pitching,E=this._rolling;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._rolling=!1,this._padding=!1,h&&this.fire(new o.l("zoomend",a)),g&&this.fire(new o.l("rotateend",a)),b&&this.fire(new o.l("pitchend",a)),E&&this.fire(new o.l("rollend",a)),this.fire(new o.l("moveend",a))}flyTo(a,l){if(!a.essential&&w.prefersReducedMotion){let Je=o.O(a,["center","zoom","bearing","pitch","roll","elevation"]);return this.jumpTo(Je,l)}this.stop(),a=o.e({offset:[0,0],speed:1.2,curve:1.42,easing:o.cf},a);let h=this._getTransformForUpdate(),g=h.bearing,b=h.pitch,E=h.roll,A=h.padding,O="bearing"in a?this._normalizeBearing(a.bearing,g):g,k="pitch"in a?+a.pitch:b,j="roll"in a?this._normalizeBearing(a.roll,E):E,$="padding"in a?a.padding:h.padding,V=o.P.convert(a.offset),Q=h.centerPoint.add(V),ee=h.screenPointToLocation(Q),fe=this.cameraHelper.handleFlyTo(h,{bearing:O,pitch:k,roll:j,padding:$,locationAtOffset:ee,offsetAsPoint:V,center:a.center,minZoom:a.minZoom,zoom:a.zoom}),pe=a.curve,he=Math.max(h.width,h.height),ve=he/fe.scaleOfZoom,we=fe.pixelPathLength;typeof fe.scaleOfMinZoom=="number"&&(pe=Math.sqrt(he/fe.scaleOfMinZoom/we*2));let xe=pe*pe;function Ce(Je){let Ct=(ve*ve-he*he+(Je?-1:1)*xe*xe*we*we)/(2*(Je?ve:he)*xe*we);return Math.log(Math.sqrt(Ct*Ct+1)-Ct)}function ke(Je){return(Math.exp(Je)-Math.exp(-Je))/2}function Oe(Je){return(Math.exp(Je)+Math.exp(-Je))/2}let Ve=Ce(!1),rt=function(Je){return Oe(Ve)/Oe(Ve+pe*Je)},Ze=function(Je){return he*((Oe(Ve)*(ke(Ct=Ve+pe*Je)/Oe(Ct))-ke(Ve))/xe)/we;var Ct},Ye=(Ce(!0)-Ve)/pe;if(Math.abs(we)<2e-6||!isFinite(Ye)){if(Math.abs(he-ve)<1e-6)return this.easeTo(a,l);let Je=ve<he?-1:1;Ye=Math.abs(Math.log(ve/he))/pe,Ze=()=>0,rt=Ct=>Math.exp(Je*pe*Ct)}return a.duration="duration"in a?+a.duration:1e3*Ye/("screenSpeed"in a?+a.screenSpeed/pe:+a.speed),a.maxDuration&&a.duration>a.maxDuration&&(a.duration=0),this._zooming=!0,this._rotating=g!==O,this._pitching=k!==b,this._rolling=j!==E,this._padding=!h.isPaddingEqual($),this._prepareEase(l,!1),this.terrain&&this._prepareElevation(fe.targetCenter),this._ease(Je=>{let Ct=Je*Ye,Et=1/rt(Ct),ht=Ze(Ct);this._rotating&&h.setBearing(o.B.number(g,O,Je)),this._pitching&&h.setPitch(o.B.number(b,k,Je)),this._rolling&&h.setRoll(o.B.number(E,j,Je)),this._padding&&(h.interpolatePadding(A,$,Je),Q=h.centerPoint.add(V)),fe.easeFunc(Je,Et,ht,Q),this.terrain&&!a.freezeElevation&&this._updateElevation(Je),this._applyUpdatedTransform(h),this._fireMoveEvents(l)},()=>{this.terrain&&a.freezeElevation&&this._finalizeElevation(),this._afterEase(l)},a),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(a,l){var h;if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){let g=this._onEaseEnd;delete this._onEaseEnd,g.call(this,l)}return a||(h=this.handlers)===null||h===void 0||h.stop(!1),this}_ease(a,l,h){h.animate===!1||h.duration===0?(a(1),l()):(this._easeStart=w.now(),this._easeOptions=h,this._onEaseFrame=a,this._onEaseEnd=l,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_normalizeBearing(a,l){a=o.aL(a,-180,180);let h=Math.abs(a-l);return Math.abs(a-360-l)<h&&(a-=360),Math.abs(a+360-l)<h&&(a+=360),a}queryTerrainElevation(a){return this.terrain?this.terrain.getElevationForLngLatZoom(o.Q.convert(a),this.transform.tileZoom):null}}let bu={compact:!0,customAttribution:"<a href=\"https://maplibre.org/\" target=\"_blank\">MapLibre</a>"};class Qn{constructor(a=bu){this._toggleAttribution=()=>{this._container.classList.contains("maplibregl-compact")&&(this._container.classList.contains("maplibregl-compact-show")?(this._container.setAttribute("open",""),this._container.classList.remove("maplibregl-compact-show")):(this._container.classList.add("maplibregl-compact-show"),this._container.removeAttribute("open")))},this._updateData=l=>{!l||l.sourceDataType!=="metadata"&&l.sourceDataType!=="visibility"&&l.dataType!=="style"&&l.type!=="terrain"||this._updateAttributions()},this._updateCompact=()=>{this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact===!1?this._container.setAttribute("open",""):this._container.classList.contains("maplibregl-compact")||this._container.classList.contains("maplibregl-attrib-empty")||(this._container.setAttribute("open",""),this._container.classList.add("maplibregl-compact","maplibregl-compact-show")):(this._container.setAttribute("open",""),this._container.classList.contains("maplibregl-compact")&&this._container.classList.remove("maplibregl-compact","maplibregl-compact-show"))},this._updateCompactMinimize=()=>{this._container.classList.contains("maplibregl-compact")&&this._container.classList.contains("maplibregl-compact-show")&&this._container.classList.remove("maplibregl-compact-show")},this.options=a}getDefaultPosition(){return"bottom-right"}onAdd(a){return this._map=a,this._compact=this.options.compact,this._container=I.create("details","maplibregl-ctrl maplibregl-ctrl-attrib"),this._compactButton=I.create("summary","maplibregl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=I.create("div","maplibregl-ctrl-attrib-inner",this._container),this._updateAttributions(),this._updateCompact(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("terrain",this._updateData),this._map.on("resize",this._updateCompact),this._map.on("drag",this._updateCompactMinimize),this._container}onRemove(){I.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("terrain",this._updateData),this._map.off("resize",this._updateCompact),this._map.off("drag",this._updateCompactMinimize),this._map=void 0,this._compact=void 0,this._attribHTML=void 0}_setElementTitle(a,l){let h=this._map._getUIString(`AttributionControl.${l}`);a.title=h,a.setAttribute("aria-label",h)}_updateAttributions(){if(!this._map.style)return;let a=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?a=a.concat(this.options.customAttribution.map(g=>typeof g!="string"?"":g)):typeof this.options.customAttribution=="string"&&a.push(this.options.customAttribution)),this._map.style.stylesheet){let g=this._map.style.stylesheet;this.styleOwner=g.owner,this.styleId=g.id}let l=this._map.style.sourceCaches;for(let g in l){let b=l[g];if(b.used||b.usedForTerrain){let E=b.getSource();E.attribution&&a.indexOf(E.attribution)<0&&a.push(E.attribution)}}a=a.filter(g=>String(g).trim()),a.sort((g,b)=>g.length-b.length),a=a.filter((g,b)=>{for(let E=b+1;E<a.length;E++)if(a[E].indexOf(g)>=0)return!1;return!0});let h=a.join(" | ");h!==this._attribHTML&&(this._attribHTML=h,a.length?(this._innerContainer.innerHTML=I.sanitize(h),this._container.classList.remove("maplibregl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty"),this._updateCompact(),this._editLink=null)}}class _m{constructor(a={}){this._updateCompact=()=>{let l=this._container.children;if(l.length){let h=l[0];this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact!==!1&&h.classList.add("maplibregl-compact"):h.classList.remove("maplibregl-compact")}},this.options=a}getDefaultPosition(){return"bottom-left"}onAdd(a){this._map=a,this._compact=this.options&&this.options.compact,this._container=I.create("div","maplibregl-ctrl");let l=I.create("a","maplibregl-ctrl-logo");return l.target="_blank",l.rel="noopener nofollow",l.href="https://maplibre.org/",l.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),l.setAttribute("rel","noopener nofollow"),this._container.appendChild(l),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){I.remove(this._container),this._map.off("resize",this._updateCompact),this._map=void 0,this._compact=void 0}}class db{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(a){let l=++this._id;return this._queue.push({callback:a,id:l,cancelled:!1}),l}remove(a){let l=this._currentlyRunning,h=l?this._queue.concat(l):this._queue;for(let g of h)if(g.id===a)return void(g.cancelled=!0)}run(a=0){if(this._currentlyRunning)throw new Error("Attempting to run(), but is already running.");let l=this._currentlyRunning=this._queue;this._queue=[];for(let h of l)if(!h.cancelled&&(h.callback(a),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}var tT=o.aG([{name:"a_pos3d",type:"Int16",components:3}]);class rT extends o.E{constructor(a){super(),this._lastTilesetChange=w.now(),this.sourceCache=a,this._tiles={},this._renderableTilesKeys=[],this._sourceTileCache={},this.minzoom=0,this.maxzoom=22,this.deltaZoom=1,this.tileSize=a._source.tileSize*Rp(2,this.deltaZoom),a.usedForTerrain=!0,a.tileSize=this.tileSize}destruct(){this.sourceCache.usedForTerrain=!1,this.sourceCache.tileSize=null}update(a,l){this.sourceCache.update(a,l),this._renderableTilesKeys=[];let h={};for(let g of ge(a,{tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,reparseOverscaled:!1,terrain:l,calculateTileZoom:this.sourceCache._source.calculateTileZoom}))h[g.key]=!0,this._renderableTilesKeys.push(g.key),this._tiles[g.key]||(g.terrainRttPosMatrix32f=new Float64Array(16),o.bQ(g.terrainRttPosMatrix32f,0,o.Z,o.Z,0,0,1),this._tiles[g.key]=new Mi(g,this.tileSize),this._lastTilesetChange=w.now());for(let g in this._tiles)h[g]||delete this._tiles[g]}freeRtt(a){for(let l in this._tiles){let h=this._tiles[l];(!a||h.tileID.equals(a)||h.tileID.isChildOf(a)||a.isChildOf(h.tileID))&&(h.rtt=[])}}getRenderableTiles(){return this._renderableTilesKeys.map(a=>this.getTileByID(a))}getTileByID(a){return this._tiles[a]}getTerrainCoords(a,l){return l?this._getTerrainCoordsForTileRanges(a,l):this._getTerrainCoordsForRegularTile(a)}_getTerrainCoordsForRegularTile(a){let l={};for(let h of this._renderableTilesKeys){let g=this._tiles[h].tileID,b=a.clone(),E=o.b2();if(g.canonical.equals(a.canonical))o.bQ(E,0,o.Z,o.Z,0,0,1);else if(g.canonical.isChildOf(a.canonical)){let A=g.canonical.z-a.canonical.z,O=g.canonical.x-(g.canonical.x>>A<<A),k=g.canonical.y-(g.canonical.y>>A<<A),j=o.Z>>A;o.bQ(E,0,j,j,0,0,1),o.L(E,E,[-O*j,-k*j,0])}else{if(!a.canonical.isChildOf(g.canonical))continue;{let A=a.canonical.z-g.canonical.z,O=a.canonical.x-(a.canonical.x>>A<<A),k=a.canonical.y-(a.canonical.y>>A<<A),j=o.Z>>A;o.bQ(E,0,o.Z,o.Z,0,0,1),o.L(E,E,[O*j,k*j,0]),o.M(E,E,[1/Rp(2,A),1/Rp(2,A),0])}}b.terrainRttPosMatrix32f=new Float32Array(E),l[h]=b}return l}_getTerrainCoordsForTileRanges(a,l){let h={};for(let g of this._renderableTilesKeys){let b=this._tiles[g].tileID;if(!this._isWithinTileRanges(b,l))continue;let E=a.clone(),A=o.b2();if(b.canonical.z===a.canonical.z){let O=a.canonical.x-b.canonical.x,k=a.canonical.y-b.canonical.y;o.bQ(A,0,o.Z,o.Z,0,0,1),o.L(A,A,[O*o.Z,k*o.Z,0])}else if(b.canonical.z>a.canonical.z){let O=b.canonical.z-a.canonical.z,k=b.canonical.x-(b.canonical.x>>O<<O),j=b.canonical.y-(b.canonical.y>>O<<O),$=a.canonical.x-(b.canonical.x>>O),V=a.canonical.y-(b.canonical.y>>O),Q=o.Z>>O;o.bQ(A,0,Q,Q,0,0,1),o.L(A,A,[-k*Q+$*o.Z,-j*Q+V*o.Z,0])}else{let O=a.canonical.z-b.canonical.z,k=a.canonical.x-(a.canonical.x>>O<<O),j=a.canonical.y-(a.canonical.y>>O<<O),$=(a.canonical.x>>O)-b.canonical.x,V=(a.canonical.y>>O)-b.canonical.y,Q=o.Z<<O;o.bQ(A,0,Q,Q,0,0,1),o.L(A,A,[k*o.Z+$*Q,j*o.Z+V*Q,0])}E.terrainRttPosMatrix32f=new Float32Array(A),h[g]=E}return h}getSourceTile(a,l){let h=this.sourceCache._source,g=a.overscaledZ-this.deltaZoom;if(g>h.maxzoom&&(g=h.maxzoom),g<h.minzoom)return null;this._sourceTileCache[a.key]||(this._sourceTileCache[a.key]=a.scaledTo(g).key);let b=this.sourceCache.getTileByID(this._sourceTileCache[a.key]);if((!b||!b.dem)&&l)for(;g>=h.minzoom&&(!b||!b.dem);)b=this.sourceCache.getTileByID(a.scaledTo(g--).key);return b}anyTilesAfterTime(a=Date.now()){return this._lastTilesetChange>=a}_isWithinTileRanges(a,l){return l[a.canonical.z]&&a.canonical.x>=l[a.canonical.z].minTileX&&a.canonical.x<=l[a.canonical.z].maxTileX&&a.canonical.y>=l[a.canonical.z].minTileY&&a.canonical.y<=l[a.canonical.z].maxTileY}}class nT{constructor(a,l,h){this._meshCache={},this.painter=a,this.sourceCache=new rT(l),this.options=h,this.exaggeration=typeof h.exaggeration=="number"?h.exaggeration:1,this.qualityFactor=2,this.meshSize=128,this._demMatrixCache={},this.coordsIndex=[],this._coordsTextureSize=1024}getDEMElevation(a,l,h,g=o.Z){var b;if(!(l>=0&&l<g&&h>=0&&h<g))return 0;let E=this.getTerrainData(a),A=(b=E.tile)===null||b===void 0?void 0:b.dem;if(!A)return 0;let O=o.cj([],[l/g*o.Z,h/g*o.Z],E.u_terrain_matrix),k=[O[0]*A.dim,O[1]*A.dim],j=Math.floor(k[0]),$=Math.floor(k[1]),V=k[0]-j,Q=k[1]-$;return A.get(j,$)*(1-V)*(1-Q)+A.get(j+1,$)*V*(1-Q)+A.get(j,$+1)*(1-V)*Q+A.get(j+1,$+1)*V*Q}getElevationForLngLatZoom(a,l){if(!o.ck(l,a.wrap()))return 0;let{tileID:h,mercatorX:g,mercatorY:b}=this._getOverscaledTileIDFromLngLatZoom(a,l);return this.getElevation(h,g%o.Z,b%o.Z,o.Z)}getElevation(a,l,h,g=o.Z){return this.getDEMElevation(a,l,h,g)*this.exaggeration}getTerrainData(a){if(!this._emptyDemTexture){let g=this.painter.context,b=new o.R({width:1,height:1},new Uint8Array(4));this._emptyDepthTexture=new ce(g,b,g.gl.RGBA,{premultiply:!1}),this._emptyDemUnpack=[0,0,0,0],this._emptyDemTexture=new ce(g,new o.R({width:1,height:1}),g.gl.RGBA,{premultiply:!1}),this._emptyDemTexture.bind(g.gl.NEAREST,g.gl.CLAMP_TO_EDGE),this._emptyDemMatrix=o.ad([])}let l=this.sourceCache.getSourceTile(a,!0);if(l&&l.dem&&(!l.demTexture||l.needsTerrainPrepare)){let g=this.painter.context;l.demTexture=this.painter.getTileTexture(l.dem.stride),l.demTexture?l.demTexture.update(l.dem.getPixels(),{premultiply:!1}):l.demTexture=new ce(g,l.dem.getPixels(),g.gl.RGBA,{premultiply:!1}),l.demTexture.bind(g.gl.NEAREST,g.gl.CLAMP_TO_EDGE),l.needsTerrainPrepare=!1}let h=l&&l+l.tileID.key+a.key;if(h&&!this._demMatrixCache[h]){let g=this.sourceCache.sourceCache._source.maxzoom,b=a.canonical.z-l.tileID.canonical.z;a.overscaledZ>a.canonical.z&&(a.canonical.z>=g?b=a.canonical.z-g:o.w("cannot calculate elevation if elevation maxzoom > source.maxzoom"));let E=a.canonical.x-(a.canonical.x>>b<<b),A=a.canonical.y-(a.canonical.y>>b<<b),O=o.cl(new Float64Array(16),[1/(o.Z<<b),1/(o.Z<<b),0]);o.L(O,O,[E*o.Z,A*o.Z,0]),this._demMatrixCache[a.key]={matrix:O,coord:a}}return{u_depth:2,u_terrain:3,u_terrain_dim:l&&l.dem&&l.dem.dim||1,u_terrain_matrix:h?this._demMatrixCache[a.key].matrix:this._emptyDemMatrix,u_terrain_unpack:l&&l.dem&&l.dem.getUnpackVector()||this._emptyDemUnpack,u_terrain_exaggeration:this.exaggeration,texture:(l&&l.demTexture||this._emptyDemTexture).texture,depthTexture:(this._fboDepthTexture||this._emptyDepthTexture).texture,tile:l}}getFramebuffer(a){let l=this.painter,h=l.width/devicePixelRatio,g=l.height/devicePixelRatio;return!this._fbo||this._fbo.width===h&&this._fbo.height===g||(this._fbo.destroy(),this._fboCoordsTexture.destroy(),this._fboDepthTexture.destroy(),delete this._fbo,delete this._fboDepthTexture,delete this._fboCoordsTexture),this._fboCoordsTexture||(this._fboCoordsTexture=new ce(l.context,{width:h,height:g,data:null},l.context.gl.RGBA,{premultiply:!1}),this._fboCoordsTexture.bind(l.context.gl.NEAREST,l.context.gl.CLAMP_TO_EDGE)),this._fboDepthTexture||(this._fboDepthTexture=new ce(l.context,{width:h,height:g,data:null},l.context.gl.RGBA,{premultiply:!1}),this._fboDepthTexture.bind(l.context.gl.NEAREST,l.context.gl.CLAMP_TO_EDGE)),this._fbo||(this._fbo=l.context.createFramebuffer(h,g,!0,!1),this._fbo.depthAttachment.set(l.context.createRenderbuffer(l.context.gl.DEPTH_COMPONENT16,h,g))),this._fbo.colorAttachment.set(a==="coords"?this._fboCoordsTexture.texture:this._fboDepthTexture.texture),this._fbo}getCoordsTexture(){let a=this.painter.context;if(this._coordsTexture)return this._coordsTexture;let l=new Uint8Array(this._coordsTextureSize*this._coordsTextureSize*4);for(let b=0,E=0;b<this._coordsTextureSize;b++)for(let A=0;A<this._coordsTextureSize;A++,E+=4)l[E+0]=255&A,l[E+1]=255&b,l[E+2]=A>>8<<4|b>>8,l[E+3]=0;let h=new o.R({width:this._coordsTextureSize,height:this._coordsTextureSize},new Uint8Array(l.buffer)),g=new ce(a,h,a.gl.RGBA,{premultiply:!1});return g.bind(a.gl.NEAREST,a.gl.CLAMP_TO_EDGE),this._coordsTexture=g,g}pointCoordinate(a){this.painter.maybeDrawDepthAndCoords(!0);let l=new Uint8Array(4),h=this.painter.context,g=h.gl,b=Math.round(a.x*this.painter.pixelRatio/devicePixelRatio),E=Math.round(a.y*this.painter.pixelRatio/devicePixelRatio),A=Math.round(this.painter.height/devicePixelRatio);h.bindFramebuffer.set(this.getFramebuffer("coords").framebuffer),g.readPixels(b,A-E-1,1,1,g.RGBA,g.UNSIGNED_BYTE,l),h.bindFramebuffer.set(null);let O=l[0]+(l[2]>>4<<8),k=l[1]+((15&l[2])<<8),j=this.coordsIndex[255-l[3]],$=j&&this.sourceCache.getTileByID(j);if(!$)return null;let V=this._coordsTextureSize,Q=(1<<$.tileID.canonical.z)*V;return new o.$(($.tileID.canonical.x*V+O)/Q+$.tileID.wrap,($.tileID.canonical.y*V+k)/Q,this.getElevation($.tileID,O,k,V))}depthAtPoint(a){let l=new Uint8Array(4),h=this.painter.context,g=h.gl;return h.bindFramebuffer.set(this.getFramebuffer("depth").framebuffer),g.readPixels(a.x,this.painter.height/devicePixelRatio-a.y-1,1,1,g.RGBA,g.UNSIGNED_BYTE,l),h.bindFramebuffer.set(null),(l[0]/16777216+l[1]/65536+l[2]/256+l[3])/256}getTerrainMesh(a){var l;let h=((l=this.painter.style.projection)===null||l===void 0?void 0:l.transitionState)>0,g=h&&a.canonical.y===0,b=h&&a.canonical.y===(1<<a.canonical.z)-1,E=`m_${g?"n":""}_${b?"s":""}`;if(this._meshCache[E])return this._meshCache[E];let A=this.painter.context,O=new o.cm,k=new o.aK,j=this.meshSize,$=o.Z/j,V=j*j;for(let Oe=0;Oe<=j;Oe++)for(let Ve=0;Ve<=j;Ve++)O.emplaceBack(Ve*$,Oe*$,0);for(let Oe=0;Oe<V;Oe+=j+1)for(let Ve=0;Ve<j;Ve++)k.emplaceBack(Ve+Oe,j+Ve+Oe+1,j+Ve+Oe+2),k.emplaceBack(Ve+Oe,j+Ve+Oe+2,Ve+Oe+1);let Q=O.length,ee=Q+(j+1),fe=(j+1)*j,pe=g?o.b9:0,he=g?0:1,ve=b?o.ba:o.Z,we=b?0:1;for(let Oe=0;Oe<=j;Oe++)O.emplaceBack(Oe*$,pe,he);for(let Oe=0;Oe<=j;Oe++)O.emplaceBack(Oe*$,ve,we);for(let Oe=0;Oe<j;Oe++)k.emplaceBack(fe+Oe,ee+Oe,ee+Oe+1),k.emplaceBack(fe+Oe,ee+Oe+1,fe+Oe+1),k.emplaceBack(0+Oe,Q+Oe+1,Q+Oe),k.emplaceBack(0+Oe,0+Oe+1,Q+Oe+1);let xe=O.length,Ce=xe+2*(j+1);for(let Oe of[0,1])for(let Ve=0;Ve<=j;Ve++)for(let rt of[0,1])O.emplaceBack(Oe*o.Z,Ve*$,rt);for(let Oe=0;Oe<2*j;Oe+=2)k.emplaceBack(xe+Oe,xe+Oe+1,xe+Oe+3),k.emplaceBack(xe+Oe,xe+Oe+3,xe+Oe+2),k.emplaceBack(Ce+Oe,Ce+Oe+3,Ce+Oe+1),k.emplaceBack(Ce+Oe,Ce+Oe+2,Ce+Oe+3);let ke=new Ff(A.createVertexBuffer(O,tT.members),A.createIndexBuffer(k),o.aJ.simpleSegment(0,0,O.length,k.length));return this._meshCache[E]=ke,ke}getMeshFrameDelta(a){return 2*Math.PI*o.bu/Math.pow(2,Math.max(a,0))/5}getMinTileElevationForLngLatZoom(a,l){var h;let{tileID:g}=this._getOverscaledTileIDFromLngLatZoom(a,l);return(h=this.getMinMaxElevation(g).minElevation)!==null&&h!==void 0?h:0}getMinMaxElevation(a){let l=this.getTerrainData(a).tile,h={minElevation:null,maxElevation:null};return l&&l.dem&&(h.minElevation=l.dem.min*this.exaggeration,h.maxElevation=l.dem.max*this.exaggeration),h}_getOverscaledTileIDFromLngLatZoom(a,l){let h=o.$.fromLngLat(a.wrap()),g=(1<<l)*o.Z,b=h.x*g,E=h.y*g,A=Math.floor(b/o.Z),O=Math.floor(E/o.Z);return{tileID:new o.Y(l,0,l,A,O),mercatorX:b,mercatorY:E}}}class c6{constructor(a,l,h){this._context=a,this._size=l,this._tileSize=h,this._objects=[],this._recentlyUsed=[],this._stamp=0}destruct(){for(let a of this._objects)a.texture.destroy(),a.fbo.destroy()}_createObject(a){let l=this._context.createFramebuffer(this._tileSize,this._tileSize,!0,!0),h=new ce(this._context,{width:this._tileSize,height:this._tileSize,data:null},this._context.gl.RGBA);return h.bind(this._context.gl.LINEAR,this._context.gl.CLAMP_TO_EDGE),this._context.extTextureFilterAnisotropic&&this._context.gl.texParameterf(this._context.gl.TEXTURE_2D,this._context.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,this._context.extTextureFilterAnisotropicMax),l.depthAttachment.set(this._context.createRenderbuffer(this._context.gl.DEPTH_STENCIL,this._tileSize,this._tileSize)),l.colorAttachment.set(h.texture),{id:a,fbo:l,texture:h,stamp:-1,inUse:!1}}getObjectForId(a){return this._objects[a]}useObject(a){a.inUse=!0,this._recentlyUsed=this._recentlyUsed.filter(l=>a.id!==l),this._recentlyUsed.push(a.id)}stampObject(a){a.stamp=++this._stamp}getOrCreateFreeObject(){for(let l of this._recentlyUsed)if(!this._objects[l].inUse)return this._objects[l];if(this._objects.length>=this._size)throw new Error("No free RenderPool available, call freeAllObjects() required!");let a=this._createObject(this._objects.length);return this._objects.push(a),a}freeObject(a){a.inUse=!1}freeAllObjects(){for(let a of this._objects)this.freeObject(a)}isFull(){return!(this._objects.length<this._size)&&this._objects.some(a=>!a.inUse)===!1}}let ea={background:!0,fill:!0,line:!0,raster:!0,hillshade:!0};class Kv{constructor(a,l){this.painter=a,this.terrain=l,this.pool=new c6(a.context,30,l.sourceCache.tileSize*l.qualityFactor)}destruct(){this.pool.destruct()}getTexture(a){return this.pool.getObjectForId(a.rtt[this._stacks.length-1].id).texture}prepareForRender(a,l){this._stacks=[],this._prevType=null,this._rttTiles=[],this._renderableTiles=this.terrain.sourceCache.getRenderableTiles(),this._renderableLayerIds=a._order.filter(h=>!a._layers[h].isHidden(l)),this._coordsAscending={};for(let h in a.sourceCaches){this._coordsAscending[h]={};let g=a.sourceCaches[h].getVisibleCoordinates(),b=a.sourceCaches[h].getSource(),E=b instanceof lr?b.terrainTileRanges:null;for(let A of g){let O=this.terrain.sourceCache.getTerrainCoords(A,E);for(let k in O)this._coordsAscending[h][k]||(this._coordsAscending[h][k]=[]),this._coordsAscending[h][k].push(O[k])}}this._coordsAscendingStr={};for(let h of a._order){let g=a._layers[h],b=g.source;if(ea[g.type]&&!this._coordsAscendingStr[b]){this._coordsAscendingStr[b]={};for(let E in this._coordsAscending[b])this._coordsAscendingStr[b][E]=this._coordsAscending[b][E].map(A=>A.key).sort().join()}}for(let h of this._renderableTiles)for(let g in this._coordsAscendingStr){let b=this._coordsAscendingStr[g][h.tileID.key];b&&b!==h.rttCoords[g]&&(h.rtt=[])}}renderLayer(a,l){if(a.isHidden(this.painter.transform.zoom))return!1;let h=Object.assign(Object.assign({},l),{isRenderingToTexture:!0}),g=a.type,b=this.painter,E=this._renderableLayerIds[this._renderableLayerIds.length-1]===a.id;if(ea[g]&&(this._prevType&&ea[this._prevType]||this._stacks.push([]),this._prevType=g,this._stacks[this._stacks.length-1].push(a.id),!E))return!0;if(ea[this._prevType]||ea[g]&&E){this._prevType=g;let A=this._stacks.length-1,O=this._stacks[A]||[];for(let k of this._renderableTiles){if(this.pool.isFull()&&(dc(this.painter,this.terrain,this._rttTiles,h),this._rttTiles=[],this.pool.freeAllObjects()),this._rttTiles.push(k),k.rtt[A]){let $=this.pool.getObjectForId(k.rtt[A].id);if($.stamp===k.rtt[A].stamp){this.pool.useObject($);continue}}let j=this.pool.getOrCreateFreeObject();this.pool.useObject(j),this.pool.stampObject(j),k.rtt[A]={id:j.id,stamp:j.stamp},b.context.bindFramebuffer.set(j.fbo.framebuffer),b.context.clear({color:o.b7.transparent,stencil:0}),b.currentStencilSource=void 0;for(let $=0;$<O.length;$++){let V=b.style._layers[O[$]],Q=V.source?this._coordsAscending[V.source][k.tileID.key]:[k.tileID];b.context.viewport.set([0,0,j.fbo.width,j.fbo.height]),b._renderTileClippingMasks(V,Q,!0),b.renderLayer(b,b.style.sourceCaches[V.source],V,Q,h),V.source&&(k.rttCoords[V.source]=this._coordsAscendingStr[V.source][k.tileID.key])}}return dc(this.painter,this.terrain,this._rttTiles,h),this._rttTiles=[],this.pool.freeAllObjects(),ea[g]}return!1}}let Qt={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"MapLibre logo","Map.Title":"Map","Marker.Title":"Map marker","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","Popup.Close":"Close popup","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm","GlobeControl.Enable":"Enable globe","GlobeControl.Disable":"Disable globe","TerrainControl.Enable":"Enable terrain","TerrainControl.Disable":"Disable terrain","CooperativeGesturesHandler.WindowsHelpText":"Use Ctrl + scroll to zoom the map","CooperativeGesturesHandler.MacHelpText":"Use \u2318 + scroll to zoom the map","CooperativeGesturesHandler.MobileHelpText":"Use two fingers to move the map"},mr=u,bm={hash:!1,interactive:!0,bearingSnap:7,attributionControl:bu,maplibreLogo:!1,refreshExpiredTiles:!0,canvasContextAttributes:{antialias:!1,preserveDrawingBuffer:!1,powerPreference:"high-performance",failIfMajorPerformanceCaveat:!1,desynchronized:!1,contextType:void 0},scrollZoom:!0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,trackResize:!0,center:[0,0],elevation:0,zoom:0,bearing:0,pitch:0,roll:0,renderWorldCopies:!0,maxTileCacheSize:null,maxTileCacheZoomLevels:o.a.MAX_TILE_CACHE_ZOOM_LEVELS,transformRequest:null,transformCameraUpdate:null,fadeDuration:300,crossSourceCollisions:!0,clickTolerance:3,localIdeographFontFamily:"sans-serif",pitchWithRotate:!0,rollEnabled:!1,validateStyle:!0,maxCanvasSize:[4096,4096],cancelPendingTileRequestsWhileZooming:!0,centerClampedToGround:!0},hb={showCompass:!0,showZoom:!0,visualizePitch:!1,visualizeRoll:!0};class mb{constructor(a,l,h=!1){this.mousedown=b=>{this.startMove(b,I.mousePos(this.element,b)),I.addEventListener(window,"mousemove",this.mousemove),I.addEventListener(window,"mouseup",this.mouseup)},this.mousemove=b=>{this.move(b,I.mousePos(this.element,b))},this.mouseup=b=>{this._rotatePitchHanlder.dragEnd(b),this.offTemp()},this.touchstart=b=>{b.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=I.touchPos(this.element,b.targetTouches)[0],this.startMove(b,this._startPos),I.addEventListener(window,"touchmove",this.touchmove,{passive:!1}),I.addEventListener(window,"touchend",this.touchend))},this.touchmove=b=>{b.targetTouches.length!==1?this.reset():(this._lastPos=I.touchPos(this.element,b.targetTouches)[0],this.move(b,this._lastPos))},this.touchend=b=>{b.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),delete this._startPos,delete this._lastPos,this.offTemp()},this.reset=()=>{this._rotatePitchHanlder.reset(),delete this._startPos,delete this._lastPos,this.offTemp()},this._clickTolerance=10,this.element=l;let g=new rd;this._rotatePitchHanlder=new qo({clickTolerance:3,move:(b,E)=>{let A=l.getBoundingClientRect(),O=new o.P((A.bottom-A.top)/2,(A.right-A.left)/2);return{bearingDelta:o.ce(new o.P(b.x,E.y),E,O),pitchDelta:h?-.5*(E.y-b.y):void 0}},moveStateManager:g,enable:!0,assignEvents:()=>{}}),this.map=a,I.addEventListener(l,"mousedown",this.mousedown),I.addEventListener(l,"touchstart",this.touchstart,{passive:!1}),I.addEventListener(l,"touchcancel",this.reset)}startMove(a,l){this._rotatePitchHanlder.dragStart(a,l),I.disableDrag()}move(a,l){let h=this.map,{bearingDelta:g,pitchDelta:b}=this._rotatePitchHanlder.dragMove(a,l)||{};g&&h.setBearing(h.getBearing()+g),b&&h.setPitch(h.getPitch()+b)}off(){let a=this.element;I.removeEventListener(a,"mousedown",this.mousedown),I.removeEventListener(a,"touchstart",this.touchstart,{passive:!1}),I.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),I.removeEventListener(window,"touchend",this.touchend),I.removeEventListener(a,"touchcancel",this.reset),this.offTemp()}offTemp(){I.enableDrag(),I.removeEventListener(window,"mousemove",this.mousemove),I.removeEventListener(window,"mouseup",this.mouseup),I.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),I.removeEventListener(window,"touchend",this.touchend)}}let ji;function gb(_,a,l,h=!1){if(h||!l.getCoveringTilesDetailsProvider().allowWorldCopies())return _==null?void 0:_.wrap();let g=new o.Q(_.lng,_.lat);if(_=new o.Q(_.lng,_.lat),a){let b=new o.Q(_.lng-360,_.lat),E=new o.Q(_.lng+360,_.lat),A=l.locationToScreenPoint(_).distSqr(a);l.locationToScreenPoint(b).distSqr(a)<A?_=b:l.locationToScreenPoint(E).distSqr(a)<A&&(_=E)}for(;Math.abs(_.lng-l.center.lng)>180;){let b=l.locationToScreenPoint(_);if(b.x>=0&&b.y>=0&&b.x<=l.width&&b.y<=l.height)break;_.lng>l.center.lng?_.lng-=360:_.lng+=360}return _.lng!==g.lng&&l.isPointOnMapSurface(l.locationToScreenPoint(_))?_:g}let Cs={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function iT(_,a,l){let h=_.classList;for(let g in Cs)h.remove(`maplibregl-${l}-anchor-${g}`);h.add(`maplibregl-${l}-anchor-${a}`)}class Op extends o.E{constructor(a){if(super(),this._onKeyPress=l=>{let h=l.code,g=l.charCode||l.keyCode;h!=="Space"&&h!=="Enter"&&g!==32&&g!==13||this.togglePopup()},this._onMapClick=l=>{let h=l.originalEvent.target,g=this._element;this._popup&&(h===g||g.contains(h))&&this.togglePopup()},this._update=l=>{if(!this._map)return;let h=this._map.loaded()&&!this._map.isMoving();((l==null?void 0:l.type)==="terrain"||(l==null?void 0:l.type)==="render"&&!h)&&this._map.once("render",this._update),this._lngLat=gb(this._lngLat,this._flatPos,this._map.transform),this._flatPos=this._pos=this._map.project(this._lngLat)._add(this._offset),this._map.terrain&&(this._flatPos=this._map.transform.locationToScreenPoint(this._lngLat)._add(this._offset));let g="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?g=`rotateZ(${this._rotation}deg)`:this._rotationAlignment==="map"&&(g=`rotateZ(${this._rotation-this._map.getBearing()}deg)`);let b="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?b="rotateX(0deg)":this._pitchAlignment==="map"&&(b=`rotateX(${this._map.getPitch()}deg)`),this._subpixelPositioning||l&&l.type!=="moveend"||(this._pos=this._pos.round()),I.setTransform(this._element,`${Cs[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${b} ${g}`),w.frameAsync(new AbortController).then(()=>{this._updateOpacity(l&&l.type==="moveend")}).catch(()=>{})},this._onMove=l=>{if(!this._isDragging){let h=this._clickTolerance||this._map._clickTolerance;this._isDragging=l.point.dist(this._pointerdownPos)>=h}this._isDragging&&(this._pos=l.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new o.l("dragstart"))),this.fire(new o.l("drag")))},this._onUp=()=>{this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new o.l("dragend")),this._state="inactive"},this._addDragHandler=l=>{this._element.contains(l.originalEvent.target)&&(l.preventDefault(),this._positionDelta=l.point.sub(this._pos).add(this._offset),this._pointerdownPos=l.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},this._anchor=a&&a.anchor||"center",this._color=a&&a.color||"#3FB1CE",this._scale=a&&a.scale||1,this._draggable=a&&a.draggable||!1,this._clickTolerance=a&&a.clickTolerance||0,this._subpixelPositioning=a&&a.subpixelPositioning||!1,this._isDragging=!1,this._state="inactive",this._rotation=a&&a.rotation||0,this._rotationAlignment=a&&a.rotationAlignment||"auto",this._pitchAlignment=a&&a.pitchAlignment&&a.pitchAlignment!=="auto"?a.pitchAlignment:this._rotationAlignment,this.setOpacity(a==null?void 0:a.opacity,a==null?void 0:a.opacityWhenCovered),a&&a.element)this._element=a.element,this._offset=o.P.convert(a&&a.offset||[0,0]);else{this._defaultMarker=!0,this._element=I.create("div");let l=I.createNS("http://www.w3.org/2000/svg","svg"),h=41,g=27;l.setAttributeNS(null,"display","block"),l.setAttributeNS(null,"height",`${h}px`),l.setAttributeNS(null,"width",`${g}px`),l.setAttributeNS(null,"viewBox",`0 0 ${g} ${h}`);let b=I.createNS("http://www.w3.org/2000/svg","g");b.setAttributeNS(null,"stroke","none"),b.setAttributeNS(null,"stroke-width","1"),b.setAttributeNS(null,"fill","none"),b.setAttributeNS(null,"fill-rule","evenodd");let E=I.createNS("http://www.w3.org/2000/svg","g");E.setAttributeNS(null,"fill-rule","nonzero");let A=I.createNS("http://www.w3.org/2000/svg","g");A.setAttributeNS(null,"transform","translate(3.0, 29.0)"),A.setAttributeNS(null,"fill","#000000");let O=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(let he of O){let ve=I.createNS("http://www.w3.org/2000/svg","ellipse");ve.setAttributeNS(null,"opacity","0.04"),ve.setAttributeNS(null,"cx","10.5"),ve.setAttributeNS(null,"cy","5.80029008"),ve.setAttributeNS(null,"rx",he.rx),ve.setAttributeNS(null,"ry",he.ry),A.appendChild(ve)}let k=I.createNS("http://www.w3.org/2000/svg","g");k.setAttributeNS(null,"fill",this._color);let j=I.createNS("http://www.w3.org/2000/svg","path");j.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),k.appendChild(j);let $=I.createNS("http://www.w3.org/2000/svg","g");$.setAttributeNS(null,"opacity","0.25"),$.setAttributeNS(null,"fill","#000000");let V=I.createNS("http://www.w3.org/2000/svg","path");V.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),$.appendChild(V);let Q=I.createNS("http://www.w3.org/2000/svg","g");Q.setAttributeNS(null,"transform","translate(6.0, 7.0)"),Q.setAttributeNS(null,"fill","#FFFFFF");let ee=I.createNS("http://www.w3.org/2000/svg","g");ee.setAttributeNS(null,"transform","translate(8.0, 8.0)");let fe=I.createNS("http://www.w3.org/2000/svg","circle");fe.setAttributeNS(null,"fill","#000000"),fe.setAttributeNS(null,"opacity","0.25"),fe.setAttributeNS(null,"cx","5.5"),fe.setAttributeNS(null,"cy","5.5"),fe.setAttributeNS(null,"r","5.4999962");let pe=I.createNS("http://www.w3.org/2000/svg","circle");pe.setAttributeNS(null,"fill","#FFFFFF"),pe.setAttributeNS(null,"cx","5.5"),pe.setAttributeNS(null,"cy","5.5"),pe.setAttributeNS(null,"r","5.4999962"),ee.appendChild(fe),ee.appendChild(pe),E.appendChild(A),E.appendChild(k),E.appendChild($),E.appendChild(Q),E.appendChild(ee),l.appendChild(E),l.setAttributeNS(null,"height",h*this._scale+"px"),l.setAttributeNS(null,"width",g*this._scale+"px"),this._element.appendChild(l),this._offset=o.P.convert(a&&a.offset||[0,-14])}if(this._element.classList.add("maplibregl-marker"),this._element.addEventListener("dragstart",l=>{l.preventDefault()}),this._element.addEventListener("mousedown",l=>{l.preventDefault()}),iT(this._element,this._anchor,"marker"),a&&a.className)for(let l of a.className.split(" "))this._element.classList.add(l);this._popup=null}addTo(a){return this.remove(),this._map=a,this._element.hasAttribute("aria-label")||this._element.setAttribute("aria-label",a._getUIString("Marker.Title")),a.getCanvasContainer().appendChild(this._element),a.on("move",this._update),a.on("moveend",this._update),a.on("terrain",this._update),a.on("projectiontransition",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._opacityTimeout&&(clearTimeout(this._opacityTimeout),delete this._opacityTimeout),this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("terrain",this._update),this._map.off("projectiontransition",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),I.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(a){return this._lngLat=o.Q.convert(a),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(a){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),a){if(!("offset"in a.options)){let g=Math.abs(13.5)/Math.SQRT2;a.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[g,-1*(38.1-13.5+g)],"bottom-right":[-g,-1*(38.1-13.5+g)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=a,this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}setSubpixelPositioning(a){return this._subpixelPositioning=a,this}getPopup(){return this._popup}togglePopup(){let a=this._popup;return this._element.style.opacity===this._opacityWhenCovered?this:a?(a.isOpen()?a.remove():(a.setLngLat(this._lngLat),a.addTo(this._map)),this):this}_updateOpacity(a=!1){var l,h;let g=(l=this._map)===null||l===void 0?void 0:l.terrain,b=this._map.transform.isLocationOccluded(this._lngLat);if(!g||b){let Q=b?this._opacityWhenCovered:this._opacity;return void(this._element.style.opacity!==Q&&(this._element.style.opacity=Q))}if(a)this._opacityTimeout=null;else{if(this._opacityTimeout)return;this._opacityTimeout=setTimeout(()=>{this._opacityTimeout=null},100)}let E=this._map,A=E.terrain.depthAtPoint(this._pos),O=E.terrain.getElevationForLngLatZoom(this._lngLat,E.transform.tileZoom);if(E.transform.lngLatToCameraDepth(this._lngLat,O)-A<.006)return void(this._element.style.opacity=this._opacity);let k=-this._offset.y/E.transform.pixelsPerMeter,j=Math.sin(E.getPitch()*Math.PI/180)*k,$=E.terrain.depthAtPoint(new o.P(this._pos.x,this._pos.y-this._offset.y)),V=E.transform.lngLatToCameraDepth(this._lngLat,O+j)-$>.006;!((h=this._popup)===null||h===void 0)&&h.isOpen()&&V&&this._popup.remove(),this._element.style.opacity=V?this._opacityWhenCovered:this._opacity}getOffset(){return this._offset}setOffset(a){return this._offset=o.P.convert(a),this._update(),this}addClassName(a){this._element.classList.add(a)}removeClassName(a){this._element.classList.remove(a)}toggleClassName(a){return this._element.classList.toggle(a)}setDraggable(a){return this._draggable=!!a,this._map&&(a?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(a){return this._rotation=a||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(a){return this._rotationAlignment=a||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(a){return this._pitchAlignment=a&&a!=="auto"?a:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}setOpacity(a,l){return(this._opacity===void 0||a===void 0&&l===void 0)&&(this._opacity="1",this._opacityWhenCovered="0.2"),a!==void 0&&(this._opacity=a),l!==void 0&&(this._opacityWhenCovered=l),this._map&&this._updateOpacity(!0),this}}let xi={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},ui=0,od=!1,xm={maxWidth:100,unit:"metric"};function wm(_,a,l){let h=l&&l.maxWidth||100,g=_._container.clientHeight/2,b=_._container.clientWidth/2,E=_.unproject([b-h/2,g]),A=_.unproject([b+h/2,g]),O=Math.round(_.project(A).x-_.project(E).x),k=Math.min(h,O,_._container.clientWidth),j=E.distanceTo(A);if(l&&l.unit==="imperial"){let $=3.2808*j;$>5280?Dp(a,k,$/5280,_._getUIString("ScaleControl.Miles")):Dp(a,k,$,_._getUIString("ScaleControl.Feet"))}else l&&l.unit==="nautical"?Dp(a,k,j/1852,_._getUIString("ScaleControl.NauticalMiles")):j>=1e3?Dp(a,k,j/1e3,_._getUIString("ScaleControl.Kilometers")):Dp(a,k,j,_._getUIString("ScaleControl.Meters"))}function Dp(_,a,l,h){let g=function(b){let E=Math.pow(10,`${Math.floor(b)}`.length-1),A=b/E;return A=A>=10?10:A>=5?5:A>=3?3:A>=2?2:A>=1?1:function(O){let k=Math.pow(10,Math.ceil(-Math.log(O)/Math.LN10));return Math.round(O*k)/k}(A),E*A}(l);_.style.width=a*(g/l)+"px",_.innerHTML=`${g}&nbsp;${h}`}let vb={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px",subpixelPositioning:!1,locationOccludedOpacity:void 0},yb=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function ad(_){if(_){if(typeof _=="number"){let a=Math.round(Math.abs(_)/Math.SQRT2);return{center:new o.P(0,0),top:new o.P(0,_),"top-left":new o.P(a,a),"top-right":new o.P(-a,a),bottom:new o.P(0,-_),"bottom-left":new o.P(a,-a),"bottom-right":new o.P(-a,-a),left:new o.P(_,0),right:new o.P(-_,0)}}if(_ instanceof o.P||Array.isArray(_)){let a=o.P.convert(_);return{center:a,top:a,"top-left":a,"top-right":a,bottom:a,"bottom-left":a,"bottom-right":a,left:a,right:a}}return{center:o.P.convert(_.center||[0,0]),top:o.P.convert(_.top||[0,0]),"top-left":o.P.convert(_["top-left"]||[0,0]),"top-right":o.P.convert(_["top-right"]||[0,0]),bottom:o.P.convert(_.bottom||[0,0]),"bottom-left":o.P.convert(_["bottom-left"]||[0,0]),"bottom-right":o.P.convert(_["bottom-right"]||[0,0]),left:o.P.convert(_.left||[0,0]),right:o.P.convert(_.right||[0,0])}}return ad(new o.P(0,0))}let _b=u;i.AJAXError=o.cq,i.Event=o.l,i.Evented=o.E,i.LngLat=o.Q,i.MercatorCoordinate=o.$,i.Point=o.P,i.addProtocol=o.cr,i.config=o.a,i.removeProtocol=o.cs,i.AttributionControl=Qn,i.BoxZoomHandler=sb,i.CanvasSource=ur,i.CooperativeGesturesHandler=Zv,i.DoubleClickZoomHandler=Wv,i.DragPanHandler=JE,i.DragRotateHandler=eT,i.EdgeInsets=Kh,i.FullscreenControl=class extends o.E{constructor(_={}){super(),this._onFullscreenChange=()=>{var a;let l=window.document.fullscreenElement||window.document.mozFullScreenElement||window.document.webkitFullscreenElement||window.document.msFullscreenElement;for(;!((a=l==null?void 0:l.shadowRoot)===null||a===void 0)&&a.fullscreenElement;)l=l.shadowRoot.fullscreenElement;l===this._container!==this._fullscreen&&this._handleFullscreenChange()},this._onClickFullscreen=()=>{this._isFullscreen()?this._exitFullscreen():this._requestFullscreen()},this._fullscreen=!1,_&&_.container&&(_.container instanceof HTMLElement?this._container=_.container:o.w("Full screen control 'container' must be a DOM element.")),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in document&&(this._fullscreenchange="MSFullscreenChange")}onAdd(_){return this._map=_,this._container||(this._container=this._map.getContainer()),this._controlContainer=I.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),this._controlContainer}onRemove(){I.remove(this._controlContainer),this._map=null,window.document.removeEventListener(this._fullscreenchange,this._onFullscreenChange)}_setupUI(){let _=this._fullscreenButton=I.create("button","maplibregl-ctrl-fullscreen",this._controlContainer);I.create("span","maplibregl-ctrl-icon",_).setAttribute("aria-hidden","true"),_.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),window.document.addEventListener(this._fullscreenchange,this._onFullscreenChange)}_updateTitle(){let _=this._getTitle();this._fullscreenButton.setAttribute("aria-label",_),this._fullscreenButton.title=_}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_handleFullscreenChange(){this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._updateTitle(),this._fullscreen?(this.fire(new o.l("fullscreenstart")),this._prevCooperativeGesturesEnabled=this._map.cooperativeGestures.isEnabled(),this._map.cooperativeGestures.disable()):(this.fire(new o.l("fullscreenend")),this._prevCooperativeGesturesEnabled&&this._map.cooperativeGestures.enable())}_exitFullscreen(){window.document.exitFullscreen?window.document.exitFullscreen():window.document.mozCancelFullScreen?window.document.mozCancelFullScreen():window.document.msExitFullscreen?window.document.msExitFullscreen():window.document.webkitCancelFullScreen?window.document.webkitCancelFullScreen():this._togglePseudoFullScreen()}_requestFullscreen(){this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen?this._container.webkitRequestFullscreen():this._togglePseudoFullScreen()}_togglePseudoFullScreen(){this._container.classList.toggle("maplibregl-pseudo-fullscreen"),this._handleFullscreenChange(),this._map.resize()}},i.GeoJSONSource=Jt,i.GeolocateControl=class extends o.E{constructor(_){super(),this._onSuccess=a=>{if(this._map){if(this._isOutOfMapMaxBounds(a))return this._setErrorState(),this.fire(new o.l("outofmaxbounds",a)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=a,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background");break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(a),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(a),this.options.showUserLocation&&this._dotElement.classList.remove("maplibregl-user-location-dot-stale"),this.fire(new o.l("geolocate",a)),this._finish()}},this._updateCamera=a=>{let l=new o.Q(a.coords.longitude,a.coords.latitude),h=a.coords.accuracy,g=this._map.getBearing(),b=o.e({bearing:g},this.options.fitBoundsOptions),E=vt.fromLngLat(l,h);this._map.fitBounds(E,b,{geolocateSource:!0})},this._updateMarker=a=>{if(a){let l=new o.Q(a.coords.longitude,a.coords.latitude);this._accuracyCircleMarker.setLngLat(l).addTo(this._map),this._userLocationDotMarker.setLngLat(l).addTo(this._map),this._accuracy=a.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},this._onZoom=()=>{this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},this._onError=a=>{if(this._map){if(a.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;let l=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=l,this._geolocateButton.setAttribute("aria-label",l),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(a.code===3&&od)return;this.options.trackUserLocation&&this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("maplibregl-user-location-dot-stale"),this.fire(new o.l("error",a)),this._finish()}},this._finish=()=>{this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},this._setupUI=()=>{this._map&&(this._container.addEventListener("contextmenu",a=>a.preventDefault()),this._geolocateButton=I.create("button","maplibregl-ctrl-geolocate",this._container),I.create("span","maplibregl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",this._geolocateButton.disabled=!0)},this._finishSetupUI=a=>{if(this._map){if(a===!1){o.w("Geolocation support is not available so the GeolocateControl will be disabled.");let l=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=l,this._geolocateButton.setAttribute("aria-label",l)}else{let l=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.disabled=!1,this._geolocateButton.title=l,this._geolocateButton.setAttribute("aria-label",l)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=I.create("div","maplibregl-user-location-dot"),this._userLocationDotMarker=new Op({element:this._dotElement}),this._circleElement=I.create("div","maplibregl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Op({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",()=>this.trigger()),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",l=>{l.geolocateSource||this._watchState!=="ACTIVE_LOCK"||l.originalEvent&&l.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this.fire(new o.l("trackuserlocationend")),this.fire(new o.l("userlocationlostfocus")))})}},this.options=o.e({},xi,_)}onAdd(_){return this._map=_,this._container=I.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),function(){return o._(this,arguments,void 0,function*(a=!1){if(ji!==void 0&&!a)return ji;if(window.navigator.permissions===void 0)return ji=!!window.navigator.geolocation,ji;try{ji=(yield window.navigator.permissions.query({name:"geolocation"})).state!=="denied"}catch(l){ji=!!window.navigator.geolocation}return ji})}().then(a=>this._finishSetupUI(a)),this._container}onRemove(){this._geolocationWatchID!==void 0&&(window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),I.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,ui=0,od=!1}_isOutOfMapMaxBounds(_){let a=this._map.getMaxBounds(),l=_.coords;return a&&(l.longitude<a.getWest()||l.longitude>a.getEast()||l.latitude<a.getSouth()||l.latitude>a.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"ACTIVE_ERROR":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}}_updateCircleRadius(){let _=this._map.getBounds(),a=_.getSouthEast(),l=_.getNorthEast(),h=a.distanceTo(l),g=Math.ceil(this._accuracy/(h/this._map._container.clientHeight)*2);this._circleElement.style.width=`${g}px`,this._circleElement.style.height=`${g}px`}trigger(){if(!this._setup)return o.w("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new o.l("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":ui--,od=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this.fire(new o.l("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new o.l("trackuserlocationstart")),this.fire(new o.l("userlocationfocus"));break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"OFF":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let _;this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),ui++,ui>1?(_={maximumAge:6e5,timeout:0},od=!0):(_=this.options.positionOptions,od=!1),this._geolocationWatchID=window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,_)}}else window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_clearWatch(){window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},i.GlobeControl=class{constructor(){this._toggleProjection=()=>{var _;let a=(_=this._map.getProjection())===null||_===void 0?void 0:_.type;this._map.setProjection(a!=="mercator"&&a?{type:"mercator"}:{type:"globe"}),this._updateGlobeIcon()},this._updateGlobeIcon=()=>{var _;this._globeButton.classList.remove("maplibregl-ctrl-globe"),this._globeButton.classList.remove("maplibregl-ctrl-globe-enabled"),((_=this._map.getProjection())===null||_===void 0?void 0:_.type)==="globe"?(this._globeButton.classList.add("maplibregl-ctrl-globe-enabled"),this._globeButton.title=this._map._getUIString("GlobeControl.Disable")):(this._globeButton.classList.add("maplibregl-ctrl-globe"),this._globeButton.title=this._map._getUIString("GlobeControl.Enable"))}}onAdd(_){return this._map=_,this._container=I.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._globeButton=I.create("button","maplibregl-ctrl-globe",this._container),I.create("span","maplibregl-ctrl-icon",this._globeButton).setAttribute("aria-hidden","true"),this._globeButton.type="button",this._globeButton.addEventListener("click",this._toggleProjection),this._updateGlobeIcon(),this._map.on("styledata",this._updateGlobeIcon),this._container}onRemove(){I.remove(this._container),this._map.off("styledata",this._updateGlobeIcon),this._globeButton.removeEventListener("click",this._toggleProjection),this._map=void 0}},i.Hash=nb,i.ImageSource=lr,i.KeyboardHandler=id,i.LngLatBounds=vt,i.LogoControl=_m,i.Map=class extends u6{constructor(_){var a,l;o.cn.mark(o.co.create);let h=Object.assign(Object.assign(Object.assign({},bm),_),{canvasContextAttributes:Object.assign(Object.assign({},bm.canvasContextAttributes),_.canvasContextAttributes)});if(h.minZoom!=null&&h.maxZoom!=null&&h.minZoom>h.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(h.minPitch!=null&&h.maxPitch!=null&&h.minPitch>h.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(h.minPitch!=null&&h.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(h.maxPitch!=null&&h.maxPitch>180)throw new Error("maxPitch must be less than or equal to 180");let g=new Uf,b=new Xh;if(h.minZoom!==void 0&&g.setMinZoom(h.minZoom),h.maxZoom!==void 0&&g.setMaxZoom(h.maxZoom),h.minPitch!==void 0&&g.setMinPitch(h.minPitch),h.maxPitch!==void 0&&g.setMaxPitch(h.maxPitch),h.renderWorldCopies!==void 0&&g.setRenderWorldCopies(h.renderWorldCopies),super(g,b,{bearingSnap:h.bearingSnap}),this._idleTriggered=!1,this._crossFadingFactor=1,this._renderTaskQueue=new db,this._controls=[],this._mapId=o.a4(),this._contextLost=A=>{A.preventDefault(),this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this.fire(new o.l("webglcontextlost",{originalEvent:A}))},this._contextRestored=A=>{this._setupPainter(),this.resize(),this._update(),this.fire(new o.l("webglcontextrestored",{originalEvent:A}))},this._onMapScroll=A=>{if(A.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},this._onWindowOnline=()=>{this._update()},this._interactive=h.interactive,this._maxTileCacheSize=h.maxTileCacheSize,this._maxTileCacheZoomLevels=h.maxTileCacheZoomLevels,this._canvasContextAttributes=Object.assign({},h.canvasContextAttributes),this._trackResize=h.trackResize===!0,this._bearingSnap=h.bearingSnap,this._centerClampedToGround=h.centerClampedToGround,this._refreshExpiredTiles=h.refreshExpiredTiles===!0,this._fadeDuration=h.fadeDuration,this._crossSourceCollisions=h.crossSourceCollisions===!0,this._collectResourceTiming=h.collectResourceTiming===!0,this._locale=Object.assign(Object.assign({},Qt),h.locale),this._clickTolerance=h.clickTolerance,this._overridePixelRatio=h.pixelRatio,this._maxCanvasSize=h.maxCanvasSize,this.transformCameraUpdate=h.transformCameraUpdate,this.cancelPendingTileRequestsWhileZooming=h.cancelPendingTileRequestsWhileZooming===!0,this._imageQueueHandle=U.addThrottleControl(()=>this.isMoving()),this._requestManager=new Y(h.transformRequest),typeof h.container=="string"){if(this._container=document.getElementById(h.container),!this._container)throw new Error(`Container '${h.container}' not found.`)}else{if(!(h.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=h.container}if(h.maxBounds&&this.setMaxBounds(h.maxBounds),this._setupContainer(),this._setupPainter(),this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),this.on("terrain",()=>{this.painter.terrainFacilitator.dirty=!0,this._update(!0)}),this.once("idle",()=>{this._idleTriggered=!0}),typeof window!="undefined"){addEventListener("online",this._onWindowOnline,!1);let A=!1,O=mm(k=>{this._trackResize&&!this._removed&&(this.resize(k),this.redraw())},50);this._resizeObserver=new ResizeObserver(k=>{A?O(k):A=!0}),this._resizeObserver.observe(this._container)}this.handlers=new l6(this,h),this._hash=h.hash&&new nb(typeof h.hash=="string"&&h.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:h.center,elevation:h.elevation,zoom:h.zoom,bearing:h.bearing,pitch:h.pitch,roll:h.roll}),h.bounds&&(this.resize(),this.fitBounds(h.bounds,o.e({},h.fitBoundsOptions,{duration:0}))));let E=typeof h.style=="string"||((l=(a=h.style)===null||a===void 0?void 0:a.projection)===null||l===void 0?void 0:l.type)!=="globe";this.resize(null,E),this._localIdeographFontFamily=h.localIdeographFontFamily,this._validateStyle=h.validateStyle,h.style&&this.setStyle(h.style,{localIdeographFontFamily:h.localIdeographFontFamily}),h.attributionControl&&this.addControl(new Qn(typeof h.attributionControl=="boolean"?void 0:h.attributionControl)),h.maplibreLogo&&this.addControl(new _m,h.logoPosition),this.on("style.load",()=>{if(E||this._resizeTransform(),this.transform.unmodified){let A=o.O(this.style.stylesheet,["center","zoom","bearing","pitch","roll"]);this.jumpTo(A)}}),this.on("data",A=>{this._update(A.dataType==="style"),this.fire(new o.l(`${A.dataType}data`,A))}),this.on("dataloading",A=>{this.fire(new o.l(`${A.dataType}dataloading`,A))}),this.on("dataabort",A=>{this.fire(new o.l("sourcedataabort",A))})}_getMapId(){return this._mapId}addControl(_,a){if(a===void 0&&(a=_.getDefaultPosition?_.getDefaultPosition():"top-right"),!_||!_.onAdd)return this.fire(new o.k(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));let l=_.onAdd(this);this._controls.push(_);let h=this._controlPositions[a];return a.indexOf("bottom")!==-1?h.insertBefore(l,h.firstChild):h.appendChild(l),this}removeControl(_){if(!_||!_.onRemove)return this.fire(new o.k(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));let a=this._controls.indexOf(_);return a>-1&&this._controls.splice(a,1),_.onRemove(this),this}hasControl(_){return this._controls.indexOf(_)>-1}calculateCameraOptionsFromTo(_,a,l,h){return h==null&&this.terrain&&(h=this.terrain.getElevationForLngLatZoom(l,this.transform.tileZoom)),super.calculateCameraOptionsFromTo(_,a,l,h)}resize(_,a=!0){let[l,h]=this._containerDimensions(),g=this._getClampedPixelRatio(l,h);if(this._resizeCanvas(l,h,g),this.painter.resize(l,h,g),this.painter.overLimit()){let E=this.painter.context.gl;this._maxCanvasSize=[E.drawingBufferWidth,E.drawingBufferHeight];let A=this._getClampedPixelRatio(l,h);this._resizeCanvas(l,h,A),this.painter.resize(l,h,A)}this._resizeTransform(a);let b=!this._moving;return b&&(this.stop(),this.fire(new o.l("movestart",_)).fire(new o.l("move",_))),this.fire(new o.l("resize",_)),b&&this.fire(new o.l("moveend",_)),this}_resizeTransform(_=!0){var a;let[l,h]=this._containerDimensions();this.transform.resize(l,h,_),(a=this._requestedCameraState)===null||a===void 0||a.resize(l,h,_)}_getClampedPixelRatio(_,a){let{0:l,1:h}=this._maxCanvasSize,g=this.getPixelRatio(),b=_*g,E=a*g;return Math.min(b>l?l/b:1,E>h?h/E:1)*g}getPixelRatio(){var _;return(_=this._overridePixelRatio)!==null&&_!==void 0?_:devicePixelRatio}setPixelRatio(_){this._overridePixelRatio=_,this.resize()}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(_){return this.transform.setMaxBounds(vt.convert(_)),this._update()}setMinZoom(_){if((_=_==null?-2:_)>=-2&&_<=this.transform.maxZoom)return this.transform.setMinZoom(_),this._update(),this.getZoom()<_&&this.setZoom(_),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(_){if((_=_==null?22:_)>=this.transform.minZoom)return this.transform.setMaxZoom(_),this._update(),this.getZoom()>_&&this.setZoom(_),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(_){if((_=_==null?0:_)<0)throw new Error("minPitch must be greater than or equal to 0");if(_>=0&&_<=this.transform.maxPitch)return this.transform.setMinPitch(_),this._update(),this.getPitch()<_&&this.setPitch(_),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(_){if((_=_==null?60:_)>180)throw new Error("maxPitch must be less than or equal to 180");if(_>=this.transform.minPitch)return this.transform.setMaxPitch(_),this._update(),this.getPitch()>_&&this.setPitch(_),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(_){return this.transform.setRenderWorldCopies(_),this._update()}project(_){return this.transform.locationToScreenPoint(o.Q.convert(_),this.style&&this.terrain)}unproject(_){return this.transform.screenPointToLocation(o.P.convert(_),this.terrain)}isMoving(){var _;return this._moving||((_=this.handlers)===null||_===void 0?void 0:_.isMoving())}isZooming(){var _;return this._zooming||((_=this.handlers)===null||_===void 0?void 0:_.isZooming())}isRotating(){var _;return this._rotating||((_=this.handlers)===null||_===void 0?void 0:_.isRotating())}_createDelegatedListener(_,a,l){if(_==="mouseenter"||_==="mouseover"){let h=!1;return{layers:a,listener:l,delegates:{mousemove:b=>{let E=a.filter(O=>this.getLayer(O)),A=E.length!==0?this.queryRenderedFeatures(b.point,{layers:E}):[];A.length?h||(h=!0,l.call(this,new Ki(_,this,b.originalEvent,{features:A}))):h=!1},mouseout:()=>{h=!1}}}}if(_==="mouseleave"||_==="mouseout"){let h=!1;return{layers:a,listener:l,delegates:{mousemove:E=>{let A=a.filter(O=>this.getLayer(O));(A.length!==0?this.queryRenderedFeatures(E.point,{layers:A}):[]).length?h=!0:h&&(h=!1,l.call(this,new Ki(_,this,E.originalEvent)))},mouseout:E=>{h&&(h=!1,l.call(this,new Ki(_,this,E.originalEvent)))}}}}{let h=g=>{let b=a.filter(A=>this.getLayer(A)),E=b.length!==0?this.queryRenderedFeatures(g.point,{layers:b}):[];E.length&&(g.features=E,l.call(this,g),delete g.features)};return{layers:a,listener:l,delegates:{[_]:h}}}}_saveDelegatedListener(_,a){this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[_]=this._delegatedListeners[_]||[],this._delegatedListeners[_].push(a)}_removeDelegatedListener(_,a,l){if(!this._delegatedListeners||!this._delegatedListeners[_])return;let h=this._delegatedListeners[_];for(let g=0;g<h.length;g++){let b=h[g];if(b.listener===l&&b.layers.length===a.length&&b.layers.every(E=>a.includes(E))){for(let E in b.delegates)this.off(E,b.delegates[E]);return void h.splice(g,1)}}}on(_,a,l){if(l===void 0)return super.on(_,a);let h=typeof a=="string"?[a]:a,g=this._createDelegatedListener(_,h,l);this._saveDelegatedListener(_,g);for(let b in g.delegates)this.on(b,g.delegates[b]);return{unsubscribe:()=>{this._removeDelegatedListener(_,h,l)}}}once(_,a,l){if(l===void 0)return super.once(_,a);let h=typeof a=="string"?[a]:a,g=this._createDelegatedListener(_,h,l);for(let b in g.delegates){let E=g.delegates[b];g.delegates[b]=(...A)=>{this._removeDelegatedListener(_,h,l),E(...A)}}this._saveDelegatedListener(_,g);for(let b in g.delegates)this.once(b,g.delegates[b]);return this}off(_,a,l){return l===void 0?super.off(_,a):(this._removeDelegatedListener(_,typeof a=="string"?[a]:a,l),this)}queryRenderedFeatures(_,a){if(!this.style)return[];let l,h=_ instanceof o.P||Array.isArray(_),g=h?_:[[0,0],[this.transform.width,this.transform.height]];if(a=a||(h?{}:_)||{},g instanceof o.P||typeof g[0]=="number")l=[o.P.convert(g)];else{let b=o.P.convert(g[0]),E=o.P.convert(g[1]);l=[b,new o.P(E.x,b.y),E,new o.P(b.x,E.y),b]}return this.style.queryRenderedFeatures(l,a,this.transform)}querySourceFeatures(_,a){return this.style.querySourceFeatures(_,a)}setStyle(_,a){return(a=o.e({},{localIdeographFontFamily:this._localIdeographFontFamily,validate:this._validateStyle},a)).diff!==!1&&a.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&_?(this._diffStyle(_,a),this):(this._localIdeographFontFamily=a.localIdeographFontFamily,this._updateStyle(_,a))}setTransformRequest(_){return this._requestManager.setTransformRequest(_),this}_getUIString(_){let a=this._locale[_];if(a==null)throw new Error(`Missing UI string '${_}'`);return a}_updateStyle(_,a){var l,h;if(a.transformStyle&&this.style&&!this.style._loaded)return void this.style.once("style.load",()=>this._updateStyle(_,a));let g=this.style&&a.transformStyle?this.style.serialize():void 0;return this.style&&(this.style.setEventedParent(null),this.style._remove(!_)),_?(this.style=new j_(this,a||{}),this.style.setEventedParent(this,{style:this.style}),typeof _=="string"?this.style.loadURL(_,a,g):this.style.loadJSON(_,a,g),this):((h=(l=this.style)===null||l===void 0?void 0:l.projection)===null||h===void 0||h.destroy(),delete this.style,this)}_lazyInitEmptyStyle(){this.style||(this.style=new j_(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(_,a){if(typeof _=="string"){let l=this._requestManager.transformRequest(_,"Style");o.j(l,new AbortController).then(h=>{this._updateDiff(h.data,a)}).catch(h=>{h&&this.fire(new o.k(h))})}else typeof _=="object"&&this._updateDiff(_,a)}_updateDiff(_,a){try{this.style.setState(_,a)&&this._update(!0)}catch(l){o.w(`Unable to perform style diff: ${l.message||l.error||l}.  Rebuilding the style from scratch.`),this._updateStyle(_,a)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():o.w("There is no style added to the map.")}addSource(_,a){return this._lazyInitEmptyStyle(),this.style.addSource(_,a),this._update(!0)}isSourceLoaded(_){let a=this.style&&this.style.sourceCaches[_];if(a!==void 0)return a.loaded();this.fire(new o.k(new Error(`There is no source with ID '${_}'`)))}setTerrain(_){if(this.style._checkLoaded(),this._terrainDataCallback&&this.style.off("data",this._terrainDataCallback),_){let a=this.style.sourceCaches[_.source];if(!a)throw new Error(`cannot load terrain, because there exists no source with ID: ${_.source}`);this.terrain===null&&a.reload();for(let l in this.style._layers){let h=this.style._layers[l];h.type==="hillshade"&&h.source===_.source&&o.w("You are using the same source for a hillshade layer and for 3D terrain. Please consider using two separate sources to improve rendering quality.")}this.terrain=new nT(this.painter,a,_),this.painter.renderToTexture=new Kv(this.painter,this.terrain),this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this.transform.setElevation(this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this._terrainDataCallback=l=>{var h;l.dataType==="style"?this.terrain.sourceCache.freeRtt():l.dataType==="source"&&l.tile&&(l.sourceId!==_.source||this._elevationFreeze||(this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this._centerClampedToGround&&this.transform.setElevation(this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))),((h=l.source)===null||h===void 0?void 0:h.type)==="image"?this.terrain.sourceCache.freeRtt():this.terrain.sourceCache.freeRtt(l.tile.tileID))},this.style.on("data",this._terrainDataCallback)}else this.terrain&&this.terrain.sourceCache.destruct(),this.terrain=null,this.painter.renderToTexture&&this.painter.renderToTexture.destruct(),this.painter.renderToTexture=null,this.transform.setMinElevationForCurrentTile(0),this._centerClampedToGround&&this.transform.setElevation(0);return this.fire(new o.l("terrain",{terrain:_})),this}getTerrain(){var _,a;return(a=(_=this.terrain)===null||_===void 0?void 0:_.options)!==null&&a!==void 0?a:null}areTilesLoaded(){let _=this.style&&this.style.sourceCaches;for(let a in _){let l=_[a]._tiles;for(let h in l){let g=l[h];if(g.state!=="loaded"&&g.state!=="errored")return!1}}return!0}removeSource(_){return this.style.removeSource(_),this._update(!0)}getSource(_){return this.style.getSource(_)}setSourceTileLodParams(_,a,l){if(l){let h=this.getSource(l);if(!h)throw new Error(`There is no source with ID "${l}", cannot set LOD parameters`);h.calculateTileZoom=ue(Math.max(1,_),Math.max(1,a))}else for(let h in this.style.sourceCaches)this.style.sourceCaches[h].getSource().calculateTileZoom=ue(Math.max(1,_),Math.max(1,a));return this._update(!0),this}refreshTiles(_,a){let l=this.style.sourceCaches[_];if(!l)throw new Error(`There is no source cache with ID "${_}", cannot refresh tile`);a===void 0?l.reload():l.refreshTiles(a.map(h=>new o.a1(h.z,h.x,h.y)))}addImage(_,a,l={}){let{pixelRatio:h=1,sdf:g=!1,stretchX:b,stretchY:E,content:A,textFitWidth:O,textFitHeight:k}=l;if(this._lazyInitEmptyStyle(),!(a instanceof HTMLImageElement||o.b(a))){if(a.width===void 0||a.height===void 0)return this.fire(new o.k(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{let{width:j,height:$,data:V}=a,Q=a;return this.style.addImage(_,{data:new o.R({width:j,height:$},new Uint8Array(V)),pixelRatio:h,stretchX:b,stretchY:E,content:A,textFitWidth:O,textFitHeight:k,sdf:g,version:0,userImage:Q}),Q.onAdd&&Q.onAdd(this,_),this}}{let{width:j,height:$,data:V}=w.getImageData(a);this.style.addImage(_,{data:new o.R({width:j,height:$},V),pixelRatio:h,stretchX:b,stretchY:E,content:A,textFitWidth:O,textFitHeight:k,sdf:g,version:0})}}updateImage(_,a){let l=this.style.getImage(_);if(!l)return this.fire(new o.k(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));let h=a instanceof HTMLImageElement||o.b(a)?w.getImageData(a):a,{width:g,height:b,data:E}=h;if(g===void 0||b===void 0)return this.fire(new o.k(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(g!==l.data.width||b!==l.data.height)return this.fire(new o.k(new Error("The width and height of the updated image must be that same as the previous version of the image")));let A=!(a instanceof HTMLImageElement||o.b(a));return l.data.replace(E,A),this.style.updateImage(_,l),this}getImage(_){return this.style.getImage(_)}hasImage(_){return _?!!this.style.getImage(_):(this.fire(new o.k(new Error("Missing required image id"))),!1)}removeImage(_){this.style.removeImage(_)}loadImage(_){return U.getImage(this._requestManager.transformRequest(_,"Image"),new AbortController)}listImages(){return this.style.listImages()}addLayer(_,a){return this._lazyInitEmptyStyle(),this.style.addLayer(_,a),this._update(!0)}moveLayer(_,a){return this.style.moveLayer(_,a),this._update(!0)}removeLayer(_){return this.style.removeLayer(_),this._update(!0)}getLayer(_){return this.style.getLayer(_)}getLayersOrder(){return this.style.getLayersOrder()}setLayerZoomRange(_,a,l){return this.style.setLayerZoomRange(_,a,l),this._update(!0)}setFilter(_,a,l={}){return this.style.setFilter(_,a,l),this._update(!0)}getFilter(_){return this.style.getFilter(_)}setPaintProperty(_,a,l,h={}){return this.style.setPaintProperty(_,a,l,h),this._update(!0)}getPaintProperty(_,a){return this.style.getPaintProperty(_,a)}setLayoutProperty(_,a,l,h={}){return this.style.setLayoutProperty(_,a,l,h),this._update(!0)}getLayoutProperty(_,a){return this.style.getLayoutProperty(_,a)}setGlyphs(_,a={}){return this._lazyInitEmptyStyle(),this.style.setGlyphs(_,a),this._update(!0)}getGlyphs(){return this.style.getGlyphsUrl()}addSprite(_,a,l={}){return this._lazyInitEmptyStyle(),this.style.addSprite(_,a,l,h=>{h||this._update(!0)}),this}removeSprite(_){return this._lazyInitEmptyStyle(),this.style.removeSprite(_),this._update(!0)}getSprite(){return this.style.getSprite()}setSprite(_,a={}){return this._lazyInitEmptyStyle(),this.style.setSprite(_,a,l=>{l||this._update(!0)}),this}setLight(_,a={}){return this._lazyInitEmptyStyle(),this.style.setLight(_,a),this._update(!0)}getLight(){return this.style.getLight()}setSky(_,a={}){return this._lazyInitEmptyStyle(),this.style.setSky(_,a),this._update(!0)}getSky(){return this.style.getSky()}setFeatureState(_,a){return this.style.setFeatureState(_,a),this._update()}removeFeatureState(_,a){return this.style.removeFeatureState(_,a),this._update()}getFeatureState(_){return this.style.getFeatureState(_)}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}_containerDimensions(){let _=0,a=0;return this._container&&(_=this._container.clientWidth||400,a=this._container.clientHeight||300),[_,a]}_setupContainer(){let _=this._container;_.classList.add("maplibregl-map");let a=this._canvasContainer=I.create("div","maplibregl-canvas-container",_);this._interactive&&a.classList.add("maplibregl-interactive"),this._canvas=I.create("canvas","maplibregl-canvas",a),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex",this._interactive?"0":"-1"),this._canvas.setAttribute("aria-label",this._getUIString("Map.Title")),this._canvas.setAttribute("role","region");let l=this._containerDimensions(),h=this._getClampedPixelRatio(l[0],l[1]);this._resizeCanvas(l[0],l[1],h);let g=this._controlContainer=I.create("div","maplibregl-control-container",_),b=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(E=>{b[E]=I.create("div",`maplibregl-ctrl-${E} `,g)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(_,a,l){this._canvas.width=Math.floor(l*_),this._canvas.height=Math.floor(l*a),this._canvas.style.width=`${_}px`,this._canvas.style.height=`${a}px`}_setupPainter(){let _=Object.assign(Object.assign({},this._canvasContextAttributes),{alpha:!0,depth:!0,stencil:!0,premultipliedAlpha:!0}),a=null;this._canvas.addEventListener("webglcontextcreationerror",h=>{a={requestedAttributes:_},h&&(a.statusMessage=h.statusMessage,a.type=h.type)},{once:!0});let l=null;if(l=this._canvasContextAttributes.contextType?this._canvas.getContext(this._canvasContextAttributes.contextType,_):this._canvas.getContext("webgl2",_)||this._canvas.getContext("webgl",_),!l){let h="Failed to initialize WebGL";throw a?(a.message=h,new Error(JSON.stringify(a))):new Error(h)}this.painter=new rb(l,this.transform),M.testSupport(l)}migrateProjection(_,a){super.migrateProjection(_,a),this.painter.transform=_,this.fire(new o.l("projectiontransition",{newProjection:this.style.projection.name}))}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(_){return this.style&&this.style._loaded?(this._styleDirty=this._styleDirty||_,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(_){return this._update(),this._renderTaskQueue.add(_)}_cancelRenderFrame(_){this._renderTaskQueue.remove(_)}_render(_){var a,l,h,g,b;let E=this._idleTriggered?this._fadeDuration:0,A=((a=this.style.projection)===null||a===void 0?void 0:a.transitionState)>0;if(this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(_),this._removed)return;let O=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;let $=this.transform.zoom,V=w.now();this.style.zoomHistory.update($,V);let Q=new o.C($,{now:V,fadeDuration:E,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),ee=Q.crossFadingFactor();ee===1&&ee===this._crossFadingFactor||(O=!0,this._crossFadingFactor=ee),this.style.update(Q)}let k=((l=this.style.projection)===null||l===void 0?void 0:l.transitionState)>0!==A;(h=this.style.projection)===null||h===void 0||h.setErrorQueryLatitudeDegrees(this.transform.center.lat),this.transform.setTransitionState((g=this.style.projection)===null||g===void 0?void 0:g.transitionState,(b=this.style.projection)===null||b===void 0?void 0:b.latitudeErrorCorrectionRadians),this.style&&(this._sourcesDirty||k)&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.terrain?(this.terrain.sourceCache.update(this.transform,this.terrain),this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),!this._elevationFreeze&&this._centerClampedToGround&&this.transform.setElevation(this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))):(this.transform.setMinElevationForCurrentTile(0),this._centerClampedToGround&&this.transform.setElevation(0)),this._placementDirty=this.style&&this.style._updatePlacement(this.transform,this.showCollisionBoxes,E,this._crossSourceCollisions,k),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:E,showPadding:this.showPadding}),this.fire(new o.l("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,o.cn.mark(o.co.load),this.fire(new o.l("load"))),this.style&&(this.style.hasTransitions()||O)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles();let j=this._sourcesDirty||this._styleDirty||this._placementDirty;return j||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new o.l("idle")),!this._loaded||this._fullyLoaded||j||(this._fullyLoaded=!0,o.cn.mark(o.co.fullLoad)),this}redraw(){return this.style&&(this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._render(0)),this}remove(){var _;this._hash&&this._hash.remove();for(let l of this._controls)l.onRemove(this);this._controls=[],this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof window!="undefined"&&removeEventListener("online",this._onWindowOnline,!1),U.removeThrottleControl(this._imageQueueHandle),(_=this._resizeObserver)===null||_===void 0||_.disconnect();let a=this.painter.context.gl.getExtension("WEBGL_lose_context");a!=null&&a.loseContext&&a.loseContext(),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),I.remove(this._canvasContainer),I.remove(this._controlContainer),this._container.removeEventListener("scroll",this._onMapScroll,!1),this._container.classList.remove("maplibregl-map"),o.cn.clearMetrics(),this._removed=!0,this.fire(new o.l("remove"))}triggerRepaint(){this.style&&!this._frameRequest&&(this._frameRequest=new AbortController,w.frame(this._frameRequest,_=>{o.cn.frame(_),this._frameRequest=null;try{this._render(_)}catch(a){if(!o.cp(a)&&!function(l){return l.message===Dv}(a))throw a}},()=>{}))}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(_){this._showTileBoundaries!==_&&(this._showTileBoundaries=_,this._update())}get showPadding(){return!!this._showPadding}set showPadding(_){this._showPadding!==_&&(this._showPadding=_,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(_){this._showCollisionBoxes!==_&&(this._showCollisionBoxes=_,_?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(_){this._showOverdrawInspector!==_&&(this._showOverdrawInspector=_,this._update())}get repaint(){return!!this._repaint}set repaint(_){this._repaint!==_&&(this._repaint=_,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(_){this._vertices=_,this._update()}get version(){return mr}getCameraTargetElevation(){return this.transform.elevation}getProjection(){return this.style.getProjection()}setProjection(_){return this._lazyInitEmptyStyle(),this.style.setProjection(_),this._update(!0)}},i.MapMouseEvent=Ki,i.MapTouchEvent=Qf,i.MapWheelEvent=ab,i.Marker=Op,i.NavigationControl=class{constructor(_){this._updateZoomButtons=()=>{let a=this._map.getZoom(),l=a===this._map.getMaxZoom(),h=a===this._map.getMinZoom();this._zoomInButton.disabled=l,this._zoomOutButton.disabled=h,this._zoomInButton.setAttribute("aria-disabled",l.toString()),this._zoomOutButton.setAttribute("aria-disabled",h.toString())},this._rotateCompassArrow=()=>{this._compassIcon.style.transform=this.options.visualizePitch&&this.options.visualizeRoll?`scale(${1/Math.pow(Math.cos(this._map.transform.pitchInRadians),.5)}) rotateZ(${-this._map.transform.roll}deg) rotateX(${this._map.transform.pitch}deg) rotateZ(${-this._map.transform.bearing}deg)`:this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitchInRadians),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${-this._map.transform.bearing}deg)`:this.options.visualizeRoll?`rotate(${-this._map.transform.bearing-this._map.transform.roll}deg)`:`rotate(${-this._map.transform.bearing}deg)`},this._setButtonTitle=(a,l)=>{let h=this._map._getUIString(`NavigationControl.${l}`);a.title=h,a.setAttribute("aria-label",h)},this.options=o.e({},hb,_),this._container=I.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._container.addEventListener("contextmenu",a=>a.preventDefault()),this.options.showZoom&&(this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in",a=>this._map.zoomIn({},{originalEvent:a})),I.create("span","maplibregl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out",a=>this._map.zoomOut({},{originalEvent:a})),I.create("span","maplibregl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(this._compass=this._createButton("maplibregl-ctrl-compass",a=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:a}):this._map.resetNorth({},{originalEvent:a})}),this._compassIcon=I.create("span","maplibregl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}onAdd(_){return this._map=_,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this.options.visualizeRoll&&this._map.on("roll",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new mb(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){I.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this.options.visualizeRoll&&this._map.off("roll",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(_,a){let l=I.create("button",_,this._container);return l.type="button",l.addEventListener("click",a),l}},i.Popup=class extends o.E{constructor(_){super(),this._updateOpacity=()=>{this.options.locationOccludedOpacity!==void 0&&(this._container.style.opacity=this._map.transform.isLocationOccluded(this.getLngLat())?`${this.options.locationOccludedOpacity}`:void 0)},this.remove=()=>(this._content&&I.remove(this._content),this._container&&(I.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),this._map._canvasContainer.classList.remove("maplibregl-track-pointer"),delete this._map,this.fire(new o.l("close"))),this),this._onMouseUp=a=>{this._update(a.point)},this._onMouseMove=a=>{this._update(a.point)},this._onDrag=a=>{this._update(a.point)},this._update=a=>{if(!this._map||!this._lngLat&&!this._trackPointer||!this._content)return;if(!this._container){if(this._container=I.create("div","maplibregl-popup",this._map.getContainer()),this._tip=I.create("div","maplibregl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className)for(let E of this.options.className.split(" "))this._container.classList.add(E);this._closeButton&&this._closeButton.setAttribute("aria-label",this._map._getUIString("Popup.Close")),this._trackPointer&&this._container.classList.add("maplibregl-popup-track-pointer")}if(this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._lngLat=gb(this._lngLat,this._flatPos,this._map.transform,this._trackPointer),this._trackPointer&&!a)return;let l=this._flatPos=this._pos=this._trackPointer&&a?a:this._map.project(this._lngLat);this._map.terrain&&(this._flatPos=this._trackPointer&&a?a:this._map.transform.locationToScreenPoint(this._lngLat));let h=this.options.anchor,g=ad(this.options.offset);if(!h){let E=this._container.offsetWidth,A=this._container.offsetHeight,O;O=l.y+g.bottom.y<A?["top"]:l.y>this._map.transform.height-A?["bottom"]:[],l.x<E/2?O.push("left"):l.x>this._map.transform.width-E/2&&O.push("right"),h=O.length===0?"bottom":O.join("-")}let b=l.add(g[h]);this.options.subpixelPositioning||(b=b.round()),I.setTransform(this._container,`${Cs[h]} translate(${b.x}px,${b.y}px)`),iT(this._container,h,"popup"),this._updateOpacity()},this._onClose=()=>{this.remove()},this.options=o.e(Object.create(vb),_)}addTo(_){return this._map&&this.remove(),this._map=_,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")):this._map.on("move",this._update),this.fire(new o.l("open")),this}isOpen(){return!!this._map}getLngLat(){return this._lngLat}setLngLat(_){return this._lngLat=o.Q.convert(_),this._pos=null,this._flatPos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._flatPos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")),this}getElement(){return this._container}setText(_){return this.setDOMContent(document.createTextNode(_))}setHTML(_){let a=document.createDocumentFragment(),l=document.createElement("body"),h;for(l.innerHTML=_;h=l.firstChild,h;)a.appendChild(h);return this.setDOMContent(a)}getMaxWidth(){var _;return(_=this._container)===null||_===void 0?void 0:_.style.maxWidth}setMaxWidth(_){return this.options.maxWidth=_,this._update(),this}setDOMContent(_){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=I.create("div","maplibregl-popup-content",this._container);return this._content.appendChild(_),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(_){return this._container&&this._container.classList.add(_),this}removeClassName(_){return this._container&&this._container.classList.remove(_),this}setOffset(_){return this.options.offset=_,this._update(),this}toggleClassName(_){if(this._container)return this._container.classList.toggle(_)}setSubpixelPositioning(_){this.options.subpixelPositioning=_}_createCloseButton(){this.options.closeButton&&(this._closeButton=I.create("button","maplibregl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;let _=this._container.querySelector(yb);_&&_.focus()}},i.RasterDEMTileSource=Vt,i.RasterTileSource=It,i.ScaleControl=class{constructor(_){this._onMove=()=>{wm(this._map,this._container,this.options)},this.setUnit=a=>{this.options.unit=a,wm(this._map,this._container,this.options)},this.options=Object.assign(Object.assign({},xm),_)}getDefaultPosition(){return"bottom-left"}onAdd(_){return this._map=_,this._container=I.create("div","maplibregl-ctrl maplibregl-ctrl-scale",_.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){I.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}},i.ScrollZoomHandler=Kr,i.Style=j_,i.TerrainControl=class{constructor(_){this._toggleTerrain=()=>{this._map.getTerrain()?this._map.setTerrain(null):this._map.setTerrain(this.options),this._updateTerrainIcon()},this._updateTerrainIcon=()=>{this._terrainButton.classList.remove("maplibregl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled"),this._map.terrain?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.Disable")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.Enable"))},this.options=_}onAdd(_){return this._map=_,this._container=I.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._terrainButton=I.create("button","maplibregl-ctrl-terrain",this._container),I.create("span","maplibregl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){I.remove(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}},i.TwoFingersTouchPitchHandler=Hv,i.TwoFingersTouchRotateHandler=$t,i.TwoFingersTouchZoomHandler=nd,i.TwoFingersTouchZoomRotateHandler=fb,i.VectorTileSource=Yt,i.VideoSource=Tr,i.addSourceType=(_,a)=>o._(void 0,void 0,void 0,function*(){if(Mr(_))throw new Error(`A source type called "${_}" already exists.`);((l,h)=>{wr[l]=h})(_,a)}),i.clearPrewarmedResources=function(){let _=Xe;_&&(_.isPreloaded()&&_.numActive()===1?(_.release(Dt),Xe=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},i.createTileMesh=Qh,i.getMaxParallelImageRequests=function(){return o.a.MAX_PARALLEL_IMAGE_REQUESTS},i.getRTLTextPluginStatus=function(){return Kn().getRTLTextPluginStatus()},i.getVersion=function(){return _b},i.getWorkerCount=function(){return Ut.workerCount},i.getWorkerUrl=function(){return o.a.WORKER_URL},i.importScriptInWorkers=function(_){return Me().broadcast("IS",_)},i.prewarm=function(){yt().acquire(Dt)},i.setMaxParallelImageRequests=function(_){o.a.MAX_PARALLEL_IMAGE_REQUESTS=_},i.setRTLTextPlugin=function(_,a){return Kn().setRTLTextPlugin(_,a)},i.setWorkerCount=function(_){Ut.workerCount=_},i.setWorkerUrl=function(_){o.a.WORKER_URL=_}});var n=e;return n})});var bG=C((Q6r,dPe)=>{"use strict";dPe.exports=function(t,r){return function(){for(var i=new Array(arguments.length),o=0;o<i.length;o++)i[o]=arguments[o];return t.apply(r,i)}}});var Gs=C((J6r,gPe)=>{"use strict";var ZKt=bG(),Ag=Object.prototype.toString;function SG(e){return Ag.call(e)==="[object Array]"}function xG(e){return typeof e=="undefined"}function YKt(e){return e!==null&&!xG(e)&&e.constructor!==null&&!xG(e.constructor)&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function KKt(e){return Ag.call(e)==="[object ArrayBuffer]"}function XKt(e){return typeof FormData!="undefined"&&e instanceof FormData}function QKt(e){var t;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&e.buffer instanceof ArrayBuffer,t}function JKt(e){return typeof e=="string"}function eXt(e){return typeof e=="number"}function hPe(e){return e!==null&&typeof e=="object"}function Z5(e){if(Ag.call(e)!=="[object Object]")return!1;var t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function tXt(e){return Ag.call(e)==="[object Date]"}function rXt(e){return Ag.call(e)==="[object File]"}function nXt(e){return Ag.call(e)==="[object Blob]"}function mPe(e){return Ag.call(e)==="[object Function]"}function iXt(e){return hPe(e)&&mPe(e.pipe)}function oXt(e){return typeof URLSearchParams!="undefined"&&e instanceof URLSearchParams}function aXt(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function sXt(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function IG(e,t){if(!(e===null||typeof e=="undefined"))if(typeof e!="object"&&(e=[e]),SG(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}function wG(){var e={};function t(i,o){Z5(e[o])&&Z5(i)?e[o]=wG(e[o],i):Z5(i)?e[o]=wG({},i):SG(i)?e[o]=i.slice():e[o]=i}for(var r=0,n=arguments.length;r<n;r++)IG(arguments[r],t);return e}function lXt(e,t,r){return IG(t,function(i,o){r&&typeof i=="function"?e[o]=ZKt(i,r):e[o]=i}),e}function uXt(e){return e.charCodeAt(0)===65279&&(e=e.slice(1)),e}gPe.exports={isArray:SG,isArrayBuffer:KKt,isBuffer:YKt,isFormData:XKt,isArrayBufferView:QKt,isString:JKt,isNumber:eXt,isObject:hPe,isPlainObject:Z5,isUndefined:xG,isDate:tXt,isFile:rXt,isBlob:nXt,isFunction:mPe,isStream:iXt,isURLSearchParams:oXt,isStandardBrowserEnv:sXt,forEach:IG,merge:wG,extend:lXt,trim:aXt,stripBOM:uXt}});var EG=C((eLr,yPe)=>{"use strict";var s1=Gs();function vPe(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}yPe.exports=function(t,r,n){if(!r)return t;var i;if(n)i=n(r);else if(s1.isURLSearchParams(r))i=r.toString();else{var o=[];s1.forEach(r,function(m,y){m===null||typeof m=="undefined"||(s1.isArray(m)?y=y+"[]":m=[m],s1.forEach(m,function(I){s1.isDate(I)?I=I.toISOString():s1.isObject(I)&&(I=JSON.stringify(I)),o.push(vPe(y)+"="+vPe(I))}))}),i=o.join("&")}if(i){var u=t.indexOf("#");u!==-1&&(t=t.slice(0,u)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}});var bPe=C((tLr,_Pe)=>{"use strict";var cXt=Gs();function Y5(){this.handlers=[]}Y5.prototype.use=function(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1};Y5.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)};Y5.prototype.forEach=function(t){cXt.forEach(this.handlers,function(n){n!==null&&t(n)})};_Pe.exports=Y5});var wPe=C((rLr,xPe)=>{"use strict";var pXt=Gs();xPe.exports=function(t,r){pXt.forEach(t,function(i,o){o!==r&&o.toUpperCase()===r.toUpperCase()&&(t[r]=i,delete t[o])})}});var TG=C((nLr,SPe)=>{"use strict";SPe.exports=function(t,r,n,i,o){return t.config=r,n&&(t.code=n),t.request=i,t.response=o,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},t}});var MG=C((iLr,IPe)=>{"use strict";var fXt=TG();IPe.exports=function(t,r,n,i,o){var u=new Error(t);return fXt(u,r,n,i,o)}});var TPe=C((oLr,EPe)=>{"use strict";var dXt=MG();EPe.exports=function(t,r,n){var i=n.config.validateStatus;!n.status||!i||i(n.status)?t(n):r(dXt("Request failed with status code "+n.status,n.config,null,n.request,n))}});var CPe=C((aLr,MPe)=>{"use strict";var K5=Gs();MPe.exports=K5.isStandardBrowserEnv()?function(){return{write:function(r,n,i,o,u,f){var m=[];m.push(r+"="+encodeURIComponent(n)),K5.isNumber(i)&&m.push("expires="+new Date(i).toGMTString()),K5.isString(o)&&m.push("path="+o),K5.isString(u)&&m.push("domain="+u),f===!0&&m.push("secure"),document.cookie=m.join("; ")},read:function(r){var n=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()});var PPe=C((sLr,APe)=>{"use strict";APe.exports=function(t){return /^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}});var DPe=C((lLr,OPe)=>{"use strict";OPe.exports=function(t,r){return r?t.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):t}});var kPe=C((uLr,NPe)=>{"use strict";var hXt=PPe(),mXt=DPe();NPe.exports=function(t,r){return t&&!hXt(r)?mXt(t,r):r}});var RPe=C((cLr,LPe)=>{"use strict";var CG=Gs(),gXt=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];LPe.exports=function(t){var r={},n,i,o;return t&&CG.forEach(t.split(`
`),function(f){if(o=f.indexOf(":"),n=CG.trim(f.substr(0,o)).toLowerCase(),i=CG.trim(f.substr(o+1)),n){if(r[n]&&gXt.indexOf(n)>=0)return;n==="set-cookie"?r[n]=(r[n]?r[n]:[]).concat([i]):r[n]=r[n]?r[n]+", "+i:i}}),r}});var jPe=C((pLr,zPe)=>{"use strict";var qPe=Gs();zPe.exports=qPe.isStandardBrowserEnv()?function(){var t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a"),n;function i(o){var u=o;return t&&(r.setAttribute("href",u),u=r.href),r.setAttribute("href",u),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=i(window.location.href),function(u){var f=qPe.isString(u)?i(u):u;return f.protocol===n.protocol&&f.host===n.host}}():function(){return function(){return!0}}()});var aS=C((fLr,FPe)=>{"use strict";function AG(e){this.message=e}AG.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")};AG.prototype.__CANCEL__=!0;FPe.exports=AG});var OG=C((dLr,BPe)=>{"use strict";var X5=Gs(),vXt=TPe(),yXt=CPe(),_Xt=EG(),bXt=kPe(),xXt=RPe(),wXt=jPe(),PG=MG(),SXt=sS(),IXt=aS();BPe.exports=function(t){return new Promise(function(n,i){var o=t.data,u=t.headers,f=t.responseType,m;function y(){t.cancelToken&&t.cancelToken.unsubscribe(m),t.signal&&t.signal.removeEventListener("abort",m)}X5.isFormData(o)&&delete u["Content-Type"];var w=new XMLHttpRequest;if(t.auth){var I=t.auth.username||"",M=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";u.Authorization="Basic "+btoa(I+":"+M)}var N=bXt(t.baseURL,t.url);w.open(t.method.toUpperCase(),_Xt(N,t.params,t.paramsSerializer),!0),w.timeout=t.timeout;function z(){if(w){var q="getAllResponseHeaders"in w?xXt(w.getAllResponseHeaders()):null,R=!f||f==="text"||f==="json"?w.responseText:w.response,U={data:R,status:w.status,statusText:w.statusText,headers:q,config:t,request:w};vXt(function(re){n(re),y()},function(re){i(re),y()},U),w=null}}if("onloadend"in w?w.onloadend=z:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(z)},w.onabort=function(){w&&(i(PG("Request aborted",t,"ECONNABORTED",w)),w=null)},w.onerror=function(){i(PG("Network Error",t,null,w)),w=null},w.ontimeout=function(){var R=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded",U=t.transitional||SXt.transitional;t.timeoutErrorMessage&&(R=t.timeoutErrorMessage),i(PG(R,t,U.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",w)),w=null},X5.isStandardBrowserEnv()){var F=(t.withCredentials||wXt(N))&&t.xsrfCookieName?yXt.read(t.xsrfCookieName):void 0;F&&(u[t.xsrfHeaderName]=F)}"setRequestHeader"in w&&X5.forEach(u,function(R,U){typeof o=="undefined"&&U.toLowerCase()==="content-type"?delete u[U]:w.setRequestHeader(U,R)}),X5.isUndefined(t.withCredentials)||(w.withCredentials=!!t.withCredentials),f&&f!=="json"&&(w.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&w.addEventListener("progress",t.onDownloadProgress),typeof t.onUploadProgress=="function"&&w.upload&&w.upload.addEventListener("progress",t.onUploadProgress),(t.cancelToken||t.signal)&&(m=function(q){w&&(i(!q||q&&q.type?new IXt("canceled"):q),w.abort(),w=null)},t.cancelToken&&t.cancelToken.subscribe(m),t.signal&&(t.signal.aborted?m():t.signal.addEventListener("abort",m))),o||(o=null),w.send(o)})}});var sS=C((hLr,$Pe)=>{"use strict";var ha=Gs(),UPe=wPe(),EXt=TG(),TXt={"Content-Type":"application/x-www-form-urlencoded"};function VPe(e,t){!ha.isUndefined(e)&&ha.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function MXt(){var e;return typeof XMLHttpRequest!="undefined"?e=OG():typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]"&&(e=OG()),e}function CXt(e,t,r){if(ha.isString(e))try{return(t||JSON.parse)(e),ha.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}var Q5={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:MXt(),transformRequest:[function(t,r){return UPe(r,"Accept"),UPe(r,"Content-Type"),ha.isFormData(t)||ha.isArrayBuffer(t)||ha.isBuffer(t)||ha.isStream(t)||ha.isFile(t)||ha.isBlob(t)?t:ha.isArrayBufferView(t)?t.buffer:ha.isURLSearchParams(t)?(VPe(r,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):ha.isObject(t)||r&&r["Content-Type"]==="application/json"?(VPe(r,"application/json"),CXt(t)):t}],transformResponse:[function(t){var r=this.transitional||Q5.transitional,n=r&&r.silentJSONParsing,i=r&&r.forcedJSONParsing,o=!n&&this.responseType==="json";if(o||i&&ha.isString(t)&&t.length)try{return JSON.parse(t)}catch(u){if(o)throw u.name==="SyntaxError"?EXt(u,this,"E_JSON_PARSE"):u}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};ha.forEach(["delete","get","head"],function(t){Q5.headers[t]={}});ha.forEach(["post","put","patch"],function(t){Q5.headers[t]=ha.merge(TXt)});$Pe.exports=Q5});var HPe=C((mLr,GPe)=>{"use strict";var AXt=Gs(),PXt=sS();GPe.exports=function(t,r,n){var i=this||PXt;return AXt.forEach(n,function(u){t=u.call(i,t,r)}),t}});var DG=C((gLr,WPe)=>{"use strict";WPe.exports=function(t){return!!(t&&t.__CANCEL__)}});var KPe=C((vLr,YPe)=>{"use strict";var ZPe=Gs(),NG=HPe(),OXt=DG(),DXt=sS(),NXt=aS();function kG(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new NXt("canceled")}YPe.exports=function(t){kG(t),t.headers=t.headers||{},t.data=NG.call(t,t.data,t.headers,t.transformRequest),t.headers=ZPe.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),ZPe.forEach(["delete","get","head","post","put","patch","common"],function(i){delete t.headers[i]});var r=t.adapter||DXt.adapter;return r(t).then(function(i){return kG(t),i.data=NG.call(t,i.data,i.headers,t.transformResponse),i},function(i){return OXt(i)||(kG(t),i&&i.response&&(i.response.data=NG.call(t,i.response.data,i.response.headers,t.transformResponse))),Promise.reject(i)})}});var LG=C((yLr,XPe)=>{"use strict";var vl=Gs();XPe.exports=function(t,r){r=r||{};var n={};function i(w,I){return vl.isPlainObject(w)&&vl.isPlainObject(I)?vl.merge(w,I):vl.isPlainObject(I)?vl.merge({},I):vl.isArray(I)?I.slice():I}function o(w){if(vl.isUndefined(r[w])){if(!vl.isUndefined(t[w]))return i(void 0,t[w])}else return i(t[w],r[w])}function u(w){if(!vl.isUndefined(r[w]))return i(void 0,r[w])}function f(w){if(vl.isUndefined(r[w])){if(!vl.isUndefined(t[w]))return i(void 0,t[w])}else return i(void 0,r[w])}function m(w){if(w in r)return i(t[w],r[w]);if(w in t)return i(void 0,t[w])}var y={url:u,method:u,data:u,baseURL:f,transformRequest:f,transformResponse:f,paramsSerializer:f,timeout:f,timeoutMessage:f,withCredentials:f,adapter:f,responseType:f,xsrfCookieName:f,xsrfHeaderName:f,onUploadProgress:f,onDownloadProgress:f,decompress:f,maxContentLength:f,maxBodyLength:f,transport:f,httpAgent:f,httpsAgent:f,cancelToken:f,socketPath:f,responseEncoding:f,validateStatus:m};return vl.forEach(Object.keys(t).concat(Object.keys(r)),function(I){var M=y[I]||o,N=M(I);vl.isUndefined(N)&&M!==m||(n[I]=N)}),n}});var RG=C((_Lr,QPe)=>{QPe.exports={version:"0.24.0"}});var tOe=C((bLr,eOe)=>{"use strict";var kXt=RG().version,qG={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){qG[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});var JPe={};qG.transitional=function(t,r,n){function i(o,u){return"[Axios v"+kXt+"] Transitional option '"+o+"'"+u+(n?". "+n:"")}return function(o,u,f){if(t===!1)throw new Error(i(u," has been removed"+(r?" in "+r:"")));return r&&!JPe[u]&&(JPe[u]=!0,console.warn(i(u," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(o,u,f):!0}};function LXt(e,t,r){if(typeof e!="object")throw new TypeError("options must be an object");for(var n=Object.keys(e),i=n.length;i-->0;){var o=n[i],u=t[o];if(u){var f=e[o],m=f===void 0||u(f,o,e);if(m!==!0)throw new TypeError("option "+o+" must be "+m);continue}if(r!==!0)throw Error("Unknown option "+o)}}eOe.exports={assertOptions:LXt,validators:qG}});var sOe=C((xLr,aOe)=>{"use strict";var iOe=Gs(),RXt=EG(),rOe=bPe(),nOe=KPe(),J5=LG(),oOe=tOe(),l1=oOe.validators;function lS(e){this.defaults=e,this.interceptors={request:new rOe,response:new rOe}}lS.prototype.request=function(t){typeof t=="string"?(t=arguments[1]||{},t.url=arguments[0]):t=t||{},t=J5(this.defaults,t),t.method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var r=t.transitional;r!==void 0&&oOe.assertOptions(r,{silentJSONParsing:l1.transitional(l1.boolean),forcedJSONParsing:l1.transitional(l1.boolean),clarifyTimeoutError:l1.transitional(l1.boolean)},!1);var n=[],i=!0;this.interceptors.request.forEach(function(M){typeof M.runWhen=="function"&&M.runWhen(t)===!1||(i=i&&M.synchronous,n.unshift(M.fulfilled,M.rejected))});var o=[];this.interceptors.response.forEach(function(M){o.push(M.fulfilled,M.rejected)});var u;if(!i){var f=[nOe,void 0];for(Array.prototype.unshift.apply(f,n),f=f.concat(o),u=Promise.resolve(t);f.length;)u=u.then(f.shift(),f.shift());return u}for(var m=t;n.length;){var y=n.shift(),w=n.shift();try{m=y(m)}catch(I){w(I);break}}try{u=nOe(m)}catch(I){return Promise.reject(I)}for(;o.length;)u=u.then(o.shift(),o.shift());return u};lS.prototype.getUri=function(t){return t=J5(this.defaults,t),RXt(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")};iOe.forEach(["delete","get","head","options"],function(t){lS.prototype[t]=function(r,n){return this.request(J5(n||{},{method:t,url:r,data:(n||{}).data}))}});iOe.forEach(["post","put","patch"],function(t){lS.prototype[t]=function(r,n,i){return this.request(J5(i||{},{method:t,url:r,data:n}))}});aOe.exports=lS});var uOe=C((wLr,lOe)=>{"use strict";var qXt=aS();function u1(e){if(typeof e!="function")throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(i){t=i});var r=this;this.promise.then(function(n){if(r._listeners){var i,o=r._listeners.length;for(i=0;i<o;i++)r._listeners[i](n);r._listeners=null}}),this.promise.then=function(n){var i,o=new Promise(function(u){r.subscribe(u),i=u}).then(n);return o.cancel=function(){r.unsubscribe(i)},o},e(function(i){r.reason||(r.reason=new qXt(i),t(r.reason))})}u1.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};u1.prototype.subscribe=function(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]};u1.prototype.unsubscribe=function(t){if(this._listeners){var r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}};u1.source=function(){var t,r=new u1(function(i){t=i});return{token:r,cancel:t}};lOe.exports=u1});var pOe=C((SLr,cOe)=>{"use strict";cOe.exports=function(t){return function(n){return t.apply(null,n)}}});var dOe=C((ILr,fOe)=>{"use strict";fOe.exports=function(t){return typeof t=="object"&&t.isAxiosError===!0}});var gOe=C((ELr,zG)=>{"use strict";var hOe=Gs(),zXt=bG(),e4=sOe(),jXt=LG(),FXt=sS();function mOe(e){var t=new e4(e),r=zXt(e4.prototype.request,t);return hOe.extend(r,e4.prototype,t),hOe.extend(r,t),r.create=function(i){return mOe(jXt(e,i))},r}var $c=mOe(FXt);$c.Axios=e4;$c.Cancel=aS();$c.CancelToken=uOe();$c.isCancel=DG();$c.VERSION=RG().version;$c.all=function(t){return Promise.all(t)};$c.spread=pOe();$c.isAxiosError=dOe();zG.exports=$c;zG.exports.default=$c});var gh=C((TLr,vOe)=>{vOe.exports=gOe()});var AOe=C((OLr,COe)=>{var BG=1/0,VXt=17976931348623157e292,bOe=NaN,$Xt="[object Symbol]",GXt=/^\s+|\s+$/g,HXt=/^[-+]0x[0-9a-f]+$/i,WXt=/^0b[01]+$/i,ZXt=/^0o[0-7]+$/i,YXt=parseInt,KXt=typeof global=="object"&&global&&global.Object===Object&&global,XXt=typeof self=="object"&&self&&self.Object===Object&&self,QXt=KXt||XXt||Function("return this")(),JXt=Object.prototype,eQt=JXt.toString,xOe=QXt.Symbol,tQt=Math.min,wOe=xOe?xOe.prototype:void 0,SOe=wOe?wOe.toString:void 0;function rQt(e){if(typeof e=="string")return e;if(TOe(e))return SOe?SOe.call(e):"";var t=e+"";return t=="0"&&1/e==-BG?"-0":t}function nQt(e){var t=Math[e];return function(r,n){if(r=MOe(r),n=tQt(aQt(n),292),n){var i=(EOe(r)+"e").split("e"),o=t(i[0]+"e"+(+i[1]+n));return i=(EOe(o)+"e").split("e"),+(i[0]+"e"+(+i[1]-n))}return t(r)}}function IOe(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function iQt(e){return!!e&&typeof e=="object"}function TOe(e){return typeof e=="symbol"||iQt(e)&&eQt.call(e)==$Xt}function oQt(e){if(!e)return e===0?e:0;if(e=MOe(e),e===BG||e===-BG){var t=e<0?-1:1;return t*VXt}return e===e?e:0}function aQt(e){var t=oQt(e),r=t%1;return t===t?r?t-r:t:0}function MOe(e){if(typeof e=="number")return e;if(TOe(e))return bOe;if(IOe(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=IOe(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(GXt,"");var r=WXt.test(e);return r||ZXt.test(e)?YXt(e.slice(2),r?2:8):HXt.test(e)?bOe:+e}function EOe(e){return e==null?"":rQt(e)}var sQt=nQt("round");COe.exports=sQt});var O1=C((IHr,Pke)=>{var ptr=Pke.exports=typeof window!="undefined"&&window.Math==Math?window:typeof self!="undefined"&&self.Math==Math?self:Function("return this")();typeof __g=="number"&&(__g=ptr)});var Yc=C((EHr,Oke)=>{var ftr=Oke.exports={version:"2.6.12"};typeof __e=="number"&&(__e=ftr)});var Nke=C((THr,Dke)=>{Dke.exports=function(e){if(typeof e!="function")throw TypeError(e+" is not a function!");return e}});var $P=C((MHr,kke)=>{var dtr=Nke();kke.exports=function(e,t,r){if(dtr(e),t===void 0)return e;switch(r){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,o){return e.call(t,n,i,o)}}return function(){return e.apply(t,arguments)}}});var CS=C((CHr,Lke)=>{Lke.exports=function(e){return typeof e=="object"?e!==null:typeof e=="function"}});var D1=C((AHr,Rke)=>{var htr=CS();Rke.exports=function(e){if(!htr(e))throw TypeError(e+" is not an object!");return e}});var GP=C((PHr,qke)=>{qke.exports=function(e){try{return!!e()}catch(t){return!0}}});var Eh=C((OHr,zke)=>{zke.exports=!GP()(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7})});var BH=C((DHr,Fke)=>{var jke=CS(),FH=O1().document,mtr=jke(FH)&&jke(FH.createElement);Fke.exports=function(e){return mtr?FH.createElement(e):{}}});var UH=C((NHr,Bke)=>{Bke.exports=!Eh()&&!GP()(function(){return Object.defineProperty(BH()("div"),"a",{get:function(){return 7}}).a!=7})});var VH=C((kHr,Uke)=>{var HP=CS();Uke.exports=function(e,t){if(!HP(e))return e;var r,n;if(t&&typeof(r=e.toString)=="function"&&!HP(n=r.call(e))||typeof(r=e.valueOf)=="function"&&!HP(n=r.call(e))||!t&&typeof(r=e.toString)=="function"&&!HP(n=r.call(e)))return n;throw TypeError("Can't convert object to primitive value")}});var AS=C($ke=>{var Vke=D1(),gtr=UH(),vtr=VH(),ytr=Object.defineProperty;$ke.f=Eh()?Object.defineProperty:function(t,r,n){if(Vke(t),r=vtr(r,!0),Vke(n),gtr)try{return ytr(t,r,n)}catch(i){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[r]=n.value),t}});var PS=C((RHr,Gke)=>{Gke.exports=function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}}});var OS=C((qHr,Hke)=>{var _tr=AS(),btr=PS();Hke.exports=Eh()?function(e,t,r){return _tr.f(e,t,btr(1,r))}:function(e,t,r){return e[t]=r,e}});var N1=C((zHr,Wke)=>{var xtr={}.hasOwnProperty;Wke.exports=function(e,t){return xtr.call(e,t)}});var Th=C((jHr,Yke)=>{var WP=O1(),$H=Yc(),Zke=$P(),wtr=OS(),Str=N1(),ZP="prototype",$a=function(e,t,r){var n=e&$a.F,i=e&$a.G,o=e&$a.S,u=e&$a.P,f=e&$a.B,m=e&$a.W,y=i?$H:$H[t]||($H[t]={}),w=y[ZP],I=i?WP:o?WP[t]:(WP[t]||{})[ZP],M,N,z;i&&(r=t);for(M in r)N=!n&&I&&I[M]!==void 0,!(N&&Str(y,M))&&(z=N?I[M]:r[M],y[M]=i&&typeof I[M]!="function"?r[M]:f&&N?Zke(z,WP):m&&I[M]==z?function(F){var q=function(R,U,Y){if(this instanceof F){switch(arguments.length){case 0:return new F;case 1:return new F(R);case 2:return new F(R,U)}return new F(R,U,Y)}return F.apply(this,arguments)};return q[ZP]=F[ZP],q}(z):u&&typeof z=="function"?Zke(Function.call,z):z,u&&((y.virtual||(y.virtual={}))[M]=z,e&$a.R&&w&&!w[M]&&wtr(w,M,z)))};$a.F=1;$a.G=2;$a.S=4;$a.P=8;$a.B=16;$a.W=32;$a.U=64;$a.R=128;Yke.exports=$a});var GH=C((FHr,Kke)=>{var Itr={}.toString;Kke.exports=function(e){return Itr.call(e).slice(8,-1)}});var HH=C((BHr,Xke)=>{var Etr=GH();Xke.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return Etr(e)=="String"?e.split(""):Object(e)}});var YP=C((UHr,Qke)=>{Qke.exports=function(e){if(e==null)throw TypeError("Can't call method on  "+e);return e}});var DS=C((VHr,Jke)=>{var Ttr=HH(),Mtr=YP();Jke.exports=function(e){return Ttr(Mtr(e))}});var KP=C(($Hr,e6e)=>{var Ctr=Math.ceil,Atr=Math.floor;e6e.exports=function(e){return isNaN(e=+e)?0:(e>0?Atr:Ctr)(e)}});var WH=C((GHr,t6e)=>{var Ptr=KP(),Otr=Math.min;t6e.exports=function(e){return e>0?Otr(Ptr(e),9007199254740991):0}});var n6e=C((HHr,r6e)=>{var Dtr=KP(),Ntr=Math.max,ktr=Math.min;r6e.exports=function(e,t){return e=Dtr(e),e<0?Ntr(e+t,0):ktr(e,t)}});var o6e=C((WHr,i6e)=>{var Ltr=DS(),Rtr=WH(),qtr=n6e();i6e.exports=function(e){return function(t,r,n){var i=Ltr(t),o=Rtr(i.length),u=qtr(n,o),f;if(e&&r!=r){for(;o>u;)if(f=i[u++],f!=f)return!0}else for(;o>u;u++)if((e||u in i)&&i[u]===r)return e||u||0;return!e&&-1}}});var ZH=C((ZHr,a6e)=>{a6e.exports=!0});var YH=C((YHr,c6e)=>{var ztr=Yc(),s6e=O1(),l6e="__core-js_shared__",u6e=s6e[l6e]||(s6e[l6e]={});(c6e.exports=function(e,t){return u6e[e]||(u6e[e]=t!==void 0?t:{})})("versions",[]).push({version:ztr.version,mode:ZH()?"pure":"global",copyright:"\xA9 2020 Denis Pushkarev (zloirock.ru)"})});var KH=C((KHr,p6e)=>{var jtr=0,Ftr=Math.random();p6e.exports=function(e){return"Symbol(".concat(e===void 0?"":e,")_",(++jtr+Ftr).toString(36))}});var XP=C((XHr,d6e)=>{var f6e=YH()("keys"),Btr=KH();d6e.exports=function(e){return f6e[e]||(f6e[e]=Btr(e))}});var g6e=C((QHr,m6e)=>{var h6e=N1(),Utr=DS(),Vtr=o6e()(!1),$tr=XP()("IE_PROTO");m6e.exports=function(e,t){var r=Utr(e),n=0,i=[],o;for(o in r)o!=$tr&&h6e(r,o)&&i.push(o);for(;t.length>n;)h6e(r,o=t[n++])&&(~Vtr(i,o)||i.push(o));return i}});var XH=C((JHr,v6e)=>{v6e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")});var QP=C((eWr,y6e)=>{var Gtr=g6e(),Htr=XH();y6e.exports=Object.keys||function(t){return Gtr(t,Htr)}});var b6e=C(_6e=>{_6e.f=Object.getOwnPropertySymbols});var JP=C(x6e=>{x6e.f={}.propertyIsEnumerable});var eO=C((nWr,w6e)=>{var Wtr=YP();w6e.exports=function(e){return Object(Wtr(e))}});var E6e=C((iWr,I6e)=>{"use strict";var Ztr=Eh(),S6e=QP(),Ytr=b6e(),Ktr=JP(),Xtr=eO(),Qtr=HH(),tO=Object.assign;I6e.exports=!tO||GP()(function(){var e={},t={},r=Symbol(),n="abcdefghijklmnopqrst";return e[r]=7,n.split("").forEach(function(i){t[i]=i}),tO({},e)[r]!=7||Object.keys(tO({},t)).join("")!=n})?function(t,r){for(var n=Xtr(t),i=arguments.length,o=1,u=Ytr.f,f=Ktr.f;i>o;)for(var m=Qtr(arguments[o++]),y=u?S6e(m).concat(u(m)):S6e(m),w=y.length,I=0,M;w>I;)M=y[I++],(!Ztr||f.call(m,M))&&(n[M]=m[M]);return n}:tO});var T6e=C(()=>{var QH=Th();QH(QH.S+QH.F,"Object",{assign:E6e()})});var C6e=C((sWr,M6e)=>{T6e();M6e.exports=Yc().Object.assign});var P6e=C((uWr,A6e)=>{var Jtr=AS(),err=D1(),trr=QP();A6e.exports=Eh()?Object.defineProperties:function(t,r){err(t);for(var n=trr(r),i=n.length,o=0,u;i>o;)Jtr.f(t,u=n[o++],r[u]);return t}});var N6e=C((cWr,D6e)=>{var O6e=O1().document;D6e.exports=O6e&&O6e.documentElement});var rW=C((pWr,L6e)=>{var rrr=D1(),nrr=P6e(),k6e=XH(),irr=XP()("IE_PROTO"),eW=function(){},tW="prototype",rO=function(){var e=BH()("iframe"),t=k6e.length,r="<",n=">",i;for(e.style.display="none",N6e().appendChild(e),e.src="javascript:",i=e.contentWindow.document,i.open(),i.write(r+"script"+n+"document.F=Object"+r+"/script"+n),i.close(),rO=i.F;t--;)delete rO[tW][k6e[t]];return rO()};L6e.exports=Object.create||function(t,r){var n;return t!==null?(eW[tW]=rrr(t),n=new eW,eW[tW]=null,n[irr]=t):n=rO(),r===void 0?n:nrr(n,r)}});var q6e=C(()=>{var R6e=Th();R6e(R6e.S,"Object",{create:rW()})});var j6e=C((hWr,z6e)=>{q6e();var orr=Yc().Object;z6e.exports=function(t,r){return orr.create(t,r)}});var U6e=C(B6e=>{var arr=JP(),srr=PS(),lrr=DS(),urr=VH(),crr=N1(),prr=UH(),F6e=Object.getOwnPropertyDescriptor;B6e.f=Eh()?F6e:function(t,r){if(t=lrr(t),r=urr(r,!0),prr)try{return F6e(t,r)}catch(n){}if(crr(t,r))return srr(!arr.f.call(t,r),t[r])}});var G6e=C((gWr,$6e)=>{var frr=CS(),drr=D1(),V6e=function(e,t){if(drr(e),!frr(t)&&t!==null)throw TypeError(t+": can't set as prototype!")};$6e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{r=$P()(Function.call,U6e().f(Object.prototype,"__proto__").set,2),r(e,[]),t=!(e instanceof Array)}catch(n){t=!0}return function(i,o){return V6e(i,o),t?i.__proto__=o:r(i,o),i}}({},!1):void 0),check:V6e}});var W6e=C(()=>{var H6e=Th();H6e(H6e.S,"Object",{setPrototypeOf:G6e().set})});var Y6e=C((_Wr,Z6e)=>{W6e();Z6e.exports=Yc().Object.setPrototypeOf});var tn=C((IWr,iO)=>{(function(){"use strict";var e={}.hasOwnProperty;function t(){for(var i="",o=0;o<arguments.length;o++){var u=arguments[o];u&&(i=n(i,r(u)))}return i}function r(i){if(typeof i=="string"||typeof i=="number")return i;if(typeof i!="object")return"";if(Array.isArray(i))return t.apply(null,i);if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]"))return i.toString();var o="";for(var u in i)e.call(i,u)&&i[u]&&(o=n(o,u));return o}function n(i,o){return o?i?i+" "+o:i+o:i}typeof iO!="undefined"&&iO.exports?(t.default=t,iO.exports=t):typeof define=="function"&&typeof define.amd=="object"&&define.amd?define("classnames",[],function(){return t}):window.classNames=t})()});var oO=C((MWr,X6e)=>{"use strict";var hrr=function(e,t,r,n,i,o,u,f){if(!e){var m;if(t===void 0)m=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var y=[r,n,i,o,u,f],w=0;m=new Error(t.replace(/%s/g,function(){return y[w++]})),m.name="Invariant Violation"}throw m.framesToPop=1,m}};X6e.exports=hrr});var sW=C(aW=>{"use strict";Object.defineProperty(aW,"__esModule",{value:!0});function tLe(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);e!=null&&this.setState(e)}function rLe(e){function t(r){var n=this.constructor.getDerivedStateFromProps(e,r);return n!=null?n:null}this.setState(t.bind(this))}function nLe(e,t){try{var r=this.props,n=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(r,n)}finally{this.props=r,this.state=n}}tLe.__suppressDeprecationWarning=!0;rLe.__suppressDeprecationWarning=!0;nLe.__suppressDeprecationWarning=!0;function grr(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if(typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function")return e;var r=null,n=null,i=null;if(typeof t.componentWillMount=="function"?r="componentWillMount":typeof t.UNSAFE_componentWillMount=="function"&&(r="UNSAFE_componentWillMount"),typeof t.componentWillReceiveProps=="function"?n="componentWillReceiveProps":typeof t.UNSAFE_componentWillReceiveProps=="function"&&(n="UNSAFE_componentWillReceiveProps"),typeof t.componentWillUpdate=="function"?i="componentWillUpdate":typeof t.UNSAFE_componentWillUpdate=="function"&&(i="UNSAFE_componentWillUpdate"),r!==null||n!==null||i!==null){var o=e.displayName||e.name,u=typeof e.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+o+" uses "+u+" but also contains the following legacy lifecycles:"+(r!==null?`
  `+r:"")+(n!==null?`
  `+n:"")+(i!==null?`
  `+i:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof e.getDerivedStateFromProps=="function"&&(t.componentWillMount=tLe,t.componentWillReceiveProps=rLe),typeof t.getSnapshotBeforeUpdate=="function"){if(typeof t.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=nLe;var f=t.componentDidUpdate;t.componentDidUpdate=function(y,w,I){var M=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:I;f.call(this,y,w,M)}}return e}aW.polyfill=grr});var lW=C((HWr,aLe)=>{var yrr=Eh(),_rr=QP(),brr=DS(),xrr=JP().f;aLe.exports=function(e){return function(t){for(var r=brr(t),n=_rr(r),i=n.length,o=0,u=[],f;i>o;)f=n[o++],(!yrr||xrr.call(r,f))&&u.push(e?[f,r[f]]:r[f]);return u}}});var lLe=C(()=>{var sLe=Th(),wrr=lW()(!0);sLe(sLe.S,"Object",{entries:function(t){return wrr(t)}})});var cLe=C((YWr,uLe)=>{lLe();uLe.exports=Yc().Object.entries});var uW=C((KWr,pLe)=>{pLe.exports=cLe()});var LS=C((uO,gLe)=>{"use strict";Object.defineProperty(uO,"__esModule",{value:!0});uO.default=Orr;function Orr(e){function t(n,i,o,u,f,m){var y=u||"<<anonymous>>",w=m||o;if(i[o]==null)return n?new Error("Required "+f+" `"+w+"` was not specified "+("in `"+y+"`.")):null;for(var I=arguments.length,M=Array(I>6?I-6:0),N=6;N<I;N++)M[N-6]=arguments[N];return e.apply(void 0,[i,o,y,f,w].concat(M))}var r=t.bind(null,!1);return r.isRequired=t.bind(null,!0),r}gLe.exports=uO.default});var bLe=C(()=>{var _Le=Th(),Drr=lW()(!1);_Le(_Le.S,"Object",{values:function(t){return Drr(t)}})});var wLe=C((sZr,xLe)=>{bLe();xLe.exports=Yc().Object.values});var ILe=C((lZr,SLe)=>{SLe.exports=wLe()});var MLe=C($n=>{"use strict";var Ho=typeof Symbol=="function"&&Symbol.for,mW=Ho?Symbol.for("react.element"):60103,gW=Ho?Symbol.for("react.portal"):60106,pO=Ho?Symbol.for("react.fragment"):60107,fO=Ho?Symbol.for("react.strict_mode"):60108,dO=Ho?Symbol.for("react.profiler"):60114,hO=Ho?Symbol.for("react.provider"):60109,mO=Ho?Symbol.for("react.context"):60110,vW=Ho?Symbol.for("react.async_mode"):60111,gO=Ho?Symbol.for("react.concurrent_mode"):60111,vO=Ho?Symbol.for("react.forward_ref"):60112,yO=Ho?Symbol.for("react.suspense"):60113,Lrr=Ho?Symbol.for("react.suspense_list"):60120,_O=Ho?Symbol.for("react.memo"):60115,bO=Ho?Symbol.for("react.lazy"):60116,Rrr=Ho?Symbol.for("react.block"):60121,qrr=Ho?Symbol.for("react.fundamental"):60117,zrr=Ho?Symbol.for("react.responder"):60118,jrr=Ho?Symbol.for("react.scope"):60119;function yl(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case mW:switch(e=e.type,e){case vW:case gO:case pO:case dO:case fO:case yO:return e;default:switch(e=e&&e.$$typeof,e){case mO:case vO:case bO:case _O:case hO:return e;default:return t}}case gW:return t}}}function TLe(e){return yl(e)===gO}$n.AsyncMode=vW;$n.ConcurrentMode=gO;$n.ContextConsumer=mO;$n.ContextProvider=hO;$n.Element=mW;$n.ForwardRef=vO;$n.Fragment=pO;$n.Lazy=bO;$n.Memo=_O;$n.Portal=gW;$n.Profiler=dO;$n.StrictMode=fO;$n.Suspense=yO;$n.isAsyncMode=function(e){return TLe(e)||yl(e)===vW};$n.isConcurrentMode=TLe;$n.isContextConsumer=function(e){return yl(e)===mO};$n.isContextProvider=function(e){return yl(e)===hO};$n.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===mW};$n.isForwardRef=function(e){return yl(e)===vO};$n.isFragment=function(e){return yl(e)===pO};$n.isLazy=function(e){return yl(e)===bO};$n.isMemo=function(e){return yl(e)===_O};$n.isPortal=function(e){return yl(e)===gW};$n.isProfiler=function(e){return yl(e)===dO};$n.isStrictMode=function(e){return yl(e)===fO};$n.isSuspense=function(e){return yl(e)===yO};$n.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===pO||e===gO||e===dO||e===fO||e===yO||e===Lrr||typeof e=="object"&&e!==null&&(e.$$typeof===bO||e.$$typeof===_O||e.$$typeof===hO||e.$$typeof===mO||e.$$typeof===vO||e.$$typeof===qrr||e.$$typeof===zrr||e.$$typeof===jrr||e.$$typeof===Rrr)};$n.typeOf=yl});var ALe=C((dZr,CLe)=>{"use strict";CLe.exports=MLe()});var ba=C((xO,OLe)=>{"use strict";Object.defineProperty(xO,"__esModule",{value:!0});var Frr=He(),Brr=PLe(Frr),Urr=ALe(),Vrr=LS(),$rr=PLe(Vrr);function PLe(e){return e&&e.__esModule?e:{default:e}}function Grr(e,t,r,n,i){var o=e[t];return Brr.default.isValidElement(o)?new Error("Invalid "+n+" `"+i+"` of type ReactElement "+("supplied to `"+r+"`,expected an element type (a string ")+", component class, or function component)."):(0,Urr.isValidElementType)(o)?null:new Error("Invalid "+n+" `"+i+"` of value `"+o+"` "+("supplied to `"+r+"`, expected an element type (a string ")+", component class, or function component).")}xO.default=(0,$rr.default)(Grr);OLe.exports=xO.default});var qS=C((SO,RLe)=>{"use strict";Object.defineProperty(SO,"__esModule",{value:!0});SO.default=enr;var Xrr=LS(),Qrr=Jrr(Xrr);function Jrr(e){return e&&e.__esModule?e:{default:e}}function enr(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];function n(){for(var i=arguments.length,o=Array(i),u=0;u<i;u++)o[u]=arguments[u];var f=null;return t.forEach(function(m){if(f==null){var y=m.apply(void 0,o);y!=null&&(f=y)}}),f}return(0,Qrr.default)(n)}RLe.exports=SO.default});var Ch=C((jZr,VLe)=>{"use strict";var inr=function(){};VLe.exports=inr});var oo=C((WZr,zS)=>{function lnr(e){return e&&e.__esModule?e:{default:e}}zS.exports=lnr,zS.exports.__esModule=!0,zS.exports.default=zS.exports});var HLe=C((MO,GLe)=>{"use strict";MO.__esModule=!0;MO.default=cnr;var unr=/-(.)/g;function cnr(e){return e.replace(unr,function(t,r){return r.toUpperCase()})}GLe.exports=MO.default});var MW=C((CO,WLe)=>{"use strict";var pnr=oo();CO.__esModule=!0;CO.default=hnr;var fnr=pnr(HLe()),dnr=/^-ms-/;function hnr(e){return(0,fnr.default)(e.replace(dnr,"ms-"))}WLe.exports=CO.default});var YLe=C((AO,ZLe)=>{"use strict";AO.__esModule=!0;AO.default=gnr;var mnr=/([A-Z])/g;function gnr(e){return e.replace(mnr,"-$1").toLowerCase()}ZLe.exports=AO.default});var XLe=C((PO,KLe)=>{"use strict";var vnr=oo();PO.__esModule=!0;PO.default=bnr;var ynr=vnr(YLe()),_nr=/^ms-/;function bnr(e){return(0,ynr.default)(e).replace(_nr,"-ms-")}KLe.exports=PO.default});var JLe=C((OO,QLe)=>{"use strict";var xnr=oo();OO.__esModule=!0;OO.default=Enr;var wnr=xnr(MW()),Snr=/^(top|right|bottom|left)$/,Inr=/^([+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|))(?!px)[a-z%]+$/i;function Enr(e){if(!e)throw new TypeError("No Element passed to `getComputedStyle()`");var t=e.ownerDocument;return"defaultView"in t?t.defaultView.opener?e.ownerDocument.defaultView.getComputedStyle(e,null):window.getComputedStyle(e,null):{getPropertyValue:function(n){var i=e.style;n=(0,wnr.default)(n),n=="float"&&(n="styleFloat");var o=e.currentStyle[n]||null;if(o==null&&i&&i[n]&&(o=i[n]),Inr.test(o)&&!Snr.test(n)){var u=i.left,f=e.runtimeStyle,m=f&&f.left;m&&(f.left=e.currentStyle.left),i.left=n==="fontSize"?"1em":o,o=i.pixelLeft+"px",i.left=u,m&&(f.left=m)}return o}}}QLe.exports=OO.default});var tRe=C((DO,eRe)=>{"use strict";DO.__esModule=!0;DO.default=Tnr;function Tnr(e,t){return"removeProperty"in e.style?e.style.removeProperty(t):e.style.removeAttribute(t)}eRe.exports=DO.default});var Qc=C((jS,rRe)=>{"use strict";jS.__esModule=!0;jS.default=void 0;var Mnr=!!(typeof window!="undefined"&&window.document&&window.document.createElement);jS.default=Mnr;rRe.exports=jS.default});var lRe=C(hn=>{"use strict";var Cnr=oo();hn.__esModule=!0;hn.default=hn.animationEnd=hn.animationDelay=hn.animationTiming=hn.animationDuration=hn.animationName=hn.transitionEnd=hn.transitionDuration=hn.transitionDelay=hn.transitionTiming=hn.transitionProperty=hn.transform=void 0;var Anr=Cnr(Qc()),kO="transform";hn.transform=kO;var Jc,CW,nRe;hn.animationEnd=nRe;hn.transitionEnd=CW;var AW,PW,OW,DW;hn.transitionDelay=DW;hn.transitionTiming=OW;hn.transitionDuration=PW;hn.transitionProperty=AW;var iRe,oRe,aRe,sRe;hn.animationDelay=sRe;hn.animationTiming=aRe;hn.animationDuration=oRe;hn.animationName=iRe;Anr.default&&(NO=Onr(),Jc=NO.prefix,hn.transitionEnd=CW=NO.transitionEnd,hn.animationEnd=nRe=NO.animationEnd,hn.transform=kO=Jc+"-"+kO,hn.transitionProperty=AW=Jc+"-transition-property",hn.transitionDuration=PW=Jc+"-transition-duration",hn.transitionDelay=DW=Jc+"-transition-delay",hn.transitionTiming=OW=Jc+"-transition-timing-function",hn.animationName=iRe=Jc+"-animation-name",hn.animationDuration=oRe=Jc+"-animation-duration",hn.animationTiming=aRe=Jc+"-animation-delay",hn.animationDelay=sRe=Jc+"-animation-timing-function");var NO,Pnr={transform:kO,end:CW,property:AW,timing:OW,delay:DW,duration:PW};hn.default=Pnr;function Onr(){for(var e=document.createElement("div").style,t={O:function(y){return"o"+y.toLowerCase()},Moz:function(y){return y.toLowerCase()},Webkit:function(y){return"webkit"+y},ms:function(y){return"MS"+y}},r=Object.keys(t),n,i,o="",u=0;u<r.length;u++){var f=r[u];if(f+"TransitionProperty"in e){o="-"+f.toLowerCase(),n=t[f]("TransitionEnd"),i=t[f]("AnimationEnd");break}}return!n&&"transitionProperty"in e&&(n="transitionend"),!i&&"animationName"in e&&(i="animationend"),e=null,{animationEnd:i,transitionEnd:n,prefix:o}}});var cRe=C((LO,uRe)=>{"use strict";LO.__esModule=!0;LO.default=Nnr;var Dnr=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function Nnr(e){return!!(e&&Dnr.test(e))}uRe.exports=LO.default});var qO=C((RO,pRe)=>{"use strict";var FS=oo();RO.__esModule=!0;RO.default=jnr;var knr=FS(MW()),NW=FS(XLe()),Lnr=FS(JLe()),Rnr=FS(tRe()),qnr=lRe(),znr=FS(cRe());function jnr(e,t,r){var n="",i="",o=t;if(typeof t=="string"){if(r===void 0)return e.style[(0,knr.default)(t)]||(0,Lnr.default)(e).getPropertyValue((0,NW.default)(t));(o={})[t]=r}Object.keys(o).forEach(function(u){var f=o[u];!f&&f!==0?(0,Rnr.default)(e,(0,NW.default)(u)):(0,znr.default)(u)?i+=u+"("+f+") ":n+=(0,NW.default)(u)+": "+f+";"}),i&&(n+=qnr.transform+": "+i+";"),e.style.cssText+=";"+n}pRe.exports=RO.default});var fRe=C(z1=>{"use strict";z1.__esModule=!0;z1.classNamesShape=z1.timeoutsShape=void 0;var YZr=Fnr(Wt());function Fnr(e){return e&&e.__esModule?e:{default:e}}var Bnr=null;z1.timeoutsShape=Bnr;var Unr=null;z1.classNamesShape=Unr});var hRe=C(Ys=>{"use strict";Ys.__esModule=!0;Ys.default=Ys.EXITING=Ys.ENTERED=Ys.ENTERING=Ys.EXITED=Ys.UNMOUNTED=void 0;var Vnr=Hnr(Wt()),kW=dRe(He()),$nr=dRe(Gi()),Gnr=sW(),XZr=fRe();function dRe(e){return e&&e.__esModule?e:{default:e}}function Hnr(e){if(e&&e.__esModule)return e;var t={};if(e!=null){for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}}return t.default=e,t}function Wnr(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function Znr(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var BS="unmounted";Ys.UNMOUNTED=BS;var Gg="exited";Ys.EXITED=Gg;var Hg="entering";Ys.ENTERING=Hg;var F1="entered";Ys.ENTERED=F1;var LW="exiting";Ys.EXITING=LW;var ep=function(e){Znr(t,e);function t(n,i){var o;o=e.call(this,n,i)||this;var u=i.transitionGroup,f=u&&!u.isMounting?n.enter:n.appear,m;return o.appearStatus=null,n.in?f?(m=Gg,o.appearStatus=Hg):m=F1:n.unmountOnExit||n.mountOnEnter?m=BS:m=Gg,o.state={status:m},o.nextCallback=null,o}var r=t.prototype;return r.getChildContext=function(){return{transitionGroup:null}},t.getDerivedStateFromProps=function(i,o){var u=i.in;return u&&o.status===BS?{status:Gg}:null},r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(i){var o=null;if(i!==this.props){var u=this.state.status;this.props.in?u!==Hg&&u!==F1&&(o=Hg):(u===Hg||u===F1)&&(o=LW)}this.updateStatus(!1,o)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var i=this.props.timeout,o,u,f;return o=u=f=i,i!=null&&typeof i!="number"&&(o=i.exit,u=i.enter,f=i.appear!==void 0?i.appear:u),{exit:o,enter:u,appear:f}},r.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null){this.cancelNextCallback();var u=$nr.default.findDOMNode(this);o===Hg?this.performEnter(u,i):this.performExit(u)}else this.props.unmountOnExit&&this.state.status===Gg&&this.setState({status:BS})},r.performEnter=function(i,o){var u=this,f=this.props.enter,m=this.context.transitionGroup?this.context.transitionGroup.isMounting:o,y=this.getTimeouts(),w=m?y.appear:y.enter;if(!o&&!f){this.safeSetState({status:F1},function(){u.props.onEntered(i)});return}this.props.onEnter(i,m),this.safeSetState({status:Hg},function(){u.props.onEntering(i,m),u.onTransitionEnd(i,w,function(){u.safeSetState({status:F1},function(){u.props.onEntered(i,m)})})})},r.performExit=function(i){var o=this,u=this.props.exit,f=this.getTimeouts();if(!u){this.safeSetState({status:Gg},function(){o.props.onExited(i)});return}this.props.onExit(i),this.safeSetState({status:LW},function(){o.props.onExiting(i),o.onTransitionEnd(i,f.exit,function(){o.safeSetState({status:Gg},function(){o.props.onExited(i)})})})},r.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},r.setNextCallback=function(i){var o=this,u=!0;return this.nextCallback=function(f){u&&(u=!1,o.nextCallback=null,i(f))},this.nextCallback.cancel=function(){u=!1},this.nextCallback},r.onTransitionEnd=function(i,o,u){this.setNextCallback(u);var f=o==null&&!this.props.addEndListener;if(!i||f){setTimeout(this.nextCallback,0);return}this.props.addEndListener&&this.props.addEndListener(i,this.nextCallback),o!=null&&setTimeout(this.nextCallback,o)},r.render=function(){var i=this.state.status;if(i===BS)return null;var o=this.props,u=o.children,f=Wnr(o,["children"]);if(delete f.in,delete f.mountOnEnter,delete f.unmountOnExit,delete f.appear,delete f.enter,delete f.exit,delete f.timeout,delete f.addEndListener,delete f.onEnter,delete f.onEntering,delete f.onEntered,delete f.onExit,delete f.onExiting,delete f.onExited,typeof u=="function")return u(i,f);var m=kW.default.Children.only(u);return kW.default.cloneElement(m,f)},t}(kW.default.Component);ep.contextTypes={transitionGroup:Vnr.object};ep.childContextTypes={transitionGroup:function(){}};ep.propTypes={};function j1(){}ep.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:j1,onEntering:j1,onEntered:j1,onExit:j1,onExiting:j1,onExited:j1};ep.UNMOUNTED=0;ep.EXITED=1;ep.ENTERING=2;ep.ENTERED=3;ep.EXITING=4;var Ynr=(0,Gnr.polyfill)(ep);Ys.default=Ynr});var Wg=C((zO,mRe)=>{"use strict";zO.__esModule=!0;zO.default=Knr;function Knr(e){return e&&e.ownerDocument||document}mRe.exports=zO.default});var RW=C((jO,gRe)=>{"use strict";var Xnr=oo();jO.__esModule=!0;jO.default=Jnr;var Qnr=Xnr(Wg());function Jnr(e){e===void 0&&(e=(0,Qnr.default)());try{return e.activeElement}catch(t){}}gRe.exports=jO.default});var B1=C((US,yRe)=>{"use strict";var eir=oo();US.__esModule=!0;US.default=void 0;var tir=eir(Qc()),rir=function(){return tir.default?function(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(e.compareDocumentPosition(t)&16):vRe(e,t)}:vRe}();US.default=rir;function vRe(e,t){if(t)do if(t===e)return!0;while(t=t.parentNode);return!1}yRe.exports=US.default});var BO=C((Zg,xRe)=>{function _Re(e){if(e&&typeof e=="object"){var t=e.which||e.keyCode||e.charCode;t&&(e=t)}if(typeof e=="number")return bRe[e];var r=String(e),n=gf[r.toLowerCase()];if(n)return n;var n=FO[r.toLowerCase()];if(n)return n;if(r.length===1)return r.charCodeAt(0)}_Re.isEventKey=function(t,r){if(t&&typeof t=="object"){var n=t.which||t.keyCode||t.charCode;if(n==null)return!1;if(typeof r=="string"){var i=gf[r.toLowerCase()];if(i)return i===n;var i=FO[r.toLowerCase()];if(i)return i===n}else if(typeof r=="number")return r===n;return!1}};Zg=xRe.exports=_Re;var gf=Zg.code=Zg.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},FO=Zg.aliases={windows:91,"\u21E7":16,"\u2325":18,"\u2303":17,"\u2318":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};for(zi=97;zi<123;zi++)gf[String.fromCharCode(zi)]=zi-32;for(zi=48;zi<58;zi++)gf[zi-48]=zi;var zi;for(zi=1;zi<13;zi++)gf["f"+zi]=zi+111;for(zi=0;zi<10;zi++)gf["numpad "+zi]=zi+96;var bRe=Zg.names=Zg.title={};for(zi in gf)bRe[gf[zi]]=zi;for(qW in FO)gf[qW]=FO[qW];var qW});var VO=C((UO,wRe)=>{"use strict";Object.defineProperty(UO,"__esModule",{value:!0});UO.default=nir;function nir(e){return function(r,n,i,o,u){var f=i||"<<anonymous>>",m=u||n;if(r[n]==null)return new Error("The "+o+" `"+m+"` is required to make "+("`"+f+"` accessible for users of assistive ")+"technologies such as screen readers.");for(var y=arguments.length,w=Array(y>5?y-5:0),I=5;I<y;I++)w[I-5]=arguments[I];return e.apply(void 0,[r,n,i,o,u].concat(w))}}wRe.exports=UO.default});var IRe=C((JZr,SRe)=>{var iir=KP(),oir=YP();SRe.exports=function(e){return function(t,r){var n=String(oir(t)),i=iir(r),o=n.length,u,f;return i<0||i>=o?e?"":void 0:(u=n.charCodeAt(i),u<55296||u>56319||i+1===o||(f=n.charCodeAt(i+1))<56320||f>57343?e?n.charAt(i):u:e?n.slice(i,i+2):(u-55296<<10)+(f-56320)+65536)}}});var TRe=C((eYr,ERe)=>{ERe.exports=OS()});var $O=C((tYr,MRe)=>{MRe.exports={}});var Ah=C((rYr,ARe)=>{var zW=YH()("wks"),air=KH(),jW=O1().Symbol,CRe=typeof jW=="function",sir=ARe.exports=function(e){return zW[e]||(zW[e]=CRe&&jW[e]||(CRe?jW:air)("Symbol."+e))};sir.store=zW});var FW=C((nYr,ORe)=>{var lir=AS().f,uir=N1(),PRe=Ah()("toStringTag");ORe.exports=function(e,t,r){e&&!uir(e=r?e:e.prototype,PRe)&&lir(e,PRe,{configurable:!0,value:t})}});var kRe=C((iYr,NRe)=>{"use strict";var cir=rW(),pir=PS(),fir=FW(),DRe={};OS()(DRe,Ah()("iterator"),function(){return this});NRe.exports=function(e,t,r){e.prototype=cir(DRe,{next:pir(1,r)}),fir(e,t+" Iterator")}});var qRe=C((oYr,RRe)=>{var dir=N1(),hir=eO(),LRe=XP()("IE_PROTO"),mir=Object.prototype;RRe.exports=Object.getPrototypeOf||function(e){return e=hir(e),dir(e,LRe)?e[LRe]:typeof e.constructor=="function"&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?mir:null}});var $Re=C((aYr,VRe)=>{"use strict";var zRe=ZH(),BW=Th(),gir=TRe(),jRe=OS(),FRe=$O(),vir=kRe(),yir=FW(),_ir=qRe(),VS=Ah()("iterator"),UW=!([].keys&&"next"in[].keys()),bir="@@iterator",BRe="keys",GO="values",URe=function(){return this};VRe.exports=function(e,t,r,n,i,o,u){vir(r,t,n);var f=function(Y){if(!UW&&Y in I)return I[Y];switch(Y){case BRe:return function(){return new r(this,Y)};case GO:return function(){return new r(this,Y)}}return function(){return new r(this,Y)}},m=t+" Iterator",y=i==GO,w=!1,I=e.prototype,M=I[VS]||I[bir]||i&&I[i],N=M||f(i),z=i?y?f("entries"):N:void 0,F=t=="Array"&&I.entries||M,q,R,U;if(F&&(U=_ir(F.call(new e)),U!==Object.prototype&&U.next&&(yir(U,m,!0),!zRe&&typeof U[VS]!="function"&&jRe(U,VS,URe))),y&&M&&M.name!==GO&&(w=!0,N=function(){return M.call(this)}),(!zRe||u)&&(UW||w||!I[VS])&&jRe(I,VS,N),FRe[t]=N,FRe[m]=URe,i)if(q={values:y?N:f(GO),keys:o?N:f(BRe),entries:z},u)for(R in q)R in I||gir(I,R,q[R]);else BW(BW.P+BW.F*(UW||w),t,q);return q}});var GRe=C(()=>{"use strict";var xir=IRe()(!0);$Re()(String,"String",function(e){this._t=String(e),this._i=0},function(){var e=this._t,t=this._i,r;return t>=e.length?{value:void 0,done:!0}:(r=xir(e,t),this._i+=r.length,{value:r,done:!1})})});var ZRe=C((uYr,WRe)=>{var HRe=D1();WRe.exports=function(e,t,r,n){try{return n?t(HRe(r)[0],r[1]):t(r)}catch(o){var i=e.return;throw i!==void 0&&HRe(i.call(e)),o}}});var KRe=C((cYr,YRe)=>{var wir=$O(),Sir=Ah()("iterator"),Iir=Array.prototype;YRe.exports=function(e){return e!==void 0&&(wir.Array===e||Iir[Sir]===e)}});var QRe=C((pYr,XRe)=>{"use strict";var Eir=AS(),Tir=PS();XRe.exports=function(e,t,r){t in e?Eir.f(e,t,Tir(0,r)):e[t]=r}});var eqe=C((fYr,JRe)=>{var VW=GH(),Mir=Ah()("toStringTag"),Cir=VW(function(){return arguments}())=="Arguments",Air=function(e,t){try{return e[t]}catch(r){}};JRe.exports=function(e){var t,r,n;return e===void 0?"Undefined":e===null?"Null":typeof(r=Air(t=Object(e),Mir))=="string"?r:Cir?VW(t):(n=VW(t))=="Object"&&typeof t.callee=="function"?"Arguments":n}});var rqe=C((dYr,tqe)=>{var Pir=eqe(),Oir=Ah()("iterator"),Dir=$O();tqe.exports=Yc().getIteratorMethod=function(e){if(e!=null)return e[Oir]||e["@@iterator"]||Dir[Pir(e)]}});var oqe=C((hYr,iqe)=>{var GW=Ah()("iterator"),nqe=!1;try{$W=[7][GW](),$W.return=function(){nqe=!0},Array.from($W,function(){throw 2})}catch(e){}var $W;iqe.exports=function(e,t){if(!t&&!nqe)return!1;var r=!1;try{var n=[7],i=n[GW]();i.next=function(){return{done:r=!0}},n[GW]=function(){return i},e(n)}catch(o){}return r}});var sqe=C(()=>{"use strict";var Nir=$P(),HW=Th(),kir=eO(),Lir=ZRe(),Rir=KRe(),qir=WH(),aqe=QRe(),zir=rqe();HW(HW.S+HW.F*!oqe()(function(e){Array.from(e)}),"Array",{from:function(t){var r=kir(t),n=typeof this=="function"?this:Array,i=arguments.length,o=i>1?arguments[1]:void 0,u=o!==void 0,f=0,m=zir(r),y,w,I,M;if(u&&(o=Nir(o,i>2?arguments[2]:void 0,2)),m!=null&&!(n==Array&&Rir(m)))for(M=m.call(r),w=new n;!(I=M.next()).done;f++)aqe(w,f,u?Lir(M,o,[I.value,f],!0):I.value);else for(y=qir(r.length),w=new n(y);y>f;f++)aqe(w,f,u?o(r[f],f):r[f]);return w.length=f,w}})});var uqe=C((vYr,lqe)=>{GRe();sqe();lqe.exports=Yc().Array.from});var pqe=C((yYr,cqe)=>{cqe.exports=uqe()});var HO=C(($S,dqe)=>{"use strict";var jir=oo();$S.__esModule=!0;$S.default=void 0;var Fir=jir(Qc()),fqe=function(){};Fir.default&&(fqe=function(){if(document.addEventListener)return function(e,t,r,n){return e.addEventListener(t,r,n||!1)};if(document.attachEvent)return function(e,t,r){return e.attachEvent("on"+t,function(n){n=n||window.event,n.target=n.target||n.srcElement,n.currentTarget=e,r.call(e,n)})}}());var Bir=fqe;$S.default=Bir;dqe.exports=$S.default});var WO=C((GS,mqe)=>{"use strict";var Uir=oo();GS.__esModule=!0;GS.default=void 0;var Vir=Uir(Qc()),hqe=function(){};Vir.default&&(hqe=function(){if(document.addEventListener)return function(e,t,r,n){return e.removeEventListener(t,r,n||!1)};if(document.attachEvent)return function(e,t,r){return e.detachEvent("on"+t,r)}}());var $ir=hqe;GS.default=$ir;mqe.exports=GS.default});var WW=C((ZO,vqe)=>{"use strict";ZO.__esModule=!0;ZO.default=function(e,t,r,n){return(0,Hir.default)(e,t,r,n),{remove:function(){(0,Zir.default)(e,t,r,n)}}};var Gir=HO(),Hir=gqe(Gir),Wir=WO(),Zir=gqe(Wir);function gqe(e){return e&&e.__esModule?e:{default:e}}vqe.exports=ZO.default});var Yg=C((YO,_qe)=>{"use strict";YO.__esModule=!0;YO.default=function(e){return(0,Qir.default)(Kir.default.findDOMNode(e))};var Yir=Gi(),Kir=yqe(Yir),Xir=Wg(),Qir=yqe(Xir);function yqe(e){return e&&e.__esModule?e:{default:e}}_qe.exports=YO.default});var YW=C((QO,bqe)=>{"use strict";QO.__esModule=!0;var Jir=B1(),eor=U1(Jir),tor=Wt(),KO=U1(tor),ror=He(),nor=U1(ror),ior=Gi(),oor=U1(ior),aor=WW(),ZW=U1(aor),sor=Yg(),lor=U1(sor);function U1(e){return e&&e.__esModule?e:{default:e}}function uor(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cor(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function por(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var dor=27;function hor(e){return e.button===0}function mor(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}var XO=function(e){por(t,e);function t(r,n){uor(this,t);var i=cor(this,e.call(this,r,n));return i.addEventListeners=function(){i.currentEvent=window.event;var o=i.props.event,u=(0,lor.default)(i);i.documentMouseCaptureListener=(0,ZW.default)(u,o,i.handleMouseCapture,!0),i.documentMouseListener=(0,ZW.default)(u,o,i.handleMouse),i.documentKeyupListener=(0,ZW.default)(u,"keyup",i.handleKeyUp)},i.removeEventListeners=function(){i.documentMouseCaptureListener&&i.documentMouseCaptureListener.remove(),i.documentMouseListener&&i.documentMouseListener.remove(),i.documentKeyupListener&&i.documentKeyupListener.remove()},i.handleMouseCapture=function(o){i.preventMouseRootClose=mor(o)||!hor(o)||(0,eor.default)(oor.default.findDOMNode(i),o.target)},i.handleMouse=function(o){if(o===i.currentEvent){i.currentEvent=void 0;return}!i.preventMouseRootClose&&i.props.onRootClose&&i.props.onRootClose(o)},i.handleKeyUp=function(o){if(o===i.currentEvent){i.currentEvent=void 0;return}o.keyCode===dor&&i.props.onRootClose&&i.props.onRootClose(o)},i.preventMouseRootClose=!1,i}return t.prototype.componentDidMount=function(){this.props.disabled||this.addEventListeners()},t.prototype.componentDidUpdate=function(n){!this.props.disabled&&n.disabled?this.addEventListeners():this.props.disabled&&!n.disabled&&this.removeEventListeners()},t.prototype.componentWillUnmount=function(){this.props.disabled||this.removeEventListeners()},t.prototype.render=function(){return this.props.children},t}(nor.default.Component);XO.displayName="RootCloseWrapper";XO.propTypes={onRootClose:KO.default.func,children:KO.default.element,disabled:KO.default.bool,event:KO.default.oneOf(["click","mousedown"])};XO.defaultProps={event:"click"};QO.default=XO;bqe.exports=QO.default});var Zqe=C((aD,Wqe)=>{"use strict";aD.__esModule=!0;aD.default=For;var jor=/^[\w-]*$/,wZ=Function.prototype.bind.call(Function.prototype.call,[].slice);function For(e,t){var r=t[0]==="#",n=t[0]===".",i=r||n?t.slice(1):t,o=jor.test(i),u;return o?r?(e=e.getElementById?e:document,(u=e.getElementById(i))?[u]:[]):e.getElementsByClassName&&n?wZ(e.getElementsByClassName(i)):wZ(e.getElementsByTagName(t)):wZ(e.querySelectorAll(t))}Wqe.exports=aD.default});var Xqe=C((sD,Kqe)=>{"use strict";var Yqe=oo();sD.__esModule=!0;sD.default=Vor;var Bor=Yqe(B1()),Uor=Yqe(Zqe());function Vor(e,t){return function(n){var i=n.currentTarget,o=n.target,u=(0,Uor.default)(i,e);u.some(function(f){return(0,Bor.default)(f,o)})&&t.call(this,n)}}Kqe.exports=sD.default});var e8e=C((QS,Jqe)=>{"use strict";var SZ=oo();QS.__esModule=!0;QS.default=void 0;var $or=SZ(Qc()),Gor=SZ(HO()),Hor=SZ(WO()),Qqe=function(){};$or.default&&(Qqe=function(t,r,n,i){return(0,Gor.default)(t,r,n,i),function(){(0,Hor.default)(t,r,n,i)}});var Wor=Qqe;QS.default=Wor;Jqe.exports=QS.default});var o8e=C(Oh=>{"use strict";var lD=oo();Oh.__esModule=!0;Oh.default=void 0;var t8e=lD(HO());Oh.on=t8e.default;var r8e=lD(WO());Oh.off=r8e.default;var n8e=lD(Xqe());Oh.filter=n8e.default;var i8e=lD(e8e());Oh.listen=i8e.default;var Zor={on:t8e.default,off:r8e.default,filter:n8e.default,listen:i8e.default};Oh.default=Zor});var IZ=C((cD,a8e)=>{"use strict";var Yor=oo();cD.__esModule=!0;cD.default=Xor;var Kor=Yor(Qc()),uD;function Xor(e){if((!uD&&uD!==0||e)&&Kor.default){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),uD=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return uD}a8e.exports=cD.default});var JS=C((pD,l8e)=>{"use strict";Object.defineProperty(pD,"__esModule",{value:!0});var Qor=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jor=He(),ear=s8e(Jor),tar=LS(),rar=s8e(tar);function s8e(e){return e&&e.__esModule?e:{default:e}}function nar(e,t,r,n,i){var o=e[t],u=typeof o=="undefined"?"undefined":Qor(o);return ear.default.isValidElement(o)?new Error("Invalid "+n+" `"+i+"` of type ReactElement "+("supplied to `"+r+"`, expected a ReactComponent or a ")+"DOMElement. You can usually obtain a ReactComponent or DOMElement from a ReactElement by attaching a ref to it."):(u!=="object"||typeof o.render!="function")&&o.nodeType!==1?new Error("Invalid "+n+" `"+i+"` of value `"+o+"` "+("supplied to `"+r+"`, expected a ReactComponent or a ")+"DOMElement."):null}pD.default=(0,rar.default)(nar);l8e.exports=pD.default});var f8e=C((WKr,p8e)=>{"use strict";var iar=!1,c8e=function(){};iar&&(u8e=function(t,r){var n=arguments.length;r=new Array(n>1?n-1:0);for(var i=1;i<n;i++)r[i-1]=arguments[i];var o=0,u="Warning: "+t.replace(/%s/g,function(){return r[o++]});typeof console!="undefined"&&console.error(u);try{throw new Error(u)}catch(f){}},c8e=function(e,t,r){var n=arguments.length;r=new Array(n>2?n-2:0);for(var i=2;i<n;i++)r[i-2]=arguments[i];if(t===void 0)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");e||u8e.apply(null,[t].concat(r))});var u8e;p8e.exports=c8e});var m8e=C((fD,h8e)=>{"use strict";Object.defineProperty(fD,"__esModule",{value:!0});fD.default=d8e;var oar=f8e(),aar=sar(oar);function sar(e){return e&&e.__esModule?e:{default:e}}var EZ={};function d8e(e,t){return function(n,i,o,u,f){var m=o||"<<anonymous>>",y=f||i;if(n[i]!=null){var w=o+"."+i;(0,aar.default)(EZ[w],"The "+u+" `"+y+"` of "+("`"+m+"` is deprecated. "+t+".")),EZ[w]=!0}for(var I=arguments.length,M=Array(I>5?I-5:0),N=5;N<I;N++)M[N-5]=arguments[N];return e.apply(void 0,[n,i,o,u,f].concat(M))}}function lar(){EZ={}}d8e._resetWarned=lar;h8e.exports=fD.default});var TZ=C((dD,g8e)=>{"use strict";dD.__esModule=!0;dD.default=uar;function uar(e,t){return e.classList?!!t&&e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}g8e.exports=dD.default});var y8e=C((hD,v8e)=>{"use strict";var car=oo();hD.__esModule=!0;hD.default=far;var par=car(TZ());function far(e,t){e.classList?e.classList.add(t):(0,par.default)(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}v8e.exports=hD.default});var x8e=C((ZKr,b8e)=>{"use strict";function _8e(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}b8e.exports=function(t,r){t.classList?t.classList.remove(r):typeof t.className=="string"?t.className=_8e(t.className,r):t.setAttribute("class",_8e(t.className&&t.className.baseVal||"",r))}});var E8e=C(Kg=>{"use strict";var MZ=oo();Kg.__esModule=!0;Kg.default=void 0;var w8e=MZ(y8e());Kg.addClass=w8e.default;var S8e=MZ(x8e());Kg.removeClass=S8e.default;var I8e=MZ(TZ());Kg.hasClass=I8e.default;var dar={addClass:w8e.default,removeClass:S8e.default,hasClass:I8e.default};Kg.default=dar});var eI=C((mD,T8e)=>{"use strict";mD.__esModule=!0;mD.default=har;function har(e){return e===e.window?e:e.nodeType===9?e.defaultView||e.parentWindow:!1}T8e.exports=mD.default});var CZ=C((gD,A8e)=>{"use strict";gD.__esModule=!0;gD.default=xar;var mar=eI(),M8e=C8e(mar),gar=Wg(),yar=C8e(gar);function C8e(e){return e&&e.__esModule?e:{default:e}}function _ar(e){return e&&e.tagName.toLowerCase()==="body"}function bar(e){var t=(0,yar.default)(e),r=(0,M8e.default)(t),n=r.innerWidth;if(!n){var i=t.documentElement.getBoundingClientRect();n=i.right-Math.abs(i.left)}return t.body.clientWidth<n}function xar(e){var t=(0,M8e.default)(e);return t||_ar(e)?bar(e):e.scrollHeight>e.clientHeight}A8e.exports=gD.default});var O8e=C(tI=>{"use strict";tI.__esModule=!0;tI.ariaHidden=AZ;tI.hideSiblings=Iar;tI.showSiblings=Ear;var war=["template","script","style"],Sar=function(t){var r=t.nodeType,n=t.tagName;return r===1&&war.indexOf(n.toLowerCase())===-1},P8e=function(t,r,n){r=[].concat(r),[].forEach.call(t.children,function(i){r.indexOf(i)===-1&&Sar(i)&&n(i)})};function AZ(e,t){t&&(e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden"))}function Iar(e,t){P8e(e,t,function(r){return AZ(!0,r)})}function Ear(e,t){P8e(e,t,function(r){return AZ(!1,r)})}});var L8e=C((yD,k8e)=>{"use strict";yD.__esModule=!0;var Tar=E8e(),D8e=vD(Tar),Mar=qO(),N8e=vD(Mar),Car=IZ(),Aar=vD(Car),Par=CZ(),Oar=vD(Par),PZ=O8e();function vD(e){return e&&e.__esModule?e:{default:e}}function Dar(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nar(e,t){var r=-1;return e.some(function(n,i){if(t(n,i))return r=i,!0}),r}function kar(e,t){return Nar(e,function(r){return r.modals.indexOf(t)!==-1})}function Lar(e,t){var r={overflow:"hidden"};e.style={overflow:t.style.overflow,paddingRight:t.style.paddingRight},e.overflowing&&(r.paddingRight=parseInt((0,N8e.default)(t,"paddingRight")||0,10)+(0,Aar.default)()+"px"),(0,N8e.default)(t,r)}function Rar(e,t){var r=e.style;Object.keys(r).forEach(function(n){return t.style[n]=r[n]})}var qar=function e(){var t=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=r.hideSiblingNodes,i=n===void 0?!0:n,o=r.handleContainerOverflow,u=o===void 0?!0:o;Dar(this,e),this.add=function(f,m,y){var w=t.modals.indexOf(f),I=t.containers.indexOf(m);if(w!==-1)return w;if(w=t.modals.length,t.modals.push(f),t.hideSiblingNodes&&(0,PZ.hideSiblings)(m,f.modalNode),I!==-1)return t.data[I].modals.push(f),w;var M={modals:[f],classes:y?y.split(/\s+/):[],overflowing:(0,Oar.default)(m)};return t.handleContainerOverflow&&Lar(M,m),M.classes.forEach(D8e.default.addClass.bind(null,m)),t.containers.push(m),t.data.push(M),w},this.remove=function(f){var m=t.modals.indexOf(f);if(m!==-1){var y=kar(t.data,f),w=t.data[y],I=t.containers[y];w.modals.splice(w.modals.indexOf(f),1),t.modals.splice(m,1),w.modals.length===0?(w.classes.forEach(D8e.default.removeClass.bind(null,I)),t.handleContainerOverflow&&Rar(w,I),t.hideSiblingNodes&&(0,PZ.showSiblings)(I,f.modalNode),t.containers.splice(y,1),t.data.splice(y,1)):t.hideSiblingNodes&&(0,PZ.ariaHidden)(!1,w.modals[w.modals.length-1].modalNode)}},this.isTopModal=function(f){return!!t.modals.length&&t.modals[t.modals.length-1]===f},this.hideSiblingNodes=i,this.handleContainerOverflow=u,this.modals=[],this.containers=[],this.data=[]};yD.default=qar;k8e.exports=yD.default});var rI=C((_D,R8e)=>{"use strict";_D.__esModule=!0;_D.default=Bar;var zar=Gi(),jar=Far(zar);function Far(e){return e&&e.__esModule?e:{default:e}}function Bar(e,t){return e=typeof e=="function"?e():e,jar.default.findDOMNode(e)||t}R8e.exports=_D.default});var V8e=C((bD,U8e)=>{"use strict";bD.__esModule=!0;var Uar=Wt(),OZ=W1(Uar),Var=JS(),$ar=W1(Var),Gar=He(),q8e=W1(Gar),Har=Gi(),z8e=W1(Har),War=rI(),j8e=W1(War),Zar=Yg(),F8e=W1(Zar);function W1(e){return e&&e.__esModule?e:{default:e}}function Yar(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B8e(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Kar(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var DZ=function(e){Kar(t,e);function t(){var r,n,i;Yar(this,t);for(var o=arguments.length,u=Array(o),f=0;f<o;f++)u[f]=arguments[f];return i=(r=(n=B8e(this,e.call.apply(e,[this].concat(u))),n),n._mountOverlayTarget=function(){n._overlayTarget||(n._overlayTarget=document.createElement("div"),n._portalContainerNode=(0,j8e.default)(n.props.container,(0,F8e.default)(n).body),n._portalContainerNode.appendChild(n._overlayTarget))},n._unmountOverlayTarget=function(){n._overlayTarget&&(n._portalContainerNode.removeChild(n._overlayTarget),n._overlayTarget=null),n._portalContainerNode=null},n._renderOverlay=function(){var m=n.props.children?q8e.default.Children.only(n.props.children):null;if(m!==null){n._mountOverlayTarget();var y=!n._overlayInstance;n._overlayInstance=z8e.default.unstable_renderSubtreeIntoContainer(n,m,n._overlayTarget,function(){y&&n.props.onRendered&&n.props.onRendered()})}else n._unrenderOverlay(),n._unmountOverlayTarget()},n._unrenderOverlay=function(){n._overlayTarget&&(z8e.default.unmountComponentAtNode(n._overlayTarget),n._overlayInstance=null)},n.getMountNode=function(){return n._overlayTarget},r),B8e(n,i)}return t.prototype.componentDidMount=function(){this._isMounted=!0,this._renderOverlay()},t.prototype.componentDidUpdate=function(){this._renderOverlay()},t.prototype.UNSAFE_componentWillReceiveProps=function(n){this._overlayTarget&&n.container!==this.props.container&&(this._portalContainerNode.removeChild(this._overlayTarget),this._portalContainerNode=(0,j8e.default)(n.container,(0,F8e.default)(this).body),this._portalContainerNode.appendChild(this._overlayTarget))},t.prototype.componentWillUnmount=function(){this._isMounted=!1,this._unrenderOverlay(),this._unmountOverlayTarget()},t.prototype.render=function(){return null},t}(q8e.default.Component);DZ.displayName="Portal";DZ.propTypes={container:OZ.default.oneOfType([$ar.default,OZ.default.func]),onRendered:OZ.default.func};bD.default=DZ;U8e.exports=bD.default});var RZ=C((xD,G8e)=>{"use strict";xD.__esModule=!0;var Xar=Qc(),Qar=Dh(Xar),Jar=Wt(),NZ=Dh(Jar),esr=JS(),tsr=Dh(esr),rsr=He(),nsr=Dh(rsr),isr=Gi(),kZ=Dh(isr),osr=rI(),asr=Dh(osr),ssr=Yg(),lsr=Dh(ssr),usr=V8e(),csr=Dh(usr);function Dh(e){return e&&e.__esModule?e:{default:e}}function psr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $8e(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function fsr(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var LZ=function(e){fsr(t,e);function t(){var r,n,i;psr(this,t);for(var o=arguments.length,u=Array(o),f=0;f<o;f++)u[f]=arguments[f];return i=(r=(n=$8e(this,e.call.apply(e,[this].concat(u))),n),n.getMountNode=function(){return n._portalContainerNode},r),$8e(n,i)}return t.prototype.UNSAFE_componentWillMount=function(){if(Qar.default){var n=this.props.container;typeof n=="function"&&(n=n()),!(n&&!kZ.default.findDOMNode(n))&&this.setContainer(n)}},t.prototype.componentDidMount=function(){this._portalContainerNode?this.props.onRendered&&this.props.onRendered():(this.setContainer(this.props.container),this.forceUpdate(this.props.onRendered))},t.prototype.UNSAFE_componentWillReceiveProps=function(n){n.container!==this.props.container&&this.setContainer(n.container)},t.prototype.componentWillUnmount=function(){this._portalContainerNode=null},t.prototype.setContainer=function(n){this._portalContainerNode=(0,asr.default)(n,(0,lsr.default)(this).body)},t.prototype.render=function(){return this.props.children&&this._portalContainerNode?kZ.default.createPortal(this.props.children,this._portalContainerNode):null},t}(nsr.default.Component);LZ.displayName="Portal";LZ.propTypes={container:NZ.default.oneOfType([tsr.default,NZ.default.func]),onRendered:NZ.default.func};xD.default=kZ.default.createPortal?LZ:csr.default;G8e.exports=xD.default});var Y8e=C((wD,Z8e)=>{"use strict";wD.__esModule=!0;var dsr=Wt(),hsr=H8e(dsr),msr=He(),gsr=H8e(msr);function H8e(e){return e&&e.__esModule?e:{default:e}}function vsr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ysr(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function _sr(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var bsr={children:hsr.default.node},W8e=function(e){_sr(t,e);function t(){return vsr(this,t),ysr(this,e.apply(this,arguments))}return t.prototype.render=function(){return this.props.children},t}(gsr.default.Component);W8e.propTypes=bsr;wD.default=W8e;Z8e.exports=wD.default});var X8e=C((SD,K8e)=>{"use strict";SD.__esModule=!0;SD.default=xsr;function xsr(e){var t=!document.addEventListener,r=void 0;return t?(document.attachEvent("onfocusin",e),r=function(){return document.detachEvent("onfocusin",e)}):(document.addEventListener("focus",e,!0),r=function(){return document.removeEventListener("focus",e,!0)}),{remove:r}}K8e.exports=SD.default});var s7e=C((ED,a7e)=>{"use strict";ED.__esModule=!0;var t7e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wsr=RW(),qZ=xa(wsr),Ssr=B1(),r7e=xa(Ssr),Isr=Qc(),Esr=xa(Isr),Tsr=Wt(),vi=xa(Tsr),Msr=JS(),Csr=xa(Msr),Asr=m8e(),Psr=xa(Asr),Osr=ba(),Q8e=xa(Osr),n7e=He(),Nh=xa(n7e),Dsr=Gi(),Nsr=xa(Dsr),ksr=Ch(),Lsr=xa(ksr),Rsr=L8e(),i7e=xa(Rsr),qsr=RZ(),o7e=xa(qsr),zsr=Y8e(),jsr=xa(zsr),Fsr=WW(),J8e=xa(Fsr),Bsr=X8e(),Usr=xa(Bsr),Vsr=rI(),$sr=xa(Vsr),Gsr=Yg(),zZ=xa(Gsr);function xa(e){return e&&e.__esModule?e:{default:e}}function Hsr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function e7e(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Wsr(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Zsr=new i7e.default,ID=function(e){Wsr(t,e);function t(){var r,n,i;Hsr(this,t);for(var o=arguments.length,u=Array(o),f=0;f<o;f++)u[f]=arguments[f];return i=(r=(n=e7e(this,e.call.apply(e,[this].concat(u))),n),Ysr.call(n),r),e7e(n,i)}return t.prototype.omitProps=function(n,i){var o=Object.keys(n),u={};return o.map(function(f){Object.prototype.hasOwnProperty.call(i,f)||(u[f]=n[f])}),u},t.prototype.render=function(){var n=this.props,i=n.show,o=n.container,u=n.children,f=n.transition,m=n.backdrop,y=n.className,w=n.style,I=n.onExit,M=n.onExiting,N=n.onEnter,z=n.onEntering,F=n.onEntered,q=Nh.default.Children.only(u),R=this.omitProps(this.props,t.propTypes),U=i||f&&!this.state.exited;if(!U)return null;var Y=q.props,re=Y.role,de=Y.tabIndex;return(re===void 0||de===void 0)&&(q=(0,n7e.cloneElement)(q,{role:re===void 0?"document":re,tabIndex:de==null?"-1":de})),f&&(q=Nh.default.createElement(f,{appear:!0,unmountOnExit:!0,in:i,onExit:I,onExiting:M,onExited:this.handleHidden,onEnter:N,onEntering:z,onEntered:F},q)),Nh.default.createElement(o7e.default,{ref:this.setMountNode,container:o,onRendered:this.onPortalRendered},Nh.default.createElement("div",t7e({ref:this.setModalNodeRef,role:re||"dialog"},R,{style:w,className:y}),m&&this.renderBackdrop(),Nh.default.createElement(jsr.default,{ref:this.setDialogRef},q)))},t.prototype.UNSAFE_componentWillReceiveProps=function(n){n.show?this.setState({exited:!1}):n.transition||this.setState({exited:!0})},t.prototype.UNSAFE_componentWillUpdate=function(n){!this.props.show&&n.show&&this.checkForFocus()},t.prototype.componentDidMount=function(){this._isMounted=!0,this.props.show&&this.onShow()},t.prototype.componentDidUpdate=function(n){var i=this.props.transition;n.show&&!this.props.show&&!i?this.onHide():!n.show&&this.props.show&&this.onShow()},t.prototype.componentWillUnmount=function(){var n=this.props,i=n.show,o=n.transition;this._isMounted=!1,(i||o&&!this.state.exited)&&this.onHide()},t.prototype.autoFocus=function(){if(this.props.autoFocus){var n=this.getDialogElement(),i=(0,qZ.default)((0,zZ.default)(this));n&&!(0,r7e.default)(n,i)&&(this.lastFocus=i,n.hasAttribute("tabIndex")||((0,Lsr.default)(!1,"The modal content node does not accept focus. For the benefit of assistive technologies, the tabIndex of the node is being set to \"-1\"."),n.setAttribute("tabIndex",-1)),n.focus())}},t.prototype.restoreLastFocus=function(){this.lastFocus&&this.lastFocus.focus&&(this.lastFocus.focus(),this.lastFocus=null)},t.prototype.getDialogElement=function(){return Nsr.default.findDOMNode(this.dialog)},t.prototype.isTopModal=function(){return this.props.manager.isTopModal(this)},t}(Nh.default.Component);ID.propTypes=t7e({},o7e.default.propTypes,{show:vi.default.bool,container:vi.default.oneOfType([Csr.default,vi.default.func]),onShow:vi.default.func,onHide:vi.default.func,backdrop:vi.default.oneOfType([vi.default.bool,vi.default.oneOf(["static"])]),renderBackdrop:vi.default.func,onEscapeKeyDown:vi.default.func,onEscapeKeyUp:(0,Psr.default)(vi.default.func,"Please use onEscapeKeyDown instead for consistency"),onBackdropClick:vi.default.func,backdropStyle:vi.default.object,backdropClassName:vi.default.string,containerClassName:vi.default.string,keyboard:vi.default.bool,transition:Q8e.default,backdropTransition:Q8e.default,autoFocus:vi.default.bool,enforceFocus:vi.default.bool,restoreFocus:vi.default.bool,onEnter:vi.default.func,onEntering:vi.default.func,onEntered:vi.default.func,onExit:vi.default.func,onExiting:vi.default.func,onExited:vi.default.func,manager:vi.default.object.isRequired});ID.defaultProps={show:!1,backdrop:!0,keyboard:!0,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,onHide:function(){},manager:Zsr,renderBackdrop:function(t){return Nh.default.createElement("div",t)}};var Ysr=function(){var t=this;this.state={exited:!this.props.show},this.renderBackdrop=function(){var r=t.props,n=r.backdropStyle,i=r.backdropClassName,o=r.renderBackdrop,u=r.backdropTransition,f=function(w){return t.backdrop=w},m=o({ref:f,style:n,className:i,onClick:t.handleBackdropClick});return u&&(m=Nh.default.createElement(u,{appear:!0,in:t.props.show},m)),m},this.onPortalRendered=function(){t.autoFocus(),t.props.onShow&&t.props.onShow()},this.onShow=function(){var r=(0,zZ.default)(t),n=(0,$sr.default)(t.props.container,r.body);t.props.manager.add(t,n,t.props.containerClassName),t._onDocumentKeydownListener=(0,J8e.default)(r,"keydown",t.handleDocumentKeyDown),t._onDocumentKeyupListener=(0,J8e.default)(r,"keyup",t.handleDocumentKeyUp),t._onFocusinListener=(0,Usr.default)(t.enforceFocus)},this.onHide=function(){t.props.manager.remove(t),t._onDocumentKeydownListener.remove(),t._onDocumentKeyupListener.remove(),t._onFocusinListener.remove(),t.props.restoreFocus&&t.restoreLastFocus()},this.setMountNode=function(r){t.mountNode=r&&r.getMountNode()},this.setModalNodeRef=function(r){t.modalNode=r},this.setDialogRef=function(r){t.dialog=r},this.handleHidden=function(){if(t.setState({exited:!0}),t.onHide(),t.props.onExited){var r;(r=t.props).onExited.apply(r,arguments)}},this.handleBackdropClick=function(r){r.target===r.currentTarget&&(t.props.onBackdropClick&&t.props.onBackdropClick(r),t.props.backdrop===!0&&t.props.onHide())},this.handleDocumentKeyDown=function(r){t.props.keyboard&&r.keyCode===27&&t.isTopModal()&&(t.props.onEscapeKeyDown&&t.props.onEscapeKeyDown(r),t.props.onHide())},this.handleDocumentKeyUp=function(r){t.props.keyboard&&r.keyCode===27&&t.isTopModal()&&t.props.onEscapeKeyUp&&t.props.onEscapeKeyUp(r)},this.checkForFocus=function(){Esr.default&&(t.lastFocus=(0,qZ.default)())},this.enforceFocus=function(){if(!(!t.props.enforceFocus||!t._isMounted||!t.isTopModal())){var r=t.getDialogElement(),n=(0,qZ.default)((0,zZ.default)(t));r&&!(0,r7e.default)(r,n)&&r.focus()}}};ID.Manager=i7e.default;ED.default=ID;a7e.exports=ED.default});var XZ=C((OD,C7e)=>{"use strict";var KZ=oo();OD.__esModule=!0;OD.default=_lr;var glr=KZ(B1()),vlr=KZ(eI()),ylr=KZ(Wg());function _lr(e){var t=(0,ylr.default)(e),r=(0,vlr.default)(t),n=t&&t.documentElement,i={top:0,left:0,height:0,width:0};if(t)return(0,glr.default)(n,e)&&(e.getBoundingClientRect!==void 0&&(i=e.getBoundingClientRect()),i={top:i.top+(r.pageYOffset||n.scrollTop)-(n.clientTop||0),left:i.left+(r.pageXOffset||n.scrollLeft)-(n.clientLeft||0),width:(i.width==null?e.offsetWidth:i.width)||0,height:(i.height==null?e.offsetHeight:i.height)||0}),i}C7e.exports=OD.default});var A7e=C((rQr,bf)=>{function QZ(){return bf.exports=QZ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bf.exports.__esModule=!0,bf.exports.default=bf.exports,QZ.apply(null,arguments)}bf.exports=QZ,bf.exports.__esModule=!0,bf.exports.default=bf.exports});var D7e=C((DD,O7e)=>{"use strict";var P7e=oo();DD.__esModule=!0;DD.default=Slr;var blr=P7e(Wg()),xlr=P7e(qO());function wlr(e){return e.nodeName&&e.nodeName.toLowerCase()}function Slr(e){for(var t=(0,blr.default)(e),r=e&&e.offsetParent;r&&wlr(e)!=="html"&&(0,xlr.default)(r,"position")==="static";)r=r.offsetParent;return r||t.documentElement}O7e.exports=DD.default});var JZ=C((ND,N7e)=>{"use strict";var Ilr=oo();ND.__esModule=!0;ND.default=Tlr;var Elr=Ilr(eI());function Tlr(e,t){var r=(0,Elr.default)(e);if(t===void 0)return r?"pageYOffset"in r?r.pageYOffset:r.document.documentElement.scrollTop:e.scrollTop;r?r.scrollTo("pageXOffset"in r?r.pageXOffset:r.document.documentElement.scrollLeft,t):e.scrollTop=t}N7e.exports=ND.default});var L7e=C((kD,k7e)=>{"use strict";var Mlr=oo();kD.__esModule=!0;kD.default=Alr;var Clr=Mlr(eI());function Alr(e,t){var r=(0,Clr.default)(e);if(t===void 0)return r?"pageXOffset"in r?r.pageXOffset:r.document.documentElement.scrollLeft:e.scrollLeft;r?r.scrollTo(t,"pageYOffset"in r?r.pageYOffset:r.document.documentElement.scrollTop):e.scrollLeft=t}k7e.exports=kD.default});var z7e=C((LD,q7e)=>{"use strict";var X1=oo();LD.__esModule=!0;LD.default=Llr;var Plr=X1(A7e()),R7e=X1(XZ()),Olr=X1(D7e()),Dlr=X1(JZ()),Nlr=X1(L7e()),cI=X1(qO());function klr(e){return e.nodeName&&e.nodeName.toLowerCase()}function Llr(e,t){var r={top:0,left:0},n;return(0,cI.default)(e,"position")==="fixed"?n=e.getBoundingClientRect():(t=t||(0,Olr.default)(e),n=(0,R7e.default)(e),klr(t)!=="html"&&(r=(0,R7e.default)(t)),r.top+=parseInt((0,cI.default)(t,"borderTopWidth"),10)-(0,Dlr.default)(t)||0,r.left+=parseInt((0,cI.default)(t,"borderLeftWidth"),10)-(0,Nlr.default)(t)||0),(0,Plr.default)({},n,{top:n.top-r.top-(parseInt((0,cI.default)(e,"marginTop"),10)||0),left:n.left-r.left-(parseInt((0,cI.default)(e,"marginLeft"),10)||0)})}q7e.exports=LD.default});var B7e=C((qD,F7e)=>{"use strict";qD.__esModule=!0;qD.default=$lr;var Rlr=XZ(),tY=RD(Rlr),qlr=z7e(),zlr=RD(qlr),jlr=JZ(),eY=RD(jlr),Flr=Yg(),Blr=RD(Flr);function RD(e){return e&&e.__esModule?e:{default:e}}function j7e(e){var t=void 0,r=void 0,n=void 0;if(e.tagName==="BODY")t=window.innerWidth,r=window.innerHeight,n=(0,eY.default)((0,Blr.default)(e).documentElement)||(0,eY.default)(e);else{var i=(0,tY.default)(e);t=i.width,r=i.height,n=(0,eY.default)(e)}return{width:t,height:r,scroll:n}}function Ulr(e,t,r,n){var i=j7e(r),o=i.scroll,u=i.height,f=e-n-o,m=e+n-o+t;return f<0?-f:m>u?u-m:0}function Vlr(e,t,r,n){var i=j7e(r),o=i.width,u=e-n,f=e+n+t;return u<0?-u:f>o?o-f:0}function $lr(e,t,r,n,i){var o=n.tagName==="BODY"?(0,tY.default)(r):(0,zlr.default)(r,n),u=(0,tY.default)(t),f=u.height,m=u.width,y=void 0,w=void 0,I=void 0,M=void 0;if(e==="left"||e==="right"){w=o.top+(o.height-f)/2,e==="left"?y=o.left-m:y=o.left+o.width;var N=Ulr(w,f,n,i);w+=N,M=50*(1-2*N/f)+"%",I=void 0}else if(e==="top"||e==="bottom"){y=o.left+(o.width-m)/2,e==="top"?w=o.top-f:w=o.top+o.height;var z=Vlr(y,m,n,i);y+=z,I=50*(1-2*z/m)+"%",M=void 0}else throw new Error("calcOverlayPosition(): No such placement of \""+e+"\" found.");return{positionLeft:y,positionTop:w,arrowOffsetLeft:I,arrowOffsetTop:M}}F7e.exports=qD.default});var Y7e=C((jD,Z7e)=>{"use strict";jD.__esModule=!0;var U7e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Glr=tn(),Hlr=Lh(Glr),Wlr=Wt(),Xg=Lh(Wlr),Zlr=JS(),V7e=Lh(Zlr),W7e=He(),$7e=Lh(W7e),Ylr=Gi(),G7e=Lh(Ylr),Klr=B7e(),Xlr=Lh(Klr),Qlr=rI(),Jlr=Lh(Qlr),eur=Yg(),tur=Lh(eur);function Lh(e){return e&&e.__esModule?e:{default:e}}function H7e(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}function rur(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nur(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function iur(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var zD=function(e){iur(t,e);function t(r,n){rur(this,t);var i=nur(this,e.call(this,r,n));return i.getTarget=function(){var o=i.props.target,u=typeof o=="function"?o():o;return u&&G7e.default.findDOMNode(u)||null},i.maybeUpdatePosition=function(o){var u=i.getTarget();!i.props.shouldUpdatePosition&&u===i._lastTarget&&!o||i.updatePosition(u)},i.state={positionLeft:0,positionTop:0,arrowOffsetLeft:null,arrowOffsetTop:null},i._needsFlush=!1,i._lastTarget=null,i}return t.prototype.componentDidMount=function(){this.updatePosition(this.getTarget())},t.prototype.UNSAFE_componentWillReceiveProps=function(){this._needsFlush=!0},t.prototype.componentDidUpdate=function(n){this._needsFlush&&(this._needsFlush=!1,this.maybeUpdatePosition(this.props.placement!==n.placement))},t.prototype.render=function(){var n=this.props,i=n.children,o=n.className,u=H7e(n,["children","className"]),f=this.state,m=f.positionLeft,y=f.positionTop,w=H7e(f,["positionLeft","positionTop"]);delete u.target,delete u.container,delete u.containerPadding,delete u.shouldUpdatePosition;var I=$7e.default.Children.only(i);return(0,W7e.cloneElement)(I,U7e({},u,w,{positionLeft:m,positionTop:y,className:(0,Hlr.default)(o,I.props.className),style:U7e({},I.props.style,{left:m,top:y})}))},t.prototype.updatePosition=function(n){if(this._lastTarget=n,!n){this.setState({positionLeft:0,positionTop:0,arrowOffsetLeft:null,arrowOffsetTop:null});return}var i=G7e.default.findDOMNode(this),o=(0,Jlr.default)(this.props.container,(0,tur.default)(this).body);this.setState((0,Xlr.default)(this.props.placement,i,n,o,this.props.containerPadding))},t}($7e.default.Component);zD.propTypes={target:Xg.default.oneOfType([V7e.default,Xg.default.func]),container:Xg.default.oneOfType([V7e.default,Xg.default.func]),containerPadding:Xg.default.number,placement:Xg.default.oneOf(["top","right","bottom","left"]),shouldUpdatePosition:Xg.default.bool};zD.displayName="Position";zD.defaultProps={containerPadding:0,placement:"right",shouldUpdatePosition:!1};jD.default=zD;Z7e.exports=jD.default});var t9e=C((FD,e9e)=>{"use strict";FD.__esModule=!0;var our=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},aur=Wt(),xf=Q1(aur),sur=ba(),lur=Q1(sur),uur=He(),pI=Q1(uur),cur=RZ(),K7e=Q1(cur),pur=Y7e(),X7e=Q1(pur),fur=YW(),Q7e=Q1(fur);function Q1(e){return e&&e.__esModule?e:{default:e}}function dur(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}function hur(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mur(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function gur(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var J7e=function(e){gur(t,e);function t(r,n){hur(this,t);var i=mur(this,e.call(this,r,n));return i.handleHidden=function(){if(i.setState({exited:!0}),i.props.onExited){var o;(o=i.props).onExited.apply(o,arguments)}},i.state={exited:!r.show},i.onHiddenListener=i.handleHidden.bind(i),i}return t.prototype.UNSAFE_componentWillReceiveProps=function(n){n.show?this.setState({exited:!1}):n.transition||this.setState({exited:!0})},t.prototype.render=function(){var n=this.props,i=n.container,o=n.containerPadding,u=n.target,f=n.placement,m=n.shouldUpdatePosition,y=n.rootClose,w=n.children,I=n.transition,M=dur(n,["container","containerPadding","target","placement","shouldUpdatePosition","rootClose","children","transition"]),N=M.show||I&&!this.state.exited;if(!N)return null;var z=w;if(z=pI.default.createElement(X7e.default,{container:i,containerPadding:o,target:u,placement:f,shouldUpdatePosition:m},z),I){var F=M.onExit,q=M.onExiting,R=M.onEnter,U=M.onEntering,Y=M.onEntered;z=pI.default.createElement(I,{in:M.show,appear:!0,onExit:F,onExiting:q,onExited:this.onHiddenListener,onEnter:R,onEntering:U,onEntered:Y},z)}return y&&(z=pI.default.createElement(Q7e.default,{onRootClose:M.onHide,event:M.rootCloseEvent},z)),pI.default.createElement(K7e.default,{container:i},z)},t}(pI.default.Component);J7e.propTypes=our({},K7e.default.propTypes,X7e.default.propTypes,{show:xf.default.bool,rootClose:xf.default.bool,rootCloseEvent:Q7e.default.propTypes.event,onHide:function(t){var r=xf.default.func;t.rootClose&&(r=r.isRequired);for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return r.apply(void 0,[t].concat(i))},transition:lur.default,onEnter:xf.default.func,onEntering:xf.default.func,onEntered:xf.default.func,onExit:xf.default.func,onExiting:xf.default.func,onExited:xf.default.func});FD.default=J7e;e9e.exports=FD.default});var $9e=C((qen,V9e)=>{"use strict";V9e.exports=e=>encodeURIComponent(e).replace(/[!'()*]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`)});var Y9e=C((zen,Z9e)=>{"use strict";var W9e="%[a-f0-9]{2}",G9e=new RegExp("("+W9e+")|([^%]+?)","gi"),H9e=new RegExp("("+W9e+")+","gi");function IY(e,t){try{return[decodeURIComponent(e.join(""))]}catch(i){}if(e.length===1)return e;t=t||1;var r=e.slice(0,t),n=e.slice(t);return Array.prototype.concat.call([],IY(r),IY(n))}function Dcr(e){try{return decodeURIComponent(e)}catch(n){for(var t=e.match(G9e)||[],r=1;r<t.length;r++)e=IY(t,r).join(""),t=e.match(G9e)||[];return e}}function Ncr(e){for(var t={"%FE%FF":"\uFFFD\uFFFD","%FF%FE":"\uFFFD\uFFFD"},r=H9e.exec(e);r;){try{t[r[0]]=decodeURIComponent(r[0])}catch(f){var n=Dcr(r[0]);n!==r[0]&&(t[r[0]]=n)}r=H9e.exec(e)}t["%C2"]="\uFFFD";for(var i=Object.keys(t),o=0;o<i.length;o++){var u=i[o];e=e.replace(new RegExp(u,"g"),t[u])}return e}Z9e.exports=function(e){if(typeof e!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return Ncr(e)}}});var X9e=C((jen,K9e)=>{"use strict";K9e.exports=(e,t)=>{if(!(typeof e=="string"&&typeof t=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(t==="")return[e];let r=e.indexOf(t);return r===-1?[e]:[e.slice(0,r),e.slice(r+t.length)]}});var J9e=C((Fen,Q9e)=>{"use strict";Q9e.exports=function(e,t){for(var r={},n=Object.keys(e),i=Array.isArray(t),o=0;o<n.length;o++){var u=n[o],f=e[u];(i?t.indexOf(u)!==-1:t(u,f,e))&&(r[u]=f)}return r}});var sze=C(Xs=>{"use strict";var kcr=$9e(),Lcr=Y9e(),tze=X9e(),Rcr=J9e(),qcr=e=>e==null,EY=Symbol("encodeFragmentIdentifier");function zcr(e){switch(e.arrayFormat){case"index":return t=>(r,n)=>{let i=r.length;return n===void 0||e.skipNull&&n===null||e.skipEmptyString&&n===""?r:n===null?[...r,[ao(t,e),"[",i,"]"].join("")]:[...r,[ao(t,e),"[",ao(i,e),"]=",ao(n,e)].join("")]};case"bracket":return t=>(r,n)=>n===void 0||e.skipNull&&n===null||e.skipEmptyString&&n===""?r:n===null?[...r,[ao(t,e),"[]"].join("")]:[...r,[ao(t,e),"[]=",ao(n,e)].join("")];case"colon-list-separator":return t=>(r,n)=>n===void 0||e.skipNull&&n===null||e.skipEmptyString&&n===""?r:n===null?[...r,[ao(t,e),":list="].join("")]:[...r,[ao(t,e),":list=",ao(n,e)].join("")];case"comma":case"separator":case"bracket-separator":{let t=e.arrayFormat==="bracket-separator"?"[]=":"=";return r=>(n,i)=>i===void 0||e.skipNull&&i===null||e.skipEmptyString&&i===""?n:(i=i===null?"":i,n.length===0?[[ao(r,e),t,ao(i,e)].join("")]:[[n,ao(i,e)].join(e.arrayFormatSeparator)])}default:return t=>(r,n)=>n===void 0||e.skipNull&&n===null||e.skipEmptyString&&n===""?r:n===null?[...r,ao(t,e)]:[...r,[ao(t,e),"=",ao(n,e)].join("")]}}function jcr(e){let t;switch(e.arrayFormat){case"index":return(r,n,i)=>{if(t=/\[(\d*)\]$/.exec(r),r=r.replace(/\[\d*\]$/,""),!t){i[r]=n;return}i[r]===void 0&&(i[r]={}),i[r][t[1]]=n};case"bracket":return(r,n,i)=>{if(t=/(\[\])$/.exec(r),r=r.replace(/\[\]$/,""),!t){i[r]=n;return}if(i[r]===void 0){i[r]=[n];return}i[r]=[].concat(i[r],n)};case"colon-list-separator":return(r,n,i)=>{if(t=/(:list)$/.exec(r),r=r.replace(/:list$/,""),!t){i[r]=n;return}if(i[r]===void 0){i[r]=[n];return}i[r]=[].concat(i[r],n)};case"comma":case"separator":return(r,n,i)=>{let o=typeof n=="string"&&n.includes(e.arrayFormatSeparator),u=typeof n=="string"&&!o&&If(n,e).includes(e.arrayFormatSeparator);n=u?If(n,e):n;let f=o||u?n.split(e.arrayFormatSeparator).map(m=>If(m,e)):n===null?n:If(n,e);i[r]=f};case"bracket-separator":return(r,n,i)=>{let o=/(\[\])$/.test(r);if(r=r.replace(/\[\]$/,""),!o){i[r]=n&&If(n,e);return}let u=n===null?[]:n.split(e.arrayFormatSeparator).map(f=>If(f,e));if(i[r]===void 0){i[r]=u;return}i[r]=[].concat(i[r],u)};default:return(r,n,i)=>{if(i[r]===void 0){i[r]=n;return}i[r]=[].concat(i[r],n)}}}function rze(e){if(typeof e!="string"||e.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function ao(e,t){return t.encode?t.strict?kcr(e):encodeURIComponent(e):e}function If(e,t){return t.decode?Lcr(e):e}function nze(e){return Array.isArray(e)?e.sort():typeof e=="object"?nze(Object.keys(e)).sort((t,r)=>Number(t)-Number(r)).map(t=>e[t]):e}function ize(e){let t=e.indexOf("#");return t!==-1&&(e=e.slice(0,t)),e}function Fcr(e){let t="",r=e.indexOf("#");return r!==-1&&(t=e.slice(r)),t}function oze(e){e=ize(e);let t=e.indexOf("?");return t===-1?"":e.slice(t+1)}function eze(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&typeof e=="string"&&e.trim()!==""?e=Number(e):t.parseBooleans&&e!==null&&(e.toLowerCase()==="true"||e.toLowerCase()==="false")&&(e=e.toLowerCase()==="true"),e}function aze(e,t){t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t),rze(t.arrayFormatSeparator);let r=jcr(t),n=Object.create(null);if(typeof e!="string"||(e=e.trim().replace(/^[?#&]/,""),!e))return n;for(let i of e.split("&")){if(i==="")continue;let[o,u]=tze(t.decode?i.replace(/\+/g," "):i,"=");u=u===void 0?null:["comma","separator","bracket-separator"].includes(t.arrayFormat)?u:If(u,t),r(If(o,t),u,n)}for(let i of Object.keys(n)){let o=n[i];if(typeof o=="object"&&o!==null)for(let u of Object.keys(o))o[u]=eze(o[u],t);else n[i]=eze(o,t)}return t.sort===!1?n:(t.sort===!0?Object.keys(n).sort():Object.keys(n).sort(t.sort)).reduce((i,o)=>{let u=n[o];return u&&typeof u=="object"&&!Array.isArray(u)?i[o]=nze(u):i[o]=u,i},Object.create(null))}Xs.extract=oze;Xs.parse=aze;Xs.stringify=(e,t)=>{if(!e)return"";t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t),rze(t.arrayFormatSeparator);let r=u=>t.skipNull&&qcr(e[u])||t.skipEmptyString&&e[u]==="",n=zcr(t),i={};for(let u of Object.keys(e))r(u)||(i[u]=e[u]);let o=Object.keys(i);return t.sort!==!1&&o.sort(t.sort),o.map(u=>{let f=e[u];return f===void 0?"":f===null?ao(u,t):Array.isArray(f)?f.length===0&&t.arrayFormat==="bracket-separator"?ao(u,t)+"[]":f.reduce(n(u),[]).join("&"):ao(u,t)+"="+ao(f,t)}).filter(u=>u.length>0).join("&")};Xs.parseUrl=(e,t)=>{t=Object.assign({decode:!0},t);let[r,n]=tze(e,"#");return Object.assign({url:r.split("?")[0]||"",query:aze(oze(e),t)},t&&t.parseFragmentIdentifier&&n?{fragmentIdentifier:If(n,t)}:{})};Xs.stringifyUrl=(e,t)=>{t=Object.assign({encode:!0,strict:!0,[EY]:!0},t);let r=ize(e.url).split("?")[0]||"",n=Xs.extract(e.url),i=Xs.parse(n,{sort:!1}),o=Object.assign(i,e.query),u=Xs.stringify(o,t);u&&(u=`?${u}`);let f=Fcr(e.url);return e.fragmentIdentifier&&(f=`#${t[EY]?ao(e.fragmentIdentifier,t):e.fragmentIdentifier}`),`${r}${u}${f}`};Xs.pick=(e,t,r)=>{r=Object.assign({parseFragmentIdentifier:!0,[EY]:!1},r);let{url:n,query:i,fragmentIdentifier:o}=Xs.parseUrl(e,r);return Xs.stringifyUrl({url:n,query:Rcr(i,t),fragmentIdentifier:o},r)};Xs.exclude=(e,t,r)=>{let n=Array.isArray(t)?i=>!t.includes(i):(i,o)=>!t(i,o);return Xs.pick(e,n,r)}});var Rze=C((Frn,Ef)=>{function AY(e,t){return Ef.exports=AY=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Ef.exports.__esModule=!0,Ef.exports.default=Ef.exports,AY(e,t)}Ef.exports=AY,Ef.exports.__esModule=!0,Ef.exports.default=Ef.exports});var PY=C((Brn,EI)=>{var dpr=Rze();function hpr(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,dpr(e,t)}EI.exports=hpr,EI.exports.__esModule=!0,EI.exports.default=EI.exports});var DY=C(OY=>{"use strict";Object.defineProperty(OY,"__esModule",{value:!0});function mpr(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function gpr(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t}var vpr=function(){function e(r){this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.before=null}var t=e.prototype;return t.insert=function(n){if(this.ctr%(this.isSpeedy?65e3:1)===0){var i=gpr(this),o;this.tags.length===0?o=this.before:o=this.tags[this.tags.length-1].nextSibling,this.container.insertBefore(i,o),this.tags.push(i)}var u=this.tags[this.tags.length-1];if(this.isSpeedy){var f=mpr(u);try{var m=n.charCodeAt(1)===105&&n.charCodeAt(0)===64;f.insertRule(n,m?0:f.cssRules.length)}catch(y){}}else u.appendChild(document.createTextNode(n));this.ctr++},t.flush=function(){this.tags.forEach(function(n){return n.parentNode.removeChild(n)}),this.tags=[],this.ctr=0},e}();OY.StyleSheet=vpr});var qze=C(NY=>{"use strict";Object.defineProperty(NY,"__esModule",{value:!0});function ypr(e){function t(Xe,lt,yt,Fe,Me){for(var Ue=0,je=0,tt=0,it=0,St,vt,Nt=0,Yt=0,It,Vt=It=St=0,Jt=0,lr=0,Tr=0,ur=0,wr=yt.length,Mr=wr-1,Jr,rr="",Vr="",Kn="",Mi="",li;Jt<wr;){if(vt=yt.charCodeAt(Jt),Jt===Mr&&je+it+tt+Ue!==0&&(je!==0&&(vt=je===47?10:47),it=tt=Ue=0,wr++,Mr++),je+it+tt+Ue===0){if(Jt===Mr&&(0<lr&&(rr=rr.replace(M,"")),0<rr.trim().length)){switch(vt){case 32:case 9:case 59:case 13:case 10:break;default:rr+=yt.charAt(Jt)}vt=59}switch(vt){case 123:for(rr=rr.trim(),St=rr.charCodeAt(0),It=1,ur=++Jt;Jt<wr;){switch(vt=yt.charCodeAt(Jt)){case 123:It++;break;case 125:It--;break;case 47:switch(vt=yt.charCodeAt(Jt+1)){case 42:case 47:e:{for(Vt=Jt+1;Vt<Mr;++Vt)switch(yt.charCodeAt(Vt)){case 47:if(vt===42&&yt.charCodeAt(Vt-1)===42&&Jt+2!==Vt){Jt=Vt+1;break e}break;case 10:if(vt===47){Jt=Vt+1;break e}}Jt=Vt}}break;case 91:vt++;case 40:vt++;case 34:case 39:for(;Jt++<Mr&&yt.charCodeAt(Jt)!==vt;);}if(It===0)break;Jt++}switch(It=yt.substring(ur,Jt),St===0&&(St=(rr=rr.replace(I,"").trim()).charCodeAt(0)),St){case 64:switch(0<lr&&(rr=rr.replace(M,"")),vt=rr.charCodeAt(1),vt){case 100:case 109:case 115:case 45:lr=lt;break;default:lr=at}if(It=t(lt,lr,It,vt,Me+1),ur=It.length,0<Qe&&(lr=r(at,rr,Tr),li=f(3,It,lr,lt,_e,Ne,ur,vt,Me,Fe),rr=lr.join(""),li!==void 0&&(ur=(It=li.trim()).length)===0&&(vt=0,It="")),0<ur)switch(vt){case 115:rr=rr.replace(ce,u);case 100:case 109:case 45:It=rr+"{"+It+"}";break;case 107:rr=rr.replace(U,"$1 $2"),It=rr+"{"+It+"}",It=st===1||st===2&&o("@"+It,3)?"@-webkit-"+It+"@"+It:"@"+It;break;default:It=rr+It,Fe===112&&(It=(Vr+=It,""))}else It="";break;default:It=t(lt,r(lt,rr,Tr),It,Fe,Me+1)}Kn+=It,It=Tr=lr=Vt=St=0,rr="",vt=yt.charCodeAt(++Jt);break;case 125:case 59:if(rr=(0<lr?rr.replace(M,""):rr).trim(),1<(ur=rr.length))switch(Vt===0&&(St=rr.charCodeAt(0),St===45||96<St&&123>St)&&(ur=(rr=rr.replace(" ",":")).length),0<Qe&&(li=f(1,rr,lt,Xe,_e,Ne,Vr.length,Fe,Me,Fe))!==void 0&&(ur=(rr=li.trim()).length)===0&&(rr="\0\0"),St=rr.charCodeAt(0),vt=rr.charCodeAt(1),St){case 0:break;case 64:if(vt===105||vt===99){Mi+=rr+yt.charAt(Jt);break}default:rr.charCodeAt(ur-1)!==58&&(Vr+=i(rr,St,vt,rr.charCodeAt(2)))}Tr=lr=Vt=St=0,rr="",vt=yt.charCodeAt(++Jt)}}switch(vt){case 13:case 10:je===47?je=0:1+St===0&&Fe!==107&&0<rr.length&&(lr=1,rr+="\0"),0<Qe*Ut&&f(0,rr,lt,Xe,_e,Ne,Vr.length,Fe,Me,Fe),Ne=1,_e++;break;case 59:case 125:if(je+it+tt+Ue===0){Ne++;break}default:switch(Ne++,Jr=yt.charAt(Jt),vt){case 9:case 32:if(it+Ue+je===0)switch(Nt){case 44:case 58:case 9:case 32:Jr="";break;default:vt!==32&&(Jr=" ")}break;case 0:Jr="\\0";break;case 12:Jr="\\f";break;case 11:Jr="\\v";break;case 38:it+je+Ue===0&&(lr=Tr=1,Jr="\f"+Jr);break;case 108:if(it+je+Ue+ze===0&&0<Vt)switch(Jt-Vt){case 2:Nt===112&&yt.charCodeAt(Jt-3)===58&&(ze=Nt);case 8:Yt===111&&(ze=Yt)}break;case 58:it+je+Ue===0&&(Vt=Jt);break;case 44:je+tt+it+Ue===0&&(lr=1,Jr+="\r");break;case 34:case 39:je===0&&(it=it===vt?0:it===0?vt:it);break;case 91:it+je+tt===0&&Ue++;break;case 93:it+je+tt===0&&Ue--;break;case 41:it+je+Ue===0&&tt--;break;case 40:if(it+je+Ue===0){if(St===0)switch(2*Nt+3*Yt){case 533:break;default:St=1}tt++}break;case 64:je+tt+it+Ue+Vt+It===0&&(It=1);break;case 42:case 47:if(!(0<it+Ue+tt))switch(je){case 0:switch(2*vt+3*yt.charCodeAt(Jt+1)){case 235:je=47;break;case 220:ur=Jt,je=42}break;case 42:vt===47&&Nt===42&&ur+2!==Jt&&(yt.charCodeAt(ur+2)===33&&(Vr+=yt.substring(ur,Jt+1)),Jr="",je=0)}}je===0&&(rr+=Jr)}Yt=Nt,Nt=vt,Jt++}if(ur=Vr.length,0<ur){if(lr=lt,0<Qe&&(li=f(2,Vr,lr,Xe,_e,Ne,ur,Fe,Me,Fe),li!==void 0&&(Vr=li).length===0))return Mi+Vr+Kn;if(Vr=lr.join(",")+"{"+Vr+"}",st*ze!==0){switch(st!==2||o(Vr,2)||(ze=0),ze){case 111:Vr=Vr.replace(re,":-moz-$1")+Vr;break;case 112:Vr=Vr.replace(Y,"::-webkit-input-$1")+Vr.replace(Y,"::-moz-$1")+Vr.replace(Y,":-ms-input-$1")+Vr}ze=0}}return Mi+Vr+Kn}function r(Xe,lt,yt){var Fe=lt.trim().split(q);lt=Fe;var Me=Fe.length,Ue=Xe.length;switch(Ue){case 0:case 1:var je=0;for(Xe=Ue===0?"":Xe[0]+" ";je<Me;++je)lt[je]=n(Xe,lt[je],yt).trim();break;default:var tt=je=0;for(lt=[];je<Me;++je)for(var it=0;it<Ue;++it)lt[tt++]=n(Xe[it]+" ",Fe[je],yt).trim()}return lt}function n(Xe,lt,yt){var Fe=lt.charCodeAt(0);switch(33>Fe&&(Fe=(lt=lt.trim()).charCodeAt(0)),Fe){case 38:return lt.replace(R,"$1"+Xe.trim());case 58:return Xe.trim()+lt.replace(R,"$1"+Xe.trim());default:if(0<1*yt&&0<lt.indexOf("\f"))return lt.replace(R,(Xe.charCodeAt(0)===58?"":"$1")+Xe.trim())}return Xe+lt}function i(Xe,lt,yt,Fe){var Me=Xe+";",Ue=2*lt+3*yt+4*Fe;if(Ue===944){Xe=Me.indexOf(":",9)+1;var je=Me.substring(Xe,Me.length-1).trim();return je=Me.substring(0,Xe).trim()+je+";",st===1||st===2&&o(je,1)?"-webkit-"+je+je:je}if(st===0||st===2&&!o(Me,1))return Me;switch(Ue){case 1015:return Me.charCodeAt(10)===97?"-webkit-"+Me+Me:Me;case 951:return Me.charCodeAt(3)===116?"-webkit-"+Me+Me:Me;case 963:return Me.charCodeAt(5)===110?"-webkit-"+Me+Me:Me;case 1009:if(Me.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+Me+Me;case 978:return"-webkit-"+Me+"-moz-"+Me+Me;case 1019:case 983:return"-webkit-"+Me+"-moz-"+Me+"-ms-"+Me+Me;case 883:if(Me.charCodeAt(8)===45)return"-webkit-"+Me+Me;if(0<Me.indexOf("image-set(",11))return Me.replace(Ee,"$1-webkit-$2")+Me;break;case 932:if(Me.charCodeAt(4)===45)switch(Me.charCodeAt(5)){case 103:return"-webkit-box-"+Me.replace("-grow","")+"-webkit-"+Me+"-ms-"+Me.replace("grow","positive")+Me;case 115:return"-webkit-"+Me+"-ms-"+Me.replace("shrink","negative")+Me;case 98:return"-webkit-"+Me+"-ms-"+Me.replace("basis","preferred-size")+Me}return"-webkit-"+Me+"-ms-"+Me+Me;case 964:return"-webkit-"+Me+"-ms-flex-"+Me+Me;case 1023:if(Me.charCodeAt(8)!==99)break;return je=Me.substring(Me.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+je+"-webkit-"+Me+"-ms-flex-pack"+je+Me;case 1005:return z.test(Me)?Me.replace(N,":-webkit-")+Me.replace(N,":-moz-")+Me:Me;case 1e3:switch(je=Me.substring(13).trim(),lt=je.indexOf("-")+1,je.charCodeAt(0)+je.charCodeAt(lt)){case 226:je=Me.replace(de,"tb");break;case 232:je=Me.replace(de,"tb-rl");break;case 220:je=Me.replace(de,"lr");break;default:return Me}return"-webkit-"+Me+"-ms-"+je+Me;case 1017:if(Me.indexOf("sticky",9)===-1)break;case 975:switch(lt=(Me=Xe).length-10,je=(Me.charCodeAt(lt)===33?Me.substring(0,lt):Me).substring(Xe.indexOf(":",7)+1).trim(),Ue=je.charCodeAt(0)+(je.charCodeAt(7)|0)){case 203:if(111>je.charCodeAt(8))break;case 115:Me=Me.replace(je,"-webkit-"+je)+";"+Me;break;case 207:case 102:Me=Me.replace(je,"-webkit-"+(102<Ue?"inline-":"")+"box")+";"+Me.replace(je,"-webkit-"+je)+";"+Me.replace(je,"-ms-"+je+"box")+";"+Me}return Me+";";case 938:if(Me.charCodeAt(5)===45)switch(Me.charCodeAt(6)){case 105:return je=Me.replace("-items",""),"-webkit-"+Me+"-webkit-box-"+je+"-ms-flex-"+je+Me;case 115:return"-webkit-"+Me+"-ms-flex-item-"+Me.replace(qe,"")+Me;default:return"-webkit-"+Me+"-ms-flex-line-pack"+Me.replace("align-content","").replace(qe,"")+Me}break;case 973:case 989:if(Me.charCodeAt(3)!==45||Me.charCodeAt(4)===122)break;case 931:case 953:if(Te.test(Xe)===!0)return(je=Xe.substring(Xe.indexOf(":")+1)).charCodeAt(0)===115?i(Xe.replace("stretch","fill-available"),lt,yt,Fe).replace(":fill-available",":stretch"):Me.replace(je,"-webkit-"+je)+Me.replace(je,"-moz-"+je.replace("fill-",""))+Me;break;case 962:if(Me="-webkit-"+Me+(Me.charCodeAt(5)===102?"-ms-"+Me:"")+Me,yt+Fe===211&&Me.charCodeAt(13)===105&&0<Me.indexOf("transform",10))return Me.substring(0,Me.indexOf(";",27)+1).replace(F,"$1-webkit-$2")+Me}return Me}function o(Xe,lt){var yt=Xe.indexOf(lt===1?":":"{"),Fe=Xe.substring(0,lt!==3?yt:10);return yt=Xe.substring(yt+1,Xe.length-1),Dt(lt!==2?Fe:Fe.replace(Re,"$1"),yt,lt)}function u(Xe,lt){var yt=i(lt,lt.charCodeAt(0),lt.charCodeAt(1),lt.charCodeAt(2));return yt!==lt+";"?yt.replace(Se," or ($1)").substring(4):"("+lt+")"}function f(Xe,lt,yt,Fe,Me,Ue,je,tt,it,St){for(var vt=0,Nt=lt,Yt;vt<Qe;++vt)switch(Yt=At[vt].call(w,Xe,Nt,yt,Fe,Me,Ue,je,tt,it,St)){case void 0:case!1:case!0:case null:break;default:Nt=Yt}if(Nt!==lt)return Nt}function m(Xe){switch(Xe){case void 0:case null:Qe=At.length=0;break;default:if(typeof Xe=="function")At[Qe++]=Xe;else if(typeof Xe=="object")for(var lt=0,yt=Xe.length;lt<yt;++lt)m(Xe[lt]);else Ut=!!Xe|0}return m}function y(Xe){return Xe=Xe.prefix,Xe!==void 0&&(Dt=null,Xe?typeof Xe!="function"?st=1:(st=2,Dt=Xe):st=0),y}function w(Xe,lt){var yt=Xe;if(33>yt.charCodeAt(0)&&(yt=yt.trim()),Zt=yt,yt=[Zt],0<Qe){var Fe=f(-1,lt,yt,yt,_e,Ne,0,0,0,0);Fe!==void 0&&typeof Fe=="string"&&(lt=Fe)}var Me=t(at,yt,lt,0,0);return 0<Qe&&(Fe=f(-2,Me,yt,yt,_e,Ne,Me.length,0,0,0),Fe!==void 0&&(Me=Fe)),Zt="",ze=0,Ne=_e=1,Me}var I=/^\0+/g,M=/[\0\r\f]/g,N=/: */g,z=/zoo|gra/,F=/([,: ])(transform)/g,q=/,\r+?/g,R=/([\t\r\n ])*\f?&/g,U=/@(k\w+)\s*(\S*)\s*/,Y=/::(place)/g,re=/:(read-only)/g,de=/[svh]\w+-[tblr]{2}/,ce=/\(\s*(.*)\s*\)/g,Se=/([\s\S]*?);/g,qe=/-self|flex-/g,Re=/[^]*?(:[rp][el]a[\w-]+)[^]*/,Te=/stretch|:\s*\w+\-(?:conte|avail)/,Ee=/([^-])(image-set\()/,Ne=1,_e=1,ze=0,st=1,at=[],At=[],Qe=0,Dt=null,Ut=0,Zt="";return w.use=m,w.set=y,e!==void 0&&y(e),w}NY.default=ypr});var zze=C(kY=>{"use strict";Object.defineProperty(kY,"__esModule",{value:!0});var _pr=function(t){var r=new WeakMap;return function(n){if(r.has(n))return r.get(n);var i=t(n);return r.set(n,i),i}};kY.default=_pr});var qY=C(RY=>{"use strict";Object.defineProperty(RY,"__esModule",{value:!0});function bpr(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var xpr=DY(),wpr=bpr(qze());zze();var LY="/*|*/",Spr=LY+"}";function Ipr(e){e&&pN.current.insert(e+"}")}var pN={current:null},Epr=function(t,r,n,i,o,u,f,m,y,w){switch(t){case 1:{switch(r.charCodeAt(0)){case 64:return pN.current.insert(r+";"),"";case 108:if(r.charCodeAt(2)===98)return""}break}case 2:{if(m===0)return r+LY;break}case 3:switch(m){case 102:case 112:return pN.current.insert(n[0]+r),"";default:return r+(w===0?LY:"")}case-2:r.split(Spr).forEach(Ipr)}},Tpr=function(t){t===void 0&&(t={});var r=t.key||"css",n;t.prefix!==void 0&&(n={prefix:t.prefix});var i=new wpr(n),o={},u;{u=t.container||document.head;var f=document.querySelectorAll("style[data-emotion-"+r+"]");Array.prototype.forEach.call(f,function(M){var N=M.getAttribute("data-emotion-"+r);N.split(" ").forEach(function(z){o[z]=!0}),M.parentNode!==u&&u.appendChild(M)})}var m;if(i.use(t.stylisPlugins)(Epr),m=function(N,z,F,q){var R=z.name;if(pN.current=F,0)var U;i(N,z.styles),q&&(I.inserted[R]=!0)},0)var y,w;var I={key:r,sheet:new xpr.StyleSheet({key:r,container:u,nonce:t.nonce,speedy:t.speedy}),nonce:t.nonce,inserted:o,registered:{},insert:m};return I};RY.default=Tpr});var zY=C(fN=>{"use strict";Object.defineProperty(fN,"__esModule",{value:!0});var Mpr=!0;function Cpr(e,t,r){var n="";return r.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]):n+=i+" "}),n}var Apr=function(t,r,n){var i=t.key+"-"+r.name;if((n===!1||Mpr===!1&&t.compat!==void 0)&&t.registered[i]===void 0&&(t.registered[i]=r.styles),t.inserted[r.name]===void 0){var o=r;do{var u=t.insert("."+i,o,t.sheet,!0);o=o.next}while(o!==void 0)}};fN.getRegisteredStyles=Cpr;fN.insertStyles=Apr});var jze=C(jY=>{"use strict";Object.defineProperty(jY,"__esModule",{value:!0});function Ppr(e){for(var t=0,r,n=0,i=e.length;i>=4;++n,i-=4)r=e.charCodeAt(n)&255|(e.charCodeAt(++n)&255)<<8|(e.charCodeAt(++n)&255)<<16|(e.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,t=(r&65535)*1540483477+((r>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(n+2)&255)<<16;case 2:t^=(e.charCodeAt(n+1)&255)<<8;case 1:t^=e.charCodeAt(n)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}jY.default=Ppr});var Fze=C(FY=>{"use strict";Object.defineProperty(FY,"__esModule",{value:!0});var Opr={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};FY.default=Opr});var Bze=C(BY=>{"use strict";Object.defineProperty(BY,"__esModule",{value:!0});function Dpr(e){var t={};return function(r){return t[r]===void 0&&(t[r]=e(r)),t[r]}}BY.default=Dpr});var dN=C($Y=>{"use strict";Object.defineProperty($Y,"__esModule",{value:!0});function VY(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var Npr=VY(jze()),kpr=VY(Fze()),Lpr=VY(Bze()),Rpr=/[A-Z]|^ms/g,qpr=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Gze=function(t){return t.charCodeAt(1)===45},Uze=function(t){return t!=null&&typeof t!="boolean"},UY=Lpr(function(e){return Gze(e)?e:e.replace(Rpr,"-$&").toLowerCase()}),Vze=function(t,r){switch(t){case"animation":case"animationName":if(typeof r=="string")return r.replace(qpr,function(n,i,o){return np={name:i,styles:o,next:np},i})}return kpr[t]!==1&&!Gze(t)&&typeof r=="number"&&r!==0?r+"px":r};function TI(e,t,r,n){if(r==null)return"";if(r.__emotion_styles!==void 0)return r;switch(typeof r){case"boolean":return"";case"object":{if(r.anim===1)return np={name:r.name,styles:r.styles,next:np},r.name;if(r.styles!==void 0){var i=r.next;if(i!==void 0)for(;i!==void 0;)np={name:i.name,styles:i.styles,next:np},i=i.next;var o=r.styles+";";return o}return zpr(e,t,r)}case"function":{if(e!==void 0){var u=np,f=r(e);return np=u,TI(e,t,f,n)}break}case"string":if(0)var m,y;break}if(t==null)return r;var w=t[r];return w!==void 0&&!n?w:r}function zpr(e,t,r){var n="";if(Array.isArray(r))for(var i=0;i<r.length;i++)n+=TI(e,t,r[i],!1);else for(var o in r){var u=r[o];if(typeof u!="object")t!=null&&t[u]!==void 0?n+=o+"{"+t[u]+"}":Uze(u)&&(n+=UY(o)+":"+Vze(o,u)+";");else if(Array.isArray(u)&&typeof u[0]=="string"&&(t==null||t[u[0]]===void 0))for(var f=0;f<u.length;f++)Uze(u[f])&&(n+=UY(o)+":"+Vze(o,u[f])+";");else{var m=TI(e,t,u,!1);switch(o){case"animation":case"animationName":{n+=UY(o)+":"+m+";";break}default:n+=o+"{"+m+"}"}}}return n}var $ze=/label:\s*([^\s;\n{]+)\s*;/g,np,jpr=function(t,r,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var i=!0,o="";np=void 0;var u=t[0];u==null||u.raw===void 0?(i=!1,o+=TI(n,r,u,!1)):o+=u[0];for(var f=1;f<t.length;f++)o+=TI(n,r,t[f],o.charCodeAt(o.length-1)===46),i&&(o+=u[f]);var m;$ze.lastIndex=0;for(var y="",w;(w=$ze.exec(o))!==null;)y+="-"+w[1];var I=Npr(o)+y;return{name:I,styles:o,next:np}};$Y.serializeStyles=jpr});var Xze=C(rv=>{"use strict";PY();var Tf=He(),Fpr=qY(),Hze=zY(),Bpr=dN();function Upr(e){return e&&e.__esModule?e:{default:e}}var Vpr=Upr(Fpr),HY=Object.prototype.hasOwnProperty,Zze=Tf.createContext(typeof HTMLElement!="undefined"?Vpr.default():null),Yze=Tf.createContext({}),$pr=Zze.Provider,Kze=function(t){var r=function(i,o){return Tf.createElement(Zze.Consumer,null,function(u){return t(i,u,o)})};return Tf.forwardRef(r)},GY="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Gpr=function(t,r){var n={};for(var i in r)HY.call(r,i)&&(n[i]=r[i]);if(n[GY]=t,0){var o;if(o.stack)var u}return n},Hpr=function(){return null},Wze=function(t,r,n,i){var o=n===null?r.css:r.css(n);typeof o=="string"&&t.registered[o]!==void 0&&(o=t.registered[o]);var u=r[GY],f=[o],m="";typeof r.className=="string"?m=Hze.getRegisteredStyles(t.registered,f,r.className):r.className!=null&&(m=r.className+" ");var y=Bpr.serializeStyles(f);if(0)var w;var I=Hze.insertStyles(t,y,typeof u=="string");m+=t.key+"-"+y.name;var M={};for(var N in r)HY.call(r,N)&&N!=="css"&&N!==GY&&(M[N]=r[N]);M.ref=i,M.className=m;var z=Tf.createElement(u,M),F=Tf.createElement(Hpr,null);return Tf.createElement(Tf.Fragment,null,F,z)},Wpr=Kze(function(e,t,r){return typeof e.css=="function"?Tf.createElement(Yze.Consumer,null,function(n){return Wze(t,e,n,r)}):Wze(t,e,null,r)});rv.CacheProvider=$pr;rv.Emotion=Wpr;rv.ThemeContext=Yze;rv.createEmotionProps=Gpr;rv.hasOwnProperty=HY;rv.withEmotionCache=Kze});var Qze=C(WY=>{"use strict";Object.defineProperty(WY,"__esModule",{value:!0});var Zpr=dN();function Ypr(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Zpr.serializeStyles(t)}WY.default=Ypr});var nje=C(rc=>{"use strict";Object.defineProperty(rc,"__esModule",{value:!0});var Kpr=PY(),ip=He();qY();var op=Xze(),YY=zY(),ZY=dN(),Xpr=DY(),Qpr=Qze();function eje(e){return e&&e.__esModule?e:{default:e}}var Jpr=eje(Kpr),tje=eje(Qpr),rje=function(t,r){var n=arguments;if(r==null||!op.hasOwnProperty.call(r,"css"))return ip.createElement.apply(void 0,n);var i=n.length,o=new Array(i);o[0]=op.Emotion,o[1]=op.createEmotionProps(t,r);for(var u=2;u<i;u++)o[u]=n[u];return ip.createElement.apply(null,o)},efr=op.withEmotionCache(function(e,t){var r=e.styles;if(typeof r=="function")return ip.createElement(op.ThemeContext.Consumer,null,function(i){var o=ZY.serializeStyles([r(i)]);return ip.createElement(Jze,{serialized:o,cache:t})});var n=ZY.serializeStyles([r]);return ip.createElement(Jze,{serialized:n,cache:t})}),Jze=function(e){Jpr.default(t,e);function t(n,i,o){return e.call(this,n,i,o)||this}var r=t.prototype;return r.componentDidMount=function(){this.sheet=new Xpr.StyleSheet({key:this.props.cache.key+"-global",nonce:this.props.cache.sheet.nonce,container:this.props.cache.sheet.container});var i=document.querySelector("style[data-emotion-"+this.props.cache.key+"=\""+this.props.serialized.name+"\"]");i!==null&&this.sheet.tags.push(i),this.props.cache.sheet.tags.length&&(this.sheet.before=this.props.cache.sheet.tags[0]),this.insertStyles()},r.componentDidUpdate=function(i){i.serialized.name!==this.props.serialized.name&&this.insertStyles()},r.insertStyles=function(){if(this.props.serialized.next!==void 0&&YY.insertStyles(this.props.cache,this.props.serialized.next,!0),this.sheet.tags.length){var i=this.sheet.tags[this.sheet.tags.length-1].nextElementSibling;this.sheet.before=i,this.sheet.flush()}this.props.cache.insert("",this.props.serialized,this.sheet,!1)},r.componentWillUnmount=function(){this.sheet.flush()},r.render=function(){return null},t}(ip.Component),tfr=function(){var t=tje.default.apply(void 0,arguments),r="animation-"+t.name;return{name:r,styles:"@keyframes "+r+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},rfr=function e(t){for(var r=t.length,n=0,i="";n<r;n++){var o=t[n];if(o!=null){var u=void 0;switch(typeof o){case"boolean":break;case"object":{if(Array.isArray(o))u=e(o);else{u="";for(var f in o)o[f]&&f&&(u&&(u+=" "),u+=f)}break}default:u=o}u&&(i&&(i+=" "),i+=u)}}return i};function nfr(e,t,r){var n=[],i=YY.getRegisteredStyles(e,n,r);return n.length<2?r:i+t(n)}var ifr=function(){return null},ofr=op.withEmotionCache(function(e,t){return ip.createElement(op.ThemeContext.Consumer,null,function(r){var n=!1,i=function(){for(var w=arguments.length,I=new Array(w),M=0;M<w;M++)I[M]=arguments[M];var N=ZY.serializeStyles(I,t.registered);return YY.insertStyles(t,N,!1),t.key+"-"+N.name},o=function(){for(var w=arguments.length,I=new Array(w),M=0;M<w;M++)I[M]=arguments[M];return nfr(t.registered,i,rfr(I))},u={css:i,cx:o,theme:r},f=e.children(u);n=!0;var m=ip.createElement(ifr,null);return ip.createElement(ip.Fragment,null,m,f)})});rc.CacheProvider=op.CacheProvider;rc.ThemeContext=op.ThemeContext;rc.withEmotionCache=op.withEmotionCache;Object.defineProperty(rc,"css",{enumerable:!0,get:function(){return tje.default}});rc.ClassNames=ofr;rc.Global=efr;rc.createElement=rje;rc.jsx=rje;rc.keyframes=tfr});var KY=C(nc=>{"use strict";Object.defineProperty(nc,"__esModule",{value:!0});nc.default=uje;nc.skeletonStyles=nc.skeletonKeyframes=nc.defaultHighlightColor=nc.defaultBaseColor=void 0;var enn=afr(He()),l_=nje();function afr(e){return e&&e.__esModule?e:{default:e}}function ije(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function sfr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ije(r,!0).forEach(function(n){lfr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ije(r).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lfr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oje(){var e=ufr([`
  0% {
    background-position: -200px 0;
  }
  `,`
  100% {
    background-position: calc(200px + 100%) 0;
  }
`]);return oje=function(){return e},e}function ufr(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var hN="#eee";nc.defaultBaseColor=hN;var aje="#f5f5f5";nc.defaultHighlightColor=aje;var sje=function(t,r){return(0,l_.keyframes)(oje(),r>0?"".concat(Math.floor(1/(t+r)*t*100),`% {
    background-position: calc(200px + 100%) 0;
  }`):void 0)};nc.skeletonKeyframes=sje;var lje=(0,l_.css)("background-color:",hN,";background-image:linear-gradient( 90deg,",hN,",",aje,",",hN," );background-size:200px 100%;background-repeat:no-repeat;border-radius:4px;display:inline-block;line-height:1;width:100%;;label:skeletonStyles;");nc.skeletonStyles=lje;function uje(e){for(var t=e.count,r=e.duration,n=e.width,i=e.wrapper,o=e.height,u=e.circle,f=e.delay,m=e.style,y=e.className,w=[],I=0;I<t;I++){var M={};n!==null&&(M.width=n),o!==null&&(M.height=o),n!==null&&o!==null&&u&&(M.borderRadius="50%");var N="react-loading-skeleton";y&&(N+=" "+y),w.push((0,l_.jsx)("span",{key:I,className:N,css:(0,l_.css)(lje," animation:",sje(r,f)," ",r+f,"s ease-in-out infinite;label:Skeleton;"),style:sfr({},m,{},M)},"\u200C"))}return(0,l_.jsx)("span",null,i?w.map(function(z,F){return(0,l_.jsx)(i,{key:F},z,"\u200C")}):w)}uje.defaultProps={count:1,duration:1.2,width:null,wrapper:null,height:null,circle:!1,delay:0}});var lFe=C(Wn=>{"use strict";var IK=Symbol.for("react.element"),EK=Symbol.for("react.portal"),PN=Symbol.for("react.fragment"),ON=Symbol.for("react.strict_mode"),DN=Symbol.for("react.profiler"),NN=Symbol.for("react.provider"),kN=Symbol.for("react.context"),Nfr=Symbol.for("react.server_context"),LN=Symbol.for("react.forward_ref"),RN=Symbol.for("react.suspense"),qN=Symbol.for("react.suspense_list"),zN=Symbol.for("react.memo"),jN=Symbol.for("react.lazy"),kfr=Symbol.for("react.offscreen"),sFe;sFe=Symbol.for("react.module.reference");function pu(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case IK:switch(e=e.type,e){case PN:case DN:case ON:case RN:case qN:return e;default:switch(e=e&&e.$$typeof,e){case Nfr:case kN:case LN:case jN:case zN:case NN:return e;default:return t}}case EK:return t}}}Wn.ContextConsumer=kN;Wn.ContextProvider=NN;Wn.Element=IK;Wn.ForwardRef=LN;Wn.Fragment=PN;Wn.Lazy=jN;Wn.Memo=zN;Wn.Portal=EK;Wn.Profiler=DN;Wn.StrictMode=ON;Wn.Suspense=RN;Wn.SuspenseList=qN;Wn.isAsyncMode=function(){return!1};Wn.isConcurrentMode=function(){return!1};Wn.isContextConsumer=function(e){return pu(e)===kN};Wn.isContextProvider=function(e){return pu(e)===NN};Wn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===IK};Wn.isForwardRef=function(e){return pu(e)===LN};Wn.isFragment=function(e){return pu(e)===PN};Wn.isLazy=function(e){return pu(e)===jN};Wn.isMemo=function(e){return pu(e)===zN};Wn.isPortal=function(e){return pu(e)===EK};Wn.isProfiler=function(e){return pu(e)===DN};Wn.isStrictMode=function(e){return pu(e)===ON};Wn.isSuspense=function(e){return pu(e)===RN};Wn.isSuspenseList=function(e){return pu(e)===qN};Wn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===PN||e===DN||e===ON||e===RN||e===qN||e===kfr||typeof e=="object"&&e!==null&&(e.$$typeof===jN||e.$$typeof===zN||e.$$typeof===NN||e.$$typeof===kN||e.$$typeof===LN||e.$$typeof===sFe||e.getModuleId!==void 0)};Wn.typeOf=pu});var cFe=C((Kan,uFe)=>{"use strict";uFe.exports=lFe()});var fUe=C(ai=>{"use strict";var wk=60103,Sk=60106,YI=60107,KI=60108,XI=60114,QI=60109,JI=60110,eE=60112,tE=60113,fX=60120,rE=60115,nE=60116,sUe=60121,lUe=60122,uUe=60117,cUe=60129,pUe=60131;typeof Symbol=="function"&&Symbol.for&&(Ko=Symbol.for,wk=Ko("react.element"),Sk=Ko("react.portal"),YI=Ko("react.fragment"),KI=Ko("react.strict_mode"),XI=Ko("react.profiler"),QI=Ko("react.provider"),JI=Ko("react.context"),eE=Ko("react.forward_ref"),tE=Ko("react.suspense"),fX=Ko("react.suspense_list"),rE=Ko("react.memo"),nE=Ko("react.lazy"),sUe=Ko("react.block"),lUe=Ko("react.server.block"),uUe=Ko("react.fundamental"),cUe=Ko("react.debug_trace_mode"),pUe=Ko("react.legacy_hidden"));var Ko;function sc(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case wk:switch(e=e.type,e){case YI:case XI:case KI:case tE:case fX:return e;default:switch(e=e&&e.$$typeof,e){case JI:case eE:case nE:case rE:case QI:return e;default:return t}}case Sk:return t}}}var ahr=QI,shr=wk,lhr=eE,uhr=YI,chr=nE,phr=rE,fhr=Sk,dhr=XI,hhr=KI,mhr=tE;ai.ContextConsumer=JI;ai.ContextProvider=ahr;ai.Element=shr;ai.ForwardRef=lhr;ai.Fragment=uhr;ai.Lazy=chr;ai.Memo=phr;ai.Portal=fhr;ai.Profiler=dhr;ai.StrictMode=hhr;ai.Suspense=mhr;ai.isAsyncMode=function(){return!1};ai.isConcurrentMode=function(){return!1};ai.isContextConsumer=function(e){return sc(e)===JI};ai.isContextProvider=function(e){return sc(e)===QI};ai.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===wk};ai.isForwardRef=function(e){return sc(e)===eE};ai.isFragment=function(e){return sc(e)===YI};ai.isLazy=function(e){return sc(e)===nE};ai.isMemo=function(e){return sc(e)===rE};ai.isPortal=function(e){return sc(e)===Sk};ai.isProfiler=function(e){return sc(e)===XI};ai.isStrictMode=function(e){return sc(e)===KI};ai.isSuspense=function(e){return sc(e)===tE};ai.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===YI||e===XI||e===cUe||e===KI||e===tE||e===fX||e===pUe||typeof e=="object"&&e!==null&&(e.$$typeof===nE||e.$$typeof===rE||e.$$typeof===QI||e.$$typeof===JI||e.$$typeof===eE||e.$$typeof===uUe||e.$$typeof===sUe||e[0]===lUe)};ai.typeOf=sc});var hUe=C((bfn,dUe)=>{"use strict";dUe.exports=fUe()});var GVe=C((jmn,$Ve)=>{"use strict";$Ve.exports=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,i,o;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(i=n;i--!==0;)if(!e(t[i],r[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(o=Object.keys(t),n=o.length,n!==Object.keys(r).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(r,o[i]))return!1;for(i=n;i--!==0;){var u=o[i];if(!e(t[u],r[u]))return!1}return!0}return t!==t&&r!==r}});var smr={};KGe(smr,{SettingsProvider:()=>omr,renderMosaicMapApp:()=>amr});var i$e=se(He(),1),o$e=se(Gi(),1),svn=se(B5e(),1);var Is=se(He(),1);var Fa=se(He()),o4e=se(Gi());function TGt(e){return!!e&&typeof e.then=="function"}var io=TGt;function MGt(e,t){if(e!=null)return e;throw new Error(t!=null?t:"Got unexpected null or undefined")}var Fn=MGt,S5=class{},CGt=new S5,Z$={valueMaybe(){},valueOrThrow(){throw new Error(`Loadable expected value, but in "${this.state}" state`)},errorMaybe(){},errorOrThrow(){throw new Error(`Loadable expected error, but in "${this.state}" state`)},promiseMaybe(){},promiseOrThrow(){throw new Error(`Loadable expected promise, but in "${this.state}" state`)},is(e){return e.state===this.state&&e.contents===this.contents},map(e){if(this.state==="hasError")return this;if(this.state==="hasValue")try{let r=e(this.contents);return io(r)?t1(r.then(n=>({__value:n}))):Y$(r)}catch(r){return io(r)?t1(r.next(()=>e(this.contents))):K$(r)}if(this.state==="loading")return t1(this.contents.then(r=>({__value:e(r.__value)})).catch(r=>{if(io(r))return r.then(()=>e(this.contents));throw r}));throw new Error("Invalid Loadable state")}};function Y$(e){return Object.freeze(gr(nt({state:"hasValue",contents:e},Z$),{getValue(){return this.contents},toPromise(){return Promise.resolve(this.contents)},valueMaybe(){return this.contents},valueOrThrow(){return this.contents}}))}function K$(e){return Object.freeze(gr(nt({state:"hasError",contents:e},Z$),{getValue(){throw this.contents},toPromise(){return Promise.reject(this.contents)},errorMaybe(){return this.contents},errorOrThrow(){return this.contents}}))}function t1(e){return Object.freeze(gr(nt({state:"loading",contents:e},Z$),{getValue(){throw this.contents.then(({__value:t})=>t)},toPromise(){return this.contents.then(({__value:t})=>t)},promiseMaybe(){return this.contents.then(({__value:t})=>t)},promiseOrThrow(){return this.contents.then(({__value:t})=>t)}}))}function AGt(){return t1(new Promise(()=>{}))}function PGt(e){return e.every(t=>t.state==="hasValue")?Y$(e.map(t=>t.contents)):e.some(t=>t.state==="hasError")?K$(Fn(e.find(t=>t.state==="hasError"),"Invalid loadable passed to loadableAll").contents):t1(Promise.all(e.map(t=>t.contents)).then(t=>({__value:t})))}var nS={loadableWithValue:Y$,loadableWithError:K$,loadableWithPromise:t1,loadableLoading:AGt,loadableAll:PGt,Canceled:S5,CANCELED:CGt},C$,a4e=(C$=Fa.default.useMutableSource)!==null&&C$!==void 0?C$:Fa.default.unstable_useMutableSource;function OGt(){return a4e&&!(typeof window!="undefined"&&window.$disableRecoilValueMutableSource_TEMP_HACK_DO_NOT_USE)}var s4e={mutableSourceExists:OGt,useMutableSource:a4e},{mutableSourceExists:DGt}=s4e,X$=new Map().set("recoil_hamt_2020",!0).set("recoil_memory_managament_2020",!0).set("recoil_suppress_rerender_in_callback",!0);function Q$(e){var t;return e==="recoil_early_rendering_2021"&&!DGt()?!1:(t=X$.get(e))!==null&&t!==void 0?t:!1}Q$.setPass=e=>{X$.set(e,!0)};Q$.setFail=e=>{X$.set(e,!1)};var ri=Q$;function NGt(e,t,{error:r}={}){return null}var kGt=NGt,Vc=kGt;function LGt(e,t){let r=new Set(e);return r.add(t),r}function RGt(e,t){let r=new Set(e);return r.delete(t),r}function qGt(e,t,r){let n=new Map(e);return n.set(t,r),n}function zGt(e,t,r){let n=new Map(e);return n.set(t,r(n.get(t))),n}function jGt(e,t){let r=new Map(e);return r.delete(t),r}function FGt(e,t){let r=new Map(e);return t.forEach(n=>r.delete(n)),r}var l4e={setByAddingToSet:LGt,setByDeletingFromSet:RGt,mapBySettingInMap:qGt,mapByUpdatingInMap:zGt,mapByDeletingFromMap:jGt,mapByDeletingMultipleFromMap:FGt};function*BGt(e,t){let r=0;for(let n of e)t(n,r++)&&(yield n)}var u4e=BGt;function UGt(e,t){return function*(){let r=0;for(let n of e)yield t(n,r++)}()}var c4e=UGt;function VGt(e,...t){}var $Gt=VGt,J$=$Gt;function Sn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var eS=class{constructor(t){Sn(this,"key",void 0),this.key=t}},I5=class extends eS{},E5=class extends eS{};function GGt(e){return e instanceof I5||e instanceof E5}var R5={AbstractRecoilValue:eS,RecoilState:I5,RecoilValueReadOnly:E5,isRecoilValue:GGt},HGt=R5.AbstractRecoilValue,WGt=R5.RecoilState,ZGt=R5.RecoilValueReadOnly,YGt=R5.isRecoilValue,hh=Object.freeze({__proto__:null,AbstractRecoilValue:HGt,RecoilState:WGt,RecoilValueReadOnly:ZGt,isRecoilValue:YGt}),T5=class{},KGt=new T5,D$=class extends Error{constructor(t){super(`Tried to set the value of Recoil selector ${t} using an updater function, but it is an async selector in a pending or error state; this is not supported.`)}},Tg=new Map,eG=new Map;function XGt(e){return c4e(e,t=>Fn(eG.get(t)))}function QGt(e){if(Tg.has(e.key)){let r=`Duplicate atom key "${e.key}". This is a FATAL ERROR in
      production. But it is safe to ignore this warning if it occurred because of
      hot module replacement.`;console.warn(r)}Tg.set(e.key,e);let t=e.set==null?new hh.RecoilValueReadOnly(e.key):new hh.RecoilState(e.key);return eG.set(e.key,t),t}var M5=class extends Error{};function JGt(e){let t=Tg.get(e);if(t==null)throw new M5(`Missing definition for RecoilValue: "${e}""`);return t}function eHt(e){return Tg.get(e)}var C5=new Map;function tHt(e){var t;if(!ri("recoil_memory_managament_2020"))return;let r=Tg.get(e);if(!(r==null||(t=r.shouldDeleteConfigOnRelease)===null||t===void 0)&&t.call(r)){var n;Tg.delete(e),(n=p4e(e))===null||n===void 0||n(),C5.delete(e)}}function rHt(e,t){ri("recoil_memory_managament_2020")&&(t===void 0?C5.delete(e):C5.set(e,t))}function p4e(e){return C5.get(e)}var tu={nodes:Tg,recoilValues:eG,registerNode:QGt,getNode:JGt,getNodeMaybe:eHt,deleteNodeConfigIfPossible:tHt,setConfigDeletionHandler:rHt,getConfigDeletionHandler:p4e,recoilValuesForKeys:XGt,NodeMissingError:M5,DefaultValue:T5,DEFAULT_VALUE:KGt,RecoilValueNotReady:D$},A5=class{};function nHt(){return new A5}var q5={RetentionZone:A5,retentionZone:nHt},{setByAddingToSet:iHt}=l4e,{getNode:z5,getNodeMaybe:oHt,recoilValuesForKeys:U5e}=tu,{RetentionZone:V5e}=q5,aHt=Object.freeze(new Set),N$=class extends Error{};function sHt(e,t,r){if(!ri("recoil_memory_managament_2020"))return()=>{};let{nodesRetainedByZone:n}=e.getState().retention;function i(o){let u=n.get(o);u||n.set(o,u=new Set),u.add(t)}if(r instanceof V5e)i(r);else if(Array.isArray(r))for(let o of r)i(o);return()=>{if(!ri("recoil_memory_managament_2020"))return;let o=e.getState().retention.nodesRetainedByZone;function u(f){let m=o.get(f);m&&m.delete(t),m&&m.size===0&&o.delete(f)}if(r instanceof V5e)u(r);else if(Array.isArray(r))for(let f of r)u(f)}}function tG(e,t,r,n){let i=e.getState();if(i.nodeCleanupFunctions.has(r))return;let o=z5(r),u=sHt(e,r,o.retainedBy),f=o.init(e,t,n);i.nodeCleanupFunctions.set(r,()=>{f(),u()})}function lHt(e,t){var r;let n=e.getState();(r=n.nodeCleanupFunctions.get(t))===null||r===void 0||r(),n.nodeCleanupFunctions.delete(t)}function uHt(e,t,r){return tG(e,t,r,"get"),z5(r).get(e,t)}function f4e(e,t,r){return z5(r).peek(e,t)}function cHt(e,t,r){var n;let i=oHt(t);return i==null||(n=i.invalidate)===null||n===void 0||n.call(i,e),gr(nt({},e),{atomValues:e.atomValues.clone().delete(t),nonvalidatedAtoms:e.nonvalidatedAtoms.clone().set(t,r),dirtyAtoms:iHt(e.dirtyAtoms,t)})}function pHt(e,t,r,n){let i=z5(r);if(i.set==null)throw new N$(`Attempt to set read-only RecoilValue: ${r}`);let o=i.set;return tG(e,t,r,"set"),o(e,t,n)}function fHt(e,t,r){var n,i,o;let u=e.getState(),f=e.getGraph(t.version),m=u.knownAtoms.has(r)?"atom":u.knownSelectors.has(r)?"selector":void 0,y=u4e(d4e(e,t,new Set([r])),w=>w!==r);return{loadable:f4e(e,t,r),isActive:u.knownAtoms.has(r)||u.knownSelectors.has(r),isSet:m==="selector"?!1:t.atomValues.has(r),isModified:t.dirtyAtoms.has(r),type:m,deps:U5e((n=f.nodeDeps.get(r))!==null&&n!==void 0?n:[]),subscribers:{nodes:U5e(y),components:c4e((i=(o=u.nodeToComponentSubscriptions.get(r))===null||o===void 0?void 0:o.values())!==null&&i!==void 0?i:[],([w])=>({name:w}))}}}function d4e(e,t,r){let n=new Set,i=Array.from(r),o=e.getGraph(t.version);for(let f=i.pop();f;f=i.pop()){var u;n.add(f);let m=(u=o.nodeToNodeSubscriptions.get(f))!==null&&u!==void 0?u:aHt;for(let y of m)n.has(y)||i.push(y)}return n}var o1={getNodeLoadable:uHt,peekNodeLoadable:f4e,setNodeValue:pHt,cleanUpNode:lHt,setUnvalidatedAtomValue_DEPRECATED:cHt,peekNodeInfo:fHt,getDownstreamNodes:d4e,initializeNodeIfNewToStore:tG},{CANCELED:dHt}=nS,{getDownstreamNodes:hHt,getNodeLoadable:h4e,setNodeValue:mHt}=o1,{getNodeMaybe:m4e}=tu,{DefaultValue:rG,RecoilValueNotReady:gHt}=tu,{AbstractRecoilValue:vHt,RecoilState:yHt,RecoilValueReadOnly:_Ht,isRecoilValue:bHt}=hh;function xHt(e,{key:t},r=e.getState().currentTree){var n,i;let o=e.getState();r.version===o.currentTree.version||r.version===((n=o.nextTree)===null||n===void 0?void 0:n.version)||r.version===((i=o.previousTree)===null||i===void 0?void 0:i.version)||Vc("Tried to read from a discarded tree");let u=h4e(e,r,t);return u.state==="loading"&&u.contents.catch(()=>dHt),u}function wHt(e,t){let r=e.clone();return t.forEach((n,i)=>{n.state==="hasValue"&&n.contents instanceof rG?r.delete(i):r.set(i,n)}),r}function SHt(e,t,{key:r},n){if(typeof n=="function"){let i=h4e(e,t,r);if(i.state==="loading")throw new gHt(r);if(i.state==="hasError")throw i.contents;return n(i.contents)}else return n}function IHt(e,t,r){if(r.type==="set"){let{recoilValue:i,valueOrUpdater:o}=r,u=SHt(e,t,i,o),f=mHt(e,t,i.key,u);for(let[m,y]of f.entries())k$(t,m,y)}else if(r.type==="setLoadable"){let{recoilValue:{key:i},loadable:o}=r;k$(t,i,o)}else if(r.type==="markModified"){let{recoilValue:{key:i}}=r;t.dirtyAtoms.add(i)}else if(r.type==="setUnvalidated"){var n;let{recoilValue:{key:i},unvalidatedValue:o}=r,u=m4e(i);u==null||(n=u.invalidate)===null||n===void 0||n.call(u,t),t.atomValues.delete(i),t.nonvalidatedAtoms.set(i,o),t.dirtyAtoms.add(i)}else Vc(`Unknown action ${r.type}`)}function k$(e,t,r){r.state==="hasValue"&&r.contents instanceof rG?e.atomValues.delete(t):e.atomValues.set(t,r),e.dirtyAtoms.add(t),e.nonvalidatedAtoms.delete(t)}function g4e(e,t){e.replaceState(r=>{let n=v4e(r);for(let i of t)IHt(e,n,i);return L$(e,n),n})}function j5(e,t){if(Q2.length){let r=Q2[Q2.length-1],n=r.get(e);n||r.set(e,n=[]),n.push(t)}else g4e(e,[t])}var Q2=[];function EHt(){let e=new Map;return Q2.push(e),()=>{for(let[r,n]of e)g4e(r,n);Q2.pop()!==e&&Vc("Incorrect order of batch popping")}}function v4e(e){return gr(nt({},e),{atomValues:e.atomValues.clone(),nonvalidatedAtoms:e.nonvalidatedAtoms.clone(),dirtyAtoms:new Set(e.dirtyAtoms)})}function L$(e,t){let r=hHt(e,t,t.dirtyAtoms);for(let o of r){var n,i;(n=m4e(o))===null||n===void 0||(i=n.invalidate)===null||i===void 0||i.call(n,t)}}function y4e(e,t,r){j5(e,{type:"set",recoilValue:t,valueOrUpdater:r})}function THt(e,t,r){if(r instanceof rG)return y4e(e,t,r);j5(e,{type:"setLoadable",recoilValue:t,loadable:r})}function MHt(e,t){j5(e,{type:"markModified",recoilValue:t})}function CHt(e,t,r){j5(e,{type:"setUnvalidated",recoilValue:t,unvalidatedValue:r})}var AHt=0;function PHt(e,{key:t},r,n=null){let i=AHt++,o=e.getState();if(o.nodeToComponentSubscriptions.has(t)||o.nodeToComponentSubscriptions.set(t,new Map),Fn(o.nodeToComponentSubscriptions.get(t)).set(i,[n!=null?n:"<not captured>",r]),ri("recoil_early_rendering_2021")){let u=e.getState().nextTree;u&&u.dirtyAtoms.has(t)&&r(u)}return{release:()=>{let u=e.getState(),f=u.nodeToComponentSubscriptions.get(t);if(f===void 0||!f.has(i)){Vc(`Subscription missing at release time for atom ${t}. This is a bug in Recoil.`);return}f.delete(i),f.size===0&&u.nodeToComponentSubscriptions.delete(t)}}}var Mg={RecoilValueReadOnly:_Ht,AbstractRecoilValue:vHt,RecoilState:yHt,getRecoilValueAsLoadable:xHt,setRecoilValue:y4e,setRecoilValueLoadable:THt,markRecoilValueModified:MHt,setUnvalidatedRecoilValue:CHt,subscribeToRecoilValue:PHt,isRecoilValue:bHt,applyAtomValueWrites:wHt,batchStart:EHt,writeLoadableToTreeState:k$,invalidateDownstreams:L$,copyTreeState:v4e,invalidateDownstreams_FOR_TESTING:L$},{unstable_batchedUpdates:OHt}=o4e.default,DHt={unstable_batchedUpdates:OHt},{unstable_batchedUpdates:NHt}=DHt,kHt={unstable_batchedUpdates:NHt},{batchStart:LHt}=Mg,{unstable_batchedUpdates:RHt}=kHt,nG=RHt,qHt=e=>{nG=e},zHt=()=>nG,jHt=e=>{nG(()=>{let t=()=>{};try{t=LHt(),e()}finally{t()}})},iG={getBatcher:zHt,setBatcher:qHt,batchUpdates:jHt};function FHt(e,t){t()}var BHt={enqueueExecution:FHt};function UHt(e,...t){let r=new Set;e:for(let n of e){for(let i of t)if(i.has(n))continue e;r.add(n)}return r}var P5=UHt;function VHt(e,t){let r=new Map;return e.forEach((n,i)=>{r.set(i,t(n,i))}),r}var O5=VHt;function $Ht(){return{nodeDeps:new Map,nodeToNodeSubscriptions:new Map}}function GHt(e){return{nodeDeps:O5(e.nodeDeps,t=>new Set(t)),nodeToNodeSubscriptions:O5(e.nodeToNodeSubscriptions,t=>new Set(t))}}function A$(e,t,r){let{nodeDeps:n,nodeToNodeSubscriptions:i}=t;e.forEach((o,u)=>{let f=n.get(u);if(f&&r&&f!==r.nodeDeps.get(u))return;n.set(u,new Set(o)),(f==null?o:P5(o,f)).forEach(y=>{i.has(y)||i.set(y,new Set),Fn(i.get(y)).add(u)}),f&&P5(f,o).forEach(w=>{if(!i.has(w))return;let I=Fn(i.get(w));I.delete(u),I.size===0&&i.delete(w)})})}function HHt(e,t,r){var n,i,o,u;let f=t.getState();r===f.currentTree.version||r===((n=f.nextTree)===null||n===void 0?void 0:n.version)||r===((i=f.previousTree)===null||i===void 0?void 0:i.version)||Vc("Tried to save dependencies to a discarded tree");let m=t.getGraph(r);if(A$(e,m),r===((o=f.previousTree)===null||o===void 0?void 0:o.version)){let w=t.getGraph(f.currentTree.version);A$(e,w,m)}if(r===((u=f.previousTree)===null||u===void 0?void 0:u.version)||r===f.currentTree.version){var y;let w=(y=f.nextTree)===null||y===void 0?void 0:y.version;if(w!==void 0){let I=t.getGraph(w);A$(e,I,m)}}}function WHt(e,t){e.forEach((r,n)=>{t.has(n)||t.set(n,new Set);let i=Fn(t.get(n));r.forEach(o=>i.add(o))})}function ZHt(e,t,r){r.has(e)||r.set(e,new Set),Fn(r.get(e)).add(t)}var iS={addToDependencyMap:ZHt,cloneGraph:GHt,graph:$Ht,mergeDepsIntoDependencyMap:WHt,saveDependencyMapToStore:HHt};function YHt(e,t){return t={exports:{}},e(t,t.exports),t.exports}var KHt=YHt(function(e){var t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},r={},n=5,i=Math.pow(2,n),o=i-1,u=i/2,f=i/4,m={},y=function(X){return function(){return X}},w=r.hash=function(H){var X=typeof H=="undefined"?"undefined":t(H);if(X==="number")return H;X!=="string"&&(H+="");for(var ue=0,J=0,Ie=H.length;J<Ie;++J){var ge=H.charCodeAt(J);ue=(ue<<5)-ue+ge|0}return ue},I=function(X){return X-=X>>1&1431655765,X=(X&858993459)+(X>>2&858993459),X=X+(X>>4)&252645135,X+=X>>8,X+=X>>16,X&127},M=function(X,ue){return ue>>>X&o},N=function(X){return 1<<X},z=function(X,ue){return I(X&ue-1)},F=function(X,ue,J,Ie){var ge=Ie;if(!X){var Pe=Ie.length;ge=new Array(Pe);for(var Le=0;Le<Pe;++Le)ge[Le]=Ie[Le]}return ge[ue]=J,ge},q=function(X,ue,J){var Ie=J.length-1,ge=0,Pe=0,Le=J;if(X)ge=Pe=ue;else for(Le=new Array(Ie);ge<ue;)Le[Pe++]=J[ge++];for(++ge;ge<=Ie;)Le[Pe++]=J[ge++];return X&&(Le.length=Ie),Le},R=function(X,ue,J,Ie){var ge=Ie.length;if(X){for(var Pe=ge;Pe>=ue;)Ie[Pe--]=Ie[Pe];return Ie[ue]=J,Ie}for(var Le=0,Ae=0,Ge=new Array(ge+1);Le<ue;)Ge[Ae++]=Ie[Le++];for(Ge[ue]=J;Le<ge;)Ge[++Ae]=Ie[Le++];return Ge},U=1,Y=2,re=3,de=4,ce={__hamt_isEmpty:!0},Se=function(X){return X===ce||X&&X.__hamt_isEmpty},qe=function(X,ue,J,Ie){return{type:U,edit:X,hash:ue,key:J,value:Ie,_modify:Qe}},Re=function(X,ue,J){return{type:Y,edit:X,hash:ue,children:J,_modify:Dt}},Te=function(X,ue,J){return{type:re,edit:X,mask:ue,children:J,_modify:Ut}},Ee=function(X,ue,J){return{type:de,edit:X,size:ue,children:J,_modify:Zt}},Ne=function(X){return X===ce||X.type===U||X.type===Y},_e=function(X,ue,J,Ie,ge){for(var Pe=[],Le=Ie,Ae=0,Ge=0;Le;++Ge)Le&1&&(Pe[Ge]=ge[Ae++]),Le>>>=1;return Pe[ue]=J,Ee(X,Ae+1,Pe)},ze=function(X,ue,J,Ie){for(var ge=new Array(ue-1),Pe=0,Le=0,Ae=0,Ge=Ie.length;Ae<Ge;++Ae)if(Ae!==J){var dt=Ie[Ae];dt&&!Se(dt)&&(ge[Pe++]=dt,Le|=1<<Ae)}return Te(X,Le,ge)},st=function H(X,ue,J,Ie,ge,Pe){if(J===ge)return Re(X,J,[Pe,Ie]);var Le=M(ue,J),Ae=M(ue,ge);return Te(X,N(Le)|N(Ae),Le===Ae?[H(X,ue+n,J,Ie,ge,Pe)]:Le<Ae?[Ie,Pe]:[Pe,Ie])},at=function(X,ue,J,Ie,ge,Pe,Le,Ae){for(var Ge=ge.length,dt=0;dt<Ge;++dt){var xt=ge[dt];if(J(Le,xt.key)){var Ft=xt.value,cr=Pe(Ft);return cr===Ft?ge:cr===m?(--Ae.value,q(X,dt,ge)):F(X,dt,qe(ue,Ie,Le,cr),ge)}}var er=Pe();return er===m?ge:(++Ae.value,F(X,Ge,qe(ue,Ie,Le,er),ge))},At=function(X,ue){return X===ue.edit},Qe=function(X,ue,J,Ie,ge,Pe,Le){if(ue(Pe,this.key)){var Ae=Ie(this.value);return Ae===this.value?this:Ae===m?(--Le.value,ce):At(X,this)?(this.value=Ae,this):qe(X,ge,Pe,Ae)}var Ge=Ie();return Ge===m?this:(++Le.value,st(X,J,this.hash,this,ge,qe(X,ge,Pe,Ge)))},Dt=function(X,ue,J,Ie,ge,Pe,Le){if(ge===this.hash){var Ae=At(X,this),Ge=at(Ae,X,ue,this.hash,this.children,Ie,Pe,Le);return Ge===this.children?this:Ge.length>1?Re(X,this.hash,Ge):Ge[0]}var dt=Ie();return dt===m?this:(++Le.value,st(X,J,this.hash,this,ge,qe(X,ge,Pe,dt)))},Ut=function(X,ue,J,Ie,ge,Pe,Le){var Ae=this.mask,Ge=this.children,dt=M(J,ge),xt=N(dt),Ft=z(Ae,xt),cr=Ae&xt,er=cr?Ge[Ft]:ce,Ke=er._modify(X,ue,J+n,Ie,ge,Pe,Le);if(er===Ke)return this;var sn=At(X,this),kr=Ae,Zr=void 0;if(cr&&Se(Ke)){if(kr&=~xt,!kr)return ce;if(Ge.length<=2&&Ne(Ge[Ft^1]))return Ge[Ft^1];Zr=q(sn,Ft,Ge)}else if(!cr&&!Se(Ke)){if(Ge.length>=u)return _e(X,dt,Ke,Ae,Ge);kr|=xt,Zr=R(sn,Ft,Ke,Ge)}else Zr=F(sn,Ft,Ke,Ge);return sn?(this.mask=kr,this.children=Zr,this):Te(X,kr,Zr)},Zt=function(X,ue,J,Ie,ge,Pe,Le){var Ae=this.size,Ge=this.children,dt=M(J,ge),xt=Ge[dt],Ft=(xt||ce)._modify(X,ue,J+n,Ie,ge,Pe,Le);if(xt===Ft)return this;var cr=At(X,this),er=void 0;if(Se(xt)&&!Se(Ft))++Ae,er=F(cr,dt,Ft,Ge);else if(!Se(xt)&&Se(Ft)){if(--Ae,Ae<=f)return ze(X,Ae,dt,Ge);er=F(cr,dt,ce,Ge)}else er=F(cr,dt,Ft,Ge);return cr?(this.size=Ae,this.children=er,this):Ee(X,Ae,er)};ce._modify=function(H,X,ue,J,Ie,ge,Pe){var Le=J();return Le===m?ce:(++Pe.value,qe(H,Ie,ge,Le))};function Xe(H,X,ue,J,Ie){this._editable=H,this._edit=X,this._config=ue,this._root=J,this._size=Ie}Xe.prototype.setTree=function(H,X){return this._editable?(this._root=H,this._size=X,this):H===this._root?this:new Xe(this._editable,this._edit,this._config,H,X)};var lt=r.tryGetHash=function(H,X,ue,J){for(var Ie=J._root,ge=0,Pe=J._config.keyEq;;)switch(Ie.type){case U:return Pe(ue,Ie.key)?Ie.value:H;case Y:{if(X===Ie.hash)for(var Le=Ie.children,Ae=0,Ge=Le.length;Ae<Ge;++Ae){var dt=Le[Ae];if(Pe(ue,dt.key))return dt.value}return H}case re:{var xt=M(ge,X),Ft=N(xt);if(Ie.mask&Ft){Ie=Ie.children[z(Ie.mask,Ft)],ge+=n;break}return H}case de:{if(Ie=Ie.children[M(ge,X)],Ie){ge+=n;break}return H}default:return H}};Xe.prototype.tryGetHash=function(H,X,ue){return lt(H,X,ue,this)};var yt=r.tryGet=function(H,X,ue){return lt(H,ue._config.hash(X),X,ue)};Xe.prototype.tryGet=function(H,X){return yt(H,X,this)};var Fe=r.getHash=function(H,X,ue){return lt(void 0,H,X,ue)};Xe.prototype.getHash=function(H,X){return Fe(H,X,this)};var Me=r.get=function(H,X){return lt(void 0,X._config.hash(H),H,X)};Xe.prototype.get=function(H,X){return yt(X,H,this)};var Ue=r.has=function(H,X,ue){return lt(m,H,X,ue)!==m};Xe.prototype.hasHash=function(H,X){return Ue(H,X,this)};var je=r.has=function(H,X){return Ue(X._config.hash(H),H,X)};Xe.prototype.has=function(H){return je(H,this)};var tt=function(X,ue){return X===ue};r.make=function(H){return new Xe(0,0,{keyEq:H&&H.keyEq||tt,hash:H&&H.hash||w},ce,0)},r.empty=r.make();var it=r.isEmpty=function(H){return H&&!!Se(H._root)};Xe.prototype.isEmpty=function(){return it(this)};var St=r.modifyHash=function(H,X,ue,J){var Ie={value:J._size},ge=J._root._modify(J._editable?J._edit:NaN,J._config.keyEq,0,H,X,ue,Ie);return J.setTree(ge,Ie.value)};Xe.prototype.modifyHash=function(H,X,ue){return St(ue,H,X,this)};var vt=r.modify=function(H,X,ue){return St(H,ue._config.hash(X),X,ue)};Xe.prototype.modify=function(H,X){return vt(X,H,this)};var Nt=r.setHash=function(H,X,ue,J){return St(y(ue),H,X,J)};Xe.prototype.setHash=function(H,X,ue){return Nt(H,X,ue,this)};var Yt=r.set=function(H,X,ue){return Nt(ue._config.hash(H),H,X,ue)};Xe.prototype.set=function(H,X){return Yt(H,X,this)};var It=y(m),Vt=r.removeHash=function(H,X,ue){return St(It,H,X,ue)};Xe.prototype.removeHash=Xe.prototype.deleteHash=function(H,X){return Vt(H,X,this)};var Jt=r.remove=function(H,X){return Vt(X._config.hash(H),H,X)};Xe.prototype.remove=Xe.prototype.delete=function(H){return Jt(H,this)};var lr=r.beginMutation=function(H){return new Xe(H._editable+1,H._edit+1,H._config,H._root,H._size)};Xe.prototype.beginMutation=function(){return lr(this)};var Tr=r.endMutation=function(H){return H._editable=H._editable&&H._editable-1,H};Xe.prototype.endMutation=function(){return Tr(this)};var ur=r.mutate=function(H,X){var ue=lr(X);return H(ue),Tr(ue)};Xe.prototype.mutate=function(H){return ur(H,this)};var wr=function(X){return X&&Mr(X[0],X[1],X[2],X[3],X[4])},Mr=function(X,ue,J,Ie,ge){for(;J<X;){var Pe=ue[J++];if(Pe&&!Se(Pe))return Jr(Pe,Ie,[X,ue,J,Ie,ge])}return wr(ge)},Jr=function(X,ue,J){switch(X.type){case U:return{value:ue(X),rest:J};case Y:case de:case re:var Ie=X.children;return Mr(Ie.length,Ie,0,ue,J);default:return wr(J)}},rr={done:!0};function Vr(H){this.v=H}Vr.prototype.next=function(){if(!this.v)return rr;var H=this.v;return this.v=wr(H.rest),H},Vr.prototype[Symbol.iterator]=function(){return this};var Kn=function(X,ue){return new Vr(Jr(X._root,ue))},Mi=function(X){return[X.key,X.value]},li=r.entries=function(H){return Kn(H,Mi)};Xe.prototype.entries=Xe.prototype[Symbol.iterator]=function(){return li(this)};var cc=function(X){return X.key},Aa=r.keys=function(H){return Kn(H,cc)};Xe.prototype.keys=function(){return Aa(this)};var ko=function(X){return X.value},Es=r.values=Xe.prototype.values=function(H){return Kn(H,ko)};Xe.prototype.values=function(){return Es(this)};var Be=r.fold=function(H,X,ue){var J=ue._root;if(J.type===U)return H(X,J.value,J.key);for(var Ie=[J.children],ge=void 0;ge=Ie.pop();)for(var Pe=0,Le=ge.length;Pe<Le;){var Ae=ge[Pe++];Ae&&Ae.type&&(Ae.type===U?X=H(X,Ae.value,Ae.key):Ie.push(Ae.children))}return X};Xe.prototype.fold=function(H,X){return Be(H,X,this)};var ne=r.forEach=function(H,X){return Be(function(ue,J,Ie){return H(J,Ie,X)},null,X)};Xe.prototype.forEach=function(H){return ne(H,this)};var ie=r.count=function(H){return H._size};Xe.prototype.count=function(){return ie(this)},Object.defineProperty(Xe.prototype,"size",{get:Xe.prototype.count}),e.exports?e.exports=r:(void 0).hamt=r}),R$=class{constructor(t){Sn(this,"_map",void 0),this._map=new Map(t==null?void 0:t.entries())}keys(){return this._map.keys()}entries(){return this._map.entries()}get(t){return this._map.get(t)}has(t){return this._map.has(t)}set(t,r){return this._map.set(t,r),this}delete(t){return this._map.delete(t),this}clone(){return oG(this)}toMap(){return new Map(this._map)}},q$=class e{constructor(t){if(Sn(this,"_hamt",KHt.empty.beginMutation()),t instanceof e){let r=t._hamt.endMutation();t._hamt=r.beginMutation(),this._hamt=r.beginMutation()}else if(t)for(let[r,n]of t.entries())this._hamt.set(r,n)}keys(){return this._hamt.keys()}entries(){return this._hamt.entries()}get(t){return this._hamt.get(t)}has(t){return this._hamt.has(t)}set(t,r){return this._hamt.set(t,r),this}delete(t){return this._hamt.delete(t),this}clone(){return oG(this)}toMap(){return new Map(this._hamt)}};function oG(e){return ri("recoil_hamt_2020")?new q$(e):new R$(e)}var XHt={persistentMap:oG},QHt=XHt.persistentMap,JHt=Object.freeze({__proto__:null,persistentMap:QHt}),{graph:eWt}=iS,{persistentMap:$5e}=JHt,tWt=0,_4e=()=>tWt++;function b4e(){let e=_4e();return{version:e,stateID:e,transactionMetadata:{},dirtyAtoms:new Set,atomValues:$5e(),nonvalidatedAtoms:$5e()}}function rWt(){let e=b4e();return{currentTree:e,nextTree:null,previousTree:null,commitDepth:0,knownAtoms:new Set,knownSelectors:new Set,transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(e.version,eWt()),versionsUsedByComponent:new Map,retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}}var x4e={makeEmptyTreeState:b4e,makeEmptyStoreState:rWt,getNextTreeStateVersion:_4e};function nWt(...e){let t=new Set;for(let r of e)for(let n of r)t.add(n);return t}var iWt=nWt;function oWt(e,t,r){let n=e.entries(),i=n.next();for(;!i.done;){let o=i.value;if(t.call(r,o[1],o[0],e))return!0;i=n.next()}return!1}var aWt=oWt,{cleanUpNode:sWt}=o1,{deleteNodeConfigIfPossible:lWt,getNode:w4e}=tu,{RetentionZone:S4e}=q5,I4e=new Set;function E4e(e,t){let r=e.getState(),n=r.currentTree;if(r.nextTree){Vc("releaseNodesNowOnCurrentTree should only be called at the end of a batch");return}let i=new Set;for(let u of t)if(u instanceof S4e)for(let f of fWt(r,u))i.add(f);else i.add(u);let o=uWt(e,i);for(let u of o)pWt(e,n,u)}function uWt(e,t){let r=e.getState(),n=r.currentTree,i=e.getGraph(n.version),o=new Set,u=new Set;return f(t),o;function f(m){let y=new Set,w=cWt(e,n,m,o,u);for(let z of w){var I;if(w4e(z).retainedBy==="recoilRoot"){u.add(z);continue}if(((I=r.retention.referenceCounts.get(z))!==null&&I!==void 0?I:0)>0){u.add(z);continue}if(T4e(z).some(q=>r.retention.referenceCounts.get(q))){u.add(z);continue}let F=i.nodeToNodeSubscriptions.get(z);if(F&&aWt(F,q=>u.has(q))){u.add(z);continue}o.add(z),y.add(z)}let M=new Set;for(let z of y)for(let F of(N=i.nodeDeps.get(z))!==null&&N!==void 0?N:I4e){var N;o.has(F)||M.add(F)}M.size&&f(M)}}function cWt(e,t,r,n,i){let o=e.getGraph(t.version),u=[],f=new Set;for(;r.size>0;)m(Fn(r.values().next().value));return u;function m(y){if(n.has(y)||i.has(y)){r.delete(y);return}if(f.has(y))return;let w=o.nodeToNodeSubscriptions.get(y);if(w)for(let I of w)m(I);f.add(y),r.delete(y),u.push(y)}}function pWt(e,t,r){if(!ri("recoil_memory_managament_2020"))return;sWt(e,r);let n=e.getState();n.knownAtoms.delete(r),n.knownSelectors.delete(r),n.nodeTransactionSubscriptions.delete(r),n.retention.referenceCounts.delete(r);let i=T4e(r);for(let m of i){var o;(o=n.retention.nodesRetainedByZone.get(m))===null||o===void 0||o.delete(r)}t.atomValues.delete(r),t.dirtyAtoms.delete(r),t.nonvalidatedAtoms.delete(r);let u=n.graphsByVersion.get(t.version);if(u){let m=u.nodeDeps.get(r);if(m!==void 0){u.nodeDeps.delete(r);for(let y of m){var f;(f=u.nodeToNodeSubscriptions.get(y))===null||f===void 0||f.delete(r)}}u.nodeToNodeSubscriptions.delete(r)}lWt(r)}function fWt(e,t){var r;return(r=e.retention.nodesRetainedByZone.get(t))!==null&&r!==void 0?r:I4e}function T4e(e){let t=w4e(e).retainedBy;return t===void 0||t==="components"||t==="recoilRoot"?[]:t instanceof S4e?[t]:t}function dWt(e,t){let r=e.getState();r.nextTree?r.retention.retainablesToCheckForRelease.add(t):E4e(e,new Set([t]))}function hWt(e,t,r){var n;if(!ri("recoil_memory_managament_2020"))return;let i=e.getState().retention.referenceCounts,o=((n=i.get(t))!==null&&n!==void 0?n:0)+r;o===0?M4e(e,t):i.set(t,o)}function M4e(e,t){if(!ri("recoil_memory_managament_2020"))return;e.getState().retention.referenceCounts.delete(t),dWt(e,t)}function mWt(e){if(!ri("recoil_memory_managament_2020"))return;let t=e.getState();E4e(e,t.retention.retainablesToCheckForRelease),t.retention.retainablesToCheckForRelease.clear()}function gWt(e){return e===void 0?"recoilRoot":e}var oS={updateRetainCount:hWt,updateRetainCountToZero:M4e,releaseScheduledRetainablesNow:mWt,retainedByOptionWithDefault:gWt};function*vWt(e){for(let t of e)for(let r of t)yield r}var yWt=vWt,_Wt=typeof window=="undefined",bWt=typeof navigator!="undefined"&&navigator.product==="ReactNative",aG={isSSR:_Wt,isReactNative:bWt},{isSSR:xWt}=aG,{batchUpdates:z$}=iG,{initializeNodeIfNewToStore:wWt,peekNodeInfo:SWt}=o1,{graph:IWt}=iS,{DEFAULT_VALUE:EWt,recoilValues:G5e,recoilValuesForKeys:H5e}=tu,{AbstractRecoilValue:TWt,getRecoilValueAsLoadable:MWt,setRecoilValue:W5e,setUnvalidatedRecoilValue:CWt}=Mg,{updateRetainCount:w5}=oS,{getNextTreeStateVersion:AWt,makeEmptyStoreState:PWt}=x4e;var n1=class{constructor(t){Sn(this,"_store",void 0),Sn(this,"_refCount",0),Sn(this,"getLoadable",r=>(this.checkRefCount_INTERNAL(),MWt(this._store,r))),Sn(this,"getPromise",r=>(this.checkRefCount_INTERNAL(),this.getLoadable(r).toPromise())),Sn(this,"getNodes_UNSTABLE",r=>{if(this.checkRefCount_INTERNAL(),(r==null?void 0:r.isModified)===!0){if((r==null?void 0:r.isInitialized)===!1)return[];let o=this._store.getState().currentTree;return H5e(o.dirtyAtoms)}let n=this._store.getState().knownAtoms,i=this._store.getState().knownSelectors;return(r==null?void 0:r.isInitialized)==null?G5e.values():r.isInitialized===!0?H5e(yWt([this._store.getState().knownAtoms,this._store.getState().knownSelectors])):u4e(G5e.values(),({key:o})=>!n.has(o)&&!i.has(o))}),Sn(this,"getInfo_UNSTABLE",({key:r})=>(this.checkRefCount_INTERNAL(),SWt(this._store,this._store.getState().currentTree,r))),Sn(this,"map",r=>{this.checkRefCount_INTERNAL();let n=new tS(this,z$);return r(n),j$(n.getStore_INTERNAL())}),Sn(this,"asyncMap",r=>kn(this,null,function*(){this.checkRefCount_INTERNAL();let n=new tS(this,z$);return yield r(n),j$(n.getStore_INTERNAL())})),this._store={getState:()=>t,replaceState:r=>{t.currentTree=r(t.currentTree)},getGraph:r=>{let n=t.graphsByVersion;if(n.has(r))return Fn(n.get(r));let i=IWt();return n.set(r,i),i},subscribeToTransactions:()=>({release:()=>{}}),addTransactionMetadata:()=>{throw new Error("Cannot subscribe to Snapshots")}};for(let r of this._store.getState().nodeCleanupFunctions.keys())wWt(this._store,t.currentTree,r,"get"),w5(this._store,r,1);this.retain(),this.autorelease_INTERNAL()}retain(){if(!ri("recoil_memory_managament_2020"))return()=>{};this._refCount++;let t=!1;return()=>{t||(t=!0,this.release_INTERNAL())}}autorelease_INTERNAL(){ri("recoil_memory_managament_2020")&&(xWt||window.setTimeout(()=>this.release_INTERNAL(),0))}release_INTERNAL(){ri("recoil_memory_managament_2020")&&(this._refCount--,this._refCount)}checkRefCount_INTERNAL(){ri("recoil_memory_managament_2020")&&this._refCount<=0}getStore_INTERNAL(){return this.checkRefCount_INTERNAL(),this._store}getID(){return this.checkRefCount_INTERNAL(),this.getID_INTERNAL()}getID_INTERNAL(){return this.checkRefCount_INTERNAL(),this._store.getState().currentTree.stateID}};function C4e(e,t,r=!1){let n=e.getState(),i=r?AWt():t.version;return{currentTree:r?{version:i,stateID:i,transactionMetadata:nt({},t.transactionMetadata),dirtyAtoms:new Set(t.dirtyAtoms),atomValues:t.atomValues.clone(),nonvalidatedAtoms:t.nonvalidatedAtoms.clone()}:t,commitDepth:0,nextTree:null,previousTree:null,knownAtoms:new Set(n.knownAtoms),knownSelectors:new Set(n.knownSelectors),transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(i,e.getGraph(t.version)),versionsUsedByComponent:new Map,retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}}function OWt(e){let t=new n1(PWt());return e!=null?t.map(e):t}function j$(e,t="current"){let r=e.getState(),n=t==="current"?r.currentTree:Fn(r.previousTree);return new n1(C4e(e,n))}var tS=class extends n1{constructor(t,r){super(C4e(t.getStore_INTERNAL(),t.getStore_INTERNAL().getState().currentTree,!0)),Sn(this,"_batch",void 0),Sn(this,"set",(n,i)=>{this.checkRefCount_INTERNAL();let o=this.getStore_INTERNAL();this._batch(()=>{w5(o,n.key,1),W5e(this.getStore_INTERNAL(),n,i)})}),Sn(this,"reset",n=>{this.checkRefCount_INTERNAL();let i=this.getStore_INTERNAL();this._batch(()=>{w5(i,n.key,1),W5e(this.getStore_INTERNAL(),n,EWt)})}),Sn(this,"setUnvalidatedAtomValues_DEPRECATED",n=>{this.checkRefCount_INTERNAL();let i=this.getStore_INTERNAL();z$(()=>{for(let[o,u]of n.entries())w5(i,o,1),CWt(i,new TWt(o),u)})}),this._batch=r}},F5={Snapshot:n1,MutableSnapshot:tS,freshSnapshot:OWt,cloneSnapshot:j$},DWt=F5.Snapshot,NWt=F5.MutableSnapshot,kWt=F5.freshSnapshot,LWt=F5.cloneSnapshot,B5=Object.freeze({__proto__:null,Snapshot:DWt,MutableSnapshot:NWt,freshSnapshot:kWt,cloneSnapshot:LWt}),{getNextTreeStateVersion:RWt,makeEmptyStoreState:A4e}=x4e,{cleanUpNode:qWt,getDownstreamNodes:zWt,setNodeValue:jWt,setUnvalidatedAtomValue_DEPRECATED:FWt}=o1,{graph:BWt}=iS,{cloneGraph:UWt}=iS,{applyAtomValueWrites:VWt}=Mg,{releaseScheduledRetainablesNow:P4e}=oS,{freshSnapshot:$Wt}=B5,{useCallback:GWt,useContext:O4e,useEffect:F$,useMemo:HWt,useRef:P$,useState:WWt}=Fa.default;function H2(){throw new Error("This component must be used inside a <RecoilRoot> component.")}var D4e=Object.freeze({getState:H2,replaceState:H2,getGraph:H2,subscribeToTransactions:H2,addTransactionMetadata:H2}),B$=!1;function Z5e(e){if(B$)throw new Error("An atom update was triggered within the execution of a state updater function. State updater functions provided to Recoil must be pure functions.");let t=e.getState();if(t.nextTree===null){ri("recoil_memory_managament_2020")&&ri("recoil_release_on_cascading_update_killswitch_2021")&&t.commitDepth>0&&P4e(e);let r=t.currentTree.version,n=RWt();t.nextTree=gr(nt({},t.currentTree),{version:n,stateID:n,dirtyAtoms:new Set,transactionMetadata:{}}),t.graphsByVersion.set(n,UWt(Fn(t.graphsByVersion.get(r))))}}var N4e=Fa.default.createContext({current:D4e}),sG=()=>O4e(N4e),k4e=Fa.default.createContext(null);function ZWt(){let e=O4e(k4e);return e==null&&J$("Attempted to use a Recoil hook outside of a <RecoilRoot>. <RecoilRoot> must be an ancestor of any component that uses Recoil hooks."),e}function lG(e,t,r){let n=zWt(e,r,r.dirtyAtoms);for(let i of n){let o=t.nodeToComponentSubscriptions.get(i);if(o)for(let[u,[f,m]]of o)m(r)}}function L4e(e){let t=e.getState(),r=t.currentTree,n=r.dirtyAtoms;if(n.size){for(let[i,o]of t.nodeTransactionSubscriptions)if(n.has(i))for(let[u,f]of o)f(e);for(let[i,o]of t.transactionSubscriptions)o(e);(!ri("recoil_early_rendering_2021")||t.suspendedComponentResolvers.size)&&(lG(e,t,r),t.suspendedComponentResolvers.forEach(i=>i()),t.suspendedComponentResolvers.clear())}t.queuedComponentCallbacks_DEPRECATED.forEach(i=>i(r)),t.queuedComponentCallbacks_DEPRECATED.splice(0,t.queuedComponentCallbacks_DEPRECATED.length)}function YWt(e){let t=e.current.getState();t.commitDepth++;try{let{nextTree:r}=t;if(r===null)return;t.previousTree=t.currentTree,t.currentTree=r,t.nextTree=null,L4e(e.current),t.previousTree!=null?t.graphsByVersion.delete(t.previousTree.version):Vc("Ended batch with no previous state, which is unexpected","recoil"),t.previousTree=null,ri("recoil_memory_managament_2020")&&P4e(e.current)}finally{t.commitDepth--}}function KWt({setNotifyBatcherOfChange:e}){let t=sG(),[r,n]=WWt([]);return e(()=>n({})),F$(()=>{BHt.enqueueExecution("Batcher",()=>{YWt(t)})}),F$(()=>()=>{e(()=>{})},[e]),null}function XWt(e,t){let r=A4e();return t({set:(n,i)=>{let o=r.currentTree,u=jWt(e,o,n.key,i),f=new Set(u.keys()),m=o.nonvalidatedAtoms.clone();for(let y of f)m.delete(y);r.currentTree=gr(nt({},o),{dirtyAtoms:iWt(o.dirtyAtoms,f),atomValues:VWt(o.atomValues,u),nonvalidatedAtoms:m})},setUnvalidatedAtomValues:n=>{n.forEach((i,o)=>{r.currentTree=FWt(r.currentTree,o,i)})}}),r}function QWt(e){return $Wt().map(e).getStore_INTERNAL().getState()}var Y5e=0;function JWt({initializeState_DEPRECATED:e,initializeState:t,store_INTERNAL:r,children:n}){var i;let o,u=q=>{let R=o.current.graphsByVersion;if(R.has(q))return Fn(R.get(q));let U=BWt();return R.set(q,U),U},f=(q,R)=>{if(R==null){let{transactionSubscriptions:U}=z.current.getState(),Y=Y5e++;return U.set(Y,q),{release:()=>{U.delete(Y)}}}else{let{nodeTransactionSubscriptions:U}=z.current.getState();U.has(R)||U.set(R,new Map);let Y=Y5e++;return Fn(U.get(R)).set(Y,q),{release:()=>{let re=U.get(R);re&&(re.delete(Y),re.size===0&&U.delete(R))}}}},m=q=>{Z5e(z.current);for(let R of Object.keys(q))Fn(z.current.getState().nextTree).transactionMetadata[R]=q[R]},y=q=>{let R=z.current.getState();Z5e(z.current);let U=Fn(R.nextTree),Y;try{B$=!0,Y=q(U)}finally{B$=!1}Y!==U&&(R.nextTree=Y,ri("recoil_early_rendering_2021")&&lG(N,R,Y),Fn(w.current)())},w=P$(null),I=GWt(q=>{w.current=q},[w]),M=(i=Fa.default.createMutableSource)!==null&&i!==void 0?i:Fa.default.unstable_createMutableSource,N=r!=null?r:{getState:()=>o.current,replaceState:y,getGraph:u,subscribeToTransactions:f,addTransactionMetadata:m},z=P$(N);o=P$(e!=null?XWt(N,e):t!=null?QWt(t):A4e());let F=HWt(()=>M?M(o,()=>o.current.currentTree.version):null,[M,o]);return F$(()=>()=>{for(let q of z.current.getState().knownAtoms)qWt(z.current,q)},[]),Fa.default.createElement(N4e.Provider,{value:z},Fa.default.createElement(k4e.Provider,{value:F},Fa.default.createElement(KWt,{setNotifyBatcherOfChange:I}),n))}function eZt(e){let i=e,{override:t}=i,r=zn(i,["override"]),n=sG();return t===!1&&n.current!==D4e?e.children:Fa.default.createElement(JWt,r)}var U5={useStoreRef:sG,useRecoilMutableSource:ZWt,RecoilRoot:eZt,notifyComponents_FOR_TESTING:lG,sendEndOfBatchNotifications_FOR_TESTING:L4e},{loadableWithValue:tZt}=nS,{DEFAULT_VALUE:rZt,getNode:nZt}=tu,{copyTreeState:iZt,getRecoilValueAsLoadable:oZt,invalidateDownstreams:aZt,writeLoadableToTreeState:sZt}=Mg;function K5e(e){return nZt(e.key).nodeType==="atom"}var U$=class{constructor(t,r){Sn(this,"_store",void 0),Sn(this,"_treeState",void 0),Sn(this,"_changes",void 0),Sn(this,"get",n=>{if(this._changes.has(n.key))return this._changes.get(n.key);if(!K5e(n))throw new Error("Reading selectors within atomicUpdate is not supported");let i=oZt(this._store,n,this._treeState);if(i.state==="hasValue")return i.contents;throw i.state==="hasError"?i.contents:new Error(`Expected Recoil atom ${n.key} to have a value, but it is in a loading state.`)}),Sn(this,"set",(n,i)=>{if(!K5e(n))throw new Error("Setting selectors within atomicUpdate is not supported");if(typeof i=="function"){let o=this.get(n);this._changes.set(n.key,i(o))}else this._changes.set(n.key,i)}),Sn(this,"reset",n=>{this.set(n,rZt)}),this._store=t,this._treeState=r,this._changes=new Map}newTreeState_INTERNAL(){if(this._changes.size===0)return this._treeState;let t=iZt(this._treeState);for(let[r,n]of this._changes)sZt(t,r,tZt(n));return aZt(this._store,t),t}};function lZt(e){return t=>{e.replaceState(r=>{let n=new U$(e,r);return t(n),n.newTreeState_INTERNAL()})}}var uZt={atomicUpdater:lZt},cZt=uZt.atomicUpdater,pZt=Object.freeze({__proto__:null,atomicUpdater:cZt});function fZt(e,t){let r=new Map;for(let[n,i]of e)t(i,n)&&r.set(n,i);return r}var dZt=fZt;function hZt(e,t){let r=new Set;for(let n of e)t(n)&&r.add(n);return r}var mZt=hZt;function gZt(e,t){if(!e)throw new Error(t)}var vZt=gZt,D5=vZt;function yZt(...e){let t=new Map;for(let r=0;r<e.length;r++){let n=e[r].keys(),i;for(;!(i=n.next()).done;)t.set(i.value,e[r].get(i.value))}return t}var _Zt=yZt;function bZt(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let r=0,n=e.length;r<n;r++)if(e[r]!==t[r])return!1;return!0}var xZt=bZt;var{useRef:wZt}=Fa.default;function SZt(){let e=wZt();if(0&&ri("recoil_infer_component_names"))var t;return"<component name not available>"}var uG=SZt,{atomicUpdater:R4e}=pZt,{batchUpdates:cG}=iG,{DEFAULT_VALUE:V5,getNode:q4e,nodes:IZt}=tu,{useRecoilMutableSource:EZt,useStoreRef:gl}=U5,{isRecoilValue:Bkr}=hh,{AbstractRecoilValue:pG,getRecoilValueAsLoadable:J2,setRecoilValue:i1,setRecoilValueLoadable:TZt,setUnvalidatedRecoilValue:MZt,subscribeToRecoilValue:fG}=Mg,{updateRetainCount:W2}=oS,{RetentionZone:CZt}=q5,{Snapshot:Ukr,cloneSnapshot:rS}=B5,{setByAddingToSet:AZt}=l4e,{isSSR:N5}=aG,{mutableSourceExists:PZt,useMutableSource:OZt}=s4e,{useCallback:$u,useEffect:uf,useMemo:z4e,useRef:dh,useState:dG}=Fa.default,j4e=12e4;function F4e(e,t,r){if(e.state==="hasValue")return e.contents;throw e.state==="loading"?new Promise(i=>{r.current.getState().suspendedComponentResolvers.add(i)}):e.state==="hasError"?e.contents:new Error(`Invalid value of loadable atom "${t.key}"`)}function DZt(){let e=gl(),[t,r]=dG([]),n=dh(new Set);n.current=new Set;let i=dh(new Set),o=dh(new Map),u=$u(m=>{let y=o.current.get(m);y&&(y.release(),o.current.delete(m))},[o]),f=uG();return uf(()=>{let m=e.current;function y(w,I){o.current.has(I)&&r([])}P5(n.current,i.current).forEach(w=>{if(o.current.has(w)){J$(`Double subscription to RecoilValue "${w}"`);return}let I=fG(m,new pG(w),N=>{y(N,w)},f);o.current.set(w,I),m.getState().nextTree?m.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{y(m.getState(),w)}):y(m.getState(),w)}),P5(i.current,n.current).forEach(w=>{u(w)}),i.current=n.current}),uf(()=>{let m=o.current;return()=>m.forEach((y,w)=>u(w))},[u]),z4e(()=>{function m(z){return F=>{i1(e.current,z,F)}}function y(z){return()=>i1(e.current,z,V5)}function w(z){var F;n.current.has(z.key)||(n.current=AZt(n.current,z.key));let q=e.current.getState();return J2(e.current,z,ri("recoil_early_rendering_2021")&&(F=q.nextTree)!==null&&F!==void 0?F:q.currentTree)}function I(z){let F=w(z);return F4e(F,z,e)}function M(z){return[I(z),m(z)]}function N(z){return[w(z),m(z)]}return{getRecoilValue:I,getRecoilValueLoadable:w,getRecoilState:M,getRecoilStateLoadable:N,getSetRecoilState:m,getResetRecoilState:y}},[n,e])}var NZt={current:0};function kZt(e){let t=gl(),r=$u(()=>{var y;let w=t.current,I=w.getState(),M=ri("recoil_early_rendering_2021")&&(y=I.nextTree)!==null&&y!==void 0?y:I.currentTree;return J2(w,e,M)},[t,e]),n=$u(()=>r(),[r]),i=uG(),o=$u((y,w)=>{let I=t.current;return fG(I,e,()=>{if(!ri("recoil_suppress_rerender_in_callback"))return w();let N=r();m.current.is(N)||w(),m.current=N},i).release},[t,e,i,r]),u=EZt(),f=OZt(u,n,o),m=dh(f);return uf(()=>{m.current=f}),f}function LZt(e){let t=gl(),[r,n]=dG([]),i=uG();uf(()=>{let f=t.current,m=f.getState(),y=fG(f,e,I=>{var M;if(!ri("recoil_suppress_rerender_in_callback"))return n([]);let N=J2(f,e,f.getState().currentTree);!((M=u.current)===null||M===void 0)&&M.is(N)||n(N),u.current=N},i);if(m.nextTree)f.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{u.current=null,n([])});else{var w;if(!ri("recoil_suppress_rerender_in_callback"))return n([]);let I=J2(f,e,f.getState().currentTree);!((w=u.current)===null||w===void 0)&&w.is(I)||n(I),u.current=I}return y.release},[i,e,t]);let o=J2(t.current,e),u=dh(o);return uf(()=>{u.current=o}),o}function hG(e){return ri("recoil_memory_managament_2020")&&$4e(e),PZt()?kZt(e):LZt(e)}function B4e(e){let t=gl(),r=hG(e);return F4e(r,e,t)}function mG(e){let t=gl();return $u(r=>{i1(t.current,e,r)},[t,e])}function RZt(e){let t=gl();return $u(()=>{i1(t.current,e,V5)},[t,e])}function qZt(e){return[B4e(e),mG(e)]}function zZt(e){return[hG(e),mG(e)]}function $5(e){let t=gl();uf(()=>t.current.subscribeToTransactions(e).release,[e,t])}function X5e(e){let t=e.atomValues.toMap(),r=O5(dZt(t,(n,i)=>{let u=q4e(i).persistence_UNSTABLE;return u!=null&&u.type!=="none"&&n.state==="hasValue"}),n=>n.contents);return _Zt(e.nonvalidatedAtoms.toMap(),r)}function jZt(e){$5($u(t=>{let r=t.getState().previousTree,n=t.getState().currentTree;r||(Vc("Transaction subscribers notified without a previous tree being present -- this is a bug in Recoil"),r=t.getState().currentTree);let i=X5e(n),o=X5e(r),u=O5(IZt,m=>{var y,w,I,M;return{persistence_UNSTABLE:{type:(y=(w=m.persistence_UNSTABLE)===null||w===void 0?void 0:w.type)!==null&&y!==void 0?y:"none",backButton:(I=(M=m.persistence_UNSTABLE)===null||M===void 0?void 0:M.backButton)!==null&&I!==void 0?I:!1}}}),f=mZt(n.dirtyAtoms,m=>i.has(m)||o.has(m));e({atomValues:i,previousAtomValues:o,atomInfo:u,modifiedAtoms:f,transactionMetadata:nt({},n.transactionMetadata)})},[e]))}function FZt(e){$5($u(t=>{let r=rS(t,"current"),n=rS(t,"previous");e({snapshot:r,previousSnapshot:n})},[e]))}function U4e(e){let t=dh();return uf(()=>{t.current=e}),t.current}function BZt(){let e=gl(),[t,r]=dG(()=>rS(e.current)),n=U4e(t),i=dh();return uf(()=>(i.current&&!N5&&window.clearTimeout(i.current),t.retain()),[t]),$5($u(o=>r(rS(o)),[])),n!==t&&!N5&&(i.current&&(n==null||n.release_INTERNAL(),window.clearTimeout(i.current)),t.retain(),i.current=window.setTimeout(()=>{t.release_INTERNAL(),i.current=null},j4e)),t}function V4e(){let e=gl();return $u(t=>{var r;let n=e.current.getState(),i=(r=n.nextTree)!==null&&r!==void 0?r:n.currentTree,o=t.getStore_INTERNAL().getState().currentTree;cG(()=>{let u=new Set;for(let y of[i.atomValues.keys(),o.atomValues.keys()])for(let w of y){var f,m;((f=i.atomValues.get(w))===null||f===void 0?void 0:f.contents)!==((m=o.atomValues.get(w))===null||m===void 0?void 0:m.contents)&&q4e(w).shouldRestoreFromSnapshots&&u.add(w)}u.forEach(y=>{TZt(e.current,new pG(y),o.atomValues.has(y)?Fn(o.atomValues.get(y)):V5)}),e.current.replaceState(y=>gr(nt({},y),{stateID:t.getID_INTERNAL()}))})},[e])}function UZt(){let e=gl();return(t,r={})=>{cG(()=>{e.current.addTransactionMetadata(r),t.forEach((n,i)=>MZt(e.current,new pG(i),n))})}}var k5=class{},VZt=new k5;function $Zt(e,t){let r=gl(),n=V4e();return $u((...i)=>{function o(w,I){i1(r.current,w,I)}function u(w){i1(r.current,w,V5)}let f=rS(r.current),m=R4e(r.current),y=VZt;return cG(()=>{let w="useRecoilCallback expects a function that returns a function: it accepts a function of the type (RecoilInterface) => T = R and returns a callback function T => R, where RecoilInterface is an object {snapshot, set, ...} and T and R are the argument and return types of the callback you want to create.  Please see the docs at recoiljs.org for details.";if(typeof e!="function")throw new Error(w);let I=e({set:o,reset:u,snapshot:f,gotoSnapshot:n,transact_UNSTABLE:m});if(typeof I!="function")throw new Error(w);y=I(...i)}),y instanceof k5&&D5(!1),y},t!=null?[...t,r]:void 0)}function $4e(e){if(ri("recoil_memory_managament_2020"))return GZt(e)}function GZt(e){let r=(Array.isArray(e)?e:[e]).map(u=>u instanceof CZt?u:u.key),n=gl();uf(()=>{if(!ri("recoil_memory_managament_2020"))return;let u=n.current;if(i.current&&!N5)window.clearTimeout(i.current),i.current=null;else for(let f of r)W2(u,f,1);return()=>{for(let f of r)W2(u,f,-1)}},[n,...r]);let i=dh(),o=U4e(r);if(!N5&&(o===void 0||!xZt(o,r))){let u=n.current;for(let f of r)W2(u,f,1);if(o)for(let f of o)W2(u,f,-1);i.current&&window.clearTimeout(i.current),i.current=window.setTimeout(()=>{i.current=null;for(let f of r)W2(u,f,-1)},j4e)}}function HZt(e,t){let r=gl();return z4e(()=>(...n)=>{R4e(r.current)(o=>{e(o)(...n)})},t!=null?[...t,r]:void 0)}var WZt={recoilComponentGetRecoilValueCount_FOR_TESTING:NZt,useGotoRecoilSnapshot:V4e,useRecoilCallback:$Zt,useRecoilInterface:DZt,useRecoilSnapshot:BZt,useRecoilState:qZt,useRecoilStateLoadable:zZt,useRecoilTransaction:HZt,useRecoilTransactionObserver:FZt,useRecoilValue:B4e,useRecoilValueLoadable:hG,useRetain:$4e,useResetRecoilState:RZt,useSetRecoilState:mG,useSetUnvalidatedAtomValues:UZt,useTransactionObservation_DEPRECATED:jZt,useTransactionSubscription_DEPRECATED:$5},{peekNodeInfo:ZZt}=o1,{useStoreRef:YZt}=U5;function KZt(){let e=YZt();return({key:t})=>ZZt(e.current,e.current.getState().currentTree,t)}var XZt=KZt,{RecoilRoot:QZt,useStoreRef:JZt}=U5,{useMemo:eYt}=Fa.default;function tYt(){let e=JZt().current;return eYt(()=>{function t({children:r}){return Fa.default.createElement(QZt,{store_INTERNAL:e},r)}return t},[e])}var rYt=tYt;var{isReactNative:Vkr,isSSR:$kr}=aG;function Vu(e,t,r){if(typeof e=="string"&&!e.includes("\"")&&!e.includes("\\"))return`"${e}"`;switch(typeof e){case"undefined":return"";case"boolean":return e?"true":"false";case"number":case"symbol":return String(e);case"string":return JSON.stringify(e);case"function":if((t==null?void 0:t.allowFunctions)!==!0)throw new Error("Attempt to serialize function in a Recoil cache key");return`__FUNCTION(${e.name})__`}if(e===null)return"null";if(typeof e!="object"){var n;return(n=JSON.stringify(e))!==null&&n!==void 0?n:""}if(io(e))return"__PROMISE__";if(Array.isArray(e))return`[${e.map((i,o)=>Vu(i,t,o.toString()))}]`;if(typeof e.toJSON=="function")return Vu(e.toJSON(r),t,r);if(e instanceof Map){let i={};for(let[o,u]of e)i[typeof o=="string"?o:Vu(o,t)]=u;return Vu(i,t,r)}return e instanceof Set?Vu(Array.from(e).sort((i,o)=>Vu(i,t).localeCompare(Vu(o,t))),t,r):Symbol!==void 0&&e[Symbol.iterator]!=null&&typeof e[Symbol.iterator]=="function"?Vu(Array.from(e),t,r):`{${Object.keys(e).filter(i=>e[i]!==void 0).sort().map(i=>`${Vu(i,t)}:${Vu(e[i],t,i)}`).join(",")}}`}function nYt(e,t={allowFunctions:!1}){return Vu(e,t)}var G5=nYt,V$=class{constructor(t){var r,n,i;Sn(this,"_numLeafs",void 0),Sn(this,"_root",void 0),Sn(this,"_onHit",void 0),Sn(this,"_onSet",void 0),Sn(this,"_mapNodeValue",void 0),this._numLeafs=0,this._root=null,this._onHit=(r=t==null?void 0:t.onHit)!==null&&r!==void 0?r:()=>{},this._onSet=(n=t==null?void 0:t.onSet)!==null&&n!==void 0?n:()=>{},this._mapNodeValue=(i=t==null?void 0:t.mapNodeValue)!==null&&i!==void 0?i:o=>o}size(){return this._numLeafs}root(){return this._root}get(t,r){var n;return(n=this.getLeafNode(t,r))===null||n===void 0?void 0:n.value}getLeafNode(t,r){return G4e(this.root(),n=>this._mapNodeValue(t(n)),{onNodeVisit:n=>{r==null||r.onNodeVisit(n),n.type==="leaf"&&this._onHit(n)}})}set(t,r,n){let i,o=$$(this.root(),t.map(([u,f])=>[u,this._mapNodeValue(f)]),null,r,null,{onNodeVisit:u=>{n==null||n.onNodeVisit(u),u.type==="leaf"&&(i=u)}});this.root()||(this._root=o),this._numLeafs++,this._onSet(Fn(i))}delete(t){if(!this.root())return!1;let r=Fn(this.root());return iYt(r,t,t.parent)?t===r||r.type==="branch"&&!r.branches.size?(this._root=null,this._numLeafs=0,!0):(this._numLeafs-=W4e(t),!0):!1}clear(){this._numLeafs=0,this._root=null}},G4e=(e,t,r)=>{var n;if(e==null)return;if(r==null||(n=r.onNodeVisit)===null||n===void 0||n.call(r,e),e.type==="leaf")return e;let i=t(e.nodeKey);return G4e(e.branches.get(i),t,r)},$$=(e,t,r,n,i,o)=>{var u;let f;if(e==null){if(t.length===0)f={type:"leaf",value:n,parent:r,branchKey:i};else{let[m,...y]=t,[w,I]=m;f={type:"branch",nodeKey:w,parent:r,branches:new Map,branchKey:i},f.branches.set(I,$$(null,y,f,n,I,o))}}else if(f=e,t.length){let[m,...y]=t,[w,I]=m;e.type==="branch"&&e.nodeKey===w||D5(!1),e.branches.set(I,$$(e.branches.get(I),y,e,n,I,o))}return o==null||(u=o.onNodeVisit)===null||u===void 0||u.call(o,f),f},iYt=(e,t,r)=>r?(r.branches.delete(t.branchKey),H4e(e,r,r.parent)):e===t,H4e=(e,t,r)=>r?(t.branches.size===0&&r.branches.delete(t.branchKey),H4e(e,r,r.parent)):e===t,W4e=e=>e.type==="leaf"?1:Array.from(e.branches.values()).reduce((t,r)=>t+W4e(r),0),oYt={TreeCache:V$},aYt=oYt.TreeCache,Z4e=Object.freeze({__proto__:null,TreeCache:aYt}),G$=class{constructor(t){var r;Sn(this,"_maxSize",void 0),Sn(this,"_size",void 0),Sn(this,"_head",void 0),Sn(this,"_tail",void 0),Sn(this,"_map",void 0),Sn(this,"_keyMapper",void 0),this._maxSize=t.maxSize,this._size=0,this._head=null,this._tail=null,this._map=new Map,this._keyMapper=(r=t.mapKey)!==null&&r!==void 0?r:n=>n}head(){return this._head}tail(){return this._tail}size(){return this._size}maxSize(){return this._maxSize}has(t){return this._map.has(this._keyMapper(t))}get(t){let r=this._keyMapper(t),n=this._map.get(r);if(n)return this.set(t,n.value),n.value}set(t,r){let n=this._keyMapper(t);this._map.get(n)&&this.delete(t);let o=this.head(),u={key:t,right:o,left:null,value:r};o?o.left=u:this._tail=u,this._map.set(n,u),this._head=u,this._size++,this._maybeDeleteLRU()}_maybeDeleteLRU(){this.size()>this.maxSize()&&this.deleteLru()}deleteLru(){let t=this.tail();t&&this.delete(t.key)}delete(t){let r=this._keyMapper(t);if(!this._size||!this._map.has(r))return;let n=Fn(this._map.get(r)),i=n.right,o=n.left;i&&(i.left=n.left),o&&(o.right=n.right),n===this.head()&&(this._head=i),n===this.tail()&&(this._tail=o),this._map.delete(r),this._size--}clear(){this._size=0,this._head=null,this._tail=null,this._map=new Map}},sYt={LRUCache:G$},lYt=sYt.LRUCache,Y4e=Object.freeze({__proto__:null,LRUCache:lYt}),{LRUCache:uYt}=Y4e,{TreeCache:cYt}=Z4e;function pYt(e,t=r=>r){let r=new uYt({maxSize:e}),n=new cYt({mapNodeValue:t,onHit:i=>{r.set(i,!0)},onSet:i=>{let o=r.tail();r.set(i,!0),o&&n.size()>e&&n.delete(o.key)}});return n}var Q5e=pYt,{TreeCache:fYt}=Z4e,_5={equality:"reference",eviction:"keep-all",maxSize:1/0};function dYt({equality:e=_5.equality,eviction:t=_5.eviction,maxSize:r=_5.maxSize}=_5){let n=hYt(e);return mYt(t,r,n)}function hYt(e){switch(e){case"reference":return t=>t;case"value":return t=>G5(t)}throw new Error(`Unrecognized equality policy ${e}`)}function mYt(e,t,r){switch(e){case"keep-all":return new fYt({mapNodeValue:r});case"lru":return Q5e(Fn(t),r);case"most-recent":return Q5e(1,r)}throw new Error(`Unrecognized eviction policy ${e}`)}var gYt=dYt;function vYt(e){return()=>null}var yYt={startPerfBlock:vYt},{CANCELED:Z2,Canceled:_Yt,loadableWithError:Y2,loadableWithPromise:bYt,loadableWithValue:O$}=nS,{getNodeLoadable:J5e,peekNodeLoadable:xYt,setNodeValue:wYt}=o1,{saveDependencyMapToStore:SYt}=iS,{DEFAULT_VALUE:IYt,RecoilValueNotReady:EYt,getConfigDeletionHandler:TYt,registerNode:e4e}=tu,{isRecoilValue:MYt}=hh,{AbstractRecoilValue:CYt}=hh,{setRecoilValueLoadable:AYt}=Mg,{retainedByOptionWithDefault:PYt}=oS,{cloneSnapshot:OYt}=B5,{startPerfBlock:DYt}=yYt,K2=[],b5=new Map,NYt=(()=>{let e=0;return()=>e++})();function kYt(){return{depValuesDiscoveredSoFarDuringAsyncWork:null,latestLoadable:null,latestExecutionId:null,stateVersion:null}}function LYt(e){let{key:t,get:r,cachePolicy_UNSTABLE:n}=e,i=e.set!=null?e.set:void 0,o=gYt(n!=null?n:{equality:"reference",eviction:"keep-all"}),u=PYt(e.retainedBy_UNSTABLE),f=new Map,m=0;function y(){return!ri("recoil_memory_managament_2020")||m>0}function w(Fe){return f.has(Fe)||f.set(Fe,kYt()),Fn(f.get(Fe))}function I(Fe){return m++,Fe.getState().knownSelectors.add(t),()=>{m--,Fe.getState().knownSelectors.delete(t),f.delete(Fe)}}function M(){return TYt(t)!==void 0&&!y()}function N(Fe,Me,Ue){if(Me.state==="loading"){let je=b5.get(Ue);je==null&&b5.set(Ue,je=new Set),je.add(Fe)}}function z(Fe,Me){let Ue=b5.get(Me);if(Ue!==void 0){for(let je of Ue)AYt(je,new CYt(t),Fe);b5.delete(Me)}}function F(Fe,Me,Ue){let je=Fe.getState().knownSelectors.has(Ue);if(je&&Me.atomValues.has(Ue))return Fn(Me.atomValues.get(Ue));let tt=J5e(Fe,Me,Ue);return tt.state!=="loading"&&je&&Me.atomValues.set(Ue,tt),tt}function q(Fe,Me,Ue,je,tt){return Me.then(it=>{if(!y())return at(Fe,tt),Z2;let St=O$(it);return Ut(Ue,Se(je),St),Y(Fe,Ue,new Set(je.keys()),tt),U(Fe,St,tt),{__value:it,__key:t}}).catch(it=>{if(!y())return at(Fe,tt),Z2;if(At(Fe,tt)&&st(je,Fe,tt),io(it))return R(Fe,it,Ue,je,tt);let St=Y2(it);throw Ut(Ue,Se(je),St),Y(Fe,Ue,new Set(je.keys()),tt),U(Fe,St,tt),it})}function R(Fe,Me,Ue,je,tt){return Me.then(it=>{if(!y())return at(Fe,tt),Z2;if(it instanceof _Yt)return Vc("Selector was released while it had dependencies"),Z2;let{__key:St,__value:vt}=it!=null?it:{},Nt=!0;St!=null&&(Ue.atomValues.set(St,O$(vt)),Nt=!1);let Yt=ce(Fe,Ue);if(Yt&&Yt.state==="hasValue")return _e(Yt,Fe),{__value:Yt.contents,__key:t};if(!At(Fe,tt)){var It;let lr=Te(Ue);if((lr==null||(It=lr.latestLoadable)===null||It===void 0?void 0:It.state)==="loading")return lr.latestLoadable.contents}let[Vt,Jt]=de(Fe,Ue,tt,Nt);if(At(Fe,tt)&&st(Jt,Fe,tt),Qe(Vt),Vt.state!=="loading"&&(Ut(Ue,Se(Jt),Vt),Y(Fe,Ue,new Set(Jt.keys()),tt),U(Fe,Vt,tt)),Vt.state==="hasError")throw Vt.contents;return Vt.state==="hasValue"?{__value:Vt.contents,__key:t}:Vt.contents}).catch(it=>{if(!y())return at(Fe,tt),Z2;let St=Y2(it);throw Ut(Ue,Se(je),Y2(it)),Y(Fe,Ue,new Set(je.keys()),tt),U(Fe,St,tt),it})}function U(Fe,Me,Ue){At(Fe,Ue)&&(_e(Me,Fe),z(Me,Ue))}function Y(Fe,Me,Ue,je){var tt,it,St,vt;if(At(Fe,je)||Me.version===((tt=Fe.getState())===null||tt===void 0||(it=tt.currentTree)===null||it===void 0?void 0:it.version)||Me.version===((St=Fe.getState())===null||St===void 0||(vt=St.nextTree)===null||vt===void 0?void 0:vt.version)){var Nt,Yt,It;SYt(new Map([[t,Ue]]),Fe,(Nt=(Yt=Fe.getState())===null||Yt===void 0||(It=Yt.nextTree)===null||It===void 0?void 0:It.version)!==null&&Nt!==void 0?Nt:Fe.getState().currentTree.version)}}function re(Fe,Me,Ue,je,tt){Ue.add(je),Y(Fe,Me,Ue,tt)}function de(Fe,Me,Ue,je=!1){let tt=DYt(t),it,St=!1,vt,Nt=new Map,Yt=new Set;Y(Fe,Me,Yt,Ue);function It(lr){let{key:Tr}=lr;re(Fe,Me,Yt,Tr,Ue);let ur=je?J5e(Fe,Me,Tr):F(Fe,Me,Tr);if(Qe(ur),Nt.set(Tr,ur),ur.state==="hasValue")return ur.contents;throw ur.contents}let Vt=!1,Jt=lr=>(...Tr)=>{if(!Vt)throw new Error("getCallback() should only be called asynchronously after the selector is evalutated.  It can be used for selectors to return objects with callbacks that can obtain the current Recoil state without a subscription.");let ur=OYt(Fe),wr=lr({snapshot:ur});if(typeof wr!="function")throw new Error("getCallback() expects a function that returns a function.");return wr(...Tr)};try{it=r({get:It,getCallback:Jt}),it=MYt(it)?It(it):it,Vt=!0,io(it)?it=q(Fe,it,Me,Nt,Ue).finally(tt):tt()}catch(lr){it=lr,io(it)?it=R(Fe,it,Me,Nt,Ue).finally(tt):(St=!0,tt())}return St?vt=Y2(it):io(it)?vt=bYt(it):vt=O$(it),Qe(vt),[vt,Nt]}function ce(Fe,Me){let Ue=new Set,je=w(Fe),tt=o.get(it=>(typeof it!="string"&&D5(!1),F(Fe,Me,it).contents),{onNodeVisit:it=>{it.type==="branch"&&it.nodeKey!==t&&typeof it.nodeKey=="string"&&Ue.add(it.nodeKey)}});return tt&&Y(Fe,Me,Ue,je.latestExecutionId),tt}function Se(Fe){return Array.from(Fe.entries()).map(([Me,Ue])=>[Me,Ue.contents])}function qe(Fe,Me){let Ue=NYt(),[je,tt]=de(Fe,Me,Ue);return _e(je,Fe,tt,Ue,Me),ze(Me,Se(tt),je),N(Fe,je,Ue),je}function Re(Fe,Me){let Ue=ce(Fe,Me);if(Ue!=null)return _e(Ue,Fe),Ue;let je=Te(Me);if(je){let tt=je;return N(Fe,Fn(tt.latestLoadable),Fn(tt.latestExecutionId)),Fn(tt.latestLoadable)}return qe(Fe,Me)}function Te(Fe){var Me;let[,Ue]=(Me=Array.from(f.entries()).find(([je,tt])=>tt.latestLoadable!=null&&tt.latestExecutionId!=null&&!Ne(je,Fe)))!==null&&Me!==void 0?Me:[];return Ue}let Ee=new Map;function Ne(Fe,Me){var Ue,je;let tt=w(Fe),it=(Ue=tt.depValuesDiscoveredSoFarDuringAsyncWork)!==null&&Ue!==void 0?Ue:new Map,St=Array(((je=Ee.get(Me.version))!==null&&je!==void 0?je:new Map).entries()),vt=Ee.has(Me.version)&&St.length===it.size&&St.every(([Nt,Yt])=>it.get(Nt)===Yt);return it==null||Me.version===tt.stateVersion||vt?!1:(Ee.set(Me.version,new Map(it)),Array.from(it).some(([Nt,Yt])=>F(Fe,Me,Nt).contents!==Yt.contents))}function _e(Fe,Me,Ue,je,tt){let it=w(Me);Fe.state==="loading"?(it.depValuesDiscoveredSoFarDuringAsyncWork=Ue,it.latestExecutionId=je,it.latestLoadable=Fe,it.stateVersion=tt==null?void 0:tt.version):(it.depValuesDiscoveredSoFarDuringAsyncWork=null,it.latestExecutionId=null,it.latestLoadable=null,it.stateVersion=null)}function ze(Fe,Me,Ue){Ue.state!=="loading"&&Ut(Fe,Me,Ue)}function st(Fe,Me,Ue){let je=w(Me);At(Me,Ue)&&(je.depValuesDiscoveredSoFarDuringAsyncWork=Fe)}function at(Fe,Me){At(Fe,Me)&&f.delete(Fe)}function At(Fe,Me){let Ue=w(Fe);return Me===Ue.latestExecutionId}function Qe(Fe){Fe.state!=="loading"&&(Fe.contents,void 0)}function Dt(Fe){}function Ut(Fe,Me,Ue){Fe.atomValues.set(t,Ue),o.set(Me,Ue)}function Zt(Fe){if(K2.includes(t)){let Me=`Recoil selector has circular dependencies: ${K2.slice(K2.indexOf(t)).join(" \u2192 ")}`;return Y2(new Error(Me))}K2.push(t);try{return Fe()}finally{K2.pop()}}function Xe(Fe,Me){return o.get(je=>{typeof je!="string"&&D5(!1);let tt=xYt(Fe,Me,je);return tt==null?void 0:tt.contents})}function lt(Fe,Me){return Zt(()=>Re(Fe,Me))}function yt(Fe){Fe.atomValues.delete(t)}return i!=null?e4e({key:t,nodeType:"selector",peek:Xe,get:lt,set:(Me,Ue,je)=>{let tt=!1,it=new Map;function St({key:It}){if(tt)throw new Error("Recoil: Async selector sets are not currently supported.");let Vt=F(Me,Ue,It);if(Qe(Vt),Vt.state==="hasValue")return Vt.contents;throw Vt.state==="loading"?new EYt(It):Vt.contents}function vt(It,Vt){if(tt)throw new Error("Recoil: Async selector sets are not currently supported.");let Jt=typeof Vt=="function"?Vt(St(It)):Vt;wYt(Me,Ue,It.key,Jt).forEach((Tr,ur)=>it.set(ur,Tr))}function Nt(It){vt(It,IYt)}let Yt=i({set:vt,get:St,reset:Nt},je);if(Yt!==void 0)throw io(Yt)?new Error("Recoil: Async selector sets are not currently supported."):new Error("Recoil: selector set should be a void function.");return tt=!0,it},init:I,invalidate:yt,shouldDeleteConfigOnRelease:M,dangerouslyAllowMutability:e.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:u}):e4e({key:t,nodeType:"selector",peek:Xe,get:lt,init:I,invalidate:yt,shouldDeleteConfigOnRelease:M,dangerouslyAllowMutability:e.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:u})}var L5=LYt,{loadableWithError:t4e,loadableWithPromise:r4e,loadableWithValue:X2}=nS,{DEFAULT_VALUE:Eg,DefaultValue:e1,getConfigDeletionHandler:K4e,registerNode:RYt,setConfigDeletionHandler:qYt}=tu,{isRecoilValue:zYt}=hh,{markRecoilValueModified:jYt,setRecoilValue:n4e,setRecoilValueLoadable:FYt}=Mg,{retainedByOptionWithDefault:BYt}=oS;function UYt(e){let{key:t,persistence_UNSTABLE:r}=e,n=BYt(e.retainedBy_UNSTABLE),i=0,o=io(e.default)?r4e(e.default.then(q=>(o=X2(q),{__key:t,__value:q})).catch(q=>{throw o=t4e(q),q})):X2(e.default),u,f=new Map;function m(q,R){let U=R.then(Y=>{var re,de;return((de=((re=q.getState().nextTree)!==null&&re!==void 0?re:q.getState().currentTree).atomValues.get(t))===null||de===void 0?void 0:de.contents)===U&&n4e(q,F,Y),{__key:t,__value:Y}}).catch(Y=>{var re,de;throw((de=((re=q.getState().nextTree)!==null&&re!==void 0?re:q.getState().currentTree).atomValues.get(t))===null||de===void 0?void 0:de.contents)===U&&FYt(q,F,t4e(Y)),Y});return U}function y(q,R,U){i++;let Y=q.getState().knownAtoms.has(t);if(q.getState().knownAtoms.add(t),o.state==="loading"){let Re=()=>{var Te;((Te=q.getState().nextTree)!==null&&Te!==void 0?Te:q.getState().currentTree).atomValues.has(t)||jYt(q,F)};o.contents.then(Re).catch(Re)}let re=Eg,de=null;if(e.effects_UNSTABLE!=null&&!Y){let Re=!0,Te=_e=>ze=>{if(Re){let st=re instanceof e1||io(re)?o.state==="hasValue"?o.contents:Eg:re;re=typeof ze=="function"?ze(st):ze,io(re)&&(re=re.then(at=>(de={effect:_e,value:at},at)))}else{if(io(ze))throw new Error("Setting atoms to async values is not implemented.");typeof ze!="function"&&(de={effect:_e,value:ze}),n4e(q,F,typeof ze=="function"?st=>{let at=ze(st);return de={effect:_e,value:at},at}:ze)}},Ee=_e=>()=>Te(_e)(Eg),Ne=_e=>ze=>{q.subscribeToTransactions(st=>{var at;let{currentTree:At,previousTree:Qe}=st.getState();Qe||(Vc("Transaction subscribers notified without a next tree being present -- this is a bug in Recoil"),Qe=At);let Dt=(at=At.atomValues.get(t))!==null&&at!==void 0?at:o;if(Dt.state==="hasValue"){var Ut,Zt,Xe,lt;let yt=Dt.contents,Fe=(Ut=Qe.atomValues.get(t))!==null&&Ut!==void 0?Ut:o,Me=Fe.state==="hasValue"?Fe.contents:Eg;((Zt=de)===null||Zt===void 0?void 0:Zt.effect)!==_e||((Xe=de)===null||Xe===void 0?void 0:Xe.value)!==yt?ze(yt,Me):((lt=de)===null||lt===void 0?void 0:lt.effect)===_e&&(de=null)}},t)};for(let _e of(ce=e.effects_UNSTABLE)!==null&&ce!==void 0?ce:[]){var ce;let ze=_e({node:F,trigger:U,setSelf:Te(_e),resetSelf:Ee(_e),onSet:Ne(_e)});if(ze!=null){var Se;f.set(q,[...((Se=f.get(q))!==null&&Se!==void 0?Se:[]),ze])}}Re=!1}if(!(re instanceof e1)){var qe;let Re=io(re)?r4e(m(q,re)):X2(re);R.atomValues.set(t,Re),(qe=q.getState().nextTree)===null||qe===void 0||qe.atomValues.set(t,Re)}return()=>{var Re;i--,(Re=f.get(q))===null||Re===void 0||Re.forEach(Te=>Te()),f.delete(q),q.getState().knownAtoms.delete(t)}}function w(q,R){var U,Y,re;return(U=(Y=R.atomValues.get(t))!==null&&Y!==void 0?Y:(re=u)===null||re===void 0?void 0:re[1])!==null&&U!==void 0?U:o}function I(q,R){if(R.atomValues.has(t))return Fn(R.atomValues.get(t));if(R.nonvalidatedAtoms.has(t)){if(u!=null)return u;if(r==null)return J$(`Tried to restore a persisted value for atom ${t} but it has no persistence settings.`),o;let U=R.nonvalidatedAtoms.get(t),Y=r.validator(U,Eg);return u=Y instanceof e1?o:X2(Y),u}else return o}function M(){u=void 0}function N(q,R,U){if(R.atomValues.has(t)){let Y=Fn(R.atomValues.get(t));if(Y.state==="hasValue"&&U===Y.contents)return new Map}else if(!R.nonvalidatedAtoms.has(t)&&U instanceof e1)return new Map;return u=void 0,new Map().set(t,X2(U))}function z(){return K4e(t)!==void 0&&i<=0}let F=RYt({key:t,nodeType:"atom",peek:w,get:I,set:N,init:y,invalidate:M,shouldDeleteConfigOnRelease:z,dangerouslyAllowMutability:e.dangerouslyAllowMutability,persistence_UNSTABLE:e.persistence_UNSTABLE?{type:e.persistence_UNSTABLE.type,backButton:e.persistence_UNSTABLE.backButton}:void 0,shouldRestoreFromSnapshots:!0,retainedBy:n});return F}function X4e(e){let n=e,{default:t}=n,r=zn(n,["default"]);return zYt(t)?VYt(gr(nt({},r),{default:t})):UYt(gr(nt({},r),{default:t}))}function VYt(e){let t=X4e(gr(nt({},e),{default:Eg,persistence_UNSTABLE:e.persistence_UNSTABLE===void 0?void 0:gr(nt({},e.persistence_UNSTABLE),{validator:n=>n instanceof e1?n:Fn(e.persistence_UNSTABLE).validator(n,Eg)}),effects_UNSTABLE:e.effects_UNSTABLE})),r=L5({key:`${e.key}__withFallback`,get:({get:n})=>{let i=n(t);return i instanceof e1?e.default:i},set:({set:n},i)=>n(t,i),dangerouslyAllowMutability:e.dangerouslyAllowMutability});return qYt(r.key,K4e(e.key)),r}var Q4e=X4e,H$=class{constructor(t){var r;Sn(this,"_map",void 0),Sn(this,"_keyMapper",void 0),this._map=new Map,this._keyMapper=(r=t==null?void 0:t.mapKey)!==null&&r!==void 0?r:n=>n}size(){return this._map.size}has(t){return this._map.has(this._keyMapper(t))}get(t){return this._map.get(this._keyMapper(t))}set(t,r){this._map.set(this._keyMapper(t),r)}delete(t){this._map.delete(this._keyMapper(t))}clear(){this._map.clear()}},$Yt={MapCache:H$},GYt=$Yt.MapCache,HYt=Object.freeze({__proto__:null,MapCache:GYt}),{LRUCache:i4e}=Y4e,{MapCache:WYt}=HYt,x5={equality:"reference",eviction:"none",maxSize:1/0};function ZYt({equality:e=x5.equality,eviction:t=x5.eviction,maxSize:r=x5.maxSize}=x5){let n=YYt(e);return KYt(t,r,n)}function YYt(e){switch(e){case"reference":return t=>t;case"value":return t=>G5(t)}throw new Error(`Unrecognized equality policy ${e}`)}function KYt(e,t,r){switch(e){case"keep-all":return new WYt({mapKey:r});case"lru":return new i4e({mapKey:r,maxSize:Fn(t)});case"most-recent":return new i4e({mapKey:r,maxSize:1})}throw new Error(`Unrecognized eviction policy ${e}`)}var J4e=ZYt,{setConfigDeletionHandler:XYt}=tu;function QYt(e){var t,r;let n=J4e({equality:(t=(r=e.cachePolicyForParams_UNSTABLE)===null||r===void 0?void 0:r.equality)!==null&&t!==void 0?t:"value",eviction:"keep-all"});return i=>{var o;let u=n.get(i);if(u!=null)return u;let w=e,{cachePolicyForParams_UNSTABLE:f}=w,m=zn(w,["cachePolicyForParams_UNSTABLE"]),y=Q4e(gr(nt({},m),{key:`${e.key}__${(o=G5(i))!==null&&o!==void 0?o:"void"}`,default:typeof e.default=="function"?e.default(i):e.default,retainedBy_UNSTABLE:typeof e.retainedBy_UNSTABLE=="function"?e.retainedBy_UNSTABLE(i):e.retainedBy_UNSTABLE,effects_UNSTABLE:typeof e.effects_UNSTABLE=="function"?e.effects_UNSTABLE(i):e.effects_UNSTABLE}));return n.set(i,y),XYt(y.key,()=>{n.delete(i)}),y}}var JYt=QYt,{setConfigDeletionHandler:eKt}=tu,tKt=0;function rKt(e){var t,r;let n=J4e({equality:(t=(r=e.cachePolicyForParams_UNSTABLE)===null||r===void 0?void 0:r.equality)!==null&&t!==void 0?t:"value",eviction:"keep-all"});return i=>{var o;let u=n.get(i);if(u!=null)return u;let f=`${e.key}__selectorFamily/${(o=G5(i,{allowFunctions:!0}))!==null&&o!==void 0?o:"void"}/${tKt++}`,m=M=>e.get(i)(M),y=e.cachePolicy_UNSTABLE,w=typeof e.retainedBy_UNSTABLE=="function"?e.retainedBy_UNSTABLE(i):e.retainedBy_UNSTABLE,I;if(e.set!=null){let M=e.set;I=L5({key:f,get:m,set:(z,F)=>M(i)(z,F),cachePolicy_UNSTABLE:y,dangerouslyAllowMutability:e.dangerouslyAllowMutability,retainedBy_UNSTABLE:w})}else I=L5({key:f,get:m,cachePolicy_UNSTABLE:y,dangerouslyAllowMutability:e.dangerouslyAllowMutability,retainedBy_UNSTABLE:w});return n.set(i,I),eKt(I.key,()=>{n.delete(i)}),I}}var mh=rKt,nKt=mh({key:"__constant",get:e=>()=>e,cachePolicyForParams_UNSTABLE:{equality:"reference"}});function iKt(e){return nKt(e)}var oKt=iKt,aKt=mh({key:"__error",get:e=>()=>{throw new Error(e)},cachePolicyForParams_UNSTABLE:{equality:"reference"}});function sKt(e){return aKt(e)}var lKt=sKt;function uKt(e){return e}var cKt=uKt,{loadableWithError:ePe,loadableWithPromise:tPe,loadableWithValue:rPe}=nS;function H5(e,t){let r=Array(t.length).fill(void 0),n=Array(t.length).fill(void 0);for(let[i,o]of t.entries())try{r[i]=e(o)}catch(u){n[i]=u}return[r,n]}function pKt(e){return e!=null&&!io(e)}function W5(e){return Array.isArray(e)?e:Object.getOwnPropertyNames(e).map(t=>e[t])}function gG(e){return e!=null&&typeof e=="object"&&e.hasOwnProperty("__value")?e.__value:e}function W$(e,t){return Array.isArray(e)?t:Object.getOwnPropertyNames(e).reduce((r,n,i)=>gr(nt({},r),{[n]:t[i]}),{})}function r1(e,t,r){let n=r.map((i,o)=>i==null?rPe(t[o]):io(i)?tPe(i):ePe(i));return W$(e,n)}function fKt(e,t){return t.map((r,n)=>r===void 0?e[n]:r)}var dKt=mh({key:"__waitForNone",get:e=>({get:t})=>{let r=W5(e),[n,i]=H5(t,r);return r1(e,n,i)},dangerouslyAllowMutability:!0}),hKt=mh({key:"__waitForAny",get:e=>({get:t})=>{let r=W5(e),[n,i]=H5(t,r);return i.some(o=>!io(o))?r1(e,n,i):new Promise(o=>{for(let[u,f]of i.entries())io(f)&&f.then(m=>{n[u]=gG(m),i[u]=void 0,o(r1(e,n,i))}).catch(m=>{i[u]=m,o(r1(e,n,i))})})},dangerouslyAllowMutability:!0}),mKt=mh({key:"__waitForAll",get:e=>({get:t})=>{let r=W5(e),[n,i]=H5(t,r);if(i.every(u=>u==null))return W$(e,n);let o=i.find(pKt);if(o!=null)throw o;return Promise.all(i).then(u=>W$(e,fKt(n,u).map(gG)))},dangerouslyAllowMutability:!0}),gKt=mh({key:"__waitForAllSettled",get:e=>({get:t})=>{let r=W5(e),[n,i]=H5(t,r);return i.every(o=>!io(o))?r1(e,n,i):Promise.all(i.map((o,u)=>io(o)?o.then(f=>{n[u]=gG(f),i[u]=void 0}).catch(f=>{n[u]=void 0,i[u]=f}):null)).then(()=>r1(e,n,i))},dangerouslyAllowMutability:!0}),vKt=mh({key:"__noWait",get:e=>({get:t})=>{try{return rPe(t(e))}catch(r){return io(r)?tPe(r):ePe(r)}},dangerouslyAllowMutability:!0}),yKt={waitForNone:dKt,waitForAny:hKt,waitForAll:mKt,waitForAllSettled:gKt,noWait:vKt},{batchUpdates:_Kt,setBatcher:bKt}=iG,{DefaultValue:xKt}=tu,{RecoilRoot:wKt}=U5,{isRecoilValue:SKt}=hh,{retentionZone:IKt}=q5,{freshSnapshot:EKt}=B5,{useGotoRecoilSnapshot:TKt,useRecoilCallback:MKt,useRecoilSnapshot:CKt,useRecoilState:AKt,useRecoilStateLoadable:PKt,useRecoilTransaction:OKt,useRecoilTransactionObserver:DKt,useRecoilValue:NKt,useRecoilValueLoadable:kKt,useResetRecoilState:LKt,useRetain:RKt,useSetRecoilState:qKt,useSetUnvalidatedAtomValues:zKt,useTransactionObservation_DEPRECATED:jKt}=WZt,{noWait:FKt,waitForAll:BKt,waitForAllSettled:UKt,waitForAny:VKt,waitForNone:$Kt}=yKt,_n={DefaultValue:xKt,RecoilRoot:wKt,useRecoilBridgeAcrossReactRoots_UNSTABLE:rYt,atom:Q4e,selector:L5,retentionZone:IKt,atomFamily:JYt,selectorFamily:mh,constSelector:oKt,errorSelector:lKt,readOnlySelector:cKt,useRecoilValue:NKt,useRecoilValueLoadable:kKt,useRecoilState:AKt,useRecoilStateLoadable:PKt,useSetRecoilState:qKt,useResetRecoilState:LKt,useGetRecoilValueInfo_UNSTABLE:XZt,useRetain:RKt,useRecoilCallback:MKt,useRecoilTransaction_UNSTABLE:OKt,useGotoRecoilSnapshot:TKt,useRecoilSnapshot:CKt,useRecoilTransactionObserver_UNSTABLE:DKt,useTransactionObservation_UNSTABLE:jKt,useSetUnvalidatedAtomValues_UNSTABLE:zKt,noWait:FKt,waitForNone:$Kt,waitForAny:VKt,waitForAll:BKt,waitForAllSettled:UKt,isRecoilValue:SKt,batchUpdates:_Kt,setBatcher:bKt,snapshot_UNSTABLE:EKt},Gkr=_n.DefaultValue,nPe=_n.RecoilRoot,Hkr=_n.useRecoilBridgeAcrossReactRoots_UNSTABLE,ln=_n.atom,Cg=_n.selector,Wkr=_n.retentionZone,Zkr=_n.atomFamily,Ykr=_n.selectorFamily,Kkr=_n.constSelector,Xkr=_n.errorSelector,Qkr=_n.readOnlySelector,yr=_n.useRecoilValue,Jkr=_n.useRecoilValueLoadable,Pn=_n.useRecoilState,e6r=_n.useRecoilStateLoadable,ki=_n.useSetRecoilState,t6r=_n.useResetRecoilState,r6r=_n.useGetRecoilValueInfo_UNSTABLE,n6r=_n.useRetain,vG=_n.useRecoilCallback,i6r=_n.useRecoilTransaction_UNSTABLE,o6r=_n.useGotoRecoilSnapshot,a6r=_n.useRecoilSnapshot,s6r=_n.useRecoilTransactionObserver_UNSTABLE,l6r=_n.useTransactionObservation_UNSTABLE,u6r=_n.useSetUnvalidatedAtomValues_UNSTABLE,c6r=_n.noWait,p6r=_n.waitForNone,f6r=_n.waitForAny,d6r=_n.waitForAll,h6r=_n.waitForAllSettled,m6r=_n.isRecoilValue,g6r=_n.batchUpdates,v6r=_n.setBatcher,y6r=_n.snapshot_UNSTABLE;var uu=se(He(),1),tc=se(Wt(),1);function pPe(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=pPe(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function WKt(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=pPe(e))&&(n&&(n+=" "),n+=t);return n}var _r=WKt;var Gu=se(a1(),1);var yOe=se(gh(),1);var c1={EN:"en",DE:"de"},BXt=typeof process!="undefined"&&zt(process.env.DEV_MODE_SECRET)&&process.env.DEV_MODE_SECRET!==""&&zt(process.env.DEV_MODE_NAME)&&process.env.DEV_MODE_NAME!=="",t4=()=>({"Dev-Mode-Secret":process.env.DEV_MODE_SECRET,"Dev-Mode-Name":process.env.DEV_MODE_NAME}),gs={BASEMAPS:[{id:"slub-osm",label:"SLUB OSM",urls:["https://tile-2.kartenforum.slub-dresden.de/styles/maptiler-basic-v2/style.json"],type:"vector",tileSize:512},{id:"bkg-topoplus",label:"BKG TopPlusOpen",urls:["https://sgx.geodatenzentrum.de/wms_topplus_open"],type:"wms",layers:"web",tileSize:512}],ENABLE_TILE_PRELOADING:!1,LANGUAGE_CODE:c1.EN,MARKER_IMAGE_ID:"marker",USERNAME:"anonymous",USER_ISAUTHENTICATED:!1,USER_ROLE:null},Nr={axiosApiInstance:null,appendSettings(e){gs=Object.assign({},gs,e)},getSettings(){return gs},getBaseMaps(){return gs.BASEMAPS},getDefaultBaseMapUrls(){return["https://tile-1.kartenforum.slub-dresden.de/styles/maptiler-basic-v2/{z}/{x}/{y}.png","https://tile-2.kartenforum.slub-dresden.de/styles/maptiler-basic-v2/{z}/{x}/{y}.png"]},getDefaultMapView(){return Object.assign({center:[14.9928,51.1463],zoom:6.3,maxZoom:19,minZoom:0},gs.MAPVIEW_PARAMS)},getLanguageDict(){return gs.dictionary},getMin3DZoomLevel(){return 9},getNominatimUrl(){return gs.NOMINATIM_URL},getTerrain(){return Object.assign({url:"https://terrain.kartenforum.slub-dresden.de/v2/{z}/{x}/{y}.png",attribution:"<a href='https://kartenforum.slub-dresden.de/attribution' target='_blank'>\xA9 U.S. Geological Survey and others</a>",exaggeration:1,minZoom:0,maxZoom:12},gs.TERRAIN_TILES)},getUsername(){return gs.USERNAME},isUserAuthenticated(){return gs.USER_ISAUTHENTICATED===!0},updateSettings(e){gs=e},_initAxiosApiInstance(){let e=gs.API_GEOREFERENCE_BASEURL,t=p1(e)&&e.length===0;if(!zt(e)||t)throw new Error("The URL for the georeference service is not set.");let r=Object.assign({baseURL:e,withCredentials:!0},BXt?{headers:{get:t4(),post:t4(),put:t4(),delete:t4()}}:{});this.axiosApiInstance=yOe.default.create(r)},getGeoreferenceApiClient(){return zt(this.axiosApiInstance)?this.axiosApiInstance:(this._initAxiosApiInstance(),this.axiosApiInstance)},getMarkerSettings(){let e=gs.MARKER_URL;if(!zt(e))throw new Error("The marker icon url is not set.");return{id:gs.MARKER_IMAGE_ID,url:e}},getUserRole(){return gs.USER_ROLE}};var UXt="vkf-unique-control-panel",FG="basemap-selector",jG=class{constructor(){ut(this,"id",FG)}onAdd(t){this._map=t;let r=`maplibregl-ctrl maplibregl-ctrl-group basemap-selector ${UXt}`,n=document.createElement("div");return n.className=r,this._container=n,n}onRemove(){this._container.parentNode.removeChild(this._container),this._map=void 0}},_Oe=jG;var Pg=se(AOe(),1);var POe=(e,t="control-feedback-container")=>{let r=document.getElementById(t);if(r===null){let n=e.getCanvasContainer();r=document.createElement("div"),r.id=t,n.appendChild(r)}return r};var r4=3,OOe=e=>`${(0,Pg.default)(e[0],7)},${(0,Pg.default)(e[1],7)}`,n4=class{constructor(){ut(this,"buttonCopyPosition");ut(this,"textElCurrentPosition");ut(this,"textElSavedPosition");ut(this,"targetEl");ut(this,"_container");ut(this,"_button");ut(this,"savedPosition");ut(this,"generateSavedText",()=>{if(this.savedPosition===void 0)return this.buttonCopyPosition!==void 0&&(this.buttonCopyPosition.style.display="none"),gt("control-mouseposition-save-helper");{let t=gt("control-mouseposition-saved-label");return this.buttonCopyPosition!==void 0&&(this.buttonCopyPosition.style.display="block"),t+": Lon: "+(0,Pg.default)(this.savedPosition[0],r4)+" Lat: "+(0,Pg.default)(this.savedPosition[1],r4)}});ut(this,"savePosition",t=>{if(this._map){let r=t.lngLat.toArray();this.savedPosition=r.slice(),navigator.clipboard.writeText(OOe(r)),this.updatePosition(t)}});ut(this,"updatePosition",t=>{let r=this.textElCurrentPosition,n=this.textElSavedPosition,{lngLat:i}=t;r.innerHTML="Lon: "+(0,Pg.default)(i.lng,r4)+", Lat: "+(0,Pg.default)(i.lat,r4),n.innerHTML=this.generateSavedText()});ut(this,"handleCopyButtonClick",t=>{t.preventDefault(),t.stopPropagation();let r=this.savedPosition;r!==void 0&&navigator.clipboard.writeText(OOe(r)),t.target.blur()});ut(this,"toggleMousePosition",t=>{t.preventDefault();let r="active",n=this._button.classList.contains(r),i=this._map;if(!i)return;this._button.classList.toggle(r);let o=this.targetEl,u=POe(i);if(this.targetEl===void 0){o=document.createElement("div"),o.className="ol-control ol-mouse-position-box";let f=document.createElement("p");this.textElCurrentPosition=f;let m=document.createElement("p");this.textElSavedPosition=m;let y=document.createElement("button");y.id="position-copy-to-clipboard",y.innerHTML="<span class=\"glyphicon glyphicon-copy\"></span>",y.title=gt("control-mouseposition-button-title"),this.buttonCopyPosition=y,y.addEventListener("click",this.handleCopyButtonClick);let w=document.createElement("div");w.className="saved-position-container",w.appendChild(m),w.appendChild(y),o.appendChild(f),o.appendChild(w),u.appendChild(o),this.targetEl=o}else this.textElCurrentPosition.innerHTML="",this.textElSavedPosition.innerHTML="";n?(i.off("mousemove",this.updatePosition),i.off("click",this.savePosition)):(this.savedPosition=void 0,i.on("mousemove",this.updatePosition),i.on("click",this.savePosition)),this.updatePosition({lngLat:i.unproject([t.clientX,t.clientY])}),o.classList.toggle(r),u.classList.toggle(`mouseposition-${r}`)})}onAdd(t){this._map=t;let r=document.createElement("div");r.className="maplibregl-ctrl maplibregl-ctrl-group";let n=document.createElement("button");return n.title=gt("control-mouseposition-title"),n.className="maplibregl-ctrl-mouse-position",n.type="button",r.appendChild(n),this._container=r,this._button=n,n.addEventListener("click",this.toggleMousePosition,!1),this._container}onRemove(){this._map.off("mousemove",this.updatePosition),this._map.off("click",this.savePosition),this._map=null,this._container.parentNode.removeChild(this._container)}};function DOe(e,t){for(let r of e)typeof t[r]=="function"&&(t[r]=t[r].bind(t))}function f1(e,t,r){let n=window.document.createElement(e);return t!==void 0&&(n.className=t),r&&r.appendChild(n),n}function NOe(e){e.parentNode&&e.parentNode.removeChild(e)}var VG="permalink-control",UG=class{constructor(){ut(this,"id",VG)}onAdd(t){return this._map=t,this._container=f1("div","maplibregl-ctrl maplibregl-ctrl-group permalink-control"),this._container}onRemove(){this._container.parentNode.removeChild(this._container),this._map=void 0}},kOe=UG;var i4=class{constructor(){ut(this,"_map");ut(this,"_container");ut(this,"_terrainButton");DOe(["_toggleTerrain","_updateTerrainIcon"],this)}onAdd(t){return this._map=t,this._container=f1("div","maplibregl-ctrl maplibregl-ctrl-group"),this._terrainButton=f1("button","maplibregl-ctrl-terrain",this._container),f1("span","maplibregl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){NOe(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}_toggleTerrain(){this._map.hasTerrain()?this._map.disableTerrain():this._map.enableTerrain(),this._updateTerrainIcon()}_updateTerrainIcon(){this._terrainButton.classList.remove("maplibregl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled"),this._map.hasTerrain()?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.Disable")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.Enable"))}};function zt(e){return e!=null}function p1(e){return typeof e=="string"||e instanceof String}function o4(e){let t;try{t=new URL(e)}catch(r){return!1}return t.protocol==="http:"||t.protocol==="https:"}function gt(e){let t=Nr.getLanguageDict();if(t===void 0)throw new Error("Dictionary is undefined.");let r=t[e];return r===void 0?(console.warn(`Translation for key "${e}" was not found in dictionary.`),""):r}var LOe=()=>[{position:"top-left",control:new Gu.NavigationControl({showZoom:!0,showCompass:!1,visualizePitch:!1})},{position:"top-left",control:new Gu.FullscreenControl},{position:"top-left",control:new Gu.NavigationControl({showZoom:!1,showCompass:!0,visualizePitch:!0})},{position:"top-left",control:new n4},{position:"top-left",control:new i4},{position:"top-left",control:new _Oe},{position:"top-left",control:new Gu.GeolocateControl({trackUserLocation:!0})},{position:"top-left",control:new kOe},{position:"bottom-right",control:new Gu.AttributionControl({compact:!0})},{position:"bottom-right",control:new Gu.ScaleControl({maxWidth:137})}];var vh="vkf-terrain";var ROe=new Set(["fill-opacity","line-opacity","circle-opacity","icon-opacity","text-opacity","raster-opacity"]),qOe=new Set(["visibility"]),Hs={None:"NONE",BasemapSelector:"BASEMAP_SELECTOR",Permalink:"PERMALINK"},Hu={controlAdded:"controlAdded",controlRemoved:"controlRemoved",opacityChanged:"opacityChanged",visibilityChanged:"visibilityChanged"};var zOe={NONE:0,FEATURE:1,METADATA:2,HISTORY:3},jOe={NONE:0,METADATA:1},yh={HORIZONTAL:"HORIZONTAL",VERTICAL:"VERTICAL"},FOe={STANDARD:"STANDARD",DRAW:"DRAW",VECTOR_MAP_EXTERNAL:"VECTOR_MAP_EXTERNAL"};var BOe=e=>{switch(e){case yh.HORIZONTAL:default:return"ol-map-large";case yh.VERTICAL:return"ol-map-small"}};var Bt={id:"id",timeChanged:"time_changed",title:"title",thumbnailUrl:"thumb_url",bounds:"bounds",hasGeoReference:"has_georeference",tmsUrls:"tms_urls",onlineResources:"online_resources",mapScale:"map_scale",rawMapIds:"raw_map_ids",name:"name",description:"description",timePeriod:"time_period",externalContentUrl:"external_content_url",externalContentType:"external_content_type",type:"type",vectorMapId:"vector_map_id",version:"version",userRole:"user_role"},Gc={id:"vkf:layer_id",contentType:"vkf:content_type"},Og={VKF:"vkf:geojson-spec-v1",IDOHIST:"idohist:idohist-v1"},Ba={HISTORIC_MAP:"historic_map",MOSAIC_MAP:"mosaic",VECTOR_MAP:"vector",LEGACY_GEOJSON:"geojson"},cf={VISIBLE:"visible",NONE:"none"};var lQt=Math.pow(10,8)*24*60*60*1e3,rRr=-lQt,a4=6048e5,UOe=864e5,uS=6e4,cS=36e5,VOe=1e3;var uQt=3600;var $Oe=uQt*24,nRr=$Oe*7,cQt=$Oe*365.2425,pQt=cQt/12,iRr=pQt*3,$G=Symbol.for("constructDateFrom");function bn(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&$G in e?e[$G](t):e instanceof Date?new e.constructor(t):new Date(t)}function Ur(e,t){return bn(t||e,e)}function s4(e,t,r){let n=Ur(e,r==null?void 0:r.in);return isNaN(t)?bn((r==null?void 0:r.in)||e,NaN):(t&&n.setDate(n.getDate()+t),n)}var fQt={};function ru(){return fQt}function Ws(e,t){var f,m,y,w,I,M,N,z;let r=ru(),n=(z=(N=(w=(y=t==null?void 0:t.weekStartsOn)!=null?y:(m=(f=t==null?void 0:t.locale)==null?void 0:f.options)==null?void 0:m.weekStartsOn)!=null?w:r.weekStartsOn)!=null?N:(M=(I=r.locale)==null?void 0:I.options)==null?void 0:M.weekStartsOn)!=null?z:0,i=Ur(e,t==null?void 0:t.in),o=i.getDay(),u=(o<n?7:0)+o-n;return i.setDate(i.getDate()-u),i.setHours(0,0,0,0),i}function Wu(e,t){return Ws(e,gr(nt({},t),{weekStartsOn:1}))}function l4(e,t){let r=Ur(e,t==null?void 0:t.in),n=r.getFullYear(),i=bn(r,0);i.setFullYear(n+1,0,4),i.setHours(0,0,0,0);let o=Wu(i),u=bn(r,0);u.setFullYear(n,0,4),u.setHours(0,0,0,0);let f=Wu(u);return r.getTime()>=o.getTime()?n+1:r.getTime()>=f.getTime()?n:n-1}function Dg(e){let t=Ur(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function u4(e,...t){let r=bn.bind(null,e||t.find(n=>typeof n=="object"));return t.map(r)}function pS(e,t){let r=Ur(e,t==null?void 0:t.in);return r.setHours(0,0,0,0),r}function GOe(e,t,r){let[n,i]=u4(r==null?void 0:r.in,e,t),o=pS(n),u=pS(i),f=+o-Dg(o),m=+u-Dg(u);return Math.round((f-m)/UOe)}function HOe(e,t){let r=l4(e,t),n=bn((t==null?void 0:t.in)||e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),Wu(n)}function WOe(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function c4(e){return!(!WOe(e)&&typeof e!="number"||isNaN(+Ur(e)))}function ZOe(e,t){let r=Ur(e,t==null?void 0:t.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}var dQt={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},YOe=(e,t,r)=>{let n,i=dQt[e];return typeof i=="string"?n=i:t===1?n=i.one:n=i.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function p4(e){return(t={})=>{let r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}var hQt={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},mQt={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},gQt={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},KOe={date:p4({formats:hQt,defaultWidth:"full"}),time:p4({formats:mQt,defaultWidth:"full"}),dateTime:p4({formats:gQt,defaultWidth:"full"})};var vQt={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},XOe=(e,t,r,n)=>vQt[e];function d1(e){return(t,r)=>{let n=r!=null&&r.context?String(r.context):"standalone",i;if(n==="formatting"&&e.formattingValues){let u=e.defaultFormattingWidth||e.defaultWidth,f=r!=null&&r.width?String(r.width):u;i=e.formattingValues[f]||e.formattingValues[u]}else{let u=e.defaultWidth,f=r!=null&&r.width?String(r.width):e.defaultWidth;i=e.values[f]||e.values[u]}let o=e.argumentCallback?e.argumentCallback(t):t;return i[o]}}var yQt={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},_Qt={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},bQt={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},xQt={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},wQt={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},SQt={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},IQt=(e,t)=>{let r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},QOe={ordinalNumber:IQt,era:d1({values:yQt,defaultWidth:"wide"}),quarter:d1({values:_Qt,defaultWidth:"wide",argumentCallback:e=>e-1}),month:d1({values:bQt,defaultWidth:"wide"}),day:d1({values:xQt,defaultWidth:"wide"}),dayPeriod:d1({values:wQt,defaultWidth:"wide",formattingValues:SQt,defaultFormattingWidth:"wide"})};function h1(e){return(t,r={})=>{let n=r.width,i=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],o=t.match(i);if(!o)return null;let u=o[0],f=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],m=Array.isArray(f)?TQt(f,I=>I.test(u)):EQt(f,I=>I.test(u)),y;y=e.valueCallback?e.valueCallback(m):m,y=r.valueCallback?r.valueCallback(y):y;let w=t.slice(u.length);return{value:y,rest:w}}}function EQt(e,t){for(let r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function TQt(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function JOe(e){return(t,r={})=>{let n=t.match(e.matchPattern);if(!n)return null;let i=n[0],o=t.match(e.parsePattern);if(!o)return null;let u=e.valueCallback?e.valueCallback(o[0]):o[0];u=r.valueCallback?r.valueCallback(u):u;let f=t.slice(i.length);return{value:u,rest:f}}}var MQt=/^(\d+)(th|st|nd|rd)?/i,CQt=/\d+/i,AQt={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},PQt={any:[/^b/i,/^(a|c)/i]},OQt={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},DQt={any:[/1/i,/2/i,/3/i,/4/i]},NQt={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},kQt={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},LQt={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},RQt={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},qQt={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},zQt={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},eDe={ordinalNumber:JOe({matchPattern:MQt,parsePattern:CQt,valueCallback:e=>parseInt(e,10)}),era:h1({matchPatterns:AQt,defaultMatchWidth:"wide",parsePatterns:PQt,defaultParseWidth:"any"}),quarter:h1({matchPatterns:OQt,defaultMatchWidth:"wide",parsePatterns:DQt,defaultParseWidth:"any",valueCallback:e=>e+1}),month:h1({matchPatterns:NQt,defaultMatchWidth:"wide",parsePatterns:kQt,defaultParseWidth:"any"}),day:h1({matchPatterns:LQt,defaultMatchWidth:"wide",parsePatterns:RQt,defaultParseWidth:"any"}),dayPeriod:h1({matchPatterns:qQt,defaultMatchWidth:"any",parsePatterns:zQt,defaultParseWidth:"any"})};var fS={code:"en-US",formatDistance:YOe,formatLong:KOe,formatRelative:XOe,localize:QOe,match:eDe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function tDe(e,t){let r=Ur(e,t==null?void 0:t.in);return GOe(r,ZOe(r))+1}function f4(e,t){let r=Ur(e,t==null?void 0:t.in),n=+Wu(r)-+HOe(r);return Math.round(n/a4)+1}function m1(e,t){var w,I,M,N,z,F,q,R;let r=Ur(e,t==null?void 0:t.in),n=r.getFullYear(),i=ru(),o=(R=(q=(N=(M=t==null?void 0:t.firstWeekContainsDate)!=null?M:(I=(w=t==null?void 0:t.locale)==null?void 0:w.options)==null?void 0:I.firstWeekContainsDate)!=null?N:i.firstWeekContainsDate)!=null?q:(F=(z=i.locale)==null?void 0:z.options)==null?void 0:F.firstWeekContainsDate)!=null?R:1,u=bn((t==null?void 0:t.in)||e,0);u.setFullYear(n+1,0,o),u.setHours(0,0,0,0);let f=Ws(u,t),m=bn((t==null?void 0:t.in)||e,0);m.setFullYear(n,0,o),m.setHours(0,0,0,0);let y=Ws(m,t);return+r>=+f?n+1:+r>=+y?n:n-1}function rDe(e,t){var f,m,y,w,I,M,N,z;let r=ru(),n=(z=(N=(w=(y=t==null?void 0:t.firstWeekContainsDate)!=null?y:(m=(f=t==null?void 0:t.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)!=null?w:r.firstWeekContainsDate)!=null?N:(M=(I=r.locale)==null?void 0:I.options)==null?void 0:M.firstWeekContainsDate)!=null?z:1,i=m1(e,t),o=bn((t==null?void 0:t.in)||e,0);return o.setFullYear(i,0,n),o.setHours(0,0,0,0),Ws(o,t)}function d4(e,t){let r=Ur(e,t==null?void 0:t.in),n=+Ws(r,t)-+rDe(r,t);return Math.round(n/a4)+1}function an(e,t){let r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}var pf={y(e,t){let r=e.getFullYear(),n=r>0?r:1-r;return an(t==="yy"?n%100:n,t.length)},M(e,t){let r=e.getMonth();return t==="M"?String(r+1):an(r+1,2)},d(e,t){return an(e.getDate(),t.length)},a(e,t){let r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return an(e.getHours()%12||12,t.length)},H(e,t){return an(e.getHours(),t.length)},m(e,t){return an(e.getMinutes(),t.length)},s(e,t){return an(e.getSeconds(),t.length)},S(e,t){let r=t.length,n=e.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return an(i,t.length)}};var g1={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},GG={G:function(e,t,r){let n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){let n=e.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return pf.y(e,t)},Y:function(e,t,r,n){let i=m1(e,n),o=i>0?i:1-i;if(t==="YY"){let u=o%100;return an(u,2)}return t==="Yo"?r.ordinalNumber(o,{unit:"year"}):an(o,t.length)},R:function(e,t){let r=l4(e);return an(r,t.length)},u:function(e,t){let r=e.getFullYear();return an(r,t.length)},Q:function(e,t,r){let n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return an(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){let n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return an(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){let n=e.getMonth();switch(t){case"M":case"MM":return pf.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){let n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return an(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){let i=d4(e,n);return t==="wo"?r.ordinalNumber(i,{unit:"week"}):an(i,t.length)},I:function(e,t,r){let n=f4(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):an(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):pf.d(e,t)},D:function(e,t,r){let n=tDe(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):an(n,t.length)},E:function(e,t,r){let n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){let i=e.getDay(),o=(i-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return an(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){let i=e.getDay(),o=(i-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return an(o,t.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,r){let n=e.getDay(),i=n===0?7:n;switch(t){case"i":return String(i);case"ii":return an(i,t.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){let i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,r){let n=e.getHours(),i;switch(n===12?i=g1.noon:n===0?i=g1.midnight:i=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,r){let n=e.getHours(),i;switch(n>=17?i=g1.evening:n>=12?i=g1.afternoon:n>=4?i=g1.morning:i=g1.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return pf.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):pf.H(e,t)},K:function(e,t,r){let n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):an(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):an(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):pf.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):pf.s(e,t)},S:function(e,t){return pf.S(e,t)},X:function(e,t,r){let n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return iDe(n);case"XXXX":case"XX":return Ng(n);case"XXXXX":case"XXX":default:return Ng(n,":")}},x:function(e,t,r){let n=e.getTimezoneOffset();switch(t){case"x":return iDe(n);case"xxxx":case"xx":return Ng(n);case"xxxxx":case"xxx":default:return Ng(n,":")}},O:function(e,t,r){let n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+nDe(n,":");case"OOOO":default:return"GMT"+Ng(n,":")}},z:function(e,t,r){let n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+nDe(n,":");case"zzzz":default:return"GMT"+Ng(n,":")}},t:function(e,t,r){let n=Math.trunc(+e/1e3);return an(n,t.length)},T:function(e,t,r){return an(+e,t.length)}};function nDe(e,t=""){let r=e>0?"-":"+",n=Math.abs(e),i=Math.trunc(n/60),o=n%60;return o===0?r+String(i):r+String(i)+t+an(o,2)}function iDe(e,t){return e%60===0?(e>0?"-":"+")+an(Math.abs(e)/60,2):Ng(e,t)}function Ng(e,t=""){let r=e>0?"-":"+",n=Math.abs(e),i=an(Math.trunc(n/60),2),o=an(n%60,2);return r+i+t+o}var oDe=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},aDe=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},jQt=(e,t)=>{let r=e.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return oDe(e,t);let o;switch(n){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",oDe(n,t)).replace("{{time}}",aDe(i,t))},dS={p:aDe,P:jQt};var FQt=/^D+$/,BQt=/^Y+$/,UQt=["D","DD","YY","YYYY"];function h4(e){return FQt.test(e)}function m4(e){return BQt.test(e)}function hS(e,t,r){let n=VQt(e,t,r);if(console.warn(n),UQt.includes(e))throw new RangeError(n)}function VQt(e,t,r){let n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}var $Qt=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,GQt=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,HQt=/^'([^]*?)'?$/,WQt=/''/g,ZQt=/[a-zA-Z]/;function HG(e,t,r){var w,I,M,N,z,F,q,R,U,Y,re,de,ce,Se,qe,Re,Te,Ee;let n=ru(),i=(I=(w=r==null?void 0:r.locale)!=null?w:n.locale)!=null?I:fS,o=(Y=(U=(F=(z=r==null?void 0:r.firstWeekContainsDate)!=null?z:(N=(M=r==null?void 0:r.locale)==null?void 0:M.options)==null?void 0:N.firstWeekContainsDate)!=null?F:n.firstWeekContainsDate)!=null?U:(R=(q=n.locale)==null?void 0:q.options)==null?void 0:R.firstWeekContainsDate)!=null?Y:1,u=(Ee=(Te=(Se=(ce=r==null?void 0:r.weekStartsOn)!=null?ce:(de=(re=r==null?void 0:r.locale)==null?void 0:re.options)==null?void 0:de.weekStartsOn)!=null?Se:n.weekStartsOn)!=null?Te:(Re=(qe=n.locale)==null?void 0:qe.options)==null?void 0:Re.weekStartsOn)!=null?Ee:0,f=Ur(e,r==null?void 0:r.in);if(!c4(f))throw new RangeError("Invalid time value");let m=t.match(GQt).map(Ne=>{let _e=Ne[0];if(_e==="p"||_e==="P"){let ze=dS[_e];return ze(Ne,i.formatLong)}return Ne}).join("").match($Qt).map(Ne=>{if(Ne==="''")return{isToken:!1,value:"'"};let _e=Ne[0];if(_e==="'")return{isToken:!1,value:YQt(Ne)};if(GG[_e])return{isToken:!0,value:Ne};if(_e.match(ZQt))throw new RangeError("Format string contains an unescaped latin alphabet character `"+_e+"`");return{isToken:!1,value:Ne}});i.localize.preprocessor&&(m=i.localize.preprocessor(f,m));let y={firstWeekContainsDate:o,weekStartsOn:u,locale:i};return m.map(Ne=>{if(!Ne.isToken)return Ne.value;let _e=Ne.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&m4(_e)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&h4(_e))&&hS(_e,t,String(e));let ze=GG[_e[0]];return ze(f,_e,i.localize,y)}).join("")}function YQt(e){let t=e.match(HQt);return t?t[1].replace(WQt,"'"):e}function sDe(e,t){var y,w;let r=Ur(e,t==null?void 0:t.in);if(isNaN(+r))throw new RangeError("Invalid time value");let n=(y=t==null?void 0:t.format)!=null?y:"extended",i=(w=t==null?void 0:t.representation)!=null?w:"complete",o="",u="",f=n==="extended"?"-":"",m=n==="extended"?":":"";if(i!=="time"){let I=an(r.getDate(),2),M=an(r.getMonth()+1,2);o=`${an(r.getFullYear(),4)}${f}${M}${f}${I}`}if(i!=="date"){let I=r.getTimezoneOffset();if(I!==0){let R=Math.abs(I),U=an(Math.trunc(R/60),2),Y=an(R%60,2);u=`${I<0?"+":"-"}${U}:${Y}`}else u="Z";let M=an(r.getHours(),2),N=an(r.getMinutes(),2),z=an(r.getSeconds(),2),F=o===""?"":"T",q=[M,N,z].join(m);o=`${o}${F}${q}${u}`}return o}function lDe(){return Object.assign({},ru())}function uDe(e,t){let r=Ur(e,t==null?void 0:t.in).getDay();return r===0?7:r}function mS(e,t){return Ur(e,t==null?void 0:t.in).getFullYear()}function cDe(e,t){let r=KQt(t)?new t(0):bn(t,0);return r.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),r.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),r}function KQt(e){var t;return typeof e=="function"&&((t=e.prototype)==null?void 0:t.constructor)===e}var XQt=10,g4=class{constructor(){ut(this,"subPriority",0)}validate(t,r){return!0}},v4=class extends g4{constructor(t,r,n,i,o){super(),this.value=t,this.validateValue=r,this.setValue=n,this.priority=i,o&&(this.subPriority=o)}validate(t,r){return this.validateValue(t,this.value,r)}set(t,r,n){return this.setValue(t,r,this.value,n)}},y4=class extends g4{constructor(r,n){super();ut(this,"priority",XQt);ut(this,"subPriority",-1);this.context=r||(i=>bn(n,i))}set(r,n){return n.timestampIsSet?r:bn(r,cDe(r,this.context))}};var or=class{run(t,r,n,i){let o=this.parse(t,r,n,i);return o?{setter:new v4(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}validate(t,r,n){return!0}};var _4=class extends or{constructor(){super(...arguments);ut(this,"priority",140);ut(this,"incompatibleTokens",["R","u","t","T"])}parse(r,n,i){switch(n){case"G":case"GG":case"GGG":return i.era(r,{width:"abbreviated"})||i.era(r,{width:"narrow"});case"GGGGG":return i.era(r,{width:"narrow"});case"GGGG":default:return i.era(r,{width:"wide"})||i.era(r,{width:"abbreviated"})||i.era(r,{width:"narrow"})}}set(r,n,i){return n.era=i,r.setFullYear(i,0,1),r.setHours(0,0,0,0),r}};var In={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},nu={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Vn(e,t){return e&&{value:t(e.value),rest:e.rest}}function xn(e,t){let r=t.match(e);return r?{value:parseInt(r[0],10),rest:t.slice(r[0].length)}:null}function iu(e,t){let r=t.match(e);if(!r)return null;if(r[0]==="Z")return{value:0,rest:t.slice(1)};let n=r[1]==="+"?1:-1,i=r[2]?parseInt(r[2],10):0,o=r[3]?parseInt(r[3],10):0,u=r[5]?parseInt(r[5],10):0;return{value:n*(i*cS+o*uS+u*VOe),rest:t.slice(r[0].length)}}function b4(e){return xn(In.anyDigitsSigned,e)}function Qr(e,t){switch(e){case 1:return xn(In.singleDigit,t);case 2:return xn(In.twoDigits,t);case 3:return xn(In.threeDigits,t);case 4:return xn(In.fourDigits,t);default:return xn(new RegExp("^\\d{1,"+e+"}"),t)}}function v1(e,t){switch(e){case 1:return xn(In.singleDigitSigned,t);case 2:return xn(In.twoDigitsSigned,t);case 3:return xn(In.threeDigitsSigned,t);case 4:return xn(In.fourDigitsSigned,t);default:return xn(new RegExp("^-?\\d{1,"+e+"}"),t)}}function y1(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function x4(e,t){let r=t>0,n=r?t:1-t,i;if(n<=50)i=e||100;else{let o=n+50,u=Math.trunc(o/100)*100,f=e>=o%100;i=e+u-(f?100:0)}return r?i:1-i}function w4(e){return e%400===0||e%4===0&&e%100!==0}var S4=class extends or{constructor(){super(...arguments);ut(this,"priority",130);ut(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(r,n,i){let o=u=>({year:u,isTwoDigitYear:n==="yy"});switch(n){case"y":return Vn(Qr(4,r),o);case"yo":return Vn(i.ordinalNumber(r,{unit:"year"}),o);default:return Vn(Qr(n.length,r),o)}}validate(r,n){return n.isTwoDigitYear||n.year>0}set(r,n,i){let o=r.getFullYear();if(i.isTwoDigitYear){let f=x4(i.year,o);return r.setFullYear(f,0,1),r.setHours(0,0,0,0),r}let u=!("era"in n)||n.era===1?i.year:1-i.year;return r.setFullYear(u,0,1),r.setHours(0,0,0,0),r}};var I4=class extends or{constructor(){super(...arguments);ut(this,"priority",130);ut(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(r,n,i){let o=u=>({year:u,isTwoDigitYear:n==="YY"});switch(n){case"Y":return Vn(Qr(4,r),o);case"Yo":return Vn(i.ordinalNumber(r,{unit:"year"}),o);default:return Vn(Qr(n.length,r),o)}}validate(r,n){return n.isTwoDigitYear||n.year>0}set(r,n,i,o){let u=m1(r,o);if(i.isTwoDigitYear){let m=x4(i.year,u);return r.setFullYear(m,0,o.firstWeekContainsDate),r.setHours(0,0,0,0),Ws(r,o)}let f=!("era"in n)||n.era===1?i.year:1-i.year;return r.setFullYear(f,0,o.firstWeekContainsDate),r.setHours(0,0,0,0),Ws(r,o)}};var E4=class extends or{constructor(){super(...arguments);ut(this,"priority",130);ut(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(r,n){return n==="R"?v1(4,r):v1(n.length,r)}set(r,n,i){let o=bn(r,0);return o.setFullYear(i,0,4),o.setHours(0,0,0,0),Wu(o)}};var T4=class extends or{constructor(){super(...arguments);ut(this,"priority",130);ut(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(r,n){return n==="u"?v1(4,r):v1(n.length,r)}set(r,n,i){return r.setFullYear(i,0,1),r.setHours(0,0,0,0),r}};var M4=class extends or{constructor(){super(...arguments);ut(this,"priority",120);ut(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,n,i){switch(n){case"Q":case"QQ":return Qr(n.length,r);case"Qo":return i.ordinalNumber(r,{unit:"quarter"});case"QQQ":return i.quarter(r,{width:"abbreviated",context:"formatting"})||i.quarter(r,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(r,{width:"wide",context:"formatting"})||i.quarter(r,{width:"abbreviated",context:"formatting"})||i.quarter(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=1&&n<=4}set(r,n,i){return r.setMonth((i-1)*3,1),r.setHours(0,0,0,0),r}};var C4=class extends or{constructor(){super(...arguments);ut(this,"priority",120);ut(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,n,i){switch(n){case"q":case"qq":return Qr(n.length,r);case"qo":return i.ordinalNumber(r,{unit:"quarter"});case"qqq":return i.quarter(r,{width:"abbreviated",context:"standalone"})||i.quarter(r,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(r,{width:"wide",context:"standalone"})||i.quarter(r,{width:"abbreviated",context:"standalone"})||i.quarter(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=1&&n<=4}set(r,n,i){return r.setMonth((i-1)*3,1),r.setHours(0,0,0,0),r}};var A4=class extends or{constructor(){super(...arguments);ut(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);ut(this,"priority",110)}parse(r,n,i){let o=u=>u-1;switch(n){case"M":return Vn(xn(In.month,r),o);case"MM":return Vn(Qr(2,r),o);case"Mo":return Vn(i.ordinalNumber(r,{unit:"month"}),o);case"MMM":return i.month(r,{width:"abbreviated",context:"formatting"})||i.month(r,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(r,{width:"wide",context:"formatting"})||i.month(r,{width:"abbreviated",context:"formatting"})||i.month(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=11}set(r,n,i){return r.setMonth(i,1),r.setHours(0,0,0,0),r}};var P4=class extends or{constructor(){super(...arguments);ut(this,"priority",110);ut(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(r,n,i){let o=u=>u-1;switch(n){case"L":return Vn(xn(In.month,r),o);case"LL":return Vn(Qr(2,r),o);case"Lo":return Vn(i.ordinalNumber(r,{unit:"month"}),o);case"LLL":return i.month(r,{width:"abbreviated",context:"standalone"})||i.month(r,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(r,{width:"wide",context:"standalone"})||i.month(r,{width:"abbreviated",context:"standalone"})||i.month(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=0&&n<=11}set(r,n,i){return r.setMonth(i,1),r.setHours(0,0,0,0),r}};function pDe(e,t,r){let n=Ur(e,r==null?void 0:r.in),i=d4(n,r)-t;return n.setDate(n.getDate()-i*7),Ur(n,r==null?void 0:r.in)}var O4=class extends or{constructor(){super(...arguments);ut(this,"priority",100);ut(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(r,n,i){switch(n){case"w":return xn(In.week,r);case"wo":return i.ordinalNumber(r,{unit:"week"});default:return Qr(n.length,r)}}validate(r,n){return n>=1&&n<=53}set(r,n,i,o){return Ws(pDe(r,i,o),o)}};function fDe(e,t,r){let n=Ur(e,r==null?void 0:r.in),i=f4(n,r)-t;return n.setDate(n.getDate()-i*7),n}var D4=class extends or{constructor(){super(...arguments);ut(this,"priority",100);ut(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(r,n,i){switch(n){case"I":return xn(In.week,r);case"Io":return i.ordinalNumber(r,{unit:"week"});default:return Qr(n.length,r)}}validate(r,n){return n>=1&&n<=53}set(r,n,i){return Wu(fDe(r,i))}};var QQt=[31,28,31,30,31,30,31,31,30,31,30,31],JQt=[31,29,31,30,31,30,31,31,30,31,30,31],N4=class extends or{constructor(){super(...arguments);ut(this,"priority",90);ut(this,"subPriority",1);ut(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(r,n,i){switch(n){case"d":return xn(In.date,r);case"do":return i.ordinalNumber(r,{unit:"date"});default:return Qr(n.length,r)}}validate(r,n){let i=r.getFullYear(),o=w4(i),u=r.getMonth();return o?n>=1&&n<=JQt[u]:n>=1&&n<=QQt[u]}set(r,n,i){return r.setDate(i),r.setHours(0,0,0,0),r}};var k4=class extends or{constructor(){super(...arguments);ut(this,"priority",90);ut(this,"subpriority",1);ut(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(r,n,i){switch(n){case"D":case"DD":return xn(In.dayOfYear,r);case"Do":return i.ordinalNumber(r,{unit:"date"});default:return Qr(n.length,r)}}validate(r,n){let i=r.getFullYear();return w4(i)?n>=1&&n<=366:n>=1&&n<=365}set(r,n,i){return r.setMonth(0,i),r.setHours(0,0,0,0),r}};function _1(e,t,r){var I,M,N,z,F,q,R,U;let n=ru(),i=(U=(R=(z=(N=r==null?void 0:r.weekStartsOn)!=null?N:(M=(I=r==null?void 0:r.locale)==null?void 0:I.options)==null?void 0:M.weekStartsOn)!=null?z:n.weekStartsOn)!=null?R:(q=(F=n.locale)==null?void 0:F.options)==null?void 0:q.weekStartsOn)!=null?U:0,o=Ur(e,r==null?void 0:r.in),u=o.getDay(),m=(t%7+7)%7,y=7-i,w=t<0||t>6?t-(u+y)%7:(m+y)%7-(u+y)%7;return s4(o,w,r)}var L4=class extends or{constructor(){super(...arguments);ut(this,"priority",90);ut(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(r,n,i){switch(n){case"E":case"EE":case"EEE":return i.day(r,{width:"abbreviated",context:"formatting"})||i.day(r,{width:"short",context:"formatting"})||i.day(r,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(r,{width:"short",context:"formatting"})||i.day(r,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(r,{width:"wide",context:"formatting"})||i.day(r,{width:"abbreviated",context:"formatting"})||i.day(r,{width:"short",context:"formatting"})||i.day(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=6}set(r,n,i,o){return r=_1(r,i,o),r.setHours(0,0,0,0),r}};var R4=class extends or{constructor(){super(...arguments);ut(this,"priority",90);ut(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(r,n,i,o){let u=f=>{let m=Math.floor((f-1)/7)*7;return(f+o.weekStartsOn+6)%7+m};switch(n){case"e":case"ee":return Vn(Qr(n.length,r),u);case"eo":return Vn(i.ordinalNumber(r,{unit:"day"}),u);case"eee":return i.day(r,{width:"abbreviated",context:"formatting"})||i.day(r,{width:"short",context:"formatting"})||i.day(r,{width:"narrow",context:"formatting"});case"eeeee":return i.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(r,{width:"short",context:"formatting"})||i.day(r,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(r,{width:"wide",context:"formatting"})||i.day(r,{width:"abbreviated",context:"formatting"})||i.day(r,{width:"short",context:"formatting"})||i.day(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=6}set(r,n,i,o){return r=_1(r,i,o),r.setHours(0,0,0,0),r}};var q4=class extends or{constructor(){super(...arguments);ut(this,"priority",90);ut(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(r,n,i,o){let u=f=>{let m=Math.floor((f-1)/7)*7;return(f+o.weekStartsOn+6)%7+m};switch(n){case"c":case"cc":return Vn(Qr(n.length,r),u);case"co":return Vn(i.ordinalNumber(r,{unit:"day"}),u);case"ccc":return i.day(r,{width:"abbreviated",context:"standalone"})||i.day(r,{width:"short",context:"standalone"})||i.day(r,{width:"narrow",context:"standalone"});case"ccccc":return i.day(r,{width:"narrow",context:"standalone"});case"cccccc":return i.day(r,{width:"short",context:"standalone"})||i.day(r,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(r,{width:"wide",context:"standalone"})||i.day(r,{width:"abbreviated",context:"standalone"})||i.day(r,{width:"short",context:"standalone"})||i.day(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=0&&n<=6}set(r,n,i,o){return r=_1(r,i,o),r.setHours(0,0,0,0),r}};function dDe(e,t,r){let n=Ur(e,r==null?void 0:r.in),i=uDe(n,r),o=t-i;return s4(n,o,r)}var z4=class extends or{constructor(){super(...arguments);ut(this,"priority",90);ut(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(r,n,i){let o=u=>u===0?7:u;switch(n){case"i":case"ii":return Qr(n.length,r);case"io":return i.ordinalNumber(r,{unit:"day"});case"iii":return Vn(i.day(r,{width:"abbreviated",context:"formatting"})||i.day(r,{width:"short",context:"formatting"})||i.day(r,{width:"narrow",context:"formatting"}),o);case"iiiii":return Vn(i.day(r,{width:"narrow",context:"formatting"}),o);case"iiiiii":return Vn(i.day(r,{width:"short",context:"formatting"})||i.day(r,{width:"narrow",context:"formatting"}),o);case"iiii":default:return Vn(i.day(r,{width:"wide",context:"formatting"})||i.day(r,{width:"abbreviated",context:"formatting"})||i.day(r,{width:"short",context:"formatting"})||i.day(r,{width:"narrow",context:"formatting"}),o)}}validate(r,n){return n>=1&&n<=7}set(r,n,i){return r=dDe(r,i),r.setHours(0,0,0,0),r}};var j4=class extends or{constructor(){super(...arguments);ut(this,"priority",80);ut(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(r,n,i){switch(n){case"a":case"aa":case"aaa":return i.dayPeriod(r,{width:"abbreviated",context:"formatting"})||i.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(r,{width:"wide",context:"formatting"})||i.dayPeriod(r,{width:"abbreviated",context:"formatting"})||i.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,i){return r.setHours(y1(i),0,0,0),r}};var F4=class extends or{constructor(){super(...arguments);ut(this,"priority",80);ut(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(r,n,i){switch(n){case"b":case"bb":case"bbb":return i.dayPeriod(r,{width:"abbreviated",context:"formatting"})||i.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(r,{width:"wide",context:"formatting"})||i.dayPeriod(r,{width:"abbreviated",context:"formatting"})||i.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,i){return r.setHours(y1(i),0,0,0),r}};var B4=class extends or{constructor(){super(...arguments);ut(this,"priority",80);ut(this,"incompatibleTokens",["a","b","t","T"])}parse(r,n,i){switch(n){case"B":case"BB":case"BBB":return i.dayPeriod(r,{width:"abbreviated",context:"formatting"})||i.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(r,{width:"wide",context:"formatting"})||i.dayPeriod(r,{width:"abbreviated",context:"formatting"})||i.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,i){return r.setHours(y1(i),0,0,0),r}};var U4=class extends or{constructor(){super(...arguments);ut(this,"priority",70);ut(this,"incompatibleTokens",["H","K","k","t","T"])}parse(r,n,i){switch(n){case"h":return xn(In.hour12h,r);case"ho":return i.ordinalNumber(r,{unit:"hour"});default:return Qr(n.length,r)}}validate(r,n){return n>=1&&n<=12}set(r,n,i){let o=r.getHours()>=12;return o&&i<12?r.setHours(i+12,0,0,0):!o&&i===12?r.setHours(0,0,0,0):r.setHours(i,0,0,0),r}};var V4=class extends or{constructor(){super(...arguments);ut(this,"priority",70);ut(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(r,n,i){switch(n){case"H":return xn(In.hour23h,r);case"Ho":return i.ordinalNumber(r,{unit:"hour"});default:return Qr(n.length,r)}}validate(r,n){return n>=0&&n<=23}set(r,n,i){return r.setHours(i,0,0,0),r}};var $4=class extends or{constructor(){super(...arguments);ut(this,"priority",70);ut(this,"incompatibleTokens",["h","H","k","t","T"])}parse(r,n,i){switch(n){case"K":return xn(In.hour11h,r);case"Ko":return i.ordinalNumber(r,{unit:"hour"});default:return Qr(n.length,r)}}validate(r,n){return n>=0&&n<=11}set(r,n,i){return r.getHours()>=12&&i<12?r.setHours(i+12,0,0,0):r.setHours(i,0,0,0),r}};var G4=class extends or{constructor(){super(...arguments);ut(this,"priority",70);ut(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(r,n,i){switch(n){case"k":return xn(In.hour24h,r);case"ko":return i.ordinalNumber(r,{unit:"hour"});default:return Qr(n.length,r)}}validate(r,n){return n>=1&&n<=24}set(r,n,i){let o=i<=24?i%24:i;return r.setHours(o,0,0,0),r}};var H4=class extends or{constructor(){super(...arguments);ut(this,"priority",60);ut(this,"incompatibleTokens",["t","T"])}parse(r,n,i){switch(n){case"m":return xn(In.minute,r);case"mo":return i.ordinalNumber(r,{unit:"minute"});default:return Qr(n.length,r)}}validate(r,n){return n>=0&&n<=59}set(r,n,i){return r.setMinutes(i,0,0),r}};var W4=class extends or{constructor(){super(...arguments);ut(this,"priority",50);ut(this,"incompatibleTokens",["t","T"])}parse(r,n,i){switch(n){case"s":return xn(In.second,r);case"so":return i.ordinalNumber(r,{unit:"second"});default:return Qr(n.length,r)}}validate(r,n){return n>=0&&n<=59}set(r,n,i){return r.setSeconds(i,0),r}};var Z4=class extends or{constructor(){super(...arguments);ut(this,"priority",30);ut(this,"incompatibleTokens",["t","T"])}parse(r,n){let i=o=>Math.trunc(o*Math.pow(10,-n.length+3));return Vn(Qr(n.length,r),i)}set(r,n,i){return r.setMilliseconds(i),r}};var Y4=class extends or{constructor(){super(...arguments);ut(this,"priority",10);ut(this,"incompatibleTokens",["t","T","x"])}parse(r,n){switch(n){case"X":return iu(nu.basicOptionalMinutes,r);case"XX":return iu(nu.basic,r);case"XXXX":return iu(nu.basicOptionalSeconds,r);case"XXXXX":return iu(nu.extendedOptionalSeconds,r);case"XXX":default:return iu(nu.extended,r)}}set(r,n,i){return n.timestampIsSet?r:bn(r,r.getTime()-Dg(r)-i)}};var K4=class extends or{constructor(){super(...arguments);ut(this,"priority",10);ut(this,"incompatibleTokens",["t","T","X"])}parse(r,n){switch(n){case"x":return iu(nu.basicOptionalMinutes,r);case"xx":return iu(nu.basic,r);case"xxxx":return iu(nu.basicOptionalSeconds,r);case"xxxxx":return iu(nu.extendedOptionalSeconds,r);case"xxx":default:return iu(nu.extended,r)}}set(r,n,i){return n.timestampIsSet?r:bn(r,r.getTime()-Dg(r)-i)}};var X4=class extends or{constructor(){super(...arguments);ut(this,"priority",40);ut(this,"incompatibleTokens","*")}parse(r){return b4(r)}set(r,n,i){return[bn(r,i*1e3),{timestampIsSet:!0}]}};var Q4=class extends or{constructor(){super(...arguments);ut(this,"priority",20);ut(this,"incompatibleTokens","*")}parse(r){return b4(r)}set(r,n,i){return[bn(r,i),{timestampIsSet:!0}]}};var hDe={G:new _4,y:new S4,Y:new I4,R:new E4,u:new T4,Q:new M4,q:new C4,M:new A4,L:new P4,w:new O4,I:new D4,d:new N4,D:new k4,E:new L4,e:new R4,c:new q4,i:new z4,a:new j4,b:new F4,B:new B4,h:new U4,H:new V4,K:new $4,k:new G4,m:new H4,s:new W4,S:new Z4,X:new Y4,x:new K4,t:new X4,T:new Q4};var eJt=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,tJt=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,rJt=/^'([^]*?)'?$/,nJt=/''/g,iJt=/\S/,oJt=/[a-zA-Z]/;function WG(e,t,r,n){var q,R,U,Y,re,de,ce,Se,qe,Re,Te,Ee,Ne,_e,ze,st,at,At;let i=()=>bn((n==null?void 0:n.in)||r,NaN),o=lDe(),u=(R=(q=n==null?void 0:n.locale)!=null?q:o.locale)!=null?R:fS,f=(Re=(qe=(de=(re=n==null?void 0:n.firstWeekContainsDate)!=null?re:(Y=(U=n==null?void 0:n.locale)==null?void 0:U.options)==null?void 0:Y.firstWeekContainsDate)!=null?de:o.firstWeekContainsDate)!=null?qe:(Se=(ce=o.locale)==null?void 0:ce.options)==null?void 0:Se.firstWeekContainsDate)!=null?Re:1,m=(At=(at=(_e=(Ne=n==null?void 0:n.weekStartsOn)!=null?Ne:(Ee=(Te=n==null?void 0:n.locale)==null?void 0:Te.options)==null?void 0:Ee.weekStartsOn)!=null?_e:o.weekStartsOn)!=null?at:(st=(ze=o.locale)==null?void 0:ze.options)==null?void 0:st.weekStartsOn)!=null?At:0;if(!t)return e?i():Ur(r,n==null?void 0:n.in);let y={firstWeekContainsDate:f,weekStartsOn:m,locale:u},w=[new y4(n==null?void 0:n.in,r)],I=t.match(tJt).map(Qe=>{let Dt=Qe[0];if(Dt in dS){let Ut=dS[Dt];return Ut(Qe,u.formatLong)}return Qe}).join("").match(eJt),M=[];for(let Qe of I){!(n!=null&&n.useAdditionalWeekYearTokens)&&m4(Qe)&&hS(Qe,t,e),!(n!=null&&n.useAdditionalDayOfYearTokens)&&h4(Qe)&&hS(Qe,t,e);let Dt=Qe[0],Ut=hDe[Dt];if(Ut){let{incompatibleTokens:Zt}=Ut;if(Array.isArray(Zt)){let lt=M.find(yt=>Zt.includes(yt.token)||yt.token===Dt);if(lt)throw new RangeError(`The format string mustn't contain \`${lt.fullToken}\` and \`${Qe}\` at the same time`)}else if(Ut.incompatibleTokens==="*"&&M.length>0)throw new RangeError(`The format string mustn't contain \`${Qe}\` and any other token at the same time`);M.push({token:Dt,fullToken:Qe});let Xe=Ut.run(e,Qe,u.match,y);if(!Xe)return i();w.push(Xe.setter),e=Xe.rest}else{if(Dt.match(oJt))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Dt+"`");if(Qe==="''"?Qe="'":Dt==="'"&&(Qe=aJt(Qe)),e.indexOf(Qe)===0)e=e.slice(Qe.length);else return i()}}if(e.length>0&&iJt.test(e))return i();let N=w.map(Qe=>Qe.priority).sort((Qe,Dt)=>Dt-Qe).filter((Qe,Dt,Ut)=>Ut.indexOf(Qe)===Dt).map(Qe=>w.filter(Dt=>Dt.priority===Qe).sort((Dt,Ut)=>Ut.subPriority-Dt.subPriority)).map(Qe=>Qe[0]),z=Ur(r,n==null?void 0:n.in);if(isNaN(+z))return i();let F={};for(let Qe of N){if(!Qe.validate(z,y))return i();let Dt=Qe.set(z,F,y);Array.isArray(Dt)?(z=Dt[0],Object.assign(F,Dt[1])):z=Dt}return z}function aJt(e){return e.match(rJt)[1].replace(nJt,"'")}function mDe(e,t,r){let[n,i]=u4(r==null?void 0:r.in,e,t);return n.getFullYear()===i.getFullYear()}function gDe(e,t){var y;let r=()=>bn(t==null?void 0:t.in,NaN),n=(y=t==null?void 0:t.additionalDigits)!=null?y:2,i=cJt(e),o;if(i.date){let w=pJt(i.date,n);o=fJt(w.restDateString,w.year)}if(!o||isNaN(+o))return r();let u=+o,f=0,m;if(i.time&&(f=dJt(i.time),isNaN(f)))return r();if(i.timezone){if(m=hJt(i.timezone),isNaN(m))return r()}else{let w=new Date(u+f),I=Ur(0,t==null?void 0:t.in);return I.setFullYear(w.getUTCFullYear(),w.getUTCMonth(),w.getUTCDate()),I.setHours(w.getUTCHours(),w.getUTCMinutes(),w.getUTCSeconds(),w.getUTCMilliseconds()),I}return Ur(u+f+m,t==null?void 0:t.in)}var J4={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},sJt=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,lJt=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,uJt=/^([+-])(\d{2})(?::?(\d{2}))?$/;function cJt(e){let t={},r=e.split(J4.dateTimeDelimiter),n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],J4.timeZoneDelimiter.test(t.date)&&(t.date=e.split(J4.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){let i=J4.timezone.exec(n);i?(t.time=n.replace(i[1],""),t.timezone=i[1]):t.time=n}return t}function pJt(e,t){let r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};let i=n[1]?parseInt(n[1]):null,o=n[2]?parseInt(n[2]):null;return{year:o===null?i:o*100,restDateString:e.slice((n[1]||n[2]).length)}}function fJt(e,t){if(t===null)return new Date(NaN);let r=e.match(sJt);if(!r)return new Date(NaN);let n=!!r[4],i=gS(r[1]),o=gS(r[2])-1,u=gS(r[3]),f=gS(r[4]),m=gS(r[5])-1;if(n)return _Jt(t,f,m)?mJt(t,f,m):new Date(NaN);{let y=new Date(0);return!vJt(t,o,u)||!yJt(t,i)?new Date(NaN):(y.setUTCFullYear(t,o,Math.max(i,u)),y)}}function gS(e){return e?parseInt(e):1}function dJt(e){let t=e.match(lJt);if(!t)return NaN;let r=ZG(t[1]),n=ZG(t[2]),i=ZG(t[3]);return bJt(r,n,i)?r*cS+n*uS+i*1e3:NaN}function ZG(e){return e&&parseFloat(e.replace(",","."))||0}function hJt(e){if(e==="Z")return 0;let t=e.match(uJt);if(!t)return 0;let r=t[1]==="+"?-1:1,n=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return xJt(n,i)?r*(n*cS+i*uS):NaN}function mJt(e,t,r){let n=new Date(0);n.setUTCFullYear(e,0,4);let i=n.getUTCDay()||7,o=(t-1)*7+r+1-i;return n.setUTCDate(n.getUTCDate()+o),n}var gJt=[31,null,31,30,31,30,31,31,30,31,30,31];function vDe(e){return e%400===0||e%4===0&&e%100!==0}function vJt(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(gJt[t]||(vDe(e)?29:28))}function yJt(e,t){return t>=1&&t<=(vDe(e)?366:365)}function _Jt(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function bJt(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function xJt(e,t){return t>=0&&t<=59}var b1=class e{constructor({metadata:t,geometry:r}){ut(this,"metadata",{});ut(this,"geometry",{});if(this.constructor===e)throw new Error(`Abstract class '${this.constructor}' cannot be instantiated.`);this.metadata=t,this.geometry=r}getGeometry(){return this.geometry}getId(){return this.metadata.id}getMetadata(t){return zt(t)?this.metadata[t]:this.metadata}updateMetadata(t,r){if(!zt(t)){console.error("Cannot update metadata without key");return}if(!Object.values(Bt).includes(t)){console.error(`Cannot update metadata with invalid key '${t}'`);return}this.metadata[t]=r}getSortTime(){let t=this.metadata[Bt.timePeriod][0];return mS(t)}getDisplayTime(){let[t,r]=this.metadata[Bt.timePeriod];return mDe(t,r)?mS(t):`${mS(t)} \u2013 ${mS(r)}`}addLayerToMap(){throw new Error("Method 'addLayerToMap' must be implemented.")}isDisplayedInMap(){throw new Error("Method 'isDisplayedInMap' must be implemented.")}getType(){throw new Error("Method 'getType' must be implemented.")}setOpacity(){throw new Error("Method 'setOpacity' must be implemented.")}getOpacity(){throw new Error("Method 'getOpacity' must be implemented.")}moveToTop(){throw new Error("Method 'moveToTop' must be implemented.")}move(){throw new Error("Method 'move' must be implemented.")}getMapLibreLayerId(){throw new Error("Method 'getMapLibreLayerId' must be implemented.")}removeLayer(){throw new Error("Method 'removeLayer' must be implemented.")}setVisibility(){throw new Error("Method 'setVisibility' must be implemented.")}isVisible(){throw new Error("Method 'isVisible' must be implemented.")}serialize(){throw new Error("Method 'serialize' must be implemented.")}};var rP=se(He(),1);var vS=se(He(),1);var eP=se(Wt(),1);var yDe=(e,{sourceId:t,fillId:r,outlineId:n})=>{e.addSource(t,{type:"geojson",data:{type:"FeatureCollection",features:[]}}),e.addLayer({id:r,type:"fill",source:t,paint:{"fill-color":"#ff0000","fill-opacity":.2}}),e.addLayer({id:n,type:"line",source:t,paint:{"line-color":"#ff0000","line-width":1}})},wJt=(e,{sourceId:t,fillId:r,outlineId:n})=>{e.getLayer(r)&&e.removeLayer(r),e.getLayer(n)&&e.removeLayer(n),e.getSource(t)&&e.removeSource(t)},_De=e=>{let t=yr(Rn);return(0,vS.useEffect)(()=>{if(zt(t)){let r=()=>{yDe(t,nt({},e))};return t._loaded?yDe(t,nt({},e)):t.once("load",r),()=>{wJt(t,nt({},e)),t.off("load",r)}}},[t]),vS.default.createElement(vS.default.Fragment,null)};_De.propTypes={sourceId:eP.default.string.isRequired,fillId:eP.default.string.isRequired,outlineId:eP.default.string.isRequired};var bDe=_De;var tP=bDe;var xDe="vkf-map-overlay-source",vs="vkf-map-overlay-fill",SJt="vkf-map-overlay-outline",YG=(e,t)=>{let r=e.getSource(xDe);r&&r.setData(t)},wDe=()=>rP.default.createElement(rP.default.Fragment,null,rP.default.createElement(tP,{sourceId:xDe,fillId:vs,outlineId:SJt}));wDe.propTypes={};var SDe=wDe;var IDe=(e,t,r,n)=>{var u,f;let i=e.getId();t.addSource(i,gr(nt({type:"raster"},r),{bounds:e.getMetadata(Bt.bounds)}));let o=t.getLayer(vs)!==void 0?vs:void 0;t.addLayer({id:i,type:"raster",metadata:{[Gc.id]:i},source:i,layout:{visibility:(u=n==null?void 0:n.visibility)!=null?u:"visible"},paint:{"raster-opacity":(f=n==null?void 0:n.opacity)!=null?f:1}},o)};function KG(e,t,r){if(e!==null)for(var n,i,o,u,f,m,y,w=0,I=0,M,N=e.type,z=N==="FeatureCollection",F=N==="Feature",q=z?e.features.length:1,R=0;R<q;R++){y=z?e.features[R].geometry:F?e.geometry:e,M=y?y.type==="GeometryCollection":!1,f=M?y.geometries.length:1;for(var U=0;U<f;U++){var Y=0,re=0;if(u=M?y.geometries[U]:y,u!==null){m=u.coordinates;var de=u.type;switch(w=r&&(de==="Polygon"||de==="MultiPolygon")?1:0,de){case null:break;case"Point":if(t(m,I,R,Y,re)===!1)return!1;I++,Y++;break;case"LineString":case"MultiPoint":for(n=0;n<m.length;n++){if(t(m[n],I,R,Y,re)===!1)return!1;I++,de==="MultiPoint"&&Y++}de==="LineString"&&Y++;break;case"Polygon":case"MultiLineString":for(n=0;n<m.length;n++){for(i=0;i<m[n].length-w;i++){if(t(m[n][i],I,R,Y,re)===!1)return!1;I++}de==="MultiLineString"&&Y++,de==="Polygon"&&re++}de==="Polygon"&&Y++;break;case"MultiPolygon":for(n=0;n<m.length;n++){for(re=0,i=0;i<m[n].length;i++){for(o=0;o<m[n][i].length-w;o++){if(t(m[n][i][o],I,R,Y,re)===!1)return!1;I++}re++}Y++}break;case"GeometryCollection":for(n=0;n<u.geometries.length;n++)if(KG(u.geometries[n],t,r)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function yS(e,t={}){if(e.bbox!=null&&t.recompute!==!0)return e.bbox;let r=[1/0,1/0,-1/0,-1/0];return KG(e,n=>{r[0]>n[0]&&(r[0]=n[0]),r[1]>n[1]&&(r[1]=n[1]),r[2]<n[0]&&(r[2]=n[0]),r[3]<n[1]&&(r[3]=n[1])}),r}var _S,nP,EDe,XG=class extends b1{constructor({metadata:r,geometry:n}){super({metadata:r,geometry:n});to(this,nP);to(this,_S,!1);Ai(this,nP,EDe).call(this)}addLayerToMap(r,{sourceSettings:n,layerSettings:i}){if(r.getSource(this.getId())){console.error(`Source with id '${this.getId()}' exists already in map.`);return}return IDe(this,r,n,i)}addToOverlay(r,n){let i=r.getSource(n);if(i){let o=this.getPreviewFeature();o.id=this.getId();let u=[o];i.updateData({add:u})}}removeFromOverlay(r,n){let i=r.getSource(n);if(i){let o=[this.getId()];i.updateData({remove:o})}}getPreviewFeature(){return{type:"Feature",properties:{},geometry:this.geometry}}isDisplayedInMap(r){return r.getSource(this.getId())!==void 0&&r.getLayer(this.getId())!==void 0}getType(){return Ba.HISTORIC_MAP}setOpacity(r,n){r.getLayer(this.getId())&&r.setPaintProperty(this.getId(),"raster-opacity",n)}getOpacity(r){var n;return r.getLayer(this.getId())?(n=r.getPaintProperty(this.getId(),"raster-opacity"))!=null?n:1:null}moveToTop(r){this.move(r,null)}move(r,n){let i=n;zt(n)||(zt(r.getLayer(vs))?i=vs:i=null),r.moveLayer(this.getId(),i)}getMapLibreLayerId(){return this.getId()}removeMapLibreLayers(r){r.getLayer(this.getMapLibreLayerId())&&r.removeLayer(this.getMapLibreLayerId()),r.getSource(this.getId())&&r.removeSource(this.getId())}setVisibility(r,n){r.setLayoutProperty(this.getMapLibreLayerId(),"visibility",n)}isVisible(r){return r.getLayoutProperty(this.getMapLibreLayerId(),"visibility")==="visible"}isMissing(){return ir(this,_S)}setIsMissing(r){ro(this,_S,r)}};_S=new WeakMap,nP=new WeakSet,EDe=function(){let r=this.geometry?yS(this.geometry):void 0;this.metadata[Bt.bounds]=r};var TDe=XG;var kg=TDe;var bS=class extends Date{constructor(){super(),this.setTime(arguments.length===0?Date.now():arguments.length===1?typeof arguments[0]=="string"?+new Date(arguments[0]):arguments[0]:Date.UTC(...arguments))}getTimezoneOffset(){return 0}},MDe=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(e=>{if(MDe.test(e)){let t=Date.prototype[e.replace(MDe,"$1UTC")];t&&(bS.prototype[e]=t)}});var iP=class extends bS{toString(){let t=this.toDateString(),r=this.toTimeString();return`${t} ${r}`}toDateString(){let t=IJt.format(this),r=EJt.format(this),n=this.getFullYear();return`${t} ${r} ${n}`}toTimeString(){return`${TJt.format(this)} GMT+0000 (Coordinated Universal Time)`}toLocaleString(t,r){return Date.prototype.toLocaleString.call(this,t,nt({timeZone:"UTC"},r))}toLocaleDateString(t,r){return Date.prototype.toLocaleDateString.call(this,t,nt({timeZone:"UTC"},r))}toLocaleTimeString(t,r){return Date.prototype.toLocaleTimeString.call(this,t,nt({timeZone:"UTC"},r))}},IJt=new Intl.DateTimeFormat("en-US",{weekday:"short",timeZone:"UTC"}),EJt=new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",timeZone:"UTC"}),TJt=new Intl.DateTimeFormat("en-GB",{hour12:!1,hour:"numeric",minute:"numeric",second:"numeric",timeZone:"UTC"});var _h=e=>new iP(+new Date(e));var x1={en:"MM/dd/yyyy",de:"dd.MM.yyyy"};function bh(e){let t=Nr.getSettings().LANGUAGE_CODE,r=new Date(e);return sP(r)?Object.hasOwn(x1,t)?HG(r,x1[t],{in:_h}):HG(r,x1[c1.EN],{in:_h}):e}function oP(e){let t=Nr.getSettings().LANGUAGE_CODE,r=new Date;return Object.hasOwn(x1,t)?WG(e,x1[t],r,{in:_h}):WG(e,x1[c1.EN],r,{in:_h})}function w1(e,t={}){let r="";try{r=sDe(e,gr(nt({},t),{in:_h}))}catch(n){r=""}return r}function aP(e){return!zt(e)||!p1(e)?new Date("invalid"):gDe(e,{in:_h})}function sP(e){return c4(e)}function lP(e){return pS(e,{in:_h})}function CDe(){return[w1(Date.now(),{representation:"date"}),w1(Date.now(),{representation:"date"})]}var Ar={SYMBOL:"symbol",LINE:"line",FILL:"fill",OUTLINE:"outline"},xS={[Ar.LINE]:"line-opacity",[Ar.FILL]:"fill-opacity",[Ar.OUTLINE]:"outline-opacity"},QG={[Ar.LINE]:"stroke-opacity",[Ar.FILL]:"fill-opacity",[Ar.OUTLINE]:"stroke-opacity"},JG=e=>Object.keys(QG).includes(e),wn={[Ar.SYMBOL]:{COLOR:"#0000FF"},[Ar.LINE]:{COLOR:"#00FF00",WIDTH:3,OPACITY:1},[Ar.OUTLINE]:{COLOR:"#0000FF",WIDTH:1,OPACITY:1},[Ar.FILL]:{COLOR:"#FFFF00",OPACITY:.27}},eH={[Ar.SYMBOL]:{type:"symbol",layout:{"icon-image":Nr.getSettings().MARKER_IMAGE_ID,"icon-size":.5,"icon-anchor":"bottom","icon-allow-overlap":!0},paint:{"icon-color":["to-color",["feature-state","marker"],["get","marker"],wn[Ar.SYMBOL].COLOR],"icon-halo-color":"#FFF","icon-halo-width":1},filter:["==",["geometry-type"],"Point"]},[Ar.LINE]:{type:"line",paint:{"line-color":["coalesce",["feature-state","stroke"],["get","stroke"],wn[Ar.LINE].COLOR],"line-width":["coalesce",["feature-state","stroke-width"],["get","stroke-width"],wn[Ar.LINE].WIDTH],"line-opacity":["coalesce",["feature-state","stroke-opacity"],["get","stroke-opacity"],wn[Ar.LINE].OPACITY]},filter:["==",["geometry-type"],"LineString"]},[Ar.OUTLINE]:{type:"line",paint:{"line-color":["coalesce",["feature-state","stroke"],["get","stroke"],wn[Ar.OUTLINE].COLOR],"line-width":["coalesce",["feature-state","stroke-width"],["get","stroke-width"],wn[Ar.OUTLINE].WIDTH],"line-opacity":["coalesce",["feature-state","stroke-opacity"],["get","stroke-opacity"],wn[Ar.OUTLINE].OPACITY]},filter:["==",["geometry-type"],"Polygon"]},[Ar.FILL]:{type:"fill",paint:{"fill-color":["coalesce",["feature-state","fill"],["get","fill"],wn[Ar.FILL].COLOR],"fill-opacity":["coalesce",["feature-state","fill-opacity"],["get","fill-opacity"],wn[Ar.FILL].OPACITY]},filter:["==",["geometry-type"],"Polygon"]}};var Ua={imgLink:"img_link",title:"title",description:"description",time:"time",marker:"marker",fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeWidth:"stroke-width",strokeOpacity:"stroke-opacity"},tH={type:"FeatureCollection",features:[]},bFr={Point:{marker:wn[Ar.SYMBOL].COLOR},MultiPoint:{marker:wn[Ar.SYMBOL].COLOR},Polygon:{fill:wn[Ar.FILL].COLOR,"fill-opacity":wn[Ar.FILL].OPACITY,stroke:wn[Ar.OUTLINE].COLOR,"stroke-opacity":wn[Ar.OUTLINE].OPACITY,"stroke-width":wn[Ar.OUTLINE].WIDTH},MultiPolygon:{fill:wn[Ar.FILL].COLOR,"fill-opacity":wn[Ar.FILL].OPACITY,stroke:wn[Ar.OUTLINE].COLOR,"stroke-opacity":wn[Ar.OUTLINE].OPACITY,"stroke-width":wn[Ar.OUTLINE].WIDTH},LineString:{stroke:wn[Ar.LINE].COLOR,"stroke-opacity":wn[Ar.LINE].OPACITY,"stroke-width":wn[Ar.LINE].WIDTH},MultiLineString:{stroke:wn[Ar.LINE].COLOR,"stroke-opacity":wn[Ar.LINE].OPACITY,"stroke-width":wn[Ar.LINE].WIDTH},GeometryCollection:{fill:wn[Ar.FILL].COLOR,"fill-opacity":wn[Ar.FILL].OPACITY,stroke:wn[Ar.LINE].COLOR,"stroke-opacity":wn[Ar.LINE].OPACITY,"stroke-width":wn[Ar.LINE].WIDTH}},MJt={marker:{type:"color"},fill:{type:"color"},"fill-opacity":{step:.05,min:0,max:1,type:"number"},stroke:{type:"color"},"stroke-opacity":{max:1,min:0,step:.05,type:"number"},"stroke-width":{step:.1,min:0,max:20,type:"number"}},xFr=Object.keys(MJt),wFr=[Ua.time,Ua.title,Ua.imgLink,Ua.description],uP={POINT:"Point",MULTI_POINT:"MultiPoint",POLYGON:"Polygon",MULTI_POLYGON:"MultiPolygon",LINE_STRING:"LineString",MULTI_LINE_STRING:"MultiLineString",GEOMETRY_COLLECTION:"GeometryCollection"};var ADe=e=>({type:"Polygon",coordinates:[[[e[0],e[1]],[e[2],e[1]],[e[2],e[3]],[e[0],e[3]],[e[0],e[1]]]]}),rH=e=>{let{properties:t}=e,r=AJt(t);return gr(nt({},e),{properties:r})},nH=e=>{Object.hasOwn(e,"properties")||(e.properties={});let{properties:t}=e,r=CJt(t);return gr(nt({},e),{properties:r})},CJt=e=>{let t=e[Ua.time],r=PJt(t);return r.length===0?(delete e[Ua.time],e):gr(nt({},e),{[Ua.time]:r})},AJt=e=>{let t=e[Ua.time],r=OJt(t);return r.length===0?(delete e[Ua.time],e):gr(nt({},e),{[Ua.time]:r})},PJt=e=>{if(Array.isArray(e)){if(e.length!==2)return[];let t=lP(aP(e[0])).valueOf(),r=lP(aP(e[1])).valueOf();return Number.isNaN(t)||Number.isNaN(r)?[]:t>r?[r,t]:[t,r]}if(p1(e)){let t=lP(aP(e)).valueOf();return Number.isNaN(e)?[]:[t,t]}return[]},OJt=e=>{if(!Array.isArray(e))return[];if(e.length!==2)return[];let t=w1(e[0]),r=w1(e[1]);return t===""||r===""?[]:[t,r]},cP=e=>{if(!zt(e))return[];let[t,r]=e;return!zt(t)||!zt(r)?[]:["any",["!",["has",Ua.time]],["all",["<=",["at",0,["get",Ua.time]],r*1e3],[">=",["at",1,["get",Ua.time]],t*1e3]]]};var PDe=e=>{let t={};for(let r of Object.keys(Ar)){let n=Ar[r],i=`${e}-${n}`;t[i]=gr(nt({id:i,source:e,metadata:{[Gc.id]:e}},eH[n]),{layout:gr(nt({},eH[n].layout),{visibility:"visible"})})}return t};var iH=class e{constructor(){if(this.constructor===e)throw new Error(`Abstract class '${this.constructor}' cannot be instantiated.`)}addLayerToMap(){throw new Error("Method 'addLayerToMap' must be implemented.")}removeLayerFromMap(){throw new Error("Method 'removeLayerFromMap' must be implemented.")}setDataOnMap(){throw new Error("Method 'setDataOnMap' must be implemented.")}getOpacity(){throw new Error("Method 'getOpacity' must be implemented.")}setOpacity(){throw new Error("Method 'setOpacity' must be implemented.")}isVisible(){throw new Error("Method 'isVisible' must be implemented.")}setVisibility(){throw new Error("Method 'setVisibility' must be implemented.")}isDisplayedInMap(){throw new Error("Method 'isDisplayedInMap' must be implemented.")}getLayerId(){throw new Error("Method 'getLayerId' must be implemented.")}move(){throw new Error("Method 'move' must be implemented.")}setFilters(){throw new Error("Method 'setFilters' must be implemented.")}resetFilters(){throw new Error("Method 'resetFilters' must be implemented.")}},pP=iH;var ODe=[{type:"mousemove",handler:e=>e.target.getCanvas().style.cursor="pointer"},{type:"mouseleave",handler:e=>e.target.getCanvas().style.cursor=""}],xh,wh,S1,Va,DDe,NDe,Hc,oH=class extends pP{constructor(r){super();to(this,Va);to(this,xh,null);to(this,wh,[]);to(this,S1,{});ro(this,xh,r)}addLayerToMap(r,n,i){var m,y;if(!zt(r))return;let o=ir(this,xh),u=PDe(o);r.addSource(o,{type:"geojson",data:i});let f=r.getLayer(vs)!==void 0?vs:void 0;for(let[w,I]of Object.entries(u))r.addLayer(I,f),ir(this,wh).push(w),ir(this,S1)[w]=I.filter;if(zt(n)){let{layerSettings:w}=n,I=(m=w==null?void 0:w.opacity)!=null?m:1,M=(y=w==null?void 0:w.visibility)!=null?y:"visible";this.setOpacity(r,I),this.setVisibility(r,M)}Ai(this,Va,DDe).call(this,r)}removeLayerFromMap(r){if(zt(r)){for(let{id:n}of Ai(this,Va,Hc).call(this,r))Ai(this,Va,NDe).call(this,r,n),r.removeLayer(n);r.removeSource(ir(this,xh)),ro(this,wh,[])}}setDataOnMap(r,n){let i=r.getSource(ir(this,xh));if(!zt(i)){console.error("Cannot update geojson on map. Source layer not found");return}i.setData(n)}getOpacity(r){let n=Ai(this,Va,Hc).call(this,r),i=1,o=1;if(n.length===0)return null;for(let{id:u,type:f}of n){if(!JG(f))continue;let m=xS[f];i=r.getPaintProperty(u,m);break}if(typeof i=="number")return i;if(Array.isArray(i)&&i.length>0){if(i[0]==="*")return i[2];if(i[0]==="coalesce")return i[3]}return o}setOpacity(r,n){let i=Ai(this,Va,Hc).call(this,r);if(!(i.length===0||!zt(n)))for(let{id:o,type:u}of i){if(!JG(u))continue;let f=wn[u].OPACITY,m=xS[u],y=QG[u];r.setPaintProperty(o,m,["*",["coalesce",["feature-state",y],["get",y],f],n])}}isVisible(r){let n=Ai(this,Va,Hc).call(this,r);return n.length===0?!1:r.getLayoutProperty(n[0].id,"visibility")==="visible"}setVisibility(r,n){let i=Ai(this,Va,Hc).call(this,r);if(!(i.length===0||!zt(n)))for(let{id:o}of i)r.setLayoutProperty(o,"visibility",n)}isDisplayedInMap(r){return r.getSource(ir(this,xh))!==void 0}getLayerId(){return ir(this,wh).length>0?ir(this,wh)[0]:null}move(r,n){let i=Ai(this,Va,Hc).call(this,r),o=n;zt(n)||(zt(r.getLayer(vs))?o=vs:o=null),i.forEach(({id:u})=>{r.moveLayer(u,o)})}setFilters(r,n){let i=Ai(this,Va,Hc).call(this,r);if(i.length===0)return;let o=n==null?void 0:n.timeExtent,u=cP(o);for(let f of i){let{id:m}=f,w=["all",ir(this,S1)[m]];zt(u)&&u.length>0&&w.push(u),r.setFilter(m,w)}}resetFilters(r){let n=Ai(this,Va,Hc).call(this,r);if(n.length!==0)for(let i of n){let{id:o}=i,u=ir(this,S1)[o];r.setFilter(o,u)}}};xh=new WeakMap,wh=new WeakMap,S1=new WeakMap,Va=new WeakSet,DDe=function(r){for(let{id:n}of Ai(this,Va,Hc).call(this,r))for(let{type:i,handler:o}of ODe)r.on(i,n,o)},NDe=function(r,n){for(let{type:i,handler:o}of ODe)r.off(i,n,o)},Hc=function(r){let n=ir(this,wh).map(i=>r.getLayer(i));return n[0]===void 0?[]:n};var kDe=oH;var RNe=se(a1(),1);var LDe={};var aH=(e,t)=>LDe.setState(e,t),fP=e=>kn(null,null,function*(){return LDe.getStateAsync(e)});var Rg={hoverPolygon:"hover_polygon",contentCertainty:"content_certainty",temporalCertainty:"temporal_certainty",spatialCertainty:"spatial_certainty",permalink:"permanent_link",parentLabel:"parent_label",tags:"tag"},RDe="#00b19e",sH="#00927E",Lg={fill:.4,line:1},wS=["all",["==",["geometry-type"],"Polygon"],["==",["id"],"NON_EXISTING_ID"]],dP={fill:{type:"fill",paint:{"fill-color":RDe,"fill-opacity":Lg.fill},filter:wS},outline:{type:"line",paint:{"line-color":sH,"line-width":2,"line-opacity":Lg.line},filter:wS}},qDe={line:{type:"line",paint:{"line-color":sH,"line-width":2,"line-opacity":Lg.line},filter:["==",["geometry-type"],"LineString"]},fill:{type:"fill",paint:{"fill-color":RDe,"fill-opacity":Lg.fill},filter:["==",["geometry-type"],"Polygon"]},outline:{type:"line",paint:{"line-color":sH,"line-width":2,"line-opacity":Lg.line},filter:["==",["geometry-type"],"Polygon"]}};function ma(e){return function(){return e}}var lH=Math.abs,ga=Math.atan2,Sh=Math.cos,zDe=Math.max,hP=Math.min,Zu=Math.sin,qg=Math.sqrt,ys=1e-12,I1=Math.PI,SS=I1/2,E1=2*I1;function jDe(e){return e>1?0:e<-1?I1:Math.acos(e)}function uH(e){return e>=1?SS:e<=-1?-SS:Math.asin(e)}var cH=Math.PI,pH=2*cH,zg=1e-6,DJt=pH-zg;function FDe(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function NJt(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return FDe;let r=Rp(10,t);return function(n){this._+=n[0];for(let i=1,o=n.length;i<o;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}var jg=class{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?FDe:NJt(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,o,u){this._append`C${+t},${+r},${+n},${+i},${this._x1=+o},${this._y1=+u}`}arcTo(t,r,n,i,o){if(t=+t,r=+r,n=+n,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let u=this._x1,f=this._y1,m=n-t,y=i-r,w=u-t,I=f-r,M=w*w+I*I;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(M>zg)if(!(Math.abs(I*m-y*w)>zg)||!o)this._append`L${this._x1=t},${this._y1=r}`;else{let N=n-u,z=i-f,F=m*m+y*y,q=N*N+z*z,R=Math.sqrt(F),U=Math.sqrt(M),Y=o*Math.tan((cH-Math.acos((F+M-q)/(2*R*U)))/2),re=Y/U,de=Y/R;Math.abs(re-1)>zg&&this._append`L${t+re*w},${r+re*I}`,this._append`A${o},${o},0,0,${+(I*N>w*z)},${this._x1=t+de*m},${this._y1=r+de*y}`}}arc(t,r,n,i,o,u){if(t=+t,r=+r,n=+n,u=!!u,n<0)throw new Error(`negative radius: ${n}`);let f=n*Math.cos(i),m=n*Math.sin(i),y=t+f,w=r+m,I=1^u,M=u?i-o:o-i;this._x1===null?this._append`M${y},${w}`:(Math.abs(this._x1-y)>zg||Math.abs(this._y1-w)>zg)&&this._append`L${y},${w}`,n&&(M<0&&(M=M%pH+pH),M>DJt?this._append`A${n},${n},0,1,${I},${t-f},${r-m}A${n},${n},0,1,${I},${this._x1=y},${this._y1=w}`:M>zg&&this._append`A${n},${n},0,${+(M>=cH)},${I},${this._x1=t+n*Math.cos(o)},${this._y1=r+n*Math.sin(o)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}};function BDe(){return new jg}BDe.prototype=jg.prototype;function UDe(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{let n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new jg(t)}function kJt(e){return e.innerRadius}function LJt(e){return e.outerRadius}function RJt(e){return e.startAngle}function qJt(e){return e.endAngle}function zJt(e){return e&&e.padAngle}function jJt(e,t,r,n,i,o,u,f){var m=r-e,y=n-t,w=u-i,I=f-o,M=I*m-w*y;if(!(M*M<ys))return M=(w*(t-o)-I*(e-i))/M,[e+M*m,t+M*y]}function mP(e,t,r,n,i,o,u){var f=e-r,m=t-n,y=(u?o:-o)/qg(f*f+m*m),w=y*m,I=-y*f,M=e+w,N=t+I,z=r+w,F=n+I,q=(M+z)/2,R=(N+F)/2,U=z-M,Y=F-N,re=U*U+Y*Y,de=i-o,ce=M*F-z*N,Se=(Y<0?-1:1)*qg(zDe(0,de*de*re-ce*ce)),qe=(ce*Y-U*Se)/re,Re=(-ce*U-Y*Se)/re,Te=(ce*Y+U*Se)/re,Ee=(-ce*U+Y*Se)/re,Ne=qe-q,_e=Re-R,ze=Te-q,st=Ee-R;return Ne*Ne+_e*_e>ze*ze+st*st&&(qe=Te,Re=Ee),{cx:qe,cy:Re,x01:-w,y01:-I,x11:qe*(i/de-1),y11:Re*(i/de-1)}}function gP(){var e=kJt,t=LJt,r=ma(0),n=null,i=RJt,o=qJt,u=zJt,f=null,m=UDe(y);function y(){var w,I,M=+e.apply(this,arguments),N=+t.apply(this,arguments),z=i.apply(this,arguments)-SS,F=o.apply(this,arguments)-SS,q=lH(F-z),R=F>z;if(f||(f=w=m()),N<M&&(I=N,N=M,M=I),!(N>ys))f.moveTo(0,0);else if(q>E1-ys)f.moveTo(N*Sh(z),N*Zu(z)),f.arc(0,0,N,z,F,!R),M>ys&&(f.moveTo(M*Sh(F),M*Zu(F)),f.arc(0,0,M,F,z,R));else{var U=z,Y=F,re=z,de=F,ce=q,Se=q,qe=u.apply(this,arguments)/2,Re=qe>ys&&(n?+n.apply(this,arguments):qg(M*M+N*N)),Te=hP(lH(N-M)/2,+r.apply(this,arguments)),Ee=Te,Ne=Te,_e,ze;if(Re>ys){var st=uH(Re/M*Zu(qe)),at=uH(Re/N*Zu(qe));(ce-=st*2)>ys?(st*=R?1:-1,re+=st,de-=st):(ce=0,re=de=(z+F)/2),(Se-=at*2)>ys?(at*=R?1:-1,U+=at,Y-=at):(Se=0,U=Y=(z+F)/2)}var At=N*Sh(U),Qe=N*Zu(U),Dt=M*Sh(de),Ut=M*Zu(de);if(Te>ys){var Zt=N*Sh(Y),Xe=N*Zu(Y),lt=M*Sh(re),yt=M*Zu(re),Fe;if(q<I1)if(Fe=jJt(At,Qe,lt,yt,Zt,Xe,Dt,Ut)){var Me=At-Fe[0],Ue=Qe-Fe[1],je=Zt-Fe[0],tt=Xe-Fe[1],it=1/Zu(jDe((Me*je+Ue*tt)/(qg(Me*Me+Ue*Ue)*qg(je*je+tt*tt)))/2),St=qg(Fe[0]*Fe[0]+Fe[1]*Fe[1]);Ee=hP(Te,(M-St)/(it-1)),Ne=hP(Te,(N-St)/(it+1))}else Ee=Ne=0}Se>ys?Ne>ys?(_e=mP(lt,yt,At,Qe,N,Ne,R),ze=mP(Zt,Xe,Dt,Ut,N,Ne,R),f.moveTo(_e.cx+_e.x01,_e.cy+_e.y01),Ne<Te?f.arc(_e.cx,_e.cy,Ne,ga(_e.y01,_e.x01),ga(ze.y01,ze.x01),!R):(f.arc(_e.cx,_e.cy,Ne,ga(_e.y01,_e.x01),ga(_e.y11,_e.x11),!R),f.arc(0,0,N,ga(_e.cy+_e.y11,_e.cx+_e.x11),ga(ze.cy+ze.y11,ze.cx+ze.x11),!R),f.arc(ze.cx,ze.cy,Ne,ga(ze.y11,ze.x11),ga(ze.y01,ze.x01),!R))):(f.moveTo(At,Qe),f.arc(0,0,N,U,Y,!R)):f.moveTo(At,Qe),!(M>ys)||!(ce>ys)?f.lineTo(Dt,Ut):Ee>ys?(_e=mP(Dt,Ut,Zt,Xe,M,-Ee,R),ze=mP(At,Qe,lt,yt,M,-Ee,R),f.lineTo(_e.cx+_e.x01,_e.cy+_e.y01),Ee<Te?f.arc(_e.cx,_e.cy,Ee,ga(_e.y01,_e.x01),ga(ze.y01,ze.x01),!R):(f.arc(_e.cx,_e.cy,Ee,ga(_e.y01,_e.x01),ga(_e.y11,_e.x11),!R),f.arc(0,0,M,ga(_e.cy+_e.y11,_e.cx+_e.x11),ga(ze.cy+ze.y11,ze.cx+ze.x11),R),f.arc(ze.cx,ze.cy,Ee,ga(ze.y11,ze.x11),ga(ze.y01,ze.x01),!R))):f.arc(0,0,M,de,re,R)}if(f.closePath(),w)return f=null,w+""||null}return y.centroid=function(){var w=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,I=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-I1/2;return[Sh(I)*w,Zu(I)*w]},y.innerRadius=function(w){return arguments.length?(e=typeof w=="function"?w:ma(+w),y):e},y.outerRadius=function(w){return arguments.length?(t=typeof w=="function"?w:ma(+w),y):t},y.cornerRadius=function(w){return arguments.length?(r=typeof w=="function"?w:ma(+w),y):r},y.padRadius=function(w){return arguments.length?(n=w==null?null:typeof w=="function"?w:ma(+w),y):n},y.startAngle=function(w){return arguments.length?(i=typeof w=="function"?w:ma(+w),y):i},y.endAngle=function(w){return arguments.length?(o=typeof w=="function"?w:ma(+w),y):o},y.padAngle=function(w){return arguments.length?(u=typeof w=="function"?w:ma(+w),y):u},y.context=function(w){return arguments.length?(f=w==null?null:w,y):f},y}var uBr=Array.prototype.slice;function VDe(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function $De(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function GDe(e){return e}function fH(){var e=GDe,t=$De,r=null,n=ma(0),i=ma(E1),o=ma(0);function u(f){var m,y=(f=VDe(f)).length,w,I,M=0,N=new Array(y),z=new Array(y),F=+n.apply(this,arguments),q=Math.min(E1,Math.max(-E1,i.apply(this,arguments)-F)),R,U=Math.min(Math.abs(q)/y,o.apply(this,arguments)),Y=U*(q<0?-1:1),re;for(m=0;m<y;++m)(re=z[N[m]=m]=+e(f[m],m,f))>0&&(M+=re);for(t!=null?N.sort(function(de,ce){return t(z[de],z[ce])}):r!=null&&N.sort(function(de,ce){return r(f[de],f[ce])}),m=0,I=M?(q-y*Y)/M:0;m<y;++m,F=R)w=N[m],re=z[w],R=F+(re>0?re*I:0)+Y,z[w]={data:f[w],index:m,value:re,startAngle:F,endAngle:R,padAngle:U};return z}return u.value=function(f){return arguments.length?(e=typeof f=="function"?f:ma(+f),u):e},u.sortValues=function(f){return arguments.length?(t=f,r=null,u):t},u.sort=function(f){return arguments.length?(r=f,t=null,u):r},u.startAngle=function(f){return arguments.length?(n=typeof f=="function"?f:ma(+f),u):n},u.endAngle=function(f){return arguments.length?(i=typeof f=="function"?f:ma(+f),u):i},u.padAngle=function(f){return arguments.length?(o=typeof f=="function"?f:ma(+f),u):o},u}var vP="http://www.w3.org/1999/xhtml",dH={svg:"http://www.w3.org/2000/svg",xhtml:vP,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function yP(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),dH.hasOwnProperty(t)?{space:dH[t],local:e}:e}function FJt(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===vP&&t.documentElement.namespaceURI===vP?t.createElement(e):t.createElementNS(r,e)}}function BJt(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function _P(e){var t=yP(e);return(t.local?BJt:FJt)(t)}function UJt(){}function bP(e){return e==null?UJt:function(){return this.querySelector(e)}}function HDe(e){typeof e!="function"&&(e=bP(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var o=t[i],u=o.length,f=n[i]=new Array(u),m,y,w=0;w<u;++w)(m=o[w])&&(y=e.call(m,m.__data__,w,o))&&("__data__"in m&&(y.__data__=m.__data__),f[w]=y);return new Yi(n,this._parents)}function hH(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function VJt(){return[]}function WDe(e){return e==null?VJt:function(){return this.querySelectorAll(e)}}function $Jt(e){return function(){return hH(e.apply(this,arguments))}}function ZDe(e){typeof e=="function"?e=$Jt(e):e=WDe(e);for(var t=this._groups,r=t.length,n=[],i=[],o=0;o<r;++o)for(var u=t[o],f=u.length,m,y=0;y<f;++y)(m=u[y])&&(n.push(e.call(m,m.__data__,y,u)),i.push(m));return new Yi(n,i)}function YDe(e){return function(){return this.matches(e)}}function xP(e){return function(t){return t.matches(e)}}var GJt=Array.prototype.find;function HJt(e){return function(){return GJt.call(this.children,e)}}function WJt(){return this.firstElementChild}function KDe(e){return this.select(e==null?WJt:HJt(typeof e=="function"?e:xP(e)))}var ZJt=Array.prototype.filter;function YJt(){return Array.from(this.children)}function KJt(e){return function(){return ZJt.call(this.children,e)}}function XDe(e){return this.selectAll(e==null?YJt:KJt(typeof e=="function"?e:xP(e)))}function QDe(e){typeof e!="function"&&(e=YDe(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var o=t[i],u=o.length,f=n[i]=[],m,y=0;y<u;++y)(m=o[y])&&e.call(m,m.__data__,y,o)&&f.push(m);return new Yi(n,this._parents)}function wP(e){return new Array(e.length)}function JDe(){return new Yi(this._enter||this._groups.map(wP),this._parents)}function IS(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}IS.prototype={constructor:IS,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function eNe(e){return function(){return e}}function XJt(e,t,r,n,i,o){for(var u=0,f,m=t.length,y=o.length;u<y;++u)(f=t[u])?(f.__data__=o[u],n[u]=f):r[u]=new IS(e,o[u]);for(;u<m;++u)(f=t[u])&&(i[u]=f)}function QJt(e,t,r,n,i,o,u){var f,m,y=new Map,w=t.length,I=o.length,M=new Array(w),N;for(f=0;f<w;++f)(m=t[f])&&(M[f]=N=u.call(m,m.__data__,f,t)+"",y.has(N)?i[f]=m:y.set(N,m));for(f=0;f<I;++f)N=u.call(e,o[f],f,o)+"",(m=y.get(N))?(n[f]=m,m.__data__=o[f],y.delete(N)):r[f]=new IS(e,o[f]);for(f=0;f<w;++f)(m=t[f])&&y.get(M[f])===m&&(i[f]=m)}function JJt(e){return e.__data__}function tNe(e,t){if(!arguments.length)return Array.from(this,JJt);var r=t?QJt:XJt,n=this._parents,i=this._groups;typeof e!="function"&&(e=eNe(e));for(var o=i.length,u=new Array(o),f=new Array(o),m=new Array(o),y=0;y<o;++y){var w=n[y],I=i[y],M=I.length,N=eer(e.call(w,w&&w.__data__,y,n)),z=N.length,F=f[y]=new Array(z),q=u[y]=new Array(z),R=m[y]=new Array(M);r(w,I,F,q,R,N,t);for(var U=0,Y=0,re,de;U<z;++U)if(re=F[U]){for(U>=Y&&(Y=U+1);!(de=q[Y])&&++Y<z;);re._next=de||null}}return u=new Yi(u,n),u._enter=f,u._exit=m,u}function eer(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function rNe(){return new Yi(this._exit||this._groups.map(wP),this._parents)}function nNe(e,t,r){var n=this.enter(),i=this,o=this.exit();return typeof e=="function"?(n=e(n),n&&(n=n.selection())):n=n.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),r==null?o.remove():r(o),n&&i?n.merge(i).order():i}function iNe(e){for(var t=e.selection?e.selection():e,r=this._groups,n=t._groups,i=r.length,o=n.length,u=Math.min(i,o),f=new Array(i),m=0;m<u;++m)for(var y=r[m],w=n[m],I=y.length,M=f[m]=new Array(I),N,z=0;z<I;++z)(N=y[z]||w[z])&&(M[z]=N);for(;m<i;++m)f[m]=r[m];return new Yi(f,this._parents)}function oNe(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n=e[t],i=n.length-1,o=n[i],u;--i>=0;)(u=n[i])&&(o&&u.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(u,o),o=u);return this}function aNe(e){e||(e=ter);function t(I,M){return I&&M?e(I.__data__,M.__data__):!I-!M}for(var r=this._groups,n=r.length,i=new Array(n),o=0;o<n;++o){for(var u=r[o],f=u.length,m=i[o]=new Array(f),y,w=0;w<f;++w)(y=u[w])&&(m[w]=y);m.sort(t)}return new Yi(i,this._parents).order()}function ter(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function sNe(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function lNe(){return Array.from(this)}function uNe(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,o=n.length;i<o;++i){var u=n[i];if(u)return u}return null}function cNe(){let e=0;for(let t of this)++e;return e}function pNe(){return!this.node()}function fNe(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var i=t[r],o=0,u=i.length,f;o<u;++o)(f=i[o])&&e.call(f,f.__data__,o,i);return this}function rer(e){return function(){this.removeAttribute(e)}}function ner(e){return function(){this.removeAttributeNS(e.space,e.local)}}function ier(e,t){return function(){this.setAttribute(e,t)}}function oer(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function aer(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function ser(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function dNe(e,t){var r=yP(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((t==null?r.local?ner:rer:typeof t=="function"?r.local?ser:aer:r.local?oer:ier)(r,t))}function SP(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function ler(e){return function(){this.style.removeProperty(e)}}function uer(e,t,r){return function(){this.style.setProperty(e,t,r)}}function cer(e,t,r){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function hNe(e,t,r){return arguments.length>1?this.each((t==null?ler:typeof t=="function"?cer:uer)(e,t,r==null?"":r)):per(this.node(),e)}function per(e,t){return e.style.getPropertyValue(t)||SP(e).getComputedStyle(e,null).getPropertyValue(t)}function fer(e){return function(){delete this[e]}}function der(e,t){return function(){this[e]=t}}function her(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function mNe(e,t){return arguments.length>1?this.each((t==null?fer:typeof t=="function"?her:der)(e,t)):this.node()[e]}function gNe(e){return e.trim().split(/^|\s+/)}function mH(e){return e.classList||new vNe(e)}function vNe(e){this._node=e,this._names=gNe(e.getAttribute("class")||"")}vNe.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function yNe(e,t){for(var r=mH(e),n=-1,i=t.length;++n<i;)r.add(t[n])}function _Ne(e,t){for(var r=mH(e),n=-1,i=t.length;++n<i;)r.remove(t[n])}function mer(e){return function(){yNe(this,e)}}function ger(e){return function(){_Ne(this,e)}}function ver(e,t){return function(){(t.apply(this,arguments)?yNe:_Ne)(this,e)}}function bNe(e,t){var r=gNe(e+"");if(arguments.length<2){for(var n=mH(this.node()),i=-1,o=r.length;++i<o;)if(!n.contains(r[i]))return!1;return!0}return this.each((typeof t=="function"?ver:t?mer:ger)(r,t))}function yer(){this.textContent=""}function _er(e){return function(){this.textContent=e}}function ber(e){return function(){var t=e.apply(this,arguments);this.textContent=t==null?"":t}}function xNe(e){return arguments.length?this.each(e==null?yer:(typeof e=="function"?ber:_er)(e)):this.node().textContent}function xer(){this.innerHTML=""}function wer(e){return function(){this.innerHTML=e}}function Ser(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t==null?"":t}}function wNe(e){return arguments.length?this.each(e==null?xer:(typeof e=="function"?Ser:wer)(e)):this.node().innerHTML}function Ier(){this.nextSibling&&this.parentNode.appendChild(this)}function SNe(){return this.each(Ier)}function Eer(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function INe(){return this.each(Eer)}function ENe(e){var t=typeof e=="function"?e:_P(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Ter(){return null}function TNe(e,t){var r=typeof e=="function"?e:_P(e),n=t==null?Ter:typeof t=="function"?t:bP(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function Mer(){var e=this.parentNode;e&&e.removeChild(this)}function MNe(){return this.each(Mer)}function Cer(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Aer(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function CNe(e){return this.select(e?Aer:Cer)}function ANe(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Per(e){return function(t){e.call(this,t,this.__data__)}}function Oer(e){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");return n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),{type:t,name:r}})}function Der(e){return function(){var t=this.__on;if(t){for(var r=0,n=-1,i=t.length,o;r<i;++r)o=t[r],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++n]=o;++n?t.length=n:delete this.__on}}}function Ner(e,t,r){return function(){var n=this.__on,i,o=Per(t);if(n){for(var u=0,f=n.length;u<f;++u)if((i=n[u]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=r),i.value=t;return}}this.addEventListener(e.type,o,r),i={type:e.type,name:e.name,value:t,listener:o,options:r},n?n.push(i):this.__on=[i]}}function PNe(e,t,r){var n=Oer(e+""),i,o=n.length,u;if(arguments.length<2){var f=this.node().__on;if(f){for(var m=0,y=f.length,w;m<y;++m)for(i=0,w=f[m];i<o;++i)if((u=n[i]).type===w.type&&u.name===w.name)return w.value}return}for(f=t?Ner:Der,i=0;i<o;++i)this.each(f(n[i],t,r));return this}function ONe(e,t,r){var n=SP(e),i=n.CustomEvent;typeof i=="function"?i=new i(t,r):(i=n.document.createEvent("Event"),r?(i.initEvent(t,r.bubbles,r.cancelable),i.detail=r.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function ker(e,t){return function(){return ONe(this,e,t)}}function Ler(e,t){return function(){return ONe(this,e,t.apply(this,arguments))}}function DNe(e,t){return this.each((typeof t=="function"?Ler:ker)(e,t))}function*NNe(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,o=n.length,u;i<o;++i)(u=n[i])&&(yield u)}var gH=[null];function Yi(e,t){this._groups=e,this._parents=t}function Rer(){return new Yi([[document.documentElement]],gH)}function qer(){return this}Yi.prototype=Rer.prototype={constructor:Yi,select:HDe,selectAll:ZDe,selectChild:KDe,selectChildren:XDe,filter:QDe,data:tNe,enter:JDe,exit:rNe,join:nNe,merge:iNe,selection:qer,order:oNe,sort:aNe,call:sNe,nodes:lNe,node:uNe,size:cNe,empty:pNe,each:fNe,attr:dNe,style:hNe,property:mNe,classed:bNe,text:xNe,html:wNe,raise:SNe,lower:INe,append:ENe,insert:TNe,remove:MNe,clone:CNe,datum:ANe,on:PNe,dispatch:DNe,[Symbol.iterator]:NNe};function IP(e){return typeof e=="string"?new Yi([[document.querySelector(e)]],[document.documentElement]):new Yi([[e]],gH)}var Yu={},vH="http://www.w3.org/2000/svg";typeof document!="undefined"&&(Yu.svg=document.createElementNS(vH,"svg"),Yu.arcs=document.createElementNS(vH,"g"),Yu.arcs.classList.add("arcs"),Yu.circle=document.createElementNS(vH,"circle"),Yu.circle.classList.add("circle"));var yH=45,zer=(e,t)=>{let n=t-7-4,i=7+(1-e)*n,o=Math.round((1-e)*7),u=Yu.circle.cloneNode();return u.setAttribute("r",i),u.style.setProperty("--idohist-spatial-blur",`${o}px`),u.classList.add("spatial-certainty"),u},jer=()=>{let e=Yu.circle.cloneNode();return e.setAttribute("r",yH),e.classList.add("background"),e},kNe=e=>{let t=Yu.circle.cloneNode();return t.setAttribute("r",e),t.classList.add("track"),t},LNe=({spatialCertainty:e,temporalCertainty:t,contentCertainty:r})=>{let n=yH*2,i=5,o=3,u=6,f=yH-i,m=f-u,y=m-o,w=y-u,I=kNe(y-(y-w)/2),M=kNe(f-(f-m)/2),N=zer(e,w),z=jer(),F=Yu.svg.cloneNode(),q=Yu.arcs.cloneNode();q.classList.add("temporal");let R=Yu.arcs.cloneNode();R.classList.add("content");let U={content:[{value:r,cssClass:"certainty"},{value:1-r,cssClass:"uncertainty"}],temporal:[{value:t,cssClass:"certainty"},{value:1-t,cssClass:"uncertainty"}]},Y=gP().innerRadius(f).outerRadius(m),re=gP().innerRadius(w).outerRadius(y),de=fH().sort(null).value(qe=>qe.value),ce=IP(R),Se=IP(q);return ce.selectAll().data(de(U.content)).enter().append("path").attr("d",Y).attr("class",qe=>qe.data.cssClass),Se.selectAll().data(de(U.temporal)).enter().append("path").attr("d",re).attr("class",qe=>qe.data.cssClass),F.setAttribute("viewBox",`${-n/2}, ${-n/2}, ${n}, ${n}`),F.append(z,N,I,M,q,R),F};var qNe="marker-idohist",zNe="data-vkf-feature-id",jNe="data-vkf-source-id",FNe="data-vkf-source-id-hover",TP="data-vkf-visibility",bH=Symbol("vkf:feature-properties"),Fer={type:"Polygon",coordinates:[]},Ber=typeof document!="undefined"?document.createElement("div"):{},xH=e=>{if(!zt(e))return;let t=e.closest(`div.${qNe}`),r=parseInt(t.getAttribute(zNe),10),n=t.getAttribute(jNe),i=t.getAttribute(FNe),o=t.getAttribute(TP);return{featureId:r,sourceId:n,sourceIdHover:i,visibility:o}},BNe=(e,t,r)=>{if(!zt(e))return;let n=Object.keys(dP).map(i=>`${t}-${i}`);for(let i of n){if(!zt(r)){e.setFilter(i,wS);continue}let o=["all",wS[1],["==",["id"],r]];e.setFilter(i,o)}},Uer=e=>{e.stopPropagation();let{target:t}=e,{featureId:r,sourceId:n,visibility:i}=xH(t);i!==cf.NONE&&aH(wH,{featureId:r,sourceId:n})},Ver=e=>{e.stopPropagation();let{target:t}=e,{featureId:r,sourceIdHover:n,visibility:i}=xH(t);i!==cf.NONE&&fP(Rn).then(o=>{BNe(o,n,r)})},$er=e=>{e.stopPropagation();let{target:t}=e,{sourceIdHover:r,visibility:n}=xH(t);n!==cf.NONE&&fP(Rn).then(i=>{BNe(i,r,null)})},UNe=(e,{sourceId:t,sourceIdHover:r})=>{let n=e.geometry.coordinates,i=e.id,{properties:o}=e,u=_H(o[Rg.contentCertainty]),f=_H(o[Rg.temporalCertainty]),m=_H(o[Rg.spatialCertainty]),y=Ber.cloneNode();y.classList.add(qNe),y.setAttribute(zNe,i),y.setAttribute(jNe,t),y.setAttribute(FNe,r);let w=LNe({spatialCertainty:m,temporalCertainty:f,contentCertainty:u});y.appendChild(w),y.addEventListener("click",Uer),y.addEventListener("mouseenter",Ver),y.addEventListener("mouseleave",$er);let I=new RNe.Marker({element:y});return I.isVisible=!0,I.setLngLat(n),I[bH]=e.properties,I},VNe=e=>{let{properties:t}=e,r=Fer;return Object.hasOwn(t,Rg.hoverPolygon)&&t[Rg.hoverPolygon].type==="Polygon"&&(r=t[Rg.hoverPolygon]),{type:"Feature",geometry:r,id:e.id}},$Ne=(e,t,r)=>{let n={};for(let i of Object.keys(t)){let o=`${e}-${i}`;n[o]=nt(gr(nt({id:o,source:e},t[i]),{layout:gr(nt({},t[i].layout),{visibility:"visible"})}),r&&{metadata:{[Gc.id]:e,[Gc.contentType]:Og.IDOHIST}})}return n},EP={largeZoom:{slope:.04,intercept:.24},smallZoom:{slope:.038,intercept:.06}},GNe=e=>e>14?EP.largeZoom.slope*e+EP.largeZoom.intercept:EP.smallZoom.slope*e+EP.smallZoom.intercept,_H=e=>Number.isNaN(Number.parseFloat(e))||e<0?0:e>1?1:e;var HNe=[{type:"mousemove",handler:e=>e.target.getCanvas().style.cursor="pointer"},{type:"mouseleave",handler:e=>e.target.getCanvas().style.cursor=""}],WNe=(e,{sourceId:t,sourceIdHover:r})=>{let n={type:"FeatureCollection",features:[]},i=[];for(let o of e.features){if(o.geometry.type!=="Point")continue;let u=UNe(o,{sourceIdHover:r,sourceId:t});i.push(u);let f=VNe(o);n.features.push(f)}return{markers:i,geoJsonHoverPolygons:n}},va,Ku,Xu,M1,ES,ff,C1,ou,T1,ZNe,YNe,SH=class extends pP{constructor(r){super();to(this,ou);to(this,va,[]);to(this,Ku,null);to(this,Xu,null);to(this,M1,!0);to(this,ES,1);to(this,ff,[]);to(this,C1,{});ro(this,Ku,r),ro(this,Xu,`${r}-hover`)}addLayerToMap(r,n,i){var y,w;if(!zt(r))return;let{markers:o,geoJsonHoverPolygons:u}=WNe(i,{sourceId:ir(this,Ku),sourceIdHover:ir(this,Xu)});ro(this,va,o),ir(this,va).forEach(I=>I.addTo(r));let f=r.getLayer(vs)!==void 0?vs:void 0,m=[{sourceId:ir(this,Ku),definition:qDe,data:i,hasPopup:!0},{sourceId:ir(this,Xu),definition:dP,data:u,hasPopup:!1}];for(let{sourceId:I,definition:M,data:N,hasPopup:z}of m){r.addSource(I,{type:"geojson",data:N});let F=$Ne(I,M,z);for(let[q,R]of Object.entries(F))r.addLayer(R,f),ir(this,ff).push(q),ir(this,C1)[q]=R.filter}if(zt(n)){let{layerSettings:I}=n,M=(y=I==null?void 0:I.opacity)!=null?y:1,N=(w=I==null?void 0:I.visibility)!=null?w:"visible";this.setVisibility(r,N),this.setOpacity(r,M)}Ai(this,ou,ZNe).call(this,r)}removeLayerFromMap(r){ir(this,va).forEach(n=>n.remove()),ro(this,va,[]);for(let n of ir(this,ff))Ai(this,ou,YNe).call(this,r,n),r.removeLayer(n);r.removeSource(ir(this,Ku)),r.removeSource(ir(this,Xu)),ro(this,ff,[])}setDataOnMap(r,n){let{markers:i,geoJsonHoverPolygons:o}=WNe(n,{sourceId:ir(this,Ku),sourceIdHover:ir(this,Xu)});ir(this,va).forEach(m=>m.remove()),ro(this,va,i),ir(this,va).forEach(m=>m.addTo(r));let u=r.getSource(ir(this,Ku)),f=r.getSource(ir(this,Xu));if(!zt(u)||!zt(f)){console.error("Cannot update geojson on map. Source layer not found");return}u.setData(n),f.setData(o)}getOpacity(){return ir(this,ES)}setOpacity(r,n){if(!zt(n))return;ro(this,ES,n),ir(this,va).forEach(o=>o.setOpacity(n));let i=Ai(this,ou,T1).call(this,r);for(let{id:o,type:u}of i){let f=Lg[u],m=xS[u];r.setPaintProperty(o,m,["*",f,n])}}isVisible(){return ir(this,va).length===0?!1:ir(this,M1)}setVisibility(r,n){let i=Ai(this,ou,T1).call(this,r);if(!(i.length===0||!zt(n))){for(let{id:o}of i)r.setLayoutProperty(o,"visibility",n);if(n===cf.VISIBLE){for(let o of ir(this,va)){let u=o.getElement();u.setAttribute(TP,cf.VISIBLE),u.style.setProperty("display","block")}ro(this,M1,!0),r.fireVisibilityChanged(ir(this,Ku),n),r.fireVisibilityChanged(ir(this,Xu),n);return}if(n===cf.NONE){for(let o of ir(this,va)){let u=o.getElement();u.setAttribute(TP,cf.NONE),u.style.setProperty("display","none")}ro(this,M1,!1),r.fireVisibilityChanged(ir(this,Ku),n),r.fireVisibilityChanged(ir(this,Xu),n);return}}}isDisplayedInMap(){return ir(this,va).length>0}getLayerId(){return ir(this,ff).length>0?ir(this,ff)[0]:null}move(){}setFilters(r,n){let i=n==null?void 0:n.timeExtent,o=cP(i),u=Ai(this,ou,T1).call(this,r);for(let f of u){let{id:m}=f,w=["all",ir(this,C1)[m]];zt(o)&&o.length>0&&w.push(o),r.setFilter(m,w)}for(let f of ir(this,va)){let[m,y]=f[bH][Ua.time],{timeExtent:w}=n;m<=w[1]*1e3&&y>=w[0]*1e3?f.addTo(r):f.remove()}}resetFilters(r){let n=Ai(this,ou,T1).call(this,r);ir(this,va).forEach(i=>i.addTo(r));for(let i of n){let{id:o}=i,u=ir(this,C1)[o];r.setFilter(o,u)}}};va=new WeakMap,Ku=new WeakMap,Xu=new WeakMap,M1=new WeakMap,ES=new WeakMap,ff=new WeakMap,C1=new WeakMap,ou=new WeakSet,T1=function(r){let n=ir(this,ff).map(i=>r.getLayer(i));return n[0]===void 0?[]:n},ZNe=function(r){for(let{id:n}of Ai(this,ou,T1).call(this,r))for(let{type:i,handler:o}of HNe)r.on(i,n,o)},YNe=function(r,n){for(let{type:i,handler:o}of HNe)r.off(i,n,o)};var KNe=SH;var Fg,ya,MP,XNe,df=class df extends b1{constructor({metadata:r,geometry:n,geoJson:i}){if(!ir(df,Fg))throw new TypeError("Constructor is private. Use GeoJsonLayer.fromApplication() or GeoJsonLayer.fromPersistence() instead.");ro(df,Fg,!1);super({metadata:r,geometry:n});to(this,MP);ut(this,"geoJSON",{});to(this,ya,null);Ai(this,MP,XNe).call(this,i),this.metadata[Bt.externalContentType]===Og.IDOHIST?ro(this,ya,new KNe(this.getId())):ro(this,ya,new kDe(this.getId()))}static fromApplication(r){return ro(df,Fg,!0),new df(r)}static fromPersistence({metadata:r,geometry:n,geoJson:i}){ro(df,Fg,!0);let o=i.features.map(nH),u=gr(nt({},i),{features:o});return new df({metadata:r,geometry:n,geoJson:u})}getGeoJson(){return this.geoJSON}getGeoJsonForPersistence(){var i;let r=structuredClone(this.getGeoJson()),n=(i=r.features)!=null?i:[];return n=n.map(rH),r.features=n,r}setGeoJson(r){let n=r.features.map((o,u)=>(Object.hasOwn(o,"properties")||(o.properties={}),zt(o.id)?nt({},o):gr(nt({},o),{id:u+1}))),i=gr(nt({},r),{features:n});this.geoJSON=i}getFeature(r){let n=this.geoJSON.features.find(i=>i.id===r);return zt(n)?n:(console.warn(`No feature found for id '${r}'`),null)}getType(){return Ba.VECTOR_MAP}isRemote(){return zt(this.metadata[Bt.vectorMapId])}isLocal(){return!this.isRemote()}isExternalVectorMap(){let r=this.metadata[Bt.externalContentUrl];return zt(r)&&o4(r)}getPreviewFeature(){let r=this.getMetadata(Bt.bounds);return{type:"Feature",properties:{},geometry:ADe(r)}}addLayerToMap(r,n){ir(this,ya).addLayerToMap(r,n,this.geoJSON)}removeMapLibreLayers(r){ir(this,ya).removeLayerFromMap(r)}setDataOnMap(r,n){!zt(r)||!zt(n)||(this.setGeoJson(n),ir(this,ya).setDataOnMap(r,this.geoJSON))}getMapLibreLayerId(){return ir(this,ya).getLayerId()}getOpacity(r){return ir(this,ya).getOpacity(r)}setOpacity(r,n){ir(this,ya).setOpacity(r,n)}isVisible(r){return ir(this,ya).isVisible(r)}setVisibility(r,n){ir(this,ya).setVisibility(r,n)}isDisplayedInMap(r){return ir(this,ya).isDisplayedInMap(r)}move(r,n){ir(this,ya).move(r,n)}moveToTop(r){this.move(r,null)}setFilters(r,n){if(!zt(n)||(n==null?void 0:n.length)===0){ir(this,ya).resetFilters(r);return}ir(this,ya).setFilters(r,n)}static toApplicationState(r){var o;if(!zt(r))return r;let n=structuredClone(r),i=(o=n.features)!=null?o:[];return i=i.map(nH),n.features=i,n}static toPersistenceState(r){var o;if(!zt(r))return r;let n=structuredClone(r),i=(o=n.features)!=null?o:[];return i=i.map(rH),n.features=i,n}};Fg=new WeakMap,ya=new WeakMap,MP=new WeakSet,XNe=function(r){var i,o;this.setGeoJson(r);let n=this.geometry?yS(this.geometry):yS(this.geoJSON);this.metadata[Bt.bounds]=n,this.metadata[Bt.id]=(i=this.metadata[Bt.id])!=null?i:crypto.randomUUID(),this.metadata[Bt.timePeriod]=(o=this.metadata[Bt.timePeriod])!=null?o:CDe(),this.metadata[Bt.hasGeoReference]=!0},to(df,Fg,!1);var IH=df,QNe=IH;var Bg=QNe;var Ger=`${Bt.timePeriod}_start`,Her=`${Bt.timePeriod}_end`;var T$r=[{label:"VKF",value:Og.VKF},{label:"IDOHIST",value:Og.IDOHIST}],JNe=e=>({[Bt.title]:e[Bt.title],[Bt.timePeriod]:e[Bt.timePeriod],[Bt.description]:e[Bt.description],[Bt.externalContentUrl]:e[Bt.externalContentUrl],[Bt.externalContentType]:e[Bt.externalContentType],[Bt.thumbnailUrl]:e[Bt.thumbnailUrl]});var A1=ln({key:"activeBasemapId",default:Nr.getSettings().BASEMAPS[0].id}),eke=ln({key:"currentApplicationState",default:void 0}),CP=ln({key:"elementScreenSize",default:{map:{height:0,width:0}}}),tke={facets:[],georeference:!1},Ih=ln({key:"facetState",default:{facets:[],georeference:!1}}),rke=ln({key:"layoutState",default:yh.VERTICAL}),k$r=ln({key:"horizontalLayoutModeState",default:FOe.STANDARD}),Rn=ln({key:"mapState",default:void 0,dangerouslyAllowMutability:!0}),nke=ln({key:"map3dState",default:!1}),AP=ln({key:"mapCountState",default:10}),PP=ln({key:"searchIsLoadingState",default:!1}),Zs=ln({key:"selectedLayersState",default:[],dangerouslyAllowMutability:!0}),L$r=ln({key:"selectedOriginalMapIdState",default:void 0}),EH=ln({key:"selectedGeoJsonLayerIdState",default:void 0}),Wer=ln({key:"selectedGeoJsonLayerLastUpdatedState",default:0}),R$r=Cg({key:"selectedGeoJsonLayerState",get:({get:e})=>{let t=e(EH),r=e(Zs),n=e(Wer);return{selectedLayer:r.find(o=>o.getId()===t),lastUpdated:n}},dangerouslyAllowMutability:!0}),wH=ln({key:"selectedGeoJsonFeatureIdentifierState",default:null}),ike=Cg({key:"isGeoJsonFeatureSelectedState",get:({get:e})=>{let t=e(wH);if(!zt(t))return!1;let{featureId:r,sourceId:n}=t;return zt(r)&&zt(n)}}),OP=ln({key:"timeExtentState",default:[1850,1970]}),TH=[1850,1970],DP=ln({key:"timeRangeState",default:TH}),NP=ln({key:"baseMapStyleLayersState",default:[]}),oke=ln({key:"activeDialogState",default:Hs.None}),q$r=ln({key:"drawState",default:void 0}),z$r=ln({key:"editedGeojsonState",default:null}),j$r=ln({key:"metadataDrawState",default:null}),F$r=ln({key:"vectorMapState",default:null}),Zer=ln({key:"vectorMapActiveVersionDrawState",default:null}),B$r=Cg({key:"isActiveVectorMapVersionDifferentState",get:({get:e})=>e(Zer)!==null}),U$r=ln({key:"showDropZoneState",default:!1}),V$r=ln({key:"addedFileState",default:null}),$$r=ln({key:"addGeoJsonDialogState",default:!1}),G$r=ln({key:"drawModePanelState",default:zOe.NONE}),H$r=ln({key:"vectorMapExternalModePanelState",default:jOe.NONE}),MH=ln({key:"layerExternalVectorMapState",default:null,dangerouslyAllowMutability:!0}),ake=ln({key:"forceUpdateLayerExternalVectorMapState",default:0}),W$r=Cg({key:"metadataExternalVectorMapState",get:({get:e})=>{e(ake);let t=e(MH);return zt(t)?JNe(t.getMetadata()):null},dangerouslyAllowMutability:!0}),Z$r=Cg({key:"geojsonExternalVectorMapState",get:({get:e})=>{e(ake);let t=e(MH);return zt(t)?t.getGeoJson():null},dangerouslyAllowMutability:!0}),Y$r=Cg({key:"layerIdExternalVectorMapState",get:({get:e})=>{let t=e(MH);return zt(t)?t.getId():null},dangerouslyAllowMutability:!0});var Ju=se(He(),1);var au=[];var ske=function(){return au.some(function(e){return e.activeTargets.length>0})};var lke=function(){return au.some(function(e){return e.skippedTargets.length>0})};var uke="ResizeObserver loop completed with undelivered notifications.",cke=function(){var e;typeof ErrorEvent=="function"?e=new ErrorEvent("error",{message:uke}):(e=document.createEvent("Event"),e.initEvent("error",!1,!1),e.message=uke),window.dispatchEvent(e)};var Ug;(function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(Ug||(Ug={}));var Qu=function(e){return Object.freeze(e)};var CH=function(){function e(t,r){this.inlineSize=t,this.blockSize=r,Qu(this)}return e}();var AH=function(){function e(t,r,n,i){return this.x=t,this.y=r,this.width=n,this.height=i,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,Qu(this)}return e.prototype.toJSON=function(){var t=this,r=t.x,n=t.y,i=t.top,o=t.right,u=t.bottom,f=t.left,m=t.width,y=t.height;return{x:r,y:n,top:i,right:o,bottom:u,left:f,width:m,height:y}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}();var TS=function(e){return e instanceof SVGElement&&"getBBox"in e},kP=function(e){if(TS(e)){var t=e.getBBox(),r=t.width,n=t.height;return!r&&!n}var i=e,o=i.offsetWidth,u=i.offsetHeight;return!(o||u||e.getClientRects().length)},PH=function(e){var t;if(e instanceof Element)return!0;var r=(t=e==null?void 0:e.ownerDocument)===null||t===void 0?void 0:t.defaultView;return!!(r&&e instanceof r.Element)},pke=function(e){switch(e.tagName){case"INPUT":if(e.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1};var Vg=typeof window!="undefined"?window:{};var LP=new WeakMap,fke=/auto|scroll/,Yer=/^tb|vertical/,Ker=/msie|trident/i.test(Vg.navigator&&Vg.navigator.userAgent),Wc=function(e){return parseFloat(e||"0")},P1=function(e,t,r){return e===void 0&&(e=0),t===void 0&&(t=0),r===void 0&&(r=!1),new CH((r?t:e)||0,(r?e:t)||0)},dke=Qu({devicePixelContentBoxSize:P1(),borderBoxSize:P1(),contentBoxSize:P1(),contentRect:new AH(0,0,0,0)}),OH=function(e,t){if(t===void 0&&(t=!1),LP.has(e)&&!t)return LP.get(e);if(kP(e))return LP.set(e,dke),dke;var r=getComputedStyle(e),n=TS(e)&&e.ownerSVGElement&&e.getBBox(),i=!Ker&&r.boxSizing==="border-box",o=Yer.test(r.writingMode||""),u=!n&&fke.test(r.overflowY||""),f=!n&&fke.test(r.overflowX||""),m=n?0:Wc(r.paddingTop),y=n?0:Wc(r.paddingRight),w=n?0:Wc(r.paddingBottom),I=n?0:Wc(r.paddingLeft),M=n?0:Wc(r.borderTopWidth),N=n?0:Wc(r.borderRightWidth),z=n?0:Wc(r.borderBottomWidth),F=n?0:Wc(r.borderLeftWidth),q=I+y,R=m+w,U=F+N,Y=M+z,re=f?e.offsetHeight-Y-e.clientHeight:0,de=u?e.offsetWidth-U-e.clientWidth:0,ce=i?q+U:0,Se=i?R+Y:0,qe=n?n.width:Wc(r.width)-ce-de,Re=n?n.height:Wc(r.height)-Se-re,Te=qe+q+de+U,Ee=Re+R+re+Y,Ne=Qu({devicePixelContentBoxSize:P1(Math.round(qe*devicePixelRatio),Math.round(Re*devicePixelRatio),o),borderBoxSize:P1(Te,Ee,o),contentBoxSize:P1(qe,Re,o),contentRect:new AH(I,m,qe,Re)});return LP.set(e,Ne),Ne},RP=function(e,t,r){var n=OH(e,r),i=n.borderBoxSize,o=n.contentBoxSize,u=n.devicePixelContentBoxSize;switch(t){case Ug.DEVICE_PIXEL_CONTENT_BOX:return u;case Ug.BORDER_BOX:return i;default:return o}};var DH=function(){function e(t){var r=OH(t);this.target=t,this.contentRect=r.contentRect,this.borderBoxSize=Qu([r.borderBoxSize]),this.contentBoxSize=Qu([r.contentBoxSize]),this.devicePixelContentBoxSize=Qu([r.devicePixelContentBoxSize])}return e}();var qP=function(e){if(kP(e))return 1/0;for(var t=0,r=e.parentNode;r;)t+=1,r=r.parentNode;return t};var hke=function(){var e=1/0,t=[];au.forEach(function(u){if(u.activeTargets.length!==0){var f=[];u.activeTargets.forEach(function(y){var w=new DH(y.target),I=qP(y.target);f.push(w),y.lastReportedSize=RP(y.target,y.observedBox),I<e&&(e=I)}),t.push(function(){u.callback.call(u.observer,f,u.observer)}),u.activeTargets.splice(0,u.activeTargets.length)}});for(var r=0,n=t;r<n.length;r++){var i=n[r];i()}return e};var NH=function(e){au.forEach(function(r){r.activeTargets.splice(0,r.activeTargets.length),r.skippedTargets.splice(0,r.skippedTargets.length),r.observationTargets.forEach(function(i){i.isActive()&&(qP(i.target)>e?r.activeTargets.push(i):r.skippedTargets.push(i))})})};var mke=function(){var e=0;for(NH(e);ske();)e=hke(),NH(e);return lke()&&cke(),e>0};var kH,gke=[],Xer=function(){return gke.splice(0).forEach(function(e){return e()})},vke=function(e){if(!kH){var t=0,r=document.createTextNode(""),n={characterData:!0};new MutationObserver(function(){return Xer()}).observe(r,n),kH=function(){r.textContent="".concat(t?t--:t++)}}gke.push(e),kH()};var yke=function(e){vke(function(){requestAnimationFrame(e)})};var zP=0,Qer=function(){return!!zP},Jer=250,etr={attributes:!0,characterData:!0,childList:!0,subtree:!0},_ke=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],bke=function(e){return e===void 0&&(e=0),Date.now()+e},LH=!1,ttr=function(){function e(){var t=this;this.stopped=!0,this.listener=function(){return t.schedule()}}return e.prototype.run=function(t){var r=this;if(t===void 0&&(t=Jer),!LH){LH=!0;var n=bke(t);yke(function(){var i=!1;try{i=mke()}finally{if(LH=!1,t=n-bke(),!Qer())return;i?r.run(1e3):t>0?r.run(t):r.start()}})}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var t=this,r=function(){return t.observer&&t.observer.observe(document.body,etr)};document.body?r():Vg.addEventListener("DOMContentLoaded",r)},e.prototype.start=function(){var t=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),_ke.forEach(function(r){return Vg.addEventListener(r,t.listener,!0)}))},e.prototype.stop=function(){var t=this;this.stopped||(this.observer&&this.observer.disconnect(),_ke.forEach(function(r){return Vg.removeEventListener(r,t.listener,!0)}),this.stopped=!0)},e}(),jP=new ttr,RH=function(e){!zP&&e>0&&jP.start(),zP+=e,!zP&&jP.stop()};var rtr=function(e){return!TS(e)&&!pke(e)&&getComputedStyle(e).display==="inline"},xke=function(){function e(t,r){this.target=t,this.observedBox=r||Ug.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var t=RP(this.target,this.observedBox,!0);return rtr(this.target)&&(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}();var wke=function(){function e(t,r){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=t,this.callback=r}return e}();var FP=new WeakMap,Ske=function(e,t){for(var r=0;r<e.length;r+=1)if(e[r].target===t)return r;return-1},MS=function(){function e(){}return e.connect=function(t,r){var n=new wke(t,r);FP.set(t,n)},e.observe=function(t,r,n){var i=FP.get(t),o=i.observationTargets.length===0;Ske(i.observationTargets,r)<0&&(o&&au.push(i),i.observationTargets.push(new xke(r,n&&n.box)),RH(1),jP.schedule())},e.unobserve=function(t,r){var n=FP.get(t),i=Ske(n.observationTargets,r),o=n.observationTargets.length===1;i>=0&&(o&&au.splice(au.indexOf(n),1),n.observationTargets.splice(i,1),RH(-1))},e.disconnect=function(t){var r=this,n=FP.get(t);n.observationTargets.slice().forEach(function(i){return r.unobserve(t,i.target)}),n.activeTargets.splice(0,n.activeTargets.length)},e}();var qH=function(){function e(t){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof t!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");MS.connect(this,t)}return e.prototype.observe=function(t,r){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!PH(t))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");MS.observe(this,t,r)},e.prototype.unobserve=function(t){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!PH(t))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");MS.unobserve(this,t)},e.prototype.disconnect=function(){MS.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}();var Ike=se(He()),ntr=Ike.default[typeof document!="undefined"&&document.createElement!==void 0?"useLayoutEffect":"useEffect"],Eke=ntr;var BP=se(He()),itr=e=>{let t=BP.useRef(e);return BP.useEffect(()=>{t.current=e}),t},Tke=itr;var otr=typeof window!="undefined"&&"ResizeObserver"in window?window.ResizeObserver:qH;function atr(){}function str(e,t){let r=utr(),n=Tke(t);return Eke(()=>{let i=!1,o=e&&"current"in e?e.current:e;if(!o)return atr;function u(f,m){i||n.current(f,m)}return r.subscribe(o,u),()=>{i=!0,r.unsubscribe(o,u)}},[e,r,n]),r.observer}function ltr(){let e=!1,t=[],r=new Map,n=new otr((i,o)=>{t=t.concat(i);function u(){let f=new Set;for(let m=0;m<t.length;m++){if(f.has(t[m].target))continue;f.add(t[m].target);let y=r.get(t[m].target);y==null||y.forEach(w=>w(t[m],o))}t=[],e=!1}e||window.requestAnimationFrame(u),e=!0});return{observer:n,subscribe(i,o){var u;n.observe(i);let f=(u=r.get(i))!==null&&u!==void 0?u:[];f.push(o),r.set(i,f)},unsubscribe(i,o){var u;let f=(u=r.get(i))!==null&&u!==void 0?u:[];if(f.length===1){n.unobserve(i),r.delete(i);return}let m=f.indexOf(o);m!==-1&&f.splice(m,1),r.set(i,f)}}}var zH,utr=()=>zH||(zH=ltr()),Mke=str;function Cke(e,t=250){let r=(0,Ju.useRef)();return(0,Ju.useEffect)(()=>{clearTimeout(r.current)},[e]),(...n)=>{r.current=window.setTimeout(()=>{e.apply(this,n)},t)}}function UP(e){let[t,r]=(0,Ju.useState)(e);return(0,Ju.useEffect)(()=>{r(e)},[e]),t}function Ake(e,t){let r=ki(CP),n=jH(e);(0,Ju.useEffect)(()=>{let{height:i,width:o}=n;r(u=>Object.assign({},u,{[t]:{height:i,width:o}}))},[n])}var jH=e=>{let[t,r]=(0,Ju.useState)({height:0,width:0});return(0,Ju.useLayoutEffect)(()=>{r(e.current.getBoundingClientRect())},[e]),Mke(e,n=>r(n.contentRect)),t};var SI=se(He(),1),D9e=se(Gi(),1);var Zc=se(He(),1);var ctr=(e,t)=>{let r=yr(Rn),[n,i]=(0,Zc.useState)(null),[o,u]=Pn(oke),f=(0,Zc.useRef)(null),m=(0,Zc.useCallback)(w=>{f.current&&!f.current.contains(w.target)&&u(Hs.None)},[]),y=(0,Zc.useCallback)(()=>{u(w=>w===t?Hs.None:t)},[t]);return(0,Zc.useEffect)(()=>{if(zt(r)){let w=M=>{var N;((N=M.control)==null?void 0:N.id)===e&&i(M.control._container)},I=M=>{var N;((N=M.control)==null?void 0:N.id)===e&&i(null)};return r.on(Hu.controlAdded,w),r.on(Hu.controlRemoved,I),()=>{r.off(Hu.controlAdded,w),r.off(Hu.controlRemoved,I)}}},[r]),(0,Zc.useEffect)(()=>(o===t?document.addEventListener("mousedown",m):document.removeEventListener("mousedown",m),()=>{document.removeEventListener("mousedown",m)}),[o,t,m]),{baseMapControlEl:n,activeDialog:o,toggleDialog:y,dialogRef:f}},VP=ctr;var Za=se(He(),1);var JH=se(C6e(),1);function Mt(){return Mt=JH.default?JH.default.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mt.apply(null,arguments)}var K6e=se(j6e(),1);var nW=se(Y6e(),1);function nO(e,t){return nO=nW.default?nW.default.bind():function(r,n){return r.__proto__=n,r},nO(e,t)}function tr(e,t){e.prototype=(0,K6e.default)(t.prototype),e.prototype.constructor=e,nO(e,t)}function ar(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function dn(){return dn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dn.apply(null,arguments)}function k1(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var oW=se(He());var CWr=se(oO()),mrr=function(){};function Q6e(e,t){var r={};return Object.keys(e).forEach(function(n){if(r[L1(n)]=mrr,0)var i}),r}function iW(e,t){return e[t]!==void 0}function L1(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function J6e(e){return!!e&&(typeof e!="function"||e.prototype&&e.prototype.isReactComponent)}function R1(e,t){return R1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},R1(e,t)}function aO(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,R1(e,t)}var q1=se(He()),iLe=se(sW()),oLe=se(oO());var vrr="/Users/jquense/src/uncontrollable/src/uncontrollable.js";function hf(e,t,r){r===void 0&&(r=[]);var n=e.displayName||e.name||"Component",i=J6e(e),o=Object.keys(t),u=o.map(L1);i||!r.length||(0,oLe.default)(!1);var f=function(y){aO(w,y);function w(){for(var M,N=arguments.length,z=new Array(N),F=0;F<N;F++)z[F]=arguments[F];M=y.call.apply(y,[this].concat(z))||this,M.handlers=Object.create(null),o.forEach(function(R){var U=t[R],Y=function(de){if(M.props[U]){var ce;M._notifying=!0;for(var Se=arguments.length,qe=new Array(Se>1?Se-1:0),Re=1;Re<Se;Re++)qe[Re-1]=arguments[Re];(ce=M.props)[U].apply(ce,[de].concat(qe)),M._notifying=!1}M.unmounted||M.setState(function(Te){var Ee,Ne=Te.values;return{values:dn(Object.create(null),Ne,(Ee={},Ee[R]=de,Ee))}})};M.handlers[U]=Y}),r.length&&(M.attachRef=function(R){M.inner=R});var q=Object.create(null);return o.forEach(function(R){q[R]=M.props[L1(R)]}),M.state={values:q,prevProps:{}},M}var I=w.prototype;return I.shouldComponentUpdate=function(){return!this._notifying},w.getDerivedStateFromProps=function(N,z){var F=z.values,q=z.prevProps,R={values:dn(Object.create(null),F),prevProps:{}};return o.forEach(function(U){R.prevProps[U]=N[U],!iW(N,U)&&iW(q,U)&&(R.values[U]=N[L1(U)])}),R},I.componentWillUnmount=function(){this.unmounted=!0},I.render=function(){var N=this,z=this.props,F=z.innerRef,q=k1(z,["innerRef"]);u.forEach(function(U){delete q[U]});var R={};return o.forEach(function(U){var Y=N.props[U];R[U]=Y!==void 0?Y:N.state.values[U]}),q1.default.createElement(e,dn({},q,R,this.handlers,{ref:F||this.attachRef}))},w}(q1.default.Component);(0,iLe.polyfill)(f),f.displayName="Uncontrolled("+n+")",f.propTypes=dn({innerRef:function(){}},Q6e(t,n)),r.forEach(function(y){f.prototype[y]=function(){var I;return(I=this.inner)[y].apply(I,arguments)}});var m=f;return q1.default.forwardRef&&(m=q1.default.forwardRef(function(y,w){return q1.default.createElement(f,dn({},y,{innerRef:w,__source:{fileName:vrr,lineNumber:128},__self:this}))}),m.propTypes=f.propTypes),m.ControlledComponent=e,m.deferControlTo=function(y,w,I){return w===void 0&&(w={}),hf(y,dn({},t,w),I)},m}var cW=se(uW());var dLe=se(oO()),sO=se(Wt());var Ga={LARGE:"large",SMALL:"small",XSMALL:"xsmall"},NS={large:"lg",medium:"md",small:"sm",xsmall:"xs",lg:"lg",md:"md",sm:"sm",xs:"xs"};var fLe={SUCCESS:"success",WARNING:"warning",DANGER:"danger",INFO:"info"},kS={DEFAULT:"default",PRIMARY:"primary",LINK:"link",INVERSE:"inverse"};function pW(e){return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[r.length-1];return typeof i=="function"?e.apply(void 0,r):function(o){return e.apply(void 0,r.concat([o]))}}}function Fr(e,t){var r=(e.bsClass||"").trim();return r==null&&(0,dLe.default)(!1),r+(t?"-"+t:"")}var Er=pW(function(e,t){var r=t.propTypes||(t.propTypes={}),n=t.defaultProps||(t.defaultProps={});return r.bsClass=sO.default.string,n.bsClass=e,t}),lO=pW(function(e,t,r){typeof t!="string"&&(r=t,t=void 0);var n=r.STYLES||[],i=r.propTypes||{};e.forEach(function(f){n.indexOf(f)===-1&&n.push(f)});var o=sO.default.oneOf(n);if(r.STYLES=n,o._values=n,r.propTypes=Mt({},i,{bsStyle:o}),t!==void 0){var u=r.defaultProps||(r.defaultProps={});u.bsStyle=t}return r}),Kc=pW(function(e,t,r){typeof t!="string"&&(r=t,t=void 0);var n=r.SIZES||[],i=r.propTypes||{};e.forEach(function(f){n.indexOf(f)===-1&&n.push(f)});var o=[];n.forEach(function(f){var m=NS[f];m&&m!==f&&o.push(m),o.push(f)});var u=sO.default.oneOf(o);return u._values=o,r.SIZES=n,r.propTypes=Mt({},i,{bsSize:u}),t!==void 0&&(r.defaultProps||(r.defaultProps={}),r.defaultProps.bsSize=t),r});function pn(e){var t,r=(t={},t[Fr(e)]=!0,t);if(e.bsSize){var n=NS[e.bsSize]||e.bsSize;r[Fr(e,n)]=!0}return e.bsStyle&&(r[Fr(e,e.bsStyle)]=!0),r}function hLe(e){return{bsClass:e.bsClass,bsSize:e.bsSize,bsStyle:e.bsStyle,bsRole:e.bsRole}}function mLe(e){return e==="bsClass"||e==="bsSize"||e==="bsStyle"||e==="bsRole"}function En(e){var t={};return(0,cW.default)(e).forEach(function(r){var n=r[0],i=r[1];mLe(n)||(t[n]=i)}),[hLe(e),t]}function Xc(e,t){var r={};t.forEach(function(i){r[i]=!0});var n={};return(0,cW.default)(e).forEach(function(i){var o=i[0],u=i[1];!mLe(o)&&!r[o]&&(n[o]=u)}),[hLe(e),n]}var _a=se(He());function Srr(e,t,r){var n=0;return _a.default.Children.map(e,function(i){return _a.default.isValidElement(i)?t.call(r,i,n++):i})}function Irr(e,t,r){var n=0;_a.default.Children.forEach(e,function(i){_a.default.isValidElement(i)&&t.call(r,i,n++)})}function Err(e){var t=0;return _a.default.Children.forEach(e,function(r){_a.default.isValidElement(r)&&++t}),t}function Trr(e,t,r){var n=0,i=[];return _a.default.Children.forEach(e,function(o){_a.default.isValidElement(o)&&t.call(r,o,n++)&&i.push(o)}),i}function Mrr(e,t,r){var n=0,i;return _a.default.Children.forEach(e,function(o){i||_a.default.isValidElement(o)&&t.call(r,o,n++)&&(i=o)}),i}function Crr(e,t,r){var n=0,i=!0;return _a.default.Children.forEach(e,function(o){i&&_a.default.isValidElement(o)&&(t.call(r,o,n++)||(i=!1))}),i}function Arr(e,t,r){var n=0,i=!1;return _a.default.Children.forEach(e,function(o){i||_a.default.isValidElement(o)&&t.call(r,o,n++)&&(i=!0)}),i}function Prr(e){var t=[];return _a.default.Children.forEach(e,function(r){_a.default.isValidElement(r)&&t.push(r)}),t}var Go={map:Srr,forEach:Irr,count:Err,find:Mrr,filter:Trr,every:Crr,some:Arr,toArray:Prr};var cO=se(Wt()),fW=se(LS());var nZr=cO.default.oneOfType([cO.default.string,cO.default.number]);function vLe(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,fW.default)(function(n,i,o){var u;return t.every(function(f){return Go.some(n.children,function(m){return m.props.bsRole===f})?!0:(u=f,!1)}),u?new Error("(children) "+o+" - Missing a required child with bsRole: "+(u+". "+o+" must have at least one child of each of ")+("the following bsRoles: "+t.join(", "))):null})}function yLe(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,fW.default)(function(n,i,o){var u;return t.every(function(f){var m=Go.filter(n.children,function(y){return y.props.bsRole===f});return m.length>1?(u=f,!1):!0}),u?new Error("(children) "+o+" - Duplicate children detected of bsRole: "+(u+". Only one child each allowed with the following ")+("bsRoles: "+t.join(", "))):null})}var dW=se(Wt()),RS=se(He()),Nrr={label:dW.default.string.isRequired,onClick:dW.default.func},krr={label:"Close"},hW=function(e){tr(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this.props,o=i.label,u=i.onClick;return RS.default.createElement("button",{type:"button",className:"close",onClick:u},RS.default.createElement("span",{"aria-hidden":"true"},"\xD7"),RS.default.createElement("span",{className:"sr-only"},o))},t}(RS.default.Component);hW.propTypes=Nrr;hW.defaultProps=krr;var ELe=hW;function Gr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var yW=se(He()),mf=se(Wt()),NLe=se(ba());function Hrr(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter(function(n){return n!=null}).reduce(function(n,i){if(typeof i!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return n===null?i:function(){for(var u=arguments.length,f=new Array(u),m=0;m<u;m++)f[m]=arguments[m];n.apply(this,f),i.apply(this,f)}},null)}var oi=Hrr;var Wrr={href:mf.default.string,onClick:mf.default.func,onKeyDown:mf.default.func,disabled:mf.default.bool,role:mf.default.string,tabIndex:mf.default.oneOfType([mf.default.number,mf.default.string]),componentClass:NLe.default},Zrr={componentClass:"a"};function DLe(e){return!e||e.trim()==="#"}var _W=function(e){tr(t,e);function t(n,i){var o;return o=e.call(this,n,i)||this,o.handleClick=o.handleClick.bind(Gr(Gr(o))),o.handleKeyDown=o.handleKeyDown.bind(Gr(Gr(o))),o}var r=t.prototype;return r.handleClick=function(i){var o=this.props,u=o.disabled,f=o.href,m=o.onClick;if((u||DLe(f))&&i.preventDefault(),u){i.stopPropagation();return}m&&m(i)},r.handleKeyDown=function(i){i.key===" "&&(i.preventDefault(),this.handleClick(i))},r.render=function(){var i=this.props,o=i.componentClass,u=i.disabled,f=i.onKeyDown,m=ar(i,["componentClass","disabled","onKeyDown"]);return DLe(m.href)&&(m.role=m.role||"button",m.href=m.href||"#"),u&&(m.tabIndex=-1,m.style=Mt({pointerEvents:"none"},m.style)),yW.default.createElement(o,Mt({},m,{onClick:this.handleClick,onKeyDown:oi(this.handleKeyDown,f)}))},t}(yW.default.Component);_W.propTypes=Wrr;_W.defaultProps=Zrr;var Mh=_W;var kLe=se(ILe());var bW=se(tn()),wO=se(He()),$g=se(Wt()),LLe=se(ba());var Yrr={active:$g.default.bool,disabled:$g.default.bool,block:$g.default.bool,onClick:$g.default.func,componentClass:LLe.default,href:$g.default.string,type:$g.default.oneOf(["button","reset","submit"])},Krr={active:!1,block:!1,disabled:!1},xW=function(e){tr(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.renderAnchor=function(i,o){return wO.default.createElement(Mh,Mt({},i,{className:(0,bW.default)(o,i.disabled&&"disabled")}))},r.renderButton=function(i,o){var u=i.componentClass,f=ar(i,["componentClass"]),m=u||"button";return wO.default.createElement(m,Mt({},f,{type:f.type||"button",className:o}))},r.render=function(){var i,o=this.props,u=o.active,f=o.block,m=o.className,y=ar(o,["active","block","className"]),w=En(y),I=w[0],M=w[1],N=Mt({},pn(I),(i={active:u},i[Fr(I,"block")]=f,i)),z=(0,bW.default)(m,N);return M.href?this.renderAnchor(M,z):this.renderButton(M,z)},t}(wO.default.Component);xW.propTypes=Yrr;xW.defaultProps=Krr;var Ha=Er("btn",Kc([Ga.LARGE,Ga.SMALL,Ga.XSMALL],lO((0,kLe.default)(fLe).concat([kS.DEFAULT,kS.PRIMARY,kS.LINK]),kS.DEFAULT,xW)));var qLe=se(tn()),wW=se(He()),IO=se(Wt()),zLe=se(qS());var tnr={vertical:IO.default.bool,justified:IO.default.bool,block:(0,zLe.default)(IO.default.bool,function(e){var t=e.block,r=e.vertical;return t&&!r?new Error("`block` requires `vertical` to be set to have any effect"):null})},rnr={block:!1,justified:!1,vertical:!1},SW=function(e){tr(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i,o=this.props,u=o.block,f=o.justified,m=o.vertical,y=o.className,w=ar(o,["block","justified","vertical","className"]),I=En(w),M=I[0],N=I[1],z=Mt({},pn(M),(i={},i[Fr(M)]=!m,i[Fr(M,"vertical")]=m,i[Fr(M,"justified")]=f,i[Fr(Ha.defaultProps,"block")]=u,i));return wW.default.createElement("div",Mt({},N,{className:(0,qLe.default)(y,z)}))},t}(wW.default.Component);SW.propTypes=tnr;SW.defaultProps=rnr;var jLe=Er("btn-group",SW);var FLe=se(tn()),IW=se(He()),BLe=se(Wt());var nnr={glyph:BLe.default.string.isRequired},ULe=function(e){tr(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i,o=this.props,u=o.glyph,f=o.className,m=ar(o,["glyph","className"]),y=En(m),w=y[0],I=y[1],M=Mt({},pn(w),(i={},i[Fr(w,u)]=!0,i));return IW.default.createElement("span",Mt({},I,{className:(0,FLe.default)(f,M)}))},t}(IW.default.Component);ULe.propTypes=nnr;var bo=Er("glyphicon",ULe);var $Le=se(tn()),EW=se(He()),EO=se(Wt()),VZr=se(Ch());var onr={htmlFor:EO.default.string,srOnly:EO.default.bool},anr={srOnly:!1},snr={$bs_formGroup:EO.default.object},TO=function(e){tr(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this.context.$bs_formGroup,o=i&&i.controlId,u=this.props,f=u.htmlFor,m=f===void 0?o:f,y=u.srOnly,w=u.className,I=ar(u,["htmlFor","srOnly","className"]),M=En(I),N=M[0],z=M[1],F=Mt({},pn(N),{"sr-only":y});return EW.default.createElement("label",Mt({},z,{htmlFor:m,className:(0,$Le.default)(w,F)}))},t}(EW.default.Component);TO.propTypes=onr;TO.defaultProps=anr;TO.contextTypes=snr;var TW=Er("control-label",TO);var Tqe=se(tn()),Mqe=se(RW()),Cqe=se(B1()),eD=se(BO()),V1=se(He()),_s=se(Wt()),eZ=se(Gi()),Aqe=se(qS()),Pqe=se(ba()),Oqe=se(VO());var jYr=se(Ch());var xqe=se(pqe());var wqe=se(tn()),HS=se(BO()),WS=se(He()),vf=se(Wt()),Sqe=se(Gi()),Iqe=se(YW());var gor={open:vf.default.bool,pullRight:vf.default.bool,onClose:vf.default.func,labelledBy:vf.default.oneOfType([vf.default.string,vf.default.number]),onSelect:vf.default.func,rootCloseEvent:vf.default.oneOf(["click","mousedown"])},vor={bsRole:"menu",pullRight:!1},KW=function(e){tr(t,e);function t(n){var i;return i=e.call(this,n)||this,i.handleRootClose=i.handleRootClose.bind(Gr(Gr(i))),i.handleKeyDown=i.handleKeyDown.bind(Gr(Gr(i))),i}var r=t.prototype;return r.getFocusableMenuItems=function(){var i=Sqe.default.findDOMNode(this);return i?(0,xqe.default)(i.querySelectorAll("[tabIndex=\"-1\"]")):[]},r.getItemsAndActiveIndex=function(){var i=this.getFocusableMenuItems(),o=i.indexOf(document.activeElement);return{items:i,activeIndex:o}},r.focusNext=function(){var i=this.getItemsAndActiveIndex(),o=i.items,u=i.activeIndex;if(o.length!==0){var f=u===o.length-1?0:u+1;o[f].focus()}},r.focusPrevious=function(){var i=this.getItemsAndActiveIndex(),o=i.items,u=i.activeIndex;if(o.length!==0){var f=u===0?o.length-1:u-1;o[f].focus()}},r.handleKeyDown=function(i){switch(i.keyCode){case HS.default.codes.down:this.focusNext(),i.preventDefault();break;case HS.default.codes.up:this.focusPrevious(),i.preventDefault();break;case HS.default.codes.esc:case HS.default.codes.tab:this.props.onClose(i,{source:"keydown"});break;default:}},r.handleRootClose=function(i){this.props.onClose(i,{source:"rootClose"})},r.render=function(){var i,o=this,u=this.props,f=u.open,m=u.pullRight,y=u.labelledBy,w=u.onSelect,I=u.className,M=u.rootCloseEvent,N=u.children,z=ar(u,["open","pullRight","labelledBy","onSelect","className","rootCloseEvent","children"]),F=Xc(z,["onClose"]),q=F[0],R=F[1],U=Mt({},pn(q),(i={},i[Fr(q,"right")]=m,i));return WS.default.createElement(Iqe.default,{disabled:!f,onRootClose:this.handleRootClose,event:M},WS.default.createElement("ul",Mt({},R,{role:"menu",className:(0,wqe.default)(I,U),"aria-labelledby":y}),Go.map(N,function(Y){return WS.default.cloneElement(Y,{onKeyDown:oi(Y.props.onKeyDown,o.handleKeyDown),onSelect:oi(Y.props.onSelect,w)})})))},t}(WS.default.Component);KW.propTypes=gor;KW.defaultProps=vor;var XW=Er("dropdown-menu",KW);var JO=se(He()),ZS=se(Wt()),Eqe=se(tn());var yor={noCaret:ZS.default.bool,open:ZS.default.bool,title:ZS.default.string,useAnchor:ZS.default.bool},_or={open:!1,useAnchor:!1,bsRole:"toggle"},QW=function(e){tr(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this.props,o=i.noCaret,u=i.open,f=i.useAnchor,m=i.bsClass,y=i.className,w=i.children,I=ar(i,["noCaret","open","useAnchor","bsClass","className","children"]);delete I.bsRole;var M=f?Mh:Ha,N=!o;return JO.default.createElement(M,Mt({},I,{role:"button",className:(0,Eqe.default)(y,m),"aria-haspopup":!0,"aria-expanded":u}),w||I.title,N&&" ",N&&JO.default.createElement("span",{className:"caret"}))},t}(JO.default.Component);QW.propTypes=yor;QW.defaultProps=_or;var JW=Er("dropdown-toggle",QW);var Dqe=JW.defaultProps.bsRole,tZ=XW.defaultProps.bsRole,bor={dropup:_s.default.bool,id:(0,Oqe.default)(_s.default.oneOfType([_s.default.string,_s.default.number])),componentClass:Pqe.default,children:(0,Aqe.default)(vLe(Dqe,tZ),yLe(tZ)),disabled:_s.default.bool,pullRight:_s.default.bool,open:_s.default.bool,defaultOpen:_s.default.bool,onToggle:_s.default.func,onSelect:_s.default.func,role:_s.default.string,rootCloseEvent:_s.default.oneOf(["click","mousedown"]),onMouseEnter:_s.default.func,onMouseLeave:_s.default.func},xor={componentClass:jLe},tD=function(e){tr(t,e);function t(n,i){var o;return o=e.call(this,n,i)||this,o.handleClick=o.handleClick.bind(Gr(Gr(o))),o.handleKeyDown=o.handleKeyDown.bind(Gr(Gr(o))),o.handleClose=o.handleClose.bind(Gr(Gr(o))),o._focusInDropdown=!1,o.lastOpenEventType=null,o}var r=t.prototype;return r.componentDidMount=function(){this.focusNextOnOpen()},r.UNSAFE_componentWillUpdate=function(i){!i.open&&this.props.open&&(this._focusInDropdown=(0,Cqe.default)(eZ.default.findDOMNode(this.menu),(0,Mqe.default)(document)))},r.componentDidUpdate=function(i){var o=this.props.open,u=i.open;o&&!u&&this.focusNextOnOpen(),!o&&u&&this._focusInDropdown&&(this._focusInDropdown=!1,this.focus())},r.focus=function(){var i=eZ.default.findDOMNode(this.toggle);i&&i.focus&&i.focus()},r.focusNextOnOpen=function(){var i=this.menu;!i||!i.focusNext||(this.lastOpenEventType==="keydown"||this.props.role==="menuitem")&&i.focusNext()},r.handleClick=function(i){this.props.disabled||this.toggleOpen(i,{source:"click"})},r.handleClose=function(i,o){this.props.open&&this.toggleOpen(i,o)},r.handleKeyDown=function(i){if(!this.props.disabled)switch(i.keyCode){case eD.default.codes.down:this.props.open?this.menu.focusNext&&this.menu.focusNext():this.toggleOpen(i,{source:"keydown"}),i.preventDefault();break;case eD.default.codes.esc:case eD.default.codes.tab:this.handleClose(i,{source:"keydown"});break;default:}},r.toggleOpen=function(i,o){var u=!this.props.open;u&&(this.lastOpenEventType=o.source),this.props.onToggle&&this.props.onToggle(u,i,o)},r.renderMenu=function(i,o){var u=this,f=o.id,m=o.onSelect,y=o.rootCloseEvent,w=ar(o,["id","onSelect","rootCloseEvent"]),I=function(N){u.menu=N};return typeof i.ref=="string"||(I=oi(i.ref,I)),(0,V1.cloneElement)(i,Mt({},w,{ref:I,labelledBy:f,bsClass:Fr(w,"menu"),onClose:oi(i.props.onClose,this.handleClose),onSelect:oi(i.props.onSelect,m,function(M,N){return u.handleClose(N,{source:"select"})}),rootCloseEvent:y}))},r.renderToggle=function(i,o){var u=this,f=function(y){u.toggle=y};return typeof i.ref=="string"||(f=oi(i.ref,f)),(0,V1.cloneElement)(i,Mt({},o,{ref:f,bsClass:Fr(o,"toggle"),onClick:oi(i.props.onClick,this.handleClick),onKeyDown:oi(i.props.onKeyDown,this.handleKeyDown)}))},r.render=function(){var i,o=this,u=this.props,f=u.componentClass,m=u.id,y=u.dropup,w=u.disabled,I=u.pullRight,M=u.open,N=u.onSelect,z=u.role,F=u.bsClass,q=u.className,R=u.rootCloseEvent,U=u.children,Y=ar(u,["componentClass","id","dropup","disabled","pullRight","open","onSelect","role","bsClass","className","rootCloseEvent","children"]);delete Y.onToggle;var re=(i={},i[F]=!0,i.open=M,i.disabled=w,i);return y&&(re[F]=!1,re.dropup=!0),V1.default.createElement(f,Mt({},Y,{className:(0,Tqe.default)(q,re)}),Go.map(U,function(de){switch(de.props.bsRole){case Dqe:return o.renderToggle(de,{id:m,disabled:w,open:M,role:z,bsClass:F});case tZ:return o.renderMenu(de,{id:m,open:M,pullRight:I,bsClass:F,onSelect:N,rootCloseEvent:R});default:return de}}))},t}(V1.default.Component);tD.propTypes=bor;tD.defaultProps=xor;Er("dropdown",tD);var rZ=hf(tD,{open:"onToggle"});rZ.Toggle=JW;rZ.Menu=XW;var YS=rZ;var Nqe=se(uW());function nZ(e,t){var r=t.propTypes,n={},i={};return(0,Nqe.default)(e).forEach(function(o){var u=o[0],f=o[1];r[u]?n[u]=f:i[u]=f}),[n,i]}var kqe=se(tn()),nD=se(He()),su=se(Wt()),$1=se(hRe()),rD,wor={in:su.default.bool,mountOnEnter:su.default.bool,unmountOnExit:su.default.bool,appear:su.default.bool,timeout:su.default.number,onEnter:su.default.func,onEntering:su.default.func,onEntered:su.default.func,onExit:su.default.func,onExiting:su.default.func,onExited:su.default.func},Sor={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},Ior=(rD={},rD[$1.ENTERING]="in",rD[$1.ENTERED]="in",rD),iZ=function(e){tr(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this.props,o=i.className,u=i.children,f=ar(i,["className","children"]);return nD.default.createElement($1.default,f,function(m,y){return nD.default.cloneElement(u,Mt({},y,{className:(0,kqe.default)("fade",o,u.props.className,Ior[m])}))})},t}(nD.default.Component);iZ.propTypes=wor;iZ.defaultProps=Sor;var Ph=iZ;var Lqe=se(tn()),oZ=se(He()),aZ=se(Wt()),Rqe=se(ba());var Eor={horizontal:aZ.default.bool,inline:aZ.default.bool,componentClass:Rqe.default},Tor={horizontal:!1,inline:!1,componentClass:"form"},sZ=function(e){tr(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this.props,o=i.horizontal,u=i.inline,f=i.componentClass,m=i.className,y=ar(i,["horizontal","inline","componentClass","className"]),w=En(y),I=w[0],M=w[1],N=[];return o&&N.push(Fr(I,"horizontal")),u&&N.push(Fr(I,"inline")),oZ.default.createElement(f,Mt({},M,{className:(0,Lqe.default)(m,N)}))},t}(oZ.default.Component);sZ.propTypes=Eor;sZ.defaultProps=Tor;var lZ=Er("form",sZ);var Uqe=se(tn()),dZ=se(He()),XS=se(Wt()),Vqe=se(ba()),_Kr=se(Ch());var uZ=se(tn()),KS=se(He()),qqe=se(Wt());var Mor={bsRole:"feedback"},Cor={$bs_formGroup:qqe.default.object},cZ=function(e){tr(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.getGlyph=function(i){switch(i){case"success":return"ok";case"warning":return"warning-sign";case"error":return"remove";default:return null}},r.renderDefaultFeedback=function(i,o,u,f){var m=this.getGlyph(i&&i.validationState);return m?KS.default.createElement(bo,Mt({},f,{glyph:m,className:(0,uZ.default)(o,u)})):null},r.render=function(){var i=this.props,o=i.className,u=i.children,f=ar(i,["className","children"]),m=En(f),y=m[0],w=m[1],I=pn(y);if(!u)return this.renderDefaultFeedback(this.context.$bs_formGroup,o,I,w);var M=KS.default.Children.only(u);return KS.default.cloneElement(M,Mt({},w,{className:(0,uZ.default)(M.props.className,o,I)}))},t}(KS.default.Component);cZ.defaultProps=Mor;cZ.contextTypes=Cor;var zqe=Er("form-control-feedback",cZ);var jqe=se(tn()),pZ=se(He()),Fqe=se(ba());var Aor={componentClass:Fqe.default},Por={componentClass:"p"},fZ=function(e){tr(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this.props,o=i.componentClass,u=i.className,f=ar(i,["componentClass","className"]),m=En(f),y=m[0],w=m[1],I=pn(y);return pZ.default.createElement(o,Mt({},w,{className:(0,jqe.default)(u,I)}))},t}(pZ.default.Component);fZ.propTypes=Aor;fZ.defaultProps=Por;var Bqe=Er("form-control-static",fZ);var Oor={componentClass:Vqe.default,type:XS.default.string,id:XS.default.string,inputRef:XS.default.func},Dor={componentClass:"input"},Nor={$bs_formGroup:XS.default.object},G1=function(e){tr(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this.context.$bs_formGroup,o=i&&i.controlId,u=this.props,f=u.componentClass,m=u.type,y=u.id,w=y===void 0?o:y,I=u.inputRef,M=u.className,N=u.bsSize,z=ar(u,["componentClass","type","id","inputRef","className","bsSize"]),F=En(z),q=F[0],R=F[1],U;if(m!=="file"&&(U=pn(q)),N){var Y=NS[N]||N;U[Fr({bsClass:"input"},Y)]=!0}return dZ.default.createElement(f,Mt({},R,{type:m,id:w,ref:I,className:(0,Uqe.default)(M,U)}))},t}(dZ.default.Component);G1.propTypes=Oor;G1.defaultProps=Dor;G1.contextTypes=Nor;G1.Feedback=zqe;G1.Static=Bqe;var hZ=Er("form-control",Kc([Ga.SMALL,Ga.LARGE],G1));var $qe=se(tn()),mZ=se(He()),iD=se(Wt());var kor={controlId:iD.default.string,validationState:iD.default.oneOf(["success","warning","error",null])},Lor={$bs_formGroup:iD.default.object.isRequired},gZ=function(e){tr(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.getChildContext=function(){var i=this.props,o=i.controlId,u=i.validationState;return{$bs_formGroup:{controlId:o,validationState:u}}},r.hasFeedback=function(i){var o=this;return Go.some(i,function(u){return u.props.bsRole==="feedback"||u.props.children&&o.hasFeedback(u.props.children)})},r.render=function(){var i=this.props,o=i.validationState,u=i.className,f=i.children,m=ar(i,["validationState","className","children"]),y=Xc(m,["controlId"]),w=y[0],I=y[1],M=Mt({},pn(w),{"has-feedback":this.hasFeedback(f)});return o&&(M["has-"+o]=!0),mZ.default.createElement("div",Mt({},I,{className:(0,$qe.default)(u,M)}),f)},t}(mZ.default.Component);gZ.propTypes=kor;gZ.childContextTypes=Lor;var vZ=Er("form-group",Kc([Ga.LARGE,Ga.SMALL],gZ));var Gqe=se(tn()),yZ=se(He());var Ror=function(e){tr(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this.props,o=i.className,u=ar(i,["className"]),f=En(u),m=f[0],y=f[1],w=pn(m);return yZ.default.createElement("span",Mt({},y,{className:(0,Gqe.default)(o,w)}))},t}(yZ.default.Component),_Z=Er("help-block",Ror);var oD=se(tn()),H1=se(He()),yf=se(Wt()),Hqe=se(qS());var qor={active:yf.default.bool,disabled:yf.default.bool,divider:(0,Hqe.default)(yf.default.bool,function(e){var t=e.divider,r=e.children;return t&&r?new Error("Children will not be rendered for dividers"):null}),eventKey:yf.default.any,header:yf.default.bool,href:yf.default.string,onClick:yf.default.func,onSelect:yf.default.func},zor={divider:!1,disabled:!1,header:!1},bZ=function(e){tr(t,e);function t(n,i){var o;return o=e.call(this,n,i)||this,o.handleClick=o.handleClick.bind(Gr(Gr(o))),o}var r=t.prototype;return r.handleClick=function(i){var o=this.props,u=o.href,f=o.disabled,m=o.onSelect,y=o.eventKey;(!u||f)&&i.preventDefault(),!f&&m&&m(y,i)},r.render=function(){var i=this.props,o=i.active,u=i.disabled,f=i.divider,m=i.header,y=i.onClick,w=i.className,I=i.style,M=ar(i,["active","disabled","divider","header","onClick","className","style"]),N=Xc(M,["eventKey","onSelect"]),z=N[0],F=N[1];return f?(F.children=void 0,H1.default.createElement("li",Mt({},F,{role:"separator",className:(0,oD.default)(w,"divider"),style:I}))):m?H1.default.createElement("li",Mt({},F,{role:"heading",className:(0,oD.default)(w,Fr(z,"header")),style:I})):H1.default.createElement("li",{role:"presentation",className:(0,oD.default)(w,{active:o,disabled:u}),style:I},H1.default.createElement(Mh,Mt({},F,{role:"menuitem",tabIndex:"-1",onClick:oi(y,this.handleClick)})))},t}(H1.default.Component);bZ.propTypes=qor;bZ.defaultProps=zor;var xZ=Er("dropdown",bZ);var HZ=se(tn()),WZ=se(o8e()),v7e=se(Wg()),y7e=se(Qc()),ZZ=se(IZ()),Y1=se(He()),Wo=se(Wt()),_7e=se(Gi()),K1=se(s7e()),b7e=se(CZ()),x7e=se(ba());var l7e=se(tn()),jZ=se(He()),u7e=se(ba());var Ksr={componentClass:u7e.default},Xsr={componentClass:"div"},FZ=function(e){tr(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this.props,o=i.componentClass,u=i.className,f=ar(i,["componentClass","className"]),m=En(f),y=m[0],w=m[1],I=pn(y);return jZ.default.createElement(o,Mt({},w,{className:(0,l7e.default)(u,I)}))},t}(jZ.default.Component);FZ.propTypes=Ksr;FZ.defaultProps=Xsr;var nI=Er("modal-body",FZ);var BZ=se(tn()),iI=se(He()),c7e=se(Wt());var Qsr={dialogClassName:c7e.default.string},p7e=function(e){tr(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i,o=this.props,u=o.dialogClassName,f=o.className,m=o.style,y=o.children,w=o.onMouseDownDialog,I=ar(o,["dialogClassName","className","style","children","onMouseDownDialog"]),M=En(I),N=M[0],z=M[1],F=Fr(N),q=Mt({display:"block"},m),R=Mt({},pn(N),(i={},i[F]=!1,i[Fr(N,"dialog")]=!0,i));return iI.default.createElement("div",Mt({},z,{tabIndex:"-1",role:"dialog",style:q,className:(0,BZ.default)(f,F)}),iI.default.createElement("div",{className:(0,BZ.default)(u,R),onMouseDown:w},iI.default.createElement("div",{className:Fr(N,"content"),role:"document"},y)))},t}(iI.default.Component);p7e.propTypes=Qsr;var TD=Er("modal",Kc([Ga.LARGE,Ga.SMALL],p7e));var f7e=se(tn()),UZ=se(He()),d7e=se(ba());var Jsr={componentClass:d7e.default},elr={componentClass:"div"},VZ=function(e){tr(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this.props,o=i.componentClass,u=i.className,f=ar(i,["componentClass","className"]),m=En(f),y=m[0],w=m[1],I=pn(y);return UZ.default.createElement(o,Mt({},w,{className:(0,f7e.default)(u,I)}))},t}(UZ.default.Component);VZ.propTypes=Jsr;VZ.defaultProps=elr;var oI=Er("modal-footer",VZ);var h7e=se(tn()),Z1=se(Wt()),MD=se(He());var tlr={closeLabel:Z1.default.string,closeButton:Z1.default.bool,onHide:Z1.default.func},rlr={closeLabel:"Close",closeButton:!1},nlr={$bs_modal:Z1.default.shape({onHide:Z1.default.func})},CD=function(e){tr(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this.props,o=i.closeLabel,u=i.closeButton,f=i.onHide,m=i.className,y=i.children,w=ar(i,["closeLabel","closeButton","onHide","className","children"]),I=this.context.$bs_modal,M=En(w),N=M[0],z=M[1],F=pn(N);return MD.default.createElement("div",Mt({},z,{className:(0,h7e.default)(m,F)}),u&&MD.default.createElement(ELe,{label:o,onClick:oi(I&&I.onHide,f)}),y)},t}(MD.default.Component);CD.propTypes=tlr;CD.defaultProps=rlr;CD.contextTypes=nlr;var aI=Er("modal-header",CD);var m7e=se(tn()),$Z=se(He()),g7e=se(ba());var ilr={componentClass:g7e.default},olr={componentClass:"h4"},GZ=function(e){tr(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this.props,o=i.componentClass,u=i.className,f=ar(i,["componentClass","className"]),m=En(f),y=m[0],w=m[1],I=pn(y);return $Z.default.createElement(o,Mt({},w,{className:(0,m7e.default)(u,I)}))},t}($Z.default.Component);GZ.propTypes=ilr;GZ.defaultProps=olr;var sI=Er("modal-title",GZ);var alr=Mt({},K1.default.propTypes,TD.propTypes,{backdrop:Wo.default.oneOf(["static",!0,!1]),backdropClassName:Wo.default.string,keyboard:Wo.default.bool,animation:Wo.default.bool,dialogComponentClass:x7e.default,autoFocus:Wo.default.bool,enforceFocus:Wo.default.bool,restoreFocus:Wo.default.bool,show:Wo.default.bool,onHide:Wo.default.func,onEnter:Wo.default.func,onEntering:Wo.default.func,onEntered:Wo.default.func,onExit:Wo.default.func,onExiting:Wo.default.func,onExited:Wo.default.func,container:K1.default.propTypes.container}),slr=Mt({},K1.default.defaultProps,{animation:!0,dialogComponentClass:TD}),llr={$bs_modal:Wo.default.shape({onHide:Wo.default.func})};function ulr(e){return Y1.default.createElement(Ph,Mt({},e,{timeout:_l.TRANSITION_DURATION}))}function clr(e){return Y1.default.createElement(Ph,Mt({},e,{timeout:_l.BACKDROP_TRANSITION_DURATION}))}var _l=function(e){tr(t,e);function t(n,i){var o;return o=e.call(this,n,i)||this,o.handleDialogBackdropMouseDown=function(){o._waitingForMouseUp=!0},o.handleMouseUp=function(u){var f=o._modal.getDialogElement();o._waitingForMouseUp&&u.target===f&&(o._ignoreBackdropClick=!0),o._waitingForMouseUp=!1},o.handleEntering=o.handleEntering.bind(Gr(Gr(o))),o.handleExited=o.handleExited.bind(Gr(Gr(o))),o.handleWindowResize=o.handleWindowResize.bind(Gr(Gr(o))),o.handleDialogClick=o.handleDialogClick.bind(Gr(Gr(o))),o.setModalRef=o.setModalRef.bind(Gr(Gr(o))),o.state={style:{}},o}var r=t.prototype;return r.getChildContext=function(){return{$bs_modal:{onHide:this.props.onHide}}},r.componentWillUnmount=function(){this.handleExited()},r.setModalRef=function(i){this._modal=i},r.handleDialogClick=function(i){if(this._ignoreBackdropClick||i.target!==i.currentTarget){this._ignoreBackdropClick=!1;return}this.props.onHide()},r.handleEntering=function(){WZ.default.on(window,"resize",this.handleWindowResize),this.updateStyle()},r.handleExited=function(){WZ.default.off(window,"resize",this.handleWindowResize)},r.handleWindowResize=function(){this.updateStyle()},r.updateStyle=function(){if(y7e.default){var i=this._modal.getDialogElement(),o=i.scrollHeight,u=(0,v7e.default)(i),f=(0,b7e.default)(_7e.default.findDOMNode(this.props.container||u.body)),m=o>u.documentElement.clientHeight;this.setState({style:{paddingRight:f&&!m?(0,ZZ.default)():void 0,paddingLeft:!f&&m?(0,ZZ.default)():void 0}})}},r.render=function(){var i=this.props,o=i.backdrop,u=i.backdropClassName,f=i.animation,m=i.show,y=i.dialogComponentClass,w=i.className,I=i.style,M=i.children,N=i.onEntering,z=i.onExited,F=ar(i,["backdrop","backdropClassName","animation","show","dialogComponentClass","className","style","children","onEntering","onExited"]),q=nZ(F,K1.default),R=q[0],U=q[1],Y=m&&!f&&"in";return Y1.default.createElement(K1.default,Mt({},R,{ref:this.setModalRef,show:m,containerClassName:Fr(F,"open"),transition:f?ulr:void 0,backdrop:o,backdropTransition:f?clr:void 0,backdropClassName:(0,HZ.default)(Fr(F,"backdrop"),u,Y),onEntering:oi(N,this.handleEntering),onExited:oi(z,this.handleExited),onMouseUp:this.handleMouseUp}),Y1.default.createElement(y,Mt({},U,{style:Mt({},this.state.style,I),className:(0,HZ.default)(w,Y),onClick:o===!0?this.handleDialogClick:null,onMouseDownDialog:this.handleDialogBackdropMouseDown}),M))},t}(Y1.default.Component);_l.propTypes=alr;_l.defaultProps=slr;_l.childContextTypes=llr;_l.Body=nI;_l.Header=aI;_l.Title=sI;_l.Footer=oI;_l.Dialog=TD;_l.TRANSITION_DURATION=300;_l.BACKDROP_TRANSITION_DURATION=150;var _f=Er("modal",Kc([Ga.LARGE,Ga.SMALL],_l));var w7e=se(tn()),lI=se(BO()),uI=se(He()),Zo=se(Wt()),S7e=se(Gi()),I7e=se(qS()),VXr=se(Ch());var plr={activeKey:Zo.default.any,activeHref:Zo.default.string,stacked:Zo.default.bool,justified:(0,I7e.default)(Zo.default.bool,function(e){var t=e.justified,r=e.navbar;return t&&r?Error("justified navbar `Nav`s are not supported"):null}),onSelect:Zo.default.func,role:Zo.default.string,navbar:Zo.default.bool,pullRight:Zo.default.bool,pullLeft:Zo.default.bool},flr={justified:!1,pullRight:!1,pullLeft:!1,stacked:!1},dlr={$bs_navbar:Zo.default.shape({bsClass:Zo.default.string,onSelect:Zo.default.func}),$bs_tabContainer:Zo.default.shape({activeKey:Zo.default.any,onSelect:Zo.default.func.isRequired,getTabId:Zo.default.func.isRequired,getPaneId:Zo.default.func.isRequired})},AD=function(e){tr(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.componentDidUpdate=function(){var i=this;if(this._needsRefocus){this._needsRefocus=!1;var o=this.props.children,u=this.getActiveProps(),f=u.activeKey,m=u.activeHref,y=Go.find(o,function(z){return i.isActive(z,f,m)}),w=Go.toArray(o),I=w.indexOf(y),M=S7e.default.findDOMNode(this).children,N=M&&M[I];!N||!N.firstChild||N.firstChild.focus()}},r.getActiveProps=function(){var i=this.context.$bs_tabContainer;return i||this.props},r.getNextActiveChild=function(i){var o=this,u=this.props.children,f=Go.filter(u,function(F){return F.props.eventKey!=null&&!F.props.disabled}),m=this.getActiveProps(),y=m.activeKey,w=m.activeHref,I=Go.find(u,function(F){return o.isActive(F,y,w)}),M=f.indexOf(I);if(M===-1)return f[0];var N=M+i,z=f.length;return N>=z?N=0:N<0&&(N=z-1),f[N]},r.getTabProps=function(i,o,u,f,m){var y=this;if(!o&&u!=="tablist")return null;var w=i.props,I=w.id,M=w["aria-controls"],N=w.eventKey,z=w.role,F=w.onKeyDown,q=w.tabIndex;return o&&(I=o.getTabId(N),M=o.getPaneId(N)),u==="tablist"&&(z=z||"tab",F=oi(function(R){return y.handleTabKeyDown(m,R)},F),q=f?q:-1),{id:I,role:z,onKeyDown:F,"aria-controls":M,tabIndex:q}},r.handleTabKeyDown=function(i,o){var u;switch(o.keyCode){case lI.default.codes.left:case lI.default.codes.up:u=this.getNextActiveChild(-1);break;case lI.default.codes.right:case lI.default.codes.down:u=this.getNextActiveChild(1);break;default:return}o.preventDefault(),i&&u&&u.props.eventKey!=null&&i(u.props.eventKey),this._needsRefocus=!0},r.isActive=function(i,o,u){var f=i.props;return f.active||o!=null&&f.eventKey===o||u&&f.href===u?!0:f.active},r.render=function(){var i,o=this,u=this.props,f=u.stacked,m=u.justified,y=u.onSelect,w=u.role,I=u.navbar,M=u.pullRight,N=u.pullLeft,z=u.className,F=u.children,q=ar(u,["stacked","justified","onSelect","role","navbar","pullRight","pullLeft","className","children"]),R=this.context.$bs_tabContainer,U=w||(R?"tablist":null),Y=this.getActiveProps(),re=Y.activeKey,de=Y.activeHref;delete q.activeKey,delete q.activeHref;var ce=En(q),Se=ce[0],qe=ce[1],Re=Mt({},pn(Se),(i={},i[Fr(Se,"stacked")]=f,i[Fr(Se,"justified")]=m,i)),Te=I!=null?I:this.context.$bs_navbar,Ee,Ne;if(Te){var _e=this.context.$bs_navbar||{bsClass:"navbar"};Re[Fr(_e,"nav")]=!0,Ne=Fr(_e,"right"),Ee=Fr(_e,"left")}else Ne="pull-right",Ee="pull-left";return Re[Ne]=M,Re[Ee]=N,uI.default.createElement("ul",Mt({},qe,{role:U,className:(0,w7e.default)(z,Re)}),Go.map(F,function(ze){var st=o.isActive(ze,re,de),at=oi(ze.props.onSelect,y,Te&&Te.onSelect,R&&R.onSelect);return(0,uI.cloneElement)(ze,Mt({},o.getTabProps(ze,R,U,st,at),{active:st,activeKey:re,activeHref:de,onSelect:at}))}))},t}(uI.default.Component);AD.propTypes=plr;AD.defaultProps=flr;AD.contextTypes=dlr;var E7e=Er("nav",lO(["tabs","pills"],AD));var T7e=se(tn()),PD=se(He()),kh=se(Wt());var hlr={active:kh.default.bool,disabled:kh.default.bool,role:kh.default.string,href:kh.default.string,onClick:kh.default.func,onSelect:kh.default.func,eventKey:kh.default.any},mlr={active:!1,disabled:!1},YZ=function(e){tr(t,e);function t(n,i){var o;return o=e.call(this,n,i)||this,o.handleClick=o.handleClick.bind(Gr(Gr(o))),o}var r=t.prototype;return r.handleClick=function(i){if(this.props.disabled){i.preventDefault();return}this.props.onSelect&&this.props.onSelect(this.props.eventKey,i)},r.render=function(){var i=this.props,o=i.active,u=i.disabled,f=i.onClick,m=i.className,y=i.style,w=ar(i,["active","disabled","onClick","className","style"]);return delete w.onSelect,delete w.eventKey,delete w.activeKey,delete w.activeHref,w.role?w.role==="tab"&&(w["aria-selected"]=o):w.href==="#"&&(w.role="button"),PD.default.createElement("li",{role:"presentation",className:(0,T7e.default)(m,{active:o,disabled:u}),style:y},PD.default.createElement(Mh,Mt({},w,{disabled:u,onClick:oi(f,this.handleClick)})))},t}(PD.default.Component);YZ.propTypes=hlr;YZ.defaultProps=mlr;var M7e=YZ;var r9e=se(tn()),fI=se(He()),bl=se(Wt()),rY=se(t9e()),n9e=se(ba());var vur=Mt({},rY.default.propTypes,{show:bl.default.bool,rootClose:bl.default.bool,onHide:bl.default.func,animation:bl.default.oneOfType([bl.default.bool,n9e.default]),onEnter:bl.default.func,onEntering:bl.default.func,onEntered:bl.default.func,onExit:bl.default.func,onExiting:bl.default.func,onExited:bl.default.func,placement:bl.default.oneOf(["top","right","bottom","left"])}),yur={animation:Ph,rootClose:!1,show:!1,placement:"right"},nY=function(e){tr(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this.props,o=i.animation,u=i.children,f=ar(i,["animation","children"]),m=o===!0?Ph:o||null,y;return m?y=u:y=(0,fI.cloneElement)(u,{className:(0,r9e.default)(u.props.className,"in")}),fI.default.createElement(rY.default,Mt({},f,{transition:m}),y)},t}(fI.default.Component);nY.propTypes=vur;nY.defaultProps=yur;var iY=nY;var oY=se(tn()),J1=se(He()),e_=se(Wt()),pQr=se(Ch());var _ur={inline:e_.default.bool,disabled:e_.default.bool,title:e_.default.string,validationState:e_.default.oneOf(["success","warning","error",null]),inputRef:e_.default.func},bur={inline:!1,disabled:!1,title:""},aY=function(e){tr(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this.props,o=i.inline,u=i.disabled,f=i.validationState,m=i.inputRef,y=i.className,w=i.style,I=i.title,M=i.children,N=ar(i,["inline","disabled","validationState","inputRef","className","style","title","children"]),z=En(N),F=z[0],q=z[1],R=J1.default.createElement("input",Mt({},q,{ref:m,type:"radio",disabled:u}));if(o){var U,Y=(U={},U[Fr(F,"inline")]=!0,U.disabled=u,U);return J1.default.createElement("label",{className:(0,oY.default)(y,Y),style:w,title:I},R,M)}var re=Mt({},pn(F),{disabled:u});return f&&(re["has-"+f]=!0),J1.default.createElement("div",{className:(0,oY.default)(y,re),style:w},J1.default.createElement("label",{title:I},R,M))},t}(J1.default.Component);aY.propTypes=_ur;aY.defaultProps=bur;var sY=Er("radio",aY);var pY=se(He()),ZD=se(Wt());var BD=se(He()),lu=se(Wt());var xur="tab",wur="pane",Sur=lu.default.oneOfType([lu.default.string,lu.default.number]),Iur={id:function(t){var r=null;if(!t.generateChildId){for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];r=Sur.apply(void 0,[t].concat(i)),!r&&!t.id&&(r=new Error("In order to properly initialize Tabs in a way that is accessible to assistive technologies (such as screen readers) an `id` or a `generateChildId` prop to TabContainer is required"))}return r},generateChildId:lu.default.func,onSelect:lu.default.func,activeKey:lu.default.any},Eur={$bs_tabContainer:lu.default.shape({activeKey:lu.default.any,onSelect:lu.default.func.isRequired,getTabId:lu.default.func.isRequired,getPaneId:lu.default.func.isRequired})},lY=function(e){tr(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.getChildContext=function(){var i=this.props,o=i.activeKey,u=i.onSelect,f=i.generateChildId,m=i.id,y=f||function(w,I){return m?m+"-"+I+"-"+w:null};return{$bs_tabContainer:{activeKey:o,onSelect:u,getTabId:function(I){return y(I,xur)},getPaneId:function(I){return y(I,wur)}}}},r.render=function(){var i=this.props,o=i.children,u=ar(i,["children"]);return delete u.generateChildId,delete u.onSelect,delete u.activeKey,BD.default.cloneElement(BD.default.Children.only(o),u)},t}(BD.default.Component);lY.propTypes=Iur;lY.childContextTypes=Eur;var UD=hf(lY,{activeKey:"onSelect"});var i9e=se(tn()),uY=se(He()),wa=se(Wt()),VD=se(ba());var Tur={componentClass:VD.default,animation:wa.default.oneOfType([wa.default.bool,VD.default]),mountOnEnter:wa.default.bool,unmountOnExit:wa.default.bool},Mur={componentClass:"div",animation:!0,mountOnEnter:!1,unmountOnExit:!1},Cur={$bs_tabContainer:wa.default.shape({activeKey:wa.default.any})},Aur={$bs_tabContent:wa.default.shape({bsClass:wa.default.string,animation:wa.default.oneOfType([wa.default.bool,VD.default]),activeKey:wa.default.any,mountOnEnter:wa.default.bool,unmountOnExit:wa.default.bool,onPaneEnter:wa.default.func.isRequired,onPaneExited:wa.default.func.isRequired,exiting:wa.default.bool.isRequired})},dI=function(e){tr(t,e);function t(n,i){var o;return o=e.call(this,n,i)||this,o.handlePaneEnter=o.handlePaneEnter.bind(Gr(Gr(o))),o.handlePaneExited=o.handlePaneExited.bind(Gr(Gr(o))),o.state={activeKey:null,activeChild:null},o}var r=t.prototype;return r.getChildContext=function(){var i=this.props,o=i.bsClass,u=i.animation,f=i.mountOnEnter,m=i.unmountOnExit,y=this.state.activeKey,w=this.getContainerActiveKey(),I=y!=null?y:w,M=y!=null&&y!==w;return{$bs_tabContent:{bsClass:o,animation:u,activeKey:I,mountOnEnter:f,unmountOnExit:m,onPaneEnter:this.handlePaneEnter,onPaneExited:this.handlePaneExited,exiting:M}}},r.UNSAFE_componentWillReceiveProps=function(i){!i.animation&&this.state.activeChild&&this.setState({activeKey:null,activeChild:null})},r.componentWillUnmount=function(){this.isUnmounted=!0},r.getContainerActiveKey=function(){var i=this.context.$bs_tabContainer;return i&&i.activeKey},r.handlePaneEnter=function(i,o){return!this.props.animation||o!==this.getContainerActiveKey()?!1:(this.setState({activeKey:o,activeChild:i}),!0)},r.handlePaneExited=function(i){this.isUnmounted||this.setState(function(o){var u=o.activeChild;return u!==i?null:{activeKey:null,activeChild:null}})},r.render=function(){var i=this.props,o=i.componentClass,u=i.className,f=ar(i,["componentClass","className"]),m=Xc(f,["animation","mountOnEnter","unmountOnExit"]),y=m[0],w=m[1];return uY.default.createElement(o,Mt({},w,{className:(0,i9e.default)(u,Fr(y,"content"))}))},t}(uY.default.Component);dI.propTypes=Tur;dI.defaultProps=Mur;dI.contextTypes=Cur;dI.childContextTypes=Aur;var $D=Er("tab",dI);var o9e=se(tn()),GD=se(He()),Gn=se(Wt()),cY=se(ba()),AQr=se(Ch());var Pur={eventKey:Gn.default.any,animation:Gn.default.oneOfType([Gn.default.bool,cY.default]),id:Gn.default.string,"aria-labelledby":Gn.default.string,bsClass:Gn.default.string,onEnter:Gn.default.func,onEntering:Gn.default.func,onEntered:Gn.default.func,onExit:Gn.default.func,onExiting:Gn.default.func,onExited:Gn.default.func,mountOnEnter:Gn.default.bool,unmountOnExit:Gn.default.bool},Our={$bs_tabContainer:Gn.default.shape({getTabId:Gn.default.func,getPaneId:Gn.default.func}),$bs_tabContent:Gn.default.shape({bsClass:Gn.default.string,animation:Gn.default.oneOfType([Gn.default.bool,cY.default]),activeKey:Gn.default.any,mountOnEnter:Gn.default.bool,unmountOnExit:Gn.default.bool,onPaneEnter:Gn.default.func.isRequired,onPaneExited:Gn.default.func.isRequired,exiting:Gn.default.bool.isRequired})},Dur={$bs_tabContainer:Gn.default.oneOf([null])},HD=function(e){tr(t,e);function t(n,i){var o;return o=e.call(this,n,i)||this,o.handleEnter=o.handleEnter.bind(Gr(Gr(o))),o.handleExited=o.handleExited.bind(Gr(Gr(o))),o.in=!1,o}var r=t.prototype;return r.getChildContext=function(){return{$bs_tabContainer:null}},r.componentDidMount=function(){this.shouldBeIn()&&this.handleEnter()},r.componentDidUpdate=function(){this.in?this.shouldBeIn()||this.handleExited():this.shouldBeIn()&&this.handleEnter()},r.componentWillUnmount=function(){this.in&&this.handleExited()},r.getAnimation=function(){if(this.props.animation!=null)return this.props.animation;var i=this.context.$bs_tabContent;return i&&i.animation},r.handleEnter=function(){var i=this.context.$bs_tabContent;i&&(this.in=i.onPaneEnter(this,this.props.eventKey))},r.handleExited=function(){var i=this.context.$bs_tabContent;i&&(i.onPaneExited(this),this.in=!1)},r.isActive=function(){var i=this.context.$bs_tabContent,o=i&&i.activeKey;return this.props.eventKey===o},r.shouldBeIn=function(){return this.getAnimation()&&this.isActive()},r.render=function(){var i=this.props,o=i.eventKey,u=i.className,f=i.onEnter,m=i.onEntering,y=i.onEntered,w=i.onExit,I=i.onExiting,M=i.onExited,N=i.mountOnEnter,z=i.unmountOnExit,F=ar(i,["eventKey","className","onEnter","onEntering","onEntered","onExit","onExiting","onExited","mountOnEnter","unmountOnExit"]),q=this.context,R=q.$bs_tabContent,U=q.$bs_tabContainer,Y=Xc(F,["animation"]),re=Y[0],de=Y[1],ce=this.isActive(),Se=this.getAnimation(),qe=N!=null?N:R&&R.mountOnEnter,Re=z!=null?z:R&&R.unmountOnExit;if(!ce&&!Se&&Re)return null;var Te=Se===!0?Ph:Se||null;R&&(re.bsClass=Fr(R,"pane"));var Ee=Mt({},pn(re),{active:ce});U&&(de.id=U.getPaneId(o),de["aria-labelledby"]=U.getTabId(o));var Ne=GD.default.createElement("div",Mt({},de,{role:"tabpanel","aria-hidden":!ce,className:(0,o9e.default)(u,Ee)}));if(Te){var _e=R&&R.exiting;return GD.default.createElement(Te,{in:ce&&!_e,onEnter:oi(this.handleEnter,f),onEntering:m,onEntered:y,onExit:w,onExiting:I,onExited:oi(this.handleExited,M),mountOnEnter:qe,unmountOnExit:Re},Ne)}return Ne},t}(GD.default.Component);HD.propTypes=Pur;HD.contextTypes=Our;HD.childContextTypes=Dur;var WD=Er("tab-pane",HD);var Nur=Mt({},WD.propTypes,{disabled:ZD.default.bool,title:ZD.default.node,tabClassName:ZD.default.string}),hI=function(e){tr(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=Mt({},this.props);return delete i.title,delete i.disabled,delete i.tabClassName,pY.default.createElement(WD,i)},t}(pY.default.Component);hI.propTypes=Nur;hI.Container=UD;hI.Content=$D;hI.Pane=WD;var YD=hI;var Qg=se(He()),ec=se(Wt()),a9e=se(VO());var s9e=se(ba());var kur=UD.ControlledComponent,Lur={activeKey:ec.default.any,bsStyle:ec.default.oneOf(["tabs","pills"]),animation:ec.default.oneOfType([ec.default.bool,s9e.default]),id:(0,a9e.default)(ec.default.oneOfType([ec.default.string,ec.default.number])),onSelect:ec.default.func,mountOnEnter:ec.default.bool,unmountOnExit:ec.default.bool},Rur={bsStyle:"tabs",animation:!0,mountOnEnter:!1,unmountOnExit:!1};function qur(e){var t;return Go.forEach(e,function(r){t==null&&(t=r.props.eventKey)}),t}var KD=function(e){tr(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.renderTab=function(i){var o=i.props,u=o.title,f=o.eventKey,m=o.disabled,y=o.tabClassName;return u==null?null:Qg.default.createElement(M7e,{eventKey:f,disabled:m,className:y},u)},r.render=function(){var i=this.props,o=i.id,u=i.onSelect,f=i.animation,m=i.mountOnEnter,y=i.unmountOnExit,w=i.bsClass,I=i.className,M=i.style,N=i.children,z=i.activeKey,F=z===void 0?qur(N):z,q=ar(i,["id","onSelect","animation","mountOnEnter","unmountOnExit","bsClass","className","style","children","activeKey"]);return Qg.default.createElement(kur,{id:o,activeKey:F,onSelect:u,className:I,style:M},Qg.default.createElement("div",null,Qg.default.createElement(E7e,Mt({},q,{role:"tablist"}),Go.map(N,this.renderTab)),Qg.default.createElement($D,{bsClass:w,animation:f,mountOnEnter:m,unmountOnExit:y},N)))},t}(Qg.default.Component);KD.propTypes=Lur;KD.defaultProps=Rur;Er("tab",KD);var fY=hf(KD,{activeKey:"onSelect"});var l9e=se(tn()),mI=se(He()),Sa=se(Wt()),u9e=se(VO());var zur={id:(0,u9e.default)(Sa.default.oneOfType([Sa.default.string,Sa.default.number])),placement:Sa.default.oneOf(["top","right","bottom","left"]),positionTop:Sa.default.oneOfType([Sa.default.number,Sa.default.string]),positionLeft:Sa.default.oneOfType([Sa.default.number,Sa.default.string]),arrowOffsetTop:Sa.default.oneOfType([Sa.default.number,Sa.default.string]),arrowOffsetLeft:Sa.default.oneOfType([Sa.default.number,Sa.default.string])},jur={placement:"right"},dY=function(e){tr(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i,o=this.props,u=o.placement,f=o.positionTop,m=o.positionLeft,y=o.arrowOffsetTop,w=o.arrowOffsetLeft,I=o.className,M=o.style,N=o.children,z=ar(o,["placement","positionTop","positionLeft","arrowOffsetTop","arrowOffsetLeft","className","style","children"]),F=En(z),q=F[0],R=F[1],U=Mt({},pn(q),(i={},i[u]=!0,i)),Y=Mt({top:f,left:m},M),re={top:y,left:w};return mI.default.createElement("div",Mt({},R,{role:"tooltip",className:(0,l9e.default)(I,U),style:Y}),mI.default.createElement("div",{className:Fr(q,"arrow"),style:re}),mI.default.createElement("div",{className:Fr(q,"inner")},N))},t}(mI.default.Component);dY.propTypes=zur;dY.defaultProps=jur;var hY=Er("tooltip",dY);var xI=se(Wt(),1);var gI=se(He(),1);var c9e=se(a1(),1);var mY=(e,t=4)=>{if(Array.isArray(e))return e.map(r=>mY(r,t));if(typeof e=="object"&&e!==null){let r={};return Object.entries(e).forEach(([n,i])=>{r[n]=mY(i)}),r}else return isNaN(e)||e===null?e:e.toFixed(Math.min(Bur(e),t))},Fur=(e,t=4)=>{let r={};return Object.entries(e).forEach(([n,i])=>{r[n]=mY(i,t)}),r},Bur=e=>Math.floor(e)===e?0:e.toString().split(".")[1].length||0;var p9e=(e,t)=>{let r;t.forEach(n=>{let i=n.getMetadata(Bt.bounds);r=r===void 0?new c9e.LngLatBounds(i):r.extend(i)}),r!==void 0&&e.fitBounds(r,{animate:!1,padding:{left:350,right:350,top:50,bottom:50}})};var f9e=(e,t=!1)=>{let r={center:e.getCenter().toArray(),bearing:e.getBearing(),pitch:e.getPitch(),zoom:e.getZoom()};return t?Fur(r,5):r};function t_(e,t){let r=()=>{if(typeof window=="undefined")return t;try{let u=window.localStorage.getItem(e);return u?JSON.parse(u):t}catch(u){return console.warn(`Error reading localStorage key \u201C${e}\u201D:`,u),t}},[n,i]=(0,gI.useState)(r),o=u=>{typeof window=="undefined"&&console.warn(`Tried setting localStorage key \u201C${e}\u201D even though environment is not a client`);try{let f=u instanceof Function?u(n):u;window.localStorage.setItem(e,JSON.stringify(f)),i(f),window.dispatchEvent(new Event("local-storage"))}catch(f){console.warn(`Error setting localStorage key \u201C${e}\u201D:`,f)}};return(0,gI.useEffect)(()=>{i(r())},[]),(0,gI.useEffect)(()=>{let u=()=>{i(r())};return window.addEventListener("storage",u),window.addEventListener("local-storage",u),()=>{window.removeEventListener("storage",u),window.removeEventListener("local-storage",u)}},[]),[n,o]}var XD=e=>`${window.location.origin}${window.location.pathname}?${e}`;var Hn=se(He(),1);var bY=se(Wt(),1);var Wa=ln({key:"notificationState",default:null});var x9e=se(gh(),1);var mn=e=>e!==void 0,d9e=(e,t,r)=>t in e?e[t]:e[t]=r,vI={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12},yY=class{constructor(t){this._parser=new t}toDocument(t){return this._parser.parseFromString(t,"application/xml")}getAllTextContent(t,r){return eN(t,r).join("")}};function eN(e,t){return h9e(e,t,[]).join("")}function h9e(e,t,r){if(e.nodeType===vI.CDATA_SECTION||e.nodeType===vI.TEXT)t?r.push(String(e.nodeValue).replace(/(\r\n|\r|\n)/g,"")):r.push(e.nodeValue);else{var n;for(n=e.firstChild;n;n=n.nextSibling)h9e(n,t,r)}return r}function Uur(e,t,r,n){for(var i=Vur(t);i;i=$ur(i)){var o=i.namespaceURI||null,u=e[o];if(mn(u)){var f=u[i.localName];mn(f)&&f.call(n,i,r)}}}function Vur(e){let t=e.firstElementChild||e.firstChild;for(;t&&t.nodeType!==vI.ELEMENT;)t=t.nextSibling;return t}function $ur(e){let t=e.nextElementSibling||e.nextSibling;for(;t&&t.nodeType!==vI.ELEMENT;)t=t.nextSibling;return t}function Ia(e,t,r){return Gur(e,t,r)}function Gur(e,t,r){var n=mn(r)?r:{},i,o;for(i=0,o=e.length;i<o;++i)n[e[i]]=t;return n}function m9e(e,t){return function(r,n){var i=e.call(mn(t)?t:this,r,n);if(mn(i)){var o=n[n.length-1];o.push(i)}}}function Yo(e,t,r,n,i){return n.push(e),Uur(t,r,n,i),n.pop()}function dr(e,t,r){return function(n,i){let o=e.call(mn(r)?r:this,n,i);if(mn(o)){var u=i[i.length-1],f=mn(t)?t:n.localName;u[f]=o}}}function Ks(e,t,r){return function(n,i){var o=e.call(mn(r)?r:this,n,i);if(mn(o)){var u=i[i.length-1],f=mn(t)?t:n.localName,m=d9e(u,f,[]);m.push(o)}}}var Hur=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function Wur(e){return e.replace(Hur,"")}function Jg(e){let t=/^\s*(true|1)|(false|0)\s*$/.exec(e);if(t)return mn(t[1])||!1}function r_(e){return wf(eN(e,!1))}function wf(e){let t=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(e);if(t)return parseFloat(t[1])}function gY(e){return QD(eN(e,!1))}function QD(e){let t=/^\s*(\d+)\s*$/.exec(e);if(t)return parseInt(t[1],10)}function Dn(e){return Wur(eN(e,!1))}var Zur="http://www.w3.org/1999/xlink";function _Y(e){return e.getAttributeNS(Zur,"href")}function Yur(e,t){return Yo({},wcr,e,t)}function g9e(e){return[wf(e.getAttribute("minx")),wf(e.getAttribute("miny")),wf(e.getAttribute("maxx")),wf(e.getAttribute("maxy"))]}function Kur(e,t){let r=g9e(e),n=[wf(e.getAttribute("resx")),wf(e.getAttribute("resy"))];return{crs:e.getAttribute("CRS")||e.getAttribute("SRS"),extent:r,res:n}}function Xur(e,t){let r=g9e(e);if(!(!mn(r[0])||!mn(r[1])||!mn(r[2])||!mn(r[3])))return r}function Qur(e,t){let r=parseFloat(e.getAttribute("min")),n=parseFloat(e.getAttribute("max"));return{min:r,max:n}}function Jur(e,t){let r=Yo({},Scr,e,t);if(!mn(r))return;let n=r.westBoundLongitude,i=r.southBoundLatitude,o=r.eastBoundLongitude,u=r.northBoundLatitude;if(!(!mn(n)||!mn(i)||!mn(o)||!mn(u)))return[n,i,o,u]}function ecr(e,t){return Yo({},gcr,e,t)}function tcr(e,t){return Yo({},vcr,e,t)}function rcr(e,t){return Yo({},ycr,e,t)}function ncr(e,t){return Yo({},_cr,e,t)}function icr(e,t){return Yo({},bcr,e,t)}function ocr(e,t){return Yo([],xcr,e,t)}function acr(e,t){let r=Jg(e.getAttribute("queryable"));return Yo({queryable:mn(r)?r:!1},_9e,e,t)}function scr(e,t){var r=t[t.length-1];let n=Yo({},_9e,e,t);if(!mn(n))return;let i=Jg(e.getAttribute("queryable"));mn(i)||(i=r.queryable),n.queryable=mn(i)?i:!1;let o=QD(e.getAttribute("cascaded"));mn(o)||(o=r.cascaded),n.cascaded=o;let u=Jg(e.getAttribute("opaque"));mn(u)||(u=r.opaque),n.opaque=mn(u)?u:!1;let f=Jg(e.getAttribute("noSubsets"));mn(f)||(f=r.noSubsets),n.noSubsets=mn(f)?f:!1;let m=wf(e.getAttribute("fixedWidth"));mn(m)||(m=r.fixedWidth),n.fixedWidth=m;let y=wf(e.getAttribute("fixedHeight"));mn(y)||(y=r.fixedHeight),n.fixedHeight=y;let w=["Style","CRS","AuthorityURL"];for(let M=0,N=w.length;M<N;M++){let z=w[M],F=r[z];if(mn(F)){let q=d9e(n,z,[]);q=q.concat(F),n[z]=q}}let I=["EX_GeographicBoundingBox","BoundingBox","Dimension","Attribution","MinScaleDenominator","MaxScaleDenominator"];for(let M=0,N=I.length;M<N;M++){let z=I[M],F=n[z];if(!mn(F)){let q=r[z];n[z]=q}}return n}function lcr(e,t){return{name:e.getAttribute("name"),units:e.getAttribute("units"),unitSymbol:e.getAttribute("unitSymbol"),default:e.getAttribute("default"),multipleValues:Jg(e.getAttribute("multipleValues")),nearestValue:Jg(e.getAttribute("nearestValue")),current:Jg(e.getAttribute("current")),values:Dn(e)}}function Sf(e,t){return Yo({},Acr,e,t)}function ucr(e,t){return Yo({},Icr,e,t)}function ccr(e,t){return Yo({},Tcr,e,t)}function pcr(e,t){return Yo({},Mcr,e,t)}function vY(e,t){return Yo({},Ecr,e,t)}function v9e(e,t){var r=Sf(e,t);if(mn(r)){let n=[QD(e.getAttribute("width")),QD(e.getAttribute("height"))];return r.size=n,r}}function fcr(e,t){var r=Sf(e,t);if(mn(r))return r.name=e.getAttribute("name"),r}function dcr(e,t){var r=Sf(e,t);if(mn(r))return r.type=e.getAttribute("type"),r}function hcr(e,t){return Yo({},Ccr,e,t)}function y9e(e,t){return Yo([],Pcr,e,t)}var Ea=[null,"http://www.opengis.net/wms"],mcr=Ia(Ea,{Service:dr(tcr),Capability:dr(ecr)}),gcr=Ia(Ea,{Request:dr(ucr),Exception:dr(ocr),Layer:dr(acr)}),vcr=Ia(Ea,{Name:dr(Dn),Title:dr(Dn),Abstract:dr(Dn),KeywordList:dr(y9e),OnlineResource:dr(_Y),ContactInformation:dr(rcr),Fees:dr(Dn),AccessConstraints:dr(Dn),LayerLimit:dr(gY),MaxWidth:dr(gY),MaxHeight:dr(gY)}),ycr=Ia(Ea,{ContactPersonPrimary:dr(ncr),ContactPosition:dr(Dn),ContactAddress:dr(icr),ContactVoiceTelephone:dr(Dn),ContactFacsimileTelephone:dr(Dn),ContactElectronicMailAddress:dr(Dn)}),_cr=Ia(Ea,{ContactPerson:dr(Dn),ContactOrganization:dr(Dn)}),bcr=Ia(Ea,{AddressType:dr(Dn),Address:dr(Dn),City:dr(Dn),StateOrProvince:dr(Dn),PostCode:dr(Dn),Country:dr(Dn)}),xcr=Ia(Ea,{Format:m9e(Dn)}),_9e=Ia(Ea,{Name:dr(Dn),Title:dr(Dn),Abstract:dr(Dn),KeywordList:dr(y9e),CRS:Ks(Dn),SRS:Ks(Dn),EX_GeographicBoundingBox:dr(Jur),LatLonBoundingBox:dr(Xur),BoundingBox:Ks(Kur),Dimension:Ks(lcr),Attribution:dr(Yur),AuthorityURL:Ks(fcr),Identifier:Ks(Dn),MetadataURL:Ks(dcr),DataURL:Ks(Sf),FeatureListURL:Ks(Sf),Style:Ks(hcr),MinScaleDenominator:dr(r_),MaxScaleDenominator:dr(r_),ScaleHint:dr(Qur),Layer:Ks(scr)}),wcr=Ia(Ea,{Title:dr(Dn),OnlineResource:dr(_Y),LogoURL:dr(v9e)}),Scr=Ia(Ea,{westBoundLongitude:dr(r_),eastBoundLongitude:dr(r_),southBoundLatitude:dr(r_),northBoundLatitude:dr(r_)}),Icr=Ia(Ea,{GetCapabilities:dr(vY),GetMap:dr(vY),GetFeatureInfo:dr(vY)}),Ecr=Ia(Ea,{Format:Ks(Dn),DCPType:Ks(ccr)}),Tcr=Ia(Ea,{HTTP:dr(pcr)}),Mcr=Ia(Ea,{Get:dr(Sf),Post:dr(Sf)}),Ccr=Ia(Ea,{Name:dr(Dn),Title:dr(Dn),Abstract:dr(Dn),LegendURL:Ks(v9e),StyleSheetURL:dr(Sf),StyleURL:dr(Sf)}),Acr=Ia(Ea,{Format:dr(Dn),OnlineResource:dr(_Y)}),Pcr=Ia(Ea,{Keyword:m9e(Dn)}),JD=class{constructor(t,r){!r&&typeof window!="undefined"&&(r=window.DOMParser),this.version=void 0,this._parser=new yY(r),this._data=t}data(t){return this._data=t,this}toJSON(t){return t=t||this._data,this.parse(t)}parse(t){return this.readFromDocument(this._parser.toDocument(t))}readFromDocument(t){for(let r=t.firstChild;r;r=r.nextSibling)if(r.nodeType==vI.ELEMENT)return this.readFromNode(r);return null}readFromNode(t){return this.version=t.getAttribute("version"),Yo({version:this.version},mcr,t,[])||null}};var tN="wms-base-map-layer",yI="wms-base-map-source",_I="xyz-base-map-layer",rN="xyz-base-map-source";function b9e(e,t){return t.Capability.Layer.Layer.filter(r=>r.CRS.includes("EPSG:3857")).map(r=>{let i=r.Name;return{id:r.Title,label:r.Title,urls:[`${e}?bbox={bbox-epsg-3857}&format=image/png&service=WMS&version=1.1.0&request=GetMap&srs=EPSG:3857&transparent=true&width=512&height=512&layers=${i}`],type:"wms",layers:i,tileSize:512}})}function nN(e){return kn(this,null,function*(){let t=yield x9e.default.get(e);if(t.status===200){let r=new JD().parse(t.data);return console.log("parse",b9e(e.split("?")[0],r)),b9e(e.split("?")[0],r)}else throw new Error(`Could not fetch wms capabilities document at ${e}`)})}var w9e=(e,t,r)=>{if(!t)return!1;if(E9e(e,r),!e.getSource(yI)){let n={type:"raster",tiles:[`${t.urls[0]}?bbox={bbox-epsg-3857}&format=image/png&service=WMS&version=2.0.0&request=GetMap&CRS=EPSG:3857&transparent=true&width=512&height=512&layers=${t.layers}&STYLES=`]};t.attribution&&(n.attribution=t.attribution),e.addSource(yI,n);let i=e.getStyle().layers[0].id;e.addLayer({id:tN,type:"raster",source:yI,paint:{}},i)}},S9e=e=>{for(let{id:t}of e.getStyle().layers)(t===tN||t===_I)&&e.setLayoutProperty(t,"visibility","visible")},bI=e=>{S9e(e),e.getLayer(tN)&&e.removeLayer(tN),e.getSource(yI)&&e.removeSource(yI)},I9e=(e,t)=>{t.forEach(r=>{e.setLayoutProperty(r.id,"visibility","visible")})},E9e=(e,t)=>{t.forEach(r=>{e.setLayoutProperty(r.id,"visibility","none")})},T9e=(e,t,r)=>{if(!t)return!1;if(E9e(e,r),bI(e),!e.getSource(_I)){e.addSource(rN,{type:"raster",tiles:[t.urls[0]],attribution:t.attribution});let n=e.getStyle().layers[0].id;e.addLayer({id:_I,type:"raster",source:rN,paint:{}},n)}},M9e=e=>{S9e(e),e.getLayer(_I)&&e.removeLayer(_I),e.getSource(rN)&&e.removeSource(rN)};var C9e=e=>{let{onClose:t,onSubmit:r}=e,[n,i]=(0,Hn.useState)(""),[o,u]=(0,Hn.useState)(!1),[f,m]=(0,Hn.useState)([]),[y,w]=(0,Hn.useState)(null),I=ki(Wa),M=(0,Hn.useRef)(),N=(0,Hn.useRef)(),z=de=>{m([]),w(null),I({id:"dialog-add-wms",type:"danger",text:de})},F=()=>{t()},q=()=>{r(y),F()},R=()=>kn(null,null,function*(){if(!o4(n)){u(!0);return}try{let de=yield nN(n);de.length!==0&&(m(de),w(de[0]))}catch(de){z(gt("dialog.add-wms.error.invalid-url"))}}),U=de=>{i(de.target.value)},Y=de=>{de.code==="Enter"&&R()},re=de=>{let ce=f.find(Se=>Se.id===de.target.value);w(ce)};return Hn.default.createElement("div",null,Hn.default.createElement(_f,{className:"vkf-dialog-addwms",show:!0,onHide:F},Hn.default.createElement(_f.Header,null,Hn.default.createElement(_f.Title,null,gt("control-basemapselector-addwms-title"))),Hn.default.createElement(_f.Body,null,Hn.default.createElement("div",{className:"dialog-content"},Hn.default.createElement("div",{className:_r("form-group","set-url",o?"has-warning":"")},Hn.default.createElement("label",{htmlFor:M.current},gt("control-basemapselector-addwms-input-label")),Hn.default.createElement("div",{className:"form-group-capabilities"},Hn.default.createElement("input",{type:"url",className:"form-control",ref:M,placeholder:"https://meinwms.de?Request=GetCapabilities&Service=WMS&Version=1.3.0",value:n,onChange:U,onKeyDown:Y}),Hn.default.createElement("button",{type:"submit",className:"btn",onClick:R},gt("control-basemapselector-addwms-btn-load-capabilities"))),Hn.default.createElement("p",{className:"help-block"},gt("control-basemapselector-addwms-input-description"))),f.length>0&&y!==null&&Hn.default.createElement("div",{className:_r("form-group","set-layer")},Hn.default.createElement("label",{htmlFor:N.current},gt("control-basemapselector-addwms-select-label")),Hn.default.createElement("select",{ref:N,value:y.id,onChange:re,className:"form-control"},f.map(de=>Hn.default.createElement("option",{key:de.id,value:de.id},de.label))),Hn.default.createElement("p",{className:"help-block"},gt("control-basemapselector-addwms-select-description"))))),Hn.default.createElement(_f.Footer,null,Hn.default.createElement(Ha,{onClick:F},gt("control-basemapselector-addwms-btn-canel")),Hn.default.createElement(Ha,{onClick:q,bsStyle:"primary",className:_r(y===null?"disabled":"")},gt("control-basemapselector-addwms-btn-submit")))))};C9e.propTypes={onClose:bY.default.func.isRequired,onSubmit:bY.default.func.isRequired};var A9e=C9e;var wI="vkf-custom-basemaps",P9e=e=>{let{map:t}=e,[r,n]=Pn(A1),[i,o]=t_(wI,[]),u=Nr.getBaseMaps(),f=ki(Wa),[m,y]=(0,Za.useState)(!1),w=z=>{n(z.id)},I=()=>{y(!0)},M=z=>{z.type==="wms"&&bI(t,z),r===z.id&&n(u[0].id),o(F=>F.filter(q=>q.id!==z.id))},N=z=>{if([...u,...i].find(q=>q.id===z.id||q.label===z.label))f({id:"basemapSelector",type:"danger",text:gt("control-basemapselector-error-initializiation")});else{let q=gr(nt({},z),{allowDeletion:!0});o(R=>[...R,q])}};return Za.default.createElement(Za.default.Fragment,null,r!==void 0&&Za.default.createElement(Za.default.Fragment,null,Za.default.createElement("h2",null,gt("control-basemapselector-label"),":"),Za.default.createElement("ul",{className:"wms-entries"},[...u,...i].map(z=>Za.default.createElement("li",{key:z.id,className:"basemap-selector-entry"},Za.default.createElement(sY,{onChange:()=>w(z),name:z.id,value:z.id,checked:r===z.id},z.label),z.allowDeletion&&Za.default.createElement("button",{className:"delete-basemap-button",onClick:F=>{F.preventDefault(),F.stopPropagation(),M(z)},title:"Remove basemap"},Za.default.createElement(bo,{glyph:"remove"}))))),Za.default.createElement("div",{className:"controls-container"},Za.default.createElement("button",{className:"add-wms-button",onClick:I},gt("control-basemapselector-btn-addwms")))),m&&Za.default.createElement(A9e,{onClose:()=>y(!1),onSubmit:N}))};P9e.propTypes={map:xI.default.object,onBasemapChange:xI.default.func,onSetNotification:xI.default.func,activeBasemapId:xI.default.string};var O9e=P9e;var Ocr=()=>{let{baseMapControlEl:e,activeDialog:t,toggleDialog:r,dialogRef:n}=VP(FG,Hs.BasemapSelector);return e!==null?(0,D9e.createPortal)(SI.default.createElement("div",{ref:n},SI.default.createElement("button",{onClick:r,title:gt("control-basemapselector-open"),className:_r("maplibregl-ctrl-basemap-selector",t===Hs.BasemapSelector&&"active")}),t===Hs.BasemapSelector&&SI.default.createElement("div",{className:_r("basemap-selector-modal",t===Hs.BasemapSelector&&"active")},SI.default.createElement(O9e,null))),e):null},N9e=Ocr;var k9e=N9e;function xY(e,t){return new Promise(function(r){let n=()=>{r(!1)},i=()=>{t.signal.removeEventListener("abort",n)};t.signal.addEventListener("abort",n,{once:!0}),e.once("moveend",()=>{r(!0),i()}),e.once("touchstart",()=>{r(!1),i()}),e.once("mousedown",()=>{r(!1),i()}),e.flyTo(t)})}function L9e(e){return new Promise(t=>setTimeout(t,e))}var R9e=se(a1(),1);var iN=class extends R9e.Map{constructor(){super(...arguments);ut(this,"terrainConfiguration",Nr.getTerrain());ut(this,"terrainExaggeration",this.terrainConfiguration.exaggeration);ut(this,"isTerrainEnabled",!1);ut(this,"abortController",new AbortController)}getTerrainExaggeration(){return this.terrainExaggeration}hasTerrain(){return this.isTerrainEnabled}growTerrain(r,n=1e3){if(!this.terrain)return;let i=performance.now(),o=this.terrain.exaggeration,u=r-o,f=()=>{if(!this.terrain||this.terrainFlattening)return;let m=(performance.now()-i)/n;if(m<.99){let y=1-Rp(1-m,4),w=o+y*u;this.terrain.exaggeration=w,requestAnimationFrame(f)}else this.terrainGrowing=!1,this.terrainFlattening=!1,this.terrain.exaggeration=r;this._elevationFreeze=!1,this.triggerRepaint()};this.terrainGrowing=!0,this.terrainFlattening=!1,requestAnimationFrame(f)}enableTerrain(r=this.terrainExaggeration){if(r<0){console.warn("Terrain exaggeration cannot be negative.");return}let n=o=>kn(this,null,function*(){!this.terrain||o.type!=="data"||o.dataType!=="source"||!("source"in o)||o.sourceId!==vh||o.source.type!=="raster-dem"||o.isSourceLoaded&&(this.off("data",n),this.growTerrain(r))}),i=()=>{this.isTerrainEnabled=!0,this.terrainExaggeration=r,this.addSource(vh,{attribution:this.terrainConfiguration.attribution,type:"raster-dem",tiles:[this.terrainConfiguration.url],tileSize:256,minzoom:this.terrainConfiguration.minZoom,maxzoom:this.terrainConfiguration.maxZoom,encoding:"terrarium"}),this.setTerrain({source:vh,exaggeration:0}),this.abortController.abort(),this.abortController=new AbortController,xY(this,{signal:this.abortController.signal,pitch:60,duration:700}).then(()=>L9e(500)).then(()=>{this.getSource(vh).loaded()?this.growTerrain(r):this.on("data",n)})};if(this.getTerrain()){this.isTerrainEnabled=!0,this.growTerrain(r);return}this.loaded()||this.isTerrainEnabled?i():this.once("load",()=>{this.getTerrain()&&this.getSource(vh)||i()})}disableTerrain(){return kn(this,null,function*(){if(!this.terrain)return;this.isTerrainEnabled=!1;let r=1*1e3,n=performance.now(),i=this.terrain.exaggeration,o=()=>{if(!this.terrain||this.terrainGrowing)return;let u=(performance.now()-n)/r;if(this._elevationFreeze=!1,u<.99){let f=Rp(1-u,4),m=i*f;this.terrain.exaggeration=m,requestAnimationFrame(o)}else this.terrain.exaggeration=0,this.terrainGrowing=!1,this.terrainFlattening=!1,this.setTerrain(),this.getSource(vh)&&this.removeSource(vh),this.abortController.abort(),this.abortController=new AbortController,xY(this,{pitch:0,signal:this.abortController.signal,duration:700});this.triggerRepaint()};this.terrainGrowing=!1,this.terrainFlattening=!0,requestAnimationFrame(o)})}setTerrainExaggeration(r,n=!0){!n&&this.terrain?(this.terrainExaggeration=r,this.terrain.exaggeration=r,this.triggerRepaint()):this.enableTerrain(r)}};var wY=class extends iN{addControl(t,r){let n=super.addControl(t,r);return this.fire(Hu.controlAdded,{control:t}),n}removeControl(t){let r=super.removeControl(t);return this.fire(Hu.controlRemoved,{control:t}),r}setPaintProperty(t,r,n,i){var m;let o=super.setPaintProperty(t,r,n,i),u=this.getLayer(t),f=(m=u==null?void 0:u.metadata)==null?void 0:m[Gc.id];return ROe.has(r)&&f&&this.fire(Hu.opacityChanged,{layerId:f,property:r,value:n}),o}setLayoutProperty(t,r,n,i){var m;let o=super.setLayoutProperty(t,r,n,i),u=this.getLayer(t),f=(m=u==null?void 0:u.metadata)==null?void 0:m[Gc.id];return qOe.has(r)&&f&&this.fire(Hu.visibilityChanged,{layerId:f,property:r,value:n}),o}fireVisibilityChanged(t,r){this.fire(Hu.visibilityChanged,{layerId:t,property:"visibility",value:r})}},q9e=wY;var z9e=q9e;var II=se(He(),1),hze=se(Gi(),1);var rp=se(He(),1);var Ta=se(He(),1);var SY={"2D":0,"3D":1};var j9e=e=>{let{center:t,bearing:r,pitch:n,zoom:i}=e;return Object.assign({},t===void 0?null:{c:t},r===void 0?null:{be:r},n===void 0?null:{p:n},i===void 0?null:{z:i})},F9e=e=>Nr.getBaseMaps().filter(n=>n.id===e).length>0?{b:e}:{},B9e=e=>({map_id:e.filter(t=>t.getType()===Ba.HISTORIC_MAP||t.getMetadata(Bt.vectorMapId)).map(t=>t.getId())}),U9e=e=>({v:e?SY["3D"]:SY["2D"]});var cze=se(sze(),1);var Ya=se(He(),1),oN=se(Wt(),1);var lze=({title:e,onClick:t,value:r})=>{let[n,i]=(0,Ya.useState)(!1),o=(0,Ya.useRef)(),u=(0,Ya.useRef)(),f=(0,Ya.useCallback)(()=>{(t!==void 0&&r===""?t():new Promise(y=>y())).then(y=>{clearTimeout(u.current),navigator.clipboard.writeText(y!==void 0?y:r),i(!0)})},[t,r]);return(0,Ya.useEffect)(()=>(n&&(u.current=setTimeout(()=>{i(!1)},1e3)),()=>{clearTimeout(u.current)}),[n]),Ya.default.createElement(Ya.default.Fragment,null,Ya.default.createElement("button",{className:"copy-button",onClick:f,ref:o,title:e!=null?e:gt("control-permalink-exporter-copy-title")},Ya.default.createElement(bo,{glyph:"copy"})),Ya.default.createElement(iY,{placement:"right",target:o.current,show:n},Ya.default.createElement(hY,{id:"copy-state-indicator"},gt("control-permalink-exporter-copy"))))};lze.propTypes={title:oN.default.string,onClick:oN.default.func,value:oN.default.string};var uze=lze;var aN=uze;var Bcr=()=>{let e=yr(Rn),t=yr(Zs),r=yr(A1),[n,i]=(0,Ta.useState)(""),o=(0,Ta.useRef)(),u=(0,Ta.useCallback)(()=>{if(!zt(e))return;let f=j9e(f9e(e,!0)),m=U9e(e.hasTerrain()),y=B9e(t),w=F9e(r),I=(0,cze.stringify)(Object.assign({},f,m,y,w),{arrayFormat:"comma"});i(XD(I))},[e]);return(0,Ta.useEffect)(()=>{if(e)return u(),e.on("moveend",u),()=>{e.off("moveend",u)}},[e,u]),Ta.default.createElement(Ta.default.Fragment,null,Ta.default.createElement("div",{className:"action-content"},Ta.default.createElement("label",{htmlFor:"permalink-value",className:"visually-hidden"},"Permalink"),Ta.default.createElement("input",{readOnly:!0,ref:o,value:n,id:"permalink-value"}),Ta.default.createElement(aN,{value:n})),Ta.default.createElement("div",{className:"description"},Ta.default.createElement("p",null,gt("control-permalink-exporter-permalink-description"))))},pze=Bcr;var Ma=se(He(),1);var tp=se(He(),1);var Ucr=()=>tp.default.createElement("div",{className:"lds-roller"},tp.default.createElement("div",null),tp.default.createElement("div",null),tp.default.createElement("div",null),tp.default.createElement("div",null),tp.default.createElement("div",null),tp.default.createElement("div",null),tp.default.createElement("div",null),tp.default.createElement("div",null)),n_=Ucr;var fze=()=>{let[e]=t_(wI,[]),[t,r]=(0,Ma.useState)(!1),[n,i]=(0,Ma.useState)(""),o=yr(eke),u=Nr.getGeoreferenceApiClient(),f="/map_view/",m=(0,Ma.useCallback)(()=>{if(o!==void 0){let y=o(),{searchOptions:w}=y,I=zn(y,["searchOptions"]),M=e.filter(z=>z.id===I.activeBasemapId),N=Object.assign({},I,M.length>0?{customBasemaps:M}:null);return r(!0),u.post(f,{map_view_json:N}).then(z=>{if(z.status===200&&z.data!==void 0){let{map_view_id:F}=z.data,q=XD(`map_view_id=${F}`);return i(q),r(!1),q}})}},[e,o]);return Ma.default.createElement(Ma.default.Fragment,null,Ma.default.createElement("div",{className:"action-content"},Ma.default.createElement("label",{htmlFor:"permalink-mapview",className:"visually-hidden"},"Permalink"),Ma.default.createElement("input",{placeholder:gt("control-permalink-input-mapview-placeholder"),readOnly:!0,value:n,id:"permalink-mapview"}),Ma.default.createElement(aN,{onClick:m,value:n}),Ma.default.createElement("button",{className:_r("upload-button",t&&"loading"),onClick:m},t?Ma.default.createElement(n_,null):Ma.default.createElement(bo,{glyph:"upload"}),"Upload")),Ma.default.createElement("div",{className:"description"},Ma.default.createElement("p",null,gt("control-permalink-exporter-mapview-description"))))};var Vcr=()=>{let e=!Nr.isUserAuthenticated();return rp.default.createElement("div",{className:"vkf-permalink-exporter"},rp.default.createElement(fY,{defaultActiveKey:1,id:"permalink-exporter-tabs"},rp.default.createElement(YD,{eventKey:1,title:gt("control-permalink-title-permalink")},rp.default.createElement("div",{className:"permalink-exporter-content"},rp.default.createElement(pze,null))),rp.default.createElement(YD,{disabled:e,eventKey:2,title:gt("control-permalink-title-map-view")},rp.default.createElement("div",{className:"permalink-exporter-content"},!e&&rp.default.createElement(fze,null)))))},dze=rp.default.memo(Vcr);var $cr=()=>{let{baseMapControlEl:e,activeDialog:t,toggleDialog:r,dialogRef:n}=VP(VG,Hs.Permalink);return e!==null?(0,hze.createPortal)(II.default.createElement("div",{ref:n},II.default.createElement("button",{className:_r("maplibregl-ctrl-permalink",t===Hs.Permalink&&"active"),onClick:r,title:gt("control-permalink-open")}),t===Hs.Permalink&&II.default.createElement("div",{className:"content-container"},II.default.createElement(dze,null))),e):null},mze=$cr;var sN=se(He(),1);var Gcr=()=>{let e=yr(Rn),t=yr(A1),r=yr(NP),[n]=t_(wI,[]),i=Nr.getBaseMaps(),o=(0,sN.useMemo)(()=>[...i,...n],[n,i]);return(0,sN.useEffect)(()=>{if(zt(e)){let u=o.find(m=>m.id===t);if(u===void 0)return;let f=u;if(bI(e),M9e(e),f.type==="vector")I9e(e,r);else if(f.type==="wms")w9e(e,f,r);else if(f.type==="xyz")T9e(e,f,r);else throw new Error("Unknown layer type")}},[t,e,r]),null},gze=Gcr;function vze(){return{"NavigationControl.ZoomIn":gt("control-zoom-in"),"NavigationControl.ZoomOut":gt("control-zoom-out"),"FullscreenControl.Enter":gt("control-fullscreen-Enter"),"FullscreenControl.Exit":gt("control-fullscreen-Exit"),"NavigationControl.ResetBearing":gt("control-rotate"),"TerrainControl.Enable":gt("control-toggleviewmode-title"),"TerrainControl.Disable":gt("control-toggleviewmode-title"),"GeolocateControl.FindMyLocation":gt("control-locateme-title"),"GeolocateControl.LocationNotAvailable":gt("control-locateme-location-not-available")}}var Hcr="https://tile-2.kartenforum.slub-dresden.de/styles/maptiler-basic-v2/style.json",yze=e=>{let{target:t}=e,r=document.getElementsByClassName("map-container")[0];if(!zt(r))return;let n=GNe(t.getZoom());r.style.setProperty("--vkf-idohist-scale-factor",n)};function _ze(e){let{ChildComponent:t,layout:r,mapViewSettings:n={center:[13.5981217,59.562795],projection:"EPSG:3857",zoom:2},loadMarkerIcon:i=!0}=e,[o,u]=Pn(Rn),f=ki(NP),m=(0,uu.useRef)();return Ake(m,"map"),(0,uu.useEffect)(()=>{let y=new z9e({container:m.current,center:n.center,zoom:n.zoom,maxZoom:n.maxZoom,style:Hcr,locale:vze(),attributionControl:!1}),w=()=>{if(u(y),f(y.getStyle().layers),i===!0){let{id:I,url:M}=Nr.getMarkerSettings();y.loadImage(M).then(N=>{y.addImage(I,N.data,{sdf:!0})})}};return y.on("style.load",w),y.on("zoom",yze),()=>{y.off("style.load",w),y.off("zoom",yze),u(void 0),y.remove()}},[]),(0,uu.useEffect)(()=>{if(zt(o)){let y=LOe();return y.forEach(({control:w,position:I})=>{o.addControl(w,I)}),()=>{y.forEach(({control:w})=>{o.removeControl(w)})}}},[o]),uu.default.createElement("div",{className:"map-container"},uu.default.createElement("div",{ref:m,className:_r("map-div","olMap",BOe(r)),tabIndex:0},zt(o)&&uu.default.createElement(t,null),uu.default.createElement(k9e,null),uu.default.createElement(mze,null),uu.default.createElement(gze,null)))}var Wcr={baseMapUrl:tc.default.arrayOf(tc.default.string),ChildComponent:tc.default.func,layout:tc.default.string,mapViewSettings:tc.default.shape({center:tc.default.arrayOf(tc.default.number),projection:tc.default.string,zoom:tc.default.number}),loadMarkerIcon:tc.default.bool};_ze.propTypes=Wcr;var bze=_ze;var kf=se(He(),1),DVe=se(Wt(),1);var Fh=se(He(),1);var Dk=se(Wt(),1);var xo=se(He(),1);var o_=se(He(),1),TY=se(Wt(),1);var ev=se(He(),1),i_=se(Wt(),1),xze=({checked:e,georeferenceMode:t,id:r,onClick:n,title:i})=>r!=="ToGeoref"||r==="toGeoref"&&t?ev.default.createElement("li",null,ev.default.createElement("label",{htmlFor:r},ev.default.createElement("input",{checked:e,className:"facet-search-el",onChange:()=>{n(r)},id:r,title:i,type:"checkbox"}),ev.default.createElement("span",{dangerouslySetInnerHTML:{__html:i}}))):ev.default.createElement(ev.default.Fragment,null);xze.propTypes={checked:i_.default.bool,georeferenceMode:i_.default.bool,id:i_.default.string,onClick:i_.default.func,title:i_.default.string};var wze=xze;var MY={AE:"map_type-ae",AK:"map_type-ak",CM:"map_type-cm",GL:"map_type-gl",MB:"map_type-mb",MTB:"map_type-mtb",TK:"map_type-tk",TKX:"map_type-tkx",MM:"type-mosaic",VM:"type-vector"},Zcr=(e,t)=>e.title>t.title?1:e.title<t.title?-1:0,Ycr=()=>{let e=Object.keys(MY).map(t=>({key:t,title:gt(`facet-${t.toLowerCase()}`)}));return e.sort(Zcr),e},Kcr={};Object.keys(MY).forEach(e=>{Kcr[e]=!1});var Sze=({georeferenceMode:e,mosaicMode:t})=>{let[r,n]=Pn(Ih),i=(0,o_.useMemo)(()=>{let f=nt({},MY);return t&&(delete f.MM,delete f.VM),f},[t]),o=(0,o_.useMemo)(()=>Ycr(),[]),u=f=>{n(m=>{let{facets:y,georeference:w}=m;if(f==="ToGeoref")return{facets:y,georeference:!w};{let I=y.slice(),M=I.findIndex(N=>N.id===f);if(M>-1)I.splice(M,1);else{let[N,z]=i[f].split("-");I.push({key:N,value:z,id:f})}return{facets:I,georeference:w}}})};return o_.default.createElement("ul",{className:"search-facet"},o.map(({key:f,title:m})=>o_.default.createElement(wze,{checked:r.facets.findIndex(y=>y.id===f)!==-1,key:f,georeferenceMode:e,onClick:u,id:f,title:m})))};Sze.propTypes={georeferenceMode:TY.default.bool,mosaicMode:TY.default.bool};var Ize=Sze;var lN=Ize;var Mf=se(He(),1);var eK=se(Wt(),1);var so=se(He(),1),Qs=se(Wt(),1);function Br(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Eze=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function Xcr(e,t){return!!(e===t||Eze(e)&&Eze(t))}function Qcr(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!Xcr(e[r],t[r]))return!1;return!0}function Jcr(e,t){t===void 0&&(t=Qcr);var r,n=[],i,o=!1;function u(){for(var f=[],m=0;m<arguments.length;m++)f[m]=arguments[m];return o&&r===this&&t(f,n)||(i=e.apply(this,f),o=!0,r=this,n=f),i}return u}var uN=Jcr;var s_=se(He());var epr=typeof performance=="object"&&typeof performance.now=="function",Tze=epr?function(){return performance.now()}:function(){return Date.now()};function Mze(e){cancelAnimationFrame(e.id)}function tpr(e,t){var r=Tze();function n(){Tze()-r>=t?e.call(null):i.id=requestAnimationFrame(n)}var i={id:requestAnimationFrame(n)};return i}var CY=-1;function Cze(e){if(e===void 0&&(e=!1),CY===-1||e){var t=document.createElement("div"),r=t.style;r.width="50px",r.height="50px",r.overflow="scroll",document.body.appendChild(t),CY=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return CY}var a_=null;function Aze(e){if(e===void 0&&(e=!1),a_===null||e){var t=document.createElement("div"),r=t.style;r.width="50px",r.height="50px",r.overflow="scroll",r.direction="rtl";var n=document.createElement("div"),i=n.style;return i.width="100px",i.height="100px",t.appendChild(n),document.body.appendChild(t),t.scrollLeft>0?a_="positive-descending":(t.scrollLeft=1,t.scrollLeft===0?a_="negative":a_="positive-ascending"),document.body.removeChild(t),a_}return a_}var rpr=150,npr=function(t,r){return t};function ipr(e){var t,r=e.getItemOffset,n=e.getEstimatedTotalSize,i=e.getItemSize,o=e.getOffsetForIndexAndAlignment,u=e.getStartIndexForOffset,f=e.getStopIndexForStartIndex,m=e.initInstanceProps,y=e.shouldResetStyleCacheOnItemSizeChange,w=e.validateProps;return t=function(I){aO(M,I);function M(z){var F;return F=I.call(this,z)||this,F._instanceProps=m(F.props,Br(F)),F._outerRef=void 0,F._resetIsScrollingTimeoutId=null,F.state={instance:Br(F),isScrolling:!1,scrollDirection:"forward",scrollOffset:typeof F.props.initialScrollOffset=="number"?F.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},F._callOnItemsRendered=void 0,F._callOnItemsRendered=uN(function(q,R,U,Y){return F.props.onItemsRendered({overscanStartIndex:q,overscanStopIndex:R,visibleStartIndex:U,visibleStopIndex:Y})}),F._callOnScroll=void 0,F._callOnScroll=uN(function(q,R,U){return F.props.onScroll({scrollDirection:q,scrollOffset:R,scrollUpdateWasRequested:U})}),F._getItemStyle=void 0,F._getItemStyle=function(q){var R=F.props,U=R.direction,Y=R.itemSize,re=R.layout,de=F._getItemStyleCache(y&&Y,y&&re,y&&U),ce;if(de.hasOwnProperty(q))ce=de[q];else{var Se=r(F.props,q,F._instanceProps),qe=i(F.props,q,F._instanceProps),Re=U==="horizontal"||re==="horizontal",Te=U==="rtl",Ee=Re?Se:0;de[q]=ce={position:"absolute",left:Te?void 0:Ee,right:Te?Ee:void 0,top:Re?0:Se,height:Re?"100%":qe,width:Re?qe:"100%"}}return ce},F._getItemStyleCache=void 0,F._getItemStyleCache=uN(function(q,R,U){return{}}),F._onScrollHorizontal=function(q){var R=q.currentTarget,U=R.clientWidth,Y=R.scrollLeft,re=R.scrollWidth;F.setState(function(de){if(de.scrollOffset===Y)return null;var ce=F.props.direction,Se=Y;if(ce==="rtl")switch(Aze()){case"negative":Se=-Y;break;case"positive-descending":Se=re-U-Y;break}return Se=Math.max(0,Math.min(Se,re-U)),{isScrolling:!0,scrollDirection:de.scrollOffset<Se?"forward":"backward",scrollOffset:Se,scrollUpdateWasRequested:!1}},F._resetIsScrollingDebounced)},F._onScrollVertical=function(q){var R=q.currentTarget,U=R.clientHeight,Y=R.scrollHeight,re=R.scrollTop;F.setState(function(de){if(de.scrollOffset===re)return null;var ce=Math.max(0,Math.min(re,Y-U));return{isScrolling:!0,scrollDirection:de.scrollOffset<ce?"forward":"backward",scrollOffset:ce,scrollUpdateWasRequested:!1}},F._resetIsScrollingDebounced)},F._outerRefSetter=function(q){var R=F.props.outerRef;F._outerRef=q,typeof R=="function"?R(q):R!=null&&typeof R=="object"&&R.hasOwnProperty("current")&&(R.current=q)},F._resetIsScrollingDebounced=function(){F._resetIsScrollingTimeoutId!==null&&Mze(F._resetIsScrollingTimeoutId),F._resetIsScrollingTimeoutId=tpr(F._resetIsScrolling,rpr)},F._resetIsScrolling=function(){F._resetIsScrollingTimeoutId=null,F.setState({isScrolling:!1},function(){F._getItemStyleCache(-1,null)})},F}M.getDerivedStateFromProps=function(F,q){return opr(F,q),w(F),null};var N=M.prototype;return N.scrollTo=function(F){F=Math.max(0,F),this.setState(function(q){return q.scrollOffset===F?null:{scrollDirection:q.scrollOffset<F?"forward":"backward",scrollOffset:F,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},N.scrollToItem=function(F,q){q===void 0&&(q="auto");var R=this.props,U=R.itemCount,Y=R.layout,re=this.state.scrollOffset;F=Math.max(0,Math.min(F,U-1));var de=0;if(this._outerRef){var ce=this._outerRef;Y==="vertical"?de=ce.scrollWidth>ce.clientWidth?Cze():0:de=ce.scrollHeight>ce.clientHeight?Cze():0}this.scrollTo(o(this.props,F,q,re,this._instanceProps,de))},N.componentDidMount=function(){var F=this.props,q=F.direction,R=F.initialScrollOffset,U=F.layout;if(typeof R=="number"&&this._outerRef!=null){var Y=this._outerRef;q==="horizontal"||U==="horizontal"?Y.scrollLeft=R:Y.scrollTop=R}this._callPropsCallbacks()},N.componentDidUpdate=function(){var F=this.props,q=F.direction,R=F.layout,U=this.state,Y=U.scrollOffset,re=U.scrollUpdateWasRequested;if(re&&this._outerRef!=null){var de=this._outerRef;if(q==="horizontal"||R==="horizontal"){if(q==="rtl")switch(Aze()){case"negative":de.scrollLeft=-Y;break;case"positive-ascending":de.scrollLeft=Y;break;default:var ce=de.clientWidth,Se=de.scrollWidth;de.scrollLeft=Se-ce-Y;break}else de.scrollLeft=Y;}else de.scrollTop=Y}this._callPropsCallbacks()},N.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&Mze(this._resetIsScrollingTimeoutId)},N.render=function(){var F=this.props,q=F.children,R=F.className,U=F.direction,Y=F.height,re=F.innerRef,de=F.innerElementType,ce=F.innerTagName,Se=F.itemCount,qe=F.itemData,Re=F.itemKey,Te=Re===void 0?npr:Re,Ee=F.layout,Ne=F.outerElementType,_e=F.outerTagName,ze=F.style,st=F.useIsScrolling,at=F.width,At=this.state.isScrolling,Qe=U==="horizontal"||Ee==="horizontal",Dt=Qe?this._onScrollHorizontal:this._onScrollVertical,Ut=this._getRangeToRender(),Zt=Ut[0],Xe=Ut[1],lt=[];if(Se>0)for(var yt=Zt;yt<=Xe;yt++)lt.push((0,s_.createElement)(q,{data:qe,key:Te(yt,qe),index:yt,isScrolling:st?At:void 0,style:this._getItemStyle(yt)}));var Fe=n(this.props,this._instanceProps);return(0,s_.createElement)(Ne||_e||"div",{className:R,onScroll:Dt,ref:this._outerRefSetter,style:dn({position:"relative",height:Y,width:at,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:U},ze)},(0,s_.createElement)(de||ce||"div",{children:lt,ref:re,style:{height:Qe?"100%":Fe,pointerEvents:At?"none":void 0,width:Qe?Fe:"100%"}}))},N._callPropsCallbacks=function(){if(typeof this.props.onItemsRendered=="function"){var F=this.props.itemCount;if(F>0){var q=this._getRangeToRender(),R=q[0],U=q[1],Y=q[2],re=q[3];this._callOnItemsRendered(R,U,Y,re)}}if(typeof this.props.onScroll=="function"){var de=this.state,ce=de.scrollDirection,Se=de.scrollOffset,qe=de.scrollUpdateWasRequested;this._callOnScroll(ce,Se,qe)}},N._getRangeToRender=function(){var F=this.props,q=F.itemCount,R=F.overscanCount,U=this.state,Y=U.isScrolling,re=U.scrollDirection,de=U.scrollOffset;if(q===0)return[0,0,0,0];var ce=u(this.props,de,this._instanceProps),Se=f(this.props,ce,de,this._instanceProps),qe=!Y||re==="backward"?Math.max(1,R):1,Re=!Y||re==="forward"?Math.max(1,R):1;return[Math.max(0,ce-qe),Math.max(0,Math.min(q-1,Se+Re)),ce,Se]},M}(s_.PureComponent),t.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},t}var opr=function(t,r){var n=t.children,i=t.direction,o=t.height,u=t.layout,f=t.innerTagName,m=t.outerTagName,y=t.width,w=r.instance;if(0)var I};var Pze=ipr({getItemOffset:function(t,r){var n=t.itemSize;return r*n},getItemSize:function(t,r){var n=t.itemSize;return n},getEstimatedTotalSize:function(t){var r=t.itemCount,n=t.itemSize;return n*r},getOffsetForIndexAndAlignment:function(t,r,n,i,o,u){var f=t.direction,m=t.height,y=t.itemCount,w=t.itemSize,I=t.layout,M=t.width,N=f==="horizontal"||I==="horizontal",z=N?M:m,F=Math.max(0,y*w-z),q=Math.min(F,r*w),R=Math.max(0,r*w-z+w+u);switch(n==="smart"&&(i>=R-z&&i<=q+z?n="auto":n="center"),n){case"start":return q;case"end":return R;case"center":{var U=Math.round(R+(q-R)/2);return U<Math.ceil(z/2)?0:U>F+Math.floor(z/2)?F:U}case"auto":default:return i>=R&&i<=q?i:i<R?R:q}},getStartIndexForOffset:function(t,r){var n=t.itemCount,i=t.itemSize;return Math.max(0,Math.min(n-1,Math.floor(r/i)))},getStopIndexForStartIndex:function(t,r,n){var i=t.direction,o=t.height,u=t.itemCount,f=t.itemSize,m=t.layout,y=t.width,w=i==="horizontal"||m==="horizontal",I=r*f,M=w?y:o,N=Math.ceil((M+n-I)/f);return Math.max(0,Math.min(u-1,r+N-1))},initInstanceProps:function(t){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(t){var r=t.itemSize}});var Dze=se(He());function apr(e){var t=e.lastRenderedStartIndex,r=e.lastRenderedStopIndex,n=e.startIndex,i=e.stopIndex;return!(n>r||i<t)}function spr(e){for(var t=e.isItemLoaded,r=e.itemCount,n=e.minimumBatchSize,i=e.startIndex,o=e.stopIndex,u=[],f=null,m=null,y=i;y<=o;y++){var w=t(y);w?m!==null&&(u.push(f,m),f=m=null):(m=y,f===null&&(f=y))}if(m!==null){for(var I=Math.min(Math.max(m,f+n-1),r-1),M=m+1;M<=I&&!t(M);M++)m=M;u.push(f,m)}if(u.length)for(;u[1]-u[0]+1<n&&u[0]>0;){var N=u[0]-1;if(!t(N))u[0]=N;else break}return u}var lpr=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},upr=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),cpr=function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},Oze=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e},ppr=function(e){cpr(t,e);function t(){var r,n,i,o;lpr(this,t);for(var u=arguments.length,f=Array(u),m=0;m<u;m++)f[m]=arguments[m];return o=(n=(i=Oze(this,(r=t.__proto__||Object.getPrototypeOf(t)).call.apply(r,[this].concat(f))),i),i._lastRenderedStartIndex=-1,i._lastRenderedStopIndex=-1,i._memoizedUnloadedRanges=[],i._onItemsRendered=function(y){var w=y.visibleStartIndex,I=y.visibleStopIndex;i._lastRenderedStartIndex=w,i._lastRenderedStopIndex=I,i._ensureRowsLoaded(w,I)},i._setRef=function(y){i._listRef=y},n),Oze(i,o)}return upr(t,[{key:"resetloadMoreItemsCache",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this._memoizedUnloadedRanges=[],n&&this._ensureRowsLoaded(this._lastRenderedStartIndex,this._lastRenderedStopIndex)}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var n=this.props.children;return n({onItemsRendered:this._onItemsRendered,ref:this._setRef})}},{key:"_ensureRowsLoaded",value:function(n,i){var o=this.props,u=o.isItemLoaded,f=o.itemCount,m=o.minimumBatchSize,y=m===void 0?10:m,w=o.threshold,I=w===void 0?15:w,M=spr({isItemLoaded:u,itemCount:f,minimumBatchSize:y,startIndex:Math.max(0,n-I),stopIndex:Math.min(f-1,i+I)});(this._memoizedUnloadedRanges.length!==M.length||this._memoizedUnloadedRanges.some(function(N,z){return M[z]!==N}))&&(this._memoizedUnloadedRanges=M,this._loadUnloadedRanges(M))}},{key:"_loadUnloadedRanges",value:function(n){for(var i=this,o=this.props.loadMoreItems||this.props.loadMoreRows,u=function(y){var w=n[y],I=n[y+1],M=o(w,I);M!=null&&M.then(function(){if(apr({lastRenderedStartIndex:i._lastRenderedStartIndex,lastRenderedStopIndex:i._lastRenderedStopIndex,startIndex:w,stopIndex:I})){if(i._listRef==null)return;typeof i._listRef.resetAfterIndex=="function"?i._listRef.resetAfterIndex(w,!0):(typeof i._listRef._getItemStyleCache=="function"&&i._listRef._getItemStyleCache(-1),i._listRef.forceUpdate())}})},f=0;f<n.length;f+=2)u(f)}}]),t}(Dze.PureComponent),Nze=ppr;var tv=se(He(),1);var cN=se(Wt(),1);var fpr={time_period_start:"mapsearch-time",title:"mapsearch-title",map_scale:"mapsearch-map_scale",georeference:"mapsearch-georeference"},kze=({onClick:e,sortOrder:t,type:r})=>{let n=()=>{e(r)},i=u=>{u.keyCode===13&&n()},o=(0,tv.useMemo)(()=>{let u=fpr[r];return gt(u)},[r]);return tv.default.createElement("div",{className:_r("inner-col",r)},tv.default.createElement("div",{className:_r("sort-element",r,t),onClick:n,onKeyDown:i,tabIndex:0},o,tv.default.createElement("span",{className:"caret-container"},tv.default.createElement("span",{className:"caret caret-reversed"}))))};kze.propTypes={onClick:cN.default.func,sortOrder:cN.default.string,type:cN.default.string};var Lze=kze;var vje=se(He(),1);var CI=se(He(),1);var Tn=se(He(),1),xl=se(Wt(),1);var MI=se(KY(),1);var u_=(e,t)=>e.findIndex(r=>r.getId()===t.getId())!==-1,cfr="http://www.deutschefotothek.de/images/noimage/image120.jpg",XY=e=>e.getType()===Ba.VECTOR_MAP?Nr.getSettings().FALLBACK_THUMBNAIL:cfr,cje=e=>{let t=e.getMetadata(Bt.thumbnailUrl);return!zt(t)||t===""?XY(e):t.replace("http:","")};var pje=({children:e,data:t,index:r,onClick:n,onMouseEnter:i,onMouseLeave:o,style:u})=>{var Re;let{direction:f,maps:m}=t,y=(Re=m[r])!=null?Re:ap,w=yr(Zs),[I,M]=(0,Tn.useState)(!1),{displayTime:N,sortTime:z}=(0,Tn.useMemo)(()=>({displayTime:y.getDisplayTime(),sortTime:y.getSortTime()}),[y]),F=(0,Tn.useMemo)(()=>cje(y),[y]),q=(0,Tn.useMemo)(()=>XY(y),[y]),R=()=>{n(y)},U=Te=>{Te.key==="Enter"&&R()},Y=(0,Tn.useCallback)(()=>{F!==""&&F!==q&&M(!0)},[F,q]);(0,Tn.useEffect)(()=>{M(!1)},[y.getId()]);let re=y===ap,de=u_(w,y)&&!re,ce=y.getMetadata(Bt.mapScale)==="0"||y.getMetadata(Bt.mapScale)===0?gt("mapsearch-listelement-unknown"):`1:${y.getMetadata(Bt.mapScale)}`,Se=y.getMetadata(Bt.type)===Ba.MOSAIC_MAP,qe=y.getMetadata(Bt.type)===Ba.VECTOR_MAP;return Tn.default.createElement("li",{tabIndex:0,style:u,className:_r("vkf-mapsearch-record",y.getMetadata(Bt.type),de&&"selected",f,re&&"loading"),id:y.getMetadata(Bt.id),onClick:re?void 0:R,onKeyDown:re?void 0:U,onMouseEnter:i,onMouseLeave:o},e,Tn.default.createElement("span",{className:"data-col time"},isNaN(z)?"":z),Tn.default.createElement("span",{className:"data-col title"},y.getMetadata(Bt.title)),Tn.default.createElement("span",{className:"data-col time"},"1"),Tn.default.createElement("div",{className:"view-item"},Tn.default.createElement("span",{className:"thumbnail",href:"#"},re?Tn.default.createElement(MI.default.default,{height:"calc(100% - 6px)"}):Tn.default.createElement(Tn.default.Fragment,null,Tn.default.createElement("img",{alt:`Thumbnail Image of Map ${y.getMetadata(Bt.title)} ${N}`,onError:Y,src:I?q:F}),Se&&Tn.default.createElement("span",{className:_r("mosaic-badge",de&&"selected")},gt("mosaic-badge-title")),qe&&Tn.default.createElement("span",{className:_r("vector-badge",de&&"selected")},gt("vector-badge-title"))),de&&Tn.default.createElement("span",{className:"badge selected-badge"},Tn.default.createElement("span",{className:"glyphicon glyphicon-ok"})," ")),Tn.default.createElement("div",{className:"overview"},Tn.default.createElement("h2",null,re?Tn.default.createElement(MI.default.default,null):y.getMetadata(Bt.title)),Tn.default.createElement("div",{className:"details"},Tn.default.createElement("div",{className:"timestamp"},re?Tn.default.createElement(MI.default.default,null):`${gt("mapsearch-listelement-time")} ${N}`),!qe&&Tn.default.createElement("div",{className:"scale"},re?Tn.default.createElement(MI.default.default,null):`${gt("mapsearch-listelement-scale")} ${ce}`),!y.getMetadata(Bt.hasGeoReference)&&Tn.default.createElement("div",{className:"georeference"},gt("mapsearch-listelement-no-georef"))))))};pje.propTypes={children:xl.default.element,data:xl.default.shape({direction:xl.default.oneOf(["horizontal","vertical"]),feature:xl.default.object,is3d:xl.default.bool,maps:xl.default.object,selected:xl.default.bool}),onClick:xl.default.func,onMouseEnter:xl.default.func,onMouseLeave:xl.default.func,index:xl.default.number,style:xl.default.object};var QY=pje;var fje=e=>{var m;let{data:t,index:r}=e,{maps:n}=t,i=yr(Rn),o=(m=n[r])!=null?m:ap,u=(0,CI.useCallback)(()=>{zt(i)&&YG(i,o.getPreviewFeature())},[i,o]),f=(0,CI.useCallback)(()=>{zt(i)&&YG(i,{type:"FeatureCollection",features:[]})},[i,o]);return CI.default.createElement(QY,nt({onMouseEnter:u,onMouseLeave:f},e))};fje.propTypes=nt({},QY.propTypes);var JY=fje;var dje=se(gh(),1);var pfr=e=>kn(null,null,function*(){var t;try{let r=yield dje.default.get(`${e}/tilemapresource.xml`),n=new DOMParser().parseFromString(r.data,"text/xml"),i=n.getElementsByTagName("BoundingBox")[0],o=[i.getAttribute("minx"),i.getAttribute("miny"),i.getAttribute("maxx"),i.getAttribute("maxy")].map(parseFloat),u=n.getElementsByTagName("TileSet"),f=(t=parseInt(n.getElementsByTagName("TileFormat")[0].getAttribute("width")))!=null?t:256;return{bounds:o,maxZoom:u.length-1,tileSize:f}}catch(r){return console.error("Error fetching or parsing XML:",r),null}}),c_=e=>kn(null,null,function*(){let t=e.getMetadata(Bt.tmsUrls),r=e.getMetadata(Bt.onlineResources).find(o=>o.type==="WMS").url,n=Array.isArray(t)&&t.length>0,i;if(n){let{maxZoom:o,bounds:u,tileSize:f}=yield pfr(t[0]);i={bounds:u,tileSize:f,maxzoom:o,tiles:t.map(m=>`${m}/{z}/{x}/{y}.png`),scheme:"tms"}}else i={tiles:(yield nN(r))[0].urls};return i});var hje=e=>kn(null,null,function*(){let t=Nr.getGeoreferenceApiClient(),r=`/vector_maps/${e}`;return(yield t.get(r)).data});var mje=se(gh(),1);var ffr=e=>kn(null,null,function*(){let t=e.getMetadata(Bt.externalContentUrl),r={accept:"application/json"},n=yield mje.default.get(t,{headers:r}),i=Bg.toApplicationState(n.data);e.setGeoJson(i)}),dfr=e=>kn(null,null,function*(){let t=yield hje(e.getMetadata(Bt.vectorMapId));e.updateMetadata(Bt.userRole,t[Bt.userRole]),e.updateMetadata(Bt.version,t[Bt.version]);let r=Bg.toApplicationState(t.geojson);e.setGeoJson(r)}),gje=e=>kn(null,null,function*(){if(e.isExternalVectorMap()){yield ffr(e);return}yield dfr(e)});var hfr=()=>vG(({snapshot:e,set:t})=>r=>kn(null,null,function*(){let n=yield e.getPromise(Zs),i=yield e.getPromise(Rn);t(EH,void 0);let o=n.find(f=>f.getId()===r.getId());if(o){t(Zs,n.filter(f=>f.getId()!==r.getId())),o.removeMapLibreLayers(i);return}if(r.getMetadata(Bt.type)===Ba.VECTOR_MAP)yield gje(r),r.addLayerToMap(i),t(Zs,f=>f.concat(r));else{let f=yield c_(r);r.addLayerToMap(i,{sourceSettings:f}),t(Zs,m=>m.concat(r))}})),yje=e=>{let t=hfr();return vje.default.createElement(JY,nt({onClick:t},e))};yje.propTypes=nt({},JY.propTypes);var AI=yje;var mfr=["map_scale","time_period_start","title","georeference"],ap=new kg({metadata:{has_georeference:!0,map_scale:"0",thumb_url:"",[Bt.timePeriod]:[],title:"Loading"}}),mN=({direction:e="vertical",itemSize:t=110,ListItemComponent:r=AI,minimumBatchSize:n,onFetchResults:i,onUpdateSortType:o,renderHeader:u=!0,searchResultDescriptor:{itemCount:f,id:m},sortSettings:y})=>{let{activeType:w,sortOrder:I}=y,M=yr(nke),[N,z]=(0,so.useState)({}),F=(0,so.useRef)(!1),q=(0,so.useRef)(),R=(0,so.useRef)(),{height:U,width:Y}=jH(R),re=(0,so.useCallback)(ce=>!F.current&&N[ce]!==void 0&&N[ce]!==ap,[N]),de=(0,so.useCallback)((ce,Se)=>{if(ce!==void 0&&Se!==void 0){let qe=Se-ce+1;return i(ce,qe).then(Re=>{Re&&z(Te=>{let Ee=F.current?{}:Object.assign({},Te);return F.current=!1,Re.forEach((Ne,_e)=>{Ee[ce+_e]=Ne}),Ee})})}},[i]);return(0,so.useEffect)(()=>{ap.updateMetadata("title",gt("mapsearch-listelement-loading"))},[]),(0,so.useEffect)(()=>{F.current=!0,q.current.resetloadMoreItemsCache(!0)},[m]),so.default.createElement("div",{className:_r("vkf-mapsearch-result-list",e)},u&&so.default.createElement("div",{className:"list-header"},so.default.createElement("strong",{className:"list-label"},gt("mapsearch-sorting"),":"),so.default.createElement("div",{className:"inner-columns"},mfr.map(ce=>so.default.createElement(Lze,{key:ce,onClick:o,sortOrder:w===ce?I:"",type:ce})))),so.default.createElement("div",{className:"mapsearch-contentlist-container",ref:R},so.default.createElement(Nze,{isItemLoaded:re,itemCount:f,loadMoreItems:de,minimumBatchSize:n,ref:q},({onItemsRendered:ce,ref:Se})=>so.default.createElement(Pze,{height:U,innerElementType:"ul",itemCount:f,itemSize:t,itemData:{direction:e,maps:N,is3d:M},layout:e,onItemsRendered:ce,ref:Se,width:Y},r))))};mN.propTypes={direction:Qs.default.oneOf(["horizontal","vertical"]),itemSize:Qs.default.number,minimumBatchSize:Qs.default.number,ListItemComponent:Qs.default.elementType,renderHeader:Qs.default.bool,onFetchResults:Qs.default.func,onUpdateSortType:Qs.default.func,searchResultDescriptor:Qs.default.shape({id:Qs.default.number,itemCount:Qs.default.number}),sortSettings:Qs.default.shape({activeType:Qs.default.string,sortOrder:Qs.default.string})};var gfr="title",PI={ASCENDING:"ascending",DESCENDING:"descending"},_je=i=>{var o=i,{customQuery:e,DataProvider:t,enableOverlayLayer:r=!0}=o,n=zn(o,["customQuery","DataProvider","enableOverlayLayer"]);let[u,f]=(0,Mf.useState)({activeType:gfr,sortOrder:PI.ASCENDING}),{activeType:m,sortOrder:y}=u,w=M=>{let N=M===m&&y===PI.ASCENDING?PI.DESCENDING:PI.ASCENDING;f({sortOrder:N,activeType:M})};return Mf.default.createElement(Mf.Fragment,null,r&&Mf.default.createElement(SDe,{sortSettings:u}),Mf.default.createElement(t,{customQuery:e,renderConsumer:M=>Mf.default.createElement(mN,nt(nt({onUpdateSortType:w,sortSettings:u},n),M)),sortSettings:u}))};_je.propTypes=nt({DataProvider:eK.default.elementType.isRequired,enableOverlayLayer:eK.default.bool},mN.propTypes);var gN=_je;var rK=se(He(),1),nK=se(Wt(),1);var tK=se(He(),1),vN=se(Wt(),1);var bje=({name:e,color:t,size:r})=>tK.default.createElement("svg",{viewBox:"0 0 24 24",className:`icon ${e}`,fill:t,width:r,height:r},tK.default.createElement("use",{xlinkHref:`${Nr.getSettings().ICON_SPRITE}#${e}`}));bje.propTypes={name:vN.default.string.isRequired,color:vN.default.string,size:vN.default.number};var p_=bje;var xje=({onClick:e,isOpen:t})=>{let r=yr(Ih);return rK.default.createElement("button",{className:_r("vkf-toggle-facets",r.facets.length>0&&"active"),onClick:e,title:gt(`mapsearch-facetedsearch-${t?"close":"open"}`)},rK.default.createElement(p_,{name:"icon-filter"}))};xje.propTypes={isOpen:nK.default.bool,onClick:nK.default.func};var wje=xje;var Ka=se(He(),1),Rh=se(Wt(),1);var aK=se(gh(),1);function Sje(e,t){return e[0]==t[0]&&e[2]==t[2]&&e[1]==t[1]&&e[3]==t[3]}var vfr=function(e){let t=[],r={bool:{should:t}};for(let n=0;n<e.length;n++){let i=e[n],o={term:{}};o.term[i.key]=i.value.toLowerCase(),t.push(o)}return r},Ije=function(e,t){return{aggs:{minYear:{min:{field:e}},maxYear:{max:{field:t}}}}},Eje=function({timePeriodStartFieldName:e,timePeriodEndFieldName:t,timeValues:r,bboxFieldName:n,bboxPolygon:i,sortFieldName:o,sortValue:u,facets:f,customQueryExtension:m}){let[y,w]=r;return{query:{bool:{filter:[{range:{[e]:{lte:w}}},{range:{[t]:{gte:y}}},{geo_shape:{[n]:{relation:"intersects",shape:{type:"envelope",coordinates:i}}}},vfr(f),{term:{has_georeference:!0}},...(m||[])],must:[{match_all:{}}]}},sort:{[o]:{order:u}}}};var iK=function(e,t){let r="geometry"in t?t.geometry:void 0,n=[t.time_period_start,t.time_period_end];delete t.geometry,delete t.time_period_start,delete t.time_period_end;let i=nt({},t);return i.id=e,i[Bt.timePeriod]=n,i.type===Ba.VECTOR_MAP?(i[Bt.vectorMapId]=e,Bg.fromPersistence({geometry:r,metadata:i,geoJson:structuredClone(tH)})):new kg({metadata:i,geometry:r})},Tje=function(e){let t=[];for(let r=0,n=e.length;r<n;r++)t.push(iK(e[r]._id,e[r]._source));return t},yN=e=>{let n=e,{time_of_publication:t}=n,r=zn(n,["time_of_publication"]);return nt({time_of_publication:parseInt(t.split("-")[0])},r)},oK=e=>{let n=e,{time_of_publication:t}=n,r=zn(n,["time_of_publication"]);return nt({time_of_publication:`${t}-01-01T00:00:00`},r)};var _N={height:15,width:15},Mje={height:15,width:0},yfr={width:340},_fr={width:340},Cje=(e,t)=>{let{map:r}=e,n,i,o,u;return t===yh.VERTICAL?(n=0,i=r.height,o=r.width,u=0):(n=0+yfr.width+_N.width,i=r.height-Mje.height-_N.height,o=r.width-_fr.width-_N.width,u=Mje.height+_N.height),[[n,i],[n,u],[o,i],[o,u]]},Aje=(e,t=[[-180,85.06],[180,-85.06]])=>{let[[r,n],[i,o]]=e,[[u,f],[m,y]]=t;return[[Math.max(u,r),Math.min(n,f)],[Math.min(m,i),Math.max(o,y)]]};var Pje=se(a1(),1),Oje=({customQuery:e,minimumBatchSize:t=20,renderConsumer:r,sortSettings:n})=>{let{activeType:i,sortOrder:o}=n,u=yr(CP),{facets:f}=yr(Ih),m=yr(rke),y=yr(Rn),[w,I]=(0,Ka.useState)(void 0),M=ki(PP),N=ki(AP),[z,F]=Pn(DP),[q,R]=Pn(OP),[U,Y]=(0,Ka.useState)({itemCount:10,id:Date.now()}),de=Nr.getSettings().API_SEARCH,ce=(0,Ka.useCallback)(Ee=>{let Ne=o==="ascending"?"asc":"desc",_e=Aje([[Ee[0],Ee[3]],[Ee[2],Ee[1]]]);return Eje({timePeriodStartFieldName:"time_period_start",timePeriodEndFieldName:"time_period_end",timeValues:[`${q[0]}-01-01`,`${q[1]}-12-31`],bboxFieldName:"geometry",bboxPolygon:_e,sortFieldName:i,sortValue:Ne,facets:f,customQueryExtension:e})},[f,i,o,q]),Se=(0,Ka.useCallback)((Ee,Ne,_e=!1)=>{if(w===void 0)return M(!1),new Promise(at=>at([]));let ze=ce(w,"ESPG:4326"),st=de+"/_search?from="+Ee+"&size="+Ne;return M(!0),aK.default.post(st,ze).then(at=>{if(at.status===200){let At=at.data;return _e?At:Tje(At.hits.hits)}}).catch(at=>{console.warn(at)}).finally(()=>{M(!1)})},[ce,w]),qe=(0,Ka.useCallback)(()=>{Se(0,0,!0).then(Ee=>{let Ne=Ee.hits.total.value;N(Ne),Y({itemCount:Ne,id:Date.now()})})},[Se]),Re=Cke(qe,30),Te=(0,Ka.useCallback)(()=>{if(zt(y)){let Ee=Cje(u,m),Ne=new Pje.LngLatBounds;Ee.forEach(ze=>{let st=y.unproject(ze);Ne.extend(st)});let _e=Ne.toArray().flat();(w===void 0||!Sje(_e,w))&&I(_e)}},[y,w,u]);return(0,Ka.useEffect)(()=>{if(zt(y))return y.on("moveend",Te),()=>{y.off("moveend",Te)}},[y,Te]),(0,Ka.useEffect)(()=>{Re()},[f,qe,w,i,o,q]),(0,Ka.useEffect)(()=>{Te()},[u,y]),(0,Ka.useEffect)(()=>{let Ee=`${de}/_search?`,Ne=Ije("time_period_start","time_period_end");aK.default.post(Ee,Ne,{}).then(_e=>{if(_e.status===200){let ze=_e.data,st=new Date(ze.aggregations.maxYear.value),At=[new Date(ze.aggregations.minYear.value).getUTCFullYear(),st.getUTCFullYear()];(z===void 0||TH===z||At[0]!==z[0]||At[1]!==z[1])&&(F(At),R(At))}})},[]),Ka.default.createElement(Ka.default.Fragment,null,r({minimumBatchSize:t,onRefresh:qe,onFetchResults:Se,searchResultDescriptor:U}))};Oje.propTypes={customQuery:Rh.default.array,minimumBatchSize:Rh.default.number,projection:Rh.default.string,renderConsumer:Rh.default.func,sortSettings:Rh.default.shape({activeType:Rh.default.string,sortOrder:Rh.default.string})};var Dje=Oje;var bN=se(Wt(),1);var Nje=({customQuery:e,MapSearchListItemComponent:t,mosaicMode:r})=>{let[n,i]=Pn(Ih),[o,u]=(0,xo.useState)(!1),[f,m]=(0,xo.useState)(!1),y=yr(PP),w=yr(AP),I=()=>{u(N=>!N)},M=()=>{i(tke)};return(0,xo.useEffect)(()=>{m(y)},[y]),xo.default.createElement("div",{className:_r("mapsearch-container",o&&"facetedsearch-open")},xo.default.createElement("div",{className:"panel panel-default searchTablePanel"},xo.default.createElement("div",{className:"panel-heading"},xo.default.createElement("div",{className:"content"},xo.default.createElement("div",null,w===0?gt("mapsearch-found-no-maps"):`${w} ${gt("mapsearch-found-maps")}`),n.facets.length>0&&xo.default.createElement("button",{className:"remove-filter",onClick:M},xo.default.createElement(p_,{name:"icon-filter"})),f&&xo.default.createElement("div",{className:"loading-spinner"},xo.default.createElement(n_,null)),xo.default.createElement(wje,{onClick:I,isOpen:o})),xo.default.createElement("div",{className:"facet-container"},xo.default.createElement(lN,{georeferenceMode:!1,mosaicMode:r}))),xo.default.createElement("div",{className:"panel-body"},xo.default.createElement(gN,{customQuery:e,DataProvider:Dje,ListItemComponent:t}))))};Nje.propTypes={customQuery:bN.default.array,MapSearchListItemComponent:bN.default.elementType,mosaicMode:bN.default.bool};var kje=Nje;var xk=se(He(),1);var Zn=se(He(),1),fp=se(Wt(),1);function Mn(e){"@babel/helpers - typeof";return Mn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mn(e)}function Lje(e,t){if(Mn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Mn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xN(e){var t=Lje(e,"string");return Mn(t)=="symbol"?t:t+""}function Tt(e,t,r){return(t=xN(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rje(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ot(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Rje(Object(r),!0).forEach(function(n){Tt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rje(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qje(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,xN(n.key),n)}}function Qa(e,t,r){return t&&qje(e.prototype,t),r&&qje(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ja(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&R1(e,t)}function ic(e){return ic=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ic(e)}function sK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(sK=function(){return!!e})()}function zje(e,t){if(t&&(Mn(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Br(e)}function es(e){var t=sK();return function(){var r,n=ic(e);if(t){var i=ic(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return zje(this,r)}}var yK=se(He());var lK={},bfr=[],xfr=function(t){bfr.push(t)};function wfr(e,t){if(0)var r}function Sfr(e,t){if(0)var r}function Ifr(){lK={}}function jje(e,t,r){!t&&!lK[r]&&(e(!1,r),lK[r]=!0)}function wN(e,t){jje(wfr,e,t)}function Efr(e,t){jje(Sfr,e,t)}wN.preMessage=xfr;wN.resetWarned=Ifr;wN.noteOnce=Efr;var sp=wN;var Fje=se(He()),Tfr=function(t){var r,n,i=t.className,o=t.included,u=t.vertical,f=t.style,m=t.length,y=t.offset,w=t.reverse;m<0&&(w=!w,m=Math.abs(m),y=100-y);var I=u?(r={},Tt(r,w?"top":"bottom","".concat(y,"%")),Tt(r,w?"bottom":"top","auto"),Tt(r,"height","".concat(m,"%")),r):(n={},Tt(n,w?"right":"left","".concat(y,"%")),Tt(n,w?"left":"right","auto"),Tt(n,"width","".concat(m,"%")),n),M=Ot(Ot({},f),I);return o?Fje.default.createElement("div",{className:i,style:M}):null},SN=Tfr;function bs(e,t){if(e==null)return{};var r,n,i=k1(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function OI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Bje(e){if(Array.isArray(e))return OI(e)}function uK(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function DI(e,t){if(e){if(typeof e=="string")return OI(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?OI(e,t):void 0}}function Uje(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cu(e){return Bje(e)||uK(e)||DI(e)||Uje()}function Vje(e,t){for(;!{}.hasOwnProperty.call(e,t)&&(e=ic(e))!==null;);return e}function f_(){return f_=typeof Reflect!="undefined"&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=Vje(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(arguments.length<3?e:r):i.value}},f_.apply(null,arguments)}var h_=se(He());var cK=se(Gi());function xs(e,t,r,n){var i=cK.default.unstable_batchedUpdates?function(u){cK.default.unstable_batchedUpdates(r,u)}:r;return e!=null&&e.addEventListener&&e.addEventListener(t,i,n),{remove:function(){e!=null&&e.removeEventListener&&e.removeEventListener(t,i,n)}}}var Qje=se(tn());var pK=se(He()),$je=se(tn());var Mfr=function(t,r,n,i,o,u){sp(n?i>0:!0,"`Slider[step]` should be a positive number in order to make Slider[dots] work.");var f=Object.keys(r).map(parseFloat).sort(function(y,w){return y-w});if(n&&i)for(var m=o;m<=u;m+=i)f.indexOf(m)===-1&&f.push(m);return f},Cfr=function(t){var r=t.prefixCls,n=t.vertical,i=t.reverse,o=t.marks,u=t.dots,f=t.step,m=t.included,y=t.lowerBound,w=t.upperBound,I=t.max,M=t.min,N=t.dotStyle,z=t.activeDotStyle,F=I-M,q=Mfr(n,o,u,f,M,I).map(function(R){var U,Y="".concat(Math.abs(R-M)/F*100,"%"),re=!m&&R===w||m&&R<=w&&R>=y,de=n?Ot(Ot({},N),{},Tt({},i?"top":"bottom",Y)):Ot(Ot({},N),{},Tt({},i?"right":"left",Y));re&&(de=Ot(Ot({},de),z));var ce=(0,$je.default)((U={},Tt(U,"".concat(r,"-dot"),!0),Tt(U,"".concat(r,"-dot-active"),re),Tt(U,"".concat(r,"-dot-reverse"),i),U));return pK.default.createElement("span",{className:ce,style:de,key:R})});return pK.default.createElement("div",{className:"".concat(r,"-step")},q)},Gje=Cfr;var IN=se(He()),Hje=se(tn()),Afr=function(t){var r=t.className,n=t.vertical,i=t.reverse,o=t.marks,u=t.included,f=t.upperBound,m=t.lowerBound,y=t.max,w=t.min,I=t.onClickLabel,M=Object.keys(o),N=y-w,z=M.map(parseFloat).sort(function(F,q){return F-q}).map(function(F){var q,R=o[F],U=Mn(R)==="object"&&!IN.default.isValidElement(R),Y=U?R.label:R;if(!Y&&Y!==0)return null;var re=!u&&F===f||u&&F<=f&&F>=m,de=(0,Hje.default)((q={},Tt(q,"".concat(r,"-text"),!0),Tt(q,"".concat(r,"-text-active"),re),q)),ce=Tt({marginBottom:"-50%"},i?"top":"bottom","".concat((F-w)/N*100,"%")),Se=Tt({transform:"translateX(".concat(i?"50%":"-50%",")"),msTransform:"translateX(".concat(i?"50%":"-50%",")")},i?"right":"left","".concat((F-w)/N*100,"%")),qe=n?ce:Se,Re=U?Ot(Ot({},qe),R.style):qe;return IN.default.createElement("span",{className:de,style:Re,key:F,onMouseDown:function(Ee){return I(Ee,F)},onTouchStart:function(Ee){return I(Ee,F)}},Y)});return IN.default.createElement("div",{className:r},z)},Wje=Afr;var fK=se(He()),Zje=se(tn());var d_=function(e){Ja(r,e);var t=es(r);function r(){var n;return Xa(this,r),n=t.apply(this,arguments),n.state={clickFocused:!1},n.setHandleRef=function(i){n.handle=i},n.handleMouseUp=function(){document.activeElement===n.handle&&n.setClickFocus(!0)},n.handleMouseDown=function(i){i.preventDefault(),n.focus()},n.handleBlur=function(){n.setClickFocus(!1)},n.handleKeyDown=function(){n.setClickFocus(!1)},n}return Qa(r,[{key:"componentDidMount",value:function(){this.onMouseUpListener=xs(document,"mouseup",this.handleMouseUp)}},{key:"componentWillUnmount",value:function(){this.onMouseUpListener&&this.onMouseUpListener.remove()}},{key:"setClickFocus",value:function(i){this.setState({clickFocused:i})}},{key:"clickFocus",value:function(){this.setClickFocus(!0),this.focus()}},{key:"focus",value:function(){this.handle.focus()}},{key:"blur",value:function(){this.handle.blur()}},{key:"render",value:function(){var i,o,u=this.props,f=u.prefixCls,m=u.vertical,y=u.reverse,w=u.offset,I=u.style,M=u.disabled,N=u.min,z=u.max,F=u.value,q=u.tabIndex,R=u.ariaLabel,U=u.ariaLabelledBy,Y=u.ariaValueTextFormatter,re=bs(u,["prefixCls","vertical","reverse","offset","style","disabled","min","max","value","tabIndex","ariaLabel","ariaLabelledBy","ariaValueTextFormatter"]),de=(0,Zje.default)(this.props.className,Tt({},"".concat(f,"-handle-click-focused"),this.state.clickFocused)),ce=m?(i={},Tt(i,y?"top":"bottom","".concat(w,"%")),Tt(i,y?"bottom":"top","auto"),Tt(i,"transform",y?null:"translateY(+50%)"),i):(o={},Tt(o,y?"right":"left","".concat(w,"%")),Tt(o,y?"left":"right","auto"),Tt(o,"transform","translateX(".concat(y?"+":"-","50%)")),o),Se=Ot(Ot({},I),ce),qe=q||0;(M||q===null)&&(qe=null);var Re;return Y&&(Re=Y(F)),fK.default.createElement("div",dn({ref:this.setHandleRef,tabIndex:qe},re,{className:de,style:Se,onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,onMouseDown:this.handleMouseDown,role:"slider","aria-valuemin":N,"aria-valuemax":z,"aria-valuenow":F,"aria-disabled":!!M,"aria-label":R,"aria-labelledby":U,"aria-valuetext":Re}))}}]),r}(fK.default.Component);var Kje=se(Gi());var Or={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(t){var r=t.keyCode;if(t.altKey&&!t.ctrlKey||t.metaKey||r>=Or.F1&&r<=Or.F12)return!1;switch(r){case Or.ALT:case Or.CAPS_LOCK:case Or.CONTEXT_MENU:case Or.CTRL:case Or.DOWN:case Or.END:case Or.ESC:case Or.HOME:case Or.INSERT:case Or.LEFT:case Or.MAC_FF_META:case Or.META:case Or.NUMLOCK:case Or.NUM_CENTER:case Or.PAGE_DOWN:case Or.PAGE_UP:case Or.PAUSE:case Or.PRINT_SCREEN:case Or.RIGHT:case Or.SHIFT:case Or.UP:case Or.WIN_KEY:case Or.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(t){if(t>=Or.ZERO&&t<=Or.NINE||t>=Or.NUM_ZERO&&t<=Or.NUM_MULTIPLY||t>=Or.A&&t<=Or.Z||window.navigator.userAgent.indexOf("WebKit")!==-1&&t===0)return!0;switch(t){case Or.SPACE:case Or.QUESTION_MARK:case Or.NUM_PLUS:case Or.NUM_MINUS:case Or.NUM_PERIOD:case Or.NUM_DIVISION:case Or.SEMICOLON:case Or.DASH:case Or.EQUALS:case Or.COMMA:case Or.PERIOD:case Or.SLASH:case Or.APOSTROPHE:case Or.SINGLE_QUOTE:case Or.OPEN_SQUARE_BRACKET:case Or.BACKSLASH:case Or.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},Cf=Or;function EN(e,t){try{return Object.keys(t).some(function(r){return e.target===(0,Kje.findDOMNode)(t[r])})}catch(r){return!1}}function TN(e,t){var r=t.min,n=t.max;return e<r||e>n}function dK(e){return e.touches.length>1||e.type.toLowerCase()==="touchend"&&e.touches.length>0}function Yje(e,t){var r=t.marks,n=t.step,i=t.min,o=t.max,u=Object.keys(r).map(parseFloat);if(n!==null){var f=Math.pow(10,Xje(n)),m=Math.floor((o*f-i*f)/(n*f)),y=Math.min((e-i)/n,m),w=Math.round(y)*n+i;u.push(w)}var I=u.map(function(M){return Math.abs(e-M)});return u[I.indexOf(Math.min.apply(Math,cu(I)))]}function Xje(e){var t=e.toString(),r=0;return t.indexOf(".")>=0&&(r=t.length-t.indexOf(".")-1),r}function hK(e,t){return e?t.clientY:t.pageX}function mK(e,t){return e?t.touches[0].clientY:t.touches[0].pageX}function gK(e,t){var r=t.getBoundingClientRect();return e?r.top+r.height*.5:window.pageXOffset+r.left+r.width*.5}function NI(e,t){var r=t.max,n=t.min;return e<=n?n:e>=r?r:e}function MN(e,t){var r=t.step,n=isFinite(Yje(e,t))?Yje(e,t):0;return r===null?n:parseFloat(n.toFixed(Xje(r)))}function Af(e){e.stopPropagation(),e.preventDefault()}function Pfr(e,t,r){var n={increase:function(f,m){return f+m},decrease:function(f,m){return f-m}},i=n[e](Object.keys(r.marks).indexOf(JSON.stringify(t)),1),o=Object.keys(r.marks)[i];return r.step?n[e](t,r.step):Object.keys(r.marks).length&&r.marks[o]?r.marks[o]:t}function CN(e,t,r){var n="increase",i="decrease",o=n;switch(e.keyCode){case Cf.UP:o=t&&r?i:n;break;case Cf.RIGHT:o=!t&&r?i:n;break;case Cf.DOWN:o=t&&r?n:i;break;case Cf.LEFT:o=!t&&r?n:i;break;case Cf.END:return function(u,f){return f.max};case Cf.HOME:return function(u,f){return f.min};case Cf.PAGE_UP:return function(u,f){return u+f.step*2};case Cf.PAGE_DOWN:return function(u,f){return u-f.step*2};default:return}return function(u,f){return Pfr(o,u,f)}}function lp(){}function kI(e){var t;return t=function(r){Ja(i,r);var n=es(i);function i(o){var u;Xa(this,i),u=n.call(this,o),u.onDown=function(I,M){var N=M,z=u.props,F=z.draggableTrack,q=z.vertical,R=u.state.bounds,U=F&&u.positionGetValue?u.positionGetValue(N)||[]:[],Y=EN(I,u.handlesRefs);if(u.dragTrack=F&&R.length>=2&&!Y&&!U.map(function(de,ce){var Se=ce?!0:de>=R[ce];return ce===U.length-1?de<=R[ce]:Se}).some(function(de){return!de}),u.dragTrack)u.dragOffset=N,u.startBounds=cu(R);else{if(!Y)u.dragOffset=0;else{var re=gK(q,I.target);u.dragOffset=N-re,N=re}u.onStart(N)}},u.onMouseDown=function(I){if(I.button===0){u.removeDocumentEvents();var M=u.props.vertical,N=hK(M,I);u.onDown(I,N),u.addDocumentMouseEvents()}},u.onTouchStart=function(I){if(!dK(I)){var M=u.props.vertical,N=mK(M,I);u.onDown(I,N),u.addDocumentTouchEvents(),Af(I)}},u.onFocus=function(I){var M=u.props,N=M.onFocus,z=M.vertical;if(EN(I,u.handlesRefs)&&!u.dragTrack){var F=gK(z,I.target);u.dragOffset=0,u.onStart(F),Af(I),N&&N(I)}},u.onBlur=function(I){var M=u.props.onBlur;u.dragTrack||u.onEnd(),M&&M(I)},u.onMouseUp=function(){u.handlesRefs[u.prevMovedHandleIndex]&&u.handlesRefs[u.prevMovedHandleIndex].clickFocus()},u.onMouseMove=function(I){if(!u.sliderRef){u.onEnd();return}var M=hK(u.props.vertical,I);u.onMove(I,M-u.dragOffset,u.dragTrack,u.startBounds)},u.onTouchMove=function(I){if(dK(I)||!u.sliderRef){u.onEnd();return}var M=mK(u.props.vertical,I);u.onMove(I,M-u.dragOffset,u.dragTrack,u.startBounds)},u.onKeyDown=function(I){u.sliderRef&&EN(I,u.handlesRefs)&&u.onKeyboard(I)},u.onClickMarkLabel=function(I,M){I.stopPropagation(),u.onChange({value:M}),u.setState({value:M},function(){return u.onEnd(!0)})},u.saveSlider=function(I){u.sliderRef=I};var f=o.step,m=o.max,y=o.min,w=isFinite(m-y)?(m-y)%f===0:!0;return sp(f&&Math.floor(f)===f?w:!0,"Slider[max] - Slider[min] (".concat(m-y,") should be a multiple of Slider[step] (").concat(f,")")),u.handlesRefs={},u}return Qa(i,[{key:"componentDidMount",value:function(){this.document=this.sliderRef&&this.sliderRef.ownerDocument;var u=this.props,f=u.autoFocus,m=u.disabled;f&&!m&&this.focus()}},{key:"componentWillUnmount",value:function(){f_(ic(i.prototype),"componentWillUnmount",this)&&f_(ic(i.prototype),"componentWillUnmount",this).call(this),this.removeDocumentEvents()}},{key:"getSliderStart",value:function(){var u=this.sliderRef,f=this.props,m=f.vertical,y=f.reverse,w=u.getBoundingClientRect();return m?y?w.bottom:w.top:window.pageXOffset+(y?w.right:w.left)}},{key:"getSliderLength",value:function(){var u=this.sliderRef;if(!u)return 0;var f=u.getBoundingClientRect();return this.props.vertical?f.height:f.width}},{key:"addDocumentTouchEvents",value:function(){this.onTouchMoveListener=xs(this.document,"touchmove",this.onTouchMove),this.onTouchUpListener=xs(this.document,"touchend",this.onEnd)}},{key:"addDocumentMouseEvents",value:function(){this.onMouseMoveListener=xs(this.document,"mousemove",this.onMouseMove),this.onMouseUpListener=xs(this.document,"mouseup",this.onEnd)}},{key:"removeDocumentEvents",value:function(){this.onTouchMoveListener&&this.onTouchMoveListener.remove(),this.onTouchUpListener&&this.onTouchUpListener.remove(),this.onMouseMoveListener&&this.onMouseMoveListener.remove(),this.onMouseUpListener&&this.onMouseUpListener.remove()}},{key:"focus",value:function(){var u;this.props.disabled||(u=this.handlesRefs[0])===null||u===void 0||u.focus()}},{key:"blur",value:function(){var u=this;this.props.disabled||Object.keys(this.handlesRefs).forEach(function(f){var m,y;(m=u.handlesRefs[f])===null||m===void 0||(y=m.blur)===null||y===void 0||y.call(m)})}},{key:"calcValue",value:function(u){var f=this.props,m=f.vertical,y=f.min,w=f.max,I=Math.abs(Math.max(u,0)/this.getSliderLength()),M=m?(1-I)*(w-y)+y:I*(w-y)+y;return M}},{key:"calcValueByPos",value:function(u){var f=this.props.reverse?-1:1,m=f*(u-this.getSliderStart()),y=this.trimAlignValue(this.calcValue(m));return y}},{key:"calcOffset",value:function(u){var f=this.props,m=f.min,y=f.max,w=(u-m)/(y-m);return Math.max(0,w*100)}},{key:"saveHandle",value:function(u,f){this.handlesRefs[u]=f}},{key:"render",value:function(){var u,f=this.props,m=f.prefixCls,y=f.className,w=f.marks,I=f.dots,M=f.step,N=f.included,z=f.disabled,F=f.vertical,q=f.reverse,R=f.min,U=f.max,Y=f.children,re=f.maximumTrackStyle,de=f.style,ce=f.railStyle,Se=f.dotStyle,qe=f.activeDotStyle,Re=f_(ic(i.prototype),"render",this).call(this),Te=Re.tracks,Ee=Re.handles,Ne=(0,Qje.default)(m,(u={},Tt(u,"".concat(m,"-with-marks"),Object.keys(w).length),Tt(u,"".concat(m,"-disabled"),z),Tt(u,"".concat(m,"-vertical"),F),Tt(u,y,y),u));return h_.default.createElement("div",{ref:this.saveSlider,className:Ne,onTouchStart:z?lp:this.onTouchStart,onMouseDown:z?lp:this.onMouseDown,onMouseUp:z?lp:this.onMouseUp,onKeyDown:z?lp:this.onKeyDown,onFocus:z?lp:this.onFocus,onBlur:z?lp:this.onBlur,style:de},h_.default.createElement("div",{className:"".concat(m,"-rail"),style:Ot(Ot({},re),ce)}),Te,h_.default.createElement(Gje,{prefixCls:m,vertical:F,reverse:q,marks:w,dots:I,step:M,included:N,lowerBound:this.getLowerBound(),upperBound:this.getUpperBound(),max:U,min:R,dotStyle:Se,activeDotStyle:qe}),Ee,h_.default.createElement(Wje,{className:"".concat(m,"-mark"),onClickLabel:z?lp:this.onClickMarkLabel,vertical:F,marks:w,included:N,lowerBound:this.getLowerBound(),upperBound:this.getUpperBound(),max:U,min:R,reverse:q}),Y)}}]),i}(e),t.displayName="ComponentEnhancer(".concat(e.displayName,")"),t.defaultProps=Ot(Ot({},e.defaultProps),{},{prefixCls:"rc-slider",className:"",min:0,max:100,step:1,marks:{},handle:function(n){var i=n.index,o=bs(n,["index"]);return delete o.dragging,o.value===null?null:h_.default.createElement(d_,dn({},o,{key:i}))},onBeforeChange:lp,onChange:lp,onAfterChange:lp,included:!0,disabled:!1,dots:!1,vertical:!1,reverse:!1,trackStyle:[{}],handleStyle:[{}],railStyle:{},dotStyle:{},activeDotStyle:{}}),t}var Ofr=function(e){Ja(r,e);var t=es(r);function r(n){var i;Xa(this,r),i=t.call(this,n),i.positionGetValue=function(f){return[]},i.onEnd=function(f){var m=i.state.dragging;i.removeDocumentEvents(),(m||f)&&i.props.onAfterChange(i.getValue()),i.setState({dragging:!1})};var o=n.defaultValue!==void 0?n.defaultValue:n.min,u=n.value!==void 0?n.value:o;return i.state={value:i.trimAlignValue(u),dragging:!1},sp(!("minimumTrackStyle"in n),"minimumTrackStyle will be deprecated, please use trackStyle instead."),sp(!("maximumTrackStyle"in n),"maximumTrackStyle will be deprecated, please use railStyle instead."),i}return Qa(r,[{key:"calcValueByPos",value:function(i){return 0}},{key:"calcOffset",value:function(i){return 0}},{key:"saveHandle",value:function(i,o){}},{key:"removeDocumentEvents",value:function(){}},{key:"componentDidUpdate",value:function(i,o){var u=this.props,f=u.min,m=u.max,y=u.value,w=u.onChange;if("min"in this.props||"max"in this.props){var I=y!==void 0?y:o.value,M=this.trimAlignValue(I,this.props);M!==o.value&&(this.setState({value:M}),!(f===i.min&&m===i.max)&&TN(I,this.props)&&w(M))}}},{key:"onChange",value:function(i){var o=this.props,u=!("value"in o),f=i.value>this.props.max?Ot(Ot({},i),{},{value:this.props.max}):i;u&&this.setState(f);var m=f.value;o.onChange(m)}},{key:"onStart",value:function(i){this.setState({dragging:!0});var o=this.props,u=this.getValue();o.onBeforeChange(u);var f=this.calcValueByPos(i);this.startValue=f,this.startPosition=i,f!==u&&(this.prevMovedHandleIndex=0,this.onChange({value:f}))}},{key:"onMove",value:function(i,o){Af(i);var u=this.state.value,f=this.calcValueByPos(o);f!==u&&this.onChange({value:f})}},{key:"onKeyboard",value:function(i){var o=this.props,u=o.reverse,f=o.vertical,m=CN(i,f,u);if(m){Af(i);var y=this.state,w=y.value,I=m(w,this.props),M=this.trimAlignValue(I);if(M===w)return;this.onChange({value:M}),this.props.onAfterChange(M),this.onEnd()}}},{key:"getValue",value:function(){return this.state.value}},{key:"getLowerBound",value:function(){var i=this.props.startPoint||this.props.min;return this.state.value>i?i:this.state.value}},{key:"getUpperBound",value:function(){return this.state.value<this.props.startPoint?this.props.startPoint:this.state.value}},{key:"trimAlignValue",value:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(i===null)return null;var u=Ot(Ot({},this.props),o),f=NI(i,u);return MN(f,u)}},{key:"render",value:function(){var i=this,o=this.props,u=o.prefixCls,f=o.vertical,m=o.included,y=o.disabled,w=o.minimumTrackStyle,I=o.trackStyle,M=o.handleStyle,N=o.tabIndex,z=o.ariaLabelForHandle,F=o.ariaLabelledByForHandle,q=o.ariaValueTextFormatterForHandle,R=o.min,U=o.max,Y=o.startPoint,re=o.reverse,de=o.handle,ce=this.state,Se=ce.value,qe=ce.dragging,Re=this.calcOffset(Se),Te=de({className:"".concat(u,"-handle"),prefixCls:u,vertical:f,offset:Re,value:Se,dragging:qe,disabled:y,min:R,max:U,reverse:re,index:0,tabIndex:N,ariaLabel:z,ariaLabelledBy:F,ariaValueTextFormatter:q,style:M[0]||M,ref:function(st){return i.saveHandle(0,st)}}),Ee=Y!==void 0?this.calcOffset(Y):0,Ne=I[0]||I,_e=yK.default.createElement(SN,{className:"".concat(u,"-track"),vertical:f,included:m,offset:Ee,reverse:re,length:Re-Ee,style:Ot(Ot({},w),Ne)});return{tracks:_e,handles:Te}}}]),r}(yK.default.Component),Jje=kI(Ofr);var _K=se(He()),bK=se(tn());var LI=function(t){var r=t.value,n=t.handle,i=t.bounds,o=t.props,u=o.allowCross,f=o.pushable,m=Number(f),y=NI(r,o),w=y;return!u&&n!=null&&i!==void 0&&(n>0&&y<=i[n-1]+m&&(w=i[n-1]+m),n<i.length-1&&y>=i[n+1]-m&&(w=i[n+1]-m)),MN(w,o)},xK=function(e){Ja(r,e);var t=es(r);function r(n){var i;Xa(this,r),i=t.call(this,n),i.positionGetValue=function(N){var z=i.getValue(),F=i.calcValueByPos(N),q=i.getClosestBound(F),R=i.getBoundNeedMoving(F,q),U=z[R];if(F===U)return null;var Y=cu(z);return Y[R]=F,Y},i.onEnd=function(N){var z=i.state.handle;i.removeDocumentEvents(),z||(i.dragTrack=!1),(z!==null||N)&&i.props.onAfterChange(i.getValue()),i.setState({handle:null})};var o=n.count,u=n.min,f=n.max,m=Array.apply(void 0,cu(Array(o+1))).map(function(){return u}),y="defaultValue"in n?n.defaultValue:m,w=n.value!==void 0?n.value:y,I=w.map(function(N,z){return LI({value:N,handle:z,props:n})}),M=I[0]===f?0:I.length-1;return i.state={handle:null,recent:M,bounds:I},i}return Qa(r,[{key:"calcValueByPos",value:function(i){return 0}},{key:"getSliderLength",value:function(){return 0}},{key:"calcOffset",value:function(i){return 0}},{key:"saveHandle",value:function(i,o){}},{key:"removeDocumentEvents",value:function(){}},{key:"componentDidUpdate",value:function(i,o){var u=this,f=this.props,m=f.onChange,y=f.value,w=f.min,I=f.max;if(("min"in this.props||"max"in this.props)&&!(w===i.min&&I===i.max)){var M=y||o.bounds;if(M.some(function(z){return TN(z,u.props)})){var N=M.map(function(z){return NI(z,u.props)});m(N)}}}},{key:"onChange",value:function(i){var o=this.props,u=!("value"in o);if(u)this.setState(i);else{var f={};["handle","recent"].forEach(function(w){i[w]!==void 0&&(f[w]=i[w])}),Object.keys(f).length&&this.setState(f)}var m=Ot(Ot({},this.state),i),y=m.bounds;o.onChange(y)}},{key:"onStart",value:function(i){var o=this.props,u=this.state,f=this.getValue();o.onBeforeChange(f);var m=this.calcValueByPos(i);this.startValue=m,this.startPosition=i;var y=this.getClosestBound(m);this.prevMovedHandleIndex=this.getBoundNeedMoving(m,y),this.setState({handle:this.prevMovedHandleIndex,recent:this.prevMovedHandleIndex});var w=f[this.prevMovedHandleIndex];if(m!==w){var I=cu(u.bounds);I[this.prevMovedHandleIndex]=m,this.onChange({bounds:I})}}},{key:"onMove",value:function(i,o,u,f){Af(i);var m=this.state,y=this.props,w=y.max||100,I=y.min||0;if(u){var M=y.vertical?-o:o;M=y.reverse?-M:M;var N=w-Math.max.apply(Math,cu(f)),z=I-Math.min.apply(Math,cu(f)),F=Math.min(Math.max(M/(this.getSliderLength()/(w-I)),z),N),q=f.map(function(Y){return Math.floor(Math.max(Math.min(Y+F,w),I))});m.bounds.map(function(Y,re){return Y===q[re]}).some(function(Y){return!Y})&&this.onChange({bounds:q});return}var R=this.calcValueByPos(o),U=m.bounds[m.handle];R!==U&&this.moveTo(R)}},{key:"onKeyboard",value:function(i){var o=this.props,u=o.reverse,f=o.vertical,m=CN(i,f,u);if(m){Af(i);var y=this.state,w=this.props,I=y.bounds,M=y.handle,N=I[M===null?y.recent:M],z=m(N,w),F=LI({value:z,handle:M,bounds:y.bounds,props:w});if(F===N)return;var q=!0;this.moveTo(F,q)}}},{key:"getValue",value:function(){return this.state.bounds}},{key:"getClosestBound",value:function(i){for(var o=this.state.bounds,u=0,f=1;f<o.length-1;f+=1)i>=o[f]&&(u=f);return Math.abs(o[u+1]-i)<Math.abs(o[u]-i)&&(u+=1),u}},{key:"getBoundNeedMoving",value:function(i,o){var u=this.state,f=u.bounds,m=u.recent,y=o,w=f[o+1]===f[o];return w&&f[m]===f[o]&&(y=m),w&&i!==f[o+1]&&(y=i<f[o+1]?o:o+1),y}},{key:"getLowerBound",value:function(){return this.state.bounds[0]}},{key:"getUpperBound",value:function(){var i=this.state.bounds;return i[i.length-1]}},{key:"getPoints",value:function(){var i=this.props,o=i.marks,u=i.step,f=i.min,m=i.max,y=this.internalPointsCache;if(!y||y.marks!==o||y.step!==u){var w=Ot({},o);if(u!==null)for(var I=f;I<=m;I+=u)w[I]=I;var M=Object.keys(w).map(parseFloat);M.sort(function(N,z){return N-z}),this.internalPointsCache={marks:o,step:u,points:M}}return this.internalPointsCache.points}},{key:"moveTo",value:function(i,o){var u=this,f=this.state,m=this.props,y=cu(f.bounds),w=f.handle===null?f.recent:f.handle;y[w]=i;var I=w;m.pushable!==!1?this.pushSurroundingHandles(y,I):m.allowCross&&(y.sort(function(M,N){return M-N}),I=y.indexOf(i)),this.onChange({recent:I,handle:I,bounds:y}),o&&(this.props.onAfterChange(y),this.setState({},function(){u.handlesRefs[I].focus()}),this.onEnd())}},{key:"pushSurroundingHandles",value:function(i,o){var u=i[o],f=this.props.pushable,m=Number(f),y=0;if(i[o+1]-u<m&&(y=1),u-i[o-1]<m&&(y=-1),y!==0){var w=o+y,I=y*(i[w]-u);this.pushHandle(i,w,y,m-I)||(i[o]=i[w]-y*m)}}},{key:"pushHandle",value:function(i,o,u,f){for(var m=i[o],y=i[o];u*(y-m)<f;){if(!this.pushHandleOnePoint(i,o,u))return i[o]=m,!1;y=i[o]}return!0}},{key:"pushHandleOnePoint",value:function(i,o,u){var f=this.getPoints(),m=f.indexOf(i[o]),y=m+u;if(y>=f.length||y<0)return!1;var w=o+u,I=f[y],M=this.props.pushable,N=Number(M),z=u*(i[w]-I);return this.pushHandle(i,w,u,N-z)?(i[o]=I,!0):!1}},{key:"trimAlignValue",value:function(i){var o=this.state,u=o.handle,f=o.bounds;return LI({value:i,handle:u,bounds:f,props:this.props})}},{key:"render",value:function(){var i=this,o=this.state,u=o.handle,f=o.bounds,m=this.props,y=m.prefixCls,w=m.vertical,I=m.included,M=m.disabled,N=m.min,z=m.max,F=m.reverse,q=m.handle,R=m.trackStyle,U=m.handleStyle,Y=m.tabIndex,re=m.ariaLabelGroupForHandles,de=m.ariaLabelledByGroupForHandles,ce=m.ariaValueTextFormatterGroupForHandles,Se=f.map(function(Ee){return i.calcOffset(Ee)}),qe="".concat(y,"-handle"),Re=f.map(function(Ee,Ne){var _e,ze=Y[Ne]||0;(M||Y[Ne]===null)&&(ze=null);var st=u===Ne;return q({className:(0,bK.default)((_e={},Tt(_e,qe,!0),Tt(_e,"".concat(qe,"-").concat(Ne+1),!0),Tt(_e,"".concat(qe,"-dragging"),st),_e)),prefixCls:y,vertical:w,dragging:st,offset:Se[Ne],value:Ee,index:Ne,tabIndex:ze,min:N,max:z,reverse:F,disabled:M,style:U[Ne],ref:function(At){return i.saveHandle(Ne,At)},ariaLabel:re[Ne],ariaLabelledBy:de[Ne],ariaValueTextFormatter:ce[Ne]})}),Te=f.slice(0,-1).map(function(Ee,Ne){var _e,ze=Ne+1,st=(0,bK.default)((_e={},Tt(_e,"".concat(y,"-track"),!0),Tt(_e,"".concat(y,"-track-").concat(ze),!0),_e));return _K.default.createElement(SN,{className:st,vertical:w,reverse:F,included:I,offset:Se[ze-1],length:Se[ze]-Se[ze-1],style:R[Ne],key:ze})});return{tracks:Te,handles:Re}}}],[{key:"getDerivedStateFromProps",value:function(i,o){if(!("value"in i||"min"in i||"max"in i))return null;var u=i.value||o.bounds,f=u.map(function(m,y){return LI({value:m,handle:y,bounds:o.bounds,props:i})});if(o.bounds.length===f.length){if(f.every(function(m,y){return m===o.bounds[y]}))return null}else f=u.map(function(m,y){return LI({value:m,handle:y,props:i})});return Ot(Ot({},o),{},{bounds:f})}}]),r}(_K.default.Component);xK.displayName="Range";xK.defaultProps={count:1,allowCross:!0,pushable:!1,draggableTrack:!1,tabIndex:[],ariaLabelGroupForHandles:[],ariaLabelledByGroupForHandles:[],ariaValueTextFormatterGroupForHandles:[]};var AN=kI(xK);var ZI=se(He());var Nf=se(He());var iX=se(He()),w_=se(He());var Sl=se(He()),jBe=se(Gi());var tFe=function(t){return+setTimeout(t,16)},rFe=function(t){return clearTimeout(t)};typeof window!="undefined"&&"requestAnimationFrame"in window&&(tFe=function(t){return window.requestAnimationFrame(t)},rFe=function(t){return window.cancelAnimationFrame(t)});var eFe=0,wK=new Map;function nFe(e){wK.delete(e)}var iFe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;eFe+=1;var n=eFe;function i(o){if(o===0)nFe(n),t();else{var u=tFe(function(){i(o-1)});wK.set(n,u)}}return i(r),n};iFe.cancel=function(e){var t=wK.get(e);return nFe(e),rFe(t)};var Js=iFe;function nv(e,t){if(!e)return!1;if(e.contains)return e.contains(t);for(var r=t;r;){if(r===e)return!0;r=r.parentNode}return!1}var aFe=se(He()),SK=se(Gi());function oFe(e){return e instanceof HTMLElement||e instanceof SVGElement}function Dfr(e){return e&&Mn(e)==="object"&&oFe(e.nativeElement)?e.nativeElement:oFe(e)?e:null}function RI(e){var t=Dfr(e);if(t)return t;if(e instanceof aFe.default.Component){var r;return(r=SK.default.findDOMNode)===null||r===void 0?void 0:r.call(SK.default,e)}return null}var FN=se(He()),qI=se(cFe());var Lfr=se(He());var Rfr=Symbol.for("react.element"),qfr=Symbol.for("react.transitional.element"),zfr=Symbol.for("react.fragment");function TK(e){return e&&Mn(e)==="object"&&(e.$$typeof===Rfr||e.$$typeof===qfr)&&e.type===zfr}var jfr=Number(FN.version.split(".")[0]),MK=function(t,r){typeof t=="function"?t(r):Mn(t)==="object"&&t&&"current"in t&&(t.current=r)},m_=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r.filter(Boolean);return i.length<=1?i[0]:function(o){r.forEach(function(u){MK(u,o)})}};var zI=function(t){var r,n;if(!t)return!1;if(pFe(t)&&jfr>=19)return!0;var i=(0,qI.isMemo)(t)?t.type.type:t.type;return!(typeof i=="function"&&!((r=i.prototype)!==null&&r!==void 0&&r.render)&&i.$$typeof!==qI.ForwardRef||typeof t=="function"&&!((n=t.prototype)!==null&&n!==void 0&&n.render)&&t.$$typeof!==qI.ForwardRef)};function pFe(e){return(0,FN.isValidElement)(e)&&!TK(e)}var fFe=function(t){if(t&&pFe(t)){var r=t;return r.props.propertyIsEnumerable("ref")?r.props.ref:r.ref}return null};var oc=se(He()),dFe=se(Gi());function up(){return!!(typeof window!="undefined"&&window.document&&window.document.createElement)}var Ffr=(0,oc.forwardRef)(function(e,t){var r=e.didUpdate,n=e.getContainer,i=e.children,o=(0,oc.useRef)(),u=(0,oc.useRef)();(0,oc.useImperativeHandle)(t,function(){return{}});var f=(0,oc.useRef)(!1);return!f.current&&up()&&(u.current=n(),o.current=u.current.parentNode,f.current=!0),(0,oc.useEffect)(function(){r==null||r(e)}),(0,oc.useEffect)(function(){return u.current.parentNode===null&&o.current!==null&&o.current.appendChild(u.current),function(){var m;(m=u.current)===null||m===void 0||(m=m.parentNode)===null||m===void 0||m.removeChild(u.current)}},[]),u.current?dFe.default.createPortal(i,u.current):null}),hFe=Ffr;var FBe=se(tn());function Bfr(e,t,r){return r?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}function mFe(e,t,r){var n=e[t]||{};return Ot(Ot({},n),r)}function gFe(e,t,r,n){for(var i=r.points,o=Object.keys(e),u=0;u<o.length;u+=1){var f=o[u];if(Bfr(e[f].points,i,n))return"".concat(t,"-placement-").concat(f)}return""}function CK(e){if(Array.isArray(e))return e}function vFe(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,u,f=[],m=!0,y=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;m=!1}else for(;!(m=(n=o.call(r)).done)&&(f.push(n.value),f.length!==t);m=!0);}catch(w){y=!0,i=w}finally{try{if(!m&&r.return!=null&&(u=r.return(),Object(u)!==u))return}finally{if(y)throw i}}return f}}function AK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cn(e,t){return CK(e)||vFe(e,t)||DI(e,t)||AK()}var sv=se(He()),WI=se(He());var yFe=function(){if(typeof navigator=="undefined"||typeof window=="undefined")return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return /(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(e==null?void 0:e.substr(0,4))};var jK=se(He()),zFe=se(tn());var RFe=se(tn());var tl=se(He()),zK=se(He());var PK=se(He());var _Fe=PK.createContext({});var bFe=se(He()),Ufr=function(e){Ja(r,e);var t=es(r);function r(){return Xa(this,r),t.apply(this,arguments)}return Qa(r,[{key:"render",value:function(){return this.props.children}}]),r}(bFe.Component),xFe=Ufr;var BN=se(He());function qh(e){var t=BN.useRef();t.current=e;var r=BN.useCallback(function(){for(var n,i=arguments.length,o=new Array(i),u=0;u<i;u++)o[u]=arguments[u];return(n=t.current)===null||n===void 0?void 0:n.call.apply(n,[t].concat(o))},[]);return r}var g_=se(He());var wFe=up()?g_.useLayoutEffect:g_.useEffect,Vfr=function(t,r){var n=g_.useRef(!0);wFe(function(){return t(n.current)},r),wFe(function(){return n.current=!1,function(){n.current=!0}},[])};var jI=Vfr;var v_=se(He());function Pf(e){var t=v_.useRef(!1),r=v_.useState(e),n=Cn(r,2),i=n[0],o=n[1];v_.useEffect(function(){return t.current=!1,function(){t.current=!0}},[]);function u(f,m){m&&t.current||o(f)}return[i,u]}var UN=se(He());function OK(e){var t=UN.useReducer(function(f){return f+1},0),r=Cn(t,2),n=r[1],i=UN.useRef(e),o=qh(function(){return i.current}),u=qh(function(f){i.current=typeof f=="function"?f(i.current):f,n()});return[o,u]}var XN=se(He()),Df=se(He());var cp="none",FI="appear",BI="enter",UI="leave",DK="none",el="prepare",Of="start",zh="active",VN="end",$N="prepared";var AFe=se(He()),PFe=se(He());function SFe(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit".concat(e)]="webkit".concat(t),r["Moz".concat(e)]="moz".concat(t),r["ms".concat(e)]="MS".concat(t),r["O".concat(e)]="o".concat(t.toLowerCase()),r}function Gfr(e,t){var r={animationend:SFe("Animation","AnimationEnd"),transitionend:SFe("Transition","TransitionEnd")};return e&&("AnimationEvent"in t||delete r.animationend.animation,"TransitionEvent"in t||delete r.transitionend.transition),r}var Hfr=Gfr(up(),typeof window!="undefined"?window:{}),EFe={};up()&&(IFe=document.createElement("div"),EFe=IFe.style);var IFe,GN={};function TFe(e){if(GN[e])return GN[e];var t=Hfr[e];if(t)for(var r=Object.keys(t),n=r.length,i=0;i<n;i+=1){var o=r[i];if(Object.prototype.hasOwnProperty.call(t,o)&&o in EFe)return GN[e]=t[o],GN[e]}return""}var MFe=TFe("animationend"),CFe=TFe("transitionend"),HN=!!(MFe&&CFe),NK=MFe||"animationend",kK=CFe||"transitionend";function LK(e,t){if(!e)return null;if(Mn(e)==="object"){var r=t.replace(/-\w/g,function(n){return n[1].toUpperCase()});return e[r]}return"".concat(e,"-").concat(t)}var OFe=function(e){var t=(0,PFe.useRef)();function r(i){i&&(i.removeEventListener(kK,e),i.removeEventListener(NK,e))}function n(i){t.current&&t.current!==i&&r(t.current),i&&i!==t.current&&(i.addEventListener(kK,e),i.addEventListener(NK,e),t.current=i)}return AFe.useEffect(function(){return function(){r(t.current)}},[]),[n,r]};var WN=se(He()),Wfr=up()?WN.useLayoutEffect:WN.useEffect,ZN=Wfr;var NFe=se(He());var YN=se(He()),DFe=function(){var e=YN.useRef(null);function t(){Js.cancel(e.current)}function r(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;t();var o=Js(function(){i<=1?n({isCanceled:function(){return o!==e.current}}):r(n,i-1)});e.current=o}return YN.useEffect(function(){return function(){t()}},[]),[r,t]};var Zfr=[el,Of,zh,VN],Yfr=[el,$N],RK=!1,kFe=!0;function KN(e){return e===zh||e===VN}var LFe=function(e,t,r){var n=Pf(DK),i=Cn(n,2),o=i[0],u=i[1],f=DFe(),m=Cn(f,2),y=m[0],w=m[1];function I(){u(el,!0)}var M=t?Yfr:Zfr;return ZN(function(){if(o!==DK&&o!==VN){var N=M.indexOf(o),z=M[N+1],F=r(o);F===RK?u(z,!0):z&&y(function(q){function R(){q.isCanceled()||u(z,!0)}F===!0?R():Promise.resolve(F).then(R)})}},[e,o]),NFe.useEffect(function(){return function(){w()}},[]),[I,o]};function qK(e,t,r,n){var i=n.motionEnter,o=i===void 0?!0:i,u=n.motionAppear,f=u===void 0?!0:u,m=n.motionLeave,y=m===void 0?!0:m,w=n.motionDeadline,I=n.motionLeaveImmediately,M=n.onAppearPrepare,N=n.onEnterPrepare,z=n.onLeavePrepare,F=n.onAppearStart,q=n.onEnterStart,R=n.onLeaveStart,U=n.onAppearActive,Y=n.onEnterActive,re=n.onLeaveActive,de=n.onAppearEnd,ce=n.onEnterEnd,Se=n.onLeaveEnd,qe=n.onVisibleChanged,Re=Pf(),Te=Cn(Re,2),Ee=Te[0],Ne=Te[1],_e=OK(cp),ze=Cn(_e,2),st=ze[0],at=ze[1],At=Pf(null),Qe=Cn(At,2),Dt=Qe[0],Ut=Qe[1],Zt=st(),Xe=(0,Df.useRef)(!1),lt=(0,Df.useRef)(null);function yt(){return r()}var Fe=(0,Df.useRef)(!1);function Me(){at(cp),Ut(null,!0)}var Ue=qh(function(wr){var Mr=st();if(Mr!==cp){var Jr=yt();if(!(wr&&!wr.deadline&&wr.target!==Jr)){var rr=Fe.current,Vr;Mr===FI&&rr?Vr=de==null?void 0:de(Jr,wr):Mr===BI&&rr?Vr=ce==null?void 0:ce(Jr,wr):Mr===UI&&rr&&(Vr=Se==null?void 0:Se(Jr,wr)),rr&&Vr!==!1&&Me()}}}),je=OFe(Ue),tt=Cn(je,1),it=tt[0],St=function(Mr){switch(Mr){case FI:return Tt(Tt(Tt({},el,M),Of,F),zh,U);case BI:return Tt(Tt(Tt({},el,N),Of,q),zh,Y);case UI:return Tt(Tt(Tt({},el,z),Of,R),zh,re);default:return{}}},vt=XN.useMemo(function(){return St(Zt)},[Zt]),Nt=LFe(Zt,!e,function(wr){if(wr===el){var Mr=vt[el];return Mr?Mr(yt()):RK}if(Vt in vt){var Jr;Ut(((Jr=vt[Vt])===null||Jr===void 0?void 0:Jr.call(vt,yt(),null))||null)}return Vt===zh&&Zt!==cp&&(it(yt()),w>0&&(clearTimeout(lt.current),lt.current=setTimeout(function(){Ue({deadline:!0})},w))),Vt===$N&&Me(),kFe}),Yt=Cn(Nt,2),It=Yt[0],Vt=Yt[1],Jt=KN(Vt);Fe.current=Jt;var lr=(0,Df.useRef)(null);ZN(function(){if(!(Xe.current&&lr.current===t)){Ne(t);var wr=Xe.current;Xe.current=!0;var Mr;!wr&&t&&f&&(Mr=FI),wr&&t&&o&&(Mr=BI),(wr&&!t&&y||!wr&&I&&!t&&y)&&(Mr=UI);var Jr=St(Mr);Mr&&(e||Jr[el])?(at(Mr),It()):at(cp),lr.current=t}},[t]),(0,Df.useEffect)(function(){(Zt===FI&&!f||Zt===BI&&!o||Zt===UI&&!y)&&at(cp)},[f,o,y]),(0,Df.useEffect)(function(){return function(){Xe.current=!1,clearTimeout(lt.current)}},[]);var Tr=XN.useRef(!1);(0,Df.useEffect)(function(){Ee&&(Tr.current=!0),Ee!==void 0&&Zt===cp&&((Tr.current||Ee)&&(qe==null||qe(Ee)),Tr.current=!0)},[Ee,Zt]);var ur=Dt;return vt[el]&&Vt===Of&&(ur=Ot({transition:"none"},ur)),[Zt,Vt,ur,Ee!=null?Ee:t]}function Kfr(e){var t=e;Mn(e)==="object"&&(t=e.transitionSupport);function r(i,o){return!!(i.motionName&&t&&o!==!1)}var n=tl.forwardRef(function(i,o){var u=i.visible,f=u===void 0?!0:u,m=i.removeOnLeave,y=m===void 0?!0:m,w=i.forceRender,I=i.children,M=i.motionName,N=i.leavedClassName,z=i.eventProps,F=tl.useContext(_Fe),q=F.motion,R=r(i,q),U=(0,zK.useRef)(),Y=(0,zK.useRef)();function re(){try{return U.current instanceof HTMLElement?U.current:RI(Y.current)}catch(Qe){return null}}var de=qK(R,f,re,i),ce=Cn(de,4),Se=ce[0],qe=ce[1],Re=ce[2],Te=ce[3],Ee=tl.useRef(Te);Te&&(Ee.current=!0);var Ne=tl.useCallback(function(Qe){U.current=Qe,MK(o,Qe)},[o]),_e,ze=Ot(Ot({},z),{},{visible:f});if(!I)_e=null;else if(Se===cp)Te?_e=I(Ot({},ze),Ne):!y&&Ee.current&&N?_e=I(Ot(Ot({},ze),{},{className:N}),Ne):w||!y&&!N?_e=I(Ot(Ot({},ze),{},{style:{display:"none"}}),Ne):_e=null;else{var st;qe===el?st="prepare":KN(qe)?st="active":qe===Of&&(st="start");var at=LK(M,"".concat(Se,"-").concat(st));_e=I(Ot(Ot({},ze),{},{className:(0,RFe.default)(LK(M,Se),Tt(Tt({},at,at&&st),M,typeof M=="string")),style:Re}),Ne)}if(tl.isValidElement(_e)&&zI(_e)){var At=fFe(_e);At||(_e=tl.cloneElement(_e,{ref:Ne}))}return tl.createElement(xFe,{ref:Y},_e)});return n.displayName="CSSMotion",n}var QN=Kfr(HN);var iv=se(He());var JN="add",ek="keep",tk="remove",nk="removed";function Xfr(e){var t;return e&&Mn(e)==="object"&&"key"in e?t=e:t={key:e},Ot(Ot({},t),{},{key:String(t.key)})}function rk(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return e.map(Xfr)}function qFe(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=[],n=0,i=t.length,o=rk(e),u=rk(t);o.forEach(function(y){for(var w=!1,I=n;I<i;I+=1){var M=u[I];if(M.key===y.key){n<I&&(r=r.concat(u.slice(n,I).map(function(N){return Ot(Ot({},N),{},{status:JN})})),n=I),r.push(Ot(Ot({},M),{},{status:ek})),n+=1,w=!0;break}}w||r.push(Ot(Ot({},y),{},{status:tk}))}),n<i&&(r=r.concat(u.slice(n).map(function(y){return Ot(Ot({},y),{},{status:JN})})));var f={};r.forEach(function(y){var w=y.key;f[w]=(f[w]||0)+1});var m=Object.keys(f).filter(function(y){return f[y]>1});return m.forEach(function(y){r=r.filter(function(w){var I=w.key,M=w.status;return I!==y||M!==tk}),r.forEach(function(w){w.key===y&&(w.status=ek)})}),r}var Qfr=["component","children","onVisibleChanged","onAllRemoved"],Jfr=["status"],edr=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearPrepare","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];function tdr(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:QN,r=function(n){Ja(o,n);var i=es(o);function o(){var u;Xa(this,o);for(var f=arguments.length,m=new Array(f),y=0;y<f;y++)m[y]=arguments[y];return u=i.call.apply(i,[this].concat(m)),Tt(Br(u),"state",{keyEntities:[]}),Tt(Br(u),"removeKey",function(w){u.setState(function(I){var M=I.keyEntities.map(function(N){return N.key!==w?N:Ot(Ot({},N),{},{status:nk})});return{keyEntities:M}},function(){var I=u.state.keyEntities,M=I.filter(function(N){var z=N.status;return z!==nk}).length;M===0&&u.props.onAllRemoved&&u.props.onAllRemoved()})}),u}return Qa(o,[{key:"render",value:function(){var f=this,m=this.state.keyEntities,y=this.props,w=y.component,I=y.children,M=y.onVisibleChanged,N=y.onAllRemoved,z=bs(y,Qfr),F=w||iv.Fragment,q={};return edr.forEach(function(R){q[R]=z[R],delete z[R]}),delete z.keys,iv.createElement(F,z,m.map(function(R,U){var Y=R.status,re=bs(R,Jfr),de=Y===JN||Y===ek;return iv.createElement(t,dn({},q,{key:re.key,visible:de,eventProps:re,onVisibleChanged:function(Se){M==null||M(Se,{key:re.key}),Se||f.removeKey(re.key)}}),function(ce,Se){return I(Ot(Ot({},ce),{},{index:U}),Se)})}))}}],[{key:"getDerivedStateFromProps",value:function(f,m){var y=f.keys,w=m.keyEntities,I=rk(y),M=qFe(w,I);return{keyEntities:M.filter(function(N){var z=w.find(function(F){var q=F.key;return N.key===q});return!(z&&z.status===nk&&N.status===tk)})}}}]),o}(iv.Component);return Tt(r,"defaultProps",{component:"div"}),r}var rdr=tdr(HN);var y_=QN;function ik(e){var t=e.prefixCls,r=e.motion,n=e.animation,i=e.transitionName;return r||(n?{motionName:"".concat(t,"-").concat(n)}:i?{motionName:i}:null)}function FK(e){var t=e.prefixCls,r=e.visible,n=e.zIndex,i=e.mask,o=e.maskMotion,u=e.maskAnimation,f=e.maskTransitionName;if(!i)return null;var m={};return(o||f||u)&&(m=Ot({motionAppear:!0},ik({motion:o,prefixCls:t,transitionName:f,animation:u}))),jK.createElement(y_,dn({},m,{visible:r,removeOnLeave:!0}),function(y){var w=y.className;return jK.createElement("div",{style:{zIndex:n},className:(0,zFe.default)("".concat(t,"-mask"),w)})})}var wl=se(He()),av=se(He());function jFe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function FFe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jFe(Object(r),!0).forEach(function(n){ndr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jFe(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GK(e){"@babel/helpers - typeof";return GK=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},GK(e)}function ndr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var VI,idr={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-",O:"-o-"};function uk(){if(VI!==void 0)return VI;VI="";var e=document.createElement("p").style,t="Transform";for(var r in idr)r+t in e&&(VI=r);return VI}function JFe(){return uk()?"".concat(uk(),"TransitionProperty"):"transitionProperty"}function ck(){return uk()?"".concat(uk(),"Transform"):"transform"}function BFe(e,t){var r=JFe();r&&(e.style[r]=t,r!=="transitionProperty"&&(e.style.transitionProperty=t))}function BK(e,t){var r=ck();r&&(e.style[r]=t,r!=="transform"&&(e.style.transform=t))}function odr(e){return e.style.transitionProperty||e.style[JFe()]}function adr(e){var t=window.getComputedStyle(e,null),r=t.getPropertyValue("transform")||t.getPropertyValue(ck());if(r&&r!=="none"){var n=r.replace(/[^0-9\-.,]/g,"").split(",");return{x:parseFloat(n[12]||n[4],0),y:parseFloat(n[13]||n[5],0)}}return{x:0,y:0}}var sdr=/matrix\((.*)\)/,ldr=/matrix3d\((.*)\)/;function udr(e,t){var r=window.getComputedStyle(e,null),n=r.getPropertyValue("transform")||r.getPropertyValue(ck());if(n&&n!=="none"){var i,o=n.match(sdr);if(o)o=o[1],i=o.split(",").map(function(f){return parseFloat(f,10)}),i[4]=t.x,i[5]=t.y,BK(e,"matrix(".concat(i.join(","),")"));else{var u=n.match(ldr)[1];i=u.split(",").map(function(f){return parseFloat(f,10)}),i[12]=t.x,i[13]=t.y,BK(e,"matrix3d(".concat(i.join(","),")"))}}else BK(e,"translateX(".concat(t.x,"px) translateY(").concat(t.y,"px) translateZ(0)"))}var cdr=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,HI;function UFe(e){var t=e.style.display;e.style.display="none",e.offsetHeight,e.style.display=t}function __(e,t,r){var n=r;if(GK(t)==="object"){for(var i in t)t.hasOwnProperty(i)&&__(e,i,t[i]);return}if(typeof n!="undefined"){typeof n=="number"&&(n="".concat(n,"px")),e.style[t]=n;return}return HI(e,t)}function pdr(e){var t,r,n,i=e.ownerDocument,o=i.body,u=i&&i.documentElement;return t=e.getBoundingClientRect(),r=Math.floor(t.left),n=Math.floor(t.top),r-=u.clientLeft||o.clientLeft||0,n-=u.clientTop||o.clientTop||0,{left:r,top:n}}function eBe(e,t){var r=e["page".concat(t?"Y":"X","Offset")],n="scroll".concat(t?"Top":"Left");if(typeof r!="number"){var i=e.document;r=i.documentElement[n],typeof r!="number"&&(r=i.body[n])}return r}function tBe(e){return eBe(e)}function rBe(e){return eBe(e,!0)}function GI(e){var t=pdr(e),r=e.ownerDocument,n=r.defaultView||r.parentWindow;return t.left+=tBe(n),t.top+=rBe(n),t}function YK(e){return e!=null&&e==e.window}function nBe(e){return YK(e)?e.document:e.nodeType===9?e:e.ownerDocument}function fdr(e,t,r){var n=r,i="",o=nBe(e);return n=n||o.defaultView.getComputedStyle(e,null),n&&(i=n.getPropertyValue(t)||n[t]),i}var ddr=new RegExp("^(".concat(cdr,")(?!px)[a-z%]+$"),"i"),hdr=/^(top|right|bottom|left)$/,UK="currentStyle",VK="runtimeStyle",ov="left",mdr="px";function gdr(e,t){var r=e[UK]&&e[UK][t];if(ddr.test(r)&&!hdr.test(t)){var n=e.style,i=n[ov],o=e[VK][ov];e[VK][ov]=e[UK][ov],n[ov]=t==="fontSize"?"1em":r||0,r=n.pixelLeft+mdr,n[ov]=i,e[VK][ov]=o}return r===""?"auto":r}typeof window!="undefined"&&(HI=window.getComputedStyle?fdr:gdr);function ok(e,t){return e==="left"?t.useCssRight?"right":e:t.useCssBottom?"bottom":e}function VFe(e){if(e==="left")return"right";if(e==="right")return"left";if(e==="top")return"bottom";if(e==="bottom")return"top"}function $Fe(e,t,r){__(e,"position")==="static"&&(e.style.position="relative");var n=-999,i=-999,o=ok("left",r),u=ok("top",r),f=VFe(o),m=VFe(u);o!=="left"&&(n=999),u!=="top"&&(i=999);var y="",w=GI(e);("left"in t||"top"in t)&&(y=odr(e)||"",BFe(e,"none")),"left"in t&&(e.style[f]="",e.style[o]="".concat(n,"px")),"top"in t&&(e.style[m]="",e.style[u]="".concat(i,"px")),UFe(e);var I=GI(e),M={};for(var N in t)if(t.hasOwnProperty(N)){var z=ok(N,r),F=N==="left"?n:i,q=w[N]-I[N];z===N?M[z]=F+q:M[z]=F-q}__(e,M),UFe(e),("left"in t||"top"in t)&&BFe(e,y);var R={};for(var U in t)if(t.hasOwnProperty(U)){var Y=ok(U,r),re=t[U]-w[U];U===Y?R[Y]=M[Y]+re:R[Y]=M[Y]-re}__(e,R)}function vdr(e,t){var r=GI(e),n=adr(e),i={x:n.x,y:n.y};"left"in t&&(i.x=n.x+t.left-r.left),"top"in t&&(i.y=n.y+t.top-r.top),udr(e,i)}function ydr(e,t,r){if(r.ignoreShake){var n=GI(e),i=n.left.toFixed(0),o=n.top.toFixed(0),u=t.left.toFixed(0),f=t.top.toFixed(0);if(i===u&&o===f)return}r.useCssRight||r.useCssBottom?$Fe(e,t,r):r.useCssTransform&&ck()in document.body.style?vdr(e,t):$Fe(e,t,r)}function KK(e,t){for(var r=0;r<e.length;r++)t(e[r])}function iBe(e){return HI(e,"boxSizing")==="border-box"}var _dr=["margin","border","padding"],HK=-1,bdr=2,WK=1,xdr=0;function wdr(e,t,r){var n={},i=e.style,o;for(o in t)t.hasOwnProperty(o)&&(n[o]=i[o],i[o]=t[o]);r.call(e);for(o in t)t.hasOwnProperty(o)&&(i[o]=n[o])}function $I(e,t,r){var n=0,i,o,u;for(o=0;o<t.length;o++)if(i=t[o],i)for(u=0;u<r.length;u++){var f=void 0;i==="border"?f="".concat(i).concat(r[u],"Width"):f=i+r[u],n+=parseFloat(HI(e,f))||0}return n}var pp={getParent:function(t){var r=t;do r.nodeType===11&&r.host?r=r.host:r=r.parentNode;while(r&&r.nodeType!==1&&r.nodeType!==9);return r}};KK(["Width","Height"],function(e){pp["doc".concat(e)]=function(t){var r=t.document;return Math.max(r.documentElement["scroll".concat(e)],r.body["scroll".concat(e)],pp["viewport".concat(e)](r))},pp["viewport".concat(e)]=function(t){var r="client".concat(e),n=t.document,i=n.body,o=n.documentElement,u=o[r];return n.compatMode==="CSS1Compat"&&u||i&&i[r]||u}});function GFe(e,t,r){var n=r;if(YK(e))return t==="width"?pp.viewportWidth(e):pp.viewportHeight(e);if(e.nodeType===9)return t==="width"?pp.docWidth(e):pp.docHeight(e);var i=t==="width"?["Left","Right"]:["Top","Bottom"],o=Math.floor(t==="width"?e.getBoundingClientRect().width:e.getBoundingClientRect().height),u=iBe(e),f=0;(o==null||o<=0)&&(o=void 0,f=HI(e,t),(f==null||Number(f)<0)&&(f=e.style[t]||0),f=Math.floor(parseFloat(f))||0),n===void 0&&(n=u?WK:HK);var m=o!==void 0||u,y=o||f;return n===HK?m?y-$I(e,["border","padding"],i):f:m?n===WK?y:y+(n===bdr?-$I(e,["border"],i):$I(e,["margin"],i)):f+$I(e,_dr.slice(n),i)}var Sdr={position:"absolute",visibility:"hidden",display:"block"};function HFe(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,i=t[0];return i.offsetWidth!==0?n=GFe.apply(void 0,t):wdr(i,Sdr,function(){n=GFe.apply(void 0,t)}),n}KK(["width","height"],function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);pp["outer".concat(t)]=function(n,i){return n&&HFe(n,e,i?xdr:WK)};var r=e==="width"?["Left","Right"]:["Top","Bottom"];pp[e]=function(n,i){var o=i;if(o!==void 0){if(n){var u=iBe(n);return u&&(o+=$I(n,["padding","border"],r)),__(n,e,o)}return}return n&&HFe(n,e,HK)}});function oBe(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}var Hr={getWindow:function(t){if(t&&t.document&&t.setTimeout)return t;var r=t.ownerDocument||t;return r.defaultView||r.parentWindow},getDocument:nBe,offset:function(t,r,n){if(typeof r!="undefined")ydr(t,r,n||{});else return GI(t)},isWindow:YK,each:KK,css:__,clone:function(t){var r,n={};for(r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);var i=t.overflow;if(i)for(r in t)t.hasOwnProperty(r)&&(n.overflow[r]=t.overflow[r]);return n},mix:oBe,getWindowScrollLeft:function(t){return tBe(t)},getWindowScrollTop:function(t){return rBe(t)},merge:function(){for(var t={},r=0;r<arguments.length;r++)Hr.mix(t,r<0||arguments.length<=r?void 0:arguments[r]);return t},viewportWidth:0,viewportHeight:0};oBe(Hr,pp);var $K=Hr.getParent;function ZK(e){if(Hr.isWindow(e)||e.nodeType===9)return null;var t=Hr.getDocument(e),r=t.body,n,i=Hr.css(e,"position"),o=i==="fixed"||i==="absolute";if(!o)return e.nodeName.toLowerCase()==="html"?null:$K(e);for(n=$K(e);n&&n!==r&&n.nodeType!==9;n=$K(n))if(i=Hr.css(n,"position"),i!=="static")return n;return null}var WFe=Hr.getParent;function Idr(e){if(Hr.isWindow(e)||e.nodeType===9)return!1;var t=Hr.getDocument(e),r=t.body,n=null;for(n=WFe(e);n&&n!==r&&n!==t;n=WFe(n)){var i=Hr.css(n,"position");if(i==="fixed")return!0}return!1}function XK(e,t){for(var r={left:0,right:1/0,top:0,bottom:1/0},n=ZK(e),i=Hr.getDocument(e),o=i.defaultView||i.parentWindow,u=i.body,f=i.documentElement;n;){if((navigator.userAgent.indexOf("MSIE")===-1||n.clientWidth!==0)&&n!==u&&n!==f&&Hr.css(n,"overflow")!=="visible"){var m=Hr.offset(n);m.left+=n.clientLeft,m.top+=n.clientTop,r.top=Math.max(r.top,m.top),r.right=Math.min(r.right,m.left+n.clientWidth),r.bottom=Math.min(r.bottom,m.top+n.clientHeight),r.left=Math.max(r.left,m.left)}else if(n===u||n===f)break;n=ZK(n)}var y=null;if(!Hr.isWindow(e)&&e.nodeType!==9){y=e.style.position;var w=Hr.css(e,"position");w==="absolute"&&(e.style.position="fixed")}var I=Hr.getWindowScrollLeft(o),M=Hr.getWindowScrollTop(o),N=Hr.viewportWidth(o),z=Hr.viewportHeight(o),F=f.scrollWidth,q=f.scrollHeight,R=window.getComputedStyle(u);if(R.overflowX==="hidden"&&(F=o.innerWidth),R.overflowY==="hidden"&&(q=o.innerHeight),e.style&&(e.style.position=y),t||Idr(e))r.left=Math.max(r.left,I),r.top=Math.max(r.top,M),r.right=Math.min(r.right,I+N),r.bottom=Math.min(r.bottom,M+z);else{var U=Math.max(F,I+N);r.right=Math.min(r.right,U);var Y=Math.max(q,M+z);r.bottom=Math.min(r.bottom,Y)}return r.top>=0&&r.left>=0&&r.bottom>r.top&&r.right>r.left?r:null}function Edr(e,t,r,n){var i=Hr.clone(e),o={width:t.width,height:t.height};return n.adjustX&&i.left<r.left&&(i.left=r.left),n.resizeWidth&&i.left>=r.left&&i.left+o.width>r.right&&(o.width-=i.left+o.width-r.right),n.adjustX&&i.left+o.width>r.right&&(i.left=Math.max(r.right-o.width,r.left)),n.adjustY&&i.top<r.top&&(i.top=r.top),n.resizeHeight&&i.top>=r.top&&i.top+o.height>r.bottom&&(o.height-=i.top+o.height-r.bottom),n.adjustY&&i.top+o.height>r.bottom&&(i.top=Math.max(r.bottom-o.height,r.top)),Hr.mix(i,o)}function QK(e){var t,r,n;if(!Hr.isWindow(e)&&e.nodeType!==9)t=Hr.offset(e),r=Hr.outerWidth(e),n=Hr.outerHeight(e);else{var i=Hr.getWindow(e);t={left:Hr.getWindowScrollLeft(i),top:Hr.getWindowScrollTop(i)},r=Hr.viewportWidth(i),n=Hr.viewportHeight(i)}return t.width=r,t.height=n,t}function ZFe(e,t){var r=t.charAt(0),n=t.charAt(1),i=e.width,o=e.height,u=e.left,f=e.top;return r==="c"?f+=o/2:r==="b"&&(f+=o),n==="c"?u+=i/2:n==="r"&&(u+=i),{left:u,top:f}}function ak(e,t,r,n,i){var o=ZFe(t,r[1]),u=ZFe(e,r[0]),f=[u.left-o.left,u.top-o.top];return{left:Math.round(e.left-f[0]+n[0]-i[0]),top:Math.round(e.top-f[1]+n[1]-i[1])}}function YFe(e,t,r){return e.left<r.left||e.left+t.width>r.right}function KFe(e,t,r){return e.top<r.top||e.top+t.height>r.bottom}function Tdr(e,t,r){return e.left>r.right||e.left+t.width<r.left}function Mdr(e,t,r){return e.top>r.bottom||e.top+t.height<r.top}function sk(e,t,r){var n=[];return Hr.each(e,function(i){n.push(i.replace(t,function(o){return r[o]}))}),n}function lk(e,t){return e[t]=-e[t],e}function XFe(e,t){var r;return /%$/.test(e)?r=parseInt(e.substring(0,e.length-1),10)/100*t:r=parseInt(e,10),r||0}function QFe(e,t){e[0]=XFe(e[0],t.width),e[1]=XFe(e[1],t.height)}function aBe(e,t,r,n){var i=r.points,o=r.offset||[0,0],u=r.targetOffset||[0,0],f=r.overflow,m=r.source||e;o=[].concat(o),u=[].concat(u),f=f||{};var y={},w=0,I=!!(f&&f.alwaysByViewport),M=XK(m,I),N=QK(m);QFe(o,N),QFe(u,t);var z=ak(N,t,i,o,u),F=Hr.merge(N,z);if(M&&(f.adjustX||f.adjustY)&&n){if(f.adjustX&&YFe(z,N,M)){var q=sk(i,/[lr]/gi,{l:"r",r:"l"}),R=lk(o,0),U=lk(u,0),Y=ak(N,t,q,R,U);Tdr(Y,N,M)||(w=1,i=q,o=R,u=U)}if(f.adjustY&&KFe(z,N,M)){var re=sk(i,/[tb]/gi,{t:"b",b:"t"}),de=lk(o,1),ce=lk(u,1),Se=ak(N,t,re,de,ce);Mdr(Se,N,M)||(w=1,i=re,o=de,u=ce)}w&&(z=ak(N,t,i,o,u),Hr.mix(F,z));var qe=YFe(z,N,M),Re=KFe(z,N,M);if(qe||Re){var Te=i;qe&&(Te=sk(i,/[lr]/gi,{l:"r",r:"l"})),Re&&(Te=sk(i,/[tb]/gi,{t:"b",b:"t"})),i=Te,o=r.offset||[0,0],u=r.targetOffset||[0,0]}y.adjustX=f.adjustX&&qe,y.adjustY=f.adjustY&&Re,(y.adjustX||y.adjustY)&&(F=Edr(z,N,M,y))}return F.width!==N.width&&Hr.css(m,"width",Hr.width(m)+F.width-N.width),F.height!==N.height&&Hr.css(m,"height",Hr.height(m)+F.height-N.height),Hr.offset(m,{left:F.left,top:F.top},{useCssRight:r.useCssRight,useCssBottom:r.useCssBottom,useCssTransform:r.useCssTransform,ignoreShake:r.ignoreShake}),{points:i,offset:o,targetOffset:u,overflow:y}}function Cdr(e,t){var r=XK(e,t),n=QK(e);return!r||n.left+n.width<=r.left||n.top+n.height<=r.top||n.left>=r.right||n.top>=r.bottom}function pk(e,t,r){var n=r.target||t,i=QK(n),o=!Cdr(n,r.overflow&&r.overflow.alwaysByViewport);return aBe(e,i,r,o)}pk.__getOffsetParent=ZK;pk.__getVisibleRectForElement=XK;function sBe(e,t,r){var n,i,o=Hr.getDocument(e),u=o.defaultView||o.parentWindow,f=Hr.getWindowScrollLeft(u),m=Hr.getWindowScrollTop(u),y=Hr.viewportWidth(u),w=Hr.viewportHeight(u);"pageX"in t?n=t.pageX:n=f+t.clientX,"pageY"in t?i=t.pageY:i=m+t.clientY;var I={left:n,top:i,width:0,height:0},M=n>=0&&n<=f+y&&i>=0&&i<=m+w,N=[r.points[0],"cc"];return aBe(e,I,FFe(FFe({},r),{},{points:N}),M)}function Adr(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=new Set;function i(o,u){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,m=n.has(o);if(sp(!m,"Warning: There may be circular references"),m)return!1;if(o===u)return!0;if(r&&f>1)return!1;n.add(o);var y=f+1;if(Array.isArray(o)){if(!Array.isArray(u)||o.length!==u.length)return!1;for(var w=0;w<o.length;w++)if(!i(o[w],u[w],y))return!1;return!0}if(o&&u&&Mn(o)==="object"&&Mn(u)==="object"){var I=Object.keys(o);return I.length!==Object.keys(u).length?!1:I.every(function(M){return i(o[M],u[M],y)})}return!1}return i(e,t)}var lBe=Adr;var uBe=function(e){if(!e)return!1;if(e instanceof Element){if(e.offsetParent)return!0;if(e.getBBox){var t=e.getBBox(),r=t.width,n=t.height;if(r||n)return!0}if(e.getBoundingClientRect){var i=e.getBoundingClientRect(),o=i.width,u=i.height;if(o||u)return!0}}return!1};var Ca=se(He());var JK=se(He()),cBe=function(e,t){var r=JK.default.useRef(!1),n=JK.default.useRef(null);function i(){window.clearTimeout(n.current)}function o(u){if(i(),!r.current||u===!0){if(e(u)===!1)return;r.current=!0,n.current=window.setTimeout(function(){r.current=!1},t)}else n.current=window.setTimeout(function(){r.current=!1,o()},t)}return[o,function(){r.current=!1,i()}]};var fBe=function(){if(typeof Map!="undefined")return Map;function e(t,r){var n=-1;return t.some(function(i,o){return i[0]===r?(n=o,!0):!1}),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(r){var n=e(this.__entries__,r),i=this.__entries__[n];return i&&i[1]},t.prototype.set=function(r,n){var i=e(this.__entries__,r);~i?this.__entries__[i][1]=n:this.__entries__.push([r,n])},t.prototype.delete=function(r){var n=this.__entries__,i=e(n,r);~i&&n.splice(i,1)},t.prototype.has=function(r){return!!~e(this.__entries__,r)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(r,n){n===void 0&&(n=null);for(var i=0,o=this.__entries__;i<o.length;i++){var u=o[i];r.call(n,u[1],u[0])}},t}()}(),eX=typeof window!="undefined"&&typeof document!="undefined"&&window.document===document,fk=function(){return typeof global!="undefined"&&global.Math===Math?global:typeof self!="undefined"&&self.Math===Math?self:typeof window!="undefined"&&window.Math===Math?window:Function("return this")()}(),Pdr=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(fk):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)}}(),Odr=2;function Ddr(e,t){var r=!1,n=!1,i=0;function o(){r&&(r=!1,e()),n&&f()}function u(){Pdr(o)}function f(){var m=Date.now();if(r){if(m-i<Odr)return;n=!0}else r=!0,n=!1,setTimeout(u,t);i=m}return f}var Ndr=20,kdr=["top","right","bottom","left","width","height","size","weight"],Ldr=typeof MutationObserver!="undefined",Rdr=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=Ddr(this.refresh.bind(this),Ndr)}return e.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},e.prototype.removeObserver=function(t){var r=this.observers_,n=r.indexOf(t);~n&&r.splice(n,1),!r.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){var t=this.updateObservers_();t&&this.refresh()},e.prototype.updateObservers_=function(){var t=this.observers_.filter(function(r){return r.gatherActive(),r.hasActive()});return t.forEach(function(r){return r.broadcastActive()}),t.length>0},e.prototype.connect_=function(){!eX||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Ldr?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){!eX||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(t){var r=t.propertyName,n=r===void 0?"":r,i=kdr.some(function(o){return!!~n.indexOf(o)});i&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),dBe=function(e,t){for(var r=0,n=Object.keys(t);r<n.length;r++){var i=n[r];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},b_=function(e){var t=e&&e.ownerDocument&&e.ownerDocument.defaultView;return t||fk},hBe=hk(0,0,0,0);function dk(e){return parseFloat(e)||0}function pBe(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return t.reduce(function(n,i){var o=e["border-"+i+"-width"];return n+dk(o)},0)}function qdr(e){for(var t=["top","right","bottom","left"],r={},n=0,i=t;n<i.length;n++){var o=i[n],u=e["padding-"+o];r[o]=dk(u)}return r}function zdr(e){var t=e.getBBox();return hk(0,0,t.width,t.height)}function jdr(e){var t=e.clientWidth,r=e.clientHeight;if(!t&&!r)return hBe;var n=b_(e).getComputedStyle(e),i=qdr(n),o=i.left+i.right,u=i.top+i.bottom,f=dk(n.width),m=dk(n.height);if(n.boxSizing==="border-box"&&(Math.round(f+o)!==t&&(f-=pBe(n,"left","right")+o),Math.round(m+u)!==r&&(m-=pBe(n,"top","bottom")+u)),!Bdr(e)){var y=Math.round(f+o)-t,w=Math.round(m+u)-r;Math.abs(y)!==1&&(f-=y),Math.abs(w)!==1&&(m-=w)}return hk(i.left,i.top,f,m)}var Fdr=function(){return typeof SVGGraphicsElement!="undefined"?function(e){return e instanceof b_(e).SVGGraphicsElement}:function(e){return e instanceof b_(e).SVGElement&&typeof e.getBBox=="function"}}();function Bdr(e){return e===b_(e).document.documentElement}function Udr(e){return eX?Fdr(e)?zdr(e):jdr(e):hBe}function Vdr(e){var t=e.x,r=e.y,n=e.width,i=e.height,o=typeof DOMRectReadOnly!="undefined"?DOMRectReadOnly:Object,u=Object.create(o.prototype);return dBe(u,{x:t,y:r,width:n,height:i,top:r,right:t+n,bottom:i+r,left:t}),u}function hk(e,t,r,n){return{x:e,y:t,width:r,height:n}}var $dr=function(){function e(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=hk(0,0,0,0),this.target=t}return e.prototype.isActive=function(){var t=Udr(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},e}(),Gdr=function(){function e(t,r){var n=Vdr(r);dBe(this,{target:t,contentRect:n})}return e}(),Hdr=function(){function e(t,r,n){if(this.activeObservations_=[],this.observations_=new fBe,typeof t!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=r,this.callbackCtx_=n}return e.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element=="undefined"||!(Element instanceof Object))){if(!(t instanceof b_(t).Element))throw new TypeError("parameter 1 is not of type \"Element\".");var r=this.observations_;r.has(t)||(r.set(t,new $dr(t)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element=="undefined"||!(Element instanceof Object))){if(!(t instanceof b_(t).Element))throw new TypeError("parameter 1 is not of type \"Element\".");var r=this.observations_;r.has(t)&&(r.delete(t),r.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(r){r.isActive()&&t.activeObservations_.push(r)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,r=this.activeObservations_.map(function(n){return new Gdr(n.target,n.broadcastRect())});this.callback_.call(t,r,t),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),mBe=typeof WeakMap!="undefined"?new WeakMap:new fBe,gBe=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var r=Rdr.getInstance(),n=new Hdr(t,r,this);mBe.set(this,n)}return e}();["observe","unobserve","disconnect"].forEach(function(e){gBe.prototype[e]=function(){var t;return(t=mBe.get(this))[e].apply(t,arguments)}});var Wdr=function(){return typeof fk.ResizeObserver!="undefined"?fk.ResizeObserver:gBe}(),vBe=Wdr;function yBe(e,t){return e===t?!0:!e||!t?!1:"pageX"in t&&"pageY"in t?e.pageX===t.pageX&&e.pageY===t.pageY:"clientX"in t&&"clientY"in t?e.clientX===t.clientX&&e.clientY===t.clientY:!1}function _Be(e,t){e!==document.activeElement&&nv(t,e)&&typeof e.focus=="function"&&e.focus()}function tX(e,t){var r=null,n=null;function i(u){var f=Cn(u,1),m=f[0].target;if(document.documentElement.contains(m)){var y=m.getBoundingClientRect(),w=y.width,I=y.height,M=Math.floor(w),N=Math.floor(I);(r!==M||n!==N)&&Promise.resolve().then(function(){t({width:M,height:N})}),r=M,n=N}}var o=new vBe(i);return e&&o.observe(e),function(){o.disconnect()}}function bBe(e){return typeof e!="function"?null:e()}function xBe(e){return Mn(e)!=="object"||!e?null:e}var Zdr=function(t,r){var n=t.children,i=t.disabled,o=t.target,u=t.align,f=t.onAlign,m=t.monitorWindowResize,y=t.monitorBufferTime,w=y===void 0?0:y,I=Ca.default.useRef({}),M=Ca.default.useRef(),N=Ca.default.Children.only(n),z=Ca.default.useRef({});z.current.disabled=i,z.current.target=o,z.current.align=u,z.current.onAlign=f;var F=cBe(function(){var Ee=z.current,Ne=Ee.disabled,_e=Ee.target,ze=Ee.align,st=Ee.onAlign,at=M.current;if(!Ne&&_e&&at){var At,Qe=bBe(_e),Dt=xBe(_e);I.current.element=Qe,I.current.point=Dt,I.current.align=ze;var Ut=document,Zt=Ut.activeElement;return Qe&&uBe(Qe)?At=pk(at,Qe,ze):Dt&&(At=sBe(at,Dt,ze)),_Be(Zt,at),st&&At&&st(at,At),!0}return!1},w),q=Cn(F,2),R=q[0],U=q[1],Y=Ca.default.useState(),re=Cn(Y,2),de=re[0],ce=re[1],Se=Ca.default.useState(),qe=Cn(Se,2),Re=qe[0],Te=qe[1];return jI(function(){ce(bBe(o)),Te(xBe(o))}),Ca.default.useEffect(function(){(I.current.element!==de||!yBe(I.current.point,Re)||!lBe(I.current.align,u))&&R()}),Ca.default.useEffect(function(){var Ee=tX(M.current,R);return Ee},[M.current]),Ca.default.useEffect(function(){var Ee=tX(de,R);return Ee},[de]),Ca.default.useEffect(function(){i?U():R()},[i]),Ca.default.useEffect(function(){if(m){var Ee=xs(window,"resize",R);return Ee.remove}},[m]),Ca.default.useEffect(function(){return function(){U()}},[]),Ca.default.useImperativeHandle(r,function(){return{forceAlign:function(){return R(!0)}}}),Ca.default.isValidElement(N)&&(N=Ca.default.cloneElement(N,{ref:m_(N.ref,M)})),N},wBe=Ca.default.forwardRef(Zdr);wBe.displayName="Align";var SBe=wBe;var IBe=SBe;var PBe=se(tn());function mk(){"use strict";mk=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,i=typeof Symbol=="function"?Symbol:{},o=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",f=i.toStringTag||"@@toStringTag";function m(Te,Ee,Ne,_e){return Object.defineProperty(Te,Ee,{value:Ne,enumerable:!_e,configurable:!_e,writable:!_e})}try{m({},"")}catch(Te){m=function(Ne,_e,ze){return Ne[_e]=ze}}function y(Te,Ee,Ne,_e){var ze=Ee&&Ee.prototype instanceof M?Ee:M,st=Object.create(ze.prototype);return m(st,"_invoke",function(at,At,Qe){var Dt=1;return function(Ut,Zt){if(Dt===3)throw Error("Generator is already running");if(Dt===4){if(Ut==="throw")throw Zt;return{value:e,done:!0}}for(Qe.method=Ut,Qe.arg=Zt;;){var Xe=Qe.delegate;if(Xe){var lt=de(Xe,Qe);if(lt){if(lt===I)continue;return lt}}if(Qe.method==="next")Qe.sent=Qe._sent=Qe.arg;else if(Qe.method==="throw"){if(Dt===1)throw Dt=4,Qe.arg;Qe.dispatchException(Qe.arg)}else Qe.method==="return"&&Qe.abrupt("return",Qe.arg);Dt=3;var yt=w(at,At,Qe);if(yt.type==="normal"){if(Dt=Qe.done?4:2,yt.arg===I)continue;return{value:yt.arg,done:Qe.done}}yt.type==="throw"&&(Dt=4,Qe.method="throw",Qe.arg=yt.arg)}}}(Te,Ne,new qe(_e||[])),!0),st}function w(Te,Ee,Ne){try{return{type:"normal",arg:Te.call(Ee,Ne)}}catch(_e){return{type:"throw",arg:_e}}}t.wrap=y;var I={};function M(){}function N(){}function z(){}var F={};m(F,o,function(){return this});var q=Object.getPrototypeOf,R=q&&q(q(Re([])));R&&R!==r&&n.call(R,o)&&(F=R);var U=z.prototype=M.prototype=Object.create(F);function Y(Te){["next","throw","return"].forEach(function(Ee){m(Te,Ee,function(Ne){return this._invoke(Ee,Ne)})})}function re(Te,Ee){function Ne(ze,st,at,At){var Qe=w(Te[ze],Te,st);if(Qe.type!=="throw"){var Dt=Qe.arg,Ut=Dt.value;return Ut&&Mn(Ut)=="object"&&n.call(Ut,"__await")?Ee.resolve(Ut.__await).then(function(Zt){Ne("next",Zt,at,At)},function(Zt){Ne("throw",Zt,at,At)}):Ee.resolve(Ut).then(function(Zt){Dt.value=Zt,at(Dt)},function(Zt){return Ne("throw",Zt,at,At)})}At(Qe.arg)}var _e;m(this,"_invoke",function(ze,st){function at(){return new Ee(function(At,Qe){Ne(ze,st,At,Qe)})}return _e=_e?_e.then(at,at):at()},!0)}function de(Te,Ee){var Ne=Ee.method,_e=Te.i[Ne];if(_e===e)return Ee.delegate=null,Ne==="throw"&&Te.i.return&&(Ee.method="return",Ee.arg=e,de(Te,Ee),Ee.method==="throw")||Ne!=="return"&&(Ee.method="throw",Ee.arg=new TypeError("The iterator does not provide a '"+Ne+"' method")),I;var ze=w(_e,Te.i,Ee.arg);if(ze.type==="throw")return Ee.method="throw",Ee.arg=ze.arg,Ee.delegate=null,I;var st=ze.arg;return st?st.done?(Ee[Te.r]=st.value,Ee.next=Te.n,Ee.method!=="return"&&(Ee.method="next",Ee.arg=e),Ee.delegate=null,I):st:(Ee.method="throw",Ee.arg=new TypeError("iterator result is not an object"),Ee.delegate=null,I)}function ce(Te){this.tryEntries.push(Te)}function Se(Te){var Ee=Te[4]||{};Ee.type="normal",Ee.arg=e,Te[4]=Ee}function qe(Te){this.tryEntries=[[-1]],Te.forEach(ce,this),this.reset(!0)}function Re(Te){if(Te!=null){var Ee=Te[o];if(Ee)return Ee.call(Te);if(typeof Te.next=="function")return Te;if(!isNaN(Te.length)){var Ne=-1,_e=function ze(){for(;++Ne<Te.length;)if(n.call(Te,Ne))return ze.value=Te[Ne],ze.done=!1,ze;return ze.value=e,ze.done=!0,ze};return _e.next=_e}}throw new TypeError(Mn(Te)+" is not iterable")}return N.prototype=z,m(U,"constructor",z),m(z,"constructor",N),N.displayName=m(z,f,"GeneratorFunction"),t.isGeneratorFunction=function(Te){var Ee=typeof Te=="function"&&Te.constructor;return!!Ee&&(Ee===N||(Ee.displayName||Ee.name)==="GeneratorFunction")},t.mark=function(Te){return Object.setPrototypeOf?Object.setPrototypeOf(Te,z):(Te.__proto__=z,m(Te,f,"GeneratorFunction")),Te.prototype=Object.create(U),Te},t.awrap=function(Te){return{__await:Te}},Y(re.prototype),m(re.prototype,u,function(){return this}),t.AsyncIterator=re,t.async=function(Te,Ee,Ne,_e,ze){ze===void 0&&(ze=Promise);var st=new re(y(Te,Ee,Ne,_e),ze);return t.isGeneratorFunction(Ee)?st:st.next().then(function(at){return at.done?at.value:st.next()})},Y(U),m(U,f,"Generator"),m(U,o,function(){return this}),m(U,"toString",function(){return"[object Generator]"}),t.keys=function(Te){var Ee=Object(Te),Ne=[];for(var _e in Ee)Ne.unshift(_e);return function ze(){for(;Ne.length;)if((_e=Ne.pop())in Ee)return ze.value=_e,ze.done=!1,ze;return ze.done=!0,ze}},t.values=Re,qe.prototype={constructor:qe,reset:function(Ee){if(this.prev=this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(Se),!Ee)for(var Ne in this)Ne.charAt(0)==="t"&&n.call(this,Ne)&&!isNaN(+Ne.slice(1))&&(this[Ne]=e)},stop:function(){this.done=!0;var Ee=this.tryEntries[0][4];if(Ee.type==="throw")throw Ee.arg;return this.rval},dispatchException:function(Ee){if(this.done)throw Ee;var Ne=this;function _e(Ut){at.type="throw",at.arg=Ee,Ne.next=Ut}for(var ze=Ne.tryEntries.length-1;ze>=0;--ze){var st=this.tryEntries[ze],at=st[4],At=this.prev,Qe=st[1],Dt=st[2];if(st[0]===-1)return _e("end"),!1;if(!Qe&&!Dt)throw Error("try statement without catch or finally");if(st[0]!=null&&st[0]<=At){if(At<Qe)return this.method="next",this.arg=e,_e(Qe),!0;if(At<Dt)return _e(Dt),!1}}},abrupt:function(Ee,Ne){for(var _e=this.tryEntries.length-1;_e>=0;--_e){var ze=this.tryEntries[_e];if(ze[0]>-1&&ze[0]<=this.prev&&this.prev<ze[2]){var st=ze;break}}st&&(Ee==="break"||Ee==="continue")&&st[0]<=Ne&&Ne<=st[2]&&(st=null);var at=st?st[4]:{};return at.type=Ee,at.arg=Ne,st?(this.method="next",this.next=st[2],I):this.complete(at)},complete:function(Ee,Ne){if(Ee.type==="throw")throw Ee.arg;return Ee.type==="break"||Ee.type==="continue"?this.next=Ee.arg:Ee.type==="return"?(this.rval=this.arg=Ee.arg,this.method="return",this.next="end"):Ee.type==="normal"&&Ne&&(this.next=Ne),I},finish:function(Ee){for(var Ne=this.tryEntries.length-1;Ne>=0;--Ne){var _e=this.tryEntries[Ne];if(_e[2]===Ee)return this.complete(_e[4],_e[3]),Se(_e),I}},catch:function(Ee){for(var Ne=this.tryEntries.length-1;Ne>=0;--Ne){var _e=this.tryEntries[Ne];if(_e[0]===Ee){var ze=_e[4];if(ze.type==="throw"){var st=ze.arg;Se(_e)}return st}}throw Error("illegal catch attempt")},delegateYield:function(Ee,Ne,_e){return this.delegate={i:Re(Ee),r:Ne,n:_e},this.method==="next"&&(this.arg=e),I}},t}function EBe(e,t,r,n,i,o,u){try{var f=e[o](u),m=f.value}catch(y){return void r(y)}f.done?t(m):Promise.resolve(m).then(n,i)}function TBe(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function u(m){EBe(o,n,i,u,f,"next",m)}function f(m){EBe(o,n,i,u,f,"throw",m)}u(void 0)})}}var x_=se(He());var MBe=["measure","alignPre","align",null,"motion"],CBe=function(e,t){var r=Pf(null),n=Cn(r,2),i=n[0],o=n[1],u=(0,x_.useRef)();function f(w){o(w,!0)}function m(){Js.cancel(u.current)}function y(w){m(),u.current=Js(function(){f(function(I){switch(i){case"align":return"motion";case"motion":return"stable";default:}return I}),w==null||w()})}return(0,x_.useEffect)(function(){f("measure")},[e]),(0,x_.useEffect)(function(){switch(i){case"measure":t();break;default:}i&&(u.current=Js(TBe(mk().mark(function w(){var I,M;return mk().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:I=MBe.indexOf(i),M=MBe[I+1],M&&I!==-1&&f(M);case 3:case"end":return z.stop()}},w)}))))},[i]),(0,x_.useEffect)(function(){return function(){m()}},[]),[i,y]};var gk=se(He()),ABe=function(e){var t=gk.useState({width:0,height:0}),r=Cn(t,2),n=r[0],i=r[1];function o(f){var m=f.offsetWidth,y=f.offsetHeight,w=f.getBoundingClientRect(),I=w.width,M=w.height;Math.abs(m-I)<1&&Math.abs(y-M)<1&&(m=I,y=M),i({width:m,height:y})}var u=gk.useMemo(function(){var f={};if(e){var m=n.width,y=n.height;e.indexOf("height")!==-1&&y?f.height=y:e.indexOf("minHeight")!==-1&&y&&(f.minHeight=y),e.indexOf("width")!==-1&&m?f.width=m:e.indexOf("minWidth")!==-1&&m&&(f.minWidth=m)}return f},[e,n]);return[u,o]};var OBe=wl.forwardRef(function(e,t){var r=e.visible,n=e.prefixCls,i=e.className,o=e.style,u=e.children,f=e.zIndex,m=e.stretch,y=e.destroyPopupOnHide,w=e.forceRender,I=e.align,M=e.point,N=e.getRootDomNode,z=e.getClassNameFromAlign,F=e.onAlign,q=e.onMouseEnter,R=e.onMouseLeave,U=e.onMouseDown,Y=e.onTouchStart,re=e.onClick,de=(0,av.useRef)(),ce=(0,av.useRef)(),Se=(0,av.useState)(),qe=Cn(Se,2),Re=qe[0],Te=qe[1],Ee=ABe(m),Ne=Cn(Ee,2),_e=Ne[0],ze=Ne[1];function st(){m&&ze(N())}var at=CBe(r,st),At=Cn(at,2),Qe=At[0],Dt=At[1],Ut=(0,av.useState)(0),Zt=Cn(Ut,2),Xe=Zt[0],lt=Zt[1],yt=(0,av.useRef)();jI(function(){Qe==="alignPre"&&lt(0)},[Qe]);function Fe(){return M||N}function Me(){var Nt;(Nt=de.current)===null||Nt===void 0||Nt.forceAlign()}function Ue(Nt,Yt){var It=z(Yt);Re!==It&&Te(It),lt(function(Vt){return Vt+1}),Qe==="align"&&(F==null||F(Nt,Yt))}jI(function(){Qe==="align"&&(Xe<3?Me():Dt(function(){var Nt;(Nt=yt.current)===null||Nt===void 0||Nt.call(yt)}))},[Xe]);var je=Ot({},ik(e));["onAppearEnd","onEnterEnd","onLeaveEnd"].forEach(function(Nt){var Yt=je[Nt];je[Nt]=function(It,Vt){return Dt(),Yt==null?void 0:Yt(It,Vt)}});function tt(){return new Promise(function(Nt){yt.current=Nt})}wl.useEffect(function(){!je.motionName&&Qe==="motion"&&Dt()},[je.motionName,Qe]),wl.useImperativeHandle(t,function(){return{forceAlign:Me,getElement:function(){return ce.current}}});var it=Ot(Ot({},_e),{},{zIndex:f,opacity:Qe==="motion"||Qe==="stable"||!r?void 0:0,pointerEvents:!r&&Qe!=="stable"?"none":void 0},o),St=!0;I!=null&&I.points&&(Qe==="align"||Qe==="stable")&&(St=!1);var vt=u;return wl.Children.count(u)>1&&(vt=wl.createElement("div",{className:"".concat(n,"-content")},u)),wl.createElement(y_,dn({visible:r,ref:ce,leavedClassName:"".concat(n,"-hidden")},je,{onAppearPrepare:tt,onEnterPrepare:tt,removeOnLeave:y,forceRender:w}),function(Nt,Yt){var It=Nt.className,Vt=Nt.style,Jt=(0,PBe.default)(n,i,Re,It);return wl.createElement(IBe,{target:Fe(),key:"popup",ref:de,monitorWindowResize:!0,disabled:St,align:I,onAlign:Ue},wl.createElement("div",{ref:Yt,className:Jt,onMouseEnter:q,onMouseLeave:R,onMouseDownCapture:U,onTouchStartCapture:Y,onClick:re,style:Ot(Ot({},Vt),it)},vt))})});OBe.displayName="PopupInner";var DBe=OBe;var fu=se(He());var NBe=se(tn()),kBe=fu.forwardRef(function(e,t){var r=e.prefixCls,n=e.visible,i=e.zIndex,o=e.children,u=e.mobile;u=u===void 0?{}:u;var f=u.popupClassName,m=u.popupStyle,y=u.popupMotion,w=y===void 0?{}:y,I=u.popupRender,M=e.onClick,N=fu.useRef();fu.useImperativeHandle(t,function(){return{forceAlign:function(){},getElement:function(){return N.current}}});var z=Ot({zIndex:i},m),F=o;return fu.Children.count(o)>1&&(F=fu.createElement("div",{className:"".concat(r,"-content")},o)),I&&(F=I(F)),fu.createElement(y_,dn({visible:n,ref:N,removeOnLeave:!0},w),function(q,R){var U=q.className,Y=q.style,re=(0,NBe.default)(r,f,U);return fu.createElement("div",{ref:R,className:re,onClick:M,style:Ot(Ot({},Y),z)},F)})});kBe.displayName="MobilePopupInner";var LBe=kBe;var Ydr=["visible","mobile"],RBe=sv.forwardRef(function(e,t){var r=e.visible,n=e.mobile,i=bs(e,Ydr),o=(0,WI.useState)(r),u=Cn(o,2),f=u[0],m=u[1],y=(0,WI.useState)(!1),w=Cn(y,2),I=w[0],M=w[1],N=Ot(Ot({},i),{},{visible:f});(0,WI.useEffect)(function(){m(r),r&&n&&M(yFe())},[r,n]);var z=I?sv.createElement(LBe,dn({},N,{mobile:n,ref:t})):sv.createElement(DBe,dn({},N,{ref:t}));return sv.createElement("div",null,sv.createElement(FK,N),z)});RBe.displayName="Popup";var qBe=RBe;var zBe=se(He()),Kdr=zBe.createContext(null),rX=Kdr;function nX(){}function Xdr(){return""}function Qdr(e){return e?e.ownerDocument:window.document}var Jdr=["onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur","onContextMenu"];function ehr(e){var t=function(r){Ja(i,r);var n=es(i);function i(o){var u;Xa(this,i),u=n.call(this,o),Tt(Br(u),"popupRef",Sl.createRef()),Tt(Br(u),"triggerRef",Sl.createRef()),Tt(Br(u),"portalContainer",void 0),Tt(Br(u),"attachId",void 0),Tt(Br(u),"clickOutsideHandler",void 0),Tt(Br(u),"touchOutsideHandler",void 0),Tt(Br(u),"contextMenuOutsideHandler1",void 0),Tt(Br(u),"contextMenuOutsideHandler2",void 0),Tt(Br(u),"mouseDownTimeout",void 0),Tt(Br(u),"focusTime",void 0),Tt(Br(u),"preClickTime",void 0),Tt(Br(u),"preTouchTime",void 0),Tt(Br(u),"delayTimer",void 0),Tt(Br(u),"hasPopupMouseDown",void 0),Tt(Br(u),"onMouseEnter",function(m){var y=u.props.mouseEnterDelay;u.fireEvents("onMouseEnter",m),u.delaySetPopupVisible(!0,y,y?null:m)}),Tt(Br(u),"onMouseMove",function(m){u.fireEvents("onMouseMove",m),u.setPoint(m)}),Tt(Br(u),"onMouseLeave",function(m){u.fireEvents("onMouseLeave",m),u.delaySetPopupVisible(!1,u.props.mouseLeaveDelay)}),Tt(Br(u),"onPopupMouseEnter",function(){u.clearDelayTimer()}),Tt(Br(u),"onPopupMouseLeave",function(m){var y;m.relatedTarget&&!m.relatedTarget.setTimeout&&nv((y=u.popupRef.current)===null||y===void 0?void 0:y.getElement(),m.relatedTarget)||u.delaySetPopupVisible(!1,u.props.mouseLeaveDelay)}),Tt(Br(u),"onFocus",function(m){u.fireEvents("onFocus",m),u.clearDelayTimer(),u.isFocusToShow()&&(u.focusTime=Date.now(),u.delaySetPopupVisible(!0,u.props.focusDelay))}),Tt(Br(u),"onMouseDown",function(m){u.fireEvents("onMouseDown",m),u.preClickTime=Date.now()}),Tt(Br(u),"onTouchStart",function(m){u.fireEvents("onTouchStart",m),u.preTouchTime=Date.now()}),Tt(Br(u),"onBlur",function(m){u.fireEvents("onBlur",m),u.clearDelayTimer(),u.isBlurToHide()&&u.delaySetPopupVisible(!1,u.props.blurDelay)}),Tt(Br(u),"onContextMenu",function(m){m.preventDefault(),u.fireEvents("onContextMenu",m),u.setPopupVisible(!0,m)}),Tt(Br(u),"onContextMenuClose",function(){u.isContextMenuToShow()&&u.close()}),Tt(Br(u),"onClick",function(m){if(u.fireEvents("onClick",m),u.focusTime){var y;if(u.preClickTime&&u.preTouchTime?y=Math.min(u.preClickTime,u.preTouchTime):u.preClickTime?y=u.preClickTime:u.preTouchTime&&(y=u.preTouchTime),Math.abs(y-u.focusTime)<20)return;u.focusTime=0}u.preClickTime=0,u.preTouchTime=0,u.isClickToShow()&&(u.isClickToHide()||u.isBlurToHide())&&m&&m.preventDefault&&m.preventDefault();var w=!u.state.popupVisible;(u.isClickToHide()&&!w||w&&u.isClickToShow())&&u.setPopupVisible(!u.state.popupVisible,m)}),Tt(Br(u),"onPopupMouseDown",function(){if(u.hasPopupMouseDown=!0,clearTimeout(u.mouseDownTimeout),u.mouseDownTimeout=window.setTimeout(function(){u.hasPopupMouseDown=!1},0),u.context){var m;(m=u.context).onPopupMouseDown.apply(m,arguments)}}),Tt(Br(u),"onDocumentClick",function(m){if(!(u.props.mask&&!u.props.maskClosable)){var y=m.target,w=u.getRootDomNode(),I=u.getPopupDomNode();(!nv(w,y)||u.isContextMenuOnly())&&!nv(I,y)&&!u.hasPopupMouseDown&&u.close()}}),Tt(Br(u),"getRootDomNode",function(){var m=u.props.getTriggerDOMNode;if(m)return m(u.triggerRef.current);try{var y=RI(u.triggerRef.current);if(y)return y}catch(w){}return jBe.default.findDOMNode(Br(u))}),Tt(Br(u),"getPopupClassNameFromAlign",function(m){var y=[],w=u.props,I=w.popupPlacement,M=w.builtinPlacements,N=w.prefixCls,z=w.alignPoint,F=w.getPopupClassNameFromAlign;return I&&M&&y.push(gFe(M,N,m,z)),F&&y.push(F(m)),y.join(" ")}),Tt(Br(u),"getComponent",function(){var m=u.props,y=m.prefixCls,w=m.destroyPopupOnHide,I=m.popupClassName,M=m.onPopupAlign,N=m.popupMotion,z=m.popupAnimation,F=m.popupTransitionName,q=m.popupStyle,R=m.mask,U=m.maskAnimation,Y=m.maskTransitionName,re=m.maskMotion,de=m.zIndex,ce=m.popup,Se=m.stretch,qe=m.alignPoint,Re=m.mobile,Te=m.forceRender,Ee=m.onPopupClick,Ne=u.state,_e=Ne.popupVisible,ze=Ne.point,st=u.getPopupAlign(),at={};return u.isMouseEnterToShow()&&(at.onMouseEnter=u.onPopupMouseEnter),u.isMouseLeaveToHide()&&(at.onMouseLeave=u.onPopupMouseLeave),at.onMouseDown=u.onPopupMouseDown,at.onTouchStart=u.onPopupMouseDown,Sl.createElement(qBe,dn({prefixCls:y,destroyPopupOnHide:w,visible:_e,point:qe&&ze,className:I,align:st,onAlign:M,animation:z,getClassNameFromAlign:u.getPopupClassNameFromAlign},at,{stretch:Se,getRootDomNode:u.getRootDomNode,style:q,mask:R,zIndex:de,transitionName:F,maskAnimation:U,maskTransitionName:Y,maskMotion:re,ref:u.popupRef,motion:N,mobile:Re,forceRender:Te,onClick:Ee}),typeof ce=="function"?ce():ce)}),Tt(Br(u),"attachParent",function(m){Js.cancel(u.attachId);var y=u.props,w=y.getPopupContainer,I=y.getDocument,M=u.getRootDomNode(),N;w?(M||w.length===0)&&(N=w(M)):N=I(u.getRootDomNode()).body,N?N.appendChild(m):u.attachId=Js(function(){u.attachParent(m)})}),Tt(Br(u),"getContainer",function(){if(!u.portalContainer){var m=u.props.getDocument,y=m(u.getRootDomNode()).createElement("div");y.style.position="absolute",y.style.top="0",y.style.left="0",y.style.width="100%",u.portalContainer=y}return u.attachParent(u.portalContainer),u.portalContainer}),Tt(Br(u),"setPoint",function(m){var y=u.props.alignPoint;!y||!m||u.setState({point:{pageX:m.pageX,pageY:m.pageY}})}),Tt(Br(u),"handlePortalUpdate",function(){u.state.prevPopupVisible!==u.state.popupVisible&&u.props.afterPopupVisibleChange(u.state.popupVisible)}),Tt(Br(u),"triggerContextValue",{onPopupMouseDown:u.onPopupMouseDown});var f;return"popupVisible"in o?f=!!o.popupVisible:f=!!o.defaultPopupVisible,u.state={prevPopupVisible:f,popupVisible:f},Jdr.forEach(function(m){u["fire".concat(m)]=function(y){u.fireEvents(m,y)}}),u}return Qa(i,[{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){var u=this.props,f=this.state;if(f.popupVisible){var m;!this.clickOutsideHandler&&(this.isClickToHide()||this.isContextMenuToShow())&&(m=u.getDocument(this.getRootDomNode()),this.clickOutsideHandler=xs(m,"mousedown",this.onDocumentClick)),this.touchOutsideHandler||(m=m||u.getDocument(this.getRootDomNode()),this.touchOutsideHandler=xs(m,"touchstart",this.onDocumentClick)),!this.contextMenuOutsideHandler1&&this.isContextMenuToShow()&&(m=m||u.getDocument(this.getRootDomNode()),this.contextMenuOutsideHandler1=xs(m,"scroll",this.onContextMenuClose)),!this.contextMenuOutsideHandler2&&this.isContextMenuToShow()&&(this.contextMenuOutsideHandler2=xs(window,"blur",this.onContextMenuClose));return}this.clearOutsideHandler()}},{key:"componentWillUnmount",value:function(){this.clearDelayTimer(),this.clearOutsideHandler(),clearTimeout(this.mouseDownTimeout),Js.cancel(this.attachId)}},{key:"getPopupDomNode",value:function(){var u;return((u=this.popupRef.current)===null||u===void 0?void 0:u.getElement())||null}},{key:"getPopupAlign",value:function(){var u=this.props,f=u.popupPlacement,m=u.popupAlign,y=u.builtinPlacements;return f&&y?mFe(y,f,m):m}},{key:"setPopupVisible",value:function(u,f){var m=this.props.alignPoint,y=this.state.popupVisible;this.clearDelayTimer(),y!==u&&("popupVisible"in this.props||this.setState({popupVisible:u,prevPopupVisible:y}),this.props.onPopupVisibleChange(u)),m&&f&&u&&this.setPoint(f)}},{key:"delaySetPopupVisible",value:function(u,f,m){var y=this,w=f*1e3;if(this.clearDelayTimer(),w){var I=m?{pageX:m.pageX,pageY:m.pageY}:null;this.delayTimer=window.setTimeout(function(){y.setPopupVisible(u,I),y.clearDelayTimer()},w)}else this.setPopupVisible(u,m)}},{key:"clearDelayTimer",value:function(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)}},{key:"clearOutsideHandler",value:function(){this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.clickOutsideHandler=null),this.contextMenuOutsideHandler1&&(this.contextMenuOutsideHandler1.remove(),this.contextMenuOutsideHandler1=null),this.contextMenuOutsideHandler2&&(this.contextMenuOutsideHandler2.remove(),this.contextMenuOutsideHandler2=null),this.touchOutsideHandler&&(this.touchOutsideHandler.remove(),this.touchOutsideHandler=null)}},{key:"createTwoChains",value:function(u){var f=this.props.children.props,m=this.props;return f[u]&&m[u]?this["fire".concat(u)]:f[u]||m[u]}},{key:"isClickToShow",value:function(){var u=this.props,f=u.action,m=u.showAction;return f.indexOf("click")!==-1||m.indexOf("click")!==-1}},{key:"isContextMenuOnly",value:function(){var u=this.props.action;return u==="contextMenu"||u.length===1&&u[0]==="contextMenu"}},{key:"isContextMenuToShow",value:function(){var u=this.props,f=u.action,m=u.showAction;return f.indexOf("contextMenu")!==-1||m.indexOf("contextMenu")!==-1}},{key:"isClickToHide",value:function(){var u=this.props,f=u.action,m=u.hideAction;return f.indexOf("click")!==-1||m.indexOf("click")!==-1}},{key:"isMouseEnterToShow",value:function(){var u=this.props,f=u.action,m=u.showAction;return f.indexOf("hover")!==-1||m.indexOf("mouseEnter")!==-1}},{key:"isMouseLeaveToHide",value:function(){var u=this.props,f=u.action,m=u.hideAction;return f.indexOf("hover")!==-1||m.indexOf("mouseLeave")!==-1}},{key:"isFocusToShow",value:function(){var u=this.props,f=u.action,m=u.showAction;return f.indexOf("focus")!==-1||m.indexOf("focus")!==-1}},{key:"isBlurToHide",value:function(){var u=this.props,f=u.action,m=u.hideAction;return f.indexOf("focus")!==-1||m.indexOf("blur")!==-1}},{key:"forcePopupAlign",value:function(){if(this.state.popupVisible){var u;(u=this.popupRef.current)===null||u===void 0||u.forceAlign()}}},{key:"fireEvents",value:function(u,f){var m=this.props.children.props[u];m&&m(f);var y=this.props[u];y&&y(f)}},{key:"close",value:function(){this.setPopupVisible(!1)}},{key:"render",value:function(){var u=this.state.popupVisible,f=this.props,m=f.children,y=f.forceRender,w=f.alignPoint,I=f.className,M=f.autoDestroy,N=Sl.Children.only(m),z={key:"trigger"};this.isContextMenuToShow()?z.onContextMenu=this.onContextMenu:z.onContextMenu=this.createTwoChains("onContextMenu"),this.isClickToHide()||this.isClickToShow()?(z.onClick=this.onClick,z.onMouseDown=this.onMouseDown,z.onTouchStart=this.onTouchStart):(z.onClick=this.createTwoChains("onClick"),z.onMouseDown=this.createTwoChains("onMouseDown"),z.onTouchStart=this.createTwoChains("onTouchStart")),this.isMouseEnterToShow()?(z.onMouseEnter=this.onMouseEnter,w&&(z.onMouseMove=this.onMouseMove)):z.onMouseEnter=this.createTwoChains("onMouseEnter"),this.isMouseLeaveToHide()?z.onMouseLeave=this.onMouseLeave:z.onMouseLeave=this.createTwoChains("onMouseLeave"),this.isFocusToShow()||this.isBlurToHide()?(z.onFocus=this.onFocus,z.onBlur=this.onBlur):(z.onFocus=this.createTwoChains("onFocus"),z.onBlur=this.createTwoChains("onBlur"));var F=(0,FBe.default)(N&&N.props&&N.props.className,I);F&&(z.className=F);var q=Ot({},z);zI(N)&&(q.ref=m_(this.triggerRef,N.ref));var R=Sl.cloneElement(N,q),U;return(u||this.popupRef.current||y)&&(U=Sl.createElement(e,{key:"portal",getContainer:this.getContainer,didUpdate:this.handlePortalUpdate},this.getComponent())),!u&&M&&(U=null),Sl.createElement(rX.Provider,{value:this.triggerContextValue},R,U)}}],[{key:"getDerivedStateFromProps",value:function(u,f){var m=u.popupVisible,y={};return m!==void 0&&f.popupVisible!==m&&(y.popupVisible=m,y.prevPopupVisible=f.popupVisible),y}}]),i}(Sl.Component);return Tt(t,"contextType",rX),Tt(t,"defaultProps",{prefixCls:"rc-trigger-popup",getPopupClassNameFromAlign:Xdr,getDocument:Qdr,onPopupVisibleChange:nX,afterPopupVisibleChange:nX,onPopupAlign:nX,popupClassName:"",mouseEnterDelay:0,mouseLeaveDelay:.1,focusDelay:0,blurDelay:.15,popupStyle:{},destroyPopupOnHide:!1,popupAlign:{},defaultPopupVisible:!1,mask:!1,maskClosable:!0,action:[],showAction:[],hideAction:[],autoDestroy:!1}),t}var BBe=ehr(hFe);var du={adjustX:1,adjustY:1},hu=[0,0],UBe={left:{points:["cr","cl"],overflow:du,offset:[-4,0],targetOffset:hu},right:{points:["cl","cr"],overflow:du,offset:[4,0],targetOffset:hu},top:{points:["bc","tc"],overflow:du,offset:[0,-4],targetOffset:hu},bottom:{points:["tc","bc"],overflow:du,offset:[0,4],targetOffset:hu},topLeft:{points:["bl","tl"],overflow:du,offset:[0,-4],targetOffset:hu},leftTop:{points:["tr","tl"],overflow:du,offset:[-4,0],targetOffset:hu},topRight:{points:["br","tr"],overflow:du,offset:[0,-4],targetOffset:hu},rightTop:{points:["tl","tr"],overflow:du,offset:[4,0],targetOffset:hu},bottomRight:{points:["tr","br"],overflow:du,offset:[0,4],targetOffset:hu},rightBottom:{points:["bl","br"],overflow:du,offset:[4,0],targetOffset:hu},bottomLeft:{points:["tl","bl"],overflow:du,offset:[0,4],targetOffset:hu},leftBottom:{points:["br","bl"],overflow:du,offset:[-4,0],targetOffset:hu}};var vk=se(He()),VBe=se(tn());function yk(e){var t=e.showArrow,r=e.arrowContent,n=e.children,i=e.prefixCls,o=e.id,u=e.overlayInnerStyle,f=e.className,m=e.style;return vk.createElement("div",{className:(0,VBe.default)("".concat(i,"-content"),f),style:m},t!==!1&&vk.createElement("div",{className:"".concat(i,"-arrow"),key:"arrow"},r),vk.createElement("div",{className:"".concat(i,"-inner"),id:o,role:"tooltip",style:u},typeof n=="function"?n():n))}var thr=["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle","arrowContent","overlay","id","showArrow"],rhr=function(t,r){var n=t.overlayClassName,i=t.trigger,o=i===void 0?["hover"]:i,u=t.mouseEnterDelay,f=u===void 0?0:u,m=t.mouseLeaveDelay,y=m===void 0?.1:m,w=t.overlayStyle,I=t.prefixCls,M=I===void 0?"rc-tooltip":I,N=t.children,z=t.onVisibleChange,F=t.afterVisibleChange,q=t.transitionName,R=t.animation,U=t.motion,Y=t.placement,re=Y===void 0?"right":Y,de=t.align,ce=de===void 0?{}:de,Se=t.destroyTooltipOnHide,qe=Se===void 0?!1:Se,Re=t.defaultVisible,Te=t.getTooltipContainer,Ee=t.overlayInnerStyle,Ne=t.arrowContent,_e=t.overlay,ze=t.id,st=t.showArrow,at=st===void 0?!0:st,At=bs(t,thr),Qe=(0,w_.useRef)(null);(0,w_.useImperativeHandle)(r,function(){return Qe.current});var Dt=Ot({},At);"visible"in t&&(Dt.popupVisible=t.visible);var Ut=function(){return iX.createElement(yk,{showArrow:at,arrowContent:Ne,key:"content",prefixCls:M,id:ze,overlayInnerStyle:Ee},_e)},Zt=!1,Xe=!1;if(typeof qe=="boolean")Zt=qe;else if(qe&&Mn(qe)==="object"){var lt=qe.keepParent;Zt=lt===!0,Xe=lt===!1}return iX.createElement(BBe,dn({popupClassName:n,prefixCls:M,popup:Ut,action:o,builtinPlacements:UBe,popupPlacement:re,ref:Qe,popupAlign:ce,getPopupContainer:Te,onPopupVisibleChange:z,afterPopupVisibleChange:F,popupTransitionName:q,popupAnimation:R,popupMotion:U,defaultPopupVisible:Re,destroyPopupOnHide:Zt,autoDestroy:Xe,mouseLeaveDelay:y,popupStyle:w,mouseEnterDelay:f},Dt),N)},$Be=(0,w_.forwardRef)(rhr);var GBe=$Be;var nhr=Nf.forwardRef(function(e,t){var r=e.visible,n=e.overlay,i=Nf.useRef(null),o=m_(t,i),u=Nf.useRef(null);function f(){Js.cancel(u.current)}function m(){u.current=Js(function(){var y;(y=i.current)===null||y===void 0||y.forcePopupAlign()})}return Nf.useEffect(function(){return r?m():f(),f},[r,n]),Nf.createElement(GBe,dn({ref:o},e))}),oX=nhr;function aX(e){var t;return t=function(r){Ja(i,r);var n=es(i);function i(){var o;return Xa(this,i),o=n.apply(this,arguments),o.state={visibles:{}},o.handleTooltipVisibleChange=function(u,f){o.setState(function(m){return{visibles:Ot(Ot({},m.visibles),{},Tt({},u,f))}})},o.handleWithTooltip=function(u){var f=u.value,m=u.dragging,y=u.index,w=u.disabled,I=bs(u,["value","dragging","index","disabled"]),M=o.props,N=M.tipFormatter,z=M.tipProps,F=M.handleStyle,q=M.getTooltipContainer,R=z.prefixCls,U=R===void 0?"rc-slider-tooltip":R,Y=z.overlay,re=Y===void 0?N(f):Y,de=z.placement,ce=de===void 0?"top":de,Se=z.visible,qe=Se===void 0?!1:Se,Re=bs(z,["prefixCls","overlay","placement","visible"]),Te;return Array.isArray(F)?Te=F[y]||F[0]:Te=F,ZI.default.createElement(oX,dn({},Re,{getTooltipContainer:q,prefixCls:U,overlay:re,placement:ce,visible:!w&&(o.state.visibles[y]||m)||qe,key:y}),ZI.default.createElement(d_,dn({},I,{style:Ot({},Te),value:f,onMouseEnter:function(){return o.handleTooltipVisibleChange(y,!0)},onMouseLeave:function(){return o.handleTooltipVisibleChange(y,!1)}})))},o}return Qa(i,[{key:"render",value:function(){return ZI.default.createElement(e,dn({},this.props,{handle:this.handleWithTooltip}))}}]),i}(ZI.default.Component),t.defaultProps={tipFormatter:function(n){return n},handleStyle:[{}],tipProps:{},getTooltipContainer:function(n){return n.parentNode}},t}var sX=Jje;sX.Range=AN;sX.Handle=d_;sX.createSliderWithTooltip=aX;var S_=se(Wt(),1),Ti=se(He(),1);var ac=se(Wt(),1),Il=se(He(),1);function ihr(e,t){function r(n){return n>="0"&&n<="9"}return e.split("").some(n=>!r(n)&&n!==t)}var HBe=(0,Il.forwardRef)(function({className:t,value:r,onBlur:n=()=>{},onKeyDown:i=()=>{},onChange:o=()=>{},readOnly:u,tabIndex:f,placeholder:m,name:y},w){let[I,M]=(0,Il.useState)(r),[N,z]=(0,Il.useState)(r);N!==r&&(z(r),M(r));let F=(0,Il.useMemo)(()=>Nr.getSettings().LANGUAGE_CODE===c1.DE?".":"/",[]),q=(0,Il.useCallback)(U=>{let Y=`${U.target.value}`;ihr(Y,F)||Y.length>10||(M(U.target.value),o(U.target.value))},[F]),R=(0,Il.useCallback)(U=>{n(U,I)},[I,n]);return Il.default.createElement("div",{className:"date-input-root"},Il.default.createElement("input",{className:_r(u&&"readonly",t),ref:w,value:I,onBlur:R,onKeyDown:i,onChange:q,readOnly:u!=null?u:void 0,tabIndex:f!=null?f:void 0,placeholder:m!=null?m:void 0,name:y!=null?y:void 0}))});HBe.propTypes={value:ac.default.string.isRequired,className:ac.default.string,onBlur:ac.default.func,onKeyDown:ac.default.func,onChange:ac.default.func,readOnly:ac.default.bool,tabIndex:ac.default.number,placeholder:ac.default.string,defaultValue:ac.default.string,name:ac.default.string};var WBe=HBe;var lX=WBe;var Ht=se(He(),1),ZBe=se(Wt(),1);var ohr={addVectorMap:Ht.default.createElement("svg",{width:"20",height:"16",viewBox:"0 0 20 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Ht.default.createElement("path",{d:"M5.3888 13.0958C5.31376 12.9926 5.21482 12.9091 5.10047 12.8525C4.19363 12.4067 3.42983 11.7158 2.89568 10.8581C2.36152 10.0003 2.0784 9.01005 2.0784 7.99957C2.0784 6.9891 2.36152 5.99884 2.89568 5.14109C3.42983 4.28334 4.19363 3.59241 5.10047 3.14666C5.21477 3.09032 5.3137 3.00711 5.3888 2.90416L5.4063 2.87916C5.51654 2.73062 5.57378 2.54941 5.56886 2.3645C5.56394 2.17959 5.49715 2.00167 5.37917 1.85921C5.26118 1.71674 5.09883 1.61797 4.91808 1.57868C4.73732 1.53939 4.54861 1.56186 4.38214 1.64249C3.19133 2.22398 2.18778 3.12823 1.48579 4.25223C0.783811 5.37623 0.411621 6.67479 0.411621 7.99999C0.411621 9.32519 0.783811 10.6237 1.48579 11.7477C2.18778 12.8717 3.19133 13.776 4.38214 14.3575C4.54869 14.4376 4.73726 14.4596 4.9178 14.4201C5.09833 14.3805 5.26043 14.2817 5.37826 14.1393C5.4961 13.997 5.56288 13.8192 5.56796 13.6345C5.57304 13.4498 5.51613 13.2686 5.4063 13.12L5.3888 13.0958Z",fill:"currentColor"}),Ht.default.createElement("path",{d:"M12.4946 0.5C11.0113 0.5 9.56122 0.939867 8.32785 1.76398C7.09449 2.58809 6.13319 3.75943 5.56554 5.12987C4.99788 6.50032 4.84935 8.00832 5.13874 9.46318C5.42813 10.918 6.14244 12.2544 7.19133 13.3033C8.24022 14.3522 9.5766 15.0665 11.0315 15.3559C12.4863 15.6453 13.9943 15.4968 15.3648 14.9291C16.7352 14.3614 17.9065 13.4001 18.7307 12.1668C19.5548 10.9334 19.9946 9.48336 19.9946 8C19.9924 6.01155 19.2015 4.10518 17.7955 2.69914C16.3895 1.29309 14.4831 0.502206 12.4946 0.5ZM12.4946 13.8333C11.3409 13.8333 10.2131 13.4912 9.25381 12.8502C8.29452 12.2093 7.54685 11.2982 7.10533 10.2323C6.66382 9.16642 6.5483 7.99353 6.77338 6.86197C6.99846 5.73042 7.55404 4.69102 8.36984 3.87521C9.18565 3.0594 10.225 2.50383 11.3566 2.27875C12.4882 2.05367 13.661 2.16919 14.727 2.6107C15.7929 3.05221 16.7039 3.79989 17.3449 4.75917C17.9858 5.71846 18.328 6.84628 18.328 8C18.3262 9.54655 17.7111 11.0293 16.6175 12.1228C15.5239 13.2164 14.0412 13.8316 12.4946 13.8333Z",fill:"currentColor"}),Ht.default.createElement("path",{d:"M15.6321 6.9583H13.7446C13.6893 6.9583 13.6364 6.93635 13.5973 6.89728C13.5582 6.85821 13.5363 6.80522 13.5363 6.74997V4.86247C13.5363 4.5862 13.4265 4.32125 13.2312 4.1259C13.0358 3.93055 12.7709 3.8208 12.4946 3.8208C12.2183 3.8208 11.9534 3.93055 11.758 4.1259C11.5627 4.32125 11.4529 4.5862 11.4529 4.86247V6.74997C11.4529 6.80522 11.431 6.85821 11.3919 6.89728C11.3528 6.93635 11.2999 6.9583 11.2446 6.9583H9.3571C9.08083 6.9583 8.81588 7.06805 8.62053 7.2634C8.42518 7.45875 8.31543 7.7237 8.31543 7.99997C8.31543 8.27623 8.42518 8.54119 8.62053 8.73654C8.81588 8.93189 9.08083 9.04163 9.3571 9.04163H11.2446C11.2999 9.04163 11.3528 9.06358 11.3919 9.10265C11.431 9.14172 11.4529 9.19471 11.4529 9.24997V11.1366C11.4529 11.4129 11.5627 11.6779 11.758 11.8732C11.9534 12.0686 12.2183 12.1783 12.4946 12.1783C12.7709 12.1783 13.0358 12.0686 13.2312 11.8732C13.4265 11.6779 13.5363 11.4129 13.5363 11.1366V9.24997C13.5363 9.19471 13.5582 9.14172 13.5973 9.10265C13.6364 9.06358 13.6893 9.04163 13.7446 9.04163H15.6321C15.9084 9.04163 16.1733 8.93189 16.3687 8.73654C16.564 8.54119 16.6738 8.27623 16.6738 7.99997C16.6738 7.7237 16.564 7.45875 16.3687 7.2634C16.1733 7.06805 15.9084 6.9583 15.6321 6.9583Z",fill:"currentColor"})),uploadVectorMap:Ht.default.createElement("svg",{width:"25",height:"24",viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Ht.default.createElement("path",{d:"M17.6616 10.5C13.9366 10.5 10.9116 13.525 10.9116 17.25C10.9116 20.975 13.9366 24 17.6616 24C21.3866 24 24.4116 20.975 24.4116 17.25C24.4116 13.525 21.3866 10.5 17.6616 10.5ZM17.6616 12C20.5596 12 22.9116 14.352 22.9116 17.25C22.9116 20.148 20.5596 22.5 17.6616 22.5C14.7636 22.5 12.4116 20.148 12.4116 17.25C12.4116 14.352 14.7636 12 17.6616 12ZM8.66162 19.5H2.66162C2.25062 19.5 1.91162 19.161 1.91162 18.75V2.25C1.91162 1.839 2.25062 1.5 2.66162 1.5H13.2896C13.4886 1.5 13.6796 1.579 13.8206 1.719L16.6936 4.591C16.8346 4.731 16.9136 4.922 16.9136 5.121V8.25C16.9136 8.664 17.2496 9 17.6636 9C18.0776 9 18.4136 8.664 18.4136 8.25V5.121C18.4136 4.524 18.1756 3.951 17.7536 3.529L14.8806 0.658C14.4586 0.237 13.8856 0 13.2896 0H2.66162C1.42762 0 0.411621 1.016 0.411621 2.25V18.75C0.411621 19.984 1.42762 21 2.66162 21H8.66162C9.07562 21 9.41162 20.664 9.41162 20.25C9.41162 19.836 9.07562 19.5 8.66162 19.5ZM8.88162 6.53L10.6006 8.25L8.88162 9.97C8.58862 10.262 8.58862 10.738 8.88162 11.03C9.17362 11.323 9.64962 11.323 9.94162 11.03L12.1916 8.78C12.4846 8.487 12.4846 8.013 12.1916 7.72L9.94162 5.47C9.64962 5.177 9.17362 5.177 8.88162 5.47C8.58862 5.762 8.58862 6.238 8.88162 6.53ZM5.88162 5.47L3.63162 7.72C3.33862 8.013 3.33862 8.487 3.63162 8.78L5.88162 11.03C6.17362 11.323 6.64962 11.323 6.94162 11.03C7.23462 10.738 7.23462 10.262 6.94162 9.97L5.22262 8.25L6.94162 6.53C7.23462 6.238 7.23462 5.762 6.94162 5.47C6.64962 5.177 6.17362 5.177 5.88162 5.47Z",fill:"currentColor"}),Ht.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.7167 13.6361C18.2138 13.6361 18.6167 14.0391 18.6167 14.5361V19.8171C18.6167 20.3141 18.2138 20.7171 17.7167 20.7171C17.2197 20.7171 16.8167 20.3141 16.8167 19.8171L16.8167 14.5361C16.8167 14.0391 17.2197 13.6361 17.7167 13.6361Z",fill:"currentColor"}),Ht.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.2572 17.1766C21.2572 17.6736 20.8543 18.0766 20.3572 18.0766H15.0763C14.5792 18.0766 14.1763 17.6736 14.1763 17.1766C14.1763 16.6795 14.5792 16.2766 15.0763 16.2766L20.3572 16.2766C20.8543 16.2766 21.2572 16.6795 21.2572 17.1766Z",fill:"currentColor"})),edit:Ht.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},Ht.default.createElement("path",{d:"M16.667 9.573a.833.833 0 0 0-.834.834v7.083a.834.834 0 0 1-.833.833H2.5a.833.833 0 0 1-.833-.833V3.323A.833.833 0 0 1 2.5 2.49h8.333a.833.833 0 0 0 0-1.667H2.5a2.5 2.5 0 0 0-2.5 2.5V17.49a2.5 2.5 0 0 0 2.5 2.5H15a2.5 2.5 0 0 0 2.5-2.5v-7.083a.833.833 0 0 0-.833-.834ZM19.513.482a1.706 1.706 0 0 0-2.357 0l-.884.884a.417.417 0 0 0 0 .589l1.767 1.767a.417.417 0 0 0 .59 0l.884-.884a1.666 1.666 0 0 0 0-2.356Z"}),Ht.default.createElement("path",{d:"m9.466 8.762 1.767 1.767a.417.417 0 0 0 .59 0l5.303-5.303a.417.417 0 0 0 0-.59l-1.769-1.769a.43.43 0 0 0-.589 0L9.466 8.172a.417.417 0 0 0 0 .59ZM8.624 9.363a.422.422 0 0 0-.303.25l-1.01 2.529a.416.416 0 0 0 .092.449.44.44 0 0 0 .45.092l2.525-1.01a.417.417 0 0 0 .14-.681L9 9.477a.417.417 0 0 0-.376-.114Z"})),"edit-inverse":Ht.default.createElement("svg",{viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},Ht.default.createElement("path",{d:"M7.98408 8.41697C7.87252 8.52907 7.73909 8.61704 7.59208 8.67538L5.53 9.50197C5.31774 9.58487 5.08603 9.60464 4.86279 9.5589C4.63955 9.51315 4.4343 9.40384 4.27175 9.24413C4.11028 9.0827 3.99972 8.87744 3.95379 8.65377C3.90785 8.43011 3.92856 8.19789 4.01333 7.98588L4.83758 5.92497C4.89649 5.77794 4.9846 5.64439 5.09658 5.53238L8.53067 2.09772C8.55074 2.07732 8.56439 2.05149 8.56994 2.02342C8.57549 1.99535 8.57269 1.96627 8.5619 1.93977C8.5511 1.91327 8.53277 1.89052 8.50918 1.87432C8.48559 1.85812 8.45778 1.84919 8.42917 1.84863H1.81883C1.33645 1.84863 0.873821 2.04026 0.532724 2.38136C0.191627 2.72245 0 3.18508 0 3.66747V11.6971C-1.22907e-08 11.9359 0.0470497 12.1724 0.138462 12.393C0.229874 12.6136 0.363857 12.8141 0.532759 12.983C0.701661 13.1518 0.902173 13.2857 1.12284 13.3771C1.34351 13.4684 1.58001 13.5154 1.81883 13.5153H9.84842C10.0872 13.5154 10.3237 13.4684 10.5443 13.3771C10.765 13.2857 10.9654 13.1518 11.1343 12.9829C11.3031 12.8141 11.4371 12.6136 11.5284 12.393C11.6198 12.1723 11.6667 11.9358 11.6667 11.6971V5.08847C11.6666 5.05971 11.658 5.03161 11.642 5.0077C11.6261 4.98379 11.6033 4.96515 11.5768 4.95412C11.5502 4.94308 11.521 4.94014 11.4928 4.94568C11.4646 4.95121 11.4386 4.96497 11.4182 4.98522L7.98408 8.41697Z"}),Ht.default.createElement("path",{d:"M10.8312 1.77357C10.7755 1.72081 10.7017 1.69141 10.625 1.69141C10.5483 1.69141 10.4745 1.72081 10.4188 1.77357L5.8612 6.33174C5.83328 6.35975 5.81127 6.39307 5.79645 6.42974L4.97162 8.49241C4.95035 8.54548 4.94514 8.60363 4.95666 8.65964C4.96817 8.71564 4.99589 8.76703 5.03637 8.80741C5.0775 8.84649 5.12878 8.87323 5.18437 8.88457C5.23997 8.89592 5.29763 8.89142 5.35078 8.87157L7.41287 8.04674C7.44959 8.03203 7.48293 8.01 7.51087 7.98199L12.069 3.42441C12.1237 3.36971 12.1544 3.29554 12.1544 3.2182C12.1544 3.14086 12.1237 3.06669 12.069 3.01199L10.8312 1.77357Z"}),Ht.default.createElement("path",{d:"M13.513 1.98011C13.7317 1.76133 13.8546 1.46464 13.8546 1.15528C13.8546 0.845921 13.7317 0.549228 13.513 0.330445C13.2908 0.118342 12.9954 0 12.6882 0C12.381 0 12.0856 0.118342 11.8634 0.330445L11.2444 0.949362C11.2354 0.961013 11.2272 0.973295 11.2199 0.986112C11.1818 1.03444 11.1604 1.09377 11.1587 1.15528C11.1587 1.19365 11.1663 1.23164 11.181 1.26707C11.1957 1.30251 11.2173 1.33469 11.2444 1.36178L12.4834 2.59903C12.5324 2.64926 12.5983 2.67943 12.6683 2.68364C12.7383 2.68785 12.8074 2.66579 12.862 2.62178C12.8739 2.61508 12.8852 2.60747 12.8959 2.59903L13.513 1.98011Z"})),close:Ht.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 30 30"},Ht.default.createElement("path",{d:"M0 0h30v30H0z"}),Ht.default.createElement("path",{stroke:"#fff",strokeWidth:"2",d:"M0-1h15.582",transform:"scale(.98773 1.01212) rotate(45 -7.565 16.188)"}),Ht.default.createElement("path",{stroke:"#fff",strokeWidth:"2",d:"M0-1h15.582",transform:"matrix(-.69843 .71568 -.69843 -.71568 19.883 9)"})),add:Ht.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 19 19"},Ht.default.createElement("path",{d:"M.875 9A8.625 8.625 0 1 0 9.5.375 8.635 8.635 0 0 0 .875 9Zm3.75-.375a.75.75 0 0 1 .75-.75h2.813a.187.187 0 0 0 .187-.188V4.876a.75.75 0 0 1 .75-.75h.75a.75.75 0 0 1 .75.75v2.813a.188.188 0 0 0 .188.187h2.812a.75.75 0 0 1 .75.75v.75a.75.75 0 0 1-.75.75h-2.813a.188.188 0 0 0-.187.188v2.812a.75.75 0 0 1-.75.75h-.75a.75.75 0 0 1-.75-.75v-2.813a.188.188 0 0 0-.188-.187H5.376a.75.75 0 0 1-.75-.75v-.75Z"})),delete:Ht.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18"},Ht.default.createElement("path",{d:"M14.354 6.748H3.103a.375.375 0 0 0-.375.375V16.5a1.5 1.5 0 0 0 1.5 1.5h9.001a1.5 1.5 0 0 0 1.5-1.5V7.123a.375.375 0 0 0-.375-.375Zm-6.938 8.627a.563.563 0 1 1-1.125 0V9.749a.563.563 0 1 1 1.125 0v5.626Zm3.75 0a.563.563 0 1 1-1.125 0V9.749a.563.563 0 0 1 1.125 0v5.626ZM15.337 1.912l-3.498.675a.188.188 0 0 1-.22-.15l-.178-.92A1.875 1.875 0 0 0 9.244.033l-3.68.714A1.875 1.875 0 0 0 4.08 2.945l.178.92a.187.187 0 0 1-.15.22l-3.498.676a.75.75 0 0 0-.596.878.774.774 0 0 0 .88.595l14.729-2.85a.75.75 0 1 0-.285-1.474v.002Zm-9.788.75a.375.375 0 0 1 .3-.44l3.683-.712a.375.375 0 0 1 .438.3l.179.922a.188.188 0 0 1-.15.22l-4.052.776a.187.187 0 0 1-.22-.15l-.178-.916Z"})),discard:Ht.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},Ht.default.createElement("path",{d:"m5 5 4.125 4.125M11 5l-6 6"}),Ht.default.createElement("path",{d:"M14.667 0H1.333A1.333 1.333 0 0 0 0 1.333v13.334A1.333 1.333 0 0 0 1.333 16h9.334c.177 0 .346-.07.471-.195l4.667-4.667a.667.667 0 0 0 .195-.471V1.333A1.334 1.334 0 0 0 14.667 0ZM1.333 1.667a.333.333 0 0 1 .334-.334h12.666a.333.333 0 0 1 .334.334V10a.333.333 0 0 1-.334.333h-2.666a1.333 1.333 0 0 0-1.334 1.334v2.666a.333.333 0 0 1-.333.334H1.667a.333.333 0 0 1-.334-.334V1.667Z"})),save:Ht.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},Ht.default.createElement("path",{d:"M12.0122 5.20332C12.0936 5.10023 12.154 4.98212 12.1897 4.85572C12.2255 4.72932 12.236 4.59711 12.2207 4.46665C12.2054 4.33618 12.1645 4.21001 12.1004 4.09534C12.0364 3.98067 11.9503 3.87974 11.8472 3.79832C11.7441 3.7169 11.626 3.65658 11.4996 3.62081C11.3732 3.58504 11.241 3.57451 11.1106 3.58984C10.9801 3.60516 10.8539 3.64603 10.7392 3.71011C10.6246 3.77419 10.5236 3.86023 10.4422 3.96332L6.71356 8.68665C6.69905 8.70522 6.68075 8.72048 6.65989 8.73143C6.63902 8.74238 6.61606 8.74876 6.59254 8.75015C6.56902 8.75153 6.54547 8.7479 6.52346 8.73948C6.50145 8.73106 6.48149 8.71805 6.46489 8.70132L5.04823 7.28465C4.85963 7.1025 4.60702 7.0017 4.34483 7.00398C4.08263 7.00626 3.83182 7.11143 3.64641 7.29684C3.461 7.48224 3.35583 7.73306 3.35355 7.99525C3.35128 8.25745 3.45207 8.51005 3.63423 8.69865L5.44823 10.5133C5.61595 10.6772 5.81604 10.8042 6.0357 10.8863C6.25536 10.9684 6.48974 11.0037 6.72383 10.99C6.95792 10.9762 7.18656 10.9137 7.3951 10.8065C7.60365 10.6993 7.7875 10.5497 7.93489 10.3673L12.0122 5.20332Z"}),Ht.default.createElement("path",{d:"M14.6667 0H1.33333C0.979711 0 0.640573 0.140476 0.390524 0.390524C0.140476 0.640573 0 0.979711 0 1.33333L0 14.6667C0 15.0203 0.140476 15.3594 0.390524 15.6095C0.640573 15.8595 0.979711 16 1.33333 16H10.6667C10.8435 16 11.013 15.9297 11.138 15.8047L15.8047 11.138C15.9297 11.013 16 10.8435 16 10.6667V1.33333C16 0.979711 15.8595 0.640573 15.6095 0.390524C15.3594 0.140476 15.0203 0 14.6667 0ZM1.33333 1.66667C1.33333 1.57826 1.36845 1.49348 1.43096 1.43096C1.49348 1.36845 1.57826 1.33333 1.66667 1.33333H14.3333C14.4217 1.33333 14.5065 1.36845 14.569 1.43096C14.6315 1.49348 14.6667 1.57826 14.6667 1.66667V10C14.6667 10.0884 14.6315 10.1732 14.569 10.2357C14.5065 10.2982 14.4217 10.3333 14.3333 10.3333H11.6667C11.313 10.3333 10.9739 10.4738 10.7239 10.7239C10.4738 10.9739 10.3333 11.313 10.3333 11.6667V14.3333C10.3333 14.4217 10.2982 14.5065 10.2357 14.569C10.1732 14.6315 10.0884 14.6667 10 14.6667H1.66667C1.57826 14.6667 1.49348 14.6315 1.43096 14.569C1.36845 14.5065 1.33333 14.4217 1.33333 14.3333V1.66667Z"})),caret:Ht.default.createElement("svg",{viewBox:"0 0 28 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Ht.default.createElement("path",{d:"M12.9393 10.0607L14 11.1213L15.0607 10.0607L21.0607 4.06066L23.6213 1.5H20H8H4.37868L6.93934 4.06066L12.9393 10.0607Z",fill:"#00655A",stroke:"white",strokeWidth:"3"})),"export-geojson":Ht.default.createElement("svg",{viewBox:"0 0 21 25",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Ht.default.createElement("path",{d:"M10.4136 1V16",stroke:"#666666",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),Ht.default.createElement("path",{d:"M5.91357 11.5L10.4136 16L14.9136 11.5",stroke:"#666666",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),Ht.default.createElement("path",{d:"M14.1636 4.74902H16.4116C17.2073 4.74902 17.9703 5.06509 18.5329 5.6277C19.0956 6.19031 19.4116 6.95337 19.4116 7.74902V20.499C19.4116 21.2947 19.0956 22.0577 18.5329 22.6203C17.9703 23.183 17.2073 23.499 16.4116 23.499H4.41162C3.61597 23.499 2.85291 23.183 2.2903 22.6203C1.72769 22.0577 1.41162 21.2947 1.41162 20.499V7.74902C1.41162 6.95337 1.72769 6.19031 2.2903 5.6277C2.85291 5.06509 3.61597 4.74902 4.41162 4.74902H6.66162",stroke:"#666666",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})),"user-roles":Ht.default.createElement("svg",{viewBox:"0 0 17 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Ht.default.createElement("g",{clipPath:"url(#clip0_1491_11619)"},Ht.default.createElement("path",{d:"M5.66626 2.74115C6.15948 3.25291 6.75085 3.65994 7.40499 3.9379C8.05913 4.21586 8.76261 4.35905 9.47336 4.35889C10.1932 4.3591 10.9056 4.2125 11.5668 3.92806",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),Ht.default.createElement("path",{d:"M8.41156 7.54465C10.171 7.54465 11.5973 6.11835 11.5973 4.35892C11.5973 2.59949 10.171 1.17319 8.41156 1.17319C6.65213 1.17319 5.22583 2.59949 5.22583 4.35892C5.22583 6.11835 6.65213 7.54465 8.41156 7.54465Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),Ht.default.createElement("path",{d:"M2.49536 14.8263C2.49536 13.2572 3.11869 11.7524 4.22822 10.6428C5.33776 9.5333 6.8426 8.90997 8.41172 8.90997C9.98084 8.90997 11.4857 9.5333 12.5952 10.6428C13.7048 11.7524 14.3281 13.2572 14.3281 14.8263",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})),Ht.default.createElement("defs",null,Ht.default.createElement("clipPath",{id:"clip0_1491_11619"},Ht.default.createElement("rect",{width:"16",height:"16",fill:"currentColor",transform:"translate(0.411621 -0.000244141)"})))),filter:Ht.default.createElement("svg",{viewBox:"0 0 22 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Ht.default.createElement("path",{d:"M10.75 9.75C16.1348 9.75 20.5 7.73528 20.5 5.25C20.5 2.76472 16.1348 0.75 10.75 0.75C5.36522 0.75 1 2.76472 1 5.25C1 7.73528 5.36522 9.75 10.75 9.75Z",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),Ht.default.createElement("path",{d:"M1 5.25C1.00123 7.44343 1.74225 9.57232 3.10325 11.2924C4.46425 13.0126 6.36565 14.2233 8.5 14.729V21C8.5 21.5967 8.73705 22.169 9.15901 22.591C9.58097 23.0129 10.1533 23.25 10.75 23.25C11.3467 23.25 11.919 23.0129 12.341 22.591C12.7629 22.169 13 21.5967 13 21V14.729C15.1343 14.2233 17.0358 13.0126 18.3967 11.2924C19.7577 9.57232 20.4988 7.44343 20.5 5.25",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})),"metadata-panel":Ht.default.createElement("svg",{viewBox:"0 0 17 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Ht.default.createElement("g",{clipPath:"url(#clip0_1419_7239)"},Ht.default.createElement("path",{d:"M12.2444 13.3538C12.7967 13.3538 13.2444 12.906 13.2444 12.3538C13.2444 11.8015 12.7967 11.3538 12.2444 11.3538C11.6921 11.3538 11.2444 11.8015 11.2444 12.3538C11.2444 12.906 11.6921 13.3538 12.2444 13.3538Z",fill:"currentColor"}),Ht.default.createElement("path",{d:"M16.0896 11.4357C16.263 11.2498 16.3723 11.0132 16.4013 10.7606C16.4303 10.508 16.3774 10.2528 16.2506 10.0324C16.1237 9.8121 15.9296 9.63826 15.6966 9.53649C15.4636 9.43471 15.2041 9.41037 14.9562 9.46705L14.0155 9.68438C13.9412 9.70131 13.8631 9.6894 13.7972 9.65104C13.7312 9.61268 13.6823 9.55074 13.6602 9.47771L13.3775 8.54905C13.3044 8.30537 13.1546 8.09176 12.9505 7.93991C12.7463 7.78806 12.4986 7.70605 12.2442 7.70605C11.9898 7.70605 11.7421 7.78806 11.538 7.93991C11.3338 8.09176 11.1841 8.30537 11.1109 8.54905L10.8282 9.47771C10.806 9.55065 10.757 9.6125 10.6911 9.65083C10.6252 9.68916 10.5473 9.70115 10.4729 9.68438L9.53288 9.46638C9.28515 9.40991 9.02585 9.43436 8.79304 9.53613C8.56023 9.6379 8.36617 9.81162 8.23938 10.0318C8.11258 10.252 8.05971 10.507 8.08854 10.7595C8.11737 11.0119 8.22637 11.2485 8.39955 11.4344L9.05822 12.145C9.11026 12.2019 9.13913 12.2763 9.13913 12.3534C9.13913 12.4305 9.11026 12.5048 9.05822 12.5617L8.39955 13.271C8.22608 13.4569 8.11682 13.6936 8.08783 13.9461C8.05884 14.1987 8.11165 14.454 8.2385 14.6743C8.36535 14.8947 8.55955 15.0685 8.79254 15.1703C9.02553 15.272 9.28503 15.2964 9.53288 15.2397L10.4735 15.0224C10.548 15.0058 10.626 15.018 10.6919 15.0564C10.7577 15.0948 10.8067 15.1567 10.8289 15.2297L11.1115 16.157C11.1843 16.4011 11.334 16.6151 11.5382 16.7673C11.7423 16.9195 11.9902 17.0017 12.2449 17.0017C12.4996 17.0017 12.7474 16.9195 12.9516 16.7673C13.1558 16.6151 13.3054 16.4011 13.3782 16.157L13.6609 15.229C13.6827 15.1558 13.7315 15.0936 13.7975 15.0551C13.8635 15.0166 13.9417 15.0046 14.0162 15.0217L14.9569 15.239C15.2046 15.2955 15.4639 15.2711 15.6967 15.1693C15.9295 15.0675 16.1236 14.8938 16.2504 14.6736C16.3772 14.4534 16.4301 14.1984 16.4012 13.946C16.3724 13.6935 16.2634 13.457 16.0902 13.271L15.4316 12.561C15.3795 12.5041 15.3506 12.4298 15.3506 12.3527C15.3506 12.2756 15.3795 12.2013 15.4316 12.1444L16.0896 11.4357ZM12.2442 14.3537C11.8487 14.3537 11.462 14.2364 11.1331 14.0167C10.8042 13.7969 10.5478 13.4845 10.3965 13.1191C10.2451 12.7536 10.2055 12.3515 10.2826 11.9635C10.3598 11.5756 10.5503 11.2192 10.83 10.9395C11.1097 10.6598 11.4661 10.4693 11.854 10.3921C12.242 10.315 12.6441 10.3546 13.0096 10.506C13.375 10.6573 13.6874 10.9137 13.9072 11.2426C14.1269 11.5715 14.2442 11.9581 14.2442 12.3537C14.2442 12.8841 14.0335 13.3929 13.6584 13.7679C13.2834 14.143 12.7746 14.3537 12.2442 14.3537Z",fill:"currentColor"}),Ht.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.09017 13.782C7.0974 13.8043 7.09994 13.8278 7.09762 13.8511C7.06412 14.1643 7.09939 14.481 7.20095 14.7791C7.2097 14.8042 7.2123 14.831 7.20855 14.8572C7.20479 14.8835 7.19479 14.9085 7.17938 14.9301C7.16396 14.9517 7.14359 14.9693 7.11997 14.9815C7.09635 14.9936 7.07017 14.9999 7.04362 14.9998H2.41162C1.88119 14.9998 1.37248 14.789 0.997407 14.414C0.622335 14.0389 0.411621 13.5302 0.411621 12.9998V3.99976C0.411621 3.46932 0.622335 2.96062 0.997407 2.58554C1.37248 2.21047 1.88119 1.99976 2.41162 1.99976H11.745C12.2754 1.99976 12.7841 2.21047 13.1592 2.58554C13.5342 2.96062 13.745 3.46932 13.745 3.99976V6.95976C13.745 6.99007 13.7368 7.01983 13.7212 7.0458C13.7056 7.07177 13.6831 7.09297 13.6563 7.10709C13.6293 7.12109 13.599 7.12756 13.5686 7.1258C13.5382 7.12404 13.5088 7.11412 13.4836 7.09709C13.4779 7.09315 13.4721 7.08924 13.4664 7.08536C13.1685 6.74277 12.7022 6.52222 12.178 6.52222C11.6135 6.52222 11.1161 6.77796 10.824 7.16642H9.74495C9.70075 7.16642 9.65836 7.18398 9.6271 7.21524C9.59585 7.24649 9.57829 7.28889 9.57829 7.33309V8.28442C9.57831 8.30728 9.57364 8.32989 9.56458 8.35087C9.55553 8.37186 9.54226 8.39076 9.52562 8.40642C9.50904 8.42206 9.48941 8.4341 9.46795 8.44178C9.4465 8.44947 9.42369 8.45264 9.40095 8.45109C9.19328 8.43777 8.98476 8.45393 8.78162 8.49909C8.75723 8.50469 8.73189 8.50466 8.70751 8.499C8.68314 8.49334 8.66038 8.4822 8.64095 8.46642C8.62099 8.45049 8.60495 8.43018 8.59409 8.40706C8.58322 8.38394 8.57782 8.35863 8.57829 8.33309V7.33309C8.57829 7.28889 8.56073 7.24649 8.52947 7.21524C8.49822 7.18398 8.45582 7.16642 8.41162 7.16642H5.74495C5.70075 7.16642 5.65836 7.18398 5.6271 7.21524C5.59585 7.24649 5.57829 7.28889 5.57829 7.33309V9.66842C5.57829 9.71263 5.59585 9.75502 5.6271 9.78627C5.65836 9.81753 5.70075 9.83509 5.74495 9.83509H6.99562C7.02151 9.83498 7.04707 9.84096 7.07023 9.85254C7.09339 9.86412 7.1135 9.88098 7.12895 9.90176C7.1445 9.92219 7.15511 9.94593 7.15997 9.97114C7.16483 9.99635 7.1638 10.0223 7.15695 10.0471C7.10109 10.2487 7.07459 10.4573 7.07829 10.6664C7.07847 10.7102 7.06133 10.7523 7.03061 10.7835C6.99989 10.8147 6.95808 10.8326 6.91429 10.8331H5.74495C5.70075 10.8331 5.65836 10.8506 5.6271 10.8819C5.59585 10.9132 5.57829 10.9556 5.57829 10.9998V13.4998C5.57829 13.544 5.59585 13.5864 5.6271 13.6176C5.65836 13.6489 5.70075 13.6664 5.74495 13.6664H6.93162C6.95502 13.6664 6.97815 13.6714 6.99951 13.6809C7.02088 13.6904 7.03999 13.7043 7.05562 13.7218C7.07118 13.7392 7.08294 13.7598 7.09017 13.782ZM4.52881 9.78427C4.56006 9.75302 4.57762 9.71063 4.57762 9.66642L4.57829 7.33309C4.57829 7.28889 4.56073 7.24649 4.52947 7.21524C4.49822 7.18398 4.45582 7.16642 4.41162 7.16642H1.91162C1.86742 7.16642 1.82503 7.18398 1.79377 7.21524C1.76251 7.24649 1.74495 7.28889 1.74495 7.33309V9.66642C1.74495 9.71051 1.76242 9.7528 1.79353 9.78404C1.82465 9.81528 1.86687 9.83291 1.91095 9.83309H4.41095C4.45516 9.83309 4.49755 9.81553 4.52881 9.78427ZM5.68097 6.15393C5.70127 6.16226 5.72301 6.16651 5.74495 6.16642H8.41162C8.45582 6.16642 8.49822 6.14886 8.52947 6.11761C8.56073 6.08635 8.57829 6.04396 8.57829 5.99976V3.49976C8.57829 3.45555 8.56073 3.41316 8.52947 3.3819C8.49822 3.35065 8.45582 3.33309 8.41162 3.33309H5.74495C5.72301 3.333 5.70127 3.33725 5.68097 3.34558C5.66067 3.35392 5.64222 3.36618 5.62667 3.38167C5.61112 3.39715 5.59879 3.41556 5.59037 3.43582C5.58195 3.45609 5.57762 3.47781 5.57762 3.49976V5.99976C5.57762 6.0217 5.58195 6.04343 5.59037 6.06369C5.59879 6.08396 5.61112 6.10236 5.62667 6.11784C5.64222 6.13333 5.66067 6.14559 5.68097 6.15393ZM12.2164 3.52835C12.0913 3.40333 11.9218 3.33309 11.745 3.33309H9.74495C9.70075 3.33309 9.65836 3.35065 9.6271 3.3819C9.59585 3.41316 9.57829 3.45555 9.57829 3.49976V5.99976C9.57829 6.04396 9.59585 6.08635 9.6271 6.11761C9.65836 6.14886 9.70075 6.16642 9.74495 6.16642H12.245C12.2892 6.16642 12.3315 6.14886 12.3628 6.11761C12.3941 6.08635 12.4116 6.04396 12.4116 5.99976V3.99976C12.4116 3.82294 12.3414 3.65338 12.2164 3.52835ZM4.41162 3.33309H2.41162C2.23481 3.33309 2.06524 3.40333 1.94022 3.52835C1.81519 3.65338 1.74495 3.82294 1.74495 3.99976V5.99976C1.74495 6.04384 1.76242 6.08613 1.79353 6.11737C1.82465 6.14861 1.86687 6.16625 1.91095 6.16642H4.41162C4.45582 6.16642 4.49822 6.14886 4.52947 6.11761C4.56073 6.08635 4.57829 6.04396 4.57829 5.99976V3.49976C4.57829 3.45555 4.56073 3.41316 4.52947 3.3819C4.49822 3.35065 4.45582 3.33309 4.41162 3.33309ZM1.74495 10.9998V12.9998C1.74495 13.1766 1.81519 13.3461 1.94022 13.4712C2.06524 13.5962 2.23481 13.6664 2.41162 13.6664H4.41162C4.45582 13.6664 4.49822 13.6489 4.52947 13.6176C4.56073 13.5864 4.57829 13.544 4.57829 13.4998V10.9998C4.57829 10.9556 4.56073 10.9132 4.52947 10.8819C4.49822 10.8506 4.45582 10.8331 4.41162 10.8331H1.91162C1.86742 10.8331 1.82503 10.8506 1.79377 10.8819C1.76251 10.9132 1.74495 10.9556 1.74495 10.9998Z",fill:"currentColor"})),Ht.default.createElement("defs",null,Ht.default.createElement("clipPath",{id:"clip0_1419_7239"},Ht.default.createElement("rect",{width:"16",height:"18",fill:"currentColor",transform:"translate(0.411621 -0.000244141)"})))),clock:Ht.default.createElement("svg",{viewBox:"0 0 18 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Ht.default.createElement("path",{d:"M5.71093 8.93449L3.56128 6.79363L1.41162 8.93449M3.42462 7.6044C3.46047 9.22172 4.09697 10.7684 5.21112 11.9456C6.32527 13.1228 7.838 13.847 9.45702 13.9782C11.076 14.1094 12.6864 13.6383 13.977 12.656C15.2676 11.6736 16.1468 10.2498 16.4447 8.6595C16.7427 7.06923 16.4382 5.42542 15.5901 4.04569C14.742 2.66597 13.4105 1.64826 11.8529 1.18921C10.2953 0.730155 8.62218 0.862343 7.15674 1.56023",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",stroke:"currentColor"}),Ht.default.createElement("path",{d:"M9.04295 8.08988L10.7639 5.10907",strokeWidth:"1.5",strokeLinecap:"round",stroke:"currentColor"}),Ht.default.createElement("path",{d:"M9.04288 8.0901L12.0237 9.81107",strokeWidth:"1.5",strokeLinecap:"round",stroke:"currentColor"})),"image-placeholder":Ht.default.createElement("svg",{viewBox:"0 0 66 66",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Ht.default.createElement("path",{d:"M59.7357 1.99231H14.2691C11.9863 1.99231 10.1357 3.84287 10.1357 6.12564V51.5923C10.1357 53.8751 11.9863 55.7256 14.2691 55.7256H59.7357C62.0185 55.7256 63.8691 53.8751 63.8691 51.5923V6.12564C63.8691 3.84287 62.0185 1.99231 59.7357 1.99231Z",stroke:"#cccccc",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"}),Ht.default.createElement("path",{d:"M55.6025 63.9924H6.00247C4.90625 63.9924 3.85492 63.5569 3.07977 62.7817C2.30462 62.0066 1.86914 60.9553 1.86914 59.859V10.259",stroke:"#cccccc",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"}),Ht.default.createElement("path",{d:"M23.5662 18.5256C23.362 18.5262 23.1625 18.5872 22.9929 18.7011C22.8233 18.815 22.6913 18.9766 22.6135 19.1654C22.5357 19.3543 22.5157 19.562 22.5558 19.7622C22.596 19.9625 22.6947 20.1464 22.8393 20.2906C22.9839 20.4349 23.168 20.533 23.3684 20.5726C23.5688 20.6123 23.7764 20.5917 23.965 20.5134C24.1537 20.4351 24.3149 20.3026 24.4284 20.1328C24.5418 19.9629 24.6023 19.7632 24.6023 19.559C24.6023 19.2849 24.4934 19.0221 24.2997 18.8283C24.1059 18.6345 23.843 18.5256 23.569 18.5256",stroke:"#cccccc",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"}),Ht.default.createElement("path",{d:"M55.6022 43.3257L44.9382 27.2443C44.7512 26.9648 44.4986 26.7353 44.2026 26.5757C43.9066 26.4161 43.5761 26.3313 43.2398 26.3286C42.9036 26.3258 42.5717 26.4053 42.2732 26.5601C41.9746 26.7149 41.7184 26.9403 41.5269 27.2167L36.0295 35.07L32.6209 32.3448C32.3972 32.1661 32.1387 32.0359 31.862 31.9624C31.5853 31.8889 31.2963 31.8736 31.0134 31.9177C30.7305 31.9617 30.4598 32.0641 30.2186 32.2182C29.9773 32.3724 29.7707 32.575 29.6118 32.8132L22.5962 43.3257H55.6022Z",stroke:"#cccccc",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"})),[uP.POINT]:Ht.default.createElement("svg",{viewBox:"0 0 10 13",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Ht.default.createElement("path",{d:"M5 0C3.67439 0.001577 2.40351 0.54425 1.46616 1.50897C0.528809 2.47369 0.00153226 3.78169 0 5.14601C0 8.69242 3.44105 11.9106 4.49526 12.8125C4.637 12.9337 4.81547 13 4.99974 13C5.18401 13 5.36247 12.9337 5.50421 12.8125C6.55684 11.9106 10 8.69134 10 5.14547C9.99833 3.78124 9.47099 2.47339 8.53366 1.50878C7.59632 0.544176 6.32552 0.00157672 5 0ZM5 7.85443C4.47952 7.85443 3.97073 7.69559 3.53797 7.39798C3.10521 7.10037 2.76792 6.67738 2.56874 6.18248C2.36956 5.68758 2.31745 5.143 2.41899 4.61762C2.52053 4.09224 2.77116 3.60964 3.13919 3.23086C3.50723 2.85208 3.97613 2.59413 4.4866 2.48962C4.99708 2.38512 5.5262 2.43875 6.00706 2.64375C6.48792 2.84874 6.89892 3.19589 7.18808 3.64129C7.47724 4.08669 7.63158 4.61033 7.63158 5.14601C7.63158 5.50168 7.56351 5.85388 7.43126 6.18248C7.29901 6.51108 7.10517 6.80965 6.86081 7.06115C6.61644 7.31265 6.32634 7.51216 6.00706 7.64827C5.68778 7.78438 5.34558 7.85443 5 7.85443Z",fill:"#999999"})),[uP.LINE_STRING]:Ht.default.createElement("svg",{viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Ht.default.createElement("path",{d:"M10 2L2 10",stroke:"#999999",strokeWidth:"1.5"}),Ht.default.createElement("circle",{cx:"2",cy:"10",r:"2",fill:"#999999"}),Ht.default.createElement("circle",{cx:"10",cy:"2",r:"2",fill:"#999999"})),[uP.POLYGON]:Ht.default.createElement("svg",{viewBox:"0 0 13 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Ht.default.createElement("path",{d:"M1.50439 12.282L4.13685 5.51279L10.53 2.50427L9.77783 7.39312L9.0257 11.5298L1.50439 12.282Z",stroke:"#999999",strokeWidth:"1.5"}),Ht.default.createElement("circle",{cx:"11",cy:"2",r:"2",fill:"#999999"}),Ht.default.createElement("circle",{cx:"9",cy:"11",r:"2",fill:"#999999"}),Ht.default.createElement("path",{d:"M4 12C4 13.1046 3.10457 14 2 14C0.89543 14 0 13.1046 0 12C0 10.8954 0.89543 10 2 10C3.10457 10 4 10.8954 4 12Z",fill:"#999999"}),Ht.default.createElement("path",{d:"M6 5C6 6.10457 5.10457 7 4 7C2.89543 7 2 6.10457 2 5C2 3.89543 2.89543 3 4 3C5.10457 3 6 3.89543 6 5Z",fill:"#999999"}))},YBe=({name:e})=>{var t;return(t=ohr[e])!=null?t:""};YBe.propTypes={name:ZBe.default.string.isRequired};var KBe=YBe;var _k=KBe;var XBe=({values:e,min:t,max:r,onChange:n})=>{let[i,o]=(0,Ti.useState)(e),[u,f]=(0,Ti.useState)(!1),[m,y]=(0,Ti.useState)(0),[w,I]=(0,Ti.useState)(1),M=(0,Ti.useRef)(),N=(0,Ti.useRef)(),z=(0,Ti.useRef)(),{start:F,end:q}=(0,Ti.useMemo)(()=>({start:bh(i[0]*1e3),end:bh(i[1]*1e3)}),[i]),R=(0,Ti.useCallback)((de,ce)=>{let Se=oP(ce).valueOf()/1e3,qe=i[1];if(de.relatedTarget!==N.current&&de.relatedTarget!==z.current&&f(!1),!sP(Se)||Se>qe||Se<t){n([i[0],i[1]]),y(Date.now());return}n([Se,qe])},[i]),U=(0,Ti.useCallback)((de,ce)=>{let Se=i[0],qe=oP(ce).valueOf()/1e3;if(de.relatedTarget!==M.current&&de.relatedTarget!==z.current&&f(!1),!sP(qe)||Se>qe||qe>r){n([i[0],i[1]]),I(Date.now());return}n([Se,qe])},[i]),Y=(0,Ti.useCallback)(de=>{de.key==="Enter"&&(de.target===M.current&&N.current.focus(),de.target===N.current&&(de.target.blur(),f(!1)))},[]),re=(0,Ti.useCallback)(()=>{u||M.current.focus(),f(de=>!de)},[]);return(0,Ti.useEffect)(()=>{o(e)},[e]),Ti.default.createElement("div",{className:"timeslider-controls-root"},Ti.default.createElement(lX,{ref:M,key:m,value:F,onBlur:R,onKeyDown:Y,readOnly:!u,tabIndex:u?void 0:-1}),Ti.default.createElement("span",null,"\u2013"),Ti.default.createElement(lX,{ref:N,key:w,value:q,onBlur:U,onKeyDown:Y,readOnly:!u,tabIndex:u?void 0:-1}),Ti.default.createElement("button",{ref:z,className:_r("edit-button",u&&"edit-state"),onClick:re},Ti.default.createElement(_k,{name:"edit-inverse"})))};XBe.propTypes={values:S_.default.arrayOf(S_.default.number).isRequired,min:S_.default.number.isRequired,max:S_.default.number.isRequired,onChange:S_.default.func.isRequired};var QBe=XBe;var lv=se(Wt(),1),I_=se(He(),1);var JBe=(0,I_.forwardRef)(function({className:t,posX:r,shouldUseDate:n,value:i},o){let u=(0,I_.useMemo)(()=>Array.isArray(i)?n?`${bh(i[0]*1e3)} - ${bh(i[1]*1e3)}`:`${i[0]} - ${i[1]}`:n?bh(i*1e3):i,[i]);return I_.default.createElement("div",{ref:o,className:t,style:{transform:`translate(${r}px)`}},u)});JBe.propTypes={className:lv.default.string,posX:lv.default.number.isRequired,shouldUseDate:lv.default.bool.isRequired,value:lv.default.oneOfType([lv.default.array,lv.default.number]).isRequired};var bk=JBe;var eUe=(e,t,r,n)=>{let i=e.map(y=>(y-t[0])/(t[1]-t[0])),o=i[0]*n,u=i[1]*n,f=uX(o,r,n),m=uX(u,r,n);return{posMin:f,posMax:m}},tUe=(e,t,r,n)=>{let u=((e[1]-e[0])/2+e[0]-t[0])/(t[1]-t[0])*n;return uX(u,r,n)},uX=(e,t,r)=>e<t/2?0:e>r-t/2?r-t:e-t/2;var cX=[1e3,1e3],pX=e=>{let{title:t,values:r,timeRange:n,onChange:i,sliderProps:o,shouldUseDate:u,showControls:f}=e,[m,y]=(0,Zn.useState)(r),[w,I]=(0,Zn.useState)(0),[M,N]=(0,Zn.useState)(0),[z,F]=(0,Zn.useState)(0),[q,R]=(0,Zn.useState)({min:0,max:0}),[U,Y]=(0,Zn.useState)(0),[re,de]=(0,Zn.useState)(!1),ce=(0,Zn.useRef)(),Se=(0,Zn.useRef)(),qe=(0,Zn.useRef)(),Re=(0,Zn.useCallback)(Ne=>{let{posMin:_e,posMax:ze}=eUe(Ne,n,w,z);if(Math.abs(_e-ze)<w){de(!0);let at=tUe(Ne,n,M,z);Y(at);return}de(!1),R({min:_e,max:ze})},[n,w,z]),Te=(0,Zn.useCallback)(Ne=>{Re(Ne),y(Ne)},[Re]),Ee=(0,Zn.useCallback)(Ne=>{Te(Ne),i(Ne)},[Te,i]);return(0,Zn.useEffect)(()=>{if(ce.current&&Se.current&&qe.current){let Ne=ce.current.getBoundingClientRect().width,_e=Se.current.getBoundingClientRect().width,ze=qe.current.getBoundingClientRect().width;R({min:0,max:Ne-_e}),N(ze),F(Ne),I(_e)}},[]),(0,Zn.useEffect)(()=>{y(r),Re(r)},[r,Re]),Zn.default.createElement("div",{className:"timeslider-container"},Zn.default.createElement("div",{className:"timeslider-control-container"},Zn.default.createElement("label",null,t),f&&Zn.default.createElement(QBe,{min:n[0],max:n[1],values:m,onChange:Ee})),Zn.default.createElement("div",{ref:ce,className:"slider-container"},Zn.default.createElement(AN,nt({allowCross:!1,ariaLabelledByGroupForHandles:["min-value","max-value"],min:n[0],max:n[1],onChange:Te,onAfterChange:i,value:m},o)),Zn.default.createElement(bk,{className:_r("tooltip min-value",re&&"labels-too-close"),posX:q.min,ref:Se,value:re?cX[0]:m[0],shouldUseDate:u}),Zn.default.createElement(bk,{className:_r("tooltip max-value",re&&"labels-too-close"),posX:q.max,value:re?cX[1]:m[1],shouldUseDate:u}),Zn.default.createElement(bk,{className:_r("tooltip min-max-value",re&&"labels-too-close"),posX:U,ref:qe,value:re?m:cX,shouldUseDate:u})))};pX.defaultProps={timeRange:[1850,1970],shouldUseDate:!1,showControls:!1};pX.propTypes={title:fp.default.string.isRequired,values:fp.default.arrayOf(fp.default.number),timeRange:fp.default.arrayOf(fp.default.number),onChange:fp.default.func.isRequired,sliderProps:fp.default.object,shouldUseDate:fp.default.bool,showControls:fp.default.bool};var rUe=pX;var nUe=rUe;var iUe=()=>{let e=yr(DP),[t,r]=Pn(OP),n=(0,xk.useCallback)(i=>r(i),[]);return xk.default.createElement(nUe,{title:gt("timeslider-adjust-timeperiod"),timeRange:e,onChange:n,values:t,sliderProps:{draggableTrack:!0}})};iUe.propTypes={};var oUe=iUe;var aUe=oUe;var Ok=se(He(),1);var cv=se(He(),1),iQ=se(Wt(),1);var Ss=se(He(),1);var kt=se(Wt()),Pt=se(He()),ghr=se(hUe());function mUe(e){return typeof e=="object"&&e!=null&&e.nodeType===1}function gUe(e,t){return(!t||e!=="hidden")&&e!=="visible"&&e!=="clip"}function dX(e,t){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var r=getComputedStyle(e,null);return gUe(r.overflowY,t)||gUe(r.overflowX,t)||function(n){var i=function(o){if(!o.ownerDocument||!o.ownerDocument.defaultView)return null;try{return o.ownerDocument.defaultView.frameElement}catch(u){return null}}(n);return!!i&&(i.clientHeight<n.scrollHeight||i.clientWidth<n.scrollWidth)}(e)}return!1}function Ik(e,t,r,n,i,o,u,f){return o<e&&u>t||o>e&&u<t?0:o<=e&&f<=r||u>=t&&f>=r?o-e-n:u>t&&f<r||o<e&&f>r?u-t+i:0}var vUe=function(e,t){var r=window,n=t.scrollMode,i=t.block,o=t.inline,u=t.boundary,f=t.skipOverflowHiddenElements,m=typeof u=="function"?u:function(Yt){return Yt!==u};if(!mUe(e))throw new TypeError("Invalid target");for(var y,w,I=document.scrollingElement||document.documentElement,M=[],N=e;mUe(N)&&m(N);){if((N=(w=(y=N).parentElement)==null?y.getRootNode().host||null:w)===I){M.push(N);break}N!=null&&N===document.body&&dX(N)&&!dX(document.documentElement)||N!=null&&dX(N,f)&&M.push(N)}for(var z=r.visualViewport?r.visualViewport.width:innerWidth,F=r.visualViewport?r.visualViewport.height:innerHeight,q=window.scrollX||pageXOffset,R=window.scrollY||pageYOffset,U=e.getBoundingClientRect(),Y=U.height,re=U.width,de=U.top,ce=U.right,Se=U.bottom,qe=U.left,Re=i==="start"||i==="nearest"?de:i==="end"?Se:de+Y/2,Te=o==="center"?qe+re/2:o==="end"?ce:qe,Ee=[],Ne=0;Ne<M.length;Ne++){var _e=M[Ne],ze=_e.getBoundingClientRect(),st=ze.height,at=ze.width,At=ze.top,Qe=ze.right,Dt=ze.bottom,Ut=ze.left;if(n==="if-needed"&&de>=0&&qe>=0&&Se<=F&&ce<=z&&de>=At&&Se<=Dt&&qe>=Ut&&ce<=Qe)return Ee;var Zt=getComputedStyle(_e),Xe=parseInt(Zt.borderLeftWidth,10),lt=parseInt(Zt.borderTopWidth,10),yt=parseInt(Zt.borderRightWidth,10),Fe=parseInt(Zt.borderBottomWidth,10),Me=0,Ue=0,je="offsetWidth"in _e?_e.offsetWidth-_e.clientWidth-Xe-yt:0,tt="offsetHeight"in _e?_e.offsetHeight-_e.clientHeight-lt-Fe:0,it="offsetWidth"in _e?_e.offsetWidth===0?0:at/_e.offsetWidth:0,St="offsetHeight"in _e?_e.offsetHeight===0?0:st/_e.offsetHeight:0;if(I===_e)Me=i==="start"?Re:i==="end"?Re-F:i==="nearest"?Ik(R,R+F,F,lt,Fe,R+Re,R+Re+Y,Y):Re-F/2,Ue=o==="start"?Te:o==="center"?Te-z/2:o==="end"?Te-z:Ik(q,q+z,z,Xe,yt,q+Te,q+Te+re,re),Me=Math.max(0,Me+R),Ue=Math.max(0,Ue+q);else{Me=i==="start"?Re-At-lt:i==="end"?Re-Dt+Fe+tt:i==="nearest"?Ik(At,Dt,st,lt,Fe+tt,Re,Re+Y,Y):Re-(At+st/2)+tt/2,Ue=o==="start"?Te-Ut-Xe:o==="center"?Te-(Ut+at/2)+je/2:o==="end"?Te-Qe+yt+je:Ik(Ut,Qe,at,Xe,yt+je,Te,Te+re,re);var vt=_e.scrollLeft,Nt=_e.scrollTop;Re+=Nt-(Me=Math.max(0,Math.min(Nt+Me/St,_e.scrollHeight-st/St+tt))),Te+=vt-(Ue=Math.max(0,Math.min(vt+Ue/it,_e.scrollWidth-at/it+je)))}Ee.push({el:_e,top:Me,left:Ue})}return Ee};var iE=function(){return iE=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},iE.apply(this,arguments)};var vhr=0;function uE(){}function yhr(e,t){if(!e)return;vUe(e,{boundary:t,block:"nearest",scrollMode:"if-needed"}).forEach(n=>{let{el:i,top:o,left:u}=n;i.scrollTop=o,i.scrollLeft=u})}function yUe(e,t,r){return e===t||t instanceof r.Node&&e.contains&&e.contains(t)}function mX(e,t){let r;function n(){r&&clearTimeout(r)}function i(){for(var o=arguments.length,u=new Array(o),f=0;f<o;f++)u[f]=arguments[f];n(),r=setTimeout(()=>{r=null,e(...u)},t)}return i.cancel=n,i}function Do(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){for(var i=arguments.length,o=new Array(i>1?i-1:0),u=1;u<i;u++)o[u-1]=arguments[u];return t.some(f=>(f&&f(n,...o),n.preventDownshiftDefault||n.hasOwnProperty("nativeEvent")&&n.nativeEvent.preventDownshiftDefault))}}function dp(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n=>{t.forEach(i=>{typeof i=="function"?i(n):i&&(i.current=n)})}}function _hr(){return String(vhr++)}function bhr(e){let{isOpen:t,resultCount:r,previousResultCount:n}=e;return t?r?r!==n?`${r} result${r===1?" is":"s are"} available, use up and down arrow keys to navigate. Press Enter key to select.`:"":"No results are available.":""}function Ek(e,t){return Object.keys(e).reduce((r,n)=>(r[n]=EUe(t,n)?t[n]:e[n],r),{})}function EUe(e,t){return e[t]!==void 0}function sE(e){let{key:t,keyCode:r}=e;return r>=37&&r<=40&&t.indexOf("Arrow")!==0?`Arrow${t}`:t}function lE(e,t,r,n,i){if(i===void 0&&(i=!0),r===0)return-1;let o=r-1;(typeof t!="number"||t<0||t>=r)&&(t=e>0?-1:o+1);let u=t+e;u<0?u=i?o:0:u>o&&(u=i?0:o);let f=uv(e,u,r,n,i);return f===-1?t>=r?-1:t:f}function uv(e,t,r,n,i){let o=n(t);if(!o||!o.hasAttribute("disabled"))return t;if(e>0){for(let u=t+1;u<r;u++)if(!n(u).hasAttribute("disabled"))return u}else for(let u=t-1;u>=0;u--)if(!n(u).hasAttribute("disabled"))return u;return i?e>0?uv(1,0,r,n,!1):uv(-1,r-1,r,n,!1):-1}function _Ue(e,t,r,n){return n===void 0&&(n=!0),t.some(i=>i&&(yUe(i,e,r)||n&&yUe(i,r.document.activeElement,r)))}var xhr=mX(e=>{MUe(e).textContent=""},500);function TUe(e,t){let r=MUe(t);e&&(r.textContent=e,xhr(t))}function MUe(e){e===void 0&&(e=document);let t=e.getElementById("a11y-status-message");return t||(t=e.createElement("div"),t.setAttribute("id","a11y-status-message"),t.setAttribute("role","status"),t.setAttribute("aria-live","polite"),t.setAttribute("aria-relevant","additions text"),Object.assign(t.style,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px"}),e.body.appendChild(t),t)}var CUe={highlightedIndex:-1,isOpen:!1,selectedItem:null,inputValue:""};function whr(e,t,r){let{props:n,type:i}=e,o={};Object.keys(t).forEach(u=>{Shr(u,e,t,r),r[u]!==t[u]&&(o[u]=r[u])}),n.onStateChange&&Object.keys(o).length&&n.onStateChange(nt({type:i},o))}function Shr(e,t,r,n){let{props:i,type:o}=t,u=`on${vX(e)}Change`;i[u]&&n[e]!==void 0&&n[e]!==r[e]&&i[u](nt({type:o},n))}function Ihr(e,t){return t.changes}function Ehr(e){let{selectedItem:t,itemToString:r}=e;return t?`${r(t)} has been selected.`:""}var Thr=mX((e,t)=>{TUe(e(),t)},200),Mhr=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined"?Pt.useLayoutEffect:Pt.useEffect;function AUe(e){let{id:t=`downshift-${_hr()}`,labelId:r,menuId:n,getItemId:i,toggleButtonId:o,inputId:u}=e;return(0,Pt.useRef)({labelId:r||`${t}-label`,menuId:n||`${t}-menu`,getItemId:i||(m=>`${t}-item-${m}`),toggleButtonId:o||`${t}-toggle-button`,inputId:u||`${t}-input`}).current}function gX(e,t,r){return e!==void 0?e:r.length===0?-1:r.indexOf(t)}function Chr(e){return e?String(e):""}function bUe(e){return /^\S{1}$/.test(e)}function vX(e){return`${e.slice(0,1).toUpperCase()}${e.slice(1)}`}function Ak(e){let t=(0,Pt.useRef)(e);return t.current=e,t}function PUe(e,t,r){let n=(0,Pt.useRef)(),i=(0,Pt.useRef)(),o=(0,Pt.useCallback)((I,M)=>{i.current=M,I=Ek(I,M.props);let N=e(I,M);return M.props.stateReducer(I,gr(nt({},M),{changes:N}))},[e]),[u,f]=(0,Pt.useReducer)(o,t),m=Ak(r),y=(0,Pt.useCallback)(I=>f(nt({props:m.current},I)),[m]),w=i.current;return(0,Pt.useEffect)(()=>{w&&n.current&&n.current!==u&&whr(w,Ek(n.current,w.props),u),n.current=u},[u,r,w]),[u,y]}function OUe(e,t,r){let[n,i]=PUe(e,t,r);return[Ek(n,r),i]}var aE={itemToString:Chr,stateReducer:Ihr,getA11ySelectionMessage:Ehr,scrollIntoView:yhr,circularNavigation:!1,environment:typeof window=="undefined"?{}:window};function ws(e,t,r){r===void 0&&(r=CUe);let n=e[`default${vX(t)}`];return n!==void 0?n:r[t]}function oE(e,t,r){r===void 0&&(r=CUe);let n=e[t];if(n!==void 0)return n;let i=e[`initial${vX(t)}`];return i!==void 0?i:ws(e,t,r)}function DUe(e){let t=oE(e,"selectedItem"),r=oE(e,"isOpen"),n=oE(e,"highlightedIndex"),i=oE(e,"inputValue");return{highlightedIndex:n<0&&t&&r?e.items.indexOf(t):n,isOpen:r,selectedItem:t,inputValue:i}}function E_(e,t,r,n){let{items:i,initialHighlightedIndex:o,defaultHighlightedIndex:u}=e,{selectedItem:f,highlightedIndex:m}=t;return i.length===0?-1:o!==void 0&&m===o?o:u!==void 0?u:f?r===0?i.indexOf(f):lE(r,i.indexOf(f),i.length,n,!1):r===0?-1:r<0?i.length-1:0}function NUe(e,t,r,n){let i=(0,Pt.useRef)({isMouseDown:!1,isTouchMove:!1});return(0,Pt.useEffect)(()=>{let o=()=>{i.current.isMouseDown=!0},u=w=>{i.current.isMouseDown=!1,e&&!_Ue(w.target,t.map(I=>I.current),r)&&n()},f=()=>{i.current.isTouchMove=!1},m=()=>{i.current.isTouchMove=!0},y=w=>{e&&!i.current.isTouchMove&&!_Ue(w.target,t.map(I=>I.current),r,!1)&&n()};return r.addEventListener("mousedown",o),r.addEventListener("mouseup",u),r.addEventListener("touchstart",f),r.addEventListener("touchmove",m),r.addEventListener("touchend",y),function(){r.removeEventListener("mousedown",o),r.removeEventListener("mouseup",u),r.removeEventListener("touchstart",f),r.removeEventListener("touchmove",m),r.removeEventListener("touchend",y)}},[e,r]),i}var yX=()=>uE;function Tk(e,t,r){let m=r,{isInitialMount:n,highlightedIndex:i,items:o,environment:u}=m,f=zn(m,["isInitialMount","highlightedIndex","items","environment"]);(0,Pt.useEffect)(()=>{n||Thr(()=>e(nt({highlightedIndex:i,highlightedItem:o[i],resultCount:o.length},f)),u.document)},t)}function kUe(e){let{highlightedIndex:t,isOpen:r,itemRefs:n,getItemNodeFromIndex:i,menuElement:o,scrollIntoView:u}=e,f=(0,Pt.useRef)(!0);return Mhr(()=>{t<0||!r||!Object.keys(n.current).length||(f.current===!1?f.current=!0:u(i(t),o))},[t]),f}var _X=uE;function LUe(e,t,r){let{type:n,props:i}=t,o;switch(n){case r.ItemMouseMove:o={highlightedIndex:t.disabled?-1:t.index};break;case r.MenuMouseLeave:o={highlightedIndex:-1};break;case r.ToggleButtonClick:case r.FunctionToggleMenu:o={isOpen:!e.isOpen,highlightedIndex:e.isOpen?-1:E_(i,e,0)};break;case r.FunctionOpenMenu:o={isOpen:!0,highlightedIndex:E_(i,e,0)};break;case r.FunctionCloseMenu:o={isOpen:!1};break;case r.FunctionSetHighlightedIndex:o={highlightedIndex:t.highlightedIndex};break;case r.FunctionSetInputValue:o={inputValue:t.inputValue};break;case r.FunctionReset:o={highlightedIndex:ws(i,"highlightedIndex"),isOpen:ws(i,"isOpen"),selectedItem:ws(i,"selectedItem"),inputValue:ws(i,"inputValue")};break;default:throw new Error("Reducer called without proper action type.")}return nt(nt({},e),o)}function xUe(e){for(var t=e.keysSoFar,r=e.highlightedIndex,n=e.items,i=e.itemToString,o=e.getItemNodeFromIndex,u=t.toLowerCase(),f=0;f<n.length;f++){var m=(f+r+1)%n.length,y=n[m];if(y!==void 0&&i(y).toLowerCase().startsWith(u)){var w=o(m);if(!(w!=null&&w.hasAttribute("disabled")))return m}}return r}var Efn={items:kt.default.array.isRequired,itemToString:kt.default.func,getA11yStatusMessage:kt.default.func,getA11ySelectionMessage:kt.default.func,circularNavigation:kt.default.bool,highlightedIndex:kt.default.number,defaultHighlightedIndex:kt.default.number,initialHighlightedIndex:kt.default.number,isOpen:kt.default.bool,defaultIsOpen:kt.default.bool,initialIsOpen:kt.default.bool,selectedItem:kt.default.any,initialSelectedItem:kt.default.any,defaultSelectedItem:kt.default.any,id:kt.default.string,labelId:kt.default.string,menuId:kt.default.string,getItemId:kt.default.func,toggleButtonId:kt.default.string,stateReducer:kt.default.func,onSelectedItemChange:kt.default.func,onHighlightedIndexChange:kt.default.func,onStateChange:kt.default.func,onIsOpenChange:kt.default.func,environment:kt.default.shape({addEventListener:kt.default.func,removeEventListener:kt.default.func,document:kt.default.shape({getElementById:kt.default.func,activeElement:kt.default.any,body:kt.default.any})})};function Ahr(e){var t=e.isOpen,r=e.resultCount,n=e.previousResultCount;return t?r?r!==n?"".concat(r," result").concat(r===1?" is":"s are"," available, use up and down arrow keys to navigate. Press Enter or Space Bar keys to select."):"":"No results are available.":""}var Phr=iE(iE({},aE),{getA11yStatusMessage:Ahr}),Ohr=uE,bX=0,xX=1,wX=2,SX=3,IX=4,EX=5,TX=6,MX=7,Mk=8,RUe=9,qUe=10,CX=11,zUe=12,AX=13,PX=14,OX=15,jUe=16,FUe=17,BUe=18,UUe=19,DX=20,hX=21,VUe=22,$Ue=Object.freeze({__proto__:null,MenuKeyDownArrowDown:bX,MenuKeyDownArrowUp:xX,MenuKeyDownEscape:wX,MenuKeyDownHome:SX,MenuKeyDownEnd:IX,MenuKeyDownEnter:EX,MenuKeyDownSpaceButton:TX,MenuKeyDownCharacter:MX,MenuBlur:Mk,MenuMouseLeave:RUe,ItemMouseMove:qUe,ItemClick:CX,ToggleButtonClick:zUe,ToggleButtonKeyDownArrowDown:AX,ToggleButtonKeyDownArrowUp:PX,ToggleButtonKeyDownCharacter:OX,FunctionToggleMenu:jUe,FunctionOpenMenu:FUe,FunctionCloseMenu:BUe,FunctionSetHighlightedIndex:UUe,FunctionSelectItem:DX,FunctionSetInputValue:hX,FunctionReset:VUe});function Dhr(e,t){let{type:r,props:n,shiftKey:i}=t,o;switch(r){case CX:o={isOpen:ws(n,"isOpen"),highlightedIndex:ws(n,"highlightedIndex"),selectedItem:n.items[t.index]};break;case OX:{let u=t.key,f=`${e.inputValue}${u}`,m=xUe({keysSoFar:f,highlightedIndex:e.selectedItem?n.items.indexOf(e.selectedItem):-1,items:n.items,itemToString:n.itemToString,getItemNodeFromIndex:t.getItemNodeFromIndex});o=nt({inputValue:f},m>=0&&{selectedItem:n.items[m]})}break;case AX:o={highlightedIndex:E_(n,e,1,t.getItemNodeFromIndex),isOpen:!0};break;case PX:o={highlightedIndex:E_(n,e,-1,t.getItemNodeFromIndex),isOpen:!0};break;case EX:case TX:o=nt({isOpen:ws(n,"isOpen"),highlightedIndex:ws(n,"highlightedIndex")},e.highlightedIndex>=0&&{selectedItem:n.items[e.highlightedIndex]});break;case SX:o={highlightedIndex:uv(1,0,n.items.length,t.getItemNodeFromIndex,!1)};break;case IX:o={highlightedIndex:uv(-1,n.items.length-1,n.items.length,t.getItemNodeFromIndex,!1)};break;case wX:o={isOpen:!1,highlightedIndex:-1};break;case Mk:o={isOpen:!1,highlightedIndex:-1};break;case MX:{let u=t.key,f=`${e.inputValue}${u}`,m=xUe({keysSoFar:f,highlightedIndex:e.highlightedIndex,items:n.items,itemToString:n.itemToString,getItemNodeFromIndex:t.getItemNodeFromIndex});o=nt({inputValue:f},m>=0&&{highlightedIndex:m})}break;case bX:o={highlightedIndex:lE(i?5:1,e.highlightedIndex,n.items.length,t.getItemNodeFromIndex,n.circularNavigation)};break;case xX:o={highlightedIndex:lE(i?-5:-1,e.highlightedIndex,n.items.length,t.getItemNodeFromIndex,n.circularNavigation)};break;case DX:o={selectedItem:t.selectedItem};break;default:return LUe(e,t,$Ue)}return nt(nt({},e),o)}GUe.stateChangeTypes=$Ue;function GUe(e){e===void 0&&(e={}),Ohr(e,GUe);let t=nt(nt({},Phr),e),{items:r,scrollIntoView:n,environment:i,initialIsOpen:o,defaultIsOpen:u,itemToString:f,getA11ySelectionMessage:m,getA11yStatusMessage:y}=t,w=DUe(t),[I,M]=OUe(Dhr,w,t),{isOpen:N,highlightedIndex:z,selectedItem:F,inputValue:q}=I,R=(0,Pt.useRef)(null),U=(0,Pt.useRef)(null),Y=(0,Pt.useRef)({}),re=(0,Pt.useRef)(!0),de=(0,Pt.useRef)(null),ce=AUe(t),Se=(0,Pt.useRef)(),qe=(0,Pt.useRef)(!0),Re=Ak({state:I,props:t}),Te=(0,Pt.useCallback)(Ue=>Y.current[ce.getItemId(Ue)],[ce]);Tk(y,[N,z,q,r],nt({isInitialMount:qe.current,previousResultCount:Se.current,items:r,environment:i,itemToString:f},I)),Tk(m,[F],nt({isInitialMount:qe.current,previousResultCount:Se.current,items:r,environment:i,itemToString:f},I));let Ee=kUe({menuElement:U.current,highlightedIndex:z,isOpen:N,itemRefs:Y,scrollIntoView:n,getItemNodeFromIndex:Te});(0,Pt.useEffect)(()=>(de.current=mX(Ue=>{Ue({type:hX,inputValue:""})},500),()=>{de.current.cancel()}),[]),(0,Pt.useEffect)(()=>{q&&de.current(M)},[M,q]),_X({isInitialMount:qe.current,props:t,state:I}),(0,Pt.useEffect)(()=>{if(qe.current){(o||u||N)&&U.current&&U.current.focus();return}if(N){U.current&&U.current.focus();return}i.document.activeElement===U.current&&R.current&&(re.current=!1,R.current.focus())},[N]),(0,Pt.useEffect)(()=>{qe.current||(Se.current=r.length)});let Ne=NUe(N,[U,R],i,()=>{M({type:Mk})}),_e=yX("getMenuProps","getToggleButtonProps");(0,Pt.useEffect)(()=>{qe.current=!1},[]),(0,Pt.useEffect)(()=>{N||(Y.current={})},[N]);let ze=(0,Pt.useMemo)(()=>({ArrowDown(Ue){Ue.preventDefault(),M({type:AX,getItemNodeFromIndex:Te,shiftKey:Ue.shiftKey})},ArrowUp(Ue){Ue.preventDefault(),M({type:PX,getItemNodeFromIndex:Te,shiftKey:Ue.shiftKey})}}),[M,Te]),st=(0,Pt.useMemo)(()=>({ArrowDown(Ue){Ue.preventDefault(),M({type:bX,getItemNodeFromIndex:Te,shiftKey:Ue.shiftKey})},ArrowUp(Ue){Ue.preventDefault(),M({type:xX,getItemNodeFromIndex:Te,shiftKey:Ue.shiftKey})},Home(Ue){Ue.preventDefault(),M({type:SX,getItemNodeFromIndex:Te})},End(Ue){Ue.preventDefault(),M({type:IX,getItemNodeFromIndex:Te})},Escape(){M({type:wX})},Enter(Ue){Ue.preventDefault(),M({type:EX})}," "(Ue){Ue.preventDefault(),M({type:TX})}}),[M,Te]),at=(0,Pt.useCallback)(()=>{M({type:jUe})},[M]),At=(0,Pt.useCallback)(()=>{M({type:BUe})},[M]),Qe=(0,Pt.useCallback)(()=>{M({type:FUe})},[M]),Dt=(0,Pt.useCallback)(Ue=>{M({type:UUe,highlightedIndex:Ue})},[M]),Ut=(0,Pt.useCallback)(Ue=>{M({type:DX,selectedItem:Ue})},[M]),Zt=(0,Pt.useCallback)(()=>{M({type:VUe})},[M]),Xe=(0,Pt.useCallback)(Ue=>{M({type:hX,inputValue:Ue})},[M]),lt=(0,Pt.useCallback)(Ue=>nt({id:ce.labelId,htmlFor:ce.toggleButtonId},Ue),[ce]),yt=(0,Pt.useCallback)(function(Ue,je){let ur=Ue===void 0?{}:Ue,{onMouseLeave:tt,refKey:it="ref",onKeyDown:St,onBlur:vt,ref:Nt}=ur,Yt=zn(ur,["onMouseLeave","refKey","onKeyDown","onBlur","ref"]),{suppressRefError:It=!1}=je===void 0?{}:je,Vt=Re.current.state,Jt=wr=>{let Mr=sE(wr);Mr&&st[Mr]?st[Mr](wr):bUe(Mr)&&M({type:MX,key:Mr,getItemNodeFromIndex:Te})},lr=()=>{if(re.current===!1){re.current=!0;return}!Ne.current.isMouseDown&&M({type:Mk})},Tr=()=>{M({type:RUe})};return _e("getMenuProps",It,it,U),nt(gr(nt({[it]:dp(Nt,wr=>{U.current=wr}),id:ce.menuId,role:"listbox","aria-labelledby":ce.labelId,tabIndex:-1},Vt.isOpen&&Vt.highlightedIndex>-1&&{"aria-activedescendant":ce.getItemId(Vt.highlightedIndex)}),{onMouseLeave:Do(tt,Tr),onKeyDown:Do(St,Jt),onBlur:Do(vt,lr)}),Yt)},[M,Re,st,Ne,_e,ce,Te]),Fe=(0,Pt.useCallback)(function(Ue,je){let lr=Ue===void 0?{}:Ue,{onClick:tt,onKeyDown:it,refKey:St="ref",ref:vt}=lr,Nt=zn(lr,["onClick","onKeyDown","refKey","ref"]),{suppressRefError:Yt=!1}=je===void 0?{}:je,It=()=>{M({type:zUe})},Vt=Tr=>{let ur=sE(Tr);ur&&ze[ur]?ze[ur](Tr):bUe(ur)&&M({type:OX,key:ur,getItemNodeFromIndex:Te})},Jt=nt({[St]:dp(vt,Tr=>{R.current=Tr}),id:ce.toggleButtonId,"aria-haspopup":"listbox","aria-expanded":Re.current.state.isOpen,"aria-labelledby":`${ce.labelId} ${ce.toggleButtonId}`},Nt);return Nt.disabled||(Jt.onClick=Do(tt,It),Jt.onKeyDown=Do(it,Vt)),_e("getToggleButtonProps",Yt,St,R),Jt},[M,Re,ze,_e,ce,Te]),Me=(0,Pt.useCallback)(function(Ue){let Mr=Ue===void 0?{}:Ue,{item:je,index:tt,onMouseMove:it,onClick:St,refKey:vt="ref",ref:Nt,disabled:Yt}=Mr,It=zn(Mr,["item","index","onMouseMove","onClick","refKey","ref","disabled"]),{state:Vt,props:Jt}=Re.current,lr=()=>{tt!==Vt.highlightedIndex&&(Ee.current=!1,M({type:qUe,index:tt,disabled:Yt}))},Tr=()=>{M({type:CX,index:tt})},ur=gX(tt,je,Jt.items);if(ur<0)throw new Error("Pass either item or item index in getItemProps!");let wr=nt({disabled:Yt,role:"option","aria-selected":`${ur===Vt.highlightedIndex}`,id:ce.getItemId(ur),[vt]:dp(Nt,Jr=>{Jr&&(Y.current[ce.getItemId(ur)]=Jr)})},It);return Yt||(wr.onClick=Do(St,Tr)),wr.onMouseMove=Do(it,lr),wr},[M,Re,Ee,ce]);return{getToggleButtonProps:Fe,getLabelProps:lt,getMenuProps:yt,getItemProps:Me,toggleMenu:at,openMenu:Qe,closeMenu:At,setHighlightedIndex:Dt,selectItem:Ut,reset:Zt,setInputValue:Xe,highlightedIndex:z,isOpen:N,selectedItem:F,inputValue:q}}var NX=0,kX=1,LX=2,RX=3,qX=4,zX=5,jX=6,Ck=7,HUe=8,WUe=9,FX=10,ZUe=11,YUe=12,KUe=13,XUe=14,QUe=15,BX=16,JUe=17,eVe=18,UX=19,tVe=Object.freeze({__proto__:null,InputKeyDownArrowDown:NX,InputKeyDownArrowUp:kX,InputKeyDownEscape:LX,InputKeyDownHome:RX,InputKeyDownEnd:qX,InputKeyDownEnter:zX,InputChange:jX,InputBlur:Ck,MenuMouseLeave:HUe,ItemMouseMove:WUe,ItemClick:FX,ToggleButtonClick:ZUe,FunctionToggleMenu:YUe,FunctionOpenMenu:KUe,FunctionCloseMenu:XUe,FunctionSetHighlightedIndex:QUe,FunctionSelectItem:BX,FunctionSetInputValue:JUe,FunctionReset:eVe,ControlledPropUpdatedSelectedItem:UX});function Nhr(e){let t=DUe(e),{selectedItem:r}=t,{inputValue:n}=t;return n===""&&r&&e.defaultInputValue===void 0&&e.initialInputValue===void 0&&e.inputValue===void 0&&(n=e.itemToString(r)),gr(nt({},t),{inputValue:n})}var Tfn={items:kt.default.array.isRequired,itemToString:kt.default.func,getA11yStatusMessage:kt.default.func,getA11ySelectionMessage:kt.default.func,circularNavigation:kt.default.bool,highlightedIndex:kt.default.number,defaultHighlightedIndex:kt.default.number,initialHighlightedIndex:kt.default.number,isOpen:kt.default.bool,defaultIsOpen:kt.default.bool,initialIsOpen:kt.default.bool,selectedItem:kt.default.any,initialSelectedItem:kt.default.any,defaultSelectedItem:kt.default.any,inputValue:kt.default.string,defaultInputValue:kt.default.string,initialInputValue:kt.default.string,id:kt.default.string,labelId:kt.default.string,menuId:kt.default.string,getItemId:kt.default.func,inputId:kt.default.string,toggleButtonId:kt.default.string,stateReducer:kt.default.func,onSelectedItemChange:kt.default.func,onHighlightedIndexChange:kt.default.func,onStateChange:kt.default.func,onIsOpenChange:kt.default.func,onInputValueChange:kt.default.func,environment:kt.default.shape({addEventListener:kt.default.func,removeEventListener:kt.default.func,document:kt.default.shape({getElementById:kt.default.func,activeElement:kt.default.any,body:kt.default.any})})};function khr(e,t,r){let n=(0,Pt.useRef)(),[i,o]=PUe(e,t,r);return(0,Pt.useEffect)(()=>{EUe(r,"selectedItem")&&(n.current!==r.selectedItem&&o({type:UX,inputValue:r.itemToString(r.selectedItem)}),n.current=i.selectedItem===n.current?r.selectedItem:i.selectedItem)}),[Ek(i,r),o]}var Lhr=uE,Rhr=gr(nt({},aE),{getA11yStatusMessage:bhr,circularNavigation:!0});function qhr(e,t){let{type:r,props:n,shiftKey:i}=t,o;switch(r){case FX:o={isOpen:ws(n,"isOpen"),highlightedIndex:ws(n,"highlightedIndex"),selectedItem:n.items[t.index],inputValue:n.itemToString(n.items[t.index])};break;case NX:e.isOpen?o={highlightedIndex:lE(i?5:1,e.highlightedIndex,n.items.length,t.getItemNodeFromIndex,n.circularNavigation)}:o={highlightedIndex:E_(n,e,1,t.getItemNodeFromIndex),isOpen:n.items.length>=0};break;case kX:e.isOpen?o={highlightedIndex:lE(i?-5:-1,e.highlightedIndex,n.items.length,t.getItemNodeFromIndex,n.circularNavigation)}:o={highlightedIndex:E_(n,e,-1,t.getItemNodeFromIndex),isOpen:n.items.length>=0};break;case zX:o=nt({},e.isOpen&&e.highlightedIndex>=0&&{selectedItem:n.items[e.highlightedIndex],isOpen:ws(n,"isOpen"),highlightedIndex:ws(n,"highlightedIndex"),inputValue:n.itemToString(n.items[e.highlightedIndex])});break;case LX:o=nt({isOpen:!1,highlightedIndex:-1},!e.isOpen&&{selectedItem:null,inputValue:""});break;case RX:o={highlightedIndex:uv(1,0,n.items.length,t.getItemNodeFromIndex,!1)};break;case qX:o={highlightedIndex:uv(-1,n.items.length-1,n.items.length,t.getItemNodeFromIndex,!1)};break;case Ck:o=nt({isOpen:!1,highlightedIndex:-1},e.highlightedIndex>=0&&t.selectItem&&{selectedItem:n.items[e.highlightedIndex],inputValue:n.itemToString(n.items[e.highlightedIndex])});break;case jX:o={isOpen:!0,highlightedIndex:ws(n,"highlightedIndex"),inputValue:t.inputValue};break;case BX:o={selectedItem:t.selectedItem,inputValue:n.itemToString(t.selectedItem)};break;case UX:o={inputValue:t.inputValue};break;default:return LUe(e,t,tVe)}return nt(nt({},e),o)}Pk.stateChangeTypes=tVe;function Pk(e){e===void 0&&(e={}),Lhr(e,Pk);let t=nt(nt({},Rhr),e),{initialIsOpen:r,defaultIsOpen:n,items:i,scrollIntoView:o,environment:u,getA11yStatusMessage:f,getA11ySelectionMessage:m,itemToString:y}=t,w=Nhr(t),[I,M]=khr(qhr,w,t),{isOpen:N,highlightedIndex:z,selectedItem:F,inputValue:q}=I,R=(0,Pt.useRef)(null),U=(0,Pt.useRef)({}),Y=(0,Pt.useRef)(null),re=(0,Pt.useRef)(null),de=(0,Pt.useRef)(null),ce=(0,Pt.useRef)(!0),Se=AUe(t),qe=(0,Pt.useRef)(),Re=Ak({state:I,props:t}),Te=(0,Pt.useCallback)(je=>U.current[Se.getItemId(je)],[Se]);Tk(f,[N,z,q,i],nt({isInitialMount:ce.current,previousResultCount:qe.current,items:i,environment:u,itemToString:y},I)),Tk(m,[F],nt({isInitialMount:ce.current,previousResultCount:qe.current,items:i,environment:u,itemToString:y},I));let Ee=kUe({menuElement:R.current,highlightedIndex:z,isOpen:N,itemRefs:U,scrollIntoView:o,getItemNodeFromIndex:Te});_X({isInitialMount:ce.current,props:t,state:I}),(0,Pt.useEffect)(()=>{(r||n||N)&&Y.current&&Y.current.focus()},[]),(0,Pt.useEffect)(()=>{ce.current||(qe.current=i.length)});let Ne=NUe(N,[de,R,re],u,()=>{M({type:Ck,selectItem:!1})}),_e=yX("getInputProps","getComboboxProps","getMenuProps");(0,Pt.useEffect)(()=>{ce.current=!1},[]),(0,Pt.useEffect)(()=>{N||(U.current={})},[N]);let ze=(0,Pt.useMemo)(()=>({ArrowDown(je){je.preventDefault(),M({type:NX,shiftKey:je.shiftKey,getItemNodeFromIndex:Te})},ArrowUp(je){je.preventDefault(),M({type:kX,shiftKey:je.shiftKey,getItemNodeFromIndex:Te})},Home(je){Re.current.state.isOpen&&(je.preventDefault(),M({type:RX,getItemNodeFromIndex:Te}))},End(je){Re.current.state.isOpen&&(je.preventDefault(),M({type:qX,getItemNodeFromIndex:Te}))},Escape(je){let tt=Re.current.state;(tt.isOpen||tt.inputValue||tt.selectedItem||tt.highlightedIndex>-1)&&(je.preventDefault(),M({type:LX}))},Enter(je){let tt=Re.current.state;!tt.isOpen||tt.highlightedIndex<0||je.which===229||(je.preventDefault(),M({type:zX,getItemNodeFromIndex:Te}))}}),[M,Re,Te]),st=(0,Pt.useCallback)(je=>nt({id:Se.labelId,htmlFor:Se.inputId},je),[Se]),at=(0,Pt.useCallback)(function(je,tt){let It=je===void 0?{}:je,{onMouseLeave:it,refKey:St="ref",ref:vt}=It,Nt=zn(It,["onMouseLeave","refKey","ref"]),{suppressRefError:Yt=!1}=tt===void 0?{}:tt;return _e("getMenuProps",Yt,St,R),nt({[St]:dp(vt,Vt=>{R.current=Vt}),id:Se.menuId,role:"listbox","aria-labelledby":Se.labelId,onMouseLeave:Do(it,()=>{M({type:HUe})})},Nt)},[M,_e,Se]),At=(0,Pt.useCallback)(function(je){let Mi=je===void 0?{}:je,{item:tt,index:it,refKey:St="ref",ref:vt,onMouseMove:Nt,onMouseDown:Yt,onClick:It,onPress:Vt,disabled:Jt}=Mi,lr=zn(Mi,["item","index","refKey","ref","onMouseMove","onMouseDown","onClick","onPress","disabled"]),{props:Tr,state:ur}=Re.current,wr=gX(it,tt,Tr.items);if(wr<0)throw new Error("Pass either item or item index in getItemProps!");let Mr="onClick",Jr=It,rr=()=>{it!==ur.highlightedIndex&&(Ee.current=!1,M({type:WUe,index:it,disabled:Jt}))},Vr=()=>{M({type:FX,index:it})},Kn=li=>li.preventDefault();return nt(gr(nt({[St]:dp(vt,li=>{li&&(U.current[Se.getItemId(wr)]=li)}),disabled:Jt,role:"option","aria-selected":`${wr===ur.highlightedIndex}`,id:Se.getItemId(wr)},!Jt&&{[Mr]:Do(Jr,Vr)}),{onMouseMove:Do(Nt,rr),onMouseDown:Do(Yt,Kn)}),lr)},[M,Re,Ee,Se]),Qe=(0,Pt.useCallback)(function(je){let It=je===void 0?{}:je,{onClick:tt,onPress:it,refKey:St="ref",ref:vt}=It,Nt=zn(It,["onClick","onPress","refKey","ref"]),Yt=()=>{M({type:ZUe}),!Re.current.state.isOpen&&Y.current&&Y.current.focus()};return nt(nt({[St]:dp(vt,Vt=>{re.current=Vt}),id:Se.toggleButtonId,tabIndex:-1},!Nt.disabled&&{onClick:Do(tt,Yt)}),Nt)},[M,Re,Se]),Dt=(0,Pt.useCallback)(function(je,tt){let Vr=je===void 0?{}:je,{onKeyDown:it,onChange:St,onInput:vt,onBlur:Nt,onChangeText:Yt,refKey:It="ref",ref:Vt}=Vr,Jt=zn(Vr,["onKeyDown","onChange","onInput","onBlur","onChangeText","refKey","ref"]),{suppressRefError:lr=!1}=tt===void 0?{}:tt;_e("getInputProps",lr,It,Y);let Tr=Re.current.state,ur=Kn=>{let Mi=sE(Kn);Mi&&ze[Mi]&&ze[Mi](Kn)},wr=Kn=>{M({type:jX,inputValue:Kn.target.value})},Mr=()=>{Tr.isOpen&&!Ne.current.isMouseDown&&M({type:Ck,selectItem:!0})},Jr="onChange",rr={};return Jt.disabled||(rr={[Jr]:Do(St,vt,wr),onKeyDown:Do(it,ur),onBlur:Do(Nt,Mr)}),nt(nt(gr(nt({[It]:dp(Vt,Kn=>{Y.current=Kn}),id:Se.inputId,"aria-autocomplete":"list","aria-controls":Se.menuId},Tr.isOpen&&Tr.highlightedIndex>-1&&{"aria-activedescendant":Se.getItemId(Tr.highlightedIndex)}),{"aria-labelledby":Se.labelId,autoComplete:"off",value:Tr.inputValue}),rr),Jt)},[M,ze,Re,Ne,_e,Se]),Ut=(0,Pt.useCallback)(function(je,tt){let Yt=je===void 0?{}:je,{refKey:it="ref",ref:St}=Yt,vt=zn(Yt,["refKey","ref"]),{suppressRefError:Nt=!1}=tt===void 0?{}:tt;return _e("getComboboxProps",Nt,it,de),nt({[it]:dp(St,It=>{de.current=It}),role:"combobox","aria-haspopup":"listbox","aria-owns":Se.menuId,"aria-expanded":Re.current.state.isOpen},vt)},[Re,_e,Se]),Zt=(0,Pt.useCallback)(()=>{M({type:YUe})},[M]),Xe=(0,Pt.useCallback)(()=>{M({type:XUe})},[M]),lt=(0,Pt.useCallback)(()=>{M({type:KUe})},[M]),yt=(0,Pt.useCallback)(je=>{M({type:QUe,highlightedIndex:je})},[M]),Fe=(0,Pt.useCallback)(je=>{M({type:BX,selectedItem:je})},[M]),Me=(0,Pt.useCallback)(je=>{M({type:JUe,inputValue:je})},[M]),Ue=(0,Pt.useCallback)(()=>{M({type:eVe})},[M]);return{getItemProps:At,getLabelProps:st,getMenuProps:at,getInputProps:Dt,getComboboxProps:Ut,getToggleButtonProps:Qe,toggleMenu:Zt,openMenu:lt,closeMenu:Xe,setHighlightedIndex:yt,setInputValue:Me,selectItem:Fe,reset:Ue,highlightedIndex:z,isOpen:N,selectedItem:F,inputValue:q}}var rVe={activeIndex:-1,selectedItems:[]};function wUe(e,t){return oE(e,t,rVe)}function SUe(e,t){return ws(e,t,rVe)}function zhr(e){let t=wUe(e,"activeIndex"),r=wUe(e,"selectedItems");return{activeIndex:t,selectedItems:r}}function IUe(e){if(e.shiftKey||e.metaKey||e.ctrlKey||e.altKey)return!1;let t=e.target;return!(t instanceof HTMLInputElement&&t.value!==""&&(t.selectionStart!==0||t.selectionEnd!==0))}function jhr(e){let{removedSelectedItem:t,itemToString:r}=e;return`${r(t)} has been removed.`}var Mfn={selectedItems:kt.default.array,initialSelectedItems:kt.default.array,defaultSelectedItems:kt.default.array,itemToString:kt.default.func,getA11yRemovalMessage:kt.default.func,stateReducer:kt.default.func,activeIndex:kt.default.number,initialActiveIndex:kt.default.number,defaultActiveIndex:kt.default.number,onActiveIndexChange:kt.default.func,onSelectedItemsChange:kt.default.func,keyNavigationNext:kt.default.string,keyNavigationPrevious:kt.default.string,environment:kt.default.shape({addEventListener:kt.default.func,removeEventListener:kt.default.func,document:kt.default.shape({getElementById:kt.default.func,activeElement:kt.default.any,body:kt.default.any})})},Fhr={itemToString:aE.itemToString,stateReducer:aE.stateReducer,environment:aE.environment,getA11yRemovalMessage:jhr,keyNavigationNext:"ArrowRight",keyNavigationPrevious:"ArrowLeft"},Bhr=uE,VX=0,$X=1,GX=2,HX=3,WX=4,ZX=5,YX=6,KX=7,XX=8,QX=9,JX=10,eQ=11,tQ=12,Uhr=Object.freeze({__proto__:null,SelectedItemClick:VX,SelectedItemKeyDownDelete:$X,SelectedItemKeyDownBackspace:GX,SelectedItemKeyDownNavigationNext:HX,SelectedItemKeyDownNavigationPrevious:WX,DropdownKeyDownNavigationPrevious:ZX,DropdownKeyDownBackspace:YX,DropdownClick:KX,FunctionAddSelectedItem:XX,FunctionRemoveSelectedItem:QX,FunctionSetSelectedItems:JX,FunctionSetActiveIndex:eQ,FunctionReset:tQ});function Vhr(e,t){let{type:r,index:n,props:i,selectedItem:o}=t,{activeIndex:u,selectedItems:f}=e,m;switch(r){case VX:m={activeIndex:n};break;case WX:m={activeIndex:u-1<0?0:u-1};break;case HX:m={activeIndex:u+1>=f.length?-1:u+1};break;case GX:case $X:{let y=u;f.length===1?y=-1:u===f.length-1&&(y=f.length-2),m={selectedItems:[...f.slice(0,u),...f.slice(u+1)],activeIndex:y};break}case ZX:m={activeIndex:f.length-1};break;case YX:m={selectedItems:f.slice(0,f.length-1)};break;case XX:m={selectedItems:[...f,o]};break;case KX:m={activeIndex:-1};break;case QX:{let y=u,w=f.indexOf(o);w>=0&&(f.length===1?y=-1:w===f.length-1&&(y=f.length-2),m={selectedItems:[...f.slice(0,w),...f.slice(w+1)],activeIndex:y});break}case JX:{let{selectedItems:y}=t;m={selectedItems:y};break}case eQ:{let{activeIndex:y}=t;m={activeIndex:y};break}case tQ:m={activeIndex:SUe(i,"activeIndex"),selectedItems:SUe(i,"selectedItems")};break;default:throw new Error("Reducer called without proper action type.")}return nt(nt({},e),m)}nVe.stateChangeTypes=Uhr;function nVe(e){e===void 0&&(e={}),Bhr(e,nVe);let t=nt(nt({},Fhr),e),{getA11yRemovalMessage:r,itemToString:n,environment:i,keyNavigationNext:o,keyNavigationPrevious:u}=t,[f,m]=OUe(Vhr,zhr(t),t),{activeIndex:y,selectedItems:w}=f,I=(0,Pt.useRef)(!0),M=(0,Pt.useRef)(null),N=(0,Pt.useRef)(w),z=(0,Pt.useRef)();z.current=[];let F=Ak({state:f,props:t});(0,Pt.useEffect)(()=>{if(!I.current){if(w.length<N.current.length){let Te=N.current.find(Ee=>w.indexOf(Ee)<0);TUe(r({itemToString:n,resultCount:w.length,removedSelectedItem:Te,activeIndex:y,activeSelectedItem:w[y]}),i.document)}N.current=w}},[w.length]),(0,Pt.useEffect)(()=>{I.current||(y===-1&&M.current?M.current.focus():z.current[y]&&z.current[y].focus())},[y]),_X({isInitialMount:I.current,props:t,state:f});let q=yX("getDropdownProps");(0,Pt.useEffect)(()=>{I.current=!1},[]);let R=(0,Pt.useMemo)(()=>({[u](){m({type:WX})},[o](){m({type:HX})},Delete(){m({type:$X})},Backspace(){m({type:GX})}}),[m,o,u]),U=(0,Pt.useMemo)(()=>({[u](Te){IUe(Te)&&m({type:ZX})},Backspace(Te){IUe(Te)&&m({type:YX})}}),[m,u]),Y=(0,Pt.useCallback)(function(Te){let Xe=Te===void 0?{}:Te,{refKey:Ee="ref",ref:Ne,onClick:_e,onKeyDown:ze,selectedItem:st,index:at}=Xe,At=zn(Xe,["refKey","ref","onClick","onKeyDown","selectedItem","index"]),{state:Qe}=F.current;if(gX(at,st,Qe.selectedItems)<0)throw new Error("Pass either selectedItem or index in getSelectedItemProps!");let Ut=()=>{m({type:VX,index:at})},Zt=lt=>{let yt=sE(lt);yt&&R[yt]&&R[yt](lt)};return nt({[Ee]:dp(Ne,lt=>{lt&&z.current.push(lt)}),tabIndex:at===Qe.activeIndex?0:-1,onClick:Do(_e,Ut),onKeyDown:Do(ze,Zt)},At)},[m,F,R]),re=(0,Pt.useCallback)(function(Te,Ee){let Zt=Te===void 0?{}:Te,{refKey:Ne="ref",ref:_e,onKeyDown:ze,onClick:st,preventKeyAction:at=!1}=Zt,At=zn(Zt,["refKey","ref","onKeyDown","onClick","preventKeyAction"]),{suppressRefError:Qe=!1}=Ee===void 0?{}:Ee;q("getDropdownProps",Qe,Ne,M);let Dt=Xe=>{let lt=sE(Xe);lt&&U[lt]&&U[lt](Xe)},Ut=()=>{m({type:KX})};return nt(nt({[Ne]:dp(_e,Xe=>{Xe&&(M.current=Xe)})},!at&&{onKeyDown:Do(ze,Dt),onClick:Do(st,Ut)}),At)},[m,U,q]),de=(0,Pt.useCallback)(Te=>{m({type:XX,selectedItem:Te})},[m]),ce=(0,Pt.useCallback)(Te=>{m({type:QX,selectedItem:Te})},[m]),Se=(0,Pt.useCallback)(Te=>{m({type:JX,selectedItems:Te})},[m]),qe=(0,Pt.useCallback)(Te=>{m({type:eQ,activeIndex:Te})},[m]),Re=(0,Pt.useCallback)(()=>{m({type:tQ})},[m]);return{getSelectedItemProps:Y,getDropdownProps:re,addSelectedItem:de,removeSelectedItem:ce,setSelectedItems:Se,setActiveIndex:qe,reset:Re,selectedItems:w,activeIndex:y}}var jh=se(Wt(),1);function rQ({buttonProps:e,fetchInputItems:t,label:r,itemToString:n,inputProps:i,onSelectedItemChange:o,timeout:u=300}){let[f,m]=(0,Ss.useState)([]),[y,w]=(0,Ss.useState)(void 0),I=(0,Ss.useRef)(),M=(0,Ss.useRef)(null),N=ze=>{clearTimeout(M.current),M.current=setTimeout(()=>{t(ze).then(st=>m(st))},u)},z=({inputValue:ze})=>{y!==void 0&&w(void 0),N(ze)},F=({selectedItem:ze})=>{o!==void 0&&o(ze),w(ze)},{isOpen:q,getToggleButtonProps:R,getLabelProps:U,getMenuProps:Y,getInputProps:re,getComboboxProps:de,getItemProps:ce,highlightedIndex:Se}=Pk({items:f,itemToString:n,onInputValueChange:z,onSelectedItemChange:F}),Ne=e!=null?e:{},{onClick:qe}=Ne,Re=zn(Ne,["onClick"]),_e=re(),{ref:Te}=_e,Ee=zn(_e,["ref"]);return Ss.default.createElement("div",{className:"vkf-autocomplete-container"},Ss.default.createElement("label",gr(nt({},U()),{id:Ee["aria-labelledby"],className:"visually-hidden"}),r!==void 0?r:i.placeholder),Ss.default.createElement("div",nt({className:"form-group"},de()),Ss.default.createElement("input",nt(gr(nt({},Ee),{ref:ze=>{Te(ze),I.current=ze},type:"text"}),i)),Ss.default.createElement("button",nt(nt(gr(nt({type:"button"},R()),{"aria-label":"toggle menu"}),Re),qe!==void 0?{onClick:()=>{qe(y,I.current!==null?I.current.value:"")}}:{}),"\u2193")),Ss.default.createElement("div",{className:"autocomplete-dropdown"},Ss.default.createElement("ul",gr(nt({className:"autocomplete-result-list"},Y()),{id:Ee["aria-controls"]}),q&&f.map((ze,st)=>Ss.default.createElement("li",nt({className:_r("ui-menu-item",Se===st&&"highlighted",y===ze&&"selected"),key:`${ze.label}${st}`},ce({item:ze,index:st})),ze.label)))))}rQ.propTypes={buttonProps:jh.default.object,fetchInputItems:jh.default.func,label:jh.default.string,inputProps:jh.default.object,itemToString:jh.default.func,onSelectedItemChange:jh.default.func,timeout:jh.default.number};var iVe=se(gh(),1),nQ=(e,t,r)=>{let n=e+"?format=json&q="+t;return iVe.default.get(n).then(i=>{let u=i.data.map(f=>({label:f.display_name,value:f.display_name,lonlat:{x:parseFloat(f.lon),y:parseFloat(f.lat)},type:f.type}));return r!==void 0&&r(),u})};var $hr=e=>e?e.label:"",oVe=e=>{let{onSelectPosition:t,searchUrl:r}=e,[n,i]=(0,cv.useState)(!1),o=ki(Wa),u=(0,cv.useCallback)(m=>(i(!0),nQ(r,m,()=>{i(!1)})),[r]),f=(m,y)=>{m!==void 0?t(m):nQ(r,y).then(w=>{if(w.length>0)t(w[0]);else throw new Error(gt("placenamesearch-unknown-placename"))}).catch(()=>{o({id:"placenamesearch",type:"warning",text:gt("placenamesearch-unknown-placename")})})};return cv.default.createElement("div",{className:"gazetteersearch-container"},cv.default.createElement(rQ,{buttonProps:{className:"form-control gazetteersearch-submit",onClick:f,"aria-label":gt("placenamesearch-submit"),title:gt("placenamesearch-submit")},fetchInputItems:u,inputProps:{className:`form-control gazetteersearch-input ${n?"loading":""}`,placeholder:gt("placenamesearch-placeholder")},itemToString:$hr,onSelectedItemChange:f}))};oVe.propTypes={onSelectPosition:iQ.default.func.isRequired,searchUrl:iQ.default.string.isRequired};var aVe=oVe;var sVe=se(Wt(),1),lVe=({searchUrl:e})=>{let t=yr(Rn),r=(0,Ok.useCallback)(n=>{if(t){let i=[n.lonlat.x,n.lonlat.y];t.flyTo({center:i,zoom:12})}},[t]);return Ok.default.createElement(aVe,{onSelectPosition:r,searchUrl:e})};lVe.propTypes={searchUrl:sVe.default.string.isRequired};var uVe=lVe;var cVe=({customQuery:e,MapSearchListItemComponent:t,mosaicMode:r})=>{let n=yr(ike);return Fh.default.createElement("div",{className:_r("vkf-spatialsearch-root",!n&&"in")},Fh.default.createElement("div",{className:"spatialsearch-inner-container"},Fh.default.createElement("div",{className:"spatialsearch-content-panel"},Fh.default.createElement("div",{className:"body-container"},Fh.default.createElement(uVe,{searchUrl:Nr.getNominatimUrl()}),Fh.default.createElement(aUe,null),Fh.default.createElement(kje,{customQuery:e,MapSearchListItemComponent:t,mosaicMode:r})))))};cVe.propTypes={customQuery:Dk.default.array,MapSearchListItemComponent:Dk.default.elementType,mosaicMode:Dk.default.bool};var pVe=cVe;var si=se(He(),1);var hp=se(He(),1);var M_=se(Wt(),1);var Bh=se(He(),1);var lc=se(He(),1),rl=se(Wt(),1);var cE=p_;var oQ={NONE:"control-none-gcp",ADD:"control-add-gcp",MOVE:"control-move-gcp",DEL:"control-del-gcp"},fVe=e=>{let{id:t,activeControl:r,className:n="",parentIconClassName:i,defaultTitle:o="unknown",disableActiveBehavior:u=!1,IconComponent:f,options:m=[{id:oQ.ADD,title:gt("georef-setgcp"),iconClassName:"icon-point-add"},{id:oQ.MOVE,title:gt("georef-movegcp"),iconClassName:"icon-point-move"},{id:oQ.DEL,title:gt("georef-delgcp"),iconClassName:"icon-point-remove"}],onClick:y}=e,w=m.find(M=>M.id===r),I=M=>{y(M)};return lc.default.createElement("div",{className:_r("vkf-control-dropdown",w&&!u?"active":"",n)},lc.default.createElement(YS,{id:t,className:"btn-dropdown-vkf-control",bsStyle:"default",key:w?w.id:null},lc.default.createElement(YS.Toggle,null,f===void 0?lc.default.createElement(cE,{name:i,size:24}):lc.default.createElement(f,{glyph:i}),w?w.title:o),lc.default.createElement(YS.Menu,null,m.map(M=>lc.default.createElement(xZ,{key:M.id,eventKey:M.id,onClick:()=>I(M.id),className:_r("control-option",M.id)},f===void 0?lc.default.createElement(cE,{name:`${M.iconClassName}`,size:24}):lc.default.createElement(f,{glyph:M.iconClassName}),lc.default.createElement("span",{className:"text"},M.title))))))};fVe.propTypes={activeControl:rl.default.string,className:rl.default.string,defaultTitle:rl.default.string,disableActiveBehavior:rl.default.bool,IconComponent:rl.default.elementType,id:rl.default.string,parentIconClassName:rl.default.string,options:rl.default.arrayOf(rl.default.shape({id:rl.default.string.isRequired,title:rl.default.string.isRequired,iconClassName:rl.default.string.isRequired})),onClick:rl.default.func.isRequired};var dVe=fVe;var hVe=dVe;var mVe=e=>kn(null,null,function*(){let t=Nr.getGeoreferenceApiClient(),r=`/mosaic_maps/${e}`,n=yield t.delete(r);if(n.status===200)return n.data;throw console.error("Something went wrong while trying to delete the mosaic map."),new Error("Something went wrong while trying to delete the mosaic map.")}),gVe=()=>kn(null,null,function*(){let r=yield Nr.getGeoreferenceApiClient().get("/mosaic_maps/");if(r.status===200)return r.data.map(yN);throw console.error("Something went wrong while trying to fetch the mosaic maps."),new Error("Something went wrong while trying to fetch the mosaic maps.")}),vVe=e=>kn(null,null,function*(){let t=Nr.getGeoreferenceApiClient(),r=`/mosaic_maps/${e}/refresh`,n=yield t.post(r);if(n.status===200)return n.data;throw console.error("Something went wrong while trying to refresh the mosaic maps overview."),new Error("Something went wrong while trying to refresh the mosaic maps overview.")}),yVe=e=>kn(null,null,function*(){if(e.id===void 0||e.id===No){let t=e,{id:r}=t,n=zn(t,["id"]);return yield Ghr(n)}else return yield Hhr(e)}),Ghr=e=>kn(null,null,function*(){let t=Nr.getGeoreferenceApiClient(),r="/mosaic_maps/",n=oK(e),i=yield t.post(r,n);if(i.status===200)return yN(i.data);throw console.error("Something went wrong while trying to create the mosaic map."),new Error("Something went wrong while trying to create the mosaic map.")}),Hhr=e=>kn(null,null,function*(){let t=Nr.getGeoreferenceApiClient(),{id:r}=e,n=`/mosaic_maps/${r}`,i=oK(e),o=yield t.post(n,i);if(o.status===200)return yN(o.data);throw console.error("Something went wrong while trying to update the mosaic map."),new Error("Something went wrong while trying to update the mosaic map.")});var _Ve=se(gh(),1);function bVe(e){return kn(this,null,function*(){let t=Nr.getSettings().API_SEARCH;if(t===void 0)throw new Error("The url for the search endpoint is not set.");let r=yield _Ve.default.get(`${t}/_doc/${e}`);if(r.status===200)return r.data._source;console.error("Something went wrong while trying to fetch search document.")})}var xVe=e=>bVe(e).then(t=>iK(e,t)).catch(()=>{let t=new kg({metadata:{id:e,has_georeference:!1}});return t.setIsMissing(!0),t});var Nk=se(He(),1);var uc="mosaic-map-overlay-source",Whr="mosaic-map-overlay-fill",wVe="mosaic-map-overlay-outline",kk=e=>{e.moveLayer(wVe)},T_=e=>{let t={type:"FeatureCollection",features:[]},r=e.getSource(uc);r&&r.setData(t)},SVe=()=>Nk.default.createElement(Nk.default.Fragment,null,Nk.default.createElement(tP,{sourceId:uc,fillId:Whr,outlineId:wVe}));SVe.propTypes={};var IVe=SVe;var No="create-new-mosaic-map",Zhr=()=>{let[e,t]=Pn(Uh),[r,n]=(0,Bh.useState)(e===ts.DOWNLOADING_LIST),i=yr(Rn),[o,u]=Bh.default.useState([]),[f,m]=Pn(mu),y=ki(nl),w=ki(Wa),I=()=>{n(!0),gVe().then(N=>{u(N),n(!1),t(z=>z===ts.DOWNLOADING_LIST?ts.NOT_LOADING:z)}).catch(N=>{console.error(N),w({id:"mosaic-map-failed-load-list",type:"danger",text:gt("mosaic-map-error-messages-failed-load-list")})})},M=N=>{var F;let z=(F=o.find(q=>q.id===N))!=null?F:{id:No};if(m(z),z.raw_map_ids!==void 0){let q=z.raw_map_ids.map(R=>xVe(R));Promise.all(q).then(R=>{i!==void 0&&p9e(i,R),y(R),R.forEach(U=>U.addToOverlay(i,uc))}).catch(R=>{console.error(R)})}else y([]),T_(i)};return(0,Bh.useEffect)(()=>{e===ts.DOWNLOADING_LIST&&r===!1&&I()},[e]),(0,Bh.useEffect)(()=>{I()},[]),Bh.default.createElement(hVe,{id:"control-toggle-transformation",activeControl:f.id,className:"control-toggle-mosaic-map",disableActiveBehavior:!0,IconComponent:bo,options:[...o.map(N=>gr(nt({},N),{iconClassName:"th-large"})),{iconClassName:"plus",id:No,title:gt("mosaic-maps-create-new")}],onClick:M,parentIconClassName:f.id===No?"plus":"th-large"})},EVe=Zhr;var nl=ln({key:"mosaicMapSelectedLayersState",default:[],dangerouslyAllowMutability:!0}),Qdn=ln({key:"mosaicMapGeometryLayerState",default:void 0,dangerouslyAllowMutability:!0}),mu=ln({key:"mosaicMapSelectedMosaicMapState",default:{id:No}}),ts={NOT_LOADING:0,UPLOADING_CHANGES:1,DOWNLOADING_LIST:2},Uh=ln({key:"mosaicMapLoadingState",default:ts.NOT_LOADING});function Yhr(e,t){return e.sort(function(r,n){let i=r.getMetadata(t),o=n.getMetadata(t);return typeof i=="string"&&(i=(""+i).toLowerCase()),typeof o=="string"&&(o=(""+o).toLowerCase()),i<o?-1:i>o?1:0})}var aQ=({minimumBatchSize:e=20,renderConsumer:t,sortSettings:r})=>{let{activeType:n,sortOrder:i}=r,[o,u]=(0,hp.useState)({itemCount:10,id:Date.now()}),f=yr(nl),m=(0,hp.useCallback)((w,I)=>f===void 0?new Promise(M=>M([])):new Promise(M=>{let N=Yhr(f.slice(w,w+I),n);i==="descending"&&N.reverse(),M(N)}),[f,i,n]),y=(0,hp.useCallback)(()=>{u({itemCount:f.length,id:Date.now()})},[m]);return(0,hp.useEffect)(()=>{y()},[f,n,i]),hp.default.createElement(hp.default.Fragment,null,t({minimumBatchSize:e,onRefresh:y,onFetchResults:m,searchResultDescriptor:o}))};aQ.propTypes={minimumBatchSize:M_.default.number,renderConsumer:M_.default.func,sortSettings:M_.default.shape({activeType:M_.default.string,sortOrder:M_.default.string})};var Yn=se(He(),1),gu=se(Wt(),1);var pE=se(KY(),1);var TVe="http://www.deutschefotothek.de/images/noimage/image120.jpg",MVe=({children:e,data:t,index:r,onMouseEnter:n,onMouseLeave:i,style:o})=>{var Te;let{direction:u,maps:f}=t,m=yr(Rn),[y,w]=Pn(nl),[I,M]=Pn(Zs),N=(Te=f[r])!=null?Te:ap,z=y.find(Ee=>Ee.getId()===N.getId()),[F,q]=(0,Yn.useState)(N.getMetadata(Bt.thumbnailUrl)===void 0?"":N.getMetadata(Bt.thumbnailUrl).replace("http:","")),R=N===ap,U=N.isMissing(),Y=z==null?void 0:z.isDisplayedInMap(m),re=N.getMetadata(Bt.mapScale)==="0"||N.getMetadata(Bt.mapScale)===0?gt("mapsearch-listelement-unknown"):`1:${N.getMetadata(Bt.mapScale)}`,de=N.getDisplayTime(),ce=N.getSortTime(),Se=Ee=>{Ee.stopPropagation(),u_(I,z)?(M(_e=>_e.filter(ze=>ze.getId()!==z.getId())),z.removeMapLibreLayers(m)):c_(z).then(_e=>{z.addLayerToMap(m,{sourceSettings:_e}),M(ze=>[...ze,z])})},qe=()=>{F!==""&&F!==TVe&&q(TVe)},Re=Ee=>{Ee.stopPropagation(),w(Ne=>Ne.filter(_e=>_e.getId()!==N.getId())),z.removeFromOverlay(m,uc)};return(0,Yn.useEffect)(()=>{q(N.getMetadata(Bt.thumbnailUrl))},[N]),Yn.default.createElement("li",{tabIndex:0,style:o,className:_r("vkf-mapsearch-record","vkf-mosaic-map-selected-list-element",N.getType(),Y&&"selected",u,R&&"loading",U&&"missing"),id:N.getId(),onMouseEnter:n,onMouseLeave:i},e,Yn.default.createElement("span",{className:"data-col time"},isNaN(ce)?"":ce),Yn.default.createElement("span",{className:"data-col title"},N.getMetadata(Bt.title)),Yn.default.createElement("span",{className:"data-col time"},"1"),Yn.default.createElement("div",{className:"view-item"},!U&&Yn.default.createElement("span",{className:"thumbnail"},F===""?Yn.default.createElement(pE.default.default,{height:"calc(100% - 6px)"}):Yn.default.createElement("img",{alt:`Thumbnail Image of Map ${N.getMetadata(Bt.title)} ${de}`,onError:qe,src:F})),Yn.default.createElement("div",{className:"overview"},Yn.default.createElement("h2",null,R?Yn.default.createElement(pE.default.default,null):U?`${gt("mosaic-map-missing-sheet")}: ${N.getId()}`:N.getMetadata(Bt.title)),Yn.default.createElement("div",{className:"details"},!U&&Yn.default.createElement(Yn.default.Fragment,null,Yn.default.createElement("div",{className:"timestamp"},R?Yn.default.createElement(pE.default.default,null):`${gt("mapsearch-listelement-time")} ${de}`),Yn.default.createElement("div",{className:"scale"},R?Yn.default.createElement(pE.default.default,null):`${gt("mapsearch-listelement-scale")} ${re}`)),!N.getMetadata(Bt.hasGeoReference)&&Yn.default.createElement("div",{className:"georeference"},gt("mapsearch-listelement-no-georef")))),Yn.default.createElement("div",{className:"actions"},!U&&Yn.default.createElement("button",{className:"vkf-mosaic-map-preview",onClick:Se},Yn.default.createElement(bo,{glyph:Y?"eye-open":"eye-close"})),Yn.default.createElement("button",{className:"vkf-mosaic-map-delete",onClick:Re},Yn.default.createElement(bo,{glyph:"trash"})))))};MVe.propTypes={children:gu.default.element,data:gu.default.shape({direction:gu.default.oneOf(["horizontal","vertical"]),feature:gu.default.object,maps:gu.default.object,selected:gu.default.bool}),onClick:gu.default.func,onMouseEnter:gu.default.func,onMouseLeave:gu.default.func,index:gu.default.number,style:gu.default.object};var CVe=MVe;var Khr=()=>{let e=yr(Rn),[t,r]=Pn(Zs),[n,i]=Pn(nl),o=n.length===0,u=!o&&n.every(I=>I.isDisplayedInMap(e)),f=t.length===0||t.filter(I=>n.find(M=>M.getId()===I.getId())!==void 0).length===t.length,m=()=>{t.forEach(I=>{let M=I.getId();n.find(N=>N.getId()===M)===void 0&&(i(N=>[...N,I]),I.addToOverlay(e,uc))})},y=()=>{let I=n.map(M=>M.getId());if(u){r(M=>M.filter(N=>!I.includes(N.getId()))),n.forEach(M=>M.removeMapLibreLayers(e));return}n.filter(M=>!M.isDisplayedInMap(e)).forEach(M=>c_(M).then(N=>{M.addLayerToMap(e,{sourceSettings:N}),r(z=>[...z,M])})),kk(e)},w=()=>{i([]),T_(e)};return si.default.createElement("div",{className:_r("mapsearch-container")},si.default.createElement("div",{className:"spatialsearch-inner-container"},si.default.createElement("div",{className:"spatialsearch-content-panel"},si.default.createElement("div",{className:"body-container"},si.default.createElement("div",{className:"header-container"},si.default.createElement("div",{className:"title"},si.default.createElement("h4",null,gt("mosaic-maps-refresh-selected-list-title")),si.default.createElement(bo,{glyph:"th-large"})),si.default.createElement("div",{className:"actions"},si.default.createElement("div",{className:"add-all-selected"},si.default.createElement(Ha,{disabled:f,onClick:m},gt("mosaic-maps-add-all-selected"))),si.default.createElement("div",{className:"action-container"},si.default.createElement("div",{className:"view-all-toggle control"},si.default.createElement("button",{className:_r(!u&&"selected"),disabled:o,onClick:y},si.default.createElement(bo,{glyph:u?"eye-open":"eye-close"}))),si.default.createElement("div",{className:"select-all-toggle control"},si.default.createElement("button",{disabled:o,onClick:w},si.default.createElement(bo,{glyph:"trash"})))))),si.default.createElement("div",{className:"panel panel-default searchTablePanel"},si.default.createElement("div",{className:"panel-heading"},si.default.createElement("div",{className:"content"},si.default.createElement("div",null,n.length===0?gt("mosaic-maps-selected-no-maps"):`${n.length} ${gt("mosaic-maps-selected-maps")}`)),si.default.createElement("div",{className:"facet-container"},si.default.createElement(lN,{georeferenceMode:!1}))),si.default.createElement("div",{className:"panel-body"},si.default.createElement(gN,{enableOverlayLayer:!1,DataProvider:aQ,ListItemComponent:CVe})))))))},AVe=Khr;var fE=se(He(),1);var PVe=({data:e,index:t,style:r})=>{let[n,i]=Pn(nl),o=yr(Rn),u=e.maps[t],f=zt(u)&&u_(n,u),m=w=>{zt(w)&&(w.stopPropagation(),w.preventDefault()),zt(u)&&(f?(i(I=>I.filter(M=>M.getId()!==u.getId())),u.removeFromOverlay(o,uc)):(i(I=>[...I,u]),u.addToOverlay(o,uc),kk(o)))},y=w=>{w.key==="Enter"&&m()};return fE.default.createElement("div",{className:_r("vkf-mosaic-map-result-list-element",f&&"selected")},fE.default.createElement(AI,{index:t,data:e,style:r},fE.default.createElement("button",{className:"vkf-add-to-mosaic-map-button",onKeyDown:y,onClick:m},fE.default.createElement("i",{className:"arrow right"}))))};PVe.propTypes=nt({},AI.propTypes);var OVe=PVe;var NVe=()=>kf.default.createElement(kf.default.Fragment,null,kf.default.createElement(IVe,null),kf.default.createElement("div",{className:"vkf-horizontal-layout"},kf.default.createElement("div",{className:"spatialsearch-container",id:"spatialsearch-container"},kf.default.createElement(pVe,{customQuery:[{term:{type:"single_sheet"}}],MapSearchListItemComponent:OVe,mosaicMode:!0})),kf.default.createElement("div",{className:"selected-maps-container"},kf.default.createElement(AVe,null))));NVe.propTypes={onAddGeoJson:DVe.default.func};var kVe=NVe;var qVe=se(He(),1);var dE=se(He(),1),Lf=se(Wt(),1);var LVe=e=>{let{activeControl:t=null,className:r="",disabled:n=!1,iconClassName:i="",IconComponent:o,id:u="unknown",onClick:f,title:m="unknown"}=e;return dE.default.createElement("button",{onClick:()=>{f(u)},className:_r("vkf-control-button",r,t===u&&"active",n&&"disabled"),disabled:n},o===void 0?dE.default.createElement(cE,{name:i,size:24}):dE.default.createElement(o,{glyph:i}),dE.default.createElement("span",{className:"text"},m))};LVe.propTypes={activeControl:Lf.default.string,className:Lf.default.string,disabled:Lf.default.bool,id:Lf.default.string.isRequired,iconClassName:Lf.default.string,IconComponent:Lf.default.elementType,onClick:Lf.default.func.isRequired,title:Lf.default.string};var RVe=LVe;var C_=RVe;var Xhr=()=>{let e=yr(mu),t=ki(Wa),r=()=>{e!==void 0&&vVe(e.id).then(()=>{t({id:"mosaic-map-refresh-overview-button",type:"success",text:gt("mosaic-map-success-messages-updated-overview")})}).catch(n=>{console.error(n),t({id:"mosaic-map-refresh-overview-button",type:"danger",text:gt("mosaic-map-error-messages-failed-update-overview")})})};return qVe.default.createElement(C_,{disabled:e.id===No,id:"recalculate-overview",iconClassName:"icon-reload",onClick:r,title:gt("mosaic-maps-refresh-overview")})},zVe=Xhr;var El=se(He(),1);var Vh=se(He(),1),fv=se(Wt(),1);var pv=se(He(),1),mp=se(Wt(),1);var jVe=(0,pv.forwardRef)(function(t,r){let{children:n,className:i="",onClick:o,type:u="default",disabled:f=!1,loading:m=!1,title:y,buttonType:w,form:I}=t;return pv.default.createElement("button",{className:`vkf-button-${u} ${i} ${_r(m&&"loading")}`,disabled:f,onClick:o,ref:r,title:y,type:w,form:I},m===!0&&pv.default.createElement(pv.default.Fragment,null,pv.default.createElement("div",{className:"loading-animation"}),n),m===!1&&n)});jVe.propTypes={children:mp.default.node,className:mp.default.string,onClick:mp.default.func,disabled:mp.default.bool,loading:mp.default.bool,title:mp.default.string,type:mp.default.oneOf(["primary","default","delete","discard","edit","save"]),buttonType:mp.default.string,form:mp.default.string};var FVe=jVe;var BVe=FVe;var UVe=({isOpen:e,onClose:t,modalClassName:r,renderContent:n,renderFooter:i,title:o})=>Vh.default.createElement(_f,{className:"vkf-modal",onHide:t,show:e,dialogClassName:r},Vh.default.createElement(aI,null,Vh.default.createElement(sI,null,o),Vh.default.createElement(BVe,{className:"close-button",onClick:t},Vh.default.createElement(_k,{name:"close"}))),Vh.default.createElement(nI,null,n()),i!==void 0&&Vh.default.createElement(oI,null,i()));UVe.propTypes={isOpen:fv.default.bool,onClose:fv.default.func,modalClassName:fv.default.string,renderContent:fv.default.func,renderFooter:fv.default.func,title:fv.default.string};var VVe=UVe;var Lk=VVe;var gp=se(He(),1);var HVe=se(GVe(),1);var Rf={LOADING:0,SAVED:1,CHANGED:2},sQ=()=>{let e=yr(mu),[t,r]=(0,gp.useState)(e),n=yr(Uh),i=UP(n);(0,gp.useEffect)(()=>{r(e)},[e.id]),(0,gp.useEffect)(()=>{n!==ts.UPLOADING_CHANGES&&i===ts.UPLOADING_CHANGES&&r(e)},[n]);let o;return n===ts.UPLOADING_CHANGES?o=Rf.LOADING:t.id!==No&&(0,HVe.default)(t,e)?o=Rf.SAVED:o=Rf.CHANGED,o},Qhr=()=>{let e=sQ();return gp.default.createElement("div",{className:"vkf-mosaic-map-save-indicator"},gp.default.createElement("label",null,e===Rf.SAVED?gt("mosaic-map-saved-indicator-saved"):gt("mosaic-map-saved-indicator-not-saved")),Rf.LOADING===e?gp.default.createElement(n_,null):gp.default.createElement("div",{className:_r("indicator",e===Rf.SAVED&&"saved",e===Rf.CHANGED&&"changed")}))},WVe=Qhr;var Jhr=e=>e!==void 0&&e.length>0,ZVe=e=>Number.isSafeInteger(e),Rk=e=>e!==void 0&&e.length>0,emr=e=>{let{name:t,raw_map_ids:r,title:n,title_short:i,time_of_publication:o,link_thumb:u,map_scale:f}=e;return Rk(t)&&Jhr(r)&&Rk(n)&&Rk(i)&&ZVe(o)&&Rk(u)&&ZVe(f)},tmr=()=>{let[e,t]=(0,El.useState)(!1),[r,n]=Pn(Uh),i=ki(Wa),[o,u]=Pn(mu),f=sQ(),m=o.id!==No,y=()=>{t(!1)},w=()=>{t(!0)},I=()=>{o!==void 0&&(n(ts.UPLOADING_CHANGES),yVe(o).then(M=>{n(ts.DOWNLOADING_LIST),u(gr(nt({},M),{raw_map_ids:o.raw_map_ids})),i({id:"mosaic-map-save-button",type:"success",text:gt("mosaic-map-success-messages-saved")})}).catch(M=>{console.error(M),i({id:"mosaic-map-save-button",type:"danger",text:gt("mosaic-map-error-messages-failed-upload")})}).finally(()=>{y()}))};return El.default.createElement(El.default.Fragment,null,El.default.createElement(Lk,{bs:!0,isOpen:e,onClose:y,title:gt("mosaic-map-save-modal-title"),renderContent:()=>El.default.createElement("div",{className:"vkf-modal-description-container"},El.default.createElement("p",null,gt("mosaic-map-save-modal-content"))),renderFooter:()=>El.default.createElement(El.default.Fragment,null,El.default.createElement(Ha,{bsStyle:"warning",bsSize:"large",onClick:y},gt("mosaic-map-delete-modal-buttonCancel")),El.default.createElement(Ha,{bsStyle:"success",bsSize:"large",onClick:I},gt("mosaic-map-save-modal-buttonSave")))}),El.default.createElement(C_,{disabled:!emr(o)||r===ts.UPLOADING_CHANGES||m&&f!==Rf.CHANGED,id:"save-mosaic-map",iconClassName:"icon-save",onClick:m?w:I,title:gt("mosaic-maps-save")}))},YVe=tmr;var Tl=se(He(),1);var rmr=()=>{let[e,t]=(0,Tl.useState)(!1),[r,n]=Pn(mu),i=ki(Uh),o=ki(Wa),u=ki(nl),f=yr(Rn),m=()=>{mVe(r.id).then(()=>{y(),n({id:No}),u([]),T_(f),i(ts.DOWNLOADING_LIST),o({id:"mosaic-map-delete-button",type:"success",text:gt("mosaic-map-success-messages-delete")})}).catch(()=>{y(),o({id:"mosaic-map-delete-button",type:"danger",text:gt("mosaic-map-error-messages-delete-failed")})})},y=()=>{t(!1)},w=()=>{t(!0)};return Tl.default.createElement(Tl.default.Fragment,null,Tl.default.createElement(Lk,{bs:!0,isOpen:e,onClose:y,title:gt("mosaic-map-delete-modal-title"),renderContent:()=>Tl.default.createElement("div",{className:"vkf-modal-description-container"},Tl.default.createElement("p",null,gt("mosaic-map-delete-modal-content"))),renderFooter:()=>Tl.default.createElement(Tl.default.Fragment,null,Tl.default.createElement(Ha,{bsStyle:"warning",bsSize:"large",onClick:y},gt("mosaic-map-delete-modal-buttonCancel")),Tl.default.createElement(Ha,{bsStyle:"danger",bsSize:"large",onClick:m},gt("mosaic-map-delete-modal-buttonDelete")))}),Tl.default.createElement(C_,{className:"delete-mosaic-map-button",disabled:r.id===No,id:"delete-mosaic-map",iconClassName:"trash",IconComponent:bo,onClick:w,title:gt("mosaic-maps-delete")}))},KVe=rmr;var lo=se(He(),1);var A_=se(Wt(),1);var XVe=[{id:"name"},{className:"form-group grow",id:"title"},{id:"title_short",className:"small-input"},{className:"small-input",id:"time_of_publication",type:"number",extraProps:{min:0,max:2100}},{id:"link_thumb"},{className:"description",id:"description",extraProps:{allowEmpty:!0}},{className:"small-input",id:"map_scale",type:"number",extraProps:{min:0,max:2e10}}],nmr=()=>{let e=yr(nl),[t,r]=Pn(mu),[,n]=(0,lo.useState)(0),i=(f,m)=>{var N;let{allowEmpty:y,min:w,max:I}=(N=m.extraProps)!=null?N:{allowEmpty:!1,min:Number.MIN_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER},M=document.getElementById(f);if(M!==null&&t[f]!==void 0){if(m.type==="string")return M.value.length>0||y?"success":"error";if(m.type==="number"){let z=M.valueAsNumber;return z>=w&&z<=I?"success":"error"}}return null},o=f=>{let m=f.target.id,y=XVe.find(I=>I.id===m).type,w;y==="number"?w=f.target.valueAsNumber:w=f.target.value,r(I=>gr(nt({},I),{[m]:w}))},u=f=>{f.key==="Enter"&&f.target.blur()};return(0,lo.useEffect)(()=>{n(Date.now())},[t.id]),(0,lo.useEffect)(()=>{r(f=>{var m;return gr(nt({},f),{raw_map_ids:(m=e==null?void 0:e.map(y=>y.getId()))!=null?m:[]})})},[e]),lo.default.createElement("div",{className:"vk-mosaic-map-input-panel-content"},lo.default.createElement("div",{className:"vk-mosaic-map-input-panel-header"},lo.default.createElement("div",{className:"vk-mosaic-map-title"},lo.default.createElement("h3",null,t.title===void 0||t.title===""&&t.id===No?gt("mosaic-maps-input-panel-title"):t.title),lo.default.createElement("div",{className:"divider"}),lo.default.createElement("h4",{className:"subtitle"},"ID:"," ",t.id===No?"undefined":t.id)),lo.default.createElement(WVe,null)),lo.default.createElement("div",{className:"input-container"},lo.default.createElement(lZ,null,XVe.map((f,m)=>lo.default.createElement(QVe,{bsClass:f.className,defaultValue:t[f.id],key:`${t.id}_${m}`,id:f.id,type:f.type,label:gt(`mosaic-maps-input-panel-field_${f.id}`),placeholder:f.id==="name"?gt(`mosaic-maps-input-panel-help_${f.id}`):void 0,onBlur:o,onKeyDown:u,validationState:i(f.id,f)})))))};function QVe(u){var f=u,{id:e,label:t,help:r,bsClass:n,validationState:i}=f,o=zn(f,["id","label","help","bsClass","validationState"]);return lo.default.createElement(vZ,{bsClass:n,controlId:e,validationState:i},lo.default.createElement("div",{className:"label-container"},lo.default.createElement(TW,null,t)),lo.default.createElement(hZ,nt({},o)),r&&lo.default.createElement(_Z,null,r))}QVe.propTypes={bsClass:A_.default.string,id:A_.default.string,label:A_.default.string,help:A_.default.string,validationState:A_.default.string};var JVe=nmr;var Ml=se(He(),1);var qk=se(Wt(),1);var e$e=e=>{let{onClose:t,text:r,type:n}=e;return Ml.default.createElement("div",{className:"notification-item"},Ml.default.createElement("div",{className:_r("alert","alert-"+n),role:"alert"},Ml.default.createElement("div",{className:"close"},Ml.default.createElement("button",{type:"button",className:"close","aria-label":"Close",onClick:t},Ml.default.createElement("span",{"aria-hidden":"true"},"\xD7"))),Ml.default.createElement("div",{className:"text"},r)))};e$e.propTypes={onClose:qk.default.func,text:qk.default.string,type:qk.default.string};var imr=()=>{let e=yr(Wa),t=UP(e),[r,n]=(0,Ml.useState)([]);return(0,Ml.useEffect)(()=>{if(e!==null&&e.id!==null&&e!==t){let i=[...r],o=r.findIndex(u=>u.id===e.id);o>-1?i.splice(o,1,e.text!==null?e:void 0):i.splice(0,0,e),n(i.filter(u=>u!==void 0))}},[e,r,t]),Ml.default.createElement("div",{className:_r("vkf-notifications",r.length===0?"hide":"")},r.map(({type:i,text:o},u)=>Ml.default.createElement(e$e,{key:u,onClose:()=>{let f=[...r];f.splice(u,1),n(f)},type:i,text:o})))},t$e=imr;var r$e=()=>Is.default.createElement(nPe,null,Is.default.createElement("div",{className:"vkf-app-mosaic-map-container"},Is.default.createElement(t$e,null),Is.default.createElement("div",{className:"vkf-mosaic-map-toolbar"},Is.default.createElement("div",null,Is.default.createElement(EVe,null)),Is.default.createElement("div",null,Is.default.createElement(zVe,null),Is.default.createElement(YVe,null),Is.default.createElement(KVe,null))),Is.default.createElement("div",{className:"vk-mosaic-map-input-panel"},Is.default.createElement(JVe,null)),Is.default.createElement("div",{className:"vkf-plugin-map-mosaic",id:"map-container"},Is.default.createElement(bze,{baseMapUrl:Nr.getDefaultBaseMapUrls(),layout:yh.HORIZONTAL,mapViewSettings:Nr.getDefaultMapView(),ChildComponent:kVe,loadMarkerIcon:!1}))));r$e.propTypes={};var n$e=r$e;var omr=Nr;function amr(e){o$e.default.render(i$e.default.createElement(n$e,null),e)}return XGe(smr)})();/*! Bundled license information:

object-assign/index.js:
  (*
  object-assign
  (c) Sindre Sorhus
  @license MIT
  *)

react/cjs/react.production.min.js:
  (** @license React v17.0.2
   * react.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

scheduler/cjs/scheduler.production.min.js:
  (** @license React v0.20.2
   * scheduler.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-dom/cjs/react-dom.production.min.js:
  (** @license React v17.0.2
   * react-dom.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

maplibre-gl/dist/maplibre-gl.js:
  (**
   * MapLibre GL JS
   * @license 3-Clause BSD. Full text of license: https://github.com/maplibre/maplibre-gl-js/blob/v5.5.0/LICENSE.txt
   *)

classnames/index.js:
  (*!
  	Copyright (c) 2018 Jed Watson.
  	Licensed under the MIT License (MIT), see
  	http://jedwatson.github.io/classnames
  *)

react-is/cjs/react-is.production.min.js:
  (** @license React v16.13.1
   * react-is.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

keycode/index.js:
  (*!
   * Programatically add the following
   *)

react-is/cjs/react-is.production.min.js:
  (**
   * @license React
   * react-is.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-is/cjs/react-is.production.min.js:
  (** @license React v17.0.2
   * react-is.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

wms-capabilities/dist/wms-capabilities.mjs:
  (**
   * wms-capabilities @0.6.0
   * @description WMS service Capabilities > JSON, based on openlayers 
   * @license BSD-2-Clause
   * @preserve
   *)

@babel/runtime/helpers/esm/regeneratorRuntime.js:
  (*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE *)
*/