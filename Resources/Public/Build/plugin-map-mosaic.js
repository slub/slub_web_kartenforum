var vk2=(()=>{var iWe=Object.create;var cx=Object.defineProperty,oWe=Object.defineProperties,aWe=Object.getOwnPropertyDescriptor,sWe=Object.getOwnPropertyDescriptors,lWe=Object.getOwnPropertyNames,aM=Object.getOwnPropertySymbols,uWe=Object.getPrototypeOf,YL=Object.prototype.hasOwnProperty,Yee=Object.prototype.propertyIsEnumerable;var Ay=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),KL=e=>{throw TypeError(e)},af=Math.pow,ZL=(e,t,r)=>t in e?cx(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,rt=(e,t)=>{for(var r in t||(t={}))YL.call(t,r)&&ZL(e,r,t[r]);if(aM)for(var r of aM(t))Yee.call(t,r)&&ZL(e,r,t[r]);return e},dr=(e,t)=>oWe(e,sWe(t));var Yn=(e,t)=>{var r={};for(var n in e)YL.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&aM)for(var n of aM(e))t.indexOf(n)<0&&Yee.call(e,n)&&(r[n]=e[n]);return r};var cWe=(e,t)=>()=>(e&&(t=e(e=0)),t);var P=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Kee=(e,t)=>{for(var r in t)cx(e,r,{get:t[r],enumerable:!0})},Xee=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of lWe(t))!YL.call(e,i)&&i!==r&&cx(e,i,{get:()=>t[i],enumerable:!(n=aWe(t,i))||n.enumerable});return e};var se=(e,t,r)=>(r=e!=null?iWe(uWe(e)):{},Xee(t||!e||!e.__esModule?cx(r,"default",{value:e,enumerable:!0}):r,e)),pWe=e=>Xee(cx({},"__esModule",{value:!0}),e);var ct=(e,t,r)=>ZL(e,typeof t!="symbol"?t+"":t,r),XL=(e,t,r)=>t.has(e)||KL("Cannot "+r);var ur=(e,t,r)=>(XL(e,t,"read from private field"),r?r.call(e):t.get(e)),io=(e,t,r)=>t.has(e)?KL("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),oo=(e,t,r,n)=>(XL(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),ki=(e,t,r)=>(XL(e,t,"access private method"),r);var sn=(e,t,r)=>new Promise((n,i)=>{var o=g=>{try{d(r.next(g))}catch(_){i(_)}},u=g=>{try{d(r.throw(g))}catch(_){i(_)}},d=g=>g.done?n(g.value):Promise.resolve(g.value).then(o,u);d((r=r.apply(e,t)).next())}),Zm=function(e,t){this[0]=e,this[1]=t},QL=(e,t,r)=>{var n=(u,d,g,_)=>{try{var I=r[u](d),T=(d=I.value)instanceof Zm,A=I.done;Promise.resolve(T?d[0]:d).then(q=>T?n(u==="return"?u:"next",d[1]?{done:q.done,value:q.value}:q,g,_):g({value:q,done:A})).catch(q=>n("throw",q,g,_))}catch(q){_(q)}},i=u=>o[u]=d=>new Promise((g,_)=>n(u,d,g,_)),o={};return r=r.apply(e,t),o[Ay("asyncIterator")]=()=>o,i("next"),i("throw"),i("return"),o},JL=e=>{var t=e[Ay("asyncIterator")],r=!1,n,i={};return t==null?(t=e[Ay("iterator")](),n=o=>i[o]=u=>t[o](u)):(t=t.call(e),n=o=>i[o]=u=>{if(r){if(r=!1,o==="throw")throw u;return u}return r=!0,{done:!1,value:new Zm(new Promise(d=>{var g=t[o](u);g instanceof Object||KL("Object expected"),d(g)}),1)}}),i[Ay("iterator")]=()=>i,n("next"),"throw"in t?n("throw"):i.throw=o=>{throw o},"return"in t&&n("return"),i},Qee=(e,t,r)=>(t=e[Ay("asyncIterator")])?t.call(e):(e=e[Ay("iterator")](),t={},r=(n,i)=>(i=e[n])&&(t[n]=o=>new Promise((u,d,g)=>(o=i.call(e,o),g=o.done,Promise.resolve(o.value).then(_=>u({value:_,done:g}),d)))),r("next"),r("return"),t);var b,p=cWe(()=>{b={env:{}}});var e6=P((ovr,ete)=>{"use strict";p();var Jee=Object.getOwnPropertySymbols,dWe=Object.prototype.hasOwnProperty,hWe=Object.prototype.propertyIsEnumerable;function mWe(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function gWe(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(t).map(function(o){return t[o]});if(n.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(o){i[o]=o}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch(o){return!1}}ete.exports=gWe()?Object.assign:function(e,t){for(var r,n=mWe(e),i,o=1;o<arguments.length;o++){r=Object(arguments[o]);for(var u in r)dWe.call(r,u)&&(n[u]=r[u]);if(Jee){i=Jee(r);for(var d=0;d<i.length;d++)hWe.call(r,i[d])&&(n[i[d]]=r[i[d]])}}return n}});var gte=P(Ln=>{"use strict";p();var r6=e6(),Py=60103,nte=60106;Ln.Fragment=60107;Ln.StrictMode=60108;Ln.Profiler=60114;var ite=60109,ote=60110,ate=60112;Ln.Suspense=60113;var ste=60115,lte=60116;typeof Symbol=="function"&&Symbol.for&&(Vl=Symbol.for,Py=Vl("react.element"),nte=Vl("react.portal"),Ln.Fragment=Vl("react.fragment"),Ln.StrictMode=Vl("react.strict_mode"),Ln.Profiler=Vl("react.profiler"),ite=Vl("react.provider"),ote=Vl("react.context"),ate=Vl("react.forward_ref"),Ln.Suspense=Vl("react.suspense"),ste=Vl("react.memo"),lte=Vl("react.lazy"));var Vl,tte=typeof Symbol=="function"&&Symbol.iterator;function vWe(e){return e===null||typeof e!="object"?null:(e=tte&&e[tte]||e["@@iterator"],typeof e=="function"?e:null)}function px(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ute={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},cte={};function Oy(e,t,r){this.props=e,this.context=t,this.refs=cte,this.updater=r||ute}Oy.prototype.isReactComponent={};Oy.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error(px(85));this.updater.enqueueSetState(this,e,t,"setState")};Oy.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function pte(){}pte.prototype=Oy.prototype;function n6(e,t,r){this.props=e,this.context=t,this.refs=cte,this.updater=r||ute}var i6=n6.prototype=new pte;i6.constructor=n6;r6(i6,Oy.prototype);i6.isPureReactComponent=!0;var o6={current:null},fte=Object.prototype.hasOwnProperty,dte={key:!0,ref:!0,__self:!0,__source:!0};function hte(e,t,r){var n,i={},o=null,u=null;if(t!=null)for(n in t.ref!==void 0&&(u=t.ref),t.key!==void 0&&(o=""+t.key),t)fte.call(t,n)&&!dte.hasOwnProperty(n)&&(i[n]=t[n]);var d=arguments.length-2;if(d===1)i.children=r;else if(1<d){for(var g=Array(d),_=0;_<d;_++)g[_]=arguments[_+2];i.children=g}if(e&&e.defaultProps)for(n in d=e.defaultProps,d)i[n]===void 0&&(i[n]=d[n]);return{$$typeof:Py,type:e,key:o,ref:u,props:i,_owner:o6.current}}function yWe(e,t){return{$$typeof:Py,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function a6(e){return typeof e=="object"&&e!==null&&e.$$typeof===Py}function _We(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var rte=/\/+/g;function t6(e,t){return typeof e=="object"&&e!==null&&e.key!=null?_We(""+e.key):t.toString(36)}function lM(e,t,r,n,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var u=!1;if(e===null)u=!0;else switch(o){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case Py:case nte:u=!0}}if(u)return u=e,i=i(u),e=n===""?"."+t6(u,0):n,Array.isArray(i)?(r="",e!=null&&(r=e.replace(rte,"$&/")+"/"),lM(i,t,r,"",function(_){return _})):i!=null&&(a6(i)&&(i=yWe(i,r+(!i.key||u&&u.key===i.key?"":(""+i.key).replace(rte,"$&/")+"/")+e)),t.push(i)),1;if(u=0,n=n===""?".":n+":",Array.isArray(e))for(var d=0;d<e.length;d++){o=e[d];var g=n+t6(o,d);u+=lM(o,t,r,g,i)}else if(g=vWe(e),typeof g=="function")for(e=g.call(e),d=0;!(o=e.next()).done;)o=o.value,g=n+t6(o,d++),u+=lM(o,t,r,g,i);else if(o==="object")throw t=""+e,Error(px(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function sM(e,t,r){if(e==null)return e;var n=[],i=0;return lM(e,n,"","",function(o){return t.call(r,o,i++)}),n}function bWe(e){if(e._status===-1){var t=e._result;t=t(),e._status=0,e._result=t,t.then(function(r){e._status===0&&(r=r.default,e._status=1,e._result=r)},function(r){e._status===0&&(e._status=2,e._result=r)})}if(e._status===1)return e._result;throw e._result}var mte={current:null};function sf(){var e=mte.current;if(e===null)throw Error(px(321));return e}var xWe={ReactCurrentDispatcher:mte,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:o6,IsSomeRendererActing:{current:!1},assign:r6};Ln.Children={map:sM,forEach:function(e,t,r){sM(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return sM(e,function(){t++}),t},toArray:function(e){return sM(e,function(t){return t})||[]},only:function(e){if(!a6(e))throw Error(px(143));return e}};Ln.Component=Oy;Ln.PureComponent=n6;Ln.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xWe;Ln.cloneElement=function(e,t,r){if(e==null)throw Error(px(267,e));var n=r6({},e.props),i=e.key,o=e.ref,u=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,u=o6.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var d=e.type.defaultProps;for(g in t)fte.call(t,g)&&!dte.hasOwnProperty(g)&&(n[g]=t[g]===void 0&&d!==void 0?d[g]:t[g])}var g=arguments.length-2;if(g===1)n.children=r;else if(1<g){d=Array(g);for(var _=0;_<g;_++)d[_]=arguments[_+2];n.children=d}return{$$typeof:Py,type:e.type,key:i,ref:o,props:n,_owner:u}};Ln.createContext=function(e,t){return t===void 0&&(t=null),e={$$typeof:ote,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider={$$typeof:ite,_context:e},e.Consumer=e};Ln.createElement=hte;Ln.createFactory=function(e){var t=hte.bind(null,e);return t.type=e,t};Ln.createRef=function(){return{current:null}};Ln.forwardRef=function(e){return{$$typeof:ate,render:e}};Ln.isValidElement=a6;Ln.lazy=function(e){return{$$typeof:lte,_payload:{_status:-1,_result:e},_init:bWe}};Ln.memo=function(e,t){return{$$typeof:ste,type:e,compare:t===void 0?null:t}};Ln.useCallback=function(e,t){return sf().useCallback(e,t)};Ln.useContext=function(e,t){return sf().useContext(e,t)};Ln.useDebugValue=function(){};Ln.useEffect=function(e,t){return sf().useEffect(e,t)};Ln.useImperativeHandle=function(e,t,r){return sf().useImperativeHandle(e,t,r)};Ln.useLayoutEffect=function(e,t){return sf().useLayoutEffect(e,t)};Ln.useMemo=function(e,t){return sf().useMemo(e,t)};Ln.useReducer=function(e,t,r){return sf().useReducer(e,t,r)};Ln.useRef=function(e){return sf().useRef(e)};Ln.useState=function(e){return sf().useState(e)};Ln.version="17.0.2"});var Je=P((uvr,vte)=>{"use strict";p();vte.exports=gte()});var Ste=P(Kn=>{"use strict";p();var ky,hx,fM,d6;typeof performance=="object"&&typeof performance.now=="function"?(yte=performance,Kn.unstable_now=function(){return yte.now()}):(s6=Date,_te=s6.now(),Kn.unstable_now=function(){return s6.now()-_te});var yte,s6,_te;typeof window=="undefined"||typeof MessageChannel!="function"?(Dy=null,l6=null,u6=function(){if(Dy!==null)try{var e=Kn.unstable_now();Dy(!0,e),Dy=null}catch(t){throw setTimeout(u6,0),t}},ky=function(e){Dy!==null?setTimeout(ky,0,e):(Dy=e,setTimeout(u6,0))},hx=function(e,t){l6=setTimeout(e,t)},fM=function(){clearTimeout(l6)},Kn.unstable_shouldYield=function(){return!1},d6=Kn.unstable_forceFrameRate=function(){}):(bte=window.setTimeout,xte=window.clearTimeout,typeof console!="undefined"&&(wte=window.cancelAnimationFrame,typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof wte!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")),fx=!1,dx=null,uM=-1,c6=5,p6=0,Kn.unstable_shouldYield=function(){return Kn.unstable_now()>=p6},d6=function(){},Kn.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):c6=0<e?Math.floor(1e3/e):5},f6=new MessageChannel,cM=f6.port2,f6.port1.onmessage=function(){if(dx!==null){var e=Kn.unstable_now();p6=e+c6;try{dx(!0,e)?cM.postMessage(null):(fx=!1,dx=null)}catch(t){throw cM.postMessage(null),t}}else fx=!1},ky=function(e){dx=e,fx||(fx=!0,cM.postMessage(null))},hx=function(e,t){uM=bte(function(){e(Kn.unstable_now())},t)},fM=function(){xte(uM),uM=-1});var Dy,l6,u6,bte,xte,wte,fx,dx,uM,c6,p6,f6,cM;function h6(e,t){var r=e.length;e.push(t);e:for(;;){var n=r-1>>>1,i=e[n];if(i!==void 0&&0<pM(i,t))e[n]=t,e[r]=i,r=n;else break e}}function Lu(e){return e=e[0],e===void 0?null:e}function dM(e){var t=e[0];if(t!==void 0){var r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,i=e.length;n<i;){var o=2*(n+1)-1,u=e[o],d=o+1,g=e[d];if(u!==void 0&&0>pM(u,r))g!==void 0&&0>pM(g,u)?(e[n]=g,e[d]=r,n=d):(e[n]=u,e[o]=r,n=o);else if(g!==void 0&&0>pM(g,r))e[n]=g,e[d]=r,n=d;else break e}}return t}return null}function pM(e,t){var r=e.sortIndex-t.sortIndex;return r!==0?r:e.id-t.id}var Fc=[],Nd=[],wWe=1,$l=null,ja=3,hM=!1,Ym=!1,mx=!1;function m6(e){for(var t=Lu(Nd);t!==null;){if(t.callback===null)dM(Nd);else if(t.startTime<=e)dM(Nd),t.sortIndex=t.expirationTime,h6(Fc,t);else break;t=Lu(Nd)}}function g6(e){if(mx=!1,m6(e),!Ym)if(Lu(Fc)!==null)Ym=!0,ky(v6);else{var t=Lu(Nd);t!==null&&hx(g6,t.startTime-e)}}function v6(e,t){Ym=!1,mx&&(mx=!1,fM()),hM=!0;var r=ja;try{for(m6(t),$l=Lu(Fc);$l!==null&&(!($l.expirationTime>t)||e&&!Kn.unstable_shouldYield());){var n=$l.callback;if(typeof n=="function"){$l.callback=null,ja=$l.priorityLevel;var i=n($l.expirationTime<=t);t=Kn.unstable_now(),typeof i=="function"?$l.callback=i:$l===Lu(Fc)&&dM(Fc),m6(t)}else dM(Fc);$l=Lu(Fc)}if($l!==null)var o=!0;else{var u=Lu(Nd);u!==null&&hx(g6,u.startTime-t),o=!1}return o}finally{$l=null,ja=r,hM=!1}}var SWe=d6;Kn.unstable_IdlePriority=5;Kn.unstable_ImmediatePriority=1;Kn.unstable_LowPriority=4;Kn.unstable_NormalPriority=3;Kn.unstable_Profiling=null;Kn.unstable_UserBlockingPriority=2;Kn.unstable_cancelCallback=function(e){e.callback=null};Kn.unstable_continueExecution=function(){Ym||hM||(Ym=!0,ky(v6))};Kn.unstable_getCurrentPriorityLevel=function(){return ja};Kn.unstable_getFirstCallbackNode=function(){return Lu(Fc)};Kn.unstable_next=function(e){switch(ja){case 1:case 2:case 3:var t=3;break;default:t=ja}var r=ja;ja=t;try{return e()}finally{ja=r}};Kn.unstable_pauseExecution=function(){};Kn.unstable_requestPaint=SWe;Kn.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=ja;ja=e;try{return t()}finally{ja=r}};Kn.unstable_scheduleCallback=function(e,t,r){var n=Kn.unstable_now();switch(typeof r=="object"&&r!==null?(r=r.delay,r=typeof r=="number"&&0<r?n+r:n):r=n,e){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return i=r+i,e={id:wWe++,callback:t,priorityLevel:e,startTime:r,expirationTime:i,sortIndex:-1},r>n?(e.sortIndex=r,h6(Nd,e),Lu(Fc)===null&&e===Lu(Nd)&&(mx?fM():mx=!0,hx(g6,r-n))):(e.sortIndex=i,h6(Fc,e),Ym||hM||(Ym=!0,ky(v6))),e};Kn.unstable_wrapCallback=function(e){var t=ja;return function(){var r=ja;ja=t;try{return e.apply(this,arguments)}finally{ja=r}}}});var Ite=P((dvr,Ete)=>{"use strict";p();Ete.exports=Ste()});var pie=P(Kl=>{"use strict";p();var sC=Je(),Ni=e6(),Vo=Ite();function $t(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!sC)throw Error($t(227));var zre=new Set,Gx={};function ag(e,t){e0(e,t),e0(e+"Capture",t)}function e0(e,t){for(Gx[e]=t,e=0;e<t.length;e++)zre.add(t[e])}var df=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),EWe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Tte=Object.prototype.hasOwnProperty,Mte={},Cte={};function IWe(e){return Tte.call(Cte,e)?!0:Tte.call(Mte,e)?!1:EWe.test(e)?Cte[e]=!0:(Mte[e]=!0,!1)}function TWe(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function MWe(e,t,r,n){if(t===null||typeof t=="undefined"||TWe(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ds(e,t,r,n,i,o,u){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=u}var ua={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ua[e]=new ds(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ua[t]=new ds(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ua[e]=new ds(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ua[e]=new ds(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ua[e]=new ds(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ua[e]=new ds(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ua[e]=new ds(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ua[e]=new ds(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ua[e]=new ds(e,5,!1,e.toLowerCase(),null,!1,!1)});var Tq=/[\-:]([a-z])/g;function Mq(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Tq,Mq);ua[t]=new ds(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Tq,Mq);ua[t]=new ds(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Tq,Mq);ua[t]=new ds(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ua[e]=new ds(e,1,!1,e.toLowerCase(),null,!1,!1)});ua.xlinkHref=new ds("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ua[e]=new ds(e,1,!1,e.toLowerCase(),null,!0,!0)});function Cq(e,t,r,n){var i=ua.hasOwnProperty(t)?ua[t]:null,o=i!==null?i.type===0:n?!1:!(!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N");o||(MWe(t,r,i,n)&&(r=null),n||i===null?IWe(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var sg=sC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Cx=60103,Xm=60106,Ld=60107,Aq=60108,kx=60114,Pq=60109,Oq=60110,lC=60112,Nx=60113,zM=60120,uC=60115,Dq=60116,kq=60121,Nq=60128,jre=60129,Rq=60130,F6=60131;typeof Symbol=="function"&&Symbol.for&&(Do=Symbol.for,Cx=Do("react.element"),Xm=Do("react.portal"),Ld=Do("react.fragment"),Aq=Do("react.strict_mode"),kx=Do("react.profiler"),Pq=Do("react.provider"),Oq=Do("react.context"),lC=Do("react.forward_ref"),Nx=Do("react.suspense"),zM=Do("react.suspense_list"),uC=Do("react.memo"),Dq=Do("react.lazy"),kq=Do("react.block"),Do("react.scope"),Nq=Do("react.opaque.id"),jre=Do("react.debug_trace_mode"),Rq=Do("react.offscreen"),F6=Do("react.legacy_hidden"));var Do,Ate=typeof Symbol=="function"&&Symbol.iterator;function gx(e){return e===null||typeof e!="object"?null:(e=Ate&&e[Ate]||e["@@iterator"],typeof e=="function"?e:null)}var y6;function Ax(e){if(y6===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);y6=t&&t[1]||""}return`
`+y6+e}var _6=!1;function mM(e,t){if(!e||_6)return"";_6=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t){if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(g){var n=g}Reflect.construct(e,[],t)}else{try{t.call()}catch(g){n=g}e.call(t.prototype)}}else{try{throw Error()}catch(g){n=g}e()}}catch(g){if(g&&n&&typeof g.stack=="string"){for(var i=g.stack.split(`
`),o=n.stack.split(`
`),u=i.length-1,d=o.length-1;1<=u&&0<=d&&i[u]!==o[d];)d--;for(;1<=u&&0<=d;u--,d--)if(i[u]!==o[d]){if(u!==1||d!==1)do if(u--,d--,0>d||i[u]!==o[d])return`
`+i[u].replace(" at new "," at ");while(1<=u&&0<=d);break}}}finally{_6=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Ax(e):""}function CWe(e){switch(e.tag){case 5:return Ax(e.type);case 16:return Ax("Lazy");case 13:return Ax("Suspense");case 19:return Ax("SuspenseList");case 0:case 2:case 15:return e=mM(e.type,!1),e;case 11:return e=mM(e.type.render,!1),e;case 22:return e=mM(e.type._render,!1),e;case 1:return e=mM(e.type,!0),e;default:return""}}function $y(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ld:return"Fragment";case Xm:return"Portal";case kx:return"Profiler";case Aq:return"StrictMode";case Nx:return"Suspense";case zM:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Oq:return(e.displayName||"Context")+".Consumer";case Pq:return(e._context.displayName||"Context")+".Provider";case lC:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case uC:return $y(e.type);case kq:return $y(e._render);case Dq:t=e._payload,e=e._init;try{return $y(e(t))}catch(r){}}return null}function Zd(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Fre(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function AWe(e){var t=Fre(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r!="undefined"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(u){n=""+u,o.call(this,u)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(u){n=""+u},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function gM(e){e._valueTracker||(e._valueTracker=AWe(e))}function Bre(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Fre(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function jM(e){if(e=e||(typeof document!="undefined"?document:void 0),typeof e=="undefined")return null;try{return e.activeElement||e.body}catch(t){return e.body}}function B6(e,t){var r=t.checked;return Ni({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r!=null?r:e._wrapperState.initialChecked})}function Pte(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Zd(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ure(e,t){t=t.checked,t!=null&&Cq(e,"checked",t,!1)}function U6(e,t){Ure(e,t);var r=Zd(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?V6(e,t.type,r):t.hasOwnProperty("defaultValue")&&V6(e,t.type,Zd(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ote(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function V6(e,t,r){(t!=="number"||jM(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}function PWe(e){var t="";return sC.Children.forEach(e,function(r){r!=null&&(t+=r)}),t}function $6(e,t){return e=Ni({children:void 0},t),(t=PWe(t.children))&&(e.children=t),e}function Gy(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Zd(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function G6(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error($t(91));return Ni({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Dte(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error($t(92));if(Array.isArray(r)){if(!(1>=r.length))throw Error($t(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Zd(r)}}function Vre(e,t){var r=Zd(t.value),n=Zd(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function kte(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}var H6={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function $re(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function W6(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?$re(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var vM,Gre=function(e){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!==H6.svg||"innerHTML"in e)e.innerHTML=t;else{for(vM=vM||document.createElement("div"),vM.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=vM.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Hx(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Rx={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},OWe=["Webkit","ms","Moz","O"];Object.keys(Rx).forEach(function(e){OWe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Rx[t]=Rx[e]})});function Hre(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Rx.hasOwnProperty(e)&&Rx[e]?(""+t).trim():t+"px"}function Wre(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=Hre(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var DWe=Ni({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Z6(e,t){if(t){if(DWe[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error($t(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error($t(60));if(!(typeof t.dangerouslySetInnerHTML=="object"&&"__html"in t.dangerouslySetInnerHTML))throw Error($t(61))}if(t.style!=null&&typeof t.style!="object")throw Error($t(62))}}function Y6(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Lq(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var K6=null,Hy=null,Wy=null;function Nte(e){if(e=aw(e)){if(typeof K6!="function")throw Error($t(280));var t=e.stateNode;t&&(t=mC(t),K6(e.stateNode,e.type,t))}}function Zre(e){Hy?Wy?Wy.push(e):Wy=[e]:Hy=e}function Yre(){if(Hy){var e=Hy,t=Wy;if(Wy=Hy=null,Nte(e),t)for(e=0;e<t.length;e++)Nte(t[e])}}function qq(e,t){return e(t)}function Kre(e,t,r,n,i){return e(t,r,n,i)}function zq(){}var Xre=qq,Qm=!1,b6=!1;function jq(){(Hy!==null||Wy!==null)&&(zq(),Yre())}function kWe(e,t,r){if(b6)return e(t,r);b6=!0;try{return Xre(e,t,r)}finally{b6=!1,jq()}}function Wx(e,t){var r=e.stateNode;if(r===null)return null;var n=mC(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error($t(231,t,typeof r));return r}var X6=!1;if(df)try{Ny={},Object.defineProperty(Ny,"passive",{get:function(){X6=!0}}),window.addEventListener("test",Ny,Ny),window.removeEventListener("test",Ny,Ny)}catch(e){X6=!1}var Ny;function NWe(e,t,r,n,i,o,u,d,g){var _=Array.prototype.slice.call(arguments,3);try{t.apply(r,_)}catch(I){this.onError(I)}}var Lx=!1,FM=null,BM=!1,Q6=null,RWe={onError:function(e){Lx=!0,FM=e}};function LWe(e,t,r,n,i,o,u,d,g){Lx=!1,FM=null,NWe.apply(RWe,arguments)}function qWe(e,t,r,n,i,o,u,d,g){if(LWe.apply(this,arguments),Lx){if(Lx){var _=FM;Lx=!1,FM=null}else throw Error($t(198));BM||(BM=!0,Q6=_)}}function lg(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&1026)!==0&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Qre(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Rte(e){if(lg(e)!==e)throw Error($t(188))}function zWe(e){var t=e.alternate;if(!t){if(t=lg(e),t===null)throw Error($t(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var o=i.alternate;if(o===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return Rte(i),e;if(o===n)return Rte(i),t;o=o.sibling}throw Error($t(188))}if(r.return!==n.return)r=i,n=o;else{for(var u=!1,d=i.child;d;){if(d===r){u=!0,r=i,n=o;break}if(d===n){u=!0,n=i,r=o;break}d=d.sibling}if(!u){for(d=o.child;d;){if(d===r){u=!0,r=o,n=i;break}if(d===n){u=!0,n=o,r=i;break}d=d.sibling}if(!u)throw Error($t(189))}}if(r.alternate!==n)throw Error($t(190))}if(r.tag!==3)throw Error($t(188));return r.stateNode.current===r?e:t}function Jre(e){if(e=zWe(e),!e)return null;for(var t=e;;){if(t.tag===5||t.tag===6)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Lte(e,t){for(var r=e.alternate;t!==null;){if(t===e||t===r)return!0;t=t.return}return!1}var ene,Fq,tne,rne,J6=!1,Bc=[],Fd=null,Bd=null,Ud=null,Zx=new Map,Yx=new Map,vx=[],qte="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function eq(e,t,r,n,i){return{blockedOn:e,domEventName:t,eventSystemFlags:r|16,nativeEvent:i,targetContainers:[n]}}function zte(e,t){switch(e){case"focusin":case"focusout":Fd=null;break;case"dragenter":case"dragleave":Bd=null;break;case"mouseover":case"mouseout":Ud=null;break;case"pointerover":case"pointerout":Zx.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yx.delete(t.pointerId)}}function yx(e,t,r,n,i,o){return e===null||e.nativeEvent!==o?(e=eq(t,r,n,i,o),t!==null&&(t=aw(t),t!==null&&Fq(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function jWe(e,t,r,n,i){switch(t){case"focusin":return Fd=yx(Fd,e,t,r,n,i),!0;case"dragenter":return Bd=yx(Bd,e,t,r,n,i),!0;case"mouseover":return Ud=yx(Ud,e,t,r,n,i),!0;case"pointerover":var o=i.pointerId;return Zx.set(o,yx(Zx.get(o)||null,e,t,r,n,i)),!0;case"gotpointercapture":return o=i.pointerId,Yx.set(o,yx(Yx.get(o)||null,e,t,r,n,i)),!0}return!1}function FWe(e){var t=Jm(e.target);if(t!==null){var r=lg(t);if(r!==null){if(t=r.tag,t===13){if(t=Qre(r),t!==null){e.blockedOn=t,rne(e.lanePriority,function(){Vo.unstable_runWithPriority(e.priority,function(){tne(r)})});return}}else if(t===3&&r.stateNode.hydrate){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function CM(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=$q(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r!==null)return t=aw(r),t!==null&&Fq(t),e.blockedOn=r,!1;t.shift()}return!0}function jte(e,t,r){CM(e)&&r.delete(t)}function BWe(){for(J6=!1;0<Bc.length;){var e=Bc[0];if(e.blockedOn!==null){e=aw(e.blockedOn),e!==null&&ene(e);break}for(var t=e.targetContainers;0<t.length;){var r=$q(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r!==null){e.blockedOn=r;break}t.shift()}e.blockedOn===null&&Bc.shift()}Fd!==null&&CM(Fd)&&(Fd=null),Bd!==null&&CM(Bd)&&(Bd=null),Ud!==null&&CM(Ud)&&(Ud=null),Zx.forEach(jte),Yx.forEach(jte)}function _x(e,t){e.blockedOn===t&&(e.blockedOn=null,J6||(J6=!0,Vo.unstable_scheduleCallback(Vo.unstable_NormalPriority,BWe)))}function nne(e){function t(i){return _x(i,e)}if(0<Bc.length){_x(Bc[0],e);for(var r=1;r<Bc.length;r++){var n=Bc[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Fd!==null&&_x(Fd,e),Bd!==null&&_x(Bd,e),Ud!==null&&_x(Ud,e),Zx.forEach(t),Yx.forEach(t),r=0;r<vx.length;r++)n=vx[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<vx.length&&(r=vx[0],r.blockedOn===null);)FWe(r),r.blockedOn===null&&vx.shift()}function yM(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var zy={animationend:yM("Animation","AnimationEnd"),animationiteration:yM("Animation","AnimationIteration"),animationstart:yM("Animation","AnimationStart"),transitionend:yM("Transition","TransitionEnd")},x6={},ine={};df&&(ine=document.createElement("div").style,"AnimationEvent"in window||(delete zy.animationend.animation,delete zy.animationiteration.animation,delete zy.animationstart.animation),"TransitionEvent"in window||delete zy.transitionend.transition);function cC(e){if(x6[e])return x6[e];if(!zy[e])return e;var t=zy[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in ine)return x6[e]=t[r];return e}var one=cC("animationend"),ane=cC("animationiteration"),sne=cC("animationstart"),lne=cC("transitionend"),une=new Map,Bq=new Map,UWe=["abort","abort",one,"animationEnd",ane,"animationIteration",sne,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",lne,"transitionEnd","waiting","waiting"];function Uq(e,t){for(var r=0;r<e.length;r+=2){var n=e[r],i=e[r+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Bq.set(n,t),une.set(n,i),ag(i,[n])}}var VWe=Vo.unstable_now;VWe();var vi=8;function Ly(e){if((1&e)!==0)return vi=15,1;if((2&e)!==0)return vi=14,2;if((4&e)!==0)return vi=13,4;var t=24&e;return t!==0?(vi=12,t):(e&32)!==0?(vi=11,32):(t=192&e,t!==0?(vi=10,t):(e&256)!==0?(vi=9,256):(t=3584&e,t!==0?(vi=8,t):(e&4096)!==0?(vi=7,4096):(t=4186112&e,t!==0?(vi=6,t):(t=62914560&e,t!==0?(vi=5,t):e&67108864?(vi=4,67108864):(e&134217728)!==0?(vi=3,134217728):(t=805306368&e,t!==0?(vi=2,t):(1073741824&e)!==0?(vi=1,1073741824):(vi=8,e))))))}function $We(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function GWe(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error($t(358,e))}}function Kx(e,t){var r=e.pendingLanes;if(r===0)return vi=0;var n=0,i=0,o=e.expiredLanes,u=e.suspendedLanes,d=e.pingedLanes;if(o!==0)n=o,i=vi=15;else if(o=r&134217727,o!==0){var g=o&~u;g!==0?(n=Ly(g),i=vi):(d&=o,d!==0&&(n=Ly(d),i=vi))}else o=r&~u,o!==0?(n=Ly(o),i=vi):d!==0&&(n=Ly(d),i=vi);if(n===0)return 0;if(n=31-Yd(n),n=r&((0>n?0:1<<n)<<1)-1,t!==0&&t!==n&&(t&u)===0){if(Ly(t),i<=vi)return t;vi=i}if(t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Yd(t),i=1<<r,n|=e[r],t&=~i;return n}function cne(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function UM(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return e=qy(24&~t),e===0?UM(10,t):e;case 10:return e=qy(192&~t),e===0?UM(8,t):e;case 8:return e=qy(3584&~t),e===0&&(e=qy(4186112&~t),e===0&&(e=512)),e;case 2:return t=qy(805306368&~t),t===0&&(t=268435456),t}throw Error($t(358,e))}function qy(e){return e&-e}function w6(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function pC(e,t,r){e.pendingLanes|=t;var n=t-1;e.suspendedLanes&=n,e.pingedLanes&=n,e=e.eventTimes,t=31-Yd(t),e[t]=r}var Yd=Math.clz32?Math.clz32:ZWe,HWe=Math.log,WWe=Math.LN2;function ZWe(e){return e===0?32:31-(HWe(e)/WWe|0)|0}var YWe=Vo.unstable_UserBlockingPriority,KWe=Vo.unstable_runWithPriority,AM=!0;function XWe(e,t,r,n){Qm||zq();var i=Vq,o=Qm;Qm=!0;try{Kre(i,e,t,r,n)}finally{(Qm=o)||jq()}}function QWe(e,t,r,n){KWe(YWe,Vq.bind(null,e,t,r,n))}function Vq(e,t,r,n){if(AM){var i;if((i=(t&4)===0)&&0<Bc.length&&-1<qte.indexOf(e))e=eq(null,e,t,r,n),Bc.push(e);else{var o=$q(e,t,r,n);if(o===null)i&&zte(e,n);else{if(i){if(-1<qte.indexOf(e)){e=eq(o,e,t,r,n),Bc.push(e);return}if(jWe(o,e,t,r,n))return;zte(e,n)}Sne(e,t,n,null,r)}}}}function $q(e,t,r,n){var i=Lq(n);if(i=Jm(i),i!==null){var o=lg(i);if(o===null)i=null;else{var u=o.tag;if(u===13){if(i=Qre(o),i!==null)return i;i=null}else if(u===3){if(o.stateNode.hydrate)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Sne(e,t,n,i,r),null}var qd=null,Gq=null,PM=null;function pne(){if(PM)return PM;var e,t=Gq,r=t.length,n,i="value"in qd?qd.value:qd.textContent,o=i.length;for(e=0;e<r&&t[e]===i[e];e++);var u=r-e;for(n=1;n<=u&&t[r-n]===i[o-n];n++);return PM=i.slice(e,1<n?1-n:void 0)}function OM(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function _M(){return!0}function Fte(){return!1}function xl(e){function t(r,n,i,o,u){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=o,this.target=u,this.currentTarget=null;for(var d in e)e.hasOwnProperty(d)&&(r=e[d],this[d]=r?r(o):o[d]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?_M:Fte,this.isPropagationStopped=Fte,this}return Ni(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=_M)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=_M)},persist:function(){},isPersistent:_M}),t}var i0={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hq=xl(i0),ow=Ni({},i0,{view:0,detail:0}),JWe=xl(ow),S6,E6,bx,fC=Ni({},ow,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wq,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==bx&&(bx&&e.type==="mousemove"?(S6=e.screenX-bx.screenX,E6=e.screenY-bx.screenY):E6=S6=0,bx=e),S6)},movementY:function(e){return"movementY"in e?e.movementY:E6}}),Bte=xl(fC),eZe=Ni({},fC,{dataTransfer:0}),tZe=xl(eZe),rZe=Ni({},ow,{relatedTarget:0}),I6=xl(rZe),nZe=Ni({},i0,{animationName:0,elapsedTime:0,pseudoElement:0}),iZe=xl(nZe),oZe=Ni({},i0,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),aZe=xl(oZe),sZe=Ni({},i0,{data:0}),Ute=xl(sZe),lZe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uZe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cZe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pZe(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=cZe[e])?!!t[e]:!1}function Wq(){return pZe}var fZe=Ni({},ow,{key:function(e){if(e.key){var t=lZe[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=OM(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?uZe[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wq,charCode:function(e){return e.type==="keypress"?OM(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?OM(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),dZe=xl(fZe),hZe=Ni({},fC,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vte=xl(hZe),mZe=Ni({},ow,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wq}),gZe=xl(mZe),vZe=Ni({},i0,{propertyName:0,elapsedTime:0,pseudoElement:0}),yZe=xl(vZe),_Ze=Ni({},fC,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),bZe=xl(_Ze),xZe=[9,13,27,32],Zq=df&&"CompositionEvent"in window,qx=null;df&&"documentMode"in document&&(qx=document.documentMode);var wZe=df&&"TextEvent"in window&&!qx,fne=df&&(!Zq||qx&&8<qx&&11>=qx),$te=" ",Gte=!1;function dne(e,t){switch(e){case"keyup":return xZe.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hne(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var jy=!1;function SZe(e,t){switch(e){case"compositionend":return hne(t);case"keypress":return t.which!==32?null:(Gte=!0,$te);case"textInput":return e=t.data,e===$te&&Gte?null:e;default:return null}}function EZe(e,t){if(jy)return e==="compositionend"||!Zq&&dne(e,t)?(e=pne(),PM=Gq=qd=null,jy=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return fne&&t.locale!=="ko"?null:t.data;default:return null}}var IZe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hte(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!IZe[e.type]:t==="textarea"}function mne(e,t,r,n){Zre(n),t=VM(t,"onChange"),0<t.length&&(r=new Hq("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var zx=null,Xx=null;function TZe(e){bne(e,0)}function dC(e){var t=By(e);if(Bre(t))return e}function MZe(e,t){if(e==="change")return t}var gne=!1;df&&(df?(xM="oninput"in document,xM||(T6=document.createElement("div"),T6.setAttribute("oninput","return;"),xM=typeof T6.oninput=="function"),bM=xM):bM=!1,gne=bM&&(!document.documentMode||9<document.documentMode));var bM,xM,T6;function Wte(){zx&&(zx.detachEvent("onpropertychange",vne),Xx=zx=null)}function vne(e){if(e.propertyName==="value"&&dC(Xx)){var t=[];if(mne(t,Xx,e,Lq(e)),e=TZe,Qm)e(t);else{Qm=!0;try{qq(e,t)}finally{Qm=!1,jq()}}}}function CZe(e,t,r){e==="focusin"?(Wte(),zx=t,Xx=r,zx.attachEvent("onpropertychange",vne)):e==="focusout"&&Wte()}function AZe(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return dC(Xx)}function PZe(e,t){if(e==="click")return dC(t)}function OZe(e,t){if(e==="input"||e==="change")return dC(t)}function DZe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Gl=typeof Object.is=="function"?Object.is:DZe,kZe=Object.prototype.hasOwnProperty;function Qx(e,t){if(Gl(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++)if(!kZe.call(t,r[n])||!Gl(e[r[n]],t[r[n]]))return!1;return!0}function Zte(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Yte(e,t){var r=Zte(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Zte(r)}}function yne(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?yne(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Kte(){for(var e=window,t=jM();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch(n){r=!1}if(r)e=t.contentWindow;else break;t=jM(e.document)}return t}function tq(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var NZe=df&&"documentMode"in document&&11>=document.documentMode,Fy=null,rq=null,jx=null,nq=!1;function Xte(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;nq||Fy==null||Fy!==jM(n)||(n=Fy,"selectionStart"in n&&tq(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),jx&&Qx(jx,n)||(jx=n,n=VM(rq,"onSelect"),0<n.length&&(t=new Hq("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Fy)))}Uq("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);Uq("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);Uq(UWe,2);for(M6="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),wM=0;wM<M6.length;wM++)Bq.set(M6[wM],0);var M6,wM;e0("onMouseEnter",["mouseout","mouseover"]);e0("onMouseLeave",["mouseout","mouseover"]);e0("onPointerEnter",["pointerout","pointerover"]);e0("onPointerLeave",["pointerout","pointerover"]);ag("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ag("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ag("onBeforeInput",["compositionend","keypress","textInput","paste"]);ag("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ag("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ag("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Px="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_ne=new Set("cancel close invalid load scroll toggle".split(" ").concat(Px));function Qte(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,qWe(n,t,void 0,e),e.currentTarget=null}function bne(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var u=n.length-1;0<=u;u--){var d=n[u],g=d.instance,_=d.currentTarget;if(d=d.listener,g!==o&&i.isPropagationStopped())break e;Qte(i,d,_),o=g}else for(u=0;u<n.length;u++){if(d=n[u],g=d.instance,_=d.currentTarget,d=d.listener,g!==o&&i.isPropagationStopped())break e;Qte(i,d,_),o=g}}}if(BM)throw e=Q6,BM=!1,Q6=null,e}function Ii(e,t){var r=Ine(t),n=e+"__bubble";r.has(n)||(wne(t,e,2,!1),r.add(n))}var Jte="_reactListening"+Math.random().toString(36).slice(2);function xne(e){e[Jte]||(e[Jte]=!0,zre.forEach(function(t){_ne.has(t)||ere(t,!1,e,null),ere(t,!0,e,null)}))}function ere(e,t,r,n){var i=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,o=r;if(e==="selectionchange"&&r.nodeType!==9&&(o=r.ownerDocument),n!==null&&!t&&_ne.has(e)){if(e!=="scroll")return;i|=2,o=n}var u=Ine(o),d=e+"__"+(t?"capture":"bubble");u.has(d)||(t&&(i|=4),wne(o,e,i,t),u.add(d))}function wne(e,t,r,n){var i=Bq.get(t);switch(i===void 0?2:i){case 0:i=XWe;break;case 1:i=QWe;break;default:i=Vq}r=i.bind(null,t,r,e),i=void 0,!X6||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Sne(e,t,r,n,i){var o=n;if((t&1)===0&&(t&2)===0&&n!==null)e:for(;;){if(n===null)return;var u=n.tag;if(u===3||u===4){var d=n.stateNode.containerInfo;if(d===i||d.nodeType===8&&d.parentNode===i)break;if(u===4)for(u=n.return;u!==null;){var g=u.tag;if((g===3||g===4)&&(g=u.stateNode.containerInfo,g===i||g.nodeType===8&&g.parentNode===i))return;u=u.return}for(;d!==null;){if(u=Jm(d),u===null)return;if(g=u.tag,g===5||g===6){n=o=u;continue e}d=d.parentNode}}n=n.return}kWe(function(){var _=o,I=Lq(r),T=[];e:{var A=une.get(e);if(A!==void 0){var q=Hq,z=e;switch(e){case"keypress":if(OM(r)===0)break e;case"keydown":case"keyup":q=dZe;break;case"focusin":z="focus",q=I6;break;case"focusout":z="blur",q=I6;break;case"beforeblur":case"afterblur":q=I6;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Bte;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=tZe;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=gZe;break;case one:case ane:case sne:q=iZe;break;case lne:q=yZe;break;case"scroll":q=JWe;break;case"wheel":q=bZe;break;case"copy":case"cut":case"paste":q=aZe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Vte}var U=(t&4)!==0,N=!U&&e==="scroll",L=U?A!==null?A+"Capture":null:A;U=[];for(var F=_,H;F!==null;){H=F;var Y=H.stateNode;if(H.tag===5&&Y!==null&&(H=Y,L!==null&&(Y=Wx(F,L),Y!=null&&U.push(Jx(F,Y,H)))),N)break;F=F.return}0<U.length&&(A=new q(A,z,null,r,I),T.push({event:A,listeners:U}))}}if((t&7)===0){e:{if(A=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",A&&(t&16)===0&&(z=r.relatedTarget||r.fromElement)&&(Jm(z)||z[o0]))break e;if((q||A)&&(A=I.window===I?I:(A=I.ownerDocument)?A.defaultView||A.parentWindow:window,q?(z=r.relatedTarget||r.toElement,q=_,z=z?Jm(z):null,z!==null&&(N=lg(z),z!==N||z.tag!==5&&z.tag!==6)&&(z=null)):(q=null,z=_),q!==z)){if(U=Bte,Y="onMouseLeave",L="onMouseEnter",F="mouse",(e==="pointerout"||e==="pointerover")&&(U=Vte,Y="onPointerLeave",L="onPointerEnter",F="pointer"),N=q==null?A:By(q),H=z==null?A:By(z),A=new U(Y,F+"leave",q,r,I),A.target=N,A.relatedTarget=H,Y=null,Jm(I)===_&&(U=new U(L,F+"enter",z,r,I),U.target=H,U.relatedTarget=N,Y=U),N=Y,q&&z)t:{for(U=q,L=z,F=0,H=U;H;H=Ry(H))F++;for(H=0,Y=L;Y;Y=Ry(Y))H++;for(;0<F-H;)U=Ry(U),F--;for(;0<H-F;)L=Ry(L),H--;for(;F--;){if(U===L||L!==null&&U===L.alternate)break t;U=Ry(U),L=Ry(L)}U=null}else U=null;q!==null&&tre(T,A,q,U,!1),z!==null&&N!==null&&tre(T,N,z,U,!0)}}e:{if(A=_?By(_):window,q=A.nodeName&&A.nodeName.toLowerCase(),q==="select"||q==="input"&&A.type==="file")var te=MZe;else if(Hte(A)){if(gne)te=OZe;else{te=AZe;var oe=CZe}}else(q=A.nodeName)&&q.toLowerCase()==="input"&&(A.type==="checkbox"||A.type==="radio")&&(te=PZe);if(te&&(te=te(e,_))){mne(T,te,r,I);break e}oe&&oe(e,A,_),e==="focusout"&&(oe=A._wrapperState)&&oe.controlled&&A.type==="number"&&V6(A,"number",A.value)}switch(oe=_?By(_):window,e){case"focusin":(Hte(oe)||oe.contentEditable==="true")&&(Fy=oe,rq=_,jx=null);break;case"focusout":jx=rq=Fy=null;break;case"mousedown":nq=!0;break;case"contextmenu":case"mouseup":case"dragend":nq=!1,Xte(T,r,I);break;case"selectionchange":if(NZe)break;case"keydown":case"keyup":Xte(T,r,I)}var ue;if(Zq)e:{switch(e){case"compositionstart":var Ie="onCompositionStart";break e;case"compositionend":Ie="onCompositionEnd";break e;case"compositionupdate":Ie="onCompositionUpdate";break e}Ie=void 0}else jy?dne(e,r)&&(Ie="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Ie="onCompositionStart");Ie&&(fne&&r.locale!=="ko"&&(jy||Ie!=="onCompositionStart"?Ie==="onCompositionEnd"&&jy&&(ue=pne()):(qd=I,Gq="value"in qd?qd.value:qd.textContent,jy=!0)),oe=VM(_,Ie),0<oe.length&&(Ie=new Ute(Ie,e,null,r,I),T.push({event:Ie,listeners:oe}),ue?Ie.data=ue:(ue=hne(r),ue!==null&&(Ie.data=ue)))),(ue=wZe?SZe(e,r):EZe(e,r))&&(_=VM(_,"onBeforeInput"),0<_.length&&(I=new Ute("onBeforeInput","beforeinput",null,r,I),T.push({event:I,listeners:_}),I.data=ue))}bne(T,t)})}function Jx(e,t,r){return{instance:e,listener:t,currentTarget:r}}function VM(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Wx(e,r),o!=null&&n.unshift(Jx(e,o,i)),o=Wx(e,t),o!=null&&n.push(Jx(e,o,i))),e=e.return}return n}function Ry(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function tre(e,t,r,n,i){for(var o=t._reactName,u=[];r!==null&&r!==n;){var d=r,g=d.alternate,_=d.stateNode;if(g!==null&&g===n)break;d.tag===5&&_!==null&&(d=_,i?(g=Wx(r,o),g!=null&&u.unshift(Jx(r,g,d))):i||(g=Wx(r,o),g!=null&&u.push(Jx(r,g,d)))),r=r.return}u.length!==0&&e.push({event:t,listeners:u})}function $M(){}var C6=null,A6=null;function Ene(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function iq(e,t){return e==="textarea"||e==="option"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var rre=typeof setTimeout=="function"?setTimeout:void 0,RZe=typeof clearTimeout=="function"?clearTimeout:void 0;function Yq(e){e.nodeType===1?e.textContent="":e.nodeType===9&&(e=e.body,e!=null&&(e.textContent=""))}function Zy(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break}return e}function nre(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var P6=0;function LZe(e){return{$$typeof:Nq,toString:e,valueOf:e}}var hC=Math.random().toString(36).slice(2),zd="__reactFiber$"+hC,GM="__reactProps$"+hC,o0="__reactContainer$"+hC,ire="__reactEvents$"+hC;function Jm(e){var t=e[zd];if(t)return t;for(var r=e.parentNode;r;){if(t=r[o0]||r[zd]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=nre(e);e!==null;){if(r=e[zd])return r;e=nre(e)}return t}e=r,r=e.parentNode}return null}function aw(e){return e=e[zd]||e[o0],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function By(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error($t(33))}function mC(e){return e[GM]||null}function Ine(e){var t=e[ire];return t===void 0&&(t=e[ire]=new Set),t}var oq=[],Uy=-1;function Jd(e){return{current:e}}function Ti(e){0>Uy||(e.current=oq[Uy],oq[Uy]=null,Uy--)}function Zi(e,t){Uy++,oq[Uy]=e.current,e.current=t}var Kd={},Va=Jd(Kd),Ns=Jd(!1),ng=Kd;function t0(e,t){var r=e.type.contextTypes;if(!r)return Kd;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in r)i[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Rs(e){return e=e.childContextTypes,e!=null}function HM(){Ti(Ns),Ti(Va)}function ore(e,t,r){if(Va.current!==Kd)throw Error($t(168));Zi(Va,t),Zi(Ns,r)}function Tne(e,t,r){var n=e.stateNode;if(e=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error($t(108,$y(t)||"Unknown",i));return Ni({},r,n)}function DM(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Kd,ng=Va.current,Zi(Va,e),Zi(Ns,Ns.current),!0}function are(e,t,r){var n=e.stateNode;if(!n)throw Error($t(169));r?(e=Tne(e,t,ng),n.__reactInternalMemoizedMergedChildContext=e,Ti(Ns),Ti(Va),Zi(Va,e)):Ti(Ns),Zi(Ns,r)}var Kq=null,rg=null,qZe=Vo.unstable_runWithPriority,Xq=Vo.unstable_scheduleCallback,aq=Vo.unstable_cancelCallback,zZe=Vo.unstable_shouldYield,sre=Vo.unstable_requestPaint,sq=Vo.unstable_now,jZe=Vo.unstable_getCurrentPriorityLevel,gC=Vo.unstable_ImmediatePriority,Mne=Vo.unstable_UserBlockingPriority,Cne=Vo.unstable_NormalPriority,Ane=Vo.unstable_LowPriority,Pne=Vo.unstable_IdlePriority,O6={},FZe=sre!==void 0?sre:function(){},lf=null,kM=null,D6=!1,lre=sq(),Ba=1e4>lre?sq:function(){return sq()-lre};function r0(){switch(jZe()){case gC:return 99;case Mne:return 98;case Cne:return 97;case Ane:return 96;case Pne:return 95;default:throw Error($t(332))}}function One(e){switch(e){case 99:return gC;case 98:return Mne;case 97:return Cne;case 96:return Ane;case 95:return Pne;default:throw Error($t(332))}}function ig(e,t){return e=One(e),qZe(e,t)}function ew(e,t,r){return e=One(e),Xq(e,t,r)}function Hc(){if(kM!==null){var e=kM;kM=null,aq(e)}Dne()}function Dne(){if(!D6&&lf!==null){D6=!0;var e=0;try{var t=lf;ig(99,function(){for(;e<t.length;e++){var r=t[e];do r=r(!0);while(r!==null)}}),lf=null}catch(r){throw lf!==null&&(lf=lf.slice(e+1)),Xq(gC,Hc),r}finally{D6=!1}}}var BZe=sg.ReactCurrentBatchConfig;function qu(e,t){if(e&&e.defaultProps){t=Ni({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}var WM=Jd(null),ZM=null,Vy=null,YM=null;function Qq(){YM=Vy=ZM=null}function Jq(e){var t=WM.current;Ti(WM),e.type._context._currentValue=t}function kne(e,t){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)===t){if(r===null||(r.childLanes&t)===t)break;r.childLanes|=t}else e.childLanes|=t,r!==null&&(r.childLanes|=t);e=e.return}}function Yy(e,t){ZM=e,YM=Vy=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(zu=!0),e.firstContext=null)}function Zl(e,t){if(YM!==e&&t!==!1&&t!==0)if((typeof t!="number"||t===1073741823)&&(YM=e,t=1073741823),t={context:e,observedBits:t,next:null},Vy===null){if(ZM===null)throw Error($t(308));Vy=t,ZM.dependencies={lanes:0,firstContext:t,responders:null}}else Vy=Vy.next=t;return e._currentValue}var Rd=!1;function e8(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function Nne(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Vd(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function $d(e,t){if(e=e.updateQueue,e!==null){e=e.shared;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}}function ure(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var u={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?i=o=u:o=o.next=u,r=r.next}while(r!==null);o===null?i=o=t:o=o.next=t}else i=o=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function tw(e,t,r,n){var i=e.updateQueue;Rd=!1;var o=i.firstBaseUpdate,u=i.lastBaseUpdate,d=i.shared.pending;if(d!==null){i.shared.pending=null;var g=d,_=g.next;g.next=null,u===null?o=_:u.next=_,u=g;var I=e.alternate;if(I!==null){I=I.updateQueue;var T=I.lastBaseUpdate;T!==u&&(T===null?I.firstBaseUpdate=_:T.next=_,I.lastBaseUpdate=g)}}if(o!==null){T=i.baseState,u=0,I=_=g=null;do{d=o.lane;var A=o.eventTime;if((n&d)===d){I!==null&&(I=I.next={eventTime:A,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var q=e,z=o;switch(d=t,A=r,z.tag){case 1:if(q=z.payload,typeof q=="function"){T=q.call(A,T,d);break e}T=q;break e;case 3:q.flags=q.flags&-4097|64;case 0:if(q=z.payload,d=typeof q=="function"?q.call(A,T,d):q,d==null)break e;T=Ni({},T,d);break e;case 2:Rd=!0}}o.callback!==null&&(e.flags|=32,d=i.effects,d===null?i.effects=[o]:d.push(o))}else A={eventTime:A,lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},I===null?(_=I=A,g=T):I=I.next=A,u|=d;if(o=o.next,o===null){if(d=i.shared.pending,d===null)break;o=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);I===null&&(g=T),i.baseState=g,i.firstBaseUpdate=_,i.lastBaseUpdate=I,lw|=u,e.lanes=u,e.memoizedState=T}}function cre(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error($t(191,i));i.call(n)}}}var Rne=new sC.Component().refs;function KM(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Ni({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var vC={isMounted:function(e){return(e=e._reactInternals)?lg(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=bl(),i=Gd(e),o=Vd(n,i);o.payload=t,r!=null&&(o.callback=r),$d(e,o),Hd(e,i,n)},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=bl(),i=Gd(e),o=Vd(n,i);o.tag=1,o.payload=t,r!=null&&(o.callback=r),$d(e,o),Hd(e,i,n)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=bl(),n=Gd(e),i=Vd(r,n);i.tag=2,t!=null&&(i.callback=t),$d(e,i),Hd(e,n,r)}};function pre(e,t,r,n,i,o,u){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,u):t.prototype&&t.prototype.isPureReactComponent?!Qx(r,n)||!Qx(i,o):!0}function Lne(e,t,r){var n=!1,i=Kd,o=t.contextType;return typeof o=="object"&&o!==null?o=Zl(o):(i=Rs(t)?ng:Va.current,n=t.contextTypes,o=(n=n!=null)?t0(e,i):Kd),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=vC,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function fre(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&vC.enqueueReplaceState(t,t.state,null)}function lq(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs=Rne,e8(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=Zl(o):(o=Rs(t)?ng:Va.current,i.context=t0(e,o)),tw(e,r,i,n),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(KM(e,t,o,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&vC.enqueueReplaceState(i,i.state,null),tw(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4)}var SM=Array.isArray;function xx(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error($t(309));var n=r.stateNode}if(!n)throw Error($t(147,e));var i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var u=n.refs;u===Rne&&(u=n.refs={}),o===null?delete u[i]:u[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error($t(284));if(!r._owner)throw Error($t(290,e))}return e}function EM(e,t){if(e.type!=="textarea")throw Error($t(31,Object.prototype.toString.call(t)==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function qne(e){function t(N,L){if(e){var F=N.lastEffect;F!==null?(F.nextEffect=L,N.lastEffect=L):N.firstEffect=N.lastEffect=L,L.nextEffect=null,L.flags=8}}function r(N,L){if(!e)return null;for(;L!==null;)t(N,L),L=L.sibling;return null}function n(N,L){for(N=new Map;L!==null;)L.key!==null?N.set(L.key,L):N.set(L.index,L),L=L.sibling;return N}function i(N,L){return N=Qd(N,L),N.index=0,N.sibling=null,N}function o(N,L,F){return N.index=F,e?(F=N.alternate,F!==null?(F=F.index,F<L?(N.flags=2,L):F):(N.flags=2,L)):L}function u(N){return e&&N.alternate===null&&(N.flags=2),N}function d(N,L,F,H){return L===null||L.tag!==6?(L=q6(F,N.mode,H),L.return=N,L):(L=i(L,F),L.return=N,L)}function g(N,L,F,H){return L!==null&&L.elementType===F.type?(H=i(L,F.props),H.ref=xx(N,L,F),H.return=N,H):(H=qM(F.type,F.key,F.props,null,N.mode,H),H.ref=xx(N,L,F),H.return=N,H)}function _(N,L,F,H){return L===null||L.tag!==4||L.stateNode.containerInfo!==F.containerInfo||L.stateNode.implementation!==F.implementation?(L=z6(F,N.mode,H),L.return=N,L):(L=i(L,F.children||[]),L.return=N,L)}function I(N,L,F,H,Y){return L===null||L.tag!==7?(L=Jy(F,N.mode,H,Y),L.return=N,L):(L=i(L,F),L.return=N,L)}function T(N,L,F){if(typeof L=="string"||typeof L=="number")return L=q6(""+L,N.mode,F),L.return=N,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case Cx:return F=qM(L.type,L.key,L.props,null,N.mode,F),F.ref=xx(N,null,L),F.return=N,F;case Xm:return L=z6(L,N.mode,F),L.return=N,L}if(SM(L)||gx(L))return L=Jy(L,N.mode,F,null),L.return=N,L;EM(N,L)}return null}function A(N,L,F,H){var Y=L!==null?L.key:null;if(typeof F=="string"||typeof F=="number")return Y!==null?null:d(N,L,""+F,H);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case Cx:return F.key===Y?F.type===Ld?I(N,L,F.props.children,H,Y):g(N,L,F,H):null;case Xm:return F.key===Y?_(N,L,F,H):null}if(SM(F)||gx(F))return Y!==null?null:I(N,L,F,H,null);EM(N,F)}return null}function q(N,L,F,H,Y){if(typeof H=="string"||typeof H=="number")return N=N.get(F)||null,d(L,N,""+H,Y);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case Cx:return N=N.get(H.key===null?F:H.key)||null,H.type===Ld?I(L,N,H.props.children,Y,H.key):g(L,N,H,Y);case Xm:return N=N.get(H.key===null?F:H.key)||null,_(L,N,H,Y)}if(SM(H)||gx(H))return N=N.get(F)||null,I(L,N,H,Y,null);EM(L,H)}return null}function z(N,L,F,H){for(var Y=null,te=null,oe=L,ue=L=0,Ie=null;oe!==null&&ue<F.length;ue++){oe.index>ue?(Ie=oe,oe=null):Ie=oe.sibling;var Ee=A(N,oe,F[ue],H);if(Ee===null){oe===null&&(oe=Ie);break}e&&oe&&Ee.alternate===null&&t(N,oe),L=o(Ee,L,ue),te===null?Y=Ee:te.sibling=Ee,te=Ee,oe=Ie}if(ue===F.length)return r(N,oe),Y;if(oe===null){for(;ue<F.length;ue++)oe=T(N,F[ue],H),oe!==null&&(L=o(oe,L,ue),te===null?Y=oe:te.sibling=oe,te=oe);return Y}for(oe=n(N,oe);ue<F.length;ue++)Ie=q(oe,N,ue,F[ue],H),Ie!==null&&(e&&Ie.alternate!==null&&oe.delete(Ie.key===null?ue:Ie.key),L=o(Ie,L,ue),te===null?Y=Ie:te.sibling=Ie,te=Ie);return e&&oe.forEach(function(ve){return t(N,ve)}),Y}function U(N,L,F,H){var Y=gx(F);if(typeof Y!="function")throw Error($t(150));if(F=Y.call(F),F==null)throw Error($t(151));for(var te=Y=null,oe=L,ue=L=0,Ie=null,Ee=F.next();oe!==null&&!Ee.done;ue++,Ee=F.next()){oe.index>ue?(Ie=oe,oe=null):Ie=oe.sibling;var ve=A(N,oe,Ee.value,H);if(ve===null){oe===null&&(oe=Ie);break}e&&oe&&ve.alternate===null&&t(N,oe),L=o(ve,L,ue),te===null?Y=ve:te.sibling=ve,te=ve,oe=Ie}if(Ee.done)return r(N,oe),Y;if(oe===null){for(;!Ee.done;ue++,Ee=F.next())Ee=T(N,Ee.value,H),Ee!==null&&(L=o(Ee,L,ue),te===null?Y=Ee:te.sibling=Ee,te=Ee);return Y}for(oe=n(N,oe);!Ee.done;ue++,Ee=F.next())Ee=q(oe,N,ue,Ee.value,H),Ee!==null&&(e&&Ee.alternate!==null&&oe.delete(Ee.key===null?ue:Ee.key),L=o(Ee,L,ue),te===null?Y=Ee:te.sibling=Ee,te=Ee);return e&&oe.forEach(function(xe){return t(N,xe)}),Y}return function(N,L,F,H){var Y=typeof F=="object"&&F!==null&&F.type===Ld&&F.key===null;Y&&(F=F.props.children);var te=typeof F=="object"&&F!==null;if(te)switch(F.$$typeof){case Cx:e:{for(te=F.key,Y=L;Y!==null;){if(Y.key===te){switch(Y.tag){case 7:if(F.type===Ld){r(N,Y.sibling),L=i(Y,F.props.children),L.return=N,N=L;break e}break;default:if(Y.elementType===F.type){r(N,Y.sibling),L=i(Y,F.props),L.ref=xx(N,Y,F),L.return=N,N=L;break e}}r(N,Y);break}else t(N,Y);Y=Y.sibling}F.type===Ld?(L=Jy(F.props.children,N.mode,H,F.key),L.return=N,N=L):(H=qM(F.type,F.key,F.props,null,N.mode,H),H.ref=xx(N,L,F),H.return=N,N=H)}return u(N);case Xm:e:{for(Y=F.key;L!==null;){if(L.key===Y){if(L.tag===4&&L.stateNode.containerInfo===F.containerInfo&&L.stateNode.implementation===F.implementation){r(N,L.sibling),L=i(L,F.children||[]),L.return=N,N=L;break e}else{r(N,L);break}}else t(N,L);L=L.sibling}L=z6(F,N.mode,H),L.return=N,N=L}return u(N)}if(typeof F=="string"||typeof F=="number")return F=""+F,L!==null&&L.tag===6?(r(N,L.sibling),L=i(L,F),L.return=N,N=L):(r(N,L),L=q6(F,N.mode,H),L.return=N,N=L),u(N);if(SM(F))return z(N,L,F,H);if(gx(F))return U(N,L,F,H);if(te&&EM(N,F),typeof F=="undefined"&&!Y)switch(N.tag){case 1:case 22:case 0:case 11:case 15:throw Error($t(152,$y(N.type)||"Component"))}return r(N,L)}}var XM=qne(!0),zne=qne(!1),sw={},$c=Jd(sw),rw=Jd(sw),nw=Jd(sw);function eg(e){if(e===sw)throw Error($t(174));return e}function uq(e,t){switch(Zi(nw,t),Zi(rw,e),Zi($c,sw),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:W6(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=W6(t,e)}Ti($c),Zi($c,t)}function n0(){Ti($c),Ti(rw),Ti(nw)}function dre(e){eg(nw.current);var t=eg($c.current),r=W6(t,e.type);t!==r&&(Zi(rw,e),Zi($c,r))}function t8(e){rw.current===e&&(Ti($c),Ti(rw))}var Wi=Jd(0);function QM(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&64)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var cf=null,jd=null,Gc=!1;function jne(e,t){var r=Hl(5,null,null,0);r.elementType="DELETED",r.type="DELETED",r.stateNode=t,r.return=e,r.flags=8,e.lastEffect!==null?(e.lastEffect.nextEffect=r,e.lastEffect=r):e.firstEffect=e.lastEffect=r}function hre(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,!0):!1;case 13:return!1;default:return!1}}function cq(e){if(Gc){var t=jd;if(t){var r=t;if(!hre(e,t)){if(t=Zy(r.nextSibling),!t||!hre(e,t)){e.flags=e.flags&-1025|2,Gc=!1,cf=e;return}jne(cf,r)}cf=e,jd=Zy(t.firstChild)}else e.flags=e.flags&-1025|2,Gc=!1,cf=e}}function mre(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;cf=e}function IM(e){if(e!==cf)return!1;if(!Gc)return mre(e),Gc=!0,!1;var t=e.type;if(e.tag!==5||t!=="head"&&t!=="body"&&!iq(t,e.memoizedProps))for(t=jd;t;)jne(e,t),t=Zy(t.nextSibling);if(mre(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error($t(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){jd=Zy(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}jd=null}}else jd=cf?Zy(e.stateNode.nextSibling):null;return!0}function k6(){jd=cf=null,Gc=!1}var Ky=[];function r8(){for(var e=0;e<Ky.length;e++)Ky[e]._workInProgressVersionPrimary=null;Ky.length=0}var Fx=sg.ReactCurrentDispatcher,Wl=sg.ReactCurrentBatchConfig,iw=0,ao=null,Fa=null,sa=null,JM=!1,Bx=!1;function Ds(){throw Error($t(321))}function n8(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Gl(e[r],t[r]))return!1;return!0}function i8(e,t,r,n,i,o){if(iw=o,ao=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Fx.current=e===null||e.memoizedState===null?VZe:$Ze,e=r(n,i),Bx){o=0;do{if(Bx=!1,!(25>o))throw Error($t(301));o+=1,sa=Fa=null,t.updateQueue=null,Fx.current=GZe,e=r(n,i)}while(Bx)}if(Fx.current=nC,t=Fa!==null&&Fa.next!==null,iw=0,sa=Fa=ao=null,JM=!1,t)throw Error($t(300));return e}function tg(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return sa===null?ao.memoizedState=sa=e:sa=sa.next=e,sa}function ug(){if(Fa===null){var e=ao.alternate;e=e!==null?e.memoizedState:null}else e=Fa.next;var t=sa===null?ao.memoizedState:sa.next;if(t!==null)sa=t,Fa=e;else{if(e===null)throw Error($t(310));Fa=e,e={memoizedState:Fa.memoizedState,baseState:Fa.baseState,baseQueue:Fa.baseQueue,queue:Fa.queue,next:null},sa===null?ao.memoizedState=sa=e:sa=sa.next=e}return sa}function Uc(e,t){return typeof t=="function"?t(e):t}function wx(e){var t=ug(),r=t.queue;if(r===null)throw Error($t(311));r.lastRenderedReducer=e;var n=Fa,i=n.baseQueue,o=r.pending;if(o!==null){if(i!==null){var u=i.next;i.next=o.next,o.next=u}n.baseQueue=i=o,r.pending=null}if(i!==null){i=i.next,n=n.baseState;var d=u=o=null,g=i;do{var _=g.lane;if((iw&_)===_)d!==null&&(d=d.next={lane:0,action:g.action,eagerReducer:g.eagerReducer,eagerState:g.eagerState,next:null}),n=g.eagerReducer===e?g.eagerState:e(n,g.action);else{var I={lane:_,action:g.action,eagerReducer:g.eagerReducer,eagerState:g.eagerState,next:null};d===null?(u=d=I,o=n):d=d.next=I,ao.lanes|=_,lw|=_}g=g.next}while(g!==null&&g!==i);d===null?o=n:d.next=u,Gl(n,t.memoizedState)||(zu=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=d,r.lastRenderedState=n}return[t.memoizedState,r.dispatch]}function Sx(e){var t=ug(),r=t.queue;if(r===null)throw Error($t(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,o=t.memoizedState;if(i!==null){r.pending=null;var u=i=i.next;do o=e(o,u.action),u=u.next;while(u!==i);Gl(o,t.memoizedState)||(zu=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function gre(e,t,r){var n=t._getVersion;n=n(t._source);var i=t._workInProgressVersionPrimary;if(i!==null?e=i===n:(e=e.mutableReadLanes,(e=(iw&e)===e)&&(t._workInProgressVersionPrimary=n,Ky.push(t))),e)return r(t._source);throw Ky.push(t),Error($t(350))}function Fne(e,t,r,n){var i=fs;if(i===null)throw Error($t(349));var o=t._getVersion,u=o(t._source),d=Fx.current,g=d.useState(function(){return gre(i,t,r)}),_=g[1],I=g[0];g=sa;var T=e.memoizedState,A=T.refs,q=A.getSnapshot,z=T.source;T=T.subscribe;var U=ao;return e.memoizedState={refs:A,source:t,subscribe:n},d.useEffect(function(){A.getSnapshot=r,A.setSnapshot=_;var N=o(t._source);if(!Gl(u,N)){N=r(t._source),Gl(I,N)||(_(N),N=Gd(U),i.mutableReadLanes|=N&i.pendingLanes),N=i.mutableReadLanes,i.entangledLanes|=N;for(var L=i.entanglements,F=N;0<F;){var H=31-Yd(F),Y=1<<H;L[H]|=N,F&=~Y}}},[r,t,n]),d.useEffect(function(){return n(t._source,function(){var N=A.getSnapshot,L=A.setSnapshot;try{L(N(t._source));var F=Gd(U);i.mutableReadLanes|=F&i.pendingLanes}catch(H){L(function(){throw H})}})},[t,n]),Gl(q,r)&&Gl(z,t)&&Gl(T,n)||(e={pending:null,dispatch:null,lastRenderedReducer:Uc,lastRenderedState:I},e.dispatch=_=s8.bind(null,ao,e),g.queue=e,g.baseQueue=null,I=gre(i,t,r),g.memoizedState=g.baseState=I),I}function Bne(e,t,r){var n=ug();return Fne(n,e,t,r)}function Ex(e){var t=tg();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e=t.queue={pending:null,dispatch:null,lastRenderedReducer:Uc,lastRenderedState:e},e=e.dispatch=s8.bind(null,ao,e),[t.memoizedState,e]}function eC(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ao.updateQueue,t===null?(t={lastEffect:null},ao.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function vre(e){var t=tg();return e={current:e},t.memoizedState=e}function tC(){return ug().memoizedState}function pq(e,t,r,n){var i=tg();ao.flags|=e,i.memoizedState=eC(1|t,r,void 0,n===void 0?null:n)}function o8(e,t,r,n){var i=ug();n=n===void 0?null:n;var o=void 0;if(Fa!==null){var u=Fa.memoizedState;if(o=u.destroy,n!==null&&n8(n,u.deps)){eC(t,r,o,n);return}}ao.flags|=e,i.memoizedState=eC(1|t,r,o,n)}function yre(e,t){return pq(516,4,e,t)}function rC(e,t){return o8(516,4,e,t)}function Une(e,t){return o8(4,2,e,t)}function Vne(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function $ne(e,t,r){return r=r!=null?r.concat([e]):null,o8(4,2,Vne.bind(null,t,e),r)}function a8(){}function Gne(e,t){var r=ug();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&n8(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Hne(e,t){var r=ug();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&n8(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function UZe(e,t){var r=r0();ig(98>r?98:r,function(){e(!0)}),ig(97<r?97:r,function(){var n=Wl.transition;Wl.transition=1;try{e(!1),t()}finally{Wl.transition=n}})}function s8(e,t,r){var n=bl(),i=Gd(e),o={lane:i,action:r,eagerReducer:null,eagerState:null,next:null},u=t.pending;if(u===null?o.next=o:(o.next=u.next,u.next=o),t.pending=o,u=e.alternate,e===ao||u!==null&&u===ao)Bx=JM=!0;else{if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var d=t.lastRenderedState,g=u(d,r);if(o.eagerReducer=u,o.eagerState=g,Gl(g,d))return}catch(_){}finally{}Hd(e,i,n)}}var nC={readContext:Zl,useCallback:Ds,useContext:Ds,useEffect:Ds,useImperativeHandle:Ds,useLayoutEffect:Ds,useMemo:Ds,useReducer:Ds,useRef:Ds,useState:Ds,useDebugValue:Ds,useDeferredValue:Ds,useTransition:Ds,useMutableSource:Ds,useOpaqueIdentifier:Ds,unstable_isNewReconciler:!1},VZe={readContext:Zl,useCallback:function(e,t){return tg().memoizedState=[e,t===void 0?null:t],e},useContext:Zl,useEffect:yre,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,pq(4,2,Vne.bind(null,t,e),r)},useLayoutEffect:function(e,t){return pq(4,2,e,t)},useMemo:function(e,t){var r=tg();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=tg();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e=n.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},e=e.dispatch=s8.bind(null,ao,e),[n.memoizedState,e]},useRef:vre,useState:Ex,useDebugValue:a8,useDeferredValue:function(e){var t=Ex(e),r=t[0],n=t[1];return yre(function(){var i=Wl.transition;Wl.transition=1;try{n(e)}finally{Wl.transition=i}},[e]),r},useTransition:function(){var e=Ex(!1),t=e[0];return e=UZe.bind(null,e[1]),vre(e),[e,t]},useMutableSource:function(e,t,r){var n=tg();return n.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:r},Fne(n,e,t,r)},useOpaqueIdentifier:function(){if(Gc){var e=!1,t=LZe(function(){throw e||(e=!0,r("r:"+(P6++).toString(36))),Error($t(355))}),r=Ex(t)[1];return(ao.mode&2)===0&&(ao.flags|=516,eC(5,function(){r("r:"+(P6++).toString(36))},void 0,null)),t}return t="r:"+(P6++).toString(36),Ex(t),t},unstable_isNewReconciler:!1},$Ze={readContext:Zl,useCallback:Gne,useContext:Zl,useEffect:rC,useImperativeHandle:$ne,useLayoutEffect:Une,useMemo:Hne,useReducer:wx,useRef:tC,useState:function(){return wx(Uc)},useDebugValue:a8,useDeferredValue:function(e){var t=wx(Uc),r=t[0],n=t[1];return rC(function(){var i=Wl.transition;Wl.transition=1;try{n(e)}finally{Wl.transition=i}},[e]),r},useTransition:function(){var e=wx(Uc)[0];return[tC().current,e]},useMutableSource:Bne,useOpaqueIdentifier:function(){return wx(Uc)[0]},unstable_isNewReconciler:!1},GZe={readContext:Zl,useCallback:Gne,useContext:Zl,useEffect:rC,useImperativeHandle:$ne,useLayoutEffect:Une,useMemo:Hne,useReducer:Sx,useRef:tC,useState:function(){return Sx(Uc)},useDebugValue:a8,useDeferredValue:function(e){var t=Sx(Uc),r=t[0],n=t[1];return rC(function(){var i=Wl.transition;Wl.transition=1;try{n(e)}finally{Wl.transition=i}},[e]),r},useTransition:function(){var e=Sx(Uc)[0];return[tC().current,e]},useMutableSource:Bne,useOpaqueIdentifier:function(){return Sx(Uc)[0]},unstable_isNewReconciler:!1},HZe=sg.ReactCurrentOwner,zu=!1;function ks(e,t,r,n){t.child=e===null?zne(t,null,r,n):XM(t,e.child,r,n)}function _re(e,t,r,n,i){r=r.render;var o=t.ref;return Yy(t,i),n=i8(e,t,r,n,o,i),e!==null&&!zu?(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,pf(e,t,i)):(t.flags|=1,ks(e,t,n,i),t.child)}function bre(e,t,r,n,i,o){if(e===null){var u=r.type;return typeof u=="function"&&!d8(u)&&u.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=u,Wne(e,t,u,n,i,o)):(e=qM(r.type,null,n,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}return u=e.child,(i&o)===0&&(i=u.memoizedProps,r=r.compare,r=r!==null?r:Qx,r(i,n)&&e.ref===t.ref)?pf(e,t,o):(t.flags|=1,e=Qd(u,n),e.ref=t.ref,e.return=t,t.child=e)}function Wne(e,t,r,n,i,o){if(e!==null&&Qx(e.memoizedProps,n)&&e.ref===t.ref)if(zu=!1,(o&i)!==0)(e.flags&16384)!==0&&(zu=!0);else return t.lanes=e.lanes,pf(e,t,o);return fq(e,t,r,n,o)}function N6(e,t,r){var n=t.pendingProps,i=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden"||n.mode==="unstable-defer-without-hiding"){if((t.mode&4)===0)t.memoizedState={baseLanes:0},MM(t,r);else if((r&1073741824)!==0)t.memoizedState={baseLanes:0},MM(t,o!==null?o.baseLanes:r);else return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},MM(t,e),null;}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,MM(t,n);return ks(e,t,i,r),t.child}function Zne(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=128)}function fq(e,t,r,n,i){var o=Rs(r)?ng:Va.current;return o=t0(t,o),Yy(t,i),r=i8(e,t,r,n,o,i),e!==null&&!zu?(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,pf(e,t,i)):(t.flags|=1,ks(e,t,r,i),t.child)}function xre(e,t,r,n,i){if(Rs(r)){var o=!0;DM(t)}else o=!1;if(Yy(t,i),t.stateNode===null)e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),Lne(t,r,n),lq(t,r,n,i),n=!0;else if(e===null){var u=t.stateNode,d=t.memoizedProps;u.props=d;var g=u.context,_=r.contextType;typeof _=="object"&&_!==null?_=Zl(_):(_=Rs(r)?ng:Va.current,_=t0(t,_));var I=r.getDerivedStateFromProps,T=typeof I=="function"||typeof u.getSnapshotBeforeUpdate=="function";T||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(d!==n||g!==_)&&fre(t,u,n,_),Rd=!1;var A=t.memoizedState;u.state=A,tw(t,n,u,i),g=t.memoizedState,d!==n||A!==g||Ns.current||Rd?(typeof I=="function"&&(KM(t,r,I,n),g=t.memoizedState),(d=Rd||pre(t,r,d,n,A,g,_))?(T||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4)):(typeof u.componentDidMount=="function"&&(t.flags|=4),t.memoizedProps=n,t.memoizedState=g),u.props=n,u.state=g,u.context=_,n=d):(typeof u.componentDidMount=="function"&&(t.flags|=4),n=!1)}else{u=t.stateNode,Nne(e,t),d=t.memoizedProps,_=t.type===t.elementType?d:qu(t.type,d),u.props=_,T=t.pendingProps,A=u.context,g=r.contextType,typeof g=="object"&&g!==null?g=Zl(g):(g=Rs(r)?ng:Va.current,g=t0(t,g));var q=r.getDerivedStateFromProps;(I=typeof q=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(d!==T||A!==g)&&fre(t,u,n,g),Rd=!1,A=t.memoizedState,u.state=A,tw(t,n,u,i);var z=t.memoizedState;d!==T||A!==z||Ns.current||Rd?(typeof q=="function"&&(KM(t,r,q,n),z=t.memoizedState),(_=Rd||pre(t,r,_,n,A,z,g))?(I||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(n,z,g),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(n,z,g)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=256)):(typeof u.componentDidUpdate!="function"||d===e.memoizedProps&&A===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&A===e.memoizedState||(t.flags|=256),t.memoizedProps=n,t.memoizedState=z),u.props=n,u.state=z,u.context=g,n=_):(typeof u.componentDidUpdate!="function"||d===e.memoizedProps&&A===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&A===e.memoizedState||(t.flags|=256),n=!1)}return dq(e,t,r,n,o,i)}function dq(e,t,r,n,i,o){Zne(e,t);var u=(t.flags&64)!==0;if(!n&&!u)return i&&are(t,r,!1),pf(e,t,o);n=t.stateNode,HZe.current=t;var d=u&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&u?(t.child=XM(t,e.child,null,o),t.child=XM(t,null,d,o)):ks(e,t,d,o),t.memoizedState=n.state,i&&are(t,r,!0),t.child}function wre(e){var t=e.stateNode;t.pendingContext?ore(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ore(e,t.context,!1),uq(e,t.containerInfo)}var TM={dehydrated:null,retryLane:0};function Sre(e,t,r){var n=t.pendingProps,i=Wi.current,o=!1,u;return(u=(t.flags&64)!==0)||(u=e!==null&&e.memoizedState===null?!1:(i&2)!==0),u?(o=!0,t.flags&=-65):e!==null&&e.memoizedState===null||n.fallback===void 0||n.unstable_avoidThisFallback===!0||(i|=1),Zi(Wi,i&1),e===null?(n.fallback!==void 0&&cq(t),e=n.children,i=n.fallback,o?(e=Ere(t,e,i,r),t.child.memoizedState={baseLanes:r},t.memoizedState=TM,e):typeof n.unstable_expectedLoadTime=="number"?(e=Ere(t,e,i,r),t.child.memoizedState={baseLanes:r},t.memoizedState=TM,t.lanes=33554432,e):(r=h8({mode:"visible",children:e},t.mode,r,null),r.return=t,t.child=r)):e.memoizedState!==null?o?(n=Tre(e,t,n.children,n.fallback,r),o=t.child,i=e.child.memoizedState,o.memoizedState=i===null?{baseLanes:r}:{baseLanes:i.baseLanes|r},o.childLanes=e.childLanes&~r,t.memoizedState=TM,n):(r=Ire(e,t,n.children,r),t.memoizedState=null,r):o?(n=Tre(e,t,n.children,n.fallback,r),o=t.child,i=e.child.memoizedState,o.memoizedState=i===null?{baseLanes:r}:{baseLanes:i.baseLanes|r},o.childLanes=e.childLanes&~r,t.memoizedState=TM,n):(r=Ire(e,t,n.children,r),t.memoizedState=null,r)}function Ere(e,t,r,n){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},(i&2)===0&&o!==null?(o.childLanes=0,o.pendingProps=t):o=h8(t,i,0,null),r=Jy(r,i,n,null),o.return=e,r.return=e,o.sibling=r,e.child=o,r}function Ire(e,t,r,n){var i=e.child;return e=i.sibling,r=Qd(i,{mode:"visible",children:r}),(t.mode&2)===0&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=r}function Tre(e,t,r,n,i){var o=t.mode,u=e.child;e=u.sibling;var d={mode:"hidden",children:r};return(o&2)===0&&t.child!==u?(r=t.child,r.childLanes=0,r.pendingProps=d,u=r.lastEffect,u!==null?(t.firstEffect=r.firstEffect,t.lastEffect=u,u.nextEffect=null):t.firstEffect=t.lastEffect=null):r=Qd(u,d),e!==null?n=Qd(e,n):(n=Jy(n,o,i,null),n.flags|=2),n.return=t,r.return=t,r.sibling=n,t.child=r,n}function Mre(e,t){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),kne(e.return,t)}function R6(e,t,r,n,i,o){var u=e.memoizedState;u===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i,lastEffect:o}:(u.isBackwards=t,u.rendering=null,u.renderingStartTime=0,u.last=n,u.tail=r,u.tailMode=i,u.lastEffect=o)}function Cre(e,t,r){var n=t.pendingProps,i=n.revealOrder,o=n.tail;if(ks(e,t,n.children,r),n=Wi.current,(n&2)!==0)n=n&1|2,t.flags|=64;else{if(e!==null&&(e.flags&64)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Mre(e,r);else if(e.tag===19)Mre(e,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Zi(Wi,n),(t.mode&2)===0)t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&QM(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),R6(t,!1,i,r,o,t.lastEffect);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&QM(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}R6(t,!0,r,null,o,t.lastEffect);break;case"together":R6(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function pf(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),lw|=t.lanes,(r&t.childLanes)!==0){if(e!==null&&t.child!==e.child)throw Error($t(153));if(t.child!==null){for(e=t.child,r=Qd(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Qd(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}return null}var Yne,hq,Kne,Xne;Yne=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};hq=function(){};Kne=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,eg($c.current);var o=null;switch(r){case"input":i=B6(e,i),n=B6(e,n),o=[];break;case"option":i=$6(e,i),n=$6(e,n),o=[];break;case"select":i=Ni({},i,{value:void 0}),n=Ni({},n,{value:void 0}),o=[];break;case"textarea":i=G6(e,i),n=G6(e,n),o=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=$M)}Z6(r,n);var u;r=null;for(_ in i)if(!n.hasOwnProperty(_)&&i.hasOwnProperty(_)&&i[_]!=null)if(_==="style"){var d=i[_];for(u in d)d.hasOwnProperty(u)&&(r||(r={}),r[u]="")}else _!=="dangerouslySetInnerHTML"&&_!=="children"&&_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(Gx.hasOwnProperty(_)?o||(o=[]):(o=o||[]).push(_,null));for(_ in n){var g=n[_];if(d=i!=null?i[_]:void 0,n.hasOwnProperty(_)&&g!==d&&(g!=null||d!=null))if(_==="style"){if(d){for(u in d)!d.hasOwnProperty(u)||g&&g.hasOwnProperty(u)||(r||(r={}),r[u]="");for(u in g)g.hasOwnProperty(u)&&d[u]!==g[u]&&(r||(r={}),r[u]=g[u])}else r||(o||(o=[]),o.push(_,r)),r=g;}else _==="dangerouslySetInnerHTML"?(g=g?g.__html:void 0,d=d?d.__html:void 0,g!=null&&d!==g&&(o=o||[]).push(_,g)):_==="children"?typeof g!="string"&&typeof g!="number"||(o=o||[]).push(_,""+g):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&(Gx.hasOwnProperty(_)?(g!=null&&_==="onScroll"&&Ii("scroll",e),o||d===g||(o=[])):typeof g=="object"&&g!==null&&g.$$typeof===Nq?g.toString():(o=o||[]).push(_,g))}r&&(o=o||[]).push("style",r);var _=o;(t.updateQueue=_)&&(t.flags|=4)}};Xne=function(e,t,r,n){r!==n&&(t.flags|=4)};function Ix(e,t){if(!Gc)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function WZe(e,t,r){var n=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Rs(t.type)&&HM(),null;case 3:return n0(),Ti(Ns),Ti(Va),r8(),n=t.stateNode,n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(IM(t)?t.flags|=4:n.hydrate||(t.flags|=256)),hq(t),null;case 5:t8(t);var i=eg(nw.current);if(r=t.type,e!==null&&t.stateNode!=null)Kne(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=128);else{if(!n){if(t.stateNode===null)throw Error($t(166));return null}if(e=eg($c.current),IM(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[zd]=t,n[GM]=o,r){case"dialog":Ii("cancel",n),Ii("close",n);break;case"iframe":case"object":case"embed":Ii("load",n);break;case"video":case"audio":for(e=0;e<Px.length;e++)Ii(Px[e],n);break;case"source":Ii("error",n);break;case"img":case"image":case"link":Ii("error",n),Ii("load",n);break;case"details":Ii("toggle",n);break;case"input":Pte(n,o),Ii("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Ii("invalid",n);break;case"textarea":Dte(n,o),Ii("invalid",n)}Z6(r,o),e=null;for(var u in o)o.hasOwnProperty(u)&&(i=o[u],u==="children"?typeof i=="string"?n.textContent!==i&&(e=["children",i]):typeof i=="number"&&n.textContent!==""+i&&(e=["children",""+i]):Gx.hasOwnProperty(u)&&i!=null&&u==="onScroll"&&Ii("scroll",n));switch(r){case"input":gM(n),Ote(n,o,!0);break;case"textarea":gM(n),kte(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=$M)}n=e,t.updateQueue=n,n!==null&&(t.flags|=4)}else{switch(u=i.nodeType===9?i:i.ownerDocument,e===H6.html&&(e=$re(r)),e===H6.html?r==="script"?(e=u.createElement("div"),e.innerHTML="<script></script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=u.createElement(r,{is:n.is}):(e=u.createElement(r),r==="select"&&(u=e,n.multiple?u.multiple=!0:n.size&&(u.size=n.size))):e=u.createElementNS(e,r),e[zd]=t,e[GM]=n,Yne(e,t,!1,!1),t.stateNode=e,u=Y6(r,n),r){case"dialog":Ii("cancel",e),Ii("close",e),i=n;break;case"iframe":case"object":case"embed":Ii("load",e),i=n;break;case"video":case"audio":for(i=0;i<Px.length;i++)Ii(Px[i],e);i=n;break;case"source":Ii("error",e),i=n;break;case"img":case"image":case"link":Ii("error",e),Ii("load",e),i=n;break;case"details":Ii("toggle",e),i=n;break;case"input":Pte(e,n),i=B6(e,n),Ii("invalid",e);break;case"option":i=$6(e,n);break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=Ni({},n,{value:void 0}),Ii("invalid",e);break;case"textarea":Dte(e,n),i=G6(e,n),Ii("invalid",e);break;default:i=n}Z6(r,i);var d=i;for(o in d)if(d.hasOwnProperty(o)){var g=d[o];o==="style"?Wre(e,g):o==="dangerouslySetInnerHTML"?(g=g?g.__html:void 0,g!=null&&Gre(e,g)):o==="children"?typeof g=="string"?(r!=="textarea"||g!=="")&&Hx(e,g):typeof g=="number"&&Hx(e,""+g):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Gx.hasOwnProperty(o)?g!=null&&o==="onScroll"&&Ii("scroll",e):g!=null&&Cq(e,o,g,u))}switch(r){case"input":gM(e),Ote(e,n,!1);break;case"textarea":gM(e),kte(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Zd(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?Gy(e,!!n.multiple,o,!1):n.defaultValue!=null&&Gy(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=$M)}Ene(r,n)&&(t.flags|=4)}t.ref!==null&&(t.flags|=128)}return null;case 6:if(e&&t.stateNode!=null)Xne(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error($t(166));r=eg(nw.current),eg($c.current),IM(t)?(n=t.stateNode,r=t.memoizedProps,n[zd]=t,n.nodeValue!==r&&(t.flags|=4)):(n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[zd]=t,t.stateNode=n)}return null;case 13:return Ti(Wi),n=t.memoizedState,(t.flags&64)!==0?(t.lanes=r,t):(n=n!==null,r=!1,e===null?t.memoizedProps.fallback!==void 0&&IM(t):r=e.memoizedState!==null,n&&!r&&(t.mode&2)!==0&&(e===null&&t.memoizedProps.unstable_avoidThisFallback!==!0||(Wi.current&1)!==0?la===0&&(la=3):((la===0||la===3)&&(la=4),fs===null||(lw&134217727)===0&&(s0&134217727)===0||Xy(fs,Ua))),(n||r)&&(t.flags|=4),null);case 4:return n0(),hq(t),e===null&&xne(t.stateNode.containerInfo),null;case 10:return Jq(t),null;case 17:return Rs(t.type)&&HM(),null;case 19:if(Ti(Wi),n=t.memoizedState,n===null)return null;if(o=(t.flags&64)!==0,u=n.rendering,u===null){if(o)Ix(n,!1);else{if(la!==0||e!==null&&(e.flags&64)!==0)for(e=t.child;e!==null;){if(u=QM(e),u!==null){for(t.flags|=64,Ix(n,!1),o=u.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),n.lastEffect===null&&(t.firstEffect=null),t.lastEffect=n.lastEffect,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,u=o.alternate,u===null?(o.childLanes=0,o.lanes=e,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Zi(Wi,Wi.current&1|2),t.child}e=e.sibling}n.tail!==null&&Ba()>bq&&(t.flags|=64,o=!0,Ix(n,!1),t.lanes=33554432)}}else{if(!o)if(e=QM(u),e!==null){if(t.flags|=64,o=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Ix(n,!0),n.tail===null&&n.tailMode==="hidden"&&!u.alternate&&!Gc)return t=t.lastEffect=n.lastEffect,t!==null&&(t.nextEffect=null),null}else 2*Ba()-n.renderingStartTime>bq&&r!==1073741824&&(t.flags|=64,o=!0,Ix(n,!1),t.lanes=33554432);n.isBackwards?(u.sibling=t.child,t.child=u):(r=n.last,r!==null?r.sibling=u:t.child=u,n.last=u)}return n.tail!==null?(r=n.tail,n.rendering=r,n.tail=r.sibling,n.lastEffect=t.lastEffect,n.renderingStartTime=Ba(),r.sibling=null,t=Wi.current,Zi(Wi,o?t&1|2:t&1),r):null;case 23:case 24:return f8(),e!==null&&e.memoizedState!==null!=(t.memoizedState!==null)&&n.mode!=="unstable-defer-without-hiding"&&(t.flags|=4),null}throw Error($t(156,t.tag))}function ZZe(e){switch(e.tag){case 1:Rs(e.type)&&HM();var t=e.flags;return t&4096?(e.flags=t&-4097|64,e):null;case 3:if(n0(),Ti(Ns),Ti(Va),r8(),t=e.flags,(t&64)!==0)throw Error($t(285));return e.flags=t&-4097|64,e;case 5:return t8(e),null;case 13:return Ti(Wi),t=e.flags,t&4096?(e.flags=t&-4097|64,e):null;case 19:return Ti(Wi),null;case 4:return n0(),null;case 10:return Jq(e),null;case 23:case 24:return f8(),null;default:return null}}function l8(e,t){try{var r="",n=t;do r+=CWe(n),n=n.return;while(n);var i=r}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i}}function mq(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var YZe=typeof WeakMap=="function"?WeakMap:Map;function Qne(e,t,r){r=Vd(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){oC||(oC=!0,xq=n),mq(e,t)},r}function Jne(e,t,r){r=Vd(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return mq(e,t),n(i)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){typeof n!="function"&&(Vc===null?Vc=new Set([this]):Vc.add(this),mq(e,t));var u=t.stack;this.componentDidCatch(t.value,{componentStack:u!==null?u:""})}),r}var KZe=typeof WeakSet=="function"?WeakSet:Set;function Are(e){var t=e.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){Wd(e,r)}else t.current=null}function XZe(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(t.flags&256&&e!==null){var r=e.memoizedProps,n=e.memoizedState;e=t.stateNode,t=e.getSnapshotBeforeUpdate(t.elementType===t.type?r:qu(t.type,r),n),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:t.flags&256&&Yq(t.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error($t(163))}function QZe(e,t,r){switch(r.tag){case 0:case 11:case 15:case 22:if(t=r.updateQueue,t=t!==null?t.lastEffect:null,t!==null){e=t=t.next;do{if((e.tag&3)===3){var n=e.create;e.destroy=n()}e=e.next}while(e!==t)}if(t=r.updateQueue,t=t!==null?t.lastEffect:null,t!==null){e=t=t.next;do{var i=e;n=i.next,i=i.tag,(i&4)!==0&&(i&1)!==0&&(lie(r,e),aYe(r,e)),e=n}while(e!==t)}return;case 1:e=r.stateNode,r.flags&4&&(t===null?e.componentDidMount():(n=r.elementType===r.type?t.memoizedProps:qu(r.type,t.memoizedProps),e.componentDidUpdate(n,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),t=r.updateQueue,t!==null&&cre(r,t,e);return;case 3:if(t=r.updateQueue,t!==null){if(e=null,r.child!==null)switch(r.child.tag){case 5:e=r.child.stateNode;break;case 1:e=r.child.stateNode}cre(r,t,e)}return;case 5:e=r.stateNode,t===null&&r.flags&4&&Ene(r.type,r.memoizedProps)&&e.focus();return;case 6:return;case 4:return;case 12:return;case 13:r.memoizedState===null&&(r=r.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&nne(r))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error($t(163))}function Pre(e,t){for(var r=e;;){if(r.tag===5){var n=r.stateNode;if(t)n=n.style,typeof n.setProperty=="function"?n.setProperty("display","none","important"):n.display="none";else{n=r.stateNode;var i=r.memoizedProps.style;i=i!=null&&i.hasOwnProperty("display")?i.display:null,n.style.display=Hre("display",i)}}else if(r.tag===6)r.stateNode.nodeValue=t?"":r.memoizedProps;else if((r.tag!==23&&r.tag!==24||r.memoizedState===null||r===e)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}}function Ore(e,t){if(rg&&typeof rg.onCommitFiberUnmount=="function")try{rg.onCommitFiberUnmount(Kq,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(e=t.updateQueue,e!==null&&(e=e.lastEffect,e!==null)){var r=e=e.next;do{var n=r,i=n.destroy;if(n=n.tag,i!==void 0)if((n&4)!==0)lie(t,r);else{n=t;try{i()}catch(o){Wd(n,o)}}r=r.next}while(r!==e)}break;case 1:if(Are(t),e=t.stateNode,typeof e.componentWillUnmount=="function")try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){Wd(t,o)}break;case 5:Are(t);break;case 4:eie(e,t)}}function Dre(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function kre(e){return e.tag===5||e.tag===3||e.tag===4}function Nre(e){e:{for(var t=e.return;t!==null;){if(kre(t))break e;t=t.return}throw Error($t(160))}var r=t;switch(t=r.stateNode,r.tag){case 5:var n=!1;break;case 3:t=t.containerInfo,n=!0;break;case 4:t=t.containerInfo,n=!0;break;default:throw Error($t(161))}r.flags&16&&(Hx(t,""),r.flags&=-17);e:t:for(r=e;;){for(;r.sibling===null;){if(r.return===null||kre(r.return)){r=null;break e}r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2)){r=r.stateNode;break e}}n?gq(e,r,t):vq(e,r,t)}function gq(e,t,r){var n=e.tag,i=n===5||n===6;if(i)e=i?e.stateNode:e.stateNode.instance,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=$M));else if(n!==4&&(e=e.child,e!==null))for(gq(e,t,r),e=e.sibling;e!==null;)gq(e,t,r),e=e.sibling}function vq(e,t,r){var n=e.tag,i=n===5||n===6;if(i)e=i?e.stateNode:e.stateNode.instance,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(vq(e,t,r),e=e.sibling;e!==null;)vq(e,t,r),e=e.sibling}function eie(e,t){for(var r=t,n=!1,i,o;;){if(!n){n=r.return;e:for(;;){if(n===null)throw Error($t(160));switch(i=n.stateNode,n.tag){case 5:o=!1;break e;case 3:i=i.containerInfo,o=!0;break e;case 4:i=i.containerInfo,o=!0;break e}n=n.return}n=!0}if(r.tag===5||r.tag===6){e:for(var u=e,d=r,g=d;;)if(Ore(u,g),g.child!==null&&g.tag!==4)g.child.return=g,g=g.child;else{if(g===d)break e;for(;g.sibling===null;){if(g.return===null||g.return===d)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}o?(u=i,d=r.stateNode,u.nodeType===8?u.parentNode.removeChild(d):u.removeChild(d)):i.removeChild(r.stateNode)}else if(r.tag===4){if(r.child!==null){i=r.stateNode.containerInfo,o=!0,r.child.return=r,r=r.child;continue}}else if(Ore(e,r),r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return,r.tag===4&&(n=!1)}r.sibling.return=r.return,r=r.sibling}}function L6(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var n=r=r.next;do(n.tag&3)===3&&(e=n.destroy,n.destroy=void 0,e!==void 0&&e()),n=n.next;while(n!==r)}return;case 1:return;case 5:if(r=t.stateNode,r!=null){n=t.memoizedProps;var i=e!==null?e.memoizedProps:n;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,o!==null){for(r[GM]=n,e==="input"&&n.type==="radio"&&n.name!=null&&Ure(r,n),Y6(e,i),t=Y6(e,n),i=0;i<o.length;i+=2){var u=o[i],d=o[i+1];u==="style"?Wre(r,d):u==="dangerouslySetInnerHTML"?Gre(r,d):u==="children"?Hx(r,d):Cq(r,u,d,t)}switch(e){case"input":U6(r,n);break;case"textarea":Vre(r,n);break;case"select":e=r._wrapperState.wasMultiple,r._wrapperState.wasMultiple=!!n.multiple,o=n.value,o!=null?Gy(r,!!n.multiple,o,!1):e!==!!n.multiple&&(n.defaultValue!=null?Gy(r,!!n.multiple,n.defaultValue,!0):Gy(r,!!n.multiple,n.multiple?[]:"",!1))}}}return;case 6:if(t.stateNode===null)throw Error($t(162));t.stateNode.nodeValue=t.memoizedProps;return;case 3:r=t.stateNode,r.hydrate&&(r.hydrate=!1,nne(r.containerInfo));return;case 12:return;case 13:t.memoizedState!==null&&(p8=Ba(),Pre(t.child,!0)),Rre(t);return;case 19:Rre(t);return;case 17:return;case 23:case 24:Pre(t,t.memoizedState!==null);return}throw Error($t(163))}function Rre(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new KZe),t.forEach(function(n){var i=uYe.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function JZe(e,t){return e!==null&&(e=e.memoizedState,e===null||e.dehydrated!==null)?(t=t.memoizedState,t!==null&&t.dehydrated===null):!1}var eYe=Math.ceil,iC=sg.ReactCurrentDispatcher,u8=sg.ReactCurrentOwner,Hr=0,fs=null,ko=null,Ua=0,og=0,yq=Jd(0),la=0,yC=null,a0=0,lw=0,s0=0,c8=0,_q=null,p8=0,bq=1/0;function l0(){bq=Ba()+500}var lr=null,oC=!1,xq=null,Vc=null,Xd=!1,Ux=null,Ox=90,wq=[],Sq=[],ff=null,Vx=0,Eq=null,NM=-1,uf=0,RM=0,$x=null,LM=!1;function bl(){return(Hr&48)!==0?Ba():NM!==-1?NM:NM=Ba()}function Gd(e){if(e=e.mode,(e&2)===0)return 1;if((e&4)===0)return r0()===99?1:2;if(uf===0&&(uf=a0),BZe.transition!==0){RM!==0&&(RM=_q!==null?_q.pendingLanes:0),e=uf;var t=4186112&~RM;return t&=-t,t===0&&(e=4186112&~e,t=e&-e,t===0&&(t=8192)),t}return e=r0(),(Hr&4)!==0&&e===98?e=UM(12,uf):(e=$We(e),e=UM(e,uf)),e}function Hd(e,t,r){if(50<Vx)throw Vx=0,Eq=null,Error($t(185));if(e=_C(e,t),e===null)return null;pC(e,t,r),e===fs&&(s0|=t,la===4&&Xy(e,Ua));var n=r0();t===1?(Hr&8)!==0&&(Hr&48)===0?Iq(e):(Yl(e,r),Hr===0&&(l0(),Hc())):((Hr&4)===0||n!==98&&n!==99||(ff===null?ff=new Set([e]):ff.add(e)),Yl(e,r)),_q=e}function _C(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}function Yl(e,t){for(var r=e.callbackNode,n=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,u=e.pendingLanes;0<u;){var d=31-Yd(u),g=1<<d,_=o[d];if(_===-1){if((g&n)===0||(g&i)!==0){_=t,Ly(g);var I=vi;o[d]=10<=I?_+250:6<=I?_+5e3:-1}}else _<=t&&(e.expiredLanes|=g);u&=~g}if(n=Kx(e,e===fs?Ua:0),t=vi,n===0)r!==null&&(r!==O6&&aq(r),e.callbackNode=null,e.callbackPriority=0);else{if(r!==null){if(e.callbackPriority===t)return;r!==O6&&aq(r)}t===15?(r=Iq.bind(null,e),lf===null?(lf=[r],kM=Xq(gC,Dne)):lf.push(r),r=O6):t===14?r=ew(99,Iq.bind(null,e)):(r=GWe(t),r=ew(r,tie.bind(null,e))),e.callbackPriority=t,e.callbackNode=r}}function tie(e){if(NM=-1,RM=uf=0,(Hr&48)!==0)throw Error($t(327));var t=e.callbackNode;if(eh()&&e.callbackNode!==t)return null;var r=Kx(e,e===fs?Ua:0);if(r===0)return null;var n=r,i=Hr;Hr|=16;var o=oie();(fs!==e||Ua!==n)&&(l0(),Qy(e,n));do try{nYe();break}catch(d){iie(e,d)}while(!0);if(Qq(),iC.current=o,Hr=i,ko!==null?n=0:(fs=null,Ua=0,n=la),(a0&s0)!==0)Qy(e,0);else if(n!==0){if(n===2&&(Hr|=64,e.hydrate&&(e.hydrate=!1,Yq(e.containerInfo)),r=cne(e),r!==0&&(n=Dx(e,r))),n===1)throw t=yC,Qy(e,0),Xy(e,r),Yl(e,Ba()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=r,n){case 0:case 1:throw Error($t(345));case 2:Km(e);break;case 3:if(Xy(e,r),(r&62914560)===r&&(n=p8+500-Ba(),10<n)){if(Kx(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){bl(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=rre(Km.bind(null,e),n);break}Km(e);break;case 4:if(Xy(e,r),(r&4186112)===r)break;for(n=e.eventTimes,i=-1;0<r;){var u=31-Yd(r);o=1<<u,u=n[u],u>i&&(i=u),r&=~o}if(r=i,r=Ba()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*eYe(r/1960))-r,10<r){e.timeoutHandle=rre(Km.bind(null,e),r);break}Km(e);break;case 5:Km(e);break;default:throw Error($t(329))}}return Yl(e,Ba()),e.callbackNode===t?tie.bind(null,e):null}function Xy(e,t){for(t&=~c8,t&=~s0,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Yd(t),n=1<<r;e[r]=-1,t&=~n}}function Iq(e){if((Hr&48)!==0)throw Error($t(327));if(eh(),e===fs&&(e.expiredLanes&Ua)!==0){var t=Ua,r=Dx(e,t);(a0&s0)!==0&&(t=Kx(e,t),r=Dx(e,t))}else t=Kx(e,0),r=Dx(e,t);if(e.tag!==0&&r===2&&(Hr|=64,e.hydrate&&(e.hydrate=!1,Yq(e.containerInfo)),t=cne(e),t!==0&&(r=Dx(e,t))),r===1)throw r=yC,Qy(e,0),Xy(e,t),Yl(e,Ba()),r;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Km(e),Yl(e,Ba()),null}function tYe(){if(ff!==null){var e=ff;ff=null,e.forEach(function(t){t.expiredLanes|=24&t.pendingLanes,Yl(t,Ba())})}Hc()}function rie(e,t){var r=Hr;Hr|=1;try{return e(t)}finally{Hr=r,Hr===0&&(l0(),Hc())}}function nie(e,t){var r=Hr;Hr&=-2,Hr|=8;try{return e(t)}finally{Hr=r,Hr===0&&(l0(),Hc())}}function MM(e,t){Zi(yq,og),og|=t,a0|=t}function f8(){og=yq.current,Ti(yq)}function Qy(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,RZe(r)),ko!==null)for(r=ko.return;r!==null;){var n=r;switch(n.tag){case 1:n=n.type.childContextTypes,n!=null&&HM();break;case 3:n0(),Ti(Ns),Ti(Va),r8();break;case 5:t8(n);break;case 4:n0();break;case 13:Ti(Wi);break;case 19:Ti(Wi);break;case 10:Jq(n);break;case 23:case 24:f8()}r=r.return}fs=e,ko=Qd(e.current,null),Ua=og=a0=t,la=0,yC=null,c8=s0=lw=0}function iie(e,t){do{var r=ko;try{if(Qq(),Fx.current=nC,JM){for(var n=ao.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}JM=!1}if(iw=0,sa=Fa=ao=null,Bx=!1,u8.current=null,r===null||r.return===null){la=1,yC=t,ko=null;break}e:{var o=e,u=r.return,d=r,g=t;if(t=Ua,d.flags|=2048,d.firstEffect=d.lastEffect=null,g!==null&&typeof g=="object"&&typeof g.then=="function"){var _=g;if((d.mode&2)===0){var I=d.alternate;I?(d.updateQueue=I.updateQueue,d.memoizedState=I.memoizedState,d.lanes=I.lanes):(d.updateQueue=null,d.memoizedState=null)}var T=(Wi.current&1)!==0,A=u;do{var q;if(q=A.tag===13){var z=A.memoizedState;if(z!==null)q=z.dehydrated!==null;else{var U=A.memoizedProps;q=U.fallback===void 0?!1:U.unstable_avoidThisFallback!==!0?!0:!T}}if(q){var N=A.updateQueue;if(N===null){var L=new Set;L.add(_),A.updateQueue=L}else N.add(_);if((A.mode&2)===0){if(A.flags|=64,d.flags|=16384,d.flags&=-2981,d.tag===1)if(d.alternate===null)d.tag=17;else{var F=Vd(-1,1);F.tag=2,$d(d,F)}d.lanes|=1;break e}g=void 0,d=t;var H=o.pingCache;if(H===null?(H=o.pingCache=new YZe,g=new Set,H.set(_,g)):(g=H.get(_),g===void 0&&(g=new Set,H.set(_,g))),!g.has(d)){g.add(d);var Y=lYe.bind(null,o,_,d);_.then(Y,Y)}A.flags|=4096,A.lanes=t;break e}A=A.return}while(A!==null);g=Error(($y(d.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}la!==5&&(la=2),g=l8(g,d),A=u;do{switch(A.tag){case 3:o=g,A.flags|=4096,t&=-t,A.lanes|=t;var te=Qne(A,o,t);ure(A,te);break e;case 1:o=g;var oe=A.type,ue=A.stateNode;if((A.flags&64)===0&&(typeof oe.getDerivedStateFromError=="function"||ue!==null&&typeof ue.componentDidCatch=="function"&&(Vc===null||!Vc.has(ue)))){A.flags|=4096,t&=-t,A.lanes|=t;var Ie=Jne(A,o,t);ure(A,Ie);break e}}A=A.return}while(A!==null)}sie(r)}catch(Ee){t=Ee,ko===r&&r!==null&&(ko=r=r.return);continue}break}while(!0)}function oie(){var e=iC.current;return iC.current=nC,e===null?nC:e}function Dx(e,t){var r=Hr;Hr|=16;var n=oie();fs===e&&Ua===t||Qy(e,t);do try{rYe();break}catch(i){iie(e,i)}while(!0);if(Qq(),Hr=r,iC.current=n,ko!==null)throw Error($t(261));return fs=null,Ua=0,la}function rYe(){for(;ko!==null;)aie(ko)}function nYe(){for(;ko!==null&&!zZe();)aie(ko)}function aie(e){var t=uie(e.alternate,e,og);e.memoizedProps=e.pendingProps,t===null?sie(e):ko=t,u8.current=null}function sie(e){var t=e;do{var r=t.alternate;if(e=t.return,(t.flags&2048)===0){if(r=WZe(r,t,og),r!==null){ko=r;return}if(r=t,r.tag!==24&&r.tag!==23||r.memoizedState===null||(og&1073741824)!==0||(r.mode&4)===0){for(var n=0,i=r.child;i!==null;)n|=i.lanes|i.childLanes,i=i.sibling;r.childLanes=n}e!==null&&(e.flags&2048)===0&&(e.firstEffect===null&&(e.firstEffect=t.firstEffect),t.lastEffect!==null&&(e.lastEffect!==null&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(e.lastEffect!==null?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(r=ZZe(t),r!==null){r.flags&=2047,ko=r;return}e!==null&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(t=t.sibling,t!==null){ko=t;return}ko=t=e}while(t!==null);la===0&&(la=5)}function Km(e){var t=r0();return ig(99,iYe.bind(null,e,t)),null}function iYe(e,t){do eh();while(Ux!==null);if((Hr&48)!==0)throw Error($t(327));var r=e.finishedWork;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error($t(177));e.callbackNode=null;var n=r.lanes|r.childLanes,i=n,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var u=e.eventTimes,d=e.expirationTimes;0<o;){var g=31-Yd(o),_=1<<g;i[g]=0,u[g]=-1,d[g]=-1,o&=~_}if(ff!==null&&(n&24)===0&&ff.has(e)&&ff.delete(e),e===fs&&(ko=fs=null,Ua=0),1<r.flags?r.lastEffect!==null?(r.lastEffect.nextEffect=r,n=r.firstEffect):n=r:n=r.firstEffect,n!==null){if(i=Hr,Hr|=32,u8.current=null,C6=AM,u=Kte(),tq(u)){if("selectionStart"in u)d={start:u.selectionStart,end:u.selectionEnd};else e:if(d=(d=u.ownerDocument)&&d.defaultView||window,(_=d.getSelection&&d.getSelection())&&_.rangeCount!==0){d=_.anchorNode,o=_.anchorOffset,g=_.focusNode,_=_.focusOffset;try{d.nodeType,g.nodeType}catch(Ee){d=null;break e}var I=0,T=-1,A=-1,q=0,z=0,U=u,N=null;t:for(;;){for(var L;U!==d||o!==0&&U.nodeType!==3||(T=I+o),U!==g||_!==0&&U.nodeType!==3||(A=I+_),U.nodeType===3&&(I+=U.nodeValue.length),(L=U.firstChild)!==null;)N=U,U=L;for(;;){if(U===u)break t;if(N===d&&++q===o&&(T=I),N===g&&++z===_&&(A=I),(L=U.nextSibling)!==null)break;U=N,N=U.parentNode}U=L}d=T===-1||A===-1?null:{start:T,end:A}}else d=null;d=d||{start:0,end:0}}else d=null;A6={focusedElem:u,selectionRange:d},AM=!1,$x=null,LM=!1,lr=n;do try{oYe()}catch(Ee){if(lr===null)throw Error($t(330));Wd(lr,Ee),lr=lr.nextEffect}while(lr!==null);$x=null,lr=n;do try{for(u=e;lr!==null;){var F=lr.flags;if(F&16&&Hx(lr.stateNode,""),F&128){var H=lr.alternate;if(H!==null){var Y=H.ref;Y!==null&&(typeof Y=="function"?Y(null):Y.current=null)}}switch(F&1038){case 2:Nre(lr),lr.flags&=-3;break;case 6:Nre(lr),lr.flags&=-3,L6(lr.alternate,lr);break;case 1024:lr.flags&=-1025;break;case 1028:lr.flags&=-1025,L6(lr.alternate,lr);break;case 4:L6(lr.alternate,lr);break;case 8:d=lr,eie(u,d);var te=d.alternate;Dre(d),te!==null&&Dre(te)}lr=lr.nextEffect}}catch(Ee){if(lr===null)throw Error($t(330));Wd(lr,Ee),lr=lr.nextEffect}while(lr!==null);if(Y=A6,H=Kte(),F=Y.focusedElem,u=Y.selectionRange,H!==F&&F&&F.ownerDocument&&yne(F.ownerDocument.documentElement,F)){for(u!==null&&tq(F)&&(H=u.start,Y=u.end,Y===void 0&&(Y=H),"selectionStart"in F?(F.selectionStart=H,F.selectionEnd=Math.min(Y,F.value.length)):(Y=(H=F.ownerDocument||document)&&H.defaultView||window,Y.getSelection&&(Y=Y.getSelection(),d=F.textContent.length,te=Math.min(u.start,d),u=u.end===void 0?te:Math.min(u.end,d),!Y.extend&&te>u&&(d=u,u=te,te=d),d=Yte(F,te),o=Yte(F,u),d&&o&&(Y.rangeCount!==1||Y.anchorNode!==d.node||Y.anchorOffset!==d.offset||Y.focusNode!==o.node||Y.focusOffset!==o.offset)&&(H=H.createRange(),H.setStart(d.node,d.offset),Y.removeAllRanges(),te>u?(Y.addRange(H),Y.extend(o.node,o.offset)):(H.setEnd(o.node,o.offset),Y.addRange(H)))))),H=[],Y=F;Y=Y.parentNode;)Y.nodeType===1&&H.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof F.focus=="function"&&F.focus(),F=0;F<H.length;F++)Y=H[F],Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}AM=!!C6,A6=C6=null,e.current=r,lr=n;do try{for(F=e;lr!==null;){var oe=lr.flags;if(oe&36&&QZe(F,lr.alternate,lr),oe&128){H=void 0;var ue=lr.ref;if(ue!==null){var Ie=lr.stateNode;switch(lr.tag){case 5:H=Ie;break;default:H=Ie}typeof ue=="function"?ue(H):ue.current=H}}lr=lr.nextEffect}}catch(Ee){if(lr===null)throw Error($t(330));Wd(lr,Ee),lr=lr.nextEffect}while(lr!==null);lr=null,FZe(),Hr=i}else e.current=r;if(Xd)Xd=!1,Ux=e,Ox=t;else for(lr=n;lr!==null;)t=lr.nextEffect,lr.nextEffect=null,lr.flags&8&&(oe=lr,oe.sibling=null,oe.stateNode=null),lr=t;if(n=e.pendingLanes,n===0&&(Vc=null),n===1?e===Eq?Vx++:(Vx=0,Eq=e):Vx=0,r=r.stateNode,rg&&typeof rg.onCommitFiberRoot=="function")try{rg.onCommitFiberRoot(Kq,r,void 0,(r.current.flags&64)===64)}catch(Ee){}if(Yl(e,Ba()),oC)throw oC=!1,e=xq,xq=null,e;return(Hr&8)!==0||Hc(),null}function oYe(){for(;lr!==null;){var e=lr.alternate;LM||$x===null||((lr.flags&8)!==0?Lte(lr,$x)&&(LM=!0):lr.tag===13&&JZe(e,lr)&&Lte(lr,$x)&&(LM=!0));var t=lr.flags;(t&256)!==0&&XZe(e,lr),(t&512)===0||Xd||(Xd=!0,ew(97,function(){return eh(),null})),lr=lr.nextEffect}}function eh(){if(Ox!==90){var e=97<Ox?97:Ox;return Ox=90,ig(e,sYe)}return!1}function aYe(e,t){wq.push(t,e),Xd||(Xd=!0,ew(97,function(){return eh(),null}))}function lie(e,t){Sq.push(t,e),Xd||(Xd=!0,ew(97,function(){return eh(),null}))}function sYe(){if(Ux===null)return!1;var e=Ux;if(Ux=null,(Hr&48)!==0)throw Error($t(331));var t=Hr;Hr|=32;var r=Sq;Sq=[];for(var n=0;n<r.length;n+=2){var i=r[n],o=r[n+1],u=i.destroy;if(i.destroy=void 0,typeof u=="function")try{u()}catch(g){if(o===null)throw Error($t(330));Wd(o,g)}}for(r=wq,wq=[],n=0;n<r.length;n+=2){i=r[n],o=r[n+1];try{var d=i.create;i.destroy=d()}catch(g){if(o===null)throw Error($t(330));Wd(o,g)}}for(d=e.current.firstEffect;d!==null;)e=d.nextEffect,d.nextEffect=null,d.flags&8&&(d.sibling=null,d.stateNode=null),d=e;return Hr=t,Hc(),!0}function Lre(e,t,r){t=l8(r,t),t=Qne(e,t,1),$d(e,t),t=bl(),e=_C(e,1),e!==null&&(pC(e,1,t),Yl(e,t))}function Wd(e,t){if(e.tag===3)Lre(e,e,t);else for(var r=e.return;r!==null;){if(r.tag===3){Lre(r,e,t);break}else if(r.tag===1){var n=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Vc===null||!Vc.has(n))){e=l8(t,e);var i=Jne(r,e,1);if($d(r,i),i=bl(),r=_C(r,1),r!==null)pC(r,1,i),Yl(r,i);else if(typeof n.componentDidCatch=="function"&&(Vc===null||!Vc.has(n)))try{n.componentDidCatch(t,e)}catch(o){}break}}r=r.return}}function lYe(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=bl(),e.pingedLanes|=e.suspendedLanes&r,fs===e&&(Ua&r)===r&&(la===4||la===3&&(Ua&62914560)===Ua&&500>Ba()-p8?Qy(e,0):c8|=r),Yl(e,t)}function uYe(e,t){var r=e.stateNode;r!==null&&r.delete(t),t=0,t===0&&(t=e.mode,(t&2)===0?t=1:(t&4)===0?t=r0()===99?1:2:(uf===0&&(uf=a0),t=qy(62914560&~uf),t===0&&(t=4194304))),r=bl(),e=_C(e,t),e!==null&&(pC(e,t,r),Yl(e,r))}var uie;uie=function(e,t,r){var n=t.lanes;if(e!==null){if(e.memoizedProps!==t.pendingProps||Ns.current)zu=!0;else if((r&n)!==0)zu=(e.flags&16384)!==0;else{switch(zu=!1,t.tag){case 3:wre(t),k6();break;case 5:dre(t);break;case 1:Rs(t.type)&&DM(t);break;case 4:uq(t,t.stateNode.containerInfo);break;case 10:n=t.memoizedProps.value;var i=t.type._context;Zi(WM,i._currentValue),i._currentValue=n;break;case 13:if(t.memoizedState!==null)return(r&t.child.childLanes)!==0?Sre(e,t,r):(Zi(Wi,Wi.current&1),t=pf(e,t,r),t!==null?t.sibling:null);Zi(Wi,Wi.current&1);break;case 19:if(n=(r&t.childLanes)!==0,(e.flags&64)!==0){if(n)return Cre(e,t,r);t.flags|=64}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Zi(Wi,Wi.current),n)break;return null;case 23:case 24:return t.lanes=0,N6(e,t,r)}return pf(e,t,r)}}else zu=!1;switch(t.lanes=0,t.tag){case 2:if(n=t.type,e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=t0(t,Va.current),Yy(t,r),i=i8(null,t,n,e,i,r),t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,Rs(n)){var o=!0;DM(t)}else o=!1;t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,e8(t);var u=n.getDerivedStateFromProps;typeof u=="function"&&KM(t,n,u,e),i.updater=vC,t.stateNode=i,i._reactInternals=t,lq(t,n,e,r),t=dq(null,t,n,!0,o,r)}else t.tag=0,ks(null,t,i,r),t=t.child;return t;case 16:i=t.elementType;e:{switch(e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,o=i._init,i=o(i._payload),t.type=i,o=t.tag=pYe(i),e=qu(i,e),o){case 0:t=fq(null,t,i,e,r);break e;case 1:t=xre(null,t,i,e,r);break e;case 11:t=_re(null,t,i,e,r);break e;case 14:t=bre(null,t,i,qu(i.type,e),n,r);break e}throw Error($t(306,i,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:qu(n,i),fq(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:qu(n,i),xre(e,t,n,i,r);case 3:if(wre(t),n=t.updateQueue,e===null||n===null)throw Error($t(282));if(n=t.pendingProps,i=t.memoizedState,i=i!==null?i.element:null,Nne(e,t),tw(t,n,null,r),n=t.memoizedState.element,n===i)k6(),t=pf(e,t,r);else{if(i=t.stateNode,(o=i.hydrate)&&(jd=Zy(t.stateNode.containerInfo.firstChild),cf=t,o=Gc=!0),o){if(e=i.mutableSourceEagerHydrationData,e!=null)for(i=0;i<e.length;i+=2)o=e[i],o._workInProgressVersionPrimary=e[i+1],Ky.push(o);for(r=zne(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|1024,r=r.sibling}else ks(e,t,n,r),k6();t=t.child}return t;case 5:return dre(t),e===null&&cq(t),n=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,u=i.children,iq(n,i)?u=null:o!==null&&iq(n,o)&&(t.flags|=16),Zne(e,t),ks(e,t,u,r),t.child;case 6:return e===null&&cq(t),null;case 13:return Sre(e,t,r);case 4:return uq(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=XM(t,null,n,r):ks(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:qu(n,i),_re(e,t,n,i,r);case 7:return ks(e,t,t.pendingProps,r),t.child;case 8:return ks(e,t,t.pendingProps.children,r),t.child;case 12:return ks(e,t,t.pendingProps.children,r),t.child;case 10:e:{n=t.type._context,i=t.pendingProps,u=t.memoizedProps,o=i.value;var d=t.type._context;if(Zi(WM,d._currentValue),d._currentValue=o,u!==null)if(d=u.value,o=Gl(d,o)?0:(typeof n._calculateChangedBits=="function"?n._calculateChangedBits(d,o):1073741823)|0,o===0){if(u.children===i.children&&!Ns.current){t=pf(e,t,r);break e}}else for(d=t.child,d!==null&&(d.return=t);d!==null;){var g=d.dependencies;if(g!==null){u=d.child;for(var _=g.firstContext;_!==null;){if(_.context===n&&(_.observedBits&o)!==0){d.tag===1&&(_=Vd(-1,r&-r),_.tag=2,$d(d,_)),d.lanes|=r,_=d.alternate,_!==null&&(_.lanes|=r),kne(d.return,r),g.lanes|=r;break}_=_.next}}else u=d.tag===10&&d.type===t.type?null:d.child;if(u!==null)u.return=d;else for(u=d;u!==null;){if(u===t){u=null;break}if(d=u.sibling,d!==null){d.return=u.return,u=d;break}u=u.return}d=u}ks(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,o=t.pendingProps,n=o.children,Yy(t,r),i=Zl(i,o.unstable_observedBits),n=n(i),t.flags|=1,ks(e,t,n,r),t.child;case 14:return i=t.type,o=qu(i,t.pendingProps),o=qu(i.type,o),bre(e,t,i,o,n,r);case 15:return Wne(e,t,t.type,t.pendingProps,n,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:qu(n,i),e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Rs(n)?(e=!0,DM(t)):e=!1,Yy(t,r),Lne(t,n,i),lq(t,n,i,r),dq(null,t,n,!0,e,r);case 19:return Cre(e,t,r);case 23:return N6(e,t,r);case 24:return N6(e,t,r)}throw Error($t(156,t.tag))};function cYe(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Hl(e,t,r,n){return new cYe(e,t,r,n)}function d8(e){return e=e.prototype,!(!e||!e.isReactComponent)}function pYe(e){if(typeof e=="function")return d8(e)?1:0;if(e!=null){if(e=e.$$typeof,e===lC)return 11;if(e===uC)return 14}return 2}function Qd(e,t){var r=e.alternate;return r===null?(r=Hl(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function qM(e,t,r,n,i,o){var u=2;if(n=e,typeof e=="function")d8(e)&&(u=1);else if(typeof e=="string")u=5;else e:switch(e){case Ld:return Jy(r.children,i,o,t);case jre:u=8,i|=16;break;case Aq:u=8,i|=1;break;case kx:return e=Hl(12,r,t,i|8),e.elementType=kx,e.type=kx,e.lanes=o,e;case Nx:return e=Hl(13,r,t,i),e.type=Nx,e.elementType=Nx,e.lanes=o,e;case zM:return e=Hl(19,r,t,i),e.elementType=zM,e.lanes=o,e;case Rq:return h8(r,i,o,t);case F6:return e=Hl(24,r,t,i),e.elementType=F6,e.lanes=o,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Pq:u=10;break e;case Oq:u=9;break e;case lC:u=11;break e;case uC:u=14;break e;case Dq:u=16,n=null;break e;case kq:u=22;break e}throw Error($t(130,e==null?e:typeof e,""))}return t=Hl(u,r,t,i),t.elementType=e,t.type=n,t.lanes=o,t}function Jy(e,t,r,n){return e=Hl(7,e,n,t),e.lanes=r,e}function h8(e,t,r,n){return e=Hl(23,e,n,t),e.elementType=Rq,e.lanes=r,e}function q6(e,t,r){return e=Hl(6,e,null,t),e.lanes=r,e}function z6(e,t,r){return t=Hl(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function fYe(e,t,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=r,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=w6(0),this.expirationTimes=w6(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=w6(0),this.mutableSourceEagerHydrationData=null}function dYe(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Xm,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function aC(e,t,r,n){var i=t.current,o=bl(),u=Gd(i);e:if(r){r=r._reactInternals;t:{if(lg(r)!==r||r.tag!==1)throw Error($t(170));var d=r;do{switch(d.tag){case 3:d=d.stateNode.context;break t;case 1:if(Rs(d.type)){d=d.stateNode.__reactInternalMemoizedMergedChildContext;break t}}d=d.return}while(d!==null);throw Error($t(171))}if(r.tag===1){var g=r.type;if(Rs(g)){r=Tne(r,g,d);break e}}r=d}else r=Kd;return t.context===null?t.context=r:t.pendingContext=r,t=Vd(o,u),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),$d(i,t),Hd(i,u,o),u}function j6(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function qre(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function m8(e,t){qre(e,t),(e=e.alternate)&&qre(e,t)}function hYe(){return null}function g8(e,t,r){var n=r!=null&&r.hydrationOptions!=null&&r.hydrationOptions.mutableSources||null;if(r=new fYe(e,t,r!=null&&r.hydrate===!0),t=Hl(3,null,null,t===2?7:t===1?3:0),r.current=t,t.stateNode=r,e8(t),e[o0]=r.current,xne(e.nodeType===8?e.parentNode:e),n)for(e=0;e<n.length;e++){t=n[e];var i=t._getVersion;i=i(t._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[t,i]:r.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=r}g8.prototype.render=function(e){aC(e,this._internalRoot,null,null)};g8.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;aC(null,e,null,function(){t[o0]=null})};function uw(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function mYe(e,t){if(t||(t=e?e.nodeType===9?e.documentElement:e.firstChild:null,t=!(!t||t.nodeType!==1||!t.hasAttribute("data-reactroot"))),!t)for(var r;r=e.lastChild;)e.removeChild(r);return new g8(e,0,t?{hydrate:!0}:void 0)}function bC(e,t,r,n,i){var o=r._reactRootContainer;if(o){var u=o._internalRoot;if(typeof i=="function"){var d=i;i=function(){var _=j6(u);d.call(_)}}aC(t,u,e,i)}else{if(o=r._reactRootContainer=mYe(r,n),u=o._internalRoot,typeof i=="function"){var g=i;i=function(){var _=j6(u);g.call(_)}}nie(function(){aC(t,u,e,i)})}return j6(u)}ene=function(e){if(e.tag===13){var t=bl();Hd(e,4,t),m8(e,4)}};Fq=function(e){if(e.tag===13){var t=bl();Hd(e,67108864,t),m8(e,67108864)}};tne=function(e){if(e.tag===13){var t=bl(),r=Gd(e);Hd(e,r,t),m8(e,r)}};rne=function(e,t){return t()};K6=function(e,t,r){switch(t){case"input":if(U6(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+"][type=\"radio\"]"),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=mC(n);if(!i)throw Error($t(90));Bre(n),U6(n,i)}}}break;case"textarea":Vre(e,r);break;case"select":t=r.value,t!=null&&Gy(e,!!r.multiple,t,!1)}};qq=rie;Kre=function(e,t,r,n,i){var o=Hr;Hr|=4;try{return ig(98,e.bind(null,t,r,n,i))}finally{Hr=o,Hr===0&&(l0(),Hc())}};zq=function(){(Hr&49)===0&&(tYe(),eh())};Xre=function(e,t){var r=Hr;Hr|=2;try{return e(t)}finally{Hr=r,Hr===0&&(l0(),Hc())}};function cie(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!uw(t))throw Error($t(200));return dYe(e,t,null,r)}var gYe={Events:[aw,By,mC,Zre,Yre,eh,{current:!1}]},Tx={findFiberByHostInstance:Jm,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},vYe={bundleType:Tx.bundleType,version:Tx.version,rendererPackageName:Tx.rendererPackageName,rendererConfig:Tx.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:sg.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Jre(e),e===null?null:e.stateNode},findFiberByHostInstance:Tx.findFiberByHostInstance||hYe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"&&(Mx=__REACT_DEVTOOLS_GLOBAL_HOOK__,!Mx.isDisabled&&Mx.supportsFiber))try{Kq=Mx.inject(vYe),rg=Mx}catch(e){}var Mx;Kl.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gYe;Kl.createPortal=cie;Kl.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error($t(188)):Error($t(268,Object.keys(e)));return e=Jre(t),e=e===null?null:e.stateNode,e};Kl.flushSync=function(e,t){var r=Hr;if((r&48)!==0)return e(t);Hr|=1;try{if(e)return ig(99,e.bind(null,t))}finally{Hr=r,Hc()}};Kl.hydrate=function(e,t,r){if(!uw(t))throw Error($t(200));return bC(null,e,t,!0,r)};Kl.render=function(e,t,r){if(!uw(t))throw Error($t(200));return bC(null,e,t,!1,r)};Kl.unmountComponentAtNode=function(e){if(!uw(e))throw Error($t(40));return e._reactRootContainer?(nie(function(){bC(null,null,e,!1,function(){e._reactRootContainer=null,e[o0]=null})}),!0):!1};Kl.unstable_batchedUpdates=rie;Kl.unstable_createPortal=function(e,t){return cie(e,t,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};Kl.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!uw(r))throw Error($t(200));if(e==null||e._reactInternals===void 0)throw Error($t(38));return bC(e,t,r,!1,n)};Kl.version="17.0.2"});var Yi=P((vvr,die)=>{"use strict";p();function fie(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(fie)}catch(e){console.error(e)}}fie(),die.exports=pie()});var Gt=P((v8,hie)=>{"use strict";p();var cw=function(e){return e&&e.Math===Math&&e};hie.exports=cw(typeof globalThis=="object"&&globalThis)||cw(typeof window=="object"&&window)||cw(typeof self=="object"&&self)||cw(typeof global=="object"&&global)||cw(typeof v8=="object"&&v8)||function(){return this}()||Function("return this")()});var Mt=P((bvr,mie)=>{"use strict";p();mie.exports=function(e){try{return!!e()}catch(t){return!0}}});var hr=P((wvr,gie)=>{"use strict";p();var yYe=Mt();gie.exports=!yYe(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})});var u0=P((Evr,vie)=>{"use strict";p();var _Ye=Mt();vie.exports=!_Ye(function(){var e=function(){}.bind();return typeof e!="function"||e.hasOwnProperty("prototype")})});var Ht=P((Tvr,yie)=>{"use strict";p();var bYe=u0(),xC=Function.prototype.call;yie.exports=bYe?xC.bind(xC):function(){return xC.apply(xC,arguments)}});var pw=P(xie=>{"use strict";p();var _ie={}.propertyIsEnumerable,bie=Object.getOwnPropertyDescriptor,xYe=bie&&!_ie.call({1:2},1);xie.f=xYe?function(t){var r=bie(this,t);return!!r&&r.enumerable}:_ie});var Ls=P((Pvr,wie)=>{"use strict";p();wie.exports=function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}}});var mt=P((Dvr,Iie)=>{"use strict";p();var Sie=u0(),Eie=Function.prototype,y8=Eie.call,wYe=Sie&&Eie.bind.bind(y8,y8);Iie.exports=Sie?wYe:function(e){return function(){return y8.apply(e,arguments)}}});var ca=P((Nvr,Mie)=>{"use strict";p();var Tie=mt(),SYe=Tie({}.toString),EYe=Tie("".slice);Mie.exports=function(e){return EYe(SYe(e),8,-1)}});var hf=P((Lvr,Cie)=>{"use strict";p();var IYe=mt(),TYe=Mt(),MYe=ca(),_8=Object,CYe=IYe("".split);Cie.exports=TYe(function(){return!_8("z").propertyIsEnumerable(0)})?function(e){return MYe(e)==="String"?CYe(e,""):_8(e)}:_8});var qs=P((zvr,Aie)=>{"use strict";p();Aie.exports=function(e){return e==null}});var pi=P((Fvr,Pie)=>{"use strict";p();var AYe=qs(),PYe=TypeError;Pie.exports=function(e){if(AYe(e))throw new PYe("Can't call method on "+e);return e}});var bo=P((Uvr,Oie)=>{"use strict";p();var OYe=hf(),DYe=pi();Oie.exports=function(e){return OYe(DYe(e))}});var Wr=P(($vr,Die)=>{"use strict";p();var b8=typeof document=="object"&&document.all;Die.exports=typeof b8=="undefined"&&b8!==void 0?function(e){return typeof e=="function"||e===b8}:function(e){return typeof e=="function"}});var xr=P((Hvr,kie)=>{"use strict";p();var kYe=Wr();kie.exports=function(e){return typeof e=="object"?e!==null:kYe(e)}});var Mr=P((Zvr,Nie)=>{"use strict";p();var x8=Gt(),NYe=Wr(),RYe=function(e){return NYe(e)?e:void 0};Nie.exports=function(e,t){return arguments.length<2?RYe(x8[e]):x8[e]&&x8[e][t]}});var pa=P((Kvr,Rie)=>{"use strict";p();var LYe=mt();Rie.exports=LYe({}.isPrototypeOf)});var ju=P((Qvr,zie)=>{"use strict";p();var qYe=Gt(),Lie=qYe.navigator,qie=Lie&&Lie.userAgent;zie.exports=qie?String(qie):""});var Bu=P((eyr,$ie)=>{"use strict";p();var Vie=Gt(),w8=ju(),jie=Vie.process,Fie=Vie.Deno,Bie=jie&&jie.versions||Fie&&Fie.version,Uie=Bie&&Bie.v8,Fu,wC;Uie&&(Fu=Uie.split("."),wC=Fu[0]>0&&Fu[0]<4?1:+(Fu[0]+Fu[1]));!wC&&w8&&(Fu=w8.match(/Edge\/(\d+)/),(!Fu||Fu[1]>=74)&&(Fu=w8.match(/Chrome\/(\d+)/),Fu&&(wC=+Fu[1])));$ie.exports=wC});var th=P((ryr,Hie)=>{"use strict";p();var Gie=Bu(),zYe=Mt(),jYe=Gt(),FYe=jYe.String;Hie.exports=!!Object.getOwnPropertySymbols&&!zYe(function(){var e=Symbol("symbol detection");return!FYe(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&Gie&&Gie<41})});var S8=P((iyr,Wie)=>{"use strict";p();var BYe=th();Wie.exports=BYe&&!Symbol.sham&&typeof Symbol.iterator=="symbol"});var mf=P((ayr,Zie)=>{"use strict";p();var UYe=Mr(),VYe=Wr(),$Ye=pa(),GYe=S8(),HYe=Object;Zie.exports=GYe?function(e){return typeof e=="symbol"}:function(e){var t=UYe("Symbol");return VYe(t)&&$Ye(t.prototype,HYe(e))}});var rh=P((lyr,Yie)=>{"use strict";p();var WYe=String;Yie.exports=function(e){try{return WYe(e)}catch(t){return"Object"}}});var Cr=P((cyr,Kie)=>{"use strict";p();var ZYe=Wr(),YYe=rh(),KYe=TypeError;Kie.exports=function(e){if(ZYe(e))return e;throw new KYe(YYe(e)+" is not a function")}});var Ki=P((fyr,Xie)=>{"use strict";p();var XYe=Cr(),QYe=qs();Xie.exports=function(e,t){var r=e[t];return QYe(r)?void 0:XYe(r)}});var M8=P((hyr,Qie)=>{"use strict";p();var E8=Ht(),I8=Wr(),T8=xr(),JYe=TypeError;Qie.exports=function(e,t){var r,n;if(t==="string"&&I8(r=e.toString)&&!T8(n=E8(r,e))||I8(r=e.valueOf)&&!T8(n=E8(r,e))||t!=="string"&&I8(r=e.toString)&&!T8(n=E8(r,e)))return n;throw new JYe("Can't convert object to primitive value")}});var In=P((gyr,Jie)=>{"use strict";p();Jie.exports=!1});var SC=P((yyr,toe)=>{"use strict";p();var eoe=Gt(),eKe=Object.defineProperty;toe.exports=function(e,t){try{eKe(eoe,e,{value:t,configurable:!0,writable:!0})}catch(r){eoe[e]=t}return t}});var fw=P((byr,ioe)=>{"use strict";p();var tKe=In(),rKe=Gt(),nKe=SC(),roe="__core-js_shared__",noe=ioe.exports=rKe[roe]||nKe(roe,{});(noe.versions||(noe.versions=[])).push({version:"3.42.0",mode:tKe?"pure":"global",copyright:"\xA9 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.42.0/LICENSE",source:"https://github.com/zloirock/core-js"})});var gf=P((wyr,aoe)=>{"use strict";p();var ooe=fw();aoe.exports=function(e,t){return ooe[e]||(ooe[e]=t||{})}});var ln=P((Eyr,soe)=>{"use strict";p();var iKe=pi(),oKe=Object;soe.exports=function(e){return oKe(iKe(e))}});var Xr=P((Tyr,loe)=>{"use strict";p();var aKe=mt(),sKe=ln(),lKe=aKe({}.hasOwnProperty);loe.exports=Object.hasOwn||function(t,r){return lKe(sKe(t),r)}});var nh=P((Cyr,uoe)=>{"use strict";p();var uKe=mt(),cKe=0,pKe=Math.random(),fKe=uKe(1 .toString);uoe.exports=function(e){return"Symbol("+(e===void 0?"":e)+")_"+fKe(++cKe+pKe,36)}});var Ir=P((Pyr,poe)=>{"use strict";p();var dKe=Gt(),hKe=gf(),coe=Xr(),mKe=nh(),gKe=th(),vKe=S8(),c0=dKe.Symbol,C8=hKe("wks"),yKe=vKe?c0.for||c0:c0&&c0.withoutSetter||mKe;poe.exports=function(e){return coe(C8,e)||(C8[e]=gKe&&coe(c0,e)?c0[e]:yKe("Symbol."+e)),C8[e]}});var dw=P((Dyr,hoe)=>{"use strict";p();var _Ke=Ht(),foe=xr(),doe=mf(),bKe=Ki(),xKe=M8(),wKe=Ir(),SKe=TypeError,EKe=wKe("toPrimitive");hoe.exports=function(e,t){if(!foe(e)||doe(e))return e;var r=bKe(e,EKe),n;if(r){if(t===void 0&&(t="default"),n=_Ke(r,e,t),!foe(n)||doe(n))return n;throw new SKe("Can't convert object to primitive value")}return t===void 0&&(t="number"),xKe(e,t)}});var Wc=P((Nyr,moe)=>{"use strict";p();var IKe=dw(),TKe=mf();moe.exports=function(e){var t=IKe(e,"string");return TKe(t)?t:t+""}});var hw=P((Lyr,voe)=>{"use strict";p();var MKe=Gt(),goe=xr(),A8=MKe.document,CKe=goe(A8)&&goe(A8.createElement);voe.exports=function(e){return CKe?A8.createElement(e):{}}});var P8=P((zyr,yoe)=>{"use strict";p();var AKe=hr(),PKe=Mt(),OKe=hw();yoe.exports=!AKe&&!PKe(function(){return Object.defineProperty(OKe("div"),"a",{get:function(){return 7}}).a!==7})});var $o=P(boe=>{"use strict";p();var DKe=hr(),kKe=Ht(),NKe=pw(),RKe=Ls(),LKe=bo(),qKe=Wc(),zKe=Xr(),jKe=P8(),_oe=Object.getOwnPropertyDescriptor;boe.f=DKe?_oe:function(t,r){if(t=LKe(t),r=qKe(r),jKe)try{return _oe(t,r)}catch(n){}if(zKe(t,r))return RKe(!kKe(NKe.f,t,r),t[r])}});var O8=P((Uyr,xoe)=>{"use strict";p();var FKe=hr(),BKe=Mt();xoe.exports=FKe&&BKe(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})});var Yt=P(($yr,woe)=>{"use strict";p();var UKe=xr(),VKe=String,$Ke=TypeError;woe.exports=function(e){if(UKe(e))return e;throw new $Ke(VKe(e)+" is not an object")}});var ui=P(Eoe=>{"use strict";p();var GKe=hr(),HKe=P8(),WKe=O8(),EC=Yt(),Soe=Wc(),ZKe=TypeError,D8=Object.defineProperty,YKe=Object.getOwnPropertyDescriptor,k8="enumerable",N8="configurable",R8="writable";Eoe.f=GKe?WKe?function(t,r,n){if(EC(t),r=Soe(r),EC(n),typeof t=="function"&&r==="prototype"&&"value"in n&&R8 in n&&!n[R8]){var i=YKe(t,r);i&&i[R8]&&(t[r]=n.value,n={configurable:N8 in n?n[N8]:i[N8],enumerable:k8 in n?n[k8]:i[k8],writable:!1})}return D8(t,r,n)}:D8:function(t,r,n){if(EC(t),r=Soe(r),EC(n),HKe)try{return D8(t,r,n)}catch(i){}if("get"in n||"set"in n)throw new ZKe("Accessors not supported");return"value"in n&&(t[r]=n.value),t}});var xo=P((Zyr,Ioe)=>{"use strict";p();var KKe=hr(),XKe=ui(),QKe=Ls();Ioe.exports=KKe?function(e,t,r){return XKe.f(e,t,QKe(1,r))}:function(e,t,r){return e[t]=r,e}});var cg=P((Kyr,Moe)=>{"use strict";p();var L8=hr(),JKe=Xr(),Toe=Function.prototype,eXe=L8&&Object.getOwnPropertyDescriptor,q8=JKe(Toe,"name"),tXe=q8&&function(){}.name==="something",rXe=q8&&(!L8||L8&&eXe(Toe,"name").configurable);Moe.exports={EXISTS:q8,PROPER:tXe,CONFIGURABLE:rXe}});var mw=P((Qyr,Coe)=>{"use strict";p();var nXe=mt(),iXe=Wr(),z8=fw(),oXe=nXe(Function.toString);iXe(z8.inspectSource)||(z8.inspectSource=function(e){return oXe(e)});Coe.exports=z8.inspectSource});var j8=P((e0r,Poe)=>{"use strict";p();var aXe=Gt(),sXe=Wr(),Aoe=aXe.WeakMap;Poe.exports=sXe(Aoe)&&/native code/.test(String(Aoe))});var gw=P((r0r,Doe)=>{"use strict";p();var lXe=gf(),uXe=nh(),Ooe=lXe("keys");Doe.exports=function(e){return Ooe[e]||(Ooe[e]=uXe(e))}});var p0=P((i0r,koe)=>{"use strict";p();koe.exports={}});var jn=P((a0r,Loe)=>{"use strict";p();var cXe=j8(),Roe=Gt(),pXe=xr(),fXe=xo(),F8=Xr(),B8=fw(),dXe=gw(),hXe=p0(),Noe="Object already initialized",U8=Roe.TypeError,mXe=Roe.WeakMap,IC,vw,TC,gXe=function(e){return TC(e)?vw(e):IC(e,{})},vXe=function(e){return function(t){var r;if(!pXe(t)||(r=vw(t)).type!==e)throw new U8("Incompatible receiver, "+e+" required");return r}};cXe||B8.state?(Uu=B8.state||(B8.state=new mXe),Uu.get=Uu.get,Uu.has=Uu.has,Uu.set=Uu.set,IC=function(e,t){if(Uu.has(e))throw new U8(Noe);return t.facade=e,Uu.set(e,t),t},vw=function(e){return Uu.get(e)||{}},TC=function(e){return Uu.has(e)}):(pg=dXe("state"),hXe[pg]=!0,IC=function(e,t){if(F8(e,pg))throw new U8(Noe);return t.facade=e,fXe(e,pg,t),t},vw=function(e){return F8(e,pg)?e[pg]:{}},TC=function(e){return F8(e,pg)});var Uu,pg;Loe.exports={set:IC,get:vw,has:TC,enforce:gXe,getterFor:vXe}});var yw=P((l0r,joe)=>{"use strict";p();var $8=mt(),yXe=Mt(),_Xe=Wr(),MC=Xr(),V8=hr(),bXe=cg().CONFIGURABLE,xXe=mw(),zoe=jn(),wXe=zoe.enforce,SXe=zoe.get,qoe=String,CC=Object.defineProperty,EXe=$8("".slice),IXe=$8("".replace),TXe=$8([].join),MXe=V8&&!yXe(function(){return CC(function(){},"length",{value:8}).length!==8}),CXe=String(String).split("String"),AXe=joe.exports=function(e,t,r){EXe(qoe(t),0,7)==="Symbol("&&(t="["+IXe(qoe(t),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),r&&r.getter&&(t="get "+t),r&&r.setter&&(t="set "+t),(!MC(e,"name")||bXe&&e.name!==t)&&(V8?CC(e,"name",{value:t,configurable:!0}):e.name=t),MXe&&r&&MC(r,"arity")&&e.length!==r.arity&&CC(e,"length",{value:r.arity});try{r&&MC(r,"constructor")&&r.constructor?V8&&CC(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(i){}var n=wXe(e);return MC(n,"source")||(n.source=TXe(CXe,typeof t=="string"?t:"")),e};Function.prototype.toString=AXe(function(){return _Xe(this)&&SXe(this).source||xXe(this)},"toString")});var Gn=P((c0r,Foe)=>{"use strict";p();var PXe=Wr(),OXe=ui(),DXe=yw(),kXe=SC();Foe.exports=function(e,t,r,n){n||(n={});var i=n.enumerable,o=n.name!==void 0?n.name:t;if(PXe(r)&&DXe(r,o,n),n.global)i?e[t]=r:kXe(t,r);else{try{n.unsafe?e[t]&&(i=!0):delete e[t]}catch(u){}i?e[t]=r:OXe.f(e,t,{value:r,enumerable:!1,configurable:!n.nonConfigurable,writable:!n.nonWritable})}return e}});var G8=P((f0r,Boe)=>{"use strict";p();var NXe=Math.ceil,RXe=Math.floor;Boe.exports=Math.trunc||function(t){var r=+t;return(r>0?RXe:NXe)(r)}});var yi=P((h0r,Uoe)=>{"use strict";p();var LXe=G8();Uoe.exports=function(e){var t=+e;return t!==t||t===0?0:LXe(t)}});var Vu=P((g0r,Voe)=>{"use strict";p();var qXe=yi(),zXe=Math.max,jXe=Math.min;Voe.exports=function(e,t){var r=qXe(e);return r<0?zXe(r+t,0):jXe(r,t)}});var zs=P((y0r,$oe)=>{"use strict";p();var FXe=yi(),BXe=Math.min;$oe.exports=function(e){var t=FXe(e);return t>0?BXe(t,9007199254740991):0}});var gn=P((b0r,Goe)=>{"use strict";p();var UXe=zs();Goe.exports=function(e){return UXe(e.length)}});var f0=P((w0r,Woe)=>{"use strict";p();var VXe=bo(),$Xe=Vu(),GXe=gn(),Hoe=function(e){return function(t,r,n){var i=VXe(t),o=GXe(i);if(o===0)return!e&&-1;var u=$Xe(n,o),d;if(e&&r!==r){for(;o>u;)if(d=i[u++],d!==d)return!0}else for(;o>u;u++)if((e||u in i)&&i[u]===r)return e||u||0;return!e&&-1}};Woe.exports={includes:Hoe(!0),indexOf:Hoe(!1)}});var W8=P((E0r,Yoe)=>{"use strict";p();var HXe=mt(),H8=Xr(),WXe=bo(),ZXe=f0().indexOf,YXe=p0(),Zoe=HXe([].push);Yoe.exports=function(e,t){var r=WXe(e),n=0,i=[],o;for(o in r)!H8(YXe,o)&&H8(r,o)&&Zoe(i,o);for(;t.length>n;)H8(r,o=t[n++])&&(~ZXe(i,o)||Zoe(i,o));return i}});var AC=P((T0r,Koe)=>{"use strict";p();Koe.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]});var ih=P(Xoe=>{"use strict";p();var KXe=W8(),XXe=AC(),QXe=XXe.concat("length","prototype");Xoe.f=Object.getOwnPropertyNames||function(t){return KXe(t,QXe)}});var _w=P(Qoe=>{"use strict";p();Qoe.f=Object.getOwnPropertySymbols});var PC=P((D0r,Joe)=>{"use strict";p();var JXe=Mr(),eQe=mt(),tQe=ih(),rQe=_w(),nQe=Yt(),iQe=eQe([].concat);Joe.exports=JXe("Reflect","ownKeys")||function(t){var r=tQe.f(nQe(t)),n=rQe.f;return n?iQe(r,n(t)):r}});var fg=P((N0r,tae)=>{"use strict";p();var eae=Xr(),oQe=PC(),aQe=$o(),sQe=ui();tae.exports=function(e,t,r){for(var n=oQe(t),i=sQe.f,o=aQe.f,u=0;u<n.length;u++){var d=n[u];!eae(e,d)&&!(r&&eae(r,d))&&i(e,d,o(t,d))}}});var d0=P((L0r,rae)=>{"use strict";p();var lQe=Mt(),uQe=Wr(),cQe=/#|\.prototype\./,bw=function(e,t){var r=fQe[pQe(e)];return r===hQe?!0:r===dQe?!1:uQe(t)?lQe(t):!!t},pQe=bw.normalize=function(e){return String(e).replace(cQe,".").toLowerCase()},fQe=bw.data={},dQe=bw.NATIVE="N",hQe=bw.POLYFILL="P";rae.exports=bw});var ie=P((z0r,nae)=>{"use strict";p();var OC=Gt(),mQe=$o().f,gQe=xo(),vQe=Gn(),yQe=SC(),_Qe=fg(),bQe=d0();nae.exports=function(e,t){var r=e.target,n=e.global,i=e.stat,o,u,d,g,_,I;if(n?u=OC:i?u=OC[r]||yQe(r,{}):u=OC[r]&&OC[r].prototype,u)for(d in t){if(_=t[d],e.dontCallGetSet?(I=mQe(u,d),g=I&&I.value):g=u[d],o=bQe(n?d:r+(i?".":"#")+d,e.forced),!o&&g!==void 0){if(typeof _==typeof g)continue;_Qe(_,g)}(e.sham||g&&g.sham)&&gQe(_,"sham",!0),vQe(u,d,_,e)}}});var DC=P((F0r,oae)=>{"use strict";p();var xQe=Ir(),wQe=xQe("toStringTag"),iae={};iae[wQe]="z";oae.exports=String(iae)==="[object z]"});var hs=P((U0r,aae)=>{"use strict";p();var SQe=DC(),EQe=Wr(),kC=ca(),IQe=Ir(),TQe=IQe("toStringTag"),MQe=Object,CQe=kC(function(){return arguments}())==="Arguments",AQe=function(e,t){try{return e[t]}catch(r){}};aae.exports=SQe?kC:function(e){var t,r,n;return e===void 0?"Undefined":e===null?"Null":typeof(r=AQe(t=MQe(e),TQe))=="string"?r:CQe?kC(t):(n=kC(t))==="Object"&&EQe(t.callee)?"Arguments":n}});var Lr=P(($0r,sae)=>{"use strict";p();var PQe=hs(),OQe=String;sae.exports=function(e){if(PQe(e)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return OQe(e)}});var dg=P((H0r,lae)=>{"use strict";p();var DQe=W8(),kQe=AC();lae.exports=Object.keys||function(t){return DQe(t,kQe)}});var NC=P(uae=>{"use strict";p();var NQe=hr(),RQe=O8(),LQe=ui(),qQe=Yt(),zQe=bo(),jQe=dg();uae.f=NQe&&!RQe?Object.defineProperties:function(t,r){qQe(t);for(var n=zQe(r),i=jQe(r),o=i.length,u=0,d;o>u;)LQe.f(t,d=i[u++],n[d]);return t}});var Z8=P((K0r,cae)=>{"use strict";p();var FQe=Mr();cae.exports=FQe("document","documentElement")});var Xi=P((Q0r,vae)=>{"use strict";p();var BQe=Yt(),UQe=NC(),pae=AC(),VQe=p0(),$Qe=Z8(),GQe=hw(),HQe=gw(),fae=">",dae="<",K8="prototype",X8="script",mae=HQe("IE_PROTO"),Y8=function(){},gae=function(e){return dae+X8+fae+e+dae+"/"+X8+fae},hae=function(e){e.write(gae("")),e.close();var t=e.parentWindow.Object;return e=null,t},WQe=function(){var e=GQe("iframe"),t="java"+X8+":",r;return e.style.display="none",$Qe.appendChild(e),e.src=String(t),r=e.contentWindow.document,r.open(),r.write(gae("document.F=Object")),r.close(),r.F},RC,LC=function(){try{RC=new ActiveXObject("htmlfile")}catch(t){}LC=typeof document!="undefined"?document.domain&&RC?hae(RC):WQe():hae(RC);for(var e=pae.length;e--;)delete LC[K8][pae[e]];return LC()};VQe[mae]=!0;vae.exports=Object.create||function(t,r){var n;return t!==null?(Y8[K8]=BQe(t),n=new Y8,Y8[K8]=null,n[mae]=t):n=LC(),r===void 0?n:UQe.f(n,r)}});var js=P((e1r,yae)=>{"use strict";p();var ZQe=mt();yae.exports=ZQe([].slice)});var qC=P((r1r,xae)=>{"use strict";p();var YQe=ca(),KQe=bo(),_ae=ih().f,XQe=js(),bae=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],QQe=function(e){try{return _ae(e)}catch(t){return XQe(bae)}};xae.exports.f=function(t){return bae&&YQe(t)==="Window"?QQe(t):_ae(KQe(t))}});var _i=P((i1r,Sae)=>{"use strict";p();var wae=yw(),JQe=ui();Sae.exports=function(e,t,r){return r.get&&wae(r.get,t,{getter:!0}),r.set&&wae(r.set,t,{setter:!0}),JQe.f(e,t,r)}});var Q8=P(Eae=>{"use strict";p();var eJe=Ir();Eae.f=eJe});var zC=P((l1r,Iae)=>{"use strict";p();var tJe=Gt();Iae.exports=tJe});var Ri=P((c1r,Mae)=>{"use strict";p();var Tae=zC(),rJe=Xr(),nJe=Q8(),iJe=ui().f;Mae.exports=function(e){var t=Tae.Symbol||(Tae.Symbol={});rJe(t,e)||iJe(t,e,{value:nJe.f(e)})}});var J8=P((f1r,Cae)=>{"use strict";p();var oJe=Ht(),aJe=Mr(),sJe=Ir(),lJe=Gn();Cae.exports=function(){var e=aJe("Symbol"),t=e&&e.prototype,r=t&&t.valueOf,n=sJe("toPrimitive");t&&!t[n]&&lJe(t,n,function(i){return oJe(r,this)},{arity:1})}});var ms=P((h1r,Pae)=>{"use strict";p();var uJe=ui().f,cJe=Xr(),pJe=Ir(),Aae=pJe("toStringTag");Pae.exports=function(e,t,r){e&&!r&&(e=e.prototype),e&&!cJe(e,Aae)&&uJe(e,Aae,{configurable:!0,value:t})}});var oh=P((g1r,Oae)=>{"use strict";p();var fJe=ca(),dJe=mt();Oae.exports=function(e){if(fJe(e)==="Function")return dJe(e)}});var Jn=P((y1r,kae)=>{"use strict";p();var Dae=oh(),hJe=Cr(),mJe=u0(),gJe=Dae(Dae.bind);kae.exports=function(e,t){return hJe(e),t===void 0?e:mJe?gJe(e,t):function(){return e.apply(t,arguments)}}});var $u=P((b1r,Nae)=>{"use strict";p();var vJe=ca();Nae.exports=Array.isArray||function(t){return vJe(t)==="Array"}});var Gu=P((w1r,jae)=>{"use strict";p();var yJe=mt(),_Je=Mt(),Rae=Wr(),bJe=hs(),xJe=Mr(),wJe=mw(),Lae=function(){},qae=xJe("Reflect","construct"),e7=/^\s*(?:class|function)\b/,SJe=yJe(e7.exec),EJe=!e7.test(Lae),xw=function(t){if(!Rae(t))return!1;try{return qae(Lae,[],t),!0}catch(r){return!1}},zae=function(t){if(!Rae(t))return!1;switch(bJe(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return EJe||!!SJe(e7,wJe(t))}catch(r){return!0}};zae.sham=!0;jae.exports=!qae||_Je(function(){var e;return xw(xw.call)||!xw(Object)||!xw(function(){e=!0})||e})?zae:xw});var Vae=P((E1r,Uae)=>{"use strict";p();var Fae=$u(),IJe=Gu(),TJe=xr(),MJe=Ir(),CJe=MJe("species"),Bae=Array;Uae.exports=function(e){var t;return Fae(e)&&(t=e.constructor,IJe(t)&&(t===Bae||Fae(t.prototype))?t=void 0:TJe(t)&&(t=t[CJe],t===null&&(t=void 0))),t===void 0?Bae:t}});var h0=P((T1r,$ae)=>{"use strict";p();var AJe=Vae();$ae.exports=function(e,t){return new(AJe(e))(t===0?0:t)}});var Qi=P((C1r,Hae)=>{"use strict";p();var PJe=Jn(),OJe=mt(),DJe=hf(),kJe=ln(),NJe=gn(),RJe=h0(),Gae=OJe([].push),ah=function(e){var t=e===1,r=e===2,n=e===3,i=e===4,o=e===6,u=e===7,d=e===5||o;return function(g,_,I,T){for(var A=kJe(g),q=DJe(A),z=NJe(q),U=PJe(_,I),N=0,L=T||RJe,F=t?L(g,z):r||u?L(g,0):void 0,H,Y;z>N;N++)if((d||N in q)&&(H=q[N],Y=U(H,N,A),e))if(t)F[N]=Y;else if(Y)switch(e){case 3:return!0;case 5:return H;case 6:return N;case 2:Gae(F,H)}else switch(e){case 4:return!1;case 7:Gae(F,H)}return o?-1:n||i?i:F}};Hae.exports={forEach:ah(0),map:ah(1),filter:ah(2),some:ah(3),every:ah(4),find:ah(5),findIndex:ah(6),filterReject:ah(7)}});var use=P(()=>{"use strict";p();var jC=ie(),Ew=Gt(),u7=Ht(),LJe=mt(),qJe=In(),m0=hr(),g0=th(),zJe=Mt(),Go=Xr(),jJe=pa(),i7=Yt(),FC=bo(),c7=Wc(),FJe=Lr(),o7=Ls(),v0=Xi(),Yae=dg(),BJe=ih(),Kae=qC(),UJe=_w(),Xae=$o(),Qae=ui(),VJe=NC(),Jae=pw(),t7=Gn(),$Je=_i(),p7=gf(),GJe=gw(),ese=p0(),Wae=nh(),HJe=Ir(),WJe=Q8(),ZJe=Ri(),YJe=J8(),KJe=ms(),tse=jn(),BC=Qi().forEach,Fs=GJe("hidden"),UC="Symbol",Sw="prototype",XJe=tse.set,Zae=tse.getterFor(UC),Xl=Object[Sw],hg=Ew.Symbol,ww=hg&&hg[Sw],QJe=Ew.RangeError,JJe=Ew.TypeError,r7=Ew.QObject,rse=Xae.f,mg=Qae.f,nse=Kae.f,eet=Jae.f,ise=LJe([].push),vf=p7("symbols"),Iw=p7("op-symbols"),tet=p7("wks"),a7=!r7||!r7[Sw]||!r7[Sw].findChild,ose=function(e,t,r){var n=rse(Xl,t);n&&delete Xl[t],mg(e,t,r),n&&e!==Xl&&mg(Xl,t,n)},s7=m0&&zJe(function(){return v0(mg({},"a",{get:function(){return mg(this,"a",{value:7}).a}})).a!==7})?ose:mg,n7=function(e,t){var r=vf[e]=v0(ww);return XJe(r,{type:UC,tag:e,description:t}),m0||(r.description=t),r},VC=function(t,r,n){t===Xl&&VC(Iw,r,n),i7(t);var i=c7(r);return i7(n),Go(vf,i)?(n.enumerable?(Go(t,Fs)&&t[Fs][i]&&(t[Fs][i]=!1),n=v0(n,{enumerable:o7(0,!1)})):(Go(t,Fs)||mg(t,Fs,o7(1,v0(null))),t[Fs][i]=!0),s7(t,i,n)):mg(t,i,n)},f7=function(t,r){i7(t);var n=FC(r),i=Yae(n).concat(lse(n));return BC(i,function(o){(!m0||u7(l7,n,o))&&VC(t,o,n[o])}),t},ret=function(t,r){return r===void 0?v0(t):f7(v0(t),r)},l7=function(t){var r=c7(t),n=u7(eet,this,r);return this===Xl&&Go(vf,r)&&!Go(Iw,r)?!1:n||!Go(this,r)||!Go(vf,r)||Go(this,Fs)&&this[Fs][r]?n:!0},ase=function(t,r){var n=FC(t),i=c7(r);if(!(n===Xl&&Go(vf,i)&&!Go(Iw,i))){var o=rse(n,i);return o&&Go(vf,i)&&!(Go(n,Fs)&&n[Fs][i])&&(o.enumerable=!0),o}},sse=function(t){var r=nse(FC(t)),n=[];return BC(r,function(i){!Go(vf,i)&&!Go(ese,i)&&ise(n,i)}),n},lse=function(e){var t=e===Xl,r=nse(t?Iw:FC(e)),n=[];return BC(r,function(i){Go(vf,i)&&(!t||Go(Xl,i))&&ise(n,vf[i])}),n};g0||(hg=function(){if(jJe(ww,this))throw new JJe("Symbol is not a constructor");var t=!arguments.length||arguments[0]===void 0?void 0:FJe(arguments[0]),r=Wae(t),n=function(i){var o=this===void 0?Ew:this;o===Xl&&u7(n,Iw,i),Go(o,Fs)&&Go(o[Fs],r)&&(o[Fs][r]=!1);var u=o7(1,i);try{s7(o,r,u)}catch(d){if(!(d instanceof QJe))throw d;ose(o,r,u)}};return m0&&a7&&s7(Xl,r,{configurable:!0,set:n}),n7(r,t)},ww=hg[Sw],t7(ww,"toString",function(){return Zae(this).tag}),t7(hg,"withoutSetter",function(e){return n7(Wae(e),e)}),Jae.f=l7,Qae.f=VC,VJe.f=f7,Xae.f=ase,BJe.f=Kae.f=sse,UJe.f=lse,WJe.f=function(e){return n7(HJe(e),e)},m0&&($Je(ww,"description",{configurable:!0,get:function(){return Zae(this).description}}),qJe||t7(Xl,"propertyIsEnumerable",l7,{unsafe:!0})));jC({global:!0,constructor:!0,wrap:!0,forced:!g0,sham:!g0},{Symbol:hg});BC(Yae(tet),function(e){ZJe(e)});jC({target:UC,stat:!0,forced:!g0},{useSetter:function(){a7=!0},useSimple:function(){a7=!1}});jC({target:"Object",stat:!0,forced:!g0,sham:!m0},{create:ret,defineProperty:VC,defineProperties:f7,getOwnPropertyDescriptor:ase});jC({target:"Object",stat:!0,forced:!g0},{getOwnPropertyNames:sse});YJe();KJe(hg,UC);ese[Fs]=!0});var d7=P((k1r,cse)=>{"use strict";p();var net=th();cse.exports=net&&!!Symbol.for&&!!Symbol.keyFor});var fse=P(()=>{"use strict";p();var iet=ie(),oet=Mr(),aet=Xr(),set=Lr(),pse=gf(),uet=d7(),h7=pse("string-to-symbol-registry"),cet=pse("symbol-to-string-registry");iet({target:"Symbol",stat:!0,forced:!uet},{for:function(e){var t=set(e);if(aet(h7,t))return h7[t];var r=oet("Symbol")(t);return h7[t]=r,cet[r]=t,r}})});var hse=P(()=>{"use strict";p();var pet=ie(),fet=Xr(),det=mf(),het=rh(),met=gf(),get=d7(),dse=met("symbol-to-string-registry");pet({target:"Symbol",stat:!0,forced:!get},{keyFor:function(t){if(!det(t))throw new TypeError(het(t)+" is not a symbol");if(fet(dse,t))return dse[t]}})});var fa=P((B1r,yse)=>{"use strict";p();var vet=u0(),vse=Function.prototype,mse=vse.apply,gse=vse.call;yse.exports=typeof Reflect=="object"&&Reflect.apply||(vet?gse.bind(mse):function(){return gse.apply(mse,arguments)})});var m7=P((V1r,wse)=>{"use strict";p();var yet=mt(),_se=$u(),_et=Wr(),bse=ca(),bet=Lr(),xse=yet([].push);wse.exports=function(e){if(_et(e))return e;if(_se(e)){for(var t=e.length,r=[],n=0;n<t;n++){var i=e[n];typeof i=="string"?xse(r,i):(typeof i=="number"||bse(i)==="Number"||bse(i)==="String")&&xse(r,bet(i))}var o=r.length,u=!0;return function(d,g){if(u)return u=!1,g;if(_se(this))return g;for(var _=0;_<o;_++)if(r[_]===d)return g}}}});var g7=P(()=>{"use strict";p();var xet=ie(),Pse=Mr(),Ose=fa(),wet=Ht(),Tw=mt(),Dse=Mt(),Sse=Wr(),Ese=mf(),kse=js(),Eet=m7(),Iet=th(),Tet=String,sh=Pse("JSON","stringify"),$C=Tw(/./.exec),Ise=Tw("".charAt),Met=Tw("".charCodeAt),Cet=Tw("".replace),Aet=Tw(1 .toString),Pet=/[\uD800-\uDFFF]/g,Tse=/^[\uD800-\uDBFF]$/,Mse=/^[\uDC00-\uDFFF]$/,Cse=!Iet||Dse(function(){var e=Pse("Symbol")("stringify detection");return sh([e])!=="[null]"||sh({a:e})!=="{}"||sh(Object(e))!=="{}"}),Ase=Dse(function(){return sh("\uDF06\uD834")!=="\"\\udf06\\ud834\""||sh("\uDEAD")!=="\"\\udead\""}),Oet=function(e,t){var r=kse(arguments),n=Eet(t);if(!(!Sse(n)&&(e===void 0||Ese(e))))return r[1]=function(i,o){if(Sse(n)&&(o=wet(n,this,Tet(i),o)),!Ese(o))return o},Ose(sh,null,r)},Det=function(e,t,r){var n=Ise(r,t-1),i=Ise(r,t+1);return $C(Tse,e)&&!$C(Mse,i)||$C(Mse,e)&&!$C(Tse,n)?"\\u"+Aet(Met(e,0),16):e};sh&&xet({target:"JSON",stat:!0,arity:3,forced:Cse||Ase},{stringify:function(t,r,n){var i=kse(arguments),o=Ose(Cse?Oet:sh,null,i);return Ase&&typeof o=="string"?Cet(o,Pet,Det):o}})});var Rse=P(()=>{"use strict";p();var ket=ie(),Net=th(),Ret=Mt(),Nse=_w(),Let=ln(),qet=!Net||Ret(function(){Nse.f(1)});ket({target:"Object",stat:!0,forced:qet},{getOwnPropertySymbols:function(t){var r=Nse.f;return r?r(Let(t)):[]}})});var Lse=P(()=>{"use strict";p();use();fse();hse();g7();Rse()});var Vse=P(()=>{"use strict";p();var zet=ie(),jet=hr(),Fet=Gt(),GC=mt(),Bet=Xr(),Uet=Wr(),Vet=pa(),$et=Lr(),Get=_i(),Het=fg(),yf=Fet.Symbol,gg=yf&&yf.prototype;jet&&Uet(yf)&&(!("description"in gg)||yf().description!==void 0)&&(v7={},Mw=function(){var t=arguments.length<1||arguments[0]===void 0?void 0:$et(arguments[0]),r=Vet(gg,this)?new yf(t):t===void 0?yf():yf(t);return t===""&&(v7[r]=!0),r},Het(Mw,yf),Mw.prototype=gg,gg.constructor=Mw,qse=String(yf("description detection"))==="Symbol(description detection)",zse=GC(gg.valueOf),jse=GC(gg.toString),Fse=/^Symbol\((.*)\)[^)]+$/,Bse=GC("".replace),Use=GC("".slice),Get(gg,"description",{configurable:!0,get:function(){var t=zse(this);if(Bet(v7,t))return"";var r=jse(t),n=qse?Use(r,7,-1):Bse(r,Fse,"$1");return n===""?void 0:n}}),zet({global:!0,constructor:!0,forced:!0},{Symbol:Mw}));var v7,Mw,qse,zse,jse,Fse,Bse,Use});var $se=P(()=>{"use strict";p();var Wet=Ri();Wet("asyncIterator")});var Gse=P(()=>{"use strict";p();var Zet=Ri();Zet("hasInstance")});var Hse=P(()=>{"use strict";p();var Yet=Ri();Yet("isConcatSpreadable")});var Wse=P(()=>{"use strict";p();var Ket=Ri();Ket("iterator")});var Zse=P(()=>{"use strict";p();var Xet=Ri();Xet("match")});var Yse=P(()=>{"use strict";p();var Qet=Ri();Qet("matchAll")});var Kse=P(()=>{"use strict";p();var Jet=Ri();Jet("replace")});var Xse=P(()=>{"use strict";p();var ett=Ri();ett("search")});var Qse=P(()=>{"use strict";p();var ttt=Ri();ttt("species")});var Jse=P(()=>{"use strict";p();var rtt=Ri();rtt("split")});var ele=P(()=>{"use strict";p();var ntt=Ri(),itt=J8();ntt("toPrimitive");itt()});var tle=P(()=>{"use strict";p();var ott=Mr(),att=Ri(),stt=ms();att("toStringTag");stt(ott("Symbol"),"Symbol")});var rle=P(()=>{"use strict";p();var ltt=Ri();ltt("unscopables")});var Cw=P((U_r,nle)=>{"use strict";p();var utt=mt(),ctt=Cr();nle.exports=function(e,t,r){try{return utt(ctt(Object.getOwnPropertyDescriptor(e,t)[r]))}catch(n){}}});var y7=P(($_r,ile)=>{"use strict";p();var ptt=xr();ile.exports=function(e){return ptt(e)||e===null}});var _7=P((H_r,ole)=>{"use strict";p();var ftt=y7(),dtt=String,htt=TypeError;ole.exports=function(e){if(ftt(e))return e;throw new htt("Can't set "+dtt(e)+" as a prototype")}});var Ql=P((Z_r,ale)=>{"use strict";p();var mtt=Cw(),gtt=xr(),vtt=pi(),ytt=_7();ale.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e=!1,t={},r;try{r=mtt(Object.prototype,"__proto__","set"),r(t,[]),e=t instanceof Array}catch(n){}return function(i,o){return vtt(i),ytt(o),gtt(i)&&(e?r(i,o):i.__proto__=o),i}}():void 0)});var b7=P((K_r,sle)=>{"use strict";p();var _tt=ui().f;sle.exports=function(e,t,r){r in e||_tt(e,r,{configurable:!0,get:function(){return t[r]},set:function(n){t[r]=n}})}});var lh=P((Q_r,ule)=>{"use strict";p();var btt=Wr(),xtt=xr(),lle=Ql();ule.exports=function(e,t,r){var n,i;return lle&&btt(n=t.constructor)&&n!==r&&xtt(i=n.prototype)&&i!==r.prototype&&lle(e,i),e}});var vg=P((ebr,cle)=>{"use strict";p();var wtt=Lr();cle.exports=function(e,t){return e===void 0?arguments.length<2?"":t:wtt(e)}});var x7=P((rbr,ple)=>{"use strict";p();var Stt=xr(),Ett=xo();ple.exports=function(e,t){Stt(t)&&"cause"in t&&Ett(e,"cause",t.cause)}});var HC=P((ibr,hle)=>{"use strict";p();var Itt=mt(),fle=Error,Ttt=Itt("".replace),Mtt=function(e){return String(new fle(e).stack)}("zxcasd"),dle=/\n\s*at [^:]*:[^\n]*/,Ctt=dle.test(Mtt);hle.exports=function(e,t){if(Ctt&&typeof e=="string"&&!fle.prepareStackTrace)for(;t--;)e=Ttt(e,dle,"");return e}});var w7=P((abr,mle)=>{"use strict";p();var Att=Mt(),Ptt=Ls();mle.exports=!Att(function(){var e=new Error("a");return"stack"in e?(Object.defineProperty(e,"stack",Ptt(1,7)),e.stack!==7):!0})});var WC=P((lbr,vle)=>{"use strict";p();var Ott=xo(),Dtt=HC(),ktt=w7(),gle=Error.captureStackTrace;vle.exports=function(e,t,r,n){ktt&&(gle?gle(e,t):Ott(e,"stack",Dtt(r,n)))}});var S7=P((cbr,Ele)=>{"use strict";p();var yle=Mr(),Ntt=Xr(),_le=xo(),Rtt=pa(),ble=Ql(),xle=fg(),wle=b7(),Ltt=lh(),qtt=vg(),ztt=x7(),jtt=WC(),Ftt=hr(),Sle=In();Ele.exports=function(e,t,r,n){var i="stackTraceLimit",o=n?2:1,u=e.split("."),d=u[u.length-1],g=yle.apply(null,u);if(g){var _=g.prototype;if(!Sle&&Ntt(_,"cause")&&delete _.cause,!r)return g;var I=yle("Error"),T=t(function(A,q){var z=qtt(n?q:A,void 0),U=n?new g(A):new g;return z!==void 0&&_le(U,"message",z),jtt(U,T,U.stack,2),this&&Rtt(_,this)&&Ltt(U,this,T),arguments.length>o&&ztt(U,arguments[o]),U});if(T.prototype=_,d!=="Error"?ble?ble(T,I):xle(T,I,{name:!0}):Ftt&&i in g&&(wle(T,g,i),wle(T,g,"prepareStackTrace")),xle(T,g),!Sle)try{_.name!==d&&_le(_,"name",d),_.constructor=T}catch(A){}return T}}});var Cle=P(()=>{"use strict";p();var Tle=ie(),Btt=Gt(),Zc=fa(),Mle=S7(),E7="WebAssembly",Ile=Btt[E7],ZC=new Error("e",{cause:7}).cause!==7,yg=function(e,t){var r={};r[e]=Mle(e,t,ZC),Tle({global:!0,constructor:!0,arity:1,forced:ZC},r)},I7=function(e,t){if(Ile&&Ile[e]){var r={};r[e]=Mle(E7+"."+e,t,ZC),Tle({target:E7,stat:!0,constructor:!0,arity:1,forced:ZC},r)}};yg("Error",function(e){return function(r){return Zc(e,this,arguments)}});yg("EvalError",function(e){return function(r){return Zc(e,this,arguments)}});yg("RangeError",function(e){return function(r){return Zc(e,this,arguments)}});yg("ReferenceError",function(e){return function(r){return Zc(e,this,arguments)}});yg("SyntaxError",function(e){return function(r){return Zc(e,this,arguments)}});yg("TypeError",function(e){return function(r){return Zc(e,this,arguments)}});yg("URIError",function(e){return function(r){return Zc(e,this,arguments)}});I7("CompileError",function(e){return function(r){return Zc(e,this,arguments)}});I7("LinkError",function(e){return function(r){return Zc(e,this,arguments)}});I7("RuntimeError",function(e){return function(r){return Zc(e,this,arguments)}})});var T7=P((mbr,Ple)=>{"use strict";p();var Utt=hr(),Vtt=Mt(),$tt=Yt(),Ale=vg(),YC=Error.prototype.toString,Gtt=Vtt(function(){if(Utt){var e=Object.create(Object.defineProperty({},"name",{get:function(){return this===e}}));if(YC.call(e)!=="true")return!0}return YC.call({message:1,name:2})!=="2: 1"||YC.call({})!=="Error"});Ple.exports=Gtt?function(){var t=$tt(this),r=Ale(t.name,"Error"),n=Ale(t.message);return r?n?r+": "+n:r:n}:YC});var kle=P(()=>{"use strict";p();var Htt=Gn(),Ole=T7(),Dle=Error.prototype;Dle.toString!==Ole&&Htt(Dle,"toString",Ole)});var KC=P((bbr,Nle)=>{"use strict";p();var Wtt=Mt();Nle.exports=!Wtt(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})});var wo=P((wbr,Lle)=>{"use strict";p();var Ztt=Xr(),Ytt=Wr(),Ktt=ln(),Xtt=gw(),Qtt=KC(),Rle=Xtt("IE_PROTO"),M7=Object,Jtt=M7.prototype;Lle.exports=Qtt?M7.getPrototypeOf:function(e){var t=Ktt(e);if(Ztt(t,Rle))return t[Rle];var r=t.constructor;return Ytt(r)&&t instanceof r?r.prototype:t instanceof M7?Jtt:null}});var _g=P((Ebr,qle)=>{"use strict";p();qle.exports={}});var XC=P((Tbr,zle)=>{"use strict";p();var ert=Ir(),trt=_g(),rrt=ert("iterator"),nrt=Array.prototype;zle.exports=function(e){return e!==void 0&&(trt.Array===e||nrt[rrt]===e)}});var Yc=P((Cbr,Fle)=>{"use strict";p();var irt=hs(),jle=Ki(),ort=qs(),art=_g(),srt=Ir(),lrt=srt("iterator");Fle.exports=function(e){if(!ort(e))return jle(e,lrt)||jle(e,"@@iterator")||art[irt(e)]}});var uh=P((Pbr,Ble)=>{"use strict";p();var urt=Ht(),crt=Cr(),prt=Yt(),frt=rh(),drt=Yc(),hrt=TypeError;Ble.exports=function(e,t){var r=arguments.length<2?drt(e):t;if(crt(r))return prt(urt(r,e));throw new hrt(frt(e)+" is not iterable")}});var Ho=P((Dbr,Vle)=>{"use strict";p();var mrt=Ht(),Ule=Yt(),grt=Ki();Vle.exports=function(e,t,r){var n,i;Ule(e);try{if(n=grt(e,"return"),!n){if(t==="throw")throw r;return r}n=mrt(n,e)}catch(o){i=!0,n=o}if(t==="throw")throw r;if(i)throw n;return Ule(n),r}});var Li=P((Nbr,Wle)=>{"use strict";p();var vrt=Jn(),yrt=Ht(),_rt=Yt(),brt=rh(),xrt=XC(),wrt=gn(),$le=pa(),Srt=uh(),Ert=Yc(),Gle=Ho(),Irt=TypeError,QC=function(e,t){this.stopped=e,this.result=t},Hle=QC.prototype;Wle.exports=function(e,t,r){var n=r&&r.that,i=!!(r&&r.AS_ENTRIES),o=!!(r&&r.IS_RECORD),u=!!(r&&r.IS_ITERATOR),d=!!(r&&r.INTERRUPTED),g=vrt(t,n),_,I,T,A,q,z,U,N=function(F){return _&&Gle(_,"normal",F),new QC(!0,F)},L=function(F){return i?(_rt(F),d?g(F[0],F[1],N):g(F[0],F[1])):d?g(F,N):g(F)};if(o)_=e.iterator;else if(u)_=e;else{if(I=Ert(e),!I)throw new Irt(brt(e)+" is not iterable");if(xrt(I)){for(T=0,A=wrt(e);A>T;T++)if(q=L(e[T]),q&&$le(Hle,q))return q;return new QC(!1)}_=Srt(e,I)}for(z=o?e.next:_.next;!(U=yrt(z,_)).done;){try{q=L(U.value)}catch(F){Gle(_,"throw",F)}if(typeof q=="object"&&q&&$le(Hle,q))return q}return new QC(!1)}});var Yle=P(()=>{"use strict";p();var Trt=ie(),Mrt=pa(),Crt=wo(),JC=Ql(),Art=fg(),Zle=Xi(),C7=xo(),A7=Ls(),Prt=x7(),Ort=WC(),Drt=Li(),krt=vg(),Nrt=Ir(),Rrt=Nrt("toStringTag"),eA=Error,Lrt=[].push,y0=function(t,r){var n=Mrt(P7,this),i;JC?i=JC(new eA,n?Crt(this):P7):(i=n?this:Zle(P7),C7(i,Rrt,"Error")),r!==void 0&&C7(i,"message",krt(r)),Ort(i,y0,i.stack,1),arguments.length>2&&Prt(i,arguments[2]);var o=[];return Drt(t,Lrt,{that:o}),C7(i,"errors",o),i};JC?JC(y0,eA):Art(y0,eA,{name:!0});var P7=y0.prototype=Zle(eA.prototype,{constructor:A7(1,y0),message:A7(1,""),name:A7(1,"AggregateError")});Trt({global:!0,constructor:!0,arity:2},{AggregateError:y0})});var O7=P(()=>{"use strict";p();Yle()});var Jle=P(()=>{"use strict";p();var qrt=ie(),zrt=Mr(),jrt=fa(),Kle=Mt(),Frt=S7(),D7="AggregateError",Xle=zrt(D7),Qle=!Kle(function(){return Xle([1]).errors[0]!==1})&&Kle(function(){return Xle([1],D7,{cause:7}).cause!==7});qrt({global:!0,constructor:!0,arity:2,forced:Qle},{AggregateError:Frt(D7,function(e){return function(r,n){return jrt(e,this,arguments)}},Qle,!0)})});var qi=P((Gbr,eue)=>{"use strict";p();var Brt=Ir(),Urt=Xi(),Vrt=ui().f,k7=Brt("unscopables"),N7=Array.prototype;N7[k7]===void 0&&Vrt(N7,k7,{configurable:!0,value:Urt(null)});eue.exports=function(e){N7[k7][e]=!0}});var R7=P(()=>{"use strict";p();var $rt=ie(),Grt=ln(),Hrt=gn(),Wrt=yi(),Zrt=qi();$rt({target:"Array",proto:!0},{at:function(t){var r=Grt(this),n=Hrt(r),i=Wrt(t),o=i>=0?i:n+i;return o<0||o>=n?void 0:r[o]}});Zrt("at")});var ch=P((Kbr,tue)=>{"use strict";p();var Yrt=TypeError,Krt=9007199254740991;tue.exports=function(e){if(e>Krt)throw Yrt("Maximum allowed index exceeded");return e}});var Jl=P((Qbr,rue)=>{"use strict";p();var Xrt=hr(),Qrt=ui(),Jrt=Ls();rue.exports=function(e,t,r){Xrt?Qrt.f(e,t,Jrt(0,r)):e[t]=r}});var _0=P((exr,nue)=>{"use strict";p();var ent=Mt(),tnt=Ir(),rnt=Bu(),nnt=tnt("species");nue.exports=function(e){return rnt>=51||!ent(function(){var t=[],r=t.constructor={};return r[nnt]=function(){return{foo:1}},t[e](Boolean).foo!==1})}});var sue=P(()=>{"use strict";p();var int=ie(),ont=Mt(),ant=$u(),snt=xr(),lnt=ln(),unt=gn(),iue=ch(),oue=Jl(),cnt=h0(),pnt=_0(),fnt=Ir(),dnt=Bu(),aue=fnt("isConcatSpreadable"),hnt=dnt>=51||!ont(function(){var e=[];return e[aue]=!1,e.concat()[0]!==e}),mnt=function(e){if(!snt(e))return!1;var t=e[aue];return t!==void 0?!!t:ant(e)},gnt=!hnt||!pnt("concat");int({target:"Array",proto:!0,arity:1,forced:gnt},{concat:function(t){var r=lnt(this),n=cnt(r,0),i=0,o,u,d,g,_;for(o=-1,d=arguments.length;o<d;o++)if(_=o===-1?r:arguments[o],mnt(_))for(g=unt(_),iue(i+g),u=0;u<g;u++,i++)u in _&&oue(n,i,_[u]);else iue(i+1),oue(n,i++,_);return n.length=i,n}})});var Aw=P((oxr,uue)=>{"use strict";p();var lue=rh(),vnt=TypeError;uue.exports=function(e,t){if(!delete e[t])throw new vnt("Cannot delete property "+lue(t)+" of "+lue(e))}});var q7=P((sxr,cue)=>{"use strict";p();var ynt=ln(),L7=Vu(),_nt=gn(),bnt=Aw(),xnt=Math.min;cue.exports=[].copyWithin||function(t,r){var n=ynt(this),i=_nt(n),o=L7(t,i),u=L7(r,i),d=arguments.length>2?arguments[2]:void 0,g=xnt((d===void 0?i:L7(d,i))-u,i-o),_=1;for(u<o&&o<u+g&&(_=-1,u+=g-1,o+=g-1);g-->0;)u in n?n[o]=n[u]:bnt(n,o),o+=_,u+=_;return n}});var pue=P(()=>{"use strict";p();var wnt=ie(),Snt=q7(),Ent=qi();wnt({target:"Array",proto:!0},{copyWithin:Snt});Ent("copyWithin")});var eu=P((fxr,fue)=>{"use strict";p();var Int=Mt();fue.exports=function(e,t){var r=[][e];return!!r&&Int(function(){r.call(null,t||function(){return 1},1)})}});var due=P(()=>{"use strict";p();var Tnt=ie(),Mnt=Qi().every,Cnt=eu(),Ant=Cnt("every");Tnt({target:"Array",proto:!0,forced:!Ant},{every:function(t){return Mnt(this,t,arguments.length>1?arguments[1]:void 0)}})});var tA=P((vxr,mue)=>{"use strict";p();var Pnt=ln(),hue=Vu(),Ont=gn();mue.exports=function(t){for(var r=Pnt(this),n=Ont(r),i=arguments.length,o=hue(i>1?arguments[1]:void 0,n),u=i>2?arguments[2]:void 0,d=u===void 0?n:hue(u,n);d>o;)r[o++]=t;return r}});var gue=P(()=>{"use strict";p();var Dnt=ie(),knt=tA(),Nnt=qi();Dnt({target:"Array",proto:!0},{fill:knt});Nnt("fill")});var vue=P(()=>{"use strict";p();var Rnt=ie(),Lnt=Qi().filter,qnt=_0(),znt=qnt("filter");Rnt({target:"Array",proto:!0,forced:!znt},{filter:function(t){return Lnt(this,t,arguments.length>1?arguments[1]:void 0)}})});var _ue=P(()=>{"use strict";p();var jnt=ie(),Fnt=Qi().find,Bnt=qi(),z7="find",yue=!0;z7 in[]&&Array(1)[z7](function(){yue=!1});jnt({target:"Array",proto:!0,forced:yue},{find:function(t){return Fnt(this,t,arguments.length>1?arguments[1]:void 0)}});Bnt(z7)});var xue=P(()=>{"use strict";p();var Unt=ie(),Vnt=Qi().findIndex,$nt=qi(),j7="findIndex",bue=!0;j7 in[]&&Array(1)[j7](function(){bue=!1});Unt({target:"Array",proto:!0,forced:bue},{findIndex:function(t){return Vnt(this,t,arguments.length>1?arguments[1]:void 0)}});$nt(j7)});var Pw=P((Oxr,Sue)=>{"use strict";p();var Gnt=Jn(),Hnt=hf(),Wnt=ln(),Znt=gn(),wue=function(e){var t=e===1;return function(r,n,i){for(var o=Wnt(r),u=Hnt(o),d=Znt(u),g=Gnt(n,i),_,I;d-->0;)if(_=u[d],I=g(_,d,o),I)switch(e){case 0:return _;case 1:return d}return t?-1:void 0}};Sue.exports={findLast:wue(0),findLastIndex:wue(1)}});var F7=P(()=>{"use strict";p();var Ynt=ie(),Knt=Pw().findLast,Xnt=qi();Ynt({target:"Array",proto:!0},{findLast:function(t){return Knt(this,t,arguments.length>1?arguments[1]:void 0)}});Xnt("findLast")});var B7=P(()=>{"use strict";p();var Qnt=ie(),Jnt=Pw().findLastIndex,eit=qi();Qnt({target:"Array",proto:!0},{findLastIndex:function(t){return Jnt(this,t,arguments.length>1?arguments[1]:void 0)}});eit("findLastIndex")});var U7=P((jxr,Iue)=>{"use strict";p();var tit=$u(),rit=gn(),nit=ch(),iit=Jn(),Eue=function(e,t,r,n,i,o,u,d){for(var g=i,_=0,I=u?iit(u,d):!1,T,A;_<n;)_ in r&&(T=I?I(r[_],_,t):r[_],o>0&&tit(T)?(A=rit(T),g=Eue(e,t,T,A,g,o-1)-1):(nit(g+1),e[g]=T),g++),_++;return g};Iue.exports=Eue});var Tue=P(()=>{"use strict";p();var oit=ie(),ait=U7(),sit=ln(),lit=gn(),uit=yi(),cit=h0();oit({target:"Array",proto:!0},{flat:function(){var t=arguments.length?arguments[0]:void 0,r=sit(this),n=lit(r),i=cit(r,0);return i.length=ait(i,r,r,n,0,t===void 0?1:uit(t)),i}})});var Mue=P(()=>{"use strict";p();var pit=ie(),fit=U7(),dit=Cr(),hit=ln(),mit=gn(),git=h0();pit({target:"Array",proto:!0},{flatMap:function(t){var r=hit(this),n=mit(r),i;return dit(t),i=git(r,0),i.length=fit(i,r,r,n,0,1,t,arguments.length>1?arguments[1]:void 0),i}})});var V7=P((Wxr,Cue)=>{"use strict";p();var vit=Qi().forEach,yit=eu(),_it=yit("forEach");Cue.exports=_it?[].forEach:function(t){return vit(this,t,arguments.length>1?arguments[1]:void 0)}});var Pue=P(()=>{"use strict";p();var bit=ie(),Aue=V7();bit({target:"Array",proto:!0,forced:[].forEach!==Aue},{forEach:Aue})});var rA=P((Qxr,Oue)=>{"use strict";p();var xit=Yt(),wit=Ho();Oue.exports=function(e,t,r,n){try{return n?t(xit(r)[0],r[1]):t(r)}catch(i){wit(e,"throw",i)}}});var $7=P((ewr,Nue)=>{"use strict";p();var Sit=Jn(),Eit=Ht(),Iit=ln(),Tit=rA(),Mit=XC(),Cit=Gu(),Ait=gn(),Due=Jl(),Pit=uh(),Oit=Yc(),kue=Array;Nue.exports=function(t){var r=Iit(t),n=Cit(this),i=arguments.length,o=i>1?arguments[1]:void 0,u=o!==void 0;u&&(o=Sit(o,i>2?arguments[2]:void 0));var d=Oit(r),g=0,_,I,T,A,q,z;if(d&&!(this===kue&&Mit(d)))for(I=n?new this:[],A=Pit(r,d),q=A.next;!(T=Eit(q,A)).done;g++)z=u?Tit(A,o,[T.value,g],!0):T.value,Due(I,g,z);else for(_=Ait(r),I=n?new this(_):kue(_);_>g;g++)z=u?o(r[g],g):r[g],Due(I,g,z);return I.length=g,I}});var Ow=P((rwr,zue)=>{"use strict";p();var Dit=Ir(),Lue=Dit("iterator"),que=!1;try{Rue=0,G7={next:function(){return{done:!!Rue++}},return:function(){que=!0}},G7[Lue]=function(){return this},Array.from(G7,function(){throw 2})}catch(e){}var Rue,G7;zue.exports=function(e,t){try{if(!t&&!que)return!1}catch(i){return!1}var r=!1;try{var n={};n[Lue]=function(){return{next:function(){return{done:r=!0}}}},e(n)}catch(i){}return r}});var jue=P(()=>{"use strict";p();var kit=ie(),Nit=$7(),Rit=Ow(),Lit=!Rit(function(e){Array.from(e)});kit({target:"Array",stat:!0,forced:Lit},{from:Nit})});var Fue=P(()=>{"use strict";p();var qit=ie(),zit=f0().includes,jit=Mt(),Fit=qi(),Bit=jit(function(){return!Array(1).includes()});qit({target:"Array",proto:!0,forced:Bit},{includes:function(t){return zit(this,t,arguments.length>1?arguments[1]:void 0)}});Fit("includes")});var Uue=P(()=>{"use strict";p();var Uit=ie(),Vit=oh(),$it=f0().indexOf,Git=eu(),H7=Vit([].indexOf),Bue=!!H7&&1/H7([1],1,-0)<0,Hit=Bue||!Git("indexOf");Uit({target:"Array",proto:!0,forced:Hit},{indexOf:function(t){var r=arguments.length>1?arguments[1]:void 0;return Bue?H7(this,t,r)||0:$it(this,t,r)}})});var Vue=P(()=>{"use strict";p();var Wit=ie(),Zit=$u();Wit({target:"Array",stat:!0},{isArray:Zit})});var ph=P((gwr,Hue)=>{"use strict";p();var Yit=Mt(),Kit=Wr(),Xit=xr(),Qit=Xi(),$ue=wo(),Jit=Gn(),eot=Ir(),tot=In(),Y7=eot("iterator"),Gue=!1,_f,W7,Z7;[].keys&&(Z7=[].keys(),"next"in Z7?(W7=$ue($ue(Z7)),W7!==Object.prototype&&(_f=W7)):Gue=!0);var rot=!Xit(_f)||Yit(function(){var e={};return _f[Y7].call(e)!==e});rot?_f={}:tot&&(_f=Qit(_f));Kit(_f[Y7])||Jit(_f,Y7,function(){return this});Hue.exports={IteratorPrototype:_f,BUGGY_SAFARI_ITERATORS:Gue}});var fh=P((ywr,Wue)=>{"use strict";p();var not=ph().IteratorPrototype,iot=Xi(),oot=Ls(),aot=ms(),sot=_g(),lot=function(){return this};Wue.exports=function(e,t,r,n){var i=t+" Iterator";return e.prototype=iot(not,{next:oot(+!n,r)}),aot(e,i,!1,!0),sot[i]=lot,e}});var oA=P((bwr,nce)=>{"use strict";p();var uot=ie(),cot=Ht(),nA=In(),tce=cg(),pot=Wr(),fot=fh(),Zue=wo(),Yue=Ql(),dot=ms(),hot=xo(),K7=Gn(),mot=Ir(),Kue=_g(),rce=ph(),got=tce.PROPER,vot=tce.CONFIGURABLE,Xue=rce.IteratorPrototype,iA=rce.BUGGY_SAFARI_ITERATORS,Dw=mot("iterator"),Que="keys",kw="values",Jue="entries",ece=function(){return this};nce.exports=function(e,t,r,n,i,o,u){fot(r,t,n);var d=function(L){if(L===i&&A)return A;if(!iA&&L&&L in I)return I[L];switch(L){case Que:return function(){return new r(this,L)};case kw:return function(){return new r(this,L)};case Jue:return function(){return new r(this,L)}}return function(){return new r(this)}},g=t+" Iterator",_=!1,I=e.prototype,T=I[Dw]||I["@@iterator"]||i&&I[i],A=!iA&&T||d(i),q=t==="Array"&&I.entries||T,z,U,N;if(q&&(z=Zue(q.call(new e)),z!==Object.prototype&&z.next&&(!nA&&Zue(z)!==Xue&&(Yue?Yue(z,Xue):pot(z[Dw])||K7(z,Dw,ece)),dot(z,g,!0,!0),nA&&(Kue[g]=ece))),got&&i===kw&&T&&T.name!==kw&&(!nA&&vot?hot(I,"name",kw):(_=!0,A=function(){return cot(T,this)})),i)if(U={values:d(kw),keys:o?A:d(Que),entries:d(Jue)},u)for(N in U)(iA||_||!(N in I))&&K7(I,N,U[N]);else uot({target:t,proto:!0,forced:iA||_},U);return(!nA||u)&&I[Dw]!==A&&K7(I,Dw,A,{name:i}),Kue[t]=A,U}});var No=P((wwr,ice)=>{"use strict";p();ice.exports=function(e,t){return{value:e,done:t}}});var Nw=P((Ewr,uce)=>{"use strict";p();var yot=bo(),X7=qi(),oce=_g(),sce=jn(),_ot=ui().f,bot=oA(),aA=No(),xot=In(),wot=hr(),lce="Array Iterator",Sot=sce.set,Eot=sce.getterFor(lce);uce.exports=bot(Array,"Array",function(e,t){Sot(this,{type:lce,target:yot(e),index:0,kind:t})},function(){var e=Eot(this),t=e.target,r=e.index++;if(!t||r>=t.length)return e.target=null,aA(void 0,!0);switch(e.kind){case"keys":return aA(r,!1);case"values":return aA(t[r],!1)}return aA([r,t[r]],!1)},"values");var ace=oce.Arguments=oce.Array;X7("keys");X7("values");X7("entries");if(!xot&&wot&&ace.name!=="values")try{_ot(ace,"name",{value:"values"})}catch(e){}});var cce=P(()=>{"use strict";p();var Iot=ie(),Tot=mt(),Mot=hf(),Cot=bo(),Aot=eu(),Pot=Tot([].join),Oot=Mot!==Object,Dot=Oot||!Aot("join",",");Iot({target:"Array",proto:!0,forced:Dot},{join:function(t){return Pot(Cot(this),t===void 0?",":t)}})});var J7=P((Awr,fce)=>{"use strict";p();var kot=fa(),Not=bo(),Rot=yi(),Lot=gn(),qot=eu(),zot=Math.min,Q7=[].lastIndexOf,pce=!!Q7&&1/[1].lastIndexOf(1,-0)<0,jot=qot("lastIndexOf"),Fot=pce||!jot;fce.exports=Fot?function(t){if(pce)return kot(Q7,this,arguments)||0;var r=Not(this),n=Lot(r);if(n===0)return-1;var i=n-1;for(arguments.length>1&&(i=zot(i,Rot(arguments[1]))),i<0&&(i=n+i);i>=0;i--)if(i in r&&r[i]===t)return i||0;return-1}:Q7});var hce=P(()=>{"use strict";p();var Bot=ie(),dce=J7();Bot({target:"Array",proto:!0,forced:dce!==[].lastIndexOf},{lastIndexOf:dce})});var mce=P(()=>{"use strict";p();var Uot=ie(),Vot=Qi().map,$ot=_0(),Got=$ot("map");Uot({target:"Array",proto:!0,forced:!Got},{map:function(t){return Vot(this,t,arguments.length>1?arguments[1]:void 0)}})});var vce=P(()=>{"use strict";p();var Hot=ie(),Wot=Mt(),Zot=Gu(),Yot=Jl(),gce=Array,Kot=Wot(function(){function e(){}return!(gce.of.call(e)instanceof e)});Hot({target:"Array",stat:!0,forced:Kot},{of:function(){for(var t=0,r=arguments.length,n=new(Zot(this)?this:gce)(r);r>t;)Yot(n,t,arguments[t++]);return n.length=r,n}})});var sA=P((Fwr,yce)=>{"use strict";p();var Xot=hr(),Qot=$u(),Jot=TypeError,eat=Object.getOwnPropertyDescriptor,tat=Xot&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();yce.exports=tat?function(e,t){if(Qot(e)&&!eat(e,"length").writable)throw new Jot("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}});var _ce=P(()=>{"use strict";p();var rat=ie(),nat=ln(),iat=gn(),oat=sA(),aat=ch(),sat=Mt(),lat=sat(function(){return[].push.call({length:4294967296},1)!==4294967297}),uat=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}},cat=lat||!uat();rat({target:"Array",proto:!0,arity:1,forced:cat},{push:function(t){var r=nat(this),n=iat(r),i=arguments.length;aat(n+i);for(var o=0;o<i;o++)r[n]=arguments[o],n++;return oat(r,n),n}})});var Rw=P((Gwr,Sce)=>{"use strict";p();var pat=Cr(),fat=ln(),dat=hf(),hat=gn(),bce=TypeError,xce="Reduce of empty array with no initial value",wce=function(e){return function(t,r,n,i){var o=fat(t),u=dat(o),d=hat(o);if(pat(r),d===0&&n<2)throw new bce(xce);var g=e?d-1:0,_=e?-1:1;if(n<2)for(;;){if(g in u){i=u[g],g+=_;break}if(g+=_,e?g<0:d<=g)throw new bce(xce)}for(;e?g>=0:d>g;g+=_)g in u&&(i=r(i,u[g],g,o));return i}};Sce.exports={left:wce(!1),right:wce(!0)}});var qw=P((Wwr,Ece)=>{"use strict";p();var Lw=Gt(),mat=ju(),gat=ca(),lA=function(e){return mat.slice(0,e.length)===e};Ece.exports=function(){return lA("Bun/")?"BUN":lA("Cloudflare-Workers")?"CLOUDFLARE":lA("Deno/")?"DENO":lA("Node.js/")?"NODE":Lw.Bun&&typeof Bun.version=="string"?"BUN":Lw.Deno&&typeof Deno.version=="object"?"DENO":gat(Lw.process)==="process"?"NODE":Lw.window&&Lw.document?"BROWSER":"REST"}()});var bg=P((Ywr,Ice)=>{"use strict";p();var vat=qw();Ice.exports=vat==="NODE"});var Mce=P(()=>{"use strict";p();var yat=ie(),_at=Rw().left,bat=eu(),Tce=Bu(),xat=bg(),wat=!xat&&Tce>79&&Tce<83,Sat=wat||!bat("reduce");yat({target:"Array",proto:!0,forced:Sat},{reduce:function(t){var r=arguments.length;return _at(this,t,r,r>1?arguments[1]:void 0)}})});var Ace=P(()=>{"use strict";p();var Eat=ie(),Iat=Rw().right,Tat=eu(),Cce=Bu(),Mat=bg(),Cat=!Mat&&Cce>79&&Cce<83,Aat=Cat||!Tat("reduceRight");Eat({target:"Array",proto:!0,forced:Aat},{reduceRight:function(t){return Iat(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})});var Oce=P(()=>{"use strict";p();var Pat=ie(),Oat=mt(),Dat=$u(),kat=Oat([].reverse),Pce=[1,2];Pat({target:"Array",proto:!0,forced:String(Pce)===String(Pce.reverse())},{reverse:function(){return Dat(this)&&(this.length=this.length),kat(this)}})});var Nce=P(()=>{"use strict";p();var Nat=ie(),Dce=$u(),Rat=Gu(),Lat=xr(),kce=Vu(),qat=gn(),zat=bo(),jat=Jl(),Fat=Ir(),Bat=_0(),Uat=js(),Vat=Bat("slice"),$at=Fat("species"),e9=Array,Gat=Math.max;Nat({target:"Array",proto:!0,forced:!Vat},{slice:function(t,r){var n=zat(this),i=qat(n),o=kce(t,i),u=kce(r===void 0?i:r,i),d,g,_;if(Dce(n)&&(d=n.constructor,Rat(d)&&(d===e9||Dce(d.prototype))?d=void 0:Lat(d)&&(d=d[$at],d===null&&(d=void 0)),d===e9||d===void 0))return Uat(n,o,u);for(g=new(d===void 0?e9:d)(Gat(u-o,0)),_=0;o<u;o++,_++)o in n&&jat(g,_,n[o]);return g.length=_,g}})});var Rce=P(()=>{"use strict";p();var Hat=ie(),Wat=Qi().some,Zat=eu(),Yat=Zat("some");Hat({target:"Array",proto:!0,forced:!Yat},{some:function(t){return Wat(this,t,arguments.length>1?arguments[1]:void 0)}})});var uA=P((f2r,qce)=>{"use strict";p();var Lce=js(),Kat=Math.floor,t9=function(e,t){var r=e.length;if(r<8)for(var n=1,i,o;n<r;){for(o=n,i=e[n];o&&t(e[o-1],i)>0;)e[o]=e[--o];o!==n++&&(e[o]=i)}else for(var u=Kat(r/2),d=t9(Lce(e,0,u),t),g=t9(Lce(e,u),t),_=d.length,I=g.length,T=0,A=0;T<_||A<I;)e[T+A]=T<_&&A<I?t(d[T],g[A])<=0?d[T++]:g[A++]:T<_?d[T++]:g[A++];return e};qce.exports=t9});var r9=P((h2r,jce)=>{"use strict";p();var Xat=ju(),zce=Xat.match(/firefox\/(\d+)/i);jce.exports=!!zce&&+zce[1]});var n9=P((g2r,Fce)=>{"use strict";p();var Qat=ju();Fce.exports=/MSIE|Trident/.test(Qat)});var cA=P((y2r,Uce)=>{"use strict";p();var Jat=ju(),Bce=Jat.match(/AppleWebKit\/(\d+)\./);Uce.exports=!!Bce&&+Bce[1]});var Xce=P(()=>{"use strict";p();var est=ie(),Yce=mt(),tst=Cr(),rst=ln(),Vce=gn(),nst=Aw(),$ce=Lr(),i9=Mt(),ist=uA(),ost=eu(),Gce=r9(),ast=n9(),Hce=Bu(),Wce=cA(),dh=[],Zce=Yce(dh.sort),sst=Yce(dh.push),lst=i9(function(){dh.sort(void 0)}),ust=i9(function(){dh.sort(null)}),cst=ost("sort"),Kce=!i9(function(){if(Hce)return Hce<70;if(!(Gce&&Gce>3)){if(ast)return!0;if(Wce)return Wce<603;var e="",t,r,n,i;for(t=65;t<76;t++){switch(r=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(i=0;i<47;i++)dh.push({k:r+i,v:n})}for(dh.sort(function(o,u){return u.v-o.v}),i=0;i<dh.length;i++)r=dh[i].k.charAt(0),e.charAt(e.length-1)!==r&&(e+=r);return e!=="DGBEFHACIJK"}}),pst=lst||!ust||!cst||!Kce,fst=function(e){return function(t,r){return r===void 0?-1:t===void 0?1:e!==void 0?+e(t,r)||0:$ce(t)>$ce(r)?1:-1}};est({target:"Array",proto:!0,forced:pst},{sort:function(t){t!==void 0&&tst(t);var r=rst(this);if(Kce)return t===void 0?Zce(r):Zce(r,t);var n=[],i=Vce(r),o,u;for(u=0;u<i;u++)u in r&&sst(n,r[u]);for(ist(n,fst(t)),o=Vce(n),u=0;u<o;)r[u]=n[u++];for(;u<i;)nst(r,u++);return r}})});var hh=P((S2r,Jce)=>{"use strict";p();var dst=Mr(),hst=_i(),mst=Ir(),gst=hr(),Qce=mst("species");Jce.exports=function(e){var t=dst(e);gst&&t&&!t[Qce]&&hst(t,Qce,{configurable:!0,get:function(){return this}})}});var epe=P(()=>{"use strict";p();var vst=hh();vst("Array")});var tpe=P(()=>{"use strict";p();var yst=ie(),_st=ln(),bst=Vu(),xst=yi(),wst=gn(),Sst=sA(),Est=ch(),Ist=h0(),Tst=Jl(),o9=Aw(),Mst=_0(),Cst=Mst("splice"),Ast=Math.max,Pst=Math.min;yst({target:"Array",proto:!0,forced:!Cst},{splice:function(t,r){var n=_st(this),i=wst(n),o=bst(t,i),u=arguments.length,d,g,_,I,T,A;for(u===0?d=g=0:u===1?(d=0,g=i-o):(d=u-2,g=Pst(Ast(xst(r),0),i-o)),Est(i+d-g),_=Ist(n,g),I=0;I<g;I++)T=o+I,T in n&&Tst(_,I,n[T]);if(_.length=g,d<g){for(I=o;I<i-g;I++)T=I+g,A=I+d,T in n?n[A]=n[T]:o9(n,A);for(I=i;I>i-g+d;I--)o9(n,I-1)}else if(d>g)for(I=i-g;I>o;I--)T=I+g-1,A=I+d-1,T in n?n[A]=n[T]:o9(n,A);for(I=0;I<d;I++)n[I+o]=arguments[I+2];return Sst(n,i-g+d),_}})});var a9=P((O2r,rpe)=>{"use strict";p();var Ost=gn();rpe.exports=function(e,t){for(var r=Ost(e),n=new t(r),i=0;i<r;i++)n[i]=e[r-i-1];return n}});var s9=P(()=>{"use strict";p();var Dst=ie(),kst=a9(),Nst=bo(),Rst=qi(),Lst=Array;Dst({target:"Array",proto:!0},{toReversed:function(){return kst(Nst(this),Lst)}});Rst("toReversed")});var bf=P((L2r,npe)=>{"use strict";p();var qst=gn();npe.exports=function(e,t,r){for(var n=0,i=arguments.length>2?r:qst(t),o=new e(i);i>n;)o[n]=t[n++];return o}});var l9=P((z2r,ipe)=>{"use strict";p();var zst=Gt();ipe.exports=function(e,t){var r=zst[e],n=r&&r.prototype;return n&&n[t]}});var u9=P(()=>{"use strict";p();var jst=ie(),Fst=mt(),Bst=Cr(),Ust=bo(),Vst=bf(),$st=l9(),Gst=qi(),Hst=Array,Wst=Fst($st("Array","sort"));jst({target:"Array",proto:!0},{toSorted:function(t){t!==void 0&&Bst(t);var r=Ust(this),n=Vst(Hst,r);return Wst(n,t)}});Gst("toSorted")});var c9=P(()=>{"use strict";p();var Zst=ie(),Yst=qi(),Kst=ch(),Xst=gn(),Qst=Vu(),Jst=bo(),elt=yi(),tlt=Array,rlt=Math.max,nlt=Math.min;Zst({target:"Array",proto:!0},{toSpliced:function(t,r){var n=Jst(this),i=Xst(n),o=Qst(t,i),u=arguments.length,d=0,g,_,I,T;for(u===0?g=_=0:u===1?(g=0,_=i-o):(g=u-2,_=nlt(rlt(elt(r),0),i-o)),I=Kst(i+g-_),T=tlt(I);d<o;d++)T[d]=n[d];for(;d<o+g;d++)T[d]=arguments[d-o+2];for(;d<I;d++)T[d]=n[d+_-g];return T}});Yst("toSpliced")});var ope=P(()=>{"use strict";p();var ilt=qi();ilt("flat")});var ape=P(()=>{"use strict";p();var olt=qi();olt("flatMap")});var spe=P(()=>{"use strict";p();var alt=ie(),slt=ln(),llt=gn(),ult=sA(),clt=Aw(),plt=ch(),flt=[].unshift(0)!==1,dlt=function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(e){return e instanceof TypeError}},hlt=flt||!dlt();alt({target:"Array",proto:!0,arity:1,forced:hlt},{unshift:function(t){var r=slt(this),n=llt(r),i=arguments.length;if(i){plt(n+i);for(var o=n;o--;){var u=o+i;o in r?r[u]=r[o]:clt(r,u)}for(var d=0;d<i;d++)r[d]=arguments[d]}return ult(r,n+i)}})});var p9=P((tSr,lpe)=>{"use strict";p();var mlt=gn(),glt=yi(),vlt=RangeError;lpe.exports=function(e,t,r,n){var i=mlt(e),o=glt(r),u=o<0?i+o:o;if(u>=i||u<0)throw new vlt("Incorrect index");for(var d=new t(i),g=0;g<i;g++)d[g]=g===u?n:e[g];return d}});var f9=P(()=>{"use strict";p();var ylt=ie(),_lt=p9(),blt=bo(),xlt=Array;ylt({target:"Array",proto:!0},{with:function(e,t){return _lt(blt(this),xlt,e,t)}})});var zw=P((aSr,upe)=>{"use strict";p();upe.exports=typeof ArrayBuffer!="undefined"&&typeof DataView!="undefined"});var tu=P((lSr,cpe)=>{"use strict";p();var wlt=Gn();cpe.exports=function(e,t,r){for(var n in t)wlt(e,n,t[n],r);return e}});var $a=P((cSr,ppe)=>{"use strict";p();var Slt=pa(),Elt=TypeError;ppe.exports=function(e,t){if(Slt(t,e))return e;throw new Elt("Incorrect invocation")}});var b0=P((fSr,fpe)=>{"use strict";p();var Ilt=yi(),Tlt=zs(),Mlt=RangeError;fpe.exports=function(e){if(e===void 0)return 0;var t=Ilt(e),r=Tlt(t);if(t!==r)throw new Mlt("Wrong length or index");return r}});var pA=P((hSr,dpe)=>{"use strict";p();dpe.exports=Math.sign||function(t){var r=+t;return r===0||r!==r?r:r<0?-1:1}});var d9=P((gSr,mpe)=>{"use strict";p();var Clt=2220446049250313e-31,hpe=1/Clt;mpe.exports=function(e){return e+hpe-hpe}});var h9=P((ySr,gpe)=>{"use strict";p();var Alt=pA(),Plt=d9(),Olt=Math.abs,Dlt=2220446049250313e-31;gpe.exports=function(e,t,r,n){var i=+e,o=Olt(i),u=Alt(i);if(o<n)return u*Plt(o/n/t)*n*t;var d=(1+t/Dlt)*o,g=d-(d-o);return g>r||g!==g?u*(1/0):u*g}});var fA=P((bSr,vpe)=>{"use strict";p();var klt=h9(),Nlt=1.1920928955078125e-7,Rlt=34028234663852886e22,Llt=11754943508222875e-54;vpe.exports=Math.fround||function(t){return klt(t,Nlt,Rlt,Llt)}});var _pe=P((wSr,ype)=>{"use strict";p();var qlt=Array,zlt=Math.abs,xf=Math.pow,jlt=Math.floor,Flt=Math.log,Blt=Math.LN2,Ult=function(e,t,r){var n=qlt(r),i=r*8-t-1,o=(1<<i)-1,u=o>>1,d=t===23?xf(2,-24)-xf(2,-77):0,g=e<0||e===0&&1/e<0?1:0,_=0,I,T,A;for(e=zlt(e),e!==e||e===1/0?(T=e!==e?1:0,I=o):(I=jlt(Flt(e)/Blt),A=xf(2,-I),e*A<1&&(I--,A*=2),I+u>=1?e+=d/A:e+=d*xf(2,1-u),e*A>=2&&(I++,A/=2),I+u>=o?(T=0,I=o):I+u>=1?(T=(e*A-1)*xf(2,t),I+=u):(T=e*xf(2,u-1)*xf(2,t),I=0));t>=8;)n[_++]=T&255,T/=256,t-=8;for(I=I<<t|T,i+=t;i>0;)n[_++]=I&255,I/=256,i-=8;return n[_-1]|=g*128,n},Vlt=function(e,t){var r=e.length,n=r*8-t-1,i=(1<<n)-1,o=i>>1,u=n-7,d=r-1,g=e[d--],_=g&127,I;for(g>>=7;u>0;)_=_*256+e[d--],u-=8;for(I=_&(1<<-u)-1,_>>=-u,u+=t;u>0;)I=I*256+e[d--],u-=8;if(_===0)_=1-o;else{if(_===i)return I?NaN:g?-1/0:1/0;I+=xf(2,t),_-=o}return(g?-1:1)*I*xf(2,_-t)};ype.exports={pack:Ult,unpack:Vlt}});var Bw=P((ESr,Lpe)=>{"use strict";p();var vA=Gt(),_9=mt(),m9=hr(),$lt=zw(),Ope=cg(),Glt=xo(),Hlt=_i(),bpe=tu(),g9=Mt(),dA=$a(),Wlt=yi(),Zlt=zs(),mA=b0(),Ylt=fA(),Dpe=_pe(),Klt=wo(),xpe=Ql(),Xlt=tA(),Qlt=js(),Jlt=lh(),eut=fg(),kpe=ms(),b9=jn(),tut=Ope.PROPER,wpe=Ope.CONFIGURABLE,w0="ArrayBuffer",yA="DataView",S0="prototype",rut="Wrong length",Npe="Wrong index",Spe=b9.getterFor(w0),Fw=b9.getterFor(yA),Epe=b9.set,Hu=vA[w0],wl=Hu,x0=wl&&wl[S0],Kc=vA[yA],xg=Kc&&Kc[S0],Ipe=Object.prototype,nut=vA.Array,gA=vA.RangeError,iut=_9(Xlt),out=_9([].reverse),Rpe=Dpe.pack,Tpe=Dpe.unpack,Mpe=function(e){return[e&255]},Cpe=function(e){return[e&255,e>>8&255]},Ape=function(e){return[e&255,e>>8&255,e>>16&255,e>>24&255]},Ppe=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},aut=function(e){return Rpe(Ylt(e),23,4)},sut=function(e){return Rpe(e,52,8)},hA=function(e,t,r){Hlt(e[S0],t,{configurable:!0,get:function(){return r(this)[t]}})},mh=function(e,t,r,n){var i=Fw(e),o=mA(r),u=!!n;if(o+t>i.byteLength)throw new gA(Npe);var d=i.bytes,g=o+i.byteOffset,_=Qlt(d,g,g+t);return u?_:out(_)},gh=function(e,t,r,n,i,o){var u=Fw(e),d=mA(r),g=n(+i),_=!!o;if(d+t>u.byteLength)throw new gA(Npe);for(var I=u.bytes,T=d+u.byteOffset,A=0;A<t;A++)I[T+A]=g[_?A:t-A-1]};$lt?(v9=tut&&Hu.name!==w0,!g9(function(){Hu(1)})||!g9(function(){new Hu(-1)})||g9(function(){return new Hu,new Hu(1.5),new Hu(NaN),Hu.length!==1||v9&&!wpe})?(wl=function(t){return dA(this,x0),Jlt(new Hu(mA(t)),this,wl)},wl[S0]=x0,x0.constructor=wl,eut(wl,Hu)):v9&&wpe&&Glt(Hu,"name",w0),xpe&&Klt(xg)!==Ipe&&xpe(xg,Ipe),jw=new Kc(new wl(2)),y9=_9(xg.setInt8),jw.setInt8(0,2147483648),jw.setInt8(1,2147483649),(jw.getInt8(0)||!jw.getInt8(1))&&bpe(xg,{setInt8:function(t,r){y9(this,t,r<<24>>24)},setUint8:function(t,r){y9(this,t,r<<24>>24)}},{unsafe:!0})):(wl=function(t){dA(this,x0);var r=mA(t);Epe(this,{type:w0,bytes:iut(nut(r),0),byteLength:r}),m9||(this.byteLength=r,this.detached=!1)},x0=wl[S0],Kc=function(t,r,n){dA(this,xg),dA(t,x0);var i=Spe(t),o=i.byteLength,u=Wlt(r);if(u<0||u>o)throw new gA("Wrong offset");if(n=n===void 0?o-u:Zlt(n),u+n>o)throw new gA(rut);Epe(this,{type:yA,buffer:t,byteLength:n,byteOffset:u,bytes:i.bytes}),m9||(this.buffer=t,this.byteLength=n,this.byteOffset=u)},xg=Kc[S0],m9&&(hA(wl,"byteLength",Spe),hA(Kc,"buffer",Fw),hA(Kc,"byteLength",Fw),hA(Kc,"byteOffset",Fw)),bpe(xg,{getInt8:function(t){return mh(this,1,t)[0]<<24>>24},getUint8:function(t){return mh(this,1,t)[0]},getInt16:function(t){var r=mh(this,2,t,arguments.length>1?arguments[1]:!1);return(r[1]<<8|r[0])<<16>>16},getUint16:function(t){var r=mh(this,2,t,arguments.length>1?arguments[1]:!1);return r[1]<<8|r[0]},getInt32:function(t){return Ppe(mh(this,4,t,arguments.length>1?arguments[1]:!1))},getUint32:function(t){return Ppe(mh(this,4,t,arguments.length>1?arguments[1]:!1))>>>0},getFloat32:function(t){return Tpe(mh(this,4,t,arguments.length>1?arguments[1]:!1),23)},getFloat64:function(t){return Tpe(mh(this,8,t,arguments.length>1?arguments[1]:!1),52)},setInt8:function(t,r){gh(this,1,t,Mpe,r)},setUint8:function(t,r){gh(this,1,t,Mpe,r)},setInt16:function(t,r){gh(this,2,t,Cpe,r,arguments.length>2?arguments[2]:!1)},setUint16:function(t,r){gh(this,2,t,Cpe,r,arguments.length>2?arguments[2]:!1)},setInt32:function(t,r){gh(this,4,t,Ape,r,arguments.length>2?arguments[2]:!1)},setUint32:function(t,r){gh(this,4,t,Ape,r,arguments.length>2?arguments[2]:!1)},setFloat32:function(t,r){gh(this,4,t,aut,r,arguments.length>2?arguments[2]:!1)},setFloat64:function(t,r){gh(this,8,t,sut,r,arguments.length>2?arguments[2]:!1)}}));var v9,jw,y9;kpe(wl,w0);kpe(Kc,yA);Lpe.exports={ArrayBuffer:wl,DataView:Kc}});var zpe=P(()=>{"use strict";p();var lut=ie(),uut=Gt(),cut=Bw(),put=hh(),x9="ArrayBuffer",qpe=cut[x9],fut=uut[x9];lut({global:!0,constructor:!0,forced:fut!==qpe},{ArrayBuffer:qpe});put(x9)});var nn=P((ASr,Zpe)=>{"use strict";p();var dut=zw(),I9=hr(),gs=Gt(),Upe=Wr(),xA=xr(),yh=Xr(),T9=hs(),hut=rh(),mut=xo(),w9=Gn(),gut=_i(),vut=pa(),wA=wo(),I0=Ql(),yut=Ir(),_ut=nh(),Vpe=jn(),$pe=Vpe.enforce,but=Vpe.get,_A=gs.Int8Array,S9=_A&&_A.prototype,jpe=gs.Uint8ClampedArray,Fpe=jpe&&jpe.prototype,Xc=_A&&wA(_A),Wu=S9&&wA(S9),xut=Object.prototype,M9=gs.TypeError,Bpe=yut("toStringTag"),E9=_ut("TYPED_ARRAY_TAG"),bA="TypedArrayConstructor",wf=dut&&!!I0&&T9(gs.opera)!=="Opera",Gpe=!1,Bs,vh,E0,Sf={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},C9={BigInt64Array:8,BigUint64Array:8},wut=function(t){if(!xA(t))return!1;var r=T9(t);return r==="DataView"||yh(Sf,r)||yh(C9,r)},Hpe=function(e){var t=wA(e);if(xA(t)){var r=but(t);return r&&yh(r,bA)?r[bA]:Hpe(t)}},Wpe=function(e){if(!xA(e))return!1;var t=T9(e);return yh(Sf,t)||yh(C9,t)},Sut=function(e){if(Wpe(e))return e;throw new M9("Target is not a typed array")},Eut=function(e){if(Upe(e)&&(!I0||vut(Xc,e)))return e;throw new M9(hut(e)+" is not a typed array constructor")},Iut=function(e,t,r,n){if(I9){if(r)for(var i in Sf){var o=gs[i];if(o&&yh(o.prototype,e))try{delete o.prototype[e]}catch(u){try{o.prototype[e]=t}catch(d){}}}(!Wu[e]||r)&&w9(Wu,e,r?t:wf&&S9[e]||t,n)}},Tut=function(e,t,r){var n,i;if(I9){if(I0){if(r){for(n in Sf)if(i=gs[n],i&&yh(i,e))try{delete i[e]}catch(o){}}if(!Xc[e]||r)try{return w9(Xc,e,r?t:wf&&Xc[e]||t)}catch(o){}else return}for(n in Sf)i=gs[n],i&&(!i[e]||r)&&w9(i,e,t)}};for(Bs in Sf)vh=gs[Bs],E0=vh&&vh.prototype,E0?$pe(E0)[bA]=vh:wf=!1;for(Bs in C9)vh=gs[Bs],E0=vh&&vh.prototype,E0&&($pe(E0)[bA]=vh);if((!wf||!Upe(Xc)||Xc===Function.prototype)&&(Xc=function(){throw new M9("Incorrect invocation")},wf))for(Bs in Sf)gs[Bs]&&I0(gs[Bs],Xc);if((!wf||!Wu||Wu===xut)&&(Wu=Xc.prototype,wf))for(Bs in Sf)gs[Bs]&&I0(gs[Bs].prototype,Wu);wf&&wA(Fpe)!==Wu&&I0(Fpe,Wu);if(I9&&!yh(Wu,Bpe)){Gpe=!0,gut(Wu,Bpe,{configurable:!0,get:function(){return xA(this)?this[E9]:void 0}});for(Bs in Sf)gs[Bs]&&mut(gs[Bs],E9,Bs)}Zpe.exports={NATIVE_ARRAY_BUFFER_VIEWS:wf,TYPED_ARRAY_TAG:Gpe&&E9,aTypedArray:Sut,aTypedArrayConstructor:Eut,exportTypedArrayMethod:Iut,exportTypedArrayStaticMethod:Tut,getTypedArrayConstructor:Hpe,isView:wut,isTypedArray:Wpe,TypedArray:Xc,TypedArrayPrototype:Wu}});var Kpe=P(()=>{"use strict";p();var Mut=ie(),Ype=nn(),Cut=Ype.NATIVE_ARRAY_BUFFER_VIEWS;Mut({target:"ArrayBuffer",stat:!0,forced:!Cut},{isView:Ype.isView})});var rfe=P(()=>{"use strict";p();var Aut=ie(),P9=oh(),Put=Mt(),efe=Bw(),Xpe=Yt(),Qpe=Vu(),Out=zs(),O9=efe.ArrayBuffer,A9=efe.DataView,tfe=A9.prototype,Jpe=P9(O9.prototype.slice),Dut=P9(tfe.getUint8),kut=P9(tfe.setUint8),Nut=Put(function(){return!new O9(2).slice(1,void 0).byteLength});Aut({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:Nut},{slice:function(t,r){if(Jpe&&r===void 0)return Jpe(Xpe(this),t);for(var n=Xpe(this).byteLength,i=Qpe(t,n),o=Qpe(r===void 0?n:r,n),u=new O9(Out(o-i)),d=new A9(this),g=new A9(u),_=0;i<o;)kut(g,_++,Dut(d,i++));return u}})});var nfe=P(()=>{"use strict";p();var Rut=ie(),Lut=Bw(),qut=zw();Rut({global:!0,constructor:!0,forced:!qut},{DataView:Lut.DataView})});var ife=P(()=>{"use strict";p();nfe()});var D9=P(()=>{"use strict";p();var zut=ie(),jut=mt(),lfe=Math.pow,ofe=31,Fut=1023,afe=lfe(2,-24),sfe=.0009765625,But=function(e){var t=e>>>15,r=e>>>10&ofe,n=e&Fut;return r===ofe?n===0?t===0?1/0:-1/0:NaN:r===0?n*(t===0?afe:-afe):lfe(2,r-15)*(t===0?1+n*sfe:-1-n*sfe)},Uut=jut(DataView.prototype.getUint16);zut({target:"DataView",proto:!0},{getFloat16:function(t){var r=Uut(this,t,arguments.length>1?arguments[1]:!1);return But(r)}})});var k9=P((HSr,ufe)=>{"use strict";p();var Vut=hs(),$ut=TypeError;ufe.exports=function(e){if(Vut(e)==="DataView")return e;throw new $ut("Argument is not a DataView")}});var N9=P((ZSr,cfe)=>{"use strict";p();var Gut=Math.log,Hut=Math.LN2;cfe.exports=Math.log2||function(t){return Gut(t)/Hut}});var L9=P(()=>{"use strict";p();var Wut=ie(),Zut=mt(),Yut=k9(),Kut=b0(),Xut=N9(),pfe=d9(),Qut=Math.pow,Jut=65520,ect=61005353927612305e-21,tct=16777216,R9=1024,rct=function(e){if(e!==e)return 32256;if(e===0)return(1/e===-1/0)<<15;var t=e<0;if(t&&(e=-e),e>=Jut)return t<<15|31744;if(e<ect)return t<<15|pfe(e*tct);var r=Xut(e)|0;if(r===-15)return t<<15|R9;var n=pfe((e*Qut(2,-r)-1)*R9);return n===R9?t<<15|r+16<<10:t<<15|r+15<<10|n},nct=Zut(DataView.prototype.setUint16);Wut({target:"DataView",proto:!0},{setFloat16:function(t,r){Yut(this);var n=Kut(t),i=rct(+r);return nct(this,n,i,arguments.length>2?arguments[2]:!1)}})});var q9=P((JSr,hfe)=>{"use strict";p();var dfe=Gt(),ict=Cw(),oct=ca(),ffe=dfe.ArrayBuffer,act=dfe.TypeError;hfe.exports=ffe&&ict(ffe.prototype,"byteLength","get")||function(e){if(oct(e)!=="ArrayBuffer")throw new act("ArrayBuffer expected");return e.byteLength}});var z9=P((tEr,mfe)=>{"use strict";p();var sct=Gt(),lct=zw(),uct=q9(),cct=sct.DataView;mfe.exports=function(e){if(!lct||uct(e)!==0)return!1;try{return new cct(e),!1}catch(t){return!0}}});var j9=P(()=>{"use strict";p();var pct=hr(),fct=_i(),dct=z9(),gfe=ArrayBuffer.prototype;pct&&!("detached"in gfe)&&fct(gfe,"detached",{configurable:!0,get:function(){return dct(this)}})});var T0=P((aEr,vfe)=>{"use strict";p();var hct=z9(),mct=TypeError;vfe.exports=function(e){if(hct(e))throw new mct("ArrayBuffer is detached");return e}});var F9=P((lEr,yfe)=>{"use strict";p();var gct=Gt(),vct=bg();yfe.exports=function(e){if(vct){try{return gct.process.getBuiltinModule(e)}catch(t){}try{return Function("return require(\""+e+"\")")()}catch(t){}}}});var SA=P((cEr,bfe)=>{"use strict";p();var yct=Gt(),_ct=Mt(),B9=Bu(),U9=qw(),_fe=yct.structuredClone;bfe.exports=!!_fe&&!_ct(function(){if(U9==="DENO"&&B9>92||U9==="NODE"&&B9>94||U9==="BROWSER"&&B9>97)return!1;var e=new ArrayBuffer(8),t=_fe(e,{transfer:[e]});return e.byteLength!==0||t.byteLength!==8})});var W9=P((fEr,Sfe)=>{"use strict";p();var H9=Gt(),bct=F9(),xct=SA(),wct=H9.structuredClone,xfe=H9.ArrayBuffer,EA=H9.MessageChannel,G9=!1,V9,wfe,IA,$9;if(xct)G9=function(e){wct(e,{transfer:[e]})};else if(xfe)try{EA||(V9=bct("worker_threads"),V9&&(EA=V9.MessageChannel)),EA&&(wfe=new EA,IA=new xfe(2),$9=function(e){wfe.port1.postMessage(null,[e])},IA.byteLength===2&&($9(IA),IA.byteLength===0&&(G9=$9)))}catch(e){}Sfe.exports=G9});var J9=P((hEr,Pfe)=>{"use strict";p();var K9=Gt(),X9=mt(),Mfe=Cw(),Sct=b0(),Ect=T0(),Ict=q9(),Efe=W9(),Z9=SA(),Tct=K9.structuredClone,Cfe=K9.ArrayBuffer,Y9=K9.DataView,Mct=Math.min,Q9=Cfe.prototype,Afe=Y9.prototype,Cct=X9(Q9.slice),Ife=Mfe(Q9,"resizable","get"),Tfe=Mfe(Q9,"maxByteLength","get"),Act=X9(Afe.getInt8),Pct=X9(Afe.setInt8);Pfe.exports=(Z9||Efe)&&function(e,t,r){var n=Ict(e),i=t===void 0?n:Sct(t),o=!Ife||!Ife(e),u;if(Ect(e),Z9&&(e=Tct(e,{transfer:[e]}),n===i&&(r||o)))return e;if(n>=i&&(!r||o))u=Cct(e,0,i);else{var d=r&&!o&&Tfe?{maxByteLength:Tfe(e)}:void 0;u=new Cfe(i,d);for(var g=new Y9(e),_=new Y9(u),I=Mct(i,n),T=0;T<I;T++)Pct(_,T,Act(g,T))}return Z9||Efe(e),u}});var ez=P(()=>{"use strict";p();var Oct=ie(),Ofe=J9();Ofe&&Oct({target:"ArrayBuffer",proto:!0},{transfer:function(){return Ofe(this,arguments.length?arguments[0]:void 0,!0)}})});var tz=P(()=>{"use strict";p();var Dct=ie(),Dfe=J9();Dfe&&Dct({target:"ArrayBuffer",proto:!0},{transferToFixedLength:function(){return Dfe(this,arguments.length?arguments[0]:void 0,!1)}})});var kfe=P(()=>{"use strict";p();var kct=ie(),Nct=mt(),Rct=Mt(),Lct=Rct(function(){return new Date(16e11).getYear()!==120}),qct=Nct(Date.prototype.getFullYear);kct({target:"Date",proto:!0,forced:Lct},{getYear:function(){return qct(this)-1900}})});var Rfe=P(()=>{"use strict";p();var zct=ie(),jct=mt(),Nfe=Date,Fct=jct(Nfe.prototype.getTime);zct({target:"Date",stat:!0},{now:function(){return Fct(new Nfe)}})});var zfe=P(()=>{"use strict";p();var Bct=ie(),Lfe=mt(),Uct=yi(),qfe=Date.prototype,Vct=Lfe(qfe.getTime),$ct=Lfe(qfe.setFullYear);Bct({target:"Date",proto:!0},{setYear:function(t){Vct(this);var r=Uct(t),n=r>=0&&r<=99?r+1900:r;return $ct(this,n)}})});var jfe=P(()=>{"use strict";p();var Gct=ie();Gct({target:"Date",proto:!0},{toGMTString:Date.prototype.toUTCString})});var Uw=P((NEr,Ffe)=>{"use strict";p();var Hct=yi(),Wct=Lr(),Zct=pi(),Yct=RangeError;Ffe.exports=function(t){var r=Wct(Zct(this)),n="",i=Hct(t);if(i<0||i===1/0)throw new Yct("Wrong number of repetitions");for(;i>0;(i>>>=1)&&(r+=r))i&1&&(n+=r);return n}});var Vw=P((LEr,$fe)=>{"use strict";p();var Vfe=mt(),Kct=zs(),Bfe=Lr(),Xct=Uw(),Qct=pi(),Jct=Vfe(Xct),ept=Vfe("".slice),tpt=Math.ceil,Ufe=function(e){return function(t,r,n){var i=Bfe(Qct(t)),o=Kct(r),u=i.length,d=n===void 0?" ":Bfe(n),g,_;return o<=u||d===""?i:(g=o-u,_=Jct(d,tpt(g/d.length)),_.length>g&&(_=ept(_,0,g)),e?i+_:_+i)}};$fe.exports={start:Ufe(!1),end:Ufe(!0)}});var Wfe=P((zEr,Hfe)=>{"use strict";p();var _h=mt(),Gfe=Mt(),wg=Vw().start,rpt=RangeError,npt=isFinite,ipt=Math.abs,Ef=Date.prototype,rz=Ef.toISOString,opt=_h(Ef.getTime),apt=_h(Ef.getUTCDate),spt=_h(Ef.getUTCFullYear),lpt=_h(Ef.getUTCHours),upt=_h(Ef.getUTCMilliseconds),cpt=_h(Ef.getUTCMinutes),ppt=_h(Ef.getUTCMonth),fpt=_h(Ef.getUTCSeconds);Hfe.exports=Gfe(function(){return rz.call(new Date(-5e13-1))!=="0385-07-25T07:06:39.999Z"})||!Gfe(function(){rz.call(new Date(NaN))})?function(){if(!npt(opt(this)))throw new rpt("Invalid time value");var t=this,r=spt(t),n=upt(t),i=r<0?"-":r>9999?"+":"";return i+wg(ipt(r),i?6:4,0)+"-"+wg(ppt(t)+1,2,0)+"-"+wg(apt(t),2,0)+"T"+wg(lpt(t),2,0)+":"+wg(cpt(t),2,0)+":"+wg(fpt(t),2,0)+"."+wg(n,3,0)+"Z"}:rz});var Yfe=P(()=>{"use strict";p();var dpt=ie(),Zfe=Wfe();dpt({target:"Date",proto:!0,forced:Date.prototype.toISOString!==Zfe},{toISOString:Zfe})});var Kfe=P(()=>{"use strict";p();var hpt=ie(),mpt=Mt(),gpt=ln(),vpt=dw(),ypt=mpt(function(){return new Date(NaN).toJSON()!==null||Date.prototype.toJSON.call({toISOString:function(){return 1}})!==1});hpt({target:"Date",proto:!0,arity:1,forced:ypt},{toJSON:function(t){var r=gpt(this),n=vpt(r,"number");return typeof n=="number"&&!isFinite(n)?null:r.toISOString()}})});var Qfe=P((HEr,Xfe)=>{"use strict";p();var _pt=Yt(),bpt=M8(),xpt=TypeError;Xfe.exports=function(e){if(_pt(this),e==="string"||e==="default")e="string";else if(e!=="number")throw new xpt("Incorrect hint");return bpt(this,e)}});var tde=P(()=>{"use strict";p();var wpt=Xr(),Spt=Gn(),Ept=Qfe(),Ipt=Ir(),Jfe=Ipt("toPrimitive"),ede=Date.prototype;wpt(ede,Jfe)||Spt(ede,Jfe,Ept)});var ode=P(()=>{"use strict";p();var nde=mt(),Tpt=Gn(),nz=Date.prototype,rde="Invalid Date",ide="toString",Mpt=nde(nz[ide]),Cpt=nde(nz.getTime);String(new Date(NaN))!==rde&&Tpt(nz,ide,function(){var t=Cpt(this);return t===t?Mpt(this):rde})});var sde=P(()=>{"use strict";p();var Apt=ie(),$w=mt(),Ppt=Lr(),Opt=$w("".charAt),Dpt=$w("".charCodeAt),kpt=$w(/./.exec),Npt=$w(1 .toString),Rpt=$w("".toUpperCase),Lpt=/[\w*+\-./@]/,ade=function(e,t){for(var r=Npt(e,16);r.length<t;)r="0"+r;return r};Apt({global:!0},{escape:function(t){for(var r=Ppt(t),n="",i=r.length,o=0,u,d;o<i;)u=Opt(r,o++),kpt(Lpt,u)?n+=u:(d=Dpt(u,0),d<256?n+="%"+ade(d,2):n+="%u"+Rpt(ade(d,4)));return n}})});var oz=P((nIr,pde)=>{"use strict";p();var ude=mt(),qpt=Cr(),zpt=xr(),jpt=Xr(),lde=js(),Fpt=u0(),cde=Function,Bpt=ude([].concat),Upt=ude([].join),iz={},Vpt=function(e,t,r){if(!jpt(iz,t)){for(var n=[],i=0;i<t;i++)n[i]="a["+i+"]";iz[t]=cde("C,a","return new C("+Upt(n,",")+")")}return iz[t](e,r)};pde.exports=Fpt?cde.bind:function(t){var r=qpt(this),n=r.prototype,i=lde(arguments,1),o=function(){var d=Bpt(i,lde(arguments));return this instanceof o?Vpt(r,d.length,d):r.apply(t,d)};return zpt(n)&&(o.prototype=n),o}});var dde=P(()=>{"use strict";p();var $pt=ie(),fde=oz();$pt({target:"Function",proto:!0,forced:Function.bind!==fde},{bind:fde})});var gde=P(()=>{"use strict";p();var Gpt=Wr(),hde=xr(),Hpt=ui(),Wpt=pa(),Zpt=Ir(),Ypt=yw(),az=Zpt("hasInstance"),mde=Function.prototype;az in mde||Hpt.f(mde,az,{value:Ypt(function(e){if(!Gpt(this)||!hde(e))return!1;var t=this.prototype;return hde(t)?Wpt(t,e):e instanceof this},az)})});var bde=P(()=>{"use strict";p();var Kpt=hr(),Xpt=cg().EXISTS,vde=mt(),Qpt=_i(),yde=Function.prototype,Jpt=vde(yde.toString),_de=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,eft=vde(_de.exec),tft="name";Kpt&&!Xpt&&Qpt(yde,tft,{configurable:!0,get:function(){try{return eft(_de,Jpt(this))[1]}catch(e){return""}}})});var lz=P(()=>{"use strict";p();var rft=ie(),sz=Gt();rft({global:!0,forced:sz.globalThis!==sz},{globalThis:sz})});var dz=P(()=>{"use strict";p();var nft=ie(),ift=Gt(),oft=$a(),aft=Yt(),sft=Wr(),lft=wo(),uft=_i(),cft=Jl(),pft=Mt(),pz=Xr(),fft=Ir(),Qc=ph().IteratorPrototype,dft=hr(),hft=In(),uz="constructor",wde="Iterator",xde=fft("toStringTag"),Sde=TypeError,cz=ift[wde],Ede=hft||!sft(cz)||cz.prototype!==Qc||!pft(function(){cz({})}),fz=function(){if(oft(this,Qc),lft(this)===Qc)throw new Sde("Abstract class Iterator not directly constructable")},Ide=function(e,t){dft?uft(Qc,e,{configurable:!0,get:function(){return t},set:function(r){if(aft(this),this===Qc)throw new Sde("You can't redefine this property");pz(this,e)?this[e]=r:cft(this,e,r)}}):Qc[e]=t};pz(Qc,xde)||Ide(xde,wde);(Ede||!pz(Qc,uz)||Qc[uz]===Object)&&Ide(uz,fz);fz.prototype=Qc;nft({global:!0,constructor:!0,forced:Ede},{Iterator:fz})});var Mi=P((bIr,Tde)=>{"use strict";p();Tde.exports=function(e){return{iterator:e,next:e.next,done:!1}}});var M0=P((wIr,Mde)=>{"use strict";p();var mft=RangeError;Mde.exports=function(e){if(e===e)return e;throw new mft("NaN is not allowed")}});var C0=P((EIr,Cde)=>{"use strict";p();var gft=yi(),vft=RangeError;Cde.exports=function(e){var t=gft(e);if(t<0)throw new vft("The argument can't be less than 0");return t}});var bh=P((TIr,Nde)=>{"use strict";p();var yft=Ht(),_ft=Xi(),bft=xo(),xft=tu(),wft=Ir(),Ade=jn(),Sft=Ki(),Eft=ph().IteratorPrototype,TA=No(),hz=Ho(),Ift=wft("toStringTag"),Pde="IteratorHelper",Ode="WrapForValidIterator",Tft=Ade.set,Dde=function(e){var t=Ade.getterFor(e?Ode:Pde);return xft(_ft(Eft),{next:function(){var n=t(this);if(e)return n.nextHandler();if(n.done)return TA(void 0,!0);try{var i=n.nextHandler();return n.returnHandlerResult?i:TA(i,n.done)}catch(o){throw n.done=!0,o}},return:function(){var r=t(this),n=r.iterator;if(r.done=!0,e){var i=Sft(n,"return");return i?yft(i,n):TA(void 0,!0)}if(r.inner)try{hz(r.inner.iterator,"normal")}catch(o){return hz(n,"throw",o)}return n&&hz(n,"normal"),TA(void 0,!0)}})},Mft=Dde(!0),kde=Dde(!1);bft(kde,Ift,"Iterator Helper");Nde.exports=function(e,t,r){var n=function(o,u){u?(u.iterator=o.iterator,u.next=o.next):u=o,u.type=t?Ode:Pde,u.returnHandlerResult=!!r,u.nextHandler=e,u.counter=0,u.done=!1,Tft(this,u)};return n.prototype=t?Mft:kde,n}});var Zu=P((CIr,Rde)=>{"use strict";p();var Cft=Gt();Rde.exports=function(e,t){var r=Cft.Iterator,n=r&&r.prototype,i=n&&n[e],o=!1;if(i)try{i.call({next:function(){return{done:!0}},return:function(){o=!0}},-1)}catch(u){u instanceof t||(o=!1)}if(!o)return i}});var yz=P(()=>{"use strict";p();var Aft=ie(),gz=Ht(),vz=Yt(),Pft=Mi(),Oft=M0(),Dft=C0(),kft=Ho(),Nft=bh(),Rft=Zu(),Lde=In(),mz=!Lde&&Rft("drop",RangeError),Lft=Nft(function(){for(var e=this.iterator,t=this.next,r,n;this.remaining;)if(this.remaining--,r=vz(gz(t,e)),n=this.done=!!r.done,n)return;if(r=vz(gz(t,e)),n=this.done=!!r.done,!n)return r.value});Aft({target:"Iterator",proto:!0,real:!0,forced:Lde||mz},{drop:function(t){vz(this);var r;try{r=Dft(Oft(+t))}catch(n){kft(this,"throw",n)}return mz?gz(mz,this,r):new Lft(Pft(this),{remaining:r})}})});var bz=P(()=>{"use strict";p();var qft=ie(),zft=Ht(),jft=Li(),Fft=Cr(),Bft=Yt(),Uft=Mi(),Vft=Ho(),$ft=Zu(),_z=$ft("every",TypeError);qft({target:"Iterator",proto:!0,real:!0,forced:_z},{every:function(t){Bft(this);try{Fft(t)}catch(i){Vft(this,"throw",i)}if(_z)return zft(_z,this,t);var r=Uft(this),n=0;return!jft(r,function(i,o){if(!t(i,n++))return o()},{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})});var wz=P(()=>{"use strict";p();var Gft=ie(),qde=Ht(),Hft=Cr(),zde=Yt(),Wft=Mi(),Zft=bh(),Yft=rA(),jde=In(),Kft=Ho(),Xft=Zu(),xz=!jde&&Xft("filter",TypeError),Qft=Zft(function(){for(var e=this.iterator,t=this.predicate,r=this.next,n,i,o;;){if(n=zde(qde(r,e)),i=this.done=!!n.done,i)return;if(o=n.value,Yft(e,t,[o,this.counter++],!0))return o}});Gft({target:"Iterator",proto:!0,real:!0,forced:jde||xz},{filter:function(t){zde(this);try{Hft(t)}catch(r){Kft(this,"throw",r)}return xz?qde(xz,this,t):new Qft(Wft(this),{predicate:t})}})});var Ez=P(()=>{"use strict";p();var Jft=ie(),edt=Ht(),tdt=Li(),rdt=Cr(),ndt=Yt(),idt=Mi(),odt=Ho(),adt=Zu(),Sz=adt("find",TypeError);Jft({target:"Iterator",proto:!0,real:!0,forced:Sz},{find:function(t){ndt(this);try{rdt(t)}catch(i){odt(this,"throw",i)}if(Sz)return edt(Sz,this,t);var r=idt(this),n=0;return tdt(r,function(i,o){if(t(i,n++))return o(i)},{IS_RECORD:!0,INTERRUPTED:!0}).result}})});var Iz=P((UIr,Bde)=>{"use strict";p();var sdt=Ht(),Fde=Yt(),ldt=Mi(),udt=Yc();Bde.exports=function(e,t){(!t||typeof e!="string")&&Fde(e);var r=udt(e);return ldt(Fde(r!==void 0?sdt(r,e):e))}});var Pz=P(()=>{"use strict";p();var cdt=ie(),Mz=Ht(),pdt=Cr(),Cz=Yt(),fdt=Mi(),ddt=Iz(),hdt=bh(),Az=Ho(),Ude=In(),mdt=Zu(),Tz=!Ude&&mdt("flatMap",TypeError),gdt=hdt(function(){for(var e=this.iterator,t=this.mapper,r,n;;){if(n=this.inner)try{if(r=Cz(Mz(n.next,n.iterator)),!r.done)return r.value;this.inner=null}catch(i){Az(e,"throw",i)}if(r=Cz(Mz(this.next,e)),this.done=!!r.done)return;try{this.inner=ddt(t(r.value,this.counter++),!1)}catch(i){Az(e,"throw",i)}}});cdt({target:"Iterator",proto:!0,real:!0,forced:Ude||Tz},{flatMap:function(t){Cz(this);try{pdt(t)}catch(r){Az(this,"throw",r)}return Tz?Mz(Tz,this,t):new gdt(fdt(this),{mapper:t,inner:null})}})});var Dz=P(()=>{"use strict";p();var vdt=ie(),ydt=Ht(),_dt=Li(),bdt=Cr(),xdt=Yt(),wdt=Mi(),Sdt=Ho(),Edt=Zu(),Oz=Edt("forEach",TypeError);vdt({target:"Iterator",proto:!0,real:!0,forced:Oz},{forEach:function(t){xdt(this);try{bdt(t)}catch(i){Sdt(this,"throw",i)}if(Oz)return ydt(Oz,this,t);var r=wdt(this),n=0;_dt(r,function(i){t(i,n++)},{IS_RECORD:!0})}})});var kz=P(()=>{"use strict";p();var Idt=ie(),Tdt=Ht(),Mdt=ln(),Cdt=pa(),Adt=ph().IteratorPrototype,Pdt=bh(),Odt=Iz(),Ddt=In(),kdt=Pdt(function(){return Tdt(this.next,this.iterator)},!0);Idt({target:"Iterator",stat:!0,forced:Ddt},{from:function(t){var r=Odt(typeof t=="string"?Mdt(t):t,!0);return Cdt(Adt,r.iterator)?r.iterator:new kdt(r)}})});var MA=P(()=>{"use strict";p();var Ndt=ie(),Vde=Ht(),Rdt=Cr(),$de=Yt(),Ldt=Mi(),qdt=bh(),zdt=rA(),jdt=Ho(),Fdt=Zu(),Gde=In(),Nz=!Gde&&Fdt("map",TypeError),Bdt=qdt(function(){var e=this.iterator,t=$de(Vde(this.next,e)),r=this.done=!!t.done;if(!r)return zdt(e,this.mapper,[t.value,this.counter++],!0)});Ndt({target:"Iterator",proto:!0,real:!0,forced:Gde||Nz},{map:function(t){$de(this);try{Rdt(t)}catch(r){jdt(this,"throw",r)}return Nz?Vde(Nz,this,t):new Bdt(Ldt(this),{mapper:t})}})});var Lz=P(()=>{"use strict";p();var Udt=ie(),Vdt=Li(),$dt=Cr(),Gdt=Yt(),Hdt=Mi(),Wdt=Ho(),Zdt=Zu(),Ydt=fa(),Kdt=Mt(),Hde=TypeError,Wde=Kdt(function(){[].keys().reduce(function(){},void 0)}),Rz=!Wde&&Zdt("reduce",Hde);Udt({target:"Iterator",proto:!0,real:!0,forced:Wde||Rz},{reduce:function(t){Gdt(this);try{$dt(t)}catch(u){Wdt(this,"throw",u)}var r=arguments.length<2,n=r?void 0:arguments[1];if(Rz)return Ydt(Rz,this,r?[t]:[t,n]);var i=Hdt(this),o=0;if(Vdt(i,function(u){r?(r=!1,n=u):n=t(n,u,o),o++},{IS_RECORD:!0}),r)throw new Hde("Reduce of empty iterator with no initial value");return n}})});var zz=P(()=>{"use strict";p();var Xdt=ie(),Qdt=Ht(),Jdt=Li(),eht=Cr(),tht=Yt(),rht=Mi(),nht=Ho(),iht=Zu(),qz=iht("some",TypeError);Xdt({target:"Iterator",proto:!0,real:!0,forced:qz},{some:function(t){tht(this);try{eht(t)}catch(i){nht(this,"throw",i)}if(qz)return Qdt(qz,this,t);var r=rht(this),n=0;return Jdt(r,function(i,o){if(t(i,n++))return o()},{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})});var Fz=P(()=>{"use strict";p();var oht=ie(),Zde=Ht(),Yde=Yt(),aht=Mi(),sht=M0(),lht=C0(),uht=bh(),Kde=Ho(),cht=Zu(),Xde=In(),jz=!Xde&&cht("take",RangeError),pht=uht(function(){var e=this.iterator;if(!this.remaining--)return this.done=!0,Kde(e,"normal",void 0);var t=Yde(Zde(this.next,e)),r=this.done=!!t.done;if(!r)return t.value});oht({target:"Iterator",proto:!0,real:!0,forced:Xde||jz},{take:function(t){Yde(this);var r;try{r=lht(sht(+t))}catch(n){Kde(this,"throw",n)}return jz?Zde(jz,this,r):new pht(aht(this),{remaining:r})}})});var Bz=P(()=>{"use strict";p();var fht=ie(),dht=Yt(),hht=Li(),mht=Mi(),ght=[].push;fht({target:"Iterator",proto:!0,real:!0},{toArray:function(){var t=[];return hht(mht(dht(this)),ght,{that:t,IS_RECORD:!0}),t}})});var Qde=P(()=>{"use strict";p();var vht=Gt(),yht=ms();yht(vht.JSON,"JSON",!0)});var CA=P((vTr,Jde)=>{"use strict";p();var _ht=Mt();Jde.exports=_ht(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}})});var PA=P((_Tr,the)=>{"use strict";p();var bht=Mt(),xht=xr(),wht=ca(),ehe=CA(),AA=Object.isExtensible,Sht=bht(function(){AA(1)});the.exports=Sht||ehe?function(t){return!xht(t)||ehe&&wht(t)==="ArrayBuffer"?!1:AA?AA(t):!0}:AA});var If=P((xTr,rhe)=>{"use strict";p();var Eht=Mt();rhe.exports=!Eht(function(){return Object.isExtensible(Object.preventExtensions({}))})});var xh=P((STr,ohe)=>{"use strict";p();var Iht=ie(),Tht=mt(),Mht=p0(),Cht=xr(),Uz=Xr(),Aht=ui().f,nhe=ih(),Pht=qC(),Vz=PA(),Oht=nh(),Dht=If(),ihe=!1,Tf=Oht("meta"),kht=0,$z=function(e){Aht(e,Tf,{value:{objectID:"O"+kht++,weakData:{}}})},Nht=function(e,t){if(!Cht(e))return typeof e=="symbol"?e:(typeof e=="string"?"S":"P")+e;if(!Uz(e,Tf)){if(!Vz(e))return"F";if(!t)return"E";$z(e)}return e[Tf].objectID},Rht=function(e,t){if(!Uz(e,Tf)){if(!Vz(e))return!0;if(!t)return!1;$z(e)}return e[Tf].weakData},Lht=function(e){return Dht&&ihe&&Vz(e)&&!Uz(e,Tf)&&$z(e),e},qht=function(){zht.enable=function(){},ihe=!0;var e=nhe.f,t=Tht([].splice),r={};r[Tf]=1,e(r).length&&(nhe.f=function(n){for(var i=e(n),o=0,u=i.length;o<u;o++)if(i[o]===Tf){t(i,o,1);break}return i},Iht({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:Pht.f}))},zht=ohe.exports={enable:qht,fastKey:Nht,getWeakData:Rht,onFreeze:Lht};Mht[Tf]=!0});var Gw=P((ITr,she)=>{"use strict";p();var jht=ie(),Fht=Gt(),Bht=mt(),ahe=d0(),Uht=Gn(),Vht=xh(),$ht=Li(),Ght=$a(),Hht=Wr(),Wht=qs(),Gz=xr(),Hz=Mt(),Zht=Ow(),Yht=ms(),Kht=lh();she.exports=function(e,t,r){var n=e.indexOf("Map")!==-1,i=e.indexOf("Weak")!==-1,o=n?"set":"add",u=Fht[e],d=u&&u.prototype,g=u,_={},I=function(L){var F=Bht(d[L]);Uht(d,L,L==="add"?function(Y){return F(this,Y===0?0:Y),this}:L==="delete"?function(H){return i&&!Gz(H)?!1:F(this,H===0?0:H)}:L==="get"?function(Y){return i&&!Gz(Y)?void 0:F(this,Y===0?0:Y)}:L==="has"?function(Y){return i&&!Gz(Y)?!1:F(this,Y===0?0:Y)}:function(Y,te){return F(this,Y===0?0:Y,te),this})},T=ahe(e,!Hht(u)||!(i||d.forEach&&!Hz(function(){new u().entries().next()})));if(T)g=r.getConstructor(t,e,n,o),Vht.enable();else if(ahe(e,!0)){var A=new g,q=A[o](i?{}:-0,1)!==A,z=Hz(function(){A.has(1)}),U=Zht(function(L){new u(L)}),N=!i&&Hz(function(){for(var L=new u,F=5;F--;)L[o](F,F);return!L.has(-0)});U||(g=t(function(L,F){Ght(L,d);var H=Kht(new u,L,g);return Wht(F)||$ht(F,H[o],{that:H,AS_ENTRIES:n}),H}),g.prototype=d,d.constructor=g),(z||N)&&(I("delete"),I("has"),n&&I("get")),(N||q)&&I(o),i&&d.clear&&delete d.clear}return _[e]=g,jht({global:!0,constructor:!0,forced:g!==u},_),Yht(g,e),i||r.setStrong(g,e,n),g}});var Zz=P((MTr,dhe)=>{"use strict";p();var lhe=Xi(),Xht=_i(),uhe=tu(),Qht=Jn(),Jht=$a(),emt=qs(),tmt=Li(),rmt=oA(),OA=No(),nmt=hh(),Hw=hr(),che=xh().fastKey,fhe=jn(),phe=fhe.set,Wz=fhe.getterFor;dhe.exports={getConstructor:function(e,t,r,n){var i=e(function(_,I){Jht(_,o),phe(_,{type:t,index:lhe(null),first:null,last:null,size:0}),Hw||(_.size=0),emt(I)||tmt(I,_[n],{that:_,AS_ENTRIES:r})}),o=i.prototype,u=Wz(t),d=function(_,I,T){var A=u(_),q=g(_,I),z,U;return q?q.value=T:(A.last=q={index:U=che(I,!0),key:I,value:T,previous:z=A.last,next:null,removed:!1},A.first||(A.first=q),z&&(z.next=q),Hw?A.size++:_.size++,U!=="F"&&(A.index[U]=q)),_},g=function(_,I){var T=u(_),A=che(I),q;if(A!=="F")return T.index[A];for(q=T.first;q;q=q.next)if(q.key===I)return q};return uhe(o,{clear:function(){for(var I=this,T=u(I),A=T.first;A;)A.removed=!0,A.previous&&(A.previous=A.previous.next=null),A=A.next;T.first=T.last=null,T.index=lhe(null),Hw?T.size=0:I.size=0},delete:function(_){var I=this,T=u(I),A=g(I,_);if(A){var q=A.next,z=A.previous;delete T.index[A.index],A.removed=!0,z&&(z.next=q),q&&(q.previous=z),T.first===A&&(T.first=q),T.last===A&&(T.last=z),Hw?T.size--:I.size--}return!!A},forEach:function(I){for(var T=u(this),A=Qht(I,arguments.length>1?arguments[1]:void 0),q;q=q?q.next:T.first;)for(A(q.value,q.key,this);q&&q.removed;)q=q.previous},has:function(I){return!!g(this,I)}}),uhe(o,r?{get:function(I){var T=g(this,I);return T&&T.value},set:function(I,T){return d(this,I===0?0:I,T)}}:{add:function(I){return d(this,I=I===0?0:I,I)}}),Hw&&Xht(o,"size",{configurable:!0,get:function(){return u(this).size}}),i},setStrong:function(e,t,r){var n=t+" Iterator",i=Wz(t),o=Wz(n);rmt(e,t,function(u,d){phe(this,{type:n,target:u,state:i(u),kind:d,last:null})},function(){for(var u=o(this),d=u.kind,g=u.last;g&&g.removed;)g=g.previous;return!u.target||!(u.last=g=g?g.next:u.state.first)?(u.target=null,OA(void 0,!0)):OA(d==="keys"?g.key:d==="values"?g.value:[g.key,g.value],!1)},r?"entries":"values",!r,!0),nmt(t)}}});var hhe=P(()=>{"use strict";p();var imt=Gw(),omt=Zz();imt("Map",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},omt)});var DA=P(()=>{"use strict";p();hhe()});var Ro=P((RTr,mhe)=>{"use strict";p();var kA=mt(),Ww=Map.prototype;mhe.exports={Map,set:kA(Ww.set),get:kA(Ww.get),has:kA(Ww.has),remove:kA(Ww.delete),proto:Ww}});var Yz=P(()=>{"use strict";p();var amt=ie(),smt=mt(),lmt=Cr(),umt=pi(),cmt=Li(),NA=Ro(),ghe=In(),pmt=Mt(),vhe=NA.Map,fmt=NA.has,dmt=NA.get,hmt=NA.set,mmt=smt([].push),gmt=ghe||pmt(function(){return vhe.groupBy("ab",function(e){return e}).get("a").length!==1});amt({target:"Map",stat:!0,forced:ghe||gmt},{groupBy:function(t,r){umt(t),lmt(r);var n=new vhe,i=0;return cmt(t,function(o){var u=r(o,i++);fmt(n,u)?mmt(dmt(n,u),o):hmt(n,u,[o])}),n}})});var Kz=P((FTr,yhe)=>{"use strict";p();var vmt=Math.log;yhe.exports=Math.log1p||function(t){var r=+t;return r>-1e-8&&r<1e-8?r-r*r/2:vmt(1+r)}});var bhe=P(()=>{"use strict";p();var ymt=ie(),_mt=Kz(),Xz=Math.acosh,bmt=Math.log,_he=Math.sqrt,xmt=Math.LN2,wmt=!Xz||Math.floor(Xz(Number.MAX_VALUE))!==710||Xz(1/0)!==1/0;ymt({target:"Math",stat:!0,forced:wmt},{acosh:function(t){var r=+t;return r<1?NaN:r>94906265.62425156?bmt(r)+xmt:_mt(r-1+_he(r-1)*_he(r+1))}})});var She=P(()=>{"use strict";p();var Smt=ie(),xhe=Math.asinh,Emt=Math.log,Imt=Math.sqrt;function whe(e){var t=+e;return!isFinite(t)||t===0?t:t<0?-whe(-t):Emt(t+Imt(t*t+1))}var Tmt=!(xhe&&1/xhe(0)>0);Smt({target:"Math",stat:!0,forced:Tmt},{asinh:whe})});var Ihe=P(()=>{"use strict";p();var Mmt=ie(),Ehe=Math.atanh,Cmt=Math.log,Amt=!(Ehe&&1/Ehe(-0)<0);Mmt({target:"Math",stat:!0,forced:Amt},{atanh:function(t){var r=+t;return r===0?r:Cmt((1+r)/(1-r))/2}})});var The=P(()=>{"use strict";p();var Pmt=ie(),Omt=pA(),Dmt=Math.abs,kmt=Math.pow;Pmt({target:"Math",stat:!0},{cbrt:function(t){var r=+t;return Omt(r)*kmt(Dmt(r),1/3)}})});var Mhe=P(()=>{"use strict";p();var Nmt=ie(),Rmt=Math.floor,Lmt=Math.log,qmt=Math.LOG2E;Nmt({target:"Math",stat:!0},{clz32:function(t){var r=t>>>0;return r?31-Rmt(Lmt(r+.5)*qmt):32}})});var Yw=P((nMr,Che)=>{"use strict";p();var Zw=Math.expm1,zmt=Math.exp;Che.exports=!Zw||Zw(10)>22025.465794806718||Zw(10)<22025.465794806718||Zw(-2e-17)!==-2e-17?function(t){var r=+t;return r===0?r:r>-1e-6&&r<1e-6?r+r*r/2:zmt(r)-1}:Zw});var Phe=P(()=>{"use strict";p();var jmt=ie(),Fmt=Yw(),Ahe=Math.cosh,Bmt=Math.abs,Qz=Math.E,Umt=!Ahe||Ahe(710)===1/0;jmt({target:"Math",stat:!0,forced:Umt},{cosh:function(t){var r=Fmt(Bmt(t)-1)+1;return(r+1/(r*Qz*Qz))*(Qz/2)}})});var Dhe=P(()=>{"use strict";p();var Vmt=ie(),Ohe=Yw();Vmt({target:"Math",stat:!0,forced:Ohe!==Math.expm1},{expm1:Ohe})});var khe=P(()=>{"use strict";p();var $mt=ie(),Gmt=fA();$mt({target:"Math",stat:!0},{fround:Gmt})});var Jz=P(()=>{"use strict";p();var Hmt=ie(),Wmt=h9(),Zmt=.0009765625,Ymt=65504,Kmt=6103515625e-14;Hmt({target:"Math",stat:!0},{f16round:function(t){return Wmt(t,Zmt,Ymt,Kmt)}})});var Rhe=P(()=>{"use strict";p();var Xmt=ie(),Nhe=Math.hypot,Qmt=Math.abs,Jmt=Math.sqrt,egt=!!Nhe&&Nhe(1/0,NaN)!==1/0;Xmt({target:"Math",stat:!0,arity:2,forced:egt},{hypot:function(t,r){for(var n=0,i=0,o=arguments.length,u=0,d,g;i<o;)d=Qmt(arguments[i++]),u<d?(g=u/d,n=n*g*g+1,u=d):d>0?(g=d/u,n+=g*g):n+=d;return u===1/0?1/0:u*Jmt(n)}})});var qhe=P(()=>{"use strict";p();var tgt=ie(),rgt=Mt(),Lhe=Math.imul,ngt=rgt(function(){return Lhe(4294967295,5)!==-5||Lhe.length!==2});tgt({target:"Math",stat:!0,forced:ngt},{imul:function(t,r){var n=65535,i=+t,o=+r,u=n&i,d=n&o;return 0|u*d+((n&i>>>16)*d+u*(n&o>>>16)<<16>>>0)}})});var ej=P((SMr,zhe)=>{"use strict";p();var igt=Math.log,ogt=Math.LOG10E;zhe.exports=Math.log10||function(t){return igt(t)*ogt}});var jhe=P(()=>{"use strict";p();var agt=ie(),sgt=ej();agt({target:"Math",stat:!0},{log10:sgt})});var Fhe=P(()=>{"use strict";p();var lgt=ie(),ugt=Kz();lgt({target:"Math",stat:!0},{log1p:ugt})});var Bhe=P(()=>{"use strict";p();var cgt=ie(),pgt=N9();cgt({target:"Math",stat:!0},{log2:pgt})});var Uhe=P(()=>{"use strict";p();var fgt=ie(),dgt=pA();fgt({target:"Math",stat:!0},{sign:dgt})});var Ghe=P(()=>{"use strict";p();var hgt=ie(),mgt=Mt(),Vhe=Yw(),ggt=Math.abs,$he=Math.exp,vgt=Math.E,ygt=mgt(function(){return Math.sinh(-2e-17)!==-2e-17});hgt({target:"Math",stat:!0,forced:ygt},{sinh:function(t){var r=+t;return ggt(r)<1?(Vhe(r)-Vhe(-r))/2:($he(r-1)-$he(-r-1))*(vgt/2)}})});var Zhe=P(()=>{"use strict";p();var _gt=ie(),Hhe=Yw(),Whe=Math.exp;_gt({target:"Math",stat:!0},{tanh:function(t){var r=+t,n=Hhe(r),i=Hhe(-r);return n===1/0?1:i===1/0?-1:(n-i)/(Whe(r)+Whe(-r))}})});var Yhe=P(()=>{"use strict";p();var bgt=ms();bgt(Math,"Math",!0)});var Khe=P(()=>{"use strict";p();var xgt=ie(),wgt=G8();xgt({target:"Math",stat:!0},{trunc:wgt})});var Kw=P((YMr,Xhe)=>{"use strict";p();var Sgt=mt();Xhe.exports=Sgt(1 .valueOf)});var Sg=P((XMr,Qhe)=>{"use strict";p();Qhe.exports=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`});var Eg=P((JMr,eme)=>{"use strict";p();var Egt=mt(),Igt=pi(),Tgt=Lr(),rj=Sg(),Jhe=Egt("".replace),Mgt=RegExp("^["+rj+"]+"),Cgt=RegExp("(^|[^"+rj+"])["+rj+"]+$"),tj=function(e){return function(t){var r=Tgt(Igt(t));return e&1&&(r=Jhe(r,Mgt,"")),e&2&&(r=Jhe(r,Cgt,"$1")),r}};eme.exports={start:tj(1),end:tj(2),trim:tj(3)}});var sme=P(()=>{"use strict";p();var Agt=ie(),nj=In(),Pgt=hr(),nme=Gt(),ij=zC(),ime=mt(),Ogt=d0(),tme=Xr(),Dgt=lh(),kgt=pa(),Ngt=mf(),ome=dw(),Rgt=Mt(),Lgt=ih().f,qgt=$o().f,zgt=ui().f,jgt=Kw(),Fgt=Eg().trim,Xw="Number",A0=nme[Xw],rme=ij[Xw],oj=A0.prototype,Bgt=nme.TypeError,Ugt=ime("".slice),RA=ime("".charCodeAt),Vgt=function(e){var t=ome(e,"number");return typeof t=="bigint"?t:$gt(t)},$gt=function(e){var t=ome(e,"number"),r,n,i,o,u,d,g,_;if(Ngt(t))throw new Bgt("Cannot convert a Symbol value to a number");if(typeof t=="string"&&t.length>2){if(t=Fgt(t),r=RA(t,0),r===43||r===45){if(n=RA(t,2),n===88||n===120)return NaN}else if(r===48){switch(RA(t,1)){case 66:case 98:i=2,o=49;break;case 79:case 111:i=8,o=55;break;default:return+t}for(u=Ugt(t,2),d=u.length,g=0;g<d;g++)if(_=RA(u,g),_<48||_>o)return NaN;return parseInt(u,i)}}return+t},aj=Ogt(Xw,!A0(" 0o1")||!A0("0b1")||A0("+0x1")),Ggt=function(e){return kgt(oj,e)&&Rgt(function(){jgt(e)})},LA=function(t){var r=arguments.length<1?0:A0(Vgt(t));return Ggt(this)?Dgt(Object(r),this,LA):r};LA.prototype=oj;aj&&!nj&&(oj.constructor=LA);Agt({global:!0,constructor:!0,wrap:!0,forced:aj},{Number:LA});var ame=function(e,t){for(var r=Pgt?Lgt(t):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),n=0,i;r.length>n;n++)tme(t,i=r[n])&&!tme(e,i)&&zgt(e,i,qgt(t,i))};nj&&rme&&ame(ij[Xw],rme);(aj||nj)&&ame(ij[Xw],A0)});var lme=P(()=>{"use strict";p();var Hgt=ie();Hgt({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{EPSILON:Math.pow(2,-52)})});var sj=P((sCr,ume)=>{"use strict";p();var Wgt=Gt(),Zgt=Wgt.isFinite;ume.exports=Number.isFinite||function(t){return typeof t=="number"&&Zgt(t)}});var cme=P(()=>{"use strict";p();var Ygt=ie(),Kgt=sj();Ygt({target:"Number",stat:!0},{isFinite:Kgt})});var qA=P((fCr,pme)=>{"use strict";p();var Xgt=xr(),Qgt=Math.floor;pme.exports=Number.isInteger||function(t){return!Xgt(t)&&isFinite(t)&&Qgt(t)===t}});var fme=P(()=>{"use strict";p();var Jgt=ie(),evt=qA();Jgt({target:"Number",stat:!0},{isInteger:evt})});var dme=P(()=>{"use strict";p();var tvt=ie();tvt({target:"Number",stat:!0},{isNaN:function(t){return t!==t}})});var hme=P(()=>{"use strict";p();var rvt=ie(),nvt=qA(),ivt=Math.abs;rvt({target:"Number",stat:!0},{isSafeInteger:function(t){return nvt(t)&&ivt(t)<=9007199254740991}})});var mme=P(()=>{"use strict";p();var ovt=ie();ovt({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MAX_SAFE_INTEGER:9007199254740991})});var gme=P(()=>{"use strict";p();var avt=ie();avt({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MIN_SAFE_INTEGER:-9007199254740991})});var lj=P((ACr,bme)=>{"use strict";p();var _me=Gt(),svt=Mt(),lvt=mt(),uvt=Lr(),cvt=Eg().trim,pvt=Sg(),fvt=lvt("".charAt),zA=_me.parseFloat,vme=_me.Symbol,yme=vme&&vme.iterator,dvt=1/zA(pvt+"-0")!==-1/0||yme&&!svt(function(){zA(Object(yme))});bme.exports=dvt?function(t){var r=cvt(uvt(t)),n=zA(r);return n===0&&fvt(r,0)==="-"?-0:n}:zA});var wme=P(()=>{"use strict";p();var hvt=ie(),xme=lj();hvt({target:"Number",stat:!0,forced:Number.parseFloat!==xme},{parseFloat:xme})});var uj=P((NCr,Cme)=>{"use strict";p();var Tme=Gt(),mvt=Mt(),gvt=mt(),vvt=Lr(),yvt=Eg().trim,Sme=Sg(),Qw=Tme.parseInt,Eme=Tme.Symbol,Ime=Eme&&Eme.iterator,Mme=/^[+-]?0x/i,_vt=gvt(Mme.exec),bvt=Qw(Sme+"08")!==8||Qw(Sme+"0x16")!==22||Ime&&!mvt(function(){Qw(Object(Ime))});Cme.exports=bvt?function(t,r){var n=yvt(vvt(t));return Qw(n,r>>>0||(_vt(Mme,n)?16:10))}:Qw});var Pme=P(()=>{"use strict";p();var xvt=ie(),Ame=uj();xvt({target:"Number",stat:!0,forced:Number.parseInt!==Ame},{parseInt:Ame})});var Rme=P(()=>{"use strict";p();var wvt=ie(),pj=mt(),Svt=yi(),Evt=Kw(),Ivt=Uw(),Tvt=ej(),cj=Mt(),Mvt=RangeError,Ome=String,Cvt=isFinite,Avt=Math.abs,Pvt=Math.floor,Dme=Math.pow,Ovt=Math.round,Jc=pj(1 .toExponential),Dvt=pj(Ivt),kme=pj("".slice),Nme=Jc(-69e-12,4)==="-6.9000e-11"&&Jc(1.255,2)==="1.25e+0"&&Jc(12345,3)==="1.235e+4"&&Jc(25,0)==="3e+1",kvt=function(){return cj(function(){Jc(1,1/0)})&&cj(function(){Jc(1,-1/0)})},Nvt=function(){return!cj(function(){Jc(1/0,1/0),Jc(NaN,1/0)})},Rvt=!Nme||!kvt()||!Nvt();wvt({target:"Number",proto:!0,forced:Rvt},{toExponential:function(t){var r=Evt(this);if(t===void 0)return Jc(r);var n=Svt(t);if(!Cvt(r))return String(r);if(n<0||n>20)throw new Mvt("Incorrect fraction digits");if(Nme)return Jc(r,n);var i="",o,u,d,g;if(r<0&&(i="-",r=-r),r===0)u=0,o=Dvt("0",n+1);else{var _=Tvt(r);u=Pvt(_);var I=Dme(10,u-n),T=Ovt(r/I);2*r>=(2*T+1)*I&&(T+=1),T>=Dme(10,n+1)&&(T/=10,u+=1),o=Ome(T)}return n!==0&&(o=kme(o,0,1)+"."+kme(o,1)),u===0?(d="+",g="0"):(d=u>0?"+":"-",g=Ome(Avt(u))),o+="e"+d+g,i+o}})});var Bme=P(()=>{"use strict";p();var Lvt=ie(),hj=mt(),qvt=yi(),zvt=Kw(),jvt=Uw(),Lme=Mt(),Fvt=RangeError,jme=String,Fme=Math.floor,dj=hj(jvt),qme=hj("".slice),Jw=hj(1 .toFixed),O0=function(e,t,r){return t===0?r:t%2===1?O0(e,t-1,r*e):O0(e*e,t/2,r)},Bvt=function(e){for(var t=0,r=e;r>=4096;)t+=12,r/=4096;for(;r>=2;)t+=1,r/=2;return t},P0=function(e,t,r){for(var n=-1,i=r;++n<6;)i+=t*e[n],e[n]=i%1e7,i=Fme(i/1e7)},fj=function(e,t){for(var r=6,n=0;--r>=0;)n+=e[r],e[r]=Fme(n/t),n=n%t*1e7},zme=function(e){for(var t=6,r="";--t>=0;)if(r!==""||t===0||e[t]!==0){var n=jme(e[t]);r=r===""?n:r+dj("0",7-n.length)+n}return r},Uvt=Lme(function(){return Jw(8e-5,3)!=="0.000"||Jw(.9,0)!=="1"||Jw(1.255,2)!=="1.25"||Jw(0xde0b6b3a7640080,0)!=="1000000000000000128"})||!Lme(function(){Jw({})});Lvt({target:"Number",proto:!0,forced:Uvt},{toFixed:function(t){var r=zvt(this),n=qvt(t),i=[0,0,0,0,0,0],o="",u="0",d,g,_,I;if(n<0||n>20)throw new Fvt("Incorrect fraction digits");if(r!==r)return"NaN";if(r<=-1e21||r>=1e21)return jme(r);if(r<0&&(o="-",r=-r),r>1e-21)if(d=Bvt(r*O0(2,69,1))-69,g=d<0?r*O0(2,-d,1):r/O0(2,d,1),g*=4503599627370496,d=52-d,d>0){for(P0(i,0,g),_=n;_>=7;)P0(i,1e7,0),_-=7;for(P0(i,O0(10,_,1),0),_=d-1;_>=23;)fj(i,1<<23),_-=23;fj(i,1<<_),P0(i,1,1),fj(i,2),u=zme(i)}else P0(i,0,g),P0(i,1<<-d,0),u=zme(i)+dj("0",n);return n>0?(I=u.length,u=o+(I<=n?"0."+dj("0",n-I)+u:qme(u,0,I-n)+"."+qme(u,I-n))):u=o+u,u}})});var $me=P(()=>{"use strict";p();var Vvt=ie(),$vt=mt(),Ume=Mt(),Vme=Kw(),jA=$vt(1 .toPrecision),Gvt=Ume(function(){return jA(1,void 0)!=="1"})||!Ume(function(){jA({})});Vvt({target:"Number",proto:!0,forced:Gvt},{toPrecision:function(t){return t===void 0?jA(Vme(this)):jA(Vme(this),t)}})});var gj=P((ZCr,Wme)=>{"use strict";p();var Gme=hr(),Hvt=mt(),Wvt=Ht(),Zvt=Mt(),mj=dg(),Yvt=_w(),Kvt=pw(),Xvt=ln(),Qvt=hf(),D0=Object.assign,Hme=Object.defineProperty,Jvt=Hvt([].concat);Wme.exports=!D0||Zvt(function(){if(Gme&&D0({b:1},D0(Hme({},"a",{enumerable:!0,get:function(){Hme(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var e={},t={},r=Symbol("assign detection"),n="abcdefghijklmnopqrst";return e[r]=7,n.split("").forEach(function(i){t[i]=i}),D0({},e)[r]!==7||mj(D0({},t)).join("")!==n})?function(t,r){for(var n=Xvt(t),i=arguments.length,o=1,u=Yvt.f,d=Kvt.f;i>o;)for(var g=Qvt(arguments[o++]),_=u?Jvt(mj(g),u(g)):mj(g),I=_.length,T=0,A;I>T;)A=_[T++],(!Gme||Wvt(d,g,A))&&(n[A]=g[A]);return n}:D0});var Yme=P(()=>{"use strict";p();var eyt=ie(),Zme=gj();eyt({target:"Object",stat:!0,arity:2,forced:Object.assign!==Zme},{assign:Zme})});var Kme=P(()=>{"use strict";p();var tyt=ie(),ryt=hr(),nyt=Xi();tyt({target:"Object",stat:!0,sham:!ryt},{create:nyt})});var e2=P((rAr,Qme)=>{"use strict";p();var iyt=In(),oyt=Gt(),ayt=Mt(),Xme=cA();Qme.exports=iyt||!ayt(function(){if(!(Xme&&Xme<535)){var e=Math.random();__defineSetter__.call(null,e,function(){}),delete oyt[e]}})});var Jme=P(()=>{"use strict";p();var syt=ie(),lyt=hr(),uyt=e2(),cyt=Cr(),pyt=ln(),fyt=ui();lyt&&syt({target:"Object",proto:!0,forced:uyt},{__defineGetter__:function(t,r){fyt.f(pyt(this),t,{get:cyt(r),enumerable:!0,configurable:!0})}})});var tge=P(()=>{"use strict";p();var dyt=ie(),hyt=hr(),ege=NC().f;dyt({target:"Object",stat:!0,forced:Object.defineProperties!==ege,sham:!hyt},{defineProperties:ege})});var nge=P(()=>{"use strict";p();var myt=ie(),gyt=hr(),rge=ui().f;myt({target:"Object",stat:!0,forced:Object.defineProperty!==rge,sham:!gyt},{defineProperty:rge})});var ige=P(()=>{"use strict";p();var vyt=ie(),yyt=hr(),_yt=e2(),byt=Cr(),xyt=ln(),wyt=ui();yyt&&vyt({target:"Object",proto:!0,forced:_yt},{__defineSetter__:function(t,r){wyt.f(xyt(this),t,{set:byt(r),enumerable:!0,configurable:!0})}})});var vj=P((gAr,uge)=>{"use strict";p();var age=hr(),Syt=Mt(),sge=mt(),Eyt=wo(),Iyt=dg(),Tyt=bo(),Myt=pw().f,lge=sge(Myt),Cyt=sge([].push),Ayt=age&&Syt(function(){var e=Object.create(null);return e[2]=2,!lge(e,2)}),oge=function(e){return function(t){for(var r=Tyt(t),n=Iyt(r),i=Ayt&&Eyt(r)===null,o=n.length,u=0,d=[],g;o>u;)g=n[u++],(!age||(i?g in r:lge(r,g)))&&Cyt(d,e?[g,r[g]]:r[g]);return d}};uge.exports={entries:oge(!0),values:oge(!1)}});var cge=P(()=>{"use strict";p();var Pyt=ie(),Oyt=vj().entries;Pyt({target:"Object",stat:!0},{entries:function(t){return Oyt(t)}})});var pge=P(()=>{"use strict";p();var Dyt=ie(),kyt=If(),Nyt=Mt(),Ryt=xr(),Lyt=xh().onFreeze,yj=Object.freeze,qyt=Nyt(function(){yj(1)});Dyt({target:"Object",stat:!0,forced:qyt,sham:!kyt},{freeze:function(t){return yj&&Ryt(t)?yj(Lyt(t)):t}})});var fge=P(()=>{"use strict";p();var zyt=ie(),jyt=Li(),Fyt=Jl();zyt({target:"Object",stat:!0},{fromEntries:function(t){var r={};return jyt(t,function(n,i){Fyt(r,n,i)},{AS_ENTRIES:!0}),r}})});var mge=P(()=>{"use strict";p();var Byt=ie(),Uyt=Mt(),Vyt=bo(),dge=$o().f,hge=hr(),$yt=!hge||Uyt(function(){dge(1)});Byt({target:"Object",stat:!0,forced:$yt,sham:!hge},{getOwnPropertyDescriptor:function(t,r){return dge(Vyt(t),r)}})});var gge=P(()=>{"use strict";p();var Gyt=ie(),Hyt=hr(),Wyt=PC(),Zyt=bo(),Yyt=$o(),Kyt=Jl();Gyt({target:"Object",stat:!0,sham:!Hyt},{getOwnPropertyDescriptors:function(t){for(var r=Zyt(t),n=Yyt.f,i=Wyt(r),o={},u=0,d,g;i.length>u;)g=n(r,d=i[u++]),g!==void 0&&Kyt(o,d,g);return o}})});var vge=P(()=>{"use strict";p();var Xyt=ie(),Qyt=Mt(),Jyt=qC().f,e0t=Qyt(function(){return!Object.getOwnPropertyNames(1)});Xyt({target:"Object",stat:!0,forced:e0t},{getOwnPropertyNames:Jyt})});var _ge=P(()=>{"use strict";p();var t0t=ie(),r0t=Mt(),n0t=ln(),yge=wo(),i0t=KC(),o0t=r0t(function(){yge(1)});t0t({target:"Object",stat:!0,forced:o0t,sham:!i0t},{getPrototypeOf:function(t){return yge(n0t(t))}})});var _j=P(()=>{"use strict";p();var a0t=ie(),s0t=Mr(),l0t=mt(),u0t=Cr(),c0t=pi(),p0t=Wc(),f0t=Li(),d0t=Mt(),bge=Object.groupBy,h0t=s0t("Object","create"),m0t=l0t([].push),g0t=!bge||d0t(function(){return bge("ab",function(e){return e}).a.length!==1});a0t({target:"Object",stat:!0,forced:g0t},{groupBy:function(t,r){c0t(t),u0t(r);var n=h0t(null),i=0;return f0t(t,function(o){var u=p0t(r(o,i++));u in n?m0t(n[u],o):n[u]=[o]}),n}})});var bj=P(()=>{"use strict";p();var v0t=ie(),y0t=Xr();v0t({target:"Object",stat:!0},{hasOwn:y0t})});var FA=P((GAr,xge)=>{"use strict";p();xge.exports=Object.is||function(t,r){return t===r?t!==0||1/t===1/r:t!==t&&r!==r}});var wge=P(()=>{"use strict";p();var _0t=ie(),b0t=FA();_0t({target:"Object",stat:!0},{is:b0t})});var Ege=P(()=>{"use strict";p();var x0t=ie(),Sge=PA();x0t({target:"Object",stat:!0,forced:Object.isExtensible!==Sge},{isExtensible:Sge})});var Tge=P(()=>{"use strict";p();var w0t=ie(),S0t=Mt(),E0t=xr(),I0t=ca(),Ige=CA(),xj=Object.isFrozen,T0t=Ige||S0t(function(){xj(1)});w0t({target:"Object",stat:!0,forced:T0t},{isFrozen:function(t){return!E0t(t)||Ige&&I0t(t)==="ArrayBuffer"?!0:xj?xj(t):!1}})});var Cge=P(()=>{"use strict";p();var M0t=ie(),C0t=Mt(),A0t=xr(),P0t=ca(),Mge=CA(),wj=Object.isSealed,O0t=Mge||C0t(function(){wj(1)});M0t({target:"Object",stat:!0,forced:O0t},{isSealed:function(t){return!A0t(t)||Mge&&P0t(t)==="ArrayBuffer"?!0:wj?wj(t):!1}})});var Pge=P(()=>{"use strict";p();var D0t=ie(),k0t=ln(),Age=dg(),N0t=Mt(),R0t=N0t(function(){Age(1)});D0t({target:"Object",stat:!0,forced:R0t},{keys:function(t){return Age(k0t(t))}})});var Oge=P(()=>{"use strict";p();var L0t=ie(),q0t=hr(),z0t=e2(),j0t=ln(),F0t=Wc(),B0t=wo(),U0t=$o().f;q0t&&L0t({target:"Object",proto:!0,forced:z0t},{__lookupGetter__:function(t){var r=j0t(this),n=F0t(t),i;do if(i=U0t(r,n))return i.get;while(r=B0t(r))}})});var Dge=P(()=>{"use strict";p();var V0t=ie(),$0t=hr(),G0t=e2(),H0t=ln(),W0t=Wc(),Z0t=wo(),Y0t=$o().f;$0t&&V0t({target:"Object",proto:!0,forced:G0t},{__lookupSetter__:function(t){var r=H0t(this),n=W0t(t),i;do if(i=Y0t(r,n))return i.set;while(r=Z0t(r))}})});var kge=P(()=>{"use strict";p();var K0t=ie(),X0t=xr(),Q0t=xh().onFreeze,J0t=If(),e1t=Mt(),Sj=Object.preventExtensions,t1t=e1t(function(){Sj(1)});K0t({target:"Object",stat:!0,forced:t1t,sham:!J0t},{preventExtensions:function(t){return Sj&&X0t(t)?Sj(Q0t(t)):t}})});var zge=P(()=>{"use strict";p();var r1t=hr(),n1t=_i(),i1t=xr(),o1t=y7(),a1t=ln(),s1t=pi(),Nge=Object.getPrototypeOf,Rge=Object.setPrototypeOf,Lge=Object.prototype,qge="__proto__";if(r1t&&Nge&&Rge&&!(qge in Lge))try{n1t(Lge,qge,{configurable:!0,get:function(){return Nge(a1t(this))},set:function(t){var r=s1t(this);o1t(t)&&i1t(r)&&Rge(r,t)}})}catch(e){}});var jge=P(()=>{"use strict";p();var l1t=ie(),u1t=xr(),c1t=xh().onFreeze,p1t=If(),f1t=Mt(),Ej=Object.seal,d1t=f1t(function(){Ej(1)});l1t({target:"Object",stat:!0,forced:d1t,sham:!p1t},{seal:function(t){return Ej&&u1t(t)?Ej(c1t(t)):t}})});var Fge=P(()=>{"use strict";p();var h1t=ie(),m1t=Ql();h1t({target:"Object",stat:!0},{setPrototypeOf:m1t})});var Uge=P((T5r,Bge)=>{"use strict";p();var g1t=DC(),v1t=hs();Bge.exports=g1t?{}.toString:function(){return"[object "+v1t(this)+"]"}});var Vge=P(()=>{"use strict";p();var y1t=DC(),_1t=Gn(),b1t=Uge();y1t||_1t(Object.prototype,"toString",b1t,{unsafe:!0})});var $ge=P(()=>{"use strict";p();var x1t=ie(),w1t=vj().values;x1t({target:"Object",stat:!0},{values:function(t){return w1t(t)}})});var Hge=P(()=>{"use strict";p();var S1t=ie(),Gge=lj();S1t({global:!0,forced:parseFloat!==Gge},{parseFloat:Gge})});var Zge=P(()=>{"use strict";p();var E1t=ie(),Wge=uj();E1t({global:!0,forced:parseInt!==Wge},{parseInt:Wge})});var t2=P((F5r,Yge)=>{"use strict";p();var I1t=Gu(),T1t=rh(),M1t=TypeError;Yge.exports=function(e){if(I1t(e))return e;throw new M1t(T1t(e)+" is not a constructor")}});var r2=P((U5r,Xge)=>{"use strict";p();var Kge=Yt(),C1t=t2(),A1t=qs(),P1t=Ir(),O1t=P1t("species");Xge.exports=function(e,t){var r=Kge(e).constructor,n;return r===void 0||A1t(n=Kge(r)[O1t])?t:C1t(n)}});var Sl=P(($5r,Qge)=>{"use strict";p();var D1t=TypeError;Qge.exports=function(e,t){if(e<t)throw new D1t("Not enough arguments");return e}});var Ij=P((H5r,Jge)=>{"use strict";p();var k1t=ju();Jge.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(k1t)});var o2=P((Z5r,lve)=>{"use strict";p();var El=Gt(),N1t=fa(),R1t=Jn(),eve=Wr(),L1t=Xr(),sve=Mt(),tve=Z8(),q1t=js(),rve=hw(),z1t=Sl(),j1t=Ij(),F1t=bg(),Oj=El.setImmediate,Dj=El.clearImmediate,B1t=El.process,Tj=El.Dispatch,U1t=El.Function,nve=El.MessageChannel,V1t=El.String,Mj=0,n2={},ive="onreadystatechange",i2,Ig,Cj,Aj;sve(function(){i2=El.location});var kj=function(e){if(L1t(n2,e)){var t=n2[e];delete n2[e],t()}},Pj=function(e){return function(){kj(e)}},ove=function(e){kj(e.data)},ave=function(e){El.postMessage(V1t(e),i2.protocol+"//"+i2.host)};(!Oj||!Dj)&&(Oj=function(t){z1t(arguments.length,1);var r=eve(t)?t:U1t(t),n=q1t(arguments,1);return n2[++Mj]=function(){N1t(r,void 0,n)},Ig(Mj),Mj},Dj=function(t){delete n2[t]},F1t?Ig=function(e){B1t.nextTick(Pj(e))}:Tj&&Tj.now?Ig=function(e){Tj.now(Pj(e))}:nve&&!j1t?(Cj=new nve,Aj=Cj.port2,Cj.port1.onmessage=ove,Ig=R1t(Aj.postMessage,Aj)):El.addEventListener&&eve(El.postMessage)&&!El.importScripts&&i2&&i2.protocol!=="file:"&&!sve(ave)?(Ig=ave,El.addEventListener("message",ove,!1)):ive in rve("script")?Ig=function(e){tve.appendChild(rve("script"))[ive]=function(){tve.removeChild(this),kj(e)}}:Ig=function(e){setTimeout(Pj(e),0)});lve.exports={set:Oj,clear:Dj}});var Nj=P((K5r,cve)=>{"use strict";p();var uve=Gt(),$1t=hr(),G1t=Object.getOwnPropertyDescriptor;cve.exports=function(e){if(!$1t)return uve[e];var t=G1t(uve,e);return t&&t.value}});var Rj=P((Q5r,fve)=>{"use strict";p();var pve=function(){this.head=null,this.tail=null};pve.prototype={add:function(e){var t={item:e,next:null},r=this.tail;r?r.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e){var t=this.head=e.next;return t===null&&(this.tail=null),e.item}}};fve.exports=pve});var hve=P((e3r,dve)=>{"use strict";p();var H1t=ju();dve.exports=/ipad|iphone|ipod/i.test(H1t)&&typeof Pebble!="undefined"});var gve=P((r3r,mve)=>{"use strict";p();var W1t=ju();mve.exports=/web0s(?!.*chrome)/i.test(W1t)});var Bj=P((i3r,wve)=>{"use strict";p();var N0=Gt(),Z1t=Nj(),vve=Jn(),Lj=o2().set,Y1t=Rj(),K1t=Ij(),X1t=hve(),Q1t=gve(),qj=bg(),yve=N0.MutationObserver||N0.WebKitMutationObserver,_ve=N0.document,bve=N0.process,BA=N0.Promise,Fj=Z1t("queueMicrotask"),k0,zj,jj,UA,xve;Fj||(a2=new Y1t,s2=function(){var e,t;for(qj&&(e=bve.domain)&&e.exit();t=a2.get();)try{t()}catch(r){throw a2.head&&k0(),r}e&&e.enter()},!K1t&&!qj&&!Q1t&&yve&&_ve?(zj=!0,jj=_ve.createTextNode(""),new yve(s2).observe(jj,{characterData:!0}),k0=function(){jj.data=zj=!zj}):!X1t&&BA&&BA.resolve?(UA=BA.resolve(void 0),UA.constructor=BA,xve=vve(UA.then,UA),k0=function(){xve(s2)}):qj?k0=function(){bve.nextTick(s2)}:(Lj=vve(Lj,N0),k0=function(){Lj(s2)}),Fj=function(e){a2.head||k0(),a2.add(e)});var a2,s2;wve.exports=Fj});var Uj=P((a3r,Sve)=>{"use strict";p();Sve.exports=function(e,t){try{arguments.length===1?console.error(e):console.error(e,t)}catch(r){}}});var wh=P((l3r,Eve)=>{"use strict";p();Eve.exports=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}}});var Tg=P((c3r,Ive)=>{"use strict";p();var J1t=Gt();Ive.exports=J1t.Promise});var R0=P((f3r,Ave)=>{"use strict";p();var e_t=Gt(),l2=Tg(),t_t=Wr(),r_t=d0(),n_t=mw(),i_t=Ir(),Tve=qw(),o_t=In(),Vj=Bu(),Mve=l2&&l2.prototype,a_t=i_t("species"),$j=!1,Cve=t_t(e_t.PromiseRejectionEvent),s_t=r_t("Promise",function(){var e=n_t(l2),t=e!==String(l2);if(!t&&Vj===66||o_t&&!(Mve.catch&&Mve.finally))return!0;if(!Vj||Vj<51||!/native code/.test(e)){var r=new l2(function(o){o(1)}),n=function(o){o(function(){},function(){})},i=r.constructor={};if(i[a_t]=n,$j=r.then(function(){})instanceof n,!$j)return!0}return!t&&(Tve==="BROWSER"||Tve==="DENO")&&!Cve});Ave.exports={CONSTRUCTOR:s_t,REJECTION_EVENT:Cve,SUBCLASSING:$j}});var ep=P((h3r,Ove)=>{"use strict";p();var Pve=Cr(),l_t=TypeError,u_t=function(e){var t,r;this.promise=new e(function(n,i){if(t!==void 0||r!==void 0)throw new l_t("Bad Promise constructor");t=n,r=i}),this.resolve=Pve(t),this.reject=Pve(r)};Ove.exports.f=function(e){return new u_t(e)}});var Kve=P(()=>{"use strict";p();var c_t=ie(),p_t=In(),HA=bg(),Sh=Gt(),j0=Ht(),Dve=Gn(),kve=Ql(),f_t=ms(),d_t=hh(),h_t=Cr(),GA=Wr(),m_t=xr(),g_t=$a(),v_t=r2(),zve=o2().set,Yj=Bj(),y_t=Uj(),__t=wh(),b_t=Rj(),jve=jn(),WA=Tg(),Kj=R0(),Fve=ep(),ZA="Promise",Bve=Kj.CONSTRUCTOR,x_t=Kj.REJECTION_EVENT,w_t=Kj.SUBCLASSING,Gj=jve.getterFor(ZA),S_t=jve.set,L0=WA&&WA.prototype,Mg=WA,VA=L0,Uve=Sh.TypeError,Hj=Sh.document,Xj=Sh.process,Wj=Fve.f,E_t=Wj,I_t=!!(Hj&&Hj.createEvent&&Sh.dispatchEvent),Vve="unhandledrejection",T_t="rejectionhandled",Nve=0,$ve=1,M_t=2,Qj=1,Gve=2,$A,Rve,C_t,Lve,Hve=function(e){var t;return m_t(e)&&GA(t=e.then)?t:!1},Wve=function(e,t){var r=t.value,n=t.state===$ve,i=n?e.ok:e.fail,o=e.resolve,u=e.reject,d=e.domain,g,_,I;try{i?(n||(t.rejection===Gve&&P_t(t),t.rejection=Qj),i===!0?g=r:(d&&d.enter(),g=i(r),d&&(d.exit(),I=!0)),g===e.promise?u(new Uve("Promise-chain cycle")):(_=Hve(g))?j0(_,g,o,u):o(g)):u(r)}catch(T){d&&!I&&d.exit(),u(T)}},Zve=function(e,t){e.notified||(e.notified=!0,Yj(function(){for(var r=e.reactions,n;n=r.get();)Wve(n,e);e.notified=!1,t&&!e.rejection&&A_t(e)}))},Yve=function(e,t,r){var n,i;I_t?(n=Hj.createEvent("Event"),n.promise=t,n.reason=r,n.initEvent(e,!1,!0),Sh.dispatchEvent(n)):n={promise:t,reason:r},!x_t&&(i=Sh["on"+e])?i(n):e===Vve&&y_t("Unhandled promise rejection",r)},A_t=function(e){j0(zve,Sh,function(){var t=e.facade,r=e.value,n=qve(e),i;if(n&&(i=__t(function(){HA?Xj.emit("unhandledRejection",r,t):Yve(Vve,t,r)}),e.rejection=HA||qve(e)?Gve:Qj,i.error))throw i.value})},qve=function(e){return e.rejection!==Qj&&!e.parent},P_t=function(e){j0(zve,Sh,function(){var t=e.facade;HA?Xj.emit("rejectionHandled",t):Yve(T_t,t,e.value)})},q0=function(e,t,r){return function(n){e(t,n,r)}},z0=function(e,t,r){e.done||(e.done=!0,r&&(e=r),e.value=t,e.state=M_t,Zve(e,!0))},Zj=function(e,t,r){if(!e.done){e.done=!0,r&&(e=r);try{if(e.facade===t)throw new Uve("Promise can't be resolved itself");var n=Hve(t);n?Yj(function(){var i={done:!1};try{j0(n,t,q0(Zj,i,e),q0(z0,i,e))}catch(o){z0(i,o,e)}}):(e.value=t,e.state=$ve,Zve(e,!1))}catch(i){z0({done:!1},i,e)}}};if(Bve&&(Mg=function(t){g_t(this,VA),h_t(t),j0($A,this);var r=Gj(this);try{t(q0(Zj,r),q0(z0,r))}catch(n){z0(r,n)}},VA=Mg.prototype,$A=function(t){S_t(this,{type:ZA,done:!1,notified:!1,parent:!1,reactions:new b_t,rejection:!1,state:Nve,value:null})},$A.prototype=Dve(VA,"then",function(t,r){var n=Gj(this),i=Wj(v_t(this,Mg));return n.parent=!0,i.ok=GA(t)?t:!0,i.fail=GA(r)&&r,i.domain=HA?Xj.domain:void 0,n.state===Nve?n.reactions.add(i):Yj(function(){Wve(i,n)}),i.promise}),Rve=function(){var e=new $A,t=Gj(e);this.promise=e,this.resolve=q0(Zj,t),this.reject=q0(z0,t)},Fve.f=Wj=function(e){return e===Mg||e===C_t?new Rve(e):E_t(e)},!p_t&&GA(WA)&&L0!==Object.prototype)){Lve=L0.then,w_t||Dve(L0,"then",function(t,r){var n=this;return new Mg(function(i,o){j0(Lve,n,i,o)}).then(t,r)},{unsafe:!0});try{delete L0.constructor}catch(e){}kve&&kve(L0,VA)}c_t({global:!0,constructor:!0,wrap:!0,forced:Bve},{Promise:Mg});f_t(Mg,ZA,!1,!0);d_t(ZA)});var u2=P((_3r,Xve)=>{"use strict";p();var O_t=Tg(),D_t=Ow(),k_t=R0().CONSTRUCTOR;Xve.exports=k_t||!D_t(function(e){O_t.all(e).then(void 0,function(){})})});var Qve=P(()=>{"use strict";p();var N_t=ie(),R_t=Ht(),L_t=Cr(),q_t=ep(),z_t=wh(),j_t=Li(),F_t=u2();N_t({target:"Promise",stat:!0,forced:F_t},{all:function(t){var r=this,n=q_t.f(r),i=n.resolve,o=n.reject,u=z_t(function(){var d=L_t(r.resolve),g=[],_=0,I=1;j_t(t,function(T){var A=_++,q=!1;I++,R_t(d,r,T).then(function(z){q||(q=!0,g[A]=z,--I||i(g))},o)}),--I||i(g)});return u.error&&o(u.value),n.promise}})});var eye=P(()=>{"use strict";p();var B_t=ie(),U_t=In(),V_t=R0().CONSTRUCTOR,eF=Tg(),$_t=Mr(),G_t=Wr(),H_t=Gn(),Jve=eF&&eF.prototype;B_t({target:"Promise",proto:!0,forced:V_t,real:!0},{catch:function(e){return this.then(void 0,e)}});!U_t&&G_t(eF)&&(Jj=$_t("Promise").prototype.catch,Jve.catch!==Jj&&H_t(Jve,"catch",Jj,{unsafe:!0}));var Jj});var tye=P(()=>{"use strict";p();var W_t=ie(),Z_t=Ht(),Y_t=Cr(),K_t=ep(),X_t=wh(),Q_t=Li(),J_t=u2();W_t({target:"Promise",stat:!0,forced:J_t},{race:function(t){var r=this,n=K_t.f(r),i=n.reject,o=X_t(function(){var u=Y_t(r.resolve);Q_t(t,function(d){Z_t(u,r,d).then(n.resolve,i)})});return o.error&&i(o.value),n.promise}})});var rye=P(()=>{"use strict";p();var ebt=ie(),tbt=ep(),rbt=R0().CONSTRUCTOR;ebt({target:"Promise",stat:!0,forced:rbt},{reject:function(t){var r=tbt.f(this),n=r.reject;return n(t),r.promise}})});var tF=P((k3r,nye)=>{"use strict";p();var nbt=Yt(),ibt=xr(),obt=ep();nye.exports=function(e,t){if(nbt(e),ibt(t)&&t.constructor===e)return t;var r=obt.f(e),n=r.resolve;return n(t),r.promise}});var aye=P(()=>{"use strict";p();var abt=ie(),sbt=Mr(),iye=In(),lbt=Tg(),oye=R0().CONSTRUCTOR,ubt=tF(),cbt=sbt("Promise"),pbt=iye&&!oye;abt({target:"Promise",stat:!0,forced:iye||oye},{resolve:function(t){return ubt(pbt&&this===cbt?lbt:this,t)}})});var sye=P(()=>{"use strict";p();Kve();Qve();eye();tye();rye();aye()});var rF=P(()=>{"use strict";p();var fbt=ie(),dbt=Ht(),hbt=Cr(),mbt=ep(),gbt=wh(),vbt=Li(),ybt=u2();fbt({target:"Promise",stat:!0,forced:ybt},{allSettled:function(t){var r=this,n=mbt.f(r),i=n.resolve,o=n.reject,u=gbt(function(){var d=hbt(r.resolve),g=[],_=0,I=1;vbt(t,function(T){var A=_++,q=!1;I++,dbt(d,r,T).then(function(z){q||(q=!0,g[A]={status:"fulfilled",value:z},--I||i(g))},function(z){q||(q=!0,g[A]={status:"rejected",reason:z},--I||i(g))})}),--I||i(g)});return u.error&&o(u.value),n.promise}})});var nF=P(()=>{"use strict";p();var _bt=ie(),bbt=Ht(),xbt=Cr(),wbt=Mr(),Sbt=ep(),Ebt=wh(),Ibt=Li(),Tbt=u2(),lye="No one promise resolved";_bt({target:"Promise",stat:!0,forced:Tbt},{any:function(t){var r=this,n=wbt("AggregateError"),i=Sbt.f(r),o=i.resolve,u=i.reject,d=Ebt(function(){var g=xbt(r.resolve),_=[],I=0,T=1,A=!1;Ibt(t,function(q){var z=I++,U=!1;T++,bbt(g,r,q).then(function(N){U||A||(A=!0,o(N))},function(N){U||A||(U=!0,_[z]=N,--T||u(new n(_,lye)))})}),--T||u(new n(_,lye))});return d.error&&u(d.value),i.promise}})});var fye=P(()=>{"use strict";p();var Mbt=ie(),Cbt=In(),YA=Tg(),Abt=Mt(),cye=Mr(),pye=Wr(),Pbt=r2(),uye=tF(),Obt=Gn(),oF=YA&&YA.prototype,Dbt=!!YA&&Abt(function(){oF.finally.call({then:function(){}},function(){})});Mbt({target:"Promise",proto:!0,real:!0,forced:Dbt},{finally:function(e){var t=Pbt(this,cye("Promise")),r=pye(e);return this.then(r?function(n){return uye(t,e()).then(function(){return n})}:e,r?function(n){return uye(t,e()).then(function(){throw n})}:e)}});!Cbt&&pye(YA)&&(iF=cye("Promise").prototype.finally,oF.finally!==iF&&Obt(oF,"finally",iF,{unsafe:!0}));var iF});var sF=P(()=>{"use strict";p();var kbt=ie(),Nbt=Gt(),Rbt=fa(),Lbt=js(),qbt=ep(),zbt=Cr(),hye=wh(),aF=Nbt.Promise,dye=!1,jbt=!aF||!aF.try||hye(function(){aF.try(function(e){dye=e===8},8)}).error||!dye;kbt({target:"Promise",stat:!0,forced:jbt},{try:function(e){var t=arguments.length>1?Lbt(arguments,1):[],r=qbt.f(this),n=hye(function(){return Rbt(zbt(e),void 0,t)});return(n.error?r.reject:r.resolve)(n.value),r.promise}})});var lF=P(()=>{"use strict";p();var Fbt=ie(),Bbt=ep();Fbt({target:"Promise",stat:!0},{withResolvers:function(){var t=Bbt.f(this);return{promise:t.promise,resolve:t.resolve,reject:t.reject}}})});var mye=P(()=>{"use strict";p();var Ubt=ie(),Vbt=fa(),$bt=Cr(),Gbt=Yt(),Hbt=Mt(),Wbt=!Hbt(function(){Reflect.apply(function(){})});Ubt({target:"Reflect",stat:!0,forced:Wbt},{apply:function(t,r,n){return Vbt($bt(t),r,Gbt(n))}})});var wye=P(()=>{"use strict";p();var Zbt=ie(),Ybt=Mr(),uF=fa(),Kbt=oz(),gye=t2(),Xbt=Yt(),vye=xr(),Qbt=Xi(),_ye=Mt(),cF=Ybt("Reflect","construct"),Jbt=Object.prototype,ext=[].push,bye=_ye(function(){function e(){}return!(cF(function(){},[],e)instanceof e)}),xye=!_ye(function(){cF(function(){})}),yye=bye||xye;Zbt({target:"Reflect",stat:!0,forced:yye,sham:yye},{construct:function(t,r){gye(t),Xbt(r);var n=arguments.length<3?t:gye(arguments[2]);if(xye&&!bye)return cF(t,r,n);if(t===n){switch(r.length){case 0:return new t;case 1:return new t(r[0]);case 2:return new t(r[0],r[1]);case 3:return new t(r[0],r[1],r[2]);case 4:return new t(r[0],r[1],r[2],r[3])}var i=[null];return uF(ext,i,r),new(uF(Kbt,t,i))}var o=n.prototype,u=Qbt(vye(o)?o:Jbt),d=uF(t,u,r);return vye(d)?d:u}})});var Iye=P(()=>{"use strict";p();var txt=ie(),rxt=hr(),Sye=Yt(),nxt=Wc(),Eye=ui(),ixt=Mt(),oxt=ixt(function(){Reflect.defineProperty(Eye.f({},1,{value:1}),1,{value:2})});txt({target:"Reflect",stat:!0,forced:oxt,sham:!rxt},{defineProperty:function(t,r,n){Sye(t);var i=nxt(r);Sye(n);try{return Eye.f(t,i,n),!0}catch(o){return!1}}})});var Tye=P(()=>{"use strict";p();var axt=ie(),sxt=Yt(),lxt=$o().f;axt({target:"Reflect",stat:!0},{deleteProperty:function(t,r){var n=lxt(sxt(t),r);return n&&!n.configurable?!1:delete t[r]}})});var pF=P((h4r,Cye)=>{"use strict";p();var Mye=Xr();Cye.exports=function(e){return e!==void 0&&(Mye(e,"value")||Mye(e,"writable"))}});var Pye=P(()=>{"use strict";p();var uxt=ie(),cxt=Ht(),pxt=xr(),fxt=Yt(),dxt=pF(),hxt=$o(),mxt=wo();function Aye(e,t){var r=arguments.length<3?e:arguments[2],n,i;if(fxt(e)===r)return e[t];if(n=hxt.f(e,t),n)return dxt(n)?n.value:n.get===void 0?void 0:cxt(n.get,r);if(pxt(i=mxt(e)))return Aye(i,t,r)}uxt({target:"Reflect",stat:!0},{get:Aye})});var Oye=P(()=>{"use strict";p();var gxt=ie(),vxt=hr(),yxt=Yt(),_xt=$o();gxt({target:"Reflect",stat:!0,sham:!vxt},{getOwnPropertyDescriptor:function(t,r){return _xt.f(yxt(t),r)}})});var Dye=P(()=>{"use strict";p();var bxt=ie(),xxt=Yt(),wxt=wo(),Sxt=KC();bxt({target:"Reflect",stat:!0,sham:!Sxt},{getPrototypeOf:function(t){return wxt(xxt(t))}})});var kye=P(()=>{"use strict";p();var Ext=ie();Ext({target:"Reflect",stat:!0},{has:function(t,r){return r in t}})});var Nye=P(()=>{"use strict";p();var Ixt=ie(),Txt=Yt(),Mxt=PA();Ixt({target:"Reflect",stat:!0},{isExtensible:function(t){return Txt(t),Mxt(t)}})});var Rye=P(()=>{"use strict";p();var Cxt=ie(),Axt=PC();Cxt({target:"Reflect",stat:!0},{ownKeys:Axt})});var Lye=P(()=>{"use strict";p();var Pxt=ie(),Oxt=Mr(),Dxt=Yt(),kxt=If();Pxt({target:"Reflect",stat:!0,sham:!kxt},{preventExtensions:function(t){Dxt(t);try{var r=Oxt("Object","preventExtensions");return r&&r(t),!0}catch(n){return!1}}})});var Bye=P(()=>{"use strict";p();var Nxt=ie(),Rxt=Ht(),Lxt=Yt(),qye=xr(),qxt=pF(),zxt=Mt(),fF=ui(),zye=$o(),jxt=wo(),jye=Ls();function Fye(e,t,r){var n=arguments.length<4?e:arguments[3],i=zye.f(Lxt(e),t),o,u,d;if(!i){if(qye(u=jxt(e)))return Fye(u,t,r,n);i=jye(0)}if(qxt(i)){if(i.writable===!1||!qye(n))return!1;if(o=zye.f(n,t)){if(o.get||o.set||o.writable===!1)return!1;o.value=r,fF.f(n,t,o)}else fF.f(n,t,jye(0,r))}else{if(d=i.set,d===void 0)return!1;Rxt(d,n,r)}return!0}var Fxt=zxt(function(){var e=function(){},t=fF.f(new e,"a",{configurable:!0});return Reflect.set(e.prototype,"a",1,t)!==!1});Nxt({target:"Reflect",stat:!0,forced:Fxt},{set:Fye})});var Vye=P(()=>{"use strict";p();var Bxt=ie(),Uxt=Yt(),Vxt=_7(),Uye=Ql();Uye&&Bxt({target:"Reflect",stat:!0},{setPrototypeOf:function(t,r){Uxt(t),Vxt(r);try{return Uye(t,r),!0}catch(n){return!1}}})});var $ye=P(()=>{"use strict";p();var $xt=ie(),Gxt=Gt(),Hxt=ms();$xt({global:!0},{Reflect:{}});Hxt(Gxt.Reflect,"Reflect",!0)});var c2=P((H4r,Gye)=>{"use strict";p();var Wxt=xr(),Zxt=ca(),Yxt=Ir(),Kxt=Yxt("match");Gye.exports=function(e){var t;return Wxt(e)&&((t=e[Kxt])!==void 0?!!t:Zxt(e)==="RegExp")}});var KA=P((Z4r,Hye)=>{"use strict";p();var Xxt=Yt();Hye.exports=function(){var e=Xxt(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}});var F0=P((K4r,Zye)=>{"use strict";p();var Qxt=Ht(),Jxt=Xr(),ewt=pa(),twt=KA(),Wye=RegExp.prototype;Zye.exports=function(e){var t=e.flags;return t===void 0&&!("flags"in Wye)&&!Jxt(e,"flags")&&ewt(Wye,e)?Qxt(twt,e):t}});var p2=P((Q4r,Yye)=>{"use strict";p();var dF=Mt(),rwt=Gt(),hF=rwt.RegExp,mF=dF(function(){var e=hF("a","y");return e.lastIndex=2,e.exec("abcd")!==null}),nwt=mF||dF(function(){return!hF("a","y").sticky}),iwt=mF||dF(function(){var e=hF("^r","gy");return e.lastIndex=2,e.exec("str")!==null});Yye.exports={BROKEN_CARET:iwt,MISSED_STICKY:nwt,UNSUPPORTED_Y:mF}});var XA=P((ePr,Kye)=>{"use strict";p();var owt=Mt(),awt=Gt(),swt=awt.RegExp;Kye.exports=owt(function(){var e=swt(".","s");return!(e.dotAll&&e.test(`
`)&&e.flags==="s")})});var gF=P((rPr,Xye)=>{"use strict";p();var lwt=Mt(),uwt=Gt(),cwt=uwt.RegExp;Xye.exports=lwt(function(){var e=cwt("(?<a>b)","g");return e.exec("b").groups.a!=="b"||"b".replace(e,"$<a>c")!=="bc"})});var s0e=P(()=>{"use strict";p();var pwt=hr(),bF=Gt(),f2=mt(),fwt=d0(),dwt=lh(),hwt=xo(),mwt=Xi(),gwt=ih().f,Qye=pa(),vwt=c2(),Jye=Lr(),ywt=F0(),n0e=p2(),_wt=b7(),bwt=Gn(),xwt=Mt(),wwt=Xr(),Swt=jn().enforce,Ewt=hh(),Iwt=Ir(),i0e=XA(),o0e=gF(),Twt=Iwt("match"),Ih=bF.RegExp,B0=Ih.prototype,Mwt=bF.SyntaxError,Cwt=f2(B0.exec),QA=f2("".charAt),e0e=f2("".replace),t0e=f2("".indexOf),r0e=f2("".slice),Awt=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,Cg=/a/g,vF=/a/g,Pwt=new Ih(Cg)!==Cg,a0e=n0e.MISSED_STICKY,Owt=n0e.UNSUPPORTED_Y,Dwt=pwt&&(!Pwt||a0e||i0e||o0e||xwt(function(){return vF[Twt]=!1,Ih(Cg)!==Cg||Ih(vF)===vF||String(Ih(Cg,"i"))!=="/a/i"})),kwt=function(e){for(var t=e.length,r=0,n="",i=!1,o;r<=t;r++){if(o=QA(e,r),o==="\\"){n+=o+QA(e,++r);continue}!i&&o==="."?n+="[\\s\\S]":(o==="["?i=!0:o==="]"&&(i=!1),n+=o)}return n},Nwt=function(e){for(var t=e.length,r=0,n="",i=[],o=mwt(null),u=!1,d=!1,g=0,_="",I;r<=t;r++){if(I=QA(e,r),I==="\\")I+=QA(e,++r);else if(I==="]")u=!1;else if(!u)switch(!0){case I==="[":u=!0;break;case I==="(":if(n+=I,r0e(e,r+1,r+3)==="?:")continue;Cwt(Awt,r0e(e,r+1))&&(r+=2,d=!0),g++;continue;case I===">"&&d:if(_===""||wwt(o,_))throw new Mwt("Invalid capture group name");o[_]=!0,i[i.length]=[_,g],d=!1,_="";continue}d?_+=I:n+=I}return[n,i]};if(fwt("RegExp",Dwt)){for(Eh=function(t,r){var n=Qye(B0,this),i=vwt(t),o=r===void 0,u=[],d=t,g,_,I,T,A,q;if(!n&&i&&o&&t.constructor===Eh)return t;if((i||Qye(B0,t))&&(t=t.source,o&&(r=ywt(d))),t=t===void 0?"":Jye(t),r=r===void 0?"":Jye(r),d=t,i0e&&"dotAll"in Cg&&(_=!!r&&t0e(r,"s")>-1,_&&(r=e0e(r,/s/g,""))),g=r,a0e&&"sticky"in Cg&&(I=!!r&&t0e(r,"y")>-1,I&&Owt&&(r=e0e(r,/y/g,""))),o0e&&(T=Nwt(t),t=T[0],u=T[1]),A=dwt(Ih(t,r),n?this:B0,Eh),(_||I||u.length)&&(q=Swt(A),_&&(q.dotAll=!0,q.raw=Eh(kwt(t),g)),I&&(q.sticky=!0),u.length&&(q.groups=u)),t!==d)try{hwt(A,"source",d===""?"(?:)":d)}catch(z){}return A},yF=gwt(Ih),_F=0;yF.length>_F;)_wt(Eh,Ih,yF[_F++]);B0.constructor=Eh,Eh.prototype=B0,bwt(bF,"RegExp",Eh,{constructor:!0})}var Eh,yF,_F;Ewt("RegExp")});var d2=P((sPr,l0e)=>{"use strict";p();var Rwt=TypeError;l0e.exports=function(e){if(typeof e=="string")return e;throw new Rwt("Argument is not a string")}});var EF=P(()=>{"use strict";p();var Lwt=ie(),h2=mt(),qwt=d2(),zwt=Xr(),u0e=Vw().start,jwt=Sg(),Fwt=Array,c0e=RegExp.escape,p0e=h2("".charAt),SF=h2("".charCodeAt),Bwt=h2(1.1.toString),Uwt=h2([].join),d0e=/^[0-9a-z]/i,Vwt=/^[$()*+./?[\\\]^{|}]/,$wt=RegExp("^[!\"#%&',\\-:;<=>@`~"+jwt+"]"),xF=h2(d0e.exec),f0e={"\t":"t","\n":"n","\x0B":"v","\f":"f","\r":"r"},wF=function(e){var t=Bwt(SF(e,0),16);return t.length<3?"\\x"+u0e(t,2,"0"):"\\u"+u0e(t,4,"0")},Gwt=!c0e||c0e("ab")!=="\\x61b";Lwt({target:"RegExp",stat:!0,forced:Gwt},{escape:function(t){qwt(t);for(var r=t.length,n=Fwt(r),i=0;i<r;i++){var o=p0e(t,i);if(i===0&&xF(d0e,o))n[i]=wF(o);else if(zwt(f0e,o))n[i]="\\"+f0e[o];else if(xF(Vwt,o))n[i]="\\"+o;else if(xF($wt,o))n[i]=wF(o);else{var u=SF(o,0);(u&63488)!==55296?n[i]=o:u>=56320||i+1>=r||(SF(t,i+1)&64512)!==56320?n[i]=wF(o):(n[i]=o,n[++i]=p0e(t,i))}}return Uwt(n,"")}})});var m0e=P(()=>{"use strict";p();var Hwt=hr(),Wwt=XA(),Zwt=ca(),Ywt=_i(),Kwt=jn().get,h0e=RegExp.prototype,Xwt=TypeError;Hwt&&Wwt&&Ywt(h0e,"dotAll",{configurable:!0,get:function(){if(this!==h0e){if(Zwt(this)==="RegExp")return!!Kwt(this).dotAll;throw new Xwt("Incompatible receiver, RegExp required")}}})});var t5=P((mPr,v0e)=>{"use strict";p();var U0=Ht(),e5=mt(),Qwt=Lr(),Jwt=KA(),e2t=p2(),t2t=gf(),r2t=Xi(),n2t=jn().get,i2t=XA(),o2t=gF(),a2t=t2t("native-string-replace",String.prototype.replace),JA=RegExp.prototype.exec,TF=JA,s2t=e5("".charAt),l2t=e5("".indexOf),u2t=e5("".replace),IF=e5("".slice),MF=function(){var e=/a/,t=/b*/g;return U0(JA,e,"a"),U0(JA,t,"a"),e.lastIndex!==0||t.lastIndex!==0}(),g0e=e2t.BROKEN_CARET,CF=/()??/.exec("")[1]!==void 0,c2t=MF||CF||g0e||i2t||o2t;c2t&&(TF=function(t){var r=this,n=n2t(r),i=Qwt(t),o=n.raw,u,d,g,_,I,T,A;if(o)return o.lastIndex=r.lastIndex,u=U0(TF,o,i),r.lastIndex=o.lastIndex,u;var q=n.groups,z=g0e&&r.sticky,U=U0(Jwt,r),N=r.source,L=0,F=i;if(z&&(U=u2t(U,"y",""),l2t(U,"g")===-1&&(U+="g"),F=IF(i,r.lastIndex),r.lastIndex>0&&(!r.multiline||r.multiline&&s2t(i,r.lastIndex-1)!==`
`)&&(N="(?: "+N+")",F=" "+F,L++),d=new RegExp("^(?:"+N+")",U)),CF&&(d=new RegExp("^"+N+"$(?!\\s)",U)),MF&&(g=r.lastIndex),_=U0(JA,z?d:r,F),z?_?(_.input=IF(_.input,L),_[0]=IF(_[0],L),_.index=r.lastIndex,r.lastIndex+=_[0].length):r.lastIndex=0:MF&&_&&(r.lastIndex=r.global?_.index+_[0].length:g),CF&&_&&_.length>1&&U0(a2t,_[0],d,function(){for(I=1;I<arguments.length-2;I++)arguments[I]===void 0&&(_[I]=void 0)}),_&&q)for(_.groups=T=r2t(null),I=0;I<q.length;I++)A=q[I],T[A[0]]=_[A[1]];return _});v0e.exports=TF});var r5=P(()=>{"use strict";p();var p2t=ie(),y0e=t5();p2t({target:"RegExp",proto:!0,forced:/./.exec!==y0e},{exec:y0e})});var x0e=P(()=>{"use strict";p();var f2t=Gt(),d2t=hr(),h2t=_i(),m2t=KA(),g2t=Mt(),_0e=f2t.RegExp,b0e=_0e.prototype,v2t=d2t&&g2t(function(){var e=!0;try{_0e(".","d")}catch(g){e=!1}var t={},r="",n=e?"dgimsy":"gimsy",i=function(g,_){Object.defineProperty(t,g,{get:function(){return r+=_,!0}})},o={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};e&&(o.hasIndices="d");for(var u in o)i(u,o[u]);var d=Object.getOwnPropertyDescriptor(b0e,"flags").get.call(t);return d!==n||r!==n});v2t&&h2t(b0e,"flags",{configurable:!0,get:m2t})});var S0e=P(()=>{"use strict";p();var y2t=hr(),_2t=p2().MISSED_STICKY,b2t=ca(),x2t=_i(),w2t=jn().get,w0e=RegExp.prototype,S2t=TypeError;y2t&&_2t&&x2t(w0e,"sticky",{configurable:!0,get:function(){if(this!==w0e){if(b2t(this)==="RegExp")return!!w2t(this).sticky;throw new S2t("Incompatible receiver, RegExp required")}}})});var T0e=P(()=>{"use strict";p();r5();var E2t=ie(),E0e=Ht(),I2t=Wr(),I0e=Yt(),T2t=Lr(),M2t=function(){var e=!1,t=/[ac]/;return t.exec=function(){return e=!0,/./.exec.apply(this,arguments)},t.test("abc")===!0&&e}(),C2t=/./.test;E2t({target:"RegExp",proto:!0,forced:!M2t},{test:function(e){var t=I0e(this),r=T2t(e),n=t.exec;if(!I2t(n))return E0e(C2t,t,r);var i=E0e(n,t,r);return i===null?!1:(I0e(i),!0)}})});var P0e=P(()=>{"use strict";p();var A2t=cg().PROPER,P2t=Gn(),O2t=Yt(),M0e=Lr(),D2t=Mt(),k2t=F0(),AF="toString",C0e=RegExp.prototype,A0e=C0e[AF],N2t=D2t(function(){return A0e.call({source:"a",flags:"b"})!=="/a/b"}),R2t=A2t&&A0e.name!==AF;(N2t||R2t)&&P2t(C0e,AF,function(){var t=O2t(this),r=M0e(t.source),n=M0e(k2t(t));return"/"+r+"/"+n},{unsafe:!0})});var O0e=P(()=>{"use strict";p();var L2t=Gw(),q2t=Zz();L2t("Set",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},q2t)});var D0e=P(()=>{"use strict";p();O0e()});var Wo=P((zPr,k0e)=>{"use strict";p();var PF=mt(),n5=Set.prototype;k0e.exports={Set,add:PF(n5.add),has:PF(n5.has),remove:PF(n5.delete),proto:n5}});var da=P((FPr,N0e)=>{"use strict";p();var z2t=Wo().has;N0e.exports=function(e){return z2t(e),e}});var Mf=P((UPr,R0e)=>{"use strict";p();var j2t=Ht();R0e.exports=function(e,t,r){for(var n=r?e:e.iterator,i=e.next,o,u;!(o=j2t(i,n)).done;)if(u=t(o.value),u!==void 0)return u}});var Us=P(($Pr,F0e)=>{"use strict";p();var L0e=mt(),F2t=Mf(),q0e=Wo(),B2t=q0e.Set,z0e=q0e.proto,U2t=L0e(z0e.forEach),j0e=L0e(z0e.keys),V2t=j0e(new B2t).next;F0e.exports=function(e,t,r){return r?F2t({iterator:j0e(e),next:V2t},t):U2t(e,t)}});var i5=P((HPr,U0e)=>{"use strict";p();var B0e=Wo(),$2t=Us(),G2t=B0e.Set,H2t=B0e.add;U0e.exports=function(e){var t=new G2t;return $2t(e,function(r){H2t(t,r)}),t}});var V0=P((ZPr,V0e)=>{"use strict";p();var W2t=Cw(),Z2t=Wo();V0e.exports=W2t(Z2t.proto,"size","get")||function(e){return e.size}});var Th=P((KPr,Y0e)=>{"use strict";p();var $0e=Cr(),W0e=Yt(),G0e=Ht(),Y2t=yi(),K2t=Mi(),H0e="Invalid size",X2t=RangeError,Q2t=TypeError,J2t=Math.max,Z0e=function(e,t){this.set=e,this.size=J2t(t,0),this.has=$0e(e.has),this.keys=$0e(e.keys)};Z0e.prototype={getIterator:function(){return K2t(W0e(G0e(this.keys,this.set)))},includes:function(e){return G0e(this.has,this.set,e)}};Y0e.exports=function(e){W0e(e);var t=+e.size;if(t!==t)throw new Q2t(H0e);var r=Y2t(t);if(r<0)throw new X2t(H0e);return new Z0e(e,r)}});var OF=P((QPr,Q0e)=>{"use strict";p();var eSt=da(),X0e=Wo(),tSt=i5(),rSt=V0(),nSt=Th(),iSt=Us(),oSt=Mf(),aSt=X0e.has,K0e=X0e.remove;Q0e.exports=function(t){var r=eSt(this),n=nSt(t),i=tSt(r);return rSt(r)<=n.size?iSt(r,function(o){n.includes(o)&&K0e(i,o)}):oSt(n.getIterator(),function(o){aSt(r,o)&&K0e(i,o)}),i}});var Mh=P((eOr,t1e)=>{"use strict";p();var sSt=Mr(),J0e=function(e){return{size:e,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}},e1e=function(e){return{size:e,has:function(){return!0},keys:function(){throw new Error("e")}}};t1e.exports=function(e,t){var r=sSt("Set");try{new r()[e](J0e(0));try{return new r()[e](J0e(-1)),!1}catch(i){if(!t)return!0;try{return new r()[e](e1e(-1/0)),!1}catch(o){var n=new r;return n.add(1),n.add(2),t(n[e](e1e(1/0)))}}}catch(i){return!1}}});var DF=P(()=>{"use strict";p();var lSt=ie(),uSt=OF(),cSt=Mh(),pSt=!cSt("difference",function(e){return e.size===0});lSt({target:"Set",proto:!0,real:!0,forced:pSt},{difference:uSt})});var NF=P((oOr,n1e)=>{"use strict";p();var fSt=da(),kF=Wo(),dSt=V0(),hSt=Th(),mSt=Us(),gSt=Mf(),vSt=kF.Set,r1e=kF.add,ySt=kF.has;n1e.exports=function(t){var r=fSt(this),n=hSt(t),i=new vSt;return dSt(r)>n.size?gSt(n.getIterator(),function(o){ySt(r,o)&&r1e(i,o)}):mSt(r,function(o){n.includes(o)&&r1e(i,o)}),i}});var RF=P(()=>{"use strict";p();var _St=ie(),bSt=Mt(),xSt=NF(),wSt=Mh(),SSt=!wSt("intersection",function(e){return e.size===2&&e.has(1)&&e.has(2)})||bSt(function(){return String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))!=="3,2"});_St({target:"Set",proto:!0,real:!0,forced:SSt},{intersection:xSt})});var LF=P((cOr,i1e)=>{"use strict";p();var ESt=da(),ISt=Wo().has,TSt=V0(),MSt=Th(),CSt=Us(),ASt=Mf(),PSt=Ho();i1e.exports=function(t){var r=ESt(this),n=MSt(t);if(TSt(r)<=n.size)return CSt(r,function(o){if(n.includes(o))return!1},!0)!==!1;var i=n.getIterator();return ASt(i,function(o){if(ISt(r,o))return PSt(i,"normal",!1)})!==!1}});var qF=P(()=>{"use strict";p();var OSt=ie(),DSt=LF(),kSt=Mh(),NSt=!kSt("isDisjointFrom",function(e){return!e});OSt({target:"Set",proto:!0,real:!0,forced:NSt},{isDisjointFrom:DSt})});var zF=P((mOr,o1e)=>{"use strict";p();var RSt=da(),LSt=V0(),qSt=Us(),zSt=Th();o1e.exports=function(t){var r=RSt(this),n=zSt(t);return LSt(r)>n.size?!1:qSt(r,function(i){if(!n.includes(i))return!1},!0)!==!1}});var jF=P(()=>{"use strict";p();var jSt=ie(),FSt=zF(),BSt=Mh(),USt=!BSt("isSubsetOf",function(e){return e});jSt({target:"Set",proto:!0,real:!0,forced:USt},{isSubsetOf:FSt})});var FF=P((bOr,a1e)=>{"use strict";p();var VSt=da(),$St=Wo().has,GSt=V0(),HSt=Th(),WSt=Mf(),ZSt=Ho();a1e.exports=function(t){var r=VSt(this),n=HSt(t);if(GSt(r)<n.size)return!1;var i=n.getIterator();return WSt(i,function(o){if(!$St(r,o))return ZSt(i,"normal",!1)})!==!1}});var BF=P(()=>{"use strict";p();var YSt=ie(),KSt=FF(),XSt=Mh(),QSt=!XSt("isSupersetOf",function(e){return!e});YSt({target:"Set",proto:!0,real:!0,forced:QSt},{isSupersetOf:KSt})});var VF=P((IOr,s1e)=>{"use strict";p();var JSt=da(),UF=Wo(),eEt=i5(),tEt=Th(),rEt=Mf(),nEt=UF.add,iEt=UF.has,oEt=UF.remove;s1e.exports=function(t){var r=JSt(this),n=tEt(t).getIterator(),i=eEt(r);return rEt(n,function(o){iEt(r,o)?oEt(i,o):nEt(i,o)}),i}});var $F=P(()=>{"use strict";p();var aEt=ie(),sEt=VF(),lEt=Mh();aEt({target:"Set",proto:!0,real:!0,forced:!lEt("symmetricDifference")},{symmetricDifference:sEt})});var GF=P((POr,l1e)=>{"use strict";p();var uEt=da(),cEt=Wo().add,pEt=i5(),fEt=Th(),dEt=Mf();l1e.exports=function(t){var r=uEt(this),n=fEt(t).getIterator(),i=pEt(r);return dEt(n,function(o){cEt(i,o)}),i}});var HF=P(()=>{"use strict";p();var hEt=ie(),mEt=GF(),gEt=Mh();hEt({target:"Set",proto:!0,real:!0,forced:!gEt("union")},{union:mEt})});var u1e=P(()=>{"use strict";p();var vEt=ie(),yEt=mt(),_Et=pi(),bEt=yi(),xEt=Lr(),wEt=Mt(),SEt=yEt("".charAt),EEt=wEt(function(){return"\uD842\uDFB7".at(-2)!=="\uD842"});vEt({target:"String",proto:!0,forced:EEt},{at:function(t){var r=xEt(_Et(this)),n=r.length,i=bEt(t),o=i>=0?i:n+i;return o<0||o>=n?void 0:SEt(r,o)}})});var Ag=P((zOr,f1e)=>{"use strict";p();var WF=mt(),IEt=yi(),TEt=Lr(),MEt=pi(),CEt=WF("".charAt),c1e=WF("".charCodeAt),AEt=WF("".slice),p1e=function(e){return function(t,r){var n=TEt(MEt(t)),i=IEt(r),o=n.length,u,d;return i<0||i>=o?e?"":void 0:(u=c1e(n,i),u<55296||u>56319||i+1===o||(d=c1e(n,i+1))<56320||d>57343?e?CEt(n,i):u:e?AEt(n,i,i+2):(u-55296<<10)+(d-56320)+65536)}};f1e.exports={codeAt:p1e(!1),charAt:p1e(!0)}});var d1e=P(()=>{"use strict";p();var PEt=ie(),OEt=Ag().codeAt;PEt({target:"String",proto:!0},{codePointAt:function(t){return OEt(this,t)}})});var o5=P((VOr,h1e)=>{"use strict";p();var DEt=c2(),kEt=TypeError;h1e.exports=function(e){if(DEt(e))throw new kEt("The method doesn't accept regular expressions");return e}});var a5=P((GOr,m1e)=>{"use strict";p();var NEt=Ir(),REt=NEt("match");m1e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[REt]=!1,"/./"[e](t)}catch(n){}}return!1}});var y1e=P(()=>{"use strict";p();var LEt=ie(),qEt=oh(),zEt=$o().f,jEt=zs(),g1e=Lr(),FEt=o5(),BEt=pi(),UEt=a5(),VEt=In(),$Et=qEt("".slice),GEt=Math.min,v1e=UEt("endsWith"),HEt=!VEt&&!v1e&&!!function(){var e=zEt(String.prototype,"endsWith");return e&&!e.writable}();LEt({target:"String",proto:!0,forced:!HEt&&!v1e},{endsWith:function(t){var r=g1e(BEt(this));FEt(t);var n=arguments.length>1?arguments[1]:void 0,i=r.length,o=n===void 0?i:GEt(jEt(n),i),u=g1e(t);return $Et(r,o-u.length,o)===u}})});var ZF=P(()=>{"use strict";p();var WEt=ie(),ZEt=mt(),YEt=Vu(),KEt=RangeError,_1e=String.fromCharCode,b1e=String.fromCodePoint,XEt=ZEt([].join),QEt=!!b1e&&b1e.length!==1;WEt({target:"String",stat:!0,arity:1,forced:QEt},{fromCodePoint:function(t){for(var r=[],n=arguments.length,i=0,o;n>i;){if(o=+arguments[i++],YEt(o,1114111)!==o)throw new KEt(o+" is not a valid code point");r[i]=o<65536?_1e(o):_1e(((o-=65536)>>10)+55296,o%1024+56320)}return XEt(r,"")}})});var w1e=P(()=>{"use strict";p();var JEt=ie(),eIt=mt(),tIt=o5(),rIt=pi(),x1e=Lr(),nIt=a5(),iIt=eIt("".indexOf);JEt({target:"String",proto:!0,forced:!nIt("includes")},{includes:function(t){return!!~iIt(x1e(rIt(this)),x1e(tIt(t)),arguments.length>1?arguments[1]:void 0)}})});var YF=P(()=>{"use strict";p();var oIt=ie(),aIt=mt(),sIt=pi(),lIt=Lr(),S1e=aIt("".charCodeAt);oIt({target:"String",proto:!0},{isWellFormed:function(){for(var t=lIt(sIt(this)),r=t.length,n=0;n<r;n++){var i=S1e(t,n);if((i&63488)===55296&&(i>=56320||++n>=r||(S1e(t,n)&64512)!==56320))return!1}return!0}})});var KF=P(()=>{"use strict";p();var uIt=Ag().charAt,cIt=Lr(),I1e=jn(),pIt=oA(),E1e=No(),T1e="String Iterator",fIt=I1e.set,dIt=I1e.getterFor(T1e);pIt(String,"String",function(e){fIt(this,{type:T1e,string:cIt(e),index:0})},function(){var t=dIt(this),r=t.string,n=t.index,i;return n>=r.length?E1e(void 0,!0):(i=uIt(r,n),t.index+=i.length,E1e(i,!1))})});var m2=P((lDr,O1e)=>{"use strict";p();r5();var M1e=Ht(),C1e=Gn(),hIt=t5(),A1e=Mt(),P1e=Ir(),mIt=xo(),gIt=P1e("species"),XF=RegExp.prototype;O1e.exports=function(e,t,r,n){var i=P1e(e),o=!A1e(function(){var _={};return _[i]=function(){return 7},""[e](_)!==7}),u=o&&!A1e(function(){var _=!1,I=/a/;return e==="split"&&(I={},I.constructor={},I.constructor[gIt]=function(){return I},I.flags="",I[i]=/./[i]),I.exec=function(){return _=!0,null},I[i](""),!_});if(!o||!u||r){var d=/./[i],g=t(i,""[e],function(_,I,T,A,q){var z=I.exec;return z===hIt||z===XF.exec?o&&!q?{done:!0,value:M1e(d,I,T,A)}:{done:!0,value:M1e(_,T,I,A)}:{done:!1}});C1e(String.prototype,e,g[0]),C1e(XF,i,g[1])}n&&mIt(XF[i],"sham",!0)}});var g2=P((cDr,D1e)=>{"use strict";p();var vIt=Ag().charAt;D1e.exports=function(e,t,r){return t+(r?vIt(e,t).length:1)}});var $0=P((fDr,N1e)=>{"use strict";p();var k1e=Ht(),yIt=Yt(),_It=Wr(),bIt=ca(),xIt=t5(),wIt=TypeError;N1e.exports=function(e,t){var r=e.exec;if(_It(r)){var n=k1e(r,e,t);return n!==null&&yIt(n),n}if(bIt(e)==="RegExp")return k1e(xIt,e,t);throw new wIt("RegExp#exec called on incompatible receiver")}});var L1e=P(()=>{"use strict";p();var SIt=Ht(),EIt=m2(),IIt=Yt(),TIt=xr(),MIt=zs(),QF=Lr(),CIt=pi(),AIt=Ki(),PIt=g2(),R1e=$0();EIt("match",function(e,t,r){return[function(i){var o=CIt(this),u=TIt(i)?AIt(i,e):void 0;return u?SIt(u,i,o):new RegExp(i)[e](QF(o))},function(n){var i=IIt(this),o=QF(n),u=r(t,i,o);if(u.done)return u.value;if(!i.global)return R1e(i,o);var d=i.unicode;i.lastIndex=0;for(var g=[],_=0,I;(I=R1e(i,o))!==null;){var T=QF(I[0]);g[_]=T,T===""&&(i.lastIndex=PIt(o,MIt(i.lastIndex),d)),_++}return _===0?null:g}]})});var nB=P(()=>{"use strict";p();var OIt=ie(),q1e=Ht(),F1e=oh(),DIt=fh(),s5=No(),z1e=pi(),B1e=zs(),v2=Lr(),kIt=Yt(),NIt=xr(),RIt=ca(),LIt=c2(),U1e=F0(),qIt=Ki(),zIt=Gn(),jIt=Mt(),FIt=Ir(),BIt=r2(),UIt=g2(),VIt=$0(),V1e=jn(),eB=In(),l5=FIt("matchAll"),$1e="RegExp String",G1e=$1e+" Iterator",$It=V1e.set,GIt=V1e.getterFor(G1e),j1e=RegExp.prototype,HIt=TypeError,tB=F1e("".indexOf),u5=F1e("".matchAll),JF=!!u5&&!jIt(function(){u5("a",/./)}),WIt=DIt(function(t,r,n,i){$It(this,{type:G1e,regexp:t,string:r,global:n,unicode:i,done:!1})},$1e,function(){var t=GIt(this);if(t.done)return s5(void 0,!0);var r=t.regexp,n=t.string,i=VIt(r,n);return i===null?(t.done=!0,s5(void 0,!0)):t.global?(v2(i[0])===""&&(r.lastIndex=UIt(n,B1e(r.lastIndex),t.unicode)),s5(i,!1)):(t.done=!0,s5(i,!1))}),rB=function(e){var t=kIt(this),r=v2(e),n=BIt(t,RegExp),i=v2(U1e(t)),o,u,d;return o=new n(n===RegExp?t.source:t,i),u=!!~tB(i,"g"),d=!!~tB(i,"u"),o.lastIndex=B1e(t.lastIndex),new WIt(o,r,u,d)};OIt({target:"String",proto:!0,forced:JF},{matchAll:function(t){var r=z1e(this),n,i,o,u;if(NIt(t)){if(LIt(t)&&(n=v2(z1e(U1e(t))),!~tB(n,"g")))throw new HIt("`.matchAll` does not allow non-global regexes");if(JF)return u5(r,t);if(o=qIt(t,l5),o===void 0&&eB&&RIt(t)==="RegExp"&&(o=rB),o)return q1e(o,t,r)}else if(JF)return u5(r,t);return i=v2(r),u=new RegExp(t,"g"),eB?q1e(rB,u,i):u[l5](i)}});eB||l5 in j1e||zIt(j1e,l5,rB)});var iB=P((bDr,H1e)=>{"use strict";p();var ZIt=ju();H1e.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(ZIt)});var W1e=P(()=>{"use strict";p();var YIt=ie(),KIt=Vw().end,XIt=iB();YIt({target:"String",proto:!0,forced:XIt},{padEnd:function(t){return KIt(this,t,arguments.length>1?arguments[1]:void 0)}})});var Z1e=P(()=>{"use strict";p();var QIt=ie(),JIt=Vw().start,eTt=iB();QIt({target:"String",proto:!0,forced:eTt},{padStart:function(t){return JIt(this,t,arguments.length>1?arguments[1]:void 0)}})});var Q1e=P(()=>{"use strict";p();var tTt=ie(),X1e=mt(),rTt=bo(),nTt=ln(),Y1e=Lr(),iTt=gn(),K1e=X1e([].push),oTt=X1e([].join);tTt({target:"String",stat:!0},{raw:function(t){var r=rTt(nTt(t).raw),n=iTt(r);if(!n)return"";for(var i=arguments.length,o=[],u=0;;){if(K1e(o,Y1e(r[u++])),u===n)return oTt(o,"");u<i&&K1e(o,Y1e(arguments[u]))}}})});var J1e=P(()=>{"use strict";p();var aTt=ie(),sTt=Uw();aTt({target:"String",proto:!0},{repeat:sTt})});var lB=P((NDr,e_e)=>{"use strict";p();var sB=mt(),lTt=ln(),uTt=Math.floor,oB=sB("".charAt),cTt=sB("".replace),aB=sB("".slice),pTt=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,fTt=/\$([$&'`]|\d{1,2})/g;e_e.exports=function(e,t,r,n,i,o){var u=r+e.length,d=n.length,g=fTt;return i!==void 0&&(i=lTt(i),g=pTt),cTt(o,g,function(_,I){var T;switch(oB(I,0)){case"$":return"$";case"&":return e;case"`":return aB(t,0,r);case"'":return aB(t,u);case"<":T=i[aB(I,1,-1)];break;default:var A=+I;if(A===0)return _;if(A>d){var q=uTt(A/10);return q===0?_:q<=d?n[q-1]===void 0?oB(I,1):n[q-1]+oB(I,1):_}T=n[A-1]}return T===void 0?"":T})}});var o_e=P(()=>{"use strict";p();var dTt=fa(),t_e=Ht(),c5=mt(),hTt=m2(),mTt=Mt(),gTt=Yt(),vTt=Wr(),yTt=xr(),_Tt=yi(),bTt=zs(),G0=Lr(),xTt=pi(),wTt=g2(),STt=Ki(),ETt=lB(),ITt=$0(),TTt=Ir(),cB=TTt("replace"),MTt=Math.max,CTt=Math.min,ATt=c5([].concat),uB=c5([].push),r_e=c5("".indexOf),n_e=c5("".slice),PTt=function(e){return e===void 0?e:String(e)},OTt=function(){return"a".replace(/./,"$0")==="$0"}(),i_e=function(){return /./[cB]?/./[cB]("a","$0")==="":!1}(),DTt=!mTt(function(){var e=/./;return e.exec=function(){var t=[];return t.groups={a:"7"},t},"".replace(e,"$<a>")!=="7"});hTt("replace",function(e,t,r){var n=i_e?"$":"$0";return[function(o,u){var d=xTt(this),g=yTt(o)?STt(o,cB):void 0;return g?t_e(g,o,d,u):t_e(t,G0(d),o,u)},function(i,o){var u=gTt(this),d=G0(i);if(typeof o=="string"&&r_e(o,n)===-1&&r_e(o,"$<")===-1){var g=r(t,u,d,o);if(g.done)return g.value}var _=vTt(o);_||(o=G0(o));var I=u.global,T;I&&(T=u.unicode,u.lastIndex=0);for(var A=[],q;q=ITt(u,d),!(q===null||(uB(A,q),!I));){var z=G0(q[0]);z===""&&(u.lastIndex=wTt(d,bTt(u.lastIndex),T))}for(var U="",N=0,L=0;L<A.length;L++){q=A[L];for(var F=G0(q[0]),H=MTt(CTt(_Tt(q.index),d.length),0),Y=[],te,oe=1;oe<q.length;oe++)uB(Y,PTt(q[oe]));var ue=q.groups;if(_){var Ie=ATt([F],Y,H,d);ue!==void 0&&uB(Ie,ue),te=G0(dTt(o,void 0,Ie))}else te=ETt(F,d,H,Y,ue,o);H>=N&&(U+=n_e(d,N,H)+te,N=H+F.length)}return U+n_e(d,N)}]},!DTt||!OTt||i_e)});var dB=P(()=>{"use strict";p();var kTt=ie(),NTt=Ht(),fB=mt(),a_e=pi(),RTt=Wr(),LTt=xr(),qTt=c2(),H0=Lr(),zTt=Ki(),jTt=F0(),FTt=lB(),BTt=Ir(),UTt=In(),VTt=BTt("replace"),$Tt=TypeError,pB=fB("".indexOf),GTt=fB("".replace),s_e=fB("".slice),HTt=Math.max;kTt({target:"String",proto:!0},{replaceAll:function(t,r){var n=a_e(this),i,o,u,d,g,_,I,T,A,q,z=0,U="";if(LTt(t)){if(i=qTt(t),i&&(o=H0(a_e(jTt(t))),!~pB(o,"g")))throw new $Tt("`.replaceAll` does not allow non-global regexes");if(u=zTt(t,VTt),u)return NTt(u,t,n,r);if(UTt&&i)return GTt(H0(n),t,r)}for(d=H0(n),g=H0(t),_=RTt(r),_||(r=H0(r)),I=g.length,T=HTt(1,I),A=pB(d,g);A!==-1;)q=_?H0(r(g,A,d)):FTt(g,d,A,[],void 0,r),U+=s_e(d,z,A)+q,z=A+I,A=A+T>d.length?-1:pB(d,g,A+T);return z<d.length&&(U+=s_e(d,z)),U}})});var c_e=P(()=>{"use strict";p();var WTt=Ht(),ZTt=m2(),YTt=Yt(),KTt=xr(),XTt=pi(),l_e=FA(),u_e=Lr(),QTt=Ki(),JTt=$0();ZTt("search",function(e,t,r){return[function(i){var o=XTt(this),u=KTt(i)?QTt(i,e):void 0;return u?WTt(u,i,o):new RegExp(i)[e](u_e(o))},function(n){var i=YTt(this),o=u_e(n),u=r(t,i,o);if(u.done)return u.value;var d=i.lastIndex;l_e(d,0)||(i.lastIndex=0);var g=JTt(i,o);return l_e(i.lastIndex,d)||(i.lastIndex=d),g===null?-1:g.index}]})});var m_e=P(()=>{"use strict";p();var hB=Ht(),h_e=mt(),eMt=m2(),tMt=Yt(),rMt=xr(),nMt=pi(),iMt=r2(),oMt=g2(),aMt=zs(),p_e=Lr(),sMt=Ki(),f_e=$0(),lMt=p2(),uMt=Mt(),W0=lMt.UNSUPPORTED_Y,cMt=4294967295,pMt=Math.min,mB=h_e([].push),gB=h_e("".slice),fMt=!uMt(function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r="ab".split(e);return r.length!==2||r[0]!=="a"||r[1]!=="b"}),d_e="abbc".split(/(b)*/)[1]==="c"||"test".split(/(?:)/,-1).length!==4||"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||".".split(/()()/).length>1||"".split(/.?/).length;eMt("split",function(e,t,r){var n="0".split(void 0,0).length?function(i,o){return i===void 0&&o===0?[]:hB(t,this,i,o)}:t;return[function(o,u){var d=nMt(this),g=rMt(o)?sMt(o,e):void 0;return g?hB(g,o,d,u):hB(n,p_e(d),o,u)},function(i,o){var u=tMt(this),d=p_e(i);if(!d_e){var g=r(n,u,d,o,n!==t);if(g.done)return g.value}var _=iMt(u,RegExp),I=u.unicode,T=(u.ignoreCase?"i":"")+(u.multiline?"m":"")+(u.unicode?"u":"")+(W0?"g":"y"),A=new _(W0?"^(?:"+u.source+")":u,T),q=o===void 0?cMt:o>>>0;if(q===0)return[];if(d.length===0)return f_e(A,d)===null?[d]:[];for(var z=0,U=0,N=[];U<d.length;){A.lastIndex=W0?0:U;var L=f_e(A,W0?gB(d,U):d),F;if(L===null||(F=pMt(aMt(A.lastIndex+(W0?U:0)),d.length))===z)U=oMt(d,U,I);else{if(mB(N,gB(d,z,U)),N.length===q)return N;for(var H=1;H<=L.length-1;H++)if(mB(N,L[H]),N.length===q)return N;U=z=F}}return mB(N,gB(d,z)),N}]},d_e||!fMt,W0)});var y_e=P(()=>{"use strict";p();var dMt=ie(),hMt=oh(),mMt=$o().f,gMt=zs(),g_e=Lr(),vMt=o5(),yMt=pi(),_Mt=a5(),bMt=In(),xMt=hMt("".slice),wMt=Math.min,v_e=_Mt("startsWith"),SMt=!bMt&&!v_e&&!!function(){var e=mMt(String.prototype,"startsWith");return e&&!e.writable}();dMt({target:"String",proto:!0,forced:!SMt&&!v_e},{startsWith:function(t){var r=g_e(yMt(this));vMt(t);var n=gMt(wMt(arguments.length>1?arguments[1]:void 0,r.length)),i=g_e(t);return xMt(r,n,n+i.length)===i}})});var x_e=P(()=>{"use strict";p();var EMt=ie(),IMt=mt(),TMt=pi(),b_e=yi(),MMt=Lr(),CMt=IMt("".slice),AMt=Math.max,PMt=Math.min,OMt=!"".substr||"ab".substr(-1)!=="b";EMt({target:"String",proto:!0,forced:OMt},{substr:function(t,r){var n=MMt(TMt(this)),i=n.length,o=b_e(t),u,d;return o===1/0&&(o=0),o<0&&(o=AMt(i+o,0)),u=r===void 0?i:b_e(r),u<=0||u===1/0?"":(d=PMt(o+u,i),o>=d?"":CMt(n,o,d))}})});var bB=P(()=>{"use strict";p();var DMt=ie(),E_e=Ht(),_B=mt(),kMt=pi(),NMt=Lr(),RMt=Mt(),LMt=Array,vB=_B("".charAt),w_e=_B("".charCodeAt),qMt=_B([].join),yB="".toWellFormed,zMt="\uFFFD",S_e=yB&&RMt(function(){return E_e(yB,1)!=="1"});DMt({target:"String",proto:!0,forced:S_e},{toWellFormed:function(){var t=NMt(kMt(this));if(S_e)return E_e(yB,t);for(var r=t.length,n=LMt(r),i=0;i<r;i++){var o=w_e(t,i);(o&63488)!==55296?n[i]=vB(t,i):o>=56320||i+1>=r||(w_e(t,i+1)&64512)!==56320?n[i]=zMt:(n[i]=vB(t,i),n[++i]=vB(t,i))}return qMt(n,"")}})});var p5=P((nkr,M_e)=>{"use strict";p();var jMt=cg().PROPER,FMt=Mt(),I_e=Sg(),T_e="\u200B\x85\u180E";M_e.exports=function(e){return FMt(function(){return!!I_e[e]()||T_e[e]()!==T_e||jMt&&I_e[e].name!==e})}});var C_e=P(()=>{"use strict";p();var BMt=ie(),UMt=Eg().trim,VMt=p5();BMt({target:"String",proto:!0,forced:VMt("trim")},{trim:function(){return UMt(this)}})});var xB=P((lkr,A_e)=>{"use strict";p();var $Mt=Eg().end,GMt=p5();A_e.exports=GMt("trimEnd")?function(){return $Mt(this)}:"".trimEnd});var O_e=P(()=>{"use strict";p();var HMt=ie(),P_e=xB();HMt({target:"String",proto:!0,name:"trimEnd",forced:"".trimRight!==P_e},{trimRight:P_e})});var k_e=P(()=>{"use strict";p();O_e();var WMt=ie(),D_e=xB();WMt({target:"String",proto:!0,name:"trimEnd",forced:"".trimEnd!==D_e},{trimEnd:D_e})});var wB=P((gkr,N_e)=>{"use strict";p();var ZMt=Eg().start,YMt=p5();N_e.exports=YMt("trimStart")?function(){return ZMt(this)}:"".trimStart});var L_e=P(()=>{"use strict";p();var KMt=ie(),R_e=wB();KMt({target:"String",proto:!0,name:"trimStart",forced:"".trimLeft!==R_e},{trimLeft:R_e})});var z_e=P(()=>{"use strict";p();L_e();var XMt=ie(),q_e=wB();XMt({target:"String",proto:!0,name:"trimStart",forced:"".trimStart!==q_e},{trimStart:q_e})});var Vs=P((Ekr,F_e)=>{"use strict";p();var QMt=mt(),JMt=pi(),j_e=Lr(),eCt=/"/g,tCt=QMt("".replace);F_e.exports=function(e,t,r,n){var i=j_e(JMt(e)),o="<"+t;return r!==""&&(o+=" "+r+"=\""+tCt(j_e(n),eCt,"&quot;")+"\""),o+">"+i+"</"+t+">"}});var $s=P((Tkr,B_e)=>{"use strict";p();var rCt=Mt();B_e.exports=function(e){return rCt(function(){var t=""[e]("\"");return t!==t.toLowerCase()||t.split("\"").length>3})}});var U_e=P(()=>{"use strict";p();var nCt=ie(),iCt=Vs(),oCt=$s();nCt({target:"String",proto:!0,forced:oCt("anchor")},{anchor:function(t){return iCt(this,"a","name",t)}})});var V_e=P(()=>{"use strict";p();var aCt=ie(),sCt=Vs(),lCt=$s();aCt({target:"String",proto:!0,forced:lCt("big")},{big:function(){return sCt(this,"big","","")}})});var $_e=P(()=>{"use strict";p();var uCt=ie(),cCt=Vs(),pCt=$s();uCt({target:"String",proto:!0,forced:pCt("blink")},{blink:function(){return cCt(this,"blink","","")}})});var G_e=P(()=>{"use strict";p();var fCt=ie(),dCt=Vs(),hCt=$s();fCt({target:"String",proto:!0,forced:hCt("bold")},{bold:function(){return dCt(this,"b","","")}})});var H_e=P(()=>{"use strict";p();var mCt=ie(),gCt=Vs(),vCt=$s();mCt({target:"String",proto:!0,forced:vCt("fixed")},{fixed:function(){return gCt(this,"tt","","")}})});var W_e=P(()=>{"use strict";p();var yCt=ie(),_Ct=Vs(),bCt=$s();yCt({target:"String",proto:!0,forced:bCt("fontcolor")},{fontcolor:function(t){return _Ct(this,"font","color",t)}})});var Z_e=P(()=>{"use strict";p();var xCt=ie(),wCt=Vs(),SCt=$s();xCt({target:"String",proto:!0,forced:SCt("fontsize")},{fontsize:function(t){return wCt(this,"font","size",t)}})});var Y_e=P(()=>{"use strict";p();var ECt=ie(),ICt=Vs(),TCt=$s();ECt({target:"String",proto:!0,forced:TCt("italics")},{italics:function(){return ICt(this,"i","","")}})});var K_e=P(()=>{"use strict";p();var MCt=ie(),CCt=Vs(),ACt=$s();MCt({target:"String",proto:!0,forced:ACt("link")},{link:function(t){return CCt(this,"a","href",t)}})});var X_e=P(()=>{"use strict";p();var PCt=ie(),OCt=Vs(),DCt=$s();PCt({target:"String",proto:!0,forced:DCt("small")},{small:function(){return OCt(this,"small","","")}})});var Q_e=P(()=>{"use strict";p();var kCt=ie(),NCt=Vs(),RCt=$s();kCt({target:"String",proto:!0,forced:RCt("strike")},{strike:function(){return NCt(this,"strike","","")}})});var J_e=P(()=>{"use strict";p();var LCt=ie(),qCt=Vs(),zCt=$s();LCt({target:"String",proto:!0,forced:zCt("sub")},{sub:function(){return qCt(this,"sub","","")}})});var ebe=P(()=>{"use strict";p();var jCt=ie(),FCt=Vs(),BCt=$s();jCt({target:"String",proto:!0,forced:BCt("sup")},{sup:function(){return FCt(this,"sup","","")}})});var f5=P((dNr,rbe)=>{"use strict";p();var tbe=Gt(),SB=Mt(),UCt=Ow(),VCt=nn().NATIVE_ARRAY_BUFFER_VIEWS,$Ct=tbe.ArrayBuffer,Pg=tbe.Int8Array;rbe.exports=!VCt||!SB(function(){Pg(1)})||!SB(function(){new Pg(-1)})||!UCt(function(e){new Pg,new Pg(null),new Pg(1.5),new Pg(e)},!0)||SB(function(){return new Pg(new $Ct(2),1,void 0).length!==1})});var EB=P((mNr,nbe)=>{"use strict";p();var GCt=C0(),HCt=RangeError;nbe.exports=function(e,t){var r=GCt(e);if(r%t)throw new HCt("Wrong offset");return r}});var IB=P((vNr,ibe)=>{"use strict";p();var WCt=Math.round;ibe.exports=function(e){var t=WCt(e);return t<0?0:t>255?255:t&255}});var d5=P((_Nr,obe)=>{"use strict";p();var ZCt=hs();obe.exports=function(e){var t=ZCt(e);return t==="BigInt64Array"||t==="BigUint64Array"}});var y2=P((xNr,abe)=>{"use strict";p();var YCt=dw(),KCt=TypeError;abe.exports=function(e){var t=YCt(e,"number");if(typeof t=="number")throw new KCt("Can't convert number to bigint");return BigInt(t)}});var TB=P((SNr,sbe)=>{"use strict";p();var XCt=Jn(),QCt=Ht(),JCt=t2(),eAt=ln(),tAt=gn(),rAt=uh(),nAt=Yc(),iAt=XC(),oAt=d5(),aAt=nn().aTypedArrayConstructor,sAt=y2();sbe.exports=function(t){var r=JCt(this),n=eAt(t),i=arguments.length,o=i>1?arguments[1]:void 0,u=o!==void 0,d=nAt(n),g,_,I,T,A,q,z,U;if(d&&!iAt(d))for(z=rAt(n,d),U=z.next,n=[];!(q=QCt(U,z)).done;)n.push(q.value);for(u&&i>2&&(o=XCt(o,arguments[2])),_=tAt(n),I=new(aAt(r))(_),T=oAt(I),g=0;_>g;g++)A=u?o(n[g],g):n[g],I[g]=T?sAt(A):+A;return I}});var tp=P((INr,kB)=>{"use strict";p();var lbe=ie(),_be=Gt(),ube=Ht(),lAt=hr(),uAt=f5(),w2=nn(),bbe=Bw(),cbe=$a(),cAt=Ls(),_2=xo(),pAt=qA(),fAt=zs(),pbe=b0(),MB=EB(),dAt=IB(),xbe=Wc(),b2=Xr(),hAt=hs(),PB=xr(),mAt=mf(),gAt=Xi(),vAt=pa(),h5=Ql(),yAt=ih().f,fbe=TB(),_At=Qi().forEach,bAt=hh(),xAt=_i(),wbe=ui(),Sbe=$o(),dbe=bf(),NB=jn(),wAt=lh(),OB=NB.get,SAt=NB.set,EAt=NB.enforce,Ebe=wbe.f,IAt=Sbe.f,CB=_be.RangeError,Ibe=bbe.ArrayBuffer,TAt=Ibe.prototype,MAt=bbe.DataView,m5=w2.NATIVE_ARRAY_BUFFER_VIEWS,hbe=w2.TYPED_ARRAY_TAG,mbe=w2.TypedArray,x2=w2.TypedArrayPrototype,DB=w2.isTypedArray,g5="BYTES_PER_ELEMENT",AB="Wrong length",v5=function(e,t){xAt(e,t,{configurable:!0,get:function(){return OB(this)[t]}})},gbe=function(e){var t;return vAt(TAt,e)||(t=hAt(e))==="ArrayBuffer"||t==="SharedArrayBuffer"},Tbe=function(e,t){return DB(e)&&!mAt(t)&&t in e&&pAt(+t)&&t>=0},vbe=function(t,r){return r=xbe(r),Tbe(t,r)?cAt(2,t[r]):IAt(t,r)},ybe=function(t,r,n){return r=xbe(r),Tbe(t,r)&&PB(n)&&b2(n,"value")&&!b2(n,"get")&&!b2(n,"set")&&!n.configurable&&(!b2(n,"writable")||n.writable)&&(!b2(n,"enumerable")||n.enumerable)?(t[r]=n.value,t):Ebe(t,r,n)};lAt?(m5||(Sbe.f=vbe,wbe.f=ybe,v5(x2,"buffer"),v5(x2,"byteOffset"),v5(x2,"byteLength"),v5(x2,"length")),lbe({target:"Object",stat:!0,forced:!m5},{getOwnPropertyDescriptor:vbe,defineProperty:ybe}),kB.exports=function(e,t,r){var n=e.match(/\d+/)[0]/8,i=e+(r?"Clamped":"")+"Array",o="get"+e,u="set"+e,d=_be[i],g=d,_=g&&g.prototype,I={},T=function(U,N){var L=OB(U);return L.view[o](N*n+L.byteOffset,!0)},A=function(U,N,L){var F=OB(U);F.view[u](N*n+F.byteOffset,r?dAt(L):L,!0)},q=function(U,N){Ebe(U,N,{get:function(){return T(this,N)},set:function(L){return A(this,N,L)},enumerable:!0})};m5?uAt&&(g=t(function(U,N,L,F){return cbe(U,_),wAt(function(){return PB(N)?gbe(N)?F!==void 0?new d(N,MB(L,n),F):L!==void 0?new d(N,MB(L,n)):new d(N):DB(N)?dbe(g,N):ube(fbe,g,N):new d(pbe(N))}(),U,g)}),h5&&h5(g,mbe),_At(yAt(d),function(U){U in g||_2(g,U,d[U])}),g.prototype=_):(g=t(function(U,N,L,F){cbe(U,_);var H=0,Y=0,te,oe,ue;if(!PB(N))ue=pbe(N),oe=ue*n,te=new Ibe(oe);else if(gbe(N)){te=N,Y=MB(L,n);var Ie=N.byteLength;if(F===void 0){if(Ie%n)throw new CB(AB);if(oe=Ie-Y,oe<0)throw new CB(AB)}else if(oe=fAt(F)*n,oe+Y>Ie)throw new CB(AB);ue=oe/n}else return DB(N)?dbe(g,N):ube(fbe,g,N);for(SAt(U,{buffer:te,byteOffset:Y,byteLength:oe,length:ue,view:new MAt(te)});H<ue;)q(U,H++)}),h5&&h5(g,mbe),_=g.prototype=gAt(x2)),_.constructor!==g&&_2(_,"constructor",g),EAt(_).TypedArrayConstructor=g,hbe&&_2(_,hbe,i);var z=g!==d;I[i]=g,lbe({global:!0,constructor:!0,forced:z,sham:!m5},I),g5 in g||_2(g,g5,n),g5 in _||_2(_,g5,n),bAt(i)}):kB.exports=function(){}});var Mbe=P(()=>{"use strict";p();var CAt=tp();CAt("Float32",function(e){return function(r,n,i){return e(this,r,n,i)}})});var Cbe=P(()=>{"use strict";p();var AAt=tp();AAt("Float64",function(e){return function(r,n,i){return e(this,r,n,i)}})});var Abe=P(()=>{"use strict";p();var PAt=tp();PAt("Int8",function(e){return function(r,n,i){return e(this,r,n,i)}})});var Pbe=P(()=>{"use strict";p();var OAt=tp();OAt("Int16",function(e){return function(r,n,i){return e(this,r,n,i)}})});var Obe=P(()=>{"use strict";p();var DAt=tp();DAt("Int32",function(e){return function(r,n,i){return e(this,r,n,i)}})});var Dbe=P(()=>{"use strict";p();var kAt=tp();kAt("Uint8",function(e){return function(r,n,i){return e(this,r,n,i)}})});var kbe=P(()=>{"use strict";p();var NAt=tp();NAt("Uint8",function(e){return function(r,n,i){return e(this,r,n,i)}},!0)});var Nbe=P(()=>{"use strict";p();var RAt=tp();RAt("Uint16",function(e){return function(r,n,i){return e(this,r,n,i)}})});var Rbe=P(()=>{"use strict";p();var LAt=tp();LAt("Uint32",function(e){return function(r,n,i){return e(this,r,n,i)}})});var RB=P(()=>{"use strict";p();var Lbe=nn(),qAt=gn(),zAt=yi(),jAt=Lbe.aTypedArray,FAt=Lbe.exportTypedArrayMethod;FAt("at",function(t){var r=jAt(this),n=qAt(r),i=zAt(t),o=i>=0?i:n+i;return o<0||o>=n?void 0:r[o]})});var zbe=P(()=>{"use strict";p();var BAt=mt(),qbe=nn(),UAt=q7(),VAt=BAt(UAt),$At=qbe.aTypedArray,GAt=qbe.exportTypedArrayMethod;GAt("copyWithin",function(t,r){return VAt($At(this),t,r,arguments.length>2?arguments[2]:void 0)})});var Fbe=P(()=>{"use strict";p();var jbe=nn(),HAt=Qi().every,WAt=jbe.aTypedArray,ZAt=jbe.exportTypedArrayMethod;ZAt("every",function(t){return HAt(WAt(this),t,arguments.length>1?arguments[1]:void 0)})});var Ube=P(()=>{"use strict";p();var Bbe=nn(),YAt=tA(),KAt=y2(),XAt=hs(),QAt=Ht(),JAt=mt(),e5t=Mt(),t5t=Bbe.aTypedArray,r5t=Bbe.exportTypedArrayMethod,n5t=JAt("".slice),i5t=e5t(function(){var e=0;return new Int8Array(2).fill({valueOf:function(){return e++}}),e!==1});r5t("fill",function(t){var r=arguments.length;t5t(this);var n=n5t(XAt(this),0,3)==="Big"?KAt(t):+t;return QAt(YAt,this,n,r>1?arguments[1]:void 0,r>2?arguments[2]:void 0)},i5t)});var y5=P((fRr,Vbe)=>{"use strict";p();var o5t=bf(),a5t=nn().getTypedArrayConstructor;Vbe.exports=function(e,t){return o5t(a5t(e),t)}});var Gbe=P(()=>{"use strict";p();var $be=nn(),s5t=Qi().filter,l5t=y5(),u5t=$be.aTypedArray,c5t=$be.exportTypedArrayMethod;c5t("filter",function(t){var r=s5t(u5t(this),t,arguments.length>1?arguments[1]:void 0);return l5t(this,r)})});var Wbe=P(()=>{"use strict";p();var Hbe=nn(),p5t=Qi().find,f5t=Hbe.aTypedArray,d5t=Hbe.exportTypedArrayMethod;d5t("find",function(t){return p5t(f5t(this),t,arguments.length>1?arguments[1]:void 0)})});var Ybe=P(()=>{"use strict";p();var Zbe=nn(),h5t=Qi().findIndex,m5t=Zbe.aTypedArray,g5t=Zbe.exportTypedArrayMethod;g5t("findIndex",function(t){return h5t(m5t(this),t,arguments.length>1?arguments[1]:void 0)})});var LB=P(()=>{"use strict";p();var Kbe=nn(),v5t=Pw().findLast,y5t=Kbe.aTypedArray,_5t=Kbe.exportTypedArrayMethod;_5t("findLast",function(t){return v5t(y5t(this),t,arguments.length>1?arguments[1]:void 0)})});var qB=P(()=>{"use strict";p();var Xbe=nn(),b5t=Pw().findLastIndex,x5t=Xbe.aTypedArray,w5t=Xbe.exportTypedArrayMethod;w5t("findLastIndex",function(t){return b5t(x5t(this),t,arguments.length>1?arguments[1]:void 0)})});var Jbe=P(()=>{"use strict";p();var Qbe=nn(),S5t=Qi().forEach,E5t=Qbe.aTypedArray,I5t=Qbe.exportTypedArrayMethod;I5t("forEach",function(t){S5t(E5t(this),t,arguments.length>1?arguments[1]:void 0)})});var exe=P(()=>{"use strict";p();var T5t=f5(),M5t=nn().exportTypedArrayStaticMethod,C5t=TB();M5t("from",C5t,T5t)});var rxe=P(()=>{"use strict";p();var txe=nn(),A5t=f0().includes,P5t=txe.aTypedArray,O5t=txe.exportTypedArrayMethod;O5t("includes",function(t){return A5t(P5t(this),t,arguments.length>1?arguments[1]:void 0)})});var ixe=P(()=>{"use strict";p();var nxe=nn(),D5t=f0().indexOf,k5t=nxe.aTypedArray,N5t=nxe.exportTypedArrayMethod;N5t("indexOf",function(t){return D5t(k5t(this),t,arguments.length>1?arguments[1]:void 0)})});var uxe=P(()=>{"use strict";p();var R5t=Gt(),L5t=Mt(),zB=mt(),axe=nn(),jB=Nw(),q5t=Ir(),FB=q5t("iterator"),oxe=R5t.Uint8Array,z5t=zB(jB.values),j5t=zB(jB.keys),F5t=zB(jB.entries),BB=axe.aTypedArray,_5=axe.exportTypedArrayMethod,Z0=oxe&&oxe.prototype,b5=!L5t(function(){Z0[FB].call([1])}),sxe=!!Z0&&Z0.values&&Z0[FB]===Z0.values&&Z0.values.name==="values",lxe=function(){return z5t(BB(this))};_5("entries",function(){return F5t(BB(this))},b5);_5("keys",function(){return j5t(BB(this))},b5);_5("values",lxe,b5||!sxe,{name:"values"});_5(FB,lxe,b5||!sxe,{name:"values"})});var pxe=P(()=>{"use strict";p();var cxe=nn(),B5t=mt(),U5t=cxe.aTypedArray,V5t=cxe.exportTypedArrayMethod,$5t=B5t([].join);V5t("join",function(t){return $5t(U5t(this),t)})});var dxe=P(()=>{"use strict";p();var fxe=nn(),G5t=fa(),H5t=J7(),W5t=fxe.aTypedArray,Z5t=fxe.exportTypedArrayMethod;Z5t("lastIndexOf",function(t){var r=arguments.length;return G5t(H5t,W5t(this),r>1?[t,arguments[1]]:[t])})});var hxe=P(()=>{"use strict";p();var UB=nn(),Y5t=Qi().map,K5t=UB.aTypedArray,X5t=UB.getTypedArrayConstructor,Q5t=UB.exportTypedArrayMethod;Q5t("map",function(t){return Y5t(K5t(this),t,arguments.length>1?arguments[1]:void 0,function(r,n){return new(X5t(r))(n)})})});var gxe=P(()=>{"use strict";p();var mxe=nn(),J5t=f5(),e3t=mxe.aTypedArrayConstructor,t3t=mxe.exportTypedArrayStaticMethod;t3t("of",function(){for(var t=0,r=arguments.length,n=new(e3t(this))(r);r>t;)n[t]=arguments[t++];return n},J5t)});var yxe=P(()=>{"use strict";p();var vxe=nn(),r3t=Rw().left,n3t=vxe.aTypedArray,i3t=vxe.exportTypedArrayMethod;i3t("reduce",function(t){var r=arguments.length;return r3t(n3t(this),t,r,r>1?arguments[1]:void 0)})});var bxe=P(()=>{"use strict";p();var _xe=nn(),o3t=Rw().right,a3t=_xe.aTypedArray,s3t=_xe.exportTypedArrayMethod;s3t("reduceRight",function(t){var r=arguments.length;return o3t(a3t(this),t,r,r>1?arguments[1]:void 0)})});var wxe=P(()=>{"use strict";p();var xxe=nn(),l3t=xxe.aTypedArray,u3t=xxe.exportTypedArrayMethod,c3t=Math.floor;u3t("reverse",function(){for(var t=this,r=l3t(t).length,n=c3t(r/2),i=0,o;i<n;)o=t[i],t[i++]=t[--r],t[r]=o;return t})});var Cxe=P(()=>{"use strict";p();var Exe=Gt(),Ixe=Ht(),GB=nn(),p3t=gn(),f3t=EB(),d3t=ln(),Txe=Mt(),h3t=Exe.RangeError,VB=Exe.Int8Array,Sxe=VB&&VB.prototype,Mxe=Sxe&&Sxe.set,m3t=GB.aTypedArray,g3t=GB.exportTypedArrayMethod,$B=!Txe(function(){var e=new Uint8ClampedArray(2);return Ixe(Mxe,e,{length:1,0:3},1),e[1]!==3}),v3t=$B&&GB.NATIVE_ARRAY_BUFFER_VIEWS&&Txe(function(){var e=new VB(2);return e.set(1),e.set("2",1),e[0]!==0||e[1]!==2});g3t("set",function(t){m3t(this);var r=f3t(arguments.length>1?arguments[1]:void 0,1),n=d3t(t);if($B)return Ixe(Mxe,this,n,r);var i=this.length,o=p3t(n),u=0;if(o+r>i)throw new h3t("Wrong length");for(;u<o;)this[r+u]=n[u++]},!$B||v3t)});var Axe=P(()=>{"use strict";p();var HB=nn(),y3t=Mt(),_3t=js(),b3t=HB.aTypedArray,x3t=HB.getTypedArrayConstructor,w3t=HB.exportTypedArrayMethod,S3t=y3t(function(){new Int8Array(1).slice()});w3t("slice",function(t,r){for(var n=_3t(b3t(this),t,r),i=x3t(this),o=0,u=n.length,d=new i(u);u>o;)d[o]=n[o++];return d},S3t)});var Oxe=P(()=>{"use strict";p();var Pxe=nn(),E3t=Qi().some,I3t=Pxe.aTypedArray,T3t=Pxe.exportTypedArrayMethod;T3t("some",function(t){return E3t(I3t(this),t,arguments.length>1?arguments[1]:void 0)})});var qxe=P(()=>{"use strict";p();var M3t=Gt(),C3t=oh(),WB=Mt(),A3t=Cr(),P3t=uA(),Lxe=nn(),Dxe=r9(),O3t=n9(),kxe=Bu(),Nxe=cA(),D3t=Lxe.aTypedArray,k3t=Lxe.exportTypedArrayMethod,S2=M3t.Uint16Array,Y0=S2&&C3t(S2.prototype.sort),N3t=!!Y0&&!(WB(function(){Y0(new S2(2),null)})&&WB(function(){Y0(new S2(2),{})})),Rxe=!!Y0&&!WB(function(){if(kxe)return kxe<74;if(Dxe)return Dxe<67;if(O3t)return!0;if(Nxe)return Nxe<602;var e=new S2(516),t=Array(516),r,n;for(r=0;r<516;r++)n=r%4,e[r]=515-r,t[r]=r-2*n+3;for(Y0(e,function(i,o){return(i/4|0)-(o/4|0)}),r=0;r<516;r++)if(e[r]!==t[r])return!0}),R3t=function(e){return function(t,r){return e!==void 0?+e(t,r)||0:r!==r?-1:t!==t?1:t===0&&r===0?1/t>0&&1/r<0?1:-1:t>r}};k3t("sort",function(t){return t!==void 0&&A3t(t),Rxe?Y0(this,t):P3t(D3t(this),R3t(t))},!Rxe||N3t)});var jxe=P(()=>{"use strict";p();var ZB=nn(),L3t=zs(),zxe=Vu(),q3t=ZB.aTypedArray,z3t=ZB.getTypedArrayConstructor,j3t=ZB.exportTypedArrayMethod;j3t("subarray",function(t,r){var n=q3t(this),i=n.length,o=zxe(t,i),u=z3t(n);return new u(n.buffer,n.byteOffset+o*n.BYTES_PER_ELEMENT,L3t((r===void 0?i:zxe(r,i))-o))})});var $xe=P(()=>{"use strict";p();var F3t=Gt(),B3t=fa(),Uxe=nn(),YB=Mt(),Fxe=js(),x5=F3t.Int8Array,Bxe=Uxe.aTypedArray,U3t=Uxe.exportTypedArrayMethod,Vxe=[].toLocaleString,V3t=!!x5&&YB(function(){Vxe.call(new x5(1))}),$3t=YB(function(){return[1,2].toLocaleString()!==new x5([1,2]).toLocaleString()})||!YB(function(){x5.prototype.toLocaleString.call([1,2])});U3t("toLocaleString",function(){return B3t(Vxe,V3t?Fxe(Bxe(this)):Bxe(this),Fxe(arguments))},$3t)});var XB=P(()=>{"use strict";p();var G3t=a9(),KB=nn(),H3t=KB.aTypedArray,W3t=KB.exportTypedArrayMethod,Z3t=KB.getTypedArrayConstructor;W3t("toReversed",function(){return G3t(H3t(this),Z3t(this))})});var QB=P(()=>{"use strict";p();var w5=nn(),Y3t=mt(),K3t=Cr(),X3t=bf(),Q3t=w5.aTypedArray,J3t=w5.getTypedArrayConstructor,e4t=w5.exportTypedArrayMethod,t4t=Y3t(w5.TypedArrayPrototype.sort);e4t("toSorted",function(t){t!==void 0&&K3t(t);var r=Q3t(this),n=X3t(J3t(r),r);return t4t(n,t)})});var Hxe=P(()=>{"use strict";p();var r4t=nn().exportTypedArrayMethod,n4t=Mt(),i4t=Gt(),o4t=mt(),Gxe=i4t.Uint8Array,a4t=Gxe&&Gxe.prototype||{},S5=[].toString,s4t=o4t([].join);n4t(function(){S5.call({})})&&(S5=function(){return s4t(this)});var l4t=a4t.toString!==S5;r4t("toString",S5,l4t)});var eU=P(()=>{"use strict";p();var u4t=p9(),JB=nn(),c4t=d5(),p4t=yi(),f4t=y2(),d4t=JB.aTypedArray,h4t=JB.getTypedArrayConstructor,m4t=JB.exportTypedArrayMethod,g4t=!!function(){try{new Int8Array(1).with(2,{valueOf:function(){throw 8}})}catch(e){return e===8}}();m4t("with",function(e,t){var r=d4t(this),n=p4t(e),i=c4t(r)?f4t(t):+t;return u4t(r,h4t(r),n,i)},!g4t)});var Xxe=P(()=>{"use strict";p();var v4t=ie(),tU=mt(),y4t=Lr(),Wxe=String.fromCharCode,Zxe=tU("".charAt),Yxe=tU(/./.exec),Kxe=tU("".slice),_4t=/^[\da-f]{2}$/i,b4t=/^[\da-f]{4}$/i;v4t({global:!0},{unescape:function(t){for(var r=y4t(t),n="",i=r.length,o=0,u,d;o<i;){if(u=Zxe(r,o++),u==="%"){if(Zxe(r,o)==="u"){if(d=Kxe(r,o+1,o+5),Yxe(b4t,d)){n+=Wxe(parseInt(d,16)),o+=5;continue}}else if(d=Kxe(r,o,o+2),Yxe(_4t,d)){n+=Wxe(parseInt(d,16)),o+=2;continue}}n+=u}return n}})});var iU=P(($Lr,nwe)=>{"use strict";p();var x4t=mt(),Qxe=tu(),E5=xh().getWeakData,w4t=$a(),S4t=Yt(),E4t=qs(),rU=xr(),I4t=Li(),ewe=Qi(),Jxe=Xr(),twe=jn(),T4t=twe.set,M4t=twe.getterFor,C4t=ewe.find,A4t=ewe.findIndex,P4t=x4t([].splice),O4t=0,I5=function(e){return e.frozen||(e.frozen=new rwe)},rwe=function(){this.entries=[]},nU=function(e,t){return C4t(e.entries,function(r){return r[0]===t})};rwe.prototype={get:function(e){var t=nU(this,e);if(t)return t[1]},has:function(e){return!!nU(this,e)},set:function(e,t){var r=nU(this,e);r?r[1]=t:this.entries.push([e,t])},delete:function(e){var t=A4t(this.entries,function(r){return r[0]===e});return~t&&P4t(this.entries,t,1),!!~t}};nwe.exports={getConstructor:function(e,t,r,n){var i=e(function(g,_){w4t(g,o),T4t(g,{type:t,id:O4t++,frozen:null}),E4t(_)||I4t(_,g[n],{that:g,AS_ENTRIES:r})}),o=i.prototype,u=M4t(t),d=function(g,_,I){var T=u(g),A=E5(S4t(_),!0);return A===!0?I5(T).set(_,I):A[T.id]=I,g};return Qxe(o,{delete:function(g){var _=u(this);if(!rU(g))return!1;var I=E5(g);return I===!0?I5(_).delete(g):I&&Jxe(I,_.id)&&delete I[_.id]},has:function(_){var I=u(this);if(!rU(_))return!1;var T=E5(_);return T===!0?I5(I).has(_):T&&Jxe(T,I.id)}}),Qxe(o,r?{get:function(_){var I=u(this);if(rU(_)){var T=E5(_);if(T===!0)return I5(I).get(_);if(T)return T[I.id]}},set:function(_,I){return d(this,_,I)}}:{add:function(_){return d(this,_,!0)}}),i}}});var pwe=P(()=>{"use strict";p();var D4t=If(),iwe=Gt(),A5=mt(),owe=tu(),k4t=xh(),N4t=Gw(),awe=iU(),T5=xr(),M5=jn().enforce,R4t=Mt(),L4t=j8(),T2=Object,q4t=Array.isArray,C5=T2.isExtensible,swe=T2.isFrozen,z4t=T2.isSealed,lwe=T2.freeze,j4t=T2.seal,F4t=!iwe.ActiveXObject&&"ActiveXObject"in iwe,E2,uwe=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},cwe=N4t("WeakMap",uwe,awe),K0=cwe.prototype,P5=A5(K0.set),B4t=function(){return D4t&&R4t(function(){var e=lwe([]);return P5(new cwe,e,1),!swe(e)})};L4t&&(F4t?(E2=awe.getConstructor(uwe,"WeakMap",!0),k4t.enable(),oU=A5(K0.delete),I2=A5(K0.has),aU=A5(K0.get),owe(K0,{delete:function(e){if(T5(e)&&!C5(e)){var t=M5(this);return t.frozen||(t.frozen=new E2),oU(this,e)||t.frozen.delete(e)}return oU(this,e)},has:function(t){if(T5(t)&&!C5(t)){var r=M5(this);return r.frozen||(r.frozen=new E2),I2(this,t)||r.frozen.has(t)}return I2(this,t)},get:function(t){if(T5(t)&&!C5(t)){var r=M5(this);return r.frozen||(r.frozen=new E2),I2(this,t)?aU(this,t):r.frozen.get(t)}return aU(this,t)},set:function(t,r){if(T5(t)&&!C5(t)){var n=M5(this);n.frozen||(n.frozen=new E2),I2(this,t)?P5(this,t,r):n.frozen.set(t,r)}else P5(this,t,r);return this}})):B4t()&&owe(K0,{set:function(t,r){var n;return q4t(t)&&(swe(t)?n=lwe:z4t(t)&&(n=j4t)),P5(this,t,r),n&&n(t),this}}));var oU,I2,aU});var O5=P(()=>{"use strict";p();pwe()});var fwe=P(()=>{"use strict";p();var U4t=Gw(),V4t=iU();U4t("WeakSet",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},V4t)});var dwe=P(()=>{"use strict";p();fwe()});var hwe=P(()=>{"use strict";p();O7()});var vwe=P(()=>{"use strict";p();var $4t=ie(),G4t=Gt(),H4t=pa(),mwe=wo(),k5=Ql(),W4t=fg(),gwe=Xi(),D5=xo(),sU=Ls(),Z4t=WC(),Y4t=vg(),K4t=Ir(),X4t=Mt(),Q4t=In(),X0=G4t.SuppressedError,J4t=K4t("toStringTag"),N5=Error,ePt=!!X0&&X0.length!==3,tPt=!!X0&&X4t(function(){return new X0(1,2,3,{cause:4}).cause===4}),R5=ePt||tPt,Og=function(t,r,n){var i=H4t(M2,this),o;return k5?o=R5&&(!i||mwe(this)===M2)?new X0:k5(new N5,i?mwe(this):M2):(o=i?this:gwe(M2),D5(o,J4t,"Error")),n!==void 0&&D5(o,"message",Y4t(n)),Z4t(o,Og,o.stack,1),D5(o,"error",t),D5(o,"suppressed",r),o};k5?k5(Og,N5):W4t(Og,N5,{name:!0});var M2=Og.prototype=R5?X0.prototype:gwe(N5.prototype,{constructor:sU(1,Og),message:sU(1,""),name:sU(1,"SuppressedError")});R5&&!Q4t&&(M2.constructor=Og);$4t({global:!0,constructor:!0,arity:3,forced:R5},{SuppressedError:Og})});var Q0=P((c6r,Iwe)=>{"use strict";p();var wwe=Gt(),Swe=fw(),Ewe=Wr(),rPt=Xi(),L5=wo(),nPt=Gn(),iPt=Ir(),oPt=In(),ywe="USE_FUNCTION_CONSTRUCTOR",_we=iPt("asyncIterator"),bwe=wwe.AsyncIterator,xwe=Swe.AsyncIteratorPrototype,rp,lU;if(xwe)rp=xwe;else if(Ewe(bwe))rp=bwe.prototype;else if(Swe[ywe]||wwe[ywe])try{lU=L5(L5(L5(Function("return async function*(){}()")()))),L5(lU)===Object.prototype&&(rp=lU)}catch(e){}rp?oPt&&(rp=rPt(rp)):rp={};Ewe(rp[_we])||nPt(rp,_we,function(){return this});Iwe.exports=rp});var C2=P((f6r,Nwe)=>{"use strict";p();var Twe=Ht(),Mwe=Yt(),aPt=Xi(),sPt=Ki(),lPt=tu(),Pwe=jn(),uPt=Ho(),cPt=Mr(),pPt=Q0(),Owe=No(),uU=cPt("Promise"),Dwe="AsyncFromSyncIterator",fPt=Pwe.set,Cwe=Pwe.getterFor(Dwe),Awe=function(e,t,r,n,i){var o=e.done;uU.resolve(e.value).then(function(u){t(Owe(u,o))},function(u){if(!o&&i)try{uPt(n,"throw",u)}catch(d){u=d}r(u)})},kwe=function(t){t.type=Dwe,fPt(this,t)};kwe.prototype=lPt(aPt(pPt),{next:function(){var t=Cwe(this);return new uU(function(r,n){var i=Mwe(Twe(t.next,t.iterator));Awe(i,r,n,t.iterator,!0)})},return:function(){var e=Cwe(this).iterator;return new uU(function(t,r){var n=sPt(e,"return");if(n===void 0)return t(Owe(void 0,!0));var i=Mwe(Twe(n,e));Awe(i,t,r,e)})}});Nwe.exports=kwe});var Lwe=P((h6r,Rwe)=>{"use strict";p();var dPt=Ht(),hPt=C2(),mPt=Yt(),gPt=uh(),vPt=Mi(),yPt=Ki(),_Pt=Ir(),bPt=_Pt("asyncIterator");Rwe.exports=function(e,t){var r=arguments.length<2?yPt(e,bPt):t;return r?mPt(dPt(r,e)):new hPt(vPt(gPt(e)))}});var J0=P((g6r,qwe)=>{"use strict";p();var xPt=Ht(),wPt=Mr(),SPt=Ki();qwe.exports=function(e,t,r,n){try{var i=SPt(e,"return");if(i)return wPt("Promise").resolve(xPt(i,e)).then(function(){t(r)},function(o){n(o)})}catch(o){return n(o)}t(r)}});var Dg=P((y6r,zwe)=>{"use strict";p();var EPt=Ht(),IPt=Cr(),cU=Yt(),TPt=xr(),MPt=ch(),CPt=Mr(),APt=Mi(),pU=J0(),A2=function(e){var t=e===0,r=e===1,n=e===2,i=e===3;return function(o,u,d){cU(o);var g=u!==void 0;(g||!t)&&IPt(u);var _=APt(o),I=CPt("Promise"),T=_.iterator,A=_.next,q=0;return new I(function(z,U){var N=function(F){pU(T,U,F,U)},L=function(){try{if(g)try{MPt(q)}catch(F){N(F)}I.resolve(cU(EPt(A,T))).then(function(F){try{if(cU(F).done)t?(d.length=q,z(d)):z(i?!1:n||void 0);else{var H=F.value;try{if(g){var Y=u(H,q),te=function(oe){if(r)L();else if(n)oe?L():pU(T,z,!1,U);else if(t)try{d[q++]=oe,L()}catch(ue){N(ue)}else oe?pU(T,z,i||H,U):L()};TPt(Y)?I.resolve(Y).then(te,N):te(Y)}else d[q++]=H,L()}catch(oe){N(oe)}}}catch(oe){U(oe)}},U)}catch(F){U(F)}};L()})}};zwe.exports={toArray:A2(0),forEach:A2(1),every:A2(2),some:A2(3),find:A2(4)}});var fU=P((b6r,Uwe)=>{"use strict";p();var PPt=Jn(),jwe=mt(),OPt=ln(),DPt=Gu(),kPt=Lwe(),NPt=uh(),RPt=Mi(),LPt=Yc(),qPt=Ki(),zPt=Mr(),jPt=l9(),FPt=Ir(),BPt=C2(),UPt=Dg().toArray,VPt=FPt("asyncIterator"),Fwe=jwe(jPt("Array","values")),$Pt=jwe(Fwe([]).next),GPt=function(){return new Bwe(this)},Bwe=function(e){this.iterator=Fwe(e)};Bwe.prototype.next=function(){return $Pt(this.iterator)};Uwe.exports=function(t){var r=this,n=arguments.length,i=n>1?arguments[1]:void 0,o=n>2?arguments[2]:void 0;return new(zPt("Promise"))(function(u){var d=OPt(t);i!==void 0&&(i=PPt(i,o));var g=qPt(d,VPt),_=g?void 0:LPt(d)||GPt,I=DPt(r)?new r:[],T=g?kPt(d,g):new BPt(RPt(NPt(d,_)));u(UPt(T,i,I))})}});var $we=P(()=>{"use strict";p();var HPt=ie(),WPt=fU(),ZPt=Mt(),Vwe=Array.fromAsync,YPt=!Vwe||ZPt(function(){var e=0;return Vwe.call(function(){return e++,[]},{length:0}),e!==1});HPt({target:"Array",stat:!0,forced:YPt},{fromAsync:WPt})});var Gwe=P(()=>{"use strict";p();R7()});var Hwe=P(()=>{"use strict";p();var KPt=ie(),XPt=Qi().filterReject,QPt=qi();KPt({target:"Array",proto:!0,forced:!0},{filterOut:function(t){return XPt(this,t,arguments.length>1?arguments[1]:void 0)}});QPt("filterOut")});var Wwe=P(()=>{"use strict";p();var JPt=ie(),eOt=Qi().filterReject,tOt=qi();JPt({target:"Array",proto:!0,forced:!0},{filterReject:function(t){return eOt(this,t,arguments.length>1?arguments[1]:void 0)}});tOt("filterReject")});var Zwe=P(()=>{"use strict";p();F7()});var Ywe=P(()=>{"use strict";p();B7()});var q5=P((F6r,Kwe)=>{"use strict";p();var rOt=Jn(),nOt=mt(),iOt=hf(),oOt=ln(),aOt=Wc(),sOt=gn(),lOt=Xi(),uOt=bf(),cOt=Array,pOt=nOt([].push);Kwe.exports=function(e,t,r,n){for(var i=oOt(e),o=iOt(i),u=rOt(t,r),d=lOt(null),g=sOt(o),_=0,I,T,A;g>_;_++)A=o[_],T=aOt(u(A,_,i)),T in d?pOt(d[T],A):d[T]=[A];if(n&&(I=n(i),I!==cOt))for(T in d)d[T]=uOt(I,d[T]);return d}});var Xwe=P(()=>{"use strict";p();var fOt=ie(),dOt=q5(),hOt=qi();fOt({target:"Array",proto:!0},{group:function(t){var r=arguments.length>1?arguments[1]:void 0;return dOt(this,t,r)}});hOt("group")});var Qwe=P(()=>{"use strict";p();var mOt=ie(),gOt=q5(),vOt=eu(),yOt=qi();mOt({target:"Array",proto:!0,forced:!vOt("groupBy")},{groupBy:function(t){var r=arguments.length>1?arguments[1]:void 0;return gOt(this,t,r)}});yOt("groupBy")});var dU=P((Z6r,Jwe)=>{"use strict";p();var _Ot=Jn(),bOt=mt(),xOt=hf(),wOt=ln(),SOt=gn(),z5=Ro(),EOt=z5.Map,IOt=z5.get,TOt=z5.has,MOt=z5.set,COt=bOt([].push);Jwe.exports=function(t){for(var r=wOt(this),n=xOt(r),i=_Ot(t,arguments.length>1?arguments[1]:void 0),o=new EOt,u=SOt(n),d=0,g,_;u>d;d++)_=n[d],g=i(_,d,r),TOt(o,g)?COt(IOt(o,g),_):MOt(o,g,[_]);return o}});var e2e=P(()=>{"use strict";p();var AOt=ie(),POt=eu(),OOt=qi(),DOt=dU(),kOt=In();AOt({target:"Array",proto:!0,name:"groupToMap",forced:kOt||!POt("groupByToMap")},{groupByToMap:DOt});OOt("groupByToMap")});var t2e=P(()=>{"use strict";p();var NOt=ie(),ROt=qi(),LOt=dU(),qOt=In();NOt({target:"Array",proto:!0,forced:qOt},{groupToMap:LOt});ROt("groupToMap")});var i2e=P(()=>{"use strict";p();var zOt=ie(),jOt=$u(),r2e=Object.isFrozen,n2e=function(e,t){if(!r2e||!jOt(e)||!r2e(e))return!1;for(var r=0,n=e.length,i;r<n;)if(i=e[r++],!(typeof i=="string"||t&&i===void 0))return!1;return n!==0};zOt({target:"Array",stat:!0,sham:!0,forced:!0},{isTemplateObject:function(t){if(!n2e(t,!0))return!1;var r=t.raw;return r.length===t.length&&n2e(r,!1)}})});var o2e=P(()=>{"use strict";p();var FOt=hr(),BOt=qi(),UOt=ln(),VOt=gn(),$Ot=_i();FOt&&($Ot(Array.prototype,"lastIndex",{configurable:!0,get:function(){var t=UOt(this),r=VOt(t);return r===0?0:r-1}}),BOt("lastIndex"))});var l2e=P(()=>{"use strict";p();var GOt=hr(),HOt=qi(),a2e=ln(),s2e=gn(),WOt=_i();GOt&&(WOt(Array.prototype,"lastItem",{configurable:!0,get:function(){var t=a2e(this),r=s2e(t);return r===0?void 0:t[r-1]},set:function(t){var r=a2e(this),n=s2e(r);return r[n===0?0:n-1]=t}}),HOt("lastItem"))});var u2e=P(()=>{"use strict";p();s9()});var c2e=P(()=>{"use strict";p();u9()});var p2e=P(()=>{"use strict";p();c9()});var ru=P((bqr,g2e)=>{"use strict";p();var f2e=mt(),ZOt=Mf(),d2e=Ro(),YOt=d2e.Map,h2e=d2e.proto,KOt=f2e(h2e.forEach),m2e=f2e(h2e.entries),XOt=m2e(new YOt).next;g2e.exports=function(e,t,r){return r?ZOt({iterator:m2e(e),next:XOt},function(n){return t(n[1],n[0])}):KOt(e,t)}});var j5=P((wqr,v2e)=>{"use strict";p();var QOt=mt(),JOt=Cr(),eDt=qs(),tDt=gn(),rDt=ln(),hU=Ro(),nDt=ru(),iDt=hU.Map,oDt=hU.has,aDt=hU.set,sDt=QOt([].push);v2e.exports=function(t){var r=rDt(this),n=tDt(r),i=[],o=new iDt,u=eDt(t)?function(I){return I}:JOt(t),d,g,_;for(d=0;d<n;d++)g=r[d],_=u(g),oDt(o,_)||aDt(o,_,g);return nDt(o,function(I){sDt(i,I)}),i}});var y2e=P(()=>{"use strict";p();var lDt=ie(),uDt=qi(),cDt=j5();lDt({target:"Array",proto:!0,forced:!0},{uniqueBy:cDt});uDt("uniqueBy")});var _2e=P(()=>{"use strict";p();f9()});var b2e=P(()=>{"use strict";p();j9()});var x2e=P(()=>{"use strict";p();ez()});var w2e=P(()=>{"use strict";p();tz()});var gU=P((jqr,M2e)=>{"use strict";p();var pDt=Mr(),fDt=Ht(),dDt=mt(),hDt=Jn(),mDt=Yt(),gDt=Cr(),I2e=qs(),mU=Ki(),T2e=Ir(),vDt=T2e("asyncDispose"),S2e=T2e("dispose"),yDt=dDt([].push),_Dt=function(e,t){if(t==="async-dispose"){var r=mU(e,vDt);return r!==void 0||(r=mU(e,S2e),r===void 0)?r:function(){var n=this,i=pDt("Promise");return new i(function(o){fDt(r,n),o(void 0)})}}return mU(e,S2e)},E2e=function(e,t,r){return arguments.length<3&&!I2e(e)&&(r=gDt(_Dt(mDt(e),t))),r===void 0?function(){}:hDt(r,e)};M2e.exports=function(e,t,r,n){var i;if(arguments.length<4){if(I2e(t)&&r==="sync-dispose")return;i=E2e(t,r)}else i=E2e(void 0,r,n);yDt(e.stack,i)}});var R2e=P(()=>{"use strict";p();var bDt=ie(),B5=hr(),O2e=Mr(),C2e=Cr(),xDt=$a(),D2e=Gn(),wDt=tu(),SDt=_i(),k2e=Ir(),N2e=jn(),vU=gU(),A2e=Bu(),P2e=O2e("Promise"),EDt=O2e("SuppressedError"),IDt=ReferenceError,TDt=k2e("asyncDispose"),MDt=k2e("toStringTag"),V5="AsyncDisposableStack",CDt=N2e.set,U5=N2e.getterFor(V5),yU="async-dispose",P2="disposed",ADt="pending",F5=function(e){var t=U5(e);if(t.state===P2)throw new IDt(V5+" already disposed");return t},_U=function(){CDt(xDt(this,e1),{type:V5,state:ADt,stack:[]}),B5||(this.disposed=!1)},e1=_U.prototype;wDt(e1,{disposeAsync:function(){var t=this;return new P2e(function(r,n){var i=U5(t);if(i.state===P2)return r(void 0);i.state=P2,B5||(t.disposed=!0);var o=i.stack,u=o.length,d=!1,g,_=function(T){d?g=new EDt(T,g):(d=!0,g=T),I()},I=function(){if(u){var T=o[--u];o[u]=null;try{P2e.resolve(T()).then(I,_)}catch(A){_(A)}}else i.stack=null,d?n(g):r(void 0)};I()})},use:function(t){return vU(F5(this),t,yU),t},adopt:function(t,r){var n=F5(this);return C2e(r),vU(n,void 0,yU,function(){return r(t)}),t},defer:function(t){var r=F5(this);C2e(t),vU(r,void 0,yU,t)},move:function(){var t=F5(this),r=new _U;return U5(r).stack=t.stack,t.stack=[],t.state=P2,B5||(this.disposed=!0),r}});B5&&SDt(e1,"disposed",{configurable:!0,get:function(){return U5(this).state===P2}});D2e(e1,TDt,e1.disposeAsync,{name:"disposeAsync"});D2e(e1,MDt,V5,{nonWritable:!0});var PDt=A2e&&A2e<136;bDt({global:!0,constructor:!0,forced:PDt},{AsyncDisposableStack:_U})});var F2e=P(()=>{"use strict";p();var ODt=ie(),DDt=$a(),kDt=wo(),q2e=xo(),z2e=Xr(),NDt=Ir(),Ch=Q0(),j2e=In(),L2e=NDt("toStringTag"),RDt=TypeError,bU=function(){if(DDt(this,Ch),kDt(this)===Ch)throw new RDt("Abstract class AsyncIterator not directly constructable")};bU.prototype=Ch;z2e(Ch,L2e)||q2e(Ch,L2e,"AsyncIterator");(j2e||!z2e(Ch,"constructor")||Ch.constructor===Object)&&q2e(Ch,"constructor",bU);ODt({global:!0,constructor:!0,forced:j2e},{AsyncIterator:bU})});var kg=P((Wqr,Z2e)=>{"use strict";p();var LDt=Ht(),$5=wh(),B2e=Yt(),qDt=Xi(),zDt=xo(),jDt=tu(),FDt=Ir(),V2e=jn(),BDt=Mr(),UDt=Ki(),VDt=Q0(),xU=No(),U2e=Ho(),np=BDt("Promise"),$Dt=FDt("toStringTag"),$2e="AsyncIteratorHelper",G2e="WrapForValidAsyncIterator",GDt=V2e.set,H2e=function(e){var t=!e,r=V2e.getterFor(e?G2e:$2e),n=function(i){var o=$5(function(){return r(i)}),u=o.error,d=o.value;return u||t&&d.done?{exit:!0,value:u?np.reject(d):np.resolve(xU(void 0,!0))}:{exit:!1,value:d}};return jDt(qDt(VDt),{next:function(){var o=n(this),u=o.value;if(o.exit)return u;var d=$5(function(){return B2e(u.nextHandler(np))}),g=d.error,_=d.value;return g&&(u.done=!0),g?np.reject(_):np.resolve(_)},return:function(){var i=n(this),o=i.value;if(i.exit)return o;o.done=!0;var u=o.iterator,d,g,_=$5(function(){if(o.inner)try{U2e(o.inner.iterator,"normal")}catch(I){return U2e(u,"throw",I)}return UDt(u,"return")});return d=g=_.value,_.error?np.reject(g):d===void 0?np.resolve(xU(void 0,!0)):(_=$5(function(){return LDt(d,u)}),g=_.value,_.error?np.reject(g):e?np.resolve(g):np.resolve(g).then(function(I){return B2e(I),xU(void 0,!0)}))}})},HDt=H2e(!0),W2e=H2e(!1);zDt(W2e,$Dt,"Async Iterator Helper");Z2e.exports=function(e,t){var r=function(i,o){o?(o.iterator=i.iterator,o.next=i.next):o=i,o.type=t?G2e:$2e,o.nextHandler=e,o.counter=0,o.done=!1,GDt(this,o)};return r.prototype=t?HDt:W2e,r}});var SU=P((Yqr,K2e)=>{"use strict";p();var WDt=Ht(),ZDt=Cr(),wU=Yt(),YDt=xr(),KDt=Mi(),XDt=kg(),Y2e=No(),QDt=J0(),JDt=XDt(function(e){var t=this,r=t.iterator,n=t.mapper;return new e(function(i,o){var u=function(g){t.done=!0,o(g)},d=function(g){QDt(r,u,g,u)};e.resolve(wU(WDt(t.next,r))).then(function(g){try{if(wU(g).done)t.done=!0,i(Y2e(void 0,!0));else{var _=g.value;try{var I=n(_,t.counter++),T=function(A){i(Y2e(A,!1))};YDt(I)?e.resolve(I).then(T,d):T(I)}catch(A){d(A)}}}catch(A){u(A)}},u)})});K2e.exports=function(t){return wU(this),ZDt(t),new JDt(KDt(this),{mapper:t})}});var EU=P((Xqr,X2e)=>{"use strict";p();var ekt=Ht(),tkt=SU(),rkt=function(e,t){return[t,e]};X2e.exports=function(){return ekt(tkt,this,rkt)}});var Q2e=P(()=>{"use strict";p();var nkt=ie(),ikt=EU();nkt({target:"AsyncIterator",name:"indexed",proto:!0,real:!0,forced:!0},{asIndexedPairs:ikt})});var rSe=P(()=>{"use strict";p();var okt=Ht(),akt=Gn(),skt=Mr(),lkt=Ki(),ukt=Xr(),ckt=Ir(),J2e=Q0(),eSe=ckt("asyncDispose"),tSe=skt("Promise");ukt(J2e,eSe)||akt(J2e,eSe,function(){var e=this;return new tSe(function(t,r){var n=lkt(e,"return");n?tSe.resolve(okt(n,e)).then(function(){t(void 0)},r):t(void 0)})})});var iSe=P(()=>{"use strict";p();var pkt=ie(),fkt=Ht(),IU=Yt(),dkt=Mi(),hkt=M0(),mkt=C0(),gkt=kg(),nSe=No(),vkt=gkt(function(e){var t=this;return new e(function(r,n){var i=function(u){t.done=!0,n(u)},o=function(){try{e.resolve(IU(fkt(t.next,t.iterator))).then(function(u){try{IU(u).done?(t.done=!0,r(nSe(void 0,!0))):t.remaining?(t.remaining--,o()):r(nSe(u.value,!1))}catch(d){i(d)}},i)}catch(u){i(u)}};o()})});pkt({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{drop:function(t){IU(this);var r=mkt(hkt(+t));return new vkt(dkt(this),{remaining:r})}})});var oSe=P(()=>{"use strict";p();var ykt=ie(),_kt=Dg().every;ykt({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{every:function(t){return _kt(this,t)}})});var sSe=P(()=>{"use strict";p();var bkt=ie(),xkt=Ht(),wkt=Cr(),TU=Yt(),Skt=xr(),Ekt=Mi(),Ikt=kg(),aSe=No(),Tkt=J0(),Mkt=Ikt(function(e){var t=this,r=t.iterator,n=t.predicate;return new e(function(i,o){var u=function(_){t.done=!0,o(_)},d=function(_){Tkt(r,u,_,u)},g=function(){try{e.resolve(TU(xkt(t.next,r))).then(function(_){try{if(TU(_).done)t.done=!0,i(aSe(void 0,!0));else{var I=_.value;try{var T=n(I,t.counter++),A=function(q){q?i(aSe(I,!1)):g()};Skt(T)?e.resolve(T).then(A,d):A(T)}catch(q){d(q)}}}catch(q){u(q)}},u)}catch(_){u(_)}};g()})});bkt({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{filter:function(t){return TU(this),wkt(t),new Mkt(Ekt(this),{predicate:t})}})});var lSe=P(()=>{"use strict";p();var Ckt=ie(),Akt=Dg().find;Ckt({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{find:function(t){return Akt(this,t)}})});var MU=P((v8r,pSe)=>{"use strict";p();var Pkt=Ht(),Okt=Wr(),uSe=Yt(),cSe=Mi(),Dkt=Yc(),kkt=Ki(),Nkt=Ir(),Rkt=C2(),Lkt=Nkt("asyncIterator");pSe.exports=function(e){var t=uSe(e),r=!0,n=kkt(t,Lkt),i;return Okt(n)||(n=Dkt(t),r=!1),n!==void 0?i=Pkt(n,t):(i=t,r=!0),uSe(i),cSe(r?i:new Rkt(cSe(i)))}});var hSe=P(()=>{"use strict";p();var qkt=ie(),fSe=Ht(),zkt=Cr(),O2=Yt(),jkt=xr(),Fkt=Mi(),Bkt=kg(),dSe=No(),Ukt=MU(),Vkt=J0(),$kt=Bkt(function(e){var t=this,r=t.iterator,n=t.mapper;return new e(function(i,o){var u=function(I){t.done=!0,o(I)},d=function(I){Vkt(r,u,I,u)},g=function(){try{e.resolve(O2(fSe(t.next,r))).then(function(I){try{if(O2(I).done)t.done=!0,i(dSe(void 0,!0));else{var T=I.value;try{var A=n(T,t.counter++),q=function(z){try{t.inner=Ukt(z),_()}catch(U){d(U)}};jkt(A)?e.resolve(A).then(q,d):q(A)}catch(z){d(z)}}}catch(z){u(z)}},u)}catch(I){u(I)}},_=function(){var I=t.inner;if(I)try{e.resolve(O2(fSe(I.next,I.iterator))).then(function(T){try{O2(T).done?(t.inner=null,g()):i(dSe(T.value,!1))}catch(A){d(A)}},d)}catch(T){d(T)}else g()};_()})});qkt({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{flatMap:function(t){return O2(this),zkt(t),new $kt(Fkt(this),{mapper:t,inner:null})}})});var mSe=P(()=>{"use strict";p();var Gkt=ie(),Hkt=Dg().forEach;Gkt({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{forEach:function(t){return Hkt(this,t)}})});var CU=P((I8r,gSe)=>{"use strict";p();var Wkt=Ht(),Zkt=kg();gSe.exports=Zkt(function(){return Wkt(this.next,this.iterator)},!0)});var vSe=P(()=>{"use strict";p();var Ykt=ie(),Kkt=ln(),Xkt=pa(),Qkt=MU(),Jkt=Q0(),eNt=CU();Ykt({target:"AsyncIterator",stat:!0,forced:!0},{from:function(t){var r=Qkt(typeof t=="string"?Kkt(t):t);return Xkt(Jkt,r.iterator)?r.iterator:new eNt(r)}})});var ySe=P(()=>{"use strict";p();var tNt=ie(),rNt=EU();tNt({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{indexed:rNt})});var _Se=P(()=>{"use strict";p();var nNt=ie(),iNt=SU();nNt({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{map:iNt})});var bSe=P(()=>{"use strict";p();var oNt=ie(),aNt=Ht(),sNt=Cr(),AU=Yt(),lNt=xr(),uNt=Mr(),cNt=Mi(),pNt=J0(),PU=uNt("Promise"),fNt=TypeError;oNt({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{reduce:function(t){AU(this),sNt(t);var r=cNt(this),n=r.iterator,i=r.next,o=arguments.length<2,u=o?void 0:arguments[1],d=0;return new PU(function(g,_){var I=function(A){pNt(n,_,A,_)},T=function(){try{PU.resolve(AU(aNt(i,n))).then(function(A){try{if(AU(A).done)o?_(new fNt("Reduce of empty iterator with no initial value")):g(u);else{var q=A.value;if(o)o=!1,u=q,T();else try{var z=t(u,q,d),U=function(N){u=N,T()};lNt(z)?PU.resolve(z).then(U,I):U(z)}catch(N){I(N)}}d++}catch(N){_(N)}},_)}catch(A){_(A)}};T()})}})});var xSe=P(()=>{"use strict";p();var dNt=ie(),hNt=Dg().some;dNt({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{some:function(t){return hNt(this,t)}})});var ESe=P(()=>{"use strict";p();var mNt=ie(),wSe=Ht(),SSe=Yt(),gNt=Mi(),vNt=M0(),yNt=C0(),_Nt=kg(),OU=No(),bNt=_Nt(function(e){var t=this,r=t.iterator,n;if(!t.remaining--){var i=OU(void 0,!0);return t.done=!0,n=r.return,n!==void 0?e.resolve(wSe(n,r,void 0)).then(function(){return i}):i}return e.resolve(wSe(t.next,r)).then(function(o){return SSe(o).done?(t.done=!0,OU(void 0,!0)):OU(o.value,!1)}).then(null,function(o){throw t.done=!0,o})});mNt({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{take:function(t){SSe(this);var r=yNt(vNt(+t));return new bNt(gNt(this),{remaining:r})}})});var ISe=P(()=>{"use strict";p();var xNt=ie(),wNt=Dg().toArray;xNt({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{toArray:function(){return wNt(this,void 0,[])}})});var H5=P((Z8r,OSe)=>{"use strict";p();var MSe=jn(),SNt=fh(),DU=No(),ENt=qs(),INt=xr(),TNt=_i(),CSe=hr(),D2="Incorrect Iterator.range arguments",NU="NumericRangeIterator",MNt=MSe.set,ASe=MSe.getterFor(NU),TSe=RangeError,kU=TypeError,PSe=SNt(function(t,r,n,i,o,u){if(typeof t!=i||r!==1/0&&r!==-1/0&&typeof r!=i)throw new kU(D2);if(t===1/0||t===-1/0)throw new TSe(D2);var d=r>t,g=!1,_;if(n===void 0)_=void 0;else if(INt(n))_=n.step,g=!!n.inclusive;else if(typeof n==i)_=n;else throw new kU(D2);if(ENt(_)&&(_=d?u:-u),typeof _!=i)throw new kU(D2);if(_===1/0||_===-1/0||_===o&&t!==r)throw new TSe(D2);var I=t!==t||r!==r||_!==_||r>t!=_>o;MNt(this,{type:NU,start:t,end:r,step:_,inclusive:g,hitsEnd:I,currentCount:o,zero:o}),CSe||(this.start=t,this.end=r,this.step=_,this.inclusive=g)},NU,function(){var t=ASe(this);if(t.hitsEnd)return DU(void 0,!0);var r=t.start,n=t.end,i=t.step,o=r+i*t.currentCount++;o===n&&(t.hitsEnd=!0);var u=t.inclusive,d;return n>r?d=u?o>n:o>=n:d=u?n>o:n>=o,d?(t.hitsEnd=!0,DU(void 0,!0)):DU(o,!1)}),G5=function(e){TNt(PSe.prototype,e,{get:function(){return ASe(this)[e]},set:function(){},configurable:!0,enumerable:!1})};CSe&&(G5("start"),G5("end"),G5("inclusive"),G5("step"));OSe.exports=PSe});var DSe=P(()=>{"use strict";p();var CNt=ie(),ANt=H5();typeof BigInt=="function"&&CNt({target:"BigInt",stat:!0,forced:!0},{range:function(t,r,n){return new ANt(t,r,n,"bigint",BigInt(0),BigInt(1))}})});var RU=P((J8r,LSe)=>{"use strict";p();DA();O5();var RSe=Mr(),PNt=Xi(),kSe=xr(),ONt=Object,DNt=TypeError,kNt=RSe("Map"),NNt=RSe("WeakMap"),W5=function(){this.object=null,this.symbol=null,this.primitives=null,this.objectsByIndex=PNt(null)};W5.prototype.get=function(e,t){return this[e]||(this[e]=t())};W5.prototype.next=function(e,t,r){var n=r?this.objectsByIndex[e]||(this.objectsByIndex[e]=new NNt):this.primitives||(this.primitives=new kNt),i=n.get(t);return i||n.set(t,i=new W5),i};var NSe=new W5;LSe.exports=function(){var e=NSe,t=arguments.length,r,n;for(r=0;r<t;r++)kSe(n=arguments[r])&&(e=e.next(r,n,!0));if(this===ONt&&e===NSe)throw new DNt("Composite keys must contain a non-primitive component");for(r=0;r<t;r++)kSe(n=arguments[r])||(e=e.next(r,n,!1));return e}});var zSe=P(()=>{"use strict";p();var RNt=ie(),LNt=fa(),qNt=RU(),zNt=Mr(),qSe=Xi(),jNt=Object,FNt=function(){var e=zNt("Object","freeze");return e?e(qSe(null)):qSe(null)};RNt({global:!0,forced:!0},{compositeKey:function(){return LNt(qNt,jNt,arguments).get("object",FNt)}})});var FSe=P(()=>{"use strict";p();var BNt=ie(),UNt=RU(),jSe=Mr(),VNt=fa();BNt({global:!0,forced:!0},{compositeSymbol:function(){return arguments.length===1&&typeof arguments[0]=="string"?jSe("Symbol").for(arguments[0]):VNt(UNt,null,arguments).get("symbol",jSe("Symbol"))}})});var BSe=P(()=>{"use strict";p();D9()});var USe=P(()=>{"use strict";p();var $Nt=ie(),GNt=mt(),HNt=GNt(DataView.prototype.getUint8);$Nt({target:"DataView",proto:!0,forced:!0},{getUint8Clamped:function(t){return HNt(this,t)}})});var VSe=P(()=>{"use strict";p();L9()});var $Se=P(()=>{"use strict";p();var WNt=ie(),ZNt=mt(),YNt=k9(),KNt=b0(),XNt=IB(),QNt=ZNt(DataView.prototype.setUint8);WNt({target:"DataView",proto:!0,forced:!0},{setUint8Clamped:function(t,r){YNt(this);var n=KNt(t);return QNt(this,n,XNt(r))}})});var YSe=P(()=>{"use strict";p();var JNt=ie(),Y5=hr(),eRt=Mr(),GSe=Cr(),tRt=$a(),HSe=Gn(),rRt=tu(),nRt=_i(),WSe=Ir(),ZSe=jn(),LU=gU(),iRt=eRt("SuppressedError"),oRt=ReferenceError,aRt=WSe("dispose"),sRt=WSe("toStringTag"),X5="DisposableStack",lRt=ZSe.set,K5=ZSe.getterFor(X5),qU="sync-dispose",k2="disposed",uRt="pending",Z5=function(e){var t=K5(e);if(t.state===k2)throw new oRt(X5+" already disposed");return t},zU=function(){lRt(tRt(this,t1),{type:X5,state:uRt,stack:[]}),Y5||(this.disposed=!1)},t1=zU.prototype;rRt(t1,{dispose:function(){var t=K5(this);if(t.state!==k2){t.state=k2,Y5||(this.disposed=!0);for(var r=t.stack,n=r.length,i=!1,o;n;){var u=r[--n];r[n]=null;try{u()}catch(d){i?o=new iRt(d,o):(i=!0,o=d)}}if(t.stack=null,i)throw o}},use:function(t){return LU(Z5(this),t,qU),t},adopt:function(t,r){var n=Z5(this);return GSe(r),LU(n,void 0,qU,function(){r(t)}),t},defer:function(t){var r=Z5(this);GSe(t),LU(r,void 0,qU,t)},move:function(){var t=Z5(this),r=new zU;return K5(r).stack=t.stack,t.stack=[],t.state=k2,Y5||(this.disposed=!0),r}});Y5&&nRt(t1,"disposed",{configurable:!0,get:function(){return K5(this).state===k2}});HSe(t1,aRt,t1.dispose,{name:"dispose"});HSe(t1,sRt,X5,{nonWritable:!0});JNt({global:!0,constructor:!0},{DisposableStack:zU})});var JSe=P(()=>{"use strict";p();var cRt=ie(),XSe=Mr(),pRt=xr(),fRt=hs(),dRt=Mt(),QSe="Error",FU="DOMException",hRt=Object.setPrototypeOf||{}.__proto__,KSe=XSe(FU),jU=Error,Q5=jU.isError,mRt=!Q5||!hRt||dRt(function(){return KSe&&!Q5(new KSe(FU))||!Q5(new jU(QSe,{cause:function(){}}))||Q5(XSe("Object","create")(jU.prototype))});cRt({target:"Error",stat:!0,sham:!0,forced:mRt},{isError:function(t){if(!pRt(t))return!1;var r=fRt(t);return r===QSe||r===FU}})});var BU=P((I7r,eEe)=>{"use strict";p();var gRt=mt(),vRt=Cr();eEe.exports=function(){return gRt(vRt(this))}});var tEe=P(()=>{"use strict";p();var yRt=ie(),_Rt=BU();yRt({target:"Function",proto:!0,forced:!0},{demethodize:_Rt})});var nEe=P(()=>{"use strict";p();var bRt=ie(),xRt=mt(),wRt=Wr(),SRt=mw(),ERt=Xr(),IRt=hr(),TRt=Object.getOwnPropertyDescriptor,rEe=/^\s*class\b/,MRt=xRt(rEe.exec),CRt=function(e){try{if(!IRt||!MRt(rEe,SRt(e)))return!1}catch(r){}var t=TRt(e,"prototype");return!!t&&ERt(t,"writable")&&!t.writable};bRt({target:"Function",stat:!0,sham:!0,forced:!0},{isCallable:function(t){return wRt(t)&&!CRt(t)}})});var iEe=P(()=>{"use strict";p();var ARt=ie(),PRt=Gu();ARt({target:"Function",stat:!0,forced:!0},{isConstructor:PRt})});var sEe=P(()=>{"use strict";p();var ORt=Ir(),DRt=ui().f,oEe=ORt("metadata"),aEe=Function.prototype;aEe[oEe]===void 0&&DRt(aEe,oEe,{value:null})});var lEe=P(()=>{"use strict";p();var kRt=ie(),NRt=BU();kRt({target:"Function",proto:!0,forced:!0,name:"demethodize"},{unThis:NRt})});var uEe=P(()=>{"use strict";p();lz()});var cEe=P(()=>{"use strict";p();dz()});var UU=P((Z7r,pEe)=>{"use strict";p();MA();var RRt=Ht(),LRt=ph().IteratorPrototype.map,qRt=function(e,t){return[t,e]};pEe.exports=function(){return RRt(LRt,this,qRt)}});var fEe=P(()=>{"use strict";p();var zRt=ie(),jRt=UU();zRt({target:"Iterator",name:"indexed",proto:!0,real:!0,forced:!0},{asIndexedPairs:jRt})});var mEe=P(()=>{"use strict";p();var FRt=ie(),dEe=Ht(),BRt=Cr(),hEe=Yt(),URt=Yc(),VRt=bh(),$Rt=No(),GRt=Array,HRt=VRt(function(){for(;;){var e=this.iterator;if(!e){var t=this.nextIterableIndex++,r=this.iterables;if(t>=r.length)return this.done=!0,$Rt(void 0,!0);var n=r[t];this.iterables[t]=null,e=this.iterator=dEe(n.method,n.iterable),this.next=e.next}var i=hEe(dEe(this.next,e));if(i.done){this.iterator=null,this.next=null;continue}return i}},!1,!0);FRt({target:"Iterator",stat:!0,forced:!0},{concat:function(){for(var t=arguments.length,r=GRt(t),n=0;n<t;n++){var i=hEe(arguments[n]);r[n]={iterable:i,method:BRt(URt(i))}}return new HRt({iterables:r,nextIterableIndex:0,iterator:null,next:null})}})});var yEe=P(()=>{"use strict";p();var WRt=Ht(),ZRt=Gn(),YRt=Ki(),KRt=Xr(),XRt=Ir(),gEe=ph().IteratorPrototype,vEe=XRt("dispose");KRt(gEe,vEe)||ZRt(gEe,vEe,function(){var e=YRt(this,"return");e&&WRt(e,this)})});var _Ee=P(()=>{"use strict";p();yz()});var bEe=P(()=>{"use strict";p();bz()});var xEe=P(()=>{"use strict";p();wz()});var wEe=P(()=>{"use strict";p();Ez()});var SEe=P(()=>{"use strict";p();Pz()});var EEe=P(()=>{"use strict";p();Dz()});var IEe=P(()=>{"use strict";p();kz()});var TEe=P(()=>{"use strict";p();var QRt=ie(),JRt=UU();QRt({target:"Iterator",proto:!0,real:!0,forced:!0},{indexed:JRt})});var MEe=P(()=>{"use strict";p();MA()});var AEe=P(()=>{"use strict";p();var eLt=ie(),CEe=H5(),tLt=TypeError;eLt({target:"Iterator",stat:!0,forced:!0},{range:function(t,r,n){if(typeof t=="number")return new CEe(t,r,n,"number",0,1);if(typeof t=="bigint")return new CEe(t,r,n,"bigint",BigInt(0),BigInt(1));throw new tLt("Incorrect Iterator.range arguments")}})});var PEe=P(()=>{"use strict";p();Lz()});var OEe=P(()=>{"use strict";p();zz()});var DEe=P(()=>{"use strict";p();Fz()});var kEe=P(()=>{"use strict";p();Bz()});var REe=P(()=>{"use strict";p();var rLt=ie(),nLt=Yt(),iLt=C2(),oLt=CU(),NEe=Mi();rLt({target:"Iterator",proto:!0,real:!0,forced:!0},{toAsync:function(){return new oLt(NEe(new iLt(NEe(nLt(this)))))}})});var VU=P((K9r,LEe)=>{"use strict";p();var aLt=Mt();LEe.exports=!aLt(function(){var e="9007199254740993",t=JSON.rawJSON(e);return!JSON.isRawJSON(t)||JSON.stringify(t)!==e})});var $U=P((Q9r,qEe)=>{"use strict";p();var sLt=xr(),lLt=jn().get;qEe.exports=function(t){if(!sLt(t))return!1;var r=lLt(t);return!!r&&r.type==="RawJSON"}});var zEe=P(()=>{"use strict";p();var uLt=ie(),cLt=VU(),pLt=$U();uLt({target:"JSON",stat:!0,forced:!cLt},{isRawJSON:pLt})});var HU=P((nzr,UEe)=>{"use strict";p();var GU=mt(),fLt=Xr(),J5=SyntaxError,dLt=parseInt,hLt=String.fromCharCode,mLt=GU("".charAt),jEe=GU("".slice),FEe=GU(/./.exec),BEe={"\\\"":"\"","\\\\":"\\","\\/":"/","\\b":"\b","\\f":"\f","\\n":`
`,"\\r":"\r","\\t":"\t"},gLt=/^[\da-f]{4}$/i,vLt=/^[\u0000-\u001F]$/;UEe.exports=function(e,t){for(var r=!0,n="";t<e.length;){var i=mLt(e,t);if(i==="\\"){var o=jEe(e,t,t+2);if(fLt(BEe,o))n+=BEe[o],t+=2;else if(o==="\\u"){t+=2;var u=jEe(e,t,t+4);if(!FEe(gLt,u))throw new J5("Bad Unicode escape at: "+t);n+=hLt(dLt(u,16)),t+=4}else throw new J5("Unknown escape sequence: \""+o+"\"")}else if(i==="\""){r=!1,t++;break}else{if(FEe(vLt,i))throw new J5("Bad control character in string literal at: "+t);n+=i,t++}}if(r)throw new J5("Unterminated string at: "+t);return{value:n,end:t}}});var KEe=P(()=>{"use strict";p();var yLt=ie(),_Lt=hr(),eV=Gt(),bLt=Mr(),e3=mt(),xLt=Ht(),ZEe=Wr(),wLt=xr(),SLt=$u(),ELt=Xr(),ILt=Lr(),VEe=gn(),XU=Jl(),YEe=Mt(),TLt=HU(),MLt=th(),$Ee=eV.JSON,CLt=eV.Number,r1=eV.SyntaxError,tV=$Ee&&$Ee.parse,ALt=bLt("Object","keys"),PLt=Object.getOwnPropertyDescriptor,ha=e3("".charAt),WU=e3("".slice),ZU=e3(/./.exec),GEe=e3([].push),YU=/^\d$/,OLt=/^[1-9]$/,DLt=/^[\d-]$/,N2=/^[\t\n\r ]$/,KU=0,HEe=1,kLt=function(e,t){e=ILt(e);var r=new JU(e,0,""),n=r.parse(),i=n.value,o=r.skip(N2,n.end);if(o<e.length)throw new r1("Unexpected extra character: \""+ha(e,o)+"\" after the parsed data at: "+o);return ZEe(t)?QU({"":i},"",t,n):i},QU=function(e,t,r,n){var i=e[t],o=n&&i===n.value,u=o&&typeof n.source=="string"?{source:n.source}:{},d,g,_,I,T;if(wLt(i)){var A=SLt(i),q=o?n.nodes:A?[]:{};if(A)for(d=q.length,_=VEe(i),I=0;I<_;I++)WEe(i,I,QU(i,""+I,r,I<d?q[I]:void 0));else for(g=ALt(i),_=VEe(g),I=0;I<_;I++)T=g[I],WEe(i,T,QU(i,T,r,ELt(q,T)?q[T]:void 0))}return xLt(r,e,t,i,u)},WEe=function(e,t,r){if(_Lt){var n=PLt(e,t);if(n&&!n.configurable)return}r===void 0?delete e[t]:XU(e,t,r)},NLt=function(e,t,r,n){this.value=e,this.end=t,this.source=r,this.nodes=n},JU=function(e,t){this.source=e,this.index=t};JU.prototype={fork:function(e){return new JU(this.source,e)},parse:function(){var e=this.source,t=this.skip(N2,this.index),r=this.fork(t),n=ha(e,t);if(ZU(DLt,n))return r.number();switch(n){case"{":return r.object();case"[":return r.array();case"\"":return r.string();case"t":return r.keyword(!0);case"f":return r.keyword(!1);case"n":return r.keyword(null)}throw new r1("Unexpected character: \""+n+"\" at: "+t)},node:function(e,t,r,n,i){return new NLt(t,n,e?null:WU(this.source,r,n),i)},object:function(){for(var e=this.source,t=this.index+1,r=!1,n={},i={};t<e.length;){if(t=this.until(["\"","}"],t),ha(e,t)==="}"&&!r){t++;break}var o=this.fork(t).string(),u=o.value;t=o.end,t=this.until([":"],t)+1,t=this.skip(N2,t),o=this.fork(t).parse(),XU(i,u,o),XU(n,u,o.value),t=this.until([",","}"],o.end);var d=ha(e,t);if(d===",")r=!0,t++;else if(d==="}"){t++;break}}return this.node(HEe,n,this.index,t,i)},array:function(){for(var e=this.source,t=this.index+1,r=!1,n=[],i=[];t<e.length;){if(t=this.skip(N2,t),ha(e,t)==="]"&&!r){t++;break}var o=this.fork(t).parse();if(GEe(i,o),GEe(n,o.value),t=this.until([",","]"],o.end),ha(e,t)===",")r=!0,t++;else if(ha(e,t)==="]"){t++;break}}return this.node(HEe,n,this.index,t,i)},string:function(){var e=this.index,t=TLt(this.source,this.index+1);return this.node(KU,t.value,e,t.end)},number:function(){var e=this.source,t=this.index,r=t;if(ha(e,r)==="-"&&r++,ha(e,r)==="0")r++;else if(ZU(OLt,ha(e,r)))r=this.skip(YU,r+1);else throw new r1("Failed to parse number at: "+r);if(ha(e,r)==="."&&(r=this.skip(YU,r+1)),ha(e,r)==="e"||ha(e,r)==="E"){r++,(ha(e,r)==="+"||ha(e,r)==="-")&&r++;var n=r;if(r=this.skip(YU,r),n===r)throw new r1("Failed to parse number's exponent value at: "+r)}return this.node(KU,CLt(WU(e,t,r)),t,r)},keyword:function(e){var t=""+e,r=this.index,n=r+t.length;if(WU(this.source,r,n)!==t)throw new r1("Failed to parse value at: "+r);return this.node(KU,e,r,n)},skip:function(e,t){for(var r=this.source;t<r.length&&ZU(e,ha(r,t));t++);return t},until:function(e,t){t=this.skip(N2,t);for(var r=ha(this.source,t),n=0;n<e.length;n++)if(e[n]===r)return t;throw new r1("Unexpected character: \""+r+"\" at: "+t)}};var RLt=YEe(function(){var e="9007199254740993",t;return tV(e,function(r,n,i){t=i.source}),t!==e}),LLt=MLt&&!YEe(function(){return 1/tV("-0 \t")!==-1/0});yLt({target:"JSON",stat:!0,forced:RLt},{parse:function(t,r){return LLt&&!ZEe(r)?tV(t):kLt(t,r)}})});var iIe=P(()=>{"use strict";p();var rIe=ie(),qLt=If(),nIe=VU(),t3=Mr(),zLt=Ht(),oV=mt(),jLt=Wr(),FLt=$U(),BLt=Lr(),ULt=Jl(),VLt=HU(),$Lt=m7(),GLt=nh(),HLt=jn().set,WLt=String,XEe=SyntaxError,ZLt=t3("JSON","parse"),QEe=t3("JSON","stringify"),YLt=t3("Object","create"),KLt=t3("Object","freeze"),nV=oV("".charAt),rV=oV("".slice),XLt=oV([].push),iV=GLt(),JEe=iV.length,eIe="Unacceptable as raw JSON",tIe=function(e){return e===" "||e==="\t"||e===`
`||e==="\r"};rIe({target:"JSON",stat:!0,forced:!nIe},{rawJSON:function(t){var r=BLt(t);if(r===""||tIe(nV(r,0))||tIe(nV(r,r.length-1)))throw new XEe(eIe);var n=ZLt(r);if(typeof n=="object"&&n!==null)throw new XEe(eIe);var i=YLt(null);return HLt(i,{type:"RawJSON"}),ULt(i,"rawJSON",r),qLt?KLt(i):i}});QEe&&rIe({target:"JSON",stat:!0,arity:3,forced:!nIe},{stringify:function(t,r,n){var i=$Lt(r),o=[],u=QEe(t,function(q,z){var U=jLt(i)?zLt(i,this,WLt(q),z):z;return FLt(U)?iV+(XLt(o,U.rawJSON)-1):U},n);if(typeof u!="string")return u;for(var d="",g=u.length,_=0;_<g;_++){var I=nV(u,_);if(I==="\""){var T=VLt(u,++_).end-1,A=rV(u,_,T);d+=rV(A,0,JEe)===iV?o[rV(A,JEe)]:"\""+A+"\"",_=T}else d+=I}return d}})});var ma=P((pzr,oIe)=>{"use strict";p();var QLt=Ro().has;oIe.exports=function(e){return QLt(e),e}});var aIe=P(()=>{"use strict";p();var JLt=ie(),e6t=ma(),t6t=Ro().remove;JLt({target:"Map",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var t=e6t(this),r=!0,n,i=0,o=arguments.length;i<o;i++)n=t6t(t,arguments[i]),r=r&&n;return!!r}})});var lIe=P(()=>{"use strict";p();var r6t=ie(),n6t=ma(),aV=Ro(),i6t=aV.get,o6t=aV.has,sIe=aV.set;r6t({target:"Map",proto:!0,real:!0,forced:!0},{emplace:function(t,r){var n=n6t(this),i,o;return o6t(n,t)?(i=i6t(n,t),"update"in r&&(i=r.update(i,t,n),sIe(n,t,i)),i):(o=r.insert(t,n),sIe(n,t,o),o)}})});var uIe=P(()=>{"use strict";p();var a6t=ie(),s6t=Jn(),l6t=ma(),u6t=ru();a6t({target:"Map",proto:!0,real:!0,forced:!0},{every:function(t){var r=l6t(this),n=s6t(t,arguments.length>1?arguments[1]:void 0);return u6t(r,function(i,o){if(!n(i,o,r))return!1},!0)!==!1}})});var pIe=P(()=>{"use strict";p();var c6t=ie(),p6t=Jn(),f6t=ma(),cIe=Ro(),d6t=ru(),h6t=cIe.Map,m6t=cIe.set;c6t({target:"Map",proto:!0,real:!0,forced:!0},{filter:function(t){var r=f6t(this),n=p6t(t,arguments.length>1?arguments[1]:void 0),i=new h6t;return d6t(r,function(o,u){n(o,u,r)&&m6t(i,u,o)}),i}})});var fIe=P(()=>{"use strict";p();var g6t=ie(),v6t=Jn(),y6t=ma(),_6t=ru();g6t({target:"Map",proto:!0,real:!0,forced:!0},{find:function(t){var r=y6t(this),n=v6t(t,arguments.length>1?arguments[1]:void 0),i=_6t(r,function(o,u){if(n(o,u,r))return{value:o}},!0);return i&&i.value}})});var dIe=P(()=>{"use strict";p();var b6t=ie(),x6t=Jn(),w6t=ma(),S6t=ru();b6t({target:"Map",proto:!0,real:!0,forced:!0},{findKey:function(t){var r=w6t(this),n=x6t(t,arguments.length>1?arguments[1]:void 0),i=S6t(r,function(o,u){if(n(o,u,r))return{key:u}},!0);return i&&i.key}})});var R2=P((Ozr,hIe)=>{"use strict";p();var E6t=Jn(),I6t=Yt(),T6t=ln(),M6t=Li();hIe.exports=function(e,t,r){return function(i){var o=T6t(i),u=arguments.length,d=u>1?arguments[1]:void 0,g=d!==void 0,_=g?E6t(d,u>2?arguments[2]:void 0):void 0,I=new e,T=0;return M6t(o,function(A){var q=g?_(A,T++):A;r?t(I,I6t(q)[0],q[1]):t(I,q)}),I}}});var gIe=P(()=>{"use strict";p();var C6t=ie(),mIe=Ro(),A6t=R2();C6t({target:"Map",stat:!0,forced:!0},{from:A6t(mIe.Map,mIe.set,!0)})});var vIe=P(()=>{"use strict";p();var P6t=ie(),O6t=ma(),sV=Ro(),D6t=sV.get,k6t=sV.has,N6t=sV.set;P6t({target:"Map",proto:!0,real:!0,forced:!0},{getOrInsert:function(t,r){return k6t(O6t(this),t)?D6t(this,t):(N6t(this,t,r),r)}})});var yIe=P(()=>{"use strict";p();var R6t=ie(),L6t=Cr(),q6t=ma(),lV=Ro(),z6t=lV.get,j6t=lV.has,F6t=lV.set;R6t({target:"Map",proto:!0,real:!0,forced:!0},{getOrInsertComputed:function(t,r){if(q6t(this),L6t(r),j6t(this,t))return z6t(this,t);t===0&&1/t===-1/0&&(t=0);var n=r(t);return F6t(this,t,n),n}})});var _Ie=P(()=>{"use strict";p();Yz()});var xIe=P((Gzr,bIe)=>{"use strict";p();bIe.exports=function(e,t){return e===t||e!==e&&t!==t}});var wIe=P(()=>{"use strict";p();var B6t=ie(),U6t=xIe(),V6t=ma(),$6t=ru();B6t({target:"Map",proto:!0,real:!0,forced:!0},{includes:function(t){return $6t(V6t(this),function(r){if(U6t(r,t))return!0},!0)===!0}})});var EIe=P(()=>{"use strict";p();var G6t=ie(),H6t=Ht(),W6t=Li(),Z6t=Wr(),SIe=Cr(),Y6t=Ro().Map;G6t({target:"Map",stat:!0,forced:!0},{keyBy:function(t,r){var n=Z6t(this)?this:Y6t,i=new n;SIe(r);var o=SIe(i.set);return W6t(t,function(u){H6t(o,i,r(u),u)}),i}})});var IIe=P(()=>{"use strict";p();var K6t=ie(),X6t=ma(),Q6t=ru();K6t({target:"Map",proto:!0,real:!0,forced:!0},{keyOf:function(t){var r=Q6t(X6t(this),function(n,i){if(n===t)return{key:i}},!0);return r&&r.key}})});var MIe=P(()=>{"use strict";p();var J6t=ie(),eqt=Jn(),tqt=ma(),TIe=Ro(),rqt=ru(),nqt=TIe.Map,iqt=TIe.set;J6t({target:"Map",proto:!0,real:!0,forced:!0},{mapKeys:function(t){var r=tqt(this),n=eqt(t,arguments.length>1?arguments[1]:void 0),i=new nqt;return rqt(r,function(o,u){iqt(i,n(o,u,r),o)}),i}})});var AIe=P(()=>{"use strict";p();var oqt=ie(),aqt=Jn(),sqt=ma(),CIe=Ro(),lqt=ru(),uqt=CIe.Map,cqt=CIe.set;oqt({target:"Map",proto:!0,real:!0,forced:!0},{mapValues:function(t){var r=sqt(this),n=aqt(t,arguments.length>1?arguments[1]:void 0),i=new uqt;return lqt(r,function(o,u){cqt(i,u,n(o,u,r))}),i}})});var PIe=P(()=>{"use strict";p();var pqt=ie(),fqt=ma(),dqt=Li(),hqt=Ro().set;pqt({target:"Map",proto:!0,real:!0,arity:1,forced:!0},{merge:function(t){for(var r=fqt(this),n=arguments.length,i=0;i<n;)dqt(arguments[i++],function(o,u){hqt(r,o,u)},{AS_ENTRIES:!0});return r}})});var L2=P((pjr,OIe)=>{"use strict";p();var mqt=Yt();OIe.exports=function(e,t,r){return function(){for(var i=new e,o=arguments.length,u=0;u<o;u++){var d=arguments[u];r?t(i,mqt(d)[0],d[1]):t(i,d)}return i}}});var kIe=P(()=>{"use strict";p();var gqt=ie(),DIe=Ro(),vqt=L2();gqt({target:"Map",stat:!0,forced:!0},{of:vqt(DIe.Map,DIe.set,!0)})});var NIe=P(()=>{"use strict";p();var yqt=ie(),_qt=Cr(),bqt=ma(),xqt=ru(),wqt=TypeError;yqt({target:"Map",proto:!0,real:!0,forced:!0},{reduce:function(t){var r=bqt(this),n=arguments.length<2,i=n?void 0:arguments[1];if(_qt(t),xqt(r,function(o,u){n?(n=!1,i=o):i=t(i,o,u,r)}),n)throw new wqt("Reduce of empty map with no initial value");return i}})});var RIe=P(()=>{"use strict";p();var Sqt=ie(),Eqt=Jn(),Iqt=ma(),Tqt=ru();Sqt({target:"Map",proto:!0,real:!0,forced:!0},{some:function(t){var r=Iqt(this),n=Eqt(t,arguments.length>1?arguments[1]:void 0);return Tqt(r,function(i,o){if(n(i,o,r))return!0},!0)===!0}})});var qIe=P(()=>{"use strict";p();var Mqt=ie(),LIe=Cr(),Cqt=ma(),uV=Ro(),Aqt=TypeError,Pqt=uV.get,Oqt=uV.has,Dqt=uV.set;Mqt({target:"Map",proto:!0,real:!0,forced:!0},{update:function(t,r){var n=Cqt(this),i=arguments.length;LIe(r);var o=Oqt(n,t);if(!o&&i<3)throw new Aqt("Updating absent value");var u=o?Pqt(n,t):LIe(i>2?arguments[2]:void 0)(t,n);return Dqt(n,t,r(u,t,n)),n}})});var i3=P((Ijr,zIe)=>{"use strict";p();var r3=Ht(),cV=Cr(),n3=Wr(),kqt=Yt(),Nqt=TypeError;zIe.exports=function(t,r){var n=kqt(this),i=cV(n.get),o=cV(n.has),u=cV(n.set),d=arguments.length>2?arguments[2]:void 0,g;if(!n3(r)&&!n3(d))throw new Nqt("At least one callback required");return r3(o,n,t)?(g=r3(i,n,t),n3(r)&&(g=r(g),r3(u,n,t,g))):n3(d)&&(g=d(),r3(u,n,t,g)),g}});var jIe=P(()=>{"use strict";p();var Rqt=ie(),Lqt=i3();Rqt({target:"Map",proto:!0,real:!0,name:"upsert",forced:!0},{updateOrInsert:Lqt})});var FIe=P(()=>{"use strict";p();var qqt=ie(),zqt=i3();qqt({target:"Map",proto:!0,real:!0,forced:!0},{upsert:zqt})});var UIe=P((kjr,BIe)=>{"use strict";p();var jqt=TypeError;BIe.exports=function(e){if(typeof e=="number")return e;throw new jqt("Argument is not a number")}});var GIe=P(()=>{"use strict";p();var Fqt=ie(),pV=UIe(),VIe=M0(),$Ie=FA(),Bqt=RangeError,Uqt=Math.min,Vqt=Math.max;Fqt({target:"Math",stat:!0,forced:!0},{clamp:function(t,r,n){if(pV(t),VIe(pV(r)),VIe(pV(n)),$Ie(r,0)&&$Ie(n,-0)||r>n)throw new Bqt("`min` should be smaller than `max`");return Uqt(n,Vqt(r,t))}})});var HIe=P(()=>{"use strict";p();var $qt=ie();$qt({target:"Math",stat:!0,nonConfigurable:!0,nonWritable:!0},{DEG_PER_RAD:Math.PI/180})});var WIe=P(()=>{"use strict";p();var Gqt=ie(),Hqt=180/Math.PI;Gqt({target:"Math",stat:!0,forced:!0},{degrees:function(t){return t*Hqt}})});var fV=P(($jr,ZIe)=>{"use strict";p();ZIe.exports=function(t,r,n,i,o){var u=+t,d=+r,g=+n,_=+i,I=+o;return u!==u||d!==d||g!==g||_!==_||I!==I?NaN:u===1/0||u===-1/0?u:(u-d)*(I-_)/(g-d)+_}});var YIe=P(()=>{"use strict";p();var Wqt=ie(),Zqt=fV(),Yqt=fA();Wqt({target:"Math",stat:!0,forced:!0},{fscale:function(t,r,n,i,o){return Yqt(Zqt(t,r,n,i,o))}})});var KIe=P(()=>{"use strict";p();Jz()});var XIe=P(()=>{"use strict";p();var Kqt=ie();Kqt({target:"Math",stat:!0,forced:!0},{iaddh:function(t,r,n,i){var o=t>>>0,u=r>>>0,d=n>>>0;return u+(i>>>0)+((o&d|(o|d)&~(o+d>>>0))>>>31)|0}})});var QIe=P(()=>{"use strict";p();var Xqt=ie();Xqt({target:"Math",stat:!0,forced:!0},{imulh:function(t,r){var n=65535,i=+t,o=+r,u=i&n,d=o&n,g=i>>16,_=o>>16,I=(g*d>>>0)+(u*d>>>16);return g*_+(I>>16)+((u*_>>>0)+(I&n)>>16)}})});var JIe=P(()=>{"use strict";p();var Qqt=ie();Qqt({target:"Math",stat:!0,forced:!0},{isubh:function(t,r,n,i){var o=t>>>0,u=r>>>0,d=n>>>0;return u-(i>>>0)-((~o&d|~(o^d)&o-d>>>0)>>>31)|0}})});var eTe=P(()=>{"use strict";p();var Jqt=ie();Jqt({target:"Math",stat:!0,nonConfigurable:!0,nonWritable:!0},{RAD_PER_DEG:180/Math.PI})});var tTe=P(()=>{"use strict";p();var e8t=ie(),t8t=Math.PI/180;e8t({target:"Math",stat:!0,forced:!0},{radians:function(t){return t*t8t}})});var rTe=P(()=>{"use strict";p();var r8t=ie(),n8t=fV();r8t({target:"Math",stat:!0,forced:!0},{scale:n8t})});var aTe=P(()=>{"use strict";p();var i8t=ie(),o8t=Yt(),a8t=sj(),s8t=fh(),l8t=No(),nTe=jn(),iTe="Seeded Random",oTe=iTe+" Generator",u8t="Math.seededPRNG() argument should have a \"seed\" field with a finite value.",c8t=nTe.set,p8t=nTe.getterFor(oTe),f8t=TypeError,d8t=s8t(function(t){c8t(this,{type:oTe,seed:t%2147483647})},iTe,function(){var t=p8t(this),r=t.seed=(t.seed*1103515245+12345)%2147483647;return l8t((r&1073741823)/1073741823,!1)});i8t({target:"Math",stat:!0,forced:!0},{seededPRNG:function(t){var r=o8t(t).seed;if(!a8t(r))throw new f8t(u8t);return new d8t(r)}})});var sTe=P(()=>{"use strict";p();var h8t=ie();h8t({target:"Math",stat:!0,forced:!0},{signbit:function(t){var r=+t;return r===r&&r===0?1/r===-1/0:r<0}})});var fTe=P(()=>{"use strict";p();var m8t=ie(),g8t=mt(),v8t=Li(),y8t=RangeError,_8t=TypeError,nu=1/0,b8t=NaN,Ng=Math.abs,gV=Math.pow,lTe=g8t([].push),q2=gV(2,1023),x8t=gV(2,53)-1,uTe=Number.MAX_VALUE,cTe=gV(2,971),z2={},dV={},hV={},mV={},pTe={},o3=function(e,t){var r=e+t,n=t-(r-e);return{hi:r,lo:n}};m8t({target:"Math",stat:!0},{sumPrecise:function(t){var r=[],n=0,i=mV;switch(v8t(t,function(H){if(++n>=x8t)throw new y8t("Maximum allowed index exceeded");if(typeof H!="number")throw new _8t("Value is not a number");i!==z2&&(H!==H?i=z2:H===nu?i=i===dV?z2:hV:H===-nu?i=i===hV?z2:dV:(H!==0||1/H===nu)&&(i===mV||i===pTe)&&(i=pTe,lTe(r,H)))}),i){case z2:return b8t;case dV:return-nu;case hV:return nu;case mV:return-0}for(var o=[],u=0,d,g,_,I,T,A,q=0;q<r.length;q++){d=r[q];for(var z=0,U=0;U<o.length;U++){if(g=o[U],Ng(d)<Ng(g)&&(A=d,d=g,g=A),_=o3(d,g),I=_.hi,T=_.lo,Ng(I)===nu){var N=I===nu?1:-1;u+=N,d=d-N*q2-N*q2,Ng(d)<Ng(g)&&(A=d,d=g,g=A),_=o3(d,g),I=_.hi,T=_.lo}T!==0&&(o[z++]=T),d=I}o.length=z,d!==0&&lTe(o,d)}var L=o.length-1;if(I=0,T=0,u!==0){var F=L>=0?o[L]:0;if(L--,Ng(u)>1||u>0&&F>0||u<0&&F<0)return u>0?nu:-nu;if(_=o3(u*q2,F/2),I=_.hi,T=_.lo,T*=2,Ng(2*I)===nu)return I>0?I===q2&&T===-(cTe/2)&&L>=0&&o[L]<0?uTe:nu:I===-q2&&T===cTe/2&&L>=0&&o[L]>0?-uTe:-nu;T!==0&&(o[++L]=T,T=0),I*=2}for(;L>=0&&(_=o3(I,o[L--]),I=_.hi,T=_.lo,T===0););return L>=0&&(T<0&&o[L]<0||T>0&&o[L]>0)&&(g=T*2,d=I+g,g===d-I&&(I=d)),I}})});var dTe=P(()=>{"use strict";p();var w8t=ie();w8t({target:"Math",stat:!0,forced:!0},{umulh:function(t,r){var n=65535,i=+t,o=+r,u=i&n,d=o&n,g=i>>>16,_=o>>>16,I=(g*d>>>0)+(u*d>>>16);return g*_+(I>>>16)+((u*_>>>0)+(I&n)>>>16)}})});var gTe=P(()=>{"use strict";p();var S8t=ie(),F2=mt(),E8t=yi(),j2="Invalid number representation",I8t="Invalid radix",T8t=RangeError,a3=SyntaxError,M8t=TypeError,hTe=parseInt,C8t=Math.pow,mTe=/^[\d.a-z]+$/,A8t=F2("".charAt),P8t=F2(mTe.exec),O8t=F2(1 .toString),D8t=F2("".slice),k8t=F2("".split);S8t({target:"Number",stat:!0,forced:!0},{fromString:function(t,r){var n=1;if(typeof t!="string")throw new M8t(j2);if(!t.length)throw new a3(j2);if(A8t(t,0)==="-"&&(n=-1,t=D8t(t,1),!t.length))throw new a3(j2);var i=r===void 0?10:E8t(r);if(i<2||i>36)throw new T8t(I8t);if(!P8t(mTe,t))throw new a3(j2);var o=k8t(t,"."),u=hTe(o[0],i);if(o.length>1&&(u+=hTe(o[1],i)/C8t(i,o[1].length)),i===10&&O8t(u,i)!==t)throw new a3(j2);return n*u}})});var vTe=P(()=>{"use strict";p();var N8t=ie(),R8t=H5();N8t({target:"Number",stat:!0,forced:!0},{range:function(t,r,n){return new R8t(t,r,n,"number",0,1)}})});var yTe=P(()=>{"use strict";p();bj()});var l3=P((qFr,xTe)=>{"use strict";p();var _Te=jn(),L8t=fh(),s3=No(),q8t=Xr(),z8t=dg(),j8t=ln(),bTe="Object Iterator",F8t=_Te.set,B8t=_Te.getterFor(bTe);xTe.exports=L8t(function(t,r){var n=j8t(t);F8t(this,{type:bTe,mode:r,object:n,keys:z8t(n),index:0})},"Object",function(){for(var t=B8t(this),r=t.keys;;){if(r===null||t.index>=r.length)return t.object=t.keys=null,s3(void 0,!0);var n=r[t.index++],i=t.object;if(q8t(i,n)){switch(t.mode){case"keys":return s3(n,!1);case"values":return s3(i[n],!1)}return s3([n,i[n]],!1)}}})});var wTe=P(()=>{"use strict";p();var U8t=ie(),V8t=l3();U8t({target:"Object",stat:!0,forced:!0},{iterateEntries:function(t){return new V8t(t,"entries")}})});var STe=P(()=>{"use strict";p();var $8t=ie(),G8t=l3();$8t({target:"Object",stat:!0,forced:!0},{iterateKeys:function(t){return new G8t(t,"keys")}})});var ETe=P(()=>{"use strict";p();var H8t=ie(),W8t=l3();H8t({target:"Object",stat:!0,forced:!0},{iterateValues:function(t){return new W8t(t,"values")}})});var ITe=P(()=>{"use strict";p();_j()});var RTe=P(()=>{"use strict";p();var Z8t=ie(),u3=Ht(),B2=hr(),Y8t=hh(),TTe=Cr(),K8t=Yt(),X8t=$a(),MTe=Wr(),Q8t=qs(),J8t=xr(),c3=Ki(),e7t=Gn(),vV=tu(),CTe=_i(),n1=Uj(),t7t=Ir(),ATe=jn(),r7t=t7t("observable"),yV="Observable",PTe="Subscription",OTe="SubscriptionObserver",_V=ATe.getterFor,bV=ATe.set,n7t=_V(yV),DTe=_V(PTe),p3=_V(OTe),kTe=function(e){this.observer=K8t(e),this.cleanup=null,this.subscriptionObserver=null};kTe.prototype={type:PTe,clean:function(){var e=this.cleanup;if(e){this.cleanup=null;try{e()}catch(t){n1(t)}}},close:function(){if(!B2){var e=this.facade,t=this.subscriptionObserver;e.closed=!0,t&&(t.closed=!0)}this.observer=null},isClosed:function(){return this.observer===null}};var xV=function(e,t){var r=bV(this,new kTe(e)),n;B2||(this.closed=!1);try{(n=c3(e,"start"))&&u3(n,e,this)}catch(d){n1(d)}if(!r.isClosed()){var i=r.subscriptionObserver=new wV(r);try{var o=t(i),u=o;Q8t(o)||(r.cleanup=MTe(o.unsubscribe)?function(){u.unsubscribe()}:TTe(o))}catch(d){i.error(d);return}r.isClosed()&&r.clean()}};xV.prototype=vV({},{unsubscribe:function(){var t=DTe(this);t.isClosed()||(t.close(),t.clean())}});B2&&CTe(xV.prototype,"closed",{configurable:!0,get:function(){return DTe(this).isClosed()}});var wV=function(e){bV(this,{type:OTe,subscriptionState:e}),B2||(this.closed=!1)};wV.prototype=vV({},{next:function(t){var r=p3(this).subscriptionState;if(!r.isClosed()){var n=r.observer;try{var i=c3(n,"next");i&&u3(i,n,t)}catch(o){n1(o)}}},error:function(t){var r=p3(this).subscriptionState;if(!r.isClosed()){var n=r.observer;r.close();try{var i=c3(n,"error");i?u3(i,n,t):n1(t)}catch(o){n1(o)}r.clean()}},complete:function(){var t=p3(this).subscriptionState;if(!t.isClosed()){var r=t.observer;t.close();try{var n=c3(r,"complete");n&&u3(n,r)}catch(i){n1(i)}t.clean()}}});B2&&CTe(wV.prototype,"closed",{configurable:!0,get:function(){return p3(this).subscriptionState.isClosed()}});var NTe=function(t){X8t(this,SV),bV(this,{type:yV,subscriber:TTe(t)})},SV=NTe.prototype;vV(SV,{subscribe:function(t){var r=arguments.length;return new xV(MTe(t)?{next:t,error:r>1?arguments[1]:void 0,complete:r>2?arguments[2]:void 0}:J8t(t)?t:{},n7t(this).subscriber)}});e7t(SV,r7t,function(){return this});Z8t({global:!0,constructor:!0,forced:!0},{Observable:NTe});Y8t(yV)});var qTe=P(()=>{"use strict";p();var i7t=ie(),o7t=Mr(),a7t=Ht(),LTe=Yt(),s7t=Gu(),l7t=uh(),u7t=Ki(),c7t=Li(),p7t=Ir(),f7t=p7t("observable");i7t({target:"Observable",stat:!0,forced:!0},{from:function(t){var r=s7t(this)?this:o7t("Observable"),n=u7t(LTe(t),f7t);if(n){var i=LTe(a7t(n,t));return i.constructor===r?i:new r(function(u){return i.subscribe(u)})}var o=l7t(t);return new r(function(u){c7t(o,function(d,g){if(u.next(d),u.closed)return g()},{IS_ITERATOR:!0,INTERRUPTED:!0}),u.complete()})}})});var jTe=P(()=>{"use strict";p();var d7t=ie(),zTe=Mr(),h7t=Gu(),m7t=zTe("Array");d7t({target:"Observable",stat:!0,forced:!0},{of:function(){for(var t=h7t(this)?this:zTe("Observable"),r=arguments.length,n=m7t(r),i=0;i<r;)n[i]=arguments[i++];return new t(function(o){for(var u=0;u<r;u++)if(o.next(n[u]),o.closed)return;o.complete()})}})});var FTe=P(()=>{"use strict";p();RTe();qTe();jTe()});var BTe=P(()=>{"use strict";p();rF()});var UTe=P(()=>{"use strict";p();nF()});var VTe=P(()=>{"use strict";p();sF()});var $Te=P(()=>{"use strict";p();lF()});var ip=P((xBr,ZTe)=>{"use strict";p();DA();O5();var WTe=Mr(),g7t=mt(),v7t=gf(),GTe=WTe("Map"),y7t=WTe("WeakMap"),_7t=g7t([].push),HTe=v7t("metadata"),EV=HTe.store||(HTe.store=new y7t),U2=function(e,t,r){var n=EV.get(e);if(!n){if(!r)return;EV.set(e,n=new GTe)}var i=n.get(t);if(!i){if(!r)return;n.set(t,i=new GTe)}return i},b7t=function(e,t,r){var n=U2(t,r,!1);return n===void 0?!1:n.has(e)},x7t=function(e,t,r){var n=U2(t,r,!1);return n===void 0?void 0:n.get(e)},w7t=function(e,t,r,n){U2(r,n,!0).set(e,t)},S7t=function(e,t){var r=U2(e,t,!1),n=[];return r&&r.forEach(function(i,o){_7t(n,o)}),n},E7t=function(e){return e===void 0||typeof e=="symbol"?e:String(e)};ZTe.exports={store:EV,getMap:U2,has:b7t,get:x7t,set:w7t,keys:S7t,toKey:E7t}});var KTe=P(()=>{"use strict";p();var I7t=ie(),YTe=ip(),T7t=Yt(),M7t=YTe.toKey,C7t=YTe.set;I7t({target:"Reflect",stat:!0},{defineMetadata:function(t,r,n){var i=arguments.length<4?void 0:M7t(arguments[3]);C7t(t,r,T7t(n),i)}})});var QTe=P(()=>{"use strict";p();var A7t=ie(),IV=ip(),P7t=Yt(),O7t=IV.toKey,D7t=IV.getMap,XTe=IV.store;A7t({target:"Reflect",stat:!0},{deleteMetadata:function(t,r){var n=arguments.length<3?void 0:O7t(arguments[2]),i=D7t(P7t(r),n,!1);if(i===void 0||!i.delete(t))return!1;if(i.size)return!0;var o=XTe.get(r);return o.delete(n),!!o.size||XTe.delete(r)}})});var eMe=P(()=>{"use strict";p();var k7t=ie(),TV=ip(),N7t=Yt(),R7t=wo(),L7t=TV.has,q7t=TV.get,z7t=TV.toKey,JTe=function(e,t,r){var n=L7t(e,t,r);if(n)return q7t(e,t,r);var i=R7t(t);return i!==null?JTe(e,i,r):void 0};k7t({target:"Reflect",stat:!0},{getMetadata:function(t,r){var n=arguments.length<3?void 0:z7t(arguments[2]);return JTe(t,N7t(r),n)}})});var iMe=P(()=>{"use strict";p();var j7t=ie(),tMe=mt(),rMe=ip(),F7t=Yt(),B7t=wo(),U7t=j5(),V7t=tMe(U7t),$7t=tMe([].concat),G7t=rMe.keys,H7t=rMe.toKey,nMe=function(e,t){var r=G7t(e,t),n=B7t(e);if(n===null)return r;var i=nMe(n,t);return i.length?r.length?V7t($7t(r,i)):i:r};j7t({target:"Reflect",stat:!0},{getMetadataKeys:function(t){var r=arguments.length<2?void 0:H7t(arguments[1]);return nMe(F7t(t),r)}})});var aMe=P(()=>{"use strict";p();var W7t=ie(),oMe=ip(),Z7t=Yt(),Y7t=oMe.get,K7t=oMe.toKey;W7t({target:"Reflect",stat:!0},{getOwnMetadata:function(t,r){var n=arguments.length<3?void 0:K7t(arguments[2]);return Y7t(t,Z7t(r),n)}})});var lMe=P(()=>{"use strict";p();var X7t=ie(),sMe=ip(),Q7t=Yt(),J7t=sMe.keys,e9t=sMe.toKey;X7t({target:"Reflect",stat:!0},{getOwnMetadataKeys:function(t){var r=arguments.length<2?void 0:e9t(arguments[1]);return J7t(Q7t(t),r)}})});var pMe=P(()=>{"use strict";p();var t9t=ie(),uMe=ip(),r9t=Yt(),n9t=wo(),i9t=uMe.has,o9t=uMe.toKey,cMe=function(e,t,r){var n=i9t(e,t,r);if(n)return!0;var i=n9t(t);return i!==null?cMe(e,i,r):!1};t9t({target:"Reflect",stat:!0},{hasMetadata:function(t,r){var n=arguments.length<3?void 0:o9t(arguments[2]);return cMe(t,r9t(r),n)}})});var dMe=P(()=>{"use strict";p();var a9t=ie(),fMe=ip(),s9t=Yt(),l9t=fMe.has,u9t=fMe.toKey;a9t({target:"Reflect",stat:!0},{hasOwnMetadata:function(t,r){var n=arguments.length<3?void 0:u9t(arguments[2]);return l9t(t,s9t(r),n)}})});var mMe=P(()=>{"use strict";p();var c9t=ie(),hMe=ip(),p9t=Yt(),f9t=hMe.toKey,d9t=hMe.set;c9t({target:"Reflect",stat:!0},{metadata:function(t,r){return function(i,o){d9t(t,r,p9t(i),f9t(o))}}})});var gMe=P(()=>{"use strict";p();EF()});var vMe=P(()=>{"use strict";p();var h9t=ie(),m9t=da(),g9t=Wo().add;h9t({target:"Set",proto:!0,real:!0,forced:!0},{addAll:function(){for(var t=m9t(this),r=0,n=arguments.length;r<n;r++)g9t(t,arguments[r]);return t}})});var yMe=P(()=>{"use strict";p();var v9t=ie(),y9t=da(),_9t=Wo().remove;v9t({target:"Set",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var t=y9t(this),r=!0,n,i=0,o=arguments.length;i<o;i++)n=_9t(t,arguments[i]),r=r&&n;return!!r}})});var _Me=P(()=>{"use strict";p();DF()});var xMe=P((lUr,bMe)=>{"use strict";p();var b9t=hs(),x9t=Xr(),w9t=qs(),S9t=Ir(),E9t=_g(),I9t=S9t("iterator"),T9t=Object;bMe.exports=function(e){if(w9t(e))return!1;var t=T9t(e);return t[I9t]!==void 0||"@@iterator"in t||x9t(E9t,b9t(t))}});var Ah=P((cUr,SMe)=>{"use strict";p();var M9t=Mr(),wMe=Wr(),C9t=xMe(),A9t=xr(),P9t=M9t("Set"),O9t=function(e){return A9t(e)&&typeof e.size=="number"&&wMe(e.has)&&wMe(e.keys)};SMe.exports=function(e){return O9t(e)?e:C9t(e)?new P9t(e):e}});var EMe=P(()=>{"use strict";p();var D9t=ie(),k9t=Ht(),N9t=Ah(),R9t=OF();D9t({target:"Set",proto:!0,real:!0,forced:!0},{difference:function(t){return k9t(R9t,this,N9t(t))}})});var IMe=P(()=>{"use strict";p();var L9t=ie(),q9t=Jn(),z9t=da(),j9t=Us();L9t({target:"Set",proto:!0,real:!0,forced:!0},{every:function(t){var r=z9t(this),n=q9t(t,arguments.length>1?arguments[1]:void 0);return j9t(r,function(i){if(!n(i,i,r))return!1},!0)!==!1}})});var MMe=P(()=>{"use strict";p();var F9t=ie(),B9t=Jn(),U9t=da(),TMe=Wo(),V9t=Us(),$9t=TMe.Set,G9t=TMe.add;F9t({target:"Set",proto:!0,real:!0,forced:!0},{filter:function(t){var r=U9t(this),n=B9t(t,arguments.length>1?arguments[1]:void 0),i=new $9t;return V9t(r,function(o){n(o,o,r)&&G9t(i,o)}),i}})});var CMe=P(()=>{"use strict";p();var H9t=ie(),W9t=Jn(),Z9t=da(),Y9t=Us();H9t({target:"Set",proto:!0,real:!0,forced:!0},{find:function(t){var r=Z9t(this),n=W9t(t,arguments.length>1?arguments[1]:void 0),i=Y9t(r,function(o){if(n(o,o,r))return{value:o}},!0);return i&&i.value}})});var PMe=P(()=>{"use strict";p();var K9t=ie(),AMe=Wo(),X9t=R2();K9t({target:"Set",stat:!0,forced:!0},{from:X9t(AMe.Set,AMe.add,!1)})});var OMe=P(()=>{"use strict";p();RF()});var DMe=P(()=>{"use strict";p();var Q9t=ie(),J9t=Ht(),ezt=Ah(),tzt=NF();Q9t({target:"Set",proto:!0,real:!0,forced:!0},{intersection:function(t){return J9t(tzt,this,ezt(t))}})});var kMe=P(()=>{"use strict";p();qF()});var NMe=P(()=>{"use strict";p();var rzt=ie(),nzt=Ht(),izt=Ah(),ozt=LF();rzt({target:"Set",proto:!0,real:!0,forced:!0},{isDisjointFrom:function(t){return nzt(ozt,this,izt(t))}})});var RMe=P(()=>{"use strict";p();jF()});var LMe=P(()=>{"use strict";p();var azt=ie(),szt=Ht(),lzt=Ah(),uzt=zF();azt({target:"Set",proto:!0,real:!0,forced:!0},{isSubsetOf:function(t){return szt(uzt,this,lzt(t))}})});var qMe=P(()=>{"use strict";p();BF()});var zMe=P(()=>{"use strict";p();var czt=ie(),pzt=Ht(),fzt=Ah(),dzt=FF();czt({target:"Set",proto:!0,real:!0,forced:!0},{isSupersetOf:function(t){return pzt(dzt,this,fzt(t))}})});var FMe=P(()=>{"use strict";p();var hzt=ie(),jMe=mt(),mzt=da(),gzt=Us(),vzt=Lr(),yzt=jMe([].join),_zt=jMe([].push);hzt({target:"Set",proto:!0,real:!0,forced:!0},{join:function(t){var r=mzt(this),n=t===void 0?",":vzt(t),i=[];return gzt(r,function(o){_zt(i,o)}),yzt(i,n)}})});var UMe=P(()=>{"use strict";p();var bzt=ie(),xzt=Jn(),wzt=da(),BMe=Wo(),Szt=Us(),Ezt=BMe.Set,Izt=BMe.add;bzt({target:"Set",proto:!0,real:!0,forced:!0},{map:function(t){var r=wzt(this),n=xzt(t,arguments.length>1?arguments[1]:void 0),i=new Ezt;return Szt(r,function(o){Izt(i,n(o,o,r))}),i}})});var $Me=P(()=>{"use strict";p();var Tzt=ie(),VMe=Wo(),Mzt=L2();Tzt({target:"Set",stat:!0,forced:!0},{of:Mzt(VMe.Set,VMe.add,!1)})});var GMe=P(()=>{"use strict";p();var Czt=ie(),Azt=Cr(),Pzt=da(),Ozt=Us(),Dzt=TypeError;Czt({target:"Set",proto:!0,real:!0,forced:!0},{reduce:function(t){var r=Pzt(this),n=arguments.length<2,i=n?void 0:arguments[1];if(Azt(t),Ozt(r,function(o){n?(n=!1,i=o):i=t(i,o,o,r)}),n)throw new Dzt("Reduce of empty set with no initial value");return i}})});var HMe=P(()=>{"use strict";p();var kzt=ie(),Nzt=Jn(),Rzt=da(),Lzt=Us();kzt({target:"Set",proto:!0,real:!0,forced:!0},{some:function(t){var r=Rzt(this),n=Nzt(t,arguments.length>1?arguments[1]:void 0);return Lzt(r,function(i){if(n(i,i,r))return!0},!0)===!0}})});var WMe=P(()=>{"use strict";p();$F()});var ZMe=P(()=>{"use strict";p();var qzt=ie(),zzt=Ht(),jzt=Ah(),Fzt=VF();qzt({target:"Set",proto:!0,real:!0,forced:!0},{symmetricDifference:function(t){return zzt(Fzt,this,jzt(t))}})});var YMe=P(()=>{"use strict";p();HF()});var KMe=P(()=>{"use strict";p();var Bzt=ie(),Uzt=Ht(),Vzt=Ah(),$zt=GF();Bzt({target:"Set",proto:!0,real:!0,forced:!0},{union:function(t){return Uzt($zt,this,Vzt(t))}})});var XMe=P(()=>{"use strict";p();var Gzt=ie(),Hzt=Ag().charAt,Wzt=pi(),Zzt=yi(),Yzt=Lr();Gzt({target:"String",proto:!0,forced:!0},{at:function(t){var r=Yzt(Wzt(this)),n=r.length,i=Zzt(t),o=i>=0?i:n+i;return o<0||o>=n?void 0:Hzt(r,o)}})});var MV=P((MVr,tCe)=>{"use strict";p();var eCe=mt(),Kzt=bo(),QMe=Lr(),Xzt=gn(),Qzt=TypeError,JMe=eCe([].push),Jzt=eCe([].join);tCe.exports=function(t){var r=Kzt(t),n=Xzt(r);if(!n)return"";for(var i=arguments.length,o=[],u=0;;){var d=r[u++];if(d===void 0)throw new Qzt("Incorrect template");if(JMe(o,QMe(d)),u===n)return Jzt(o,"");u<i&&JMe(o,QMe(arguments[u]))}}});var rCe=P(()=>{"use strict";p();var ejt=ie(),tjt=MV();ejt({target:"String",stat:!0,forced:!0},{cooked:tjt})});var sCe=P(()=>{"use strict";p();var rjt=ie(),njt=fh(),nCe=No(),ijt=pi(),ojt=Lr(),iCe=jn(),oCe=Ag(),ajt=oCe.codeAt,sjt=oCe.charAt,aCe="String Iterator",ljt=iCe.set,ujt=iCe.getterFor(aCe),cjt=njt(function(t){ljt(this,{type:aCe,string:t,index:0})},"String",function(){var t=ujt(this),r=t.string,n=t.index,i;return n>=r.length?nCe(void 0,!0):(i=sjt(r,n),t.index+=i.length,nCe({codePoint:ajt(i,0),position:n},!1))});rjt({target:"String",proto:!0,forced:!0},{codePoints:function(){return new cjt(ojt(ijt(this)))}})});var op=P((RVr,lCe)=>{"use strict";p();var f3=mt(),d3=WeakMap.prototype;lCe.exports={WeakMap,set:f3(d3.set),get:f3(d3.get),has:f3(d3.has),remove:f3(d3.delete)}});var vCe=P((qVr,gCe)=>{"use strict";p();var pjt=Mr(),h3=mt(),fjt=String.fromCharCode,djt=pjt("String","fromCodePoint"),CV=h3("".charAt),hCe=h3("".charCodeAt),uCe=h3("".indexOf),cCe=h3("".slice),PV=48,mCe=57,pCe=97,hjt=102,fCe=65,mjt=70,dCe=function(e,t){var r=hCe(e,t);return r>=PV&&r<=mCe},AV=function(e,t,r){if(r>=e.length)return-1;for(var n=0;t<r;t++){var i=gjt(hCe(e,t));if(i===-1)return-1;n=n*16+i}return n},gjt=function(e){return e>=PV&&e<=mCe?e-PV:e>=pCe&&e<=hjt?e-pCe+10:e>=fCe&&e<=mjt?e-fCe+10:-1};gCe.exports=function(e){for(var t="",r=0,n=0,i;(n=uCe(e,"\\",n))>-1;){if(t+=cCe(e,r,n),++n===e.length)return;var o=CV(e,n++);switch(o){case"b":t+="\b";break;case"t":t+="\t";break;case"n":t+=`
`;break;case"v":t+="\x0B";break;case"f":t+="\f";break;case"r":t+="\r";break;case"\r":n<e.length&&CV(e,n)===`
`&&++n;case`
`:case"\u2028":case"\u2029":break;case"0":if(dCe(e,n))return;t+="\0";break;case"x":if(i=AV(e,n,n+2),i===-1)return;n+=2,t+=fjt(i);break;case"u":if(n<e.length&&CV(e,n)==="{"){var u=uCe(e,"}",++n);if(u===-1)return;i=AV(e,n,u),n=u+1}else i=AV(e,n,n+4),n+=4;if(i===-1||i>1114111)return;t+=djt(i);break;default:if(dCe(o,0))return;t+=o}r=n}return t+cCe(e,r)}});var MCe=P(()=>{"use strict";p();var vjt=If(),yjt=ie(),_jt=yw(),m3=mt(),wCe=fa(),SCe=Yt(),bjt=ln(),xjt=Wr(),wjt=gn(),Sjt=ui().f,Ejt=js(),g3=op(),Ijt=MV(),Tjt=vCe(),ECe=Sg(),OV=new g3.WeakMap,Mjt=g3.get,Cjt=g3.has,Ajt=g3.set,DV=Array,V2=TypeError,yCe=Object.freeze||Object,Pjt=Object.isFrozen,Ojt=Math.min,_Ce=m3("".charAt),ICe=m3("".slice),Djt=m3("".split),bCe=m3(/./.exec),kjt=/([\n\u2028\u2029]|\r\n?)/g,Njt=RegExp("^["+ECe+"]*"),Rjt=RegExp("[^"+ECe+"]"),xCe="Invalid tag",Ljt="Invalid opening line",qjt="Invalid closing line",zjt=function(e){var t=e.raw;if(vjt&&!Pjt(t))throw new V2("Raw template should be frozen");if(Cjt(OV,t))return Mjt(OV,t);var r=jjt(t),n=Bjt(r);return Sjt(n,"raw",{value:yCe(r)}),yCe(n),Ajt(OV,t,n),n},jjt=function(e){var t=bjt(e),r=wjt(t),n=DV(r),i=DV(r),o=0,u,d,g,_;if(!r)throw new V2(xCe);for(;o<r;o++){var I=t[o];if(typeof I=="string")n[o]=Djt(I,kjt);else throw new V2(xCe)}for(o=0;o<r;o++){var T=o+1===r;if(u=n[o],o===0){if(u.length===1||u[0].length>0)throw new V2(Ljt);u[1]=""}if(T){if(u.length===1||bCe(Rjt,u[u.length-1]))throw new V2(qjt);u[u.length-2]="",u[u.length-1]=""}for(var A=2;A<u.length;A+=2){var q=u[A],z=A+1===u.length&&!T,U=bCe(Njt,q)[0];if(!z&&U.length===q.length){u[A]="";continue}d=Fjt(U,d)}}var N=d?d.length:0;for(o=0;o<r;o++){for(u=n[o],g=u[0],_=1;_<u.length;_+=2)g+=u[_]+ICe(u[_+1],N);i[o]=g}return i},Fjt=function(e,t){if(t===void 0||e===t)return e;for(var r=0,n=Ojt(e.length,t.length);r<n&&_Ce(e,r)===_Ce(t,r);r++);return ICe(e,0,r)},Bjt=function(e){for(var t=0,r=e.length,n=DV(r);t<r;t++)n[t]=Tjt(e[t]);return n},TCe=function(e){return _jt(function(t){var r=Ejt(arguments);return r[0]=zjt(SCe(t)),wCe(e,this,r)},"")},Ujt=TCe(Ijt);yjt({target:"String",stat:!0,forced:!0},{dedent:function(t){return SCe(t),xjt(t)?TCe(t):wCe(Ujt,this,arguments)}})});var CCe=P(()=>{"use strict";p();YF()});var ACe=P(()=>{"use strict";p();nB()});var PCe=P(()=>{"use strict";p();dB()});var OCe=P(()=>{"use strict";p();bB()});var DCe=P(()=>{"use strict";p();var Vjt=Gt(),$jt=Ri(),Gjt=ui().f,Hjt=$o().f,kV=Vjt.Symbol;$jt("asyncDispose");kV&&($2=Hjt(kV,"asyncDispose"),$2.enumerable&&$2.configurable&&$2.writable&&Gjt(kV,"asyncDispose",{value:$2.value,enumerable:!1,configurable:!1,writable:!1}));var $2});var kCe=P(()=>{"use strict";p();var Wjt=Ri();Wjt("customMatcher")});var NCe=P(()=>{"use strict";p();var Zjt=Gt(),Yjt=Ri(),Kjt=ui().f,Xjt=$o().f,NV=Zjt.Symbol;Yjt("dispose");NV&&(G2=Xjt(NV,"dispose"),G2.enumerable&&G2.configurable&&G2.writable&&Kjt(NV,"dispose",{value:G2.value,enumerable:!1,configurable:!1,writable:!1}));var G2});var LV=P((u$r,RCe)=>{"use strict";p();var Qjt=Mr(),Jjt=mt(),RV=Qjt("Symbol"),eFt=RV.keyFor,tFt=Jjt(RV.prototype.valueOf);RCe.exports=RV.isRegisteredSymbol||function(t){try{return eFt(tFt(t))!==void 0}catch(r){return!1}}});var LCe=P(()=>{"use strict";p();var rFt=ie(),nFt=LV();rFt({target:"Symbol",stat:!0},{isRegisteredSymbol:nFt})});var qCe=P(()=>{"use strict";p();var iFt=ie(),oFt=LV();iFt({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:oFt})});var jV=P((v$r,VCe)=>{"use strict";p();var aFt=gf(),BCe=Mr(),sFt=mt(),lFt=mf(),uFt=Ir(),y3=BCe("Symbol"),zCe=y3.isWellKnownSymbol,UCe=BCe("Object","getOwnPropertyNames"),cFt=sFt(y3.prototype.valueOf),jCe=aFt("wks");for(v3=0,qV=UCe(y3),FCe=qV.length;v3<FCe;v3++)try{zV=qV[v3],lFt(y3[zV])&&uFt(zV)}catch(e){}var zV,v3,qV,FCe;VCe.exports=function(t){if(zCe&&zCe(t))return!0;try{for(var r=cFt(t),n=0,i=UCe(jCe),o=i.length;n<o;n++)if(jCe[i[n]]==r)return!0}catch(u){}return!1}});var $Ce=P(()=>{"use strict";p();var pFt=ie(),fFt=jV();pFt({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:fFt})});var GCe=P(()=>{"use strict";p();var dFt=ie(),hFt=jV();dFt({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:hFt})});var HCe=P(()=>{"use strict";p();var mFt=Ri();mFt("matcher")});var WCe=P(()=>{"use strict";p();var gFt=Ri();gFt("metadata")});var ZCe=P(()=>{"use strict";p();var vFt=Ri();vFt("metadataKey")});var YCe=P(()=>{"use strict";p();var yFt=Ri();yFt("observable")});var KCe=P(()=>{"use strict";p();var _Ft=Ri();_Ft("patternMatch")});var XCe=P(()=>{"use strict";p();var bFt=Ri();bFt("replaceAll")});var JCe=P(()=>{"use strict";p();var xFt=Mr(),wFt=t2(),SFt=fU(),QCe=nn(),EFt=bf(),IFt=QCe.aTypedArrayConstructor,TFt=QCe.exportTypedArrayStaticMethod;TFt("fromAsync",function(t){var r=this,n=arguments.length,i=n>1?arguments[1]:void 0,o=n>2?arguments[2]:void 0;return new(xFt("Promise"))(function(u){wFt(r),u(SFt(t,i,o))}).then(function(u){return EFt(IFt(r),u)})},!0)});var eAe=P(()=>{"use strict";p();RB()});var rAe=P(()=>{"use strict";p();var tAe=nn(),MFt=Qi().filterReject,CFt=y5(),AFt=tAe.aTypedArray,PFt=tAe.exportTypedArrayMethod;PFt("filterOut",function(t){var r=MFt(AFt(this),t,arguments.length>1?arguments[1]:void 0);return CFt(this,r)},!0)});var iAe=P(()=>{"use strict";p();var nAe=nn(),OFt=Qi().filterReject,DFt=y5(),kFt=nAe.aTypedArray,NFt=nAe.exportTypedArrayMethod;NFt("filterReject",function(t){var r=OFt(kFt(this),t,arguments.length>1?arguments[1]:void 0);return DFt(this,r)},!0)});var oAe=P(()=>{"use strict";p();LB()});var aAe=P(()=>{"use strict";p();qB()});var sAe=P(()=>{"use strict";p();var FV=nn(),RFt=q5(),LFt=FV.aTypedArray,qFt=FV.getTypedArrayConstructor,zFt=FV.exportTypedArrayMethod;zFt("groupBy",function(t){var r=arguments.length>1?arguments[1]:void 0;return RFt(LFt(this),t,r,qFt)},!0)});var lAe=P(()=>{"use strict";p();XB()});var uAe=P(()=>{"use strict";p();QB()});var cAe=P(()=>{"use strict";p();var BV=nn(),jFt=gn(),FFt=d5(),BFt=Vu(),UFt=y2(),VFt=yi(),$Ft=BV.aTypedArray,GFt=BV.getTypedArrayConstructor,HFt=BV.exportTypedArrayMethod,WFt=Math.max,ZFt=Math.min;HFt("toSpliced",function(t,r){var n=$Ft(this),i=GFt(n),o=jFt(n),u=BFt(t,o),d=arguments.length,g=0,_,I,T,A,q,z,U;if(d===0)_=I=0;else if(d===1)_=0,I=o-u;else if(I=ZFt(WFt(VFt(r),0),o-u),_=d-2,_){A=new i(_),T=FFt(A);for(var N=2;N<d;N++)q=arguments[N],A[N-2]=T?UFt(q):+q}for(z=o+_-I,U=new i(z);g<u;g++)U[g]=n[g];for(;g<u+_;g++)U[g]=A[g-u];for(;g<z;g++)U[g]=n[g+I-_];return U},!0)});var pAe=P(()=>{"use strict";p();var YFt=mt(),UV=nn(),KFt=bf(),XFt=j5(),QFt=UV.aTypedArray,JFt=UV.getTypedArrayConstructor,eBt=UV.exportTypedArrayMethod,tBt=YFt(XFt);eBt("uniqueBy",function(t){return QFt(this),KFt(JFt(this),tBt(this,t))},!0)});var fAe=P(()=>{"use strict";p();eU()});var VV=P((IGr,dAe)=>{"use strict";p();var rBt=xr(),nBt=String,iBt=TypeError;dAe.exports=function(e){if(e===void 0||rBt(e))return e;throw new iBt(nBt(e)+" is not an object or undefined")}});var H2=P((MGr,yAe)=>{"use strict";p();var vAe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",hAe=vAe+"+/",mAe=vAe+"-_",gAe=function(e){for(var t={},r=0;r<64;r++)t[e.charAt(r)]=r;return t};yAe.exports={i2c:hAe,c2i:gAe(hAe),i2cUrl:mAe,c2iUrl:gAe(mAe)}});var $V=P((AGr,_Ae)=>{"use strict";p();var oBt=TypeError;_Ae.exports=function(e){var t=e&&e.alphabet;if(t===void 0||t==="base64"||t==="base64url")return t||"base64";throw new oBt("Incorrect `alphabet` option")}});var ZV=P((OGr,wAe)=>{"use strict";p();var bAe=Gt(),aBt=mt(),sBt=VV(),lBt=d2(),uBt=Xr(),xAe=H2(),cBt=$V(),pBt=T0(),fBt=xAe.c2i,dBt=xAe.c2iUrl,Ph=bAe.SyntaxError,hBt=bAe.TypeError,Rg=aBt("".charAt),GV=function(e,t){for(var r=e.length;t<r;t++){var n=Rg(e,t);if(n!==" "&&n!=="\t"&&n!==`
`&&n!=="\f"&&n!=="\r")break}return t},HV=function(e,t,r){var n=e.length;n<4&&(e+=n===2?"AA":"A");var i=(t[Rg(e,0)]<<18)+(t[Rg(e,1)]<<12)+(t[Rg(e,2)]<<6)+t[Rg(e,3)],o=[i>>16&255,i>>8&255,i&255];if(n===2){if(r&&o[1]!==0)throw new Ph("Extra bits");return[o[0]]}if(n===3){if(r&&o[2]!==0)throw new Ph("Extra bits");return[o[0],o[1]]}return o},WV=function(e,t,r){for(var n=t.length,i=0;i<n;i++)e[r+i]=t[i];return r+n};wAe.exports=function(e,t,r,n){lBt(e),sBt(t);var i=cBt(t)==="base64"?fBt:dBt,o=t?t.lastChunkHandling:void 0;if(o===void 0&&(o="loose"),o!=="loose"&&o!=="strict"&&o!=="stop-before-partial")throw new hBt("Incorrect `lastChunkHandling` option");r&&pBt(r.buffer);var u=r||[],d=0,g=0,_="",I=0;if(n)for(;;){if(I=GV(e,I),I===e.length){if(_.length>0){if(o==="stop-before-partial")break;if(o==="loose"){if(_.length===1)throw new Ph("Malformed padding: exactly one additional character");d=WV(u,HV(_,i,!1),d)}else throw new Ph("Missing padding")}g=e.length;break}var T=Rg(e,I);if(++I,T==="="){if(_.length<2)throw new Ph("Padding is too early");if(I=GV(e,I),_.length===2){if(I===e.length){if(o==="stop-before-partial")break;throw new Ph("Malformed padding: only one =")}Rg(e,I)==="="&&(++I,I=GV(e,I))}if(I<e.length)throw new Ph("Unexpected character after padding");d=WV(u,HV(_,i,o==="strict"),d),g=e.length;break}if(!uBt(i,T))throw new Ph("Unexpected character");var A=n-d;if(A===1&&_.length===2||A===2&&_.length===3||(_+=T,_.length===4&&(d=WV(u,HV(_,i,!1),d),_="",g=I,d===n)))break}return{bytes:u,read:g,written:d}}});var EAe=P(()=>{"use strict";p();var mBt=ie(),gBt=Gt(),vBt=bf(),yBt=ZV(),SAe=gBt.Uint8Array;SAe&&mBt({target:"Uint8Array",stat:!0},{fromBase64:function(t){var r=yBt(t,arguments.length>1?arguments[1]:void 0,null,9007199254740991);return vBt(SAe,r.bytes)}})});var KV=P((LGr,CAe)=>{"use strict";p();var YV=Gt(),TAe=mt(),_Bt=YV.Uint8Array,IAe=YV.SyntaxError,bBt=YV.parseInt,xBt=Math.min,MAe=/[^\da-f]/i,wBt=TAe(MAe.exec),SBt=TAe("".slice);CAe.exports=function(e,t){var r=e.length;if(r%2!==0)throw new IAe("String should be an even number of characters");for(var n=t?xBt(t.length,r/2):r/2,i=t||new _Bt(n),o=0,u=0;u<n;){var d=SBt(e,o,o+=2);if(wBt(MAe,d))throw new IAe("String should only contain hex characters");i[u++]=bBt(d,16)}return{bytes:i,read:o}}});var AAe=P(()=>{"use strict";p();var EBt=ie(),IBt=Gt(),TBt=d2(),MBt=KV();IBt.Uint8Array&&EBt({target:"Uint8Array",stat:!0},{fromHex:function(t){return MBt(TBt(t)).bytes}})});var W2=P((BGr,PAe)=>{"use strict";p();var CBt=hs(),ABt=TypeError;PAe.exports=function(e){if(CBt(e)==="Uint8Array")return e;throw new ABt("Argument is not an Uint8Array")}});var OAe=P(()=>{"use strict";p();var PBt=ie(),OBt=Gt(),DBt=ZV(),kBt=W2(),_3=OBt.Uint8Array,NBt=!_3||!_3.prototype.setFromBase64||!function(){var e=new _3([255,255,255,255,255]);try{e.setFromBase64("MjYyZg===")}catch(t){return e[0]===50&&e[1]===54&&e[2]===50&&e[3]===255&&e[4]===255}}();_3&&PBt({target:"Uint8Array",proto:!0,forced:NBt},{setFromBase64:function(t){kBt(this);var r=DBt(t,arguments.length>1?arguments[1]:void 0,this,this.length);return{read:r.read,written:r.written}}})});var DAe=P(()=>{"use strict";p();var RBt=ie(),LBt=Gt(),qBt=d2(),zBt=W2(),jBt=T0(),FBt=KV();LBt.Uint8Array&&RBt({target:"Uint8Array",proto:!0},{setFromHex:function(t){zBt(this),qBt(t),jBt(this.buffer);var r=FBt(t,this).read;return{read:r,written:r/2}}})});var NAe=P(()=>{"use strict";p();var BBt=ie(),UBt=Gt(),VBt=mt(),$Bt=VV(),GBt=W2(),HBt=T0(),kAe=H2(),WBt=$V(),ZBt=kAe.i2c,YBt=kAe.i2cUrl,KBt=VBt("".charAt);UBt.Uint8Array&&BBt({target:"Uint8Array",proto:!0},{toBase64:function(){var t=GBt(this),r=arguments.length?$Bt(arguments[0]):void 0,n=WBt(r)==="base64"?ZBt:YBt,i=!!r&&!!r.omitPadding;HBt(this.buffer);for(var o="",u=0,d=t.length,g,_=function(I){return KBt(n,g>>6*I&63)};u+2<d;u+=3)g=(t[u]<<16)+(t[u+1]<<8)+t[u+2],o+=_(3)+_(2)+_(1)+_(0);return u+2===d?(g=(t[u]<<16)+(t[u+1]<<8),o+=_(3)+_(2)+_(1)+(i?"":"=")):u+1===d&&(g=t[u]<<16,o+=_(3)+_(2)+(i?"":"==")),o}})});var RAe=P(()=>{"use strict";p();var XBt=ie(),QBt=Gt(),JBt=mt(),eUt=W2(),tUt=T0(),rUt=JBt(1 .toString);QBt.Uint8Array&&XBt({target:"Uint8Array",proto:!0},{toHex:function(){eUt(this),tUt(this.buffer);for(var t="",r=0,n=this.length;r<n;r++){var i=rUt(this[r],16);t+=i.length===1?"0"+i:i}return t}})});var Z2=P((tHr,LAe)=>{"use strict";p();var nUt=op().has;LAe.exports=function(e){return nUt(e),e}});var qAe=P(()=>{"use strict";p();var iUt=ie(),oUt=Z2(),aUt=op().remove;iUt({target:"WeakMap",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var t=oUt(this),r=!0,n,i=0,o=arguments.length;i<o;i++)n=aUt(t,arguments[i]),r=r&&n;return!!r}})});var jAe=P(()=>{"use strict";p();var sUt=ie(),zAe=op(),lUt=R2();sUt({target:"WeakMap",stat:!0,forced:!0},{from:lUt(zAe.WeakMap,zAe.set,!0)})});var BAe=P(()=>{"use strict";p();var uUt=ie(),FAe=op(),cUt=L2();uUt({target:"WeakMap",stat:!0,forced:!0},{of:cUt(FAe.WeakMap,FAe.set,!0)})});var VAe=P(()=>{"use strict";p();var pUt=ie(),fUt=Z2(),XV=op(),dUt=XV.get,hUt=XV.has,UAe=XV.set;pUt({target:"WeakMap",proto:!0,real:!0,forced:!0},{emplace:function(t,r){var n=fUt(this),i,o;return hUt(n,t)?(i=dUt(n,t),"update"in r&&(i=r.update(i,t,n),UAe(n,t,i)),i):(o=r.insert(t,n),UAe(n,t,o),o)}})});var $Ae=P(()=>{"use strict";p();var mUt=ie(),gUt=Z2(),QV=op(),vUt=QV.get,yUt=QV.has,_Ut=QV.set;mUt({target:"WeakMap",proto:!0,real:!0,forced:!0},{getOrInsert:function(t,r){return yUt(gUt(this),t)?vUt(this,t):(_Ut(this,t,r),r)}})});var WAe=P((yHr,HAe)=>{"use strict";p();var JV=op(),GAe=new JV.WeakMap,bUt=JV.set,xUt=JV.remove;HAe.exports=function(e){return bUt(GAe,e,1),xUt(GAe,e),e}});var ZAe=P(()=>{"use strict";p();var wUt=ie(),SUt=Cr(),EUt=Z2(),IUt=WAe(),e$=op(),TUt=e$.get,MUt=e$.has,CUt=e$.set;wUt({target:"WeakMap",proto:!0,real:!0,forced:!0},{getOrInsertComputed:function(t,r){if(EUt(this),IUt(t),SUt(r),MUt(this,t))return TUt(this,t);var n=r(t);return CUt(this,t,n),n}})});var YAe=P(()=>{"use strict";p();var AUt=ie(),PUt=i3();AUt({target:"WeakMap",proto:!0,real:!0,forced:!0},{upsert:PUt})});var i1=P((THr,KAe)=>{"use strict";p();var t$=mt(),r$=WeakSet.prototype;KAe.exports={WeakSet,add:t$(r$.add),has:t$(r$.has),remove:t$(r$.delete)}});var n$=P((CHr,XAe)=>{"use strict";p();var OUt=i1().has;XAe.exports=function(e){return OUt(e),e}});var QAe=P(()=>{"use strict";p();var DUt=ie(),kUt=n$(),NUt=i1().add;DUt({target:"WeakSet",proto:!0,real:!0,forced:!0},{addAll:function(){for(var t=kUt(this),r=0,n=arguments.length;r<n;r++)NUt(t,arguments[r]);return t}})});var JAe=P(()=>{"use strict";p();var RUt=ie(),LUt=n$(),qUt=i1().remove;RUt({target:"WeakSet",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var t=LUt(this),r=!0,n,i=0,o=arguments.length;i<o;i++)n=qUt(t,arguments[i]),r=r&&n;return!!r}})});var t5e=P(()=>{"use strict";p();var zUt=ie(),e5e=i1(),jUt=R2();zUt({target:"WeakSet",stat:!0,forced:!0},{from:jUt(e5e.WeakSet,e5e.add,!1)})});var n5e=P(()=>{"use strict";p();var FUt=ie(),r5e=i1(),BUt=L2();FUt({target:"WeakSet",stat:!0,forced:!0},{of:BUt(r5e.WeakSet,r5e.add,!1)})});var c5e=P(()=>{"use strict";p();var UUt=ie(),VUt=Gt(),a5e=Mr(),i$=mt(),$Ut=Ht(),b3=Mt(),GUt=Lr(),HUt=Sl(),i5e=H2().c2i,s5e=/[^\d+/a-z]/i,WUt=/[\t\n\f\r ]+/g,ZUt=/[=]{1,2}$/,Lg=a5e("atob"),YUt=String.fromCharCode,KUt=i$("".charAt),o5e=i$("".replace),XUt=i$(s5e.exec),o1=!!Lg&&!b3(function(){return Lg("aGk=")!=="hi"}),l5e=o1&&b3(function(){return Lg(" ")!==""}),u5e=o1&&!b3(function(){Lg("a")}),QUt=o1&&!b3(function(){Lg()}),JUt=o1&&Lg.length!==1,eVt=!o1||l5e||u5e||QUt||JUt;UUt({global:!0,bind:!0,enumerable:!0,forced:eVt},{atob:function(t){if(HUt(arguments.length,1),o1&&!l5e&&!u5e)return $Ut(Lg,VUt,t);var r=o5e(GUt(t),WUt,""),n="",i=0,o=0,u,d,g;if(r.length%4===0&&(r=o5e(r,ZUt,"")),u=r.length,u%4===1||XUt(s5e,r))throw new(a5e("DOMException"))("The string is not correctly encoded","InvalidCharacterError");for(;i<u;)d=KUt(r,i++),g=o%4?g*64+i5e[d]:i5e[d],o++%4&&(n+=YUt(255&g>>(-2*o&6)));return n}})});var m5e=P(()=>{"use strict";p();var tVt=ie(),rVt=Gt(),d5e=Mr(),h5e=mt(),nVt=Ht(),o$=Mt(),p5e=Lr(),iVt=Sl(),oVt=H2().i2c,a1=d5e("btoa"),f5e=h5e("".charAt),aVt=h5e("".charCodeAt),Y2=!!a1&&!o$(function(){return a1("hi")!=="aGk="}),sVt=Y2&&!o$(function(){a1()}),lVt=Y2&&o$(function(){return a1(null)!=="bnVsbA=="}),uVt=Y2&&a1.length!==1;tVt({global:!0,bind:!0,enumerable:!0,forced:!Y2||sVt||lVt||uVt},{btoa:function(t){if(iVt(arguments.length,1),Y2)return nVt(a1,rVt,p5e(t));for(var r=p5e(t),n="",i=0,o=oVt,u,d;f5e(r,i)||(o="=",i%1);){if(d=aVt(r,i+=3/4),d>255)throw new(d5e("DOMException"))("The string contains characters outside of the Latin1 range","InvalidCharacterError");u=u<<8|d,n+=f5e(o,63&u>>8-i%1*8)}return n}})});var a$=P((ZHr,g5e)=>{"use strict";p();g5e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}});var l$=P((KHr,y5e)=>{"use strict";p();var cVt=hw(),s$=cVt("span").classList,v5e=s$&&s$.constructor&&s$.constructor.prototype;y5e.exports=v5e===Object.prototype?void 0:v5e});var w5e=P(()=>{"use strict";p();var _5e=Gt(),b5e=a$(),pVt=l$(),u$=V7(),fVt=xo(),x5e=function(e){if(e&&e.forEach!==u$)try{fVt(e,"forEach",u$)}catch(t){e.forEach=u$}};for(x3 in b5e)b5e[x3]&&x5e(_5e[x3]&&_5e[x3].prototype);var x3;x5e(pVt)});var M5e=P(()=>{"use strict";p();var S5e=Gt(),I5e=a$(),dVt=l$(),K2=Nw(),E5e=xo(),hVt=ms(),mVt=Ir(),c$=mVt("iterator"),p$=K2.values,T5e=function(e,t){if(e){if(e[c$]!==p$)try{E5e(e,c$,p$)}catch(n){e[c$]=p$}if(hVt(e,t,!0),I5e[t]){for(var r in K2)if(e[r]!==K2[r])try{E5e(e,r,K2[r])}catch(n){e[r]=K2[r]}}}};for(w3 in I5e)T5e(S5e[w3]&&S5e[w3].prototype,w3);var w3;T5e(dVt,"DOMTokenList")});var f$=P((iWr,C5e)=>{"use strict";p();C5e.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}});var j5e=P(()=>{"use strict";p();var gVt=ie(),I3=Mr(),vVt=F9(),y$=Mt(),yVt=Xi(),_$=Ls(),T3=ui().f,_Vt=Gn(),S3=_i(),E3=Xr(),bVt=$a(),xVt=Yt(),O5e=T7(),A5e=vg(),s1=f$(),wVt=HC(),D5e=jn(),b$=hr(),k5e=In(),l1="DOMException",v$="DATA_CLONE_ERR",C3=I3("Error"),Cf=I3(l1)||function(){try{var e=I3("MessageChannel")||vVt("worker_threads").MessageChannel;new e().port1.postMessage(new WeakMap)}catch(t){if(t.name===v$&&t.code===25)return t.constructor}}(),SVt=Cf&&Cf.prototype,N5e=C3.prototype,EVt=D5e.set,IVt=D5e.getterFor(l1),TVt="stack"in new C3(l1),R5e=function(e){return E3(s1,e)&&s1[e].m?s1[e].c:0},x$=function(){bVt(this,Q2);var t=arguments.length,r=A5e(t<1?void 0:arguments[0]),n=A5e(t<2?void 0:arguments[1],"Error"),i=R5e(n);if(EVt(this,{type:l1,name:n,message:r,code:i}),b$||(this.name=n,this.message=r,this.code=i),TVt){var o=new C3(r);o.name=l1,T3(this,"stack",_$(1,wVt(o.stack,1)))}},Q2=x$.prototype=yVt(N5e),L5e=function(e){return{enumerable:!0,configurable:!0,get:e}},d$=function(e){return L5e(function(){return IVt(this)[e]})};b$&&(S3(Q2,"code",d$("code")),S3(Q2,"message",d$("message")),S3(Q2,"name",d$("name")));T3(Q2,"constructor",_$(1,x$));var A3=y$(function(){return!(new Cf instanceof C3)}),q5e=A3||y$(function(){return N5e.toString!==O5e||String(new Cf(1,2))!=="2: 1"}),z5e=A3||y$(function(){return new Cf(1,"DataCloneError").code!==25}),MVt=A3||Cf[v$]!==25||SVt[v$]!==25,P5e=k5e?q5e||z5e||MVt:A3;gVt({global:!0,constructor:!0,forced:P5e},{DOMException:P5e?x$:Cf});var J2=I3(l1),M3=J2.prototype;q5e&&(k5e||Cf===J2)&&_Vt(M3,"toString",O5e);z5e&&b$&&Cf===J2&&S3(M3,"code",L5e(function(){return R5e(xVt(this).name)}));for(h$ in s1)E3(s1,h$)&&(m$=s1[h$],X2=m$.s,g$=_$(6,m$.c),E3(J2,X2)||T3(J2,X2,g$),E3(M3,X2)||T3(M3,X2,g$));var m$,X2,g$,h$});var H5e=P(()=>{"use strict";p();var CVt=ie(),AVt=Gt(),A$=Mr(),M$=Ls(),C$=ui().f,F5e=Xr(),PVt=$a(),OVt=lh(),B5e=vg(),w$=f$(),DVt=HC(),kVt=hr(),$5e=In(),tS="DOMException",G5e=A$("Error"),rS=A$(tS),P$=function(){PVt(this,NVt);var t=arguments.length,r=B5e(t<1?void 0:arguments[0]),n=B5e(t<2?void 0:arguments[1],"Error"),i=new rS(r,n),o=new G5e(r);return o.name=tS,C$(i,"stack",M$(1,DVt(o.stack,1))),OVt(i,this,P$),i},NVt=P$.prototype=rS.prototype,RVt="stack"in new G5e(tS),LVt="stack"in new rS(1,2),S$=rS&&kVt&&Object.getOwnPropertyDescriptor(AVt,tS),qVt=!!S$&&!(S$.writable&&S$.configurable),U5e=RVt&&!qVt&&!LVt;CVt({global:!0,constructor:!0,forced:$5e||U5e},{DOMException:U5e?P$:rS});var eS=A$(tS),V5e=eS.prototype;if(V5e.constructor!==eS){$5e||C$(V5e,"constructor",M$(1,eS));for(E$ in w$)F5e(w$,E$)&&(I$=w$[E$],T$=I$.s,F5e(eS,T$)||C$(eS,T$,M$(6,I$.c)))}var I$,T$,E$});var Z5e=P(()=>{"use strict";p();var zVt=Mr(),jVt=ms(),W5e="DOMException";jVt(zVt(W5e),W5e)});var K5e=P(()=>{"use strict";p();var FVt=ie(),BVt=Gt(),Y5e=o2().clear;FVt({global:!0,bind:!0,enumerable:!0,forced:BVt.clearImmediate!==Y5e},{clearImmediate:Y5e})});var P3=P((yWr,Q5e)=>{"use strict";p();var X5e=Gt(),UVt=fa(),VVt=Wr(),$Vt=qw(),GVt=ju(),HVt=js(),WVt=Sl(),ZVt=X5e.Function,YVt=/MSIE .\./.test(GVt)||$Vt==="BUN"&&function(){var e=X5e.Bun.version.split(".");return e.length<3||e[0]==="0"&&(e[1]<3||e[1]==="3"&&e[2]==="0")}();Q5e.exports=function(e,t){var r=t?2:1;return YVt?function(n,i){var o=WVt(arguments.length,1)>r,u=VVt(n)?n:ZVt(n),d=o?HVt(arguments,r):[],g=o?function(){UVt(u,this,d)}:u;return t?e(g,i):e(g)}:e}});var r3e=P(()=>{"use strict";p();var KVt=ie(),t3e=Gt(),J5e=o2().set,XVt=P3(),e3e=t3e.setImmediate?XVt(J5e,!1):J5e;KVt({global:!0,bind:!0,enumerable:!0,forced:t3e.setImmediate!==e3e},{setImmediate:e3e})});var n3e=P(()=>{"use strict";p();K5e();r3e()});var i3e=P(()=>{"use strict";p();var QVt=ie(),JVt=Gt(),e$t=Bj(),t$t=Cr(),r$t=Sl(),n$t=Mt(),i$t=hr(),o$t=n$t(function(){return i$t&&Object.getOwnPropertyDescriptor(JVt,"queueMicrotask").value.length!==1});QVt({global:!0,enumerable:!0,dontCallGetSet:!0,forced:o$t},{queueMicrotask:function(t){r$t(arguments.length,1),e$t(t$t(t))}})});var a3e=P(()=>{"use strict";p();var a$t=ie(),Oh=Gt(),s$t=_i(),l$t=hr(),u$t=TypeError,c$t=Object.defineProperty,o3e=Oh.self!==Oh;try{l$t?(O3=Object.getOwnPropertyDescriptor(Oh,"self"),(o3e||!O3||!O3.get||!O3.enumerable)&&s$t(Oh,"self",{get:function(){return Oh},set:function(t){if(this!==Oh)throw new u$t("Illegal invocation");c$t(Oh,"self",{value:t,writable:!0,configurable:!0,enumerable:!0})},configurable:!0,enumerable:!0})):a$t({global:!0,simple:!0,forced:o3e},{self:Oh})}catch(e){}var O3});var v3e=P(()=>{"use strict";p();var p$t=In(),f$t=ie(),va=Gt(),iS=Mr(),aS=mt(),L$=Mt(),d$t=nh(),c1=Wr(),h$t=Gu(),m$t=qs(),L3=xr(),g$t=mf(),v$t=Li(),u3e=Yt(),N3=hs(),y$t=Xr(),_$t=Jl(),O$=xo(),D3=gn(),b$t=Sl(),x$t=F0(),q3=Ro(),q$=Wo(),w$t=Us(),s3e=W9(),S$t=w7(),z$=SA(),nS=va.Object,E$t=va.Array,c3e=va.Date,p3e=va.Error,I$t=va.TypeError,T$t=va.PerformanceMark,qg=iS("DOMException"),N$=q3.Map,j$=q3.has,f3e=q3.get,R3=q3.set,d3e=q$.Set,h3e=q$.add,M$t=q$.has,C$t=iS("Object","keys"),A$t=aS([].push),P$t=aS((!0).valueOf),O$t=aS(1 .valueOf),D$t=aS("".valueOf),k$t=aS(c3e.prototype.getTime),R$=d$t("structuredClone"),oS="DataCloneError",k3="Transferring",m3e=function(e){return!L$(function(){var t=new va.Set([7]),r=e(t),n=e(nS(7));return r===t||!r.has(7)||!L3(n)||+n!=7})&&e},l3e=function(e,t){return!L$(function(){var r=new t,n=e({a:r,b:r});return!(n&&n.a===n.b&&n.a instanceof t&&n.a.stack===r.stack)})},N$t=function(e){return!L$(function(){var t=e(new va.AggregateError([1],R$,{cause:3}));return t.name!=="AggregateError"||t.errors[0]!==1||t.message!==R$||t.cause!==3})},u1=va.structuredClone,R$t=p$t||!l3e(u1,p3e)||!l3e(u1,qg)||!N$t(u1),L$t=!u1&&m3e(function(e){return new T$t(R$,{detail:e}).detail}),Af=m3e(u1)||L$t,D$=function(e){throw new qg("Uncloneable type: "+e,oS)},Gs=function(e,t){throw new qg((t||"Cloning")+" of "+e+" cannot be properly polyfilled in this engine",oS)},k$=function(e,t){return Af||Gs(t),Af(e)},q$t=function(){var e;try{e=new va.DataTransfer}catch(t){try{e=new va.ClipboardEvent("").clipboardData}catch(r){}}return e&&e.items&&e.files?e:null},g3e=function(e,t,r){if(j$(t,e))return f3e(t,e);var n=r||N3(e),i,o,u,d,g,_;if(n==="SharedArrayBuffer")Af?i=Af(e):i=e;else{var I=va.DataView;!I&&!c1(e.slice)&&Gs("ArrayBuffer");try{if(c1(e.slice)&&!e.resizable)i=e.slice(0);else for(o=e.byteLength,u=("maxByteLength"in e)?{maxByteLength:e.maxByteLength}:void 0,i=new ArrayBuffer(o,u),d=new I(e),g=new I(i),_=0;_<o;_++)g.setUint8(_,d.getUint8(_))}catch(T){throw new qg("ArrayBuffer is detached",oS)}}return R3(t,e,i),i},z$t=function(e,t,r,n,i){var o=va[t];return L3(o)||Gs(t),new o(g3e(e.buffer,i),r,n)},ga=function(e,t){if(g$t(e)&&D$("Symbol"),!L3(e))return e;if(t){if(j$(t,e))return f3e(t,e)}else t=new N$;var r=N3(e),n,i,o,u,d,g,_,I;switch(r){case"Array":o=E$t(D3(e));break;case"Object":o={};break;case"Map":o=new N$;break;case"Set":o=new d3e;break;case"RegExp":o=new RegExp(e.source,x$t(e));break;case"Error":switch(i=e.name,i){case"AggregateError":o=new(iS(i))([]);break;case"EvalError":case"RangeError":case"ReferenceError":case"SuppressedError":case"SyntaxError":case"TypeError":case"URIError":o=new(iS(i));break;case"CompileError":case"LinkError":case"RuntimeError":o=new(iS("WebAssembly",i));break;default:o=new p3e}break;case"DOMException":o=new qg(e.message,e.name);break;case"ArrayBuffer":case"SharedArrayBuffer":o=g3e(e,t,r);break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float16Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":g=r==="DataView"?e.byteLength:e.length,o=z$t(e,r,e.byteOffset,g,t);break;case"DOMQuad":try{o=new DOMQuad(ga(e.p1,t),ga(e.p2,t),ga(e.p3,t),ga(e.p4,t))}catch(T){o=k$(e,r)}break;case"File":if(Af)try{o=Af(e),N3(o)!==r&&(o=void 0)}catch(T){}if(!o)try{o=new File([e],e.name,e)}catch(T){}o||Gs(r);break;case"FileList":if(u=q$t(),u){for(d=0,g=D3(e);d<g;d++)u.items.add(ga(e[d],t));o=u.files}else o=k$(e,r);break;case"ImageData":try{o=new ImageData(ga(e.data,t),e.width,e.height,{colorSpace:e.colorSpace})}catch(T){o=k$(e,r)}break;default:if(Af)o=Af(e);else switch(r){case"BigInt":o=nS(e.valueOf());break;case"Boolean":o=nS(P$t(e));break;case"Number":o=nS(O$t(e));break;case"String":o=nS(D$t(e));break;case"Date":o=new c3e(k$t(e));break;case"Blob":try{o=e.slice(0,e.size,e.type)}catch(T){Gs(r)}break;case"DOMPoint":case"DOMPointReadOnly":n=va[r];try{o=n.fromPoint?n.fromPoint(e):new n(e.x,e.y,e.z,e.w)}catch(T){Gs(r)}break;case"DOMRect":case"DOMRectReadOnly":n=va[r];try{o=n.fromRect?n.fromRect(e):new n(e.x,e.y,e.width,e.height)}catch(T){Gs(r)}break;case"DOMMatrix":case"DOMMatrixReadOnly":n=va[r];try{o=n.fromMatrix?n.fromMatrix(e):new n(e)}catch(T){Gs(r)}break;case"AudioData":case"VideoFrame":c1(e.clone)||Gs(r);try{o=e.clone()}catch(T){D$(r)}break;case"CropTarget":case"CryptoKey":case"FileSystemDirectoryHandle":case"FileSystemFileHandle":case"FileSystemHandle":case"GPUCompilationInfo":case"GPUCompilationMessage":case"ImageBitmap":case"RTCCertificate":case"WebAssembly.Module":Gs(r);default:D$(r)}}switch(R3(t,e,o),r){case"Array":case"Object":for(_=C$t(e),d=0,g=D3(_);d<g;d++)I=_[d],_$t(o,I,ga(e[I],t));break;case"Map":e.forEach(function(T,A){R3(o,ga(A,t),ga(T,t))});break;case"Set":e.forEach(function(T){h3e(o,ga(T,t))});break;case"Error":O$(o,"message",ga(e.message,t)),y$t(e,"cause")&&O$(o,"cause",ga(e.cause,t)),i==="AggregateError"?o.errors=ga(e.errors,t):i==="SuppressedError"&&(o.error=ga(e.error,t),o.suppressed=ga(e.suppressed,t));case"DOMException":S$t&&O$(o,"stack",ga(e.stack,t))}return o},j$t=function(e,t){if(!L3(e))throw new I$t("Transfer option cannot be converted to a sequence");var r=[];v$t(e,function(A){A$t(r,u3e(A))});for(var n=0,i=D3(r),o=new d3e,u,d,g,_,I,T;n<i;){if(u=r[n++],d=N3(u),d==="ArrayBuffer"?M$t(o,u):j$(t,u))throw new qg("Duplicate transferable",oS);if(d==="ArrayBuffer"){h3e(o,u);continue}if(z$)_=u1(u,{transfer:[u]});else switch(d){case"ImageBitmap":g=va.OffscreenCanvas,h$t(g)||Gs(d,k3);try{I=new g(u.width,u.height),T=I.getContext("bitmaprenderer"),T.transferFromImageBitmap(u),_=I.transferToImageBitmap()}catch(A){}break;case"AudioData":case"VideoFrame":(!c1(u.clone)||!c1(u.close))&&Gs(d,k3);try{_=u.clone(),u.close()}catch(A){}break;case"MediaSourceHandle":case"MessagePort":case"MIDIAccess":case"OffscreenCanvas":case"ReadableStream":case"RTCDataChannel":case"TransformStream":case"WebTransportReceiveStream":case"WebTransportSendStream":case"WritableStream":Gs(d,k3)}if(_===void 0)throw new qg("This object cannot be transferred: "+d,oS);R3(t,u,_)}return o},F$t=function(e){w$t(e,function(t){z$?Af(t,{transfer:[t]}):c1(t.transfer)?t.transfer():s3e?s3e(t):Gs("ArrayBuffer",k3)})};f$t({global:!0,enumerable:!0,sham:!z$,forced:R$t},{structuredClone:function(t){var r=b$t(arguments.length,1)>1&&!m$t(arguments[1])?u3e(arguments[1]):void 0,n=r?r.transfer:void 0,i,o;n!==void 0&&(i=new N$,o=j$t(n,i));var u=ga(t,i);return o&&F$t(o),u}})});var b3e=P(()=>{"use strict";p();var B$t=ie(),_3e=Gt(),U$t=P3(),y3e=U$t(_3e.setInterval,!0);B$t({global:!0,bind:!0,forced:_3e.setInterval!==y3e},{setInterval:y3e})});var S3e=P(()=>{"use strict";p();var V$t=ie(),w3e=Gt(),$$t=P3(),x3e=$$t(w3e.setTimeout,!0);V$t({global:!0,bind:!0,forced:w3e.setTimeout!==x3e},{setTimeout:x3e})});var E3e=P(()=>{"use strict";p();b3e();S3e()});var sS=P(($Wr,T3e)=>{"use strict";p();var G$t=Mt(),H$t=Ir(),W$t=hr(),I3e=In(),Z$t=H$t("iterator");T3e.exports=!G$t(function(){var e=new URL("b?a=1&b=2&c=3","https://a"),t=e.searchParams,r=new URLSearchParams("a=1&a=2&b=3"),n="";return e.pathname="c%20d",t.forEach(function(i,o){t.delete("b"),n+=o+i}),r.delete("a",2),r.delete("b",void 0),I3e&&(!e.toJSON||!r.has("a",1)||r.has("a",2)||!r.has("a",void 0)||r.has("b"))||!t.size&&(I3e||!W$t)||!t.sort||e.href!=="https://a/c%20d?a=1&c=3"||t.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!t[Z$t]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("https://\u0442\u0435\u0441\u0442").host!=="xn--e1aybc"||new URL("https://a#\u0431").hash!=="#%D0%B1"||n!=="a1c3"||new URL("https://x",void 0).host!=="x"})});var R3e=P((HWr,N3e)=>{"use strict";p();var zg=mt(),F$=2147483647,lS=36,O3e=1,V$=26,Y$t=38,K$t=700,X$t=72,Q$t=128,J$t="-",eGt=/[^\0-\u007E]/,D3e=/[.\u3002\uFF0E\uFF61]/g,M3e="Overflow: input needs wider integers to process",B$=lS-O3e,C3e=RangeError,tGt=zg(D3e.exec),p1=Math.floor,U$=String.fromCharCode,A3e=zg("".charCodeAt),k3e=zg([].join),Dh=zg([].push),rGt=zg("".replace),nGt=zg("".split),iGt=zg("".toLowerCase),oGt=function(e){for(var t=[],r=0,n=e.length;r<n;){var i=A3e(e,r++);if(i>=55296&&i<=56319&&r<n){var o=A3e(e,r++);(o&64512)===56320?Dh(t,((i&1023)<<10)+(o&1023)+65536):(Dh(t,i),r--)}else Dh(t,i)}return t},P3e=function(e){return e+22+75*(e<26)},aGt=function(e,t,r){var n=0;for(e=r?p1(e/K$t):e>>1,e+=p1(e/t);e>B$*V$>>1;)e=p1(e/B$),n+=lS;return p1(n+(B$+1)*e/(e+Y$t))},sGt=function(e){var t=[];e=oGt(e);var r=e.length,n=Q$t,i=0,o=X$t,u,d;for(u=0;u<e.length;u++)d=e[u],d<128&&Dh(t,U$(d));var g=t.length,_=g;for(g&&Dh(t,J$t);_<r;){var I=F$;for(u=0;u<e.length;u++)d=e[u],d>=n&&d<I&&(I=d);var T=_+1;if(I-n>p1((F$-i)/T))throw new C3e(M3e);for(i+=(I-n)*T,n=I,u=0;u<e.length;u++){if(d=e[u],d<n&&++i>F$)throw new C3e(M3e);if(d===n){for(var A=i,q=lS;;){var z=q<=o?O3e:q>=o+V$?V$:q-o;if(A<z)break;var U=A-z,N=lS-z;Dh(t,U$(P3e(z+U%N))),A=p1(U/N),q+=lS}Dh(t,U$(P3e(A))),o=aGt(i,T,_===g),i=0,_++}}i++,n++}return k3e(t,"")};N3e.exports=function(e){var t=[],r=nGt(rGt(iGt(e),D3e,"."),"."),n,i;for(n=0;n<r.length;n++)i=r[n],Dh(t,tGt(eGt,i)?"xn--"+sGt(i):i);return k3e(t,".")}});var Q$=P((ZWr,i4e)=>{"use strict";p();Nw();ZF();var Y$=ie(),Z3e=Gt(),K$=Nj(),lGt=Mr(),z3=Ht(),Yu=mt(),uS=hr(),Y3e=sS(),K3e=Gn(),uGt=_i(),cGt=tu(),pGt=ms(),fGt=fh(),X$=jn(),X3e=$a(),$$=Wr(),dGt=Xr(),hGt=Jn(),mGt=hs(),gGt=Yt(),Q3e=xr(),vs=Lr(),vGt=Xi(),L3e=Ls(),q3e=uh(),yGt=Yc(),j3=No(),f1=Sl(),_Gt=Ir(),bGt=uA(),xGt=_Gt("iterator"),h1="URLSearchParams",J3e=h1+"Iterator",e4e=X$.set,iu=X$.getterFor(h1),wGt=X$.getterFor(J3e),z3e=K$("fetch"),U3=K$("Request"),cS=K$("Headers"),G$=U3&&U3.prototype,j3e=cS&&cS.prototype,SGt=Z3e.TypeError,EGt=Z3e.encodeURIComponent,IGt=String.fromCharCode,TGt=lGt("String","fromCodePoint"),MGt=parseInt,B3=Yu("".charAt),F3e=Yu([].join),kh=Yu([].push),t4e=Yu("".replace),CGt=Yu([].shift),B3e=Yu([].splice),U3e=Yu("".split),r4e=Yu("".slice),AGt=Yu(/./.exec),PGt=/\+/g,H$="\uFFFD",OGt=/^[0-9a-f]+$/i,V3e=function(e,t){var r=r4e(e,t,t+2);return AGt(OGt,r)?MGt(r,16):NaN},DGt=function(e){for(var t=0,r=128;r>0&&(e&r)!==0;r>>=1)t++;return t},kGt=function(e){var t=null;switch(e.length){case 1:t=e[0];break;case 2:t=(e[0]&31)<<6|e[1]&63;break;case 3:t=(e[0]&15)<<12|(e[1]&63)<<6|e[2]&63;break;case 4:t=(e[0]&7)<<18|(e[1]&63)<<12|(e[2]&63)<<6|e[3]&63;break}return t>1114111?null:t},$3e=function(e){e=t4e(e,PGt," ");for(var t=e.length,r="",n=0;n<t;){var i=B3(e,n);if(i==="%"){if(B3(e,n+1)==="%"||n+3>t){r+="%",n++;continue}var o=V3e(e,n+1);if(o!==o){r+=i,n++;continue}n+=2;var u=DGt(o);if(u===0)i=IGt(o);else{if(u===1||u>4){r+=H$,n++;continue}for(var d=[o],g=1;g<u&&(n++,!(n+3>t||B3(e,n)!=="%"));){var _=V3e(e,n+1);if(_!==_){n+=3;break}if(_>191||_<128)break;kh(d,_),n+=2,g++}if(d.length!==u){r+=H$;continue}var I=kGt(d);I===null?r+=H$:i=TGt(I)}}r+=i,n++}return r},NGt=/[!'()~]|%20/g,RGt={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},LGt=function(e){return RGt[e]},G3e=function(e){return t4e(EGt(e),NGt,LGt)},W$=fGt(function(t,r){e4e(this,{type:J3e,target:iu(t).entries,index:0,kind:r})},h1,function(){var t=wGt(this),r=t.target,n=t.index++;if(!r||n>=r.length)return t.target=null,j3(void 0,!0);var i=r[n];switch(t.kind){case"keys":return j3(i.key,!1);case"values":return j3(i.value,!1)}return j3([i.key,i.value],!1)},!0),n4e=function(e){this.entries=[],this.url=null,e!==void 0&&(Q3e(e)?this.parseObject(e):this.parseQuery(typeof e=="string"?B3(e,0)==="?"?r4e(e,1):e:vs(e)))};n4e.prototype={type:h1,bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t=this.entries,r=yGt(e),n,i,o,u,d,g,_;if(r)for(n=q3e(e,r),i=n.next;!(o=z3(i,n)).done;){if(u=q3e(gGt(o.value)),d=u.next,(g=z3(d,u)).done||(_=z3(d,u)).done||!z3(d,u).done)throw new SGt("Expected sequence with length 2");kh(t,{key:vs(g.value),value:vs(_.value)})}else for(var I in e)dGt(e,I)&&kh(t,{key:I,value:vs(e[I])})},parseQuery:function(e){if(e)for(var t=this.entries,r=U3e(e,"&"),n=0,i,o;n<r.length;)i=r[n++],i.length&&(o=U3e(i,"="),kh(t,{key:$3e(CGt(o)),value:$3e(F3e(o,"="))}))},serialize:function(){for(var e=this.entries,t=[],r=0,n;r<e.length;)n=e[r++],kh(t,G3e(n.key)+"="+G3e(n.value));return F3e(t,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var V3=function(){X3e(this,d1);var t=arguments.length>0?arguments[0]:void 0,r=e4e(this,new n4e(t));uS||(this.size=r.entries.length)},d1=V3.prototype;cGt(d1,{append:function(t,r){var n=iu(this);f1(arguments.length,2),kh(n.entries,{key:vs(t),value:vs(r)}),uS||this.length++,n.updateURL()},delete:function(e){for(var t=iu(this),r=f1(arguments.length,1),n=t.entries,i=vs(e),o=r<2?void 0:arguments[1],u=o===void 0?o:vs(o),d=0;d<n.length;){var g=n[d];if(g.key===i&&(u===void 0||g.value===u)){if(B3e(n,d,1),u!==void 0)break}else d++}uS||(this.size=n.length),t.updateURL()},get:function(t){var r=iu(this).entries;f1(arguments.length,1);for(var n=vs(t),i=0;i<r.length;i++)if(r[i].key===n)return r[i].value;return null},getAll:function(t){var r=iu(this).entries;f1(arguments.length,1);for(var n=vs(t),i=[],o=0;o<r.length;o++)r[o].key===n&&kh(i,r[o].value);return i},has:function(t){for(var r=iu(this).entries,n=f1(arguments.length,1),i=vs(t),o=n<2?void 0:arguments[1],u=o===void 0?o:vs(o),d=0;d<r.length;){var g=r[d++];if(g.key===i&&(u===void 0||g.value===u))return!0}return!1},set:function(t,r){var n=iu(this);f1(arguments.length,1);for(var i=n.entries,o=!1,u=vs(t),d=vs(r),g=0,_;g<i.length;g++)_=i[g],_.key===u&&(o?B3e(i,g--,1):(o=!0,_.value=d));o||kh(i,{key:u,value:d}),uS||(this.size=i.length),n.updateURL()},sort:function(){var t=iu(this);bGt(t.entries,function(r,n){return r.key>n.key?1:-1}),t.updateURL()},forEach:function(t){for(var r=iu(this).entries,n=hGt(t,arguments.length>1?arguments[1]:void 0),i=0,o;i<r.length;)o=r[i++],n(o.value,o.key,this)},keys:function(){return new W$(this,"keys")},values:function(){return new W$(this,"values")},entries:function(){return new W$(this,"entries")}},{enumerable:!0});K3e(d1,xGt,d1.entries,{name:"entries"});K3e(d1,"toString",function(){return iu(this).serialize()},{enumerable:!0});uS&&uGt(d1,"size",{get:function(){return iu(this).entries.length},configurable:!0,enumerable:!0});pGt(V3,h1);Y$({global:!0,constructor:!0,forced:!Y3e},{URLSearchParams:V3});!Y3e&&$$(cS)&&(H3e=Yu(j3e.has),W3e=Yu(j3e.set),Z$=function(e){if(Q3e(e)){var t=e.body,r;if(mGt(t)===h1)return r=e.headers?new cS(e.headers):new cS,H3e(r,"content-type")||W3e(r,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),vGt(e,{body:L3e(0,vs(t)),headers:L3e(0,r)})}return e},$$(z3e)&&Y$({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(t){return z3e(t,arguments.length>1?Z$(arguments[1]):{})}}),$$(U3)&&(F3=function(t){return X3e(this,G$),new U3(t,arguments.length>1?Z$(arguments[1]):{})},G$.constructor=F3,F3.prototype=G$,Y$({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:F3})));var H3e,W3e,Z$,F3;i4e.exports={URLSearchParams:V3,getState:iu}});var w4e=P(()=>{"use strict";p();KF();var qGt=ie(),mG=hr(),zGt=sS(),gG=Gt(),o4e=Jn(),uu=mt(),Z3=Gn(),ou=_i(),jGt=$a(),fG=Xr(),vG=gj(),m1=$7(),Ku=js(),FGt=Ag().codeAt,BGt=R3e(),Of=Lr(),UGt=ms(),VGt=Sl(),g4e=Q$(),v4e=jn(),$Gt=v4e.set,Y3=v4e.getterFor("URL"),GGt=g4e.URLSearchParams,HGt=g4e.getState,pS=gG.URL,dG=gG.TypeError,K3=gG.parseInt,WGt=Math.floor,a4e=Math.pow,lu=uu("".charAt),Xu=uu(/./.exec),dS=uu([].join),ZGt=uu(1 .toString),YGt=uu([].pop),v1=uu([].push),J$=uu("".replace),KGt=uu([].shift),XGt=uu("".split),mS=uu("".slice),X3=uu("".toLowerCase),QGt=uu([].unshift),JGt="Invalid authority",eG="Invalid scheme",jg="Invalid host",s4e="Invalid port",y4e=/[a-z]/i,eHt=/[\d+-.a-z]/i,hG=/\d/,tHt=/^0x/i,rHt=/^[0-7]+$/,nHt=/^\d+$/,_4e=/^[\da-f]+$/i,iHt=/[\0\t\n\r #%/:<>?@[\\\]^|]/,oHt=/[\0\t\n\r #/:<>?@[\\\]^|]/,aHt=/^[\u0000-\u0020]+/,sHt=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,lHt=/[\t\n\r]/g,au,uHt=function(e){var t=XGt(e,"."),r,n,i,o,u,d,g;if(t.length&&t[t.length-1]===""&&t.length--,r=t.length,r>4)return e;for(n=[],i=0;i<r;i++){if(o=t[i],o==="")return e;if(u=10,o.length>1&&lu(o,0)==="0"&&(u=Xu(tHt,o)?16:8,o=mS(o,u===8?1:2)),o==="")d=0;else{if(!Xu(u===10?nHt:u===8?rHt:_4e,o))return e;d=K3(o,u)}v1(n,d)}for(i=0;i<r;i++)if(d=n[i],i===r-1){if(d>=a4e(256,5-r))return null}else if(d>255)return null;for(g=YGt(n),i=0;i<n.length;i++)g+=n[i]*a4e(256,3-i);return g},cHt=function(e){var t=[0,0,0,0,0,0,0,0],r=0,n=null,i=0,o,u,d,g,_,I,T,A=function(){return lu(e,i)};if(A()===":"){if(lu(e,1)!==":")return;i+=2,r++,n=r}for(;A();){if(r===8)return;if(A()===":"){if(n!==null)return;i++,r++,n=r;continue}for(o=u=0;u<4&&Xu(_4e,A());)o=o*16+K3(A(),16),i++,u++;if(A()==="."){if(u===0||(i-=u,r>6))return;for(d=0;A();){if(g=null,d>0)if(A()==="."&&d<4)i++;else return;if(!Xu(hG,A()))return;for(;Xu(hG,A());){if(_=K3(A(),10),g===null)g=_;else{if(g===0)return;g=g*10+_}if(g>255)return;i++}t[r]=t[r]*256+g,d++,(d===2||d===4)&&r++}if(d!==4)return;break}else if(A()===":"){if(i++,!A())return}else if(A())return;t[r++]=o}if(n!==null)for(I=r-n,r=7;r!==0&&I>0;)T=t[r],t[r--]=t[n+I-1],t[n+--I]=T;else if(r!==8)return;return t},pHt=function(e){for(var t=null,r=1,n=null,i=0,o=0;o<8;o++)e[o]!==0?(i>r&&(t=n,r=i),n=null,i=0):(n===null&&(n=o),++i);return i>r?n:t},fS=function(e){var t,r,n,i;if(typeof e=="number"){for(t=[],r=0;r<4;r++)QGt(t,e%256),e=WGt(e/256);return dS(t,".")}if(typeof e=="object"){for(t="",n=pHt(e),r=0;r<8;r++)i&&e[r]===0||(i&&(i=!1),n===r?(t+=r?":":"::",i=!0):(t+=ZGt(e[r],16),r<7&&(t+=":")));return"["+t+"]"}return e},W3={},b4e=vG({},W3,{" ":1,"\"":1,"<":1,">":1,"`":1}),x4e=vG({},b4e,{"#":1,"?":1,"{":1,"}":1}),tG=vG({},x4e,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Nh=function(e,t){var r=FGt(e,0);return r>32&&r<127&&!fG(t,e)?e:encodeURIComponent(e)},$3={ftp:21,file:null,http:80,https:443,ws:80,wss:443},hS=function(e,t){var r;return e.length===2&&Xu(y4e,lu(e,0))&&((r=lu(e,1))===":"||!t&&r==="|")},l4e=function(e){var t;return e.length>1&&hS(mS(e,0,2))&&(e.length===2||(t=lu(e,2))==="/"||t==="\\"||t==="?"||t==="#")},fHt=function(e){return e==="."||X3(e)==="%2e"},dHt=function(e){return e=X3(e),e===".."||e==="%2e."||e===".%2e"||e==="%2e%2e"},rG={},u4e={},nG={},c4e={},p4e={},iG={},f4e={},d4e={},G3={},H3={},oG={},aG={},sG={},lG={},h4e={},uG={},g1={},ap={},m4e={},Fg={},Pf={},yG=function(e,t,r){var n=Of(e),i,o,u;if(t){if(o=this.parse(n),o)throw new dG(o);this.searchParams=null}else{if(r!==void 0&&(i=new yG(r,!0)),o=this.parse(n,null,i),o)throw new dG(o);u=HGt(new GGt),u.bindURL(this),this.searchParams=u}};yG.prototype={type:"URL",parse:function(e,t,r){var n=this,i=t||rG,o=0,u="",d=!1,g=!1,_=!1,I,T,A,q;for(e=Of(e),t||(n.scheme="",n.username="",n.password="",n.host=null,n.port=null,n.path=[],n.query=null,n.fragment=null,n.cannotBeABaseURL=!1,e=J$(e,aHt,""),e=J$(e,sHt,"$1")),e=J$(e,lHt,""),I=m1(e);o<=I.length;){switch(T=I[o],i){case rG:if(T&&Xu(y4e,T))u+=X3(T),i=u4e;else{if(t)return eG;i=nG;continue}break;case u4e:if(T&&(Xu(eHt,T)||T==="+"||T==="-"||T==="."))u+=X3(T);else if(T===":"){if(t&&(n.isSpecial()!==fG($3,u)||u==="file"&&(n.includesCredentials()||n.port!==null)||n.scheme==="file"&&!n.host))return;if(n.scheme=u,t){n.isSpecial()&&$3[n.scheme]===n.port&&(n.port=null);return}u="",n.scheme==="file"?i=lG:n.isSpecial()&&r&&r.scheme===n.scheme?i=c4e:n.isSpecial()?i=d4e:I[o+1]==="/"?(i=p4e,o++):(n.cannotBeABaseURL=!0,v1(n.path,""),i=m4e)}else{if(t)return eG;u="",i=nG,o=0;continue}break;case nG:if(!r||r.cannotBeABaseURL&&T!=="#")return eG;if(r.cannotBeABaseURL&&T==="#"){n.scheme=r.scheme,n.path=Ku(r.path),n.query=r.query,n.fragment="",n.cannotBeABaseURL=!0,i=Pf;break}i=r.scheme==="file"?lG:iG;continue;case c4e:if(T==="/"&&I[o+1]==="/")i=G3,o++;else{i=iG;continue}break;case p4e:if(T==="/"){i=H3;break}else{i=ap;continue}case iG:if(n.scheme=r.scheme,T===au)n.username=r.username,n.password=r.password,n.host=r.host,n.port=r.port,n.path=Ku(r.path),n.query=r.query;else if(T==="/"||T==="\\"&&n.isSpecial())i=f4e;else if(T==="?")n.username=r.username,n.password=r.password,n.host=r.host,n.port=r.port,n.path=Ku(r.path),n.query="",i=Fg;else if(T==="#")n.username=r.username,n.password=r.password,n.host=r.host,n.port=r.port,n.path=Ku(r.path),n.query=r.query,n.fragment="",i=Pf;else{n.username=r.username,n.password=r.password,n.host=r.host,n.port=r.port,n.path=Ku(r.path),n.path.length--,i=ap;continue}break;case f4e:if(n.isSpecial()&&(T==="/"||T==="\\"))i=G3;else if(T==="/")i=H3;else{n.username=r.username,n.password=r.password,n.host=r.host,n.port=r.port,i=ap;continue}break;case d4e:if(i=G3,T!=="/"||lu(u,o+1)!=="/")continue;o++;break;case G3:if(T!=="/"&&T!=="\\"){i=H3;continue}break;case H3:if(T==="@"){d&&(u="%40"+u),d=!0,A=m1(u);for(var z=0;z<A.length;z++){var U=A[z];if(U===":"&&!_){_=!0;continue}var N=Nh(U,tG);_?n.password+=N:n.username+=N}u=""}else if(T===au||T==="/"||T==="?"||T==="#"||T==="\\"&&n.isSpecial()){if(d&&u==="")return JGt;o-=m1(u).length+1,u="",i=oG}else u+=T;break;case oG:case aG:if(t&&n.scheme==="file"){i=uG;continue}else if(T===":"&&!g){if(u==="")return jg;if(q=n.parseHost(u),q)return q;if(u="",i=sG,t===aG)return}else if(T===au||T==="/"||T==="?"||T==="#"||T==="\\"&&n.isSpecial()){if(n.isSpecial()&&u==="")return jg;if(t&&u===""&&(n.includesCredentials()||n.port!==null))return;if(q=n.parseHost(u),q)return q;if(u="",i=g1,t)return;continue}else T==="["?g=!0:T==="]"&&(g=!1),u+=T;break;case sG:if(Xu(hG,T))u+=T;else if(T===au||T==="/"||T==="?"||T==="#"||T==="\\"&&n.isSpecial()||t){if(u!==""){var L=K3(u,10);if(L>65535)return s4e;n.port=n.isSpecial()&&L===$3[n.scheme]?null:L,u=""}if(t)return;i=g1;continue}else return s4e;break;case lG:if(n.scheme="file",T==="/"||T==="\\")i=h4e;else if(r&&r.scheme==="file")switch(T){case au:n.host=r.host,n.path=Ku(r.path),n.query=r.query;break;case"?":n.host=r.host,n.path=Ku(r.path),n.query="",i=Fg;break;case"#":n.host=r.host,n.path=Ku(r.path),n.query=r.query,n.fragment="",i=Pf;break;default:l4e(dS(Ku(I,o),""))||(n.host=r.host,n.path=Ku(r.path),n.shortenPath()),i=ap;continue}else{i=ap;continue}break;case h4e:if(T==="/"||T==="\\"){i=uG;break}r&&r.scheme==="file"&&!l4e(dS(Ku(I,o),""))&&(hS(r.path[0],!0)?v1(n.path,r.path[0]):n.host=r.host),i=ap;continue;case uG:if(T===au||T==="/"||T==="\\"||T==="?"||T==="#"){if(!t&&hS(u))i=ap;else if(u===""){if(n.host="",t)return;i=g1}else{if(q=n.parseHost(u),q)return q;if(n.host==="localhost"&&(n.host=""),t)return;u="",i=g1}continue}else u+=T;break;case g1:if(n.isSpecial()){if(i=ap,T!=="/"&&T!=="\\")continue}else if(!t&&T==="?")n.query="",i=Fg;else if(!t&&T==="#")n.fragment="",i=Pf;else if(T!==au&&(i=ap,T!=="/"))continue;break;case ap:if(T===au||T==="/"||T==="\\"&&n.isSpecial()||!t&&(T==="?"||T==="#")){if(dHt(u)?(n.shortenPath(),T!=="/"&&!(T==="\\"&&n.isSpecial())&&v1(n.path,"")):fHt(u)?T!=="/"&&!(T==="\\"&&n.isSpecial())&&v1(n.path,""):(n.scheme==="file"&&!n.path.length&&hS(u)&&(n.host&&(n.host=""),u=lu(u,0)+":"),v1(n.path,u)),u="",n.scheme==="file"&&(T===au||T==="?"||T==="#"))for(;n.path.length>1&&n.path[0]==="";)KGt(n.path);T==="?"?(n.query="",i=Fg):T==="#"&&(n.fragment="",i=Pf)}else u+=Nh(T,x4e);break;case m4e:T==="?"?(n.query="",i=Fg):T==="#"?(n.fragment="",i=Pf):T!==au&&(n.path[0]+=Nh(T,W3));break;case Fg:!t&&T==="#"?(n.fragment="",i=Pf):T!==au&&(T==="'"&&n.isSpecial()?n.query+="%27":T==="#"?n.query+="%23":n.query+=Nh(T,W3));break;case Pf:T!==au&&(n.fragment+=Nh(T,b4e));break}o++}},parseHost:function(e){var t,r,n;if(lu(e,0)==="["){if(lu(e,e.length-1)!=="]"||(t=cHt(mS(e,1,-1)),!t))return jg;this.host=t}else if(this.isSpecial()){if(e=BGt(e),Xu(iHt,e)||(t=uHt(e),t===null))return jg;this.host=t}else{if(Xu(oHt,e))return jg;for(t="",r=m1(e),n=0;n<r.length;n++)t+=Nh(r[n],W3);this.host=t}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||this.scheme==="file"},includesCredentials:function(){return this.username!==""||this.password!==""},isSpecial:function(){return fG($3,this.scheme)},shortenPath:function(){var e=this.path,t=e.length;t&&(this.scheme!=="file"||t!==1||!hS(e[0],!0))&&e.length--},serialize:function(){var e=this,t=e.scheme,r=e.username,n=e.password,i=e.host,o=e.port,u=e.path,d=e.query,g=e.fragment,_=t+":";return i!==null?(_+="//",e.includesCredentials()&&(_+=r+(n?":"+n:"")+"@"),_+=fS(i),o!==null&&(_+=":"+o)):t==="file"&&(_+="//"),_+=e.cannotBeABaseURL?u[0]:u.length?"/"+dS(u,"/"):"",d!==null&&(_+="?"+d),g!==null&&(_+="#"+g),_},setHref:function(e){var t=this.parse(e);if(t)throw new dG(t);this.searchParams.update()},getOrigin:function(){var e=this.scheme,t=this.port;if(e==="blob")try{return new y1(e.path[0]).origin}catch(r){return"null"}return e==="file"||!this.isSpecial()?"null":e+"://"+fS(this.host)+(t!==null?":"+t:"")},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse(Of(e)+":",rG)},getUsername:function(){return this.username},setUsername:function(e){var t=m1(Of(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var r=0;r<t.length;r++)this.username+=Nh(t[r],tG)}},getPassword:function(){return this.password},setPassword:function(e){var t=m1(Of(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var r=0;r<t.length;r++)this.password+=Nh(t[r],tG)}},getHost:function(){var e=this.host,t=this.port;return e===null?"":t===null?fS(e):fS(e)+":"+t},setHost:function(e){this.cannotBeABaseURL||this.parse(e,oG)},getHostname:function(){var e=this.host;return e===null?"":fS(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,aG)},getPort:function(){var e=this.port;return e===null?"":Of(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(e=Of(e),e===""?this.port=null:this.parse(e,sG))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+dS(e,"/"):""},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,g1))},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){e=Of(e),e===""?this.query=null:(lu(e,0)==="?"&&(e=mS(e,1)),this.query="",this.parse(e,Fg)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){if(e=Of(e),e===""){this.fragment=null;return}lu(e,0)==="#"&&(e=mS(e,1)),this.fragment="",this.parse(e,Pf)},update:function(){this.query=this.searchParams.serialize()||null}};var y1=function(t){var r=jGt(this,ys),n=VGt(arguments.length,1)>1?arguments[1]:void 0,i=$Gt(r,new yG(t,!1,n));mG||(r.href=i.serialize(),r.origin=i.getOrigin(),r.protocol=i.getProtocol(),r.username=i.getUsername(),r.password=i.getPassword(),r.host=i.getHost(),r.hostname=i.getHostname(),r.port=i.getPort(),r.pathname=i.getPathname(),r.search=i.getSearch(),r.searchParams=i.getSearchParams(),r.hash=i.getHash())},ys=y1.prototype,su=function(e,t){return{get:function(){return Y3(this)[e]()},set:t&&function(r){return Y3(this)[t](r)},configurable:!0,enumerable:!0}};mG&&(ou(ys,"href",su("serialize","setHref")),ou(ys,"origin",su("getOrigin")),ou(ys,"protocol",su("getProtocol","setProtocol")),ou(ys,"username",su("getUsername","setUsername")),ou(ys,"password",su("getPassword","setPassword")),ou(ys,"host",su("getHost","setHost")),ou(ys,"hostname",su("getHostname","setHostname")),ou(ys,"port",su("getPort","setPort")),ou(ys,"pathname",su("getPathname","setPathname")),ou(ys,"search",su("getSearch","setSearch")),ou(ys,"searchParams",su("getSearchParams")),ou(ys,"hash",su("getHash","setHash")));Z3(ys,"toJSON",function(){return Y3(this).serialize()},{enumerable:!0});Z3(ys,"toString",function(){return Y3(this).serialize()},{enumerable:!0});pS&&(cG=pS.createObjectURL,pG=pS.revokeObjectURL,cG&&Z3(y1,"createObjectURL",o4e(cG,pS)),pG&&Z3(y1,"revokeObjectURL",o4e(pG,pS)));var cG,pG;UGt(y1,"URL");qGt({global:!0,constructor:!0,forced:!zGt,sham:!mG},{URL:y1})});var S4e=P(()=>{"use strict";p();w4e()});var T4e=P(()=>{"use strict";p();var hHt=ie(),mHt=Mr(),I4e=Mt(),gHt=Sl(),E4e=Lr(),vHt=sS(),_G=mHt("URL"),yHt=vHt&&I4e(function(){_G.canParse()}),_Ht=I4e(function(){return _G.canParse.length!==1});hHt({target:"URL",stat:!0,forced:!yHt||_Ht},{canParse:function(t){var r=gHt(arguments.length,1),n=E4e(t),i=r<2||arguments[1]===void 0?void 0:E4e(arguments[1]);try{return!!new _G(n,i)}catch(o){return!1}}})});var C4e=P(()=>{"use strict";p();var bHt=ie(),xHt=Mr(),wHt=Sl(),M4e=Lr(),SHt=sS(),EHt=xHt("URL");bHt({target:"URL",stat:!0,forced:!SHt},{parse:function(t){var r=wHt(arguments.length,1),n=M4e(t),i=r<2||arguments[1]===void 0?void 0:M4e(arguments[1]);try{return new EHt(n,i)}catch(o){return null}}})});var A4e=P(()=>{"use strict";p();var IHt=ie(),THt=Ht();IHt({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return THt(URL.prototype.toString,this)}})});var P4e=P(()=>{"use strict";p();Q$()});var N4e=P(()=>{"use strict";p();var MHt=Gn(),Q3=mt(),O4e=Lr(),CHt=Sl(),k4e=URLSearchParams,J3=k4e.prototype,AHt=Q3(J3.append),D4e=Q3(J3.delete),PHt=Q3(J3.forEach),OHt=Q3([].push),bG=new k4e("a=1&a=2&b=3");bG.delete("a",1);bG.delete("b",void 0);bG+""!="a=2"&&MHt(J3,"delete",function(e){var t=arguments.length,r=t<2?void 0:arguments[1];if(t&&r===void 0)return D4e(this,e);var n=[];PHt(this,function(T,A){OHt(n,{key:A,value:T})}),CHt(t,1);for(var i=O4e(e),o=O4e(r),u=0,d=0,g=!1,_=n.length,I;u<_;)I=n[u++],g||I.key===i?(g=!0,D4e(this,I.key)):d++;for(;d<_;)I=n[d++],I.key===i&&I.value===o||AHt(this,I.key,I.value)},{enumerable:!0,unsafe:!0})});var z4e=P(()=>{"use strict";p();var DHt=Gn(),L4e=mt(),kHt=Lr(),NHt=Sl(),q4e=URLSearchParams,xG=q4e.prototype,RHt=L4e(xG.getAll),LHt=L4e(xG.has),R4e=new q4e("a=1");(R4e.has("a",2)||!R4e.has("a",void 0))&&DHt(xG,"has",function(t){var r=arguments.length,n=r<2?void 0:arguments[1];if(r&&n===void 0)return LHt(this,t);var i=RHt(this,t);NHt(r,1);for(var o=kHt(n),u=0;u<i.length;)if(i[u++]===o)return!0;return!1},{enumerable:!0,unsafe:!0})});var j4e=P(()=>{"use strict";p();var qHt=hr(),zHt=mt(),jHt=_i(),wG=URLSearchParams.prototype,FHt=zHt(wG.forEach);qHt&&!("size"in wG)&&jHt(wG,"size",{get:function(){var t=0;return FHt(this,function(){t++}),t},configurable:!0,enumerable:!0})});var B4e=P((SZr,F4e)=>{"use strict";p();Lse();Vse();$se();Gse();Hse();Wse();Zse();Yse();Kse();Xse();Qse();Jse();ele();tle();rle();Cle();kle();O7();Jle();R7();sue();pue();due();gue();vue();_ue();xue();F7();B7();Tue();Mue();Pue();jue();Fue();Uue();Vue();Nw();cce();hce();mce();vce();_ce();Mce();Ace();Oce();Nce();Rce();Xce();epe();tpe();s9();u9();c9();ope();ape();spe();f9();zpe();Kpe();rfe();ife();D9();L9();j9();ez();tz();kfe();Rfe();zfe();jfe();Yfe();Kfe();tde();ode();sde();dde();gde();bde();lz();dz();yz();bz();wz();Ez();Pz();Dz();kz();MA();Lz();zz();Fz();Bz();g7();Qde();DA();Yz();bhe();She();Ihe();The();Mhe();Phe();Dhe();khe();Jz();Rhe();qhe();jhe();Fhe();Bhe();Uhe();Ghe();Zhe();Yhe();Khe();sme();lme();cme();fme();dme();hme();mme();gme();wme();Pme();Rme();Bme();$me();Yme();Kme();Jme();tge();nge();ige();cge();pge();fge();mge();gge();vge();_ge();_j();bj();wge();Ege();Tge();Cge();Pge();Oge();Dge();kge();zge();jge();Fge();Vge();$ge();Hge();Zge();sye();rF();nF();fye();sF();lF();mye();wye();Iye();Tye();Pye();Oye();Dye();kye();Nye();Rye();Lye();Bye();Vye();$ye();s0e();EF();m0e();r5();x0e();S0e();T0e();P0e();D0e();DF();RF();qF();jF();BF();$F();HF();u1e();d1e();y1e();ZF();w1e();YF();KF();L1e();nB();W1e();Z1e();Q1e();J1e();o_e();dB();c_e();m_e();y_e();x_e();bB();C_e();k_e();z_e();U_e();V_e();$_e();G_e();H_e();W_e();Z_e();Y_e();K_e();X_e();Q_e();J_e();ebe();Mbe();Cbe();Abe();Pbe();Obe();Dbe();kbe();Nbe();Rbe();RB();zbe();Fbe();Ube();Gbe();Wbe();Ybe();LB();qB();Jbe();exe();rxe();ixe();uxe();pxe();dxe();hxe();gxe();yxe();bxe();wxe();Cxe();Axe();Oxe();qxe();jxe();$xe();XB();QB();Hxe();eU();Xxe();O5();dwe();hwe();vwe();$we();Gwe();Hwe();Wwe();Zwe();Ywe();Xwe();Qwe();e2e();t2e();i2e();o2e();l2e();u2e();c2e();p2e();y2e();_2e();b2e();x2e();w2e();R2e();F2e();Q2e();rSe();iSe();oSe();sSe();lSe();hSe();mSe();vSe();ySe();_Se();bSe();xSe();ESe();ISe();DSe();zSe();FSe();BSe();USe();VSe();$Se();YSe();JSe();tEe();nEe();iEe();sEe();lEe();uEe();cEe();fEe();mEe();yEe();_Ee();bEe();xEe();wEe();SEe();EEe();IEe();TEe();MEe();AEe();PEe();OEe();DEe();kEe();REe();zEe();KEe();iIe();aIe();lIe();uIe();pIe();fIe();dIe();gIe();vIe();yIe();_Ie();wIe();EIe();IIe();MIe();AIe();PIe();kIe();NIe();RIe();qIe();jIe();FIe();GIe();HIe();WIe();YIe();KIe();XIe();QIe();JIe();eTe();tTe();rTe();aTe();sTe();fTe();dTe();gTe();vTe();yTe();wTe();STe();ETe();ITe();FTe();BTe();UTe();VTe();$Te();KTe();QTe();eMe();iMe();aMe();lMe();pMe();dMe();mMe();gMe();vMe();yMe();_Me();EMe();IMe();MMe();CMe();PMe();OMe();DMe();kMe();NMe();RMe();LMe();qMe();zMe();FMe();UMe();$Me();GMe();HMe();WMe();ZMe();YMe();KMe();XMe();rCe();sCe();MCe();CCe();ACe();PCe();OCe();DCe();kCe();NCe();LCe();qCe();$Ce();GCe();HCe();WCe();ZCe();YCe();KCe();XCe();JCe();eAe();rAe();iAe();oAe();aAe();sAe();lAe();uAe();cAe();pAe();fAe();EAe();AAe();OAe();DAe();NAe();RAe();qAe();jAe();BAe();VAe();$Ae();ZAe();YAe();QAe();JAe();t5e();n5e();c5e();m5e();w5e();M5e();j5e();H5e();Z5e();n3e();i3e();a3e();v3e();E3e();S4e();T4e();C4e();A4e();P4e();N4e();z4e();j4e();F4e.exports=zC()});var V4e=P((IZr,U4e)=>{"use strict";p();U4e.exports=B4e()});var sOe=P((lYr,aOe)=>{"use strict";p();var aQt="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";aOe.exports=aQt});var pOe=P((cYr,cOe)=>{"use strict";p();var sQt=sOe();function lOe(){}function uOe(){}uOe.resetWarningCache=lOe;cOe.exports=function(){function e(n,i,o,u,d,g){if(g!==sQt){var _=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw _.name="Invariant Violation",_}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:uOe,resetWarningCache:lOe};return r.PropTypes=r,r}});var Qt=P((hYr,fOe)=>{p();fOe.exports=pOe()();var fYr,dYr});var PS=P((fH,dH)=>{p();(function(e,t){typeof fH=="object"&&typeof dH!="undefined"?dH.exports=t():typeof define=="function"&&define.amd?define(t):(e=typeof globalThis!="undefined"?globalThis:e||self,e.maplibregl=t())})(fH,function(){"use strict";var e={},t={};function r(i,o,u){if(t[i]=u,i==="index"){var d="var sharedModule = {}; ("+t.shared+")(sharedModule); ("+t.worker+")(sharedModule);",g={};return t.shared(g),t.index(e,g),typeof window!="undefined"&&e.setWorkerUrl(window.URL.createObjectURL(new Blob([d],{type:"text/javascript"}))),e}}r("shared",["exports"],function(i){"use strict";function o(c,s,l,h){return new(l||(l=Promise))(function(v,S){function E(R){try{O(h.next(R))}catch(j){S(j)}}function C(R){try{O(h.throw(R))}catch(j){S(j)}}function O(R){var j;R.done?v(R.value):(j=R.value,j instanceof l?j:new l(function($){$(j)})).then(E,C)}O((h=h.apply(c,s||[])).next())})}function u(c,s){this.x=c,this.y=s}function d(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c}var g,_;typeof SuppressedError=="function"&&SuppressedError,u.prototype={clone(){return new u(this.x,this.y)},add(c){return this.clone()._add(c)},sub(c){return this.clone()._sub(c)},multByPoint(c){return this.clone()._multByPoint(c)},divByPoint(c){return this.clone()._divByPoint(c)},mult(c){return this.clone()._mult(c)},div(c){return this.clone()._div(c)},rotate(c){return this.clone()._rotate(c)},rotateAround(c,s){return this.clone()._rotateAround(c,s)},matMult(c){return this.clone()._matMult(c)},unit(){return this.clone()._unit()},perp(){return this.clone()._perp()},round(){return this.clone()._round()},mag(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals(c){return this.x===c.x&&this.y===c.y},dist(c){return Math.sqrt(this.distSqr(c))},distSqr(c){let s=c.x-this.x,l=c.y-this.y;return s*s+l*l},angle(){return Math.atan2(this.y,this.x)},angleTo(c){return Math.atan2(this.y-c.y,this.x-c.x)},angleWith(c){return this.angleWithSep(c.x,c.y)},angleWithSep(c,s){return Math.atan2(this.x*s-this.y*c,this.x*c+this.y*s)},_matMult(c){let s=c[2]*this.x+c[3]*this.y;return this.x=c[0]*this.x+c[1]*this.y,this.y=s,this},_add(c){return this.x+=c.x,this.y+=c.y,this},_sub(c){return this.x-=c.x,this.y-=c.y,this},_mult(c){return this.x*=c,this.y*=c,this},_div(c){return this.x/=c,this.y/=c,this},_multByPoint(c){return this.x*=c.x,this.y*=c.y,this},_divByPoint(c){return this.x/=c.x,this.y/=c.y,this},_unit(){return this._div(this.mag()),this},_perp(){let c=this.y;return this.y=this.x,this.x=-c,this},_rotate(c){let s=Math.cos(c),l=Math.sin(c),h=l*this.x+s*this.y;return this.x=s*this.x-l*this.y,this.y=h,this},_rotateAround(c,s){let l=Math.cos(c),h=Math.sin(c),v=s.y+h*(this.x-s.x)+l*(this.y-s.y);return this.x=s.x+l*(this.x-s.x)-h*(this.y-s.y),this.y=v,this},_round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},constructor:u},u.convert=function(c){if(c instanceof u)return c;if(Array.isArray(c))return new u(+c[0],+c[1]);if(c.x!==void 0&&c.y!==void 0)return new u(+c.x,+c.y);throw new Error("Expected [x, y] or {x, y} point format")};var I=function(){if(_)return g;function c(s,l,h,v){this.cx=3*s,this.bx=3*(h-s)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*l,this.by=3*(v-l)-this.cy,this.ay=1-this.cy-this.by,this.p1x=s,this.p1y=l,this.p2x=h,this.p2y=v}return _=1,g=c,c.prototype={sampleCurveX:function(s){return((this.ax*s+this.bx)*s+this.cx)*s},sampleCurveY:function(s){return((this.ay*s+this.by)*s+this.cy)*s},sampleCurveDerivativeX:function(s){return(3*this.ax*s+2*this.bx)*s+this.cx},solveCurveX:function(s,l){if(l===void 0&&(l=1e-6),s<0)return 0;if(s>1)return 1;for(var h=s,v=0;v<8;v++){var S=this.sampleCurveX(h)-s;if(Math.abs(S)<l)return h;var E=this.sampleCurveDerivativeX(h);if(Math.abs(E)<1e-6)break;h-=S/E}var C=0,O=1;for(h=s,v=0;v<20&&(S=this.sampleCurveX(h),!(Math.abs(S-s)<l));v++)s>S?C=h:O=h,h=.5*(O-C)+C;return h},solve:function(s,l){return this.sampleCurveY(this.solveCurveX(s,l))}},g}(),T=d(I);let A,q;function z(){return A==null&&(A=typeof OffscreenCanvas!="undefined"&&new OffscreenCanvas(1,1).getContext("2d")&&typeof createImageBitmap=="function"),A}function U(){if(q==null&&(q=!1,z())){let s=new OffscreenCanvas(5,5).getContext("2d",{willReadFrequently:!0});if(s){for(let h=0;h<5*5;h++){let v=4*h;s.fillStyle=`rgb(${v},${v+1},${v+2})`,s.fillRect(h%5,Math.floor(h/5),1,1)}let l=s.getImageData(0,0,5,5).data;for(let h=0;h<5*5*4;h++)if(h%4!=3&&l[h]!==h){q=!0;break}}}return q||!1}var N=1e-6,L=typeof Float32Array!="undefined"?Float32Array:Array;function F(){var c=new L(9);return L!=Float32Array&&(c[1]=0,c[2]=0,c[3]=0,c[5]=0,c[6]=0,c[7]=0),c[0]=1,c[4]=1,c[8]=1,c}function H(c){return c[0]=1,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=1,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[10]=1,c[11]=0,c[12]=0,c[13]=0,c[14]=0,c[15]=1,c}function Y(){var c=new L(3);return L!=Float32Array&&(c[0]=0,c[1]=0,c[2]=0),c}function te(c){var s=c[0],l=c[1],h=c[2];return Math.sqrt(s*s+l*l+h*h)}function oe(c,s,l){var h=new L(3);return h[0]=c,h[1]=s,h[2]=l,h}function ue(c,s,l){return c[0]=s[0]+l[0],c[1]=s[1]+l[1],c[2]=s[2]+l[2],c}function Ie(c,s,l){return c[0]=s[0]*l,c[1]=s[1]*l,c[2]=s[2]*l,c}function Ee(c,s,l){var h=s[0],v=s[1],S=s[2],E=l[0],C=l[1],O=l[2];return c[0]=v*O-S*C,c[1]=S*E-h*O,c[2]=h*C-v*E,c}var ve,xe=te;function Pe(c,s,l){var h=s[0],v=s[1],S=s[2],E=s[3];return c[0]=l[0]*h+l[4]*v+l[8]*S+l[12]*E,c[1]=l[1]*h+l[5]*v+l[9]*S+l[13]*E,c[2]=l[2]*h+l[6]*v+l[10]*S+l[14]*E,c[3]=l[3]*h+l[7]*v+l[11]*S+l[15]*E,c}function we(){var c=new L(4);return L!=Float32Array&&(c[0]=0,c[1]=0,c[2]=0),c[3]=1,c}function Oe(c,s,l,h){var v=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"zyx",S=Math.PI/360;s*=S,h*=S,l*=S;var E=Math.sin(s),C=Math.cos(s),O=Math.sin(l),R=Math.cos(l),j=Math.sin(h),$=Math.cos(h);switch(v){case"xyz":c[0]=E*R*$+C*O*j,c[1]=C*O*$-E*R*j,c[2]=C*R*j+E*O*$,c[3]=C*R*$-E*O*j;break;case"xzy":c[0]=E*R*$-C*O*j,c[1]=C*O*$-E*R*j,c[2]=C*R*j+E*O*$,c[3]=C*R*$+E*O*j;break;case"yxz":c[0]=E*R*$+C*O*j,c[1]=C*O*$-E*R*j,c[2]=C*R*j-E*O*$,c[3]=C*R*$+E*O*j;break;case"yzx":c[0]=E*R*$+C*O*j,c[1]=C*O*$+E*R*j,c[2]=C*R*j-E*O*$,c[3]=C*R*$-E*O*j;break;case"zxy":c[0]=E*R*$-C*O*j,c[1]=C*O*$+E*R*j,c[2]=C*R*j+E*O*$,c[3]=C*R*$-E*O*j;break;case"zyx":c[0]=E*R*$-C*O*j,c[1]=C*O*$+E*R*j,c[2]=C*R*j-E*O*$,c[3]=C*R*$+E*O*j;break;default:throw new Error("Unknown angle order "+v)}return c}function Xe(){var c=new L(2);return L!=Float32Array&&(c[0]=0,c[1]=0),c}function lt(c,s){var l=new L(2);return l[0]=c,l[1]=s,l}Y(),ve=new L(4),L!=Float32Array&&(ve[0]=0,ve[1]=0,ve[2]=0,ve[3]=0),Y(),oe(1,0,0),oe(0,1,0),we(),we(),F(),Xe();let pt=8192;function qe(c,s,l){return s*(pt/(c.tileSize*Math.pow(2,l-c.tileID.overscaledZ)))}function ut(c,s){return(c%s+s)%s}function bt(c,s,l){return c*(1-l)+s*l}function wt(c){if(c<=0)return 0;if(c>=1)return 1;let s=c*c,l=s*c;return 4*(c<.5?l:3*(c-s)+l-.75)}function Ge(c,s,l,h){let v=new T(c,s,l,h);return S=>v.solve(S)}let st=Ge(.25,.1,.25,1);function tt(c,s,l){return Math.min(l,Math.max(s,c))}function je(c,s,l){let h=l-s,v=((c-s)%h+h)%h+s;return v===s?l:v}function Me(c,...s){for(let l of s)for(let h in l)c[h]=l[h];return c}let $e=1;function ze(c,s,l){let h={};for(let v in c)h[v]=s.call(this,c[v],v,c);return h}function ot(c,s,l){let h={};for(let v in c)s.call(this,c[v],v,c)&&(h[v]=c[v]);return h}function it(c){return Array.isArray(c)?c.map(it):typeof c=="object"&&c?ze(c,it):c}let vt={};function ht(c){vt[c]||(typeof console!="undefined"&&console.warn(c),vt[c]=!0)}function It(c,s,l){return(l.y-c.y)*(s.x-c.x)>(s.y-c.y)*(l.x-c.x)}function Wt(c){return typeof WorkerGlobalScope!="undefined"&&c!==void 0&&c instanceof WorkerGlobalScope}let Et=null;function kt(c){return typeof ImageBitmap!="undefined"&&c instanceof ImageBitmap}let Xt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function yr(c,s,l,h,v){return o(this,void 0,void 0,function*(){if(typeof VideoFrame=="undefined")throw new Error("VideoFrame not supported");let S=new VideoFrame(c,{timestamp:0});try{let E=S==null?void 0:S.format;if(!E||!E.startsWith("BGR")&&!E.startsWith("RGB"))throw new Error(`Unrecognized format ${E}`);let C=E.startsWith("BGR"),O=new Uint8ClampedArray(h*v*4);if(yield S.copyTo(O,function(R,j,$,Z,X){let Q=4*Math.max(-j,0),re=(Math.max(0,$)-$)*Z*4+Q,le=4*Z,me=Math.max(0,j),Fe=Math.max(0,$);return{rect:{x:me,y:Fe,width:Math.min(R.width,j+Z)-me,height:Math.min(R.height,$+X)-Fe},layout:[{offset:re,stride:le}]}}(c,s,l,h,v)),C)for(let R=0;R<O.length;R+=4){let j=O[R];O[R]=O[R+2],O[R+2]=j}return O}finally{S.close()}})}let Pr,sr;function Sr(c,s,l,h){return c.addEventListener(s,l,h),{unsubscribe:()=>{c.removeEventListener(s,l,h)}}}function Or(c){return c*Math.PI/180}function Ur(c){return c/Math.PI*180}let er={touchstart:!0,touchmove:!0,touchmoveWindow:!0,touchend:!0,touchcancel:!0},Vr={dblclick:!0,click:!0,mouseover:!0,mouseout:!0,mousedown:!0,mousemove:!0,mousemoveWindow:!0,mouseup:!0,mouseupWindow:!0,contextmenu:!0,wheel:!0},xi="AbortError";function Le(){return new Error(xi)}let J={MAX_PARALLEL_IMAGE_REQUESTS:16,MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:8,MAX_TILE_CACHE_ZOOM_LEVELS:5,REGISTERED_PROTOCOLS:{},WORKER_URL:""};function ne(c){return J.REGISTERED_PROTOCOLS[c.substring(0,c.indexOf("://"))]}let ae="global-dispatcher";class _e extends Error{constructor(s,l,h,v){super(`AJAXError: ${l} (${s}): ${h}`),this.status=s,this.statusText=l,this.url=h,this.body=v}}let ke=()=>Wt(self)?self.worker&&self.worker.referrer:(window.location.protocol==="blob:"?window.parent:window).location.href,Be=function(c,s){if(/:\/\//.test(c.url)&&!/^https?:|^file:/.test(c.url)){let h=ne(c.url);if(h)return h(c,s);if(Wt(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"GR",data:c,targetMapId:ae},s)}if(!(/^file:/.test(l=c.url)||/^file:/.test(ke())&&!/^\w+:/.test(l))){if(fetch&&Request&&AbortController&&Object.prototype.hasOwnProperty.call(Request.prototype,"signal"))return function(h,v){return o(this,void 0,void 0,function*(){let S=new Request(h.url,{method:h.method||"GET",body:h.body,credentials:h.credentials,headers:h.headers,cache:h.cache,referrer:ke(),signal:v.signal}),E,C;h.type!=="json"||S.headers.has("Accept")||S.headers.set("Accept","application/json");try{E=yield fetch(S)}catch(R){throw new _e(0,R.message,h.url,new Blob())}if(!E.ok){let R=yield E.blob();throw new _e(E.status,E.statusText,h.url,R)}C=h.type==="arrayBuffer"||h.type==="image"?E.arrayBuffer():h.type==="json"?E.json():E.text();let O=yield C;if(v.signal.aborted)throw Le();return{data:O,cacheControl:E.headers.get("Cache-Control"),expires:E.headers.get("Expires")}})}(c,s);if(Wt(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"GR",data:c,mustQueue:!0,targetMapId:ae},s)}var l;return function(h,v){return new Promise((S,E)=>{var C;let O=new XMLHttpRequest;O.open(h.method||"GET",h.url,!0),h.type!=="arrayBuffer"&&h.type!=="image"||(O.responseType="arraybuffer");for(let R in h.headers)O.setRequestHeader(R,h.headers[R]);h.type==="json"&&(O.responseType="text",!((C=h.headers)===null||C===void 0)&&C.Accept||O.setRequestHeader("Accept","application/json")),O.withCredentials=h.credentials==="include",O.onerror=()=>{E(new Error(O.statusText))},O.onload=()=>{if(!v.signal.aborted)if((O.status>=200&&O.status<300||O.status===0)&&O.response!==null){let R=O.response;if(h.type==="json")try{R=JSON.parse(O.response)}catch(j){return void E(j)}S({data:R,cacheControl:O.getResponseHeader("Cache-Control"),expires:O.getResponseHeader("Expires")})}else{let R=new Blob([O.response],{type:O.getResponseHeader("Content-Type")});E(new _e(O.status,O.statusText,h.url,R))}},v.signal.addEventListener("abort",()=>{O.abort(),E(Le())}),O.send(h.body)})}(c,s)};function We(c){if(!c||c.indexOf("://")<=0||c.indexOf("data:image/")===0||c.indexOf("blob:")===0)return!0;let s=new URL(c),l=window.location;return s.protocol===l.protocol&&s.host===l.host}function Ue(c,s,l){l[c]&&l[c].indexOf(s)!==-1||(l[c]=l[c]||[],l[c].push(s))}function de(c,s,l){if(l&&l[c]){let h=l[c].indexOf(s);h!==-1&&l[c].splice(h,1)}}class he{constructor(s,l={}){Me(this,l),this.type=s}}class Re extends he{constructor(s,l={}){super("error",Me({error:s},l))}}class at{on(s,l){return this._listeners=this._listeners||{},Ue(s,l,this._listeners),{unsubscribe:()=>{this.off(s,l)}}}off(s,l){return de(s,l,this._listeners),de(s,l,this._oneTimeListeners),this}once(s,l){return l?(this._oneTimeListeners=this._oneTimeListeners||{},Ue(s,l,this._oneTimeListeners),this):new Promise(h=>this.once(s,h))}fire(s,l){typeof s=="string"&&(s=new he(s,l||{}));let h=s.type;if(this.listens(h)){s.target=this;let v=this._listeners&&this._listeners[h]?this._listeners[h].slice():[];for(let C of v)C.call(this,s);let S=this._oneTimeListeners&&this._oneTimeListeners[h]?this._oneTimeListeners[h].slice():[];for(let C of S)de(h,C,this._oneTimeListeners),C.call(this,s);let E=this._eventedParent;E&&(Me(s,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),E.fire(s))}else s instanceof Re&&console.error(s.error);return this}listens(s){return this._listeners&&this._listeners[s]&&this._listeners[s].length>0||this._oneTimeListeners&&this._oneTimeListeners[s]&&this._oneTimeListeners[s].length>0||this._eventedParent&&this._eventedParent.listens(s)}setEventedParent(s,l){return this._eventedParent=s,this._eventedParentData=l,this}}var ye={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},centerAltitude:{type:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},roll:{type:"number",default:0,units:"degrees"},state:{type:"state",default:{}},light:{type:"light"},sky:{type:"sky"},projection:{type:"projection"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"sprite"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{},custom:{}},default:"mapbox"},redFactor:{type:"number",default:1},blueFactor:{type:"number",default:1},greenFactor:{type:"number",default:1},baseShift:{type:"number",default:0},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{required:!0,type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},"color-relief":{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_color-relief","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{type:"variableAnchorOffsetCollection",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_color-relief":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},sky:{"sky-color":{type:"color","property-type":"data-constant",default:"#88C6FC",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-ground-blend":{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-fog-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"sky-horizon-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"atmosphere-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1}},projection:{type:{type:"projectionDefinition",default:"mercator","property-type":"data-constant",transition:!1,expression:{interpolated:!0,parameters:["zoom"]}}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_color-relief","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"numberArray",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-altitude":{type:"numberArray",default:45,minimum:0,maximum:90,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"colorArray",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"colorArray",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-method":{type:"enum",values:{standard:{},basic:{},combined:{},igor:{},multidirectional:{}},default:"standard",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},"paint_color-relief":{"color-relief-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"color-relief-color":{type:"color",transition:!1,expression:{interpolated:!0,parameters:["elevation"]},"property-type":"color-ramp"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};let yt=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function jt(c,s){let l={};for(let h in c)h!=="ref"&&(l[h]=c[h]);return yt.forEach(h=>{h in s&&(l[h]=s[h])}),l}function xt(c,s){if(Array.isArray(c)){if(!Array.isArray(s)||c.length!==s.length)return!1;for(let l=0;l<c.length;l++)if(!xt(c[l],s[l]))return!1;return!0}if(typeof c=="object"&&c!==null&&s!==null){if(typeof s!="object"||Object.keys(c).length!==Object.keys(s).length)return!1;for(let l in c)if(!xt(c[l],s[l]))return!1;return!0}return c===s}function Pt(c,s){c.push(s)}function ir(c,s,l){Pt(l,{command:"addSource",args:[c,s[c]]})}function $r(c,s,l){Pt(s,{command:"removeSource",args:[c]}),l[c]=!0}function xn(c,s,l,h){$r(c,l,h),ir(c,s,l)}function on(c,s,l){let h;for(h in c[l])if(Object.prototype.hasOwnProperty.call(c[l],h)&&h!=="data"&&!xt(c[l][h],s[l][h]))return!1;for(h in s[l])if(Object.prototype.hasOwnProperty.call(s[l],h)&&h!=="data"&&!xt(c[l][h],s[l][h]))return!1;return!0}function Er(c,s,l,h,v,S){c=c||{},s=s||{};for(let E in c)Object.prototype.hasOwnProperty.call(c,E)&&(xt(c[E],s[E])||l.push({command:S,args:[h,E,s[E],v]}));for(let E in s)Object.prototype.hasOwnProperty.call(s,E)&&!Object.prototype.hasOwnProperty.call(c,E)&&(xt(c[E],s[E])||l.push({command:S,args:[h,E,s[E],v]}))}function Dr(c){return c.id}function Qn(c,s){return c[s.id]=s,c}class St{constructor(s,l,h,v){this.message=(s?`${s}: `:"")+h,v&&(this.identifier=v),l!=null&&l.__line__&&(this.line=l.__line__)}}function Ai(c,...s){for(let l of s)for(let h in l)c[h]=l[h];return c}class Bn extends Error{constructor(s,l){super(l),this.message=l,this.key=s}}class Ic{constructor(s,l=[]){this.parent=s,this.bindings={};for(let[h,v]of l)this.bindings[h]=v}concat(s){return new Ic(this,s)}get(s){if(this.bindings[s])return this.bindings[s];if(this.parent)return this.parent.get(s);throw new Error(`${s} not found in scope.`)}has(s){return!!this.bindings[s]||!!this.parent&&this.parent.has(s)}}let od={kind:"null"},Bt={kind:"number"},en={kind:"string"},Gr={kind:"boolean"},Mo={kind:"color"},qp={kind:"projectionDefinition"},Tc={kind:"object"},jr={kind:"value"},Cv={kind:"collator"},Mc={kind:"formatted"},Av={kind:"padding"},ql={kind:"colorArray"},ad={kind:"numberArray"},Pi={kind:"resolvedImage"},Pv={kind:"variableAnchorOffsetCollection"};function Na(c,s){return{kind:"array",itemType:c,N:s}}function Hn(c){if(c.kind==="array"){let s=Hn(c.itemType);return typeof c.N=="number"?`array<${s}, ${c.N}>`:c.itemType.kind==="value"?"array":`array<${s}>`}return c.kind}let KI=[od,Bt,en,Gr,Mo,qp,Mc,Tc,Na(jr),Av,ad,ql,Pi,Pv];function hm(c,s){if(s.kind==="error")return null;if(c.kind==="array"){if(s.kind==="array"&&(s.N===0&&s.itemType.kind==="value"||!hm(c.itemType,s.itemType))&&(typeof c.N!="number"||c.N===s.N))return null}else{if(c.kind===s.kind)return null;if(c.kind==="value"){for(let l of KI)if(!hm(l,s))return null}}return`Expected ${Hn(c)} but found ${Hn(s)} instead.`}function eb(c,s){return s.some(l=>l.kind===c.kind)}function Cc(c,s){return s.some(l=>l==="null"?c===null:l==="array"?Array.isArray(c):l==="object"?c&&!Array.isArray(c)&&typeof c=="object":l===typeof c)}function Ac(c,s){return c.kind==="array"&&s.kind==="array"?c.itemType.kind===s.itemType.kind&&typeof c.N=="number":c.kind===s.kind}let tb=.96422,XI=.82521,QI=4/29,sd=6/29,JI=3*sd*sd,NR=sd*sd*sd,RR=Math.PI/180,LR=180/Math.PI;function rb(c){return(c%=360)<0&&(c+=360),c}function ld([c,s,l,h]){let v,S,E=ib((.2225045*(c=nb(c))+.7168786*(s=nb(s))+.0606169*(l=nb(l)))/1);c===s&&s===l?v=S=E:(v=ib((.4360747*c+.3850649*s+.1430804*l)/tb),S=ib((.0139322*c+.0971045*s+.7141733*l)/XI));let C=116*E-16;return[C<0?0:C,500*(v-E),200*(E-S),h]}function nb(c){return c<=.04045?c/12.92:Math.pow((c+.055)/1.055,2.4)}function ib(c){return c>NR?Math.pow(c,1/3):c/JI+QI}function ud([c,s,l,h]){let v=(c+16)/116,S=isNaN(s)?v:v+s/500,E=isNaN(l)?v:v-l/200;return v=1*ab(v),S=tb*ab(S),E=XI*ab(E),[ob(3.1338561*S-1.6168667*v-.4906146*E),ob(-.9787684*S+1.9161415*v+.033454*E),ob(.0719453*S-.2289914*v+1.4052427*E),h]}function ob(c){return(c=c<=.00304?12.92*c:1.055*Math.pow(c,1/2.4)-.055)<0?0:c>1?1:c}function ab(c){return c>sd?c*c*c:JI*(c-QI)}let qR=Object.hasOwn||function(c,s){return Object.prototype.hasOwnProperty.call(c,s)};function cd(c,s){return qR(c,s)?c[s]:void 0}function mm(c){return parseInt(c.padEnd(2,c),16)/255}function ol(c,s){return tn(s?c/100:c,0,1)}function tn(c,s,l){return Math.min(Math.max(s,c),l)}function zp(c){return!c.some(Number.isNaN)}let Pc={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};function Tu(c,s,l){return c+l*(s-c)}function jp(c,s,l){return c.map((h,v)=>Tu(h,s[v],l))}class rn{constructor(s,l,h,v=1,S=!0){this.r=s,this.g=l,this.b=h,this.a=v,S||(this.r*=v,this.g*=v,this.b*=v,v||this.overwriteGetter("rgb",[s,l,h,v]))}static parse(s){if(s instanceof rn)return s;if(typeof s!="string")return;let l=function(h){if((h=h.toLowerCase().trim())==="transparent")return[0,0,0,0];let v=cd(Pc,h);if(v){let[E,C,O]=v;return[E/255,C/255,O/255,1]}if(h.startsWith("#")&&/^#(?:[0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/.test(h)){let E=h.length<6?1:2,C=1;return[mm(h.slice(C,C+=E)),mm(h.slice(C,C+=E)),mm(h.slice(C,C+=E)),mm(h.slice(C,C+E)||"ff")]}if(h.startsWith("rgb")){let E=h.match(/^rgba?\(\s*([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(E){let[C,O,R,j,$,Z,X,Q,re,le,me,Fe]=E,Ce=[j||" ",X||" ",le].join("");if(Ce==="  "||Ce==="  /"||Ce===",,"||Ce===",,,"){let De=[R,Z,re].join(""),Ye=De==="%%%"?100:De===""?255:0;if(Ye){let nt=[tn(+O/Ye,0,1),tn(+$/Ye,0,1),tn(+Q/Ye,0,1),me?ol(+me,Fe):1];if(zp(nt))return nt}}return}}let S=h.match(/^hsla?\(\s*([\de.+-]+)(?:deg)?(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(S){let[E,C,O,R,j,$,Z,X,Q]=S,re=[O||" ",j||" ",Z].join("");if(re==="  "||re==="  /"||re===",,"||re===",,,"){let le=[+C,tn(+R,0,100),tn(+$,0,100),X?ol(+X,Q):1];if(zp(le))return function([me,Fe,Ce,De]){function Ye(nt){let _t=(nt+me/30)%12,zt=Fe*Math.min(Ce,1-Ce);return Ce-zt*Math.max(-1,Math.min(_t-3,9-_t,1))}return me=rb(me),Fe/=100,Ce/=100,[Ye(0),Ye(8),Ye(4),De]}(le)}}}(s);return l?new rn(...l,!1):void 0}get rgb(){let{r:s,g:l,b:h,a:v}=this,S=v||1/0;return this.overwriteGetter("rgb",[s/S,l/S,h/S,v])}get hcl(){return this.overwriteGetter("hcl",function(s){let[l,h,v,S]=ld(s),E=Math.sqrt(h*h+v*v);return[Math.round(1e4*E)?rb(Math.atan2(v,h)*LR):NaN,E,l,S]}(this.rgb))}get lab(){return this.overwriteGetter("lab",ld(this.rgb))}overwriteGetter(s,l){return Object.defineProperty(this,s,{value:l}),l}toString(){let[s,l,h,v]=this.rgb;return`rgba(${[s,l,h].map(S=>Math.round(255*S)).join(",")},${v})`}static interpolate(s,l,h,v="rgb"){switch(v){case"rgb":{let[S,E,C,O]=jp(s.rgb,l.rgb,h);return new rn(S,E,C,O,!1)}case"hcl":{let[S,E,C,O]=s.hcl,[R,j,$,Z]=l.hcl,X,Q;if(isNaN(S)||isNaN(R))isNaN(S)?isNaN(R)?X=NaN:(X=R,C!==1&&C!==0||(Q=j)):(X=S,$!==1&&$!==0||(Q=E));else{let Ce=R-S;R>S&&Ce>180?Ce-=360:R<S&&S-R>180&&(Ce+=360),X=S+h*Ce}let[re,le,me,Fe]=function([Ce,De,Ye,nt]){return Ce=isNaN(Ce)?0:Ce*RR,ud([Ye,Math.cos(Ce)*De,Math.sin(Ce)*De,nt])}([X,Q!=null?Q:Tu(E,j,h),Tu(C,$,h),Tu(O,Z,h)]);return new rn(re,le,me,Fe,!1)}case"lab":{let[S,E,C,O]=ud(jp(s.lab,l.lab,h));return new rn(S,E,C,O,!1)}}}}rn.black=new rn(0,0,0,1),rn.white=new rn(1,1,1,1),rn.transparent=new rn(0,0,0,0),rn.red=new rn(1,0,0,1);class Fp{constructor(s,l,h){this.sensitivity=s?l?"variant":"case":l?"accent":"base",this.locale=h,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(s,l){return this.collator.compare(s,l)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}let Ov=["bottom","center","top"];class Dv{constructor(s,l,h,v,S,E){this.text=s,this.image=l,this.scale=h,this.fontStack=v,this.textColor=S,this.verticalAlign=E}}class ea{constructor(s){this.sections=s}static fromString(s){return new ea([new Dv(s,null,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(s=>s.text.length!==0||s.image&&s.image.name.length!==0)}static factory(s){return s instanceof ea?s:ea.fromString(s)}toString(){return this.sections.length===0?"":this.sections.map(s=>s.text).join("")}}class po{constructor(s){this.values=s.slice()}static parse(s){if(s instanceof po)return s;if(typeof s=="number")return new po([s,s,s,s]);if(Array.isArray(s)&&!(s.length<1||s.length>4)){for(let l of s)if(typeof l!="number")return;switch(s.length){case 1:s=[s[0],s[0],s[0],s[0]];break;case 2:s=[s[0],s[1],s[0],s[1]];break;case 3:s=[s[0],s[1],s[2],s[1]]}return new po(s)}}toString(){return JSON.stringify(this.values)}static interpolate(s,l,h){return new po(jp(s.values,l.values,h))}}class ta{constructor(s){this.values=s.slice()}static parse(s){if(s instanceof ta)return s;if(typeof s=="number")return new ta([s]);if(Array.isArray(s)){for(let l of s)if(typeof l!="number")return;return new ta(s)}}toString(){return JSON.stringify(this.values)}static interpolate(s,l,h){return new ta(jp(s.values,l.values,h))}}class Ui{constructor(s){this.values=s.slice()}static parse(s){if(s instanceof Ui)return s;if(typeof s=="string"){let h=rn.parse(s);return h?new Ui([h]):void 0}if(!Array.isArray(s))return;let l=[];for(let h of s){if(typeof h!="string")return;let v=rn.parse(h);if(!v)return;l.push(v)}return new Ui(l)}toString(){return JSON.stringify(this.values)}static interpolate(s,l,h,v="rgb"){let S=[];if(s.values.length!=l.values.length)throw new Error(`colorArray: Arrays have mismatched length (${s.values.length} vs. ${l.values.length}), cannot interpolate.`);for(let E=0;E<s.values.length;E++)S.push(rn.interpolate(s.values[E],l.values[E],h,v));return new Ui(S)}}class Wn extends Error{constructor(s){super(s),this.name="RuntimeError"}toJSON(){return this.message}}let eT=new Set(["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"]);class ra{constructor(s){this.values=s.slice()}static parse(s){if(s instanceof ra)return s;if(Array.isArray(s)&&!(s.length<1)&&s.length%2==0){for(let l=0;l<s.length;l+=2){let h=s[l],v=s[l+1];if(typeof h!="string"||!eT.has(h)||!Array.isArray(v)||v.length!==2||typeof v[0]!="number"||typeof v[1]!="number")return}return new ra(s)}}toString(){return JSON.stringify(this.values)}static interpolate(s,l,h){let v=s.values,S=l.values;if(v.length!==S.length)throw new Wn(`Cannot interpolate values of different length. from: ${s.toString()}, to: ${l.toString()}`);let E=[];for(let C=0;C<v.length;C+=2){if(v[C]!==S[C])throw new Wn(`Cannot interpolate values containing mismatched anchors. from[${C}]: ${v[C]}, to[${C}]: ${S[C]}`);E.push(v[C]);let[O,R]=v[C+1],[j,$]=S[C+1];E.push([Tu(O,j,h),Tu(R,$,h)])}return new ra(E)}}class as{constructor(s){this.name=s.name,this.available=s.available}toString(){return this.name}static fromString(s){return s?new as({name:s,available:!1}):null}}class jo{constructor(s,l,h){this.from=s,this.to=l,this.transition=h}static interpolate(s,l,h){return new jo(s,l,h)}static parse(s){return s instanceof jo?s:Array.isArray(s)&&s.length===3&&typeof s[0]=="string"&&typeof s[1]=="string"&&typeof s[2]=="number"?new jo(s[0],s[1],s[2]):typeof s=="object"&&typeof s.from=="string"&&typeof s.to=="string"&&typeof s.transition=="number"?new jo(s.from,s.to,s.transition):typeof s=="string"?new jo(s,s,1):void 0}}function si(c,s,l,h){return typeof c=="number"&&c>=0&&c<=255&&typeof s=="number"&&s>=0&&s<=255&&typeof l=="number"&&l>=0&&l<=255?h===void 0||typeof h=="number"&&h>=0&&h<=1?null:`Invalid rgba value [${[c,s,l,h].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof h=="number"?[c,s,l,h]:[c,s,l]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function Bp(c){if(c===null||typeof c=="string"||typeof c=="boolean"||typeof c=="number"||c instanceof jo||c instanceof rn||c instanceof Fp||c instanceof ea||c instanceof po||c instanceof ta||c instanceof Ui||c instanceof ra||c instanceof as)return!0;if(Array.isArray(c)){for(let s of c)if(!Bp(s))return!1;return!0}if(typeof c=="object"){for(let s in c)if(!Bp(c[s]))return!1;return!0}return!1}function _r(c){if(c===null)return od;if(typeof c=="string")return en;if(typeof c=="boolean")return Gr;if(typeof c=="number")return Bt;if(c instanceof rn)return Mo;if(c instanceof jo)return qp;if(c instanceof Fp)return Cv;if(c instanceof ea)return Mc;if(c instanceof po)return Av;if(c instanceof ta)return ad;if(c instanceof Ui)return ql;if(c instanceof ra)return Pv;if(c instanceof as)return Pi;if(Array.isArray(c)){let s=c.length,l;for(let h of c){let v=_r(h);if(l){if(l===v)continue;l=jr;break}l=v}return Na(l||jr,s)}return Tc}function Rr(c){let s=typeof c;return c===null?"":s==="string"||s==="number"||s==="boolean"?String(c):c instanceof rn||c instanceof jo||c instanceof ea||c instanceof po||c instanceof ta||c instanceof Ui||c instanceof ra||c instanceof as?c.toString():JSON.stringify(c)}class Mu{constructor(s,l){this.type=s,this.value=l}static parse(s,l){if(s.length!==2)return l.error(`'literal' expression requires exactly one argument, but found ${s.length-1} instead.`);if(!Bp(s[1]))return l.error("invalid value");let h=s[1],v=_r(h),S=l.expectedType;return v.kind!=="array"||v.N!==0||!S||S.kind!=="array"||typeof S.N=="number"&&S.N!==0||(v=S),new Mu(v,h)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}}let hn={string:en,number:Bt,boolean:Gr,object:Tc};class ss{constructor(s,l){this.type=s,this.args=l}static parse(s,l){if(s.length<2)return l.error("Expected at least one argument.");let h,v=1,S=s[0];if(S==="array"){let C,O;if(s.length>2){let R=s[1];if(typeof R!="string"||!(R in hn)||R==="object")return l.error("The item type argument of \"array\" must be one of string, number, boolean",1);C=hn[R],v++}else C=jr;if(s.length>3){if(s[2]!==null&&(typeof s[2]!="number"||s[2]<0||s[2]!==Math.floor(s[2])))return l.error("The length argument to \"array\" must be a positive integer literal",2);O=s[2],v++}h=Na(C,O)}else{if(!hn[S])throw new Error(`Types doesn't contain name = ${S}`);h=hn[S]}let E=[];for(;v<s.length;v++){let C=l.parse(s[v],v,jr);if(!C)return null;E.push(C)}return new ss(h,E)}evaluate(s){for(let l=0;l<this.args.length;l++){let h=this.args[l].evaluate(s);if(!hm(this.type,_r(h)))return h;if(l===this.args.length-1)throw new Wn(`Expected value to be of type ${Hn(this.type)}, but found ${Hn(_r(h))} instead.`)}throw new Error}eachChild(s){this.args.forEach(s)}outputDefined(){return this.args.every(s=>s.outputDefined())}}let zl={"to-boolean":Gr,"to-color":Mo,"to-number":Bt,"to-string":en};class jl{constructor(s,l){this.type=s,this.args=l}static parse(s,l){if(s.length<2)return l.error("Expected at least one argument.");let h=s[0];if(!zl[h])throw new Error(`Can't parse ${h} as it is not part of the known types`);if((h==="to-boolean"||h==="to-string")&&s.length!==2)return l.error("Expected one argument.");let v=zl[h],S=[];for(let E=1;E<s.length;E++){let C=l.parse(s[E],E,jr);if(!C)return null;S.push(C)}return new jl(v,S)}evaluate(s){switch(this.type.kind){case"boolean":return!!this.args[0].evaluate(s);case"color":{let l,h;for(let v of this.args){if(l=v.evaluate(s),h=null,l instanceof rn)return l;if(typeof l=="string"){let S=s.parseColor(l);if(S)return S}else if(Array.isArray(l)&&(h=l.length<3||l.length>4?`Invalid rgba value ${JSON.stringify(l)}: expected an array containing either three or four numeric values.`:si(l[0],l[1],l[2],l[3]),!h))return new rn(l[0]/255,l[1]/255,l[2]/255,l[3])}throw new Wn(h||`Could not parse color from value '${typeof l=="string"?l:JSON.stringify(l)}'`)}case"padding":{let l;for(let h of this.args){l=h.evaluate(s);let v=po.parse(l);if(v)return v}throw new Wn(`Could not parse padding from value '${typeof l=="string"?l:JSON.stringify(l)}'`)}case"numberArray":{let l;for(let h of this.args){l=h.evaluate(s);let v=ta.parse(l);if(v)return v}throw new Wn(`Could not parse numberArray from value '${typeof l=="string"?l:JSON.stringify(l)}'`)}case"colorArray":{let l;for(let h of this.args){l=h.evaluate(s);let v=Ui.parse(l);if(v)return v}throw new Wn(`Could not parse colorArray from value '${typeof l=="string"?l:JSON.stringify(l)}'`)}case"variableAnchorOffsetCollection":{let l;for(let h of this.args){l=h.evaluate(s);let v=ra.parse(l);if(v)return v}throw new Wn(`Could not parse variableAnchorOffsetCollection from value '${typeof l=="string"?l:JSON.stringify(l)}'`)}case"number":{let l=null;for(let h of this.args){if(l=h.evaluate(s),l===null)return 0;let v=Number(l);if(!isNaN(v))return v}throw new Wn(`Could not convert ${JSON.stringify(l)} to number.`)}case"formatted":return ea.fromString(Rr(this.args[0].evaluate(s)));case"resolvedImage":return as.fromString(Rr(this.args[0].evaluate(s)));case"projectionDefinition":return this.args[0].evaluate(s);default:return Rr(this.args[0].evaluate(s))}}eachChild(s){this.args.forEach(s)}outputDefined(){return this.args.every(s=>s.outputDefined())}}let kv=["Unknown","Point","LineString","Polygon"];class sb{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache=new Map,this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?kv[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(s){let l=this._parseColorCache.get(s);return l||(l=rn.parse(s),this._parseColorCache.set(s,l)),l}}class pd{constructor(s,l,h=[],v,S=new Ic,E=[]){this.registry=s,this.path=h,this.key=h.map(C=>`[${C}]`).join(""),this.scope=S,this.errors=E,this.expectedType=v,this._isConstant=l}parse(s,l,h,v,S={}){return l?this.concat(l,h,v)._parse(s,S):this._parse(s,S)}_parse(s,l){function h(v,S,E){return E==="assert"?new ss(S,[v]):E==="coerce"?new jl(S,[v]):v}if(s!==null&&typeof s!="string"&&typeof s!="boolean"&&typeof s!="number"||(s=["literal",s]),Array.isArray(s)){if(s.length===0)return this.error("Expected an array with at least one element. If you wanted a literal array, use [\"literal\", []].");let v=s[0];if(typeof v!="string")return this.error(`Expression name must be a string, but found ${typeof v} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;let S=this.registry[v];if(S){let E=S.parse(s,this);if(!E)return null;if(this.expectedType){let C=this.expectedType,O=E.type;if(C.kind!=="string"&&C.kind!=="number"&&C.kind!=="boolean"&&C.kind!=="object"&&C.kind!=="array"||O.kind!=="value"){if(C.kind==="projectionDefinition"&&["string","array"].includes(O.kind)||["color","formatted","resolvedImage"].includes(C.kind)&&["value","string"].includes(O.kind)||["padding","numberArray"].includes(C.kind)&&["value","number","array"].includes(O.kind)||C.kind==="colorArray"&&["value","string","array"].includes(O.kind)||C.kind==="variableAnchorOffsetCollection"&&["value","array"].includes(O.kind))E=h(E,C,l.typeAnnotation||"coerce");else if(this.checkSubtype(C,O))return null}else E=h(E,C,l.typeAnnotation||"assert")}if(!(E instanceof Mu)&&E.type.kind!=="resolvedImage"&&this._isConstant(E)){let C=new sb;try{E=new Mu(E.type,E.evaluate(C))}catch(O){return this.error(O.message),null}}return E}return this.error(`Unknown expression "${v}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(s===void 0?"'undefined' value invalid. Use null instead.":typeof s=="object"?"Bare objects invalid. Use [\"literal\", {...}] instead.":`Expected an array, but found ${typeof s} instead.`)}concat(s,l,h){let v=typeof s=="number"?this.path.concat(s):this.path,S=h?this.scope.concat(h):this.scope;return new pd(this.registry,this._isConstant,v,l||null,S,this.errors)}error(s,...l){let h=`${this.key}${l.map(v=>`[${v}]`).join("")}`;this.errors.push(new Bn(h,s))}checkSubtype(s,l){let h=hm(s,l);return h&&this.error(h),h}}class gm{constructor(s,l){this.type=l.type,this.bindings=[].concat(s),this.result=l}evaluate(s){return this.result.evaluate(s)}eachChild(s){for(let l of this.bindings)s(l[1]);s(this.result)}static parse(s,l){if(s.length<4)return l.error(`Expected at least 3 arguments, but found ${s.length-1} instead.`);let h=[];for(let S=1;S<s.length-1;S+=2){let E=s[S];if(typeof E!="string")return l.error(`Expected string, but found ${typeof E} instead.`,S);if(/[^a-zA-Z0-9_]/.test(E))return l.error("Variable names must contain only alphanumeric characters or '_'.",S);let C=l.parse(s[S+1],S+1);if(!C)return null;h.push([E,C])}let v=l.parse(s[s.length-1],s.length-1,l.expectedType,h);return v?new gm(h,v):null}outputDefined(){return this.result.outputDefined()}}class Nv{constructor(s,l){this.type=l.type,this.name=s,this.boundExpression=l}static parse(s,l){if(s.length!==2||typeof s[1]!="string")return l.error("'var' expression requires exactly one string literal argument.");let h=s[1];return l.scope.has(h)?new Nv(h,l.scope.get(h)):l.error(`Unknown variable "${h}". Make sure "${h}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(s){return this.boundExpression.evaluate(s)}eachChild(){}outputDefined(){return!1}}class Rv{constructor(s,l,h){this.type=s,this.index=l,this.input=h}static parse(s,l){if(s.length!==3)return l.error(`Expected 2 arguments, but found ${s.length-1} instead.`);let h=l.parse(s[1],1,Bt),v=l.parse(s[2],2,Na(l.expectedType||jr));return h&&v?new Rv(v.type.itemType,h,v):null}evaluate(s){let l=this.index.evaluate(s),h=this.input.evaluate(s);if(l<0)throw new Wn(`Array index out of bounds: ${l} < 0.`);if(l>=h.length)throw new Wn(`Array index out of bounds: ${l} > ${h.length-1}.`);if(l!==Math.floor(l))throw new Wn(`Array index must be an integer, but found ${l} instead.`);return h[l]}eachChild(s){s(this.index),s(this.input)}outputDefined(){return!1}}class Lv{constructor(s,l){this.type=Gr,this.needle=s,this.haystack=l}static parse(s,l){if(s.length!==3)return l.error(`Expected 2 arguments, but found ${s.length-1} instead.`);let h=l.parse(s[1],1,jr),v=l.parse(s[2],2,jr);return h&&v?eb(h.type,[Gr,en,Bt,od,jr])?new Lv(h,v):l.error(`Expected first argument to be of type boolean, string, number or null, but found ${Hn(h.type)} instead`):null}evaluate(s){let l=this.needle.evaluate(s),h=this.haystack.evaluate(s);if(!h)return!1;if(!Cc(l,["boolean","string","number","null"]))throw new Wn(`Expected first argument to be of type boolean, string, number or null, but found ${Hn(_r(l))} instead.`);if(!Cc(h,["string","array"]))throw new Wn(`Expected second argument to be of type array or string, but found ${Hn(_r(h))} instead.`);return h.indexOf(l)>=0}eachChild(s){s(this.needle),s(this.haystack)}outputDefined(){return!0}}class al{constructor(s,l,h){this.type=Bt,this.needle=s,this.haystack=l,this.fromIndex=h}static parse(s,l){if(s.length<=2||s.length>=5)return l.error(`Expected 3 or 4 arguments, but found ${s.length-1} instead.`);let h=l.parse(s[1],1,jr),v=l.parse(s[2],2,jr);if(!h||!v)return null;if(!eb(h.type,[Gr,en,Bt,od,jr]))return l.error(`Expected first argument to be of type boolean, string, number or null, but found ${Hn(h.type)} instead`);if(s.length===4){let S=l.parse(s[3],3,Bt);return S?new al(h,v,S):null}return new al(h,v)}evaluate(s){let l=this.needle.evaluate(s),h=this.haystack.evaluate(s);if(!Cc(l,["boolean","string","number","null"]))throw new Wn(`Expected first argument to be of type boolean, string, number or null, but found ${Hn(_r(l))} instead.`);let v;if(this.fromIndex&&(v=this.fromIndex.evaluate(s)),Cc(h,["string"])){let S=h.indexOf(l,v);return S===-1?-1:[...h.slice(0,S)].length}if(Cc(h,["array"]))return h.indexOf(l,v);throw new Wn(`Expected second argument to be of type array or string, but found ${Hn(_r(h))} instead.`)}eachChild(s){s(this.needle),s(this.haystack),this.fromIndex&&s(this.fromIndex)}outputDefined(){return!1}}class fo{constructor(s,l,h,v,S,E){this.inputType=s,this.type=l,this.input=h,this.cases=v,this.outputs=S,this.otherwise=E}static parse(s,l){if(s.length<5)return l.error(`Expected at least 4 arguments, but found only ${s.length-1}.`);if(s.length%2!=1)return l.error("Expected an even number of arguments.");let h,v;l.expectedType&&l.expectedType.kind!=="value"&&(v=l.expectedType);let S={},E=[];for(let R=2;R<s.length-1;R+=2){let j=s[R],$=s[R+1];Array.isArray(j)||(j=[j]);let Z=l.concat(R);if(j.length===0)return Z.error("Expected at least one branch label.");for(let Q of j){if(typeof Q!="number"&&typeof Q!="string")return Z.error("Branch labels must be numbers or strings.");if(typeof Q=="number"&&Math.abs(Q)>Number.MAX_SAFE_INTEGER)return Z.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof Q=="number"&&Math.floor(Q)!==Q)return Z.error("Numeric branch labels must be integer values.");if(h){if(Z.checkSubtype(h,_r(Q)))return null}else h=_r(Q);if(S[String(Q)]!==void 0)return Z.error("Branch labels must be unique.");S[String(Q)]=E.length}let X=l.parse($,R,v);if(!X)return null;v=v||X.type,E.push(X)}let C=l.parse(s[1],1,jr);if(!C)return null;let O=l.parse(s[s.length-1],s.length-1,v);return O?C.type.kind!=="value"&&l.concat(1).checkSubtype(h,C.type)?null:new fo(h,v,C,S,E,O):null}evaluate(s){let l=this.input.evaluate(s);return(_r(l)===this.inputType&&this.outputs[this.cases[l]]||this.otherwise).evaluate(s)}eachChild(s){s(this.input),this.outputs.forEach(s),s(this.otherwise)}outputDefined(){return this.outputs.every(s=>s.outputDefined())&&this.otherwise.outputDefined()}}class fd{constructor(s,l,h){this.type=s,this.branches=l,this.otherwise=h}static parse(s,l){if(s.length<4)return l.error(`Expected at least 3 arguments, but found only ${s.length-1}.`);if(s.length%2!=0)return l.error("Expected an odd number of arguments.");let h;l.expectedType&&l.expectedType.kind!=="value"&&(h=l.expectedType);let v=[];for(let E=1;E<s.length-1;E+=2){let C=l.parse(s[E],E,Gr);if(!C)return null;let O=l.parse(s[E+1],E+1,h);if(!O)return null;v.push([C,O]),h=h||O.type}let S=l.parse(s[s.length-1],s.length-1,h);if(!S)return null;if(!h)throw new Error("Can't infer output type");return new fd(h,v,S)}evaluate(s){for(let[l,h]of this.branches)if(l.evaluate(s))return h.evaluate(s);return this.otherwise.evaluate(s)}eachChild(s){for(let[l,h]of this.branches)s(l),s(h);s(this.otherwise)}outputDefined(){return this.branches.every(([s,l])=>l.outputDefined())&&this.otherwise.outputDefined()}}class vm{constructor(s,l,h,v){this.type=s,this.input=l,this.beginIndex=h,this.endIndex=v}static parse(s,l){if(s.length<=2||s.length>=5)return l.error(`Expected 3 or 4 arguments, but found ${s.length-1} instead.`);let h=l.parse(s[1],1,jr),v=l.parse(s[2],2,Bt);if(!h||!v)return null;if(!eb(h.type,[Na(jr),en,jr]))return l.error(`Expected first argument to be of type array or string, but found ${Hn(h.type)} instead`);if(s.length===4){let S=l.parse(s[3],3,Bt);return S?new vm(h.type,h,v,S):null}return new vm(h.type,h,v)}evaluate(s){let l=this.input.evaluate(s),h=this.beginIndex.evaluate(s),v;if(this.endIndex&&(v=this.endIndex.evaluate(s)),Cc(l,["string"]))return[...l].slice(h,v).join("");if(Cc(l,["array"]))return l.slice(h,v);throw new Wn(`Expected first argument to be of type array or string, but found ${Hn(_r(l))} instead.`)}eachChild(s){s(this.input),s(this.beginIndex),this.endIndex&&s(this.endIndex)}outputDefined(){return!1}}function Up(c,s){let l=c.length-1,h,v,S=0,E=l,C=0;for(;S<=E;)if(C=Math.floor((S+E)/2),h=c[C],v=c[C+1],h<=s){if(C===l||s<v)return C;S=C+1}else{if(!(h>s))throw new Wn("Input is not a number.");E=C-1}return 0}class Oi{constructor(s,l,h){this.type=s,this.input=l,this.labels=[],this.outputs=[];for(let[v,S]of h)this.labels.push(v),this.outputs.push(S)}static parse(s,l){if(s.length-1<4)return l.error(`Expected at least 4 arguments, but found only ${s.length-1}.`);if((s.length-1)%2!=0)return l.error("Expected an even number of arguments.");let h=l.parse(s[1],1,Bt);if(!h)return null;let v=[],S=null;l.expectedType&&l.expectedType.kind!=="value"&&(S=l.expectedType);for(let E=1;E<s.length;E+=2){let C=E===1?-1/0:s[E],O=s[E+1],R=E,j=E+1;if(typeof C!="number")return l.error("Input/output pairs for \"step\" expressions must be defined using literal numeric values (not computed expressions) for the input values.",R);if(v.length&&v[v.length-1][0]>=C)return l.error("Input/output pairs for \"step\" expressions must be arranged with input values in strictly ascending order.",R);let $=l.parse(O,j,S);if(!$)return null;S=S||$.type,v.push([C,$])}return new Oi(S,h,v)}evaluate(s){let l=this.labels,h=this.outputs;if(l.length===1)return h[0].evaluate(s);let v=this.input.evaluate(s);if(v<=l[0])return h[0].evaluate(s);let S=l.length;return v>=l[S-1]?h[S-1].evaluate(s):h[Up(l,v)].evaluate(s)}eachChild(s){s(this.input);for(let l of this.outputs)s(l)}outputDefined(){return this.outputs.every(s=>s.outputDefined())}}function tT(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c}var ym,lb,zR=function(){if(lb)return ym;function c(s,l,h,v){this.cx=3*s,this.bx=3*(h-s)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*l,this.by=3*(v-l)-this.cy,this.ay=1-this.cy-this.by,this.p1x=s,this.p1y=l,this.p2x=h,this.p2y=v}return lb=1,ym=c,c.prototype={sampleCurveX:function(s){return((this.ax*s+this.bx)*s+this.cx)*s},sampleCurveY:function(s){return((this.ay*s+this.by)*s+this.cy)*s},sampleCurveDerivativeX:function(s){return(3*this.ax*s+2*this.bx)*s+this.cx},solveCurveX:function(s,l){if(l===void 0&&(l=1e-6),s<0)return 0;if(s>1)return 1;for(var h=s,v=0;v<8;v++){var S=this.sampleCurveX(h)-s;if(Math.abs(S)<l)return h;var E=this.sampleCurveDerivativeX(h);if(Math.abs(E)<1e-6)break;h-=S/E}var C=0,O=1;for(h=s,v=0;v<20&&(S=this.sampleCurveX(h),!(Math.abs(S-s)<l));v++)s>S?C=h:O=h,h=.5*(O-C)+C;return h},solve:function(s,l){return this.sampleCurveY(this.solveCurveX(s,l))}},ym}(),dd=tT(zR);class Co{constructor(s,l,h,v,S){this.type=s,this.operator=l,this.interpolation=h,this.input=v,this.labels=[],this.outputs=[];for(let[E,C]of S)this.labels.push(E),this.outputs.push(C)}static interpolationFactor(s,l,h,v){let S=0;if(s.name==="exponential")S=_m(l,s.base,h,v);else if(s.name==="linear")S=_m(l,1,h,v);else if(s.name==="cubic-bezier"){let E=s.controlPoints;S=new dd(E[0],E[1],E[2],E[3]).solve(_m(l,1,h,v))}return S}static parse(s,l){let[h,v,S,...E]=s;if(!Array.isArray(v)||v.length===0)return l.error("Expected an interpolation type expression.",1);if(v[0]==="linear")v={name:"linear"};else if(v[0]==="exponential"){let R=v[1];if(typeof R!="number")return l.error("Exponential interpolation requires a numeric base.",1,1);v={name:"exponential",base:R}}else{if(v[0]!=="cubic-bezier")return l.error(`Unknown interpolation type ${String(v[0])}`,1,0);{let R=v.slice(1);if(R.length!==4||R.some(j=>typeof j!="number"||j<0||j>1))return l.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);v={name:"cubic-bezier",controlPoints:R}}}if(s.length-1<4)return l.error(`Expected at least 4 arguments, but found only ${s.length-1}.`);if((s.length-1)%2!=0)return l.error("Expected an even number of arguments.");if(S=l.parse(S,2,Bt),!S)return null;let C=[],O=null;h!=="interpolate-hcl"&&h!=="interpolate-lab"||l.expectedType==ql?l.expectedType&&l.expectedType.kind!=="value"&&(O=l.expectedType):O=Mo;for(let R=0;R<E.length;R+=2){let j=E[R],$=E[R+1],Z=R+3,X=R+4;if(typeof j!="number")return l.error("Input/output pairs for \"interpolate\" expressions must be defined using literal numeric values (not computed expressions) for the input values.",Z);if(C.length&&C[C.length-1][0]>=j)return l.error("Input/output pairs for \"interpolate\" expressions must be arranged with input values in strictly ascending order.",Z);let Q=l.parse($,X,O);if(!Q)return null;O=O||Q.type,C.push([j,Q])}return Ac(O,Bt)||Ac(O,qp)||Ac(O,Mo)||Ac(O,Av)||Ac(O,ad)||Ac(O,ql)||Ac(O,Pv)||Ac(O,Na(Bt))?new Co(O,h,v,S,C):l.error(`Type ${Hn(O)} is not interpolatable.`)}evaluate(s){let l=this.labels,h=this.outputs;if(l.length===1)return h[0].evaluate(s);let v=this.input.evaluate(s);if(v<=l[0])return h[0].evaluate(s);let S=l.length;if(v>=l[S-1])return h[S-1].evaluate(s);let E=Up(l,v),C=Co.interpolationFactor(this.interpolation,v,l[E],l[E+1]),O=h[E].evaluate(s),R=h[E+1].evaluate(s);switch(this.operator){case"interpolate":switch(this.type.kind){case"number":return Tu(O,R,C);case"color":return rn.interpolate(O,R,C);case"padding":return po.interpolate(O,R,C);case"colorArray":return Ui.interpolate(O,R,C);case"numberArray":return ta.interpolate(O,R,C);case"variableAnchorOffsetCollection":return ra.interpolate(O,R,C);case"array":return jp(O,R,C);case"projectionDefinition":return jo.interpolate(O,R,C)}case"interpolate-hcl":switch(this.type.kind){case"color":return rn.interpolate(O,R,C,"hcl");case"colorArray":return Ui.interpolate(O,R,C,"hcl")}case"interpolate-lab":switch(this.type.kind){case"color":return rn.interpolate(O,R,C,"lab");case"colorArray":return Ui.interpolate(O,R,C,"lab")}}}eachChild(s){s(this.input);for(let l of this.outputs)s(l)}outputDefined(){return this.outputs.every(s=>s.outputDefined())}}function _m(c,s,l,h){let v=h-l,S=c-l;return v===0?0:s===1?S/v:(Math.pow(s,S)-1)/(Math.pow(s,v)-1)}let Fl={color:rn.interpolate,number:Tu,padding:po.interpolate,numberArray:ta.interpolate,colorArray:Ui.interpolate,variableAnchorOffsetCollection:ra.interpolate,array:jp};class bm{constructor(s,l){this.type=s,this.args=l}static parse(s,l){if(s.length<2)return l.error("Expected at least one argument.");let h=null,v=l.expectedType;v&&v.kind!=="value"&&(h=v);let S=[];for(let C of s.slice(1)){let O=l.parse(C,1+S.length,h,void 0,{typeAnnotation:"omit"});if(!O)return null;h=h||O.type,S.push(O)}if(!h)throw new Error("No output type");let E=v&&S.some(C=>hm(v,C.type));return new bm(E?jr:h,S)}evaluate(s){let l,h=null,v=0;for(let S of this.args)if(v++,h=S.evaluate(s),h&&h instanceof as&&!h.available&&(l||(l=h.name),h=null,v===this.args.length&&(h=l)),h!==null)break;return h}eachChild(s){this.args.forEach(s)}outputDefined(){return this.args.every(s=>s.outputDefined())}}function xm(c,s){return c==="=="||c==="!="?s.kind==="boolean"||s.kind==="string"||s.kind==="number"||s.kind==="null"||s.kind==="value":s.kind==="string"||s.kind==="number"||s.kind==="value"}function wm(c,s,l,h){return h.compare(s,l)===0}function Fo(c,s,l){let h=c!=="=="&&c!=="!=";return class hOe{constructor(S,E,C){this.type=Gr,this.lhs=S,this.rhs=E,this.collator=C,this.hasUntypedArgument=S.type.kind==="value"||E.type.kind==="value"}static parse(S,E){if(S.length!==3&&S.length!==4)return E.error("Expected two or three arguments.");let C=S[0],O=E.parse(S[1],1,jr);if(!O)return null;if(!xm(C,O.type))return E.concat(1).error(`"${C}" comparisons are not supported for type '${Hn(O.type)}'.`);let R=E.parse(S[2],2,jr);if(!R)return null;if(!xm(C,R.type))return E.concat(2).error(`"${C}" comparisons are not supported for type '${Hn(R.type)}'.`);if(O.type.kind!==R.type.kind&&O.type.kind!=="value"&&R.type.kind!=="value")return E.error(`Cannot compare types '${Hn(O.type)}' and '${Hn(R.type)}'.`);h&&(O.type.kind==="value"&&R.type.kind!=="value"?O=new ss(R.type,[O]):O.type.kind!=="value"&&R.type.kind==="value"&&(R=new ss(O.type,[R])));let j=null;if(S.length===4){if(O.type.kind!=="string"&&R.type.kind!=="string"&&O.type.kind!=="value"&&R.type.kind!=="value")return E.error("Cannot use collator to compare non-string types.");if(j=E.parse(S[3],3,Cv),!j)return null}return new hOe(O,R,j)}evaluate(S){let E=this.lhs.evaluate(S),C=this.rhs.evaluate(S);if(h&&this.hasUntypedArgument){let O=_r(E),R=_r(C);if(O.kind!==R.kind||O.kind!=="string"&&O.kind!=="number")throw new Wn(`Expected arguments for "${c}" to be (string, string) or (number, number), but found (${O.kind}, ${R.kind}) instead.`)}if(this.collator&&!h&&this.hasUntypedArgument){let O=_r(E),R=_r(C);if(O.kind!=="string"||R.kind!=="string")return s(S,E,C)}return this.collator?l(S,E,C,this.collator.evaluate(S)):s(S,E,C)}eachChild(S){S(this.lhs),S(this.rhs),this.collator&&S(this.collator)}outputDefined(){return!0}}}let rT=Fo("==",function(c,s,l){return s===l},wm),qv=Fo("!=",function(c,s,l){return s!==l},function(c,s,l,h){return!wm(0,s,l,h)}),jR=Fo("<",function(c,s,l){return s<l},function(c,s,l,h){return h.compare(s,l)<0}),ub=Fo(">",function(c,s,l){return s>l},function(c,s,l,h){return h.compare(s,l)>0}),FR=Fo("<=",function(c,s,l){return s<=l},function(c,s,l,h){return h.compare(s,l)<=0}),BR=Fo(">=",function(c,s,l){return s>=l},function(c,s,l,h){return h.compare(s,l)>=0});class zv{constructor(s,l,h){this.type=Cv,this.locale=h,this.caseSensitive=s,this.diacriticSensitive=l}static parse(s,l){if(s.length!==2)return l.error("Expected one argument.");let h=s[1];if(typeof h!="object"||Array.isArray(h))return l.error("Collator options argument must be an object.");let v=l.parse(h["case-sensitive"]!==void 0&&h["case-sensitive"],1,Gr);if(!v)return null;let S=l.parse(h["diacritic-sensitive"]!==void 0&&h["diacritic-sensitive"],1,Gr);if(!S)return null;let E=null;return h.locale&&(E=l.parse(h.locale,1,en),!E)?null:new zv(v,S,E)}evaluate(s){return new Fp(this.caseSensitive.evaluate(s),this.diacriticSensitive.evaluate(s),this.locale?this.locale.evaluate(s):null)}eachChild(s){s(this.caseSensitive),s(this.diacriticSensitive),this.locale&&s(this.locale)}outputDefined(){return!1}}class cb{constructor(s,l,h,v,S){this.type=en,this.number=s,this.locale=l,this.currency=h,this.minFractionDigits=v,this.maxFractionDigits=S}static parse(s,l){if(s.length!==3)return l.error("Expected two arguments.");let h=l.parse(s[1],1,Bt);if(!h)return null;let v=s[2];if(typeof v!="object"||Array.isArray(v))return l.error("NumberFormat options argument must be an object.");let S=null;if(v.locale&&(S=l.parse(v.locale,1,en),!S))return null;let E=null;if(v.currency&&(E=l.parse(v.currency,1,en),!E))return null;let C=null;if(v["min-fraction-digits"]&&(C=l.parse(v["min-fraction-digits"],1,Bt),!C))return null;let O=null;return v["max-fraction-digits"]&&(O=l.parse(v["max-fraction-digits"],1,Bt),!O)?null:new cb(h,S,E,C,O)}evaluate(s){return new Intl.NumberFormat(this.locale?this.locale.evaluate(s):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(s):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(s):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(s):void 0}).format(this.number.evaluate(s))}eachChild(s){s(this.number),this.locale&&s(this.locale),this.currency&&s(this.currency),this.minFractionDigits&&s(this.minFractionDigits),this.maxFractionDigits&&s(this.maxFractionDigits)}outputDefined(){return!1}}class Vp{constructor(s){this.type=Mc,this.sections=s}static parse(s,l){if(s.length<2)return l.error("Expected at least one argument.");let h=s[1];if(!Array.isArray(h)&&typeof h=="object")return l.error("First argument must be an image or text section.");let v=[],S=!1;for(let E=1;E<=s.length-1;++E){let C=s[E];if(S&&typeof C=="object"&&!Array.isArray(C)){S=!1;let O=null;if(C["font-scale"]&&(O=l.parse(C["font-scale"],1,Bt),!O))return null;let R=null;if(C["text-font"]&&(R=l.parse(C["text-font"],1,Na(en)),!R))return null;let j=null;if(C["text-color"]&&(j=l.parse(C["text-color"],1,Mo),!j))return null;let $=null;if(C["vertical-align"]){if(typeof C["vertical-align"]=="string"&&!Ov.includes(C["vertical-align"]))return l.error(`'vertical-align' must be one of: 'bottom', 'center', 'top' but found '${C["vertical-align"]}' instead.`);if($=l.parse(C["vertical-align"],1,en),!$)return null}let Z=v[v.length-1];Z.scale=O,Z.font=R,Z.textColor=j,Z.verticalAlign=$}else{let O=l.parse(s[E],1,jr);if(!O)return null;let R=O.type.kind;if(R!=="string"&&R!=="value"&&R!=="null"&&R!=="resolvedImage")return l.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");S=!0,v.push({content:O,scale:null,font:null,textColor:null,verticalAlign:null})}}return new Vp(v)}evaluate(s){return new ea(this.sections.map(l=>{let h=l.content.evaluate(s);return _r(h)===Pi?new Dv("",h,null,null,null,l.verticalAlign?l.verticalAlign.evaluate(s):null):new Dv(Rr(h),null,l.scale?l.scale.evaluate(s):null,l.font?l.font.evaluate(s).join(","):null,l.textColor?l.textColor.evaluate(s):null,l.verticalAlign?l.verticalAlign.evaluate(s):null)}))}eachChild(s){for(let l of this.sections)s(l.content),l.scale&&s(l.scale),l.font&&s(l.font),l.textColor&&s(l.textColor),l.verticalAlign&&s(l.verticalAlign)}outputDefined(){return!1}}class pb{constructor(s){this.type=Pi,this.input=s}static parse(s,l){if(s.length!==2)return l.error("Expected two arguments.");let h=l.parse(s[1],1,en);return h?new pb(h):l.error("No image name provided.")}evaluate(s){let l=this.input.evaluate(s),h=as.fromString(l);return h&&s.availableImages&&(h.available=s.availableImages.indexOf(l)>-1),h}eachChild(s){s(this.input)}outputDefined(){return!1}}class jv{constructor(s){this.type=Bt,this.input=s}static parse(s,l){if(s.length!==2)return l.error(`Expected 1 argument, but found ${s.length-1} instead.`);let h=l.parse(s[1],1);return h?h.type.kind!=="array"&&h.type.kind!=="string"&&h.type.kind!=="value"?l.error(`Expected argument of type string or array, but found ${Hn(h.type)} instead.`):new jv(h):null}evaluate(s){let l=this.input.evaluate(s);if(typeof l=="string")return[...l].length;if(Array.isArray(l))return l.length;throw new Wn(`Expected value to be of type string or array, but found ${Hn(_r(l))} instead.`)}eachChild(s){s(this.input)}outputDefined(){return!1}}let sl=8192;function UR(c,s){let l=(180+c[0])/360,h=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+c[1]*Math.PI/360)))/360,v=Math.pow(2,s.z);return[Math.round(l*v*sl),Math.round(h*v*sl)]}function Fv(c,s){let l=Math.pow(2,s.z);return[(v=(c[0]/sl+s.x)/l,360*v-180),(h=(c[1]/sl+s.y)/l,360/Math.PI*Math.atan(Math.exp((180-360*h)*Math.PI/180))-90)];var h,v}function Sm(c,s){c[0]=Math.min(c[0],s[0]),c[1]=Math.min(c[1],s[1]),c[2]=Math.max(c[2],s[0]),c[3]=Math.max(c[3],s[1])}function Em(c,s){return!(c[0]<=s[0]||c[2]>=s[2]||c[1]<=s[1]||c[3]>=s[3])}function VR(c,s,l){let h=c[0]-s[0],v=c[1]-s[1],S=c[0]-l[0],E=c[1]-l[1];return h*E-S*v==0&&h*S<=0&&v*E<=0}function Bv(c,s,l,h){return(v=[h[0]-l[0],h[1]-l[1]])[0]*(S=[s[0]-c[0],s[1]-c[1]])[1]-v[1]*S[0]!=0&&!(!iT(c,s,l,h)||!iT(l,h,c,s));var v,S}function $R(c,s,l){for(let h of l)for(let v=0;v<h.length-1;++v)if(Bv(c,s,h[v],h[v+1]))return!0;return!1}function $p(c,s,l=!1){let h=!1;for(let C of s)for(let O=0;O<C.length-1;O++){if(VR(c,C[O],C[O+1]))return l;(S=C[O])[1]>(v=c)[1]!=(E=C[O+1])[1]>v[1]&&v[0]<(E[0]-S[0])*(v[1]-S[1])/(E[1]-S[1])+S[0]&&(h=!h)}var v,S,E;return h}function nT(c,s){for(let l of s)if($p(c,l))return!0;return!1}function fb(c,s){for(let l of c)if(!$p(l,s))return!1;for(let l=0;l<c.length-1;++l)if($R(c[l],c[l+1],s))return!1;return!0}function GR(c,s){for(let l of s)if(fb(c,l))return!0;return!1}function iT(c,s,l,h){let v=h[0]-l[0],S=h[1]-l[1],E=(c[0]-l[0])*S-v*(c[1]-l[1]),C=(s[0]-l[0])*S-v*(s[1]-l[1]);return E>0&&C<0||E<0&&C>0}function db(c,s,l){let h=[];for(let v=0;v<c.length;v++){let S=[];for(let E=0;E<c[v].length;E++){let C=UR(c[v][E],l);Sm(s,C),S.push(C)}h.push(S)}return h}function oT(c,s,l){let h=[];for(let v=0;v<c.length;v++){let S=db(c[v],s,l);h.push(S)}return h}function Uv(c,s,l,h){if(c[0]<l[0]||c[0]>l[2]){let v=.5*h,S=c[0]-l[0]>v?-h:l[0]-c[0]>v?h:0;S===0&&(S=c[0]-l[2]>v?-h:l[2]-c[0]>v?h:0),c[0]+=S}Sm(s,c)}function aT(c,s,l,h){let v=Math.pow(2,h.z)*sl,S=[h.x*sl,h.y*sl],E=[];for(let C of c)for(let O of C){let R=[O.x+S[0],O.y+S[1]];Uv(R,s,l,v),E.push(R)}return E}function sT(c,s,l,h){let v=Math.pow(2,h.z)*sl,S=[h.x*sl,h.y*sl],E=[];for(let O of c){let R=[];for(let j of O){let $=[j.x+S[0],j.y+S[1]];Sm(s,$),R.push($)}E.push(R)}if(s[2]-s[0]<=v/2){(C=s)[0]=C[1]=1/0,C[2]=C[3]=-1/0;for(let O of E)for(let R of O)Uv(R,s,l,v)}var C;return E}class Gp{constructor(s,l){this.type=Gr,this.geojson=s,this.geometries=l}static parse(s,l){if(s.length!==2)return l.error(`'within' expression requires exactly one argument, but found ${s.length-1} instead.`);if(Bp(s[1])){let h=s[1];if(h.type==="FeatureCollection"){let v=[];for(let S of h.features){let{type:E,coordinates:C}=S.geometry;E==="Polygon"&&v.push(C),E==="MultiPolygon"&&v.push(...C)}if(v.length)return new Gp(h,{type:"MultiPolygon",coordinates:v})}else if(h.type==="Feature"){let v=h.geometry.type;if(v==="Polygon"||v==="MultiPolygon")return new Gp(h,h.geometry)}else if(h.type==="Polygon"||h.type==="MultiPolygon")return new Gp(h,h)}return l.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(s){if(s.geometry()!=null&&s.canonicalID()!=null){if(s.geometryType()==="Point")return function(l,h){let v=[1/0,1/0,-1/0,-1/0],S=[1/0,1/0,-1/0,-1/0],E=l.canonicalID();if(h.type==="Polygon"){let C=db(h.coordinates,S,E),O=aT(l.geometry(),v,S,E);if(!Em(v,S))return!1;for(let R of O)if(!$p(R,C))return!1}if(h.type==="MultiPolygon"){let C=oT(h.coordinates,S,E),O=aT(l.geometry(),v,S,E);if(!Em(v,S))return!1;for(let R of O)if(!nT(R,C))return!1}return!0}(s,this.geometries);if(s.geometryType()==="LineString")return function(l,h){let v=[1/0,1/0,-1/0,-1/0],S=[1/0,1/0,-1/0,-1/0],E=l.canonicalID();if(h.type==="Polygon"){let C=db(h.coordinates,S,E),O=sT(l.geometry(),v,S,E);if(!Em(v,S))return!1;for(let R of O)if(!fb(R,C))return!1}if(h.type==="MultiPolygon"){let C=oT(h.coordinates,S,E),O=sT(l.geometry(),v,S,E);if(!Em(v,S))return!1;for(let R of O)if(!GR(R,C))return!1}return!0}(s,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}}let hb=class{constructor(c=[],s=(l,h)=>l<h?-1:l>h?1:0){if(this.data=c,this.length=this.data.length,this.compare=s,this.length>0)for(let l=(this.length>>1)-1;l>=0;l--)this._down(l)}push(c){this.data.push(c),this._up(this.length++)}pop(){if(this.length===0)return;let c=this.data[0],s=this.data.pop();return--this.length>0&&(this.data[0]=s,this._down(0)),c}peek(){return this.data[0]}_up(c){let{data:s,compare:l}=this,h=s[c];for(;c>0;){let v=c-1>>1,S=s[v];if(l(h,S)>=0)break;s[c]=S,c=v}s[c]=h}_down(c){let{data:s,compare:l}=this,h=this.length>>1,v=s[c];for(;c<h;){let S=1+(c<<1),E=S+1;if(E<this.length&&l(s[E],s[S])<0&&(S=E),l(s[S],v)>=0)break;s[c]=s[S],c=S}s[c]=v}};function mb(c,s,l=0,h=c.length-1,v=HR){for(;h>l;){if(h-l>600){let O=h-l+1,R=s-l+1,j=Math.log(O),$=.5*Math.exp(2*j/3),Z=.5*Math.sqrt(j*$*(O-$)/O)*(R-O/2<0?-1:1);mb(c,s,Math.max(l,Math.floor(s-R*$/O+Z)),Math.min(h,Math.floor(s+(O-R)*$/O+Z)),v)}let S=c[s],E=l,C=h;for(Im(c,l,s),v(c[h],S)>0&&Im(c,l,h);E<C;){for(Im(c,E,C),E++,C--;v(c[E],S)<0;)E++;for(;v(c[C],S)>0;)C--}v(c[l],S)===0?Im(c,l,C):(C++,Im(c,C,h)),C<=s&&(l=C+1),s<=C&&(h=C-1)}}function Im(c,s,l){let h=c[s];c[s]=c[l],c[l]=h}function HR(c,s){return c<s?-1:c>s?1:0}function Tm(c,s){if(c.length<=1)return[c];let l=[],h,v;for(let S of c){let E=WR(S);E!==0&&(S.area=Math.abs(E),v===void 0&&(v=E<0),v===E<0?(h&&l.push(h),h=[S]):h.push(S))}if(h&&l.push(h),s>1)for(let S=0;S<l.length;S++)l[S].length<=s||(mb(l[S],s,1,l[S].length-1,lT),l[S]=l[S].slice(0,s));return l}function lT(c,s){return s.area-c.area}function WR(c){let s=0;for(let l,h,v=0,S=c.length,E=S-1;v<S;E=v++)l=c[v],h=c[E],s+=(h.x-l.x)*(l.y+h.y);return s}let uT=1/298.257223563,cT=uT*(2-uT),gb=Math.PI/180;class vb{constructor(s){let l=6378.137*gb*1e3,h=Math.cos(s*gb),v=1/(1-cT*(1-h*h)),S=Math.sqrt(v);this.kx=l*S*h,this.ky=l*S*v*(1-cT)}distance(s,l){let h=this.wrap(s[0]-l[0])*this.kx,v=(s[1]-l[1])*this.ky;return Math.sqrt(h*h+v*v)}pointOnLine(s,l){let h,v,S,E,C=1/0;for(let O=0;O<s.length-1;O++){let R=s[O][0],j=s[O][1],$=this.wrap(s[O+1][0]-R)*this.kx,Z=(s[O+1][1]-j)*this.ky,X=0;$===0&&Z===0||(X=(this.wrap(l[0]-R)*this.kx*$+(l[1]-j)*this.ky*Z)/($*$+Z*Z),X>1?(R=s[O+1][0],j=s[O+1][1]):X>0&&(R+=$/this.kx*X,j+=Z/this.ky*X)),$=this.wrap(l[0]-R)*this.kx,Z=(l[1]-j)*this.ky;let Q=$*$+Z*Z;Q<C&&(C=Q,h=R,v=j,S=O,E=X)}return{point:[h,v],index:S,t:Math.max(0,Math.min(1,E))}}wrap(s){for(;s<-180;)s+=360;for(;s>180;)s-=360;return s}}function pT(c,s){return s[0]-c[0]}function Vv(c){return c[1]-c[0]+1}function Cu(c,s){return c[1]>=c[0]&&c[1]<s}function wn(c,s){if(c[0]>c[1])return[null,null];let l=Vv(c);if(s){if(l===2)return[c,null];let v=Math.floor(l/2);return[[c[0],c[0]+v],[c[0]+v,c[1]]]}if(l===1)return[c,null];let h=Math.floor(l/2)-1;return[[c[0],c[0]+h],[c[0]+h+1,c[1]]]}function yb(c,s){if(!Cu(s,c.length))return[1/0,1/0,-1/0,-1/0];let l=[1/0,1/0,-1/0,-1/0];for(let h=s[0];h<=s[1];++h)Sm(l,c[h]);return l}function _b(c){let s=[1/0,1/0,-1/0,-1/0];for(let l of c)for(let h of l)Sm(s,h);return s}function fT(c){return c[0]!==-1/0&&c[1]!==-1/0&&c[2]!==1/0&&c[3]!==1/0}function bb(c,s,l){if(!fT(c)||!fT(s))return NaN;let h=0,v=0;return c[2]<s[0]&&(h=s[0]-c[2]),c[0]>s[2]&&(h=c[0]-s[2]),c[1]>s[3]&&(v=c[1]-s[3]),c[3]<s[1]&&(v=s[1]-c[3]),l.distance([0,0],[h,v])}function Hp(c,s,l){let h=l.pointOnLine(s,c);return l.distance(c,h.point)}function xb(c,s,l,h,v){let S=Math.min(Hp(c,[l,h],v),Hp(s,[l,h],v)),E=Math.min(Hp(l,[c,s],v),Hp(h,[c,s],v));return Math.min(S,E)}function ZR(c,s,l,h,v){if(!Cu(s,c.length)||!Cu(h,l.length))return 1/0;let S=1/0;for(let E=s[0];E<s[1];++E){let C=c[E],O=c[E+1];for(let R=h[0];R<h[1];++R){let j=l[R],$=l[R+1];if(Bv(C,O,j,$))return 0;S=Math.min(S,xb(C,O,j,$,v))}}return S}function YR(c,s,l,h,v){if(!Cu(s,c.length)||!Cu(h,l.length))return NaN;let S=1/0;for(let E=s[0];E<=s[1];++E)for(let C=h[0];C<=h[1];++C)if(S=Math.min(S,v.distance(c[E],l[C])),S===0)return S;return S}function KR(c,s,l){if($p(c,s,!0))return 0;let h=1/0;for(let v of s){let S=v[0],E=v[v.length-1];if(S!==E&&(h=Math.min(h,Hp(c,[E,S],l)),h===0))return h;let C=l.pointOnLine(v,c);if(h=Math.min(h,l.distance(c,C.point)),h===0)return h}return h}function XR(c,s,l,h){if(!Cu(s,c.length))return NaN;for(let S=s[0];S<=s[1];++S)if($p(c[S],l,!0))return 0;let v=1/0;for(let S=s[0];S<s[1];++S){let E=c[S],C=c[S+1];for(let O of l)for(let R=0,j=O.length,$=j-1;R<j;$=R++){let Z=O[$],X=O[R];if(Bv(E,C,Z,X))return 0;v=Math.min(v,xb(E,C,Z,X,h))}}return v}function dT(c,s){for(let l of c)for(let h of l)if($p(h,s,!0))return!0;return!1}function QR(c,s,l,h=1/0){let v=_b(c),S=_b(s);if(h!==1/0&&bb(v,S,l)>=h)return h;if(Em(v,S)){if(dT(c,s))return 0}else if(dT(s,c))return 0;let E=1/0;for(let C of c)for(let O=0,R=C.length,j=R-1;O<R;j=O++){let $=C[j],Z=C[O];for(let X of s)for(let Q=0,re=X.length,le=re-1;Q<re;le=Q++){let me=X[le],Fe=X[Q];if(Bv($,Z,me,Fe))return 0;E=Math.min(E,xb($,Z,me,Fe,l))}}return E}function hT(c,s,l,h,v,S){if(!S)return;let E=bb(yb(h,S),v,l);E<s&&c.push([E,S,[0,0]])}function $v(c,s,l,h,v,S,E){if(!S||!E)return;let C=bb(yb(h,S),yb(v,E),l);C<s&&c.push([C,S,E])}function Gv(c,s,l,h,v=1/0){let S=Math.min(h.distance(c[0],l[0][0]),v);if(S===0)return S;let E=new hb([[0,[0,c.length-1],[0,0]]],pT),C=_b(l);for(;E.length>0;){let O=E.pop();if(O[0]>=S)continue;let R=O[1],j=s?50:100;if(Vv(R)<=j){if(!Cu(R,c.length))return NaN;if(s){let $=XR(c,R,l,h);if(isNaN($)||$===0)return $;S=Math.min(S,$)}else for(let $=R[0];$<=R[1];++$){let Z=KR(c[$],l,h);if(S=Math.min(S,Z),S===0)return 0}}else{let $=wn(R,s);hT(E,S,h,c,C,$[0]),hT(E,S,h,c,C,$[1])}}return S}function Hv(c,s,l,h,v,S=1/0){let E=Math.min(S,v.distance(c[0],l[0]));if(E===0)return E;let C=new hb([[0,[0,c.length-1],[0,l.length-1]]],pT);for(;C.length>0;){let O=C.pop();if(O[0]>=E)continue;let R=O[1],j=O[2],$=s?50:100,Z=h?50:100;if(Vv(R)<=$&&Vv(j)<=Z){if(!Cu(R,c.length)&&Cu(j,l.length))return NaN;let X;if(s&&h)X=ZR(c,R,l,j,v),E=Math.min(E,X);else if(s&&!h){let Q=c.slice(R[0],R[1]+1);for(let re=j[0];re<=j[1];++re)if(X=Hp(l[re],Q,v),E=Math.min(E,X),E===0)return E}else if(!s&&h){let Q=l.slice(j[0],j[1]+1);for(let re=R[0];re<=R[1];++re)if(X=Hp(c[re],Q,v),E=Math.min(E,X),E===0)return E}else X=YR(c,R,l,j,v),E=Math.min(E,X)}else{let X=wn(R,s),Q=wn(j,h);$v(C,E,v,c,l,X[0],Q[0]),$v(C,E,v,c,l,X[0],Q[1]),$v(C,E,v,c,l,X[1],Q[0]),$v(C,E,v,c,l,X[1],Q[1])}}return E}function wb(c){return c.type==="MultiPolygon"?c.coordinates.map(s=>({type:"Polygon",coordinates:s})):c.type==="MultiLineString"?c.coordinates.map(s=>({type:"LineString",coordinates:s})):c.type==="MultiPoint"?c.coordinates.map(s=>({type:"Point",coordinates:s})):[c]}class Wp{constructor(s,l){this.type=Bt,this.geojson=s,this.geometries=l}static parse(s,l){if(s.length!==2)return l.error(`'distance' expression requires exactly one argument, but found ${s.length-1} instead.`);if(Bp(s[1])){let h=s[1];if(h.type==="FeatureCollection")return new Wp(h,h.features.map(v=>wb(v.geometry)).flat());if(h.type==="Feature")return new Wp(h,wb(h.geometry));if("type"in h&&"coordinates"in h)return new Wp(h,wb(h))}return l.error("'distance' expression requires valid geojson object that contains polygon geometry type.")}evaluate(s){if(s.geometry()!=null&&s.canonicalID()!=null){if(s.geometryType()==="Point")return function(l,h){let v=l.geometry(),S=v.flat().map(O=>Fv([O.x,O.y],l.canonical));if(v.length===0)return NaN;let E=new vb(S[0][1]),C=1/0;for(let O of h){switch(O.type){case"Point":C=Math.min(C,Hv(S,!1,[O.coordinates],!1,E,C));break;case"LineString":C=Math.min(C,Hv(S,!1,O.coordinates,!0,E,C));break;case"Polygon":C=Math.min(C,Gv(S,!1,O.coordinates,E,C))}if(C===0)return C}return C}(s,this.geometries);if(s.geometryType()==="LineString")return function(l,h){let v=l.geometry(),S=v.flat().map(O=>Fv([O.x,O.y],l.canonical));if(v.length===0)return NaN;let E=new vb(S[0][1]),C=1/0;for(let O of h){switch(O.type){case"Point":C=Math.min(C,Hv(S,!0,[O.coordinates],!1,E,C));break;case"LineString":C=Math.min(C,Hv(S,!0,O.coordinates,!0,E,C));break;case"Polygon":C=Math.min(C,Gv(S,!0,O.coordinates,E,C))}if(C===0)return C}return C}(s,this.geometries);if(s.geometryType()==="Polygon")return function(l,h){let v=l.geometry();if(v.length===0||v[0].length===0)return NaN;let S=Tm(v,0).map(O=>O.map(R=>R.map(j=>Fv([j.x,j.y],l.canonical)))),E=new vb(S[0][0][0][1]),C=1/0;for(let O of h)for(let R of S){switch(O.type){case"Point":C=Math.min(C,Gv([O.coordinates],!1,R,E,C));break;case"LineString":C=Math.min(C,Gv(O.coordinates,!0,R,E,C));break;case"Polygon":C=Math.min(C,QR(R,O.coordinates,E,C))}if(C===0)return C}return C}(s,this.geometries)}return NaN}eachChild(){}outputDefined(){return!0}}class Mm{constructor(s){this.type=jr,this.key=s}static parse(s,l){if(s.length!==2)return l.error(`Expected 1 argument, but found ${s.length-1} instead.`);let h=s[1];return h==null?l.error("Global state property must be defined."):typeof h!="string"?l.error(`Global state property must be string, but found ${typeof s[1]} instead.`):new Mm(h)}evaluate(s){var l;let h=(l=s.globals)===null||l===void 0?void 0:l.globalState;return h&&Object.keys(h).length!==0?cd(h,this.key):null}eachChild(){}outputDefined(){return!1}}let hd={"==":rT,"!=":qv,">":ub,"<":jR,">=":BR,"<=":FR,array:ss,at:Rv,boolean:ss,case:fd,coalesce:bm,collator:zv,format:Vp,image:pb,in:Lv,"index-of":al,interpolate:Co,"interpolate-hcl":Co,"interpolate-lab":Co,length:jv,let:gm,literal:Mu,match:fo,number:ss,"number-format":cb,object:ss,slice:vm,step:Oi,string:ss,"to-boolean":jl,"to-color":jl,"to-number":jl,"to-string":jl,var:Nv,within:Gp,distance:Wp,"global-state":Mm};class Cs{constructor(s,l,h,v){this.name=s,this.type=l,this._evaluate=h,this.args=v}evaluate(s){return this._evaluate(s,this.args)}eachChild(s){this.args.forEach(s)}outputDefined(){return!1}static parse(s,l){let h=s[0],v=Cs.definitions[h];if(!v)return l.error(`Unknown expression "${h}". If you wanted a literal array, use ["literal", [...]].`,0);let S=Array.isArray(v)?v[0]:v.type,E=Array.isArray(v)?[[v[1],v[2]]]:v.overloads,C=E.filter(([R])=>!Array.isArray(R)||R.length===s.length-1),O=null;for(let[R,j]of C){O=new pd(l.registry,Wv,l.path,null,l.scope);let $=[],Z=!1;for(let X=1;X<s.length;X++){let Q=s[X],re=Array.isArray(R)?R[X-1]:R.type,le=O.parse(Q,1+$.length,re);if(!le){Z=!0;break}$.push(le)}if(!Z)if(Array.isArray(R)&&R.length!==$.length)O.error(`Expected ${R.length} arguments, but found ${$.length} instead.`);else{for(let X=0;X<$.length;X++){let Q=Array.isArray(R)?R[X]:R.type,re=$[X];O.concat(X+1).checkSubtype(Q,re.type)}if(O.errors.length===0)return new Cs(h,S,j,$)}}if(C.length===1)l.errors.push(...O.errors);else{let R=(C.length?C:E).map(([$])=>{return Z=$,Array.isArray(Z)?`(${Z.map(Hn).join(", ")})`:`(${Hn(Z.type)}...)`;var Z}).join(" | "),j=[];for(let $=1;$<s.length;$++){let Z=l.parse(s[$],1+j.length);if(!Z)return null;j.push(Hn(Z.type))}l.error(`Expected arguments of type ${R}, but found (${j.join(", ")}) instead.`)}return null}static register(s,l){Cs.definitions=l;for(let h in l)s[h]=Cs}}function mT(c,[s,l,h,v]){s=s.evaluate(c),l=l.evaluate(c),h=h.evaluate(c);let S=v?v.evaluate(c):1,E=si(s,l,h,S);if(E)throw new Wn(E);return new rn(s/255,l/255,h/255,S,!1)}function gT(c,s){return c in s}function Sb(c,s){let l=s[c];return l===void 0?null:l}function Zp(c){return{type:c}}function Wv(c){if(c instanceof Nv)return Wv(c.boundExpression);if(c instanceof Cs&&c.name==="error"||c instanceof zv||c instanceof Gp||c instanceof Wp||c instanceof Mm)return!1;let s=c instanceof jl||c instanceof ss,l=!0;return c.eachChild(h=>{l=s?l&&Wv(h):l&&h instanceof Mu}),!!l&&Zv(c)&&Yv(c,["zoom","heatmap-density","elevation","line-progress","accumulated","is-supported-script"])}function Zv(c){if(c instanceof Cs&&(c.name==="get"&&c.args.length===1||c.name==="feature-state"||c.name==="has"&&c.args.length===1||c.name==="properties"||c.name==="geometry-type"||c.name==="id"||/^filter-/.test(c.name))||c instanceof Gp||c instanceof Wp)return!1;let s=!0;return c.eachChild(l=>{s&&!Zv(l)&&(s=!1)}),s}function Cm(c){if(c instanceof Cs&&c.name==="feature-state")return!1;let s=!0;return c.eachChild(l=>{s&&!Cm(l)&&(s=!1)}),s}function Yv(c,s){if(c instanceof Cs&&s.indexOf(c.name)>=0)return!1;let l=!0;return c.eachChild(h=>{l&&!Yv(h,s)&&(l=!1)}),l}function vT(c){return{result:"success",value:c}}function md(c){return{result:"error",value:c}}function Oc(c){return c["property-type"]==="data-driven"||c["property-type"]==="cross-faded-data-driven"}function yT(c){return!!c.expression&&c.expression.parameters.indexOf("zoom")>-1}function Eb(c){return!!c.expression&&c.expression.interpolated}function an(c){return c instanceof Number?"number":c instanceof String?"string":c instanceof Boolean?"boolean":Array.isArray(c)?"array":c===null?"null":typeof c}function Am(c){return typeof c=="object"&&c!==null&&!Array.isArray(c)&&_r(c)===Tc}function JR(c){return c}function _T(c,s){let l=c.stops&&typeof c.stops[0][0]=="object",h=l||!(l||c.property!==void 0),v=c.type||(Eb(s)?"exponential":"interval"),S=function(j){switch(j.type){case"color":return rn.parse;case"padding":return po.parse;case"numberArray":return ta.parse;case"colorArray":return Ui.parse;default:return null}}(s);if(S&&((c=Ai({},c)).stops&&(c.stops=c.stops.map(j=>[j[0],S(j[1])])),c.default=S(c.default?c.default:s.default)),c.colorSpace&&(E=c.colorSpace)!=="rgb"&&E!=="hcl"&&E!=="lab")throw new Error(`Unknown color space: "${c.colorSpace}"`);var E;let C=function(j){switch(j){case"exponential":return xT;case"interval":return eL;case"categorical":return bT;case"identity":return tL;default:throw new Error(`Unknown function type "${j}"`)}}(v),O,R;if(v==="categorical"){O=Object.create(null);for(let j of c.stops)O[j[0]]=j[1];R=typeof c.stops[0][0]}if(l){let j={},$=[];for(let Q=0;Q<c.stops.length;Q++){let re=c.stops[Q],le=re[0].zoom;j[le]===void 0&&(j[le]={zoom:le,type:c.type,property:c.property,default:c.default,stops:[]},$.push(le)),j[le].stops.push([re[0].value,re[1]])}let Z=[];for(let Q of $)Z.push([j[Q].zoom,_T(j[Q],s)]);let X={name:"linear"};return{kind:"composite",interpolationType:X,interpolationFactor:Co.interpolationFactor.bind(void 0,X),zoomStops:Z.map(Q=>Q[0]),evaluate:({zoom:Q},re)=>xT({stops:Z,base:c.base},s,Q).evaluate(Q,re)}}if(h){let j=v==="exponential"?{name:"exponential",base:c.base!==void 0?c.base:1}:null;return{kind:"camera",interpolationType:j,interpolationFactor:Co.interpolationFactor.bind(void 0,j),zoomStops:c.stops.map($=>$[0]),evaluate:({zoom:$})=>C(c,s,$,O,R)}}return{kind:"source",evaluate(j,$){let Z=$&&$.properties?$.properties[c.property]:void 0;return Z===void 0?Dc(c.default,s.default):C(c,s,Z,O,R)}}}function Dc(c,s,l){return c!==void 0?c:s!==void 0?s:l!==void 0?l:void 0}function bT(c,s,l,h,v){return Dc(typeof l===v?h[l]:void 0,c.default,s.default)}function eL(c,s,l){if(an(l)!=="number")return Dc(c.default,s.default);let h=c.stops.length;if(h===1||l<=c.stops[0][0])return c.stops[0][1];if(l>=c.stops[h-1][0])return c.stops[h-1][1];let v=Up(c.stops.map(S=>S[0]),l);return c.stops[v][1]}function xT(c,s,l){let h=c.base!==void 0?c.base:1;if(an(l)!=="number")return Dc(c.default,s.default);let v=c.stops.length;if(v===1||l<=c.stops[0][0])return c.stops[0][1];if(l>=c.stops[v-1][0])return c.stops[v-1][1];let S=Up(c.stops.map(j=>j[0]),l),E=function(j,$,Z,X){let Q=X-Z,re=j-Z;return Q===0?0:$===1?re/Q:(Math.pow($,re)-1)/(Math.pow($,Q)-1)}(l,h,c.stops[S][0],c.stops[S+1][0]),C=c.stops[S][1],O=c.stops[S+1][1],R=Fl[s.type]||JR;return typeof C.evaluate=="function"?{evaluate(...j){let $=C.evaluate.apply(void 0,j),Z=O.evaluate.apply(void 0,j);if($!==void 0&&Z!==void 0)return R($,Z,E,c.colorSpace)}}:R(C,O,E,c.colorSpace)}function tL(c,s,l){switch(s.type){case"color":l=rn.parse(l);break;case"formatted":l=ea.fromString(l.toString());break;case"resolvedImage":l=as.fromString(l.toString());break;case"padding":l=po.parse(l);break;case"colorArray":l=Ui.parse(l);break;case"numberArray":l=ta.parse(l);break;default:an(l)===s.type||s.type==="enum"&&s.values[l]||(l=void 0)}return Dc(l,c.default,s.default)}Cs.register(hd,{error:[{kind:"error"},[en],(c,[s])=>{throw new Wn(s.evaluate(c))}],typeof:[en,[jr],(c,[s])=>Hn(_r(s.evaluate(c)))],"to-rgba":[Na(Bt,4),[Mo],(c,[s])=>{let[l,h,v,S]=s.evaluate(c).rgb;return[255*l,255*h,255*v,S]}],rgb:[Mo,[Bt,Bt,Bt],mT],rgba:[Mo,[Bt,Bt,Bt,Bt],mT],has:{type:Gr,overloads:[[[en],(c,[s])=>gT(s.evaluate(c),c.properties())],[[en,Tc],(c,[s,l])=>gT(s.evaluate(c),l.evaluate(c))]]},get:{type:jr,overloads:[[[en],(c,[s])=>Sb(s.evaluate(c),c.properties())],[[en,Tc],(c,[s,l])=>Sb(s.evaluate(c),l.evaluate(c))]]},"feature-state":[jr,[en],(c,[s])=>Sb(s.evaluate(c),c.featureState||{})],properties:[Tc,[],c=>c.properties()],"geometry-type":[en,[],c=>c.geometryType()],id:[jr,[],c=>c.id()],zoom:[Bt,[],c=>c.globals.zoom],"heatmap-density":[Bt,[],c=>c.globals.heatmapDensity||0],elevation:[Bt,[],c=>c.globals.elevation||0],"line-progress":[Bt,[],c=>c.globals.lineProgress||0],accumulated:[jr,[],c=>c.globals.accumulated===void 0?null:c.globals.accumulated],"+":[Bt,Zp(Bt),(c,s)=>{let l=0;for(let h of s)l+=h.evaluate(c);return l}],"*":[Bt,Zp(Bt),(c,s)=>{let l=1;for(let h of s)l*=h.evaluate(c);return l}],"-":{type:Bt,overloads:[[[Bt,Bt],(c,[s,l])=>s.evaluate(c)-l.evaluate(c)],[[Bt],(c,[s])=>-s.evaluate(c)]]},"/":[Bt,[Bt,Bt],(c,[s,l])=>s.evaluate(c)/l.evaluate(c)],"%":[Bt,[Bt,Bt],(c,[s,l])=>s.evaluate(c)%l.evaluate(c)],ln2:[Bt,[],()=>Math.LN2],pi:[Bt,[],()=>Math.PI],e:[Bt,[],()=>Math.E],"^":[Bt,[Bt,Bt],(c,[s,l])=>Math.pow(s.evaluate(c),l.evaluate(c))],sqrt:[Bt,[Bt],(c,[s])=>Math.sqrt(s.evaluate(c))],log10:[Bt,[Bt],(c,[s])=>Math.log(s.evaluate(c))/Math.LN10],ln:[Bt,[Bt],(c,[s])=>Math.log(s.evaluate(c))],log2:[Bt,[Bt],(c,[s])=>Math.log(s.evaluate(c))/Math.LN2],sin:[Bt,[Bt],(c,[s])=>Math.sin(s.evaluate(c))],cos:[Bt,[Bt],(c,[s])=>Math.cos(s.evaluate(c))],tan:[Bt,[Bt],(c,[s])=>Math.tan(s.evaluate(c))],asin:[Bt,[Bt],(c,[s])=>Math.asin(s.evaluate(c))],acos:[Bt,[Bt],(c,[s])=>Math.acos(s.evaluate(c))],atan:[Bt,[Bt],(c,[s])=>Math.atan(s.evaluate(c))],min:[Bt,Zp(Bt),(c,s)=>Math.min(...s.map(l=>l.evaluate(c)))],max:[Bt,Zp(Bt),(c,s)=>Math.max(...s.map(l=>l.evaluate(c)))],abs:[Bt,[Bt],(c,[s])=>Math.abs(s.evaluate(c))],round:[Bt,[Bt],(c,[s])=>{let l=s.evaluate(c);return l<0?-Math.round(-l):Math.round(l)}],floor:[Bt,[Bt],(c,[s])=>Math.floor(s.evaluate(c))],ceil:[Bt,[Bt],(c,[s])=>Math.ceil(s.evaluate(c))],"filter-==":[Gr,[en,jr],(c,[s,l])=>c.properties()[s.value]===l.value],"filter-id-==":[Gr,[jr],(c,[s])=>c.id()===s.value],"filter-type-==":[Gr,[en],(c,[s])=>c.geometryType()===s.value],"filter-<":[Gr,[en,jr],(c,[s,l])=>{let h=c.properties()[s.value],v=l.value;return typeof h==typeof v&&h<v}],"filter-id-<":[Gr,[jr],(c,[s])=>{let l=c.id(),h=s.value;return typeof l==typeof h&&l<h}],"filter->":[Gr,[en,jr],(c,[s,l])=>{let h=c.properties()[s.value],v=l.value;return typeof h==typeof v&&h>v}],"filter-id->":[Gr,[jr],(c,[s])=>{let l=c.id(),h=s.value;return typeof l==typeof h&&l>h}],"filter-<=":[Gr,[en,jr],(c,[s,l])=>{let h=c.properties()[s.value],v=l.value;return typeof h==typeof v&&h<=v}],"filter-id-<=":[Gr,[jr],(c,[s])=>{let l=c.id(),h=s.value;return typeof l==typeof h&&l<=h}],"filter->=":[Gr,[en,jr],(c,[s,l])=>{let h=c.properties()[s.value],v=l.value;return typeof h==typeof v&&h>=v}],"filter-id->=":[Gr,[jr],(c,[s])=>{let l=c.id(),h=s.value;return typeof l==typeof h&&l>=h}],"filter-has":[Gr,[jr],(c,[s])=>s.value in c.properties()],"filter-has-id":[Gr,[],c=>c.id()!==null&&c.id()!==void 0],"filter-type-in":[Gr,[Na(en)],(c,[s])=>s.value.indexOf(c.geometryType())>=0],"filter-id-in":[Gr,[Na(jr)],(c,[s])=>s.value.indexOf(c.id())>=0],"filter-in-small":[Gr,[en,Na(jr)],(c,[s,l])=>l.value.indexOf(c.properties()[s.value])>=0],"filter-in-large":[Gr,[en,Na(jr)],(c,[s,l])=>function(h,v,S,E){for(;S<=E;){let C=S+E>>1;if(v[C]===h)return!0;v[C]>h?E=C-1:S=C+1}return!1}(c.properties()[s.value],l.value,0,l.value.length-1)],all:{type:Gr,overloads:[[[Gr,Gr],(c,[s,l])=>s.evaluate(c)&&l.evaluate(c)],[Zp(Gr),(c,s)=>{for(let l of s)if(!l.evaluate(c))return!1;return!0}]]},any:{type:Gr,overloads:[[[Gr,Gr],(c,[s,l])=>s.evaluate(c)||l.evaluate(c)],[Zp(Gr),(c,s)=>{for(let l of s)if(l.evaluate(c))return!0;return!1}]]},"!":[Gr,[Gr],(c,[s])=>!s.evaluate(c)],"is-supported-script":[Gr,[en],(c,[s])=>{let l=c.globals&&c.globals.isSupportedScript;return!l||l(s.evaluate(c))}],upcase:[en,[en],(c,[s])=>s.evaluate(c).toUpperCase()],downcase:[en,[en],(c,[s])=>s.evaluate(c).toLowerCase()],concat:[en,Zp(jr),(c,s)=>s.map(l=>Rr(l.evaluate(c))).join("")],"resolved-locale":[en,[Cv],(c,[s])=>s.evaluate(c).resolvedLocale()]});class Ib{constructor(s,l){this.expression=s,this._warningHistory={},this._evaluator=new sb,this._defaultValue=l?function(h){if(h.type==="color"&&Am(h.default))return new rn(0,0,0,0);switch(h.type){case"color":return rn.parse(h.default)||null;case"padding":return po.parse(h.default)||null;case"numberArray":return ta.parse(h.default)||null;case"colorArray":return Ui.parse(h.default)||null;case"variableAnchorOffsetCollection":return ra.parse(h.default)||null;case"projectionDefinition":return jo.parse(h.default)||null;default:return h.default===void 0?null:h.default}}(l):null,this._enumValues=l&&l.type==="enum"?l.values:null}evaluateWithoutErrorHandling(s,l,h,v,S,E){return this._evaluator.globals=s,this._evaluator.feature=l,this._evaluator.featureState=h,this._evaluator.canonical=v,this._evaluator.availableImages=S||null,this._evaluator.formattedSection=E,this.expression.evaluate(this._evaluator)}evaluate(s,l,h,v,S,E){this._evaluator.globals=s,this._evaluator.feature=l||null,this._evaluator.featureState=h||null,this._evaluator.canonical=v,this._evaluator.availableImages=S||null,this._evaluator.formattedSection=E||null;try{let C=this.expression.evaluate(this._evaluator);if(C==null||typeof C=="number"&&C!=C)return this._defaultValue;if(this._enumValues&&!(C in this._enumValues))throw new Wn(`Expected value to be one of ${Object.keys(this._enumValues).map(O=>JSON.stringify(O)).join(", ")}, but found ${JSON.stringify(C)} instead.`);return C}catch(C){return this._warningHistory[C.message]||(this._warningHistory[C.message]=!0,typeof console!="undefined"&&console.warn(C.message)),this._defaultValue}}}function Kv(c){return Array.isArray(c)&&c.length>0&&typeof c[0]=="string"&&c[0]in hd}function Pm(c,s){let l=new pd(hd,Wv,[],s?function(v){let S={color:Mo,string:en,number:Bt,enum:en,boolean:Gr,formatted:Mc,padding:Av,numberArray:ad,colorArray:ql,projectionDefinition:qp,resolvedImage:Pi,variableAnchorOffsetCollection:Pv};return v.type==="array"?Na(S[v.value]||jr,v.length):S[v.type]}(s):void 0),h=l.parse(c,void 0,void 0,void 0,s&&s.type==="string"?{typeAnnotation:"coerce"}:void 0);return h?vT(new Ib(h,s)):md(l.errors)}class Om{constructor(s,l){this.kind=s,this._styleExpression=l,this.isStateDependent=s!=="constant"&&!Cm(l.expression),this.globalStateRefs=Nm(l.expression)}evaluateWithoutErrorHandling(s,l,h,v,S,E){return this._styleExpression.evaluateWithoutErrorHandling(s,l,h,v,S,E)}evaluate(s,l,h,v,S,E){return this._styleExpression.evaluate(s,l,h,v,S,E)}}class Tb{constructor(s,l,h,v){this.kind=s,this.zoomStops=h,this._styleExpression=l,this.isStateDependent=s!=="camera"&&!Cm(l.expression),this.globalStateRefs=Nm(l.expression),this.interpolationType=v}evaluateWithoutErrorHandling(s,l,h,v,S,E){return this._styleExpression.evaluateWithoutErrorHandling(s,l,h,v,S,E)}evaluate(s,l,h,v,S,E){return this._styleExpression.evaluate(s,l,h,v,S,E)}interpolationFactor(s,l,h){return this.interpolationType?Co.interpolationFactor(this.interpolationType,s,l,h):0}}function wT(c,s){let l=Pm(c,s);if(l.result==="error")return l;let h=l.value.expression,v=Zv(h);if(!v&&!Oc(s))return md([new Bn("","data expressions not supported")]);let S=Yv(h,["zoom"]);if(!S&&!yT(s))return md([new Bn("","zoom expressions not supported")]);let E=km(h);return E||S?E instanceof Bn?md([E]):E instanceof Co&&!Eb(s)?md([new Bn("","\"interpolate\" expressions cannot be used with this property")]):vT(E?new Tb(v?"camera":"composite",l.value,E.labels,E instanceof Co?E.interpolation:void 0):new Om(v?"constant":"source",l.value)):md([new Bn("","\"zoom\" expression may only be used as input to a top-level \"step\" or \"interpolate\" expression.")])}class Dm{constructor(s,l){this._parameters=s,this._specification=l,Ai(this,_T(this._parameters,this._specification))}static deserialize(s){return new Dm(s._parameters,s._specification)}static serialize(s){return{_parameters:s._parameters,_specification:s._specification}}}function km(c){let s=null;if(c instanceof gm)s=km(c.result);else if(c instanceof bm){for(let l of c.args)if(s=km(l),s)break}else(c instanceof Oi||c instanceof Co)&&c.input instanceof Cs&&c.input.name==="zoom"&&(s=c);return s instanceof Bn||c.eachChild(l=>{let h=km(l);h instanceof Bn?s=h:!s&&h?s=new Bn("","\"zoom\" expression may only be used as input to a top-level \"step\" or \"interpolate\" expression."):s&&h&&s!==h&&(s=new Bn("","Only one zoom-based \"step\" or \"interpolate\" subexpression may be used in an expression."))}),s}function Nm(c,s=new Set){return c instanceof Mm&&s.add(c.key),c.eachChild(l=>{Nm(l,s)}),s}function Xv(c){if(c===!0||c===!1)return!0;if(!Array.isArray(c)||c.length===0)return!1;switch(c[0]){case"has":return c.length>=2&&c[1]!=="$id"&&c[1]!=="$type";case"in":return c.length>=3&&(typeof c[1]!="string"||Array.isArray(c[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return c.length!==3||Array.isArray(c[1])||Array.isArray(c[2]);case"any":case"all":for(let s of c.slice(1))if(!Xv(s)&&typeof s!="boolean")return!1;return!0;default:return!0}}let Mb={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function Yp(c){if(c==null)return{filter:()=>!0,needGeometry:!1,getGlobalStateRefs:()=>new Set};Xv(c)||(c=Kp(c));let s=Pm(c,Mb);if(s.result==="error")throw new Error(s.value.map(l=>`${l.key}: ${l.message}`).join(", "));return{filter:(l,h,v)=>s.value.evaluate(l,h,{},v),needGeometry:Qv(c),getGlobalStateRefs:()=>Nm(s.value.expression)}}function Cb(c,s){return c<s?-1:c>s?1:0}function Qv(c){if(!Array.isArray(c))return!1;if(c[0]==="within"||c[0]==="distance")return!0;for(let s=1;s<c.length;s++)if(Qv(c[s]))return!0;return!1}function Kp(c){if(!c)return!0;let s=c[0];return c.length<=1?s!=="any":s==="=="?Ab(c[1],c[2],"=="):s==="!="?Jv(Ab(c[1],c[2],"==")):s==="<"||s===">"||s==="<="||s===">="?Ab(c[1],c[2],s):s==="any"?(l=c.slice(1),["any"].concat(l.map(Kp))):s==="all"?["all"].concat(c.slice(1).map(Kp)):s==="none"?["all"].concat(c.slice(1).map(Kp).map(Jv)):s==="in"?ST(c[1],c.slice(2)):s==="!in"?Jv(ST(c[1],c.slice(2))):s==="has"?ET(c[1]):s!=="!has"||Jv(ET(c[1]));var l}function Ab(c,s,l){switch(c){case"$type":return[`filter-type-${l}`,s];case"$id":return[`filter-id-${l}`,s];default:return[`filter-${l}`,c,s]}}function ST(c,s){if(s.length===0)return!1;switch(c){case"$type":return["filter-type-in",["literal",s]];case"$id":return["filter-id-in",["literal",s]];default:return s.length>200&&!s.some(l=>typeof l!=typeof s[0])?["filter-in-large",c,["literal",s.sort(Cb)]]:["filter-in-small",c,["literal",s]]}}function ET(c){switch(c){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",c]}}function Jv(c){return["!",c]}function Pb(c){let s=typeof c;if(s==="number"||s==="boolean"||s==="string"||c==null)return JSON.stringify(c);if(Array.isArray(c)){let v="[";for(let S of c)v+=`${Pb(S)},`;return`${v}]`}let l=Object.keys(c).sort(),h="{";for(let v=0;v<l.length;v++)h+=`${JSON.stringify(l[v])}:${Pb(c[l[v]])},`;return`${h}}`}function rL(c){let s="";for(let l of yt)s+=`/${Pb(c[l])}`;return s}function Ob(c){let s=c.value;return s?[new St(c.key,s,"constants have been deprecated as of v8")]:[]}function wi(c){return c instanceof Number||c instanceof String||c instanceof Boolean?c.valueOf():c}function Bl(c){if(Array.isArray(c))return c.map(Bl);if(c instanceof Object&&!(c instanceof Number||c instanceof String||c instanceof Boolean)){let s={};for(let l in c)s[l]=Bl(c[l]);return s}return wi(c)}function As(c){let s=c.key,l=c.value,h=c.valueSpec||{},v=c.objectElementValidators||{},S=c.style,E=c.styleSpec,C=c.validateSpec,O=[],R=an(l);if(R!=="object")return[new St(s,l,`object expected, ${R} found`)];for(let j in l){let $=j.split(".")[0],Z=cd(h,$)||h["*"],X;if(cd(v,$))X=v[$];else if(cd(h,$))X=C;else if(v["*"])X=v["*"];else{if(!h["*"]){O.push(new St(s,l[j],`unknown property "${j}"`));continue}X=C}O=O.concat(X({key:(s&&`${s}.`)+j,value:l[j],valueSpec:Z,style:S,styleSpec:E,object:l,objectKey:j,validateSpec:C},l))}for(let j in h)v[j]||h[j].required&&h[j].default===void 0&&l[j]===void 0&&O.push(new St(s,l,`missing required property "${j}"`));return O}function ey(c){let s=c.value,l=c.valueSpec,h=c.style,v=c.styleSpec,S=c.key,E=c.arrayElementValidator||c.validateSpec;if(an(s)!=="array")return[new St(S,s,`array expected, ${an(s)} found`)];if(l.length&&s.length!==l.length)return[new St(S,s,`array length ${l.length} expected, length ${s.length} found`)];if(l["min-length"]&&s.length<l["min-length"])return[new St(S,s,`array length at least ${l["min-length"]} expected, length ${s.length} found`)];let C={type:l.value,values:l.values};v.$version<7&&(C.function=l.function),an(l.value)==="object"&&(C=l.value);let O=[];for(let R=0;R<s.length;R++)O=O.concat(E({array:s,arrayIndex:R,value:s[R],valueSpec:C,validateSpec:c.validateSpec,style:h,styleSpec:v,key:`${S}[${R}]`}));return O}function Rm(c){let s=c.key,l=c.value,h=c.valueSpec,v=an(l);return v==="number"&&l!=l&&(v="NaN"),v!=="number"?[new St(s,l,`number expected, ${v} found`)]:"minimum"in h&&l<h.minimum?[new St(s,l,`${l} is less than the minimum value ${h.minimum}`)]:"maximum"in h&&l>h.maximum?[new St(s,l,`${l} is greater than the maximum value ${h.maximum}`)]:[]}function IT(c){let s=c.valueSpec,l=wi(c.value.type),h,v,S,E={},C=l!=="categorical"&&c.value.property===void 0,O=!C,R=an(c.value.stops)==="array"&&an(c.value.stops[0])==="array"&&an(c.value.stops[0][0])==="object",j=As({key:c.key,value:c.value,valueSpec:c.styleSpec.function,validateSpec:c.validateSpec,style:c.style,styleSpec:c.styleSpec,objectElementValidators:{stops:function(X){if(l==="identity")return[new St(X.key,X.value,"identity function may not have a \"stops\" property")];let Q=[],re=X.value;return Q=Q.concat(ey({key:X.key,value:re,valueSpec:X.valueSpec,validateSpec:X.validateSpec,style:X.style,styleSpec:X.styleSpec,arrayElementValidator:$})),an(re)==="array"&&re.length===0&&Q.push(new St(X.key,re,"array must have at least one stop")),Q},default:function(X){return X.validateSpec({key:X.key,value:X.value,valueSpec:s,validateSpec:X.validateSpec,style:X.style,styleSpec:X.styleSpec})}}});return l==="identity"&&C&&j.push(new St(c.key,c.value,"missing required property \"property\"")),l==="identity"||c.value.stops||j.push(new St(c.key,c.value,"missing required property \"stops\"")),l==="exponential"&&c.valueSpec.expression&&!Eb(c.valueSpec)&&j.push(new St(c.key,c.value,"exponential functions not supported")),c.styleSpec.$version>=8&&(O&&!Oc(c.valueSpec)?j.push(new St(c.key,c.value,"property functions not supported")):C&&!yT(c.valueSpec)&&j.push(new St(c.key,c.value,"zoom functions not supported"))),l!=="categorical"&&!R||c.value.property!==void 0||j.push(new St(c.key,c.value,"\"property\" property is required")),j;function $(X){let Q=[],re=X.value,le=X.key;if(an(re)!=="array")return[new St(le,re,`array expected, ${an(re)} found`)];if(re.length!==2)return[new St(le,re,`array length 2 expected, length ${re.length} found`)];if(R){if(an(re[0])!=="object")return[new St(le,re,`object expected, ${an(re[0])} found`)];if(re[0].zoom===void 0)return[new St(le,re,"object stop key must have zoom")];if(re[0].value===void 0)return[new St(le,re,"object stop key must have value")];if(S&&S>wi(re[0].zoom))return[new St(le,re[0].zoom,"stop zoom values must appear in ascending order")];wi(re[0].zoom)!==S&&(S=wi(re[0].zoom),v=void 0,E={}),Q=Q.concat(As({key:`${le}[0]`,value:re[0],valueSpec:{zoom:{}},validateSpec:X.validateSpec,style:X.style,styleSpec:X.styleSpec,objectElementValidators:{zoom:Rm,value:Z}}))}else Q=Q.concat(Z({key:`${le}[0]`,value:re[0],validateSpec:X.validateSpec,style:X.style,styleSpec:X.styleSpec},re));return Kv(Bl(re[1]))?Q.concat([new St(`${le}[1]`,re[1],"expressions are not allowed in function stops.")]):Q.concat(X.validateSpec({key:`${le}[1]`,value:re[1],valueSpec:s,validateSpec:X.validateSpec,style:X.style,styleSpec:X.styleSpec}))}function Z(X,Q){let re=an(X.value),le=wi(X.value),me=X.value!==null?X.value:Q;if(h){if(re!==h)return[new St(X.key,me,`${re} stop domain type must match previous stop domain type ${h}`)]}else h=re;if(re!=="number"&&re!=="string"&&re!=="boolean")return[new St(X.key,me,"stop domain value must be a number, string, or boolean")];if(re!=="number"&&l!=="categorical"){let Fe=`number expected, ${re} found`;return Oc(s)&&l===void 0&&(Fe+="\nIf you intended to use a categorical function, specify `\"type\": \"categorical\"`."),[new St(X.key,me,Fe)]}return l!=="categorical"||re!=="number"||isFinite(le)&&Math.floor(le)===le?l!=="categorical"&&re==="number"&&v!==void 0&&le<v?[new St(X.key,me,"stop domain values must appear in ascending order")]:(v=le,l==="categorical"&&le in E?[new St(X.key,me,"stop domain values must be unique")]:(E[le]=!0,[])):[new St(X.key,me,`integer expected, found ${le}`)]}}function Xp(c){let s=(c.expressionContext==="property"?wT:Pm)(Bl(c.value),c.valueSpec);if(s.result==="error")return s.value.map(h=>new St(`${c.key}${h.key}`,c.value,h.message));let l=s.value.expression||s.value._styleExpression.expression;if(c.expressionContext==="property"&&c.propertyKey==="text-font"&&!l.outputDefined())return[new St(c.key,c.value,`Invalid data expression for "${c.propertyKey}". Output values must be contained as literals within the expression.`)];if(c.expressionContext==="property"&&c.propertyType==="layout"&&!Cm(l))return[new St(c.key,c.value,"\"feature-state\" data expressions are not supported with layout properties.")];if(c.expressionContext==="filter"&&!Cm(l))return[new St(c.key,c.value,"\"feature-state\" data expressions are not supported with filters.")];if(c.expressionContext&&c.expressionContext.indexOf("cluster")===0){if(!Yv(l,["zoom","feature-state"]))return[new St(c.key,c.value,"\"zoom\" and \"feature-state\" expressions are not supported with cluster properties.")];if(c.expressionContext==="cluster-initial"&&!Zv(l))return[new St(c.key,c.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function ty(c){let s=c.key,l=c.value,h=an(l);return h!=="string"?[new St(s,l,`color expected, ${h} found`)]:rn.parse(String(l))?[]:[new St(s,l,`color expected, "${l}" found`)]}function Au(c){let s=c.key,l=c.value,h=c.valueSpec,v=[];return Array.isArray(h.values)?h.values.indexOf(wi(l))===-1&&v.push(new St(s,l,`expected one of [${h.values.join(", ")}], ${JSON.stringify(l)} found`)):Object.keys(h.values).indexOf(wi(l))===-1&&v.push(new St(s,l,`expected one of [${Object.keys(h.values).join(", ")}], ${JSON.stringify(l)} found`)),v}function Db(c){return Xv(Bl(c.value))?Xp(Ai({},c,{expressionContext:"filter",valueSpec:{value:"boolean"}})):TT(c)}function TT(c){let s=c.value,l=c.key;if(an(s)!=="array")return[new St(l,s,`array expected, ${an(s)} found`)];let h=c.styleSpec,v,S=[];if(s.length<1)return[new St(l,s,"filter array must have at least 1 element")];switch(S=S.concat(Au({key:`${l}[0]`,value:s[0],valueSpec:h.filter_operator,style:c.style,styleSpec:c.styleSpec})),wi(s[0])){case"<":case"<=":case">":case">=":s.length>=2&&wi(s[1])==="$type"&&S.push(new St(l,s,`"$type" cannot be use with operator "${s[0]}"`));case"==":case"!=":s.length!==3&&S.push(new St(l,s,`filter array for operator "${s[0]}" must have 3 elements`));case"in":case"!in":s.length>=2&&(v=an(s[1]),v!=="string"&&S.push(new St(`${l}[1]`,s[1],`string expected, ${v} found`)));for(let E=2;E<s.length;E++)v=an(s[E]),wi(s[1])==="$type"?S=S.concat(Au({key:`${l}[${E}]`,value:s[E],valueSpec:h.geometry_type,style:c.style,styleSpec:c.styleSpec})):v!=="string"&&v!=="number"&&v!=="boolean"&&S.push(new St(`${l}[${E}]`,s[E],`string, number, or boolean expected, ${v} found`));break;case"any":case"all":case"none":for(let E=1;E<s.length;E++)S=S.concat(TT({key:`${l}[${E}]`,value:s[E],style:c.style,styleSpec:c.styleSpec}));break;case"has":case"!has":v=an(s[1]),s.length!==2?S.push(new St(l,s,`filter array for "${s[0]}" operator must have 2 elements`)):v!=="string"&&S.push(new St(`${l}[1]`,s[1],`string expected, ${v} found`))}return S}function MT(c,s){let l=c.key,h=c.validateSpec,v=c.style,S=c.styleSpec,E=c.value,C=c.objectKey,O=S[`${s}_${c.layerType}`];if(!O)return[];let R=C.match(/^(.*)-transition$/);if(s==="paint"&&R&&O[R[1]]&&O[R[1]].transition)return h({key:l,value:E,valueSpec:S.transition,style:v,styleSpec:S});let j=c.valueSpec||O[C];if(!j)return[new St(l,E,`unknown property "${C}"`)];let $;if(an(E)==="string"&&Oc(j)&&!j.tokens&&($=/^{([^}]+)}$/.exec(E)))return[new St(l,E,`"${C}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify($[1])} }\`.`)];let Z=[];return c.layerType==="symbol"&&(C==="text-field"&&v&&!v.glyphs&&Z.push(new St(l,E,"use of \"text-field\" requires a style \"glyphs\" property")),C==="text-font"&&Am(Bl(E))&&wi(E.type)==="identity"&&Z.push(new St(l,E,"\"text-font\" does not support identity functions"))),Z.concat(h({key:c.key,value:E,valueSpec:j,style:v,styleSpec:S,expressionContext:"property",propertyType:s,propertyKey:C}))}function CT(c){return MT(c,"paint")}function AT(c){return MT(c,"layout")}function PT(c){let s=[],l=c.value,h=c.key,v=c.style,S=c.styleSpec;if(an(l)!=="object")return[new St(h,l,`object expected, ${an(l)} found`)];l.type||l.ref||s.push(new St(h,l,"either \"type\" or \"ref\" is required"));let E=wi(l.type),C=wi(l.ref);if(l.id){let O=wi(l.id);for(let R=0;R<c.arrayIndex;R++){let j=v.layers[R];wi(j.id)===O&&s.push(new St(h,l.id,`duplicate layer id "${l.id}", previously used at line ${j.id.__line__}`))}}if("ref"in l){let O;["type","source","source-layer","filter","layout"].forEach(R=>{R in l&&s.push(new St(h,l[R],`"${R}" is prohibited for ref layers`))}),v.layers.forEach(R=>{wi(R.id)===C&&(O=R)}),O?O.ref?s.push(new St(h,l.ref,"ref cannot reference another ref layer")):E=wi(O.type):s.push(new St(h,l.ref,`ref layer "${C}" not found`))}else if(E!=="background")if(l.source){let O=v.sources&&v.sources[l.source],R=O&&wi(O.type);O?R==="vector"&&E==="raster"?s.push(new St(h,l.source,`layer "${l.id}" requires a raster source`)):R!=="raster-dem"&&E==="hillshade"||R!=="raster-dem"&&E==="color-relief"?s.push(new St(h,l.source,`layer "${l.id}" requires a raster-dem source`)):R==="raster"&&E!=="raster"?s.push(new St(h,l.source,`layer "${l.id}" requires a vector source`)):R!=="vector"||l["source-layer"]?R==="raster-dem"&&E!=="hillshade"&&E!=="color-relief"?s.push(new St(h,l.source,"raster-dem source can only be used with layer type 'hillshade' or 'color-relief'.")):E!=="line"||!l.paint||!l.paint["line-gradient"]||R==="geojson"&&O.lineMetrics||s.push(new St(h,l,`layer "${l.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):s.push(new St(h,l,`layer "${l.id}" must specify a "source-layer"`)):s.push(new St(h,l.source,`source "${l.source}" not found`))}else s.push(new St(h,l,"missing required property \"source\""));return s=s.concat(As({key:h,value:l,valueSpec:S.layer,style:c.style,styleSpec:c.styleSpec,validateSpec:c.validateSpec,objectElementValidators:{"*":()=>[],type:()=>c.validateSpec({key:`${h}.type`,value:l.type,valueSpec:S.layer.type,style:c.style,styleSpec:c.styleSpec,validateSpec:c.validateSpec,object:l,objectKey:"type"}),filter:Db,layout:O=>As({layer:l,key:O.key,value:O.value,style:O.style,styleSpec:O.styleSpec,validateSpec:O.validateSpec,objectElementValidators:{"*":R=>AT(Ai({layerType:E},R))}}),paint:O=>As({layer:l,key:O.key,value:O.value,style:O.style,styleSpec:O.styleSpec,validateSpec:O.validateSpec,objectElementValidators:{"*":R=>CT(Ai({layerType:E},R))}})}})),s}function ll(c){let s=c.value,l=c.key,h=an(s);return h!=="string"?[new St(l,s,`string expected, ${h} found`)]:[]}let gd={promoteId:function({key:c,value:s}){if(an(s)==="string")return ll({key:c,value:s});{let l=[];for(let h in s)l.push(...ll({key:`${c}.${h}`,value:s[h]}));return l}}};function Ra(c){let s=c.value,l=c.key,h=c.styleSpec,v=c.style,S=c.validateSpec;if(!s.type)return[new St(l,s,"\"type\" is required")];let E=wi(s.type),C;switch(E){case"vector":case"raster":return C=As({key:l,value:s,valueSpec:h[`source_${E.replace("-","_")}`],style:c.style,styleSpec:h,objectElementValidators:gd,validateSpec:S}),C;case"raster-dem":return C=function(O){var R;let j=(R=O.sourceName)!==null&&R!==void 0?R:"",$=O.value,Z=O.styleSpec,X=Z.source_raster_dem,Q=O.style,re=[],le=an($);if($===void 0)return re;if(le!=="object")return re.push(new St("source_raster_dem",$,`object expected, ${le} found`)),re;let me=wi($.encoding)==="custom",Fe=["redFactor","greenFactor","blueFactor","baseShift"],Ce=O.value.encoding?`"${O.value.encoding}"`:"Default";for(let De in $)!me&&Fe.includes(De)?re.push(new St(De,$[De],`In "${j}": "${De}" is only valid when "encoding" is set to "custom". ${Ce} encoding found`)):X[De]?re=re.concat(O.validateSpec({key:De,value:$[De],valueSpec:X[De],validateSpec:O.validateSpec,style:Q,styleSpec:Z})):re.push(new St(De,$[De],`unknown property "${De}"`));return re}({sourceName:l,value:s,style:c.style,styleSpec:h,validateSpec:S}),C;case"geojson":if(C=As({key:l,value:s,valueSpec:h.source_geojson,style:v,styleSpec:h,validateSpec:S,objectElementValidators:gd}),s.cluster)for(let O in s.clusterProperties){let[R,j]=s.clusterProperties[O],$=typeof R=="string"?[R,["accumulated"],["get",O]]:R;C.push(...Xp({key:`${l}.${O}.map`,value:j,expressionContext:"cluster-map"})),C.push(...Xp({key:`${l}.${O}.reduce`,value:$,expressionContext:"cluster-reduce"}))}return C;case"video":return As({key:l,value:s,valueSpec:h.source_video,style:v,validateSpec:S,styleSpec:h});case"image":return As({key:l,value:s,valueSpec:h.source_image,style:v,validateSpec:S,styleSpec:h});case"canvas":return[new St(l,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Au({key:`${l}.type`,value:s.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]}})}}function vd(c){let s=c.value,l=c.styleSpec,h=l.light,v=c.style,S=[],E=an(s);if(s===void 0)return S;if(E!=="object")return S=S.concat([new St("light",s,`object expected, ${E} found`)]),S;for(let C in s){let O=C.match(/^(.*)-transition$/);S=S.concat(O&&h[O[1]]&&h[O[1]].transition?c.validateSpec({key:C,value:s[C],valueSpec:l.transition,validateSpec:c.validateSpec,style:v,styleSpec:l}):h[C]?c.validateSpec({key:C,value:s[C],valueSpec:h[C],validateSpec:c.validateSpec,style:v,styleSpec:l}):[new St(C,s[C],`unknown property "${C}"`)])}return S}function kb(c){let s=c.value,l=c.styleSpec,h=l.sky,v=c.style,S=an(s);if(s===void 0)return[];if(S!=="object")return[new St("sky",s,`object expected, ${S} found`)];let E=[];for(let C in s)E=E.concat(h[C]?c.validateSpec({key:C,value:s[C],valueSpec:h[C],style:v,styleSpec:l}):[new St(C,s[C],`unknown property "${C}"`)]);return E}function OT(c){let s=c.value,l=c.styleSpec,h=l.terrain,v=c.style,S=[],E=an(s);if(s===void 0)return S;if(E!=="object")return S=S.concat([new St("terrain",s,`object expected, ${E} found`)]),S;for(let C in s)S=S.concat(h[C]?c.validateSpec({key:C,value:s[C],valueSpec:h[C],validateSpec:c.validateSpec,style:v,styleSpec:l}):[new St(C,s[C],`unknown property "${C}"`)]);return S}function DT(c){let s=[],l=c.value,h=c.key;if(Array.isArray(l)){let v=[],S=[];for(let E in l)l[E].id&&v.includes(l[E].id)&&s.push(new St(h,l,`all the sprites' ids must be unique, but ${l[E].id} is duplicated`)),v.push(l[E].id),l[E].url&&S.includes(l[E].url)&&s.push(new St(h,l,`all the sprites' URLs must be unique, but ${l[E].url} is duplicated`)),S.push(l[E].url),s=s.concat(As({key:`${h}[${E}]`,value:l[E],valueSpec:{id:{type:"string",required:!0},url:{type:"string",required:!0}},validateSpec:c.validateSpec}));return s}return ll({key:h,value:l})}function yd(c){return s=c.value,s&&s.constructor===Object?[]:[new St(c.key,c.value,`object expected, ${an(c.value)} found`)];var s}let Nb={"*":()=>[],array:ey,boolean:function(c){let s=c.value,l=c.key,h=an(s);return h!=="boolean"?[new St(l,s,`boolean expected, ${h} found`)]:[]},number:Rm,color:ty,constants:Ob,enum:Au,filter:Db,function:IT,layer:PT,object:As,source:Ra,light:vd,sky:kb,terrain:OT,projection:function(c){let s=c.value,l=c.styleSpec,h=l.projection,v=c.style,S=an(s);if(s===void 0)return[];if(S!=="object")return[new St("projection",s,`object expected, ${S} found`)];let E=[];for(let C in s)E=E.concat(h[C]?c.validateSpec({key:C,value:s[C],valueSpec:h[C],style:v,styleSpec:l}):[new St(C,s[C],`unknown property "${C}"`)]);return E},projectionDefinition:function(c){let s=c.key,l=c.value;l=l instanceof String?l.valueOf():l;let h=an(l);return h!=="array"||function(v){return Array.isArray(v)&&v.length===3&&typeof v[0]=="string"&&typeof v[1]=="string"&&typeof v[2]=="number"}(l)||function(v){return!!["interpolate","step","literal"].includes(v[0])}(l)?["array","string"].includes(h)?[]:[new St(s,l,`projection expected, invalid type "${h}" found`)]:[new St(s,l,`projection expected, invalid array ${JSON.stringify(l)} found`)]},string:ll,formatted:function(c){return ll(c).length===0?[]:Xp(c)},resolvedImage:function(c){return ll(c).length===0?[]:Xp(c)},padding:function(c){let s=c.key,l=c.value;if(an(l)==="array"){if(l.length<1||l.length>4)return[new St(s,l,`padding requires 1 to 4 values; ${l.length} values found`)];let h={type:"number"},v=[];for(let S=0;S<l.length;S++)v=v.concat(c.validateSpec({key:`${s}[${S}]`,value:l[S],validateSpec:c.validateSpec,valueSpec:h}));return v}return Rm({key:s,value:l,valueSpec:{}})},numberArray:function(c){let s=c.key,l=c.value;if(an(l)==="array"){let h={type:"number"};if(l.length<1)return[new St(s,l,"array length at least 1 expected, length 0 found")];let v=[];for(let S=0;S<l.length;S++)v=v.concat(c.validateSpec({key:`${s}[${S}]`,value:l[S],validateSpec:c.validateSpec,valueSpec:h}));return v}return Rm({key:s,value:l,valueSpec:{}})},colorArray:function(c){let s=c.key,l=c.value;if(an(l)==="array"){if(l.length<1)return[new St(s,l,"array length at least 1 expected, length 0 found")];let h=[];for(let v=0;v<l.length;v++)h=h.concat(ty({key:`${s}[${v}]`,value:l[v]}));return h}return ty({key:s,value:l})},variableAnchorOffsetCollection:function(c){let s=c.key,l=c.value,h=an(l),v=c.styleSpec;if(h!=="array"||l.length<1||l.length%2!=0)return[new St(s,l,"variableAnchorOffsetCollection requires a non-empty array of even length")];let S=[];for(let E=0;E<l.length;E+=2)S=S.concat(Au({key:`${s}[${E}]`,value:l[E],valueSpec:v.layout_symbol["text-anchor"]})),S=S.concat(ey({key:`${s}[${E+1}]`,value:l[E+1],valueSpec:{length:2,value:"number"},validateSpec:c.validateSpec,style:c.style,styleSpec:v}));return S},sprite:DT,state:yd};function _d(c){let s=c.value,l=c.valueSpec,h=c.styleSpec;return c.validateSpec=_d,l.expression&&Am(wi(s))?IT(c):l.expression&&Kv(Bl(s))?Xp(c):l.type&&Nb[l.type]?Nb[l.type](c):As(Ai({},c,{valueSpec:l.type?h[l.type]:l}))}function kT(c){let s=c.value,l=c.key,h=ll(c);return h.length||(s.indexOf("{fontstack}")===-1&&h.push(new St(l,s,"\"glyphs\" url must include a \"{fontstack}\" token")),s.indexOf("{range}")===-1&&h.push(new St(l,s,"\"glyphs\" url must include a \"{range}\" token"))),h}function La(c,s=ye){let l=[];return l=l.concat(_d({key:"",value:c,valueSpec:s.$root,styleSpec:s,style:c,validateSpec:_d,objectElementValidators:{glyphs:kT,"*":()=>[]}})),c.constants&&(l=l.concat(Ob({key:"constants",value:c.constants}))),bd(l)}function ul(c){return function(s){return c(dr(rt({},s),{validateSpec:_d}))}}function bd(c){return[].concat(c).sort((s,l)=>s.line-l.line)}function cl(c){return function(...s){return bd(c.apply(this,s))}}La.source=cl(ul(Ra)),La.sprite=cl(ul(DT)),La.glyphs=cl(ul(kT)),La.light=cl(ul(vd)),La.sky=cl(ul(kb)),La.terrain=cl(ul(OT)),La.state=cl(ul(yd)),La.layer=cl(ul(PT)),La.filter=cl(ul(Db)),La.paintProperty=cl(ul(CT)),La.layoutProperty=cl(ul(AT));let xd=La,nL=xd.light,Lm=xd.sky,iL=xd.paintProperty,oL=xd.layoutProperty;function qm(c,s){let l=!1;if(s&&s.length)for(let h of s)c.fire(new Re(new Error(h.message))),l=!0;return l}class zm{constructor(s,l,h){let v=this.cells=[];if(s instanceof ArrayBuffer){this.arrayBuffer=s;let E=new Int32Array(this.arrayBuffer);s=E[0],this.d=(l=E[1])+2*(h=E[2]);for(let O=0;O<this.d*this.d;O++){let R=E[3+O],j=E[3+O+1];v.push(R===j?null:E.subarray(R,j))}let C=E[3+v.length+1];this.keys=E.subarray(E[3+v.length],C),this.bboxes=E.subarray(C),this.insert=this._insertReadonly}else{this.d=l+2*h;for(let E=0;E<this.d*this.d;E++)v.push([]);this.keys=[],this.bboxes=[]}this.n=l,this.extent=s,this.padding=h,this.scale=l/s,this.uid=0;let S=h/l*s;this.min=-S,this.max=s+S}insert(s,l,h,v,S){this._forEachCell(l,h,v,S,this._insertCell,this.uid++,void 0,void 0),this.keys.push(s),this.bboxes.push(l),this.bboxes.push(h),this.bboxes.push(v),this.bboxes.push(S)}_insertReadonly(){throw new Error("Cannot insert into a GridIndex created from an ArrayBuffer.")}_insertCell(s,l,h,v,S,E){this.cells[S].push(E)}query(s,l,h,v,S){let E=this.min,C=this.max;if(s<=E&&l<=E&&C<=h&&C<=v&&!S)return Array.prototype.slice.call(this.keys);{let O=[];return this._forEachCell(s,l,h,v,this._queryCell,O,{},S),O}}_queryCell(s,l,h,v,S,E,C,O){let R=this.cells[S];if(R!==null){let j=this.keys,$=this.bboxes;for(let Z=0;Z<R.length;Z++){let X=R[Z];if(C[X]===void 0){let Q=4*X;(O?O($[Q+0],$[Q+1],$[Q+2],$[Q+3]):s<=$[Q+2]&&l<=$[Q+3]&&h>=$[Q+0]&&v>=$[Q+1])?(C[X]=!0,E.push(j[X])):C[X]=!1}}}}_forEachCell(s,l,h,v,S,E,C,O){let R=this._convertToCellCoord(s),j=this._convertToCellCoord(l),$=this._convertToCellCoord(h),Z=this._convertToCellCoord(v);for(let X=R;X<=$;X++)for(let Q=j;Q<=Z;Q++){let re=this.d*Q+X;if((!O||O(this._convertFromCellCoord(X),this._convertFromCellCoord(Q),this._convertFromCellCoord(X+1),this._convertFromCellCoord(Q+1)))&&S.call(this,s,l,h,v,re,E,C,O))return}}_convertFromCellCoord(s){return(s-this.padding)/this.scale}_convertToCellCoord(s){return Math.max(0,Math.min(this.d-1,Math.floor(s*this.scale)+this.padding))}toArrayBuffer(){if(this.arrayBuffer)return this.arrayBuffer;let s=this.cells,l=3+this.cells.length+1+1,h=0;for(let E=0;E<this.cells.length;E++)h+=this.cells[E].length;let v=new Int32Array(l+h+this.keys.length+this.bboxes.length);v[0]=this.extent,v[1]=this.n,v[2]=this.padding;let S=l;for(let E=0;E<s.length;E++){let C=s[E];v[3+E]=S,v.set(C,S),S+=C.length}return v[3+s.length]=S,v.set(this.keys,S),S+=this.keys.length,v[3+s.length+1]=S,v.set(this.bboxes,S),S+=this.bboxes.length,v.buffer}static serialize(s,l){let h=s.toArrayBuffer();return l&&l.push(h),{buffer:h}}static deserialize(s){return new zm(s.buffer)}}let pl={};function Zt(c,s,l={}){if(pl[c])throw new Error(`${c} is already registered.`);Object.defineProperty(s,"_classRegistryKey",{value:c,writeable:!1}),pl[c]={klass:s,omit:l.omit||[],shallow:l.shallow||[]}}Zt("Object",Object),Zt("Set",Set),Zt("TransferableGridIndex",zm),Zt("Color",rn),Zt("Error",Error),Zt("AJAXError",_e),Zt("ResolvedImage",as),Zt("StylePropertyFunction",Dm),Zt("StyleExpression",Ib,{omit:["_evaluator"]}),Zt("ZoomDependentExpression",Tb),Zt("ZoomConstantExpression",Om),Zt("CompoundExpression",Cs,{omit:["_evaluate"]});for(let c in hd)hd[c]._classRegistryKey||Zt(`Expression_${c}`,hd[c]);function Rb(c){return c&&typeof ArrayBuffer!="undefined"&&(c instanceof ArrayBuffer||c.constructor&&c.constructor.name==="ArrayBuffer")}function ry(c){return c.$name||c.constructor._classRegistryKey}function Lb(c){return!function(s){if(s===null||typeof s!="object")return!1;let l=ry(s);return!(!l||l==="Object")}(c)&&(c==null||typeof c=="boolean"||typeof c=="number"||typeof c=="string"||c instanceof Boolean||c instanceof Number||c instanceof String||c instanceof Date||c instanceof RegExp||c instanceof Blob||c instanceof Error||Rb(c)||kt(c)||ArrayBuffer.isView(c)||c instanceof ImageData)}function wd(c,s){if(Lb(c))return(Rb(c)||kt(c))&&s&&s.push(c),ArrayBuffer.isView(c)&&s&&s.push(c.buffer),c instanceof ImageData&&s&&s.push(c.data.buffer),c;if(Array.isArray(c)){let S=[];for(let E of c)S.push(wd(E,s));return S}if(typeof c!="object")throw new Error("can't serialize object of type "+typeof c);let l=ry(c);if(!l)throw new Error(`can't serialize object of unregistered class ${c.constructor.name}`);if(!pl[l])throw new Error(`${l} is not registered.`);let{klass:h}=pl[l],v=h.serialize?h.serialize(c,s):{};if(h.serialize){if(s&&v===s[s.length-1])throw new Error("statically serialized object won't survive transfer of $name property")}else{for(let S in c){if(!c.hasOwnProperty(S)||pl[l].omit.indexOf(S)>=0)continue;let E=c[S];v[S]=pl[l].shallow.indexOf(S)>=0?E:wd(E,s)}c instanceof Error&&(v.message=c.message)}if(v.$name)throw new Error("$name property is reserved for worker serialization logic.");return l!=="Object"&&(v.$name=l),v}function Qp(c){if(Lb(c))return c;if(Array.isArray(c))return c.map(Qp);if(typeof c!="object")throw new Error("can't deserialize object of type "+typeof c);let s=ry(c)||"Object";if(!pl[s])throw new Error(`can't deserialize unregistered class ${s}`);let{klass:l}=pl[s];if(!l)throw new Error(`can't deserialize unregistered class ${s}`);if(l.deserialize)return l.deserialize(c);let h=Object.create(l.prototype);for(let v of Object.keys(c)){if(v==="$name")continue;let S=c[v];h[v]=pl[s].shallow.indexOf(v)>=0?S:Qp(S)}return h}class ny{constructor(){this.first=!0}update(s,l){let h=Math.floor(s);return this.first?(this.first=!1,this.lastIntegerZoom=h,this.lastIntegerZoomTime=0,this.lastZoom=s,this.lastFloorZoom=h,!0):(this.lastFloorZoom>h?(this.lastIntegerZoom=h+1,this.lastIntegerZoomTime=l):this.lastFloorZoom<h&&(this.lastIntegerZoom=h,this.lastIntegerZoomTime=l),s!==this.lastZoom&&(this.lastZoom=s,this.lastFloorZoom=h,!0))}}let cn={"Latin-1 Supplement":c=>c>=128&&c<=255,"Hangul Jamo":c=>c>=4352&&c<=4607,Khmer:c=>c>=6016&&c<=6143,"General Punctuation":c=>c>=8192&&c<=8303,"Letterlike Symbols":c=>c>=8448&&c<=8527,"Number Forms":c=>c>=8528&&c<=8591,"Miscellaneous Technical":c=>c>=8960&&c<=9215,"Control Pictures":c=>c>=9216&&c<=9279,"Optical Character Recognition":c=>c>=9280&&c<=9311,"Enclosed Alphanumerics":c=>c>=9312&&c<=9471,"Geometric Shapes":c=>c>=9632&&c<=9727,"Miscellaneous Symbols":c=>c>=9728&&c<=9983,"Miscellaneous Symbols and Arrows":c=>c>=11008&&c<=11263,"Ideographic Description Characters":c=>c>=12272&&c<=12287,"CJK Symbols and Punctuation":c=>c>=12288&&c<=12351,Hiragana:c=>c>=12352&&c<=12447,Katakana:c=>c>=12448&&c<=12543,Kanbun:c=>c>=12688&&c<=12703,"CJK Strokes":c=>c>=12736&&c<=12783,"Enclosed CJK Letters and Months":c=>c>=12800&&c<=13055,"CJK Compatibility":c=>c>=13056&&c<=13311,"Yijing Hexagram Symbols":c=>c>=19904&&c<=19967,"CJK Unified Ideographs":c=>c>=19968&&c<=40959,"Hangul Syllables":c=>c>=44032&&c<=55215,"Private Use Area":c=>c>=57344&&c<=63743,"Vertical Forms":c=>c>=65040&&c<=65055,"CJK Compatibility Forms":c=>c>=65072&&c<=65103,"Small Form Variants":c=>c>=65104&&c<=65135,"Halfwidth and Fullwidth Forms":c=>c>=65280&&c<=65519};function iy(c){for(let s of c)if(zb(s.charCodeAt(0)))return!0;return!1}function aL(c){for(let s of c)if(!NT(s.charCodeAt(0)))return!1;return!0}function oy(c){let s=c.map(l=>{try{return new RegExp(`\\p{sc=${l}}`,"u").source}catch(h){return null}}).filter(l=>l);return new RegExp(s.join("|"),"u")}let sL=oy(["Arab","Dupl","Mong","Ougr","Syrc"]);function NT(c){return!sL.test(String.fromCodePoint(c))}let qb=oy(["Bopo","Hani","Hira","Kana","Kits","Nshu","Tang","Yiii"]);function zb(c){return!(c!==746&&c!==747&&(c<4352||!(cn["CJK Compatibility Forms"](c)&&!(c>=65097&&c<=65103)||cn["CJK Compatibility"](c)||cn["CJK Strokes"](c)||!(!cn["CJK Symbols and Punctuation"](c)||c>=12296&&c<=12305||c>=12308&&c<=12319||c===12336)||cn["Enclosed CJK Letters and Months"](c)||cn["Ideographic Description Characters"](c)||cn.Kanbun(c)||cn.Katakana(c)&&c!==12540||!(!cn["Halfwidth and Fullwidth Forms"](c)||c===65288||c===65289||c===65293||c>=65306&&c<=65310||c===65339||c===65341||c===65343||c>=65371&&c<=65503||c===65507||c>=65512&&c<=65519)||!(!cn["Small Form Variants"](c)||c>=65112&&c<=65118||c>=65123&&c<=65126)||cn["Vertical Forms"](c)||cn["Yijing Hexagram Symbols"](c)||new RegExp("\\p{sc=Cans}","u").test(String.fromCodePoint(c))||new RegExp("\\p{sc=Hang}","u").test(String.fromCodePoint(c))||qb.test(String.fromCodePoint(c)))))}function RT(c){return!(zb(c)||function(s){return!!(cn["Latin-1 Supplement"](s)&&(s===167||s===169||s===174||s===177||s===188||s===189||s===190||s===215||s===247)||cn["General Punctuation"](s)&&(s===8214||s===8224||s===8225||s===8240||s===8241||s===8251||s===8252||s===8258||s===8263||s===8264||s===8265||s===8273)||cn["Letterlike Symbols"](s)||cn["Number Forms"](s)||cn["Miscellaneous Technical"](s)&&(s>=8960&&s<=8967||s>=8972&&s<=8991||s>=8996&&s<=9e3||s===9003||s>=9085&&s<=9114||s>=9150&&s<=9165||s===9167||s>=9169&&s<=9179||s>=9186&&s<=9215)||cn["Control Pictures"](s)&&s!==9251||cn["Optical Character Recognition"](s)||cn["Enclosed Alphanumerics"](s)||cn["Geometric Shapes"](s)||cn["Miscellaneous Symbols"](s)&&!(s>=9754&&s<=9759)||cn["Miscellaneous Symbols and Arrows"](s)&&(s>=11026&&s<=11055||s>=11088&&s<=11097||s>=11192&&s<=11243)||cn["CJK Symbols and Punctuation"](s)||cn.Katakana(s)||cn["Private Use Area"](s)||cn["CJK Compatibility Forms"](s)||cn["Small Form Variants"](s)||cn["Halfwidth and Fullwidth Forms"](s)||s===8734||s===8756||s===8757||s>=9984&&s<=10087||s>=10102&&s<=10131||s===65532||s===65533)}(c))}let LT=oy(["Adlm","Arab","Armi","Avst","Chrs","Cprt","Egyp","Elym","Gara","Hatr","Hebr","Hung","Khar","Lydi","Mand","Mani","Mend","Merc","Mero","Narb","Nbat","Nkoo","Orkh","Palm","Phli","Phlp","Phnx","Prti","Rohg","Samr","Sarb","Sogo","Syrc","Thaa","Todr","Yezi"]);function jb(c){return LT.test(String.fromCodePoint(c))}function qT(c,s){return!(!s&&jb(c)||c>=2304&&c<=3583||c>=3840&&c<=4255||cn.Khmer(c))}function zT(c){for(let s of c)if(jb(s.charCodeAt(0)))return!0;return!1}let fl=new class{constructor(){this.TIMEOUT=5e3,this.applyArabicShaping=null,this.processBidirectionalText=null,this.processStyledBidirectionalText=null,this.pluginStatus="unavailable",this.pluginURL=null,this.loadScriptResolve=()=>{}}setState(c){this.pluginStatus=c.pluginStatus,this.pluginURL=c.pluginURL}getState(){return{pluginStatus:this.pluginStatus,pluginURL:this.pluginURL}}setMethods(c){if(fl.isParsed())throw new Error("RTL text plugin already registered.");this.applyArabicShaping=c.applyArabicShaping,this.processBidirectionalText=c.processBidirectionalText,this.processStyledBidirectionalText=c.processStyledBidirectionalText,this.loadScriptResolve()}isParsed(){return this.applyArabicShaping!=null&&this.processBidirectionalText!=null&&this.processStyledBidirectionalText!=null}getRTLTextPluginStatus(){return this.pluginStatus}syncState(c,s){return o(this,void 0,void 0,function*(){if(this.isParsed())return this.getState();if(c.pluginStatus!=="loading")return this.setState(c),c;let l=c.pluginURL,h=new Promise(S=>{this.loadScriptResolve=S});s(l);let v=new Promise(S=>setTimeout(()=>S(),this.TIMEOUT));if(yield Promise.race([h,v]),this.isParsed()){let S={pluginStatus:"loaded",pluginURL:l};return this.setState(S),S}throw this.setState({pluginStatus:"error",pluginURL:""}),new Error(`RTL Text Plugin failed to import scripts from ${l}`)})}};class Zn{constructor(s,l){this.zoom=s,l?(this.now=l.now||0,this.fadeDuration=l.fadeDuration||0,this.zoomHistory=l.zoomHistory||new ny,this.transition=l.transition||{},this.globalState=l.globalState||{}):(this.now=0,this.fadeDuration=0,this.zoomHistory=new ny,this.transition={},this.globalState={})}isSupportedScript(s){return function(l,h){for(let v of l)if(!qT(v.charCodeAt(0),h))return!1;return!0}(s,fl.getRTLTextPluginStatus()==="loaded")}crossFadingFactor(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){let s=this.zoom,l=s-Math.floor(s),h=this.crossFadingFactor();return s>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:l+(1-l)*h}:{fromScale:.5,toScale:1,t:1-(1-h)*l}}}class Sd{constructor(s,l){this.property=s,this.value=l,this.expression=function(h,v){if(Am(h))return new Dm(h,v);if(Kv(h)){let S=wT(h,v);if(S.result==="error")throw new Error(S.value.map(E=>`${E.key}: ${E.message}`).join(", "));return S.value}{let S=h;return v.type==="color"&&typeof h=="string"?S=rn.parse(h):v.type!=="padding"||typeof h!="number"&&!Array.isArray(h)?v.type!=="numberArray"||typeof h!="number"&&!Array.isArray(h)?v.type!=="colorArray"||typeof h!="string"&&!Array.isArray(h)?v.type==="variableAnchorOffsetCollection"&&Array.isArray(h)?S=ra.parse(h):v.type==="projectionDefinition"&&typeof h=="string"&&(S=jo.parse(h)):S=Ui.parse(h):S=ta.parse(h):S=po.parse(h),{globalStateRefs:new Set,kind:"constant",evaluate:()=>S}}}(l===void 0?s.specification.default:l,s.specification),this._evaluate=this.expression.evaluate}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}getGlobalStateRefs(){return this.expression.globalStateRefs||new Set}possiblyEvaluate(s,l,h){return this.property.possiblyEvaluate(this,s,l,h)}setGlobalState(s){this.expression.evaluate=(l,h,v,S,E,C)=>(l.globalState=s,this._evaluate.call(this.expression,l,h,v,S,E,C))}}class Fb{constructor(s){this.property=s,this.value=new Sd(s,void 0)}transitioned(s,l){return new Bb(this.property,this.value,l,Me({},s.transition,this.transition),s.now)}untransitioned(){return new Bb(this.property,this.value,null,{},0)}}class jT{constructor(s){this._properties=s,this._values=Object.create(s.defaultTransitionablePropertyValues)}getValue(s){return it(this._values[s].value.value)}setValue(s,l){Object.prototype.hasOwnProperty.call(this._values,s)||(this._values[s]=new Fb(this._values[s].property)),this._values[s].value=new Sd(this._values[s].property,l===null?void 0:it(l))}getTransition(s){return it(this._values[s].transition)}setTransition(s,l){Object.prototype.hasOwnProperty.call(this._values,s)||(this._values[s]=new Fb(this._values[s].property)),this._values[s].transition=it(l)||void 0}serialize(){let s={};for(let l of Object.keys(this._values)){let h=this.getValue(l);h!==void 0&&(s[l]=h);let v=this.getTransition(l);v!==void 0&&(s[`${l}-transition`]=v)}return s}transitioned(s,l){let h=new Ub(this._properties);for(let v of Object.keys(this._values))h._values[v]=this._values[v].transitioned(s,l._values[v]);return h}untransitioned(){let s=new Ub(this._properties);for(let l of Object.keys(this._values))s._values[l]=this._values[l].untransitioned();return s}}class Bb{constructor(s,l,h,v,S){this.property=s,this.value=l,this.begin=S+v.delay||0,this.end=this.begin+v.duration||0,s.specification.transition&&(v.delay||v.duration)&&(this.prior=h)}possiblyEvaluate(s,l,h){let v=s.now||0,S=this.value.possiblyEvaluate(s,l,h),E=this.prior;if(E){if(v>this.end)return this.prior=null,S;if(this.value.isDataDriven())return this.prior=null,S;if(v<this.begin)return E.possiblyEvaluate(s,l,h);{let C=(v-this.begin)/(this.end-this.begin);return this.property.interpolate(E.possiblyEvaluate(s,l,h),S,wt(C))}}return S}}class Ub{constructor(s){this._properties=s,this._values=Object.create(s.defaultTransitioningPropertyValues)}possiblyEvaluate(s,l,h){let v=new ay(this._properties);for(let S of Object.keys(this._values))v._values[S]=this._values[S].possiblyEvaluate(s,l,h);return v}hasTransition(){for(let s of Object.keys(this._values))if(this._values[s].prior)return!0;return!1}}class FT{constructor(s){this._properties=s,this._values=Object.create(s.defaultPropertyValues),this._globalState={}}hasValue(s){return this._values[s].value!==void 0}getValue(s){return it(this._values[s].value)}setValue(s,l){this._values[s]=new Sd(this._values[s].property,l===null?void 0:it(l)),this._values[s].setGlobalState(this._globalState)}serialize(){let s={};for(let l of Object.keys(this._values)){let h=this.getValue(l);h!==void 0&&(s[l]=h)}return s}possiblyEvaluate(s,l,h){let v=new ay(this._properties);for(let S of Object.keys(this._values))v._values[S]=this._values[S].possiblyEvaluate(s,l,h);return v}setGlobalState(s){this._globalState=s;for(let l of Object.values(this._values))l.setGlobalState(s)}}class Ul{constructor(s,l,h){this.property=s,this.value=l,this.parameters=h}isConstant(){return this.value.kind==="constant"}constantOr(s){return this.value.kind==="constant"?this.value.value:s}evaluate(s,l,h,v){return this.property.evaluate(this.value,this.parameters,s,l,h,v)}}class ay{constructor(s){this._properties=s,this._values=Object.create(s.defaultPossiblyEvaluatedValues)}get(s){return this._values[s]}}class nr{constructor(s){this.specification=s}possiblyEvaluate(s,l){if(s.isDataDriven())throw new Error("Value should not be data driven");return s.expression.evaluate(l)}interpolate(s,l,h){let v=Fl[this.specification.type];return v?v(s,l,h):s}}class gr{constructor(s,l){this.specification=s,this.overrides=l}possiblyEvaluate(s,l,h,v){return new Ul(this,s.expression.kind==="constant"||s.expression.kind==="camera"?{kind:"constant",value:s.expression.evaluate(l,null,{},h,v)}:s.expression,l)}interpolate(s,l,h){if(s.value.kind!=="constant"||l.value.kind!=="constant")return s;if(s.value.value===void 0||l.value.value===void 0)return new Ul(this,{kind:"constant",value:void 0},s.parameters);let v=Fl[this.specification.type];if(v){let S=v(s.value.value,l.value.value,h);return new Ul(this,{kind:"constant",value:S},s.parameters)}return s}evaluate(s,l,h,v,S,E){return s.kind==="constant"?s.value:s.evaluate(l,h,v,S,E)}}class sy extends gr{possiblyEvaluate(s,l,h,v){if(s.value===void 0)return new Ul(this,{kind:"constant",value:void 0},l);if(s.expression.kind==="constant"){let S=s.expression.evaluate(l,null,{},h,v),E=s.property.specification.type==="resolvedImage"&&typeof S!="string"?S.name:S,C=this._calculate(E,E,E,l);return new Ul(this,{kind:"constant",value:C},l)}if(s.expression.kind==="camera"){let S=this._calculate(s.expression.evaluate({zoom:l.zoom-1}),s.expression.evaluate({zoom:l.zoom}),s.expression.evaluate({zoom:l.zoom+1}),l);return new Ul(this,{kind:"constant",value:S},l)}return new Ul(this,s.expression,l)}evaluate(s,l,h,v,S,E){if(s.kind==="source"){let C=s.evaluate(l,h,v,S,E);return this._calculate(C,C,C,l)}return s.kind==="composite"?this._calculate(s.evaluate({zoom:Math.floor(l.zoom)-1},h,v),s.evaluate({zoom:Math.floor(l.zoom)},h,v),s.evaluate({zoom:Math.floor(l.zoom)+1},h,v),l):s.value}_calculate(s,l,h,v){return v.zoom>v.zoomHistory.lastIntegerZoom?{from:s,to:l}:{from:h,to:l}}interpolate(s){return s}}class kc{constructor(s){this.specification=s}possiblyEvaluate(s,l,h,v){if(s.value!==void 0){if(s.expression.kind==="constant"){let S=s.expression.evaluate(l,null,{},h,v);return this._calculate(S,S,S,l)}return this._calculate(s.expression.evaluate(new Zn(Math.floor(l.zoom-1),l)),s.expression.evaluate(new Zn(Math.floor(l.zoom),l)),s.expression.evaluate(new Zn(Math.floor(l.zoom+1),l)),l)}}_calculate(s,l,h,v){return v.zoom>v.zoomHistory.lastIntegerZoom?{from:s,to:l}:{from:h,to:l}}interpolate(s){return s}}class ly{constructor(s){this.specification=s}possiblyEvaluate(s,l,h,v){return!!s.expression.evaluate(l,null,{},h,v)}interpolate(){return!1}}class na{constructor(s){this.properties=s,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(let l in s){let h=s[l];h.specification.overridable&&this.overridableProperties.push(l);let v=this.defaultPropertyValues[l]=new Sd(h,void 0),S=this.defaultTransitionablePropertyValues[l]=new Fb(h);this.defaultTransitioningPropertyValues[l]=S.untransitioned(),this.defaultPossiblyEvaluatedValues[l]=v.possiblyEvaluate({})}}}Zt("DataDrivenProperty",gr),Zt("DataConstantProperty",nr),Zt("CrossFadedDataDrivenProperty",sy),Zt("CrossFadedProperty",kc),Zt("ColorRampProperty",ly);let BT="-transition";class Ps extends at{constructor(s,l){if(super(),this.id=s.id,this.type=s.type,this._featureFilter={filter:()=>!0,needGeometry:!1,getGlobalStateRefs:()=>new Set},s.type!=="custom"&&(this.metadata=s.metadata,this.minzoom=s.minzoom,this.maxzoom=s.maxzoom,this._globalState={},s.type!=="background"&&(this.source=s.source,this.sourceLayer=s["source-layer"],this.filter=s.filter,this._featureFilter=Yp(s.filter)),l.layout&&(this._unevaluatedLayout=new FT(l.layout)),l.paint)){this._transitionablePaint=new jT(l.paint);for(let h in s.paint)this.setPaintProperty(h,s.paint[h],{validate:!1});for(let h in s.layout)this.setLayoutProperty(h,s.layout[h],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new ay(l.paint)}}setFilter(s){this.filter=s,this._featureFilter=Yp(s)}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(s){return s==="visibility"?this.visibility:this._unevaluatedLayout.getValue(s)}getLayoutAffectingGlobalStateRefs(){let s=new Set;if(this._unevaluatedLayout)for(let l in this._unevaluatedLayout._values){let h=this._unevaluatedLayout._values[l];for(let v of h.getGlobalStateRefs())s.add(v)}for(let l of this._featureFilter.getGlobalStateRefs())s.add(l);return s}getPaintAffectingGlobalStateRefs(){var s;let l=new globalThis.Map;if(this._transitionablePaint)for(let h in this._transitionablePaint._values){let v=this._transitionablePaint._values[h].value;for(let S of v.getGlobalStateRefs()){let E=(s=l.get(S))!==null&&s!==void 0?s:[];E.push({name:h,value:v.value}),l.set(S,E)}}return l}setLayoutProperty(s,l,h={}){l!=null&&this._validate(oL,`layers.${this.id}.layout.${s}`,s,l,h)||(s!=="visibility"?this._unevaluatedLayout.setValue(s,l):this.visibility=l)}getPaintProperty(s){return s.endsWith(BT)?this._transitionablePaint.getTransition(s.slice(0,-11)):this._transitionablePaint.getValue(s)}setPaintProperty(s,l,h={}){if(l!=null&&this._validate(iL,`layers.${this.id}.paint.${s}`,s,l,h))return!1;if(s.endsWith(BT))return this._transitionablePaint.setTransition(s.slice(0,-11),l||void 0),!1;{let v=this._transitionablePaint._values[s],S=v.property.specification["property-type"]==="cross-faded-data-driven",E=v.value.isDataDriven(),C=v.value;this._transitionablePaint.setValue(s,l),this._handleSpecialPaintPropertyUpdate(s);let O=this._transitionablePaint._values[s].value;return O.isDataDriven()||E||S||this._handleOverridablePaintPropertyUpdate(s,C,O)}}_handleSpecialPaintPropertyUpdate(s){}_handleOverridablePaintPropertyUpdate(s,l,h){return!1}isHidden(s){return!!(this.minzoom&&s<this.minzoom)||!!(this.maxzoom&&s>=this.maxzoom)||this.visibility==="none"}updateTransitions(s){this._transitioningPaint=this._transitionablePaint.transitioned(s,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(s,l){s.globalState=this._globalState,s.getCrossfadeParameters&&(this._crossfadeParameters=s.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(s,void 0,l)),this.paint=this._transitioningPaint.possiblyEvaluate(s,void 0,l)}setGlobalState(s){this._globalState=s,this._unevaluatedLayout&&this._unevaluatedLayout.setGlobalState(s)}serialize(){let s={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(s.layout=s.layout||{},s.layout.visibility=this.visibility),ot(s,(l,h)=>!(l===void 0||h==="layout"&&!Object.keys(l).length||h==="paint"&&!Object.keys(l).length))}_validate(s,l,h,v,S={}){return(!S||S.validate!==!1)&&qm(this,s.call(xd,{key:l,layerType:this.type,objectKey:h,value:v,styleSpec:ye,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(let s in this.paint._values){let l=this.paint.get(s);if(l instanceof Ul&&Oc(l.property.specification)&&(l.value.kind==="source"||l.value.kind==="composite")&&l.value.isStateDependent)return!0}return!1}}let lL={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class jm{constructor(s,l){this._structArray=s,this._pos1=l*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class Un{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(s,l){return s._trim(),l&&(s.isTransferred=!0,l.push(s.arrayBuffer)),{length:s.length,arrayBuffer:s.arrayBuffer}}static deserialize(s){let l=Object.create(this.prototype);return l.arrayBuffer=s.arrayBuffer,l.length=s.length,l.capacity=s.arrayBuffer.byteLength/l.bytesPerElement,l._refreshViews(),l}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(s){this.reserve(s),this.length=s}reserve(s){if(s>this.capacity){this.capacity=Math.max(s,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);let l=this.uint8;this._refreshViews(),l&&this.uint8.set(l)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function Di(c,s=1){let l=0,h=0;return{members:c.map(v=>{let S=lL[v.type].BYTES_PER_ELEMENT,E=l=uy(l,Math.max(s,S)),C=v.components||1;return h=Math.max(h,S),l+=S*C,{name:v.name,type:v.type,components:C,offset:E}}),size:uy(l,Math.max(h,s)),alignment:s}}function uy(c,s){return Math.ceil(c/s)*s}class Ed extends Un{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(s,l){let h=this.length;return this.resize(h+1),this.emplace(h,s,l)}emplace(s,l,h){let v=2*s;return this.int16[v+0]=l,this.int16[v+1]=h,s}}Ed.prototype.bytesPerElement=4,Zt("StructArrayLayout2i4",Ed);class Id extends Un{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(s,l,h){let v=this.length;return this.resize(v+1),this.emplace(v,s,l,h)}emplace(s,l,h,v){let S=3*s;return this.int16[S+0]=l,this.int16[S+1]=h,this.int16[S+2]=v,s}}Id.prototype.bytesPerElement=6,Zt("StructArrayLayout3i6",Id);class Vb extends Un{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(s,l,h,v){let S=this.length;return this.resize(S+1),this.emplace(S,s,l,h,v)}emplace(s,l,h,v,S){let E=4*s;return this.int16[E+0]=l,this.int16[E+1]=h,this.int16[E+2]=v,this.int16[E+3]=S,s}}Vb.prototype.bytesPerElement=8,Zt("StructArrayLayout4i8",Vb);class Td extends Un{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(s,l,h,v,S,E){let C=this.length;return this.resize(C+1),this.emplace(C,s,l,h,v,S,E)}emplace(s,l,h,v,S,E,C){let O=6*s;return this.int16[O+0]=l,this.int16[O+1]=h,this.int16[O+2]=v,this.int16[O+3]=S,this.int16[O+4]=E,this.int16[O+5]=C,s}}Td.prototype.bytesPerElement=12,Zt("StructArrayLayout2i4i12",Td);class Jp extends Un{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(s,l,h,v,S,E){let C=this.length;return this.resize(C+1),this.emplace(C,s,l,h,v,S,E)}emplace(s,l,h,v,S,E,C){let O=4*s,R=8*s;return this.int16[O+0]=l,this.int16[O+1]=h,this.uint8[R+4]=v,this.uint8[R+5]=S,this.uint8[R+6]=E,this.uint8[R+7]=C,s}}Jp.prototype.bytesPerElement=8,Zt("StructArrayLayout2i4ub8",Jp);class Fm extends Un{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(s,l){let h=this.length;return this.resize(h+1),this.emplace(h,s,l)}emplace(s,l,h){let v=2*s;return this.float32[v+0]=l,this.float32[v+1]=h,s}}Fm.prototype.bytesPerElement=8,Zt("StructArrayLayout2f8",Fm);class cy extends Un{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(s,l,h,v,S,E,C,O,R,j){let $=this.length;return this.resize($+1),this.emplace($,s,l,h,v,S,E,C,O,R,j)}emplace(s,l,h,v,S,E,C,O,R,j,$){let Z=10*s;return this.uint16[Z+0]=l,this.uint16[Z+1]=h,this.uint16[Z+2]=v,this.uint16[Z+3]=S,this.uint16[Z+4]=E,this.uint16[Z+5]=C,this.uint16[Z+6]=O,this.uint16[Z+7]=R,this.uint16[Z+8]=j,this.uint16[Z+9]=$,s}}cy.prototype.bytesPerElement=20,Zt("StructArrayLayout10ui20",cy);class ef extends Un{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(s,l,h,v,S,E,C,O,R,j,$,Z){let X=this.length;return this.resize(X+1),this.emplace(X,s,l,h,v,S,E,C,O,R,j,$,Z)}emplace(s,l,h,v,S,E,C,O,R,j,$,Z,X){let Q=12*s;return this.int16[Q+0]=l,this.int16[Q+1]=h,this.int16[Q+2]=v,this.int16[Q+3]=S,this.uint16[Q+4]=E,this.uint16[Q+5]=C,this.uint16[Q+6]=O,this.uint16[Q+7]=R,this.int16[Q+8]=j,this.int16[Q+9]=$,this.int16[Q+10]=Z,this.int16[Q+11]=X,s}}ef.prototype.bytesPerElement=24,Zt("StructArrayLayout4i4ui4i24",ef);class $b extends Un{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(s,l,h){let v=this.length;return this.resize(v+1),this.emplace(v,s,l,h)}emplace(s,l,h,v){let S=3*s;return this.float32[S+0]=l,this.float32[S+1]=h,this.float32[S+2]=v,s}}$b.prototype.bytesPerElement=12,Zt("StructArrayLayout3f12",$b);class Gb extends Un{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(s){let l=this.length;return this.resize(l+1),this.emplace(l,s)}emplace(s,l){return this.uint32[1*s+0]=l,s}}Gb.prototype.bytesPerElement=4,Zt("StructArrayLayout1ul4",Gb);class py extends Un{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(s,l,h,v,S,E,C,O,R){let j=this.length;return this.resize(j+1),this.emplace(j,s,l,h,v,S,E,C,O,R)}emplace(s,l,h,v,S,E,C,O,R,j){let $=10*s,Z=5*s;return this.int16[$+0]=l,this.int16[$+1]=h,this.int16[$+2]=v,this.int16[$+3]=S,this.int16[$+4]=E,this.int16[$+5]=C,this.uint32[Z+3]=O,this.uint16[$+8]=R,this.uint16[$+9]=j,s}}py.prototype.bytesPerElement=20,Zt("StructArrayLayout6i1ul2ui20",py);class Hb extends Un{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(s,l,h,v,S,E){let C=this.length;return this.resize(C+1),this.emplace(C,s,l,h,v,S,E)}emplace(s,l,h,v,S,E,C){let O=6*s;return this.int16[O+0]=l,this.int16[O+1]=h,this.int16[O+2]=v,this.int16[O+3]=S,this.int16[O+4]=E,this.int16[O+5]=C,s}}Hb.prototype.bytesPerElement=12,Zt("StructArrayLayout2i2i2i12",Hb);class x extends Un{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(s,l,h,v,S){let E=this.length;return this.resize(E+1),this.emplace(E,s,l,h,v,S)}emplace(s,l,h,v,S,E){let C=4*s,O=8*s;return this.float32[C+0]=l,this.float32[C+1]=h,this.float32[C+2]=v,this.int16[O+6]=S,this.int16[O+7]=E,s}}x.prototype.bytesPerElement=16,Zt("StructArrayLayout2f1f2i16",x);class a extends Un{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(s,l,h,v,S,E){let C=this.length;return this.resize(C+1),this.emplace(C,s,l,h,v,S,E)}emplace(s,l,h,v,S,E,C){let O=16*s,R=4*s,j=8*s;return this.uint8[O+0]=l,this.uint8[O+1]=h,this.float32[R+1]=v,this.float32[R+2]=S,this.int16[j+6]=E,this.int16[j+7]=C,s}}a.prototype.bytesPerElement=16,Zt("StructArrayLayout2ub2f2i16",a);class f extends Un{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(s,l,h){let v=this.length;return this.resize(v+1),this.emplace(v,s,l,h)}emplace(s,l,h,v){let S=3*s;return this.uint16[S+0]=l,this.uint16[S+1]=h,this.uint16[S+2]=v,s}}f.prototype.bytesPerElement=6,Zt("StructArrayLayout3ui6",f);class m extends Un{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(s,l,h,v,S,E,C,O,R,j,$,Z,X,Q,re,le,me){let Fe=this.length;return this.resize(Fe+1),this.emplace(Fe,s,l,h,v,S,E,C,O,R,j,$,Z,X,Q,re,le,me)}emplace(s,l,h,v,S,E,C,O,R,j,$,Z,X,Q,re,le,me,Fe){let Ce=24*s,De=12*s,Ye=48*s;return this.int16[Ce+0]=l,this.int16[Ce+1]=h,this.uint16[Ce+2]=v,this.uint16[Ce+3]=S,this.uint32[De+2]=E,this.uint32[De+3]=C,this.uint32[De+4]=O,this.uint16[Ce+10]=R,this.uint16[Ce+11]=j,this.uint16[Ce+12]=$,this.float32[De+7]=Z,this.float32[De+8]=X,this.uint8[Ye+36]=Q,this.uint8[Ye+37]=re,this.uint8[Ye+38]=le,this.uint32[De+10]=me,this.int16[Ce+22]=Fe,s}}m.prototype.bytesPerElement=48,Zt("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",m);class y extends Un{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(s,l,h,v,S,E,C,O,R,j,$,Z,X,Q,re,le,me,Fe,Ce,De,Ye,nt,_t,zt,Ct,Rt,or,Nt){let Lt=this.length;return this.resize(Lt+1),this.emplace(Lt,s,l,h,v,S,E,C,O,R,j,$,Z,X,Q,re,le,me,Fe,Ce,De,Ye,nt,_t,zt,Ct,Rt,or,Nt)}emplace(s,l,h,v,S,E,C,O,R,j,$,Z,X,Q,re,le,me,Fe,Ce,De,Ye,nt,_t,zt,Ct,Rt,or,Nt,Lt){let ft=32*s,br=16*s;return this.int16[ft+0]=l,this.int16[ft+1]=h,this.int16[ft+2]=v,this.int16[ft+3]=S,this.int16[ft+4]=E,this.int16[ft+5]=C,this.int16[ft+6]=O,this.int16[ft+7]=R,this.uint16[ft+8]=j,this.uint16[ft+9]=$,this.uint16[ft+10]=Z,this.uint16[ft+11]=X,this.uint16[ft+12]=Q,this.uint16[ft+13]=re,this.uint16[ft+14]=le,this.uint16[ft+15]=me,this.uint16[ft+16]=Fe,this.uint16[ft+17]=Ce,this.uint16[ft+18]=De,this.uint16[ft+19]=Ye,this.uint16[ft+20]=nt,this.uint16[ft+21]=_t,this.uint16[ft+22]=zt,this.uint32[br+12]=Ct,this.float32[br+13]=Rt,this.float32[br+14]=or,this.uint16[ft+30]=Nt,this.uint16[ft+31]=Lt,s}}y.prototype.bytesPerElement=64,Zt("StructArrayLayout8i15ui1ul2f2ui64",y);class w extends Un{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(s){let l=this.length;return this.resize(l+1),this.emplace(l,s)}emplace(s,l){return this.float32[1*s+0]=l,s}}w.prototype.bytesPerElement=4,Zt("StructArrayLayout1f4",w);class M extends Un{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(s,l,h){let v=this.length;return this.resize(v+1),this.emplace(v,s,l,h)}emplace(s,l,h,v){let S=3*s;return this.uint16[6*s+0]=l,this.float32[S+1]=h,this.float32[S+2]=v,s}}M.prototype.bytesPerElement=12,Zt("StructArrayLayout1ui2f12",M);class D extends Un{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(s,l,h){let v=this.length;return this.resize(v+1),this.emplace(v,s,l,h)}emplace(s,l,h,v){let S=4*s;return this.uint32[2*s+0]=l,this.uint16[S+2]=h,this.uint16[S+3]=v,s}}D.prototype.bytesPerElement=8,Zt("StructArrayLayout1ul2ui8",D);class k extends Un{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(s,l){let h=this.length;return this.resize(h+1),this.emplace(h,s,l)}emplace(s,l,h){let v=2*s;return this.uint16[v+0]=l,this.uint16[v+1]=h,s}}k.prototype.bytesPerElement=4,Zt("StructArrayLayout2ui4",k);class B extends Un{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(s){let l=this.length;return this.resize(l+1),this.emplace(l,s)}emplace(s,l){return this.uint16[1*s+0]=l,s}}B.prototype.bytesPerElement=2,Zt("StructArrayLayout1ui2",B);class V extends Un{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(s,l,h,v){let S=this.length;return this.resize(S+1),this.emplace(S,s,l,h,v)}emplace(s,l,h,v,S){let E=4*s;return this.float32[E+0]=l,this.float32[E+1]=h,this.float32[E+2]=v,this.float32[E+3]=S,s}}V.prototype.bytesPerElement=16,Zt("StructArrayLayout4f16",V);class W extends jm{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.int16[this._pos2+2]}get y1(){return this._structArray.int16[this._pos2+3]}get x2(){return this._structArray.int16[this._pos2+4]}get y2(){return this._structArray.int16[this._pos2+5]}get featureIndex(){return this._structArray.uint32[this._pos4+3]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+8]}get bucketIndex(){return this._structArray.uint16[this._pos2+9]}get anchorPoint(){return new u(this.anchorPointX,this.anchorPointY)}}W.prototype.size=20;class G extends py{get(s){return new W(this,s)}}Zt("CollisionBoxArray",G);class K extends jm{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+2]}get numGlyphs(){return this._structArray.uint16[this._pos2+3]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+2]}get lineStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineLength(){return this._structArray.uint32[this._pos4+4]}get segment(){return this._structArray.uint16[this._pos2+10]}get lowerSize(){return this._structArray.uint16[this._pos2+11]}get upperSize(){return this._structArray.uint16[this._pos2+12]}get lineOffsetX(){return this._structArray.float32[this._pos4+7]}get lineOffsetY(){return this._structArray.float32[this._pos4+8]}get writingMode(){return this._structArray.uint8[this._pos1+36]}get placedOrientation(){return this._structArray.uint8[this._pos1+37]}set placedOrientation(s){this._structArray.uint8[this._pos1+37]=s}get hidden(){return this._structArray.uint8[this._pos1+38]}set hidden(s){this._structArray.uint8[this._pos1+38]=s}get crossTileID(){return this._structArray.uint32[this._pos4+10]}set crossTileID(s){this._structArray.uint32[this._pos4+10]=s}get associatedIconIndex(){return this._structArray.int16[this._pos2+22]}}K.prototype.size=48;class ee extends m{get(s){return new K(this,s)}}Zt("PlacedSymbolArray",ee);class pe extends jm{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+2]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+3]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+7]}get key(){return this._structArray.uint16[this._pos2+8]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+9]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+10]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get featureIndex(){return this._structArray.uint16[this._pos2+17]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+18]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+19]}get numIconVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+21]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+22]}get crossTileID(){return this._structArray.uint32[this._pos4+12]}set crossTileID(s){this._structArray.uint32[this._pos4+12]=s}get textBoxScale(){return this._structArray.float32[this._pos4+13]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+14]}get textAnchorOffsetStartIndex(){return this._structArray.uint16[this._pos2+30]}get textAnchorOffsetEndIndex(){return this._structArray.uint16[this._pos2+31]}}pe.prototype.size=64;class ce extends y{get(s){return new pe(this,s)}}Zt("SymbolInstanceArray",ce);class fe extends w{getoffsetX(s){return this.float32[1*s+0]}}Zt("GlyphOffsetArray",fe);class ge extends Id{getx(s){return this.int16[3*s+0]}gety(s){return this.int16[3*s+1]}gettileUnitDistanceFromAnchor(s){return this.int16[3*s+2]}}Zt("SymbolLineVertexArray",ge);class Te extends jm{get textAnchor(){return this._structArray.uint16[this._pos2+0]}get textOffset0(){return this._structArray.float32[this._pos4+1]}get textOffset1(){return this._structArray.float32[this._pos4+2]}}Te.prototype.size=12;class be extends M{get(s){return new Te(this,s)}}Zt("TextAnchorOffsetArray",be);class Ae extends jm{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}}Ae.prototype.size=8;class Ne extends D{get(s){return new Ae(this,s)}}Zt("FeatureIndexArray",Ne);class Se extends Ed{}class Ve extends Ed{}class et extends Ed{}class He extends Td{}class Ze extends Jp{}class Qe extends Fm{}class Tt extends cy{}class At extends ef{}class dt extends $b{}class tr extends Gb{}class Fr extends Hb{}class En extends a{}class Vn extends f{}class zn extends k{}let mi=Di([{name:"a_pos",components:2,type:"Int16"}],4),{members:Si}=mi;class zr{constructor(s=[]){this._forceNewSegmentOnNextPrepare=!1,this.segments=s}prepareSegment(s,l,h,v){let S=this.segments[this.segments.length-1];return s>zr.MAX_VERTEX_ARRAY_LENGTH&&ht(`Max vertices per segment is ${zr.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${s}. Consider using the \`fillLargeMeshArrays\` function if you require meshes with more than ${zr.MAX_VERTEX_ARRAY_LENGTH} vertices.`),this._forceNewSegmentOnNextPrepare||!S||S.vertexLength+s>zr.MAX_VERTEX_ARRAY_LENGTH||S.sortKey!==v?this.createNewSegment(l,h,v):S}createNewSegment(s,l,h){let v={vertexOffset:s.length,primitiveOffset:l.length,vertexLength:0,primitiveLength:0,vaos:{}};return h!==void 0&&(v.sortKey=h),this._forceNewSegmentOnNextPrepare=!1,this.segments.push(v),v}getOrCreateLatestSegment(s,l,h){return this.prepareSegment(0,s,l,h)}forceNewSegmentOnNextPrepare(){this._forceNewSegmentOnNextPrepare=!0}get(){return this.segments}destroy(){for(let s of this.segments)for(let l in s.vaos)s.vaos[l].destroy()}static simpleSegment(s,l,h,v){return new zr([{vertexOffset:s,primitiveOffset:l,vertexLength:h,primitiveLength:v,vaos:{},sortKey:0}])}}function $n(c,s){return 256*(c=tt(Math.floor(c),0,255))+tt(Math.floor(s),0,255)}zr.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Zt("SegmentVector",zr);let Vi=Di([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]);var eo,ho,ia,dl={exports:{}},Nc={exports:{}},Rc={exports:{}},Md=function(){if(ia)return dl.exports;ia=1;var c=(eo||(eo=1,Nc.exports=function(l,h){var v,S,E,C,O,R,j,$;for(S=l.length-(v=3&l.length),E=h,O=3432918353,R=461845907,$=0;$<S;)j=255&l.charCodeAt($)|(255&l.charCodeAt(++$))<<8|(255&l.charCodeAt(++$))<<16|(255&l.charCodeAt(++$))<<24,++$,E=27492+(65535&(C=5*(65535&(E=(E^=j=(65535&(j=(j=(65535&j)*O+(((j>>>16)*O&65535)<<16)&4294967295)<<15|j>>>17))*R+(((j>>>16)*R&65535)<<16)&4294967295)<<13|E>>>19))+((5*(E>>>16)&65535)<<16)&4294967295))+((58964+(C>>>16)&65535)<<16);switch(j=0,v){case 3:j^=(255&l.charCodeAt($+2))<<16;case 2:j^=(255&l.charCodeAt($+1))<<8;case 1:E^=j=(65535&(j=(j=(65535&(j^=255&l.charCodeAt($)))*O+(((j>>>16)*O&65535)<<16)&4294967295)<<15|j>>>17))*R+(((j>>>16)*R&65535)<<16)&4294967295}return E^=l.length,E=2246822507*(65535&(E^=E>>>16))+((2246822507*(E>>>16)&65535)<<16)&4294967295,E=3266489909*(65535&(E^=E>>>13))+((3266489909*(E>>>16)&65535)<<16)&4294967295,(E^=E>>>16)>>>0}),Nc.exports),s=(ho||(ho=1,Rc.exports=function(l,h){for(var v,S=l.length,E=h^S,C=0;S>=4;)v=1540483477*(65535&(v=255&l.charCodeAt(C)|(255&l.charCodeAt(++C))<<8|(255&l.charCodeAt(++C))<<16|(255&l.charCodeAt(++C))<<24))+((1540483477*(v>>>16)&65535)<<16),E=1540483477*(65535&E)+((1540483477*(E>>>16)&65535)<<16)^(v=1540483477*(65535&(v^=v>>>24))+((1540483477*(v>>>16)&65535)<<16)),S-=4,++C;switch(S){case 3:E^=(255&l.charCodeAt(C+2))<<16;case 2:E^=(255&l.charCodeAt(C+1))<<8;case 1:E=1540483477*(65535&(E^=255&l.charCodeAt(C)))+((1540483477*(E>>>16)&65535)<<16)}return E=1540483477*(65535&(E^=E>>>13))+((1540483477*(E>>>16)&65535)<<16),(E^=E>>>15)>>>0}),Rc.exports);return dl.exports=c,dl.exports.murmur3=c,dl.exports.murmur2=s,dl.exports}(),Cd=d(Md);class tf{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(s,l,h,v){this.ids.push(rf(s)),this.positions.push(l,h,v)}getPositions(s){if(!this.indexed)throw new Error("Trying to get index, but feature positions are not indexed");let l=rf(s),h=0,v=this.ids.length-1;for(;h<v;){let E=h+v>>1;this.ids[E]>=l?v=E:h=E+1}let S=[];for(;this.ids[h]===l;)S.push({index:this.positions[3*h],start:this.positions[3*h+1],end:this.positions[3*h+2]}),h++;return S}static serialize(s,l){let h=new Float64Array(s.ids),v=new Uint32Array(s.positions);return qa(h,v,0,h.length-1),l&&l.push(h.buffer,v.buffer),{ids:h,positions:v}}static deserialize(s){let l=new tf;return l.ids=s.ids,l.positions=s.positions,l.indexed=!0,l}}function rf(c){let s=+c;return!isNaN(s)&&s<=Number.MAX_SAFE_INTEGER?s:Cd(String(c))}function qa(c,s,l,h){for(;l<h;){let v=c[l+h>>1],S=l-1,E=h+1;for(;;){do S++;while(c[S]<v);do E--;while(c[E]>v);if(S>=E)break;hl(c,S,E),hl(s,3*S,3*E),hl(s,3*S+1,3*E+1),hl(s,3*S+2,3*E+2)}E-l<h-E?(qa(c,s,l,E),l=E+1):(qa(c,s,E+1,h),h=E)}}function hl(c,s,l){let h=c[s];c[s]=c[l],c[l]=h}Zt("FeaturePositionMap",tf);class oa{constructor(s,l){this.gl=s.gl,this.location=l}}class Lc extends oa{constructor(s,l){super(s,l),this.current=0}set(s){this.current!==s&&(this.current=s,this.gl.uniform1f(this.location,s))}}class $i extends oa{constructor(s,l){super(s,l),this.current=[0,0,0,0]}set(s){s[0]===this.current[0]&&s[1]===this.current[1]&&s[2]===this.current[2]&&s[3]===this.current[3]||(this.current=s,this.gl.uniform4f(this.location,s[0],s[1],s[2],s[3]))}}class to extends oa{constructor(s,l){super(s,l),this.current=rn.transparent}set(s){s.r===this.current.r&&s.g===this.current.g&&s.b===this.current.b&&s.a===this.current.a||(this.current=s,this.gl.uniform4f(this.location,s.r,s.g,s.b,s.a))}}let Os=new Float32Array(16);function Gi(c){return[$n(255*c.r,255*c.g),$n(255*c.b,255*c.a)]}class Bm{constructor(s,l,h){this.value=s,this.uniformNames=l.map(v=>`u_${v}`),this.type=h}setUniform(s,l,h){s.set(h.constantOr(this.value))}getBinding(s,l,h){return this.type==="color"?new to(s,l):new Lc(s,l)}}class Ad{constructor(s,l){this.uniformNames=l.map(h=>`u_${h}`),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(s,l){this.pixelRatioFrom=l.pixelRatio,this.pixelRatioTo=s.pixelRatio,this.patternFrom=l.tlbr,this.patternTo=s.tlbr}setUniform(s,l,h,v){let S=v==="u_pattern_to"?this.patternTo:v==="u_pattern_from"?this.patternFrom:v==="u_pixel_ratio_to"?this.pixelRatioTo:v==="u_pixel_ratio_from"?this.pixelRatioFrom:null;S&&s.set(S)}getBinding(s,l,h){return h.substr(0,9)==="u_pattern"?new $i(s,l):new Lc(s,l)}}class Pu{constructor(s,l,h,v){this.expression=s,this.type=h,this.maxValue=0,this.paintVertexAttributes=l.map(S=>({name:`a_${S}`,type:"Float32",components:h==="color"?2:1,offset:0})),this.paintVertexArray=new v}populatePaintArray(s,l,h){let v=this.paintVertexArray.length,S=this.expression.evaluate(new Zn(0,h),l,{},h.canonical,[],h.formattedSection);this.paintVertexArray.resize(s),this._setPaintValue(v,s,S)}updatePaintArray(s,l,h,v,S){let E=this.expression.evaluate(new Zn(0,S),h,v);this._setPaintValue(s,l,E)}_setPaintValue(s,l,h){if(this.type==="color"){let v=Gi(h);for(let S=s;S<l;S++)this.paintVertexArray.emplace(S,v[0],v[1])}else{for(let v=s;v<l;v++)this.paintVertexArray.emplace(v,h);this.maxValue=Math.max(this.maxValue,Math.abs(h))}}upload(s){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=s.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class ml{constructor(s,l,h,v,S,E){this.expression=s,this.uniformNames=l.map(C=>`u_${C}_t`),this.type=h,this.useIntegerZoom=v,this.zoom=S,this.maxValue=0,this.paintVertexAttributes=l.map(C=>({name:`a_${C}`,type:"Float32",components:h==="color"?4:2,offset:0})),this.paintVertexArray=new E}populatePaintArray(s,l,h){let v=this.expression.evaluate(new Zn(this.zoom,h),l,{},h.canonical,[],h.formattedSection),S=this.expression.evaluate(new Zn(this.zoom+1,h),l,{},h.canonical,[],h.formattedSection),E=this.paintVertexArray.length;this.paintVertexArray.resize(s),this._setPaintValue(E,s,v,S)}updatePaintArray(s,l,h,v,S){let E=this.expression.evaluate(new Zn(this.zoom,S),h,v),C=this.expression.evaluate(new Zn(this.zoom+1,S),h,v);this._setPaintValue(s,l,E,C)}_setPaintValue(s,l,h,v){if(this.type==="color"){let S=Gi(h),E=Gi(v);for(let C=s;C<l;C++)this.paintVertexArray.emplace(C,S[0],S[1],E[0],E[1])}else{for(let S=s;S<l;S++)this.paintVertexArray.emplace(S,h,v);this.maxValue=Math.max(this.maxValue,Math.abs(h),Math.abs(v))}}upload(s){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=s.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(s,l){let h=this.useIntegerZoom?Math.floor(l.zoom):l.zoom,v=tt(this.expression.interpolationFactor(h,this.zoom,this.zoom+1),0,1);s.set(v)}getBinding(s,l,h){return new Lc(s,l)}}class qc{constructor(s,l,h,v,S,E){this.expression=s,this.type=l,this.useIntegerZoom=h,this.zoom=v,this.layerId=E,this.zoomInPaintVertexArray=new S,this.zoomOutPaintVertexArray=new S}populatePaintArray(s,l,h){let v=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(s),this.zoomOutPaintVertexArray.resize(s),this._setPaintValues(v,s,l.patterns&&l.patterns[this.layerId],h.imagePositions)}updatePaintArray(s,l,h,v,S){this._setPaintValues(s,l,h.patterns&&h.patterns[this.layerId],S.imagePositions)}_setPaintValues(s,l,h,v){if(!v||!h)return;let{min:S,mid:E,max:C}=h,O=v[S],R=v[E],j=v[C];if(O&&R&&j)for(let $=s;$<l;$++)this.zoomInPaintVertexArray.emplace($,R.tl[0],R.tl[1],R.br[0],R.br[1],O.tl[0],O.tl[1],O.br[0],O.br[1],R.pixelRatio,O.pixelRatio),this.zoomOutPaintVertexArray.emplace($,R.tl[0],R.tl[1],R.br[0],R.br[1],j.tl[0],j.tl[1],j.br[0],j.br[1],R.pixelRatio,j.pixelRatio)}upload(s){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=s.createVertexBuffer(this.zoomInPaintVertexArray,Vi.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=s.createVertexBuffer(this.zoomOutPaintVertexArray,Vi.members,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class UT{constructor(s,l,h){this.binders={},this._buffers=[];let v=[];for(let S in s.paint._values){if(!h(S))continue;let E=s.paint.get(S);if(!(E instanceof Ul&&Oc(E.property.specification)))continue;let C=VT(S,s.type),O=E.value,R=E.property.specification.type,j=E.property.useIntegerZoom,$=E.property.specification["property-type"],Z=$==="cross-faded"||$==="cross-faded-data-driven";if(O.kind==="constant")this.binders[S]=Z?new Ad(O.value,C):new Bm(O.value,C,R),v.push(`/u_${S}`);else if(O.kind==="source"||Z){let X=Wb(S,R,"source");this.binders[S]=Z?new qc(O,R,j,l,X,s.id):new Pu(O,C,R,X),v.push(`/a_${S}`)}else{let X=Wb(S,R,"composite");this.binders[S]=new ml(O,C,R,j,l,X),v.push(`/z_${S}`)}}this.cacheKey=v.sort().join("")}getMaxValue(s){let l=this.binders[s];return l instanceof Pu||l instanceof ml?l.maxValue:0}populatePaintArrays(s,l,h){for(let v in this.binders){let S=this.binders[v];(S instanceof Pu||S instanceof ml||S instanceof qc)&&S.populatePaintArray(s,l,h)}}setConstantPatternPositions(s,l){for(let h in this.binders){let v=this.binders[h];v instanceof Ad&&v.setConstantPatternPositions(s,l)}}updatePaintArrays(s,l,h,v,S){let E=!1;for(let C in s){let O=l.getPositions(C);for(let R of O){let j=h.feature(R.index);for(let $ in this.binders){let Z=this.binders[$];if((Z instanceof Pu||Z instanceof ml||Z instanceof qc)&&Z.expression.isStateDependent===!0){let X=v.paint.get($);Z.expression=X.value,Z.updatePaintArray(R.start,R.end,j,s[C],S),E=!0}}}}return E}defines(){let s=[];for(let l in this.binders){let h=this.binders[l];(h instanceof Bm||h instanceof Ad)&&s.push(...h.uniformNames.map(v=>`#define HAS_UNIFORM_${v}`))}return s}getBinderAttributes(){let s=[];for(let l in this.binders){let h=this.binders[l];if(h instanceof Pu||h instanceof ml)for(let v=0;v<h.paintVertexAttributes.length;v++)s.push(h.paintVertexAttributes[v].name);else if(h instanceof qc)for(let v=0;v<Vi.members.length;v++)s.push(Vi.members[v].name)}return s}getBinderUniforms(){let s=[];for(let l in this.binders){let h=this.binders[l];if(h instanceof Bm||h instanceof Ad||h instanceof ml)for(let v of h.uniformNames)s.push(v)}return s}getPaintVertexBuffers(){return this._buffers}getUniforms(s,l){let h=[];for(let v in this.binders){let S=this.binders[v];if(S instanceof Bm||S instanceof Ad||S instanceof ml){for(let E of S.uniformNames)if(l[E]){let C=S.getBinding(s,l[E],E);h.push({name:E,property:v,binding:C})}}}return h}setUniforms(s,l,h,v){for(let{name:S,property:E,binding:C}of l)this.binders[E].setUniform(C,v,h.get(E),S)}updatePaintBuffers(s){this._buffers=[];for(let l in this.binders){let h=this.binders[l];if(s&&h instanceof qc){let v=s.fromScale===2?h.zoomInPaintVertexBuffer:h.zoomOutPaintVertexBuffer;v&&this._buffers.push(v)}else(h instanceof Pu||h instanceof ml)&&h.paintVertexBuffer&&this._buffers.push(h.paintVertexBuffer)}}upload(s){for(let l in this.binders){let h=this.binders[l];(h instanceof Pu||h instanceof ml||h instanceof qc)&&h.upload(s)}this.updatePaintBuffers()}destroy(){for(let s in this.binders){let l=this.binders[s];(l instanceof Pu||l instanceof ml||l instanceof qc)&&l.destroy()}}}class ls{constructor(s,l,h=()=>!0){this.programConfigurations={};for(let v of s)this.programConfigurations[v.id]=new UT(v,l,h);this.needsUpload=!1,this._featureMap=new tf,this._bufferOffset=0}populatePaintArrays(s,l,h,v){for(let S in this.programConfigurations)this.programConfigurations[S].populatePaintArrays(s,l,v);l.id!==void 0&&this._featureMap.add(l.id,h,this._bufferOffset,s),this._bufferOffset=s,this.needsUpload=!0}updatePaintArrays(s,l,h,v){for(let S of h)this.needsUpload=this.programConfigurations[S.id].updatePaintArrays(s,this._featureMap,l,S,v)||this.needsUpload}get(s){return this.programConfigurations[s]}upload(s){if(this.needsUpload){for(let l in this.programConfigurations)this.programConfigurations[l].upload(s);this.needsUpload=!1}}destroy(){for(let s in this.programConfigurations)this.programConfigurations[s].destroy()}}function VT(c,s){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[c]||[c.replace(`${s}-`,"").replace(/-/g,"_")]}function Wb(c,s,l){let h={color:{source:Fm,composite:V},number:{source:w,composite:Fm}},v=function(S){return{"line-pattern":{source:Tt,composite:Tt},"fill-pattern":{source:Tt,composite:Tt},"fill-extrusion-pattern":{source:Tt,composite:Tt}}[S]}(c);return v&&v[l]||h[s][l]}Zt("ConstantBinder",Bm),Zt("CrossFadedConstantBinder",Ad),Zt("SourceExpressionBinder",Pu),Zt("CrossFadedCompositeBinder",qc),Zt("CompositeExpressionBinder",ml),Zt("ProgramConfiguration",UT,{omit:["_buffers"]}),Zt("ProgramConfigurationSet",ls);let fy=Math.pow(2,14)-1,dy=-fy-1;function zc(c){let s=pt/c.extent,l=c.loadGeometry();for(let h=0;h<l.length;h++){let v=l[h];for(let S=0;S<v.length;S++){let E=v[S],C=Math.round(E.x*s),O=Math.round(E.y*s);E.x=tt(C,dy,fy),E.y=tt(O,dy,fy),(C<E.x||C>E.x+1||O<E.y||O>E.y+1)&&ht("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return l}function Ou(c,s){return{type:c.type,id:c.id,properties:c.properties,geometry:s?zc(c):[]}}let mJ=-32768;function cGe(c,s,l,h,v){c.emplaceBack(mJ+8*s+h,mJ+8*l+v)}class uL{constructor(s){this.zoom=s.zoom,this.globalState=s.globalState,this.overscaling=s.overscaling,this.layers=s.layers,this.layerIds=this.layers.map(l=>l.id),this.index=s.index,this.hasPattern=!1,this.layoutVertexArray=new Ve,this.indexArray=new Vn,this.segments=new zr,this.programConfigurations=new ls(s.layers,s.zoom),this.stateDependentLayerIds=this.layers.filter(l=>l.isStateDependent()).map(l=>l.id)}populate(s,l,h){let v=this.layers[0],S=[],E=null,C=!1,O=v.type==="heatmap";if(v.type==="circle"){let j=v;E=j.layout.get("circle-sort-key"),C=!E.isConstant(),O=O||j.paint.get("circle-pitch-alignment")==="map"}let R=O?l.subdivisionGranularity.circle:1;for(let{feature:j,id:$,index:Z,sourceLayerIndex:X}of s){let Q=this.layers[0]._featureFilter.needGeometry,re=Ou(j,Q);if(!this.layers[0]._featureFilter.filter(new Zn(this.zoom,{globalState:this.globalState}),re,h))continue;let le=C?E.evaluate(re,{},h):void 0,me={id:$,properties:j.properties,type:j.type,sourceLayerIndex:X,index:Z,geometry:Q?re.geometry:zc(j),patterns:{},sortKey:le};S.push(me)}C&&S.sort((j,$)=>j.sortKey-$.sortKey);for(let j of S){let{geometry:$,index:Z,sourceLayerIndex:X}=j,Q=s[Z].feature;this.addFeature(j,$,Z,h,R),l.featureIndex.insert(Q,$,Z,X,this.index)}}update(s,l,h){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(s,l,this.stateDependentLayers,{imagePositions:h,globalState:this.globalState})}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(s){this.uploaded||(this.layoutVertexBuffer=s.createVertexBuffer(this.layoutVertexArray,Si),this.indexBuffer=s.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(s),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(s,l,h,v,S=1){let E;switch(S){case 1:E=[0,7];break;case 3:E=[0,2,5,7];break;case 5:E=[0,1,3,4,6,7];break;case 7:E=[0,1,2,3,4,5,6,7];break;default:throw new Error(`Invalid circle bucket granularity: ${S}; valid values are 1, 3, 5, 7.`)}let C=E.length;for(let O of l)for(let R of O){let j=R.x,$=R.y;if(j<0||j>=pt||$<0||$>=pt)continue;let Z=this.segments.prepareSegment(C*C,this.layoutVertexArray,this.indexArray,s.sortKey),X=Z.vertexLength;for(let Q=0;Q<C;Q++)for(let re=0;re<C;re++)cGe(this.layoutVertexArray,j,$,E[re],E[Q]);for(let Q=0;Q<C-1;Q++)for(let re=0;re<C-1;re++){let le=X+Q*C+re,me=X+(Q+1)*C+re;this.indexArray.emplaceBack(le,me+1,le+1),this.indexArray.emplaceBack(le,me,me+1)}Z.vertexLength+=C*C,Z.primitiveLength+=(C-1)*(C-1)*2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,s,h,{imagePositions:{},canonical:v,globalState:this.globalState})}}function gJ(c,s){for(let l=0;l<c.length;l++)if(hy(s,c[l]))return!0;for(let l=0;l<s.length;l++)if(hy(c,s[l]))return!0;return!!cL(c,s)}function pGe(c,s,l){return!!hy(c,s)||!!pL(s,c,l)}function vJ(c,s){if(c.length===1)return _J(s,c[0]);for(let l=0;l<s.length;l++){let h=s[l];for(let v=0;v<h.length;v++)if(hy(c,h[v]))return!0}for(let l=0;l<c.length;l++)if(_J(s,c[l]))return!0;for(let l=0;l<s.length;l++)if(cL(c,s[l]))return!0;return!1}function fGe(c,s,l){if(c.length>1){if(cL(c,s))return!0;for(let h=0;h<s.length;h++)if(pL(s[h],c,l))return!0}for(let h=0;h<c.length;h++)if(pL(c[h],s,l))return!0;return!1}function cL(c,s){if(c.length===0||s.length===0)return!1;for(let l=0;l<c.length-1;l++){let h=c[l],v=c[l+1];for(let S=0;S<s.length-1;S++)if(dGe(h,v,s[S],s[S+1]))return!0}return!1}function dGe(c,s,l,h){return It(c,l,h)!==It(s,l,h)&&It(c,s,l)!==It(c,s,h)}function pL(c,s,l){let h=l*l;if(s.length===1)return c.distSqr(s[0])<h;for(let v=1;v<s.length;v++)if(yJ(c,s[v-1],s[v])<h)return!0;return!1}function yJ(c,s,l){let h=s.distSqr(l);if(h===0)return c.distSqr(s);let v=((c.x-s.x)*(l.x-s.x)+(c.y-s.y)*(l.y-s.y))/h;return c.distSqr(v<0?s:v>1?l:l.sub(s)._mult(v)._add(s))}function _J(c,s){let l,h,v,S=!1;for(let E=0;E<c.length;E++){l=c[E];for(let C=0,O=l.length-1;C<l.length;O=C++)h=l[C],v=l[O],h.y>s.y!=v.y>s.y&&s.x<(v.x-h.x)*(s.y-h.y)/(v.y-h.y)+h.x&&(S=!S)}return S}function hy(c,s){let l=!1;for(let h=0,v=c.length-1;h<c.length;v=h++){let S=c[h],E=c[v];S.y>s.y!=E.y>s.y&&s.x<(E.x-S.x)*(s.y-S.y)/(E.y-S.y)+S.x&&(l=!l)}return l}function hGe(c,s,l){let h=l[0],v=l[2];if(c.x<h.x&&s.x<h.x||c.x>v.x&&s.x>v.x||c.y<h.y&&s.y<h.y||c.y>v.y&&s.y>v.y)return!1;let S=It(c,s,l[0]);return S!==It(c,s,l[1])||S!==It(c,s,l[2])||S!==It(c,s,l[3])}function Zb(c,s,l){let h=s.paint.get(c).value;return h.kind==="constant"?h.value:l.programConfigurations.get(s.id).getMaxValue(c)}function $T(c){return Math.sqrt(c[0]*c[0]+c[1]*c[1])}function GT(c,s,l,h,v){if(!s[0]&&!s[1])return c;let S=u.convert(s)._mult(v);l==="viewport"&&S._rotate(-h);let E=[];for(let C=0;C<c.length;C++)E.push(c[C].sub(S));return E}let bJ,xJ;Zt("CircleBucket",uL,{omit:["layers"]});var mGe={get paint(){return xJ=xJ||new na({"circle-radius":new gr(ye.paint_circle["circle-radius"]),"circle-color":new gr(ye.paint_circle["circle-color"]),"circle-blur":new gr(ye.paint_circle["circle-blur"]),"circle-opacity":new gr(ye.paint_circle["circle-opacity"]),"circle-translate":new nr(ye.paint_circle["circle-translate"]),"circle-translate-anchor":new nr(ye.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new nr(ye.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new nr(ye.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new gr(ye.paint_circle["circle-stroke-width"]),"circle-stroke-color":new gr(ye.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new gr(ye.paint_circle["circle-stroke-opacity"])})},get layout(){return bJ=bJ||new na({"circle-sort-key":new gr(ye.layout_circle["circle-sort-key"])})}};class gGe extends Ps{constructor(s){super(s,mGe)}createBucket(s){return new uL(s)}queryRadius(s){let l=s;return Zb("circle-radius",this,l)+Zb("circle-stroke-width",this,l)+$T(this.paint.get("circle-translate"))}queryIntersectsFeature({queryGeometry:s,feature:l,featureState:h,geometry:v,transform:S,pixelsToTileUnits:E,unwrappedTileID:C,getElevation:O}){let R=GT(s,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),-S.bearingInRadians,E),j=this.paint.get("circle-radius").evaluate(l,h)+this.paint.get("circle-stroke-width").evaluate(l,h),$=this.paint.get("circle-pitch-alignment")==="map",Z=$?R:function(Q,re,le,me){return Q.map(Fe=>wJ(Fe,re,le,me))}(R,S,C,O),X=$?j*E:j;for(let Q of v)for(let re of Q){let le=$?re:wJ(re,S,C,O),me=X,Fe=S.projectTileCoordinates(re.x,re.y,C,O).signedDistanceFromCamera;if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?me*=Fe/S.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(me*=S.cameraToCenterDistance/Fe),pGe(Z,le,me))return!0}return!1}}function wJ(c,s,l,h){let v=s.projectTileCoordinates(c.x,c.y,l,h).point;return new u((.5*v.x+.5)*s.width,(.5*-v.y+.5)*s.height)}class SJ extends uL{}let EJ;Zt("HeatmapBucket",SJ,{omit:["layers"]});var vGe={get paint(){return EJ=EJ||new na({"heatmap-radius":new gr(ye.paint_heatmap["heatmap-radius"]),"heatmap-weight":new gr(ye.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new nr(ye.paint_heatmap["heatmap-intensity"]),"heatmap-color":new ly(ye.paint_heatmap["heatmap-color"]),"heatmap-opacity":new nr(ye.paint_heatmap["heatmap-opacity"])})}};function fL(c,{width:s,height:l},h,v){if(v){if(v instanceof Uint8ClampedArray)v=new Uint8Array(v.buffer);else if(v.length!==s*l*h)throw new RangeError(`mismatched image size. expected: ${v.length} but got: ${s*l*h}`)}else v=new Uint8Array(s*l*h);return c.width=s,c.height=l,c.data=v,c}function IJ(c,{width:s,height:l},h){if(s===c.width&&l===c.height)return;let v=fL({},{width:s,height:l},h);dL(c,v,{x:0,y:0},{x:0,y:0},{width:Math.min(c.width,s),height:Math.min(c.height,l)},h),c.width=s,c.height=l,c.data=v.data}function dL(c,s,l,h,v,S){if(v.width===0||v.height===0)return s;if(v.width>c.width||v.height>c.height||l.x>c.width-v.width||l.y>c.height-v.height)throw new RangeError("out of range source coordinates for image copy");if(v.width>s.width||v.height>s.height||h.x>s.width-v.width||h.y>s.height-v.height)throw new RangeError("out of range destination coordinates for image copy");let E=c.data,C=s.data;if(E===C)throw new Error("srcData equals dstData, so image is already copied");for(let O=0;O<v.height;O++){let R=((l.y+O)*c.width+l.x)*S,j=((h.y+O)*s.width+h.x)*S;for(let $=0;$<v.width*S;$++)C[j+$]=E[R+$]}return s}class Yb{constructor(s,l){fL(this,s,1,l)}resize(s){IJ(this,s,1)}clone(){return new Yb({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(s,l,h,v,S){dL(s,l,h,v,S,1)}}class us{constructor(s,l){fL(this,s,4,l)}resize(s){IJ(this,s,4)}replace(s,l){l?this.data.set(s):this.data=s instanceof Uint8ClampedArray?new Uint8Array(s.buffer):s}clone(){return new us({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(s,l,h,v,S){dL(s,l,h,v,S,4)}setPixel(s,l,h){let v=4*(s*this.width+l);this.data[v+0]=Math.round(255*h.r/h.a),this.data[v+1]=Math.round(255*h.g/h.a),this.data[v+2]=Math.round(255*h.b/h.a),this.data[v+3]=Math.round(255*h.a)}}function TJ(c){let s={},l=c.resolution||256,h=c.clips?c.clips.length:1,v=c.image||new us({width:l,height:h});if(Math.log(l)/Math.LN2%1!=0)throw new Error(`width is not a power of 2 - ${l}`);let S=(E,C,O)=>{s[c.evaluationKey]=O;let R=c.expression.evaluate(s);v.setPixel(E/4/l,C/4,R)};if(c.clips)for(let E=0,C=0;E<h;++E,C+=4*l)for(let O=0,R=0;O<l;O++,R+=4){let j=O/(l-1),{start:$,end:Z}=c.clips[E];S(C,R,$*(1-j)+Z*j)}else for(let E=0,C=0;E<l;E++,C+=4)S(0,C,E/(l-1));return v}Zt("AlphaImage",Yb),Zt("RGBAImage",us);let hL="big-fb";class yGe extends Ps{createBucket(s){return new SJ(s)}constructor(s){super(s,vGe),this.heatmapFbos=new Map,this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(s){s==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=TJ({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbos.has(hL)&&this.heatmapFbos.delete(hL)}queryRadius(){return 0}queryIntersectsFeature(){return!1}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}}let MJ;var _Ge={get paint(){return MJ=MJ||new na({"hillshade-illumination-direction":new nr(ye.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-altitude":new nr(ye.paint_hillshade["hillshade-illumination-altitude"]),"hillshade-illumination-anchor":new nr(ye.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new nr(ye.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new nr(ye.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new nr(ye.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new nr(ye.paint_hillshade["hillshade-accent-color"]),"hillshade-method":new nr(ye.paint_hillshade["hillshade-method"])})}};class bGe extends Ps{constructor(s){super(s,_Ge),this.recalculate({zoom:0,zoomHistory:{}},void 0)}getIlluminationProperties(){let s=this.paint.get("hillshade-illumination-direction").values,l=this.paint.get("hillshade-illumination-altitude").values,h=this.paint.get("hillshade-highlight-color").values,v=this.paint.get("hillshade-shadow-color").values,S=Math.max(s.length,l.length,h.length,v.length);s=s.concat(Array(S-s.length).fill(s.at(-1))),l=l.concat(Array(S-l.length).fill(l.at(-1))),h=h.concat(Array(S-h.length).fill(h.at(-1))),v=v.concat(Array(S-v.length).fill(v.at(-1)));let E=l.map(Or);return{directionRadians:s.map(Or),altitudeRadians:E,shadowColor:v,highlightColor:h}}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}}let CJ;var xGe={get paint(){return CJ=CJ||new na({"color-relief-opacity":new nr(ye["paint_color-relief"]["color-relief-opacity"]),"color-relief-color":new ly(ye["paint_color-relief"]["color-relief-color"])})}};class mL{constructor(s,l,h,v){this.context=s,this.format=h,this.texture=s.gl.createTexture(),this.update(l,v)}update(s,l,h){let{width:v,height:S}=s,E=!(this.size&&this.size[0]===v&&this.size[1]===S||h),{context:C}=this,{gl:O}=C;if(this.useMipmap=!!(l&&l.useMipmap),O.bindTexture(O.TEXTURE_2D,this.texture),C.pixelStoreUnpackFlipY.set(!1),C.pixelStoreUnpack.set(1),C.pixelStoreUnpackPremultiplyAlpha.set(this.format===O.RGBA&&(!l||l.premultiply!==!1)),E)this.size=[v,S],s instanceof HTMLImageElement||s instanceof HTMLCanvasElement||s instanceof HTMLVideoElement||s instanceof ImageData||kt(s)?O.texImage2D(O.TEXTURE_2D,0,this.format,this.format,O.UNSIGNED_BYTE,s):O.texImage2D(O.TEXTURE_2D,0,this.format,v,S,0,this.format,O.UNSIGNED_BYTE,s.data);else{let{x:R,y:j}=h||{x:0,y:0};s instanceof HTMLImageElement||s instanceof HTMLCanvasElement||s instanceof HTMLVideoElement||s instanceof ImageData||kt(s)?O.texSubImage2D(O.TEXTURE_2D,0,R,j,O.RGBA,O.UNSIGNED_BYTE,s):O.texSubImage2D(O.TEXTURE_2D,0,R,j,v,S,O.RGBA,O.UNSIGNED_BYTE,s.data)}this.useMipmap&&this.isSizePowerOfTwo()&&O.generateMipmap(O.TEXTURE_2D),C.pixelStoreUnpackFlipY.setDefault(),C.pixelStoreUnpack.setDefault(),C.pixelStoreUnpackPremultiplyAlpha.setDefault()}bind(s,l,h){let{context:v}=this,{gl:S}=v;S.bindTexture(S.TEXTURE_2D,this.texture),h!==S.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(h=S.LINEAR),s!==this.filter&&(S.texParameteri(S.TEXTURE_2D,S.TEXTURE_MAG_FILTER,s),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_MIN_FILTER,h||s),this.filter=s),l!==this.wrap&&(S.texParameteri(S.TEXTURE_2D,S.TEXTURE_WRAP_S,l),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_WRAP_T,l),this.wrap=l)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){let{gl:s}=this.context;s.deleteTexture(this.texture),this.texture=null}}class AJ{constructor(s,l,h,v=1,S=1,E=1,C=0){if(this.uid=s,l.height!==l.width)throw new RangeError("DEM tiles must be square");if(h&&!["mapbox","terrarium","custom"].includes(h))return void ht(`"${h}" is not a valid encoding type. Valid types include "mapbox", "terrarium" and "custom".`);this.stride=l.height;let O=this.dim=l.height-2;switch(this.data=new Uint32Array(l.data.buffer),h){case"terrarium":this.redFactor=256,this.greenFactor=1,this.blueFactor=1/256,this.baseShift=32768;break;case"custom":this.redFactor=v,this.greenFactor=S,this.blueFactor=E,this.baseShift=C;break;default:this.redFactor=6553.6,this.greenFactor=25.6,this.blueFactor=.1,this.baseShift=1e4}for(let R=0;R<O;R++)this.data[this._idx(-1,R)]=this.data[this._idx(0,R)],this.data[this._idx(O,R)]=this.data[this._idx(O-1,R)],this.data[this._idx(R,-1)]=this.data[this._idx(R,0)],this.data[this._idx(R,O)]=this.data[this._idx(R,O-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(O,-1)]=this.data[this._idx(O-1,0)],this.data[this._idx(-1,O)]=this.data[this._idx(0,O-1)],this.data[this._idx(O,O)]=this.data[this._idx(O-1,O-1)],this.min=Number.MAX_SAFE_INTEGER,this.max=Number.MIN_SAFE_INTEGER;for(let R=0;R<O;R++)for(let j=0;j<O;j++){let $=this.get(R,j);$>this.max&&(this.max=$),$<this.min&&(this.min=$)}}get(s,l){let h=new Uint8Array(this.data.buffer),v=4*this._idx(s,l);return this.unpack(h[v],h[v+1],h[v+2])}getUnpackVector(){return[this.redFactor,this.greenFactor,this.blueFactor,this.baseShift]}_idx(s,l){if(s<-1||s>=this.dim+1||l<-1||l>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(l+1)*this.stride+(s+1)}unpack(s,l,h){return s*this.redFactor+l*this.greenFactor+h*this.blueFactor-this.baseShift}pack(s){return PJ(s,this.getUnpackVector())}getPixels(){return new us({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(s,l,h){if(this.dim!==s.dim)throw new Error("dem dimension mismatch");let v=l*this.dim,S=l*this.dim+this.dim,E=h*this.dim,C=h*this.dim+this.dim;switch(l){case-1:v=S-1;break;case 1:S=v+1}switch(h){case-1:E=C-1;break;case 1:C=E+1}let O=-l*this.dim,R=-h*this.dim;for(let j=E;j<C;j++)for(let $=v;$<S;$++)this.data[this._idx($,j)]=s.data[this._idx($+O,j+R)]}}function PJ(c,s){let l=s[0],h=s[1],v=s[2],S=s[3],E=Math.min(l,h,v),C=Math.round((c+S)/E);return{r:Math.floor(C*E/l)%256,g:Math.floor(C*E/h)%256,b:Math.floor(C*E/v)%256}}Zt("DEMData",AJ);class wGe extends Ps{constructor(s){super(s,xGe)}_createColorRamp(s){let l={elevationStops:[],colorStops:[]},h=this._transitionablePaint._values["color-relief-color"].value.expression;if(h instanceof Om&&h._styleExpression.expression instanceof Co){this.colorRampExpression=h;let E=h._styleExpression.expression;l.elevationStops=E.labels,l.colorStops=[];for(let C of l.elevationStops)l.colorStops.push(E.evaluate({globals:{elevation:C}}))}if(l.elevationStops.length<1&&(l.elevationStops=[0],l.colorStops=[rn.transparent]),l.elevationStops.length<2&&(l.elevationStops.push(l.elevationStops[0]+1),l.colorStops.push(l.colorStops[0])),l.elevationStops.length<=s)return l;let v={elevationStops:[],colorStops:[]},S=(l.elevationStops.length-1)/(s-1);for(let E=0;E<l.elevationStops.length-.5;E+=S)v.elevationStops.push(l.elevationStops[Math.round(E)]),v.colorStops.push(l.colorStops[Math.round(E)]);return ht(`Too many colors in specification of ${this.id} color-relief layer, may not render properly.`),v}_colorRampChanged(){return this.colorRampExpression!=this._transitionablePaint._values["color-relief-color"].value.expression}getColorRampTextures(s,l,h){if(this.colorRampTextures&&!this._colorRampChanged())return this.colorRampTextures;let v=this._createColorRamp(l),S=new us({width:v.colorStops.length,height:1}),E=new us({width:v.colorStops.length,height:1});for(let C=0;C<v.elevationStops.length;C++){let O=PJ(v.elevationStops[C],h);E.setPixel(0,C,new rn(O.r/255,O.g/255,O.b/255,1)),S.setPixel(0,C,v.colorStops[C])}return this.colorRampTextures={elevationTexture:new mL(s,E,s.gl.RGBA),colorTexture:new mL(s,S,s.gl.RGBA)},this.colorRampTextures}hasOffscreenPass(){return this.visibility!=="none"&&!!this.colorRampTextures}}let SGe=Di([{name:"a_pos",components:2,type:"Int16"}],4),{members:EGe}=SGe;function gL(c,s,l){let h=l.patternDependencies,v=!1;for(let S of s){let E=S.paint.get(`${c}-pattern`);E.isConstant()||(v=!0);let C=E.constantOr(null);C&&(v=!0,h[C.to]=!0,h[C.from]=!0)}return v}function vL(c,s,l,h,v){let{zoom:S,globalState:E}=h,C=v.patternDependencies;for(let O of s){let R=O.paint.get(`${c}-pattern`).value;if(R.kind!=="constant"){let j=R.evaluate({zoom:S-1,globalState:E},l,{},v.availableImages),$=R.evaluate({zoom:S,globalState:E},l,{},v.availableImages),Z=R.evaluate({zoom:S+1,globalState:E},l,{},v.availableImages);j=j&&j.name?j.name:j,$=$&&$.name?$.name:$,Z=Z&&Z.name?Z.name:Z,C[j]=!0,C[$]=!0,C[Z]=!0,l.patterns[O.id]={min:j,mid:$,max:Z}}}return l}function OJ(c,s,l,h,v){let S;if(v===function(E,C,O,R){let j=0;for(let $=C,Z=O-R;$<O;$+=R)j+=(E[Z]-E[$])*(E[$+1]+E[Z+1]),Z=$;return j}(c,s,l,h)>0)for(let E=s;E<l;E+=h)S=RJ(E/h|0,c[E],c[E+1],S);else for(let E=l-h;E>=s;E-=h)S=RJ(E/h|0,c[E],c[E+1],S);return S&&my(S,S.next)&&(Jb(S),S=S.next),S}function Um(c,s){if(!c)return c;s||(s=c);let l,h=c;do if(l=!1,h.steiner||!my(h,h.next)&&ji(h.prev,h,h.next)!==0)h=h.next;else{if(Jb(h),h=s=h.prev,h===h.next)break;l=!0}while(l||h!==s);return s}function Kb(c,s,l,h,v,S,E){if(!c)return;!E&&S&&function(O,R,j,$){let Z=O;do Z.z===0&&(Z.z=yL(Z.x,Z.y,R,j,$)),Z.prevZ=Z.prev,Z.nextZ=Z.next,Z=Z.next;while(Z!==O);Z.prevZ.nextZ=null,Z.prevZ=null,function(X){let Q,re=1;do{let le,me=X;X=null;let Fe=null;for(Q=0;me;){Q++;let Ce=me,De=0;for(let nt=0;nt<re&&(De++,Ce=Ce.nextZ,Ce);nt++);let Ye=re;for(;De>0||Ye>0&&Ce;)De!==0&&(Ye===0||!Ce||me.z<=Ce.z)?(le=me,me=me.nextZ,De--):(le=Ce,Ce=Ce.nextZ,Ye--),Fe?Fe.nextZ=le:X=le,le.prevZ=Fe,Fe=le;me=Ce}Fe.nextZ=null,re*=2}while(Q>1)}(Z)}(c,h,v,S);let C=c;for(;c.prev!==c.next;){let O=c.prev,R=c.next;if(S?TGe(c,h,v,S):IGe(c))s.push(O.i,c.i,R.i),Jb(c),c=R.next,C=R.next;else if((c=R)===C){E?E===1?Kb(c=MGe(Um(c),s),s,l,h,v,S,2):E===2&&CGe(c,s,l,h,v,S):Kb(Um(c),s,l,h,v,S,1);break}}}function IGe(c){let s=c.prev,l=c,h=c.next;if(ji(s,l,h)>=0)return!1;let v=s.x,S=l.x,E=h.x,C=s.y,O=l.y,R=h.y,j=Math.min(v,S,E),$=Math.min(C,O,R),Z=Math.max(v,S,E),X=Math.max(C,O,R),Q=h.next;for(;Q!==s;){if(Q.x>=j&&Q.x<=Z&&Q.y>=$&&Q.y<=X&&Xb(v,C,S,O,E,R,Q.x,Q.y)&&ji(Q.prev,Q,Q.next)>=0)return!1;Q=Q.next}return!0}function TGe(c,s,l,h){let v=c.prev,S=c,E=c.next;if(ji(v,S,E)>=0)return!1;let C=v.x,O=S.x,R=E.x,j=v.y,$=S.y,Z=E.y,X=Math.min(C,O,R),Q=Math.min(j,$,Z),re=Math.max(C,O,R),le=Math.max(j,$,Z),me=yL(X,Q,s,l,h),Fe=yL(re,le,s,l,h),Ce=c.prevZ,De=c.nextZ;for(;Ce&&Ce.z>=me&&De&&De.z<=Fe;){if(Ce.x>=X&&Ce.x<=re&&Ce.y>=Q&&Ce.y<=le&&Ce!==v&&Ce!==E&&Xb(C,j,O,$,R,Z,Ce.x,Ce.y)&&ji(Ce.prev,Ce,Ce.next)>=0||(Ce=Ce.prevZ,De.x>=X&&De.x<=re&&De.y>=Q&&De.y<=le&&De!==v&&De!==E&&Xb(C,j,O,$,R,Z,De.x,De.y)&&ji(De.prev,De,De.next)>=0))return!1;De=De.nextZ}for(;Ce&&Ce.z>=me;){if(Ce.x>=X&&Ce.x<=re&&Ce.y>=Q&&Ce.y<=le&&Ce!==v&&Ce!==E&&Xb(C,j,O,$,R,Z,Ce.x,Ce.y)&&ji(Ce.prev,Ce,Ce.next)>=0)return!1;Ce=Ce.prevZ}for(;De&&De.z<=Fe;){if(De.x>=X&&De.x<=re&&De.y>=Q&&De.y<=le&&De!==v&&De!==E&&Xb(C,j,O,$,R,Z,De.x,De.y)&&ji(De.prev,De,De.next)>=0)return!1;De=De.nextZ}return!0}function MGe(c,s){let l=c;do{let h=l.prev,v=l.next.next;!my(h,v)&&kJ(h,l,l.next,v)&&Qb(h,v)&&Qb(v,h)&&(s.push(h.i,l.i,v.i),Jb(l),Jb(l.next),l=c=v),l=l.next}while(l!==c);return Um(l)}function CGe(c,s,l,h,v,S){let E=c;do{let C=E.next.next;for(;C!==E.prev;){if(E.i!==C.i&&kGe(E,C)){let O=NJ(E,C);return E=Um(E,E.next),O=Um(O,O.next),Kb(E,s,l,h,v,S,0),void Kb(O,s,l,h,v,S,0)}C=C.next}E=E.next}while(E!==c)}function AGe(c,s){let l=c.x-s.x;return l===0&&(l=c.y-s.y,l===0)&&(l=(c.next.y-c.y)/(c.next.x-c.x)-(s.next.y-s.y)/(s.next.x-s.x)),l}function PGe(c,s){let l=function(v,S){let E=S,C=v.x,O=v.y,R,j=-1/0;if(my(v,E))return E;do{if(my(v,E.next))return E.next;if(O<=E.y&&O>=E.next.y&&E.next.y!==E.y){let re=E.x+(O-E.y)*(E.next.x-E.x)/(E.next.y-E.y);if(re<=C&&re>j&&(j=re,R=E.x<E.next.x?E:E.next,re===C))return R}E=E.next}while(E!==S);if(!R)return null;let $=R,Z=R.x,X=R.y,Q=1/0;E=R;do{if(C>=E.x&&E.x>=Z&&C!==E.x&&DJ(O<X?C:j,O,Z,X,O<X?j:C,O,E.x,E.y)){let re=Math.abs(O-E.y)/(C-E.x);Qb(E,v)&&(re<Q||re===Q&&(E.x>R.x||E.x===R.x&&OGe(R,E)))&&(R=E,Q=re)}E=E.next}while(E!==$);return R}(c,s);if(!l)return s;let h=NJ(l,c);return Um(h,h.next),Um(l,l.next)}function OGe(c,s){return ji(c.prev,c,s.prev)<0&&ji(s.next,c,c.next)<0}function yL(c,s,l,h,v){return(c=1431655765&((c=858993459&((c=252645135&((c=16711935&((c=(c-l)*v|0)|c<<8))|c<<4))|c<<2))|c<<1))|(s=1431655765&((s=858993459&((s=252645135&((s=16711935&((s=(s-h)*v|0)|s<<8))|s<<4))|s<<2))|s<<1))<<1}function DGe(c){let s=c,l=c;do(s.x<l.x||s.x===l.x&&s.y<l.y)&&(l=s),s=s.next;while(s!==c);return l}function DJ(c,s,l,h,v,S,E,C){return(v-E)*(s-C)>=(c-E)*(S-C)&&(c-E)*(h-C)>=(l-E)*(s-C)&&(l-E)*(S-C)>=(v-E)*(h-C)}function Xb(c,s,l,h,v,S,E,C){return!(c===E&&s===C)&&DJ(c,s,l,h,v,S,E,C)}function kGe(c,s){return c.next.i!==s.i&&c.prev.i!==s.i&&!function(l,h){let v=l;do{if(v.i!==l.i&&v.next.i!==l.i&&v.i!==h.i&&v.next.i!==h.i&&kJ(v,v.next,l,h))return!0;v=v.next}while(v!==l);return!1}(c,s)&&(Qb(c,s)&&Qb(s,c)&&function(l,h){let v=l,S=!1,E=(l.x+h.x)/2,C=(l.y+h.y)/2;do v.y>C!=v.next.y>C&&v.next.y!==v.y&&E<(v.next.x-v.x)*(C-v.y)/(v.next.y-v.y)+v.x&&(S=!S),v=v.next;while(v!==l);return S}(c,s)&&(ji(c.prev,c,s.prev)||ji(c,s.prev,s))||my(c,s)&&ji(c.prev,c,c.next)>0&&ji(s.prev,s,s.next)>0)}function ji(c,s,l){return(s.y-c.y)*(l.x-s.x)-(s.x-c.x)*(l.y-s.y)}function my(c,s){return c.x===s.x&&c.y===s.y}function kJ(c,s,l,h){let v=WT(ji(c,s,l)),S=WT(ji(c,s,h)),E=WT(ji(l,h,c)),C=WT(ji(l,h,s));return v!==S&&E!==C||!(v!==0||!HT(c,l,s))||!(S!==0||!HT(c,h,s))||!(E!==0||!HT(l,c,h))||!(C!==0||!HT(l,s,h))}function HT(c,s,l){return s.x<=Math.max(c.x,l.x)&&s.x>=Math.min(c.x,l.x)&&s.y<=Math.max(c.y,l.y)&&s.y>=Math.min(c.y,l.y)}function WT(c){return c>0?1:c<0?-1:0}function Qb(c,s){return ji(c.prev,c,c.next)<0?ji(c,s,c.next)>=0&&ji(c,c.prev,s)>=0:ji(c,s,c.prev)<0||ji(c,c.next,s)<0}function NJ(c,s){let l=_L(c.i,c.x,c.y),h=_L(s.i,s.x,s.y),v=c.next,S=s.prev;return c.next=s,s.prev=c,l.next=v,v.prev=l,h.next=l,l.prev=h,S.next=h,h.prev=S,h}function RJ(c,s,l,h){let v=_L(c,s,l);return h?(v.next=h.next,v.prev=h,h.next.prev=v,h.next=v):(v.prev=v,v.next=v),v}function Jb(c){c.next.prev=c.prev,c.prev.next=c.next,c.prevZ&&(c.prevZ.nextZ=c.nextZ),c.nextZ&&(c.nextZ.prevZ=c.prevZ)}function _L(c,s,l){return{i:c,x:s,y:l,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}class gy{constructor(s,l){if(l>s)throw new Error("Min granularity must not be greater than base granularity.");this._baseZoomGranularity=s,this._minGranularity=l}getGranularityForZoomLevel(s){return Math.max(Math.floor(this._baseZoomGranularity/(1<<s)),this._minGranularity,1)}}class ZT{constructor(s){this.fill=s.fill,this.line=s.line,this.tile=s.tile,this.stencil=s.stencil,this.circle=s.circle}}ZT.noSubdivision=new ZT({fill:new gy(0,0),line:new gy(0,0),tile:new gy(0,0),stencil:new gy(0,0),circle:1}),Zt("SubdivisionGranularityExpression",gy),Zt("SubdivisionGranularitySetting",ZT);let vy=-32768,ex=32767;class NGe{constructor(s,l){this._vertexBuffer=[],this._vertexDictionary=new Map,this._used=!1,this._granularity=s,this._granularityCellSize=pt/s,this._canonical=l}_getKey(s,l){return(s+=32768)<<16|l+32768}_vertexToIndex(s,l){if(s<-32768||l<-32768||s>32767||l>32767)throw new Error("Vertex coordinates are out of signed 16 bit integer range.");let h=0|Math.round(s),v=0|Math.round(l),S=this._getKey(h,v);if(this._vertexDictionary.has(S))return this._vertexDictionary.get(S);let E=this._vertexBuffer.length/2;return this._vertexDictionary.set(S,E),this._vertexBuffer.push(h,v),E}_subdivideTrianglesScanline(s){if(this._granularity<2)return function(v,S){let E=[];for(let C=0;C<S.length;C+=3){let O=S[C],R=S[C+1],j=S[C+2],$=v[2*O],Z=v[2*O+1];(v[2*R]-$)*(v[2*j+1]-Z)-(v[2*R+1]-Z)*(v[2*j]-$)>0?(E.push(O),E.push(j),E.push(R)):(E.push(O),E.push(R),E.push(j))}return E}(this._vertexBuffer,s);let l=[],h=s.length;for(let v=0;v<h;v+=3){let S=[s[v+0],s[v+1],s[v+2]],E=[this._vertexBuffer[2*s[v+0]+0],this._vertexBuffer[2*s[v+0]+1],this._vertexBuffer[2*s[v+1]+0],this._vertexBuffer[2*s[v+1]+1],this._vertexBuffer[2*s[v+2]+0],this._vertexBuffer[2*s[v+2]+1]],C=1/0,O=1/0,R=-1/0,j=-1/0;for(let re=0;re<3;re++){let le=E[2*re],me=E[2*re+1];C=Math.min(C,le),R=Math.max(R,le),O=Math.min(O,me),j=Math.max(j,me)}if(C===R||O===j)continue;let $=Math.floor(C/this._granularityCellSize),Z=Math.ceil(R/this._granularityCellSize),X=Math.floor(O/this._granularityCellSize),Q=Math.ceil(j/this._granularityCellSize);if($!==Z||X!==Q)for(let re=X;re<Q;re++){let le=this._scanlineGenerateVertexRingForCellRow(re,E,S);RGe(this._vertexBuffer,le,l)}else l.push(...S)}return l}_scanlineGenerateVertexRingForCellRow(s,l,h){let v=s*this._granularityCellSize,S=v+this._granularityCellSize,E=[];for(let C=0;C<3;C++){let O=l[2*C],R=l[2*C+1],j=l[2*(C+1)%6],$=l[(2*(C+1)+1)%6],Z=l[2*(C+2)%6],X=l[(2*(C+2)+1)%6],Q=j-O,re=$-R,le=Q===0,me=re===0,Fe=(v-R)/re,Ce=(S-R)/re,De=Math.min(Fe,Ce),Ye=Math.max(Fe,Ce);if(!me&&(De>=1||Ye<=0)||me&&(R<v||R>S)){$>=v&&$<=S&&E.push(h[(C+1)%3]);continue}!me&&De>0&&E.push(this._vertexToIndex(O+Q*De,R+re*De));let nt=O+Q*Math.max(De,0),_t=O+Q*Math.min(Ye,1);le||this._generateIntraEdgeVertices(E,O,R,j,$,nt,_t),!me&&Ye<1&&E.push(this._vertexToIndex(O+Q*Ye,R+re*Ye)),(me||$>=v&&$<=S)&&E.push(h[(C+1)%3]),!me&&($<=v||$>=S)&&this._generateInterEdgeVertices(E,O,R,j,$,Z,X,_t,v,S)}return E}_generateIntraEdgeVertices(s,l,h,v,S,E,C){let O=v-l,R=S-h,j=R===0,$=j?Math.min(l,v):Math.min(E,C),Z=j?Math.max(l,v):Math.max(E,C),X=Math.floor($/this._granularityCellSize)+1,Q=Math.ceil(Z/this._granularityCellSize)-1;if(j?l<v:E<C)for(let re=X;re<=Q;re++){let le=re*this._granularityCellSize;s.push(this._vertexToIndex(le,h+R*(le-l)/O))}else for(let re=Q;re>=X;re--){let le=re*this._granularityCellSize;s.push(this._vertexToIndex(le,h+R*(le-l)/O))}}_generateInterEdgeVertices(s,l,h,v,S,E,C,O,R,j){let $=S-h,Z=E-v,X=C-S,Q=(R-S)/X,re=(j-S)/X,le=Math.min(Q,re),me=Math.max(Q,re),Fe=v+Z*le,Ce=Math.floor(Math.min(Fe,O)/this._granularityCellSize)+1,De=Math.ceil(Math.max(Fe,O)/this._granularityCellSize)-1,Ye=O<Fe,nt=X===0;if(nt&&(C===R||C===j))return;if(nt||le>=1||me<=0){let zt=h-C,Ct=E+(l-E)*Math.min((R-C)/zt,(j-C)/zt);Ce=Math.floor(Math.min(Ct,O)/this._granularityCellSize)+1,De=Math.ceil(Math.max(Ct,O)/this._granularityCellSize)-1,Ye=O<Ct}let _t=$>0?j:R;if(Ye)for(let zt=Ce;zt<=De;zt++)s.push(this._vertexToIndex(zt*this._granularityCellSize,_t));else for(let zt=De;zt>=Ce;zt--)s.push(this._vertexToIndex(zt*this._granularityCellSize,_t))}_generateOutline(s){let l=[];for(let h of s){let v=Vm(h,this._granularity,!0),S=this._pointArrayToIndices(v),E=[];for(let C=1;C<S.length;C++)E.push(S[C-1]),E.push(S[C]);l.push(E)}return l}_handlePoles(s){let l=!1,h=!1;this._canonical&&(this._canonical.y===0&&(l=!0),this._canonical.y===(1<<this._canonical.z)-1&&(h=!0)),(l||h)&&this._fillPoles(s,l,h)}_ensureNoPoleVertices(){let s=this._vertexBuffer;for(let l=0;l<s.length;l+=2){let h=s[l+1];h===vy&&(s[l+1]=-32767),h===ex&&(s[l+1]=32766)}}_generatePoleQuad(s,l,h,v,S,E){v>S!=(E===vy)?(s.push(l),s.push(h),s.push(this._vertexToIndex(v,E)),s.push(h),s.push(this._vertexToIndex(S,E)),s.push(this._vertexToIndex(v,E))):(s.push(h),s.push(l),s.push(this._vertexToIndex(v,E)),s.push(this._vertexToIndex(S,E)),s.push(h),s.push(this._vertexToIndex(v,E)))}_fillPoles(s,l,h){let v=this._vertexBuffer,S=pt,E=s.length;for(let C=2;C<E;C+=3){let O=s[C-2],R=s[C-1],j=s[C],$=v[2*O],Z=v[2*O+1],X=v[2*R],Q=v[2*R+1],re=v[2*j],le=v[2*j+1];l&&(Z===0&&Q===0&&this._generatePoleQuad(s,O,R,$,X,vy),Q===0&&le===0&&this._generatePoleQuad(s,R,j,X,re,vy),le===0&&Z===0&&this._generatePoleQuad(s,j,O,re,$,vy)),h&&(Z===S&&Q===S&&this._generatePoleQuad(s,O,R,$,X,ex),Q===S&&le===S&&this._generatePoleQuad(s,R,j,X,re,ex),le===S&&Z===S&&this._generatePoleQuad(s,j,O,re,$,ex))}}_initializeVertices(s){for(let l=0;l<s.length;l+=2)this._vertexToIndex(s[l],s[l+1])}subdividePolygonInternal(s,l){if(this._used)throw new Error("Subdivision: multiple use not allowed.");this._used=!0;let{flattened:h,holeIndices:v}=function(C){let O=[],R=[];for(let j of C)if(j.length!==0){j!==C[0]&&O.push(R.length/2);for(let $=0;$<j.length;$++)R.push(j[$].x),R.push(j[$].y)}return{flattened:R,holeIndices:O}}(s),S;this._initializeVertices(h);try{let C=function(R,j,$=2){let Z=j&&j.length,X=Z?j[0]*$:R.length,Q=OJ(R,0,X,$,!0),re=[];if(!Q||Q.next===Q.prev)return re;let le,me,Fe;if(Z&&(Q=function(Ce,De,Ye,nt){let _t=[];for(let zt=0,Ct=De.length;zt<Ct;zt++){let Rt=OJ(Ce,De[zt]*nt,zt<Ct-1?De[zt+1]*nt:Ce.length,nt,!1);Rt===Rt.next&&(Rt.steiner=!0),_t.push(DGe(Rt))}_t.sort(AGe);for(let zt=0;zt<_t.length;zt++)Ye=PGe(_t[zt],Ye);return Ye}(R,j,Q,$)),R.length>80*$){le=R[0],me=R[1];let Ce=le,De=me;for(let Ye=$;Ye<X;Ye+=$){let nt=R[Ye],_t=R[Ye+1];nt<le&&(le=nt),_t<me&&(me=_t),nt>Ce&&(Ce=nt),_t>De&&(De=_t)}Fe=Math.max(Ce-le,De-me),Fe=Fe!==0?32767/Fe:0}return Kb(Q,re,$,le,me,Fe,0),re}(h,v),O=this._convertIndices(h,C);S=this._subdivideTrianglesScanline(O)}catch(C){console.error(C)}let E=[];return l&&(E=this._generateOutline(s)),this._ensureNoPoleVertices(),this._handlePoles(S),{verticesFlattened:this._vertexBuffer,indicesTriangles:S,indicesLineList:E}}_convertIndices(s,l){let h=[];for(let v=0;v<l.length;v++)h.push(this._vertexToIndex(s[2*l[v]],s[2*l[v]+1]));return h}_pointArrayToIndices(s){let l=[];for(let h=0;h<s.length;h++){let v=s[h];l.push(this._vertexToIndex(v.x,v.y))}return l}}function LJ(c,s,l,h=!0){return new NGe(l,s).subdividePolygonInternal(c,h)}function Vm(c,s,l=!1){if(!c||c.length<1)return[];if(c.length<2)return[];let h=c[0],v=c[c.length-1],S=l&&(h.x!==v.x||h.y!==v.y);if(s<2)return S?[...c,c[0]]:[...c];let E=Math.floor(pt/s),C=[];C.push(new u(c[0].x,c[0].y));let O=c.length,R=S?O:O-1;for(let j=0;j<R;j++){let $=c[j],Z=j<O-1?c[j+1]:c[0],X=$.x,Q=$.y,re=Z.x,le=Z.y,me=X!==re,Fe=Q!==le;if(!me&&!Fe)continue;let Ce=re-X,De=le-Q,Ye=Math.abs(Ce),nt=Math.abs(De),_t=X,zt=Q;for(;;){let Rt=Ce>0?(Math.floor(_t/E)+1)*E:(Math.ceil(_t/E)-1)*E,or=De>0?(Math.floor(zt/E)+1)*E:(Math.ceil(zt/E)-1)*E,Nt=Math.abs(_t-Rt),Lt=Math.abs(zt-or),ft=Math.abs(_t-re),br=Math.abs(zt-le),Tr=me?Nt/Ye:Number.POSITIVE_INFINITY,fr=Fe?Lt/nt:Number.POSITIVE_INFINITY;if((ft<=Nt||!me)&&(br<=Lt||!Fe))break;if(Tr<fr&&me||!Fe){_t=Rt,zt+=De*Tr;let rr=new u(_t,Math.round(zt));C[C.length-1].x===rr.x&&C[C.length-1].y===rr.y||C.push(rr)}else{_t+=Ce*fr,zt=or;let rr=new u(Math.round(_t),zt);C[C.length-1].x===rr.x&&C[C.length-1].y===rr.y||C.push(rr)}}let Ct=new u(re,le);C[C.length-1].x===Ct.x&&C[C.length-1].y===Ct.y||C.push(Ct)}return C}function RGe(c,s,l){if(s.length===0)throw new Error("Subdivision vertex ring is empty.");let h=0,v=c[2*s[0]];for(let O=1;O<s.length;O++){let R=c[2*s[O]];R<v&&(v=R,h=O)}let S=s.length,E=h,C=(E+1)%S;for(;;){let O=E-1>=0?E-1:S-1,R=(C+1)%S,j=c[2*s[O]],$=c[2*s[R]],Z=c[2*s[E]],X=c[2*s[E]+1],Q=c[2*s[C]+1],re=!1;if(j<$)re=!0;else if(j>$)re=!1;else{let le=Q-X,me=-(c[2*s[C]]-Z),Fe=X<Q?1:-1;((j-Z)*le+(c[2*s[O]+1]-X)*me)*Fe>(($-Z)*le+(c[2*s[R]+1]-X)*me)*Fe&&(re=!0)}if(re){let le=s[O],me=s[E],Fe=s[C];le!==me&&le!==Fe&&me!==Fe&&l.push(Fe,me,le),E--,E<0&&(E=S-1)}else{let le=s[R],me=s[E],Fe=s[C];le!==me&&le!==Fe&&me!==Fe&&l.push(Fe,me,le),C++,C>=S&&(C=0)}if(O===R)break}}function qJ(c,s,l,h,v,S,E,C,O){let R=v.length/2,j=E&&C&&O;if(R<zr.MAX_VERTEX_ARRAY_LENGTH){let $=s.prepareSegment(R,l,h),Z=$.vertexLength;for(let re=0;re<S.length;re+=3)h.emplaceBack(Z+S[re],Z+S[re+1],Z+S[re+2]);let X,Q;$.vertexLength+=R,$.primitiveLength+=S.length/3,j&&(Q=E.prepareSegment(R,l,C),X=Q.vertexLength,Q.vertexLength+=R);for(let re=0;re<v.length;re+=2)c(v[re],v[re+1]);if(j)for(let re=0;re<O.length;re++){let le=O[re];for(let me=1;me<le.length;me+=2)C.emplaceBack(X+le[me-1],X+le[me]);Q.primitiveLength+=le.length/2}}else(function($,Z,X,Q,re,le){let me=[];for(let nt=0;nt<Q.length/2;nt++)me.push(-1);let Fe={count:0},Ce=0,De=$.getOrCreateLatestSegment(Z,X),Ye=De.vertexLength;for(let nt=2;nt<re.length;nt+=3){let _t=re[nt-2],zt=re[nt-1],Ct=re[nt],Rt=me[_t]<Ce,or=me[zt]<Ce,Nt=me[Ct]<Ce;De.vertexLength+((Rt?1:0)+(or?1:0)+(Nt?1:0))>zr.MAX_VERTEX_ARRAY_LENGTH&&(De=$.createNewSegment(Z,X),Ce=Fe.count,Rt=!0,or=!0,Nt=!0,Ye=0);let Lt=tx(me,Q,le,Fe,_t,Rt,De),ft=tx(me,Q,le,Fe,zt,or,De),br=tx(me,Q,le,Fe,Ct,Nt,De);X.emplaceBack(Ye+Lt-Ce,Ye+ft-Ce,Ye+br-Ce),De.primitiveLength++}})(s,l,h,v,S,c),j&&function($,Z,X,Q,re,le){let me=[];for(let nt=0;nt<Q.length/2;nt++)me.push(-1);let Fe={count:0},Ce=0,De=$.getOrCreateLatestSegment(Z,X),Ye=De.vertexLength;for(let nt=0;nt<re.length;nt++){let _t=re[nt];for(let zt=1;zt<re[nt].length;zt+=2){let Ct=_t[zt-1],Rt=_t[zt],or=me[Ct]<Ce,Nt=me[Rt]<Ce;De.vertexLength+((or?1:0)+(Nt?1:0))>zr.MAX_VERTEX_ARRAY_LENGTH&&(De=$.createNewSegment(Z,X),Ce=Fe.count,or=!0,Nt=!0,Ye=0);let Lt=tx(me,Q,le,Fe,Ct,or,De),ft=tx(me,Q,le,Fe,Rt,Nt,De);X.emplaceBack(Ye+Lt-Ce,Ye+ft-Ce),De.primitiveLength++}}}(E,l,C,v,O,c),s.forceNewSegmentOnNextPrepare(),E==null||E.forceNewSegmentOnNextPrepare()}function tx(c,s,l,h,v,S,E){if(S){let C=h.count;return l(s[2*v],s[2*v+1]),c[v]=h.count,h.count++,E.vertexLength++,C}return c[v]}class bL{constructor(s){this.zoom=s.zoom,this.globalState=s.globalState,this.overscaling=s.overscaling,this.layers=s.layers,this.layerIds=this.layers.map(l=>l.id),this.index=s.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new et,this.indexArray=new Vn,this.indexArray2=new zn,this.programConfigurations=new ls(s.layers,s.zoom),this.segments=new zr,this.segments2=new zr,this.stateDependentLayerIds=this.layers.filter(l=>l.isStateDependent()).map(l=>l.id)}populate(s,l,h){this.hasPattern=gL("fill",this.layers,l);let v=this.layers[0].layout.get("fill-sort-key"),S=!v.isConstant(),E=[];for(let{feature:C,id:O,index:R,sourceLayerIndex:j}of s){let $=this.layers[0]._featureFilter.needGeometry,Z=Ou(C,$);if(!this.layers[0]._featureFilter.filter(new Zn(this.zoom,{globalState:this.globalState}),Z,h))continue;let X=S?v.evaluate(Z,{},h,l.availableImages):void 0,Q={id:O,properties:C.properties,type:C.type,sourceLayerIndex:j,index:R,geometry:$?Z.geometry:zc(C),patterns:{},sortKey:X};E.push(Q)}S&&E.sort((C,O)=>C.sortKey-O.sortKey);for(let C of E){let{geometry:O,index:R,sourceLayerIndex:j}=C;if(this.hasPattern){let $=vL("fill",this.layers,C,{zoom:this.zoom,globalState:this.globalState},l);this.patternFeatures.push($)}else this.addFeature(C,O,R,h,{},l.subdivisionGranularity);l.featureIndex.insert(s[R].feature,O,R,j,this.index)}}update(s,l,h){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(s,l,this.stateDependentLayers,{imagePositions:h,globalState:this.globalState})}addFeatures(s,l,h){for(let v of this.patternFeatures)this.addFeature(v,v.geometry,v.index,l,h,s.subdivisionGranularity)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(s){this.uploaded||(this.layoutVertexBuffer=s.createVertexBuffer(this.layoutVertexArray,EGe),this.indexBuffer=s.createIndexBuffer(this.indexArray),this.indexBuffer2=s.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(s),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(s,l,h,v,S,E){for(let C of Tm(l,500)){let O=LJ(C,v,E.fill.getGranularityForZoomLevel(v.z)),R=this.layoutVertexArray;qJ((j,$)=>{R.emplaceBack(j,$)},this.segments,this.layoutVertexArray,this.indexArray,O.verticesFlattened,O.indicesTriangles,this.segments2,this.indexArray2,O.indicesLineList)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,s,h,{imagePositions:S,canonical:v,globalState:this.globalState})}}let zJ,jJ;Zt("FillBucket",bL,{omit:["layers","patternFeatures"]});var LGe={get paint(){return jJ=jJ||new na({"fill-antialias":new nr(ye.paint_fill["fill-antialias"]),"fill-opacity":new gr(ye.paint_fill["fill-opacity"]),"fill-color":new gr(ye.paint_fill["fill-color"]),"fill-outline-color":new gr(ye.paint_fill["fill-outline-color"]),"fill-translate":new nr(ye.paint_fill["fill-translate"]),"fill-translate-anchor":new nr(ye.paint_fill["fill-translate-anchor"]),"fill-pattern":new sy(ye.paint_fill["fill-pattern"])})},get layout(){return zJ=zJ||new na({"fill-sort-key":new gr(ye.layout_fill["fill-sort-key"])})}};class qGe extends Ps{constructor(s){super(s,LGe)}recalculate(s,l){super.recalculate(s,l);let h=this.paint._values["fill-outline-color"];h.value.kind==="constant"&&h.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(s){return new bL(s)}queryRadius(){return $T(this.paint.get("fill-translate"))}queryIntersectsFeature({queryGeometry:s,geometry:l,transform:h,pixelsToTileUnits:v}){return vJ(GT(s,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),-h.bearingInRadians,v),l)}isTileClipped(){return!0}}let zGe=Di([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),jGe=Di([{name:"a_centroid",components:2,type:"Int16"}],4),{members:FGe}=zGe;class yy{constructor(s,l,h,v,S){this.properties={},this.extent=h,this.type=0,this.id=void 0,this._pbf=s,this._geometry=-1,this._keys=v,this._values=S,s.readFields(BGe,this,l)}loadGeometry(){let s=this._pbf;s.pos=this._geometry;let l=s.readVarint()+s.pos,h=[],v,S=1,E=0,C=0,O=0;for(;s.pos<l;){if(E<=0){let R=s.readVarint();S=7&R,E=R>>3}if(E--,S===1||S===2)C+=s.readSVarint(),O+=s.readSVarint(),S===1&&(v&&h.push(v),v=[]),v&&v.push(new u(C,O));else{if(S!==7)throw new Error(`unknown command ${S}`);v&&v.push(v[0].clone())}}return v&&h.push(v),h}bbox(){let s=this._pbf;s.pos=this._geometry;let l=s.readVarint()+s.pos,h=1,v=0,S=0,E=0,C=1/0,O=-1/0,R=1/0,j=-1/0;for(;s.pos<l;){if(v<=0){let $=s.readVarint();h=7&$,v=$>>3}if(v--,h===1||h===2)S+=s.readSVarint(),E+=s.readSVarint(),S<C&&(C=S),S>O&&(O=S),E<R&&(R=E),E>j&&(j=E);else if(h!==7)throw new Error(`unknown command ${h}`)}return[C,R,O,j]}toGeoJSON(s,l,h){let v=this.extent*Math.pow(2,h),S=this.extent*s,E=this.extent*l,C=this.loadGeometry();function O(Z){return[360*(Z.x+S)/v-180,360/Math.PI*Math.atan(Math.exp((1-2*(Z.y+E)/v)*Math.PI))-90]}function R(Z){return Z.map(O)}let j;if(this.type===1){let Z=[];for(let Q of C)Z.push(Q[0]);let X=R(Z);j=Z.length===1?{type:"Point",coordinates:X[0]}:{type:"MultiPoint",coordinates:X}}else if(this.type===2){let Z=C.map(R);j=Z.length===1?{type:"LineString",coordinates:Z[0]}:{type:"MultiLineString",coordinates:Z}}else{if(this.type!==3)throw new Error("unknown feature type");{let Z=function(Q){let re=Q.length;if(re<=1)return[Q];let le=[],me,Fe;for(let Ce=0;Ce<re;Ce++){let De=UGe(Q[Ce]);De!==0&&(Fe===void 0&&(Fe=De<0),Fe===De<0?(me&&le.push(me),me=[Q[Ce]]):me&&me.push(Q[Ce]))}return me&&le.push(me),le}(C),X=[];for(let Q of Z)X.push(Q.map(R));j=X.length===1?{type:"Polygon",coordinates:X[0]}:{type:"MultiPolygon",coordinates:X}}}let $={type:"Feature",geometry:j,properties:this.properties};return this.id!=null&&($.id=this.id),$}}function BGe(c,s,l){c===1?s.id=l.readVarint():c===2?function(h,v){let S=h.readVarint()+h.pos;for(;h.pos<S;){let E=v._keys[h.readVarint()],C=v._values[h.readVarint()];v.properties[E]=C}}(l,s):c===3?s.type=l.readVarint():c===4&&(s._geometry=l.pos)}function UGe(c){let s=0;for(let l,h,v=0,S=c.length,E=S-1;v<S;E=v++)l=c[v],h=c[E],s+=(h.x-l.x)*(l.y+h.y);return s}yy.types=["Unknown","Point","LineString","Polygon"];class FJ{constructor(s,l){this.version=1,this.name="",this.extent=4096,this.length=0,this._pbf=s,this._keys=[],this._values=[],this._features=[],s.readFields(VGe,this,l),this.length=this._features.length}feature(s){if(s<0||s>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[s];let l=this._pbf.readVarint()+this._pbf.pos;return new yy(this._pbf,l,this.extent,this._keys,this._values)}}function VGe(c,s,l){c===15?s.version=l.readVarint():c===1?s.name=l.readString():c===5?s.extent=l.readVarint():c===2?s._features.push(l.pos):c===3?s._keys.push(l.readString()):c===4&&s._values.push(function(h){let v=null,S=h.readVarint()+h.pos;for(;h.pos<S;){let E=h.readVarint()>>3;v=E===1?h.readString():E===2?h.readFloat():E===3?h.readDouble():E===4?h.readVarint64():E===5?h.readVarint():E===6?h.readSVarint():E===7?h.readBoolean():null}if(v==null)throw new Error("unknown feature value");return v}(l))}class BJ{constructor(s,l){this.layers=s.readFields($Ge,{},l)}}function $Ge(c,s,l){if(c===3){let h=new FJ(l,l.readVarint()+l.pos);h.length&&(s[h.name]=h)}}let xL=Math.pow(2,13);function rx(c,s,l,h,v,S,E,C){c.emplaceBack(s,l,2*Math.floor(h*xL)+E,v*xL*2,S*xL*2,Math.round(C))}class wL{constructor(s){this.zoom=s.zoom,this.globalState=s.globalState,this.overscaling=s.overscaling,this.layers=s.layers,this.layerIds=this.layers.map(l=>l.id),this.index=s.index,this.hasPattern=!1,this.layoutVertexArray=new He,this.centroidVertexArray=new Se,this.indexArray=new Vn,this.programConfigurations=new ls(s.layers,s.zoom),this.segments=new zr,this.stateDependentLayerIds=this.layers.filter(l=>l.isStateDependent()).map(l=>l.id)}populate(s,l,h){this.features=[],this.hasPattern=gL("fill-extrusion",this.layers,l);for(let{feature:v,id:S,index:E,sourceLayerIndex:C}of s){let O=this.layers[0]._featureFilter.needGeometry,R=Ou(v,O);if(!this.layers[0]._featureFilter.filter(new Zn(this.zoom,{globalState:this.globalState}),R,h))continue;let j={id:S,sourceLayerIndex:C,index:E,geometry:O?R.geometry:zc(v),properties:v.properties,type:v.type,patterns:{}};this.hasPattern?this.features.push(vL("fill-extrusion",this.layers,j,{zoom:this.zoom,globalState:this.globalState},l)):this.addFeature(j,j.geometry,E,h,{},l.subdivisionGranularity),l.featureIndex.insert(v,j.geometry,E,C,this.index,!0)}}addFeatures(s,l,h){for(let v of this.features){let{geometry:S}=v;this.addFeature(v,S,v.index,l,h,s.subdivisionGranularity)}}update(s,l,h){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(s,l,this.stateDependentLayers,{imagePositions:h,globalState:this.globalState})}isEmpty(){return this.layoutVertexArray.length===0&&this.centroidVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(s){this.uploaded||(this.layoutVertexBuffer=s.createVertexBuffer(this.layoutVertexArray,FGe),this.centroidVertexBuffer=s.createVertexBuffer(this.centroidVertexArray,jGe.members,!0),this.indexBuffer=s.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(s),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.centroidVertexBuffer.destroy())}addFeature(s,l,h,v,S,E){for(let C of Tm(l,500)){let O={x:0,y:0,sampleCount:0},R=this.layoutVertexArray.length;this.processPolygon(O,v,s,C,E);let j=this.layoutVertexArray.length-R,$=Math.floor(O.x/O.sampleCount),Z=Math.floor(O.y/O.sampleCount);for(let X=0;X<j;X++)this.centroidVertexArray.emplaceBack($,Z)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,s,h,{imagePositions:S,canonical:v,globalState:this.globalState})}processPolygon(s,l,h,v,S){if(v.length<1||UJ(v[0]))return;for(let $ of v)$.length!==0&&GGe(s,$);let E={segment:this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray)},C=S.fill.getGranularityForZoomLevel(l.z),O=yy.types[h.type]==="Polygon";for(let $ of v){if($.length===0||UJ($))continue;let Z=Vm($,C,O);this._generateSideFaces(Z,E)}if(!O)return;let R=LJ(v,l,C,!1),j=this.layoutVertexArray;qJ(($,Z)=>{rx(j,$,Z,0,0,1,1,0)},this.segments,this.layoutVertexArray,this.indexArray,R.verticesFlattened,R.indicesTriangles)}_generateSideFaces(s,l){let h=0;for(let v=1;v<s.length;v++){let S=s[v],E=s[v-1];if(HGe(S,E))continue;l.segment.vertexLength+4>zr.MAX_VERTEX_ARRAY_LENGTH&&(l.segment=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));let C=S.sub(E)._perp()._unit(),O=E.dist(S);h+O>32768&&(h=0),rx(this.layoutVertexArray,S.x,S.y,C.x,C.y,0,0,h),rx(this.layoutVertexArray,S.x,S.y,C.x,C.y,0,1,h),h+=O,rx(this.layoutVertexArray,E.x,E.y,C.x,C.y,0,0,h),rx(this.layoutVertexArray,E.x,E.y,C.x,C.y,0,1,h);let R=l.segment.vertexLength;this.indexArray.emplaceBack(R,R+2,R+1),this.indexArray.emplaceBack(R+1,R+2,R+3),l.segment.vertexLength+=4,l.segment.primitiveLength+=2}}}function GGe(c,s){for(let l=0;l<s.length;l++){let h=s[l];l===s.length-1&&s[0].x===h.x&&s[0].y===h.y||(c.x+=h.x,c.y+=h.y,c.sampleCount++)}}function HGe(c,s){return c.x===s.x&&(c.x<0||c.x>pt)||c.y===s.y&&(c.y<0||c.y>pt)}function UJ(c){return c.every(s=>s.x<0)||c.every(s=>s.x>pt)||c.every(s=>s.y<0)||c.every(s=>s.y>pt)}let VJ;Zt("FillExtrusionBucket",wL,{omit:["layers","features"]});var WGe={get paint(){return VJ=VJ||new na({"fill-extrusion-opacity":new nr(ye["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new gr(ye["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new nr(ye["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new nr(ye["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new sy(ye["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new gr(ye["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new gr(ye["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new nr(ye["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})}};class ZGe extends Ps{constructor(s){super(s,WGe)}createBucket(s){return new wL(s)}queryRadius(){return $T(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}queryIntersectsFeature({queryGeometry:s,feature:l,featureState:h,geometry:v,transform:S,pixelsToTileUnits:E,pixelPosMatrix:C}){let O=GT(s,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),-S.bearingInRadians,E),R=this.paint.get("fill-extrusion-height").evaluate(l,h),j=this.paint.get("fill-extrusion-base").evaluate(l,h),$=function(X,Q){let re=[];for(let le of X){let me=[le.x,le.y,0,1];Pe(me,me,Q),re.push(new u(me[0]/me[3],me[1]/me[3]))}return re}(O,C),Z=function(X,Q,re,le){let me=[],Fe=[],Ce=le[8]*Q,De=le[9]*Q,Ye=le[10]*Q,nt=le[11]*Q,_t=le[8]*re,zt=le[9]*re,Ct=le[10]*re,Rt=le[11]*re;for(let or of X){let Nt=[],Lt=[];for(let ft of or){let br=ft.x,Tr=ft.y,fr=le[0]*br+le[4]*Tr+le[12],rr=le[1]*br+le[5]*Tr+le[13],pn=le[2]*br+le[6]*Tr+le[14],Ei=le[3]*br+le[7]*Tr+le[15],ro=pn+Ye,Uo=Ei+nt,vl=fr+_t,cs=rr+zt,Ao=pn+Ct,gi=Ei+Rt,go=new u((fr+Ce)/Uo,(rr+De)/Uo);go.z=ro/Uo,Nt.push(go);let Po=new u(vl/gi,cs/gi);Po.z=Ao/gi,Lt.push(Po)}me.push(Nt),Fe.push(Lt)}return[me,Fe]}(v,j,R,C);return function(X,Q,re){let le=1/0;vJ(re,Q)&&(le=$J(re,Q[0]));for(let me=0;me<Q.length;me++){let Fe=Q[me],Ce=X[me];for(let De=0;De<Fe.length-1;De++){let Ye=Fe[De],nt=[Ye,Fe[De+1],Ce[De+1],Ce[De],Ye];gJ(re,nt)&&(le=Math.min(le,$J(re,nt)))}}return le!==1/0&&le}(Z[0],Z[1],$)}}function nx(c,s){return c.x*s.x+c.y*s.y}function $J(c,s){if(c.length===1){let l=0,h=s[l++],v;for(;!v||h.equals(v);)if(v=s[l++],!v)return 1/0;for(;l<s.length;l++){let S=s[l],E=c[0],C=v.sub(h),O=S.sub(h),R=E.sub(h),j=nx(C,C),$=nx(C,O),Z=nx(O,O),X=nx(R,C),Q=nx(R,O),re=j*Z-$*$,le=(Z*X-$*Q)/re,me=(j*Q-$*X)/re,Fe=h.z*(1-le-me)+v.z*le+S.z*me;if(isFinite(Fe))return Fe}return 1/0}{let l=1/0;for(let h of s)l=Math.min(l,h.z);return l}}let YGe=Di([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),{members:KGe}=YGe,XGe=Di([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),{members:QGe}=XGe,JGe=Math.cos(Math.PI/180*37.5),GJ=Math.pow(2,14)/.5;class SL{constructor(s){this.zoom=s.zoom,this.globalState=s.globalState,this.overscaling=s.overscaling,this.layers=s.layers,this.layerIds=this.layers.map(l=>l.id),this.index=s.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(l=>{this.gradients[l.id]={}}),this.layoutVertexArray=new Ze,this.layoutVertexArray2=new Qe,this.indexArray=new Vn,this.programConfigurations=new ls(s.layers,s.zoom),this.segments=new zr,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(l=>l.isStateDependent()).map(l=>l.id)}populate(s,l,h){this.hasPattern=gL("line",this.layers,l);let v=this.layers[0].layout.get("line-sort-key"),S=!v.isConstant(),E=[];for(let{feature:C,id:O,index:R,sourceLayerIndex:j}of s){let $=this.layers[0]._featureFilter.needGeometry,Z=Ou(C,$);if(!this.layers[0]._featureFilter.filter(new Zn(this.zoom,{globalState:this.globalState}),Z,h))continue;let X=S?v.evaluate(Z,{},h):void 0,Q={id:O,properties:C.properties,type:C.type,sourceLayerIndex:j,index:R,geometry:$?Z.geometry:zc(C),patterns:{},sortKey:X};E.push(Q)}S&&E.sort((C,O)=>C.sortKey-O.sortKey);for(let C of E){let{geometry:O,index:R,sourceLayerIndex:j}=C;if(this.hasPattern){let $=vL("line",this.layers,C,{zoom:this.zoom,globalState:this.globalState},l);this.patternFeatures.push($)}else this.addFeature(C,O,R,h,{},l.subdivisionGranularity);l.featureIndex.insert(s[R].feature,O,R,j,this.index)}}update(s,l,h){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(s,l,this.stateDependentLayers,{imagePositions:h,globalState:this.globalState})}addFeatures(s,l,h){for(let v of this.patternFeatures)this.addFeature(v,v.geometry,v.index,l,h,s.subdivisionGranularity)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(s){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=s.createVertexBuffer(this.layoutVertexArray2,QGe)),this.layoutVertexBuffer=s.createVertexBuffer(this.layoutVertexArray,KGe),this.indexBuffer=s.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(s),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(s){if(s.properties&&Object.prototype.hasOwnProperty.call(s.properties,"mapbox_clip_start")&&Object.prototype.hasOwnProperty.call(s.properties,"mapbox_clip_end"))return{start:+s.properties.mapbox_clip_start,end:+s.properties.mapbox_clip_end}}addFeature(s,l,h,v,S,E){let C=this.layers[0].layout,O=C.get("line-join").evaluate(s,{}),R=C.get("line-cap"),j=C.get("line-miter-limit"),$=C.get("line-round-limit");this.lineClips=this.lineFeatureClips(s);for(let Z of l)this.addLine(Z,s,O,R,j,$,v,E);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,s,h,{imagePositions:S,canonical:v,globalState:this.globalState})}addLine(s,l,h,v,S,E,C,O){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,s=Vm(s,C?O.line.getGranularityForZoomLevel(C.z):1),this.lineClips){this.lineClipsArray.push(this.lineClips);for(let Ce=0;Ce<s.length-1;Ce++)this.totalDistance+=s[Ce].dist(s[Ce+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}let R=yy.types[l.type]==="Polygon",j=s.length;for(;j>=2&&s[j-1].equals(s[j-2]);)j--;let $=0;for(;$<j-1&&s[$].equals(s[$+1]);)$++;if(j<(R?3:2))return;h==="bevel"&&(S=1.05);let Z=this.overscaling<=16?122880/(512*this.overscaling):0,X=this.segments.prepareSegment(10*j,this.layoutVertexArray,this.indexArray),Q,re,le,me,Fe;this.e1=this.e2=-1,R&&(Q=s[j-2],Fe=s[$].sub(Q)._unit()._perp());for(let Ce=$;Ce<j;Ce++){if(le=Ce===j-1?R?s[$+1]:void 0:s[Ce+1],le&&s[Ce].equals(le))continue;Fe&&(me=Fe),Q&&(re=Q),Q=s[Ce],Fe=le?le.sub(Q)._unit()._perp():me,me=me||Fe;let De=me.add(Fe);De.x===0&&De.y===0||De._unit();let Ye=me.x*Fe.x+me.y*Fe.y,nt=De.x*Fe.x+De.y*Fe.y,_t=nt!==0?1/nt:1/0,zt=2*Math.sqrt(2-2*nt),Ct=nt<JGe&&re&&le,Rt=me.x*Fe.y-me.y*Fe.x>0;if(Ct&&Ce>$){let Lt=Q.dist(re);if(Lt>2*Z){let ft=Q.sub(Q.sub(re)._mult(Z/Lt)._round());this.updateDistance(re,ft),this.addCurrentVertex(ft,me,0,0,X),re=ft}}let or=re&&le,Nt=or?h:R?"butt":v;if(or&&Nt==="round"&&(_t<E?Nt="miter":_t<=2&&(Nt="fakeround")),Nt==="miter"&&_t>S&&(Nt="bevel"),Nt==="bevel"&&(_t>2&&(Nt="flipbevel"),_t<S&&(Nt="miter")),re&&this.updateDistance(re,Q),Nt==="miter")De._mult(_t),this.addCurrentVertex(Q,De,0,0,X);else if(Nt==="flipbevel"){if(_t>100)De=Fe.mult(-1);else{let Lt=_t*me.add(Fe).mag()/me.sub(Fe).mag();De._perp()._mult(Lt*(Rt?-1:1))}this.addCurrentVertex(Q,De,0,0,X),this.addCurrentVertex(Q,De.mult(-1),0,0,X)}else if(Nt==="bevel"||Nt==="fakeround"){let Lt=-Math.sqrt(_t*_t-1),ft=Rt?Lt:0,br=Rt?0:Lt;if(re&&this.addCurrentVertex(Q,me,ft,br,X),Nt==="fakeround"){let Tr=Math.round(180*zt/Math.PI/20);for(let fr=1;fr<Tr;fr++){let rr=fr/Tr;if(rr!==.5){let Ei=rr-.5;rr+=rr*Ei*(rr-1)*((1.0904+Ye*(Ye*(3.55645-1.43519*Ye)-3.2452))*Ei*Ei+(.848013+Ye*(.215638*Ye-1.06021)))}let pn=Fe.sub(me)._mult(rr)._add(me)._unit()._mult(Rt?-1:1);this.addHalfVertex(Q,pn.x,pn.y,!1,Rt,0,X)}}le&&this.addCurrentVertex(Q,Fe,-ft,-br,X)}else if(Nt==="butt")this.addCurrentVertex(Q,De,0,0,X);else if(Nt==="square"){let Lt=re?1:-1;this.addCurrentVertex(Q,De,Lt,Lt,X)}else Nt==="round"&&(re&&(this.addCurrentVertex(Q,me,0,0,X),this.addCurrentVertex(Q,me,1,1,X,!0)),le&&(this.addCurrentVertex(Q,Fe,-1,-1,X,!0),this.addCurrentVertex(Q,Fe,0,0,X)));if(Ct&&Ce<j-1){let Lt=Q.dist(le);if(Lt>2*Z){let ft=Q.add(le.sub(Q)._mult(Z/Lt)._round());this.updateDistance(Q,ft),this.addCurrentVertex(ft,Fe,0,0,X),Q=ft}}}}addCurrentVertex(s,l,h,v,S,E=!1){let C=l.y*v-l.x,O=-l.y-l.x*v;this.addHalfVertex(s,l.x+l.y*h,l.y-l.x*h,E,!1,h,S),this.addHalfVertex(s,C,O,E,!0,-v,S),this.distance>GJ/2&&this.totalDistance===0&&(this.distance=0,this.updateScaledDistance(),this.addCurrentVertex(s,l,h,v,S,E))}addHalfVertex({x:s,y:l},h,v,S,E,C,O){let R=.5*(this.lineClips?this.scaledDistance*(GJ-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((s<<1)+(S?1:0),(l<<1)+(E?1:0),Math.round(63*h)+128,Math.round(63*v)+128,1+(C===0?0:C<0?-1:1)|(63&R)<<2,R>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);let j=O.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,j,this.e2),O.primitiveLength++),E?this.e2=j:this.e1=j}updateScaledDistance(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance}updateDistance(s,l){this.distance+=s.dist(l),this.updateScaledDistance()}}let HJ,WJ;Zt("LineBucket",SL,{omit:["layers","patternFeatures"]});var ZJ={get paint(){return WJ=WJ||new na({"line-opacity":new gr(ye.paint_line["line-opacity"]),"line-color":new gr(ye.paint_line["line-color"]),"line-translate":new nr(ye.paint_line["line-translate"]),"line-translate-anchor":new nr(ye.paint_line["line-translate-anchor"]),"line-width":new gr(ye.paint_line["line-width"]),"line-gap-width":new gr(ye.paint_line["line-gap-width"]),"line-offset":new gr(ye.paint_line["line-offset"]),"line-blur":new gr(ye.paint_line["line-blur"]),"line-dasharray":new kc(ye.paint_line["line-dasharray"]),"line-pattern":new sy(ye.paint_line["line-pattern"]),"line-gradient":new ly(ye.paint_line["line-gradient"])})},get layout(){return HJ=HJ||new na({"line-cap":new nr(ye.layout_line["line-cap"]),"line-join":new gr(ye.layout_line["line-join"]),"line-miter-limit":new nr(ye.layout_line["line-miter-limit"]),"line-round-limit":new nr(ye.layout_line["line-round-limit"]),"line-sort-key":new gr(ye.layout_line["line-sort-key"])})}};class eHe extends gr{possiblyEvaluate(s,l){return l=new Zn(Math.floor(l.zoom),{now:l.now,fadeDuration:l.fadeDuration,zoomHistory:l.zoomHistory,transition:l.transition}),super.possiblyEvaluate(s,l)}evaluate(s,l,h,v){return l=Me({},l,{zoom:Math.floor(l.zoom)}),super.evaluate(s,l,h,v)}}let YT;class tHe extends Ps{constructor(s){super(s,ZJ),this.gradientVersion=0,YT||(YT=new eHe(ZJ.paint.properties["line-width"].specification),YT.useIntegerZoom=!0)}_handleSpecialPaintPropertyUpdate(s){if(s==="line-gradient"){let l=this.gradientExpression();this.stepInterpolant=!!function(h){return h._styleExpression!==void 0}(l)&&l._styleExpression.expression instanceof Oi,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(s,l){super.recalculate(s,l),this.paint._values["line-floorwidth"]=YT.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,s)}createBucket(s){return new SL(s)}queryRadius(s){let l=s,h=YJ(Zb("line-width",this,l),Zb("line-gap-width",this,l)),v=Zb("line-offset",this,l);return h/2+Math.abs(v)+$T(this.paint.get("line-translate"))}queryIntersectsFeature({queryGeometry:s,feature:l,featureState:h,geometry:v,transform:S,pixelsToTileUnits:E}){let C=GT(s,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),-S.bearingInRadians,E),O=E/2*YJ(this.paint.get("line-width").evaluate(l,h),this.paint.get("line-gap-width").evaluate(l,h)),R=this.paint.get("line-offset").evaluate(l,h);return R&&(v=function(j,$){let Z=[];for(let X=0;X<j.length;X++){let Q=j[X],re=[];for(let le=0;le<Q.length;le++){let me=Q[le-1],Fe=Q[le],Ce=Q[le+1],De=le===0?new u(0,0):Fe.sub(me)._unit()._perp(),Ye=le===Q.length-1?new u(0,0):Ce.sub(Fe)._unit()._perp(),nt=De._add(Ye)._unit(),_t=nt.x*Ye.x+nt.y*Ye.y;_t!==0&&nt._mult(1/_t),re.push(nt._mult($)._add(Fe))}Z.push(re)}return Z}(v,R*E)),function(j,$,Z){for(let X=0;X<$.length;X++){let Q=$[X];if(j.length>=3){for(let re=0;re<Q.length;re++)if(hy(j,Q[re]))return!0}if(fGe(j,Q,Z))return!0}return!1}(C,v,O)}isTileClipped(){return!0}}function YJ(c,s){return s>0?s+2*c:c}let rHe=Di([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),nHe=Di([{name:"a_projected_pos",components:3,type:"Float32"}],4);Di([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);let iHe=Di([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"},{name:"a_box_real",components:2,type:"Int16"}]);Di([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);let KJ=Di([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),oHe=Di([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function aHe(c,s,l){return c.sections.forEach(h=>{h.text=function(v,S,E){let C=S.layout.get("text-transform").evaluate(E,{});return C==="uppercase"?v=v.toLocaleUpperCase():C==="lowercase"&&(v=v.toLocaleLowerCase()),fl.applyArabicShaping&&(v=fl.applyArabicShaping(v)),v}(h.text,s,l)}),c}Di([{name:"triangle",components:3,type:"Uint16"}]),Di([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Di([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",name:"collisionCircleDiameter"},{type:"Uint16",name:"textAnchorOffsetStartIndex"},{type:"Uint16",name:"textAnchorOffsetEndIndex"}]),Di([{type:"Float32",name:"offsetX"}]),Di([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]),Di([{type:"Uint16",name:"textAnchor"},{type:"Float32",components:2,name:"textOffset"}]);let ix={"!":"\uFE15","#":"\uFF03",$:"\uFF04","%":"\uFF05","&":"\uFF06","(":"\uFE35",")":"\uFE36","*":"\uFF0A","+":"\uFF0B",",":"\uFE10","-":"\uFE32",".":"\u30FB","/":"\uFF0F",":":"\uFE13",";":"\uFE14","<":"\uFE3F","=":"\uFF1D",">":"\uFE40","?":"\uFE16","@":"\uFF20","[":"\uFE47","\\":"\uFF3C","]":"\uFE48","^":"\uFF3E",_:"\uFE33","`":"\uFF40","{":"\uFE37","|":"\u2015","}":"\uFE38","~":"\uFF5E","\xA2":"\uFFE0","\xA3":"\uFFE1","\xA5":"\uFFE5","\xA6":"\uFFE4","\xAC":"\uFFE2","\xAF":"\uFFE3","\u2013":"\uFE32","\u2014":"\uFE31","\u2018":"\uFE43","\u2019":"\uFE44","\u201C":"\uFE41","\u201D":"\uFE42","\u2026":"\uFE19","\u2027":"\u30FB","\u20A9":"\uFFE6","\u3001":"\uFE11","\u3002":"\uFE12","\u3008":"\uFE3F","\u3009":"\uFE40","\u300A":"\uFE3D","\u300B":"\uFE3E","\u300C":"\uFE41","\u300D":"\uFE42","\u300E":"\uFE43","\u300F":"\uFE44","\u3010":"\uFE3B","\u3011":"\uFE3C","\u3014":"\uFE39","\u3015":"\uFE3A","\u3016":"\uFE17","\u3017":"\uFE18","\uFF01":"\uFE15","\uFF08":"\uFE35","\uFF09":"\uFE36","\uFF0C":"\uFE10","\uFF0D":"\uFE32","\uFF0E":"\u30FB","\uFF1A":"\uFE13","\uFF1B":"\uFE14","\uFF1C":"\uFE3F","\uFF1E":"\uFE40","\uFF1F":"\uFE16","\uFF3B":"\uFE47","\uFF3D":"\uFE48","\uFF3F":"\uFE33","\uFF5B":"\uFE37","\uFF5C":"\u2015","\uFF5D":"\uFE38","\uFF5F":"\uFE35","\uFF60":"\uFE36","\uFF61":"\uFE12","\uFF62":"\uFE41","\uFF63":"\uFE42"};var mo=24;let EL=4294967296,XJ=1/EL,QJ=typeof TextDecoder=="undefined"?null:new TextDecoder("utf-8");class IL{constructor(s=new Uint8Array(16)){this.buf=ArrayBuffer.isView(s)?s:new Uint8Array(s),this.dataView=new DataView(this.buf.buffer),this.pos=0,this.type=0,this.length=this.buf.length}readFields(s,l,h=this.length){for(;this.pos<h;){let v=this.readVarint(),S=v>>3,E=this.pos;this.type=7&v,s(S,l,this),this.pos===E&&this.skip(v)}return l}readMessage(s,l){return this.readFields(s,l,this.readVarint()+this.pos)}readFixed32(){let s=this.dataView.getUint32(this.pos,!0);return this.pos+=4,s}readSFixed32(){let s=this.dataView.getInt32(this.pos,!0);return this.pos+=4,s}readFixed64(){let s=this.dataView.getUint32(this.pos,!0)+this.dataView.getUint32(this.pos+4,!0)*EL;return this.pos+=8,s}readSFixed64(){let s=this.dataView.getUint32(this.pos,!0)+this.dataView.getInt32(this.pos+4,!0)*EL;return this.pos+=8,s}readFloat(){let s=this.dataView.getFloat32(this.pos,!0);return this.pos+=4,s}readDouble(){let s=this.dataView.getFloat64(this.pos,!0);return this.pos+=8,s}readVarint(s){let l=this.buf,h,v;return v=l[this.pos++],h=127&v,v<128?h:(v=l[this.pos++],h|=(127&v)<<7,v<128?h:(v=l[this.pos++],h|=(127&v)<<14,v<128?h:(v=l[this.pos++],h|=(127&v)<<21,v<128?h:(v=l[this.pos],h|=(15&v)<<28,function(S,E,C){let O=C.buf,R,j;if(j=O[C.pos++],R=(112&j)>>4,j<128||(j=O[C.pos++],R|=(127&j)<<3,j<128)||(j=O[C.pos++],R|=(127&j)<<10,j<128)||(j=O[C.pos++],R|=(127&j)<<17,j<128)||(j=O[C.pos++],R|=(127&j)<<24,j<128)||(j=O[C.pos++],R|=(1&j)<<31,j<128))return _y(S,R,E);throw new Error("Expected varint not more than 10 bytes")}(h,s,this)))))}readVarint64(){return this.readVarint(!0)}readSVarint(){let s=this.readVarint();return s%2==1?(s+1)/-2:s/2}readBoolean(){return!!this.readVarint()}readString(){let s=this.readVarint()+this.pos,l=this.pos;return this.pos=s,s-l>=12&&QJ?QJ.decode(this.buf.subarray(l,s)):function(h,v,S){let E="",C=v;for(;C<S;){let O=h[C],R,j,$,Z=null,X=O>239?4:O>223?3:O>191?2:1;if(C+X>S)break;X===1?O<128&&(Z=O):X===2?(R=h[C+1],(192&R)==128&&(Z=(31&O)<<6|63&R,Z<=127&&(Z=null))):X===3?(R=h[C+1],j=h[C+2],(192&R)==128&&(192&j)==128&&(Z=(15&O)<<12|(63&R)<<6|63&j,(Z<=2047||Z>=55296&&Z<=57343)&&(Z=null))):X===4&&(R=h[C+1],j=h[C+2],$=h[C+3],(192&R)==128&&(192&j)==128&&(192&$)==128&&(Z=(15&O)<<18|(63&R)<<12|(63&j)<<6|63&$,(Z<=65535||Z>=1114112)&&(Z=null))),Z===null?(Z=65533,X=1):Z>65535&&(Z-=65536,E+=String.fromCharCode(Z>>>10&1023|55296),Z=56320|1023&Z),E+=String.fromCharCode(Z),C+=X}return E}(this.buf,l,s)}readBytes(){let s=this.readVarint()+this.pos,l=this.buf.subarray(this.pos,s);return this.pos=s,l}readPackedVarint(s=[],l){let h=this.readPackedEnd();for(;this.pos<h;)s.push(this.readVarint(l));return s}readPackedSVarint(s=[]){let l=this.readPackedEnd();for(;this.pos<l;)s.push(this.readSVarint());return s}readPackedBoolean(s=[]){let l=this.readPackedEnd();for(;this.pos<l;)s.push(this.readBoolean());return s}readPackedFloat(s=[]){let l=this.readPackedEnd();for(;this.pos<l;)s.push(this.readFloat());return s}readPackedDouble(s=[]){let l=this.readPackedEnd();for(;this.pos<l;)s.push(this.readDouble());return s}readPackedFixed32(s=[]){let l=this.readPackedEnd();for(;this.pos<l;)s.push(this.readFixed32());return s}readPackedSFixed32(s=[]){let l=this.readPackedEnd();for(;this.pos<l;)s.push(this.readSFixed32());return s}readPackedFixed64(s=[]){let l=this.readPackedEnd();for(;this.pos<l;)s.push(this.readFixed64());return s}readPackedSFixed64(s=[]){let l=this.readPackedEnd();for(;this.pos<l;)s.push(this.readSFixed64());return s}readPackedEnd(){return this.type===2?this.readVarint()+this.pos:this.pos+1}skip(s){let l=7&s;if(l===0)for(;this.buf[this.pos++]>127;);else if(l===2)this.pos=this.readVarint()+this.pos;else if(l===5)this.pos+=4;else{if(l!==1)throw new Error(`Unimplemented type: ${l}`);this.pos+=8}}writeTag(s,l){this.writeVarint(s<<3|l)}realloc(s){let l=this.length||16;for(;l<this.pos+s;)l*=2;if(l!==this.length){let h=new Uint8Array(l);h.set(this.buf),this.buf=h,this.dataView=new DataView(h.buffer),this.length=l}}finish(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)}writeFixed32(s){this.realloc(4),this.dataView.setInt32(this.pos,s,!0),this.pos+=4}writeSFixed32(s){this.realloc(4),this.dataView.setInt32(this.pos,s,!0),this.pos+=4}writeFixed64(s){this.realloc(8),this.dataView.setInt32(this.pos,-1&s,!0),this.dataView.setInt32(this.pos+4,Math.floor(s*XJ),!0),this.pos+=8}writeSFixed64(s){this.realloc(8),this.dataView.setInt32(this.pos,-1&s,!0),this.dataView.setInt32(this.pos+4,Math.floor(s*XJ),!0),this.pos+=8}writeVarint(s){(s=+s||0)>268435455||s<0?function(l,h){let v,S;if(l>=0?(v=l%4294967296|0,S=l/4294967296|0):(v=~(-l%4294967296),S=~(-l/4294967296),4294967295^v?v=v+1|0:(v=0,S=S+1|0)),l>=18446744073709552e3||l<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");h.realloc(10),function(E,C,O){O.buf[O.pos++]=127&E|128,E>>>=7,O.buf[O.pos++]=127&E|128,E>>>=7,O.buf[O.pos++]=127&E|128,E>>>=7,O.buf[O.pos++]=127&E|128,O.buf[O.pos]=127&(E>>>=7)}(v,0,h),function(E,C){let O=(7&E)<<4;C.buf[C.pos++]|=O|((E>>>=3)?128:0),E&&(C.buf[C.pos++]=127&E|((E>>>=7)?128:0),E&&(C.buf[C.pos++]=127&E|((E>>>=7)?128:0),E&&(C.buf[C.pos++]=127&E|((E>>>=7)?128:0),E&&(C.buf[C.pos++]=127&E|((E>>>=7)?128:0),E&&(C.buf[C.pos++]=127&E)))))}(S,h)}(s,this):(this.realloc(4),this.buf[this.pos++]=127&s|(s>127?128:0),s<=127||(this.buf[this.pos++]=127&(s>>>=7)|(s>127?128:0),s<=127||(this.buf[this.pos++]=127&(s>>>=7)|(s>127?128:0),s<=127||(this.buf[this.pos++]=s>>>7&127))))}writeSVarint(s){this.writeVarint(s<0?2*-s-1:2*s)}writeBoolean(s){this.writeVarint(+s)}writeString(s){s=String(s),this.realloc(4*s.length),this.pos++;let l=this.pos;this.pos=function(v,S,E){for(let C,O,R=0;R<S.length;R++){if(C=S.charCodeAt(R),C>55295&&C<57344){if(!O){C>56319||R+1===S.length?(v[E++]=239,v[E++]=191,v[E++]=189):O=C;continue}if(C<56320){v[E++]=239,v[E++]=191,v[E++]=189,O=C;continue}C=O-55296<<10|C-56320|65536,O=null}else O&&(v[E++]=239,v[E++]=191,v[E++]=189,O=null);C<128?v[E++]=C:(C<2048?v[E++]=C>>6|192:(C<65536?v[E++]=C>>12|224:(v[E++]=C>>18|240,v[E++]=C>>12&63|128),v[E++]=C>>6&63|128),v[E++]=63&C|128)}return E}(this.buf,s,this.pos);let h=this.pos-l;h>=128&&JJ(l,h,this),this.pos=l-1,this.writeVarint(h),this.pos+=h}writeFloat(s){this.realloc(4),this.dataView.setFloat32(this.pos,s,!0),this.pos+=4}writeDouble(s){this.realloc(8),this.dataView.setFloat64(this.pos,s,!0),this.pos+=8}writeBytes(s){let l=s.length;this.writeVarint(l),this.realloc(l);for(let h=0;h<l;h++)this.buf[this.pos++]=s[h]}writeRawMessage(s,l){this.pos++;let h=this.pos;s(l,this);let v=this.pos-h;v>=128&&JJ(h,v,this),this.pos=h-1,this.writeVarint(v),this.pos+=v}writeMessage(s,l,h){this.writeTag(s,2),this.writeRawMessage(l,h)}writePackedVarint(s,l){l.length&&this.writeMessage(s,sHe,l)}writePackedSVarint(s,l){l.length&&this.writeMessage(s,lHe,l)}writePackedBoolean(s,l){l.length&&this.writeMessage(s,pHe,l)}writePackedFloat(s,l){l.length&&this.writeMessage(s,uHe,l)}writePackedDouble(s,l){l.length&&this.writeMessage(s,cHe,l)}writePackedFixed32(s,l){l.length&&this.writeMessage(s,fHe,l)}writePackedSFixed32(s,l){l.length&&this.writeMessage(s,dHe,l)}writePackedFixed64(s,l){l.length&&this.writeMessage(s,hHe,l)}writePackedSFixed64(s,l){l.length&&this.writeMessage(s,mHe,l)}writeBytesField(s,l){this.writeTag(s,2),this.writeBytes(l)}writeFixed32Field(s,l){this.writeTag(s,5),this.writeFixed32(l)}writeSFixed32Field(s,l){this.writeTag(s,5),this.writeSFixed32(l)}writeFixed64Field(s,l){this.writeTag(s,1),this.writeFixed64(l)}writeSFixed64Field(s,l){this.writeTag(s,1),this.writeSFixed64(l)}writeVarintField(s,l){this.writeTag(s,0),this.writeVarint(l)}writeSVarintField(s,l){this.writeTag(s,0),this.writeSVarint(l)}writeStringField(s,l){this.writeTag(s,2),this.writeString(l)}writeFloatField(s,l){this.writeTag(s,5),this.writeFloat(l)}writeDoubleField(s,l){this.writeTag(s,1),this.writeDouble(l)}writeBooleanField(s,l){this.writeVarintField(s,+l)}}function _y(c,s,l){return l?4294967296*s+(c>>>0):4294967296*(s>>>0)+(c>>>0)}function JJ(c,s,l){let h=s<=16383?1:s<=2097151?2:s<=268435455?3:Math.floor(Math.log(s)/(7*Math.LN2));l.realloc(h);for(let v=l.pos-1;v>=c;v--)l.buf[v+h]=l.buf[v]}function sHe(c,s){for(let l=0;l<c.length;l++)s.writeVarint(c[l])}function lHe(c,s){for(let l=0;l<c.length;l++)s.writeSVarint(c[l])}function uHe(c,s){for(let l=0;l<c.length;l++)s.writeFloat(c[l])}function cHe(c,s){for(let l=0;l<c.length;l++)s.writeDouble(c[l])}function pHe(c,s){for(let l=0;l<c.length;l++)s.writeBoolean(c[l])}function fHe(c,s){for(let l=0;l<c.length;l++)s.writeFixed32(c[l])}function dHe(c,s){for(let l=0;l<c.length;l++)s.writeSFixed32(c[l])}function hHe(c,s){for(let l=0;l<c.length;l++)s.writeFixed64(c[l])}function mHe(c,s){for(let l=0;l<c.length;l++)s.writeSFixed64(c[l])}function gHe(c,s,l){c===1&&l.readMessage(vHe,s)}function vHe(c,s,l){if(c===3){let{id:h,bitmap:v,width:S,height:E,left:C,top:O,advance:R}=l.readMessage(yHe,{});s.push({id:h,bitmap:new Yb({width:S+6,height:E+6},v),metrics:{width:S,height:E,left:C,top:O,advance:R}})}}function yHe(c,s,l){c===1?s.id=l.readVarint():c===2?s.bitmap=l.readBytes():c===3?s.width=l.readVarint():c===4?s.height=l.readVarint():c===5?s.left=l.readSVarint():c===6?s.top=l.readSVarint():c===7&&(s.advance=l.readVarint())}function eee(c){let s=0,l=0;for(let E of c)s+=E.w*E.h,l=Math.max(l,E.w);c.sort((E,C)=>C.h-E.h);let h=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(s/.95)),l),h:1/0}],v=0,S=0;for(let E of c)for(let C=h.length-1;C>=0;C--){let O=h[C];if(!(E.w>O.w||E.h>O.h)){if(E.x=O.x,E.y=O.y,S=Math.max(S,E.y+E.h),v=Math.max(v,E.x+E.w),E.w===O.w&&E.h===O.h){let R=h.pop();R&&C<h.length&&(h[C]=R)}else E.h===O.h?(O.x+=E.w,O.w-=E.w):E.w===O.w?(O.y+=E.h,O.h-=E.h):(h.push({x:O.x+E.w,y:O.y,w:O.w-E.w,h:E.h}),O.y+=E.h,O.h-=E.h);break}}return{w:v,h:S,fill:s/(v*S)||0}}class TL{constructor(s,{pixelRatio:l,version:h,stretchX:v,stretchY:S,content:E,textFitWidth:C,textFitHeight:O}){this.paddedRect=s,this.pixelRatio=l,this.stretchX=v,this.stretchY=S,this.content=E,this.version=h,this.textFitWidth=C,this.textFitHeight=O}get tl(){return[this.paddedRect.x+1,this.paddedRect.y+1]}get br(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]}get tlbr(){return this.tl.concat(this.br)}get displaySize(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]}}class tee{constructor(s,l){let h={},v={};this.haveRenderCallbacks=[];let S=[];this.addImages(s,h,S),this.addImages(l,v,S);let{w:E,h:C}=eee(S),O=new us({width:E||1,height:C||1});for(let R in s){let j=s[R],$=h[R].paddedRect;us.copy(j.data,O,{x:0,y:0},{x:$.x+1,y:$.y+1},j.data)}for(let R in l){let j=l[R],$=v[R].paddedRect,Z=$.x+1,X=$.y+1,Q=j.data.width,re=j.data.height;us.copy(j.data,O,{x:0,y:0},{x:Z,y:X},j.data),us.copy(j.data,O,{x:0,y:re-1},{x:Z,y:X-1},{width:Q,height:1}),us.copy(j.data,O,{x:0,y:0},{x:Z,y:X+re},{width:Q,height:1}),us.copy(j.data,O,{x:Q-1,y:0},{x:Z-1,y:X},{width:1,height:re}),us.copy(j.data,O,{x:0,y:0},{x:Z+Q,y:X},{width:1,height:re})}this.image=O,this.iconPositions=h,this.patternPositions=v}addImages(s,l,h){for(let v in s){let S=s[v],E={x:0,y:0,w:S.data.width+2,h:S.data.height+2};h.push(E),l[v]=new TL(E,S),S.hasRenderCallback&&this.haveRenderCallbacks.push(v)}}patchUpdatedImages(s,l){s.dispatchRenderCallbacks(this.haveRenderCallbacks);for(let h in s.updatedImages)this.patchUpdatedImage(this.iconPositions[h],s.getImage(h),l),this.patchUpdatedImage(this.patternPositions[h],s.getImage(h),l)}patchUpdatedImage(s,l,h){if(!s||!l||s.version===l.version)return;s.version=l.version;let[v,S]=s.tl;h.update(l.data,void 0,{x:v,y:S})}}var Pd;Zt("ImagePosition",TL),Zt("ImageAtlas",tee),i.ao=void 0,(Pd=i.ao||(i.ao={}))[Pd.none=0]="none",Pd[Pd.horizontal=1]="horizontal",Pd[Pd.vertical=2]="vertical",Pd[Pd.horizontalOnly=3]="horizontalOnly";class ox{constructor(){this.scale=1,this.fontStack="",this.imageName=null,this.verticalAlign="bottom"}static forText(s,l,h){let v=new ox;return v.scale=s||1,v.fontStack=l,v.verticalAlign=h||"bottom",v}static forImage(s,l){let h=new ox;return h.imageName=s,h.verticalAlign=l||"bottom",h}}class by{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(s,l){let h=new by;for(let v=0;v<s.sections.length;v++){let S=s.sections[v];S.image?h.addImageSection(S):h.addTextSection(S,l)}return h}length(){return this.text.length}getSection(s){return this.sections[this.sectionIndex[s]]}getSectionIndex(s){return this.sectionIndex[s]}getCharCode(s){return this.text.charCodeAt(s)}verticalizePunctuation(){this.text=function(s){let l="";for(let h=0;h<s.length;h++){let v=s.charCodeAt(h+1)||null,S=s.charCodeAt(h-1)||null;l+=v&&RT(v)&&!ix[s[h+1]]||S&&RT(S)&&!ix[s[h-1]]||!ix[s[h]]?s[h]:ix[s[h]]}return l}(this.text)}trim(){let s=0;for(let h=0;h<this.text.length&&XT[this.text.charCodeAt(h)];h++)s++;let l=this.text.length;for(let h=this.text.length-1;h>=0&&h>=s&&XT[this.text.charCodeAt(h)];h--)l--;this.text=this.text.substring(s,l),this.sectionIndex=this.sectionIndex.slice(s,l)}substring(s,l){let h=new by;return h.text=this.text.substring(s,l),h.sectionIndex=this.sectionIndex.slice(s,l),h.sections=this.sections,h}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((s,l)=>Math.max(s,this.sections[l].scale),0)}getMaxImageSize(s){let l=0,h=0;for(let v=0;v<this.length();v++){let S=this.getSection(v);if(S.imageName){let E=s[S.imageName];if(!E)continue;let C=E.displaySize;l=Math.max(l,C[0]),h=Math.max(h,C[1])}}return{maxImageWidth:l,maxImageHeight:h}}addTextSection(s,l){this.text+=s.text,this.sections.push(ox.forText(s.scale,s.fontStack||l,s.verticalAlign));let h=this.sections.length-1;for(let v=0;v<s.text.length;++v)this.sectionIndex.push(h)}addImageSection(s){let l=s.image?s.image.name:"";if(l.length===0)return void ht("Can't add FormattedSection with an empty image.");let h=this.getNextImageSectionCharCode();h?(this.text+=String.fromCharCode(h),this.sections.push(ox.forImage(l,s.verticalAlign)),this.sectionIndex.push(this.sections.length-1)):ht("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function KT(c,s,l,h,v,S,E,C,O,R,j,$,Z,X,Q){let re=by.fromFeature(c,v),le;$===i.ao.vertical&&re.verticalizePunctuation();let{processBidirectionalText:me,processStyledBidirectionalText:Fe}=fl;if(me&&re.sections.length===1){le=[];let Ye=me(re.toString(),ML(re,R,S,s,h,X));for(let nt of Ye){let _t=new by;_t.text=nt,_t.sections=re.sections;for(let zt=0;zt<nt.length;zt++)_t.sectionIndex.push(0);le.push(_t)}}else if(Fe){le=[];let Ye=Fe(re.text,re.sectionIndex,ML(re,R,S,s,h,X));for(let nt of Ye){let _t=new by;_t.text=nt[0],_t.sectionIndex=nt[1],_t.sections=re.sections,le.push(_t)}}else le=function(Ye,nt){let _t=[],zt=Ye.text,Ct=0;for(let Rt of nt)_t.push(Ye.substring(Ct,Rt)),Ct=Rt;return Ct<zt.length&&_t.push(Ye.substring(Ct,zt.length)),_t}(re,ML(re,R,S,s,h,X));let Ce=[],De={positionedLines:Ce,text:re.toString(),top:j[1],bottom:j[1],left:j[0],right:j[0],writingMode:$,iconsInText:!1,verticalizable:!1};return function(Ye,nt,_t,zt,Ct,Rt,or,Nt,Lt,ft,br,Tr){let fr=0,rr=0,pn=0,Ei=0,ro=Nt==="right"?1:Nt==="left"?0:.5,Uo=mo/Tr,vl=0;for(let gi of Ct){gi.trim();let go=gi.getMaxScale(),Po={positionedGlyphs:[],lineOffset:0};Ye.positionedLines[vl]=Po;let Oo=Po.positionedGlyphs,za=0;if(!gi.length()){rr+=Rt,++vl;continue}let yl=wHe(zt,gi,Uo);for(let ps=0;ps<gi.length();ps++){let no=gi.getSection(ps),yo=gi.getSectionIndex(ps),_o=gi.getCharCode(ps),Hi=SHe(Lt,br,_o),li;if(no.imageName){if(Ye.iconsInText=!0,no.scale=no.scale*Uo,li=IHe(no,Hi,go,yl,zt),!li)continue;za=Math.max(za,li.imageOffset)}else if(li=EHe(no,_o,Hi,yl,nt,_t),!li)continue;let{rect:Du,metrics:Ey,baselineOffset:ku}=li;Oo.push({glyph:_o,imageName:no.imageName,x:fr,y:rr+ku+-17,vertical:Hi,scale:no.scale,fontStack:no.fontStack,sectionIndex:yo,metrics:Ey,rect:Du}),Hi?(Ye.verticalizable=!0,fr+=(no.imageName?Ey.advance:mo)*no.scale+ft):fr+=Ey.advance*no.scale+ft}Oo.length!==0&&(pn=Math.max(fr-ft,pn),THe(Oo,0,Oo.length-1,ro)),fr=0,Po.lineOffset=Math.max(za,(go-1)*mo);let vo=Rt*go+za;rr+=vo,Ei=Math.max(vo,Ei),++vl}let{horizontalAlign:cs,verticalAlign:Ao}=CL(or);(function(gi,go,Po,Oo,za,yl,vo,ps,no){let yo=(go-Po)*za,_o=0;_o=yl!==vo?-ps*Oo- -17:-Oo*no*vo+.5*vo;for(let Hi of gi)for(let li of Hi.positionedGlyphs)li.x+=yo,li.y+=_o})(Ye.positionedLines,ro,cs,Ao,pn,Ei,Rt,rr,Ct.length),Ye.top+=-Ao*rr,Ye.bottom=Ye.top+rr,Ye.left+=-cs*pn,Ye.right=Ye.left+pn}(De,s,l,h,le,E,C,O,$,R,Z,Q),!function(Ye){for(let nt of Ye)if(nt.positionedGlyphs.length!==0)return!1;return!0}(Ce)&&De}let XT={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},_He={10:!0,32:!0,38:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0},bHe={40:!0};function ree(c,s,l,h,v,S){if(s.imageName){let E=h[s.imageName];return E?E.displaySize[0]*s.scale*mo/S+v:0}{let E=l[s.fontStack],C=E&&E[c];return C?C.metrics.advance*s.scale+v:0}}function nee(c,s,l,h){let v=Math.pow(c-s,2);return h?c<s?v/2:2*v:v+Math.abs(l)*l}function xHe(c,s,l){let h=0;return c===10&&(h-=1e4),l&&(h+=150),c!==40&&c!==65288||(h+=50),s!==41&&s!==65289||(h+=50),h}function iee(c,s,l,h,v,S){let E=null,C=nee(s,l,v,S);for(let O of h){let R=nee(s-O.x,l,v,S)+O.badness;R<=C&&(E=O,C=R)}return{index:c,x:s,priorBreak:E,badness:C}}function oee(c){return c?oee(c.priorBreak).concat(c.index):[]}function ML(c,s,l,h,v,S){if(!c)return[];let E=[],C=function($,Z,X,Q,re,le){let me=0;for(let Fe=0;Fe<$.length();Fe++){let Ce=$.getSection(Fe);me+=ree($.getCharCode(Fe),Ce,Q,re,Z,le)}return me/Math.max(1,Math.ceil(me/X))}(c,s,l,h,v,S),O=c.text.indexOf("\u200B")>=0,R=0;for(let $=0;$<c.length();$++){let Z=c.getSection($),X=c.getCharCode($);if(XT[X]||(R+=ree(X,Z,h,v,s,S)),$<c.length()-1){let Q=!((j=X)<11904)&&(!!cn["CJK Compatibility Forms"](j)||!!cn["CJK Compatibility"](j)||!!cn["CJK Strokes"](j)||!!cn["CJK Symbols and Punctuation"](j)||!!cn["Enclosed CJK Letters and Months"](j)||!!cn["Halfwidth and Fullwidth Forms"](j)||!!cn["Ideographic Description Characters"](j)||!!cn["Vertical Forms"](j)||qb.test(String.fromCodePoint(j)));(_He[X]||Q||Z.imageName||$!==c.length()-2&&bHe[c.getCharCode($+1)])&&E.push(iee($+1,R,C,E,xHe(X,c.getCharCode($+1),Q&&O),!1))}}var j;return oee(iee(c.length(),R,C,E,0,!0))}function CL(c){let s=.5,l=.5;switch(c){case"right":case"top-right":case"bottom-right":s=1;break;case"left":case"top-left":case"bottom-left":s=0}switch(c){case"bottom":case"bottom-right":case"bottom-left":l=1;break;case"top":case"top-right":case"top-left":l=0}return{horizontalAlign:s,verticalAlign:l}}function wHe(c,s,l){let h=s.getMaxScale()*mo,{maxImageWidth:v,maxImageHeight:S}=s.getMaxImageSize(c),E=Math.max(h,S*l);return{verticalLineContentWidth:Math.max(h,v*l),horizontalLineContentHeight:E}}function aee(c){switch(c){case"top":return 0;case"center":return .5;default:return 1}}function SHe(c,s,l){return!(c===i.ao.horizontal||!s&&!zb(l)||s&&(XT[l]||(h=l,new RegExp("\\p{sc=Arab}","u").test(String.fromCodePoint(h)))));var h}function EHe(c,s,l,h,v,S){let E=S[c.fontStack],C=function(R,j,$,Z){if(R&&R.rect)return R;let X=j[$.fontStack],Q=X&&X[Z];return Q?{rect:null,metrics:Q.metrics}:null}(E&&E[s],v,c,s);if(C===null)return null;let O;if(l)O=h.verticalLineContentWidth-c.scale*mo;else{let R=aee(c.verticalAlign);O=(h.horizontalLineContentHeight-c.scale*mo)*R}return{rect:C.rect,metrics:C.metrics,baselineOffset:O}}function IHe(c,s,l,h,v){let S=v[c.imageName];if(!S)return null;let E=S.paddedRect,C=S.displaySize,O={width:C[0],height:C[1],left:1,top:-3,advance:s?C[1]:C[0]},R;if(s)R=h.verticalLineContentWidth-C[1]*c.scale;else{let j=aee(c.verticalAlign);R=(h.horizontalLineContentHeight-C[1]*c.scale)*j}return{rect:E,metrics:O,baselineOffset:R,imageOffset:(s?C[0]:C[1])*c.scale-mo*l}}function THe(c,s,l,h){if(h===0)return;let v=c[l],S=(c[l].x+v.metrics.advance*v.scale)*h;for(let E=s;E<=l;E++)c[E].x-=S}function MHe(c,s,l){let{horizontalAlign:h,verticalAlign:v}=CL(l),S=s[0]-c.displaySize[0]*h,E=s[1]-c.displaySize[1]*v;return{image:c,top:E,bottom:E+c.displaySize[1],left:S,right:S+c.displaySize[0]}}function see(c){var s,l;let h=c.left,v=c.top,S=c.right-h,E=c.bottom-v,C=(s=c.image.textFitWidth)!==null&&s!==void 0?s:"stretchOrShrink",O=(l=c.image.textFitHeight)!==null&&l!==void 0?l:"stretchOrShrink",R=(c.image.content[2]-c.image.content[0])/(c.image.content[3]-c.image.content[1]);if(O==="proportional"){if(C==="stretchOnly"&&S/E<R||C==="proportional"){let j=Math.ceil(E*R);h*=j/S,S=j}}else if(C==="proportional"&&O==="stretchOnly"&&R!==0&&S/E>R){let j=Math.ceil(S/R);v*=j/E,E=j}return{x1:h,y1:v,x2:h+S,y2:v+E}}function lee(c,s,l,h,v,S){let E=c.image,C;if(E.content){let le=E.content,me=E.pixelRatio||1;C=[le[0]/me,le[1]/me,E.displaySize[0]-le[2]/me,E.displaySize[1]-le[3]/me]}let O=s.left*S,R=s.right*S,j,$,Z,X;l==="width"||l==="both"?(X=v[0]+O-h[3],$=v[0]+R+h[1]):(X=v[0]+(O+R-E.displaySize[0])/2,$=X+E.displaySize[0]);let Q=s.top*S,re=s.bottom*S;return l==="height"||l==="both"?(j=v[1]+Q-h[0],Z=v[1]+re+h[2]):(j=v[1]+(Q+re-E.displaySize[1])/2,Z=j+E.displaySize[1]),{image:E,top:j,right:$,bottom:Z,left:X,collisionPadding:C}}let nf=128,Od=32640;function uee(c,s){let{expression:l}=s;if(l.kind==="constant")return{kind:"constant",layoutSize:l.evaluate(new Zn(c+1))};if(l.kind==="source")return{kind:"source"};{let{zoomStops:h,interpolationType:v}=l,S=0;for(;S<h.length&&h[S]<=c;)S++;S=Math.max(0,S-1);let E=S;for(;E<h.length&&h[E]<c+1;)E++;E=Math.min(h.length-1,E);let C=h[S],O=h[E];return l.kind==="composite"?{kind:"composite",minZoom:C,maxZoom:O,interpolationType:v}:{kind:"camera",minZoom:C,maxZoom:O,minSize:l.evaluate(new Zn(C)),maxSize:l.evaluate(new Zn(O)),interpolationType:v}}}function AL(c,s,l){let h="never",v=c.get(s);return v?h=v:c.get(l)&&(h="always"),h}let CHe=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function QT(c,s,l,h,v,S,E,C,O,R,j,$,Z){let X=C?Math.min(Od,Math.round(C[0])):0,Q=C?Math.min(Od,Math.round(C[1])):0;c.emplaceBack(s,l,Math.round(32*h),Math.round(32*v),S,E,(X<<1)+(O?1:0),Q,16*R,16*j,256*$,256*Z)}function PL(c,s,l){c.emplaceBack(s.x,s.y,l),c.emplaceBack(s.x,s.y,l),c.emplaceBack(s.x,s.y,l),c.emplaceBack(s.x,s.y,l)}function AHe(c){for(let s of c.sections)if(zT(s.text))return!0;return!1}class OL{constructor(s){this.layoutVertexArray=new At,this.indexArray=new Vn,this.programConfigurations=s,this.segments=new zr,this.dynamicLayoutVertexArray=new dt,this.opacityVertexArray=new tr,this.hasVisibleVertices=!1,this.placedSymbolArray=new ee}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(s,l,h,v){this.isEmpty()||(h&&(this.layoutVertexBuffer=s.createVertexBuffer(this.layoutVertexArray,rHe.members),this.indexBuffer=s.createIndexBuffer(this.indexArray,l),this.dynamicLayoutVertexBuffer=s.createVertexBuffer(this.dynamicLayoutVertexArray,nHe.members,!0),this.opacityVertexBuffer=s.createVertexBuffer(this.opacityVertexArray,CHe,!0),this.opacityVertexBuffer.itemSize=1),(h||v)&&this.programConfigurations.upload(s))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}Zt("SymbolBuffers",OL);class DL{constructor(s,l,h){this.layoutVertexArray=new s,this.layoutAttributes=l,this.indexArray=new h,this.segments=new zr,this.collisionVertexArray=new En}upload(s){this.layoutVertexBuffer=s.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=s.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=s.createVertexBuffer(this.collisionVertexArray,iHe.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())}}Zt("CollisionBuffers",DL);class xy{constructor(s){this.collisionBoxArray=s.collisionBoxArray,this.zoom=s.zoom,this.globalState=s.globalState,this.overscaling=s.overscaling,this.layers=s.layers,this.layerIds=this.layers.map(E=>E.id),this.index=s.index,this.pixelRatio=s.pixelRatio,this.sourceLayerIndex=s.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[];let l=this.layers[0]._unevaluatedLayout._values;this.textSizeData=uee(this.zoom,l["text-size"]),this.iconSizeData=uee(this.zoom,l["icon-size"]);let h=this.layers[0].layout,v=h.get("symbol-sort-key"),S=h.get("symbol-z-order");this.canOverlap=AL(h,"text-overlap","text-allow-overlap")!=="never"||AL(h,"icon-overlap","icon-allow-overlap")!=="never"||h.get("text-ignore-placement")||h.get("icon-ignore-placement"),this.sortFeaturesByKey=S!=="viewport-y"&&!v.isConstant(),this.sortFeaturesByY=(S==="viewport-y"||S==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,h.get("symbol-placement")==="point"&&(this.writingModes=h.get("text-writing-mode").map(E=>i.ao[E])),this.stateDependentLayerIds=this.layers.filter(E=>E.isStateDependent()).map(E=>E.id),this.sourceID=s.sourceID}createArrays(){this.text=new OL(new ls(this.layers,this.zoom,s=>/^text/.test(s))),this.icon=new OL(new ls(this.layers,this.zoom,s=>/^icon/.test(s))),this.glyphOffsetArray=new fe,this.lineVertexArray=new ge,this.symbolInstances=new ce,this.textAnchorOffsets=new be}calculateGlyphDependencies(s,l,h,v,S){for(let E=0;E<s.length;E++)if(l[s.charCodeAt(E)]=!0,(h||v)&&S){let C=ix[s.charAt(E)];C&&(l[C.charCodeAt(0)]=!0)}}populate(s,l,h){let v=this.layers[0],S=v.layout,E=S.get("text-font"),C=S.get("text-field"),O=S.get("icon-image"),R=(C.value.kind!=="constant"||C.value.value instanceof ea&&!C.value.value.isEmpty()||C.value.value.toString().length>0)&&(E.value.kind!=="constant"||E.value.value.length>0),j=O.value.kind!=="constant"||!!O.value.value||Object.keys(O.parameters).length>0,$=S.get("symbol-sort-key");if(this.features=[],!R&&!j)return;let Z=l.iconDependencies,X=l.glyphDependencies,Q=l.availableImages,re=new Zn(this.zoom,{globalState:this.globalState});for(let{feature:le,id:me,index:Fe,sourceLayerIndex:Ce}of s){let De=v._featureFilter.needGeometry,Ye=Ou(le,De);if(!v._featureFilter.filter(re,Ye,h))continue;let nt,_t;if(De||(Ye.geometry=zc(le)),R){let Ct=v.getValueAndResolveTokens("text-field",Ye,h,Q),Rt=ea.factory(Ct),or=this.hasRTLText=this.hasRTLText||AHe(Rt);(!or||fl.getRTLTextPluginStatus()==="unavailable"||or&&fl.isParsed())&&(nt=aHe(Rt,v,Ye))}if(j){let Ct=v.getValueAndResolveTokens("icon-image",Ye,h,Q);_t=Ct instanceof as?Ct:as.fromString(Ct)}if(!nt&&!_t)continue;let zt=this.sortFeaturesByKey?$.evaluate(Ye,{},h):void 0;if(this.features.push({id:me,text:nt,icon:_t,index:Fe,sourceLayerIndex:Ce,geometry:Ye.geometry,properties:le.properties,type:yy.types[le.type],sortKey:zt}),_t&&(Z[_t.name]=!0),nt){let Ct=E.evaluate(Ye,{},h).join(","),Rt=S.get("text-rotation-alignment")!=="viewport"&&S.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(i.ao.vertical)>=0;for(let or of nt.sections)if(or.image)Z[or.image.name]=!0;else{let Nt=iy(nt.toString()),Lt=or.fontStack||Ct,ft=X[Lt]=X[Lt]||{};this.calculateGlyphDependencies(or.text,ft,Rt,this.allowVerticalPlacement,Nt)}}}S.get("symbol-placement")==="line"&&(this.features=function(le){let me={},Fe={},Ce=[],De=0;function Ye(Ct){Ce.push(le[Ct]),De++}function nt(Ct,Rt,or){let Nt=Fe[Ct];return delete Fe[Ct],Fe[Rt]=Nt,Ce[Nt].geometry[0].pop(),Ce[Nt].geometry[0]=Ce[Nt].geometry[0].concat(or[0]),Nt}function _t(Ct,Rt,or){let Nt=me[Rt];return delete me[Rt],me[Ct]=Nt,Ce[Nt].geometry[0].shift(),Ce[Nt].geometry[0]=or[0].concat(Ce[Nt].geometry[0]),Nt}function zt(Ct,Rt,or){let Nt=or?Rt[0][Rt[0].length-1]:Rt[0][0];return`${Ct}:${Nt.x}:${Nt.y}`}for(let Ct=0;Ct<le.length;Ct++){let Rt=le[Ct],or=Rt.geometry,Nt=Rt.text?Rt.text.toString():null;if(!Nt){Ye(Ct);continue}let Lt=zt(Nt,or),ft=zt(Nt,or,!0);if(Lt in Fe&&ft in me&&Fe[Lt]!==me[ft]){let br=_t(Lt,ft,or),Tr=nt(Lt,ft,Ce[br].geometry);delete me[Lt],delete Fe[ft],Fe[zt(Nt,Ce[Tr].geometry,!0)]=Tr,Ce[br].geometry=null}else Lt in Fe?nt(Lt,ft,or):ft in me?_t(Lt,ft,or):(Ye(Ct),me[Lt]=De-1,Fe[ft]=De-1)}return Ce.filter(Ct=>Ct.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((le,me)=>le.sortKey-me.sortKey)}update(s,l,h){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(s,l,this.layers,{imagePositions:h,globalState:this.globalState}),this.icon.programConfigurations.updatePaintArrays(s,l,this.layers,{imagePositions:h,globalState:this.globalState}))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(s){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(s),this.iconCollisionBox.upload(s)),this.text.upload(s,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(s,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(s,l){let h=this.lineVertexArray.length;if(s.segment!==void 0){let v=s.dist(l[s.segment+1]),S=s.dist(l[s.segment]),E={};for(let C=s.segment+1;C<l.length;C++)E[C]={x:l[C].x,y:l[C].y,tileUnitDistanceFromAnchor:v},C<l.length-1&&(v+=l[C+1].dist(l[C]));for(let C=s.segment||0;C>=0;C--)E[C]={x:l[C].x,y:l[C].y,tileUnitDistanceFromAnchor:S},C>0&&(S+=l[C-1].dist(l[C]));for(let C=0;C<l.length;C++){let O=E[C];this.lineVertexArray.emplaceBack(O.x,O.y,O.tileUnitDistanceFromAnchor)}}return{lineStartIndex:h,lineLength:this.lineVertexArray.length-h}}addSymbols(s,l,h,v,S,E,C,O,R,j,$,Z){let X=s.indexArray,Q=s.layoutVertexArray,re=s.segments.prepareSegment(4*l.length,Q,X,this.canOverlap?E.sortKey:void 0),le=this.glyphOffsetArray.length,me=re.vertexLength,Fe=this.allowVerticalPlacement&&C===i.ao.vertical?Math.PI/2:0,Ce=E.text&&E.text.sections;for(let De=0;De<l.length;De++){let{tl:Ye,tr:nt,bl:_t,br:zt,tex:Ct,pixelOffsetTL:Rt,pixelOffsetBR:or,minFontScaleX:Nt,minFontScaleY:Lt,glyphOffset:ft,isSDF:br,sectionIndex:Tr}=l[De],fr=re.vertexLength,rr=ft[1];QT(Q,O.x,O.y,Ye.x,rr+Ye.y,Ct.x,Ct.y,h,br,Rt.x,Rt.y,Nt,Lt),QT(Q,O.x,O.y,nt.x,rr+nt.y,Ct.x+Ct.w,Ct.y,h,br,or.x,Rt.y,Nt,Lt),QT(Q,O.x,O.y,_t.x,rr+_t.y,Ct.x,Ct.y+Ct.h,h,br,Rt.x,or.y,Nt,Lt),QT(Q,O.x,O.y,zt.x,rr+zt.y,Ct.x+Ct.w,Ct.y+Ct.h,h,br,or.x,or.y,Nt,Lt),PL(s.dynamicLayoutVertexArray,O,Fe),X.emplaceBack(fr,fr+2,fr+1),X.emplaceBack(fr+1,fr+2,fr+3),re.vertexLength+=4,re.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(ft[0]),De!==l.length-1&&Tr===l[De+1].sectionIndex||s.programConfigurations.populatePaintArrays(Q.length,E,E.index,{imagePositions:{},canonical:Z,formattedSection:Ce&&Ce[Tr],globalState:this.globalState})}s.placedSymbolArray.emplaceBack(O.x,O.y,le,this.glyphOffsetArray.length-le,me,R,j,O.segment,h?h[0]:0,h?h[1]:0,v[0],v[1],C,0,!1,0,$)}_addCollisionDebugVertex(s,l,h,v,S,E){return l.emplaceBack(0,0),s.emplaceBack(h.x,h.y,v,S,Math.round(E.x),Math.round(E.y))}addCollisionDebugVertices(s,l,h,v,S,E,C){let O=S.segments.prepareSegment(4,S.layoutVertexArray,S.indexArray),R=O.vertexLength,j=S.layoutVertexArray,$=S.collisionVertexArray,Z=C.anchorX,X=C.anchorY;this._addCollisionDebugVertex(j,$,E,Z,X,new u(s,l)),this._addCollisionDebugVertex(j,$,E,Z,X,new u(h,l)),this._addCollisionDebugVertex(j,$,E,Z,X,new u(h,v)),this._addCollisionDebugVertex(j,$,E,Z,X,new u(s,v)),O.vertexLength+=4;let Q=S.indexArray;Q.emplaceBack(R,R+1),Q.emplaceBack(R+1,R+2),Q.emplaceBack(R+2,R+3),Q.emplaceBack(R+3,R),O.primitiveLength+=4}addDebugCollisionBoxes(s,l,h,v){for(let S=s;S<l;S++){let E=this.collisionBoxArray.get(S);this.addCollisionDebugVertices(E.x1,E.y1,E.x2,E.y2,v?this.textCollisionBox:this.iconCollisionBox,E.anchorPoint,h)}}generateCollisionDebugBuffers(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new DL(Fr,KJ.members,zn),this.iconCollisionBox=new DL(Fr,KJ.members,zn);for(let s=0;s<this.symbolInstances.length;s++){let l=this.symbolInstances.get(s);this.addDebugCollisionBoxes(l.textBoxStartIndex,l.textBoxEndIndex,l,!0),this.addDebugCollisionBoxes(l.verticalTextBoxStartIndex,l.verticalTextBoxEndIndex,l,!0),this.addDebugCollisionBoxes(l.iconBoxStartIndex,l.iconBoxEndIndex,l,!1),this.addDebugCollisionBoxes(l.verticalIconBoxStartIndex,l.verticalIconBoxEndIndex,l,!1)}}_deserializeCollisionBoxesForSymbol(s,l,h,v,S,E,C,O,R){let j={};for(let $=l;$<h;$++){let Z=s.get($);j.textBox={x1:Z.x1,y1:Z.y1,x2:Z.x2,y2:Z.y2,anchorPointX:Z.anchorPointX,anchorPointY:Z.anchorPointY},j.textFeatureIndex=Z.featureIndex;break}for(let $=v;$<S;$++){let Z=s.get($);j.verticalTextBox={x1:Z.x1,y1:Z.y1,x2:Z.x2,y2:Z.y2,anchorPointX:Z.anchorPointX,anchorPointY:Z.anchorPointY},j.verticalTextFeatureIndex=Z.featureIndex;break}for(let $=E;$<C;$++){let Z=s.get($);j.iconBox={x1:Z.x1,y1:Z.y1,x2:Z.x2,y2:Z.y2,anchorPointX:Z.anchorPointX,anchorPointY:Z.anchorPointY},j.iconFeatureIndex=Z.featureIndex;break}for(let $=O;$<R;$++){let Z=s.get($);j.verticalIconBox={x1:Z.x1,y1:Z.y1,x2:Z.x2,y2:Z.y2,anchorPointX:Z.anchorPointX,anchorPointY:Z.anchorPointY},j.verticalIconFeatureIndex=Z.featureIndex;break}return j}deserializeCollisionBoxes(s){this.collisionArrays=[];for(let l=0;l<this.symbolInstances.length;l++){let h=this.symbolInstances.get(l);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(s,h.textBoxStartIndex,h.textBoxEndIndex,h.verticalTextBoxStartIndex,h.verticalTextBoxEndIndex,h.iconBoxStartIndex,h.iconBoxEndIndex,h.verticalIconBoxStartIndex,h.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(s,l){let h=s.placedSymbolArray.get(l),v=h.vertexStartIndex+4*h.numGlyphs;for(let S=h.vertexStartIndex;S<v;S+=4)s.indexArray.emplaceBack(S,S+2,S+1),s.indexArray.emplaceBack(S+1,S+2,S+3)}getSortedSymbolIndexes(s){if(this.sortedAngle===s&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;let l=Math.sin(s),h=Math.cos(s),v=[],S=[],E=[];for(let C=0;C<this.symbolInstances.length;++C){E.push(C);let O=this.symbolInstances.get(C);v.push(0|Math.round(l*O.anchorX+h*O.anchorY)),S.push(O.featureIndex)}return E.sort((C,O)=>v[C]-v[O]||S[O]-S[C]),E}addToSortKeyRanges(s,l){let h=this.sortKeyRanges[this.sortKeyRanges.length-1];h&&h.sortKey===l?h.symbolInstanceEnd=s+1:this.sortKeyRanges.push({sortKey:l,symbolInstanceStart:s,symbolInstanceEnd:s+1})}sortFeatures(s){if(this.sortFeaturesByY&&this.sortedAngle!==s&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(s),this.sortedAngle=s,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(let l of this.symbolInstanceIndexes){let h=this.symbolInstances.get(l);this.featureSortOrder.push(h.featureIndex),[h.rightJustifiedTextSymbolIndex,h.centerJustifiedTextSymbolIndex,h.leftJustifiedTextSymbolIndex].forEach((v,S,E)=>{v>=0&&E.indexOf(v)===S&&this.addIndicesForPlacedSymbol(this.text,v)}),h.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,h.verticalPlacedTextSymbolIndex),h.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,h.placedIconSymbolIndex),h.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,h.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}let cee,pee;Zt("SymbolBucket",xy,{omit:["layers","collisionBoxArray","features","compareText"]}),xy.MAX_GLYPHS=65535,xy.addDynamicAttributes=PL;var kL={get paint(){return pee=pee||new na({"icon-opacity":new gr(ye.paint_symbol["icon-opacity"]),"icon-color":new gr(ye.paint_symbol["icon-color"]),"icon-halo-color":new gr(ye.paint_symbol["icon-halo-color"]),"icon-halo-width":new gr(ye.paint_symbol["icon-halo-width"]),"icon-halo-blur":new gr(ye.paint_symbol["icon-halo-blur"]),"icon-translate":new nr(ye.paint_symbol["icon-translate"]),"icon-translate-anchor":new nr(ye.paint_symbol["icon-translate-anchor"]),"text-opacity":new gr(ye.paint_symbol["text-opacity"]),"text-color":new gr(ye.paint_symbol["text-color"],{runtimeType:Mo,getOverride:c=>c.textColor,hasOverride:c=>!!c.textColor}),"text-halo-color":new gr(ye.paint_symbol["text-halo-color"]),"text-halo-width":new gr(ye.paint_symbol["text-halo-width"]),"text-halo-blur":new gr(ye.paint_symbol["text-halo-blur"]),"text-translate":new nr(ye.paint_symbol["text-translate"]),"text-translate-anchor":new nr(ye.paint_symbol["text-translate-anchor"])})},get layout(){return cee=cee||new na({"symbol-placement":new nr(ye.layout_symbol["symbol-placement"]),"symbol-spacing":new nr(ye.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new nr(ye.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new gr(ye.layout_symbol["symbol-sort-key"]),"symbol-z-order":new nr(ye.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new nr(ye.layout_symbol["icon-allow-overlap"]),"icon-overlap":new nr(ye.layout_symbol["icon-overlap"]),"icon-ignore-placement":new nr(ye.layout_symbol["icon-ignore-placement"]),"icon-optional":new nr(ye.layout_symbol["icon-optional"]),"icon-rotation-alignment":new nr(ye.layout_symbol["icon-rotation-alignment"]),"icon-size":new gr(ye.layout_symbol["icon-size"]),"icon-text-fit":new nr(ye.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new nr(ye.layout_symbol["icon-text-fit-padding"]),"icon-image":new gr(ye.layout_symbol["icon-image"]),"icon-rotate":new gr(ye.layout_symbol["icon-rotate"]),"icon-padding":new gr(ye.layout_symbol["icon-padding"]),"icon-keep-upright":new nr(ye.layout_symbol["icon-keep-upright"]),"icon-offset":new gr(ye.layout_symbol["icon-offset"]),"icon-anchor":new gr(ye.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new nr(ye.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new nr(ye.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new nr(ye.layout_symbol["text-rotation-alignment"]),"text-field":new gr(ye.layout_symbol["text-field"]),"text-font":new gr(ye.layout_symbol["text-font"]),"text-size":new gr(ye.layout_symbol["text-size"]),"text-max-width":new gr(ye.layout_symbol["text-max-width"]),"text-line-height":new nr(ye.layout_symbol["text-line-height"]),"text-letter-spacing":new gr(ye.layout_symbol["text-letter-spacing"]),"text-justify":new gr(ye.layout_symbol["text-justify"]),"text-radial-offset":new gr(ye.layout_symbol["text-radial-offset"]),"text-variable-anchor":new nr(ye.layout_symbol["text-variable-anchor"]),"text-variable-anchor-offset":new gr(ye.layout_symbol["text-variable-anchor-offset"]),"text-anchor":new gr(ye.layout_symbol["text-anchor"]),"text-max-angle":new nr(ye.layout_symbol["text-max-angle"]),"text-writing-mode":new nr(ye.layout_symbol["text-writing-mode"]),"text-rotate":new gr(ye.layout_symbol["text-rotate"]),"text-padding":new nr(ye.layout_symbol["text-padding"]),"text-keep-upright":new nr(ye.layout_symbol["text-keep-upright"]),"text-transform":new gr(ye.layout_symbol["text-transform"]),"text-offset":new gr(ye.layout_symbol["text-offset"]),"text-allow-overlap":new nr(ye.layout_symbol["text-allow-overlap"]),"text-overlap":new nr(ye.layout_symbol["text-overlap"]),"text-ignore-placement":new nr(ye.layout_symbol["text-ignore-placement"]),"text-optional":new nr(ye.layout_symbol["text-optional"])})}};class fee{constructor(s){if(s.property.overrides===void 0)throw new Error("overrides must be provided to instantiate FormatSectionOverride class");this.type=s.property.overrides?s.property.overrides.runtimeType:od,this.defaultValue=s}evaluate(s){if(s.formattedSection){let l=this.defaultValue.property.overrides;if(l&&l.hasOverride(s.formattedSection))return l.getOverride(s.formattedSection)}return s.feature&&s.featureState?this.defaultValue.evaluate(s.feature,s.featureState):this.defaultValue.property.specification.default}eachChild(s){this.defaultValue.isConstant()||s(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}Zt("FormatSectionOverride",fee,{omit:["defaultValue"]});class JT extends Ps{constructor(s){super(s,kL)}recalculate(s,l){if(super.recalculate(s,l),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")==="map"?"map":"viewport"),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){let h=this.layout.get("text-writing-mode");if(h){let v=[];for(let S of h)v.indexOf(S)<0&&v.push(S);this.layout._values["text-writing-mode"]=v}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()}getValueAndResolveTokens(s,l,h,v){let S=this.layout.get(s).evaluate(l,{},h,v),E=this._unevaluatedLayout._values[s];return E.isDataDriven()||Kv(E.value)||!S?S:function(C,O){return O.replace(/{([^{}]+)}/g,(R,j)=>C&&j in C?String(C[j]):"")}(l.properties,S)}createBucket(s){return new xy(s)}queryRadius(){return 0}queryIntersectsFeature(){throw new Error("Should take a different path in FeatureIndex")}_setPaintOverrides(){for(let s of kL.paint.overridableProperties){if(!JT.hasPaintOverride(this.layout,s))continue;let l=this.paint.get(s),h=new fee(l),v=new Ib(h,l.property.specification),S=null;S=l.value.kind==="constant"||l.value.kind==="source"?new Om("source",v):new Tb("composite",v,l.value.zoomStops),this.paint._values[s]=new Ul(l.property,S,l.parameters)}}_handleOverridablePaintPropertyUpdate(s,l,h){return!(!this.layout||l.isDataDriven()||h.isDataDriven())&&JT.hasPaintOverride(this.layout,s)}static hasPaintOverride(s,l){let h=s.get("text-field"),v=kL.paint.properties[l],S=!1,E=C=>{for(let O of C)if(v.overrides&&v.overrides.hasOverride(O))return void(S=!0)};if(h.value.kind==="constant"&&h.value.value instanceof ea)E(h.value.value.sections);else if(h.value.kind==="source"||h.value.kind==="composite"){let C=R=>{S||(R instanceof Mu&&_r(R.value)===Mc?E(R.value.sections):R instanceof Vp?E(R.sections):R.eachChild(C))},O=h.value;O._styleExpression&&C(O._styleExpression.expression)}return S}}let dee;var PHe={get paint(){return dee=dee||new na({"background-color":new nr(ye.paint_background["background-color"]),"background-pattern":new kc(ye.paint_background["background-pattern"]),"background-opacity":new nr(ye.paint_background["background-opacity"])})}};class OHe extends Ps{constructor(s){super(s,PHe)}}let hee;var DHe={get paint(){return hee=hee||new na({"raster-opacity":new nr(ye.paint_raster["raster-opacity"]),"raster-hue-rotate":new nr(ye.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new nr(ye.paint_raster["raster-brightness-min"]),"raster-brightness-max":new nr(ye.paint_raster["raster-brightness-max"]),"raster-saturation":new nr(ye.paint_raster["raster-saturation"]),"raster-contrast":new nr(ye.paint_raster["raster-contrast"]),"raster-resampling":new nr(ye.paint_raster["raster-resampling"]),"raster-fade-duration":new nr(ye.paint_raster["raster-fade-duration"])})}};class kHe extends Ps{constructor(s){super(s,DHe)}}class NHe extends Ps{constructor(s){super(s,{}),this.onAdd=l=>{this.implementation.onAdd&&this.implementation.onAdd(l,l.painter.context.gl)},this.onRemove=l=>{this.implementation.onRemove&&this.implementation.onRemove(l,l.painter.context.gl)},this.implementation=s}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){throw new Error("Custom layers cannot be serialized")}}class RHe{constructor(s){this._methodToThrottle=s,this._triggered=!1,typeof MessageChannel!="undefined"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._methodToThrottle()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._methodToThrottle()},0))}remove(){delete this._channel,this._methodToThrottle=()=>{}}}let LHe={once:!0},NL=6371008.8;class Dd{constructor(s,l){if(isNaN(s)||isNaN(l))throw new Error(`Invalid LngLat object: (${s}, ${l})`);if(this.lng=+s,this.lat=+l,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new Dd(je(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(s){let l=Math.PI/180,h=this.lat*l,v=s.lat*l,S=Math.sin(h)*Math.sin(v)+Math.cos(h)*Math.cos(v)*Math.cos((s.lng-this.lng)*l);return NL*Math.acos(Math.min(S,1))}static convert(s){if(s instanceof Dd)return s;if(Array.isArray(s)&&(s.length===2||s.length===3))return new Dd(Number(s[0]),Number(s[1]));if(!Array.isArray(s)&&typeof s=="object"&&s!==null)return new Dd(Number("lng"in s?s.lng:s.lon),Number(s.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}let mee=2*Math.PI*NL;function gee(c){return mee*Math.cos(c*Math.PI/180)}function vee(c){return(180+c)/360}function yee(c){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+c*Math.PI/360)))/360}function _ee(c,s){return c/gee(s)}function RL(c){return 360/Math.PI*Math.atan(Math.exp((180-360*c)*Math.PI/180))-90}function bee(c,s){return c*gee(RL(s))}class ax{constructor(s,l,h=0){this.x=+s,this.y=+l,this.z=+h}static fromLngLat(s,l=0){let h=Dd.convert(s);return new ax(vee(h.lng),yee(h.lat),_ee(l,h.lat))}toLngLat(){return new Dd(360*this.x-180,RL(this.y))}toAltitude(){return bee(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/mee*(s=RL(this.y),1/Math.cos(s*Math.PI/180));var s}}function xee(c,s,l){var h=2*Math.PI*6378137/256/Math.pow(2,l);return[c*h-2*Math.PI*6378137/2,s*h-2*Math.PI*6378137/2]}class LL{constructor(s,l,h){if(!function(v,S,E){return!(v<0||v>25||E<0||E>=Math.pow(2,v)||S<0||S>=Math.pow(2,v))}(s,l,h))throw new Error(`x=${l}, y=${h}, z=${s} outside of bounds. 0<=x<${Math.pow(2,s)}, 0<=y<${Math.pow(2,s)} 0<=z<=25 `);this.z=s,this.x=l,this.y=h,this.key=wy(0,s,s,l,h)}equals(s){return this.z===s.z&&this.x===s.x&&this.y===s.y}url(s,l,h){let v=(E=this.y,C=this.z,O=xee(256*(S=this.x),256*(E=Math.pow(2,C)-E-1),C),R=xee(256*(S+1),256*(E+1),C),O[0]+","+O[1]+","+R[0]+","+R[1]);var S,E,C,O,R;let j=function($,Z,X){let Q,re="";for(let le=$;le>0;le--)Q=1<<le-1,re+=(Z&Q?1:0)+(X&Q?2:0);return re}(this.z,this.x,this.y);return s[(this.x+this.y)%s.length].replace(/{prefix}/g,(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(h==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace(/{ratio}/g,l>1?"@2x":"").replace(/{quadkey}/g,j).replace(/{bbox-epsg-3857}/g,v)}isChildOf(s){let l=this.z-s.z;return l>0&&s.x===this.x>>l&&s.y===this.y>>l}getTilePoint(s){let l=Math.pow(2,this.z);return new u((s.x*l-this.x)*pt,(s.y*l-this.y)*pt)}toString(){return`${this.z}/${this.x}/${this.y}`}}class wee{constructor(s,l){this.wrap=s,this.canonical=l,this.key=wy(s,l.z,l.z,l.x,l.y)}}class gl{constructor(s,l,h,v,S){if(this.terrainRttPosMatrix32f=null,s<h)throw new Error(`overscaledZ should be >= z; overscaledZ = ${s}; z = ${h}`);this.overscaledZ=s,this.wrap=l,this.canonical=new LL(h,+v,+S),this.key=wy(l,s,h,v,S)}clone(){return new gl(this.overscaledZ,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)}equals(s){return this.overscaledZ===s.overscaledZ&&this.wrap===s.wrap&&this.canonical.equals(s.canonical)}scaledTo(s){if(s>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${s}; overscaledZ = ${this.overscaledZ}`);let l=this.canonical.z-s;return s>this.canonical.z?new gl(s,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new gl(s,this.wrap,s,this.canonical.x>>l,this.canonical.y>>l)}calculateScaledKey(s,l){if(s>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${s}; overscaledZ = ${this.overscaledZ}`);let h=this.canonical.z-s;return s>this.canonical.z?wy(this.wrap*+l,s,this.canonical.z,this.canonical.x,this.canonical.y):wy(this.wrap*+l,s,s,this.canonical.x>>h,this.canonical.y>>h)}isChildOf(s){if(s.wrap!==this.wrap)return!1;let l=this.canonical.z-s.canonical.z;return s.overscaledZ===0||s.overscaledZ<this.overscaledZ&&s.canonical.x===this.canonical.x>>l&&s.canonical.y===this.canonical.y>>l}children(s){if(this.overscaledZ>=s)return[new gl(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];let l=this.canonical.z+1,h=2*this.canonical.x,v=2*this.canonical.y;return[new gl(l,this.wrap,l,h,v),new gl(l,this.wrap,l,h+1,v),new gl(l,this.wrap,l,h,v+1),new gl(l,this.wrap,l,h+1,v+1)]}isLessThan(s){return this.wrap<s.wrap||!(this.wrap>s.wrap)&&(this.overscaledZ<s.overscaledZ||!(this.overscaledZ>s.overscaledZ)&&(this.canonical.x<s.canonical.x||!(this.canonical.x>s.canonical.x)&&this.canonical.y<s.canonical.y))}wrapped(){return new gl(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(s){return new gl(this.overscaledZ,s,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new wee(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}getTilePoint(s){return this.canonical.getTilePoint(new ax(s.x-this.wrap,s.y))}}function wy(c,s,l,h,v){(c*=2)<0&&(c=-1*c-1);let S=1<<l;return(S*S*c+S*v+h).toString(36)+l.toString(36)+s.toString(36)}function sx(c,s){return s?c.properties[s]:c.id}Zt("CanonicalTileID",LL),Zt("OverscaledTileID",gl,{omit:["terrainRttPosMatrix32f"]});class $m{constructor(){this.minX=1/0,this.maxX=-1/0,this.minY=1/0,this.maxY=-1/0}extend(s){return this.minX=Math.min(this.minX,s.x),this.minY=Math.min(this.minY,s.y),this.maxX=Math.max(this.maxX,s.x),this.maxY=Math.max(this.maxY,s.y),this}expandBy(s){return this.minX-=s,this.minY-=s,this.maxX+=s,this.maxY+=s,(this.minX>this.maxX||this.minY>this.maxY)&&(this.minX=1/0,this.maxX=-1/0,this.minY=1/0,this.maxY=-1/0),this}shrinkBy(s){return this.expandBy(-s)}map(s){let l=new $m;return l.extend(s(new u(this.minX,this.minY))),l.extend(s(new u(this.maxX,this.minY))),l.extend(s(new u(this.minX,this.maxY))),l.extend(s(new u(this.maxX,this.maxY))),l}static fromPoints(s){let l=new $m;for(let h of s)l.extend(h);return l}contains(s){return s.x>=this.minX&&s.x<=this.maxX&&s.y>=this.minY&&s.y<=this.maxY}empty(){return this.minX>this.maxX}width(){return this.maxX-this.minX}height(){return this.maxY-this.minY}covers(s){return!this.empty()&&!s.empty()&&s.minX>=this.minX&&s.maxX<=this.maxX&&s.minY>=this.minY&&s.maxY<=this.maxY}intersects(s){return!this.empty()&&!s.empty()&&s.minX<=this.maxX&&s.maxX>=this.minX&&s.minY<=this.maxY&&s.maxY>=this.minY}}class See{constructor(s){this._stringToNumber={},this._numberToString=[];for(let l=0;l<s.length;l++){let h=s[l];this._stringToNumber[h]=l,this._numberToString[l]=h}}encode(s){return this._stringToNumber[s]}decode(s){if(s>=this._numberToString.length)throw new Error(`Out of bounds. Index requested n=${s} can't be >= this._numberToString.length ${this._numberToString.length}`);return this._numberToString[s]}}class Eee{constructor(s,l,h,v,S){this.type="Feature",this._vectorTileFeature=s,s._z=l,s._x=h,s._y=v,this.properties=s.properties,this.id=S}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry}set geometry(s){this._geometry=s}toJSON(){let s={geometry:this.geometry};for(let l in this)l!=="_geometry"&&l!=="_vectorTileFeature"&&(s[l]=this[l]);return s}}class Iee{constructor(s,l){this.tileID=s,this.x=s.canonical.x,this.y=s.canonical.y,this.z=s.canonical.z,this.grid=new zm(pt,16,0),this.grid3D=new zm(pt,16,0),this.featureIndexArray=new Ne,this.promoteId=l}insert(s,l,h,v,S,E){let C=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(h,v,S);let O=E?this.grid3D:this.grid;for(let R=0;R<l.length;R++){let j=l[R],$=[1/0,1/0,-1/0,-1/0];for(let Z=0;Z<j.length;Z++){let X=j[Z];$[0]=Math.min($[0],X.x),$[1]=Math.min($[1],X.y),$[2]=Math.max($[2],X.x),$[3]=Math.max($[3],X.y)}$[0]<pt&&$[1]<pt&&$[2]>=0&&$[3]>=0&&O.insert(C,$[0],$[1],$[2],$[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=new BJ(new IL(this.rawTileData)).layers,this.sourceLayerCoder=new See(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers}query(s,l,h,v){this.loadVTLayers();let S=s.params,E=pt/s.tileSize/s.scale,C=Yp(S.filter),O=s.queryGeometry,R=s.queryPadding*E,j=$m.fromPoints(O),$=this.grid.query(j.minX-R,j.minY-R,j.maxX+R,j.maxY+R),Z=$m.fromPoints(s.cameraQueryGeometry).expandBy(R),X=this.grid3D.query(Z.minX,Z.minY,Z.maxX,Z.maxY,(le,me,Fe,Ce)=>function(De,Ye,nt,_t,zt){for(let Rt of De)if(Ye<=Rt.x&&nt<=Rt.y&&_t>=Rt.x&&zt>=Rt.y)return!0;let Ct=[new u(Ye,nt),new u(Ye,zt),new u(_t,zt),new u(_t,nt)];if(De.length>2){for(let Rt of Ct)if(hy(De,Rt))return!0}for(let Rt=0;Rt<De.length-1;Rt++)if(hGe(De[Rt],De[Rt+1],Ct))return!0;return!1}(s.cameraQueryGeometry,le-R,me-R,Fe+R,Ce+R));for(let le of X)$.push(le);$.sort(qHe);let Q={},re;for(let le=0;le<$.length;le++){let me=$[le];if(me===re)continue;re=me;let Fe=this.featureIndexArray.get(me),Ce=null;this.loadMatchingFeature(Q,Fe.bucketIndex,Fe.sourceLayerIndex,Fe.featureIndex,C,S.layers,S.availableImages,l,h,v,(De,Ye,nt)=>(Ce||(Ce=zc(De)),Ye.queryIntersectsFeature({queryGeometry:O,feature:De,featureState:nt,geometry:Ce,zoom:this.z,transform:s.transform,pixelsToTileUnits:E,pixelPosMatrix:s.pixelPosMatrix,unwrappedTileID:this.tileID.toUnwrapped(),getElevation:s.getElevation})))}return Q}loadMatchingFeature(s,l,h,v,S,E,C,O,R,j,$){let Z=this.bucketLayerIDs[l];if(E&&!Z.some(le=>E.has(le)))return;let X=this.sourceLayerCoder.decode(h),Q=this.vtLayers[X].feature(v);if(S.needGeometry){let le=Ou(Q,!0);if(!S.filter(new Zn(this.tileID.overscaledZ),le,this.tileID.canonical))return}else if(!S.filter(new Zn(this.tileID.overscaledZ),Q))return;let re=this.getId(Q,X);for(let le=0;le<Z.length;le++){let me=Z[le];if(E&&!E.has(me))continue;let Fe=O[me];if(!Fe)continue;let Ce={};re&&j&&(Ce=j.getState(Fe.sourceLayer||"_geojsonTileLayer",re));let De=Me({},R[me]);De.paint=Tee(De.paint,Fe.paint,Q,Ce,C),De.layout=Tee(De.layout,Fe.layout,Q,Ce,C);let Ye=!$||$(Q,Fe,Ce);if(!Ye)continue;let nt=new Eee(Q,this.z,this.x,this.y,re);nt.layer=De;let _t=s[me];_t===void 0&&(_t=s[me]=[]),_t.push({featureIndex:v,feature:nt,intersectionZ:Ye})}}lookupSymbolFeatures(s,l,h,v,S,E,C,O){let R={};this.loadVTLayers();let j=Yp(S);for(let $ of s)this.loadMatchingFeature(R,h,v,$,j,E,C,O,l);return R}hasLayer(s){for(let l of this.bucketLayerIDs)for(let h of l)if(s===h)return!0;return!1}getId(s,l){var h;let v=s.id;return this.promoteId&&(v=s.properties[typeof this.promoteId=="string"?this.promoteId:this.promoteId[l]],typeof v=="boolean"&&(v=Number(v)),v===void 0&&!((h=s.properties)===null||h===void 0)&&h.cluster&&this.promoteId&&(v=Number(s.properties.cluster_id))),v}}function Tee(c,s,l,h,v){return ze(c,(S,E)=>{let C=s instanceof ay?s.get(E):null;return C&&C.evaluate?C.evaluate(l,h,v):C})}function qHe(c,s){return s-c}function Mee(c,s,l,h,v){let S=[];for(let E=0;E<c.length;E++){let C=c[E],O;for(let R=0;R<C.length-1;R++){let j=C[R],$=C[R+1];j.x<s&&$.x<s||(j.x<s?j=new u(s,j.y+(s-j.x)/($.x-j.x)*($.y-j.y))._round():$.x<s&&($=new u(s,j.y+(s-j.x)/($.x-j.x)*($.y-j.y))._round()),j.y<l&&$.y<l||(j.y<l?j=new u(j.x+(l-j.y)/($.y-j.y)*($.x-j.x),l)._round():$.y<l&&($=new u(j.x+(l-j.y)/($.y-j.y)*($.x-j.x),l)._round()),j.x>=h&&$.x>=h||(j.x>=h?j=new u(h,j.y+(h-j.x)/($.x-j.x)*($.y-j.y))._round():$.x>=h&&($=new u(h,j.y+(h-j.x)/($.x-j.x)*($.y-j.y))._round()),j.y>=v&&$.y>=v||(j.y>=v?j=new u(j.x+(v-j.y)/($.y-j.y)*($.x-j.x),v)._round():$.y>=v&&($=new u(j.x+(v-j.y)/($.y-j.y)*($.x-j.x),v)._round()),O&&j.equals(O[O.length-1])||(O=[j],S.push(O)),O.push($)))))}}return S}Zt("FeatureIndex",Iee,{omit:["rawTileData","sourceLayerCoder"]});class kd extends u{constructor(s,l,h,v){super(s,l),this.angle=h,v!==void 0&&(this.segment=v)}clone(){return new kd(this.x,this.y,this.angle,this.segment)}}function Cee(c,s,l,h,v){if(s.segment===void 0||l===0)return!0;let S=s,E=s.segment+1,C=0;for(;C>-l/2;){if(E--,E<0)return!1;C-=c[E].dist(S),S=c[E]}C+=c[E].dist(c[E+1]),E++;let O=[],R=0;for(;C<l/2;){let j=c[E],$=c[E+1];if(!$)return!1;let Z=c[E-1].angleTo(j)-j.angleTo($);for(Z=Math.abs((Z+3*Math.PI)%(2*Math.PI)-Math.PI),O.push({distance:C,angleDelta:Z}),R+=Z;C-O[0].distance>h;)R-=O.shift().angleDelta;if(R>v)return!1;E++,C+=j.dist($)}return!0}function Aee(c){let s=0;for(let l=0;l<c.length-1;l++)s+=c[l].dist(c[l+1]);return s}function Pee(c,s,l){return c?.6*s*l:0}function Oee(c,s){return Math.max(c?c.right-c.left:0,s?s.right-s.left:0)}function zHe(c,s,l,h,v,S){let E=Pee(l,v,S),C=Oee(l,h)*S,O=0,R=Aee(c)/2;for(let j=0;j<c.length-1;j++){let $=c[j],Z=c[j+1],X=$.dist(Z);if(O+X>R){let Q=(R-O)/X,re=Fl.number($.x,Z.x,Q),le=Fl.number($.y,Z.y,Q),me=new kd(re,le,Z.angleTo($),j);return me._round(),!E||Cee(c,me,C,E,s)?me:void 0}O+=X}}function jHe(c,s,l,h,v,S,E,C,O){let R=Pee(h,S,E),j=Oee(h,v),$=j*E,Z=c[0].x===0||c[0].x===O||c[0].y===0||c[0].y===O;return s-$<s/4&&(s=$+s/4),Dee(c,Z?s/2*C%s:(j/2+2*S)*E*C%s,s,R,l,$,Z,!1,O)}function Dee(c,s,l,h,v,S,E,C,O){let R=S/2,j=Aee(c),$=0,Z=s-l,X=[];for(let Q=0;Q<c.length-1;Q++){let re=c[Q],le=c[Q+1],me=re.dist(le),Fe=le.angleTo(re);for(;Z+l<$+me;){Z+=l;let Ce=(Z-$)/me,De=Fl.number(re.x,le.x,Ce),Ye=Fl.number(re.y,le.y,Ce);if(De>=0&&De<O&&Ye>=0&&Ye<O&&Z-R>=0&&Z+R<=j){let nt=new kd(De,Ye,Fe,Q);nt._round(),h&&!Cee(c,nt,S,h,v)||X.push(nt)}}$+=me}return C||X.length||E||(X=Dee(c,$/2,l,h,v,S,E,!0,O)),X}function kee(c,s,l,h){let v=[],S=c.image,E=S.pixelRatio,C=S.paddedRect.w-2,O=S.paddedRect.h-2,R={x1:c.left,y1:c.top,x2:c.right,y2:c.bottom},j=S.stretchX||[[0,C]],$=S.stretchY||[[0,O]],Z=(ft,br)=>ft+br[1]-br[0],X=j.reduce(Z,0),Q=$.reduce(Z,0),re=C-X,le=O-Q,me=0,Fe=X,Ce=0,De=Q,Ye=0,nt=re,_t=0,zt=le;if(S.content&&h){let ft=S.content,br=ft[2]-ft[0],Tr=ft[3]-ft[1];(S.textFitWidth||S.textFitHeight)&&(R=see(c)),me=eM(j,0,ft[0]),Ce=eM($,0,ft[1]),Fe=eM(j,ft[0],ft[2]),De=eM($,ft[1],ft[3]),Ye=ft[0]-me,_t=ft[1]-Ce,nt=br-Fe,zt=Tr-De}let Ct=R.x1,Rt=R.y1,or=R.x2-Ct,Nt=R.y2-Rt,Lt=(ft,br,Tr,fr)=>{let rr=tM(ft.stretch-me,Fe,or,Ct),pn=rM(ft.fixed-Ye,nt,ft.stretch,X),Ei=tM(br.stretch-Ce,De,Nt,Rt),ro=rM(br.fixed-_t,zt,br.stretch,Q),Uo=tM(Tr.stretch-me,Fe,or,Ct),vl=rM(Tr.fixed-Ye,nt,Tr.stretch,X),cs=tM(fr.stretch-Ce,De,Nt,Rt),Ao=rM(fr.fixed-_t,zt,fr.stretch,Q),gi=new u(rr,Ei),go=new u(Uo,Ei),Po=new u(Uo,cs),Oo=new u(rr,cs),za=new u(pn/E,ro/E),yl=new u(vl/E,Ao/E),vo=s*Math.PI/180;if(vo){let yo=Math.sin(vo),_o=Math.cos(vo),Hi=[_o,-yo,yo,_o];gi._matMult(Hi),go._matMult(Hi),Oo._matMult(Hi),Po._matMult(Hi)}let ps=ft.stretch+ft.fixed,no=br.stretch+br.fixed;return{tl:gi,tr:go,bl:Oo,br:Po,tex:{x:S.paddedRect.x+1+ps,y:S.paddedRect.y+1+no,w:Tr.stretch+Tr.fixed-ps,h:fr.stretch+fr.fixed-no},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:za,pixelOffsetBR:yl,minFontScaleX:nt/E/or,minFontScaleY:zt/E/Nt,isSDF:l}};if(h&&(S.stretchX||S.stretchY)){let ft=Nee(j,re,X),br=Nee($,le,Q);for(let Tr=0;Tr<ft.length-1;Tr++){let fr=ft[Tr],rr=ft[Tr+1];for(let pn=0;pn<br.length-1;pn++)v.push(Lt(fr,br[pn],rr,br[pn+1]))}}else v.push(Lt({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:C+1},{fixed:0,stretch:O+1}));return v}function eM(c,s,l){let h=0;for(let v of c)h+=Math.max(s,Math.min(l,v[1]))-Math.max(s,Math.min(l,v[0]));return h}function Nee(c,s,l){let h=[{fixed:-1,stretch:0}];for(let[v,S]of c){let E=h[h.length-1];h.push({fixed:v-E.stretch,stretch:E.stretch}),h.push({fixed:v-E.stretch,stretch:E.stretch+(S-v)})}return h.push({fixed:s+1,stretch:l}),h}function tM(c,s,l,h){return c/s*l+h}function rM(c,s,l,h){return c-s*l/h}Zt("Anchor",kd);class nM{constructor(s,l,h,v,S,E,C,O,R,j){var $;if(this.boxStartIndex=s.length,R){let Z=E.top,X=E.bottom,Q=E.collisionPadding;Q&&(Z-=Q[1],X+=Q[3]);let re=X-Z;re>0&&(re=Math.max(10,re),this.circleDiameter=re)}else{let Z=!(($=E.image)===null||$===void 0)&&$.content&&(E.image.textFitWidth||E.image.textFitHeight)?see(E):{x1:E.left,y1:E.top,x2:E.right,y2:E.bottom};Z.y1=Z.y1*C-O[0],Z.y2=Z.y2*C+O[2],Z.x1=Z.x1*C-O[3],Z.x2=Z.x2*C+O[1];let X=E.collisionPadding;if(X&&(Z.x1-=X[0]*C,Z.y1-=X[1]*C,Z.x2+=X[2]*C,Z.y2+=X[3]*C),j){let Q=new u(Z.x1,Z.y1),re=new u(Z.x2,Z.y1),le=new u(Z.x1,Z.y2),me=new u(Z.x2,Z.y2),Fe=j*Math.PI/180;Q._rotate(Fe),re._rotate(Fe),le._rotate(Fe),me._rotate(Fe),Z.x1=Math.min(Q.x,re.x,le.x,me.x),Z.x2=Math.max(Q.x,re.x,le.x,me.x),Z.y1=Math.min(Q.y,re.y,le.y,me.y),Z.y2=Math.max(Q.y,re.y,le.y,me.y)}s.emplaceBack(l.x,l.y,Z.x1,Z.y1,Z.x2,Z.y2,h,v,S)}this.boxEndIndex=s.length}}class FHe{constructor(s=[],l=(h,v)=>h<v?-1:h>v?1:0){if(this.data=s,this.length=this.data.length,this.compare=l,this.length>0)for(let h=(this.length>>1)-1;h>=0;h--)this._down(h)}push(s){this.data.push(s),this._up(this.length++)}pop(){if(this.length===0)return;let s=this.data[0],l=this.data.pop();return--this.length>0&&(this.data[0]=l,this._down(0)),s}peek(){return this.data[0]}_up(s){let{data:l,compare:h}=this,v=l[s];for(;s>0;){let S=s-1>>1,E=l[S];if(h(v,E)>=0)break;l[s]=E,s=S}l[s]=v}_down(s){let{data:l,compare:h}=this,v=this.length>>1,S=l[s];for(;s<v;){let E=1+(s<<1),C=E+1;if(C<this.length&&h(l[C],l[E])<0&&(E=C),h(l[E],S)>=0)break;l[s]=l[E],s=E}l[s]=S}}function BHe(c,s=1,l=!1){let h=$m.fromPoints(c[0]),v=Math.min(h.width(),h.height()),S=v/2,E=new FHe([],UHe),{minX:C,minY:O,maxX:R,maxY:j}=h;if(v===0)return new u(C,O);for(let X=C;X<R;X+=v)for(let Q=O;Q<j;Q+=v)E.push(new Sy(X+S,Q+S,S,c));let $=function(X){let Q=0,re=0,le=0,me=X[0];for(let Fe=0,Ce=me.length,De=Ce-1;Fe<Ce;De=Fe++){let Ye=me[Fe],nt=me[De],_t=Ye.x*nt.y-nt.x*Ye.y;re+=(Ye.x+nt.x)*_t,le+=(Ye.y+nt.y)*_t,Q+=3*_t}return new Sy(re/Q,le/Q,0,X)}(c),Z=E.length;for(;E.length;){let X=E.pop();(X.d>$.d||!$.d)&&($=X,l&&console.log("found best %d after %d probes",Math.round(1e4*X.d)/1e4,Z)),X.max-$.d<=s||(S=X.h/2,E.push(new Sy(X.p.x-S,X.p.y-S,S,c)),E.push(new Sy(X.p.x+S,X.p.y-S,S,c)),E.push(new Sy(X.p.x-S,X.p.y+S,S,c)),E.push(new Sy(X.p.x+S,X.p.y+S,S,c)),Z+=4)}return l&&(console.log(`num probes: ${Z}`),console.log(`best distance: ${$.d}`)),$.p}function UHe(c,s){return s.max-c.max}function Sy(c,s,l,h){this.p=new u(c,s),this.h=l,this.d=function(v,S){let E=!1,C=1/0;for(let O=0;O<S.length;O++){let R=S[O];for(let j=0,$=R.length,Z=$-1;j<$;Z=j++){let X=R[j],Q=R[Z];X.y>v.y!=Q.y>v.y&&v.x<(Q.x-X.x)*(v.y-X.y)/(Q.y-X.y)+X.x&&(E=!E),C=Math.min(C,yJ(v,X,Q))}}return(E?1:-1)*Math.sqrt(C)}(this.p,h),this.max=this.d+this.h*Math.SQRT2}var Bo;i.aE=void 0,(Bo=i.aE||(i.aE={}))[Bo.center=1]="center",Bo[Bo.left=2]="left",Bo[Bo.right=3]="right",Bo[Bo.top=4]="top",Bo[Bo.bottom=5]="bottom",Bo[Bo["top-left"]=6]="top-left",Bo[Bo["top-right"]=7]="top-right",Bo[Bo["bottom-left"]=8]="bottom-left",Bo[Bo["bottom-right"]=9]="bottom-right";let qL=Number.POSITIVE_INFINITY;function Ree(c,s){return s[1]!==qL?function(l,h,v){let S=0,E=0;switch(h=Math.abs(h),v=Math.abs(v),l){case"top-right":case"top-left":case"top":E=v-7;break;case"bottom-right":case"bottom-left":case"bottom":E=7-v}switch(l){case"top-right":case"bottom-right":case"right":S=-h;break;case"top-left":case"bottom-left":case"left":S=h}return[S,E]}(c,s[0],s[1]):function(l,h){let v=0,S=0;h<0&&(h=0);let E=h/Math.SQRT2;switch(l){case"top-right":case"top-left":S=E-7;break;case"bottom-right":case"bottom-left":S=7-E;break;case"bottom":S=7-h;break;case"top":S=h-7}switch(l){case"top-right":case"bottom-right":v=-E;break;case"top-left":case"bottom-left":v=E;break;case"left":v=h;break;case"right":v=-h}return[v,S]}(c,s[0])}function Lee(c,s,l){var h;let v=c.layout,S=(h=v.get("text-variable-anchor-offset"))===null||h===void 0?void 0:h.evaluate(s,{},l);if(S){let C=S.values,O=[];for(let R=0;R<C.length;R+=2){let j=O[R]=C[R],$=C[R+1].map(Z=>Z*mo);j.startsWith("top")?$[1]-=7:j.startsWith("bottom")&&($[1]+=7),O[R+1]=$}return new ra(O)}let E=v.get("text-variable-anchor");if(E){let C;C=c._unevaluatedLayout.getValue("text-radial-offset")!==void 0?[v.get("text-radial-offset").evaluate(s,{},l)*mo,qL]:v.get("text-offset").evaluate(s,{},l).map(R=>R*mo);let O=[];for(let R of E)O.push(R,Ree(R,C));return new ra(O)}return null}function zL(c){switch(c){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function VHe(c,s,l,h,v,S,E,C,O,R,j,$){let Z=S.textMaxSize.evaluate(s,{});Z===void 0&&(Z=E);let X=c.layers[0].layout,Q=X.get("icon-offset").evaluate(s,{},j),re=zee(l.horizontal),le=E/24,me=c.tilePixelRatio*le,Fe=c.tilePixelRatio*Z/24,Ce=c.tilePixelRatio*C,De=c.tilePixelRatio*X.get("symbol-spacing"),Ye=X.get("text-padding")*c.tilePixelRatio,nt=function(Tr,fr,rr,pn=1){let Ei=Tr.get("icon-padding").evaluate(fr,{},rr),ro=Ei&&Ei.values;return[ro[0]*pn,ro[1]*pn,ro[2]*pn,ro[3]*pn]}(X,s,j,c.tilePixelRatio),_t=X.get("text-max-angle")/180*Math.PI,zt=X.get("text-rotation-alignment")!=="viewport"&&X.get("symbol-placement")!=="point",Ct=X.get("icon-rotation-alignment")==="map"&&X.get("symbol-placement")!=="point",Rt=X.get("symbol-placement"),or=De/2,Nt=X.get("icon-text-fit"),Lt;h&&Nt!=="none"&&(c.allowVerticalPlacement&&l.vertical&&(Lt=lee(h,l.vertical,Nt,X.get("icon-text-fit-padding"),Q,le)),re&&(h=lee(h,re,Nt,X.get("icon-text-fit-padding"),Q,le)));let ft=j?$.line.getGranularityForZoomLevel(j.z):1,br=(Tr,fr)=>{fr.x<0||fr.x>=pt||fr.y<0||fr.y>=pt||function(rr,pn,Ei,ro,Uo,vl,cs,Ao,gi,go,Po,Oo,za,yl,vo,ps,no,yo,_o,Hi,li,Du,Ey,ku,HHe){let Iy=rr.addToLineVertexArray(pn,Ei),Gm,Ty,My,Cy,Uee=0,Vee=0,$ee=0,Gee=0,HL=-1,WL=-1,of={},Hee=Cd("");if(rr.allowVerticalPlacement&&ro.vertical){let aa=Ao.layout.get("text-rotate").evaluate(li,{},ku)+90;My=new nM(gi,pn,go,Po,Oo,ro.vertical,za,yl,vo,aa),cs&&(Cy=new nM(gi,pn,go,Po,Oo,cs,no,yo,vo,aa))}if(Uo){let aa=Ao.layout.get("icon-rotate").evaluate(li,{}),_l=Ao.layout.get("icon-text-fit")!=="none",Hm=kee(Uo,aa,Ey,_l),Ru=cs?kee(cs,aa,Ey,_l):void 0;Ty=new nM(gi,pn,go,Po,Oo,Uo,no,yo,!1,aa),Uee=4*Hm.length;let Wm=rr.iconSizeData,jc=null;Wm.kind==="source"?(jc=[nf*Ao.layout.get("icon-size").evaluate(li,{})],jc[0]>Od&&ht(`${rr.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)):Wm.kind==="composite"&&(jc=[nf*Du.compositeIconSizes[0].evaluate(li,{},ku),nf*Du.compositeIconSizes[1].evaluate(li,{},ku)],(jc[0]>Od||jc[1]>Od)&&ht(`${rr.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)),rr.addSymbols(rr.icon,Hm,jc,Hi,_o,li,i.ao.none,pn,Iy.lineStartIndex,Iy.lineLength,-1,ku),HL=rr.icon.placedSymbolArray.length-1,Ru&&(Vee=4*Ru.length,rr.addSymbols(rr.icon,Ru,jc,Hi,_o,li,i.ao.vertical,pn,Iy.lineStartIndex,Iy.lineLength,-1,ku),WL=rr.icon.placedSymbolArray.length-1)}let Wee=Object.keys(ro.horizontal);for(let aa of Wee){let _l=ro.horizontal[aa];if(!Gm){Hee=Cd(_l.text);let Ru=Ao.layout.get("text-rotate").evaluate(li,{},ku);Gm=new nM(gi,pn,go,Po,Oo,_l,za,yl,vo,Ru)}let Hm=_l.positionedLines.length===1;if($ee+=qee(rr,pn,_l,vl,Ao,vo,li,ps,Iy,ro.vertical?i.ao.horizontal:i.ao.horizontalOnly,Hm?Wee:[aa],of,HL,Du,ku),Hm)break}ro.vertical&&(Gee+=qee(rr,pn,ro.vertical,vl,Ao,vo,li,ps,Iy,i.ao.vertical,["vertical"],of,WL,Du,ku));let WHe=Gm?Gm.boxStartIndex:rr.collisionBoxArray.length,ZHe=Gm?Gm.boxEndIndex:rr.collisionBoxArray.length,YHe=My?My.boxStartIndex:rr.collisionBoxArray.length,KHe=My?My.boxEndIndex:rr.collisionBoxArray.length,XHe=Ty?Ty.boxStartIndex:rr.collisionBoxArray.length,QHe=Ty?Ty.boxEndIndex:rr.collisionBoxArray.length,JHe=Cy?Cy.boxStartIndex:rr.collisionBoxArray.length,eWe=Cy?Cy.boxEndIndex:rr.collisionBoxArray.length,Nu=-1,oM=(aa,_l)=>aa&&aa.circleDiameter?Math.max(aa.circleDiameter,_l):_l;Nu=oM(Gm,Nu),Nu=oM(My,Nu),Nu=oM(Ty,Nu),Nu=oM(Cy,Nu);let Zee=Nu>-1?1:0;Zee&&(Nu*=HHe/mo),rr.glyphOffsetArray.length>=xy.MAX_GLYPHS&&ht("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),li.sortKey!==void 0&&rr.addToSortKeyRanges(rr.symbolInstances.length,li.sortKey);let tWe=Lee(Ao,li,ku),[rWe,nWe]=function(aa,_l){let Hm=aa.length,Ru=_l==null?void 0:_l.values;if((Ru==null?void 0:Ru.length)>0)for(let Wm=0;Wm<Ru.length;Wm+=2){let jc=Ru[Wm+1];aa.emplaceBack(i.aE[Ru[Wm]],jc[0],jc[1])}return[Hm,aa.length]}(rr.textAnchorOffsets,tWe);rr.symbolInstances.emplaceBack(pn.x,pn.y,of.right>=0?of.right:-1,of.center>=0?of.center:-1,of.left>=0?of.left:-1,of.vertical||-1,HL,WL,Hee,WHe,ZHe,YHe,KHe,XHe,QHe,JHe,eWe,go,$ee,Gee,Uee,Vee,Zee,0,za,Nu,rWe,nWe)}(c,fr,Tr,l,h,v,Lt,c.layers[0],c.collisionBoxArray,s.index,s.sourceLayerIndex,c.index,me,[Ye,Ye,Ye,Ye],zt,O,Ce,nt,Ct,Q,s,S,R,j,E)};if(Rt==="line")for(let Tr of Mee(s.geometry,0,0,pt,pt)){let fr=Vm(Tr,ft),rr=jHe(fr,De,_t,l.vertical||re,h,24,Fe,c.overscaling,pt);for(let pn of rr)re&&$He(c,re.text,or,pn)||br(fr,pn)}else if(Rt==="line-center"){for(let Tr of s.geometry)if(Tr.length>1){let fr=Vm(Tr,ft),rr=zHe(fr,_t,l.vertical||re,h,24,Fe);rr&&br(fr,rr)}}else if(s.type==="Polygon")for(let Tr of Tm(s.geometry,0)){let fr=BHe(Tr,16);br(Vm(Tr[0],ft,!0),new kd(fr.x,fr.y,0))}else if(s.type==="LineString")for(let Tr of s.geometry){let fr=Vm(Tr,ft);br(fr,new kd(fr[0].x,fr[0].y,0))}else if(s.type==="Point")for(let Tr of s.geometry)for(let fr of Tr)br([fr],new kd(fr.x,fr.y,0))}function qee(c,s,l,h,v,S,E,C,O,R,j,$,Z,X,Q){let re=function(Fe,Ce,De,Ye,nt,_t,zt,Ct){let Rt=Ye.layout.get("text-rotate").evaluate(_t,{})*Math.PI/180,or=[];for(let Nt of Ce.positionedLines)for(let Lt of Nt.positionedGlyphs){if(!Lt.rect)continue;let ft=Lt.rect||{},br=4,Tr=!0,fr=1,rr=0,pn=(nt||Ct)&&Lt.vertical,Ei=Lt.metrics.advance*Lt.scale/2;if(Ct&&Ce.verticalizable&&(rr=Nt.lineOffset/2-(Lt.imageName?-(mo-Lt.metrics.width*Lt.scale)/2:(Lt.scale-1)*mo)),Lt.imageName){let yo=zt[Lt.imageName];Tr=yo.sdf,fr=yo.pixelRatio,br=1/fr}let ro=nt?[Lt.x+Ei,Lt.y]:[0,0],Uo=nt?[0,0]:[Lt.x+Ei+De[0],Lt.y+De[1]-rr],vl=[0,0];pn&&(vl=Uo,Uo=[0,0]);let cs=Lt.metrics.isDoubleResolution?2:1,Ao=(Lt.metrics.left-br)*Lt.scale-Ei+Uo[0],gi=(-Lt.metrics.top-br)*Lt.scale+Uo[1],go=Ao+ft.w/cs*Lt.scale/fr,Po=gi+ft.h/cs*Lt.scale/fr,Oo=new u(Ao,gi),za=new u(go,gi),yl=new u(Ao,Po),vo=new u(go,Po);if(pn){let yo=new u(-Ei,Ei- -17),_o=-Math.PI/2,Hi=12-Ei,li=new u(22-Hi,-(Lt.imageName?Hi:0)),Du=new u(...vl);Oo._rotateAround(_o,yo)._add(li)._add(Du),za._rotateAround(_o,yo)._add(li)._add(Du),yl._rotateAround(_o,yo)._add(li)._add(Du),vo._rotateAround(_o,yo)._add(li)._add(Du)}if(Rt){let yo=Math.sin(Rt),_o=Math.cos(Rt),Hi=[_o,-yo,yo,_o];Oo._matMult(Hi),za._matMult(Hi),yl._matMult(Hi),vo._matMult(Hi)}let ps=new u(0,0),no=new u(0,0);or.push({tl:Oo,tr:za,bl:yl,br:vo,tex:ft,writingMode:Ce.writingMode,glyphOffset:ro,sectionIndex:Lt.sectionIndex,isSDF:Tr,pixelOffsetTL:ps,pixelOffsetBR:no,minFontScaleX:0,minFontScaleY:0})}return or}(0,l,C,v,S,E,h,c.allowVerticalPlacement),le=c.textSizeData,me=null;le.kind==="source"?(me=[nf*v.layout.get("text-size").evaluate(E,{})],me[0]>Od&&ht(`${c.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)):le.kind==="composite"&&(me=[nf*X.compositeTextSizes[0].evaluate(E,{},Q),nf*X.compositeTextSizes[1].evaluate(E,{},Q)],(me[0]>Od||me[1]>Od)&&ht(`${c.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)),c.addSymbols(c.text,re,me,C,S,E,R,s,O.lineStartIndex,O.lineLength,Z,Q);for(let Fe of j)$[Fe]=c.text.placedSymbolArray.length-1;return 4*re.length}function zee(c){for(let s in c)return c[s];return null}function $He(c,s,l,h){let v=c.compareText;if(s in v){let S=v[s];for(let E=S.length-1;E>=0;E--)if(h.dist(S[E])<l)return!0}else v[s]=[];return v[s].push(h),!1}let jee=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class jL{static from(s){if(!(s instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");let[l,h]=new Uint8Array(s,0,2);if(l!==219)throw new Error("Data does not appear to be in a KDBush format.");let v=h>>4;if(v!==1)throw new Error(`Got v${v} data when expected v1.`);let S=jee[15&h];if(!S)throw new Error("Unrecognized array type.");let[E]=new Uint16Array(s,2,1),[C]=new Uint32Array(s,4,1);return new jL(C,E,S,s)}constructor(s,l=64,h=Float64Array,v){if(isNaN(s)||s<0)throw new Error(`Unpexpected numItems value: ${s}.`);this.numItems=+s,this.nodeSize=Math.min(Math.max(+l,2),65535),this.ArrayType=h,this.IndexArrayType=s<65536?Uint16Array:Uint32Array;let S=jee.indexOf(this.ArrayType),E=2*s*this.ArrayType.BYTES_PER_ELEMENT,C=s*this.IndexArrayType.BYTES_PER_ELEMENT,O=(8-C%8)%8;if(S<0)throw new Error(`Unexpected typed array class: ${h}.`);v&&v instanceof ArrayBuffer?(this.data=v,this.ids=new this.IndexArrayType(this.data,8,s),this.coords=new this.ArrayType(this.data,8+C+O,2*s),this._pos=2*s,this._finished=!0):(this.data=new ArrayBuffer(8+E+C+O),this.ids=new this.IndexArrayType(this.data,8,s),this.coords=new this.ArrayType(this.data,8+C+O,2*s),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+S]),new Uint16Array(this.data,2,1)[0]=l,new Uint32Array(this.data,4,1)[0]=s)}add(s,l){let h=this._pos>>1;return this.ids[h]=h,this.coords[this._pos++]=s,this.coords[this._pos++]=l,h}finish(){let s=this._pos>>1;if(s!==this.numItems)throw new Error(`Added ${s} items when expected ${this.numItems}.`);return FL(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(s,l,h,v){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");let{ids:S,coords:E,nodeSize:C}=this,O=[0,S.length-1,0],R=[];for(;O.length;){let j=O.pop()||0,$=O.pop()||0,Z=O.pop()||0;if($-Z<=C){for(let le=Z;le<=$;le++){let me=E[2*le],Fe=E[2*le+1];me>=s&&me<=h&&Fe>=l&&Fe<=v&&R.push(S[le])}continue}let X=Z+$>>1,Q=E[2*X],re=E[2*X+1];Q>=s&&Q<=h&&re>=l&&re<=v&&R.push(S[X]),(j===0?s<=Q:l<=re)&&(O.push(Z),O.push(X-1),O.push(1-j)),(j===0?h>=Q:v>=re)&&(O.push(X+1),O.push($),O.push(1-j))}return R}within(s,l,h){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");let{ids:v,coords:S,nodeSize:E}=this,C=[0,v.length-1,0],O=[],R=h*h;for(;C.length;){let j=C.pop()||0,$=C.pop()||0,Z=C.pop()||0;if($-Z<=E){for(let le=Z;le<=$;le++)Bee(S[2*le],S[2*le+1],s,l)<=R&&O.push(v[le]);continue}let X=Z+$>>1,Q=S[2*X],re=S[2*X+1];Bee(Q,re,s,l)<=R&&O.push(v[X]),(j===0?s-h<=Q:l-h<=re)&&(C.push(Z),C.push(X-1),C.push(1-j)),(j===0?s+h>=Q:l+h>=re)&&(C.push(X+1),C.push($),C.push(1-j))}return O}}function FL(c,s,l,h,v,S){if(v-h<=l)return;let E=h+v>>1;Fee(c,s,E,h,v,S),FL(c,s,l,h,E-1,1-S),FL(c,s,l,E+1,v,1-S)}function Fee(c,s,l,h,v,S){for(;v>h;){if(v-h>600){let R=v-h+1,j=l-h+1,$=Math.log(R),Z=.5*Math.exp(2*$/3),X=.5*Math.sqrt($*Z*(R-Z)/R)*(j-R/2<0?-1:1);Fee(c,s,l,Math.max(h,Math.floor(l-j*Z/R+X)),Math.min(v,Math.floor(l+(R-j)*Z/R+X)),S)}let E=s[2*l+S],C=h,O=v;for(lx(c,s,h,l),s[2*v+S]>E&&lx(c,s,h,v);C<O;){for(lx(c,s,C,O),C++,O--;s[2*C+S]<E;)C++;for(;s[2*O+S]>E;)O--}s[2*h+S]===E?lx(c,s,h,O):(O++,lx(c,s,O,v)),O<=l&&(h=O+1),l<=O&&(v=O-1)}}function lx(c,s,l,h){BL(c,l,h),BL(s,2*l,2*h),BL(s,2*l+1,2*h+1)}function BL(c,s,l){let h=c[s];c[s]=c[l],c[l]=h}function Bee(c,s,l,h){let v=c-l,S=s-h;return v*v+S*S}var UL;i.cx=void 0,(UL=i.cx||(i.cx={})).create="create",UL.load="load",UL.fullLoad="fullLoad";let iM=null,ux=[],VL=1e3/60,$L="loadTime",GL="fullLoadTime",GHe={mark(c){performance.mark(c)},frame(c){let s=c;iM!=null&&ux.push(s-iM),iM=s},clearMetrics(){iM=null,ux=[],performance.clearMeasures($L),performance.clearMeasures(GL);for(let c in i.cx)performance.clearMarks(i.cx[c])},getPerformanceMetrics(){performance.measure($L,i.cx.create,i.cx.load),performance.measure(GL,i.cx.create,i.cx.fullLoad);let c=performance.getEntriesByName($L)[0].duration,s=performance.getEntriesByName(GL)[0].duration,l=ux.length,h=1/(ux.reduce((S,E)=>S+E,0)/l/1e3),v=ux.filter(S=>S>VL).reduce((S,E)=>S+(E-VL)/VL,0);return{loadTime:c,fullLoadTime:s,fps:h,percentDroppedFrames:v/(l+v)*100,totalFrames:l}}};i.$=pt,i.A=L,i.B=function([c,s,l]){return s+=90,s*=Math.PI/180,l*=Math.PI/180,{x:c*Math.cos(s)*Math.sin(l),y:c*Math.sin(s)*Math.sin(l),z:c*Math.cos(l)}},i.C=Fl,i.D=nr,i.E=at,i.F=Zn,i.G=Lm,i.H=function(c){if(Et==null){let s=c.navigator?c.navigator.userAgent:null;Et=!!c.safari||!(!s||!(/\b(iPad|iPhone|iPod)\b/.test(s)||s.match("Safari")&&!s.match("Chrome")))}return Et},i.I=TL,i.J=class{constructor(c,s){this.target=c,this.mapId=s,this.resolveRejects={},this.tasks={},this.taskQueue=[],this.abortControllers={},this.messageHandlers={},this.invoker=new RHe(()=>this.process()),this.subscription=Sr(this.target,"message",l=>this.receive(l),!1),this.globalScope=Wt(self)?c:window}registerMessageHandler(c,s){this.messageHandlers[c]=s}sendAsync(c,s){return new Promise((l,h)=>{let v=Math.round(1e18*Math.random()).toString(36).substring(0,10),S=s?Sr(s.signal,"abort",()=>{S==null||S.unsubscribe(),delete this.resolveRejects[v];let O={id:v,type:"<cancel>",origin:location.origin,targetMapId:c.targetMapId,sourceMapId:this.mapId};this.target.postMessage(O)},LHe):null;this.resolveRejects[v]={resolve:O=>{S==null||S.unsubscribe(),l(O)},reject:O=>{S==null||S.unsubscribe(),h(O)}};let E=[],C=Object.assign(Object.assign({},c),{id:v,sourceMapId:this.mapId,origin:location.origin,data:wd(c.data,E)});this.target.postMessage(C,{transfer:E})})}receive(c){let s=c.data,l=s.id;if(!(s.origin!=="file://"&&location.origin!=="file://"&&s.origin!=="resource://android"&&location.origin!=="resource://android"&&s.origin!==location.origin||s.targetMapId&&this.mapId!==s.targetMapId)){if(s.type==="<cancel>"){delete this.tasks[l];let h=this.abortControllers[l];return delete this.abortControllers[l],void(h&&h.abort())}if(Wt(self)||s.mustQueue)return this.tasks[l]=s,this.taskQueue.push(l),void this.invoker.trigger();this.processTask(l,s)}}process(){if(this.taskQueue.length===0)return;let c=this.taskQueue.shift(),s=this.tasks[c];delete this.tasks[c],this.taskQueue.length>0&&this.invoker.trigger(),s&&this.processTask(c,s)}processTask(c,s){return o(this,void 0,void 0,function*(){if(s.type==="<response>"){let v=this.resolveRejects[c];return delete this.resolveRejects[c],v?void(s.error?v.reject(Qp(s.error)):v.resolve(Qp(s.data))):void 0}if(!this.messageHandlers[s.type])return void this.completeTask(c,new Error(`Could not find a registered handler for ${s.type}, map ID: ${this.mapId}, available handlers: ${Object.keys(this.messageHandlers).join(", ")}`));let l=Qp(s.data),h=new AbortController;this.abortControllers[c]=h;try{let v=yield this.messageHandlers[s.type](s.sourceMapId,l,h);this.completeTask(c,null,v)}catch(v){this.completeTask(c,v)}})}completeTask(c,s,l){let h=[];delete this.abortControllers[c];let v={id:c,type:"<response>",sourceMapId:this.mapId,origin:location.origin,error:s?wd(s):null,data:wd(l,h)};this.target.postMessage(v,{transfer:h})}remove(){this.invoker.remove(),this.subscription.unsubscribe()}},i.K=ae,i.L=function(){var c=new L(16);return L!=Float32Array&&(c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[11]=0,c[12]=0,c[13]=0,c[14]=0),c[0]=1,c[5]=1,c[10]=1,c[15]=1,c},i.M=function(c,s,l){var h,v,S,E,C,O,R,j,$,Z,X,Q,re=l[0],le=l[1],me=l[2];return s===c?(c[12]=s[0]*re+s[4]*le+s[8]*me+s[12],c[13]=s[1]*re+s[5]*le+s[9]*me+s[13],c[14]=s[2]*re+s[6]*le+s[10]*me+s[14],c[15]=s[3]*re+s[7]*le+s[11]*me+s[15]):(v=s[1],S=s[2],E=s[3],C=s[4],O=s[5],R=s[6],j=s[7],$=s[8],Z=s[9],X=s[10],Q=s[11],c[0]=h=s[0],c[1]=v,c[2]=S,c[3]=E,c[4]=C,c[5]=O,c[6]=R,c[7]=j,c[8]=$,c[9]=Z,c[10]=X,c[11]=Q,c[12]=h*re+C*le+$*me+s[12],c[13]=v*re+O*le+Z*me+s[13],c[14]=S*re+R*le+X*me+s[14],c[15]=E*re+j*le+Q*me+s[15]),c},i.N=function(c,s,l){var h=l[0],v=l[1],S=l[2];return c[0]=s[0]*h,c[1]=s[1]*h,c[2]=s[2]*h,c[3]=s[3]*h,c[4]=s[4]*v,c[5]=s[5]*v,c[6]=s[6]*v,c[7]=s[7]*v,c[8]=s[8]*S,c[9]=s[9]*S,c[10]=s[10]*S,c[11]=s[11]*S,c[12]=s[12],c[13]=s[13],c[14]=s[14],c[15]=s[15],c},i.O=function(c,s,l){var h=s[0],v=s[1],S=s[2],E=s[3],C=s[4],O=s[5],R=s[6],j=s[7],$=s[8],Z=s[9],X=s[10],Q=s[11],re=s[12],le=s[13],me=s[14],Fe=s[15],Ce=l[0],De=l[1],Ye=l[2],nt=l[3];return c[0]=Ce*h+De*C+Ye*$+nt*re,c[1]=Ce*v+De*O+Ye*Z+nt*le,c[2]=Ce*S+De*R+Ye*X+nt*me,c[3]=Ce*E+De*j+Ye*Q+nt*Fe,c[4]=(Ce=l[4])*h+(De=l[5])*C+(Ye=l[6])*$+(nt=l[7])*re,c[5]=Ce*v+De*O+Ye*Z+nt*le,c[6]=Ce*S+De*R+Ye*X+nt*me,c[7]=Ce*E+De*j+Ye*Q+nt*Fe,c[8]=(Ce=l[8])*h+(De=l[9])*C+(Ye=l[10])*$+(nt=l[11])*re,c[9]=Ce*v+De*O+Ye*Z+nt*le,c[10]=Ce*S+De*R+Ye*X+nt*me,c[11]=Ce*E+De*j+Ye*Q+nt*Fe,c[12]=(Ce=l[12])*h+(De=l[13])*C+(Ye=l[14])*$+(nt=l[15])*re,c[13]=Ce*v+De*O+Ye*Z+nt*le,c[14]=Ce*S+De*R+Ye*X+nt*me,c[15]=Ce*E+De*j+Ye*Q+nt*Fe,c},i.P=u,i.Q=function(c,s){let l={};for(let h=0;h<s.length;h++){let v=s[h];v in c&&(l[v]=c[v])}return l},i.R=us,i.S=Dd,i.T=mL,i.U=yee,i.V=vee,i.W=z,i.X=U,i.Y=yr,i.Z=gl,i._=o,i.a=J,i.a$=xe,i.a0=function(c,s){var l,h,v,S,E;if(!c)return s!=null?s:{};if(!s)return c;let C=Object.assign({},c);if(s.removeAll&&(C={removeAll:!0}),s.remove){let O=new Set(s.remove);C.add&&(C.add=C.add.filter(j=>!O.has(j.id))),C.update&&(C.update=C.update.filter(j=>!O.has(j.id)));let R=new Set(((l=c.add)!==null&&l!==void 0?l:[]).map(j=>j.id));s.remove=s.remove.filter(j=>!R.has(j))}if(s.remove){let O=new Set(C.remove?C.remove.concat(s.remove):s.remove);C.remove=Array.from(O.values())}if(s.add){let O=C.add?C.add.concat(s.add):s.add,R=new Map(O.map(j=>[j.id,j]));C.add=Array.from(R.values())}if(s.update){let O=new Map((h=C.update)===null||h===void 0?void 0:h.map(R=>[R.id,R]));for(let R of s.update){let j=(v=O.get(R.id))!==null&&v!==void 0?v:{id:R.id};R.newGeometry&&(j.newGeometry=R.newGeometry),R.addOrUpdateProperties&&(j.addOrUpdateProperties=((S=j.addOrUpdateProperties)!==null&&S!==void 0?S:[]).concat(R.addOrUpdateProperties)),R.removeProperties&&(j.removeProperties=((E=j.removeProperties)!==null&&E!==void 0?E:[]).concat(R.removeProperties)),R.removeAllProperties&&(j.removeAllProperties=!0),O.set(R.id,j)}C.update=Array.from(O.values())}return C.remove&&C.add&&(C.remove=C.remove.filter(O=>C.add.findIndex(R=>R.id===O)===-1)),C},i.a1=ax,i.a2=$m,i.a3=25,i.a4=LL,i.a5=c=>{let s=window.document.createElement("video");return s.muted=!0,new Promise(l=>{s.onloadstart=()=>{l(s)};for(let h of c){let v=window.document.createElement("source");We(h)||(s.crossOrigin="Anonymous"),v.src=h,s.appendChild(v)}})},i.a6=St,i.a7=function(){return $e++},i.a8=G,i.a9=xy,i.aA=function(c){let s=1/0,l=1/0,h=-1/0,v=-1/0;for(let S of c)s=Math.min(s,S.x),l=Math.min(l,S.y),h=Math.max(h,S.x),v=Math.max(v,S.y);return[s,l,h,v]},i.aB=mo,i.aC=qe,i.aD=function(c,s,l,h,v=!1){if(!l[0]&&!l[1])return[0,0];let S=v?h==="map"?-c.bearingInRadians:0:h==="viewport"?c.bearingInRadians:0;if(S){let E=Math.sin(S),C=Math.cos(S);l=[l[0]*C-l[1]*E,l[0]*E+l[1]*C]}return[v?l[0]:qe(s,l[0],c.zoom),v?l[1]:qe(s,l[1],c.zoom)]},i.aF=AL,i.aG=zL,i.aH=CL,i.aI=jL,i.aJ=Di,i.aK=ZT,i.aL=Se,i.aM=zr,i.aN=Vn,i.aO=je,i.aP=Ur,i.aQ=bee,i.aR=Ie,i.aS=ue,i.aT=function(c){var s=new L(3);return s[0]=c[0],s[1]=c[1],s[2]=c[2],s},i.aU=function(c,s,l){return c[0]=s[0]-l[0],c[1]=s[1]-l[1],c[2]=s[2]-l[2],c},i.aV=function(c,s){var l=s[0],h=s[1],v=s[2],S=l*l+h*h+v*v;return S>0&&(S=1/Math.sqrt(S)),c[0]=s[0]*S,c[1]=s[1]*S,c[2]=s[2]*S,c},i.aW=Ee,i.aX=function(c,s){return c[0]*s[0]+c[1]*s[1]+c[2]*s[2]},i.aY=function(c,s,l){return c[0]=s[0]*l[0],c[1]=s[1]*l[1],c[2]=s[2]*l[2],c[3]=s[3]*l[3],c},i.aZ=te,i.a_=function(c,s,l){let h=s[0]*l[0]+s[1]*l[1]+s[2]*l[2];return h===0?null:(-(c[0]*l[0]+c[1]*l[1]+c[2]*l[2])-l[3])/h},i.aa=Yp,i.ab=Ou,i.ac=Eee,i.ad=function(c){let s={};if(c.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(l,h,v,S)=>{let E=v||S;return s[h]=!E||E.toLowerCase(),""}),s["max-age"]){let l=parseInt(s["max-age"],10);isNaN(l)?delete s["max-age"]:s["max-age"]=l}return s},i.ae=Or,i.af=function(c){return Math.pow(2,c)},i.ag=H,i.ah=tt,i.ai=85.051129,i.aj=_ee,i.ak=function(c){return Math.log(c)/Math.LN2},i.al=function(c){var s=c[0],l=c[1];return s*s+l*l},i.am=function(c,s){let l=[];for(let h in c)h in s||l.push(h);return l},i.an=function(c,s){let l=0,h=0;if(c.kind==="constant")h=c.layoutSize;else if(c.kind!=="source"){let{interpolationType:v,minZoom:S,maxZoom:E}=c,C=v?tt(Co.interpolationFactor(v,s,S,E),0,1):0;c.kind==="camera"?h=Fl.number(c.minSize,c.maxSize,C):l=C}return{uSizeT:l,uSize:h}},i.ap=function(c,{uSize:s,uSizeT:l},{lowerSize:h,upperSize:v}){return c.kind==="source"?h/nf:c.kind==="composite"?Fl.number(h/nf,v/nf,l):s},i.aq=function(c,s){var l=s[0],h=s[1],v=s[2],S=s[3],E=s[4],C=s[5],O=s[6],R=s[7],j=s[8],$=s[9],Z=s[10],X=s[11],Q=s[12],re=s[13],le=s[14],me=s[15],Fe=l*C-h*E,Ce=l*O-v*E,De=l*R-S*E,Ye=h*O-v*C,nt=h*R-S*C,_t=v*R-S*O,zt=j*re-$*Q,Ct=j*le-Z*Q,Rt=j*me-X*Q,or=$*le-Z*re,Nt=$*me-X*re,Lt=Z*me-X*le,ft=Fe*Lt-Ce*Nt+De*or+Ye*Rt-nt*Ct+_t*zt;return ft?(c[0]=(C*Lt-O*Nt+R*or)*(ft=1/ft),c[1]=(v*Nt-h*Lt-S*or)*ft,c[2]=(re*_t-le*nt+me*Ye)*ft,c[3]=(Z*nt-$*_t-X*Ye)*ft,c[4]=(O*Rt-E*Lt-R*Ct)*ft,c[5]=(l*Lt-v*Rt+S*Ct)*ft,c[6]=(le*De-Q*_t-me*Ce)*ft,c[7]=(j*_t-Z*De+X*Ce)*ft,c[8]=(E*Nt-C*Rt+R*zt)*ft,c[9]=(h*Rt-l*Nt-S*zt)*ft,c[10]=(Q*nt-re*De+me*Fe)*ft,c[11]=($*De-j*nt-X*Fe)*ft,c[12]=(C*Ct-E*or-O*zt)*ft,c[13]=(l*or-h*Ct+v*zt)*ft,c[14]=(re*Ce-Q*Ye-le*Fe)*ft,c[15]=(j*Ye-$*Ce+Z*Fe)*ft,c):null},i.ar=Xe,i.as=function(c){var s=c[0],l=c[1];return Math.sqrt(s*s+l*l)},i.at=function(c){return c[0]=0,c[1]=0,c},i.au=function(c,s,l){return c[0]=s[0]*l,c[1]=s[1]*l,c},i.av=PL,i.aw=Pe,i.ax=function(c,s,l,h){let v=s.y-c.y,S=s.x-c.x,E=h.y-l.y,C=h.x-l.x,O=E*S-C*v;if(O===0)return null;let R=(C*(c.y-l.y)-E*(c.x-l.x))/O;return new u(c.x+R*S,c.y+R*v)},i.ay=Mee,i.az=gJ,i.b=kt,i.b$=class extends x{},i.b0=function(c,s,l){return c[0]=s[0]*l,c[1]=s[1]*l,c[2]=s[2]*l,c[3]=s[3]*l,c},i.b1=function(c,s){return c[0]*s[0]+c[1]*s[1]+c[2]*s[2]+c[3]},i.b2=wee,i.b3=wy,i.b4=function(c,s,l,h,v){var S=1/Math.tan(s/2);if(c[0]=S/l,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=S,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[11]=-1,c[12]=0,c[13]=0,c[15]=0,v!=null&&v!==1/0){var E=1/(h-v);c[10]=(v+h)*E,c[14]=2*v*h*E}else c[10]=-1,c[14]=-2*h;return c},i.b5=function(c){var s=new L(16);return s[0]=c[0],s[1]=c[1],s[2]=c[2],s[3]=c[3],s[4]=c[4],s[5]=c[5],s[6]=c[6],s[7]=c[7],s[8]=c[8],s[9]=c[9],s[10]=c[10],s[11]=c[11],s[12]=c[12],s[13]=c[13],s[14]=c[14],s[15]=c[15],s},i.b6=function(c,s,l){var h=Math.sin(l),v=Math.cos(l),S=s[0],E=s[1],C=s[2],O=s[3],R=s[4],j=s[5],$=s[6],Z=s[7];return s!==c&&(c[8]=s[8],c[9]=s[9],c[10]=s[10],c[11]=s[11],c[12]=s[12],c[13]=s[13],c[14]=s[14],c[15]=s[15]),c[0]=S*v+R*h,c[1]=E*v+j*h,c[2]=C*v+$*h,c[3]=O*v+Z*h,c[4]=R*v-S*h,c[5]=j*v-E*h,c[6]=$*v-C*h,c[7]=Z*v-O*h,c},i.b7=function(c,s,l){var h=Math.sin(l),v=Math.cos(l),S=s[4],E=s[5],C=s[6],O=s[7],R=s[8],j=s[9],$=s[10],Z=s[11];return s!==c&&(c[0]=s[0],c[1]=s[1],c[2]=s[2],c[3]=s[3],c[12]=s[12],c[13]=s[13],c[14]=s[14],c[15]=s[15]),c[4]=S*v+R*h,c[5]=E*v+j*h,c[6]=C*v+$*h,c[7]=O*v+Z*h,c[8]=R*v-S*h,c[9]=j*v-E*h,c[10]=$*v-C*h,c[11]=Z*v-O*h,c},i.b8=function(){let c=new Float32Array(16);return H(c),c},i.b9=function(){let c=new Float64Array(16);return H(c),c},i.bA=function(c,s){let l=ut(c,360),h=ut(s,360),v=h-l,S=h>l?v-360:v+360;return Math.abs(v)<Math.abs(S)?v:S},i.bB=function(c){return c[0]=0,c[1]=0,c[2]=0,c},i.bC=function(c,s,l,h){let v=Math.sqrt(c*c+s*s),S=Math.sqrt(l*l+h*h);c/=v,s/=v,l/=S,h/=S;let E=Math.acos(c*l+s*h);return-s*l+c*h>0?E:-E},i.bD=function(c,s){let l=ut(c,2*Math.PI),h=ut(s,2*Math.PI);return Math.min(Math.abs(l-h),Math.abs(l-h+2*Math.PI),Math.abs(l-h-2*Math.PI))},i.bE=function(){let c={},s=ye.$version;for(let l in ye.$root){let h=ye.$root[l];if(h.required){let v=null;v=l==="version"?s:h.type==="array"?[]:{},v!=null&&(c[l]=v)}}return c},i.bF=ny,i.bG=ke,i.bH=function c(s,l){if(Array.isArray(s)){if(!Array.isArray(l)||s.length!==l.length)return!1;for(let h=0;h<s.length;h++)if(!c(s[h],l[h]))return!1;return!0}if(typeof s=="object"&&s!==null&&l!==null){if(typeof l!="object"||Object.keys(s).length!==Object.keys(l).length)return!1;for(let h in s)if(!c(s[h],l[h]))return!1;return!0}return s===l},i.bI=function(c){c=c.slice();let s=Object.create(null);for(let l=0;l<c.length;l++)s[c[l].id]=c[l];for(let l=0;l<c.length;l++)"ref"in c[l]&&(c[l]=jt(c[l],s[c[l].ref]));return c},i.bJ=function(c){if(c.type==="custom")return new NHe(c);switch(c.type){case"background":return new OHe(c);case"circle":return new gGe(c);case"color-relief":return new wGe(c);case"fill":return new qGe(c);case"fill-extrusion":return new ZGe(c);case"heatmap":return new yGe(c);case"hillshade":return new bGe(c);case"line":return new tHe(c);case"raster":return new kHe(c);case"symbol":return new JT(c)}},i.bK=it,i.bL=function(c,s){if(!c)return[{command:"setStyle",args:[s]}];let l=[];try{if(!xt(c.version,s.version))return[{command:"setStyle",args:[s]}];xt(c.center,s.center)||l.push({command:"setCenter",args:[s.center]}),xt(c.state,s.state)||l.push({command:"setGlobalState",args:[s.state]}),xt(c.centerAltitude,s.centerAltitude)||l.push({command:"setCenterAltitude",args:[s.centerAltitude]}),xt(c.zoom,s.zoom)||l.push({command:"setZoom",args:[s.zoom]}),xt(c.bearing,s.bearing)||l.push({command:"setBearing",args:[s.bearing]}),xt(c.pitch,s.pitch)||l.push({command:"setPitch",args:[s.pitch]}),xt(c.roll,s.roll)||l.push({command:"setRoll",args:[s.roll]}),xt(c.sprite,s.sprite)||l.push({command:"setSprite",args:[s.sprite]}),xt(c.glyphs,s.glyphs)||l.push({command:"setGlyphs",args:[s.glyphs]}),xt(c.transition,s.transition)||l.push({command:"setTransition",args:[s.transition]}),xt(c.light,s.light)||l.push({command:"setLight",args:[s.light]}),xt(c.terrain,s.terrain)||l.push({command:"setTerrain",args:[s.terrain]}),xt(c.sky,s.sky)||l.push({command:"setSky",args:[s.sky]}),xt(c.projection,s.projection)||l.push({command:"setProjection",args:[s.projection]});let h={},v=[];(function(E,C,O,R){let j;for(j in C=C||{},E=E||{})Object.prototype.hasOwnProperty.call(E,j)&&(Object.prototype.hasOwnProperty.call(C,j)||$r(j,O,R));for(j in C)Object.prototype.hasOwnProperty.call(C,j)&&(Object.prototype.hasOwnProperty.call(E,j)?xt(E[j],C[j])||(E[j].type==="geojson"&&C[j].type==="geojson"&&on(E,C,j)?Pt(O,{command:"setGeoJSONSourceData",args:[j,C[j].data]}):xn(j,C,O,R)):ir(j,C,O))})(c.sources,s.sources,v,h);let S=[];c.layers&&c.layers.forEach(E=>{"source"in E&&h[E.source]?l.push({command:"removeLayer",args:[E.id]}):S.push(E)}),l=l.concat(v),function(E,C,O){C=C||[];let R=(E=E||[]).map(Dr),j=C.map(Dr),$=E.reduce(Qn,{}),Z=C.reduce(Qn,{}),X=R.slice(),Q=Object.create(null),re,le,me,Fe,Ce;for(let De=0,Ye=0;De<R.length;De++)re=R[De],Object.prototype.hasOwnProperty.call(Z,re)?Ye++:(Pt(O,{command:"removeLayer",args:[re]}),X.splice(X.indexOf(re,Ye),1));for(let De=0,Ye=0;De<j.length;De++)re=j[j.length-1-De],X[X.length-1-De]!==re&&(Object.prototype.hasOwnProperty.call($,re)?(Pt(O,{command:"removeLayer",args:[re]}),X.splice(X.lastIndexOf(re,X.length-Ye),1)):Ye++,Fe=X[X.length-De],Pt(O,{command:"addLayer",args:[Z[re],Fe]}),X.splice(X.length-De,0,re),Q[re]=!0);for(let De=0;De<j.length;De++)if(re=j[De],le=$[re],me=Z[re],!Q[re]&&!xt(le,me))if(xt(le.source,me.source)&&xt(le["source-layer"],me["source-layer"])&&xt(le.type,me.type)){for(Ce in Er(le.layout,me.layout,O,re,null,"setLayoutProperty"),Er(le.paint,me.paint,O,re,null,"setPaintProperty"),xt(le.filter,me.filter)||Pt(O,{command:"setFilter",args:[re,me.filter]}),xt(le.minzoom,me.minzoom)&&xt(le.maxzoom,me.maxzoom)||Pt(O,{command:"setLayerZoomRange",args:[re,me.minzoom,me.maxzoom]}),le)Object.prototype.hasOwnProperty.call(le,Ce)&&Ce!=="layout"&&Ce!=="paint"&&Ce!=="filter"&&Ce!=="metadata"&&Ce!=="minzoom"&&Ce!=="maxzoom"&&(Ce.indexOf("paint.")===0?Er(le[Ce],me[Ce],O,re,Ce.slice(6),"setPaintProperty"):xt(le[Ce],me[Ce])||Pt(O,{command:"setLayerProperty",args:[re,Ce,me[Ce]]}));for(Ce in me)Object.prototype.hasOwnProperty.call(me,Ce)&&!Object.prototype.hasOwnProperty.call(le,Ce)&&Ce!=="layout"&&Ce!=="paint"&&Ce!=="filter"&&Ce!=="metadata"&&Ce!=="minzoom"&&Ce!=="maxzoom"&&(Ce.indexOf("paint.")===0?Er(le[Ce],me[Ce],O,re,Ce.slice(6),"setPaintProperty"):xt(le[Ce],me[Ce])||Pt(O,{command:"setLayerProperty",args:[re,Ce,me[Ce]]}))}else Pt(O,{command:"removeLayer",args:[re]}),Fe=X[X.lastIndexOf(re)+1],Pt(O,{command:"addLayer",args:[me,Fe]})}(S,s.layers,l)}catch(h){console.warn("Unable to compute style diff:",h),l=[{command:"setStyle",args:[s]}]}return l},i.bM=function(c){let s=[],l=c.id;return l===void 0&&s.push({message:`layers.${l}: missing required property "id"`}),c.render===void 0&&s.push({message:`layers.${l}: missing required method "render"`}),c.renderingMode&&c.renderingMode!=="2d"&&c.renderingMode!=="3d"&&s.push({message:`layers.${l}: property "renderingMode" must be either "2d" or "3d"`}),s},i.bN=ze,i.bO=ot,i.bP=class extends oa{constructor(c,s){super(c,s),this.current=0}set(c){this.current!==c&&(this.current=c,this.gl.uniform1i(this.location,c))}},i.bQ=to,i.bR=class extends oa{constructor(c,s){super(c,s),this.current=Os}set(c){if(c[12]!==this.current[12]||c[0]!==this.current[0])return this.current=c,void this.gl.uniformMatrix4fv(this.location,!1,c);for(let s=1;s<16;s++)if(c[s]!==this.current[s]){this.current=c,this.gl.uniformMatrix4fv(this.location,!1,c);break}}},i.bS=$i,i.bT=class extends oa{constructor(c,s){super(c,s),this.current=[0,0,0]}set(c){c[0]===this.current[0]&&c[1]===this.current[1]&&c[2]===this.current[2]||(this.current=c,this.gl.uniform3f(this.location,c[0],c[1],c[2]))}},i.bU=class extends oa{constructor(c,s){super(c,s),this.current=[0,0]}set(c){c[0]===this.current[0]&&c[1]===this.current[1]||(this.current=c,this.gl.uniform2f(this.location,c[0],c[1]))}},i.bV=F,i.bW=function(c,s){var l=Math.sin(s),h=Math.cos(s);return c[0]=h,c[1]=l,c[2]=0,c[3]=-l,c[4]=h,c[5]=0,c[6]=0,c[7]=0,c[8]=1,c},i.bX=function(c,s,l){var h=s[0],v=s[1],S=s[2];return c[0]=h*l[0]+v*l[3]+S*l[6],c[1]=h*l[1]+v*l[4]+S*l[7],c[2]=h*l[2]+v*l[5]+S*l[8],c},i.bY=function(c,s,l,h,v,S,E){var C=1/(s-l),O=1/(h-v),R=1/(S-E);return c[0]=-2*C,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=-2*O,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[10]=2*R,c[11]=0,c[12]=(s+l)*C,c[13]=(v+h)*O,c[14]=(E+S)*R,c[15]=1,c},i.bZ=class extends oa{constructor(c,s){super(c,s),this.current=new Array}set(c){if(c!=this.current){this.current=c;let s=new Float32Array(4*c.length);for(let l=0;l<c.length;l++)s[4*l]=c[l].r,s[4*l+1]=c[l].g,s[4*l+2]=c[l].b,s[4*l+3]=c[l].a;this.gl.uniform4fv(this.location,s)}}},i.b_=class extends oa{constructor(c,s){super(c,s),this.current=new Array}set(c){if(c!=this.current){this.current=c;let s=new Float32Array(c);this.gl.uniform1fv(this.location,s)}}},i.ba=function(){return new Float64Array(16)},i.bb=function(c,s,l){let h=new Float64Array(4);return Oe(h,c,s-90,l),h},i.bc=function(c,s,l,h){var v,S,E,C,O,R=s[0],j=s[1],$=s[2],Z=s[3],X=l[0],Q=l[1],re=l[2],le=l[3];return(S=R*X+j*Q+$*re+Z*le)<0&&(S=-S,X=-X,Q=-Q,re=-re,le=-le),1-S>N?(v=Math.acos(S),E=Math.sin(v),C=Math.sin((1-h)*v)/E,O=Math.sin(h*v)/E):(C=1-h,O=h),c[0]=C*R+O*X,c[1]=C*j+O*Q,c[2]=C*$+O*re,c[3]=C*Z+O*le,c},i.bd=function(c){let s=new Float64Array(9);var l,h,v,S,E,C,O,R,j,$,Z,X,Q,re,le,me,Fe,Ce;$=(v=(h=c)[0])*(O=v+v),Z=(S=h[1])*O,Q=(E=h[2])*O,re=E*(R=S+S),me=(C=h[3])*O,Fe=C*R,Ce=C*(j=E+E),(l=s)[0]=1-(X=S*R)-(le=E*j),l[3]=Z-Ce,l[6]=Q+Fe,l[1]=Z+Ce,l[4]=1-$-le,l[7]=re-me,l[2]=Q-Fe,l[5]=re+me,l[8]=1-$-X;let De=Ur(-Math.asin(tt(s[2],-1,1))),Ye,nt;return Math.hypot(s[5],s[8])<.001?(Ye=0,nt=-Ur(Math.atan2(s[3],s[4]))):(Ye=Ur(s[5]===0&&s[8]===0?0:Math.atan2(s[5],s[8])),nt=Ur(s[1]===0&&s[0]===0?0:Math.atan2(s[1],s[0]))),{roll:Ye,pitch:De+90,bearing:nt}},i.be=function(c,s){return c.roll==s.roll&&c.pitch==s.pitch&&c.bearing==s.bearing},i.bf=rn,i.bg=Lc,i.bh=vy,i.bi=ex,i.bj=gy,i.bk=bt,i.bl=wt,i.bm=jo,i.bn=function(c,s,l,h,v){return bt(h,v,tt((c-s)/(l-s),0,1))},i.bo=ut,i.bp=function(){return new Float64Array(3)},i.bq=function(c,s,l,h){return c[0]=s[0]+l[0]*h,c[1]=s[1]+l[1]*h,c[2]=s[2]+l[2]*h,c},i.br=Oe,i.bs=function(c,s,l){var h=l[0],v=l[1],S=l[2],E=l[3],C=s[0],O=s[1],R=s[2],j=v*R-S*O,$=S*C-h*R,Z=h*O-v*C;return c[0]=C+E*(j+=j)+v*(Z+=Z)-S*($+=$),c[1]=O+E*$+S*j-h*Z,c[2]=R+E*Z+h*$-v*j,c},i.bt=function(c,s,l){let h=(v=[c[0],c[1],c[2],s[0],s[1],s[2],l[0],l[1],l[2]])[0]*((j=v[8])*(E=v[4])-(C=v[5])*(R=v[7]))+v[1]*(-j*(S=v[3])+C*(O=v[6]))+v[2]*(R*S-E*O);var v,S,E,C,O,R,j;if(h===0)return null;let $=Ee([],[s[0],s[1],s[2]],[l[0],l[1],l[2]]),Z=Ee([],[l[0],l[1],l[2]],[c[0],c[1],c[2]]),X=Ee([],[c[0],c[1],c[2]],[s[0],s[1],s[2]]),Q=Ie([],$,-c[3]);return ue(Q,Q,Ie([],Z,-s[3])),ue(Q,Q,Ie([],X,-l[3])),Ie(Q,Q,1/h),Q},i.bu=NL,i.bv=function(){return new Float64Array(4)},i.bw=function(c,s,l,h){var v=[],S=[];return v[0]=s[0]-l[0],v[1]=s[1]-l[1],v[2]=s[2]-l[2],S[0]=v[0]*Math.cos(h)-v[1]*Math.sin(h),S[1]=v[0]*Math.sin(h)+v[1]*Math.cos(h),S[2]=v[2],c[0]=S[0]+l[0],c[1]=S[1]+l[1],c[2]=S[2]+l[2],c},i.bx=function(c,s,l,h){var v=[],S=[];return v[0]=s[0]-l[0],v[1]=s[1]-l[1],v[2]=s[2]-l[2],S[0]=v[0],S[1]=v[1]*Math.cos(h)-v[2]*Math.sin(h),S[2]=v[1]*Math.sin(h)+v[2]*Math.cos(h),c[0]=S[0]+l[0],c[1]=S[1]+l[1],c[2]=S[2]+l[2],c},i.by=function(c,s,l,h){var v=[],S=[];return v[0]=s[0]-l[0],v[1]=s[1]-l[1],v[2]=s[2]-l[2],S[0]=v[2]*Math.sin(h)+v[0]*Math.cos(h),S[1]=v[1],S[2]=v[2]*Math.cos(h)-v[0]*Math.sin(h),c[0]=S[0]+l[0],c[1]=S[1]+l[1],c[2]=S[2]+l[2],c},i.bz=function(c,s,l){var h=Math.sin(l),v=Math.cos(l),S=s[0],E=s[1],C=s[2],O=s[3],R=s[8],j=s[9],$=s[10],Z=s[11];return s!==c&&(c[4]=s[4],c[5]=s[5],c[6]=s[6],c[7]=s[7],c[12]=s[12],c[13]=s[13],c[14]=s[14],c[15]=s[15]),c[0]=S*v-R*h,c[1]=E*v-j*h,c[2]=C*v-$*h,c[3]=O*v-Z*h,c[8]=S*h+R*v,c[9]=E*h+j*v,c[10]=C*h+$*v,c[11]=O*h+Z*v,c},i.c=Le,i.c0=oHe,i.c1=class extends f{},i.c2=hL,i.c3=function(c){return c<=1?1:Math.pow(2,Math.ceil(Math.log(c)/Math.LN2))},i.c4=TJ,i.c5=function(c,s,l){var h=s[0],v=s[1],S=s[2],E=l[3]*h+l[7]*v+l[11]*S+l[15];return c[0]=(l[0]*h+l[4]*v+l[8]*S+l[12])/(E=E||1),c[1]=(l[1]*h+l[5]*v+l[9]*S+l[13])/E,c[2]=(l[2]*h+l[6]*v+l[10]*S+l[14])/E,c},i.c6=class extends Vb{},i.c7=class extends B{},i.c8=function(c,s){return c[0]===s[0]&&c[1]===s[1]&&c[2]===s[2]&&c[3]===s[3]&&c[4]===s[4]&&c[5]===s[5]&&c[6]===s[6]&&c[7]===s[7]&&c[8]===s[8]&&c[9]===s[9]&&c[10]===s[10]&&c[11]===s[11]&&c[12]===s[12]&&c[13]===s[13]&&c[14]===s[14]&&c[15]===s[15]},i.c9=function(c,s){var l=c[0],h=c[1],v=c[2],S=c[3],E=c[4],C=c[5],O=c[6],R=c[7],j=c[8],$=c[9],Z=c[10],X=c[11],Q=c[12],re=c[13],le=c[14],me=c[15],Fe=s[0],Ce=s[1],De=s[2],Ye=s[3],nt=s[4],_t=s[5],zt=s[6],Ct=s[7],Rt=s[8],or=s[9],Nt=s[10],Lt=s[11],ft=s[12],br=s[13],Tr=s[14],fr=s[15];return Math.abs(l-Fe)<=N*Math.max(1,Math.abs(l),Math.abs(Fe))&&Math.abs(h-Ce)<=N*Math.max(1,Math.abs(h),Math.abs(Ce))&&Math.abs(v-De)<=N*Math.max(1,Math.abs(v),Math.abs(De))&&Math.abs(S-Ye)<=N*Math.max(1,Math.abs(S),Math.abs(Ye))&&Math.abs(E-nt)<=N*Math.max(1,Math.abs(E),Math.abs(nt))&&Math.abs(C-_t)<=N*Math.max(1,Math.abs(C),Math.abs(_t))&&Math.abs(O-zt)<=N*Math.max(1,Math.abs(O),Math.abs(zt))&&Math.abs(R-Ct)<=N*Math.max(1,Math.abs(R),Math.abs(Ct))&&Math.abs(j-Rt)<=N*Math.max(1,Math.abs(j),Math.abs(Rt))&&Math.abs($-or)<=N*Math.max(1,Math.abs($),Math.abs(or))&&Math.abs(Z-Nt)<=N*Math.max(1,Math.abs(Z),Math.abs(Nt))&&Math.abs(X-Lt)<=N*Math.max(1,Math.abs(X),Math.abs(Lt))&&Math.abs(Q-ft)<=N*Math.max(1,Math.abs(Q),Math.abs(ft))&&Math.abs(re-br)<=N*Math.max(1,Math.abs(re),Math.abs(br))&&Math.abs(le-Tr)<=N*Math.max(1,Math.abs(le),Math.abs(Tr))&&Math.abs(me-fr)<=N*Math.max(1,Math.abs(me),Math.abs(fr))},i.cA=function(c,s){J.REGISTERED_PROTOCOLS[c]=s},i.cB=function(c){delete J.REGISTERED_PROTOCOLS[c]},i.cC=function(c,s){let l={};for(let v=0;v<c.length;v++){let S=s&&s[c[v].id]||rL(c[v]);s&&(s[c[v].id]=S);let E=l[S];E||(E=l[S]=[]),E.push(c[v])}let h=[];for(let v in l)h.push(l[v]);return h},i.cD=Zt,i.cE=See,i.cF=Iee,i.cG=tee,i.cH=function(c){c.bucket.createArrays(),c.bucket.tilePixelRatio=pt/(512*c.bucket.overscaling),c.bucket.compareText={},c.bucket.iconsNeedLinear=!1;let s=c.bucket.layers[0],l=s.layout,h=s._unevaluatedLayout._values,v={layoutIconSize:h["icon-size"].possiblyEvaluate(new Zn(c.bucket.zoom+1),c.canonical),layoutTextSize:h["text-size"].possiblyEvaluate(new Zn(c.bucket.zoom+1),c.canonical),textMaxSize:h["text-size"].possiblyEvaluate(new Zn(18))};if(c.bucket.textSizeData.kind==="composite"){let{minZoom:R,maxZoom:j}=c.bucket.textSizeData;v.compositeTextSizes=[h["text-size"].possiblyEvaluate(new Zn(R),c.canonical),h["text-size"].possiblyEvaluate(new Zn(j),c.canonical)]}if(c.bucket.iconSizeData.kind==="composite"){let{minZoom:R,maxZoom:j}=c.bucket.iconSizeData;v.compositeIconSizes=[h["icon-size"].possiblyEvaluate(new Zn(R),c.canonical),h["icon-size"].possiblyEvaluate(new Zn(j),c.canonical)]}let S=l.get("text-line-height")*mo,E=l.get("text-rotation-alignment")!=="viewport"&&l.get("symbol-placement")!=="point",C=l.get("text-keep-upright"),O=l.get("text-size");for(let R of c.bucket.features){let j=l.get("text-font").evaluate(R,{},c.canonical).join(","),$=O.evaluate(R,{},c.canonical),Z=v.layoutTextSize.evaluate(R,{},c.canonical),X=v.layoutIconSize.evaluate(R,{},c.canonical),Q={horizontal:{},vertical:void 0},re=R.text,le,me=[0,0];if(re){let De=re.toString(),Ye=l.get("text-letter-spacing").evaluate(R,{},c.canonical)*mo,nt=aL(De)?Ye:0,_t=l.get("text-anchor").evaluate(R,{},c.canonical),zt=Lee(s,R,c.canonical);if(!zt){let Nt=l.get("text-radial-offset").evaluate(R,{},c.canonical);me=Nt?Ree(_t,[Nt*mo,qL]):l.get("text-offset").evaluate(R,{},c.canonical).map(Lt=>Lt*mo)}let Ct=E?"center":l.get("text-justify").evaluate(R,{},c.canonical),Rt=l.get("symbol-placement")==="point"?l.get("text-max-width").evaluate(R,{},c.canonical)*mo:1/0,or=()=>{c.bucket.allowVerticalPlacement&&iy(De)&&(Q.vertical=KT(re,c.glyphMap,c.glyphPositions,c.imagePositions,j,Rt,S,_t,"left",nt,me,i.ao.vertical,!0,Z,$))};if(!E&&zt){let Nt=new Set;if(Ct==="auto")for(let ft=0;ft<zt.values.length;ft+=2)Nt.add(zL(zt.values[ft]));else Nt.add(Ct);let Lt=!1;for(let ft of Nt)if(!Q.horizontal[ft])if(Lt)Q.horizontal[ft]=Q.horizontal[0];else{let br=KT(re,c.glyphMap,c.glyphPositions,c.imagePositions,j,Rt,S,"center",ft,nt,me,i.ao.horizontal,!1,Z,$);br&&(Q.horizontal[ft]=br,Lt=br.positionedLines.length===1)}or()}else{Ct==="auto"&&(Ct=zL(_t));let Nt=KT(re,c.glyphMap,c.glyphPositions,c.imagePositions,j,Rt,S,_t,Ct,nt,me,i.ao.horizontal,!1,Z,$);Nt&&(Q.horizontal[Ct]=Nt),or(),iy(De)&&E&&C&&(Q.vertical=KT(re,c.glyphMap,c.glyphPositions,c.imagePositions,j,Rt,S,_t,Ct,nt,me,i.ao.vertical,!1,Z,$))}}let Fe=!1;if(R.icon&&R.icon.name){let De=c.imageMap[R.icon.name];De&&(le=MHe(c.imagePositions[R.icon.name],l.get("icon-offset").evaluate(R,{},c.canonical),l.get("icon-anchor").evaluate(R,{},c.canonical)),Fe=!!De.sdf,c.bucket.sdfIcons===void 0?c.bucket.sdfIcons=Fe:c.bucket.sdfIcons!==Fe&&ht("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(De.pixelRatio!==c.bucket.pixelRatio||l.get("icon-rotate").constantOr(1)!==0)&&(c.bucket.iconsNeedLinear=!0))}let Ce=zee(Q.horizontal)||Q.vertical;c.bucket.iconsInText=!!Ce&&Ce.iconsInText,(Ce||le)&&VHe(c.bucket,R,Q,le,c.imageMap,v,Z,X,me,Fe,c.canonical,c.subdivisionGranularity)}c.showCollisionBoxes&&c.bucket.generateCollisionDebugBuffers()},i.cI=SL,i.cJ=bL,i.cK=wL,i.cL=BJ,i.cM=IL,i.cN=class{constructor(c){this._marks={start:[c.url,"start"].join("#"),end:[c.url,"end"].join("#"),measure:c.url.toString()},performance.mark(this._marks.start)}finish(){performance.mark(this._marks.end);let c=performance.getEntriesByName(this._marks.measure);return c.length===0&&(performance.measure(this._marks.measure,this._marks.start,this._marks.end),c=performance.getEntriesByName(this._marks.measure),performance.clearMarks(this._marks.start),performance.clearMarks(this._marks.end),performance.clearMeasures(this._marks.measure)),c}},i.cO=function(c,s,l,h,v){return o(this,void 0,void 0,function*(){if(U())try{return yield yr(c,s,l,h,v)}catch(S){}return function(S,E,C,O,R){let j=S.width,$=S.height;Pr&&sr||(Pr=new OffscreenCanvas(j,$),sr=Pr.getContext("2d",{willReadFrequently:!0})),Pr.width=j,Pr.height=$,sr.drawImage(S,0,0,j,$);let Z=sr.getImageData(E,C,O,R);return sr.clearRect(0,0,j,$),Z.data}(c,s,l,h,v)})},i.cP=AJ,i.cQ=d,i.cR=FJ,i.cS=yy,i.cT=Pm,i.cU=function(c,s){let l=new Map;if(c!=null)if(c.type==="Feature")l.set(sx(c,s),c);else for(let h of c.features)l.set(sx(h,s),h);return l},i.cV=function(c,s){if(c==null)return!0;if(c.type==="Feature")return sx(c,s)!=null;if(c.type==="FeatureCollection"){let l=new Set;for(let h of c.features){let v=sx(h,s);if(v==null||l.has(v))return!1;l.add(v)}return!0}return!1},i.cW=function(c,s,l){var h,v,S,E;if(s.removeAll&&c.clear(),s.remove)for(let C of s.remove)c.delete(C);if(s.add)for(let C of s.add){let O=sx(C,l);O!=null&&c.set(O,C)}if(s.update)for(let C of s.update){let O=c.get(C.id);if(O==null)continue;let R=!C.removeAllProperties&&(((h=C.removeProperties)===null||h===void 0?void 0:h.length)>0||((v=C.addOrUpdateProperties)===null||v===void 0?void 0:v.length)>0);if((C.newGeometry||C.removeAllProperties||R)&&(O=Object.assign({},O),c.set(C.id,O),R&&(O.properties=Object.assign({},O.properties))),C.newGeometry&&(O.geometry=C.newGeometry),C.removeAllProperties)O.properties={};else if(((S=C.removeProperties)===null||S===void 0?void 0:S.length)>0)for(let j of C.removeProperties)Object.prototype.hasOwnProperty.call(O.properties,j)&&delete O.properties[j];if(((E=C.addOrUpdateProperties)===null||E===void 0?void 0:E.length)>0)for(let{key:j,value:$}of C.addOrUpdateProperties)O.properties[j]=$}},i.cX=fl,i.ca=function(c,s){return c[0]=s[0],c[1]=s[1],c[2]=s[2],c[3]=s[3],c[4]=s[4],c[5]=s[5],c[6]=s[6],c[7]=s[7],c[8]=s[8],c[9]=s[9],c[10]=s[10],c[11]=s[11],c[12]=s[12],c[13]=s[13],c[14]=s[14],c[15]=s[15],c},i.cb=c=>c.type==="symbol",i.cc=c=>c.type==="circle",i.cd=c=>c.type==="heatmap",i.ce=c=>c.type==="line",i.cf=c=>c.type==="fill",i.cg=c=>c.type==="fill-extrusion",i.ch=c=>c.type==="hillshade",i.ci=c=>c.type==="color-relief",i.cj=c=>c.type==="raster",i.ck=c=>c.type==="background",i.cl=c=>c.type==="custom",i.cm=Ge,i.cn=function(c,s,l){let h=lt(s.x-l.x,s.y-l.y),v=lt(c.x-l.x,c.y-l.y);var S,E;return Ur(Math.atan2(h[0]*v[1]-h[1]*v[0],(S=h)[0]*(E=v)[0]+S[1]*E[1]))},i.co=st,i.cp=function(c,s){return Vr[s]&&(c instanceof MouseEvent||c instanceof WheelEvent)},i.cq=function(c,s){return er[s]&&"touches"in c},i.cr=function(c){return er[c]||Vr[c]},i.cs=function(c,s,l){var h=s[0],v=s[1];return c[0]=l[0]*h+l[4]*v+l[12],c[1]=l[1]*h+l[5]*v+l[13],c},i.ct=function(c,s){let{x:l,y:h}=ax.fromLngLat(s);return!(c<0||c>25||h<0||h>=1||l<0||l>=1)},i.cu=function(c,s){return c[0]=s[0],c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=s[1],c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[10]=s[2],c[11]=0,c[12]=0,c[13]=0,c[14]=0,c[15]=1,c},i.cv=class extends Id{},i.cw=GHe,i.cy=function(c){return c.message===xi},i.cz=_e,i.d=We,i.e=Me,i.f=c=>o(void 0,void 0,void 0,function*(){if(c.byteLength===0)return createImageBitmap(new ImageData(1,1));let s=new Blob([new Uint8Array(c)],{type:"image/png"});try{return createImageBitmap(s)}catch(l){throw new Error(`Could not load image because of ${l.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`)}}),i.g=ne,i.h=c=>new Promise((s,l)=>{let h=new Image;h.onload=()=>{s(h),URL.revokeObjectURL(h.src),h.onload=null,window.requestAnimationFrame(()=>{h.src=Xt})},h.onerror=()=>l(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));let v=new Blob([new Uint8Array(c)],{type:"image/png"});h.src=c.byteLength?URL.createObjectURL(v):Xt}),i.i=Wt,i.j=(c,s)=>Be(Me(c,{type:"json"}),s),i.k=Re,i.l=he,i.m=Be,i.n=(c,s)=>Be(Me(c,{type:"arrayBuffer"}),s),i.o=function(c){return new IL(c).readFields(gHe,[])},i.p=eee,i.q=Yb,i.r=na,i.s=Sr,i.t=jT,i.u=cn,i.v=ye,i.w=ht,i.x=nL,i.y=qm,i.z=xd}),r("worker",["./shared"],function(i){"use strict";class o{constructor(J){this.keyCache={},J&&this.replace(J)}replace(J){this._layerConfigs={},this._layers={},this.update(J,[])}update(J,ne){for(let _e of J){this._layerConfigs[_e.id]=_e;let ke=this._layers[_e.id]=i.bJ(_e);ke._featureFilter=i.aa(ke.filter),this.keyCache[_e.id]&&delete this.keyCache[_e.id]}for(let _e of ne)delete this.keyCache[_e],delete this._layerConfigs[_e],delete this._layers[_e];this.familiesBySource={};let ae=i.cC(Object.values(this._layerConfigs),this.keyCache);for(let _e of ae){let ke=_e.map(Re=>this._layers[Re.id]),Be=ke[0];if(Be.visibility==="none")continue;let We=Be.source||"",Ue=this.familiesBySource[We];Ue||(Ue=this.familiesBySource[We]={});let de=Be.sourceLayer||"_geojsonTileLayer",he=Ue[de];he||(he=Ue[de]=[]),he.push(ke)}}}class u{constructor(J){let ne={},ae=[];for(let We in J){let Ue=J[We],de=ne[We]={};for(let he in Ue){let Re=Ue[+he];if(!Re||Re.bitmap.width===0||Re.bitmap.height===0)continue;let at={x:0,y:0,w:Re.bitmap.width+2,h:Re.bitmap.height+2};ae.push(at),de[he]={rect:at,metrics:Re.metrics}}}let{w:_e,h:ke}=i.p(ae),Be=new i.q({width:_e||1,height:ke||1});for(let We in J){let Ue=J[We];for(let de in Ue){let he=Ue[+de];if(!he||he.bitmap.width===0||he.bitmap.height===0)continue;let Re=ne[We][de].rect;i.q.copy(he.bitmap,Be,{x:0,y:0},{x:Re.x+1,y:Re.y+1},he.bitmap)}}this.image=Be,this.positions=ne}}i.cD("GlyphAtlas",u);class d{constructor(J){this.tileID=new i.Z(J.tileID.overscaledZ,J.tileID.wrap,J.tileID.canonical.z,J.tileID.canonical.x,J.tileID.canonical.y),this.uid=J.uid,this.zoom=J.zoom,this.pixelRatio=J.pixelRatio,this.tileSize=J.tileSize,this.source=J.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=J.showCollisionBoxes,this.collectResourceTiming=!!J.collectResourceTiming,this.returnDependencies=!!J.returnDependencies,this.promoteId=J.promoteId,this.inFlightDependencies=[],this.globalState=J.globalState}parse(J,ne,ae,_e,ke){return i._(this,void 0,void 0,function*(){this.status="parsing",this.data=J,this.collisionBoxArray=new i.a8;let Be=new i.cE(Object.keys(J.layers).sort()),We=new i.cF(this.tileID,this.promoteId);We.bucketLayerIDs=[];let Ue={},de={featureIndex:We,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:ae,subdivisionGranularity:ke},he=ne.familiesBySource[this.source];for(let Er in he){let Dr=J.layers[Er];if(!Dr)continue;Dr.version===1&&i.w(`Vector tile source "${this.source}" layer "${Er}" does not use vector tile spec v2 and therefore may have some rendering errors.`);let Qn=Be.encode(Er),St=[];for(let Ai=0;Ai<Dr.length;Ai++){let Bn=Dr.feature(Ai),Ic=We.getId(Bn,Er);St.push({feature:Bn,id:Ic,index:Ai,sourceLayerIndex:Qn})}for(let Ai of he[Er]){let Bn=Ai[0];Bn.source!==this.source&&i.w(`layer.source = ${Bn.source} does not equal this.source = ${this.source}`),Bn.minzoom&&this.zoom<Math.floor(Bn.minzoom)||Bn.maxzoom&&this.zoom>=Bn.maxzoom||Bn.visibility!=="none"&&(g(Ai,this.zoom,ae,this.globalState),(Ue[Bn.id]=Bn.createBucket({index:We.bucketLayerIDs.length,layers:Ai,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Qn,sourceID:this.source,globalState:this.globalState})).populate(St,de,this.tileID.canonical),We.bucketLayerIDs.push(Ai.map(Ic=>Ic.id)))}}let Re=i.bN(de.glyphDependencies,Er=>Object.keys(Er).map(Number));this.inFlightDependencies.forEach(Er=>Er==null?void 0:Er.abort()),this.inFlightDependencies=[];let at=Promise.resolve({});if(Object.keys(Re).length){let Er=new AbortController;this.inFlightDependencies.push(Er),at=_e.sendAsync({type:"GG",data:{stacks:Re,source:this.source,tileID:this.tileID,type:"glyphs"}},Er)}let ye=Object.keys(de.iconDependencies),yt=Promise.resolve({});if(ye.length){let Er=new AbortController;this.inFlightDependencies.push(Er),yt=_e.sendAsync({type:"GI",data:{icons:ye,source:this.source,tileID:this.tileID,type:"icons"}},Er)}let jt=Object.keys(de.patternDependencies),xt=Promise.resolve({});if(jt.length){let Er=new AbortController;this.inFlightDependencies.push(Er),xt=_e.sendAsync({type:"GI",data:{icons:jt,source:this.source,tileID:this.tileID,type:"patterns"}},Er)}let[Pt,ir,$r]=yield Promise.all([at,yt,xt]),xn=new u(Pt),on=new i.cG(ir,$r);for(let Er in Ue){let Dr=Ue[Er];Dr instanceof i.a9?(g(Dr.layers,this.zoom,ae,this.globalState),i.cH({bucket:Dr,glyphMap:Pt,glyphPositions:xn.positions,imageMap:ir,imagePositions:on.iconPositions,showCollisionBoxes:this.showCollisionBoxes,canonical:this.tileID.canonical,subdivisionGranularity:de.subdivisionGranularity})):Dr.hasPattern&&(Dr instanceof i.cI||Dr instanceof i.cJ||Dr instanceof i.cK)&&(g(Dr.layers,this.zoom,ae,this.globalState),Dr.addFeatures(de,this.tileID.canonical,on.patternPositions))}return this.status="done",{buckets:Object.values(Ue).filter(Er=>!Er.isEmpty()),featureIndex:We,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:xn.image,imageAtlas:on,glyphMap:this.returnDependencies?Pt:null,iconMap:this.returnDependencies?ir:null,glyphPositions:this.returnDependencies?xn.positions:null}})}}function g(Le,J,ne,ae){let _e=new i.F(J);for(let ke of Le)ke.setGlobalState(ae),ke.recalculate(_e,ne)}class _{constructor(J,ne,ae){this.actor=J,this.layerIndex=ne,this.availableImages=ae,this.fetching={},this.loading={},this.loaded={}}loadVectorTile(J,ne){return i._(this,void 0,void 0,function*(){let ae=yield i.n(J.request,ne);try{return{vectorTile:new i.cL(new i.cM(ae.data)),rawData:ae.data,cacheControl:ae.cacheControl,expires:ae.expires}}catch(_e){let ke=new Uint8Array(ae.data),Be=`Unable to parse the tile at ${J.request.url}, `;throw Be+=ke[0]===31&&ke[1]===139?"please make sure the data is not gzipped and that you have configured the relevant header in the server":`got error: ${_e.message}`,new Error(Be)}})}loadTile(J){return i._(this,void 0,void 0,function*(){let ne=J.uid,ae=!!(J&&J.request&&J.request.collectResourceTiming)&&new i.cN(J.request),_e=new d(J);this.loading[ne]=_e;let ke=new AbortController;_e.abort=ke;try{let Be=yield this.loadVectorTile(J,ke);if(delete this.loading[ne],!Be)return null;let We=Be.rawData,Ue={};Be.expires&&(Ue.expires=Be.expires),Be.cacheControl&&(Ue.cacheControl=Be.cacheControl);let de={};if(ae){let Re=ae.finish();Re&&(de.resourceTiming=JSON.parse(JSON.stringify(Re)))}_e.vectorTile=Be.vectorTile;let he=_e.parse(Be.vectorTile,this.layerIndex,this.availableImages,this.actor,J.subdivisionGranularity);this.loaded[ne]=_e,this.fetching[ne]={rawTileData:We,cacheControl:Ue,resourceTiming:de};try{let Re=yield he;return i.e({rawTileData:We.slice(0)},Re,Ue,de)}finally{delete this.fetching[ne]}}catch(Be){throw delete this.loading[ne],_e.status="done",this.loaded[ne]=_e,Be}})}reloadTile(J){return i._(this,void 0,void 0,function*(){let ne=J.uid;if(!this.loaded||!this.loaded[ne])throw new Error("Should not be trying to reload a tile that was never loaded or has been removed");let ae=this.loaded[ne];if(ae.showCollisionBoxes=J.showCollisionBoxes,ae.globalState=J.globalState,ae.status==="parsing"){let _e=yield ae.parse(ae.vectorTile,this.layerIndex,this.availableImages,this.actor,J.subdivisionGranularity),ke;if(this.fetching[ne]){let{rawTileData:Be,cacheControl:We,resourceTiming:Ue}=this.fetching[ne];delete this.fetching[ne],ke=i.e({rawTileData:Be.slice(0)},_e,We,Ue)}else ke=_e;return ke}if(ae.status==="done"&&ae.vectorTile)return ae.parse(ae.vectorTile,this.layerIndex,this.availableImages,this.actor,J.subdivisionGranularity)})}abortTile(J){return i._(this,void 0,void 0,function*(){let ne=this.loading,ae=J.uid;ne&&ne[ae]&&ne[ae].abort&&(ne[ae].abort.abort(),delete ne[ae])})}removeTile(J){return i._(this,void 0,void 0,function*(){this.loaded&&this.loaded[J.uid]&&delete this.loaded[J.uid]})}}class I{constructor(){this.loaded={}}loadTile(J){return i._(this,void 0,void 0,function*(){let{uid:ne,encoding:ae,rawImageData:_e,redFactor:ke,greenFactor:Be,blueFactor:We,baseShift:Ue}=J,de=_e.width+2,he=_e.height+2,Re=i.b(_e)?new i.R({width:de,height:he},yield i.cO(_e,-1,-1,de,he)):_e,at=new i.cP(ne,Re,ae,ke,Be,We,Ue);return this.loaded=this.loaded||{},this.loaded[ne]=at,at})}removeTile(J){let ne=this.loaded,ae=J.uid;ne&&ne[ae]&&delete ne[ae]}}var T,A,q=function(){if(A)return T;function Le(ne,ae){if(ne.length!==0){J(ne[0],ae);for(var _e=1;_e<ne.length;_e++)J(ne[_e],!ae)}}function J(ne,ae){for(var _e=0,ke=0,Be=0,We=ne.length,Ue=We-1;Be<We;Ue=Be++){var de=(ne[Be][0]-ne[Ue][0])*(ne[Ue][1]+ne[Be][1]),he=_e+de;ke+=Math.abs(_e)>=Math.abs(de)?_e-he+de:de-he+_e,_e=he}_e+ke>=0!=!!ae&&ne.reverse()}return A=1,T=function ne(ae,_e){var ke,Be=ae&&ae.type;if(Be==="FeatureCollection")for(ke=0;ke<ae.features.length;ke++)ne(ae.features[ke],_e);else if(Be==="GeometryCollection")for(ke=0;ke<ae.geometries.length;ke++)ne(ae.geometries[ke],_e);else if(Be==="Feature")ne(ae.geometry,_e);else if(Be==="Polygon")Le(ae.coordinates,_e);else if(Be==="MultiPolygon")for(ke=0;ke<ae.coordinates.length;ke++)Le(ae.coordinates[ke],_e);return ae}}(),z=i.cQ(q);class U extends i.cS{constructor(J,ne){super(new i.cM,0,ne,[],[]),this.feature=J,this.type=J.type,this.properties=J.tags?J.tags:{},"id"in J&&(typeof J.id=="string"?this.id=parseInt(J.id,10):typeof J.id!="number"||isNaN(J.id)||(this.id=J.id))}loadGeometry(){let J=[],ne=this.feature.type===1?[this.feature.geometry]:this.feature.geometry;for(let ae of ne){let _e=[];for(let ke of ae)_e.push(new i.P(ke[0],ke[1]));J.push(_e)}return J}}class N extends i.cR{constructor(J,ne){super(new i.cM),this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.version=ne?ne.version:1,this.extent=ne?ne.extent:4096,this.length=J.length,this.features=J}feature(J){return new U(this.features[J],this.extent)}}function L(Le,J){J.writeVarintField(15,Le.version||1),J.writeStringField(1,Le.name||""),J.writeVarintField(5,Le.extent||4096);let ne={keys:[],values:[],keycache:{},valuecache:{}};for(let ke=0;ke<Le.length;ke++)ne.feature=Le.feature(ke),J.writeMessage(2,F,ne);let ae=ne.keys;for(let ke of ae)J.writeStringField(3,ke);let _e=ne.values;for(let ke of _e)J.writeMessage(4,ue,ke)}function F(Le,J){if(!Le.feature)return;let ne=Le.feature;ne.id!==void 0&&J.writeVarintField(1,ne.id),J.writeMessage(2,H,Le),J.writeVarintField(3,ne.type),J.writeMessage(4,oe,ne)}function H(Le,J){var ne;for(let ae in(ne=Le.feature)==null?void 0:ne.properties){let _e=Le.feature.properties[ae],ke=Le.keycache[ae];if(_e===null)continue;ke===void 0&&(Le.keys.push(ae),ke=Le.keys.length-1,Le.keycache[ae]=ke),J.writeVarint(ke),typeof _e!="string"&&typeof _e!="boolean"&&typeof _e!="number"&&(_e=JSON.stringify(_e));let Be=typeof _e+":"+_e,We=Le.valuecache[Be];We===void 0&&(Le.values.push(_e),We=Le.values.length-1,Le.valuecache[Be]=We),J.writeVarint(We)}}function Y(Le,J){return(J<<3)+(7&Le)}function te(Le){return Le<<1^Le>>31}function oe(Le,J){let ne=Le.loadGeometry(),ae=Le.type,_e=0,ke=0;for(let Be of ne){let We=1;ae===1&&(We=Be.length),J.writeVarint(Y(1,We));let Ue=ae===3?Be.length-1:Be.length;for(let de=0;de<Ue;de++){de===1&&ae!==1&&J.writeVarint(Y(2,Ue-1));let he=Be[de].x-_e,Re=Be[de].y-ke;J.writeVarint(te(he)),J.writeVarint(te(Re)),_e+=he,ke+=Re}Le.type===3&&J.writeVarint(Y(7,1))}}function ue(Le,J){let ne=typeof Le;ne==="string"?J.writeStringField(1,Le):ne==="boolean"?J.writeBooleanField(7,Le):ne==="number"&&(Le%1!=0?J.writeDoubleField(3,Le):Le<0?J.writeSVarintField(6,Le):J.writeVarintField(5,Le))}let Ie={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:Le=>Le},Ee=Math.fround||(ve=new Float32Array(1),Le=>(ve[0]=+Le,ve[0]));var ve;class xe{constructor(J){this.options=Object.assign(Object.create(Ie),J),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(J){let{log:ne,minZoom:ae,maxZoom:_e}=this.options;ne&&console.time("total time");let ke=`prepare ${J.length} points`;ne&&console.time(ke),this.points=J;let Be=[];for(let Ue=0;Ue<J.length;Ue++){let de=J[Ue];if(!de.geometry)continue;let[he,Re]=de.geometry.coordinates,at=Ee(Oe(he)),ye=Ee(Xe(Re));Be.push(at,ye,1/0,Ue,-1,1),this.options.reduce&&Be.push(0)}let We=this.trees[_e+1]=this._createTree(Be);ne&&console.timeEnd(ke);for(let Ue=_e;Ue>=ae;Ue--){let de=+Date.now();We=this.trees[Ue]=this._createTree(this._cluster(We,Ue)),ne&&console.log("z%d: %d clusters in %dms",Ue,We.numItems,+Date.now()-de)}return ne&&console.timeEnd("total time"),this}getClusters(J,ne){let ae=((J[0]+180)%360+360)%360-180,_e=Math.max(-90,Math.min(90,J[1])),ke=J[2]===180?180:((J[2]+180)%360+360)%360-180,Be=Math.max(-90,Math.min(90,J[3]));if(J[2]-J[0]>=360)ae=-180,ke=180;else if(ae>ke){let Re=this.getClusters([ae,_e,180,Be],ne),at=this.getClusters([-180,_e,ke,Be],ne);return Re.concat(at)}let We=this.trees[this._limitZoom(ne)],Ue=We.range(Oe(ae),Xe(Be),Oe(ke),Xe(_e)),de=We.data,he=[];for(let Re of Ue){let at=this.stride*Re;he.push(de[at+5]>1?Pe(de,at,this.clusterProps):this.points[de[at+3]])}return he}getChildren(J){let ne=this._getOriginId(J),ae=this._getOriginZoom(J),_e="No cluster with the specified id.",ke=this.trees[ae];if(!ke)throw new Error(_e);let Be=ke.data;if(ne*this.stride>=Be.length)throw new Error(_e);let We=this.options.radius/(this.options.extent*Math.pow(2,ae-1)),Ue=ke.within(Be[ne*this.stride],Be[ne*this.stride+1],We),de=[];for(let he of Ue){let Re=he*this.stride;Be[Re+4]===J&&de.push(Be[Re+5]>1?Pe(Be,Re,this.clusterProps):this.points[Be[Re+3]])}if(de.length===0)throw new Error(_e);return de}getLeaves(J,ne,ae){let _e=[];return this._appendLeaves(_e,J,ne=ne||10,ae=ae||0,0),_e}getTile(J,ne,ae){let _e=this.trees[this._limitZoom(J)],ke=Math.pow(2,J),{extent:Be,radius:We}=this.options,Ue=We/Be,de=(ae-Ue)/ke,he=(ae+1+Ue)/ke,Re={features:[]};return this._addTileFeatures(_e.range((ne-Ue)/ke,de,(ne+1+Ue)/ke,he),_e.data,ne,ae,ke,Re),ne===0&&this._addTileFeatures(_e.range(1-Ue/ke,de,1,he),_e.data,ke,ae,ke,Re),ne===ke-1&&this._addTileFeatures(_e.range(0,de,Ue/ke,he),_e.data,-1,ae,ke,Re),Re.features.length?Re:null}getClusterExpansionZoom(J){let ne=this._getOriginZoom(J)-1;for(;ne<=this.options.maxZoom;){let ae=this.getChildren(J);if(ne++,ae.length!==1)break;J=ae[0].properties.cluster_id}return ne}_appendLeaves(J,ne,ae,_e,ke){let Be=this.getChildren(ne);for(let We of Be){let Ue=We.properties;if(Ue&&Ue.cluster?ke+Ue.point_count<=_e?ke+=Ue.point_count:ke=this._appendLeaves(J,Ue.cluster_id,ae,_e,ke):ke<_e?ke++:J.push(We),J.length===ae)break}return ke}_createTree(J){let ne=new i.aI(J.length/this.stride|0,this.options.nodeSize,Float32Array);for(let ae=0;ae<J.length;ae+=this.stride)ne.add(J[ae],J[ae+1]);return ne.finish(),ne.data=J,ne}_addTileFeatures(J,ne,ae,_e,ke,Be){for(let We of J){let Ue=We*this.stride,de=ne[Ue+5]>1,he,Re,at;if(de)he=we(ne,Ue,this.clusterProps),Re=ne[Ue],at=ne[Ue+1];else{let jt=this.points[ne[Ue+3]];he=jt.properties;let[xt,Pt]=jt.geometry.coordinates;Re=Oe(xt),at=Xe(Pt)}let ye={type:1,geometry:[[Math.round(this.options.extent*(Re*ke-ae)),Math.round(this.options.extent*(at*ke-_e))]],tags:he},yt;yt=de||this.options.generateId?ne[Ue+3]:this.points[ne[Ue+3]].id,yt!==void 0&&(ye.id=yt),Be.features.push(ye)}}_limitZoom(J){return Math.max(this.options.minZoom,Math.min(Math.floor(+J),this.options.maxZoom+1))}_cluster(J,ne){let{radius:ae,extent:_e,reduce:ke,minPoints:Be}=this.options,We=ae/(_e*Math.pow(2,ne)),Ue=J.data,de=[],he=this.stride;for(let Re=0;Re<Ue.length;Re+=he){if(Ue[Re+2]<=ne)continue;Ue[Re+2]=ne;let at=Ue[Re],ye=Ue[Re+1],yt=J.within(Ue[Re],Ue[Re+1],We),jt=Ue[Re+5],xt=jt;for(let Pt of yt){let ir=Pt*he;Ue[ir+2]>ne&&(xt+=Ue[ir+5])}if(xt>jt&&xt>=Be){let Pt,ir=at*jt,$r=ye*jt,xn=-1,on=(Re/he<<5)+(ne+1)+this.points.length;for(let Er of yt){let Dr=Er*he;if(Ue[Dr+2]<=ne)continue;Ue[Dr+2]=ne;let Qn=Ue[Dr+5];ir+=Ue[Dr]*Qn,$r+=Ue[Dr+1]*Qn,Ue[Dr+4]=on,ke&&(Pt||(Pt=this._map(Ue,Re,!0),xn=this.clusterProps.length,this.clusterProps.push(Pt)),ke(Pt,this._map(Ue,Dr)))}Ue[Re+4]=on,de.push(ir/xt,$r/xt,1/0,on,-1,xt),ke&&de.push(xn)}else{for(let Pt=0;Pt<he;Pt++)de.push(Ue[Re+Pt]);if(xt>1)for(let Pt of yt){let ir=Pt*he;if(!(Ue[ir+2]<=ne)){Ue[ir+2]=ne;for(let $r=0;$r<he;$r++)de.push(Ue[ir+$r])}}}}return de}_getOriginId(J){return J-this.points.length>>5}_getOriginZoom(J){return(J-this.points.length)%32}_map(J,ne,ae){if(J[ne+5]>1){let Be=this.clusterProps[J[ne+6]];return ae?Object.assign({},Be):Be}let _e=this.points[J[ne+3]].properties,ke=this.options.map(_e);return ae&&ke===_e?Object.assign({},ke):ke}}function Pe(Le,J,ne){return{type:"Feature",id:Le[J+3],properties:we(Le,J,ne),geometry:{type:"Point",coordinates:[(ae=Le[J],360*(ae-.5)),lt(Le[J+1])]}};var ae}function we(Le,J,ne){let ae=Le[J+5],_e=ae>=1e4?`${Math.round(ae/1e3)}k`:ae>=1e3?Math.round(ae/100)/10+"k":ae,ke=Le[J+6],Be=ke===-1?{}:Object.assign({},ne[ke]);return Object.assign(Be,{cluster:!0,cluster_id:Le[J+3],point_count:ae,point_count_abbreviated:_e})}function Oe(Le){return Le/360+.5}function Xe(Le){let J=Math.sin(Le*Math.PI/180),ne=.5-.25*Math.log((1+J)/(1-J))/Math.PI;return ne<0?0:ne>1?1:ne}function lt(Le){let J=(180-360*Le)*Math.PI/180;return 360*Math.atan(Math.exp(J))/Math.PI-90}function pt(Le,J,ne,ae){let _e=ae,ke=J+(ne-J>>1),Be,We=ne-J,Ue=Le[J],de=Le[J+1],he=Le[ne],Re=Le[ne+1];for(let at=J+3;at<ne;at+=3){let ye=qe(Le[at],Le[at+1],Ue,de,he,Re);if(ye>_e)Be=at,_e=ye;else if(ye===_e){let yt=Math.abs(at-ke);yt<We&&(Be=at,We=yt)}}_e>ae&&(Be-J>3&&pt(Le,J,Be,ae),Le[Be+2]=_e,ne-Be>3&&pt(Le,Be,ne,ae))}function qe(Le,J,ne,ae,_e,ke){let Be=_e-ne,We=ke-ae;if(Be!==0||We!==0){let Ue=((Le-ne)*Be+(J-ae)*We)/(Be*Be+We*We);Ue>1?(ne=_e,ae=ke):Ue>0&&(ne+=Be*Ue,ae+=We*Ue)}return Be=Le-ne,We=J-ae,Be*Be+We*We}function ut(Le,J,ne,ae){let _e={id:Le==null?null:Le,type:J,geometry:ne,tags:ae,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};if(J==="Point"||J==="MultiPoint"||J==="LineString")bt(_e,ne);else if(J==="Polygon")bt(_e,ne[0]);else if(J==="MultiLineString")for(let ke of ne)bt(_e,ke);else if(J==="MultiPolygon")for(let ke of ne)bt(_e,ke[0]);return _e}function bt(Le,J){for(let ne=0;ne<J.length;ne+=3)Le.minX=Math.min(Le.minX,J[ne]),Le.minY=Math.min(Le.minY,J[ne+1]),Le.maxX=Math.max(Le.maxX,J[ne]),Le.maxY=Math.max(Le.maxY,J[ne+1])}function wt(Le,J,ne,ae){if(!J.geometry)return;let _e=J.geometry.coordinates;if(_e&&_e.length===0)return;let ke=J.geometry.type,Be=Math.pow(ne.tolerance/((1<<ne.maxZoom)*ne.extent),2),We=[],Ue=J.id;if(ne.promoteId?Ue=J.properties[ne.promoteId]:ne.generateId&&(Ue=ae||0),ke==="Point")Ge(_e,We);else if(ke==="MultiPoint")for(let de of _e)Ge(de,We);else if(ke==="LineString")st(_e,We,Be,!1);else if(ke==="MultiLineString"){if(ne.lineMetrics){for(let de of _e)We=[],st(de,We,Be,!1),Le.push(ut(Ue,"LineString",We,J.properties));return}tt(_e,We,Be,!1)}else if(ke==="Polygon")tt(_e,We,Be,!0);else{if(ke!=="MultiPolygon"){if(ke==="GeometryCollection"){for(let de of J.geometry.geometries)wt(Le,{id:Ue,geometry:de,properties:J.properties},ne,ae);return}throw new Error("Input data is not a valid GeoJSON object.")}for(let de of _e){let he=[];tt(de,he,Be,!0),We.push(he)}}Le.push(ut(Ue,ke,We,J.properties))}function Ge(Le,J){J.push(je(Le[0]),Me(Le[1]),0)}function st(Le,J,ne,ae){let _e,ke,Be=0;for(let Ue=0;Ue<Le.length;Ue++){let de=je(Le[Ue][0]),he=Me(Le[Ue][1]);J.push(de,he,0),Ue>0&&(Be+=ae?(_e*he-de*ke)/2:Math.sqrt(Math.pow(de-_e,2)+Math.pow(he-ke,2))),_e=de,ke=he}let We=J.length-3;J[2]=1,pt(J,0,We,ne),J[We+2]=1,J.size=Math.abs(Be),J.start=0,J.end=J.size}function tt(Le,J,ne,ae){for(let _e=0;_e<Le.length;_e++){let ke=[];st(Le[_e],ke,ne,ae),J.push(ke)}}function je(Le){return Le/360+.5}function Me(Le){let J=Math.sin(Le*Math.PI/180),ne=.5-.25*Math.log((1+J)/(1-J))/Math.PI;return ne<0?0:ne>1?1:ne}function $e(Le,J,ne,ae,_e,ke,Be,We){if(ae/=J,ke>=(ne/=J)&&Be<ae)return Le;if(Be<ne||ke>=ae)return null;let Ue=[];for(let de of Le){let he=de.geometry,Re=de.type,at=_e===0?de.minX:de.minY,ye=_e===0?de.maxX:de.maxY;if(at>=ne&&ye<ae){Ue.push(de);continue}if(ye<ne||at>=ae)continue;let yt=[];if(Re==="Point"||Re==="MultiPoint")ze(he,yt,ne,ae,_e);else if(Re==="LineString")ot(he,yt,ne,ae,_e,!1,We.lineMetrics);else if(Re==="MultiLineString")vt(he,yt,ne,ae,_e,!1);else if(Re==="Polygon")vt(he,yt,ne,ae,_e,!0);else if(Re==="MultiPolygon")for(let jt of he){let xt=[];vt(jt,xt,ne,ae,_e,!0),xt.length&&yt.push(xt)}if(yt.length){if(We.lineMetrics&&Re==="LineString"){for(let jt of yt)Ue.push(ut(de.id,Re,jt,de.tags));continue}Re!=="LineString"&&Re!=="MultiLineString"||(yt.length===1?(Re="LineString",yt=yt[0]):Re="MultiLineString"),Re!=="Point"&&Re!=="MultiPoint"||(Re=yt.length===3?"Point":"MultiPoint"),Ue.push(ut(de.id,Re,yt,de.tags))}}return Ue.length?Ue:null}function ze(Le,J,ne,ae,_e){for(let ke=0;ke<Le.length;ke+=3){let Be=Le[ke+_e];Be>=ne&&Be<=ae&&ht(J,Le[ke],Le[ke+1],Le[ke+2])}}function ot(Le,J,ne,ae,_e,ke,Be){let We=it(Le),Ue=_e===0?It:Wt,de,he,Re=Le.start;for(let xt=0;xt<Le.length-3;xt+=3){let Pt=Le[xt],ir=Le[xt+1],$r=Le[xt+2],xn=Le[xt+3],on=Le[xt+4],Er=_e===0?Pt:ir,Dr=_e===0?xn:on,Qn=!1;Be&&(de=Math.sqrt(Math.pow(Pt-xn,2)+Math.pow(ir-on,2))),Er<ne?Dr>ne&&(he=Ue(We,Pt,ir,xn,on,ne),Be&&(We.start=Re+de*he)):Er>ae?Dr<ae&&(he=Ue(We,Pt,ir,xn,on,ae),Be&&(We.start=Re+de*he)):ht(We,Pt,ir,$r),Dr<ne&&Er>=ne&&(he=Ue(We,Pt,ir,xn,on,ne),Qn=!0),Dr>ae&&Er<=ae&&(he=Ue(We,Pt,ir,xn,on,ae),Qn=!0),!ke&&Qn&&(Be&&(We.end=Re+de*he),J.push(We),We=it(Le)),Be&&(Re+=de)}let at=Le.length-3,ye=Le[at],yt=Le[at+1],jt=_e===0?ye:yt;jt>=ne&&jt<=ae&&ht(We,ye,yt,Le[at+2]),at=We.length-3,ke&&at>=3&&(We[at]!==We[0]||We[at+1]!==We[1])&&ht(We,We[0],We[1],We[2]),We.length&&J.push(We)}function it(Le){let J=[];return J.size=Le.size,J.start=Le.start,J.end=Le.end,J}function vt(Le,J,ne,ae,_e,ke){for(let Be of Le)ot(Be,J,ne,ae,_e,ke,!1)}function ht(Le,J,ne,ae){Le.push(J,ne,ae)}function It(Le,J,ne,ae,_e,ke){let Be=(ke-J)/(ae-J);return ht(Le,ke,ne+(_e-ne)*Be,1),Be}function Wt(Le,J,ne,ae,_e,ke){let Be=(ke-ne)/(_e-ne);return ht(Le,J+(ae-J)*Be,ke,1),Be}function Et(Le,J){let ne=[];for(let ae=0;ae<Le.length;ae++){let _e=Le[ae],ke=_e.type,Be;if(ke==="Point"||ke==="MultiPoint"||ke==="LineString")Be=kt(_e.geometry,J);else if(ke==="MultiLineString"||ke==="Polygon"){Be=[];for(let We of _e.geometry)Be.push(kt(We,J))}else if(ke==="MultiPolygon"){Be=[];for(let We of _e.geometry){let Ue=[];for(let de of We)Ue.push(kt(de,J));Be.push(Ue)}}ne.push(ut(_e.id,ke,Be,_e.tags))}return ne}function kt(Le,J){let ne=[];ne.size=Le.size,Le.start!==void 0&&(ne.start=Le.start,ne.end=Le.end);for(let ae=0;ae<Le.length;ae+=3)ne.push(Le[ae]+J,Le[ae+1],Le[ae+2]);return ne}function Xt(Le,J){if(Le.transformed)return Le;let ne=1<<Le.z,ae=Le.x,_e=Le.y;for(let ke of Le.features){let Be=ke.geometry,We=ke.type;if(ke.geometry=[],We===1)for(let Ue=0;Ue<Be.length;Ue+=2)ke.geometry.push(yr(Be[Ue],Be[Ue+1],J,ne,ae,_e));else for(let Ue=0;Ue<Be.length;Ue++){let de=[];for(let he=0;he<Be[Ue].length;he+=2)de.push(yr(Be[Ue][he],Be[Ue][he+1],J,ne,ae,_e));ke.geometry.push(de)}}return Le.transformed=!0,Le}function yr(Le,J,ne,ae,_e,ke){return[Math.round(ne*(Le*ae-_e)),Math.round(ne*(J*ae-ke))]}function Pr(Le,J,ne,ae,_e){let ke=J===_e.maxZoom?0:_e.tolerance/((1<<J)*_e.extent),Be={features:[],numPoints:0,numSimplified:0,numFeatures:Le.length,source:null,x:ne,y:ae,z:J,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0};for(let We of Le)sr(Be,We,ke,_e);return Be}function sr(Le,J,ne,ae){let _e=J.geometry,ke=J.type,Be=[];if(Le.minX=Math.min(Le.minX,J.minX),Le.minY=Math.min(Le.minY,J.minY),Le.maxX=Math.max(Le.maxX,J.maxX),Le.maxY=Math.max(Le.maxY,J.maxY),ke==="Point"||ke==="MultiPoint")for(let We=0;We<_e.length;We+=3)Be.push(_e[We],_e[We+1]),Le.numPoints++,Le.numSimplified++;else if(ke==="LineString")Sr(Be,_e,Le,ne,!1,!1);else if(ke==="MultiLineString"||ke==="Polygon")for(let We=0;We<_e.length;We++)Sr(Be,_e[We],Le,ne,ke==="Polygon",We===0);else if(ke==="MultiPolygon")for(let We=0;We<_e.length;We++){let Ue=_e[We];for(let de=0;de<Ue.length;de++)Sr(Be,Ue[de],Le,ne,!0,de===0)}if(Be.length){let We=J.tags||null;if(ke==="LineString"&&ae.lineMetrics){We={};for(let de in J.tags)We[de]=J.tags[de];We.mapbox_clip_start=_e.start/_e.size,We.mapbox_clip_end=_e.end/_e.size}let Ue={geometry:Be,type:ke==="Polygon"||ke==="MultiPolygon"?3:ke==="LineString"||ke==="MultiLineString"?2:1,tags:We};J.id!==null&&(Ue.id=J.id),Le.features.push(Ue)}}function Sr(Le,J,ne,ae,_e,ke){let Be=ae*ae;if(ae>0&&J.size<(_e?Be:ae))return void(ne.numPoints+=J.length/3);let We=[];for(let Ue=0;Ue<J.length;Ue+=3)(ae===0||J[Ue+2]>Be)&&(ne.numSimplified++,We.push(J[Ue],J[Ue+1])),ne.numPoints++;_e&&function(Ue,de){let he=0;for(let Re=0,at=Ue.length,ye=at-2;Re<at;ye=Re,Re+=2)he+=(Ue[Re]-Ue[ye])*(Ue[Re+1]+Ue[ye+1]);if(he>0===de)for(let Re=0,at=Ue.length;Re<at/2;Re+=2){let ye=Ue[Re],yt=Ue[Re+1];Ue[Re]=Ue[at-2-Re],Ue[Re+1]=Ue[at-1-Re],Ue[at-2-Re]=ye,Ue[at-1-Re]=yt}}(We,ke),Le.push(We)}let Or={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0};class Ur{constructor(J,ne){let ae=(ne=this.options=function(ke,Be){for(let We in Be)ke[We]=Be[We];return ke}(Object.create(Or),ne)).debug;if(ae&&console.time("preprocess data"),ne.maxZoom<0||ne.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(ne.promoteId&&ne.generateId)throw new Error("promoteId and generateId cannot be used together.");let _e=function(ke,Be){let We=[];if(ke.type==="FeatureCollection")for(let Ue=0;Ue<ke.features.length;Ue++)wt(We,ke.features[Ue],Be,Ue);else wt(We,ke.type==="Feature"?ke:{geometry:ke},Be);return We}(J,ne);this.tiles={},this.tileCoords=[],ae&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",ne.indexMaxZoom,ne.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),_e=function(ke,Be){let We=Be.buffer/Be.extent,Ue=ke,de=$e(ke,1,-1-We,We,0,-1,2,Be),he=$e(ke,1,1-We,2+We,0,-1,2,Be);return(de||he)&&(Ue=$e(ke,1,-We,1+We,0,-1,2,Be)||[],de&&(Ue=Et(de,1).concat(Ue)),he&&(Ue=Ue.concat(Et(he,-1)))),Ue}(_e,ne),_e.length&&this.splitTile(_e,0,0,0),ae&&(_e.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}splitTile(J,ne,ae,_e,ke,Be,We){let Ue=[J,ne,ae,_e],de=this.options,he=de.debug;for(;Ue.length;){_e=Ue.pop(),ae=Ue.pop(),ne=Ue.pop(),J=Ue.pop();let Re=1<<ne,at=er(ne,ae,_e),ye=this.tiles[at];if(!ye&&(he>1&&console.time("creation"),ye=this.tiles[at]=Pr(J,ne,ae,_e,de),this.tileCoords.push({z:ne,x:ae,y:_e}),he)){he>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",ne,ae,_e,ye.numFeatures,ye.numPoints,ye.numSimplified),console.timeEnd("creation"));let Qn=`z${ne}`;this.stats[Qn]=(this.stats[Qn]||0)+1,this.total++}if(ye.source=J,ke==null){if(ne===de.indexMaxZoom||ye.numPoints<=de.indexMaxPoints)continue}else{if(ne===de.maxZoom||ne===ke)continue;if(ke!=null){let Qn=ke-ne;if(ae!==Be>>Qn||_e!==We>>Qn)continue}}if(ye.source=null,J.length===0)continue;he>1&&console.time("clipping");let yt=.5*de.buffer/de.extent,jt=.5-yt,xt=.5+yt,Pt=1+yt,ir=null,$r=null,xn=null,on=null,Er=$e(J,Re,ae-yt,ae+xt,0,ye.minX,ye.maxX,de),Dr=$e(J,Re,ae+jt,ae+Pt,0,ye.minX,ye.maxX,de);J=null,Er&&(ir=$e(Er,Re,_e-yt,_e+xt,1,ye.minY,ye.maxY,de),$r=$e(Er,Re,_e+jt,_e+Pt,1,ye.minY,ye.maxY,de),Er=null),Dr&&(xn=$e(Dr,Re,_e-yt,_e+xt,1,ye.minY,ye.maxY,de),on=$e(Dr,Re,_e+jt,_e+Pt,1,ye.minY,ye.maxY,de),Dr=null),he>1&&console.timeEnd("clipping"),Ue.push(ir||[],ne+1,2*ae,2*_e),Ue.push($r||[],ne+1,2*ae,2*_e+1),Ue.push(xn||[],ne+1,2*ae+1,2*_e),Ue.push(on||[],ne+1,2*ae+1,2*_e+1)}}getTile(J,ne,ae){J=+J,ne=+ne,ae=+ae;let _e=this.options,{extent:ke,debug:Be}=_e;if(J<0||J>24)return null;let We=1<<J,Ue=er(J,ne=ne+We&We-1,ae);if(this.tiles[Ue])return Xt(this.tiles[Ue],ke);Be>1&&console.log("drilling down to z%d-%d-%d",J,ne,ae);let de,he=J,Re=ne,at=ae;for(;!de&&he>0;)he--,Re>>=1,at>>=1,de=this.tiles[er(he,Re,at)];return de&&de.source?(Be>1&&(console.log("found parent tile z%d-%d-%d",he,Re,at),console.time("drilling down")),this.splitTile(de.source,he,Re,at,J,ne,ae),Be>1&&console.timeEnd("drilling down"),this.tiles[Ue]?Xt(this.tiles[Ue],ke):null):null}}function er(Le,J,ne){return 32*((1<<Le)*ne+J)+Le}class Vr extends _{constructor(){super(...arguments),this._dataUpdateable=new Map}loadVectorTile(J,ne){return i._(this,void 0,void 0,function*(){let ae=J.tileID.canonical;if(!this._geoJSONIndex)throw new Error("Unable to parse the data into a cluster or geojson");let _e=this._geoJSONIndex.getTile(ae.z,ae.x,ae.y);if(!_e)return null;let ke=new N(_e.features,{version:2,extent:i.$}),Be=function(We){let Ue=new i.cM;return function(de,he){for(let Re in de.layers)he.writeMessage(3,L,de.layers[Re])}(We,Ue),Ue.finish()}(ke);return Be.byteOffset===0&&Be.byteLength===Be.buffer.byteLength||(Be=new Uint8Array(Be)),{vectorTile:ke,rawData:Be.buffer}})}loadData(J){return i._(this,void 0,void 0,function*(){var ne;(ne=this._pendingRequest)===null||ne===void 0||ne.abort();let ae=!!(J&&J.request&&J.request.collectResourceTiming)&&new i.cN(J.request);this._pendingRequest=new AbortController;try{this._pendingData=this.loadAndProcessGeoJSON(J,this._pendingRequest);let _e=yield this._pendingData;this._geoJSONIndex=J.cluster?new xe(function({superclusterOptions:Be,clusterProperties:We}){if(!We||!Be)return Be;let Ue={},de={},he={accumulated:null,zoom:0},Re={properties:null},at=Object.keys(We);for(let ye of at){let[yt,jt]=We[ye],xt=i.cT(jt),Pt=i.cT(typeof yt=="string"?[yt,["accumulated"],["get",ye]]:yt);Ue[ye]=xt.value,de[ye]=Pt.value}return Be.map=ye=>{Re.properties=ye;let yt={};for(let jt of at)yt[jt]=Ue[jt].evaluate(he,Re);return yt},Be.reduce=(ye,yt)=>{Re.properties=yt;for(let jt of at)he.accumulated=ye[jt],ye[jt]=de[jt].evaluate(he,Re)},Be}(J)).load(_e.features):function(Be,We){return new Ur(Be,We)}(_e,J.geojsonVtOptions),this.loaded={};let ke={data:_e};if(ae){let Be=ae.finish();Be&&(ke.resourceTiming={},ke.resourceTiming[J.source]=JSON.parse(JSON.stringify(Be)))}return ke}catch(_e){if(delete this._pendingRequest,i.cy(_e))return{abandoned:!0};throw _e}})}getData(){return i._(this,void 0,void 0,function*(){return this._pendingData})}reloadTile(J){let ne=this.loaded;return ne&&ne[J.uid]?super.reloadTile(J):this.loadTile(J)}loadAndProcessGeoJSON(J,ne){return i._(this,void 0,void 0,function*(){let ae=yield this.loadGeoJSON(J,ne);if(delete this._pendingRequest,typeof ae!="object")throw new Error(`Input data given to '${J.source}' is not a valid GeoJSON object.`);if(z(ae,!0),J.filter){let _e=i.cT(J.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(_e.result==="error")throw new Error(_e.value.map(Be=>`${Be.key}: ${Be.message}`).join(", "));ae={type:"FeatureCollection",features:ae.features.filter(Be=>_e.value.evaluate({zoom:0},Be))}}return ae})}loadGeoJSON(J,ne){return i._(this,void 0,void 0,function*(){let{promoteId:ae}=J;if(J.request){let _e=yield i.j(J.request,ne);return this._dataUpdateable=i.cV(_e.data,ae)?i.cU(_e.data,ae):void 0,_e.data}if(typeof J.data=="string")try{let _e=JSON.parse(J.data);return this._dataUpdateable=i.cV(_e,ae)?i.cU(_e,ae):void 0,_e}catch(_e){throw new Error(`Input data given to '${J.source}' is not a valid GeoJSON object.`)}if(!J.dataDiff)throw new Error(`Input data given to '${J.source}' is not a valid GeoJSON object.`);if(!this._dataUpdateable)throw new Error(`Cannot update existing geojson data in ${J.source}`);return i.cW(this._dataUpdateable,J.dataDiff,ae),{type:"FeatureCollection",features:Array.from(this._dataUpdateable.values())}})}removeSource(J){return i._(this,void 0,void 0,function*(){this._pendingRequest&&this._pendingRequest.abort()})}getClusterExpansionZoom(J){return this._geoJSONIndex.getClusterExpansionZoom(J.clusterId)}getClusterChildren(J){return this._geoJSONIndex.getChildren(J.clusterId)}getClusterLeaves(J){return this._geoJSONIndex.getLeaves(J.clusterId,J.limit,J.offset)}}class xi{constructor(J){this.self=J,this.actor=new i.J(J),this.layerIndexes={},this.availableImages={},this.workerSources={},this.demWorkerSources={},this.externalWorkerSourceTypes={},this.self.registerWorkerSource=(ne,ae)=>{if(this.externalWorkerSourceTypes[ne])throw new Error(`Worker source with name "${ne}" already registered.`);this.externalWorkerSourceTypes[ne]=ae},this.self.addProtocol=i.cA,this.self.removeProtocol=i.cB,this.self.registerRTLTextPlugin=ne=>{i.cX.setMethods(ne)},this.actor.registerMessageHandler("LDT",(ne,ae)=>this._getDEMWorkerSource(ne,ae.source).loadTile(ae)),this.actor.registerMessageHandler("RDT",(ne,ae)=>i._(this,void 0,void 0,function*(){this._getDEMWorkerSource(ne,ae.source).removeTile(ae)})),this.actor.registerMessageHandler("GCEZ",(ne,ae)=>i._(this,void 0,void 0,function*(){return this._getWorkerSource(ne,ae.type,ae.source).getClusterExpansionZoom(ae)})),this.actor.registerMessageHandler("GCC",(ne,ae)=>i._(this,void 0,void 0,function*(){return this._getWorkerSource(ne,ae.type,ae.source).getClusterChildren(ae)})),this.actor.registerMessageHandler("GCL",(ne,ae)=>i._(this,void 0,void 0,function*(){return this._getWorkerSource(ne,ae.type,ae.source).getClusterLeaves(ae)})),this.actor.registerMessageHandler("LD",(ne,ae)=>this._getWorkerSource(ne,ae.type,ae.source).loadData(ae)),this.actor.registerMessageHandler("GD",(ne,ae)=>this._getWorkerSource(ne,ae.type,ae.source).getData()),this.actor.registerMessageHandler("LT",(ne,ae)=>this._getWorkerSource(ne,ae.type,ae.source).loadTile(ae)),this.actor.registerMessageHandler("RT",(ne,ae)=>this._getWorkerSource(ne,ae.type,ae.source).reloadTile(ae)),this.actor.registerMessageHandler("AT",(ne,ae)=>this._getWorkerSource(ne,ae.type,ae.source).abortTile(ae)),this.actor.registerMessageHandler("RMT",(ne,ae)=>this._getWorkerSource(ne,ae.type,ae.source).removeTile(ae)),this.actor.registerMessageHandler("RS",(ne,ae)=>i._(this,void 0,void 0,function*(){if(!this.workerSources[ne]||!this.workerSources[ne][ae.type]||!this.workerSources[ne][ae.type][ae.source])return;let _e=this.workerSources[ne][ae.type][ae.source];delete this.workerSources[ne][ae.type][ae.source],_e.removeSource!==void 0&&_e.removeSource(ae)})),this.actor.registerMessageHandler("RM",ne=>i._(this,void 0,void 0,function*(){delete this.layerIndexes[ne],delete this.availableImages[ne],delete this.workerSources[ne],delete this.demWorkerSources[ne]})),this.actor.registerMessageHandler("SR",(ne,ae)=>i._(this,void 0,void 0,function*(){this.referrer=ae})),this.actor.registerMessageHandler("SRPS",(ne,ae)=>this._syncRTLPluginState(ne,ae)),this.actor.registerMessageHandler("IS",(ne,ae)=>i._(this,void 0,void 0,function*(){this.self.importScripts(ae)})),this.actor.registerMessageHandler("SI",(ne,ae)=>this._setImages(ne,ae)),this.actor.registerMessageHandler("UL",(ne,ae)=>i._(this,void 0,void 0,function*(){this._getLayerIndex(ne).update(ae.layers,ae.removedIds)})),this.actor.registerMessageHandler("SL",(ne,ae)=>i._(this,void 0,void 0,function*(){this._getLayerIndex(ne).replace(ae)}))}_setImages(J,ne){return i._(this,void 0,void 0,function*(){this.availableImages[J]=ne;for(let ae in this.workerSources[J]){let _e=this.workerSources[J][ae];for(let ke in _e)_e[ke].availableImages=ne}})}_syncRTLPluginState(J,ne){return i._(this,void 0,void 0,function*(){return yield i.cX.syncState(ne,this.self.importScripts)})}_getAvailableImages(J){let ne=this.availableImages[J];return ne||(ne=[]),ne}_getLayerIndex(J){let ne=this.layerIndexes[J];return ne||(ne=this.layerIndexes[J]=new o),ne}_getWorkerSource(J,ne,ae){if(this.workerSources[J]||(this.workerSources[J]={}),this.workerSources[J][ne]||(this.workerSources[J][ne]={}),!this.workerSources[J][ne][ae]){let _e={sendAsync:(ke,Be)=>(ke.targetMapId=J,this.actor.sendAsync(ke,Be))};switch(ne){case"vector":this.workerSources[J][ne][ae]=new _(_e,this._getLayerIndex(J),this._getAvailableImages(J));break;case"geojson":this.workerSources[J][ne][ae]=new Vr(_e,this._getLayerIndex(J),this._getAvailableImages(J));break;default:this.workerSources[J][ne][ae]=new this.externalWorkerSourceTypes[ne](_e,this._getLayerIndex(J),this._getAvailableImages(J))}}return this.workerSources[J][ne][ae]}_getDEMWorkerSource(J,ne){return this.demWorkerSources[J]||(this.demWorkerSources[J]={}),this.demWorkerSources[J][ne]||(this.demWorkerSources[J][ne]=new I),this.demWorkerSources[J][ne]}}return i.i(self)&&(self.worker=new xi(self)),xi}),r("index",["exports","./shared"],function(i,o){"use strict";var u="5.7.1";function d(){var x=new o.A(4);return o.A!=Float32Array&&(x[1]=0,x[2]=0),x[0]=1,x[3]=1,x}let g,_,I={now:typeof performance!="undefined"&&performance&&performance.now?performance.now.bind(performance):Date.now.bind(Date),frame(x,a,f){let m=requestAnimationFrame(w=>{y(),a(w)}),{unsubscribe:y}=o.s(x.signal,"abort",()=>{y(),cancelAnimationFrame(m),f(o.c())},!1)},frameAsync(x){return new Promise((a,f)=>{this.frame(x,a,f)})},getImageData(x,a=0){return this.getImageCanvasContext(x).getImageData(-a,-a,x.width+2*a,x.height+2*a)},getImageCanvasContext(x){let a=window.document.createElement("canvas"),f=a.getContext("2d",{willReadFrequently:!0});if(!f)throw new Error("failed to create canvas 2d context");return a.width=x.width,a.height=x.height,f.drawImage(x,0,0,x.width,x.height),f},resolveURL:x=>(g||(g=document.createElement("a")),g.href=x,g.href),hardwareConcurrency:typeof navigator!="undefined"&&navigator.hardwareConcurrency||4,get prefersReducedMotion(){return!!matchMedia&&(_==null&&(_=matchMedia("(prefers-reduced-motion: reduce)")),_.matches)}};class T{static testProp(a){if(!T.docStyle)return a[0];for(let f=0;f<a.length;f++)if(a[f]in T.docStyle)return a[f];return a[0]}static create(a,f,m){let y=window.document.createElement(a);return f!==void 0&&(y.className=f),m&&m.appendChild(y),y}static createNS(a,f){return window.document.createElementNS(a,f)}static disableDrag(){T.docStyle&&T.selectProp&&(T.userSelect=T.docStyle[T.selectProp],T.docStyle[T.selectProp]="none")}static enableDrag(){T.docStyle&&T.selectProp&&(T.docStyle[T.selectProp]=T.userSelect)}static setTransform(a,f){a.style[T.transformProp]=f}static addEventListener(a,f,m,y={}){a.addEventListener(f,m,"passive"in y?y:y.capture)}static removeEventListener(a,f,m,y={}){a.removeEventListener(f,m,"passive"in y?y:y.capture)}static suppressClickInternal(a){a.preventDefault(),a.stopPropagation(),window.removeEventListener("click",T.suppressClickInternal,!0)}static suppressClick(){window.addEventListener("click",T.suppressClickInternal,!0),window.setTimeout(()=>{window.removeEventListener("click",T.suppressClickInternal,!0)},0)}static getScale(a){let f=a.getBoundingClientRect();return{x:f.width/a.offsetWidth||1,y:f.height/a.offsetHeight||1,boundingClientRect:f}}static getPoint(a,f,m){let y=f.boundingClientRect;return new o.P((m.clientX-y.left)/f.x-a.clientLeft,(m.clientY-y.top)/f.y-a.clientTop)}static mousePos(a,f){let m=T.getScale(a);return T.getPoint(a,m,f)}static touchPos(a,f){let m=[],y=T.getScale(a);for(let w=0;w<f.length;w++)m.push(T.getPoint(a,y,f[w]));return m}static mouseButton(a){return a.button}static remove(a){a.parentNode&&a.parentNode.removeChild(a)}static sanitize(a){let f=new DOMParser().parseFromString(a,"text/html").body||document.createElement("body"),m=f.querySelectorAll("script");for(let y of m)y.remove();return T.clean(f),f.innerHTML}static isPossiblyDangerous(a,f){let m=f.replace(/\s+/g,"").toLowerCase();return!(!["src","href","xlink:href"].includes(a)||!m.includes("javascript:")&&!m.includes("data:"))||!!a.startsWith("on")||void 0}static clean(a){let f=a.children;for(let m of f)T.removeAttributes(m),T.clean(m)}static removeAttributes(a){for(let{name:f,value:m}of a.attributes)T.isPossiblyDangerous(f,m)&&a.removeAttribute(f)}}T.docStyle=typeof window!="undefined"&&window.document&&window.document.documentElement.style,T.selectProp=T.testProp(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),T.transformProp=T.testProp(["transform","WebkitTransform"]);let A={supported:!1,testSupport:function(x){!U&&z&&(N?L(x):q=x)}},q,z,U=!1,N=!1;function L(x){let a=x.createTexture();x.bindTexture(x.TEXTURE_2D,a);try{if(x.texImage2D(x.TEXTURE_2D,0,x.RGBA,x.RGBA,x.UNSIGNED_BYTE,z),x.isContextLost())return;A.supported=!0}catch(f){}x.deleteTexture(a),U=!0}var F;typeof document!="undefined"&&(z=document.createElement("img"),z.onload=()=>{q&&L(q),q=null,N=!0},z.onerror=()=>{U=!0,q=null},z.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="),function(x){let a,f,m,y;x.resetRequestQueue=()=>{a=[],f=0,m=0,y={}},x.addThrottleControl=k=>{let B=m++;return y[B]=k,B},x.removeThrottleControl=k=>{delete y[k],M()},x.getImage=(k,B,V=!0)=>new Promise((W,G)=>{A.supported&&(k.headers||(k.headers={}),k.headers.accept="image/webp,*/*"),o.e(k,{type:"image"}),a.push({abortController:B,requestParameters:k,supportImageRefresh:V,state:"queued",onError:K=>{G(K)},onSuccess:K=>{W(K)}}),M()});let w=k=>o._(this,void 0,void 0,function*(){k.state="running";let{requestParameters:B,supportImageRefresh:V,onError:W,onSuccess:G,abortController:K}=k,ee=V===!1&&!o.i(self)&&!o.g(B.url)&&(!B.headers||Object.keys(B.headers).reduce((fe,ge)=>fe&&ge==="accept",!0));f++;let pe=ee?D(B,K):o.m(B,K);try{let fe=yield pe;delete k.abortController,k.state="completed",fe.data instanceof HTMLImageElement||o.b(fe.data)?G(fe):fe.data&&G({data:yield(ce=fe.data,typeof createImageBitmap=="function"?o.f(ce):o.h(ce)),cacheControl:fe.cacheControl,expires:fe.expires})}catch(fe){delete k.abortController,W(fe)}finally{f--,M()}var ce}),M=()=>{let k=(()=>{for(let B of Object.keys(y))if(y[B]())return!0;return!1})()?o.a.MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:o.a.MAX_PARALLEL_IMAGE_REQUESTS;for(let B=f;B<k&&a.length>0;B++){let V=a.shift();V.abortController.signal.aborted?B--:w(V)}},D=(k,B)=>new Promise((V,W)=>{let G=new Image,K=k.url,ee=k.credentials;ee&&ee==="include"?G.crossOrigin="use-credentials":(ee&&ee==="same-origin"||!o.d(K))&&(G.crossOrigin="anonymous"),B.signal.addEventListener("abort",()=>{G.src="",W(o.c())}),G.fetchPriority="high",G.onload=()=>{G.onerror=G.onload=null,V({data:G})},G.onerror=()=>{G.onerror=G.onload=null,B.signal.aborted||W(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))},G.src=K})}(F||(F={})),F.resetRequestQueue();class H{constructor(a){this._transformRequestFn=a!=null?a:null}transformRequest(a,f){return this._transformRequestFn&&this._transformRequestFn(a,f)||{url:a}}setTransformRequest(a){this._transformRequestFn=a}}function Y(x){let a=[];if(typeof x=="string")a.push({id:"default",url:x});else if(x&&x.length>0){let f=[];for(let{id:m,url:y}of x){let w=`${m}${y}`;f.indexOf(w)===-1&&(f.push(w),a.push({id:m,url:y}))}}return a}function te(x,a,f){try{let m=new URL(x);return m.pathname+=`${a}${f}`,m.toString()}catch(m){throw new Error(`Invalid sprite URL "${x}", must be absolute. Modify style specification directly or use TransformStyleFunction to correct the issue dynamically`)}}function oe(x){let{userImage:a}=x;return!!(a&&a.render&&a.render())&&(x.data.replace(new Uint8Array(a.data.buffer)),!0)}class ue extends o.E{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new o.R({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(a){if(this.loaded!==a&&(this.loaded=a,a)){for(let{ids:f,promiseResolve:m}of this.requestors)m(this._getImagesForIds(f));this.requestors=[]}}getImage(a){let f=this.images[a];if(f&&!f.data&&f.spriteData){let m=f.spriteData;f.data=new o.R({width:m.width,height:m.height},m.context.getImageData(m.x,m.y,m.width,m.height).data),f.spriteData=null}return f}addImage(a,f){if(this.images[a])throw new Error(`Image id ${a} already exist, use updateImage instead`);this._validate(a,f)&&(this.images[a]=f)}_validate(a,f){let m=!0,y=f.data||f.spriteData;return this._validateStretch(f.stretchX,y&&y.width)||(this.fire(new o.k(new Error(`Image "${a}" has invalid "stretchX" value`))),m=!1),this._validateStretch(f.stretchY,y&&y.height)||(this.fire(new o.k(new Error(`Image "${a}" has invalid "stretchY" value`))),m=!1),this._validateContent(f.content,f)||(this.fire(new o.k(new Error(`Image "${a}" has invalid "content" value`))),m=!1),m}_validateStretch(a,f){if(!a)return!0;let m=0;for(let y of a){if(y[0]<m||y[1]<y[0]||f<y[1])return!1;m=y[1]}return!0}_validateContent(a,f){if(!a)return!0;if(a.length!==4)return!1;let m=f.spriteData,y=m&&m.width||f.data.width,w=m&&m.height||f.data.height;return!(a[0]<0||y<a[0]||a[1]<0||w<a[1]||a[2]<0||y<a[2]||a[3]<0||w<a[3]||a[2]<a[0]||a[3]<a[1])}updateImage(a,f,m=!0){let y=this.getImage(a);if(m&&(y.data.width!==f.data.width||y.data.height!==f.data.height))throw new Error(`size mismatch between old image (${y.data.width}x${y.data.height}) and new image (${f.data.width}x${f.data.height}).`);f.version=y.version+1,this.images[a]=f,this.updatedImages[a]=!0}removeImage(a){let f=this.images[a];delete this.images[a],delete this.patterns[a],f.userImage&&f.userImage.onRemove&&f.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(a){return new Promise((f,m)=>{let y=!0;if(!this.isLoaded())for(let w of a)this.images[w]||(y=!1);this.isLoaded()||y?f(this._getImagesForIds(a)):this.requestors.push({ids:a,promiseResolve:f})})}_getImagesForIds(a){let f={};for(let m of a){let y=this.getImage(m);y||(this.fire(new o.l("styleimagemissing",{id:m})),y=this.getImage(m)),y?f[m]={data:y.data.clone(),pixelRatio:y.pixelRatio,sdf:y.sdf,version:y.version,stretchX:y.stretchX,stretchY:y.stretchY,content:y.content,textFitWidth:y.textFitWidth,textFitHeight:y.textFitHeight,hasRenderCallback:!!(y.userImage&&y.userImage.render)}:o.w(`Image "${m}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}return f}getPixelSize(){let{width:a,height:f}=this.atlasImage;return{width:a,height:f}}getPattern(a){let f=this.patterns[a],m=this.getImage(a);if(!m)return null;if(f&&f.position.version===m.version)return f.position;if(f)f.position.version=m.version;else{let y={w:m.data.width+2,h:m.data.height+2,x:0,y:0},w=new o.I(y,m);this.patterns[a]={bin:y,position:w}}return this._updatePatternAtlas(),this.patterns[a].position}bind(a){let f=a.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new o.T(a,this.atlasImage,f.RGBA),this.atlasTexture.bind(f.LINEAR,f.CLAMP_TO_EDGE)}_updatePatternAtlas(){let a=[];for(let w in this.patterns)a.push(this.patterns[w].bin);let{w:f,h:m}=o.p(a),y=this.atlasImage;y.resize({width:f||1,height:m||1});for(let w in this.patterns){let{bin:M}=this.patterns[w],D=M.x+1,k=M.y+1,B=this.getImage(w).data,V=B.width,W=B.height;o.R.copy(B,y,{x:0,y:0},{x:D,y:k},{width:V,height:W}),o.R.copy(B,y,{x:0,y:W-1},{x:D,y:k-1},{width:V,height:1}),o.R.copy(B,y,{x:0,y:0},{x:D,y:k+W},{width:V,height:1}),o.R.copy(B,y,{x:V-1,y:0},{x:D-1,y:k},{width:1,height:W}),o.R.copy(B,y,{x:0,y:0},{x:D+V,y:k},{width:1,height:W})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(a){for(let f of a){if(this.callbackDispatchedThisFrame[f])continue;this.callbackDispatchedThisFrame[f]=!0;let m=this.getImage(f);m||o.w(`Image with ID: "${f}" was not found`),oe(m)&&this.updateImage(f,m)}}}let Ie=1e20;function Ee(x,a,f,m,y,w,M,D,k){for(let B=a;B<a+m;B++)ve(x,f*w+B,w,y,M,D,k);for(let B=f;B<f+y;B++)ve(x,B*w+a,1,m,M,D,k)}function ve(x,a,f,m,y,w,M){w[0]=0,M[0]=-Ie,M[1]=Ie,y[0]=x[a];for(let D=1,k=0,B=0;D<m;D++){y[D]=x[a+D*f];let V=D*D;do{let W=w[k];B=(y[D]-y[W]+V-W*W)/(D-W)/2}while(B<=M[k]&&--k>-1);k++,w[k]=D,M[k]=B,M[k+1]=Ie}for(let D=0,k=0;D<m;D++){for(;M[k+1]<D;)k++;let B=w[k],V=D-B;x[a+D*f]=y[B]+V*V}}class xe{constructor(a,f,m){this.requestManager=a,this.localIdeographFontFamily=f,this.entries={},this.lang=m}setURL(a){this.url=a}getGlyphs(a){return o._(this,void 0,void 0,function*(){let f=[];for(let w in a)for(let M of a[w])f.push(this._getAndCacheGlyphsPromise(w,M));let m=yield Promise.all(f),y={};for(let{stack:w,id:M,glyph:D}of m)y[w]||(y[w]={}),y[w][M]=D&&{id:D.id,bitmap:D.bitmap.clone(),metrics:D.metrics};return y})}_getAndCacheGlyphsPromise(a,f){return o._(this,void 0,void 0,function*(){let m=this.entries[a];m||(m=this.entries[a]={glyphs:{},requests:{},ranges:{}});let y=m.glyphs[f];if(y!==void 0)return{stack:a,id:f,glyph:y};if(y=this._tinySDF(m,a,f),y)return m.glyphs[f]=y,{stack:a,id:f,glyph:y};let w=Math.floor(f/256);if(256*w>65535)throw new Error("glyphs > 65535 not supported");if(m.ranges[w])return{stack:a,id:f,glyph:y};if(!this.url)throw new Error("glyphsUrl is not set");if(!m.requests[w]){let D=xe.loadGlyphRange(a,w,this.url,this.requestManager);m.requests[w]=D}let M=yield m.requests[w];for(let D in M)this._doesCharSupportLocalGlyph(+D)||(m.glyphs[+D]=M[+D]);return m.ranges[w]=!0,{stack:a,id:f,glyph:M[f]||null}})}_doesCharSupportLocalGlyph(a){return!!this.localIdeographFontFamily&&(new RegExp("\\p{Ideo}|\\p{sc=Hang}|\\p{sc=Hira}|\\p{sc=Kana}","u").test(String.fromCodePoint(a))||o.u["CJK Unified Ideographs"](a)||o.u["Hangul Syllables"](a)||o.u.Hiragana(a)||o.u.Katakana(a)||o.u["CJK Symbols and Punctuation"](a)||o.u["Halfwidth and Fullwidth Forms"](a))}_tinySDF(a,f,m){let y=this.localIdeographFontFamily;if(!y||!this._doesCharSupportLocalGlyph(m))return;let w=a.tinySDF;if(!w){let D="400";/bold/i.test(f)?D="900":/medium/i.test(f)?D="500":/light/i.test(f)&&(D="200"),w=a.tinySDF=new xe.TinySDF({fontSize:48,buffer:6,radius:16,cutoff:.25,lang:this.lang,fontFamily:y,fontWeight:D})}let M=w.draw(String.fromCharCode(m));return{id:m,bitmap:new o.q({width:M.width||60,height:M.height||60},M.data),metrics:{width:M.glyphWidth/2||24,height:M.glyphHeight/2||24,left:M.glyphLeft/2+.5||0,top:M.glyphTop/2-27.5||-8,advance:M.glyphAdvance/2||24,isDoubleResolution:!0}}}}xe.loadGlyphRange=function(x,a,f,m){return o._(this,void 0,void 0,function*(){let y=256*a,w=y+255,M=m.transformRequest(f.replace("{fontstack}",x).replace("{range}",`${y}-${w}`),"Glyphs"),D=yield o.n(M,new AbortController);if(!D||!D.data)throw new Error(`Could not load glyph range. range: ${a}, ${y}-${w}`);let k={};for(let B of o.o(D.data))k[B.id]=B;return k})},xe.TinySDF=class{constructor({fontSize:x=24,buffer:a=3,radius:f=8,cutoff:m=.25,fontFamily:y="sans-serif",fontWeight:w="normal",fontStyle:M="normal",lang:D=null}={}){this.buffer=a,this.cutoff=m,this.radius=f,this.lang=D;let k=this.size=x+4*a,B=this._createCanvas(k),V=this.ctx=B.getContext("2d",{willReadFrequently:!0});V.font=`${M} ${w} ${x}px ${y}`,V.textBaseline="alphabetic",V.textAlign="left",V.fillStyle="black",this.gridOuter=new Float64Array(k*k),this.gridInner=new Float64Array(k*k),this.f=new Float64Array(k),this.z=new Float64Array(k+1),this.v=new Uint16Array(k)}_createCanvas(x){let a=document.createElement("canvas");return a.width=a.height=x,a}draw(x){let{width:a,actualBoundingBoxAscent:f,actualBoundingBoxDescent:m,actualBoundingBoxLeft:y,actualBoundingBoxRight:w}=this.ctx.measureText(x),M=Math.ceil(f),D=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(w-y))),k=Math.min(this.size-this.buffer,M+Math.ceil(m)),B=D+2*this.buffer,V=k+2*this.buffer,W=Math.max(B*V,0),G=new Uint8ClampedArray(W),K={data:G,width:B,height:V,glyphWidth:D,glyphHeight:k,glyphTop:M,glyphLeft:0,glyphAdvance:a};if(D===0||k===0)return K;let{ctx:ee,buffer:pe,gridInner:ce,gridOuter:fe}=this;this.lang&&(ee.lang=this.lang),ee.clearRect(pe,pe,D,k),ee.fillText(x,pe,pe+M);let ge=ee.getImageData(pe,pe,D,k);fe.fill(Ie,0,W),ce.fill(0,0,W);for(let Te=0;Te<k;Te++)for(let be=0;be<D;be++){let Ae=ge.data[4*(Te*D+be)+3]/255;if(Ae===0)continue;let Ne=(Te+pe)*B+be+pe;if(Ae===1)fe[Ne]=0,ce[Ne]=Ie;else{let Se=.5-Ae;fe[Ne]=Se>0?Se*Se:0,ce[Ne]=Se<0?Se*Se:0}}Ee(fe,0,0,B,V,B,this.f,this.v,this.z),Ee(ce,pe,pe,D,k,B,this.f,this.v,this.z);for(let Te=0;Te<W;Te++){let be=Math.sqrt(fe[Te])-Math.sqrt(ce[Te]);G[Te]=Math.round(255-255*(be/this.radius+this.cutoff))}return K}};class Pe{constructor(){this.specification=o.v.light.position}possiblyEvaluate(a,f){return o.B(a.expression.evaluate(f))}interpolate(a,f,m){return{x:o.C.number(a.x,f.x,m),y:o.C.number(a.y,f.y,m),z:o.C.number(a.z,f.z,m)}}}let we;class Oe extends o.E{constructor(a){super(),we=we||new o.r({anchor:new o.D(o.v.light.anchor),position:new Pe,color:new o.D(o.v.light.color),intensity:new o.D(o.v.light.intensity)}),this._transitionable=new o.t(we),this.setLight(a),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(a,f={}){if(!this._validate(o.x,a,f))for(let m in a){let y=a[m];m.endsWith("-transition")?this._transitionable.setTransition(m.slice(0,-11),y):this._transitionable.setValue(m,y)}}updateTransitions(a){this._transitioning=this._transitionable.transitioned(a,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(a){this.properties=this._transitioning.possiblyEvaluate(a)}_validate(a,f,m){return(!m||m.validate!==!1)&&o.y(this,a.call(o.z,{value:f,style:{glyphs:!0,sprite:!0},styleSpec:o.v}))}}let Xe=new o.r({"sky-color":new o.D(o.v.sky["sky-color"]),"horizon-color":new o.D(o.v.sky["horizon-color"]),"fog-color":new o.D(o.v.sky["fog-color"]),"fog-ground-blend":new o.D(o.v.sky["fog-ground-blend"]),"horizon-fog-blend":new o.D(o.v.sky["horizon-fog-blend"]),"sky-horizon-blend":new o.D(o.v.sky["sky-horizon-blend"]),"atmosphere-blend":new o.D(o.v.sky["atmosphere-blend"])});class lt extends o.E{constructor(a){super(),this._transitionable=new o.t(Xe),this.setSky(a),this._transitioning=this._transitionable.untransitioned(),this.recalculate(new o.F(0))}setSky(a,f={}){if(!this._validate(o.G,a,f)){a||(a={"sky-color":"transparent","horizon-color":"transparent","fog-color":"transparent","fog-ground-blend":1,"atmosphere-blend":0});for(let m in a){let y=a[m];m.endsWith("-transition")?this._transitionable.setTransition(m.slice(0,-11),y):this._transitionable.setValue(m,y)}}}getSky(){return this._transitionable.serialize()}updateTransitions(a){this._transitioning=this._transitionable.transitioned(a,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(a){this.properties=this._transitioning.possiblyEvaluate(a)}_validate(a,f,m={}){return(m==null?void 0:m.validate)!==!1&&o.y(this,a.call(o.z,o.e({value:f,style:{glyphs:!0,sprite:!0},styleSpec:o.v})))}calculateFogBlendOpacity(a){return a<60?0:a<70?(a-60)/10:1}}class pt{constructor(a,f){this.width=a,this.height=f,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}}getDash(a,f){let m=a.join(",")+String(f);return this.dashEntry[m]||(this.dashEntry[m]=this.addDash(a,f)),this.dashEntry[m]}getDashRanges(a,f,m){let y=[],w=a.length%2==1?-a[a.length-1]*m:0,M=a[0]*m,D=!0;y.push({left:w,right:M,isDash:D,zeroLength:a[0]===0});let k=a[0];for(let B=1;B<a.length;B++){D=!D;let V=a[B];w=k*m,k+=V,M=k*m,y.push({left:w,right:M,isDash:D,zeroLength:V===0})}return y}addRoundDash(a,f,m){let y=f/2;for(let w=-m;w<=m;w++){let M=this.width*(this.nextRow+m+w),D=0,k=a[D];for(let B=0;B<this.width;B++){B/k.right>1&&(k=a[++D]);let V=Math.abs(B-k.left),W=Math.abs(B-k.right),G=Math.min(V,W),K,ee=w/m*(y+1);if(k.isDash){let pe=y-Math.abs(ee);K=Math.sqrt(G*G+pe*pe)}else K=y-Math.sqrt(G*G+ee*ee);this.data[M+B]=Math.max(0,Math.min(255,K+128))}}}addRegularDash(a){for(let D=a.length-1;D>=0;--D){let k=a[D],B=a[D+1];k.zeroLength?a.splice(D,1):B&&B.isDash===k.isDash&&(B.left=k.left,a.splice(D,1))}let f=a[0],m=a[a.length-1];f.isDash===m.isDash&&(f.left=m.left-this.width,m.right=f.right+this.width);let y=this.width*this.nextRow,w=0,M=a[w];for(let D=0;D<this.width;D++){D/M.right>1&&(M=a[++w]);let k=Math.abs(D-M.left),B=Math.abs(D-M.right),V=Math.min(k,B);this.data[y+D]=Math.max(0,Math.min(255,(M.isDash?V:-V)+128))}}addDash(a,f){let m=f?7:0,y=2*m+1;if(this.nextRow+y>this.height)return o.w("LineAtlas out of space"),null;let w=0;for(let D=0;D<a.length;D++)w+=a[D];if(w!==0){let D=this.width/w,k=this.getDashRanges(a,this.width,D);f?this.addRoundDash(k,D,m):this.addRegularDash(k)}let M={y:(this.nextRow+m+.5)/this.height,height:2*m/this.height,width:w};return this.nextRow+=y,this.dirty=!0,M}bind(a){let f=a.gl;this.texture?(f.bindTexture(f.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,f.texSubImage2D(f.TEXTURE_2D,0,0,0,this.width,this.height,f.ALPHA,f.UNSIGNED_BYTE,this.data))):(this.texture=f.createTexture(),f.bindTexture(f.TEXTURE_2D,this.texture),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,f.REPEAT),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,f.REPEAT),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,f.LINEAR),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,f.LINEAR),f.texImage2D(f.TEXTURE_2D,0,f.ALPHA,this.width,this.height,0,f.ALPHA,f.UNSIGNED_BYTE,this.data))}}let qe="maplibre_preloaded_worker_pool";class ut{constructor(){this.active={}}acquire(a){if(!this.workers)for(this.workers=[];this.workers.length<ut.workerCount;)this.workers.push(new Worker(o.a.WORKER_URL));return this.active[a]=!0,this.workers.slice()}release(a){delete this.active[a],this.numActive()===0&&(this.workers.forEach(f=>{f.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[qe]}numActive(){return Object.keys(this.active).length}}let bt=Math.floor(I.hardwareConcurrency/2),wt,Ge;function st(){return wt||(wt=new ut),wt}ut.workerCount=o.H(globalThis)?Math.max(Math.min(bt,3),1):1;class tt{constructor(a,f){this.workerPool=a,this.actors=[],this.currentActor=0,this.id=f;let m=this.workerPool.acquire(f);for(let y=0;y<m.length;y++){let w=new o.J(m[y],f);w.name=`Worker ${y}`,this.actors.push(w)}if(!this.actors.length)throw new Error("No actors found")}broadcast(a,f){let m=[];for(let y of this.actors)m.push(y.sendAsync({type:a,data:f}));return Promise.all(m)}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(a=!0){this.actors.forEach(f=>{f.remove()}),this.actors=[],a&&this.workerPool.release(this.id)}registerMessageHandler(a,f){for(let m of this.actors)m.registerMessageHandler(a,f)}}function je(){return Ge||(Ge=new tt(st(),o.K),Ge.registerMessageHandler("GR",(x,a,f)=>o.m(a,f))),Ge}function Me(x,a){let f=o.L();return o.M(f,f,[1,1,0]),o.N(f,f,[.5*x.width,.5*x.height,1]),x.calculatePosMatrix?o.O(f,f,x.calculatePosMatrix(a.toUnwrapped())):f}function $e(x,a,f,m,y,w,M){var D;let k=function(G,K,ee){if(G)for(let pe of G){let ce=K[pe];if(ce&&ce.source===ee&&ce.type==="fill-extrusion")return!0}else for(let pe in K){let ce=K[pe];if(ce.source===ee&&ce.type==="fill-extrusion")return!0}return!1}((D=y==null?void 0:y.layers)!==null&&D!==void 0?D:null,a,x.id),B=w.maxPitchScaleFactor(),V=x.tilesIn(m,B,k);V.sort(ze);let W=[];for(let G of V)W.push({wrappedTileID:G.tileID.wrapped().key,queryResults:G.tile.queryRenderedFeatures(a,f,x._state,G.queryGeometry,G.cameraQueryGeometry,G.scale,y,w,B,Me(x.transform,G.tileID),M?(K,ee)=>M(G.tileID,K,ee):void 0)});return function(G,K){for(let ee in G)for(let pe of G[ee])ot(pe,K);return G}(function(G){let K={},ee={};for(let pe of G){let ce=pe.queryResults,fe=pe.wrappedTileID,ge=ee[fe]=ee[fe]||{};for(let Te in ce){let be=ce[Te],Ae=ge[Te]=ge[Te]||{},Ne=K[Te]=K[Te]||[];for(let Se of be)Ae[Se.featureIndex]||(Ae[Se.featureIndex]=!0,Ne.push(Se))}}return K}(W),x)}function ze(x,a){let f=x.tileID,m=a.tileID;return f.overscaledZ-m.overscaledZ||f.canonical.y-m.canonical.y||f.wrap-m.wrap||f.canonical.x-m.canonical.x}function ot(x,a){let f=x.feature,m=a.getFeatureState(f.layer["source-layer"],f.id);f.source=f.layer.source,f.layer["source-layer"]&&(f.sourceLayer=f.layer["source-layer"]),f.state=m}function it(x,a,f){return o._(this,void 0,void 0,function*(){let m=x;if(x.url?m=(yield o.j(a.transformRequest(x.url,"Source"),f)).data:yield I.frameAsync(f),!m)return null;let y=o.Q(o.e(m,x),["tiles","minzoom","maxzoom","attribution","bounds","scheme","tileSize","encoding"]);return"vector_layers"in m&&m.vector_layers&&(y.vectorLayerIds=m.vector_layers.map(w=>w.id)),y})}class vt{constructor(a,f){a&&(f?this.setSouthWest(a).setNorthEast(f):Array.isArray(a)&&(a.length===4?this.setSouthWest([a[0],a[1]]).setNorthEast([a[2],a[3]]):this.setSouthWest(a[0]).setNorthEast(a[1])))}setNorthEast(a){return this._ne=a instanceof o.S?new o.S(a.lng,a.lat):o.S.convert(a),this}setSouthWest(a){return this._sw=a instanceof o.S?new o.S(a.lng,a.lat):o.S.convert(a),this}extend(a){let f=this._sw,m=this._ne,y,w;if(a instanceof o.S)y=a,w=a;else{if(!(a instanceof vt))return Array.isArray(a)?a.length===4||a.every(Array.isArray)?this.extend(vt.convert(a)):this.extend(o.S.convert(a)):a&&("lng"in a||"lon"in a)&&"lat"in a?this.extend(o.S.convert(a)):this;if(y=a._sw,w=a._ne,!y||!w)return this}return f||m?(f.lng=Math.min(y.lng,f.lng),f.lat=Math.min(y.lat,f.lat),m.lng=Math.max(w.lng,m.lng),m.lat=Math.max(w.lat,m.lat)):(this._sw=new o.S(y.lng,y.lat),this._ne=new o.S(w.lng,w.lat)),this}getCenter(){return new o.S((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new o.S(this.getWest(),this.getNorth())}getSouthEast(){return new o.S(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(a){let{lng:f,lat:m}=o.S.convert(a),y=this._sw.lng<=f&&f<=this._ne.lng;return this._sw.lng>this._ne.lng&&(y=this._sw.lng>=f&&f>=this._ne.lng),this._sw.lat<=m&&m<=this._ne.lat&&y}static convert(a){return a instanceof vt?a:a&&new vt(a)}static fromLngLat(a,f=0){let m=360*f/40075017,y=m/Math.cos(Math.PI/180*a.lat);return new vt(new o.S(a.lng-y,a.lat-m),new o.S(a.lng+y,a.lat+m))}adjustAntiMeridian(){let a=new o.S(this._sw.lng,this._sw.lat),f=new o.S(this._ne.lng,this._ne.lat);return new vt(a,a.lng>f.lng?new o.S(f.lng+360,f.lat):f)}}class ht{constructor(a,f,m){this.bounds=vt.convert(this.validateBounds(a)),this.minzoom=f||0,this.maxzoom=m||24}validateBounds(a){return Array.isArray(a)&&a.length===4?[Math.max(-180,a[0]),Math.max(-90,a[1]),Math.min(180,a[2]),Math.min(90,a[3])]:[-180,-90,180,90]}contains(a){let f=Math.pow(2,a.z),m=Math.floor(o.V(this.bounds.getWest())*f),y=Math.floor(o.U(this.bounds.getNorth())*f),w=Math.ceil(o.V(this.bounds.getEast())*f),M=Math.ceil(o.U(this.bounds.getSouth())*f);return a.x>=m&&a.x<w&&a.y>=y&&a.y<M}}class It extends o.E{constructor(a,f,m,y){if(super(),this.id=a,this.dispatcher=m,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,o.e(this,o.Q(f,["url","scheme","tileSize","promoteId"])),this._options=o.e({type:"vector"},f),this._collectResourceTiming=f.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(y)}load(){return o._(this,void 0,void 0,function*(){this._loaded=!1,this.fire(new o.l("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{let a=yield it(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,this.map.style.sourceCaches[this.id].clearTiles(),a&&(o.e(this,a),a.bounds&&(this.tileBounds=new ht(a.bounds,this.minzoom,this.maxzoom)),this.fire(new o.l("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new o.l("data",{dataType:"source",sourceDataType:"content"})))}catch(a){this._tileJSONRequest=null,this.fire(new o.k(a))}})}loaded(){return this._loaded}hasTile(a){return!this.tileBounds||this.tileBounds.contains(a.canonical)}onAdd(a){this.map=a,this.load()}setSourceProperty(a){this._tileJSONRequest&&this._tileJSONRequest.abort(),a(),this.load()}setTiles(a){return this.setSourceProperty(()=>{this._options.tiles=a}),this}setUrl(a){return this.setSourceProperty(()=>{this.url=a,this._options.url=a}),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null)}serialize(){return o.e({},this._options)}loadTile(a){return o._(this,void 0,void 0,function*(){let f=a.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),m={request:this.map._requestManager.transformRequest(f,"Tile"),uid:a.uid,tileID:a.tileID,zoom:a.tileID.overscaledZ,tileSize:this.tileSize*a.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,subdivisionGranularity:this.map.style.projection.subdivisionGranularity,globalState:this.map.getGlobalState()};m.request.collectResourceTiming=this._collectResourceTiming;let y="RT";if(a.actor&&a.state!=="expired"){if(a.state==="loading")return new Promise((w,M)=>{a.reloadPromise={resolve:w,reject:M}})}else a.actor=this.dispatcher.getActor(),y="LT";a.abortController=new AbortController;try{let w=yield a.actor.sendAsync({type:y,data:m},a.abortController);if(delete a.abortController,a.aborted)return;this._afterTileLoadWorkerResponse(a,w)}catch(w){if(delete a.abortController,a.aborted)return;if(w&&w.status!==404)throw w;this._afterTileLoadWorkerResponse(a,null)}})}_afterTileLoadWorkerResponse(a,f){if(f&&f.resourceTiming&&(a.resourceTiming=f.resourceTiming),f&&this.map._refreshExpiredTiles&&a.setExpiryData(f),a.loadVectorData(f,this.map.painter),a.reloadPromise){let m=a.reloadPromise;a.reloadPromise=null,this.loadTile(a).then(m.resolve).catch(m.reject)}}abortTile(a){return o._(this,void 0,void 0,function*(){a.abortController&&(a.abortController.abort(),delete a.abortController),a.actor&&(yield a.actor.sendAsync({type:"AT",data:{uid:a.uid,type:this.type,source:this.id}}))})}unloadTile(a){return o._(this,void 0,void 0,function*(){a.unloadVectorData(),a.actor&&(yield a.actor.sendAsync({type:"RMT",data:{uid:a.uid,type:this.type,source:this.id}}))})}hasTransition(){return!1}}class Wt extends o.E{constructor(a,f,m,y){super(),this.id=a,this.dispatcher=m,this.setEventedParent(y),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=o.e({type:"raster"},f),o.e(this,o.Q(f,["url","scheme","tileSize"]))}load(){return o._(this,arguments,void 0,function*(a=!1){this._loaded=!1,this.fire(new o.l("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{let f=yield it(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,f&&(o.e(this,f),f.bounds&&(this.tileBounds=new ht(f.bounds,this.minzoom,this.maxzoom)),this.fire(new o.l("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new o.l("data",{dataType:"source",sourceDataType:"content",sourceDataChanged:a})))}catch(f){this._tileJSONRequest=null,this.fire(new o.k(f))}})}loaded(){return this._loaded}onAdd(a){this.map=a,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null)}setSourceProperty(a){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null),a(),this.load(!0)}setTiles(a){return this.setSourceProperty(()=>{this._options.tiles=a}),this}setUrl(a){return this.setSourceProperty(()=>{this.url=a,this._options.url=a}),this}serialize(){return o.e({},this._options)}hasTile(a){return!this.tileBounds||this.tileBounds.contains(a.canonical)}loadTile(a){return o._(this,void 0,void 0,function*(){let f=a.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);a.abortController=new AbortController;try{let m=yield F.getImage(this.map._requestManager.transformRequest(f,"Tile"),a.abortController,this.map._refreshExpiredTiles);if(delete a.abortController,a.aborted)return void(a.state="unloaded");if(m&&m.data){this.map._refreshExpiredTiles&&(m.cacheControl||m.expires)&&a.setExpiryData({cacheControl:m.cacheControl,expires:m.expires});let y=this.map.painter.context,w=y.gl,M=m.data;a.texture=this.map.painter.getTileTexture(M.width),a.texture?a.texture.update(M,{useMipmap:!0}):(a.texture=new o.T(y,M,w.RGBA,{useMipmap:!0}),a.texture.bind(w.LINEAR,w.CLAMP_TO_EDGE,w.LINEAR_MIPMAP_NEAREST)),a.state="loaded"}}catch(m){if(delete a.abortController,a.aborted)a.state="unloaded";else if(m)throw a.state="errored",m}})}abortTile(a){return o._(this,void 0,void 0,function*(){a.abortController&&(a.abortController.abort(),delete a.abortController)})}unloadTile(a){return o._(this,void 0,void 0,function*(){a.texture&&this.map.painter.saveTileTexture(a.texture)})}hasTransition(){return!1}}class Et extends Wt{constructor(a,f,m,y){super(a,f,m,y),this.type="raster-dem",this.maxzoom=22,this._options=o.e({type:"raster-dem"},f),this.encoding=f.encoding||"mapbox",this.redFactor=f.redFactor,this.greenFactor=f.greenFactor,this.blueFactor=f.blueFactor,this.baseShift=f.baseShift}loadTile(a){return o._(this,void 0,void 0,function*(){let f=a.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),m=this.map._requestManager.transformRequest(f,"Tile");a.neighboringTiles=this._getNeighboringTiles(a.tileID),a.abortController=new AbortController;try{let y=yield F.getImage(m,a.abortController,this.map._refreshExpiredTiles);if(delete a.abortController,a.aborted)return void(a.state="unloaded");if(y&&y.data){let w=y.data;this.map._refreshExpiredTiles&&(y.cacheControl||y.expires)&&a.setExpiryData({cacheControl:y.cacheControl,expires:y.expires});let M=o.b(w)&&o.W()?w:yield this.readImageNow(w),D={type:this.type,uid:a.uid,source:this.id,rawImageData:M,encoding:this.encoding,redFactor:this.redFactor,greenFactor:this.greenFactor,blueFactor:this.blueFactor,baseShift:this.baseShift};if(!a.actor||a.state==="expired"){a.actor=this.dispatcher.getActor();let k=yield a.actor.sendAsync({type:"LDT",data:D});a.dem=k,a.needsHillshadePrepare=!0,a.needsTerrainPrepare=!0,a.state="loaded"}}}catch(y){if(delete a.abortController,a.aborted)a.state="unloaded";else if(y)throw a.state="errored",y}})}readImageNow(a){return o._(this,void 0,void 0,function*(){if(typeof VideoFrame!="undefined"&&o.X()){let f=a.width+2,m=a.height+2;try{return new o.R({width:f,height:m},yield o.Y(a,-1,-1,f,m))}catch(y){}}return I.getImageData(a,1)})}_getNeighboringTiles(a){let f=a.canonical,m=Math.pow(2,f.z),y=(f.x-1+m)%m,w=f.x===0?a.wrap-1:a.wrap,M=(f.x+1+m)%m,D=f.x+1===m?a.wrap+1:a.wrap,k={};return k[new o.Z(a.overscaledZ,w,f.z,y,f.y).key]={backfilled:!1},k[new o.Z(a.overscaledZ,D,f.z,M,f.y).key]={backfilled:!1},f.y>0&&(k[new o.Z(a.overscaledZ,w,f.z,y,f.y-1).key]={backfilled:!1},k[new o.Z(a.overscaledZ,a.wrap,f.z,f.x,f.y-1).key]={backfilled:!1},k[new o.Z(a.overscaledZ,D,f.z,M,f.y-1).key]={backfilled:!1}),f.y+1<m&&(k[new o.Z(a.overscaledZ,w,f.z,y,f.y+1).key]={backfilled:!1},k[new o.Z(a.overscaledZ,a.wrap,f.z,f.x,f.y+1).key]={backfilled:!1},k[new o.Z(a.overscaledZ,D,f.z,M,f.y+1).key]={backfilled:!1}),k}unloadTile(a){return o._(this,void 0,void 0,function*(){a.demTexture&&this.map.painter.saveTileTexture(a.demTexture),a.fbo&&(a.fbo.destroy(),delete a.fbo),a.dem&&delete a.dem,delete a.neighboringTiles,a.state="unloaded",a.actor&&(yield a.actor.sendAsync({type:"RDT",data:{type:this.type,uid:a.uid,source:this.id}}))})}}class kt extends o.E{constructor(a,f,m,y){super(),this.id=a,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._isUpdatingWorker=!1,this._pendingWorkerUpdate={data:f.data},this.actor=m.getActor(),this.setEventedParent(y),this._data=f.data,this._options=o.e({},f),this._collectResourceTiming=f.collectResourceTiming,f.maxzoom!==void 0&&(this.maxzoom=f.maxzoom),f.type&&(this.type=f.type),f.attribution&&(this.attribution=f.attribution),this.promoteId=f.promoteId,f.clusterMaxZoom!==void 0&&this.maxzoom<=f.clusterMaxZoom&&o.w(`The maxzoom value "${this.maxzoom}" is expected to be greater than the clusterMaxZoom value "${f.clusterMaxZoom}".`),this.workerOptions=o.e({source:this.id,cluster:f.cluster||!1,geojsonVtOptions:{buffer:this._pixelsToTileUnits(f.buffer!==void 0?f.buffer:128),tolerance:this._pixelsToTileUnits(f.tolerance!==void 0?f.tolerance:.375),extent:o.$,maxZoom:this.maxzoom,lineMetrics:f.lineMetrics||!1,generateId:f.generateId||!1},superclusterOptions:{maxZoom:this._getClusterMaxZoom(f.clusterMaxZoom),minPoints:Math.max(2,f.clusterMinPoints||2),extent:o.$,radius:this._pixelsToTileUnits(f.clusterRadius||50),log:!1,generateId:f.generateId||!1},clusterProperties:f.clusterProperties,filter:f.filter},f.workerOptions),typeof this.promoteId=="string"&&(this.workerOptions.promoteId=this.promoteId)}_pixelsToTileUnits(a){return a*(o.$/this.tileSize)}_getClusterMaxZoom(a){let f=a?Math.round(a):this.maxzoom-1;return Number.isInteger(a)||a===void 0||o.w(`Integer expected for option 'clusterMaxZoom': provided value "${a}" rounded to "${f}"`),f}load(){return o._(this,void 0,void 0,function*(){yield this._updateWorkerData()})}onAdd(a){this.map=a,this.load()}setData(a){return this._data=a,this._pendingWorkerUpdate={data:a},this._updateWorkerData(),this}updateData(a){return this._pendingWorkerUpdate.diff=o.a0(this._pendingWorkerUpdate.diff,a),this._updateWorkerData(),this}getData(){return o._(this,void 0,void 0,function*(){let a=o.e({type:this.type},this.workerOptions);return this.actor.sendAsync({type:"GD",data:a})})}getCoordinatesFromGeometry(a){return a.type==="GeometryCollection"?a.geometries.map(f=>f.coordinates).flat(1/0):a.coordinates.flat(1/0)}getBounds(){return o._(this,void 0,void 0,function*(){let a=new vt,f=yield this.getData(),m;switch(f.type){case"FeatureCollection":m=f.features.map(y=>this.getCoordinatesFromGeometry(y.geometry)).flat(1/0);break;case"Feature":m=this.getCoordinatesFromGeometry(f.geometry);break;default:m=this.getCoordinatesFromGeometry(f)}if(m.length==0)return a;for(let y=0;y<m.length-1;y+=2)a.extend([m[y],m[y+1]]);return a})}setClusterOptions(a){return this.workerOptions.cluster=a.cluster,a&&(a.clusterRadius!==void 0&&(this.workerOptions.superclusterOptions.radius=this._pixelsToTileUnits(a.clusterRadius)),a.clusterMaxZoom!==void 0&&(this.workerOptions.superclusterOptions.maxZoom=this._getClusterMaxZoom(a.clusterMaxZoom))),this._updateWorkerData(),this}getClusterExpansionZoom(a){return this.actor.sendAsync({type:"GCEZ",data:{type:this.type,clusterId:a,source:this.id}})}getClusterChildren(a){return this.actor.sendAsync({type:"GCC",data:{type:this.type,clusterId:a,source:this.id}})}getClusterLeaves(a,f,m){return this.actor.sendAsync({type:"GCL",data:{type:this.type,source:this.id,clusterId:a,limit:f,offset:m}})}_updateWorkerData(){return o._(this,void 0,void 0,function*(){if(this._isUpdatingWorker)return;let{data:a,diff:f}=this._pendingWorkerUpdate;if(!a&&!f)return void o.w(`No data or diff provided to GeoJSONSource ${this.id}.`);let m=o.e({type:this.type},this.workerOptions);a?(typeof a=="string"?(m.request=this.map._requestManager.transformRequest(I.resolveURL(a),"Source"),m.request.collectResourceTiming=this._collectResourceTiming):m.data=JSON.stringify(a),this._pendingWorkerUpdate.data=void 0):f&&(m.dataDiff=f,this._pendingWorkerUpdate.diff=void 0),this._isUpdatingWorker=!0,this.fire(new o.l("dataloading",{dataType:"source"}));try{let y=yield this.actor.sendAsync({type:"LD",data:m});if(this._isUpdatingWorker=!1,this._removed||y.abandoned)return void this.fire(new o.l("dataabort",{dataType:"source"}));this._data=y.data;let w=null;y.resourceTiming&&y.resourceTiming[this.id]&&(w=y.resourceTiming[this.id].slice(0));let M={dataType:"source"};this._collectResourceTiming&&w&&w.length>0&&o.e(M,{resourceTiming:w}),this.fire(new o.l("data",Object.assign(Object.assign({},M),{sourceDataType:"metadata"}))),this.fire(new o.l("data",Object.assign(Object.assign({},M),{sourceDataType:"content"})))}catch(y){if(this._isUpdatingWorker=!1,this._removed)return void this.fire(new o.l("dataabort",{dataType:"source"}));this.fire(new o.k(y))}finally{(this._pendingWorkerUpdate.data||this._pendingWorkerUpdate.diff)&&this._updateWorkerData()}})}loaded(){return!this._isUpdatingWorker&&this._pendingWorkerUpdate.data===void 0&&this._pendingWorkerUpdate.diff===void 0}loadTile(a){return o._(this,void 0,void 0,function*(){let f=a.actor?"RT":"LT";a.actor=this.actor;let m={type:this.type,uid:a.uid,tileID:a.tileID,zoom:a.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,subdivisionGranularity:this.map.style.projection.subdivisionGranularity,globalState:this.map.getGlobalState()};a.abortController=new AbortController;let y=yield this.actor.sendAsync({type:f,data:m},a.abortController);delete a.abortController,a.unloadVectorData(),a.aborted||a.loadVectorData(y,this.map.painter,f==="RT")})}abortTile(a){return o._(this,void 0,void 0,function*(){a.abortController&&(a.abortController.abort(),delete a.abortController),a.aborted=!0})}unloadTile(a){return o._(this,void 0,void 0,function*(){a.unloadVectorData(),yield this.actor.sendAsync({type:"RMT",data:{uid:a.uid,type:this.type,source:this.id}})})}onRemove(){this._removed=!0,this.actor.sendAsync({type:"RS",data:{type:this.type,source:this.id}})}serialize(){return o.e({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}}class Xt extends o.E{constructor(a,f,m,y){super(),this.flippedWindingOrder=!1,this.id=a,this.dispatcher=m,this.coordinates=f.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(y),this.options=f}load(a){return o._(this,void 0,void 0,function*(){this._loaded=!1,this.fire(new o.l("dataloading",{dataType:"source"})),this.url=this.options.url,this._request=new AbortController;try{let f=yield F.getImage(this.map._requestManager.transformRequest(this.url,"Image"),this._request);this._request=null,this._loaded=!0,f&&f.data&&(this.image=f.data,a&&(this.coordinates=a),this._finishLoading())}catch(f){this._request=null,this._loaded=!0,this.fire(new o.k(f))}})}loaded(){return this._loaded}updateImage(a){return a.url?(this._request&&(this._request.abort(),this._request=null),this.options.url=a.url,this.load(a.coordinates).finally(()=>{this.texture=null}),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new o.l("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(a){this.map=a,this.load()}onRemove(){this._request&&(this._request.abort(),this._request=null)}setCoordinates(a){this.coordinates=a;let f=a.map(o.a1.fromLngLat);var m;return this.tileID=function(y){let w=o.a2.fromPoints(y),M=w.width(),D=w.height(),k=Math.max(M,D),B=Math.max(0,Math.floor(-Math.log(k)/Math.LN2)),V=Math.pow(2,B);return new o.a4(B,Math.floor((w.minX+w.maxX)/2*V),Math.floor((w.minY+w.maxY)/2*V))}(f),this.terrainTileRanges=this._getOverlappingTileRanges(f),this.minzoom=this.maxzoom=this.tileID.z,this.tileCoords=f.map(y=>this.tileID.getTilePoint(y)._round()),this.flippedWindingOrder=((m=this.tileCoords)[1].x-m[0].x)*(m[2].y-m[0].y)-(m[1].y-m[0].y)*(m[2].x-m[0].x)<0,this.fire(new o.l("data",{dataType:"source",sourceDataType:"content"})),this}prepare(){if(Object.keys(this.tiles).length===0||!this.image)return;let a=this.map.painter.context,f=a.gl;this.texture||(this.texture=new o.T(a,this.image,f.RGBA),this.texture.bind(f.LINEAR,f.CLAMP_TO_EDGE));let m=!1;for(let y in this.tiles){let w=this.tiles[y];w.state!=="loaded"&&(w.state="loaded",w.texture=this.texture,m=!0)}m&&this.fire(new o.l("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}loadTile(a){return o._(this,void 0,void 0,function*(){this.tileID&&this.tileID.equals(a.tileID.canonical)?(this.tiles[String(a.tileID.wrap)]=a,a.buckets={}):a.state="errored"})}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}_getOverlappingTileRanges(a){let{minX:f,minY:m,maxX:y,maxY:w}=o.a2.fromPoints(a),M={};for(let D=0;D<=o.a3;D++){let k=Math.pow(2,D),B=Math.floor(f*k),V=Math.floor(m*k),W=Math.floor(y*k),G=Math.floor(w*k);M[D]={minTileX:B,minTileY:V,maxTileX:W,maxTileY:G}}return M}}class yr extends Xt{constructor(a,f,m,y){super(a,f,m,y),this.roundZoom=!0,this.type="video",this.options=f}load(){return o._(this,void 0,void 0,function*(){this._loaded=!1;let a=this.options;this.urls=[];for(let f of a.urls)this.urls.push(this.map._requestManager.transformRequest(f,"Source").url);try{let f=yield o.a5(this.urls);if(this._loaded=!0,!f)return;this.video=f,this.video.loop=!0,this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading()}catch(f){this.fire(new o.k(f))}})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(a){if(this.video){let f=this.video.seekable;a<f.start(0)||a>f.end(0)?this.fire(new o.k(new o.a6(`sources.${this.id}`,null,`Playback for this video can be set only between the ${f.start(0)} and ${f.end(0)}-second mark.`))):this.video.currentTime=a}}getVideo(){return this.video}onAdd(a){this.map||(this.map=a,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;let a=this.map.painter.context,f=a.gl;this.texture?this.video.paused||(this.texture.bind(f.LINEAR,f.CLAMP_TO_EDGE),f.texSubImage2D(f.TEXTURE_2D,0,0,0,f.RGBA,f.UNSIGNED_BYTE,this.video)):(this.texture=new o.T(a,this.video,f.RGBA),this.texture.bind(f.LINEAR,f.CLAMP_TO_EDGE));let m=!1;for(let y in this.tiles){let w=this.tiles[y];w.state!=="loaded"&&(w.state="loaded",w.texture=this.texture,m=!0)}m&&this.fire(new o.l("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}}class Pr extends Xt{constructor(a,f,m,y){super(a,f,m,y),f.coordinates?Array.isArray(f.coordinates)&&f.coordinates.length===4&&!f.coordinates.some(w=>!Array.isArray(w)||w.length!==2||w.some(M=>typeof M!="number"))||this.fire(new o.k(new o.a6(`sources.${a}`,null,"\"coordinates\" property must be an array of 4 longitude/latitude array pairs"))):this.fire(new o.k(new o.a6(`sources.${a}`,null,"missing required property \"coordinates\""))),f.animate&&typeof f.animate!="boolean"&&this.fire(new o.k(new o.a6(`sources.${a}`,null,"optional \"animate\" property must be a boolean value"))),f.canvas?typeof f.canvas=="string"||f.canvas instanceof HTMLCanvasElement||this.fire(new o.k(new o.a6(`sources.${a}`,null,"\"canvas\" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance"))):this.fire(new o.k(new o.a6(`sources.${a}`,null,"missing required property \"canvas\""))),this.options=f,this.animate=f.animate===void 0||f.animate}load(){return o._(this,void 0,void 0,function*(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new o.k(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())})}getCanvas(){return this.canvas}onAdd(a){this.map=a,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let a=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,a=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,a=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;let f=this.map.painter.context,m=f.gl;this.texture?(a||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new o.T(f,this.canvas,m.RGBA,{premultiply:!0});let y=!1;for(let w in this.tiles){let M=this.tiles[w];M.state!=="loaded"&&(M.state="loaded",M.texture=this.texture,y=!0)}y&&this.fire(new o.l("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(let a of[this.canvas.width,this.canvas.height])if(isNaN(a)||a<=0)return!0;return!1}}let sr={},Sr=x=>{switch(x){case"geojson":return kt;case"image":return Xt;case"raster":return Wt;case"raster-dem":return Et;case"vector":return It;case"video":return yr;case"canvas":return Pr}return sr[x]},Or="RTLPluginLoaded";class Ur extends o.E{constructor(){super(...arguments),this.status="unavailable",this.url=null,this.dispatcher=je()}_syncState(a){return this.status=a,this.dispatcher.broadcast("SRPS",{pluginStatus:a,pluginURL:this.url}).catch(f=>{throw this.status="error",f})}getRTLTextPluginStatus(){return this.status}clearRTLTextPlugin(){this.status="unavailable",this.url=null}setRTLTextPlugin(a){return o._(this,arguments,void 0,function*(f,m=!1){if(this.url)throw new Error("setRTLTextPlugin cannot be called multiple times.");if(this.url=I.resolveURL(f),!this.url)throw new Error(`requested url ${f} is invalid`);if(this.status==="unavailable"){if(!m)return this._requestImport();this.status="deferred",this._syncState(this.status)}else if(this.status==="requested")return this._requestImport()})}_requestImport(){return o._(this,void 0,void 0,function*(){yield this._syncState("loading"),this.status="loaded",this.fire(new o.l(Or))})}lazyLoad(){this.status==="unavailable"?this.status="requested":this.status==="deferred"&&this._requestImport()}}let er=null;function Vr(){return er||(er=new Ur),er}class xi{constructor(a,f){this.timeAdded=0,this.fadeEndTime=0,this.tileID=a,this.uid=o.a7(),this.uses=0,this.tileSize=f,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.rtt=[],this.rttCoords={},this.expiredRequestCount=0,this.state="loading"}registerFadeDuration(a){let f=a+this.timeAdded;f<this.fadeEndTime||(this.fadeEndTime=f)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}clearTextures(a){this.demTexture&&a.saveTileTexture(this.demTexture),this.demTexture=null}loadVectorData(a,f,m){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",a){a.featureIndex&&(this.latestFeatureIndex=a.featureIndex,a.rawTileData?(this.latestRawTileData=a.rawTileData,this.latestFeatureIndex.rawTileData=a.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=a.collisionBoxArray,this.buckets=function(y,w){let M={};if(!w)return M;for(let D of y){let k=D.layerIds.map(B=>w.getLayer(B)).filter(Boolean);if(k.length!==0){D.layers=k,D.stateDependentLayerIds&&(D.stateDependentLayers=D.stateDependentLayerIds.map(B=>k.filter(V=>V.id===B)[0]));for(let B of k)M[B.id]=D}}return M}(a.buckets,f==null?void 0:f.style),this.hasSymbolBuckets=!1;for(let y in this.buckets){let w=this.buckets[y];if(w instanceof o.a9){if(this.hasSymbolBuckets=!0,!m)break;w.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(let y in this.buckets){let w=this.buckets[y];if(w instanceof o.a9&&w.hasRTLText){this.hasRTLText=!0,Vr().lazyLoad();break}}this.queryPadding=0;for(let y in this.buckets){let w=this.buckets[y];this.queryPadding=Math.max(this.queryPadding,f.style.getLayer(y).queryRadius(w))}a.imageAtlas&&(this.imageAtlas=a.imageAtlas),a.glyphAtlasImage&&(this.glyphAtlasImage=a.glyphAtlasImage)}else this.collisionBoxArray=new o.a8}unloadVectorData(){for(let a in this.buckets)this.buckets[a].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(a){return this.buckets[a.id]}upload(a){for(let m in this.buckets){let y=this.buckets[m];y.uploadPending()&&y.upload(a)}let f=a.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new o.T(a,this.imageAtlas.image,f.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new o.T(a,this.glyphAtlasImage,f.ALPHA),this.glyphAtlasImage=null)}prepare(a){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(a,this.imageAtlasTexture)}queryRenderedFeatures(a,f,m,y,w,M,D,k,B,V,W){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:y,cameraQueryGeometry:w,scale:M,tileSize:this.tileSize,pixelPosMatrix:V,transform:k,params:D,queryPadding:this.queryPadding*B,getElevation:W},a,f,m):{}}querySourceFeatures(a,f){let m=this.latestFeatureIndex;if(!m||!m.rawTileData)return;let y=m.loadVTLayers(),w=f&&f.sourceLayer?f.sourceLayer:"",M=y._geojsonTileLayer||y[w];if(!M)return;let D=o.aa(f&&f.filter),{z:k,x:B,y:V}=this.tileID.canonical,W={z:k,x:B,y:V};for(let G=0;G<M.length;G++){let K=M.feature(G);if(D.needGeometry){let ce=o.ab(K,!0);if(!D.filter(new o.F(this.tileID.overscaledZ),ce,this.tileID.canonical))continue}else if(!D.filter(new o.F(this.tileID.overscaledZ),K))continue;let ee=m.getId(K,w),pe=new o.ac(K,k,B,V,ee);pe.tile=W,a.push(pe)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(a){let f=this.expirationTime;if(a.cacheControl){let m=o.ad(a.cacheControl);m["max-age"]&&(this.expirationTime=Date.now()+1e3*m["max-age"])}else a.expires&&(this.expirationTime=new Date(a.expires).getTime());if(this.expirationTime){let m=Date.now(),y=!1;if(this.expirationTime>m)y=!1;else if(f){if(this.expirationTime<f)y=!0;else{let w=this.expirationTime-f;w?this.expirationTime=m+Math.max(w,3e4):y=!0}}else y=!0;y?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(a,f){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(a).length===0)return;let m=this.latestFeatureIndex.loadVTLayers();for(let y in this.buckets){if(!f.style.hasLayer(y))continue;let w=this.buckets[y],M=w.layers[0].sourceLayer||"_geojsonTileLayer",D=m[M],k=a[M];if(!D||!k||Object.keys(k).length===0)continue;w.update(k,D,this.imageAtlas&&this.imageAtlas.patternPositions||{});let B=f&&f.style&&f.style.getLayer(y);B&&(this.queryPadding=Math.max(this.queryPadding,B.queryRadius(w)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<I.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(a){this.symbolFadeHoldUntil=I.now()+a}setDependencies(a,f){let m={};for(let y of f)m[y]=!0;this.dependencies[a]=m}hasDependency(a,f){for(let m of a){let y=this.dependencies[m];if(y){for(let w of f)if(y[w])return!0}}return!1}}class Le{constructor(a,f){this.max=a,this.onRemove=f,this.reset()}reset(){for(let a in this.data)for(let f of this.data[a])f.timeout&&clearTimeout(f.timeout),this.onRemove(f.value);return this.data={},this.order=[],this}add(a,f,m){let y=a.wrapped().key;this.data[y]===void 0&&(this.data[y]=[]);let w={value:f,timeout:void 0};if(m!==void 0&&(w.timeout=setTimeout(()=>{this.remove(a,w)},m)),this.data[y].push(w),this.order.push(y),this.order.length>this.max){let M=this._getAndRemoveByKey(this.order[0]);M&&this.onRemove(M)}return this}has(a){return a.wrapped().key in this.data}getAndRemove(a){return this.has(a)?this._getAndRemoveByKey(a.wrapped().key):null}_getAndRemoveByKey(a){let f=this.data[a].shift();return f.timeout&&clearTimeout(f.timeout),this.data[a].length===0&&delete this.data[a],this.order.splice(this.order.indexOf(a),1),f.value}getByKey(a){let f=this.data[a];return f?f[0].value:null}get(a){return this.has(a)?this.data[a.wrapped().key][0].value:null}remove(a,f){if(!this.has(a))return this;let m=a.wrapped().key,y=f===void 0?0:this.data[m].indexOf(f),w=this.data[m][y];return this.data[m].splice(y,1),w.timeout&&clearTimeout(w.timeout),this.data[m].length===0&&delete this.data[m],this.onRemove(w.value),this.order.splice(this.order.indexOf(m),1),this}setMaxSize(a){for(this.max=a;this.order.length>this.max;){let f=this._getAndRemoveByKey(this.order[0]);f&&this.onRemove(f)}return this}filter(a){let f=[];for(let m in this.data)for(let y of this.data[m])a(y.value)||f.push(y);for(let m of f)this.remove(m.value.tileID,m)}}class J{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(a,f,m){let y=String(f);if(this.stateChanges[a]=this.stateChanges[a]||{},this.stateChanges[a][y]=this.stateChanges[a][y]||{},o.e(this.stateChanges[a][y],m),this.deletedStates[a]===null){this.deletedStates[a]={};for(let w in this.state[a])w!==y&&(this.deletedStates[a][w]=null)}else if(this.deletedStates[a]&&this.deletedStates[a][y]===null){this.deletedStates[a][y]={};for(let w in this.state[a][y])m[w]||(this.deletedStates[a][y][w]=null)}else for(let w in m)this.deletedStates[a]&&this.deletedStates[a][y]&&this.deletedStates[a][y][w]===null&&delete this.deletedStates[a][y][w]}removeFeatureState(a,f,m){if(this.deletedStates[a]===null)return;let y=String(f);if(this.deletedStates[a]=this.deletedStates[a]||{},m&&f!==void 0)this.deletedStates[a][y]!==null&&(this.deletedStates[a][y]=this.deletedStates[a][y]||{},this.deletedStates[a][y][m]=null);else if(f!==void 0){if(this.stateChanges[a]&&this.stateChanges[a][y])for(m in this.deletedStates[a][y]={},this.stateChanges[a][y])this.deletedStates[a][y][m]=null;else this.deletedStates[a][y]=null;}else this.deletedStates[a]=null}getState(a,f){let m=String(f),y=o.e({},(this.state[a]||{})[m],(this.stateChanges[a]||{})[m]);if(this.deletedStates[a]===null)return{};if(this.deletedStates[a]){let w=this.deletedStates[a][f];if(w===null)return{};for(let M in w)delete y[M]}return y}initializeTileState(a,f){a.setFeatureState(this.state,f)}coalesceChanges(a,f){let m={};for(let y in this.stateChanges){this.state[y]=this.state[y]||{};let w={};for(let M in this.stateChanges[y])this.state[y][M]||(this.state[y][M]={}),o.e(this.state[y][M],this.stateChanges[y][M]),w[M]=this.state[y][M];m[y]=w}for(let y in this.deletedStates){this.state[y]=this.state[y]||{};let w={};if(this.deletedStates[y]===null)for(let M in this.state[y])w[M]={},this.state[y][M]={};else for(let M in this.deletedStates[y]){if(this.deletedStates[y][M]===null)this.state[y][M]={};else for(let D of Object.keys(this.deletedStates[y][M]))delete this.state[y][M][D];w[M]=this.state[y][M]}m[y]=m[y]||{},o.e(m[y],w)}if(this.stateChanges={},this.deletedStates={},Object.keys(m).length!==0)for(let y in a)a[y].setFeatureState(m,f)}}let ne=89.25;function ae(x,a){let f=o.ah(a.lat,-o.ai,o.ai);return new o.P(o.V(a.lng)*x,o.U(f)*x)}function _e(x,a){return new o.a1(a.x/x,a.y/x).toLngLat()}function ke(x){return x.cameraToCenterDistance*Math.min(.85*Math.tan(o.ae(90-x.pitch)),Math.tan(o.ae(ne-x.pitch)))}function Be(x,a){let f=x.canonical,m=a/o.af(f.z),y=f.x+Math.pow(2,f.z)*x.wrap,w=o.ag(new Float64Array(16));return o.M(w,w,[y*m,f.y*m,0]),o.N(w,w,[m/o.$,m/o.$,1]),w}function We(x,a,f,m,y){let w=o.a1.fromLngLat(x,a),M=y*o.aj(1,x.lat),D=M*Math.cos(o.ae(f)),k=Math.sqrt(M*M-D*D),B=k*Math.sin(o.ae(-m)),V=k*Math.cos(o.ae(-m));return new o.a1(w.x+B,w.y+V,w.z+D)}function Ue(x,a,f){let m=a.intersectsFrustum(x);if(!f||m===0)return m;let y=a.intersectsPlane(f);return y===0?0:m===2&&y===2?2:1}function de(x,a,f){let m=0,y=(f-a)/10;for(let w=0;w<10;w++)m+=y*Math.pow(Math.cos(a+(w+.5)/10*(f-a)),x);return m}function he(x,a){return function(f,m,y,w,M){let D=2*((x-1)/o.ak(Math.cos(o.ae(ne-M))/Math.cos(o.ae(ne)))-1),k=Math.acos(y/w),B=2*de(D-1,0,o.ae(M/2)),V=Math.min(o.ae(ne),k+o.ae(M/2)),W=de(D-1,Math.min(V,k-o.ae(M/2)),V),G=Math.atan(m/y),K=Math.hypot(m,y),ee=f;return ee+=o.ak(w/K/Math.max(.5,Math.cos(o.ae(M/2)))),ee+=D*o.ak(Math.cos(G))/2,ee-=o.ak(Math.max(1,W/B/a))/2,ee}}let Re=he(9.314,3);function at(x,a){let f=(a.roundZoom?Math.round:Math.floor)(x.zoom+o.ak(x.tileSize/a.tileSize));return Math.max(0,f)}function ye(x,a){let f=x.getCameraFrustum(),m=x.getClippingPlane(),y=x.screenPointToMercatorCoordinate(x.getCameraPoint()),w=o.a1.fromLngLat(x.center,x.elevation);y.z=w.z+Math.cos(x.pitchInRadians)*x.cameraToCenterDistance/x.worldSize;let M=x.getCoveringTilesDetailsProvider(),D=M.allowVariableZoom(x,a),k=at(x,a),B=a.minzoom||0,V=a.maxzoom!==void 0?a.maxzoom:x.maxZoom,W=Math.min(Math.max(0,k),V),G=Math.pow(2,W),K=[G*y.x,G*y.y,0],ee=[G*w.x,G*w.y,0],pe=Math.hypot(w.x-y.x,w.y-y.y),ce=Math.abs(w.z-y.z),fe=Math.hypot(pe,ce),ge=Ae=>({zoom:0,x:0,y:0,wrap:Ae,fullyVisible:!1}),Te=[],be=[];if(x.renderWorldCopies&&M.allowWorldCopies())for(let Ae=1;Ae<=3;Ae++)Te.push(ge(-Ae)),Te.push(ge(Ae));for(Te.push(ge(0));Te.length>0;){let Ae=Te.pop(),Ne=Ae.x,Se=Ae.y,Ve=Ae.fullyVisible,et={x:Ne,y:Se,z:Ae.zoom},He=M.getTileBoundingVolume(et,Ae.wrap,x.elevation,a);if(!Ve){let At=Ue(f,He,m);if(At===0)continue;Ve=At===2}let Ze=M.distanceToTile2d(y.x,y.y,et,He),Qe=k;D&&(Qe=(a.calculateTileZoom||Re)(x.zoom+o.ak(x.tileSize/a.tileSize),Ze,ce,fe,x.fov)),Qe=(a.roundZoom?Math.round:Math.floor)(Qe),Qe=Math.max(0,Qe);let Tt=Math.min(Qe,V);if(Ae.wrap=M.getWrap(w,et,Ae.wrap),Ae.zoom>=Tt){if(Ae.zoom<B)continue;let At=W-Ae.zoom,dt=K[0]-.5-(Ne<<At),tr=K[1]-.5-(Se<<At),Fr=a.reparseOverscaled?Math.max(Ae.zoom,Qe):Ae.zoom;be.push({tileID:new o.Z(Ae.zoom===V?Fr:Ae.zoom,Ae.wrap,Ae.zoom,Ne,Se),distanceSq:o.al([ee[0]-.5-Ne,ee[1]-.5-Se]),tileDistanceToCamera:Math.sqrt(dt*dt+tr*tr)})}else for(let At=0;At<4;At++)Te.push({zoom:Ae.zoom+1,x:(Ne<<1)+At%2,y:(Se<<1)+(At>>1),wrap:Ae.wrap,fullyVisible:Ve})}return be.sort((Ae,Ne)=>Ae.distanceSq-Ne.distanceSq).map(Ae=>Ae.tileID)}let yt=o.a2.fromPoints([new o.P(0,0),new o.P(o.$,o.$)]);class jt extends o.E{constructor(a,f,m){super(),this.id=a,this.dispatcher=m,this.on("data",y=>this._dataHandler(y)),this.on("dataloading",()=>{this._sourceErrored=!1}),this.on("error",()=>{this._sourceErrored=this._source.loaded()}),this._source=((y,w,M,D)=>{let k=new(Sr(w.type))(y,w,M,D);if(k.id!==y)throw new Error(`Expected Source id to be ${y} instead of ${k.id}`);return k})(a,f,m,this),this._tiles={},this._cache=new Le(0,y=>this._unloadTile(y)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._maxTileCacheZoomLevels=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new J,this._didEmitContent=!1,this._updated=!1}onAdd(a){this.map=a,this._maxTileCacheSize=a?a._maxTileCacheSize:null,this._maxTileCacheZoomLevels=a?a._maxTileCacheZoomLevels:null,this._source&&this._source.onAdd&&this._source.onAdd(a)}onRemove(a){this.clearTiles(),this._source&&this._source.onRemove&&this._source.onRemove(a)}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;if(!(this.used===void 0&&this.usedForTerrain===void 0||this.used||this.usedForTerrain))return!0;if(!this._updated)return!1;for(let a in this._tiles){let f=this._tiles[a];if(f.state!=="loaded"&&f.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;let a=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,a&&this.reload(),this.transform&&this.update(this.transform,this.terrain)}_loadTile(a,f,m){return o._(this,void 0,void 0,function*(){try{yield this._source.loadTile(a),this._tileLoaded(a,f,m)}catch(y){a.state="errored",y.status!==404?this._source.fire(new o.k(y,{tile:a})):this.update(this.transform,this.terrain)}})}_unloadTile(a){this._source.unloadTile&&this._source.unloadTile(a)}_abortTile(a){this._source.abortTile&&this._source.abortTile(a),this._source.fire(new o.l("dataabort",{tile:a,coord:a.tileID,dataType:"source"}))}serialize(){return this._source.serialize()}prepare(a){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(let f in this._tiles){let m=this._tiles[f];m.upload(a),m.prepare(this.map.style.imageManager)}}getIds(){return Object.values(this._tiles).map(a=>a.tileID).sort(xt).map(a=>a.key)}getRenderableIds(a){let f=[];for(let m in this._tiles)this._isIdRenderable(m,a)&&f.push(this._tiles[m]);return a?f.sort((m,y)=>{let w=m.tileID,M=y.tileID,D=new o.P(w.canonical.x,w.canonical.y)._rotate(-this.transform.bearingInRadians),k=new o.P(M.canonical.x,M.canonical.y)._rotate(-this.transform.bearingInRadians);return w.overscaledZ-M.overscaledZ||k.y-D.y||k.x-D.x}).map(m=>m.tileID.key):f.map(m=>m.tileID).sort(xt).map(m=>m.key)}hasRenderableParent(a){let f=this.findLoadedParent(a,0);return!!f&&this._isIdRenderable(f.tileID.key)}_isIdRenderable(a,f){return this._tiles[a]&&this._tiles[a].hasData()&&!this._coveredTiles[a]&&(f||!this._tiles[a].holdingForFade())}reload(a){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(let f in this._tiles)a?this._reloadTile(f,"expired"):this._tiles[f].state!=="errored"&&this._reloadTile(f,"reloading")}}_reloadTile(a,f){return o._(this,void 0,void 0,function*(){let m=this._tiles[a];m&&(m.state!=="loading"&&(m.state=f),yield this._loadTile(m,a,f))})}_tileLoaded(a,f,m){a.timeAdded=I.now(),m==="expired"&&(a.refreshedUponExpiration=!0),this._setTileReloadTimer(f,a),this.getSource().type==="raster-dem"&&a.dem&&this._backfillDEM(a),this._state.initializeTileState(a,this.map?this.map.painter:null),a.aborted||this._source.fire(new o.l("data",{dataType:"source",tile:a,coord:a.tileID}))}_backfillDEM(a){let f=this.getRenderableIds();for(let y=0;y<f.length;y++){let w=f[y];if(a.neighboringTiles&&a.neighboringTiles[w]){let M=this.getTileByID(w);m(a,M),m(M,a)}}function m(y,w){y.needsHillshadePrepare=!0,y.needsTerrainPrepare=!0;let M=w.tileID.canonical.x-y.tileID.canonical.x,D=w.tileID.canonical.y-y.tileID.canonical.y,k=Math.pow(2,y.tileID.canonical.z),B=w.tileID.key;M===0&&D===0||Math.abs(D)>1||(Math.abs(M)>1&&(Math.abs(M+k)===1?M+=k:Math.abs(M-k)===1&&(M-=k)),w.dem&&y.dem&&(y.dem.backfillBorder(w.dem,M,D),y.neighboringTiles&&y.neighboringTiles[B]&&(y.neighboringTiles[B].backfilled=!0)))}}getTile(a){return this.getTileByID(a.key)}getTileByID(a){return this._tiles[a]}_retainLoadedChildren(a,f,m,y){for(let w in this._tiles){let M=this._tiles[w];if(y[w]||!M.hasData()||M.tileID.overscaledZ<=f||M.tileID.overscaledZ>m)continue;let D=M.tileID;for(;M&&M.tileID.overscaledZ>f+1;){let B=M.tileID.scaledTo(M.tileID.overscaledZ-1);M=this._tiles[B.key],M&&M.hasData()&&(D=B)}let k=D;for(;k.overscaledZ>f;)if(k=k.scaledTo(k.overscaledZ-1),a[k.key]||a[k.canonical.key]){y[D.key]=D;break}}}findLoadedParent(a,f){if(a.key in this._loadedParentTiles){let m=this._loadedParentTiles[a.key];return m&&m.tileID.overscaledZ>=f?m:null}for(let m=a.overscaledZ-1;m>=f;m--){let y=a.scaledTo(m),w=this._getLoadedTile(y);if(w)return w}}findLoadedSibling(a){return this._getLoadedTile(a)}_getLoadedTile(a){let f=this._tiles[a.key];return f&&f.hasData()?f:this._cache.getByKey(a.wrapped().key)}updateCacheSize(a){let f=Math.ceil(a.width/this._source.tileSize)+1,m=Math.ceil(a.height/this._source.tileSize)+1,y=Math.floor(f*m*(this._maxTileCacheZoomLevels===null?o.a.MAX_TILE_CACHE_ZOOM_LEVELS:this._maxTileCacheZoomLevels)),w=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,y):y;this._cache.setMaxSize(w)}handleWrapJump(a){let f=Math.round((a-(this._prevLng===void 0?a:this._prevLng))/360);if(this._prevLng=a,f){let m={};for(let y in this._tiles){let w=this._tiles[y];w.tileID=w.tileID.unwrapTo(w.tileID.wrap+f),m[w.tileID.key]=w}this._tiles=m;for(let y in this._timers)clearTimeout(this._timers[y]),delete this._timers[y];for(let y in this._tiles)this._setTileReloadTimer(y,this._tiles[y])}}_updateCoveredAndRetainedTiles(a,f,m,y,w,M){let D={},k={},B=Object.keys(a),V=I.now();for(let W of B){let G=a[W],K=this._tiles[W];if(!K||K.fadeEndTime!==0&&K.fadeEndTime<=V)continue;let ee=this.findLoadedParent(G,f),pe=this.findLoadedSibling(G),ce=ee||pe||null;ce&&(this._addTile(ce.tileID),D[ce.tileID.key]=ce.tileID),k[W]=G}this._retainLoadedChildren(k,y,m,a);for(let W in D)a[W]||(this._coveredTiles[W]=!0,a[W]=D[W]);if(M){let W={},G={};for(let K of w)this._tiles[K.key].hasData()?W[K.key]=K:G[K.key]=K;for(let K in G){let ee=G[K].children(this._source.maxzoom);this._tiles[ee[0].key]&&this._tiles[ee[1].key]&&this._tiles[ee[2].key]&&this._tiles[ee[3].key]&&(W[ee[0].key]=a[ee[0].key]=ee[0],W[ee[1].key]=a[ee[1].key]=ee[1],W[ee[2].key]=a[ee[2].key]=ee[2],W[ee[3].key]=a[ee[3].key]=ee[3],delete G[K])}for(let K in G){let ee=G[K],pe=this.findLoadedParent(ee,this._source.minzoom),ce=this.findLoadedSibling(ee),fe=pe||ce||null;if(fe){W[fe.tileID.key]=a[fe.tileID.key]=fe.tileID;for(let ge in W)W[ge].isChildOf(fe.tileID)&&delete W[ge]}}for(let K in this._tiles)W[K]||(this._coveredTiles[K]=!0)}}update(a,f){if(!this._sourceLoaded||this._paused)return;let m;this.transform=a,this.terrain=f,this.updateCacheSize(a),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?m=a.getVisibleUnwrappedCoordinates(this._source.tileID).map(V=>new o.Z(V.canonical.z,V.wrap,V.canonical.z,V.canonical.x,V.canonical.y)):(m=ye(a,{tileSize:this.usedForTerrain?this.tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:!this.usedForTerrain&&this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled,terrain:f,calculateTileZoom:this._source.calculateTileZoom}),this._source.hasTile&&(m=m.filter(V=>this._source.hasTile(V)))):m=[];let y=at(a,this._source),w=Math.max(y-jt.maxOverzooming,this._source.minzoom),M=Math.max(y+jt.maxUnderzooming,this._source.minzoom);if(this.usedForTerrain){let V={};for(let W of m)if(W.canonical.z>this._source.minzoom){let G=W.scaledTo(W.canonical.z-1);V[G.key]=G;let K=W.scaledTo(Math.max(this._source.minzoom,Math.min(W.canonical.z,5)));V[K.key]=K}m=m.concat(Object.values(V))}let D=m.length===0&&!this._updated&&this._didEmitContent;this._updated=!0,D&&this.fire(new o.l("data",{sourceDataType:"idle",dataType:"source",sourceId:this.id}));let k=this._updateRetainedTiles(m,y);Pt(this._source.type)&&this._updateCoveredAndRetainedTiles(k,w,M,y,m,f);for(let V in k)this._tiles[V].clearFadeHold();let B=o.am(this._tiles,k);for(let V of B){let W=this._tiles[V];W.hasSymbolBuckets&&!W.holdingForFade()?W.setHoldDuration(this.map._fadeDuration):W.hasSymbolBuckets&&!W.symbolFadeFinished()||this._removeTile(V)}this._updateLoadedParentTileCache(),this._updateLoadedSiblingTileCache()}releaseSymbolFadeTiles(){for(let a in this._tiles)this._tiles[a].holdingForFade()&&this._removeTile(a)}_updateRetainedTiles(a,f){var m;let y={},w={},M=Math.max(f-jt.maxOverzooming,this._source.minzoom),D=Math.max(f+jt.maxUnderzooming,this._source.minzoom),k={};for(let B of a){let V=this._addTile(B);y[B.key]=B,V.hasData()||f<this._source.maxzoom&&(k[B.key]=B)}this._retainLoadedChildren(k,f,D,y);for(let B of a){let V=this._tiles[B.key];if(V.hasData())continue;if(f+1>this._source.maxzoom){let G=B.children(this._source.maxzoom)[0],K=this.getTile(G);if(K&&K.hasData()){y[G.key]=G;continue}}else{let G=B.children(this._source.maxzoom);if(y[G[0].key]&&y[G[1].key]&&y[G[2].key]&&y[G[3].key])continue}let W=V.wasRequested();for(let G=B.overscaledZ-1;G>=M;--G){let K=B.scaledTo(G);if(w[K.key])break;if(w[K.key]=!0,V=this.getTile(K),!V&&W&&(V=this._addTile(K)),V){let ee=V.hasData();if((ee||!(!((m=this.map)===null||m===void 0)&&m.cancelPendingTileRequestsWhileZooming)||W)&&(y[K.key]=K),W=V.wasRequested(),ee)break}}}return y}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(let a in this._tiles){let f=[],m,y=this._tiles[a].tileID;for(;y.overscaledZ>0;){if(y.key in this._loadedParentTiles){m=this._loadedParentTiles[y.key];break}f.push(y.key);let w=y.scaledTo(y.overscaledZ-1);if(m=this._getLoadedTile(w),m)break;y=w}for(let w of f)this._loadedParentTiles[w]=m}}_updateLoadedSiblingTileCache(){this._loadedSiblingTiles={};for(let a in this._tiles){let f=this._tiles[a].tileID,m=this._getLoadedTile(f);this._loadedSiblingTiles[f.key]=m}}_addTile(a){let f=this._tiles[a.key];if(f)return f;f=this._cache.getAndRemove(a),f&&(this._setTileReloadTimer(a.key,f),f.tileID=a,this._state.initializeTileState(f,this.map?this.map.painter:null),this._cacheTimers[a.key]&&(clearTimeout(this._cacheTimers[a.key]),delete this._cacheTimers[a.key],this._setTileReloadTimer(a.key,f)));let m=f;return f||(f=new xi(a,this._source.tileSize*a.overscaleFactor()),this._loadTile(f,a.key,f.state)),f.uses++,this._tiles[a.key]=f,m||this._source.fire(new o.l("dataloading",{tile:f,coord:f.tileID,dataType:"source"})),f}_setTileReloadTimer(a,f){a in this._timers&&(clearTimeout(this._timers[a]),delete this._timers[a]);let m=f.getExpiryTimeout();m&&(this._timers[a]=setTimeout(()=>{this._reloadTile(a,"expired"),delete this._timers[a]},m))}refreshTiles(a){for(let f in this._tiles)(this._isIdRenderable(f)||this._tiles[f].state=="errored")&&a.some(m=>m.equals(this._tiles[f].tileID.canonical))&&this._reloadTile(f,"expired")}_removeTile(a){let f=this._tiles[a];f&&(f.uses--,delete this._tiles[a],this._timers[a]&&(clearTimeout(this._timers[a]),delete this._timers[a]),f.uses>0||(f.hasData()&&f.state!=="reloading"?this._cache.add(f.tileID,f,f.getExpiryTimeout()):(f.aborted=!0,this._abortTile(f),this._unloadTile(f))))}_dataHandler(a){let f=a.sourceDataType;a.dataType==="source"&&f==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&a.dataType==="source"&&f==="content"&&(this.reload(a.sourceDataChanged),this.transform&&this.update(this.transform,this.terrain),this._didEmitContent=!0)}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(let a in this._tiles)this._removeTile(a);this._cache.reset()}tilesIn(a,f,m){let y=[],w=this.transform;if(!w)return y;let M=w.getCoveringTilesDetailsProvider().allowWorldCopies(),D=m?w.getCameraQueryGeometry(a):a,k=K=>w.screenPointToMercatorCoordinate(K,this.terrain),B=this.transformBbox(a,k,!M),V=this.transformBbox(D,k,!M),W=this.getIds(),G=o.a2.fromPoints(V);for(let K=0;K<W.length;K++){let ee=this._tiles[W[K]];if(ee.holdingForFade())continue;let pe=M?[ee.tileID]:[ee.tileID.unwrapTo(-1),ee.tileID.unwrapTo(0)],ce=Math.pow(2,w.zoom-ee.tileID.overscaledZ),fe=f*ee.queryPadding*o.$/ee.tileSize/ce;for(let ge of pe){let Te=G.map(be=>ge.getTilePoint(new o.a1(be.x,be.y)));if(Te.expandBy(fe),Te.intersects(yt)){let be=B.map(Ne=>ge.getTilePoint(Ne)),Ae=V.map(Ne=>ge.getTilePoint(Ne));y.push({tile:ee,tileID:M?ge:ge.unwrapTo(0),queryGeometry:be,cameraQueryGeometry:Ae,scale:ce})}}}return y}transformBbox(a,f,m){let y=a.map(f);if(m){let w=o.a2.fromPoints(a);w.shrinkBy(.001*Math.min(w.width(),w.height()));let M=w.map(f);o.a2.fromPoints(y).covers(M)||(y=y.map(D=>D.x>.5?new o.a1(D.x-1,D.y,D.z):D))}return y}getVisibleCoordinates(a){let f=this.getRenderableIds(a).map(m=>this._tiles[m].tileID);return this.transform&&this.transform.populateCache(f),f}hasTransition(){if(this._source.hasTransition())return!0;if(Pt(this._source.type)){let a=I.now();for(let f in this._tiles)if(this._tiles[f].fadeEndTime>=a)return!0}return!1}setFeatureState(a,f,m){this._state.updateState(a=a||"_geojsonTileLayer",f,m)}removeFeatureState(a,f,m){this._state.removeFeatureState(a=a||"_geojsonTileLayer",f,m)}getFeatureState(a,f){return this._state.getState(a=a||"_geojsonTileLayer",f)}setDependencies(a,f,m){let y=this._tiles[a];y&&y.setDependencies(f,m)}reloadTilesForDependencies(a,f){for(let m in this._tiles)this._tiles[m].hasDependency(a,f)&&this._reloadTile(m,"reloading");this._cache.filter(m=>!m.hasDependency(a,f))}}function xt(x,a){let f=Math.abs(2*x.wrap)-+(x.wrap<0),m=Math.abs(2*a.wrap)-+(a.wrap<0);return x.overscaledZ-a.overscaledZ||m-f||a.canonical.y-x.canonical.y||a.canonical.x-x.canonical.x}function Pt(x){return x==="raster"||x==="image"||x==="video"}jt.maxOverzooming=10,jt.maxUnderzooming=3;class ir{constructor(a,f){this.reset(a,f)}reset(a,f){this.points=a||[],this._distances=[0];for(let m=1;m<this.points.length;m++)this._distances[m]=this._distances[m-1]+this.points[m].dist(this.points[m-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(f||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(a){if(this.points.length===1)return this.points[0];a=o.ah(a,0,1);let f=1,m=this._distances[f],y=a*this.paddedLength+this.padding;for(;m<y&&f<this._distances.length;)m=this._distances[++f];let w=f-1,M=this._distances[w],D=m-M,k=D>0?(y-M)/D:0;return this.points[w].mult(1-k).add(this.points[f].mult(k))}}function $r(x,a){let f=!0;return x==="always"||x!=="never"&&a!=="never"||(f=!1),f}class xn{constructor(a,f,m){let y=this.boxCells=[],w=this.circleCells=[];this.xCellCount=Math.ceil(a/m),this.yCellCount=Math.ceil(f/m);for(let M=0;M<this.xCellCount*this.yCellCount;M++)y.push([]),w.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=a,this.height=f,this.xScale=this.xCellCount/a,this.yScale=this.yCellCount/f,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(a,f,m,y,w){this._forEachCell(f,m,y,w,this._insertBoxCell,this.boxUid++),this.boxKeys.push(a),this.bboxes.push(f),this.bboxes.push(m),this.bboxes.push(y),this.bboxes.push(w)}insertCircle(a,f,m,y){this._forEachCell(f-y,m-y,f+y,m+y,this._insertCircleCell,this.circleUid++),this.circleKeys.push(a),this.circles.push(f),this.circles.push(m),this.circles.push(y)}_insertBoxCell(a,f,m,y,w,M){this.boxCells[w].push(M)}_insertCircleCell(a,f,m,y,w,M){this.circleCells[w].push(M)}_query(a,f,m,y,w,M,D){if(m<0||a>this.width||y<0||f>this.height)return[];let k=[];if(a<=0&&f<=0&&this.width<=m&&this.height<=y){if(w)return[{key:null,x1:a,y1:f,x2:m,y2:y}];for(let B=0;B<this.boxKeys.length;B++)k.push({key:this.boxKeys[B],x1:this.bboxes[4*B],y1:this.bboxes[4*B+1],x2:this.bboxes[4*B+2],y2:this.bboxes[4*B+3]});for(let B=0;B<this.circleKeys.length;B++){let V=this.circles[3*B],W=this.circles[3*B+1],G=this.circles[3*B+2];k.push({key:this.circleKeys[B],x1:V-G,y1:W-G,x2:V+G,y2:W+G})}}else this._forEachCell(a,f,m,y,this._queryCell,k,{hitTest:w,overlapMode:M,seenUids:{box:{},circle:{}}},D);return k}query(a,f,m,y){return this._query(a,f,m,y,!1,null)}hitTest(a,f,m,y,w,M){return this._query(a,f,m,y,!0,w,M).length>0}hitTestCircle(a,f,m,y,w){let M=a-m,D=a+m,k=f-m,B=f+m;if(D<0||M>this.width||B<0||k>this.height)return!1;let V=[];return this._forEachCell(M,k,D,B,this._queryCellCircle,V,{hitTest:!0,overlapMode:y,circle:{x:a,y:f,radius:m},seenUids:{box:{},circle:{}}},w),V.length>0}_queryCell(a,f,m,y,w,M,D,k){let{seenUids:B,hitTest:V,overlapMode:W}=D,G=this.boxCells[w];if(G!==null){let ee=this.bboxes;for(let pe of G)if(!B.box[pe]){B.box[pe]=!0;let ce=4*pe,fe=this.boxKeys[pe];if(a<=ee[ce+2]&&f<=ee[ce+3]&&m>=ee[ce+0]&&y>=ee[ce+1]&&(!k||k(fe))&&(!V||!$r(W,fe.overlapMode))&&(M.push({key:fe,x1:ee[ce],y1:ee[ce+1],x2:ee[ce+2],y2:ee[ce+3]}),V))return!0}}let K=this.circleCells[w];if(K!==null){let ee=this.circles;for(let pe of K)if(!B.circle[pe]){B.circle[pe]=!0;let ce=3*pe,fe=this.circleKeys[pe];if(this._circleAndRectCollide(ee[ce],ee[ce+1],ee[ce+2],a,f,m,y)&&(!k||k(fe))&&(!V||!$r(W,fe.overlapMode))){let ge=ee[ce],Te=ee[ce+1],be=ee[ce+2];if(M.push({key:fe,x1:ge-be,y1:Te-be,x2:ge+be,y2:Te+be}),V)return!0}}}return!1}_queryCellCircle(a,f,m,y,w,M,D,k){let{circle:B,seenUids:V,overlapMode:W}=D,G=this.boxCells[w];if(G!==null){let ee=this.bboxes;for(let pe of G)if(!V.box[pe]){V.box[pe]=!0;let ce=4*pe,fe=this.boxKeys[pe];if(this._circleAndRectCollide(B.x,B.y,B.radius,ee[ce+0],ee[ce+1],ee[ce+2],ee[ce+3])&&(!k||k(fe))&&!$r(W,fe.overlapMode))return M.push(!0),!0}}let K=this.circleCells[w];if(K!==null){let ee=this.circles;for(let pe of K)if(!V.circle[pe]){V.circle[pe]=!0;let ce=3*pe,fe=this.circleKeys[pe];if(this._circlesCollide(ee[ce],ee[ce+1],ee[ce+2],B.x,B.y,B.radius)&&(!k||k(fe))&&!$r(W,fe.overlapMode))return M.push(!0),!0}}}_forEachCell(a,f,m,y,w,M,D,k){let B=this._convertToXCellCoord(a),V=this._convertToYCellCoord(f),W=this._convertToXCellCoord(m),G=this._convertToYCellCoord(y);for(let K=B;K<=W;K++)for(let ee=V;ee<=G;ee++)if(w.call(this,a,f,m,y,this.xCellCount*ee+K,M,D,k))return}_convertToXCellCoord(a){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(a*this.xScale)))}_convertToYCellCoord(a){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(a*this.yScale)))}_circlesCollide(a,f,m,y,w,M){let D=y-a,k=w-f,B=m+M;return B*B>D*D+k*k}_circleAndRectCollide(a,f,m,y,w,M,D){let k=(M-y)/2,B=Math.abs(a-(y+k));if(B>k+m)return!1;let V=(D-w)/2,W=Math.abs(f-(w+V));if(W>V+m)return!1;if(B<=k||W<=V)return!0;let G=B-k,K=W-V;return G*G+K*K<=m*m}}function on(x,a,f){let m=o.L();if(!x){let{vecSouth:W,vecEast:G}=Dr(a),K=d();K[0]=G[0],K[1]=G[1],K[2]=W[0],K[3]=W[1],y=K,(V=(M=(w=K)[0])*(B=w[3])-(k=w[2])*(D=w[1]))&&(y[0]=B*(V=1/V),y[1]=-D*V,y[2]=-k*V,y[3]=M*V),m[0]=K[0],m[1]=K[1],m[4]=K[2],m[5]=K[3]}var y,w,M,D,k,B,V;return o.N(m,m,[1/f,1/f,1]),m}function Er(x,a,f,m){if(x){let y=o.L();if(!a){let{vecSouth:w,vecEast:M}=Dr(f);y[0]=M[0],y[1]=M[1],y[4]=w[0],y[5]=w[1]}return o.N(y,y,[m,m,1]),y}return f.pixelsToClipSpaceMatrix}function Dr(x){let a=Math.cos(x.rollInRadians),f=Math.sin(x.rollInRadians),m=Math.cos(x.pitchInRadians),y=Math.cos(x.bearingInRadians),w=Math.sin(x.bearingInRadians),M=o.ar();M[0]=-y*m*f-w*a,M[1]=-w*m*f+y*a;let D=o.as(M);D<1e-9?o.at(M):o.au(M,M,1/D);let k=o.ar();k[0]=y*m*a-w*f,k[1]=w*m*a+y*f;let B=o.as(k);return B<1e-9?o.at(k):o.au(k,k,1/B),{vecEast:k,vecSouth:M}}function Qn(x,a,f,m){let y;m?(y=[x,a,m(x,a),1],o.aw(y,y,f)):(y=[x,a,0,1],ad(y,y,f));let w=y[3];return{point:new o.P(y[0]/w,y[1]/w),signedDistanceFromCamera:w,isOccluded:!1}}function St(x,a){return .5+x/a*.5}function Ai(x,a){return x.x>=-a[0]&&x.x<=a[0]&&x.y>=-a[1]&&x.y<=a[1]}function Bn(x,a,f,m,y,w,M,D,k,B,V,W,G){let K=f?x.textSizeData:x.iconSizeData,ee=o.an(K,a.transform.zoom),pe=[256/a.width*2+1,256/a.height*2+1],ce=f?x.text.dynamicLayoutVertexArray:x.icon.dynamicLayoutVertexArray;ce.clear();let fe=x.lineVertexArray,ge=f?x.text.placedSymbolArray:x.icon.placedSymbolArray,Te=a.transform.width/a.transform.height,be=!1;for(let Ae=0;Ae<ge.length;Ae++){let Ne=ge.get(Ae);if(Ne.hidden||Ne.writingMode===o.ao.vertical&&!be){ql(Ne.numGlyphs,ce);continue}be=!1;let Se=new o.P(Ne.anchorX,Ne.anchorY),Ve={getElevation:G,pitchedLabelPlaneMatrix:m,lineVertexArray:fe,pitchWithMap:w,projectionCache:{projections:{},offsets:{},cachedAnchorPoint:void 0,anyProjectionOccluded:!1},transform:a.transform,tileAnchorPoint:Se,unwrappedTileID:k,width:B,height:V,translation:W},et=Tc(Ne.anchorX,Ne.anchorY,Ve);if(!Ai(et.point,pe)){ql(Ne.numGlyphs,ce);continue}let He=St(a.transform.cameraToCenterDistance,et.signedDistanceFromCamera),Ze=o.ap(K,ee,Ne),Qe=w?Ze*a.transform.getPitchedTextCorrection(Ne.anchorX,Ne.anchorY,k)/He:Ze*He,Tt=Bt({projectionContext:Ve,pitchedLabelPlaneMatrixInverse:y,symbol:Ne,fontSize:Qe,flip:!1,keepUpright:M,glyphOffsetArray:x.glyphOffsetArray,dynamicLayoutVertexArray:ce,aspectRatio:Te,rotateToLine:D});be=Tt.useVertical,(Tt.notEnoughRoom||be||Tt.needsFlipping&&Bt({projectionContext:Ve,pitchedLabelPlaneMatrixInverse:y,symbol:Ne,fontSize:Qe,flip:!0,keepUpright:M,glyphOffsetArray:x.glyphOffsetArray,dynamicLayoutVertexArray:ce,aspectRatio:Te,rotateToLine:D}).notEnoughRoom)&&ql(Ne.numGlyphs,ce)}f?x.text.dynamicLayoutVertexBuffer.updateData(ce):x.icon.dynamicLayoutVertexBuffer.updateData(ce)}function Ic(x,a,f,m,y,w,M,D){let k=w.glyphStartIndex+w.numGlyphs,B=w.lineStartIndex,V=w.lineStartIndex+w.lineLength,W=a.getoffsetX(w.glyphStartIndex),G=a.getoffsetX(k-1),K=Mc(x*W,f,m,y,w.segment,B,V,D,M);if(!K)return null;let ee=Mc(x*G,f,m,y,w.segment,B,V,D,M);return ee?D.projectionCache.anyProjectionOccluded?null:{first:K,last:ee}:null}function od(x,a,f,m){return x===o.ao.horizontal&&Math.abs(f.y-a.y)>Math.abs(f.x-a.x)*m?{useVertical:!0}:(x===o.ao.vertical?a.y<f.y:a.x>f.x)?{needsFlipping:!0}:null}function Bt(x){let{projectionContext:a,pitchedLabelPlaneMatrixInverse:f,symbol:m,fontSize:y,flip:w,keepUpright:M,glyphOffsetArray:D,dynamicLayoutVertexArray:k,aspectRatio:B,rotateToLine:V}=x,W=y/24,G=m.lineOffsetX*W,K=m.lineOffsetY*W,ee;if(m.numGlyphs>1){let pe=m.glyphStartIndex+m.numGlyphs,ce=m.lineStartIndex,fe=m.lineStartIndex+m.lineLength,ge=Ic(W,D,G,K,w,m,V,a);if(!ge)return{notEnoughRoom:!0};let Te=qp(ge.first.point.x,ge.first.point.y,a,f),be=qp(ge.last.point.x,ge.last.point.y,a,f);if(M&&!w){let Ae=od(m.writingMode,Te,be,B);if(Ae)return Ae}ee=[ge.first];for(let Ae=m.glyphStartIndex+1;Ae<pe-1;Ae++){let Ne=Mc(W*D.getoffsetX(Ae),G,K,w,m.segment,ce,fe,a,V);if(!Ne)return{notEnoughRoom:!0};ee.push(Ne)}ee.push(ge.last)}else{if(M&&!w){let ce=Mo(a.tileAnchorPoint.x,a.tileAnchorPoint.y,a).point,fe=m.lineStartIndex+m.segment+1,ge=new o.P(a.lineVertexArray.getx(fe),a.lineVertexArray.gety(fe)),Te=Mo(ge.x,ge.y,a),be=Te.signedDistanceFromCamera>0?Te.point:en(a.tileAnchorPoint,ge,ce,1,a),Ae=qp(ce.x,ce.y,a,f),Ne=qp(be.x,be.y,a,f),Se=od(m.writingMode,Ae,Ne,B);if(Se)return Se}let pe=Mc(W*D.getoffsetX(m.glyphStartIndex),G,K,w,m.segment,m.lineStartIndex,m.lineStartIndex+m.lineLength,a,V);if(!pe||a.projectionCache.anyProjectionOccluded)return{notEnoughRoom:!0};ee=[pe]}for(let pe of ee)o.av(k,pe.point,pe.angle);return{}}function en(x,a,f,m,y){let w=x.add(x.sub(a)._unit()),M=Mo(w.x,w.y,y).point,D=f.sub(M);return f.add(D._mult(m/D.mag()))}function Gr(x,a,f){let m=a.projectionCache;if(m.projections[x])return m.projections[x];let y=new o.P(a.lineVertexArray.getx(x),a.lineVertexArray.gety(x)),w=Mo(y.x,y.y,a);if(w.signedDistanceFromCamera>0)return m.projections[x]=w.point,m.anyProjectionOccluded=m.anyProjectionOccluded||w.isOccluded,w.point;let M=x-f.direction;return en(f.distanceFromAnchor===0?a.tileAnchorPoint:new o.P(a.lineVertexArray.getx(M),a.lineVertexArray.gety(M)),y,f.previousVertex,f.absOffsetX-f.distanceFromAnchor+1,a)}function Mo(x,a,f){let m=x+f.translation[0],y=a+f.translation[1],w;return f.pitchWithMap?(w=Qn(m,y,f.pitchedLabelPlaneMatrix,f.getElevation),w.isOccluded=!1):(w=f.transform.projectTileCoordinates(m,y,f.unwrappedTileID,f.getElevation),w.point.x=(.5*w.point.x+.5)*f.width,w.point.y=(.5*-w.point.y+.5)*f.height),w}function qp(x,a,f,m){if(f.pitchWithMap){let y=[x,a,0,1];return o.aw(y,y,m),f.transform.projectTileCoordinates(y[0]/y[3],y[1]/y[3],f.unwrappedTileID,f.getElevation).point}return{x:x/f.width*2-1,y:1-a/f.height*2}}function Tc(x,a,f){return f.transform.projectTileCoordinates(x,a,f.unwrappedTileID,f.getElevation)}function jr(x,a,f){return x._unit()._perp()._mult(a*f)}function Cv(x,a,f,m,y,w,M,D,k){if(D.projectionCache.offsets[x])return D.projectionCache.offsets[x];let B=f.add(a);if(x+k.direction<m||x+k.direction>=y)return D.projectionCache.offsets[x]=B,B;let V=Gr(x+k.direction,D,k),W=jr(V.sub(f),M,k.direction),G=f.add(W),K=V.add(W);return D.projectionCache.offsets[x]=o.ax(w,B,G,K)||B,D.projectionCache.offsets[x]}function Mc(x,a,f,m,y,w,M,D,k){let B=m?x-a:x+a,V=B>0?1:-1,W=0;m&&(V*=-1,W=Math.PI),V<0&&(W+=Math.PI);let G,K=V>0?w+y:w+y+1;D.projectionCache.cachedAnchorPoint?G=D.projectionCache.cachedAnchorPoint:(G=Mo(D.tileAnchorPoint.x,D.tileAnchorPoint.y,D).point,D.projectionCache.cachedAnchorPoint=G);let ee,pe,ce=G,fe=G,ge=0,Te=0,be=Math.abs(B),Ae=[],Ne;for(;ge+Te<=be;){if(K+=V,K<w||K>=M)return null;ge+=Te,fe=ce,pe=ee;let et={absOffsetX:be,direction:V,distanceFromAnchor:ge,previousVertex:fe};if(ce=Gr(K,D,et),f===0)Ae.push(fe),Ne=ce.sub(fe);else{let He,Ze=ce.sub(fe);He=Ze.mag()===0?jr(Gr(K+V,D,et).sub(ce),f,V):jr(Ze,f,V),pe||(pe=fe.add(He)),ee=Cv(K,He,ce,w,M,pe,f,D,et),Ae.push(pe),Ne=ee.sub(pe)}Te=Ne.mag()}let Se=Ne._mult((be-ge)/Te)._add(pe||fe),Ve=W+Math.atan2(ce.y-fe.y,ce.x-fe.x);return Ae.push(Se),{point:Se,angle:k?Ve:0,path:Ae}}let Av=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function ql(x,a){for(let f=0;f<x;f++){let m=a.length;a.resize(m+4),a.float32.set(Av,3*m)}}function ad(x,a,f){let m=a[0],y=a[1];return x[0]=f[0]*m+f[4]*y+f[12],x[1]=f[1]*m+f[5]*y+f[13],x[3]=f[3]*m+f[7]*y+f[15],x}let Pi=100;class Pv{constructor(a,f=new xn(a.width+200,a.height+200,25),m=new xn(a.width+200,a.height+200,25)){this.transform=a,this.grid=f,this.ignoredGrid=m,this.pitchFactor=Math.cos(a.pitch*Math.PI/180)*a.cameraToCenterDistance,this.screenRightBoundary=a.width+Pi,this.screenBottomBoundary=a.height+Pi,this.gridRightBoundary=a.width+200,this.gridBottomBoundary=a.height+200,this.perspectiveRatioCutoff=.6}placeCollisionBox(a,f,m,y,w,M,D,k,B,V,W,G){let K=this.projectAndGetPerspectiveRatio(a.anchorPointX+k[0],a.anchorPointY+k[1],w,V,G),ee=m*K.perspectiveRatio,pe;if(M||D)pe=this._projectCollisionBox(a,ee,y,w,M,D,k,K,V,W,G);else{let Ne=K.x+(W?W.x*ee:0),Se=K.y+(W?W.y*ee:0);pe={allPointsOccluded:!1,box:[Ne+a.x1*ee,Se+a.y1*ee,Ne+a.x2*ee,Se+a.y2*ee]}}let[ce,fe,ge,Te]=pe.box,be=M?pe.allPointsOccluded:K.isOccluded,Ae=be;return Ae||(Ae=K.perspectiveRatio<this.perspectiveRatioCutoff),Ae||(Ae=!this.isInsideGrid(ce,fe,ge,Te)),Ae||f!=="always"&&this.grid.hitTest(ce,fe,ge,Te,f,B)?{box:[ce,fe,ge,Te],placeable:!1,offscreen:!1,occluded:be}:{box:[ce,fe,ge,Te],placeable:!0,offscreen:this.isOffscreen(ce,fe,ge,Te),occluded:be}}placeCollisionCircles(a,f,m,y,w,M,D,k,B,V,W,G,K,ee){let pe=[],ce=new o.P(f.anchorX,f.anchorY),fe=this.getPerspectiveRatio(ce.x,ce.y,M,ee),ge=(B?w*this.transform.getPitchedTextCorrection(f.anchorX,f.anchorY,M)/fe:w*fe)/o.aB,Te={getElevation:ee,pitchedLabelPlaneMatrix:D,lineVertexArray:m,pitchWithMap:B,projectionCache:{projections:{},offsets:{},cachedAnchorPoint:void 0,anyProjectionOccluded:!1},transform:this.transform,tileAnchorPoint:ce,unwrappedTileID:M,width:this.transform.width,height:this.transform.height,translation:K},be=Ic(ge,y,f.lineOffsetX*ge,f.lineOffsetY*ge,!1,f,!1,Te),Ae=!1,Ne=!1,Se=!0;if(be){let Ve=.5*W*fe+G,et=new o.P(-100,-100),He=new o.P(this.screenRightBoundary,this.screenBottomBoundary),Ze=new ir,Qe=be.first,Tt=be.last,At=[];for(let Fr=Qe.path.length-1;Fr>=1;Fr--)At.push(Qe.path[Fr]);for(let Fr=1;Fr<Tt.path.length;Fr++)At.push(Tt.path[Fr]);let dt=2.5*Ve;if(B){let Fr=this.projectPathToScreenSpace(At,Te);At=Fr.some(En=>En.signedDistanceFromCamera<=0)?[]:Fr.map(En=>En.point)}let tr=[];if(At.length>0){let Fr=At[0].clone(),En=At[0].clone();for(let Vn=1;Vn<At.length;Vn++)Fr.x=Math.min(Fr.x,At[Vn].x),Fr.y=Math.min(Fr.y,At[Vn].y),En.x=Math.max(En.x,At[Vn].x),En.y=Math.max(En.y,At[Vn].y);tr=Fr.x>=et.x&&En.x<=He.x&&Fr.y>=et.y&&En.y<=He.y?[At]:En.x<et.x||Fr.x>He.x||En.y<et.y||Fr.y>He.y?[]:o.ay([At],et.x,et.y,He.x,He.y)}for(let Fr of tr){Ze.reset(Fr,.25*Ve);let En=0;En=Ze.length<=.5*Ve?1:Math.ceil(Ze.paddedLength/dt)+1;for(let Vn=0;Vn<En;Vn++){let zn=Vn/Math.max(En-1,1),mi=Ze.lerp(zn),Si=mi.x+Pi,zr=mi.y+Pi;pe.push(Si,zr,Ve,0);let $n=Si-Ve,Vi=zr-Ve,eo=Si+Ve,ho=zr+Ve;if(Se=Se&&this.isOffscreen($n,Vi,eo,ho),Ne=Ne||this.isInsideGrid($n,Vi,eo,ho),a!=="always"&&this.grid.hitTestCircle(Si,zr,Ve,a,V)&&(Ae=!0,!k))return{circles:[],offscreen:!1,collisionDetected:Ae}}}}return{circles:!k&&Ae||!Ne||fe<this.perspectiveRatioCutoff?[]:pe,offscreen:Se,collisionDetected:Ae}}projectPathToScreenSpace(a,f){let m=function(y,w){let M=o.L();return o.aq(M,w.pitchedLabelPlaneMatrix),y.map(D=>{let k=Qn(D.x,D.y,M,w.getElevation),B=w.transform.projectTileCoordinates(k.point.x,k.point.y,w.unwrappedTileID,w.getElevation);return B.point.x=(.5*B.point.x+.5)*w.width,B.point.y=(.5*-B.point.y+.5)*w.height,B})}(a,f);return function(y){let w=0,M=0,D=0,k=0;for(let B=0;B<y.length;B++)y[B].isOccluded?(D=B+1,k=0):(k++,k>M&&(M=k,w=D));return y.slice(w,w+M)}(m)}queryRenderedSymbols(a){if(a.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};let f=[],m=new o.a2;for(let W of a){let G=new o.P(W.x+Pi,W.y+Pi);m.extend(G),f.push(G)}let{minX:y,minY:w,maxX:M,maxY:D}=m,k=this.grid.query(y,w,M,D).concat(this.ignoredGrid.query(y,w,M,D)),B={},V={};for(let W of k){let G=W.key;if(B[G.bucketInstanceId]===void 0&&(B[G.bucketInstanceId]={}),B[G.bucketInstanceId][G.featureIndex])continue;let K=[new o.P(W.x1,W.y1),new o.P(W.x2,W.y1),new o.P(W.x2,W.y2),new o.P(W.x1,W.y2)];o.az(f,K)&&(B[G.bucketInstanceId][G.featureIndex]=!0,V[G.bucketInstanceId]===void 0&&(V[G.bucketInstanceId]=[]),V[G.bucketInstanceId].push(G.featureIndex))}return V}insertCollisionBox(a,f,m,y,w,M){(m?this.ignoredGrid:this.grid).insert({bucketInstanceId:y,featureIndex:w,collisionGroupID:M,overlapMode:f},a[0],a[1],a[2],a[3])}insertCollisionCircles(a,f,m,y,w,M){let D=m?this.ignoredGrid:this.grid,k={bucketInstanceId:y,featureIndex:w,collisionGroupID:M,overlapMode:f};for(let B=0;B<a.length;B+=4)D.insertCircle(k,a[B],a[B+1],a[B+2])}projectAndGetPerspectiveRatio(a,f,m,y,w){if(w){let M;y?(M=[a,f,y(a,f),1],o.aw(M,M,w)):(M=[a,f,0,1],ad(M,M,w));let D=M[3];return{x:(M[0]/D+1)/2*this.transform.width+Pi,y:(-M[1]/D+1)/2*this.transform.height+Pi,perspectiveRatio:.5+this.transform.cameraToCenterDistance/D*.5,isOccluded:!1,signedDistanceFromCamera:D}}{let M=this.transform.projectTileCoordinates(a,f,m,y);return{x:(M.point.x+1)/2*this.transform.width+Pi,y:(1-M.point.y)/2*this.transform.height+Pi,perspectiveRatio:.5+this.transform.cameraToCenterDistance/M.signedDistanceFromCamera*.5,isOccluded:M.isOccluded,signedDistanceFromCamera:M.signedDistanceFromCamera}}}getPerspectiveRatio(a,f,m,y){let w=this.transform.projectTileCoordinates(a,f,m,y);return .5+this.transform.cameraToCenterDistance/w.signedDistanceFromCamera*.5}isOffscreen(a,f,m,y){return m<Pi||a>=this.screenRightBoundary||y<Pi||f>this.screenBottomBoundary}isInsideGrid(a,f,m,y){return m>=0&&a<this.gridRightBoundary&&y>=0&&f<this.gridBottomBoundary}getViewportMatrix(){let a=o.ag([]);return o.M(a,a,[-100,-100,0]),a}_projectCollisionBox(a,f,m,y,w,M,D,k,B,V,W){let G=1,K=0,ee=0,pe=1,ce=a.anchorPointX+D[0],fe=a.anchorPointY+D[1];if(M&&!w){let At=this.projectAndGetPerspectiveRatio(ce+1,fe,y,B,W),dt=At.x-k.x,tr=Math.atan((At.y-k.y)/dt)+(dt<0?Math.PI:0),Fr=Math.sin(tr),En=Math.cos(tr);G=En,K=Fr,ee=-Fr,pe=En}else if(!M&&w){let At=Dr(this.transform);G=At.vecEast[0],K=At.vecEast[1],ee=At.vecSouth[0],pe=At.vecSouth[1]}let ge=k.x,Te=k.y,be=f;w&&(ge=ce,Te=fe,be=Math.pow(2,-(this.transform.zoom-m.overscaledZ)),be*=this.transform.getPitchedTextCorrection(ce,fe,y),V||(be*=o.ah(.5+k.signedDistanceFromCamera/this.transform.cameraToCenterDistance*.5,0,4))),V&&(ge+=G*V.x*be+ee*V.y*be,Te+=K*V.x*be+pe*V.y*be);let Ae=a.x1*be,Ne=a.x2*be,Se=(Ae+Ne)/2,Ve=a.y1*be,et=a.y2*be,He=(Ve+et)/2,Ze=[{offsetX:Ae,offsetY:Ve},{offsetX:Se,offsetY:Ve},{offsetX:Ne,offsetY:Ve},{offsetX:Ne,offsetY:He},{offsetX:Ne,offsetY:et},{offsetX:Se,offsetY:et},{offsetX:Ae,offsetY:et},{offsetX:Ae,offsetY:He}],Qe=[];for(let{offsetX:At,offsetY:dt}of Ze)Qe.push(new o.P(ge+G*At+ee*dt,Te+K*At+pe*dt));let Tt=!1;if(w){let At=Qe.map(dt=>this.projectAndGetPerspectiveRatio(dt.x,dt.y,y,B,W));Tt=At.some(dt=>!dt.isOccluded),Qe=At.map(dt=>new o.P(dt.x,dt.y))}else Tt=!0;return{box:o.aA(Qe),allPointsOccluded:!Tt}}}class Na{constructor(a,f,m,y){this.opacity=a?Math.max(0,Math.min(1,a.opacity+(a.placed?f:-f))):y&&m?1:0,this.placed=m}isHidden(){return this.opacity===0&&!this.placed}}class Hn{constructor(a,f,m,y,w){this.text=new Na(a?a.text:null,f,m,w),this.icon=new Na(a?a.icon:null,f,y,w)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class KI{constructor(a,f,m){this.text=a,this.icon=f,this.skipFade=m}}class hm{constructor(a,f,m,y,w){this.bucketInstanceId=a,this.featureIndex=f,this.sourceLayerIndex=m,this.bucketIndex=y,this.tileID=w}}class eb{constructor(a){this.crossSourceCollisions=a,this.maxGroupID=0,this.collisionGroups={}}get(a){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[a]){let f=++this.maxGroupID;this.collisionGroups[a]={ID:f,predicate:m=>m.collisionGroupID===f}}return this.collisionGroups[a]}}function Cc(x,a,f,m,y){let{horizontalAlign:w,verticalAlign:M}=o.aH(x);return new o.P(-(w-.5)*a+m[0]*y,-(M-.5)*f+m[1]*y)}class Ac{constructor(a,f,m,y,w){this.transform=a.clone(),this.terrain=f,this.collisionIndex=new Pv(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=m,this.retainedQueryData={},this.collisionGroups=new eb(y),this.collisionCircleArrays={},this.collisionBoxArrays=new Map,this.prevPlacement=w,w&&(w.prevPlacement=void 0),this.placedOrientations={}}_getTerrainElevationFunc(a){let f=this.terrain;return f?(m,y)=>f.getElevation(a,m,y):null}getBucketParts(a,f,m,y){let w=m.getBucket(f),M=m.latestFeatureIndex;if(!w||!M||f.id!==w.layerIds[0])return;let D=m.collisionBoxArray,k=w.layers[0].layout,B=w.layers[0].paint,V=Math.pow(2,this.transform.zoom-m.tileID.overscaledZ),W=m.tileSize/o.$,G=m.tileID.toUnwrapped(),K=k.get("text-rotation-alignment")==="map",ee=o.aC(m,1,this.transform.zoom),pe=o.aD(this.collisionIndex.transform,m,B.get("text-translate"),B.get("text-translate-anchor")),ce=o.aD(this.collisionIndex.transform,m,B.get("icon-translate"),B.get("icon-translate-anchor")),fe=on(K,this.transform,ee);this.retainedQueryData[w.bucketInstanceId]=new hm(w.bucketInstanceId,M,w.sourceLayerIndex,w.index,m.tileID);let ge={bucket:w,layout:k,translationText:pe,translationIcon:ce,unwrappedTileID:G,pitchedLabelPlaneMatrix:fe,scale:V,textPixelRatio:W,holdingForFade:m.holdingForFade(),collisionBoxArray:D,partiallyEvaluatedTextSize:o.an(w.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(w.sourceID)};if(y)for(let Te of w.sortKeyRanges){let{sortKey:be,symbolInstanceStart:Ae,symbolInstanceEnd:Ne}=Te;a.push({sortKey:be,symbolInstanceStart:Ae,symbolInstanceEnd:Ne,parameters:ge})}else a.push({symbolInstanceStart:0,symbolInstanceEnd:w.symbolInstances.length,parameters:ge})}attemptAnchorPlacement(a,f,m,y,w,M,D,k,B,V,W,G,K,ee,pe,ce,fe,ge,Te,be){let Ae=o.aE[a.textAnchor],Ne=[a.textOffset0,a.textOffset1],Se=Cc(Ae,m,y,Ne,w),Ve=this.collisionIndex.placeCollisionBox(f,G,k,B,V,D,M,ce,W.predicate,Te,Se,be);if((!ge||this.collisionIndex.placeCollisionBox(ge,G,k,B,V,D,M,fe,W.predicate,Te,Se,be).placeable)&&Ve.placeable){let et;if(this.prevPlacement&&this.prevPlacement.variableOffsets[K.crossTileID]&&this.prevPlacement.placements[K.crossTileID]&&this.prevPlacement.placements[K.crossTileID].text&&(et=this.prevPlacement.variableOffsets[K.crossTileID].anchor),K.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");return this.variableOffsets[K.crossTileID]={textOffset:Ne,width:m,height:y,anchor:Ae,textBoxScale:w,prevAnchor:et},this.markUsedJustification(ee,Ae,K,pe),ee.allowVerticalPlacement&&(this.markUsedOrientation(ee,pe,K),this.placedOrientations[K.crossTileID]=pe),{shift:Se,placedGlyphBoxes:Ve}}}placeLayerBucketPart(a,f,m){let{bucket:y,layout:w,translationText:M,translationIcon:D,unwrappedTileID:k,pitchedLabelPlaneMatrix:B,textPixelRatio:V,holdingForFade:W,collisionBoxArray:G,partiallyEvaluatedTextSize:K,collisionGroup:ee}=a.parameters,pe=w.get("text-optional"),ce=w.get("icon-optional"),fe=o.aF(w,"text-overlap","text-allow-overlap"),ge=fe==="always",Te=o.aF(w,"icon-overlap","icon-allow-overlap"),be=Te==="always",Ae=w.get("text-rotation-alignment")==="map",Ne=w.get("text-pitch-alignment")==="map",Se=w.get("icon-text-fit")!=="none",Ve=w.get("symbol-z-order")==="viewport-y",et=ge&&(be||!y.hasIconData()||ce),He=be&&(ge||!y.hasTextData()||pe);!y.collisionArrays&&G&&y.deserializeCollisionBoxes(G);let Ze=this.retainedQueryData[y.bucketInstanceId].tileID,Qe=this._getTerrainElevationFunc(Ze),Tt=this.transform.getFastPathSimpleProjectionMatrix(Ze),At=(dt,tr,Fr)=>{var En,Vn;if(f[dt.crossTileID])return;if(W)return void(this.placements[dt.crossTileID]=new KI(!1,!1,!1));let zn=!1,mi=!1,Si=!0,zr=null,$n={box:null,placeable:!1,offscreen:null,occluded:!1},Vi={placeable:!1},eo=null,ho=null,ia=null,dl=0,Nc=0,Rc=0;tr.textFeatureIndex?dl=tr.textFeatureIndex:dt.useRuntimeCollisionCircles&&(dl=dt.featureIndex),tr.verticalTextFeatureIndex&&(Nc=tr.verticalTextFeatureIndex);let Md=tr.textBox;if(Md){let qa=$i=>{let to=o.ao.horizontal;if(y.allowVerticalPlacement&&!$i&&this.prevPlacement){let Os=this.prevPlacement.placedOrientations[dt.crossTileID];Os&&(this.placedOrientations[dt.crossTileID]=Os,to=Os,this.markUsedOrientation(y,to,dt))}return to},hl=($i,to)=>{if(y.allowVerticalPlacement&&dt.numVerticalGlyphVertices>0&&tr.verticalTextBox){for(let Os of y.writingModes)if(Os===o.ao.vertical?($n=to(),Vi=$n):$n=$i(),$n&&$n.placeable)break}else $n=$i()},oa=dt.textAnchorOffsetStartIndex,Lc=dt.textAnchorOffsetEndIndex;if(Lc===oa){let $i=(to,Os)=>{let Gi=this.collisionIndex.placeCollisionBox(to,fe,V,Ze,k,Ne,Ae,M,ee.predicate,Qe,void 0,Tt);return Gi&&Gi.placeable&&(this.markUsedOrientation(y,Os,dt),this.placedOrientations[dt.crossTileID]=Os),Gi};hl(()=>$i(Md,o.ao.horizontal),()=>{let to=tr.verticalTextBox;return y.allowVerticalPlacement&&dt.numVerticalGlyphVertices>0&&to?$i(to,o.ao.vertical):{box:null,offscreen:null}}),qa($n&&$n.placeable)}else{let $i=o.aE[(Vn=(En=this.prevPlacement)===null||En===void 0?void 0:En.variableOffsets[dt.crossTileID])===null||Vn===void 0?void 0:Vn.anchor],to=(Gi,Bm,Ad)=>{let Pu=Gi.x2-Gi.x1,ml=Gi.y2-Gi.y1,qc=dt.textBoxScale,UT=Se&&Te==="never"?Bm:null,ls=null,VT=fe==="never"?1:2,Wb="never";$i&&VT++;for(let fy=0;fy<VT;fy++){for(let dy=oa;dy<Lc;dy++){let zc=y.textAnchorOffsets.get(dy);if($i&&zc.textAnchor!==$i)continue;let Ou=this.attemptAnchorPlacement(zc,Gi,Pu,ml,qc,Ae,Ne,V,Ze,k,ee,Wb,dt,y,Ad,M,D,UT,Qe);if(Ou&&(ls=Ou.placedGlyphBoxes,ls&&ls.placeable))return zn=!0,zr=Ou.shift,ls}$i?$i=null:Wb=fe}return m&&!ls&&(ls={box:this.collisionIndex.placeCollisionBox(Md,"always",V,Ze,k,Ne,Ae,M,ee.predicate,Qe,void 0,Tt).box,offscreen:!1,placeable:!1,occluded:!1}),ls};hl(()=>to(Md,tr.iconBox,o.ao.horizontal),()=>{let Gi=tr.verticalTextBox;return y.allowVerticalPlacement&&(!$n||!$n.placeable)&&dt.numVerticalGlyphVertices>0&&Gi?to(Gi,tr.verticalIconBox,o.ao.vertical):{box:null,occluded:!0,offscreen:null}}),$n&&(zn=$n.placeable,Si=$n.offscreen);let Os=qa($n&&$n.placeable);if(!zn&&this.prevPlacement){let Gi=this.prevPlacement.variableOffsets[dt.crossTileID];Gi&&(this.variableOffsets[dt.crossTileID]=Gi,this.markUsedJustification(y,Gi.anchor,dt,Os))}}}if(eo=$n,zn=eo&&eo.placeable,Si=eo&&eo.offscreen,dt.useRuntimeCollisionCircles){let qa=y.text.placedSymbolArray.get(dt.centerJustifiedTextSymbolIndex),hl=o.ap(y.textSizeData,K,qa),oa=w.get("text-padding");ho=this.collisionIndex.placeCollisionCircles(fe,qa,y.lineVertexArray,y.glyphOffsetArray,hl,k,B,m,Ne,ee.predicate,dt.collisionCircleDiameter,oa,M,Qe),ho.circles.length&&ho.collisionDetected&&!m&&o.w("Collisions detected, but collision boxes are not shown"),zn=ge||ho.circles.length>0&&!ho.collisionDetected,Si=Si&&ho.offscreen}if(tr.iconFeatureIndex&&(Rc=tr.iconFeatureIndex),tr.iconBox){let qa=hl=>this.collisionIndex.placeCollisionBox(hl,Te,V,Ze,k,Ne,Ae,D,ee.predicate,Qe,Se&&zr?zr:void 0,Tt);Vi&&Vi.placeable&&tr.verticalIconBox?(ia=qa(tr.verticalIconBox),mi=ia.placeable):(ia=qa(tr.iconBox),mi=ia.placeable),Si=Si&&ia.offscreen}let Cd=pe||dt.numHorizontalGlyphVertices===0&&dt.numVerticalGlyphVertices===0,tf=ce||dt.numIconVertices===0;Cd||tf?tf?Cd||(mi=mi&&zn):zn=mi&&zn:mi=zn=mi&&zn;let rf=mi&&ia.placeable;if(zn&&eo.placeable&&this.collisionIndex.insertCollisionBox(eo.box,fe,w.get("text-ignore-placement"),y.bucketInstanceId,Vi&&Vi.placeable&&Nc?Nc:dl,ee.ID),rf&&this.collisionIndex.insertCollisionBox(ia.box,Te,w.get("icon-ignore-placement"),y.bucketInstanceId,Rc,ee.ID),ho&&zn&&this.collisionIndex.insertCollisionCircles(ho.circles,fe,w.get("text-ignore-placement"),y.bucketInstanceId,dl,ee.ID),m&&this.storeCollisionData(y.bucketInstanceId,Fr,tr,eo,ia,ho),dt.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");if(y.bucketInstanceId===0)throw new Error("bucket.bucketInstanceId can't be 0");this.placements[dt.crossTileID]=new KI((zn||et)&&!(eo!=null&&eo.occluded),(mi||He)&&!(ia!=null&&ia.occluded),Si||y.justReloaded),f[dt.crossTileID]=!0};if(Ve){if(a.symbolInstanceStart!==0)throw new Error("bucket.bucketInstanceId should be 0");let dt=y.getSortedSymbolIndexes(-this.transform.bearingInRadians);for(let tr=dt.length-1;tr>=0;--tr){let Fr=dt[tr];At(y.symbolInstances.get(Fr),y.collisionArrays[Fr],Fr)}}else for(let dt=a.symbolInstanceStart;dt<a.symbolInstanceEnd;dt++)At(y.symbolInstances.get(dt),y.collisionArrays[dt],dt);y.justReloaded=!1}storeCollisionData(a,f,m,y,w,M){if(m.textBox||m.iconBox){let D,k;this.collisionBoxArrays.has(a)?D=this.collisionBoxArrays.get(a):(D=new Map,this.collisionBoxArrays.set(a,D)),D.has(f)?k=D.get(f):(k={text:null,icon:null},D.set(f,k)),m.textBox&&(k.text=y.box),m.iconBox&&(k.icon=w.box)}if(M){let D=this.collisionCircleArrays[a];D===void 0&&(D=this.collisionCircleArrays[a]=[]);for(let k=0;k<M.circles.length;k+=4)D.push(M.circles[k+0]-Pi),D.push(M.circles[k+1]-Pi),D.push(M.circles[k+2]),D.push(M.collisionDetected?1:0)}}markUsedJustification(a,f,m,y){let w;w=y===o.ao.vertical?m.verticalPlacedTextSymbolIndex:{left:m.leftJustifiedTextSymbolIndex,center:m.centerJustifiedTextSymbolIndex,right:m.rightJustifiedTextSymbolIndex}[o.aG(f)];let M=[m.leftJustifiedTextSymbolIndex,m.centerJustifiedTextSymbolIndex,m.rightJustifiedTextSymbolIndex,m.verticalPlacedTextSymbolIndex];for(let D of M)D>=0&&(a.text.placedSymbolArray.get(D).crossTileID=w>=0&&D!==w?0:m.crossTileID)}markUsedOrientation(a,f,m){let y=f===o.ao.horizontal||f===o.ao.horizontalOnly?f:0,w=f===o.ao.vertical?f:0,M=[m.leftJustifiedTextSymbolIndex,m.centerJustifiedTextSymbolIndex,m.rightJustifiedTextSymbolIndex];for(let D of M)a.text.placedSymbolArray.get(D).placedOrientation=y;m.verticalPlacedTextSymbolIndex&&(a.text.placedSymbolArray.get(m.verticalPlacedTextSymbolIndex).placedOrientation=w)}commit(a){this.commitTime=a,this.zoomAtLastRecencyCheck=this.transform.zoom;let f=this.prevPlacement,m=!1;this.prevZoomAdjustment=f?f.zoomAdjustment(this.transform.zoom):0;let y=f?f.symbolFadeChange(a):1,w=f?f.opacities:{},M=f?f.variableOffsets:{},D=f?f.placedOrientations:{};for(let k in this.placements){let B=this.placements[k],V=w[k];V?(this.opacities[k]=new Hn(V,y,B.text,B.icon),m=m||B.text!==V.text.placed||B.icon!==V.icon.placed):(this.opacities[k]=new Hn(null,y,B.text,B.icon,B.skipFade),m=m||B.text||B.icon)}for(let k in w){let B=w[k];if(!this.opacities[k]){let V=new Hn(B,y,!1,!1);V.isHidden()||(this.opacities[k]=V,m=m||B.text.placed||B.icon.placed)}}for(let k in M)this.variableOffsets[k]||!this.opacities[k]||this.opacities[k].isHidden()||(this.variableOffsets[k]=M[k]);for(let k in D)this.placedOrientations[k]||!this.opacities[k]||this.opacities[k].isHidden()||(this.placedOrientations[k]=D[k]);if(f&&f.lastPlacementChangeTime===void 0)throw new Error("Last placement time for previous placement is not defined");m?this.lastPlacementChangeTime=a:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=f?f.lastPlacementChangeTime:a)}updateLayerOpacities(a,f){let m={};for(let y of f){let w=y.getBucket(a);w&&y.latestFeatureIndex&&a.id===w.layerIds[0]&&this.updateBucketOpacities(w,y.tileID,m,y.collisionBoxArray)}}updateBucketOpacities(a,f,m,y){a.hasTextData()&&(a.text.opacityVertexArray.clear(),a.text.hasVisibleVertices=!1),a.hasIconData()&&(a.icon.opacityVertexArray.clear(),a.icon.hasVisibleVertices=!1),a.hasIconCollisionBoxData()&&a.iconCollisionBox.collisionVertexArray.clear(),a.hasTextCollisionBoxData()&&a.textCollisionBox.collisionVertexArray.clear();let w=a.layers[0],M=w.layout,D=new Hn(null,0,!1,!1,!0),k=M.get("text-allow-overlap"),B=M.get("icon-allow-overlap"),V=w._unevaluatedLayout.hasValue("text-variable-anchor")||w._unevaluatedLayout.hasValue("text-variable-anchor-offset"),W=M.get("text-rotation-alignment")==="map",G=M.get("text-pitch-alignment")==="map",K=M.get("icon-text-fit")!=="none",ee=new Hn(null,0,k&&(B||!a.hasIconData()||M.get("icon-optional")),B&&(k||!a.hasTextData()||M.get("text-optional")),!0);!a.collisionArrays&&y&&(a.hasIconCollisionBoxData()||a.hasTextCollisionBoxData())&&a.deserializeCollisionBoxes(y);let pe=(fe,ge,Te)=>{for(let be=0;be<ge/4;be++)fe.opacityVertexArray.emplaceBack(Te);fe.hasVisibleVertices=fe.hasVisibleVertices||Te!==ld},ce=this.collisionBoxArrays.get(a.bucketInstanceId);for(let fe=0;fe<a.symbolInstances.length;fe++){let ge=a.symbolInstances.get(fe),{numHorizontalGlyphVertices:Te,numVerticalGlyphVertices:be,crossTileID:Ae}=ge,Ne=this.opacities[Ae];m[Ae]?Ne=D:Ne||(Ne=ee,this.opacities[Ae]=Ne),m[Ae]=!0;let Se=ge.numIconVertices>0,Ve=this.placedOrientations[ge.crossTileID],et=Ve===o.ao.vertical,He=Ve===o.ao.horizontal||Ve===o.ao.horizontalOnly;if(Te>0||be>0){let Qe=rb(Ne.text);pe(a.text,Te,et?ld:Qe),pe(a.text,be,He?ld:Qe);let Tt=Ne.text.isHidden();[ge.rightJustifiedTextSymbolIndex,ge.centerJustifiedTextSymbolIndex,ge.leftJustifiedTextSymbolIndex].forEach(tr=>{tr>=0&&(a.text.placedSymbolArray.get(tr).hidden=Tt||et?1:0)}),ge.verticalPlacedTextSymbolIndex>=0&&(a.text.placedSymbolArray.get(ge.verticalPlacedTextSymbolIndex).hidden=Tt||He?1:0);let At=this.variableOffsets[ge.crossTileID];At&&this.markUsedJustification(a,At.anchor,ge,Ve);let dt=this.placedOrientations[ge.crossTileID];dt&&(this.markUsedJustification(a,"left",ge,dt),this.markUsedOrientation(a,dt,ge))}if(Se){let Qe=rb(Ne.icon),Tt=!(K&&ge.verticalPlacedIconSymbolIndex&&et);ge.placedIconSymbolIndex>=0&&(pe(a.icon,ge.numIconVertices,Tt?Qe:ld),a.icon.placedSymbolArray.get(ge.placedIconSymbolIndex).hidden=Ne.icon.isHidden()),ge.verticalPlacedIconSymbolIndex>=0&&(pe(a.icon,ge.numVerticalIconVertices,Tt?ld:Qe),a.icon.placedSymbolArray.get(ge.verticalPlacedIconSymbolIndex).hidden=Ne.icon.isHidden())}let Ze=ce&&ce.has(fe)?ce.get(fe):{text:null,icon:null};if(a.hasIconCollisionBoxData()||a.hasTextCollisionBoxData()){let Qe=a.collisionArrays[fe];if(Qe){let Tt=new o.P(0,0);if(Qe.textBox||Qe.verticalTextBox){let At=!0;if(V){let dt=this.variableOffsets[Ae];dt?(Tt=Cc(dt.anchor,dt.width,dt.height,dt.textOffset,dt.textBoxScale),W&&Tt._rotate(G?-this.transform.bearingInRadians:this.transform.bearingInRadians)):At=!1}if(Qe.textBox||Qe.verticalTextBox){let dt;Qe.textBox&&(dt=et),Qe.verticalTextBox&&(dt=He),tb(a.textCollisionBox.collisionVertexArray,Ne.text.placed,!At||dt,Ze.text,Tt.x,Tt.y)}}if(Qe.iconBox||Qe.verticalIconBox){let At=!!(!He&&Qe.verticalIconBox),dt;Qe.iconBox&&(dt=At),Qe.verticalIconBox&&(dt=!At),tb(a.iconCollisionBox.collisionVertexArray,Ne.icon.placed,dt,Ze.icon,K?Tt.x:0,K?Tt.y:0)}}}}if(a.sortFeatures(-this.transform.bearingInRadians),this.retainedQueryData[a.bucketInstanceId]&&(this.retainedQueryData[a.bucketInstanceId].featureSortOrder=a.featureSortOrder),a.hasTextData()&&a.text.opacityVertexBuffer&&a.text.opacityVertexBuffer.updateData(a.text.opacityVertexArray),a.hasIconData()&&a.icon.opacityVertexBuffer&&a.icon.opacityVertexBuffer.updateData(a.icon.opacityVertexArray),a.hasIconCollisionBoxData()&&a.iconCollisionBox.collisionVertexBuffer&&a.iconCollisionBox.collisionVertexBuffer.updateData(a.iconCollisionBox.collisionVertexArray),a.hasTextCollisionBoxData()&&a.textCollisionBox.collisionVertexBuffer&&a.textCollisionBox.collisionVertexBuffer.updateData(a.textCollisionBox.collisionVertexArray),a.text.opacityVertexArray.length!==a.text.layoutVertexArray.length/4)throw new Error(`bucket.text.opacityVertexArray.length (= ${a.text.opacityVertexArray.length}) !== bucket.text.layoutVertexArray.length (= ${a.text.layoutVertexArray.length}) / 4`);if(a.icon.opacityVertexArray.length!==a.icon.layoutVertexArray.length/4)throw new Error(`bucket.icon.opacityVertexArray.length (= ${a.icon.opacityVertexArray.length}) !== bucket.icon.layoutVertexArray.length (= ${a.icon.layoutVertexArray.length}) / 4`);a.bucketInstanceId in this.collisionCircleArrays&&(a.collisionCircleArray=this.collisionCircleArrays[a.bucketInstanceId],delete this.collisionCircleArrays[a.bucketInstanceId])}symbolFadeChange(a){return this.fadeDuration===0?1:(a-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(a){return Math.max(0,(this.transform.zoom-a)/1.5)}hasTransitions(a){return this.stale||a-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(a,f){let m=this.zoomAtLastRecencyCheck===f?1-this.zoomAdjustment(f):1;return this.zoomAtLastRecencyCheck=f,this.commitTime+this.fadeDuration*m>a}setStale(){this.stale=!0}}function tb(x,a,f,m,y,w){m&&m.length!==0||(m=[0,0,0,0]);let M=m[0]-Pi,D=m[1]-Pi,k=m[2]-Pi,B=m[3]-Pi;x.emplaceBack(a?1:0,f?1:0,y||0,w||0,M,D),x.emplaceBack(a?1:0,f?1:0,y||0,w||0,k,D),x.emplaceBack(a?1:0,f?1:0,y||0,w||0,k,B),x.emplaceBack(a?1:0,f?1:0,y||0,w||0,M,B)}let XI=Math.pow(2,25),QI=Math.pow(2,24),sd=Math.pow(2,17),JI=Math.pow(2,16),NR=Math.pow(2,9),RR=Math.pow(2,8),LR=Math.pow(2,1);function rb(x){if(x.opacity===0&&!x.placed)return 0;if(x.opacity===1&&x.placed)return 4294967295;let a=x.placed?1:0,f=Math.floor(127*x.opacity);return f*XI+a*QI+f*sd+a*JI+f*NR+a*RR+f*LR+a}let ld=0;class nb{constructor(a){this._sortAcrossTiles=a.layout.get("symbol-z-order")!=="viewport-y"&&!a.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(a,f,m,y,w){let M=this._bucketParts;for(;this._currentTileIndex<a.length;)if(f.getBucketParts(M,y,a[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,w())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,M.sort((D,k)=>D.sortKey-k.sortKey));this._currentPartIndex<M.length;)if(f.placeLayerBucketPart(M[this._currentPartIndex],this._seenCrossTileIDs,m),this._currentPartIndex++,w())return!0;return!1}}class ib{constructor(a,f,m,y,w,M,D,k){this.placement=new Ac(a,f,M,D,k),this._currentPlacementIndex=m.length-1,this._forceFullPlacement=y,this._showCollisionBoxes=w,this._done=!1}isDone(){return this._done}continuePlacement(a,f,m){let y=I.now(),w=()=>!this._forceFullPlacement&&I.now()-y>2;for(;this._currentPlacementIndex>=0;){let M=f[a[this._currentPlacementIndex]],D=this.placement.collisionIndex.transform.zoom;if(M.type==="symbol"&&(!M.minzoom||M.minzoom<=D)&&(!M.maxzoom||M.maxzoom>D)){if(this._inProgressLayer||(this._inProgressLayer=new nb(M)),this._inProgressLayer.continuePlacement(m[M.source],this.placement,this._showCollisionBoxes,M,w))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(a){return this.placement.commit(a),this.placement}}let ud=512/o.$/2;class ob{constructor(a,f,m){this.tileID=a,this.bucketInstanceId=m,this._symbolsByKey={};let y=new Map;for(let w=0;w<f.length;w++){let M=f.get(w),D=M.key,k=y.get(D);k?k.push(M):y.set(D,[M])}for(let[w,M]of y){let D={positions:M.map(k=>({x:Math.floor(k.anchorX*ud),y:Math.floor(k.anchorY*ud)})),crossTileIDs:M.map(k=>k.crossTileID)};if(D.positions.length>128){let k=new o.aI(D.positions.length,16,Uint16Array);for(let{x:B,y:V}of D.positions)k.add(B,V);k.finish(),delete D.positions,D.index=k}this._symbolsByKey[w]=D}}getScaledCoordinates(a,f){let{x:m,y,z:w}=this.tileID.canonical,{x:M,y:D,z:k}=f.canonical,B=ud/Math.pow(2,k-w),V=(D*o.$+a.anchorY)*B,W=y*o.$*ud;return{x:Math.floor((M*o.$+a.anchorX)*B-m*o.$*ud),y:Math.floor(V-W)}}findMatches(a,f,m){let y=this.tileID.canonical.z<f.canonical.z?1:Math.pow(2,this.tileID.canonical.z-f.canonical.z);for(let w=0;w<a.length;w++){let M=a.get(w);if(M.crossTileID)continue;let D=this._symbolsByKey[M.key];if(!D)continue;let k=this.getScaledCoordinates(M,f);if(D.index){let B=D.index.range(k.x-y,k.y-y,k.x+y,k.y+y).sort();for(let V of B){let W=D.crossTileIDs[V];if(!m[W]){m[W]=!0,M.crossTileID=W;break}}}else if(D.positions)for(let B=0;B<D.positions.length;B++){let V=D.positions[B],W=D.crossTileIDs[B];if(Math.abs(V.x-k.x)<=y&&Math.abs(V.y-k.y)<=y&&!m[W]){m[W]=!0,M.crossTileID=W;break}}}}getCrossTileIDsLists(){return Object.values(this._symbolsByKey).map(({crossTileIDs:a})=>a)}}class ab{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class qR{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(a){let f=Math.round((a-this.lng)/360);if(f!==0)for(let m in this.indexes){let y=this.indexes[m],w={};for(let M in y){let D=y[M];D.tileID=D.tileID.unwrapTo(D.tileID.wrap+f),w[D.tileID.key]=D}this.indexes[m]=w}this.lng=a}addBucket(a,f,m){if(this.indexes[a.overscaledZ]&&this.indexes[a.overscaledZ][a.key]){if(this.indexes[a.overscaledZ][a.key].bucketInstanceId===f.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(a.overscaledZ,this.indexes[a.overscaledZ][a.key])}for(let w=0;w<f.symbolInstances.length;w++)f.symbolInstances.get(w).crossTileID=0;this.usedCrossTileIDs[a.overscaledZ]||(this.usedCrossTileIDs[a.overscaledZ]={});let y=this.usedCrossTileIDs[a.overscaledZ];for(let w in this.indexes){let M=this.indexes[w];if(Number(w)>a.overscaledZ)for(let D in M){let k=M[D];k.tileID.isChildOf(a)&&k.findMatches(f.symbolInstances,a,y)}else{let D=M[a.scaledTo(Number(w)).key];D&&D.findMatches(f.symbolInstances,a,y)}}for(let w=0;w<f.symbolInstances.length;w++){let M=f.symbolInstances.get(w);M.crossTileID||(M.crossTileID=m.generate(),y[M.crossTileID]=!0)}return this.indexes[a.overscaledZ]===void 0&&(this.indexes[a.overscaledZ]={}),this.indexes[a.overscaledZ][a.key]=new ob(a,f.symbolInstances,f.bucketInstanceId),!0}removeBucketCrossTileIDs(a,f){for(let m of f.getCrossTileIDsLists())for(let y of m)delete this.usedCrossTileIDs[a][y]}removeStaleBuckets(a){let f=!1;for(let m in this.indexes){let y=this.indexes[m];for(let w in y)a[y[w].bucketInstanceId]||(this.removeBucketCrossTileIDs(m,y[w]),delete y[w],f=!0)}return f}}class cd{constructor(){this.layerIndexes={},this.crossTileIDs=new ab,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(a,f,m){let y=this.layerIndexes[a.id];y===void 0&&(y=this.layerIndexes[a.id]=new qR);let w=!1,M={};y.handleWrapJump(m);for(let D of f){let k=D.getBucket(a);k&&a.id===k.layerIds[0]&&(k.bucketInstanceId||(k.bucketInstanceId=++this.maxBucketInstanceId),y.addBucket(D.tileID,k,this.crossTileIDs)&&(w=!0),M[k.bucketInstanceId]=!0)}return y.removeStaleBuckets(M)&&(w=!0),w}pruneUnusedLayers(a){let f={};a.forEach(m=>{f[m]=!0});for(let m in this.layerIndexes)f[m]||delete this.layerIndexes[m]}}var mm="void main() {fragColor=vec4(1.0);}";let ol={prelude:tn(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
out highp vec4 fragColor;`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}mat3 rotationMatrixFromAxisAngle(vec3 u,float angle) {float c=cos(angle);float s=sin(angle);float c2=1.0-c;return mat3(u.x*u.x*c2+      c,u.x*u.y*c2-u.z*s,u.x*u.z*c2+u.y*s,u.y*u.x*c2+u.z*s,u.y*u.y*c2+    c,u.y*u.z*c2-u.x*s,u.z*u.x*c2-u.y*s,u.z*u.y*c2+u.x*s,u.z*u.z*c2+    c
);}
#ifdef TERRAIN3D
uniform sampler2D u_terrain;uniform float u_terrain_dim;uniform mat4 u_terrain_matrix;uniform vec4 u_terrain_unpack;uniform float u_terrain_exaggeration;uniform highp sampler2D u_depth;
#endif
const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitShifts=vec4(1.)/bitSh;highp float unpack(highp vec4 color) {return dot(color,bitShifts);}highp float depthOpacity(vec3 frag) {
#ifdef TERRAIN3D
highp float d=unpack(texture(u_depth,frag.xy*0.5+0.5))+0.0001-frag.z;return 1.0-max(0.0,min(1.0,-d*500.0));
#else
return 1.0;
#endif
}float calculate_visibility(vec4 pos) {
#ifdef TERRAIN3D
vec3 frag=pos.xyz/pos.w;highp float d=depthOpacity(frag);if (d > 0.95) return 1.0;return (d+depthOpacity(frag+vec3(0.0,0.01,0.0)))/2.0;
#else
return 1.0;
#endif
}float ele(vec2 pos) {
#ifdef TERRAIN3D
vec4 rgb=(texture(u_terrain,pos)*255.0)*u_terrain_unpack;return rgb.r+rgb.g+rgb.b-u_terrain_unpack.a;
#else
return 0.0;
#endif
}float get_elevation(vec2 pos) {
#ifdef TERRAIN3D
#ifdef GLOBE
if ((pos.y <-32767.5) || (pos.y > 32766.5)) {return 0.0;}
#endif
vec2 coord=(u_terrain_matrix*vec4(pos,0.0,1.0)).xy*u_terrain_dim+1.0;vec2 f=fract(coord);vec2 c=(floor(coord)+0.5)/(u_terrain_dim+2.0);float d=1.0/(u_terrain_dim+2.0);float tl=ele(c);float tr=ele(c+vec2(d,0.0));float bl=ele(c+vec2(0.0,d));float br=ele(c+vec2(d,d));float elevation=mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);return elevation*u_terrain_exaggeration;
#else
return 0.0;
#endif
}const float PI=3.141592653589793;uniform mat4 u_projection_matrix;`),projectionMercator:tn("","float projectLineThickness(float tileY) {return 1.0;}float projectCircleRadius(float tileY) {return 1.0;}vec4 projectTile(vec2 p) {vec4 result=u_projection_matrix*vec4(p,0.0,1.0);return result;}vec4 projectTile(vec2 p,vec2 rawPos) {vec4 result=u_projection_matrix*vec4(p,0.0,1.0);if (rawPos.y <-32767.5 || rawPos.y > 32766.5) {result.z=-10000000.0;}return result;}vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return u_projection_matrix*vec4(posInTile,elevation,1.0);}vec4 projectTileFor3D(vec2 posInTile,float elevation) {return projectTileWithElevation(posInTile,elevation);}"),projectionGlobe:tn("",`#define GLOBE_RADIUS 6371008.8
uniform highp vec4 u_projection_tile_mercator_coords;uniform highp vec4 u_projection_clipping_plane;uniform highp float u_projection_transition;uniform mat4 u_projection_fallback_matrix;vec3 globeRotateVector(vec3 vec,vec2 angles) {vec3 axisRight=vec3(vec.z,0.0,-vec.x);vec3 axisUp=cross(axisRight,vec);axisRight=normalize(axisRight);axisUp=normalize(axisUp);vec2 t=tan(angles);return normalize(vec+axisRight*t.x+axisUp*t.y);}mat3 globeGetRotationMatrix(vec3 spherePos) {vec3 axisRight=vec3(spherePos.z,0.0,-spherePos.x);vec3 axisDown=cross(axisRight,spherePos);axisRight=normalize(axisRight);axisDown=normalize(axisDown);return mat3(axisRight,axisDown,spherePos
);}float circumferenceRatioAtTileY(float tileY) {float mercator_pos_y=u_projection_tile_mercator_coords.y+u_projection_tile_mercator_coords.w*tileY;float spherical_y=2.0*atan(exp(PI-(mercator_pos_y*PI*2.0)))-PI*0.5;return cos(spherical_y);}float projectLineThickness(float tileY) {float thickness=1.0/circumferenceRatioAtTileY(tileY); 
if (u_projection_transition < 0.999) {return mix(1.0,thickness,u_projection_transition);} else {return thickness;}}vec3 projectToSphere(vec2 translatedPos,vec2 rawPos) {vec2 mercator_pos=u_projection_tile_mercator_coords.xy+u_projection_tile_mercator_coords.zw*translatedPos;vec2 spherical;spherical.x=mercator_pos.x*PI*2.0+PI;spherical.y=2.0*atan(exp(PI-(mercator_pos.y*PI*2.0)))-PI*0.5;float len=cos(spherical.y);vec3 pos=vec3(sin(spherical.x)*len,sin(spherical.y),cos(spherical.x)*len
);if (rawPos.y <-32767.5) {pos=vec3(0.0,1.0,0.0);}if (rawPos.y > 32766.5) {pos=vec3(0.0,-1.0,0.0);}return pos;}vec3 projectToSphere(vec2 posInTile) {return projectToSphere(posInTile,vec2(0.0,0.0));}float globeComputeClippingZ(vec3 spherePos) {return (1.0-(dot(spherePos,u_projection_clipping_plane.xyz)+u_projection_clipping_plane.w));}vec4 interpolateProjection(vec2 posInTile,vec3 spherePos,float elevation) {vec3 elevatedPos=spherePos*(1.0+elevation/GLOBE_RADIUS);vec4 globePosition=u_projection_matrix*vec4(elevatedPos,1.0);globePosition.z=globeComputeClippingZ(elevatedPos)*globePosition.w;if (u_projection_transition > 0.999) {return globePosition;}vec4 flatPosition=u_projection_fallback_matrix*vec4(posInTile,elevation,1.0);const float z_globeness_threshold=0.2;vec4 result=globePosition;result.z=mix(0.0,globePosition.z,clamp((u_projection_transition-z_globeness_threshold)/(1.0-z_globeness_threshold),0.0,1.0));result.xyw=mix(flatPosition.xyw,globePosition.xyw,u_projection_transition);if ((posInTile.y <-32767.5) || (posInTile.y > 32766.5)) {result=globePosition;const float poles_hidden_anim_percentage=0.02;result.z=mix(globePosition.z,100.0,pow(max((1.0-u_projection_transition)/poles_hidden_anim_percentage,0.0),8.0));}return result;}vec4 interpolateProjectionFor3D(vec2 posInTile,vec3 spherePos,float elevation) {vec3 elevatedPos=spherePos*(1.0+elevation/GLOBE_RADIUS);vec4 globePosition=u_projection_matrix*vec4(elevatedPos,1.0);if (u_projection_transition > 0.999) {return globePosition;}vec4 fallbackPosition=u_projection_fallback_matrix*vec4(posInTile,elevation,1.0);return mix(fallbackPosition,globePosition,u_projection_transition);}vec4 projectTile(vec2 posInTile) {return interpolateProjection(posInTile,projectToSphere(posInTile),0.0);}vec4 projectTile(vec2 posInTile,vec2 rawPos) {return interpolateProjection(posInTile,projectToSphere(posInTile,rawPos),0.0);}vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return interpolateProjection(posInTile,projectToSphere(posInTile),elevation);}vec4 projectTileFor3D(vec2 posInTile,float elevation) {vec3 spherePos=projectToSphere(posInTile,posInTile);return interpolateProjectionFor3D(posInTile,spherePos,elevation);}`),background:tn(`uniform vec4 u_color;uniform float u_opacity;void main() {fragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"in vec2 a_pos;void main() {gl_Position=projectTile(a_pos);}"),backgroundPattern:tn(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;in vec2 v_pos_a;in vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);fragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;in vec2 a_pos;out vec2 v_pos_a;out vec2 v_pos_b;void main() {gl_Position=projectTile(a_pos);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),circle:tn(`in vec3 v_data;in float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);float antialiased_blur=v_data.z;float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));fragColor=v_visibility*opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);const float epsilon=0.5/255.0;if (fragColor.r < epsilon && fragColor.g < epsilon && fragColor.b < epsilon && fragColor.a < epsilon) {discard;}
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform highp float u_globe_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;uniform vec2 u_translate;in vec2 a_pos;out vec3 v_data;out float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 pos_raw=a_pos+32768.0;vec2 extrude=vec2(mod(pos_raw,8.0)/7.0*2.0-1.0);vec2 circle_center=floor(pos_raw/8.0)+u_translate;float ele=get_elevation(circle_center);v_visibility=calculate_visibility(projectTileWithElevation(circle_center,ele));if (u_pitch_with_map) {
#ifdef GLOBE
vec3 center_vector=projectToSphere(circle_center);
#endif
float angle_scale=u_globe_extrude_scale;vec2 corner_position=circle_center;if (u_scale_with_map) {angle_scale*=(radius+stroke_width);corner_position+=extrude*u_extrude_scale*(radius+stroke_width);} else {
#ifdef GLOBE
vec4 projected_center=interpolateProjection(circle_center,center_vector,ele);
#else
vec4 projected_center=projectTileWithElevation(circle_center,ele);
#endif
corner_position+=extrude*u_extrude_scale*(radius+stroke_width)*(projected_center.w/u_camera_to_center_distance);angle_scale*=(radius+stroke_width)*(projected_center.w/u_camera_to_center_distance);}
#ifdef GLOBE
vec2 angles=extrude*angle_scale;vec3 corner_vector=globeRotateVector(center_vector,angles);gl_Position=interpolateProjection(corner_position,corner_vector,ele);
#else
gl_Position=projectTileWithElevation(corner_position,ele);
#endif
} else {gl_Position=projectTileWithElevation(circle_center,ele);if (gl_Position.z/gl_Position.w > 1.0) {gl_Position.xy=vec2(10000.0);}if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}float antialiasblur=-max(1.0/u_device_pixel_ratio/(radius+stroke_width),blur);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),clippingMask:tn(mm,"in vec2 a_pos;void main() {gl_Position=projectTile(a_pos);}"),heatmap:tn(`uniform highp float u_intensity;in vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);fragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;uniform highp float u_globe_extrude_scale;in vec2 a_pos;out vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 pos_raw=a_pos+32768.0;vec2 unscaled_extrude=vec2(mod(pos_raw,8.0)/7.0*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec2 circle_center=floor(pos_raw/8.0);
#ifdef GLOBE
vec2 angles=v_extrude*radius*u_globe_extrude_scale;vec3 center_vector=projectToSphere(circle_center);vec3 corner_vector=globeRotateVector(center_vector,angles);gl_Position=interpolateProjection(circle_center+extrude,corner_vector,0.0);
#else
gl_Position=projectTileFor3D(circle_center+extrude,get_elevation(circle_center));
#endif
}`),heatmapTexture:tn(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;in vec2 v_pos;void main() {float t=texture(u_image,v_pos).r;vec4 color=texture(u_color_ramp,vec2(t,0.5));fragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;in vec2 a_pos;out vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),collisionBox:tn("in float v_placed;in float v_notUsed;void main() {float alpha=0.5;fragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {fragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {fragColor*=.1;}}","in vec2 a_anchor_pos;in vec2 a_placed;in vec2 a_box_real;uniform vec2 u_pixel_extrude_scale;out float v_placed;out float v_notUsed;void main() {gl_Position=projectTileWithElevation(a_anchor_pos,get_elevation(a_anchor_pos));gl_Position.xy=((a_box_real+0.5)*u_pixel_extrude_scale*2.0-1.0)*vec2(1.0,-1.0)*gl_Position.w;if (gl_Position.z/gl_Position.w < 1.1) {gl_Position.z=0.5;}v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:tn("in float v_radius;in vec2 v_extrude;in float v_collision;void main() {float alpha=0.5;float stroke_radius=0.9;float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);fragColor=color*alpha*opacity_t;}","in vec2 a_pos;in float a_radius;in vec2 a_flags;uniform vec2 u_viewport_size;out float v_radius;out vec2 v_extrude;out float v_collision;void main() {float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_collision=collision;gl_Position=vec4((a_pos/u_viewport_size*2.0-1.0)*vec2(1.0,-1.0),0.0,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),colorRelief:tn(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;uniform vec4 u_unpack;uniform sampler2D u_elevation_stops;uniform sampler2D u_color_stops;uniform int u_color_ramp_size;uniform float u_opacity;in vec2 v_pos;float getElevation(vec2 coord) {vec4 data=texture(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack);}float getElevationStop(int stop) {float x=(float(stop)+0.5)/float(u_color_ramp_size);vec4 data=texture(u_elevation_stops,vec2(x,0))*255.0;data.a=-1.0;return dot(data,u_unpack);}void main() {float el=getElevation(v_pos);int r=(u_color_ramp_size-1);int l=0;float el_l=getElevationStop(l);float el_r=getElevationStop(r);while(r-l > 1){int m=(r+l)/2;float el_m=getElevationStop(m);if(el < el_m){r=m;el_r=el_m;}else
{l=m;el_l=el_m;}}float x=(float(l)+(el-el_l)/(el_r-el_l)+0.5)/float(u_color_ramp_size);fragColor=u_opacity*texture(u_color_stops,vec2(x,0));
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"uniform vec2 u_dimension;in vec2 a_pos;out vec2 v_pos;void main() {gl_Position=projectTile(a_pos,a_pos);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_pos/8192.0)*scale+epsilon;if (a_pos.y <-32767.5) {v_pos.y=0.0;}if (a_pos.y > 32766.5) {v_pos.y=1.0;}}"),debug:tn("uniform highp vec4 u_color;uniform sampler2D u_overlay;in vec2 v_uv;void main() {vec4 overlay_color=texture(u_overlay,v_uv);fragColor=mix(u_color,overlay_color,overlay_color.a);}","in vec2 a_pos;out vec2 v_uv;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=projectTileWithElevation(a_pos*u_overlay_scale,get_elevation(a_pos));}"),depth:tn(mm,`in vec2 a_pos;void main() {
#ifdef GLOBE
gl_Position=projectTileFor3D(a_pos,0.0);
#else
gl_Position=u_projection_matrix*vec4(a_pos,0.0,1.0);
#endif
}`),fill:tn(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
fragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_fill_translate;in vec2 a_pos;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=projectTile(a_pos+u_fill_translate,a_pos);}`),fillOutline:tn(`in vec2 v_pos;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);fragColor=outline_color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_world;uniform vec2 u_fill_translate;in vec2 a_pos;out vec2 v_pos;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=projectTile(a_pos+u_fill_translate,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
}`),fillOutlinePattern:tn(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;in vec2 v_pos_a;in vec2 v_pos_b;in vec2 v_pos;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);fragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;uniform vec2 u_fill_translate;in vec2 a_pos;out vec2 v_pos_a;out vec2 v_pos_b;out vec2 v_pos;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=projectTile(a_pos+u_fill_translate,a_pos);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
}`),fillPattern:tn(`#ifdef GL_ES
precision highp float;
#endif
uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;in vec2 v_pos_a;in vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);fragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;uniform vec2 u_fill_translate;in vec2 a_pos;out vec2 v_pos_a;out vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=projectTile(a_pos+u_fill_translate,a_pos);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),fillExtrusion:tn(`in vec4 v_color;void main() {fragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp vec3 u_lightpos_globe;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec2 u_fill_translate;in vec2 a_pos;in vec4 a_normal_ed;
#ifdef TERRAIN3D
in vec2 a_centroid;
#endif
out vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float elevation=t > 0.0 ? height : base;vec2 posInTile=a_pos+u_fill_translate;
#ifdef GLOBE
vec3 spherePos=projectToSphere(posInTile,a_pos);gl_Position=interpolateProjectionFor3D(posInTile,spherePos,elevation);
#else
gl_Position=u_projection_matrix*vec4(posInTile,elevation,1.0);
#endif
float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;vec3 normalForLighting=normal/16384.0;float directional=clamp(dot(normalForLighting,u_lightpos),0.0,1.0);
#ifdef GLOBE
mat3 rotMatrix=globeGetRotationMatrix(spherePos);normalForLighting=rotMatrix*normalForLighting;directional=mix(directional,clamp(dot(normalForLighting,u_lightpos_globe),0.0,1.0),u_projection_transition);
#endif
directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),fillExtrusionPattern:tn(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;in vec2 v_pos_a;in vec2 v_pos_b;in vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);fragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec2 u_fill_translate;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp vec3 u_lightpos_globe;uniform lowp float u_lightintensity;in vec2 a_pos;in vec4 a_normal_ed;
#ifdef TERRAIN3D
in vec2 a_centroid;
#endif
#ifdef GLOBE
out vec3 v_sphere_pos;
#endif
out vec2 v_pos_a;out vec2 v_pos_b;out vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float elevation=t > 0.0 ? height : base;vec2 posInTile=a_pos+u_fill_translate;
#ifdef GLOBE
vec3 spherePos=projectToSphere(posInTile,a_pos);vec3 elevatedPos=spherePos*(1.0+elevation/GLOBE_RADIUS);v_sphere_pos=elevatedPos;gl_Position=interpolateProjectionFor3D(posInTile,spherePos,elevation);
#else
gl_Position=u_projection_matrix*vec4(posInTile,elevation,1.0);
#endif
vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,elevation*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),hillshadePrepare:tn(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;in vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack);}void main() {vec2 epsilon=1.0/u_dimension;float tileSize=u_dimension.x-2.0;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))*tileSize/pow(2.0,exaggeration+(28.2562-u_zoom));fragColor=clamp(vec4(deriv.x/8.0+0.5,deriv.y/8.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;in vec2 a_pos;in vec2 a_texture_pos;out vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:tn(`uniform sampler2D u_image;in vec2 v_pos;uniform vec2 u_latrange;uniform float u_exaggeration;uniform vec4 u_accent;uniform int u_method;uniform float u_altitudes[NUM_ILLUMINATION_SOURCES];uniform float u_azimuths[NUM_ILLUMINATION_SOURCES];uniform vec4 u_shadows[NUM_ILLUMINATION_SOURCES];uniform vec4 u_highlights[NUM_ILLUMINATION_SOURCES];
#define PI 3.141592653589793
#define STANDARD 0
#define COMBINED 1
#define IGOR 2
#define MULTIDIRECTIONAL 3
#define BASIC 4
float get_aspect(vec2 deriv){return deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);}void igor_hillshade(vec2 deriv){deriv=deriv*u_exaggeration*2.0;float aspect=get_aspect(deriv);float azimuth=u_azimuths[0]+PI;float slope_stength=atan(length(deriv))*2.0/PI;float aspect_strength=1.0-abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);float shadow_strength=slope_stength*aspect_strength;float highlight_strength=slope_stength*(1.0-aspect_strength);fragColor=u_shadows[0]*shadow_strength+u_highlights[0]*highlight_strength;}void standard_hillshade(vec2 deriv){float azimuth=u_azimuths[0]+PI;float slope=atan(0.625*length(deriv));float aspect=get_aspect(deriv);float intensity=u_exaggeration;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadows[0],u_highlights[0],shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);fragColor=accent_color*(1.0-shade_color.a)+shade_color;}void basic_hillshade(vec2 deriv){deriv=deriv*u_exaggeration*2.0;float azimuth=u_azimuths[0]+PI;float cos_az=cos(azimuth);float sin_az=sin(azimuth);float cos_alt=cos(u_altitudes[0]);float sin_alt=sin(u_altitudes[0]);float cang=(sin_alt-(deriv.y*cos_az*cos_alt-deriv.x*sin_az*cos_alt))/sqrt(1.0+dot(deriv,deriv));float shade=clamp(cang,0.0,1.0);if(shade > 0.5){fragColor=u_highlights[0]*(2.0*shade-1.0);}else
{fragColor=u_shadows[0]*(1.0-2.0*shade);}}void multidirectional_hillshade(vec2 deriv){deriv=deriv*u_exaggeration*2.0;fragColor=vec4(0,0,0,0);for(int i=0; i < NUM_ILLUMINATION_SOURCES; i++){float cos_alt=cos(u_altitudes[i]);float sin_alt=sin(u_altitudes[i]);float cos_az=-cos(u_azimuths[i]);float sin_az=-sin(u_azimuths[i]);float cang=(sin_alt-(deriv.y*cos_az*cos_alt-deriv.x*sin_az*cos_alt))/sqrt(1.0+dot(deriv,deriv));float shade=clamp(cang,0.0,1.0);if(shade > 0.5){fragColor+=u_highlights[i]*(2.0*shade-1.0)/float(NUM_ILLUMINATION_SOURCES);}else
{fragColor+=u_shadows[i]*(1.0-2.0*shade)/float(NUM_ILLUMINATION_SOURCES);}}}void combined_hillshade(vec2 deriv){deriv=deriv*u_exaggeration*2.0;float azimuth=u_azimuths[0]+PI;float cos_az=cos(azimuth);float sin_az=sin(azimuth);float cos_alt=cos(u_altitudes[0]);float sin_alt=sin(u_altitudes[0]);float cang=acos((sin_alt-(deriv.y*cos_az*cos_alt-deriv.x*sin_az*cos_alt))/sqrt(1.0+dot(deriv,deriv)));cang=clamp(cang,0.0,PI/2.0);float shade=cang*atan(length(deriv))*4.0/PI/PI;float highlight=(PI/2.0-cang)*atan(length(deriv))*4.0/PI/PI;fragColor=u_shadows[0]*shade+u_highlights[0]*highlight;}void main() {vec4 pixel=texture(u_image,v_pos);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));vec2 deriv=((pixel.rg*8.0)-4.0)/scaleFactor;if (u_method==BASIC) {basic_hillshade(deriv);} else if (u_method==COMBINED) {combined_hillshade(deriv);} else if (u_method==IGOR) {igor_hillshade(deriv);} else if (u_method==MULTIDIRECTIONAL) {multidirectional_hillshade(deriv);} else if (u_method==STANDARD) {standard_hillshade(deriv);} else {standard_hillshade(deriv);}
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;in vec2 a_pos;out vec2 v_pos;void main() {gl_Position=projectTile(a_pos,a_pos);v_pos=a_pos/8192.0;if (a_pos.y <-32767.5) {v_pos.y=0.0;}if (a_pos.y > 32766.5) {v_pos.y=1.0;}}"),line:tn(`uniform lowp float u_device_pixel_ratio;in vec2 v_width2;in vec2 v_normal;in float v_gamma_scale;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);fragColor=color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
in vec2 a_pos_normal;in vec4 a_data;uniform vec2 u_translation;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;out vec2 v_normal;out vec2 v_width2;out float v_gamma_scale;out highp float v_linesofar;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),lineGradient:tn(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;in vec2 v_width2;in vec2 v_normal;in float v_gamma_scale;in highp vec2 v_uv;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture(u_image,v_uv);fragColor=color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
in vec2 a_pos_normal;in vec4 a_data;in float a_uv_x;in float a_split_index;uniform vec2 u_translation;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;out vec2 v_normal;out vec2 v_width2;out float v_gamma_scale;out highp vec2 v_uv;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),linePattern:tn(`#ifdef GL_ES
precision highp float;
#endif
uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;in vec2 v_normal;in vec2 v_width2;in float v_linesofar;in float v_gamma_scale;in float v_width;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture(u_image,pos_a),texture(u_image,pos_b),u_fade);fragColor=color*alpha*opacity;
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
in vec2 a_pos_normal;in vec4 a_data;uniform vec2 u_translation;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;out vec2 v_normal;out vec2 v_width2;out float v_linesofar;out float v_gamma_scale;out float v_width;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`),lineSDF:tn(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;in vec2 v_normal;in vec2 v_width2;in vec2 v_tex_a;in vec2 v_tex_b;in float v_gamma_scale;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture(u_image,v_tex_a).a;float sdfdist_b=texture(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);fragColor=color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
in vec2 a_pos_normal;in vec4 a_data;uniform vec2 u_translation;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;out vec2 v_normal;out vec2 v_width2;out vec2 v_tex_a;out vec2 v_tex_b;out float v_gamma_scale;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`),raster:tn(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;in vec2 v_pos0;in vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture(u_image0,v_pos0);vec4 color1=texture(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);fragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;uniform vec4 u_coords_top;uniform vec4 u_coords_bottom;in vec2 a_pos;out vec2 v_pos0;out vec2 v_pos1;void main() {vec2 fractionalPos=a_pos/8192.0;vec2 position=mix(mix(u_coords_top.xy,u_coords_top.zw,fractionalPos.x),mix(u_coords_bottom.xy,u_coords_bottom.zw,fractionalPos.x),fractionalPos.y);gl_Position=projectTile(position,position);v_pos0=((fractionalPos-0.5)/u_buffer_scale)+0.5;
#ifdef GLOBE
if (a_pos.y <-32767.5) {v_pos0.y=0.0;}if (a_pos.y > 32766.5) {v_pos0.y=1.0;}
#endif
v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}`),symbolIcon:tn(`uniform sampler2D u_texture;in vec2 v_tex;in float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;fragColor=texture(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`in vec4 a_pos_offset;in vec4 a_data;in vec4 a_pixeloffset;in vec3 a_projected_pos;in float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform vec2 u_translation;uniform float u_pitched_scale;out vec2 v_tex;out float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;
#ifdef GLOBE
if(u_pitch_with_map) {float anchor_pos_tile_y=(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w,z,1.0)).y;projectionScaling=mix(projectionScaling,1.0/circumferenceRatioAtTileY(anchor_pos_tile_y)*u_pitched_scale,u_projection_transition);}
#endif
vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}gl_Position=finalPos;v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float visibility=calculate_visibility(projectedPoint);v_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));}`),symbolSDF:tn(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;in vec2 v_data0;in vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float inner_edge=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);inner_edge=inner_edge+gamma*gamma_scale;}lowp float dist=texture(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(inner_edge-gamma_scaled,inner_edge+gamma_scaled,dist);if (u_is_halo) {lowp float halo_edge=(6.0-halo_width/fontScale)/SDF_PX;alpha=min(smoothstep(halo_edge-gamma_scaled,halo_edge+gamma_scaled,dist),1.0-alpha);}fragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`in vec4 a_pos_offset;in vec4 a_data;in vec4 a_pixeloffset;in vec3 a_projected_pos;in float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_translation;uniform float u_pitched_scale;out vec2 v_data0;out vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;
#ifdef GLOBE
if(u_pitch_with_map) {float anchor_pos_tile_y=(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w,z,1.0)).y;projectionScaling=mix(projectionScaling,1.0/circumferenceRatioAtTileY(anchor_pos_tile_y)*u_pitched_scale,u_projection_transition);}
#endif
vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}float gamma_scale=finalPos.w;gl_Position=finalPos;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),symbolTextAndIcon:tn(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;in vec4 v_data0;in vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;fragColor=texture(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);fragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`in vec4 a_pos_offset;in vec4 a_data;in vec3 a_projected_pos;in float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform vec2 u_translation;uniform float u_pitched_scale;out vec4 v_data0;out vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;
#ifdef GLOBE
if(u_pitch_with_map && !u_is_along_line) {float anchor_pos_tile_y=(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w,z,1.0)).y;projectionScaling=mix(projectionScaling,1.0/circumferenceRatioAtTileY(anchor_pos_tile_y)*u_pitched_scale,u_projection_transition);}
#endif
vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}float gamma_scale=finalPos.w;gl_Position=finalPos;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`),terrain:tn("uniform sampler2D u_texture;uniform vec4 u_fog_color;uniform vec4 u_horizon_color;uniform float u_fog_ground_blend;uniform float u_fog_ground_blend_opacity;uniform float u_horizon_fog_blend;uniform bool u_is_globe_mode;in vec2 v_texture_pos;in float v_fog_depth;const float gamma=2.2;vec4 gammaToLinear(vec4 color) {return pow(color,vec4(gamma));}vec4 linearToGamma(vec4 color) {return pow(color,vec4(1.0/gamma));}void main() {vec4 surface_color=texture(u_texture,vec2(v_texture_pos.x,1.0-v_texture_pos.y));if (!u_is_globe_mode && v_fog_depth > u_fog_ground_blend) {vec4 surface_color_linear=gammaToLinear(surface_color);float blend_color=smoothstep(0.0,1.0,max((v_fog_depth-u_horizon_fog_blend)/(1.0-u_horizon_fog_blend),0.0));vec4 fog_horizon_color_linear=mix(gammaToLinear(u_fog_color),gammaToLinear(u_horizon_color),blend_color);float factor_fog=max(v_fog_depth-u_fog_ground_blend,0.0)/(1.0-u_fog_ground_blend);fragColor=linearToGamma(mix(surface_color_linear,fog_horizon_color_linear,pow(factor_fog,2.0)*u_fog_ground_blend_opacity));} else {fragColor=surface_color;}}","in vec3 a_pos3d;uniform mat4 u_fog_matrix;uniform float u_ele_delta;out vec2 v_texture_pos;out float v_fog_depth;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/8192.0;gl_Position=projectTileFor3D(a_pos3d.xy,get_elevation(a_pos3d.xy)-ele_delta);vec4 pos=u_fog_matrix*vec4(a_pos3d.xy,ele,1.0);v_fog_depth=pos.z/pos.w*0.5+0.5;}"),terrainDepth:tn("in float v_depth;const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitMsk=vec4(0.,vec3(1./256.0));highp vec4 pack(highp float value) {highp vec4 comp=fract(value*bitSh);comp-=comp.xxyz*bitMsk;return comp;}void main() {fragColor=pack(v_depth);}","in vec3 a_pos3d;uniform float u_ele_delta;out float v_depth;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;gl_Position=projectTileFor3D(a_pos3d.xy,ele-ele_delta);v_depth=gl_Position.z/gl_Position.w;}"),terrainCoords:tn("precision mediump float;uniform sampler2D u_texture;uniform float u_terrain_coords_id;in vec2 v_texture_pos;void main() {vec4 rgba=texture(u_texture,v_texture_pos);fragColor=vec4(rgba.r,rgba.g,rgba.b,u_terrain_coords_id);}","in vec3 a_pos3d;uniform float u_ele_delta;out vec2 v_texture_pos;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/8192.0;gl_Position=projectTileFor3D(a_pos3d.xy,ele-ele_delta);}"),projectionErrorMeasurement:tn("in vec4 v_output_error_encoded;void main() {fragColor=v_output_error_encoded;}","in vec2 a_pos;uniform highp float u_input;uniform highp float u_output_expected;out vec4 v_output_error_encoded;void main() {float real_output=2.0*atan(exp(PI-(u_input*PI*2.0)))-PI*0.5;float error=real_output-u_output_expected;float abs_error=abs(error)*128.0;v_output_error_encoded.x=min(floor(abs_error*256.0),255.0)/255.0;abs_error-=v_output_error_encoded.x;v_output_error_encoded.y=min(floor(abs_error*65536.0),255.0)/255.0;abs_error-=v_output_error_encoded.x/255.0;v_output_error_encoded.z=min(floor(abs_error*16777216.0),255.0)/255.0;v_output_error_encoded.w=error >=0.0 ? 1.0 : 0.0;gl_Position=vec4(a_pos,0.0,1.0);}"),atmosphere:tn(`in vec3 view_direction;uniform vec3 u_sun_pos;uniform vec3 u_globe_position;uniform float u_globe_radius;uniform float u_atmosphere_blend;/**Shader use from https:*Made some change to adapt to MapLibre Globe geometry*/const float PI=3.141592653589793;const int iSteps=5;const int jSteps=3;/*radius of the planet*/const float EARTH_RADIUS=6371e3;/*radius of the atmosphere*/const float ATMOS_RADIUS=6471e3;vec2 rsi(vec3 r0,vec3 rd,float sr) {float a=dot(rd,rd);float b=2.0*dot(rd,r0);float c=dot(r0,r0)-(sr*sr);float d=(b*b)-4.0*a*c;if (d < 0.0) return vec2(1e5,-1e5);return vec2((-b-sqrt(d))/(2.0*a),(-b+sqrt(d))/(2.0*a));}vec4 atmosphere(vec3 r,vec3 r0,vec3 pSun,float iSun,float rPlanet,float rAtmos,vec3 kRlh,float kMie,float shRlh,float shMie,float g) {pSun=normalize(pSun);r=normalize(r);vec2 p=rsi(r0,r,rAtmos);if (p.x > p.y) {return vec4(0.0,0.0,0.0,1.0);}if (p.x < 0.0) {p.x=0.0;}vec3 pos=r0+r*p.x;vec2 p2=rsi(r0,r,rPlanet);if (p2.x <=p2.y && p2.x > 0.0) {p.y=min(p.y,p2.x);}float iStepSize=(p.y-p.x)/float(iSteps);float iTime=p.x+iStepSize*0.5;vec3 totalRlh=vec3(0,0,0);vec3 totalMie=vec3(0,0,0);float iOdRlh=0.0;float iOdMie=0.0;float mu=dot(r,pSun);float mumu=mu*mu;float gg=g*g;float pRlh=3.0/(16.0*PI)*(1.0+mumu);float pMie=3.0/(8.0*PI)*((1.0-gg)*(mumu+1.0))/(pow(1.0+gg-2.0*mu*g,1.5)*(2.0+gg));for (int i=0; i < iSteps; i++) {vec3 iPos=r0+r*iTime;float iHeight=length(iPos)-rPlanet;float odStepRlh=exp(-iHeight/shRlh)*iStepSize;float odStepMie=exp(-iHeight/shMie)*iStepSize;iOdRlh+=odStepRlh;iOdMie+=odStepMie;float jStepSize=rsi(iPos,pSun,rAtmos).y/float(jSteps);float jTime=jStepSize*0.5;float jOdRlh=0.0;float jOdMie=0.0;for (int j=0; j < jSteps; j++) {vec3 jPos=iPos+pSun*jTime;float jHeight=length(jPos)-rPlanet;jOdRlh+=exp(-jHeight/shRlh)*jStepSize;jOdMie+=exp(-jHeight/shMie)*jStepSize;jTime+=jStepSize;}vec3 attn=exp(-(kMie*(iOdMie+jOdMie)+kRlh*(iOdRlh+jOdRlh)));totalRlh+=odStepRlh*attn;totalMie+=odStepMie*attn;iTime+=iStepSize;}float opacity=exp(-(length(kRlh)*length(totalRlh)+kMie*length(totalMie)));vec3 color=iSun*(pRlh*kRlh*totalRlh+pMie*kMie*totalMie);return vec4(color,opacity);}void main() {vec3 scale_camera_pos=-u_globe_position*EARTH_RADIUS/u_globe_radius;vec4 color=atmosphere(normalize(view_direction),scale_camera_pos,u_sun_pos,22.0,EARTH_RADIUS,ATMOS_RADIUS,vec3(5.5e-6,13.0e-6,22.4e-6),21e-6,8e3,1.2e3,0.758
);color.rgb=1.0-exp(-1.0*color.rgb);color=pow(color,vec4(1.0/2.2));fragColor=vec4(color.rgb,1.0-color.a)*u_atmosphere_blend;}`,"in vec2 a_pos;uniform mat4 u_inv_proj_matrix;out vec3 view_direction;void main() {view_direction=(u_inv_proj_matrix*vec4(a_pos,0.0,1.0)).xyz;gl_Position=vec4(a_pos,0.0,1.0);}"),sky:tn("uniform vec4 u_sky_color;uniform vec4 u_horizon_color;uniform vec2 u_horizon;uniform vec2 u_horizon_normal;uniform float u_sky_horizon_blend;uniform float u_sky_blend;void main() {float x=gl_FragCoord.x;float y=gl_FragCoord.y;float blend=(y-u_horizon.y)*u_horizon_normal.y+(x-u_horizon.x)*u_horizon_normal.x;if (blend > 0.0) {if (blend < u_sky_horizon_blend) {fragColor=mix(u_sky_color,u_horizon_color,pow(1.0-blend/u_sky_horizon_blend,2.0));} else {fragColor=u_sky_color;}}fragColor=mix(fragColor,vec4(vec3(0.0),0.0),u_sky_blend);}","in vec2 a_pos;void main() {gl_Position=vec4(a_pos,1.0,1.0);}")};function tn(x,a){let f=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,m=a.match(/in ([\w]+) ([\w]+)/g),y=x.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),w=a.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),M=w?w.concat(y):y,D={};return{fragmentSource:x=x.replace(f,(k,B,V,W,G)=>(D[G]=!0,B==="define"?`
#ifndef HAS_UNIFORM_u_${G}
in ${V} ${W} ${G};
#else
uniform ${V} ${W} u_${G};
#endif
`:`
#ifdef HAS_UNIFORM_u_${G}
    ${V} ${W} ${G} = u_${G};
#endif
`)),vertexSource:a=a.replace(f,(k,B,V,W,G)=>{let K=W==="float"?"vec2":"vec4",ee=G.match(/color/)?"color":K;return D[G]?B==="define"?`
#ifndef HAS_UNIFORM_u_${G}
uniform lowp float u_${G}_t;
in ${V} ${K} a_${G};
out ${V} ${W} ${G};
#else
uniform ${V} ${W} u_${G};
#endif
`:ee==="vec4"?`
#ifndef HAS_UNIFORM_u_${G}
    ${G} = a_${G};
#else
    ${V} ${W} ${G} = u_${G};
#endif
`:`
#ifndef HAS_UNIFORM_u_${G}
    ${G} = unpack_mix_${ee}(a_${G}, u_${G}_t);
#else
    ${V} ${W} ${G} = u_${G};
#endif
`:B==="define"?`
#ifndef HAS_UNIFORM_u_${G}
uniform lowp float u_${G}_t;
in ${V} ${K} a_${G};
#else
uniform ${V} ${W} u_${G};
#endif
`:ee==="vec4"?`
#ifndef HAS_UNIFORM_u_${G}
    ${V} ${W} ${G} = a_${G};
#else
    ${V} ${W} ${G} = u_${G};
#endif
`:`
#ifndef HAS_UNIFORM_u_${G}
    ${V} ${W} ${G} = unpack_mix_${ee}(a_${G}, u_${G}_t);
#else
    ${V} ${W} ${G} = u_${G};
#endif
`}),staticAttributes:m,staticUniforms:M}}class zp{constructor(a,f,m){this.vertexBuffer=a,this.indexBuffer=f,this.segments=m}destroy(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.vertexBuffer=null,this.indexBuffer=null,this.segments=null}}var Pc=o.aJ([{name:"a_pos",type:"Int16",components:2}]);let Tu="#define PROJECTION_MERCATOR",jp="mercator";class rn{constructor(){this._cachedMesh=null}get name(){return"mercator"}get useSubdivision(){return!1}get shaderVariantName(){return jp}get shaderDefine(){return Tu}get shaderPreludeCode(){return ol.projectionMercator}get vertexShaderPreludeCode(){return ol.projectionMercator.vertexSource}get subdivisionGranularity(){return o.aK.noSubdivision}get useGlobeControls(){return!1}get transitionState(){return 0}get latitudeErrorCorrectionRadians(){return 0}destroy(){}updateGPUdependent(a){}getMeshFromTileID(a,f,m,y,w){if(this._cachedMesh)return this._cachedMesh;let M=new o.aL;M.emplaceBack(0,0),M.emplaceBack(o.$,0),M.emplaceBack(0,o.$),M.emplaceBack(o.$,o.$);let D=a.createVertexBuffer(M,Pc.members),k=o.aM.simpleSegment(0,0,4,2),B=new o.aN;B.emplaceBack(1,0,2),B.emplaceBack(1,2,3);let V=a.createIndexBuffer(B);return this._cachedMesh=new zp(D,V,k),this._cachedMesh}recalculate(){}hasTransition(){return!1}setErrorQueryLatitudeDegrees(a){}}class Fp{constructor(a=0,f=0,m=0,y=0){if(isNaN(a)||a<0||isNaN(f)||f<0||isNaN(m)||m<0||isNaN(y)||y<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=a,this.bottom=f,this.left=m,this.right=y}interpolate(a,f,m){return f.top!=null&&a.top!=null&&(this.top=o.C.number(a.top,f.top,m)),f.bottom!=null&&a.bottom!=null&&(this.bottom=o.C.number(a.bottom,f.bottom,m)),f.left!=null&&a.left!=null&&(this.left=o.C.number(a.left,f.left,m)),f.right!=null&&a.right!=null&&(this.right=o.C.number(a.right,f.right,m)),this}getCenter(a,f){let m=o.ah((this.left+a-this.right)/2,0,a),y=o.ah((this.top+f-this.bottom)/2,0,f);return new o.P(m,y)}equals(a){return this.top===a.top&&this.bottom===a.bottom&&this.left===a.left&&this.right===a.right}clone(){return new Fp(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}function Ov(x,a){if(!x.renderWorldCopies||x.lngRange)return;let f=a.lng-x.center.lng;a.lng+=f>180?-360:f<-180?360:0}function Dv(x){return Math.max(0,Math.floor(x))}class ea{constructor(a,f,m,y,w,M){this._callbacks=a,this._tileSize=512,this._renderWorldCopies=M===void 0||!!M,this._minZoom=f||0,this._maxZoom=m||22,this._minPitch=y==null?0:y,this._maxPitch=w==null?60:w,this.setMaxBounds(),this._width=0,this._height=0,this._center=new o.S(0,0),this._elevation=0,this._zoom=0,this._tileZoom=Dv(this._zoom),this._scale=o.af(this._zoom),this._bearingInRadians=0,this._fovInRadians=.6435011087932844,this._pitchInRadians=0,this._rollInRadians=0,this._unmodified=!0,this._edgeInsets=new Fp,this._minElevationForCurrentTile=0,this._autoCalculateNearFarZ=!0}apply(a,f,m){this._latRange=a.latRange,this._lngRange=a.lngRange,this._width=a.width,this._height=a.height,this._center=a.center,this._elevation=a.elevation,this._minElevationForCurrentTile=a.minElevationForCurrentTile,this._zoom=a.zoom,this._tileZoom=Dv(this._zoom),this._scale=o.af(this._zoom),this._bearingInRadians=a.bearingInRadians,this._fovInRadians=a.fovInRadians,this._pitchInRadians=a.pitchInRadians,this._rollInRadians=a.rollInRadians,this._unmodified=a.unmodified,this._edgeInsets=new Fp(a.padding.top,a.padding.bottom,a.padding.left,a.padding.right),this._minZoom=a.minZoom,this._maxZoom=a.maxZoom,this._minPitch=a.minPitch,this._maxPitch=a.maxPitch,this._renderWorldCopies=a.renderWorldCopies,this._cameraToCenterDistance=a.cameraToCenterDistance,this._nearZ=a.nearZ,this._farZ=a.farZ,this._autoCalculateNearFarZ=!m&&a.autoCalculateNearFarZ,f&&this._constrain(),this._calcMatrices()}get pixelsToClipSpaceMatrix(){return this._pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._clipSpaceToPixelsMatrix}get minElevationForCurrentTile(){return this._minElevationForCurrentTile}setMinElevationForCurrentTile(a){this._minElevationForCurrentTile=a}get tileSize(){return this._tileSize}get tileZoom(){return this._tileZoom}get scale(){return this._scale}get width(){return this._width}get height(){return this._height}get bearingInRadians(){return this._bearingInRadians}get lngRange(){return this._lngRange}get latRange(){return this._latRange}get pixelsToGLUnits(){return this._pixelsToGLUnits}get minZoom(){return this._minZoom}setMinZoom(a){this._minZoom!==a&&(this._minZoom=a,this.setZoom(this.getConstrained(this._center,this.zoom).zoom))}get maxZoom(){return this._maxZoom}setMaxZoom(a){this._maxZoom!==a&&(this._maxZoom=a,this.setZoom(this.getConstrained(this._center,this.zoom).zoom))}get minPitch(){return this._minPitch}setMinPitch(a){this._minPitch!==a&&(this._minPitch=a,this.setPitch(Math.max(this.pitch,a)))}get maxPitch(){return this._maxPitch}setMaxPitch(a){this._maxPitch!==a&&(this._maxPitch=a,this.setPitch(Math.min(this.pitch,a)))}get renderWorldCopies(){return this._renderWorldCopies}setRenderWorldCopies(a){a===void 0?a=!0:a===null&&(a=!1),this._renderWorldCopies=a}get worldSize(){return this._tileSize*this._scale}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new o.P(this._width,this._height)}get bearing(){return this._bearingInRadians/Math.PI*180}setBearing(a){let f=o.aO(a,-180,180)*Math.PI/180;var m,y,w,M,D,k,B,V,W;this._bearingInRadians!==f&&(this._unmodified=!1,this._bearingInRadians=f,this._calcMatrices(),this._rotationMatrix=d(),m=this._rotationMatrix,w=-this._bearingInRadians,M=(y=this._rotationMatrix)[0],D=y[1],k=y[2],B=y[3],V=Math.sin(w),W=Math.cos(w),m[0]=M*W+k*V,m[1]=D*W+B*V,m[2]=M*-V+k*W,m[3]=D*-V+B*W)}get rotationMatrix(){return this._rotationMatrix}get pitchInRadians(){return this._pitchInRadians}get pitch(){return this._pitchInRadians/Math.PI*180}setPitch(a){let f=o.ah(a,this.minPitch,this.maxPitch)/180*Math.PI;this._pitchInRadians!==f&&(this._unmodified=!1,this._pitchInRadians=f,this._calcMatrices())}get rollInRadians(){return this._rollInRadians}get roll(){return this._rollInRadians/Math.PI*180}setRoll(a){let f=a/180*Math.PI;this._rollInRadians!==f&&(this._unmodified=!1,this._rollInRadians=f,this._calcMatrices())}get fovInRadians(){return this._fovInRadians}get fov(){return o.aP(this._fovInRadians)}setFov(a){a=o.ah(a,.1,150),this.fov!==a&&(this._unmodified=!1,this._fovInRadians=o.ae(a),this._calcMatrices())}get zoom(){return this._zoom}setZoom(a){let f=this.getConstrained(this._center,a).zoom;this._zoom!==f&&(this._unmodified=!1,this._zoom=f,this._tileZoom=Math.max(0,Math.floor(f)),this._scale=o.af(f),this._constrain(),this._calcMatrices())}get center(){return this._center}setCenter(a){a.lat===this._center.lat&&a.lng===this._center.lng||(this._unmodified=!1,this._center=a,this._constrain(),this._calcMatrices())}get elevation(){return this._elevation}setElevation(a){a!==this._elevation&&(this._elevation=a,this._constrain(),this._calcMatrices())}get padding(){return this._edgeInsets.toJSON()}setPadding(a){this._edgeInsets.equals(a)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,a,1),this._calcMatrices())}get centerPoint(){return this._edgeInsets.getCenter(this._width,this._height)}get pixelsPerMeter(){return this._pixelPerMeter}get unmodified(){return this._unmodified}get cameraToCenterDistance(){return this._cameraToCenterDistance}get nearZ(){return this._nearZ}get farZ(){return this._farZ}get autoCalculateNearFarZ(){return this._autoCalculateNearFarZ}overrideNearFarZ(a,f){this._autoCalculateNearFarZ=!1,this._nearZ=a,this._farZ=f,this._calcMatrices()}clearNearFarZOverride(){this._autoCalculateNearFarZ=!0,this._calcMatrices()}isPaddingEqual(a){return this._edgeInsets.equals(a)}interpolatePadding(a,f,m){this._unmodified=!1,this._edgeInsets.interpolate(a,f,m),this._constrain(),this._calcMatrices()}resize(a,f,m=!0){this._width=a,this._height=f,m&&this._constrain(),this._calcMatrices()}getMaxBounds(){return this._latRange&&this._latRange.length===2&&this._lngRange&&this._lngRange.length===2?new vt([this._lngRange[0],this._latRange[0]],[this._lngRange[1],this._latRange[1]]):null}setMaxBounds(a){a?(this._lngRange=[a.getWest(),a.getEast()],this._latRange=[a.getSouth(),a.getNorth()],this._constrain()):(this._lngRange=null,this._latRange=[-o.ai,o.ai])}getConstrained(a,f){return this._callbacks.getConstrained(a,f)}getCameraQueryGeometry(a,f){if(f.length===1)return[f[0],a];{let{minX:m,minY:y,maxX:w,maxY:M}=o.a2.fromPoints(f).extend(a);return[new o.P(m,y),new o.P(w,y),new o.P(w,M),new o.P(m,M),new o.P(m,y)]}}_constrain(){if(!this.center||!this._width||!this._height||this._constraining)return;this._constraining=!0;let a=this._unmodified,{center:f,zoom:m}=this.getConstrained(this.center,this.zoom);this.setCenter(f),this.setZoom(m),this._unmodified=a,this._constraining=!1}_calcMatrices(){if(this._width&&this._height){this._pixelsToGLUnits=[2/this._width,-2/this._height];let a=o.ag(new Float64Array(16));o.N(a,a,[this._width/2,-this._height/2,1]),o.M(a,a,[1,-1,0]),this._clipSpaceToPixelsMatrix=a,a=o.ag(new Float64Array(16)),o.N(a,a,[1,-1,1]),o.M(a,a,[-1,-1,0]),o.N(a,a,[2/this._width,2/this._height,1]),this._pixelsToClipSpaceMatrix=a,this._cameraToCenterDistance=.5/Math.tan(this.fovInRadians/2)*this._height}this._callbacks.calcMatrices()}calculateCenterFromCameraLngLatAlt(a,f,m,y){let w=m!==void 0?m:this.bearing,M=y=y!==void 0?y:this.pitch,D=o.a1.fromLngLat(a,f),k=-Math.cos(o.ae(M)),B=Math.sin(o.ae(M)),V=B*Math.sin(o.ae(w)),W=-B*Math.cos(o.ae(w)),G=this.elevation,K=f-G,ee;k*K>=0||Math.abs(k)<.1?(ee=1e4,G=f+ee*k):ee=-K/k;let pe,ce,fe=o.aQ(1,D.y),ge=0;do{if(ge+=1,ge>10)break;ce=ee/fe,pe=new o.a1(D.x+V*ce,D.y+W*ce),fe=1/pe.meterInMercatorCoordinateUnits()}while(Math.abs(ee-ce*fe)>1e-12);return{center:pe.toLngLat(),elevation:G,zoom:o.ak(this.height/2/Math.tan(this.fovInRadians/2)/ce/this.tileSize)}}recalculateZoomAndCenter(a){if(this.elevation-a==0)return;let f=o.aj(1,this.center.lat)*this.worldSize,m=this.cameraToCenterDistance/f,y=o.a1.fromLngLat(this.center,this.elevation),w=We(this.center,this.elevation,this.pitch,this.bearing,m);this._elevation=a;let M=this.calculateCenterFromCameraLngLatAlt(w.toLngLat(),o.aQ(w.z,y.y),this.bearing,this.pitch);this._elevation=M.elevation,this._center=M.center,this.setZoom(M.zoom)}getCameraPoint(){let a=Math.tan(this.pitchInRadians)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new o.P(a*Math.sin(this.rollInRadians),a*Math.cos(this.rollInRadians)))}getCameraAltitude(){return Math.cos(this.pitchInRadians)*this._cameraToCenterDistance/this._pixelPerMeter+this.elevation}getCameraLngLat(){let a=o.aj(1,this.center.lat)*this.worldSize;return We(this.center,this.elevation,this.pitch,this.bearing,this.cameraToCenterDistance/a).toLngLat()}getMercatorTileCoordinates(a){if(!a)return[0,0,1,1];let f=a.canonical.z>=0?1<<a.canonical.z:Math.pow(2,a.canonical.z);return[a.canonical.x/f,a.canonical.y/f,1/f/o.$,1/f/o.$]}}class po{constructor(a,f){this.min=a,this.max=f,this.center=o.aR([],o.aS([],this.min,this.max),.5)}quadrant(a){let f=[a%2==0,a<2],m=o.aT(this.min),y=o.aT(this.max);for(let w=0;w<f.length;w++)m[w]=f[w]?this.min[w]:this.center[w],y[w]=f[w]?this.center[w]:this.max[w];return y[2]=this.max[2],new po(m,y)}distanceX(a){return Math.max(Math.min(this.max[0],a[0]),this.min[0])-a[0]}distanceY(a){return Math.max(Math.min(this.max[1],a[1]),this.min[1])-a[1]}intersectsFrustum(a){let f=!0;for(let m=0;m<a.planes.length;m++){let y=this.intersectsPlane(a.planes[m]);if(y===0)return 0;y===1&&(f=!1)}return f?2:a.aabb.min[0]>this.max[0]||a.aabb.min[1]>this.max[1]||a.aabb.min[2]>this.max[2]||a.aabb.max[0]<this.min[0]||a.aabb.max[1]<this.min[1]||a.aabb.max[2]<this.min[2]?0:1}intersectsPlane(a){let f=a[3],m=a[3];for(let y=0;y<3;y++)a[y]>0?(f+=a[y]*this.min[y],m+=a[y]*this.max[y]):(m+=a[y]*this.min[y],f+=a[y]*this.max[y]);return f>=0?2:m<0?0:1}}class ta{distanceToTile2d(a,f,m,y){let w=y.distanceX([a,f]),M=y.distanceY([a,f]);return Math.hypot(w,M)}getWrap(a,f,m){return m}getTileBoundingVolume(a,f,m,y){var w,M;let D=0,k=0;if(y!=null&&y.terrain){let V=new o.Z(a.z,f,a.z,a.x,a.y),W=y.terrain.getMinMaxElevation(V);D=(w=W.minElevation)!==null&&w!==void 0?w:Math.min(0,m),k=(M=W.maxElevation)!==null&&M!==void 0?M:Math.max(0,m)}let B=1<<a.z;return new po([f+a.x/B,a.y/B,D],[f+(a.x+1)/B,(a.y+1)/B,k])}allowVariableZoom(a,f){let m=a.fov*(Math.abs(Math.cos(a.rollInRadians))*a.height+Math.abs(Math.sin(a.rollInRadians))*a.width)/a.height,y=o.ah(78.5-m/2,0,60);return!!f.terrain||a.pitch>y}allowWorldCopies(){return!0}prepareNextFrame(){}}class Ui{constructor(a,f,m){this.points=a,this.planes=f,this.aabb=m}static fromInvProjectionMatrix(a,f=1,m=0,y,w){let M=w?[[6,5,4],[0,1,2],[0,3,7],[2,1,5],[3,2,6],[0,4,5]]:[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]],D=Math.pow(2,m),k=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(G=>function(K,ee,pe,ce){let fe=o.aw([],K,ee),ge=1/fe[3]/pe*ce;return o.aY(fe,fe,[ge,ge,1/fe[3],ge])}(G,a,f,D));y&&function(G,K,ee,pe){let ce=pe?4:0,fe=pe?0:4,ge=0,Te=[],be=[];for(let Se=0;Se<4;Se++){let Ve=o.aU([],G[Se+fe],G[Se+ce]),et=o.aZ(Ve);o.aR(Ve,Ve,1/et),Te.push(et),be.push(Ve)}for(let Se=0;Se<4;Se++){let Ve=o.a_(G[Se+ce],be[Se],ee);ge=Ve!==null&&Ve>=0?Math.max(ge,Ve):Math.max(ge,Te[Se])}let Ae=function(Se,Ve){let et=o.aU([],Se[Ve[0]],Se[Ve[1]]),He=o.aU([],Se[Ve[2]],Se[Ve[1]]),Ze=[0,0,0,0];return o.aV(Ze,o.aW([],et,He)),Ze[3]=-o.aX(Ze,Se[Ve[0]]),Ze}(G,K),Ne=function(Se,Ve){let et=o.a$(Se),He=o.b0([],Se,1/et),Ze=o.aU([],Ve,o.aR([],He,o.aX(Ve,He))),Qe=o.a$(Ze);if(Qe>0){let Tt=Math.sqrt(1-He[3]*He[3]),At=o.aR([],He,-He[3]),dt=o.aS([],At,o.aR([],Ze,Tt/Qe));return o.b1(Ve,dt)}return null}(ee,Ae);if(Ne!==null){let Se=Ne/o.aX(be[0],Ae);ge=Math.min(ge,Se)}for(let Se=0;Se<4;Se++){let Ve=Math.min(ge,Te[Se]);G[Se+fe]=[G[Se+ce][0]+be[Se][0]*Ve,G[Se+ce][1]+be[Se][1]*Ve,G[Se+ce][2]+be[Se][2]*Ve,1]}}(k,M[0],y,w);let B=M.map(G=>{let K=o.aU([],k[G[0]],k[G[1]]),ee=o.aU([],k[G[2]],k[G[1]]),pe=o.aV([],o.aW([],K,ee)),ce=-o.aX(pe,k[G[1]]);return pe.concat(ce)}),V=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY],W=[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY];for(let G of k)for(let K=0;K<3;K++)V[K]=Math.min(V[K],G[K]),W[K]=Math.max(W[K],G[K]);return new Ui(k,B,new po(V,W))}}class Wn{get pixelsToClipSpaceMatrix(){return this._helper.pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._helper.clipSpaceToPixelsMatrix}get pixelsToGLUnits(){return this._helper.pixelsToGLUnits}get centerOffset(){return this._helper.centerOffset}get size(){return this._helper.size}get rotationMatrix(){return this._helper.rotationMatrix}get centerPoint(){return this._helper.centerPoint}get pixelsPerMeter(){return this._helper.pixelsPerMeter}setMinZoom(a){this._helper.setMinZoom(a)}setMaxZoom(a){this._helper.setMaxZoom(a)}setMinPitch(a){this._helper.setMinPitch(a)}setMaxPitch(a){this._helper.setMaxPitch(a)}setRenderWorldCopies(a){this._helper.setRenderWorldCopies(a)}setBearing(a){this._helper.setBearing(a)}setPitch(a){this._helper.setPitch(a)}setRoll(a){this._helper.setRoll(a)}setFov(a){this._helper.setFov(a)}setZoom(a){this._helper.setZoom(a)}setCenter(a){this._helper.setCenter(a)}setElevation(a){this._helper.setElevation(a)}setMinElevationForCurrentTile(a){this._helper.setMinElevationForCurrentTile(a)}setPadding(a){this._helper.setPadding(a)}interpolatePadding(a,f,m){return this._helper.interpolatePadding(a,f,m)}isPaddingEqual(a){return this._helper.isPaddingEqual(a)}resize(a,f,m=!0){this._helper.resize(a,f,m)}getMaxBounds(){return this._helper.getMaxBounds()}setMaxBounds(a){this._helper.setMaxBounds(a)}overrideNearFarZ(a,f){this._helper.overrideNearFarZ(a,f)}clearNearFarZOverride(){this._helper.clearNearFarZOverride()}getCameraQueryGeometry(a){return this._helper.getCameraQueryGeometry(this.getCameraPoint(),a)}get tileSize(){return this._helper.tileSize}get tileZoom(){return this._helper.tileZoom}get scale(){return this._helper.scale}get worldSize(){return this._helper.worldSize}get width(){return this._helper.width}get height(){return this._helper.height}get lngRange(){return this._helper.lngRange}get latRange(){return this._helper.latRange}get minZoom(){return this._helper.minZoom}get maxZoom(){return this._helper.maxZoom}get zoom(){return this._helper.zoom}get center(){return this._helper.center}get minPitch(){return this._helper.minPitch}get maxPitch(){return this._helper.maxPitch}get pitch(){return this._helper.pitch}get pitchInRadians(){return this._helper.pitchInRadians}get roll(){return this._helper.roll}get rollInRadians(){return this._helper.rollInRadians}get bearing(){return this._helper.bearing}get bearingInRadians(){return this._helper.bearingInRadians}get fov(){return this._helper.fov}get fovInRadians(){return this._helper.fovInRadians}get elevation(){return this._helper.elevation}get minElevationForCurrentTile(){return this._helper.minElevationForCurrentTile}get padding(){return this._helper.padding}get unmodified(){return this._helper.unmodified}get renderWorldCopies(){return this._helper.renderWorldCopies}get cameraToCenterDistance(){return this._helper.cameraToCenterDistance}get nearZ(){return this._helper.nearZ}get farZ(){return this._helper.farZ}get autoCalculateNearFarZ(){return this._helper.autoCalculateNearFarZ}setTransitionState(a,f){}constructor(a,f,m,y,w){this._posMatrixCache=new Map,this._alignedPosMatrixCache=new Map,this._fogMatrixCacheF32=new Map,this._helper=new ea({calcMatrices:()=>{this._calcMatrices()},getConstrained:(M,D)=>this.getConstrained(M,D)},a,f,m,y,w),this._coveringTilesDetailsProvider=new ta}clone(){let a=new Wn;return a.apply(this),a}apply(a,f,m){this._helper.apply(a,f,m)}get cameraPosition(){return this._cameraPosition}get projectionMatrix(){return this._projectionMatrix}get modelViewProjectionMatrix(){return this._viewProjMatrix}get inverseProjectionMatrix(){return this._invProjMatrix}get mercatorMatrix(){return this._mercatorMatrix}getVisibleUnwrappedCoordinates(a){let f=[new o.b2(0,a)];if(this._helper._renderWorldCopies){let m=this.screenPointToMercatorCoordinate(new o.P(0,0)),y=this.screenPointToMercatorCoordinate(new o.P(this._helper._width,0)),w=this.screenPointToMercatorCoordinate(new o.P(this._helper._width,this._helper._height)),M=this.screenPointToMercatorCoordinate(new o.P(0,this._helper._height)),D=Math.floor(Math.min(m.x,y.x,w.x,M.x)),k=Math.floor(Math.max(m.x,y.x,w.x,M.x)),B=1;for(let V=D-B;V<=k+B;V++)V!==0&&f.push(new o.b2(V,a))}return f}getCameraFrustum(){return Ui.fromInvProjectionMatrix(this._invViewProjMatrix,this.worldSize)}getClippingPlane(){return null}getCoveringTilesDetailsProvider(){return this._coveringTilesDetailsProvider}recalculateZoomAndCenter(a){let f=this.screenPointToLocation(this.centerPoint,a),m=a?a.getElevationForLngLatZoom(f,this._helper._tileZoom):0;this._helper.recalculateZoomAndCenter(m)}setLocationAtPoint(a,f){let m=o.aj(this.elevation,this.center.lat),y=this.screenPointToMercatorCoordinateAtZ(f,m),w=this.screenPointToMercatorCoordinateAtZ(this.centerPoint,m),M=o.a1.fromLngLat(a),D=new o.a1(M.x-(y.x-w.x),M.y-(y.y-w.y));this.setCenter(D==null?void 0:D.toLngLat()),this._helper._renderWorldCopies&&this.setCenter(this.center.wrap())}locationToScreenPoint(a,f){return f?this.coordinatePoint(o.a1.fromLngLat(a),f.getElevationForLngLatZoom(a,this._helper._tileZoom),this._pixelMatrix3D):this.coordinatePoint(o.a1.fromLngLat(a))}screenPointToLocation(a,f){var m;return(m=this.screenPointToMercatorCoordinate(a,f))===null||m===void 0?void 0:m.toLngLat()}screenPointToMercatorCoordinate(a,f){if(f){let m=f.pointCoordinate(a);if(m!=null)return m}return this.screenPointToMercatorCoordinateAtZ(a)}screenPointToMercatorCoordinateAtZ(a,f){let m=f||0,y=[a.x,a.y,0,1],w=[a.x,a.y,1,1];o.aw(y,y,this._pixelMatrixInverse),o.aw(w,w,this._pixelMatrixInverse);let M=y[3],D=w[3],k=y[1]/M,B=w[1]/D,V=y[2]/M,W=w[2]/D,G=V===W?0:(m-V)/(W-V);return new o.a1(o.C.number(y[0]/M,w[0]/D,G)/this.worldSize,o.C.number(k,B,G)/this.worldSize,m)}coordinatePoint(a,f=0,m=this._pixelMatrix){let y=[a.x*this.worldSize,a.y*this.worldSize,f,1];return o.aw(y,y,m),new o.P(y[0]/y[3],y[1]/y[3])}getBounds(){let a=Math.max(0,this._helper._height/2-ke(this));return new vt().extend(this.screenPointToLocation(new o.P(0,a))).extend(this.screenPointToLocation(new o.P(this._helper._width,a))).extend(this.screenPointToLocation(new o.P(this._helper._width,this._helper._height))).extend(this.screenPointToLocation(new o.P(0,this._helper._height)))}isPointOnMapSurface(a,f){return f?f.pointCoordinate(a)!=null:a.y>this.height/2-ke(this)}calculatePosMatrix(a,f=!1,m){var y;let w=(y=a.key)!==null&&y!==void 0?y:o.b3(a.wrap,a.canonical.z,a.canonical.z,a.canonical.x,a.canonical.y),M=f?this._alignedPosMatrixCache:this._posMatrixCache;if(M.has(w)){let B=M.get(w);return m?B.f32:B.f64}let D=Be(a,this.worldSize);o.O(D,f?this._alignedProjMatrix:this._viewProjMatrix,D);let k={f64:D,f32:new Float32Array(D)};return M.set(w,k),m?k.f32:k.f64}calculateFogMatrix(a){let f=a.key,m=this._fogMatrixCacheF32;if(m.has(f))return m.get(f);let y=Be(a,this.worldSize);return o.O(y,this._fogMatrix,y),m.set(f,new Float32Array(y)),m.get(f)}getConstrained(a,f){f=o.ah(+f,this.minZoom,this.maxZoom);let m={center:new o.S(a.lng,a.lat),zoom:f},y=this._helper._lngRange;if(!this._helper._renderWorldCopies&&y===null){let Te=179.9999999999;y=[-Te,Te]}let w=this.tileSize*o.af(m.zoom),M=0,D=w,k=0,B=w,V=0,W=0,{x:G,y:K}=this.size;if(this._helper._latRange){let Te=this._helper._latRange;M=o.U(Te[1])*w,D=o.U(Te[0])*w,D-M<K&&(V=K/(D-M))}y&&(k=o.aO(o.V(y[0])*w,0,w),B=o.aO(o.V(y[1])*w,0,w),B<k&&(B+=w),B-k<G&&(W=G/(B-k)));let{x:ee,y:pe}=ae(w,a),ce,fe,ge=Math.max(W||0,V||0);if(ge){let Te=new o.P(W?(B+k)/2:ee,V?(D+M)/2:pe);return m.center=_e(w,Te).wrap(),m.zoom+=o.ak(ge),m}if(this._helper._latRange){let Te=K/2;pe-Te<M&&(fe=M+Te),pe+Te>D&&(fe=D-Te)}if(y){let Te=(k+B)/2,be=ee;this._helper._renderWorldCopies&&(be=o.aO(ee,Te-w/2,Te+w/2));let Ae=G/2;be-Ae<k&&(ce=k+Ae),be+Ae>B&&(ce=B-Ae)}if(ce!==void 0||fe!==void 0){let Te=new o.P(ce!=null?ce:ee,fe!=null?fe:pe);m.center=_e(w,Te).wrap()}return m}calculateCenterFromCameraLngLatAlt(a,f,m,y){return this._helper.calculateCenterFromCameraLngLatAlt(a,f,m,y)}_calculateNearFarZIfNeeded(a,f,m){if(!this._helper.autoCalculateNearFarZ)return;let y=Math.min(this.elevation,this.minElevationForCurrentTile,this.getCameraAltitude()-100),w=a-y*this._helper._pixelPerMeter/Math.cos(f),M=y<0?w:a,D=Math.PI/2+this.pitchInRadians,k=o.ae(this.fov)*(Math.abs(Math.cos(o.ae(this.roll)))*this.height+Math.abs(Math.sin(o.ae(this.roll)))*this.width)/this.height*(.5+m.y/this.height),B=Math.sin(k)*M/Math.sin(o.ah(Math.PI-D-k,.01,Math.PI-.01)),V=ke(this),W=Math.atan(V/this._helper.cameraToCenterDistance),G=o.ae(.75),K=W>G?2*W*(.5+m.y/(2*V)):G,ee=Math.sin(K)*M/Math.sin(o.ah(Math.PI-D-K,.01,Math.PI-.01)),pe=Math.min(B,ee);this._helper._farZ=1.01*(Math.cos(Math.PI/2-f)*pe+M),this._helper._nearZ=this._helper._height/50}_calcMatrices(){if(!this._helper._height)return;let a=this.centerOffset,f=ae(this.worldSize,this.center),m=f.x,y=f.y;this._helper._pixelPerMeter=o.aj(1,this.center.lat)*this.worldSize;let w=o.ae(Math.min(this.pitch,ne)),M=Math.max(this._helper.cameraToCenterDistance/2,this._helper.cameraToCenterDistance+this._helper._elevation*this._helper._pixelPerMeter/Math.cos(w)),D;this._calculateNearFarZIfNeeded(M,w,a),D=new Float64Array(16),o.b4(D,this.fovInRadians,this._helper._width/this._helper._height,this._helper._nearZ,this._helper._farZ),this._invProjMatrix=new Float64Array(16),o.aq(this._invProjMatrix,D),D[8]=2*-a.x/this._helper._width,D[9]=2*a.y/this._helper._height,this._projectionMatrix=o.b5(D),o.N(D,D,[1,-1,1]),o.M(D,D,[0,0,-this._helper.cameraToCenterDistance]),o.b6(D,D,-this.rollInRadians),o.b7(D,D,this.pitchInRadians),o.b6(D,D,-this.bearingInRadians),o.M(D,D,[-m,-y,0]),this._mercatorMatrix=o.N([],D,[this.worldSize,this.worldSize,this.worldSize]),o.N(D,D,[1,1,this._helper._pixelPerMeter]),this._pixelMatrix=o.O(new Float64Array(16),this.clipSpaceToPixelsMatrix,D),o.M(D,D,[0,0,-this.elevation]),this._viewProjMatrix=D,this._invViewProjMatrix=o.aq([],D);let k=[0,0,-1,1];o.aw(k,k,this._invViewProjMatrix),this._cameraPosition=[k[0]/k[3],k[1]/k[3],k[2]/k[3]],this._fogMatrix=new Float64Array(16),o.b4(this._fogMatrix,this.fovInRadians,this.width/this.height,M,this._helper._farZ),this._fogMatrix[8]=2*-a.x/this.width,this._fogMatrix[9]=2*a.y/this.height,o.N(this._fogMatrix,this._fogMatrix,[1,-1,1]),o.M(this._fogMatrix,this._fogMatrix,[0,0,-this.cameraToCenterDistance]),o.b6(this._fogMatrix,this._fogMatrix,-this.rollInRadians),o.b7(this._fogMatrix,this._fogMatrix,this.pitchInRadians),o.b6(this._fogMatrix,this._fogMatrix,-this.bearingInRadians),o.M(this._fogMatrix,this._fogMatrix,[-m,-y,0]),o.N(this._fogMatrix,this._fogMatrix,[1,1,this._helper._pixelPerMeter]),o.M(this._fogMatrix,this._fogMatrix,[0,0,-this.elevation]),this._pixelMatrix3D=o.O(new Float64Array(16),this.clipSpaceToPixelsMatrix,D);let B=this._helper._width%2/2,V=this._helper._height%2/2,W=Math.cos(this.bearingInRadians),G=Math.sin(-this.bearingInRadians),K=m-Math.round(m)+W*B+G*V,ee=y-Math.round(y)+W*V+G*B,pe=new Float64Array(D);if(o.M(pe,pe,[K>.5?K-1:K,ee>.5?ee-1:ee,0]),this._alignedProjMatrix=pe,D=o.aq(new Float64Array(16),this._pixelMatrix),!D)throw new Error("failed to invert matrix");this._pixelMatrixInverse=D,this._clearMatrixCaches()}_clearMatrixCaches(){this._posMatrixCache.clear(),this._alignedPosMatrixCache.clear(),this._fogMatrixCacheF32.clear()}maxPitchScaleFactor(){if(!this._pixelMatrixInverse)return 1;let a=this.screenPointToMercatorCoordinate(new o.P(0,0)),f=[a.x*this.worldSize,a.y*this.worldSize,0,1];return o.aw(f,f,this._pixelMatrix)[3]/this._helper.cameraToCenterDistance}getCameraPoint(){return this._helper.getCameraPoint()}getCameraAltitude(){return this._helper.getCameraAltitude()}getCameraLngLat(){let a=o.aj(1,this.center.lat)*this.worldSize;return We(this.center,this.elevation,this.pitch,this.bearing,this._helper.cameraToCenterDistance/a).toLngLat()}lngLatToCameraDepth(a,f){let m=o.a1.fromLngLat(a),y=[m.x*this.worldSize,m.y*this.worldSize,f,1];return o.aw(y,y,this._viewProjMatrix),y[2]/y[3]}getProjectionData(a){let{overscaledTileID:f,aligned:m,applyTerrainMatrix:y}=a,w=this._helper.getMercatorTileCoordinates(f),M=f?this.calculatePosMatrix(f,m,!0):null,D;return D=f&&f.terrainRttPosMatrix32f&&y?f.terrainRttPosMatrix32f:M||o.b8(),{mainMatrix:D,tileMercatorCoords:w,clippingPlane:[0,0,0,0],projectionTransition:0,fallbackMatrix:D}}isLocationOccluded(a){return!1}getPixelScale(){return 1}getCircleRadiusCorrection(){return 1}getPitchedTextCorrection(a,f,m){return 1}transformLightDirection(a){return o.aT(a)}getRayDirectionFromPixel(a){throw new Error("Not implemented.")}projectTileCoordinates(a,f,m,y){let w=this.calculatePosMatrix(m),M;y?(M=[a,f,y(a,f),1],o.aw(M,M,w)):(M=[a,f,0,1],ad(M,M,w));let D=M[3];return{point:new o.P(M[0]/D,M[1]/D),signedDistanceFromCamera:D,isOccluded:!1}}populateCache(a){for(let f of a)this.calculatePosMatrix(f)}getMatrixForModel(a,f){let m=o.a1.fromLngLat(a,f),y=m.meterInMercatorCoordinateUnits(),w=o.b9();return o.M(w,w,[m.x,m.y,m.z]),o.b6(w,w,Math.PI),o.b7(w,w,Math.PI/2),o.N(w,w,[-y,y,y]),w}getProjectionDataForCustomLayer(a=!0){let f=new o.Z(0,0,0,0,0),m=this.getProjectionData({overscaledTileID:f,applyGlobeMatrix:a}),y=Be(f,this.worldSize);o.O(y,this._viewProjMatrix,y),m.tileMercatorCoords=[0,0,1,1];let w=[o.$,o.$,this.worldSize/this._helper.pixelsPerMeter],M=o.ba();return o.N(M,y,w),m.fallbackMatrix=M,m.mainMatrix=M,m}getFastPathSimpleProjectionMatrix(a){return this.calculatePosMatrix(a)}}function eT(){o.w("Map cannot fit within canvas with the given bounds, padding, and/or offset.")}function ra(x){if(x.useSlerp){if(x.k<1){let a=o.bb(x.startEulerAngles.roll,x.startEulerAngles.pitch,x.startEulerAngles.bearing),f=o.bb(x.endEulerAngles.roll,x.endEulerAngles.pitch,x.endEulerAngles.bearing),m=new Float64Array(4);o.bc(m,a,f,x.k);let y=o.bd(m);x.tr.setRoll(y.roll),x.tr.setPitch(y.pitch),x.tr.setBearing(y.bearing)}else x.tr.setRoll(x.endEulerAngles.roll),x.tr.setPitch(x.endEulerAngles.pitch),x.tr.setBearing(x.endEulerAngles.bearing);}else x.tr.setRoll(o.C.number(x.startEulerAngles.roll,x.endEulerAngles.roll,x.k)),x.tr.setPitch(o.C.number(x.startEulerAngles.pitch,x.endEulerAngles.pitch,x.k)),x.tr.setBearing(o.C.number(x.startEulerAngles.bearing,x.endEulerAngles.bearing,x.k))}function as(x,a,f,m,y){let w=y.padding,M=ae(y.worldSize,f.getNorthWest()),D=ae(y.worldSize,f.getNorthEast()),k=ae(y.worldSize,f.getSouthEast()),B=ae(y.worldSize,f.getSouthWest()),V=o.ae(-m),W=M.rotate(V),G=D.rotate(V),K=k.rotate(V),ee=B.rotate(V),pe=new o.P(Math.max(W.x,G.x,ee.x,K.x),Math.max(W.y,G.y,ee.y,K.y)),ce=new o.P(Math.min(W.x,G.x,ee.x,K.x),Math.min(W.y,G.y,ee.y,K.y)),fe=pe.sub(ce),ge=(y.width-(w.left+w.right+a.left+a.right))/fe.x,Te=(y.height-(w.top+w.bottom+a.top+a.bottom))/fe.y;if(Te<0||ge<0)return void eT();let be=Math.min(o.ak(y.scale*Math.min(ge,Te)),x.maxZoom),Ae=o.P.convert(x.offset),Ne=new o.P((a.left-a.right)/2,(a.top-a.bottom)/2).rotate(o.ae(m)),Se=Ae.add(Ne).mult(y.scale/o.af(be));return{center:_e(y.worldSize,M.add(k).div(2).sub(Se)),zoom:be,bearing:m}}class jo{get useGlobeControls(){return!1}handlePanInertia(a,f){let m=a.mag(),y=Math.abs(ke(f));return{easingOffset:a.mult(Math.min(.75*y/m,1)),easingCenter:f.center}}handleMapControlsRollPitchBearingZoom(a,f){a.bearingDelta&&f.setBearing(f.bearing+a.bearingDelta),a.pitchDelta&&f.setPitch(f.pitch+a.pitchDelta),a.rollDelta&&f.setRoll(f.roll+a.rollDelta),a.zoomDelta&&f.setZoom(f.zoom+a.zoomDelta)}handleMapControlsPan(a,f,m){a.around.distSqr(f.centerPoint)<.01||f.setLocationAtPoint(m,a.around)}cameraForBoxAndBearing(a,f,m,y,w){return as(a,f,m,y,w)}handleJumpToCenterZoom(a,f){a.zoom!==(f.zoom!==void 0?+f.zoom:a.zoom)&&a.setZoom(+f.zoom),f.center!==void 0&&a.setCenter(o.S.convert(f.center))}handleEaseTo(a,f){let m=a.zoom,y=a.padding,w={roll:a.roll,pitch:a.pitch,bearing:a.bearing},M={roll:f.roll===void 0?a.roll:f.roll,pitch:f.pitch===void 0?a.pitch:f.pitch,bearing:f.bearing===void 0?a.bearing:f.bearing},D=f.zoom!==void 0,k=!a.isPaddingEqual(f.padding),B=!1,V=D?+f.zoom:a.zoom,W=a.centerPoint.add(f.offsetAsPoint),G=a.screenPointToLocation(W),{center:K,zoom:ee}=a.getConstrained(o.S.convert(f.center||G),V!=null?V:m);Ov(a,K);let pe=ae(a.worldSize,G),ce=ae(a.worldSize,K).sub(pe),fe=o.af(ee-m);return B=ee!==m,{easeFunc:ge=>{if(B&&a.setZoom(o.C.number(m,ee,ge)),o.be(w,M)||ra({startEulerAngles:w,endEulerAngles:M,tr:a,k:ge,useSlerp:w.roll!=M.roll}),k&&(a.interpolatePadding(y,f.padding,ge),W=a.centerPoint.add(f.offsetAsPoint)),f.around)a.setLocationAtPoint(f.around,f.aroundPoint);else{let Te=o.af(a.zoom-m),be=ee>m?Math.min(2,fe):Math.max(.5,fe),Ae=Math.pow(be,1-ge),Ne=_e(a.worldSize,pe.add(ce.mult(ge*Ae)).mult(Te));a.setLocationAtPoint(a.renderWorldCopies?Ne.wrap():Ne,W)}},isZooming:B,elevationCenter:K}}handleFlyTo(a,f){let m=f.zoom!==void 0,y=a.zoom,w=a.getConstrained(o.S.convert(f.center||f.locationAtOffset),m?+f.zoom:y),M=w.center,D=w.zoom;Ov(a,M);let k=ae(a.worldSize,f.locationAtOffset),B=ae(a.worldSize,M).sub(k),V=B.mag(),W=o.af(D-y),G;if(f.minZoom!==void 0){let K=Math.min(+f.minZoom,y,D),ee=a.getConstrained(M,K).zoom;G=o.af(ee-y)}return{easeFunc:(K,ee,pe,ce)=>{a.setZoom(K===1?D:y+o.ak(ee));let fe=K===1?M:_e(a.worldSize,k.add(B.mult(pe)).mult(ee));a.setLocationAtPoint(a.renderWorldCopies?fe.wrap():fe,ce)},scaleOfZoom:W,targetCenter:M,scaleOfMinZoom:G,pixelPathLength:V}}}class si{constructor(a,f,m){this.blendFunction=a,this.blendColor=f,this.mask=m}}si.Replace=[1,0],si.disabled=new si(si.Replace,o.bf.transparent,[!1,!1,!1,!1]),si.unblended=new si(si.Replace,o.bf.transparent,[!0,!0,!0,!0]),si.alphaBlended=new si([1,771],o.bf.transparent,[!0,!0,!0,!0]);let Bp=2305;class _r{constructor(a,f,m){this.enable=a,this.mode=f,this.frontFace=m}}_r.disabled=new _r(!1,1029,Bp),_r.backCCW=new _r(!0,1029,Bp),_r.frontCCW=new _r(!0,1028,Bp);class Rr{constructor(a,f,m){this.func=a,this.mask=f,this.range=m}}Rr.ReadOnly=!1,Rr.ReadWrite=!0,Rr.disabled=new Rr(519,Rr.ReadOnly,[0,1]);let Mu=7680;class hn{constructor(a,f,m,y,w,M){this.test=a,this.ref=f,this.mask=m,this.fail=y,this.depthFail=w,this.pass=M}}hn.disabled=new hn({func:519,mask:0},0,0,Mu,Mu,Mu);let ss=new WeakMap;function zl(x){var a;if(ss.has(x))return ss.get(x);{let f=(a=x.getParameter(x.VERSION))===null||a===void 0?void 0:a.startsWith("WebGL 2.0");return ss.set(x,f),f}}class jl{get awaitingQuery(){return!!this._readbackQueue}constructor(a){this._readbackWaitFrames=4,this._measureWaitFrames=6,this._texWidth=1,this._texHeight=1,this._measuredError=0,this._updateCount=0,this._lastReadbackFrame=-1e3,this._readbackQueue=null,this._cachedRenderContext=a;let f=a.context,m=f.gl;this._texFormat=m.RGBA,this._texType=m.UNSIGNED_BYTE;let y=new o.aL;y.emplaceBack(-1,-1),y.emplaceBack(2,-1),y.emplaceBack(-1,2);let w=new o.aN;w.emplaceBack(0,1,2),this._fullscreenTriangle=new zp(f.createVertexBuffer(y,Pc.members),f.createIndexBuffer(w),o.aM.simpleSegment(0,0,y.length,w.length)),this._resultBuffer=new Uint8Array(4),f.activeTexture.set(m.TEXTURE1);let M=m.createTexture();m.bindTexture(m.TEXTURE_2D,M),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_S,m.CLAMP_TO_EDGE),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_T,m.CLAMP_TO_EDGE),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MIN_FILTER,m.NEAREST),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MAG_FILTER,m.NEAREST),m.texImage2D(m.TEXTURE_2D,0,this._texFormat,this._texWidth,this._texHeight,0,this._texFormat,this._texType,null),this._fbo=f.createFramebuffer(this._texWidth,this._texHeight,!1,!1),this._fbo.colorAttachment.set(M),zl(m)&&(this._pbo=m.createBuffer(),m.bindBuffer(m.PIXEL_PACK_BUFFER,this._pbo),m.bufferData(m.PIXEL_PACK_BUFFER,4,m.STREAM_READ),m.bindBuffer(m.PIXEL_PACK_BUFFER,null))}destroy(){let a=this._cachedRenderContext.context.gl;this._fullscreenTriangle.destroy(),this._fbo.destroy(),a.deleteBuffer(this._pbo),this._fullscreenTriangle=null,this._fbo=null,this._pbo=null,this._resultBuffer=null}updateErrorLoop(a,f){let m=this._updateCount;return this._readbackQueue?m>=this._readbackQueue.frameNumberIssued+this._readbackWaitFrames&&this._tryReadback():m>=this._lastReadbackFrame+this._measureWaitFrames&&this._renderErrorTexture(a,f),this._updateCount++,this._measuredError}_bindFramebuffer(){let a=this._cachedRenderContext.context,f=a.gl;a.activeTexture.set(f.TEXTURE1),f.bindTexture(f.TEXTURE_2D,this._fbo.colorAttachment.get()),a.bindFramebuffer.set(this._fbo.framebuffer)}_renderErrorTexture(a,f){let m=this._cachedRenderContext.context,y=m.gl;if(this._bindFramebuffer(),m.viewport.set([0,0,this._texWidth,this._texHeight]),m.clear({color:o.bf.transparent}),this._cachedRenderContext.useProgram("projectionErrorMeasurement").draw(m,y.TRIANGLES,Rr.disabled,hn.disabled,si.unblended,_r.disabled,((w,M)=>({u_input:w,u_output_expected:M}))(a,f),null,null,"$clipping",this._fullscreenTriangle.vertexBuffer,this._fullscreenTriangle.indexBuffer,this._fullscreenTriangle.segments),this._pbo&&zl(y)){y.bindBuffer(y.PIXEL_PACK_BUFFER,this._pbo),y.readBuffer(y.COLOR_ATTACHMENT0),y.readPixels(0,0,this._texWidth,this._texHeight,this._texFormat,this._texType,0),y.bindBuffer(y.PIXEL_PACK_BUFFER,null);let w=y.fenceSync(y.SYNC_GPU_COMMANDS_COMPLETE,0);y.flush(),this._readbackQueue={frameNumberIssued:this._updateCount,sync:w}}else this._readbackQueue={frameNumberIssued:this._updateCount,sync:null}}_tryReadback(){let a=this._cachedRenderContext.context.gl;if(this._pbo&&this._readbackQueue&&zl(a)){let f=a.clientWaitSync(this._readbackQueue.sync,0,0);if(f===a.WAIT_FAILED)return o.w("WebGL2 clientWaitSync failed."),this._readbackQueue=null,void(this._lastReadbackFrame=this._updateCount);if(f===a.TIMEOUT_EXPIRED)return;a.bindBuffer(a.PIXEL_PACK_BUFFER,this._pbo),a.getBufferSubData(a.PIXEL_PACK_BUFFER,0,this._resultBuffer,0,4),a.bindBuffer(a.PIXEL_PACK_BUFFER,null)}else this._bindFramebuffer(),a.readPixels(0,0,this._texWidth,this._texHeight,this._texFormat,this._texType,this._resultBuffer);this._readbackQueue=null,this._measuredError=jl._parseRGBA8float(this._resultBuffer),this._lastReadbackFrame=this._updateCount}static _parseRGBA8float(a){let f=0;return f+=a[0]/256,f+=a[1]/65536,f+=a[2]/16777216,a[3]<127&&(f=-f),f/128}}let kv=o.$/128;function sb(x,a){let f=x.granularity!==void 0?Math.max(x.granularity,1):1,m=f+(x.generateBorders?2:0),y=f+(x.extendToNorthPole||x.generateBorders?1:0)+(x.extendToSouthPole||x.generateBorders?1:0),w=m+1,M=y+1,D=x.generateBorders?-1:0,k=x.generateBorders||x.extendToNorthPole?-1:0,B=f+(x.generateBorders?1:0),V=f+(x.generateBorders||x.extendToSouthPole?1:0),W=w*M,G=m*y*6,K=w*M>65536;if(K&&a==="16bit")throw new Error("Granularity is too large and meshes would not fit inside 16 bit vertex indices.");let ee=K||a==="32bit",pe=new Int16Array(2*W),ce=0;for(let Te=k;Te<=V;Te++)for(let be=D;be<=B;be++){let Ae=be/f*o.$;be===-1&&(Ae=-kv),be===f+1&&(Ae=o.$+kv);let Ne=Te/f*o.$;Te===-1&&(Ne=x.extendToNorthPole?o.bh:-kv),Te===f+1&&(Ne=x.extendToSouthPole?o.bi:o.$+kv),pe[ce++]=Ae,pe[ce++]=Ne}let fe=ee?new Uint32Array(G):new Uint16Array(G),ge=0;for(let Te=0;Te<y;Te++)for(let be=0;be<m;be++){let Ae=be+1+Te*w,Ne=be+(Te+1)*w,Se=be+1+(Te+1)*w;fe[ge++]=be+Te*w,fe[ge++]=Ne,fe[ge++]=Ae,fe[ge++]=Ae,fe[ge++]=Ne,fe[ge++]=Se}return{vertices:pe.buffer.slice(0),indices:fe.buffer.slice(0),uses32bitIndices:ee}}let pd=new o.aK({fill:new o.bj(128,2),line:new o.bj(512,0),tile:new o.bj(128,32),stencil:new o.bj(128,1),circle:3});class gm{constructor(){this._tileMeshCache={},this._errorCorrectionUsable=0,this._errorMeasurementLastValue=0,this._errorCorrectionPreviousValue=0,this._errorMeasurementLastChangeTime=-1e3}get name(){return"vertical-perspective"}get transitionState(){return 1}get useSubdivision(){return!0}get shaderVariantName(){return"globe"}get shaderDefine(){return"#define GLOBE"}get shaderPreludeCode(){return ol.projectionGlobe}get vertexShaderPreludeCode(){return ol.projectionMercator.vertexSource}get subdivisionGranularity(){return pd}get useGlobeControls(){return!0}get latitudeErrorCorrectionRadians(){return this._errorCorrectionUsable}destroy(){this._errorMeasurement&&this._errorMeasurement.destroy()}updateGPUdependent(a){this._errorMeasurement||(this._errorMeasurement=new jl(a));let f=o.U(this._errorQueryLatitudeDegrees),m=2*Math.atan(Math.exp(Math.PI-f*Math.PI*2))-.5*Math.PI,y=this._errorMeasurement.updateErrorLoop(f,m),w=I.now();y!==this._errorMeasurementLastValue&&(this._errorCorrectionPreviousValue=this._errorCorrectionUsable,this._errorMeasurementLastValue=y,this._errorMeasurementLastChangeTime=w);let M=Math.min(Math.max((w-this._errorMeasurementLastChangeTime)/1e3/.5,0),1);this._errorCorrectionUsable=o.bk(this._errorCorrectionPreviousValue,-this._errorMeasurementLastValue,o.bl(M))}_getMeshKey(a){return`${a.granularity.toString(36)}_${a.generateBorders?"b":""}${a.extendToNorthPole?"n":""}${a.extendToSouthPole?"s":""}`}getMeshFromTileID(a,f,m,y,w){let M=(w==="stencil"?pd.stencil:pd.tile).getGranularityForZoomLevel(f.z);return this._getMesh(a,{granularity:M,generateBorders:m,extendToNorthPole:f.y===0&&y,extendToSouthPole:f.y===(1<<f.z)-1&&y})}_getMesh(a,f){let m=this._getMeshKey(f);if(m in this._tileMeshCache)return this._tileMeshCache[m];let y=function(w,M){let D=sb(M,"16bit"),k=o.aL.deserialize({arrayBuffer:D.vertices,length:D.vertices.byteLength/2/2}),B=o.aN.deserialize({arrayBuffer:D.indices,length:D.indices.byteLength/2/3});return new zp(w.createVertexBuffer(k,Pc.members),w.createIndexBuffer(B),o.aM.simpleSegment(0,0,k.length,B.length))}(a,f);return this._tileMeshCache[m]=y,y}recalculate(a){}hasTransition(){let a=I.now(),f=!1;return f=f||(a-this._errorMeasurementLastChangeTime)/1e3<.7,f=f||this._errorMeasurement&&this._errorMeasurement.awaitingQuery,f}setErrorQueryLatitudeDegrees(a){this._errorQueryLatitudeDegrees=a}}let Nv=new o.r({type:new o.D(o.v.projection.type)});class Rv extends o.E{constructor(a){super(),this._transitionable=new o.t(Nv),this.setProjection(a),this._transitioning=this._transitionable.untransitioned(),this.recalculate(new o.F(0)),this._mercatorProjection=new rn,this._verticalPerspectiveProjection=new gm}get transitionState(){let a=this.properties.get("type");if(typeof a=="string"&&a==="mercator")return 0;if(typeof a=="string"&&a==="vertical-perspective")return 1;if(a instanceof o.bm){if(a.from==="vertical-perspective"&&a.to==="mercator")return 1-a.transition;if(a.from==="mercator"&&a.to==="vertical-perspective")return a.transition}return 1}get useGlobeRendering(){return this.transitionState>0}get latitudeErrorCorrectionRadians(){return this._verticalPerspectiveProjection.latitudeErrorCorrectionRadians}get currentProjection(){return this.useGlobeRendering?this._verticalPerspectiveProjection:this._mercatorProjection}get name(){return"globe"}get useSubdivision(){return this.currentProjection.useSubdivision}get shaderVariantName(){return this.currentProjection.shaderVariantName}get shaderDefine(){return this.currentProjection.shaderDefine}get shaderPreludeCode(){return this.currentProjection.shaderPreludeCode}get vertexShaderPreludeCode(){return this.currentProjection.vertexShaderPreludeCode}get subdivisionGranularity(){return this.currentProjection.subdivisionGranularity}get useGlobeControls(){return this.transitionState>0}destroy(){this._mercatorProjection.destroy(),this._verticalPerspectiveProjection.destroy()}updateGPUdependent(a){this._mercatorProjection.updateGPUdependent(a),this._verticalPerspectiveProjection.updateGPUdependent(a)}getMeshFromTileID(a,f,m,y,w){return this.currentProjection.getMeshFromTileID(a,f,m,y,w)}setProjection(a){this._transitionable.setValue("type",(a==null?void 0:a.type)||"mercator")}updateTransitions(a){this._transitioning=this._transitionable.transitioned(a,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()||this.currentProjection.hasTransition()}recalculate(a){this.properties=this._transitioning.possiblyEvaluate(a)}setErrorQueryLatitudeDegrees(a){this._verticalPerspectiveProjection.setErrorQueryLatitudeDegrees(a),this._mercatorProjection.setErrorQueryLatitudeDegrees(a)}}function Lv(x){let a=fd(x.worldSize,x.center.lat);return 2*Math.PI*a}function al(x,a,f,m,y){let w=1/(1<<y),M=a/o.$*w+m*w,D=o.bo((x/o.$*w+f*w)*Math.PI*2+Math.PI,2*Math.PI),k=2*Math.atan(Math.exp(Math.PI-M*Math.PI*2))-.5*Math.PI,B=Math.cos(k),V=new Float64Array(3);return V[0]=Math.sin(D)*B,V[1]=Math.sin(k),V[2]=Math.cos(D)*B,V}function fo(x){return function(a,f){let m=Math.cos(f),y=new Float64Array(3);return y[0]=Math.sin(a)*m,y[1]=Math.sin(f),y[2]=Math.cos(a)*m,y}(x.lng*Math.PI/180,x.lat*Math.PI/180)}function fd(x,a){return x/(2*Math.PI)/Math.cos(a*Math.PI/180)}function vm(x){let a=Math.asin(x[1])/Math.PI*180,f=Math.sqrt(x[0]*x[0]+x[2]*x[2]);if(f>1e-6){let m=x[0]/f,y=Math.acos(x[2]/f),w=(m>0?y:-y)/Math.PI*180;return new o.S(o.aO(w,-180,180),a)}return new o.S(0,a)}function Up(x){return Math.cos(x*Math.PI/180)}function Oi(x,a){let f=Up(x),m=Up(a);return o.ak(m/f)}function tT(x,a){let f=x.rotate(a.bearingInRadians),m=a.zoom+Oi(a.center.lat,0),y=o.bk(1/Up(a.center.lat),1/Up(Math.min(Math.abs(a.center.lat),60)),o.bn(m,7,3,0,1)),w=360/Lv({worldSize:a.worldSize,center:{lat:a.center.lat}});return new o.S(a.center.lng-f.x*w*y,o.ah(a.center.lat+f.y*w,-o.ai,o.ai))}function ym(x){let a=.5*x,f=Math.sin(a),m=Math.cos(a);return Math.log(f+m)-Math.log(m-f)}function lb(x,a,f,m){let y=x.lat+f*m;if(Math.abs(f)>1){let w=(Math.sign(x.lat+f)!==Math.sign(x.lat)?-Math.abs(x.lat):Math.abs(x.lat))*Math.PI/180,M=Math.abs(x.lat+f)*Math.PI/180,D=ym(w+m*(M-w)),k=ym(w),B=ym(M);return new o.S(x.lng+a*((D-k)/(B-k)),y)}return new o.S(x.lng+a*m,y)}class zR{constructor(a){this._cachePrevious=new Map,this._cache=new Map,this._hadAnyChanges=!1,this._boundingVolumeFactory=a}swapBuffers(){if(!this._hadAnyChanges)return;let a=this._cachePrevious;this._cachePrevious=this._cache,this._cache=a,this._cache.clear(),this._hadAnyChanges=!1}getTileBoundingVolume(a,f,m,y){let w=`${a.z}_${a.x}_${a.y}_${y!=null&&y.terrain?"t":""}`,M=this._cache.get(w);if(M)return M;let D=this._cachePrevious.get(w);if(D)return this._cache.set(w,D),D;let k=this._boundingVolumeFactory(a,f,m,y);return this._cache.set(w,k),this._hadAnyChanges=!0,k}}class dd{constructor(a,f,m,y){this.min=m,this.max=y,this.points=a,this.planes=f}static fromAabb(a,f){let m=[];for(let y=0;y<8;y++)m.push([1&~y?a[0]:f[0],(y>>1&1)==1?f[1]:a[1],(y>>2&1)==1?f[2]:a[2]]);return new dd(m,[[-1,0,0,f[0]],[1,0,0,-a[0]],[0,-1,0,f[1]],[0,1,0,-a[1]],[0,0,-1,f[2]],[0,0,1,-a[2]]],a,f)}static fromCenterSizeAngles(a,f,m){let y=o.br([],m[0],m[1],m[2]),w=o.bs([],[f[0],0,0],y),M=o.bs([],[0,f[1],0],y),D=o.bs([],[0,0,f[2]],y),k=[...a],B=[...a];for(let W=0;W<8;W++)for(let G=0;G<3;G++){let K=a[G]+w[G]*(1&~W?-1:1)+M[G]*((W>>1&1)==1?1:-1)+D[G]*((W>>2&1)==1?1:-1);k[G]=Math.min(k[G],K),B[G]=Math.max(B[G],K)}let V=[];for(let W=0;W<8;W++){let G=[...a];o.aS(G,G,o.aR([],w,1&~W?-1:1)),o.aS(G,G,o.aR([],M,(W>>1&1)==1?1:-1)),o.aS(G,G,o.aR([],D,(W>>2&1)==1?1:-1)),V.push(G)}return new dd(V,[[...w,-o.aX(w,V[0])],[...M,-o.aX(M,V[0])],[...D,-o.aX(D,V[0])],[-w[0],-w[1],-w[2],-o.aX(w,V[7])],[-M[0],-M[1],-M[2],-o.aX(M,V[7])],[-D[0],-D[1],-D[2],-o.aX(D,V[7])]],k,B)}intersectsFrustum(a){let f=!0,m=this.points.length,y=this.planes.length,w=a.planes.length,M=a.points.length;for(let D=0;D<w;D++){let k=a.planes[D],B=0;for(let V=0;V<m;V++){let W=this.points[V];k[0]*W[0]+k[1]*W[1]+k[2]*W[2]+k[3]>=0&&B++}if(B===0)return 0;B<m&&(f=!1)}if(f)return 2;for(let D=0;D<y;D++){let k=this.planes[D],B=0;for(let V=0;V<M;V++){let W=a.points[V];k[0]*W[0]+k[1]*W[1]+k[2]*W[2]+k[3]>=0&&B++}if(B===0)return 0}return 1}intersectsPlane(a){let f=this.points.length,m=0;for(let y=0;y<f;y++){let w=this.points[y];a[0]*w[0]+a[1]*w[1]+a[2]*w[2]+a[3]>=0&&m++}return m===f?2:m===0?0:1}}function Co(x,a,f){let m=x-a;return m<0?-m:Math.max(0,m-f)}function _m(x,a,f,m,y){let w=x-f,M;return M=w<0?Math.min(-w,1+w-y):w>1?Math.min(Math.max(w-y,0),1-w):0,Math.max(M,Co(a,m,y))}class Fl{constructor(){this._boundingVolumeCache=new zR(this._computeTileBoundingVolume)}prepareNextFrame(){this._boundingVolumeCache.swapBuffers()}distanceToTile2d(a,f,m,y){let w=1<<m.z,M=1/w,D=m.x/w,k=m.y/w,B=2;return B=Math.min(B,_m(a,f,D,k,M)),B=Math.min(B,_m(a,f,D+.5,-k-M,M)),B=Math.min(B,_m(a,f,D+.5,2-k-M,M)),B}getWrap(a,f,m){let y=1<<f.z,w=1/y,M=f.x/y,D=Co(a.x,M,w),k=Co(a.x,M-1,w),B=Co(a.x,M+1,w),V=Math.min(D,k,B);return V===B?1:V===k?-1:0}allowVariableZoom(a,f){return at(a,f)>4}allowWorldCopies(){return!1}getTileBoundingVolume(a,f,m,y){return this._boundingVolumeCache.getTileBoundingVolume(a,f,m,y)}_computeTileBoundingVolume(a,f,m,y){var w,M;let D=0,k=0;if(y!=null&&y.terrain){let B=new o.Z(a.z,f,a.z,a.x,a.y),V=y.terrain.getMinMaxElevation(B);D=(w=V.minElevation)!==null&&w!==void 0?w:Math.min(0,m),k=(M=V.maxElevation)!==null&&M!==void 0?M:Math.max(0,m)}if(D/=o.bu,k/=o.bu,D+=1,k+=1,a.z<=0)return dd.fromAabb([-k,-k,-k],[k,k,k]);if(a.z===1)return dd.fromAabb([a.x===0?-k:0,a.y===0?0:-k,-k],[a.x===0?0:k,a.y===0?k:0,k]);{let B=[al(0,0,a.x,a.y,a.z),al(o.$,0,a.x,a.y,a.z),al(o.$,o.$,a.x,a.y,a.z),al(0,o.$,a.x,a.y,a.z)],V=[];for(let Ze of B)V.push(o.aR([],Ze,k));if(k!==D)for(let Ze of B)V.push(o.aR([],Ze,D));a.y===0&&V.push([0,1,0]),a.y===(1<<a.z)-1&&V.push([0,-1,0]);let W=[1,1,1],G=[-1,-1,-1];for(let Ze of V)for(let Qe=0;Qe<3;Qe++)W[Qe]=Math.min(W[Qe],Ze[Qe]),G[Qe]=Math.max(G[Qe],Ze[Qe]);let K=al(o.$/2,o.$/2,a.x,a.y,a.z),ee=o.aW([],[0,1,0],K);o.aV(ee,ee);let pe=o.aW([],K,ee);o.aV(pe,pe);let ce=o.aW([],B[2],B[1]);o.aV(ce,ce);let fe=o.aW([],B[0],B[3]);o.aV(fe,fe),V.push(o.aR([],K,k)),a.y>=(1<<a.z)/2&&V.push(o.aR([],al(o.$/2,0,a.x,a.y,a.z),k)),a.y<(1<<a.z)/2&&V.push(o.aR([],al(o.$/2,o.$,a.x,a.y,a.z),k));let ge=bm(K,V),Te=bm(pe,V),be=[-K[0],-K[1],-K[2],ge.max],Ae=[K[0],K[1],K[2],-ge.min],Ne=[-pe[0],-pe[1],-pe[2],Te.max],Se=[pe[0],pe[1],pe[2],-Te.min],Ve=[...ce,0],et=[...fe,0],He=[];return a.y===0?He.push(o.bt(et,Ve,be),o.bt(et,Ve,Ae)):He.push(o.bt(Ne,Ve,be),o.bt(Ne,Ve,Ae),o.bt(Ne,et,be),o.bt(Ne,et,Ae)),a.y===(1<<a.z)-1?He.push(o.bt(et,Ve,be),o.bt(et,Ve,Ae)):He.push(o.bt(Se,Ve,be),o.bt(Se,Ve,Ae),o.bt(Se,et,be),o.bt(Se,et,Ae)),new dd(He,[be,Ae,Ne,Se,Ve,et],W,G)}}}function bm(x,a){let f=1/0,m=-1/0;for(let y of a){let w=o.aX(x,y);f=Math.min(f,w),m=Math.max(m,w)}return{min:f,max:m}}class xm{get pixelsToClipSpaceMatrix(){return this._helper.pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._helper.clipSpaceToPixelsMatrix}get pixelsToGLUnits(){return this._helper.pixelsToGLUnits}get centerOffset(){return this._helper.centerOffset}get size(){return this._helper.size}get rotationMatrix(){return this._helper.rotationMatrix}get centerPoint(){return this._helper.centerPoint}get pixelsPerMeter(){return this._helper.pixelsPerMeter}setMinZoom(a){this._helper.setMinZoom(a)}setMaxZoom(a){this._helper.setMaxZoom(a)}setMinPitch(a){this._helper.setMinPitch(a)}setMaxPitch(a){this._helper.setMaxPitch(a)}setRenderWorldCopies(a){this._helper.setRenderWorldCopies(a)}setBearing(a){this._helper.setBearing(a)}setPitch(a){this._helper.setPitch(a)}setRoll(a){this._helper.setRoll(a)}setFov(a){this._helper.setFov(a)}setZoom(a){this._helper.setZoom(a)}setCenter(a){this._helper.setCenter(a)}setElevation(a){this._helper.setElevation(a)}setMinElevationForCurrentTile(a){this._helper.setMinElevationForCurrentTile(a)}setPadding(a){this._helper.setPadding(a)}interpolatePadding(a,f,m){return this._helper.interpolatePadding(a,f,m)}isPaddingEqual(a){return this._helper.isPaddingEqual(a)}resize(a,f){this._helper.resize(a,f)}getMaxBounds(){return this._helper.getMaxBounds()}setMaxBounds(a){this._helper.setMaxBounds(a)}overrideNearFarZ(a,f){this._helper.overrideNearFarZ(a,f)}clearNearFarZOverride(){this._helper.clearNearFarZOverride()}getCameraQueryGeometry(a){return this._helper.getCameraQueryGeometry(this.getCameraPoint(),a)}get tileSize(){return this._helper.tileSize}get tileZoom(){return this._helper.tileZoom}get scale(){return this._helper.scale}get worldSize(){return this._helper.worldSize}get width(){return this._helper.width}get height(){return this._helper.height}get lngRange(){return this._helper.lngRange}get latRange(){return this._helper.latRange}get minZoom(){return this._helper.minZoom}get maxZoom(){return this._helper.maxZoom}get zoom(){return this._helper.zoom}get center(){return this._helper.center}get minPitch(){return this._helper.minPitch}get maxPitch(){return this._helper.maxPitch}get pitch(){return this._helper.pitch}get pitchInRadians(){return this._helper.pitchInRadians}get roll(){return this._helper.roll}get rollInRadians(){return this._helper.rollInRadians}get bearing(){return this._helper.bearing}get bearingInRadians(){return this._helper.bearingInRadians}get fov(){return this._helper.fov}get fovInRadians(){return this._helper.fovInRadians}get elevation(){return this._helper.elevation}get minElevationForCurrentTile(){return this._helper.minElevationForCurrentTile}get padding(){return this._helper.padding}get unmodified(){return this._helper.unmodified}get renderWorldCopies(){return this._helper.renderWorldCopies}get nearZ(){return this._helper.nearZ}get farZ(){return this._helper.farZ}get autoCalculateNearFarZ(){return this._helper.autoCalculateNearFarZ}setTransitionState(a){}constructor(){this._cachedClippingPlane=o.bv(),this._projectionMatrix=o.b9(),this._globeViewProjMatrix32f=o.b8(),this._globeViewProjMatrixNoCorrection=o.b9(),this._globeViewProjMatrixNoCorrectionInverted=o.b9(),this._globeProjMatrixInverted=o.b9(),this._cameraPosition=o.bp(),this._globeLatitudeErrorCorrectionRadians=0,this._helper=new ea({calcMatrices:()=>{this._calcMatrices()},getConstrained:(a,f)=>this.getConstrained(a,f)}),this._coveringTilesDetailsProvider=new Fl}clone(){let a=new xm;return a.apply(this),a}apply(a,f){this._globeLatitudeErrorCorrectionRadians=f||0,this._helper.apply(a)}get projectionMatrix(){return this._projectionMatrix}get modelViewProjectionMatrix(){return this._globeViewProjMatrixNoCorrection}get inverseProjectionMatrix(){return this._globeProjMatrixInverted}get cameraPosition(){let a=o.bp();return a[0]=this._cameraPosition[0],a[1]=this._cameraPosition[1],a[2]=this._cameraPosition[2],a}get cameraToCenterDistance(){return this._helper.cameraToCenterDistance}getProjectionData(a){let{overscaledTileID:f,applyGlobeMatrix:m}=a,y=this._helper.getMercatorTileCoordinates(f);return{mainMatrix:this._globeViewProjMatrix32f,tileMercatorCoords:y,clippingPlane:this._cachedClippingPlane,projectionTransition:m?1:0,fallbackMatrix:this._globeViewProjMatrix32f}}_computeClippingPlane(a){let f=this.pitchInRadians,m=this.cameraToCenterDistance/a,y=Math.sin(f)*m,w=Math.cos(f)*m+1,M=1/Math.sqrt(y*y+w*w)*1,D=-y,k=w,B=Math.sqrt(D*D+k*k);D/=B,k/=B;let V=[0,D,k];o.bw(V,V,[0,0,0],-this.bearingInRadians),o.bx(V,V,[0,0,0],-1*this.center.lat*Math.PI/180),o.by(V,V,[0,0,0],this.center.lng*Math.PI/180);let W=1/o.aZ(V);return o.aR(V,V,W),[...V,-M*W]}isLocationOccluded(a){return!this.isSurfacePointVisible(fo(a))}transformLightDirection(a){let f=this._helper._center.lng*Math.PI/180,m=this._helper._center.lat*Math.PI/180,y=Math.cos(m),w=[Math.sin(f)*y,Math.sin(m),Math.cos(f)*y],M=[w[2],0,-w[0]],D=[0,0,0];o.aW(D,M,w),o.aV(M,M),o.aV(D,D);let k=[0,0,0];return o.aV(k,[M[0]*a[0]+D[0]*a[1]+w[0]*a[2],M[1]*a[0]+D[1]*a[1]+w[1]*a[2],M[2]*a[0]+D[2]*a[1]+w[2]*a[2]]),k}getPixelScale(){return 1/Math.cos(this._helper._center.lat*Math.PI/180)}getCircleRadiusCorrection(){return Math.cos(this._helper._center.lat*Math.PI/180)}getPitchedTextCorrection(a,f,m){let y=function(D,k,B){let V=1/(1<<B.z);return new o.a1(D/o.$*V+B.x*V,k/o.$*V+B.y*V)}(a,f,m.canonical),w=(M=y.y,[o.bo(y.x*Math.PI*2+Math.PI,2*Math.PI),2*Math.atan(Math.exp(Math.PI-M*Math.PI*2))-.5*Math.PI]);var M;return this.getCircleRadiusCorrection()/Math.cos(w[1])}projectTileCoordinates(a,f,m,y){let w=m.canonical,M=al(a,f,w.x,w.y,w.z),D=1+(y?y(a,f):0)/o.bu,k=[M[0]*D,M[1]*D,M[2]*D,1];o.aw(k,k,this._globeViewProjMatrixNoCorrection);let B=this._cachedClippingPlane,V=B[0]*M[0]+B[1]*M[1]+B[2]*M[2]+B[3]<0;return{point:new o.P(k[0]/k[3],k[1]/k[3]),signedDistanceFromCamera:k[3],isOccluded:V}}_calcMatrices(){if(!this._helper._width||!this._helper._height)return;let a=fd(this.worldSize,this.center.lat),f=o.ba(),m=o.ba();this._helper.autoCalculateNearFarZ&&(this._helper._nearZ=.5,this._helper._farZ=this.cameraToCenterDistance+2*a),o.b4(f,this.fovInRadians,this.width/this.height,this._helper._nearZ,this._helper._farZ);let y=this.centerOffset;f[8]=2*-y.x/this._helper._width,f[9]=2*y.y/this._helper._height,this._projectionMatrix=o.b5(f),this._globeProjMatrixInverted=o.ba(),o.aq(this._globeProjMatrixInverted,f),o.M(f,f,[0,0,-this.cameraToCenterDistance]),o.b6(f,f,this.rollInRadians),o.b7(f,f,-this.pitchInRadians),o.b6(f,f,this.bearingInRadians),o.M(f,f,[0,0,-a]);let w=o.bp();w[0]=a,w[1]=a,w[2]=a,o.b7(m,f,this.center.lat*Math.PI/180),o.bz(m,m,-this.center.lng*Math.PI/180),o.N(m,m,w),this._globeViewProjMatrixNoCorrection=m,o.b7(f,f,this.center.lat*Math.PI/180-this._globeLatitudeErrorCorrectionRadians),o.bz(f,f,-this.center.lng*Math.PI/180),o.N(f,f,w),this._globeViewProjMatrix32f=new Float32Array(f),this._globeViewProjMatrixNoCorrectionInverted=o.ba(),o.aq(this._globeViewProjMatrixNoCorrectionInverted,m);let M=o.bp();this._cameraPosition=o.bp(),this._cameraPosition[2]=this.cameraToCenterDistance/a,o.bw(this._cameraPosition,this._cameraPosition,M,-this.rollInRadians),o.bx(this._cameraPosition,this._cameraPosition,M,this.pitchInRadians),o.bw(this._cameraPosition,this._cameraPosition,M,-this.bearingInRadians),o.aS(this._cameraPosition,this._cameraPosition,[0,0,1]),o.bx(this._cameraPosition,this._cameraPosition,M,-this.center.lat*Math.PI/180),o.by(this._cameraPosition,this._cameraPosition,M,this.center.lng*Math.PI/180),this._cachedClippingPlane=this._computeClippingPlane(a);let D=o.b5(this._globeViewProjMatrixNoCorrectionInverted);o.N(D,D,[1,1,-1]),this._cachedFrustum=Ui.fromInvProjectionMatrix(D,1,0,this._cachedClippingPlane,!0)}calculateFogMatrix(a){o.w("calculateFogMatrix is not supported on globe projection.");let f=o.ba();return o.ag(f),f}getVisibleUnwrappedCoordinates(a){return[new o.b2(0,a)]}getCameraFrustum(){return this._cachedFrustum}getClippingPlane(){return this._cachedClippingPlane}getCoveringTilesDetailsProvider(){return this._coveringTilesDetailsProvider}recalculateZoomAndCenter(a){a&&o.w("terrain is not fully supported on vertical perspective projection."),this._helper.recalculateZoomAndCenter(0)}maxPitchScaleFactor(){return 1}getCameraPoint(){return this._helper.getCameraPoint()}getCameraAltitude(){return this._helper.getCameraAltitude()}getCameraLngLat(){return this._helper.getCameraLngLat()}lngLatToCameraDepth(a,f){if(!this._globeViewProjMatrixNoCorrection)return 1;let m=fo(a);o.aR(m,m,1+f/o.bu);let y=o.bv();return o.aw(y,[m[0],m[1],m[2],1],this._globeViewProjMatrixNoCorrection),y[2]/y[3]}populateCache(a){}getBounds(){let a=.5*this.width,f=.5*this.height,m=[new o.P(0,0),new o.P(a,0),new o.P(this.width,0),new o.P(this.width,f),new o.P(this.width,this.height),new o.P(a,this.height),new o.P(0,this.height),new o.P(0,f)],y=[];for(let W of m)y.push(this.unprojectScreenPoint(W));let w=0,M=0,D=0,k=0,B=this.center;for(let W of y){let G=o.bA(B.lng,W.lng),K=o.bA(B.lat,W.lat);G<M&&(M=G),G>w&&(w=G),K<k&&(k=K),K>D&&(D=K)}let V=[B.lng+M,B.lat+k,B.lng+w,B.lat+D];return this.isSurfacePointOnScreen([0,1,0])&&(V[3]=90,V[0]=-180,V[2]=180),this.isSurfacePointOnScreen([0,-1,0])&&(V[1]=-90,V[0]=-180,V[2]=180),new vt(V)}getConstrained(a,f){let m=o.ah(a.lat,-o.ai,o.ai),y=o.ah(+f,this.minZoom+Oi(0,m),this.maxZoom);return{center:new o.S(a.lng,m),zoom:y}}calculateCenterFromCameraLngLatAlt(a,f,m,y){return this._helper.calculateCenterFromCameraLngLatAlt(a,f,m,y)}setLocationAtPoint(a,f){let m=fo(this.unprojectScreenPoint(f)),y=fo(a),w=o.bp();o.bB(w);let M=o.bp();o.by(M,m,w,-this.center.lng*Math.PI/180),o.bx(M,M,w,this.center.lat*Math.PI/180);let D=y[0]*y[0]+y[2]*y[2],k=M[0]*M[0];if(D<k)return;let B=Math.sqrt(D-k),V=-B,W=o.bC(y[0],y[2],M[0],B),G=o.bC(y[0],y[2],M[0],V),K=o.bp();o.by(K,y,w,-W);let ee=o.bC(K[1],K[2],M[1],M[2]),pe=o.bp();o.by(pe,y,w,-G);let ce=o.bC(pe[1],pe[2],M[1],M[2]),fe=.5*Math.PI,ge=ee>=-fe&&ee<=fe,Te=ce>=-fe&&ce<=fe,be,Ae;if(ge&&Te){let et=this.center.lng*Math.PI/180,He=this.center.lat*Math.PI/180;o.bD(W,et)+o.bD(ee,He)<o.bD(G,et)+o.bD(ce,He)?(be=W,Ae=ee):(be=G,Ae=ce)}else if(ge)be=W,Ae=ee;else{if(!Te)return;be=G,Ae=ce}let Ne=be/Math.PI*180,Se=Ae/Math.PI*180,Ve=this.center.lat;this.setCenter(new o.S(Ne,o.ah(Se,-90,90))),this.setZoom(this.zoom+Oi(Ve,this.center.lat))}locationToScreenPoint(a,f){let m=fo(a);if(f){let y=f.getElevationForLngLatZoom(a,this._helper._tileZoom);o.aR(m,m,1+y/o.bu)}return this._projectSurfacePointToScreen(m)}_projectSurfacePointToScreen(a){let f=o.bv();return o.aw(f,[...a,1],this._globeViewProjMatrixNoCorrection),f[0]/=f[3],f[1]/=f[3],new o.P((.5*f[0]+.5)*this.width,(.5*-f[1]+.5)*this.height)}screenPointToMercatorCoordinate(a,f){if(f){let m=f.pointCoordinate(a);if(m)return m}return o.a1.fromLngLat(this.unprojectScreenPoint(a))}screenPointToLocation(a,f){var m;return(m=this.screenPointToMercatorCoordinate(a,f))===null||m===void 0?void 0:m.toLngLat()}isPointOnMapSurface(a,f){let m=this._cameraPosition,y=this.getRayDirectionFromPixel(a);return!!this.rayPlanetIntersection(m,y)}getRayDirectionFromPixel(a){let f=o.bv();f[0]=a.x/this.width*2-1,f[1]=-1*(a.y/this.height*2-1),f[2]=1,f[3]=1,o.aw(f,f,this._globeViewProjMatrixNoCorrectionInverted),f[0]/=f[3],f[1]/=f[3],f[2]/=f[3];let m=o.bp();m[0]=f[0]-this._cameraPosition[0],m[1]=f[1]-this._cameraPosition[1],m[2]=f[2]-this._cameraPosition[2];let y=o.bp();return o.aV(y,m),y}isSurfacePointVisible(a){let f=this._cachedClippingPlane;return f[0]*a[0]+f[1]*a[1]+f[2]*a[2]+f[3]>=0}isSurfacePointOnScreen(a){if(!this.isSurfacePointVisible(a))return!1;let f=o.bv();return o.aw(f,[...a,1],this._globeViewProjMatrixNoCorrection),f[0]/=f[3],f[1]/=f[3],f[2]/=f[3],f[0]>-1&&f[0]<1&&f[1]>-1&&f[1]<1&&f[2]>-1&&f[2]<1}rayPlanetIntersection(a,f){let m=o.aX(a,f),y=o.bp(),w=o.bp();o.aR(w,f,m),o.aU(y,a,w);let M=1-o.aX(y,y);if(M<0)return null;let D=o.aX(a,a)-1,k=-m+(m<0?1:-1)*Math.sqrt(M),B=D/k,V=k;return{tMin:Math.min(B,V),tMax:Math.max(B,V)}}unprojectScreenPoint(a){let f=this._cameraPosition,m=this.getRayDirectionFromPixel(a),y=this.rayPlanetIntersection(f,m);if(y){let V=o.bp();o.aS(V,f,[m[0]*y.tMin,m[1]*y.tMin,m[2]*y.tMin]);let W=o.bp();return o.aV(W,V),vm(W)}let w=this._cachedClippingPlane,M=w[0]*m[0]+w[1]*m[1]+w[2]*m[2],D=-o.b1(w,f)/M,k=o.bp();if(D>0)o.aS(k,f,[m[0]*D,m[1]*D,m[2]*D]);else{let V=o.bp();o.aS(V,f,[2*m[0],2*m[1],2*m[2]]);let W=o.b1(this._cachedClippingPlane,V);o.aU(k,V,[this._cachedClippingPlane[0]*W,this._cachedClippingPlane[1]*W,this._cachedClippingPlane[2]*W])}let B=function(V){let W=o.bp();return W[0]=V[0]*-V[3],W[1]=V[1]*-V[3],W[2]=V[2]*-V[3],{center:W,radius:Math.sqrt(1-V[3]*V[3])}}(w);return vm(function(V,W,G){let K=o.bp();o.aU(K,G,V);let ee=o.bp();return o.bq(ee,V,K,W/o.a$(K)),ee}(B.center,B.radius,k))}getMatrixForModel(a,f){let m=o.S.convert(a),y=1/o.bu,w=o.b9();return o.bz(w,w,m.lng/180*Math.PI),o.b7(w,w,-m.lat/180*Math.PI),o.M(w,w,[0,0,1+f/o.bu]),o.b7(w,w,.5*Math.PI),o.N(w,w,[y,y,y]),w}getProjectionDataForCustomLayer(a=!0){let f=this.getProjectionData({overscaledTileID:new o.Z(0,0,0,0,0),applyGlobeMatrix:a});return f.tileMercatorCoords=[0,0,1,1],f}getFastPathSimpleProjectionMatrix(a){}}class wm{get pixelsToClipSpaceMatrix(){return this._helper.pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._helper.clipSpaceToPixelsMatrix}get pixelsToGLUnits(){return this._helper.pixelsToGLUnits}get centerOffset(){return this._helper.centerOffset}get size(){return this._helper.size}get rotationMatrix(){return this._helper.rotationMatrix}get centerPoint(){return this._helper.centerPoint}get pixelsPerMeter(){return this._helper.pixelsPerMeter}setMinZoom(a){this._helper.setMinZoom(a)}setMaxZoom(a){this._helper.setMaxZoom(a)}setMinPitch(a){this._helper.setMinPitch(a)}setMaxPitch(a){this._helper.setMaxPitch(a)}setRenderWorldCopies(a){this._helper.setRenderWorldCopies(a)}setBearing(a){this._helper.setBearing(a)}setPitch(a){this._helper.setPitch(a)}setRoll(a){this._helper.setRoll(a)}setFov(a){this._helper.setFov(a)}setZoom(a){this._helper.setZoom(a)}setCenter(a){this._helper.setCenter(a)}setElevation(a){this._helper.setElevation(a)}setMinElevationForCurrentTile(a){this._helper.setMinElevationForCurrentTile(a)}setPadding(a){this._helper.setPadding(a)}interpolatePadding(a,f,m){return this._helper.interpolatePadding(a,f,m)}isPaddingEqual(a){return this._helper.isPaddingEqual(a)}resize(a,f,m=!0){this._helper.resize(a,f,m)}getMaxBounds(){return this._helper.getMaxBounds()}setMaxBounds(a){this._helper.setMaxBounds(a)}overrideNearFarZ(a,f){this._helper.overrideNearFarZ(a,f)}clearNearFarZOverride(){this._helper.clearNearFarZOverride()}getCameraQueryGeometry(a){return this._helper.getCameraQueryGeometry(this.getCameraPoint(),a)}get tileSize(){return this._helper.tileSize}get tileZoom(){return this._helper.tileZoom}get scale(){return this._helper.scale}get worldSize(){return this._helper.worldSize}get width(){return this._helper.width}get height(){return this._helper.height}get lngRange(){return this._helper.lngRange}get latRange(){return this._helper.latRange}get minZoom(){return this._helper.minZoom}get maxZoom(){return this._helper.maxZoom}get zoom(){return this._helper.zoom}get center(){return this._helper.center}get minPitch(){return this._helper.minPitch}get maxPitch(){return this._helper.maxPitch}get pitch(){return this._helper.pitch}get pitchInRadians(){return this._helper.pitchInRadians}get roll(){return this._helper.roll}get rollInRadians(){return this._helper.rollInRadians}get bearing(){return this._helper.bearing}get bearingInRadians(){return this._helper.bearingInRadians}get fov(){return this._helper.fov}get fovInRadians(){return this._helper.fovInRadians}get elevation(){return this._helper.elevation}get minElevationForCurrentTile(){return this._helper.minElevationForCurrentTile}get padding(){return this._helper.padding}get unmodified(){return this._helper.unmodified}get renderWorldCopies(){return this._helper.renderWorldCopies}get cameraToCenterDistance(){return this._helper.cameraToCenterDistance}get nearZ(){return this._helper.nearZ}get farZ(){return this._helper.farZ}get autoCalculateNearFarZ(){return this._helper.autoCalculateNearFarZ}get isGlobeRendering(){return this._globeness>0}setTransitionState(a,f){this._globeness=a,this._globeLatitudeErrorCorrectionRadians=f,this._calcMatrices(),this._verticalPerspectiveTransform.getCoveringTilesDetailsProvider().prepareNextFrame(),this._mercatorTransform.getCoveringTilesDetailsProvider().prepareNextFrame()}get currentTransform(){return this.isGlobeRendering?this._verticalPerspectiveTransform:this._mercatorTransform}constructor(){this._globeLatitudeErrorCorrectionRadians=0,this._globeness=1,this._helper=new ea({calcMatrices:()=>{this._calcMatrices()},getConstrained:(a,f)=>this.getConstrained(a,f)}),this._globeness=1,this._mercatorTransform=new Wn,this._verticalPerspectiveTransform=new xm}clone(){let a=new wm;return a._globeness=this._globeness,a._globeLatitudeErrorCorrectionRadians=this._globeLatitudeErrorCorrectionRadians,a.apply(this),a}apply(a){this._helper.apply(a),this._mercatorTransform.apply(this),this._verticalPerspectiveTransform.apply(this,this._globeLatitudeErrorCorrectionRadians)}get projectionMatrix(){return this.currentTransform.projectionMatrix}get modelViewProjectionMatrix(){return this.currentTransform.modelViewProjectionMatrix}get inverseProjectionMatrix(){return this.currentTransform.inverseProjectionMatrix}get cameraPosition(){return this.currentTransform.cameraPosition}getProjectionData(a){let f=this._mercatorTransform.getProjectionData(a),m=this._verticalPerspectiveTransform.getProjectionData(a);return{mainMatrix:this.isGlobeRendering?m.mainMatrix:f.mainMatrix,clippingPlane:m.clippingPlane,tileMercatorCoords:m.tileMercatorCoords,projectionTransition:a.applyGlobeMatrix?this._globeness:0,fallbackMatrix:f.fallbackMatrix}}isLocationOccluded(a){return this.currentTransform.isLocationOccluded(a)}transformLightDirection(a){return this.currentTransform.transformLightDirection(a)}getPixelScale(){return o.bk(this._mercatorTransform.getPixelScale(),this._verticalPerspectiveTransform.getPixelScale(),this._globeness)}getCircleRadiusCorrection(){return o.bk(this._mercatorTransform.getCircleRadiusCorrection(),this._verticalPerspectiveTransform.getCircleRadiusCorrection(),this._globeness)}getPitchedTextCorrection(a,f,m){let y=this._mercatorTransform.getPitchedTextCorrection(a,f,m),w=this._verticalPerspectiveTransform.getPitchedTextCorrection(a,f,m);return o.bk(y,w,this._globeness)}projectTileCoordinates(a,f,m,y){return this.currentTransform.projectTileCoordinates(a,f,m,y)}_calcMatrices(){this._helper._width&&this._helper._height&&(this._verticalPerspectiveTransform.apply(this,this._globeLatitudeErrorCorrectionRadians),this._helper._nearZ=this._verticalPerspectiveTransform.nearZ,this._helper._farZ=this._verticalPerspectiveTransform.farZ,this._mercatorTransform.apply(this,!0,this.isGlobeRendering),this._helper._nearZ=this._mercatorTransform.nearZ,this._helper._farZ=this._mercatorTransform.farZ)}calculateFogMatrix(a){return this.currentTransform.calculateFogMatrix(a)}getVisibleUnwrappedCoordinates(a){return this.currentTransform.getVisibleUnwrappedCoordinates(a)}getCameraFrustum(){return this.currentTransform.getCameraFrustum()}getClippingPlane(){return this.currentTransform.getClippingPlane()}getCoveringTilesDetailsProvider(){return this.currentTransform.getCoveringTilesDetailsProvider()}recalculateZoomAndCenter(a){this._mercatorTransform.recalculateZoomAndCenter(a),this._verticalPerspectiveTransform.recalculateZoomAndCenter(a)}maxPitchScaleFactor(){return this._mercatorTransform.maxPitchScaleFactor()}getCameraPoint(){return this._helper.getCameraPoint()}getCameraAltitude(){return this._helper.getCameraAltitude()}getCameraLngLat(){return this._helper.getCameraLngLat()}lngLatToCameraDepth(a,f){return this.currentTransform.lngLatToCameraDepth(a,f)}populateCache(a){this._mercatorTransform.populateCache(a),this._verticalPerspectiveTransform.populateCache(a)}getBounds(){return this.currentTransform.getBounds()}getConstrained(a,f){return this.currentTransform.getConstrained(a,f)}calculateCenterFromCameraLngLatAlt(a,f,m,y){return this._helper.calculateCenterFromCameraLngLatAlt(a,f,m,y)}setLocationAtPoint(a,f){if(!this.isGlobeRendering)return this._mercatorTransform.setLocationAtPoint(a,f),void this.apply(this._mercatorTransform);this._verticalPerspectiveTransform.setLocationAtPoint(a,f),this.apply(this._verticalPerspectiveTransform)}locationToScreenPoint(a,f){return this.currentTransform.locationToScreenPoint(a,f)}screenPointToMercatorCoordinate(a,f){return this.currentTransform.screenPointToMercatorCoordinate(a,f)}screenPointToLocation(a,f){return this.currentTransform.screenPointToLocation(a,f)}isPointOnMapSurface(a,f){return this.currentTransform.isPointOnMapSurface(a,f)}getRayDirectionFromPixel(a){return this._verticalPerspectiveTransform.getRayDirectionFromPixel(a)}getMatrixForModel(a,f){return this.currentTransform.getMatrixForModel(a,f)}getProjectionDataForCustomLayer(a=!0){let f=this._mercatorTransform.getProjectionDataForCustomLayer(a);if(!this.isGlobeRendering)return f;let m=this._verticalPerspectiveTransform.getProjectionDataForCustomLayer(a);return m.fallbackMatrix=f.mainMatrix,m}getFastPathSimpleProjectionMatrix(a){return this.currentTransform.getFastPathSimpleProjectionMatrix(a)}}class Fo{get useGlobeControls(){return!0}handlePanInertia(a,f){let m=tT(a,f);return Math.abs(m.lng-f.center.lng)>180&&(m.lng=f.center.lng+179.5*Math.sign(m.lng-f.center.lng)),{easingCenter:m,easingOffset:new o.P(0,0)}}handleMapControlsRollPitchBearingZoom(a,f){let m=a.around,y=f.screenPointToLocation(m);a.bearingDelta&&f.setBearing(f.bearing+a.bearingDelta),a.pitchDelta&&f.setPitch(f.pitch+a.pitchDelta),a.rollDelta&&f.setRoll(f.roll+a.rollDelta);let w=f.zoom;a.zoomDelta&&f.setZoom(f.zoom+a.zoomDelta);let M=f.zoom-w;if(M===0)return;let D=o.bA(f.center.lng,y.lng),k=D/(Math.abs(D/180)+1),B=o.bA(f.center.lat,y.lat),V=f.getRayDirectionFromPixel(m),W=f.cameraPosition,G=-1*o.aX(W,V),K=o.bp();o.aS(K,W,[V[0]*G,V[1]*G,V[2]*G]);let ee=o.aZ(K)-1,pe=Math.exp(.5*-Math.max(ee-.3,0)),ce=fd(f.worldSize,f.center.lat)/Math.min(f.width,f.height),fe=o.bn(ce,.9,.5,1,.25),ge=(1-o.af(-M))*Math.min(pe,fe),Te=f.center.lat,be=f.zoom,Ae=new o.S(f.center.lng+k*ge,o.ah(f.center.lat+B*ge,-o.ai,o.ai));f.setLocationAtPoint(y,m);let Ne=f.center,Se=o.bn(Math.abs(D),45,85,0,1),Ve=o.bn(ce,.75,.35,0,1),et=Math.pow(Math.max(Se,Ve),.25),He=o.bA(Ne.lng,Ae.lng),Ze=o.bA(Ne.lat,Ae.lat);f.setCenter(new o.S(Ne.lng+He*et,Ne.lat+Ze*et).wrap()),f.setZoom(be+Oi(Te,f.center.lat))}handleMapControlsPan(a,f,m){if(!a.panDelta)return;let y=f.center.lat,w=f.zoom;f.setCenter(tT(a.panDelta,f).wrap()),f.setZoom(w+Oi(y,f.center.lat))}cameraForBoxAndBearing(a,f,m,y,w){let M=as(a,f,m,y,w),D=f.left/w.width*2-1,k=(w.width-f.right)/w.width*2-1,B=f.top/w.height*-2+1,V=(w.height-f.bottom)/w.height*-2+1,W=o.bA(m.getWest(),m.getEast())<0,G=W?m.getEast():m.getWest(),K=W?m.getWest():m.getEast(),ee=Math.max(m.getNorth(),m.getSouth()),pe=Math.min(m.getNorth(),m.getSouth()),ce=G+.5*o.bA(G,K),fe=ee+.5*o.bA(ee,pe),ge=w.clone();ge.setCenter(M.center),ge.setBearing(M.bearing),ge.setPitch(0),ge.setRoll(0),ge.setZoom(M.zoom);let Te=ge.modelViewProjectionMatrix,be=[fo(m.getNorthWest()),fo(m.getNorthEast()),fo(m.getSouthWest()),fo(m.getSouthEast()),fo(new o.S(K,fe)),fo(new o.S(G,fe)),fo(new o.S(ce,ee)),fo(new o.S(ce,pe))],Ae=fo(M.center),Ne=Number.POSITIVE_INFINITY;for(let Se of be)D<0&&(Ne=Fo.getLesserNonNegativeNonNull(Ne,Fo.solveVectorScale(Se,Ae,Te,"x",D))),k>0&&(Ne=Fo.getLesserNonNegativeNonNull(Ne,Fo.solveVectorScale(Se,Ae,Te,"x",k))),B>0&&(Ne=Fo.getLesserNonNegativeNonNull(Ne,Fo.solveVectorScale(Se,Ae,Te,"y",B))),V<0&&(Ne=Fo.getLesserNonNegativeNonNull(Ne,Fo.solveVectorScale(Se,Ae,Te,"y",V)));if(Number.isFinite(Ne)&&Ne!==0)return M.zoom=ge.zoom+o.ak(Ne),M;eT()}handleJumpToCenterZoom(a,f){let m=a.center.lat,y=a.getConstrained(f.center?o.S.convert(f.center):a.center,a.zoom).center;a.setCenter(y.wrap());let w=f.zoom!==void 0?+f.zoom:a.zoom+Oi(m,y.lat);a.zoom!==w&&a.setZoom(w)}handleEaseTo(a,f){let m=a.zoom,y=a.center,w=a.padding,M={roll:a.roll,pitch:a.pitch,bearing:a.bearing},D={roll:f.roll===void 0?a.roll:f.roll,pitch:f.pitch===void 0?a.pitch:f.pitch,bearing:f.bearing===void 0?a.bearing:f.bearing},k=f.zoom!==void 0,B=!a.isPaddingEqual(f.padding),V=!1,W=f.center?o.S.convert(f.center):y,G=a.getConstrained(W,m).center;Ov(a,G);let K=a.clone();K.setCenter(G),K.setZoom(k?+f.zoom:m+Oi(y.lat,W.lat)),K.setBearing(f.bearing);let ee=new o.P(o.ah(a.centerPoint.x+f.offsetAsPoint.x,0,a.width),o.ah(a.centerPoint.y+f.offsetAsPoint.y,0,a.height));K.setLocationAtPoint(G,ee);let pe=(f.offset&&f.offsetAsPoint.mag())>0?K.center:G,ce=k?+f.zoom:m+Oi(y.lat,pe.lat),fe=m+Oi(y.lat,0),ge=ce+Oi(pe.lat,0),Te=o.bA(y.lng,pe.lng),be=o.bA(y.lat,pe.lat),Ae=o.af(ge-fe);return V=ce!==m,{easeFunc:Ne=>{if(o.be(M,D)||ra({startEulerAngles:M,endEulerAngles:D,tr:a,k:Ne,useSlerp:M.roll!=D.roll}),B&&a.interpolatePadding(w,f.padding,Ne),f.around)o.w("Easing around a point is not supported under globe projection."),a.setLocationAtPoint(f.around,f.aroundPoint);else{let Se=ge>fe?Math.min(2,Ae):Math.max(.5,Ae),Ve=Math.pow(Se,1-Ne),et=lb(y,Te,be,Ne*Ve);a.setCenter(et.wrap())}if(V){let Se=o.C.number(fe,ge,Ne)+Oi(0,a.center.lat);a.setZoom(Se)}},isZooming:V,elevationCenter:pe}}handleFlyTo(a,f){let m=f.zoom!==void 0,y=a.center,w=a.zoom,M=a.padding,D=!a.isPaddingEqual(f.padding),k=a.getConstrained(o.S.convert(f.center||f.locationAtOffset),w).center,B=m?+f.zoom:a.zoom+Oi(a.center.lat,k.lat),V=a.clone();V.setCenter(k),V.setZoom(B),V.setBearing(f.bearing);let W=new o.P(o.ah(a.centerPoint.x+f.offsetAsPoint.x,0,a.width),o.ah(a.centerPoint.y+f.offsetAsPoint.y,0,a.height));V.setLocationAtPoint(k,W);let G=V.center;Ov(a,G);let K=function(be,Ae,Ne){let Se=fo(Ae),Ve=fo(Ne),et=o.aX(Se,Ve),He=Math.acos(et),Ze=Lv(be);return He/(2*Math.PI)*Ze}(a,y,G),ee=w+Oi(y.lat,0),pe=B+Oi(G.lat,0),ce=o.af(pe-ee),fe;if(typeof f.minZoom=="number"){let be=+f.minZoom+Oi(G.lat,0),Ae=Math.min(be,ee,pe)+Oi(0,G.lat),Ne=a.getConstrained(G,Ae).zoom+Oi(G.lat,0);fe=o.af(Ne-ee)}let ge=o.bA(y.lng,G.lng),Te=o.bA(y.lat,G.lat);return{easeFunc:(be,Ae,Ne,Se)=>{let Ve=lb(y,ge,Te,Ne);D&&a.interpolatePadding(M,f.padding,be);let et=be===1?G:Ve;a.setCenter(et.wrap());let He=ee+o.ak(Ae);a.setZoom(be===1?B:He+Oi(0,et.lat))},scaleOfZoom:ce,targetCenter:G,scaleOfMinZoom:fe,pixelPathLength:K}}static solveVectorScale(a,f,m,y,w){let M=y==="x"?[m[0],m[4],m[8],m[12]]:[m[1],m[5],m[9],m[13]],D=[m[3],m[7],m[11],m[15]],k=a[0]*M[0]+a[1]*M[1]+a[2]*M[2],B=a[0]*D[0]+a[1]*D[1]+a[2]*D[2],V=f[0]*M[0]+f[1]*M[1]+f[2]*M[2],W=f[0]*D[0]+f[1]*D[1]+f[2]*D[2];return V+w*B===k+w*W||D[3]*(k-V)+M[3]*(W-B)+k*W==V*B?null:(V+M[3]-w*W-w*D[3])/(V-k-w*W+w*B)}static getLesserNonNegativeNonNull(a,f){return f!==null&&f>=0&&f<a?f:a}}class rT{constructor(a){this._globe=a,this._mercatorCameraHelper=new jo,this._verticalPerspectiveCameraHelper=new Fo}get useGlobeControls(){return this._globe.useGlobeRendering}get currentHelper(){return this.useGlobeControls?this._verticalPerspectiveCameraHelper:this._mercatorCameraHelper}handlePanInertia(a,f){return this.currentHelper.handlePanInertia(a,f)}handleMapControlsRollPitchBearingZoom(a,f){return this.currentHelper.handleMapControlsRollPitchBearingZoom(a,f)}handleMapControlsPan(a,f,m){this.currentHelper.handleMapControlsPan(a,f,m)}cameraForBoxAndBearing(a,f,m,y,w){return this.currentHelper.cameraForBoxAndBearing(a,f,m,y,w)}handleJumpToCenterZoom(a,f){this.currentHelper.handleJumpToCenterZoom(a,f)}handleEaseTo(a,f){return this.currentHelper.handleEaseTo(a,f)}handleFlyTo(a,f){return this.currentHelper.handleFlyTo(a,f)}}let qv=(x,a)=>o.y(x,a&&a.filter(f=>f.identifier!=="source.canvas")),jR=o.bE();class ub extends o.E{constructor(a,f={}){var m,y;super(),this._rtlPluginLoaded=()=>{for(let M in this.sourceCaches){let D=this.sourceCaches[M].getSource().type;D!=="vector"&&D!=="geojson"||this.sourceCaches[M].reload()}},this.map=a,this.dispatcher=new tt(st(),a._getMapId()),this.dispatcher.registerMessageHandler("GG",(M,D)=>this.getGlyphs(M,D)),this.dispatcher.registerMessageHandler("GI",(M,D)=>this.getImages(M,D)),this.imageManager=new ue,this.imageManager.setEventedParent(this);let w=((m=a._container)===null||m===void 0?void 0:m.lang)||typeof document!="undefined"&&((y=document.documentElement)===null||y===void 0?void 0:y.lang)||void 0;this.glyphManager=new xe(a._requestManager,f.localIdeographFontFamily,w),this.lineAtlas=new pt(256,512),this.crossTileSymbolIndex=new cd,this._spritesImagesIds={},this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new o.bF,this._loaded=!1,this._availableImages=[],this._globalState={},this._resetUpdates(),this.dispatcher.broadcast("SR",o.bG()),Vr().on(Or,this._rtlPluginLoaded),this.on("data",M=>{if(M.dataType!=="source"||M.sourceDataType!=="metadata")return;let D=this.sourceCaches[M.sourceId];if(!D)return;let k=D.getSource();if(k&&k.vectorLayerIds)for(let B in this._layers){let V=this._layers[B];V.source===k.id&&this._validateLayer(V)}})}setGlobalStateProperty(a,f){var m,y,w;this._checkLoaded();let M=f===null?(w=(y=(m=this.stylesheet.state)===null||m===void 0?void 0:m[a])===null||y===void 0?void 0:y.default)!==null&&w!==void 0?w:null:f;if(o.bH(M,this._globalState[a]))return this;this._globalState[a]=M,this._applyGlobalStateChanges([a])}getGlobalState(){return this._globalState}setGlobalState(a){this._checkLoaded();let f=[];for(let m in a)!o.bH(this._globalState[m],a[m].default)&&(f.push(m),this._globalState[m]=a[m].default);this._applyGlobalStateChanges(f)}_applyGlobalStateChanges(a){if(a.length===0)return;let f=new Set;for(let m in this._layers){let y=this._layers[m],w=y.getLayoutAffectingGlobalStateRefs(),M=y.getPaintAffectingGlobalStateRefs();for(let D of a)if(w.has(D)&&f.add(y.source),M.has(D))for(let{name:k,value:B}of M.get(D))this._updatePaintProperty(y,k,B)}for(let m in this.sourceCaches)f.has(m)&&(this._reloadSource(m),this._changed=!0)}loadURL(a,f={},m){this.fire(new o.l("dataloading",{dataType:"style"})),f.validate=typeof f.validate!="boolean"||f.validate;let y=this.map._requestManager.transformRequest(a,"Style");this._loadStyleRequest=new AbortController;let w=this._loadStyleRequest;o.j(y,this._loadStyleRequest).then(M=>{this._loadStyleRequest=null,this._load(M.data,f,m)}).catch(M=>{this._loadStyleRequest=null,M&&!w.signal.aborted&&this.fire(new o.k(M))})}loadJSON(a,f={},m){this.fire(new o.l("dataloading",{dataType:"style"})),this._frameRequest=new AbortController,I.frameAsync(this._frameRequest).then(()=>{this._frameRequest=null,f.validate=f.validate!==!1,this._load(a,f,m)}).catch(()=>{})}loadEmpty(){this.fire(new o.l("dataloading",{dataType:"style"})),this._load(jR,{validate:!1})}_load(a,f,m){var y,w;let M=f.transformStyle?f.transformStyle(m,a):a;if(!f.validate||!qv(this,o.z(M))){M=Object.assign({},M),this._loaded=!0,this.stylesheet=M;for(let D in M.sources)this.addSource(D,M.sources[D],{validate:!1});M.sprite?this._loadSprite(M.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(M.glyphs),this._createLayers(),this.light=new Oe(this.stylesheet.light),this._setProjectionInternal(((y=this.stylesheet.projection)===null||y===void 0?void 0:y.type)||"mercator"),this.sky=new lt(this.stylesheet.sky),this.map.setTerrain((w=this.stylesheet.terrain)!==null&&w!==void 0?w:null),this.fire(new o.l("data",{dataType:"style"})),this.fire(new o.l("style.load"))}}_createLayers(){var a;let f=o.bI(this.stylesheet.layers);this.dispatcher.broadcast("SL",f),this._order=f.map(m=>m.id),this._layers={},this.setGlobalState((a=this.stylesheet.state)!==null&&a!==void 0?a:null),this._serializedLayers=null;for(let m of f){let y=o.bJ(m);y.setEventedParent(this,{layer:{id:m.id}}),y.setGlobalState(this._globalState),this._layers[m.id]=y}}_loadSprite(a,f=!1,m=void 0){let y;this.imageManager.setLoaded(!1),this._spriteRequest=new AbortController,function(w,M,D,k){return o._(this,void 0,void 0,function*(){let B=Y(w),V=D>1?"@2x":"",W={},G={};for(let{id:K,url:ee}of B){let pe=M.transformRequest(te(ee,V,".json"),"SpriteJSON");W[K]=o.j(pe,k);let ce=M.transformRequest(te(ee,V,".png"),"SpriteImage");G[K]=F.getImage(ce,k)}return yield Promise.all([...Object.values(W),...Object.values(G)]),function(K,ee){return o._(this,void 0,void 0,function*(){let pe={};for(let ce in K){pe[ce]={};let fe=I.getImageCanvasContext((yield ee[ce]).data),ge=(yield K[ce]).data;for(let Te in ge){let{width:be,height:Ae,x:Ne,y:Se,sdf:Ve,pixelRatio:et,stretchX:He,stretchY:Ze,content:Qe,textFitWidth:Tt,textFitHeight:At}=ge[Te];pe[ce][Te]={data:null,pixelRatio:et,sdf:Ve,stretchX:He,stretchY:Ze,content:Qe,textFitWidth:Tt,textFitHeight:At,spriteData:{width:be,height:Ae,x:Ne,y:Se,context:fe}}}}return pe})}(W,G)})}(a,this.map._requestManager,this.map.getPixelRatio(),this._spriteRequest).then(w=>{if(this._spriteRequest=null,w)for(let M in w){this._spritesImagesIds[M]=[];let D=this._spritesImagesIds[M]?this._spritesImagesIds[M].filter(k=>!(k in w)):[];for(let k of D)this.imageManager.removeImage(k),this._changedImages[k]=!0;for(let k in w[M]){let B=M==="default"?k:`${M}:${k}`;this._spritesImagesIds[M].push(B),B in this.imageManager.images?this.imageManager.updateImage(B,w[M][k],!1):this.imageManager.addImage(B,w[M][k]),f&&(this._changedImages[B]=!0)}}}).catch(w=>{this._spriteRequest=null,y=w,this.fire(new o.k(y))}).finally(()=>{this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),f&&(this._changed=!0),this.dispatcher.broadcast("SI",this._availableImages),this.fire(new o.l("data",{dataType:"style"})),m&&m(y)})}_unloadSprite(){for(let a of Object.values(this._spritesImagesIds).flat())this.imageManager.removeImage(a),this._changedImages[a]=!0;this._spritesImagesIds={},this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new o.l("data",{dataType:"style"}))}_validateLayer(a){let f=this.sourceCaches[a.source];if(!f)return;let m=a.sourceLayer;if(!m)return;let y=f.getSource();(y.type==="geojson"||y.vectorLayerIds&&y.vectorLayerIds.indexOf(m)===-1)&&this.fire(new o.k(new Error(`Source layer "${m}" does not exist on source "${y.id}" as specified by style layer "${a.id}".`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(let a in this.sourceCaches)if(!this.sourceCaches[a].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeByIds(a,f=!1){let m=this._serializedAllLayers();if(!a||a.length===0)return Object.values(f?o.bK(m):m);let y=[];for(let w of a)if(m[w]){let M=f?o.bK(m[w]):m[w];y.push(M)}return y}_serializedAllLayers(){let a=this._serializedLayers;if(a)return a;a=this._serializedLayers={};let f=Object.keys(this._layers);for(let m of f){let y=this._layers[m];y.type!=="custom"&&(a[m]=y.serialize())}return a}hasTransitions(){var a,f,m;if(!((a=this.light)===null||a===void 0)&&a.hasTransition()||!((f=this.sky)===null||f===void 0)&&f.hasTransition()||!((m=this.projection)===null||m===void 0)&&m.hasTransition())return!0;for(let y in this.sourceCaches)if(this.sourceCaches[y].hasTransition())return!0;for(let y in this._layers)if(this._layers[y].hasTransition())return!0;return!1}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading.")}update(a){if(!this._loaded)return;let f=this._changed;if(f){let y=Object.keys(this._updatedLayers),w=Object.keys(this._removedLayers);(y.length||w.length)&&this._updateWorkerLayers(y,w);for(let M in this._updatedSources){let D=this._updatedSources[M];if(D==="reload")this._reloadSource(M);else{if(D!=="clear")throw new Error(`Invalid action ${D}`);this._clearSource(M)}}this._updateTilesForChangedImages(),this._updateTilesForChangedGlyphs();for(let M in this._updatedPaintProps)this._layers[M].updateTransitions(a);this.light.updateTransitions(a),this.sky.updateTransitions(a),this._resetUpdates()}let m={};for(let y in this.sourceCaches){let w=this.sourceCaches[y];m[y]=w.used,w.used=!1}for(let y of this._order){let w=this._layers[y];w.recalculate(a,this._availableImages),!w.isHidden(a.zoom)&&w.source&&(this.sourceCaches[w.source].used=!0)}for(let y in m){let w=this.sourceCaches[y];!!m[y]!=!!w.used&&w.fire(new o.l("data",{sourceDataType:"visibility",dataType:"source",sourceId:y}))}this.light.recalculate(a),this.sky.recalculate(a),this.projection.recalculate(a),this.z=a.zoom,f&&this.fire(new o.l("data",{dataType:"style"}))}_updateTilesForChangedImages(){let a=Object.keys(this._changedImages);if(a.length){for(let f in this.sourceCaches)this.sourceCaches[f].reloadTilesForDependencies(["icons","patterns"],a);this._changedImages={}}}_updateTilesForChangedGlyphs(){if(this._glyphsDidChange){for(let a in this.sourceCaches)this.sourceCaches[a].reloadTilesForDependencies(["glyphs"],[""]);this._glyphsDidChange=!1}}_updateWorkerLayers(a,f){this.dispatcher.broadcast("UL",{layers:this._serializeByIds(a,!1),removedIds:f})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={},this._glyphsDidChange=!1}setState(a,f={}){var m;this._checkLoaded();let y=this.serialize();if(a=f.transformStyle?f.transformStyle(y,a):a,((m=f.validate)===null||m===void 0||m)&&qv(this,o.z(a)))return!1;(a=o.bK(a)).layers=o.bI(a.layers);let w=o.bL(y,a),M=this._getOperationsToPerform(w);if(M.unimplemented.length>0)throw new Error(`Unimplemented: ${M.unimplemented.join(", ")}.`);if(M.operations.length===0)return!1;for(let D of M.operations)D();return this.stylesheet=a,this._serializedLayers=null,!0}_getOperationsToPerform(a){let f=[],m=[];for(let y of a)switch(y.command){case"setCenter":case"setZoom":case"setBearing":case"setPitch":case"setRoll":continue;case"addLayer":f.push(()=>this.addLayer.apply(this,y.args));break;case"removeLayer":f.push(()=>this.removeLayer.apply(this,y.args));break;case"setPaintProperty":f.push(()=>this.setPaintProperty.apply(this,y.args));break;case"setLayoutProperty":f.push(()=>this.setLayoutProperty.apply(this,y.args));break;case"setFilter":f.push(()=>this.setFilter.apply(this,y.args));break;case"addSource":f.push(()=>this.addSource.apply(this,y.args));break;case"removeSource":f.push(()=>this.removeSource.apply(this,y.args));break;case"setLayerZoomRange":f.push(()=>this.setLayerZoomRange.apply(this,y.args));break;case"setLight":f.push(()=>this.setLight.apply(this,y.args));break;case"setGeoJSONSourceData":f.push(()=>this.setGeoJSONSourceData.apply(this,y.args));break;case"setGlyphs":f.push(()=>this.setGlyphs.apply(this,y.args));break;case"setSprite":f.push(()=>this.setSprite.apply(this,y.args));break;case"setTerrain":f.push(()=>this.map.setTerrain.apply(this,y.args));break;case"setSky":f.push(()=>this.setSky.apply(this,y.args));break;case"setProjection":this.setProjection.apply(this,y.args);break;case"setGlobalState":f.push(()=>this.setGlobalState.apply(this,y.args));break;case"setTransition":f.push(()=>{});break;default:m.push(y.command)}return{operations:f,unimplemented:m}}addImage(a,f){if(this.getImage(a))return this.fire(new o.k(new Error(`An image named "${a}" already exists.`)));this.imageManager.addImage(a,f),this._afterImageUpdated(a)}updateImage(a,f){this.imageManager.updateImage(a,f)}getImage(a){return this.imageManager.getImage(a)}removeImage(a){if(!this.getImage(a))return this.fire(new o.k(new Error(`An image named "${a}" does not exist.`)));this.imageManager.removeImage(a),this._afterImageUpdated(a)}_afterImageUpdated(a){this._availableImages=this.imageManager.listImages(),this._changedImages[a]=!0,this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new o.l("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(a,f,m={}){if(this._checkLoaded(),this.sourceCaches[a]!==void 0)throw new Error(`Source "${a}" already exists.`);if(!f.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(f).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(f.type)>=0&&this._validate(o.z.source,`sources.${a}`,f,null,m))return;this.map&&this.map._collectResourceTiming&&(f.collectResourceTiming=!0);let y=this.sourceCaches[a]=new jt(a,f,this.dispatcher);y.style=this,y.setEventedParent(this,()=>({isSourceLoaded:y.loaded(),source:y.serialize(),sourceId:a})),y.onAdd(this.map),this._changed=!0}removeSource(a){if(this._checkLoaded(),this.sourceCaches[a]===void 0)throw new Error("There is no source with this ID");for(let m in this._layers)if(this._layers[m].source===a)return this.fire(new o.k(new Error(`Source "${a}" cannot be removed while layer "${m}" is using it.`)));let f=this.sourceCaches[a];delete this.sourceCaches[a],delete this._updatedSources[a],f.fire(new o.l("data",{sourceDataType:"metadata",dataType:"source",sourceId:a})),f.setEventedParent(null),f.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(a,f){if(this._checkLoaded(),this.sourceCaches[a]===void 0)throw new Error(`There is no source with this ID=${a}`);let m=this.sourceCaches[a].getSource();if(m.type!=="geojson")throw new Error(`geojsonSource.type is ${m.type}, which is !== 'geojson`);m.setData(f),this._changed=!0}getSource(a){return this.sourceCaches[a]&&this.sourceCaches[a].getSource()}addLayer(a,f,m={}){this._checkLoaded();let y=a.id;if(this.getLayer(y))return void this.fire(new o.k(new Error(`Layer "${y}" already exists on this map.`)));let w;if(a.type==="custom"){if(qv(this,o.bM(a)))return;w=o.bJ(a)}else{if("source"in a&&typeof a.source=="object"&&(this.addSource(y,a.source),a=o.bK(a),a=o.e(a,{source:y})),this._validate(o.z.layer,`layers.${y}`,a,{arrayIndex:-1},m))return;w=o.bJ(a),this._validateLayer(w),w.setEventedParent(this,{layer:{id:y}})}let M=f?this._order.indexOf(f):this._order.length;if(f&&M===-1)this.fire(new o.k(new Error(`Cannot add layer "${y}" before non-existing layer "${f}".`)));else{if(this._order.splice(M,0,y),this._layerOrderChanged=!0,this._layers[y]=w,this._removedLayers[y]&&w.source&&w.type!=="custom"){let D=this._removedLayers[y];delete this._removedLayers[y],D.type!==w.type?this._updatedSources[w.source]="clear":(this._updatedSources[w.source]="reload",this.sourceCaches[w.source].pause())}this._updateLayer(w),w.onAdd&&w.onAdd(this.map)}}moveLayer(a,f){if(this._checkLoaded(),this._changed=!0,!this._layers[a])return void this.fire(new o.k(new Error(`The layer '${a}' does not exist in the map's style and cannot be moved.`)));if(a===f)return;let m=this._order.indexOf(a);this._order.splice(m,1);let y=f?this._order.indexOf(f):this._order.length;f&&y===-1?this.fire(new o.k(new Error(`Cannot move layer "${a}" before non-existing layer "${f}".`))):(this._order.splice(y,0,a),this._layerOrderChanged=!0)}removeLayer(a){this._checkLoaded();let f=this._layers[a];if(!f)return void this.fire(new o.k(new Error(`Cannot remove non-existing layer "${a}".`)));f.setEventedParent(null);let m=this._order.indexOf(a);this._order.splice(m,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[a]=f,delete this._layers[a],this._serializedLayers&&delete this._serializedLayers[a],delete this._updatedLayers[a],delete this._updatedPaintProps[a],f.onRemove&&f.onRemove(this.map)}getLayer(a){return this._layers[a]}getLayersOrder(){return[...this._order]}hasLayer(a){return a in this._layers}setLayerZoomRange(a,f,m){this._checkLoaded();let y=this.getLayer(a);y?y.minzoom===f&&y.maxzoom===m||(f!=null&&(y.minzoom=f),m!=null&&(y.maxzoom=m),this._updateLayer(y)):this.fire(new o.k(new Error(`Cannot set the zoom range of non-existing layer "${a}".`)))}setFilter(a,f,m={}){this._checkLoaded();let y=this.getLayer(a);if(y){if(!o.bH(y.filter,f))return f==null?(y.setFilter(void 0),void this._updateLayer(y)):void(this._validate(o.z.filter,`layers.${y.id}.filter`,f,null,m)||(y.setFilter(o.bK(f)),this._updateLayer(y)))}else this.fire(new o.k(new Error(`Cannot filter non-existing layer "${a}".`)))}getFilter(a){return o.bK(this.getLayer(a).filter)}setLayoutProperty(a,f,m,y={}){this._checkLoaded();let w=this.getLayer(a);w?o.bH(w.getLayoutProperty(f),m)||(w.setLayoutProperty(f,m,y),this._updateLayer(w)):this.fire(new o.k(new Error(`Cannot style non-existing layer "${a}".`)))}getLayoutProperty(a,f){let m=this.getLayer(a);if(m)return m.getLayoutProperty(f);this.fire(new o.k(new Error(`Cannot get style of non-existing layer "${a}".`)))}setPaintProperty(a,f,m,y={}){this._checkLoaded();let w=this.getLayer(a);w?o.bH(w.getPaintProperty(f),m)||this._updatePaintProperty(w,f,m,y):this.fire(new o.k(new Error(`Cannot style non-existing layer "${a}".`)))}_updatePaintProperty(a,f,m,y={}){a.setPaintProperty(f,m,y)&&this._updateLayer(a),this._changed=!0,this._updatedPaintProps[a.id]=!0,this._serializedLayers=null}getPaintProperty(a,f){return this.getLayer(a).getPaintProperty(f)}setFeatureState(a,f){this._checkLoaded();let m=a.source,y=a.sourceLayer,w=this.sourceCaches[m];if(w===void 0)return void this.fire(new o.k(new Error(`The source '${m}' does not exist in the map's style.`)));let M=w.getSource().type;M==="geojson"&&y?this.fire(new o.k(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):M!=="vector"||y?(a.id===void 0&&this.fire(new o.k(new Error("The feature id parameter must be provided."))),w.setFeatureState(y,a.id,f)):this.fire(new o.k(new Error("The sourceLayer parameter must be provided for vector source types.")))}removeFeatureState(a,f){this._checkLoaded();let m=a.source,y=this.sourceCaches[m];if(y===void 0)return void this.fire(new o.k(new Error(`The source '${m}' does not exist in the map's style.`)));let w=y.getSource().type,M=w==="vector"?a.sourceLayer:void 0;w!=="vector"||M?f&&typeof a.id!="string"&&typeof a.id!="number"?this.fire(new o.k(new Error("A feature id is required to remove its specific state property."))):y.removeFeatureState(M,a.id,f):this.fire(new o.k(new Error("The sourceLayer parameter must be provided for vector source types.")))}getFeatureState(a){this._checkLoaded();let f=a.source,m=a.sourceLayer,y=this.sourceCaches[f];if(y!==void 0)return y.getSource().type!=="vector"||m?(a.id===void 0&&this.fire(new o.k(new Error("The feature id parameter must be provided."))),y.getFeatureState(m,a.id)):void this.fire(new o.k(new Error("The sourceLayer parameter must be provided for vector source types.")));this.fire(new o.k(new Error(`The source '${f}' does not exist in the map's style.`)))}getTransition(){return o.e({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){if(!this._loaded)return;let a=o.bN(this.sourceCaches,w=>w.serialize()),f=this._serializeByIds(this._order,!0),m=this.map.getTerrain()||void 0,y=this.stylesheet;return o.bO({version:y.version,name:y.name,metadata:y.metadata,light:y.light,sky:y.sky,center:y.center,zoom:y.zoom,bearing:y.bearing,pitch:y.pitch,sprite:y.sprite,glyphs:y.glyphs,transition:y.transition,projection:y.projection,sources:a,layers:f,terrain:m},w=>w!==void 0)}_updateLayer(a){this._updatedLayers[a.id]=!0,a.source&&!this._updatedSources[a.source]&&this.sourceCaches[a.source].getSource().type!=="raster"&&(this._updatedSources[a.source]="reload",this.sourceCaches[a.source].pause()),this._serializedLayers=null,this._changed=!0}_flattenAndSortRenderedFeatures(a){let f=M=>this._layers[M].type==="fill-extrusion",m={},y=[];for(let M=this._order.length-1;M>=0;M--){let D=this._order[M];if(f(D)){m[D]=M;for(let k of a){let B=k[D];if(B)for(let V of B)y.push(V)}}}y.sort((M,D)=>D.intersectionZ-M.intersectionZ);let w=[];for(let M=this._order.length-1;M>=0;M--){let D=this._order[M];if(f(D))for(let k=y.length-1;k>=0;k--){let B=y[k].feature;if(m[B.layer.id]<M)break;w.push(B),y.pop()}else for(let k of a){let B=k[D];if(B)for(let V of B)w.push(V.feature)}}return w}queryRenderedFeatures(a,f,m){f&&f.filter&&this._validate(o.z.filter,"queryRenderedFeatures.filter",f.filter,null,f);let y={};if(f&&f.layers){if(!(Array.isArray(f.layers)||f.layers instanceof Set))return this.fire(new o.k(new Error("parameters.layers must be an Array or a Set of strings"))),[];for(let B of f.layers){let V=this._layers[B];if(!V)return this.fire(new o.k(new Error(`The layer '${B}' does not exist in the map's style and cannot be queried for features.`))),[];y[V.source]=!0}}let w=[];f.availableImages=this._availableImages;let M=this._serializedAllLayers(),D=f.layers instanceof Set?f.layers:Array.isArray(f.layers)?new Set(f.layers):null,k=Object.assign(Object.assign({},f),{layers:D});for(let B in this.sourceCaches)f.layers&&!y[B]||w.push($e(this.sourceCaches[B],this._layers,M,a,k,m,this.map.terrain?(V,W,G)=>this.map.terrain.getElevation(V,W,G):void 0));return this.placement&&w.push(function(B,V,W,G,K,ee,pe){let ce={},fe=ee.queryRenderedSymbols(G),ge=[];for(let Te of Object.keys(fe).map(Number))ge.push(pe[Te]);ge.sort(ze);for(let Te of ge){let be=Te.featureIndex.lookupSymbolFeatures(fe[Te.bucketInstanceId],V,Te.bucketIndex,Te.sourceLayerIndex,K.filter,K.layers,K.availableImages,B);for(let Ae in be){let Ne=ce[Ae]=ce[Ae]||[],Se=be[Ae];Se.sort((Ve,et)=>{let He=Te.featureSortOrder;if(He){let Ze=He.indexOf(Ve.featureIndex);return He.indexOf(et.featureIndex)-Ze}return et.featureIndex-Ve.featureIndex});for(let Ve of Se)Ne.push(Ve)}}return function(Te,be,Ae){for(let Ne in Te)for(let Se of Te[Ne])ot(Se,Ae[be[Ne].source]);return Te}(ce,B,W)}(this._layers,M,this.sourceCaches,a,k,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(w)}querySourceFeatures(a,f){f&&f.filter&&this._validate(o.z.filter,"querySourceFeatures.filter",f.filter,null,f);let m=this.sourceCaches[a];return m?function(y,w){let M=y.getRenderableIds().map(B=>y.getTileByID(B)),D=[],k={};for(let B=0;B<M.length;B++){let V=M[B],W=V.tileID.canonical.key;k[W]||(k[W]=!0,V.querySourceFeatures(D,w))}return D}(m,f):[]}getLight(){return this.light.getLight()}setLight(a,f={}){this._checkLoaded();let m=this.light.getLight(),y=!1;for(let M in a)if(!o.bH(a[M],m[M])){y=!0;break}if(!y)return;let w={now:I.now(),transition:o.e({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(a,f),this.light.updateTransitions(w)}getProjection(){var a;return(a=this.stylesheet)===null||a===void 0?void 0:a.projection}setProjection(a){if(this._checkLoaded(),this.projection){if(this.projection.name===a.type)return;this.projection.destroy(),delete this.projection}this.stylesheet.projection=a,this._setProjectionInternal(a.type)}getSky(){var a;return(a=this.stylesheet)===null||a===void 0?void 0:a.sky}setSky(a,f={}){this._checkLoaded();let m=this.getSky(),y=!1;if(!a&&!m)return;if(a&&!m)y=!0;else if(!a&&m)y=!0;else for(let M in a)if(!o.bH(a[M],m[M])){y=!0;break}if(!y)return;let w={now:I.now(),transition:o.e({duration:300,delay:0},this.stylesheet.transition)};this.stylesheet.sky=a,this.sky.setSky(a,f),this.sky.updateTransitions(w)}_setProjectionInternal(a){let f=function(m){if(Array.isArray(m)){let y=new Rv({type:m});return{projection:y,transform:new wm,cameraHelper:new rT(y)}}switch(m){case"mercator":return{projection:new rn,transform:new Wn,cameraHelper:new jo};case"globe":{let y=new Rv({type:["interpolate",["linear"],["zoom"],11,"vertical-perspective",12,"mercator"]});return{projection:y,transform:new wm,cameraHelper:new rT(y)}}case"vertical-perspective":return{projection:new gm,transform:new xm,cameraHelper:new Fo};default:return o.w(`Unknown projection name: ${m}. Falling back to mercator projection.`),{projection:new rn,transform:new Wn,cameraHelper:new jo}}}(a);this.projection=f.projection,this.map.migrateProjection(f.transform,f.cameraHelper);for(let m in this.sourceCaches)this.sourceCaches[m].reload()}_validate(a,f,m,y,w={}){return(!w||w.validate!==!1)&&qv(this,a.call(o.z,o.e({key:f,style:this.serialize(),value:m,styleSpec:o.v},y)))}_remove(a=!0){this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._loadStyleRequest&&(this._loadStyleRequest.abort(),this._loadStyleRequest=null),this._spriteRequest&&(this._spriteRequest.abort(),this._spriteRequest=null),Vr().off(Or,this._rtlPluginLoaded);for(let f in this._layers)this._layers[f].setEventedParent(null);for(let f in this.sourceCaches){let m=this.sourceCaches[f];m.setEventedParent(null),m.onRemove(this.map)}this.imageManager.setEventedParent(null),this.setEventedParent(null),a&&this.dispatcher.broadcast("RM",void 0),this.dispatcher.remove(a)}_clearSource(a){this.sourceCaches[a].clearTiles()}_reloadSource(a){this.sourceCaches[a].resume(),this.sourceCaches[a].reload()}_updateSources(a){for(let f in this.sourceCaches)this.sourceCaches[f].update(a,this.map.terrain)}_generateCollisionBoxes(){for(let a in this.sourceCaches)this._reloadSource(a)}_updatePlacement(a,f,m,y,w=!1){let M=!1,D=!1,k={};for(let B of this._order){let V=this._layers[B];if(V.type!=="symbol")continue;if(!k[V.source]){let G=this.sourceCaches[V.source];k[V.source]=G.getRenderableIds(!0).map(K=>G.getTileByID(K)).sort((K,ee)=>ee.tileID.overscaledZ-K.tileID.overscaledZ||(K.tileID.isLessThan(ee.tileID)?-1:1))}let W=this.crossTileSymbolIndex.addLayer(V,k[V.source],a.center.lng);M=M||W}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((w=w||this._layerOrderChanged||m===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(I.now(),a.zoom))&&(this.pauseablePlacement=new ib(a,this.map.terrain,this._order,w,f,m,y,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,k),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(I.now()),D=!0),M&&this.pauseablePlacement.placement.setStale()),D||M)for(let B of this._order){let V=this._layers[B];V.type==="symbol"&&this.placement.updateLayerOpacities(V,k[V.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(I.now())}_releaseSymbolFadeTiles(){for(let a in this.sourceCaches)this.sourceCaches[a].releaseSymbolFadeTiles()}getImages(a,f){return o._(this,void 0,void 0,function*(){let m=yield this.imageManager.getImages(f.icons);this._updateTilesForChangedImages();let y=this.sourceCaches[f.source];return y&&y.setDependencies(f.tileID.key,f.type,f.icons),m})}getGlyphs(a,f){return o._(this,void 0,void 0,function*(){let m=yield this.glyphManager.getGlyphs(f.stacks),y=this.sourceCaches[f.source];return y&&y.setDependencies(f.tileID.key,f.type,[""]),m})}getGlyphsUrl(){return this.stylesheet.glyphs||null}setGlyphs(a,f={}){this._checkLoaded(),a&&this._validate(o.z.glyphs,"glyphs",a,null,f)||(this._glyphsDidChange=!0,this.stylesheet.glyphs=a,this.glyphManager.entries={},this.glyphManager.setURL(a))}addSprite(a,f,m={},y){this._checkLoaded();let w=[{id:a,url:f}],M=[...Y(this.stylesheet.sprite),...w];this._validate(o.z.sprite,"sprite",M,null,m)||(this.stylesheet.sprite=M,this._loadSprite(w,!0,y))}removeSprite(a){this._checkLoaded();let f=Y(this.stylesheet.sprite);if(f.find(m=>m.id===a)){if(this._spritesImagesIds[a])for(let m of this._spritesImagesIds[a])this.imageManager.removeImage(m),this._changedImages[m]=!0;f.splice(f.findIndex(m=>m.id===a),1),this.stylesheet.sprite=f.length>0?f:void 0,delete this._spritesImagesIds[a],this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new o.l("data",{dataType:"style"}))}else this.fire(new o.k(new Error(`Sprite "${a}" doesn't exists on this map.`)))}getSprite(){return Y(this.stylesheet.sprite)}setSprite(a,f={},m){this._checkLoaded(),a&&this._validate(o.z.sprite,"sprite",a,null,f)||(this.stylesheet.sprite=a,a?this._loadSprite(a,!0,m):(this._unloadSprite(),m&&m(null)))}}var FR=o.aJ([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class BR{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(a,f,m,y,w,M,D,k,B){this.context=a;let V=this.boundPaintVertexBuffers.length!==y.length;for(let W=0;!V&&W<y.length;W++)this.boundPaintVertexBuffers[W]!==y[W]&&(V=!0);!this.vao||this.boundProgram!==f||this.boundLayoutVertexBuffer!==m||V||this.boundIndexBuffer!==w||this.boundVertexOffset!==M||this.boundDynamicVertexBuffer!==D||this.boundDynamicVertexBuffer2!==k||this.boundDynamicVertexBuffer3!==B?this.freshBind(f,m,y,w,M,D,k,B):(a.bindVertexArray.set(this.vao),D&&D.bind(),w&&w.dynamicDraw&&w.bind(),k&&k.bind(),B&&B.bind())}freshBind(a,f,m,y,w,M,D,k){let B=a.numAttributes,V=this.context,W=V.gl;this.vao&&this.destroy(),this.vao=V.createVertexArray(),V.bindVertexArray.set(this.vao),this.boundProgram=a,this.boundLayoutVertexBuffer=f,this.boundPaintVertexBuffers=m,this.boundIndexBuffer=y,this.boundVertexOffset=w,this.boundDynamicVertexBuffer=M,this.boundDynamicVertexBuffer2=D,this.boundDynamicVertexBuffer3=k,f.enableAttributes(W,a);for(let G of m)G.enableAttributes(W,a);M&&M.enableAttributes(W,a),D&&D.enableAttributes(W,a),k&&k.enableAttributes(W,a),f.bind(),f.setVertexAttribPointers(W,a,w);for(let G of m)G.bind(),G.setVertexAttribPointers(W,a,w);M&&(M.bind(),M.setVertexAttribPointers(W,a,w)),y&&y.bind(),D&&(D.bind(),D.setVertexAttribPointers(W,a,w)),k&&(k.bind(),k.setVertexAttribPointers(W,a,w)),V.currentNumAttributes=B}destroy(){this.vao&&(this.context.deleteVertexArray(this.vao),this.vao=null)}}let zv=(x,a,f,m,y)=>({u_texture:0,u_ele_delta:x,u_fog_matrix:a,u_fog_color:f?f.properties.get("fog-color"):o.bf.white,u_fog_ground_blend:f?f.properties.get("fog-ground-blend"):1,u_fog_ground_blend_opacity:y?0:f?f.calculateFogBlendOpacity(m):0,u_horizon_color:f?f.properties.get("horizon-color"):o.bf.white,u_horizon_fog_blend:f?f.properties.get("horizon-fog-blend"):1,u_is_globe_mode:y?1:0}),cb={mainMatrix:"u_projection_matrix",tileMercatorCoords:"u_projection_tile_mercator_coords",clippingPlane:"u_projection_clipping_plane",projectionTransition:"u_projection_transition",fallbackMatrix:"u_projection_fallback_matrix"};function Vp(x){let a=[];for(let f=0;f<x.length;f++){if(x[f]===null)continue;let m=x[f].split(" ");a.push(m.pop())}return a}class pb{constructor(a,f,m,y,w,M,D,k,B=[]){let V=a.gl;this.program=V.createProgram();let W=Vp(f.staticAttributes),G=m?m.getBinderAttributes():[],K=W.concat(G),ee=ol.prelude.staticUniforms?Vp(ol.prelude.staticUniforms):[],pe=D.staticUniforms?Vp(D.staticUniforms):[],ce=f.staticUniforms?Vp(f.staticUniforms):[],fe=m?m.getBinderUniforms():[],ge=ee.concat(pe).concat(ce).concat(fe),Te=[];for(let He of ge)Te.indexOf(He)<0&&Te.push(He);let be=m?m.defines():[];zl(V)&&be.unshift("#version 300 es"),w&&be.push("#define OVERDRAW_INSPECTOR;"),M&&be.push("#define TERRAIN3D;"),k&&be.push(k),B&&be.push(...B);let Ae=be.concat(ol.prelude.fragmentSource,D.fragmentSource,f.fragmentSource).join(`
`),Ne=be.concat(ol.prelude.vertexSource,D.vertexSource,f.vertexSource).join(`
`);zl(V)||(Ae=function(He){return He.replace(/\bin\s/g,"varying ").replace("out highp vec4 fragColor;","").replace(/fragColor/g,"gl_FragColor").replace(/texture\(/g,"texture2D(")}(Ae),Ne=function(He){return He.replace(/\bin\s/g,"attribute ").replace(/\bout\s/g,"varying ").replace(/texture\(/g,"texture2D(")}(Ne));let Se=V.createShader(V.FRAGMENT_SHADER);if(V.isContextLost())return void(this.failedToCreate=!0);if(V.shaderSource(Se,Ae),V.compileShader(Se),!V.getShaderParameter(Se,V.COMPILE_STATUS))throw new Error(`Could not compile fragment shader: ${V.getShaderInfoLog(Se)}`);V.attachShader(this.program,Se);let Ve=V.createShader(V.VERTEX_SHADER);if(V.isContextLost())return void(this.failedToCreate=!0);if(V.shaderSource(Ve,Ne),V.compileShader(Ve),!V.getShaderParameter(Ve,V.COMPILE_STATUS))throw new Error(`Could not compile vertex shader: ${V.getShaderInfoLog(Ve)}`);V.attachShader(this.program,Ve),this.attributes={};let et={};this.numAttributes=K.length;for(let He=0;He<this.numAttributes;He++)K[He]&&(V.bindAttribLocation(this.program,He,K[He]),this.attributes[K[He]]=He);if(V.linkProgram(this.program),!V.getProgramParameter(this.program,V.LINK_STATUS))throw new Error(`Program failed to link: ${V.getProgramInfoLog(this.program)}`);V.deleteShader(Ve),V.deleteShader(Se);for(let He=0;He<Te.length;He++){let Ze=Te[He];if(Ze&&!et[Ze]){let Qe=V.getUniformLocation(this.program,Ze);Qe&&(et[Ze]=Qe)}}this.fixedUniforms=y(a,et),this.terrainUniforms=((He,Ze)=>({u_depth:new o.bP(He,Ze.u_depth),u_terrain:new o.bP(He,Ze.u_terrain),u_terrain_dim:new o.bg(He,Ze.u_terrain_dim),u_terrain_matrix:new o.bR(He,Ze.u_terrain_matrix),u_terrain_unpack:new o.bS(He,Ze.u_terrain_unpack),u_terrain_exaggeration:new o.bg(He,Ze.u_terrain_exaggeration)}))(a,et),this.projectionUniforms=((He,Ze)=>({u_projection_matrix:new o.bR(He,Ze.u_projection_matrix),u_projection_tile_mercator_coords:new o.bS(He,Ze.u_projection_tile_mercator_coords),u_projection_clipping_plane:new o.bS(He,Ze.u_projection_clipping_plane),u_projection_transition:new o.bg(He,Ze.u_projection_transition),u_projection_fallback_matrix:new o.bR(He,Ze.u_projection_fallback_matrix)}))(a,et),this.binderUniforms=m?m.getUniforms(a,et):[]}draw(a,f,m,y,w,M,D,k,B,V,W,G,K,ee,pe,ce,fe,ge,Te){let be=a.gl;if(this.failedToCreate)return;if(a.program.set(this.program),a.setDepthMode(m),a.setStencilMode(y),a.setColorMode(w),a.setCullFace(M),k){a.activeTexture.set(be.TEXTURE2),be.bindTexture(be.TEXTURE_2D,k.depthTexture),a.activeTexture.set(be.TEXTURE3),be.bindTexture(be.TEXTURE_2D,k.texture);for(let Ne in this.terrainUniforms)this.terrainUniforms[Ne].set(k[Ne])}if(B)for(let Ne in B)this.projectionUniforms[cb[Ne]].set(B[Ne]);if(D)for(let Ne in this.fixedUniforms)this.fixedUniforms[Ne].set(D[Ne]);ce&&ce.setUniforms(a,this.binderUniforms,ee,{zoom:pe});let Ae=0;switch(f){case be.LINES:Ae=2;break;case be.TRIANGLES:Ae=3;break;case be.LINE_STRIP:Ae=1}for(let Ne of K.get()){let Se=Ne.vaos||(Ne.vaos={});(Se[V]||(Se[V]=new BR)).bind(a,this,W,ce?ce.getPaintVertexBuffers():[],G,Ne.vertexOffset,fe,ge,Te),be.drawElements(f,Ne.primitiveLength*Ae,be.UNSIGNED_SHORT,Ne.primitiveOffset*Ae*2)}}}function jv(x,a,f){let m=1/o.aC(f,1,a.transform.tileZoom),y=Math.pow(2,f.tileID.overscaledZ),w=f.tileSize*Math.pow(2,a.transform.tileZoom)/y,M=w*(f.tileID.canonical.x+f.tileID.wrap*y),D=w*f.tileID.canonical.y;return{u_image:0,u_texsize:f.imageAtlasTexture.size,u_scale:[m,x.fromScale,x.toScale],u_fade:x.t,u_pixel_coord_upper:[M>>16,D>>16],u_pixel_coord_lower:[65535&M,65535&D]}}let sl=(x,a,f,m)=>{let y=x.style.light,w=y.properties.get("position"),M=[w.x,w.y,w.z],D=o.bV();y.properties.get("anchor")==="viewport"&&o.bW(D,x.transform.bearingInRadians),o.bX(M,M,D);let k=x.transform.transformLightDirection(M),B=y.properties.get("color");return{u_lightpos:M,u_lightpos_globe:k,u_lightintensity:y.properties.get("intensity"),u_lightcolor:[B.r,B.g,B.b],u_vertical_gradient:+a,u_opacity:f,u_fill_translate:m}},UR=(x,a,f,m,y,w,M)=>o.e(sl(x,a,f,m),jv(w,x,M),{u_height_factor:-Math.pow(2,y.overscaledZ)/M.tileSize/8}),Fv=(x,a,f,m)=>o.e(jv(a,x,f),{u_fill_translate:m}),Sm=(x,a)=>({u_world:x,u_fill_translate:a}),Em=(x,a,f,m,y)=>o.e(Fv(x,a,f,y),{u_world:m}),VR=(x,a,f,m,y)=>{let w=x.transform,M,D,k=0;if(f.paint.get("circle-pitch-alignment")==="map"){let B=o.aC(a,1,w.zoom);M=!0,D=[B,B],k=B/(o.$*Math.pow(2,a.tileID.overscaledZ))*2*Math.PI*y}else M=!1,D=w.pixelsToGLUnits;return{u_camera_to_center_distance:w.cameraToCenterDistance,u_scale_with_map:+(f.paint.get("circle-pitch-scale")==="map"),u_pitch_with_map:+M,u_device_pixel_ratio:x.pixelRatio,u_extrude_scale:D,u_globe_extrude_scale:k,u_translate:m}},Bv=x=>({u_pixel_extrude_scale:[1/x.width,1/x.height]}),$R=x=>({u_viewport_size:[x.width,x.height]}),$p=(x,a=1)=>({u_color:x,u_overlay:0,u_overlay_scale:a}),nT=(x,a,f,m)=>{let y=o.aC(x,1,a)/(o.$*Math.pow(2,x.tileID.overscaledZ))*2*Math.PI*m;return{u_extrude_scale:o.aC(x,1,a),u_intensity:f,u_globe_extrude_scale:y}},fb=(x,a,f,m)=>{let y=o.L();o.bY(y,0,x.width,x.height,0,0,1);let w=x.context.gl;return{u_matrix:y,u_world:[w.drawingBufferWidth,w.drawingBufferHeight],u_image:f,u_color_ramp:m,u_opacity:a.paint.get("heatmap-opacity")}},GR=(x,a,f)=>{let m=f.paint.get("hillshade-accent-color"),y;switch(f.paint.get("hillshade-method")){case"basic":y=4;break;case"combined":y=1;break;case"igor":y=2;break;case"multidirectional":y=3;break;default:y=0}let w=f.getIlluminationProperties();for(let M=0;M<w.directionRadians.length;M++)f.paint.get("hillshade-illumination-anchor")==="viewport"&&(w.directionRadians[M]+=x.transform.bearingInRadians);return{u_image:0,u_latrange:db(0,a.tileID),u_exaggeration:f.paint.get("hillshade-exaggeration"),u_altitudes:w.altitudeRadians,u_azimuths:w.directionRadians,u_accent:m,u_method:y,u_highlights:w.highlightColor,u_shadows:w.shadowColor}},iT=(x,a)=>{let f=a.stride,m=o.L();return o.bY(m,0,o.$,-o.$,0,0,1),o.M(m,m,[0,-o.$,0]),{u_matrix:m,u_image:1,u_dimension:[f,f],u_zoom:x.overscaledZ,u_unpack:a.getUnpackVector()}};function db(x,a){let f=Math.pow(2,a.canonical.z),m=a.canonical.y;return[new o.a1(0,m/f).toLngLat().lat,new o.a1(0,(m+1)/f).toLngLat().lat]}let oT=(x,a,f=0)=>({u_image:0,u_unpack:a.getUnpackVector(),u_dimension:[a.stride,a.stride],u_elevation_stops:1,u_color_stops:4,u_color_ramp_size:f,u_opacity:x.paint.get("color-relief-opacity")}),Uv=(x,a,f,m)=>{let y=x.transform;return{u_translation:mb(x,a,f),u_ratio:m/o.aC(a,1,y.zoom),u_device_pixel_ratio:x.pixelRatio,u_units_to_pixels:[1/y.pixelsToGLUnits[0],1/y.pixelsToGLUnits[1]]}},aT=(x,a,f,m,y)=>o.e(Uv(x,a,f,m),{u_image:0,u_image_height:y}),sT=(x,a,f,m,y)=>{let w=x.transform,M=hb(a,w);return{u_translation:mb(x,a,f),u_texsize:a.imageAtlasTexture.size,u_ratio:m/o.aC(a,1,w.zoom),u_device_pixel_ratio:x.pixelRatio,u_image:0,u_scale:[M,y.fromScale,y.toScale],u_fade:y.t,u_units_to_pixels:[1/w.pixelsToGLUnits[0],1/w.pixelsToGLUnits[1]]}},Gp=(x,a,f,m,y,w)=>{let M=x.lineAtlas,D=hb(a,x.transform),k=f.layout.get("line-cap")==="round",B=M.getDash(y.from,k),V=M.getDash(y.to,k),W=B.width*w.fromScale,G=V.width*w.toScale;return o.e(Uv(x,a,f,m),{u_patternscale_a:[D/W,-B.height/2],u_patternscale_b:[D/G,-V.height/2],u_sdfgamma:M.width/(256*Math.min(W,G)*x.pixelRatio)/2,u_image:0,u_tex_y_a:B.y,u_tex_y_b:V.y,u_mix:w.t})};function hb(x,a){return 1/o.aC(x,1,a.tileZoom)}function mb(x,a,f){return o.aD(x.transform,a,f.paint.get("line-translate"),f.paint.get("line-translate-anchor"))}let Im=(x,a,f,m,y)=>{return{u_tl_parent:x,u_scale_parent:a,u_buffer_scale:1,u_fade_t:f.mix,u_opacity:f.opacity*m.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:m.paint.get("raster-brightness-min"),u_brightness_high:m.paint.get("raster-brightness-max"),u_saturation_factor:(M=m.paint.get("raster-saturation"),M>0?1-1/(1.001-M):-M),u_contrast_factor:(w=m.paint.get("raster-contrast"),w>0?1/(1-w):1+w),u_spin_weights:HR(m.paint.get("raster-hue-rotate")),u_coords_top:[y[0].x,y[0].y,y[1].x,y[1].y],u_coords_bottom:[y[3].x,y[3].y,y[2].x,y[2].y]};var w,M};function HR(x){x*=Math.PI/180;let a=Math.sin(x),f=Math.cos(x);return[(2*f+1)/3,(-Math.sqrt(3)*a-f+1)/3,(Math.sqrt(3)*a-f+1)/3]}let Tm=(x,a,f,m,y,w,M,D,k,B,V,W,G)=>{let K=M.transform;return{u_is_size_zoom_constant:+(x==="constant"||x==="source"),u_is_size_feature_constant:+(x==="constant"||x==="camera"),u_size_t:a?a.uSizeT:0,u_size:a?a.uSize:0,u_camera_to_center_distance:K.cameraToCenterDistance,u_pitch:K.pitch/360*2*Math.PI,u_rotate_symbol:+f,u_aspect_ratio:K.width/K.height,u_fade_change:M.options.fadeDuration?M.symbolFadeChange:1,u_label_plane_matrix:D,u_coord_matrix:k,u_is_text:+V,u_pitch_with_map:+m,u_is_along_line:y,u_is_variable_anchor:w,u_texsize:W,u_texture:0,u_translation:B,u_pitched_scale:G}},lT=(x,a,f,m,y,w,M,D,k,B,V,W,G,K)=>{let ee=M.transform;return o.e(Tm(x,a,f,m,y,w,M,D,k,B,V,W,K),{u_gamma_scale:m?Math.cos(ee.pitch*Math.PI/180)*ee.cameraToCenterDistance:1,u_device_pixel_ratio:M.pixelRatio,u_is_halo:1})},WR=(x,a,f,m,y,w,M,D,k,B,V,W,G)=>o.e(lT(x,a,f,m,y,w,M,D,k,B,!0,V,0,G),{u_texsize_icon:W,u_texture_icon:1}),uT=(x,a)=>({u_opacity:x,u_color:a}),cT=(x,a,f,m,y)=>o.e(function(w,M,D,k){let B=D.imageManager.getPattern(w.from.toString()),V=D.imageManager.getPattern(w.to.toString()),{width:W,height:G}=D.imageManager.getPixelSize(),K=Math.pow(2,k.tileID.overscaledZ),ee=k.tileSize*Math.pow(2,D.transform.tileZoom)/K,pe=ee*(k.tileID.canonical.x+k.tileID.wrap*K),ce=ee*k.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:B.tl,u_pattern_br_a:B.br,u_pattern_tl_b:V.tl,u_pattern_br_b:V.br,u_texsize:[W,G],u_mix:M.t,u_pattern_size_a:B.displaySize,u_pattern_size_b:V.displaySize,u_scale_a:M.fromScale,u_scale_b:M.toScale,u_tile_units_to_pixels:1/o.aC(k,1,D.transform.tileZoom),u_pixel_coord_upper:[pe>>16,ce>>16],u_pixel_coord_lower:[65535&pe,65535&ce]}}(f,y,a,m),{u_opacity:x}),gb=(x,a)=>{},vb={fillExtrusion:(x,a)=>({u_lightpos:new o.bT(x,a.u_lightpos),u_lightpos_globe:new o.bT(x,a.u_lightpos_globe),u_lightintensity:new o.bg(x,a.u_lightintensity),u_lightcolor:new o.bT(x,a.u_lightcolor),u_vertical_gradient:new o.bg(x,a.u_vertical_gradient),u_opacity:new o.bg(x,a.u_opacity),u_fill_translate:new o.bU(x,a.u_fill_translate)}),fillExtrusionPattern:(x,a)=>({u_lightpos:new o.bT(x,a.u_lightpos),u_lightpos_globe:new o.bT(x,a.u_lightpos_globe),u_lightintensity:new o.bg(x,a.u_lightintensity),u_lightcolor:new o.bT(x,a.u_lightcolor),u_vertical_gradient:new o.bg(x,a.u_vertical_gradient),u_height_factor:new o.bg(x,a.u_height_factor),u_opacity:new o.bg(x,a.u_opacity),u_fill_translate:new o.bU(x,a.u_fill_translate),u_image:new o.bP(x,a.u_image),u_texsize:new o.bU(x,a.u_texsize),u_pixel_coord_upper:new o.bU(x,a.u_pixel_coord_upper),u_pixel_coord_lower:new o.bU(x,a.u_pixel_coord_lower),u_scale:new o.bT(x,a.u_scale),u_fade:new o.bg(x,a.u_fade)}),fill:(x,a)=>({u_fill_translate:new o.bU(x,a.u_fill_translate)}),fillPattern:(x,a)=>({u_image:new o.bP(x,a.u_image),u_texsize:new o.bU(x,a.u_texsize),u_pixel_coord_upper:new o.bU(x,a.u_pixel_coord_upper),u_pixel_coord_lower:new o.bU(x,a.u_pixel_coord_lower),u_scale:new o.bT(x,a.u_scale),u_fade:new o.bg(x,a.u_fade),u_fill_translate:new o.bU(x,a.u_fill_translate)}),fillOutline:(x,a)=>({u_world:new o.bU(x,a.u_world),u_fill_translate:new o.bU(x,a.u_fill_translate)}),fillOutlinePattern:(x,a)=>({u_world:new o.bU(x,a.u_world),u_image:new o.bP(x,a.u_image),u_texsize:new o.bU(x,a.u_texsize),u_pixel_coord_upper:new o.bU(x,a.u_pixel_coord_upper),u_pixel_coord_lower:new o.bU(x,a.u_pixel_coord_lower),u_scale:new o.bT(x,a.u_scale),u_fade:new o.bg(x,a.u_fade),u_fill_translate:new o.bU(x,a.u_fill_translate)}),circle:(x,a)=>({u_camera_to_center_distance:new o.bg(x,a.u_camera_to_center_distance),u_scale_with_map:new o.bP(x,a.u_scale_with_map),u_pitch_with_map:new o.bP(x,a.u_pitch_with_map),u_extrude_scale:new o.bU(x,a.u_extrude_scale),u_device_pixel_ratio:new o.bg(x,a.u_device_pixel_ratio),u_globe_extrude_scale:new o.bg(x,a.u_globe_extrude_scale),u_translate:new o.bU(x,a.u_translate)}),collisionBox:(x,a)=>({u_pixel_extrude_scale:new o.bU(x,a.u_pixel_extrude_scale)}),collisionCircle:(x,a)=>({u_viewport_size:new o.bU(x,a.u_viewport_size)}),debug:(x,a)=>({u_color:new o.bQ(x,a.u_color),u_overlay:new o.bP(x,a.u_overlay),u_overlay_scale:new o.bg(x,a.u_overlay_scale)}),depth:gb,clippingMask:gb,heatmap:(x,a)=>({u_extrude_scale:new o.bg(x,a.u_extrude_scale),u_intensity:new o.bg(x,a.u_intensity),u_globe_extrude_scale:new o.bg(x,a.u_globe_extrude_scale)}),heatmapTexture:(x,a)=>({u_matrix:new o.bR(x,a.u_matrix),u_world:new o.bU(x,a.u_world),u_image:new o.bP(x,a.u_image),u_color_ramp:new o.bP(x,a.u_color_ramp),u_opacity:new o.bg(x,a.u_opacity)}),hillshade:(x,a)=>({u_image:new o.bP(x,a.u_image),u_latrange:new o.bU(x,a.u_latrange),u_exaggeration:new o.bg(x,a.u_exaggeration),u_altitudes:new o.b_(x,a.u_altitudes),u_azimuths:new o.b_(x,a.u_azimuths),u_accent:new o.bQ(x,a.u_accent),u_method:new o.bP(x,a.u_method),u_shadows:new o.bZ(x,a.u_shadows),u_highlights:new o.bZ(x,a.u_highlights)}),hillshadePrepare:(x,a)=>({u_matrix:new o.bR(x,a.u_matrix),u_image:new o.bP(x,a.u_image),u_dimension:new o.bU(x,a.u_dimension),u_zoom:new o.bg(x,a.u_zoom),u_unpack:new o.bS(x,a.u_unpack)}),colorRelief:(x,a)=>({u_image:new o.bP(x,a.u_image),u_unpack:new o.bS(x,a.u_unpack),u_dimension:new o.bU(x,a.u_dimension),u_elevation_stops:new o.bP(x,a.u_elevation_stops),u_color_stops:new o.bP(x,a.u_color_stops),u_color_ramp_size:new o.bP(x,a.u_color_ramp_size),u_opacity:new o.bg(x,a.u_opacity)}),line:(x,a)=>({u_translation:new o.bU(x,a.u_translation),u_ratio:new o.bg(x,a.u_ratio),u_device_pixel_ratio:new o.bg(x,a.u_device_pixel_ratio),u_units_to_pixels:new o.bU(x,a.u_units_to_pixels)}),lineGradient:(x,a)=>({u_translation:new o.bU(x,a.u_translation),u_ratio:new o.bg(x,a.u_ratio),u_device_pixel_ratio:new o.bg(x,a.u_device_pixel_ratio),u_units_to_pixels:new o.bU(x,a.u_units_to_pixels),u_image:new o.bP(x,a.u_image),u_image_height:new o.bg(x,a.u_image_height)}),linePattern:(x,a)=>({u_translation:new o.bU(x,a.u_translation),u_texsize:new o.bU(x,a.u_texsize),u_ratio:new o.bg(x,a.u_ratio),u_device_pixel_ratio:new o.bg(x,a.u_device_pixel_ratio),u_image:new o.bP(x,a.u_image),u_units_to_pixels:new o.bU(x,a.u_units_to_pixels),u_scale:new o.bT(x,a.u_scale),u_fade:new o.bg(x,a.u_fade)}),lineSDF:(x,a)=>({u_translation:new o.bU(x,a.u_translation),u_ratio:new o.bg(x,a.u_ratio),u_device_pixel_ratio:new o.bg(x,a.u_device_pixel_ratio),u_units_to_pixels:new o.bU(x,a.u_units_to_pixels),u_patternscale_a:new o.bU(x,a.u_patternscale_a),u_patternscale_b:new o.bU(x,a.u_patternscale_b),u_sdfgamma:new o.bg(x,a.u_sdfgamma),u_image:new o.bP(x,a.u_image),u_tex_y_a:new o.bg(x,a.u_tex_y_a),u_tex_y_b:new o.bg(x,a.u_tex_y_b),u_mix:new o.bg(x,a.u_mix)}),raster:(x,a)=>({u_tl_parent:new o.bU(x,a.u_tl_parent),u_scale_parent:new o.bg(x,a.u_scale_parent),u_buffer_scale:new o.bg(x,a.u_buffer_scale),u_fade_t:new o.bg(x,a.u_fade_t),u_opacity:new o.bg(x,a.u_opacity),u_image0:new o.bP(x,a.u_image0),u_image1:new o.bP(x,a.u_image1),u_brightness_low:new o.bg(x,a.u_brightness_low),u_brightness_high:new o.bg(x,a.u_brightness_high),u_saturation_factor:new o.bg(x,a.u_saturation_factor),u_contrast_factor:new o.bg(x,a.u_contrast_factor),u_spin_weights:new o.bT(x,a.u_spin_weights),u_coords_top:new o.bS(x,a.u_coords_top),u_coords_bottom:new o.bS(x,a.u_coords_bottom)}),symbolIcon:(x,a)=>({u_is_size_zoom_constant:new o.bP(x,a.u_is_size_zoom_constant),u_is_size_feature_constant:new o.bP(x,a.u_is_size_feature_constant),u_size_t:new o.bg(x,a.u_size_t),u_size:new o.bg(x,a.u_size),u_camera_to_center_distance:new o.bg(x,a.u_camera_to_center_distance),u_pitch:new o.bg(x,a.u_pitch),u_rotate_symbol:new o.bP(x,a.u_rotate_symbol),u_aspect_ratio:new o.bg(x,a.u_aspect_ratio),u_fade_change:new o.bg(x,a.u_fade_change),u_label_plane_matrix:new o.bR(x,a.u_label_plane_matrix),u_coord_matrix:new o.bR(x,a.u_coord_matrix),u_is_text:new o.bP(x,a.u_is_text),u_pitch_with_map:new o.bP(x,a.u_pitch_with_map),u_is_along_line:new o.bP(x,a.u_is_along_line),u_is_variable_anchor:new o.bP(x,a.u_is_variable_anchor),u_texsize:new o.bU(x,a.u_texsize),u_texture:new o.bP(x,a.u_texture),u_translation:new o.bU(x,a.u_translation),u_pitched_scale:new o.bg(x,a.u_pitched_scale)}),symbolSDF:(x,a)=>({u_is_size_zoom_constant:new o.bP(x,a.u_is_size_zoom_constant),u_is_size_feature_constant:new o.bP(x,a.u_is_size_feature_constant),u_size_t:new o.bg(x,a.u_size_t),u_size:new o.bg(x,a.u_size),u_camera_to_center_distance:new o.bg(x,a.u_camera_to_center_distance),u_pitch:new o.bg(x,a.u_pitch),u_rotate_symbol:new o.bP(x,a.u_rotate_symbol),u_aspect_ratio:new o.bg(x,a.u_aspect_ratio),u_fade_change:new o.bg(x,a.u_fade_change),u_label_plane_matrix:new o.bR(x,a.u_label_plane_matrix),u_coord_matrix:new o.bR(x,a.u_coord_matrix),u_is_text:new o.bP(x,a.u_is_text),u_pitch_with_map:new o.bP(x,a.u_pitch_with_map),u_is_along_line:new o.bP(x,a.u_is_along_line),u_is_variable_anchor:new o.bP(x,a.u_is_variable_anchor),u_texsize:new o.bU(x,a.u_texsize),u_texture:new o.bP(x,a.u_texture),u_gamma_scale:new o.bg(x,a.u_gamma_scale),u_device_pixel_ratio:new o.bg(x,a.u_device_pixel_ratio),u_is_halo:new o.bP(x,a.u_is_halo),u_translation:new o.bU(x,a.u_translation),u_pitched_scale:new o.bg(x,a.u_pitched_scale)}),symbolTextAndIcon:(x,a)=>({u_is_size_zoom_constant:new o.bP(x,a.u_is_size_zoom_constant),u_is_size_feature_constant:new o.bP(x,a.u_is_size_feature_constant),u_size_t:new o.bg(x,a.u_size_t),u_size:new o.bg(x,a.u_size),u_camera_to_center_distance:new o.bg(x,a.u_camera_to_center_distance),u_pitch:new o.bg(x,a.u_pitch),u_rotate_symbol:new o.bP(x,a.u_rotate_symbol),u_aspect_ratio:new o.bg(x,a.u_aspect_ratio),u_fade_change:new o.bg(x,a.u_fade_change),u_label_plane_matrix:new o.bR(x,a.u_label_plane_matrix),u_coord_matrix:new o.bR(x,a.u_coord_matrix),u_is_text:new o.bP(x,a.u_is_text),u_pitch_with_map:new o.bP(x,a.u_pitch_with_map),u_is_along_line:new o.bP(x,a.u_is_along_line),u_is_variable_anchor:new o.bP(x,a.u_is_variable_anchor),u_texsize:new o.bU(x,a.u_texsize),u_texsize_icon:new o.bU(x,a.u_texsize_icon),u_texture:new o.bP(x,a.u_texture),u_texture_icon:new o.bP(x,a.u_texture_icon),u_gamma_scale:new o.bg(x,a.u_gamma_scale),u_device_pixel_ratio:new o.bg(x,a.u_device_pixel_ratio),u_is_halo:new o.bP(x,a.u_is_halo),u_translation:new o.bU(x,a.u_translation),u_pitched_scale:new o.bg(x,a.u_pitched_scale)}),background:(x,a)=>({u_opacity:new o.bg(x,a.u_opacity),u_color:new o.bQ(x,a.u_color)}),backgroundPattern:(x,a)=>({u_opacity:new o.bg(x,a.u_opacity),u_image:new o.bP(x,a.u_image),u_pattern_tl_a:new o.bU(x,a.u_pattern_tl_a),u_pattern_br_a:new o.bU(x,a.u_pattern_br_a),u_pattern_tl_b:new o.bU(x,a.u_pattern_tl_b),u_pattern_br_b:new o.bU(x,a.u_pattern_br_b),u_texsize:new o.bU(x,a.u_texsize),u_mix:new o.bg(x,a.u_mix),u_pattern_size_a:new o.bU(x,a.u_pattern_size_a),u_pattern_size_b:new o.bU(x,a.u_pattern_size_b),u_scale_a:new o.bg(x,a.u_scale_a),u_scale_b:new o.bg(x,a.u_scale_b),u_pixel_coord_upper:new o.bU(x,a.u_pixel_coord_upper),u_pixel_coord_lower:new o.bU(x,a.u_pixel_coord_lower),u_tile_units_to_pixels:new o.bg(x,a.u_tile_units_to_pixels)}),terrain:(x,a)=>({u_texture:new o.bP(x,a.u_texture),u_ele_delta:new o.bg(x,a.u_ele_delta),u_fog_matrix:new o.bR(x,a.u_fog_matrix),u_fog_color:new o.bQ(x,a.u_fog_color),u_fog_ground_blend:new o.bg(x,a.u_fog_ground_blend),u_fog_ground_blend_opacity:new o.bg(x,a.u_fog_ground_blend_opacity),u_horizon_color:new o.bQ(x,a.u_horizon_color),u_horizon_fog_blend:new o.bg(x,a.u_horizon_fog_blend),u_is_globe_mode:new o.bg(x,a.u_is_globe_mode)}),terrainDepth:(x,a)=>({u_ele_delta:new o.bg(x,a.u_ele_delta)}),terrainCoords:(x,a)=>({u_texture:new o.bP(x,a.u_texture),u_terrain_coords_id:new o.bg(x,a.u_terrain_coords_id),u_ele_delta:new o.bg(x,a.u_ele_delta)}),projectionErrorMeasurement:(x,a)=>({u_input:new o.bg(x,a.u_input),u_output_expected:new o.bg(x,a.u_output_expected)}),atmosphere:(x,a)=>({u_sun_pos:new o.bT(x,a.u_sun_pos),u_atmosphere_blend:new o.bg(x,a.u_atmosphere_blend),u_globe_position:new o.bT(x,a.u_globe_position),u_globe_radius:new o.bg(x,a.u_globe_radius),u_inv_proj_matrix:new o.bR(x,a.u_inv_proj_matrix)}),sky:(x,a)=>({u_sky_color:new o.bQ(x,a.u_sky_color),u_horizon_color:new o.bQ(x,a.u_horizon_color),u_horizon:new o.bU(x,a.u_horizon),u_horizon_normal:new o.bU(x,a.u_horizon_normal),u_sky_horizon_blend:new o.bg(x,a.u_sky_horizon_blend),u_sky_blend:new o.bg(x,a.u_sky_blend)})};class pT{constructor(a,f,m){this.context=a;let y=a.gl;this.buffer=y.createBuffer(),this.dynamicDraw=!!m,this.context.unbindVAO(),a.bindElementBuffer.set(this.buffer),y.bufferData(y.ELEMENT_ARRAY_BUFFER,f.arrayBuffer,this.dynamicDraw?y.DYNAMIC_DRAW:y.STATIC_DRAW),this.dynamicDraw||delete f.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(a){let f=this.context.gl;if(!this.dynamicDraw)throw new Error("Attempted to update data while not in dynamic mode.");this.context.unbindVAO(),this.bind(),f.bufferSubData(f.ELEMENT_ARRAY_BUFFER,0,a.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}let Vv={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class Cu{constructor(a,f,m,y){this.length=f.length,this.attributes=m,this.itemSize=f.bytesPerElement,this.dynamicDraw=y,this.context=a;let w=a.gl;this.buffer=w.createBuffer(),a.bindVertexBuffer.set(this.buffer),w.bufferData(w.ARRAY_BUFFER,f.arrayBuffer,this.dynamicDraw?w.DYNAMIC_DRAW:w.STATIC_DRAW),this.dynamicDraw||delete f.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(a){if(a.length!==this.length)throw new Error(`Length of new data is ${a.length}, which doesn't match current length of ${this.length}`);let f=this.context.gl;this.bind(),f.bufferSubData(f.ARRAY_BUFFER,0,a.arrayBuffer)}enableAttributes(a,f){for(let m=0;m<this.attributes.length;m++){let y=f.attributes[this.attributes[m].name];y!==void 0&&a.enableVertexAttribArray(y)}}setVertexAttribPointers(a,f,m){for(let y=0;y<this.attributes.length;y++){let w=this.attributes[y],M=f.attributes[w.name];M!==void 0&&a.vertexAttribPointer(M,w.components,a[Vv[w.type]],!1,this.itemSize,w.offset+this.itemSize*(m||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class wn{constructor(a){this.gl=a.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(a){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class yb extends wn{getDefault(){return o.bf.transparent}set(a){let f=this.current;(a.r!==f.r||a.g!==f.g||a.b!==f.b||a.a!==f.a||this.dirty)&&(this.gl.clearColor(a.r,a.g,a.b,a.a),this.current=a,this.dirty=!1)}}class _b extends wn{getDefault(){return 1}set(a){(a!==this.current||this.dirty)&&(this.gl.clearDepth(a),this.current=a,this.dirty=!1)}}class fT extends wn{getDefault(){return 0}set(a){(a!==this.current||this.dirty)&&(this.gl.clearStencil(a),this.current=a,this.dirty=!1)}}class bb extends wn{getDefault(){return[!0,!0,!0,!0]}set(a){let f=this.current;(a[0]!==f[0]||a[1]!==f[1]||a[2]!==f[2]||a[3]!==f[3]||this.dirty)&&(this.gl.colorMask(a[0],a[1],a[2],a[3]),this.current=a,this.dirty=!1)}}class Hp extends wn{getDefault(){return!0}set(a){(a!==this.current||this.dirty)&&(this.gl.depthMask(a),this.current=a,this.dirty=!1)}}class xb extends wn{getDefault(){return 255}set(a){(a!==this.current||this.dirty)&&(this.gl.stencilMask(a),this.current=a,this.dirty=!1)}}class ZR extends wn{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(a){let f=this.current;(a.func!==f.func||a.ref!==f.ref||a.mask!==f.mask||this.dirty)&&(this.gl.stencilFunc(a.func,a.ref,a.mask),this.current=a,this.dirty=!1)}}class YR extends wn{getDefault(){let a=this.gl;return[a.KEEP,a.KEEP,a.KEEP]}set(a){let f=this.current;(a[0]!==f[0]||a[1]!==f[1]||a[2]!==f[2]||this.dirty)&&(this.gl.stencilOp(a[0],a[1],a[2]),this.current=a,this.dirty=!1)}}class KR extends wn{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;let f=this.gl;a?f.enable(f.STENCIL_TEST):f.disable(f.STENCIL_TEST),this.current=a,this.dirty=!1}}class XR extends wn{getDefault(){return[0,1]}set(a){let f=this.current;(a[0]!==f[0]||a[1]!==f[1]||this.dirty)&&(this.gl.depthRange(a[0],a[1]),this.current=a,this.dirty=!1)}}class dT extends wn{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;let f=this.gl;a?f.enable(f.DEPTH_TEST):f.disable(f.DEPTH_TEST),this.current=a,this.dirty=!1}}class QR extends wn{getDefault(){return this.gl.LESS}set(a){(a!==this.current||this.dirty)&&(this.gl.depthFunc(a),this.current=a,this.dirty=!1)}}class hT extends wn{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;let f=this.gl;a?f.enable(f.BLEND):f.disable(f.BLEND),this.current=a,this.dirty=!1}}class $v extends wn{getDefault(){let a=this.gl;return[a.ONE,a.ZERO]}set(a){let f=this.current;(a[0]!==f[0]||a[1]!==f[1]||this.dirty)&&(this.gl.blendFunc(a[0],a[1]),this.current=a,this.dirty=!1)}}class Gv extends wn{getDefault(){return o.bf.transparent}set(a){let f=this.current;(a.r!==f.r||a.g!==f.g||a.b!==f.b||a.a!==f.a||this.dirty)&&(this.gl.blendColor(a.r,a.g,a.b,a.a),this.current=a,this.dirty=!1)}}class Hv extends wn{getDefault(){return this.gl.FUNC_ADD}set(a){(a!==this.current||this.dirty)&&(this.gl.blendEquation(a),this.current=a,this.dirty=!1)}}class wb extends wn{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;let f=this.gl;a?f.enable(f.CULL_FACE):f.disable(f.CULL_FACE),this.current=a,this.dirty=!1}}class Wp extends wn{getDefault(){return this.gl.BACK}set(a){(a!==this.current||this.dirty)&&(this.gl.cullFace(a),this.current=a,this.dirty=!1)}}class Mm extends wn{getDefault(){return this.gl.CCW}set(a){(a!==this.current||this.dirty)&&(this.gl.frontFace(a),this.current=a,this.dirty=!1)}}class hd extends wn{getDefault(){return null}set(a){(a!==this.current||this.dirty)&&(this.gl.useProgram(a),this.current=a,this.dirty=!1)}}class Cs extends wn{getDefault(){return this.gl.TEXTURE0}set(a){(a!==this.current||this.dirty)&&(this.gl.activeTexture(a),this.current=a,this.dirty=!1)}}class mT extends wn{getDefault(){let a=this.gl;return[0,0,a.drawingBufferWidth,a.drawingBufferHeight]}set(a){let f=this.current;(a[0]!==f[0]||a[1]!==f[1]||a[2]!==f[2]||a[3]!==f[3]||this.dirty)&&(this.gl.viewport(a[0],a[1],a[2],a[3]),this.current=a,this.dirty=!1)}}class gT extends wn{getDefault(){return null}set(a){if(a===this.current&&!this.dirty)return;let f=this.gl;f.bindFramebuffer(f.FRAMEBUFFER,a),this.current=a,this.dirty=!1}}class Sb extends wn{getDefault(){return null}set(a){if(a===this.current&&!this.dirty)return;let f=this.gl;f.bindRenderbuffer(f.RENDERBUFFER,a),this.current=a,this.dirty=!1}}class Zp extends wn{getDefault(){return null}set(a){if(a===this.current&&!this.dirty)return;let f=this.gl;f.bindTexture(f.TEXTURE_2D,a),this.current=a,this.dirty=!1}}class Wv extends wn{getDefault(){return null}set(a){if(a===this.current&&!this.dirty)return;let f=this.gl;f.bindBuffer(f.ARRAY_BUFFER,a),this.current=a,this.dirty=!1}}class Zv extends wn{getDefault(){return null}set(a){let f=this.gl;f.bindBuffer(f.ELEMENT_ARRAY_BUFFER,a),this.current=a,this.dirty=!1}}class Cm extends wn{getDefault(){return null}set(a){var f;if(a===this.current&&!this.dirty)return;let m=this.gl;zl(m)?m.bindVertexArray(a):(f=m.getExtension("OES_vertex_array_object"))===null||f===void 0||f.bindVertexArrayOES(a),this.current=a,this.dirty=!1}}class Yv extends wn{getDefault(){return 4}set(a){if(a===this.current&&!this.dirty)return;let f=this.gl;f.pixelStorei(f.UNPACK_ALIGNMENT,a),this.current=a,this.dirty=!1}}class vT extends wn{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;let f=this.gl;f.pixelStorei(f.UNPACK_PREMULTIPLY_ALPHA_WEBGL,a),this.current=a,this.dirty=!1}}class md extends wn{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;let f=this.gl;f.pixelStorei(f.UNPACK_FLIP_Y_WEBGL,a),this.current=a,this.dirty=!1}}class Oc extends wn{constructor(a,f){super(a),this.context=a,this.parent=f}getDefault(){return null}}class yT extends Oc{setDirty(){this.dirty=!0}set(a){if(a===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);let f=this.gl;f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.TEXTURE_2D,a,0),this.current=a,this.dirty=!1}}class Eb extends Oc{set(a){if(a===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);let f=this.gl;f.framebufferRenderbuffer(f.FRAMEBUFFER,f.DEPTH_ATTACHMENT,f.RENDERBUFFER,a),this.current=a,this.dirty=!1}}class an extends Oc{set(a){if(a===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);let f=this.gl;f.framebufferRenderbuffer(f.FRAMEBUFFER,f.DEPTH_STENCIL_ATTACHMENT,f.RENDERBUFFER,a),this.current=a,this.dirty=!1}}let Am="Framebuffer is not complete";class JR{constructor(a,f,m,y,w){this.context=a,this.width=f,this.height=m;let M=a.gl,D=this.framebuffer=M.createFramebuffer();if(this.colorAttachment=new yT(a,D),y)this.depthAttachment=w?new an(a,D):new Eb(a,D);else if(w)throw new Error("Stencil cannot be set without depth");if(M.checkFramebufferStatus(M.FRAMEBUFFER)!==M.FRAMEBUFFER_COMPLETE)throw new Error(Am)}destroy(){let a=this.context.gl,f=this.colorAttachment.get();if(f&&a.deleteTexture(f),this.depthAttachment){let m=this.depthAttachment.get();m&&a.deleteRenderbuffer(m)}a.deleteFramebuffer(this.framebuffer)}}class _T{constructor(a){var f,m;if(this.gl=a,this.clearColor=new yb(this),this.clearDepth=new _b(this),this.clearStencil=new fT(this),this.colorMask=new bb(this),this.depthMask=new Hp(this),this.stencilMask=new xb(this),this.stencilFunc=new ZR(this),this.stencilOp=new YR(this),this.stencilTest=new KR(this),this.depthRange=new XR(this),this.depthTest=new dT(this),this.depthFunc=new QR(this),this.blend=new hT(this),this.blendFunc=new $v(this),this.blendColor=new Gv(this),this.blendEquation=new Hv(this),this.cullFace=new wb(this),this.cullFaceSide=new Wp(this),this.frontFace=new Mm(this),this.program=new hd(this),this.activeTexture=new Cs(this),this.viewport=new mT(this),this.bindFramebuffer=new gT(this),this.bindRenderbuffer=new Sb(this),this.bindTexture=new Zp(this),this.bindVertexBuffer=new Wv(this),this.bindElementBuffer=new Zv(this),this.bindVertexArray=new Cm(this),this.pixelStoreUnpack=new Yv(this),this.pixelStoreUnpackPremultiplyAlpha=new vT(this),this.pixelStoreUnpackFlipY=new md(this),this.extTextureFilterAnisotropic=a.getExtension("EXT_texture_filter_anisotropic")||a.getExtension("MOZ_EXT_texture_filter_anisotropic")||a.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=a.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.maxTextureSize=a.getParameter(a.MAX_TEXTURE_SIZE),zl(a)){this.HALF_FLOAT=a.HALF_FLOAT;let y=a.getExtension("EXT_color_buffer_half_float");this.RGBA16F=(f=a.RGBA16F)!==null&&f!==void 0?f:y==null?void 0:y.RGBA16F_EXT,this.RGB16F=(m=a.RGB16F)!==null&&m!==void 0?m:y==null?void 0:y.RGB16F_EXT,a.getExtension("EXT_color_buffer_float")}else{a.getExtension("EXT_color_buffer_half_float"),a.getExtension("OES_texture_half_float_linear");let y=a.getExtension("OES_texture_half_float");this.HALF_FLOAT=y==null?void 0:y.HALF_FLOAT_OES}}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.bindVertexArray.dirty=!0,this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(a,f){return new pT(this,a,f)}createVertexBuffer(a,f,m){return new Cu(this,a,f,m)}createRenderbuffer(a,f,m){let y=this.gl,w=y.createRenderbuffer();return this.bindRenderbuffer.set(w),y.renderbufferStorage(y.RENDERBUFFER,a,f,m),this.bindRenderbuffer.set(null),w}createFramebuffer(a,f,m,y){return new JR(this,a,f,m,y)}clear({color:a,depth:f,stencil:m}){let y=this.gl,w=0;a&&(w|=y.COLOR_BUFFER_BIT,this.clearColor.set(a),this.colorMask.set([!0,!0,!0,!0])),f!==void 0&&(w|=y.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(f),this.depthMask.set(!0)),m!==void 0&&(w|=y.STENCIL_BUFFER_BIT,this.clearStencil.set(m),this.stencilMask.set(255)),y.clear(w)}setCullFace(a){a.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(a.mode),this.frontFace.set(a.frontFace))}setDepthMode(a){a.func!==this.gl.ALWAYS||a.mask?(this.depthTest.set(!0),this.depthFunc.set(a.func),this.depthMask.set(a.mask),this.depthRange.set(a.range)):this.depthTest.set(!1)}setStencilMode(a){a.test.func!==this.gl.ALWAYS||a.mask?(this.stencilTest.set(!0),this.stencilMask.set(a.mask),this.stencilOp.set([a.fail,a.depthFail,a.pass]),this.stencilFunc.set({func:a.test.func,ref:a.ref,mask:a.test.mask})):this.stencilTest.set(!1)}setColorMode(a){o.bH(a.blendFunction,si.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(a.blendFunction),this.blendColor.set(a.blendColor)),this.colorMask.set(a.mask)}createVertexArray(){var a;return zl(this.gl)?this.gl.createVertexArray():(a=this.gl.getExtension("OES_vertex_array_object"))===null||a===void 0?void 0:a.createVertexArrayOES()}deleteVertexArray(a){var f;return zl(this.gl)?this.gl.deleteVertexArray(a):(f=this.gl.getExtension("OES_vertex_array_object"))===null||f===void 0?void 0:f.deleteVertexArrayOES(a)}unbindVAO(){this.bindVertexArray.set(null)}}let Dc;function bT(x,a,f,m,y){let w=x.context,M=x.transform,D=w.gl,k=x.useProgram("collisionBox"),B=[],V=0,W=0;for(let fe=0;fe<m.length;fe++){let ge=m[fe],Te=a.getTile(ge).getBucket(f);if(!Te)continue;let be=y?Te.textCollisionBox:Te.iconCollisionBox,Ae=Te.collisionCircleArray;Ae.length>0&&(B.push({circleArray:Ae,circleOffset:W,coord:ge}),V+=Ae.length/4,W=V),be&&k.draw(w,D.LINES,Rr.disabled,hn.disabled,x.colorModeForRenderPass(),_r.disabled,Bv(x.transform),x.style.map.terrain&&x.style.map.terrain.getTerrainData(ge),M.getProjectionData({overscaledTileID:ge,applyGlobeMatrix:!0,applyTerrainMatrix:!0}),f.id,be.layoutVertexBuffer,be.indexBuffer,be.segments,null,x.transform.zoom,null,null,be.collisionVertexBuffer)}if(!y||!B.length)return;let G=x.useProgram("collisionCircle"),K=new o.b$;K.resize(4*V),K._trim();let ee=0;for(let fe of B)for(let ge=0;ge<fe.circleArray.length/4;ge++){let Te=4*ge,be=fe.circleArray[Te+0],Ae=fe.circleArray[Te+1],Ne=fe.circleArray[Te+2],Se=fe.circleArray[Te+3];K.emplace(ee++,be,Ae,Ne,Se,0),K.emplace(ee++,be,Ae,Ne,Se,1),K.emplace(ee++,be,Ae,Ne,Se,2),K.emplace(ee++,be,Ae,Ne,Se,3)}(!Dc||Dc.length<2*V)&&(Dc=function(fe){let ge=2*fe,Te=new o.c1;Te.resize(ge),Te._trim();for(let be=0;be<ge;be++){let Ae=6*be;Te.uint16[Ae+0]=4*be+0,Te.uint16[Ae+1]=4*be+1,Te.uint16[Ae+2]=4*be+2,Te.uint16[Ae+3]=4*be+2,Te.uint16[Ae+4]=4*be+3,Te.uint16[Ae+5]=4*be+0}return Te}(V));let pe=w.createIndexBuffer(Dc,!0),ce=w.createVertexBuffer(K,o.c0.members,!0);for(let fe of B){let ge=$R(x.transform);G.draw(w,D.TRIANGLES,Rr.disabled,hn.disabled,x.colorModeForRenderPass(),_r.disabled,ge,x.style.map.terrain&&x.style.map.terrain.getTerrainData(fe.coord),null,f.id,ce,pe,o.aM.simpleSegment(0,2*fe.circleOffset,fe.circleArray.length,fe.circleArray.length/2),null,x.transform.zoom,null,null,null)}ce.destroy(),pe.destroy()}let eL=o.ag(new Float32Array(16));function xT(x,a,f,m,y,w){let{horizontalAlign:M,verticalAlign:D}=o.aH(x);return new o.P((-(M-.5)*a/y+m[0])*w,(-(D-.5)*f/y+m[1])*w)}function tL(x,a,f,m,y,w){let M=a.tileAnchorPoint.add(new o.P(a.translation[0],a.translation[1]));if(a.pitchWithMap){let D=m.mult(w);f||(D=D.rotate(-y));let k=M.add(D);return Qn(k.x,k.y,a.pitchedLabelPlaneMatrix,a.getElevation).point}if(f){let D=Mo(a.tileAnchorPoint.x+1,a.tileAnchorPoint.y,a).point.sub(x),k=Math.atan(D.y/D.x)+(D.x<0?Math.PI:0);return x.add(m.rotate(k))}return x.add(m)}function Ib(x,a,f,m,y,w,M,D,k,B,V,W){let G=x.text.placedSymbolArray,K=x.text.dynamicLayoutVertexArray,ee=x.icon.dynamicLayoutVertexArray,pe={};K.clear();for(let ce=0;ce<G.length;ce++){let fe=G.get(ce),ge=fe.hidden||!fe.crossTileID||x.allowVerticalPlacement&&!fe.placedOrientation?null:m[fe.crossTileID];if(ge){let Te=new o.P(fe.anchorX,fe.anchorY),be={getElevation:W,width:y.width,height:y.height,pitchedLabelPlaneMatrix:w,pitchWithMap:f,transform:y,tileAnchorPoint:Te,translation:B,unwrappedTileID:V},Ae=f?Tc(Te.x,Te.y,be):Mo(Te.x,Te.y,be),Ne=St(y.cameraToCenterDistance,Ae.signedDistanceFromCamera),Se=o.ap(x.textSizeData,D,fe)*Ne/o.aB;f&&(Se*=x.tilePixelRatio/M);let{width:Ve,height:et,anchor:He,textOffset:Ze,textBoxScale:Qe}=ge,Tt=xT(He,Ve,et,Ze,Qe,Se),At=y.getPitchedTextCorrection(Te.x+B[0],Te.y+B[1],V),dt=tL(Ae.point,be,a,Tt,-y.bearingInRadians,At),tr=x.allowVerticalPlacement&&fe.placedOrientation===o.ao.vertical?Math.PI/2:0;for(let Fr=0;Fr<fe.numGlyphs;Fr++)o.av(K,dt,tr);k&&fe.associatedIconIndex>=0&&(pe[fe.associatedIconIndex]={shiftedAnchor:dt,angle:tr})}else ql(fe.numGlyphs,K)}if(k){ee.clear();let ce=x.icon.placedSymbolArray;for(let fe=0;fe<ce.length;fe++){let ge=ce.get(fe);if(ge.hidden)ql(ge.numGlyphs,ee);else{let Te=pe[fe];if(Te)for(let be=0;be<ge.numGlyphs;be++)o.av(ee,Te.shiftedAnchor,Te.angle);else ql(ge.numGlyphs,ee)}}x.icon.dynamicLayoutVertexBuffer.updateData(ee)}x.text.dynamicLayoutVertexBuffer.updateData(K)}function Kv(x,a,f){return f.iconsInText&&a?"symbolTextAndIcon":x?"symbolSDF":"symbolIcon"}function Pm(x,a,f,m,y,w,M,D,k,B,V,W,G){let K=x.context,ee=K.gl,pe=x.transform,ce=D==="map",fe=k==="map",ge=D!=="viewport"&&f.layout.get("symbol-placement")!=="point",Te=ce&&!fe&&!ge,be=!f.layout.get("symbol-sort-key").isConstant(),Ae=!1,Ne=x.getDepthModeForSublayer(0,Rr.ReadOnly),Se=f._unevaluatedLayout.hasValue("text-variable-anchor")||f._unevaluatedLayout.hasValue("text-variable-anchor-offset"),Ve=[],et=pe.getCircleRadiusCorrection();for(let He of m){let Ze=a.getTile(He),Qe=Ze.getBucket(f);if(!Qe)continue;let Tt=y?Qe.text:Qe.icon;if(!Tt||!Tt.segments.get().length||!Tt.hasVisibleVertices)continue;let At=Tt.programConfigurations.get(f.id),dt=y||Qe.sdfIcons,tr=y?Qe.textSizeData:Qe.iconSizeData,Fr=fe||pe.pitch!==0,En=x.useProgram(Kv(dt,y,Qe),At),Vn=o.an(tr,pe.zoom),zn=x.style.map.terrain&&x.style.map.terrain.getTerrainData(He),mi,Si,zr,$n,Vi=[0,0],eo=null;if(y)Si=Ze.glyphAtlasTexture,zr=ee.LINEAR,mi=Ze.glyphAtlasTexture.size,Qe.iconsInText&&(Vi=Ze.imageAtlasTexture.size,eo=Ze.imageAtlasTexture,$n=Fr||x.options.rotating||x.options.zooming||tr.kind==="composite"||tr.kind==="camera"?ee.LINEAR:ee.NEAREST);else{let $i=f.layout.get("icon-size").constantOr(0)!==1||Qe.iconsNeedLinear;Si=Ze.imageAtlasTexture,zr=dt||x.options.rotating||x.options.zooming||$i||Fr?ee.LINEAR:ee.NEAREST,mi=Ze.imageAtlasTexture.size}let ho=o.aC(Ze,1,x.transform.zoom),ia=on(ce,x.transform,ho),dl=o.L();o.aq(dl,ia);let Nc=Er(fe,ce,x.transform,ho),Rc=o.aD(pe,Ze,w,M),Md=pe.getProjectionData({overscaledTileID:He,applyGlobeMatrix:!G,applyTerrainMatrix:!0}),Cd=Se&&Qe.hasTextData(),tf=f.layout.get("icon-text-fit")!=="none"&&Cd&&Qe.hasIconData();if(ge){let $i=x.style.map.terrain?(Os,Gi)=>x.style.map.terrain.getElevation(He,Os,Gi):null,to=f.layout.get("text-rotation-alignment")==="map";Bn(Qe,x,y,ia,dl,fe,B,to,He.toUnwrapped(),pe.width,pe.height,Rc,$i)}let rf=y&&Se||tf,qa=ge||rf?eL:fe?ia:x.transform.clipSpaceToPixelsMatrix,hl=dt&&f.paint.get(y?"text-halo-width":"icon-halo-width").constantOr(1)!==0,oa;oa=dt?Qe.iconsInText?WR(tr.kind,Vn,Te,fe,ge,rf,x,qa,Nc,Rc,mi,Vi,et):lT(tr.kind,Vn,Te,fe,ge,rf,x,qa,Nc,Rc,y,mi,0,et):Tm(tr.kind,Vn,Te,fe,ge,rf,x,qa,Nc,Rc,y,mi,et);let Lc={program:En,buffers:Tt,uniformValues:oa,projectionData:Md,atlasTexture:Si,atlasTextureIcon:eo,atlasInterpolation:zr,atlasInterpolationIcon:$n,isSDF:dt,hasHalo:hl};if(be&&Qe.canOverlap){Ae=!0;let $i=Tt.segments.get();for(let to of $i)Ve.push({segments:new o.aM([to]),sortKey:to.sortKey,state:Lc,terrainData:zn})}else Ve.push({segments:Tt.segments,sortKey:0,state:Lc,terrainData:zn})}Ae&&Ve.sort((He,Ze)=>He.sortKey-Ze.sortKey);for(let He of Ve){let Ze=He.state;if(K.activeTexture.set(ee.TEXTURE0),Ze.atlasTexture.bind(Ze.atlasInterpolation,ee.CLAMP_TO_EDGE),Ze.atlasTextureIcon&&(K.activeTexture.set(ee.TEXTURE1),Ze.atlasTextureIcon&&Ze.atlasTextureIcon.bind(Ze.atlasInterpolationIcon,ee.CLAMP_TO_EDGE)),Ze.isSDF){let Qe=Ze.uniformValues;Ze.hasHalo&&(Qe.u_is_halo=1,Om(Ze.buffers,He.segments,f,x,Ze.program,Ne,V,W,Qe,Ze.projectionData,He.terrainData)),Qe.u_is_halo=0}Om(Ze.buffers,He.segments,f,x,Ze.program,Ne,V,W,Ze.uniformValues,Ze.projectionData,He.terrainData)}}function Om(x,a,f,m,y,w,M,D,k,B,V){let W=m.context;y.draw(W,W.gl.TRIANGLES,w,M,D,_r.backCCW,k,V,B,f.id,x.layoutVertexBuffer,x.indexBuffer,a,f.paint,m.transform.zoom,x.programConfigurations.get(f.id),x.dynamicLayoutVertexBuffer,x.opacityVertexBuffer)}function Tb(x,a,f,m,y){let w=x.context,M=w.gl,D=hn.disabled,k=new si([M.ONE,M.ONE],o.bf.transparent,[!0,!0,!0,!0]),B=a.getBucket(f);if(!B)return;let V=m.key,W=f.heatmapFbos.get(V);W||(W=Dm(w,a.tileSize,a.tileSize),f.heatmapFbos.set(V,W)),w.bindFramebuffer.set(W.framebuffer),w.viewport.set([0,0,a.tileSize,a.tileSize]),w.clear({color:o.bf.transparent});let G=B.programConfigurations.get(f.id),K=x.useProgram("heatmap",G,!y),ee=x.transform.getProjectionData({overscaledTileID:a.tileID,applyGlobeMatrix:!0,applyTerrainMatrix:!0}),pe=x.style.map.terrain.getTerrainData(m);K.draw(w,M.TRIANGLES,Rr.disabled,D,k,_r.disabled,nT(a,x.transform.zoom,f.paint.get("heatmap-intensity"),1),pe,ee,f.id,B.layoutVertexBuffer,B.indexBuffer,B.segments,f.paint,x.transform.zoom,G)}function wT(x,a,f,m,y){let w=x.context,M=w.gl,D=x.transform;w.setColorMode(x.colorModeForRenderPass());let k=km(w,a),B=f.key,V=a.heatmapFbos.get(B);if(!V)return;w.activeTexture.set(M.TEXTURE0),M.bindTexture(M.TEXTURE_2D,V.colorAttachment.get()),w.activeTexture.set(M.TEXTURE1),k.bind(M.LINEAR,M.CLAMP_TO_EDGE);let W=D.getProjectionData({overscaledTileID:f,applyTerrainMatrix:y,applyGlobeMatrix:!m});x.useProgram("heatmapTexture").draw(w,M.TRIANGLES,Rr.disabled,hn.disabled,x.colorModeForRenderPass(),_r.disabled,fb(x,a,0,1),null,W,a.id,x.rasterBoundsBuffer,x.quadTriangleIndexBuffer,x.rasterBoundsSegments,a.paint,D.zoom),V.destroy(),a.heatmapFbos.delete(B)}function Dm(x,a,f){var m,y;let w=x.gl,M=w.createTexture();w.bindTexture(w.TEXTURE_2D,M),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_WRAP_S,w.CLAMP_TO_EDGE),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_WRAP_T,w.CLAMP_TO_EDGE),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_MIN_FILTER,w.LINEAR),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_MAG_FILTER,w.LINEAR);let D=(m=x.HALF_FLOAT)!==null&&m!==void 0?m:w.UNSIGNED_BYTE,k=(y=x.RGBA16F)!==null&&y!==void 0?y:w.RGBA;w.texImage2D(w.TEXTURE_2D,0,k,a,f,0,w.RGBA,D,null);let B=x.createFramebuffer(a,f,!1,!1);return B.colorAttachment.set(M),B}function km(x,a){return a.colorRampTexture||(a.colorRampTexture=new o.T(x,a.colorRamp,x.gl.RGBA)),a.colorRampTexture}function Nm(x,a,f,m,y){if(!f||!m||!m.imageAtlas)return;let w=m.imageAtlas.patternPositions,M=w[f.to.toString()],D=w[f.from.toString()];if(!M&&D&&(M=D),!D&&M&&(D=M),!M||!D){let k=y.getPaintProperty(a);M=w[k],D=w[k]}M&&D&&x.setConstantPatternPositions(M,D)}function Xv(x,a,f,m,y,w,M,D){let k=x.context.gl,B="fill-pattern",V=f.paint.get(B),W=V&&V.constantOr(1),G=f.getCrossfadeParameters(),K,ee,pe,ce,fe,ge=x.transform,Te=f.paint.get("fill-translate"),be=f.paint.get("fill-translate-anchor");M?(ee=W&&!f.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",K=k.LINES):(ee=W?"fillPattern":"fill",K=k.TRIANGLES);let Ae=V.constantOr(null);for(let Ne of m){let Se=a.getTile(Ne);if(W&&!Se.patternsLoaded())continue;let Ve=Se.getBucket(f);if(!Ve)continue;let et=Ve.programConfigurations.get(f.id),He=x.useProgram(ee,et),Ze=x.style.map.terrain&&x.style.map.terrain.getTerrainData(Ne);W&&(x.context.activeTexture.set(k.TEXTURE0),Se.imageAtlasTexture.bind(k.LINEAR,k.CLAMP_TO_EDGE),et.updatePaintBuffers(G)),Nm(et,B,Ae,Se,f);let Qe=ge.getProjectionData({overscaledTileID:Ne,applyGlobeMatrix:!D,applyTerrainMatrix:!0}),Tt=o.aD(ge,Se,Te,be);if(M){ce=Ve.indexBuffer2,fe=Ve.segments2;let dt=[k.drawingBufferWidth,k.drawingBufferHeight];pe=ee==="fillOutlinePattern"&&W?Em(x,G,Se,dt,Tt):Sm(dt,Tt)}else ce=Ve.indexBuffer,fe=Ve.segments,pe=W?Fv(x,G,Se,Tt):{u_fill_translate:Tt};let At=x.stencilModeForClipping(Ne);He.draw(x.context,K,y,At,w,_r.backCCW,pe,Ze,Qe,f.id,Ve.layoutVertexBuffer,ce,fe,f.paint,x.transform.zoom,et)}}function Mb(x,a,f,m,y,w,M,D){let k=x.context,B=k.gl,V="fill-extrusion-pattern",W=f.paint.get(V),G=W.constantOr(1),K=f.getCrossfadeParameters(),ee=f.paint.get("fill-extrusion-opacity"),pe=W.constantOr(null),ce=x.transform;for(let fe of m){let ge=a.getTile(fe),Te=ge.getBucket(f);if(!Te)continue;let be=x.style.map.terrain&&x.style.map.terrain.getTerrainData(fe),Ae=Te.programConfigurations.get(f.id),Ne=x.useProgram(G?"fillExtrusionPattern":"fillExtrusion",Ae);G&&(x.context.activeTexture.set(B.TEXTURE0),ge.imageAtlasTexture.bind(B.LINEAR,B.CLAMP_TO_EDGE),Ae.updatePaintBuffers(K));let Se=ce.getProjectionData({overscaledTileID:fe,applyGlobeMatrix:!D,applyTerrainMatrix:!0});Nm(Ae,V,pe,ge,f);let Ve=o.aD(ce,ge,f.paint.get("fill-extrusion-translate"),f.paint.get("fill-extrusion-translate-anchor")),et=f.paint.get("fill-extrusion-vertical-gradient"),He=G?UR(x,et,ee,Ve,fe,K,ge):sl(x,et,ee,Ve);Ne.draw(k,k.gl.TRIANGLES,y,w,M,_r.backCCW,He,be,Se,f.id,Te.layoutVertexBuffer,Te.indexBuffer,Te.segments,f.paint,x.transform.zoom,Ae,x.style.map.terrain&&Te.centroidVertexBuffer)}}function Yp(x,a,f,m,y,w,M,D,k){var B;let V=x.style.projection,W=x.context,G=x.transform,K=W.gl,ee=[`#define NUM_ILLUMINATION_SOURCES ${f.paint.get("hillshade-highlight-color").values.length}`],pe=x.useProgram("hillshade",null,!1,ee),ce=!x.options.moving;for(let fe of m){let ge=a.getTile(fe),Te=ge.fbo;if(!Te)continue;let be=V.getMeshFromTileID(W,fe.canonical,D,!0,"raster"),Ae=(B=x.style.map.terrain)===null||B===void 0?void 0:B.getTerrainData(fe);W.activeTexture.set(K.TEXTURE0),K.bindTexture(K.TEXTURE_2D,Te.colorAttachment.get());let Ne=G.getProjectionData({overscaledTileID:fe,aligned:ce,applyGlobeMatrix:!k,applyTerrainMatrix:!0});pe.draw(W,K.TRIANGLES,w,y[fe.overscaledZ],M,_r.backCCW,GR(x,ge,f),Ae,Ne,f.id,be.vertexBuffer,be.indexBuffer,be.segments)}}function Cb(x,a,f,m,y,w,M,D,k){var B;let V=x.style.projection,W=x.context,G=x.transform,K=W.gl,ee=x.useProgram("colorRelief"),pe=!x.options.moving,ce=!0,fe=0;for(let ge of m){let Te=a.getTile(ge),be=Te.dem;if(ce){let He=K.getParameter(K.MAX_TEXTURE_SIZE),{elevationTexture:Ze,colorTexture:Qe}=f.getColorRampTextures(W,He,be.getUnpackVector());W.activeTexture.set(K.TEXTURE1),Ze.bind(K.NEAREST,K.CLAMP_TO_EDGE),W.activeTexture.set(K.TEXTURE4),Qe.bind(K.LINEAR,K.CLAMP_TO_EDGE),ce=!1,fe=Ze.size[0]}if(!be||!be.data)continue;let Ae=be.stride,Ne=be.getPixels();if(W.activeTexture.set(K.TEXTURE0),W.pixelStoreUnpackPremultiplyAlpha.set(!1),Te.demTexture=Te.demTexture||x.getTileTexture(Ae),Te.demTexture){let He=Te.demTexture;He.update(Ne,{premultiply:!1}),He.bind(K.LINEAR,K.CLAMP_TO_EDGE)}else Te.demTexture=new o.T(W,Ne,K.RGBA,{premultiply:!1}),Te.demTexture.bind(K.LINEAR,K.CLAMP_TO_EDGE);let Se=V.getMeshFromTileID(W,ge.canonical,D,!0,"raster"),Ve=(B=x.style.map.terrain)===null||B===void 0?void 0:B.getTerrainData(ge),et=G.getProjectionData({overscaledTileID:ge,aligned:pe,applyGlobeMatrix:!k,applyTerrainMatrix:!0});ee.draw(W,K.TRIANGLES,w,y[ge.overscaledZ],M,_r.backCCW,oT(f,Te.dem,fe),Ve,et,f.id,Se.vertexBuffer,Se.indexBuffer,Se.segments)}}let Qv=[new o.P(0,0),new o.P(o.$,0),new o.P(o.$,o.$),new o.P(0,o.$)];function Kp(x,a,f,m,y,w,M,D,k=!1,B=!1){let V=m[m.length-1].overscaledZ,W=x.context,G=W.gl,K=x.useProgram("raster"),ee=x.transform,pe=x.style.projection,ce=x.colorModeForRenderPass(),fe=!x.options.moving;for(let ge of m){let Te=x.getDepthModeForSublayer(ge.overscaledZ-V,f.paint.get("raster-opacity")===1?Rr.ReadWrite:Rr.ReadOnly,G.LESS),be=a.getTile(ge);be.registerFadeDuration(f.paint.get("raster-fade-duration"));let Ae=a.findLoadedParent(ge,0),Ne=a.findLoadedSibling(ge),Se=Ab(be,Ae||Ne||null,a,f,x.transform,x.style.map.terrain),Ve,et,He=f.paint.get("raster-resampling")==="nearest"?G.NEAREST:G.LINEAR;W.activeTexture.set(G.TEXTURE0),be.texture.bind(He,G.CLAMP_TO_EDGE,G.LINEAR_MIPMAP_NEAREST),W.activeTexture.set(G.TEXTURE1),Ae?(Ae.texture.bind(He,G.CLAMP_TO_EDGE,G.LINEAR_MIPMAP_NEAREST),Ve=Math.pow(2,Ae.tileID.overscaledZ-be.tileID.overscaledZ),et=[be.tileID.canonical.x*Ve%1,be.tileID.canonical.y*Ve%1]):be.texture.bind(He,G.CLAMP_TO_EDGE,G.LINEAR_MIPMAP_NEAREST),be.texture.useMipmap&&W.extTextureFilterAnisotropic&&x.transform.pitch>20&&G.texParameterf(G.TEXTURE_2D,W.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,W.extTextureFilterAnisotropicMax);let Ze=x.style.map.terrain&&x.style.map.terrain.getTerrainData(ge),Qe=ee.getProjectionData({overscaledTileID:ge,aligned:fe,applyGlobeMatrix:!B,applyTerrainMatrix:!0}),Tt=Im(et||[0,0],Ve||1,Se,f,D),At=pe.getMeshFromTileID(W,ge.canonical,w,M,"raster");K.draw(W,G.TRIANGLES,Te,y?y[ge.overscaledZ]:hn.disabled,ce,k?_r.frontCCW:_r.backCCW,Tt,Ze,Qe,f.id,At.vertexBuffer,At.indexBuffer,At.segments)}}function Ab(x,a,f,m,y,w){let M=m.paint.get("raster-fade-duration");if(!w&&M>0){let D=I.now(),k=(D-x.timeAdded)/M,B=a?(D-a.timeAdded)/M:-1,V=f.getSource(),W=at(y,{tileSize:V.tileSize,roundZoom:V.roundZoom}),G=!a||Math.abs(a.tileID.overscaledZ-W)>Math.abs(x.tileID.overscaledZ-W),K=G&&x.refreshedUponExpiration?1:o.ah(G?k:1-B,0,1);return x.refreshedUponExpiration&&k>=1&&(x.refreshedUponExpiration=!1),a?{opacity:1,mix:1-K}:{opacity:K,mix:0}}return{opacity:1,mix:0}}let ST=new o.bf(1,0,0,1),ET=new o.bf(0,1,0,1),Jv=new o.bf(0,0,1,1),Pb=new o.bf(1,0,1,1),rL=new o.bf(0,1,1,1);function Ob(x,a,f,m){Bl(x,0,a+f/2,x.transform.width,f,m)}function wi(x,a,f,m){Bl(x,a-f/2,0,f,x.transform.height,m)}function Bl(x,a,f,m,y,w){let M=x.context,D=M.gl;D.enable(D.SCISSOR_TEST),D.scissor(a*x.pixelRatio,f*x.pixelRatio,m*x.pixelRatio,y*x.pixelRatio),M.clear({color:w}),D.disable(D.SCISSOR_TEST)}function As(x,a,f){let m=x.context,y=m.gl,w=x.useProgram("debug"),M=Rr.disabled,D=hn.disabled,k=x.colorModeForRenderPass(),B="$debug",V=x.style.map.terrain&&x.style.map.terrain.getTerrainData(f);m.activeTexture.set(y.TEXTURE0);let W=a.getTileByID(f.key).latestRawTileData,G=Math.floor((W&&W.byteLength||0)/1024),K=a.getTile(f).tileSize,ee=512/Math.min(K,512)*(f.overscaledZ/x.transform.zoom)*.5,pe=f.canonical.toString();f.overscaledZ!==f.canonical.z&&(pe+=` => ${f.overscaledZ}`),function(fe,ge){fe.initDebugOverlayCanvas();let Te=fe.debugOverlayCanvas,be=fe.context.gl,Ae=fe.debugOverlayCanvas.getContext("2d");Ae.clearRect(0,0,Te.width,Te.height),Ae.shadowColor="white",Ae.shadowBlur=2,Ae.lineWidth=1.5,Ae.strokeStyle="white",Ae.textBaseline="top",Ae.font="bold 36px Open Sans, sans-serif",Ae.fillText(ge,5,5),Ae.strokeText(ge,5,5),fe.debugOverlayTexture.update(Te),fe.debugOverlayTexture.bind(be.LINEAR,be.CLAMP_TO_EDGE)}(x,`${pe} ${G}kB`);let ce=x.transform.getProjectionData({overscaledTileID:f,applyGlobeMatrix:!0,applyTerrainMatrix:!0});w.draw(m,y.TRIANGLES,M,D,si.alphaBlended,_r.disabled,$p(o.bf.transparent,ee),null,ce,B,x.debugBuffer,x.quadTriangleIndexBuffer,x.debugSegments),w.draw(m,y.LINE_STRIP,M,D,k,_r.disabled,$p(o.bf.red),V,ce,B,x.debugBuffer,x.tileBorderIndexBuffer,x.debugSegments)}function ey(x,a,f,m){let{isRenderingGlobe:y}=m,w=x.context,M=w.gl,D=x.transform,k=x.colorModeForRenderPass(),B=x.getDepthModeFor3D(),V=x.useProgram("terrain");w.bindFramebuffer.set(null),w.viewport.set([0,0,x.width,x.height]);for(let W of f){let G=a.getTerrainMesh(W.tileID),K=x.renderToTexture.getTexture(W),ee=a.getTerrainData(W.tileID);w.activeTexture.set(M.TEXTURE0),M.bindTexture(M.TEXTURE_2D,K.texture);let pe=a.getMeshFrameDelta(D.zoom),ce=D.calculateFogMatrix(W.tileID.toUnwrapped()),fe=zv(pe,ce,x.style.sky,D.pitch,y),ge=D.getProjectionData({overscaledTileID:W.tileID,applyTerrainMatrix:!1,applyGlobeMatrix:!0});V.draw(w,M.TRIANGLES,B,hn.disabled,k,_r.backCCW,fe,ee,ge,"terrain",G.vertexBuffer,G.indexBuffer,G.segments)}}function Rm(x,a){if(!a.mesh){let f=new o.aL;f.emplaceBack(-1,-1),f.emplaceBack(1,-1),f.emplaceBack(1,1),f.emplaceBack(-1,1);let m=new o.aN;m.emplaceBack(0,1,2),m.emplaceBack(0,2,3),a.mesh=new zp(x.createVertexBuffer(f,Pc.members),x.createIndexBuffer(m),o.aM.simpleSegment(0,0,f.length,m.length))}return a.mesh}class IT{constructor(a,f){this.context=new _T(a),this.transform=f,this._tileTextures={},this.terrainFacilitator={dirty:!0,matrix:o.ag(new Float64Array(16)),renderTime:0},this.setup(),this.numSublayers=jt.maxUnderzooming+jt.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new cd}resize(a,f,m){if(this.width=Math.floor(a*m),this.height=Math.floor(f*m),this.pixelRatio=m,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(let y of this.style._order)this.style._layers[y].resize()}setup(){let a=this.context,f=new o.aL;f.emplaceBack(0,0),f.emplaceBack(o.$,0),f.emplaceBack(0,o.$),f.emplaceBack(o.$,o.$),this.tileExtentBuffer=a.createVertexBuffer(f,Pc.members),this.tileExtentSegments=o.aM.simpleSegment(0,0,4,2);let m=new o.aL;m.emplaceBack(0,0),m.emplaceBack(o.$,0),m.emplaceBack(0,o.$),m.emplaceBack(o.$,o.$),this.debugBuffer=a.createVertexBuffer(m,Pc.members),this.debugSegments=o.aM.simpleSegment(0,0,4,5);let y=new o.c6;y.emplaceBack(0,0,0,0),y.emplaceBack(o.$,0,o.$,0),y.emplaceBack(0,o.$,0,o.$),y.emplaceBack(o.$,o.$,o.$,o.$),this.rasterBoundsBuffer=a.createVertexBuffer(y,FR.members),this.rasterBoundsSegments=o.aM.simpleSegment(0,0,4,2);let w=new o.aL;w.emplaceBack(0,0),w.emplaceBack(o.$,0),w.emplaceBack(0,o.$),w.emplaceBack(o.$,o.$),this.rasterBoundsBufferPosOnly=a.createVertexBuffer(w,Pc.members),this.rasterBoundsSegmentsPosOnly=o.aM.simpleSegment(0,0,4,5);let M=new o.aL;M.emplaceBack(0,0),M.emplaceBack(1,0),M.emplaceBack(0,1),M.emplaceBack(1,1),this.viewportBuffer=a.createVertexBuffer(M,Pc.members),this.viewportSegments=o.aM.simpleSegment(0,0,4,2);let D=new o.c7;D.emplaceBack(0),D.emplaceBack(1),D.emplaceBack(3),D.emplaceBack(2),D.emplaceBack(0),this.tileBorderIndexBuffer=a.createIndexBuffer(D);let k=new o.aN;k.emplaceBack(1,0,2),k.emplaceBack(1,2,3),this.quadTriangleIndexBuffer=a.createIndexBuffer(k);let B=this.context.gl;this.stencilClearMode=new hn({func:B.ALWAYS,mask:0},0,255,B.ZERO,B.ZERO,B.ZERO),this.tileExtentMesh=new zp(this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}clearStencil(){let a=this.context,f=a.gl;this.nextStencilID=1,this.currentStencilSource=void 0;let m=o.L();o.bY(m,0,this.width,this.height,0,0,1),o.N(m,m,[f.drawingBufferWidth,f.drawingBufferHeight,0]);let y={mainMatrix:m,tileMercatorCoords:[0,0,1,1],clippingPlane:[0,0,0,0],projectionTransition:0,fallbackMatrix:m};this.useProgram("clippingMask",null,!0).draw(a,f.TRIANGLES,Rr.disabled,this.stencilClearMode,si.disabled,_r.disabled,null,null,y,"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(a,f,m){if(this.currentStencilSource===a.source||!a.isTileClipped()||!f||!f.length)return;this.currentStencilSource=a.source,this.nextStencilID+f.length>256&&this.clearStencil();let y=this.context;y.setColorMode(si.disabled),y.setDepthMode(Rr.disabled);let w={};for(let M of f)w[M.key]=this.nextStencilID++;this._renderTileMasks(w,f,m,!0),this._renderTileMasks(w,f,m,!1),this._tileClippingMaskIDs=w}_renderTileMasks(a,f,m,y){let w=this.context,M=w.gl,D=this.style.projection,k=this.transform,B=this.useProgram("clippingMask");for(let V of f){let W=a[V.key],G=this.style.map.terrain&&this.style.map.terrain.getTerrainData(V),K=D.getMeshFromTileID(this.context,V.canonical,y,!0,"stencil"),ee=k.getProjectionData({overscaledTileID:V,applyGlobeMatrix:!m,applyTerrainMatrix:!0});B.draw(w,M.TRIANGLES,Rr.disabled,new hn({func:M.ALWAYS,mask:0},W,255,M.KEEP,M.KEEP,M.REPLACE),si.disabled,m?_r.disabled:_r.backCCW,null,G,ee,"$clipping",K.vertexBuffer,K.indexBuffer,K.segments)}}_renderTilesDepthBuffer(){let a=this.context,f=a.gl,m=this.style.projection,y=this.transform,w=this.useProgram("depth"),M=this.getDepthModeFor3D(),D=ye(y,{tileSize:y.tileSize});for(let k of D){let B=this.style.map.terrain&&this.style.map.terrain.getTerrainData(k),V=m.getMeshFromTileID(this.context,k.canonical,!0,!0,"raster"),W=y.getProjectionData({overscaledTileID:k,applyGlobeMatrix:!0,applyTerrainMatrix:!0});w.draw(a,f.TRIANGLES,M,hn.disabled,si.disabled,_r.backCCW,null,B,W,"$clipping",V.vertexBuffer,V.indexBuffer,V.segments)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();let a=this.nextStencilID++,f=this.context.gl;return new hn({func:f.NOTEQUAL,mask:255},a,255,f.KEEP,f.KEEP,f.REPLACE)}stencilModeForClipping(a){let f=this.context.gl;return new hn({func:f.EQUAL,mask:255},this._tileClippingMaskIDs[a.key],0,f.KEEP,f.KEEP,f.REPLACE)}getStencilConfigForOverlapAndUpdateStencilID(a){let f=this.context.gl,m=a.sort((M,D)=>D.overscaledZ-M.overscaledZ),y=m[m.length-1].overscaledZ,w=m[0].overscaledZ-y+1;if(w>1){this.currentStencilSource=void 0,this.nextStencilID+w>256&&this.clearStencil();let M={};for(let D=0;D<w;D++)M[D+y]=new hn({func:f.GEQUAL,mask:255},D+this.nextStencilID,255,f.KEEP,f.KEEP,f.REPLACE);return this.nextStencilID+=w,[M,m]}return[{[y]:hn.disabled},m]}stencilConfigForOverlapTwoPass(a){let f=this.context.gl,m=a.sort((M,D)=>D.overscaledZ-M.overscaledZ),y=m[m.length-1].overscaledZ,w=m[0].overscaledZ-y+1;if(this.clearStencil(),w>1){let M={},D={};for(let k=0;k<w;k++)M[k+y]=new hn({func:f.GREATER,mask:255},w+1+k,255,f.KEEP,f.KEEP,f.REPLACE),D[k+y]=new hn({func:f.GREATER,mask:255},1+k,255,f.KEEP,f.KEEP,f.REPLACE);return this.nextStencilID=2*w+1,[M,D,m]}return this.nextStencilID=3,[{[y]:new hn({func:f.GREATER,mask:255},2,255,f.KEEP,f.KEEP,f.REPLACE)},{[y]:new hn({func:f.GREATER,mask:255},1,255,f.KEEP,f.KEEP,f.REPLACE)},m]}colorModeForRenderPass(){let a=this.context.gl;return this._showOverdrawInspector?new si([a.CONSTANT_COLOR,a.ONE],new o.bf(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?si.unblended:si.alphaBlended}getDepthModeForSublayer(a,f,m){if(!this.opaquePassEnabledForLayer())return Rr.disabled;let y=1-((1+this.currentLayer)*this.numSublayers+a)*this.depthEpsilon;return new Rr(m||this.context.gl.LEQUAL,f,[y,y])}getDepthModeFor3D(){return new Rr(this.context.gl.LEQUAL,Rr.ReadWrite,this.depthRangeFor3D)}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(a,f){var m,y;this.style=a,this.options=f,this.lineAtlas=a.lineAtlas,this.imageManager=a.imageManager,this.glyphManager=a.glyphManager,this.symbolFadeChange=a.placement.symbolFadeChange(I.now()),this.imageManager.beginFrame();let w=this.style._order,M=this.style.sourceCaches,D={},k={},B={},V={isRenderingToTexture:!1,isRenderingGlobe:((m=a.projection)===null||m===void 0?void 0:m.transitionState)>0};for(let G in M){let K=M[G];K.used&&K.prepare(this.context),D[G]=K.getVisibleCoordinates(!1),k[G]=D[G].slice().reverse(),B[G]=K.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let G=0;G<w.length;G++)if(this.style._layers[w[G]].is3D()){this.opaquePassCutoff=G;break}this.maybeDrawDepthAndCoords(!1),this.renderToTexture&&(this.renderToTexture.prepareForRender(this.style,this.transform.zoom),this.opaquePassCutoff=0),this.renderPass="offscreen";for(let G of w){let K=this.style._layers[G];if(!K.hasOffscreenPass()||K.isHidden(this.transform.zoom))continue;let ee=k[K.source];(K.type==="custom"||ee.length)&&this.renderLayer(this,M[K.source],K,ee,V)}if((y=this.style.projection)===null||y===void 0||y.updateGPUdependent({context:this.context,useProgram:G=>this.useProgram(G)}),this.context.viewport.set([0,0,this.width,this.height]),this.context.bindFramebuffer.set(null),this.context.clear({color:f.showOverdrawInspector?o.bf.black:o.bf.transparent,depth:1}),this.clearStencil(),this.style.sky&&function(G,K){let ee=G.context,pe=ee.gl,ce=((Ne,Se,Ve)=>{let et=Math.cos(Se.rollInRadians),He=Math.sin(Se.rollInRadians),Ze=ke(Se),Qe=Se.getProjectionData({overscaledTileID:null,applyGlobeMatrix:!0,applyTerrainMatrix:!0}).projectionTransition;return{u_sky_color:Ne.properties.get("sky-color"),u_horizon_color:Ne.properties.get("horizon-color"),u_horizon:[(Se.width/2-Ze*He)*Ve,(Se.height/2+Ze*et)*Ve],u_horizon_normal:[-He,et],u_sky_horizon_blend:Ne.properties.get("sky-horizon-blend")*Se.height/2*Ve,u_sky_blend:Qe}})(K,G.style.map.transform,G.pixelRatio),fe=new Rr(pe.LEQUAL,Rr.ReadWrite,[0,1]),ge=hn.disabled,Te=G.colorModeForRenderPass(),be=G.useProgram("sky"),Ae=Rm(ee,K);be.draw(ee,pe.TRIANGLES,fe,ge,Te,_r.disabled,ce,null,void 0,"sky",Ae.vertexBuffer,Ae.indexBuffer,Ae.segments)}(this,this.style.sky),this._showOverdrawInspector=f.showOverdrawInspector,this.depthRangeFor3D=[0,1-(a._order.length+2)*this.numSublayers*this.depthEpsilon],!this.renderToTexture)for(this.renderPass="opaque",this.currentLayer=w.length-1;this.currentLayer>=0;this.currentLayer--){let G=this.style._layers[w[this.currentLayer]],K=M[G.source],ee=D[G.source];this._renderTileClippingMasks(G,ee,!1),this.renderLayer(this,K,G,ee,V)}this.renderPass="translucent";let W=!1;for(this.currentLayer=0;this.currentLayer<w.length;this.currentLayer++){let G=this.style._layers[w[this.currentLayer]],K=M[G.source];if(this.renderToTexture&&this.renderToTexture.renderLayer(G,V))continue;this.opaquePassEnabledForLayer()||W||(W=!0,V.isRenderingGlobe&&!this.style.map.terrain&&this._renderTilesDepthBuffer());let ee=(G.type==="symbol"?B:k)[G.source];this._renderTileClippingMasks(G,D[G.source],!!this.renderToTexture),this.renderLayer(this,K,G,ee,V)}if(V.isRenderingGlobe&&function(G,K,ee){let pe=G.context,ce=pe.gl,fe=G.useProgram("atmosphere"),ge=new Rr(ce.LEQUAL,Rr.ReadOnly,[0,1]),Te=G.transform,be=function(Qe,Tt){let At=Qe.properties.get("position"),dt=[-At.x,-At.y,-At.z],tr=o.ag(new Float64Array(16));return Qe.properties.get("anchor")==="map"&&(o.b6(tr,tr,Tt.rollInRadians),o.b7(tr,tr,-Tt.pitchInRadians),o.b6(tr,tr,Tt.bearingInRadians),o.b7(tr,tr,Tt.center.lat*Math.PI/180),o.bz(tr,tr,-Tt.center.lng*Math.PI/180)),o.c5(dt,dt,tr),dt}(ee,G.transform),Ae=Te.getProjectionData({overscaledTileID:null,applyGlobeMatrix:!0,applyTerrainMatrix:!0}),Ne=K.properties.get("atmosphere-blend")*Ae.projectionTransition;if(Ne===0)return;let Se=fd(Te.worldSize,Te.center.lat),Ve=Te.inverseProjectionMatrix,et=new Float64Array(4);et[3]=1,o.aw(et,et,Te.modelViewProjectionMatrix),et[0]/=et[3],et[1]/=et[3],et[2]/=et[3],et[3]=1,o.aw(et,et,Ve),et[0]/=et[3],et[1]/=et[3],et[2]/=et[3],et[3]=1;let He=((Qe,Tt,At,dt,tr)=>({u_sun_pos:Qe,u_atmosphere_blend:Tt,u_globe_position:At,u_globe_radius:dt,u_inv_proj_matrix:tr}))(be,Ne,[et[0],et[1],et[2]],Se,Ve),Ze=Rm(pe,K);fe.draw(pe,ce.TRIANGLES,ge,hn.disabled,si.alphaBlended,_r.disabled,He,null,null,"atmosphere",Ze.vertexBuffer,Ze.indexBuffer,Ze.segments)}(this,this.style.sky,this.style.light),this.options.showTileBoundaries){let G=function(K,ee){let pe=null,ce=Object.values(K._layers).flatMap(be=>be.source&&!be.isHidden(ee)?[K.sourceCaches[be.source]]:[]),fe=ce.filter(be=>be.getSource().type==="vector"),ge=ce.filter(be=>be.getSource().type!=="vector"),Te=be=>{(!pe||pe.getSource().maxzoom<be.getSource().maxzoom)&&(pe=be)};return fe.forEach(be=>Te(be)),pe||ge.forEach(be=>Te(be)),pe}(this.style,this.transform.zoom);G&&function(K,ee,pe){for(let ce=0;ce<pe.length;ce++)As(K,ee,pe[ce])}(this,G,G.getVisibleCoordinates())}this.options.showPadding&&function(G){let K=G.transform.padding;Ob(G,G.transform.height-(K.top||0),3,ST),Ob(G,K.bottom||0,3,ET),wi(G,K.left||0,3,Jv),wi(G,G.transform.width-(K.right||0),3,Pb);let ee=G.transform.centerPoint;(function(pe,ce,fe,ge){Bl(pe,ce-1,fe-10,2,20,ge),Bl(pe,ce-10,fe-1,20,2,ge)})(G,ee.x,G.transform.height-ee.y,rL)}(this),this.context.setDefault()}maybeDrawDepthAndCoords(a){if(!this.style||!this.style.map||!this.style.map.terrain)return;let f=this.terrainFacilitator.matrix,m=this.transform.modelViewProjectionMatrix,y=this.terrainFacilitator.dirty;y||(y=a?!o.c8(f,m):!o.c9(f,m)),y||(y=this.style.map.terrain.sourceCache.anyTilesAfterTime(this.terrainFacilitator.renderTime)),y&&(o.ca(f,m),this.terrainFacilitator.renderTime=Date.now(),this.terrainFacilitator.dirty=!1,function(w,M){let D=w.context,k=D.gl,B=w.transform,V=si.unblended,W=new Rr(k.LEQUAL,Rr.ReadWrite,[0,1]),G=M.sourceCache.getRenderableTiles(),K=w.useProgram("terrainDepth");D.bindFramebuffer.set(M.getFramebuffer("depth").framebuffer),D.viewport.set([0,0,w.width/devicePixelRatio,w.height/devicePixelRatio]),D.clear({color:o.bf.transparent,depth:1});for(let ee of G){let pe=M.getTerrainMesh(ee.tileID),ce=M.getTerrainData(ee.tileID),fe=B.getProjectionData({overscaledTileID:ee.tileID,applyTerrainMatrix:!1,applyGlobeMatrix:!0}),ge={u_ele_delta:M.getMeshFrameDelta(B.zoom)};K.draw(D,k.TRIANGLES,W,hn.disabled,V,_r.backCCW,ge,ce,fe,"terrain",pe.vertexBuffer,pe.indexBuffer,pe.segments)}D.bindFramebuffer.set(null),D.viewport.set([0,0,w.width,w.height])}(this,this.style.map.terrain),function(w,M){let D=w.context,k=D.gl,B=w.transform,V=si.unblended,W=new Rr(k.LEQUAL,Rr.ReadWrite,[0,1]),G=M.getCoordsTexture(),K=M.sourceCache.getRenderableTiles(),ee=w.useProgram("terrainCoords");D.bindFramebuffer.set(M.getFramebuffer("coords").framebuffer),D.viewport.set([0,0,w.width/devicePixelRatio,w.height/devicePixelRatio]),D.clear({color:o.bf.transparent,depth:1}),M.coordsIndex=[];for(let pe of K){let ce=M.getTerrainMesh(pe.tileID),fe=M.getTerrainData(pe.tileID);D.activeTexture.set(k.TEXTURE0),k.bindTexture(k.TEXTURE_2D,G.texture);let ge={u_terrain_coords_id:(255-M.coordsIndex.length)/255,u_texture:0,u_ele_delta:M.getMeshFrameDelta(B.zoom)},Te=B.getProjectionData({overscaledTileID:pe.tileID,applyTerrainMatrix:!1,applyGlobeMatrix:!0});ee.draw(D,k.TRIANGLES,W,hn.disabled,V,_r.backCCW,ge,fe,Te,"terrain",ce.vertexBuffer,ce.indexBuffer,ce.segments),M.coordsIndex.push(pe.tileID.key)}D.bindFramebuffer.set(null),D.viewport.set([0,0,w.width,w.height])}(this,this.style.map.terrain))}renderLayer(a,f,m,y,w){m.isHidden(this.transform.zoom)||(m.type==="background"||m.type==="custom"||(y||[]).length)&&(this.id=m.id,o.cb(m)?function(M,D,k,B,V,W){if(M.renderPass!=="translucent")return;let{isRenderingToTexture:G}=W,K=hn.disabled,ee=M.colorModeForRenderPass();(k._unevaluatedLayout.hasValue("text-variable-anchor")||k._unevaluatedLayout.hasValue("text-variable-anchor-offset"))&&function(pe,ce,fe,ge,Te,be,Ae,Ne,Se){let Ve=ce.transform,et=ce.style.map.terrain,He=Te==="map",Ze=be==="map";for(let Qe of pe){let Tt=ge.getTile(Qe),At=Tt.getBucket(fe);if(!At||!At.text||!At.text.segments.get().length)continue;let dt=o.an(At.textSizeData,Ve.zoom),tr=o.aC(Tt,1,ce.transform.zoom),Fr=on(He,ce.transform,tr),En=fe.layout.get("icon-text-fit")!=="none"&&At.hasIconData();if(dt){let Vn=Math.pow(2,Ve.zoom-Tt.tileID.overscaledZ),zn=et?(mi,Si)=>et.getElevation(Qe,mi,Si):null;Ib(At,He,Ze,Se,Ve,Fr,Vn,dt,En,o.aD(Ve,Tt,Ae,Ne),Qe.toUnwrapped(),zn)}}}(B,M,k,D,k.layout.get("text-rotation-alignment"),k.layout.get("text-pitch-alignment"),k.paint.get("text-translate"),k.paint.get("text-translate-anchor"),V),k.paint.get("icon-opacity").constantOr(1)!==0&&Pm(M,D,k,B,!1,k.paint.get("icon-translate"),k.paint.get("icon-translate-anchor"),k.layout.get("icon-rotation-alignment"),k.layout.get("icon-pitch-alignment"),k.layout.get("icon-keep-upright"),K,ee,G),k.paint.get("text-opacity").constantOr(1)!==0&&Pm(M,D,k,B,!0,k.paint.get("text-translate"),k.paint.get("text-translate-anchor"),k.layout.get("text-rotation-alignment"),k.layout.get("text-pitch-alignment"),k.layout.get("text-keep-upright"),K,ee,G),D.map.showCollisionBoxes&&(bT(M,D,k,B,!0),bT(M,D,k,B,!1))}(a,f,m,y,this.style.placement.variableOffsets,w):o.cc(m)?function(M,D,k,B,V){if(M.renderPass!=="translucent")return;let{isRenderingToTexture:W}=V,G=k.paint.get("circle-opacity"),K=k.paint.get("circle-stroke-width"),ee=k.paint.get("circle-stroke-opacity"),pe=!k.layout.get("circle-sort-key").isConstant();if(G.constantOr(1)===0&&(K.constantOr(1)===0||ee.constantOr(1)===0))return;let ce=M.context,fe=ce.gl,ge=M.transform,Te=M.getDepthModeForSublayer(0,Rr.ReadOnly),be=hn.disabled,Ae=M.colorModeForRenderPass(),Ne=[],Se=ge.getCircleRadiusCorrection();for(let Ve=0;Ve<B.length;Ve++){let et=B[Ve],He=D.getTile(et),Ze=He.getBucket(k);if(!Ze)continue;let Qe=k.paint.get("circle-translate"),Tt=k.paint.get("circle-translate-anchor"),At=o.aD(ge,He,Qe,Tt),dt=Ze.programConfigurations.get(k.id),tr=M.useProgram("circle",dt),Fr=Ze.layoutVertexBuffer,En=Ze.indexBuffer,Vn=M.style.map.terrain&&M.style.map.terrain.getTerrainData(et),zn={programConfiguration:dt,program:tr,layoutVertexBuffer:Fr,indexBuffer:En,uniformValues:VR(M,He,k,At,Se),terrainData:Vn,projectionData:ge.getProjectionData({overscaledTileID:et,applyGlobeMatrix:!W,applyTerrainMatrix:!0})};if(pe){let mi=Ze.segments.get();for(let Si of mi)Ne.push({segments:new o.aM([Si]),sortKey:Si.sortKey,state:zn})}else Ne.push({segments:Ze.segments,sortKey:0,state:zn})}pe&&Ne.sort((Ve,et)=>Ve.sortKey-et.sortKey);for(let Ve of Ne){let{programConfiguration:et,program:He,layoutVertexBuffer:Ze,indexBuffer:Qe,uniformValues:Tt,terrainData:At,projectionData:dt}=Ve.state;He.draw(ce,fe.TRIANGLES,Te,be,Ae,_r.backCCW,Tt,At,dt,k.id,Ze,Qe,Ve.segments,k.paint,M.transform.zoom,et)}}(a,f,m,y,w):o.cd(m)?function(M,D,k,B,V){if(k.paint.get("heatmap-opacity")===0)return;let W=M.context,{isRenderingToTexture:G,isRenderingGlobe:K}=V;if(M.style.map.terrain){for(let ee of B){let pe=D.getTile(ee);D.hasRenderableParent(ee)||(M.renderPass==="offscreen"?Tb(M,pe,k,ee,K):M.renderPass==="translucent"&&wT(M,k,ee,G,K))}W.viewport.set([0,0,M.width,M.height])}else M.renderPass==="offscreen"?function(ee,pe,ce,fe){let ge=ee.context,Te=ge.gl,be=ee.transform,Ae=hn.disabled,Ne=new si([Te.ONE,Te.ONE],o.bf.transparent,[!0,!0,!0,!0]);(function(Se,Ve,et){let He=Se.gl;Se.activeTexture.set(He.TEXTURE1),Se.viewport.set([0,0,Ve.width/4,Ve.height/4]);let Ze=et.heatmapFbos.get(o.c2);Ze?(He.bindTexture(He.TEXTURE_2D,Ze.colorAttachment.get()),Se.bindFramebuffer.set(Ze.framebuffer)):(Ze=Dm(Se,Ve.width/4,Ve.height/4),et.heatmapFbos.set(o.c2,Ze))})(ge,ee,ce),ge.clear({color:o.bf.transparent});for(let Se=0;Se<fe.length;Se++){let Ve=fe[Se];if(pe.hasRenderableParent(Ve))continue;let et=pe.getTile(Ve),He=et.getBucket(ce);if(!He)continue;let Ze=He.programConfigurations.get(ce.id),Qe=ee.useProgram("heatmap",Ze),Tt=be.getProjectionData({overscaledTileID:Ve,applyGlobeMatrix:!0,applyTerrainMatrix:!1}),At=be.getCircleRadiusCorrection();Qe.draw(ge,Te.TRIANGLES,Rr.disabled,Ae,Ne,_r.backCCW,nT(et,be.zoom,ce.paint.get("heatmap-intensity"),At),null,Tt,ce.id,He.layoutVertexBuffer,He.indexBuffer,He.segments,ce.paint,be.zoom,Ze)}ge.viewport.set([0,0,ee.width,ee.height])}(M,D,k,B):M.renderPass==="translucent"&&function(ee,pe){let ce=ee.context,fe=ce.gl;ce.setColorMode(ee.colorModeForRenderPass());let ge=pe.heatmapFbos.get(o.c2);ge&&(ce.activeTexture.set(fe.TEXTURE0),fe.bindTexture(fe.TEXTURE_2D,ge.colorAttachment.get()),ce.activeTexture.set(fe.TEXTURE1),km(ce,pe).bind(fe.LINEAR,fe.CLAMP_TO_EDGE),ee.useProgram("heatmapTexture").draw(ce,fe.TRIANGLES,Rr.disabled,hn.disabled,ee.colorModeForRenderPass(),_r.disabled,fb(ee,pe,0,1),null,null,pe.id,ee.viewportBuffer,ee.quadTriangleIndexBuffer,ee.viewportSegments,pe.paint,ee.transform.zoom))}(M,k)}(a,f,m,y,w):o.ce(m)?function(M,D,k,B,V){if(M.renderPass!=="translucent")return;let{isRenderingToTexture:W}=V,G=k.paint.get("line-opacity"),K=k.paint.get("line-width");if(G.constantOr(1)===0||K.constantOr(1)===0)return;let ee=M.getDepthModeForSublayer(0,Rr.ReadOnly),pe=M.colorModeForRenderPass(),ce=k.paint.get("line-dasharray"),fe=k.paint.get("line-pattern"),ge=fe.constantOr(1),Te=k.paint.get("line-gradient"),be=k.getCrossfadeParameters(),Ae=ge?"linePattern":ce?"lineSDF":Te?"lineGradient":"line",Ne=M.context,Se=Ne.gl,Ve=M.transform,et=!0;for(let He of B){let Ze=D.getTile(He);if(ge&&!Ze.patternsLoaded())continue;let Qe=Ze.getBucket(k);if(!Qe)continue;let Tt=Qe.programConfigurations.get(k.id),At=M.context.program.get(),dt=M.useProgram(Ae,Tt),tr=et||dt.program!==At,Fr=M.style.map.terrain&&M.style.map.terrain.getTerrainData(He),En=fe.constantOr(null);if(En&&Ze.imageAtlas){let zr=Ze.imageAtlas,$n=zr.patternPositions[En.to.toString()],Vi=zr.patternPositions[En.from.toString()];$n&&Vi&&Tt.setConstantPatternPositions($n,Vi)}let Vn=Ve.getProjectionData({overscaledTileID:He,applyGlobeMatrix:!W,applyTerrainMatrix:!0}),zn=Ve.getPixelScale(),mi=ge?sT(M,Ze,k,zn,be):ce?Gp(M,Ze,k,zn,ce,be):Te?aT(M,Ze,k,zn,Qe.lineClipsArray.length):Uv(M,Ze,k,zn);if(ge)Ne.activeTexture.set(Se.TEXTURE0),Ze.imageAtlasTexture.bind(Se.LINEAR,Se.CLAMP_TO_EDGE),Tt.updatePaintBuffers(be);else if(ce&&(tr||M.lineAtlas.dirty))Ne.activeTexture.set(Se.TEXTURE0),M.lineAtlas.bind(Ne);else if(Te){let zr=Qe.gradients[k.id],$n=zr.texture;if(k.gradientVersion!==zr.version){let Vi=256;if(k.stepInterpolant){let eo=D.getSource().maxzoom,ho=He.canonical.z===eo?Math.ceil(1<<M.transform.maxZoom-He.canonical.z):1;Vi=o.ah(o.c3(Qe.maxLineLength/o.$*1024*ho),256,Ne.maxTextureSize)}zr.gradient=o.c4({expression:k.gradientExpression(),evaluationKey:"lineProgress",resolution:Vi,image:zr.gradient||void 0,clips:Qe.lineClipsArray}),zr.texture?zr.texture.update(zr.gradient):zr.texture=new o.T(Ne,zr.gradient,Se.RGBA),zr.version=k.gradientVersion,$n=zr.texture}Ne.activeTexture.set(Se.TEXTURE0),$n.bind(k.stepInterpolant?Se.NEAREST:Se.LINEAR,Se.CLAMP_TO_EDGE)}let Si=M.stencilModeForClipping(He);dt.draw(Ne,Se.TRIANGLES,ee,Si,pe,_r.disabled,mi,Fr,Vn,k.id,Qe.layoutVertexBuffer,Qe.indexBuffer,Qe.segments,k.paint,M.transform.zoom,Tt,Qe.layoutVertexBuffer2),et=!1}}(a,f,m,y,w):o.cf(m)?function(M,D,k,B,V){let W=k.paint.get("fill-color"),G=k.paint.get("fill-opacity");if(G.constantOr(1)===0)return;let{isRenderingToTexture:K}=V,ee=M.colorModeForRenderPass(),pe=k.paint.get("fill-pattern"),ce=M.opaquePassEnabledForLayer()&&!pe.constantOr(1)&&W.constantOr(o.bf.transparent).a===1&&G.constantOr(0)===1?"opaque":"translucent";if(M.renderPass===ce){let fe=M.getDepthModeForSublayer(1,M.renderPass==="opaque"?Rr.ReadWrite:Rr.ReadOnly);Xv(M,D,k,B,fe,ee,!1,K)}if(M.renderPass==="translucent"&&k.paint.get("fill-antialias")){let fe=M.getDepthModeForSublayer(k.getPaintProperty("fill-outline-color")?2:0,Rr.ReadOnly);Xv(M,D,k,B,fe,ee,!0,K)}}(a,f,m,y,w):o.cg(m)?function(M,D,k,B,V){let W=k.paint.get("fill-extrusion-opacity");if(W===0)return;let{isRenderingToTexture:G}=V;if(M.renderPass==="translucent"){let K=new Rr(M.context.gl.LEQUAL,Rr.ReadWrite,M.depthRangeFor3D);if(W!==1||k.paint.get("fill-extrusion-pattern").constantOr(1))Mb(M,D,k,B,K,hn.disabled,si.disabled,G),Mb(M,D,k,B,K,M.stencilModeFor3D(),M.colorModeForRenderPass(),G);else{let ee=M.colorModeForRenderPass();Mb(M,D,k,B,K,hn.disabled,ee,G)}}}(a,f,m,y,w):o.ch(m)?function(M,D,k,B,V){if(M.renderPass!=="offscreen"&&M.renderPass!=="translucent")return;let{isRenderingToTexture:W}=V,G=M.context,K=M.style.projection.useSubdivision,ee=M.getDepthModeForSublayer(0,Rr.ReadOnly),pe=M.colorModeForRenderPass();if(M.renderPass==="offscreen")(function(ce,fe,ge,Te,be,Ae,Ne){let Se=ce.context,Ve=Se.gl;for(let et of ge){let He=fe.getTile(et),Ze=He.dem;if(!Ze||!Ze.data||!He.needsHillshadePrepare)continue;let Qe=Ze.dim,Tt=Ze.stride,At=Ze.getPixels();if(Se.activeTexture.set(Ve.TEXTURE1),Se.pixelStoreUnpackPremultiplyAlpha.set(!1),He.demTexture=He.demTexture||ce.getTileTexture(Tt),He.demTexture){let tr=He.demTexture;tr.update(At,{premultiply:!1}),tr.bind(Ve.NEAREST,Ve.CLAMP_TO_EDGE)}else He.demTexture=new o.T(Se,At,Ve.RGBA,{premultiply:!1}),He.demTexture.bind(Ve.NEAREST,Ve.CLAMP_TO_EDGE);Se.activeTexture.set(Ve.TEXTURE0);let dt=He.fbo;if(!dt){let tr=new o.T(Se,{width:Qe,height:Qe,data:null},Ve.RGBA);tr.bind(Ve.LINEAR,Ve.CLAMP_TO_EDGE),dt=He.fbo=Se.createFramebuffer(Qe,Qe,!0,!1),dt.colorAttachment.set(tr.texture)}Se.bindFramebuffer.set(dt.framebuffer),Se.viewport.set([0,0,Qe,Qe]),ce.useProgram("hillshadePrepare").draw(Se,Ve.TRIANGLES,be,Ae,Ne,_r.disabled,iT(He.tileID,Ze),null,null,Te.id,ce.rasterBoundsBuffer,ce.quadTriangleIndexBuffer,ce.rasterBoundsSegments),He.needsHillshadePrepare=!1}})(M,D,B,k,ee,hn.disabled,pe),G.viewport.set([0,0,M.width,M.height]);else if(M.renderPass==="translucent")if(K){let[ce,fe,ge]=M.stencilConfigForOverlapTwoPass(B);Yp(M,D,k,ge,ce,ee,pe,!1,W),Yp(M,D,k,ge,fe,ee,pe,!0,W)}else{let[ce,fe]=M.getStencilConfigForOverlapAndUpdateStencilID(B);Yp(M,D,k,fe,ce,ee,pe,!1,W)}}(a,f,m,y,w):o.ci(m)?function(M,D,k,B,V){if(M.renderPass!=="translucent"||!B.length)return;let{isRenderingToTexture:W}=V,G=M.style.projection.useSubdivision,K=M.getDepthModeForSublayer(0,Rr.ReadOnly),ee=M.colorModeForRenderPass();if(G){let[pe,ce,fe]=M.stencilConfigForOverlapTwoPass(B);Cb(M,D,k,fe,pe,K,ee,!1,W),Cb(M,D,k,fe,ce,K,ee,!0,W)}else{let[pe,ce]=M.getStencilConfigForOverlapAndUpdateStencilID(B);Cb(M,D,k,ce,pe,K,ee,!1,W)}}(a,f,m,y,w):o.cj(m)?function(M,D,k,B,V){if(M.renderPass!=="translucent"||k.paint.get("raster-opacity")===0||!B.length)return;let{isRenderingToTexture:W}=V,G=D.getSource(),K=M.style.projection.useSubdivision;if(G instanceof Xt)Kp(M,D,k,B,null,!1,!1,G.tileCoords,G.flippedWindingOrder,W);else if(K){let[ee,pe,ce]=M.stencilConfigForOverlapTwoPass(B);Kp(M,D,k,ce,ee,!1,!0,Qv,!1,W),Kp(M,D,k,ce,pe,!0,!0,Qv,!1,W)}else{let[ee,pe]=M.getStencilConfigForOverlapAndUpdateStencilID(B);Kp(M,D,k,pe,ee,!1,!0,Qv,!1,W)}}(a,f,m,y,w):o.ck(m)?function(M,D,k,B,V){let W=k.paint.get("background-color"),G=k.paint.get("background-opacity");if(G===0)return;let{isRenderingToTexture:K}=V,ee=M.context,pe=ee.gl,ce=M.style.projection,fe=M.transform,ge=fe.tileSize,Te=k.paint.get("background-pattern");if(M.isPatternMissing(Te))return;let be=!Te&&W.a===1&&G===1&&M.opaquePassEnabledForLayer()?"opaque":"translucent";if(M.renderPass!==be)return;let Ae=hn.disabled,Ne=M.getDepthModeForSublayer(0,be==="opaque"?Rr.ReadWrite:Rr.ReadOnly),Se=M.colorModeForRenderPass(),Ve=M.useProgram(Te?"backgroundPattern":"background"),et=B||ye(fe,{tileSize:ge,terrain:M.style.map.terrain});Te&&(ee.activeTexture.set(pe.TEXTURE0),M.imageManager.bind(M.context));let He=k.getCrossfadeParameters();for(let Ze of et){let Qe=fe.getProjectionData({overscaledTileID:Ze,applyGlobeMatrix:!K,applyTerrainMatrix:!0}),Tt=Te?cT(G,M,Te,{tileID:Ze,tileSize:ge},He):uT(G,W),At=M.style.map.terrain&&M.style.map.terrain.getTerrainData(Ze),dt=ce.getMeshFromTileID(ee,Ze.canonical,!1,!0,"raster");Ve.draw(ee,pe.TRIANGLES,Ne,Ae,Se,_r.backCCW,Tt,At,Qe,k.id,dt.vertexBuffer,dt.indexBuffer,dt.segments)}}(a,0,m,y,w):o.cl(m)&&function(M,D,k,B){let{isRenderingGlobe:V}=B,W=M.context,G=k.implementation,K=M.style.projection,ee=M.transform,pe=ee.getProjectionDataForCustomLayer(V),ce={farZ:ee.farZ,nearZ:ee.nearZ,fov:ee.fov*Math.PI/180,modelViewProjectionMatrix:ee.modelViewProjectionMatrix,projectionMatrix:ee.projectionMatrix,shaderData:{variantName:K.shaderVariantName,vertexShaderPrelude:`const float PI = 3.141592653589793;
uniform mat4 u_projection_matrix;
${K.shaderPreludeCode.vertexSource}`,define:K.shaderDefine},defaultProjectionData:pe},fe=G.renderingMode?G.renderingMode:"2d";if(M.renderPass==="offscreen"){let ge=G.prerender;ge&&(M.setCustomLayerDefaults(),W.setColorMode(M.colorModeForRenderPass()),ge.call(G,W.gl,ce),W.setDirty(),M.setBaseState())}else if(M.renderPass==="translucent"){M.setCustomLayerDefaults(),W.setColorMode(M.colorModeForRenderPass()),W.setStencilMode(hn.disabled);let ge=fe==="3d"?M.getDepthModeFor3D():M.getDepthModeForSublayer(0,Rr.ReadOnly);W.setDepthMode(ge),G.render(W.gl,ce),W.setDirty(),M.setBaseState(),W.bindFramebuffer.set(null)}}(a,0,m,w))}saveTileTexture(a){let f=this._tileTextures[a.size[0]];f?f.push(a):this._tileTextures[a.size[0]]=[a]}getTileTexture(a){let f=this._tileTextures[a];return f&&f.length>0?f.pop():null}isPatternMissing(a){if(!a)return!1;if(!a.from||!a.to)return!0;let f=this.imageManager.getPattern(a.from.toString()),m=this.imageManager.getPattern(a.to.toString());return!f||!m}useProgram(a,f,m=!1,y=[]){this.cache=this.cache||{};let w=!!this.style.map.terrain,M=this.style.projection,D=m?ol.projectionMercator:M.shaderPreludeCode,k=m?Tu:M.shaderDefine,B=a+(f?f.cacheKey:"")+`/${m?jp:M.shaderVariantName}`+(this._showOverdrawInspector?"/overdraw":"")+(w?"/terrain":"")+(y?`/${y.join("/")}`:"");return this.cache[B]||(this.cache[B]=new pb(this.context,ol[a],f,vb[a],this._showOverdrawInspector,w,D,k,y)),this.cache[B]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){let a=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(a.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new o.T(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}overLimit(){let{drawingBufferWidth:a,drawingBufferHeight:f}=this.context.gl;return this.width!==a||this.height!==f}}function Xp(x,a){let f,m=!1,y=null,w=null,M=()=>{y=null,m&&(x.apply(w,f),y=setTimeout(M,a),m=!1)};return(...D)=>(m=!0,w=this,f=D,y||M(),y)}class ty{constructor(a){this._getCurrentHash=()=>{let f=window.location.hash.replace("#","");if(this._hashName){let m;return f.split("&").map(y=>y.split("=")).forEach(y=>{y[0]===this._hashName&&(m=y)}),(m&&m[1]||"").split("/")}return f.split("/")},this._onHashChange=()=>{let f=this._getCurrentHash();if(!this._isValidHash(f))return!1;let m=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(f[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+f[2],+f[1]],zoom:+f[0],bearing:m,pitch:+(f[4]||0)}),!0},this._updateHashUnthrottled=()=>{let f=window.location.href.replace(/(#.*)?$/,this.getHashString());window.history.replaceState(window.history.state,null,f)},this._removeHash=()=>{let f=this._getCurrentHash();if(f.length===0)return;let m=f.join("/"),y=m;y.split("&").length>0&&(y=y.split("&")[0]),this._hashName&&(y=`${this._hashName}=${m}`);let w=window.location.hash.replace(y,"");w.startsWith("#&")?w=w.slice(0,1)+w.slice(2):w==="#"&&(w="");let M=window.location.href.replace(/(#.+)?$/,w);M=M.replace("&&","&"),window.history.replaceState(window.history.state,null,M)},this._updateHash=Xp(this._updateHashUnthrottled,300),this._hashName=a&&encodeURIComponent(a)}addTo(a){return this._map=a,addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),this._removeHash(),delete this._map,this}getHashString(a){let f=this._map.getCenter(),m=Math.round(100*this._map.getZoom())/100,y=Math.ceil((m*Math.LN2+Math.log(512/360/.5))/Math.LN10),w=Math.pow(10,y),M=Math.round(f.lng*w)/w,D=Math.round(f.lat*w)/w,k=this._map.getBearing(),B=this._map.getPitch(),V="";if(V+=a?`/${M}/${D}/${m}`:`${m}/${D}/${M}`,(k||B)&&(V+="/"+Math.round(10*k)/10),B&&(V+=`/${Math.round(B)}`),this._hashName){let W=this._hashName,G=!1,K=window.location.hash.slice(1).split("&").map(ee=>{let pe=ee.split("=")[0];return pe===W?(G=!0,`${pe}=${V}`):ee}).filter(ee=>ee);return G||K.push(`${W}=${V}`),`#${K.join("&")}`}return`#${V}`}_isValidHash(a){if(a.length<3||a.some(isNaN))return!1;try{new o.S(+a[2],+a[1])}catch(w){return!1}let f=+a[0],m=+(a[3]||0),y=+(a[4]||0);return f>=this._map.getMinZoom()&&f<=this._map.getMaxZoom()&&m>=-180&&m<=180&&y>=this._map.getMinPitch()&&y<=this._map.getMaxPitch()}}let Au={linearity:.3,easing:o.cm(0,0,.3,1)},Db=o.e({deceleration:2500,maxSpeed:1400},Au),TT=o.e({deceleration:20,maxSpeed:1400},Au),MT=o.e({deceleration:1e3,maxSpeed:360},Au),CT=o.e({deceleration:1e3,maxSpeed:90},Au),AT=o.e({deceleration:1e3,maxSpeed:360},Au);class PT{constructor(a){this._map=a,this.clear()}clear(){this._inertiaBuffer=[]}record(a){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:I.now(),settings:a})}_drainInertiaBuffer(){let a=this._inertiaBuffer,f=I.now();for(;a.length>0&&f-a[0].time>160;)a.shift()}_onMoveEnd(a){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;let f={zoom:0,bearing:0,pitch:0,roll:0,pan:new o.P(0,0),pinchAround:void 0,around:void 0};for(let{settings:w}of this._inertiaBuffer)f.zoom+=w.zoomDelta||0,f.bearing+=w.bearingDelta||0,f.pitch+=w.pitchDelta||0,f.roll+=w.rollDelta||0,w.panDelta&&f.pan._add(w.panDelta),w.around&&(f.around=w.around),w.pinchAround&&(f.pinchAround=w.pinchAround);let m=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,y={};if(f.pan.mag()){let w=gd(f.pan.mag(),m,o.e({},Db,a||{})),M=f.pan.mult(w.amount/f.pan.mag()),D=this._map.cameraHelper.handlePanInertia(M,this._map.transform);y.center=D.easingCenter,y.offset=D.easingOffset,ll(y,w)}if(f.zoom){let w=gd(f.zoom,m,TT);y.zoom=this._map.transform.zoom+w.amount,ll(y,w)}if(f.bearing){let w=gd(f.bearing,m,MT);y.bearing=this._map.transform.bearing+o.ah(w.amount,-179,179),ll(y,w)}if(f.pitch){let w=gd(f.pitch,m,CT);y.pitch=this._map.transform.pitch+w.amount,ll(y,w)}if(f.roll){let w=gd(f.roll,m,AT);y.roll=this._map.transform.roll+o.ah(w.amount,-179,179),ll(y,w)}if(y.zoom||y.bearing){let w=f.pinchAround===void 0?f.around:f.pinchAround;y.around=w?this._map.unproject(w):this._map.getCenter()}return this.clear(),o.e(y,{noMoveStart:!0})}}function ll(x,a){(!x.duration||x.duration<a.duration)&&(x.duration=a.duration,x.easing=a.easing)}function gd(x,a,f){let{maxSpeed:m,linearity:y,deceleration:w}=f,M=o.ah(x*y/(a/1e3),-m,m),D=Math.abs(M)/(w*y);return{easing:f.easing,duration:1e3*D,amount:M*(D/2)}}class Ra extends o.l{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(a,f,m,y={}){m=m instanceof MouseEvent?m:new MouseEvent(a,m);let w=T.mousePos(f.getCanvas(),m),M=f.unproject(w);super(a,o.e({point:w,lngLat:M,originalEvent:m},y)),this._defaultPrevented=!1,this.target=f}}class vd extends o.l{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(a,f,m){let y=a==="touchend"?m.changedTouches:m.touches,w=T.touchPos(f.getCanvasContainer(),y),M=w.map(k=>f.unproject(k)),D=w.reduce((k,B,V,W)=>k.add(B.div(W.length)),new o.P(0,0));super(a,{points:w,point:D,lngLats:M,lngLat:f.unproject(D),originalEvent:m}),this._defaultPrevented=!1}}class kb extends o.l{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(a,f,m){super(a,{originalEvent:m}),this._defaultPrevented=!1}}class OT{constructor(a,f){this._map=a,this._clickTolerance=f.clickTolerance}reset(){delete this._mousedownPos}wheel(a){return this._firePreventable(new kb(a.type,this._map,a))}mousedown(a,f){return this._mousedownPos=f,this._firePreventable(new Ra(a.type,this._map,a))}mouseup(a){this._map.fire(new Ra(a.type,this._map,a))}click(a,f){this._mousedownPos&&this._mousedownPos.dist(f)>=this._clickTolerance||this._map.fire(new Ra(a.type,this._map,a))}dblclick(a){return this._firePreventable(new Ra(a.type,this._map,a))}mouseover(a){this._map.fire(new Ra(a.type,this._map,a))}mouseout(a){this._map.fire(new Ra(a.type,this._map,a))}touchstart(a){return this._firePreventable(new vd(a.type,this._map,a))}touchmove(a){this._map.fire(new vd(a.type,this._map,a))}touchend(a){this._map.fire(new vd(a.type,this._map,a))}touchcancel(a){this._map.fire(new vd(a.type,this._map,a))}_firePreventable(a){if(this._map.fire(a),a.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class DT{constructor(a){this._map=a}reset(){this._delayContextMenu=!1,this._ignoreContextMenu=!0,delete this._contextMenuEvent}mousemove(a){this._map.fire(new Ra(a.type,this._map,a))}mousedown(){this._delayContextMenu=!0,this._ignoreContextMenu=!1}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Ra("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(a){this._delayContextMenu?this._contextMenuEvent=a:this._ignoreContextMenu||this._map.fire(new Ra(a.type,this._map,a)),this._map.listens("contextmenu")&&a.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class yd{constructor(a){this._map=a}get transform(){return this._map._requestedCameraState||this._map.transform}get center(){return{lng:this.transform.center.lng,lat:this.transform.center.lat}}get zoom(){return this.transform.zoom}get pitch(){return this.transform.pitch}get bearing(){return this.transform.bearing}unproject(a){return this.transform.screenPointToLocation(o.P.convert(a),this._map.terrain)}}class Nb{constructor(a,f){this._map=a,this._tr=new yd(a),this._el=a.getCanvasContainer(),this._container=a.getContainer(),this._clickTolerance=f.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(a,f){this.isEnabled()&&a.shiftKey&&a.button===0&&(T.disableDrag(),this._startPos=this._lastPos=f,this._active=!0)}mousemoveWindow(a,f){if(!this._active)return;let m=f;if(this._lastPos.equals(m)||!this._box&&m.dist(this._startPos)<this._clickTolerance)return;let y=this._startPos;this._lastPos=m,this._box||(this._box=T.create("div","maplibregl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair"),this._fireEvent("boxzoomstart",a));let w=Math.min(y.x,m.x),M=Math.max(y.x,m.x),D=Math.min(y.y,m.y),k=Math.max(y.y,m.y);T.setTransform(this._box,`translate(${w}px,${D}px)`),this._box.style.width=M-w+"px",this._box.style.height=k-D+"px"}mouseupWindow(a,f){if(!this._active||a.button!==0)return;let m=this._startPos,y=f;if(this.reset(),T.suppressClick(),m.x!==y.x||m.y!==y.y)return this._map.fire(new o.l("boxzoomend",{originalEvent:a})),{cameraAnimation:w=>w.fitScreenCoordinates(m,y,this._tr.bearing,{linear:!0})};this._fireEvent("boxzoomcancel",a)}keydown(a){this._active&&a.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",a))}reset(){this._active=!1,this._container.classList.remove("maplibregl-crosshair"),this._box&&(T.remove(this._box),this._box=null),T.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(a,f){return this._map.fire(new o.l(a,{originalEvent:f}))}}function _d(x,a){if(x.length!==a.length)throw new Error(`The number of touches and points are not equal - touches ${x.length}, points ${a.length}`);let f={};for(let m=0;m<x.length;m++)f[x[m].identifier]=a[m];return f}class kT{constructor(a){this.reset(),this.numTouches=a.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(a,f,m){(this.centroid||m.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=a.timeStamp),m.length===this.numTouches&&(this.centroid=function(y){let w=new o.P(0,0);for(let M of y)w._add(M);return w.div(y.length)}(f),this.touches=_d(m,f)))}touchmove(a,f,m){if(this.aborted||!this.centroid)return;let y=_d(m,f);for(let w in this.touches){let M=y[w];(!M||M.dist(this.touches[w])>30)&&(this.aborted=!0)}}touchend(a,f,m){if((!this.centroid||a.timeStamp-this.startTime>500)&&(this.aborted=!0),m.length===0){let y=!this.aborted&&this.centroid;if(this.reset(),y)return y}}}class La{constructor(a){this.singleTap=new kT(a),this.numTaps=a.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(a,f,m){this.singleTap.touchstart(a,f,m)}touchmove(a,f,m){this.singleTap.touchmove(a,f,m)}touchend(a,f,m){let y=this.singleTap.touchend(a,f,m);if(y){let w=a.timeStamp-this.lastTime<500,M=!this.lastTap||this.lastTap.dist(y)<30;if(w&&M||this.reset(),this.count++,this.lastTime=a.timeStamp,this.lastTap=y,this.count===this.numTaps)return this.reset(),y}}}class ul{constructor(a){this._tr=new yd(a),this._zoomIn=new La({numTouches:1,numTaps:2}),this._zoomOut=new La({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(a,f,m){this._zoomIn.touchstart(a,f,m),this._zoomOut.touchstart(a,f,m)}touchmove(a,f,m){this._zoomIn.touchmove(a,f,m),this._zoomOut.touchmove(a,f,m)}touchend(a,f,m){let y=this._zoomIn.touchend(a,f,m),w=this._zoomOut.touchend(a,f,m),M=this._tr;return y?(this._active=!0,a.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:D=>D.easeTo({duration:300,zoom:M.zoom+1,around:M.unproject(y)},{originalEvent:a})}):w?(this._active=!0,a.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:D=>D.easeTo({duration:300,zoom:M.zoom-1,around:M.unproject(w)},{originalEvent:a})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class bd{constructor(a){this._enabled=!!a.enable,this._moveStateManager=a.moveStateManager,this._clickTolerance=a.clickTolerance||1,this._moveFunction=a.move,this._activateOnStart=!!a.activateOnStart,a.assignEvents(this),this.reset()}reset(a){this._active=!1,this._moved=!1,delete this._lastPoint,this._moveStateManager.endMove(a)}_move(...a){let f=this._moveFunction(...a);if(f.bearingDelta||f.pitchDelta||f.rollDelta||f.around||f.panDelta)return this._active=!0,f}dragStart(a,f){this.isEnabled()&&!this._lastPoint&&this._moveStateManager.isValidStartEvent(a)&&(this._moveStateManager.startMove(a),this._lastPoint=Array.isArray(f)?f[0]:f,this._activateOnStart&&this._lastPoint&&(this._active=!0))}dragMove(a,f){if(!this.isEnabled())return;let m=this._lastPoint;if(!m)return;if(a.preventDefault(),!this._moveStateManager.isValidMoveEvent(a))return void this.reset(a);let y=Array.isArray(f)?f[0]:f;return!this._moved&&y.dist(m)<this._clickTolerance?void 0:(this._moved=!0,this._lastPoint=y,this._move(m,y))}dragEnd(a){this.isEnabled()&&this._lastPoint&&this._moveStateManager.isValidEndEvent(a)&&(this._moved&&T.suppressClick(),this.reset(a))}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}getClickTolerance(){return this._clickTolerance}}let cl=0,xd=2,nL={[cl]:1,[xd]:2};class Lm{constructor(a){this._correctEvent=a.checkCorrectEvent}startMove(a){let f=T.mouseButton(a);this._eventButton=f}endMove(a){delete this._eventButton}isValidStartEvent(a){return this._correctEvent(a)}isValidMoveEvent(a){return!function(f,m){let y=nL[m];return f.buttons===void 0||(f.buttons&y)!==y}(a,this._eventButton)}isValidEndEvent(a){return T.mouseButton(a)===this._eventButton}}class iL{constructor(){this._firstTouch=void 0}_isOneFingerTouch(a){return a.targetTouches.length===1}_isSameTouchEvent(a){return a.targetTouches[0].identifier===this._firstTouch}startMove(a){this._firstTouch=a.targetTouches[0].identifier}endMove(a){delete this._firstTouch}isValidStartEvent(a){return this._isOneFingerTouch(a)}isValidMoveEvent(a){return this._isOneFingerTouch(a)&&this._isSameTouchEvent(a)}isValidEndEvent(a){return this._isOneFingerTouch(a)&&this._isSameTouchEvent(a)}}class oL{constructor(a=new Lm({checkCorrectEvent:()=>!0}),f=new iL){this.mouseMoveStateManager=a,this.oneFingerTouchMoveStateManager=f}_executeRelevantHandler(a,f,m){return a instanceof MouseEvent?f(a):typeof TouchEvent!="undefined"&&a instanceof TouchEvent?m(a):void 0}startMove(a){this._executeRelevantHandler(a,f=>this.mouseMoveStateManager.startMove(f),f=>this.oneFingerTouchMoveStateManager.startMove(f))}endMove(a){this._executeRelevantHandler(a,f=>this.mouseMoveStateManager.endMove(f),f=>this.oneFingerTouchMoveStateManager.endMove(f))}isValidStartEvent(a){return this._executeRelevantHandler(a,f=>this.mouseMoveStateManager.isValidStartEvent(f),f=>this.oneFingerTouchMoveStateManager.isValidStartEvent(f))}isValidMoveEvent(a){return this._executeRelevantHandler(a,f=>this.mouseMoveStateManager.isValidMoveEvent(f),f=>this.oneFingerTouchMoveStateManager.isValidMoveEvent(f))}isValidEndEvent(a){return this._executeRelevantHandler(a,f=>this.mouseMoveStateManager.isValidEndEvent(f),f=>this.oneFingerTouchMoveStateManager.isValidEndEvent(f))}}let qm=x=>{x.mousedown=x.dragStart,x.mousemoveWindow=x.dragMove,x.mouseup=x.dragEnd,x.contextmenu=a=>{a.preventDefault()}};class zm{constructor(a,f){this._clickTolerance=a.clickTolerance||1,this._map=f,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new o.P(0,0)}_shouldBePrevented(a){return a<(this._map.cooperativeGestures.isEnabled()?2:1)}touchstart(a,f,m){return this._calculateTransform(a,f,m)}touchmove(a,f,m){if(this._active){if(!this._shouldBePrevented(m.length))return a.preventDefault(),this._calculateTransform(a,f,m);this._map.cooperativeGestures.notifyGestureBlocked("touch_pan",a)}}touchend(a,f,m){this._calculateTransform(a,f,m),this._active&&this._shouldBePrevented(m.length)&&this.reset()}touchcancel(){this.reset()}_calculateTransform(a,f,m){m.length>0&&(this._active=!0);let y=_d(m,f),w=new o.P(0,0),M=new o.P(0,0),D=0;for(let B in y){let V=y[B],W=this._touches[B];W&&(w._add(V),M._add(V.sub(W)),D++,y[B]=V)}if(this._touches=y,this._shouldBePrevented(D)||!M.mag())return;let k=M.div(D);return this._sum._add(k),this._sum.mag()<this._clickTolerance?void 0:{around:w.div(D),panDelta:k}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class pl{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}touchstart(a,f,m){this._firstTwoTouches||m.length<2||(this._firstTwoTouches=[m[0].identifier,m[1].identifier],this._start([f[0],f[1]]))}touchmove(a,f,m){if(!this._firstTwoTouches)return;a.preventDefault();let[y,w]=this._firstTwoTouches,M=Zt(m,f,y),D=Zt(m,f,w);if(!M||!D)return;let k=this._aroundCenter?null:M.add(D).div(2);return this._move([M,D],k,a)}touchend(a,f,m){if(!this._firstTwoTouches)return;let[y,w]=this._firstTwoTouches,M=Zt(m,f,y),D=Zt(m,f,w);M&&D||(this._active&&T.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(a){this._enabled=!0,this._aroundCenter=!!a&&a.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}}function Zt(x,a,f){for(let m=0;m<x.length;m++)if(x[m].identifier===f)return a[m]}function Rb(x,a){return Math.log(x/a)/Math.LN2}class ry extends pl{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(a){this._startDistance=this._distance=a[0].dist(a[1])}_move(a,f){let m=this._distance;if(this._distance=a[0].dist(a[1]),this._active||!(Math.abs(Rb(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Rb(this._distance,m),pinchAround:f}}}function Lb(x,a){return 180*x.angleWith(a)/Math.PI}class wd extends pl{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(a){this._startVector=this._vector=a[0].sub(a[1]),this._minDiameter=a[0].dist(a[1])}_move(a,f,m){let y=this._vector;if(this._vector=a[0].sub(a[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:Lb(this._vector,y),pinchAround:f}}_isBelowThreshold(a){this._minDiameter=Math.min(this._minDiameter,a.mag());let f=25/(Math.PI*this._minDiameter)*360,m=Lb(a,this._startVector);return Math.abs(m)<f}}function Qp(x){return Math.abs(x.y)>Math.abs(x.x)}class ny extends pl{constructor(a){super(),this._currentTouchCount=0,this._map=a}reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}touchstart(a,f,m){super.touchstart(a,f,m),this._currentTouchCount=m.length}_start(a){this._lastPoints=a,Qp(a[0].sub(a[1]))&&(this._valid=!1)}_move(a,f,m){if(this._map.cooperativeGestures.isEnabled()&&this._currentTouchCount<3)return;let y=a[0].sub(this._lastPoints[0]),w=a[1].sub(this._lastPoints[1]);return this._valid=this.gestureBeginsVertically(y,w,m.timeStamp),this._valid?(this._lastPoints=a,this._active=!0,{pitchDelta:(y.y+w.y)/2*-.5}):void 0}gestureBeginsVertically(a,f,m){if(this._valid!==void 0)return this._valid;let y=a.mag()>=2,w=f.mag()>=2;if(!y&&!w)return;if(!y||!w)return this._firstMove===void 0&&(this._firstMove=m),m-this._firstMove<100&&void 0;let M=a.y>0==f.y>0;return Qp(a)&&Qp(f)&&M}}let cn={panStep:100,bearingStep:15,pitchStep:10};class iy{constructor(a){this._tr=new yd(a);let f=cn;this._panStep=f.panStep,this._bearingStep=f.bearingStep,this._pitchStep=f.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(a){if(a.altKey||a.ctrlKey||a.metaKey)return;let f=0,m=0,y=0,w=0,M=0;switch(a.keyCode){case 61:case 107:case 171:case 187:f=1;break;case 189:case 109:case 173:f=-1;break;case 37:a.shiftKey?m=-1:(a.preventDefault(),w=-1);break;case 39:a.shiftKey?m=1:(a.preventDefault(),w=1);break;case 38:a.shiftKey?y=1:(a.preventDefault(),M=-1);break;case 40:a.shiftKey?y=-1:(a.preventDefault(),M=1);break;default:return}return this._rotationDisabled&&(m=0,y=0),{cameraAnimation:D=>{let k=this._tr;D.easeTo({duration:300,easeId:"keyboardHandler",easing:aL,zoom:f?Math.round(k.zoom)+f*(a.shiftKey?2:1):k.zoom,bearing:k.bearing+m*this._bearingStep,pitch:k.pitch+y*this._pitchStep,offset:[-w*this._panStep,-M*this._panStep],center:k.center},{originalEvent:a})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function aL(x){return x*(2-x)}let oy=4.000244140625,sL=1/450;class NT{constructor(a,f){this._onTimeout=m=>{this._type="wheel",this._delta-=this._lastValue,this._active||this._start(m)},this._map=a,this._tr=new yd(a),this._triggerRenderFrame=f,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=sL}setZoomRate(a){this._defaultZoomRate=a}setWheelZoomRate(a){this._wheelZoomRate=a}isEnabled(){return!!this._enabled}isActive(){return!!this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(a){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!a&&a.around==="center")}disable(){this.isEnabled()&&(this._enabled=!1)}_shouldBePrevented(a){return!!this._map.cooperativeGestures.isEnabled()&&!(a.ctrlKey||this._map.cooperativeGestures.isBypassed(a))}wheel(a){if(!this.isEnabled())return;if(this._shouldBePrevented(a))return void this._map.cooperativeGestures.notifyGestureBlocked("wheel_zoom",a);let f=a.deltaMode===WheelEvent.DOM_DELTA_LINE?40*a.deltaY:a.deltaY,m=I.now(),y=m-(this._lastWheelEventTime||0);this._lastWheelEventTime=m,f!==0&&f%oy==0?this._type="wheel":f!==0&&Math.abs(f)<4?this._type="trackpad":y>400?(this._type=null,this._lastValue=f,this._timeout=setTimeout(this._onTimeout,40,a)):this._type||(this._type=Math.abs(y*f)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,f+=this._lastValue)),a.shiftKey&&f&&(f/=4),this._type&&(this._lastWheelEvent=a,this._delta-=f,this._active||this._start(a)),a.preventDefault()}_start(a){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);let f=T.mousePos(this._map.getCanvas(),a),m=this._tr;this._aroundPoint=this._aroundCenter?m.transform.locationToScreenPoint(o.S.convert(m.center)):f,this._frameId||(this._frameId=!0,this._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;let a=this._tr.transform;if(typeof this._lastExpectedZoom=="number"){let D=a.zoom-this._lastExpectedZoom;typeof this._startZoom=="number"&&(this._startZoom+=D),typeof this._targetZoom=="number"&&(this._targetZoom+=D)}if(this._delta!==0){let D=this._type==="wheel"&&Math.abs(this._delta)>oy?this._wheelZoomRate:this._defaultZoomRate,k=2/(1+Math.exp(-Math.abs(this._delta*D)));this._delta<0&&k!==0&&(k=1/k);let B=typeof this._targetZoom!="number"?a.scale:o.af(this._targetZoom);this._targetZoom=a.getConstrained(a.getCameraLngLat(),o.ak(B*k)).zoom,this._type==="wheel"&&(this._startZoom=a.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}let f=typeof this._targetZoom!="number"?a.zoom:this._targetZoom,m=this._startZoom,y=this._easing,w,M=!1;if(this._type==="wheel"&&m&&y){let D=I.now()-this._lastWheelEventTime,k=Math.min((D+5)/200,1),B=y(k);w=o.C.number(m,f,B),k<1?this._frameId||(this._frameId=!0):M=!0}else w=f,M=!0;return this._active=!0,M&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._triggerRenderFrame(),delete this._targetZoom,delete this._lastExpectedZoom,delete this._finishTimeout},200)),this._lastExpectedZoom=w,{noInertia:!0,needsRenderFrame:!M,zoomDelta:w-a.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}_smoothOutEasing(a){let f=o.co;if(this._prevEase){let m=this._prevEase,y=(I.now()-m.start)/m.duration,w=m.easing(y+.01)-m.easing(y),M=.27/Math.sqrt(w*w+1e-4)*.01,D=Math.sqrt(.0729-M*M);f=o.cm(M,D,.25,1)}return this._prevEase={start:I.now(),duration:a,easing:f},f}reset(){this._active=!1,this._zooming=!1,delete this._targetZoom,delete this._lastExpectedZoom,this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout)}}class qb{constructor(a,f){this._clickZoom=a,this._tapZoom=f}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class zb{constructor(a){this._tr=new yd(a),this.reset()}reset(){this._active=!1}dblclick(a,f){return a.preventDefault(),{cameraAnimation:m=>{m.easeTo({duration:300,zoom:this._tr.zoom+(a.shiftKey?-1:1),around:this._tr.unproject(f)},{originalEvent:a})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class RT{constructor(){this._tap=new La({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,delete this._tapPoint,this._tap.reset()}touchstart(a,f,m){if(!this._swipePoint)if(this._tapTime){let y=f[0],w=a.timeStamp-this._tapTime<500,M=this._tapPoint.dist(y)<30;w&&M?m.length>0&&(this._swipePoint=y,this._swipeTouch=m[0].identifier):this.reset()}else this._tap.touchstart(a,f,m)}touchmove(a,f,m){if(this._tapTime){if(this._swipePoint){if(m[0].identifier!==this._swipeTouch)return;let y=f[0],w=y.y-this._swipePoint.y;return this._swipePoint=y,a.preventDefault(),this._active=!0,{zoomDelta:w/128}}}else this._tap.touchmove(a,f,m)}touchend(a,f,m){if(this._tapTime)this._swipePoint&&m.length===0&&this.reset();else{let y=this._tap.touchend(a,f,m);y&&(this._tapTime=a.timeStamp,this._tapPoint=y)}}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class LT{constructor(a,f,m){this._el=a,this._mousePan=f,this._touchPan=m}enable(a){this._inertiaOptions=a||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class jb{constructor(a,f,m,y){this._pitchWithRotate=a.pitchWithRotate,this._rollEnabled=a.rollEnabled,this._mouseRotate=f,this._mousePitch=m,this._mouseRoll=y}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable(),this._rollEnabled&&this._mouseRoll.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable(),this._mouseRoll.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())&&(!this._rollEnabled||this._mouseRoll.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()||this._mouseRoll.isActive()}}class qT{constructor(a,f,m,y){this._el=a,this._touchZoom=f,this._touchRotate=m,this._tapDragZoom=y,this._rotationDisabled=!1,this._enabled=!0}enable(a){this._touchZoom.enable(a),this._rotationDisabled||this._touchRotate.enable(a),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}class zT{constructor(a,f){this._bypassKey=navigator.userAgent.indexOf("Mac")!==-1?"metaKey":"ctrlKey",this._map=a,this._options=f,this._enabled=!1}isActive(){return!1}reset(){}_setupUI(){if(this._container)return;let a=this._map.getCanvasContainer();a.classList.add("maplibregl-cooperative-gestures"),this._container=T.create("div","maplibregl-cooperative-gesture-screen",a);let f=this._map._getUIString("CooperativeGesturesHandler.WindowsHelpText");this._bypassKey==="metaKey"&&(f=this._map._getUIString("CooperativeGesturesHandler.MacHelpText"));let m=this._map._getUIString("CooperativeGesturesHandler.MobileHelpText"),y=document.createElement("div");y.className="maplibregl-desktop-message",y.textContent=f,this._container.appendChild(y);let w=document.createElement("div");w.className="maplibregl-mobile-message",w.textContent=m,this._container.appendChild(w),this._container.setAttribute("aria-hidden","true")}_destroyUI(){this._container&&(T.remove(this._container),this._map.getCanvasContainer().classList.remove("maplibregl-cooperative-gestures")),delete this._container}enable(){this._setupUI(),this._enabled=!0}disable(){this._enabled=!1,this._destroyUI()}isEnabled(){return this._enabled}isBypassed(a){return a[this._bypassKey]}notifyGestureBlocked(a,f){this._enabled&&(this._map.fire(new o.l("cooperativegestureprevented",{gestureType:a,originalEvent:f})),this._container.classList.add("maplibregl-show"),setTimeout(()=>{this._container.classList.remove("maplibregl-show")},100))}}let fl=x=>x.zoom||x.drag||x.roll||x.pitch||x.rotate;class Zn extends o.l{}function Sd(x){return x.panDelta&&x.panDelta.mag()||x.zoomDelta||x.bearingDelta||x.pitchDelta||x.rollDelta}class Fb{constructor(a,f){this.handleWindowEvent=y=>{this.handleEvent(y,`${y.type}Window`)},this.handleEvent=(y,w)=>{if(y.type==="blur")return void this.stop(!0);this._updatingCamera=!0;let M=y.type==="renderFrame"?void 0:y,D={needsRenderFrame:!1},k={},B={};for(let{handlerName:G,handler:K,allowed:ee}of this._handlers){if(!K.isEnabled())continue;let pe;if(this._blockedByActive(B,ee,G))K.reset();else if(K[w||y.type]){if(o.cp(y,w||y.type)){let ce=T.mousePos(this._map.getCanvas(),y);pe=K[w||y.type](y,ce)}else if(o.cq(y,w||y.type)){let ce=this._getMapTouches(y.touches),fe=T.touchPos(this._map.getCanvas(),ce);pe=K[w||y.type](y,fe,ce)}else o.cr(w||y.type)||(pe=K[w||y.type](y));this.mergeHandlerResult(D,k,pe,G,M),pe&&pe.needsRenderFrame&&this._triggerRenderFrame()}(pe||K.isActive())&&(B[G]=K)}let V={};for(let G in this._previousActiveHandlers)B[G]||(V[G]=M);this._previousActiveHandlers=B,(Object.keys(V).length||Sd(D))&&(this._changes.push([D,k,V]),this._triggerRenderFrame()),(Object.keys(B).length||Sd(D))&&this._map._stop(!0),this._updatingCamera=!1;let{cameraAnimation:W}=D;W&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],W(this._map))},this._map=a,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new PT(a),this._bearingSnap=f.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(f);let m=this._el;this._listeners=[[m,"touchstart",{passive:!0}],[m,"touchmove",{passive:!1}],[m,"touchend",void 0],[m,"touchcancel",void 0],[m,"mousedown",void 0],[m,"mousemove",void 0],[m,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[m,"mouseover",void 0],[m,"mouseout",void 0],[m,"dblclick",void 0],[m,"click",void 0],[m,"keydown",{capture:!1}],[m,"keyup",void 0],[m,"wheel",{passive:!1}],[m,"contextmenu",void 0],[window,"blur",void 0]];for(let[y,w,M]of this._listeners)T.addEventListener(y,w,y===document?this.handleWindowEvent:this.handleEvent,M)}destroy(){for(let[a,f,m]of this._listeners)T.removeEventListener(a,f,a===document?this.handleWindowEvent:this.handleEvent,m)}_addDefaultHandlers(a){let f=this._map,m=f.getCanvasContainer();this._add("mapEvent",new OT(f,a));let y=f.boxZoom=new Nb(f,a);this._add("boxZoom",y),a.interactive&&a.boxZoom&&y.enable();let w=f.cooperativeGestures=new zT(f,a.cooperativeGestures);this._add("cooperativeGestures",w),a.cooperativeGestures&&w.enable();let M=new ul(f),D=new zb(f);f.doubleClickZoom=new qb(D,M),this._add("tapZoom",M),this._add("clickZoom",D),a.interactive&&a.doubleClickZoom&&f.doubleClickZoom.enable();let k=new RT;this._add("tapDragZoom",k);let B=f.touchPitch=new ny(f);this._add("touchPitch",B),a.interactive&&a.touchPitch&&f.touchPitch.enable(a.touchPitch);let V=()=>f.project(f.getCenter()),W=function({enable:be,clickTolerance:Ae,aroundCenter:Ne=!0,minPixelCenterThreshold:Se=100,rotateDegreesPerPixelMoved:Ve=.8},et){let He=new Lm({checkCorrectEvent:Ze=>T.mouseButton(Ze)===0&&Ze.ctrlKey||T.mouseButton(Ze)===2&&!Ze.ctrlKey});return new bd({clickTolerance:Ae,move:(Ze,Qe)=>{let Tt=et();if(Ne&&Math.abs(Tt.y-Ze.y)>Se)return{bearingDelta:o.cn(new o.P(Ze.x,Qe.y),Qe,Tt)};let At=(Qe.x-Ze.x)*Ve;return Ne&&Qe.y<Tt.y&&(At=-At),{bearingDelta:At}},moveStateManager:He,enable:be,assignEvents:qm})}(a,V),G=function({enable:be,clickTolerance:Ae,pitchDegreesPerPixelMoved:Ne=-.5}){let Se=new Lm({checkCorrectEvent:Ve=>T.mouseButton(Ve)===0&&Ve.ctrlKey||T.mouseButton(Ve)===2});return new bd({clickTolerance:Ae,move:(Ve,et)=>({pitchDelta:(et.y-Ve.y)*Ne}),moveStateManager:Se,enable:be,assignEvents:qm})}(a),K=function({enable:be,clickTolerance:Ae,rollDegreesPerPixelMoved:Ne=.3},Se){let Ve=new Lm({checkCorrectEvent:et=>T.mouseButton(et)===2&&et.ctrlKey});return new bd({clickTolerance:Ae,move:(et,He)=>{let Ze=Se(),Qe=(He.x-et.x)*Ne;return He.y<Ze.y&&(Qe=-Qe),{rollDelta:Qe}},moveStateManager:Ve,enable:be,assignEvents:qm})}(a,V);f.dragRotate=new jb(a,W,G,K),this._add("mouseRotate",W,["mousePitch"]),this._add("mousePitch",G,["mouseRotate","mouseRoll"]),this._add("mouseRoll",K,["mousePitch"]),a.interactive&&a.dragRotate&&f.dragRotate.enable();let ee=function({enable:be,clickTolerance:Ae}){let Ne=new Lm({checkCorrectEvent:Se=>T.mouseButton(Se)===0&&!Se.ctrlKey});return new bd({clickTolerance:Ae,move:(Se,Ve)=>({around:Ve,panDelta:Ve.sub(Se)}),activateOnStart:!0,moveStateManager:Ne,enable:be,assignEvents:qm})}(a),pe=new zm(a,f);f.dragPan=new LT(m,ee,pe),this._add("mousePan",ee),this._add("touchPan",pe,["touchZoom","touchRotate"]),a.interactive&&a.dragPan&&f.dragPan.enable(a.dragPan);let ce=new wd,fe=new ry;f.touchZoomRotate=new qT(m,fe,ce,k),this._add("touchRotate",ce,["touchPan","touchZoom"]),this._add("touchZoom",fe,["touchPan","touchRotate"]),a.interactive&&a.touchZoomRotate&&f.touchZoomRotate.enable(a.touchZoomRotate);let ge=f.scrollZoom=new NT(f,()=>this._triggerRenderFrame());this._add("scrollZoom",ge,["mousePan"]),a.interactive&&a.scrollZoom&&f.scrollZoom.enable(a.scrollZoom);let Te=f.keyboard=new iy(f);this._add("keyboard",Te),a.interactive&&a.keyboard&&f.keyboard.enable(),this._add("blockableMapEvent",new DT(f))}_add(a,f,m){this._handlers.push({handlerName:a,handler:f,allowed:m}),this._handlersById[a]=f}stop(a){if(!this._updatingCamera){for(let{handler:f}of this._handlers)f.reset();this._inertia.clear(),this._fireEvents({},{},a),this._changes=[]}}isActive(){for(let{handler:a}of this._handlers)if(a.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!fl(this._eventsInProgress)||this.isZooming()}_blockedByActive(a,f,m){for(let y in a)if(y!==m&&(!f||f.indexOf(y)<0))return!0;return!1}_getMapTouches(a){let f=[];for(let m of a)this._el.contains(m.target)&&f.push(m);return f}mergeHandlerResult(a,f,m,y,w){if(!m)return;o.e(a,m);let M={handlerName:y,originalEvent:m.originalEvent||w};m.zoomDelta!==void 0&&(f.zoom=M),m.panDelta!==void 0&&(f.drag=M),m.rollDelta!==void 0&&(f.roll=M),m.pitchDelta!==void 0&&(f.pitch=M),m.bearingDelta!==void 0&&(f.rotate=M)}_applyChanges(){let a={},f={},m={};for(let[y,w,M]of this._changes)y.panDelta&&(a.panDelta=(a.panDelta||new o.P(0,0))._add(y.panDelta)),y.zoomDelta&&(a.zoomDelta=(a.zoomDelta||0)+y.zoomDelta),y.bearingDelta&&(a.bearingDelta=(a.bearingDelta||0)+y.bearingDelta),y.pitchDelta&&(a.pitchDelta=(a.pitchDelta||0)+y.pitchDelta),y.rollDelta&&(a.rollDelta=(a.rollDelta||0)+y.rollDelta),y.around!==void 0&&(a.around=y.around),y.pinchAround!==void 0&&(a.pinchAround=y.pinchAround),y.noInertia&&(a.noInertia=y.noInertia),o.e(f,w),o.e(m,M);this._updateMapTransform(a,f,m),this._changes=[]}_updateMapTransform(a,f,m){let y=this._map,w=y._getTransformForUpdate(),M=y.terrain;if(!(Sd(a)||M&&this._terrainMovement))return this._fireEvents(f,m,!0);y._stop(!0);let{panDelta:D,zoomDelta:k,bearingDelta:B,pitchDelta:V,rollDelta:W,around:G,pinchAround:K}=a;K!==void 0&&(G=K),G=G||y.transform.centerPoint,M&&!w.isPointOnMapSurface(G)&&(G=w.centerPoint);let ee={panDelta:D,zoomDelta:k,rollDelta:W,pitchDelta:V,bearingDelta:B,around:G};this._map.cameraHelper.useGlobeControls&&!w.isPointOnMapSurface(G)&&(G=w.centerPoint);let pe=G.distSqr(w.centerPoint)<.01?w.center:w.screenPointToLocation(D?G.sub(D):G);M?(this._map.cameraHelper.handleMapControlsRollPitchBearingZoom(ee,w),this._terrainMovement||!f.drag&&!f.zoom?f.drag&&this._terrainMovement?w.setCenter(w.screenPointToLocation(w.centerPoint.sub(D))):this._map.cameraHelper.handleMapControlsPan(ee,w,pe):(this._terrainMovement=!0,this._map._elevationFreeze=!0,this._map.cameraHelper.handleMapControlsPan(ee,w,pe))):(this._map.cameraHelper.handleMapControlsRollPitchBearingZoom(ee,w),this._map.cameraHelper.handleMapControlsPan(ee,w,pe)),y._applyUpdatedTransform(w),this._map._update(),a.noInertia||this._inertia.record(a),this._fireEvents(f,m,!0)}_fireEvents(a,f,m){let y=fl(this._eventsInProgress),w=fl(a),M={};for(let W in a){let{originalEvent:G}=a[W];this._eventsInProgress[W]||(M[`${W}start`]=G),this._eventsInProgress[W]=a[W]}!y&&w&&this._fireEvent("movestart",w.originalEvent);for(let W in M)this._fireEvent(W,M[W]);w&&this._fireEvent("move",w.originalEvent);for(let W in a){let{originalEvent:G}=a[W];this._fireEvent(W,G)}let D={},k;for(let W in this._eventsInProgress){let{handlerName:G,originalEvent:K}=this._eventsInProgress[W];this._handlersById[G].isActive()||(delete this._eventsInProgress[W],k=f[G]||K,D[`${W}end`]=k)}for(let W in D)this._fireEvent(W,D[W]);let B=fl(this._eventsInProgress),V=(y||w)&&!B;if(V&&this._terrainMovement){this._map._elevationFreeze=!1,this._terrainMovement=!1;let W=this._map._getTransformForUpdate();this._map.getCenterClampedToGround()&&W.recalculateZoomAndCenter(this._map.terrain),this._map._applyUpdatedTransform(W)}if(m&&V){this._updatingCamera=!0;let W=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),G=K=>K!==0&&-this._bearingSnap<K&&K<this._bearingSnap;!W||!W.essential&&I.prefersReducedMotion?(this._map.fire(new o.l("moveend",{originalEvent:k})),G(this._map.getBearing())&&this._map.resetNorth()):(G(W.bearing||this._map.getBearing())&&(W.bearing=0),W.freezeElevation=!0,this._map.easeTo(W,{originalEvent:k})),this._updatingCamera=!1}}_fireEvent(a,f){this._map.fire(new o.l(a,f?{originalEvent:f}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(a=>{delete this._frameId,this.handleEvent(new Zn("renderFrame",{timeStamp:a})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}class jT extends o.E{constructor(a,f,m){super(),this._renderFrameCallback=()=>{let y=Math.min((I.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(y)),y<1&&this._easeFrameId?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},this._moving=!1,this._zooming=!1,this.transform=a,this._bearingSnap=m.bearingSnap,this.cameraHelper=f,this.on("moveend",()=>{delete this._requestedCameraState})}migrateProjection(a,f){a.apply(this.transform),this.transform=a,this.cameraHelper=f}getCenter(){return new o.S(this.transform.center.lng,this.transform.center.lat)}setCenter(a,f){return this.jumpTo({center:a},f)}getCenterElevation(){return this.transform.elevation}setCenterElevation(a,f){return this.jumpTo({elevation:a},f),this}getCenterClampedToGround(){return this._centerClampedToGround}setCenterClampedToGround(a){this._centerClampedToGround=a}panBy(a,f,m){return a=o.P.convert(a).mult(-1),this.panTo(this.transform.center,o.e({offset:a},f),m)}panTo(a,f,m){return this.easeTo(o.e({center:a},f),m)}getZoom(){return this.transform.zoom}setZoom(a,f){return this.jumpTo({zoom:a},f),this}zoomTo(a,f,m){return this.easeTo(o.e({zoom:a},f),m)}zoomIn(a,f){return this.zoomTo(this.getZoom()+1,a,f),this}zoomOut(a,f){return this.zoomTo(this.getZoom()-1,a,f),this}getVerticalFieldOfView(){return this.transform.fov}setVerticalFieldOfView(a,f){return a!=this.transform.fov&&(this.transform.setFov(a),this.fire(new o.l("movestart",f)).fire(new o.l("move",f)).fire(new o.l("moveend",f))),this}getBearing(){return this.transform.bearing}setBearing(a,f){return this.jumpTo({bearing:a},f),this}getPadding(){return this.transform.padding}setPadding(a,f){return this.jumpTo({padding:a},f),this}rotateTo(a,f,m){return this.easeTo(o.e({bearing:a},f),m)}resetNorth(a,f){return this.rotateTo(0,o.e({duration:1e3},a),f),this}resetNorthPitch(a,f){return this.easeTo(o.e({bearing:0,pitch:0,roll:0,duration:1e3},a),f),this}snapToNorth(a,f){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(a,f):this}getPitch(){return this.transform.pitch}setPitch(a,f){return this.jumpTo({pitch:a},f),this}getRoll(){return this.transform.roll}setRoll(a,f){return this.jumpTo({roll:a},f),this}cameraForBounds(a,f){a=vt.convert(a).adjustAntiMeridian();let m=f&&f.bearing||0;return this._cameraForBoxAndBearing(a.getNorthWest(),a.getSouthEast(),m,f)}_cameraForBoxAndBearing(a,f,m,y){let w={top:0,bottom:0,right:0,left:0};if(typeof(y=o.e({padding:w,offset:[0,0],maxZoom:this.transform.maxZoom},y)).padding=="number"){let B=y.padding;y.padding={top:B,bottom:B,right:B,left:B}}let M=o.e(w,y.padding);y.padding=M;let D=this.transform,k=new vt(a,f);return this.cameraHelper.cameraForBoxAndBearing(y,M,k,m,D)}fitBounds(a,f,m){return this._fitInternal(this.cameraForBounds(a,f),f,m)}fitScreenCoordinates(a,f,m,y,w){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.screenPointToLocation(o.P.convert(a)),this.transform.screenPointToLocation(o.P.convert(f)),m,y),y,w)}_fitInternal(a,f,m){return a?(delete(f=o.e(a,f)).padding,f.linear?this.easeTo(f,m):this.flyTo(f,m)):this}jumpTo(a,f){this.stop();let m=this._getTransformForUpdate(),y=!1,w=!1,M=!1,D=m.zoom;this.cameraHelper.handleJumpToCenterZoom(m,a);let k=m.zoom!==D;return"elevation"in a&&m.elevation!==+a.elevation&&m.setElevation(+a.elevation),"bearing"in a&&m.bearing!==+a.bearing&&(y=!0,m.setBearing(+a.bearing)),"pitch"in a&&m.pitch!==+a.pitch&&(w=!0,m.setPitch(+a.pitch)),"roll"in a&&m.roll!==+a.roll&&(M=!0,m.setRoll(+a.roll)),a.padding==null||m.isPaddingEqual(a.padding)||m.setPadding(a.padding),this._applyUpdatedTransform(m),this.fire(new o.l("movestart",f)).fire(new o.l("move",f)),k&&this.fire(new o.l("zoomstart",f)).fire(new o.l("zoom",f)).fire(new o.l("zoomend",f)),y&&this.fire(new o.l("rotatestart",f)).fire(new o.l("rotate",f)).fire(new o.l("rotateend",f)),w&&this.fire(new o.l("pitchstart",f)).fire(new o.l("pitch",f)).fire(new o.l("pitchend",f)),M&&this.fire(new o.l("rollstart",f)).fire(new o.l("roll",f)).fire(new o.l("rollend",f)),this.fire(new o.l("moveend",f))}calculateCameraOptionsFromTo(a,f,m,y=0){let w=o.a1.fromLngLat(a,f),M=o.a1.fromLngLat(m,y),D=M.x-w.x,k=M.y-w.y,B=M.z-w.z,V=Math.hypot(D,k,B);if(V===0)throw new Error("Can't calculate camera options with same From and To");let W=Math.hypot(D,k),G=o.ak(this.transform.cameraToCenterDistance/V/this.transform.tileSize),K=180*Math.atan2(D,-k)/Math.PI,ee=180*Math.acos(W/V)/Math.PI;return ee=B<0?90-ee:90+ee,{center:M.toLngLat(),elevation:y,zoom:G,pitch:ee,bearing:K}}calculateCameraOptionsFromCameraLngLatAltRotation(a,f,m,y,w){let M=this.transform.calculateCenterFromCameraLngLatAlt(a,f,m,y);return{center:M.center,elevation:M.elevation,zoom:M.zoom,bearing:m,pitch:y,roll:w}}easeTo(a,f){this._stop(!1,a.easeId),((a=o.e({offset:[0,0],duration:500,easing:o.co},a)).animate===!1||!a.essential&&I.prefersReducedMotion)&&(a.duration=0);let m=this._getTransformForUpdate(),y=this.getBearing(),w=m.pitch,M=m.roll,D="bearing"in a?this._normalizeBearing(a.bearing,y):y,k="pitch"in a?+a.pitch:w,B="roll"in a?this._normalizeBearing(a.roll,M):M,V="padding"in a?a.padding:m.padding,W=o.P.convert(a.offset),G,K;a.around&&(G=o.S.convert(a.around),K=m.locationToScreenPoint(G));let ee={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching,rolling:this._rolling},pe=this.cameraHelper.handleEaseTo(m,{bearing:D,pitch:k,roll:B,padding:V,around:G,aroundPoint:K,offsetAsPoint:W,offset:a.offset,zoom:a.zoom,center:a.center});return this._rotating=this._rotating||y!==D,this._pitching=this._pitching||k!==w,this._rolling=this._rolling||B!==M,this._padding=!m.isPaddingEqual(V),this._zooming=this._zooming||pe.isZooming,this._easeId=a.easeId,this._prepareEase(f,a.noMoveStart,ee),this.terrain&&this._prepareElevation(pe.elevationCenter),this._ease(ce=>{pe.easeFunc(ce),this.terrain&&!a.freezeElevation&&this._updateElevation(ce),this._applyUpdatedTransform(m),this._fireMoveEvents(f)},ce=>{this.terrain&&a.freezeElevation&&this._finalizeElevation(),this._afterEase(f,ce)},a),this}_prepareEase(a,f,m={}){this._moving=!0,f||m.moving||this.fire(new o.l("movestart",a)),this._zooming&&!m.zooming&&this.fire(new o.l("zoomstart",a)),this._rotating&&!m.rotating&&this.fire(new o.l("rotatestart",a)),this._pitching&&!m.pitching&&this.fire(new o.l("pitchstart",a)),this._rolling&&!m.rolling&&this.fire(new o.l("rollstart",a))}_prepareElevation(a){this._elevationCenter=a,this._elevationStart=this.transform.elevation,this._elevationTarget=this.terrain.getElevationForLngLatZoom(a,this.transform.tileZoom),this._elevationFreeze=!0}_updateElevation(a){this._elevationStart!==void 0&&this._elevationCenter!==void 0||this._prepareElevation(this.transform.center),this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom));let f=this.terrain.getElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);if(a<1&&f!==this._elevationTarget){let m=this._elevationTarget-this._elevationStart;this._elevationStart+=a*(m-(f-(m*a+this._elevationStart))/(1-a)),this._elevationTarget=f}this.transform.setElevation(o.C.number(this._elevationStart,this._elevationTarget,a))}_finalizeElevation(){this._elevationFreeze=!1,this.getCenterClampedToGround()&&this.transform.recalculateZoomAndCenter(this.terrain)}_getTransformForUpdate(){return this.transformCameraUpdate||this.terrain?(this._requestedCameraState||(this._requestedCameraState=this.transform.clone()),this._requestedCameraState):this.transform}_elevateCameraIfInsideTerrain(a){if(!this.terrain&&a.elevation>=0&&a.pitch<=90)return{};let f=a.getCameraLngLat(),m=a.getCameraAltitude(),y=this.terrain?this.terrain.getElevationForLngLatZoom(f,a.zoom):0;if(m<y){let w=this.calculateCameraOptionsFromTo(f,y,a.center,a.elevation);return{pitch:w.pitch,zoom:w.zoom}}return{}}_applyUpdatedTransform(a){let f=[];if(f.push(y=>this._elevateCameraIfInsideTerrain(y)),this.transformCameraUpdate&&f.push(y=>this.transformCameraUpdate(y)),!f.length)return;let m=a.clone();for(let y of f){let w=m.clone(),{center:M,zoom:D,roll:k,pitch:B,bearing:V,elevation:W}=y(w);M&&w.setCenter(M),W!==void 0&&w.setElevation(W),D!==void 0&&w.setZoom(D),k!==void 0&&w.setRoll(k),B!==void 0&&w.setPitch(B),V!==void 0&&w.setBearing(V),m.apply(w)}this.transform.apply(m)}_fireMoveEvents(a){this.fire(new o.l("move",a)),this._zooming&&this.fire(new o.l("zoom",a)),this._rotating&&this.fire(new o.l("rotate",a)),this._pitching&&this.fire(new o.l("pitch",a)),this._rolling&&this.fire(new o.l("roll",a))}_afterEase(a,f){if(this._easeId&&f&&this._easeId===f)return;delete this._easeId;let m=this._zooming,y=this._rotating,w=this._pitching,M=this._rolling;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._rolling=!1,this._padding=!1,m&&this.fire(new o.l("zoomend",a)),y&&this.fire(new o.l("rotateend",a)),w&&this.fire(new o.l("pitchend",a)),M&&this.fire(new o.l("rollend",a)),this.fire(new o.l("moveend",a))}flyTo(a,f){if(!a.essential&&I.prefersReducedMotion){let Qe=o.Q(a,["center","zoom","bearing","pitch","roll","elevation"]);return this.jumpTo(Qe,f)}this.stop(),a=o.e({offset:[0,0],speed:1.2,curve:1.42,easing:o.co},a);let m=this._getTransformForUpdate(),y=m.bearing,w=m.pitch,M=m.roll,D=m.padding,k="bearing"in a?this._normalizeBearing(a.bearing,y):y,B="pitch"in a?+a.pitch:w,V="roll"in a?this._normalizeBearing(a.roll,M):M,W="padding"in a?a.padding:m.padding,G=o.P.convert(a.offset),K=m.centerPoint.add(G),ee=m.screenPointToLocation(K),pe=this.cameraHelper.handleFlyTo(m,{bearing:k,pitch:B,roll:V,padding:W,locationAtOffset:ee,offsetAsPoint:G,center:a.center,minZoom:a.minZoom,zoom:a.zoom}),ce=a.curve,fe=Math.max(m.width,m.height),ge=fe/pe.scaleOfZoom,Te=pe.pixelPathLength;typeof pe.scaleOfMinZoom=="number"&&(ce=Math.sqrt(fe/pe.scaleOfMinZoom/Te*2));let be=ce*ce;function Ae(Qe){let Tt=(ge*ge-fe*fe+(Qe?-1:1)*be*be*Te*Te)/(2*(Qe?ge:fe)*be*Te);return Math.log(Math.sqrt(Tt*Tt+1)-Tt)}function Ne(Qe){return(Math.exp(Qe)-Math.exp(-Qe))/2}function Se(Qe){return(Math.exp(Qe)+Math.exp(-Qe))/2}let Ve=Ae(!1),et=function(Qe){return Se(Ve)/Se(Ve+ce*Qe)},He=function(Qe){return fe*((Se(Ve)*(Ne(Tt=Ve+ce*Qe)/Se(Tt))-Ne(Ve))/be)/Te;var Tt},Ze=(Ae(!0)-Ve)/ce;if(Math.abs(Te)<2e-6||!isFinite(Ze)){if(Math.abs(fe-ge)<1e-6)return this.easeTo(a,f);let Qe=ge<fe?-1:1;Ze=Math.abs(Math.log(ge/fe))/ce,He=()=>0,et=Tt=>Math.exp(Qe*ce*Tt)}return a.duration="duration"in a?+a.duration:1e3*Ze/("screenSpeed"in a?+a.screenSpeed/ce:+a.speed),a.maxDuration&&a.duration>a.maxDuration&&(a.duration=0),this._zooming=!0,this._rotating=y!==k,this._pitching=B!==w,this._rolling=V!==M,this._padding=!m.isPaddingEqual(W),this._prepareEase(f,!1),this.terrain&&this._prepareElevation(pe.targetCenter),this._ease(Qe=>{let Tt=Qe*Ze,At=1/et(Tt),dt=He(Tt);this._rotating&&m.setBearing(o.C.number(y,k,Qe)),this._pitching&&m.setPitch(o.C.number(w,B,Qe)),this._rolling&&m.setRoll(o.C.number(M,V,Qe)),this._padding&&(m.interpolatePadding(D,W,Qe),K=m.centerPoint.add(G)),pe.easeFunc(Qe,At,dt,K),this.terrain&&!a.freezeElevation&&this._updateElevation(Qe),this._applyUpdatedTransform(m),this._fireMoveEvents(f)},()=>{this.terrain&&a.freezeElevation&&this._finalizeElevation(),this._afterEase(f)},a),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(a,f){var m;if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){let y=this._onEaseEnd;delete this._onEaseEnd,y.call(this,f)}return a||(m=this.handlers)===null||m===void 0||m.stop(!1),this}_ease(a,f,m){m.animate===!1||m.duration===0?(a(1),f()):(this._easeStart=I.now(),this._easeOptions=m,this._onEaseFrame=a,this._onEaseEnd=f,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_normalizeBearing(a,f){a=o.aO(a,-180,180);let m=Math.abs(a-f);return Math.abs(a-360-f)<m&&(a-=360),Math.abs(a+360-f)<m&&(a+=360),a}queryTerrainElevation(a){return this.terrain?this.terrain.getElevationForLngLatZoom(o.S.convert(a),this.transform.tileZoom):null}}let Bb={compact:!0,customAttribution:"<a href=\"https://maplibre.org/\" target=\"_blank\">MapLibre</a>"};class Ub{constructor(a=Bb){this._toggleAttribution=()=>{this._container.classList.contains("maplibregl-compact")&&(this._container.classList.contains("maplibregl-compact-show")?(this._container.setAttribute("open",""),this._container.classList.remove("maplibregl-compact-show")):(this._container.classList.add("maplibregl-compact-show"),this._container.removeAttribute("open")))},this._updateData=f=>{!f||f.sourceDataType!=="metadata"&&f.sourceDataType!=="visibility"&&f.dataType!=="style"&&f.type!=="terrain"||this._updateAttributions()},this._updateCompact=()=>{this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact===!1?this._container.setAttribute("open",""):this._container.classList.contains("maplibregl-compact")||this._container.classList.contains("maplibregl-attrib-empty")||(this._container.setAttribute("open",""),this._container.classList.add("maplibregl-compact","maplibregl-compact-show")):(this._container.setAttribute("open",""),this._container.classList.contains("maplibregl-compact")&&this._container.classList.remove("maplibregl-compact","maplibregl-compact-show"))},this._updateCompactMinimize=()=>{this._container.classList.contains("maplibregl-compact")&&this._container.classList.contains("maplibregl-compact-show")&&this._container.classList.remove("maplibregl-compact-show")},this.options=a}getDefaultPosition(){return"bottom-right"}onAdd(a){return this._map=a,this._compact=this.options.compact,this._container=T.create("details","maplibregl-ctrl maplibregl-ctrl-attrib"),this._compactButton=T.create("summary","maplibregl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=T.create("div","maplibregl-ctrl-attrib-inner",this._container),this._updateAttributions(),this._updateCompact(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("terrain",this._updateData),this._map.on("resize",this._updateCompact),this._map.on("drag",this._updateCompactMinimize),this._container}onRemove(){T.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("terrain",this._updateData),this._map.off("resize",this._updateCompact),this._map.off("drag",this._updateCompactMinimize),this._map=void 0,this._compact=void 0,this._attribHTML=void 0}_setElementTitle(a,f){let m=this._map._getUIString(`AttributionControl.${f}`);a.title=m,a.setAttribute("aria-label",m)}_updateAttributions(){if(!this._map.style)return;let a=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?a=a.concat(this.options.customAttribution.map(y=>typeof y!="string"?"":y)):typeof this.options.customAttribution=="string"&&a.push(this.options.customAttribution)),this._map.style.stylesheet){let y=this._map.style.stylesheet;this.styleOwner=y.owner,this.styleId=y.id}let f=this._map.style.sourceCaches;for(let y in f){let w=f[y];if(w.used||w.usedForTerrain){let M=w.getSource();M.attribution&&a.indexOf(M.attribution)<0&&a.push(M.attribution)}}a=a.filter(y=>String(y).trim()),a.sort((y,w)=>y.length-w.length),a=a.filter((y,w)=>{for(let M=w+1;M<a.length;M++)if(a[M].indexOf(y)>=0)return!1;return!0});let m=a.join(" | ");m!==this._attribHTML&&(this._attribHTML=m,a.length?(this._innerContainer.innerHTML=T.sanitize(m),this._container.classList.remove("maplibregl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty"),this._updateCompact(),this._editLink=null)}}class FT{constructor(a={}){this._updateCompact=()=>{let f=this._container.children;if(f.length){let m=f[0];this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact!==!1&&m.classList.add("maplibregl-compact"):m.classList.remove("maplibregl-compact")}},this.options=a}getDefaultPosition(){return"bottom-left"}onAdd(a){this._map=a,this._compact=this.options&&this.options.compact,this._container=T.create("div","maplibregl-ctrl");let f=T.create("a","maplibregl-ctrl-logo");return f.target="_blank",f.rel="noopener nofollow",f.href="https://maplibre.org/",f.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),f.setAttribute("rel","noopener nofollow"),this._container.appendChild(f),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){T.remove(this._container),this._map.off("resize",this._updateCompact),this._map=void 0,this._compact=void 0}}class Ul{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(a){let f=++this._id;return this._queue.push({callback:a,id:f,cancelled:!1}),f}remove(a){let f=this._currentlyRunning,m=f?this._queue.concat(f):this._queue;for(let y of m)if(y.id===a)return void(y.cancelled=!0)}run(a=0){if(this._currentlyRunning)throw new Error("Attempting to run(), but is already running.");let f=this._currentlyRunning=this._queue;this._queue=[];for(let m of f)if(!m.cancelled&&(m.callback(a),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}var ay=o.aJ([{name:"a_pos3d",type:"Int16",components:3}]);class nr extends o.E{constructor(a){super(),this._lastTilesetChange=I.now(),this.sourceCache=a,this._tiles={},this._renderableTilesKeys=[],this._sourceTileCache={},this.minzoom=0,this.maxzoom=22,this.deltaZoom=1,this.tileSize=a._source.tileSize*af(2,this.deltaZoom),a.usedForTerrain=!0,a.tileSize=this.tileSize}destruct(){this.sourceCache.usedForTerrain=!1,this.sourceCache.tileSize=null}update(a,f){this.sourceCache.update(a,f),this._renderableTilesKeys=[];let m={};for(let y of ye(a,{tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,reparseOverscaled:!1,terrain:f,calculateTileZoom:this.sourceCache._source.calculateTileZoom}))m[y.key]=!0,this._renderableTilesKeys.push(y.key),this._tiles[y.key]||(y.terrainRttPosMatrix32f=new Float64Array(16),o.bY(y.terrainRttPosMatrix32f,0,o.$,o.$,0,0,1),this._tiles[y.key]=new xi(y,this.tileSize),this._lastTilesetChange=I.now());for(let y in this._tiles)m[y]||delete this._tiles[y]}freeRtt(a){for(let f in this._tiles){let m=this._tiles[f];(!a||m.tileID.equals(a)||m.tileID.isChildOf(a)||a.isChildOf(m.tileID))&&(m.rtt=[])}}getRenderableTiles(){return this._renderableTilesKeys.map(a=>this.getTileByID(a))}getTileByID(a){return this._tiles[a]}getTerrainCoords(a,f){return f?this._getTerrainCoordsForTileRanges(a,f):this._getTerrainCoordsForRegularTile(a)}_getTerrainCoordsForRegularTile(a){let f={};for(let m of this._renderableTilesKeys){let y=this._tiles[m].tileID,w=a.clone(),M=o.ba();if(y.canonical.equals(a.canonical))o.bY(M,0,o.$,o.$,0,0,1);else if(y.canonical.isChildOf(a.canonical)){let D=y.canonical.z-a.canonical.z,k=y.canonical.x-(y.canonical.x>>D<<D),B=y.canonical.y-(y.canonical.y>>D<<D),V=o.$>>D;o.bY(M,0,V,V,0,0,1),o.M(M,M,[-k*V,-B*V,0])}else{if(!a.canonical.isChildOf(y.canonical))continue;{let D=a.canonical.z-y.canonical.z,k=a.canonical.x-(a.canonical.x>>D<<D),B=a.canonical.y-(a.canonical.y>>D<<D),V=o.$>>D;o.bY(M,0,o.$,o.$,0,0,1),o.M(M,M,[k*V,B*V,0]),o.N(M,M,[1/af(2,D),1/af(2,D),0])}}w.terrainRttPosMatrix32f=new Float32Array(M),f[m]=w}return f}_getTerrainCoordsForTileRanges(a,f){let m={};for(let y of this._renderableTilesKeys){let w=this._tiles[y].tileID;if(!this._isWithinTileRanges(w,f))continue;let M=a.clone(),D=o.ba();if(w.canonical.z===a.canonical.z){let k=a.canonical.x-w.canonical.x,B=a.canonical.y-w.canonical.y;o.bY(D,0,o.$,o.$,0,0,1),o.M(D,D,[k*o.$,B*o.$,0])}else if(w.canonical.z>a.canonical.z){let k=w.canonical.z-a.canonical.z,B=w.canonical.x-(w.canonical.x>>k<<k),V=w.canonical.y-(w.canonical.y>>k<<k),W=a.canonical.x-(w.canonical.x>>k),G=a.canonical.y-(w.canonical.y>>k),K=o.$>>k;o.bY(D,0,K,K,0,0,1),o.M(D,D,[-B*K+W*o.$,-V*K+G*o.$,0])}else{let k=a.canonical.z-w.canonical.z,B=a.canonical.x-(a.canonical.x>>k<<k),V=a.canonical.y-(a.canonical.y>>k<<k),W=(a.canonical.x>>k)-w.canonical.x,G=(a.canonical.y>>k)-w.canonical.y,K=o.$<<k;o.bY(D,0,K,K,0,0,1),o.M(D,D,[B*o.$+W*K,V*o.$+G*K,0])}M.terrainRttPosMatrix32f=new Float32Array(D),m[y]=M}return m}getSourceTile(a,f){let m=this.sourceCache._source,y=a.overscaledZ-this.deltaZoom;if(y>m.maxzoom&&(y=m.maxzoom),y<m.minzoom)return null;this._sourceTileCache[a.key]||(this._sourceTileCache[a.key]=a.scaledTo(y).key);let w=this.sourceCache.getTileByID(this._sourceTileCache[a.key]);if((!w||!w.dem)&&f)for(;y>=m.minzoom&&(!w||!w.dem);)w=this.sourceCache.getTileByID(a.scaledTo(y--).key);return w}anyTilesAfterTime(a=Date.now()){return this._lastTilesetChange>=a}_isWithinTileRanges(a,f){return f[a.canonical.z]&&a.canonical.x>=f[a.canonical.z].minTileX&&a.canonical.x<=f[a.canonical.z].maxTileX&&a.canonical.y>=f[a.canonical.z].minTileY&&a.canonical.y<=f[a.canonical.z].maxTileY}}class gr{constructor(a,f,m){this._meshCache={},this.painter=a,this.sourceCache=new nr(f),this.options=m,this.exaggeration=typeof m.exaggeration=="number"?m.exaggeration:1,this.qualityFactor=2,this.meshSize=128,this._demMatrixCache={},this.coordsIndex=[],this._coordsTextureSize=1024}getDEMElevation(a,f,m,y=o.$){var w;if(!(f>=0&&f<y&&m>=0&&m<y))return 0;let M=this.getTerrainData(a),D=(w=M.tile)===null||w===void 0?void 0:w.dem;if(!D)return 0;let k=o.cs([],[f/y*o.$,m/y*o.$],M.u_terrain_matrix),B=[k[0]*D.dim,k[1]*D.dim],V=Math.floor(B[0]),W=Math.floor(B[1]),G=B[0]-V,K=B[1]-W;return D.get(V,W)*(1-G)*(1-K)+D.get(V+1,W)*G*(1-K)+D.get(V,W+1)*(1-G)*K+D.get(V+1,W+1)*G*K}getElevationForLngLatZoom(a,f){if(!o.ct(f,a.wrap()))return 0;let{tileID:m,mercatorX:y,mercatorY:w}=this._getOverscaledTileIDFromLngLatZoom(a,f);return this.getElevation(m,y%o.$,w%o.$,o.$)}getElevation(a,f,m,y=o.$){return this.getDEMElevation(a,f,m,y)*this.exaggeration}getTerrainData(a){if(!this._emptyDemTexture){let y=this.painter.context,w=new o.R({width:1,height:1},new Uint8Array(4));this._emptyDepthTexture=new o.T(y,w,y.gl.RGBA,{premultiply:!1}),this._emptyDemUnpack=[0,0,0,0],this._emptyDemTexture=new o.T(y,new o.R({width:1,height:1}),y.gl.RGBA,{premultiply:!1}),this._emptyDemTexture.bind(y.gl.NEAREST,y.gl.CLAMP_TO_EDGE),this._emptyDemMatrix=o.ag([])}let f=this.sourceCache.getSourceTile(a,!0);if(f&&f.dem&&(!f.demTexture||f.needsTerrainPrepare)){let y=this.painter.context;f.demTexture=this.painter.getTileTexture(f.dem.stride),f.demTexture?f.demTexture.update(f.dem.getPixels(),{premultiply:!1}):f.demTexture=new o.T(y,f.dem.getPixels(),y.gl.RGBA,{premultiply:!1}),f.demTexture.bind(y.gl.NEAREST,y.gl.CLAMP_TO_EDGE),f.needsTerrainPrepare=!1}let m=f&&f+f.tileID.key+a.key;if(m&&!this._demMatrixCache[m]){let y=this.sourceCache.sourceCache._source.maxzoom,w=a.canonical.z-f.tileID.canonical.z;a.overscaledZ>a.canonical.z&&(a.canonical.z>=y?w=a.canonical.z-y:o.w("cannot calculate elevation if elevation maxzoom > source.maxzoom"));let M=a.canonical.x-(a.canonical.x>>w<<w),D=a.canonical.y-(a.canonical.y>>w<<w),k=o.cu(new Float64Array(16),[1/(o.$<<w),1/(o.$<<w),0]);o.M(k,k,[M*o.$,D*o.$,0]),this._demMatrixCache[a.key]={matrix:k,coord:a}}return{u_depth:2,u_terrain:3,u_terrain_dim:f&&f.dem&&f.dem.dim||1,u_terrain_matrix:m?this._demMatrixCache[a.key].matrix:this._emptyDemMatrix,u_terrain_unpack:f&&f.dem&&f.dem.getUnpackVector()||this._emptyDemUnpack,u_terrain_exaggeration:this.exaggeration,texture:(f&&f.demTexture||this._emptyDemTexture).texture,depthTexture:(this._fboDepthTexture||this._emptyDepthTexture).texture,tile:f}}getFramebuffer(a){let f=this.painter,m=f.width/devicePixelRatio,y=f.height/devicePixelRatio;return!this._fbo||this._fbo.width===m&&this._fbo.height===y||(this._fbo.destroy(),this._fboCoordsTexture.destroy(),this._fboDepthTexture.destroy(),delete this._fbo,delete this._fboDepthTexture,delete this._fboCoordsTexture),this._fboCoordsTexture||(this._fboCoordsTexture=new o.T(f.context,{width:m,height:y,data:null},f.context.gl.RGBA,{premultiply:!1}),this._fboCoordsTexture.bind(f.context.gl.NEAREST,f.context.gl.CLAMP_TO_EDGE)),this._fboDepthTexture||(this._fboDepthTexture=new o.T(f.context,{width:m,height:y,data:null},f.context.gl.RGBA,{premultiply:!1}),this._fboDepthTexture.bind(f.context.gl.NEAREST,f.context.gl.CLAMP_TO_EDGE)),this._fbo||(this._fbo=f.context.createFramebuffer(m,y,!0,!1),this._fbo.depthAttachment.set(f.context.createRenderbuffer(f.context.gl.DEPTH_COMPONENT16,m,y))),this._fbo.colorAttachment.set(a==="coords"?this._fboCoordsTexture.texture:this._fboDepthTexture.texture),this._fbo}getCoordsTexture(){let a=this.painter.context;if(this._coordsTexture)return this._coordsTexture;let f=new Uint8Array(this._coordsTextureSize*this._coordsTextureSize*4);for(let w=0,M=0;w<this._coordsTextureSize;w++)for(let D=0;D<this._coordsTextureSize;D++,M+=4)f[M+0]=255&D,f[M+1]=255&w,f[M+2]=D>>8<<4|w>>8,f[M+3]=0;let m=new o.R({width:this._coordsTextureSize,height:this._coordsTextureSize},new Uint8Array(f.buffer)),y=new o.T(a,m,a.gl.RGBA,{premultiply:!1});return y.bind(a.gl.NEAREST,a.gl.CLAMP_TO_EDGE),this._coordsTexture=y,y}pointCoordinate(a){this.painter.maybeDrawDepthAndCoords(!0);let f=new Uint8Array(4),m=this.painter.context,y=m.gl,w=Math.round(a.x*this.painter.pixelRatio/devicePixelRatio),M=Math.round(a.y*this.painter.pixelRatio/devicePixelRatio),D=Math.round(this.painter.height/devicePixelRatio);m.bindFramebuffer.set(this.getFramebuffer("coords").framebuffer),y.readPixels(w,D-M-1,1,1,y.RGBA,y.UNSIGNED_BYTE,f),m.bindFramebuffer.set(null);let k=f[0]+(f[2]>>4<<8),B=f[1]+((15&f[2])<<8),V=this.coordsIndex[255-f[3]],W=V&&this.sourceCache.getTileByID(V);if(!W)return null;let G=this._coordsTextureSize,K=(1<<W.tileID.canonical.z)*G;return new o.a1((W.tileID.canonical.x*G+k)/K+W.tileID.wrap,(W.tileID.canonical.y*G+B)/K,this.getElevation(W.tileID,k,B,G))}depthAtPoint(a){let f=new Uint8Array(4),m=this.painter.context,y=m.gl;return m.bindFramebuffer.set(this.getFramebuffer("depth").framebuffer),y.readPixels(a.x,this.painter.height/devicePixelRatio-a.y-1,1,1,y.RGBA,y.UNSIGNED_BYTE,f),m.bindFramebuffer.set(null),(f[0]/16777216+f[1]/65536+f[2]/256+f[3])/256}getTerrainMesh(a){var f;let m=((f=this.painter.style.projection)===null||f===void 0?void 0:f.transitionState)>0,y=m&&a.canonical.y===0,w=m&&a.canonical.y===(1<<a.canonical.z)-1,M=`m_${y?"n":""}_${w?"s":""}`;if(this._meshCache[M])return this._meshCache[M];let D=this.painter.context,k=new o.cv,B=new o.aN,V=this.meshSize,W=o.$/V,G=V*V;for(let Se=0;Se<=V;Se++)for(let Ve=0;Ve<=V;Ve++)k.emplaceBack(Ve*W,Se*W,0);for(let Se=0;Se<G;Se+=V+1)for(let Ve=0;Ve<V;Ve++)B.emplaceBack(Ve+Se,V+Ve+Se+1,V+Ve+Se+2),B.emplaceBack(Ve+Se,V+Ve+Se+2,Ve+Se+1);let K=k.length,ee=K+(V+1),pe=(V+1)*V,ce=y?o.bh:0,fe=y?0:1,ge=w?o.bi:o.$,Te=w?0:1;for(let Se=0;Se<=V;Se++)k.emplaceBack(Se*W,ce,fe);for(let Se=0;Se<=V;Se++)k.emplaceBack(Se*W,ge,Te);for(let Se=0;Se<V;Se++)B.emplaceBack(pe+Se,ee+Se,ee+Se+1),B.emplaceBack(pe+Se,ee+Se+1,pe+Se+1),B.emplaceBack(0+Se,K+Se+1,K+Se),B.emplaceBack(0+Se,0+Se+1,K+Se+1);let be=k.length,Ae=be+2*(V+1);for(let Se of[0,1])for(let Ve=0;Ve<=V;Ve++)for(let et of[0,1])k.emplaceBack(Se*o.$,Ve*W,et);for(let Se=0;Se<2*V;Se+=2)B.emplaceBack(be+Se,be+Se+1,be+Se+3),B.emplaceBack(be+Se,be+Se+3,be+Se+2),B.emplaceBack(Ae+Se,Ae+Se+3,Ae+Se+1),B.emplaceBack(Ae+Se,Ae+Se+2,Ae+Se+3);let Ne=new zp(D.createVertexBuffer(k,ay.members),D.createIndexBuffer(B),o.aM.simpleSegment(0,0,k.length,B.length));return this._meshCache[M]=Ne,Ne}getMeshFrameDelta(a){return 2*Math.PI*o.bu/Math.pow(2,Math.max(a,0))/5}getMinTileElevationForLngLatZoom(a,f){var m;let{tileID:y}=this._getOverscaledTileIDFromLngLatZoom(a,f);return(m=this.getMinMaxElevation(y).minElevation)!==null&&m!==void 0?m:0}getMinMaxElevation(a){let f=this.getTerrainData(a).tile,m={minElevation:null,maxElevation:null};return f&&f.dem&&(m.minElevation=f.dem.min*this.exaggeration,m.maxElevation=f.dem.max*this.exaggeration),m}_getOverscaledTileIDFromLngLatZoom(a,f){let m=o.a1.fromLngLat(a.wrap()),y=(1<<f)*o.$,w=m.x*y,M=m.y*y,D=Math.floor(w/o.$),k=Math.floor(M/o.$);return{tileID:new o.Z(f,0,f,D,k),mercatorX:w,mercatorY:M}}}class sy{constructor(a,f,m){this._context=a,this._size=f,this._tileSize=m,this._objects=[],this._recentlyUsed=[],this._stamp=0}destruct(){for(let a of this._objects)a.texture.destroy(),a.fbo.destroy()}_createObject(a){let f=this._context.createFramebuffer(this._tileSize,this._tileSize,!0,!0),m=new o.T(this._context,{width:this._tileSize,height:this._tileSize,data:null},this._context.gl.RGBA);return m.bind(this._context.gl.LINEAR,this._context.gl.CLAMP_TO_EDGE),this._context.extTextureFilterAnisotropic&&this._context.gl.texParameterf(this._context.gl.TEXTURE_2D,this._context.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,this._context.extTextureFilterAnisotropicMax),f.depthAttachment.set(this._context.createRenderbuffer(this._context.gl.DEPTH_STENCIL,this._tileSize,this._tileSize)),f.colorAttachment.set(m.texture),{id:a,fbo:f,texture:m,stamp:-1,inUse:!1}}getObjectForId(a){return this._objects[a]}useObject(a){a.inUse=!0,this._recentlyUsed=this._recentlyUsed.filter(f=>a.id!==f),this._recentlyUsed.push(a.id)}stampObject(a){a.stamp=++this._stamp}getOrCreateFreeObject(){for(let f of this._recentlyUsed)if(!this._objects[f].inUse)return this._objects[f];if(this._objects.length>=this._size)throw new Error("No free RenderPool available, call freeAllObjects() required!");let a=this._createObject(this._objects.length);return this._objects.push(a),a}freeObject(a){a.inUse=!1}freeAllObjects(){for(let a of this._objects)this.freeObject(a)}isFull(){return!(this._objects.length<this._size)&&this._objects.some(a=>!a.inUse)===!1}}let kc={background:!0,fill:!0,line:!0,raster:!0,hillshade:!0,"color-relief":!0};class ly{constructor(a,f){this.painter=a,this.terrain=f,this.pool=new sy(a.context,30,f.sourceCache.tileSize*f.qualityFactor)}destruct(){this.pool.destruct()}getTexture(a){return this.pool.getObjectForId(a.rtt[this._stacks.length-1].id).texture}prepareForRender(a,f){this._stacks=[],this._prevType=null,this._rttTiles=[],this._renderableTiles=this.terrain.sourceCache.getRenderableTiles(),this._renderableLayerIds=a._order.filter(m=>!a._layers[m].isHidden(f)),this._coordsAscending={};for(let m in a.sourceCaches){this._coordsAscending[m]={};let y=a.sourceCaches[m].getVisibleCoordinates(),w=a.sourceCaches[m].getSource(),M=w instanceof Xt?w.terrainTileRanges:null;for(let D of y){let k=this.terrain.sourceCache.getTerrainCoords(D,M);for(let B in k)this._coordsAscending[m][B]||(this._coordsAscending[m][B]=[]),this._coordsAscending[m][B].push(k[B])}}this._coordsAscendingStr={};for(let m of a._order){let y=a._layers[m],w=y.source;if(kc[y.type]&&!this._coordsAscendingStr[w]){this._coordsAscendingStr[w]={};for(let M in this._coordsAscending[w])this._coordsAscendingStr[w][M]=this._coordsAscending[w][M].map(D=>D.key).sort().join()}}for(let m of this._renderableTiles)for(let y in this._coordsAscendingStr){let w=this._coordsAscendingStr[y][m.tileID.key];w&&w!==m.rttCoords[y]&&(m.rtt=[])}}renderLayer(a,f){if(a.isHidden(this.painter.transform.zoom))return!1;let m=Object.assign(Object.assign({},f),{isRenderingToTexture:!0}),y=a.type,w=this.painter,M=this._renderableLayerIds[this._renderableLayerIds.length-1]===a.id;if(kc[y]&&(this._prevType&&kc[this._prevType]||this._stacks.push([]),this._prevType=y,this._stacks[this._stacks.length-1].push(a.id),!M))return!0;if(kc[this._prevType]||kc[y]&&M){this._prevType=y;let D=this._stacks.length-1,k=this._stacks[D]||[];for(let B of this._renderableTiles){if(this.pool.isFull()&&(ey(this.painter,this.terrain,this._rttTiles,m),this._rttTiles=[],this.pool.freeAllObjects()),this._rttTiles.push(B),B.rtt[D]){let W=this.pool.getObjectForId(B.rtt[D].id);if(W.stamp===B.rtt[D].stamp){this.pool.useObject(W);continue}}let V=this.pool.getOrCreateFreeObject();this.pool.useObject(V),this.pool.stampObject(V),B.rtt[D]={id:V.id,stamp:V.stamp},w.context.bindFramebuffer.set(V.fbo.framebuffer),w.context.clear({color:o.bf.transparent,stencil:0}),w.currentStencilSource=void 0;for(let W=0;W<k.length;W++){let G=w.style._layers[k[W]],K=G.source?this._coordsAscending[G.source][B.tileID.key]:[B.tileID];w.context.viewport.set([0,0,V.fbo.width,V.fbo.height]),w._renderTileClippingMasks(G,K,!0),w.renderLayer(w,w.style.sourceCaches[G.source],G,K,m),G.source&&(B.rttCoords[G.source]=this._coordsAscendingStr[G.source][B.tileID.key])}}return ey(this.painter,this.terrain,this._rttTiles,m),this._rttTiles=[],this.pool.freeAllObjects(),kc[y]}return!1}}let na={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"MapLibre logo","Map.Title":"Map","Marker.Title":"Map marker","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","Popup.Close":"Close popup","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm","GlobeControl.Enable":"Enable globe","GlobeControl.Disable":"Disable globe","TerrainControl.Enable":"Enable terrain","TerrainControl.Disable":"Disable terrain","CooperativeGesturesHandler.WindowsHelpText":"Use Ctrl + scroll to zoom the map","CooperativeGesturesHandler.MacHelpText":"Use \u2318 + scroll to zoom the map","CooperativeGesturesHandler.MobileHelpText":"Use two fingers to move the map"},BT=u,Ps={hash:!1,interactive:!0,bearingSnap:7,attributionControl:Bb,maplibreLogo:!1,refreshExpiredTiles:!0,canvasContextAttributes:{antialias:!1,preserveDrawingBuffer:!1,powerPreference:"high-performance",failIfMajorPerformanceCaveat:!1,desynchronized:!1,contextType:void 0},scrollZoom:!0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,trackResize:!0,center:[0,0],elevation:0,zoom:0,bearing:0,pitch:0,roll:0,renderWorldCopies:!0,maxTileCacheSize:null,maxTileCacheZoomLevels:o.a.MAX_TILE_CACHE_ZOOM_LEVELS,transformRequest:null,transformCameraUpdate:null,fadeDuration:300,crossSourceCollisions:!0,clickTolerance:3,localIdeographFontFamily:"sans-serif",pitchWithRotate:!0,rollEnabled:!1,validateStyle:!0,maxCanvasSize:[4096,4096],cancelPendingTileRequestsWhileZooming:!0,centerClampedToGround:!0},lL={showCompass:!0,showZoom:!0,visualizePitch:!1,visualizeRoll:!0};class jm{constructor(a,f,m=!1){this.mousedown=w=>{this.startMove(w,T.mousePos(this.element,w)),T.addEventListener(window,"mousemove",this.mousemove),T.addEventListener(window,"mouseup",this.mouseup)},this.mousemove=w=>{this.move(w,T.mousePos(this.element,w))},this.mouseup=w=>{this._rotatePitchHandler.dragEnd(w),this.offTemp()},this.touchstart=w=>{w.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=T.touchPos(this.element,w.targetTouches)[0],this.startMove(w,this._startPos),T.addEventListener(window,"touchmove",this.touchmove,{passive:!1}),T.addEventListener(window,"touchend",this.touchend))},this.touchmove=w=>{w.targetTouches.length!==1?this.reset():(this._lastPos=T.touchPos(this.element,w.targetTouches)[0],this.move(w,this._lastPos))},this.touchend=w=>{w.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),delete this._startPos,delete this._lastPos,this.offTemp()},this.reset=()=>{this._rotatePitchHandler.reset(),delete this._startPos,delete this._lastPos,this.offTemp()},this._clickTolerance=10,this.element=f;let y=new oL;this._rotatePitchHandler=new bd({clickTolerance:3,move:(w,M)=>{let D=f.getBoundingClientRect(),k=new o.P((D.bottom-D.top)/2,(D.right-D.left)/2);return{bearingDelta:o.cn(new o.P(w.x,M.y),M,k),pitchDelta:m?-.5*(M.y-w.y):void 0}},moveStateManager:y,enable:!0,assignEvents:()=>{}}),this.map=a,T.addEventListener(f,"mousedown",this.mousedown),T.addEventListener(f,"touchstart",this.touchstart,{passive:!1}),T.addEventListener(f,"touchcancel",this.reset)}startMove(a,f){this._rotatePitchHandler.dragStart(a,f),T.disableDrag()}move(a,f){let m=this.map,{bearingDelta:y,pitchDelta:w}=this._rotatePitchHandler.dragMove(a,f)||{};y&&m.setBearing(m.getBearing()+y),w&&m.setPitch(m.getPitch()+w)}off(){let a=this.element;T.removeEventListener(a,"mousedown",this.mousedown),T.removeEventListener(a,"touchstart",this.touchstart,{passive:!1}),T.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),T.removeEventListener(window,"touchend",this.touchend),T.removeEventListener(a,"touchcancel",this.reset),this.offTemp()}offTemp(){T.enableDrag(),T.removeEventListener(window,"mousemove",this.mousemove),T.removeEventListener(window,"mouseup",this.mouseup),T.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),T.removeEventListener(window,"touchend",this.touchend)}}let Un;function Di(x,a,f,m=!1){if(m||!f.getCoveringTilesDetailsProvider().allowWorldCopies())return x==null?void 0:x.wrap();let y=new o.S(x.lng,x.lat);if(x=new o.S(x.lng,x.lat),a){let w=new o.S(x.lng-360,x.lat),M=new o.S(x.lng+360,x.lat),D=f.locationToScreenPoint(x).distSqr(a);f.locationToScreenPoint(w).distSqr(a)<D?x=w:f.locationToScreenPoint(M).distSqr(a)<D&&(x=M)}for(;Math.abs(x.lng-f.center.lng)>180;){let w=f.locationToScreenPoint(x);if(w.x>=0&&w.y>=0&&w.x<=f.width&&w.y<=f.height)break;x.lng>f.center.lng?x.lng-=360:x.lng+=360}return x.lng!==y.lng&&f.isPointOnMapSurface(f.locationToScreenPoint(x))?x:y}let uy={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Ed(x,a,f){let m=x.classList;for(let y in uy)m.remove(`maplibregl-${f}-anchor-${y}`);m.add(`maplibregl-${f}-anchor-${a}`)}class Id extends o.E{constructor(a){if(super(),this._onKeyPress=f=>{let m=f.code,y=f.charCode||f.keyCode;m!=="Space"&&m!=="Enter"&&y!==32&&y!==13||this.togglePopup()},this._onMapClick=f=>{let m=f.originalEvent.target,y=this._element;this._popup&&(m===y||y.contains(m))&&this.togglePopup()},this._update=f=>{if(!this._map)return;let m=this._map.loaded()&&!this._map.isMoving();((f==null?void 0:f.type)==="terrain"||(f==null?void 0:f.type)==="render"&&!m)&&this._map.once("render",this._update),this._lngLat=Di(this._lngLat,this._flatPos,this._map.transform),this._flatPos=this._pos=this._map.project(this._lngLat)._add(this._offset),this._map.terrain&&(this._flatPos=this._map.transform.locationToScreenPoint(this._lngLat)._add(this._offset));let y="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?y=`rotateZ(${this._rotation}deg)`:this._rotationAlignment==="map"&&(y=`rotateZ(${this._rotation-this._map.getBearing()}deg)`);let w="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?w="rotateX(0deg)":this._pitchAlignment==="map"&&(w=`rotateX(${this._map.getPitch()}deg)`),this._subpixelPositioning||f&&f.type!=="moveend"||(this._pos=this._pos.round()),T.setTransform(this._element,`${uy[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${w} ${y}`),I.frameAsync(new AbortController).then(()=>{this._updateOpacity(f&&f.type==="moveend")}).catch(()=>{})},this._onMove=f=>{if(!this._isDragging){let m=this._clickTolerance||this._map._clickTolerance;this._isDragging=f.point.dist(this._pointerdownPos)>=m}this._isDragging&&(this._pos=f.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new o.l("dragstart"))),this.fire(new o.l("drag")))},this._onUp=()=>{this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new o.l("dragend")),this._state="inactive"},this._addDragHandler=f=>{this._element.contains(f.originalEvent.target)&&(f.preventDefault(),this._positionDelta=f.point.sub(this._pos).add(this._offset),this._pointerdownPos=f.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},this._anchor=a&&a.anchor||"center",this._color=a&&a.color||"#3FB1CE",this._scale=a&&a.scale||1,this._draggable=a&&a.draggable||!1,this._clickTolerance=a&&a.clickTolerance||0,this._subpixelPositioning=a&&a.subpixelPositioning||!1,this._isDragging=!1,this._state="inactive",this._rotation=a&&a.rotation||0,this._rotationAlignment=a&&a.rotationAlignment||"auto",this._pitchAlignment=a&&a.pitchAlignment&&a.pitchAlignment!=="auto"?a.pitchAlignment:this._rotationAlignment,this.setOpacity(a==null?void 0:a.opacity,a==null?void 0:a.opacityWhenCovered),a&&a.element)this._element=a.element,this._offset=o.P.convert(a&&a.offset||[0,0]);else{this._defaultMarker=!0,this._element=T.create("div");let f=T.createNS("http://www.w3.org/2000/svg","svg"),m=41,y=27;f.setAttributeNS(null,"display","block"),f.setAttributeNS(null,"height",`${m}px`),f.setAttributeNS(null,"width",`${y}px`),f.setAttributeNS(null,"viewBox",`0 0 ${y} ${m}`);let w=T.createNS("http://www.w3.org/2000/svg","g");w.setAttributeNS(null,"stroke","none"),w.setAttributeNS(null,"stroke-width","1"),w.setAttributeNS(null,"fill","none"),w.setAttributeNS(null,"fill-rule","evenodd");let M=T.createNS("http://www.w3.org/2000/svg","g");M.setAttributeNS(null,"fill-rule","nonzero");let D=T.createNS("http://www.w3.org/2000/svg","g");D.setAttributeNS(null,"transform","translate(3.0, 29.0)"),D.setAttributeNS(null,"fill","#000000");let k=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(let fe of k){let ge=T.createNS("http://www.w3.org/2000/svg","ellipse");ge.setAttributeNS(null,"opacity","0.04"),ge.setAttributeNS(null,"cx","10.5"),ge.setAttributeNS(null,"cy","5.80029008"),ge.setAttributeNS(null,"rx",fe.rx),ge.setAttributeNS(null,"ry",fe.ry),D.appendChild(ge)}let B=T.createNS("http://www.w3.org/2000/svg","g");B.setAttributeNS(null,"fill",this._color);let V=T.createNS("http://www.w3.org/2000/svg","path");V.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),B.appendChild(V);let W=T.createNS("http://www.w3.org/2000/svg","g");W.setAttributeNS(null,"opacity","0.25"),W.setAttributeNS(null,"fill","#000000");let G=T.createNS("http://www.w3.org/2000/svg","path");G.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),W.appendChild(G);let K=T.createNS("http://www.w3.org/2000/svg","g");K.setAttributeNS(null,"transform","translate(6.0, 7.0)"),K.setAttributeNS(null,"fill","#FFFFFF");let ee=T.createNS("http://www.w3.org/2000/svg","g");ee.setAttributeNS(null,"transform","translate(8.0, 8.0)");let pe=T.createNS("http://www.w3.org/2000/svg","circle");pe.setAttributeNS(null,"fill","#000000"),pe.setAttributeNS(null,"opacity","0.25"),pe.setAttributeNS(null,"cx","5.5"),pe.setAttributeNS(null,"cy","5.5"),pe.setAttributeNS(null,"r","5.4999962");let ce=T.createNS("http://www.w3.org/2000/svg","circle");ce.setAttributeNS(null,"fill","#FFFFFF"),ce.setAttributeNS(null,"cx","5.5"),ce.setAttributeNS(null,"cy","5.5"),ce.setAttributeNS(null,"r","5.4999962"),ee.appendChild(pe),ee.appendChild(ce),M.appendChild(D),M.appendChild(B),M.appendChild(W),M.appendChild(K),M.appendChild(ee),f.appendChild(M),f.setAttributeNS(null,"height",m*this._scale+"px"),f.setAttributeNS(null,"width",y*this._scale+"px"),this._element.appendChild(f),this._offset=o.P.convert(a&&a.offset||[0,-14])}if(this._element.classList.add("maplibregl-marker"),this._element.addEventListener("dragstart",f=>{f.preventDefault()}),this._element.addEventListener("mousedown",f=>{f.preventDefault()}),Ed(this._element,this._anchor,"marker"),a&&a.className)for(let f of a.className.split(" "))this._element.classList.add(f);this._popup=null}addTo(a){return this.remove(),this._map=a,this._element.hasAttribute("aria-label")||this._element.setAttribute("aria-label",a._getUIString("Marker.Title")),a.getCanvasContainer().appendChild(this._element),a.on("move",this._update),a.on("moveend",this._update),a.on("terrain",this._update),a.on("projectiontransition",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._opacityTimeout&&(clearTimeout(this._opacityTimeout),delete this._opacityTimeout),this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("terrain",this._update),this._map.off("projectiontransition",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),T.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(a){return this._lngLat=o.S.convert(a),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(a){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),a){if(!("offset"in a.options)){let y=Math.abs(13.5)/Math.SQRT2;a.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[y,-1*(38.1-13.5+y)],"bottom-right":[-y,-1*(38.1-13.5+y)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=a,this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}setSubpixelPositioning(a){return this._subpixelPositioning=a,this}getPopup(){return this._popup}togglePopup(){let a=this._popup;return this._element.style.opacity===this._opacityWhenCovered?this:a?(a.isOpen()?a.remove():(a.setLngLat(this._lngLat),a.addTo(this._map)),this):this}_updateOpacity(a=!1){var f,m;let y=(f=this._map)===null||f===void 0?void 0:f.terrain,w=this._map.transform.isLocationOccluded(this._lngLat);if(!y||w){let K=w?this._opacityWhenCovered:this._opacity;return void(this._element.style.opacity!==K&&(this._element.style.opacity=K))}if(a)this._opacityTimeout=null;else{if(this._opacityTimeout)return;this._opacityTimeout=setTimeout(()=>{this._opacityTimeout=null},100)}let M=this._map,D=M.terrain.depthAtPoint(this._pos),k=M.terrain.getElevationForLngLatZoom(this._lngLat,M.transform.tileZoom);if(M.transform.lngLatToCameraDepth(this._lngLat,k)-D<.006)return void(this._element.style.opacity=this._opacity);let B=-this._offset.y/M.transform.pixelsPerMeter,V=Math.sin(M.getPitch()*Math.PI/180)*B,W=M.terrain.depthAtPoint(new o.P(this._pos.x,this._pos.y-this._offset.y)),G=M.transform.lngLatToCameraDepth(this._lngLat,k+V)-W>.006;!((m=this._popup)===null||m===void 0)&&m.isOpen()&&G&&this._popup.remove(),this._element.style.opacity=G?this._opacityWhenCovered:this._opacity}getOffset(){return this._offset}setOffset(a){return this._offset=o.P.convert(a),this._update(),this}addClassName(a){this._element.classList.add(a)}removeClassName(a){this._element.classList.remove(a)}toggleClassName(a){return this._element.classList.toggle(a)}setDraggable(a){return this._draggable=!!a,this._map&&(a?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(a){return this._rotation=a||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(a){return this._rotationAlignment=a||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(a){return this._pitchAlignment=a&&a!=="auto"?a:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}setOpacity(a,f){return(this._opacity===void 0||a===void 0&&f===void 0)&&(this._opacity="1",this._opacityWhenCovered="0.2"),a!==void 0&&(this._opacity=a),f!==void 0&&(this._opacityWhenCovered=f),this._map&&this._updateOpacity(!0),this}}let Vb={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},Td=0,Jp=!1,Fm={maxWidth:100,unit:"metric"};function cy(x,a,f){let m=f&&f.maxWidth||100,y=x._container.clientHeight/2,w=x._container.clientWidth/2,M=x.unproject([w-m/2,y]),D=x.unproject([w+m/2,y]),k=Math.round(x.project(D).x-x.project(M).x),B=Math.min(m,k,x._container.clientWidth),V=M.distanceTo(D);if(f&&f.unit==="imperial"){let W=3.2808*V;W>5280?ef(a,B,W/5280,x._getUIString("ScaleControl.Miles")):ef(a,B,W,x._getUIString("ScaleControl.Feet"))}else f&&f.unit==="nautical"?ef(a,B,V/1852,x._getUIString("ScaleControl.NauticalMiles")):V>=1e3?ef(a,B,V/1e3,x._getUIString("ScaleControl.Kilometers")):ef(a,B,V,x._getUIString("ScaleControl.Meters"))}function ef(x,a,f,m){let y=function(w){let M=Math.pow(10,`${Math.floor(w)}`.length-1),D=w/M;return D=D>=10?10:D>=5?5:D>=3?3:D>=2?2:D>=1?1:function(k){let B=Math.pow(10,Math.ceil(-Math.log(k)/Math.LN10));return Math.round(k*B)/B}(D),M*D}(f);x.style.width=a*(y/f)+"px",x.innerHTML=`${y}&nbsp;${m}`}let $b={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px",subpixelPositioning:!1,locationOccludedOpacity:void 0},Gb=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function py(x){if(x){if(typeof x=="number"){let a=Math.round(Math.abs(x)/Math.SQRT2);return{center:new o.P(0,0),top:new o.P(0,x),"top-left":new o.P(a,a),"top-right":new o.P(-a,a),bottom:new o.P(0,-x),"bottom-left":new o.P(a,-a),"bottom-right":new o.P(-a,-a),left:new o.P(x,0),right:new o.P(-x,0)}}if(x instanceof o.P||Array.isArray(x)){let a=o.P.convert(x);return{center:a,top:a,"top-left":a,"top-right":a,bottom:a,"bottom-left":a,"bottom-right":a,left:a,right:a}}return{center:o.P.convert(x.center||[0,0]),top:o.P.convert(x.top||[0,0]),"top-left":o.P.convert(x["top-left"]||[0,0]),"top-right":o.P.convert(x["top-right"]||[0,0]),bottom:o.P.convert(x.bottom||[0,0]),"bottom-left":o.P.convert(x["bottom-left"]||[0,0]),"bottom-right":o.P.convert(x["bottom-right"]||[0,0]),left:o.P.convert(x.left||[0,0]),right:o.P.convert(x.right||[0,0])}}return py(new o.P(0,0))}let Hb=u;i.AJAXError=o.cz,i.Event=o.l,i.Evented=o.E,i.LngLat=o.S,i.MercatorCoordinate=o.a1,i.Point=o.P,i.addProtocol=o.cA,i.config=o.a,i.removeProtocol=o.cB,i.AttributionControl=Ub,i.BoxZoomHandler=Nb,i.CanvasSource=Pr,i.CooperativeGesturesHandler=zT,i.DoubleClickZoomHandler=qb,i.DragPanHandler=LT,i.DragRotateHandler=jb,i.EdgeInsets=Fp,i.FullscreenControl=class extends o.E{constructor(x={}){super(),this._onFullscreenChange=()=>{var a;let f=window.document.fullscreenElement||window.document.mozFullScreenElement||window.document.webkitFullscreenElement||window.document.msFullscreenElement;for(;!((a=f==null?void 0:f.shadowRoot)===null||a===void 0)&&a.fullscreenElement;)f=f.shadowRoot.fullscreenElement;f===this._container!==this._fullscreen&&this._handleFullscreenChange()},this._onClickFullscreen=()=>{this._isFullscreen()?this._exitFullscreen():this._requestFullscreen()},this._fullscreen=!1,x&&x.container&&(x.container instanceof HTMLElement?this._container=x.container:o.w("Full screen control 'container' must be a DOM element.")),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in document&&(this._fullscreenchange="MSFullscreenChange")}onAdd(x){return this._map=x,this._container||(this._container=this._map.getContainer()),this._controlContainer=T.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),this._controlContainer}onRemove(){T.remove(this._controlContainer),this._map=null,window.document.removeEventListener(this._fullscreenchange,this._onFullscreenChange)}_setupUI(){let x=this._fullscreenButton=T.create("button","maplibregl-ctrl-fullscreen",this._controlContainer);T.create("span","maplibregl-ctrl-icon",x).setAttribute("aria-hidden","true"),x.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),window.document.addEventListener(this._fullscreenchange,this._onFullscreenChange)}_updateTitle(){let x=this._getTitle();this._fullscreenButton.setAttribute("aria-label",x),this._fullscreenButton.title=x}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_handleFullscreenChange(){this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._updateTitle(),this._fullscreen?(this.fire(new o.l("fullscreenstart")),this._prevCooperativeGesturesEnabled=this._map.cooperativeGestures.isEnabled(),this._map.cooperativeGestures.disable()):(this.fire(new o.l("fullscreenend")),this._prevCooperativeGesturesEnabled&&this._map.cooperativeGestures.enable())}_exitFullscreen(){window.document.exitFullscreen?window.document.exitFullscreen():window.document.mozCancelFullScreen?window.document.mozCancelFullScreen():window.document.msExitFullscreen?window.document.msExitFullscreen():window.document.webkitCancelFullScreen?window.document.webkitCancelFullScreen():this._togglePseudoFullScreen()}_requestFullscreen(){this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen?this._container.webkitRequestFullscreen():this._togglePseudoFullScreen()}_togglePseudoFullScreen(){this._container.classList.toggle("maplibregl-pseudo-fullscreen"),this._handleFullscreenChange(),this._map.resize()}},i.GeoJSONSource=kt,i.GeolocateControl=class extends o.E{constructor(x){super(),this._onSuccess=a=>{if(this._map){if(this._isOutOfMapMaxBounds(a))return this._setErrorState(),this.fire(new o.l("outofmaxbounds",a)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=a,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background");break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(a),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(a),this.options.showUserLocation&&this._dotElement.classList.remove("maplibregl-user-location-dot-stale"),this.fire(new o.l("geolocate",a)),this._finish()}},this._updateCamera=a=>{let f=new o.S(a.coords.longitude,a.coords.latitude),m=a.coords.accuracy,y=this._map.getBearing(),w=o.e({bearing:y},this.options.fitBoundsOptions),M=vt.fromLngLat(f,m);this._map.fitBounds(M,w,{geolocateSource:!0})},this._updateMarker=a=>{if(a){let f=new o.S(a.coords.longitude,a.coords.latitude);this._accuracyCircleMarker.setLngLat(f).addTo(this._map),this._userLocationDotMarker.setLngLat(f).addTo(this._map),this._accuracy=a.coords.accuracy,this._updateCircleRadiusIfNeeded()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},this._onUpdate=()=>{this._updateCircleRadiusIfNeeded()},this._onError=a=>{if(this._map){if(a.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;let f=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=f,this._geolocateButton.setAttribute("aria-label",f),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(a.code===3&&Jp)return;this.options.trackUserLocation&&this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("maplibregl-user-location-dot-stale"),this.fire(new o.l("error",a)),this._finish()}},this._finish=()=>{this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},this._setupUI=()=>{this._map&&(this._container.addEventListener("contextmenu",a=>a.preventDefault()),this._geolocateButton=T.create("button","maplibregl-ctrl-geolocate",this._container),T.create("span","maplibregl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",this._geolocateButton.disabled=!0)},this._finishSetupUI=a=>{if(this._map){if(a===!1){o.w("Geolocation support is not available so the GeolocateControl will be disabled.");let f=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=f,this._geolocateButton.setAttribute("aria-label",f)}else{let f=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.disabled=!1,this._geolocateButton.title=f,this._geolocateButton.setAttribute("aria-label",f)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=T.create("div","maplibregl-user-location-dot"),this._userLocationDotMarker=new Id({element:this._dotElement}),this._circleElement=T.create("div","maplibregl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Id({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onUpdate),this._map.on("move",this._onUpdate),this._map.on("rotate",this._onUpdate),this._map.on("pitch",this._onUpdate)),this._geolocateButton.addEventListener("click",()=>this.trigger()),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",f=>{let m=(f==null?void 0:f[0])instanceof ResizeObserverEntry;f.geolocateSource||this._watchState!=="ACTIVE_LOCK"||m||this._map.isZooming()||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this.fire(new o.l("trackuserlocationend")),this.fire(new o.l("userlocationlostfocus")))})}},this.options=o.e({},Vb,x)}onAdd(x){return this._map=x,this._container=T.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),function(){return o._(this,arguments,void 0,function*(a=!1){if(Un!==void 0&&!a)return Un;if(window.navigator.permissions===void 0)return Un=!!window.navigator.geolocation,Un;try{Un=(yield window.navigator.permissions.query({name:"geolocation"})).state!=="denied"}catch(f){Un=!!window.navigator.geolocation}return Un})}().then(a=>this._finishSetupUI(a)),this._container}onRemove(){this._geolocationWatchID!==void 0&&(window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),T.remove(this._container),this._map.off("zoom",this._onUpdate),this._map.off("move",this._onUpdate),this._map.off("rotate",this._onUpdate),this._map.off("pitch",this._onUpdate),this._map=void 0,Td=0,Jp=!1}_isOutOfMapMaxBounds(x){let a=this._map.getMaxBounds(),f=x.coords;return a&&(f.longitude<a.getWest()||f.longitude>a.getEast()||f.latitude<a.getSouth()||f.latitude>a.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"ACTIVE_ERROR":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}}_updateCircleRadiusIfNeeded(){let x=this._userLocationDotMarker.getLngLat();if(!(this.options.showUserLocation&&this.options.showAccuracyCircle&&this._accuracy&&x))return;let a=this._map.project(x),f=this._map.unproject([a.x+100,a.y]),m=x.distanceTo(f)/100,y=2*this._accuracy/m;this._circleElement.style.width=`${y.toFixed(2)}px`,this._circleElement.style.height=`${y.toFixed(2)}px`}trigger(){if(!this._setup)return o.w("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new o.l("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Td--,Jp=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this.fire(new o.l("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new o.l("trackuserlocationstart")),this.fire(new o.l("userlocationfocus"));break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"OFF":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let x;this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),Td++,Td>1?(x={maximumAge:6e5,timeout:0},Jp=!0):(x=this.options.positionOptions,Jp=!1),this._geolocationWatchID=window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,x)}}else window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_clearWatch(){window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},i.GlobeControl=class{constructor(){this._toggleProjection=()=>{var x;let a=(x=this._map.getProjection())===null||x===void 0?void 0:x.type;this._map.setProjection(a!=="mercator"&&a?{type:"mercator"}:{type:"globe"}),this._updateGlobeIcon()},this._updateGlobeIcon=()=>{var x;this._globeButton.classList.remove("maplibregl-ctrl-globe"),this._globeButton.classList.remove("maplibregl-ctrl-globe-enabled"),((x=this._map.getProjection())===null||x===void 0?void 0:x.type)==="globe"?(this._globeButton.classList.add("maplibregl-ctrl-globe-enabled"),this._globeButton.title=this._map._getUIString("GlobeControl.Disable")):(this._globeButton.classList.add("maplibregl-ctrl-globe"),this._globeButton.title=this._map._getUIString("GlobeControl.Enable"))}}onAdd(x){return this._map=x,this._container=T.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._globeButton=T.create("button","maplibregl-ctrl-globe",this._container),T.create("span","maplibregl-ctrl-icon",this._globeButton).setAttribute("aria-hidden","true"),this._globeButton.type="button",this._globeButton.addEventListener("click",this._toggleProjection),this._updateGlobeIcon(),this._map.on("styledata",this._updateGlobeIcon),this._container}onRemove(){T.remove(this._container),this._map.off("styledata",this._updateGlobeIcon),this._globeButton.removeEventListener("click",this._toggleProjection),this._map=void 0}},i.Hash=ty,i.ImageSource=Xt,i.KeyboardHandler=iy,i.LngLatBounds=vt,i.LogoControl=FT,i.Map=class extends jT{constructor(x){var a,f;o.cw.mark(o.cx.create);let m=Object.assign(Object.assign(Object.assign({},Ps),x),{canvasContextAttributes:Object.assign(Object.assign({},Ps.canvasContextAttributes),x.canvasContextAttributes)});if(m.minZoom!=null&&m.maxZoom!=null&&m.minZoom>m.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(m.minPitch!=null&&m.maxPitch!=null&&m.minPitch>m.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(m.minPitch!=null&&m.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(m.maxPitch!=null&&m.maxPitch>180)throw new Error("maxPitch must be less than or equal to 180");let y=new Wn,w=new jo;if(m.minZoom!==void 0&&y.setMinZoom(m.minZoom),m.maxZoom!==void 0&&y.setMaxZoom(m.maxZoom),m.minPitch!==void 0&&y.setMinPitch(m.minPitch),m.maxPitch!==void 0&&y.setMaxPitch(m.maxPitch),m.renderWorldCopies!==void 0&&y.setRenderWorldCopies(m.renderWorldCopies),super(y,w,{bearingSnap:m.bearingSnap}),this._idleTriggered=!1,this._crossFadingFactor=1,this._renderTaskQueue=new Ul,this._controls=[],this._mapId=o.a7(),this._contextLost=D=>{D.preventDefault(),this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this.fire(new o.l("webglcontextlost",{originalEvent:D}))},this._contextRestored=D=>{this._setupPainter(),this.resize(),this._update(),this.fire(new o.l("webglcontextrestored",{originalEvent:D}))},this._onMapScroll=D=>{if(D.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},this._onWindowOnline=()=>{this._update()},this._interactive=m.interactive,this._maxTileCacheSize=m.maxTileCacheSize,this._maxTileCacheZoomLevels=m.maxTileCacheZoomLevels,this._canvasContextAttributes=Object.assign({},m.canvasContextAttributes),this._trackResize=m.trackResize===!0,this._bearingSnap=m.bearingSnap,this._centerClampedToGround=m.centerClampedToGround,this._refreshExpiredTiles=m.refreshExpiredTiles===!0,this._fadeDuration=m.fadeDuration,this._crossSourceCollisions=m.crossSourceCollisions===!0,this._collectResourceTiming=m.collectResourceTiming===!0,this._locale=Object.assign(Object.assign({},na),m.locale),this._clickTolerance=m.clickTolerance,this._overridePixelRatio=m.pixelRatio,this._maxCanvasSize=m.maxCanvasSize,this.transformCameraUpdate=m.transformCameraUpdate,this.cancelPendingTileRequestsWhileZooming=m.cancelPendingTileRequestsWhileZooming===!0,this._imageQueueHandle=F.addThrottleControl(()=>this.isMoving()),this._requestManager=new H(m.transformRequest),typeof m.container=="string"){if(this._container=document.getElementById(m.container),!this._container)throw new Error(`Container '${m.container}' not found.`)}else{if(!(m.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=m.container}if(m.maxBounds&&this.setMaxBounds(m.maxBounds),this._setupContainer(),this._setupPainter(),this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),this.on("terrain",()=>{this.painter.terrainFacilitator.dirty=!0,this._update(!0)}),this.once("idle",()=>{this._idleTriggered=!0}),typeof window!="undefined"){addEventListener("online",this._onWindowOnline,!1);let D=!1,k=Xp(B=>{this._trackResize&&!this._removed&&(this.resize(B),this.redraw())},50);this._resizeObserver=new ResizeObserver(B=>{D?k(B):D=!0}),this._resizeObserver.observe(this._container)}this.handlers=new Fb(this,m),this._hash=m.hash&&new ty(typeof m.hash=="string"&&m.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:m.center,elevation:m.elevation,zoom:m.zoom,bearing:m.bearing,pitch:m.pitch,roll:m.roll}),m.bounds&&(this.resize(),this.fitBounds(m.bounds,o.e({},m.fitBoundsOptions,{duration:0}))));let M=typeof m.style=="string"||((f=(a=m.style)===null||a===void 0?void 0:a.projection)===null||f===void 0?void 0:f.type)!=="globe";this.resize(null,M),this._localIdeographFontFamily=m.localIdeographFontFamily,this._validateStyle=m.validateStyle,m.style&&this.setStyle(m.style,{localIdeographFontFamily:m.localIdeographFontFamily}),m.attributionControl&&this.addControl(new Ub(typeof m.attributionControl=="boolean"?void 0:m.attributionControl)),m.maplibreLogo&&this.addControl(new FT,m.logoPosition),this.on("style.load",()=>{if(M||this._resizeTransform(),this.transform.unmodified){let D=o.Q(this.style.stylesheet,["center","zoom","bearing","pitch","roll"]);this.jumpTo(D)}}),this.on("data",D=>{this._update(D.dataType==="style"),this.fire(new o.l(`${D.dataType}data`,D))}),this.on("dataloading",D=>{this.fire(new o.l(`${D.dataType}dataloading`,D))}),this.on("dataabort",D=>{this.fire(new o.l("sourcedataabort",D))})}_getMapId(){return this._mapId}setGlobalStateProperty(x,a){return this.style.setGlobalStateProperty(x,a),this._update(!0)}getGlobalState(){return this.style.getGlobalState()}addControl(x,a){if(a===void 0&&(a=x.getDefaultPosition?x.getDefaultPosition():"top-right"),!x||!x.onAdd)return this.fire(new o.k(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));let f=x.onAdd(this);this._controls.push(x);let m=this._controlPositions[a];return a.indexOf("bottom")!==-1?m.insertBefore(f,m.firstChild):m.appendChild(f),this}removeControl(x){if(!x||!x.onRemove)return this.fire(new o.k(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));let a=this._controls.indexOf(x);return a>-1&&this._controls.splice(a,1),x.onRemove(this),this}hasControl(x){return this._controls.indexOf(x)>-1}coveringTiles(x){return ye(this.transform,x)}calculateCameraOptionsFromTo(x,a,f,m){return m==null&&this.terrain&&(m=this.terrain.getElevationForLngLatZoom(f,this.transform.tileZoom)),super.calculateCameraOptionsFromTo(x,a,f,m)}resize(x,a=!0){let[f,m]=this._containerDimensions(),y=this._getClampedPixelRatio(f,m);if(this._resizeCanvas(f,m,y),this.painter.resize(f,m,y),this.painter.overLimit()){let M=this.painter.context.gl;this._maxCanvasSize=[M.drawingBufferWidth,M.drawingBufferHeight];let D=this._getClampedPixelRatio(f,m);this._resizeCanvas(f,m,D),this.painter.resize(f,m,D)}this._resizeTransform(a);let w=!this._moving;return w&&(this.stop(),this.fire(new o.l("movestart",x)).fire(new o.l("move",x))),this.fire(new o.l("resize",x)),w&&this.fire(new o.l("moveend",x)),this}_resizeTransform(x=!0){var a;let[f,m]=this._containerDimensions();this.transform.resize(f,m,x),(a=this._requestedCameraState)===null||a===void 0||a.resize(f,m,x)}_getClampedPixelRatio(x,a){let{0:f,1:m}=this._maxCanvasSize,y=this.getPixelRatio(),w=x*y,M=a*y;return Math.min(w>f?f/w:1,M>m?m/M:1)*y}getPixelRatio(){var x;return(x=this._overridePixelRatio)!==null&&x!==void 0?x:devicePixelRatio}setPixelRatio(x){this._overridePixelRatio=x,this.resize()}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(x){return this.transform.setMaxBounds(vt.convert(x)),this._update()}setMinZoom(x){if((x=x==null?-2:x)>=-2&&x<=this.transform.maxZoom)return this.transform.setMinZoom(x),this._update(),this.getZoom()<x&&this.setZoom(x),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(x){if((x=x==null?22:x)>=this.transform.minZoom)return this.transform.setMaxZoom(x),this._update(),this.getZoom()>x&&this.setZoom(x),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(x){if((x=x==null?0:x)<0)throw new Error("minPitch must be greater than or equal to 0");if(x>=0&&x<=this.transform.maxPitch)return this.transform.setMinPitch(x),this._update(),this.getPitch()<x&&this.setPitch(x),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(x){if((x=x==null?60:x)>180)throw new Error("maxPitch must be less than or equal to 180");if(x>=this.transform.minPitch)return this.transform.setMaxPitch(x),this._update(),this.getPitch()>x&&this.setPitch(x),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(x){return this.transform.setRenderWorldCopies(x),this._update()}project(x){return this.transform.locationToScreenPoint(o.S.convert(x),this.style&&this.terrain)}unproject(x){return this.transform.screenPointToLocation(o.P.convert(x),this.terrain)}isMoving(){var x;return this._moving||((x=this.handlers)===null||x===void 0?void 0:x.isMoving())}isZooming(){var x;return this._zooming||((x=this.handlers)===null||x===void 0?void 0:x.isZooming())}isRotating(){var x;return this._rotating||((x=this.handlers)===null||x===void 0?void 0:x.isRotating())}_createDelegatedListener(x,a,f){if(x==="mouseenter"||x==="mouseover"){let m=!1;return{layers:a,listener:f,delegates:{mousemove:w=>{let M=a.filter(k=>this.getLayer(k)),D=M.length!==0?this.queryRenderedFeatures(w.point,{layers:M}):[];D.length?m||(m=!0,f.call(this,new Ra(x,this,w.originalEvent,{features:D}))):m=!1},mouseout:()=>{m=!1}}}}if(x==="mouseleave"||x==="mouseout"){let m=!1;return{layers:a,listener:f,delegates:{mousemove:M=>{let D=a.filter(k=>this.getLayer(k));(D.length!==0?this.queryRenderedFeatures(M.point,{layers:D}):[]).length?m=!0:m&&(m=!1,f.call(this,new Ra(x,this,M.originalEvent)))},mouseout:M=>{m&&(m=!1,f.call(this,new Ra(x,this,M.originalEvent)))}}}}{let m=y=>{let w=a.filter(D=>this.getLayer(D)),M=w.length!==0?this.queryRenderedFeatures(y.point,{layers:w}):[];M.length&&(y.features=M,f.call(this,y),delete y.features)};return{layers:a,listener:f,delegates:{[x]:m}}}}_saveDelegatedListener(x,a){this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[x]=this._delegatedListeners[x]||[],this._delegatedListeners[x].push(a)}_removeDelegatedListener(x,a,f){if(!this._delegatedListeners||!this._delegatedListeners[x])return;let m=this._delegatedListeners[x];for(let y=0;y<m.length;y++){let w=m[y];if(w.listener===f&&w.layers.length===a.length&&w.layers.every(M=>a.includes(M))){for(let M in w.delegates)this.off(M,w.delegates[M]);return void m.splice(y,1)}}}on(x,a,f){if(f===void 0)return super.on(x,a);let m=typeof a=="string"?[a]:a,y=this._createDelegatedListener(x,m,f);this._saveDelegatedListener(x,y);for(let w in y.delegates)this.on(w,y.delegates[w]);return{unsubscribe:()=>{this._removeDelegatedListener(x,m,f)}}}once(x,a,f){if(f===void 0)return super.once(x,a);let m=typeof a=="string"?[a]:a,y=this._createDelegatedListener(x,m,f);for(let w in y.delegates){let M=y.delegates[w];y.delegates[w]=(...D)=>{this._removeDelegatedListener(x,m,f),M(...D)}}this._saveDelegatedListener(x,y);for(let w in y.delegates)this.once(w,y.delegates[w]);return this}off(x,a,f){return f===void 0?super.off(x,a):(this._removeDelegatedListener(x,typeof a=="string"?[a]:a,f),this)}queryRenderedFeatures(x,a){if(!this.style)return[];let f,m=x instanceof o.P||Array.isArray(x),y=m?x:[[0,0],[this.transform.width,this.transform.height]];if(a=a||(m?{}:x)||{},y instanceof o.P||typeof y[0]=="number")f=[o.P.convert(y)];else{let w=o.P.convert(y[0]),M=o.P.convert(y[1]);f=[w,new o.P(M.x,w.y),M,new o.P(w.x,M.y),w]}return this.style.queryRenderedFeatures(f,a,this.transform)}querySourceFeatures(x,a){return this.style.querySourceFeatures(x,a)}setStyle(x,a){return(a=o.e({},{localIdeographFontFamily:this._localIdeographFontFamily,validate:this._validateStyle},a)).diff!==!1&&a.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&x?(this._diffStyle(x,a),this):(this._localIdeographFontFamily=a.localIdeographFontFamily,this._updateStyle(x,a))}setTransformRequest(x){return this._requestManager.setTransformRequest(x),this}_getUIString(x){let a=this._locale[x];if(a==null)throw new Error(`Missing UI string '${x}'`);return a}_updateStyle(x,a){var f,m;if(a.transformStyle&&this.style&&!this.style._loaded)return void this.style.once("style.load",()=>this._updateStyle(x,a));let y=this.style&&a.transformStyle?this.style.serialize():void 0;return this.style&&(this.style.setEventedParent(null),this.style._remove(!x)),x?(this.style=new ub(this,a||{}),this.style.setEventedParent(this,{style:this.style}),typeof x=="string"?this.style.loadURL(x,a,y):this.style.loadJSON(x,a,y),this):((m=(f=this.style)===null||f===void 0?void 0:f.projection)===null||m===void 0||m.destroy(),delete this.style,this)}_lazyInitEmptyStyle(){this.style||(this.style=new ub(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(x,a){if(typeof x=="string"){let f=this._requestManager.transformRequest(x,"Style");o.j(f,new AbortController).then(m=>{this._updateDiff(m.data,a)}).catch(m=>{m&&this.fire(new o.k(m))})}else typeof x=="object"&&this._updateDiff(x,a)}_updateDiff(x,a){try{this.style.setState(x,a)&&this._update(!0)}catch(f){o.w(`Unable to perform style diff: ${f.message||f.error||f}.  Rebuilding the style from scratch.`),this._updateStyle(x,a)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():o.w("There is no style added to the map.")}addSource(x,a){return this._lazyInitEmptyStyle(),this.style.addSource(x,a),this._update(!0)}isSourceLoaded(x){let a=this.style&&this.style.sourceCaches[x];if(a!==void 0)return a.loaded();this.fire(new o.k(new Error(`There is no source with ID '${x}'`)))}setTerrain(x){if(this.style._checkLoaded(),this._terrainDataCallback&&this.style.off("data",this._terrainDataCallback),x){let a=this.style.sourceCaches[x.source];if(!a)throw new Error(`cannot load terrain, because there exists no source with ID: ${x.source}`);this.terrain===null&&a.reload();for(let f in this.style._layers){let m=this.style._layers[f];m.type==="hillshade"&&m.source===x.source&&o.w("You are using the same source for a hillshade layer and for 3D terrain. Please consider using two separate sources to improve rendering quality."),m.type==="color-relief"&&m.source===x.source&&o.w("You are using the same source for a color-relief layer and for 3D terrain. Please consider using two separate sources to improve rendering quality.")}this.terrain=new gr(this.painter,a,x),this.painter.renderToTexture=new ly(this.painter,this.terrain),this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this.transform.setElevation(this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this._terrainDataCallback=f=>{var m;f.dataType==="style"?this.terrain.sourceCache.freeRtt():f.dataType==="source"&&f.tile&&(f.sourceId!==x.source||this._elevationFreeze||(this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this._centerClampedToGround&&this.transform.setElevation(this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))),((m=f.source)===null||m===void 0?void 0:m.type)==="image"?this.terrain.sourceCache.freeRtt():this.terrain.sourceCache.freeRtt(f.tile.tileID))},this.style.on("data",this._terrainDataCallback)}else this.terrain&&this.terrain.sourceCache.destruct(),this.terrain=null,this.painter.renderToTexture&&this.painter.renderToTexture.destruct(),this.painter.renderToTexture=null,this.transform.setMinElevationForCurrentTile(0),this._centerClampedToGround&&this.transform.setElevation(0);return this.fire(new o.l("terrain",{terrain:x})),this}getTerrain(){var x,a;return(a=(x=this.terrain)===null||x===void 0?void 0:x.options)!==null&&a!==void 0?a:null}areTilesLoaded(){let x=this.style&&this.style.sourceCaches;for(let a in x){let f=x[a]._tiles;for(let m in f){let y=f[m];if(y.state!=="loaded"&&y.state!=="errored")return!1}}return!0}removeSource(x){return this.style.removeSource(x),this._update(!0)}getSource(x){return this.style.getSource(x)}setSourceTileLodParams(x,a,f){if(f){let m=this.getSource(f);if(!m)throw new Error(`There is no source with ID "${f}", cannot set LOD parameters`);m.calculateTileZoom=he(Math.max(1,x),Math.max(1,a))}else for(let m in this.style.sourceCaches)this.style.sourceCaches[m].getSource().calculateTileZoom=he(Math.max(1,x),Math.max(1,a));return this._update(!0),this}refreshTiles(x,a){let f=this.style.sourceCaches[x];if(!f)throw new Error(`There is no source cache with ID "${x}", cannot refresh tile`);a===void 0?f.reload(!0):f.refreshTiles(a.map(m=>new o.a4(m.z,m.x,m.y)))}addImage(x,a,f={}){let{pixelRatio:m=1,sdf:y=!1,stretchX:w,stretchY:M,content:D,textFitWidth:k,textFitHeight:B}=f;if(this._lazyInitEmptyStyle(),!(a instanceof HTMLImageElement||o.b(a))){if(a.width===void 0||a.height===void 0)return this.fire(new o.k(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{let{width:V,height:W,data:G}=a,K=a;return this.style.addImage(x,{data:new o.R({width:V,height:W},new Uint8Array(G)),pixelRatio:m,stretchX:w,stretchY:M,content:D,textFitWidth:k,textFitHeight:B,sdf:y,version:0,userImage:K}),K.onAdd&&K.onAdd(this,x),this}}{let{width:V,height:W,data:G}=I.getImageData(a);this.style.addImage(x,{data:new o.R({width:V,height:W},G),pixelRatio:m,stretchX:w,stretchY:M,content:D,textFitWidth:k,textFitHeight:B,sdf:y,version:0})}}updateImage(x,a){let f=this.style.getImage(x);if(!f)return this.fire(new o.k(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));let m=a instanceof HTMLImageElement||o.b(a)?I.getImageData(a):a,{width:y,height:w,data:M}=m;if(y===void 0||w===void 0)return this.fire(new o.k(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(y!==f.data.width||w!==f.data.height)return this.fire(new o.k(new Error("The width and height of the updated image must be that same as the previous version of the image")));let D=!(a instanceof HTMLImageElement||o.b(a));return f.data.replace(M,D),this.style.updateImage(x,f),this}getImage(x){return this.style.getImage(x)}hasImage(x){return x?!!this.style.getImage(x):(this.fire(new o.k(new Error("Missing required image id"))),!1)}removeImage(x){this.style.removeImage(x)}loadImage(x){return F.getImage(this._requestManager.transformRequest(x,"Image"),new AbortController)}listImages(){return this.style.listImages()}addLayer(x,a){return this._lazyInitEmptyStyle(),this.style.addLayer(x,a),this._update(!0)}moveLayer(x,a){return this.style.moveLayer(x,a),this._update(!0)}removeLayer(x){return this.style.removeLayer(x),this._update(!0)}getLayer(x){return this.style.getLayer(x)}getLayersOrder(){return this.style.getLayersOrder()}setLayerZoomRange(x,a,f){return this.style.setLayerZoomRange(x,a,f),this._update(!0)}setFilter(x,a,f={}){return this.style.setFilter(x,a,f),this._update(!0)}getFilter(x){return this.style.getFilter(x)}setPaintProperty(x,a,f,m={}){return this.style.setPaintProperty(x,a,f,m),this._update(!0)}getPaintProperty(x,a){return this.style.getPaintProperty(x,a)}setLayoutProperty(x,a,f,m={}){return this.style.setLayoutProperty(x,a,f,m),this._update(!0)}getLayoutProperty(x,a){return this.style.getLayoutProperty(x,a)}setGlyphs(x,a={}){return this._lazyInitEmptyStyle(),this.style.setGlyphs(x,a),this._update(!0)}getGlyphs(){return this.style.getGlyphsUrl()}addSprite(x,a,f={}){return this._lazyInitEmptyStyle(),this.style.addSprite(x,a,f,m=>{m||this._update(!0)}),this}removeSprite(x){return this._lazyInitEmptyStyle(),this.style.removeSprite(x),this._update(!0)}getSprite(){return this.style.getSprite()}setSprite(x,a={}){return this._lazyInitEmptyStyle(),this.style.setSprite(x,a,f=>{f||this._update(!0)}),this}setLight(x,a={}){return this._lazyInitEmptyStyle(),this.style.setLight(x,a),this._update(!0)}getLight(){return this.style.getLight()}setSky(x,a={}){return this._lazyInitEmptyStyle(),this.style.setSky(x,a),this._update(!0)}getSky(){return this.style.getSky()}setFeatureState(x,a){return this.style.setFeatureState(x,a),this._update()}removeFeatureState(x,a){return this.style.removeFeatureState(x,a),this._update()}getFeatureState(x){return this.style.getFeatureState(x)}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}_containerDimensions(){let x=0,a=0;return this._container&&(x=this._container.clientWidth||400,a=this._container.clientHeight||300),[x,a]}_setupContainer(){let x=this._container;x.classList.add("maplibregl-map");let a=this._canvasContainer=T.create("div","maplibregl-canvas-container",x);this._interactive&&a.classList.add("maplibregl-interactive"),this._canvas=T.create("canvas","maplibregl-canvas",a),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex",this._interactive?"0":"-1"),this._canvas.setAttribute("aria-label",this._getUIString("Map.Title")),this._canvas.setAttribute("role","region");let f=this._containerDimensions(),m=this._getClampedPixelRatio(f[0],f[1]);this._resizeCanvas(f[0],f[1],m);let y=this._controlContainer=T.create("div","maplibregl-control-container",x),w=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(M=>{w[M]=T.create("div",`maplibregl-ctrl-${M} `,y)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(x,a,f){this._canvas.width=Math.floor(f*x),this._canvas.height=Math.floor(f*a),this._canvas.style.width=`${x}px`,this._canvas.style.height=`${a}px`}_setupPainter(){let x=Object.assign(Object.assign({},this._canvasContextAttributes),{alpha:!0,depth:!0,stencil:!0,premultipliedAlpha:!0}),a=null;this._canvas.addEventListener("webglcontextcreationerror",m=>{a={requestedAttributes:x},m&&(a.statusMessage=m.statusMessage,a.type=m.type)},{once:!0});let f=null;if(f=this._canvasContextAttributes.contextType?this._canvas.getContext(this._canvasContextAttributes.contextType,x):this._canvas.getContext("webgl2",x)||this._canvas.getContext("webgl",x),!f){let m="Failed to initialize WebGL";throw a?(a.message=m,new Error(JSON.stringify(a))):new Error(m)}this.painter=new IT(f,this.transform),A.testSupport(f)}migrateProjection(x,a){super.migrateProjection(x,a),this.painter.transform=x,this.fire(new o.l("projectiontransition",{newProjection:this.style.projection.name}))}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(x){return this.style&&this.style._loaded?(this._styleDirty=this._styleDirty||x,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(x){return this._update(),this._renderTaskQueue.add(x)}_cancelRenderFrame(x){this._renderTaskQueue.remove(x)}_render(x){var a,f,m,y,w;let M=this._idleTriggered?this._fadeDuration:0,D=((a=this.style.projection)===null||a===void 0?void 0:a.transitionState)>0;if(this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(x),this._removed)return;let k=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;let W=this.transform.zoom,G=I.now();this.style.zoomHistory.update(W,G);let K=new o.F(W,{now:G,fadeDuration:M,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition(),globalState:this.style.getGlobalState()}),ee=K.crossFadingFactor();ee===1&&ee===this._crossFadingFactor||(k=!0,this._crossFadingFactor=ee),this.style.update(K)}let B=((f=this.style.projection)===null||f===void 0?void 0:f.transitionState)>0!==D;(m=this.style.projection)===null||m===void 0||m.setErrorQueryLatitudeDegrees(this.transform.center.lat),this.transform.setTransitionState((y=this.style.projection)===null||y===void 0?void 0:y.transitionState,(w=this.style.projection)===null||w===void 0?void 0:w.latitudeErrorCorrectionRadians),this.style&&(this._sourcesDirty||B)&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.terrain?(this.terrain.sourceCache.update(this.transform,this.terrain),this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),!this._elevationFreeze&&this._centerClampedToGround&&this.transform.setElevation(this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))):(this.transform.setMinElevationForCurrentTile(0),this._centerClampedToGround&&this.transform.setElevation(0)),this._placementDirty=this.style&&this.style._updatePlacement(this.transform,this.showCollisionBoxes,M,this._crossSourceCollisions,B),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:M,showPadding:this.showPadding}),this.fire(new o.l("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,o.cw.mark(o.cx.load),this.fire(new o.l("load"))),this.style&&(this.style.hasTransitions()||k)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles();let V=this._sourcesDirty||this._styleDirty||this._placementDirty;return V||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new o.l("idle")),!this._loaded||this._fullyLoaded||V||(this._fullyLoaded=!0,o.cw.mark(o.cx.fullLoad)),this}redraw(){return this.style&&(this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._render(0)),this}remove(){var x;this._hash&&this._hash.remove();for(let f of this._controls)f.onRemove(this);this._controls=[],this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof window!="undefined"&&removeEventListener("online",this._onWindowOnline,!1),F.removeThrottleControl(this._imageQueueHandle),(x=this._resizeObserver)===null||x===void 0||x.disconnect();let a=this.painter.context.gl.getExtension("WEBGL_lose_context");a!=null&&a.loseContext&&a.loseContext(),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),T.remove(this._canvasContainer),T.remove(this._controlContainer),this._container.removeEventListener("scroll",this._onMapScroll,!1),this._container.classList.remove("maplibregl-map"),o.cw.clearMetrics(),this._removed=!0,this.fire(new o.l("remove"))}triggerRepaint(){this.style&&!this._frameRequest&&(this._frameRequest=new AbortController,I.frame(this._frameRequest,x=>{o.cw.frame(x),this._frameRequest=null;try{this._render(x)}catch(a){if(!o.cy(a)&&!function(f){return f.message===Am}(a))throw a}},()=>{}))}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(x){this._showTileBoundaries!==x&&(this._showTileBoundaries=x,this._update())}get showPadding(){return!!this._showPadding}set showPadding(x){this._showPadding!==x&&(this._showPadding=x,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(x){this._showCollisionBoxes!==x&&(this._showCollisionBoxes=x,x?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(x){this._showOverdrawInspector!==x&&(this._showOverdrawInspector=x,this._update())}get repaint(){return!!this._repaint}set repaint(x){this._repaint!==x&&(this._repaint=x,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(x){this._vertices=x,this._update()}get version(){return BT}getCameraTargetElevation(){return this.transform.elevation}getProjection(){return this.style.getProjection()}setProjection(x){return this._lazyInitEmptyStyle(),this.style.setProjection(x),this._update(!0)}},i.MapMouseEvent=Ra,i.MapTouchEvent=vd,i.MapWheelEvent=kb,i.Marker=Id,i.NavigationControl=class{constructor(x){this._updateZoomButtons=()=>{let a=this._map.getZoom(),f=a===this._map.getMaxZoom(),m=a===this._map.getMinZoom();this._zoomInButton.disabled=f,this._zoomOutButton.disabled=m,this._zoomInButton.setAttribute("aria-disabled",f.toString()),this._zoomOutButton.setAttribute("aria-disabled",m.toString())},this._rotateCompassArrow=()=>{this._compassIcon.style.transform=this.options.visualizePitch&&this.options.visualizeRoll?`scale(${1/Math.pow(Math.cos(this._map.transform.pitchInRadians),.5)}) rotateZ(${-this._map.transform.roll}deg) rotateX(${this._map.transform.pitch}deg) rotateZ(${-this._map.transform.bearing}deg)`:this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitchInRadians),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${-this._map.transform.bearing}deg)`:this.options.visualizeRoll?`rotate(${-this._map.transform.bearing-this._map.transform.roll}deg)`:`rotate(${-this._map.transform.bearing}deg)`},this._setButtonTitle=(a,f)=>{let m=this._map._getUIString(`NavigationControl.${f}`);a.title=m,a.setAttribute("aria-label",m)},this.options=o.e({},lL,x),this._container=T.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._container.addEventListener("contextmenu",a=>a.preventDefault()),this.options.showZoom&&(this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in",a=>this._map.zoomIn({},{originalEvent:a})),T.create("span","maplibregl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out",a=>this._map.zoomOut({},{originalEvent:a})),T.create("span","maplibregl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(this._compass=this._createButton("maplibregl-ctrl-compass",a=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:a}):this._map.resetNorth({},{originalEvent:a})}),this._compassIcon=T.create("span","maplibregl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}onAdd(x){return this._map=x,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this.options.visualizeRoll&&this._map.on("roll",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new jm(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){T.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this.options.visualizeRoll&&this._map.off("roll",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(x,a){let f=T.create("button",x,this._container);return f.type="button",f.addEventListener("click",a),f}},i.Popup=class extends o.E{constructor(x){super(),this._updateOpacity=()=>{this.options.locationOccludedOpacity!==void 0&&(this._container.style.opacity=this._map.transform.isLocationOccluded(this.getLngLat())?`${this.options.locationOccludedOpacity}`:"")},this.remove=()=>(this._content&&T.remove(this._content),this._container&&(T.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),this._map._canvasContainer.classList.remove("maplibregl-track-pointer"),delete this._map,this.fire(new o.l("close"))),this),this._onMouseUp=a=>{this._update(a.point)},this._onMouseMove=a=>{this._update(a.point)},this._onDrag=a=>{this._update(a.point)},this._update=a=>{if(!this._map||!this._lngLat&&!this._trackPointer||!this._content)return;if(!this._container){if(this._container=T.create("div","maplibregl-popup",this._map.getContainer()),this._tip=T.create("div","maplibregl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className)for(let M of this.options.className.split(" "))this._container.classList.add(M);this._closeButton&&this._closeButton.setAttribute("aria-label",this._map._getUIString("Popup.Close")),this._trackPointer&&this._container.classList.add("maplibregl-popup-track-pointer")}if(this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._lngLat=Di(this._lngLat,this._flatPos,this._map.transform,this._trackPointer),this._trackPointer&&!a)return;let f=this._flatPos=this._pos=this._trackPointer&&a?a:this._map.project(this._lngLat);this._map.terrain&&(this._flatPos=this._trackPointer&&a?a:this._map.transform.locationToScreenPoint(this._lngLat));let m=this.options.anchor,y=py(this.options.offset);if(!m){let M=this._container.offsetWidth,D=this._container.offsetHeight,k;k=f.y+y.bottom.y<D?["top"]:f.y>this._map.transform.height-D?["bottom"]:[],f.x<M/2?k.push("left"):f.x>this._map.transform.width-M/2&&k.push("right"),m=k.length===0?"bottom":k.join("-")}let w=f.add(y[m]);this.options.subpixelPositioning||(w=w.round()),T.setTransform(this._container,`${uy[m]} translate(${w.x}px,${w.y}px)`),Ed(this._container,m,"popup"),this._updateOpacity()},this._onClose=()=>{this.remove()},this.options=o.e(Object.create($b),x)}addTo(x){return this._map&&this.remove(),this._map=x,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")):this._map.on("move",this._update),this.fire(new o.l("open")),this}isOpen(){return!!this._map}getLngLat(){return this._lngLat}setLngLat(x){return this._lngLat=o.S.convert(x),this._pos=null,this._flatPos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._flatPos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")),this}getElement(){return this._container}setText(x){return this.setDOMContent(document.createTextNode(x))}setHTML(x){let a=document.createDocumentFragment(),f=document.createElement("body"),m;for(f.innerHTML=x;m=f.firstChild,m;)a.appendChild(m);return this.setDOMContent(a)}getMaxWidth(){var x;return(x=this._container)===null||x===void 0?void 0:x.style.maxWidth}setMaxWidth(x){return this.options.maxWidth=x,this._update(),this}setDOMContent(x){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=T.create("div","maplibregl-popup-content",this._container);return this._content.appendChild(x),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(x){return this._container&&this._container.classList.add(x),this}removeClassName(x){return this._container&&this._container.classList.remove(x),this}setOffset(x){return this.options.offset=x,this._update(),this}toggleClassName(x){if(this._container)return this._container.classList.toggle(x)}setSubpixelPositioning(x){this.options.subpixelPositioning=x}_createCloseButton(){this.options.closeButton&&(this._closeButton=T.create("button","maplibregl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;let x=this._container.querySelector(Gb);x&&x.focus()}},i.RasterDEMTileSource=Et,i.RasterTileSource=Wt,i.ScaleControl=class{constructor(x){this._onMove=()=>{cy(this._map,this._container,this.options)},this.setUnit=a=>{this.options.unit=a,cy(this._map,this._container,this.options)},this.options=Object.assign(Object.assign({},Fm),x)}getDefaultPosition(){return"bottom-left"}onAdd(x){return this._map=x,this._container=T.create("div","maplibregl-ctrl maplibregl-ctrl-scale",x.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){T.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}},i.ScrollZoomHandler=NT,i.Style=ub,i.TerrainControl=class{constructor(x){this._toggleTerrain=()=>{this._map.getTerrain()?this._map.setTerrain(null):this._map.setTerrain(this.options),this._updateTerrainIcon()},this._updateTerrainIcon=()=>{this._terrainButton.classList.remove("maplibregl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled"),this._map.terrain?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.Disable")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.Enable"))},this.options=x}onAdd(x){return this._map=x,this._container=T.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._terrainButton=T.create("button","maplibregl-ctrl-terrain",this._container),T.create("span","maplibregl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){T.remove(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}},i.TwoFingersTouchPitchHandler=ny,i.TwoFingersTouchRotateHandler=wd,i.TwoFingersTouchZoomHandler=ry,i.TwoFingersTouchZoomRotateHandler=qT,i.VectorTileSource=It,i.VideoSource=yr,i.addSourceType=(x,a)=>o._(void 0,void 0,void 0,function*(){if(Sr(x))throw new Error(`A source type called "${x}" already exists.`);((f,m)=>{sr[f]=m})(x,a)}),i.clearPrewarmedResources=function(){let x=wt;x&&(x.isPreloaded()&&x.numActive()===1?(x.release(qe),wt=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},i.createTileMesh=sb,i.getMaxParallelImageRequests=function(){return o.a.MAX_PARALLEL_IMAGE_REQUESTS},i.getRTLTextPluginStatus=function(){return Vr().getRTLTextPluginStatus()},i.getVersion=function(){return Hb},i.getWorkerCount=function(){return ut.workerCount},i.getWorkerUrl=function(){return o.a.WORKER_URL},i.importScriptInWorkers=function(x){return je().broadcast("IS",x)},i.prewarm=function(){st().acquire(qe)},i.setMaxParallelImageRequests=function(x){o.a.MAX_PARALLEL_IMAGE_REQUESTS=x},i.setRTLTextPlugin=function(x,a){return Vr().setRTLTextPlugin(x,a)},i.setWorkerCount=function(x){ut.workerCount=x},i.setWorkerUrl=function(x){o.a.WORKER_URL=x}});var n=e;return n})});var uDe=P((gen,lDe)=>{p();var FH=1/0,IJt=17976931348623157e292,eDe=NaN,TJt="[object Symbol]",MJt=/^\s+|\s+$/g,CJt=/^[-+]0x[0-9a-f]+$/i,AJt=/^0b[01]+$/i,PJt=/^0o[0-7]+$/i,OJt=parseInt,DJt=typeof global=="object"&&global&&global.Object===Object&&global,kJt=typeof self=="object"&&self&&self.Object===Object&&self,NJt=DJt||kJt||Function("return this")(),RJt=Object.prototype,LJt=RJt.toString,tDe=NJt.Symbol,qJt=Math.min,rDe=tDe?tDe.prototype:void 0,nDe=rDe?rDe.toString:void 0;function zJt(e){if(typeof e=="string")return e;if(aDe(e))return nDe?nDe.call(e):"";var t=e+"";return t=="0"&&1/e==-FH?"-0":t}function jJt(e){var t=Math[e];return function(r,n){if(r=sDe(r),n=qJt(UJt(n),292),n){var i=(oDe(r)+"e").split("e"),o=t(i[0]+"e"+(+i[1]+n));return i=(oDe(o)+"e").split("e"),+(i[0]+"e"+(+i[1]-n))}return t(r)}}function iDe(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function FJt(e){return!!e&&typeof e=="object"}function aDe(e){return typeof e=="symbol"||FJt(e)&&LJt.call(e)==TJt}function BJt(e){if(!e)return e===0?e:0;if(e=sDe(e),e===FH||e===-FH){var t=e<0?-1:1;return t*IJt}return e===e?e:0}function UJt(e){var t=BJt(e),r=t%1;return t===t?r?t-r:t:0}function sDe(e){if(typeof e=="number")return e;if(aDe(e))return eDe;if(iDe(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=iDe(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(MJt,"");var r=AJt.test(e);return r||PJt.test(e)?OJt(e.slice(2),r?2:8):CJt.test(e)?eDe:+e}function oDe(e){return e==null?"":zJt(e)}var VJt=jJt("round");lDe.exports=VJt});var e_=P((Syn,gRe)=>{p();var Wrr=gRe.exports=typeof window!="undefined"&&window.Math==Math?window:typeof self!="undefined"&&self.Math==Math?self:Function("return this")();typeof __g=="number"&&(__g=Wrr)});var mp=P((Iyn,vRe)=>{p();var Zrr=vRe.exports={version:"2.6.12"};typeof __e=="number"&&(__e=Zrr)});var _Re=P((Myn,yRe)=>{p();yRe.exports=function(e){if(typeof e!="function")throw TypeError(e+" is not a function!");return e}});var LO=P((Ayn,bRe)=>{p();var Yrr=_Re();bRe.exports=function(e,t,r){if(Yrr(e),t===void 0)return e;switch(r){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,o){return e.call(t,n,i,o)}}return function(){return e.apply(t,arguments)}}});var cE=P((Oyn,xRe)=>{p();xRe.exports=function(e){return typeof e=="object"?e!==null:typeof e=="function"}});var t_=P((kyn,wRe)=>{p();var Krr=cE();wRe.exports=function(e){if(!Krr(e))throw TypeError(e+" is not an object!");return e}});var qO=P((Ryn,SRe)=>{p();SRe.exports=function(e){try{return!!e()}catch(t){return!0}}});var Wh=P((qyn,ERe)=>{p();ERe.exports=!qO()(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7})});var jW=P((jyn,TRe)=>{p();var IRe=cE(),zW=e_().document,Xrr=IRe(zW)&&IRe(zW.createElement);TRe.exports=function(e){return Xrr?zW.createElement(e):{}}});var FW=P((Byn,MRe)=>{p();MRe.exports=!Wh()&&!qO()(function(){return Object.defineProperty(jW()("div"),"a",{get:function(){return 7}}).a!=7})});var BW=P((Vyn,CRe)=>{p();var zO=cE();CRe.exports=function(e,t){if(!zO(e))return e;var r,n;if(t&&typeof(r=e.toString)=="function"&&!zO(n=r.call(e))||typeof(r=e.valueOf)=="function"&&!zO(n=r.call(e))||!t&&typeof(r=e.toString)=="function"&&!zO(n=r.call(e)))return n;throw TypeError("Can't convert object to primitive value")}});var pE=P(PRe=>{p();var ARe=t_(),Qrr=FW(),Jrr=BW(),enr=Object.defineProperty;PRe.f=Wh()?Object.defineProperty:function(t,r,n){if(ARe(t),r=Jrr(r,!0),ARe(n),Qrr)try{return enr(t,r,n)}catch(i){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[r]=n.value),t}});var fE=P((Wyn,ORe)=>{p();ORe.exports=function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}}});var dE=P((Yyn,DRe)=>{p();var tnr=pE(),rnr=fE();DRe.exports=Wh()?function(e,t,r){return tnr.f(e,t,rnr(1,r))}:function(e,t,r){return e[t]=r,e}});var r_=P((Xyn,kRe)=>{p();var nnr={}.hasOwnProperty;kRe.exports=function(e,t){return nnr.call(e,t)}});var Zh=P((Jyn,RRe)=>{p();var jO=e_(),UW=mp(),NRe=LO(),inr=dE(),onr=r_(),FO="prototype",Ya=function(e,t,r){var n=e&Ya.F,i=e&Ya.G,o=e&Ya.S,u=e&Ya.P,d=e&Ya.B,g=e&Ya.W,_=i?UW:UW[t]||(UW[t]={}),I=_[FO],T=i?jO:o?jO[t]:(jO[t]||{})[FO],A,q,z;i&&(r=t);for(A in r)q=!n&&T&&T[A]!==void 0,!(q&&onr(_,A))&&(z=q?T[A]:r[A],_[A]=i&&typeof T[A]!="function"?r[A]:d&&q?NRe(z,jO):g&&T[A]==z?function(U){var N=function(L,F,H){if(this instanceof U){switch(arguments.length){case 0:return new U;case 1:return new U(L);case 2:return new U(L,F)}return new U(L,F,H)}return U.apply(this,arguments)};return N[FO]=U[FO],N}(z):u&&typeof z=="function"?NRe(Function.call,z):z,u&&((_.virtual||(_.virtual={}))[A]=z,e&Ya.R&&I&&!I[A]&&inr(I,A,z)))};Ya.F=1;Ya.G=2;Ya.S=4;Ya.P=8;Ya.B=16;Ya.W=32;Ya.U=64;Ya.R=128;RRe.exports=Ya});var VW=P((t0n,LRe)=>{p();var anr={}.toString;LRe.exports=function(e){return anr.call(e).slice(8,-1)}});var $W=P((n0n,qRe)=>{p();var snr=VW();qRe.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return snr(e)=="String"?e.split(""):Object(e)}});var BO=P((o0n,zRe)=>{p();zRe.exports=function(e){if(e==null)throw TypeError("Can't call method on  "+e);return e}});var hE=P((s0n,jRe)=>{p();var lnr=$W(),unr=BO();jRe.exports=function(e){return lnr(unr(e))}});var UO=P((u0n,FRe)=>{p();var cnr=Math.ceil,pnr=Math.floor;FRe.exports=function(e){return isNaN(e=+e)?0:(e>0?pnr:cnr)(e)}});var GW=P((p0n,BRe)=>{p();var fnr=UO(),dnr=Math.min;BRe.exports=function(e){return e>0?dnr(fnr(e),9007199254740991):0}});var VRe=P((d0n,URe)=>{p();var hnr=UO(),mnr=Math.max,gnr=Math.min;URe.exports=function(e,t){return e=hnr(e),e<0?mnr(e+t,0):gnr(e,t)}});var GRe=P((m0n,$Re)=>{p();var vnr=hE(),ynr=GW(),_nr=VRe();$Re.exports=function(e){return function(t,r,n){var i=vnr(t),o=ynr(i.length),u=_nr(n,o),d;if(e&&r!=r){for(;o>u;)if(d=i[u++],d!=d)return!0}else for(;o>u;u++)if((e||u in i)&&i[u]===r)return e||u||0;return!e&&-1}}});var HW=P((v0n,HRe)=>{p();HRe.exports=!0});var WW=P((_0n,KRe)=>{p();var bnr=mp(),WRe=e_(),ZRe="__core-js_shared__",YRe=WRe[ZRe]||(WRe[ZRe]={});(KRe.exports=function(e,t){return YRe[e]||(YRe[e]=t!==void 0?t:{})})("versions",[]).push({version:bnr.version,mode:HW()?"pure":"global",copyright:"\xA9 2020 Denis Pushkarev (zloirock.ru)"})});var ZW=P((x0n,XRe)=>{p();var xnr=0,wnr=Math.random();XRe.exports=function(e){return"Symbol(".concat(e===void 0?"":e,")_",(++xnr+wnr).toString(36))}});var VO=P((S0n,JRe)=>{p();var QRe=WW()("keys"),Snr=ZW();JRe.exports=function(e){return QRe[e]||(QRe[e]=Snr(e))}});var rLe=P((I0n,tLe)=>{p();var eLe=r_(),Enr=hE(),Inr=GRe()(!1),Tnr=VO()("IE_PROTO");tLe.exports=function(e,t){var r=Enr(e),n=0,i=[],o;for(o in r)o!=Tnr&&eLe(r,o)&&i.push(o);for(;t.length>n;)eLe(r,o=t[n++])&&(~Inr(i,o)||i.push(o));return i}});var YW=P((M0n,nLe)=>{p();nLe.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")});var $O=P((A0n,iLe)=>{p();var Mnr=rLe(),Cnr=YW();iLe.exports=Object.keys||function(t){return Mnr(t,Cnr)}});var aLe=P(oLe=>{p();oLe.f=Object.getOwnPropertySymbols});var GO=P(sLe=>{p();sLe.f={}.propertyIsEnumerable});var HO=P((R0n,lLe)=>{p();var Anr=BO();lLe.exports=function(e){return Object(Anr(e))}});var pLe=P((q0n,cLe)=>{"use strict";p();var Pnr=Wh(),uLe=$O(),Onr=aLe(),Dnr=GO(),knr=HO(),Nnr=$W(),WO=Object.assign;cLe.exports=!WO||qO()(function(){var e={},t={},r=Symbol(),n="abcdefghijklmnopqrst";return e[r]=7,n.split("").forEach(function(i){t[i]=i}),WO({},e)[r]!=7||Object.keys(WO({},t)).join("")!=n})?function(t,r){for(var n=knr(t),i=arguments.length,o=1,u=Onr.f,d=Dnr.f;i>o;)for(var g=Nnr(arguments[o++]),_=u?uLe(g).concat(u(g)):uLe(g),I=_.length,T=0,A;I>T;)A=_[T++],(!Pnr||d.call(g,A))&&(n[A]=g[A]);return n}:WO});var fLe=P(()=>{p();var KW=Zh();KW(KW.S+KW.F,"Object",{assign:pLe()})});var hLe=P((U0n,dLe)=>{p();fLe();dLe.exports=mp().Object.assign});var gLe=P((H0n,mLe)=>{p();var Rnr=pE(),Lnr=t_(),qnr=$O();mLe.exports=Wh()?Object.defineProperties:function(t,r){Lnr(t);for(var n=qnr(r),i=n.length,o=0,u;i>o;)Rnr.f(t,u=n[o++],r[u]);return t}});var _Le=P((Z0n,yLe)=>{p();var vLe=e_().document;yLe.exports=vLe&&vLe.documentElement});var eZ=P((K0n,xLe)=>{p();var znr=t_(),jnr=gLe(),bLe=YW(),Fnr=VO()("IE_PROTO"),QW=function(){},JW="prototype",ZO=function(){var e=jW()("iframe"),t=bLe.length,r="<",n=">",i;for(e.style.display="none",_Le().appendChild(e),e.src="javascript:",i=e.contentWindow.document,i.open(),i.write(r+"script"+n+"document.F=Object"+r+"/script"+n),i.close(),ZO=i.F;t--;)delete ZO[JW][bLe[t]];return ZO()};xLe.exports=Object.create||function(t,r){var n;return t!==null?(QW[JW]=znr(t),n=new QW,QW[JW]=null,n[Fnr]=t):n=ZO(),r===void 0?n:jnr(n,r)}});var SLe=P(()=>{p();var wLe=Zh();wLe(wLe.S,"Object",{create:eZ()})});var ILe=P((t1n,ELe)=>{p();SLe();var Bnr=mp().Object;ELe.exports=function(t,r){return Bnr.create(t,r)}});var CLe=P(MLe=>{p();var Unr=GO(),Vnr=fE(),$nr=hE(),Gnr=BW(),Hnr=r_(),Wnr=FW(),TLe=Object.getOwnPropertyDescriptor;MLe.f=Wh()?TLe:function(t,r){if(t=$nr(t),r=Gnr(r,!0),Wnr)try{return TLe(t,r)}catch(n){}if(Hnr(t,r))return Vnr(!Unr.f.call(t,r),t[r])}});var OLe=P((o1n,PLe)=>{p();var Znr=cE(),Ynr=t_(),ALe=function(e,t){if(Ynr(e),!Znr(t)&&t!==null)throw TypeError(t+": can't set as prototype!")};PLe.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{r=LO()(Function.call,CLe().f(Object.prototype,"__proto__").set,2),r(e,[]),t=!(e instanceof Array)}catch(n){t=!0}return function(i,o){return ALe(i,o),t?i.__proto__=o:r(i,o),i}}({},!1):void 0),check:ALe}});var kLe=P(()=>{p();var DLe=Zh();DLe(DLe.S,"Object",{setPrototypeOf:OLe().set})});var RLe=P((c1n,NLe)=>{p();kLe();NLe.exports=mp().Object.setPrototypeOf});var fn=P((_1n,KO)=>{p();(function(){"use strict";var e={}.hasOwnProperty;function t(){for(var i="",o=0;o<arguments.length;o++){var u=arguments[o];u&&(i=n(i,r(u)))}return i}function r(i){if(typeof i=="string"||typeof i=="number")return i;if(typeof i!="object")return"";if(Array.isArray(i))return t.apply(null,i);if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]"))return i.toString();var o="";for(var u in i)e.call(i,u)&&i[u]&&(o=n(o,u));return o}function n(i,o){return o?i?i+" "+o:i+o:i}typeof KO!="undefined"&&KO.exports?(t.default=t,KO.exports=t):typeof define=="function"&&typeof define.amd=="object"&&define.amd?define("classnames",[],function(){return t}):window.classNames=t})()});var XO=P((I1n,qLe)=>{"use strict";p();var Knr=function(e,t,r,n,i,o,u,d){if(!e){var g;if(t===void 0)g=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var _=[r,n,i,o,u,d],I=0;g=new Error(t.replace(/%s/g,function(){return _[I++]})),g.name="Invariant Violation"}throw g.framesToPop=1,g}};qLe.exports=Knr});var oZ=P(iZ=>{"use strict";p();Object.defineProperty(iZ,"__esModule",{value:!0});function BLe(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);e!=null&&this.setState(e)}function ULe(e){function t(r){var n=this.constructor.getDerivedStateFromProps(e,r);return n!=null?n:null}this.setState(t.bind(this))}function VLe(e,t){try{var r=this.props,n=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(r,n)}finally{this.props=r,this.state=n}}BLe.__suppressDeprecationWarning=!0;ULe.__suppressDeprecationWarning=!0;VLe.__suppressDeprecationWarning=!0;function Qnr(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if(typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function")return e;var r=null,n=null,i=null;if(typeof t.componentWillMount=="function"?r="componentWillMount":typeof t.UNSAFE_componentWillMount=="function"&&(r="UNSAFE_componentWillMount"),typeof t.componentWillReceiveProps=="function"?n="componentWillReceiveProps":typeof t.UNSAFE_componentWillReceiveProps=="function"&&(n="UNSAFE_componentWillReceiveProps"),typeof t.componentWillUpdate=="function"?i="componentWillUpdate":typeof t.UNSAFE_componentWillUpdate=="function"&&(i="UNSAFE_componentWillUpdate"),r!==null||n!==null||i!==null){var o=e.displayName||e.name,u=typeof e.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+o+" uses "+u+" but also contains the following legacy lifecycles:"+(r!==null?`
  `+r:"")+(n!==null?`
  `+n:"")+(i!==null?`
  `+i:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof e.getDerivedStateFromProps=="function"&&(t.componentWillMount=BLe,t.componentWillReceiveProps=ULe),typeof t.getSnapshotBeforeUpdate=="function"){if(typeof t.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=VLe;var d=t.componentDidUpdate;t.componentDidUpdate=function(_,I,T){var A=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:T;d.call(this,_,I,A)}}return e}iZ.polyfill=Qnr});var aZ=P((Q1n,HLe)=>{p();var eir=Wh(),tir=$O(),rir=hE(),nir=GO().f;HLe.exports=function(e){return function(t){for(var r=rir(t),n=tir(r),i=n.length,o=0,u=[],d;i>o;)d=n[o++],(!eir||nir.call(r,d))&&u.push(e?[d,r[d]]:r[d]);return u}}});var ZLe=P(()=>{p();var WLe=Zh(),iir=aZ()(!0);WLe(WLe.S,"Object",{entries:function(t){return iir(t)}})});var KLe=P((n_n,YLe)=>{p();ZLe();YLe.exports=mp().Object.entries});var sZ=P((o_n,XLe)=>{p();XLe.exports=KLe()});var vE=P((tD,r6e)=>{"use strict";p();Object.defineProperty(tD,"__esModule",{value:!0});tD.default=dir;function dir(e){function t(n,i,o,u,d,g){var _=u||"<<anonymous>>",I=g||o;if(i[o]==null)return n?new Error("Required "+d+" `"+I+"` was not specified "+("in `"+_+"`.")):null;for(var T=arguments.length,A=Array(T>6?T-6:0),q=6;q<T;q++)A[q-6]=arguments[q];return e.apply(void 0,[i,o,_,d,I].concat(A))}var r=t.bind(null,!1);return r.isRequired=t.bind(null,!0),r}r6e.exports=tD.default});var a6e=P(()=>{p();var o6e=Zh(),hir=aZ()(!1);o6e(o6e.S,"Object",{values:function(t){return hir(t)}})});var l6e=P((S_n,s6e)=>{p();a6e();s6e.exports=mp().Object.values});var c6e=P((I_n,u6e)=>{p();u6e.exports=l6e()});var d6e=P(ti=>{"use strict";p();var Yo=typeof Symbol=="function"&&Symbol.for,dZ=Yo?Symbol.for("react.element"):60103,hZ=Yo?Symbol.for("react.portal"):60106,nD=Yo?Symbol.for("react.fragment"):60107,iD=Yo?Symbol.for("react.strict_mode"):60108,oD=Yo?Symbol.for("react.profiler"):60114,aD=Yo?Symbol.for("react.provider"):60109,sD=Yo?Symbol.for("react.context"):60110,mZ=Yo?Symbol.for("react.async_mode"):60111,lD=Yo?Symbol.for("react.concurrent_mode"):60111,uD=Yo?Symbol.for("react.forward_ref"):60112,cD=Yo?Symbol.for("react.suspense"):60113,vir=Yo?Symbol.for("react.suspense_list"):60120,pD=Yo?Symbol.for("react.memo"):60115,fD=Yo?Symbol.for("react.lazy"):60116,yir=Yo?Symbol.for("react.block"):60121,_ir=Yo?Symbol.for("react.fundamental"):60117,bir=Yo?Symbol.for("react.responder"):60118,xir=Yo?Symbol.for("react.scope"):60119;function Ml(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case dZ:switch(e=e.type,e){case mZ:case lD:case nD:case oD:case iD:case cD:return e;default:switch(e=e&&e.$$typeof,e){case sD:case uD:case fD:case pD:case aD:return e;default:return t}}case hZ:return t}}}function f6e(e){return Ml(e)===lD}ti.AsyncMode=mZ;ti.ConcurrentMode=lD;ti.ContextConsumer=sD;ti.ContextProvider=aD;ti.Element=dZ;ti.ForwardRef=uD;ti.Fragment=nD;ti.Lazy=fD;ti.Memo=pD;ti.Portal=hZ;ti.Profiler=oD;ti.StrictMode=iD;ti.Suspense=cD;ti.isAsyncMode=function(e){return f6e(e)||Ml(e)===mZ};ti.isConcurrentMode=f6e;ti.isContextConsumer=function(e){return Ml(e)===sD};ti.isContextProvider=function(e){return Ml(e)===aD};ti.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===dZ};ti.isForwardRef=function(e){return Ml(e)===uD};ti.isFragment=function(e){return Ml(e)===nD};ti.isLazy=function(e){return Ml(e)===fD};ti.isMemo=function(e){return Ml(e)===pD};ti.isPortal=function(e){return Ml(e)===hZ};ti.isProfiler=function(e){return Ml(e)===oD};ti.isStrictMode=function(e){return Ml(e)===iD};ti.isSuspense=function(e){return Ml(e)===cD};ti.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===nD||e===lD||e===oD||e===iD||e===cD||e===vir||typeof e=="object"&&e!==null&&(e.$$typeof===fD||e.$$typeof===pD||e.$$typeof===aD||e.$$typeof===sD||e.$$typeof===uD||e.$$typeof===_ir||e.$$typeof===bir||e.$$typeof===xir||e.$$typeof===yir)};ti.typeOf=Ml});var m6e=P((N_n,h6e)=>{"use strict";p();h6e.exports=d6e()});var Ea=P((dD,v6e)=>{"use strict";p();Object.defineProperty(dD,"__esModule",{value:!0});var wir=Je(),Sir=g6e(wir),Eir=m6e(),Iir=vE(),Tir=g6e(Iir);function g6e(e){return e&&e.__esModule?e:{default:e}}function Mir(e,t,r,n,i){var o=e[t];return Sir.default.isValidElement(o)?new Error("Invalid "+n+" `"+i+"` of type ReactElement "+("supplied to `"+r+"`,expected an element type (a string ")+", component class, or function component)."):(0,Eir.isValidElementType)(o)?null:new Error("Invalid "+n+" `"+i+"` of value `"+o+"` "+("supplied to `"+r+"`, expected an element type (a string ")+", component class, or function component).")}dD.default=(0,Tir.default)(Mir);v6e.exports=dD.default});var _E=P((mD,w6e)=>{"use strict";p();Object.defineProperty(mD,"__esModule",{value:!0});mD.default=Lir;var kir=vE(),Nir=Rir(kir);function Rir(e){return e&&e.__esModule?e:{default:e}}function Lir(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];function n(){for(var i=arguments.length,o=Array(i),u=0;u<i;u++)o[u]=arguments[u];var d=null;return t.forEach(function(g){if(d==null){var _=g.apply(void 0,o);_!=null&&(d=_)}}),d}return(0,Nir.default)(n)}w6e.exports=mD.default});var Kh=P((hbn,A6e)=>{"use strict";p();var Fir=function(){};A6e.exports=Fir});var lo=P((Ebn,bE)=>{p();function $ir(e){return e&&e.__esModule?e:{default:e}}bE.exports=$ir,bE.exports.__esModule=!0,bE.exports.default=bE.exports});var D6e=P((_D,O6e)=>{"use strict";p();_D.__esModule=!0;_D.default=Hir;var Gir=/-(.)/g;function Hir(e){return e.replace(Gir,function(t,r){return r.toUpperCase()})}O6e.exports=_D.default});var IZ=P((bD,k6e)=>{"use strict";p();var Wir=lo();bD.__esModule=!0;bD.default=Kir;var Zir=Wir(D6e()),Yir=/^-ms-/;function Kir(e){return(0,Zir.default)(e.replace(Yir,"ms-"))}k6e.exports=bD.default});var R6e=P((xD,N6e)=>{"use strict";p();xD.__esModule=!0;xD.default=Qir;var Xir=/([A-Z])/g;function Qir(e){return e.replace(Xir,"-$1").toLowerCase()}N6e.exports=xD.default});var q6e=P((wD,L6e)=>{"use strict";p();var Jir=lo();wD.__esModule=!0;wD.default=ror;var eor=Jir(R6e()),tor=/^ms-/;function ror(e){return(0,eor.default)(e).replace(tor,"-ms-")}L6e.exports=wD.default});var j6e=P((SD,z6e)=>{"use strict";p();var nor=lo();SD.__esModule=!0;SD.default=sor;var ior=nor(IZ()),oor=/^(top|right|bottom|left)$/,aor=/^([+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|))(?!px)[a-z%]+$/i;function sor(e){if(!e)throw new TypeError("No Element passed to `getComputedStyle()`");var t=e.ownerDocument;return"defaultView"in t?t.defaultView.opener?e.ownerDocument.defaultView.getComputedStyle(e,null):window.getComputedStyle(e,null):{getPropertyValue:function(n){var i=e.style;n=(0,ior.default)(n),n=="float"&&(n="styleFloat");var o=e.currentStyle[n]||null;if(o==null&&i&&i[n]&&(o=i[n]),aor.test(o)&&!oor.test(n)){var u=i.left,d=e.runtimeStyle,g=d&&d.left;g&&(d.left=e.currentStyle.left),i.left=n==="fontSize"?"1em":o,o=i.pixelLeft+"px",i.left=u,g&&(d.left=g)}return o}}}z6e.exports=SD.default});var B6e=P((ED,F6e)=>{"use strict";p();ED.__esModule=!0;ED.default=lor;function lor(e,t){return"removeProperty"in e.style?e.style.removeProperty(t):e.style.removeAttribute(t)}F6e.exports=ED.default});var yp=P((xE,U6e)=>{"use strict";p();xE.__esModule=!0;xE.default=void 0;var uor=!!(typeof window!="undefined"&&window.document&&window.document.createElement);xE.default=uor;U6e.exports=xE.default});var Z6e=P(_n=>{"use strict";p();var cor=lo();_n.__esModule=!0;_n.default=_n.animationEnd=_n.animationDelay=_n.animationTiming=_n.animationDuration=_n.animationName=_n.transitionEnd=_n.transitionDuration=_n.transitionDelay=_n.transitionTiming=_n.transitionProperty=_n.transform=void 0;var por=cor(yp()),TD="transform";_n.transform=TD;var _p,TZ,V6e;_n.animationEnd=V6e;_n.transitionEnd=TZ;var MZ,CZ,AZ,PZ;_n.transitionDelay=PZ;_n.transitionTiming=AZ;_n.transitionDuration=CZ;_n.transitionProperty=MZ;var $6e,G6e,H6e,W6e;_n.animationDelay=W6e;_n.animationTiming=H6e;_n.animationDuration=G6e;_n.animationName=$6e;por.default&&(ID=hor(),_p=ID.prefix,_n.transitionEnd=TZ=ID.transitionEnd,_n.animationEnd=V6e=ID.animationEnd,_n.transform=TD=_p+"-"+TD,_n.transitionProperty=MZ=_p+"-transition-property",_n.transitionDuration=CZ=_p+"-transition-duration",_n.transitionDelay=PZ=_p+"-transition-delay",_n.transitionTiming=AZ=_p+"-transition-timing-function",_n.animationName=$6e=_p+"-animation-name",_n.animationDuration=G6e=_p+"-animation-duration",_n.animationTiming=H6e=_p+"-animation-delay",_n.animationDelay=W6e=_p+"-animation-timing-function");var ID,dor={transform:TD,end:TZ,property:MZ,timing:AZ,delay:PZ,duration:CZ};_n.default=dor;function hor(){for(var e=document.createElement("div").style,t={O:function(_){return"o"+_.toLowerCase()},Moz:function(_){return _.toLowerCase()},Webkit:function(_){return"webkit"+_},ms:function(_){return"MS"+_}},r=Object.keys(t),n,i,o="",u=0;u<r.length;u++){var d=r[u];if(d+"TransitionProperty"in e){o="-"+d.toLowerCase(),n=t[d]("TransitionEnd"),i=t[d]("AnimationEnd");break}}return!n&&"transitionProperty"in e&&(n="transitionend"),!i&&"animationName"in e&&(i="animationend"),e=null,{animationEnd:i,transitionEnd:n,prefix:o}}});var K6e=P((MD,Y6e)=>{"use strict";p();MD.__esModule=!0;MD.default=gor;var mor=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function gor(e){return!!(e&&mor.test(e))}Y6e.exports=MD.default});var AD=P((CD,X6e)=>{"use strict";p();var wE=lo();CD.__esModule=!0;CD.default=wor;var vor=wE(IZ()),OZ=wE(q6e()),yor=wE(j6e()),_or=wE(B6e()),bor=Z6e(),xor=wE(K6e());function wor(e,t,r){var n="",i="",o=t;if(typeof t=="string"){if(r===void 0)return e.style[(0,vor.default)(t)]||(0,yor.default)(e).getPropertyValue((0,OZ.default)(t));(o={})[t]=r}Object.keys(o).forEach(function(u){var d=o[u];!d&&d!==0?(0,_or.default)(e,(0,OZ.default)(u)):(0,xor.default)(u)?i+=u+"("+d+") ":n+=(0,OZ.default)(u)+": "+d+";"}),i&&(n+=bor.transform+": "+i+";"),e.style.cssText+=";"+n}X6e.exports=CD.default});var Q6e=P(s_=>{"use strict";p();s_.__esModule=!0;s_.classNamesShape=s_.timeoutsShape=void 0;var qbn=Sor(Qt());function Sor(e){return e&&e.__esModule?e:{default:e}}var Eor=null;s_.timeoutsShape=Eor;var Ior=null;s_.classNamesShape=Ior});var eqe=P(Ks=>{"use strict";p();Ks.__esModule=!0;Ks.default=Ks.EXITING=Ks.ENTERED=Ks.ENTERING=Ks.EXITED=Ks.UNMOUNTED=void 0;var Tor=Aor(Qt()),DZ=J6e(Je()),Mor=J6e(Yi()),Cor=oZ(),Fbn=Q6e();function J6e(e){return e&&e.__esModule?e:{default:e}}function Aor(e){if(e&&e.__esModule)return e;var t={};if(e!=null){for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}}return t.default=e,t}function Por(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function Oor(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var SE="unmounted";Ks.UNMOUNTED=SE;var av="exited";Ks.EXITED=av;var sv="entering";Ks.ENTERING=sv;var u_="entered";Ks.ENTERED=u_;var kZ="exiting";Ks.EXITING=kZ;var bp=function(e){Oor(t,e);function t(n,i){var o;o=e.call(this,n,i)||this;var u=i.transitionGroup,d=u&&!u.isMounting?n.enter:n.appear,g;return o.appearStatus=null,n.in?d?(g=av,o.appearStatus=sv):g=u_:n.unmountOnExit||n.mountOnEnter?g=SE:g=av,o.state={status:g},o.nextCallback=null,o}var r=t.prototype;return r.getChildContext=function(){return{transitionGroup:null}},t.getDerivedStateFromProps=function(i,o){var u=i.in;return u&&o.status===SE?{status:av}:null},r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(i){var o=null;if(i!==this.props){var u=this.state.status;this.props.in?u!==sv&&u!==u_&&(o=sv):(u===sv||u===u_)&&(o=kZ)}this.updateStatus(!1,o)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var i=this.props.timeout,o,u,d;return o=u=d=i,i!=null&&typeof i!="number"&&(o=i.exit,u=i.enter,d=i.appear!==void 0?i.appear:u),{exit:o,enter:u,appear:d}},r.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null){this.cancelNextCallback();var u=Mor.default.findDOMNode(this);o===sv?this.performEnter(u,i):this.performExit(u)}else this.props.unmountOnExit&&this.state.status===av&&this.setState({status:SE})},r.performEnter=function(i,o){var u=this,d=this.props.enter,g=this.context.transitionGroup?this.context.transitionGroup.isMounting:o,_=this.getTimeouts(),I=g?_.appear:_.enter;if(!o&&!d){this.safeSetState({status:u_},function(){u.props.onEntered(i)});return}this.props.onEnter(i,g),this.safeSetState({status:sv},function(){u.props.onEntering(i,g),u.onTransitionEnd(i,I,function(){u.safeSetState({status:u_},function(){u.props.onEntered(i,g)})})})},r.performExit=function(i){var o=this,u=this.props.exit,d=this.getTimeouts();if(!u){this.safeSetState({status:av},function(){o.props.onExited(i)});return}this.props.onExit(i),this.safeSetState({status:kZ},function(){o.props.onExiting(i),o.onTransitionEnd(i,d.exit,function(){o.safeSetState({status:av},function(){o.props.onExited(i)})})})},r.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},r.setNextCallback=function(i){var o=this,u=!0;return this.nextCallback=function(d){u&&(u=!1,o.nextCallback=null,i(d))},this.nextCallback.cancel=function(){u=!1},this.nextCallback},r.onTransitionEnd=function(i,o,u){this.setNextCallback(u);var d=o==null&&!this.props.addEndListener;if(!i||d){setTimeout(this.nextCallback,0);return}this.props.addEndListener&&this.props.addEndListener(i,this.nextCallback),o!=null&&setTimeout(this.nextCallback,o)},r.render=function(){var i=this.state.status;if(i===SE)return null;var o=this.props,u=o.children,d=Por(o,["children"]);if(delete d.in,delete d.mountOnEnter,delete d.unmountOnExit,delete d.appear,delete d.enter,delete d.exit,delete d.timeout,delete d.addEndListener,delete d.onEnter,delete d.onEntering,delete d.onEntered,delete d.onExit,delete d.onExiting,delete d.onExited,typeof u=="function")return u(i,d);var g=DZ.default.Children.only(u);return DZ.default.cloneElement(g,d)},t}(DZ.default.Component);bp.contextTypes={transitionGroup:Tor.object};bp.childContextTypes={transitionGroup:function(){}};bp.propTypes={};function l_(){}bp.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:l_,onEntering:l_,onEntered:l_,onExit:l_,onExiting:l_,onExited:l_};bp.UNMOUNTED=0;bp.EXITED=1;bp.ENTERING=2;bp.ENTERED=3;bp.EXITING=4;var Dor=(0,Cor.polyfill)(bp);Ks.default=Dor});var lv=P((PD,tqe)=>{"use strict";p();PD.__esModule=!0;PD.default=kor;function kor(e){return e&&e.ownerDocument||document}tqe.exports=PD.default});var NZ=P((OD,rqe)=>{"use strict";p();var Nor=lo();OD.__esModule=!0;OD.default=Lor;var Ror=Nor(lv());function Lor(e){e===void 0&&(e=(0,Ror.default)());try{return e.activeElement}catch(t){}}rqe.exports=OD.default});var c_=P((EE,iqe)=>{"use strict";p();var qor=lo();EE.__esModule=!0;EE.default=void 0;var zor=qor(yp()),jor=function(){return zor.default?function(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(e.compareDocumentPosition(t)&16):nqe(e,t)}:nqe}();EE.default=jor;function nqe(e,t){if(t)do if(t===e)return!0;while(t=t.parentNode);return!1}iqe.exports=EE.default});var kD=P((uv,sqe)=>{p();function oqe(e){if(e&&typeof e=="object"){var t=e.which||e.keyCode||e.charCode;t&&(e=t)}if(typeof e=="number")return aqe[e];var r=String(e),n=jf[r.toLowerCase()];if(n)return n;var n=DD[r.toLowerCase()];if(n)return n;if(r.length===1)return r.charCodeAt(0)}oqe.isEventKey=function(t,r){if(t&&typeof t=="object"){var n=t.which||t.keyCode||t.charCode;if(n==null)return!1;if(typeof r=="string"){var i=jf[r.toLowerCase()];if(i)return i===n;var i=DD[r.toLowerCase()];if(i)return i===n}else if(typeof r=="number")return r===n;return!1}};uv=sqe.exports=oqe;var jf=uv.code=uv.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},DD=uv.aliases={windows:91,"\u21E7":16,"\u2325":18,"\u2303":17,"\u2318":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};for(Bi=97;Bi<123;Bi++)jf[String.fromCharCode(Bi)]=Bi-32;for(Bi=48;Bi<58;Bi++)jf[Bi-48]=Bi;var Bi;for(Bi=1;Bi<13;Bi++)jf["f"+Bi]=Bi+111;for(Bi=0;Bi<10;Bi++)jf["numpad "+Bi]=Bi+96;var aqe=uv.names=uv.title={};for(Bi in jf)aqe[jf[Bi]]=Bi;for(RZ in DD)jf[RZ]=DD[RZ];var RZ});var RD=P((ND,lqe)=>{"use strict";p();Object.defineProperty(ND,"__esModule",{value:!0});ND.default=For;function For(e){return function(r,n,i,o,u){var d=i||"<<anonymous>>",g=u||n;if(r[n]==null)return new Error("The "+o+" `"+g+"` is required to make "+("`"+d+"` accessible for users of assistive ")+"technologies such as screen readers.");for(var _=arguments.length,I=Array(_>5?_-5:0),T=5;T<_;T++)I[T-5]=arguments[T];return e.apply(void 0,[r,n,i,o,u].concat(I))}}lqe.exports=ND.default});var cqe=P((Zbn,uqe)=>{p();var Bor=UO(),Uor=BO();uqe.exports=function(e){return function(t,r){var n=String(Uor(t)),i=Bor(r),o=n.length,u,d;return i<0||i>=o?e?"":void 0:(u=n.charCodeAt(i),u<55296||u>56319||i+1===o||(d=n.charCodeAt(i+1))<56320||d>57343?e?n.charAt(i):u:e?n.slice(i,i+2):(u-55296<<10)+(d-56320)+65536)}}});var fqe=P((Kbn,pqe)=>{p();pqe.exports=dE()});var LD=P((Qbn,dqe)=>{p();dqe.exports={}});var Xh=P((exn,mqe)=>{p();var LZ=WW()("wks"),Vor=ZW(),qZ=e_().Symbol,hqe=typeof qZ=="function",$or=mqe.exports=function(e){return LZ[e]||(LZ[e]=hqe&&qZ[e]||(hqe?qZ:Vor)("Symbol."+e))};$or.store=LZ});var zZ=P((rxn,vqe)=>{p();var Gor=pE().f,Hor=r_(),gqe=Xh()("toStringTag");vqe.exports=function(e,t,r){e&&!Hor(e=r?e:e.prototype,gqe)&&Gor(e,gqe,{configurable:!0,value:t})}});var bqe=P((ixn,_qe)=>{"use strict";p();var Wor=eZ(),Zor=fE(),Yor=zZ(),yqe={};dE()(yqe,Xh()("iterator"),function(){return this});_qe.exports=function(e,t,r){e.prototype=Wor(yqe,{next:Zor(1,r)}),Yor(e,t+" Iterator")}});var Sqe=P((axn,wqe)=>{p();var Kor=r_(),Xor=HO(),xqe=VO()("IE_PROTO"),Qor=Object.prototype;wqe.exports=Object.getPrototypeOf||function(e){return e=Xor(e),Kor(e,xqe)?e[xqe]:typeof e.constructor=="function"&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?Qor:null}});var Pqe=P((lxn,Aqe)=>{"use strict";p();var Eqe=HW(),jZ=Zh(),Jor=fqe(),Iqe=dE(),Tqe=LD(),ear=bqe(),tar=zZ(),rar=Sqe(),IE=Xh()("iterator"),FZ=!([].keys&&"next"in[].keys()),nar="@@iterator",Mqe="keys",qD="values",Cqe=function(){return this};Aqe.exports=function(e,t,r,n,i,o,u){ear(r,t,n);var d=function(H){if(!FZ&&H in T)return T[H];switch(H){case Mqe:return function(){return new r(this,H)};case qD:return function(){return new r(this,H)}}return function(){return new r(this,H)}},g=t+" Iterator",_=i==qD,I=!1,T=e.prototype,A=T[IE]||T[nar]||i&&T[i],q=A||d(i),z=i?_?d("entries"):q:void 0,U=t=="Array"&&T.entries||A,N,L,F;if(U&&(F=rar(U.call(new e)),F!==Object.prototype&&F.next&&(tar(F,g,!0),!Eqe&&typeof F[IE]!="function"&&Iqe(F,IE,Cqe))),_&&A&&A.name!==qD&&(I=!0,q=function(){return A.call(this)}),(!Eqe||u)&&(FZ||I||!T[IE])&&Iqe(T,IE,q),Tqe[t]=q,Tqe[g]=Cqe,i)if(N={values:_?q:d(qD),keys:o?q:d(Mqe),entries:z},u)for(L in N)L in T||Jor(T,L,N[L]);else jZ(jZ.P+jZ.F*(FZ||I),t,N);return N}});var Oqe=P(()=>{"use strict";p();var iar=cqe()(!0);Pqe()(String,"String",function(e){this._t=String(e),this._i=0},function(){var e=this._t,t=this._i,r;return t>=e.length?{value:void 0,done:!0}:(r=iar(e,t),this._i+=r.length,{value:r,done:!1})})});var Nqe=P((dxn,kqe)=>{p();var Dqe=t_();kqe.exports=function(e,t,r,n){try{return n?t(Dqe(r)[0],r[1]):t(r)}catch(o){var i=e.return;throw i!==void 0&&Dqe(i.call(e)),o}}});var Lqe=P((mxn,Rqe)=>{p();var oar=LD(),aar=Xh()("iterator"),sar=Array.prototype;Rqe.exports=function(e){return e!==void 0&&(oar.Array===e||sar[aar]===e)}});var zqe=P((vxn,qqe)=>{"use strict";p();var lar=pE(),uar=fE();qqe.exports=function(e,t,r){t in e?lar.f(e,t,uar(0,r)):e[t]=r}});var Fqe=P((_xn,jqe)=>{p();var BZ=VW(),car=Xh()("toStringTag"),par=BZ(function(){return arguments}())=="Arguments",far=function(e,t){try{return e[t]}catch(r){}};jqe.exports=function(e){var t,r,n;return e===void 0?"Undefined":e===null?"Null":typeof(r=far(t=Object(e),car))=="string"?r:par?BZ(t):(n=BZ(t))=="Object"&&typeof t.callee=="function"?"Arguments":n}});var Uqe=P((xxn,Bqe)=>{p();var dar=Fqe(),har=Xh()("iterator"),mar=LD();Bqe.exports=mp().getIteratorMethod=function(e){if(e!=null)return e[har]||e["@@iterator"]||mar[dar(e)]}});var Gqe=P((Sxn,$qe)=>{p();var VZ=Xh()("iterator"),Vqe=!1;try{UZ=[7][VZ](),UZ.return=function(){Vqe=!0},Array.from(UZ,function(){throw 2})}catch(e){}var UZ;$qe.exports=function(e,t){if(!t&&!Vqe)return!1;var r=!1;try{var n=[7],i=n[VZ]();i.next=function(){return{done:r=!0}},n[VZ]=function(){return i},e(n)}catch(o){}return r}});var Wqe=P(()=>{"use strict";p();var gar=LO(),$Z=Zh(),yar=HO(),_ar=Nqe(),bar=Lqe(),xar=GW(),Hqe=zqe(),war=Uqe();$Z($Z.S+$Z.F*!Gqe()(function(e){Array.from(e)}),"Array",{from:function(t){var r=yar(t),n=typeof this=="function"?this:Array,i=arguments.length,o=i>1?arguments[1]:void 0,u=o!==void 0,d=0,g=war(r),_,I,T,A;if(u&&(o=gar(o,i>2?arguments[2]:void 0,2)),g!=null&&!(n==Array&&bar(g)))for(A=g.call(r),I=new n;!(T=A.next()).done;d++)Hqe(I,d,u?_ar(A,o,[T.value,d],!0):T.value);else for(_=xar(r.length),I=new n(_);_>d;d++)Hqe(I,d,u?o(r[d],d):r[d]);return I.length=d,I}})});var Yqe=P((Cxn,Zqe)=>{p();Oqe();Wqe();Zqe.exports=mp().Array.from});var Xqe=P((Pxn,Kqe)=>{p();Kqe.exports=Yqe()});var zD=P((TE,Jqe)=>{"use strict";p();var Sar=lo();TE.__esModule=!0;TE.default=void 0;var Ear=Sar(yp()),Qqe=function(){};Ear.default&&(Qqe=function(){if(document.addEventListener)return function(e,t,r,n){return e.addEventListener(t,r,n||!1)};if(document.attachEvent)return function(e,t,r){return e.attachEvent("on"+t,function(n){n=n||window.event,n.target=n.target||n.srcElement,n.currentTarget=e,r.call(e,n)})}}());var Iar=Qqe;TE.default=Iar;Jqe.exports=TE.default});var jD=P((ME,t8e)=>{"use strict";p();var Tar=lo();ME.__esModule=!0;ME.default=void 0;var Mar=Tar(yp()),e8e=function(){};Mar.default&&(e8e=function(){if(document.addEventListener)return function(e,t,r,n){return e.removeEventListener(t,r,n||!1)};if(document.attachEvent)return function(e,t,r){return e.detachEvent("on"+t,r)}}());var Car=e8e;ME.default=Car;t8e.exports=ME.default});var GZ=P((FD,n8e)=>{"use strict";p();FD.__esModule=!0;FD.default=function(e,t,r,n){return(0,Par.default)(e,t,r,n),{remove:function(){(0,Dar.default)(e,t,r,n)}}};var Aar=zD(),Par=r8e(Aar),Oar=jD(),Dar=r8e(Oar);function r8e(e){return e&&e.__esModule?e:{default:e}}n8e.exports=FD.default});var cv=P((BD,o8e)=>{"use strict";p();BD.__esModule=!0;BD.default=function(e){return(0,Lar.default)(Nar.default.findDOMNode(e))};var kar=Yi(),Nar=i8e(kar),Rar=lv(),Lar=i8e(Rar);function i8e(e){return e&&e.__esModule?e:{default:e}}o8e.exports=BD.default});var WZ=P(($D,a8e)=>{"use strict";p();$D.__esModule=!0;var qar=c_(),zar=p_(qar),jar=Qt(),UD=p_(jar),Far=Je(),Bar=p_(Far),Uar=Yi(),Var=p_(Uar),$ar=GZ(),HZ=p_($ar),Gar=cv(),Har=p_(Gar);function p_(e){return e&&e.__esModule?e:{default:e}}function War(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zar(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Yar(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Kar=27;function Xar(e){return e.button===0}function Qar(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}var VD=function(e){Yar(t,e);function t(r,n){War(this,t);var i=Zar(this,e.call(this,r,n));return i.addEventListeners=function(){i.currentEvent=window.event;var o=i.props.event,u=(0,Har.default)(i);i.documentMouseCaptureListener=(0,HZ.default)(u,o,i.handleMouseCapture,!0),i.documentMouseListener=(0,HZ.default)(u,o,i.handleMouse),i.documentKeyupListener=(0,HZ.default)(u,"keyup",i.handleKeyUp)},i.removeEventListeners=function(){i.documentMouseCaptureListener&&i.documentMouseCaptureListener.remove(),i.documentMouseListener&&i.documentMouseListener.remove(),i.documentKeyupListener&&i.documentKeyupListener.remove()},i.handleMouseCapture=function(o){i.preventMouseRootClose=Qar(o)||!Xar(o)||(0,zar.default)(Var.default.findDOMNode(i),o.target)},i.handleMouse=function(o){if(o===i.currentEvent){i.currentEvent=void 0;return}!i.preventMouseRootClose&&i.props.onRootClose&&i.props.onRootClose(o)},i.handleKeyUp=function(o){if(o===i.currentEvent){i.currentEvent=void 0;return}o.keyCode===Kar&&i.props.onRootClose&&i.props.onRootClose(o)},i.preventMouseRootClose=!1,i}return t.prototype.componentDidMount=function(){this.props.disabled||this.addEventListeners()},t.prototype.componentDidUpdate=function(n){!this.props.disabled&&n.disabled?this.addEventListeners():this.props.disabled&&!n.disabled&&this.removeEventListeners()},t.prototype.componentWillUnmount=function(){this.props.disabled||this.removeEventListeners()},t.prototype.render=function(){return this.props.children},t}(Bar.default.Component);VD.displayName="RootCloseWrapper";VD.propTypes={onRootClose:UD.default.func,children:UD.default.element,disabled:UD.default.bool,event:UD.default.oneOf(["click","mousedown"])};VD.defaultProps={event:"click"};$D.default=VD;a8e.exports=$D.default});var N8e=P((QD,k8e)=>{"use strict";p();QD.__esModule=!0;QD.default=Ssr;var wsr=/^[\w-]*$/,bY=Function.prototype.bind.call(Function.prototype.call,[].slice);function Ssr(e,t){var r=t[0]==="#",n=t[0]===".",i=r||n?t.slice(1):t,o=wsr.test(i),u;return o?r?(e=e.getElementById?e:document,(u=e.getElementById(i))?[u]:[]):e.getElementsByClassName&&n?bY(e.getElementsByClassName(i)):bY(e.getElementsByTagName(t)):bY(e.querySelectorAll(t))}k8e.exports=QD.default});var q8e=P((JD,L8e)=>{"use strict";p();var R8e=lo();JD.__esModule=!0;JD.default=Tsr;var Esr=R8e(c_()),Isr=R8e(N8e());function Tsr(e,t){return function(n){var i=n.currentTarget,o=n.target,u=(0,Isr.default)(i,e);u.some(function(d){return(0,Esr.default)(d,o)})&&t.call(this,n)}}L8e.exports=JD.default});var F8e=P((NE,j8e)=>{"use strict";p();var xY=lo();NE.__esModule=!0;NE.default=void 0;var Msr=xY(yp()),Csr=xY(zD()),Asr=xY(jD()),z8e=function(){};Msr.default&&(z8e=function(t,r,n,i){return(0,Csr.default)(t,r,n,i),function(){(0,Asr.default)(t,r,n,i)}});var Psr=z8e;NE.default=Psr;j8e.exports=NE.default});var G8e=P(Jh=>{"use strict";p();var ek=lo();Jh.__esModule=!0;Jh.default=void 0;var B8e=ek(zD());Jh.on=B8e.default;var U8e=ek(jD());Jh.off=U8e.default;var V8e=ek(q8e());Jh.filter=V8e.default;var $8e=ek(F8e());Jh.listen=$8e.default;var Osr={on:B8e.default,off:U8e.default,filter:V8e.default,listen:$8e.default};Jh.default=Osr});var wY=P((rk,H8e)=>{"use strict";p();var Dsr=lo();rk.__esModule=!0;rk.default=Nsr;var ksr=Dsr(yp()),tk;function Nsr(e){if((!tk&&tk!==0||e)&&ksr.default){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),tk=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return tk}H8e.exports=rk.default});var RE=P((nk,Z8e)=>{"use strict";p();Object.defineProperty(nk,"__esModule",{value:!0});var Rsr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lsr=Je(),qsr=W8e(Lsr),zsr=vE(),jsr=W8e(zsr);function W8e(e){return e&&e.__esModule?e:{default:e}}function Fsr(e,t,r,n,i){var o=e[t],u=typeof o=="undefined"?"undefined":Rsr(o);return qsr.default.isValidElement(o)?new Error("Invalid "+n+" `"+i+"` of type ReactElement "+("supplied to `"+r+"`, expected a ReactComponent or a ")+"DOMElement. You can usually obtain a ReactComponent or DOMElement from a ReactElement by attaching a ref to it."):(u!=="object"||typeof o.render!="function")&&o.nodeType!==1?new Error("Invalid "+n+" `"+i+"` of value `"+o+"` "+("supplied to `"+r+"`, expected a ReactComponent or a ")+"DOMElement."):null}nk.default=(0,jsr.default)(Fsr);Z8e.exports=nk.default});var Q8e=P((A2n,X8e)=>{"use strict";p();var Bsr=!1,K8e=function(){};Bsr&&(Y8e=function(t,r){var n=arguments.length;r=new Array(n>1?n-1:0);for(var i=1;i<n;i++)r[i-1]=arguments[i];var o=0,u="Warning: "+t.replace(/%s/g,function(){return r[o++]});typeof console!="undefined"&&console.error(u);try{throw new Error(u)}catch(d){}},K8e=function(e,t,r){var n=arguments.length;r=new Array(n>2?n-2:0);for(var i=2;i<n;i++)r[i-2]=arguments[i];if(t===void 0)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");e||Y8e.apply(null,[t].concat(r))});var Y8e;X8e.exports=K8e});var t7e=P((ik,e7e)=>{"use strict";p();Object.defineProperty(ik,"__esModule",{value:!0});ik.default=J8e;var Usr=Q8e(),Vsr=$sr(Usr);function $sr(e){return e&&e.__esModule?e:{default:e}}var SY={};function J8e(e,t){return function(n,i,o,u,d){var g=o||"<<anonymous>>",_=d||i;if(n[i]!=null){var I=o+"."+i;(0,Vsr.default)(SY[I],"The "+u+" `"+_+"` of "+("`"+g+"` is deprecated. "+t+".")),SY[I]=!0}for(var T=arguments.length,A=Array(T>5?T-5:0),q=5;q<T;q++)A[q-5]=arguments[q];return e.apply(void 0,[n,i,o,u,d].concat(A))}}function Gsr(){SY={}}J8e._resetWarned=Gsr;e7e.exports=ik.default});var EY=P((ok,r7e)=>{"use strict";p();ok.__esModule=!0;ok.default=Hsr;function Hsr(e,t){return e.classList?!!t&&e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}r7e.exports=ok.default});var i7e=P((ak,n7e)=>{"use strict";p();var Wsr=lo();ak.__esModule=!0;ak.default=Ysr;var Zsr=Wsr(EY());function Ysr(e,t){e.classList?e.classList.add(t):(0,Zsr.default)(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}n7e.exports=ak.default});var s7e=P((N2n,a7e)=>{"use strict";p();function o7e(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}a7e.exports=function(t,r){t.classList?t.classList.remove(r):typeof t.className=="string"?t.className=o7e(t.className,r):t.setAttribute("class",o7e(t.className&&t.className.baseVal||"",r))}});var p7e=P(pv=>{"use strict";p();var IY=lo();pv.__esModule=!0;pv.default=void 0;var l7e=IY(i7e());pv.addClass=l7e.default;var u7e=IY(s7e());pv.removeClass=u7e.default;var c7e=IY(EY());pv.hasClass=c7e.default;var Ksr={addClass:l7e.default,removeClass:u7e.default,hasClass:c7e.default};pv.default=Ksr});var LE=P((sk,f7e)=>{"use strict";p();sk.__esModule=!0;sk.default=Xsr;function Xsr(e){return e===e.window?e:e.nodeType===9?e.defaultView||e.parentWindow:!1}f7e.exports=sk.default});var TY=P((lk,m7e)=>{"use strict";p();lk.__esModule=!0;lk.default=nlr;var Qsr=LE(),d7e=h7e(Qsr),Jsr=lv(),elr=h7e(Jsr);function h7e(e){return e&&e.__esModule?e:{default:e}}function tlr(e){return e&&e.tagName.toLowerCase()==="body"}function rlr(e){var t=(0,elr.default)(e),r=(0,d7e.default)(t),n=r.innerWidth;if(!n){var i=t.documentElement.getBoundingClientRect();n=i.right-Math.abs(i.left)}return t.body.clientWidth<n}function nlr(e){var t=(0,d7e.default)(e);return t||tlr(e)?rlr(e):e.scrollHeight>e.clientHeight}m7e.exports=lk.default});var v7e=P(qE=>{"use strict";p();qE.__esModule=!0;qE.ariaHidden=MY;qE.hideSiblings=alr;qE.showSiblings=slr;var ilr=["template","script","style"],olr=function(t){var r=t.nodeType,n=t.tagName;return r===1&&ilr.indexOf(n.toLowerCase())===-1},g7e=function(t,r,n){r=[].concat(r),[].forEach.call(t.children,function(i){r.indexOf(i)===-1&&olr(i)&&n(i)})};function MY(e,t){t&&(e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden"))}function alr(e,t){g7e(e,t,function(r){return MY(!0,r)})}function slr(e,t){g7e(e,t,function(r){return MY(!1,r)})}});var x7e=P((ck,b7e)=>{"use strict";p();ck.__esModule=!0;var llr=p7e(),y7e=uk(llr),ulr=AD(),_7e=uk(ulr),clr=wY(),plr=uk(clr),flr=TY(),dlr=uk(flr),CY=v7e();function uk(e){return e&&e.__esModule?e:{default:e}}function hlr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mlr(e,t){var r=-1;return e.some(function(n,i){if(t(n,i))return r=i,!0}),r}function glr(e,t){return mlr(e,function(r){return r.modals.indexOf(t)!==-1})}function vlr(e,t){var r={overflow:"hidden"};e.style={overflow:t.style.overflow,paddingRight:t.style.paddingRight},e.overflowing&&(r.paddingRight=parseInt((0,_7e.default)(t,"paddingRight")||0,10)+(0,plr.default)()+"px"),(0,_7e.default)(t,r)}function ylr(e,t){var r=e.style;Object.keys(r).forEach(function(n){return t.style[n]=r[n]})}var _lr=function e(){var t=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=r.hideSiblingNodes,i=n===void 0?!0:n,o=r.handleContainerOverflow,u=o===void 0?!0:o;hlr(this,e),this.add=function(d,g,_){var I=t.modals.indexOf(d),T=t.containers.indexOf(g);if(I!==-1)return I;if(I=t.modals.length,t.modals.push(d),t.hideSiblingNodes&&(0,CY.hideSiblings)(g,d.modalNode),T!==-1)return t.data[T].modals.push(d),I;var A={modals:[d],classes:_?_.split(/\s+/):[],overflowing:(0,dlr.default)(g)};return t.handleContainerOverflow&&vlr(A,g),A.classes.forEach(y7e.default.addClass.bind(null,g)),t.containers.push(g),t.data.push(A),I},this.remove=function(d){var g=t.modals.indexOf(d);if(g!==-1){var _=glr(t.data,d),I=t.data[_],T=t.containers[_];I.modals.splice(I.modals.indexOf(d),1),t.modals.splice(g,1),I.modals.length===0?(I.classes.forEach(y7e.default.removeClass.bind(null,T)),t.handleContainerOverflow&&ylr(I,T),t.hideSiblingNodes&&(0,CY.showSiblings)(T,d.modalNode),t.containers.splice(_,1),t.data.splice(_,1)):t.hideSiblingNodes&&(0,CY.ariaHidden)(!1,I.modals[I.modals.length-1].modalNode)}},this.isTopModal=function(d){return!!t.modals.length&&t.modals[t.modals.length-1]===d},this.hideSiblingNodes=i,this.handleContainerOverflow=u,this.modals=[],this.containers=[],this.data=[]};ck.default=_lr;b7e.exports=ck.default});var zE=P((pk,w7e)=>{"use strict";p();pk.__esModule=!0;pk.default=Slr;var blr=Yi(),xlr=wlr(blr);function wlr(e){return e&&e.__esModule?e:{default:e}}function Slr(e,t){return e=typeof e=="function"?e():e,xlr.default.findDOMNode(e)||t}w7e.exports=pk.default});var A7e=P((fk,C7e)=>{"use strict";p();fk.__esModule=!0;var Elr=Qt(),AY=g_(Elr),Ilr=RE(),Tlr=g_(Ilr),Mlr=Je(),S7e=g_(Mlr),Clr=Yi(),E7e=g_(Clr),Alr=zE(),I7e=g_(Alr),Plr=cv(),T7e=g_(Plr);function g_(e){return e&&e.__esModule?e:{default:e}}function Olr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M7e(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Dlr(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var PY=function(e){Dlr(t,e);function t(){var r,n,i;Olr(this,t);for(var o=arguments.length,u=Array(o),d=0;d<o;d++)u[d]=arguments[d];return i=(r=(n=M7e(this,e.call.apply(e,[this].concat(u))),n),n._mountOverlayTarget=function(){n._overlayTarget||(n._overlayTarget=document.createElement("div"),n._portalContainerNode=(0,I7e.default)(n.props.container,(0,T7e.default)(n).body),n._portalContainerNode.appendChild(n._overlayTarget))},n._unmountOverlayTarget=function(){n._overlayTarget&&(n._portalContainerNode.removeChild(n._overlayTarget),n._overlayTarget=null),n._portalContainerNode=null},n._renderOverlay=function(){var g=n.props.children?S7e.default.Children.only(n.props.children):null;if(g!==null){n._mountOverlayTarget();var _=!n._overlayInstance;n._overlayInstance=E7e.default.unstable_renderSubtreeIntoContainer(n,g,n._overlayTarget,function(){_&&n.props.onRendered&&n.props.onRendered()})}else n._unrenderOverlay(),n._unmountOverlayTarget()},n._unrenderOverlay=function(){n._overlayTarget&&(E7e.default.unmountComponentAtNode(n._overlayTarget),n._overlayInstance=null)},n.getMountNode=function(){return n._overlayTarget},r),M7e(n,i)}return t.prototype.componentDidMount=function(){this._isMounted=!0,this._renderOverlay()},t.prototype.componentDidUpdate=function(){this._renderOverlay()},t.prototype.UNSAFE_componentWillReceiveProps=function(n){this._overlayTarget&&n.container!==this.props.container&&(this._portalContainerNode.removeChild(this._overlayTarget),this._portalContainerNode=(0,I7e.default)(n.container,(0,T7e.default)(this).body),this._portalContainerNode.appendChild(this._overlayTarget))},t.prototype.componentWillUnmount=function(){this._isMounted=!1,this._unrenderOverlay(),this._unmountOverlayTarget()},t.prototype.render=function(){return null},t}(S7e.default.Component);PY.displayName="Portal";PY.propTypes={container:AY.default.oneOfType([Tlr.default,AY.default.func]),onRendered:AY.default.func};fk.default=PY;C7e.exports=fk.default});var NY=P((dk,O7e)=>{"use strict";p();dk.__esModule=!0;var klr=yp(),Nlr=em(klr),Rlr=Qt(),OY=em(Rlr),Llr=RE(),qlr=em(Llr),zlr=Je(),jlr=em(zlr),Flr=Yi(),DY=em(Flr),Blr=zE(),Ulr=em(Blr),Vlr=cv(),$lr=em(Vlr),Glr=A7e(),Hlr=em(Glr);function em(e){return e&&e.__esModule?e:{default:e}}function Wlr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P7e(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Zlr(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var kY=function(e){Zlr(t,e);function t(){var r,n,i;Wlr(this,t);for(var o=arguments.length,u=Array(o),d=0;d<o;d++)u[d]=arguments[d];return i=(r=(n=P7e(this,e.call.apply(e,[this].concat(u))),n),n.getMountNode=function(){return n._portalContainerNode},r),P7e(n,i)}return t.prototype.UNSAFE_componentWillMount=function(){if(Nlr.default){var n=this.props.container;typeof n=="function"&&(n=n()),!(n&&!DY.default.findDOMNode(n))&&this.setContainer(n)}},t.prototype.componentDidMount=function(){this._portalContainerNode?this.props.onRendered&&this.props.onRendered():(this.setContainer(this.props.container),this.forceUpdate(this.props.onRendered))},t.prototype.UNSAFE_componentWillReceiveProps=function(n){n.container!==this.props.container&&this.setContainer(n.container)},t.prototype.componentWillUnmount=function(){this._portalContainerNode=null},t.prototype.setContainer=function(n){this._portalContainerNode=(0,Ulr.default)(n,(0,$lr.default)(this).body)},t.prototype.render=function(){return this.props.children&&this._portalContainerNode?DY.default.createPortal(this.props.children,this._portalContainerNode):null},t}(jlr.default.Component);kY.displayName="Portal";kY.propTypes={container:OY.default.oneOfType([qlr.default,OY.default.func]),onRendered:OY.default.func};dk.default=DY.default.createPortal?kY:Hlr.default;O7e.exports=dk.default});var R7e=P((hk,N7e)=>{"use strict";p();hk.__esModule=!0;var Ylr=Qt(),Klr=D7e(Ylr),Xlr=Je(),Qlr=D7e(Xlr);function D7e(e){return e&&e.__esModule?e:{default:e}}function Jlr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eur(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function tur(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var rur={children:Klr.default.node},k7e=function(e){tur(t,e);function t(){return Jlr(this,t),eur(this,e.apply(this,arguments))}return t.prototype.render=function(){return this.props.children},t}(Qlr.default.Component);k7e.propTypes=rur;hk.default=k7e;N7e.exports=hk.default});var q7e=P((mk,L7e)=>{"use strict";p();mk.__esModule=!0;mk.default=nur;function nur(e){var t=!document.addEventListener,r=void 0;return t?(document.attachEvent("onfocusin",e),r=function(){return document.detachEvent("onfocusin",e)}):(document.addEventListener("focus",e,!0),r=function(){return document.removeEventListener("focus",e,!0)}),{remove:r}}L7e.exports=mk.default});var W7e=P((vk,H7e)=>{"use strict";p();vk.__esModule=!0;var B7e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},iur=NZ(),RY=Ia(iur),our=c_(),U7e=Ia(our),aur=yp(),sur=Ia(aur),lur=Qt(),bi=Ia(lur),uur=RE(),cur=Ia(uur),pur=t7e(),fur=Ia(pur),dur=Ea(),z7e=Ia(dur),V7e=Je(),tm=Ia(V7e),hur=Yi(),mur=Ia(hur),gur=Kh(),vur=Ia(gur),yur=x7e(),$7e=Ia(yur),_ur=NY(),G7e=Ia(_ur),bur=R7e(),xur=Ia(bur),wur=GZ(),j7e=Ia(wur),Sur=q7e(),Eur=Ia(Sur),Iur=zE(),Tur=Ia(Iur),Mur=cv(),LY=Ia(Mur);function Ia(e){return e&&e.__esModule?e:{default:e}}function Cur(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F7e(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Aur(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Pur=new $7e.default,gk=function(e){Aur(t,e);function t(){var r,n,i;Cur(this,t);for(var o=arguments.length,u=Array(o),d=0;d<o;d++)u[d]=arguments[d];return i=(r=(n=F7e(this,e.call.apply(e,[this].concat(u))),n),Our.call(n),r),F7e(n,i)}return t.prototype.omitProps=function(n,i){var o=Object.keys(n),u={};return o.map(function(d){Object.prototype.hasOwnProperty.call(i,d)||(u[d]=n[d])}),u},t.prototype.render=function(){var n=this.props,i=n.show,o=n.container,u=n.children,d=n.transition,g=n.backdrop,_=n.className,I=n.style,T=n.onExit,A=n.onExiting,q=n.onEnter,z=n.onEntering,U=n.onEntered,N=tm.default.Children.only(u),L=this.omitProps(this.props,t.propTypes),F=i||d&&!this.state.exited;if(!F)return null;var H=N.props,Y=H.role,te=H.tabIndex;return(Y===void 0||te===void 0)&&(N=(0,V7e.cloneElement)(N,{role:Y===void 0?"document":Y,tabIndex:te==null?"-1":te})),d&&(N=tm.default.createElement(d,{appear:!0,unmountOnExit:!0,in:i,onExit:T,onExiting:A,onExited:this.handleHidden,onEnter:q,onEntering:z,onEntered:U},N)),tm.default.createElement(G7e.default,{ref:this.setMountNode,container:o,onRendered:this.onPortalRendered},tm.default.createElement("div",B7e({ref:this.setModalNodeRef,role:Y||"dialog"},L,{style:I,className:_}),g&&this.renderBackdrop(),tm.default.createElement(xur.default,{ref:this.setDialogRef},N)))},t.prototype.UNSAFE_componentWillReceiveProps=function(n){n.show?this.setState({exited:!1}):n.transition||this.setState({exited:!0})},t.prototype.UNSAFE_componentWillUpdate=function(n){!this.props.show&&n.show&&this.checkForFocus()},t.prototype.componentDidMount=function(){this._isMounted=!0,this.props.show&&this.onShow()},t.prototype.componentDidUpdate=function(n){var i=this.props.transition;n.show&&!this.props.show&&!i?this.onHide():!n.show&&this.props.show&&this.onShow()},t.prototype.componentWillUnmount=function(){var n=this.props,i=n.show,o=n.transition;this._isMounted=!1,(i||o&&!this.state.exited)&&this.onHide()},t.prototype.autoFocus=function(){if(this.props.autoFocus){var n=this.getDialogElement(),i=(0,RY.default)((0,LY.default)(this));n&&!(0,U7e.default)(n,i)&&(this.lastFocus=i,n.hasAttribute("tabIndex")||((0,vur.default)(!1,"The modal content node does not accept focus. For the benefit of assistive technologies, the tabIndex of the node is being set to \"-1\"."),n.setAttribute("tabIndex",-1)),n.focus())}},t.prototype.restoreLastFocus=function(){this.lastFocus&&this.lastFocus.focus&&(this.lastFocus.focus(),this.lastFocus=null)},t.prototype.getDialogElement=function(){return mur.default.findDOMNode(this.dialog)},t.prototype.isTopModal=function(){return this.props.manager.isTopModal(this)},t}(tm.default.Component);gk.propTypes=B7e({},G7e.default.propTypes,{show:bi.default.bool,container:bi.default.oneOfType([cur.default,bi.default.func]),onShow:bi.default.func,onHide:bi.default.func,backdrop:bi.default.oneOfType([bi.default.bool,bi.default.oneOf(["static"])]),renderBackdrop:bi.default.func,onEscapeKeyDown:bi.default.func,onEscapeKeyUp:(0,fur.default)(bi.default.func,"Please use onEscapeKeyDown instead for consistency"),onBackdropClick:bi.default.func,backdropStyle:bi.default.object,backdropClassName:bi.default.string,containerClassName:bi.default.string,keyboard:bi.default.bool,transition:z7e.default,backdropTransition:z7e.default,autoFocus:bi.default.bool,enforceFocus:bi.default.bool,restoreFocus:bi.default.bool,onEnter:bi.default.func,onEntering:bi.default.func,onEntered:bi.default.func,onExit:bi.default.func,onExiting:bi.default.func,onExited:bi.default.func,manager:bi.default.object.isRequired});gk.defaultProps={show:!1,backdrop:!0,keyboard:!0,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,onHide:function(){},manager:Pur,renderBackdrop:function(t){return tm.default.createElement("div",t)}};var Our=function(){var t=this;this.state={exited:!this.props.show},this.renderBackdrop=function(){var r=t.props,n=r.backdropStyle,i=r.backdropClassName,o=r.renderBackdrop,u=r.backdropTransition,d=function(I){return t.backdrop=I},g=o({ref:d,style:n,className:i,onClick:t.handleBackdropClick});return u&&(g=tm.default.createElement(u,{appear:!0,in:t.props.show},g)),g},this.onPortalRendered=function(){t.autoFocus(),t.props.onShow&&t.props.onShow()},this.onShow=function(){var r=(0,LY.default)(t),n=(0,Tur.default)(t.props.container,r.body);t.props.manager.add(t,n,t.props.containerClassName),t._onDocumentKeydownListener=(0,j7e.default)(r,"keydown",t.handleDocumentKeyDown),t._onDocumentKeyupListener=(0,j7e.default)(r,"keyup",t.handleDocumentKeyUp),t._onFocusinListener=(0,Eur.default)(t.enforceFocus)},this.onHide=function(){t.props.manager.remove(t),t._onDocumentKeydownListener.remove(),t._onDocumentKeyupListener.remove(),t._onFocusinListener.remove(),t.props.restoreFocus&&t.restoreLastFocus()},this.setMountNode=function(r){t.mountNode=r&&r.getMountNode()},this.setModalNodeRef=function(r){t.modalNode=r},this.setDialogRef=function(r){t.dialog=r},this.handleHidden=function(){if(t.setState({exited:!0}),t.onHide(),t.props.onExited){var r;(r=t.props).onExited.apply(r,arguments)}},this.handleBackdropClick=function(r){r.target===r.currentTarget&&(t.props.onBackdropClick&&t.props.onBackdropClick(r),t.props.backdrop===!0&&t.props.onHide())},this.handleDocumentKeyDown=function(r){t.props.keyboard&&r.keyCode===27&&t.isTopModal()&&(t.props.onEscapeKeyDown&&t.props.onEscapeKeyDown(r),t.props.onHide())},this.handleDocumentKeyUp=function(r){t.props.keyboard&&r.keyCode===27&&t.isTopModal()&&t.props.onEscapeKeyUp&&t.props.onEscapeKeyUp(r)},this.checkForFocus=function(){sur.default&&(t.lastFocus=(0,RY.default)())},this.enforceFocus=function(){if(!(!t.props.enforceFocus||!t._isMounted||!t.isTopModal())){var r=t.getDialogElement(),n=(0,RY.default)((0,LY.default)(t));r&&!(0,U7e.default)(r,n)&&r.focus()}}};gk.Manager=$7e.default;vk.default=gk;H7e.exports=vk.default});var YY=P((Sk,h9e)=>{"use strict";p();var ZY=lo();Sk.__esModule=!0;Sk.default=tcr;var Qur=ZY(c_()),Jur=ZY(LE()),ecr=ZY(lv());function tcr(e){var t=(0,ecr.default)(e),r=(0,Jur.default)(t),n=t&&t.documentElement,i={top:0,left:0,height:0,width:0};if(t)return(0,Qur.default)(n,e)&&(e.getBoundingClientRect!==void 0&&(i=e.getBoundingClientRect()),i={top:i.top+(r.pageYOffset||n.scrollTop)-(n.clientTop||0),left:i.left+(r.pageXOffset||n.scrollLeft)-(n.clientLeft||0),width:(i.width==null?e.offsetWidth:i.width)||0,height:(i.height==null?e.offsetHeight:i.height)||0}),i}h9e.exports=Sk.default});var m9e=P((uEn,Vf)=>{p();function KY(){return Vf.exports=KY=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vf.exports.__esModule=!0,Vf.exports.default=Vf.exports,KY.apply(null,arguments)}Vf.exports=KY,Vf.exports.__esModule=!0,Vf.exports.default=Vf.exports});var y9e=P((Ek,v9e)=>{"use strict";p();var g9e=lo();Ek.__esModule=!0;Ek.default=ocr;var rcr=g9e(lv()),ncr=g9e(AD());function icr(e){return e.nodeName&&e.nodeName.toLowerCase()}function ocr(e){for(var t=(0,rcr.default)(e),r=e&&e.offsetParent;r&&icr(e)!=="html"&&(0,ncr.default)(r,"position")==="static";)r=r.offsetParent;return r||t.documentElement}v9e.exports=Ek.default});var XY=P((Ik,_9e)=>{"use strict";p();var acr=lo();Ik.__esModule=!0;Ik.default=lcr;var scr=acr(LE());function lcr(e,t){var r=(0,scr.default)(e);if(t===void 0)return r?"pageYOffset"in r?r.pageYOffset:r.document.documentElement.scrollTop:e.scrollTop;r?r.scrollTo("pageXOffset"in r?r.pageXOffset:r.document.documentElement.scrollLeft,t):e.scrollTop=t}_9e.exports=Ik.default});var x9e=P((Tk,b9e)=>{"use strict";p();var ucr=lo();Tk.__esModule=!0;Tk.default=pcr;var ccr=ucr(LE());function pcr(e,t){var r=(0,ccr.default)(e);if(t===void 0)return r?"pageXOffset"in r?r.pageXOffset:r.document.documentElement.scrollLeft:e.scrollLeft;r?r.scrollTo(t,"pageYOffset"in r?r.pageYOffset:r.document.documentElement.scrollTop):e.scrollLeft=t}b9e.exports=Tk.default});var E9e=P((Mk,S9e)=>{"use strict";p();var b_=lo();Mk.__esModule=!0;Mk.default=vcr;var fcr=b_(m9e()),w9e=b_(YY()),dcr=b_(y9e()),hcr=b_(XY()),mcr=b_(x9e()),HE=b_(AD());function gcr(e){return e.nodeName&&e.nodeName.toLowerCase()}function vcr(e,t){var r={top:0,left:0},n;return(0,HE.default)(e,"position")==="fixed"?n=e.getBoundingClientRect():(t=t||(0,dcr.default)(e),n=(0,w9e.default)(e),gcr(t)!=="html"&&(r=(0,w9e.default)(t)),r.top+=parseInt((0,HE.default)(t,"borderTopWidth"),10)-(0,hcr.default)(t)||0,r.left+=parseInt((0,HE.default)(t,"borderLeftWidth"),10)-(0,mcr.default)(t)||0),(0,fcr.default)({},n,{top:n.top-r.top-(parseInt((0,HE.default)(e,"marginTop"),10)||0),left:n.left-r.left-(parseInt((0,HE.default)(e,"marginLeft"),10)||0)})}S9e.exports=Mk.default});var M9e=P((Ak,T9e)=>{"use strict";p();Ak.__esModule=!0;Ak.default=Tcr;var ycr=YY(),JY=Ck(ycr),_cr=E9e(),bcr=Ck(_cr),xcr=XY(),QY=Ck(xcr),wcr=cv(),Scr=Ck(wcr);function Ck(e){return e&&e.__esModule?e:{default:e}}function I9e(e){var t=void 0,r=void 0,n=void 0;if(e.tagName==="BODY")t=window.innerWidth,r=window.innerHeight,n=(0,QY.default)((0,Scr.default)(e).documentElement)||(0,QY.default)(e);else{var i=(0,JY.default)(e);t=i.width,r=i.height,n=(0,QY.default)(e)}return{width:t,height:r,scroll:n}}function Ecr(e,t,r,n){var i=I9e(r),o=i.scroll,u=i.height,d=e-n-o,g=e+n-o+t;return d<0?-d:g>u?u-g:0}function Icr(e,t,r,n){var i=I9e(r),o=i.width,u=e-n,d=e+n+t;return u<0?-u:d>o?o-d:0}function Tcr(e,t,r,n,i){var o=n.tagName==="BODY"?(0,JY.default)(r):(0,bcr.default)(r,n),u=(0,JY.default)(t),d=u.height,g=u.width,_=void 0,I=void 0,T=void 0,A=void 0;if(e==="left"||e==="right"){I=o.top+(o.height-d)/2,e==="left"?_=o.left-g:_=o.left+o.width;var q=Ecr(I,d,n,i);I+=q,A=50*(1-2*q/d)+"%",T=void 0}else if(e==="top"||e==="bottom"){_=o.left+(o.width-g)/2,e==="top"?I=o.top-d:I=o.top+o.height;var z=Icr(_,g,n,i);_+=z,T=50*(1-2*z/g)+"%",A=void 0}else throw new Error("calcOverlayPosition(): No such placement of \""+e+"\" found.");return{positionLeft:_,positionTop:I,arrowOffsetLeft:T,arrowOffsetTop:A}}T9e.exports=Ak.default});var R9e=P((Ok,N9e)=>{"use strict";p();Ok.__esModule=!0;var C9e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mcr=fn(),Ccr=nm(Mcr),Acr=Qt(),fv=nm(Acr),Pcr=RE(),A9e=nm(Pcr),k9e=Je(),P9e=nm(k9e),Ocr=Yi(),O9e=nm(Ocr),Dcr=M9e(),kcr=nm(Dcr),Ncr=zE(),Rcr=nm(Ncr),Lcr=cv(),qcr=nm(Lcr);function nm(e){return e&&e.__esModule?e:{default:e}}function D9e(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}function zcr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jcr(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Fcr(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Pk=function(e){Fcr(t,e);function t(r,n){zcr(this,t);var i=jcr(this,e.call(this,r,n));return i.getTarget=function(){var o=i.props.target,u=typeof o=="function"?o():o;return u&&O9e.default.findDOMNode(u)||null},i.maybeUpdatePosition=function(o){var u=i.getTarget();!i.props.shouldUpdatePosition&&u===i._lastTarget&&!o||i.updatePosition(u)},i.state={positionLeft:0,positionTop:0,arrowOffsetLeft:null,arrowOffsetTop:null},i._needsFlush=!1,i._lastTarget=null,i}return t.prototype.componentDidMount=function(){this.updatePosition(this.getTarget())},t.prototype.UNSAFE_componentWillReceiveProps=function(){this._needsFlush=!0},t.prototype.componentDidUpdate=function(n){this._needsFlush&&(this._needsFlush=!1,this.maybeUpdatePosition(this.props.placement!==n.placement))},t.prototype.render=function(){var n=this.props,i=n.children,o=n.className,u=D9e(n,["children","className"]),d=this.state,g=d.positionLeft,_=d.positionTop,I=D9e(d,["positionLeft","positionTop"]);delete u.target,delete u.container,delete u.containerPadding,delete u.shouldUpdatePosition;var T=P9e.default.Children.only(i);return(0,k9e.cloneElement)(T,C9e({},u,I,{positionLeft:g,positionTop:_,className:(0,Ccr.default)(o,T.props.className),style:C9e({},T.props.style,{left:g,top:_})}))},t.prototype.updatePosition=function(n){if(this._lastTarget=n,!n){this.setState({positionLeft:0,positionTop:0,arrowOffsetLeft:null,arrowOffsetTop:null});return}var i=O9e.default.findDOMNode(this),o=(0,Rcr.default)(this.props.container,(0,qcr.default)(this).body);this.setState((0,kcr.default)(this.props.placement,i,n,o,this.props.containerPadding))},t}(P9e.default.Component);Pk.propTypes={target:fv.default.oneOfType([A9e.default,fv.default.func]),container:fv.default.oneOfType([A9e.default,fv.default.func]),containerPadding:fv.default.number,placement:fv.default.oneOf(["top","right","bottom","left"]),shouldUpdatePosition:fv.default.bool};Pk.displayName="Position";Pk.defaultProps={containerPadding:0,placement:"right",shouldUpdatePosition:!1};Ok.default=Pk;N9e.exports=Ok.default});var B9e=P((Dk,F9e)=>{"use strict";p();Dk.__esModule=!0;var Bcr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ucr=Qt(),$f=x_(Ucr),Vcr=Ea(),$cr=x_(Vcr),Gcr=Je(),WE=x_(Gcr),Hcr=NY(),L9e=x_(Hcr),Wcr=R9e(),q9e=x_(Wcr),Zcr=WZ(),z9e=x_(Zcr);function x_(e){return e&&e.__esModule?e:{default:e}}function Ycr(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}function Kcr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xcr(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Qcr(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var j9e=function(e){Qcr(t,e);function t(r,n){Kcr(this,t);var i=Xcr(this,e.call(this,r,n));return i.handleHidden=function(){if(i.setState({exited:!0}),i.props.onExited){var o;(o=i.props).onExited.apply(o,arguments)}},i.state={exited:!r.show},i.onHiddenListener=i.handleHidden.bind(i),i}return t.prototype.UNSAFE_componentWillReceiveProps=function(n){n.show?this.setState({exited:!1}):n.transition||this.setState({exited:!0})},t.prototype.render=function(){var n=this.props,i=n.container,o=n.containerPadding,u=n.target,d=n.placement,g=n.shouldUpdatePosition,_=n.rootClose,I=n.children,T=n.transition,A=Ycr(n,["container","containerPadding","target","placement","shouldUpdatePosition","rootClose","children","transition"]),q=A.show||T&&!this.state.exited;if(!q)return null;var z=I;if(z=WE.default.createElement(q9e.default,{container:i,containerPadding:o,target:u,placement:d,shouldUpdatePosition:g},z),T){var U=A.onExit,N=A.onExiting,L=A.onEnter,F=A.onEntering,H=A.onEntered;z=WE.default.createElement(T,{in:A.show,appear:!0,onExit:U,onExiting:N,onExited:this.onHiddenListener,onEnter:L,onEntering:F,onEntered:H},z)}return _&&(z=WE.default.createElement(z9e.default,{onRootClose:A.onHide,event:A.rootCloseEvent},z)),WE.default.createElement(L9e.default,{container:i},z)},t}(WE.default.Component);j9e.propTypes=Bcr({},L9e.default.propTypes,q9e.default.propTypes,{show:$f.default.bool,rootClose:$f.default.bool,rootCloseEvent:z9e.default.propTypes.event,onHide:function(t){var r=$f.default.func;t.rootClose&&(r=r.isRequired);for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return r.apply(void 0,[t].concat(i))},transition:$cr.default,onEnter:$f.default.func,onEntering:$f.default.func,onEntered:$f.default.func,onExit:$f.default.func,onExiting:$f.default.func,onExited:$f.default.func});Dk.default=j9e;F9e.exports=Dk.default});var Ize=P((mMn,Eze)=>{"use strict";p();Eze.exports=e=>encodeURIComponent(e).replace(/[!'()*]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`)});var Pze=P((vMn,Aze)=>{"use strict";p();var Cze="%[a-f0-9]{2}",Tze=new RegExp("("+Cze+")|([^%]+?)","gi"),Mze=new RegExp("("+Cze+")+","gi");function xK(e,t){try{return[decodeURIComponent(e.join(""))]}catch(i){}if(e.length===1)return e;t=t||1;var r=e.slice(0,t),n=e.slice(t);return Array.prototype.concat.call([],xK(r),xK(n))}function hfr(e){try{return decodeURIComponent(e)}catch(n){for(var t=e.match(Tze)||[],r=1;r<t.length;r++)e=xK(t,r).join(""),t=e.match(Tze)||[];return e}}function mfr(e){for(var t={"%FE%FF":"\uFFFD\uFFFD","%FF%FE":"\uFFFD\uFFFD"},r=Mze.exec(e);r;){try{t[r[0]]=decodeURIComponent(r[0])}catch(d){var n=hfr(r[0]);n!==r[0]&&(t[r[0]]=n)}r=Mze.exec(e)}t["%C2"]="\uFFFD";for(var i=Object.keys(t),o=0;o<i.length;o++){var u=i[o];e=e.replace(new RegExp(u,"g"),t[u])}return e}Aze.exports=function(e){if(typeof e!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return mfr(e)}}});var Dze=P((_Mn,Oze)=>{"use strict";p();Oze.exports=(e,t)=>{if(!(typeof e=="string"&&typeof t=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(t==="")return[e];let r=e.indexOf(t);return r===-1?[e]:[e.slice(0,r),e.slice(r+t.length)]}});var Nze=P((xMn,kze)=>{"use strict";p();kze.exports=function(e,t){for(var r={},n=Object.keys(e),i=Array.isArray(t),o=0;o<n.length;o++){var u=n[o],d=e[u];(i?t.indexOf(u)!==-1:t(u,d,e))&&(r[u]=d)}return r}});var Uze=P(Qs=>{"use strict";p();var gfr=Ize(),vfr=Pze(),Lze=Dze(),yfr=Nze(),_fr=e=>e==null,wK=Symbol("encodeFragmentIdentifier");function bfr(e){switch(e.arrayFormat){case"index":return t=>(r,n)=>{let i=r.length;return n===void 0||e.skipNull&&n===null||e.skipEmptyString&&n===""?r:n===null?[...r,[uo(t,e),"[",i,"]"].join("")]:[...r,[uo(t,e),"[",uo(i,e),"]=",uo(n,e)].join("")]};case"bracket":return t=>(r,n)=>n===void 0||e.skipNull&&n===null||e.skipEmptyString&&n===""?r:n===null?[...r,[uo(t,e),"[]"].join("")]:[...r,[uo(t,e),"[]=",uo(n,e)].join("")];case"colon-list-separator":return t=>(r,n)=>n===void 0||e.skipNull&&n===null||e.skipEmptyString&&n===""?r:n===null?[...r,[uo(t,e),":list="].join("")]:[...r,[uo(t,e),":list=",uo(n,e)].join("")];case"comma":case"separator":case"bracket-separator":{let t=e.arrayFormat==="bracket-separator"?"[]=":"=";return r=>(n,i)=>i===void 0||e.skipNull&&i===null||e.skipEmptyString&&i===""?n:(i=i===null?"":i,n.length===0?[[uo(r,e),t,uo(i,e)].join("")]:[[n,uo(i,e)].join(e.arrayFormatSeparator)])}default:return t=>(r,n)=>n===void 0||e.skipNull&&n===null||e.skipEmptyString&&n===""?r:n===null?[...r,uo(t,e)]:[...r,[uo(t,e),"=",uo(n,e)].join("")]}}function xfr(e){let t;switch(e.arrayFormat){case"index":return(r,n,i)=>{if(t=/\[(\d*)\]$/.exec(r),r=r.replace(/\[\d*\]$/,""),!t){i[r]=n;return}i[r]===void 0&&(i[r]={}),i[r][t[1]]=n};case"bracket":return(r,n,i)=>{if(t=/(\[\])$/.exec(r),r=r.replace(/\[\]$/,""),!t){i[r]=n;return}if(i[r]===void 0){i[r]=[n];return}i[r]=[].concat(i[r],n)};case"colon-list-separator":return(r,n,i)=>{if(t=/(:list)$/.exec(r),r=r.replace(/:list$/,""),!t){i[r]=n;return}if(i[r]===void 0){i[r]=[n];return}i[r]=[].concat(i[r],n)};case"comma":case"separator":return(r,n,i)=>{let o=typeof n=="string"&&n.includes(e.arrayFormatSeparator),u=typeof n=="string"&&!o&&Wf(n,e).includes(e.arrayFormatSeparator);n=u?Wf(n,e):n;let d=o||u?n.split(e.arrayFormatSeparator).map(g=>Wf(g,e)):n===null?n:Wf(n,e);i[r]=d};case"bracket-separator":return(r,n,i)=>{let o=/(\[\])$/.test(r);if(r=r.replace(/\[\]$/,""),!o){i[r]=n&&Wf(n,e);return}let u=n===null?[]:n.split(e.arrayFormatSeparator).map(d=>Wf(d,e));if(i[r]===void 0){i[r]=u;return}i[r]=[].concat(i[r],u)};default:return(r,n,i)=>{if(i[r]===void 0){i[r]=n;return}i[r]=[].concat(i[r],n)}}}function qze(e){if(typeof e!="string"||e.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function uo(e,t){return t.encode?t.strict?gfr(e):encodeURIComponent(e):e}function Wf(e,t){return t.decode?vfr(e):e}function zze(e){return Array.isArray(e)?e.sort():typeof e=="object"?zze(Object.keys(e)).sort((t,r)=>Number(t)-Number(r)).map(t=>e[t]):e}function jze(e){let t=e.indexOf("#");return t!==-1&&(e=e.slice(0,t)),e}function wfr(e){let t="",r=e.indexOf("#");return r!==-1&&(t=e.slice(r)),t}function Fze(e){e=jze(e);let t=e.indexOf("?");return t===-1?"":e.slice(t+1)}function Rze(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&typeof e=="string"&&e.trim()!==""?e=Number(e):t.parseBooleans&&e!==null&&(e.toLowerCase()==="true"||e.toLowerCase()==="false")&&(e=e.toLowerCase()==="true"),e}function Bze(e,t){t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t),qze(t.arrayFormatSeparator);let r=xfr(t),n=Object.create(null);if(typeof e!="string"||(e=e.trim().replace(/^[?#&]/,""),!e))return n;for(let i of e.split("&")){if(i==="")continue;let[o,u]=Lze(t.decode?i.replace(/\+/g," "):i,"=");u=u===void 0?null:["comma","separator","bracket-separator"].includes(t.arrayFormat)?u:Wf(u,t),r(Wf(o,t),u,n)}for(let i of Object.keys(n)){let o=n[i];if(typeof o=="object"&&o!==null)for(let u of Object.keys(o))o[u]=Rze(o[u],t);else n[i]=Rze(o,t)}return t.sort===!1?n:(t.sort===!0?Object.keys(n).sort():Object.keys(n).sort(t.sort)).reduce((i,o)=>{let u=n[o];return u&&typeof u=="object"&&!Array.isArray(u)?i[o]=zze(u):i[o]=u,i},Object.create(null))}Qs.extract=Fze;Qs.parse=Bze;Qs.stringify=(e,t)=>{if(!e)return"";t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t),qze(t.arrayFormatSeparator);let r=u=>t.skipNull&&_fr(e[u])||t.skipEmptyString&&e[u]==="",n=bfr(t),i={};for(let u of Object.keys(e))r(u)||(i[u]=e[u]);let o=Object.keys(i);return t.sort!==!1&&o.sort(t.sort),o.map(u=>{let d=e[u];return d===void 0?"":d===null?uo(u,t):Array.isArray(d)?d.length===0&&t.arrayFormat==="bracket-separator"?uo(u,t)+"[]":d.reduce(n(u),[]).join("&"):uo(u,t)+"="+uo(d,t)}).filter(u=>u.length>0).join("&")};Qs.parseUrl=(e,t)=>{t=Object.assign({decode:!0},t);let[r,n]=Lze(e,"#");return Object.assign({url:r.split("?")[0]||"",query:Bze(Fze(e),t)},t&&t.parseFragmentIdentifier&&n?{fragmentIdentifier:Wf(n,t)}:{})};Qs.stringifyUrl=(e,t)=>{t=Object.assign({encode:!0,strict:!0,[wK]:!0},t);let r=jze(e.url).split("?")[0]||"",n=Qs.extract(e.url),i=Qs.parse(n,{sort:!1}),o=Object.assign(i,e.query),u=Qs.stringify(o,t);u&&(u=`?${u}`);let d=wfr(e.url);return e.fragmentIdentifier&&(d=`#${t[wK]?uo(e.fragmentIdentifier,t):e.fragmentIdentifier}`),`${r}${u}${d}`};Qs.pick=(e,t,r)=>{r=Object.assign({parseFragmentIdentifier:!0,[wK]:!1},r);let{url:n,query:i,fragmentIdentifier:o}=Qs.parseUrl(e,r);return Qs.stringifyUrl({url:n,query:yfr(i,t),fragmentIdentifier:o},r)};Qs.exclude=(e,t,r)=>{let n=Array.isArray(t)?i=>!t.includes(i):(i,o)=>!t(i,o);return Qs.pick(e,n,r)}});var gje=P((zAn,Zf)=>{p();function TK(e,t){return Zf.exports=TK=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Zf.exports.__esModule=!0,Zf.exports.default=Zf.exports,TK(e,t)}Zf.exports=TK,Zf.exports.__esModule=!0,Zf.exports.default=Zf.exports});var MK=P((FAn,sI)=>{p();var Zfr=gje();function Yfr(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Zfr(e,t)}sI.exports=Yfr,sI.exports.__esModule=!0,sI.exports.default=sI.exports});var AK=P(CK=>{"use strict";p();Object.defineProperty(CK,"__esModule",{value:!0});function Kfr(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function Xfr(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t}var Qfr=function(){function e(r){this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.before=null}var t=e.prototype;return t.insert=function(n){if(this.ctr%(this.isSpeedy?65e3:1)===0){var i=Xfr(this),o;this.tags.length===0?o=this.before:o=this.tags[this.tags.length-1].nextSibling,this.container.insertBefore(i,o),this.tags.push(i)}var u=this.tags[this.tags.length-1];if(this.isSpeedy){var d=Kfr(u);try{var g=n.charCodeAt(1)===105&&n.charCodeAt(0)===64;d.insertRule(n,g?0:d.cssRules.length)}catch(_){}}else u.appendChild(document.createTextNode(n));this.ctr++},t.flush=function(){this.tags.forEach(function(n){return n.parentNode.removeChild(n)}),this.tags=[],this.ctr=0},e}();CK.StyleSheet=Qfr});var vje=P(PK=>{"use strict";p();Object.defineProperty(PK,"__esModule",{value:!0});function Jfr(e){function t(Ge,st,tt,je,Me){for(var $e=0,ze=0,ot=0,it=0,vt,ht,It=0,Wt=0,Et,kt=Et=vt=0,Xt=0,yr=0,Pr=0,sr=0,Sr=tt.length,Or=Sr-1,Ur,er="",Vr="",xi="",Le="",J;Xt<Sr;){if(ht=tt.charCodeAt(Xt),Xt===Or&&ze+it+ot+$e!==0&&(ze!==0&&(ht=ze===47?10:47),it=ot=$e=0,Sr++,Or++),ze+it+ot+$e===0){if(Xt===Or&&(0<yr&&(er=er.replace(A,"")),0<er.trim().length)){switch(ht){case 32:case 9:case 59:case 13:case 10:break;default:er+=tt.charAt(Xt)}ht=59}switch(ht){case 123:for(er=er.trim(),vt=er.charCodeAt(0),Et=1,sr=++Xt;Xt<Sr;){switch(ht=tt.charCodeAt(Xt)){case 123:Et++;break;case 125:Et--;break;case 47:switch(ht=tt.charCodeAt(Xt+1)){case 42:case 47:e:{for(kt=Xt+1;kt<Or;++kt)switch(tt.charCodeAt(kt)){case 47:if(ht===42&&tt.charCodeAt(kt-1)===42&&Xt+2!==kt){Xt=kt+1;break e}break;case 10:if(ht===47){Xt=kt+1;break e}}Xt=kt}}break;case 91:ht++;case 40:ht++;case 34:case 39:for(;Xt++<Or&&tt.charCodeAt(Xt)!==ht;);}if(Et===0)break;Xt++}switch(Et=tt.substring(sr,Xt),vt===0&&(vt=(er=er.replace(T,"").trim()).charCodeAt(0)),vt){case 64:switch(0<yr&&(er=er.replace(A,"")),ht=er.charCodeAt(1),ht){case 100:case 109:case 115:case 45:yr=st;break;default:yr=lt}if(Et=t(st,yr,Et,ht,Me+1),sr=Et.length,0<qe&&(yr=r(lt,er,Pr),J=d(3,Et,yr,st,we,Pe,sr,ht,Me,je),er=yr.join(""),J!==void 0&&(sr=(Et=J.trim()).length)===0&&(ht=0,Et="")),0<sr)switch(ht){case 115:er=er.replace(oe,u);case 100:case 109:case 45:Et=er+"{"+Et+"}";break;case 107:er=er.replace(F,"$1 $2"),Et=er+"{"+Et+"}",Et=Xe===1||Xe===2&&o("@"+Et,3)?"@-webkit-"+Et+"@"+Et:"@"+Et;break;default:Et=er+Et,je===112&&(Et=(Vr+=Et,""))}else Et="";break;default:Et=t(st,r(st,er,Pr),Et,je,Me+1)}xi+=Et,Et=Pr=yr=kt=vt=0,er="",ht=tt.charCodeAt(++Xt);break;case 125:case 59:if(er=(0<yr?er.replace(A,""):er).trim(),1<(sr=er.length))switch(kt===0&&(vt=er.charCodeAt(0),vt===45||96<vt&&123>vt)&&(sr=(er=er.replace(" ",":")).length),0<qe&&(J=d(1,er,st,Ge,we,Pe,Vr.length,je,Me,je))!==void 0&&(sr=(er=J.trim()).length)===0&&(er="\0\0"),vt=er.charCodeAt(0),ht=er.charCodeAt(1),vt){case 0:break;case 64:if(ht===105||ht===99){Le+=er+tt.charAt(Xt);break}default:er.charCodeAt(sr-1)!==58&&(Vr+=i(er,vt,ht,er.charCodeAt(2)))}Pr=yr=kt=vt=0,er="",ht=tt.charCodeAt(++Xt)}}switch(ht){case 13:case 10:ze===47?ze=0:1+vt===0&&je!==107&&0<er.length&&(yr=1,er+="\0"),0<qe*bt&&d(0,er,st,Ge,we,Pe,Vr.length,je,Me,je),Pe=1,we++;break;case 59:case 125:if(ze+it+ot+$e===0){Pe++;break}default:switch(Pe++,Ur=tt.charAt(Xt),ht){case 9:case 32:if(it+$e+ze===0)switch(It){case 44:case 58:case 9:case 32:Ur="";break;default:ht!==32&&(Ur=" ")}break;case 0:Ur="\\0";break;case 12:Ur="\\f";break;case 11:Ur="\\v";break;case 38:it+ze+$e===0&&(yr=Pr=1,Ur="\f"+Ur);break;case 108:if(it+ze+$e+Oe===0&&0<kt)switch(Xt-kt){case 2:It===112&&tt.charCodeAt(Xt-3)===58&&(Oe=It);case 8:Wt===111&&(Oe=Wt)}break;case 58:it+ze+$e===0&&(kt=Xt);break;case 44:ze+ot+it+$e===0&&(yr=1,Ur+="\r");break;case 34:case 39:ze===0&&(it=it===ht?0:it===0?ht:it);break;case 91:it+ze+ot===0&&$e++;break;case 93:it+ze+ot===0&&$e--;break;case 41:it+ze+$e===0&&ot--;break;case 40:if(it+ze+$e===0){if(vt===0)switch(2*It+3*Wt){case 533:break;default:vt=1}ot++}break;case 64:ze+ot+it+$e+kt+Et===0&&(Et=1);break;case 42:case 47:if(!(0<it+$e+ot))switch(ze){case 0:switch(2*ht+3*tt.charCodeAt(Xt+1)){case 235:ze=47;break;case 220:sr=Xt,ze=42}break;case 42:ht===47&&It===42&&sr+2!==Xt&&(tt.charCodeAt(sr+2)===33&&(Vr+=tt.substring(sr,Xt+1)),Ur="",ze=0)}}ze===0&&(er+=Ur)}Wt=It,It=ht,Xt++}if(sr=Vr.length,0<sr){if(yr=st,0<qe&&(J=d(2,Vr,yr,Ge,we,Pe,sr,je,Me,je),J!==void 0&&(Vr=J).length===0))return Le+Vr+xi;if(Vr=yr.join(",")+"{"+Vr+"}",Xe*Oe!==0){switch(Xe!==2||o(Vr,2)||(Oe=0),Oe){case 111:Vr=Vr.replace(Y,":-moz-$1")+Vr;break;case 112:Vr=Vr.replace(H,"::-webkit-input-$1")+Vr.replace(H,"::-moz-$1")+Vr.replace(H,":-ms-input-$1")+Vr}Oe=0}}return Le+Vr+xi}function r(Ge,st,tt){var je=st.trim().split(N);st=je;var Me=je.length,$e=Ge.length;switch($e){case 0:case 1:var ze=0;for(Ge=$e===0?"":Ge[0]+" ";ze<Me;++ze)st[ze]=n(Ge,st[ze],tt).trim();break;default:var ot=ze=0;for(st=[];ze<Me;++ze)for(var it=0;it<$e;++it)st[ot++]=n(Ge[it]+" ",je[ze],tt).trim()}return st}function n(Ge,st,tt){var je=st.charCodeAt(0);switch(33>je&&(je=(st=st.trim()).charCodeAt(0)),je){case 38:return st.replace(L,"$1"+Ge.trim());case 58:return Ge.trim()+st.replace(L,"$1"+Ge.trim());default:if(0<1*tt&&0<st.indexOf("\f"))return st.replace(L,(Ge.charCodeAt(0)===58?"":"$1")+Ge.trim())}return Ge+st}function i(Ge,st,tt,je){var Me=Ge+";",$e=2*st+3*tt+4*je;if($e===944){Ge=Me.indexOf(":",9)+1;var ze=Me.substring(Ge,Me.length-1).trim();return ze=Me.substring(0,Ge).trim()+ze+";",Xe===1||Xe===2&&o(ze,1)?"-webkit-"+ze+ze:ze}if(Xe===0||Xe===2&&!o(Me,1))return Me;switch($e){case 1015:return Me.charCodeAt(10)===97?"-webkit-"+Me+Me:Me;case 951:return Me.charCodeAt(3)===116?"-webkit-"+Me+Me:Me;case 963:return Me.charCodeAt(5)===110?"-webkit-"+Me+Me:Me;case 1009:if(Me.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+Me+Me;case 978:return"-webkit-"+Me+"-moz-"+Me+Me;case 1019:case 983:return"-webkit-"+Me+"-moz-"+Me+"-ms-"+Me+Me;case 883:if(Me.charCodeAt(8)===45)return"-webkit-"+Me+Me;if(0<Me.indexOf("image-set(",11))return Me.replace(xe,"$1-webkit-$2")+Me;break;case 932:if(Me.charCodeAt(4)===45)switch(Me.charCodeAt(5)){case 103:return"-webkit-box-"+Me.replace("-grow","")+"-webkit-"+Me+"-ms-"+Me.replace("grow","positive")+Me;case 115:return"-webkit-"+Me+"-ms-"+Me.replace("shrink","negative")+Me;case 98:return"-webkit-"+Me+"-ms-"+Me.replace("basis","preferred-size")+Me}return"-webkit-"+Me+"-ms-"+Me+Me;case 964:return"-webkit-"+Me+"-ms-flex-"+Me+Me;case 1023:if(Me.charCodeAt(8)!==99)break;return ze=Me.substring(Me.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+ze+"-webkit-"+Me+"-ms-flex-pack"+ze+Me;case 1005:return z.test(Me)?Me.replace(q,":-webkit-")+Me.replace(q,":-moz-")+Me:Me;case 1e3:switch(ze=Me.substring(13).trim(),st=ze.indexOf("-")+1,ze.charCodeAt(0)+ze.charCodeAt(st)){case 226:ze=Me.replace(te,"tb");break;case 232:ze=Me.replace(te,"tb-rl");break;case 220:ze=Me.replace(te,"lr");break;default:return Me}return"-webkit-"+Me+"-ms-"+ze+Me;case 1017:if(Me.indexOf("sticky",9)===-1)break;case 975:switch(st=(Me=Ge).length-10,ze=(Me.charCodeAt(st)===33?Me.substring(0,st):Me).substring(Ge.indexOf(":",7)+1).trim(),$e=ze.charCodeAt(0)+(ze.charCodeAt(7)|0)){case 203:if(111>ze.charCodeAt(8))break;case 115:Me=Me.replace(ze,"-webkit-"+ze)+";"+Me;break;case 207:case 102:Me=Me.replace(ze,"-webkit-"+(102<$e?"inline-":"")+"box")+";"+Me.replace(ze,"-webkit-"+ze)+";"+Me.replace(ze,"-ms-"+ze+"box")+";"+Me}return Me+";";case 938:if(Me.charCodeAt(5)===45)switch(Me.charCodeAt(6)){case 105:return ze=Me.replace("-items",""),"-webkit-"+Me+"-webkit-box-"+ze+"-ms-flex-"+ze+Me;case 115:return"-webkit-"+Me+"-ms-flex-item-"+Me.replace(Ie,"")+Me;default:return"-webkit-"+Me+"-ms-flex-line-pack"+Me.replace("align-content","").replace(Ie,"")+Me}break;case 973:case 989:if(Me.charCodeAt(3)!==45||Me.charCodeAt(4)===122)break;case 931:case 953:if(ve.test(Ge)===!0)return(ze=Ge.substring(Ge.indexOf(":")+1)).charCodeAt(0)===115?i(Ge.replace("stretch","fill-available"),st,tt,je).replace(":fill-available",":stretch"):Me.replace(ze,"-webkit-"+ze)+Me.replace(ze,"-moz-"+ze.replace("fill-",""))+Me;break;case 962:if(Me="-webkit-"+Me+(Me.charCodeAt(5)===102?"-ms-"+Me:"")+Me,tt+je===211&&Me.charCodeAt(13)===105&&0<Me.indexOf("transform",10))return Me.substring(0,Me.indexOf(";",27)+1).replace(U,"$1-webkit-$2")+Me}return Me}function o(Ge,st){var tt=Ge.indexOf(st===1?":":"{"),je=Ge.substring(0,st!==3?tt:10);return tt=Ge.substring(tt+1,Ge.length-1),ut(st!==2?je:je.replace(Ee,"$1"),tt,st)}function u(Ge,st){var tt=i(st,st.charCodeAt(0),st.charCodeAt(1),st.charCodeAt(2));return tt!==st+";"?tt.replace(ue," or ($1)").substring(4):"("+st+")"}function d(Ge,st,tt,je,Me,$e,ze,ot,it,vt){for(var ht=0,It=st,Wt;ht<qe;++ht)switch(Wt=pt[ht].call(I,Ge,It,tt,je,Me,$e,ze,ot,it,vt)){case void 0:case!1:case!0:case null:break;default:It=Wt}if(It!==st)return It}function g(Ge){switch(Ge){case void 0:case null:qe=pt.length=0;break;default:if(typeof Ge=="function")pt[qe++]=Ge;else if(typeof Ge=="object")for(var st=0,tt=Ge.length;st<tt;++st)g(Ge[st]);else bt=!!Ge|0}return g}function _(Ge){return Ge=Ge.prefix,Ge!==void 0&&(ut=null,Ge?typeof Ge!="function"?Xe=1:(Xe=2,ut=Ge):Xe=0),_}function I(Ge,st){var tt=Ge;if(33>tt.charCodeAt(0)&&(tt=tt.trim()),wt=tt,tt=[wt],0<qe){var je=d(-1,st,tt,tt,we,Pe,0,0,0,0);je!==void 0&&typeof je=="string"&&(st=je)}var Me=t(lt,tt,st,0,0);return 0<qe&&(je=d(-2,Me,tt,tt,we,Pe,Me.length,0,0,0),je!==void 0&&(Me=je)),wt="",Oe=0,Pe=we=1,Me}var T=/^\0+/g,A=/[\0\r\f]/g,q=/: */g,z=/zoo|gra/,U=/([,: ])(transform)/g,N=/,\r+?/g,L=/([\t\r\n ])*\f?&/g,F=/@(k\w+)\s*(\S*)\s*/,H=/::(place)/g,Y=/:(read-only)/g,te=/[svh]\w+-[tblr]{2}/,oe=/\(\s*(.*)\s*\)/g,ue=/([\s\S]*?);/g,Ie=/-self|flex-/g,Ee=/[^]*?(:[rp][el]a[\w-]+)[^]*/,ve=/stretch|:\s*\w+\-(?:conte|avail)/,xe=/([^-])(image-set\()/,Pe=1,we=1,Oe=0,Xe=1,lt=[],pt=[],qe=0,ut=null,bt=0,wt="";return I.use=g,I.set=_,e!==void 0&&_(e),I}PK.default=Jfr});var yje=P(OK=>{"use strict";p();Object.defineProperty(OK,"__esModule",{value:!0});var edr=function(t){var r=new WeakMap;return function(n){if(r.has(n))return r.get(n);var i=t(n);return r.set(n,i),i}};OK.default=edr});var NK=P(kK=>{"use strict";p();Object.defineProperty(kK,"__esModule",{value:!0});function tdr(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var rdr=AK(),ndr=tdr(vje());yje();var DK="/*|*/",idr=DK+"}";function odr(e){e&&tN.current.insert(e+"}")}var tN={current:null},adr=function(t,r,n,i,o,u,d,g,_,I){switch(t){case 1:{switch(r.charCodeAt(0)){case 64:return tN.current.insert(r+";"),"";case 108:if(r.charCodeAt(2)===98)return""}break}case 2:{if(g===0)return r+DK;break}case 3:switch(g){case 102:case 112:return tN.current.insert(n[0]+r),"";default:return r+(I===0?DK:"")}case-2:r.split(idr).forEach(odr)}},sdr=function(t){t===void 0&&(t={});var r=t.key||"css",n;t.prefix!==void 0&&(n={prefix:t.prefix});var i=new ndr(n),o={},u;{u=t.container||document.head;var d=document.querySelectorAll("style[data-emotion-"+r+"]");Array.prototype.forEach.call(d,function(A){var q=A.getAttribute("data-emotion-"+r);q.split(" ").forEach(function(z){o[z]=!0}),A.parentNode!==u&&u.appendChild(A)})}var g;if(i.use(t.stylisPlugins)(adr),g=function(q,z,U,N){var L=z.name;if(tN.current=U,0)var F;i(q,z.styles),N&&(T.inserted[L]=!0)},0)var _,I;var T={key:r,sheet:new rdr.StyleSheet({key:r,container:u,nonce:t.nonce,speedy:t.speedy}),nonce:t.nonce,inserted:o,registered:{},insert:g};return T};kK.default=sdr});var RK=P(rN=>{"use strict";p();Object.defineProperty(rN,"__esModule",{value:!0});var ldr=!0;function udr(e,t,r){var n="";return r.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]):n+=i+" "}),n}var cdr=function(t,r,n){var i=t.key+"-"+r.name;if((n===!1||ldr===!1&&t.compat!==void 0)&&t.registered[i]===void 0&&(t.registered[i]=r.styles),t.inserted[r.name]===void 0){var o=r;do{var u=t.insert("."+i,o,t.sheet,!0);o=o.next}while(o!==void 0)}};rN.getRegisteredStyles=udr;rN.insertStyles=cdr});var _je=P(LK=>{"use strict";p();Object.defineProperty(LK,"__esModule",{value:!0});function pdr(e){for(var t=0,r,n=0,i=e.length;i>=4;++n,i-=4)r=e.charCodeAt(n)&255|(e.charCodeAt(++n)&255)<<8|(e.charCodeAt(++n)&255)<<16|(e.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,t=(r&65535)*1540483477+((r>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(n+2)&255)<<16;case 2:t^=(e.charCodeAt(n+1)&255)<<8;case 1:t^=e.charCodeAt(n)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}LK.default=pdr});var bje=P(qK=>{"use strict";p();Object.defineProperty(qK,"__esModule",{value:!0});var fdr={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};qK.default=fdr});var xje=P(zK=>{"use strict";p();Object.defineProperty(zK,"__esModule",{value:!0});function ddr(e){var t={};return function(r){return t[r]===void 0&&(t[r]=e(r)),t[r]}}zK.default=ddr});var nN=P(BK=>{"use strict";p();Object.defineProperty(BK,"__esModule",{value:!0});function FK(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var hdr=FK(_je()),mdr=FK(bje()),gdr=FK(xje()),vdr=/[A-Z]|^ms/g,ydr=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Ije=function(t){return t.charCodeAt(1)===45},wje=function(t){return t!=null&&typeof t!="boolean"},jK=gdr(function(e){return Ije(e)?e:e.replace(vdr,"-$&").toLowerCase()}),Sje=function(t,r){switch(t){case"animation":case"animationName":if(typeof r=="string")return r.replace(ydr,function(n,i,o){return Sp={name:i,styles:o,next:Sp},i})}return mdr[t]!==1&&!Ije(t)&&typeof r=="number"&&r!==0?r+"px":r};function lI(e,t,r,n){if(r==null)return"";if(r.__emotion_styles!==void 0)return r;switch(typeof r){case"boolean":return"";case"object":{if(r.anim===1)return Sp={name:r.name,styles:r.styles,next:Sp},r.name;if(r.styles!==void 0){var i=r.next;if(i!==void 0)for(;i!==void 0;)Sp={name:i.name,styles:i.styles,next:Sp},i=i.next;var o=r.styles+";";return o}return _dr(e,t,r)}case"function":{if(e!==void 0){var u=Sp,d=r(e);return Sp=u,lI(e,t,d,n)}break}case"string":if(0)var g,_;break}if(t==null)return r;var I=t[r];return I!==void 0&&!n?I:r}function _dr(e,t,r){var n="";if(Array.isArray(r))for(var i=0;i<r.length;i++)n+=lI(e,t,r[i],!1);else for(var o in r){var u=r[o];if(typeof u!="object")t!=null&&t[u]!==void 0?n+=o+"{"+t[u]+"}":wje(u)&&(n+=jK(o)+":"+Sje(o,u)+";");else if(Array.isArray(u)&&typeof u[0]=="string"&&(t==null||t[u[0]]===void 0))for(var d=0;d<u.length;d++)wje(u[d])&&(n+=jK(o)+":"+Sje(o,u[d])+";");else{var g=lI(e,t,u,!1);switch(o){case"animation":case"animationName":{n+=jK(o)+":"+g+";";break}default:n+=o+"{"+g+"}"}}}return n}var Eje=/label:\s*([^\s;\n{]+)\s*;/g,Sp,bdr=function(t,r,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var i=!0,o="";Sp=void 0;var u=t[0];u==null||u.raw===void 0?(i=!1,o+=lI(n,r,u,!1)):o+=u[0];for(var d=1;d<t.length;d++)o+=lI(n,r,t[d],o.charCodeAt(o.length-1)===46),i&&(o+=u[d]);var g;Eje.lastIndex=0;for(var _="",I;(I=Eje.exec(o))!==null;)_+="-"+I[1];var T=hdr(o)+_;return{name:T,styles:o,next:Sp}};BK.serializeStyles=bdr});var Oje=P(gv=>{"use strict";p();MK();var Yf=Je(),xdr=NK(),Tje=RK(),wdr=nN();function Sdr(e){return e&&e.__esModule?e:{default:e}}var Edr=Sdr(xdr),VK=Object.prototype.hasOwnProperty,Cje=Yf.createContext(typeof HTMLElement!="undefined"?Edr.default():null),Aje=Yf.createContext({}),Idr=Cje.Provider,Pje=function(t){var r=function(i,o){return Yf.createElement(Cje.Consumer,null,function(u){return t(i,u,o)})};return Yf.forwardRef(r)},UK="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Tdr=function(t,r){var n={};for(var i in r)VK.call(r,i)&&(n[i]=r[i]);if(n[UK]=t,0){var o;if(o.stack)var u}return n},Mdr=function(){return null},Mje=function(t,r,n,i){var o=n===null?r.css:r.css(n);typeof o=="string"&&t.registered[o]!==void 0&&(o=t.registered[o]);var u=r[UK],d=[o],g="";typeof r.className=="string"?g=Tje.getRegisteredStyles(t.registered,d,r.className):r.className!=null&&(g=r.className+" ");var _=wdr.serializeStyles(d);if(0)var I;var T=Tje.insertStyles(t,_,typeof u=="string");g+=t.key+"-"+_.name;var A={};for(var q in r)VK.call(r,q)&&q!=="css"&&q!==UK&&(A[q]=r[q]);A.ref=i,A.className=g;var z=Yf.createElement(u,A),U=Yf.createElement(Mdr,null);return Yf.createElement(Yf.Fragment,null,U,z)},Cdr=Pje(function(e,t,r){return typeof e.css=="function"?Yf.createElement(Aje.Consumer,null,function(n){return Mje(t,e,n,r)}):Mje(t,e,null,r)});gv.CacheProvider=Idr;gv.Emotion=Cdr;gv.ThemeContext=Aje;gv.createEmotionProps=Tdr;gv.hasOwnProperty=VK;gv.withEmotionCache=Pje});var Dje=P($K=>{"use strict";p();Object.defineProperty($K,"__esModule",{value:!0});var Adr=nN();function Pdr(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Adr.serializeStyles(t)}$K.default=Pdr});var qje=P(hc=>{"use strict";p();Object.defineProperty(hc,"__esModule",{value:!0});var Odr=MK(),Ep=Je();NK();var Ip=Oje(),HK=RK(),GK=nN(),Ddr=AK(),kdr=Dje();function Nje(e){return e&&e.__esModule?e:{default:e}}var Ndr=Nje(Odr),Rje=Nje(kdr),Lje=function(t,r){var n=arguments;if(r==null||!Ip.hasOwnProperty.call(r,"css"))return Ep.createElement.apply(void 0,n);var i=n.length,o=new Array(i);o[0]=Ip.Emotion,o[1]=Ip.createEmotionProps(t,r);for(var u=2;u<i;u++)o[u]=n[u];return Ep.createElement.apply(null,o)},Rdr=Ip.withEmotionCache(function(e,t){var r=e.styles;if(typeof r=="function")return Ep.createElement(Ip.ThemeContext.Consumer,null,function(i){var o=GK.serializeStyles([r(i)]);return Ep.createElement(kje,{serialized:o,cache:t})});var n=GK.serializeStyles([r]);return Ep.createElement(kje,{serialized:n,cache:t})}),kje=function(e){Ndr.default(t,e);function t(n,i,o){return e.call(this,n,i,o)||this}var r=t.prototype;return r.componentDidMount=function(){this.sheet=new Ddr.StyleSheet({key:this.props.cache.key+"-global",nonce:this.props.cache.sheet.nonce,container:this.props.cache.sheet.container});var i=document.querySelector("style[data-emotion-"+this.props.cache.key+"=\""+this.props.serialized.name+"\"]");i!==null&&this.sheet.tags.push(i),this.props.cache.sheet.tags.length&&(this.sheet.before=this.props.cache.sheet.tags[0]),this.insertStyles()},r.componentDidUpdate=function(i){i.serialized.name!==this.props.serialized.name&&this.insertStyles()},r.insertStyles=function(){if(this.props.serialized.next!==void 0&&HK.insertStyles(this.props.cache,this.props.serialized.next,!0),this.sheet.tags.length){var i=this.sheet.tags[this.sheet.tags.length-1].nextElementSibling;this.sheet.before=i,this.sheet.flush()}this.props.cache.insert("",this.props.serialized,this.sheet,!1)},r.componentWillUnmount=function(){this.sheet.flush()},r.render=function(){return null},t}(Ep.Component),Ldr=function(){var t=Rje.default.apply(void 0,arguments),r="animation-"+t.name;return{name:r,styles:"@keyframes "+r+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},qdr=function e(t){for(var r=t.length,n=0,i="";n<r;n++){var o=t[n];if(o!=null){var u=void 0;switch(typeof o){case"boolean":break;case"object":{if(Array.isArray(o))u=e(o);else{u="";for(var d in o)o[d]&&d&&(u&&(u+=" "),u+=d)}break}default:u=o}u&&(i&&(i+=" "),i+=u)}}return i};function zdr(e,t,r){var n=[],i=HK.getRegisteredStyles(e,n,r);return n.length<2?r:i+t(n)}var jdr=function(){return null},Fdr=Ip.withEmotionCache(function(e,t){return Ep.createElement(Ip.ThemeContext.Consumer,null,function(r){var n=!1,i=function(){for(var I=arguments.length,T=new Array(I),A=0;A<I;A++)T[A]=arguments[A];var q=GK.serializeStyles(T,t.registered);return HK.insertStyles(t,q,!1),t.key+"-"+q.name},o=function(){for(var I=arguments.length,T=new Array(I),A=0;A<I;A++)T[A]=arguments[A];return zdr(t.registered,i,qdr(T))},u={css:i,cx:o,theme:r},d=e.children(u);n=!0;var g=Ep.createElement(jdr,null);return Ep.createElement(Ep.Fragment,null,g,d)})});hc.CacheProvider=Ip.CacheProvider;hc.ThemeContext=Ip.ThemeContext;hc.withEmotionCache=Ip.withEmotionCache;Object.defineProperty(hc,"css",{enumerable:!0,get:function(){return Rje.default}});hc.ClassNames=Fdr;hc.Global=Rdr;hc.createElement=Lje;hc.jsx=Lje;hc.keyframes=Ldr});var WK=P(mc=>{"use strict";p();Object.defineProperty(mc,"__esModule",{value:!0});mc.default=Vje;mc.skeletonStyles=mc.skeletonKeyframes=mc.defaultHighlightColor=mc.defaultBaseColor=void 0;var f5n=Bdr(Je()),O_=qje();function Bdr(e){return e&&e.__esModule?e:{default:e}}function zje(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Udr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zje(r,!0).forEach(function(n){Vdr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zje(r).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vdr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jje(){var e=$dr([`
  0% {
    background-position: -200px 0;
  }
  `,`
  100% {
    background-position: calc(200px + 100%) 0;
  }
`]);return jje=function(){return e},e}function $dr(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var iN="#eee";mc.defaultBaseColor=iN;var Fje="#f5f5f5";mc.defaultHighlightColor=Fje;var Bje=function(t,r){return(0,O_.keyframes)(jje(),r>0?"".concat(Math.floor(1/(t+r)*t*100),`% {
    background-position: calc(200px + 100%) 0;
  }`):void 0)};mc.skeletonKeyframes=Bje;var Uje=(0,O_.css)("background-color:",iN,";background-image:linear-gradient( 90deg,",iN,",",Fje,",",iN," );background-size:200px 100%;background-repeat:no-repeat;border-radius:4px;display:inline-block;line-height:1;width:100%;;label:skeletonStyles;");mc.skeletonStyles=Uje;function Vje(e){for(var t=e.count,r=e.duration,n=e.width,i=e.wrapper,o=e.height,u=e.circle,d=e.delay,g=e.style,_=e.className,I=[],T=0;T<t;T++){var A={};n!==null&&(A.width=n),o!==null&&(A.height=o),n!==null&&o!==null&&u&&(A.borderRadius="50%");var q="react-loading-skeleton";_&&(q+=" "+_),I.push((0,O_.jsx)("span",{key:T,className:q,css:(0,O_.css)(Uje," animation:",Bje(r,d)," ",r+d,"s ease-in-out infinite;label:Skeleton;"),style:Udr({},g,{},A)},"\u200C"))}return(0,O_.jsx)("span",null,i?I.map(function(z,U){return(0,O_.jsx)(i,{key:U},z,"\u200C")}):I)}Vje.defaultProps={count:1,duration:1.2,width:null,wrapper:null,height:null,circle:!1,delay:0}});var lFe=P((oX,aX)=>{p();(function(e,t){typeof oX=="object"&&typeof aX!="undefined"?aX.exports=t():typeof define=="function"&&define.amd?define(t):(e=e||self).RBush=t()})(oX,function(){"use strict";function e(N,L,F,H,Y){(function te(oe,ue,Ie,Ee,ve){for(;Ee>Ie;){if(Ee-Ie>600){var xe=Ee-Ie+1,Pe=ue-Ie+1,we=Math.log(xe),Oe=.5*Math.exp(2*we/3),Xe=.5*Math.sqrt(we*Oe*(xe-Oe)/xe)*(Pe-xe/2<0?-1:1),lt=Math.max(Ie,Math.floor(ue-Pe*Oe/xe+Xe)),pt=Math.min(Ee,Math.floor(ue+(xe-Pe)*Oe/xe+Xe));te(oe,ue,lt,pt,ve)}var qe=oe[ue],ut=Ie,bt=Ee;for(t(oe,Ie,ue),ve(oe[Ee],qe)>0&&t(oe,Ie,Ee);ut<bt;){for(t(oe,ut,bt),ut++,bt--;ve(oe[ut],qe)<0;)ut++;for(;ve(oe[bt],qe)>0;)bt--}ve(oe[Ie],qe)===0?t(oe,Ie,bt):t(oe,++bt,Ee),bt<=ue&&(Ie=bt+1),ue<=bt&&(Ee=bt-1)}})(N,L,F||0,H||N.length-1,Y||r)}function t(N,L,F){var H=N[L];N[L]=N[F],N[F]=H}function r(N,L){return N<L?-1:N>L?1:0}var n=function(N){N===void 0&&(N=9),this._maxEntries=Math.max(4,N),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function i(N,L,F){if(!F)return L.indexOf(N);for(var H=0;H<L.length;H++)if(F(N,L[H]))return H;return-1}function o(N,L){u(N,0,N.children.length,L,N)}function u(N,L,F,H,Y){Y||(Y=z(null)),Y.minX=1/0,Y.minY=1/0,Y.maxX=-1/0,Y.maxY=-1/0;for(var te=L;te<F;te++){var oe=N.children[te];d(Y,N.leaf?H(oe):oe)}return Y}function d(N,L){return N.minX=Math.min(N.minX,L.minX),N.minY=Math.min(N.minY,L.minY),N.maxX=Math.max(N.maxX,L.maxX),N.maxY=Math.max(N.maxY,L.maxY),N}function g(N,L){return N.minX-L.minX}function _(N,L){return N.minY-L.minY}function I(N){return(N.maxX-N.minX)*(N.maxY-N.minY)}function T(N){return N.maxX-N.minX+(N.maxY-N.minY)}function A(N,L){return N.minX<=L.minX&&N.minY<=L.minY&&L.maxX<=N.maxX&&L.maxY<=N.maxY}function q(N,L){return L.minX<=N.maxX&&L.minY<=N.maxY&&L.maxX>=N.minX&&L.maxY>=N.minY}function z(N){return{children:N,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function U(N,L,F,H,Y){for(var te=[L,F];te.length;)if(!((F=te.pop())-(L=te.pop())<=H)){var oe=L+Math.ceil((F-L)/H/2)*H;e(N,oe,L,F,Y),te.push(L,oe,oe,F)}}return n.prototype.all=function(){return this._all(this.data,[])},n.prototype.search=function(N){var L=this.data,F=[];if(!q(N,L))return F;for(var H=this.toBBox,Y=[];L;){for(var te=0;te<L.children.length;te++){var oe=L.children[te],ue=L.leaf?H(oe):oe;q(N,ue)&&(L.leaf?F.push(oe):A(N,ue)?this._all(oe,F):Y.push(oe))}L=Y.pop()}return F},n.prototype.collides=function(N){var L=this.data;if(!q(N,L))return!1;for(var F=[];L;){for(var H=0;H<L.children.length;H++){var Y=L.children[H],te=L.leaf?this.toBBox(Y):Y;if(q(N,te)){if(L.leaf||A(N,te))return!0;F.push(Y)}}L=F.pop()}return!1},n.prototype.load=function(N){if(!N||!N.length)return this;if(N.length<this._minEntries){for(var L=0;L<N.length;L++)this.insert(N[L]);return this}var F=this._build(N.slice(),0,N.length-1,0);if(this.data.children.length){if(this.data.height===F.height)this._splitRoot(this.data,F);else{if(this.data.height<F.height){var H=this.data;this.data=F,F=H}this._insert(F,this.data.height-F.height-1,!0)}}else this.data=F;return this},n.prototype.insert=function(N){return N&&this._insert(N,this.data.height-1),this},n.prototype.clear=function(){return this.data=z([]),this},n.prototype.remove=function(N,L){if(!N)return this;for(var F,H,Y,te=this.data,oe=this.toBBox(N),ue=[],Ie=[];te||ue.length;){if(te||(te=ue.pop(),H=ue[ue.length-1],F=Ie.pop(),Y=!0),te.leaf){var Ee=i(N,te.children,L);if(Ee!==-1)return te.children.splice(Ee,1),ue.push(te),this._condense(ue),this}Y||te.leaf||!A(te,oe)?H?(F++,te=H.children[F],Y=!1):te=null:(ue.push(te),Ie.push(F),F=0,H=te,te=te.children[0])}return this},n.prototype.toBBox=function(N){return N},n.prototype.compareMinX=function(N,L){return N.minX-L.minX},n.prototype.compareMinY=function(N,L){return N.minY-L.minY},n.prototype.toJSON=function(){return this.data},n.prototype.fromJSON=function(N){return this.data=N,this},n.prototype._all=function(N,L){for(var F=[];N;)N.leaf?L.push.apply(L,N.children):F.push.apply(F,N.children),N=F.pop();return L},n.prototype._build=function(N,L,F,H){var Y,te=F-L+1,oe=this._maxEntries;if(te<=oe)return o(Y=z(N.slice(L,F+1)),this.toBBox),Y;H||(H=Math.ceil(Math.log(te)/Math.log(oe)),oe=Math.ceil(te/Math.pow(oe,H-1))),(Y=z([])).leaf=!1,Y.height=H;var ue=Math.ceil(te/oe),Ie=ue*Math.ceil(Math.sqrt(oe));U(N,L,F,Ie,this.compareMinX);for(var Ee=L;Ee<=F;Ee+=Ie){var ve=Math.min(Ee+Ie-1,F);U(N,Ee,ve,ue,this.compareMinY);for(var xe=Ee;xe<=ve;xe+=ue){var Pe=Math.min(xe+ue-1,ve);Y.children.push(this._build(N,xe,Pe,H-1))}}return o(Y,this.toBBox),Y},n.prototype._chooseSubtree=function(N,L,F,H){for(;H.push(L),!L.leaf&&H.length-1!==F;){for(var Y=1/0,te=1/0,oe=void 0,ue=0;ue<L.children.length;ue++){var Ie=L.children[ue],Ee=I(Ie),ve=(xe=N,Pe=Ie,(Math.max(Pe.maxX,xe.maxX)-Math.min(Pe.minX,xe.minX))*(Math.max(Pe.maxY,xe.maxY)-Math.min(Pe.minY,xe.minY))-Ee);ve<te?(te=ve,Y=Ee<Y?Ee:Y,oe=Ie):ve===te&&Ee<Y&&(Y=Ee,oe=Ie)}L=oe||L.children[0]}var xe,Pe;return L},n.prototype._insert=function(N,L,F){var H=F?N:this.toBBox(N),Y=[],te=this._chooseSubtree(H,this.data,L,Y);for(te.children.push(N),d(te,H);L>=0&&Y[L].children.length>this._maxEntries;)this._split(Y,L),L--;this._adjustParentBBoxes(H,Y,L)},n.prototype._split=function(N,L){var F=N[L],H=F.children.length,Y=this._minEntries;this._chooseSplitAxis(F,Y,H);var te=this._chooseSplitIndex(F,Y,H),oe=z(F.children.splice(te,F.children.length-te));oe.height=F.height,oe.leaf=F.leaf,o(F,this.toBBox),o(oe,this.toBBox),L?N[L-1].children.push(oe):this._splitRoot(F,oe)},n.prototype._splitRoot=function(N,L){this.data=z([N,L]),this.data.height=N.height+1,this.data.leaf=!1,o(this.data,this.toBBox)},n.prototype._chooseSplitIndex=function(N,L,F){for(var H,Y,te,oe,ue,Ie,Ee,ve=1/0,xe=1/0,Pe=L;Pe<=F-L;Pe++){var we=u(N,0,Pe,this.toBBox),Oe=u(N,Pe,F,this.toBBox),Xe=(Y=we,te=Oe,oe=void 0,ue=void 0,Ie=void 0,Ee=void 0,oe=Math.max(Y.minX,te.minX),ue=Math.max(Y.minY,te.minY),Ie=Math.min(Y.maxX,te.maxX),Ee=Math.min(Y.maxY,te.maxY),Math.max(0,Ie-oe)*Math.max(0,Ee-ue)),lt=I(we)+I(Oe);Xe<ve?(ve=Xe,H=Pe,xe=lt<xe?lt:xe):Xe===ve&&lt<xe&&(xe=lt,H=Pe)}return H||F-L},n.prototype._chooseSplitAxis=function(N,L,F){var H=N.leaf?this.compareMinX:g,Y=N.leaf?this.compareMinY:_;this._allDistMargin(N,L,F,H)<this._allDistMargin(N,L,F,Y)&&N.children.sort(H)},n.prototype._allDistMargin=function(N,L,F,H){N.children.sort(H);for(var Y=this.toBBox,te=u(N,0,L,Y),oe=u(N,F-L,F,Y),ue=T(te)+T(oe),Ie=L;Ie<F-L;Ie++){var Ee=N.children[Ie];d(te,N.leaf?Y(Ee):Ee),ue+=T(te)}for(var ve=F-L-1;ve>=L;ve--){var xe=N.children[ve];d(oe,N.leaf?Y(xe):xe),ue+=T(oe)}return ue},n.prototype._adjustParentBBoxes=function(N,L,F){for(var H=F;H>=0;H--)d(L[H],N)},n.prototype._condense=function(N){for(var L=N.length-1,F=void 0;L>=0;L--)N[L].children.length===0?L>0?(F=N[L-1].children).splice(F.indexOf(N[L]),1):this.clear():o(N[L],this.toBBox)},n})});var uFe=P((sX,lX)=>{p();(function(e,t){typeof sX=="object"&&typeof lX!="undefined"?lX.exports=t():typeof define=="function"&&define.amd?define(t):(e=e||self,e.TinyQueue=t())})(sX,function(){"use strict";var e=function(n,i){if(n===void 0&&(n=[]),i===void 0&&(i=t),this.data=n,this.length=this.data.length,this.compare=i,this.length>0)for(var o=(this.length>>1)-1;o>=0;o--)this._down(o)};e.prototype.push=function(n){this.data.push(n),this.length++,this._up(this.length-1)},e.prototype.pop=function(){if(this.length!==0){var n=this.data[0],i=this.data.pop();return this.length--,this.length>0&&(this.data[0]=i,this._down(0)),n}},e.prototype.peek=function(){return this.data[0]},e.prototype._up=function(n){for(var i=this,o=i.data,u=i.compare,d=o[n];n>0;){var g=n-1>>1,_=o[g];if(u(d,_)>=0)break;o[n]=_,n=g}o[n]=d},e.prototype._down=function(n){for(var i=this,o=i.data,u=i.compare,d=this.length>>1,g=o[n];n<d;){var _=(n<<1)+1,I=o[_],T=_+1;if(T<this.length&&u(o[T],I)<0&&(_=T,I=o[T]),u(I,g)>=0)break;o[n]=I,n=_}o[n]=g};function t(r,n){return r<n?-1:r>n?1:0}return e})});var pFe=P((d4n,cFe)=>{p();cFe.exports=function(t,r,n,i){var o=t[0],u=t[1],d=!1;n===void 0&&(n=0),i===void 0&&(i=r.length);for(var g=(i-n)/2,_=0,I=g-1;_<g;I=_++){var T=r[n+_*2+0],A=r[n+_*2+1],q=r[n+I*2+0],z=r[n+I*2+1],U=A>u!=z>u&&o<(q-T)*(u-A)/(z-A)+T;U&&(d=!d)}return d}});var dFe=P((m4n,fFe)=>{p();fFe.exports=function(t,r,n,i){var o=t[0],u=t[1],d=!1;n===void 0&&(n=0),i===void 0&&(i=r.length);for(var g=i-n,_=0,I=g-1;_<g;I=_++){var T=r[_+n][0],A=r[_+n][1],q=r[I+n][0],z=r[I+n][1],U=A>u!=z>u&&o<(q-T)*(u-A)/(z-A)+T;U&&(d=!d)}return d}});var gFe=P((v4n,uN)=>{p();var hFe=pFe(),mFe=dFe();uN.exports=function(t,r,n,i){return r.length>0&&Array.isArray(r[0])?mFe(t,r,n,i):hFe(t,r,n,i)};uN.exports.nested=mFe;uN.exports.flat=hFe});var yFe=P((cN,vFe)=>{p();(function(e,t){typeof cN=="object"&&typeof vFe!="undefined"?t(cN):typeof define=="function"&&define.amd?define(["exports"],t):t((e=e||self).predicates={})})(cN,function(e){"use strict";let r=33306690738754706e-32;function n(q,z,U,N,L){let F,H,Y,te,oe=z[0],ue=N[0],Ie=0,Ee=0;ue>oe==ue>-oe?(F=oe,oe=z[++Ie]):(F=ue,ue=N[++Ee]);let ve=0;if(Ie<q&&Ee<U)for(ue>oe==ue>-oe?(Y=F-((H=oe+F)-oe),oe=z[++Ie]):(Y=F-((H=ue+F)-ue),ue=N[++Ee]),F=H,Y!==0&&(L[ve++]=Y);Ie<q&&Ee<U;)ue>oe==ue>-oe?(Y=F-((H=F+oe)-(te=H-F))+(oe-te),oe=z[++Ie]):(Y=F-((H=F+ue)-(te=H-F))+(ue-te),ue=N[++Ee]),F=H,Y!==0&&(L[ve++]=Y);for(;Ie<q;)Y=F-((H=F+oe)-(te=H-F))+(oe-te),oe=z[++Ie],F=H,Y!==0&&(L[ve++]=Y);for(;Ee<U;)Y=F-((H=F+ue)-(te=H-F))+(ue-te),ue=N[++Ee],F=H,Y!==0&&(L[ve++]=Y);return F===0&&ve!==0||(L[ve++]=F),ve}function i(q){return new Float64Array(q)}let o=33306690738754716e-32,u=22204460492503146e-32,d=11093356479670487e-47,g=i(4),_=i(8),I=i(12),T=i(16),A=i(4);e.orient2d=function(q,z,U,N,L,F){let H=(z-F)*(U-L),Y=(q-L)*(N-F),te=H-Y;if(H===0||Y===0||H>0!=Y>0)return te;let oe=Math.abs(H+Y);return Math.abs(te)>=o*oe?te:-function(ue,Ie,Ee,ve,xe,Pe,we){let Oe,Xe,lt,pt,qe,ut,bt,wt,Ge,st,tt,je,Me,$e,ze,ot,it,vt,ht=ue-xe,It=Ee-xe,Wt=Ie-Pe,Et=ve-Pe;qe=(ze=(wt=ht-(bt=(ut=134217729*ht)-(ut-ht)))*(st=Et-(Ge=(ut=134217729*Et)-(ut-Et)))-(($e=ht*Et)-bt*Ge-wt*Ge-bt*st))-(tt=ze-(it=(wt=Wt-(bt=(ut=134217729*Wt)-(ut-Wt)))*(st=It-(Ge=(ut=134217729*It)-(ut-It)))-((ot=Wt*It)-bt*Ge-wt*Ge-bt*st))),g[0]=ze-(tt+qe)+(qe-it),qe=(Me=$e-((je=$e+tt)-(qe=je-$e))+(tt-qe))-(tt=Me-ot),g[1]=Me-(tt+qe)+(qe-ot),qe=(vt=je+tt)-je,g[2]=je-(vt-qe)+(tt-qe),g[3]=vt;let kt=function(Sr,Or){let Ur=Or[0];for(let er=1;er<Sr;er++)Ur+=Or[er];return Ur}(4,g),Xt=u*we;if(kt>=Xt||-kt>=Xt||(Oe=ue-(ht+(qe=ue-ht))+(qe-xe),lt=Ee-(It+(qe=Ee-It))+(qe-xe),Xe=Ie-(Wt+(qe=Ie-Wt))+(qe-Pe),pt=ve-(Et+(qe=ve-Et))+(qe-Pe),Oe===0&&Xe===0&&lt===0&&pt===0)||(Xt=d*we+r*Math.abs(kt),(kt+=ht*pt+Et*Oe-(Wt*lt+It*Xe))>=Xt||-kt>=Xt))return kt;qe=(ze=(wt=Oe-(bt=(ut=134217729*Oe)-(ut-Oe)))*(st=Et-(Ge=(ut=134217729*Et)-(ut-Et)))-(($e=Oe*Et)-bt*Ge-wt*Ge-bt*st))-(tt=ze-(it=(wt=Xe-(bt=(ut=134217729*Xe)-(ut-Xe)))*(st=It-(Ge=(ut=134217729*It)-(ut-It)))-((ot=Xe*It)-bt*Ge-wt*Ge-bt*st))),A[0]=ze-(tt+qe)+(qe-it),qe=(Me=$e-((je=$e+tt)-(qe=je-$e))+(tt-qe))-(tt=Me-ot),A[1]=Me-(tt+qe)+(qe-ot),qe=(vt=je+tt)-je,A[2]=je-(vt-qe)+(tt-qe),A[3]=vt;let yr=n(4,g,4,A,_);qe=(ze=(wt=ht-(bt=(ut=134217729*ht)-(ut-ht)))*(st=pt-(Ge=(ut=134217729*pt)-(ut-pt)))-(($e=ht*pt)-bt*Ge-wt*Ge-bt*st))-(tt=ze-(it=(wt=Wt-(bt=(ut=134217729*Wt)-(ut-Wt)))*(st=lt-(Ge=(ut=134217729*lt)-(ut-lt)))-((ot=Wt*lt)-bt*Ge-wt*Ge-bt*st))),A[0]=ze-(tt+qe)+(qe-it),qe=(Me=$e-((je=$e+tt)-(qe=je-$e))+(tt-qe))-(tt=Me-ot),A[1]=Me-(tt+qe)+(qe-ot),qe=(vt=je+tt)-je,A[2]=je-(vt-qe)+(tt-qe),A[3]=vt;let Pr=n(yr,_,4,A,I);qe=(ze=(wt=Oe-(bt=(ut=134217729*Oe)-(ut-Oe)))*(st=pt-(Ge=(ut=134217729*pt)-(ut-pt)))-(($e=Oe*pt)-bt*Ge-wt*Ge-bt*st))-(tt=ze-(it=(wt=Xe-(bt=(ut=134217729*Xe)-(ut-Xe)))*(st=lt-(Ge=(ut=134217729*lt)-(ut-lt)))-((ot=Xe*lt)-bt*Ge-wt*Ge-bt*st))),A[0]=ze-(tt+qe)+(qe-it),qe=(Me=$e-((je=$e+tt)-(qe=je-$e))+(tt-qe))-(tt=Me-ot),A[1]=Me-(tt+qe)+(qe-ot),qe=(vt=je+tt)-je,A[2]=je-(vt-qe)+(tt-qe),A[3]=vt;let sr=n(Pr,I,4,A,T);return T[sr-1]}(q,z,U,N,L,F,oe)},e.orient2dfast=function(q,z,U,N,L,F){return(z-F)*(U-L)-(q-L)*(N-F)},Object.defineProperty(e,"__esModule",{value:!0})})});var EFe=P((b4n,fX)=>{"use strict";p();var _Fe=lFe(),fN=uFe(),Jdr=gFe(),ehr=yFe().orient2d;fN.default&&(fN=fN.default);fX.exports=SFe;fX.exports.default=SFe;function SFe(e,t,r){t=Math.max(0,t===void 0?2:t),r=r||0;var n=ohr(e),i=new _Fe(16);i.toBBox=function(F){return{minX:F[0],minY:F[1],maxX:F[0],maxY:F[1]}},i.compareMinX=function(F,H){return F[0]-H[0]},i.compareMinY=function(F,H){return F[1]-H[1]},i.load(e);for(var o=[],u=0,d;u<n.length;u++){var g=n[u];i.remove(g),d=wFe(g,d),o.push(d)}var _=new _Fe(16);for(u=0;u<o.length;u++)_.insert(uX(o[u]));for(var I=t*t,T=r*r;o.length;){var A=o.shift(),q=A.p,z=A.next.p,U=cX(q,z);if(!(U<T)){var N=U/I;g=thr(i,A.prev.p,q,z,A.next.next.p,N,_),g&&Math.min(cX(g,q),cX(g,z))<=N&&(o.push(A),o.push(wFe(g,A)),i.remove(g),_.remove(A),_.insert(uX(A)),_.insert(uX(A.next)))}}A=d;var L=[];do L.push(A.p),A=A.next;while(A!==d);return L.push(A.p),L}function thr(e,t,r,n,i,o,u){for(var d=new fN([],rhr),g=e.data;g;){for(var _=0;_<g.children.length;_++){var I=g.children[_],T=g.leaf?pX(I,r,n):nhr(r,n,I);T>o||d.push({node:I,dist:T})}for(;d.length&&!d.peek().node.children;){var A=d.pop(),q=A.node,z=pX(q,t,r),U=pX(q,n,i);if(A.dist<z&&A.dist<U&&xFe(r,q,u)&&xFe(n,q,u))return q}g=d.pop(),g&&(g=g.node)}return null}function rhr(e,t){return e.dist-t.dist}function nhr(e,t,r){if(bFe(e,r)||bFe(t,r))return 0;var n=pN(e[0],e[1],t[0],t[1],r.minX,r.minY,r.maxX,r.minY);if(n===0)return 0;var i=pN(e[0],e[1],t[0],t[1],r.minX,r.minY,r.minX,r.maxY);if(i===0)return 0;var o=pN(e[0],e[1],t[0],t[1],r.maxX,r.minY,r.maxX,r.maxY);if(o===0)return 0;var u=pN(e[0],e[1],t[0],t[1],r.minX,r.maxY,r.maxX,r.maxY);return u===0?0:Math.min(n,i,o,u)}function bFe(e,t){return e[0]>=t.minX&&e[0]<=t.maxX&&e[1]>=t.minY&&e[1]<=t.maxY}function xFe(e,t,r){for(var n=Math.min(e[0],t[0]),i=Math.min(e[1],t[1]),o=Math.max(e[0],t[0]),u=Math.max(e[1],t[1]),d=r.search({minX:n,minY:i,maxX:o,maxY:u}),g=0;g<d.length;g++)if(ihr(d[g].p,d[g].next.p,e,t))return!1;return!0}function R_(e,t,r){return ehr(e[0],e[1],t[0],t[1],r[0],r[1])}function ihr(e,t,r,n){return e!==n&&t!==r&&R_(e,t,r)>0!=R_(e,t,n)>0&&R_(r,n,e)>0!=R_(r,n,t)>0}function uX(e){var t=e.p,r=e.next.p;return e.minX=Math.min(t[0],r[0]),e.minY=Math.min(t[1],r[1]),e.maxX=Math.max(t[0],r[0]),e.maxY=Math.max(t[1],r[1]),e}function ohr(e){for(var t=e[0],r=e[0],n=e[0],i=e[0],o=0;o<e.length;o++){var u=e[o];u[0]<t[0]&&(t=u),u[0]>n[0]&&(n=u),u[1]<r[1]&&(r=u),u[1]>i[1]&&(i=u)}var d=[t,r,n,i],g=d.slice();for(o=0;o<e.length;o++)Jdr(e[o],d)||g.push(e[o]);return shr(g)}function wFe(e,t){var r={p:e,prev:null,next:null,minX:0,minY:0,maxX:0,maxY:0};return t?(r.next=t.next,r.prev=t,t.next.prev=r,t.next=r):(r.prev=r,r.next=r),r}function cX(e,t){var r=e[0]-t[0],n=e[1]-t[1];return r*r+n*n}function pX(e,t,r){var n=t[0],i=t[1],o=r[0]-n,u=r[1]-i;if(o!==0||u!==0){var d=((e[0]-n)*o+(e[1]-i)*u)/(o*o+u*u);d>1?(n=r[0],i=r[1]):d>0&&(n+=o*d,i+=u*d)}return o=e[0]-n,u=e[1]-i,o*o+u*u}function pN(e,t,r,n,i,o,u,d){var g=r-e,_=n-t,I=u-i,T=d-o,A=e-i,q=t-o,z=g*g+_*_,U=g*I+_*T,N=I*I+T*T,L=g*A+_*q,F=I*A+T*q,H=z*N-U*U,Y,te,oe,ue,Ie=H,Ee=H;H===0?(te=0,Ie=1,ue=F,Ee=N):(te=U*F-N*L,ue=z*F-U*L,te<0?(te=0,ue=F,Ee=N):te>Ie&&(te=Ie,ue=F+U,Ee=N)),ue<0?(ue=0,-L<0?te=0:-L>z?te=Ie:(te=-L,Ie=z)):ue>Ee&&(ue=Ee,-L+U<0?te=0:-L+U>z?te=Ie:(te=-L+U,Ie=z)),Y=te===0?0:te/Ie,oe=ue===0?0:ue/Ee;var ve=(1-Y)*e+Y*r,xe=(1-Y)*t+Y*n,Pe=(1-oe)*i+oe*u,we=(1-oe)*o+oe*d,Oe=Pe-ve,Xe=we-xe;return Oe*Oe+Xe*Xe}function ahr(e,t){return e[0]===t[0]?e[1]-t[1]:e[0]-t[0]}function shr(e){e.sort(ahr);for(var t=[],r=0;r<e.length;r++){for(;t.length>=2&&R_(t[t.length-2],t[t.length-1],e[r])<=0;)t.pop();t.push(e[r])}for(var n=[],i=e.length-1;i>=0;i--){for(;n.length>=2&&R_(n[n.length-2],n[n.length-1],e[i])<=0;)n.pop();n.push(e[i])}return n.pop(),t.pop(),t.concat(n)}});var pBe=P(ii=>{"use strict";p();var OX=Symbol.for("react.element"),DX=Symbol.for("react.portal"),IN=Symbol.for("react.fragment"),TN=Symbol.for("react.strict_mode"),MN=Symbol.for("react.profiler"),CN=Symbol.for("react.provider"),AN=Symbol.for("react.context"),Shr=Symbol.for("react.server_context"),PN=Symbol.for("react.forward_ref"),ON=Symbol.for("react.suspense"),DN=Symbol.for("react.suspense_list"),kN=Symbol.for("react.memo"),NN=Symbol.for("react.lazy"),Ehr=Symbol.for("react.offscreen"),cBe;cBe=Symbol.for("react.module.reference");function bu(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case OX:switch(e=e.type,e){case IN:case MN:case TN:case ON:case DN:return e;default:switch(e=e&&e.$$typeof,e){case Shr:case AN:case PN:case NN:case kN:case CN:return e;default:return t}}case DX:return t}}}ii.ContextConsumer=AN;ii.ContextProvider=CN;ii.Element=OX;ii.ForwardRef=PN;ii.Fragment=IN;ii.Lazy=NN;ii.Memo=kN;ii.Portal=DX;ii.Profiler=MN;ii.StrictMode=TN;ii.Suspense=ON;ii.SuspenseList=DN;ii.isAsyncMode=function(){return!1};ii.isConcurrentMode=function(){return!1};ii.isContextConsumer=function(e){return bu(e)===AN};ii.isContextProvider=function(e){return bu(e)===CN};ii.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===OX};ii.isForwardRef=function(e){return bu(e)===PN};ii.isFragment=function(e){return bu(e)===IN};ii.isLazy=function(e){return bu(e)===NN};ii.isMemo=function(e){return bu(e)===kN};ii.isPortal=function(e){return bu(e)===DX};ii.isProfiler=function(e){return bu(e)===MN};ii.isStrictMode=function(e){return bu(e)===TN};ii.isSuspense=function(e){return bu(e)===ON};ii.isSuspenseList=function(e){return bu(e)===DN};ii.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===IN||e===MN||e===TN||e===ON||e===DN||e===Ehr||typeof e=="object"&&e!==null&&(e.$$typeof===NN||e.$$typeof===kN||e.$$typeof===CN||e.$$typeof===AN||e.$$typeof===PN||e.$$typeof===cBe||e.getModuleId!==void 0)};ii.typeOf=bu});var dBe=P((GDn,fBe)=>{"use strict";p();fBe.exports=pBe()});var mVe=P(di=>{"use strict";p();var vR=60103,yR=60106,OI=60107,DI=60108,kI=60114,NI=60109,RI=60110,LI=60112,qI=60113,_Q=60120,zI=60115,jI=60116,cVe=60121,pVe=60122,fVe=60117,dVe=60129,hVe=60131;typeof Symbol=="function"&&Symbol.for&&(Jo=Symbol.for,vR=Jo("react.element"),yR=Jo("react.portal"),OI=Jo("react.fragment"),DI=Jo("react.strict_mode"),kI=Jo("react.profiler"),NI=Jo("react.provider"),RI=Jo("react.context"),LI=Jo("react.forward_ref"),qI=Jo("react.suspense"),_Q=Jo("react.suspense_list"),zI=Jo("react.memo"),jI=Jo("react.lazy"),cVe=Jo("react.block"),pVe=Jo("react.server.block"),fVe=Jo("react.fundamental"),dVe=Jo("react.debug_trace_mode"),hVe=Jo("react.legacy_hidden"));var Jo;function wc(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case vR:switch(e=e.type,e){case OI:case kI:case DI:case qI:case _Q:return e;default:switch(e=e&&e.$$typeof,e){case RI:case LI:case jI:case zI:case NI:return e;default:return t}}case yR:return t}}}var Kmr=NI,Xmr=vR,Qmr=LI,Jmr=OI,egr=jI,tgr=zI,rgr=yR,ngr=kI,igr=DI,ogr=qI;di.ContextConsumer=RI;di.ContextProvider=Kmr;di.Element=Xmr;di.ForwardRef=Qmr;di.Fragment=Jmr;di.Lazy=egr;di.Memo=tgr;di.Portal=rgr;di.Profiler=ngr;di.StrictMode=igr;di.Suspense=ogr;di.isAsyncMode=function(){return!1};di.isConcurrentMode=function(){return!1};di.isContextConsumer=function(e){return wc(e)===RI};di.isContextProvider=function(e){return wc(e)===NI};di.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===vR};di.isForwardRef=function(e){return wc(e)===LI};di.isFragment=function(e){return wc(e)===OI};di.isLazy=function(e){return wc(e)===jI};di.isMemo=function(e){return wc(e)===zI};di.isPortal=function(e){return wc(e)===yR};di.isProfiler=function(e){return wc(e)===kI};di.isStrictMode=function(e){return wc(e)===DI};di.isSuspense=function(e){return wc(e)===qI};di.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===OI||e===kI||e===dVe||e===DI||e===qI||e===_Q||e===hVe||typeof e=="object"&&e!==null&&(e.$$typeof===jI||e.$$typeof===zI||e.$$typeof===NI||e.$$typeof===RI||e.$$typeof===LI||e.$$typeof===fVe||e.$$typeof===cVe||e[0]===pVe)};di.typeOf=wc});var vVe=P((D8n,gVe)=>{"use strict";p();gVe.exports=mVe()});var Y$e=P((jjn,Z$e)=>{"use strict";p();Z$e.exports=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,i,o;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(i=n;i--!==0;)if(!e(t[i],r[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(o=Object.keys(t),n=o.length,n!==Object.keys(r).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(r,o[i]))return!1;for(i=n;i--!==0;){var u=o[i];if(!e(t[u],r[u]))return!1}return!0}return t!==t&&r!==r}});var rvr={};Kee(rvr,{SettingsProvider:()=>evr,renderMosaicMapApp:()=>tvr});p();var lGe=se(Je(),1),uGe=se(Yi(),1),hBn=se(V4e(),1);p();var Ms=se(Je(),1);p();var Ga=se(Je()),sPe=se(Yi());function BHt(e){return!!e&&typeof e.then=="function"}var so=BHt;function UHt(e,t){if(e!=null)return e;throw new Error(t!=null?t:"Got unexpected null or undefined")}var Xn=UHt,i4=class{},VHt=new i4,VG={valueMaybe(){},valueOrThrow(){throw new Error(`Loadable expected value, but in "${this.state}" state`)},errorMaybe(){},errorOrThrow(){throw new Error(`Loadable expected error, but in "${this.state}" state`)},promiseMaybe(){},promiseOrThrow(){throw new Error(`Loadable expected promise, but in "${this.state}" state`)},is(e){return e.state===this.state&&e.contents===this.contents},map(e){if(this.state==="hasError")return this;if(this.state==="hasValue")try{let r=e(this.contents);return so(r)?b1(r.then(n=>({__value:n}))):$G(r)}catch(r){return so(r)?b1(r.next(()=>e(this.contents))):GG(r)}if(this.state==="loading")return b1(this.contents.then(r=>({__value:e(r.__value)})).catch(r=>{if(so(r))return r.then(()=>e(this.contents));throw r}));throw new Error("Invalid Loadable state")}};function $G(e){return Object.freeze(dr(rt({state:"hasValue",contents:e},VG),{getValue(){return this.contents},toPromise(){return Promise.resolve(this.contents)},valueMaybe(){return this.contents},valueOrThrow(){return this.contents}}))}function GG(e){return Object.freeze(dr(rt({state:"hasError",contents:e},VG),{getValue(){throw this.contents},toPromise(){return Promise.reject(this.contents)},errorMaybe(){return this.contents},errorOrThrow(){return this.contents}}))}function b1(e){return Object.freeze(dr(rt({state:"loading",contents:e},VG),{getValue(){throw this.contents.then(({__value:t})=>t)},toPromise(){return this.contents.then(({__value:t})=>t)},promiseMaybe(){return this.contents.then(({__value:t})=>t)},promiseOrThrow(){return this.contents.then(({__value:t})=>t)}}))}function $Ht(){return b1(new Promise(()=>{}))}function GHt(e){return e.every(t=>t.state==="hasValue")?$G(e.map(t=>t.contents)):e.some(t=>t.state==="hasError")?GG(Xn(e.find(t=>t.state==="hasError"),"Invalid loadable passed to loadableAll").contents):b1(Promise.all(e.map(t=>t.contents)).then(t=>({__value:t})))}var MS={loadableWithValue:$G,loadableWithError:GG,loadableWithPromise:b1,loadableLoading:$Ht,loadableAll:GHt,Canceled:i4,CANCELED:VHt},SG,lPe=(SG=Ga.default.useMutableSource)!==null&&SG!==void 0?SG:Ga.default.unstable_useMutableSource;function HHt(){return lPe&&!(typeof window!="undefined"&&window.$disableRecoilValueMutableSource_TEMP_HACK_DO_NOT_USE)}var uPe={mutableSourceExists:HHt,useMutableSource:lPe},{mutableSourceExists:WHt}=uPe,HG=new Map().set("recoil_hamt_2020",!0).set("recoil_memory_managament_2020",!0).set("recoil_suppress_rerender_in_callback",!0);function WG(e){var t;return e==="recoil_early_rendering_2021"&&!WHt()?!1:(t=HG.get(e))!==null&&t!==void 0?t:!1}WG.setPass=e=>{HG.set(e,!0)};WG.setFail=e=>{HG.set(e,!1)};var ci=WG;function ZHt(e,t,{error:r}={}){return null}var YHt=ZHt,sp=YHt;function KHt(e,t){let r=new Set(e);return r.add(t),r}function XHt(e,t){let r=new Set(e);return r.delete(t),r}function QHt(e,t,r){let n=new Map(e);return n.set(t,r),n}function JHt(e,t,r){let n=new Map(e);return n.set(t,r(n.get(t))),n}function eWt(e,t){let r=new Map(e);return r.delete(t),r}function tWt(e,t){let r=new Map(e);return t.forEach(n=>r.delete(n)),r}var cPe={setByAddingToSet:KHt,setByDeletingFromSet:XHt,mapBySettingInMap:QHt,mapByUpdatingInMap:JHt,mapByDeletingFromMap:eWt,mapByDeletingMultipleFromMap:tWt};function*rWt(e,t){let r=0;for(let n of e)t(n,r++)&&(yield n)}var pPe=rWt;function nWt(e,t){return function*(){let r=0;for(let n of e)yield t(n,r++)}()}var fPe=nWt;function iWt(e,...t){}var oWt=iWt,ZG=oWt;function Pn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ES=class{constructor(t){Pn(this,"key",void 0),this.key=t}},o4=class extends ES{},a4=class extends ES{};function aWt(e){return e instanceof o4||e instanceof a4}var v4={AbstractRecoilValue:ES,RecoilState:o4,RecoilValueReadOnly:a4,isRecoilValue:aWt},sWt=v4.AbstractRecoilValue,lWt=v4.RecoilState,uWt=v4.RecoilValueReadOnly,cWt=v4.isRecoilValue,Lh=Object.freeze({__proto__:null,AbstractRecoilValue:sWt,RecoilState:lWt,RecoilValueReadOnly:uWt,isRecoilValue:cWt}),s4=class{},pWt=new s4,MG=class extends Error{constructor(t){super(`Tried to set the value of Recoil selector ${t} using an updater function, but it is an async selector in a pending or error state; this is not supported.`)}},Ug=new Map,YG=new Map;function fWt(e){return fPe(e,t=>Xn(YG.get(t)))}function dWt(e){if(Ug.has(e.key)){let r=`Duplicate atom key "${e.key}". This is a FATAL ERROR in
      production. But it is safe to ignore this warning if it occurred because of
      hot module replacement.`;console.warn(r)}Ug.set(e.key,e);let t=e.set==null?new Lh.RecoilValueReadOnly(e.key):new Lh.RecoilState(e.key);return YG.set(e.key,t),t}var l4=class extends Error{};function hWt(e){let t=Ug.get(e);if(t==null)throw new l4(`Missing definition for RecoilValue: "${e}""`);return t}function mWt(e){return Ug.get(e)}var u4=new Map;function gWt(e){var t;if(!ci("recoil_memory_managament_2020"))return;let r=Ug.get(e);if(!(r==null||(t=r.shouldDeleteConfigOnRelease)===null||t===void 0)&&t.call(r)){var n;Ug.delete(e),(n=dPe(e))===null||n===void 0||n(),u4.delete(e)}}function vWt(e,t){ci("recoil_memory_managament_2020")&&(t===void 0?u4.delete(e):u4.set(e,t))}function dPe(e){return u4.get(e)}var cu={nodes:Ug,recoilValues:YG,registerNode:dWt,getNode:hWt,getNodeMaybe:mWt,deleteNodeConfigIfPossible:gWt,setConfigDeletionHandler:vWt,getConfigDeletionHandler:dPe,recoilValuesForKeys:fWt,NodeMissingError:l4,DefaultValue:s4,DEFAULT_VALUE:pWt,RecoilValueNotReady:MG},c4=class{};function yWt(){return new c4}var y4={RetentionZone:c4,retentionZone:yWt},{setByAddingToSet:_Wt}=cPe,{getNode:_4,getNodeMaybe:bWt,recoilValuesForKeys:$4e}=cu,{RetentionZone:G4e}=y4,xWt=Object.freeze(new Set),CG=class extends Error{};function wWt(e,t,r){if(!ci("recoil_memory_managament_2020"))return()=>{};let{nodesRetainedByZone:n}=e.getState().retention;function i(o){let u=n.get(o);u||n.set(o,u=new Set),u.add(t)}if(r instanceof G4e)i(r);else if(Array.isArray(r))for(let o of r)i(o);return()=>{if(!ci("recoil_memory_managament_2020"))return;let o=e.getState().retention.nodesRetainedByZone;function u(d){let g=o.get(d);g&&g.delete(t),g&&g.size===0&&o.delete(d)}if(r instanceof G4e)u(r);else if(Array.isArray(r))for(let d of r)u(d)}}function KG(e,t,r,n){let i=e.getState();if(i.nodeCleanupFunctions.has(r))return;let o=_4(r),u=wWt(e,r,o.retainedBy),d=o.init(e,t,n);i.nodeCleanupFunctions.set(r,()=>{d(),u()})}function SWt(e,t){var r;let n=e.getState();(r=n.nodeCleanupFunctions.get(t))===null||r===void 0||r(),n.nodeCleanupFunctions.delete(t)}function EWt(e,t,r){return KG(e,t,r,"get"),_4(r).get(e,t)}function hPe(e,t,r){return _4(r).peek(e,t)}function IWt(e,t,r){var n;let i=bWt(t);return i==null||(n=i.invalidate)===null||n===void 0||n.call(i,e),dr(rt({},e),{atomValues:e.atomValues.clone().delete(t),nonvalidatedAtoms:e.nonvalidatedAtoms.clone().set(t,r),dirtyAtoms:_Wt(e.dirtyAtoms,t)})}function TWt(e,t,r,n){let i=_4(r);if(i.set==null)throw new CG(`Attempt to set read-only RecoilValue: ${r}`);let o=i.set;return KG(e,t,r,"set"),o(e,t,n)}function MWt(e,t,r){var n,i,o;let u=e.getState(),d=e.getGraph(t.version),g=u.knownAtoms.has(r)?"atom":u.knownSelectors.has(r)?"selector":void 0,_=pPe(mPe(e,t,new Set([r])),I=>I!==r);return{loadable:hPe(e,t,r),isActive:u.knownAtoms.has(r)||u.knownSelectors.has(r),isSet:g==="selector"?!1:t.atomValues.has(r),isModified:t.dirtyAtoms.has(r),type:g,deps:$4e((n=d.nodeDeps.get(r))!==null&&n!==void 0?n:[]),subscribers:{nodes:$4e(_),components:fPe((i=(o=u.nodeToComponentSubscriptions.get(r))===null||o===void 0?void 0:o.values())!==null&&i!==void 0?i:[],([I])=>({name:I}))}}}function mPe(e,t,r){let n=new Set,i=Array.from(r),o=e.getGraph(t.version);for(let d=i.pop();d;d=i.pop()){var u;n.add(d);let g=(u=o.nodeToNodeSubscriptions.get(d))!==null&&u!==void 0?u:xWt;for(let _ of g)n.has(_)||i.push(_)}return n}var E1={getNodeLoadable:EWt,peekNodeLoadable:hPe,setNodeValue:TWt,cleanUpNode:SWt,setUnvalidatedAtomValue_DEPRECATED:IWt,peekNodeInfo:MWt,getDownstreamNodes:mPe,initializeNodeIfNewToStore:KG},{CANCELED:CWt}=MS,{getDownstreamNodes:AWt,getNodeLoadable:gPe,setNodeValue:PWt}=E1,{getNodeMaybe:vPe}=cu,{DefaultValue:XG,RecoilValueNotReady:OWt}=cu,{AbstractRecoilValue:DWt,RecoilState:kWt,RecoilValueReadOnly:NWt,isRecoilValue:RWt}=Lh;function LWt(e,{key:t},r=e.getState().currentTree){var n,i;let o=e.getState();r.version===o.currentTree.version||r.version===((n=o.nextTree)===null||n===void 0?void 0:n.version)||r.version===((i=o.previousTree)===null||i===void 0?void 0:i.version)||sp("Tried to read from a discarded tree");let u=gPe(e,r,t);return u.state==="loading"&&u.contents.catch(()=>CWt),u}function qWt(e,t){let r=e.clone();return t.forEach((n,i)=>{n.state==="hasValue"&&n.contents instanceof XG?r.delete(i):r.set(i,n)}),r}function zWt(e,t,{key:r},n){if(typeof n=="function"){let i=gPe(e,t,r);if(i.state==="loading")throw new OWt(r);if(i.state==="hasError")throw i.contents;return n(i.contents)}else return n}function jWt(e,t,r){if(r.type==="set"){let{recoilValue:i,valueOrUpdater:o}=r,u=zWt(e,t,i,o),d=PWt(e,t,i.key,u);for(let[g,_]of d.entries())AG(t,g,_)}else if(r.type==="setLoadable"){let{recoilValue:{key:i},loadable:o}=r;AG(t,i,o)}else if(r.type==="markModified"){let{recoilValue:{key:i}}=r;t.dirtyAtoms.add(i)}else if(r.type==="setUnvalidated"){var n;let{recoilValue:{key:i},unvalidatedValue:o}=r,u=vPe(i);u==null||(n=u.invalidate)===null||n===void 0||n.call(u,t),t.atomValues.delete(i),t.nonvalidatedAtoms.set(i,o),t.dirtyAtoms.add(i)}else sp(`Unknown action ${r.type}`)}function AG(e,t,r){r.state==="hasValue"&&r.contents instanceof XG?e.atomValues.delete(t):e.atomValues.set(t,r),e.dirtyAtoms.add(t),e.nonvalidatedAtoms.delete(t)}function yPe(e,t){e.replaceState(r=>{let n=_Pe(r);for(let i of t)jWt(e,n,i);return PG(e,n),n})}function b4(e,t){if(wS.length){let r=wS[wS.length-1],n=r.get(e);n||r.set(e,n=[]),n.push(t)}else yPe(e,[t])}var wS=[];function FWt(){let e=new Map;return wS.push(e),()=>{for(let[r,n]of e)yPe(r,n);wS.pop()!==e&&sp("Incorrect order of batch popping")}}function _Pe(e){return dr(rt({},e),{atomValues:e.atomValues.clone(),nonvalidatedAtoms:e.nonvalidatedAtoms.clone(),dirtyAtoms:new Set(e.dirtyAtoms)})}function PG(e,t){let r=AWt(e,t,t.dirtyAtoms);for(let o of r){var n,i;(n=vPe(o))===null||n===void 0||(i=n.invalidate)===null||i===void 0||i.call(n,t)}}function bPe(e,t,r){b4(e,{type:"set",recoilValue:t,valueOrUpdater:r})}function BWt(e,t,r){if(r instanceof XG)return bPe(e,t,r);b4(e,{type:"setLoadable",recoilValue:t,loadable:r})}function UWt(e,t){b4(e,{type:"markModified",recoilValue:t})}function VWt(e,t,r){b4(e,{type:"setUnvalidated",recoilValue:t,unvalidatedValue:r})}var $Wt=0;function GWt(e,{key:t},r,n=null){let i=$Wt++,o=e.getState();if(o.nodeToComponentSubscriptions.has(t)||o.nodeToComponentSubscriptions.set(t,new Map),Xn(o.nodeToComponentSubscriptions.get(t)).set(i,[n!=null?n:"<not captured>",r]),ci("recoil_early_rendering_2021")){let u=e.getState().nextTree;u&&u.dirtyAtoms.has(t)&&r(u)}return{release:()=>{let u=e.getState(),d=u.nodeToComponentSubscriptions.get(t);if(d===void 0||!d.has(i)){sp(`Subscription missing at release time for atom ${t}. This is a bug in Recoil.`);return}d.delete(i),d.size===0&&u.nodeToComponentSubscriptions.delete(t)}}}var Vg={RecoilValueReadOnly:NWt,AbstractRecoilValue:DWt,RecoilState:kWt,getRecoilValueAsLoadable:LWt,setRecoilValue:bPe,setRecoilValueLoadable:BWt,markRecoilValueModified:UWt,setUnvalidatedRecoilValue:VWt,subscribeToRecoilValue:GWt,isRecoilValue:RWt,applyAtomValueWrites:qWt,batchStart:FWt,writeLoadableToTreeState:AG,invalidateDownstreams:PG,copyTreeState:_Pe,invalidateDownstreams_FOR_TESTING:PG},{unstable_batchedUpdates:HWt}=sPe.default,WWt={unstable_batchedUpdates:HWt},{unstable_batchedUpdates:ZWt}=WWt,YWt={unstable_batchedUpdates:ZWt},{batchStart:KWt}=Vg,{unstable_batchedUpdates:XWt}=YWt,QG=XWt,QWt=e=>{QG=e},JWt=()=>QG,eZt=e=>{QG(()=>{let t=()=>{};try{t=KWt(),e()}finally{t()}})},JG={getBatcher:JWt,setBatcher:QWt,batchUpdates:eZt};function tZt(e,t){t()}var rZt={enqueueExecution:tZt};function nZt(e,...t){let r=new Set;e:for(let n of e){for(let i of t)if(i.has(n))continue e;r.add(n)}return r}var p4=nZt;function iZt(e,t){let r=new Map;return e.forEach((n,i)=>{r.set(i,t(n,i))}),r}var f4=iZt;function oZt(){return{nodeDeps:new Map,nodeToNodeSubscriptions:new Map}}function aZt(e){return{nodeDeps:f4(e.nodeDeps,t=>new Set(t)),nodeToNodeSubscriptions:f4(e.nodeToNodeSubscriptions,t=>new Set(t))}}function EG(e,t,r){let{nodeDeps:n,nodeToNodeSubscriptions:i}=t;e.forEach((o,u)=>{let d=n.get(u);if(d&&r&&d!==r.nodeDeps.get(u))return;n.set(u,new Set(o)),(d==null?o:p4(o,d)).forEach(_=>{i.has(_)||i.set(_,new Set),Xn(i.get(_)).add(u)}),d&&p4(d,o).forEach(I=>{if(!i.has(I))return;let T=Xn(i.get(I));T.delete(u),T.size===0&&i.delete(I)})})}function sZt(e,t,r){var n,i,o,u;let d=t.getState();r===d.currentTree.version||r===((n=d.nextTree)===null||n===void 0?void 0:n.version)||r===((i=d.previousTree)===null||i===void 0?void 0:i.version)||sp("Tried to save dependencies to a discarded tree");let g=t.getGraph(r);if(EG(e,g),r===((o=d.previousTree)===null||o===void 0?void 0:o.version)){let I=t.getGraph(d.currentTree.version);EG(e,I,g)}if(r===((u=d.previousTree)===null||u===void 0?void 0:u.version)||r===d.currentTree.version){var _;let I=(_=d.nextTree)===null||_===void 0?void 0:_.version;if(I!==void 0){let T=t.getGraph(I);EG(e,T,g)}}}function lZt(e,t){e.forEach((r,n)=>{t.has(n)||t.set(n,new Set);let i=Xn(t.get(n));r.forEach(o=>i.add(o))})}function uZt(e,t,r){r.has(e)||r.set(e,new Set),Xn(r.get(e)).add(t)}var CS={addToDependencyMap:uZt,cloneGraph:aZt,graph:oZt,mergeDepsIntoDependencyMap:lZt,saveDependencyMapToStore:sZt};function cZt(e,t){return t={exports:{}},e(t,t.exports),t.exports}var pZt=cZt(function(e){var t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(de){return typeof de}:function(de){return de&&typeof Symbol=="function"&&de.constructor===Symbol&&de!==Symbol.prototype?"symbol":typeof de},r={},n=5,i=Math.pow(2,n),o=i-1,u=i/2,d=i/4,g={},_=function(he){return function(){return he}},I=r.hash=function(de){var he=typeof de=="undefined"?"undefined":t(de);if(he==="number")return de;he!=="string"&&(de+="");for(var Re=0,at=0,ye=de.length;at<ye;++at){var yt=de.charCodeAt(at);Re=(Re<<5)-Re+yt|0}return Re},T=function(he){return he-=he>>1&1431655765,he=(he&858993459)+(he>>2&858993459),he=he+(he>>4)&252645135,he+=he>>8,he+=he>>16,he&127},A=function(he,Re){return Re>>>he&o},q=function(he){return 1<<he},z=function(he,Re){return T(he&Re-1)},U=function(he,Re,at,ye){var yt=ye;if(!he){var jt=ye.length;yt=new Array(jt);for(var xt=0;xt<jt;++xt)yt[xt]=ye[xt]}return yt[Re]=at,yt},N=function(he,Re,at){var ye=at.length-1,yt=0,jt=0,xt=at;if(he)yt=jt=Re;else for(xt=new Array(ye);yt<Re;)xt[jt++]=at[yt++];for(++yt;yt<=ye;)xt[jt++]=at[yt++];return he&&(xt.length=ye),xt},L=function(he,Re,at,ye){var yt=ye.length;if(he){for(var jt=yt;jt>=Re;)ye[jt--]=ye[jt];return ye[Re]=at,ye}for(var xt=0,Pt=0,ir=new Array(yt+1);xt<Re;)ir[Pt++]=ye[xt++];for(ir[Re]=at;xt<yt;)ir[++Pt]=ye[xt++];return ir},F=1,H=2,Y=3,te=4,oe={__hamt_isEmpty:!0},ue=function(he){return he===oe||he&&he.__hamt_isEmpty},Ie=function(he,Re,at,ye){return{type:F,edit:he,hash:Re,key:at,value:ye,_modify:qe}},Ee=function(he,Re,at){return{type:H,edit:he,hash:Re,children:at,_modify:ut}},ve=function(he,Re,at){return{type:Y,edit:he,mask:Re,children:at,_modify:bt}},xe=function(he,Re,at){return{type:te,edit:he,size:Re,children:at,_modify:wt}},Pe=function(he){return he===oe||he.type===F||he.type===H},we=function(he,Re,at,ye,yt){for(var jt=[],xt=ye,Pt=0,ir=0;xt;++ir)xt&1&&(jt[ir]=yt[Pt++]),xt>>>=1;return jt[Re]=at,xe(he,Pt+1,jt)},Oe=function(he,Re,at,ye){for(var yt=new Array(Re-1),jt=0,xt=0,Pt=0,ir=ye.length;Pt<ir;++Pt)if(Pt!==at){var $r=ye[Pt];$r&&!ue($r)&&(yt[jt++]=$r,xt|=1<<Pt)}return ve(he,xt,yt)},Xe=function de(he,Re,at,ye,yt,jt){if(at===yt)return Ee(he,at,[jt,ye]);var xt=A(Re,at),Pt=A(Re,yt);return ve(he,q(xt)|q(Pt),xt===Pt?[de(he,Re+n,at,ye,yt,jt)]:xt<Pt?[ye,jt]:[jt,ye])},lt=function(he,Re,at,ye,yt,jt,xt,Pt){for(var ir=yt.length,$r=0;$r<ir;++$r){var xn=yt[$r];if(at(xt,xn.key)){var on=xn.value,Er=jt(on);return Er===on?yt:Er===g?(--Pt.value,N(he,$r,yt)):U(he,$r,Ie(Re,ye,xt,Er),yt)}}var Dr=jt();return Dr===g?yt:(++Pt.value,U(he,ir,Ie(Re,ye,xt,Dr),yt))},pt=function(he,Re){return he===Re.edit},qe=function(he,Re,at,ye,yt,jt,xt){if(Re(jt,this.key)){var Pt=ye(this.value);return Pt===this.value?this:Pt===g?(--xt.value,oe):pt(he,this)?(this.value=Pt,this):Ie(he,yt,jt,Pt)}var ir=ye();return ir===g?this:(++xt.value,Xe(he,at,this.hash,this,yt,Ie(he,yt,jt,ir)))},ut=function(he,Re,at,ye,yt,jt,xt){if(yt===this.hash){var Pt=pt(he,this),ir=lt(Pt,he,Re,this.hash,this.children,ye,jt,xt);return ir===this.children?this:ir.length>1?Ee(he,this.hash,ir):ir[0]}var $r=ye();return $r===g?this:(++xt.value,Xe(he,at,this.hash,this,yt,Ie(he,yt,jt,$r)))},bt=function(he,Re,at,ye,yt,jt,xt){var Pt=this.mask,ir=this.children,$r=A(at,yt),xn=q($r),on=z(Pt,xn),Er=Pt&xn,Dr=Er?ir[on]:oe,Qn=Dr._modify(he,Re,at+n,ye,yt,jt,xt);if(Dr===Qn)return this;var St=pt(he,this),Ai=Pt,Bn=void 0;if(Er&&ue(Qn)){if(Ai&=~xn,!Ai)return oe;if(ir.length<=2&&Pe(ir[on^1]))return ir[on^1];Bn=N(St,on,ir)}else if(!Er&&!ue(Qn)){if(ir.length>=u)return we(he,$r,Qn,Pt,ir);Ai|=xn,Bn=L(St,on,Qn,ir)}else Bn=U(St,on,Qn,ir);return St?(this.mask=Ai,this.children=Bn,this):ve(he,Ai,Bn)},wt=function(he,Re,at,ye,yt,jt,xt){var Pt=this.size,ir=this.children,$r=A(at,yt),xn=ir[$r],on=(xn||oe)._modify(he,Re,at+n,ye,yt,jt,xt);if(xn===on)return this;var Er=pt(he,this),Dr=void 0;if(ue(xn)&&!ue(on))++Pt,Dr=U(Er,$r,on,ir);else if(!ue(xn)&&ue(on)){if(--Pt,Pt<=d)return Oe(he,Pt,$r,ir);Dr=U(Er,$r,oe,ir)}else Dr=U(Er,$r,on,ir);return Er?(this.size=Pt,this.children=Dr,this):xe(he,Pt,Dr)};oe._modify=function(de,he,Re,at,ye,yt,jt){var xt=at();return xt===g?oe:(++jt.value,Ie(de,ye,yt,xt))};function Ge(de,he,Re,at,ye){this._editable=de,this._edit=he,this._config=Re,this._root=at,this._size=ye}Ge.prototype.setTree=function(de,he){return this._editable?(this._root=de,this._size=he,this):de===this._root?this:new Ge(this._editable,this._edit,this._config,de,he)};var st=r.tryGetHash=function(de,he,Re,at){for(var ye=at._root,yt=0,jt=at._config.keyEq;;)switch(ye.type){case F:return jt(Re,ye.key)?ye.value:de;case H:{if(he===ye.hash)for(var xt=ye.children,Pt=0,ir=xt.length;Pt<ir;++Pt){var $r=xt[Pt];if(jt(Re,$r.key))return $r.value}return de}case Y:{var xn=A(yt,he),on=q(xn);if(ye.mask&on){ye=ye.children[z(ye.mask,on)],yt+=n;break}return de}case te:{if(ye=ye.children[A(yt,he)],ye){yt+=n;break}return de}default:return de}};Ge.prototype.tryGetHash=function(de,he,Re){return st(de,he,Re,this)};var tt=r.tryGet=function(de,he,Re){return st(de,Re._config.hash(he),he,Re)};Ge.prototype.tryGet=function(de,he){return tt(de,he,this)};var je=r.getHash=function(de,he,Re){return st(void 0,de,he,Re)};Ge.prototype.getHash=function(de,he){return je(de,he,this)};var Me=r.get=function(de,he){return st(void 0,he._config.hash(de),de,he)};Ge.prototype.get=function(de,he){return tt(he,de,this)};var $e=r.has=function(de,he,Re){return st(g,de,he,Re)!==g};Ge.prototype.hasHash=function(de,he){return $e(de,he,this)};var ze=r.has=function(de,he){return $e(he._config.hash(de),de,he)};Ge.prototype.has=function(de){return ze(de,this)};var ot=function(he,Re){return he===Re};r.make=function(de){return new Ge(0,0,{keyEq:de&&de.keyEq||ot,hash:de&&de.hash||I},oe,0)},r.empty=r.make();var it=r.isEmpty=function(de){return de&&!!ue(de._root)};Ge.prototype.isEmpty=function(){return it(this)};var vt=r.modifyHash=function(de,he,Re,at){var ye={value:at._size},yt=at._root._modify(at._editable?at._edit:NaN,at._config.keyEq,0,de,he,Re,ye);return at.setTree(yt,ye.value)};Ge.prototype.modifyHash=function(de,he,Re){return vt(Re,de,he,this)};var ht=r.modify=function(de,he,Re){return vt(de,Re._config.hash(he),he,Re)};Ge.prototype.modify=function(de,he){return ht(he,de,this)};var It=r.setHash=function(de,he,Re,at){return vt(_(Re),de,he,at)};Ge.prototype.setHash=function(de,he,Re){return It(de,he,Re,this)};var Wt=r.set=function(de,he,Re){return It(Re._config.hash(de),de,he,Re)};Ge.prototype.set=function(de,he){return Wt(de,he,this)};var Et=_(g),kt=r.removeHash=function(de,he,Re){return vt(Et,de,he,Re)};Ge.prototype.removeHash=Ge.prototype.deleteHash=function(de,he){return kt(de,he,this)};var Xt=r.remove=function(de,he){return kt(he._config.hash(de),de,he)};Ge.prototype.remove=Ge.prototype.delete=function(de){return Xt(de,this)};var yr=r.beginMutation=function(de){return new Ge(de._editable+1,de._edit+1,de._config,de._root,de._size)};Ge.prototype.beginMutation=function(){return yr(this)};var Pr=r.endMutation=function(de){return de._editable=de._editable&&de._editable-1,de};Ge.prototype.endMutation=function(){return Pr(this)};var sr=r.mutate=function(de,he){var Re=yr(he);return de(Re),Pr(Re)};Ge.prototype.mutate=function(de){return sr(de,this)};var Sr=function(he){return he&&Or(he[0],he[1],he[2],he[3],he[4])},Or=function(he,Re,at,ye,yt){for(;at<he;){var jt=Re[at++];if(jt&&!ue(jt))return Ur(jt,ye,[he,Re,at,ye,yt])}return Sr(yt)},Ur=function(he,Re,at){switch(he.type){case F:return{value:Re(he),rest:at};case H:case te:case Y:var ye=he.children;return Or(ye.length,ye,0,Re,at);default:return Sr(at)}},er={done:!0};function Vr(de){this.v=de}Vr.prototype.next=function(){if(!this.v)return er;var de=this.v;return this.v=Sr(de.rest),de},Vr.prototype[Symbol.iterator]=function(){return this};var xi=function(he,Re){return new Vr(Ur(he._root,Re))},Le=function(he){return[he.key,he.value]},J=r.entries=function(de){return xi(de,Le)};Ge.prototype.entries=Ge.prototype[Symbol.iterator]=function(){return J(this)};var ne=function(he){return he.key},ae=r.keys=function(de){return xi(de,ne)};Ge.prototype.keys=function(){return ae(this)};var _e=function(he){return he.value},ke=r.values=Ge.prototype.values=function(de){return xi(de,_e)};Ge.prototype.values=function(){return ke(this)};var Be=r.fold=function(de,he,Re){var at=Re._root;if(at.type===F)return de(he,at.value,at.key);for(var ye=[at.children],yt=void 0;yt=ye.pop();)for(var jt=0,xt=yt.length;jt<xt;){var Pt=yt[jt++];Pt&&Pt.type&&(Pt.type===F?he=de(he,Pt.value,Pt.key):ye.push(Pt.children))}return he};Ge.prototype.fold=function(de,he){return Be(de,he,this)};var We=r.forEach=function(de,he){return Be(function(Re,at,ye){return de(at,ye,he)},null,he)};Ge.prototype.forEach=function(de){return We(de,this)};var Ue=r.count=function(de){return de._size};Ge.prototype.count=function(){return Ue(this)},Object.defineProperty(Ge.prototype,"size",{get:Ge.prototype.count}),e.exports?e.exports=r:(void 0).hamt=r}),OG=class{constructor(t){Pn(this,"_map",void 0),this._map=new Map(t==null?void 0:t.entries())}keys(){return this._map.keys()}entries(){return this._map.entries()}get(t){return this._map.get(t)}has(t){return this._map.has(t)}set(t,r){return this._map.set(t,r),this}delete(t){return this._map.delete(t),this}clone(){return eH(this)}toMap(){return new Map(this._map)}},DG=class e{constructor(t){if(Pn(this,"_hamt",pZt.empty.beginMutation()),t instanceof e){let r=t._hamt.endMutation();t._hamt=r.beginMutation(),this._hamt=r.beginMutation()}else if(t)for(let[r,n]of t.entries())this._hamt.set(r,n)}keys(){return this._hamt.keys()}entries(){return this._hamt.entries()}get(t){return this._hamt.get(t)}has(t){return this._hamt.has(t)}set(t,r){return this._hamt.set(t,r),this}delete(t){return this._hamt.delete(t),this}clone(){return eH(this)}toMap(){return new Map(this._hamt)}};function eH(e){return ci("recoil_hamt_2020")?new DG(e):new OG(e)}var fZt={persistentMap:eH},dZt=fZt.persistentMap,hZt=Object.freeze({__proto__:null,persistentMap:dZt}),{graph:mZt}=CS,{persistentMap:H4e}=hZt,gZt=0,xPe=()=>gZt++;function wPe(){let e=xPe();return{version:e,stateID:e,transactionMetadata:{},dirtyAtoms:new Set,atomValues:H4e(),nonvalidatedAtoms:H4e()}}function vZt(){let e=wPe();return{currentTree:e,nextTree:null,previousTree:null,commitDepth:0,knownAtoms:new Set,knownSelectors:new Set,transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(e.version,mZt()),versionsUsedByComponent:new Map,retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}}var SPe={makeEmptyTreeState:wPe,makeEmptyStoreState:vZt,getNextTreeStateVersion:xPe};function yZt(...e){let t=new Set;for(let r of e)for(let n of r)t.add(n);return t}var _Zt=yZt;function bZt(e,t,r){let n=e.entries(),i=n.next();for(;!i.done;){let o=i.value;if(t.call(r,o[1],o[0],e))return!0;i=n.next()}return!1}var xZt=bZt,{cleanUpNode:wZt}=E1,{deleteNodeConfigIfPossible:SZt,getNode:EPe}=cu,{RetentionZone:IPe}=y4,TPe=new Set;function MPe(e,t){let r=e.getState(),n=r.currentTree;if(r.nextTree){sp("releaseNodesNowOnCurrentTree should only be called at the end of a batch");return}let i=new Set;for(let u of t)if(u instanceof IPe)for(let d of MZt(r,u))i.add(d);else i.add(u);let o=EZt(e,i);for(let u of o)TZt(e,n,u)}function EZt(e,t){let r=e.getState(),n=r.currentTree,i=e.getGraph(n.version),o=new Set,u=new Set;return d(t),o;function d(g){let _=new Set,I=IZt(e,n,g,o,u);for(let z of I){var T;if(EPe(z).retainedBy==="recoilRoot"){u.add(z);continue}if(((T=r.retention.referenceCounts.get(z))!==null&&T!==void 0?T:0)>0){u.add(z);continue}if(CPe(z).some(N=>r.retention.referenceCounts.get(N))){u.add(z);continue}let U=i.nodeToNodeSubscriptions.get(z);if(U&&xZt(U,N=>u.has(N))){u.add(z);continue}o.add(z),_.add(z)}let A=new Set;for(let z of _)for(let U of(q=i.nodeDeps.get(z))!==null&&q!==void 0?q:TPe){var q;o.has(U)||A.add(U)}A.size&&d(A)}}function IZt(e,t,r,n,i){let o=e.getGraph(t.version),u=[],d=new Set;for(;r.size>0;)g(Xn(r.values().next().value));return u;function g(_){if(n.has(_)||i.has(_)){r.delete(_);return}if(d.has(_))return;let I=o.nodeToNodeSubscriptions.get(_);if(I)for(let T of I)g(T);d.add(_),r.delete(_),u.push(_)}}function TZt(e,t,r){if(!ci("recoil_memory_managament_2020"))return;wZt(e,r);let n=e.getState();n.knownAtoms.delete(r),n.knownSelectors.delete(r),n.nodeTransactionSubscriptions.delete(r),n.retention.referenceCounts.delete(r);let i=CPe(r);for(let g of i){var o;(o=n.retention.nodesRetainedByZone.get(g))===null||o===void 0||o.delete(r)}t.atomValues.delete(r),t.dirtyAtoms.delete(r),t.nonvalidatedAtoms.delete(r);let u=n.graphsByVersion.get(t.version);if(u){let g=u.nodeDeps.get(r);if(g!==void 0){u.nodeDeps.delete(r);for(let _ of g){var d;(d=u.nodeToNodeSubscriptions.get(_))===null||d===void 0||d.delete(r)}}u.nodeToNodeSubscriptions.delete(r)}SZt(r)}function MZt(e,t){var r;return(r=e.retention.nodesRetainedByZone.get(t))!==null&&r!==void 0?r:TPe}function CPe(e){let t=EPe(e).retainedBy;return t===void 0||t==="components"||t==="recoilRoot"?[]:t instanceof IPe?[t]:t}function CZt(e,t){let r=e.getState();r.nextTree?r.retention.retainablesToCheckForRelease.add(t):MPe(e,new Set([t]))}function AZt(e,t,r){var n;if(!ci("recoil_memory_managament_2020"))return;let i=e.getState().retention.referenceCounts,o=((n=i.get(t))!==null&&n!==void 0?n:0)+r;o===0?APe(e,t):i.set(t,o)}function APe(e,t){if(!ci("recoil_memory_managament_2020"))return;e.getState().retention.referenceCounts.delete(t),CZt(e,t)}function PZt(e){if(!ci("recoil_memory_managament_2020"))return;let t=e.getState();MPe(e,t.retention.retainablesToCheckForRelease),t.retention.retainablesToCheckForRelease.clear()}function OZt(e){return e===void 0?"recoilRoot":e}var AS={updateRetainCount:AZt,updateRetainCountToZero:APe,releaseScheduledRetainablesNow:PZt,retainedByOptionWithDefault:OZt};function*DZt(e){for(let t of e)for(let r of t)yield r}var kZt=DZt,NZt=typeof window=="undefined",RZt=typeof navigator!="undefined"&&navigator.product==="ReactNative",tH={isSSR:NZt,isReactNative:RZt},{isSSR:LZt}=tH,{batchUpdates:kG}=JG,{initializeNodeIfNewToStore:qZt,peekNodeInfo:zZt}=E1,{graph:jZt}=CS,{DEFAULT_VALUE:FZt,recoilValues:W4e,recoilValuesForKeys:Z4e}=cu,{AbstractRecoilValue:BZt,getRecoilValueAsLoadable:UZt,setRecoilValue:Y4e,setUnvalidatedRecoilValue:VZt}=Vg,{updateRetainCount:n4}=AS,{getNextTreeStateVersion:$Zt,makeEmptyStoreState:GZt}=SPe;var w1=class{constructor(t){Pn(this,"_store",void 0),Pn(this,"_refCount",0),Pn(this,"getLoadable",r=>(this.checkRefCount_INTERNAL(),UZt(this._store,r))),Pn(this,"getPromise",r=>(this.checkRefCount_INTERNAL(),this.getLoadable(r).toPromise())),Pn(this,"getNodes_UNSTABLE",r=>{if(this.checkRefCount_INTERNAL(),(r==null?void 0:r.isModified)===!0){if((r==null?void 0:r.isInitialized)===!1)return[];let o=this._store.getState().currentTree;return Z4e(o.dirtyAtoms)}let n=this._store.getState().knownAtoms,i=this._store.getState().knownSelectors;return(r==null?void 0:r.isInitialized)==null?W4e.values():r.isInitialized===!0?Z4e(kZt([this._store.getState().knownAtoms,this._store.getState().knownSelectors])):pPe(W4e.values(),({key:o})=>!n.has(o)&&!i.has(o))}),Pn(this,"getInfo_UNSTABLE",({key:r})=>(this.checkRefCount_INTERNAL(),zZt(this._store,this._store.getState().currentTree,r))),Pn(this,"map",r=>{this.checkRefCount_INTERNAL();let n=new IS(this,kG);return r(n),NG(n.getStore_INTERNAL())}),Pn(this,"asyncMap",r=>sn(this,null,function*(){this.checkRefCount_INTERNAL();let n=new IS(this,kG);return yield r(n),NG(n.getStore_INTERNAL())})),this._store={getState:()=>t,replaceState:r=>{t.currentTree=r(t.currentTree)},getGraph:r=>{let n=t.graphsByVersion;if(n.has(r))return Xn(n.get(r));let i=jZt();return n.set(r,i),i},subscribeToTransactions:()=>({release:()=>{}}),addTransactionMetadata:()=>{throw new Error("Cannot subscribe to Snapshots")}};for(let r of this._store.getState().nodeCleanupFunctions.keys())qZt(this._store,t.currentTree,r,"get"),n4(this._store,r,1);this.retain(),this.autorelease_INTERNAL()}retain(){if(!ci("recoil_memory_managament_2020"))return()=>{};this._refCount++;let t=!1;return()=>{t||(t=!0,this.release_INTERNAL())}}autorelease_INTERNAL(){ci("recoil_memory_managament_2020")&&(LZt||window.setTimeout(()=>this.release_INTERNAL(),0))}release_INTERNAL(){ci("recoil_memory_managament_2020")&&(this._refCount--,this._refCount)}checkRefCount_INTERNAL(){ci("recoil_memory_managament_2020")&&this._refCount<=0}getStore_INTERNAL(){return this.checkRefCount_INTERNAL(),this._store}getID(){return this.checkRefCount_INTERNAL(),this.getID_INTERNAL()}getID_INTERNAL(){return this.checkRefCount_INTERNAL(),this._store.getState().currentTree.stateID}};function PPe(e,t,r=!1){let n=e.getState(),i=r?$Zt():t.version;return{currentTree:r?{version:i,stateID:i,transactionMetadata:rt({},t.transactionMetadata),dirtyAtoms:new Set(t.dirtyAtoms),atomValues:t.atomValues.clone(),nonvalidatedAtoms:t.nonvalidatedAtoms.clone()}:t,commitDepth:0,nextTree:null,previousTree:null,knownAtoms:new Set(n.knownAtoms),knownSelectors:new Set(n.knownSelectors),transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(i,e.getGraph(t.version)),versionsUsedByComponent:new Map,retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}}function HZt(e){let t=new w1(GZt());return e!=null?t.map(e):t}function NG(e,t="current"){let r=e.getState(),n=t==="current"?r.currentTree:Xn(r.previousTree);return new w1(PPe(e,n))}var IS=class extends w1{constructor(t,r){super(PPe(t.getStore_INTERNAL(),t.getStore_INTERNAL().getState().currentTree,!0)),Pn(this,"_batch",void 0),Pn(this,"set",(n,i)=>{this.checkRefCount_INTERNAL();let o=this.getStore_INTERNAL();this._batch(()=>{n4(o,n.key,1),Y4e(this.getStore_INTERNAL(),n,i)})}),Pn(this,"reset",n=>{this.checkRefCount_INTERNAL();let i=this.getStore_INTERNAL();this._batch(()=>{n4(i,n.key,1),Y4e(this.getStore_INTERNAL(),n,FZt)})}),Pn(this,"setUnvalidatedAtomValues_DEPRECATED",n=>{this.checkRefCount_INTERNAL();let i=this.getStore_INTERNAL();kG(()=>{for(let[o,u]of n.entries())n4(i,o,1),VZt(i,new BZt(o),u)})}),this._batch=r}},x4={Snapshot:w1,MutableSnapshot:IS,freshSnapshot:HZt,cloneSnapshot:NG},WZt=x4.Snapshot,ZZt=x4.MutableSnapshot,YZt=x4.freshSnapshot,KZt=x4.cloneSnapshot,w4=Object.freeze({__proto__:null,Snapshot:WZt,MutableSnapshot:ZZt,freshSnapshot:YZt,cloneSnapshot:KZt}),{getNextTreeStateVersion:XZt,makeEmptyStoreState:OPe}=SPe,{cleanUpNode:QZt,getDownstreamNodes:JZt,setNodeValue:eYt,setUnvalidatedAtomValue_DEPRECATED:tYt}=E1,{graph:rYt}=CS,{cloneGraph:nYt}=CS,{applyAtomValueWrites:iYt}=Vg,{releaseScheduledRetainablesNow:DPe}=AS,{freshSnapshot:oYt}=w4,{useCallback:aYt,useContext:kPe,useEffect:RG,useMemo:sYt,useRef:IG,useState:lYt}=Ga.default;function gS(){throw new Error("This component must be used inside a <RecoilRoot> component.")}var NPe=Object.freeze({getState:gS,replaceState:gS,getGraph:gS,subscribeToTransactions:gS,addTransactionMetadata:gS}),LG=!1;function K4e(e){if(LG)throw new Error("An atom update was triggered within the execution of a state updater function. State updater functions provided to Recoil must be pure functions.");let t=e.getState();if(t.nextTree===null){ci("recoil_memory_managament_2020")&&ci("recoil_release_on_cascading_update_killswitch_2021")&&t.commitDepth>0&&DPe(e);let r=t.currentTree.version,n=XZt();t.nextTree=dr(rt({},t.currentTree),{version:n,stateID:n,dirtyAtoms:new Set,transactionMetadata:{}}),t.graphsByVersion.set(n,nYt(Xn(t.graphsByVersion.get(r))))}}var RPe=Ga.default.createContext({current:NPe}),rH=()=>kPe(RPe),LPe=Ga.default.createContext(null);function uYt(){let e=kPe(LPe);return e==null&&ZG("Attempted to use a Recoil hook outside of a <RecoilRoot>. <RecoilRoot> must be an ancestor of any component that uses Recoil hooks."),e}function nH(e,t,r){let n=JZt(e,r,r.dirtyAtoms);for(let i of n){let o=t.nodeToComponentSubscriptions.get(i);if(o)for(let[u,[d,g]]of o)g(r)}}function qPe(e){let t=e.getState(),r=t.currentTree,n=r.dirtyAtoms;if(n.size){for(let[i,o]of t.nodeTransactionSubscriptions)if(n.has(i))for(let[u,d]of o)d(e);for(let[i,o]of t.transactionSubscriptions)o(e);(!ci("recoil_early_rendering_2021")||t.suspendedComponentResolvers.size)&&(nH(e,t,r),t.suspendedComponentResolvers.forEach(i=>i()),t.suspendedComponentResolvers.clear())}t.queuedComponentCallbacks_DEPRECATED.forEach(i=>i(r)),t.queuedComponentCallbacks_DEPRECATED.splice(0,t.queuedComponentCallbacks_DEPRECATED.length)}function cYt(e){let t=e.current.getState();t.commitDepth++;try{let{nextTree:r}=t;if(r===null)return;t.previousTree=t.currentTree,t.currentTree=r,t.nextTree=null,qPe(e.current),t.previousTree!=null?t.graphsByVersion.delete(t.previousTree.version):sp("Ended batch with no previous state, which is unexpected","recoil"),t.previousTree=null,ci("recoil_memory_managament_2020")&&DPe(e.current)}finally{t.commitDepth--}}function pYt({setNotifyBatcherOfChange:e}){let t=rH(),[r,n]=lYt([]);return e(()=>n({})),RG(()=>{rZt.enqueueExecution("Batcher",()=>{cYt(t)})}),RG(()=>()=>{e(()=>{})},[e]),null}function fYt(e,t){let r=OPe();return t({set:(n,i)=>{let o=r.currentTree,u=eYt(e,o,n.key,i),d=new Set(u.keys()),g=o.nonvalidatedAtoms.clone();for(let _ of d)g.delete(_);r.currentTree=dr(rt({},o),{dirtyAtoms:_Zt(o.dirtyAtoms,d),atomValues:iYt(o.atomValues,u),nonvalidatedAtoms:g})},setUnvalidatedAtomValues:n=>{n.forEach((i,o)=>{r.currentTree=tYt(r.currentTree,o,i)})}}),r}function dYt(e){return oYt().map(e).getStore_INTERNAL().getState()}var X4e=0;function hYt({initializeState_DEPRECATED:e,initializeState:t,store_INTERNAL:r,children:n}){var i;let o,u=N=>{let L=o.current.graphsByVersion;if(L.has(N))return Xn(L.get(N));let F=rYt();return L.set(N,F),F},d=(N,L)=>{if(L==null){let{transactionSubscriptions:F}=z.current.getState(),H=X4e++;return F.set(H,N),{release:()=>{F.delete(H)}}}else{let{nodeTransactionSubscriptions:F}=z.current.getState();F.has(L)||F.set(L,new Map);let H=X4e++;return Xn(F.get(L)).set(H,N),{release:()=>{let Y=F.get(L);Y&&(Y.delete(H),Y.size===0&&F.delete(L))}}}},g=N=>{K4e(z.current);for(let L of Object.keys(N))Xn(z.current.getState().nextTree).transactionMetadata[L]=N[L]},_=N=>{let L=z.current.getState();K4e(z.current);let F=Xn(L.nextTree),H;try{LG=!0,H=N(F)}finally{LG=!1}H!==F&&(L.nextTree=H,ci("recoil_early_rendering_2021")&&nH(q,L,H),Xn(I.current)())},I=IG(null),T=aYt(N=>{I.current=N},[I]),A=(i=Ga.default.createMutableSource)!==null&&i!==void 0?i:Ga.default.unstable_createMutableSource,q=r!=null?r:{getState:()=>o.current,replaceState:_,getGraph:u,subscribeToTransactions:d,addTransactionMetadata:g},z=IG(q);o=IG(e!=null?fYt(q,e):t!=null?dYt(t):OPe());let U=sYt(()=>A?A(o,()=>o.current.currentTree.version):null,[A,o]);return RG(()=>()=>{for(let N of z.current.getState().knownAtoms)QZt(z.current,N)},[]),Ga.default.createElement(RPe.Provider,{value:z},Ga.default.createElement(LPe.Provider,{value:U},Ga.default.createElement(pYt,{setNotifyBatcherOfChange:T}),n))}function mYt(e){let i=e,{override:t}=i,r=Yn(i,["override"]),n=rH();return t===!1&&n.current!==NPe?e.children:Ga.default.createElement(hYt,r)}var S4={useStoreRef:rH,useRecoilMutableSource:uYt,RecoilRoot:mYt,notifyComponents_FOR_TESTING:nH,sendEndOfBatchNotifications_FOR_TESTING:qPe},{loadableWithValue:gYt}=MS,{DEFAULT_VALUE:vYt,getNode:yYt}=cu,{copyTreeState:_Yt,getRecoilValueAsLoadable:bYt,invalidateDownstreams:xYt,writeLoadableToTreeState:wYt}=Vg;function Q4e(e){return yYt(e.key).nodeType==="atom"}var qG=class{constructor(t,r){Pn(this,"_store",void 0),Pn(this,"_treeState",void 0),Pn(this,"_changes",void 0),Pn(this,"get",n=>{if(this._changes.has(n.key))return this._changes.get(n.key);if(!Q4e(n))throw new Error("Reading selectors within atomicUpdate is not supported");let i=bYt(this._store,n,this._treeState);if(i.state==="hasValue")return i.contents;throw i.state==="hasError"?i.contents:new Error(`Expected Recoil atom ${n.key} to have a value, but it is in a loading state.`)}),Pn(this,"set",(n,i)=>{if(!Q4e(n))throw new Error("Setting selectors within atomicUpdate is not supported");if(typeof i=="function"){let o=this.get(n);this._changes.set(n.key,i(o))}else this._changes.set(n.key,i)}),Pn(this,"reset",n=>{this.set(n,vYt)}),this._store=t,this._treeState=r,this._changes=new Map}newTreeState_INTERNAL(){if(this._changes.size===0)return this._treeState;let t=_Yt(this._treeState);for(let[r,n]of this._changes)wYt(t,r,gYt(n));return xYt(this._store,t),t}};function SYt(e){return t=>{e.replaceState(r=>{let n=new qG(e,r);return t(n),n.newTreeState_INTERNAL()})}}var EYt={atomicUpdater:SYt},IYt=EYt.atomicUpdater,TYt=Object.freeze({__proto__:null,atomicUpdater:IYt});function MYt(e,t){let r=new Map;for(let[n,i]of e)t(i,n)&&r.set(n,i);return r}var CYt=MYt;function AYt(e,t){let r=new Set;for(let n of e)t(n)&&r.add(n);return r}var PYt=AYt;function OYt(e,t){if(!e)throw new Error(t)}var DYt=OYt,d4=DYt;function kYt(...e){let t=new Map;for(let r=0;r<e.length;r++){let n=e[r].keys(),i;for(;!(i=n.next()).done;)t.set(i.value,e[r].get(i.value))}return t}var NYt=kYt;function RYt(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let r=0,n=e.length;r<n;r++)if(e[r]!==t[r])return!1;return!0}var LYt=RYt;var{useRef:qYt}=Ga.default;function zYt(){let e=qYt();if(0&&ci("recoil_infer_component_names"))var t;return"<component name not available>"}var iH=zYt,{atomicUpdater:zPe}=TYt,{batchUpdates:oH}=JG,{DEFAULT_VALUE:E4,getNode:jPe,nodes:jYt}=cu,{useRecoilMutableSource:FYt,useStoreRef:Il}=S4,{isRecoilValue:MZr}=Lh,{AbstractRecoilValue:aH,getRecoilValueAsLoadable:SS,setRecoilValue:S1,setRecoilValueLoadable:BYt,setUnvalidatedRecoilValue:UYt,subscribeToRecoilValue:sH}=Vg,{updateRetainCount:vS}=AS,{RetentionZone:VYt}=y4,{Snapshot:CZr,cloneSnapshot:TS}=w4,{setByAddingToSet:$Yt}=cPe,{isSSR:h4}=tH,{mutableSourceExists:GYt,useMutableSource:HYt}=uPe,{useCallback:Ju,useEffect:Df,useMemo:FPe,useRef:Rh,useState:lH}=Ga.default,BPe=12e4;function UPe(e,t,r){if(e.state==="hasValue")return e.contents;throw e.state==="loading"?new Promise(i=>{r.current.getState().suspendedComponentResolvers.add(i)}):e.state==="hasError"?e.contents:new Error(`Invalid value of loadable atom "${t.key}"`)}function WYt(){let e=Il(),[t,r]=lH([]),n=Rh(new Set);n.current=new Set;let i=Rh(new Set),o=Rh(new Map),u=Ju(g=>{let _=o.current.get(g);_&&(_.release(),o.current.delete(g))},[o]),d=iH();return Df(()=>{let g=e.current;function _(I,T){o.current.has(T)&&r([])}p4(n.current,i.current).forEach(I=>{if(o.current.has(I)){ZG(`Double subscription to RecoilValue "${I}"`);return}let T=sH(g,new aH(I),q=>{_(q,I)},d);o.current.set(I,T),g.getState().nextTree?g.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{_(g.getState(),I)}):_(g.getState(),I)}),p4(i.current,n.current).forEach(I=>{u(I)}),i.current=n.current}),Df(()=>{let g=o.current;return()=>g.forEach((_,I)=>u(I))},[u]),FPe(()=>{function g(z){return U=>{S1(e.current,z,U)}}function _(z){return()=>S1(e.current,z,E4)}function I(z){var U;n.current.has(z.key)||(n.current=$Yt(n.current,z.key));let N=e.current.getState();return SS(e.current,z,ci("recoil_early_rendering_2021")&&(U=N.nextTree)!==null&&U!==void 0?U:N.currentTree)}function T(z){let U=I(z);return UPe(U,z,e)}function A(z){return[T(z),g(z)]}function q(z){return[I(z),g(z)]}return{getRecoilValue:T,getRecoilValueLoadable:I,getRecoilState:A,getRecoilStateLoadable:q,getSetRecoilState:g,getResetRecoilState:_}},[n,e])}var ZYt={current:0};function YYt(e){let t=Il(),r=Ju(()=>{var _;let I=t.current,T=I.getState(),A=ci("recoil_early_rendering_2021")&&(_=T.nextTree)!==null&&_!==void 0?_:T.currentTree;return SS(I,e,A)},[t,e]),n=Ju(()=>r(),[r]),i=iH(),o=Ju((_,I)=>{let T=t.current;return sH(T,e,()=>{if(!ci("recoil_suppress_rerender_in_callback"))return I();let q=r();g.current.is(q)||I(),g.current=q},i).release},[t,e,i,r]),u=FYt(),d=HYt(u,n,o),g=Rh(d);return Df(()=>{g.current=d}),d}function KYt(e){let t=Il(),[r,n]=lH([]),i=iH();Df(()=>{let d=t.current,g=d.getState(),_=sH(d,e,T=>{var A;if(!ci("recoil_suppress_rerender_in_callback"))return n([]);let q=SS(d,e,d.getState().currentTree);!((A=u.current)===null||A===void 0)&&A.is(q)||n(q),u.current=q},i);if(g.nextTree)d.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{u.current=null,n([])});else{var I;if(!ci("recoil_suppress_rerender_in_callback"))return n([]);let T=SS(d,e,d.getState().currentTree);!((I=u.current)===null||I===void 0)&&I.is(T)||n(T),u.current=T}return _.release},[i,e,t]);let o=SS(t.current,e),u=Rh(o);return Df(()=>{u.current=o}),o}function uH(e){return ci("recoil_memory_managament_2020")&&HPe(e),GYt()?YYt(e):KYt(e)}function VPe(e){let t=Il(),r=uH(e);return UPe(r,e,t)}function cH(e){let t=Il();return Ju(r=>{S1(t.current,e,r)},[t,e])}function XYt(e){let t=Il();return Ju(()=>{S1(t.current,e,E4)},[t,e])}function QYt(e){return[VPe(e),cH(e)]}function JYt(e){return[uH(e),cH(e)]}function I4(e){let t=Il();Df(()=>t.current.subscribeToTransactions(e).release,[e,t])}function J4e(e){let t=e.atomValues.toMap(),r=f4(CYt(t,(n,i)=>{let u=jPe(i).persistence_UNSTABLE;return u!=null&&u.type!=="none"&&n.state==="hasValue"}),n=>n.contents);return NYt(e.nonvalidatedAtoms.toMap(),r)}function eKt(e){I4(Ju(t=>{let r=t.getState().previousTree,n=t.getState().currentTree;r||(sp("Transaction subscribers notified without a previous tree being present -- this is a bug in Recoil"),r=t.getState().currentTree);let i=J4e(n),o=J4e(r),u=f4(jYt,g=>{var _,I,T,A;return{persistence_UNSTABLE:{type:(_=(I=g.persistence_UNSTABLE)===null||I===void 0?void 0:I.type)!==null&&_!==void 0?_:"none",backButton:(T=(A=g.persistence_UNSTABLE)===null||A===void 0?void 0:A.backButton)!==null&&T!==void 0?T:!1}}}),d=PYt(n.dirtyAtoms,g=>i.has(g)||o.has(g));e({atomValues:i,previousAtomValues:o,atomInfo:u,modifiedAtoms:d,transactionMetadata:rt({},n.transactionMetadata)})},[e]))}function tKt(e){I4(Ju(t=>{let r=TS(t,"current"),n=TS(t,"previous");e({snapshot:r,previousSnapshot:n})},[e]))}function $Pe(e){let t=Rh();return Df(()=>{t.current=e}),t.current}function rKt(){let e=Il(),[t,r]=lH(()=>TS(e.current)),n=$Pe(t),i=Rh();return Df(()=>(i.current&&!h4&&window.clearTimeout(i.current),t.retain()),[t]),I4(Ju(o=>r(TS(o)),[])),n!==t&&!h4&&(i.current&&(n==null||n.release_INTERNAL(),window.clearTimeout(i.current)),t.retain(),i.current=window.setTimeout(()=>{t.release_INTERNAL(),i.current=null},BPe)),t}function GPe(){let e=Il();return Ju(t=>{var r;let n=e.current.getState(),i=(r=n.nextTree)!==null&&r!==void 0?r:n.currentTree,o=t.getStore_INTERNAL().getState().currentTree;oH(()=>{let u=new Set;for(let _ of[i.atomValues.keys(),o.atomValues.keys()])for(let I of _){var d,g;((d=i.atomValues.get(I))===null||d===void 0?void 0:d.contents)!==((g=o.atomValues.get(I))===null||g===void 0?void 0:g.contents)&&jPe(I).shouldRestoreFromSnapshots&&u.add(I)}u.forEach(_=>{BYt(e.current,new aH(_),o.atomValues.has(_)?Xn(o.atomValues.get(_)):E4)}),e.current.replaceState(_=>dr(rt({},_),{stateID:t.getID_INTERNAL()}))})},[e])}function nKt(){let e=Il();return(t,r={})=>{oH(()=>{e.current.addTransactionMetadata(r),t.forEach((n,i)=>UYt(e.current,new aH(i),n))})}}var m4=class{},iKt=new m4;function oKt(e,t){let r=Il(),n=GPe();return Ju((...i)=>{function o(I,T){S1(r.current,I,T)}function u(I){S1(r.current,I,E4)}let d=TS(r.current),g=zPe(r.current),_=iKt;return oH(()=>{let I="useRecoilCallback expects a function that returns a function: it accepts a function of the type (RecoilInterface) => T = R and returns a callback function T => R, where RecoilInterface is an object {snapshot, set, ...} and T and R are the argument and return types of the callback you want to create.  Please see the docs at recoiljs.org for details.";if(typeof e!="function")throw new Error(I);let T=e({set:o,reset:u,snapshot:d,gotoSnapshot:n,transact_UNSTABLE:g});if(typeof T!="function")throw new Error(I);_=T(...i)}),_ instanceof m4&&d4(!1),_},t!=null?[...t,r]:void 0)}function HPe(e){if(ci("recoil_memory_managament_2020"))return aKt(e)}function aKt(e){let r=(Array.isArray(e)?e:[e]).map(u=>u instanceof VYt?u:u.key),n=Il();Df(()=>{if(!ci("recoil_memory_managament_2020"))return;let u=n.current;if(i.current&&!h4)window.clearTimeout(i.current),i.current=null;else for(let d of r)vS(u,d,1);return()=>{for(let d of r)vS(u,d,-1)}},[n,...r]);let i=Rh(),o=$Pe(r);if(!h4&&(o===void 0||!LYt(o,r))){let u=n.current;for(let d of r)vS(u,d,1);if(o)for(let d of o)vS(u,d,-1);i.current&&window.clearTimeout(i.current),i.current=window.setTimeout(()=>{i.current=null;for(let d of r)vS(u,d,-1)},BPe)}}function sKt(e,t){let r=Il();return FPe(()=>(...n)=>{zPe(r.current)(o=>{e(o)(...n)})},t!=null?[...t,r]:void 0)}var lKt={recoilComponentGetRecoilValueCount_FOR_TESTING:ZYt,useGotoRecoilSnapshot:GPe,useRecoilCallback:oKt,useRecoilInterface:WYt,useRecoilSnapshot:rKt,useRecoilState:QYt,useRecoilStateLoadable:JYt,useRecoilTransaction:sKt,useRecoilTransactionObserver:tKt,useRecoilValue:VPe,useRecoilValueLoadable:uH,useRetain:HPe,useResetRecoilState:XYt,useSetRecoilState:cH,useSetUnvalidatedAtomValues:nKt,useTransactionObservation_DEPRECATED:eKt,useTransactionSubscription_DEPRECATED:I4},{peekNodeInfo:uKt}=E1,{useStoreRef:cKt}=S4;function pKt(){let e=cKt();return({key:t})=>uKt(e.current,e.current.getState().currentTree,t)}var fKt=pKt,{RecoilRoot:dKt,useStoreRef:hKt}=S4,{useMemo:mKt}=Ga.default;function gKt(){let e=hKt().current;return mKt(()=>{function t({children:r}){return Ga.default.createElement(dKt,{store_INTERNAL:e},r)}return t},[e])}var vKt=gKt;var{isReactNative:AZr,isSSR:PZr}=tH;function Qu(e,t,r){if(typeof e=="string"&&!e.includes("\"")&&!e.includes("\\"))return`"${e}"`;switch(typeof e){case"undefined":return"";case"boolean":return e?"true":"false";case"number":case"symbol":return String(e);case"string":return JSON.stringify(e);case"function":if((t==null?void 0:t.allowFunctions)!==!0)throw new Error("Attempt to serialize function in a Recoil cache key");return`__FUNCTION(${e.name})__`}if(e===null)return"null";if(typeof e!="object"){var n;return(n=JSON.stringify(e))!==null&&n!==void 0?n:""}if(so(e))return"__PROMISE__";if(Array.isArray(e))return`[${e.map((i,o)=>Qu(i,t,o.toString()))}]`;if(typeof e.toJSON=="function")return Qu(e.toJSON(r),t,r);if(e instanceof Map){let i={};for(let[o,u]of e)i[typeof o=="string"?o:Qu(o,t)]=u;return Qu(i,t,r)}return e instanceof Set?Qu(Array.from(e).sort((i,o)=>Qu(i,t).localeCompare(Qu(o,t))),t,r):Symbol!==void 0&&e[Symbol.iterator]!=null&&typeof e[Symbol.iterator]=="function"?Qu(Array.from(e),t,r):`{${Object.keys(e).filter(i=>e[i]!==void 0).sort().map(i=>`${Qu(i,t)}:${Qu(e[i],t,i)}`).join(",")}}`}function yKt(e,t={allowFunctions:!1}){return Qu(e,t)}var T4=yKt,zG=class{constructor(t){var r,n,i;Pn(this,"_numLeafs",void 0),Pn(this,"_root",void 0),Pn(this,"_onHit",void 0),Pn(this,"_onSet",void 0),Pn(this,"_mapNodeValue",void 0),this._numLeafs=0,this._root=null,this._onHit=(r=t==null?void 0:t.onHit)!==null&&r!==void 0?r:()=>{},this._onSet=(n=t==null?void 0:t.onSet)!==null&&n!==void 0?n:()=>{},this._mapNodeValue=(i=t==null?void 0:t.mapNodeValue)!==null&&i!==void 0?i:o=>o}size(){return this._numLeafs}root(){return this._root}get(t,r){var n;return(n=this.getLeafNode(t,r))===null||n===void 0?void 0:n.value}getLeafNode(t,r){return WPe(this.root(),n=>this._mapNodeValue(t(n)),{onNodeVisit:n=>{r==null||r.onNodeVisit(n),n.type==="leaf"&&this._onHit(n)}})}set(t,r,n){let i,o=jG(this.root(),t.map(([u,d])=>[u,this._mapNodeValue(d)]),null,r,null,{onNodeVisit:u=>{n==null||n.onNodeVisit(u),u.type==="leaf"&&(i=u)}});this.root()||(this._root=o),this._numLeafs++,this._onSet(Xn(i))}delete(t){if(!this.root())return!1;let r=Xn(this.root());return _Kt(r,t,t.parent)?t===r||r.type==="branch"&&!r.branches.size?(this._root=null,this._numLeafs=0,!0):(this._numLeafs-=YPe(t),!0):!1}clear(){this._numLeafs=0,this._root=null}},WPe=(e,t,r)=>{var n;if(e==null)return;if(r==null||(n=r.onNodeVisit)===null||n===void 0||n.call(r,e),e.type==="leaf")return e;let i=t(e.nodeKey);return WPe(e.branches.get(i),t,r)},jG=(e,t,r,n,i,o)=>{var u;let d;if(e==null){if(t.length===0)d={type:"leaf",value:n,parent:r,branchKey:i};else{let[g,..._]=t,[I,T]=g;d={type:"branch",nodeKey:I,parent:r,branches:new Map,branchKey:i},d.branches.set(T,jG(null,_,d,n,T,o))}}else if(d=e,t.length){let[g,..._]=t,[I,T]=g;e.type==="branch"&&e.nodeKey===I||d4(!1),e.branches.set(T,jG(e.branches.get(T),_,e,n,T,o))}return o==null||(u=o.onNodeVisit)===null||u===void 0||u.call(o,d),d},_Kt=(e,t,r)=>r?(r.branches.delete(t.branchKey),ZPe(e,r,r.parent)):e===t,ZPe=(e,t,r)=>r?(t.branches.size===0&&r.branches.delete(t.branchKey),ZPe(e,r,r.parent)):e===t,YPe=e=>e.type==="leaf"?1:Array.from(e.branches.values()).reduce((t,r)=>t+YPe(r),0),bKt={TreeCache:zG},xKt=bKt.TreeCache,KPe=Object.freeze({__proto__:null,TreeCache:xKt}),FG=class{constructor(t){var r;Pn(this,"_maxSize",void 0),Pn(this,"_size",void 0),Pn(this,"_head",void 0),Pn(this,"_tail",void 0),Pn(this,"_map",void 0),Pn(this,"_keyMapper",void 0),this._maxSize=t.maxSize,this._size=0,this._head=null,this._tail=null,this._map=new Map,this._keyMapper=(r=t.mapKey)!==null&&r!==void 0?r:n=>n}head(){return this._head}tail(){return this._tail}size(){return this._size}maxSize(){return this._maxSize}has(t){return this._map.has(this._keyMapper(t))}get(t){let r=this._keyMapper(t),n=this._map.get(r);if(n)return this.set(t,n.value),n.value}set(t,r){let n=this._keyMapper(t);this._map.get(n)&&this.delete(t);let o=this.head(),u={key:t,right:o,left:null,value:r};o?o.left=u:this._tail=u,this._map.set(n,u),this._head=u,this._size++,this._maybeDeleteLRU()}_maybeDeleteLRU(){this.size()>this.maxSize()&&this.deleteLru()}deleteLru(){let t=this.tail();t&&this.delete(t.key)}delete(t){let r=this._keyMapper(t);if(!this._size||!this._map.has(r))return;let n=Xn(this._map.get(r)),i=n.right,o=n.left;i&&(i.left=n.left),o&&(o.right=n.right),n===this.head()&&(this._head=i),n===this.tail()&&(this._tail=o),this._map.delete(r),this._size--}clear(){this._size=0,this._head=null,this._tail=null,this._map=new Map}},wKt={LRUCache:FG},SKt=wKt.LRUCache,XPe=Object.freeze({__proto__:null,LRUCache:SKt}),{LRUCache:EKt}=XPe,{TreeCache:IKt}=KPe;function TKt(e,t=r=>r){let r=new EKt({maxSize:e}),n=new IKt({mapNodeValue:t,onHit:i=>{r.set(i,!0)},onSet:i=>{let o=r.tail();r.set(i,!0),o&&n.size()>e&&n.delete(o.key)}});return n}var ePe=TKt,{TreeCache:MKt}=KPe,e4={equality:"reference",eviction:"keep-all",maxSize:1/0};function CKt({equality:e=e4.equality,eviction:t=e4.eviction,maxSize:r=e4.maxSize}=e4){let n=AKt(e);return PKt(t,r,n)}function AKt(e){switch(e){case"reference":return t=>t;case"value":return t=>T4(t)}throw new Error(`Unrecognized equality policy ${e}`)}function PKt(e,t,r){switch(e){case"keep-all":return new MKt({mapNodeValue:r});case"lru":return ePe(Xn(t),r);case"most-recent":return ePe(1,r)}throw new Error(`Unrecognized eviction policy ${e}`)}var OKt=CKt;function DKt(e){return()=>null}var kKt={startPerfBlock:DKt},{CANCELED:yS,Canceled:NKt,loadableWithError:_S,loadableWithPromise:RKt,loadableWithValue:TG}=MS,{getNodeLoadable:tPe,peekNodeLoadable:LKt,setNodeValue:qKt}=E1,{saveDependencyMapToStore:zKt}=CS,{DEFAULT_VALUE:jKt,RecoilValueNotReady:FKt,getConfigDeletionHandler:BKt,registerNode:rPe}=cu,{isRecoilValue:UKt}=Lh,{AbstractRecoilValue:VKt}=Lh,{setRecoilValueLoadable:$Kt}=Vg,{retainedByOptionWithDefault:GKt}=AS,{cloneSnapshot:HKt}=w4,{startPerfBlock:WKt}=kKt,bS=[],t4=new Map,ZKt=(()=>{let e=0;return()=>e++})();function YKt(){return{depValuesDiscoveredSoFarDuringAsyncWork:null,latestLoadable:null,latestExecutionId:null,stateVersion:null}}function KKt(e){let{key:t,get:r,cachePolicy_UNSTABLE:n}=e,i=e.set!=null?e.set:void 0,o=OKt(n!=null?n:{equality:"reference",eviction:"keep-all"}),u=GKt(e.retainedBy_UNSTABLE),d=new Map,g=0;function _(){return!ci("recoil_memory_managament_2020")||g>0}function I(je){return d.has(je)||d.set(je,YKt()),Xn(d.get(je))}function T(je){return g++,je.getState().knownSelectors.add(t),()=>{g--,je.getState().knownSelectors.delete(t),d.delete(je)}}function A(){return BKt(t)!==void 0&&!_()}function q(je,Me,$e){if(Me.state==="loading"){let ze=t4.get($e);ze==null&&t4.set($e,ze=new Set),ze.add(je)}}function z(je,Me){let $e=t4.get(Me);if($e!==void 0){for(let ze of $e)$Kt(ze,new VKt(t),je);t4.delete(Me)}}function U(je,Me,$e){let ze=je.getState().knownSelectors.has($e);if(ze&&Me.atomValues.has($e))return Xn(Me.atomValues.get($e));let ot=tPe(je,Me,$e);return ot.state!=="loading"&&ze&&Me.atomValues.set($e,ot),ot}function N(je,Me,$e,ze,ot){return Me.then(it=>{if(!_())return lt(je,ot),yS;let vt=TG(it);return bt($e,ue(ze),vt),H(je,$e,new Set(ze.keys()),ot),F(je,vt,ot),{__value:it,__key:t}}).catch(it=>{if(!_())return lt(je,ot),yS;if(pt(je,ot)&&Xe(ze,je,ot),so(it))return L(je,it,$e,ze,ot);let vt=_S(it);throw bt($e,ue(ze),vt),H(je,$e,new Set(ze.keys()),ot),F(je,vt,ot),it})}function L(je,Me,$e,ze,ot){return Me.then(it=>{if(!_())return lt(je,ot),yS;if(it instanceof NKt)return sp("Selector was released while it had dependencies"),yS;let{__key:vt,__value:ht}=it!=null?it:{},It=!0;vt!=null&&($e.atomValues.set(vt,TG(ht)),It=!1);let Wt=oe(je,$e);if(Wt&&Wt.state==="hasValue")return we(Wt,je),{__value:Wt.contents,__key:t};if(!pt(je,ot)){var Et;let yr=ve($e);if((yr==null||(Et=yr.latestLoadable)===null||Et===void 0?void 0:Et.state)==="loading")return yr.latestLoadable.contents}let[kt,Xt]=te(je,$e,ot,It);if(pt(je,ot)&&Xe(Xt,je,ot),qe(kt),kt.state!=="loading"&&(bt($e,ue(Xt),kt),H(je,$e,new Set(Xt.keys()),ot),F(je,kt,ot)),kt.state==="hasError")throw kt.contents;return kt.state==="hasValue"?{__value:kt.contents,__key:t}:kt.contents}).catch(it=>{if(!_())return lt(je,ot),yS;let vt=_S(it);throw bt($e,ue(ze),_S(it)),H(je,$e,new Set(ze.keys()),ot),F(je,vt,ot),it})}function F(je,Me,$e){pt(je,$e)&&(we(Me,je),z(Me,$e))}function H(je,Me,$e,ze){var ot,it,vt,ht;if(pt(je,ze)||Me.version===((ot=je.getState())===null||ot===void 0||(it=ot.currentTree)===null||it===void 0?void 0:it.version)||Me.version===((vt=je.getState())===null||vt===void 0||(ht=vt.nextTree)===null||ht===void 0?void 0:ht.version)){var It,Wt,Et;zKt(new Map([[t,$e]]),je,(It=(Wt=je.getState())===null||Wt===void 0||(Et=Wt.nextTree)===null||Et===void 0?void 0:Et.version)!==null&&It!==void 0?It:je.getState().currentTree.version)}}function Y(je,Me,$e,ze,ot){$e.add(ze),H(je,Me,$e,ot)}function te(je,Me,$e,ze=!1){let ot=WKt(t),it,vt=!1,ht,It=new Map,Wt=new Set;H(je,Me,Wt,$e);function Et(yr){let{key:Pr}=yr;Y(je,Me,Wt,Pr,$e);let sr=ze?tPe(je,Me,Pr):U(je,Me,Pr);if(qe(sr),It.set(Pr,sr),sr.state==="hasValue")return sr.contents;throw sr.contents}let kt=!1,Xt=yr=>(...Pr)=>{if(!kt)throw new Error("getCallback() should only be called asynchronously after the selector is evalutated.  It can be used for selectors to return objects with callbacks that can obtain the current Recoil state without a subscription.");let sr=HKt(je),Sr=yr({snapshot:sr});if(typeof Sr!="function")throw new Error("getCallback() expects a function that returns a function.");return Sr(...Pr)};try{it=r({get:Et,getCallback:Xt}),it=UKt(it)?Et(it):it,kt=!0,so(it)?it=N(je,it,Me,It,$e).finally(ot):ot()}catch(yr){it=yr,so(it)?it=L(je,it,Me,It,$e).finally(ot):(vt=!0,ot())}return vt?ht=_S(it):so(it)?ht=RKt(it):ht=TG(it),qe(ht),[ht,It]}function oe(je,Me){let $e=new Set,ze=I(je),ot=o.get(it=>(typeof it!="string"&&d4(!1),U(je,Me,it).contents),{onNodeVisit:it=>{it.type==="branch"&&it.nodeKey!==t&&typeof it.nodeKey=="string"&&$e.add(it.nodeKey)}});return ot&&H(je,Me,$e,ze.latestExecutionId),ot}function ue(je){return Array.from(je.entries()).map(([Me,$e])=>[Me,$e.contents])}function Ie(je,Me){let $e=ZKt(),[ze,ot]=te(je,Me,$e);return we(ze,je,ot,$e,Me),Oe(Me,ue(ot),ze),q(je,ze,$e),ze}function Ee(je,Me){let $e=oe(je,Me);if($e!=null)return we($e,je),$e;let ze=ve(Me);if(ze){let ot=ze;return q(je,Xn(ot.latestLoadable),Xn(ot.latestExecutionId)),Xn(ot.latestLoadable)}return Ie(je,Me)}function ve(je){var Me;let[,$e]=(Me=Array.from(d.entries()).find(([ze,ot])=>ot.latestLoadable!=null&&ot.latestExecutionId!=null&&!Pe(ze,je)))!==null&&Me!==void 0?Me:[];return $e}let xe=new Map;function Pe(je,Me){var $e,ze;let ot=I(je),it=($e=ot.depValuesDiscoveredSoFarDuringAsyncWork)!==null&&$e!==void 0?$e:new Map,vt=Array(((ze=xe.get(Me.version))!==null&&ze!==void 0?ze:new Map).entries()),ht=xe.has(Me.version)&&vt.length===it.size&&vt.every(([It,Wt])=>it.get(It)===Wt);return it==null||Me.version===ot.stateVersion||ht?!1:(xe.set(Me.version,new Map(it)),Array.from(it).some(([It,Wt])=>U(je,Me,It).contents!==Wt.contents))}function we(je,Me,$e,ze,ot){let it=I(Me);je.state==="loading"?(it.depValuesDiscoveredSoFarDuringAsyncWork=$e,it.latestExecutionId=ze,it.latestLoadable=je,it.stateVersion=ot==null?void 0:ot.version):(it.depValuesDiscoveredSoFarDuringAsyncWork=null,it.latestExecutionId=null,it.latestLoadable=null,it.stateVersion=null)}function Oe(je,Me,$e){$e.state!=="loading"&&bt(je,Me,$e)}function Xe(je,Me,$e){let ze=I(Me);pt(Me,$e)&&(ze.depValuesDiscoveredSoFarDuringAsyncWork=je)}function lt(je,Me){pt(je,Me)&&d.delete(je)}function pt(je,Me){let $e=I(je);return Me===$e.latestExecutionId}function qe(je){je.state!=="loading"&&(je.contents,void 0)}function ut(je){}function bt(je,Me,$e){je.atomValues.set(t,$e),o.set(Me,$e)}function wt(je){if(bS.includes(t)){let Me=`Recoil selector has circular dependencies: ${bS.slice(bS.indexOf(t)).join(" \u2192 ")}`;return _S(new Error(Me))}bS.push(t);try{return je()}finally{bS.pop()}}function Ge(je,Me){return o.get(ze=>{typeof ze!="string"&&d4(!1);let ot=LKt(je,Me,ze);return ot==null?void 0:ot.contents})}function st(je,Me){return wt(()=>Ee(je,Me))}function tt(je){je.atomValues.delete(t)}return i!=null?rPe({key:t,nodeType:"selector",peek:Ge,get:st,set:(Me,$e,ze)=>{let ot=!1,it=new Map;function vt({key:Et}){if(ot)throw new Error("Recoil: Async selector sets are not currently supported.");let kt=U(Me,$e,Et);if(qe(kt),kt.state==="hasValue")return kt.contents;throw kt.state==="loading"?new FKt(Et):kt.contents}function ht(Et,kt){if(ot)throw new Error("Recoil: Async selector sets are not currently supported.");let Xt=typeof kt=="function"?kt(vt(Et)):kt;qKt(Me,$e,Et.key,Xt).forEach((Pr,sr)=>it.set(sr,Pr))}function It(Et){ht(Et,jKt)}let Wt=i({set:ht,get:vt,reset:It},ze);if(Wt!==void 0)throw so(Wt)?new Error("Recoil: Async selector sets are not currently supported."):new Error("Recoil: selector set should be a void function.");return ot=!0,it},init:T,invalidate:tt,shouldDeleteConfigOnRelease:A,dangerouslyAllowMutability:e.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:u}):rPe({key:t,nodeType:"selector",peek:Ge,get:st,init:T,invalidate:tt,shouldDeleteConfigOnRelease:A,dangerouslyAllowMutability:e.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:u})}var g4=KKt,{loadableWithError:nPe,loadableWithPromise:iPe,loadableWithValue:xS}=MS,{DEFAULT_VALUE:Bg,DefaultValue:_1,getConfigDeletionHandler:QPe,registerNode:XKt,setConfigDeletionHandler:QKt}=cu,{isRecoilValue:JKt}=Lh,{markRecoilValueModified:eXt,setRecoilValue:oPe,setRecoilValueLoadable:tXt}=Vg,{retainedByOptionWithDefault:rXt}=AS;function nXt(e){let{key:t,persistence_UNSTABLE:r}=e,n=rXt(e.retainedBy_UNSTABLE),i=0,o=so(e.default)?iPe(e.default.then(N=>(o=xS(N),{__key:t,__value:N})).catch(N=>{throw o=nPe(N),N})):xS(e.default),u,d=new Map;function g(N,L){let F=L.then(H=>{var Y,te;return((te=((Y=N.getState().nextTree)!==null&&Y!==void 0?Y:N.getState().currentTree).atomValues.get(t))===null||te===void 0?void 0:te.contents)===F&&oPe(N,U,H),{__key:t,__value:H}}).catch(H=>{var Y,te;throw((te=((Y=N.getState().nextTree)!==null&&Y!==void 0?Y:N.getState().currentTree).atomValues.get(t))===null||te===void 0?void 0:te.contents)===F&&tXt(N,U,nPe(H)),H});return F}function _(N,L,F){i++;let H=N.getState().knownAtoms.has(t);if(N.getState().knownAtoms.add(t),o.state==="loading"){let Ee=()=>{var ve;((ve=N.getState().nextTree)!==null&&ve!==void 0?ve:N.getState().currentTree).atomValues.has(t)||eXt(N,U)};o.contents.then(Ee).catch(Ee)}let Y=Bg,te=null;if(e.effects_UNSTABLE!=null&&!H){let Ee=!0,ve=we=>Oe=>{if(Ee){let Xe=Y instanceof _1||so(Y)?o.state==="hasValue"?o.contents:Bg:Y;Y=typeof Oe=="function"?Oe(Xe):Oe,so(Y)&&(Y=Y.then(lt=>(te={effect:we,value:lt},lt)))}else{if(so(Oe))throw new Error("Setting atoms to async values is not implemented.");typeof Oe!="function"&&(te={effect:we,value:Oe}),oPe(N,U,typeof Oe=="function"?Xe=>{let lt=Oe(Xe);return te={effect:we,value:lt},lt}:Oe)}},xe=we=>()=>ve(we)(Bg),Pe=we=>Oe=>{N.subscribeToTransactions(Xe=>{var lt;let{currentTree:pt,previousTree:qe}=Xe.getState();qe||(sp("Transaction subscribers notified without a next tree being present -- this is a bug in Recoil"),qe=pt);let ut=(lt=pt.atomValues.get(t))!==null&&lt!==void 0?lt:o;if(ut.state==="hasValue"){var bt,wt,Ge,st;let tt=ut.contents,je=(bt=qe.atomValues.get(t))!==null&&bt!==void 0?bt:o,Me=je.state==="hasValue"?je.contents:Bg;((wt=te)===null||wt===void 0?void 0:wt.effect)!==we||((Ge=te)===null||Ge===void 0?void 0:Ge.value)!==tt?Oe(tt,Me):((st=te)===null||st===void 0?void 0:st.effect)===we&&(te=null)}},t)};for(let we of(oe=e.effects_UNSTABLE)!==null&&oe!==void 0?oe:[]){var oe;let Oe=we({node:U,trigger:F,setSelf:ve(we),resetSelf:xe(we),onSet:Pe(we)});if(Oe!=null){var ue;d.set(N,[...((ue=d.get(N))!==null&&ue!==void 0?ue:[]),Oe])}}Ee=!1}if(!(Y instanceof _1)){var Ie;let Ee=so(Y)?iPe(g(N,Y)):xS(Y);L.atomValues.set(t,Ee),(Ie=N.getState().nextTree)===null||Ie===void 0||Ie.atomValues.set(t,Ee)}return()=>{var Ee;i--,(Ee=d.get(N))===null||Ee===void 0||Ee.forEach(ve=>ve()),d.delete(N),N.getState().knownAtoms.delete(t)}}function I(N,L){var F,H,Y;return(F=(H=L.atomValues.get(t))!==null&&H!==void 0?H:(Y=u)===null||Y===void 0?void 0:Y[1])!==null&&F!==void 0?F:o}function T(N,L){if(L.atomValues.has(t))return Xn(L.atomValues.get(t));if(L.nonvalidatedAtoms.has(t)){if(u!=null)return u;if(r==null)return ZG(`Tried to restore a persisted value for atom ${t} but it has no persistence settings.`),o;let F=L.nonvalidatedAtoms.get(t),H=r.validator(F,Bg);return u=H instanceof _1?o:xS(H),u}else return o}function A(){u=void 0}function q(N,L,F){if(L.atomValues.has(t)){let H=Xn(L.atomValues.get(t));if(H.state==="hasValue"&&F===H.contents)return new Map}else if(!L.nonvalidatedAtoms.has(t)&&F instanceof _1)return new Map;return u=void 0,new Map().set(t,xS(F))}function z(){return QPe(t)!==void 0&&i<=0}let U=XKt({key:t,nodeType:"atom",peek:I,get:T,set:q,init:_,invalidate:A,shouldDeleteConfigOnRelease:z,dangerouslyAllowMutability:e.dangerouslyAllowMutability,persistence_UNSTABLE:e.persistence_UNSTABLE?{type:e.persistence_UNSTABLE.type,backButton:e.persistence_UNSTABLE.backButton}:void 0,shouldRestoreFromSnapshots:!0,retainedBy:n});return U}function JPe(e){let n=e,{default:t}=n,r=Yn(n,["default"]);return JKt(t)?iXt(dr(rt({},r),{default:t})):nXt(dr(rt({},r),{default:t}))}function iXt(e){let t=JPe(dr(rt({},e),{default:Bg,persistence_UNSTABLE:e.persistence_UNSTABLE===void 0?void 0:dr(rt({},e.persistence_UNSTABLE),{validator:n=>n instanceof _1?n:Xn(e.persistence_UNSTABLE).validator(n,Bg)}),effects_UNSTABLE:e.effects_UNSTABLE})),r=g4({key:`${e.key}__withFallback`,get:({get:n})=>{let i=n(t);return i instanceof _1?e.default:i},set:({set:n},i)=>n(t,i),dangerouslyAllowMutability:e.dangerouslyAllowMutability});return QKt(r.key,QPe(e.key)),r}var eOe=JPe,BG=class{constructor(t){var r;Pn(this,"_map",void 0),Pn(this,"_keyMapper",void 0),this._map=new Map,this._keyMapper=(r=t==null?void 0:t.mapKey)!==null&&r!==void 0?r:n=>n}size(){return this._map.size}has(t){return this._map.has(this._keyMapper(t))}get(t){return this._map.get(this._keyMapper(t))}set(t,r){this._map.set(this._keyMapper(t),r)}delete(t){this._map.delete(this._keyMapper(t))}clear(){this._map.clear()}},oXt={MapCache:BG},aXt=oXt.MapCache,sXt=Object.freeze({__proto__:null,MapCache:aXt}),{LRUCache:aPe}=XPe,{MapCache:lXt}=sXt,r4={equality:"reference",eviction:"none",maxSize:1/0};function uXt({equality:e=r4.equality,eviction:t=r4.eviction,maxSize:r=r4.maxSize}=r4){let n=cXt(e);return pXt(t,r,n)}function cXt(e){switch(e){case"reference":return t=>t;case"value":return t=>T4(t)}throw new Error(`Unrecognized equality policy ${e}`)}function pXt(e,t,r){switch(e){case"keep-all":return new lXt({mapKey:r});case"lru":return new aPe({mapKey:r,maxSize:Xn(t)});case"most-recent":return new aPe({mapKey:r,maxSize:1})}throw new Error(`Unrecognized eviction policy ${e}`)}var tOe=uXt,{setConfigDeletionHandler:fXt}=cu;function dXt(e){var t,r;let n=tOe({equality:(t=(r=e.cachePolicyForParams_UNSTABLE)===null||r===void 0?void 0:r.equality)!==null&&t!==void 0?t:"value",eviction:"keep-all"});return i=>{var o;let u=n.get(i);if(u!=null)return u;let I=e,{cachePolicyForParams_UNSTABLE:d}=I,g=Yn(I,["cachePolicyForParams_UNSTABLE"]),_=eOe(dr(rt({},g),{key:`${e.key}__${(o=T4(i))!==null&&o!==void 0?o:"void"}`,default:typeof e.default=="function"?e.default(i):e.default,retainedBy_UNSTABLE:typeof e.retainedBy_UNSTABLE=="function"?e.retainedBy_UNSTABLE(i):e.retainedBy_UNSTABLE,effects_UNSTABLE:typeof e.effects_UNSTABLE=="function"?e.effects_UNSTABLE(i):e.effects_UNSTABLE}));return n.set(i,_),fXt(_.key,()=>{n.delete(i)}),_}}var hXt=dXt,{setConfigDeletionHandler:mXt}=cu,gXt=0;function vXt(e){var t,r;let n=tOe({equality:(t=(r=e.cachePolicyForParams_UNSTABLE)===null||r===void 0?void 0:r.equality)!==null&&t!==void 0?t:"value",eviction:"keep-all"});return i=>{var o;let u=n.get(i);if(u!=null)return u;let d=`${e.key}__selectorFamily/${(o=T4(i,{allowFunctions:!0}))!==null&&o!==void 0?o:"void"}/${gXt++}`,g=A=>e.get(i)(A),_=e.cachePolicy_UNSTABLE,I=typeof e.retainedBy_UNSTABLE=="function"?e.retainedBy_UNSTABLE(i):e.retainedBy_UNSTABLE,T;if(e.set!=null){let A=e.set;T=g4({key:d,get:g,set:(z,U)=>A(i)(z,U),cachePolicy_UNSTABLE:_,dangerouslyAllowMutability:e.dangerouslyAllowMutability,retainedBy_UNSTABLE:I})}else T=g4({key:d,get:g,cachePolicy_UNSTABLE:_,dangerouslyAllowMutability:e.dangerouslyAllowMutability,retainedBy_UNSTABLE:I});return n.set(i,T),mXt(T.key,()=>{n.delete(i)}),T}}var qh=vXt,yXt=qh({key:"__constant",get:e=>()=>e,cachePolicyForParams_UNSTABLE:{equality:"reference"}});function _Xt(e){return yXt(e)}var bXt=_Xt,xXt=qh({key:"__error",get:e=>()=>{throw new Error(e)},cachePolicyForParams_UNSTABLE:{equality:"reference"}});function wXt(e){return xXt(e)}var SXt=wXt;function EXt(e){return e}var IXt=EXt,{loadableWithError:rOe,loadableWithPromise:nOe,loadableWithValue:iOe}=MS;function M4(e,t){let r=Array(t.length).fill(void 0),n=Array(t.length).fill(void 0);for(let[i,o]of t.entries())try{r[i]=e(o)}catch(u){n[i]=u}return[r,n]}function TXt(e){return e!=null&&!so(e)}function C4(e){return Array.isArray(e)?e:Object.getOwnPropertyNames(e).map(t=>e[t])}function pH(e){return e!=null&&typeof e=="object"&&e.hasOwnProperty("__value")?e.__value:e}function UG(e,t){return Array.isArray(e)?t:Object.getOwnPropertyNames(e).reduce((r,n,i)=>dr(rt({},r),{[n]:t[i]}),{})}function x1(e,t,r){let n=r.map((i,o)=>i==null?iOe(t[o]):so(i)?nOe(i):rOe(i));return UG(e,n)}function MXt(e,t){return t.map((r,n)=>r===void 0?e[n]:r)}var CXt=qh({key:"__waitForNone",get:e=>({get:t})=>{let r=C4(e),[n,i]=M4(t,r);return x1(e,n,i)},dangerouslyAllowMutability:!0}),AXt=qh({key:"__waitForAny",get:e=>({get:t})=>{let r=C4(e),[n,i]=M4(t,r);return i.some(o=>!so(o))?x1(e,n,i):new Promise(o=>{for(let[u,d]of i.entries())so(d)&&d.then(g=>{n[u]=pH(g),i[u]=void 0,o(x1(e,n,i))}).catch(g=>{i[u]=g,o(x1(e,n,i))})})},dangerouslyAllowMutability:!0}),PXt=qh({key:"__waitForAll",get:e=>({get:t})=>{let r=C4(e),[n,i]=M4(t,r);if(i.every(u=>u==null))return UG(e,n);let o=i.find(TXt);if(o!=null)throw o;return Promise.all(i).then(u=>UG(e,MXt(n,u).map(pH)))},dangerouslyAllowMutability:!0}),OXt=qh({key:"__waitForAllSettled",get:e=>({get:t})=>{let r=C4(e),[n,i]=M4(t,r);return i.every(o=>!so(o))?x1(e,n,i):Promise.all(i.map((o,u)=>so(o)?o.then(d=>{n[u]=pH(d),i[u]=void 0}).catch(d=>{n[u]=void 0,i[u]=d}):null)).then(()=>x1(e,n,i))},dangerouslyAllowMutability:!0}),DXt=qh({key:"__noWait",get:e=>({get:t})=>{try{return iOe(t(e))}catch(r){return so(r)?nOe(r):rOe(r)}},dangerouslyAllowMutability:!0}),kXt={waitForNone:CXt,waitForAny:AXt,waitForAll:PXt,waitForAllSettled:OXt,noWait:DXt},{batchUpdates:NXt,setBatcher:RXt}=JG,{DefaultValue:LXt}=cu,{RecoilRoot:qXt}=S4,{isRecoilValue:zXt}=Lh,{retentionZone:jXt}=y4,{freshSnapshot:FXt}=w4,{useGotoRecoilSnapshot:BXt,useRecoilCallback:UXt,useRecoilSnapshot:VXt,useRecoilState:$Xt,useRecoilStateLoadable:GXt,useRecoilTransaction:HXt,useRecoilTransactionObserver:WXt,useRecoilValue:ZXt,useRecoilValueLoadable:YXt,useResetRecoilState:KXt,useRetain:XXt,useSetRecoilState:QXt,useSetUnvalidatedAtomValues:JXt,useTransactionObservation_DEPRECATED:eQt}=lKt,{noWait:tQt,waitForAll:rQt,waitForAllSettled:nQt,waitForAny:iQt,waitForNone:oQt}=kXt,Tn={DefaultValue:LXt,RecoilRoot:qXt,useRecoilBridgeAcrossReactRoots_UNSTABLE:vKt,atom:eOe,selector:g4,retentionZone:jXt,atomFamily:hXt,selectorFamily:qh,constSelector:bXt,errorSelector:SXt,readOnlySelector:IXt,useRecoilValue:ZXt,useRecoilValueLoadable:YXt,useRecoilState:$Xt,useRecoilStateLoadable:GXt,useSetRecoilState:QXt,useResetRecoilState:KXt,useGetRecoilValueInfo_UNSTABLE:fKt,useRetain:XXt,useRecoilCallback:UXt,useRecoilTransaction_UNSTABLE:HXt,useGotoRecoilSnapshot:BXt,useRecoilSnapshot:VXt,useRecoilTransactionObserver_UNSTABLE:WXt,useTransactionObservation_UNSTABLE:eQt,useSetUnvalidatedAtomValues_UNSTABLE:JXt,noWait:tQt,waitForNone:oQt,waitForAny:iQt,waitForAll:rQt,waitForAllSettled:nQt,isRecoilValue:zXt,batchUpdates:NXt,setBatcher:RXt,snapshot_UNSTABLE:FXt},OZr=Tn.DefaultValue,oOe=Tn.RecoilRoot,DZr=Tn.useRecoilBridgeAcrossReactRoots_UNSTABLE,mn=Tn.atom,$g=Tn.selector,kZr=Tn.retentionZone,NZr=Tn.atomFamily,RZr=Tn.selectorFamily,LZr=Tn.constSelector,qZr=Tn.errorSelector,zZr=Tn.readOnlySelector,vr=Tn.useRecoilValue,jZr=Tn.useRecoilValueLoadable,qn=Tn.useRecoilState,FZr=Tn.useRecoilStateLoadable,zi=Tn.useSetRecoilState,BZr=Tn.useResetRecoilState,UZr=Tn.useGetRecoilValueInfo_UNSTABLE,VZr=Tn.useRetain,I1=Tn.useRecoilCallback,$Zr=Tn.useRecoilTransaction_UNSTABLE,GZr=Tn.useGotoRecoilSnapshot,HZr=Tn.useRecoilSnapshot,WZr=Tn.useRecoilTransactionObserver_UNSTABLE,ZZr=Tn.useTransactionObservation_UNSTABLE,YZr=Tn.useSetUnvalidatedAtomValues_UNSTABLE,KZr=Tn.noWait,XZr=Tn.waitForNone,QZr=Tn.waitForAny,JZr=Tn.waitForAll,eYr=Tn.waitForAllSettled,tYr=Tn.isRecoilValue,rYr=Tn.batchUpdates,nYr=Tn.setBatcher,iYr=Tn.snapshot_UNSTABLE;p();var yu=se(Je(),1),dc=se(Qt(),1);p();function dOe(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=dOe(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function lQt(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=dOe(e))&&(n&&(n+=" "),n+=t);return n}var wr=lQt;p();var nc=se(PS(),1);p();p();p();p();p();function OS(e,t){return function(){return e.apply(t,arguments)}}var{toString:uQt}=Object.prototype,{getPrototypeOf:mH}=Object,{iterator:P4,toStringTag:gOe}=Symbol,O4=(e=>t=>{let r=uQt.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),ec=e=>(e=e.toLowerCase(),t=>O4(t)===e),D4=e=>t=>typeof t===e,{isArray:M1}=Array,T1=D4("undefined");function DS(e){return e!==null&&!T1(e)&&e.constructor!==null&&!T1(e.constructor)&&Hs(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}var vOe=ec("ArrayBuffer");function cQt(e){let t;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&vOe(e.buffer),t}var pQt=D4("string"),Hs=D4("function"),yOe=D4("number"),kS=e=>e!==null&&typeof e=="object",fQt=e=>e===!0||e===!1,A4=e=>{if(O4(e)!=="object")return!1;let t=mH(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(gOe in e)&&!(P4 in e)},dQt=e=>{if(!kS(e)||DS(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch(t){return!1}},hQt=ec("Date"),mQt=ec("File"),gQt=ec("Blob"),vQt=ec("FileList"),yQt=e=>kS(e)&&Hs(e.pipe),_Qt=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Hs(e.append)&&((t=O4(e))==="formdata"||t==="object"&&Hs(e.toString)&&e.toString()==="[object FormData]"))},bQt=ec("URLSearchParams"),[xQt,wQt,SQt,EQt]=["ReadableStream","Request","Response","Headers"].map(ec),IQt=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function NS(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e=="undefined")return;let n,i;if(typeof e!="object"&&(e=[e]),M1(e))for(n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else{if(DS(e))return;let o=r?Object.getOwnPropertyNames(e):Object.keys(e),u=o.length,d;for(n=0;n<u;n++)d=o[n],t.call(null,e[d],d,e)}}function _Oe(e,t){if(DS(e))return null;t=t.toLowerCase();let r=Object.keys(e),n=r.length,i;for(;n-->0;)if(i=r[n],t===i.toLowerCase())return i;return null}var Gg=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:global,bOe=e=>!T1(e)&&e!==Gg;function hH(){let{caseless:e,skipUndefined:t}=bOe(this)&&this||{},r={},n=(i,o)=>{let u=e&&_Oe(r,o)||o;A4(r[u])&&A4(i)?r[u]=hH(r[u],i):A4(i)?r[u]=hH({},i):M1(i)?r[u]=i.slice():(!t||!T1(i))&&(r[u]=i)};for(let i=0,o=arguments.length;i<o;i++)arguments[i]&&NS(arguments[i],n);return r}var TQt=(e,t,r,{allOwnKeys:n}={})=>(NS(t,(i,o)=>{r&&Hs(i)?e[o]=OS(i,r):e[o]=i},{allOwnKeys:n}),e),MQt=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),CQt=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},AQt=(e,t,r,n)=>{let i,o,u,d={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),o=i.length;o-->0;)u=i[o],(!n||n(u,e,t))&&!d[u]&&(t[u]=e[u],d[u]=!0);e=r!==!1&&mH(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},PQt=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;let n=e.indexOf(t,r);return n!==-1&&n===r},OQt=e=>{if(!e)return null;if(M1(e))return e;let t=e.length;if(!yOe(t))return null;let r=new Array(t);for(;t-->0;)r[t]=e[t];return r},DQt=(e=>t=>e&&t instanceof e)(typeof Uint8Array!="undefined"&&mH(Uint8Array)),kQt=(e,t)=>{let n=(e&&e[P4]).call(e),i;for(;(i=n.next())&&!i.done;){let o=i.value;t.call(e,o[0],o[1])}},NQt=(e,t)=>{let r,n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},RQt=ec("HTMLFormElement"),LQt=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),mOe=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),qQt=ec("RegExp"),xOe=(e,t)=>{let r=Object.getOwnPropertyDescriptors(e),n={};NS(r,(i,o)=>{let u;(u=t(i,o,e))!==!1&&(n[o]=u||i)}),Object.defineProperties(e,n)},zQt=e=>{xOe(e,(t,r)=>{if(Hs(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;let n=e[r];if(Hs(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},jQt=(e,t)=>{let r={},n=i=>{i.forEach(o=>{r[o]=!0})};return M1(e)?n(e):n(String(e).split(t)),r},FQt=()=>{},BQt=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function UQt(e){return!!(e&&Hs(e.append)&&e[gOe]==="FormData"&&e[P4])}var VQt=e=>{let t=new Array(10),r=(n,i)=>{if(kS(n)){if(t.indexOf(n)>=0)return;if(DS(n))return n;if(!("toJSON"in n)){t[i]=n;let o=M1(n)?[]:{};return NS(n,(u,d)=>{let g=r(u,i+1);!T1(g)&&(o[d]=g)}),t[i]=void 0,o}}return n};return r(e,0)},$Qt=ec("AsyncFunction"),GQt=e=>e&&(kS(e)||Hs(e))&&Hs(e.then)&&Hs(e.catch),wOe=((e,t)=>e?setImmediate:t?((r,n)=>(Gg.addEventListener("message",({source:i,data:o})=>{i===Gg&&o===r&&n.length&&n.shift()()},!1),i=>{n.push(i),Gg.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Hs(Gg.postMessage)),HQt=typeof queueMicrotask!="undefined"?queueMicrotask.bind(Gg):typeof b!="undefined"&&b.nextTick||wOe,WQt=e=>e!=null&&Hs(e[P4]),Ke={isArray:M1,isArrayBuffer:vOe,isBuffer:DS,isFormData:_Qt,isArrayBufferView:cQt,isString:pQt,isNumber:yOe,isBoolean:fQt,isObject:kS,isPlainObject:A4,isEmptyObject:dQt,isReadableStream:xQt,isRequest:wQt,isResponse:SQt,isHeaders:EQt,isUndefined:T1,isDate:hQt,isFile:mQt,isBlob:gQt,isRegExp:qQt,isFunction:Hs,isStream:yQt,isURLSearchParams:bQt,isTypedArray:DQt,isFileList:vQt,forEach:NS,merge:hH,extend:TQt,trim:IQt,stripBOM:MQt,inherits:CQt,toFlatObject:AQt,kindOf:O4,kindOfTest:ec,endsWith:PQt,toArray:OQt,forEachEntry:kQt,matchAll:NQt,isHTMLForm:RQt,hasOwnProperty:mOe,hasOwnProp:mOe,reduceDescriptors:xOe,freezeMethods:zQt,toObjectSet:jQt,toCamelCase:LQt,noop:FQt,toFiniteNumber:BQt,findKey:_Oe,global:Gg,isContextDefined:bOe,isSpecCompliantForm:UQt,toJSONObject:VQt,isAsyncFn:$Qt,isThenable:GQt,setImmediate:wOe,asap:HQt,isIterable:WQt};p();p();p();p();p();function C1(e,t,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}Ke.inherits(C1,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ke.toJSONObject(this.config),code:this.code,status:this.status}}});var SOe=C1.prototype,EOe={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{EOe[e]={value:e}});Object.defineProperties(C1,EOe);Object.defineProperty(SOe,"isAxiosError",{value:!0});C1.from=(e,t,r,n,i,o)=>{let u=Object.create(SOe);Ke.toFlatObject(e,u,function(I){return I!==Error.prototype},_=>_!=="isAxiosError");let d=e&&e.message?e.message:"Error",g=t==null&&e?e.code:t;return C1.call(u,d,g,r,n,i),e&&u.cause==null&&Object.defineProperty(u,"cause",{value:e,configurable:!0}),u.name=e&&e.name||"Error",o&&Object.assign(u,o),u};var Br=C1;p();var k4=null;function gH(e){return Ke.isPlainObject(e)||Ke.isArray(e)}function TOe(e){return Ke.endsWith(e,"[]")?e.slice(0,-2):e}function IOe(e,t,r){return e?e.concat(t).map(function(i,o){return i=TOe(i),!r&&o?"["+i+"]":i}).join(r?".":""):t}function ZQt(e){return Ke.isArray(e)&&!e.some(gH)}var YQt=Ke.toFlatObject(Ke,{},null,function(t){return /^is[A-Z]/.test(t)});function KQt(e,t,r){if(!Ke.isObject(e))throw new TypeError("target must be an object");t=t||new(k4||FormData),r=Ke.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(U,N){return!Ke.isUndefined(N[U])});let n=r.metaTokens,i=r.visitor||I,o=r.dots,u=r.indexes,g=(r.Blob||typeof Blob!="undefined"&&Blob)&&Ke.isSpecCompliantForm(t);if(!Ke.isFunction(i))throw new TypeError("visitor must be a function");function _(z){if(z===null)return"";if(Ke.isDate(z))return z.toISOString();if(Ke.isBoolean(z))return z.toString();if(!g&&Ke.isBlob(z))throw new Br("Blob is not supported. Use a Buffer instead.");return Ke.isArrayBuffer(z)||Ke.isTypedArray(z)?g&&typeof Blob=="function"?new Blob([z]):Buffer.from(z):z}function I(z,U,N){let L=z;if(z&&!N&&typeof z=="object"){if(Ke.endsWith(U,"{}"))U=n?U:U.slice(0,-2),z=JSON.stringify(z);else if(Ke.isArray(z)&&ZQt(z)||(Ke.isFileList(z)||Ke.endsWith(U,"[]"))&&(L=Ke.toArray(z)))return U=TOe(U),L.forEach(function(H,Y){!(Ke.isUndefined(H)||H===null)&&t.append(u===!0?IOe([U],Y,o):u===null?U:U+"[]",_(H))}),!1}return gH(z)?!0:(t.append(IOe(N,U,o),_(z)),!1)}let T=[],A=Object.assign(YQt,{defaultVisitor:I,convertValue:_,isVisitable:gH});function q(z,U){if(!Ke.isUndefined(z)){if(T.indexOf(z)!==-1)throw Error("Circular reference detected in "+U.join("."));T.push(z),Ke.forEach(z,function(L,F){(!(Ke.isUndefined(L)||L===null)&&i.call(t,L,Ke.isString(F)?F.trim():F,U,A))===!0&&q(L,U?U.concat(F):[F])}),T.pop()}}if(!Ke.isObject(e))throw new TypeError("data must be an object");return q(e),t}var zh=KQt;function MOe(e){let t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function COe(e,t){this._pairs=[],e&&zh(e,this,t)}var AOe=COe.prototype;AOe.append=function(t,r){this._pairs.push([t,r])};AOe.toString=function(t){let r=t?function(n){return t.call(this,n,MOe)}:MOe;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};var N4=COe;function XQt(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function RS(e,t,r){if(!t)return e;let n=r&&r.encode||XQt;Ke.isFunction(r)&&(r={serialize:r});let i=r&&r.serialize,o;if(i?o=i(t,r):o=Ke.isURLSearchParams(t)?t.toString():new N4(t,r).toString(n),o){let u=e.indexOf("#");u!==-1&&(e=e.slice(0,u)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}p();var vH=class{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Ke.forEach(this.handlers,function(n){n!==null&&t(n)})}},yH=vH;p();p();p();p();var R4={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1};p();p();p();p();var POe=typeof URLSearchParams!="undefined"?URLSearchParams:N4;p();var OOe=typeof FormData!="undefined"?FormData:null;p();var DOe=typeof Blob!="undefined"?Blob:null;var kOe={isBrowser:!0,classes:{URLSearchParams:POe,FormData:OOe,Blob:DOe},protocols:["http","https","file","blob","url","data"]};var xH={};Kee(xH,{hasBrowserEnv:()=>bH,hasStandardBrowserEnv:()=>QQt,hasStandardBrowserWebWorkerEnv:()=>JQt,navigator:()=>_H,origin:()=>eJt});p();var bH=typeof window!="undefined"&&typeof document!="undefined",_H=typeof navigator=="object"&&navigator||void 0,QQt=bH&&(!_H||["ReactNative","NativeScript","NS"].indexOf(_H.product)<0),JQt=typeof WorkerGlobalScope!="undefined"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",eJt=bH&&window.location.href||"http://localhost";var Fi=rt(rt({},xH),kOe);function wH(e,t){return zh(e,new Fi.classes.URLSearchParams,rt({visitor:function(r,n,i,o){return Fi.isNode&&Ke.isBuffer(r)?(this.append(n,r.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},t))}p();function tJt(e){return Ke.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function rJt(e){let t={},r=Object.keys(e),n,i=r.length,o;for(n=0;n<i;n++)o=r[n],t[o]=e[o];return t}function nJt(e){function t(r,n,i,o){let u=r[o++];if(u==="__proto__")return!0;let d=Number.isFinite(+u),g=o>=r.length;return u=!u&&Ke.isArray(i)?i.length:u,g?(Ke.hasOwnProp(i,u)?i[u]=[i[u],n]:i[u]=n,!d):((!i[u]||!Ke.isObject(i[u]))&&(i[u]=[]),t(r,n,i[u],o)&&Ke.isArray(i[u])&&(i[u]=rJt(i[u])),!d)}if(Ke.isFormData(e)&&Ke.isFunction(e.entries)){let r={};return Ke.forEachEntry(e,(n,i)=>{t(tJt(n),i,r,0)}),r}return null}var L4=nJt;function iJt(e,t,r){if(Ke.isString(e))try{return(t||JSON.parse)(e),Ke.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}var SH={transitional:R4,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){let n=r.getContentType()||"",i=n.indexOf("application/json")>-1,o=Ke.isObject(t);if(o&&Ke.isHTMLForm(t)&&(t=new FormData(t)),Ke.isFormData(t))return i?JSON.stringify(L4(t)):t;if(Ke.isArrayBuffer(t)||Ke.isBuffer(t)||Ke.isStream(t)||Ke.isFile(t)||Ke.isBlob(t)||Ke.isReadableStream(t))return t;if(Ke.isArrayBufferView(t))return t.buffer;if(Ke.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let d;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return wH(t,this.formSerializer).toString();if((d=Ke.isFileList(t))||n.indexOf("multipart/form-data")>-1){let g=this.env&&this.env.FormData;return zh(d?{"files[]":t}:t,g&&new g,this.formSerializer)}}return o||i?(r.setContentType("application/json",!1),iJt(t)):t}],transformResponse:[function(t){let r=this.transitional||SH.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(Ke.isResponse(t)||Ke.isReadableStream(t))return t;if(t&&Ke.isString(t)&&(n&&!this.responseType||i)){let u=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(t,this.parseReviver)}catch(d){if(u)throw d.name==="SyntaxError"?Br.from(d,Br.ERR_BAD_RESPONSE,this,null,this.response):d}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Fi.classes.FormData,Blob:Fi.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ke.forEach(["delete","get","head","post","put","patch"],e=>{SH.headers[e]={}});var A1=SH;p();p();var oJt=Ke.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),NOe=e=>{let t={},r,n,i;return e&&e.split(`
`).forEach(function(u){i=u.indexOf(":"),r=u.substring(0,i).trim().toLowerCase(),n=u.substring(i+1).trim(),!(!r||t[r]&&oJt[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t};var ROe=Symbol("internals");function LS(e){return e&&String(e).trim().toLowerCase()}function q4(e){return e===!1||e==null?e:Ke.isArray(e)?e.map(q4):String(e)}function aJt(e){let t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g,n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}var sJt=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function EH(e,t,r,n,i){if(Ke.isFunction(n))return n.call(this,t,r);if(i&&(t=r),!!Ke.isString(t)){if(Ke.isString(n))return t.indexOf(n)!==-1;if(Ke.isRegExp(n))return n.test(t)}}function lJt(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function uJt(e,t){let r=Ke.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(i,o,u){return this[n].call(this,t,i,o,u)},configurable:!0})})}var P1=class{constructor(t){t&&this.set(t)}set(t,r,n){let i=this;function o(d,g,_){let I=LS(g);if(!I)throw new Error("header name must be a non-empty string");let T=Ke.findKey(i,I);(!T||i[T]===void 0||_===!0||_===void 0&&i[T]!==!1)&&(i[T||g]=q4(d))}let u=(d,g)=>Ke.forEach(d,(_,I)=>o(_,I,g));if(Ke.isPlainObject(t)||t instanceof this.constructor)u(t,r);else if(Ke.isString(t)&&(t=t.trim())&&!sJt(t))u(NOe(t),r);else if(Ke.isObject(t)&&Ke.isIterable(t)){let d={},g,_;for(let I of t){if(!Ke.isArray(I))throw TypeError("Object iterator must return a key-value pair");d[_=I[0]]=(g=d[_])?Ke.isArray(g)?[...g,I[1]]:[g,I[1]]:I[1]}u(d,r)}else t!=null&&o(r,t,n);return this}get(t,r){if(t=LS(t),t){let n=Ke.findKey(this,t);if(n){let i=this[n];if(!r)return i;if(r===!0)return aJt(i);if(Ke.isFunction(r))return r.call(this,i,n);if(Ke.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=LS(t),t){let n=Ke.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||EH(this,this[n],n,r)))}return!1}delete(t,r){let n=this,i=!1;function o(u){if(u=LS(u),u){let d=Ke.findKey(n,u);d&&(!r||EH(n,n[d],d,r))&&(delete n[d],i=!0)}}return Ke.isArray(t)?t.forEach(o):o(t),i}clear(t){let r=Object.keys(this),n=r.length,i=!1;for(;n--;){let o=r[n];(!t||EH(this,this[o],o,t,!0))&&(delete this[o],i=!0)}return i}normalize(t){let r=this,n={};return Ke.forEach(this,(i,o)=>{let u=Ke.findKey(n,o);if(u){r[u]=q4(i),delete r[o];return}let d=t?lJt(o):String(o).trim();d!==o&&delete r[o],r[d]=q4(i),n[d]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){let r=Object.create(null);return Ke.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=t&&Ke.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){let n=new this(t);return r.forEach(i=>n.set(i)),n}static accessor(t){let n=(this[ROe]=this[ROe]={accessors:{}}).accessors,i=this.prototype;function o(u){let d=LS(u);n[d]||(uJt(i,u),n[d]=!0)}return Ke.isArray(t)?t.forEach(o):o(t),this}};P1.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ke.reduceDescriptors(P1.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});Ke.freezeMethods(P1);var Lo=P1;function qS(e,t){let r=this||A1,n=t||r,i=Lo.from(n.headers),o=n.data;return Ke.forEach(e,function(d){o=d.call(r,o,i.normalize(),t?t.status:void 0)}),i.normalize(),o}p();function zS(e){return!!(e&&e.__CANCEL__)}p();function LOe(e,t,r){Br.call(this,e==null?"canceled":e,Br.ERR_CANCELED,t,r),this.name="CanceledError"}Ke.inherits(LOe,Br,{__CANCEL__:!0});var lp=LOe;p();p();p();function jS(e,t,r){let n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new Br("Request failed with status code "+r.status,[Br.ERR_BAD_REQUEST,Br.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}p();function IH(e){let t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}p();p();function cJt(e,t){e=e||10;let r=new Array(e),n=new Array(e),i=0,o=0,u;return t=t!==void 0?t:1e3,function(g){let _=Date.now(),I=n[o];u||(u=_),r[i]=g,n[i]=_;let T=o,A=0;for(;T!==i;)A+=r[T++],T=T%e;if(i=(i+1)%e,i===o&&(o=(o+1)%e),_-u<t)return;let q=I&&_-I;return q?Math.round(A*1e3/q):void 0}}var qOe=cJt;p();function pJt(e,t){let r=0,n=1e3/t,i,o,u=(_,I=Date.now())=>{r=I,i=null,o&&(clearTimeout(o),o=null),e(..._)};return[(..._)=>{let I=Date.now(),T=I-r;T>=n?u(_,I):(i=_,o||(o=setTimeout(()=>{o=null,u(i)},n-T)))},()=>i&&u(i)]}var zOe=pJt;var O1=(e,t,r=3)=>{let n=0,i=qOe(50,250);return zOe(o=>{let u=o.loaded,d=o.lengthComputable?o.total:void 0,g=u-n,_=i(g),I=u<=d;n=u;let T={loaded:u,total:d,progress:d?u/d:void 0,bytes:g,rate:_||void 0,estimated:_&&d&&I?(d-u)/_:void 0,event:o,lengthComputable:d!=null,[t?"download":"upload"]:!0};e(T)},r)},TH=(e,t)=>{let r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},MH=e=>(...t)=>Ke.asap(()=>e(...t));p();p();var jOe=Fi.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Fi.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Fi.origin),Fi.navigator&&/(msie|trident)/i.test(Fi.navigator.userAgent)):()=>!0;p();var FOe=Fi.hasStandardBrowserEnv?{write(e,t,r,n,i,o){let u=[e+"="+encodeURIComponent(t)];Ke.isNumber(r)&&u.push("expires="+new Date(r).toGMTString()),Ke.isString(n)&&u.push("path="+n),Ke.isString(i)&&u.push("domain="+i),o===!0&&u.push("secure"),document.cookie=u.join("; ")},read(e){let t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};p();p();function CH(e){return /^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}p();function AH(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function FS(e,t,r){let n=!CH(t);return e&&(n||r==!1)?AH(e,t):t}p();var BOe=e=>e instanceof Lo?rt({},e):e;function tc(e,t){t=t||{};let r={};function n(_,I,T,A){return Ke.isPlainObject(_)&&Ke.isPlainObject(I)?Ke.merge.call({caseless:A},_,I):Ke.isPlainObject(I)?Ke.merge({},I):Ke.isArray(I)?I.slice():I}function i(_,I,T,A){if(Ke.isUndefined(I)){if(!Ke.isUndefined(_))return n(void 0,_,T,A)}else return n(_,I,T,A)}function o(_,I){if(!Ke.isUndefined(I))return n(void 0,I)}function u(_,I){if(Ke.isUndefined(I)){if(!Ke.isUndefined(_))return n(void 0,_)}else return n(void 0,I)}function d(_,I,T){if(T in t)return n(_,I);if(T in e)return n(void 0,_)}let g={url:o,method:o,data:o,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,withXSRFToken:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:d,headers:(_,I,T)=>i(BOe(_),BOe(I),T,!0)};return Ke.forEach(Object.keys(rt(rt({},e),t)),function(I){let T=g[I]||i,A=T(e[I],t[I],I);Ke.isUndefined(A)&&T!==d||(r[I]=A)}),r}var z4=e=>{let t=tc({},e),{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:o,headers:u,auth:d}=t;if(t.headers=u=Lo.from(u),t.url=RS(FS(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),d&&u.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):""))),Ke.isFormData(r)){if(Fi.hasStandardBrowserEnv||Fi.hasStandardBrowserWebWorkerEnv)u.setContentType(void 0);else if(Ke.isFunction(r.getHeaders)){let g=r.getHeaders(),_=["content-type","content-length"];Object.entries(g).forEach(([I,T])=>{_.includes(I.toLowerCase())&&u.set(I,T)})}}if(Fi.hasStandardBrowserEnv&&(n&&Ke.isFunction(n)&&(n=n(t)),n||n!==!1&&jOe(t.url))){let g=i&&o&&FOe.read(o);g&&u.set(i,g)}return t};var fJt=typeof XMLHttpRequest!="undefined",UOe=fJt&&function(e){return new Promise(function(r,n){let i=z4(e),o=i.data,u=Lo.from(i.headers).normalize(),{responseType:d,onUploadProgress:g,onDownloadProgress:_}=i,I,T,A,q,z;function U(){q&&q(),z&&z(),i.cancelToken&&i.cancelToken.unsubscribe(I),i.signal&&i.signal.removeEventListener("abort",I)}let N=new XMLHttpRequest;N.open(i.method.toUpperCase(),i.url,!0),N.timeout=i.timeout;function L(){if(!N)return;let H=Lo.from("getAllResponseHeaders"in N&&N.getAllResponseHeaders()),te={data:!d||d==="text"||d==="json"?N.responseText:N.response,status:N.status,statusText:N.statusText,headers:H,config:e,request:N};jS(function(ue){r(ue),U()},function(ue){n(ue),U()},te),N=null}"onloadend"in N?N.onloadend=L:N.onreadystatechange=function(){!N||N.readyState!==4||N.status===0&&!(N.responseURL&&N.responseURL.indexOf("file:")===0)||setTimeout(L)},N.onabort=function(){N&&(n(new Br("Request aborted",Br.ECONNABORTED,e,N)),N=null)},N.onerror=function(Y){let te=Y&&Y.message?Y.message:"Network Error",oe=new Br(te,Br.ERR_NETWORK,e,N);oe.event=Y||null,n(oe),N=null},N.ontimeout=function(){let Y=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded",te=i.transitional||R4;i.timeoutErrorMessage&&(Y=i.timeoutErrorMessage),n(new Br(Y,te.clarifyTimeoutError?Br.ETIMEDOUT:Br.ECONNABORTED,e,N)),N=null},o===void 0&&u.setContentType(null),"setRequestHeader"in N&&Ke.forEach(u.toJSON(),function(Y,te){N.setRequestHeader(te,Y)}),Ke.isUndefined(i.withCredentials)||(N.withCredentials=!!i.withCredentials),d&&d!=="json"&&(N.responseType=i.responseType),_&&([A,z]=O1(_,!0),N.addEventListener("progress",A)),g&&N.upload&&([T,q]=O1(g),N.upload.addEventListener("progress",T),N.upload.addEventListener("loadend",q)),(i.cancelToken||i.signal)&&(I=H=>{N&&(n(!H||H.type?new lp(null,e,N):H),N.abort(),N=null)},i.cancelToken&&i.cancelToken.subscribe(I),i.signal&&(i.signal.aborted?I():i.signal.addEventListener("abort",I)));let F=IH(i.url);if(F&&Fi.protocols.indexOf(F)===-1){n(new Br("Unsupported protocol "+F+":",Br.ERR_BAD_REQUEST,e));return}N.send(o||null)})};p();p();var dJt=(e,t)=>{let{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,i,o=function(_){if(!i){i=!0,d();let I=_ instanceof Error?_:this.reason;n.abort(I instanceof Br?I:new lp(I instanceof Error?I.message:I))}},u=t&&setTimeout(()=>{u=null,o(new Br(`timeout ${t} of ms exceeded`,Br.ETIMEDOUT))},t),d=()=>{e&&(u&&clearTimeout(u),u=null,e.forEach(_=>{_.unsubscribe?_.unsubscribe(o):_.removeEventListener("abort",o)}),e=null)};e.forEach(_=>_.addEventListener("abort",o));let{signal:g}=n;return g.unsubscribe=()=>Ke.asap(d),g}},VOe=dJt;p();var hJt=function*(e,t){let r=e.byteLength;if(!t||r<t){yield e;return}let n=0,i;for(;n<r;)i=n+t,yield e.slice(n,i),n=i},mJt=function(e,t){return QL(this,null,function*(){try{for(var r=Qee(gJt(e)),n,i,o;n=!(i=yield new Zm(r.next())).done;n=!1){let u=i.value;yield*JL(hJt(u,t))}}catch(i){o=[i]}finally{try{n&&(i=r.return)&&(yield new Zm(i.call(r)))}finally{if(o)throw o[0]}}})},gJt=function(e){return QL(this,null,function*(){if(e[Symbol.asyncIterator]){yield*JL(e);return}let t=e.getReader();try{for(;;){let{done:r,value:n}=yield new Zm(t.read());if(r)break;yield n}}finally{yield new Zm(t.cancel())}})},PH=(e,t,r,n)=>{let i=mJt(e,t),o=0,u,d=_=>{u||(u=!0,n&&n(_))};return new ReadableStream({pull(_){return sn(this,null,function*(){try{let{done:I,value:T}=yield i.next();if(I){d(),_.close();return}let A=T.byteLength;if(r){let q=o+=A;r(q)}_.enqueue(new Uint8Array(T))}catch(I){throw d(I),I}})},cancel(_){return d(_),i.return()}},{highWaterMark:2})};var $Oe=64*1024,{isFunction:j4}=Ke,vJt=(({Request:e,Response:t})=>({Request:e,Response:t}))(Ke.global),{ReadableStream:GOe,TextEncoder:HOe}=Ke.global,WOe=(e,...t)=>{try{return!!e(...t)}catch(r){return!1}},yJt=e=>{e=Ke.merge.call({skipUndefined:!0},vJt,e);let{fetch:t,Request:r,Response:n}=e,i=t?j4(t):typeof fetch=="function",o=j4(r),u=j4(n);if(!i)return!1;let d=i&&j4(GOe),g=i&&(typeof HOe=="function"?(z=>U=>z.encode(U))(new HOe):z=>sn(null,null,function*(){return new Uint8Array(yield new r(z).arrayBuffer())})),_=o&&d&&WOe(()=>{let z=!1,U=new r(Fi.origin,{body:new GOe,method:"POST",get duplex(){return z=!0,"half"}}).headers.has("Content-Type");return z&&!U}),I=u&&d&&WOe(()=>Ke.isReadableStream(new n("").body)),T={stream:I&&(z=>z.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(z=>{!T[z]&&(T[z]=(U,N)=>{let L=U&&U[z];if(L)return L.call(U);throw new Br(`Response type '${z}' is not supported`,Br.ERR_NOT_SUPPORT,N)})});let A=z=>sn(null,null,function*(){if(z==null)return 0;if(Ke.isBlob(z))return z.size;if(Ke.isSpecCompliantForm(z))return(yield new r(Fi.origin,{method:"POST",body:z}).arrayBuffer()).byteLength;if(Ke.isArrayBufferView(z)||Ke.isArrayBuffer(z))return z.byteLength;if(Ke.isURLSearchParams(z)&&(z=z+""),Ke.isString(z))return(yield g(z)).byteLength}),q=(z,U)=>sn(null,null,function*(){let N=Ke.toFiniteNumber(z.getContentLength());return N==null?A(U):N});return z=>sn(null,null,function*(){let{url:U,method:N,data:L,signal:F,cancelToken:H,timeout:Y,onDownloadProgress:te,onUploadProgress:oe,responseType:ue,headers:Ie,withCredentials:Ee="same-origin",fetchOptions:ve}=z4(z),xe=t||fetch;ue=ue?(ue+"").toLowerCase():"text";let Pe=VOe([F,H&&H.toAbortSignal()],Y),we=null,Oe=Pe&&Pe.unsubscribe&&(()=>{Pe.unsubscribe()}),Xe;try{if(oe&&_&&N!=="get"&&N!=="head"&&(Xe=yield q(Ie,L))!==0){let wt=new r(U,{method:"POST",body:L,duplex:"half"}),Ge;if(Ke.isFormData(L)&&(Ge=wt.headers.get("content-type"))&&Ie.setContentType(Ge),wt.body){let[st,tt]=TH(Xe,O1(MH(oe)));L=PH(wt.body,$Oe,st,tt)}}Ke.isString(Ee)||(Ee=Ee?"include":"omit");let lt=o&&"credentials"in r.prototype,pt=dr(rt({},ve),{signal:Pe,method:N.toUpperCase(),headers:Ie.normalize().toJSON(),body:L,duplex:"half",credentials:lt?Ee:void 0});we=o&&new r(U,pt);let qe=yield o?xe(we,ve):xe(U,pt),ut=I&&(ue==="stream"||ue==="response");if(I&&(te||ut&&Oe)){let wt={};["status","statusText","headers"].forEach(je=>{wt[je]=qe[je]});let Ge=Ke.toFiniteNumber(qe.headers.get("content-length")),[st,tt]=te&&TH(Ge,O1(MH(te),!0))||[];qe=new n(PH(qe.body,$Oe,st,()=>{tt&&tt(),Oe&&Oe()}),wt)}ue=ue||"text";let bt=yield T[Ke.findKey(T,ue)||"text"](qe,z);return!ut&&Oe&&Oe(),yield new Promise((wt,Ge)=>{jS(wt,Ge,{data:bt,headers:Lo.from(qe.headers),status:qe.status,statusText:qe.statusText,config:z,request:we})})}catch(lt){throw Oe&&Oe(),lt&&lt.name==="TypeError"&&/Load failed|fetch/i.test(lt.message)?Object.assign(new Br("Network Error",Br.ERR_NETWORK,z,we),{cause:lt.cause||lt}):Br.from(lt,lt&&lt.code,z,we)}})},_Jt=new Map,OH=e=>{let t=e?e.env:{},{fetch:r,Request:n,Response:i}=t,o=[n,i,r],u=o.length,d=u,g,_,I=_Jt;for(;d--;)g=o[d],_=I.get(g),_===void 0&&I.set(g,_=d?new Map:yJt(t)),I=_;return _},RQr=OH();var DH={http:k4,xhr:UOe,fetch:{get:OH}};Ke.forEach(DH,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(r){}Object.defineProperty(e,"adapterName",{value:t})}});var ZOe=e=>`- ${e}`,xJt=e=>Ke.isFunction(e)||e===null||e===!1,F4={getAdapter:(e,t)=>{e=Ke.isArray(e)?e:[e];let{length:r}=e,n,i,o={};for(let u=0;u<r;u++){n=e[u];let d;if(i=n,!xJt(n)&&(i=DH[(d=String(n)).toLowerCase()],i===void 0))throw new Br(`Unknown adapter '${d}'`);if(i&&(Ke.isFunction(i)||(i=i.get(t))))break;o[d||"#"+u]=i}if(!i){let u=Object.entries(o).map(([g,_])=>`adapter ${g} `+(_===!1?"is not supported by the environment":"is not available in the build")),d=r?u.length>1?`since :
`+u.map(ZOe).join(`
`):" "+ZOe(u[0]):"as no adapter specified";throw new Br("There is no suitable adapter to dispatch the request "+d,"ERR_NOT_SUPPORT")}return i},adapters:DH};function kH(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new lp(null,e)}function B4(e){return kH(e),e.headers=Lo.from(e.headers),e.data=qS.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),F4.getAdapter(e.adapter||A1.adapter,e)(e).then(function(n){return kH(e),n.data=qS.call(e,e.transformResponse,n),n.headers=Lo.from(n.headers),n},function(n){return zS(n)||(kH(e),n&&n.response&&(n.response.data=qS.call(e,e.transformResponse,n.response),n.response.headers=Lo.from(n.response.headers))),Promise.reject(n)})}p();p();var U4="1.12.2";var V4={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{V4[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});var YOe={};V4.transitional=function(t,r,n){function i(o,u){return"[Axios v"+U4+"] Transitional option '"+o+"'"+u+(n?". "+n:"")}return(o,u,d)=>{if(t===!1)throw new Br(i(u," has been removed"+(r?" in "+r:"")),Br.ERR_DEPRECATED);return r&&!YOe[u]&&(YOe[u]=!0,console.warn(i(u," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(o,u,d):!0}};V4.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function wJt(e,t,r){if(typeof e!="object")throw new Br("options must be an object",Br.ERR_BAD_OPTION_VALUE);let n=Object.keys(e),i=n.length;for(;i-->0;){let o=n[i],u=t[o];if(u){let d=e[o],g=d===void 0||u(d,o,e);if(g!==!0)throw new Br("option "+o+" must be "+g,Br.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Br("Unknown option "+o,Br.ERR_BAD_OPTION)}}var BS={assertOptions:wJt,validators:V4};var up=BS.validators,D1=class{constructor(t){this.defaults=t||{},this.interceptors={request:new yH,response:new yH}}request(t,r){return sn(this,null,function*(){try{return yield this._request(t,r)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;let o=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?o&&!String(n.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+o):n.stack=o}catch(u){}}throw n}})}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=tc(this.defaults,r);let{transitional:n,paramsSerializer:i,headers:o}=r;n!==void 0&&BS.assertOptions(n,{silentJSONParsing:up.transitional(up.boolean),forcedJSONParsing:up.transitional(up.boolean),clarifyTimeoutError:up.transitional(up.boolean)},!1),i!=null&&(Ke.isFunction(i)?r.paramsSerializer={serialize:i}:BS.assertOptions(i,{encode:up.function,serialize:up.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),BS.assertOptions(r,{baseUrl:up.spelling("baseURL"),withXsrfToken:up.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let u=o&&Ke.merge(o.common,o[r.method]);o&&Ke.forEach(["delete","get","head","post","put","patch","common"],z=>{delete o[z]}),r.headers=Lo.concat(u,o);let d=[],g=!0;this.interceptors.request.forEach(function(U){typeof U.runWhen=="function"&&U.runWhen(r)===!1||(g=g&&U.synchronous,d.unshift(U.fulfilled,U.rejected))});let _=[];this.interceptors.response.forEach(function(U){_.push(U.fulfilled,U.rejected)});let I,T=0,A;if(!g){let z=[B4.bind(this),void 0];for(z.unshift(...d),z.push(..._),A=z.length,I=Promise.resolve(r);T<A;)I=I.then(z[T++],z[T++]);return I}A=d.length;let q=r;for(;T<A;){let z=d[T++],U=d[T++];try{q=z(q)}catch(N){U.call(this,N);break}}try{I=B4.call(this,q)}catch(z){return Promise.reject(z)}for(T=0,A=_.length;T<A;)I=I.then(_[T++],_[T++]);return I}getUri(t){t=tc(this.defaults,t);let r=FS(t.baseURL,t.url,t.allowAbsoluteUrls);return RS(r,t.params,t.paramsSerializer)}};Ke.forEach(["delete","get","head","options"],function(t){D1.prototype[t]=function(r,n){return this.request(tc(n||{},{method:t,url:r,data:(n||{}).data}))}});Ke.forEach(["post","put","patch"],function(t){function r(n){return function(o,u,d){return this.request(tc(d||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:o,data:u}))}}D1.prototype[t]=r(),D1.prototype[t+"Form"]=r(!0)});var US=D1;p();var NH=class e{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(o){r=o});let n=this;this.promise.then(i=>{if(!n._listeners)return;let o=n._listeners.length;for(;o-->0;)n._listeners[o](i);n._listeners=null}),this.promise.then=i=>{let o,u=new Promise(d=>{n.subscribe(d),o=d}).then(i);return u.cancel=function(){n.unsubscribe(o)},u},t(function(o,u,d){n.reason||(n.reason=new lp(o,u,d),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;let r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){let t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new e(function(i){t=i}),cancel:t}}},KOe=NH;p();function RH(e){return function(r){return e.apply(null,r)}}p();function LH(e){return Ke.isObject(e)&&e.isAxiosError===!0}p();var qH={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(qH).forEach(([e,t])=>{qH[t]=e});var XOe=qH;function QOe(e){let t=new US(e),r=OS(US.prototype.request,t);return Ke.extend(r,US.prototype,t,{allOwnKeys:!0}),Ke.extend(r,t,null,{allOwnKeys:!0}),r.create=function(i){return QOe(tc(e,i))},r}var So=QOe(A1);So.Axios=US;So.CanceledError=lp;So.CancelToken=KOe;So.isCancel=zS;So.VERSION=U4;So.toFormData=zh;So.AxiosError=Br;So.Cancel=So.CanceledError;So.all=function(t){return Promise.all(t)};So.spread=RH;So.isAxiosError=LH;So.mergeConfig=tc;So.AxiosHeaders=Lo;So.formToJSON=e=>L4(Ke.isHTMLForm(e)?new FormData(e):e);So.getAdapter=F4.getAdapter;So.HttpStatusCode=XOe;So.default=So;var ya=So;var{Axios:GJr,AxiosError:HJr,CanceledError:WJr,isCancel:ZJr,CancelToken:YJr,VERSION:KJr,all:XJr,Cancel:QJr,isAxiosError:JJr,spread:een,toFormData:ten,AxiosHeaders:ren,HttpStatusCode:nen,formToJSON:ien,getAdapter:oen,mergeConfig:aen}=ya;var k1={EN:"en",DE:"de"},SJt=Ft(b.env.DEV_MODE_SECRET)&&b.env.DEV_MODE_SECRET!==""&&Ft(b.env.DEV_MODE_NAME)&&b.env.DEV_MODE_NAME!=="",$4=()=>({"Dev-Mode-Secret":b.env.DEV_MODE_SECRET,"Dev-Mode-Name":b.env.DEV_MODE_NAME}),_s={BASEMAPS:[{id:"slub-osm",label:"SLUB OSM",urls:["https://tile-2.kartenforum.slub-dresden.de/styles/maptiler-basic-v2/style.json"],type:"vector",tileSize:512},{id:"bkg-topoplus",label:"BKG TopPlusOpen",urls:["https://sgx.geodatenzentrum.de/wms_topplus_open"],type:"wms",layers:"web",tileSize:512}],ENABLE_TILE_PRELOADING:!1,LANGUAGE_CODE:k1.EN,MARKER_IMAGE_ID:"marker",USERNAME:"anonymous",USER_ISAUTHENTICATED:!1,USER_ROLE:null},kr={axiosApiInstance:null,appendSettings(e){_s=Object.assign({},_s,e)},isDebug(){var e;return!!((e=b==null?void 0:b.env)!=null&&e.VKF_DEBUG)},getSettings(){return _s},getBaseMaps(){return _s.BASEMAPS},getDefaultBaseMapUrls(){return["https://tile-1.kartenforum.slub-dresden.de/styles/maptiler-basic-v2/{z}/{x}/{y}.png","https://tile-2.kartenforum.slub-dresden.de/styles/maptiler-basic-v2/{z}/{x}/{y}.png"]},getDefaultMapView(){return Object.assign({center:[14.9928,51.1463],zoom:6.3,maxZoom:19,minZoom:0},_s.MAPVIEW_PARAMS)},getLanguageDict(){return _s.dictionary},getMin3DZoomLevel(){return 9},getNominatimUrl(){return _s.NOMINATIM_URL},getTerrain(){return Object.assign({url:"https://terrain.kartenforum.slub-dresden.de/v2/{z}/{x}/{y}.png",attribution:"<a href='https://kartenforum.slub-dresden.de/attribution' target='_blank'>\xA9 U.S. Geological Survey and others</a>",exaggeration:1,minZoom:0,maxZoom:12},_s.TERRAIN_TILES)},getUsername(){return _s.USERNAME},isUserAuthenticated(){return _s.USER_ISAUTHENTICATED===!0},updateSettings(e){_s=e},_initAxiosApiInstance(){let e=_s.API_GEOREFERENCE_BASEURL,t=N1(e)&&e.length===0;if(!Ft(e)||t)throw new Error("The URL for the georeference service is not set.");let r=Object.assign({baseURL:e,withCredentials:!0},SJt?{headers:{get:$4(),post:$4(),put:$4(),delete:$4()}}:{});this.axiosApiInstance=ya.create(r)},getGeoreferenceApiClient(){return Ft(this.axiosApiInstance)?this.axiosApiInstance:(this._initAxiosApiInstance(),this.axiosApiInstance)},getMarkerSettings(){let e=_s.MARKER_URL;if(!Ft(e))throw new Error("The marker icon url is not set.");return{id:_s.MARKER_IMAGE_ID,url:e}},getUserRole(){return _s.USER_ROLE}};p();var EJt="vkf-unique-control-panel",jH="basemap-selector",zH=class{constructor(){ct(this,"id",jH)}onAdd(t){this._map=t;let r=`maplibregl-ctrl maplibregl-ctrl-group basemap-selector ${EJt}`,n=document.createElement("div");return n.className=r,this._container=n,n}onRemove(){this._container.parentNode.removeChild(this._container),this._map=void 0}},JOe=zH;p();var Hg=se(uDe(),1);p();var cDe=(e,t="control-feedback-container")=>{let r=document.getElementById(t);if(r===null){let n=e.getCanvasContainer();r=document.createElement("div"),r.id=t,n.appendChild(r)}return r};var G4=3,pDe=e=>`${(0,Hg.default)(e[0],7)},${(0,Hg.default)(e[1],7)}`,H4=class{constructor(){ct(this,"buttonCopyPosition");ct(this,"textElCurrentPosition");ct(this,"textElSavedPosition");ct(this,"targetEl");ct(this,"_container");ct(this,"_button");ct(this,"savedPosition");ct(this,"generateSavedText",()=>{if(this.savedPosition===void 0)return this.buttonCopyPosition!==void 0&&(this.buttonCopyPosition.style.display="none"),gt("control-mouseposition-save-helper");{let t=gt("control-mouseposition-saved-label");return this.buttonCopyPosition!==void 0&&(this.buttonCopyPosition.style.display="block"),t+": Lon: "+(0,Hg.default)(this.savedPosition[0],G4)+" Lat: "+(0,Hg.default)(this.savedPosition[1],G4)}});ct(this,"savePosition",t=>{if(this._map){let r=t.lngLat.toArray();this.savedPosition=r.slice(),navigator.clipboard.writeText(pDe(r)),this.updatePosition(t)}});ct(this,"updatePosition",t=>{let r=this.textElCurrentPosition,n=this.textElSavedPosition,{lngLat:i}=t;r.innerHTML="Lon: "+(0,Hg.default)(i.lng,G4)+", Lat: "+(0,Hg.default)(i.lat,G4),n.innerHTML=this.generateSavedText()});ct(this,"handleCopyButtonClick",t=>{t.preventDefault(),t.stopPropagation();let r=this.savedPosition;r!==void 0&&navigator.clipboard.writeText(pDe(r)),t.target.blur()});ct(this,"toggleMousePosition",t=>{t.preventDefault();let r="active",n=this._button.classList.contains(r),i=this._map;if(!i)return;this._button.classList.toggle(r);let o=this.targetEl,u=cDe(i);if(this.targetEl===void 0){o=document.createElement("div"),o.className="ol-control ol-mouse-position-box";let d=document.createElement("p");this.textElCurrentPosition=d;let g=document.createElement("p");this.textElSavedPosition=g;let _=document.createElement("button");_.id="position-copy-to-clipboard",_.innerHTML="<span class=\"glyphicon glyphicon-copy\"></span>",_.title=gt("control-mouseposition-button-title"),this.buttonCopyPosition=_,_.addEventListener("click",this.handleCopyButtonClick);let I=document.createElement("div");I.className="saved-position-container",I.appendChild(g),I.appendChild(_),o.appendChild(d),o.appendChild(I),u.appendChild(o),this.targetEl=o}else this.textElCurrentPosition.innerHTML="",this.textElSavedPosition.innerHTML="";n?(i.off("mousemove",this.updatePosition),i.off("click",this.savePosition)):(this.savedPosition=void 0,i.on("mousemove",this.updatePosition),i.on("click",this.savePosition)),this.updatePosition({lngLat:i.unproject([t.clientX,t.clientY])}),o.classList.toggle(r),u.classList.toggle(`mouseposition-${r}`)})}onAdd(t){this._map=t;let r=document.createElement("div");r.className="maplibregl-ctrl maplibregl-ctrl-group";let n=document.createElement("button");return n.title=gt("control-mouseposition-title"),n.className="maplibregl-ctrl-mouse-position",n.type="button",r.appendChild(n),this._container=r,this._button=n,n.addEventListener("click",this.toggleMousePosition,!1),this._container}onRemove(){this._map.off("mousemove",this.updatePosition),this._map.off("click",this.savePosition),this._map=null,this._container.parentNode.removeChild(this._container)}};p();p();function fDe(e,t){for(let r of e)typeof t[r]=="function"&&(t[r]=t[r].bind(t))}function R1(e,t,r){let n=window.document.createElement(e);return t!==void 0&&(n.className=t),r&&r.appendChild(n),n}function dDe(e){e.parentNode&&e.parentNode.removeChild(e)}var UH="permalink-control",BH=class{constructor(){ct(this,"id",UH)}onAdd(t){return this._map=t,this._container=R1("div","maplibregl-ctrl maplibregl-ctrl-group permalink-control"),this._container}onRemove(){this._container.parentNode.removeChild(this._container),this._map=void 0}},hDe=BH;p();p();p();var jh="vkf-terrain";var mDe=new Set(["fill-opacity","line-opacity","circle-opacity","icon-opacity","text-opacity","raster-opacity"]),gDe=new Set(["visibility"]),Ws={None:"NONE",BasemapSelector:"BASEMAP_SELECTOR",Permalink:"PERMALINK"},rc={controlAdded:"controlAdded",controlRemoved:"controlRemoved",opacityChanged:"opacityChanged",visibilityChanged:"visibilityChanged"};p();function VH(e,t){return new Promise(function(r){let n=()=>{r(!1)},i=()=>{t.signal.removeEventListener("abort",n)};t.signal.addEventListener("abort",n,{once:!0}),e.once("moveend",()=>{r(!0),i()}),e.once("touchstart",()=>{r(!1),i()}),e.once("mousedown",()=>{r(!1),i()}),e.flyTo(t)})}function vDe(e){return new Promise(t=>setTimeout(t,e))}var yDe=se(PS(),1);var Fh="vkf.globemodechange",W4=class extends yDe.Map{constructor(){super(...arguments);ct(this,"terrainConfiguration",kr.getTerrain());ct(this,"terrainExaggeration",this.terrainConfiguration.exaggeration);ct(this,"isVkfGlobeModeEnabledFlag",!1);ct(this,"abortController",new AbortController);ct(this,"minZoomLevelForTerrain",12);ct(this,"minZoomLevelForPitchAnimation",4)}enableVkfGlobeMode(){this.isVkfGlobeModeEnabledFlag=!0,this.fire(Fh),this.on("zoomend",this._handleZoomBasedTerrainEnabling);let r=()=>{VH(this,this._getFlyToOptions(60)).then(()=>vDe(500)).then(()=>{this._growTerrain(this.terrainExaggeration)})},n=this.getZoom();if(n>this.minZoomLevelForPitchAnimation){if(n>=this.minZoomLevelForTerrain){this._enableTerrain(r),this.setProjection({type:"mercator"});return}this.setProjection({type:"globe"}),this.flyTo(this._getFlyToOptions(60))}else this.setProjection({type:"globe"})}disableVkfGlobeMode(){this.isVkfGlobeModeEnabledFlag=!1,this.fire(Fh),this.off("zoomend",this._handleZoomBasedTerrainEnabling);let r=()=>{VH(this,this._getFlyToOptions(0))};if(this.terrain){this._disableTerrain(r),this.setProjection({type:"mercator"});return}this.flyTo(this._getFlyToOptions(0)),this.setProjection({type:"mercator"})}isVkfGlobeModeEnabled(){return this.isVkfGlobeModeEnabledFlag}_growTerrain(r,n=1e3){if(!this.terrain)return;let i=performance.now(),o=this.terrain.exaggeration,u=r-o,d=()=>{if(!this.terrain||this.terrainFlattening)return;let g=(performance.now()-i)/n;if(g<.99){let _=1-af(1-g,4),I=o+_*u;this.terrain.exaggeration=I,requestAnimationFrame(d)}else this.terrainGrowing=!1,this.terrainFlattening=!1,this.terrain.exaggeration=r;this._elevationFreeze=!1,this.triggerRepaint()};this.terrainGrowing=!0,this.terrainFlattening=!1,requestAnimationFrame(d)}_maybeDispatchGrowTerrain(r){let n=o=>sn(this,null,function*(){!this.terrain||o.type!=="data"||o.dataType!=="source"||!("source"in o)||o.sourceId!==jh||o.source.type!=="raster-dem"||o.isSourceLoaded&&(this.off("data",n),r())});this.getSource(jh).loaded()?r():this.on("data",n)}_addTerrainSource(){this.addSource(jh,{attribution:this.terrainConfiguration.attribution,type:"raster-dem",tiles:[this.terrainConfiguration.url],tileSize:256,minzoom:this.terrainConfiguration.minZoom,maxzoom:this.terrainConfiguration.maxZoom,encoding:"terrarium"}),this.setTerrain({source:jh,exaggeration:0})}_enableTerrain(r){let n=this.terrainExaggeration;if(n<0){console.warn("Terrain exaggeration cannot be negative.");return}if(this.getTerrain()){this._growTerrain(n);return}this.loaded()||this.isVkfGlobeModeEnabled()?(this._addTerrainSource(),this._maybeDispatchGrowTerrain(r)):this.once("load",()=>{this.getTerrain()&&this.getSource(jh)||(this._addTerrainSource(),this._maybeDispatchGrowTerrain(r))})}_disableTerrain(r=()=>{}){if(!this.terrain)return;let n=1*1e3,i=performance.now(),o=this.terrain.exaggeration,u=()=>{if(!this.terrain||this.terrainGrowing)return;let d=(performance.now()-i)/n;if(this._elevationFreeze=!1,d<.99){let g=af(1-d,4),_=o*g;this.terrain.exaggeration=_,requestAnimationFrame(u)}else this.terrain.exaggeration=0,this.terrainGrowing=!1,this.terrainFlattening=!1,this.setTerrain(),this.getSource(jh)&&this.removeSource(jh),r();this.triggerRepaint()};this.terrainGrowing=!1,this.terrainFlattening=!0,requestAnimationFrame(u)}_getFlyToOptions(r){return this.abortController.abort(),this.abortController=new AbortController,{signal:this.abortController.signal,pitch:r,duration:700}}_handleZoomBasedTerrainEnabling(){if(this.getZoom()>=this.minZoomLevelForTerrain){this._enableTerrain(()=>{this._growTerrain(this.terrainExaggeration),this.setProjection({type:"mercator"})});return}this._disableTerrain(()=>{this.setProjection({type:"globe"})})}};var Z4=class{constructor(){ct(this,"_map");ct(this,"_container");ct(this,"_button");fDe(["_toggleState","_updateIcon","_toggleProjection"],this)}onAdd(t){return this._map=t,this._container=R1("div","maplibregl-ctrl maplibregl-ctrl-group"),this._button=R1("button","maplibregl-ctrl-terrain",this._container),R1("span","maplibregl-ctrl-icon",this._button).setAttribute("aria-hidden","true"),this._button.type="button",this._button.addEventListener("click",this._toggleState),this._updateIcon(),this._map.on(Fh,this._updateIcon),this._container}onRemove(){dDe(this._container),this._map.off(Fh,this._updateIcon),this._map=void 0}_isVkfGlobeModeEnabled(){return this._map.isVkfGlobeModeEnabled()}_toggleState(){this._isVkfGlobeModeEnabled()?this._map.disableVkfGlobeMode():this._map.enableVkfGlobeMode(),this._updateIcon()}_updateIcon(){this._button.classList.remove("maplibregl-ctrl-vkf-globe-mode"),this._button.classList.remove("maplibregl-ctrl-vkf-globe-mode-enabled"),this._isVkfGlobeModeEnabled()?(this._button.classList.add("maplibregl-ctrl-vkf-globe-mode-enabled"),this._button.title=this._map._getUIString("VkfGlobeModeControl.Disable")):(this._button.classList.add("maplibregl-ctrl-vkf-globe-mode"),this._button.title=this._map._getUIString("VkfGlobeModeControl.Enable"))}};function Ft(e){return e!=null}function N1(e){return typeof e=="string"||e instanceof String}function Y4(e){let t;try{t=new URL(e)}catch(r){return!1}return t.protocol==="http:"||t.protocol==="https:"}function gt(e){let t=kr.getLanguageDict();if(t===void 0)throw new Error("Dictionary is undefined.");let r=t[e];return r===void 0?(console.warn(`Translation for key "${e}" was not found in dictionary.`),""):r}var _De=()=>[{position:"top-left",control:new nc.NavigationControl({showZoom:!0,showCompass:!1,visualizePitch:!1})},{position:"top-left",control:new nc.FullscreenControl({container:document.body})},{position:"top-left",control:new nc.NavigationControl({showZoom:!1,showCompass:!0,visualizePitch:!0})},{position:"top-left",control:new H4},{position:"top-left",control:new Z4},{position:"top-left",control:new JOe},{position:"top-left",control:new nc.GeolocateControl({trackUserLocation:!0})},{position:"top-left",control:new hDe},{position:"bottom-right",control:new nc.AttributionControl({compact:!0})},{position:"bottom-right",control:new nc.ScaleControl({maxWidth:137})}];p();p();p();var bDe={NONE:0,FEATURE:1,METADATA:2,HISTORY:3},xDe={NONE:0,METADATA:1},cp={HORIZONTAL:"HORIZONTAL",VERTICAL:"VERTICAL"},wDe={STANDARD:"STANDARD",DRAW:"DRAW",VECTOR_MAP_EXTERNAL:"VECTOR_MAP_EXTERNAL"};var SDe=e=>{switch(e){case cp.HORIZONTAL:default:return"ol-map-large";case cp.VERTICAL:return"ol-map-small"}};p();p();p();p();p();p();var Kt={id:"id",timeChanged:"time_changed",title:"title",thumbnailUrl:"thumb_url",bounds:"bounds",hasGeoReference:"has_georeference",tmsUrls:"tms_urls",onlineResources:"online_resources",mapScale:"map_scale",rawMapIds:"raw_map_ids",name:"name",description:"description",timePeriod:"time_period",externalContentUrl:"external_content_url",externalContentType:"external_content_type",type:"type",vectorMapId:"vector_map_id",version:"version",userRole:"user_role"},pp={id:"vkf:layer_id",contentType:"vkf:content_type"},Wg={VKF:"vkf:geojson-spec-v1",IDOHIST:"idohist:idohist-v1"},Ha={HISTORIC_MAP:"historic_map",MOSAIC_MAP:"mosaic",VECTOR_MAP:"vector",LEGACY_GEOJSON:"geojson"},kf={VISIBLE:"visible",NONE:"none"};p();p();p();var $Jt=Math.pow(10,8)*24*60*60*1e3,atn=-$Jt,K4=6048e5,EDe=864e5,VS=6e4,$S=36e5,IDe=1e3;var GJt=3600;var TDe=GJt*24,stn=TDe*7,HJt=TDe*365.2425,WJt=HJt/12,ltn=WJt*3,$H=Symbol.for("constructDateFrom");function Mn(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&$H in e?e[$H](t):e instanceof Date?new e.constructor(t):new Date(t)}p();function Kr(e,t){return Mn(t||e,e)}function X4(e,t,r){let n=Kr(e,r==null?void 0:r.in);return isNaN(t)?Mn((r==null?void 0:r.in)||e,NaN):(t&&n.setDate(n.getDate()+t),n)}p();p();p();p();var ZJt={};function pu(){return ZJt}function Zs(e,t){var d,g,_,I,T,A,q,z;let r=pu(),n=(z=(q=(I=(_=t==null?void 0:t.weekStartsOn)!=null?_:(g=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:g.weekStartsOn)!=null?I:r.weekStartsOn)!=null?q:(A=(T=r.locale)==null?void 0:T.options)==null?void 0:A.weekStartsOn)!=null?z:0,i=Kr(e,t==null?void 0:t.in),o=i.getDay(),u=(o<n?7:0)+o-n;return i.setDate(i.getDate()-u),i.setHours(0,0,0,0),i}function ic(e,t){return Zs(e,dr(rt({},t),{weekStartsOn:1}))}function Q4(e,t){let r=Kr(e,t==null?void 0:t.in),n=r.getFullYear(),i=Mn(r,0);i.setFullYear(n+1,0,4),i.setHours(0,0,0,0);let o=ic(i),u=Mn(r,0);u.setFullYear(n,0,4),u.setHours(0,0,0,0);let d=ic(u);return r.getTime()>=o.getTime()?n+1:r.getTime()>=d.getTime()?n:n-1}p();p();function Zg(e){let t=Kr(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}p();function J4(e,...t){let r=Mn.bind(null,e||t.find(n=>typeof n=="object"));return t.map(r)}p();function GS(e,t){let r=Kr(e,t==null?void 0:t.in);return r.setHours(0,0,0,0),r}function MDe(e,t,r){let[n,i]=J4(r==null?void 0:r.in,e,t),o=GS(n),u=GS(i),d=+o-Zg(o),g=+u-Zg(u);return Math.round((d-g)/EDe)}p();function CDe(e,t){let r=Q4(e,t),n=Mn((t==null?void 0:t.in)||e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),ic(n)}p();p();function ADe(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function eP(e){return!(!ADe(e)&&typeof e!="number"||isNaN(+Kr(e)))}p();function PDe(e,t){let r=Kr(e,t==null?void 0:t.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}p();p();p();p();var YJt={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},ODe=(e,t,r)=>{let n,i=YJt[e];return typeof i=="string"?n=i:t===1?n=i.one:n=i.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};p();p();function tP(e){return(t={})=>{let r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}var KJt={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},XJt={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},QJt={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},DDe={date:tP({formats:KJt,defaultWidth:"full"}),time:tP({formats:XJt,defaultWidth:"full"}),dateTime:tP({formats:QJt,defaultWidth:"full"})};p();var JJt={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},kDe=(e,t,r,n)=>JJt[e];p();p();function L1(e){return(t,r)=>{let n=r!=null&&r.context?String(r.context):"standalone",i;if(n==="formatting"&&e.formattingValues){let u=e.defaultFormattingWidth||e.defaultWidth,d=r!=null&&r.width?String(r.width):u;i=e.formattingValues[d]||e.formattingValues[u]}else{let u=e.defaultWidth,d=r!=null&&r.width?String(r.width):e.defaultWidth;i=e.values[d]||e.values[u]}let o=e.argumentCallback?e.argumentCallback(t):t;return i[o]}}var eer={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ter={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},rer={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},ner={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},ier={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},oer={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},aer=(e,t)=>{let r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},NDe={ordinalNumber:aer,era:L1({values:eer,defaultWidth:"wide"}),quarter:L1({values:ter,defaultWidth:"wide",argumentCallback:e=>e-1}),month:L1({values:rer,defaultWidth:"wide"}),day:L1({values:ner,defaultWidth:"wide"}),dayPeriod:L1({values:ier,defaultWidth:"wide",formattingValues:oer,defaultFormattingWidth:"wide"})};p();p();function q1(e){return(t,r={})=>{let n=r.width,i=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],o=t.match(i);if(!o)return null;let u=o[0],d=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],g=Array.isArray(d)?ler(d,T=>T.test(u)):ser(d,T=>T.test(u)),_;_=e.valueCallback?e.valueCallback(g):g,_=r.valueCallback?r.valueCallback(_):_;let I=t.slice(u.length);return{value:_,rest:I}}}function ser(e,t){for(let r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function ler(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}p();function RDe(e){return(t,r={})=>{let n=t.match(e.matchPattern);if(!n)return null;let i=n[0],o=t.match(e.parsePattern);if(!o)return null;let u=e.valueCallback?e.valueCallback(o[0]):o[0];u=r.valueCallback?r.valueCallback(u):u;let d=t.slice(i.length);return{value:u,rest:d}}}var uer=/^(\d+)(th|st|nd|rd)?/i,cer=/\d+/i,per={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},fer={any:[/^b/i,/^(a|c)/i]},der={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},her={any:[/1/i,/2/i,/3/i,/4/i]},mer={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},ger={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},ver={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},yer={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},_er={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},ber={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},LDe={ordinalNumber:RDe({matchPattern:uer,parsePattern:cer,valueCallback:e=>parseInt(e,10)}),era:q1({matchPatterns:per,defaultMatchWidth:"wide",parsePatterns:fer,defaultParseWidth:"any"}),quarter:q1({matchPatterns:der,defaultMatchWidth:"wide",parsePatterns:her,defaultParseWidth:"any",valueCallback:e=>e+1}),month:q1({matchPatterns:mer,defaultMatchWidth:"wide",parsePatterns:ger,defaultParseWidth:"any"}),day:q1({matchPatterns:ver,defaultMatchWidth:"wide",parsePatterns:yer,defaultParseWidth:"any"}),dayPeriod:q1({matchPatterns:_er,defaultMatchWidth:"any",parsePatterns:ber,defaultParseWidth:"any"})};var HS={code:"en-US",formatDistance:ODe,formatLong:DDe,formatRelative:kDe,localize:NDe,match:LDe,options:{weekStartsOn:0,firstWeekContainsDate:1}};p();p();function qDe(e,t){let r=Kr(e,t==null?void 0:t.in);return MDe(r,PDe(r))+1}p();function rP(e,t){let r=Kr(e,t==null?void 0:t.in),n=+ic(r)-+CDe(r);return Math.round(n/K4)+1}p();p();p();function z1(e,t){var I,T,A,q,z,U,N,L;let r=Kr(e,t==null?void 0:t.in),n=r.getFullYear(),i=pu(),o=(L=(N=(q=(A=t==null?void 0:t.firstWeekContainsDate)!=null?A:(T=(I=t==null?void 0:t.locale)==null?void 0:I.options)==null?void 0:T.firstWeekContainsDate)!=null?q:i.firstWeekContainsDate)!=null?N:(U=(z=i.locale)==null?void 0:z.options)==null?void 0:U.firstWeekContainsDate)!=null?L:1,u=Mn((t==null?void 0:t.in)||e,0);u.setFullYear(n+1,0,o),u.setHours(0,0,0,0);let d=Zs(u,t),g=Mn((t==null?void 0:t.in)||e,0);g.setFullYear(n,0,o),g.setHours(0,0,0,0);let _=Zs(g,t);return+r>=+d?n+1:+r>=+_?n:n-1}function zDe(e,t){var d,g,_,I,T,A,q,z;let r=pu(),n=(z=(q=(I=(_=t==null?void 0:t.firstWeekContainsDate)!=null?_:(g=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:g.firstWeekContainsDate)!=null?I:r.firstWeekContainsDate)!=null?q:(A=(T=r.locale)==null?void 0:T.options)==null?void 0:A.firstWeekContainsDate)!=null?z:1,i=z1(e,t),o=Mn((t==null?void 0:t.in)||e,0);return o.setFullYear(i,0,n),o.setHours(0,0,0,0),Zs(o,t)}function nP(e,t){let r=Kr(e,t==null?void 0:t.in),n=+Zs(r,t)-+zDe(r,t);return Math.round(n/K4)+1}p();function dn(e,t){let r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}p();var Nf={y(e,t){let r=e.getFullYear(),n=r>0?r:1-r;return dn(t==="yy"?n%100:n,t.length)},M(e,t){let r=e.getMonth();return t==="M"?String(r+1):dn(r+1,2)},d(e,t){return dn(e.getDate(),t.length)},a(e,t){let r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return dn(e.getHours()%12||12,t.length)},H(e,t){return dn(e.getHours(),t.length)},m(e,t){return dn(e.getMinutes(),t.length)},s(e,t){return dn(e.getSeconds(),t.length)},S(e,t){let r=t.length,n=e.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return dn(i,t.length)}};var j1={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},GH={G:function(e,t,r){let n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){let n=e.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return Nf.y(e,t)},Y:function(e,t,r,n){let i=z1(e,n),o=i>0?i:1-i;if(t==="YY"){let u=o%100;return dn(u,2)}return t==="Yo"?r.ordinalNumber(o,{unit:"year"}):dn(o,t.length)},R:function(e,t){let r=Q4(e);return dn(r,t.length)},u:function(e,t){let r=e.getFullYear();return dn(r,t.length)},Q:function(e,t,r){let n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return dn(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){let n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return dn(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){let n=e.getMonth();switch(t){case"M":case"MM":return Nf.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){let n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return dn(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){let i=nP(e,n);return t==="wo"?r.ordinalNumber(i,{unit:"week"}):dn(i,t.length)},I:function(e,t,r){let n=rP(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):dn(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Nf.d(e,t)},D:function(e,t,r){let n=qDe(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):dn(n,t.length)},E:function(e,t,r){let n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){let i=e.getDay(),o=(i-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return dn(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){let i=e.getDay(),o=(i-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return dn(o,t.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,r){let n=e.getDay(),i=n===0?7:n;switch(t){case"i":return String(i);case"ii":return dn(i,t.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){let i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,r){let n=e.getHours(),i;switch(n===12?i=j1.noon:n===0?i=j1.midnight:i=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,r){let n=e.getHours(),i;switch(n>=17?i=j1.evening:n>=12?i=j1.afternoon:n>=4?i=j1.morning:i=j1.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Nf.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Nf.H(e,t)},K:function(e,t,r){let n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):dn(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):dn(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Nf.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Nf.s(e,t)},S:function(e,t){return Nf.S(e,t)},X:function(e,t,r){let n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return FDe(n);case"XXXX":case"XX":return Yg(n);case"XXXXX":case"XXX":default:return Yg(n,":")}},x:function(e,t,r){let n=e.getTimezoneOffset();switch(t){case"x":return FDe(n);case"xxxx":case"xx":return Yg(n);case"xxxxx":case"xxx":default:return Yg(n,":")}},O:function(e,t,r){let n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+jDe(n,":");case"OOOO":default:return"GMT"+Yg(n,":")}},z:function(e,t,r){let n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+jDe(n,":");case"zzzz":default:return"GMT"+Yg(n,":")}},t:function(e,t,r){let n=Math.trunc(+e/1e3);return dn(n,t.length)},T:function(e,t,r){return dn(+e,t.length)}};function jDe(e,t=""){let r=e>0?"-":"+",n=Math.abs(e),i=Math.trunc(n/60),o=n%60;return o===0?r+String(i):r+String(i)+t+dn(o,2)}function FDe(e,t){return e%60===0?(e>0?"-":"+")+dn(Math.abs(e)/60,2):Yg(e,t)}function Yg(e,t=""){let r=e>0?"-":"+",n=Math.abs(e),i=dn(Math.trunc(n/60),2),o=dn(n%60,2);return r+i+t+o}p();var BDe=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},UDe=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},xer=(e,t)=>{let r=e.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return BDe(e,t);let o;switch(n){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",BDe(n,t)).replace("{{time}}",UDe(i,t))},WS={p:UDe,P:xer};p();var wer=/^D+$/,Ser=/^Y+$/,Eer=["D","DD","YY","YYYY"];function iP(e){return wer.test(e)}function oP(e){return Ser.test(e)}function ZS(e,t,r){let n=Ier(e,t,r);if(console.warn(n),Eer.includes(e))throw new RangeError(n)}function Ier(e,t,r){let n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}var Ter=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Mer=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Cer=/^'([^]*?)'?$/,Aer=/''/g,Per=/[a-zA-Z]/;function HH(e,t,r){var I,T,A,q,z,U,N,L,F,H,Y,te,oe,ue,Ie,Ee,ve,xe;let n=pu(),i=(T=(I=r==null?void 0:r.locale)!=null?I:n.locale)!=null?T:HS,o=(H=(F=(U=(z=r==null?void 0:r.firstWeekContainsDate)!=null?z:(q=(A=r==null?void 0:r.locale)==null?void 0:A.options)==null?void 0:q.firstWeekContainsDate)!=null?U:n.firstWeekContainsDate)!=null?F:(L=(N=n.locale)==null?void 0:N.options)==null?void 0:L.firstWeekContainsDate)!=null?H:1,u=(xe=(ve=(ue=(oe=r==null?void 0:r.weekStartsOn)!=null?oe:(te=(Y=r==null?void 0:r.locale)==null?void 0:Y.options)==null?void 0:te.weekStartsOn)!=null?ue:n.weekStartsOn)!=null?ve:(Ee=(Ie=n.locale)==null?void 0:Ie.options)==null?void 0:Ee.weekStartsOn)!=null?xe:0,d=Kr(e,r==null?void 0:r.in);if(!eP(d))throw new RangeError("Invalid time value");let g=t.match(Mer).map(Pe=>{let we=Pe[0];if(we==="p"||we==="P"){let Oe=WS[we];return Oe(Pe,i.formatLong)}return Pe}).join("").match(Ter).map(Pe=>{if(Pe==="''")return{isToken:!1,value:"'"};let we=Pe[0];if(we==="'")return{isToken:!1,value:Oer(Pe)};if(GH[we])return{isToken:!0,value:Pe};if(we.match(Per))throw new RangeError("Format string contains an unescaped latin alphabet character `"+we+"`");return{isToken:!1,value:Pe}});i.localize.preprocessor&&(g=i.localize.preprocessor(d,g));let _={firstWeekContainsDate:o,weekStartsOn:u,locale:i};return g.map(Pe=>{if(!Pe.isToken)return Pe.value;let we=Pe.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&oP(we)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&iP(we))&&ZS(we,t,String(e));let Oe=GH[we[0]];return Oe(d,we,i.localize,_)}).join("")}function Oer(e){let t=e.match(Cer);return t?t[1].replace(Aer,"'"):e}p();function VDe(e,t){var _,I;let r=Kr(e,t==null?void 0:t.in);if(isNaN(+r))throw new RangeError("Invalid time value");let n=(_=t==null?void 0:t.format)!=null?_:"extended",i=(I=t==null?void 0:t.representation)!=null?I:"complete",o="",u="",d=n==="extended"?"-":"",g=n==="extended"?":":"";if(i!=="time"){let T=dn(r.getDate(),2),A=dn(r.getMonth()+1,2);o=`${dn(r.getFullYear(),4)}${d}${A}${d}${T}`}if(i!=="date"){let T=r.getTimezoneOffset();if(T!==0){let L=Math.abs(T),F=dn(Math.trunc(L/60),2),H=dn(L%60,2);u=`${T<0?"+":"-"}${F}:${H}`}else u="Z";let A=dn(r.getHours(),2),q=dn(r.getMinutes(),2),z=dn(r.getSeconds(),2),U=o===""?"":"T",N=[A,q,z].join(g);o=`${o}${U}${N}${u}`}return o}p();function $De(){return Object.assign({},pu())}p();function GDe(e,t){let r=Kr(e,t==null?void 0:t.in).getDay();return r===0?7:r}p();function YS(e,t){return Kr(e,t==null?void 0:t.in).getFullYear()}p();p();p();function HDe(e,t){let r=Der(t)?new t(0):Mn(t,0);return r.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),r.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),r}function Der(e){var t;return typeof e=="function"&&((t=e.prototype)==null?void 0:t.constructor)===e}var ker=10,aP=class{constructor(){ct(this,"subPriority",0)}validate(t,r){return!0}},sP=class extends aP{constructor(t,r,n,i,o){super(),this.value=t,this.validateValue=r,this.setValue=n,this.priority=i,o&&(this.subPriority=o)}validate(t,r){return this.validateValue(t,this.value,r)}set(t,r,n){return this.setValue(t,r,this.value,n)}},lP=class extends aP{constructor(r,n){super();ct(this,"priority",ker);ct(this,"subPriority",-1);this.context=r||(i=>Mn(n,i))}set(r,n){return n.timestampIsSet?r:Mn(r,HDe(r,this.context))}};p();p();p();var cr=class{run(t,r,n,i){let o=this.parse(t,r,n,i);return o?{setter:new sP(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}validate(t,r,n){return!0}};var uP=class extends cr{constructor(){super(...arguments);ct(this,"priority",140);ct(this,"incompatibleTokens",["R","u","t","T"])}parse(r,n,i){switch(n){case"G":case"GG":case"GGG":return i.era(r,{width:"abbreviated"})||i.era(r,{width:"narrow"});case"GGGGG":return i.era(r,{width:"narrow"});case"GGGG":default:return i.era(r,{width:"wide"})||i.era(r,{width:"abbreviated"})||i.era(r,{width:"narrow"})}}set(r,n,i){return n.era=i,r.setFullYear(i,0,1),r.setHours(0,0,0,0),r}};p();p();p();var On={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},fu={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function ei(e,t){return e&&{value:t(e.value),rest:e.rest}}function Cn(e,t){let r=t.match(e);return r?{value:parseInt(r[0],10),rest:t.slice(r[0].length)}:null}function du(e,t){let r=t.match(e);if(!r)return null;if(r[0]==="Z")return{value:0,rest:t.slice(1)};let n=r[1]==="+"?1:-1,i=r[2]?parseInt(r[2],10):0,o=r[3]?parseInt(r[3],10):0,u=r[5]?parseInt(r[5],10):0;return{value:n*(i*$S+o*VS+u*IDe),rest:t.slice(r[0].length)}}function cP(e){return Cn(On.anyDigitsSigned,e)}function un(e,t){switch(e){case 1:return Cn(On.singleDigit,t);case 2:return Cn(On.twoDigits,t);case 3:return Cn(On.threeDigits,t);case 4:return Cn(On.fourDigits,t);default:return Cn(new RegExp("^\\d{1,"+e+"}"),t)}}function F1(e,t){switch(e){case 1:return Cn(On.singleDigitSigned,t);case 2:return Cn(On.twoDigitsSigned,t);case 3:return Cn(On.threeDigitsSigned,t);case 4:return Cn(On.fourDigitsSigned,t);default:return Cn(new RegExp("^-?\\d{1,"+e+"}"),t)}}function B1(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function pP(e,t){let r=t>0,n=r?t:1-t,i;if(n<=50)i=e||100;else{let o=n+50,u=Math.trunc(o/100)*100,d=e>=o%100;i=e+u-(d?100:0)}return r?i:1-i}function fP(e){return e%400===0||e%4===0&&e%100!==0}var dP=class extends cr{constructor(){super(...arguments);ct(this,"priority",130);ct(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(r,n,i){let o=u=>({year:u,isTwoDigitYear:n==="yy"});switch(n){case"y":return ei(un(4,r),o);case"yo":return ei(i.ordinalNumber(r,{unit:"year"}),o);default:return ei(un(n.length,r),o)}}validate(r,n){return n.isTwoDigitYear||n.year>0}set(r,n,i){let o=r.getFullYear();if(i.isTwoDigitYear){let d=pP(i.year,o);return r.setFullYear(d,0,1),r.setHours(0,0,0,0),r}let u=!("era"in n)||n.era===1?i.year:1-i.year;return r.setFullYear(u,0,1),r.setHours(0,0,0,0),r}};p();var hP=class extends cr{constructor(){super(...arguments);ct(this,"priority",130);ct(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(r,n,i){let o=u=>({year:u,isTwoDigitYear:n==="YY"});switch(n){case"Y":return ei(un(4,r),o);case"Yo":return ei(i.ordinalNumber(r,{unit:"year"}),o);default:return ei(un(n.length,r),o)}}validate(r,n){return n.isTwoDigitYear||n.year>0}set(r,n,i,o){let u=z1(r,o);if(i.isTwoDigitYear){let g=pP(i.year,u);return r.setFullYear(g,0,o.firstWeekContainsDate),r.setHours(0,0,0,0),Zs(r,o)}let d=!("era"in n)||n.era===1?i.year:1-i.year;return r.setFullYear(d,0,o.firstWeekContainsDate),r.setHours(0,0,0,0),Zs(r,o)}};p();var mP=class extends cr{constructor(){super(...arguments);ct(this,"priority",130);ct(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(r,n){return n==="R"?F1(4,r):F1(n.length,r)}set(r,n,i){let o=Mn(r,0);return o.setFullYear(i,0,4),o.setHours(0,0,0,0),ic(o)}};p();var gP=class extends cr{constructor(){super(...arguments);ct(this,"priority",130);ct(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(r,n){return n==="u"?F1(4,r):F1(n.length,r)}set(r,n,i){return r.setFullYear(i,0,1),r.setHours(0,0,0,0),r}};p();var vP=class extends cr{constructor(){super(...arguments);ct(this,"priority",120);ct(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,n,i){switch(n){case"Q":case"QQ":return un(n.length,r);case"Qo":return i.ordinalNumber(r,{unit:"quarter"});case"QQQ":return i.quarter(r,{width:"abbreviated",context:"formatting"})||i.quarter(r,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(r,{width:"wide",context:"formatting"})||i.quarter(r,{width:"abbreviated",context:"formatting"})||i.quarter(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=1&&n<=4}set(r,n,i){return r.setMonth((i-1)*3,1),r.setHours(0,0,0,0),r}};p();var yP=class extends cr{constructor(){super(...arguments);ct(this,"priority",120);ct(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,n,i){switch(n){case"q":case"qq":return un(n.length,r);case"qo":return i.ordinalNumber(r,{unit:"quarter"});case"qqq":return i.quarter(r,{width:"abbreviated",context:"standalone"})||i.quarter(r,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(r,{width:"wide",context:"standalone"})||i.quarter(r,{width:"abbreviated",context:"standalone"})||i.quarter(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=1&&n<=4}set(r,n,i){return r.setMonth((i-1)*3,1),r.setHours(0,0,0,0),r}};p();var _P=class extends cr{constructor(){super(...arguments);ct(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);ct(this,"priority",110)}parse(r,n,i){let o=u=>u-1;switch(n){case"M":return ei(Cn(On.month,r),o);case"MM":return ei(un(2,r),o);case"Mo":return ei(i.ordinalNumber(r,{unit:"month"}),o);case"MMM":return i.month(r,{width:"abbreviated",context:"formatting"})||i.month(r,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(r,{width:"wide",context:"formatting"})||i.month(r,{width:"abbreviated",context:"formatting"})||i.month(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=11}set(r,n,i){return r.setMonth(i,1),r.setHours(0,0,0,0),r}};p();var bP=class extends cr{constructor(){super(...arguments);ct(this,"priority",110);ct(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(r,n,i){let o=u=>u-1;switch(n){case"L":return ei(Cn(On.month,r),o);case"LL":return ei(un(2,r),o);case"Lo":return ei(i.ordinalNumber(r,{unit:"month"}),o);case"LLL":return i.month(r,{width:"abbreviated",context:"standalone"})||i.month(r,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(r,{width:"wide",context:"standalone"})||i.month(r,{width:"abbreviated",context:"standalone"})||i.month(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=0&&n<=11}set(r,n,i){return r.setMonth(i,1),r.setHours(0,0,0,0),r}};p();p();function WDe(e,t,r){let n=Kr(e,r==null?void 0:r.in),i=nP(n,r)-t;return n.setDate(n.getDate()-i*7),Kr(n,r==null?void 0:r.in)}var xP=class extends cr{constructor(){super(...arguments);ct(this,"priority",100);ct(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(r,n,i){switch(n){case"w":return Cn(On.week,r);case"wo":return i.ordinalNumber(r,{unit:"week"});default:return un(n.length,r)}}validate(r,n){return n>=1&&n<=53}set(r,n,i,o){return Zs(WDe(r,i,o),o)}};p();p();function ZDe(e,t,r){let n=Kr(e,r==null?void 0:r.in),i=rP(n,r)-t;return n.setDate(n.getDate()-i*7),n}var wP=class extends cr{constructor(){super(...arguments);ct(this,"priority",100);ct(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(r,n,i){switch(n){case"I":return Cn(On.week,r);case"Io":return i.ordinalNumber(r,{unit:"week"});default:return un(n.length,r)}}validate(r,n){return n>=1&&n<=53}set(r,n,i){return ic(ZDe(r,i))}};p();var Ner=[31,28,31,30,31,30,31,31,30,31,30,31],Rer=[31,29,31,30,31,30,31,31,30,31,30,31],SP=class extends cr{constructor(){super(...arguments);ct(this,"priority",90);ct(this,"subPriority",1);ct(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(r,n,i){switch(n){case"d":return Cn(On.date,r);case"do":return i.ordinalNumber(r,{unit:"date"});default:return un(n.length,r)}}validate(r,n){let i=r.getFullYear(),o=fP(i),u=r.getMonth();return o?n>=1&&n<=Rer[u]:n>=1&&n<=Ner[u]}set(r,n,i){return r.setDate(i),r.setHours(0,0,0,0),r}};p();var EP=class extends cr{constructor(){super(...arguments);ct(this,"priority",90);ct(this,"subpriority",1);ct(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(r,n,i){switch(n){case"D":case"DD":return Cn(On.dayOfYear,r);case"Do":return i.ordinalNumber(r,{unit:"date"});default:return un(n.length,r)}}validate(r,n){let i=r.getFullYear();return fP(i)?n>=1&&n<=366:n>=1&&n<=365}set(r,n,i){return r.setMonth(0,i),r.setHours(0,0,0,0),r}};p();p();function U1(e,t,r){var T,A,q,z,U,N,L,F;let n=pu(),i=(F=(L=(z=(q=r==null?void 0:r.weekStartsOn)!=null?q:(A=(T=r==null?void 0:r.locale)==null?void 0:T.options)==null?void 0:A.weekStartsOn)!=null?z:n.weekStartsOn)!=null?L:(N=(U=n.locale)==null?void 0:U.options)==null?void 0:N.weekStartsOn)!=null?F:0,o=Kr(e,r==null?void 0:r.in),u=o.getDay(),g=(t%7+7)%7,_=7-i,I=t<0||t>6?t-(u+_)%7:(g+_)%7-(u+_)%7;return X4(o,I,r)}var IP=class extends cr{constructor(){super(...arguments);ct(this,"priority",90);ct(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(r,n,i){switch(n){case"E":case"EE":case"EEE":return i.day(r,{width:"abbreviated",context:"formatting"})||i.day(r,{width:"short",context:"formatting"})||i.day(r,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(r,{width:"short",context:"formatting"})||i.day(r,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(r,{width:"wide",context:"formatting"})||i.day(r,{width:"abbreviated",context:"formatting"})||i.day(r,{width:"short",context:"formatting"})||i.day(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=6}set(r,n,i,o){return r=U1(r,i,o),r.setHours(0,0,0,0),r}};p();var TP=class extends cr{constructor(){super(...arguments);ct(this,"priority",90);ct(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(r,n,i,o){let u=d=>{let g=Math.floor((d-1)/7)*7;return(d+o.weekStartsOn+6)%7+g};switch(n){case"e":case"ee":return ei(un(n.length,r),u);case"eo":return ei(i.ordinalNumber(r,{unit:"day"}),u);case"eee":return i.day(r,{width:"abbreviated",context:"formatting"})||i.day(r,{width:"short",context:"formatting"})||i.day(r,{width:"narrow",context:"formatting"});case"eeeee":return i.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(r,{width:"short",context:"formatting"})||i.day(r,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(r,{width:"wide",context:"formatting"})||i.day(r,{width:"abbreviated",context:"formatting"})||i.day(r,{width:"short",context:"formatting"})||i.day(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=6}set(r,n,i,o){return r=U1(r,i,o),r.setHours(0,0,0,0),r}};p();var MP=class extends cr{constructor(){super(...arguments);ct(this,"priority",90);ct(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(r,n,i,o){let u=d=>{let g=Math.floor((d-1)/7)*7;return(d+o.weekStartsOn+6)%7+g};switch(n){case"c":case"cc":return ei(un(n.length,r),u);case"co":return ei(i.ordinalNumber(r,{unit:"day"}),u);case"ccc":return i.day(r,{width:"abbreviated",context:"standalone"})||i.day(r,{width:"short",context:"standalone"})||i.day(r,{width:"narrow",context:"standalone"});case"ccccc":return i.day(r,{width:"narrow",context:"standalone"});case"cccccc":return i.day(r,{width:"short",context:"standalone"})||i.day(r,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(r,{width:"wide",context:"standalone"})||i.day(r,{width:"abbreviated",context:"standalone"})||i.day(r,{width:"short",context:"standalone"})||i.day(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=0&&n<=6}set(r,n,i,o){return r=U1(r,i,o),r.setHours(0,0,0,0),r}};p();p();function YDe(e,t,r){let n=Kr(e,r==null?void 0:r.in),i=GDe(n,r),o=t-i;return X4(n,o,r)}var CP=class extends cr{constructor(){super(...arguments);ct(this,"priority",90);ct(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(r,n,i){let o=u=>u===0?7:u;switch(n){case"i":case"ii":return un(n.length,r);case"io":return i.ordinalNumber(r,{unit:"day"});case"iii":return ei(i.day(r,{width:"abbreviated",context:"formatting"})||i.day(r,{width:"short",context:"formatting"})||i.day(r,{width:"narrow",context:"formatting"}),o);case"iiiii":return ei(i.day(r,{width:"narrow",context:"formatting"}),o);case"iiiiii":return ei(i.day(r,{width:"short",context:"formatting"})||i.day(r,{width:"narrow",context:"formatting"}),o);case"iiii":default:return ei(i.day(r,{width:"wide",context:"formatting"})||i.day(r,{width:"abbreviated",context:"formatting"})||i.day(r,{width:"short",context:"formatting"})||i.day(r,{width:"narrow",context:"formatting"}),o)}}validate(r,n){return n>=1&&n<=7}set(r,n,i){return r=YDe(r,i),r.setHours(0,0,0,0),r}};p();var AP=class extends cr{constructor(){super(...arguments);ct(this,"priority",80);ct(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(r,n,i){switch(n){case"a":case"aa":case"aaa":return i.dayPeriod(r,{width:"abbreviated",context:"formatting"})||i.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(r,{width:"wide",context:"formatting"})||i.dayPeriod(r,{width:"abbreviated",context:"formatting"})||i.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,i){return r.setHours(B1(i),0,0,0),r}};p();var PP=class extends cr{constructor(){super(...arguments);ct(this,"priority",80);ct(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(r,n,i){switch(n){case"b":case"bb":case"bbb":return i.dayPeriod(r,{width:"abbreviated",context:"formatting"})||i.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(r,{width:"wide",context:"formatting"})||i.dayPeriod(r,{width:"abbreviated",context:"formatting"})||i.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,i){return r.setHours(B1(i),0,0,0),r}};p();var OP=class extends cr{constructor(){super(...arguments);ct(this,"priority",80);ct(this,"incompatibleTokens",["a","b","t","T"])}parse(r,n,i){switch(n){case"B":case"BB":case"BBB":return i.dayPeriod(r,{width:"abbreviated",context:"formatting"})||i.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(r,{width:"wide",context:"formatting"})||i.dayPeriod(r,{width:"abbreviated",context:"formatting"})||i.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,i){return r.setHours(B1(i),0,0,0),r}};p();var DP=class extends cr{constructor(){super(...arguments);ct(this,"priority",70);ct(this,"incompatibleTokens",["H","K","k","t","T"])}parse(r,n,i){switch(n){case"h":return Cn(On.hour12h,r);case"ho":return i.ordinalNumber(r,{unit:"hour"});default:return un(n.length,r)}}validate(r,n){return n>=1&&n<=12}set(r,n,i){let o=r.getHours()>=12;return o&&i<12?r.setHours(i+12,0,0,0):!o&&i===12?r.setHours(0,0,0,0):r.setHours(i,0,0,0),r}};p();var kP=class extends cr{constructor(){super(...arguments);ct(this,"priority",70);ct(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(r,n,i){switch(n){case"H":return Cn(On.hour23h,r);case"Ho":return i.ordinalNumber(r,{unit:"hour"});default:return un(n.length,r)}}validate(r,n){return n>=0&&n<=23}set(r,n,i){return r.setHours(i,0,0,0),r}};p();var NP=class extends cr{constructor(){super(...arguments);ct(this,"priority",70);ct(this,"incompatibleTokens",["h","H","k","t","T"])}parse(r,n,i){switch(n){case"K":return Cn(On.hour11h,r);case"Ko":return i.ordinalNumber(r,{unit:"hour"});default:return un(n.length,r)}}validate(r,n){return n>=0&&n<=11}set(r,n,i){return r.getHours()>=12&&i<12?r.setHours(i+12,0,0,0):r.setHours(i,0,0,0),r}};p();var RP=class extends cr{constructor(){super(...arguments);ct(this,"priority",70);ct(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(r,n,i){switch(n){case"k":return Cn(On.hour24h,r);case"ko":return i.ordinalNumber(r,{unit:"hour"});default:return un(n.length,r)}}validate(r,n){return n>=1&&n<=24}set(r,n,i){let o=i<=24?i%24:i;return r.setHours(o,0,0,0),r}};p();var LP=class extends cr{constructor(){super(...arguments);ct(this,"priority",60);ct(this,"incompatibleTokens",["t","T"])}parse(r,n,i){switch(n){case"m":return Cn(On.minute,r);case"mo":return i.ordinalNumber(r,{unit:"minute"});default:return un(n.length,r)}}validate(r,n){return n>=0&&n<=59}set(r,n,i){return r.setMinutes(i,0,0),r}};p();var qP=class extends cr{constructor(){super(...arguments);ct(this,"priority",50);ct(this,"incompatibleTokens",["t","T"])}parse(r,n,i){switch(n){case"s":return Cn(On.second,r);case"so":return i.ordinalNumber(r,{unit:"second"});default:return un(n.length,r)}}validate(r,n){return n>=0&&n<=59}set(r,n,i){return r.setSeconds(i,0),r}};p();var zP=class extends cr{constructor(){super(...arguments);ct(this,"priority",30);ct(this,"incompatibleTokens",["t","T"])}parse(r,n){let i=o=>Math.trunc(o*Math.pow(10,-n.length+3));return ei(un(n.length,r),i)}set(r,n,i){return r.setMilliseconds(i),r}};p();var jP=class extends cr{constructor(){super(...arguments);ct(this,"priority",10);ct(this,"incompatibleTokens",["t","T","x"])}parse(r,n){switch(n){case"X":return du(fu.basicOptionalMinutes,r);case"XX":return du(fu.basic,r);case"XXXX":return du(fu.basicOptionalSeconds,r);case"XXXXX":return du(fu.extendedOptionalSeconds,r);case"XXX":default:return du(fu.extended,r)}}set(r,n,i){return n.timestampIsSet?r:Mn(r,r.getTime()-Zg(r)-i)}};p();var FP=class extends cr{constructor(){super(...arguments);ct(this,"priority",10);ct(this,"incompatibleTokens",["t","T","X"])}parse(r,n){switch(n){case"x":return du(fu.basicOptionalMinutes,r);case"xx":return du(fu.basic,r);case"xxxx":return du(fu.basicOptionalSeconds,r);case"xxxxx":return du(fu.extendedOptionalSeconds,r);case"xxx":default:return du(fu.extended,r)}}set(r,n,i){return n.timestampIsSet?r:Mn(r,r.getTime()-Zg(r)-i)}};p();var BP=class extends cr{constructor(){super(...arguments);ct(this,"priority",40);ct(this,"incompatibleTokens","*")}parse(r){return cP(r)}set(r,n,i){return[Mn(r,i*1e3),{timestampIsSet:!0}]}};p();var UP=class extends cr{constructor(){super(...arguments);ct(this,"priority",20);ct(this,"incompatibleTokens","*")}parse(r){return cP(r)}set(r,n,i){return[Mn(r,i),{timestampIsSet:!0}]}};var KDe={G:new uP,y:new dP,Y:new hP,R:new mP,u:new gP,Q:new vP,q:new yP,M:new _P,L:new bP,w:new xP,I:new wP,d:new SP,D:new EP,E:new IP,e:new TP,c:new MP,i:new CP,a:new AP,b:new PP,B:new OP,h:new DP,H:new kP,K:new NP,k:new RP,m:new LP,s:new qP,S:new zP,X:new jP,x:new FP,t:new BP,T:new UP};var Ler=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,qer=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,zer=/^'([^]*?)'?$/,jer=/''/g,Fer=/\S/,Ber=/[a-zA-Z]/;function WH(e,t,r,n){var N,L,F,H,Y,te,oe,ue,Ie,Ee,ve,xe,Pe,we,Oe,Xe,lt,pt;let i=()=>Mn((n==null?void 0:n.in)||r,NaN),o=$De(),u=(L=(N=n==null?void 0:n.locale)!=null?N:o.locale)!=null?L:HS,d=(Ee=(Ie=(te=(Y=n==null?void 0:n.firstWeekContainsDate)!=null?Y:(H=(F=n==null?void 0:n.locale)==null?void 0:F.options)==null?void 0:H.firstWeekContainsDate)!=null?te:o.firstWeekContainsDate)!=null?Ie:(ue=(oe=o.locale)==null?void 0:oe.options)==null?void 0:ue.firstWeekContainsDate)!=null?Ee:1,g=(pt=(lt=(we=(Pe=n==null?void 0:n.weekStartsOn)!=null?Pe:(xe=(ve=n==null?void 0:n.locale)==null?void 0:ve.options)==null?void 0:xe.weekStartsOn)!=null?we:o.weekStartsOn)!=null?lt:(Xe=(Oe=o.locale)==null?void 0:Oe.options)==null?void 0:Xe.weekStartsOn)!=null?pt:0;if(!t)return e?i():Kr(r,n==null?void 0:n.in);let _={firstWeekContainsDate:d,weekStartsOn:g,locale:u},I=[new lP(n==null?void 0:n.in,r)],T=t.match(qer).map(qe=>{let ut=qe[0];if(ut in WS){let bt=WS[ut];return bt(qe,u.formatLong)}return qe}).join("").match(Ler),A=[];for(let qe of T){!(n!=null&&n.useAdditionalWeekYearTokens)&&oP(qe)&&ZS(qe,t,e),!(n!=null&&n.useAdditionalDayOfYearTokens)&&iP(qe)&&ZS(qe,t,e);let ut=qe[0],bt=KDe[ut];if(bt){let{incompatibleTokens:wt}=bt;if(Array.isArray(wt)){let st=A.find(tt=>wt.includes(tt.token)||tt.token===ut);if(st)throw new RangeError(`The format string mustn't contain \`${st.fullToken}\` and \`${qe}\` at the same time`)}else if(bt.incompatibleTokens==="*"&&A.length>0)throw new RangeError(`The format string mustn't contain \`${qe}\` and any other token at the same time`);A.push({token:ut,fullToken:qe});let Ge=bt.run(e,qe,u.match,_);if(!Ge)return i();I.push(Ge.setter),e=Ge.rest}else{if(ut.match(Ber))throw new RangeError("Format string contains an unescaped latin alphabet character `"+ut+"`");if(qe==="''"?qe="'":ut==="'"&&(qe=Uer(qe)),e.indexOf(qe)===0)e=e.slice(qe.length);else return i()}}if(e.length>0&&Fer.test(e))return i();let q=I.map(qe=>qe.priority).sort((qe,ut)=>ut-qe).filter((qe,ut,bt)=>bt.indexOf(qe)===ut).map(qe=>I.filter(ut=>ut.priority===qe).sort((ut,bt)=>bt.subPriority-ut.subPriority)).map(qe=>qe[0]),z=Kr(r,n==null?void 0:n.in);if(isNaN(+z))return i();let U={};for(let qe of q){if(!qe.validate(z,_))return i();let ut=qe.set(z,U,_);Array.isArray(ut)?(z=ut[0],Object.assign(U,ut[1])):z=ut}return z}function Uer(e){return e.match(zer)[1].replace(jer,"'")}p();function XDe(e,t,r){let[n,i]=J4(r==null?void 0:r.in,e,t);return n.getFullYear()===i.getFullYear()}p();function QDe(e,t){var _;let r=()=>Mn(t==null?void 0:t.in,NaN),n=(_=t==null?void 0:t.additionalDigits)!=null?_:2,i=Her(e),o;if(i.date){let I=Wer(i.date,n);o=Zer(I.restDateString,I.year)}if(!o||isNaN(+o))return r();let u=+o,d=0,g;if(i.time&&(d=Yer(i.time),isNaN(d)))return r();if(i.timezone){if(g=Ker(i.timezone),isNaN(g))return r()}else{let I=new Date(u+d),T=Kr(0,t==null?void 0:t.in);return T.setFullYear(I.getUTCFullYear(),I.getUTCMonth(),I.getUTCDate()),T.setHours(I.getUTCHours(),I.getUTCMinutes(),I.getUTCSeconds(),I.getUTCMilliseconds()),T}return Kr(u+d+g,t==null?void 0:t.in)}var VP={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Ver=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,$er=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Ger=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Her(e){let t={},r=e.split(VP.dateTimeDelimiter),n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],VP.timeZoneDelimiter.test(t.date)&&(t.date=e.split(VP.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){let i=VP.timezone.exec(n);i?(t.time=n.replace(i[1],""),t.timezone=i[1]):t.time=n}return t}function Wer(e,t){let r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};let i=n[1]?parseInt(n[1]):null,o=n[2]?parseInt(n[2]):null;return{year:o===null?i:o*100,restDateString:e.slice((n[1]||n[2]).length)}}function Zer(e,t){if(t===null)return new Date(NaN);let r=e.match(Ver);if(!r)return new Date(NaN);let n=!!r[4],i=KS(r[1]),o=KS(r[2])-1,u=KS(r[3]),d=KS(r[4]),g=KS(r[5])-1;if(n)return ttr(t,d,g)?Xer(t,d,g):new Date(NaN);{let _=new Date(0);return!Jer(t,o,u)||!etr(t,i)?new Date(NaN):(_.setUTCFullYear(t,o,Math.max(i,u)),_)}}function KS(e){return e?parseInt(e):1}function Yer(e){let t=e.match($er);if(!t)return NaN;let r=ZH(t[1]),n=ZH(t[2]),i=ZH(t[3]);return rtr(r,n,i)?r*$S+n*VS+i*1e3:NaN}function ZH(e){return e&&parseFloat(e.replace(",","."))||0}function Ker(e){if(e==="Z")return 0;let t=e.match(Ger);if(!t)return 0;let r=t[1]==="+"?-1:1,n=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return ntr(n,i)?r*(n*$S+i*VS):NaN}function Xer(e,t,r){let n=new Date(0);n.setUTCFullYear(e,0,4);let i=n.getUTCDay()||7,o=(t-1)*7+r+1-i;return n.setUTCDate(n.getUTCDate()+o),n}var Qer=[31,null,31,30,31,30,31,31,30,31,30,31];function JDe(e){return e%400===0||e%4===0&&e%100!==0}function Jer(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(Qer[t]||(JDe(e)?29:28))}function etr(e,t){return t>=1&&t<=(JDe(e)?366:365)}function ttr(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function rtr(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function ntr(e,t){return t>=0&&t<=59}var V1=class e{constructor({metadata:t,geometry:r}){ct(this,"metadata",{});ct(this,"geometry",{});if(this.constructor===e)throw new Error(`Abstract class '${this.constructor}' cannot be instantiated.`);this.metadata=t,this.geometry=r}getGeometry(){return this.geometry}getId(){return this.metadata.id}getMetadata(t){return Ft(t)?this.metadata[t]:this.metadata}updateMetadata(t,r){if(!Ft(t)){console.error("Cannot update metadata without key");return}if(!Object.values(Kt).includes(t)){console.error(`Cannot update metadata with invalid key '${t}'`);return}this.metadata[t]=r}getSortTime(){let t=this.metadata[Kt.timePeriod][0];return YS(t)}getDisplayTime(){let[t,r]=this.metadata[Kt.timePeriod];return XDe(t,r)?YS(t):`${YS(t)} \u2013 ${YS(r)}`}addLayerToMap(){throw new Error("Method 'addLayerToMap' must be implemented.")}isDisplayedInMap(){throw new Error("Method 'isDisplayedInMap' must be implemented.")}getType(){throw new Error("Method 'getType' must be implemented.")}setOpacity(){throw new Error("Method 'setOpacity' must be implemented.")}getOpacity(){throw new Error("Method 'getOpacity' must be implemented.")}moveToTop(){throw new Error("Method 'moveToTop' must be implemented.")}move(){throw new Error("Method 'move' must be implemented.")}getMapLibreLayerId(){throw new Error("Method 'getMapLibreLayerId' must be implemented.")}removeLayer(){throw new Error("Method 'removeLayer' must be implemented.")}setVisibility(){throw new Error("Method 'setVisibility' must be implemented.")}isVisible(){throw new Error("Method 'isVisible' must be implemented.")}serialize(){throw new Error("Method 'serialize' must be implemented.")}};p();p();var HP=se(Je(),1);p();p();var XS=se(Je(),1);var $P=se(Qt(),1);var eke=(e,{sourceId:t,fillId:r,outlineId:n})=>{e.addSource(t,{type:"geojson",data:{type:"FeatureCollection",features:[]}}),e.addLayer({id:r,type:"fill",source:t,paint:{"fill-color":"#ff0000","fill-opacity":.2}}),e.addLayer({id:n,type:"line",source:t,paint:{"line-color":"#ff0000","line-width":1}})},itr=(e,{sourceId:t,fillId:r,outlineId:n})=>{e.getLayer(r)&&e.removeLayer(r),e.getLayer(n)&&e.removeLayer(n),e.getSource(t)&&e.removeSource(t)},tke=e=>{let t=vr(Sn);return(0,XS.useEffect)(()=>{if(Ft(t)){let r=()=>{eke(t,rt({},e))};return t._loaded?eke(t,rt({},e)):t.once("load",r),()=>{itr(t,rt({},e)),t.off("load",r)}}},[t]),XS.default.createElement(XS.default.Fragment,null)};tke.propTypes={sourceId:$P.default.string.isRequired,fillId:$P.default.string.isRequired,outlineId:$P.default.string.isRequired};var rke=tke;var GP=rke;var nke="vkf-map-overlay-source",bs="vkf-map-overlay-fill",otr="vkf-map-overlay-outline",YH=(e,t)=>{let r=e.getSource(nke);r&&r.setData(t)},ike=()=>HP.default.createElement(HP.default.Fragment,null,HP.default.createElement(GP,{sourceId:nke,fillId:bs,outlineId:otr}));ike.propTypes={};var oke=ike;var ake=(e,t,r,n)=>{var u,d;let i=e.getId();t.addSource(i,dr(rt({type:"raster"},r),{bounds:e.getMetadata(Kt.bounds)}));let o=t.getLayer(bs)!==void 0?bs:void 0;t.addLayer({id:i,type:"raster",metadata:{[pp.id]:i},source:i,layout:{visibility:(u=n==null?void 0:n.visibility)!=null?u:"visible"},paint:{"raster-opacity":(d=n==null?void 0:n.opacity)!=null?d:1}},o)};p();p();p();var Tl=6371008.8,Cun={centimeters:Tl*100,centimetres:Tl*100,degrees:360/(2*Math.PI),feet:Tl*3.28084,inches:Tl*39.37,kilometers:Tl/1e3,kilometres:Tl/1e3,meters:Tl,metres:Tl,miles:Tl/1609.344,millimeters:Tl*1e3,millimetres:Tl*1e3,nauticalmiles:Tl/1852,radians:1,yards:Tl*1.0936};function lke(e,t,r={}){let n={type:"Feature"};return(r.id===0||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function uke(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!ske(e[0])||!ske(e[1]))throw new Error("coordinates must contain numbers");return lke({type:"Point",coordinates:e},t,r)}function cke(e,t,r={}){for(let i of e){if(i.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(i[i.length-1].length!==i[0].length)throw new Error("First and last Position are not equivalent.");for(let o=0;o<i[i.length-1].length;o++)if(i[i.length-1][o]!==i[0][o])throw new Error("First and last Position are not equivalent.")}return lke({type:"Polygon",coordinates:e},t,r)}function pke(e,t={}){let r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function ske(e){return!isNaN(e)&&e!==null&&!Array.isArray(e)}function QS(e,t,r){if(e!==null)for(var n,i,o,u,d,g,_,I=0,T=0,A,q=e.type,z=q==="FeatureCollection",U=q==="Feature",N=z?e.features.length:1,L=0;L<N;L++){_=z?e.features[L].geometry:U?e.geometry:e,A=_?_.type==="GeometryCollection":!1,d=A?_.geometries.length:1;for(var F=0;F<d;F++){var H=0,Y=0;if(u=A?_.geometries[F]:_,u!==null){g=u.coordinates;var te=u.type;switch(I=r&&(te==="Polygon"||te==="MultiPolygon")?1:0,te){case null:break;case"Point":if(t(g,T,L,H,Y)===!1)return!1;T++,H++;break;case"LineString":case"MultiPoint":for(n=0;n<g.length;n++){if(t(g[n],T,L,H,Y)===!1)return!1;T++,te==="MultiPoint"&&H++}te==="LineString"&&H++;break;case"Polygon":case"MultiLineString":for(n=0;n<g.length;n++){for(i=0;i<g[n].length-I;i++){if(t(g[n][i],T,L,H,Y)===!1)return!1;T++}te==="MultiLineString"&&H++,te==="Polygon"&&Y++}te==="Polygon"&&H++;break;case"MultiPolygon":for(n=0;n<g.length;n++){for(Y=0,i=0;i<g[n].length;i++){for(o=0;o<g[n][i].length-I;o++){if(t(g[n][i][o],T,L,H,Y)===!1)return!1;T++}Y++}H++}break;case"GeometryCollection":for(n=0;n<u.geometries.length;n++)if(QS(u.geometries[n],t,r)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function JS(e,t={}){if(e.bbox!=null&&t.recompute!==!0)return e.bbox;let r=[1/0,1/0,-1/0,-1/0];return QS(e,n=>{r[0]>n[0]&&(r[0]=n[0]),r[1]>n[1]&&(r[1]=n[1]),r[2]<n[0]&&(r[2]=n[0]),r[3]<n[1]&&(r[3]=n[1])}),r}var eE,WP,fke,KH=class extends V1{constructor({metadata:r,geometry:n}){super({metadata:r,geometry:n});io(this,WP);io(this,eE,!1);ki(this,WP,fke).call(this)}addLayerToMap(r,{sourceSettings:n,layerSettings:i}){if(r.getSource(this.getId())){console.error(`Source with id '${this.getId()}' exists already in map.`);return}return ake(this,r,n,i)}addToOverlay(r,n){let i=r.getSource(n);if(i){let o=this.getPreviewFeature();o.id=this.getId();let u=[o];i.updateData({add:u})}}removeFromOverlay(r,n){let i=r.getSource(n);if(i){let o=[this.getId()];i.updateData({remove:o})}}getPreviewFeature(){return{type:"Feature",properties:{},geometry:this.geometry}}isDisplayedInMap(r){return r.getSource(this.getId())!==void 0&&r.getLayer(this.getId())!==void 0}getType(){return Ha.HISTORIC_MAP}setOpacity(r,n){r.getLayer(this.getId())&&r.setPaintProperty(this.getId(),"raster-opacity",n)}getOpacity(r){var n;return r.getLayer(this.getId())?(n=r.getPaintProperty(this.getId(),"raster-opacity"))!=null?n:1:null}moveToTop(r){this.move(r,null)}move(r,n){let i=n;Ft(n)||(Ft(r.getLayer(bs))?i=bs:i=null),r.moveLayer(this.getId(),i)}getMapLibreLayerId(){return this.getId()}removeMapLibreLayers(r){r.getLayer(this.getMapLibreLayerId())&&r.removeLayer(this.getMapLibreLayerId()),r.getSource(this.getId())&&r.removeSource(this.getId())}setVisibility(r,n){r.setLayoutProperty(this.getMapLibreLayerId(),"visibility",n)}isVisible(r){return r.getLayoutProperty(this.getMapLibreLayerId(),"visibility")==="visible"}isMissing(){return ur(this,eE)}setIsMissing(r){oo(this,eE,r)}};eE=new WeakMap,WP=new WeakSet,fke=function(){let r=this.geometry?JS(this.geometry):void 0;this.metadata[Kt.bounds]=r};var dke=KH;var Kg=dke;p();p();p();p();p();p();p();var tE=class extends Date{constructor(){super(),this.setTime(arguments.length===0?Date.now():arguments.length===1?typeof arguments[0]=="string"?+new Date(arguments[0]):arguments[0]:Date.UTC(...arguments))}getTimezoneOffset(){return 0}},hke=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(e=>{if(hke.test(e)){let t=Date.prototype[e.replace(hke,"$1UTC")];t&&(tE.prototype[e]=t)}});var ZP=class extends tE{toString(){let t=this.toDateString(),r=this.toTimeString();return`${t} ${r}`}toDateString(){let t=atr.format(this),r=str.format(this),n=this.getFullYear();return`${t} ${r} ${n}`}toTimeString(){return`${ltr.format(this)} GMT+0000 (Coordinated Universal Time)`}toLocaleString(t,r){return Date.prototype.toLocaleString.call(this,t,rt({timeZone:"UTC"},r))}toLocaleDateString(t,r){return Date.prototype.toLocaleDateString.call(this,t,rt({timeZone:"UTC"},r))}toLocaleTimeString(t,r){return Date.prototype.toLocaleTimeString.call(this,t,rt({timeZone:"UTC"},r))}},atr=new Intl.DateTimeFormat("en-US",{weekday:"short",timeZone:"UTC"}),str=new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",timeZone:"UTC"}),ltr=new Intl.DateTimeFormat("en-GB",{hour12:!1,hour:"numeric",minute:"numeric",second:"numeric",timeZone:"UTC"});p();var Bh=e=>new ZP(+new Date(e));var $1={en:"MM/dd/yyyy",de:"dd.MM.yyyy"};function Uh(e){let t=kr.getSettings().LANGUAGE_CODE,r=new Date(e);return XP(r)?Object.hasOwn($1,t)?HH(r,$1[t],{in:Bh}):HH(r,$1[k1.EN],{in:Bh}):e}function YP(e){let t=kr.getSettings().LANGUAGE_CODE,r=new Date;return Object.hasOwn($1,t)?WH(e,$1[t],r,{in:Bh}):WH(e,$1[k1.EN],r,{in:Bh})}function G1(e,t={}){let r="";try{r=VDe(e,dr(rt({},t),{in:Bh}))}catch(n){r=""}return r}function KP(e){return!Ft(e)||!N1(e)?new Date("invalid"):QDe(e,{in:Bh})}function XP(e){return eP(e)}function QP(e){return GS(e,{in:Bh})}function mke(){return[G1(Date.now(),{representation:"date"}),G1(Date.now(),{representation:"date"})]}p();p();var Nr={SYMBOL:"symbol",LINE:"line",FILL:"fill",OUTLINE:"outline"},rE={[Nr.LINE]:"line-opacity",[Nr.FILL]:"fill-opacity",[Nr.OUTLINE]:"outline-opacity"},XH={[Nr.LINE]:"stroke-opacity",[Nr.FILL]:"fill-opacity",[Nr.OUTLINE]:"stroke-opacity"},QH=e=>Object.keys(XH).includes(e),An={[Nr.SYMBOL]:{COLOR:"#0000FF"},[Nr.LINE]:{COLOR:"#00FF00",WIDTH:3,OPACITY:1},[Nr.OUTLINE]:{COLOR:"#0000FF",WIDTH:1,OPACITY:1},[Nr.FILL]:{COLOR:"#FFFF00",OPACITY:.27}},JH={[Nr.SYMBOL]:{type:"symbol",layout:{"icon-image":kr.getSettings().MARKER_IMAGE_ID,"icon-size":.5,"icon-anchor":"bottom","icon-allow-overlap":!0},paint:{"icon-color":["to-color",["feature-state","marker"],["get","marker"],An[Nr.SYMBOL].COLOR],"icon-halo-color":"#FFF","icon-halo-width":1},filter:["==",["geometry-type"],"Point"]},[Nr.LINE]:{type:"line",paint:{"line-color":["coalesce",["feature-state","stroke"],["get","stroke"],An[Nr.LINE].COLOR],"line-width":["coalesce",["feature-state","stroke-width"],["get","stroke-width"],An[Nr.LINE].WIDTH],"line-opacity":["coalesce",["feature-state","stroke-opacity"],["get","stroke-opacity"],An[Nr.LINE].OPACITY]},filter:["==",["geometry-type"],"LineString"]},[Nr.OUTLINE]:{type:"line",paint:{"line-color":["coalesce",["feature-state","stroke"],["get","stroke"],An[Nr.OUTLINE].COLOR],"line-width":["coalesce",["feature-state","stroke-width"],["get","stroke-width"],An[Nr.OUTLINE].WIDTH],"line-opacity":["coalesce",["feature-state","stroke-opacity"],["get","stroke-opacity"],An[Nr.OUTLINE].OPACITY]},filter:["==",["geometry-type"],"Polygon"]},[Nr.FILL]:{type:"fill",paint:{"fill-color":["coalesce",["feature-state","fill"],["get","fill"],An[Nr.FILL].COLOR],"fill-opacity":["coalesce",["feature-state","fill-opacity"],["get","fill-opacity"],An[Nr.FILL].OPACITY]},filter:["==",["geometry-type"],"Polygon"]}};var Wa={imgLink:"img_link",title:"title",description:"description",time:"time",marker:"marker",fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeWidth:"stroke-width",strokeOpacity:"stroke-opacity"},eW={type:"FeatureCollection",features:[]},xcn={Point:{marker:An[Nr.SYMBOL].COLOR},MultiPoint:{marker:An[Nr.SYMBOL].COLOR},Polygon:{fill:An[Nr.FILL].COLOR,"fill-opacity":An[Nr.FILL].OPACITY,stroke:An[Nr.OUTLINE].COLOR,"stroke-opacity":An[Nr.OUTLINE].OPACITY,"stroke-width":An[Nr.OUTLINE].WIDTH},MultiPolygon:{fill:An[Nr.FILL].COLOR,"fill-opacity":An[Nr.FILL].OPACITY,stroke:An[Nr.OUTLINE].COLOR,"stroke-opacity":An[Nr.OUTLINE].OPACITY,"stroke-width":An[Nr.OUTLINE].WIDTH},LineString:{stroke:An[Nr.LINE].COLOR,"stroke-opacity":An[Nr.LINE].OPACITY,"stroke-width":An[Nr.LINE].WIDTH},MultiLineString:{stroke:An[Nr.LINE].COLOR,"stroke-opacity":An[Nr.LINE].OPACITY,"stroke-width":An[Nr.LINE].WIDTH},GeometryCollection:{fill:An[Nr.FILL].COLOR,"fill-opacity":An[Nr.FILL].OPACITY,stroke:An[Nr.LINE].COLOR,"stroke-opacity":An[Nr.LINE].OPACITY,"stroke-width":An[Nr.LINE].WIDTH}},utr={marker:{type:"color"},fill:{type:"color"},"fill-opacity":{step:.05,min:0,max:1,type:"number"},stroke:{type:"color"},"stroke-opacity":{max:1,min:0,step:.05,type:"number"},"stroke-width":{step:.1,min:0,max:20,type:"number"}},wcn=Object.keys(utr),Scn=[Wa.time,Wa.title,Wa.imgLink,Wa.description],JP={POINT:"Point",MULTI_POINT:"MultiPoint",POLYGON:"Polygon",MULTI_POLYGON:"MultiPolygon",LINE_STRING:"LineString",MULTI_LINE_STRING:"MultiLineString",GEOMETRY_COLLECTION:"GeometryCollection"};var gke=e=>({type:"Polygon",coordinates:[[[e[0],e[1]],[e[2],e[1]],[e[2],e[3]],[e[0],e[3]],[e[0],e[1]]]]}),tW=e=>{let{properties:t}=e,r=ptr(t);return dr(rt({},e),{properties:r})},rW=e=>{Object.hasOwn(e,"properties")||(e.properties={});let{properties:t}=e,r=ctr(t);return dr(rt({},e),{properties:r})},ctr=e=>{let t=e[Wa.time],r=ftr(t);return r.length===0?(delete e[Wa.time],e):dr(rt({},e),{[Wa.time]:r})},ptr=e=>{let t=e[Wa.time],r=dtr(t);return r.length===0?(delete e[Wa.time],e):dr(rt({},e),{[Wa.time]:r})},ftr=e=>{if(Array.isArray(e)){if(e.length!==2)return[];let t=QP(KP(e[0])).valueOf(),r=QP(KP(e[1])).valueOf();return Number.isNaN(t)||Number.isNaN(r)?[]:t>r?[r,t]:[t,r]}if(N1(e)){let t=QP(KP(e)).valueOf();return Number.isNaN(e)?[]:[t,t]}return[]},dtr=e=>{if(!Array.isArray(e))return[];if(e.length!==2)return[];let t=G1(e[0]),r=G1(e[1]);return t===""||r===""?[]:[t,r]},eO=e=>{if(!Ft(e))return[];let[t,r]=e;return!Ft(t)||!Ft(r)?[]:["any",["!",["has",Wa.time]],["all",["<=",["at",0,["get",Wa.time]],r*1e3],[">=",["at",1,["get",Wa.time]],t*1e3]]]};p();p();var vke=e=>{let t={};for(let r of Object.keys(Nr)){let n=Nr[r],i=`${e}-${n}`;t[i]=dr(rt({id:i,source:e,metadata:{[pp.id]:e}},JH[n]),{layout:dr(rt({},JH[n].layout),{visibility:"visible"})})}return t};p();var nW=class e{constructor(){if(this.constructor===e)throw new Error(`Abstract class '${this.constructor}' cannot be instantiated.`)}addLayerToMap(){throw new Error("Method 'addLayerToMap' must be implemented.")}removeLayerFromMap(){throw new Error("Method 'removeLayerFromMap' must be implemented.")}setDataOnMap(){throw new Error("Method 'setDataOnMap' must be implemented.")}getOpacity(){throw new Error("Method 'getOpacity' must be implemented.")}setOpacity(){throw new Error("Method 'setOpacity' must be implemented.")}isVisible(){throw new Error("Method 'isVisible' must be implemented.")}setVisibility(){throw new Error("Method 'setVisibility' must be implemented.")}isDisplayedInMap(){throw new Error("Method 'isDisplayedInMap' must be implemented.")}getLayerId(){throw new Error("Method 'getLayerId' must be implemented.")}move(){throw new Error("Method 'move' must be implemented.")}setFilters(){throw new Error("Method 'setFilters' must be implemented.")}resetFilters(){throw new Error("Method 'resetFilters' must be implemented.")}},tO=nW;var yke=[{type:"mousemove",handler:e=>e.target.getCanvas().style.cursor="pointer"},{type:"mouseleave",handler:e=>e.target.getCanvas().style.cursor=""}],Vh,$h,H1,Za,_ke,bke,fp,iW=class extends tO{constructor(r){super();io(this,Za);io(this,Vh,null);io(this,$h,[]);io(this,H1,{});oo(this,Vh,r)}addLayerToMap(r,n,i){var g,_;if(!Ft(r))return;let o=ur(this,Vh),u=vke(o);r.addSource(o,{type:"geojson",data:i});let d=r.getLayer(bs)!==void 0?bs:void 0;for(let[I,T]of Object.entries(u))r.addLayer(T,d),ur(this,$h).push(I),ur(this,H1)[I]=T.filter;if(Ft(n)){let{layerSettings:I}=n,T=(g=I==null?void 0:I.opacity)!=null?g:1,A=(_=I==null?void 0:I.visibility)!=null?_:"visible";this.setOpacity(r,T),this.setVisibility(r,A)}ki(this,Za,_ke).call(this,r)}removeLayerFromMap(r){if(Ft(r)){for(let{id:n}of ki(this,Za,fp).call(this,r))ki(this,Za,bke).call(this,r,n),r.removeLayer(n);r.removeSource(ur(this,Vh)),oo(this,$h,[])}}setDataOnMap(r,n){let i=r.getSource(ur(this,Vh));if(!Ft(i)){console.error("Cannot update geojson on map. Source layer not found");return}i.setData(n)}getOpacity(r){let n=ki(this,Za,fp).call(this,r),i=1,o=1;if(n.length===0)return null;for(let{id:u,type:d}of n){if(!QH(d))continue;let g=rE[d];i=r.getPaintProperty(u,g);break}if(typeof i=="number")return i;if(Array.isArray(i)&&i.length>0){if(i[0]==="*")return i[2];if(i[0]==="coalesce")return i[3]}return o}setOpacity(r,n){let i=ki(this,Za,fp).call(this,r);if(!(i.length===0||!Ft(n)))for(let{id:o,type:u}of i){if(!QH(u))continue;let d=An[u].OPACITY,g=rE[u],_=XH[u];r.setPaintProperty(o,g,["*",["coalesce",["feature-state",_],["get",_],d],n])}}isVisible(r){let n=ki(this,Za,fp).call(this,r);return n.length===0?!1:r.getLayoutProperty(n[0].id,"visibility")==="visible"}setVisibility(r,n){let i=ki(this,Za,fp).call(this,r);if(!(i.length===0||!Ft(n)))for(let{id:o}of i)r.setLayoutProperty(o,"visibility",n)}isDisplayedInMap(r){return r.getSource(ur(this,Vh))!==void 0}getLayerId(){return ur(this,$h).length>0?ur(this,$h)[0]:null}move(r,n){let i=ki(this,Za,fp).call(this,r),o=n;Ft(n)||(Ft(r.getLayer(bs))?o=bs:o=null),i.forEach(({id:u})=>{r.moveLayer(u,o)})}setFilters(r,n){let i=ki(this,Za,fp).call(this,r);if(i.length===0)return;let o=n==null?void 0:n.timeExtent,u=eO(o);for(let d of i){let{id:g}=d,I=["all",ur(this,H1)[g]];Ft(u)&&u.length>0&&I.push(u),r.setFilter(g,I)}}resetFilters(r){let n=ki(this,Za,fp).call(this,r);if(n.length!==0)for(let i of n){let{id:o}=i,u=ur(this,H1)[o];r.setFilter(o,u)}}};Vh=new WeakMap,$h=new WeakMap,H1=new WeakMap,Za=new WeakSet,_ke=function(r){for(let{id:n}of ki(this,Za,fp).call(this,r))for(let{type:i,handler:o}of yke)r.on(i,n,o)},bke=function(r,n){for(let{type:i,handler:o}of yke)r.off(i,n,o)},fp=function(r){let n=ur(this,$h).map(i=>r.getLayer(i));return n[0]===void 0?[]:n};var xke=iW;p();p();var wNe=se(PS(),1);p();p();var wke={};var oW=(e,t)=>wke.setState(e,t),rO=e=>sn(null,null,function*(){return wke.getStateAsync(e)});p();var oc={hoverPolygon:"hover_polygon",contentCertainty:"content_certainty",temporalCertainty:"temporal_certainty",spatialCertainty:"spatial_certainty",permalink:"permanent_link",parentLabel:"parent_label",tags:"tag",timeLabelDe:"time_label_edtf_de",timeLabelEn:"time_label_edtf_en",idohistLightColor:"idohist_light_color",idohistDarkColor:"idohist_dark_color"},nO="#00b19e",nE="#00927E",Xg={fill:.4,line:1},iE=["all",["==",["geometry-type"],"Polygon"],["==",["id"],"NON_EXISTING_ID"]],iO={fill:{type:"fill",paint:{"fill-color":["coalesce",["get","idohist_light_color"],nO],"fill-opacity":Xg.fill},filter:iE},outline:{type:"line",paint:{"line-color":["coalesce",["get","idohist_dark_color"],nE],"line-width":2,"line-opacity":Xg.line},filter:iE}},Ske={line:{type:"line",paint:{"line-color":["coalesce",["get","idohist_dark_color"],nE],"line-width":2,"line-opacity":Xg.line},filter:["==",["geometry-type"],"LineString"]},fill:{type:"fill",paint:{"fill-color":["coalesce",["get","idohist_light_color"],nO],"fill-opacity":Xg.fill},filter:["==",["geometry-type"],"Polygon"]},outline:{type:"line",paint:{"line-color":["coalesce",["get","idohist_dark_color"],nE],"line-width":2,"line-opacity":Xg.line},filter:["==",["geometry-type"],"Polygon"]}};p();p();p();p();function _a(e){return function(){return e}}p();var aW=Math.abs,ba=Math.atan2,Gh=Math.cos,Eke=Math.max,oO=Math.min,ac=Math.sin,Qg=Math.sqrt,xs=1e-12,W1=Math.PI,oE=W1/2,Z1=2*W1;function Ike(e){return e>1?0:e<-1?W1:Math.acos(e)}function sW(e){return e>=1?oE:e<=-1?-oE:Math.asin(e)}p();p();p();var lW=Math.PI,uW=2*lW,Jg=1e-6,htr=uW-Jg;function Tke(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function mtr(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Tke;let r=af(10,t);return function(n){this._+=n[0];for(let i=1,o=n.length;i<o;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}var ev=class{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Tke:mtr(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,o,u){this._append`C${+t},${+r},${+n},${+i},${this._x1=+o},${this._y1=+u}`}arcTo(t,r,n,i,o){if(t=+t,r=+r,n=+n,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let u=this._x1,d=this._y1,g=n-t,_=i-r,I=u-t,T=d-r,A=I*I+T*T;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(A>Jg)if(!(Math.abs(T*g-_*I)>Jg)||!o)this._append`L${this._x1=t},${this._y1=r}`;else{let q=n-u,z=i-d,U=g*g+_*_,N=q*q+z*z,L=Math.sqrt(U),F=Math.sqrt(A),H=o*Math.tan((lW-Math.acos((U+A-N)/(2*L*F)))/2),Y=H/F,te=H/L;Math.abs(Y-1)>Jg&&this._append`L${t+Y*I},${r+Y*T}`,this._append`A${o},${o},0,0,${+(T*q>I*z)},${this._x1=t+te*g},${this._y1=r+te*_}`}}arc(t,r,n,i,o,u){if(t=+t,r=+r,n=+n,u=!!u,n<0)throw new Error(`negative radius: ${n}`);let d=n*Math.cos(i),g=n*Math.sin(i),_=t+d,I=r+g,T=1^u,A=u?i-o:o-i;this._x1===null?this._append`M${_},${I}`:(Math.abs(this._x1-_)>Jg||Math.abs(this._y1-I)>Jg)&&this._append`L${_},${I}`,n&&(A<0&&(A=A%uW+uW),A>htr?this._append`A${n},${n},0,1,${T},${t-d},${r-g}A${n},${n},0,1,${T},${this._x1=_},${this._y1=I}`:A>Jg&&this._append`A${n},${n},0,${+(A>=lW)},${T},${this._x1=t+n*Math.cos(o)},${this._y1=r+n*Math.sin(o)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}};function Mke(){return new ev}Mke.prototype=ev.prototype;function Cke(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{let n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new ev(t)}function gtr(e){return e.innerRadius}function vtr(e){return e.outerRadius}function ytr(e){return e.startAngle}function _tr(e){return e.endAngle}function btr(e){return e&&e.padAngle}function xtr(e,t,r,n,i,o,u,d){var g=r-e,_=n-t,I=u-i,T=d-o,A=T*g-I*_;if(!(A*A<xs))return A=(I*(t-o)-T*(e-i))/A,[e+A*g,t+A*_]}function aO(e,t,r,n,i,o,u){var d=e-r,g=t-n,_=(u?o:-o)/Qg(d*d+g*g),I=_*g,T=-_*d,A=e+I,q=t+T,z=r+I,U=n+T,N=(A+z)/2,L=(q+U)/2,F=z-A,H=U-q,Y=F*F+H*H,te=i-o,oe=A*U-z*q,ue=(H<0?-1:1)*Qg(Eke(0,te*te*Y-oe*oe)),Ie=(oe*H-F*ue)/Y,Ee=(-oe*F-H*ue)/Y,ve=(oe*H+F*ue)/Y,xe=(-oe*F+H*ue)/Y,Pe=Ie-N,we=Ee-L,Oe=ve-N,Xe=xe-L;return Pe*Pe+we*we>Oe*Oe+Xe*Xe&&(Ie=ve,Ee=xe),{cx:Ie,cy:Ee,x01:-I,y01:-T,x11:Ie*(i/te-1),y11:Ee*(i/te-1)}}function sO(){var e=gtr,t=vtr,r=_a(0),n=null,i=ytr,o=_tr,u=btr,d=null,g=Cke(_);function _(){var I,T,A=+e.apply(this,arguments),q=+t.apply(this,arguments),z=i.apply(this,arguments)-oE,U=o.apply(this,arguments)-oE,N=aW(U-z),L=U>z;if(d||(d=I=g()),q<A&&(T=q,q=A,A=T),!(q>xs))d.moveTo(0,0);else if(N>Z1-xs)d.moveTo(q*Gh(z),q*ac(z)),d.arc(0,0,q,z,U,!L),A>xs&&(d.moveTo(A*Gh(U),A*ac(U)),d.arc(0,0,A,U,z,L));else{var F=z,H=U,Y=z,te=U,oe=N,ue=N,Ie=u.apply(this,arguments)/2,Ee=Ie>xs&&(n?+n.apply(this,arguments):Qg(A*A+q*q)),ve=oO(aW(q-A)/2,+r.apply(this,arguments)),xe=ve,Pe=ve,we,Oe;if(Ee>xs){var Xe=sW(Ee/A*ac(Ie)),lt=sW(Ee/q*ac(Ie));(oe-=Xe*2)>xs?(Xe*=L?1:-1,Y+=Xe,te-=Xe):(oe=0,Y=te=(z+U)/2),(ue-=lt*2)>xs?(lt*=L?1:-1,F+=lt,H-=lt):(ue=0,F=H=(z+U)/2)}var pt=q*Gh(F),qe=q*ac(F),ut=A*Gh(te),bt=A*ac(te);if(ve>xs){var wt=q*Gh(H),Ge=q*ac(H),st=A*Gh(Y),tt=A*ac(Y),je;if(N<W1)if(je=xtr(pt,qe,st,tt,wt,Ge,ut,bt)){var Me=pt-je[0],$e=qe-je[1],ze=wt-je[0],ot=Ge-je[1],it=1/ac(Ike((Me*ze+$e*ot)/(Qg(Me*Me+$e*$e)*Qg(ze*ze+ot*ot)))/2),vt=Qg(je[0]*je[0]+je[1]*je[1]);xe=oO(ve,(A-vt)/(it-1)),Pe=oO(ve,(q-vt)/(it+1))}else xe=Pe=0}ue>xs?Pe>xs?(we=aO(st,tt,pt,qe,q,Pe,L),Oe=aO(wt,Ge,ut,bt,q,Pe,L),d.moveTo(we.cx+we.x01,we.cy+we.y01),Pe<ve?d.arc(we.cx,we.cy,Pe,ba(we.y01,we.x01),ba(Oe.y01,Oe.x01),!L):(d.arc(we.cx,we.cy,Pe,ba(we.y01,we.x01),ba(we.y11,we.x11),!L),d.arc(0,0,q,ba(we.cy+we.y11,we.cx+we.x11),ba(Oe.cy+Oe.y11,Oe.cx+Oe.x11),!L),d.arc(Oe.cx,Oe.cy,Pe,ba(Oe.y11,Oe.x11),ba(Oe.y01,Oe.x01),!L))):(d.moveTo(pt,qe),d.arc(0,0,q,F,H,!L)):d.moveTo(pt,qe),!(A>xs)||!(oe>xs)?d.lineTo(ut,bt):xe>xs?(we=aO(ut,bt,wt,Ge,A,-xe,L),Oe=aO(pt,qe,st,tt,A,-xe,L),d.lineTo(we.cx+we.x01,we.cy+we.y01),xe<ve?d.arc(we.cx,we.cy,xe,ba(we.y01,we.x01),ba(Oe.y01,Oe.x01),!L):(d.arc(we.cx,we.cy,xe,ba(we.y01,we.x01),ba(we.y11,we.x11),!L),d.arc(0,0,A,ba(we.cy+we.y11,we.cx+we.x11),ba(Oe.cy+Oe.y11,Oe.cx+Oe.x11),L),d.arc(Oe.cx,Oe.cy,xe,ba(Oe.y11,Oe.x11),ba(Oe.y01,Oe.x01),!L))):d.arc(0,0,A,te,Y,L)}if(d.closePath(),I)return d=null,I+""||null}return _.centroid=function(){var I=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,T=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-W1/2;return[Gh(T)*I,ac(T)*I]},_.innerRadius=function(I){return arguments.length?(e=typeof I=="function"?I:_a(+I),_):e},_.outerRadius=function(I){return arguments.length?(t=typeof I=="function"?I:_a(+I),_):t},_.cornerRadius=function(I){return arguments.length?(r=typeof I=="function"?I:_a(+I),_):r},_.padRadius=function(I){return arguments.length?(n=I==null?null:typeof I=="function"?I:_a(+I),_):n},_.startAngle=function(I){return arguments.length?(i=typeof I=="function"?I:_a(+I),_):i},_.endAngle=function(I){return arguments.length?(o=typeof I=="function"?I:_a(+I),_):o},_.padAngle=function(I){return arguments.length?(u=typeof I=="function"?I:_a(+I),_):u},_.context=function(I){return arguments.length?(d=I==null?null:I,_):d},_}p();var Epn=Array.prototype.slice;function Ake(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}p();p();function Pke(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}p();function Oke(e){return e}function cW(){var e=Oke,t=Pke,r=null,n=_a(0),i=_a(Z1),o=_a(0);function u(d){var g,_=(d=Ake(d)).length,I,T,A=0,q=new Array(_),z=new Array(_),U=+n.apply(this,arguments),N=Math.min(Z1,Math.max(-Z1,i.apply(this,arguments)-U)),L,F=Math.min(Math.abs(N)/_,o.apply(this,arguments)),H=F*(N<0?-1:1),Y;for(g=0;g<_;++g)(Y=z[q[g]=g]=+e(d[g],g,d))>0&&(A+=Y);for(t!=null?q.sort(function(te,oe){return t(z[te],z[oe])}):r!=null&&q.sort(function(te,oe){return r(d[te],d[oe])}),g=0,T=A?(N-_*H)/A:0;g<_;++g,U=L)I=q[g],Y=z[I],L=U+(Y>0?Y*T:0)+H,z[I]={data:d[I],index:g,value:Y,startAngle:U,endAngle:L,padAngle:F};return z}return u.value=function(d){return arguments.length?(e=typeof d=="function"?d:_a(+d),u):e},u.sortValues=function(d){return arguments.length?(t=d,r=null,u):t},u.sort=function(d){return arguments.length?(r=d,t=null,u):r},u.startAngle=function(d){return arguments.length?(n=typeof d=="function"?d:_a(+d),u):n},u.endAngle=function(d){return arguments.length?(i=typeof d=="function"?d:_a(+d),u):i},u.padAngle=function(d){return arguments.length?(o=typeof d=="function"?d:_a(+d),u):o},u}p();p();p();p();var lO="http://www.w3.org/1999/xhtml",pW={svg:"http://www.w3.org/2000/svg",xhtml:lO,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function uO(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),pW.hasOwnProperty(t)?{space:pW[t],local:e}:e}function wtr(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===lO&&t.documentElement.namespaceURI===lO?t.createElement(e):t.createElementNS(r,e)}}function Str(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function cO(e){var t=uO(e);return(t.local?Str:wtr)(t)}p();p();p();p();function Etr(){}function pO(e){return e==null?Etr:function(){return this.querySelector(e)}}function Dke(e){typeof e!="function"&&(e=pO(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var o=t[i],u=o.length,d=n[i]=new Array(u),g,_,I=0;I<u;++I)(g=o[I])&&(_=e.call(g,g.__data__,I,o))&&("__data__"in g&&(_.__data__=g.__data__),d[I]=_);return new Ji(n,this._parents)}p();p();function fW(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}p();function Itr(){return[]}function kke(e){return e==null?Itr:function(){return this.querySelectorAll(e)}}function Ttr(e){return function(){return fW(e.apply(this,arguments))}}function Nke(e){typeof e=="function"?e=Ttr(e):e=kke(e);for(var t=this._groups,r=t.length,n=[],i=[],o=0;o<r;++o)for(var u=t[o],d=u.length,g,_=0;_<d;++_)(g=u[_])&&(n.push(e.call(g,g.__data__,_,u)),i.push(g));return new Ji(n,i)}p();p();function Rke(e){return function(){return this.matches(e)}}function fO(e){return function(t){return t.matches(e)}}var Mtr=Array.prototype.find;function Ctr(e){return function(){return Mtr.call(this.children,e)}}function Atr(){return this.firstElementChild}function Lke(e){return this.select(e==null?Atr:Ctr(typeof e=="function"?e:fO(e)))}p();var Ptr=Array.prototype.filter;function Otr(){return Array.from(this.children)}function Dtr(e){return function(){return Ptr.call(this.children,e)}}function qke(e){return this.selectAll(e==null?Otr:Dtr(typeof e=="function"?e:fO(e)))}p();function zke(e){typeof e!="function"&&(e=Rke(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var o=t[i],u=o.length,d=n[i]=[],g,_=0;_<u;++_)(g=o[_])&&e.call(g,g.__data__,_,o)&&d.push(g);return new Ji(n,this._parents)}p();p();p();function dO(e){return new Array(e.length)}function jke(){return new Ji(this._enter||this._groups.map(dO),this._parents)}function aE(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}aE.prototype={constructor:aE,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};p();function Fke(e){return function(){return e}}function ktr(e,t,r,n,i,o){for(var u=0,d,g=t.length,_=o.length;u<_;++u)(d=t[u])?(d.__data__=o[u],n[u]=d):r[u]=new aE(e,o[u]);for(;u<g;++u)(d=t[u])&&(i[u]=d)}function Ntr(e,t,r,n,i,o,u){var d,g,_=new Map,I=t.length,T=o.length,A=new Array(I),q;for(d=0;d<I;++d)(g=t[d])&&(A[d]=q=u.call(g,g.__data__,d,t)+"",_.has(q)?i[d]=g:_.set(q,g));for(d=0;d<T;++d)q=u.call(e,o[d],d,o)+"",(g=_.get(q))?(n[d]=g,g.__data__=o[d],_.delete(q)):r[d]=new aE(e,o[d]);for(d=0;d<I;++d)(g=t[d])&&_.get(A[d])===g&&(i[d]=g)}function Rtr(e){return e.__data__}function Bke(e,t){if(!arguments.length)return Array.from(this,Rtr);var r=t?Ntr:ktr,n=this._parents,i=this._groups;typeof e!="function"&&(e=Fke(e));for(var o=i.length,u=new Array(o),d=new Array(o),g=new Array(o),_=0;_<o;++_){var I=n[_],T=i[_],A=T.length,q=Ltr(e.call(I,I&&I.__data__,_,n)),z=q.length,U=d[_]=new Array(z),N=u[_]=new Array(z),L=g[_]=new Array(A);r(I,T,U,N,L,q,t);for(var F=0,H=0,Y,te;F<z;++F)if(Y=U[F]){for(F>=H&&(H=F+1);!(te=N[H])&&++H<z;);Y._next=te||null}}return u=new Ji(u,n),u._enter=d,u._exit=g,u}function Ltr(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}p();function Uke(){return new Ji(this._exit||this._groups.map(dO),this._parents)}p();function Vke(e,t,r){var n=this.enter(),i=this,o=this.exit();return typeof e=="function"?(n=e(n),n&&(n=n.selection())):n=n.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),r==null?o.remove():r(o),n&&i?n.merge(i).order():i}p();function $ke(e){for(var t=e.selection?e.selection():e,r=this._groups,n=t._groups,i=r.length,o=n.length,u=Math.min(i,o),d=new Array(i),g=0;g<u;++g)for(var _=r[g],I=n[g],T=_.length,A=d[g]=new Array(T),q,z=0;z<T;++z)(q=_[z]||I[z])&&(A[z]=q);for(;g<i;++g)d[g]=r[g];return new Ji(d,this._parents)}p();function Gke(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n=e[t],i=n.length-1,o=n[i],u;--i>=0;)(u=n[i])&&(o&&u.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(u,o),o=u);return this}p();function Hke(e){e||(e=qtr);function t(T,A){return T&&A?e(T.__data__,A.__data__):!T-!A}for(var r=this._groups,n=r.length,i=new Array(n),o=0;o<n;++o){for(var u=r[o],d=u.length,g=i[o]=new Array(d),_,I=0;I<d;++I)(_=u[I])&&(g[I]=_);g.sort(t)}return new Ji(i,this._parents).order()}function qtr(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}p();function Wke(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}p();function Zke(){return Array.from(this)}p();function Yke(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,o=n.length;i<o;++i){var u=n[i];if(u)return u}return null}p();function Kke(){let e=0;for(let t of this)++e;return e}p();function Xke(){return!this.node()}p();function Qke(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var i=t[r],o=0,u=i.length,d;o<u;++o)(d=i[o])&&e.call(d,d.__data__,o,i);return this}p();function ztr(e){return function(){this.removeAttribute(e)}}function jtr(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Ftr(e,t){return function(){this.setAttribute(e,t)}}function Btr(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Utr(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function Vtr(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function Jke(e,t){var r=uO(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((t==null?r.local?jtr:ztr:typeof t=="function"?r.local?Vtr:Utr:r.local?Btr:Ftr)(r,t))}p();p();function hO(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function $tr(e){return function(){this.style.removeProperty(e)}}function Gtr(e,t,r){return function(){this.style.setProperty(e,t,r)}}function Htr(e,t,r){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function eNe(e,t,r){return arguments.length>1?this.each((t==null?$tr:typeof t=="function"?Htr:Gtr)(e,t,r==null?"":r)):Wtr(this.node(),e)}function Wtr(e,t){return e.style.getPropertyValue(t)||hO(e).getComputedStyle(e,null).getPropertyValue(t)}p();function Ztr(e){return function(){delete this[e]}}function Ytr(e,t){return function(){this[e]=t}}function Ktr(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function tNe(e,t){return arguments.length>1?this.each((t==null?Ztr:typeof t=="function"?Ktr:Ytr)(e,t)):this.node()[e]}p();function rNe(e){return e.trim().split(/^|\s+/)}function dW(e){return e.classList||new nNe(e)}function nNe(e){this._node=e,this._names=rNe(e.getAttribute("class")||"")}nNe.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function iNe(e,t){for(var r=dW(e),n=-1,i=t.length;++n<i;)r.add(t[n])}function oNe(e,t){for(var r=dW(e),n=-1,i=t.length;++n<i;)r.remove(t[n])}function Xtr(e){return function(){iNe(this,e)}}function Qtr(e){return function(){oNe(this,e)}}function Jtr(e,t){return function(){(t.apply(this,arguments)?iNe:oNe)(this,e)}}function aNe(e,t){var r=rNe(e+"");if(arguments.length<2){for(var n=dW(this.node()),i=-1,o=r.length;++i<o;)if(!n.contains(r[i]))return!1;return!0}return this.each((typeof t=="function"?Jtr:t?Xtr:Qtr)(r,t))}p();function err(){this.textContent=""}function trr(e){return function(){this.textContent=e}}function rrr(e){return function(){var t=e.apply(this,arguments);this.textContent=t==null?"":t}}function sNe(e){return arguments.length?this.each(e==null?err:(typeof e=="function"?rrr:trr)(e)):this.node().textContent}p();function nrr(){this.innerHTML=""}function irr(e){return function(){this.innerHTML=e}}function orr(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t==null?"":t}}function lNe(e){return arguments.length?this.each(e==null?nrr:(typeof e=="function"?orr:irr)(e)):this.node().innerHTML}p();function arr(){this.nextSibling&&this.parentNode.appendChild(this)}function uNe(){return this.each(arr)}p();function srr(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function cNe(){return this.each(srr)}p();function pNe(e){var t=typeof e=="function"?e:cO(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}p();function lrr(){return null}function fNe(e,t){var r=typeof e=="function"?e:cO(e),n=t==null?lrr:typeof t=="function"?t:pO(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}p();function urr(){var e=this.parentNode;e&&e.removeChild(this)}function dNe(){return this.each(urr)}p();function crr(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function prr(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function hNe(e){return this.select(e?prr:crr)}p();function mNe(e){return arguments.length?this.property("__data__",e):this.node().__data__}p();function frr(e){return function(t){e.call(this,t,this.__data__)}}function drr(e){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");return n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),{type:t,name:r}})}function hrr(e){return function(){var t=this.__on;if(t){for(var r=0,n=-1,i=t.length,o;r<i;++r)o=t[r],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++n]=o;++n?t.length=n:delete this.__on}}}function mrr(e,t,r){return function(){var n=this.__on,i,o=frr(t);if(n){for(var u=0,d=n.length;u<d;++u)if((i=n[u]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=r),i.value=t;return}}this.addEventListener(e.type,o,r),i={type:e.type,name:e.name,value:t,listener:o,options:r},n?n.push(i):this.__on=[i]}}function gNe(e,t,r){var n=drr(e+""),i,o=n.length,u;if(arguments.length<2){var d=this.node().__on;if(d){for(var g=0,_=d.length,I;g<_;++g)for(i=0,I=d[g];i<o;++i)if((u=n[i]).type===I.type&&u.name===I.name)return I.value}return}for(d=t?mrr:hrr,i=0;i<o;++i)this.each(d(n[i],t,r));return this}p();function vNe(e,t,r){var n=hO(e),i=n.CustomEvent;typeof i=="function"?i=new i(t,r):(i=n.document.createEvent("Event"),r?(i.initEvent(t,r.bubbles,r.cancelable),i.detail=r.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function grr(e,t){return function(){return vNe(this,e,t)}}function vrr(e,t){return function(){return vNe(this,e,t.apply(this,arguments))}}function yNe(e,t){return this.each((typeof t=="function"?vrr:grr)(e,t))}p();function*_Ne(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,o=n.length,u;i<o;++i)(u=n[i])&&(yield u)}var hW=[null];function Ji(e,t){this._groups=e,this._parents=t}function yrr(){return new Ji([[document.documentElement]],hW)}function _rr(){return this}Ji.prototype=yrr.prototype={constructor:Ji,select:Dke,selectAll:Nke,selectChild:Lke,selectChildren:qke,filter:zke,data:Bke,enter:jke,exit:Uke,join:Vke,merge:$ke,selection:_rr,order:Gke,sort:Hke,call:Wke,nodes:Zke,node:Yke,size:Kke,empty:Xke,each:Qke,attr:Jke,style:eNe,property:tNe,classed:aNe,text:sNe,html:lNe,raise:uNe,lower:cNe,append:pNe,insert:fNe,remove:dNe,clone:hNe,datum:mNe,on:gNe,dispatch:yNe,[Symbol.iterator]:_Ne};function mO(e){return typeof e=="string"?new Ji([[document.querySelector(e)]],[document.documentElement]):new Ji([[e]],hW)}var sc={},mW="http://www.w3.org/2000/svg";typeof document!="undefined"&&(sc.svg=document.createElementNS(mW,"svg"),sc.arcs=document.createElementNS(mW,"g"),sc.arcs.classList.add("arcs"),sc.circle=document.createElementNS(mW,"circle"),sc.circle.classList.add("circle"));var gW=45,brr=(e,t)=>{let n=t-7-4,i=7+(1-e)*n,o=Math.round((1-e)*7),u=sc.circle.cloneNode();return u.setAttribute("r",i),u.style.setProperty("--idohist-spatial-blur",`${o}px`),u.classList.add("spatial-certainty"),u},xrr=()=>{let e=sc.circle.cloneNode();return e.setAttribute("r",gW),e.classList.add("background"),e},bNe=e=>{let t=sc.circle.cloneNode();return t.setAttribute("r",e),t.classList.add("track"),t},xNe=({spatialCertainty:e,temporalCertainty:t,contentCertainty:r,lightColor:n,darkColor:i})=>{let o=gW*2,u=5,d=3,g=6,_=gW-u,I=_-g,T=I-d,A=T-g,q=bNe(T-(T-A)/2),z=bNe(_-(_-I)/2),U=brr(e,A),N=xrr(),L=sc.svg.cloneNode();L.style.setProperty("--idohist-light-color",n),L.style.setProperty("--idohist-dark-color",i);let F=sc.arcs.cloneNode();F.classList.add("temporal");let H=sc.arcs.cloneNode();H.classList.add("content");let Y={content:[{value:r,cssClass:"certainty"},{value:1-r,cssClass:"uncertainty"}],temporal:[{value:t,cssClass:"certainty"},{value:1-t,cssClass:"uncertainty"}]},te=sO().innerRadius(_).outerRadius(I),oe=sO().innerRadius(A).outerRadius(T),ue=cW().sort(null).value(ve=>ve.value),Ie=mO(H),Ee=mO(F);return Ie.selectAll().data(ue(Y.content)).enter().append("path").attr("d",te).attr("class",ve=>ve.data.cssClass),Ee.selectAll().data(ue(Y.temporal)).enter().append("path").attr("d",oe).attr("class",ve=>ve.data.cssClass),L.setAttribute("viewBox",`${-o/2}, ${-o/2}, ${o}, ${o}`),L.append(N,U,q,z,F,H),L};var SNe="marker-idohist",ENe="data-vkf-feature-id",INe="data-vkf-source-id",TNe="data-vkf-source-id-hover",vO="data-vkf-visibility",yW=Symbol("vkf:feature-properties"),wrr={type:"Polygon",coordinates:[]},Srr=typeof document!="undefined"?document.createElement("div"):{},_W=e=>{if(!Ft(e))return;let t=e.closest(`div.${SNe}`),r=parseInt(t.getAttribute(ENe),10),n=t.getAttribute(INe),i=t.getAttribute(TNe),o=t.getAttribute(vO);return{featureId:r,sourceId:n,sourceIdHover:i,visibility:o}},MNe=(e,t,r)=>{if(!Ft(e))return;let n=Object.keys(iO).map(i=>`${t}-${i}`);for(let i of n){if(!Ft(r)){e.setFilter(i,iE);continue}let o=["all",iE[1],["==",["id"],r]];e.setFilter(i,o)}},Err=e=>{e.stopPropagation();let{target:t}=e,{featureId:r,sourceId:n,visibility:i}=_W(t);i!==kf.NONE&&oW(bW,{featureId:r,sourceId:n})},Irr=e=>{e.stopPropagation();let{target:t}=e,{featureId:r,sourceIdHover:n,visibility:i}=_W(t);i!==kf.NONE&&rO(Sn).then(o=>{MNe(o,n,r)})},Trr=e=>{e.stopPropagation();let{target:t}=e,{sourceIdHover:r,visibility:n}=_W(t);n!==kf.NONE&&rO(Sn).then(i=>{MNe(i,r,null)})},CNe=(e,{sourceId:t,sourceIdHover:r})=>{let n=e.geometry.coordinates,i=e.id,{properties:o}=e,u=vW(o[oc.contentCertainty]),d=vW(o[oc.temporalCertainty]),g=vW(o[oc.spatialCertainty]),{lightColor:_,darkColor:I}=DNe(o),T=Srr.cloneNode();T.classList.add(SNe),T.setAttribute(ENe,i),T.setAttribute(INe,t),T.setAttribute(TNe,r);let A=xNe({spatialCertainty:g,temporalCertainty:d,contentCertainty:u,lightColor:_,darkColor:I});T.appendChild(A),T.addEventListener("click",Err),T.addEventListener("mouseenter",Irr),T.addEventListener("mouseleave",Trr);let q=new wNe.Marker({element:T});return q.isVisible=!0,q.setLngLat(n),q[yW]=e.properties,q},ANe=e=>{let{properties:t}=e,r=wrr;Object.hasOwn(t,oc.hoverPolygon)&&t[oc.hoverPolygon].type==="Polygon"&&(r=t[oc.hoverPolygon]);let{lightColor:n,darkColor:i}=DNe(t);return{type:"Feature",geometry:r,id:e.id,properties:{[oc.idohistLightColor]:n,[oc.idohistDarkColor]:i}}},PNe=(e,t,r)=>{let n={};for(let i of Object.keys(t)){let o=`${e}-${i}`;n[o]=rt(dr(rt({id:o,source:e},t[i]),{layout:dr(rt({},t[i].layout),{visibility:"visible"})}),r&&{metadata:{[pp.id]:e,[pp.contentType]:Wg.IDOHIST}})}return n},gO={largeZoom:{slope:.04,intercept:.24},smallZoom:{slope:.038,intercept:.06}},ONe=e=>e>14?gO.largeZoom.slope*e+gO.largeZoom.intercept:gO.smallZoom.slope*e+gO.smallZoom.intercept,vW=e=>Number.isNaN(Number.parseFloat(e))||e<0?0:e>1?1:e,DNe=e=>{var n,i;let t=(n=e[oc.idohistDarkColor])!=null?n:nE,r=(i=e[oc.idohistLightColor])!=null?i:nO;return{darkColor:t,lightColor:r}};var kNe=[{type:"mousemove",handler:e=>e.target.getCanvas().style.cursor="pointer"},{type:"mouseleave",handler:e=>e.target.getCanvas().style.cursor=""}],NNe=(e,{sourceId:t,sourceIdHover:r})=>{let n={type:"FeatureCollection",features:[]},i=[];for(let o of e.features){if(o.geometry.type!=="Point")continue;let u=CNe(o,{sourceIdHover:r,sourceId:t});i.push(u);let d=ANe(o);n.features.push(d)}return{markers:i,geoJsonHoverPolygons:n}},xa,lc,uc,K1,sE,Rf,X1,hu,Y1,RNe,LNe,xW=class extends tO{constructor(r){super();io(this,hu);io(this,xa,[]);io(this,lc,null);io(this,uc,null);io(this,K1,!0);io(this,sE,1);io(this,Rf,[]);io(this,X1,{});oo(this,lc,r),oo(this,uc,`${r}-hover`)}addLayerToMap(r,n,i){var _,I;if(!Ft(r))return;let{markers:o,geoJsonHoverPolygons:u}=NNe(i,{sourceId:ur(this,lc),sourceIdHover:ur(this,uc)});oo(this,xa,o),ur(this,xa).forEach(T=>T.addTo(r));let d=r.getLayer(bs)!==void 0?bs:void 0,g=[{sourceId:ur(this,lc),definition:Ske,data:i,hasPopup:!0},{sourceId:ur(this,uc),definition:iO,data:u,hasPopup:!1}];for(let{sourceId:T,definition:A,data:q,hasPopup:z}of g){r.addSource(T,{type:"geojson",data:q});let U=PNe(T,A,z);for(let[N,L]of Object.entries(U))r.addLayer(L,d),ur(this,Rf).push(N),ur(this,X1)[N]=L.filter}if(Ft(n)){let{layerSettings:T}=n,A=(_=T==null?void 0:T.opacity)!=null?_:1,q=(I=T==null?void 0:T.visibility)!=null?I:"visible";this.setVisibility(r,q),this.setOpacity(r,A)}ki(this,hu,RNe).call(this,r)}removeLayerFromMap(r){ur(this,xa).forEach(n=>n.remove()),oo(this,xa,[]);for(let n of ur(this,Rf))ki(this,hu,LNe).call(this,r,n),r.removeLayer(n);r.removeSource(ur(this,lc)),r.removeSource(ur(this,uc)),oo(this,Rf,[])}setDataOnMap(r,n){let{markers:i,geoJsonHoverPolygons:o}=NNe(n,{sourceId:ur(this,lc),sourceIdHover:ur(this,uc)});ur(this,xa).forEach(g=>g.remove()),oo(this,xa,i),ur(this,xa).forEach(g=>g.addTo(r));let u=r.getSource(ur(this,lc)),d=r.getSource(ur(this,uc));if(!Ft(u)||!Ft(d)){console.error("Cannot update geojson on map. Source layer not found");return}u.setData(n),d.setData(o)}getOpacity(){return ur(this,sE)}setOpacity(r,n){if(!Ft(n))return;oo(this,sE,n),ur(this,xa).forEach(o=>o.setOpacity(n,0));let i=ki(this,hu,Y1).call(this,r);for(let{id:o,type:u}of i){let d=Xg[u],g=rE[u];r.setPaintProperty(o,g,["*",d,n])}}isVisible(){return ur(this,xa).length===0?!1:ur(this,K1)}setVisibility(r,n){let i=ki(this,hu,Y1).call(this,r);if(!(i.length===0||!Ft(n))){for(let{id:o}of i)r.setLayoutProperty(o,"visibility",n);if(n===kf.VISIBLE){for(let o of ur(this,xa)){let u=o.getElement();u.setAttribute(vO,kf.VISIBLE),u.style.setProperty("display","block")}oo(this,K1,!0),r.fireVisibilityChanged(ur(this,lc),n),r.fireVisibilityChanged(ur(this,uc),n);return}if(n===kf.NONE){for(let o of ur(this,xa)){let u=o.getElement();u.setAttribute(vO,kf.NONE),u.style.setProperty("display","none")}oo(this,K1,!1),r.fireVisibilityChanged(ur(this,lc),n),r.fireVisibilityChanged(ur(this,uc),n);return}}}isDisplayedInMap(){return ur(this,xa).length>0}getLayerId(){return ur(this,Rf).length>0?ur(this,Rf)[0]:null}move(){}setFilters(r,n){let i=n==null?void 0:n.timeExtent,o=eO(i),u=ki(this,hu,Y1).call(this,r);for(let d of u){let{id:g}=d,I=["all",ur(this,X1)[g]];Ft(o)&&o.length>0&&I.push(o),r.setFilter(g,I)}for(let d of ur(this,xa)){let[g,_]=d[yW][Wa.time],{timeExtent:I}=n;g<=I[1]*1e3&&_>=I[0]*1e3?d.addTo(r):d.remove()}}resetFilters(r){let n=ki(this,hu,Y1).call(this,r);ur(this,xa).forEach(i=>i.addTo(r));for(let i of n){let{id:o}=i,u=ur(this,X1)[o];r.setFilter(o,u)}}};xa=new WeakMap,lc=new WeakMap,uc=new WeakMap,K1=new WeakMap,sE=new WeakMap,Rf=new WeakMap,X1=new WeakMap,hu=new WeakSet,Y1=function(r){let n=ur(this,Rf).map(i=>r.getLayer(i));return n[0]===void 0?[]:n},RNe=function(r){for(let{id:n}of ki(this,hu,Y1).call(this,r))for(let{type:i,handler:o}of kNe)r.on(i,n,o)},LNe=function(r,n){for(let{type:i,handler:o}of kNe)r.off(i,n,o)};var qNe=xW;var tv,wa,yO,zNe,Lf=class Lf extends V1{constructor({metadata:r,geometry:n,geoJson:i}){if(!ur(Lf,tv))throw new TypeError("Constructor is private. Use GeoJsonLayer.fromApplication() or GeoJsonLayer.fromPersistence() instead.");oo(Lf,tv,!1);super({metadata:r,geometry:n});io(this,yO);ct(this,"geoJSON",{});io(this,wa,null);ki(this,yO,zNe).call(this,i),this.metadata[Kt.externalContentType]===Wg.IDOHIST?oo(this,wa,new qNe(this.getId())):oo(this,wa,new xke(this.getId()))}static fromApplication(r){return oo(Lf,tv,!0),new Lf(r)}static fromPersistence({metadata:r,geometry:n,geoJson:i}){oo(Lf,tv,!0);let o=i.features.map(rW),u=dr(rt({},i),{features:o});return new Lf({metadata:r,geometry:n,geoJson:u})}getGeoJson(){return this.geoJSON}getGeoJsonForPersistence(){var i;let r=structuredClone(this.getGeoJson()),n=(i=r.features)!=null?i:[];return n=n.map(tW),r.features=n,r}setGeoJson(r){let n=r.features.map((o,u)=>(Object.hasOwn(o,"properties")||(o.properties={}),Ft(o.id)?rt({},o):dr(rt({},o),{id:u+1}))),i=dr(rt({},r),{features:n});this.geoJSON=i}getFeature(r){let n=this.geoJSON.features.find(i=>i.id===r);return Ft(n)?n:(console.warn(`No feature found for id '${r}'`),null)}getType(){return Ha.VECTOR_MAP}isRemote(){return Ft(this.metadata[Kt.vectorMapId])}isLocal(){return!this.isRemote()}isExternalVectorMap(){let r=this.metadata[Kt.externalContentUrl];return Ft(r)&&Y4(r)}getPreviewFeature(){let r=this.getMetadata(Kt.bounds);return{type:"Feature",properties:{},geometry:gke(r)}}addLayerToMap(r,n){ur(this,wa).addLayerToMap(r,n,this.geoJSON)}removeMapLibreLayers(r){ur(this,wa).removeLayerFromMap(r)}setDataOnMap(r,n){!Ft(r)||!Ft(n)||(this.setGeoJson(n),ur(this,wa).setDataOnMap(r,this.geoJSON))}getMapLibreLayerId(){return ur(this,wa).getLayerId()}getOpacity(r){return ur(this,wa).getOpacity(r)}setOpacity(r,n){ur(this,wa).setOpacity(r,n)}isVisible(r){return ur(this,wa).isVisible(r)}setVisibility(r,n){ur(this,wa).setVisibility(r,n)}isDisplayedInMap(r){return ur(this,wa).isDisplayedInMap(r)}move(r,n){ur(this,wa).move(r,n)}moveToTop(r){this.move(r,null)}setFilters(r,n){if(!Ft(n)||(n==null?void 0:n.length)===0){ur(this,wa).resetFilters(r);return}ur(this,wa).setFilters(r,n)}static toApplicationState(r){var o;if(!Ft(r))return r;let n=structuredClone(r),i=(o=n.features)!=null?o:[];return i=i.map(rW),n.features=i,n}static toPersistenceState(r){var o;if(!Ft(r))return r;let n=structuredClone(r),i=(o=n.features)!=null?o:[];return i=i.map(tW),n.features=i,n}};tv=new WeakMap,wa=new WeakMap,yO=new WeakSet,zNe=function(r){var i,o;this.setGeoJson(r);let n=this.geometry?JS(this.geometry):JS(this.geoJSON);this.metadata[Kt.bounds]=n,this.metadata[Kt.id]=(i=this.metadata[Kt.id])!=null?i:crypto.randomUUID(),this.metadata[Kt.timePeriod]=(o=this.metadata[Kt.timePeriod])!=null?o:mke(),this.metadata[Kt.hasGeoReference]=!0},io(Lf,tv,!1);var wW=Lf,jNe=wW;var rv=jNe;p();p();var Mrr=`${Kt.timePeriod}_start`,Crr=`${Kt.timePeriod}_end`;var Wmn=[{label:"VKF",value:Wg.VKF},{label:"IDOHIST",value:Wg.IDOHIST}],FNe=e=>({[Kt.title]:e[Kt.title],[Kt.timePeriod]:e[Kt.timePeriod],[Kt.description]:e[Kt.description],[Kt.externalContentUrl]:e[Kt.externalContentUrl],[Kt.externalContentType]:e[Kt.externalContentType],[Kt.thumbnailUrl]:e[Kt.thumbnailUrl]});var Q1=mn({key:"activeBasemapId",default:kr.getSettings().BASEMAPS[0].id}),BNe=mn({key:"currentApplicationState",default:void 0}),_O=mn({key:"elementScreenSize",default:{map:{height:0,width:0}}}),UNe={facets:[],georeference:!1},Hh=mn({key:"facetState",default:{facets:[],georeference:!1}}),bO=mn({key:"layoutState",default:cp.VERTICAL}),rgn=mn({key:"horizontalLayoutModeState",default:wDe.STANDARD}),Sn=mn({key:"mapState",default:void 0,dangerouslyAllowMutability:!0}),VNe=mn({key:"map3dState",default:!1}),xO=mn({key:"mapCountState",default:10}),wO=mn({key:"searchIsLoadingState",default:!1}),Ys=mn({key:"selectedLayersState",default:[],dangerouslyAllowMutability:!0}),ngn=mn({key:"selectedOriginalMapIdState",default:void 0}),SW=mn({key:"selectedGeoJsonLayerIdState",default:void 0}),Arr=mn({key:"selectedGeoJsonLayerLastUpdatedState",default:0}),ign=$g({key:"selectedGeoJsonLayerState",get:({get:e})=>{let t=e(SW),r=e(Ys),n=e(Arr);return{selectedLayer:r.find(o=>o.getId()===t),lastUpdated:n}},dangerouslyAllowMutability:!0}),bW=mn({key:"selectedGeoJsonFeatureIdentifierState",default:null}),$Ne=$g({key:"isGeoJsonFeatureSelectedState",get:({get:e})=>{let t=e(bW);if(!Ft(t))return!1;let{featureId:r,sourceId:n}=t;return Ft(r)&&Ft(n)}}),SO=mn({key:"timeExtentState",default:[1850,1970]}),EW=[1850,1970],EO=mn({key:"timeRangeState",default:EW}),IO=mn({key:"baseMapStyleLayersState",default:[]}),GNe=mn({key:"activeDialogState",default:Ws.None}),ogn=mn({key:"drawState",default:void 0}),agn=mn({key:"editedGeojsonState",default:null}),sgn=mn({key:"metadataDrawState",default:null}),lgn=mn({key:"vectorMapState",default:null}),Prr=mn({key:"vectorMapActiveVersionDrawState",default:null}),ugn=$g({key:"isActiveVectorMapVersionDifferentState",get:({get:e})=>e(Prr)!==null}),cgn=mn({key:"showDropZoneState",default:!1}),pgn=mn({key:"addedFileState",default:null}),fgn=mn({key:"addGeoJsonDialogState",default:!1}),dgn=mn({key:"drawModePanelState",default:bDe.NONE}),hgn=mn({key:"vectorMapExternalModePanelState",default:xDe.NONE}),IW=mn({key:"layerExternalVectorMapState",default:null,dangerouslyAllowMutability:!0}),HNe=mn({key:"forceUpdateLayerExternalVectorMapState",default:0}),mgn=$g({key:"metadataExternalVectorMapState",get:({get:e})=>{e(HNe);let t=e(IW);return Ft(t)?FNe(t.getMetadata()):null},dangerouslyAllowMutability:!0}),ggn=$g({key:"geojsonExternalVectorMapState",get:({get:e})=>{e(HNe);let t=e(IW);return Ft(t)?t.getGeoJson():null},dangerouslyAllowMutability:!0}),vgn=$g({key:"layerIdExternalVectorMapState",get:({get:e})=>{let t=e(IW);return Ft(t)?t.getId():null},dangerouslyAllowMutability:!0});p();var pc=se(Je(),1);p();p();p();p();p();p();p();p();var mu=[];var WNe=function(){return mu.some(function(e){return e.activeTargets.length>0})};p();var ZNe=function(){return mu.some(function(e){return e.skippedTargets.length>0})};p();var YNe="ResizeObserver loop completed with undelivered notifications.",KNe=function(){var e;typeof ErrorEvent=="function"?e=new ErrorEvent("error",{message:YNe}):(e=document.createEvent("Event"),e.initEvent("error",!1,!1),e.message=YNe),window.dispatchEvent(e)};p();p();p();p();var nv;(function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(nv||(nv={}));p();p();var cc=function(e){return Object.freeze(e)};var TW=function(){function e(t,r){this.inlineSize=t,this.blockSize=r,cc(this)}return e}();p();var MW=function(){function e(t,r,n,i){return this.x=t,this.y=r,this.width=n,this.height=i,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,cc(this)}return e.prototype.toJSON=function(){var t=this,r=t.x,n=t.y,i=t.top,o=t.right,u=t.bottom,d=t.left,g=t.width,_=t.height;return{x:r,y:n,top:i,right:o,bottom:u,left:d,width:g,height:_}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}();p();var lE=function(e){return e instanceof SVGElement&&"getBBox"in e},TO=function(e){if(lE(e)){var t=e.getBBox(),r=t.width,n=t.height;return!r&&!n}var i=e,o=i.offsetWidth,u=i.offsetHeight;return!(o||u||e.getClientRects().length)},CW=function(e){var t;if(e instanceof Element)return!0;var r=(t=e==null?void 0:e.ownerDocument)===null||t===void 0?void 0:t.defaultView;return!!(r&&e instanceof r.Element)},XNe=function(e){switch(e.tagName){case"INPUT":if(e.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1};p();var iv=typeof window!="undefined"?window:{};var MO=new WeakMap,QNe=/auto|scroll/,Orr=/^tb|vertical/,Drr=/msie|trident/i.test(iv.navigator&&iv.navigator.userAgent),dp=function(e){return parseFloat(e||"0")},J1=function(e,t,r){return e===void 0&&(e=0),t===void 0&&(t=0),r===void 0&&(r=!1),new TW((r?t:e)||0,(r?e:t)||0)},JNe=cc({devicePixelContentBoxSize:J1(),borderBoxSize:J1(),contentBoxSize:J1(),contentRect:new MW(0,0,0,0)}),AW=function(e,t){if(t===void 0&&(t=!1),MO.has(e)&&!t)return MO.get(e);if(TO(e))return MO.set(e,JNe),JNe;var r=getComputedStyle(e),n=lE(e)&&e.ownerSVGElement&&e.getBBox(),i=!Drr&&r.boxSizing==="border-box",o=Orr.test(r.writingMode||""),u=!n&&QNe.test(r.overflowY||""),d=!n&&QNe.test(r.overflowX||""),g=n?0:dp(r.paddingTop),_=n?0:dp(r.paddingRight),I=n?0:dp(r.paddingBottom),T=n?0:dp(r.paddingLeft),A=n?0:dp(r.borderTopWidth),q=n?0:dp(r.borderRightWidth),z=n?0:dp(r.borderBottomWidth),U=n?0:dp(r.borderLeftWidth),N=T+_,L=g+I,F=U+q,H=A+z,Y=d?e.offsetHeight-H-e.clientHeight:0,te=u?e.offsetWidth-F-e.clientWidth:0,oe=i?N+F:0,ue=i?L+H:0,Ie=n?n.width:dp(r.width)-oe-te,Ee=n?n.height:dp(r.height)-ue-Y,ve=Ie+N+te+F,xe=Ee+L+Y+H,Pe=cc({devicePixelContentBoxSize:J1(Math.round(Ie*devicePixelRatio),Math.round(Ee*devicePixelRatio),o),borderBoxSize:J1(ve,xe,o),contentBoxSize:J1(Ie,Ee,o),contentRect:new MW(T,g,Ie,Ee)});return MO.set(e,Pe),Pe},CO=function(e,t,r){var n=AW(e,r),i=n.borderBoxSize,o=n.contentBoxSize,u=n.devicePixelContentBoxSize;switch(t){case nv.DEVICE_PIXEL_CONTENT_BOX:return u;case nv.BORDER_BOX:return i;default:return o}};var PW=function(){function e(t){var r=AW(t);this.target=t,this.contentRect=r.contentRect,this.borderBoxSize=cc([r.borderBoxSize]),this.contentBoxSize=cc([r.contentBoxSize]),this.devicePixelContentBoxSize=cc([r.devicePixelContentBoxSize])}return e}();p();var AO=function(e){if(TO(e))return 1/0;for(var t=0,r=e.parentNode;r;)t+=1,r=r.parentNode;return t};var eRe=function(){var e=1/0,t=[];mu.forEach(function(u){if(u.activeTargets.length!==0){var d=[];u.activeTargets.forEach(function(_){var I=new PW(_.target),T=AO(_.target);d.push(I),_.lastReportedSize=CO(_.target,_.observedBox),T<e&&(e=T)}),t.push(function(){u.callback.call(u.observer,d,u.observer)}),u.activeTargets.splice(0,u.activeTargets.length)}});for(var r=0,n=t;r<n.length;r++){var i=n[r];i()}return e};p();var OW=function(e){mu.forEach(function(r){r.activeTargets.splice(0,r.activeTargets.length),r.skippedTargets.splice(0,r.skippedTargets.length),r.observationTargets.forEach(function(i){i.isActive()&&(AO(i.target)>e?r.activeTargets.push(i):r.skippedTargets.push(i))})})};var tRe=function(){var e=0;for(OW(e);WNe();)e=eRe(),OW(e);return ZNe()&&KNe(),e>0};p();p();var DW,rRe=[],krr=function(){return rRe.splice(0).forEach(function(e){return e()})},nRe=function(e){if(!DW){var t=0,r=document.createTextNode(""),n={characterData:!0};new MutationObserver(function(){return krr()}).observe(r,n),DW=function(){r.textContent="".concat(t?t--:t++)}}rRe.push(e),DW()};var iRe=function(e){nRe(function(){requestAnimationFrame(e)})};var PO=0,Nrr=function(){return!!PO},Rrr=250,Lrr={attributes:!0,characterData:!0,childList:!0,subtree:!0},oRe=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],aRe=function(e){return e===void 0&&(e=0),Date.now()+e},kW=!1,qrr=function(){function e(){var t=this;this.stopped=!0,this.listener=function(){return t.schedule()}}return e.prototype.run=function(t){var r=this;if(t===void 0&&(t=Rrr),!kW){kW=!0;var n=aRe(t);iRe(function(){var i=!1;try{i=tRe()}finally{if(kW=!1,t=n-aRe(),!Nrr())return;i?r.run(1e3):t>0?r.run(t):r.start()}})}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var t=this,r=function(){return t.observer&&t.observer.observe(document.body,Lrr)};document.body?r():iv.addEventListener("DOMContentLoaded",r)},e.prototype.start=function(){var t=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),oRe.forEach(function(r){return iv.addEventListener(r,t.listener,!0)}))},e.prototype.stop=function(){var t=this;this.stopped||(this.observer&&this.observer.disconnect(),oRe.forEach(function(r){return iv.removeEventListener(r,t.listener,!0)}),this.stopped=!0)},e}(),OO=new qrr,NW=function(e){!PO&&e>0&&OO.start(),PO+=e,!PO&&OO.stop()};p();var zrr=function(e){return!lE(e)&&!XNe(e)&&getComputedStyle(e).display==="inline"},sRe=function(){function e(t,r){this.target=t,this.observedBox=r||nv.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var t=CO(this.target,this.observedBox,!0);return zrr(this.target)&&(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}();p();var lRe=function(){function e(t,r){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=t,this.callback=r}return e}();var DO=new WeakMap,uRe=function(e,t){for(var r=0;r<e.length;r+=1)if(e[r].target===t)return r;return-1},uE=function(){function e(){}return e.connect=function(t,r){var n=new lRe(t,r);DO.set(t,n)},e.observe=function(t,r,n){var i=DO.get(t),o=i.observationTargets.length===0;uRe(i.observationTargets,r)<0&&(o&&mu.push(i),i.observationTargets.push(new sRe(r,n&&n.box)),NW(1),OO.schedule())},e.unobserve=function(t,r){var n=DO.get(t),i=uRe(n.observationTargets,r),o=n.observationTargets.length===1;i>=0&&(o&&mu.splice(mu.indexOf(n),1),n.observationTargets.splice(i,1),NW(-1))},e.disconnect=function(t){var r=this,n=DO.get(t);n.observationTargets.slice().forEach(function(i){return r.unobserve(t,i.target)}),n.activeTargets.splice(0,n.activeTargets.length)},e}();var RW=function(){function e(t){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof t!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");uE.connect(this,t)}return e.prototype.observe=function(t,r){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!CW(t))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");uE.observe(this,t,r)},e.prototype.unobserve=function(t){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!CW(t))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");uE.unobserve(this,t)},e.prototype.disconnect=function(){uE.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}();p();var cRe=se(Je()),jrr=cRe.default[typeof document!="undefined"&&document.createElement!==void 0?"useLayoutEffect":"useEffect"],pRe=jrr;p();var kO=se(Je()),Frr=e=>{let t=kO.useRef(e);return kO.useEffect(()=>{t.current=e}),t},fRe=Frr;var Brr=typeof window!="undefined"&&"ResizeObserver"in window?window.ResizeObserver:RW;function Urr(){}function Vrr(e,t){let r=Grr(),n=fRe(t);return pRe(()=>{let i=!1,o=e&&"current"in e?e.current:e;if(!o)return Urr;function u(d,g){i||n.current(d,g)}return r.subscribe(o,u),()=>{i=!0,r.unsubscribe(o,u)}},[e,r,n]),r.observer}function $rr(){let e=!1,t=[],r=new Map,n=new Brr((i,o)=>{t=t.concat(i);function u(){let d=new Set;for(let g=0;g<t.length;g++){if(d.has(t[g].target))continue;d.add(t[g].target);let _=r.get(t[g].target);_==null||_.forEach(I=>I(t[g],o))}t=[],e=!1}e||window.requestAnimationFrame(u),e=!0});return{observer:n,subscribe(i,o){var u;n.observe(i);let d=(u=r.get(i))!==null&&u!==void 0?u:[];d.push(o),r.set(i,d)},unsubscribe(i,o){var u;let d=(u=r.get(i))!==null&&u!==void 0?u:[];if(d.length===1){n.unobserve(i),r.delete(i);return}let g=d.indexOf(o);g!==-1&&d.splice(g,1),r.set(i,d)}}}var LW,Grr=()=>LW||(LW=$rr()),dRe=Vrr;function hRe(e,t=250){let r=(0,pc.useRef)();return(0,pc.useEffect)(()=>{clearTimeout(r.current)},[e]),(...n)=>{r.current=window.setTimeout(()=>{e.apply(this,n)},t)}}function NO(e){let[t,r]=(0,pc.useState)(e);return(0,pc.useEffect)(()=>{r(e)},[e]),t}function mRe(e,t){let r=zi(_O),n=qW(e);(0,pc.useEffect)(()=>{let{height:i,width:o}=n;r(u=>Object.assign({},u,{[t]:{height:i,width:o}}))},[n])}var qW=e=>{let[t,r]=(0,pc.useState)({height:0,width:0});return(0,pc.useLayoutEffect)(()=>{r(e.current.getBoundingClientRect())},[e]),dRe(e,n=>r(n.contentRect)),t};p();p();var oI=se(Je(),1),mze=se(Yi(),1);p();var hp=se(Je(),1);var Hrr=(e,t)=>{let r=vr(Sn),[n,i]=(0,hp.useState)(null),[o,u]=qn(GNe),d=(0,hp.useRef)(null),g=(0,hp.useCallback)(I=>{d.current&&!d.current.contains(I.target)&&u(Ws.None)},[]),_=(0,hp.useCallback)(()=>{u(I=>I===t?Ws.None:t)},[t]);return(0,hp.useEffect)(()=>{if(Ft(r)){let I=A=>{var q;((q=A.control)==null?void 0:q.id)===e&&i(A.control._container)},T=A=>{var q;((q=A.control)==null?void 0:q.id)===e&&i(null)};return r.on(rc.controlAdded,I),r.on(rc.controlRemoved,T),()=>{r.off(rc.controlAdded,I),r.off(rc.controlRemoved,T)}}},[r]),(0,hp.useEffect)(()=>(o===t?document.addEventListener("mousedown",g):document.removeEventListener("mousedown",g),()=>{document.removeEventListener("mousedown",g)}),[o,t,g]),{baseMapControlEl:n,activeDialog:o,toggleDialog:_,dialogRef:d}},RO=Hrr;p();var Ja=se(Je(),1);p();p();var XW=se(hLe(),1);function Dt(){return Dt=XW.default?XW.default.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dt.apply(null,arguments)}p();var LLe=se(ILe(),1);p();var tZ=se(RLe(),1);function YO(e,t){return YO=tZ.default?tZ.default.bind():function(r,n){return r.__proto__=n,r},YO(e,t)}function ar(e,t){e.prototype=(0,LLe.default)(t.prototype),e.prototype.constructor=e,YO(e,t)}p();function pr(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}p();p();p();function yn(){return yn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yn.apply(null,arguments)}p();function n_(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var nZ=se(Je());p();var M1n=se(XO()),Xnr=function(){};function zLe(e,t){var r={};return Object.keys(e).forEach(function(n){if(r[i_(n)]=Xnr,0)var i}),r}function rZ(e,t){return e[t]!==void 0}function i_(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function jLe(e){return!!e&&(typeof e!="function"||e.prototype&&e.prototype.isReactComponent)}p();p();p();function o_(e,t){return o_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},o_(e,t)}function QO(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,o_(e,t)}var a_=se(Je()),$Le=se(oZ()),GLe=se(XO());var Jnr="/Users/jquense/src/uncontrollable/src/uncontrollable.js";function qf(e,t,r){r===void 0&&(r=[]);var n=e.displayName||e.name||"Component",i=jLe(e),o=Object.keys(t),u=o.map(i_);i||!r.length||(0,GLe.default)(!1);var d=function(_){QO(I,_);function I(){for(var A,q=arguments.length,z=new Array(q),U=0;U<q;U++)z[U]=arguments[U];A=_.call.apply(_,[this].concat(z))||this,A.handlers=Object.create(null),o.forEach(function(L){var F=t[L],H=function(te){if(A.props[F]){var oe;A._notifying=!0;for(var ue=arguments.length,Ie=new Array(ue>1?ue-1:0),Ee=1;Ee<ue;Ee++)Ie[Ee-1]=arguments[Ee];(oe=A.props)[F].apply(oe,[te].concat(Ie)),A._notifying=!1}A.unmounted||A.setState(function(ve){var xe,Pe=ve.values;return{values:yn(Object.create(null),Pe,(xe={},xe[L]=te,xe))}})};A.handlers[F]=H}),r.length&&(A.attachRef=function(L){A.inner=L});var N=Object.create(null);return o.forEach(function(L){N[L]=A.props[i_(L)]}),A.state={values:N,prevProps:{}},A}var T=I.prototype;return T.shouldComponentUpdate=function(){return!this._notifying},I.getDerivedStateFromProps=function(q,z){var U=z.values,N=z.prevProps,L={values:yn(Object.create(null),U),prevProps:{}};return o.forEach(function(F){L.prevProps[F]=q[F],!rZ(q,F)&&rZ(N,F)&&(L.values[F]=q[i_(F)])}),L},T.componentWillUnmount=function(){this.unmounted=!0},T.render=function(){var q=this,z=this.props,U=z.innerRef,N=n_(z,["innerRef"]);u.forEach(function(F){delete N[F]});var L={};return o.forEach(function(F){var H=q.props[F];L[F]=H!==void 0?H:q.state.values[F]}),a_.default.createElement(e,yn({},N,L,this.handlers,{ref:U||this.attachRef}))},I}(a_.default.Component);(0,$Le.polyfill)(d),d.displayName="Uncontrolled("+n+")",d.propTypes=yn({innerRef:function(){}},zLe(t,n)),r.forEach(function(_){d.prototype[_]=function(){var T;return(T=this.inner)[_].apply(T,arguments)}});var g=d;return a_.default.forwardRef&&(g=a_.default.forwardRef(function(_,I){return a_.default.createElement(d,yn({},_,{innerRef:I,__source:{fileName:Jnr,lineNumber:128},__self:this}))}),g.propTypes=d.propTypes),g.ControlledComponent=e,g.deferControlTo=function(_,I,T){return I===void 0&&(I={}),qf(_,yn({},t,I),T)},g}p();var lZ=se(sZ());var JLe=se(XO()),JO=se(Qt());p();var Ka={LARGE:"large",SMALL:"small",XSMALL:"xsmall"},mE={large:"lg",medium:"md",small:"sm",xsmall:"xs",lg:"lg",md:"md",sm:"sm",xs:"xs"};var QLe={SUCCESS:"success",WARNING:"warning",DANGER:"danger",INFO:"info"},gE={DEFAULT:"default",PRIMARY:"primary",LINK:"link",INVERSE:"inverse"};function uZ(e){return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[r.length-1];return typeof i=="function"?e.apply(void 0,r):function(o){return e.apply(void 0,r.concat([o]))}}}function Zr(e,t){var r=(e.bsClass||"").trim();return r==null&&(0,JLe.default)(!1),r+(t?"-"+t:"")}var Ar=uZ(function(e,t){var r=t.propTypes||(t.propTypes={}),n=t.defaultProps||(t.defaultProps={});return r.bsClass=JO.default.string,n.bsClass=e,t}),eD=uZ(function(e,t,r){typeof t!="string"&&(r=t,t=void 0);var n=r.STYLES||[],i=r.propTypes||{};e.forEach(function(d){n.indexOf(d)===-1&&n.push(d)});var o=JO.default.oneOf(n);if(r.STYLES=n,o._values=n,r.propTypes=Dt({},i,{bsStyle:o}),t!==void 0){var u=r.defaultProps||(r.defaultProps={});u.bsStyle=t}return r}),gp=uZ(function(e,t,r){typeof t!="string"&&(r=t,t=void 0);var n=r.SIZES||[],i=r.propTypes||{};e.forEach(function(d){n.indexOf(d)===-1&&n.push(d)});var o=[];n.forEach(function(d){var g=mE[d];g&&g!==d&&o.push(g),o.push(d)});var u=JO.default.oneOf(o);return u._values=o,r.SIZES=n,r.propTypes=Dt({},i,{bsSize:u}),t!==void 0&&(r.defaultProps||(r.defaultProps={}),r.defaultProps.bsSize=t),r});function vn(e){var t,r=(t={},t[Zr(e)]=!0,t);if(e.bsSize){var n=mE[e.bsSize]||e.bsSize;r[Zr(e,n)]=!0}return e.bsStyle&&(r[Zr(e,e.bsStyle)]=!0),r}function e6e(e){return{bsClass:e.bsClass,bsSize:e.bsSize,bsStyle:e.bsStyle,bsRole:e.bsRole}}function t6e(e){return e==="bsClass"||e==="bsSize"||e==="bsStyle"||e==="bsRole"}function Dn(e){var t={};return(0,lZ.default)(e).forEach(function(r){var n=r[0],i=r[1];t6e(n)||(t[n]=i)}),[e6e(e),t]}function vp(e,t){var r={};t.forEach(function(i){r[i]=!0});var n={};return(0,lZ.default)(e).forEach(function(i){var o=i[0],u=i[1];!t6e(o)&&!r[o]&&(n[o]=u)}),[e6e(e),n]}p();var Sa=se(Je());function oir(e,t,r){var n=0;return Sa.default.Children.map(e,function(i){return Sa.default.isValidElement(i)?t.call(r,i,n++):i})}function air(e,t,r){var n=0;Sa.default.Children.forEach(e,function(i){Sa.default.isValidElement(i)&&t.call(r,i,n++)})}function sir(e){var t=0;return Sa.default.Children.forEach(e,function(r){Sa.default.isValidElement(r)&&++t}),t}function lir(e,t,r){var n=0,i=[];return Sa.default.Children.forEach(e,function(o){Sa.default.isValidElement(o)&&t.call(r,o,n++)&&i.push(o)}),i}function uir(e,t,r){var n=0,i;return Sa.default.Children.forEach(e,function(o){i||Sa.default.isValidElement(o)&&t.call(r,o,n++)&&(i=o)}),i}function cir(e,t,r){var n=0,i=!0;return Sa.default.Children.forEach(e,function(o){i&&Sa.default.isValidElement(o)&&(t.call(r,o,n++)||(i=!1))}),i}function pir(e,t,r){var n=0,i=!1;return Sa.default.Children.forEach(e,function(o){i||Sa.default.isValidElement(o)&&t.call(r,o,n++)&&(i=!0)}),i}function fir(e){var t=[];return Sa.default.Children.forEach(e,function(r){Sa.default.isValidElement(r)&&t.push(r)}),t}var Zo={map:oir,forEach:air,count:sir,find:uir,filter:lir,every:cir,some:pir,toArray:fir};p();var rD=se(Qt()),cZ=se(vE());var v_n=rD.default.oneOfType([rD.default.string,rD.default.number]);function n6e(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,cZ.default)(function(n,i,o){var u;return t.every(function(d){return Zo.some(n.children,function(g){return g.props.bsRole===d})?!0:(u=d,!1)}),u?new Error("(children) "+o+" - Missing a required child with bsRole: "+(u+". "+o+" must have at least one child of each of ")+("the following bsRoles: "+t.join(", "))):null})}function i6e(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,cZ.default)(function(n,i,o){var u;return t.every(function(d){var g=Zo.filter(n.children,function(_){return _.props.bsRole===d});return g.length>1?(u=d,!1):!0}),u?new Error("(children) "+o+" - Duplicate children detected of bsRole: "+(u+". Only one child each allowed with the following ")+("bsRoles: "+t.join(", "))):null})}p();var pZ=se(Qt()),yE=se(Je()),mir={label:pZ.default.string.isRequired,onClick:pZ.default.func},gir={label:"Close"},fZ=function(e){ar(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this.props,o=i.label,u=i.onClick;return yE.default.createElement("button",{type:"button",className:"close",onClick:u},yE.default.createElement("span",{"aria-hidden":"true"},"\xD7"),yE.default.createElement("span",{className:"sr-only"},o))},t}(yE.default.Component);fZ.propTypes=mir;fZ.defaultProps=gir;var p6e=fZ;p();p();function Qr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var gZ=se(Je()),zf=se(Qt()),_6e=se(Ea());p();function Cir(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter(function(n){return n!=null}).reduce(function(n,i){if(typeof i!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return n===null?i:function(){for(var u=arguments.length,d=new Array(u),g=0;g<u;g++)d[g]=arguments[g];n.apply(this,d),i.apply(this,d)}},null)}var fi=Cir;var Air={href:zf.default.string,onClick:zf.default.func,onKeyDown:zf.default.func,disabled:zf.default.bool,role:zf.default.string,tabIndex:zf.default.oneOfType([zf.default.number,zf.default.string]),componentClass:_6e.default},Pir={componentClass:"a"};function y6e(e){return!e||e.trim()==="#"}var vZ=function(e){ar(t,e);function t(n,i){var o;return o=e.call(this,n,i)||this,o.handleClick=o.handleClick.bind(Qr(Qr(o))),o.handleKeyDown=o.handleKeyDown.bind(Qr(Qr(o))),o}var r=t.prototype;return r.handleClick=function(i){var o=this.props,u=o.disabled,d=o.href,g=o.onClick;if((u||y6e(d))&&i.preventDefault(),u){i.stopPropagation();return}g&&g(i)},r.handleKeyDown=function(i){i.key===" "&&(i.preventDefault(),this.handleClick(i))},r.render=function(){var i=this.props,o=i.componentClass,u=i.disabled,d=i.onKeyDown,g=pr(i,["componentClass","disabled","onKeyDown"]);return y6e(g.href)&&(g.role=g.role||"button",g.href=g.href||"#"),u&&(g.tabIndex=-1,g.style=Dt({pointerEvents:"none"},g.style)),gZ.default.createElement(o,Dt({},g,{onClick:this.handleClick,onKeyDown:fi(this.handleKeyDown,d)}))},t}(gZ.default.Component);vZ.propTypes=Air;vZ.defaultProps=Pir;var Yh=vZ;p();var b6e=se(c6e());var yZ=se(fn()),hD=se(Je()),ov=se(Qt()),x6e=se(Ea());var Oir={active:ov.default.bool,disabled:ov.default.bool,block:ov.default.bool,onClick:ov.default.func,componentClass:x6e.default,href:ov.default.string,type:ov.default.oneOf(["button","reset","submit"])},Dir={active:!1,block:!1,disabled:!1},_Z=function(e){ar(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.renderAnchor=function(i,o){return hD.default.createElement(Yh,Dt({},i,{className:(0,yZ.default)(o,i.disabled&&"disabled")}))},r.renderButton=function(i,o){var u=i.componentClass,d=pr(i,["componentClass"]),g=u||"button";return hD.default.createElement(g,Dt({},d,{type:d.type||"button",className:o}))},r.render=function(){var i,o=this.props,u=o.active,d=o.block,g=o.className,_=pr(o,["active","block","className"]),I=Dn(_),T=I[0],A=I[1],q=Dt({},vn(T),(i={active:u},i[Zr(T,"block")]=d,i)),z=(0,yZ.default)(g,q);return A.href?this.renderAnchor(A,z):this.renderButton(A,z)},t}(hD.default.Component);_Z.propTypes=Oir;_Z.defaultProps=Dir;var Xa=Ar("btn",gp([Ka.LARGE,Ka.SMALL,Ka.XSMALL],eD((0,b6e.default)(QLe).concat([gE.DEFAULT,gE.PRIMARY,gE.LINK]),gE.DEFAULT,_Z)));p();var S6e=se(fn()),bZ=se(Je()),gD=se(Qt()),E6e=se(_E());var qir={vertical:gD.default.bool,justified:gD.default.bool,block:(0,E6e.default)(gD.default.bool,function(e){var t=e.block,r=e.vertical;return t&&!r?new Error("`block` requires `vertical` to be set to have any effect"):null})},zir={block:!1,justified:!1,vertical:!1},xZ=function(e){ar(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i,o=this.props,u=o.block,d=o.justified,g=o.vertical,_=o.className,I=pr(o,["block","justified","vertical","className"]),T=Dn(I),A=T[0],q=T[1],z=Dt({},vn(A),(i={},i[Zr(A)]=!g,i[Zr(A,"vertical")]=g,i[Zr(A,"justified")]=d,i[Zr(Xa.defaultProps,"block")]=u,i));return bZ.default.createElement("div",Dt({},q,{className:(0,S6e.default)(_,z)}))},t}(bZ.default.Component);xZ.propTypes=qir;xZ.defaultProps=zir;var I6e=Ar("btn-group",xZ);p();var T6e=se(fn()),wZ=se(Je()),M6e=se(Qt());var jir={glyph:M6e.default.string.isRequired},C6e=function(e){ar(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i,o=this.props,u=o.glyph,d=o.className,g=pr(o,["glyph","className"]),_=Dn(g),I=_[0],T=_[1],A=Dt({},vn(I),(i={},i[Zr(I,u)]=!0,i));return wZ.default.createElement("span",Dt({},T,{className:(0,T6e.default)(d,A)}))},t}(wZ.default.Component);C6e.propTypes=jir;var Eo=Ar("glyphicon",C6e);p();var P6e=se(fn()),SZ=se(Je()),vD=se(Qt()),_bn=se(Kh());var Bir={htmlFor:vD.default.string,srOnly:vD.default.bool},Uir={srOnly:!1},Vir={$bs_formGroup:vD.default.object},yD=function(e){ar(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this.context.$bs_formGroup,o=i&&i.controlId,u=this.props,d=u.htmlFor,g=d===void 0?o:d,_=u.srOnly,I=u.className,T=pr(u,["htmlFor","srOnly","className"]),A=Dn(T),q=A[0],z=A[1],U=Dt({},vn(q),{"sr-only":_});return SZ.default.createElement("label",Dt({},z,{htmlFor:g,className:(0,P6e.default)(I,U)}))},t}(SZ.default.Component);yD.propTypes=Bir;yD.defaultProps=Uir;yD.contextTypes=Vir;var EZ=Ar("control-label",yD);p();var f8e=se(fn()),d8e=se(NZ()),h8e=se(c_()),HD=se(kD()),f_=se(Je()),ws=se(Qt()),QZ=se(Yi()),m8e=se(_E()),g8e=se(Ea()),v8e=se(RD());var own=se(Kh());p();var s8e=se(Xqe());var l8e=se(fn()),CE=se(kD()),AE=se(Je()),Ff=se(Qt()),u8e=se(Yi()),c8e=se(WZ());var Jar={open:Ff.default.bool,pullRight:Ff.default.bool,onClose:Ff.default.func,labelledBy:Ff.default.oneOfType([Ff.default.string,Ff.default.number]),onSelect:Ff.default.func,rootCloseEvent:Ff.default.oneOf(["click","mousedown"])},esr={bsRole:"menu",pullRight:!1},ZZ=function(e){ar(t,e);function t(n){var i;return i=e.call(this,n)||this,i.handleRootClose=i.handleRootClose.bind(Qr(Qr(i))),i.handleKeyDown=i.handleKeyDown.bind(Qr(Qr(i))),i}var r=t.prototype;return r.getFocusableMenuItems=function(){var i=u8e.default.findDOMNode(this);return i?(0,s8e.default)(i.querySelectorAll("[tabIndex=\"-1\"]")):[]},r.getItemsAndActiveIndex=function(){var i=this.getFocusableMenuItems(),o=i.indexOf(document.activeElement);return{items:i,activeIndex:o}},r.focusNext=function(){var i=this.getItemsAndActiveIndex(),o=i.items,u=i.activeIndex;if(o.length!==0){var d=u===o.length-1?0:u+1;o[d].focus()}},r.focusPrevious=function(){var i=this.getItemsAndActiveIndex(),o=i.items,u=i.activeIndex;if(o.length!==0){var d=u===0?o.length-1:u-1;o[d].focus()}},r.handleKeyDown=function(i){switch(i.keyCode){case CE.default.codes.down:this.focusNext(),i.preventDefault();break;case CE.default.codes.up:this.focusPrevious(),i.preventDefault();break;case CE.default.codes.esc:case CE.default.codes.tab:this.props.onClose(i,{source:"keydown"});break;default:}},r.handleRootClose=function(i){this.props.onClose(i,{source:"rootClose"})},r.render=function(){var i,o=this,u=this.props,d=u.open,g=u.pullRight,_=u.labelledBy,I=u.onSelect,T=u.className,A=u.rootCloseEvent,q=u.children,z=pr(u,["open","pullRight","labelledBy","onSelect","className","rootCloseEvent","children"]),U=vp(z,["onClose"]),N=U[0],L=U[1],F=Dt({},vn(N),(i={},i[Zr(N,"right")]=g,i));return AE.default.createElement(c8e.default,{disabled:!d,onRootClose:this.handleRootClose,event:A},AE.default.createElement("ul",Dt({},L,{role:"menu",className:(0,l8e.default)(T,F),"aria-labelledby":_}),Zo.map(q,function(H){return AE.default.cloneElement(H,{onKeyDown:fi(H.props.onKeyDown,o.handleKeyDown),onSelect:fi(H.props.onSelect,I)})})))},t}(AE.default.Component);ZZ.propTypes=Jar;ZZ.defaultProps=esr;var YZ=Ar("dropdown-menu",ZZ);p();var GD=se(Je()),PE=se(Qt()),p8e=se(fn());var tsr={noCaret:PE.default.bool,open:PE.default.bool,title:PE.default.string,useAnchor:PE.default.bool},rsr={open:!1,useAnchor:!1,bsRole:"toggle"},KZ=function(e){ar(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this.props,o=i.noCaret,u=i.open,d=i.useAnchor,g=i.bsClass,_=i.className,I=i.children,T=pr(i,["noCaret","open","useAnchor","bsClass","className","children"]);delete T.bsRole;var A=d?Yh:Xa,q=!o;return GD.default.createElement(A,Dt({},T,{role:"button",className:(0,p8e.default)(_,g),"aria-haspopup":!0,"aria-expanded":u}),I||T.title,q&&" ",q&&GD.default.createElement("span",{className:"caret"}))},t}(GD.default.Component);KZ.propTypes=tsr;KZ.defaultProps=rsr;var XZ=Ar("dropdown-toggle",KZ);var y8e=XZ.defaultProps.bsRole,JZ=YZ.defaultProps.bsRole,nsr={dropup:ws.default.bool,id:(0,v8e.default)(ws.default.oneOfType([ws.default.string,ws.default.number])),componentClass:g8e.default,children:(0,m8e.default)(n6e(y8e,JZ),i6e(JZ)),disabled:ws.default.bool,pullRight:ws.default.bool,open:ws.default.bool,defaultOpen:ws.default.bool,onToggle:ws.default.func,onSelect:ws.default.func,role:ws.default.string,rootCloseEvent:ws.default.oneOf(["click","mousedown"]),onMouseEnter:ws.default.func,onMouseLeave:ws.default.func},isr={componentClass:I6e},WD=function(e){ar(t,e);function t(n,i){var o;return o=e.call(this,n,i)||this,o.handleClick=o.handleClick.bind(Qr(Qr(o))),o.handleKeyDown=o.handleKeyDown.bind(Qr(Qr(o))),o.handleClose=o.handleClose.bind(Qr(Qr(o))),o._focusInDropdown=!1,o.lastOpenEventType=null,o}var r=t.prototype;return r.componentDidMount=function(){this.focusNextOnOpen()},r.UNSAFE_componentWillUpdate=function(i){!i.open&&this.props.open&&(this._focusInDropdown=(0,h8e.default)(QZ.default.findDOMNode(this.menu),(0,d8e.default)(document)))},r.componentDidUpdate=function(i){var o=this.props.open,u=i.open;o&&!u&&this.focusNextOnOpen(),!o&&u&&this._focusInDropdown&&(this._focusInDropdown=!1,this.focus())},r.focus=function(){var i=QZ.default.findDOMNode(this.toggle);i&&i.focus&&i.focus()},r.focusNextOnOpen=function(){var i=this.menu;!i||!i.focusNext||(this.lastOpenEventType==="keydown"||this.props.role==="menuitem")&&i.focusNext()},r.handleClick=function(i){this.props.disabled||this.toggleOpen(i,{source:"click"})},r.handleClose=function(i,o){this.props.open&&this.toggleOpen(i,o)},r.handleKeyDown=function(i){if(!this.props.disabled)switch(i.keyCode){case HD.default.codes.down:this.props.open?this.menu.focusNext&&this.menu.focusNext():this.toggleOpen(i,{source:"keydown"}),i.preventDefault();break;case HD.default.codes.esc:case HD.default.codes.tab:this.handleClose(i,{source:"keydown"});break;default:}},r.toggleOpen=function(i,o){var u=!this.props.open;u&&(this.lastOpenEventType=o.source),this.props.onToggle&&this.props.onToggle(u,i,o)},r.renderMenu=function(i,o){var u=this,d=o.id,g=o.onSelect,_=o.rootCloseEvent,I=pr(o,["id","onSelect","rootCloseEvent"]),T=function(q){u.menu=q};return typeof i.ref=="string"||(T=fi(i.ref,T)),(0,f_.cloneElement)(i,Dt({},I,{ref:T,labelledBy:d,bsClass:Zr(I,"menu"),onClose:fi(i.props.onClose,this.handleClose),onSelect:fi(i.props.onSelect,g,function(A,q){return u.handleClose(q,{source:"select"})}),rootCloseEvent:_}))},r.renderToggle=function(i,o){var u=this,d=function(_){u.toggle=_};return typeof i.ref=="string"||(d=fi(i.ref,d)),(0,f_.cloneElement)(i,Dt({},o,{ref:d,bsClass:Zr(o,"toggle"),onClick:fi(i.props.onClick,this.handleClick),onKeyDown:fi(i.props.onKeyDown,this.handleKeyDown)}))},r.render=function(){var i,o=this,u=this.props,d=u.componentClass,g=u.id,_=u.dropup,I=u.disabled,T=u.pullRight,A=u.open,q=u.onSelect,z=u.role,U=u.bsClass,N=u.className,L=u.rootCloseEvent,F=u.children,H=pr(u,["componentClass","id","dropup","disabled","pullRight","open","onSelect","role","bsClass","className","rootCloseEvent","children"]);delete H.onToggle;var Y=(i={},i[U]=!0,i.open=A,i.disabled=I,i);return _&&(Y[U]=!1,Y.dropup=!0),f_.default.createElement(d,Dt({},H,{className:(0,f8e.default)(N,Y)}),Zo.map(F,function(te){switch(te.props.bsRole){case y8e:return o.renderToggle(te,{id:g,disabled:I,open:A,role:z,bsClass:U});case JZ:return o.renderMenu(te,{id:g,open:A,pullRight:T,bsClass:U,onSelect:q,rootCloseEvent:L});default:return te}}))},t}(f_.default.Component);WD.propTypes=nsr;WD.defaultProps=isr;Ar("dropdown",WD);var eY=qf(WD,{open:"onToggle"});eY.Toggle=XZ;eY.Menu=YZ;var OE=eY;p();var _8e=se(sZ());function tY(e,t){var r=t.propTypes,n={},i={};return(0,_8e.default)(e).forEach(function(o){var u=o[0],d=o[1];r[u]?n[u]=d:i[u]=d}),[n,i]}p();var b8e=se(fn()),YD=se(Je()),gu=se(Qt()),d_=se(eqe()),ZD,osr={in:gu.default.bool,mountOnEnter:gu.default.bool,unmountOnExit:gu.default.bool,appear:gu.default.bool,timeout:gu.default.number,onEnter:gu.default.func,onEntering:gu.default.func,onEntered:gu.default.func,onExit:gu.default.func,onExiting:gu.default.func,onExited:gu.default.func},asr={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},ssr=(ZD={},ZD[d_.ENTERING]="in",ZD[d_.ENTERED]="in",ZD),rY=function(e){ar(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this.props,o=i.className,u=i.children,d=pr(i,["className","children"]);return YD.default.createElement(d_.default,d,function(g,_){return YD.default.cloneElement(u,Dt({},_,{className:(0,b8e.default)("fade",o,u.props.className,ssr[g])}))})},t}(YD.default.Component);rY.propTypes=osr;rY.defaultProps=asr;var Qh=rY;p();var x8e=se(fn()),nY=se(Je()),iY=se(Qt()),w8e=se(Ea());var lsr={horizontal:iY.default.bool,inline:iY.default.bool,componentClass:w8e.default},usr={horizontal:!1,inline:!1,componentClass:"form"},oY=function(e){ar(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this.props,o=i.horizontal,u=i.inline,d=i.componentClass,g=i.className,_=pr(i,["horizontal","inline","componentClass","className"]),I=Dn(_),T=I[0],A=I[1],q=[];return o&&q.push(Zr(T,"horizontal")),u&&q.push(Zr(T,"inline")),nY.default.createElement(d,Dt({},A,{className:(0,x8e.default)(g,q)}))},t}(nY.default.Component);oY.propTypes=lsr;oY.defaultProps=usr;var aY=Ar("form",oY);p();var C8e=se(fn()),pY=se(Je()),kE=se(Qt()),A8e=se(Ea()),Gwn=se(Kh());p();var sY=se(fn()),DE=se(Je()),S8e=se(Qt());var csr={bsRole:"feedback"},psr={$bs_formGroup:S8e.default.object},lY=function(e){ar(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.getGlyph=function(i){switch(i){case"success":return"ok";case"warning":return"warning-sign";case"error":return"remove";default:return null}},r.renderDefaultFeedback=function(i,o,u,d){var g=this.getGlyph(i&&i.validationState);return g?DE.default.createElement(Eo,Dt({},d,{glyph:g,className:(0,sY.default)(o,u)})):null},r.render=function(){var i=this.props,o=i.className,u=i.children,d=pr(i,["className","children"]),g=Dn(d),_=g[0],I=g[1],T=vn(_);if(!u)return this.renderDefaultFeedback(this.context.$bs_formGroup,o,T,I);var A=DE.default.Children.only(u);return DE.default.cloneElement(A,Dt({},I,{className:(0,sY.default)(A.props.className,o,T)}))},t}(DE.default.Component);lY.defaultProps=csr;lY.contextTypes=psr;var E8e=Ar("form-control-feedback",lY);p();var I8e=se(fn()),uY=se(Je()),T8e=se(Ea());var fsr={componentClass:T8e.default},dsr={componentClass:"p"},cY=function(e){ar(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this.props,o=i.componentClass,u=i.className,d=pr(i,["componentClass","className"]),g=Dn(d),_=g[0],I=g[1],T=vn(_);return uY.default.createElement(o,Dt({},I,{className:(0,I8e.default)(u,T)}))},t}(uY.default.Component);cY.propTypes=fsr;cY.defaultProps=dsr;var M8e=Ar("form-control-static",cY);var hsr={componentClass:A8e.default,type:kE.default.string,id:kE.default.string,inputRef:kE.default.func},msr={componentClass:"input"},gsr={$bs_formGroup:kE.default.object},h_=function(e){ar(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this.context.$bs_formGroup,o=i&&i.controlId,u=this.props,d=u.componentClass,g=u.type,_=u.id,I=_===void 0?o:_,T=u.inputRef,A=u.className,q=u.bsSize,z=pr(u,["componentClass","type","id","inputRef","className","bsSize"]),U=Dn(z),N=U[0],L=U[1],F;if(g!=="file"&&(F=vn(N)),q){var H=mE[q]||q;F[Zr({bsClass:"input"},H)]=!0}return pY.default.createElement(d,Dt({},L,{type:g,id:I,ref:T,className:(0,C8e.default)(A,F)}))},t}(pY.default.Component);h_.propTypes=hsr;h_.defaultProps=msr;h_.contextTypes=gsr;h_.Feedback=E8e;h_.Static=M8e;var fY=Ar("form-control",gp([Ka.SMALL,Ka.LARGE],h_));p();var P8e=se(fn()),dY=se(Je()),KD=se(Qt());var vsr={controlId:KD.default.string,validationState:KD.default.oneOf(["success","warning","error",null])},ysr={$bs_formGroup:KD.default.object.isRequired},hY=function(e){ar(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.getChildContext=function(){var i=this.props,o=i.controlId,u=i.validationState;return{$bs_formGroup:{controlId:o,validationState:u}}},r.hasFeedback=function(i){var o=this;return Zo.some(i,function(u){return u.props.bsRole==="feedback"||u.props.children&&o.hasFeedback(u.props.children)})},r.render=function(){var i=this.props,o=i.validationState,u=i.className,d=i.children,g=pr(i,["validationState","className","children"]),_=vp(g,["controlId"]),I=_[0],T=_[1],A=Dt({},vn(I),{"has-feedback":this.hasFeedback(d)});return o&&(A["has-"+o]=!0),dY.default.createElement("div",Dt({},T,{className:(0,P8e.default)(u,A)}),d)},t}(dY.default.Component);hY.propTypes=vsr;hY.childContextTypes=ysr;var mY=Ar("form-group",gp([Ka.LARGE,Ka.SMALL],hY));p();var O8e=se(fn()),gY=se(Je());var _sr=function(e){ar(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this.props,o=i.className,u=pr(i,["className"]),d=Dn(u),g=d[0],_=d[1],I=vn(g);return gY.default.createElement("span",Dt({},_,{className:(0,O8e.default)(o,I)}))},t}(gY.default.Component),vY=Ar("help-block",_sr);p();var XD=se(fn()),m_=se(Je()),Bf=se(Qt()),D8e=se(_E());var bsr={active:Bf.default.bool,disabled:Bf.default.bool,divider:(0,D8e.default)(Bf.default.bool,function(e){var t=e.divider,r=e.children;return t&&r?new Error("Children will not be rendered for dividers"):null}),eventKey:Bf.default.any,header:Bf.default.bool,href:Bf.default.string,onClick:Bf.default.func,onSelect:Bf.default.func},xsr={divider:!1,disabled:!1,header:!1},yY=function(e){ar(t,e);function t(n,i){var o;return o=e.call(this,n,i)||this,o.handleClick=o.handleClick.bind(Qr(Qr(o))),o}var r=t.prototype;return r.handleClick=function(i){var o=this.props,u=o.href,d=o.disabled,g=o.onSelect,_=o.eventKey;(!u||d)&&i.preventDefault(),!d&&g&&g(_,i)},r.render=function(){var i=this.props,o=i.active,u=i.disabled,d=i.divider,g=i.header,_=i.onClick,I=i.className,T=i.style,A=pr(i,["active","disabled","divider","header","onClick","className","style"]),q=vp(A,["eventKey","onSelect"]),z=q[0],U=q[1];return d?(U.children=void 0,m_.default.createElement("li",Dt({},U,{role:"separator",className:(0,XD.default)(I,"divider"),style:T}))):g?m_.default.createElement("li",Dt({},U,{role:"heading",className:(0,XD.default)(I,Zr(z,"header")),style:T})):m_.default.createElement("li",{role:"presentation",className:(0,XD.default)(I,{active:o,disabled:u}),style:T},m_.default.createElement(Yh,Dt({},U,{role:"menuitem",tabIndex:"-1",onClick:fi(_,this.handleClick)})))},t}(m_.default.Component);yY.propTypes=bsr;yY.defaultProps=xsr;var _Y=Ar("dropdown",yY);p();var $Y=se(fn()),GY=se(G8e()),n9e=se(lv()),i9e=se(yp()),HY=se(wY()),y_=se(Je()),Ko=se(Qt()),o9e=se(Yi()),__=se(W7e()),a9e=se(TY()),s9e=se(Ea());p();var Z7e=se(fn()),qY=se(Je()),Y7e=se(Ea());var Dur={componentClass:Y7e.default},kur={componentClass:"div"},zY=function(e){ar(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this.props,o=i.componentClass,u=i.className,d=pr(i,["componentClass","className"]),g=Dn(d),_=g[0],I=g[1],T=vn(_);return qY.default.createElement(o,Dt({},I,{className:(0,Z7e.default)(u,T)}))},t}(qY.default.Component);zY.propTypes=Dur;zY.defaultProps=kur;var jE=Ar("modal-body",zY);p();var jY=se(fn()),FE=se(Je()),K7e=se(Qt());var Nur={dialogClassName:K7e.default.string},X7e=function(e){ar(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i,o=this.props,u=o.dialogClassName,d=o.className,g=o.style,_=o.children,I=o.onMouseDownDialog,T=pr(o,["dialogClassName","className","style","children","onMouseDownDialog"]),A=Dn(T),q=A[0],z=A[1],U=Zr(q),N=Dt({display:"block"},g),L=Dt({},vn(q),(i={},i[U]=!1,i[Zr(q,"dialog")]=!0,i));return FE.default.createElement("div",Dt({},z,{tabIndex:"-1",role:"dialog",style:N,className:(0,jY.default)(d,U)}),FE.default.createElement("div",{className:(0,jY.default)(u,L),onMouseDown:I},FE.default.createElement("div",{className:Zr(q,"content"),role:"document"},_)))},t}(FE.default.Component);X7e.propTypes=Nur;var yk=Ar("modal",gp([Ka.LARGE,Ka.SMALL],X7e));p();var Q7e=se(fn()),FY=se(Je()),J7e=se(Ea());var Rur={componentClass:J7e.default},Lur={componentClass:"div"},BY=function(e){ar(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this.props,o=i.componentClass,u=i.className,d=pr(i,["componentClass","className"]),g=Dn(d),_=g[0],I=g[1],T=vn(_);return FY.default.createElement(o,Dt({},I,{className:(0,Q7e.default)(u,T)}))},t}(FY.default.Component);BY.propTypes=Rur;BY.defaultProps=Lur;var BE=Ar("modal-footer",BY);p();var e9e=se(fn()),v_=se(Qt()),_k=se(Je());var qur={closeLabel:v_.default.string,closeButton:v_.default.bool,onHide:v_.default.func},zur={closeLabel:"Close",closeButton:!1},jur={$bs_modal:v_.default.shape({onHide:v_.default.func})},bk=function(e){ar(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this.props,o=i.closeLabel,u=i.closeButton,d=i.onHide,g=i.className,_=i.children,I=pr(i,["closeLabel","closeButton","onHide","className","children"]),T=this.context.$bs_modal,A=Dn(I),q=A[0],z=A[1],U=vn(q);return _k.default.createElement("div",Dt({},z,{className:(0,e9e.default)(g,U)}),u&&_k.default.createElement(p6e,{label:o,onClick:fi(T&&T.onHide,d)}),_)},t}(_k.default.Component);bk.propTypes=qur;bk.defaultProps=zur;bk.contextTypes=jur;var UE=Ar("modal-header",bk);p();var t9e=se(fn()),UY=se(Je()),r9e=se(Ea());var Fur={componentClass:r9e.default},Bur={componentClass:"h4"},VY=function(e){ar(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this.props,o=i.componentClass,u=i.className,d=pr(i,["componentClass","className"]),g=Dn(d),_=g[0],I=g[1],T=vn(_);return UY.default.createElement(o,Dt({},I,{className:(0,t9e.default)(u,T)}))},t}(UY.default.Component);VY.propTypes=Fur;VY.defaultProps=Bur;var VE=Ar("modal-title",VY);var Uur=Dt({},__.default.propTypes,yk.propTypes,{backdrop:Ko.default.oneOf(["static",!0,!1]),backdropClassName:Ko.default.string,keyboard:Ko.default.bool,animation:Ko.default.bool,dialogComponentClass:s9e.default,autoFocus:Ko.default.bool,enforceFocus:Ko.default.bool,restoreFocus:Ko.default.bool,show:Ko.default.bool,onHide:Ko.default.func,onEnter:Ko.default.func,onEntering:Ko.default.func,onEntered:Ko.default.func,onExit:Ko.default.func,onExiting:Ko.default.func,onExited:Ko.default.func,container:__.default.propTypes.container}),Vur=Dt({},__.default.defaultProps,{animation:!0,dialogComponentClass:yk}),$ur={$bs_modal:Ko.default.shape({onHide:Ko.default.func})};function Gur(e){return y_.default.createElement(Qh,Dt({},e,{timeout:Cl.TRANSITION_DURATION}))}function Hur(e){return y_.default.createElement(Qh,Dt({},e,{timeout:Cl.BACKDROP_TRANSITION_DURATION}))}var Cl=function(e){ar(t,e);function t(n,i){var o;return o=e.call(this,n,i)||this,o.handleDialogBackdropMouseDown=function(){o._waitingForMouseUp=!0},o.handleMouseUp=function(u){var d=o._modal.getDialogElement();o._waitingForMouseUp&&u.target===d&&(o._ignoreBackdropClick=!0),o._waitingForMouseUp=!1},o.handleEntering=o.handleEntering.bind(Qr(Qr(o))),o.handleExited=o.handleExited.bind(Qr(Qr(o))),o.handleWindowResize=o.handleWindowResize.bind(Qr(Qr(o))),o.handleDialogClick=o.handleDialogClick.bind(Qr(Qr(o))),o.setModalRef=o.setModalRef.bind(Qr(Qr(o))),o.state={style:{}},o}var r=t.prototype;return r.getChildContext=function(){return{$bs_modal:{onHide:this.props.onHide}}},r.componentWillUnmount=function(){this.handleExited()},r.setModalRef=function(i){this._modal=i},r.handleDialogClick=function(i){if(this._ignoreBackdropClick||i.target!==i.currentTarget){this._ignoreBackdropClick=!1;return}this.props.onHide()},r.handleEntering=function(){GY.default.on(window,"resize",this.handleWindowResize),this.updateStyle()},r.handleExited=function(){GY.default.off(window,"resize",this.handleWindowResize)},r.handleWindowResize=function(){this.updateStyle()},r.updateStyle=function(){if(i9e.default){var i=this._modal.getDialogElement(),o=i.scrollHeight,u=(0,n9e.default)(i),d=(0,a9e.default)(o9e.default.findDOMNode(this.props.container||u.body)),g=o>u.documentElement.clientHeight;this.setState({style:{paddingRight:d&&!g?(0,HY.default)():void 0,paddingLeft:!d&&g?(0,HY.default)():void 0}})}},r.render=function(){var i=this.props,o=i.backdrop,u=i.backdropClassName,d=i.animation,g=i.show,_=i.dialogComponentClass,I=i.className,T=i.style,A=i.children,q=i.onEntering,z=i.onExited,U=pr(i,["backdrop","backdropClassName","animation","show","dialogComponentClass","className","style","children","onEntering","onExited"]),N=tY(U,__.default),L=N[0],F=N[1],H=g&&!d&&"in";return y_.default.createElement(__.default,Dt({},L,{ref:this.setModalRef,show:g,containerClassName:Zr(U,"open"),transition:d?Gur:void 0,backdrop:o,backdropTransition:d?Hur:void 0,backdropClassName:(0,$Y.default)(Zr(U,"backdrop"),u,H),onEntering:fi(q,this.handleEntering),onExited:fi(z,this.handleExited),onMouseUp:this.handleMouseUp}),y_.default.createElement(_,Dt({},F,{style:Dt({},this.state.style,T),className:(0,$Y.default)(I,H),onClick:o===!0?this.handleDialogClick:null,onMouseDownDialog:this.handleDialogBackdropMouseDown}),A))},t}(y_.default.Component);Cl.propTypes=Uur;Cl.defaultProps=Vur;Cl.childContextTypes=$ur;Cl.Body=jE;Cl.Header=UE;Cl.Title=VE;Cl.Footer=BE;Cl.Dialog=yk;Cl.TRANSITION_DURATION=300;Cl.BACKDROP_TRANSITION_DURATION=150;var Uf=Ar("modal",gp([Ka.LARGE,Ka.SMALL],Cl));p();var l9e=se(fn()),$E=se(kD()),GE=se(Je()),Xo=se(Qt()),u9e=se(Yi()),c9e=se(_E()),WSn=se(Kh());var Wur={activeKey:Xo.default.any,activeHref:Xo.default.string,stacked:Xo.default.bool,justified:(0,c9e.default)(Xo.default.bool,function(e){var t=e.justified,r=e.navbar;return t&&r?Error("justified navbar `Nav`s are not supported"):null}),onSelect:Xo.default.func,role:Xo.default.string,navbar:Xo.default.bool,pullRight:Xo.default.bool,pullLeft:Xo.default.bool},Zur={justified:!1,pullRight:!1,pullLeft:!1,stacked:!1},Yur={$bs_navbar:Xo.default.shape({bsClass:Xo.default.string,onSelect:Xo.default.func}),$bs_tabContainer:Xo.default.shape({activeKey:Xo.default.any,onSelect:Xo.default.func.isRequired,getTabId:Xo.default.func.isRequired,getPaneId:Xo.default.func.isRequired})},xk=function(e){ar(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.componentDidUpdate=function(){var i=this;if(this._needsRefocus){this._needsRefocus=!1;var o=this.props.children,u=this.getActiveProps(),d=u.activeKey,g=u.activeHref,_=Zo.find(o,function(z){return i.isActive(z,d,g)}),I=Zo.toArray(o),T=I.indexOf(_),A=u9e.default.findDOMNode(this).children,q=A&&A[T];!q||!q.firstChild||q.firstChild.focus()}},r.getActiveProps=function(){var i=this.context.$bs_tabContainer;return i||this.props},r.getNextActiveChild=function(i){var o=this,u=this.props.children,d=Zo.filter(u,function(U){return U.props.eventKey!=null&&!U.props.disabled}),g=this.getActiveProps(),_=g.activeKey,I=g.activeHref,T=Zo.find(u,function(U){return o.isActive(U,_,I)}),A=d.indexOf(T);if(A===-1)return d[0];var q=A+i,z=d.length;return q>=z?q=0:q<0&&(q=z-1),d[q]},r.getTabProps=function(i,o,u,d,g){var _=this;if(!o&&u!=="tablist")return null;var I=i.props,T=I.id,A=I["aria-controls"],q=I.eventKey,z=I.role,U=I.onKeyDown,N=I.tabIndex;return o&&(T=o.getTabId(q),A=o.getPaneId(q)),u==="tablist"&&(z=z||"tab",U=fi(function(L){return _.handleTabKeyDown(g,L)},U),N=d?N:-1),{id:T,role:z,onKeyDown:U,"aria-controls":A,tabIndex:N}},r.handleTabKeyDown=function(i,o){var u;switch(o.keyCode){case $E.default.codes.left:case $E.default.codes.up:u=this.getNextActiveChild(-1);break;case $E.default.codes.right:case $E.default.codes.down:u=this.getNextActiveChild(1);break;default:return}o.preventDefault(),i&&u&&u.props.eventKey!=null&&i(u.props.eventKey),this._needsRefocus=!0},r.isActive=function(i,o,u){var d=i.props;return d.active||o!=null&&d.eventKey===o||u&&d.href===u?!0:d.active},r.render=function(){var i,o=this,u=this.props,d=u.stacked,g=u.justified,_=u.onSelect,I=u.role,T=u.navbar,A=u.pullRight,q=u.pullLeft,z=u.className,U=u.children,N=pr(u,["stacked","justified","onSelect","role","navbar","pullRight","pullLeft","className","children"]),L=this.context.$bs_tabContainer,F=I||(L?"tablist":null),H=this.getActiveProps(),Y=H.activeKey,te=H.activeHref;delete N.activeKey,delete N.activeHref;var oe=Dn(N),ue=oe[0],Ie=oe[1],Ee=Dt({},vn(ue),(i={},i[Zr(ue,"stacked")]=d,i[Zr(ue,"justified")]=g,i)),ve=T!=null?T:this.context.$bs_navbar,xe,Pe;if(ve){var we=this.context.$bs_navbar||{bsClass:"navbar"};Ee[Zr(we,"nav")]=!0,Pe=Zr(we,"right"),xe=Zr(we,"left")}else Pe="pull-right",xe="pull-left";return Ee[Pe]=A,Ee[xe]=q,GE.default.createElement("ul",Dt({},Ie,{role:F,className:(0,l9e.default)(z,Ee)}),Zo.map(U,function(Oe){var Xe=o.isActive(Oe,Y,te),lt=fi(Oe.props.onSelect,_,ve&&ve.onSelect,L&&L.onSelect);return(0,GE.cloneElement)(Oe,Dt({},o.getTabProps(Oe,L,F,Xe,lt),{active:Xe,activeKey:Y,activeHref:te,onSelect:lt}))}))},t}(GE.default.Component);xk.propTypes=Wur;xk.defaultProps=Zur;xk.contextTypes=Yur;var p9e=Ar("nav",eD(["tabs","pills"],xk));p();var f9e=se(fn()),wk=se(Je()),rm=se(Qt());var Kur={active:rm.default.bool,disabled:rm.default.bool,role:rm.default.string,href:rm.default.string,onClick:rm.default.func,onSelect:rm.default.func,eventKey:rm.default.any},Xur={active:!1,disabled:!1},WY=function(e){ar(t,e);function t(n,i){var o;return o=e.call(this,n,i)||this,o.handleClick=o.handleClick.bind(Qr(Qr(o))),o}var r=t.prototype;return r.handleClick=function(i){if(this.props.disabled){i.preventDefault();return}this.props.onSelect&&this.props.onSelect(this.props.eventKey,i)},r.render=function(){var i=this.props,o=i.active,u=i.disabled,d=i.onClick,g=i.className,_=i.style,I=pr(i,["active","disabled","onClick","className","style"]);return delete I.onSelect,delete I.eventKey,delete I.activeKey,delete I.activeHref,I.role?I.role==="tab"&&(I["aria-selected"]=o):I.href==="#"&&(I.role="button"),wk.default.createElement("li",{role:"presentation",className:(0,f9e.default)(g,{active:o,disabled:u}),style:_},wk.default.createElement(Yh,Dt({},I,{disabled:u,onClick:fi(d,this.handleClick)})))},t}(wk.default.Component);WY.propTypes=Kur;WY.defaultProps=Xur;var d9e=WY;p();var U9e=se(fn()),ZE=se(Je()),Al=se(Qt()),eK=se(B9e()),V9e=se(Ea());var Jcr=Dt({},eK.default.propTypes,{show:Al.default.bool,rootClose:Al.default.bool,onHide:Al.default.func,animation:Al.default.oneOfType([Al.default.bool,V9e.default]),onEnter:Al.default.func,onEntering:Al.default.func,onEntered:Al.default.func,onExit:Al.default.func,onExiting:Al.default.func,onExited:Al.default.func,placement:Al.default.oneOf(["top","right","bottom","left"])}),epr={animation:Qh,rootClose:!1,show:!1,placement:"right"},tK=function(e){ar(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this.props,o=i.animation,u=i.children,d=pr(i,["animation","children"]),g=o===!0?Qh:o||null,_;return g?_=u:_=(0,ZE.cloneElement)(u,{className:(0,U9e.default)(u.props.className,"in")}),ZE.default.createElement(eK.default,Dt({},d,{transition:g}),_)},t}(ZE.default.Component);tK.propTypes=Jcr;tK.defaultProps=epr;var rK=tK;p();var nK=se(fn()),w_=se(Je()),S_=se(Qt()),MEn=se(Kh());var tpr={inline:S_.default.bool,disabled:S_.default.bool,title:S_.default.string,validationState:S_.default.oneOf(["success","warning","error",null]),inputRef:S_.default.func},rpr={inline:!1,disabled:!1,title:""},iK=function(e){ar(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this.props,o=i.inline,u=i.disabled,d=i.validationState,g=i.inputRef,_=i.className,I=i.style,T=i.title,A=i.children,q=pr(i,["inline","disabled","validationState","inputRef","className","style","title","children"]),z=Dn(q),U=z[0],N=z[1],L=w_.default.createElement("input",Dt({},N,{ref:g,type:"radio",disabled:u}));if(o){var F,H=(F={},F[Zr(U,"inline")]=!0,F.disabled=u,F);return w_.default.createElement("label",{className:(0,nK.default)(_,H),style:I,title:T},L,A)}var Y=Dt({},vn(U),{disabled:u});return d&&(Y["has-"+d]=!0),w_.default.createElement("div",{className:(0,nK.default)(_,Y),style:I},w_.default.createElement("label",{title:T},L,A))},t}(w_.default.Component);iK.propTypes=tpr;iK.defaultProps=rpr;var oK=Ar("radio",iK);p();var uK=se(Je()),Fk=se(Qt());p();var kk=se(Je()),vu=se(Qt());var npr="tab",ipr="pane",opr=vu.default.oneOfType([vu.default.string,vu.default.number]),apr={id:function(t){var r=null;if(!t.generateChildId){for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];r=opr.apply(void 0,[t].concat(i)),!r&&!t.id&&(r=new Error("In order to properly initialize Tabs in a way that is accessible to assistive technologies (such as screen readers) an `id` or a `generateChildId` prop to TabContainer is required"))}return r},generateChildId:vu.default.func,onSelect:vu.default.func,activeKey:vu.default.any},spr={$bs_tabContainer:vu.default.shape({activeKey:vu.default.any,onSelect:vu.default.func.isRequired,getTabId:vu.default.func.isRequired,getPaneId:vu.default.func.isRequired})},aK=function(e){ar(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.getChildContext=function(){var i=this.props,o=i.activeKey,u=i.onSelect,d=i.generateChildId,g=i.id,_=d||function(I,T){return g?g+"-"+T+"-"+I:null};return{$bs_tabContainer:{activeKey:o,onSelect:u,getTabId:function(T){return _(T,npr)},getPaneId:function(T){return _(T,ipr)}}}},r.render=function(){var i=this.props,o=i.children,u=pr(i,["children"]);return delete u.generateChildId,delete u.onSelect,delete u.activeKey,kk.default.cloneElement(kk.default.Children.only(o),u)},t}(kk.default.Component);aK.propTypes=apr;aK.childContextTypes=spr;var Nk=qf(aK,{activeKey:"onSelect"});p();var $9e=se(fn()),sK=se(Je()),Ta=se(Qt()),Rk=se(Ea());var lpr={componentClass:Rk.default,animation:Ta.default.oneOfType([Ta.default.bool,Rk.default]),mountOnEnter:Ta.default.bool,unmountOnExit:Ta.default.bool},upr={componentClass:"div",animation:!0,mountOnEnter:!1,unmountOnExit:!1},cpr={$bs_tabContainer:Ta.default.shape({activeKey:Ta.default.any})},ppr={$bs_tabContent:Ta.default.shape({bsClass:Ta.default.string,animation:Ta.default.oneOfType([Ta.default.bool,Rk.default]),activeKey:Ta.default.any,mountOnEnter:Ta.default.bool,unmountOnExit:Ta.default.bool,onPaneEnter:Ta.default.func.isRequired,onPaneExited:Ta.default.func.isRequired,exiting:Ta.default.bool.isRequired})},YE=function(e){ar(t,e);function t(n,i){var o;return o=e.call(this,n,i)||this,o.handlePaneEnter=o.handlePaneEnter.bind(Qr(Qr(o))),o.handlePaneExited=o.handlePaneExited.bind(Qr(Qr(o))),o.state={activeKey:null,activeChild:null},o}var r=t.prototype;return r.getChildContext=function(){var i=this.props,o=i.bsClass,u=i.animation,d=i.mountOnEnter,g=i.unmountOnExit,_=this.state.activeKey,I=this.getContainerActiveKey(),T=_!=null?_:I,A=_!=null&&_!==I;return{$bs_tabContent:{bsClass:o,animation:u,activeKey:T,mountOnEnter:d,unmountOnExit:g,onPaneEnter:this.handlePaneEnter,onPaneExited:this.handlePaneExited,exiting:A}}},r.UNSAFE_componentWillReceiveProps=function(i){!i.animation&&this.state.activeChild&&this.setState({activeKey:null,activeChild:null})},r.componentWillUnmount=function(){this.isUnmounted=!0},r.getContainerActiveKey=function(){var i=this.context.$bs_tabContainer;return i&&i.activeKey},r.handlePaneEnter=function(i,o){return!this.props.animation||o!==this.getContainerActiveKey()?!1:(this.setState({activeKey:o,activeChild:i}),!0)},r.handlePaneExited=function(i){this.isUnmounted||this.setState(function(o){var u=o.activeChild;return u!==i?null:{activeKey:null,activeChild:null}})},r.render=function(){var i=this.props,o=i.componentClass,u=i.className,d=pr(i,["componentClass","className"]),g=vp(d,["animation","mountOnEnter","unmountOnExit"]),_=g[0],I=g[1];return sK.default.createElement(o,Dt({},I,{className:(0,$9e.default)(u,Zr(_,"content"))}))},t}(sK.default.Component);YE.propTypes=lpr;YE.defaultProps=upr;YE.contextTypes=cpr;YE.childContextTypes=ppr;var Lk=Ar("tab",YE);p();var G9e=se(fn()),qk=se(Je()),ri=se(Qt()),lK=se(Ea()),ZEn=se(Kh());var fpr={eventKey:ri.default.any,animation:ri.default.oneOfType([ri.default.bool,lK.default]),id:ri.default.string,"aria-labelledby":ri.default.string,bsClass:ri.default.string,onEnter:ri.default.func,onEntering:ri.default.func,onEntered:ri.default.func,onExit:ri.default.func,onExiting:ri.default.func,onExited:ri.default.func,mountOnEnter:ri.default.bool,unmountOnExit:ri.default.bool},dpr={$bs_tabContainer:ri.default.shape({getTabId:ri.default.func,getPaneId:ri.default.func}),$bs_tabContent:ri.default.shape({bsClass:ri.default.string,animation:ri.default.oneOfType([ri.default.bool,lK.default]),activeKey:ri.default.any,mountOnEnter:ri.default.bool,unmountOnExit:ri.default.bool,onPaneEnter:ri.default.func.isRequired,onPaneExited:ri.default.func.isRequired,exiting:ri.default.bool.isRequired})},hpr={$bs_tabContainer:ri.default.oneOf([null])},zk=function(e){ar(t,e);function t(n,i){var o;return o=e.call(this,n,i)||this,o.handleEnter=o.handleEnter.bind(Qr(Qr(o))),o.handleExited=o.handleExited.bind(Qr(Qr(o))),o.in=!1,o}var r=t.prototype;return r.getChildContext=function(){return{$bs_tabContainer:null}},r.componentDidMount=function(){this.shouldBeIn()&&this.handleEnter()},r.componentDidUpdate=function(){this.in?this.shouldBeIn()||this.handleExited():this.shouldBeIn()&&this.handleEnter()},r.componentWillUnmount=function(){this.in&&this.handleExited()},r.getAnimation=function(){if(this.props.animation!=null)return this.props.animation;var i=this.context.$bs_tabContent;return i&&i.animation},r.handleEnter=function(){var i=this.context.$bs_tabContent;i&&(this.in=i.onPaneEnter(this,this.props.eventKey))},r.handleExited=function(){var i=this.context.$bs_tabContent;i&&(i.onPaneExited(this),this.in=!1)},r.isActive=function(){var i=this.context.$bs_tabContent,o=i&&i.activeKey;return this.props.eventKey===o},r.shouldBeIn=function(){return this.getAnimation()&&this.isActive()},r.render=function(){var i=this.props,o=i.eventKey,u=i.className,d=i.onEnter,g=i.onEntering,_=i.onEntered,I=i.onExit,T=i.onExiting,A=i.onExited,q=i.mountOnEnter,z=i.unmountOnExit,U=pr(i,["eventKey","className","onEnter","onEntering","onEntered","onExit","onExiting","onExited","mountOnEnter","unmountOnExit"]),N=this.context,L=N.$bs_tabContent,F=N.$bs_tabContainer,H=vp(U,["animation"]),Y=H[0],te=H[1],oe=this.isActive(),ue=this.getAnimation(),Ie=q!=null?q:L&&L.mountOnEnter,Ee=z!=null?z:L&&L.unmountOnExit;if(!oe&&!ue&&Ee)return null;var ve=ue===!0?Qh:ue||null;L&&(Y.bsClass=Zr(L,"pane"));var xe=Dt({},vn(Y),{active:oe});F&&(te.id=F.getPaneId(o),te["aria-labelledby"]=F.getTabId(o));var Pe=qk.default.createElement("div",Dt({},te,{role:"tabpanel","aria-hidden":!oe,className:(0,G9e.default)(u,xe)}));if(ve){var we=L&&L.exiting;return qk.default.createElement(ve,{in:oe&&!we,onEnter:fi(this.handleEnter,d),onEntering:g,onEntered:_,onExit:I,onExiting:T,onExited:fi(this.handleExited,A),mountOnEnter:Ie,unmountOnExit:Ee},Pe)}return Pe},t}(qk.default.Component);zk.propTypes=fpr;zk.contextTypes=dpr;zk.childContextTypes=hpr;var jk=Ar("tab-pane",zk);var mpr=Dt({},jk.propTypes,{disabled:Fk.default.bool,title:Fk.default.node,tabClassName:Fk.default.string}),KE=function(e){ar(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=Dt({},this.props);return delete i.title,delete i.disabled,delete i.tabClassName,uK.default.createElement(jk,i)},t}(uK.default.Component);KE.propTypes=mpr;KE.Container=Nk;KE.Content=Lk;KE.Pane=jk;var Bk=KE;p();var dv=se(Je()),fc=se(Qt()),H9e=se(RD());var W9e=se(Ea());var gpr=Nk.ControlledComponent,vpr={activeKey:fc.default.any,bsStyle:fc.default.oneOf(["tabs","pills"]),animation:fc.default.oneOfType([fc.default.bool,W9e.default]),id:(0,H9e.default)(fc.default.oneOfType([fc.default.string,fc.default.number])),onSelect:fc.default.func,mountOnEnter:fc.default.bool,unmountOnExit:fc.default.bool},ypr={bsStyle:"tabs",animation:!0,mountOnEnter:!1,unmountOnExit:!1};function _pr(e){var t;return Zo.forEach(e,function(r){t==null&&(t=r.props.eventKey)}),t}var Uk=function(e){ar(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.renderTab=function(i){var o=i.props,u=o.title,d=o.eventKey,g=o.disabled,_=o.tabClassName;return u==null?null:dv.default.createElement(d9e,{eventKey:d,disabled:g,className:_},u)},r.render=function(){var i=this.props,o=i.id,u=i.onSelect,d=i.animation,g=i.mountOnEnter,_=i.unmountOnExit,I=i.bsClass,T=i.className,A=i.style,q=i.children,z=i.activeKey,U=z===void 0?_pr(q):z,N=pr(i,["id","onSelect","animation","mountOnEnter","unmountOnExit","bsClass","className","style","children","activeKey"]);return dv.default.createElement(gpr,{id:o,activeKey:U,onSelect:u,className:T,style:A},dv.default.createElement("div",null,dv.default.createElement(p9e,Dt({},N,{role:"tablist"}),Zo.map(q,this.renderTab)),dv.default.createElement(Lk,{bsClass:I,animation:d,mountOnEnter:g,unmountOnExit:_},q)))},t}(dv.default.Component);Uk.propTypes=vpr;Uk.defaultProps=ypr;Ar("tab",Uk);var cK=qf(Uk,{activeKey:"onSelect"});p();var Z9e=se(fn()),XE=se(Je()),Ma=se(Qt()),Y9e=se(RD());var bpr={id:(0,Y9e.default)(Ma.default.oneOfType([Ma.default.string,Ma.default.number])),placement:Ma.default.oneOf(["top","right","bottom","left"]),positionTop:Ma.default.oneOfType([Ma.default.number,Ma.default.string]),positionLeft:Ma.default.oneOfType([Ma.default.number,Ma.default.string]),arrowOffsetTop:Ma.default.oneOfType([Ma.default.number,Ma.default.string]),arrowOffsetLeft:Ma.default.oneOfType([Ma.default.number,Ma.default.string])},xpr={placement:"right"},pK=function(e){ar(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i,o=this.props,u=o.placement,d=o.positionTop,g=o.positionLeft,_=o.arrowOffsetTop,I=o.arrowOffsetLeft,T=o.className,A=o.style,q=o.children,z=pr(o,["placement","positionTop","positionLeft","arrowOffsetTop","arrowOffsetLeft","className","style","children"]),U=Dn(z),N=U[0],L=U[1],F=Dt({},vn(N),(i={},i[u]=!0,i)),H=Dt({top:d,left:g},A),Y={top:_,left:I};return XE.default.createElement("div",Dt({},L,{role:"tooltip",className:(0,Z9e.default)(T,F),style:H}),XE.default.createElement("div",{className:Zr(N,"arrow"),style:Y}),XE.default.createElement("div",{className:Zr(N,"inner")},q))},t}(XE.default.Component);pK.propTypes=bpr;pK.defaultProps=xpr;var fK=Ar("tooltip",pK);var nI=se(Qt(),1);p();var QE=se(Je(),1);var dK=(e,t=4)=>{if(Array.isArray(e))return e.map(r=>dK(r,t));if(typeof e=="object"&&e!==null){let r={};return Object.entries(e).forEach(([n,i])=>{r[n]=dK(i)}),r}else return isNaN(e)||e===null?e:e.toFixed(Math.min(Spr(e),t))},wpr=(e,t=4)=>{let r={};return Object.entries(e).forEach(([n,i])=>{r[n]=dK(i,t)}),r},Spr=e=>Math.floor(e)===e?0:e.toString().split(".")[1].length||0;var K9e=(e,t=!1)=>{let r={center:e.getCenter().toArray(),bearing:e.getBearing(),pitch:e.getPitch(),zoom:e.getZoom()};return t?wpr(r,5):r};function E_(e,t){let r=()=>{if(typeof window=="undefined")return t;try{let u=window.localStorage.getItem(e);return u?JSON.parse(u):t}catch(u){return console.warn(`Error reading localStorage key \u201C${e}\u201D:`,u),t}},[n,i]=(0,QE.useState)(r),o=u=>{typeof window=="undefined"&&console.warn(`Tried setting localStorage key \u201C${e}\u201D even though environment is not a client`);try{let d=u instanceof Function?u(n):u;window.localStorage.setItem(e,JSON.stringify(d)),i(d),window.dispatchEvent(new Event("local-storage"))}catch(d){console.warn(`Error setting localStorage key \u201C${e}\u201D:`,d)}};return(0,QE.useEffect)(()=>{i(r())},[]),(0,QE.useEffect)(()=>{let u=()=>{i(r())};return window.addEventListener("storage",u),window.addEventListener("local-storage",u),()=>{window.removeEventListener("storage",u),window.removeEventListener("local-storage",u)}},[]),[n,o]}var Vk=e=>`${window.location.origin}${window.location.pathname}?${e}`;p();var ni=se(Je(),1);var yK=se(Qt(),1);p();var Qa=mn({key:"notificationState",default:null});p();p();var bn=e=>e!==void 0,X9e=(e,t,r)=>t in e?e[t]:e[t]=r,JE={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12},gK=class{constructor(t){this._parser=new t}toDocument(t){return this._parser.parseFromString(t,"application/xml")}getAllTextContent(t,r){return Hk(t,r).join("")}};function Hk(e,t){return Q9e(e,t,[]).join("")}function Q9e(e,t,r){if(e.nodeType===JE.CDATA_SECTION||e.nodeType===JE.TEXT)t?r.push(String(e.nodeValue).replace(/(\r\n|\r|\n)/g,"")):r.push(e.nodeValue);else{var n;for(n=e.firstChild;n;n=n.nextSibling)Q9e(n,t,r)}return r}function Epr(e,t,r,n){for(var i=Ipr(t);i;i=Tpr(i)){var o=i.namespaceURI||null,u=e[o];if(bn(u)){var d=u[i.localName];bn(d)&&d.call(n,i,r)}}}function Ipr(e){let t=e.firstElementChild||e.firstChild;for(;t&&t.nodeType!==JE.ELEMENT;)t=t.nextSibling;return t}function Tpr(e){let t=e.nextElementSibling||e.nextSibling;for(;t&&t.nodeType!==JE.ELEMENT;)t=t.nextSibling;return t}function Ca(e,t,r){return Mpr(e,t,r)}function Mpr(e,t,r){var n=bn(r)?r:{},i,o;for(i=0,o=e.length;i<o;++i)n[e[i]]=t;return n}function J9e(e,t){return function(r,n){var i=e.call(bn(t)?t:this,r,n);if(bn(i)){var o=n[n.length-1];o.push(i)}}}function Qo(e,t,r,n,i){return n.push(e),Epr(t,r,n,i),n.pop()}function mr(e,t,r){return function(n,i){let o=e.call(bn(r)?r:this,n,i);if(bn(o)){var u=i[i.length-1],d=bn(t)?t:n.localName;u[d]=o}}}function Xs(e,t,r){return function(n,i){var o=e.call(bn(r)?r:this,n,i);if(bn(o)){var u=i[i.length-1],d=bn(t)?t:n.localName,g=X9e(u,d,[]);g.push(o)}}}var Cpr=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function Apr(e){return e.replace(Cpr,"")}function hv(e){let t=/^\s*(true|1)|(false|0)\s*$/.exec(e);if(t)return bn(t[1])||!1}function I_(e){return Gf(Hk(e,!1))}function Gf(e){let t=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(e);if(t)return parseFloat(t[1])}function hK(e){return $k(Hk(e,!1))}function $k(e){let t=/^\s*(\d+)\s*$/.exec(e);if(t)return parseInt(t[1],10)}function Fn(e){return Apr(Hk(e,!1))}var Ppr="http://www.w3.org/1999/xlink";function vK(e){return e.getAttributeNS(Ppr,"href")}function Opr(e,t){return Qo({},ifr,e,t)}function eze(e){return[Gf(e.getAttribute("minx")),Gf(e.getAttribute("miny")),Gf(e.getAttribute("maxx")),Gf(e.getAttribute("maxy"))]}function Dpr(e,t){let r=eze(e),n=[Gf(e.getAttribute("resx")),Gf(e.getAttribute("resy"))];return{crs:e.getAttribute("CRS")||e.getAttribute("SRS"),extent:r,res:n}}function kpr(e,t){let r=eze(e);if(!(!bn(r[0])||!bn(r[1])||!bn(r[2])||!bn(r[3])))return r}function Npr(e,t){let r=parseFloat(e.getAttribute("min")),n=parseFloat(e.getAttribute("max"));return{min:r,max:n}}function Rpr(e,t){let r=Qo({},ofr,e,t);if(!bn(r))return;let n=r.westBoundLongitude,i=r.southBoundLatitude,o=r.eastBoundLongitude,u=r.northBoundLatitude;if(!(!bn(n)||!bn(i)||!bn(o)||!bn(u)))return[n,i,o,u]}function Lpr(e,t){return Qo({},Qpr,e,t)}function qpr(e,t){return Qo({},Jpr,e,t)}function zpr(e,t){return Qo({},efr,e,t)}function jpr(e,t){return Qo({},tfr,e,t)}function Fpr(e,t){return Qo({},rfr,e,t)}function Bpr(e,t){return Qo([],nfr,e,t)}function Upr(e,t){let r=hv(e.getAttribute("queryable"));return Qo({queryable:bn(r)?r:!1},nze,e,t)}function Vpr(e,t){var r=t[t.length-1];let n=Qo({},nze,e,t);if(!bn(n))return;let i=hv(e.getAttribute("queryable"));bn(i)||(i=r.queryable),n.queryable=bn(i)?i:!1;let o=$k(e.getAttribute("cascaded"));bn(o)||(o=r.cascaded),n.cascaded=o;let u=hv(e.getAttribute("opaque"));bn(u)||(u=r.opaque),n.opaque=bn(u)?u:!1;let d=hv(e.getAttribute("noSubsets"));bn(d)||(d=r.noSubsets),n.noSubsets=bn(d)?d:!1;let g=Gf(e.getAttribute("fixedWidth"));bn(g)||(g=r.fixedWidth),n.fixedWidth=g;let _=Gf(e.getAttribute("fixedHeight"));bn(_)||(_=r.fixedHeight),n.fixedHeight=_;let I=["Style","CRS","AuthorityURL"];for(let A=0,q=I.length;A<q;A++){let z=I[A],U=r[z];if(bn(U)){let N=X9e(n,z,[]);N=N.concat(U),n[z]=N}}let T=["EX_GeographicBoundingBox","BoundingBox","Dimension","Attribution","MinScaleDenominator","MaxScaleDenominator"];for(let A=0,q=T.length;A<q;A++){let z=T[A],U=n[z];if(!bn(U)){let N=r[z];n[z]=N}}return n}function $pr(e,t){return{name:e.getAttribute("name"),units:e.getAttribute("units"),unitSymbol:e.getAttribute("unitSymbol"),default:e.getAttribute("default"),multipleValues:hv(e.getAttribute("multipleValues")),nearestValue:hv(e.getAttribute("nearestValue")),current:hv(e.getAttribute("current")),values:Fn(e)}}function Hf(e,t){return Qo({},pfr,e,t)}function Gpr(e,t){return Qo({},afr,e,t)}function Hpr(e,t){return Qo({},lfr,e,t)}function Wpr(e,t){return Qo({},ufr,e,t)}function mK(e,t){return Qo({},sfr,e,t)}function tze(e,t){var r=Hf(e,t);if(bn(r)){let n=[$k(e.getAttribute("width")),$k(e.getAttribute("height"))];return r.size=n,r}}function Zpr(e,t){var r=Hf(e,t);if(bn(r))return r.name=e.getAttribute("name"),r}function Ypr(e,t){var r=Hf(e,t);if(bn(r))return r.type=e.getAttribute("type"),r}function Kpr(e,t){return Qo({},cfr,e,t)}function rze(e,t){return Qo([],ffr,e,t)}var Aa=[null,"http://www.opengis.net/wms"],Xpr=Ca(Aa,{Service:mr(qpr),Capability:mr(Lpr)}),Qpr=Ca(Aa,{Request:mr(Gpr),Exception:mr(Bpr),Layer:mr(Upr)}),Jpr=Ca(Aa,{Name:mr(Fn),Title:mr(Fn),Abstract:mr(Fn),KeywordList:mr(rze),OnlineResource:mr(vK),ContactInformation:mr(zpr),Fees:mr(Fn),AccessConstraints:mr(Fn),LayerLimit:mr(hK),MaxWidth:mr(hK),MaxHeight:mr(hK)}),efr=Ca(Aa,{ContactPersonPrimary:mr(jpr),ContactPosition:mr(Fn),ContactAddress:mr(Fpr),ContactVoiceTelephone:mr(Fn),ContactFacsimileTelephone:mr(Fn),ContactElectronicMailAddress:mr(Fn)}),tfr=Ca(Aa,{ContactPerson:mr(Fn),ContactOrganization:mr(Fn)}),rfr=Ca(Aa,{AddressType:mr(Fn),Address:mr(Fn),City:mr(Fn),StateOrProvince:mr(Fn),PostCode:mr(Fn),Country:mr(Fn)}),nfr=Ca(Aa,{Format:J9e(Fn)}),nze=Ca(Aa,{Name:mr(Fn),Title:mr(Fn),Abstract:mr(Fn),KeywordList:mr(rze),CRS:Xs(Fn),SRS:Xs(Fn),EX_GeographicBoundingBox:mr(Rpr),LatLonBoundingBox:mr(kpr),BoundingBox:Xs(Dpr),Dimension:Xs($pr),Attribution:mr(Opr),AuthorityURL:Xs(Zpr),Identifier:Xs(Fn),MetadataURL:Xs(Ypr),DataURL:Xs(Hf),FeatureListURL:Xs(Hf),Style:Xs(Kpr),MinScaleDenominator:mr(I_),MaxScaleDenominator:mr(I_),ScaleHint:mr(Npr),Layer:Xs(Vpr)}),ifr=Ca(Aa,{Title:mr(Fn),OnlineResource:mr(vK),LogoURL:mr(tze)}),ofr=Ca(Aa,{westBoundLongitude:mr(I_),eastBoundLongitude:mr(I_),southBoundLatitude:mr(I_),northBoundLatitude:mr(I_)}),afr=Ca(Aa,{GetCapabilities:mr(mK),GetMap:mr(mK),GetFeatureInfo:mr(mK)}),sfr=Ca(Aa,{Format:Xs(Fn),DCPType:Xs(Hpr)}),lfr=Ca(Aa,{HTTP:mr(Wpr)}),ufr=Ca(Aa,{Get:mr(Hf),Post:mr(Hf)}),cfr=Ca(Aa,{Name:mr(Fn),Title:mr(Fn),Abstract:mr(Fn),LegendURL:Xs(tze),StyleSheetURL:mr(Hf),StyleURL:mr(Hf)}),pfr=Ca(Aa,{Format:mr(Fn),OnlineResource:mr(vK)}),ffr=Ca(Aa,{Keyword:J9e(Fn)}),Gk=class{constructor(t,r){!r&&typeof window!="undefined"&&(r=window.DOMParser),this.version=void 0,this._parser=new gK(r),this._data=t}data(t){return this._data=t,this}toJSON(t){return t=t||this._data,this.parse(t)}parse(t){return this.readFromDocument(this._parser.toDocument(t))}readFromDocument(t){for(let r=t.firstChild;r;r=r.nextSibling)if(r.nodeType==JE.ELEMENT)return this.readFromNode(r);return null}readFromNode(t){return this.version=t.getAttribute("version"),Qo({version:this.version},Xpr,t,[])||null}};var Wk="wms-base-map-layer",eI="wms-base-map-source",tI="xyz-base-map-layer",Zk="xyz-base-map-source";function ize(e,t){return t.Capability.Layer.Layer.filter(r=>r.CRS.includes("EPSG:3857")).map(r=>{let i=r.Name;return{id:r.Title,label:r.Title,urls:[`${e}?bbox={bbox-epsg-3857}&format=image/png&service=WMS&version=1.1.0&request=GetMap&srs=EPSG:3857&transparent=true&width=512&height=512&layers=${i}`],type:"wms",layers:i,tileSize:512}})}function Yk(e){return sn(this,null,function*(){let t=yield ya.get(e);if(t.status===200){let r=new Gk().parse(t.data);return console.log("parse",ize(e.split("?")[0],r)),ize(e.split("?")[0],r)}else throw new Error(`Could not fetch wms capabilities document at ${e}`)})}var oze=(e,t,r)=>{if(!t)return!1;if(lze(e,r),!e.getSource(eI)){let n={type:"raster",tiles:[`${t.urls[0]}?bbox={bbox-epsg-3857}&format=image/png&service=WMS&version=2.0.0&request=GetMap&CRS=EPSG:3857&transparent=true&width=512&height=512&layers=${t.layers}&STYLES=`]};t.attribution&&(n.attribution=t.attribution),e.addSource(eI,n);let i=e.getStyle().layers[0].id;e.addLayer({id:Wk,type:"raster",source:eI,paint:{}},i)}},aze=e=>{for(let{id:t}of e.getStyle().layers)(t===Wk||t===tI)&&e.setLayoutProperty(t,"visibility","visible")},rI=e=>{aze(e),e.getLayer(Wk)&&e.removeLayer(Wk),e.getSource(eI)&&e.removeSource(eI)},sze=(e,t)=>{t.forEach(r=>{e.setLayoutProperty(r.id,"visibility","visible")})},lze=(e,t)=>{t.forEach(r=>{e.setLayoutProperty(r.id,"visibility","none")})},uze=(e,t,r)=>{if(!t)return!1;if(lze(e,r),rI(e),!e.getSource(tI)){e.addSource(Zk,{type:"raster",tiles:[t.urls[0]],attribution:t.attribution});let n=e.getStyle().layers[0].id;e.addLayer({id:tI,type:"raster",source:Zk,paint:{}},n)}},cze=e=>{aze(e),e.getLayer(tI)&&e.removeLayer(tI),e.getSource(Zk)&&e.removeSource(Zk)};var pze=e=>{let{onClose:t,onSubmit:r}=e,[n,i]=(0,ni.useState)(""),[o,u]=(0,ni.useState)(!1),[d,g]=(0,ni.useState)([]),[_,I]=(0,ni.useState)(null),T=zi(Qa),A=(0,ni.useRef)(),q=(0,ni.useRef)(),z=te=>{g([]),I(null),T({id:"dialog-add-wms",type:"danger",text:te})},U=()=>{t()},N=()=>{r(_),U()},L=()=>sn(null,null,function*(){if(!Y4(n)){u(!0);return}try{let te=yield Yk(n);te.length!==0&&(g(te),I(te[0]))}catch(te){z(gt("dialog.add-wms.error.invalid-url"))}}),F=te=>{i(te.target.value)},H=te=>{te.code==="Enter"&&L()},Y=te=>{let oe=d.find(ue=>ue.id===te.target.value);I(oe)};return ni.default.createElement("div",null,ni.default.createElement(Uf,{className:"vkf-dialog-addwms",show:!0,onHide:U},ni.default.createElement(Uf.Header,null,ni.default.createElement(Uf.Title,null,gt("control-basemapselector-addwms-title"))),ni.default.createElement(Uf.Body,null,ni.default.createElement("div",{className:"dialog-content"},ni.default.createElement("div",{className:wr("form-group","set-url",o?"has-warning":"")},ni.default.createElement("label",{htmlFor:A.current},gt("control-basemapselector-addwms-input-label")),ni.default.createElement("div",{className:"form-group-capabilities"},ni.default.createElement("input",{type:"url",className:"form-control",ref:A,placeholder:"https://meinwms.de?Request=GetCapabilities&Service=WMS&Version=1.3.0",value:n,onChange:F,onKeyDown:H}),ni.default.createElement("button",{type:"submit",className:"btn",onClick:L},gt("control-basemapselector-addwms-btn-load-capabilities"))),ni.default.createElement("p",{className:"help-block"},gt("control-basemapselector-addwms-input-description"))),d.length>0&&_!==null&&ni.default.createElement("div",{className:wr("form-group","set-layer")},ni.default.createElement("label",{htmlFor:q.current},gt("control-basemapselector-addwms-select-label")),ni.default.createElement("select",{ref:q,value:_.id,onChange:Y,className:"form-control"},d.map(te=>ni.default.createElement("option",{key:te.id,value:te.id},te.label))),ni.default.createElement("p",{className:"help-block"},gt("control-basemapselector-addwms-select-description"))))),ni.default.createElement(Uf.Footer,null,ni.default.createElement(Xa,{onClick:U},gt("control-basemapselector-addwms-btn-canel")),ni.default.createElement(Xa,{onClick:N,bsStyle:"primary",className:wr(_===null?"disabled":"")},gt("control-basemapselector-addwms-btn-submit")))))};pze.propTypes={onClose:yK.default.func.isRequired,onSubmit:yK.default.func.isRequired};var fze=pze;var iI="vkf-custom-basemaps",dze=e=>{let{map:t}=e,[r,n]=qn(Q1),[i,o]=E_(iI,[]),u=kr.getBaseMaps(),d=zi(Qa),[g,_]=(0,Ja.useState)(!1),I=z=>{n(z.id)},T=()=>{_(!0)},A=z=>{z.type==="wms"&&rI(t,z),r===z.id&&n(u[0].id),o(U=>U.filter(N=>N.id!==z.id))},q=z=>{if([...u,...i].find(N=>N.id===z.id||N.label===z.label))d({id:"basemapSelector",type:"danger",text:gt("control-basemapselector-error-initializiation")});else{let N=dr(rt({},z),{allowDeletion:!0});o(L=>[...L,N])}};return Ja.default.createElement(Ja.default.Fragment,null,r!==void 0&&Ja.default.createElement(Ja.default.Fragment,null,Ja.default.createElement("h2",null,gt("control-basemapselector-label"),":"),Ja.default.createElement("ul",{className:"wms-entries"},[...u,...i].map(z=>Ja.default.createElement("li",{key:z.id,className:"basemap-selector-entry"},Ja.default.createElement(oK,{onChange:()=>I(z),name:z.id,value:z.id,checked:r===z.id},z.label),z.allowDeletion&&Ja.default.createElement("button",{className:"delete-basemap-button",onClick:U=>{U.preventDefault(),U.stopPropagation(),A(z)},title:"Remove basemap"},Ja.default.createElement(Eo,{glyph:"remove"}))))),Ja.default.createElement("div",{className:"controls-container"},Ja.default.createElement("button",{className:"add-wms-button",onClick:T},gt("control-basemapselector-btn-addwms")))),g&&Ja.default.createElement(fze,{onClose:()=>_(!1),onSubmit:q}))};dze.propTypes={map:nI.default.object,onBasemapChange:nI.default.func,onSetNotification:nI.default.func,activeBasemapId:nI.default.string};var hze=dze;var dfr=()=>{let{baseMapControlEl:e,activeDialog:t,toggleDialog:r,dialogRef:n}=RO(jH,Ws.BasemapSelector);return e!==null?(0,mze.createPortal)(oI.default.createElement("div",{ref:n},oI.default.createElement("button",{onClick:r,title:gt("control-basemapselector-open"),className:wr("maplibregl-ctrl-basemap-selector",t===Ws.BasemapSelector&&"active")}),t===Ws.BasemapSelector&&oI.default.createElement("div",{className:wr("basemap-selector-modal",t===Ws.BasemapSelector&&"active")},oI.default.createElement(hze,null))),e):null},gze=dfr;var vze=gze;p();p();var _K=class extends W4{addControl(t,r){let n=super.addControl(t,r);return this.fire(rc.controlAdded,{control:t}),n}removeControl(t){let r=super.removeControl(t);return this.fire(rc.controlRemoved,{control:t}),r}setPaintProperty(t,r,n,i){var g;let o=super.setPaintProperty(t,r,n,i),u=this.getLayer(t),d=(g=u==null?void 0:u.metadata)==null?void 0:g[pp.id];return mDe.has(r)&&d&&this.fire(rc.opacityChanged,{layerId:d,property:r,value:n}),o}setLayoutProperty(t,r,n,i){var g;let o=super.setLayoutProperty(t,r,n,i),u=this.getLayer(t),d=(g=u==null?void 0:u.metadata)==null?void 0:g[pp.id];return gDe.has(r)&&d&&this.fire(rc.visibilityChanged,{layerId:d,property:r,value:n}),o}fireVisibilityChanged(t,r){this.fire(rc.visibilityChanged,{layerId:t,property:"visibility",value:r})}},yze=_K;var _ze=yze;p();var aI=se(Je(),1),Yze=se(Yi(),1);p();var wp=se(Je(),1);p();var Pa=se(Je(),1);p();p();p();var bK={"2D":0,"3D":1};var bze=e=>{let{center:t,bearing:r,pitch:n,zoom:i}=e;return Object.assign({},t===void 0?null:{c:t},r===void 0?null:{be:r},n===void 0?null:{p:n},i===void 0?null:{z:i})},xze=e=>kr.getBaseMaps().filter(n=>n.id===e).length>0?{b:e}:{},wze=e=>({map_id:e.filter(t=>t.getType()===Ha.HISTORIC_MAP||t.getMetadata(Kt.vectorMapId)).map(t=>t.getId())}),Sze=e=>({v:e?bK["3D"]:bK["2D"]});var Gze=se(Uze(),1);p();p();var es=se(Je(),1),Kk=se(Qt(),1);var Vze=({title:e,onClick:t,value:r})=>{let[n,i]=(0,es.useState)(!1),o=(0,es.useRef)(),u=(0,es.useRef)(),d=(0,es.useCallback)(()=>{(t!==void 0&&r===""?t():new Promise(_=>_())).then(_=>{clearTimeout(u.current),navigator.clipboard.writeText(_!==void 0?_:r),i(!0)})},[t,r]);return(0,es.useEffect)(()=>(n&&(u.current=setTimeout(()=>{i(!1)},1e3)),()=>{clearTimeout(u.current)}),[n]),es.default.createElement(es.default.Fragment,null,es.default.createElement("button",{className:"copy-button",onClick:d,ref:o,title:e!=null?e:gt("control-permalink-exporter-copy-title")},es.default.createElement(Eo,{glyph:"copy"})),es.default.createElement(rK,{placement:"right",target:o.current,show:n},es.default.createElement(fK,{id:"copy-state-indicator"},gt("control-permalink-exporter-copy"))))};Vze.propTypes={title:Kk.default.string,onClick:Kk.default.func,value:Kk.default.string};var $ze=Vze;var Xk=$ze;var Sfr=()=>{let e=vr(Sn),t=vr(Ys),r=vr(Q1),[n,i]=(0,Pa.useState)(""),o=(0,Pa.useRef)(),u=(0,Pa.useCallback)(()=>{if(!Ft(e))return;let d=bze(K9e(e,!0)),g=Sze(e.isVkfGlobeModeEnabled()),_=wze(t),I=xze(r),T=(0,Gze.stringify)(Object.assign({},d,g,_,I),{arrayFormat:"comma"});i(Vk(T))},[e]);return(0,Pa.useEffect)(()=>{if(e)return u(),e.on("moveend",u),()=>{e.off("moveend",u)}},[e,u]),Pa.default.createElement(Pa.default.Fragment,null,Pa.default.createElement("div",{className:"action-content"},Pa.default.createElement("label",{htmlFor:"permalink-value",className:"visually-hidden"},"Permalink"),Pa.default.createElement("input",{readOnly:!0,ref:o,value:n,id:"permalink-value"}),Pa.default.createElement(Xk,{value:n})),Pa.default.createElement("div",{className:"description"},Pa.default.createElement("p",null,gt("control-permalink-exporter-permalink-description"))))},Hze=Sfr;p();var Oa=se(Je(),1);p();var xp=se(Je(),1);var Efr=()=>xp.default.createElement("div",{className:"lds-roller"},xp.default.createElement("div",null),xp.default.createElement("div",null),xp.default.createElement("div",null),xp.default.createElement("div",null),xp.default.createElement("div",null),xp.default.createElement("div",null),xp.default.createElement("div",null),xp.default.createElement("div",null)),T_=Efr;var Wze=()=>{let[e]=E_(iI,[]),[t,r]=(0,Oa.useState)(!1),[n,i]=(0,Oa.useState)(""),o=vr(BNe),u=kr.getGeoreferenceApiClient(),d="/map_view/",g=(0,Oa.useCallback)(()=>{if(o!==void 0){let _=o(),{searchOptions:I}=_,T=Yn(_,["searchOptions"]),A=e.filter(z=>z.id===T.activeBasemapId),q=Object.assign({},T,A.length>0?{customBasemaps:A}:null);return r(!0),u.post(d,{map_view_json:q}).then(z=>{if(z.status===200&&z.data!==void 0){let{map_view_id:U}=z.data,N=Vk(`map_view_id=${U}`);return i(N),r(!1),N}})}},[e,o]);return Oa.default.createElement(Oa.default.Fragment,null,Oa.default.createElement("div",{className:"action-content"},Oa.default.createElement("label",{htmlFor:"permalink-mapview",className:"visually-hidden"},"Permalink"),Oa.default.createElement("input",{placeholder:gt("control-permalink-input-mapview-placeholder"),readOnly:!0,value:n,id:"permalink-mapview"}),Oa.default.createElement(Xk,{onClick:g,value:n}),Oa.default.createElement("button",{className:wr("upload-button",t&&"loading"),onClick:g},t?Oa.default.createElement(T_,null):Oa.default.createElement(Eo,{glyph:"upload"}),"Upload")),Oa.default.createElement("div",{className:"description"},Oa.default.createElement("p",null,gt("control-permalink-exporter-mapview-description"))))};var Ifr=()=>{let e=!kr.isUserAuthenticated();return wp.default.createElement("div",{className:"vkf-permalink-exporter"},wp.default.createElement(cK,{defaultActiveKey:1,id:"permalink-exporter-tabs"},wp.default.createElement(Bk,{eventKey:1,title:gt("control-permalink-title-permalink")},wp.default.createElement("div",{className:"permalink-exporter-content"},wp.default.createElement(Hze,null))),wp.default.createElement(Bk,{disabled:e,eventKey:2,title:gt("control-permalink-title-map-view")},wp.default.createElement("div",{className:"permalink-exporter-content"},!e&&wp.default.createElement(Wze,null)))))},Zze=wp.default.memo(Ifr);var Tfr=()=>{let{baseMapControlEl:e,activeDialog:t,toggleDialog:r,dialogRef:n}=RO(UH,Ws.Permalink);return e!==null?(0,Yze.createPortal)(aI.default.createElement("div",{ref:n},aI.default.createElement("button",{className:wr("maplibregl-ctrl-permalink",t===Ws.Permalink&&"active"),onClick:r,title:gt("control-permalink-open")}),t===Ws.Permalink&&aI.default.createElement("div",{className:"content-container"},aI.default.createElement(Zze,null))),e):null},Kze=Tfr;p();var Qk=se(Je(),1);var Mfr=()=>{let e=vr(Sn),t=vr(Q1),r=vr(IO),[n]=E_(iI,[]),i=kr.getBaseMaps(),o=(0,Qk.useMemo)(()=>[...i,...n],[n,i]);return(0,Qk.useEffect)(()=>{if(Ft(e)){let u=o.find(g=>g.id===t);if(u===void 0)return;let d=u;if(rI(e),cze(e),d.type==="vector")sze(e,r);else if(d.type==="wms")oze(e,d,r);else if(d.type==="xyz")uze(e,d,r);else throw new Error("Unknown layer type")}},[t,e,r]),null},Xze=Mfr;p();function Qze(){return{"NavigationControl.ZoomIn":gt("control-zoom-in"),"NavigationControl.ZoomOut":gt("control-zoom-out"),"FullscreenControl.Enter":gt("control-fullscreen-Enter"),"FullscreenControl.Exit":gt("control-fullscreen-Exit"),"NavigationControl.ResetBearing":gt("control-rotate"),"VkfGlobeModeControl.Enable":gt("control-toggleviewmode-title"),"VkfGlobeModeControl.Disable":gt("control-toggleviewmode-title"),"GeolocateControl.FindMyLocation":gt("control-locateme-title"),"GeolocateControl.LocationNotAvailable":gt("control-locateme-location-not-available")}}var Cfr="https://tile-2.kartenforum.slub-dresden.de/styles/maptiler-basic-v2/style.json",Jze=e=>{let{target:t}=e,r=document.getElementsByClassName("map-container")[0];if(!Ft(r))return;let n=ONe(t.getZoom());r.style.setProperty("--vkf-idohist-scale-factor",n)},eje=e=>{let{target:t}=e,r=document.getElementsByClassName("map-container")[0];if(!Ft(r))return;let n=t.isVkfGlobeModeEnabled()?"#262626":"#ffffff";r.style.setProperty("--vkf-map-background-color",n)};function tje(e){let{ChildComponent:t,layout:r,mapViewSettings:n={center:[13.5981217,59.562795],projection:"EPSG:3857",zoom:2},loadMarkerIcon:i=!0}=e,[o,u]=qn(Sn),d=zi(IO),g=(0,yu.useRef)();return mRe(g,"map"),(0,yu.useEffect)(()=>{let _=new _ze({container:g.current,center:n.center,zoom:n.zoom,maxZoom:n.maxZoom,style:Cfr,locale:Qze(),attributionControl:!1}),I=()=>{if(u(_),d(_.getStyle().layers),i===!0){let{id:T,url:A}=kr.getMarkerSettings();_.loadImage(A).then(q=>{_.addImage(T,q.data,{sdf:!0})})}};return _.on("style.load",I),_.on("zoom",Jze),_.on(Fh,eje),()=>{_.off("style.load",I),_.off("zoom",Jze),_.off(Fh,eje),u(void 0),_.remove()}},[]),(0,yu.useEffect)(()=>{if(Ft(o)){let _=_De();return _.forEach(({control:I,position:T})=>{o.addControl(I,T)}),()=>{_.forEach(({control:I})=>{o.removeControl(I)})}}},[o]),yu.default.createElement("div",{className:"map-container"},yu.default.createElement("div",{ref:g,className:wr("map-div","olMap",SDe(r)),tabIndex:0},Ft(o)&&yu.default.createElement(t,null),yu.default.createElement(vze,null),yu.default.createElement(Kze,null),yu.default.createElement(Xze,null)))}var Afr={baseMapUrl:dc.default.arrayOf(dc.default.string),ChildComponent:dc.default.func,layout:dc.default.string,mapViewSettings:dc.default.shape({center:dc.default.arrayOf(dc.default.number),projection:dc.default.string,zoom:dc.default.number}),loadMarkerIcon:dc.default.bool};tje.propTypes=Afr;var rje=tje;p();var rd=se(Je(),1),L$e=se(Qt(),1);p();var cm=se(Je(),1);var MR=se(Qt(),1);p();var To=se(Je(),1);p();p();var C_=se(Je(),1),SK=se(Qt(),1);p();var mv=se(Je(),1),M_=se(Qt(),1),nje=({checked:e,georeferenceMode:t,id:r,onClick:n,title:i})=>r!=="ToGeoref"||r==="toGeoref"&&t?mv.default.createElement("li",null,mv.default.createElement("label",{htmlFor:r},mv.default.createElement("input",{checked:e,className:"facet-search-el",onChange:()=>{n(r)},id:r,title:i,type:"checkbox"}),mv.default.createElement("span",{dangerouslySetInnerHTML:{__html:i}}))):mv.default.createElement(mv.default.Fragment,null);nje.propTypes={checked:M_.default.bool,georeferenceMode:M_.default.bool,id:M_.default.string,onClick:M_.default.func,title:M_.default.string};var ije=nje;var EK={AE:"map_type-ae",AK:"map_type-ak",CM:"map_type-cm",GL:"map_type-gl",MB:"map_type-mb",MTB:"map_type-mtb",TK:"map_type-tk",TKX:"map_type-tkx",MM:"type-mosaic",VM:"type-vector"},Pfr=(e,t)=>e.title>t.title?1:e.title<t.title?-1:0,Ofr=()=>{let e=Object.keys(EK).map(t=>({key:t,title:gt(`facet-${t.toLowerCase()}`)}));return e.sort(Pfr),e},Dfr={};Object.keys(EK).forEach(e=>{Dfr[e]=!1});var oje=({georeferenceMode:e,mosaicMode:t})=>{let[r,n]=qn(Hh),i=(0,C_.useMemo)(()=>{let d=rt({},EK);return t&&(delete d.MM,delete d.VM),d},[t]),o=(0,C_.useMemo)(()=>Ofr(),[]),u=d=>{n(g=>{let{facets:_,georeference:I}=g;if(d==="ToGeoref")return{facets:_,georeference:!I};{let T=_.slice(),A=T.findIndex(q=>q.id===d);if(A>-1)T.splice(A,1);else{let[q,z]=i[d].split("-");T.push({key:q,value:z,id:d})}return{facets:T,georeference:I}}})};return C_.default.createElement("ul",{className:"search-facet"},o.map(({key:d,title:g})=>C_.default.createElement(ije,{checked:r.facets.findIndex(_=>_.id===d)!==-1,key:d,georeferenceMode:e,onClick:u,id:d,title:g})))};oje.propTypes={georeferenceMode:SK.default.bool,mosaicMode:SK.default.bool};var aje=oje;var Jk=aje;p();var yc=se(Je(),1);var JK=se(Qt(),1);p();var Io=se(Je(),1),Js=se(Qt(),1);p();p();function Yr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}p();var sje=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function kfr(e,t){return!!(e===t||sje(e)&&sje(t))}function Nfr(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!kfr(e[r],t[r]))return!1;return!0}function Rfr(e,t){t===void 0&&(t=Nfr);var r,n=[],i,o=!1;function u(){for(var d=[],g=0;g<arguments.length;g++)d[g]=arguments[g];return o&&r===this&&t(d,n)||(i=e.apply(this,d),o=!0,r=this,n=d),i}return u}var eN=Rfr;var P_=se(Je());var Lfr=typeof performance=="object"&&typeof performance.now=="function",lje=Lfr?function(){return performance.now()}:function(){return Date.now()};function uje(e){cancelAnimationFrame(e.id)}function qfr(e,t){var r=lje();function n(){lje()-r>=t?e.call(null):i.id=requestAnimationFrame(n)}var i={id:requestAnimationFrame(n)};return i}var IK=-1;function cje(e){if(e===void 0&&(e=!1),IK===-1||e){var t=document.createElement("div"),r=t.style;r.width="50px",r.height="50px",r.overflow="scroll",document.body.appendChild(t),IK=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return IK}var A_=null;function pje(e){if(e===void 0&&(e=!1),A_===null||e){var t=document.createElement("div"),r=t.style;r.width="50px",r.height="50px",r.overflow="scroll",r.direction="rtl";var n=document.createElement("div"),i=n.style;return i.width="100px",i.height="100px",t.appendChild(n),document.body.appendChild(t),t.scrollLeft>0?A_="positive-descending":(t.scrollLeft=1,t.scrollLeft===0?A_="negative":A_="positive-ascending"),document.body.removeChild(t),A_}return A_}var zfr=150,jfr=function(t,r){return t};function Ffr(e){var t,r=e.getItemOffset,n=e.getEstimatedTotalSize,i=e.getItemSize,o=e.getOffsetForIndexAndAlignment,u=e.getStartIndexForOffset,d=e.getStopIndexForStartIndex,g=e.initInstanceProps,_=e.shouldResetStyleCacheOnItemSizeChange,I=e.validateProps;return t=function(T){QO(A,T);function A(z){var U;return U=T.call(this,z)||this,U._instanceProps=g(U.props,Yr(U)),U._outerRef=void 0,U._resetIsScrollingTimeoutId=null,U.state={instance:Yr(U),isScrolling:!1,scrollDirection:"forward",scrollOffset:typeof U.props.initialScrollOffset=="number"?U.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},U._callOnItemsRendered=void 0,U._callOnItemsRendered=eN(function(N,L,F,H){return U.props.onItemsRendered({overscanStartIndex:N,overscanStopIndex:L,visibleStartIndex:F,visibleStopIndex:H})}),U._callOnScroll=void 0,U._callOnScroll=eN(function(N,L,F){return U.props.onScroll({scrollDirection:N,scrollOffset:L,scrollUpdateWasRequested:F})}),U._getItemStyle=void 0,U._getItemStyle=function(N){var L=U.props,F=L.direction,H=L.itemSize,Y=L.layout,te=U._getItemStyleCache(_&&H,_&&Y,_&&F),oe;if(te.hasOwnProperty(N))oe=te[N];else{var ue=r(U.props,N,U._instanceProps),Ie=i(U.props,N,U._instanceProps),Ee=F==="horizontal"||Y==="horizontal",ve=F==="rtl",xe=Ee?ue:0;te[N]=oe={position:"absolute",left:ve?void 0:xe,right:ve?xe:void 0,top:Ee?0:ue,height:Ee?"100%":Ie,width:Ee?Ie:"100%"}}return oe},U._getItemStyleCache=void 0,U._getItemStyleCache=eN(function(N,L,F){return{}}),U._onScrollHorizontal=function(N){var L=N.currentTarget,F=L.clientWidth,H=L.scrollLeft,Y=L.scrollWidth;U.setState(function(te){if(te.scrollOffset===H)return null;var oe=U.props.direction,ue=H;if(oe==="rtl")switch(pje()){case"negative":ue=-H;break;case"positive-descending":ue=Y-F-H;break}return ue=Math.max(0,Math.min(ue,Y-F)),{isScrolling:!0,scrollDirection:te.scrollOffset<ue?"forward":"backward",scrollOffset:ue,scrollUpdateWasRequested:!1}},U._resetIsScrollingDebounced)},U._onScrollVertical=function(N){var L=N.currentTarget,F=L.clientHeight,H=L.scrollHeight,Y=L.scrollTop;U.setState(function(te){if(te.scrollOffset===Y)return null;var oe=Math.max(0,Math.min(Y,H-F));return{isScrolling:!0,scrollDirection:te.scrollOffset<oe?"forward":"backward",scrollOffset:oe,scrollUpdateWasRequested:!1}},U._resetIsScrollingDebounced)},U._outerRefSetter=function(N){var L=U.props.outerRef;U._outerRef=N,typeof L=="function"?L(N):L!=null&&typeof L=="object"&&L.hasOwnProperty("current")&&(L.current=N)},U._resetIsScrollingDebounced=function(){U._resetIsScrollingTimeoutId!==null&&uje(U._resetIsScrollingTimeoutId),U._resetIsScrollingTimeoutId=qfr(U._resetIsScrolling,zfr)},U._resetIsScrolling=function(){U._resetIsScrollingTimeoutId=null,U.setState({isScrolling:!1},function(){U._getItemStyleCache(-1,null)})},U}A.getDerivedStateFromProps=function(U,N){return Bfr(U,N),I(U),null};var q=A.prototype;return q.scrollTo=function(U){U=Math.max(0,U),this.setState(function(N){return N.scrollOffset===U?null:{scrollDirection:N.scrollOffset<U?"forward":"backward",scrollOffset:U,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},q.scrollToItem=function(U,N){N===void 0&&(N="auto");var L=this.props,F=L.itemCount,H=L.layout,Y=this.state.scrollOffset;U=Math.max(0,Math.min(U,F-1));var te=0;if(this._outerRef){var oe=this._outerRef;H==="vertical"?te=oe.scrollWidth>oe.clientWidth?cje():0:te=oe.scrollHeight>oe.clientHeight?cje():0}this.scrollTo(o(this.props,U,N,Y,this._instanceProps,te))},q.componentDidMount=function(){var U=this.props,N=U.direction,L=U.initialScrollOffset,F=U.layout;if(typeof L=="number"&&this._outerRef!=null){var H=this._outerRef;N==="horizontal"||F==="horizontal"?H.scrollLeft=L:H.scrollTop=L}this._callPropsCallbacks()},q.componentDidUpdate=function(){var U=this.props,N=U.direction,L=U.layout,F=this.state,H=F.scrollOffset,Y=F.scrollUpdateWasRequested;if(Y&&this._outerRef!=null){var te=this._outerRef;if(N==="horizontal"||L==="horizontal"){if(N==="rtl")switch(pje()){case"negative":te.scrollLeft=-H;break;case"positive-ascending":te.scrollLeft=H;break;default:var oe=te.clientWidth,ue=te.scrollWidth;te.scrollLeft=ue-oe-H;break}else te.scrollLeft=H;}else te.scrollTop=H}this._callPropsCallbacks()},q.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&uje(this._resetIsScrollingTimeoutId)},q.render=function(){var U=this.props,N=U.children,L=U.className,F=U.direction,H=U.height,Y=U.innerRef,te=U.innerElementType,oe=U.innerTagName,ue=U.itemCount,Ie=U.itemData,Ee=U.itemKey,ve=Ee===void 0?jfr:Ee,xe=U.layout,Pe=U.outerElementType,we=U.outerTagName,Oe=U.style,Xe=U.useIsScrolling,lt=U.width,pt=this.state.isScrolling,qe=F==="horizontal"||xe==="horizontal",ut=qe?this._onScrollHorizontal:this._onScrollVertical,bt=this._getRangeToRender(),wt=bt[0],Ge=bt[1],st=[];if(ue>0)for(var tt=wt;tt<=Ge;tt++)st.push((0,P_.createElement)(N,{data:Ie,key:ve(tt,Ie),index:tt,isScrolling:Xe?pt:void 0,style:this._getItemStyle(tt)}));var je=n(this.props,this._instanceProps);return(0,P_.createElement)(Pe||we||"div",{className:L,onScroll:ut,ref:this._outerRefSetter,style:yn({position:"relative",height:H,width:lt,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:F},Oe)},(0,P_.createElement)(te||oe||"div",{children:st,ref:Y,style:{height:qe?"100%":je,pointerEvents:pt?"none":void 0,width:qe?je:"100%"}}))},q._callPropsCallbacks=function(){if(typeof this.props.onItemsRendered=="function"){var U=this.props.itemCount;if(U>0){var N=this._getRangeToRender(),L=N[0],F=N[1],H=N[2],Y=N[3];this._callOnItemsRendered(L,F,H,Y)}}if(typeof this.props.onScroll=="function"){var te=this.state,oe=te.scrollDirection,ue=te.scrollOffset,Ie=te.scrollUpdateWasRequested;this._callOnScroll(oe,ue,Ie)}},q._getRangeToRender=function(){var U=this.props,N=U.itemCount,L=U.overscanCount,F=this.state,H=F.isScrolling,Y=F.scrollDirection,te=F.scrollOffset;if(N===0)return[0,0,0,0];var oe=u(this.props,te,this._instanceProps),ue=d(this.props,oe,te,this._instanceProps),Ie=!H||Y==="backward"?Math.max(1,L):1,Ee=!H||Y==="forward"?Math.max(1,L):1;return[Math.max(0,oe-Ie),Math.max(0,Math.min(N-1,ue+Ee)),oe,ue]},A}(P_.PureComponent),t.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},t}var Bfr=function(t,r){var n=t.children,i=t.direction,o=t.height,u=t.layout,d=t.innerTagName,g=t.outerTagName,_=t.width,I=r.instance;if(0)var T};var fje=Ffr({getItemOffset:function(t,r){var n=t.itemSize;return r*n},getItemSize:function(t,r){var n=t.itemSize;return n},getEstimatedTotalSize:function(t){var r=t.itemCount,n=t.itemSize;return n*r},getOffsetForIndexAndAlignment:function(t,r,n,i,o,u){var d=t.direction,g=t.height,_=t.itemCount,I=t.itemSize,T=t.layout,A=t.width,q=d==="horizontal"||T==="horizontal",z=q?A:g,U=Math.max(0,_*I-z),N=Math.min(U,r*I),L=Math.max(0,r*I-z+I+u);switch(n==="smart"&&(i>=L-z&&i<=N+z?n="auto":n="center"),n){case"start":return N;case"end":return L;case"center":{var F=Math.round(L+(N-L)/2);return F<Math.ceil(z/2)?0:F>U+Math.floor(z/2)?U:F}case"auto":default:return i>=L&&i<=N?i:i<L?L:N}},getStartIndexForOffset:function(t,r){var n=t.itemCount,i=t.itemSize;return Math.max(0,Math.min(n-1,Math.floor(r/i)))},getStopIndexForStartIndex:function(t,r,n){var i=t.direction,o=t.height,u=t.itemCount,d=t.itemSize,g=t.layout,_=t.width,I=i==="horizontal"||g==="horizontal",T=r*d,A=I?_:o,q=Math.ceil((A+n-T)/d);return Math.max(0,Math.min(u-1,r+q-1))},initInstanceProps:function(t){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(t){var r=t.itemSize}});p();var hje=se(Je());function Ufr(e){var t=e.lastRenderedStartIndex,r=e.lastRenderedStopIndex,n=e.startIndex,i=e.stopIndex;return!(n>r||i<t)}function Vfr(e){for(var t=e.isItemLoaded,r=e.itemCount,n=e.minimumBatchSize,i=e.startIndex,o=e.stopIndex,u=[],d=null,g=null,_=i;_<=o;_++){var I=t(_);I?g!==null&&(u.push(d,g),d=g=null):(g=_,d===null&&(d=_))}if(g!==null){for(var T=Math.min(Math.max(g,d+n-1),r-1),A=g+1;A<=T&&!t(A);A++)g=A;u.push(d,g)}if(u.length)for(;u[1]-u[0]+1<n&&u[0]>0;){var q=u[0]-1;if(!t(q))u[0]=q;else break}return u}var $fr=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},Gfr=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),Hfr=function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},dje=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e},Wfr=function(e){Hfr(t,e);function t(){var r,n,i,o;$fr(this,t);for(var u=arguments.length,d=Array(u),g=0;g<u;g++)d[g]=arguments[g];return o=(n=(i=dje(this,(r=t.__proto__||Object.getPrototypeOf(t)).call.apply(r,[this].concat(d))),i),i._lastRenderedStartIndex=-1,i._lastRenderedStopIndex=-1,i._memoizedUnloadedRanges=[],i._onItemsRendered=function(_){var I=_.visibleStartIndex,T=_.visibleStopIndex;i._lastRenderedStartIndex=I,i._lastRenderedStopIndex=T,i._ensureRowsLoaded(I,T)},i._setRef=function(_){i._listRef=_},n),dje(i,o)}return Gfr(t,[{key:"resetloadMoreItemsCache",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this._memoizedUnloadedRanges=[],n&&this._ensureRowsLoaded(this._lastRenderedStartIndex,this._lastRenderedStopIndex)}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var n=this.props.children;return n({onItemsRendered:this._onItemsRendered,ref:this._setRef})}},{key:"_ensureRowsLoaded",value:function(n,i){var o=this.props,u=o.isItemLoaded,d=o.itemCount,g=o.minimumBatchSize,_=g===void 0?10:g,I=o.threshold,T=I===void 0?15:I,A=Vfr({isItemLoaded:u,itemCount:d,minimumBatchSize:_,startIndex:Math.max(0,n-T),stopIndex:Math.min(d-1,i+T)});(this._memoizedUnloadedRanges.length!==A.length||this._memoizedUnloadedRanges.some(function(q,z){return A[z]!==q}))&&(this._memoizedUnloadedRanges=A,this._loadUnloadedRanges(A))}},{key:"_loadUnloadedRanges",value:function(n){for(var i=this,o=this.props.loadMoreItems||this.props.loadMoreRows,u=function(_){var I=n[_],T=n[_+1],A=o(I,T);A!=null&&A.then(function(){if(Ufr({lastRenderedStartIndex:i._lastRenderedStartIndex,lastRenderedStopIndex:i._lastRenderedStopIndex,startIndex:I,stopIndex:T})){if(i._listRef==null)return;typeof i._listRef.resetAfterIndex=="function"?i._listRef.resetAfterIndex(I,!0):(typeof i._listRef._getItemStyleCache=="function"&&i._listRef._getItemStyleCache(-1),i._listRef.forceUpdate())}})},d=0;d<n.length;d+=2)u(d)}}]),t}(hje.PureComponent),mje=Wfr;p();var Yje=se(Je(),1);p();var cI=se(Je(),1);p();var kn=se(Je(),1),Pl=se(Qt(),1);var uI=se(WK(),1);p();var D_=(e,t)=>e.findIndex(r=>r.getId()===t.getId())!==-1,Gdr="http://www.deutschefotothek.de/images/noimage/image120.jpg",ZK=e=>e.getType()===Ha.VECTOR_MAP?kr.getSettings().FALLBACK_THUMBNAIL:Gdr,$je=e=>{let t=e.getMetadata(Kt.thumbnailUrl);return!Ft(t)||t===""?ZK(e):t.replace("http:","")};var Gje=({children:e,data:t,index:r,onClick:n,onMouseEnter:i,onMouseLeave:o,style:u})=>{var Ee;let{direction:d,maps:g}=t,_=(Ee=g[r])!=null?Ee:Tp,I=vr(Ys),[T,A]=(0,kn.useState)(!1),{displayTime:q,sortTime:z}=(0,kn.useMemo)(()=>({displayTime:_.getDisplayTime(),sortTime:_.getSortTime()}),[_]),U=(0,kn.useMemo)(()=>$je(_),[_]),N=(0,kn.useMemo)(()=>ZK(_),[_]),L=()=>{n(_)},F=ve=>{ve.key==="Enter"&&L()},H=(0,kn.useCallback)(()=>{U!==""&&U!==N&&A(!0)},[U,N]);(0,kn.useEffect)(()=>{A(!1)},[_.getId()]);let Y=_===Tp,te=D_(I,_)&&!Y,oe=_.getMetadata(Kt.mapScale)==="0"||_.getMetadata(Kt.mapScale)===0?gt("mapsearch-listelement-unknown"):`1:${_.getMetadata(Kt.mapScale)}`,ue=_.getMetadata(Kt.type)===Ha.MOSAIC_MAP,Ie=_.getMetadata(Kt.type)===Ha.VECTOR_MAP;return kn.default.createElement("li",{tabIndex:0,style:u,className:wr("vkf-mapsearch-record",_.getMetadata(Kt.type),te&&"selected",d,Y&&"loading"),id:_.getMetadata(Kt.id),onClick:Y?void 0:L,onKeyDown:Y?void 0:F,onMouseEnter:i,onMouseLeave:o},e,kn.default.createElement("span",{className:"data-col time"},isNaN(z)?"":z),kn.default.createElement("span",{className:"data-col title"},_.getMetadata(Kt.title)),kn.default.createElement("span",{className:"data-col time"},"1"),kn.default.createElement("div",{className:"view-item"},kn.default.createElement("span",{className:"thumbnail",href:"#"},Y?kn.default.createElement(uI.default.default,{height:"calc(100% - 6px)"}):kn.default.createElement(kn.default.Fragment,null,kn.default.createElement("img",{alt:`Thumbnail Image of Map ${_.getMetadata(Kt.title)} ${q}`,onError:H,src:T?N:U}),ue&&kn.default.createElement("span",{className:wr("mosaic-badge",te&&"selected")},gt("mosaic-badge-title")),Ie&&kn.default.createElement("span",{className:wr("vector-badge",te&&"selected")},gt("vector-badge-title"))),te&&kn.default.createElement("span",{className:"badge selected-badge"},kn.default.createElement("span",{className:"glyphicon glyphicon-ok"})," ")),kn.default.createElement("div",{className:"overview"},kn.default.createElement("h2",null,Y?kn.default.createElement(uI.default.default,null):_.getMetadata(Kt.title)),kn.default.createElement("div",{className:"details"},kn.default.createElement("div",{className:"timestamp"},Y?kn.default.createElement(uI.default.default,null):`${gt("mapsearch-listelement-time")} ${q}`),!Ie&&kn.default.createElement("div",{className:"scale"},Y?kn.default.createElement(uI.default.default,null):`${gt("mapsearch-listelement-scale")} ${oe}`),!_.getMetadata(Kt.hasGeoReference)&&kn.default.createElement("div",{className:"georeference"},gt("mapsearch-listelement-no-georef"))))))};Gje.propTypes={children:Pl.default.element,data:Pl.default.shape({direction:Pl.default.oneOf(["horizontal","vertical"]),feature:Pl.default.object,is3d:Pl.default.bool,maps:Pl.default.object,selected:Pl.default.bool}),onClick:Pl.default.func,onMouseEnter:Pl.default.func,onMouseLeave:Pl.default.func,index:Pl.default.number,style:Pl.default.object};var YK=Gje;var Hje=e=>{var g;let{data:t,index:r}=e,{maps:n}=t,i=vr(Sn),o=(g=n[r])!=null?g:Tp,u=(0,cI.useCallback)(()=>{Ft(i)&&YH(i,o.getPreviewFeature())},[i,o]),d=(0,cI.useCallback)(()=>{Ft(i)&&YH(i,{type:"FeatureCollection",features:[]})},[i,o]);return cI.default.createElement(YK,rt({onMouseEnter:u,onMouseLeave:d},e))};Hje.propTypes=rt({},YK.propTypes);var KK=Hje;p();var Hdr=e=>sn(null,null,function*(){var t;try{let r=yield ya.get(`${e}/tilemapresource.xml`),n=new DOMParser().parseFromString(r.data,"text/xml"),i=n.getElementsByTagName("BoundingBox")[0],o=[i.getAttribute("minx"),i.getAttribute("miny"),i.getAttribute("maxx"),i.getAttribute("maxy")].map(parseFloat),u=n.getElementsByTagName("TileSet"),d=(t=parseInt(n.getElementsByTagName("TileFormat")[0].getAttribute("width")))!=null?t:256;return{bounds:o,maxZoom:u.length-1,tileSize:d}}catch(r){return console.error("Error fetching or parsing XML:",r),null}}),k_=e=>sn(null,null,function*(){let t=e.getMetadata(Kt.tmsUrls),r=e.getMetadata(Kt.onlineResources).find(o=>o.type==="WMS").url,n=Array.isArray(t)&&t.length>0,i;if(n){let{maxZoom:o,bounds:u,tileSize:d}=yield Hdr(t[0]);i={bounds:u,tileSize:d,maxzoom:o,tiles:t.map(g=>`${g}/{z}/{x}/{y}.png`),scheme:"tms"}}else i={tiles:(yield Yk(r))[0].urls};return i});p();p();var Wje=e=>sn(null,null,function*(){let t=kr.getGeoreferenceApiClient(),r=`/vector_maps/${e}`;return(yield t.get(r)).data});var Wdr=e=>sn(null,null,function*(){let t=e.getMetadata(Kt.externalContentUrl),r={accept:"application/json"},n=yield ya.get(t,{headers:r}),i=rv.toApplicationState(n.data);e.setGeoJson(i)}),Zdr=e=>sn(null,null,function*(){let t=yield Wje(e.getMetadata(Kt.vectorMapId));e.updateMetadata(Kt.userRole,t[Kt.userRole]),e.updateMetadata(Kt.version,t[Kt.version]);let r=rv.toApplicationState(t.geojson);e.setGeoJson(r)}),Zje=e=>sn(null,null,function*(){if(e.isExternalVectorMap()){yield Wdr(e);return}yield Zdr(e)});var Ydr=()=>I1(({snapshot:e,set:t})=>r=>sn(null,null,function*(){let n=yield e.getPromise(Ys),i=yield e.getPromise(Sn);t(SW,void 0);let o=n.find(d=>d.getId()===r.getId());if(o){t(Ys,n.filter(d=>d.getId()!==r.getId())),o.removeMapLibreLayers(i);return}if(r.getMetadata(Kt.type)===Ha.VECTOR_MAP)yield Zje(r),r.addLayerToMap(i),t(Ys,d=>d.concat(r));else{let d=yield k_(r);r.addLayerToMap(i,{sourceSettings:d}),t(Ys,g=>g.concat(r))}})),Kje=e=>{let t=Ydr();return Yje.default.createElement(KK,rt({onClick:t},e))};Kje.propTypes=rt({},KK.propTypes);var pI=Kje;p();var om=se(Qt(),1),vc=se(Je(),1);p();var im=se(Je(),1),fI=se(Qt(),1);var Kdr=e=>e===gc.ASCENDING?gc.DESCENDING:gc.ASCENDING,Xje=({label:e,sortOrder:t,sortKey:r,onClick:n})=>{let i=(0,im.useCallback)(()=>{let u=Kdr(t);n(r,u)},[r,t,n]),o=(0,im.useCallback)(u=>{u.key==="Enter"&&i()},[i]);return im.default.createElement("div",{className:wr("inner-col",r)},im.default.createElement("div",{className:wr("sort-element",r,t),onClick:i,onKeyDown:o,tabIndex:0},e,im.default.createElement("span",{className:"caret-container"},im.default.createElement("span",{className:"caret caret-reversed"}))))};Xje.propTypes={label:fI.default.string.isRequired,sortOrder:fI.default.string.isRequired,sortKey:fI.default.string.isRequired,onClick:fI.default.func.isRequired};var Qje=Xje;var gc={ASCENDING:"ascending",DESCENDING:"descending"},Jje=({sortColumns:e,onUpdateSortOrder:t,defaultSortKey:r="title",defaultSortOrder:n=gc.ASCENDING})=>{let[i,o]=(0,vc.useState)(r),[u,d]=(0,vc.useState)(n),g=(0,vc.useCallback)((_,I)=>{o(_),d(I),t(_,I)},[t,u]);return vc.default.createElement("div",{className:"vkf-sort-control-root"},vc.default.createElement("div",{className:"list-header"},vc.default.createElement("strong",{className:"list-label"},gt("mapsearch-sorting"),":"),vc.default.createElement("div",{className:"inner-columns"},e.map(({sortKey:_,label:I})=>vc.default.createElement(Qje,{key:_,onClick:g,sortOrder:i===_?u:"",sortKey:_,label:I})))))};Jje.propTypes={sortColumns:om.default.arrayOf(om.default.shape({sortKey:om.default.string,label:om.default.string})).isRequired,onUpdateSortOrder:om.default.func,defaultSortKey:om.default.string,defaultSortOrder:om.default.oneOf([gc.ASCENDING,gc.DESCENDING])};var eFe=Jje;var Tp=new Kg({metadata:{has_georeference:!0,map_scale:"0",thumb_url:"",[Kt.timePeriod]:[],title:"Loading"}}),oN=({direction:e="vertical",itemSize:t=110,ListItemComponent:r=pI,minimumBatchSize:n,onFetchResults:i,onUpdateSortType:o,renderHeader:u=!0,searchResultDescriptor:{itemCount:d,id:g}})=>{let _=vr(VNe),[I,T]=(0,Io.useState)({}),A=(0,Io.useMemo)(()=>[{sortKey:"map_scale",label:gt("mapsearch-map_scale")},{sortKey:"time_period_start",label:gt("mapsearch-time")},{sortKey:"title",label:gt("mapsearch-title")}],[]),q=(0,Io.useRef)(!1),z=(0,Io.useRef)(),U=(0,Io.useRef)(),{height:N,width:L}=qW(U),F=(0,Io.useCallback)(Y=>!q.current&&I[Y]!==void 0&&I[Y]!==Tp,[I]),H=(0,Io.useCallback)((Y,te)=>{if(Y!==void 0&&te!==void 0){let oe=te-Y+1;return i(Y,oe).then(ue=>{ue&&T(Ie=>{let Ee=q.current?{}:Object.assign({},Ie);return q.current=!1,ue.forEach((ve,xe)=>{Ee[Y+xe]=ve}),Ee})})}},[i]);return(0,Io.useEffect)(()=>{Tp.updateMetadata("title",gt("mapsearch-listelement-loading"))},[]),(0,Io.useEffect)(()=>{q.current=!0,z.current.resetloadMoreItemsCache(!0)},[g]),Io.default.createElement("div",{className:wr("vkf-mapsearch-result-list",e)},u&&Io.default.createElement(eFe,{sortColumns:A,onUpdateSortOrder:o,defaultSortKey:XK,defaultSortOrder:QK}),Io.default.createElement("div",{className:"mapsearch-contentlist-container",ref:U},Io.default.createElement(mje,{isItemLoaded:F,itemCount:d,loadMoreItems:H,minimumBatchSize:n,ref:z},({onItemsRendered:Y,ref:te})=>Io.default.createElement(fje,{height:N,innerElementType:"ul",itemCount:d,itemSize:t,itemData:{direction:e,maps:I,is3d:_},layout:e,onItemsRendered:Y,ref:te,width:L},r))))};oN.propTypes={direction:Js.default.oneOf(["horizontal","vertical"]),itemSize:Js.default.number,minimumBatchSize:Js.default.number,ListItemComponent:Js.default.elementType,renderHeader:Js.default.bool,onFetchResults:Js.default.func,onUpdateSortType:Js.default.func,searchResultDescriptor:Js.default.shape({id:Js.default.number,itemCount:Js.default.number}),sortSettings:Js.default.shape({activeType:Js.default.string,sortOrder:Js.default.string})};var XK="title",QK=gc.ASCENDING,tFe=i=>{var o=i,{customQuery:e,DataProvider:t,enableOverlayLayer:r=!0}=o,n=Yn(o,["customQuery","DataProvider","enableOverlayLayer"]);let[u,d]=(0,yc.useState)({activeType:XK,sortOrder:QK}),g=(0,yc.useCallback)((I,T)=>{d({sortOrder:T,activeType:I})},[]);return yc.default.createElement(yc.Fragment,null,r&&yc.default.createElement(oke,null),yc.default.createElement(t,{customQuery:e,renderConsumer:I=>yc.default.createElement(oN,rt(rt({onUpdateSortType:g},n),I)),sortSettings:u}))};tFe.propTypes=rt({DataProvider:JK.default.elementType.isRequired,enableOverlayLayer:JK.default.bool},oN.propTypes);var aN=tFe;p();var tX=se(Je(),1),rX=se(Qt(),1);p();var eX=se(Je(),1),sN=se(Qt(),1);var rFe=({name:e,color:t,size:r})=>eX.default.createElement("svg",{viewBox:"0 0 24 24",className:`icon ${e}`,fill:t,width:r,height:r},eX.default.createElement("use",{xlinkHref:`${kr.getSettings().ICON_SPRITE}#${e}`}));rFe.propTypes={name:sN.default.string.isRequired,color:sN.default.string,size:sN.default.number};var N_=rFe;var nFe=({onClick:e,isOpen:t})=>{let r=vr(Hh);return tX.default.createElement("button",{className:wr("vkf-toggle-facets",r.facets.length>0&&"active"),onClick:e,title:gt(`mapsearch-facetedsearch-${t?"close":"open"}`)},tX.default.createElement(N_,{name:"icon-filter"}))};nFe.propTypes={isOpen:rX.default.bool,onClick:rX.default.func};var iFe=nFe;p();var Da=se(Je(),1),am=se(Qt(),1);p();var Xdr=function(e){let t=[],r={bool:{should:t}};for(let n=0;n<e.length;n++){let i=e[n],o={term:{}};o.term[i.key]=i.value.toLowerCase(),t.push(o)}return r},oFe=function(e,t){return{aggs:{minYear:{min:{field:e}},maxYear:{max:{field:t}}}}},Qdr=function(e,t){return{bool:{should:t.map(n=>({geo_shape:{[e]:{relation:"intersects",shape:{type:"polygon",coordinates:n}}}}))}}},aFe=function({timePeriodStartFieldName:e,timePeriodEndFieldName:t,timeValues:r,geometrySearchFieldName:n,geometrySearchPolygons:i,sortFieldName:o,sortValue:u,facets:d,customQueryExtension:g}){let[_,I]=r;return{query:{bool:{filter:[{range:{[e]:{lte:I}}},{range:{[t]:{gte:_}}},Qdr(n,i),Xdr(d),{term:{has_georeference:!0}},...(g||[])],must:[{match_all:{}}]}},sort:{[o]:{order:u}}}};p();var nX=function(e,t){let r="geometry"in t?t.geometry:void 0,n=[t.time_period_start,t.time_period_end];delete t.geometry,delete t.time_period_start,delete t.time_period_end;let i=rt({},t);return i.id=e,i[Kt.timePeriod]=n,i.type===Ha.VECTOR_MAP?(i[Kt.vectorMapId]=e,rv.fromPersistence({geometry:r,metadata:i,geoJson:structuredClone(eW)})):new Kg({metadata:i,geometry:r})},sFe=function(e){let t=[];for(let r=0,n=e.length;r<n;r++)t.push(nX(e[r]._id,e[r]._source));return t},lN=e=>{let n=e,{time_of_publication:t}=n,r=Yn(n,["time_of_publication"]);return rt({time_of_publication:parseInt(t.split("-")[0])},r)},iX=e=>{let n=e,{time_of_publication:t}=n,r=Yn(n,["time_of_publication"]);return rt({time_of_publication:`${t}-01-01T00:00:00`},r)};p();p();var IFe=se(EFe(),1);function TFe(e,t={}){t.concavity=t.concavity||1/0;let r=[];if(QS(e,i=>{r.push([i[0],i[1]])}),!r.length)return null;let n=(0,IFe.default)(r,t.concavity);return n.length>3?cke([n]):null}var dN={height:15,width:15},MFe={height:15,width:0},hN={width:340},dX={width:340},CFe=(e,t,r)=>{let{map:n}=e,i=r<=2?30:r<=3.5?20:r<=5?10:5,o,u,d,g;t===cp.VERTICAL?(o=0,u=n.height,d=n.width,g=0):(o=0+hN.width+dN.width,u=n.height-MFe.height-dN.height,d=n.width-dX.width-dN.width,g=MFe.height+dN.height);let _=(d-o)/i,I=(g-u)/i,T=[];for(let A=0;A<i+1;A++)for(let q=0;q<i+1;q++)T.push([Math.round(o+A*_),Math.round(u+q*I)]);return T};function AFe(e,t){let r=e.map(o=>t.unproject(o).wrap().toArray()),n=[],i=lhr(r);return kr.isDebug()&&i.forEach(o=>{o.forEach(u=>{n.push({type:"Feature",geometry:{type:"Point",coordinates:u}})})}),i.forEach(o=>{let u=TFe(pke(o.map(d=>uke(d))));n.push(u)}),n}function lhr(e){let t=e.map(d=>d[0]),r=Math.min(...t);if(!(Math.max(...t)-r>180))return[e];let o=e.filter(d=>d[0]>=0);return[e.filter(d=>d[0]<0),o]}p();var PFe=se(Qt(),1),OFe=se(Je(),1);function DFe({features:e}){let t=vr(Sn);return(0,OFe.useEffect)(()=>{if(!t||!e)return;let r={type:"FeatureCollection",features:e},n="debug-search-source",i="debug-search-layer";if(!t.getSource(n))t.addSource(n,{type:"geojson",data:r}),t.addLayer({id:`${i}-polygon-fill`,type:"fill",source:n,paint:{"fill-color":"#209173","fill-opacity":.4}}),t.addLayer({id:`${i}-polygon-outline`,type:"line",source:n,paint:{"line-color":"#209173","line-width":2}}),t.addLayer({id:`${i}-point`,type:"circle",source:n,paint:{"circle-radius":5,"circle-color":"#0f0f0f","circle-stroke-width":1,"circle-stroke-color":"#0f0f0f"}});else{console.log("Zoom: ",t.getZoom());let o=t.getSource(n);o&&(console.log(r),o.setData(r))}},[t,e]),null}DFe.propTypes=PFe.default.array.isRequired;var kFe=DFe;function uhr(e,t){return e.length!==t.length?!1:e.every((r,n)=>JSON.stringify(r)===JSON.stringify(t[n]))}var NFe=({customQuery:e,minimumBatchSize:t=20,renderConsumer:r,sortSettings:n})=>{let{activeType:i,sortOrder:o}=n,u=vr(_O),{facets:d}=vr(Hh),g=vr(bO),_=vr(Sn),[I,T]=(0,Da.useState)(void 0),A=zi(wO),q=zi(xO),[z,U]=qn(EO),[N,L]=qn(SO),[F,H]=(0,Da.useState)({itemCount:10,id:Date.now()}),te=kr.getSettings().API_SEARCH,oe=(0,Da.useCallback)(xe=>{let Pe=o===gc.ASCENDING?"asc":"desc",we=xe.filter(Oe=>Oe.geometry.type==="Polygon").map(Oe=>Oe.geometry.coordinates);return aFe({timePeriodStartFieldName:"time_period_start",timePeriodEndFieldName:"time_period_end",timeValues:[`${N[0]}-01-01`,`${N[1]}-12-31`],geometrySearchFieldName:"geometry",geometrySearchPolygons:we,sortFieldName:i,sortValue:Pe,facets:d,customQueryExtension:e})},[d,i,o,N]),ue=(0,Da.useCallback)((xe,Pe,we=!1)=>{if(I===void 0)return A(!1),new Promise(lt=>lt([]));let Oe=oe(I),Xe=te+"/_search?from="+xe+"&size="+Pe;return A(!0),ya.post(Xe,Oe).then(lt=>{if(lt.status===200){let pt=lt.data;return we?pt:sFe(pt.hits.hits)}}).catch(lt=>{console.warn(lt)}).finally(()=>{A(!1)})},[oe,I]),Ie=(0,Da.useCallback)(()=>{ue(0,0,!0).then(xe=>{let Pe=xe.hits.total.value;q(Pe),H({itemCount:Pe,id:Date.now()})})},[ue]),Ee=hRe(Ie,30),ve=(0,Da.useCallback)(()=>{if(Ft(_)){let xe=CFe(u,g,_.getZoom()),Pe=AFe(xe,_);(I===void 0||!uhr(Pe,I))&&T(Pe)}},[_,I,u]);return(0,Da.useEffect)(()=>{if(Ft(_))return _.on("moveend",ve),()=>{_.off("moveend",ve)}},[_,ve]),(0,Da.useEffect)(()=>{Ee()},[d,Ie,I,i,o,N]),(0,Da.useEffect)(()=>{ve()},[u,_]),(0,Da.useEffect)(()=>{let xe=`${te}/_search?`,Pe=oFe("time_period_start","time_period_end");ya.post(xe,Pe,{}).then(we=>{if(we.status===200){let Oe=we.data,Xe=new Date(Oe.aggregations.maxYear.value),pt=[new Date(Oe.aggregations.minYear.value).getUTCFullYear(),Xe.getUTCFullYear()];(z===void 0||EW===z||pt[0]!==z[0]||pt[1]!==z[1])&&(U(pt),L(pt))}})},[]),Da.default.createElement(Da.default.Fragment,null,r({minimumBatchSize:t,onRefresh:Ie,onFetchResults:ue,searchResultDescriptor:F}),kr.isDebug()&&Da.default.createElement(kFe,{features:I}))};NFe.propTypes={customQuery:am.default.array,minimumBatchSize:am.default.number,projection:am.default.string,renderConsumer:am.default.func,sortSettings:am.default.shape({activeType:am.default.string,sortOrder:am.default.string})};var RFe=NFe;var mN=se(Qt(),1);var LFe=({customQuery:e,MapSearchListItemComponent:t,mosaicMode:r})=>{let[n,i]=qn(Hh),[o,u]=(0,To.useState)(!1),[d,g]=(0,To.useState)(!1),_=vr(wO),I=vr(xO),T=()=>{u(q=>!q)},A=()=>{i(UNe)};return(0,To.useEffect)(()=>{g(_)},[_]),To.default.createElement("div",{className:wr("mapsearch-container",o&&"facetedsearch-open")},To.default.createElement("div",{className:"panel panel-default searchTablePanel"},To.default.createElement("div",{className:"panel-heading"},To.default.createElement("div",{className:"content"},To.default.createElement("div",null,I===0?gt("mapsearch-found-no-maps"):`${I} ${gt("mapsearch-found-maps")}`),n.facets.length>0&&To.default.createElement("button",{className:"remove-filter",onClick:A},To.default.createElement(N_,{name:"icon-filter"})),d&&To.default.createElement("div",{className:"loading-spinner"},To.default.createElement(T_,null)),To.default.createElement(iFe,{onClick:T,isOpen:o})),To.default.createElement("div",{className:"facet-container"},To.default.createElement(Jk,{georeferenceMode:!1,mosaicMode:r}))),To.default.createElement("div",{className:"panel-body"},To.default.createElement(aN,{customQuery:e,DataProvider:RFe,ListItemComponent:t}))))};LFe.propTypes={customQuery:mN.default.array,MapSearchListItemComponent:mN.default.elementType,mosaicMode:mN.default.bool};var qFe=LFe;p();p();var gR=se(Je(),1);p();p();var oi=se(Je(),1),Dp=se(Qt(),1);p();p();p();p();p();p();function Nn(e){"@babel/helpers - typeof";return Nn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nn(e)}p();function zFe(e,t){if(Nn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Nn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gN(e){var t=zFe(e,"string");return Nn(t)=="symbol"?t:t+""}function Ot(e,t,r){return(t=gN(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jFe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ut(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jFe(Object(r),!0).forEach(function(n){Ot(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jFe(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}p();function ts(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}p();function FFe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gN(n.key),n)}}function rs(e,t,r){return t&&FFe(e.prototype,t),r&&FFe(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}p();function ns(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o_(e,t)}p();p();function _c(e){return _c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_c(e)}p();function hX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(hX=function(){return!!e})()}p();function BFe(e,t){if(t&&(Nn(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yr(e)}function is(e){var t=hX();return function(){var r,n=_c(e);if(t){var i=_c(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return BFe(this,r)}}var IX=se(Je());p();var mX={},chr=[],phr=function(t){chr.push(t)};function fhr(e,t){if(0)var r}function dhr(e,t){if(0)var r}function hhr(){mX={}}function UFe(e,t,r){!t&&!mX[r]&&(e(!1,r),mX[r]=!0)}function vN(e,t){UFe(fhr,e,t)}function mhr(e,t){UFe(dhr,e,t)}vN.preMessage=phr;vN.resetWarned=hhr;vN.noteOnce=mhr;var Mp=vN;p();var VFe=se(Je()),ghr=function(t){var r,n,i=t.className,o=t.included,u=t.vertical,d=t.style,g=t.length,_=t.offset,I=t.reverse;g<0&&(I=!I,g=Math.abs(g),_=100-_);var T=u?(r={},Ot(r,I?"top":"bottom","".concat(_,"%")),Ot(r,I?"bottom":"top","auto"),Ot(r,"height","".concat(g,"%")),r):(n={},Ot(n,I?"right":"left","".concat(_,"%")),Ot(n,I?"left":"right","auto"),Ot(n,"width","".concat(g,"%")),n),A=Ut(Ut({},d),T);return o?VFe.default.createElement("div",{className:i,style:A}):null},yN=ghr;p();p();function Ss(e,t){if(e==null)return{};var r,n,i=n_(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}p();p();p();function dI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function $Fe(e){if(Array.isArray(e))return dI(e)}p();function gX(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}p();function hI(e,t){if(e){if(typeof e=="string")return dI(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?dI(e,t):void 0}}p();function GFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _u(e){return $Fe(e)||gX(e)||hI(e)||GFe()}p();p();function HFe(e,t){for(;!{}.hasOwnProperty.call(e,t)&&(e=_c(e))!==null;);return e}function L_(){return L_=typeof Reflect!="undefined"&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=HFe(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(arguments.length<3?e:r):i.value}},L_.apply(null,arguments)}var z_=se(Je());p();var vX=se(Yi());function Es(e,t,r,n){var i=vX.default.unstable_batchedUpdates?function(u){vX.default.unstable_batchedUpdates(r,u)}:r;return e!=null&&e.addEventListener&&e.addEventListener(t,i,n),{remove:function(){e!=null&&e.removeEventListener&&e.removeEventListener(t,i,n)}}}var tBe=se(fn());p();var yX=se(Je()),WFe=se(fn());var vhr=function(t,r,n,i,o,u){Mp(n?i>0:!0,"`Slider[step]` should be a positive number in order to make Slider[dots] work.");var d=Object.keys(r).map(parseFloat).sort(function(_,I){return _-I});if(n&&i)for(var g=o;g<=u;g+=i)d.indexOf(g)===-1&&d.push(g);return d},yhr=function(t){var r=t.prefixCls,n=t.vertical,i=t.reverse,o=t.marks,u=t.dots,d=t.step,g=t.included,_=t.lowerBound,I=t.upperBound,T=t.max,A=t.min,q=t.dotStyle,z=t.activeDotStyle,U=T-A,N=vhr(n,o,u,d,A,T).map(function(L){var F,H="".concat(Math.abs(L-A)/U*100,"%"),Y=!g&&L===I||g&&L<=I&&L>=_,te=n?Ut(Ut({},q),{},Ot({},i?"top":"bottom",H)):Ut(Ut({},q),{},Ot({},i?"right":"left",H));Y&&(te=Ut(Ut({},te),z));var oe=(0,WFe.default)((F={},Ot(F,"".concat(r,"-dot"),!0),Ot(F,"".concat(r,"-dot-active"),Y),Ot(F,"".concat(r,"-dot-reverse"),i),F));return yX.default.createElement("span",{className:oe,style:te,key:L})});return yX.default.createElement("div",{className:"".concat(r,"-step")},N)},ZFe=yhr;p();var _N=se(Je()),YFe=se(fn()),_hr=function(t){var r=t.className,n=t.vertical,i=t.reverse,o=t.marks,u=t.included,d=t.upperBound,g=t.lowerBound,_=t.max,I=t.min,T=t.onClickLabel,A=Object.keys(o),q=_-I,z=A.map(parseFloat).sort(function(U,N){return U-N}).map(function(U){var N,L=o[U],F=Nn(L)==="object"&&!_N.default.isValidElement(L),H=F?L.label:L;if(!H&&H!==0)return null;var Y=!u&&U===d||u&&U<=d&&U>=g,te=(0,YFe.default)((N={},Ot(N,"".concat(r,"-text"),!0),Ot(N,"".concat(r,"-text-active"),Y),N)),oe=Ot({marginBottom:"-50%"},i?"top":"bottom","".concat((U-I)/q*100,"%")),ue=Ot({transform:"translateX(".concat(i?"50%":"-50%",")"),msTransform:"translateX(".concat(i?"50%":"-50%",")")},i?"right":"left","".concat((U-I)/q*100,"%")),Ie=n?oe:ue,Ee=F?Ut(Ut({},Ie),L.style):Ie;return _N.default.createElement("span",{className:te,style:Ee,key:U,onMouseDown:function(xe){return T(xe,U)},onTouchStart:function(xe){return T(xe,U)}},H)});return _N.default.createElement("div",{className:r},z)},KFe=_hr;p();var _X=se(Je()),XFe=se(fn());var q_=function(e){ns(r,e);var t=is(r);function r(){var n;return ts(this,r),n=t.apply(this,arguments),n.state={clickFocused:!1},n.setHandleRef=function(i){n.handle=i},n.handleMouseUp=function(){document.activeElement===n.handle&&n.setClickFocus(!0)},n.handleMouseDown=function(i){i.preventDefault(),n.focus()},n.handleBlur=function(){n.setClickFocus(!1)},n.handleKeyDown=function(){n.setClickFocus(!1)},n}return rs(r,[{key:"componentDidMount",value:function(){this.onMouseUpListener=Es(document,"mouseup",this.handleMouseUp)}},{key:"componentWillUnmount",value:function(){this.onMouseUpListener&&this.onMouseUpListener.remove()}},{key:"setClickFocus",value:function(i){this.setState({clickFocused:i})}},{key:"clickFocus",value:function(){this.setClickFocus(!0),this.focus()}},{key:"focus",value:function(){this.handle.focus()}},{key:"blur",value:function(){this.handle.blur()}},{key:"render",value:function(){var i,o,u=this.props,d=u.prefixCls,g=u.vertical,_=u.reverse,I=u.offset,T=u.style,A=u.disabled,q=u.min,z=u.max,U=u.value,N=u.tabIndex,L=u.ariaLabel,F=u.ariaLabelledBy,H=u.ariaValueTextFormatter,Y=Ss(u,["prefixCls","vertical","reverse","offset","style","disabled","min","max","value","tabIndex","ariaLabel","ariaLabelledBy","ariaValueTextFormatter"]),te=(0,XFe.default)(this.props.className,Ot({},"".concat(d,"-handle-click-focused"),this.state.clickFocused)),oe=g?(i={},Ot(i,_?"top":"bottom","".concat(I,"%")),Ot(i,_?"bottom":"top","auto"),Ot(i,"transform",_?null:"translateY(+50%)"),i):(o={},Ot(o,_?"right":"left","".concat(I,"%")),Ot(o,_?"left":"right","auto"),Ot(o,"transform","translateX(".concat(_?"+":"-","50%)")),o),ue=Ut(Ut({},T),oe),Ie=N||0;(A||N===null)&&(Ie=null);var Ee;return H&&(Ee=H(U)),_X.default.createElement("div",yn({ref:this.setHandleRef,tabIndex:Ie},Y,{className:te,style:ue,onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,onMouseDown:this.handleMouseDown,role:"slider","aria-valuemin":q,"aria-valuemax":z,"aria-valuenow":U,"aria-disabled":!!A,"aria-label":L,"aria-labelledby":F,"aria-valuetext":Ee}))}}]),r}(_X.default.Component);p();var JFe=se(Yi());p();var qr={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(t){var r=t.keyCode;if(t.altKey&&!t.ctrlKey||t.metaKey||r>=qr.F1&&r<=qr.F12)return!1;switch(r){case qr.ALT:case qr.CAPS_LOCK:case qr.CONTEXT_MENU:case qr.CTRL:case qr.DOWN:case qr.END:case qr.ESC:case qr.HOME:case qr.INSERT:case qr.LEFT:case qr.MAC_FF_META:case qr.META:case qr.NUMLOCK:case qr.NUM_CENTER:case qr.PAGE_DOWN:case qr.PAGE_UP:case qr.PAUSE:case qr.PRINT_SCREEN:case qr.RIGHT:case qr.SHIFT:case qr.UP:case qr.WIN_KEY:case qr.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(t){if(t>=qr.ZERO&&t<=qr.NINE||t>=qr.NUM_ZERO&&t<=qr.NUM_MULTIPLY||t>=qr.A&&t<=qr.Z||window.navigator.userAgent.indexOf("WebKit")!==-1&&t===0)return!0;switch(t){case qr.SPACE:case qr.QUESTION_MARK:case qr.NUM_PLUS:case qr.NUM_MINUS:case qr.NUM_PERIOD:case qr.NUM_DIVISION:case qr.SEMICOLON:case qr.DASH:case qr.EQUALS:case qr.COMMA:case qr.PERIOD:case qr.SLASH:case qr.APOSTROPHE:case qr.SINGLE_QUOTE:case qr.OPEN_SQUARE_BRACKET:case qr.BACKSLASH:case qr.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},Kf=qr;function bN(e,t){try{return Object.keys(t).some(function(r){return e.target===(0,JFe.findDOMNode)(t[r])})}catch(r){return!1}}function xN(e,t){var r=t.min,n=t.max;return e<r||e>n}function bX(e){return e.touches.length>1||e.type.toLowerCase()==="touchend"&&e.touches.length>0}function QFe(e,t){var r=t.marks,n=t.step,i=t.min,o=t.max,u=Object.keys(r).map(parseFloat);if(n!==null){var d=Math.pow(10,eBe(n)),g=Math.floor((o*d-i*d)/(n*d)),_=Math.min((e-i)/n,g),I=Math.round(_)*n+i;u.push(I)}var T=u.map(function(A){return Math.abs(e-A)});return u[T.indexOf(Math.min.apply(Math,_u(T)))]}function eBe(e){var t=e.toString(),r=0;return t.indexOf(".")>=0&&(r=t.length-t.indexOf(".")-1),r}function xX(e,t){return e?t.clientY:t.pageX}function wX(e,t){return e?t.touches[0].clientY:t.touches[0].pageX}function SX(e,t){var r=t.getBoundingClientRect();return e?r.top+r.height*.5:window.pageXOffset+r.left+r.width*.5}function mI(e,t){var r=t.max,n=t.min;return e<=n?n:e>=r?r:e}function wN(e,t){var r=t.step,n=isFinite(QFe(e,t))?QFe(e,t):0;return r===null?n:parseFloat(n.toFixed(eBe(r)))}function Xf(e){e.stopPropagation(),e.preventDefault()}function bhr(e,t,r){var n={increase:function(d,g){return d+g},decrease:function(d,g){return d-g}},i=n[e](Object.keys(r.marks).indexOf(JSON.stringify(t)),1),o=Object.keys(r.marks)[i];return r.step?n[e](t,r.step):Object.keys(r.marks).length&&r.marks[o]?r.marks[o]:t}function SN(e,t,r){var n="increase",i="decrease",o=n;switch(e.keyCode){case Kf.UP:o=t&&r?i:n;break;case Kf.RIGHT:o=!t&&r?i:n;break;case Kf.DOWN:o=t&&r?n:i;break;case Kf.LEFT:o=!t&&r?n:i;break;case Kf.END:return function(u,d){return d.max};case Kf.HOME:return function(u,d){return d.min};case Kf.PAGE_UP:return function(u,d){return u+d.step*2};case Kf.PAGE_DOWN:return function(u,d){return u-d.step*2};default:return}return function(u,d){return bhr(o,u,d)}}function Cp(){}function gI(e){var t;return t=function(r){ns(i,r);var n=is(i);function i(o){var u;ts(this,i),u=n.call(this,o),u.onDown=function(T,A){var q=A,z=u.props,U=z.draggableTrack,N=z.vertical,L=u.state.bounds,F=U&&u.positionGetValue?u.positionGetValue(q)||[]:[],H=bN(T,u.handlesRefs);if(u.dragTrack=U&&L.length>=2&&!H&&!F.map(function(te,oe){var ue=oe?!0:te>=L[oe];return oe===F.length-1?te<=L[oe]:ue}).some(function(te){return!te}),u.dragTrack)u.dragOffset=q,u.startBounds=_u(L);else{if(!H)u.dragOffset=0;else{var Y=SX(N,T.target);u.dragOffset=q-Y,q=Y}u.onStart(q)}},u.onMouseDown=function(T){if(T.button===0){u.removeDocumentEvents();var A=u.props.vertical,q=xX(A,T);u.onDown(T,q),u.addDocumentMouseEvents()}},u.onTouchStart=function(T){if(!bX(T)){var A=u.props.vertical,q=wX(A,T);u.onDown(T,q),u.addDocumentTouchEvents(),Xf(T)}},u.onFocus=function(T){var A=u.props,q=A.onFocus,z=A.vertical;if(bN(T,u.handlesRefs)&&!u.dragTrack){var U=SX(z,T.target);u.dragOffset=0,u.onStart(U),Xf(T),q&&q(T)}},u.onBlur=function(T){var A=u.props.onBlur;u.dragTrack||u.onEnd(),A&&A(T)},u.onMouseUp=function(){u.handlesRefs[u.prevMovedHandleIndex]&&u.handlesRefs[u.prevMovedHandleIndex].clickFocus()},u.onMouseMove=function(T){if(!u.sliderRef){u.onEnd();return}var A=xX(u.props.vertical,T);u.onMove(T,A-u.dragOffset,u.dragTrack,u.startBounds)},u.onTouchMove=function(T){if(bX(T)||!u.sliderRef){u.onEnd();return}var A=wX(u.props.vertical,T);u.onMove(T,A-u.dragOffset,u.dragTrack,u.startBounds)},u.onKeyDown=function(T){u.sliderRef&&bN(T,u.handlesRefs)&&u.onKeyboard(T)},u.onClickMarkLabel=function(T,A){T.stopPropagation(),u.onChange({value:A}),u.setState({value:A},function(){return u.onEnd(!0)})},u.saveSlider=function(T){u.sliderRef=T};var d=o.step,g=o.max,_=o.min,I=isFinite(g-_)?(g-_)%d===0:!0;return Mp(d&&Math.floor(d)===d?I:!0,"Slider[max] - Slider[min] (".concat(g-_,") should be a multiple of Slider[step] (").concat(d,")")),u.handlesRefs={},u}return rs(i,[{key:"componentDidMount",value:function(){this.document=this.sliderRef&&this.sliderRef.ownerDocument;var u=this.props,d=u.autoFocus,g=u.disabled;d&&!g&&this.focus()}},{key:"componentWillUnmount",value:function(){L_(_c(i.prototype),"componentWillUnmount",this)&&L_(_c(i.prototype),"componentWillUnmount",this).call(this),this.removeDocumentEvents()}},{key:"getSliderStart",value:function(){var u=this.sliderRef,d=this.props,g=d.vertical,_=d.reverse,I=u.getBoundingClientRect();return g?_?I.bottom:I.top:window.pageXOffset+(_?I.right:I.left)}},{key:"getSliderLength",value:function(){var u=this.sliderRef;if(!u)return 0;var d=u.getBoundingClientRect();return this.props.vertical?d.height:d.width}},{key:"addDocumentTouchEvents",value:function(){this.onTouchMoveListener=Es(this.document,"touchmove",this.onTouchMove),this.onTouchUpListener=Es(this.document,"touchend",this.onEnd)}},{key:"addDocumentMouseEvents",value:function(){this.onMouseMoveListener=Es(this.document,"mousemove",this.onMouseMove),this.onMouseUpListener=Es(this.document,"mouseup",this.onEnd)}},{key:"removeDocumentEvents",value:function(){this.onTouchMoveListener&&this.onTouchMoveListener.remove(),this.onTouchUpListener&&this.onTouchUpListener.remove(),this.onMouseMoveListener&&this.onMouseMoveListener.remove(),this.onMouseUpListener&&this.onMouseUpListener.remove()}},{key:"focus",value:function(){var u;this.props.disabled||(u=this.handlesRefs[0])===null||u===void 0||u.focus()}},{key:"blur",value:function(){var u=this;this.props.disabled||Object.keys(this.handlesRefs).forEach(function(d){var g,_;(g=u.handlesRefs[d])===null||g===void 0||(_=g.blur)===null||_===void 0||_.call(g)})}},{key:"calcValue",value:function(u){var d=this.props,g=d.vertical,_=d.min,I=d.max,T=Math.abs(Math.max(u,0)/this.getSliderLength()),A=g?(1-T)*(I-_)+_:T*(I-_)+_;return A}},{key:"calcValueByPos",value:function(u){var d=this.props.reverse?-1:1,g=d*(u-this.getSliderStart()),_=this.trimAlignValue(this.calcValue(g));return _}},{key:"calcOffset",value:function(u){var d=this.props,g=d.min,_=d.max,I=(u-g)/(_-g);return Math.max(0,I*100)}},{key:"saveHandle",value:function(u,d){this.handlesRefs[u]=d}},{key:"render",value:function(){var u,d=this.props,g=d.prefixCls,_=d.className,I=d.marks,T=d.dots,A=d.step,q=d.included,z=d.disabled,U=d.vertical,N=d.reverse,L=d.min,F=d.max,H=d.children,Y=d.maximumTrackStyle,te=d.style,oe=d.railStyle,ue=d.dotStyle,Ie=d.activeDotStyle,Ee=L_(_c(i.prototype),"render",this).call(this),ve=Ee.tracks,xe=Ee.handles,Pe=(0,tBe.default)(g,(u={},Ot(u,"".concat(g,"-with-marks"),Object.keys(I).length),Ot(u,"".concat(g,"-disabled"),z),Ot(u,"".concat(g,"-vertical"),U),Ot(u,_,_),u));return z_.default.createElement("div",{ref:this.saveSlider,className:Pe,onTouchStart:z?Cp:this.onTouchStart,onMouseDown:z?Cp:this.onMouseDown,onMouseUp:z?Cp:this.onMouseUp,onKeyDown:z?Cp:this.onKeyDown,onFocus:z?Cp:this.onFocus,onBlur:z?Cp:this.onBlur,style:te},z_.default.createElement("div",{className:"".concat(g,"-rail"),style:Ut(Ut({},Y),oe)}),ve,z_.default.createElement(ZFe,{prefixCls:g,vertical:U,reverse:N,marks:I,dots:T,step:A,included:q,lowerBound:this.getLowerBound(),upperBound:this.getUpperBound(),max:F,min:L,dotStyle:ue,activeDotStyle:Ie}),xe,z_.default.createElement(KFe,{className:"".concat(g,"-mark"),onClickLabel:z?Cp:this.onClickMarkLabel,vertical:U,marks:I,included:q,lowerBound:this.getLowerBound(),upperBound:this.getUpperBound(),max:F,min:L,reverse:N}),H)}}]),i}(e),t.displayName="ComponentEnhancer(".concat(e.displayName,")"),t.defaultProps=Ut(Ut({},e.defaultProps),{},{prefixCls:"rc-slider",className:"",min:0,max:100,step:1,marks:{},handle:function(n){var i=n.index,o=Ss(n,["index"]);return delete o.dragging,o.value===null?null:z_.default.createElement(q_,yn({},o,{key:i}))},onBeforeChange:Cp,onChange:Cp,onAfterChange:Cp,included:!0,disabled:!1,dots:!1,vertical:!1,reverse:!1,trackStyle:[{}],handleStyle:[{}],railStyle:{},dotStyle:{},activeDotStyle:{}}),t}var xhr=function(e){ns(r,e);var t=is(r);function r(n){var i;ts(this,r),i=t.call(this,n),i.positionGetValue=function(d){return[]},i.onEnd=function(d){var g=i.state.dragging;i.removeDocumentEvents(),(g||d)&&i.props.onAfterChange(i.getValue()),i.setState({dragging:!1})};var o=n.defaultValue!==void 0?n.defaultValue:n.min,u=n.value!==void 0?n.value:o;return i.state={value:i.trimAlignValue(u),dragging:!1},Mp(!("minimumTrackStyle"in n),"minimumTrackStyle will be deprecated, please use trackStyle instead."),Mp(!("maximumTrackStyle"in n),"maximumTrackStyle will be deprecated, please use railStyle instead."),i}return rs(r,[{key:"calcValueByPos",value:function(i){return 0}},{key:"calcOffset",value:function(i){return 0}},{key:"saveHandle",value:function(i,o){}},{key:"removeDocumentEvents",value:function(){}},{key:"componentDidUpdate",value:function(i,o){var u=this.props,d=u.min,g=u.max,_=u.value,I=u.onChange;if("min"in this.props||"max"in this.props){var T=_!==void 0?_:o.value,A=this.trimAlignValue(T,this.props);A!==o.value&&(this.setState({value:A}),!(d===i.min&&g===i.max)&&xN(T,this.props)&&I(A))}}},{key:"onChange",value:function(i){var o=this.props,u=!("value"in o),d=i.value>this.props.max?Ut(Ut({},i),{},{value:this.props.max}):i;u&&this.setState(d);var g=d.value;o.onChange(g)}},{key:"onStart",value:function(i){this.setState({dragging:!0});var o=this.props,u=this.getValue();o.onBeforeChange(u);var d=this.calcValueByPos(i);this.startValue=d,this.startPosition=i,d!==u&&(this.prevMovedHandleIndex=0,this.onChange({value:d}))}},{key:"onMove",value:function(i,o){Xf(i);var u=this.state.value,d=this.calcValueByPos(o);d!==u&&this.onChange({value:d})}},{key:"onKeyboard",value:function(i){var o=this.props,u=o.reverse,d=o.vertical,g=SN(i,d,u);if(g){Xf(i);var _=this.state,I=_.value,T=g(I,this.props),A=this.trimAlignValue(T);if(A===I)return;this.onChange({value:A}),this.props.onAfterChange(A),this.onEnd()}}},{key:"getValue",value:function(){return this.state.value}},{key:"getLowerBound",value:function(){var i=this.props.startPoint||this.props.min;return this.state.value>i?i:this.state.value}},{key:"getUpperBound",value:function(){return this.state.value<this.props.startPoint?this.props.startPoint:this.state.value}},{key:"trimAlignValue",value:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(i===null)return null;var u=Ut(Ut({},this.props),o),d=mI(i,u);return wN(d,u)}},{key:"render",value:function(){var i=this,o=this.props,u=o.prefixCls,d=o.vertical,g=o.included,_=o.disabled,I=o.minimumTrackStyle,T=o.trackStyle,A=o.handleStyle,q=o.tabIndex,z=o.ariaLabelForHandle,U=o.ariaLabelledByForHandle,N=o.ariaValueTextFormatterForHandle,L=o.min,F=o.max,H=o.startPoint,Y=o.reverse,te=o.handle,oe=this.state,ue=oe.value,Ie=oe.dragging,Ee=this.calcOffset(ue),ve=te({className:"".concat(u,"-handle"),prefixCls:u,vertical:d,offset:Ee,value:ue,dragging:Ie,disabled:_,min:L,max:F,reverse:Y,index:0,tabIndex:q,ariaLabel:z,ariaLabelledBy:U,ariaValueTextFormatter:N,style:A[0]||A,ref:function(Xe){return i.saveHandle(0,Xe)}}),xe=H!==void 0?this.calcOffset(H):0,Pe=T[0]||T,we=IX.default.createElement(yN,{className:"".concat(u,"-track"),vertical:d,included:g,offset:xe,reverse:Y,length:Ee-xe,style:Ut(Ut({},I),Pe)});return{tracks:we,handles:ve}}}]),r}(IX.default.Component),rBe=gI(xhr);p();var TX=se(Je()),MX=se(fn());var vI=function(t){var r=t.value,n=t.handle,i=t.bounds,o=t.props,u=o.allowCross,d=o.pushable,g=Number(d),_=mI(r,o),I=_;return!u&&n!=null&&i!==void 0&&(n>0&&_<=i[n-1]+g&&(I=i[n-1]+g),n<i.length-1&&_>=i[n+1]-g&&(I=i[n+1]-g)),wN(I,o)},CX=function(e){ns(r,e);var t=is(r);function r(n){var i;ts(this,r),i=t.call(this,n),i.positionGetValue=function(q){var z=i.getValue(),U=i.calcValueByPos(q),N=i.getClosestBound(U),L=i.getBoundNeedMoving(U,N),F=z[L];if(U===F)return null;var H=_u(z);return H[L]=U,H},i.onEnd=function(q){var z=i.state.handle;i.removeDocumentEvents(),z||(i.dragTrack=!1),(z!==null||q)&&i.props.onAfterChange(i.getValue()),i.setState({handle:null})};var o=n.count,u=n.min,d=n.max,g=Array.apply(void 0,_u(Array(o+1))).map(function(){return u}),_="defaultValue"in n?n.defaultValue:g,I=n.value!==void 0?n.value:_,T=I.map(function(q,z){return vI({value:q,handle:z,props:n})}),A=T[0]===d?0:T.length-1;return i.state={handle:null,recent:A,bounds:T},i}return rs(r,[{key:"calcValueByPos",value:function(i){return 0}},{key:"getSliderLength",value:function(){return 0}},{key:"calcOffset",value:function(i){return 0}},{key:"saveHandle",value:function(i,o){}},{key:"removeDocumentEvents",value:function(){}},{key:"componentDidUpdate",value:function(i,o){var u=this,d=this.props,g=d.onChange,_=d.value,I=d.min,T=d.max;if(("min"in this.props||"max"in this.props)&&!(I===i.min&&T===i.max)){var A=_||o.bounds;if(A.some(function(z){return xN(z,u.props)})){var q=A.map(function(z){return mI(z,u.props)});g(q)}}}},{key:"onChange",value:function(i){var o=this.props,u=!("value"in o);if(u)this.setState(i);else{var d={};["handle","recent"].forEach(function(I){i[I]!==void 0&&(d[I]=i[I])}),Object.keys(d).length&&this.setState(d)}var g=Ut(Ut({},this.state),i),_=g.bounds;o.onChange(_)}},{key:"onStart",value:function(i){var o=this.props,u=this.state,d=this.getValue();o.onBeforeChange(d);var g=this.calcValueByPos(i);this.startValue=g,this.startPosition=i;var _=this.getClosestBound(g);this.prevMovedHandleIndex=this.getBoundNeedMoving(g,_),this.setState({handle:this.prevMovedHandleIndex,recent:this.prevMovedHandleIndex});var I=d[this.prevMovedHandleIndex];if(g!==I){var T=_u(u.bounds);T[this.prevMovedHandleIndex]=g,this.onChange({bounds:T})}}},{key:"onMove",value:function(i,o,u,d){Xf(i);var g=this.state,_=this.props,I=_.max||100,T=_.min||0;if(u){var A=_.vertical?-o:o;A=_.reverse?-A:A;var q=I-Math.max.apply(Math,_u(d)),z=T-Math.min.apply(Math,_u(d)),U=Math.min(Math.max(A/(this.getSliderLength()/(I-T)),z),q),N=d.map(function(H){return Math.floor(Math.max(Math.min(H+U,I),T))});g.bounds.map(function(H,Y){return H===N[Y]}).some(function(H){return!H})&&this.onChange({bounds:N});return}var L=this.calcValueByPos(o),F=g.bounds[g.handle];L!==F&&this.moveTo(L)}},{key:"onKeyboard",value:function(i){var o=this.props,u=o.reverse,d=o.vertical,g=SN(i,d,u);if(g){Xf(i);var _=this.state,I=this.props,T=_.bounds,A=_.handle,q=T[A===null?_.recent:A],z=g(q,I),U=vI({value:z,handle:A,bounds:_.bounds,props:I});if(U===q)return;var N=!0;this.moveTo(U,N)}}},{key:"getValue",value:function(){return this.state.bounds}},{key:"getClosestBound",value:function(i){for(var o=this.state.bounds,u=0,d=1;d<o.length-1;d+=1)i>=o[d]&&(u=d);return Math.abs(o[u+1]-i)<Math.abs(o[u]-i)&&(u+=1),u}},{key:"getBoundNeedMoving",value:function(i,o){var u=this.state,d=u.bounds,g=u.recent,_=o,I=d[o+1]===d[o];return I&&d[g]===d[o]&&(_=g),I&&i!==d[o+1]&&(_=i<d[o+1]?o:o+1),_}},{key:"getLowerBound",value:function(){return this.state.bounds[0]}},{key:"getUpperBound",value:function(){var i=this.state.bounds;return i[i.length-1]}},{key:"getPoints",value:function(){var i=this.props,o=i.marks,u=i.step,d=i.min,g=i.max,_=this.internalPointsCache;if(!_||_.marks!==o||_.step!==u){var I=Ut({},o);if(u!==null)for(var T=d;T<=g;T+=u)I[T]=T;var A=Object.keys(I).map(parseFloat);A.sort(function(q,z){return q-z}),this.internalPointsCache={marks:o,step:u,points:A}}return this.internalPointsCache.points}},{key:"moveTo",value:function(i,o){var u=this,d=this.state,g=this.props,_=_u(d.bounds),I=d.handle===null?d.recent:d.handle;_[I]=i;var T=I;g.pushable!==!1?this.pushSurroundingHandles(_,T):g.allowCross&&(_.sort(function(A,q){return A-q}),T=_.indexOf(i)),this.onChange({recent:T,handle:T,bounds:_}),o&&(this.props.onAfterChange(_),this.setState({},function(){u.handlesRefs[T].focus()}),this.onEnd())}},{key:"pushSurroundingHandles",value:function(i,o){var u=i[o],d=this.props.pushable,g=Number(d),_=0;if(i[o+1]-u<g&&(_=1),u-i[o-1]<g&&(_=-1),_!==0){var I=o+_,T=_*(i[I]-u);this.pushHandle(i,I,_,g-T)||(i[o]=i[I]-_*g)}}},{key:"pushHandle",value:function(i,o,u,d){for(var g=i[o],_=i[o];u*(_-g)<d;){if(!this.pushHandleOnePoint(i,o,u))return i[o]=g,!1;_=i[o]}return!0}},{key:"pushHandleOnePoint",value:function(i,o,u){var d=this.getPoints(),g=d.indexOf(i[o]),_=g+u;if(_>=d.length||_<0)return!1;var I=o+u,T=d[_],A=this.props.pushable,q=Number(A),z=u*(i[I]-T);return this.pushHandle(i,I,u,q-z)?(i[o]=T,!0):!1}},{key:"trimAlignValue",value:function(i){var o=this.state,u=o.handle,d=o.bounds;return vI({value:i,handle:u,bounds:d,props:this.props})}},{key:"render",value:function(){var i=this,o=this.state,u=o.handle,d=o.bounds,g=this.props,_=g.prefixCls,I=g.vertical,T=g.included,A=g.disabled,q=g.min,z=g.max,U=g.reverse,N=g.handle,L=g.trackStyle,F=g.handleStyle,H=g.tabIndex,Y=g.ariaLabelGroupForHandles,te=g.ariaLabelledByGroupForHandles,oe=g.ariaValueTextFormatterGroupForHandles,ue=d.map(function(xe){return i.calcOffset(xe)}),Ie="".concat(_,"-handle"),Ee=d.map(function(xe,Pe){var we,Oe=H[Pe]||0;(A||H[Pe]===null)&&(Oe=null);var Xe=u===Pe;return N({className:(0,MX.default)((we={},Ot(we,Ie,!0),Ot(we,"".concat(Ie,"-").concat(Pe+1),!0),Ot(we,"".concat(Ie,"-dragging"),Xe),we)),prefixCls:_,vertical:I,dragging:Xe,offset:ue[Pe],value:xe,index:Pe,tabIndex:Oe,min:q,max:z,reverse:U,disabled:A,style:F[Pe],ref:function(pt){return i.saveHandle(Pe,pt)},ariaLabel:Y[Pe],ariaLabelledBy:te[Pe],ariaValueTextFormatter:oe[Pe]})}),ve=d.slice(0,-1).map(function(xe,Pe){var we,Oe=Pe+1,Xe=(0,MX.default)((we={},Ot(we,"".concat(_,"-track"),!0),Ot(we,"".concat(_,"-track-").concat(Oe),!0),we));return TX.default.createElement(yN,{className:Xe,vertical:I,reverse:U,included:T,offset:ue[Oe-1],length:ue[Oe]-ue[Oe-1],style:L[Pe],key:Oe})});return{tracks:ve,handles:Ee}}}],[{key:"getDerivedStateFromProps",value:function(i,o){if(!("value"in i||"min"in i||"max"in i))return null;var u=i.value||o.bounds,d=u.map(function(g,_){return vI({value:g,handle:_,bounds:o.bounds,props:i})});if(o.bounds.length===d.length){if(d.every(function(g,_){return g===o.bounds[_]}))return null}else d=u.map(function(g,_){return vI({value:g,handle:_,props:i})});return Ut(Ut({},o),{},{bounds:d})}}]),r}(TX.default.Component);CX.displayName="Range";CX.defaultProps={count:1,allowCross:!0,pushable:!1,draggableTrack:!1,tabIndex:[],ariaLabelGroupForHandles:[],ariaLabelledByGroupForHandles:[],ariaValueTextFormatterGroupForHandles:[]};var EN=gI(CX);p();var PI=se(Je());p();var td=se(Je());p();p();var pQ=se(Je()),H_=se(Je());p();var Dl=se(Je()),UUe=se(Yi());p();var iBe=function(t){return+setTimeout(t,16)},oBe=function(t){return clearTimeout(t)};typeof window!="undefined"&&"requestAnimationFrame"in window&&(iBe=function(t){return window.requestAnimationFrame(t)},oBe=function(t){return window.cancelAnimationFrame(t)});var nBe=0,AX=new Map;function aBe(e){AX.delete(e)}var sBe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;nBe+=1;var n=nBe;function i(o){if(o===0)aBe(n),t();else{var u=iBe(function(){i(o-1)});AX.set(n,u)}}return i(r),n};sBe.cancel=function(e){var t=AX.get(e);return aBe(e),oBe(t)};var el=sBe;p();function vv(e,t){if(!e)return!1;if(e.contains)return e.contains(t);for(var r=t;r;){if(r===e)return!0;r=r.parentNode}return!1}p();var uBe=se(Je()),PX=se(Yi());function lBe(e){return e instanceof HTMLElement||e instanceof SVGElement}function whr(e){return e&&Nn(e)==="object"&&lBe(e.nativeElement)?e.nativeElement:lBe(e)?e:null}function yI(e){var t=whr(e);if(t)return t;if(e instanceof uBe.default.Component){var r;return(r=PX.default.findDOMNode)===null||r===void 0?void 0:r.call(PX.default,e)}return null}p();var RN=se(Je()),_I=se(dBe());p();var Ihr=se(Je());p();var Thr=Symbol.for("react.element"),Mhr=Symbol.for("react.transitional.element"),Chr=Symbol.for("react.fragment");function kX(e){return e&&Nn(e)==="object"&&(e.$$typeof===Thr||e.$$typeof===Mhr)&&e.type===Chr}var Ahr=Number(RN.version.split(".")[0]),NX=function(t,r){typeof t=="function"?t(r):Nn(t)==="object"&&t&&"current"in t&&(t.current=r)},j_=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r.filter(Boolean);return i.length<=1?i[0]:function(o){r.forEach(function(u){NX(u,o)})}};var bI=function(t){var r,n;if(!t)return!1;if(hBe(t)&&Ahr>=19)return!0;var i=(0,_I.isMemo)(t)?t.type.type:t.type;return!(typeof i=="function"&&!((r=i.prototype)!==null&&r!==void 0&&r.render)&&i.$$typeof!==_I.ForwardRef||typeof t=="function"&&!((n=t.prototype)!==null&&n!==void 0&&n.render)&&t.$$typeof!==_I.ForwardRef)};function hBe(e){return(0,RN.isValidElement)(e)&&!kX(e)}var mBe=function(t){if(t&&hBe(t)){var r=t;return r.props.propertyIsEnumerable("ref")?r.props.ref:r.ref}return null};p();var bc=se(Je()),gBe=se(Yi());p();function Ap(){return!!(typeof window!="undefined"&&window.document&&window.document.createElement)}var Phr=(0,bc.forwardRef)(function(e,t){var r=e.didUpdate,n=e.getContainer,i=e.children,o=(0,bc.useRef)(),u=(0,bc.useRef)();(0,bc.useImperativeHandle)(t,function(){return{}});var d=(0,bc.useRef)(!1);return!d.current&&Ap()&&(u.current=n(),o.current=u.current.parentNode,d.current=!0),(0,bc.useEffect)(function(){r==null||r(e)}),(0,bc.useEffect)(function(){return u.current.parentNode===null&&o.current!==null&&o.current.appendChild(u.current),function(){var g;(g=u.current)===null||g===void 0||(g=g.parentNode)===null||g===void 0||g.removeChild(u.current)}},[]),u.current?gBe.default.createPortal(i,u.current):null}),vBe=Phr;var VUe=se(fn());p();function Ohr(e,t,r){return r?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}function yBe(e,t,r){var n=e[t]||{};return Ut(Ut({},n),r)}function _Be(e,t,r,n){for(var i=r.points,o=Object.keys(e),u=0;u<o.length;u+=1){var d=o[u];if(Ohr(e[d].points,i,n))return"".concat(t,"-placement-").concat(d)}return""}p();p();p();function RX(e){if(Array.isArray(e))return e}p();function bBe(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,u,d=[],g=!0,_=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;g=!1}else for(;!(g=(n=o.call(r)).done)&&(d.push(n.value),d.length!==t);g=!0);}catch(I){_=!0,i=I}finally{try{if(!g&&r.return!=null&&(u=r.return(),Object(u)!==u))return}finally{if(_)throw i}}return d}}p();function LX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rn(e,t){return RX(e)||bBe(e,t)||hI(e,t)||LX()}var xv=se(Je()),AI=se(Je());p();var xBe=function(){if(typeof navigator=="undefined"||typeof window=="undefined")return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return /(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(e==null?void 0:e.substr(0,4))};p();var HX=se(Je()),BBe=se(fn());p();p();var jBe=se(fn());var rl=se(Je()),GX=se(Je());p();var qX=se(Je());var wBe=qX.createContext({});p();var SBe=se(Je()),Dhr=function(e){ns(r,e);var t=is(r);function r(){return ts(this,r),t.apply(this,arguments)}return rs(r,[{key:"render",value:function(){return this.props.children}}]),r}(SBe.Component),EBe=Dhr;p();p();p();var LN=se(Je());function sm(e){var t=LN.useRef();t.current=e;var r=LN.useCallback(function(){for(var n,i=arguments.length,o=new Array(i),u=0;u<i;u++)o[u]=arguments[u];return(n=t.current)===null||n===void 0?void 0:n.call.apply(n,[t].concat(o))},[]);return r}p();p();var F_=se(Je());var IBe=Ap()?F_.useLayoutEffect:F_.useEffect,khr=function(t,r){var n=F_.useRef(!0);IBe(function(){return t(n.current)},r),IBe(function(){return n.current=!1,function(){n.current=!0}},[])};var xI=khr;p();var B_=se(Je());function Qf(e){var t=B_.useRef(!1),r=B_.useState(e),n=Rn(r,2),i=n[0],o=n[1];B_.useEffect(function(){return t.current=!1,function(){t.current=!0}},[]);function u(d,g){g&&t.current||o(d)}return[i,u]}p();p();p();p();var qN=se(Je());function zX(e){var t=qN.useReducer(function(d){return d+1},0),r=Rn(t,2),n=r[1],i=qN.useRef(e),o=sm(function(){return i.current}),u=sm(function(d){i.current=typeof d=="function"?d(i.current):d,n()});return[o,u]}var HN=se(Je()),ed=se(Je());p();var Pp="none",wI="appear",SI="enter",EI="leave",jX="none",tl="prepare",Jf="start",lm="active",zN="end",jN="prepared";p();var DBe=se(Je()),kBe=se(Je());p();function TBe(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit".concat(e)]="webkit".concat(t),r["Moz".concat(e)]="moz".concat(t),r["ms".concat(e)]="MS".concat(t),r["O".concat(e)]="o".concat(t.toLowerCase()),r}function Rhr(e,t){var r={animationend:TBe("Animation","AnimationEnd"),transitionend:TBe("Transition","TransitionEnd")};return e&&("AnimationEvent"in t||delete r.animationend.animation,"TransitionEvent"in t||delete r.transitionend.transition),r}var Lhr=Rhr(Ap(),typeof window!="undefined"?window:{}),CBe={};Ap()&&(MBe=document.createElement("div"),CBe=MBe.style);var MBe,FN={};function ABe(e){if(FN[e])return FN[e];var t=Lhr[e];if(t)for(var r=Object.keys(t),n=r.length,i=0;i<n;i+=1){var o=r[i];if(Object.prototype.hasOwnProperty.call(t,o)&&o in CBe)return FN[e]=t[o],FN[e]}return""}var PBe=ABe("animationend"),OBe=ABe("transitionend"),BN=!!(PBe&&OBe),FX=PBe||"animationend",BX=OBe||"transitionend";function UX(e,t){if(!e)return null;if(Nn(e)==="object"){var r=t.replace(/-\w/g,function(n){return n[1].toUpperCase()});return e[r]}return"".concat(e,"-").concat(t)}var NBe=function(e){var t=(0,kBe.useRef)();function r(i){i&&(i.removeEventListener(BX,e),i.removeEventListener(FX,e))}function n(i){t.current&&t.current!==i&&r(t.current),i&&i!==t.current&&(i.addEventListener(BX,e),i.addEventListener(FX,e),t.current=i)}return DBe.useEffect(function(){return function(){r(t.current)}},[]),[n,r]};p();var UN=se(Je()),qhr=Ap()?UN.useLayoutEffect:UN.useEffect,VN=qhr;p();var LBe=se(Je());p();var $N=se(Je()),RBe=function(){var e=$N.useRef(null);function t(){el.cancel(e.current)}function r(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;t();var o=el(function(){i<=1?n({isCanceled:function(){return o!==e.current}}):r(n,i-1)});e.current=o}return $N.useEffect(function(){return function(){t()}},[]),[r,t]};var zhr=[tl,Jf,lm,zN],jhr=[tl,jN],VX=!1,qBe=!0;function GN(e){return e===lm||e===zN}var zBe=function(e,t,r){var n=Qf(jX),i=Rn(n,2),o=i[0],u=i[1],d=RBe(),g=Rn(d,2),_=g[0],I=g[1];function T(){u(tl,!0)}var A=t?jhr:zhr;return VN(function(){if(o!==jX&&o!==zN){var q=A.indexOf(o),z=A[q+1],U=r(o);U===VX?u(z,!0):z&&_(function(N){function L(){N.isCanceled()||u(z,!0)}U===!0?L():Promise.resolve(U).then(L)})}},[e,o]),LBe.useEffect(function(){return function(){I()}},[]),[T,o]};function $X(e,t,r,n){var i=n.motionEnter,o=i===void 0?!0:i,u=n.motionAppear,d=u===void 0?!0:u,g=n.motionLeave,_=g===void 0?!0:g,I=n.motionDeadline,T=n.motionLeaveImmediately,A=n.onAppearPrepare,q=n.onEnterPrepare,z=n.onLeavePrepare,U=n.onAppearStart,N=n.onEnterStart,L=n.onLeaveStart,F=n.onAppearActive,H=n.onEnterActive,Y=n.onLeaveActive,te=n.onAppearEnd,oe=n.onEnterEnd,ue=n.onLeaveEnd,Ie=n.onVisibleChanged,Ee=Qf(),ve=Rn(Ee,2),xe=ve[0],Pe=ve[1],we=zX(Pp),Oe=Rn(we,2),Xe=Oe[0],lt=Oe[1],pt=Qf(null),qe=Rn(pt,2),ut=qe[0],bt=qe[1],wt=Xe(),Ge=(0,ed.useRef)(!1),st=(0,ed.useRef)(null);function tt(){return r()}var je=(0,ed.useRef)(!1);function Me(){lt(Pp),bt(null,!0)}var $e=sm(function(Sr){var Or=Xe();if(Or!==Pp){var Ur=tt();if(!(Sr&&!Sr.deadline&&Sr.target!==Ur)){var er=je.current,Vr;Or===wI&&er?Vr=te==null?void 0:te(Ur,Sr):Or===SI&&er?Vr=oe==null?void 0:oe(Ur,Sr):Or===EI&&er&&(Vr=ue==null?void 0:ue(Ur,Sr)),er&&Vr!==!1&&Me()}}}),ze=NBe($e),ot=Rn(ze,1),it=ot[0],vt=function(Or){switch(Or){case wI:return Ot(Ot(Ot({},tl,A),Jf,U),lm,F);case SI:return Ot(Ot(Ot({},tl,q),Jf,N),lm,H);case EI:return Ot(Ot(Ot({},tl,z),Jf,L),lm,Y);default:return{}}},ht=HN.useMemo(function(){return vt(wt)},[wt]),It=zBe(wt,!e,function(Sr){if(Sr===tl){var Or=ht[tl];return Or?Or(tt()):VX}if(kt in ht){var Ur;bt(((Ur=ht[kt])===null||Ur===void 0?void 0:Ur.call(ht,tt(),null))||null)}return kt===lm&&wt!==Pp&&(it(tt()),I>0&&(clearTimeout(st.current),st.current=setTimeout(function(){$e({deadline:!0})},I))),kt===jN&&Me(),qBe}),Wt=Rn(It,2),Et=Wt[0],kt=Wt[1],Xt=GN(kt);je.current=Xt;var yr=(0,ed.useRef)(null);VN(function(){if(!(Ge.current&&yr.current===t)){Pe(t);var Sr=Ge.current;Ge.current=!0;var Or;!Sr&&t&&d&&(Or=wI),Sr&&t&&o&&(Or=SI),(Sr&&!t&&_||!Sr&&T&&!t&&_)&&(Or=EI);var Ur=vt(Or);Or&&(e||Ur[tl])?(lt(Or),Et()):lt(Pp),yr.current=t}},[t]),(0,ed.useEffect)(function(){(wt===wI&&!d||wt===SI&&!o||wt===EI&&!_)&&lt(Pp)},[d,o,_]),(0,ed.useEffect)(function(){return function(){Ge.current=!1,clearTimeout(st.current)}},[]);var Pr=HN.useRef(!1);(0,ed.useEffect)(function(){xe&&(Pr.current=!0),xe!==void 0&&wt===Pp&&((Pr.current||xe)&&(Ie==null||Ie(xe)),Pr.current=!0)},[xe,wt]);var sr=ut;return ht[tl]&&kt===Jf&&(sr=Ut({transition:"none"},sr)),[wt,kt,sr,xe!=null?xe:t]}function Fhr(e){var t=e;Nn(e)==="object"&&(t=e.transitionSupport);function r(i,o){return!!(i.motionName&&t&&o!==!1)}var n=rl.forwardRef(function(i,o){var u=i.visible,d=u===void 0?!0:u,g=i.removeOnLeave,_=g===void 0?!0:g,I=i.forceRender,T=i.children,A=i.motionName,q=i.leavedClassName,z=i.eventProps,U=rl.useContext(wBe),N=U.motion,L=r(i,N),F=(0,GX.useRef)(),H=(0,GX.useRef)();function Y(){try{return F.current instanceof HTMLElement?F.current:yI(H.current)}catch(qe){return null}}var te=$X(L,d,Y,i),oe=Rn(te,4),ue=oe[0],Ie=oe[1],Ee=oe[2],ve=oe[3],xe=rl.useRef(ve);ve&&(xe.current=!0);var Pe=rl.useCallback(function(qe){F.current=qe,NX(o,qe)},[o]),we,Oe=Ut(Ut({},z),{},{visible:d});if(!T)we=null;else if(ue===Pp)ve?we=T(Ut({},Oe),Pe):!_&&xe.current&&q?we=T(Ut(Ut({},Oe),{},{className:q}),Pe):I||!_&&!q?we=T(Ut(Ut({},Oe),{},{style:{display:"none"}}),Pe):we=null;else{var Xe;Ie===tl?Xe="prepare":GN(Ie)?Xe="active":Ie===Jf&&(Xe="start");var lt=UX(A,"".concat(ue,"-").concat(Xe));we=T(Ut(Ut({},Oe),{},{className:(0,jBe.default)(UX(A,ue),Ot(Ot({},lt,lt&&Xe),A,typeof A=="string")),style:Ee}),Pe)}if(rl.isValidElement(we)&&bI(we)){var pt=mBe(we);pt||(we=rl.cloneElement(we,{ref:Pe}))}return rl.createElement(EBe,{ref:H},we)});return n.displayName="CSSMotion",n}var WN=Fhr(BN);p();var yv=se(Je());p();var ZN="add",YN="keep",KN="remove",QN="removed";function Bhr(e){var t;return e&&Nn(e)==="object"&&"key"in e?t=e:t={key:e},Ut(Ut({},t),{},{key:String(t.key)})}function XN(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return e.map(Bhr)}function FBe(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=[],n=0,i=t.length,o=XN(e),u=XN(t);o.forEach(function(_){for(var I=!1,T=n;T<i;T+=1){var A=u[T];if(A.key===_.key){n<T&&(r=r.concat(u.slice(n,T).map(function(q){return Ut(Ut({},q),{},{status:ZN})})),n=T),r.push(Ut(Ut({},A),{},{status:YN})),n+=1,I=!0;break}}I||r.push(Ut(Ut({},_),{},{status:KN}))}),n<i&&(r=r.concat(u.slice(n).map(function(_){return Ut(Ut({},_),{},{status:ZN})})));var d={};r.forEach(function(_){var I=_.key;d[I]=(d[I]||0)+1});var g=Object.keys(d).filter(function(_){return d[_]>1});return g.forEach(function(_){r=r.filter(function(I){var T=I.key,A=I.status;return T!==_||A!==KN}),r.forEach(function(I){I.key===_&&(I.status=YN)})}),r}var Uhr=["component","children","onVisibleChanged","onAllRemoved"],Vhr=["status"],$hr=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearPrepare","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];function Ghr(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:WN,r=function(n){ns(o,n);var i=is(o);function o(){var u;ts(this,o);for(var d=arguments.length,g=new Array(d),_=0;_<d;_++)g[_]=arguments[_];return u=i.call.apply(i,[this].concat(g)),Ot(Yr(u),"state",{keyEntities:[]}),Ot(Yr(u),"removeKey",function(I){u.setState(function(T){var A=T.keyEntities.map(function(q){return q.key!==I?q:Ut(Ut({},q),{},{status:QN})});return{keyEntities:A}},function(){var T=u.state.keyEntities,A=T.filter(function(q){var z=q.status;return z!==QN}).length;A===0&&u.props.onAllRemoved&&u.props.onAllRemoved()})}),u}return rs(o,[{key:"render",value:function(){var d=this,g=this.state.keyEntities,_=this.props,I=_.component,T=_.children,A=_.onVisibleChanged,q=_.onAllRemoved,z=Ss(_,Uhr),U=I||yv.Fragment,N={};return $hr.forEach(function(L){N[L]=z[L],delete z[L]}),delete z.keys,yv.createElement(U,z,g.map(function(L,F){var H=L.status,Y=Ss(L,Vhr),te=H===ZN||H===YN;return yv.createElement(t,yn({},N,{key:Y.key,visible:te,eventProps:Y,onVisibleChanged:function(ue){A==null||A(ue,{key:Y.key}),ue||d.removeKey(Y.key)}}),function(oe,ue){return T(Ut(Ut({},oe),{},{index:F}),ue)})}))}}],[{key:"getDerivedStateFromProps",value:function(d,g){var _=d.keys,I=g.keyEntities,T=XN(_),A=FBe(I,T);return{keyEntities:A.filter(function(q){var z=I.find(function(U){var N=U.key;return q.key===N});return!(z&&z.status===QN&&q.status===KN)})}}}]),o}(yv.Component);return Ot(r,"defaultProps",{component:"div"}),r}var Hhr=Ghr(BN);var U_=WN;p();function JN(e){var t=e.prefixCls,r=e.motion,n=e.animation,i=e.transitionName;return r||(n?{motionName:"".concat(t,"-").concat(n)}:i?{motionName:i}:null)}function WX(e){var t=e.prefixCls,r=e.visible,n=e.zIndex,i=e.mask,o=e.maskMotion,u=e.maskAnimation,d=e.maskTransitionName;if(!i)return null;var g={};return(o||d||u)&&(g=Ut({motionAppear:!0},JN({motion:o,prefixCls:t,transitionName:d,animation:u}))),HX.createElement(U_,yn({},g,{visible:r,removeOnLeave:!0}),function(_){var I=_.className;return HX.createElement("div",{style:{zIndex:n},className:(0,BBe.default)("".concat(t,"-mask"),I)})})}p();var Ol=se(Je()),bv=se(Je());p();p();p();function UBe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function VBe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UBe(Object(r),!0).forEach(function(n){Whr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UBe(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QX(e){"@babel/helpers - typeof";return QX=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},QX(e)}function Whr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var II,Zhr={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-",O:"-o-"};function iR(){if(II!==void 0)return II;II="";var e=document.createElement("p").style,t="Transform";for(var r in Zhr)r+t in e&&(II=r);return II}function rUe(){return iR()?"".concat(iR(),"TransitionProperty"):"transitionProperty"}function oR(){return iR()?"".concat(iR(),"Transform"):"transform"}function $Be(e,t){var r=rUe();r&&(e.style[r]=t,r!=="transitionProperty"&&(e.style.transitionProperty=t))}function ZX(e,t){var r=oR();r&&(e.style[r]=t,r!=="transform"&&(e.style.transform=t))}function Yhr(e){return e.style.transitionProperty||e.style[rUe()]}function Khr(e){var t=window.getComputedStyle(e,null),r=t.getPropertyValue("transform")||t.getPropertyValue(oR());if(r&&r!=="none"){var n=r.replace(/[^0-9\-.,]/g,"").split(",");return{x:parseFloat(n[12]||n[4],0),y:parseFloat(n[13]||n[5],0)}}return{x:0,y:0}}var Xhr=/matrix\((.*)\)/,Qhr=/matrix3d\((.*)\)/;function Jhr(e,t){var r=window.getComputedStyle(e,null),n=r.getPropertyValue("transform")||r.getPropertyValue(oR());if(n&&n!=="none"){var i,o=n.match(Xhr);if(o)o=o[1],i=o.split(",").map(function(d){return parseFloat(d,10)}),i[4]=t.x,i[5]=t.y,ZX(e,"matrix(".concat(i.join(","),")"));else{var u=n.match(Qhr)[1];i=u.split(",").map(function(d){return parseFloat(d,10)}),i[12]=t.x,i[13]=t.y,ZX(e,"matrix3d(".concat(i.join(","),")"))}}else ZX(e,"translateX(".concat(t.x,"px) translateY(").concat(t.y,"px) translateZ(0)"))}var emr=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,CI;function GBe(e){var t=e.style.display;e.style.display="none",e.offsetHeight,e.style.display=t}function V_(e,t,r){var n=r;if(QX(t)==="object"){for(var i in t)t.hasOwnProperty(i)&&V_(e,i,t[i]);return}if(typeof n!="undefined"){typeof n=="number"&&(n="".concat(n,"px")),e.style[t]=n;return}return CI(e,t)}function tmr(e){var t,r,n,i=e.ownerDocument,o=i.body,u=i&&i.documentElement;return t=e.getBoundingClientRect(),r=Math.floor(t.left),n=Math.floor(t.top),r-=u.clientLeft||o.clientLeft||0,n-=u.clientTop||o.clientTop||0,{left:r,top:n}}function nUe(e,t){var r=e["page".concat(t?"Y":"X","Offset")],n="scroll".concat(t?"Top":"Left");if(typeof r!="number"){var i=e.document;r=i.documentElement[n],typeof r!="number"&&(r=i.body[n])}return r}function iUe(e){return nUe(e)}function oUe(e){return nUe(e,!0)}function MI(e){var t=tmr(e),r=e.ownerDocument,n=r.defaultView||r.parentWindow;return t.left+=iUe(n),t.top+=oUe(n),t}function rQ(e){return e!=null&&e==e.window}function aUe(e){return rQ(e)?e.document:e.nodeType===9?e:e.ownerDocument}function rmr(e,t,r){var n=r,i="",o=aUe(e);return n=n||o.defaultView.getComputedStyle(e,null),n&&(i=n.getPropertyValue(t)||n[t]),i}var nmr=new RegExp("^(".concat(emr,")(?!px)[a-z%]+$"),"i"),imr=/^(top|right|bottom|left)$/,YX="currentStyle",KX="runtimeStyle",_v="left",omr="px";function amr(e,t){var r=e[YX]&&e[YX][t];if(nmr.test(r)&&!imr.test(t)){var n=e.style,i=n[_v],o=e[KX][_v];e[KX][_v]=e[YX][_v],n[_v]=t==="fontSize"?"1em":r||0,r=n.pixelLeft+omr,n[_v]=i,e[KX][_v]=o}return r===""?"auto":r}typeof window!="undefined"&&(CI=window.getComputedStyle?rmr:amr);function eR(e,t){return e==="left"?t.useCssRight?"right":e:t.useCssBottom?"bottom":e}function HBe(e){if(e==="left")return"right";if(e==="right")return"left";if(e==="top")return"bottom";if(e==="bottom")return"top"}function WBe(e,t,r){V_(e,"position")==="static"&&(e.style.position="relative");var n=-999,i=-999,o=eR("left",r),u=eR("top",r),d=HBe(o),g=HBe(u);o!=="left"&&(n=999),u!=="top"&&(i=999);var _="",I=MI(e);("left"in t||"top"in t)&&(_=Yhr(e)||"",$Be(e,"none")),"left"in t&&(e.style[d]="",e.style[o]="".concat(n,"px")),"top"in t&&(e.style[g]="",e.style[u]="".concat(i,"px")),GBe(e);var T=MI(e),A={};for(var q in t)if(t.hasOwnProperty(q)){var z=eR(q,r),U=q==="left"?n:i,N=I[q]-T[q];z===q?A[z]=U+N:A[z]=U-N}V_(e,A),GBe(e),("left"in t||"top"in t)&&$Be(e,_);var L={};for(var F in t)if(t.hasOwnProperty(F)){var H=eR(F,r),Y=t[F]-I[F];F===H?L[H]=A[H]+Y:L[H]=A[H]-Y}V_(e,L)}function smr(e,t){var r=MI(e),n=Khr(e),i={x:n.x,y:n.y};"left"in t&&(i.x=n.x+t.left-r.left),"top"in t&&(i.y=n.y+t.top-r.top),Jhr(e,i)}function lmr(e,t,r){if(r.ignoreShake){var n=MI(e),i=n.left.toFixed(0),o=n.top.toFixed(0),u=t.left.toFixed(0),d=t.top.toFixed(0);if(i===u&&o===d)return}r.useCssRight||r.useCssBottom?WBe(e,t,r):r.useCssTransform&&oR()in document.body.style?smr(e,t):WBe(e,t,r)}function nQ(e,t){for(var r=0;r<e.length;r++)t(e[r])}function sUe(e){return CI(e,"boxSizing")==="border-box"}var umr=["margin","border","padding"],JX=-1,cmr=2,eQ=1,pmr=0;function fmr(e,t,r){var n={},i=e.style,o;for(o in t)t.hasOwnProperty(o)&&(n[o]=i[o],i[o]=t[o]);r.call(e);for(o in t)t.hasOwnProperty(o)&&(i[o]=n[o])}function TI(e,t,r){var n=0,i,o,u;for(o=0;o<t.length;o++)if(i=t[o],i)for(u=0;u<r.length;u++){var d=void 0;i==="border"?d="".concat(i).concat(r[u],"Width"):d=i+r[u],n+=parseFloat(CI(e,d))||0}return n}var Op={getParent:function(t){var r=t;do r.nodeType===11&&r.host?r=r.host:r=r.parentNode;while(r&&r.nodeType!==1&&r.nodeType!==9);return r}};nQ(["Width","Height"],function(e){Op["doc".concat(e)]=function(t){var r=t.document;return Math.max(r.documentElement["scroll".concat(e)],r.body["scroll".concat(e)],Op["viewport".concat(e)](r))},Op["viewport".concat(e)]=function(t){var r="client".concat(e),n=t.document,i=n.body,o=n.documentElement,u=o[r];return n.compatMode==="CSS1Compat"&&u||i&&i[r]||u}});function ZBe(e,t,r){var n=r;if(rQ(e))return t==="width"?Op.viewportWidth(e):Op.viewportHeight(e);if(e.nodeType===9)return t==="width"?Op.docWidth(e):Op.docHeight(e);var i=t==="width"?["Left","Right"]:["Top","Bottom"],o=Math.floor(t==="width"?e.getBoundingClientRect().width:e.getBoundingClientRect().height),u=sUe(e),d=0;(o==null||o<=0)&&(o=void 0,d=CI(e,t),(d==null||Number(d)<0)&&(d=e.style[t]||0),d=Math.floor(parseFloat(d))||0),n===void 0&&(n=u?eQ:JX);var g=o!==void 0||u,_=o||d;return n===JX?g?_-TI(e,["border","padding"],i):d:g?n===eQ?_:_+(n===cmr?-TI(e,["border"],i):TI(e,["margin"],i)):d+TI(e,umr.slice(n),i)}var dmr={position:"absolute",visibility:"hidden",display:"block"};function YBe(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,i=t[0];return i.offsetWidth!==0?n=ZBe.apply(void 0,t):fmr(i,dmr,function(){n=ZBe.apply(void 0,t)}),n}nQ(["width","height"],function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);Op["outer".concat(t)]=function(n,i){return n&&YBe(n,e,i?pmr:eQ)};var r=e==="width"?["Left","Right"]:["Top","Bottom"];Op[e]=function(n,i){var o=i;if(o!==void 0){if(n){var u=sUe(n);return u&&(o+=TI(n,["padding","border"],r)),V_(n,e,o)}return}return n&&YBe(n,e,JX)}});function lUe(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}var Jr={getWindow:function(t){if(t&&t.document&&t.setTimeout)return t;var r=t.ownerDocument||t;return r.defaultView||r.parentWindow},getDocument:aUe,offset:function(t,r,n){if(typeof r!="undefined")lmr(t,r,n||{});else return MI(t)},isWindow:rQ,each:nQ,css:V_,clone:function(t){var r,n={};for(r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);var i=t.overflow;if(i)for(r in t)t.hasOwnProperty(r)&&(n.overflow[r]=t.overflow[r]);return n},mix:lUe,getWindowScrollLeft:function(t){return iUe(t)},getWindowScrollTop:function(t){return oUe(t)},merge:function(){for(var t={},r=0;r<arguments.length;r++)Jr.mix(t,r<0||arguments.length<=r?void 0:arguments[r]);return t},viewportWidth:0,viewportHeight:0};lUe(Jr,Op);var XX=Jr.getParent;function tQ(e){if(Jr.isWindow(e)||e.nodeType===9)return null;var t=Jr.getDocument(e),r=t.body,n,i=Jr.css(e,"position"),o=i==="fixed"||i==="absolute";if(!o)return e.nodeName.toLowerCase()==="html"?null:XX(e);for(n=XX(e);n&&n!==r&&n.nodeType!==9;n=XX(n))if(i=Jr.css(n,"position"),i!=="static")return n;return null}var KBe=Jr.getParent;function hmr(e){if(Jr.isWindow(e)||e.nodeType===9)return!1;var t=Jr.getDocument(e),r=t.body,n=null;for(n=KBe(e);n&&n!==r&&n!==t;n=KBe(n)){var i=Jr.css(n,"position");if(i==="fixed")return!0}return!1}function iQ(e,t){for(var r={left:0,right:1/0,top:0,bottom:1/0},n=tQ(e),i=Jr.getDocument(e),o=i.defaultView||i.parentWindow,u=i.body,d=i.documentElement;n;){if((navigator.userAgent.indexOf("MSIE")===-1||n.clientWidth!==0)&&n!==u&&n!==d&&Jr.css(n,"overflow")!=="visible"){var g=Jr.offset(n);g.left+=n.clientLeft,g.top+=n.clientTop,r.top=Math.max(r.top,g.top),r.right=Math.min(r.right,g.left+n.clientWidth),r.bottom=Math.min(r.bottom,g.top+n.clientHeight),r.left=Math.max(r.left,g.left)}else if(n===u||n===d)break;n=tQ(n)}var _=null;if(!Jr.isWindow(e)&&e.nodeType!==9){_=e.style.position;var I=Jr.css(e,"position");I==="absolute"&&(e.style.position="fixed")}var T=Jr.getWindowScrollLeft(o),A=Jr.getWindowScrollTop(o),q=Jr.viewportWidth(o),z=Jr.viewportHeight(o),U=d.scrollWidth,N=d.scrollHeight,L=window.getComputedStyle(u);if(L.overflowX==="hidden"&&(U=o.innerWidth),L.overflowY==="hidden"&&(N=o.innerHeight),e.style&&(e.style.position=_),t||hmr(e))r.left=Math.max(r.left,T),r.top=Math.max(r.top,A),r.right=Math.min(r.right,T+q),r.bottom=Math.min(r.bottom,A+z);else{var F=Math.max(U,T+q);r.right=Math.min(r.right,F);var H=Math.max(N,A+z);r.bottom=Math.min(r.bottom,H)}return r.top>=0&&r.left>=0&&r.bottom>r.top&&r.right>r.left?r:null}function mmr(e,t,r,n){var i=Jr.clone(e),o={width:t.width,height:t.height};return n.adjustX&&i.left<r.left&&(i.left=r.left),n.resizeWidth&&i.left>=r.left&&i.left+o.width>r.right&&(o.width-=i.left+o.width-r.right),n.adjustX&&i.left+o.width>r.right&&(i.left=Math.max(r.right-o.width,r.left)),n.adjustY&&i.top<r.top&&(i.top=r.top),n.resizeHeight&&i.top>=r.top&&i.top+o.height>r.bottom&&(o.height-=i.top+o.height-r.bottom),n.adjustY&&i.top+o.height>r.bottom&&(i.top=Math.max(r.bottom-o.height,r.top)),Jr.mix(i,o)}function oQ(e){var t,r,n;if(!Jr.isWindow(e)&&e.nodeType!==9)t=Jr.offset(e),r=Jr.outerWidth(e),n=Jr.outerHeight(e);else{var i=Jr.getWindow(e);t={left:Jr.getWindowScrollLeft(i),top:Jr.getWindowScrollTop(i)},r=Jr.viewportWidth(i),n=Jr.viewportHeight(i)}return t.width=r,t.height=n,t}function XBe(e,t){var r=t.charAt(0),n=t.charAt(1),i=e.width,o=e.height,u=e.left,d=e.top;return r==="c"?d+=o/2:r==="b"&&(d+=o),n==="c"?u+=i/2:n==="r"&&(u+=i),{left:u,top:d}}function tR(e,t,r,n,i){var o=XBe(t,r[1]),u=XBe(e,r[0]),d=[u.left-o.left,u.top-o.top];return{left:Math.round(e.left-d[0]+n[0]-i[0]),top:Math.round(e.top-d[1]+n[1]-i[1])}}function QBe(e,t,r){return e.left<r.left||e.left+t.width>r.right}function JBe(e,t,r){return e.top<r.top||e.top+t.height>r.bottom}function gmr(e,t,r){return e.left>r.right||e.left+t.width<r.left}function vmr(e,t,r){return e.top>r.bottom||e.top+t.height<r.top}function rR(e,t,r){var n=[];return Jr.each(e,function(i){n.push(i.replace(t,function(o){return r[o]}))}),n}function nR(e,t){return e[t]=-e[t],e}function eUe(e,t){var r;return /%$/.test(e)?r=parseInt(e.substring(0,e.length-1),10)/100*t:r=parseInt(e,10),r||0}function tUe(e,t){e[0]=eUe(e[0],t.width),e[1]=eUe(e[1],t.height)}function uUe(e,t,r,n){var i=r.points,o=r.offset||[0,0],u=r.targetOffset||[0,0],d=r.overflow,g=r.source||e;o=[].concat(o),u=[].concat(u),d=d||{};var _={},I=0,T=!!(d&&d.alwaysByViewport),A=iQ(g,T),q=oQ(g);tUe(o,q),tUe(u,t);var z=tR(q,t,i,o,u),U=Jr.merge(q,z);if(A&&(d.adjustX||d.adjustY)&&n){if(d.adjustX&&QBe(z,q,A)){var N=rR(i,/[lr]/gi,{l:"r",r:"l"}),L=nR(o,0),F=nR(u,0),H=tR(q,t,N,L,F);gmr(H,q,A)||(I=1,i=N,o=L,u=F)}if(d.adjustY&&JBe(z,q,A)){var Y=rR(i,/[tb]/gi,{t:"b",b:"t"}),te=nR(o,1),oe=nR(u,1),ue=tR(q,t,Y,te,oe);vmr(ue,q,A)||(I=1,i=Y,o=te,u=oe)}I&&(z=tR(q,t,i,o,u),Jr.mix(U,z));var Ie=QBe(z,q,A),Ee=JBe(z,q,A);if(Ie||Ee){var ve=i;Ie&&(ve=rR(i,/[lr]/gi,{l:"r",r:"l"})),Ee&&(ve=rR(i,/[tb]/gi,{t:"b",b:"t"})),i=ve,o=r.offset||[0,0],u=r.targetOffset||[0,0]}_.adjustX=d.adjustX&&Ie,_.adjustY=d.adjustY&&Ee,(_.adjustX||_.adjustY)&&(U=mmr(z,q,A,_))}return U.width!==q.width&&Jr.css(g,"width",Jr.width(g)+U.width-q.width),U.height!==q.height&&Jr.css(g,"height",Jr.height(g)+U.height-q.height),Jr.offset(g,{left:U.left,top:U.top},{useCssRight:r.useCssRight,useCssBottom:r.useCssBottom,useCssTransform:r.useCssTransform,ignoreShake:r.ignoreShake}),{points:i,offset:o,targetOffset:u,overflow:_}}function ymr(e,t){var r=iQ(e,t),n=oQ(e);return!r||n.left+n.width<=r.left||n.top+n.height<=r.top||n.left>=r.right||n.top>=r.bottom}function aR(e,t,r){var n=r.target||t,i=oQ(n),o=!ymr(n,r.overflow&&r.overflow.alwaysByViewport);return uUe(e,i,r,o)}aR.__getOffsetParent=tQ;aR.__getVisibleRectForElement=iQ;function cUe(e,t,r){var n,i,o=Jr.getDocument(e),u=o.defaultView||o.parentWindow,d=Jr.getWindowScrollLeft(u),g=Jr.getWindowScrollTop(u),_=Jr.viewportWidth(u),I=Jr.viewportHeight(u);"pageX"in t?n=t.pageX:n=d+t.clientX,"pageY"in t?i=t.pageY:i=g+t.clientY;var T={left:n,top:i,width:0,height:0},A=n>=0&&n<=d+_&&i>=0&&i<=g+I,q=[r.points[0],"cc"];return uUe(e,T,VBe(VBe({},r),{},{points:q}),A)}p();function _mr(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=new Set;function i(o,u){var d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,g=n.has(o);if(Mp(!g,"Warning: There may be circular references"),g)return!1;if(o===u)return!0;if(r&&d>1)return!1;n.add(o);var _=d+1;if(Array.isArray(o)){if(!Array.isArray(u)||o.length!==u.length)return!1;for(var I=0;I<o.length;I++)if(!i(o[I],u[I],_))return!1;return!0}if(o&&u&&Nn(o)==="object"&&Nn(u)==="object"){var T=Object.keys(o);return T.length!==Object.keys(u).length?!1:T.every(function(A){return i(o[A],u[A],_)})}return!1}return i(e,t)}var pUe=_mr;p();var fUe=function(e){if(!e)return!1;if(e instanceof Element){if(e.offsetParent)return!0;if(e.getBBox){var t=e.getBBox(),r=t.width,n=t.height;if(r||n)return!0}if(e.getBoundingClientRect){var i=e.getBoundingClientRect(),o=i.width,u=i.height;if(o||u)return!0}}return!1};var ka=se(Je());p();var aQ=se(Je()),dUe=function(e,t){var r=aQ.default.useRef(!1),n=aQ.default.useRef(null);function i(){window.clearTimeout(n.current)}function o(u){if(i(),!r.current||u===!0){if(e(u)===!1)return;r.current=!0,n.current=window.setTimeout(function(){r.current=!1},t)}else n.current=window.setTimeout(function(){r.current=!1,o()},t)}return[o,function(){r.current=!1,i()}]};p();p();var mUe=function(){if(typeof Map!="undefined")return Map;function e(t,r){var n=-1;return t.some(function(i,o){return i[0]===r?(n=o,!0):!1}),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(r){var n=e(this.__entries__,r),i=this.__entries__[n];return i&&i[1]},t.prototype.set=function(r,n){var i=e(this.__entries__,r);~i?this.__entries__[i][1]=n:this.__entries__.push([r,n])},t.prototype.delete=function(r){var n=this.__entries__,i=e(n,r);~i&&n.splice(i,1)},t.prototype.has=function(r){return!!~e(this.__entries__,r)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(r,n){n===void 0&&(n=null);for(var i=0,o=this.__entries__;i<o.length;i++){var u=o[i];r.call(n,u[1],u[0])}},t}()}(),sQ=typeof window!="undefined"&&typeof document!="undefined"&&window.document===document,sR=function(){return typeof global!="undefined"&&global.Math===Math?global:typeof self!="undefined"&&self.Math===Math?self:typeof window!="undefined"&&window.Math===Math?window:Function("return this")()}(),bmr=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(sR):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)}}(),xmr=2;function wmr(e,t){var r=!1,n=!1,i=0;function o(){r&&(r=!1,e()),n&&d()}function u(){bmr(o)}function d(){var g=Date.now();if(r){if(g-i<xmr)return;n=!0}else r=!0,n=!1,setTimeout(u,t);i=g}return d}var Smr=20,Emr=["top","right","bottom","left","width","height","size","weight"],Imr=typeof MutationObserver!="undefined",Tmr=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=wmr(this.refresh.bind(this),Smr)}return e.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},e.prototype.removeObserver=function(t){var r=this.observers_,n=r.indexOf(t);~n&&r.splice(n,1),!r.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){var t=this.updateObservers_();t&&this.refresh()},e.prototype.updateObservers_=function(){var t=this.observers_.filter(function(r){return r.gatherActive(),r.hasActive()});return t.forEach(function(r){return r.broadcastActive()}),t.length>0},e.prototype.connect_=function(){!sQ||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Imr?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){!sQ||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(t){var r=t.propertyName,n=r===void 0?"":r,i=Emr.some(function(o){return!!~n.indexOf(o)});i&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),gUe=function(e,t){for(var r=0,n=Object.keys(t);r<n.length;r++){var i=n[r];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},$_=function(e){var t=e&&e.ownerDocument&&e.ownerDocument.defaultView;return t||sR},vUe=uR(0,0,0,0);function lR(e){return parseFloat(e)||0}function hUe(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return t.reduce(function(n,i){var o=e["border-"+i+"-width"];return n+lR(o)},0)}function Mmr(e){for(var t=["top","right","bottom","left"],r={},n=0,i=t;n<i.length;n++){var o=i[n],u=e["padding-"+o];r[o]=lR(u)}return r}function Cmr(e){var t=e.getBBox();return uR(0,0,t.width,t.height)}function Amr(e){var t=e.clientWidth,r=e.clientHeight;if(!t&&!r)return vUe;var n=$_(e).getComputedStyle(e),i=Mmr(n),o=i.left+i.right,u=i.top+i.bottom,d=lR(n.width),g=lR(n.height);if(n.boxSizing==="border-box"&&(Math.round(d+o)!==t&&(d-=hUe(n,"left","right")+o),Math.round(g+u)!==r&&(g-=hUe(n,"top","bottom")+u)),!Omr(e)){var _=Math.round(d+o)-t,I=Math.round(g+u)-r;Math.abs(_)!==1&&(d-=_),Math.abs(I)!==1&&(g-=I)}return uR(i.left,i.top,d,g)}var Pmr=function(){return typeof SVGGraphicsElement!="undefined"?function(e){return e instanceof $_(e).SVGGraphicsElement}:function(e){return e instanceof $_(e).SVGElement&&typeof e.getBBox=="function"}}();function Omr(e){return e===$_(e).document.documentElement}function Dmr(e){return sQ?Pmr(e)?Cmr(e):Amr(e):vUe}function kmr(e){var t=e.x,r=e.y,n=e.width,i=e.height,o=typeof DOMRectReadOnly!="undefined"?DOMRectReadOnly:Object,u=Object.create(o.prototype);return gUe(u,{x:t,y:r,width:n,height:i,top:r,right:t+n,bottom:i+r,left:t}),u}function uR(e,t,r,n){return{x:e,y:t,width:r,height:n}}var Nmr=function(){function e(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=uR(0,0,0,0),this.target=t}return e.prototype.isActive=function(){var t=Dmr(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},e}(),Rmr=function(){function e(t,r){var n=kmr(r);gUe(this,{target:t,contentRect:n})}return e}(),Lmr=function(){function e(t,r,n){if(this.activeObservations_=[],this.observations_=new mUe,typeof t!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=r,this.callbackCtx_=n}return e.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element=="undefined"||!(Element instanceof Object))){if(!(t instanceof $_(t).Element))throw new TypeError("parameter 1 is not of type \"Element\".");var r=this.observations_;r.has(t)||(r.set(t,new Nmr(t)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element=="undefined"||!(Element instanceof Object))){if(!(t instanceof $_(t).Element))throw new TypeError("parameter 1 is not of type \"Element\".");var r=this.observations_;r.has(t)&&(r.delete(t),r.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(r){r.isActive()&&t.activeObservations_.push(r)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,r=this.activeObservations_.map(function(n){return new Rmr(n.target,n.broadcastRect())});this.callback_.call(t,r,t),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),yUe=typeof WeakMap!="undefined"?new WeakMap:new mUe,_Ue=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var r=Tmr.getInstance(),n=new Lmr(t,r,this);yUe.set(this,n)}return e}();["observe","unobserve","disconnect"].forEach(function(e){_Ue.prototype[e]=function(){var t;return(t=yUe.get(this))[e].apply(t,arguments)}});var qmr=function(){return typeof sR.ResizeObserver!="undefined"?sR.ResizeObserver:_Ue}(),bUe=qmr;function xUe(e,t){return e===t?!0:!e||!t?!1:"pageX"in t&&"pageY"in t?e.pageX===t.pageX&&e.pageY===t.pageY:"clientX"in t&&"clientY"in t?e.clientX===t.clientX&&e.clientY===t.clientY:!1}function wUe(e,t){e!==document.activeElement&&vv(t,e)&&typeof e.focus=="function"&&e.focus()}function lQ(e,t){var r=null,n=null;function i(u){var d=Rn(u,1),g=d[0].target;if(document.documentElement.contains(g)){var _=g.getBoundingClientRect(),I=_.width,T=_.height,A=Math.floor(I),q=Math.floor(T);(r!==A||n!==q)&&Promise.resolve().then(function(){t({width:A,height:q})}),r=A,n=q}}var o=new bUe(i);return e&&o.observe(e),function(){o.disconnect()}}function SUe(e){return typeof e!="function"?null:e()}function EUe(e){return Nn(e)!=="object"||!e?null:e}var zmr=function(t,r){var n=t.children,i=t.disabled,o=t.target,u=t.align,d=t.onAlign,g=t.monitorWindowResize,_=t.monitorBufferTime,I=_===void 0?0:_,T=ka.default.useRef({}),A=ka.default.useRef(),q=ka.default.Children.only(n),z=ka.default.useRef({});z.current.disabled=i,z.current.target=o,z.current.align=u,z.current.onAlign=d;var U=dUe(function(){var xe=z.current,Pe=xe.disabled,we=xe.target,Oe=xe.align,Xe=xe.onAlign,lt=A.current;if(!Pe&&we&&lt){var pt,qe=SUe(we),ut=EUe(we);T.current.element=qe,T.current.point=ut,T.current.align=Oe;var bt=document,wt=bt.activeElement;return qe&&fUe(qe)?pt=aR(lt,qe,Oe):ut&&(pt=cUe(lt,ut,Oe)),wUe(wt,lt),Xe&&pt&&Xe(lt,pt),!0}return!1},I),N=Rn(U,2),L=N[0],F=N[1],H=ka.default.useState(),Y=Rn(H,2),te=Y[0],oe=Y[1],ue=ka.default.useState(),Ie=Rn(ue,2),Ee=Ie[0],ve=Ie[1];return xI(function(){oe(SUe(o)),ve(EUe(o))}),ka.default.useEffect(function(){(T.current.element!==te||!xUe(T.current.point,Ee)||!pUe(T.current.align,u))&&L()}),ka.default.useEffect(function(){var xe=lQ(A.current,L);return xe},[A.current]),ka.default.useEffect(function(){var xe=lQ(te,L);return xe},[te]),ka.default.useEffect(function(){i?F():L()},[i]),ka.default.useEffect(function(){if(g){var xe=Es(window,"resize",L);return xe.remove}},[g]),ka.default.useEffect(function(){return function(){F()}},[]),ka.default.useImperativeHandle(r,function(){return{forceAlign:function(){return L(!0)}}}),ka.default.isValidElement(q)&&(q=ka.default.cloneElement(q,{ref:j_(q.ref,A)})),q},IUe=ka.default.forwardRef(zmr);IUe.displayName="Align";var TUe=IUe;var MUe=TUe;var kUe=se(fn());p();p();function cR(){"use strict";cR=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,i=typeof Symbol=="function"?Symbol:{},o=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",d=i.toStringTag||"@@toStringTag";function g(ve,xe,Pe,we){return Object.defineProperty(ve,xe,{value:Pe,enumerable:!we,configurable:!we,writable:!we})}try{g({},"")}catch(ve){g=function(Pe,we,Oe){return Pe[we]=Oe}}function _(ve,xe,Pe,we){var Oe=xe&&xe.prototype instanceof A?xe:A,Xe=Object.create(Oe.prototype);return g(Xe,"_invoke",function(lt,pt,qe){var ut=1;return function(bt,wt){if(ut===3)throw Error("Generator is already running");if(ut===4){if(bt==="throw")throw wt;return{value:e,done:!0}}for(qe.method=bt,qe.arg=wt;;){var Ge=qe.delegate;if(Ge){var st=te(Ge,qe);if(st){if(st===T)continue;return st}}if(qe.method==="next")qe.sent=qe._sent=qe.arg;else if(qe.method==="throw"){if(ut===1)throw ut=4,qe.arg;qe.dispatchException(qe.arg)}else qe.method==="return"&&qe.abrupt("return",qe.arg);ut=3;var tt=I(lt,pt,qe);if(tt.type==="normal"){if(ut=qe.done?4:2,tt.arg===T)continue;return{value:tt.arg,done:qe.done}}tt.type==="throw"&&(ut=4,qe.method="throw",qe.arg=tt.arg)}}}(ve,Pe,new Ie(we||[])),!0),Xe}function I(ve,xe,Pe){try{return{type:"normal",arg:ve.call(xe,Pe)}}catch(we){return{type:"throw",arg:we}}}t.wrap=_;var T={};function A(){}function q(){}function z(){}var U={};g(U,o,function(){return this});var N=Object.getPrototypeOf,L=N&&N(N(Ee([])));L&&L!==r&&n.call(L,o)&&(U=L);var F=z.prototype=A.prototype=Object.create(U);function H(ve){["next","throw","return"].forEach(function(xe){g(ve,xe,function(Pe){return this._invoke(xe,Pe)})})}function Y(ve,xe){function Pe(Oe,Xe,lt,pt){var qe=I(ve[Oe],ve,Xe);if(qe.type!=="throw"){var ut=qe.arg,bt=ut.value;return bt&&Nn(bt)=="object"&&n.call(bt,"__await")?xe.resolve(bt.__await).then(function(wt){Pe("next",wt,lt,pt)},function(wt){Pe("throw",wt,lt,pt)}):xe.resolve(bt).then(function(wt){ut.value=wt,lt(ut)},function(wt){return Pe("throw",wt,lt,pt)})}pt(qe.arg)}var we;g(this,"_invoke",function(Oe,Xe){function lt(){return new xe(function(pt,qe){Pe(Oe,Xe,pt,qe)})}return we=we?we.then(lt,lt):lt()},!0)}function te(ve,xe){var Pe=xe.method,we=ve.i[Pe];if(we===e)return xe.delegate=null,Pe==="throw"&&ve.i.return&&(xe.method="return",xe.arg=e,te(ve,xe),xe.method==="throw")||Pe!=="return"&&(xe.method="throw",xe.arg=new TypeError("The iterator does not provide a '"+Pe+"' method")),T;var Oe=I(we,ve.i,xe.arg);if(Oe.type==="throw")return xe.method="throw",xe.arg=Oe.arg,xe.delegate=null,T;var Xe=Oe.arg;return Xe?Xe.done?(xe[ve.r]=Xe.value,xe.next=ve.n,xe.method!=="return"&&(xe.method="next",xe.arg=e),xe.delegate=null,T):Xe:(xe.method="throw",xe.arg=new TypeError("iterator result is not an object"),xe.delegate=null,T)}function oe(ve){this.tryEntries.push(ve)}function ue(ve){var xe=ve[4]||{};xe.type="normal",xe.arg=e,ve[4]=xe}function Ie(ve){this.tryEntries=[[-1]],ve.forEach(oe,this),this.reset(!0)}function Ee(ve){if(ve!=null){var xe=ve[o];if(xe)return xe.call(ve);if(typeof ve.next=="function")return ve;if(!isNaN(ve.length)){var Pe=-1,we=function Oe(){for(;++Pe<ve.length;)if(n.call(ve,Pe))return Oe.value=ve[Pe],Oe.done=!1,Oe;return Oe.value=e,Oe.done=!0,Oe};return we.next=we}}throw new TypeError(Nn(ve)+" is not iterable")}return q.prototype=z,g(F,"constructor",z),g(z,"constructor",q),q.displayName=g(z,d,"GeneratorFunction"),t.isGeneratorFunction=function(ve){var xe=typeof ve=="function"&&ve.constructor;return!!xe&&(xe===q||(xe.displayName||xe.name)==="GeneratorFunction")},t.mark=function(ve){return Object.setPrototypeOf?Object.setPrototypeOf(ve,z):(ve.__proto__=z,g(ve,d,"GeneratorFunction")),ve.prototype=Object.create(F),ve},t.awrap=function(ve){return{__await:ve}},H(Y.prototype),g(Y.prototype,u,function(){return this}),t.AsyncIterator=Y,t.async=function(ve,xe,Pe,we,Oe){Oe===void 0&&(Oe=Promise);var Xe=new Y(_(ve,xe,Pe,we),Oe);return t.isGeneratorFunction(xe)?Xe:Xe.next().then(function(lt){return lt.done?lt.value:Xe.next()})},H(F),g(F,d,"Generator"),g(F,o,function(){return this}),g(F,"toString",function(){return"[object Generator]"}),t.keys=function(ve){var xe=Object(ve),Pe=[];for(var we in xe)Pe.unshift(we);return function Oe(){for(;Pe.length;)if((we=Pe.pop())in xe)return Oe.value=we,Oe.done=!1,Oe;return Oe.done=!0,Oe}},t.values=Ee,Ie.prototype={constructor:Ie,reset:function(xe){if(this.prev=this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(ue),!xe)for(var Pe in this)Pe.charAt(0)==="t"&&n.call(this,Pe)&&!isNaN(+Pe.slice(1))&&(this[Pe]=e)},stop:function(){this.done=!0;var xe=this.tryEntries[0][4];if(xe.type==="throw")throw xe.arg;return this.rval},dispatchException:function(xe){if(this.done)throw xe;var Pe=this;function we(bt){lt.type="throw",lt.arg=xe,Pe.next=bt}for(var Oe=Pe.tryEntries.length-1;Oe>=0;--Oe){var Xe=this.tryEntries[Oe],lt=Xe[4],pt=this.prev,qe=Xe[1],ut=Xe[2];if(Xe[0]===-1)return we("end"),!1;if(!qe&&!ut)throw Error("try statement without catch or finally");if(Xe[0]!=null&&Xe[0]<=pt){if(pt<qe)return this.method="next",this.arg=e,we(qe),!0;if(pt<ut)return we(ut),!1}}},abrupt:function(xe,Pe){for(var we=this.tryEntries.length-1;we>=0;--we){var Oe=this.tryEntries[we];if(Oe[0]>-1&&Oe[0]<=this.prev&&this.prev<Oe[2]){var Xe=Oe;break}}Xe&&(xe==="break"||xe==="continue")&&Xe[0]<=Pe&&Pe<=Xe[2]&&(Xe=null);var lt=Xe?Xe[4]:{};return lt.type=xe,lt.arg=Pe,Xe?(this.method="next",this.next=Xe[2],T):this.complete(lt)},complete:function(xe,Pe){if(xe.type==="throw")throw xe.arg;return xe.type==="break"||xe.type==="continue"?this.next=xe.arg:xe.type==="return"?(this.rval=this.arg=xe.arg,this.method="return",this.next="end"):xe.type==="normal"&&Pe&&(this.next=Pe),T},finish:function(xe){for(var Pe=this.tryEntries.length-1;Pe>=0;--Pe){var we=this.tryEntries[Pe];if(we[2]===xe)return this.complete(we[4],we[3]),ue(we),T}},catch:function(xe){for(var Pe=this.tryEntries.length-1;Pe>=0;--Pe){var we=this.tryEntries[Pe];if(we[0]===xe){var Oe=we[4];if(Oe.type==="throw"){var Xe=Oe.arg;ue(we)}return Xe}}throw Error("illegal catch attempt")},delegateYield:function(xe,Pe,we){return this.delegate={i:Ee(xe),r:Pe,n:we},this.method==="next"&&(this.arg=e),T}},t}p();function CUe(e,t,r,n,i,o,u){try{var d=e[o](u),g=d.value}catch(_){return void r(_)}d.done?t(g):Promise.resolve(g).then(n,i)}function AUe(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function u(g){CUe(o,n,i,u,d,"next",g)}function d(g){CUe(o,n,i,u,d,"throw",g)}u(void 0)})}}var G_=se(Je());var PUe=["measure","alignPre","align",null,"motion"],OUe=function(e,t){var r=Qf(null),n=Rn(r,2),i=n[0],o=n[1],u=(0,G_.useRef)();function d(I){o(I,!0)}function g(){el.cancel(u.current)}function _(I){g(),u.current=el(function(){d(function(T){switch(i){case"align":return"motion";case"motion":return"stable";default:}return T}),I==null||I()})}return(0,G_.useEffect)(function(){d("measure")},[e]),(0,G_.useEffect)(function(){switch(i){case"measure":t();break;default:}i&&(u.current=el(AUe(cR().mark(function I(){var T,A;return cR().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:T=PUe.indexOf(i),A=PUe[T+1],A&&T!==-1&&d(A);case 3:case"end":return z.stop()}},I)}))))},[i]),(0,G_.useEffect)(function(){return function(){g()}},[]),[i,_]};p();var pR=se(Je()),DUe=function(e){var t=pR.useState({width:0,height:0}),r=Rn(t,2),n=r[0],i=r[1];function o(d){var g=d.offsetWidth,_=d.offsetHeight,I=d.getBoundingClientRect(),T=I.width,A=I.height;Math.abs(g-T)<1&&Math.abs(_-A)<1&&(g=T,_=A),i({width:g,height:_})}var u=pR.useMemo(function(){var d={};if(e){var g=n.width,_=n.height;e.indexOf("height")!==-1&&_?d.height=_:e.indexOf("minHeight")!==-1&&_&&(d.minHeight=_),e.indexOf("width")!==-1&&g?d.width=g:e.indexOf("minWidth")!==-1&&g&&(d.minWidth=g)}return d},[e,n]);return[u,o]};var NUe=Ol.forwardRef(function(e,t){var r=e.visible,n=e.prefixCls,i=e.className,o=e.style,u=e.children,d=e.zIndex,g=e.stretch,_=e.destroyPopupOnHide,I=e.forceRender,T=e.align,A=e.point,q=e.getRootDomNode,z=e.getClassNameFromAlign,U=e.onAlign,N=e.onMouseEnter,L=e.onMouseLeave,F=e.onMouseDown,H=e.onTouchStart,Y=e.onClick,te=(0,bv.useRef)(),oe=(0,bv.useRef)(),ue=(0,bv.useState)(),Ie=Rn(ue,2),Ee=Ie[0],ve=Ie[1],xe=DUe(g),Pe=Rn(xe,2),we=Pe[0],Oe=Pe[1];function Xe(){g&&Oe(q())}var lt=OUe(r,Xe),pt=Rn(lt,2),qe=pt[0],ut=pt[1],bt=(0,bv.useState)(0),wt=Rn(bt,2),Ge=wt[0],st=wt[1],tt=(0,bv.useRef)();xI(function(){qe==="alignPre"&&st(0)},[qe]);function je(){return A||q}function Me(){var It;(It=te.current)===null||It===void 0||It.forceAlign()}function $e(It,Wt){var Et=z(Wt);Ee!==Et&&ve(Et),st(function(kt){return kt+1}),qe==="align"&&(U==null||U(It,Wt))}xI(function(){qe==="align"&&(Ge<3?Me():ut(function(){var It;(It=tt.current)===null||It===void 0||It.call(tt)}))},[Ge]);var ze=Ut({},JN(e));["onAppearEnd","onEnterEnd","onLeaveEnd"].forEach(function(It){var Wt=ze[It];ze[It]=function(Et,kt){return ut(),Wt==null?void 0:Wt(Et,kt)}});function ot(){return new Promise(function(It){tt.current=It})}Ol.useEffect(function(){!ze.motionName&&qe==="motion"&&ut()},[ze.motionName,qe]),Ol.useImperativeHandle(t,function(){return{forceAlign:Me,getElement:function(){return oe.current}}});var it=Ut(Ut({},we),{},{zIndex:d,opacity:qe==="motion"||qe==="stable"||!r?void 0:0,pointerEvents:!r&&qe!=="stable"?"none":void 0},o),vt=!0;T!=null&&T.points&&(qe==="align"||qe==="stable")&&(vt=!1);var ht=u;return Ol.Children.count(u)>1&&(ht=Ol.createElement("div",{className:"".concat(n,"-content")},u)),Ol.createElement(U_,yn({visible:r,ref:oe,leavedClassName:"".concat(n,"-hidden")},ze,{onAppearPrepare:ot,onEnterPrepare:ot,removeOnLeave:_,forceRender:I}),function(It,Wt){var Et=It.className,kt=It.style,Xt=(0,kUe.default)(n,i,Ee,Et);return Ol.createElement(MUe,{target:je(),key:"popup",ref:te,monitorWindowResize:!0,disabled:vt,align:T,onAlign:$e},Ol.createElement("div",{ref:Wt,className:Xt,onMouseEnter:N,onMouseLeave:L,onMouseDownCapture:F,onTouchStartCapture:H,onClick:Y,style:Ut(Ut({},kt),it)},ht))})});NUe.displayName="PopupInner";var RUe=NUe;p();var xu=se(Je());var LUe=se(fn()),qUe=xu.forwardRef(function(e,t){var r=e.prefixCls,n=e.visible,i=e.zIndex,o=e.children,u=e.mobile;u=u===void 0?{}:u;var d=u.popupClassName,g=u.popupStyle,_=u.popupMotion,I=_===void 0?{}:_,T=u.popupRender,A=e.onClick,q=xu.useRef();xu.useImperativeHandle(t,function(){return{forceAlign:function(){},getElement:function(){return q.current}}});var z=Ut({zIndex:i},g),U=o;return xu.Children.count(o)>1&&(U=xu.createElement("div",{className:"".concat(r,"-content")},o)),T&&(U=T(U)),xu.createElement(U_,yn({visible:n,ref:q,removeOnLeave:!0},I),function(N,L){var F=N.className,H=N.style,Y=(0,LUe.default)(r,d,F);return xu.createElement("div",{ref:L,className:Y,onClick:A,style:Ut(Ut({},H),z)},U)})});qUe.displayName="MobilePopupInner";var zUe=qUe;var jmr=["visible","mobile"],jUe=xv.forwardRef(function(e,t){var r=e.visible,n=e.mobile,i=Ss(e,jmr),o=(0,AI.useState)(r),u=Rn(o,2),d=u[0],g=u[1],_=(0,AI.useState)(!1),I=Rn(_,2),T=I[0],A=I[1],q=Ut(Ut({},i),{},{visible:d});(0,AI.useEffect)(function(){g(r),r&&n&&A(xBe())},[r,n]);var z=T?xv.createElement(zUe,yn({},q,{mobile:n,ref:t})):xv.createElement(RUe,yn({},q,{ref:t}));return xv.createElement("div",null,xv.createElement(WX,q),z)});jUe.displayName="Popup";var FUe=jUe;p();var BUe=se(Je()),Fmr=BUe.createContext(null),uQ=Fmr;function cQ(){}function Bmr(){return""}function Umr(e){return e?e.ownerDocument:window.document}var Vmr=["onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur","onContextMenu"];function $mr(e){var t=function(r){ns(i,r);var n=is(i);function i(o){var u;ts(this,i),u=n.call(this,o),Ot(Yr(u),"popupRef",Dl.createRef()),Ot(Yr(u),"triggerRef",Dl.createRef()),Ot(Yr(u),"portalContainer",void 0),Ot(Yr(u),"attachId",void 0),Ot(Yr(u),"clickOutsideHandler",void 0),Ot(Yr(u),"touchOutsideHandler",void 0),Ot(Yr(u),"contextMenuOutsideHandler1",void 0),Ot(Yr(u),"contextMenuOutsideHandler2",void 0),Ot(Yr(u),"mouseDownTimeout",void 0),Ot(Yr(u),"focusTime",void 0),Ot(Yr(u),"preClickTime",void 0),Ot(Yr(u),"preTouchTime",void 0),Ot(Yr(u),"delayTimer",void 0),Ot(Yr(u),"hasPopupMouseDown",void 0),Ot(Yr(u),"onMouseEnter",function(g){var _=u.props.mouseEnterDelay;u.fireEvents("onMouseEnter",g),u.delaySetPopupVisible(!0,_,_?null:g)}),Ot(Yr(u),"onMouseMove",function(g){u.fireEvents("onMouseMove",g),u.setPoint(g)}),Ot(Yr(u),"onMouseLeave",function(g){u.fireEvents("onMouseLeave",g),u.delaySetPopupVisible(!1,u.props.mouseLeaveDelay)}),Ot(Yr(u),"onPopupMouseEnter",function(){u.clearDelayTimer()}),Ot(Yr(u),"onPopupMouseLeave",function(g){var _;g.relatedTarget&&!g.relatedTarget.setTimeout&&vv((_=u.popupRef.current)===null||_===void 0?void 0:_.getElement(),g.relatedTarget)||u.delaySetPopupVisible(!1,u.props.mouseLeaveDelay)}),Ot(Yr(u),"onFocus",function(g){u.fireEvents("onFocus",g),u.clearDelayTimer(),u.isFocusToShow()&&(u.focusTime=Date.now(),u.delaySetPopupVisible(!0,u.props.focusDelay))}),Ot(Yr(u),"onMouseDown",function(g){u.fireEvents("onMouseDown",g),u.preClickTime=Date.now()}),Ot(Yr(u),"onTouchStart",function(g){u.fireEvents("onTouchStart",g),u.preTouchTime=Date.now()}),Ot(Yr(u),"onBlur",function(g){u.fireEvents("onBlur",g),u.clearDelayTimer(),u.isBlurToHide()&&u.delaySetPopupVisible(!1,u.props.blurDelay)}),Ot(Yr(u),"onContextMenu",function(g){g.preventDefault(),u.fireEvents("onContextMenu",g),u.setPopupVisible(!0,g)}),Ot(Yr(u),"onContextMenuClose",function(){u.isContextMenuToShow()&&u.close()}),Ot(Yr(u),"onClick",function(g){if(u.fireEvents("onClick",g),u.focusTime){var _;if(u.preClickTime&&u.preTouchTime?_=Math.min(u.preClickTime,u.preTouchTime):u.preClickTime?_=u.preClickTime:u.preTouchTime&&(_=u.preTouchTime),Math.abs(_-u.focusTime)<20)return;u.focusTime=0}u.preClickTime=0,u.preTouchTime=0,u.isClickToShow()&&(u.isClickToHide()||u.isBlurToHide())&&g&&g.preventDefault&&g.preventDefault();var I=!u.state.popupVisible;(u.isClickToHide()&&!I||I&&u.isClickToShow())&&u.setPopupVisible(!u.state.popupVisible,g)}),Ot(Yr(u),"onPopupMouseDown",function(){if(u.hasPopupMouseDown=!0,clearTimeout(u.mouseDownTimeout),u.mouseDownTimeout=window.setTimeout(function(){u.hasPopupMouseDown=!1},0),u.context){var g;(g=u.context).onPopupMouseDown.apply(g,arguments)}}),Ot(Yr(u),"onDocumentClick",function(g){if(!(u.props.mask&&!u.props.maskClosable)){var _=g.target,I=u.getRootDomNode(),T=u.getPopupDomNode();(!vv(I,_)||u.isContextMenuOnly())&&!vv(T,_)&&!u.hasPopupMouseDown&&u.close()}}),Ot(Yr(u),"getRootDomNode",function(){var g=u.props.getTriggerDOMNode;if(g)return g(u.triggerRef.current);try{var _=yI(u.triggerRef.current);if(_)return _}catch(I){}return UUe.default.findDOMNode(Yr(u))}),Ot(Yr(u),"getPopupClassNameFromAlign",function(g){var _=[],I=u.props,T=I.popupPlacement,A=I.builtinPlacements,q=I.prefixCls,z=I.alignPoint,U=I.getPopupClassNameFromAlign;return T&&A&&_.push(_Be(A,q,g,z)),U&&_.push(U(g)),_.join(" ")}),Ot(Yr(u),"getComponent",function(){var g=u.props,_=g.prefixCls,I=g.destroyPopupOnHide,T=g.popupClassName,A=g.onPopupAlign,q=g.popupMotion,z=g.popupAnimation,U=g.popupTransitionName,N=g.popupStyle,L=g.mask,F=g.maskAnimation,H=g.maskTransitionName,Y=g.maskMotion,te=g.zIndex,oe=g.popup,ue=g.stretch,Ie=g.alignPoint,Ee=g.mobile,ve=g.forceRender,xe=g.onPopupClick,Pe=u.state,we=Pe.popupVisible,Oe=Pe.point,Xe=u.getPopupAlign(),lt={};return u.isMouseEnterToShow()&&(lt.onMouseEnter=u.onPopupMouseEnter),u.isMouseLeaveToHide()&&(lt.onMouseLeave=u.onPopupMouseLeave),lt.onMouseDown=u.onPopupMouseDown,lt.onTouchStart=u.onPopupMouseDown,Dl.createElement(FUe,yn({prefixCls:_,destroyPopupOnHide:I,visible:we,point:Ie&&Oe,className:T,align:Xe,onAlign:A,animation:z,getClassNameFromAlign:u.getPopupClassNameFromAlign},lt,{stretch:ue,getRootDomNode:u.getRootDomNode,style:N,mask:L,zIndex:te,transitionName:U,maskAnimation:F,maskTransitionName:H,maskMotion:Y,ref:u.popupRef,motion:q,mobile:Ee,forceRender:ve,onClick:xe}),typeof oe=="function"?oe():oe)}),Ot(Yr(u),"attachParent",function(g){el.cancel(u.attachId);var _=u.props,I=_.getPopupContainer,T=_.getDocument,A=u.getRootDomNode(),q;I?(A||I.length===0)&&(q=I(A)):q=T(u.getRootDomNode()).body,q?q.appendChild(g):u.attachId=el(function(){u.attachParent(g)})}),Ot(Yr(u),"getContainer",function(){if(!u.portalContainer){var g=u.props.getDocument,_=g(u.getRootDomNode()).createElement("div");_.style.position="absolute",_.style.top="0",_.style.left="0",_.style.width="100%",u.portalContainer=_}return u.attachParent(u.portalContainer),u.portalContainer}),Ot(Yr(u),"setPoint",function(g){var _=u.props.alignPoint;!_||!g||u.setState({point:{pageX:g.pageX,pageY:g.pageY}})}),Ot(Yr(u),"handlePortalUpdate",function(){u.state.prevPopupVisible!==u.state.popupVisible&&u.props.afterPopupVisibleChange(u.state.popupVisible)}),Ot(Yr(u),"triggerContextValue",{onPopupMouseDown:u.onPopupMouseDown});var d;return"popupVisible"in o?d=!!o.popupVisible:d=!!o.defaultPopupVisible,u.state={prevPopupVisible:d,popupVisible:d},Vmr.forEach(function(g){u["fire".concat(g)]=function(_){u.fireEvents(g,_)}}),u}return rs(i,[{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){var u=this.props,d=this.state;if(d.popupVisible){var g;!this.clickOutsideHandler&&(this.isClickToHide()||this.isContextMenuToShow())&&(g=u.getDocument(this.getRootDomNode()),this.clickOutsideHandler=Es(g,"mousedown",this.onDocumentClick)),this.touchOutsideHandler||(g=g||u.getDocument(this.getRootDomNode()),this.touchOutsideHandler=Es(g,"touchstart",this.onDocumentClick)),!this.contextMenuOutsideHandler1&&this.isContextMenuToShow()&&(g=g||u.getDocument(this.getRootDomNode()),this.contextMenuOutsideHandler1=Es(g,"scroll",this.onContextMenuClose)),!this.contextMenuOutsideHandler2&&this.isContextMenuToShow()&&(this.contextMenuOutsideHandler2=Es(window,"blur",this.onContextMenuClose));return}this.clearOutsideHandler()}},{key:"componentWillUnmount",value:function(){this.clearDelayTimer(),this.clearOutsideHandler(),clearTimeout(this.mouseDownTimeout),el.cancel(this.attachId)}},{key:"getPopupDomNode",value:function(){var u;return((u=this.popupRef.current)===null||u===void 0?void 0:u.getElement())||null}},{key:"getPopupAlign",value:function(){var u=this.props,d=u.popupPlacement,g=u.popupAlign,_=u.builtinPlacements;return d&&_?yBe(_,d,g):g}},{key:"setPopupVisible",value:function(u,d){var g=this.props.alignPoint,_=this.state.popupVisible;this.clearDelayTimer(),_!==u&&("popupVisible"in this.props||this.setState({popupVisible:u,prevPopupVisible:_}),this.props.onPopupVisibleChange(u)),g&&d&&u&&this.setPoint(d)}},{key:"delaySetPopupVisible",value:function(u,d,g){var _=this,I=d*1e3;if(this.clearDelayTimer(),I){var T=g?{pageX:g.pageX,pageY:g.pageY}:null;this.delayTimer=window.setTimeout(function(){_.setPopupVisible(u,T),_.clearDelayTimer()},I)}else this.setPopupVisible(u,g)}},{key:"clearDelayTimer",value:function(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)}},{key:"clearOutsideHandler",value:function(){this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.clickOutsideHandler=null),this.contextMenuOutsideHandler1&&(this.contextMenuOutsideHandler1.remove(),this.contextMenuOutsideHandler1=null),this.contextMenuOutsideHandler2&&(this.contextMenuOutsideHandler2.remove(),this.contextMenuOutsideHandler2=null),this.touchOutsideHandler&&(this.touchOutsideHandler.remove(),this.touchOutsideHandler=null)}},{key:"createTwoChains",value:function(u){var d=this.props.children.props,g=this.props;return d[u]&&g[u]?this["fire".concat(u)]:d[u]||g[u]}},{key:"isClickToShow",value:function(){var u=this.props,d=u.action,g=u.showAction;return d.indexOf("click")!==-1||g.indexOf("click")!==-1}},{key:"isContextMenuOnly",value:function(){var u=this.props.action;return u==="contextMenu"||u.length===1&&u[0]==="contextMenu"}},{key:"isContextMenuToShow",value:function(){var u=this.props,d=u.action,g=u.showAction;return d.indexOf("contextMenu")!==-1||g.indexOf("contextMenu")!==-1}},{key:"isClickToHide",value:function(){var u=this.props,d=u.action,g=u.hideAction;return d.indexOf("click")!==-1||g.indexOf("click")!==-1}},{key:"isMouseEnterToShow",value:function(){var u=this.props,d=u.action,g=u.showAction;return d.indexOf("hover")!==-1||g.indexOf("mouseEnter")!==-1}},{key:"isMouseLeaveToHide",value:function(){var u=this.props,d=u.action,g=u.hideAction;return d.indexOf("hover")!==-1||g.indexOf("mouseLeave")!==-1}},{key:"isFocusToShow",value:function(){var u=this.props,d=u.action,g=u.showAction;return d.indexOf("focus")!==-1||g.indexOf("focus")!==-1}},{key:"isBlurToHide",value:function(){var u=this.props,d=u.action,g=u.hideAction;return d.indexOf("focus")!==-1||g.indexOf("blur")!==-1}},{key:"forcePopupAlign",value:function(){if(this.state.popupVisible){var u;(u=this.popupRef.current)===null||u===void 0||u.forceAlign()}}},{key:"fireEvents",value:function(u,d){var g=this.props.children.props[u];g&&g(d);var _=this.props[u];_&&_(d)}},{key:"close",value:function(){this.setPopupVisible(!1)}},{key:"render",value:function(){var u=this.state.popupVisible,d=this.props,g=d.children,_=d.forceRender,I=d.alignPoint,T=d.className,A=d.autoDestroy,q=Dl.Children.only(g),z={key:"trigger"};this.isContextMenuToShow()?z.onContextMenu=this.onContextMenu:z.onContextMenu=this.createTwoChains("onContextMenu"),this.isClickToHide()||this.isClickToShow()?(z.onClick=this.onClick,z.onMouseDown=this.onMouseDown,z.onTouchStart=this.onTouchStart):(z.onClick=this.createTwoChains("onClick"),z.onMouseDown=this.createTwoChains("onMouseDown"),z.onTouchStart=this.createTwoChains("onTouchStart")),this.isMouseEnterToShow()?(z.onMouseEnter=this.onMouseEnter,I&&(z.onMouseMove=this.onMouseMove)):z.onMouseEnter=this.createTwoChains("onMouseEnter"),this.isMouseLeaveToHide()?z.onMouseLeave=this.onMouseLeave:z.onMouseLeave=this.createTwoChains("onMouseLeave"),this.isFocusToShow()||this.isBlurToHide()?(z.onFocus=this.onFocus,z.onBlur=this.onBlur):(z.onFocus=this.createTwoChains("onFocus"),z.onBlur=this.createTwoChains("onBlur"));var U=(0,VUe.default)(q&&q.props&&q.props.className,T);U&&(z.className=U);var N=Ut({},z);bI(q)&&(N.ref=j_(this.triggerRef,q.ref));var L=Dl.cloneElement(q,N),F;return(u||this.popupRef.current||_)&&(F=Dl.createElement(e,{key:"portal",getContainer:this.getContainer,didUpdate:this.handlePortalUpdate},this.getComponent())),!u&&A&&(F=null),Dl.createElement(uQ.Provider,{value:this.triggerContextValue},L,F)}}],[{key:"getDerivedStateFromProps",value:function(u,d){var g=u.popupVisible,_={};return g!==void 0&&d.popupVisible!==g&&(_.popupVisible=g,_.prevPopupVisible=d.popupVisible),_}}]),i}(Dl.Component);return Ot(t,"contextType",uQ),Ot(t,"defaultProps",{prefixCls:"rc-trigger-popup",getPopupClassNameFromAlign:Bmr,getDocument:Umr,onPopupVisibleChange:cQ,afterPopupVisibleChange:cQ,onPopupAlign:cQ,popupClassName:"",mouseEnterDelay:0,mouseLeaveDelay:.1,focusDelay:0,blurDelay:.15,popupStyle:{},destroyPopupOnHide:!1,popupAlign:{},defaultPopupVisible:!1,mask:!1,maskClosable:!0,action:[],showAction:[],hideAction:[],autoDestroy:!1}),t}var $Ue=$mr(vBe);p();var wu={adjustX:1,adjustY:1},Su=[0,0],GUe={left:{points:["cr","cl"],overflow:wu,offset:[-4,0],targetOffset:Su},right:{points:["cl","cr"],overflow:wu,offset:[4,0],targetOffset:Su},top:{points:["bc","tc"],overflow:wu,offset:[0,-4],targetOffset:Su},bottom:{points:["tc","bc"],overflow:wu,offset:[0,4],targetOffset:Su},topLeft:{points:["bl","tl"],overflow:wu,offset:[0,-4],targetOffset:Su},leftTop:{points:["tr","tl"],overflow:wu,offset:[-4,0],targetOffset:Su},topRight:{points:["br","tr"],overflow:wu,offset:[0,-4],targetOffset:Su},rightTop:{points:["tl","tr"],overflow:wu,offset:[4,0],targetOffset:Su},bottomRight:{points:["tr","br"],overflow:wu,offset:[0,4],targetOffset:Su},rightBottom:{points:["bl","br"],overflow:wu,offset:[4,0],targetOffset:Su},bottomLeft:{points:["tl","bl"],overflow:wu,offset:[0,4],targetOffset:Su},leftBottom:{points:["br","bl"],overflow:wu,offset:[-4,0],targetOffset:Su}};p();var fR=se(Je()),HUe=se(fn());function dR(e){var t=e.showArrow,r=e.arrowContent,n=e.children,i=e.prefixCls,o=e.id,u=e.overlayInnerStyle,d=e.className,g=e.style;return fR.createElement("div",{className:(0,HUe.default)("".concat(i,"-content"),d),style:g},t!==!1&&fR.createElement("div",{className:"".concat(i,"-arrow"),key:"arrow"},r),fR.createElement("div",{className:"".concat(i,"-inner"),id:o,role:"tooltip",style:u},typeof n=="function"?n():n))}var Gmr=["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle","arrowContent","overlay","id","showArrow"],Hmr=function(t,r){var n=t.overlayClassName,i=t.trigger,o=i===void 0?["hover"]:i,u=t.mouseEnterDelay,d=u===void 0?0:u,g=t.mouseLeaveDelay,_=g===void 0?.1:g,I=t.overlayStyle,T=t.prefixCls,A=T===void 0?"rc-tooltip":T,q=t.children,z=t.onVisibleChange,U=t.afterVisibleChange,N=t.transitionName,L=t.animation,F=t.motion,H=t.placement,Y=H===void 0?"right":H,te=t.align,oe=te===void 0?{}:te,ue=t.destroyTooltipOnHide,Ie=ue===void 0?!1:ue,Ee=t.defaultVisible,ve=t.getTooltipContainer,xe=t.overlayInnerStyle,Pe=t.arrowContent,we=t.overlay,Oe=t.id,Xe=t.showArrow,lt=Xe===void 0?!0:Xe,pt=Ss(t,Gmr),qe=(0,H_.useRef)(null);(0,H_.useImperativeHandle)(r,function(){return qe.current});var ut=Ut({},pt);"visible"in t&&(ut.popupVisible=t.visible);var bt=function(){return pQ.createElement(dR,{showArrow:lt,arrowContent:Pe,key:"content",prefixCls:A,id:Oe,overlayInnerStyle:xe},we)},wt=!1,Ge=!1;if(typeof Ie=="boolean")wt=Ie;else if(Ie&&Nn(Ie)==="object"){var st=Ie.keepParent;wt=st===!0,Ge=st===!1}return pQ.createElement($Ue,yn({popupClassName:n,prefixCls:A,popup:bt,action:o,builtinPlacements:GUe,popupPlacement:Y,ref:qe,popupAlign:oe,getPopupContainer:ve,onPopupVisibleChange:z,afterPopupVisibleChange:U,popupTransitionName:N,popupAnimation:L,popupMotion:F,defaultPopupVisible:Ee,destroyPopupOnHide:wt,autoDestroy:Ge,mouseLeaveDelay:_,popupStyle:I,mouseEnterDelay:d},ut),q)},WUe=(0,H_.forwardRef)(Hmr);var ZUe=WUe;var Wmr=td.forwardRef(function(e,t){var r=e.visible,n=e.overlay,i=td.useRef(null),o=j_(t,i),u=td.useRef(null);function d(){el.cancel(u.current)}function g(){u.current=el(function(){var _;(_=i.current)===null||_===void 0||_.forcePopupAlign()})}return td.useEffect(function(){return r?g():d(),d},[r,n]),td.createElement(ZUe,yn({ref:o},e))}),fQ=Wmr;function dQ(e){var t;return t=function(r){ns(i,r);var n=is(i);function i(){var o;return ts(this,i),o=n.apply(this,arguments),o.state={visibles:{}},o.handleTooltipVisibleChange=function(u,d){o.setState(function(g){return{visibles:Ut(Ut({},g.visibles),{},Ot({},u,d))}})},o.handleWithTooltip=function(u){var d=u.value,g=u.dragging,_=u.index,I=u.disabled,T=Ss(u,["value","dragging","index","disabled"]),A=o.props,q=A.tipFormatter,z=A.tipProps,U=A.handleStyle,N=A.getTooltipContainer,L=z.prefixCls,F=L===void 0?"rc-slider-tooltip":L,H=z.overlay,Y=H===void 0?q(d):H,te=z.placement,oe=te===void 0?"top":te,ue=z.visible,Ie=ue===void 0?!1:ue,Ee=Ss(z,["prefixCls","overlay","placement","visible"]),ve;return Array.isArray(U)?ve=U[_]||U[0]:ve=U,PI.default.createElement(fQ,yn({},Ee,{getTooltipContainer:N,prefixCls:F,overlay:Y,placement:oe,visible:!I&&(o.state.visibles[_]||g)||Ie,key:_}),PI.default.createElement(q_,yn({},T,{style:Ut({},ve),value:d,onMouseEnter:function(){return o.handleTooltipVisibleChange(_,!0)},onMouseLeave:function(){return o.handleTooltipVisibleChange(_,!1)}})))},o}return rs(i,[{key:"render",value:function(){return PI.default.createElement(e,yn({},this.props,{handle:this.handleWithTooltip}))}}]),i}(PI.default.Component),t.defaultProps={tipFormatter:function(n){return n},handleStyle:[{}],tipProps:{},getTooltipContainer:function(n){return n.parentNode}},t}var hQ=rBe;hQ.Range=EN;hQ.Handle=q_;hQ.createSliderWithTooltip=dQ;p();var W_=se(Qt(),1),Ci=se(Je(),1);p();p();var xc=se(Qt(),1),kl=se(Je(),1);function Zmr(e,t){function r(n){return n>="0"&&n<="9"}return e.split("").some(n=>!r(n)&&n!==t)}var YUe=(0,kl.forwardRef)(function({className:t,value:r,onBlur:n=()=>{},onKeyDown:i=()=>{},onChange:o=()=>{},readOnly:u,tabIndex:d,placeholder:g,name:_},I){let[T,A]=(0,kl.useState)(r),[q,z]=(0,kl.useState)(r);q!==r&&(z(r),A(r));let U=(0,kl.useMemo)(()=>kr.getSettings().LANGUAGE_CODE===k1.DE?".":"/",[]),N=(0,kl.useCallback)(F=>{let H=`${F.target.value}`;Zmr(H,U)||H.length>10||(A(F.target.value),o(F.target.value))},[U]),L=(0,kl.useCallback)(F=>{n(F,T)},[T,n]);return kl.default.createElement("div",{className:"date-input-root"},kl.default.createElement("input",{className:wr(u&&"readonly",t),ref:I,value:T,onBlur:L,onKeyDown:i,onChange:N,readOnly:u!=null?u:void 0,tabIndex:d!=null?d:void 0,placeholder:g!=null?g:void 0,name:_!=null?_:void 0}))});YUe.propTypes={value:xc.default.string.isRequired,className:xc.default.string,onBlur:xc.default.func,onKeyDown:xc.default.func,onChange:xc.default.func,readOnly:xc.default.bool,tabIndex:xc.default.number,placeholder:xc.default.string,defaultValue:xc.default.string,name:xc.default.string};var KUe=YUe;var mQ=KUe;p();p();var Jt=se(Je(),1),XUe=se(Qt(),1);var Ymr={addVectorMap:Jt.default.createElement("svg",{width:"20",height:"16",viewBox:"0 0 20 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Jt.default.createElement("path",{d:"M5.3888 13.0958C5.31376 12.9926 5.21482 12.9091 5.10047 12.8525C4.19363 12.4067 3.42983 11.7158 2.89568 10.8581C2.36152 10.0003 2.0784 9.01005 2.0784 7.99957C2.0784 6.9891 2.36152 5.99884 2.89568 5.14109C3.42983 4.28334 4.19363 3.59241 5.10047 3.14666C5.21477 3.09032 5.3137 3.00711 5.3888 2.90416L5.4063 2.87916C5.51654 2.73062 5.57378 2.54941 5.56886 2.3645C5.56394 2.17959 5.49715 2.00167 5.37917 1.85921C5.26118 1.71674 5.09883 1.61797 4.91808 1.57868C4.73732 1.53939 4.54861 1.56186 4.38214 1.64249C3.19133 2.22398 2.18778 3.12823 1.48579 4.25223C0.783811 5.37623 0.411621 6.67479 0.411621 7.99999C0.411621 9.32519 0.783811 10.6237 1.48579 11.7477C2.18778 12.8717 3.19133 13.776 4.38214 14.3575C4.54869 14.4376 4.73726 14.4596 4.9178 14.4201C5.09833 14.3805 5.26043 14.2817 5.37826 14.1393C5.4961 13.997 5.56288 13.8192 5.56796 13.6345C5.57304 13.4498 5.51613 13.2686 5.4063 13.12L5.3888 13.0958Z",fill:"currentColor"}),Jt.default.createElement("path",{d:"M12.4946 0.5C11.0113 0.5 9.56122 0.939867 8.32785 1.76398C7.09449 2.58809 6.13319 3.75943 5.56554 5.12987C4.99788 6.50032 4.84935 8.00832 5.13874 9.46318C5.42813 10.918 6.14244 12.2544 7.19133 13.3033C8.24022 14.3522 9.5766 15.0665 11.0315 15.3559C12.4863 15.6453 13.9943 15.4968 15.3648 14.9291C16.7352 14.3614 17.9065 13.4001 18.7307 12.1668C19.5548 10.9334 19.9946 9.48336 19.9946 8C19.9924 6.01155 19.2015 4.10518 17.7955 2.69914C16.3895 1.29309 14.4831 0.502206 12.4946 0.5ZM12.4946 13.8333C11.3409 13.8333 10.2131 13.4912 9.25381 12.8502C8.29452 12.2093 7.54685 11.2982 7.10533 10.2323C6.66382 9.16642 6.5483 7.99353 6.77338 6.86197C6.99846 5.73042 7.55404 4.69102 8.36984 3.87521C9.18565 3.0594 10.225 2.50383 11.3566 2.27875C12.4882 2.05367 13.661 2.16919 14.727 2.6107C15.7929 3.05221 16.7039 3.79989 17.3449 4.75917C17.9858 5.71846 18.328 6.84628 18.328 8C18.3262 9.54655 17.7111 11.0293 16.6175 12.1228C15.5239 13.2164 14.0412 13.8316 12.4946 13.8333Z",fill:"currentColor"}),Jt.default.createElement("path",{d:"M15.6321 6.9583H13.7446C13.6893 6.9583 13.6364 6.93635 13.5973 6.89728C13.5582 6.85821 13.5363 6.80522 13.5363 6.74997V4.86247C13.5363 4.5862 13.4265 4.32125 13.2312 4.1259C13.0358 3.93055 12.7709 3.8208 12.4946 3.8208C12.2183 3.8208 11.9534 3.93055 11.758 4.1259C11.5627 4.32125 11.4529 4.5862 11.4529 4.86247V6.74997C11.4529 6.80522 11.431 6.85821 11.3919 6.89728C11.3528 6.93635 11.2999 6.9583 11.2446 6.9583H9.3571C9.08083 6.9583 8.81588 7.06805 8.62053 7.2634C8.42518 7.45875 8.31543 7.7237 8.31543 7.99997C8.31543 8.27623 8.42518 8.54119 8.62053 8.73654C8.81588 8.93189 9.08083 9.04163 9.3571 9.04163H11.2446C11.2999 9.04163 11.3528 9.06358 11.3919 9.10265C11.431 9.14172 11.4529 9.19471 11.4529 9.24997V11.1366C11.4529 11.4129 11.5627 11.6779 11.758 11.8732C11.9534 12.0686 12.2183 12.1783 12.4946 12.1783C12.7709 12.1783 13.0358 12.0686 13.2312 11.8732C13.4265 11.6779 13.5363 11.4129 13.5363 11.1366V9.24997C13.5363 9.19471 13.5582 9.14172 13.5973 9.10265C13.6364 9.06358 13.6893 9.04163 13.7446 9.04163H15.6321C15.9084 9.04163 16.1733 8.93189 16.3687 8.73654C16.564 8.54119 16.6738 8.27623 16.6738 7.99997C16.6738 7.7237 16.564 7.45875 16.3687 7.2634C16.1733 7.06805 15.9084 6.9583 15.6321 6.9583Z",fill:"currentColor"})),uploadVectorMap:Jt.default.createElement("svg",{width:"25",height:"24",viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Jt.default.createElement("path",{d:"M17.6616 10.5C13.9366 10.5 10.9116 13.525 10.9116 17.25C10.9116 20.975 13.9366 24 17.6616 24C21.3866 24 24.4116 20.975 24.4116 17.25C24.4116 13.525 21.3866 10.5 17.6616 10.5ZM17.6616 12C20.5596 12 22.9116 14.352 22.9116 17.25C22.9116 20.148 20.5596 22.5 17.6616 22.5C14.7636 22.5 12.4116 20.148 12.4116 17.25C12.4116 14.352 14.7636 12 17.6616 12ZM8.66162 19.5H2.66162C2.25062 19.5 1.91162 19.161 1.91162 18.75V2.25C1.91162 1.839 2.25062 1.5 2.66162 1.5H13.2896C13.4886 1.5 13.6796 1.579 13.8206 1.719L16.6936 4.591C16.8346 4.731 16.9136 4.922 16.9136 5.121V8.25C16.9136 8.664 17.2496 9 17.6636 9C18.0776 9 18.4136 8.664 18.4136 8.25V5.121C18.4136 4.524 18.1756 3.951 17.7536 3.529L14.8806 0.658C14.4586 0.237 13.8856 0 13.2896 0H2.66162C1.42762 0 0.411621 1.016 0.411621 2.25V18.75C0.411621 19.984 1.42762 21 2.66162 21H8.66162C9.07562 21 9.41162 20.664 9.41162 20.25C9.41162 19.836 9.07562 19.5 8.66162 19.5ZM8.88162 6.53L10.6006 8.25L8.88162 9.97C8.58862 10.262 8.58862 10.738 8.88162 11.03C9.17362 11.323 9.64962 11.323 9.94162 11.03L12.1916 8.78C12.4846 8.487 12.4846 8.013 12.1916 7.72L9.94162 5.47C9.64962 5.177 9.17362 5.177 8.88162 5.47C8.58862 5.762 8.58862 6.238 8.88162 6.53ZM5.88162 5.47L3.63162 7.72C3.33862 8.013 3.33862 8.487 3.63162 8.78L5.88162 11.03C6.17362 11.323 6.64962 11.323 6.94162 11.03C7.23462 10.738 7.23462 10.262 6.94162 9.97L5.22262 8.25L6.94162 6.53C7.23462 6.238 7.23462 5.762 6.94162 5.47C6.64962 5.177 6.17362 5.177 5.88162 5.47Z",fill:"currentColor"}),Jt.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.7167 13.6361C18.2138 13.6361 18.6167 14.0391 18.6167 14.5361V19.8171C18.6167 20.3141 18.2138 20.7171 17.7167 20.7171C17.2197 20.7171 16.8167 20.3141 16.8167 19.8171L16.8167 14.5361C16.8167 14.0391 17.2197 13.6361 17.7167 13.6361Z",fill:"currentColor"}),Jt.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.2572 17.1766C21.2572 17.6736 20.8543 18.0766 20.3572 18.0766H15.0763C14.5792 18.0766 14.1763 17.6736 14.1763 17.1766C14.1763 16.6795 14.5792 16.2766 15.0763 16.2766L20.3572 16.2766C20.8543 16.2766 21.2572 16.6795 21.2572 17.1766Z",fill:"currentColor"})),edit:Jt.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},Jt.default.createElement("path",{d:"M16.667 9.573a.833.833 0 0 0-.834.834v7.083a.834.834 0 0 1-.833.833H2.5a.833.833 0 0 1-.833-.833V3.323A.833.833 0 0 1 2.5 2.49h8.333a.833.833 0 0 0 0-1.667H2.5a2.5 2.5 0 0 0-2.5 2.5V17.49a2.5 2.5 0 0 0 2.5 2.5H15a2.5 2.5 0 0 0 2.5-2.5v-7.083a.833.833 0 0 0-.833-.834ZM19.513.482a1.706 1.706 0 0 0-2.357 0l-.884.884a.417.417 0 0 0 0 .589l1.767 1.767a.417.417 0 0 0 .59 0l.884-.884a1.666 1.666 0 0 0 0-2.356Z"}),Jt.default.createElement("path",{d:"m9.466 8.762 1.767 1.767a.417.417 0 0 0 .59 0l5.303-5.303a.417.417 0 0 0 0-.59l-1.769-1.769a.43.43 0 0 0-.589 0L9.466 8.172a.417.417 0 0 0 0 .59ZM8.624 9.363a.422.422 0 0 0-.303.25l-1.01 2.529a.416.416 0 0 0 .092.449.44.44 0 0 0 .45.092l2.525-1.01a.417.417 0 0 0 .14-.681L9 9.477a.417.417 0 0 0-.376-.114Z"})),"edit-inverse":Jt.default.createElement("svg",{viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},Jt.default.createElement("path",{d:"M7.98408 8.41697C7.87252 8.52907 7.73909 8.61704 7.59208 8.67538L5.53 9.50197C5.31774 9.58487 5.08603 9.60464 4.86279 9.5589C4.63955 9.51315 4.4343 9.40384 4.27175 9.24413C4.11028 9.0827 3.99972 8.87744 3.95379 8.65377C3.90785 8.43011 3.92856 8.19789 4.01333 7.98588L4.83758 5.92497C4.89649 5.77794 4.9846 5.64439 5.09658 5.53238L8.53067 2.09772C8.55074 2.07732 8.56439 2.05149 8.56994 2.02342C8.57549 1.99535 8.57269 1.96627 8.5619 1.93977C8.5511 1.91327 8.53277 1.89052 8.50918 1.87432C8.48559 1.85812 8.45778 1.84919 8.42917 1.84863H1.81883C1.33645 1.84863 0.873821 2.04026 0.532724 2.38136C0.191627 2.72245 0 3.18508 0 3.66747V11.6971C-1.22907e-08 11.9359 0.0470497 12.1724 0.138462 12.393C0.229874 12.6136 0.363857 12.8141 0.532759 12.983C0.701661 13.1518 0.902173 13.2857 1.12284 13.3771C1.34351 13.4684 1.58001 13.5154 1.81883 13.5153H9.84842C10.0872 13.5154 10.3237 13.4684 10.5443 13.3771C10.765 13.2857 10.9654 13.1518 11.1343 12.9829C11.3031 12.8141 11.4371 12.6136 11.5284 12.393C11.6198 12.1723 11.6667 11.9358 11.6667 11.6971V5.08847C11.6666 5.05971 11.658 5.03161 11.642 5.0077C11.6261 4.98379 11.6033 4.96515 11.5768 4.95412C11.5502 4.94308 11.521 4.94014 11.4928 4.94568C11.4646 4.95121 11.4386 4.96497 11.4182 4.98522L7.98408 8.41697Z"}),Jt.default.createElement("path",{d:"M10.8312 1.77357C10.7755 1.72081 10.7017 1.69141 10.625 1.69141C10.5483 1.69141 10.4745 1.72081 10.4188 1.77357L5.8612 6.33174C5.83328 6.35975 5.81127 6.39307 5.79645 6.42974L4.97162 8.49241C4.95035 8.54548 4.94514 8.60363 4.95666 8.65964C4.96817 8.71564 4.99589 8.76703 5.03637 8.80741C5.0775 8.84649 5.12878 8.87323 5.18437 8.88457C5.23997 8.89592 5.29763 8.89142 5.35078 8.87157L7.41287 8.04674C7.44959 8.03203 7.48293 8.01 7.51087 7.98199L12.069 3.42441C12.1237 3.36971 12.1544 3.29554 12.1544 3.2182C12.1544 3.14086 12.1237 3.06669 12.069 3.01199L10.8312 1.77357Z"}),Jt.default.createElement("path",{d:"M13.513 1.98011C13.7317 1.76133 13.8546 1.46464 13.8546 1.15528C13.8546 0.845921 13.7317 0.549228 13.513 0.330445C13.2908 0.118342 12.9954 0 12.6882 0C12.381 0 12.0856 0.118342 11.8634 0.330445L11.2444 0.949362C11.2354 0.961013 11.2272 0.973295 11.2199 0.986112C11.1818 1.03444 11.1604 1.09377 11.1587 1.15528C11.1587 1.19365 11.1663 1.23164 11.181 1.26707C11.1957 1.30251 11.2173 1.33469 11.2444 1.36178L12.4834 2.59903C12.5324 2.64926 12.5983 2.67943 12.6683 2.68364C12.7383 2.68785 12.8074 2.66579 12.862 2.62178C12.8739 2.61508 12.8852 2.60747 12.8959 2.59903L13.513 1.98011Z"})),close:Jt.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 30 30"},Jt.default.createElement("path",{d:"M0 0h30v30H0z"}),Jt.default.createElement("path",{stroke:"#fff",strokeWidth:"2",d:"M0-1h15.582",transform:"scale(.98773 1.01212) rotate(45 -7.565 16.188)"}),Jt.default.createElement("path",{stroke:"#fff",strokeWidth:"2",d:"M0-1h15.582",transform:"matrix(-.69843 .71568 -.69843 -.71568 19.883 9)"})),add:Jt.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 19 19"},Jt.default.createElement("path",{d:"M.875 9A8.625 8.625 0 1 0 9.5.375 8.635 8.635 0 0 0 .875 9Zm3.75-.375a.75.75 0 0 1 .75-.75h2.813a.187.187 0 0 0 .187-.188V4.876a.75.75 0 0 1 .75-.75h.75a.75.75 0 0 1 .75.75v2.813a.188.188 0 0 0 .188.187h2.812a.75.75 0 0 1 .75.75v.75a.75.75 0 0 1-.75.75h-2.813a.188.188 0 0 0-.187.188v2.812a.75.75 0 0 1-.75.75h-.75a.75.75 0 0 1-.75-.75v-2.813a.188.188 0 0 0-.188-.187H5.376a.75.75 0 0 1-.75-.75v-.75Z"})),delete:Jt.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18"},Jt.default.createElement("path",{d:"M14.354 6.748H3.103a.375.375 0 0 0-.375.375V16.5a1.5 1.5 0 0 0 1.5 1.5h9.001a1.5 1.5 0 0 0 1.5-1.5V7.123a.375.375 0 0 0-.375-.375Zm-6.938 8.627a.563.563 0 1 1-1.125 0V9.749a.563.563 0 1 1 1.125 0v5.626Zm3.75 0a.563.563 0 1 1-1.125 0V9.749a.563.563 0 0 1 1.125 0v5.626ZM15.337 1.912l-3.498.675a.188.188 0 0 1-.22-.15l-.178-.92A1.875 1.875 0 0 0 9.244.033l-3.68.714A1.875 1.875 0 0 0 4.08 2.945l.178.92a.187.187 0 0 1-.15.22l-3.498.676a.75.75 0 0 0-.596.878.774.774 0 0 0 .88.595l14.729-2.85a.75.75 0 1 0-.285-1.474v.002Zm-9.788.75a.375.375 0 0 1 .3-.44l3.683-.712a.375.375 0 0 1 .438.3l.179.922a.188.188 0 0 1-.15.22l-4.052.776a.187.187 0 0 1-.22-.15l-.178-.916Z"})),discard:Jt.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},Jt.default.createElement("path",{d:"m5 5 4.125 4.125M11 5l-6 6"}),Jt.default.createElement("path",{d:"M14.667 0H1.333A1.333 1.333 0 0 0 0 1.333v13.334A1.333 1.333 0 0 0 1.333 16h9.334c.177 0 .346-.07.471-.195l4.667-4.667a.667.667 0 0 0 .195-.471V1.333A1.334 1.334 0 0 0 14.667 0ZM1.333 1.667a.333.333 0 0 1 .334-.334h12.666a.333.333 0 0 1 .334.334V10a.333.333 0 0 1-.334.333h-2.666a1.333 1.333 0 0 0-1.334 1.334v2.666a.333.333 0 0 1-.333.334H1.667a.333.333 0 0 1-.334-.334V1.667Z"})),save:Jt.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},Jt.default.createElement("path",{d:"M12.0122 5.20332C12.0936 5.10023 12.154 4.98212 12.1897 4.85572C12.2255 4.72932 12.236 4.59711 12.2207 4.46665C12.2054 4.33618 12.1645 4.21001 12.1004 4.09534C12.0364 3.98067 11.9503 3.87974 11.8472 3.79832C11.7441 3.7169 11.626 3.65658 11.4996 3.62081C11.3732 3.58504 11.241 3.57451 11.1106 3.58984C10.9801 3.60516 10.8539 3.64603 10.7392 3.71011C10.6246 3.77419 10.5236 3.86023 10.4422 3.96332L6.71356 8.68665C6.69905 8.70522 6.68075 8.72048 6.65989 8.73143C6.63902 8.74238 6.61606 8.74876 6.59254 8.75015C6.56902 8.75153 6.54547 8.7479 6.52346 8.73948C6.50145 8.73106 6.48149 8.71805 6.46489 8.70132L5.04823 7.28465C4.85963 7.1025 4.60702 7.0017 4.34483 7.00398C4.08263 7.00626 3.83182 7.11143 3.64641 7.29684C3.461 7.48224 3.35583 7.73306 3.35355 7.99525C3.35128 8.25745 3.45207 8.51005 3.63423 8.69865L5.44823 10.5133C5.61595 10.6772 5.81604 10.8042 6.0357 10.8863C6.25536 10.9684 6.48974 11.0037 6.72383 10.99C6.95792 10.9762 7.18656 10.9137 7.3951 10.8065C7.60365 10.6993 7.7875 10.5497 7.93489 10.3673L12.0122 5.20332Z"}),Jt.default.createElement("path",{d:"M14.6667 0H1.33333C0.979711 0 0.640573 0.140476 0.390524 0.390524C0.140476 0.640573 0 0.979711 0 1.33333L0 14.6667C0 15.0203 0.140476 15.3594 0.390524 15.6095C0.640573 15.8595 0.979711 16 1.33333 16H10.6667C10.8435 16 11.013 15.9297 11.138 15.8047L15.8047 11.138C15.9297 11.013 16 10.8435 16 10.6667V1.33333C16 0.979711 15.8595 0.640573 15.6095 0.390524C15.3594 0.140476 15.0203 0 14.6667 0ZM1.33333 1.66667C1.33333 1.57826 1.36845 1.49348 1.43096 1.43096C1.49348 1.36845 1.57826 1.33333 1.66667 1.33333H14.3333C14.4217 1.33333 14.5065 1.36845 14.569 1.43096C14.6315 1.49348 14.6667 1.57826 14.6667 1.66667V10C14.6667 10.0884 14.6315 10.1732 14.569 10.2357C14.5065 10.2982 14.4217 10.3333 14.3333 10.3333H11.6667C11.313 10.3333 10.9739 10.4738 10.7239 10.7239C10.4738 10.9739 10.3333 11.313 10.3333 11.6667V14.3333C10.3333 14.4217 10.2982 14.5065 10.2357 14.569C10.1732 14.6315 10.0884 14.6667 10 14.6667H1.66667C1.57826 14.6667 1.49348 14.6315 1.43096 14.569C1.36845 14.5065 1.33333 14.4217 1.33333 14.3333V1.66667Z"})),caret:Jt.default.createElement("svg",{viewBox:"0 0 28 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Jt.default.createElement("path",{d:"M12.9393 10.0607L14 11.1213L15.0607 10.0607L21.0607 4.06066L23.6213 1.5H20H8H4.37868L6.93934 4.06066L12.9393 10.0607Z",fill:"#00655A",stroke:"white",strokeWidth:"3"})),"export-geojson":Jt.default.createElement("svg",{viewBox:"0 0 21 25",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Jt.default.createElement("path",{d:"M10.4136 1V16",stroke:"#666666",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),Jt.default.createElement("path",{d:"M5.91357 11.5L10.4136 16L14.9136 11.5",stroke:"#666666",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),Jt.default.createElement("path",{d:"M14.1636 4.74902H16.4116C17.2073 4.74902 17.9703 5.06509 18.5329 5.6277C19.0956 6.19031 19.4116 6.95337 19.4116 7.74902V20.499C19.4116 21.2947 19.0956 22.0577 18.5329 22.6203C17.9703 23.183 17.2073 23.499 16.4116 23.499H4.41162C3.61597 23.499 2.85291 23.183 2.2903 22.6203C1.72769 22.0577 1.41162 21.2947 1.41162 20.499V7.74902C1.41162 6.95337 1.72769 6.19031 2.2903 5.6277C2.85291 5.06509 3.61597 4.74902 4.41162 4.74902H6.66162",stroke:"#666666",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})),"user-roles":Jt.default.createElement("svg",{viewBox:"0 0 17 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Jt.default.createElement("g",{clipPath:"url(#clip0_1491_11619)"},Jt.default.createElement("path",{d:"M5.66626 2.74115C6.15948 3.25291 6.75085 3.65994 7.40499 3.9379C8.05913 4.21586 8.76261 4.35905 9.47336 4.35889C10.1932 4.3591 10.9056 4.2125 11.5668 3.92806",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),Jt.default.createElement("path",{d:"M8.41156 7.54465C10.171 7.54465 11.5973 6.11835 11.5973 4.35892C11.5973 2.59949 10.171 1.17319 8.41156 1.17319C6.65213 1.17319 5.22583 2.59949 5.22583 4.35892C5.22583 6.11835 6.65213 7.54465 8.41156 7.54465Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),Jt.default.createElement("path",{d:"M2.49536 14.8263C2.49536 13.2572 3.11869 11.7524 4.22822 10.6428C5.33776 9.5333 6.8426 8.90997 8.41172 8.90997C9.98084 8.90997 11.4857 9.5333 12.5952 10.6428C13.7048 11.7524 14.3281 13.2572 14.3281 14.8263",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})),Jt.default.createElement("defs",null,Jt.default.createElement("clipPath",{id:"clip0_1491_11619"},Jt.default.createElement("rect",{width:"16",height:"16",fill:"currentColor",transform:"translate(0.411621 -0.000244141)"})))),filter:Jt.default.createElement("svg",{viewBox:"0 0 22 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Jt.default.createElement("path",{d:"M10.75 9.75C16.1348 9.75 20.5 7.73528 20.5 5.25C20.5 2.76472 16.1348 0.75 10.75 0.75C5.36522 0.75 1 2.76472 1 5.25C1 7.73528 5.36522 9.75 10.75 9.75Z",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),Jt.default.createElement("path",{d:"M1 5.25C1.00123 7.44343 1.74225 9.57232 3.10325 11.2924C4.46425 13.0126 6.36565 14.2233 8.5 14.729V21C8.5 21.5967 8.73705 22.169 9.15901 22.591C9.58097 23.0129 10.1533 23.25 10.75 23.25C11.3467 23.25 11.919 23.0129 12.341 22.591C12.7629 22.169 13 21.5967 13 21V14.729C15.1343 14.2233 17.0358 13.0126 18.3967 11.2924C19.7577 9.57232 20.4988 7.44343 20.5 5.25",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})),"metadata-panel":Jt.default.createElement("svg",{viewBox:"0 0 17 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Jt.default.createElement("g",{clipPath:"url(#clip0_1419_7239)"},Jt.default.createElement("path",{d:"M12.2444 13.3538C12.7967 13.3538 13.2444 12.906 13.2444 12.3538C13.2444 11.8015 12.7967 11.3538 12.2444 11.3538C11.6921 11.3538 11.2444 11.8015 11.2444 12.3538C11.2444 12.906 11.6921 13.3538 12.2444 13.3538Z",fill:"currentColor"}),Jt.default.createElement("path",{d:"M16.0896 11.4357C16.263 11.2498 16.3723 11.0132 16.4013 10.7606C16.4303 10.508 16.3774 10.2528 16.2506 10.0324C16.1237 9.8121 15.9296 9.63826 15.6966 9.53649C15.4636 9.43471 15.2041 9.41037 14.9562 9.46705L14.0155 9.68438C13.9412 9.70131 13.8631 9.6894 13.7972 9.65104C13.7312 9.61268 13.6823 9.55074 13.6602 9.47771L13.3775 8.54905C13.3044 8.30537 13.1546 8.09176 12.9505 7.93991C12.7463 7.78806 12.4986 7.70605 12.2442 7.70605C11.9898 7.70605 11.7421 7.78806 11.538 7.93991C11.3338 8.09176 11.1841 8.30537 11.1109 8.54905L10.8282 9.47771C10.806 9.55065 10.757 9.6125 10.6911 9.65083C10.6252 9.68916 10.5473 9.70115 10.4729 9.68438L9.53288 9.46638C9.28515 9.40991 9.02585 9.43436 8.79304 9.53613C8.56023 9.6379 8.36617 9.81162 8.23938 10.0318C8.11258 10.252 8.05971 10.507 8.08854 10.7595C8.11737 11.0119 8.22637 11.2485 8.39955 11.4344L9.05822 12.145C9.11026 12.2019 9.13913 12.2763 9.13913 12.3534C9.13913 12.4305 9.11026 12.5048 9.05822 12.5617L8.39955 13.271C8.22608 13.4569 8.11682 13.6936 8.08783 13.9461C8.05884 14.1987 8.11165 14.454 8.2385 14.6743C8.36535 14.8947 8.55955 15.0685 8.79254 15.1703C9.02553 15.272 9.28503 15.2964 9.53288 15.2397L10.4735 15.0224C10.548 15.0058 10.626 15.018 10.6919 15.0564C10.7577 15.0948 10.8067 15.1567 10.8289 15.2297L11.1115 16.157C11.1843 16.4011 11.334 16.6151 11.5382 16.7673C11.7423 16.9195 11.9902 17.0017 12.2449 17.0017C12.4996 17.0017 12.7474 16.9195 12.9516 16.7673C13.1558 16.6151 13.3054 16.4011 13.3782 16.157L13.6609 15.229C13.6827 15.1558 13.7315 15.0936 13.7975 15.0551C13.8635 15.0166 13.9417 15.0046 14.0162 15.0217L14.9569 15.239C15.2046 15.2955 15.4639 15.2711 15.6967 15.1693C15.9295 15.0675 16.1236 14.8938 16.2504 14.6736C16.3772 14.4534 16.4301 14.1984 16.4012 13.946C16.3724 13.6935 16.2634 13.457 16.0902 13.271L15.4316 12.561C15.3795 12.5041 15.3506 12.4298 15.3506 12.3527C15.3506 12.2756 15.3795 12.2013 15.4316 12.1444L16.0896 11.4357ZM12.2442 14.3537C11.8487 14.3537 11.462 14.2364 11.1331 14.0167C10.8042 13.7969 10.5478 13.4845 10.3965 13.1191C10.2451 12.7536 10.2055 12.3515 10.2826 11.9635C10.3598 11.5756 10.5503 11.2192 10.83 10.9395C11.1097 10.6598 11.4661 10.4693 11.854 10.3921C12.242 10.315 12.6441 10.3546 13.0096 10.506C13.375 10.6573 13.6874 10.9137 13.9072 11.2426C14.1269 11.5715 14.2442 11.9581 14.2442 12.3537C14.2442 12.8841 14.0335 13.3929 13.6584 13.7679C13.2834 14.143 12.7746 14.3537 12.2442 14.3537Z",fill:"currentColor"}),Jt.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.09017 13.782C7.0974 13.8043 7.09994 13.8278 7.09762 13.8511C7.06412 14.1643 7.09939 14.481 7.20095 14.7791C7.2097 14.8042 7.2123 14.831 7.20855 14.8572C7.20479 14.8835 7.19479 14.9085 7.17938 14.9301C7.16396 14.9517 7.14359 14.9693 7.11997 14.9815C7.09635 14.9936 7.07017 14.9999 7.04362 14.9998H2.41162C1.88119 14.9998 1.37248 14.789 0.997407 14.414C0.622335 14.0389 0.411621 13.5302 0.411621 12.9998V3.99976C0.411621 3.46932 0.622335 2.96062 0.997407 2.58554C1.37248 2.21047 1.88119 1.99976 2.41162 1.99976H11.745C12.2754 1.99976 12.7841 2.21047 13.1592 2.58554C13.5342 2.96062 13.745 3.46932 13.745 3.99976V6.95976C13.745 6.99007 13.7368 7.01983 13.7212 7.0458C13.7056 7.07177 13.6831 7.09297 13.6563 7.10709C13.6293 7.12109 13.599 7.12756 13.5686 7.1258C13.5382 7.12404 13.5088 7.11412 13.4836 7.09709C13.4779 7.09315 13.4721 7.08924 13.4664 7.08536C13.1685 6.74277 12.7022 6.52222 12.178 6.52222C11.6135 6.52222 11.1161 6.77796 10.824 7.16642H9.74495C9.70075 7.16642 9.65836 7.18398 9.6271 7.21524C9.59585 7.24649 9.57829 7.28889 9.57829 7.33309V8.28442C9.57831 8.30728 9.57364 8.32989 9.56458 8.35087C9.55553 8.37186 9.54226 8.39076 9.52562 8.40642C9.50904 8.42206 9.48941 8.4341 9.46795 8.44178C9.4465 8.44947 9.42369 8.45264 9.40095 8.45109C9.19328 8.43777 8.98476 8.45393 8.78162 8.49909C8.75723 8.50469 8.73189 8.50466 8.70751 8.499C8.68314 8.49334 8.66038 8.4822 8.64095 8.46642C8.62099 8.45049 8.60495 8.43018 8.59409 8.40706C8.58322 8.38394 8.57782 8.35863 8.57829 8.33309V7.33309C8.57829 7.28889 8.56073 7.24649 8.52947 7.21524C8.49822 7.18398 8.45582 7.16642 8.41162 7.16642H5.74495C5.70075 7.16642 5.65836 7.18398 5.6271 7.21524C5.59585 7.24649 5.57829 7.28889 5.57829 7.33309V9.66842C5.57829 9.71263 5.59585 9.75502 5.6271 9.78627C5.65836 9.81753 5.70075 9.83509 5.74495 9.83509H6.99562C7.02151 9.83498 7.04707 9.84096 7.07023 9.85254C7.09339 9.86412 7.1135 9.88098 7.12895 9.90176C7.1445 9.92219 7.15511 9.94593 7.15997 9.97114C7.16483 9.99635 7.1638 10.0223 7.15695 10.0471C7.10109 10.2487 7.07459 10.4573 7.07829 10.6664C7.07847 10.7102 7.06133 10.7523 7.03061 10.7835C6.99989 10.8147 6.95808 10.8326 6.91429 10.8331H5.74495C5.70075 10.8331 5.65836 10.8506 5.6271 10.8819C5.59585 10.9132 5.57829 10.9556 5.57829 10.9998V13.4998C5.57829 13.544 5.59585 13.5864 5.6271 13.6176C5.65836 13.6489 5.70075 13.6664 5.74495 13.6664H6.93162C6.95502 13.6664 6.97815 13.6714 6.99951 13.6809C7.02088 13.6904 7.03999 13.7043 7.05562 13.7218C7.07118 13.7392 7.08294 13.7598 7.09017 13.782ZM4.52881 9.78427C4.56006 9.75302 4.57762 9.71063 4.57762 9.66642L4.57829 7.33309C4.57829 7.28889 4.56073 7.24649 4.52947 7.21524C4.49822 7.18398 4.45582 7.16642 4.41162 7.16642H1.91162C1.86742 7.16642 1.82503 7.18398 1.79377 7.21524C1.76251 7.24649 1.74495 7.28889 1.74495 7.33309V9.66642C1.74495 9.71051 1.76242 9.7528 1.79353 9.78404C1.82465 9.81528 1.86687 9.83291 1.91095 9.83309H4.41095C4.45516 9.83309 4.49755 9.81553 4.52881 9.78427ZM5.68097 6.15393C5.70127 6.16226 5.72301 6.16651 5.74495 6.16642H8.41162C8.45582 6.16642 8.49822 6.14886 8.52947 6.11761C8.56073 6.08635 8.57829 6.04396 8.57829 5.99976V3.49976C8.57829 3.45555 8.56073 3.41316 8.52947 3.3819C8.49822 3.35065 8.45582 3.33309 8.41162 3.33309H5.74495C5.72301 3.333 5.70127 3.33725 5.68097 3.34558C5.66067 3.35392 5.64222 3.36618 5.62667 3.38167C5.61112 3.39715 5.59879 3.41556 5.59037 3.43582C5.58195 3.45609 5.57762 3.47781 5.57762 3.49976V5.99976C5.57762 6.0217 5.58195 6.04343 5.59037 6.06369C5.59879 6.08396 5.61112 6.10236 5.62667 6.11784C5.64222 6.13333 5.66067 6.14559 5.68097 6.15393ZM12.2164 3.52835C12.0913 3.40333 11.9218 3.33309 11.745 3.33309H9.74495C9.70075 3.33309 9.65836 3.35065 9.6271 3.3819C9.59585 3.41316 9.57829 3.45555 9.57829 3.49976V5.99976C9.57829 6.04396 9.59585 6.08635 9.6271 6.11761C9.65836 6.14886 9.70075 6.16642 9.74495 6.16642H12.245C12.2892 6.16642 12.3315 6.14886 12.3628 6.11761C12.3941 6.08635 12.4116 6.04396 12.4116 5.99976V3.99976C12.4116 3.82294 12.3414 3.65338 12.2164 3.52835ZM4.41162 3.33309H2.41162C2.23481 3.33309 2.06524 3.40333 1.94022 3.52835C1.81519 3.65338 1.74495 3.82294 1.74495 3.99976V5.99976C1.74495 6.04384 1.76242 6.08613 1.79353 6.11737C1.82465 6.14861 1.86687 6.16625 1.91095 6.16642H4.41162C4.45582 6.16642 4.49822 6.14886 4.52947 6.11761C4.56073 6.08635 4.57829 6.04396 4.57829 5.99976V3.49976C4.57829 3.45555 4.56073 3.41316 4.52947 3.3819C4.49822 3.35065 4.45582 3.33309 4.41162 3.33309ZM1.74495 10.9998V12.9998C1.74495 13.1766 1.81519 13.3461 1.94022 13.4712C2.06524 13.5962 2.23481 13.6664 2.41162 13.6664H4.41162C4.45582 13.6664 4.49822 13.6489 4.52947 13.6176C4.56073 13.5864 4.57829 13.544 4.57829 13.4998V10.9998C4.57829 10.9556 4.56073 10.9132 4.52947 10.8819C4.49822 10.8506 4.45582 10.8331 4.41162 10.8331H1.91162C1.86742 10.8331 1.82503 10.8506 1.79377 10.8819C1.76251 10.9132 1.74495 10.9556 1.74495 10.9998Z",fill:"currentColor"})),Jt.default.createElement("defs",null,Jt.default.createElement("clipPath",{id:"clip0_1419_7239"},Jt.default.createElement("rect",{width:"16",height:"18",fill:"currentColor",transform:"translate(0.411621 -0.000244141)"})))),clock:Jt.default.createElement("svg",{viewBox:"0 0 18 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Jt.default.createElement("path",{d:"M5.71093 8.93449L3.56128 6.79363L1.41162 8.93449M3.42462 7.6044C3.46047 9.22172 4.09697 10.7684 5.21112 11.9456C6.32527 13.1228 7.838 13.847 9.45702 13.9782C11.076 14.1094 12.6864 13.6383 13.977 12.656C15.2676 11.6736 16.1468 10.2498 16.4447 8.6595C16.7427 7.06923 16.4382 5.42542 15.5901 4.04569C14.742 2.66597 13.4105 1.64826 11.8529 1.18921C10.2953 0.730155 8.62218 0.862343 7.15674 1.56023",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",stroke:"currentColor"}),Jt.default.createElement("path",{d:"M9.04295 8.08988L10.7639 5.10907",strokeWidth:"1.5",strokeLinecap:"round",stroke:"currentColor"}),Jt.default.createElement("path",{d:"M9.04288 8.0901L12.0237 9.81107",strokeWidth:"1.5",strokeLinecap:"round",stroke:"currentColor"})),"image-placeholder":Jt.default.createElement("svg",{viewBox:"0 0 66 66",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Jt.default.createElement("path",{d:"M59.7357 1.99231H14.2691C11.9863 1.99231 10.1357 3.84287 10.1357 6.12564V51.5923C10.1357 53.8751 11.9863 55.7256 14.2691 55.7256H59.7357C62.0185 55.7256 63.8691 53.8751 63.8691 51.5923V6.12564C63.8691 3.84287 62.0185 1.99231 59.7357 1.99231Z",stroke:"#cccccc",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"}),Jt.default.createElement("path",{d:"M55.6025 63.9924H6.00247C4.90625 63.9924 3.85492 63.5569 3.07977 62.7817C2.30462 62.0066 1.86914 60.9553 1.86914 59.859V10.259",stroke:"#cccccc",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"}),Jt.default.createElement("path",{d:"M23.5662 18.5256C23.362 18.5262 23.1625 18.5872 22.9929 18.7011C22.8233 18.815 22.6913 18.9766 22.6135 19.1654C22.5357 19.3543 22.5157 19.562 22.5558 19.7622C22.596 19.9625 22.6947 20.1464 22.8393 20.2906C22.9839 20.4349 23.168 20.533 23.3684 20.5726C23.5688 20.6123 23.7764 20.5917 23.965 20.5134C24.1537 20.4351 24.3149 20.3026 24.4284 20.1328C24.5418 19.9629 24.6023 19.7632 24.6023 19.559C24.6023 19.2849 24.4934 19.0221 24.2997 18.8283C24.1059 18.6345 23.843 18.5256 23.569 18.5256",stroke:"#cccccc",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"}),Jt.default.createElement("path",{d:"M55.6022 43.3257L44.9382 27.2443C44.7512 26.9648 44.4986 26.7353 44.2026 26.5757C43.9066 26.4161 43.5761 26.3313 43.2398 26.3286C42.9036 26.3258 42.5717 26.4053 42.2732 26.5601C41.9746 26.7149 41.7184 26.9403 41.5269 27.2167L36.0295 35.07L32.6209 32.3448C32.3972 32.1661 32.1387 32.0359 31.862 31.9624C31.5853 31.8889 31.2963 31.8736 31.0134 31.9177C30.7305 31.9617 30.4598 32.0641 30.2186 32.2182C29.9773 32.3724 29.7707 32.575 29.6118 32.8132L22.5962 43.3257H55.6022Z",stroke:"#cccccc",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"})),[JP.POINT]:Jt.default.createElement("svg",{viewBox:"0 0 10 13",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Jt.default.createElement("path",{d:"M5 0C3.67439 0.001577 2.40351 0.54425 1.46616 1.50897C0.528809 2.47369 0.00153226 3.78169 0 5.14601C0 8.69242 3.44105 11.9106 4.49526 12.8125C4.637 12.9337 4.81547 13 4.99974 13C5.18401 13 5.36247 12.9337 5.50421 12.8125C6.55684 11.9106 10 8.69134 10 5.14547C9.99833 3.78124 9.47099 2.47339 8.53366 1.50878C7.59632 0.544176 6.32552 0.00157672 5 0ZM5 7.85443C4.47952 7.85443 3.97073 7.69559 3.53797 7.39798C3.10521 7.10037 2.76792 6.67738 2.56874 6.18248C2.36956 5.68758 2.31745 5.143 2.41899 4.61762C2.52053 4.09224 2.77116 3.60964 3.13919 3.23086C3.50723 2.85208 3.97613 2.59413 4.4866 2.48962C4.99708 2.38512 5.5262 2.43875 6.00706 2.64375C6.48792 2.84874 6.89892 3.19589 7.18808 3.64129C7.47724 4.08669 7.63158 4.61033 7.63158 5.14601C7.63158 5.50168 7.56351 5.85388 7.43126 6.18248C7.29901 6.51108 7.10517 6.80965 6.86081 7.06115C6.61644 7.31265 6.32634 7.51216 6.00706 7.64827C5.68778 7.78438 5.34558 7.85443 5 7.85443Z",fill:"#999999"})),[JP.LINE_STRING]:Jt.default.createElement("svg",{viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Jt.default.createElement("path",{d:"M10 2L2 10",stroke:"#999999",strokeWidth:"1.5"}),Jt.default.createElement("circle",{cx:"2",cy:"10",r:"2",fill:"#999999"}),Jt.default.createElement("circle",{cx:"10",cy:"2",r:"2",fill:"#999999"})),[JP.POLYGON]:Jt.default.createElement("svg",{viewBox:"0 0 13 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Jt.default.createElement("path",{d:"M1.50439 12.282L4.13685 5.51279L10.53 2.50427L9.77783 7.39312L9.0257 11.5298L1.50439 12.282Z",stroke:"#999999",strokeWidth:"1.5"}),Jt.default.createElement("circle",{cx:"11",cy:"2",r:"2",fill:"#999999"}),Jt.default.createElement("circle",{cx:"9",cy:"11",r:"2",fill:"#999999"}),Jt.default.createElement("path",{d:"M4 12C4 13.1046 3.10457 14 2 14C0.89543 14 0 13.1046 0 12C0 10.8954 0.89543 10 2 10C3.10457 10 4 10.8954 4 12Z",fill:"#999999"}),Jt.default.createElement("path",{d:"M6 5C6 6.10457 5.10457 7 4 7C2.89543 7 2 6.10457 2 5C2 3.89543 2.89543 3 4 3C5.10457 3 6 3.89543 6 5Z",fill:"#999999"}))},QUe=({name:e})=>{var t;return(t=Ymr[e])!=null?t:""};QUe.propTypes={name:XUe.default.string.isRequired};var JUe=QUe;var hR=JUe;var eVe=({values:e,min:t,max:r,onChange:n})=>{let[i,o]=(0,Ci.useState)(e),[u,d]=(0,Ci.useState)(!1),[g,_]=(0,Ci.useState)(0),[I,T]=(0,Ci.useState)(1),A=(0,Ci.useRef)(),q=(0,Ci.useRef)(),z=(0,Ci.useRef)(),{start:U,end:N}=(0,Ci.useMemo)(()=>({start:Uh(i[0]*1e3),end:Uh(i[1]*1e3)}),[i]),L=(0,Ci.useCallback)((te,oe)=>{let ue=YP(oe).valueOf()/1e3,Ie=i[1];if(te.relatedTarget!==q.current&&te.relatedTarget!==z.current&&d(!1),!XP(ue)||ue>Ie||ue<t){n([i[0],i[1]]),_(Date.now());return}n([ue,Ie])},[i]),F=(0,Ci.useCallback)((te,oe)=>{let ue=i[0],Ie=YP(oe).valueOf()/1e3;if(te.relatedTarget!==A.current&&te.relatedTarget!==z.current&&d(!1),!XP(Ie)||ue>Ie||Ie>r){n([i[0],i[1]]),T(Date.now());return}n([ue,Ie])},[i]),H=(0,Ci.useCallback)(te=>{te.key==="Enter"&&(te.target===A.current&&q.current.focus(),te.target===q.current&&(te.target.blur(),d(!1)))},[]),Y=(0,Ci.useCallback)(()=>{u||A.current.focus(),d(te=>!te)},[]);return(0,Ci.useEffect)(()=>{o(e)},[e]),Ci.default.createElement("div",{className:"timeslider-controls-root"},Ci.default.createElement(mQ,{ref:A,key:g,value:U,onBlur:L,onKeyDown:H,readOnly:!u,tabIndex:u?void 0:-1}),Ci.default.createElement("span",null,"\u2013"),Ci.default.createElement(mQ,{ref:q,key:I,value:N,onBlur:F,onKeyDown:H,readOnly:!u,tabIndex:u?void 0:-1}),Ci.default.createElement("button",{ref:z,className:wr("edit-button",u&&"edit-state"),onClick:Y},Ci.default.createElement(hR,{name:"edit-inverse"})))};eVe.propTypes={values:W_.default.arrayOf(W_.default.number).isRequired,min:W_.default.number.isRequired,max:W_.default.number.isRequired,onChange:W_.default.func.isRequired};var tVe=eVe;p();var wv=se(Qt(),1),Z_=se(Je(),1);var rVe=(0,Z_.forwardRef)(function({className:t,posX:r,shouldUseDate:n,value:i},o){let u=(0,Z_.useMemo)(()=>Array.isArray(i)?n?`${Uh(i[0]*1e3)} - ${Uh(i[1]*1e3)}`:`${i[0]} - ${i[1]}`:n?Uh(i*1e3):i,[i]);return Z_.default.createElement("div",{ref:o,className:t,style:{transform:`translate(${r}px)`}},u)});rVe.propTypes={className:wv.default.string,posX:wv.default.number.isRequired,shouldUseDate:wv.default.bool.isRequired,value:wv.default.oneOfType([wv.default.array,wv.default.number]).isRequired};var mR=rVe;p();var nVe=(e,t,r,n)=>{let i=e.map(_=>(_-t[0])/(t[1]-t[0])),o=i[0]*n,u=i[1]*n,d=gQ(o,r,n),g=gQ(u,r,n);return{posMin:d,posMax:g}},iVe=(e,t,r,n)=>{let u=((e[1]-e[0])/2+e[0]-t[0])/(t[1]-t[0])*n;return gQ(u,r,n)},gQ=(e,t,r)=>e<t/2?0:e>r-t/2?r-t:e-t/2;var vQ=[1e3,1e3],yQ=e=>{let{title:t,values:r,timeRange:n,onChange:i,sliderProps:o,shouldUseDate:u,showControls:d}=e,[g,_]=(0,oi.useState)(r),[I,T]=(0,oi.useState)(0),[A,q]=(0,oi.useState)(0),[z,U]=(0,oi.useState)(0),[N,L]=(0,oi.useState)({min:0,max:0}),[F,H]=(0,oi.useState)(0),[Y,te]=(0,oi.useState)(!1),oe=(0,oi.useRef)(),ue=(0,oi.useRef)(),Ie=(0,oi.useRef)(),Ee=(0,oi.useCallback)(Pe=>{let{posMin:we,posMax:Oe}=nVe(Pe,n,I,z);if(Math.abs(we-Oe)<I){te(!0);let lt=iVe(Pe,n,A,z);H(lt);return}te(!1),L({min:we,max:Oe})},[n,I,z]),ve=(0,oi.useCallback)(Pe=>{Ee(Pe),_(Pe)},[Ee]),xe=(0,oi.useCallback)(Pe=>{ve(Pe),i(Pe)},[ve,i]);return(0,oi.useEffect)(()=>{if(oe.current&&ue.current&&Ie.current){let Pe=oe.current.getBoundingClientRect().width,we=ue.current.getBoundingClientRect().width,Oe=Ie.current.getBoundingClientRect().width;L({min:0,max:Pe-we}),q(Oe),U(Pe),T(we)}},[]),(0,oi.useEffect)(()=>{_(r),Ee(r)},[r,Ee]),oi.default.createElement("div",{className:"timeslider-container"},oi.default.createElement("div",{className:"timeslider-control-container"},oi.default.createElement("label",null,t),d&&oi.default.createElement(tVe,{min:n[0],max:n[1],values:g,onChange:xe})),oi.default.createElement("div",{ref:oe,className:"slider-container"},oi.default.createElement(EN,rt({allowCross:!1,ariaLabelledByGroupForHandles:["min-value","max-value"],min:n[0],max:n[1],onChange:ve,onAfterChange:i,value:g},o)),oi.default.createElement(mR,{className:wr("tooltip min-value",Y&&"labels-too-close"),posX:N.min,ref:ue,value:Y?vQ[0]:g[0],shouldUseDate:u}),oi.default.createElement(mR,{className:wr("tooltip max-value",Y&&"labels-too-close"),posX:N.max,value:Y?vQ[1]:g[1],shouldUseDate:u}),oi.default.createElement(mR,{className:wr("tooltip min-max-value",Y&&"labels-too-close"),posX:F,ref:Ie,value:Y?g:vQ,shouldUseDate:u})))};yQ.defaultProps={timeRange:[1850,1970],shouldUseDate:!1,showControls:!1};yQ.propTypes={title:Dp.default.string.isRequired,values:Dp.default.arrayOf(Dp.default.number),timeRange:Dp.default.arrayOf(Dp.default.number),onChange:Dp.default.func.isRequired,sliderProps:Dp.default.object,shouldUseDate:Dp.default.bool,showControls:Dp.default.bool};var oVe=yQ;var aVe=oVe;var sVe=()=>{let e=vr(EO),[t,r]=qn(SO),n=(0,gR.useCallback)(i=>r(i),[]);return gR.default.createElement(aVe,{title:gt("timeslider-adjust-timeperiod"),timeRange:e,onChange:n,values:t,sliderProps:{draggableTrack:!0}})};sVe.propTypes={};var lVe=sVe;var uVe=lVe;p();var TR=se(Je(),1);p();var Ev=se(Je(),1),pJ=se(Qt(),1);p();var Ts=se(Je(),1);p();var Vt=se(Qt()),qt=se(Je()),agr=se(vVe());p();function yVe(e){return typeof e=="object"&&e!=null&&e.nodeType===1}function _Ve(e,t){return(!t||e!=="hidden")&&e!=="visible"&&e!=="clip"}function bQ(e,t){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var r=getComputedStyle(e,null);return _Ve(r.overflowY,t)||_Ve(r.overflowX,t)||function(n){var i=function(o){if(!o.ownerDocument||!o.ownerDocument.defaultView)return null;try{return o.ownerDocument.defaultView.frameElement}catch(u){return null}}(n);return!!i&&(i.clientHeight<n.scrollHeight||i.clientWidth<n.scrollWidth)}(e)}return!1}function _R(e,t,r,n,i,o,u,d){return o<e&&u>t||o>e&&u<t?0:o<=e&&d<=r||u>=t&&d>=r?o-e-n:u>t&&d<r||o<e&&d>r?u-t+i:0}var bVe=function(e,t){var r=window,n=t.scrollMode,i=t.block,o=t.inline,u=t.boundary,d=t.skipOverflowHiddenElements,g=typeof u=="function"?u:function(Wt){return Wt!==u};if(!yVe(e))throw new TypeError("Invalid target");for(var _,I,T=document.scrollingElement||document.documentElement,A=[],q=e;yVe(q)&&g(q);){if((q=(I=(_=q).parentElement)==null?_.getRootNode().host||null:I)===T){A.push(q);break}q!=null&&q===document.body&&bQ(q)&&!bQ(document.documentElement)||q!=null&&bQ(q,d)&&A.push(q)}for(var z=r.visualViewport?r.visualViewport.width:innerWidth,U=r.visualViewport?r.visualViewport.height:innerHeight,N=window.scrollX||pageXOffset,L=window.scrollY||pageYOffset,F=e.getBoundingClientRect(),H=F.height,Y=F.width,te=F.top,oe=F.right,ue=F.bottom,Ie=F.left,Ee=i==="start"||i==="nearest"?te:i==="end"?ue:te+H/2,ve=o==="center"?Ie+Y/2:o==="end"?oe:Ie,xe=[],Pe=0;Pe<A.length;Pe++){var we=A[Pe],Oe=we.getBoundingClientRect(),Xe=Oe.height,lt=Oe.width,pt=Oe.top,qe=Oe.right,ut=Oe.bottom,bt=Oe.left;if(n==="if-needed"&&te>=0&&Ie>=0&&ue<=U&&oe<=z&&te>=pt&&ue<=ut&&Ie>=bt&&oe<=qe)return xe;var wt=getComputedStyle(we),Ge=parseInt(wt.borderLeftWidth,10),st=parseInt(wt.borderTopWidth,10),tt=parseInt(wt.borderRightWidth,10),je=parseInt(wt.borderBottomWidth,10),Me=0,$e=0,ze="offsetWidth"in we?we.offsetWidth-we.clientWidth-Ge-tt:0,ot="offsetHeight"in we?we.offsetHeight-we.clientHeight-st-je:0,it="offsetWidth"in we?we.offsetWidth===0?0:lt/we.offsetWidth:0,vt="offsetHeight"in we?we.offsetHeight===0?0:Xe/we.offsetHeight:0;if(T===we)Me=i==="start"?Ee:i==="end"?Ee-U:i==="nearest"?_R(L,L+U,U,st,je,L+Ee,L+Ee+H,H):Ee-U/2,$e=o==="start"?ve:o==="center"?ve-z/2:o==="end"?ve-z:_R(N,N+z,z,Ge,tt,N+ve,N+ve+Y,Y),Me=Math.max(0,Me+L),$e=Math.max(0,$e+N);else{Me=i==="start"?Ee-pt-st:i==="end"?Ee-ut+je+ot:i==="nearest"?_R(pt,ut,Xe,st,je+ot,Ee,Ee+H,H):Ee-(pt+Xe/2)+ot/2,$e=o==="start"?ve-bt-Ge:o==="center"?ve-(bt+lt/2)+ze/2:o==="end"?ve-qe+tt+ze:_R(bt,qe,lt,Ge,tt+ze,ve,ve+Y,Y);var ht=we.scrollLeft,It=we.scrollTop;Ee+=It-(Me=Math.max(0,Math.min(It+Me/vt,we.scrollHeight-Xe/vt+ot))),ve+=ht-($e=Math.max(0,Math.min(ht+$e/it,we.scrollWidth-lt/it+ze)))}xe.push({el:we,top:Me,left:$e})}return xe};p();var FI=function(){return FI=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},FI.apply(this,arguments)};var sgr=0;function GI(){}function lgr(e,t){if(!e)return;bVe(e,{boundary:t,block:"nearest",scrollMode:"if-needed"}).forEach(n=>{let{el:i,top:o,left:u}=n;i.scrollTop=o,i.scrollLeft=u})}function xVe(e,t,r){return e===t||t instanceof r.Node&&e.contains&&e.contains(t)}function wQ(e,t){let r;function n(){r&&clearTimeout(r)}function i(){for(var o=arguments.length,u=new Array(o),d=0;d<o;d++)u[d]=arguments[d];n(),r=setTimeout(()=>{r=null,e(...u)},t)}return i.cancel=n,i}function qo(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){for(var i=arguments.length,o=new Array(i>1?i-1:0),u=1;u<i;u++)o[u-1]=arguments[u];return t.some(d=>(d&&d(n,...o),n.preventDownshiftDefault||n.hasOwnProperty("nativeEvent")&&n.nativeEvent.preventDownshiftDefault))}}function kp(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n=>{t.forEach(i=>{typeof i=="function"?i(n):i&&(i.current=n)})}}function ugr(){return String(sgr++)}function cgr(e){let{isOpen:t,resultCount:r,previousResultCount:n}=e;return t?r?r!==n?`${r} result${r===1?" is":"s are"} available, use up and down arrow keys to navigate. Press Enter key to select.`:"":"No results are available.":""}function bR(e,t){return Object.keys(e).reduce((r,n)=>(r[n]=CVe(t,n)?t[n]:e[n],r),{})}function CVe(e,t){return e[t]!==void 0}function VI(e){let{key:t,keyCode:r}=e;return r>=37&&r<=40&&t.indexOf("Arrow")!==0?`Arrow${t}`:t}function $I(e,t,r,n,i){if(i===void 0&&(i=!0),r===0)return-1;let o=r-1;(typeof t!="number"||t<0||t>=r)&&(t=e>0?-1:o+1);let u=t+e;u<0?u=i?o:0:u>o&&(u=i?0:o);let d=Sv(e,u,r,n,i);return d===-1?t>=r?-1:t:d}function Sv(e,t,r,n,i){let o=n(t);if(!o||!o.hasAttribute("disabled"))return t;if(e>0){for(let u=t+1;u<r;u++)if(!n(u).hasAttribute("disabled"))return u}else for(let u=t-1;u>=0;u--)if(!n(u).hasAttribute("disabled"))return u;return i?e>0?Sv(1,0,r,n,!1):Sv(-1,r-1,r,n,!1):-1}function wVe(e,t,r,n){return n===void 0&&(n=!0),t.some(i=>i&&(xVe(i,e,r)||n&&xVe(i,r.document.activeElement,r)))}var pgr=wQ(e=>{PVe(e).textContent=""},500);function AVe(e,t){let r=PVe(t);e&&(r.textContent=e,pgr(t))}function PVe(e){e===void 0&&(e=document);let t=e.getElementById("a11y-status-message");return t||(t=e.createElement("div"),t.setAttribute("id","a11y-status-message"),t.setAttribute("role","status"),t.setAttribute("aria-live","polite"),t.setAttribute("aria-relevant","additions text"),Object.assign(t.style,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px"}),e.body.appendChild(t),t)}var OVe={highlightedIndex:-1,isOpen:!1,selectedItem:null,inputValue:""};function fgr(e,t,r){let{props:n,type:i}=e,o={};Object.keys(t).forEach(u=>{dgr(u,e,t,r),r[u]!==t[u]&&(o[u]=r[u])}),n.onStateChange&&Object.keys(o).length&&n.onStateChange(rt({type:i},o))}function dgr(e,t,r,n){let{props:i,type:o}=t,u=`on${EQ(e)}Change`;i[u]&&n[e]!==void 0&&n[e]!==r[e]&&i[u](rt({type:o},n))}function hgr(e,t){return t.changes}function mgr(e){let{selectedItem:t,itemToString:r}=e;return t?`${r(t)} has been selected.`:""}var ggr=wQ((e,t)=>{AVe(e(),t)},200),vgr=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined"?qt.useLayoutEffect:qt.useEffect;function DVe(e){let{id:t=`downshift-${ugr()}`,labelId:r,menuId:n,getItemId:i,toggleButtonId:o,inputId:u}=e;return(0,qt.useRef)({labelId:r||`${t}-label`,menuId:n||`${t}-menu`,getItemId:i||(g=>`${t}-item-${g}`),toggleButtonId:o||`${t}-toggle-button`,inputId:u||`${t}-input`}).current}function SQ(e,t,r){return e!==void 0?e:r.length===0?-1:r.indexOf(t)}function ygr(e){return e?String(e):""}function SVe(e){return /^\S{1}$/.test(e)}function EQ(e){return`${e.slice(0,1).toUpperCase()}${e.slice(1)}`}function ER(e){let t=(0,qt.useRef)(e);return t.current=e,t}function kVe(e,t,r){let n=(0,qt.useRef)(),i=(0,qt.useRef)(),o=(0,qt.useCallback)((T,A)=>{i.current=A,T=bR(T,A.props);let q=e(T,A);return A.props.stateReducer(T,dr(rt({},A),{changes:q}))},[e]),[u,d]=(0,qt.useReducer)(o,t),g=ER(r),_=(0,qt.useCallback)(T=>d(rt({props:g.current},T)),[g]),I=i.current;return(0,qt.useEffect)(()=>{I&&n.current&&n.current!==u&&fgr(I,bR(n.current,I.props),u),n.current=u},[u,r,I]),[u,_]}function NVe(e,t,r){let[n,i]=kVe(e,t,r);return[bR(n,r),i]}var UI={itemToString:ygr,stateReducer:hgr,getA11ySelectionMessage:mgr,scrollIntoView:lgr,circularNavigation:!1,environment:typeof window=="undefined"?{}:window};function Is(e,t,r){r===void 0&&(r=OVe);let n=e[`default${EQ(t)}`];return n!==void 0?n:r[t]}function BI(e,t,r){r===void 0&&(r=OVe);let n=e[t];if(n!==void 0)return n;let i=e[`initial${EQ(t)}`];return i!==void 0?i:Is(e,t,r)}function RVe(e){let t=BI(e,"selectedItem"),r=BI(e,"isOpen"),n=BI(e,"highlightedIndex"),i=BI(e,"inputValue");return{highlightedIndex:n<0&&t&&r?e.items.indexOf(t):n,isOpen:r,selectedItem:t,inputValue:i}}function Y_(e,t,r,n){let{items:i,initialHighlightedIndex:o,defaultHighlightedIndex:u}=e,{selectedItem:d,highlightedIndex:g}=t;return i.length===0?-1:o!==void 0&&g===o?o:u!==void 0?u:d?r===0?i.indexOf(d):$I(r,i.indexOf(d),i.length,n,!1):r===0?-1:r<0?i.length-1:0}function LVe(e,t,r,n){let i=(0,qt.useRef)({isMouseDown:!1,isTouchMove:!1});return(0,qt.useEffect)(()=>{let o=()=>{i.current.isMouseDown=!0},u=I=>{i.current.isMouseDown=!1,e&&!wVe(I.target,t.map(T=>T.current),r)&&n()},d=()=>{i.current.isTouchMove=!1},g=()=>{i.current.isTouchMove=!0},_=I=>{e&&!i.current.isTouchMove&&!wVe(I.target,t.map(T=>T.current),r,!1)&&n()};return r.addEventListener("mousedown",o),r.addEventListener("mouseup",u),r.addEventListener("touchstart",d),r.addEventListener("touchmove",g),r.addEventListener("touchend",_),function(){r.removeEventListener("mousedown",o),r.removeEventListener("mouseup",u),r.removeEventListener("touchstart",d),r.removeEventListener("touchmove",g),r.removeEventListener("touchend",_)}},[e,r]),i}var IQ=()=>GI;function xR(e,t,r){let g=r,{isInitialMount:n,highlightedIndex:i,items:o,environment:u}=g,d=Yn(g,["isInitialMount","highlightedIndex","items","environment"]);(0,qt.useEffect)(()=>{n||ggr(()=>e(rt({highlightedIndex:i,highlightedItem:o[i],resultCount:o.length},d)),u.document)},t)}function qVe(e){let{highlightedIndex:t,isOpen:r,itemRefs:n,getItemNodeFromIndex:i,menuElement:o,scrollIntoView:u}=e,d=(0,qt.useRef)(!0);return vgr(()=>{t<0||!r||!Object.keys(n.current).length||(d.current===!1?d.current=!0:u(i(t),o))},[t]),d}var TQ=GI;function zVe(e,t,r){let{type:n,props:i}=t,o;switch(n){case r.ItemMouseMove:o={highlightedIndex:t.disabled?-1:t.index};break;case r.MenuMouseLeave:o={highlightedIndex:-1};break;case r.ToggleButtonClick:case r.FunctionToggleMenu:o={isOpen:!e.isOpen,highlightedIndex:e.isOpen?-1:Y_(i,e,0)};break;case r.FunctionOpenMenu:o={isOpen:!0,highlightedIndex:Y_(i,e,0)};break;case r.FunctionCloseMenu:o={isOpen:!1};break;case r.FunctionSetHighlightedIndex:o={highlightedIndex:t.highlightedIndex};break;case r.FunctionSetInputValue:o={inputValue:t.inputValue};break;case r.FunctionReset:o={highlightedIndex:Is(i,"highlightedIndex"),isOpen:Is(i,"isOpen"),selectedItem:Is(i,"selectedItem"),inputValue:Is(i,"inputValue")};break;default:throw new Error("Reducer called without proper action type.")}return rt(rt({},e),o)}function EVe(e){for(var t=e.keysSoFar,r=e.highlightedIndex,n=e.items,i=e.itemToString,o=e.getItemNodeFromIndex,u=t.toLowerCase(),d=0;d<n.length;d++){var g=(d+r+1)%n.length,_=n[g];if(_!==void 0&&i(_).toLowerCase().startsWith(u)){var I=o(g);if(!(I!=null&&I.hasAttribute("disabled")))return g}}return r}var F8n={items:Vt.default.array.isRequired,itemToString:Vt.default.func,getA11yStatusMessage:Vt.default.func,getA11ySelectionMessage:Vt.default.func,circularNavigation:Vt.default.bool,highlightedIndex:Vt.default.number,defaultHighlightedIndex:Vt.default.number,initialHighlightedIndex:Vt.default.number,isOpen:Vt.default.bool,defaultIsOpen:Vt.default.bool,initialIsOpen:Vt.default.bool,selectedItem:Vt.default.any,initialSelectedItem:Vt.default.any,defaultSelectedItem:Vt.default.any,id:Vt.default.string,labelId:Vt.default.string,menuId:Vt.default.string,getItemId:Vt.default.func,toggleButtonId:Vt.default.string,stateReducer:Vt.default.func,onSelectedItemChange:Vt.default.func,onHighlightedIndexChange:Vt.default.func,onStateChange:Vt.default.func,onIsOpenChange:Vt.default.func,environment:Vt.default.shape({addEventListener:Vt.default.func,removeEventListener:Vt.default.func,document:Vt.default.shape({getElementById:Vt.default.func,activeElement:Vt.default.any,body:Vt.default.any})})};function _gr(e){var t=e.isOpen,r=e.resultCount,n=e.previousResultCount;return t?r?r!==n?"".concat(r," result").concat(r===1?" is":"s are"," available, use up and down arrow keys to navigate. Press Enter or Space Bar keys to select."):"":"No results are available.":""}var bgr=FI(FI({},UI),{getA11yStatusMessage:_gr}),xgr=GI,MQ=0,CQ=1,AQ=2,PQ=3,OQ=4,DQ=5,kQ=6,NQ=7,wR=8,jVe=9,FVe=10,RQ=11,BVe=12,LQ=13,qQ=14,zQ=15,UVe=16,VVe=17,$Ve=18,GVe=19,jQ=20,xQ=21,HVe=22,WVe=Object.freeze({__proto__:null,MenuKeyDownArrowDown:MQ,MenuKeyDownArrowUp:CQ,MenuKeyDownEscape:AQ,MenuKeyDownHome:PQ,MenuKeyDownEnd:OQ,MenuKeyDownEnter:DQ,MenuKeyDownSpaceButton:kQ,MenuKeyDownCharacter:NQ,MenuBlur:wR,MenuMouseLeave:jVe,ItemMouseMove:FVe,ItemClick:RQ,ToggleButtonClick:BVe,ToggleButtonKeyDownArrowDown:LQ,ToggleButtonKeyDownArrowUp:qQ,ToggleButtonKeyDownCharacter:zQ,FunctionToggleMenu:UVe,FunctionOpenMenu:VVe,FunctionCloseMenu:$Ve,FunctionSetHighlightedIndex:GVe,FunctionSelectItem:jQ,FunctionSetInputValue:xQ,FunctionReset:HVe});function wgr(e,t){let{type:r,props:n,shiftKey:i}=t,o;switch(r){case RQ:o={isOpen:Is(n,"isOpen"),highlightedIndex:Is(n,"highlightedIndex"),selectedItem:n.items[t.index]};break;case zQ:{let u=t.key,d=`${e.inputValue}${u}`,g=EVe({keysSoFar:d,highlightedIndex:e.selectedItem?n.items.indexOf(e.selectedItem):-1,items:n.items,itemToString:n.itemToString,getItemNodeFromIndex:t.getItemNodeFromIndex});o=rt({inputValue:d},g>=0&&{selectedItem:n.items[g]})}break;case LQ:o={highlightedIndex:Y_(n,e,1,t.getItemNodeFromIndex),isOpen:!0};break;case qQ:o={highlightedIndex:Y_(n,e,-1,t.getItemNodeFromIndex),isOpen:!0};break;case DQ:case kQ:o=rt({isOpen:Is(n,"isOpen"),highlightedIndex:Is(n,"highlightedIndex")},e.highlightedIndex>=0&&{selectedItem:n.items[e.highlightedIndex]});break;case PQ:o={highlightedIndex:Sv(1,0,n.items.length,t.getItemNodeFromIndex,!1)};break;case OQ:o={highlightedIndex:Sv(-1,n.items.length-1,n.items.length,t.getItemNodeFromIndex,!1)};break;case AQ:o={isOpen:!1,highlightedIndex:-1};break;case wR:o={isOpen:!1,highlightedIndex:-1};break;case NQ:{let u=t.key,d=`${e.inputValue}${u}`,g=EVe({keysSoFar:d,highlightedIndex:e.highlightedIndex,items:n.items,itemToString:n.itemToString,getItemNodeFromIndex:t.getItemNodeFromIndex});o=rt({inputValue:d},g>=0&&{highlightedIndex:g})}break;case MQ:o={highlightedIndex:$I(i?5:1,e.highlightedIndex,n.items.length,t.getItemNodeFromIndex,n.circularNavigation)};break;case CQ:o={highlightedIndex:$I(i?-5:-1,e.highlightedIndex,n.items.length,t.getItemNodeFromIndex,n.circularNavigation)};break;case jQ:o={selectedItem:t.selectedItem};break;default:return zVe(e,t,WVe)}return rt(rt({},e),o)}ZVe.stateChangeTypes=WVe;function ZVe(e){e===void 0&&(e={}),xgr(e,ZVe);let t=rt(rt({},bgr),e),{items:r,scrollIntoView:n,environment:i,initialIsOpen:o,defaultIsOpen:u,itemToString:d,getA11ySelectionMessage:g,getA11yStatusMessage:_}=t,I=RVe(t),[T,A]=NVe(wgr,I,t),{isOpen:q,highlightedIndex:z,selectedItem:U,inputValue:N}=T,L=(0,qt.useRef)(null),F=(0,qt.useRef)(null),H=(0,qt.useRef)({}),Y=(0,qt.useRef)(!0),te=(0,qt.useRef)(null),oe=DVe(t),ue=(0,qt.useRef)(),Ie=(0,qt.useRef)(!0),Ee=ER({state:T,props:t}),ve=(0,qt.useCallback)($e=>H.current[oe.getItemId($e)],[oe]);xR(_,[q,z,N,r],rt({isInitialMount:Ie.current,previousResultCount:ue.current,items:r,environment:i,itemToString:d},T)),xR(g,[U],rt({isInitialMount:Ie.current,previousResultCount:ue.current,items:r,environment:i,itemToString:d},T));let xe=qVe({menuElement:F.current,highlightedIndex:z,isOpen:q,itemRefs:H,scrollIntoView:n,getItemNodeFromIndex:ve});(0,qt.useEffect)(()=>(te.current=wQ($e=>{$e({type:xQ,inputValue:""})},500),()=>{te.current.cancel()}),[]),(0,qt.useEffect)(()=>{N&&te.current(A)},[A,N]),TQ({isInitialMount:Ie.current,props:t,state:T}),(0,qt.useEffect)(()=>{if(Ie.current){(o||u||q)&&F.current&&F.current.focus();return}if(q){F.current&&F.current.focus();return}i.document.activeElement===F.current&&L.current&&(Y.current=!1,L.current.focus())},[q]),(0,qt.useEffect)(()=>{Ie.current||(ue.current=r.length)});let Pe=LVe(q,[F,L],i,()=>{A({type:wR})}),we=IQ("getMenuProps","getToggleButtonProps");(0,qt.useEffect)(()=>{Ie.current=!1},[]),(0,qt.useEffect)(()=>{q||(H.current={})},[q]);let Oe=(0,qt.useMemo)(()=>({ArrowDown($e){$e.preventDefault(),A({type:LQ,getItemNodeFromIndex:ve,shiftKey:$e.shiftKey})},ArrowUp($e){$e.preventDefault(),A({type:qQ,getItemNodeFromIndex:ve,shiftKey:$e.shiftKey})}}),[A,ve]),Xe=(0,qt.useMemo)(()=>({ArrowDown($e){$e.preventDefault(),A({type:MQ,getItemNodeFromIndex:ve,shiftKey:$e.shiftKey})},ArrowUp($e){$e.preventDefault(),A({type:CQ,getItemNodeFromIndex:ve,shiftKey:$e.shiftKey})},Home($e){$e.preventDefault(),A({type:PQ,getItemNodeFromIndex:ve})},End($e){$e.preventDefault(),A({type:OQ,getItemNodeFromIndex:ve})},Escape(){A({type:AQ})},Enter($e){$e.preventDefault(),A({type:DQ})}," "($e){$e.preventDefault(),A({type:kQ})}}),[A,ve]),lt=(0,qt.useCallback)(()=>{A({type:UVe})},[A]),pt=(0,qt.useCallback)(()=>{A({type:$Ve})},[A]),qe=(0,qt.useCallback)(()=>{A({type:VVe})},[A]),ut=(0,qt.useCallback)($e=>{A({type:GVe,highlightedIndex:$e})},[A]),bt=(0,qt.useCallback)($e=>{A({type:jQ,selectedItem:$e})},[A]),wt=(0,qt.useCallback)(()=>{A({type:HVe})},[A]),Ge=(0,qt.useCallback)($e=>{A({type:xQ,inputValue:$e})},[A]),st=(0,qt.useCallback)($e=>rt({id:oe.labelId,htmlFor:oe.toggleButtonId},$e),[oe]),tt=(0,qt.useCallback)(function($e,ze){let sr=$e===void 0?{}:$e,{onMouseLeave:ot,refKey:it="ref",onKeyDown:vt,onBlur:ht,ref:It}=sr,Wt=Yn(sr,["onMouseLeave","refKey","onKeyDown","onBlur","ref"]),{suppressRefError:Et=!1}=ze===void 0?{}:ze,kt=Ee.current.state,Xt=Sr=>{let Or=VI(Sr);Or&&Xe[Or]?Xe[Or](Sr):SVe(Or)&&A({type:NQ,key:Or,getItemNodeFromIndex:ve})},yr=()=>{if(Y.current===!1){Y.current=!0;return}!Pe.current.isMouseDown&&A({type:wR})},Pr=()=>{A({type:jVe})};return we("getMenuProps",Et,it,F),rt(dr(rt({[it]:kp(It,Sr=>{F.current=Sr}),id:oe.menuId,role:"listbox","aria-labelledby":oe.labelId,tabIndex:-1},kt.isOpen&&kt.highlightedIndex>-1&&{"aria-activedescendant":oe.getItemId(kt.highlightedIndex)}),{onMouseLeave:qo(ot,Pr),onKeyDown:qo(vt,Xt),onBlur:qo(ht,yr)}),Wt)},[A,Ee,Xe,Pe,we,oe,ve]),je=(0,qt.useCallback)(function($e,ze){let yr=$e===void 0?{}:$e,{onClick:ot,onKeyDown:it,refKey:vt="ref",ref:ht}=yr,It=Yn(yr,["onClick","onKeyDown","refKey","ref"]),{suppressRefError:Wt=!1}=ze===void 0?{}:ze,Et=()=>{A({type:BVe})},kt=Pr=>{let sr=VI(Pr);sr&&Oe[sr]?Oe[sr](Pr):SVe(sr)&&A({type:zQ,key:sr,getItemNodeFromIndex:ve})},Xt=rt({[vt]:kp(ht,Pr=>{L.current=Pr}),id:oe.toggleButtonId,"aria-haspopup":"listbox","aria-expanded":Ee.current.state.isOpen,"aria-labelledby":`${oe.labelId} ${oe.toggleButtonId}`},It);return It.disabled||(Xt.onClick=qo(ot,Et),Xt.onKeyDown=qo(it,kt)),we("getToggleButtonProps",Wt,vt,L),Xt},[A,Ee,Oe,we,oe,ve]),Me=(0,qt.useCallback)(function($e){let Or=$e===void 0?{}:$e,{item:ze,index:ot,onMouseMove:it,onClick:vt,refKey:ht="ref",ref:It,disabled:Wt}=Or,Et=Yn(Or,["item","index","onMouseMove","onClick","refKey","ref","disabled"]),{state:kt,props:Xt}=Ee.current,yr=()=>{ot!==kt.highlightedIndex&&(xe.current=!1,A({type:FVe,index:ot,disabled:Wt}))},Pr=()=>{A({type:RQ,index:ot})},sr=SQ(ot,ze,Xt.items);if(sr<0)throw new Error("Pass either item or item index in getItemProps!");let Sr=rt({disabled:Wt,role:"option","aria-selected":`${sr===kt.highlightedIndex}`,id:oe.getItemId(sr),[ht]:kp(It,Ur=>{Ur&&(H.current[oe.getItemId(sr)]=Ur)})},Et);return Wt||(Sr.onClick=qo(vt,Pr)),Sr.onMouseMove=qo(it,yr),Sr},[A,Ee,xe,oe]);return{getToggleButtonProps:je,getLabelProps:st,getMenuProps:tt,getItemProps:Me,toggleMenu:lt,openMenu:qe,closeMenu:pt,setHighlightedIndex:ut,selectItem:bt,reset:wt,setInputValue:Ge,highlightedIndex:z,isOpen:q,selectedItem:U,inputValue:N}}var FQ=0,BQ=1,UQ=2,VQ=3,$Q=4,GQ=5,HQ=6,SR=7,YVe=8,KVe=9,WQ=10,XVe=11,QVe=12,JVe=13,e$e=14,t$e=15,ZQ=16,r$e=17,n$e=18,YQ=19,i$e=Object.freeze({__proto__:null,InputKeyDownArrowDown:FQ,InputKeyDownArrowUp:BQ,InputKeyDownEscape:UQ,InputKeyDownHome:VQ,InputKeyDownEnd:$Q,InputKeyDownEnter:GQ,InputChange:HQ,InputBlur:SR,MenuMouseLeave:YVe,ItemMouseMove:KVe,ItemClick:WQ,ToggleButtonClick:XVe,FunctionToggleMenu:QVe,FunctionOpenMenu:JVe,FunctionCloseMenu:e$e,FunctionSetHighlightedIndex:t$e,FunctionSelectItem:ZQ,FunctionSetInputValue:r$e,FunctionReset:n$e,ControlledPropUpdatedSelectedItem:YQ});function Sgr(e){let t=RVe(e),{selectedItem:r}=t,{inputValue:n}=t;return n===""&&r&&e.defaultInputValue===void 0&&e.initialInputValue===void 0&&e.inputValue===void 0&&(n=e.itemToString(r)),dr(rt({},t),{inputValue:n})}var B8n={items:Vt.default.array.isRequired,itemToString:Vt.default.func,getA11yStatusMessage:Vt.default.func,getA11ySelectionMessage:Vt.default.func,circularNavigation:Vt.default.bool,highlightedIndex:Vt.default.number,defaultHighlightedIndex:Vt.default.number,initialHighlightedIndex:Vt.default.number,isOpen:Vt.default.bool,defaultIsOpen:Vt.default.bool,initialIsOpen:Vt.default.bool,selectedItem:Vt.default.any,initialSelectedItem:Vt.default.any,defaultSelectedItem:Vt.default.any,inputValue:Vt.default.string,defaultInputValue:Vt.default.string,initialInputValue:Vt.default.string,id:Vt.default.string,labelId:Vt.default.string,menuId:Vt.default.string,getItemId:Vt.default.func,inputId:Vt.default.string,toggleButtonId:Vt.default.string,stateReducer:Vt.default.func,onSelectedItemChange:Vt.default.func,onHighlightedIndexChange:Vt.default.func,onStateChange:Vt.default.func,onIsOpenChange:Vt.default.func,onInputValueChange:Vt.default.func,environment:Vt.default.shape({addEventListener:Vt.default.func,removeEventListener:Vt.default.func,document:Vt.default.shape({getElementById:Vt.default.func,activeElement:Vt.default.any,body:Vt.default.any})})};function Egr(e,t,r){let n=(0,qt.useRef)(),[i,o]=kVe(e,t,r);return(0,qt.useEffect)(()=>{CVe(r,"selectedItem")&&(n.current!==r.selectedItem&&o({type:YQ,inputValue:r.itemToString(r.selectedItem)}),n.current=i.selectedItem===n.current?r.selectedItem:i.selectedItem)}),[bR(i,r),o]}var Igr=GI,Tgr=dr(rt({},UI),{getA11yStatusMessage:cgr,circularNavigation:!0});function Mgr(e,t){let{type:r,props:n,shiftKey:i}=t,o;switch(r){case WQ:o={isOpen:Is(n,"isOpen"),highlightedIndex:Is(n,"highlightedIndex"),selectedItem:n.items[t.index],inputValue:n.itemToString(n.items[t.index])};break;case FQ:e.isOpen?o={highlightedIndex:$I(i?5:1,e.highlightedIndex,n.items.length,t.getItemNodeFromIndex,n.circularNavigation)}:o={highlightedIndex:Y_(n,e,1,t.getItemNodeFromIndex),isOpen:n.items.length>=0};break;case BQ:e.isOpen?o={highlightedIndex:$I(i?-5:-1,e.highlightedIndex,n.items.length,t.getItemNodeFromIndex,n.circularNavigation)}:o={highlightedIndex:Y_(n,e,-1,t.getItemNodeFromIndex),isOpen:n.items.length>=0};break;case GQ:o=rt({},e.isOpen&&e.highlightedIndex>=0&&{selectedItem:n.items[e.highlightedIndex],isOpen:Is(n,"isOpen"),highlightedIndex:Is(n,"highlightedIndex"),inputValue:n.itemToString(n.items[e.highlightedIndex])});break;case UQ:o=rt({isOpen:!1,highlightedIndex:-1},!e.isOpen&&{selectedItem:null,inputValue:""});break;case VQ:o={highlightedIndex:Sv(1,0,n.items.length,t.getItemNodeFromIndex,!1)};break;case $Q:o={highlightedIndex:Sv(-1,n.items.length-1,n.items.length,t.getItemNodeFromIndex,!1)};break;case SR:o=rt({isOpen:!1,highlightedIndex:-1},e.highlightedIndex>=0&&t.selectItem&&{selectedItem:n.items[e.highlightedIndex],inputValue:n.itemToString(n.items[e.highlightedIndex])});break;case HQ:o={isOpen:!0,highlightedIndex:Is(n,"highlightedIndex"),inputValue:t.inputValue};break;case ZQ:o={selectedItem:t.selectedItem,inputValue:n.itemToString(t.selectedItem)};break;case YQ:o={inputValue:t.inputValue};break;default:return zVe(e,t,i$e)}return rt(rt({},e),o)}IR.stateChangeTypes=i$e;function IR(e){e===void 0&&(e={}),Igr(e,IR);let t=rt(rt({},Tgr),e),{initialIsOpen:r,defaultIsOpen:n,items:i,scrollIntoView:o,environment:u,getA11yStatusMessage:d,getA11ySelectionMessage:g,itemToString:_}=t,I=Sgr(t),[T,A]=Egr(Mgr,I,t),{isOpen:q,highlightedIndex:z,selectedItem:U,inputValue:N}=T,L=(0,qt.useRef)(null),F=(0,qt.useRef)({}),H=(0,qt.useRef)(null),Y=(0,qt.useRef)(null),te=(0,qt.useRef)(null),oe=(0,qt.useRef)(!0),ue=DVe(t),Ie=(0,qt.useRef)(),Ee=ER({state:T,props:t}),ve=(0,qt.useCallback)(ze=>F.current[ue.getItemId(ze)],[ue]);xR(d,[q,z,N,i],rt({isInitialMount:oe.current,previousResultCount:Ie.current,items:i,environment:u,itemToString:_},T)),xR(g,[U],rt({isInitialMount:oe.current,previousResultCount:Ie.current,items:i,environment:u,itemToString:_},T));let xe=qVe({menuElement:L.current,highlightedIndex:z,isOpen:q,itemRefs:F,scrollIntoView:o,getItemNodeFromIndex:ve});TQ({isInitialMount:oe.current,props:t,state:T}),(0,qt.useEffect)(()=>{(r||n||q)&&H.current&&H.current.focus()},[]),(0,qt.useEffect)(()=>{oe.current||(Ie.current=i.length)});let Pe=LVe(q,[te,L,Y],u,()=>{A({type:SR,selectItem:!1})}),we=IQ("getInputProps","getComboboxProps","getMenuProps");(0,qt.useEffect)(()=>{oe.current=!1},[]),(0,qt.useEffect)(()=>{q||(F.current={})},[q]);let Oe=(0,qt.useMemo)(()=>({ArrowDown(ze){ze.preventDefault(),A({type:FQ,shiftKey:ze.shiftKey,getItemNodeFromIndex:ve})},ArrowUp(ze){ze.preventDefault(),A({type:BQ,shiftKey:ze.shiftKey,getItemNodeFromIndex:ve})},Home(ze){Ee.current.state.isOpen&&(ze.preventDefault(),A({type:VQ,getItemNodeFromIndex:ve}))},End(ze){Ee.current.state.isOpen&&(ze.preventDefault(),A({type:$Q,getItemNodeFromIndex:ve}))},Escape(ze){let ot=Ee.current.state;(ot.isOpen||ot.inputValue||ot.selectedItem||ot.highlightedIndex>-1)&&(ze.preventDefault(),A({type:UQ}))},Enter(ze){let ot=Ee.current.state;!ot.isOpen||ot.highlightedIndex<0||ze.which===229||(ze.preventDefault(),A({type:GQ,getItemNodeFromIndex:ve}))}}),[A,Ee,ve]),Xe=(0,qt.useCallback)(ze=>rt({id:ue.labelId,htmlFor:ue.inputId},ze),[ue]),lt=(0,qt.useCallback)(function(ze,ot){let Et=ze===void 0?{}:ze,{onMouseLeave:it,refKey:vt="ref",ref:ht}=Et,It=Yn(Et,["onMouseLeave","refKey","ref"]),{suppressRefError:Wt=!1}=ot===void 0?{}:ot;return we("getMenuProps",Wt,vt,L),rt({[vt]:kp(ht,kt=>{L.current=kt}),id:ue.menuId,role:"listbox","aria-labelledby":ue.labelId,onMouseLeave:qo(it,()=>{A({type:YVe})})},It)},[A,we,ue]),pt=(0,qt.useCallback)(function(ze){let Le=ze===void 0?{}:ze,{item:ot,index:it,refKey:vt="ref",ref:ht,onMouseMove:It,onMouseDown:Wt,onClick:Et,onPress:kt,disabled:Xt}=Le,yr=Yn(Le,["item","index","refKey","ref","onMouseMove","onMouseDown","onClick","onPress","disabled"]),{props:Pr,state:sr}=Ee.current,Sr=SQ(it,ot,Pr.items);if(Sr<0)throw new Error("Pass either item or item index in getItemProps!");let Or="onClick",Ur=Et,er=()=>{it!==sr.highlightedIndex&&(xe.current=!1,A({type:KVe,index:it,disabled:Xt}))},Vr=()=>{A({type:WQ,index:it})},xi=J=>J.preventDefault();return rt(dr(rt({[vt]:kp(ht,J=>{J&&(F.current[ue.getItemId(Sr)]=J)}),disabled:Xt,role:"option","aria-selected":`${Sr===sr.highlightedIndex}`,id:ue.getItemId(Sr)},!Xt&&{[Or]:qo(Ur,Vr)}),{onMouseMove:qo(It,er),onMouseDown:qo(Wt,xi)}),yr)},[A,Ee,xe,ue]),qe=(0,qt.useCallback)(function(ze){let Et=ze===void 0?{}:ze,{onClick:ot,onPress:it,refKey:vt="ref",ref:ht}=Et,It=Yn(Et,["onClick","onPress","refKey","ref"]),Wt=()=>{A({type:XVe}),!Ee.current.state.isOpen&&H.current&&H.current.focus()};return rt(rt({[vt]:kp(ht,kt=>{Y.current=kt}),id:ue.toggleButtonId,tabIndex:-1},!It.disabled&&{onClick:qo(ot,Wt)}),It)},[A,Ee,ue]),ut=(0,qt.useCallback)(function(ze,ot){let Vr=ze===void 0?{}:ze,{onKeyDown:it,onChange:vt,onInput:ht,onBlur:It,onChangeText:Wt,refKey:Et="ref",ref:kt}=Vr,Xt=Yn(Vr,["onKeyDown","onChange","onInput","onBlur","onChangeText","refKey","ref"]),{suppressRefError:yr=!1}=ot===void 0?{}:ot;we("getInputProps",yr,Et,H);let Pr=Ee.current.state,sr=xi=>{let Le=VI(xi);Le&&Oe[Le]&&Oe[Le](xi)},Sr=xi=>{A({type:HQ,inputValue:xi.target.value})},Or=()=>{Pr.isOpen&&!Pe.current.isMouseDown&&A({type:SR,selectItem:!0})},Ur="onChange",er={};return Xt.disabled||(er={[Ur]:qo(vt,ht,Sr),onKeyDown:qo(it,sr),onBlur:qo(It,Or)}),rt(rt(dr(rt({[Et]:kp(kt,xi=>{H.current=xi}),id:ue.inputId,"aria-autocomplete":"list","aria-controls":ue.menuId},Pr.isOpen&&Pr.highlightedIndex>-1&&{"aria-activedescendant":ue.getItemId(Pr.highlightedIndex)}),{"aria-labelledby":ue.labelId,autoComplete:"off",value:Pr.inputValue}),er),Xt)},[A,Oe,Ee,Pe,we,ue]),bt=(0,qt.useCallback)(function(ze,ot){let Wt=ze===void 0?{}:ze,{refKey:it="ref",ref:vt}=Wt,ht=Yn(Wt,["refKey","ref"]),{suppressRefError:It=!1}=ot===void 0?{}:ot;return we("getComboboxProps",It,it,te),rt({[it]:kp(vt,Et=>{te.current=Et}),role:"combobox","aria-haspopup":"listbox","aria-owns":ue.menuId,"aria-expanded":Ee.current.state.isOpen},ht)},[Ee,we,ue]),wt=(0,qt.useCallback)(()=>{A({type:QVe})},[A]),Ge=(0,qt.useCallback)(()=>{A({type:e$e})},[A]),st=(0,qt.useCallback)(()=>{A({type:JVe})},[A]),tt=(0,qt.useCallback)(ze=>{A({type:t$e,highlightedIndex:ze})},[A]),je=(0,qt.useCallback)(ze=>{A({type:ZQ,selectedItem:ze})},[A]),Me=(0,qt.useCallback)(ze=>{A({type:r$e,inputValue:ze})},[A]),$e=(0,qt.useCallback)(()=>{A({type:n$e})},[A]);return{getItemProps:pt,getLabelProps:Xe,getMenuProps:lt,getInputProps:ut,getComboboxProps:bt,getToggleButtonProps:qe,toggleMenu:wt,openMenu:st,closeMenu:Ge,setHighlightedIndex:tt,setInputValue:Me,selectItem:je,reset:$e,highlightedIndex:z,isOpen:q,selectedItem:U,inputValue:N}}var o$e={activeIndex:-1,selectedItems:[]};function IVe(e,t){return BI(e,t,o$e)}function TVe(e,t){return Is(e,t,o$e)}function Cgr(e){let t=IVe(e,"activeIndex"),r=IVe(e,"selectedItems");return{activeIndex:t,selectedItems:r}}function MVe(e){if(e.shiftKey||e.metaKey||e.ctrlKey||e.altKey)return!1;let t=e.target;return!(t instanceof HTMLInputElement&&t.value!==""&&(t.selectionStart!==0||t.selectionEnd!==0))}function Agr(e){let{removedSelectedItem:t,itemToString:r}=e;return`${r(t)} has been removed.`}var U8n={selectedItems:Vt.default.array,initialSelectedItems:Vt.default.array,defaultSelectedItems:Vt.default.array,itemToString:Vt.default.func,getA11yRemovalMessage:Vt.default.func,stateReducer:Vt.default.func,activeIndex:Vt.default.number,initialActiveIndex:Vt.default.number,defaultActiveIndex:Vt.default.number,onActiveIndexChange:Vt.default.func,onSelectedItemsChange:Vt.default.func,keyNavigationNext:Vt.default.string,keyNavigationPrevious:Vt.default.string,environment:Vt.default.shape({addEventListener:Vt.default.func,removeEventListener:Vt.default.func,document:Vt.default.shape({getElementById:Vt.default.func,activeElement:Vt.default.any,body:Vt.default.any})})},Pgr={itemToString:UI.itemToString,stateReducer:UI.stateReducer,environment:UI.environment,getA11yRemovalMessage:Agr,keyNavigationNext:"ArrowRight",keyNavigationPrevious:"ArrowLeft"},Ogr=GI,KQ=0,XQ=1,QQ=2,JQ=3,eJ=4,tJ=5,rJ=6,nJ=7,iJ=8,oJ=9,aJ=10,sJ=11,lJ=12,Dgr=Object.freeze({__proto__:null,SelectedItemClick:KQ,SelectedItemKeyDownDelete:XQ,SelectedItemKeyDownBackspace:QQ,SelectedItemKeyDownNavigationNext:JQ,SelectedItemKeyDownNavigationPrevious:eJ,DropdownKeyDownNavigationPrevious:tJ,DropdownKeyDownBackspace:rJ,DropdownClick:nJ,FunctionAddSelectedItem:iJ,FunctionRemoveSelectedItem:oJ,FunctionSetSelectedItems:aJ,FunctionSetActiveIndex:sJ,FunctionReset:lJ});function kgr(e,t){let{type:r,index:n,props:i,selectedItem:o}=t,{activeIndex:u,selectedItems:d}=e,g;switch(r){case KQ:g={activeIndex:n};break;case eJ:g={activeIndex:u-1<0?0:u-1};break;case JQ:g={activeIndex:u+1>=d.length?-1:u+1};break;case QQ:case XQ:{let _=u;d.length===1?_=-1:u===d.length-1&&(_=d.length-2),g={selectedItems:[...d.slice(0,u),...d.slice(u+1)],activeIndex:_};break}case tJ:g={activeIndex:d.length-1};break;case rJ:g={selectedItems:d.slice(0,d.length-1)};break;case iJ:g={selectedItems:[...d,o]};break;case nJ:g={activeIndex:-1};break;case oJ:{let _=u,I=d.indexOf(o);I>=0&&(d.length===1?_=-1:I===d.length-1&&(_=d.length-2),g={selectedItems:[...d.slice(0,I),...d.slice(I+1)],activeIndex:_});break}case aJ:{let{selectedItems:_}=t;g={selectedItems:_};break}case sJ:{let{activeIndex:_}=t;g={activeIndex:_};break}case lJ:g={activeIndex:TVe(i,"activeIndex"),selectedItems:TVe(i,"selectedItems")};break;default:throw new Error("Reducer called without proper action type.")}return rt(rt({},e),g)}a$e.stateChangeTypes=Dgr;function a$e(e){e===void 0&&(e={}),Ogr(e,a$e);let t=rt(rt({},Pgr),e),{getA11yRemovalMessage:r,itemToString:n,environment:i,keyNavigationNext:o,keyNavigationPrevious:u}=t,[d,g]=NVe(kgr,Cgr(t),t),{activeIndex:_,selectedItems:I}=d,T=(0,qt.useRef)(!0),A=(0,qt.useRef)(null),q=(0,qt.useRef)(I),z=(0,qt.useRef)();z.current=[];let U=ER({state:d,props:t});(0,qt.useEffect)(()=>{if(!T.current){if(I.length<q.current.length){let ve=q.current.find(xe=>I.indexOf(xe)<0);AVe(r({itemToString:n,resultCount:I.length,removedSelectedItem:ve,activeIndex:_,activeSelectedItem:I[_]}),i.document)}q.current=I}},[I.length]),(0,qt.useEffect)(()=>{T.current||(_===-1&&A.current?A.current.focus():z.current[_]&&z.current[_].focus())},[_]),TQ({isInitialMount:T.current,props:t,state:d});let N=IQ("getDropdownProps");(0,qt.useEffect)(()=>{T.current=!1},[]);let L=(0,qt.useMemo)(()=>({[u](){g({type:eJ})},[o](){g({type:JQ})},Delete(){g({type:XQ})},Backspace(){g({type:QQ})}}),[g,o,u]),F=(0,qt.useMemo)(()=>({[u](ve){MVe(ve)&&g({type:tJ})},Backspace(ve){MVe(ve)&&g({type:rJ})}}),[g,u]),H=(0,qt.useCallback)(function(ve){let Ge=ve===void 0?{}:ve,{refKey:xe="ref",ref:Pe,onClick:we,onKeyDown:Oe,selectedItem:Xe,index:lt}=Ge,pt=Yn(Ge,["refKey","ref","onClick","onKeyDown","selectedItem","index"]),{state:qe}=U.current;if(SQ(lt,Xe,qe.selectedItems)<0)throw new Error("Pass either selectedItem or index in getSelectedItemProps!");let bt=()=>{g({type:KQ,index:lt})},wt=st=>{let tt=VI(st);tt&&L[tt]&&L[tt](st)};return rt({[xe]:kp(Pe,st=>{st&&z.current.push(st)}),tabIndex:lt===qe.activeIndex?0:-1,onClick:qo(we,bt),onKeyDown:qo(Oe,wt)},pt)},[g,U,L]),Y=(0,qt.useCallback)(function(ve,xe){let wt=ve===void 0?{}:ve,{refKey:Pe="ref",ref:we,onKeyDown:Oe,onClick:Xe,preventKeyAction:lt=!1}=wt,pt=Yn(wt,["refKey","ref","onKeyDown","onClick","preventKeyAction"]),{suppressRefError:qe=!1}=xe===void 0?{}:xe;N("getDropdownProps",qe,Pe,A);let ut=Ge=>{let st=VI(Ge);st&&F[st]&&F[st](Ge)},bt=()=>{g({type:nJ})};return rt(rt({[Pe]:kp(we,Ge=>{Ge&&(A.current=Ge)})},!lt&&{onKeyDown:qo(Oe,ut),onClick:qo(Xe,bt)}),pt)},[g,F,N]),te=(0,qt.useCallback)(ve=>{g({type:iJ,selectedItem:ve})},[g]),oe=(0,qt.useCallback)(ve=>{g({type:oJ,selectedItem:ve})},[g]),ue=(0,qt.useCallback)(ve=>{g({type:aJ,selectedItems:ve})},[g]),Ie=(0,qt.useCallback)(ve=>{g({type:sJ,activeIndex:ve})},[g]),Ee=(0,qt.useCallback)(()=>{g({type:lJ})},[g]);return{getSelectedItemProps:H,getDropdownProps:Y,addSelectedItem:te,removeSelectedItem:oe,setSelectedItems:ue,setActiveIndex:Ie,reset:Ee,selectedItems:I,activeIndex:_}}var um=se(Qt(),1);function uJ({buttonProps:e,fetchInputItems:t,label:r,itemToString:n,inputProps:i,onSelectedItemChange:o,timeout:u=300}){let[d,g]=(0,Ts.useState)([]),[_,I]=(0,Ts.useState)(void 0),T=(0,Ts.useRef)(),A=(0,Ts.useRef)(null),q=Oe=>{clearTimeout(A.current),A.current=setTimeout(()=>{t(Oe).then(Xe=>g(Xe))},u)},z=({inputValue:Oe})=>{_!==void 0&&I(void 0),q(Oe)},U=({selectedItem:Oe})=>{o!==void 0&&o(Oe),I(Oe)},{isOpen:N,getToggleButtonProps:L,getLabelProps:F,getMenuProps:H,getInputProps:Y,getComboboxProps:te,getItemProps:oe,highlightedIndex:ue}=IR({items:d,itemToString:n,onInputValueChange:z,onSelectedItemChange:U}),Pe=e!=null?e:{},{onClick:Ie}=Pe,Ee=Yn(Pe,["onClick"]),we=Y(),{ref:ve}=we,xe=Yn(we,["ref"]);return Ts.default.createElement("div",{className:"vkf-autocomplete-container"},Ts.default.createElement("label",dr(rt({},F()),{id:xe["aria-labelledby"],className:"visually-hidden"}),r!==void 0?r:i.placeholder),Ts.default.createElement("div",rt({className:"form-group"},te()),Ts.default.createElement("input",rt(dr(rt({},xe),{ref:Oe=>{ve(Oe),T.current=Oe},type:"text"}),i)),Ts.default.createElement("button",rt(rt(dr(rt({type:"button"},L()),{"aria-label":"toggle menu"}),Ee),Ie!==void 0?{onClick:()=>{Ie(_,T.current!==null?T.current.value:"")}}:{}),"\u2193")),Ts.default.createElement("div",{className:"autocomplete-dropdown"},Ts.default.createElement("ul",dr(rt({className:"autocomplete-result-list"},H()),{id:xe["aria-controls"]}),N&&d.map((Oe,Xe)=>Ts.default.createElement("li",rt({className:wr("ui-menu-item",ue===Xe&&"highlighted",_===Oe&&"selected"),key:`${Oe.label}${Xe}`},oe({item:Oe,index:Xe})),Oe.label)))))}uJ.propTypes={buttonProps:um.default.object,fetchInputItems:um.default.func,label:um.default.string,inputProps:um.default.object,itemToString:um.default.func,onSelectedItemChange:um.default.func,timeout:um.default.number};p();var cJ=(e,t,r)=>{let n=e+"?format=json&q="+t;return ya.get(n).then(i=>{let u=i.data.map(d=>({label:d.display_name,value:d.display_name,lonlat:{x:parseFloat(d.lon),y:parseFloat(d.lat)},type:d.type}));return r!==void 0&&r(),u})};var Ngr=e=>e?e.label:"",s$e=e=>{let{onSelectPosition:t,searchUrl:r}=e,[n,i]=(0,Ev.useState)(!1),o=zi(Qa),u=(0,Ev.useCallback)(g=>(i(!0),cJ(r,g,()=>{i(!1)})),[r]),d=(g,_)=>{g!==void 0?t(g):cJ(r,_).then(I=>{if(I.length>0)t(I[0]);else throw new Error(gt("placenamesearch-unknown-placename"))}).catch(()=>{o({id:"placenamesearch",type:"warning",text:gt("placenamesearch-unknown-placename")})})};return Ev.default.createElement("div",{className:"gazetteersearch-container"},Ev.default.createElement(uJ,{buttonProps:{className:"form-control gazetteersearch-submit",onClick:d,"aria-label":gt("placenamesearch-submit"),title:gt("placenamesearch-submit")},fetchInputItems:u,inputProps:{className:`form-control gazetteersearch-input ${n?"loading":""}`,placeholder:gt("placenamesearch-placeholder")},itemToString:Ngr,onSelectedItemChange:d}))};s$e.propTypes={onSelectPosition:pJ.default.func.isRequired,searchUrl:pJ.default.string.isRequired};var l$e=s$e;var u$e=se(Qt(),1),c$e=({searchUrl:e})=>{let t=vr(Sn),r=(0,TR.useCallback)(n=>{if(t){let i=[n.lonlat.x,n.lonlat.y];t.flyTo({center:i,zoom:12})}},[t]);return TR.default.createElement(l$e,{onSelectPosition:r,searchUrl:e})};c$e.propTypes={searchUrl:u$e.default.string.isRequired};var p$e=c$e;var f$e=({customQuery:e,MapSearchListItemComponent:t,mosaicMode:r})=>{let n=vr($Ne);return cm.default.createElement("div",{className:wr("vkf-spatialsearch-root",!n&&"in")},cm.default.createElement("div",{className:"spatialsearch-inner-container"},cm.default.createElement("div",{className:"spatialsearch-content-panel"},cm.default.createElement("div",{className:"body-container"},cm.default.createElement(p$e,{searchUrl:kr.getNominatimUrl()}),cm.default.createElement(uVe,null),cm.default.createElement(qFe,{customQuery:e,MapSearchListItemComponent:t,mosaicMode:r})))))};f$e.propTypes={customQuery:MR.default.array,MapSearchListItemComponent:MR.default.elementType,mosaicMode:MR.default.bool};var d$e=f$e;p();var hi=se(Je(),1);p();var Np=se(Je(),1);var X_=se(Qt(),1);p();p();p();var pm=se(Je(),1);p();p();var Sc=se(Je(),1),nl=se(Qt(),1);p();var HI=N_;var fJ={NONE:"control-none-gcp",ADD:"control-add-gcp",MOVE:"control-move-gcp",DEL:"control-del-gcp"},h$e=e=>{let{id:t,activeControl:r,className:n="",parentIconClassName:i,defaultTitle:o="unknown",disableActiveBehavior:u=!1,IconComponent:d,options:g=[{id:fJ.ADD,title:gt("georef-setgcp"),iconClassName:"icon-point-add"},{id:fJ.MOVE,title:gt("georef-movegcp"),iconClassName:"icon-point-move"},{id:fJ.DEL,title:gt("georef-delgcp"),iconClassName:"icon-point-remove"}],onClick:_}=e,I=g.find(A=>A.id===r),T=A=>{_(A)};return Sc.default.createElement("div",{className:wr("vkf-control-dropdown",I&&!u?"active":"",n)},Sc.default.createElement(OE,{id:t,className:"btn-dropdown-vkf-control",bsStyle:"default",key:I?I.id:null},Sc.default.createElement(OE.Toggle,null,d===void 0?Sc.default.createElement(HI,{name:i,size:24}):Sc.default.createElement(d,{glyph:i}),I?I.title:o),Sc.default.createElement(OE.Menu,null,g.map(A=>Sc.default.createElement(_Y,{key:A.id,eventKey:A.id,onClick:()=>T(A.id),className:wr("control-option",A.id)},d===void 0?Sc.default.createElement(HI,{name:`${A.iconClassName}`,size:24}):Sc.default.createElement(d,{glyph:A.iconClassName}),Sc.default.createElement("span",{className:"text"},A.title))))))};h$e.propTypes={activeControl:nl.default.string,className:nl.default.string,defaultTitle:nl.default.string,disableActiveBehavior:nl.default.bool,IconComponent:nl.default.elementType,id:nl.default.string,parentIconClassName:nl.default.string,options:nl.default.arrayOf(nl.default.shape({id:nl.default.string.isRequired,title:nl.default.string.isRequired,iconClassName:nl.default.string.isRequired})),onClick:nl.default.func.isRequired};var m$e=h$e;var g$e=m$e;p();var v$e=e=>sn(null,null,function*(){let t=kr.getGeoreferenceApiClient(),r=`/mosaic_maps/${e}`,n=yield t.delete(r);if(n.status===200)return n.data;throw console.error("Something went wrong while trying to delete the mosaic map."),new Error("Something went wrong while trying to delete the mosaic map.")}),y$e=()=>sn(null,null,function*(){let r=yield kr.getGeoreferenceApiClient().get("/mosaic_maps/");if(r.status===200)return r.data.map(lN);throw console.error("Something went wrong while trying to fetch the mosaic maps."),new Error("Something went wrong while trying to fetch the mosaic maps.")}),_$e=e=>sn(null,null,function*(){let t=kr.getGeoreferenceApiClient(),r=`/mosaic_maps/${e}/refresh`,n=yield t.post(r);if(n.status===200)return n.data;throw console.error("Something went wrong while trying to refresh the mosaic maps overview."),new Error("Something went wrong while trying to refresh the mosaic maps overview.")}),b$e=e=>sn(null,null,function*(){if(e.id===void 0||e.id===zo){let t=e,{id:r}=t,n=Yn(t,["id"]);return yield Rgr(n)}else return yield Lgr(e)}),Rgr=e=>sn(null,null,function*(){let t=kr.getGeoreferenceApiClient(),r="/mosaic_maps/",n=iX(e),i=yield t.post(r,n);if(i.status===200)return lN(i.data);throw console.error("Something went wrong while trying to create the mosaic map."),new Error("Something went wrong while trying to create the mosaic map.")}),Lgr=e=>sn(null,null,function*(){let t=kr.getGeoreferenceApiClient(),{id:r}=e,n=`/mosaic_maps/${r}`,i=iX(e),o=yield t.post(n,i);if(o.status===200)return lN(o.data);throw console.error("Something went wrong while trying to update the mosaic map."),new Error("Something went wrong while trying to update the mosaic map.")});p();p();function x$e(e){return sn(this,null,function*(){let t=kr.getSettings().API_SEARCH;if(t===void 0)throw new Error("The url for the search endpoint is not set.");let r=yield ya.get(`${t}/_doc/${e}`);if(r.status===200)return r.data._source;console.error("Something went wrong while trying to fetch search document.")})}var w$e=e=>x$e(e).then(t=>nX(e,t)).catch(()=>{let t=new Kg({metadata:{id:e,has_georeference:!1}});return t.setIsMissing(!0),t});p();var CR=se(Je(),1);var Ec="mosaic-map-overlay-source",qgr="mosaic-map-overlay-fill",S$e="mosaic-map-overlay-outline",AR=e=>{e.moveLayer(S$e)},Iv=e=>{let t={type:"FeatureCollection",features:[]},r=e.getSource(Ec);r&&r.setData(t)},E$e=()=>CR.default.createElement(CR.default.Fragment,null,CR.default.createElement(GP,{sourceId:Ec,fillId:qgr,outlineId:S$e}));E$e.propTypes={};var I$e=E$e;p();var M$e=se(PS(),1);var K_=24,PR=100,zgr={left:K_+hN.width+PR,right:K_+dX.width+PR,top:60,bottom:K_},jgr={left:50,right:50,top:75,bottom:150},Fgr=e=>({padding:e===cp.HORIZONTAL?zgr:jgr,animate:!1}),Bgr={padding:{left:K_+hN.width*2+PR,right:PR,top:K_,bottom:K_},animate:!1},T$e=e=>{let t=e;Array.isArray(e)||(t=[e]);let r=null;for(let n of t){let i=n.getMetadata(Kt.bounds);if(!Ft(r)){r=new M$e.LngLatBounds(i);continue}r.extend(i)}return r},Ugr=()=>{let e=I1(({snapshot:r})=>n=>sn(null,null,function*(){let i=yield r.getPromise(Sn),o=yield r.getPromise(bO),u=Fgr(o);if(Ft(i)){let d=T$e(n);i.fitBounds(d,u)}}),[]),t=I1(({snapshot:r})=>n=>sn(null,null,function*(){let i=yield r.getPromise(Sn);if(Ft(i)){let o=T$e(n);i.fitBounds(o,Bgr)}}),[]);return{zoomToExtent:e,zoomToExtentMosaicMap:t}},C$e=Ugr;var zo="create-new-mosaic-map",Vgr=()=>{let[e,t]=qn(fm),[r,n]=(0,pm.useState)(e===os.DOWNLOADING_LIST),i=vr(Sn),[o,u]=pm.default.useState([]),[d,g]=qn(Eu),_=zi(il),I=zi(Qa),{zoomToExtentMosaicMap:T}=C$e(),A=()=>{n(!0),y$e().then(z=>{u(z),n(!1),t(U=>U===os.DOWNLOADING_LIST?os.NOT_LOADING:U)}).catch(z=>{console.error(z),I({id:"mosaic-map-failed-load-list",type:"danger",text:gt("mosaic-map-error-messages-failed-load-list")})})},q=z=>{var N;let U=(N=o.find(L=>L.id===z))!=null?N:{id:zo};if(g(U),U.raw_map_ids!==void 0){let L=U.raw_map_ids.map(F=>w$e(F));Promise.all(L).then(F=>{i!==void 0&&T(F),Iv(i),_(F),F.forEach(H=>H.addToOverlay(i,Ec))}).catch(F=>{console.error(F)})}else _([]),Iv(i)};return(0,pm.useEffect)(()=>{e===os.DOWNLOADING_LIST&&r===!1&&A()},[e]),(0,pm.useEffect)(()=>{A()},[]),pm.default.createElement(g$e,{id:"control-toggle-transformation",activeControl:d.id,className:"control-toggle-mosaic-map",disableActiveBehavior:!0,IconComponent:Eo,options:[...o.map(z=>dr(rt({},z),{iconClassName:"th-large"})),{iconClassName:"plus",id:zo,title:gt("mosaic-maps-create-new")}],onClick:q,parentIconClassName:d.id===zo?"plus":"th-large"})},A$e=Vgr;var il=mn({key:"mosaicMapSelectedLayersState",default:[],dangerouslyAllowMutability:!0}),z9n=mn({key:"mosaicMapGeometryLayerState",default:void 0,dangerouslyAllowMutability:!0}),Eu=mn({key:"mosaicMapSelectedMosaicMapState",default:{id:zo}}),os={NOT_LOADING:0,UPLOADING_CHANGES:1,DOWNLOADING_LIST:2},fm=mn({key:"mosaicMapLoadingState",default:os.NOT_LOADING});function $gr(e,t){return e.sort(function(r,n){let i=r.getMetadata(t),o=n.getMetadata(t);return typeof i=="string"&&(i=(""+i).toLowerCase()),typeof o=="string"&&(o=(""+o).toLowerCase()),i<o?-1:i>o?1:0})}var dJ=({minimumBatchSize:e=20,renderConsumer:t,sortSettings:r})=>{let{activeType:n,sortOrder:i}=r,[o,u]=(0,Np.useState)({itemCount:10,id:Date.now()}),d=vr(il),g=(0,Np.useCallback)((I,T)=>d===void 0?new Promise(A=>A([])):new Promise(A=>{let q=$gr(d.slice(I,I+T),n);i==="descending"&&q.reverse(),A(q)}),[d,i,n]),_=(0,Np.useCallback)(()=>{u({itemCount:d.length,id:Date.now()})},[g]);return(0,Np.useEffect)(()=>{_()},[d,n,i]),Np.default.createElement(Np.default.Fragment,null,t({minimumBatchSize:e,onRefresh:_,onFetchResults:g,searchResultDescriptor:o}))};dJ.propTypes={minimumBatchSize:X_.default.number,renderConsumer:X_.default.func,sortSettings:X_.default.shape({activeType:X_.default.string,sortOrder:X_.default.string})};p();var ai=se(Je(),1),Iu=se(Qt(),1);var WI=se(WK(),1);var P$e="http://www.deutschefotothek.de/images/noimage/image120.jpg",O$e=({children:e,data:t,index:r,onMouseEnter:n,onMouseLeave:i,style:o})=>{var ve;let{direction:u,maps:d}=t,g=vr(Sn),[_,I]=qn(il),[T,A]=qn(Ys),q=(ve=d[r])!=null?ve:Tp,z=_.find(xe=>xe.getId()===q.getId()),[U,N]=(0,ai.useState)(q.getMetadata(Kt.thumbnailUrl)===void 0?"":q.getMetadata(Kt.thumbnailUrl).replace("http:","")),L=q===Tp,F=q.isMissing(),H=z==null?void 0:z.isDisplayedInMap(g),Y=q.getMetadata(Kt.mapScale)==="0"||q.getMetadata(Kt.mapScale)===0?gt("mapsearch-listelement-unknown"):`1:${q.getMetadata(Kt.mapScale)}`,te=q.getDisplayTime(),oe=q.getSortTime(),ue=xe=>{xe.stopPropagation(),D_(T,z)?(A(we=>we.filter(Oe=>Oe.getId()!==z.getId())),z.removeMapLibreLayers(g)):k_(z).then(we=>{z.addLayerToMap(g,{sourceSettings:we}),A(Oe=>[...Oe,z])})},Ie=()=>{U!==""&&U!==P$e&&N(P$e)},Ee=xe=>{xe.stopPropagation(),I(Pe=>Pe.filter(we=>we.getId()!==q.getId())),z.removeFromOverlay(g,Ec)};return(0,ai.useEffect)(()=>{N(q.getMetadata(Kt.thumbnailUrl))},[q]),ai.default.createElement("li",{tabIndex:0,style:o,className:wr("vkf-mapsearch-record","vkf-mosaic-map-selected-list-element",q.getType(),H&&"selected",u,L&&"loading",F&&"missing"),id:q.getId(),onMouseEnter:n,onMouseLeave:i},e,ai.default.createElement("span",{className:"data-col time"},isNaN(oe)?"":oe),ai.default.createElement("span",{className:"data-col title"},q.getMetadata(Kt.title)),ai.default.createElement("span",{className:"data-col time"},"1"),ai.default.createElement("div",{className:"view-item"},!F&&ai.default.createElement("span",{className:"thumbnail"},U===""?ai.default.createElement(WI.default.default,{height:"calc(100% - 6px)"}):ai.default.createElement("img",{alt:`Thumbnail Image of Map ${q.getMetadata(Kt.title)} ${te}`,onError:Ie,src:U})),ai.default.createElement("div",{className:"overview"},ai.default.createElement("h2",null,L?ai.default.createElement(WI.default.default,null):F?`${gt("mosaic-map-missing-sheet")}: ${q.getId()}`:q.getMetadata(Kt.title)),ai.default.createElement("div",{className:"details"},!F&&ai.default.createElement(ai.default.Fragment,null,ai.default.createElement("div",{className:"timestamp"},L?ai.default.createElement(WI.default.default,null):`${gt("mapsearch-listelement-time")} ${te}`),ai.default.createElement("div",{className:"scale"},L?ai.default.createElement(WI.default.default,null):`${gt("mapsearch-listelement-scale")} ${Y}`)),!q.getMetadata(Kt.hasGeoReference)&&ai.default.createElement("div",{className:"georeference"},gt("mapsearch-listelement-no-georef")))),ai.default.createElement("div",{className:"actions"},!F&&ai.default.createElement("button",{className:"vkf-mosaic-map-preview",onClick:ue},ai.default.createElement(Eo,{glyph:H?"eye-open":"eye-close"})),ai.default.createElement("button",{className:"vkf-mosaic-map-delete",onClick:Ee},ai.default.createElement(Eo,{glyph:"trash"})))))};O$e.propTypes={children:Iu.default.element,data:Iu.default.shape({direction:Iu.default.oneOf(["horizontal","vertical"]),feature:Iu.default.object,maps:Iu.default.object,selected:Iu.default.bool}),onClick:Iu.default.func,onMouseEnter:Iu.default.func,onMouseLeave:Iu.default.func,index:Iu.default.number,style:Iu.default.object};var D$e=O$e;var Ggr=()=>{let e=vr(Sn),[t,r]=qn(Ys),[n,i]=qn(il),o=n.length===0,u=!o&&n.every(T=>T.isDisplayedInMap(e)),d=t.length===0||t.filter(T=>n.find(A=>A.getId()===T.getId())!==void 0).length===t.length,g=()=>{t.forEach(T=>{let A=T.getId();n.find(q=>q.getId()===A)===void 0&&(i(q=>[...q,T]),T.addToOverlay(e,Ec))})},_=()=>{let T=n.map(A=>A.getId());if(u){r(A=>A.filter(q=>!T.includes(q.getId()))),n.forEach(A=>A.removeMapLibreLayers(e));return}n.filter(A=>!A.isDisplayedInMap(e)).forEach(A=>k_(A).then(q=>{A.addLayerToMap(e,{sourceSettings:q}),r(z=>[...z,A])})),AR(e)},I=()=>{i([]),Iv(e)};return hi.default.createElement("div",{className:wr("mapsearch-container")},hi.default.createElement("div",{className:"spatialsearch-inner-container"},hi.default.createElement("div",{className:"spatialsearch-content-panel"},hi.default.createElement("div",{className:"body-container"},hi.default.createElement("div",{className:"header-container"},hi.default.createElement("div",{className:"title"},hi.default.createElement("h4",null,gt("mosaic-maps-refresh-selected-list-title")),hi.default.createElement(Eo,{glyph:"th-large"})),hi.default.createElement("div",{className:"actions"},hi.default.createElement("div",{className:"add-all-selected"},hi.default.createElement(Xa,{disabled:d,onClick:g},gt("mosaic-maps-add-all-selected"))),hi.default.createElement("div",{className:"action-container"},hi.default.createElement("div",{className:"view-all-toggle control"},hi.default.createElement("button",{className:wr(!u&&"selected"),disabled:o,onClick:_},hi.default.createElement(Eo,{glyph:u?"eye-open":"eye-close"}))),hi.default.createElement("div",{className:"select-all-toggle control"},hi.default.createElement("button",{disabled:o,onClick:I},hi.default.createElement(Eo,{glyph:"trash"})))))),hi.default.createElement("div",{className:"panel panel-default searchTablePanel"},hi.default.createElement("div",{className:"panel-heading"},hi.default.createElement("div",{className:"content"},hi.default.createElement("div",null,n.length===0?gt("mosaic-maps-selected-no-maps"):`${n.length} ${gt("mosaic-maps-selected-maps")}`)),hi.default.createElement("div",{className:"facet-container"},hi.default.createElement(Jk,{georeferenceMode:!1}))),hi.default.createElement("div",{className:"panel-body"},hi.default.createElement(aN,{enableOverlayLayer:!1,DataProvider:dJ,ListItemComponent:D$e})))))))},k$e=Ggr;p();var ZI=se(Je(),1);var N$e=({data:e,index:t,style:r})=>{let[n,i]=qn(il),o=vr(Sn),u=e.maps[t],d=Ft(u)&&D_(n,u),g=I=>{Ft(I)&&(I.stopPropagation(),I.preventDefault()),Ft(u)&&(d?(i(T=>T.filter(A=>A.getId()!==u.getId())),u.removeFromOverlay(o,Ec)):(i(T=>[...T,u]),u.addToOverlay(o,Ec),AR(o)))},_=I=>{I.key==="Enter"&&g()};return ZI.default.createElement("div",{className:wr("vkf-mosaic-map-result-list-element",d&&"selected")},ZI.default.createElement(pI,{index:t,data:e,style:r},ZI.default.createElement("button",{className:"vkf-add-to-mosaic-map-button",onKeyDown:_,onClick:g},ZI.default.createElement("i",{className:"arrow right"}))))};N$e.propTypes=rt({},pI.propTypes);var R$e=N$e;var q$e=()=>rd.default.createElement(rd.default.Fragment,null,rd.default.createElement(I$e,null),rd.default.createElement("div",{className:"vkf-horizontal-layout"},rd.default.createElement("div",{className:"spatialsearch-container",id:"spatialsearch-container"},rd.default.createElement(d$e,{customQuery:[{term:{type:"single_sheet"}}],MapSearchListItemComponent:R$e,mosaicMode:!0})),rd.default.createElement("div",{className:"selected-maps-container"},rd.default.createElement(k$e,null))));q$e.propTypes={onAddGeoJson:L$e.default.func};var z$e=q$e;p();var B$e=se(Je(),1);p();p();var YI=se(Je(),1),nd=se(Qt(),1);var j$e=e=>{let{activeControl:t=null,className:r="",disabled:n=!1,iconClassName:i="",IconComponent:o,id:u="unknown",onClick:d,title:g="unknown"}=e;return YI.default.createElement("button",{onClick:()=>{d(u)},className:wr("vkf-control-button",r,t===u&&"active",n&&"disabled"),disabled:n},o===void 0?YI.default.createElement(HI,{name:i,size:24}):YI.default.createElement(o,{glyph:i}),YI.default.createElement("span",{className:"text"},g))};j$e.propTypes={activeControl:nd.default.string,className:nd.default.string,disabled:nd.default.bool,id:nd.default.string.isRequired,iconClassName:nd.default.string,IconComponent:nd.default.elementType,onClick:nd.default.func.isRequired,title:nd.default.string};var F$e=j$e;var Q_=F$e;var Hgr=()=>{let e=vr(Eu),t=zi(Qa),r=()=>{e!==void 0&&_$e(e.id).then(()=>{t({id:"mosaic-map-refresh-overview-button",type:"success",text:gt("mosaic-map-success-messages-updated-overview")})}).catch(n=>{console.error(n),t({id:"mosaic-map-refresh-overview-button",type:"danger",text:gt("mosaic-map-error-messages-failed-update-overview")})})};return B$e.default.createElement(Q_,{disabled:e.id===zo,id:"recalculate-overview",iconClassName:"icon-reload",onClick:r,title:gt("mosaic-maps-refresh-overview")})},U$e=Hgr;p();var Nl=se(Je(),1);p();p();var dm=se(Je(),1),Mv=se(Qt(),1);p();p();var Tv=se(Je(),1),Rp=se(Qt(),1);var V$e=(0,Tv.forwardRef)(function(t,r){let{children:n,className:i="",onClick:o,type:u="default",disabled:d=!1,loading:g=!1,title:_,buttonType:I,form:T}=t;return Tv.default.createElement("button",{className:`vkf-button-${u} ${i} ${wr(g&&"loading")}`,disabled:d,onClick:o,ref:r,title:_,type:I,form:T},g===!0&&Tv.default.createElement(Tv.default.Fragment,null,Tv.default.createElement("div",{className:"loading-animation"}),n),g===!1&&n)});V$e.propTypes={children:Rp.default.node,className:Rp.default.string,onClick:Rp.default.func,disabled:Rp.default.bool,loading:Rp.default.bool,title:Rp.default.string,type:Rp.default.oneOf(["primary","default","delete","discard","edit","save"]),buttonType:Rp.default.string,form:Rp.default.string};var $$e=V$e;var G$e=$$e;var H$e=({isOpen:e,onClose:t,modalClassName:r,renderContent:n,renderFooter:i,title:o})=>dm.default.createElement(Uf,{className:"vkf-modal",onHide:t,show:e,dialogClassName:r},dm.default.createElement(UE,null,dm.default.createElement(VE,null,o),dm.default.createElement(G$e,{className:"close-button",onClick:t},dm.default.createElement(hR,{name:"close"}))),dm.default.createElement(jE,null,n()),i!==void 0&&dm.default.createElement(BE,null,i()));H$e.propTypes={isOpen:Mv.default.bool,onClose:Mv.default.func,modalClassName:Mv.default.string,renderContent:Mv.default.func,renderFooter:Mv.default.func,title:Mv.default.string};var W$e=H$e;var OR=W$e;p();var Lp=se(Je(),1);var K$e=se(Y$e(),1);var id={LOADING:0,SAVED:1,CHANGED:2},hJ=()=>{let e=vr(Eu),[t,r]=(0,Lp.useState)(e),n=vr(fm),i=NO(n);(0,Lp.useEffect)(()=>{r(e)},[e.id]),(0,Lp.useEffect)(()=>{n!==os.UPLOADING_CHANGES&&i===os.UPLOADING_CHANGES&&r(e)},[n]);let o;return n===os.UPLOADING_CHANGES?o=id.LOADING:t.id!==zo&&(0,K$e.default)(t,e)?o=id.SAVED:o=id.CHANGED,o},Wgr=()=>{let e=hJ();return Lp.default.createElement("div",{className:"vkf-mosaic-map-save-indicator"},Lp.default.createElement("label",null,e===id.SAVED?gt("mosaic-map-saved-indicator-saved"):gt("mosaic-map-saved-indicator-not-saved")),id.LOADING===e?Lp.default.createElement(T_,null):Lp.default.createElement("div",{className:wr("indicator",e===id.SAVED&&"saved",e===id.CHANGED&&"changed")}))},X$e=Wgr;var Zgr=e=>e!==void 0&&e.length>0,Q$e=e=>Number.isSafeInteger(e),DR=e=>e!==void 0&&e.length>0,Ygr=e=>{let{name:t,raw_map_ids:r,title:n,title_short:i,time_of_publication:o,link_thumb:u,map_scale:d}=e;return DR(t)&&Zgr(r)&&DR(n)&&DR(i)&&Q$e(o)&&DR(u)&&Q$e(d)},Kgr=()=>{let[e,t]=(0,Nl.useState)(!1),[r,n]=qn(fm),i=zi(Qa),[o,u]=qn(Eu),d=hJ(),g=o.id!==zo,_=()=>{t(!1)},I=()=>{t(!0)},T=()=>{o!==void 0&&(n(os.UPLOADING_CHANGES),b$e(o).then(A=>{n(os.DOWNLOADING_LIST),u(dr(rt({},A),{raw_map_ids:o.raw_map_ids})),i({id:"mosaic-map-save-button",type:"success",text:gt("mosaic-map-success-messages-saved")})}).catch(A=>{console.error(A),i({id:"mosaic-map-save-button",type:"danger",text:gt("mosaic-map-error-messages-failed-upload")})}).finally(()=>{_()}))};return Nl.default.createElement(Nl.default.Fragment,null,Nl.default.createElement(OR,{bs:!0,isOpen:e,onClose:_,title:gt("mosaic-map-save-modal-title"),renderContent:()=>Nl.default.createElement("div",{className:"vkf-modal-description-container"},Nl.default.createElement("p",null,gt("mosaic-map-save-modal-content"))),renderFooter:()=>Nl.default.createElement(Nl.default.Fragment,null,Nl.default.createElement(Xa,{bsStyle:"warning",bsSize:"large",onClick:_},gt("mosaic-map-delete-modal-buttonCancel")),Nl.default.createElement(Xa,{bsStyle:"success",bsSize:"large",onClick:T},gt("mosaic-map-save-modal-buttonSave")))}),Nl.default.createElement(Q_,{disabled:!Ygr(o)||r===os.UPLOADING_CHANGES||g&&d!==id.CHANGED,id:"save-mosaic-map",iconClassName:"icon-save",onClick:g?I:T,title:gt("mosaic-maps-save")}))},J$e=Kgr;p();var Rl=se(Je(),1);var Xgr=()=>{let[e,t]=(0,Rl.useState)(!1),[r,n]=qn(Eu),i=zi(fm),o=zi(Qa),u=zi(il),d=vr(Sn),g=()=>{v$e(r.id).then(()=>{_(),n({id:zo}),u([]),Iv(d),i(os.DOWNLOADING_LIST),o({id:"mosaic-map-delete-button",type:"success",text:gt("mosaic-map-success-messages-delete")})}).catch(()=>{_(),o({id:"mosaic-map-delete-button",type:"danger",text:gt("mosaic-map-error-messages-delete-failed")})})},_=()=>{t(!1)},I=()=>{t(!0)};return Rl.default.createElement(Rl.default.Fragment,null,Rl.default.createElement(OR,{bs:!0,isOpen:e,onClose:_,title:gt("mosaic-map-delete-modal-title"),renderContent:()=>Rl.default.createElement("div",{className:"vkf-modal-description-container"},Rl.default.createElement("p",null,gt("mosaic-map-delete-modal-content"))),renderFooter:()=>Rl.default.createElement(Rl.default.Fragment,null,Rl.default.createElement(Xa,{bsStyle:"warning",bsSize:"large",onClick:_},gt("mosaic-map-delete-modal-buttonCancel")),Rl.default.createElement(Xa,{bsStyle:"danger",bsSize:"large",onClick:g},gt("mosaic-map-delete-modal-buttonDelete")))}),Rl.default.createElement(Q_,{className:"delete-mosaic-map-button",disabled:r.id===zo,id:"delete-mosaic-map",iconClassName:"trash",IconComponent:Eo,onClick:I,title:gt("mosaic-maps-delete")}))},eGe=Xgr;p();var co=se(Je(),1);var J_=se(Qt(),1);var tGe=[{id:"name"},{className:"form-group grow",id:"title"},{id:"title_short",className:"small-input"},{className:"small-input",id:"time_of_publication",type:"number",extraProps:{min:0,max:2100}},{id:"link_thumb"},{className:"description",id:"description",extraProps:{allowEmpty:!0}},{className:"small-input",id:"map_scale",type:"number",extraProps:{min:0,max:2e10}}],Qgr=()=>{let e=vr(il),[t,r]=qn(Eu),[,n]=(0,co.useState)(0),i=(d,g)=>{var q;let{allowEmpty:_,min:I,max:T}=(q=g.extraProps)!=null?q:{allowEmpty:!1,min:Number.MIN_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER},A=document.getElementById(d);if(A!==null&&t[d]!==void 0){if(g.type==="string")return A.value.length>0||_?"success":"error";if(g.type==="number"){let z=A.valueAsNumber;return z>=I&&z<=T?"success":"error"}}return null},o=d=>{let g=d.target.id,_=tGe.find(T=>T.id===g).type,I;_==="number"?I=d.target.valueAsNumber:I=d.target.value,r(T=>dr(rt({},T),{[g]:I}))},u=d=>{d.key==="Enter"&&d.target.blur()};return(0,co.useEffect)(()=>{n(Date.now())},[t.id]),(0,co.useEffect)(()=>{r(d=>{var g;return dr(rt({},d),{raw_map_ids:(g=e==null?void 0:e.map(_=>_.getId()))!=null?g:[]})})},[e]),co.default.createElement("div",{className:"vk-mosaic-map-input-panel-content"},co.default.createElement("div",{className:"vk-mosaic-map-input-panel-header"},co.default.createElement("div",{className:"vk-mosaic-map-title"},co.default.createElement("h3",null,t.title===void 0||t.title===""&&t.id===zo?gt("mosaic-maps-input-panel-title"):t.title),co.default.createElement("div",{className:"divider"}),co.default.createElement("h4",{className:"subtitle"},"ID:"," ",t.id===zo?"undefined":t.id)),co.default.createElement(X$e,null)),co.default.createElement("div",{className:"input-container"},co.default.createElement(aY,null,tGe.map((d,g)=>co.default.createElement(rGe,{bsClass:d.className,defaultValue:t[d.id],key:`${t.id}_${g}`,id:d.id,type:d.type,label:gt(`mosaic-maps-input-panel-field_${d.id}`),placeholder:d.id==="name"?gt(`mosaic-maps-input-panel-help_${d.id}`):void 0,onBlur:o,onKeyDown:u,validationState:i(d.id,d)})))))};function rGe(u){var d=u,{id:e,label:t,help:r,bsClass:n,validationState:i}=d,o=Yn(d,["id","label","help","bsClass","validationState"]);return co.default.createElement(mY,{bsClass:n,controlId:e,validationState:i},co.default.createElement("div",{className:"label-container"},co.default.createElement(EZ,null,t)),co.default.createElement(fY,rt({},o)),r&&co.default.createElement(vY,null,r))}rGe.propTypes={bsClass:J_.default.string,id:J_.default.string,label:J_.default.string,help:J_.default.string,validationState:J_.default.string};var nGe=Qgr;p();var Ll=se(Je(),1);var kR=se(Qt(),1);var iGe=e=>{let{onClose:t,text:r,type:n}=e;return Ll.default.createElement("div",{className:"notification-item"},Ll.default.createElement("div",{className:wr("alert","alert-"+n),role:"alert"},Ll.default.createElement("div",{className:"close"},Ll.default.createElement("button",{type:"button",className:"close","aria-label":"Close",onClick:t},Ll.default.createElement("span",{"aria-hidden":"true"},"\xD7"))),Ll.default.createElement("div",{className:"text"},r)))};iGe.propTypes={onClose:kR.default.func,text:kR.default.string,type:kR.default.string};var Jgr=()=>{let e=vr(Qa),t=NO(e),[r,n]=(0,Ll.useState)([]);return(0,Ll.useEffect)(()=>{if(e!==null&&e.id!==null&&e!==t){let i=[...r],o=r.findIndex(u=>u.id===e.id);o>-1?i.splice(o,1,e.text!==null?e:void 0):i.splice(0,0,e),n(i.filter(u=>u!==void 0))}},[e,r,t]),Ll.default.createElement("div",{className:wr("vkf-notifications",r.length===0?"hide":"")},r.map(({type:i,text:o},u)=>Ll.default.createElement(iGe,{key:u,onClose:()=>{let d=[...r];d.splice(u,1),n(d)},type:i,text:o})))},oGe=Jgr;var aGe=()=>Ms.default.createElement(oOe,null,Ms.default.createElement("div",{className:"vkf-app-mosaic-map-container"},Ms.default.createElement(oGe,null),Ms.default.createElement("div",{className:"vkf-mosaic-map-toolbar"},Ms.default.createElement("div",null,Ms.default.createElement(A$e,null)),Ms.default.createElement("div",null,Ms.default.createElement(U$e,null),Ms.default.createElement(J$e,null),Ms.default.createElement(eGe,null))),Ms.default.createElement("div",{className:"vk-mosaic-map-input-panel"},Ms.default.createElement(nGe,null)),Ms.default.createElement("div",{className:"vkf-plugin-map-mosaic",id:"map-container"},Ms.default.createElement(rje,{baseMapUrl:kr.getDefaultBaseMapUrls(),layout:cp.HORIZONTAL,mapViewSettings:kr.getDefaultMapView(),ChildComponent:z$e,loadMarkerIcon:!1}))));aGe.propTypes={};var sGe=aGe;var evr=kr;function tvr(e){uGe.default.render(lGe.default.createElement(sGe,null),e)}return pWe(rvr)})();/*! Bundled license information:

object-assign/index.js:
  (*
  object-assign
  (c) Sindre Sorhus
  @license MIT
  *)

react/cjs/react.production.min.js:
  (** @license React v17.0.2
   * react.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

scheduler/cjs/scheduler.production.min.js:
  (** @license React v0.20.2
   * scheduler.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-dom/cjs/react-dom.production.min.js:
  (** @license React v17.0.2
   * react-dom.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

maplibre-gl/dist/maplibre-gl.js:
  (**
   * MapLibre GL JS
   * @license 3-Clause BSD. Full text of license: https://github.com/maplibre/maplibre-gl-js/blob/v5.7.1/LICENSE.txt
   *)

classnames/index.js:
  (*!
  	Copyright (c) 2018 Jed Watson.
  	Licensed under the MIT License (MIT), see
  	http://jedwatson.github.io/classnames
  *)

react-is/cjs/react-is.production.min.js:
  (** @license React v16.13.1
   * react-is.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

keycode/index.js:
  (*!
   * Programatically add the following
   *)

react-is/cjs/react-is.production.min.js:
  (**
   * @license React
   * react-is.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-is/cjs/react-is.production.min.js:
  (** @license React v17.0.2
   * react-is.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

wms-capabilities/dist/wms-capabilities.mjs:
  (**
   * wms-capabilities @0.6.0
   * @description WMS service Capabilities > JSON, based on openlayers 
   * @license BSD-2-Clause
   * @preserve
   *)

@babel/runtime/helpers/esm/regeneratorRuntime.js:
  (*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE *)
*/