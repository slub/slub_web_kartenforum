@import "../../../../../../../Resources/Private/Scss/Variables";

ul.layermanagement-body {
    .vkf-layermanagement-record {
        position: relative;
        height: 120px;
        width: 100%;
        overflow: hidden;
        padding: 15px;
        border-bottom: 1px solid $color-lightgrey;
        display: flex;
        align-items: center;

        &:has(.record-hidden) {
            .visibility-container,
            .thumbnail-container,
            .metadata-container,
            .opacity-container {
                opacity: 0.4;
            }

            .visibility-container {
                button.disable-layer {
                    background-position: center bottom;
                }
            }
        }

        &:before {
            display: none;
        }

        .visibility-container {
            position: relative;
            display: flex;
            align-items: center;
            padding: 15px 15px 15px 0;
            z-index: 10;

            button.disable-layer {
                position: relative;
                width: 15px;
                height: 26px;
                font-size: 0;
                white-space: nowrap;
                background: $secondary-color
                    url("data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxOC4wLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xIFRpbnkvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEtdGlueS5kdGQiPg0KPHN2ZyB2ZXJzaW9uPSIxLjEiIGJhc2VQcm9maWxlPSJ0aW55IiBpZD0iRWJlbmVfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayINCgkgeD0iMHB4IiB5PSIwcHgiIHZpZXdCb3g9IjAgMCAxMyAxMSIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8cmVjdCBmaWxsPSIjRkZGRkZGIiB3aWR0aD0iMTMiIGhlaWdodD0iMTEiLz4NCjxpbWFnZSB3aWR0aD0iNyIgaGVpZ2h0PSIxIiB4bGluazpocmVmPSJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUFjQUFBQUJDQVlBQUFBU0M3VE9BQUFBQ1hCSVdYTUFBQXNTQUFBTEVnSFMzWDc4QUFBQQpHWFJGV0hSVGIyWjBkMkZ5WlFCQlpHOWlaU0JKYldGblpWSmxZV1I1Y2NsbFBBQUFBQkpKUkVGVWVOcGlaR0Jna0dMQUFRQUNEQUFDCnhBQWM1dm9iWHdBQUFBQkpSVTVFcmtKZ2dnPT0iIHRyYW5zZm9ybT0ibWF0cml4KDEgMCAwIDEgMyAzKSI+DQo8L2ltYWdlPg0KPGltYWdlIHdpZHRoPSI3IiBoZWlnaHQ9IjEiIHhsaW5rOmhyZWY9ImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQWNBQUFBQkNBWUFBQUFTQzdUT0FBQUFDWEJJV1hNQUFBc1NBQUFMRWdIUzNYNzhBQUFBCkdYUkZXSFJUYjJaMGQyRnlaUUJCWkc5aVpTQkpiV0ZuWlZKbFlXUjVjY2xsUEFBQUFCSkpSRUZVZU5waVpHQmdrR0xBQVFBQ0RBQUMKeEFBYzV2b2JYd0FBQUFCSlJVNUVya0pnZ2c9PSIgdHJhbnNmb3JtPSJtYXRyaXgoMSAwIDAgMSAzIDUpIj4NCjwvaW1hZ2U+DQo8aW1hZ2Ugd2lkdGg9IjciIGhlaWdodD0iMSIgeGxpbms6aHJlZj0iZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFBY0FBQUFCQ0FZQUFBQVNDN1RPQUFBQUNYQklXWE1BQUFzU0FBQUxFZ0hTM1g3OEFBQUEKR1hSRldIUlRiMlowZDJGeVpRQkJaRzlpWlNCSmJXRm5aVkpsWVdSNWNjbGxQQUFBQUJKSlJFRlVlTnBpWkdCZ2tHTEFBUUFDREFBQwp4QUFjNXZvYlh3QUFBQUJKUlU1RXJrSmdnZz09IiB0cmFuc2Zvcm09Im1hdHJpeCgxIDAgMCAxIDMgNykiPg0KPC9pbWFnZT4NCjwvc3ZnPg0K")
                    no-repeat left top;
                background-size: 13px 11px;
                border: 1px solid $secondary-color;
                outline: 0;
                display: block;
                margin: 0;
                padding: 0;

                &:before,
                &:after {
                    position: absolute;
                    left: 0;
                    width: 13px;
                    height: 10px;
                    background: #f33;
                    content: "";
                    background-size: 13px 10px;
                }

                &:before {
                    top: -14px;
                    background: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMyIgaGVpZ2h0PSIxMCIgdmlld0JveD0iMCAwIDEzIDEwIj48ZyBzdHJva2U9IiMwMDkyN0UiIHN0cm9rZS13aWR0aD0iMS4wNDQiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBmaWxsPSJub25lIj48cGF0aCBkPSJNMTIuNSA0LjhzLTIuNyAzLjQtNiAzLjQtNi0zLjQtNi0zLjQgMi43LTMuNCA2LTMuNCA2IDMuNCA2IDMuNHoiLz48Y2lyY2xlIGN4PSI2LjUiIGN5PSI0LjgiIHI9IjIuMSIvPjwvZz48L3N2Zz4=")
                        no-repeat 0 0;
                    opacity: 1;
                }

                &:after {
                    bottom: -14px;
                    background: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMyIgaGVpZ2h0PSIxMCIgdmlld0JveD0iMCAwIDEzIDEwIj48ZyBzdHJva2U9IiMwMDkyN0UiIHN0cm9rZS13aWR0aD0iMS4wNDQiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBmaWxsPSJub25lIj48cGF0aCBkPSJNMTAuNCAzLjFjMS4zLjkgMi4xIDEuOSAyLjEgMS45cy0yLjcgMy40LTYgMy40Yy0uNSAwLTEuMS0uMS0xLjYtLjNNMi42IDYuOWMtMS4zLS45LTIuMS0xLjktMi4xLTEuOXMyLjctMy40IDYtMy40Yy40IDAgLjkuMSAxLjMuMk00LjQgNWMwLTEuMi45LTIuMSAyLjEtMi4xTTguNiA1YzAgMS4yLS45IDIuMS0yLjEgMi4xTTExLjYtLjFsLTEwLjIgMTAuMiIvPjwvZz48L3N2Zz4=")
                        no-repeat 0 0;
                    opacity: 0.4;
                }

                &:focus-visible {
                    outline: 2px solid black;
                }
            }
        }

        .thumbnail-container {
            position: relative;
            flex: 0 0 70px;
            padding: 2px;
            border-radius: 0;
            border: 1px solid $color-lightgrey;
            background: transparent;

            &:hover {
                border: 0 none;
            }

            img {
                max-width: 100%;
                border: 1px solid #999;
                margin: 0;
            }

            .geojson-badge,
            .mosaic-badge {
                position: absolute;
                top: -5px;
                right: -5px;
                padding: 3px 5px;
                line-height: 1;
                background-color: rgb(108, 103, 88);
                border-radius: 10px;
                font-size: 11px;
                font-weight: 700;
                border: 1px solid white;
                color: white;
                width: 58px;
                align-content: center;
                text-align: center;
            }
        }

        .metadata-container {
            position: relative;
            margin-left: 15px;
            flex: 1 1 auto;
            color: $color-grey;
            font-size: 12px;

            h3 {
                font-size: 16px;
                font-weight: 500;
                text-transform: uppercase;
                margin: 0;
                line-height: 1.2;
                color: $secondary-color-dark;

                word-break: break-all;
                overflow: hidden;
                display: -webkit-box;
                line-clamp: 3;
                -webkit-line-clamp: 3;
                -webkit-box-orient: vertical;
                text-overflow: ellipsis;
            }
        }

        .control-container {
            position: absolute;
            inset: 0;
            padding: 15px 60px 15px 50px;
            display: flex;
            justify-content: space-around;
            align-items: center;
            z-index: 5;
            background: rgba(white, 0.7);
            transform: scale(0);
            transition: $transition;
            opacity: 0;
            pointer-events: none;

            button {
                position: relative;
                border: none;
                width: 40px;
                height: 40px;
                padding: 10px;
                background: $secondary-color-dark;
                appearance: none;
                box-shadow: $shadow;
                transition: $transition;

                &.show-original {
                    display: none;
                }

                &:hover {
                    background-color: $secondary-color;
                }

                svg {
                    fill: white;
                    fill-rule: nonzero;
                }
            }

            .opacity-container {
                position: absolute;
                right: 30px;
                bottom: 10px;
                left: 30px;
                display: block;
            }
        }

        .drag-container {
            position: relative;
            padding-left: 15px;
            line-height: 1;
        }

        &.show-actions {
            .control-container {
                transform: scale(1);
                opacity: 1;
                pointer-events: auto;
            }
        }

        .no-touchevents & {
            &.force-hover {
                background: rgba(0, 177, 158, 0.1);

                .metdata-container,
                a.thumbnail {
                    opacity: 0.3;
                }
            }
        }

        &.drag-and-drop-placeholder {
            background-color: rgba($secondary-color, 0.3);
            box-shadow: inset 0 0 15px rgba(0, 0, 0, 0.5);
            opacity: 0.4;
        }

        @media screen and (min-width: $tabletLandscapeViewportWidth) {
            height: 100px;

            .visibility-container {
                button.disable-layer {
                    transition: $transition;
                }
            }
            .control-container {
                padding: 15px 55px 30px 45px;
                justify-content: space-between;

                button {
                    &.show-original {
                        display: block;
                    }
                }

                .opacity-container {
                    right: 15px;
                    left: 15px;
                }
            }
            .drag-container {
                position: absolute;
                top: 50%;
                right: 15px;
                margin-top: -17px;
                transition: $transition;
                z-index: 10;
            }

            .opacity-container {
                display: block;
            }
            .no-touchevents & {
                .drag-container {
                    right: -50px;
                }

                &.force-hover {
                    .visibility-container {
                        button.disable-layer {
                            background-color: $secondary-color-dark;
                            border-color: $secondary-color-dark;
                        }
                    }

                    .control-container {
                        transform: scale(1);
                        opacity: 1;
                        pointer-events: auto;
                    }

                    .drag-container {
                        right: 15px;
                    }
                }
            }
        }
    }
}
